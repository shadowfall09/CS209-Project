{"items":[{"tags":["java","opencv","face-recognition","training-data","bytedeco-javacv"],"owner":{"account_id":15473116,"reputation":76,"user_id":14473479,"display_name":"gutey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681808891,"creation_date":1681656110,"question_id":76028414,"body_markdown":"I am trying to write a simple software that, given a set of images, recognise if the person I am looking is in that set.\r\nBy looking at the openCV doc I came across the class `FaceRecognizer`. I have tried to look for examples and this one was the only one I was able to find:\r\nhttps://github.com/bytedeco/javacv/blob/master/samples/OpenCVFaceRecognizer.java\r\n\r\nI have made some replacements because some classes were not available in Java since I am not using `org.bytedeco`. This is the updated code:\r\n\r\n\r\n```\r\n/**\r\n * I couldn&#39;t find any tutorial on how to perform face recognition using OpenCV and Java,\r\n * so I decided to share a viable solution here. The solution is very inefficient in its\r\n * current form as the training model is built at each run, however it shows what&#39;s needed\r\n * to make it work.\r\n *\r\n * The class below takes two arguments: The path to the directory containing the training\r\n * faces and the path to the image you want to classify. Not that all images has to be of\r\n * the same size and that the faces already has to be cropped out of their original images\r\n * (Take a look here http://fivedots.coe.psu.ac.th/~ad/jg/nui07/index.html if you haven&#39;t\r\n * done the face detection yet).\r\n *\r\n * For the simplicity of this post, the class also requires that the training images have\r\n * filename format: &lt;label&gt;-rest_of_filename.png. For example:\r\n *\r\n * 1-jon_doe_1.png\r\n * 1-jon_doe_2.png\r\n * 2-jane_doe_1.png\r\n * 2-jane_doe_2.png\r\n * ...and so on.\r\n *\r\n * Source: http://pcbje.com/2012/12/doing-face-recognition-with-javacv/\r\n *\r\n * @author Petter Christian Bjelland\r\n */\r\npublic class OpenCVFaceRecognizer {\r\n    public static void main(String[] args) {\r\n        String trainingDir = args[0];\r\n        Mat testImage = Imgcodecs.imread(args[1], Imgcodecs.IMREAD_GRAYSCALE);\r\n\r\n        File root = new File(trainingDir);\r\n\r\n        FilenameFilter imgFilter = new FilenameFilter() {\r\n            public boolean accept(File dir, String name) {\r\n                name = name.toLowerCase();\r\n                return name.endsWith(&quot;.jpg&quot;) || name.endsWith(&quot;.pgm&quot;) || name.endsWith(&quot;.png&quot;);\r\n            }\r\n        };\r\n\r\n        File[] imageFiles = root.listFiles(imgFilter);\r\n\r\n        List&lt;Mat&gt; images = new ArrayList&lt;&gt;(imageFiles.length);\r\n\r\n        Mat labels = new Mat(imageFiles.length, 1, CvType.CV_32SC1);\r\n        IntBuffer labelsBuf = labels.createBuffer();\r\n\r\n        int counter = 0;\r\n\r\n        for (File image : imageFiles) {\r\n            Mat img = Imgcodecs.imread(image.getAbsolutePath(), Imgcodecs.IMREAD_GRAYSCALE);\r\n\r\n            int label = Integer.parseInt(image.getName().split(&quot;\\\\-&quot;)[0]);\r\n\r\n            images.add(counter, img);\r\n\r\n            labelsBuf.put(counter, label);\r\n\r\n            counter++;\r\n        }\r\n\r\n        FaceRecognizer faceRecognizer = FisherFaceRecognizer.create();\r\n        // FaceRecognizer faceRecognizer = EigenFaceRecognizer.create();\r\n        // FaceRecognizer faceRecognizer = LBPHFaceRecognizer.create();\r\n\r\n        faceRecognizer.train(images, labels);\r\n\r\n        //IntPointer label = new IntPointer(1);\r\n        int[] label = new int [1];\r\n        //DoublePointer confidence = new DoublePointer(1);\r\n        double[] confidence = new double [1];\r\n        faceRecognizer.predict(testImage, label, confidence);\r\n        int predictedLabel = label[0];\r\n\r\n        System.out.println(&quot;Predicted label: &quot; + predictedLabel);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nMy questions are:\r\n\r\n1. `.createBuffer()` does not exist for the `Mat` class in the opencv dependency. So, how can I replace it?\r\n2. Why do all images have to be of the same size? Because of course the training directory has images of different sizes. \r\n3. Why the faces have to be already cropped out? I am able to successfully detect a face by drawing a rectangle (if you want I can share the code here as well). So, I should save the detected faces to file or I can simply create a new instance of BufferedImages with the area of the detected face?\r\n4. What are labels and what&#39;s their use? Simply to determine that those photos represent the same person?\r\nFor instance:\r\n1-jon_at_the_sea.png\r\n1-jon_at_the_beach.png\r\n\r\nThank you.\r\n","title":"OpenCV Example with FaceRecognizer. Mat.createBuffer() does not exist. Why all the images have to be of the same size and to be cropped out?","body":"<p>I am trying to write a simple software that, given a set of images, recognise if the person I am looking is in that set.\nBy looking at the openCV doc I came across the class <code>FaceRecognizer</code>. I have tried to look for examples and this one was the only one I was able to find:\n<a href=\"https://github.com/bytedeco/javacv/blob/master/samples/OpenCVFaceRecognizer.java\" rel=\"nofollow noreferrer\">https://github.com/bytedeco/javacv/blob/master/samples/OpenCVFaceRecognizer.java</a></p>\n<p>I have made some replacements because some classes were not available in Java since I am not using <code>org.bytedeco</code>. This is the updated code:</p>\n<pre><code>/**\n * I couldn't find any tutorial on how to perform face recognition using OpenCV and Java,\n * so I decided to share a viable solution here. The solution is very inefficient in its\n * current form as the training model is built at each run, however it shows what's needed\n * to make it work.\n *\n * The class below takes two arguments: The path to the directory containing the training\n * faces and the path to the image you want to classify. Not that all images has to be of\n * the same size and that the faces already has to be cropped out of their original images\n * (Take a look here http://fivedots.coe.psu.ac.th/~ad/jg/nui07/index.html if you haven't\n * done the face detection yet).\n *\n * For the simplicity of this post, the class also requires that the training images have\n * filename format: &lt;label&gt;-rest_of_filename.png. For example:\n *\n * 1-jon_doe_1.png\n * 1-jon_doe_2.png\n * 2-jane_doe_1.png\n * 2-jane_doe_2.png\n * ...and so on.\n *\n * Source: http://pcbje.com/2012/12/doing-face-recognition-with-javacv/\n *\n * @author Petter Christian Bjelland\n */\npublic class OpenCVFaceRecognizer {\n    public static void main(String[] args) {\n        String trainingDir = args[0];\n        Mat testImage = Imgcodecs.imread(args[1], Imgcodecs.IMREAD_GRAYSCALE);\n\n        File root = new File(trainingDir);\n\n        FilenameFilter imgFilter = new FilenameFilter() {\n            public boolean accept(File dir, String name) {\n                name = name.toLowerCase();\n                return name.endsWith(&quot;.jpg&quot;) || name.endsWith(&quot;.pgm&quot;) || name.endsWith(&quot;.png&quot;);\n            }\n        };\n\n        File[] imageFiles = root.listFiles(imgFilter);\n\n        List&lt;Mat&gt; images = new ArrayList&lt;&gt;(imageFiles.length);\n\n        Mat labels = new Mat(imageFiles.length, 1, CvType.CV_32SC1);\n        IntBuffer labelsBuf = labels.createBuffer();\n\n        int counter = 0;\n\n        for (File image : imageFiles) {\n            Mat img = Imgcodecs.imread(image.getAbsolutePath(), Imgcodecs.IMREAD_GRAYSCALE);\n\n            int label = Integer.parseInt(image.getName().split(&quot;\\\\-&quot;)[0]);\n\n            images.add(counter, img);\n\n            labelsBuf.put(counter, label);\n\n            counter++;\n        }\n\n        FaceRecognizer faceRecognizer = FisherFaceRecognizer.create();\n        // FaceRecognizer faceRecognizer = EigenFaceRecognizer.create();\n        // FaceRecognizer faceRecognizer = LBPHFaceRecognizer.create();\n\n        faceRecognizer.train(images, labels);\n\n        //IntPointer label = new IntPointer(1);\n        int[] label = new int [1];\n        //DoublePointer confidence = new DoublePointer(1);\n        double[] confidence = new double [1];\n        faceRecognizer.predict(testImage, label, confidence);\n        int predictedLabel = label[0];\n\n        System.out.println(&quot;Predicted label: &quot; + predictedLabel);\n    }\n}\n\n</code></pre>\n<p>My questions are:</p>\n<ol>\n<li><code>.createBuffer()</code> does not exist for the <code>Mat</code> class in the opencv dependency. So, how can I replace it?</li>\n<li>Why do all images have to be of the same size? Because of course the training directory has images of different sizes.</li>\n<li>Why the faces have to be already cropped out? I am able to successfully detect a face by drawing a rectangle (if you want I can share the code here as well). So, I should save the detected faces to file or I can simply create a new instance of BufferedImages with the area of the detected face?</li>\n<li>What are labels and what's their use? Simply to determine that those photos represent the same person?\nFor instance:\n1-jon_at_the_sea.png\n1-jon_at_the_beach.png</li>\n</ol>\n<p>Thank you.</p>\n"},{"tags":["java","date","comparison"],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":1,"up_vote_count":686,"is_accepted":true,"score":685,"last_activity_date":1474225678,"creation_date":1270644614,"answer_id":2592513,"question_id":2592501,"body_markdown":"[Date][1] has [before][2] and [after][3] methods and can be [compared to each other][4] as follows:\r\n\r\n    if(todayDate.after(historyDate) &amp;&amp; todayDate.before(futureDate)) {\r\n        // In between\r\n    }\r\n\r\nFor an inclusive comparison:\r\n\r\n    if(!historyDate.after(todayDate) &amp;&amp; !futureDate.before(todayDate)) {\r\n        /* historyDate &lt;= todayDate &lt;= futureDate */ \r\n    }\r\n\r\nYou could also give [Joda-Time][5] a go, but note that:\r\n\r\n&gt; Joda-Time is the *de facto* standard date and time library for Java prior to Java SE 8. Users are now asked to migrate to [java.time][6] ([JSR-310][7]).\r\n\r\nBack-ports are available for Java 6 and 7 as well as Android.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Date.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Date.html#before(java.util.Date)\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/util/Date.html#after(java.util.Date)\r\n  [4]: http://java.sun.com/javase/6/docs/api/java/util/Date.html#compareTo(java.util.Date)\r\n  [5]: http://www.joda.org/joda-time/\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [7]: https://jcp.org/en/jsr/detail?id=310","title":"How to compare dates in Java?","body":"<p><a href=\"http://java.sun.com/javase/6/docs/api/java/util/Date.html\" rel=\"noreferrer\">Date</a> has <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Date.html#before(java.util.Date)\" rel=\"noreferrer\">before</a> and <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Date.html#after(java.util.Date)\" rel=\"noreferrer\">after</a> methods and can be <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Date.html#compareTo(java.util.Date)\" rel=\"noreferrer\">compared to each other</a> as follows:</p>\n\n<pre><code>if(todayDate.after(historyDate) &amp;&amp; todayDate.before(futureDate)) {\n    // In between\n}\n</code></pre>\n\n<p>For an inclusive comparison:</p>\n\n<pre><code>if(!historyDate.after(todayDate) &amp;&amp; !futureDate.before(todayDate)) {\n    /* historyDate &lt;= todayDate &lt;= futureDate */ \n}\n</code></pre>\n\n<p>You could also give <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> a go, but note that:</p>\n\n<blockquote>\n  <p>Joda-Time is the <em>de facto</em> standard date and time library for Java prior to Java SE 8. Users are now asked to migrate to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> (<a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR-310</a>).</p>\n</blockquote>\n\n<p>Back-ports are available for Java 6 and 7 as well as Android.</p>\n"},{"tags":[],"owner":{"account_id":66537,"reputation":10733,"user_id":195130,"accept_rate":83,"display_name":"Chandra Sekar"},"down_vote_count":1,"up_vote_count":148,"is_accepted":false,"score":147,"last_activity_date":1522082540,"creation_date":1270644619,"answer_id":2592514,"question_id":2592501,"body_markdown":"Use [compareTo][1]:\r\n\r\n`date1.compareTo(date2);`\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#compareTo-java.util.Date-\r\n","title":"How to compare dates in Java?","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#compareTo-java.util.Date-\" rel=\"noreferrer\">compareTo</a>:</p>\n\n<p><code>date1.compareTo(date2);</code></p>\n"},{"tags":[],"owner":{"account_id":118608,"reputation":386,"user_id":309749,"display_name":"sam"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1339224889,"creation_date":1270644972,"answer_id":2592549,"question_id":2592501,"body_markdown":"Compare the two dates:\r\n\r\n      Date today = new Date();                 \t \r\n      Date myDate = new Date(today.getYear(),today.getMonth()-1,today.getDay());\r\n      System.out.println(&quot;My Date is&quot;+myDate);    \r\n      System.out.println(&quot;Today Date is&quot;+today);\r\n      if (today.compareTo(myDate)&lt;0)\r\n          System.out.println(&quot;Today Date is Lesser than my Date&quot;);\r\n      else if (today.compareTo(myDate)&gt;0)\r\n          System.out.println(&quot;Today Date is Greater than my date&quot;); \r\n      else\r\n          System.out.println(&quot;Both Dates are equal&quot;); \r\n","title":"How to compare dates in Java?","body":"<p>Compare the two dates:</p>\n\n<pre><code>  Date today = new Date();                   \n  Date myDate = new Date(today.getYear(),today.getMonth()-1,today.getDay());\n  System.out.println(\"My Date is\"+myDate);    \n  System.out.println(\"Today Date is\"+today);\n  if (today.compareTo(myDate)&lt;0)\n      System.out.println(\"Today Date is Lesser than my Date\");\n  else if (today.compareTo(myDate)&gt;0)\n      System.out.println(\"Today Date is Greater than my date\"); \n  else\n      System.out.println(\"Both Dates are equal\"); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":41924,"reputation":2366,"user_id":122003,"accept_rate":58,"display_name":"Everyone"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1270646301,"creation_date":1270646301,"answer_id":2592689,"question_id":2592501,"body_markdown":"Use getTime() to get the numeric value of the date, and then compare using the returned values.\r\n","title":"How to compare dates in Java?","body":"<p>Use getTime() to get the numeric value of the date, and then compare using the returned values.</p>\n"},{"tags":[],"owner":{"account_id":2582165,"reputation":4567,"user_id":2746582,"display_name":"Brownsoo Han"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385537299,"creation_date":1385537299,"answer_id":20236301,"question_id":2592501,"body_markdown":"This code determine today is in some duration.. based on KOREA locale\r\n \r\n        Calendar cstart = Calendar.getInstance(Locale.KOREA);\r\n        cstart.clear();\r\n        cstart.set(startyear, startmonth, startday);\r\n        \r\n        \r\n        Calendar cend = Calendar.getInstance(Locale.KOREA);\r\n        cend.clear();\r\n        cend.set(endyear, endmonth, endday);\r\n        \r\n        Calendar c = Calendar.getInstance(Locale.KOREA);\r\n        \r\n        if(c.after(cstart) &amp;&amp; c.before(cend)) {\r\n        \t// today is in startyear/startmonth/startday ~ endyear/endmonth/endday\r\n        }","title":"How to compare dates in Java?","body":"<p>This code determine today is in some duration.. based on KOREA locale</p>\n\n<pre><code>    Calendar cstart = Calendar.getInstance(Locale.KOREA);\n    cstart.clear();\n    cstart.set(startyear, startmonth, startday);\n\n\n    Calendar cend = Calendar.getInstance(Locale.KOREA);\n    cend.clear();\n    cend.set(endyear, endmonth, endday);\n\n    Calendar c = Calendar.getInstance(Locale.KOREA);\n\n    if(c.after(cstart) &amp;&amp; c.before(cend)) {\n        // today is in startyear/startmonth/startday ~ endyear/endmonth/endday\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":38907,"reputation":53159,"user_id":111988,"accept_rate":74,"display_name":"Sunil Kumar Sahoo"},"down_vote_count":0,"up_vote_count":131,"is_accepted":false,"score":131,"last_activity_date":1681808868,"creation_date":1389597964,"answer_id":21085919,"question_id":2592501,"body_markdown":"Following are most common way of comparing `dates` (my preference is **Approach 1**):\r\n\r\n**Approach 1: Using `Date.before()`, `Date.after()` and `Date.equals(`)**\r\n\r\n    if (date1.after(date2)) {\r\n        System.out.println(&quot;Date1 is after Date2&quot;);\r\n    }\r\n    \r\n    if (date1.before(date2)) {\r\n        System.out.println(&quot;Date1 is before Date2&quot;);\r\n    }\r\n    \r\n    if (date1.equals(date2)) {\r\n        System.out.println(&quot;Date1 is equal Date2&quot;);\r\n    }\r\n\r\n**Approach 2: `Date.compareTo()`**\r\n\r\n    if (date1.compareTo(date2) &gt; 0) {\r\n        System.out.println(&quot;Date1 is after Date2&quot;);\r\n    } else if (date1.compareTo(date2) &lt; 0) {\r\n        System.out.println(&quot;Date1 is before Date2&quot;);\r\n    } else {\r\n        System.out.println(&quot;Date1 is equal to Date2&quot;);\r\n    }\r\n\r\n**Approach 3:  `Calendar.before()`, `Calendar.after(`) and `Calendar.equals()`**\r\n\r\n    Calendar cal1 = Calendar.getInstance();\r\n    Calendar cal2 = Calendar.getInstance();\r\n    cal1.setTime(date1);\r\n    cal2.setTime(date2);\r\n    \r\n    if (cal1.after(cal2)) {\r\n        System.out.println(&quot;Date1 is after Date2&quot;);\r\n    }\r\n    \r\n    if (cal1.before(cal2)) {\r\n        System.out.println(&quot;Date1 is before Date2&quot;);\r\n    }\r\n    \r\n    if (cal1.equals(cal2)) {\r\n        System.out.println(&quot;Date1 is equal Date2&quot;);\r\n    }","title":"How to compare dates in Java?","body":"<p>Following are most common way of comparing <code>dates</code> (my preference is <strong>Approach 1</strong>):</p>\n<p><strong>Approach 1: Using <code>Date.before()</code>, <code>Date.after()</code> and <code>Date.equals(</code>)</strong></p>\n<pre><code>if (date1.after(date2)) {\n    System.out.println(&quot;Date1 is after Date2&quot;);\n}\n\nif (date1.before(date2)) {\n    System.out.println(&quot;Date1 is before Date2&quot;);\n}\n\nif (date1.equals(date2)) {\n    System.out.println(&quot;Date1 is equal Date2&quot;);\n}\n</code></pre>\n<p><strong>Approach 2: <code>Date.compareTo()</code></strong></p>\n<pre><code>if (date1.compareTo(date2) &gt; 0) {\n    System.out.println(&quot;Date1 is after Date2&quot;);\n} else if (date1.compareTo(date2) &lt; 0) {\n    System.out.println(&quot;Date1 is before Date2&quot;);\n} else {\n    System.out.println(&quot;Date1 is equal to Date2&quot;);\n}\n</code></pre>\n<p><strong>Approach 3:  <code>Calendar.before()</code>, <code>Calendar.after(</code>) and <code>Calendar.equals()</code></strong></p>\n<pre><code>Calendar cal1 = Calendar.getInstance();\nCalendar cal2 = Calendar.getInstance();\ncal1.setTime(date1);\ncal2.setTime(date2);\n\nif (cal1.after(cal2)) {\n    System.out.println(&quot;Date1 is after Date2&quot;);\n}\n\nif (cal1.before(cal2)) {\n    System.out.println(&quot;Date1 is before Date2&quot;);\n}\n\nif (cal1.equals(cal2)) {\n    System.out.println(&quot;Date1 is equal Date2&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1594330505,"creation_date":1390970308,"answer_id":21422228,"question_id":2592501,"body_markdown":"# tl;dr\r\n\r\n    LocalDate today = LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; ) ) ;\r\n    Boolean isBetween = \r\n        ( ! today.isBefore( localDate1 ) )  // “not-before” is short for “is-equal-to or later-than”.\r\n        &amp;&amp;\r\n        today.isBefore( localDate3 ) ; \r\n\r\n\r\n\r\nOr, better, if you add the *ThreeTen-Extra* library to your project. \r\n\r\n    LocalDateRange.of(\r\n        LocalDate.of( … ) ,\r\n        LocalDate.of( … )\r\n    ).contains(\r\n        LocalDate.now()\r\n    )\r\n\r\nHalf-open approach, where beginning is *inclusive* while ending is *exclusive*. \r\n\r\n# Bad Choice of Format\r\n\r\nBy the way, that is a bad choice of format for a text representation of a date or date-time value. Whenever possible, stick with the standard [ISO 8601][1] formats. ISO 8601 formats are unambiguous, understandable across human cultures, and are easy to parse by machine. \r\n\r\nFor a date-only value, the standard format is YYYY-MM-DD. Note how this format has the benefit of being chronological when sorted alphabetically.\r\n\r\n# `LocalDate`\r\n\r\nThe [`LocalDate`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html) class represents a date-only value without time-of-day and without time zone.\r\n\r\nA time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in [Paris France](https://en.wikipedia.org/wiki/Europe/Paris) is a new day while still “yesterday” in [Montr&#233;al Qu&#233;bec](https://en.wikipedia.org/wiki/America/Montreal).\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; );\r\n    LocalDate today = LocalDate.now( z );\r\n\r\n[![Table of all date-time types in Java, both modern and legacy][2]][2]\r\n\r\n# `DateTimeFormatter`\r\n\r\nAs your input strings are non-standard format, we must define a formatting pattern to match.\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu&quot; );\r\n\r\nUse that to parse the input strings.\r\n\r\n    LocalDate start = LocalDate.parse( &quot;22-02-2010&quot; , f );\r\n    LocalDate stop = LocalDate.parse( &quot;25-12-2010&quot; , f );\r\n\r\nIn date-time work, usually best to define a span of time by the Half-Open approach where the beginning is *inclusive* while the ending is *exclusive*. So we want to know if today is the same or later than the start and also before the stop. A briefer way of saying “is the same or later than the start” is “not before the start”.\r\n\r\n    Boolean intervalContainsToday = ( ! today.isBefore( start ) ) &amp;&amp; today.isBefore( stop ) ;\r\n\r\nSee [the Answer by gstackoverflow](https://stackoverflow.com/a/33693122/642706) showing the list of comparison methods you can call.\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), a process known as [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n----------\r\nUPDATE: This “Joda-Time” section below is left intact as history. The [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes. \r\n\r\nJoda-Time\r\n==\r\n\r\nOther answers are correct with regard to the bundled java.util.Date and java.util.Calendar classes. But those classes are notoriously troublesome. So here&#39;s some example code using the [Joda-Time][3] 2.3 library.\r\n\r\nIf you truly want a date without any time portion and no time zone, then use the [`LocalDate`][4] class in Joda-Time. That class provides methods of comparison including `compareTo` (used with [Java Comparators][5]), `isBefore`, `isAfter`, and `isEqual`.\r\n\r\nInputs…\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String string1 = &quot;22-02-2010&quot;;\r\n    String string2 = &quot;07-04-2010&quot;;\r\n    String string3 = &quot;25-12-2010&quot;;\r\n\r\nDefine a formatter describing the input strings…\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    DateTimeFormatter formatter = DateTimeFormat.forPattern( &quot;dd-MM-yyyy&quot; );\r\n\r\nUse formatter to parse the strings into LocalDate objects…\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    LocalDate localDate1 = formatter.parseLocalDate( string1 );\r\n    LocalDate localDate2 = formatter.parseLocalDate( string2 );\r\n    LocalDate localDate3 = formatter.parseLocalDate( string3 );\r\n\r\n    boolean is1After2 = localDate1.isAfter( localDate2 );\r\n    boolean is2Before3 = localDate2.isBefore( localDate3 );\r\n\r\nDump to console…\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    System.out.println( &quot;Dates: &quot; + localDate1 + &quot; &quot; + localDate2 + &quot; &quot; + localDate3 );\r\n    System.out.println( &quot;is1After2 &quot; + is1After2 );\r\n    System.out.println( &quot;is2Before3 &quot; + is2Before3 );\r\n\r\nWhen run…\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    Dates: 2010-02-22 2010-04-07 2010-12-25\r\n    is1After2 false\r\n    is2Before3 true\r\n\r\nSo see if the second is between the other two (exclusively, meaning not equal to either endpoint)…\r\n\r\n    boolean is2Between1And3 = ( ( localDate2.isAfter( localDate1 ) ) &amp;&amp; ( localDate2.isBefore( localDate3 ) ) );\r\n\r\nWorking With Spans Of Time\r\n==\r\n\r\nIf you are working with spans of time, I suggest exploring in Joda-Time the classes: [Duration][6], [Interval][7], and [Period][8]. Methods such as `overlap` and `contains` make comparisons easy.\r\n\r\nFor text representations, look at the ISO 8601 standard’s:\r\n\r\n - [duration][9]&lt;br&gt;Format: PnYnMnDTnHnMnS&lt;br&gt;Example: P3Y6M4DT12H30M5S&lt;br /&gt;(Means “three years, six months, four days, twelve hours, thirty minutes, and five seconds”)\r\n - [interval][10]&lt;br&gt;Format: start/end&lt;br&gt;Example: 2007-03-01T13:00:00Z/2008-05-11T15:30:00Z\r\n\r\nJoda-Time classes can work with strings in both those formats, both as input (parsing) and output (generating strings).\r\n\r\nJoda-Time performs comparisons using the **Half-Open** approach where the beginning of the span is *inclusive* while the ending is *exclusive*. This approach is a wise one for handling spans of time. Search StackOverflow for more info.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://i.stack.imgur.com/G2e2V.png\r\n  [3]: http://www.joda.org/joda-time/\r\n  [4]: http://www.joda.org/joda-time/apidocs/org/joda/time/LocalDate.html\r\n  [5]: http://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html\r\n  [6]: http://www.joda.org/joda-time/apidocs/org/joda/time/Duration.html\r\n  [7]: http://www.joda.org/joda-time/apidocs/org/joda/time/Interval.html\r\n  [8]: http://www.joda.org/joda-time/apidocs/org/joda/time/Period.html\r\n  [9]: http://en.wikipedia.org/wiki/ISO_8601#Durations\r\n  [10]: http://en.wikipedia.org/wiki/ISO_8601#Time_intervals","title":"How to compare dates in Java?","body":"<h1>tl;dr</h1>\n<pre><code>LocalDate today = LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; ) ) ;\nBoolean isBetween = \n    ( ! today.isBefore( localDate1 ) )  // “not-before” is short for “is-equal-to or later-than”.\n    &amp;&amp;\n    today.isBefore( localDate3 ) ; \n</code></pre>\n<p>Or, better, if you add the <em>ThreeTen-Extra</em> library to your project.</p>\n<pre><code>LocalDateRange.of(\n    LocalDate.of( … ) ,\n    LocalDate.of( … )\n).contains(\n    LocalDate.now()\n)\n</code></pre>\n<p>Half-open approach, where beginning is <em>inclusive</em> while ending is <em>exclusive</em>.</p>\n<h1>Bad Choice of Format</h1>\n<p>By the way, that is a bad choice of format for a text representation of a date or date-time value. Whenever possible, stick with the standard <a href=\"http://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> formats. ISO 8601 formats are unambiguous, understandable across human cultures, and are easy to parse by machine.</p>\n<p>For a date-only value, the standard format is YYYY-MM-DD. Note how this format has the benefit of being chronological when sorted alphabetically.</p>\n<h1><code>LocalDate</code></h1>\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> class represents a date-only value without time-of-day and without time zone.</p>\n<p>A time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in <a href=\"https://en.wikipedia.org/wiki/Europe/Paris\" rel=\"noreferrer\">Paris France</a> is a new day while still “yesterday” in <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"noreferrer\">Montréal Québec</a>.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Montreal&quot; );\nLocalDate today = LocalDate.now( z );\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/G2e2V.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/G2e2V.png\" alt=\"Table of all date-time types in Java, both modern and legacy\" /></a></p>\n<h1><code>DateTimeFormatter</code></h1>\n<p>As your input strings are non-standard format, we must define a formatting pattern to match.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu&quot; );\n</code></pre>\n<p>Use that to parse the input strings.</p>\n<pre><code>LocalDate start = LocalDate.parse( &quot;22-02-2010&quot; , f );\nLocalDate stop = LocalDate.parse( &quot;25-12-2010&quot; , f );\n</code></pre>\n<p>In date-time work, usually best to define a span of time by the Half-Open approach where the beginning is <em>inclusive</em> while the ending is <em>exclusive</em>. So we want to know if today is the same or later than the start and also before the stop. A briefer way of saying “is the same or later than the start” is “not before the start”.</p>\n<pre><code>Boolean intervalContainsToday = ( ! today.isBefore( start ) ) &amp;&amp; today.isBefore( stop ) ;\n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/a/33693122/642706\">the Answer by gstackoverflow</a> showing the list of comparison methods you can call.</p>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), a process known as <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n<hr />\n<p>UPDATE: This “Joda-Time” section below is left intact as history. The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<h1>Joda-Time</h1>\n<p>Other answers are correct with regard to the bundled java.util.Date and java.util.Calendar classes. But those classes are notoriously troublesome. So here's some example code using the <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> 2.3 library.</p>\n<p>If you truly want a date without any time portion and no time zone, then use the <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> class in Joda-Time. That class provides methods of comparison including <code>compareTo</code> (used with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html\" rel=\"noreferrer\">Java Comparators</a>), <code>isBefore</code>, <code>isAfter</code>, and <code>isEqual</code>.</p>\n<p>Inputs…</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string1 = &quot;22-02-2010&quot;;\nString string2 = &quot;07-04-2010&quot;;\nString string3 = &quot;25-12-2010&quot;;\n</code></pre>\n<p>Define a formatter describing the input strings…</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter formatter = DateTimeFormat.forPattern( &quot;dd-MM-yyyy&quot; );\n</code></pre>\n<p>Use formatter to parse the strings into LocalDate objects…</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate localDate1 = formatter.parseLocalDate( string1 );\nLocalDate localDate2 = formatter.parseLocalDate( string2 );\nLocalDate localDate3 = formatter.parseLocalDate( string3 );\n\nboolean is1After2 = localDate1.isAfter( localDate2 );\nboolean is2Before3 = localDate2.isBefore( localDate3 );\n</code></pre>\n<p>Dump to console…</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( &quot;Dates: &quot; + localDate1 + &quot; &quot; + localDate2 + &quot; &quot; + localDate3 );\nSystem.out.println( &quot;is1After2 &quot; + is1After2 );\nSystem.out.println( &quot;is2Before3 &quot; + is2Before3 );\n</code></pre>\n<p>When run…</p>\n<pre class=\"lang-none prettyprint-override\"><code>Dates: 2010-02-22 2010-04-07 2010-12-25\nis1After2 false\nis2Before3 true\n</code></pre>\n<p>So see if the second is between the other two (exclusively, meaning not equal to either endpoint)…</p>\n<pre><code>boolean is2Between1And3 = ( ( localDate2.isAfter( localDate1 ) ) &amp;&amp; ( localDate2.isBefore( localDate3 ) ) );\n</code></pre>\n<h1>Working With Spans Of Time</h1>\n<p>If you are working with spans of time, I suggest exploring in Joda-Time the classes: <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/Duration.html\" rel=\"noreferrer\">Duration</a>, <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/Interval.html\" rel=\"noreferrer\">Interval</a>, and <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/Period.html\" rel=\"noreferrer\">Period</a>. Methods such as <code>overlap</code> and <code>contains</code> make comparisons easy.</p>\n<p>For text representations, look at the ISO 8601 standard’s:</p>\n<ul>\n<li><a href=\"http://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"noreferrer\">duration</a><br>Format: PnYnMnDTnHnMnS<br>Example: P3Y6M4DT12H30M5S<br />(Means “three years, six months, four days, twelve hours, thirty minutes, and five seconds”)</li>\n<li><a href=\"http://en.wikipedia.org/wiki/ISO_8601#Time_intervals\" rel=\"noreferrer\">interval</a><br>Format: start/end<br>Example: 2007-03-01T13:00:00Z/2008-05-11T15:30:00Z</li>\n</ul>\n<p>Joda-Time classes can work with strings in both those formats, both as input (parsing) and output (generating strings).</p>\n<p>Joda-Time performs comparisons using the <strong>Half-Open</strong> approach where the beginning of the span is <em>inclusive</em> while the ending is <em>exclusive</em>. This approach is a wise one for handling spans of time. Search StackOverflow for more info.</p>\n"},{"tags":[],"owner":{"account_id":31629,"reputation":264537,"user_id":87015,"accept_rate":94,"display_name":"Salman A"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1431674293,"creation_date":1431629823,"answer_id":30245187,"question_id":2592501,"body_markdown":"You can use [`Date.getTime()`][1] which:\r\n\r\n&gt; Returns the number of milliseconds since January 1, 1970, 00:00:00 GMT\r\n&gt; represented by this Date object.\r\n\r\nThis means you can compare them just like numbers:\r\n\r\n    if (date1.getTime() &lt;= date.getTime() &amp;&amp; date.getTime() &lt;= date2.getTime()) {\r\n        /*\r\n         * date is between date1 and date2 (both inclusive)\r\n         */\r\n    }\r\n\r\n    /*\r\n     * when date1 = 2015-01-01 and date2 = 2015-01-10 then\r\n     * returns true for:\r\n     * 2015-01-01\r\n     * 2015-01-01 00:00:01\r\n     * 2015-01-02\r\n     * 2015-01-10\r\n     * returns false for:\r\n     * 2014-12-31 23:59:59\r\n     * 2015-01-10 00:00:01\r\n     * \r\n     * if one or both dates are exclusive then change &lt;= to &lt;\r\n     */\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Date.html#getTime()","title":"How to compare dates in Java?","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Date.html#getTime()\" rel=\"noreferrer\"><code>Date.getTime()</code></a> which:</p>\n\n<blockquote>\n  <p>Returns the number of milliseconds since January 1, 1970, 00:00:00 GMT\n  represented by this Date object.</p>\n</blockquote>\n\n<p>This means you can compare them just like numbers:</p>\n\n<pre><code>if (date1.getTime() &lt;= date.getTime() &amp;&amp; date.getTime() &lt;= date2.getTime()) {\n    /*\n     * date is between date1 and date2 (both inclusive)\n     */\n}\n\n/*\n * when date1 = 2015-01-01 and date2 = 2015-01-10 then\n * returns true for:\n * 2015-01-01\n * 2015-01-01 00:00:01\n * 2015-01-02\n * 2015-01-10\n * returns false for:\n * 2014-12-31 23:59:59\n * 2015-01-10 00:00:01\n * \n * if one or both dates are exclusive then change &lt;= to &lt;\n */\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1473225729,"creation_date":1447418903,"answer_id":33693122,"question_id":2592501,"body_markdown":"Update for Java 8 and later\r\n=\r\n - [`isAfter()`](http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#isAfter-java.time.chrono.ChronoLocalDate-)\r\n - [`isBefore()`](http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#isBefore-java.time.chrono.ChronoLocalDate-)\r\n - [`isEqual()`](http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#isEqual-java.time.chrono.ChronoLocalDate-)\r\n - [`compareTo()`](http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#compareTo-java.time.chrono.ChronoLocalDate-)\r\n\r\nThese methods exists in [`LocalDate`][1], [`LocalTime`][2], and [`LocalDateTime`][3] classes. \r\n\r\nThose classes are built into Java 8 and later. Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [ThreeTen-Backport](http://www.threeten.org/threetenbp/) and further adapted to [Android](https://en.wikipedia.org/wiki/Android_(operating_system)) in [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) (see [*How to use…*](https://stackoverflow.com/q/38922754/642706)).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html","title":"How to compare dates in Java?","body":"<h1>Update for Java 8 and later</h1>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#isAfter-java.time.chrono.ChronoLocalDate-\" rel=\"nofollow noreferrer\"><code>isAfter()</code></a></li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#isBefore-java.time.chrono.ChronoLocalDate-\" rel=\"nofollow noreferrer\"><code>isBefore()</code></a></li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#isEqual-java.time.chrono.ChronoLocalDate-\" rel=\"nofollow noreferrer\"><code>isEqual()</code></a></li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#compareTo-java.time.chrono.ChronoLocalDate-\" rel=\"nofollow noreferrer\"><code>compareTo()</code></a></li>\n</ul>\n\n<p>These methods exists in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html\" rel=\"nofollow noreferrer\"><code>LocalTime</code></a>, and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a> classes. </p>\n\n<p>Those classes are built into Java 8 and later. Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen-Backport</a> and further adapted to <a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\">Android</a> in <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> (see <a href=\"https://stackoverflow.com/q/38922754/642706\"><em>How to use…</em></a>).</p>\n"},{"tags":[],"owner":{"account_id":5516845,"reputation":91,"user_id":4381287,"display_name":"Garambe"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1448363613,"creation_date":1448362170,"answer_id":33891596,"question_id":2592501,"body_markdown":"Try this\r\n\t\r\n\r\n    public static boolean compareDates(String psDate1, String psDate2) throws ParseException{\r\n    \t\tSimpleDateFormat dateFormat = new SimpleDateFormat (&quot;dd/MM/yyyy&quot;);\r\n    \t\tDate date1 = dateFormat.parse(psDate1);\r\n    \t\tDate date2 = dateFormat.parse(psDate2);\r\n    \t\tif(date2.after(date1)) {\r\n    \t\t\treturn true;\r\n    \t\t} else {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}","title":"How to compare dates in Java?","body":"<p>Try this</p>\n\n<pre><code>public static boolean compareDates(String psDate1, String psDate2) throws ParseException{\n        SimpleDateFormat dateFormat = new SimpleDateFormat (\"dd/MM/yyyy\");\n        Date date1 = dateFormat.parse(psDate1);\n        Date date2 = dateFormat.parse(psDate2);\n        if(date2.after(date1)) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4640232,"reputation":5623,"user_id":3760297,"accept_rate":67,"display_name":"Iman Marashi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1483731468,"creation_date":1483731468,"answer_id":41513054,"question_id":2592501,"body_markdown":"This method worked for me:\r\n\r\n     public static String daysBetween(String day1, String day2) {\r\n        String daysBetween = &quot;&quot;;\r\n        SimpleDateFormat myFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\r\n        try {\r\n            Date date1 = myFormat.parse(day1);\r\n            Date date2 = myFormat.parse(day2);\r\n            long diff = date2.getTime() - date1.getTime();\r\n            daysBetween = &quot;&quot;+(TimeUnit.DAYS.convert(diff, TimeUnit.MILLISECONDS));\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return daysBetween;\r\n    }","title":"How to compare dates in Java?","body":"<p>This method worked for me:</p>\n\n<pre><code> public static String daysBetween(String day1, String day2) {\n    String daysBetween = \"\";\n    SimpleDateFormat myFormat = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n\n    try {\n        Date date1 = myFormat.parse(day1);\n        Date date2 = myFormat.parse(day2);\n        long diff = date2.getTime() - date1.getTime();\n        daysBetween = \"\"+(TimeUnit.DAYS.convert(diff, TimeUnit.MILLISECONDS));\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n    return daysBetween;\n}\n</code></pre>\n"}],"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1181589,"favorite_count":0,"down_vote_count":1,"up_vote_count":448,"closed_date":1518074517,"accepted_answer_id":2592513,"answer_count":11,"score":447,"last_activity_date":1681808868,"creation_date":1270644516,"question_id":2592501,"body_markdown":"How do I compare dates in between in Java? \r\n\r\nExample:\r\n\r\n date1 is `22-02-2010`&lt;br /&gt;\r\n date2 is `07-04-2010` today &lt;br /&gt;\r\n date3 is `25-12-2010`\r\n\r\n`date3` is always greater than `date1` and `date2` is always today. How do I verify if today&#39;s date is in between date1 and date 3?\r\n","title":"How to compare dates in Java?","body":"<p>How do I compare dates in between in Java? </p>\n\n<p>Example:</p>\n\n<p>date1 is <code>22-02-2010</code><br />\n date2 is <code>07-04-2010</code> today <br />\n date3 is <code>25-12-2010</code></p>\n\n<p><code>date3</code> is always greater than <code>date1</code> and <code>date2</code> is always today. How do I verify if today's date is in between date1 and date 3?</p>\n"},{"tags":["java","apple-m1","minikube","mockserver"],"owner":{"account_id":3076850,"reputation":614,"user_id":2605956,"accept_rate":29,"display_name":"froy001"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681808860,"creation_date":1681808198,"question_id":76042657,"body_markdown":"I am running minikube on my M1 machine i.e. arm64 arch \r\nThe minikunbe start command is:\r\n\r\n    minikube start -p foobar --kubernetes-version=v1.23.16 --container-runtime=docker --vm=true --network socker_vmnet --cpus 4 --memory 10g\r\n\r\nWhen pulling mockserver image i.e. \r\n\r\n    docker pull mockserver/mockserver:5.15.0\r\n\r\nYou can see that the result of the `pull` command and specifically the architecture which is arm64:\r\n\r\n```\r\n[\r\n    {\r\n        &quot;Id&quot;: &quot;sha256:95de41c9a8f374c82ed7ddb5c3c239d745667a6c6ef37819d48507e8039aab68&quot;,\r\n        &quot;RepoTags&quot;: [\r\n            &quot;mockserver/mockserver:5.15.0&quot;\r\n        ],\r\n        &quot;RepoDigests&quot;: [\r\n            &quot;mockserver/mockserver@sha256:0f9ef78c94894ac3e70135d156193b25e23872575d58e2228344964273b4af6b&quot;\r\n        ],\r\n        &quot;Parent&quot;: &quot;&quot;,\r\n        &quot;Comment&quot;: &quot;buildkit.dockerfile.v0&quot;,\r\n        &quot;Created&quot;: &quot;2023-01-12T09:24:32.534016275Z&quot;,\r\n        &quot;Container&quot;: &quot;&quot;,\r\n        &quot;ContainerConfig&quot;: {\r\n            &quot;Hostname&quot;: &quot;&quot;,\r\n            &quot;Domainname&quot;: &quot;&quot;,\r\n            &quot;User&quot;: &quot;&quot;,\r\n            &quot;AttachStdin&quot;: false,\r\n            &quot;AttachStdout&quot;: false,\r\n            &quot;AttachStderr&quot;: false,\r\n            &quot;Tty&quot;: false,\r\n            &quot;OpenStdin&quot;: false,\r\n            &quot;StdinOnce&quot;: false,\r\n            &quot;Env&quot;: null,\r\n            &quot;Cmd&quot;: null,\r\n            &quot;Image&quot;: &quot;&quot;,\r\n            &quot;Volumes&quot;: null,\r\n            &quot;WorkingDir&quot;: &quot;&quot;,\r\n            &quot;Entrypoint&quot;: null,\r\n            &quot;OnBuild&quot;: null,\r\n            &quot;Labels&quot;: null\r\n        },\r\n        &quot;DockerVersion&quot;: &quot;&quot;,\r\n        &quot;Author&quot;: &quot;James Bloom \\&quot;jamesdbloom@gmail.com\\&quot;&quot;,\r\n        &quot;Config&quot;: {\r\n            &quot;Hostname&quot;: &quot;&quot;,\r\n            &quot;Domainname&quot;: &quot;&quot;,\r\n            &quot;User&quot;: &quot;nonroot&quot;,\r\n            &quot;AttachStdin&quot;: false,\r\n            &quot;AttachStdout&quot;: false,\r\n            &quot;AttachStderr&quot;: false,\r\n            &quot;ExposedPorts&quot;: {\r\n                &quot;1080/tcp&quot;: {}\r\n            },\r\n            &quot;Tty&quot;: false,\r\n            &quot;OpenStdin&quot;: false,\r\n            &quot;StdinOnce&quot;: false,\r\n            &quot;Env&quot;: [\r\n                &quot;JAVA_VERSION=17.0.4&quot;,\r\n                &quot;LANG=C.UTF-8&quot;,\r\n                &quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;,\r\n                &quot;SSL_CERT_FILE=/etc/ssl/certs/ca-certificates.crt&quot;,\r\n                &quot;SERVER_PORT=1080&quot;\r\n            ],\r\n            &quot;Cmd&quot;: null,\r\n            &quot;ArgsEscaped&quot;: true,\r\n            &quot;Image&quot;: &quot;&quot;,\r\n            &quot;Volumes&quot;: null,\r\n            &quot;WorkingDir&quot;: &quot;/home/nonroot&quot;,\r\n            &quot;Entrypoint&quot;: [\r\n                &quot;java&quot;,\r\n                &quot;-Dfile.encoding=UTF-8&quot;,\r\n                &quot;-cp&quot;,\r\n                &quot;/mockserver-netty-jar-with-dependencies.jar:/libs/*&quot;,\r\n                &quot;-Dmockserver.propertyFile=/config/mockserver.properties&quot;,\r\n                &quot;org.mockserver.cli.Main&quot;\r\n            ],\r\n            &quot;OnBuild&quot;: null,\r\n            &quot;Labels&quot;: null\r\n        },\r\n        &quot;Architecture&quot;: &quot;arm64&quot;,\r\n        &quot;Os&quot;: &quot;linux&quot;,\r\n        &quot;Size&quot;: 275668416,\r\n        &quot;VirtualSize&quot;: 275668416,\r\n        &quot;GraphDriver&quot;: {\r\n            &quot;Data&quot;: {\r\n                &quot;LowerDir&quot;: &quot;/var/lib/docker/overlay2/09023f315a1db5df781df9dcd495575e3fa5ffc869b05867b9dbdac6cc0f43d7/diff:/var/lib/docker/overlay2/c12958ff74a0d0b38d4a9078418a133896971503074d220a2b55a96ff1890cf1/diff:/var/lib/docker/overlay2/ba271473e4a6fb358e7626e548de976505a9c637a67b5d3e1f3590c3bdc779af/diff:/var/lib/docker/overlay2/c07b166a9ffcc1ee4c0d6f46887384750e467ea8c47cde14b84295b43afd77ec/diff:/var/lib/docker/overlay2/443d2ed633d45c7be4c7d317cf9d4c138a80ba3e15fc4ed6427679efc4f2c70d/diff:/var/lib/docker/overlay2/581bd89c864cd38bd32c9a42f115f4921c427804b91e870ed3e561c905557638/diff&quot;,\r\n                &quot;MergedDir&quot;: &quot;/var/lib/docker/overlay2/1b978f0a0fd1f88dc3afb29152ffec3be06243dde3063f5bb3e51b11c4551881/merged&quot;,\r\n                &quot;UpperDir&quot;: &quot;/var/lib/docker/overlay2/1b978f0a0fd1f88dc3afb29152ffec3be06243dde3063f5bb3e51b11c4551881/diff&quot;,\r\n                &quot;WorkDir&quot;: &quot;/var/lib/docker/overlay2/1b978f0a0fd1f88dc3afb29152ffec3be06243dde3063f5bb3e51b11c4551881/work&quot;\r\n            },\r\n            &quot;Name&quot;: &quot;overlay2&quot;\r\n        },\r\n        &quot;RootFS&quot;: {\r\n            &quot;Type&quot;: &quot;layers&quot;,\r\n            &quot;Layers&quot;: [\r\n                &quot;sha256:cb60fb9b862c6a89f92e484bc3b72bbc0352b41166df5c4a68bfb52f52504a7d&quot;,\r\n                &quot;sha256:00c562532b203116c721c11aee6fe1fe50b5e2068cee2c343c1df1050a866b3e&quot;,\r\n                &quot;sha256:e83d4114481dc897d49d5a9a8b68bf71c4f08f1a5c1adff44603c56b958fed53&quot;,\r\n                &quot;sha256:45f84957a62ddbeee272fc25653d35160f934dd8bb930bc0d30b80d1cfb7cfd3&quot;,\r\n                &quot;sha256:468a6b28e336b9ead462b8128b8d8c60e458a1facc41b5e925fca21b6718c368&quot;,\r\n                &quot;sha256:f753c3e5f9d750c2e2b830fcb428451aa734456474d25fba225041ed34c29f05&quot;,\r\n                &quot;sha256:bccdbe648bac42eb712b7623e7134b1ff1cb0be076d19174482e80d71f664949&quot;\r\n            ]\r\n        },\r\n        &quot;Metadata&quot;: {\r\n            &quot;LastTagTime&quot;: &quot;0001-01-01T00:00:00Z&quot;\r\n        }\r\n    }\r\n]\r\n```\r\n\r\nwhen running : `docker run -d --rm --platform linux/arm64 -P mockserver/mockserver:5.15.0`. I am getting the same java error expected from the incompatibility of amd64 images running on arm64 machines i.e.\r\n\r\n    exec /usr/bin/java: exec format error\r\n\r\nI am not sure what the issue is and I can&#39;t find anything wrong with the image and arch type. \r\n\r\nCan you? ","title":"Mockserver is crushing when running on minikube docker M1","body":"<p>I am running minikube on my M1 machine i.e. arm64 arch\nThe minikunbe start command is:</p>\n<pre><code>minikube start -p foobar --kubernetes-version=v1.23.16 --container-runtime=docker --vm=true --network socker_vmnet --cpus 4 --memory 10g\n</code></pre>\n<p>When pulling mockserver image i.e.</p>\n<pre><code>docker pull mockserver/mockserver:5.15.0\n</code></pre>\n<p>You can see that the result of the <code>pull</code> command and specifically the architecture which is arm64:</p>\n<pre><code>[\n    {\n        &quot;Id&quot;: &quot;sha256:95de41c9a8f374c82ed7ddb5c3c239d745667a6c6ef37819d48507e8039aab68&quot;,\n        &quot;RepoTags&quot;: [\n            &quot;mockserver/mockserver:5.15.0&quot;\n        ],\n        &quot;RepoDigests&quot;: [\n            &quot;mockserver/mockserver@sha256:0f9ef78c94894ac3e70135d156193b25e23872575d58e2228344964273b4af6b&quot;\n        ],\n        &quot;Parent&quot;: &quot;&quot;,\n        &quot;Comment&quot;: &quot;buildkit.dockerfile.v0&quot;,\n        &quot;Created&quot;: &quot;2023-01-12T09:24:32.534016275Z&quot;,\n        &quot;Container&quot;: &quot;&quot;,\n        &quot;ContainerConfig&quot;: {\n            &quot;Hostname&quot;: &quot;&quot;,\n            &quot;Domainname&quot;: &quot;&quot;,\n            &quot;User&quot;: &quot;&quot;,\n            &quot;AttachStdin&quot;: false,\n            &quot;AttachStdout&quot;: false,\n            &quot;AttachStderr&quot;: false,\n            &quot;Tty&quot;: false,\n            &quot;OpenStdin&quot;: false,\n            &quot;StdinOnce&quot;: false,\n            &quot;Env&quot;: null,\n            &quot;Cmd&quot;: null,\n            &quot;Image&quot;: &quot;&quot;,\n            &quot;Volumes&quot;: null,\n            &quot;WorkingDir&quot;: &quot;&quot;,\n            &quot;Entrypoint&quot;: null,\n            &quot;OnBuild&quot;: null,\n            &quot;Labels&quot;: null\n        },\n        &quot;DockerVersion&quot;: &quot;&quot;,\n        &quot;Author&quot;: &quot;James Bloom \\&quot;jamesdbloom@gmail.com\\&quot;&quot;,\n        &quot;Config&quot;: {\n            &quot;Hostname&quot;: &quot;&quot;,\n            &quot;Domainname&quot;: &quot;&quot;,\n            &quot;User&quot;: &quot;nonroot&quot;,\n            &quot;AttachStdin&quot;: false,\n            &quot;AttachStdout&quot;: false,\n            &quot;AttachStderr&quot;: false,\n            &quot;ExposedPorts&quot;: {\n                &quot;1080/tcp&quot;: {}\n            },\n            &quot;Tty&quot;: false,\n            &quot;OpenStdin&quot;: false,\n            &quot;StdinOnce&quot;: false,\n            &quot;Env&quot;: [\n                &quot;JAVA_VERSION=17.0.4&quot;,\n                &quot;LANG=C.UTF-8&quot;,\n                &quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;,\n                &quot;SSL_CERT_FILE=/etc/ssl/certs/ca-certificates.crt&quot;,\n                &quot;SERVER_PORT=1080&quot;\n            ],\n            &quot;Cmd&quot;: null,\n            &quot;ArgsEscaped&quot;: true,\n            &quot;Image&quot;: &quot;&quot;,\n            &quot;Volumes&quot;: null,\n            &quot;WorkingDir&quot;: &quot;/home/nonroot&quot;,\n            &quot;Entrypoint&quot;: [\n                &quot;java&quot;,\n                &quot;-Dfile.encoding=UTF-8&quot;,\n                &quot;-cp&quot;,\n                &quot;/mockserver-netty-jar-with-dependencies.jar:/libs/*&quot;,\n                &quot;-Dmockserver.propertyFile=/config/mockserver.properties&quot;,\n                &quot;org.mockserver.cli.Main&quot;\n            ],\n            &quot;OnBuild&quot;: null,\n            &quot;Labels&quot;: null\n        },\n        &quot;Architecture&quot;: &quot;arm64&quot;,\n        &quot;Os&quot;: &quot;linux&quot;,\n        &quot;Size&quot;: 275668416,\n        &quot;VirtualSize&quot;: 275668416,\n        &quot;GraphDriver&quot;: {\n            &quot;Data&quot;: {\n                &quot;LowerDir&quot;: &quot;/var/lib/docker/overlay2/09023f315a1db5df781df9dcd495575e3fa5ffc869b05867b9dbdac6cc0f43d7/diff:/var/lib/docker/overlay2/c12958ff74a0d0b38d4a9078418a133896971503074d220a2b55a96ff1890cf1/diff:/var/lib/docker/overlay2/ba271473e4a6fb358e7626e548de976505a9c637a67b5d3e1f3590c3bdc779af/diff:/var/lib/docker/overlay2/c07b166a9ffcc1ee4c0d6f46887384750e467ea8c47cde14b84295b43afd77ec/diff:/var/lib/docker/overlay2/443d2ed633d45c7be4c7d317cf9d4c138a80ba3e15fc4ed6427679efc4f2c70d/diff:/var/lib/docker/overlay2/581bd89c864cd38bd32c9a42f115f4921c427804b91e870ed3e561c905557638/diff&quot;,\n                &quot;MergedDir&quot;: &quot;/var/lib/docker/overlay2/1b978f0a0fd1f88dc3afb29152ffec3be06243dde3063f5bb3e51b11c4551881/merged&quot;,\n                &quot;UpperDir&quot;: &quot;/var/lib/docker/overlay2/1b978f0a0fd1f88dc3afb29152ffec3be06243dde3063f5bb3e51b11c4551881/diff&quot;,\n                &quot;WorkDir&quot;: &quot;/var/lib/docker/overlay2/1b978f0a0fd1f88dc3afb29152ffec3be06243dde3063f5bb3e51b11c4551881/work&quot;\n            },\n            &quot;Name&quot;: &quot;overlay2&quot;\n        },\n        &quot;RootFS&quot;: {\n            &quot;Type&quot;: &quot;layers&quot;,\n            &quot;Layers&quot;: [\n                &quot;sha256:cb60fb9b862c6a89f92e484bc3b72bbc0352b41166df5c4a68bfb52f52504a7d&quot;,\n                &quot;sha256:00c562532b203116c721c11aee6fe1fe50b5e2068cee2c343c1df1050a866b3e&quot;,\n                &quot;sha256:e83d4114481dc897d49d5a9a8b68bf71c4f08f1a5c1adff44603c56b958fed53&quot;,\n                &quot;sha256:45f84957a62ddbeee272fc25653d35160f934dd8bb930bc0d30b80d1cfb7cfd3&quot;,\n                &quot;sha256:468a6b28e336b9ead462b8128b8d8c60e458a1facc41b5e925fca21b6718c368&quot;,\n                &quot;sha256:f753c3e5f9d750c2e2b830fcb428451aa734456474d25fba225041ed34c29f05&quot;,\n                &quot;sha256:bccdbe648bac42eb712b7623e7134b1ff1cb0be076d19174482e80d71f664949&quot;\n            ]\n        },\n        &quot;Metadata&quot;: {\n            &quot;LastTagTime&quot;: &quot;0001-01-01T00:00:00Z&quot;\n        }\n    }\n]\n</code></pre>\n<p>when running : <code>docker run -d --rm --platform linux/arm64 -P mockserver/mockserver:5.15.0</code>. I am getting the same java error expected from the incompatibility of amd64 images running on arm64 machines i.e.</p>\n<pre><code>exec /usr/bin/java: exec format error\n</code></pre>\n<p>I am not sure what the issue is and I can't find anything wrong with the image and arch type.</p>\n<p>Can you?</p>\n"},{"tags":["java","date","datetime"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":4,"creation_date":1681749284,"post_id":76037322,"comment_id":134103556,"body_markdown":"What&#39;s the year?","body":"What&#39;s the year?"},{"owner":{"account_id":22901,"reputation":14459,"user_id":56952,"accept_rate":66,"display_name":"erotsppa"},"score":1,"creation_date":1681750545,"post_id":76037322,"comment_id":134103863,"body_markdown":"@aled oops! Can I set it to a default year?","body":"@aled oops! Can I set it to a default year?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1681785106,"post_id":76037322,"comment_id":134109314,"body_markdown":"Edit the Question&#39;s title and body to make clear that you are asking for how to set a default year in the formatter.","body":"Edit the Question&#39;s title and body to make clear that you are asking for how to set a default year in the formatter."}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681753770,"creation_date":1681752035,"answer_id":76037699,"question_id":76037322,"body_markdown":"The issue is that the construction of a `LocalDateTime` requires a *year* to be present, but your time string does not.\r\n\r\nYou can instruct the `DateTimeFormatterBuilder` to default to some value if some element is absent, using `parseDefaulting`.\r\n\r\n```java\r\nDateTimeFormatter formatter2 = new DateTimeFormatterBuilder()\r\n    .parseDefaulting(ChronoField.YEAR, 2023)\r\n    .appendPattern(&quot;h:mm a z - d MMMM&quot;)\r\n    .toFormatter()\r\n    .withLocale(Locale.US);\r\n```","title":"Unable to parse custom Java date: Can I set it to a default year?","body":"<p>The issue is that the construction of a <code>LocalDateTime</code> requires a <em>year</em> to be present, but your time string does not.</p>\n<p>You can instruct the <code>DateTimeFormatterBuilder</code> to default to some value if some element is absent, using <code>parseDefaulting</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter formatter2 = new DateTimeFormatterBuilder()\n    .parseDefaulting(ChronoField.YEAR, 2023)\n    .appendPattern(&quot;h:mm a z - d MMMM&quot;)\n    .toFormatter()\n    .withLocale(Locale.US);\n</code></pre>\n"}],"owner":{"account_id":22901,"reputation":14459,"user_id":56952,"accept_rate":66,"display_name":"erotsppa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76037699,"answer_count":1,"score":2,"last_activity_date":1681808528,"creation_date":1681749021,"question_id":76037322,"body_markdown":"    DateTimeFormatter formatter2 = new DateTimeFormatterBuilder()\r\n                        .appendPattern(&quot;h:mm a z - d MMMM&quot;)\r\n                        .toFormatter()\r\n                        .withLocale(Locale.US);\r\n    \r\n                String test = &quot;7:00 PM EST - 14 April&quot;;\r\n    LocalDateTime date2 = LocalDateTime.parse(test, formatter2);\r\n\r\nIt throws this exception\r\n\r\n&gt; java.time.format.DateTimeParseException: Text &#39;7:00 PM EST - 14 April&#39;\r\n&gt; could not be parsed: Unable to obtain LocalDateTime from\r\n&gt; TemporalAccessor: {DayOfMonth=14, MonthOfYear=4},ISO,America/New_York\r\n&gt; resolved to 19:00 of type java.time.format.Parsed\r\n\r\nBut you can see that it correctly parsed out all the components. What&#39;s the issue?","title":"Unable to parse custom Java date: Can I set it to a default year?","body":"<pre><code>DateTimeFormatter formatter2 = new DateTimeFormatterBuilder()\n                    .appendPattern(&quot;h:mm a z - d MMMM&quot;)\n                    .toFormatter()\n                    .withLocale(Locale.US);\n\n            String test = &quot;7:00 PM EST - 14 April&quot;;\nLocalDateTime date2 = LocalDateTime.parse(test, formatter2);\n</code></pre>\n<p>It throws this exception</p>\n<blockquote>\n<p>java.time.format.DateTimeParseException: Text '7:00 PM EST - 14 April'\ncould not be parsed: Unable to obtain LocalDateTime from\nTemporalAccessor: {DayOfMonth=14, MonthOfYear=4},ISO,America/New_York\nresolved to 19:00 of type java.time.format.Parsed</p>\n</blockquote>\n<p>But you can see that it correctly parsed out all the components. What's the issue?</p>\n"},{"tags":["java","kotlin","gradle","groovy"],"owner":{"account_id":7964582,"reputation":3705,"user_id":6011193,"accept_rate":32,"display_name":"chikadance"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681808201,"answer_count":0,"score":0,"last_activity_date":1681808070,"creation_date":1681808070,"question_id":76042635,"body_markdown":"following is my build.gradle\r\n\r\n    compileGroovy.dependsOn -= compileJava\r\n    \r\n    compileKotlin {\r\n        dependsOn compileGroovy\r\n    }\r\n\r\nit raise err\r\n\r\n    Circular dependency between the following tasks:\r\n    :compileGroovy\r\n    \\--- :compileJava\r\n         \\--- :compileKotlin\r\n              \\--- :compileGroovy (*)\r\n\r\nbut debug compileGroovy.dependsOn in idea, the dependsOn is empty\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kPCQ9.png\r\n\r\nI&#39;s confused, how to fix above Circular dependency and make first run compileGroovy and then run compileKotlin","title":"How to make compileGroovy run before compileKotlin","body":"<p>following is my build.gradle</p>\n<pre><code>compileGroovy.dependsOn -= compileJava\n\ncompileKotlin {\n    dependsOn compileGroovy\n}\n</code></pre>\n<p>it raise err</p>\n<pre><code>Circular dependency between the following tasks:\n:compileGroovy\n\\--- :compileJava\n     \\--- :compileKotlin\n          \\--- :compileGroovy (*)\n</code></pre>\n<p>but debug compileGroovy.dependsOn in idea, the dependsOn is empty</p>\n<p><a href=\"https://i.stack.imgur.com/kPCQ9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kPCQ9.png\" alt=\"enter image description here\" /></a></p>\n<p>I's confused, how to fix above Circular dependency and make first run compileGroovy and then run compileKotlin</p>\n"},{"tags":["java","swingworker","graphing"],"answers":[{"tags":[],"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681807765,"creation_date":1681807765,"answer_id":76042592,"question_id":30598896,"body_markdown":"A few things:\r\n\r\n* `SwingWorker.done()` is executed on the EDT, using `SwingUtilities.invokeLater` there isn&#39;t necessary\r\n* Triggering the SwingWorker from the `paintComponent()` method isn&#39;t a good idea as it may do more computations than necessary. You should rather execute the SwingWorker when the state changes, and just let `paintComponent()` draw the data that were last computed.\r\n* Holding a reference to the component Graphics2D object at the class level is dubious, there is no garantee the instance will be the same between two `paintComponent()` calls, so you may end up drawing on the wrong graphic context.\r\n* If the rendering time is important, even once the computations are done, you should consider drawing to an off screen image first.\r\n","title":"Graphics and SwingWorker","body":"<p>A few things:</p>\n<ul>\n<li><code>SwingWorker.done()</code> is executed on the EDT, using <code>SwingUtilities.invokeLater</code> there isn't necessary</li>\n<li>Triggering the SwingWorker from the <code>paintComponent()</code> method isn't a good idea as it may do more computations than necessary. You should rather execute the SwingWorker when the state changes, and just let <code>paintComponent()</code> draw the data that were last computed.</li>\n<li>Holding a reference to the component Graphics2D object at the class level is dubious, there is no garantee the instance will be the same between two <code>paintComponent()</code> calls, so you may end up drawing on the wrong graphic context.</li>\n<li>If the rendering time is important, even once the computations are done, you should consider drawing to an off screen image first.</li>\n</ul>\n"}],"owner":{"account_id":6065016,"reputation":133,"user_id":4735630,"accept_rate":78,"display_name":"San Mor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1681807765,"creation_date":1433255205,"question_id":30598896,"body_markdown":"I&#39;m trying to paint a dynamic graph that has a few thousand points. I&#39;m using SwingWorker class that gets the Graphics object as an argument. I initialize the graphics object in the constructor of the SwingWorker class and then call the main graphing function doGraph() in the done() method i.e, after all the calculations are done. I&#39;m having issues with painting, not sure what is going on. The code works if I call doGraph() from the constructor of the SwingWorker class but not when I place it in done().\r\n\r\nAny help is greatly appreciated. I have simplified the code for ease of understanding. I`m just trying to paint a rectangle in the doGraph() for simplicity.\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.RenderingHints.Key;\r\n\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.SwingWorker;\r\n\r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class UIGraph extends JPanel {\r\n\r\n\tprivate double minX, maxX;\r\n\tprivate double minY, maxY;\r\n\tprivate SWPaint swPaint; //Swing Worker object\r\n\tprivate Graphics2D g2D;\r\n\tpublic Key key = RenderingHints.KEY_ANTIALIASING;\r\n\tpublic Object obj = RenderingHints.VALUE_ANTIALIAS_ON;\r\n\tprivate int labelPadding = 25;\r\n\tprivate int padding = 25;\r\n\tprivate int padConst = (2 * padding) - labelPadding;\r\n\tprivate double xScale;\r\n\tprivate double yScale;\r\n\r\n\t/**\r\n\t * Crate Panel\r\n\t */\r\n\tprivate void createUI() {\r\n\t\tsetBackground(new Color(245, 255, 250));\r\n\t\tsetLayout(new BorderLayout(0, 0));\r\n\t}\r\n\r\n\t/**\r\n\t * Constructor\r\n\t * \r\n\t */\r\n\tpublic UIGraph() {\r\n\t\tcreateUI();\r\n\t\tgetMinMax();\r\n\t}\r\n\r\n\t/**\r\n\t * Paint Component. Do all the calculations and graphing\r\n\t */\r\n\t@Override\r\n\tprotected void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\r\n\t\tif (swPaint != null) {\r\n\t\t\tif (!swPaint.isDone()) { // The swing worker is busy with tasks. Set Visibility to false and return.\r\n\t\t\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\tsetVisible(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tswPaint = new SWPaint(g);  //Create a swing worker class, pass graphics object as argument\r\n\t\tswPaint.execute();\r\n\t    }\r\n    }\r\n\r\n\t/**\r\n\t * Get the Min and Max values of Data\r\n\t */\r\n\tprivate void getMinMax() {\r\n      //obtain min and max values\r\n\t}\r\n\r\n\r\n\t\r\n\t/**\r\n\t * Main method for graphing\r\n\t * \r\n\t * @param g2D \r\n\t */\r\n\tprivate void doGraph() {\r\n\t\txScale = (double) (getWidth() - padConst) / (maxX - minX);\r\n\t\tyScale = (double) (getHeight() - padConst) / (maxY - minY);\r\n\r\n\t\tg2D.setColor(Color.WHITE);\r\n\t\tg2D.fillRect(padding + labelPadding, padding, getWidth() - (2 * padding) - labelPadding, getHeight() - 2 * padding\r\n\t\t\t\t- labelPadding);\r\n\t\tg2D.setColor(Color.BLACK);\r\n\t}\r\n\r\n\t/**\r\n\t * Swing Worker to handle Paint\r\n\t *\r\n\t */\r\n\tpublic class SWPaint extends SwingWorker&lt;Void, Void&gt; {\r\n\r\n\t\t/**\r\n\t\t * Constructor\r\n\t\t * \r\n\t\t * @param g\r\n\t\t */\r\n\t\tpublic SWPaint(Graphics g) {\r\n\t\t\tg2D = (Graphics2D) g;\r\n\t\t\tg2D.setRenderingHint(key, obj);\r\n\r\n           //doGraph() //This works\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Do graphing calculations here\r\n\t\t */\r\n\t\t@Override\r\n\t\tprotected Void doInBackground() throws Exception {\r\n\t\t\t// do all calculations here\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\t * The SW is done. Paint the graph. Set Visibility to true\r\n\t\t */\r\n\t\tprotected void done() {\r\n\t\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tdoGraph();  //This doesn`t work here.\r\n\t\t\t\t\tsetVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t  }\r\n    }\r\n","title":"Graphics and SwingWorker","body":"<p>I'm trying to paint a dynamic graph that has a few thousand points. I'm using SwingWorker class that gets the Graphics object as an argument. I initialize the graphics object in the constructor of the SwingWorker class and then call the main graphing function doGraph() in the done() method i.e, after all the calculations are done. I'm having issues with painting, not sure what is going on. The code works if I call doGraph() from the constructor of the SwingWorker class but not when I place it in done().</p>\n\n<p>Any help is greatly appreciated. I have simplified the code for ease of understanding. I`m just trying to paint a rectangle in the doGraph() for simplicity.</p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.RenderingHints.Key;\n\nimport javax.swing.JPanel;\nimport javax.swing.JTextArea;\nimport javax.swing.SwingUtilities;\nimport javax.swing.SwingWorker;\n\n@SuppressWarnings(\"serial\")\npublic class UIGraph extends JPanel {\n\nprivate double minX, maxX;\nprivate double minY, maxY;\nprivate SWPaint swPaint; //Swing Worker object\nprivate Graphics2D g2D;\npublic Key key = RenderingHints.KEY_ANTIALIASING;\npublic Object obj = RenderingHints.VALUE_ANTIALIAS_ON;\nprivate int labelPadding = 25;\nprivate int padding = 25;\nprivate int padConst = (2 * padding) - labelPadding;\nprivate double xScale;\nprivate double yScale;\n\n/**\n * Crate Panel\n */\nprivate void createUI() {\n    setBackground(new Color(245, 255, 250));\n    setLayout(new BorderLayout(0, 0));\n}\n\n/**\n * Constructor\n * \n */\npublic UIGraph() {\n    createUI();\n    getMinMax();\n}\n\n/**\n * Paint Component. Do all the calculations and graphing\n */\n@Override\nprotected void paintComponent(Graphics g) {\n    super.paintComponent(g);\n\n    if (swPaint != null) {\n        if (!swPaint.isDone()) { // The swing worker is busy with tasks. Set Visibility to false and return.\n            SwingUtilities.invokeLater(new Runnable() {\n                public void run() {\n                    setVisible(false);\n                }\n            });\n            return;\n        }\n    }\n\n    swPaint = new SWPaint(g);  //Create a swing worker class, pass graphics object as argument\n    swPaint.execute();\n    }\n}\n\n/**\n * Get the Min and Max values of Data\n */\nprivate void getMinMax() {\n  //obtain min and max values\n}\n\n\n\n/**\n * Main method for graphing\n * \n * @param g2D \n */\nprivate void doGraph() {\n    xScale = (double) (getWidth() - padConst) / (maxX - minX);\n    yScale = (double) (getHeight() - padConst) / (maxY - minY);\n\n    g2D.setColor(Color.WHITE);\n    g2D.fillRect(padding + labelPadding, padding, getWidth() - (2 * padding) - labelPadding, getHeight() - 2 * padding\n            - labelPadding);\n    g2D.setColor(Color.BLACK);\n}\n\n/**\n * Swing Worker to handle Paint\n *\n */\npublic class SWPaint extends SwingWorker&lt;Void, Void&gt; {\n\n    /**\n     * Constructor\n     * \n     * @param g\n     */\n    public SWPaint(Graphics g) {\n        g2D = (Graphics2D) g;\n        g2D.setRenderingHint(key, obj);\n\n       //doGraph() //This works\n    }\n\n    /**\n     * Do graphing calculations here\n     */\n    @Override\n    protected Void doInBackground() throws Exception {\n        // do all calculations here\n        return null;\n    }\n\n    /*\n     * The SW is done. Paint the graph. Set Visibility to true\n     */\n    protected void done() {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                doGraph();  //This doesn`t work here.\n                setVisible(true);\n            }\n        });\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","gradle","upgrade","java-11","modelmapper"],"comments":[{"owner":{"account_id":18770784,"reputation":177,"user_id":13687639,"display_name":"MoKi"},"score":0,"creation_date":1681218347,"post_id":75986143,"comment_id":134018090,"body_markdown":"did you check all the dependencies?","body":"did you check all the dependencies?"},{"owner":{"account_id":28196096,"reputation":11,"user_id":21550705,"display_name":"hemanth reddy m"},"score":0,"creation_date":1681218493,"post_id":75986143,"comment_id":134018141,"body_markdown":"All dependencies have been updated","body":"All dependencies have been updated"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":2,"creation_date":1681218897,"post_id":75986143,"comment_id":134018272,"body_markdown":"If it works locally, but fails at the server level, I suggest you take a look at your active JDK on the server level.  There must be a difference between your local setup vs server.","body":"If it works locally, but fails at the server level, I suggest you take a look at your active JDK on the server level.  There must be a difference between your local setup vs server."},{"owner":{"account_id":28196096,"reputation":11,"user_id":21550705,"display_name":"hemanth reddy m"},"score":0,"creation_date":1681220649,"post_id":75986143,"comment_id":134018854,"body_markdown":"JDK on server is also jdk11\n$ java -version\nopenjdk version &quot;11.0.7&quot; 2020-04-14 LTS\nOpenJDK Runtime Environment Zulu11.39+15-CA (build 11.0.7+10-LTS)\nOpenJDK 64-Bit Server VM Zulu11.39+15-CA (build 11.0.7+10-LTS, mixed mode)","body":"JDK on server is also jdk11 $ java -version openjdk version &quot;11.0.7&quot; 2020-04-14 LTS OpenJDK Runtime Environment Zulu11.39+15-CA (build 11.0.7+10-LTS) OpenJDK 64-Bit Server VM Zulu11.39+15-CA (build 11.0.7+10-LTS, mixed mode)"},{"owner":{"account_id":7375742,"reputation":409,"user_id":5614434,"accept_rate":60,"display_name":"Naseer Mohammad"},"score":1,"creation_date":1681223139,"post_id":75986143,"comment_id":134019632,"body_markdown":"Suggest reading, all answers here and comments as well, https://stackoverflow.com/questions/37916165/spring-modelmapper-error-mapping-already-exists-for-controller, Also Check if null check helps as mentioned","body":"Suggest reading, all answers here and comments as well, <a href=\"https://stackoverflow.com/questions/37916165/spring-modelmapper-error-mapping-already-exists-for-controller\" title=\"spring modelmapper error mapping already exists for controller\">stackoverflow.com/questions/37916165/&hellip;</a>, Also Check if null check helps as mentioned"},{"owner":{"account_id":7375742,"reputation":409,"user_id":5614434,"accept_rate":60,"display_name":"Naseer Mohammad"},"score":0,"creation_date":1681224225,"post_id":75986143,"comment_id":134019932,"body_markdown":"Also your question says errors exist, But what are the errors that are causing exception?, could you post the full stack trace, If that shows!!","body":"Also your question says errors exist, But what are the errors that are causing exception?, could you post the full stack trace, If that shows!!"}],"answers":[{"tags":[],"owner":{"account_id":28196096,"reputation":11,"user_id":21550705,"display_name":"hemanth reddy m"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681807740,"creation_date":1681413287,"answer_id":76009057,"question_id":75986143,"body_markdown":"The error was resolved by upgrading the version of the `org.springframework.boot` dependency from `2.2.4.RELEASE` to `2.2.11.RELEASE`, which also updated the version of the `spring.data.mongodb.core` dependency.\r\n\r\nThis update fixed the issue with model mapping, which was caused by the previous version of the `spring.data.mongodb.core` dependency.","title":"After upgrading jdk version 8 to 11. And updating the model mapper plugin to 2.3.9, still facing model mapper Exception","body":"<p>The error was resolved by upgrading the version of the <code>org.springframework.boot</code> dependency from <code>2.2.4.RELEASE</code> to <code>2.2.11.RELEASE</code>, which also updated the version of the <code>spring.data.mongodb.core</code> dependency.</p>\n<p>This update fixed the issue with model mapping, which was caused by the previous version of the <code>spring.data.mongodb.core</code> dependency.</p>\n"}],"owner":{"account_id":28196096,"reputation":11,"user_id":21550705,"display_name":"hemanth reddy m"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681807740,"creation_date":1681217687,"question_id":75986143,"body_markdown":"&gt;     Exception Message: org.modelmapper.MappingException: ModelMapper mapping errors:1) Error mapping\r\n&gt;      \tat org.modelmapper.internal.Errors.throwMappingExceptionIfErrorsExist(Errors.java:380)\r\n&gt;     \tat org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:81)\r\n&gt;       at org.modelmapper.ModelMapper.mapInternal(ModelMapper.java:573)\r\n&gt;       at org.modelmapper.ModelMapper.map(ModelMapper.java:406)\r\n&gt;       at rest.translator.impl.MongoDbDocumentTranslatorImpl.toResponse(MongoDbDocumentTranslatorImpl.java:214)\r\n&gt;       at rest.translator.impl.MongoDbDocumentTranslatorImpl.translate(MongoDbDocumentTranslatorImpl.java:200)\r\n&gt;       at rest.translator.impl.UserInformationTranslatorImpl.translate(UserInformationTranslatorImpl.java:38)\r\n&gt;       at rest.controller.UserController.lambda$getAll$1(UserController.java:106)\r\n&gt;       at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n&gt;       at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654)\r\n&gt;       at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)...\r\n\r\nI tried updating the model mapper plugin.It does not work.\r\n\r\nIn Local, the `getAll` endpoint seems to be working.  \r\nAt environment server level, fails with a model mapper exception.\r\n\r\nThese are the following dependencies:\r\n\r\n    dependencies {\r\n        compile &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n        compile &#39;org.springframework.boot:spring-boot-starter-data-mongodb&#39;\r\n        compile &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n        compile &#39;org.springframework.security.oauth.boot:spring-security-oauth2-autoconfigure:2.1.0.M4&#39;\r\n        compile &#39;org.springframework.boot:spring-boot-starter-log4j2&#39;\r\n        compile &#39;org.springframework.security:spring-security-oauth2-resource-server&#39;\r\n        compile &#39;org.springframework.security:spring-security-oauth2-jose&#39;\r\n        compile &#39;org.springframework.security:spring-security-config&#39;\r\n        compile &#39;org.springframework.retry:spring-retry&#39;\r\n        compile &#39;org.springframework.boot:spring-boot-starter-cache&#39;\r\n        compile &#39;org.springframework.boot:spring-boot-starter-data-redis&#39;\r\n        compile(&#39;org.springframework.boot:spring-boot-starter-web&#39;) {\r\n            exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-logging&#39;\r\n        }\r\n        compile &#39;io.micrometer:micrometer-registry-prometheus&#39;\r\n    \r\n        compile &#39;com.nimbusds:oauth2-oidc-sdk:7.1.1&#39;\r\n    \r\n        compile &#39;io.springfox:springfox-swagger2:2.9.2&#39;\r\n        compile &#39;io.springfox:springfox-swagger-ui:2.9.2&#39;\r\n        compile &#39;io.springfox:springfox-bean-validators:2.9.2&#39;\r\n        compile &quot;gradle.plugin.com.palantir.gradle.docker:gradle-docker:0.22.1&quot;\r\n        compile &quot;gradle.plugin.com.github.sherter.google-java-format:google-java-format-gradle-plugin:0.8&quot;\r\n        compile &#39;org.apache.commons:commons-lang3:3.0&#39;\r\n        compile &#39;commons-io:commons-io:2.6&#39;\r\n        compile &#39;org.aspectj:aspectjweaver&#39;\r\n        compile &#39;org.modelmapper:modelmapper:2.3.9&#39;\r\n        compile &#39;com.amazonaws:aws-java-sdk-s3:1.11.797&#39;\r\n        compile &#39;com.amazonaws:aws-java-sdk-core:1.11.797&#39;\r\n        compile &#39;org.assertj:assertj-core:3.6.2&#39;\r\n        runtime &#39;org.springframework.boot:spring-boot-starter-tomcat&#39;\r\n        testCompile &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        testCompile &#39;org.springframework.security:spring-security-test&#39;\r\n        testCompile &#39;org.springframework.restdocs:spring-restdocs-mockmvc&#39;\r\n        testCompile &#39;de.bwaldvogel:mongo-java-server:1.16.0&#39;\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.3.1&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.3.1&#39;\r\n        testCompile group: &#39;io.findify&#39;, name: &#39;s3mock_2.12&#39;, version: &#39;0.2.6&#39;\r\n        compile &#39;io.cucumber:cucumber-java:4.5.3&#39;\r\n        implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-mail&#39;, version: &#39;2.4.2&#39;\r\n        compileOnly &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\r\n        // jdk 11 migration dependencies\r\n        implementation &quot;javax.xml.bind:jaxb-api:2.3.1&quot;\r\n        implementation &quot;com.sun.xml.bind:jaxb-core:2.3.0.1&quot;\r\n        implementation &quot;com.sun.xml.bind:jaxb-impl:2.3.1&quot;\r\n        implementation &quot;com.sun.activation:javax.activation:1.2.0&quot;\r\n        implementation(&quot;javax.annotation:javax.annotation-api:1.3.2&quot;)\r\n        compile group: &#39;org.ow2.asm&#39;, name: &#39;asm&#39;, version: &#39;7.1&#39;\r\n        testCompile(&quot;javax.xml.ws:jaxws-api:2.3.1&quot;)\r\n        implementation &#39;org.springframework.boot:spring-boot-test&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-test-autoconfigure&#39;\r\n        // end of jdk 11 migration dependencies\r\n    }\r\n\r\nmodelmapper 2.4.0 also results in same exception.\r\n\r\nWhat is the possible fix!!?","title":"After upgrading jdk version 8 to 11. And updating the model mapper plugin to 2.3.9, still facing model mapper Exception","body":"<blockquote>\n<pre><code>Exception Message: org.modelmapper.MappingException: ModelMapper mapping errors:1) Error mapping\n  at org.modelmapper.internal.Errors.throwMappingExceptionIfErrorsExist(Errors.java:380)\n  at org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:81)\n  at org.modelmapper.ModelMapper.mapInternal(ModelMapper.java:573)\n  at org.modelmapper.ModelMapper.map(ModelMapper.java:406)\n  at rest.translator.impl.MongoDbDocumentTranslatorImpl.toResponse(MongoDbDocumentTranslatorImpl.java:214)\n  at rest.translator.impl.MongoDbDocumentTranslatorImpl.translate(MongoDbDocumentTranslatorImpl.java:200)\n  at rest.translator.impl.UserInformationTranslatorImpl.translate(UserInformationTranslatorImpl.java:38)\n  at rest.controller.UserController.lambda$getAll$1(UserController.java:106)\n  at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n  at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654)\n  at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)...\n</code></pre>\n</blockquote>\n<p>I tried updating the model mapper plugin.It does not work.</p>\n<p>In Local, the <code>getAll</code> endpoint seems to be working.<br />\nAt environment server level, fails with a model mapper exception.</p>\n<p>These are the following dependencies:</p>\n<pre><code>dependencies {\n    compile 'org.springframework.boot:spring-boot-starter-actuator'\n    compile 'org.springframework.boot:spring-boot-starter-data-mongodb'\n    compile 'org.springframework.boot:spring-boot-starter-security'\n    compile 'org.springframework.security.oauth.boot:spring-security-oauth2-autoconfigure:2.1.0.M4'\n    compile 'org.springframework.boot:spring-boot-starter-log4j2'\n    compile 'org.springframework.security:spring-security-oauth2-resource-server'\n    compile 'org.springframework.security:spring-security-oauth2-jose'\n    compile 'org.springframework.security:spring-security-config'\n    compile 'org.springframework.retry:spring-retry'\n    compile 'org.springframework.boot:spring-boot-starter-cache'\n    compile 'org.springframework.boot:spring-boot-starter-data-redis'\n    compile('org.springframework.boot:spring-boot-starter-web') {\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n    }\n    compile 'io.micrometer:micrometer-registry-prometheus'\n\n    compile 'com.nimbusds:oauth2-oidc-sdk:7.1.1'\n\n    compile 'io.springfox:springfox-swagger2:2.9.2'\n    compile 'io.springfox:springfox-swagger-ui:2.9.2'\n    compile 'io.springfox:springfox-bean-validators:2.9.2'\n    compile &quot;gradle.plugin.com.palantir.gradle.docker:gradle-docker:0.22.1&quot;\n    compile &quot;gradle.plugin.com.github.sherter.google-java-format:google-java-format-gradle-plugin:0.8&quot;\n    compile 'org.apache.commons:commons-lang3:3.0'\n    compile 'commons-io:commons-io:2.6'\n    compile 'org.aspectj:aspectjweaver'\n    compile 'org.modelmapper:modelmapper:2.3.9'\n    compile 'com.amazonaws:aws-java-sdk-s3:1.11.797'\n    compile 'com.amazonaws:aws-java-sdk-core:1.11.797'\n    compile 'org.assertj:assertj-core:3.6.2'\n    runtime 'org.springframework.boot:spring-boot-starter-tomcat'\n    testCompile 'org.springframework.boot:spring-boot-starter-test'\n    testCompile 'org.springframework.security:spring-security-test'\n    testCompile 'org.springframework.restdocs:spring-restdocs-mockmvc'\n    testCompile 'de.bwaldvogel:mongo-java-server:1.16.0'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.3.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.3.1'\n    testCompile group: 'io.findify', name: 's3mock_2.12', version: '0.2.6'\n    compile 'io.cucumber:cucumber-java:4.5.3'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-mail', version: '2.4.2'\n    compileOnly &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\n    // jdk 11 migration dependencies\n    implementation &quot;javax.xml.bind:jaxb-api:2.3.1&quot;\n    implementation &quot;com.sun.xml.bind:jaxb-core:2.3.0.1&quot;\n    implementation &quot;com.sun.xml.bind:jaxb-impl:2.3.1&quot;\n    implementation &quot;com.sun.activation:javax.activation:1.2.0&quot;\n    implementation(&quot;javax.annotation:javax.annotation-api:1.3.2&quot;)\n    compile group: 'org.ow2.asm', name: 'asm', version: '7.1'\n    testCompile(&quot;javax.xml.ws:jaxws-api:2.3.1&quot;)\n    implementation 'org.springframework.boot:spring-boot-test'\n    implementation 'org.springframework.boot:spring-boot-test-autoconfigure'\n    // end of jdk 11 migration dependencies\n}\n</code></pre>\n<p>modelmapper 2.4.0 also results in same exception.</p>\n<p>What is the possible fix!!?</p>\n"},{"tags":["java","maven","hygiene"],"owner":{"account_id":22314095,"reputation":11,"user_id":16537701,"display_name":"Praveen Mathi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681807482,"creation_date":1681804205,"question_id":76042045,"body_markdown":"While running `mvn clean install` in hygieia/API\r\n\r\n```\r\n[ERROR] Errors: [ERROR] MonitorProxyConfigTest.testProxy_PROXY_DIRECT:122-&gt;assertAuthenticator:370 &#187; InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] MonitorProxyConfigTest.testProxy_PROXY_HTTP:78-&gt;assertAuthenticator:370 &#187; InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] MonitorProxyConfigTest.testProxy_PROXY_HTTP_lowercase:100-&gt;assertAuthenticator:370 &#187; InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] MonitorProxyConfigTest.testProxy_PROXY_SOCKS:144-&gt;assertAuthenticator:370 &#187; InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] MonitorProxyConfigTest.testProxy_PROXY_empty:175-&gt;assertAuthenticator:370 &#187; InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] MonitorProxyConfigTest.testProxy_PROXY_null:219-&gt;assertAuthenticator:370 &#187; InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] MonitorProxyConfigTest.testProxy_PROXY_whitespace:197-&gt;assertAuthenticator:370 &#187; InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] ServiceServiceTest.update:93 &#187; NullPointer\r\n```\r\n\r\n After running `mvn clean install` in hygieia API folder I need to get API.jar file but it is showing error.","title":"Getting error while running mvn clean install in hygieia/API","body":"<p>While running <code>mvn clean install</code> in hygieia/API</p>\n<pre><code>[ERROR] Errors: [ERROR] MonitorProxyConfigTest.testProxy_PROXY_DIRECT:122-&gt;assertAuthenticator:370 » InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] MonitorProxyConfigTest.testProxy_PROXY_HTTP:78-&gt;assertAuthenticator:370 » InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] MonitorProxyConfigTest.testProxy_PROXY_HTTP_lowercase:100-&gt;assertAuthenticator:370 » InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] MonitorProxyConfigTest.testProxy_PROXY_SOCKS:144-&gt;assertAuthenticator:370 » InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] MonitorProxyConfigTest.testProxy_PROXY_empty:175-&gt;assertAuthenticator:370 » InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] MonitorProxyConfigTest.testProxy_PROXY_null:219-&gt;assertAuthenticator:370 » InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] MonitorProxyConfigTest.testProxy_PROXY_whitespace:197-&gt;assertAuthenticator:370 » InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] ServiceServiceTest.update:93 » NullPointer\n</code></pre>\n<p>After running <code>mvn clean install</code> in hygieia API folder I need to get API.jar file but it is showing error.</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":389084,"reputation":111,"user_id":748348,"display_name":"Johan P"},"score":0,"creation_date":1675178872,"post_id":75298586,"comment_id":132870328,"body_markdown":"Both links concern iText5, I presume you are using itext7?","body":"Both links concern iText5, I presume you are using itext7?"},{"owner":{"account_id":6129872,"reputation":1,"user_id":4780476,"display_name":"Fabio M&#225;ndity"},"score":0,"creation_date":1675609173,"post_id":75298586,"comment_id":132961815,"body_markdown":"I use 5.5.13.1 from the maven repo https://mvnrepository.com/artifact/com.itextpdf/itextpdf.","body":"I use 5.5.13.1 from the maven repo <a href=\"https://mvnrepository.com/artifact/com.itextpdf/itextpdf\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.itextpdf/itextpdf</a>."},{"owner":{"account_id":6129872,"reputation":1,"user_id":4780476,"display_name":"Fabio M&#225;ndity"},"score":0,"creation_date":1675609750,"post_id":75298586,"comment_id":132961947,"body_markdown":"How to use a custom TTF? I&#39;ve tried this\nhttps://stackoverflow.com/questions/6922959/how-to-add-new-fonts-to-itext-using-java\nIt wrotes: \nThe method createFont(PRIndirectReference) in the type BaseFont is not applicable for the arguments (String, String)","body":"How to use a custom TTF? I&#39;ve tried this <a href=\"https://stackoverflow.com/questions/6922959/how-to-add-new-fonts-to-itext-using-java\" title=\"how to add new fonts to itext using java\">stackoverflow.com/questions/6922959/&hellip;</a> It wrotes:  The method createFont(PRIndirectReference) in the type BaseFont is not applicable for the arguments (String, String)"},{"owner":{"account_id":6129872,"reputation":1,"user_id":4780476,"display_name":"Fabio M&#225;ndity"},"score":0,"creation_date":1680199570,"post_id":75298586,"comment_id":133861949,"body_markdown":"I changed to itext 7, but still can&#39;t solve the problem.","body":"I changed to itext 7, but still can&#39;t solve the problem."}],"answers":[{"tags":[],"owner":{"account_id":6129872,"reputation":1,"user_id":4780476,"display_name":"Fabio M&#225;ndity"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680201097,"creation_date":1680201097,"answer_id":75891789,"question_id":75298586,"body_markdown":"I finally made it.\r\nI don&#39;t know why, but UTF-8 is not working with ő, Ő, ű, Ű characters, but CP1250 does.\r\n\r\n```\r\n    PdfFont font = PdfFontFactory.createFont(&quot;C:/Windows/Fonts/arial.ttf&quot;, PdfEncodings.CP1250, true);\r\n```","title":"How to place foreign characters to a PDF in itextpdf like &#39;ő&#39; or &#39;ű&#39;?","body":"<p>I finally made it.\nI don't know why, but UTF-8 is not working with ő, Ő, ű, Ű characters, but CP1250 does.</p>\n<pre><code>    PdfFont font = PdfFontFactory.createFont(&quot;C:/Windows/Fonts/arial.ttf&quot;, PdfEncodings.CP1250, true);\n</code></pre>\n"}],"owner":{"account_id":6129872,"reputation":1,"user_id":4780476,"display_name":"Fabio M&#225;ndity"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681807248,"creation_date":1675175009,"question_id":75298586,"body_markdown":"I have a function to place my text in the document into something like a table.\r\n\r\n    \tprivate static void addCenteredParagraph(Document document, float width, String text) {\r\n    \tPdfFont timesNewRomanBold = null;\r\n    \ttry {\r\n    \ttimesNewRomanBold = PdfFontFactory.createFont(StandardFonts.TIMES_BOLD);\r\n    \t} catch (IOException e) {\r\n    \tLOGGER.error(&quot;Failed to create Times New Roman Bold font.&quot;);\r\n    \tLOGGER.error(e);\r\n    \t}\r\n    \r\n    \tList&lt;TabStop&gt; tabStops = new ArrayList&lt;&gt;();\r\n    \r\n    \t// Create a TabStop at the middle of the page\r\n    \ttabStops.add(new TabStop(width / 2, TabAlignment.CENTER));\r\n    \r\n    \t// Create a TabStop at the end of the page\r\n    \ttabStops.add(new TabStop(width, TabAlignment.LEFT));\r\n    \r\n    \tParagraph p = new Paragraph().addTabStops(tabStops).setFontSize(14);\r\n    \tif (timesNewRomanBold != null) {\r\n    \t\tp.setFont(timesNewRomanBold);\r\n    \t}\r\n    \tp.add(new Tab()).add(text).add(new Tab());\r\n    \tdocument.add(p);\r\n    \t}\r\n\r\nBut my problem is it shows empty characters in the exported PDF instead of the letters ő, Ő,ű, Ű. \r\n\r\nTimes New Roman supports these characters, so I think I need to set it to UTF8, but I couldn&#39;t find a workaround on Google to do it. \r\n\r\nCan someone please explain how to make these characters appear properly on the pdf?\r\n\r\nTried these, but some of them are deprecated functions, or not applicable to the arguments I&#39;m trying to give them, or I don&#39;t use Chunk. \r\nhttps://stackoverflow.com/questions/24772212/itext-pdf-writer-is-there-any-way-to-allow-unicode-subscript-symbol-in-the-pdf\r\nhttps://stackoverflow.com/questions/39505223/how-can-i-set-encoding-for-itext-when-i-insert-value-to-placeholder-in-pdf-form\r\n\r\nEdit: I figured out, that timesNewRomanBold is null, even if I set it to HELVETICA or COURIER.\r\n\r\nEdit 2: I also tried with ChatGPT, but the program still doesn&#39;t show these characters:\r\n\r\n```\r\n    import java.io.IOException;\r\n    \r\n    import com.itextpdf.io.font.PdfEncodings;\r\n    import com.itextpdf.kernel.font.PdfFont;\r\n    import com.itextpdf.kernel.font.PdfFontFactory;\r\n    import com.itextpdf.kernel.pdf.PdfDocument;\r\n    import com.itextpdf.kernel.pdf.PdfWriter;\r\n    import com.itextpdf.layout.Document;\r\n    import com.itextpdf.layout.element.Paragraph;\r\n    import com.itextpdf.layout.property.TextAlignment;\r\n    import com.itextpdf.layout.property.VerticalAlignment;\r\n    \r\n    public class PDFMaker {\r\n        public static void main(String[] args) {\r\n            try {\r\n            \tPdfDocument pdfDoc = new PdfDocument(new PdfWriter(&quot;output.pdf&quot;));\r\n            \tDocument document = new Document(pdfDoc);\r\n    \r\n                PdfFont font = PdfFontFactory.createFont(&quot;C:/Windows/Fonts/arial.ttf&quot;, PdfEncodings.UTF8, true);\r\n    \r\n                Paragraph paragraph = new Paragraph(&quot;&#193;rv&#237;ztűrő t&#252;k&#246;rf&#250;r&#243;g&#233;p.&quot;);\r\n                paragraph.setFont(font);\r\n                paragraph.setTextAlignment(TextAlignment.CENTER);\r\n                paragraph.setVerticalAlignment(VerticalAlignment.MIDDLE);\r\n                document.add(paragraph);\r\n    \r\n                document.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n```","title":"How to place foreign characters to a PDF in itextpdf like &#39;ő&#39; or &#39;ű&#39;?","body":"<p>I have a function to place my text in the document into something like a table.</p>\n<pre><code>    private static void addCenteredParagraph(Document document, float width, String text) {\n    PdfFont timesNewRomanBold = null;\n    try {\n    timesNewRomanBold = PdfFontFactory.createFont(StandardFonts.TIMES_BOLD);\n    } catch (IOException e) {\n    LOGGER.error(&quot;Failed to create Times New Roman Bold font.&quot;);\n    LOGGER.error(e);\n    }\n\n    List&lt;TabStop&gt; tabStops = new ArrayList&lt;&gt;();\n\n    // Create a TabStop at the middle of the page\n    tabStops.add(new TabStop(width / 2, TabAlignment.CENTER));\n\n    // Create a TabStop at the end of the page\n    tabStops.add(new TabStop(width, TabAlignment.LEFT));\n\n    Paragraph p = new Paragraph().addTabStops(tabStops).setFontSize(14);\n    if (timesNewRomanBold != null) {\n        p.setFont(timesNewRomanBold);\n    }\n    p.add(new Tab()).add(text).add(new Tab());\n    document.add(p);\n    }\n</code></pre>\n<p>But my problem is it shows empty characters in the exported PDF instead of the letters ő, Ő,ű, Ű.</p>\n<p>Times New Roman supports these characters, so I think I need to set it to UTF8, but I couldn't find a workaround on Google to do it.</p>\n<p>Can someone please explain how to make these characters appear properly on the pdf?</p>\n<p>Tried these, but some of them are deprecated functions, or not applicable to the arguments I'm trying to give them, or I don't use Chunk.\n<a href=\"https://stackoverflow.com/questions/24772212/itext-pdf-writer-is-there-any-way-to-allow-unicode-subscript-symbol-in-the-pdf\">Itext PDF writer, Is there any way to allow unicode subscript symbol in the pdf? (Without setTextRise)</a>\n<a href=\"https://stackoverflow.com/questions/39505223/how-can-i-set-encoding-for-itext-when-i-insert-value-to-placeholder-in-pdf-form\">How can I set encoding for iText when I insert value to placeholder in pdf form?</a></p>\n<p>Edit: I figured out, that timesNewRomanBold is null, even if I set it to HELVETICA or COURIER.</p>\n<p>Edit 2: I also tried with ChatGPT, but the program still doesn't show these characters:</p>\n<pre><code>    import java.io.IOException;\n    \n    import com.itextpdf.io.font.PdfEncodings;\n    import com.itextpdf.kernel.font.PdfFont;\n    import com.itextpdf.kernel.font.PdfFontFactory;\n    import com.itextpdf.kernel.pdf.PdfDocument;\n    import com.itextpdf.kernel.pdf.PdfWriter;\n    import com.itextpdf.layout.Document;\n    import com.itextpdf.layout.element.Paragraph;\n    import com.itextpdf.layout.property.TextAlignment;\n    import com.itextpdf.layout.property.VerticalAlignment;\n    \n    public class PDFMaker {\n        public static void main(String[] args) {\n            try {\n                PdfDocument pdfDoc = new PdfDocument(new PdfWriter(&quot;output.pdf&quot;));\n                Document document = new Document(pdfDoc);\n    \n                PdfFont font = PdfFontFactory.createFont(&quot;C:/Windows/Fonts/arial.ttf&quot;, PdfEncodings.UTF8, true);\n    \n                Paragraph paragraph = new Paragraph(&quot;Árvíztűrő tükörfúrógép.&quot;);\n                paragraph.setFont(font);\n                paragraph.setTextAlignment(TextAlignment.CENTER);\n                paragraph.setVerticalAlignment(VerticalAlignment.MIDDLE);\n                document.add(paragraph);\n    \n                document.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1681782350,"post_id":76040445,"comment_id":134109095,"body_markdown":"When the code reaches the line `HashMap&lt;String, Integer&gt; reversed = new HashMap&lt;String, Integer&gt;()`, what do you expect to be in the variable named `map`?","body":"When the code reaches the line <code>HashMap&lt;String, Integer&gt; reversed = new HashMap&lt;String, Integer&gt;()</code>, what do you expect to be in the variable named <code>map</code>?"}],"answers":[{"tags":[],"owner":{"account_id":7976288,"reputation":1639,"user_id":6019358,"display_name":"Bryce Chan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681782501,"creation_date":1681782501,"answer_id":76040484,"question_id":76040445,"body_markdown":"The ```reverse()``` method expects ```Map&lt;Integer, String&gt;``` parameter and return a ```Map&lt;Integer, String&gt;``` object, but you&#39;re calling it without any arguments and without assigning the object.\r\n\r\nI modified your code, this should work.\r\n\r\n```\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class test {\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;Integer, String&gt; original = new HashMap&lt;Integer, String&gt;();\r\n        original.put(18, &quot;Eightenn&quot;);\r\n        original.put(50, &quot;Fifty&quot;);\r\n        original.put(132, &quot;neThreeTwo&quot;);\r\n\r\n        Map&lt;String, Integer&gt; reversed = reverse(original);\r\n        System.out.println(&quot;Reversed map: &quot; + reversed);\r\n    }\r\n\r\n    public static Map&lt;String, Integer&gt; reverse(Map&lt;Integer, String&gt; map) {\r\n        Map&lt;String, Integer&gt; reversed = new HashMap&lt;String, Integer&gt;();\r\n        for(int key : map.keySet()) {\r\n            String value = map.get(key);\r\n            reversed.put(value, key);\r\n        }\r\n        return reversed;\r\n    }\r\n}\r\n```","title":"Having trouble running public HashMap method","body":"<p>The <code>reverse()</code> method expects <code>Map&lt;Integer, String&gt;</code> parameter and return a <code>Map&lt;Integer, String&gt;</code> object, but you're calling it without any arguments and without assigning the object.</p>\n<p>I modified your code, this should work.</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class test {\n\n    public static void main(String[] args) {\n        Map&lt;Integer, String&gt; original = new HashMap&lt;Integer, String&gt;();\n        original.put(18, &quot;Eightenn&quot;);\n        original.put(50, &quot;Fifty&quot;);\n        original.put(132, &quot;neThreeTwo&quot;);\n\n        Map&lt;String, Integer&gt; reversed = reverse(original);\n        System.out.println(&quot;Reversed map: &quot; + reversed);\n    }\n\n    public static Map&lt;String, Integer&gt; reverse(Map&lt;Integer, String&gt; map) {\n        Map&lt;String, Integer&gt; reversed = new HashMap&lt;String, Integer&gt;();\n        for(int key : map.keySet()) {\n            String value = map.get(key);\n            reversed.put(value, key);\n        }\n        return reversed;\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user18912930"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76040484,"answer_count":1,"score":1,"last_activity_date":1681806775,"creation_date":1681782019,"question_id":76040445,"body_markdown":"The purpose and goal of the method is to print the hash map in reverse from ```&lt;Key, Value&gt;``` to ```&lt;Value, Key&gt;```. But I&#39;m having a problem on line 7(**revrse();**) where where I get the error \r\n\r\n&gt; &quot;*The method reverse(Map&lt;Integer,String&gt;) in the type lab8_Part3 is not applicable for the arguments ()*&quot;. \r\n\r\nAll the solutions eclipse suggest result in an error and I&#39;m stumped. Help is appreciated\r\n\r\n```\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\treverse();\r\n\t}\r\n\r\n\tpublic Map&lt;String, Integer&gt; reverse(Map&lt;Integer, String&gt; map) {\r\n\t    HashMap&lt;String, Integer&gt; reversed = new HashMap&lt;String, Integer&gt;();\r\n\t    reversed.put(&quot;Eightenn&quot;, 18);\r\n\t    reversed.put(&quot;Fifty&quot;, 50);\r\n\t    reversed.put(&quot;neThreeTwo&quot;, 132);\r\n\t    reversed.put(&quot;Ocho&quot;, 8);\r\n\t    reversed.put(&quot;Forty-one&quot;, 41);\r\n\t    System.out.println(&quot;Reversered map &quot; + reversed);\r\n\t    for(int key : map.keySet()) {\r\n\t        String value = map.get(key);\r\n\r\n\t        if(!reversed.containsKey(value)) {\r\n\t            reversed.put(value, key);\r\n\t        }\r\n\t    }\r\n\t    return reversed;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nThe purpose and goal of the method is to print the hash map in reverse from ```&lt;Key, Value&gt;``` to ```&lt;Value, Key&gt;```.","title":"Having trouble running public HashMap method","body":"<p>The purpose and goal of the method is to print the hash map in reverse from <code>&lt;Key, Value&gt;</code> to <code>&lt;Value, Key&gt;</code>. But I'm having a problem on line 7(<strong>revrse();</strong>) where where I get the error</p>\n<blockquote>\n<p>&quot;<em>The method reverse(Map&lt;Integer,String&gt;) in the type lab8_Part3 is not applicable for the arguments ()</em>&quot;.</p>\n</blockquote>\n<p>All the solutions eclipse suggest result in an error and I'm stumped. Help is appreciated</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class test {\n\n    public static void main(String[] args) {\n        reverse();\n    }\n\n    public Map&lt;String, Integer&gt; reverse(Map&lt;Integer, String&gt; map) {\n        HashMap&lt;String, Integer&gt; reversed = new HashMap&lt;String, Integer&gt;();\n        reversed.put(&quot;Eightenn&quot;, 18);\n        reversed.put(&quot;Fifty&quot;, 50);\n        reversed.put(&quot;neThreeTwo&quot;, 132);\n        reversed.put(&quot;Ocho&quot;, 8);\n        reversed.put(&quot;Forty-one&quot;, 41);\n        System.out.println(&quot;Reversered map &quot; + reversed);\n        for(int key : map.keySet()) {\n            String value = map.get(key);\n\n            if(!reversed.containsKey(value)) {\n                reversed.put(value, key);\n            }\n        }\n        return reversed;\n    }\n}\n</code></pre>\n<p>The purpose and goal of the method is to print the hash map in reverse from <code>&lt;Key, Value&gt;</code> to <code>&lt;Value, Key&gt;</code>.</p>\n"},{"tags":["java","macos","java-home","macos-big-sur"],"comments":[{"owner":{"account_id":18096884,"reputation":7249,"user_id":13155046,"display_name":"Milovan Tomašević"},"score":0,"creation_date":1608034945,"post_id":64917779,"comment_id":115453301,"body_markdown":"You may find the answers from [JAVA_HOME in Mac](https://stackoverflow.com/questions/14702702/how-to-set-java-home-in-mac-permanently/65162351#65162351)","body":"You may find the answers from <a href=\"https://stackoverflow.com/questions/14702702/how-to-set-java-home-in-mac-permanently/65162351#65162351\">JAVA_HOME in Mac</a>"},{"owner":{"account_id":3016122,"reputation":181,"user_id":3375037,"display_name":"lenborje"},"score":0,"creation_date":1617976179,"post_id":64917779,"comment_id":118469081,"body_markdown":"I can&#39;t reproduce this problem at all, on any of the Macs I have access to. But then I also don&#39;t have the `/Library/Internet Plug-Ins/JavaAppletPlugin.plugin` mentioned below on any of them.","body":"I can&#39;t reproduce this problem at all, on any of the Macs I have access to. But then I also don&#39;t have the <code>&#47;Library&#47;Internet Plug-Ins&#47;JavaAppletPlugin.plugin</code> mentioned below on any of them."}],"answers":[{"tags":[],"owner":{"account_id":17535901,"reputation":1139,"user_id":12719036,"display_name":"Konstantin"},"down_vote_count":1,"up_vote_count":59,"is_accepted":true,"score":58,"last_activity_date":1605812292,"creation_date":1605810554,"answer_id":64917842,"question_id":64917779,"body_markdown":"Seems in macOS Big Sur v11.0.1 the behavior of the `/usr/libexec/java_home -v ...` command has changed: it is sensitive to the previously set value of `JAVA_HOME` environment variable.\r\n\r\nExact behavior is not clear, I couldn&#39;t find any documentation on this, but in my experiments it reported the version already set in `JAVA_HOME`, regardless of the `-v` switch:\r\n\r\n```shell\r\n% JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home /usr/libexec/java_home -v 1.8.0_162\r\n/Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home\r\n```\r\n\r\nAdditionally, I noticed that it reports nothing, if `JAVA_HOME` is set, but doesn&#39;t point to a valid java home (also for `-V`):\r\n\r\n```shell\r\n% JAVA_HOME=dummy /usr/libexec/java_home -v 1.7.0_45\r\n% JAVA_HOME=dummy /usr/libexec/java_home -V\r\n%\r\n```\r\n\r\nSolution is to ensure `JAVA_HOME` is _not_ set before executing `/usr/libexec/java_home`:\r\n\r\n```shell\r\n% unset JAVA_HOME ; /usr/libexec/java_home -v 1.8.0_162\r\n/Library/Java/JavaVirtualMachines/jdk1.8.0_162.jdk/Contents/Home\r\n```\r\n","title":"Wrong JAVA_HOME after upgrade to macOS Big Sur v11.0.1","body":"<p>Seems in macOS Big Sur v11.0.1 the behavior of the <code>/usr/libexec/java_home -v ...</code> command has changed: it is sensitive to the previously set value of <code>JAVA_HOME</code> environment variable.</p>\n<p>Exact behavior is not clear, I couldn't find any documentation on this, but in my experiments it reported the version already set in <code>JAVA_HOME</code>, regardless of the <code>-v</code> switch:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>% JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home /usr/libexec/java_home -v 1.8.0_162\n/Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home\n</code></pre>\n<p>Additionally, I noticed that it reports nothing, if <code>JAVA_HOME</code> is set, but doesn't point to a valid java home (also for <code>-V</code>):</p>\n<pre class=\"lang-sh prettyprint-override\"><code>% JAVA_HOME=dummy /usr/libexec/java_home -v 1.7.0_45\n% JAVA_HOME=dummy /usr/libexec/java_home -V\n%\n</code></pre>\n<p>Solution is to ensure <code>JAVA_HOME</code> is <em>not</em> set before executing <code>/usr/libexec/java_home</code>:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>% unset JAVA_HOME ; /usr/libexec/java_home -v 1.8.0_162\n/Library/Java/JavaVirtualMachines/jdk1.8.0_162.jdk/Contents/Home\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10496023,"reputation":71,"user_id":7736253,"display_name":"Philip"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607639420,"creation_date":1607639420,"answer_id":65243230,"question_id":64917779,"body_markdown":"For me, it is totally broken.\r\nUnsetting JAVA_HOME, /usr/libexec/java_home gives:\r\n\r\n/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home","title":"Wrong JAVA_HOME after upgrade to macOS Big Sur v11.0.1","body":"<p>For me, it is totally broken.\nUnsetting JAVA_HOME, /usr/libexec/java_home gives:</p>\n<p>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home</p>\n"},{"tags":[],"owner":{"account_id":4215255,"reputation":1711,"user_id":3451686,"display_name":"landerlyoung"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1608133643,"creation_date":1608133643,"answer_id":65326599,"question_id":64917779,"body_markdown":"As I tryed. I just delete the `/Library/Internet Plug-Ins/JavaAppletPlugin.plugin` and relogin. Then everything works fine.","title":"Wrong JAVA_HOME after upgrade to macOS Big Sur v11.0.1","body":"<p>As I tryed. I just delete the <code>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin</code> and relogin. Then everything works fine.</p>\n"},{"tags":[],"owner":{"account_id":3229028,"reputation":591,"user_id":2724716,"display_name":"Muditha sumanathunga"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1611042893,"creation_date":1611042893,"answer_id":65787369,"question_id":64917779,"body_markdown":"For me https://developer.apple.com/forums/thread/666681 worked after spending so much time on the solutions.\r\n\r\nI simply call following commands\r\n\r\nsudo rm -fr /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin \r\n\r\nsudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefpane\r\n\r\n","title":"Wrong JAVA_HOME after upgrade to macOS Big Sur v11.0.1","body":"<p>For me <a href=\"https://developer.apple.com/forums/thread/666681\" rel=\"noreferrer\">https://developer.apple.com/forums/thread/666681</a> worked after spending so much time on the solutions.</p>\n<p>I simply call following commands</p>\n<p>sudo rm -fr /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin</p>\n<p>sudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefpane</p>\n"},{"tags":[],"owner":{"account_id":1119443,"reputation":6044,"user_id":1108098,"accept_rate":73,"display_name":"jordiburgos"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1611761629,"creation_date":1611574463,"answer_id":65883959,"question_id":64917779,"body_markdown":"Had this problem after installing Big Sur.\r\n\r\nFirst I started uninstalling all JDK from the system with:\r\n\r\n    sudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin  \r\n    sudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane  \r\n    sudo rm -rf /Library/Application\\ Support/Oracle/Java/ \r\n    sudo rm -rf /Library/Java/JavaVirtualMachines \r\n\r\nThen, I installed the JDK that I am going to use:\r\n\r\n    brew tap AdoptOpenJDK/openjdk\r\n    brew install --cask adoptopenjdk&lt;version&gt;\r\n\r\n","title":"Wrong JAVA_HOME after upgrade to macOS Big Sur v11.0.1","body":"<p>Had this problem after installing Big Sur.</p>\n<p>First I started uninstalling all JDK from the system with:</p>\n<pre><code>sudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin  \nsudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane  \nsudo rm -rf /Library/Application\\ Support/Oracle/Java/ \nsudo rm -rf /Library/Java/JavaVirtualMachines \n</code></pre>\n<p>Then, I installed the JDK that I am going to use:</p>\n<pre><code>brew tap AdoptOpenJDK/openjdk\nbrew install --cask adoptopenjdk&lt;version&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":202133,"reputation":4744,"user_id":449007,"accept_rate":86,"display_name":"yozhik"},"down_vote_count":2,"up_vote_count":61,"is_accepted":false,"score":59,"last_activity_date":1613683099,"creation_date":1613683099,"answer_id":66268297,"question_id":64917779,"body_markdown":"I have Big Sur 11.2.1 from 18.02.2021. I had the same issue with JAVA_HOME path configuration. After reading a lot of information I solved my problem with next:\r\n\r\nInstall JDK 8: https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\r\nJava SE Development Kit 8u281\r\n\r\nInstall it as usual on your MacOS Big Sur.\r\n\r\nCheck JDK version:\r\n\r\n    java -version\r\n    java version &quot;1.8.0_281&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_281-b09)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.281-b09, mixed mode)\r\n\r\nCheck what versions of JDK are already installed on your machine:\r\n\r\n    /usr/libexec/java_home -V \r\n    Matching Java Virtual Machines (2):\r\n        1.8.281.09 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n        1.8.0_281 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_281.jdk/Contents/Home\r\n    /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n\r\nGet only one that you need:\r\n\r\n    /usr/libexec/java_home -v 1.8.0_281\r\n    /Library/Java/JavaVirtualMachines/jdk1.8.0_281.jdk/Contents/Home\r\n\r\nOn Catalina and Big Sur - there is Z-shell , to add Environment variables like JAVA_HOME there are two files for that: ~/.zshenv and ~/.zshrc, I couldn&#39;t make it work with first one. It worked for me like this:\r\n\r\n    nano ~/.zshrc\r\n\r\nAdd to that file this line:\r\n\r\n    export JAVA_HOME=$(/usr/libexec/java_home -v 1.8.0_281)\r\n\r\nPress Ctrl+X and save changes.\r\n\r\nThen run command to apply that changes to current terminal:\r\n\r\n    source ~/.zshrc\r\n\r\nAfter that you can check if everything is working with command:\r\n\r\n    echo $JAVA_HOME\r\n    it will print you: /Library/Java/JavaVirtualMachines/jdk1.8.0_281.jdk/Contents/Home\r\n\r\nRestart your terminal and programs which will be using JAVA_HOME variable. For me it was Android Studio. Now everything works fine. \r\nI am new to Mac OS and it took me with 4hours to solve this. With Windows it&#39;s just done in a minute:)","title":"Wrong JAVA_HOME after upgrade to macOS Big Sur v11.0.1","body":"<p>I have Big Sur 11.2.1 from 18.02.2021. I had the same issue with JAVA_HOME path configuration. After reading a lot of information I solved my problem with next:</p>\n<p>Install JDK 8: <a href=\"https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\" rel=\"noreferrer\">https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html</a>\nJava SE Development Kit 8u281</p>\n<p>Install it as usual on your MacOS Big Sur.</p>\n<p>Check JDK version:</p>\n<pre><code>java -version\njava version &quot;1.8.0_281&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_281-b09)\nJava HotSpot(TM) 64-Bit Server VM (build 25.281-b09, mixed mode)\n</code></pre>\n<p>Check what versions of JDK are already installed on your machine:</p>\n<pre><code>/usr/libexec/java_home -V \nMatching Java Virtual Machines (2):\n    1.8.281.09 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n    1.8.0_281 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_281.jdk/Contents/Home\n/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n</code></pre>\n<p>Get only one that you need:</p>\n<pre><code>/usr/libexec/java_home -v 1.8.0_281\n/Library/Java/JavaVirtualMachines/jdk1.8.0_281.jdk/Contents/Home\n</code></pre>\n<p>On Catalina and Big Sur - there is Z-shell , to add Environment variables like JAVA_HOME there are two files for that: ~/.zshenv and ~/.zshrc, I couldn't make it work with first one. It worked for me like this:</p>\n<pre><code>nano ~/.zshrc\n</code></pre>\n<p>Add to that file this line:</p>\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home -v 1.8.0_281)\n</code></pre>\n<p>Press Ctrl+X and save changes.</p>\n<p>Then run command to apply that changes to current terminal:</p>\n<pre><code>source ~/.zshrc\n</code></pre>\n<p>After that you can check if everything is working with command:</p>\n<pre><code>echo $JAVA_HOME\nit will print you: /Library/Java/JavaVirtualMachines/jdk1.8.0_281.jdk/Contents/Home\n</code></pre>\n<p>Restart your terminal and programs which will be using JAVA_HOME variable. For me it was Android Studio. Now everything works fine.\nI am new to Mac OS and it took me with 4hours to solve this. With Windows it's just done in a minute:)</p>\n"},{"tags":[],"owner":{"account_id":4181390,"reputation":1,"user_id":3426320,"display_name":"partha"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1623103863,"creation_date":1623086147,"answer_id":67876037,"question_id":64917779,"body_markdown":"Agree with [@Konstantin][1]. I faced the same issue , after the Big Sur upgrade. \r\n\r\nThe steps you need to follow to fix this are :\r\n\r\n   1. unset JAVA_HOME\r\n   2. check what java_home in library is pointing to: /usr/libexec/java_home -v\r\n\r\n&gt; Matching Java Virtual Machines (2):\r\n\r\n    1.8.221.11 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n\r\n    1.8.0_221 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_221.jdk/Contents/Home\r\n\r\n\r\n   3. Because both the versions start with 1.8.221, so by default 1st one is picked, check the version\r\n\r\n&gt; /Library/Java/JavaVirtualMachines/jdk1.8.0_221.jdk/Contents/Home\r\n\r\n   4.  `export JAVA_HOME=&#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_221.jdk/Contents/Home&#39;`\r\n   5. `echo $JAVA_HOME`\r\n\r\n&gt; /Library/Java/JavaVirtualMachines/jdk1.8.0_221.jdk/Contents/Home\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/12719036/konstantin","title":"Wrong JAVA_HOME after upgrade to macOS Big Sur v11.0.1","body":"<p>Agree with <a href=\"https://stackoverflow.com/users/12719036/konstantin\">@Konstantin</a>. I faced the same issue , after the Big Sur upgrade.</p>\n<p>The steps you need to follow to fix this are :</p>\n<ol>\n<li>unset JAVA_HOME</li>\n<li>check what java_home in library is pointing to: /usr/libexec/java_home -v</li>\n</ol>\n<blockquote>\n<p>Matching Java Virtual Machines (2):</p>\n</blockquote>\n<pre><code>1.8.221.11 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n\n1.8.0_221 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_221.jdk/Contents/Home\n</code></pre>\n<ol start=\"3\">\n<li>Because both the versions start with 1.8.221, so by default 1st one is picked, check the version</li>\n</ol>\n<blockquote>\n<p>/Library/Java/JavaVirtualMachines/jdk1.8.0_221.jdk/Contents/Home</p>\n</blockquote>\n<ol start=\"4\">\n<li><code>export JAVA_HOME='/Library/Java/JavaVirtualMachines/jdk1.8.0_221.jdk/Contents/Home'</code></li>\n<li><code>echo $JAVA_HOME</code></li>\n</ol>\n<blockquote>\n<p>/Library/Java/JavaVirtualMachines/jdk1.8.0_221.jdk/Contents/Home</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12745655,"reputation":1,"user_id":9771583,"display_name":"mismo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625615243,"creation_date":1625615243,"answer_id":68278517,"question_id":64917779,"body_markdown":"$&gt; /usr/libexec/java_home -v &quot;1.8.0&quot;\r\nappears to access the exact jdk if present. Ignores the &#39;plugin&#39; if installed. \r\nThe quotes were recommended in random places on internet. They are also shown in the man page.","title":"Wrong JAVA_HOME after upgrade to macOS Big Sur v11.0.1","body":"<p>$&gt; /usr/libexec/java_home -v &quot;1.8.0&quot;\nappears to access the exact jdk if present. Ignores the 'plugin' if installed.\nThe quotes were recommended in random places on internet. They are also shown in the man page.</p>\n"},{"tags":[],"owner":{"account_id":7205529,"reputation":680,"user_id":5501258,"display_name":"Aseem Savio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640331437,"creation_date":1640331437,"answer_id":70470589,"question_id":64917779,"body_markdown":"The `/usr/libexec/java_home` tool in macOS will give you the location of the latest Java version installed. Invoke it from the terminal to get a response similar to the following:\r\n\r\n    /Library/Java/JavaVirtualMachines/jdk-17.0.1.jdk/Contents/Home\r\n\r\nNavigate into the root and open the `.zprofile` file.\r\n\r\n    cd ~\r\n    open .zprofile\r\nIf the file is not found, create one using the `echo &gt; .zprofile` command.\r\n\r\nOpen the file using `open .zprofile`. This should open it up in a text editor.\r\n\r\nAdd the response of the `/usr/libexec/java_home` tool into the file like so:\r\n\r\n    export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-17.0.1.jdk/Contents/Home\r\n\r\n\r\n \r\n\r\n","title":"Wrong JAVA_HOME after upgrade to macOS Big Sur v11.0.1","body":"<p>The <code>/usr/libexec/java_home</code> tool in macOS will give you the location of the latest Java version installed. Invoke it from the terminal to get a response similar to the following:</p>\n<pre><code>/Library/Java/JavaVirtualMachines/jdk-17.0.1.jdk/Contents/Home\n</code></pre>\n<p>Navigate into the root and open the <code>.zprofile</code> file.</p>\n<pre><code>cd ~\nopen .zprofile\n</code></pre>\n<p>If the file is not found, create one using the <code>echo &gt; .zprofile</code> command.</p>\n<p>Open the file using <code>open .zprofile</code>. This should open it up in a text editor.</p>\n<p>Add the response of the <code>/usr/libexec/java_home</code> tool into the file like so:</p>\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-17.0.1.jdk/Contents/Home\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14213417,"reputation":235,"user_id":10267948,"display_name":"ibozkurt79"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645742680,"creation_date":1645742680,"answer_id":71259110,"question_id":64917779,"body_markdown":"My solution is creating a link to your JDK file. Apparently, Teradata studio was executing a wrong path\r\nsudo ln -s /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home/jre/lib/server/libjvm.dylib /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home/lib/libserver.dylib","title":"Wrong JAVA_HOME after upgrade to macOS Big Sur v11.0.1","body":"<p>My solution is creating a link to your JDK file. Apparently, Teradata studio was executing a wrong path\nsudo ln -s /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home/jre/lib/server/libjvm.dylib /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home/lib/libserver.dylib</p>\n"},{"tags":[],"owner":{"account_id":9696339,"reputation":345,"user_id":7192651,"display_name":"Yuqiu G."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681806670,"creation_date":1681806670,"answer_id":76042428,"question_id":64917779,"body_markdown":"download and install jdk from oracle and then do\r\n    \r\n    sudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/\r\n    sudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\r\n\r\nThen jre versions should not appear when you do \r\n\r\n    /usr/libexec/java_home -V | grep jdk\r\n\r\nadd export JAVA_HOME=`/usr/libexec/java_home -v 1.8` to ~/.zshrc","title":"Wrong JAVA_HOME after upgrade to macOS Big Sur v11.0.1","body":"<p>download and install jdk from oracle and then do</p>\n<pre><code>sudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/\nsudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\n</code></pre>\n<p>Then jre versions should not appear when you do</p>\n<pre><code>/usr/libexec/java_home -V | grep jdk\n</code></pre>\n<p>add export JAVA_HOME=<code>/usr/libexec/java_home -v 1.8</code> to ~/.zshrc</p>\n"}],"owner":{"account_id":17535901,"reputation":1139,"user_id":12719036,"display_name":"Konstantin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60249,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":64917842,"answer_count":11,"score":45,"last_activity_date":1681806670,"creation_date":1605810287,"question_id":64917779,"body_markdown":"In my setup on macOS I&#39;m working with several JDKs, switching between them via `/usr/libexec/java_home` tool, similar to a method described in [this SO answer][1]\r\n\r\nAfter upgrading to macOS Big Sur v11.0.1, my JAVA_HOME setting stopped working, always reporting the same java version:\r\n\r\n```shell\r\n% /usr/libexec/java_home -V\r\nMatching Java Virtual Machines (5):\r\n    11.0.8 (x86_64) &quot;AdoptOpenJDK&quot; - &quot;AdoptOpenJDK 11&quot; /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\r\n    1.8.162.12 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n    1.8.0_162 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_162.jdk/Contents/Home\r\n    1.8.0_45 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home\r\n    1.7.0_45 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 7&quot; /Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home\r\n/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\r\n\r\n% /usr/libexec/java_home -v 1.8.162.12\r\n/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\r\n\r\n% /usr/libexec/java_home -v 1.7.0_45\r\n/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/21964709/how-to-set-or-change-the-default-java-jdk-version-on-os-x/24657630#24657630","title":"Wrong JAVA_HOME after upgrade to macOS Big Sur v11.0.1","body":"<p>In my setup on macOS I'm working with several JDKs, switching between them via <code>/usr/libexec/java_home</code> tool, similar to a method described in <a href=\"https://stackoverflow.com/questions/21964709/how-to-set-or-change-the-default-java-jdk-version-on-os-x/24657630#24657630\">this SO answer</a></p>\n<p>After upgrading to macOS Big Sur v11.0.1, my JAVA_HOME setting stopped working, always reporting the same java version:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>% /usr/libexec/java_home -V\nMatching Java Virtual Machines (5):\n    11.0.8 (x86_64) &quot;AdoptOpenJDK&quot; - &quot;AdoptOpenJDK 11&quot; /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\n    1.8.162.12 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n    1.8.0_162 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_162.jdk/Contents/Home\n    1.8.0_45 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home\n    1.7.0_45 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 7&quot; /Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home\n/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\n\n% /usr/libexec/java_home -v 1.8.162.12\n/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\n\n% /usr/libexec/java_home -v 1.7.0_45\n/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\n</code></pre>\n"},{"tags":["java","asynchronous","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681758370,"creation_date":1681758370,"answer_id":76038485,"question_id":76037487,"body_markdown":"Every decent test case has these steps:\r\n\r\n1. [Given] - Create input (e.g. a DocumentRequest instance)\r\n1. [When] - Make some modification(s) (e.g the service call)\r\n1. [Then] - Check correctness of the result obtained (assertions)\r\n\r\nUnit testing asynchronous methods is not so hard what is seems. Fortunately there are a lot of good library to help. One of popular library is [Awaitility](http://www.awaitility.org/)\r\n\r\nIf you use Maven as build tool, just add this dependency to `pom.xml`\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n    &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n    &lt;version&gt;4.2.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nFor demonstration I made a sample service:\r\n\r\n```java\r\npublic class FutureService {\r\n    private final Executor executor = CompletableFuture.delayedExecutor(5L, TimeUnit.SECONDS);\r\n\r\n    public CompletableFuture&lt;Boolean&gt; negate(boolean input) {\r\n        return CompletableFuture.supplyAsync(() -&gt; !input, executor);\r\n    }\r\n}\r\n```\r\nThe `negate` method returns `CompletableFuture&lt;Boolean&gt;` which waits for 5 seconds before completition. It is just for the demonstration. \r\n\r\nThe test for this service is something like this.\r\n\r\n```java\r\nclass FutureTest {\r\n\r\n    private final FutureService futureService = new FutureService();\r\n\r\n    @Test\r\n    void futureTest() throws ExecutionException, InterruptedException {\r\n        // given (call service)\r\n        CompletableFuture&lt;Boolean&gt; future = futureService.negate(true);\r\n        // when (wait until the CompletableFuture will be done but at most 10 seconds\r\n        Awaitility.await().atMost(Duration.ofSeconds(10L)).until(future::isDone);\r\n        // then (in this case the returned boolean value should be false)\r\n        Assertions.assertFalse(future.get());\r\n    }\r\n}\r\n```","title":"How add assertion on Completablefuture&lt;boolean&gt; Junit Mockito","body":"<p>Every decent test case has these steps:</p>\n<ol>\n<li>[Given] - Create input (e.g. a DocumentRequest instance)</li>\n<li>[When] - Make some modification(s) (e.g the service call)</li>\n<li>[Then] - Check correctness of the result obtained (assertions)</li>\n</ol>\n<p>Unit testing asynchronous methods is not so hard what is seems. Fortunately there are a lot of good library to help. One of popular library is <a href=\"http://www.awaitility.org/\" rel=\"nofollow noreferrer\">Awaitility</a></p>\n<p>If you use Maven as build tool, just add this dependency to <code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n    &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n    &lt;version&gt;4.2.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>For demonstration I made a sample service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FutureService {\n    private final Executor executor = CompletableFuture.delayedExecutor(5L, TimeUnit.SECONDS);\n\n    public CompletableFuture&lt;Boolean&gt; negate(boolean input) {\n        return CompletableFuture.supplyAsync(() -&gt; !input, executor);\n    }\n}\n</code></pre>\n<p>The <code>negate</code> method returns <code>CompletableFuture&lt;Boolean&gt;</code> which waits for 5 seconds before completition. It is just for the demonstration.</p>\n<p>The test for this service is something like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class FutureTest {\n\n    private final FutureService futureService = new FutureService();\n\n    @Test\n    void futureTest() throws ExecutionException, InterruptedException {\n        // given (call service)\n        CompletableFuture&lt;Boolean&gt; future = futureService.negate(true);\n        // when (wait until the CompletableFuture will be done but at most 10 seconds\n        Awaitility.await().atMost(Duration.ofSeconds(10L)).until(future::isDone);\n        // then (in this case the returned boolean value should be false)\n        Assertions.assertFalse(future.get());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13644817,"reputation":38,"user_id":9844057,"display_name":"Jesus Gino Huapaya Caycho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76038485,"answer_count":1,"score":1,"last_activity_date":1681806485,"creation_date":1681750299,"question_id":76037487,"body_markdown":"I have a Service called `asynEvaluaEstadoSiniestro` that return true or false, and some repositories that are mocked in my test.\r\n\r\n```\r\n@Service\r\n@Slf4j\r\npublic class AsynEvaluaEstadoSiniestroImpl implements AsynEvaluaEstadoSiniestro {\r\n\r\n  @Async(&quot;myExecutor&quot;)\r\n  public CompletableFuture&lt;Boolean&gt; getEvaluacionEstadoSiniestro(DocumentRequest request) throws BusinessException {\r\n  //do some persistances operations in repositories and return fooResult as true or false;|\r\n\r\n  return CompletableFuture.completedFuture(fooResult);\r\n  }\r\n}\r\n```\r\n\r\n    @InjectMocks\r\n    AsynEvaluaEstadoSiniestroImpl asynEvaluaEstadoSiniestro;\r\n    \r\n    @Test\r\n    @DisplayName(&quot;Async process (1)&quot;)\r\n    void insertarSolicitudTest() throws BusinessException {\r\n       //some when repositories functions needed for testing\r\n    \r\n    CompletableFuture&lt;Boolean&gt; cf = asynEvaluaEstadoSiniestro.getEvaluacionEstadoSiniestro(documentRequest());\r\n            cf.isDone();\r\n    }\r\n    \r\n\r\nwhen i execute sonaqube coverity it say:   \r\n**Add at least one assertion to this test case.**\r\n\r\nHow can i add a assertion to this test???\r\n\r\ni hope to add a assertion to this test.","title":"How add assertion on Completablefuture&lt;boolean&gt; Junit Mockito","body":"<p>I have a Service called <code>asynEvaluaEstadoSiniestro</code> that return true or false, and some repositories that are mocked in my test.</p>\n<pre><code>@Service\n@Slf4j\npublic class AsynEvaluaEstadoSiniestroImpl implements AsynEvaluaEstadoSiniestro {\n\n  @Async(&quot;myExecutor&quot;)\n  public CompletableFuture&lt;Boolean&gt; getEvaluacionEstadoSiniestro(DocumentRequest request) throws BusinessException {\n  //do some persistances operations in repositories and return fooResult as true or false;|\n\n  return CompletableFuture.completedFuture(fooResult);\n  }\n}\n</code></pre>\n<pre><code>@InjectMocks\nAsynEvaluaEstadoSiniestroImpl asynEvaluaEstadoSiniestro;\n\n@Test\n@DisplayName(&quot;Async process (1)&quot;)\nvoid insertarSolicitudTest() throws BusinessException {\n   //some when repositories functions needed for testing\n\nCompletableFuture&lt;Boolean&gt; cf = asynEvaluaEstadoSiniestro.getEvaluacionEstadoSiniestro(documentRequest());\n        cf.isDone();\n}\n</code></pre>\n<p>when i execute sonaqube coverity it say:<br />\n<strong>Add at least one assertion to this test case.</strong></p>\n<p>How can i add a assertion to this test???</p>\n<p>i hope to add a assertion to this test.</p>\n"},{"tags":["java","spring","spring-boot","apache-spark"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":2,"creation_date":1675601748,"post_id":75350944,"comment_id":132960462,"body_markdown":"I doubt that will work, move to `spring-boot` 2.7","body":"I doubt that will work, move to <code>spring-boot</code> 2.7"},{"owner":{"account_id":18423089,"reputation":171,"user_id":13420196,"display_name":"Niko Konovalov"},"score":0,"creation_date":1675603509,"post_id":75350944,"comment_id":132960803,"body_markdown":"@AndreyB.Panfilov would you mind explaining why?","body":"@AndreyB.Panfilov would you mind explaining why?"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":3,"creation_date":1675603939,"post_id":75350944,"comment_id":132960875,"body_markdown":"spark heavily [depends on `Java Servlet 4.0` (part of Java EE 8)](https://mvnrepository.com/artifact/org.apache.spark/spark-core_2.13/3.3.1): , `spring-boot 3` and `spring 6` deliberately do not support `Java EE 8` - their developers have switched to `Jakarta EE 9` which is not backward compatible with `Java EE 8` due to namespace change","body":"spark heavily <a href=\"https://mvnrepository.com/artifact/org.apache.spark/spark-core_2.13/3.3.1\" rel=\"nofollow noreferrer\">depends on <code>Java Servlet 4.0</code> (part of Java EE 8)</a>: , <code>spring-boot 3</code> and <code>spring 6</code> deliberately do not support <code>Java EE 8</code> - their developers have switched to <code>Jakarta EE 9</code> which is not backward compatible with <code>Java EE 8</code> due to namespace change"},{"owner":{"account_id":18423089,"reputation":171,"user_id":13420196,"display_name":"Niko Konovalov"},"score":0,"creation_date":1675605664,"post_id":75350944,"comment_id":132961167,"body_markdown":"Oh wow thanks, didn&#39;t know that. Is there a way to force spark to use ‘Jakarta EE 9’ or is it not a good idea as it might break? @AndreyB.Panfilov","body":"Oh wow thanks, didn&#39;t know that. Is there a way to force spark to use ‘Jakarta EE 9’ or is it not a good idea as it might break? @AndreyB.Panfilov"},{"owner":{"account_id":7070585,"reputation":53,"user_id":5412315,"display_name":"CodeBlooded"},"score":0,"creation_date":1698043267,"post_id":75350944,"comment_id":136350182,"body_markdown":"@NikoKonovalov, were you able to resolve this issue? I&#39;m facing same issue with spark 3.3.3 , java 17, spring-boot 3.1.4. Thanks","body":"@NikoKonovalov, were you able to resolve this issue? I&#39;m facing same issue with spark 3.3.3 , java 17, spring-boot 3.1.4. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675588023,"creation_date":1675588023,"answer_id":75351148,"question_id":75350944,"body_markdown":"Add scope to your dependency and retry;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nor with `test` scope.","title":"Dependecy conflict Apache Spark and Spring Boot","body":"<p>Add scope to your dependency and retry;</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>or with <code>test</code> scope.</p>\n"},{"tags":[],"owner":{"account_id":8283204,"reputation":11,"user_id":6227188,"display_name":"Burak Balım"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675590563,"creation_date":1675590563,"answer_id":75351366,"question_id":75350944,"body_markdown":"you can reload all maven project if you use IntelliJ and I don&#39;t see version for your javax, first, you can check project dependencies for this library","title":"Dependecy conflict Apache Spark and Spring Boot","body":"<p>you can reload all maven project if you use IntelliJ and I don't see version for your javax, first, you can check project dependencies for this library</p>\n"},{"tags":[],"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680969520,"creation_date":1680969520,"answer_id":75966233,"question_id":75350944,"body_markdown":"- *According to a comment above*\r\n\r\n  &gt; move to `spring-boot` 2.7\r\n\r\n  This **worked** for me.\r\n\r\n- *Following is the complete (rough) **guide** to setup Spark + Java + Spring.*\r\n\r\n  *(As of now)*\r\n\r\n  *(May or may not work, but works for me; I dont have sufficient knowledge on how this really works)*\r\n\r\n## code config (for reference)\r\n\r\n#### \\*outline view\r\n\r\n[![code config][1]][1]\r\n\r\n#### Maven Pom\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;LSpark&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;LSpark_ch08a1&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;LSpark_ch08a1&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-sql --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-streaming --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spark-streaming_2.13&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.8&lt;/version&gt; &lt;!--must--&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.8&lt;/version&gt; &lt;!--must--&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n#### VM argument (Run Configuration)\r\n\r\n```\r\n--add-exports java.base/sun.nio.ch=ALL-UNNAMED\r\n```\r\n\r\n\r\n#### example code\r\n\r\n```java\r\npackage com.ex.main;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport org.apache.spark.sql.Dataset;\r\nimport org.apache.spark.sql.Encoder;\r\nimport org.apache.spark.sql.Encoders;\r\nimport org.apache.spark.sql.Row;\r\nimport org.apache.spark.sql.SparkSession;\r\n\r\n\r\npublic class LSpark_ch08a1_Intro {\r\n\r\n  public static void demo_Intro() {\r\n\r\n    ArrayList&lt;User&gt; arr_user = new ArrayList&lt;&gt;();\r\n    arr_user.add(new User(1, &quot;AA&quot;, &quot;NA&quot;, 1000));\r\n    arr_user.add(new User(2, &quot;BB&quot;, &quot;NA&quot;, 1010));\r\n    arr_user.add(new User(3, &quot;CC&quot;, &quot;NA&quot;, 1020));\r\n    arr_user.add(new User(4, &quot;DD&quot;, &quot;NA&quot;, 1030));\r\n    arr_user.add(new User(5, &quot;EE&quot;, &quot;NA&quot;, 1100));\r\n    arr_user.add(new User(6, &quot;FF&quot;, &quot;NA&quot;, 1600));\r\n    arr_user.add(new User(7, &quot;GG&quot;, &quot;NA&quot;, 1800));\r\n    arr_user.add(new User(8, &quot;HH&quot;, &quot;NA&quot;, 2000));\r\n    arr_user.add(new User(9, &quot;II&quot;, &quot;NA&quot;, 3000));\r\n\r\n    //    Encoder&lt;User&gt; UserEncoder = Encoders.bean(User.class);\r\n\r\n    SparkSession spark = SparkSession.builder()\r\n                                     .appName(&quot;IntroLearn&quot;)\r\n                                     .config(&quot;spark.master&quot;, &quot;local&quot;)\r\n                                     .getOrCreate();\r\n\r\n    Dataset&lt;Row&gt; df = spark.createDataFrame(arr_user, User.class);\r\n    df.show();\r\n        \r\n    //    df = df.select(&quot;id&quot;);\r\n    //    df.show();\r\n\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    LSpark_ch08a1_Intro.demo_Intro();\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\n#### output\r\n\r\n```\r\nUsing Spark&#39;s default log4j profile: org/apache/spark/log4j2-defaults.properties\r\n23/04/08 23:26:47 INFO SparkContext: Running Spark version 3.3.2\r\n23/04/08 23:26:47 WARN Shell: Did not find winutils.exe: java.io.FileNotFoundException: java.io.FileNotFoundException: HADOOP_HOME and hadoop.home.dir are unset. -see https://wiki.apache.org/hadoop/WindowsProblems\r\n23/04/08 23:26:47 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n23/04/08 23:26:47 INFO ResourceUtils: ==============================================================\r\n23/04/08 23:26:47 INFO ResourceUtils: No custom resources configured for spark.driver.\r\n23/04/08 23:26:47 INFO ResourceUtils: ==============================================================\r\n23/04/08 23:26:47 INFO SparkContext: Submitted application: IntroLearn\r\n23/04/08 23:26:47 INFO ResourceProfile: Default ResourceProfile created, executor resources: Map(cores -&gt; name: cores, amount: 1, script: , vendor: , memory -&gt; name: memory, amount: 1024, script: , vendor: , offHeap -&gt; name: offHeap, amount: 0, script: , vendor: ), task resources: Map(cpus -&gt; name: cpus, amount: 1.0)\r\n23/04/08 23:26:47 INFO ResourceProfile: Limiting resource is cpu\r\n23/04/08 23:26:47 INFO ResourceProfileManager: Added ResourceProfile id: 0\r\n23/04/08 23:26:47 INFO SecurityManager: Changing view acls to: Zlgtx\r\n23/04/08 23:26:47 INFO SecurityManager: Changing modify acls to: Zlgtx\r\n23/04/08 23:26:47 INFO SecurityManager: Changing view acls groups to: \r\n23/04/08 23:26:47 INFO SecurityManager: Changing modify acls groups to: \r\n23/04/08 23:26:47 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users  with view permissions: Set(Zlgtx); groups with view permissions: Set(); users  with modify permissions: Set(Zlgtx); groups with modify permissions: Set()\r\n23/04/08 23:26:48 INFO Utils: Successfully started service &#39;sparkDriver&#39; on port 52048.\r\n23/04/08 23:26:48 INFO SparkEnv: Registering MapOutputTracker\r\n23/04/08 23:26:48 INFO SparkEnv: Registering BlockManagerMaster\r\n23/04/08 23:26:48 INFO BlockManagerMasterEndpoint: Using org.apache.spark.storage.DefaultTopologyMapper for getting topology information\r\n23/04/08 23:26:48 INFO BlockManagerMasterEndpoint: BlockManagerMasterEndpoint up\r\n23/04/08 23:26:48 INFO SparkEnv: Registering BlockManagerMasterHeartbeat\r\n23/04/08 23:26:48 INFO DiskBlockManager: Created local directory at C:\\Users\\Zlgtx\\AppData\\Local\\Temp\\blockmgr-200c582b-4f3e-49b1-b674-bbaacb62b443\r\n23/04/08 23:26:48 INFO MemoryStore: MemoryStore started with capacity 1658.4 MiB\r\n23/04/08 23:26:48 INFO SparkEnv: Registering OutputCommitCoordinator\r\n23/04/08 23:26:49 INFO Utils: Successfully started service &#39;SparkUI&#39; on port 4040.\r\n23/04/08 23:26:49 INFO Executor: Starting executor ID driver on host ZLT6DHSRC\r\n23/04/08 23:26:49 INFO Executor: Starting executor with user classpath (userClassPathFirst = false): &#39;&#39;\r\n23/04/08 23:26:49 INFO Utils: Successfully started service &#39;org.apache.spark.network.netty.NettyBlockTransferService&#39; on port 52049.\r\n23/04/08 23:26:49 INFO NettyBlockTransferService: Server created on ZLT6DHSRC:52049\r\n23/04/08 23:26:49 INFO BlockManager: Using org.apache.spark.storage.RandomBlockReplicationPolicy for block replication policy\r\n23/04/08 23:26:49 INFO BlockManagerMaster: Registering BlockManager BlockManagerId(driver, ZLT6DHSRC, 52049, None)\r\n23/04/08 23:26:49 INFO BlockManagerMasterEndpoint: Registering block manager ZLT6DHSRC:52049 with 1658.4 MiB RAM, BlockManagerId(driver, ZLT6DHSRC, 52049, None)\r\n23/04/08 23:26:49 INFO BlockManagerMaster: Registered BlockManager BlockManagerId(driver, ZLT6DHSRC, 52049, None)\r\n23/04/08 23:26:49 INFO BlockManager: Initialized BlockManager: BlockManagerId(driver, ZLT6DHSRC, 52049, None)\r\n23/04/08 23:26:49 INFO SharedState: Setting hive.metastore.warehouse.dir (&#39;null&#39;) to the value of spark.sql.warehouse.dir.\r\n23/04/08 23:26:49 INFO SharedState: Warehouse path is &#39;file:/G:/wsp/eclipse/LSpark_ch08a1/spark-warehouse&#39;.\r\n23/04/08 23:26:52 INFO CodeGenerator: Code generated in 151.5239 ms\r\n23/04/08 23:26:52 INFO CodeGenerator: Code generated in 12.3755 ms\r\n+---+---+----+\r\n| id|job|name|\r\n+---+---+----+\r\n|  1| NA|  AA|\r\n|  2| NA|  BB|\r\n|  3| NA|  CC|\r\n|  4| NA|  DD|\r\n|  5| NA|  EE|\r\n|  6| NA|  FF|\r\n|  7| NA|  GG|\r\n|  8| NA|  HH|\r\n|  9| NA|  II|\r\n+---+---+----+\r\n\r\n23/04/08 23:26:52 INFO SparkContext: Invoking stop() from shutdown hook\r\n23/04/08 23:26:52 INFO SparkUI: Stopped Spark web UI at http://ZLT6DHSRC:4040\r\n23/04/08 23:26:52 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\r\n23/04/08 23:26:52 INFO MemoryStore: MemoryStore cleared\r\n23/04/08 23:26:52 INFO BlockManager: BlockManager stopped\r\n23/04/08 23:26:52 INFO BlockManagerMaster: BlockManagerMaster stopped\r\n23/04/08 23:26:52 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\r\n23/04/08 23:26:52 INFO SparkContext: Successfully stopped SparkContext\r\n23/04/08 23:26:52 INFO ShutdownHookManager: Shutdown hook called\r\n23/04/08 23:26:52 INFO ShutdownHookManager: Deleting directory C:\\Users\\Zlgtx\\AppData\\Local\\Temp\\spark-f1d38682-d750-4fdb-891f-7f1f8b007bc3\r\n\r\n\r\n```\r\n\r\n#### reference\r\n\r\n```\r\n/**\r\n@setting::\r\n\r\n[]\r\n.config(&quot;spark.master&quot;, &quot;local&quot;)\r\n&lt;&gt;\r\nhttps://stackoverflow.com/questions/38008330/spark-error-a-master-url-must-be-set-in-your-configuration-when-submitting-a\r\n\r\n\r\n;not_working; spring-spark-example/pom.xml at master &#183; Zhuinden/spring-spark-example\r\n;not_working; https://github.com/Zhuinden/spring-spark-example/blob/master/pom.xml\r\n;not_working; \r\n;not_working; java - Use Spring together with Spark - Stack Overflow\r\n;not_working; https://stackoverflow.com/questions/30053449/use-spring-together-with-spark\r\n\r\n[]\r\nIn other case, if you use the starters for assembling dependencies, you have to exclude Logback and then include log4j 2 instead:\r\n&lt;&gt;\r\nhttps://stackoverflow.com/questions/59629214/caused-by-org-apache-logging-log4j-loggingexception-log4j-slf4j-impl-cannot-be\r\n\r\n[]\r\nAdd the JVM option &quot;--add-exports java.base/sun.nio.ch=ALL-UNNAMED&quot;\r\n&lt;&gt;\r\nhttps://stackoverflow.com/questions/73465937/apache-spark-3-3-0-breaks-on-java-17-with-cannot-access-class-sun-nio-ch-direct\r\n\r\n;no_longer; []\r\n;no_longer; &lt;!-- http://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n;no_longer; &lt;dependency&gt;\r\n;no_longer;     &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n;no_longer;     &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n;no_longer;     &lt;version&gt;3.1.0&lt;/version&gt;\r\n;no_longer; &lt;/dependency&gt;\r\n;no_longer; &lt;&gt;\r\n;no_longer; https://stackoverflow.com/questions/36196086/java-lang-classnotfoundexception-javax-servlet-http-httpsessionidlistener\r\n;no_longer; \r\n;no_longer; spring - Getting java.lang.ClassNotFoundException: javax.servlet.ServletContext in JUnit - Stack Overflow\r\n;no_longer; https://stackoverflow.com/questions/19690267/getting-java-lang-classnotfoundexception-javax-servlet-servletcontext-in-junit\r\n;no_longer; \r\n;no_longer; Spring Boot java.lang.NoClassDefFoundError: javax/servlet/Filter - Stack Overflow\r\n;no_longer; https://stackoverflow.com/questions/30374316/spring-boot-java-lang-noclassdeffounderror-javax-servlet-filter\r\n;no_longer; \r\n;no_longer; maven - java.lang.ClassNotFoundException: javax.servlet.http.HttpSessionIdListener - Stack Overflow\r\n;no_longer; https://stackoverflow.com/questions/36196086/java-lang-classnotfoundexception-javax-servlet-http-httpsessionidlistener\r\n;no_longer; \r\n;no_longer; // that feel old class jarkatar idk // or the ProSpring5 annotation\r\n\r\n\r\n[]\r\nspark heavily [depends on `Java Servlet 4.0` (part of Java EE 8)](https://mvnrepository.com/artifact/org.apache.spark/spark-core_2.13/3.3.1): , `spring-boot 3` and `spring 6` deliberately do not support `Java EE 8` - their developers have switched to `Jakarta EE 9` which is not backward compatible with `Java EE 8` due to namespace change\r\n&lt;&gt;\r\nhttps://stackoverflow.com/questions/75350944/dependecy-conflict-apache-spark-and-spring-boot\r\n\r\n\r\n[]\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n        &lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;&gt;\r\nhttps://stackoverflow.com/questions/42352091/spark-sql-fails-with-java-lang-noclassdeffounderror-org-codehaus-commons-compil\r\n\r\n~// still , should I download Spark installer or just Maven is good ? // k Maven is good \r\n\r\n*/\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OciwU.png","title":"Dependecy conflict Apache Spark and Spring Boot","body":"<ul>\n<li><p><em>According to a comment above</em></p>\n<blockquote>\n<p>move to <code>spring-boot</code> 2.7</p>\n</blockquote>\n<p>This <strong>worked</strong> for me.</p>\n</li>\n<li><p><em>Following is the complete (rough) <strong>guide</strong> to setup Spark + Java + Spring.</em></p>\n<p><em>(As of now)</em></p>\n<p><em>(May or may not work, but works for me; I dont have sufficient knowledge on how this really works)</em></p>\n</li>\n</ul>\n<h2>code config (for reference)</h2>\n<h4>*outline view</h4>\n<p><a href=\"https://i.stack.imgur.com/OciwU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OciwU.png\" alt=\"code config\" /></a></p>\n<h4>Maven Pom</h4>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;LSpark&lt;/groupId&gt;\n    &lt;artifactId&gt;LSpark_ch08a1&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;LSpark_ch08a1&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\n            &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-sql --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\n            &lt;version&gt;3.3.2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-streaming --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-streaming_2.13&lt;/artifactId&gt;\n            &lt;version&gt;3.3.2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\n            &lt;version&gt;3.0.8&lt;/version&gt; &lt;!--must--&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n            &lt;artifactId&gt;janino&lt;/artifactId&gt;\n            &lt;version&gt;3.0.8&lt;/version&gt; &lt;!--must--&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<h4>VM argument (Run Configuration)</h4>\n<pre><code>--add-exports java.base/sun.nio.ch=ALL-UNNAMED\n</code></pre>\n<h4>example code</h4>\n<pre class=\"lang-java prettyprint-override\"><code>package com.ex.main;\n\nimport java.util.ArrayList;\n\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Encoder;\nimport org.apache.spark.sql.Encoders;\nimport org.apache.spark.sql.Row;\nimport org.apache.spark.sql.SparkSession;\n\n\npublic class LSpark_ch08a1_Intro {\n\n  public static void demo_Intro() {\n\n    ArrayList&lt;User&gt; arr_user = new ArrayList&lt;&gt;();\n    arr_user.add(new User(1, &quot;AA&quot;, &quot;NA&quot;, 1000));\n    arr_user.add(new User(2, &quot;BB&quot;, &quot;NA&quot;, 1010));\n    arr_user.add(new User(3, &quot;CC&quot;, &quot;NA&quot;, 1020));\n    arr_user.add(new User(4, &quot;DD&quot;, &quot;NA&quot;, 1030));\n    arr_user.add(new User(5, &quot;EE&quot;, &quot;NA&quot;, 1100));\n    arr_user.add(new User(6, &quot;FF&quot;, &quot;NA&quot;, 1600));\n    arr_user.add(new User(7, &quot;GG&quot;, &quot;NA&quot;, 1800));\n    arr_user.add(new User(8, &quot;HH&quot;, &quot;NA&quot;, 2000));\n    arr_user.add(new User(9, &quot;II&quot;, &quot;NA&quot;, 3000));\n\n    //    Encoder&lt;User&gt; UserEncoder = Encoders.bean(User.class);\n\n    SparkSession spark = SparkSession.builder()\n                                     .appName(&quot;IntroLearn&quot;)\n                                     .config(&quot;spark.master&quot;, &quot;local&quot;)\n                                     .getOrCreate();\n\n    Dataset&lt;Row&gt; df = spark.createDataFrame(arr_user, User.class);\n    df.show();\n        \n    //    df = df.select(&quot;id&quot;);\n    //    df.show();\n\n  }\n\n  public static void main(String[] args) {\n    LSpark_ch08a1_Intro.demo_Intro();\n\n  }\n\n}\n</code></pre>\n<h4>output</h4>\n<pre><code>Using Spark's default log4j profile: org/apache/spark/log4j2-defaults.properties\n23/04/08 23:26:47 INFO SparkContext: Running Spark version 3.3.2\n23/04/08 23:26:47 WARN Shell: Did not find winutils.exe: java.io.FileNotFoundException: java.io.FileNotFoundException: HADOOP_HOME and hadoop.home.dir are unset. -see https://wiki.apache.org/hadoop/WindowsProblems\n23/04/08 23:26:47 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n23/04/08 23:26:47 INFO ResourceUtils: ==============================================================\n23/04/08 23:26:47 INFO ResourceUtils: No custom resources configured for spark.driver.\n23/04/08 23:26:47 INFO ResourceUtils: ==============================================================\n23/04/08 23:26:47 INFO SparkContext: Submitted application: IntroLearn\n23/04/08 23:26:47 INFO ResourceProfile: Default ResourceProfile created, executor resources: Map(cores -&gt; name: cores, amount: 1, script: , vendor: , memory -&gt; name: memory, amount: 1024, script: , vendor: , offHeap -&gt; name: offHeap, amount: 0, script: , vendor: ), task resources: Map(cpus -&gt; name: cpus, amount: 1.0)\n23/04/08 23:26:47 INFO ResourceProfile: Limiting resource is cpu\n23/04/08 23:26:47 INFO ResourceProfileManager: Added ResourceProfile id: 0\n23/04/08 23:26:47 INFO SecurityManager: Changing view acls to: Zlgtx\n23/04/08 23:26:47 INFO SecurityManager: Changing modify acls to: Zlgtx\n23/04/08 23:26:47 INFO SecurityManager: Changing view acls groups to: \n23/04/08 23:26:47 INFO SecurityManager: Changing modify acls groups to: \n23/04/08 23:26:47 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users  with view permissions: Set(Zlgtx); groups with view permissions: Set(); users  with modify permissions: Set(Zlgtx); groups with modify permissions: Set()\n23/04/08 23:26:48 INFO Utils: Successfully started service 'sparkDriver' on port 52048.\n23/04/08 23:26:48 INFO SparkEnv: Registering MapOutputTracker\n23/04/08 23:26:48 INFO SparkEnv: Registering BlockManagerMaster\n23/04/08 23:26:48 INFO BlockManagerMasterEndpoint: Using org.apache.spark.storage.DefaultTopologyMapper for getting topology information\n23/04/08 23:26:48 INFO BlockManagerMasterEndpoint: BlockManagerMasterEndpoint up\n23/04/08 23:26:48 INFO SparkEnv: Registering BlockManagerMasterHeartbeat\n23/04/08 23:26:48 INFO DiskBlockManager: Created local directory at C:\\Users\\Zlgtx\\AppData\\Local\\Temp\\blockmgr-200c582b-4f3e-49b1-b674-bbaacb62b443\n23/04/08 23:26:48 INFO MemoryStore: MemoryStore started with capacity 1658.4 MiB\n23/04/08 23:26:48 INFO SparkEnv: Registering OutputCommitCoordinator\n23/04/08 23:26:49 INFO Utils: Successfully started service 'SparkUI' on port 4040.\n23/04/08 23:26:49 INFO Executor: Starting executor ID driver on host ZLT6DHSRC\n23/04/08 23:26:49 INFO Executor: Starting executor with user classpath (userClassPathFirst = false): ''\n23/04/08 23:26:49 INFO Utils: Successfully started service 'org.apache.spark.network.netty.NettyBlockTransferService' on port 52049.\n23/04/08 23:26:49 INFO NettyBlockTransferService: Server created on ZLT6DHSRC:52049\n23/04/08 23:26:49 INFO BlockManager: Using org.apache.spark.storage.RandomBlockReplicationPolicy for block replication policy\n23/04/08 23:26:49 INFO BlockManagerMaster: Registering BlockManager BlockManagerId(driver, ZLT6DHSRC, 52049, None)\n23/04/08 23:26:49 INFO BlockManagerMasterEndpoint: Registering block manager ZLT6DHSRC:52049 with 1658.4 MiB RAM, BlockManagerId(driver, ZLT6DHSRC, 52049, None)\n23/04/08 23:26:49 INFO BlockManagerMaster: Registered BlockManager BlockManagerId(driver, ZLT6DHSRC, 52049, None)\n23/04/08 23:26:49 INFO BlockManager: Initialized BlockManager: BlockManagerId(driver, ZLT6DHSRC, 52049, None)\n23/04/08 23:26:49 INFO SharedState: Setting hive.metastore.warehouse.dir ('null') to the value of spark.sql.warehouse.dir.\n23/04/08 23:26:49 INFO SharedState: Warehouse path is 'file:/G:/wsp/eclipse/LSpark_ch08a1/spark-warehouse'.\n23/04/08 23:26:52 INFO CodeGenerator: Code generated in 151.5239 ms\n23/04/08 23:26:52 INFO CodeGenerator: Code generated in 12.3755 ms\n+---+---+----+\n| id|job|name|\n+---+---+----+\n|  1| NA|  AA|\n|  2| NA|  BB|\n|  3| NA|  CC|\n|  4| NA|  DD|\n|  5| NA|  EE|\n|  6| NA|  FF|\n|  7| NA|  GG|\n|  8| NA|  HH|\n|  9| NA|  II|\n+---+---+----+\n\n23/04/08 23:26:52 INFO SparkContext: Invoking stop() from shutdown hook\n23/04/08 23:26:52 INFO SparkUI: Stopped Spark web UI at http://ZLT6DHSRC:4040\n23/04/08 23:26:52 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\n23/04/08 23:26:52 INFO MemoryStore: MemoryStore cleared\n23/04/08 23:26:52 INFO BlockManager: BlockManager stopped\n23/04/08 23:26:52 INFO BlockManagerMaster: BlockManagerMaster stopped\n23/04/08 23:26:52 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\n23/04/08 23:26:52 INFO SparkContext: Successfully stopped SparkContext\n23/04/08 23:26:52 INFO ShutdownHookManager: Shutdown hook called\n23/04/08 23:26:52 INFO ShutdownHookManager: Deleting directory C:\\Users\\Zlgtx\\AppData\\Local\\Temp\\spark-f1d38682-d750-4fdb-891f-7f1f8b007bc3\n\n\n</code></pre>\n<h4>reference</h4>\n<pre><code>/**\n@setting::\n\n[]\n.config(&quot;spark.master&quot;, &quot;local&quot;)\n&lt;&gt;\nhttps://stackoverflow.com/questions/38008330/spark-error-a-master-url-must-be-set-in-your-configuration-when-submitting-a\n\n\n;not_working; spring-spark-example/pom.xml at master · Zhuinden/spring-spark-example\n;not_working; https://github.com/Zhuinden/spring-spark-example/blob/master/pom.xml\n;not_working; \n;not_working; java - Use Spring together with Spark - Stack Overflow\n;not_working; https://stackoverflow.com/questions/30053449/use-spring-together-with-spark\n\n[]\nIn other case, if you use the starters for assembling dependencies, you have to exclude Logback and then include log4j 2 instead:\n&lt;&gt;\nhttps://stackoverflow.com/questions/59629214/caused-by-org-apache-logging-log4j-loggingexception-log4j-slf4j-impl-cannot-be\n\n[]\nAdd the JVM option &quot;--add-exports java.base/sun.nio.ch=ALL-UNNAMED&quot;\n&lt;&gt;\nhttps://stackoverflow.com/questions/73465937/apache-spark-3-3-0-breaks-on-java-17-with-cannot-access-class-sun-nio-ch-direct\n\n;no_longer; []\n;no_longer; &lt;!-- http://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n;no_longer; &lt;dependency&gt;\n;no_longer;     &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n;no_longer;     &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n;no_longer;     &lt;version&gt;3.1.0&lt;/version&gt;\n;no_longer; &lt;/dependency&gt;\n;no_longer; &lt;&gt;\n;no_longer; https://stackoverflow.com/questions/36196086/java-lang-classnotfoundexception-javax-servlet-http-httpsessionidlistener\n;no_longer; \n;no_longer; spring - Getting java.lang.ClassNotFoundException: javax.servlet.ServletContext in JUnit - Stack Overflow\n;no_longer; https://stackoverflow.com/questions/19690267/getting-java-lang-classnotfoundexception-javax-servlet-servletcontext-in-junit\n;no_longer; \n;no_longer; Spring Boot java.lang.NoClassDefFoundError: javax/servlet/Filter - Stack Overflow\n;no_longer; https://stackoverflow.com/questions/30374316/spring-boot-java-lang-noclassdeffounderror-javax-servlet-filter\n;no_longer; \n;no_longer; maven - java.lang.ClassNotFoundException: javax.servlet.http.HttpSessionIdListener - Stack Overflow\n;no_longer; https://stackoverflow.com/questions/36196086/java-lang-classnotfoundexception-javax-servlet-http-httpsessionidlistener\n;no_longer; \n;no_longer; // that feel old class jarkatar idk // or the ProSpring5 annotation\n\n\n[]\nspark heavily [depends on `Java Servlet 4.0` (part of Java EE 8)](https://mvnrepository.com/artifact/org.apache.spark/spark-core_2.13/3.3.1): , `spring-boot 3` and `spring 6` deliberately do not support `Java EE 8` - their developers have switched to `Jakarta EE 9` which is not backward compatible with `Java EE 8` due to namespace change\n&lt;&gt;\nhttps://stackoverflow.com/questions/75350944/dependecy-conflict-apache-spark-and-spring-boot\n\n\n[]\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\n        &lt;version&gt;3.0.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n        &lt;artifactId&gt;janino&lt;/artifactId&gt;\n        &lt;version&gt;3.0.8&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;&gt;\nhttps://stackoverflow.com/questions/42352091/spark-sql-fails-with-java-lang-noclassdeffounderror-org-codehaus-commons-compil\n\n~// still , should I download Spark installer or just Maven is good ? // k Maven is good \n\n*/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8553554,"reputation":83,"user_id":6409826,"display_name":"Cesar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681806477,"creation_date":1681806477,"answer_id":76042397,"question_id":75350944,"body_markdown":"i had a similar problem: looks like a jakarta version conflict between spring boot (v.3.0.5 in my case) and spark (3.4.0)\r\nI was able to resolve the conflict with these properties:\r\n\r\n    &lt;properties&gt;\r\n    &lt;jakarta-servlet.version&gt;4.0.3&lt;/jakarta-servlet.version&gt;\r\n    &lt;jersey.version&gt;2.36&lt;/jersey.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n","title":"Dependecy conflict Apache Spark and Spring Boot","body":"<p>i had a similar problem: looks like a jakarta version conflict between spring boot (v.3.0.5 in my case) and spark (3.4.0)\nI was able to resolve the conflict with these properties:</p>\n<pre><code>&lt;properties&gt;\n&lt;jakarta-servlet.version&gt;4.0.3&lt;/jakarta-servlet.version&gt;\n&lt;jersey.version&gt;2.36&lt;/jersey.version&gt;\n&lt;/properties&gt;\n</code></pre>\n"}],"owner":{"account_id":18423089,"reputation":171,"user_id":13420196,"display_name":"Niko Konovalov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2000,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1681806477,"creation_date":1675585289,"question_id":75350944,"body_markdown":"So I&#39;m building a full stack backtesting application for trading strategies and currently I thought of using Spring Boot as a Server, and Apache Spark for data processing. \r\n\r\nI tried creating Spring Boot &amp; Apache Spark in the same project but with no luck, I couldn&#39;t solve a dependency conflict, I&#39;m getting an error:\r\n\r\n```console\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/servlet/Servlet\r\n\tat org.apache.spark.ui.SparkUI$.create(SparkUI.scala:223)\r\n\tat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:484)\r\n\tat org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2704)\r\n\tat org.apache.spark.sql.SparkSession$Builder.$anonfun$getOrCreate$2(SparkSession.scala:953)\r\n\tat scala.Option.getOrElse(Option.scala:201)\r\n\tat org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:947)\r\n\tat com.samurai.lab.marketdata.MarketDataApplication.main(MarketDataApplication.java:12)\r\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Servlet\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 7 more\r\n```\r\n\r\nIf I add hadoop dependecise then I&#39;ll get a different error:\r\n```console\r\nException in thread &quot;main&quot; javax.servlet.UnavailableException: Servlet class org.glassfish.jersey.servlet.ServletContainer is not a javax.servlet.Servlet\r\n\tat org.sparkproject.jetty.servlet.ServletHolder.checkServletType(ServletHolder.java:514)\r\n\tat org.sparkproject.jetty.servlet.ServletHolder.doStart(ServletHolder.java:386)\r\n\tat org.sparkproject.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n\tat org.sparkproject.jetty.servlet.ServletHandler.lambda$initialize$0(ServletHandler.java:749)\r\n\tat java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n\tat org.sparkproject.jetty.servlet.ServletHandler.initialize(ServletHandler.java:774)\r\n\tat org.sparkproject.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:379)\r\n\tat org.sparkproject.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:916)\r\n\tat org.sparkproject.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288)\r\n\tat org.sparkproject.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n\tat org.apache.spark.ui.ServerInfo.addHandler(JettyUtils.scala:491)\r\n\tat org.apache.spark.ui.SparkUI.$anonfun$attachAllHandler$2(SparkUI.scala:76)\r\n\tat org.apache.spark.ui.SparkUI.$anonfun$attachAllHandler$2$adapted(SparkUI.scala:76)\r\n\tat scala.collection.IterableOnceOps.foreach(IterableOnce.scala:563)\r\n\tat scala.collection.IterableOnceOps.foreach$(IterableOnce.scala:561)\r\n\tat scala.collection.AbstractIterable.foreach(Iterable.scala:926)\r\n\tat org.apache.spark.ui.SparkUI.$anonfun$attachAllHandler$1(SparkUI.scala:76)\r\n\tat org.apache.spark.ui.SparkUI.$anonfun$attachAllHandler$1$adapted(SparkUI.scala:74)\r\n\tat scala.Option.foreach(Option.scala:437)\r\n\tat org.apache.spark.ui.SparkUI.attachAllHandler(SparkUI.scala:74)\r\n\tat org.apache.spark.SparkContext.$anonfun$new$31(SparkContext.scala:648)\r\n\tat org.apache.spark.SparkContext.$anonfun$new$31$adapted(SparkContext.scala:648)\r\n\tat scala.Option.foreach(Option.scala:437)\r\n\tat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:648)\r\n\tat org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2704)\r\n\tat org.apache.spark.sql.SparkSession$Builder.$anonfun$getOrCreate$2(SparkSession.scala:953)\r\n\tat scala.Option.getOrElse(Option.scala:201)\r\n\tat org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:947)\r\n\tat com.samurai.lab.marketdata.MarketDataApplication.main(MarketDataApplication.java:12)\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nI tied excluding servlet from spark like so:\r\n```xml\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;javax.servlet&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.eclipse.jetty.orbit&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;javax.servlet&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n```\r\n\r\nIt doesn&#39;t help\r\n\r\nThis is a clean pom.xml file that I&#39;m using right now:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.samurai.lab&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;market-data&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;market-data&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;apache-spark.version&gt;3.3.1&lt;/apache-spark.version&gt;\r\n\t\t&lt;hadoop.version&gt;3.3.2&lt;/hadoop.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;*&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;*&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;*&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${apache-spark.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${apache-spark.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nAny ideas on how to make it work and solve the conflict?\r\n\r\n### Update v1 ###\r\n\r\nI have the dependency as part of the spark-core:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UqKxb.png","title":"Dependecy conflict Apache Spark and Spring Boot","body":"<p>So I'm building a full stack backtesting application for trading strategies and currently I thought of using Spring Boot as a Server, and Apache Spark for data processing.</p>\n<p>I tried creating Spring Boot &amp; Apache Spark in the same project but with no luck, I couldn't solve a dependency conflict, I'm getting an error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/servlet/Servlet\n    at org.apache.spark.ui.SparkUI$.create(SparkUI.scala:223)\n    at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:484)\n    at org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2704)\n    at org.apache.spark.sql.SparkSession$Builder.$anonfun$getOrCreate$2(SparkSession.scala:953)\n    at scala.Option.getOrElse(Option.scala:201)\n    at org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:947)\n    at com.samurai.lab.marketdata.MarketDataApplication.main(MarketDataApplication.java:12)\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Servlet\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 7 more\n</code></pre>\n<p>If I add hadoop dependecise then I'll get a different error:</p>\n<pre><code>Exception in thread &quot;main&quot; javax.servlet.UnavailableException: Servlet class org.glassfish.jersey.servlet.ServletContainer is not a javax.servlet.Servlet\n    at org.sparkproject.jetty.servlet.ServletHolder.checkServletType(ServletHolder.java:514)\n    at org.sparkproject.jetty.servlet.ServletHolder.doStart(ServletHolder.java:386)\n    at org.sparkproject.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n    at org.sparkproject.jetty.servlet.ServletHandler.lambda$initialize$0(ServletHandler.java:749)\n    at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.sparkproject.jetty.servlet.ServletHandler.initialize(ServletHandler.java:774)\n    at org.sparkproject.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:379)\n    at org.sparkproject.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:916)\n    at org.sparkproject.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288)\n    at org.sparkproject.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n    at org.apache.spark.ui.ServerInfo.addHandler(JettyUtils.scala:491)\n    at org.apache.spark.ui.SparkUI.$anonfun$attachAllHandler$2(SparkUI.scala:76)\n    at org.apache.spark.ui.SparkUI.$anonfun$attachAllHandler$2$adapted(SparkUI.scala:76)\n    at scala.collection.IterableOnceOps.foreach(IterableOnce.scala:563)\n    at scala.collection.IterableOnceOps.foreach$(IterableOnce.scala:561)\n    at scala.collection.AbstractIterable.foreach(Iterable.scala:926)\n    at org.apache.spark.ui.SparkUI.$anonfun$attachAllHandler$1(SparkUI.scala:76)\n    at org.apache.spark.ui.SparkUI.$anonfun$attachAllHandler$1$adapted(SparkUI.scala:74)\n    at scala.Option.foreach(Option.scala:437)\n    at org.apache.spark.ui.SparkUI.attachAllHandler(SparkUI.scala:74)\n    at org.apache.spark.SparkContext.$anonfun$new$31(SparkContext.scala:648)\n    at org.apache.spark.SparkContext.$anonfun$new$31$adapted(SparkContext.scala:648)\n    at scala.Option.foreach(Option.scala:437)\n    at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:648)\n    at org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2704)\n    at org.apache.spark.sql.SparkSession$Builder.$anonfun$getOrCreate$2(SparkSession.scala:953)\n    at scala.Option.getOrElse(Option.scala:201)\n    at org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:947)\n    at com.samurai.lab.marketdata.MarketDataApplication.main(MarketDataApplication.java:12)\n\nProcess finished with exit code 1\n</code></pre>\n<p>I tied excluding servlet from spark like so:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n                    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n                    &lt;artifactId&gt;javax.servlet&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.eclipse.jetty.orbit&lt;/groupId&gt;\n                    &lt;artifactId&gt;javax.servlet&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n</code></pre>\n<p>It doesn't help</p>\n<p>This is a clean pom.xml file that I'm using right now:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.samurai.lab&lt;/groupId&gt;\n    &lt;artifactId&gt;market-data&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;market-data&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;apache-spark.version&gt;3.3.1&lt;/apache-spark.version&gt;\n        &lt;hadoop.version&gt;3.3.2&lt;/hadoop.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\n            &lt;version&gt;${apache-spark.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\n            &lt;version&gt;${apache-spark.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Any ideas on how to make it work and solve the conflict?</p>\n<h3>Update v1</h3>\n<p>I have the dependency as part of the spark-core:\n<a href=\"https://i.stack.imgur.com/UqKxb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UqKxb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","rest","multipartform-data"],"owner":{"account_id":22560169,"reputation":11,"user_id":16747918,"display_name":"Шатов Данил"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681806321,"creation_date":1681806161,"question_id":76042350,"body_markdown":"I need to do RestTemplate request to get response from this method:\r\n\r\n    @GetMapping(value = DEVICE_ID_PATH, produces = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n        public ResponseEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; getDeviceSummary(@PathVariable(name = &quot;id&quot;) Long id) {\r\n    \r\n            log.debug(&quot;REST request to get summary for complex with id = {}&quot;, id);\r\n    \r\n            DeviceSummaryResponse response =\r\n                deviceSummaryMapper.toResponse(mobileComplexService.getSummary(id));\r\n    \r\n            MultiValueMap&lt;String, Object&gt; deviceSummary = new LinkedMultiValueMap&lt;&gt;();\r\n    \r\n            deviceSummary.add(&quot;route&quot;, new HttpEntity&lt;&gt;(response.getRoute(), getStreamHeader()));\r\n            deviceSummary.add(&quot;config&quot;, new HttpEntity&lt;&gt;(response.getConfig(), getJsonHeader()));\r\n    \r\n            return new ResponseEntity&lt;&gt;(deviceSummary, HttpStatus.OK);\r\n        }\r\n\r\n\r\nI try create this Rest query:\r\n\r\n    public MobileComplexSummaryDto getSummary(String deviceIp, Integer apiServerPort) throws DeviceSummaryObtainingException {\r\n            log.debug(&quot;Requesting mobile complex device summary for ip = {}...&quot;, deviceIp);\r\n    \r\n            ResponseEntity&lt;DeviceSummaryResponse&gt; response;\r\n    \r\n            try {\r\n                response = restTemplate.exchange(\r\n                    String.format(URL_TEMPLATE, deviceIp, apiServerPort, coreComplexApiAware.deviceSummaryEndpoint()),\r\n                    HttpMethod.GET,\r\n                    new HttpEntity&lt;&gt;(Map.of(HttpHeaders.ACCEPT, MediaType.MULTIPART_FORM_DATA_VALUE)),\r\n                    DeviceSummaryResponse.class\r\n                );\r\n            } catch (RestClientException e) {\r\n                throw new DeviceSummaryObtainingException(e.getMessage(), e);\r\n            }\r\n    \r\n            if (response.getStatusCode().is2xxSuccessful()) {\r\n                return deviceSummaryMapper.toDto(response.getBody());\r\n            } else {\r\n                throw new DeviceSummaryObtainingException();\r\n            }\r\n        }\r\n\r\n\r\nIt is my response Entity:\r\n\r\n    @Data\r\n    @Validated\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class DeviceSummaryResponse {\r\n    \r\n        @NotNull\r\n        private ConfigResponse config;\r\n    \r\n        @NotNull\r\n        private InputStream route;\r\n    }\r\n\r\nbut its dont work, HttpMessageConverter error.\r\n\r\nHow correctly get MultiValueMap&lt;String, Object&gt; by RestTemplate?\r\nCan you give me correct example please?","title":"HTTP get MultiValueMap response using RestTemplate","body":"<p>I need to do RestTemplate request to get response from this method:</p>\n<pre><code>@GetMapping(value = DEVICE_ID_PATH, produces = MediaType.MULTIPART_FORM_DATA_VALUE)\n    public ResponseEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; getDeviceSummary(@PathVariable(name = &quot;id&quot;) Long id) {\n\n        log.debug(&quot;REST request to get summary for complex with id = {}&quot;, id);\n\n        DeviceSummaryResponse response =\n            deviceSummaryMapper.toResponse(mobileComplexService.getSummary(id));\n\n        MultiValueMap&lt;String, Object&gt; deviceSummary = new LinkedMultiValueMap&lt;&gt;();\n\n        deviceSummary.add(&quot;route&quot;, new HttpEntity&lt;&gt;(response.getRoute(), getStreamHeader()));\n        deviceSummary.add(&quot;config&quot;, new HttpEntity&lt;&gt;(response.getConfig(), getJsonHeader()));\n\n        return new ResponseEntity&lt;&gt;(deviceSummary, HttpStatus.OK);\n    }\n</code></pre>\n<p>I try create this Rest query:</p>\n<pre><code>public MobileComplexSummaryDto getSummary(String deviceIp, Integer apiServerPort) throws DeviceSummaryObtainingException {\n        log.debug(&quot;Requesting mobile complex device summary for ip = {}...&quot;, deviceIp);\n\n        ResponseEntity&lt;DeviceSummaryResponse&gt; response;\n\n        try {\n            response = restTemplate.exchange(\n                String.format(URL_TEMPLATE, deviceIp, apiServerPort, coreComplexApiAware.deviceSummaryEndpoint()),\n                HttpMethod.GET,\n                new HttpEntity&lt;&gt;(Map.of(HttpHeaders.ACCEPT, MediaType.MULTIPART_FORM_DATA_VALUE)),\n                DeviceSummaryResponse.class\n            );\n        } catch (RestClientException e) {\n            throw new DeviceSummaryObtainingException(e.getMessage(), e);\n        }\n\n        if (response.getStatusCode().is2xxSuccessful()) {\n            return deviceSummaryMapper.toDto(response.getBody());\n        } else {\n            throw new DeviceSummaryObtainingException();\n        }\n    }\n</code></pre>\n<p>It is my response Entity:</p>\n<pre><code>@Data\n@Validated\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class DeviceSummaryResponse {\n\n    @NotNull\n    private ConfigResponse config;\n\n    @NotNull\n    private InputStream route;\n}\n</code></pre>\n<p>but its dont work, HttpMessageConverter error.</p>\n<p>How correctly get MultiValueMap&lt;String, Object&gt; by RestTemplate?\nCan you give me correct example please?</p>\n"},{"tags":["javascript","java","sockets","tcp"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681558031,"post_id":76020087,"comment_id":134077866,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":21263154,"reputation":1,"user_id":15643718,"display_name":"juanLude"},"score":0,"creation_date":1681711950,"post_id":76020087,"comment_id":134094631,"body_markdown":"I ended up fixing up the issue by simply adding a newline character &quot;\\n&quot; in the client.write(input) statement like so:\nclient.write(input + &quot;\\n&quot;);\nI know \\n is a character used to represent the end of a line of text and to start a new line but I don&#39;t get why this character was not necessary to be added in the Client written in Java.","body":"I ended up fixing up the issue by simply adding a newline character &quot;\\n&quot; in the client.write(input) statement like so: client.write(input + &quot;\\n&quot;); I know \\n is a character used to represent the end of a line of text and to start a new line but I don&#39;t get why this character was not necessary to be added in the Client written in Java."},{"owner":{"account_id":468289,"reputation":178176,"user_id":874188,"accept_rate":62,"display_name":"tripleee"},"score":3,"creation_date":1681806303,"post_id":76020087,"comment_id":134111924,"body_markdown":"Please do not vandalize your posts.  By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right for SE to distribute that content (under the [CC BY-SA 4.0 license](https://creativecommons.org/licenses/by-sa/4.0/)). By SE policy, any vandalism will be reverted. If you want to delete your post, the &quot;delete&quot; link is right next to the &quot;edit&quot; link you used to wreck it.","body":"Please do not vandalize your posts.  By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right for SE to distribute that content (under the <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\" rel=\"nofollow noreferrer\">CC BY-SA 4.0 license</a>). By SE policy, any vandalism will be reverted. If you want to delete your post, the &quot;delete&quot; link is right next to the &quot;edit&quot; link you used to wreck it."},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1681807078,"post_id":76020087,"comment_id":134112082,"body_markdown":"Please create an answer post to present your solution.","body":"Please create an answer post to present your solution."}],"owner":{"account_id":21263154,"reputation":1,"user_id":15643718,"display_name":"juanLude"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681806312,"creation_date":1681526053,"question_id":76020087,"body_markdown":"I am trying to develop a simple application using TCP sockets.\r\nServer is in Java and Client in JavaScript.\r\nThe idea is to have inputs taken on the client, send them to the server and feeding back to the client.\r\nThe client can type CONNECT, PUT , GET,  DELETE, or DISCONNECT and server should process accordingly as per server code provided.\r\nThe problem I am having is that I am not getting a response back from the server before I get prompted for input on the client. It looks like the client will not let me take any inputs from the server until I close the client socket. When I type DISCONNECT, whatever I have typed in, the server will spit it out right before the client shuts down.\r\nThis server/client app works when I have the client developed in Java but not in JavaScript.\r\n\r\n\r\nServer:\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.PrintWriter;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class KeyValueServer {\r\n    private static Map&lt;String, String&gt; keyValueStore;\r\n    private static Map&lt;String, Boolean&gt; clientConnected;\r\n\r\n    public KeyValueServer() {\r\n        keyValueStore = new HashMap&lt;&gt;();\r\n        clientConnected = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public void start(int port) {\r\n        try (ServerSocket serverSocket = new ServerSocket(port)) {\r\n            System.out.println(&quot;Server started on port &quot; + port);\r\n\r\n            while (true) {\r\n                // Accept incoming client connections\r\n                Socket clientSocket = serverSocket.accept();\r\n                System.out.println(&quot;New client connected&quot;);\r\n\r\n                // Create a new thread for each client once connected\r\n                ClientHandler clientHandler = new ClientHandler(clientSocket);\r\n                Thread clientThread = new Thread(clientHandler);\r\n                clientThread.start();\r\n            }\r\n        } catch (IOException e) {\r\n            System.err.println(&quot;Error: Port &quot; + port + &quot; is already in use.&quot;);\r\n            System.exit(1);\r\n        }\r\n    }\r\n\r\n    private static class ClientHandler implements Runnable {\r\n        private final Socket clientSocket;\r\n        // private String clientUsername;\r\n\r\n        public ClientHandler(Socket clientSocket) {\r\n            this.clientSocket = clientSocket;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                // Read data from the client and send responses back\r\n                BufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n                PrintWriter out = new PrintWriter(clientSocket.getOutputStream(), true);\r\n                \r\n                String inputLine;\r\n                while ((inputLine = in.readLine()) != null) {\r\n                    System.out.println(inputLine);\r\n                    String[] tokens = inputLine.split(&quot; &quot;, 2);\r\n                    String command = tokens[0];\r\n\r\n                    switch (command) {\r\n                        case &quot;CONNECT&quot;:\r\n                            if (tokens.length &lt; 2) {\r\n                                System.out.println(&quot;ERROR: Invalid command&quot;);\r\n                                break;\r\n                            }\r\n                            if (clientConnected.containsKey(tokens[1])) {\r\n                                System.out.println(&quot;CONNECT: ERROR&quot;);\r\n                                out.println(&quot;CONNECT: ERROR&quot;);\r\n                                \r\n                                break;\r\n                            }\r\n\r\n                            String clientId = tokens[1];\r\n                            clientConnected.put(clientId, true);\r\n                            // keyValueStore.putIfAbsent(clientId, &quot;&quot;);\r\n                            out.println(&quot;CONNECT: OK&quot;);\r\n                            System.out.println(&quot;CONNECT: OK&quot;);\r\n                            out.flush(); // flush the buffer to send the message immediately\r\n                            break;\r\n\r\n                        case &quot;PUT&quot;:\r\n                            if (tokens.length &lt; 2) {\r\n                                System.out.println(&quot;ERROR: Invalid command&quot;);\r\n                                break;\r\n                            }\r\n                            System.out.println(clientConnected.toString());\r\n                            if (clientConnected.containsValue(true)) {\r\n                                String inputLine2;\r\n                                inputLine2 = in.readLine();\r\n                                keyValueStore.put(tokens[1], inputLine2);\r\n                                System.out.println(keyValueStore.toString());\r\n                                System.out.println(&quot;PUT: OK&quot;);\r\n                            } else {\r\n                                System.out.println(&quot;PUT: ERROR&quot;);\r\n                            }\r\n                            break;\r\n\r\n                        case &quot;GET&quot;:\r\n                            if (tokens.length &lt; 2) {\r\n                                System.out.println(&quot;ERROR: Invalid command&quot;);\r\n                                break;\r\n                            }\r\n\r\n                            if (clientConnected.containsValue(true)) {\r\n                                String value = keyValueStore.getOrDefault(tokens[1], &quot;&quot;);\r\n                                if (value.isEmpty()) {\r\n                                    System.out.println(&quot;GET: ERROR&quot;);\r\n                                } else {\r\n                                    System.out.println(value);\r\n                                }\r\n                            } else {\r\n                                System.out.println(&quot;GET: ERROR&quot;);\r\n                            }\r\n                            break;\r\n\r\n                        case &quot;DELETE&quot;:\r\n                            if (tokens.length &lt; 2) {\r\n                                System.out.println(&quot;ERROR: Invalid command&quot;);\r\n                                break;\r\n                            }\r\n                            if (clientConnected.containsValue(true)) {\r\n                                keyValueStore.remove(tokens[1]);\r\n                                System.out.println(&quot;DELETE: OK&quot;);\r\n                            } else {\r\n                                System.out.println(&quot;DELETE: ERROR&quot;);\r\n                            }\r\n                            break;\r\n\r\n                        case &quot;DISCONNECT&quot;:\r\n                            if (clientConnected.containsValue(true)) {\r\n\r\n                                clientConnected.remove(tokens[0]);\r\n                                keyValueStore.remove(tokens[0]);\r\n                                clientConnected.clear();\r\n                                System.out.println(&quot;DISCONNECT: OK&quot;);\r\n                                out.println(&quot;DISCONNECT: OK&quot;);\r\n                                System.exit(0);\r\n                            } else {\r\n                                System.out.println(&quot;DISCONNECT: OK&quot;);\r\n                                out.println(&quot;DISCONNECT: OK&quot;);\r\n                            }\r\n                            break;\r\n\r\n                        default:\r\n                            System.out.println(&quot;ERROR: Invalid command&quot;);\r\n                            out.println(&quot;ERROR: Invalid command&quot;);\r\n                            in.close();\r\n                            out.close();\r\n                            clientSocket.close();\r\n                            System.exit(0);\r\n                            break;\r\n                    }\r\n\r\n                }\r\n\r\n                // Close the client socket when the client disconnects\r\n                in.close();\r\n                out.close();\r\n                clientSocket.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        KeyValueServer server = new KeyValueServer();\r\n        server.start(8080);\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nClient:\r\n\r\n```\r\nconst readline = require(&#39;readline&#39;);\r\nconst net = require(&#39;net&#39;);\r\n\r\nconst serverAddress = &#39;localhost&#39;;\r\nconst port = 8080;\r\n\r\nconst client = new net.Socket();\r\ndebugger;\r\nconst rl = readline.createInterface({\r\n  input: process.stdin,\r\n  output: process.stdout\r\n});\r\n\r\nclient.connect(port, serverAddress, () =&gt; {\r\n  console.log(&#39;Connected to server&#39;);\r\n  rl.setPrompt(&#39;Enter message to send to server: &#39;);\r\n  rl.prompt();\r\n});\r\n\r\n\r\nrl.on(&#39;line&#39;, (input) =&gt; {\r\n    \r\n  if (input.trim() === &#39;DISCONNECT&#39;) {\r\n    client.write(input);\r\n    client.end();\r\n    rl.close();\r\n  } else {\r\n    client.write(input);\r\n    \r\n    rl.prompt();\r\n  }\r\n});\r\n\r\nclient.on(&#39;data&#39;, (data) =&gt; {\r\n    console.log(`Server message Received: ${data}`);\r\n  const serverMessage = data.toString();\r\n  console.log(&#39;Server says: &#39; + serverMessage);\r\n  rl.prompt();\r\n});\r\n\r\nclient.on(&#39;close&#39;, () =&gt; {\r\n  console.log(&#39;Connection closed&#39;);\r\n  process.exit(0);\r\n});\r\n\r\nclient.on(&#39;error&#39;, (err) =&gt; {\r\n  console.log(&#39;Error connecting to server: &#39; + err.message);\r\n  process.exit(1);\r\n});\r\n\r\n```\r\n\r\n\r\nOn the console:\r\n\r\nClient\r\n------                                             \r\nEnter message to send to server: CONNECT Juan       \r\nEnter message to send to server:\r\n                     \r\nServer\r\n-------\r\nServer started on port 8080                                        \r\nNew client connected                               \r\n(I should expect a &quot;CONNECT: OK&quot; message)                ","title":"Networked application using TCP sockets - Server side: Java / Client side: Javascript","body":"<p>I am trying to develop a simple application using TCP sockets.\nServer is in Java and Client in JavaScript.\nThe idea is to have inputs taken on the client, send them to the server and feeding back to the client.\nThe client can type CONNECT, PUT , GET,  DELETE, or DISCONNECT and server should process accordingly as per server code provided.\nThe problem I am having is that I am not getting a response back from the server before I get prompted for input on the client. It looks like the client will not let me take any inputs from the server until I close the client socket. When I type DISCONNECT, whatever I have typed in, the server will spit it out right before the client shuts down.\nThis server/client app works when I have the client developed in Java but not in JavaScript.</p>\n<p>Server:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class KeyValueServer {\n    private static Map&lt;String, String&gt; keyValueStore;\n    private static Map&lt;String, Boolean&gt; clientConnected;\n\n    public KeyValueServer() {\n        keyValueStore = new HashMap&lt;&gt;();\n        clientConnected = new HashMap&lt;&gt;();\n    }\n\n    public void start(int port) {\n        try (ServerSocket serverSocket = new ServerSocket(port)) {\n            System.out.println(&quot;Server started on port &quot; + port);\n\n            while (true) {\n                // Accept incoming client connections\n                Socket clientSocket = serverSocket.accept();\n                System.out.println(&quot;New client connected&quot;);\n\n                // Create a new thread for each client once connected\n                ClientHandler clientHandler = new ClientHandler(clientSocket);\n                Thread clientThread = new Thread(clientHandler);\n                clientThread.start();\n            }\n        } catch (IOException e) {\n            System.err.println(&quot;Error: Port &quot; + port + &quot; is already in use.&quot;);\n            System.exit(1);\n        }\n    }\n\n    private static class ClientHandler implements Runnable {\n        private final Socket clientSocket;\n        // private String clientUsername;\n\n        public ClientHandler(Socket clientSocket) {\n            this.clientSocket = clientSocket;\n        }\n\n        @Override\n        public void run() {\n            try {\n                // Read data from the client and send responses back\n                BufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n                PrintWriter out = new PrintWriter(clientSocket.getOutputStream(), true);\n                \n                String inputLine;\n                while ((inputLine = in.readLine()) != null) {\n                    System.out.println(inputLine);\n                    String[] tokens = inputLine.split(&quot; &quot;, 2);\n                    String command = tokens[0];\n\n                    switch (command) {\n                        case &quot;CONNECT&quot;:\n                            if (tokens.length &lt; 2) {\n                                System.out.println(&quot;ERROR: Invalid command&quot;);\n                                break;\n                            }\n                            if (clientConnected.containsKey(tokens[1])) {\n                                System.out.println(&quot;CONNECT: ERROR&quot;);\n                                out.println(&quot;CONNECT: ERROR&quot;);\n                                \n                                break;\n                            }\n\n                            String clientId = tokens[1];\n                            clientConnected.put(clientId, true);\n                            // keyValueStore.putIfAbsent(clientId, &quot;&quot;);\n                            out.println(&quot;CONNECT: OK&quot;);\n                            System.out.println(&quot;CONNECT: OK&quot;);\n                            out.flush(); // flush the buffer to send the message immediately\n                            break;\n\n                        case &quot;PUT&quot;:\n                            if (tokens.length &lt; 2) {\n                                System.out.println(&quot;ERROR: Invalid command&quot;);\n                                break;\n                            }\n                            System.out.println(clientConnected.toString());\n                            if (clientConnected.containsValue(true)) {\n                                String inputLine2;\n                                inputLine2 = in.readLine();\n                                keyValueStore.put(tokens[1], inputLine2);\n                                System.out.println(keyValueStore.toString());\n                                System.out.println(&quot;PUT: OK&quot;);\n                            } else {\n                                System.out.println(&quot;PUT: ERROR&quot;);\n                            }\n                            break;\n\n                        case &quot;GET&quot;:\n                            if (tokens.length &lt; 2) {\n                                System.out.println(&quot;ERROR: Invalid command&quot;);\n                                break;\n                            }\n\n                            if (clientConnected.containsValue(true)) {\n                                String value = keyValueStore.getOrDefault(tokens[1], &quot;&quot;);\n                                if (value.isEmpty()) {\n                                    System.out.println(&quot;GET: ERROR&quot;);\n                                } else {\n                                    System.out.println(value);\n                                }\n                            } else {\n                                System.out.println(&quot;GET: ERROR&quot;);\n                            }\n                            break;\n\n                        case &quot;DELETE&quot;:\n                            if (tokens.length &lt; 2) {\n                                System.out.println(&quot;ERROR: Invalid command&quot;);\n                                break;\n                            }\n                            if (clientConnected.containsValue(true)) {\n                                keyValueStore.remove(tokens[1]);\n                                System.out.println(&quot;DELETE: OK&quot;);\n                            } else {\n                                System.out.println(&quot;DELETE: ERROR&quot;);\n                            }\n                            break;\n\n                        case &quot;DISCONNECT&quot;:\n                            if (clientConnected.containsValue(true)) {\n\n                                clientConnected.remove(tokens[0]);\n                                keyValueStore.remove(tokens[0]);\n                                clientConnected.clear();\n                                System.out.println(&quot;DISCONNECT: OK&quot;);\n                                out.println(&quot;DISCONNECT: OK&quot;);\n                                System.exit(0);\n                            } else {\n                                System.out.println(&quot;DISCONNECT: OK&quot;);\n                                out.println(&quot;DISCONNECT: OK&quot;);\n                            }\n                            break;\n\n                        default:\n                            System.out.println(&quot;ERROR: Invalid command&quot;);\n                            out.println(&quot;ERROR: Invalid command&quot;);\n                            in.close();\n                            out.close();\n                            clientSocket.close();\n                            System.exit(0);\n                            break;\n                    }\n\n                }\n\n                // Close the client socket when the client disconnects\n                in.close();\n                out.close();\n                clientSocket.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n        }\n    }\n\n    public static void main(String[] args) {\n        KeyValueServer server = new KeyValueServer();\n        server.start(8080);\n    }\n\n}\n\n\n</code></pre>\n<p>Client:</p>\n<pre><code>const readline = require('readline');\nconst net = require('net');\n\nconst serverAddress = 'localhost';\nconst port = 8080;\n\nconst client = new net.Socket();\ndebugger;\nconst rl = readline.createInterface({\n  input: process.stdin,\n  output: process.stdout\n});\n\nclient.connect(port, serverAddress, () =&gt; {\n  console.log('Connected to server');\n  rl.setPrompt('Enter message to send to server: ');\n  rl.prompt();\n});\n\n\nrl.on('line', (input) =&gt; {\n    \n  if (input.trim() === 'DISCONNECT') {\n    client.write(input);\n    client.end();\n    rl.close();\n  } else {\n    client.write(input);\n    \n    rl.prompt();\n  }\n});\n\nclient.on('data', (data) =&gt; {\n    console.log(`Server message Received: ${data}`);\n  const serverMessage = data.toString();\n  console.log('Server says: ' + serverMessage);\n  rl.prompt();\n});\n\nclient.on('close', () =&gt; {\n  console.log('Connection closed');\n  process.exit(0);\n});\n\nclient.on('error', (err) =&gt; {\n  console.log('Error connecting to server: ' + err.message);\n  process.exit(1);\n});\n\n</code></pre>\n<p>On the console:</p>\n<h2>Client</h2>\n<p>Enter message to send to server: CONNECT Juan<br />\nEnter message to send to server:</p>\n<h2>Server</h2>\n<p>Server started on port 8080<br />\nNew client connected<br />\n(I should expect a &quot;CONNECT: OK&quot; message)</p>\n"},{"tags":["java","spring-boot","ssl","spring-security","ssl-certificate"],"answers":[{"tags":[],"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681806226,"creation_date":1681804984,"answer_id":76042175,"question_id":76042139,"body_markdown":"You have only imported the certificate, not its corresponding private key.\r\n\r\nHence, it is not a key entry.\r\n\r\nYou need to add the private key that you used to generate the certificate signing request.","title":"Spring Boot with purchased certificate gives error: Alias name [...] does not identify a key entry","body":"<p>You have only imported the certificate, not its corresponding private key.</p>\n<p>Hence, it is not a key entry.</p>\n<p>You need to add the private key that you used to generate the certificate signing request.</p>\n"}],"owner":{"account_id":1226320,"reputation":825,"user_id":8954551,"display_name":"Vito Lipari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":607,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681806226,"creation_date":1681804763,"question_id":76042139,"body_markdown":"I bought an ssl certificate and got a `wildcard_certificate.cer` file and a `wildcard_certificate.p7b` file\r\n\r\nI ran this command for import my certificate\r\n```bash\r\nkeytool -import -alias arubaCert -file ./wildcard_certificate.cer -keystore ./wildcard_certificate.p12 -storepass myPassword\r\n``` \r\n\r\nand then this command for set my certificate \r\n\r\n```bash\r\nkeytool -importcert -file /root/server/static/keys/wildcard_certificate.cer -alias arubaCert -keystore /etc/ssl/certs/java/cacerts\r\n``` \r\n\r\nbut when I launch the server application, I get this error\r\n\r\n```log\r\nCaused by: java.io.IOException: Alias name [arubaCert] does not identify a key entry\r\n\tat org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:337) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:104) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\t... 33 common frames omitted\r\n```\r\n\r\nHow can I setup spring boot for https?\r\n\r\n\r\nThis is my properties file\r\n\r\n```yaml\r\nserver.port=443\r\nserver.port.http=80\r\nserver.ssl.enabled=true\r\nserver.ssl.key-alias=arubaCert\r\nserver.ssl.key-password=myPassword\r\nserver.ssl.key-store=/root/server/static/keys/wildcard_certificate.p12\r\nserver.ssl.key-store-type=PKCS12\r\nserver.ssl.keyStoreType=PKCS12\r\nserver.ssl.keystore-password=myPassword\r\nserver.ssl.trust-certificate=/root/server/static/keys/wildcard_certificate.cer\r\ntrust.store=/root/server/static/keys/wildcard_certificate.p12\r\ntrust.store.password=myPassword\r\n\r\n```\r\n","title":"Spring Boot with purchased certificate gives error: Alias name [...] does not identify a key entry","body":"<p>I bought an ssl certificate and got a <code>wildcard_certificate.cer</code> file and a <code>wildcard_certificate.p7b</code> file</p>\n<p>I ran this command for import my certificate</p>\n<pre class=\"lang-bash prettyprint-override\"><code>keytool -import -alias arubaCert -file ./wildcard_certificate.cer -keystore ./wildcard_certificate.p12 -storepass myPassword\n</code></pre>\n<p>and then this command for set my certificate</p>\n<pre class=\"lang-bash prettyprint-override\"><code>keytool -importcert -file /root/server/static/keys/wildcard_certificate.cer -alias arubaCert -keystore /etc/ssl/certs/java/cacerts\n</code></pre>\n<p>but when I launch the server application, I get this error</p>\n<pre><code>Caused by: java.io.IOException: Alias name [arubaCert] does not identify a key entry\n    at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:337) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:104) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    ... 33 common frames omitted\n</code></pre>\n<p>How can I setup spring boot for https?</p>\n<p>This is my properties file</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>server.port=443\nserver.port.http=80\nserver.ssl.enabled=true\nserver.ssl.key-alias=arubaCert\nserver.ssl.key-password=myPassword\nserver.ssl.key-store=/root/server/static/keys/wildcard_certificate.p12\nserver.ssl.key-store-type=PKCS12\nserver.ssl.keyStoreType=PKCS12\nserver.ssl.keystore-password=myPassword\nserver.ssl.trust-certificate=/root/server/static/keys/wildcard_certificate.cer\ntrust.store=/root/server/static/keys/wildcard_certificate.p12\ntrust.store.password=myPassword\n\n</code></pre>\n"},{"tags":["java","string","arrays","mac-address"],"comments":[{"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"score":1,"creation_date":1273403384,"post_id":2797430,"comment_id":2834383,"body_markdown":"If you need to return a string formatted the same way, use a StringBuilder, and append to it in a loop parts formatted with String.format(..).","body":"If you need to return a string formatted the same way, use a StringBuilder, and append to it in a loop parts formatted with String.format(..)."},{"owner":{"account_id":35585,"reputation":7037,"user_id":100836,"accept_rate":100,"display_name":"Zaki"},"score":0,"creation_date":1273403471,"post_id":2797430,"comment_id":2834392,"body_markdown":"See http://stackoverflow.com/questions/311165/how-do-you-convert-byte-array-to-hexadecimal-string-and-vice-versa-in-c/632920#632920","body":"See <a href=\"http://stackoverflow.com/questions/311165/how-do-you-convert-byte-array-to-hexadecimal-string-and-vice-versa-in-c/632920#632920\" title=\"how do you convert byte array to hexadecimal string and vice versa in c\">stackoverflow.com/questions/311165/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1273403452,"creation_date":1273403452,"answer_id":2797441,"question_id":2797430,"body_markdown":"Perhaps you could use &lt;a href=&quot;http://commons.apache.org/codec/apidocs/org/apache/commons/codec/binary/Hex.html&quot;&gt;`Hex.encodeHex(bytes)`&lt;/a&gt; from commons-codec.\r\n\r\n&lt;a href=&quot;http://rgagnon.com/javadetails/java-0596.html&quot;&gt;Here are&lt;/a&gt; other ways to do this, without 3rd party libraries.","title":"Formatting MAC address byte array to String","body":"<p>Perhaps you could use <a href=\"http://commons.apache.org/codec/apidocs/org/apache/commons/codec/binary/Hex.html\" rel=\"nofollow noreferrer\"><code>Hex.encodeHex(bytes)</code></a> from commons-codec.</p>\n\n<p><a href=\"http://rgagnon.com/javadetails/java-0596.html\" rel=\"nofollow noreferrer\">Here are</a> other ways to do this, without 3rd party libraries.</p>\n"},{"tags":[],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1273404851,"creation_date":1273404851,"answer_id":2797498,"question_id":2797430,"body_markdown":"There is no standard text representation for Mac addresses. You just need to convert it to hex and separate the bytes for readability. Here is the function I use in the format of ifconfig on Unix,\r\n\r\n\tpublic static String getMacAddress(String ipAddr)\r\n\t\t\tthrows UnknownHostException, SocketException {\r\n\t\tInetAddress addr = InetAddress.getByName(ipAddr);\r\n\t\tNetworkInterface ni = NetworkInterface.getByInetAddress(addr);\r\n\t\tif (ni == null)\r\n\t\t\treturn null;\r\n\r\n\t\tbyte[] mac = ni.getHardwareAddress();\r\n\t\tif (mac == null)\r\n\t\t\treturn null;\r\n\r\n\t\tStringBuilder sb = new StringBuilder(18);\r\n\t\tfor (byte b : mac) {\r\n\t\t\tif (sb.length() &gt; 0)\r\n\t\t\t\tsb.append(&#39;:&#39;);\r\n\t\t\tsb.append(String.format(&quot;%02x&quot;, b));\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t}\r\n\r\nYou just need to change the &#39;:&#39; to &#39;-&#39;.","title":"Formatting MAC address byte array to String","body":"<p>There is no standard text representation for Mac addresses. You just need to convert it to hex and separate the bytes for readability. Here is the function I use in the format of ifconfig on Unix,</p>\n\n<pre><code>public static String getMacAddress(String ipAddr)\n        throws UnknownHostException, SocketException {\n    InetAddress addr = InetAddress.getByName(ipAddr);\n    NetworkInterface ni = NetworkInterface.getByInetAddress(addr);\n    if (ni == null)\n        return null;\n\n    byte[] mac = ni.getHardwareAddress();\n    if (mac == null)\n        return null;\n\n    StringBuilder sb = new StringBuilder(18);\n    for (byte b : mac) {\n        if (sb.length() &gt; 0)\n            sb.append(':');\n        sb.append(String.format(\"%02x\", b));\n    }\n    return sb.toString();\n}\n</code></pre>\n\n<p>You just need to change the ':' to '-'.</p>\n"},{"tags":[],"owner":{"account_id":562,"reputation":3657,"user_id":728,"accept_rate":91,"display_name":"TJR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1278007124,"creation_date":1278006733,"answer_id":3160355,"question_id":2797430,"body_markdown":"      private static final byte[] NULL_MAC = new byte[] {0, 0, 0, 0, 0, 0};\r\n    \r\n      public static String getMacString(byte[] macAddress) {\r\n        StringBuilder retval = new StringBuilder(17);\r\n        if (macAddress == null) {\r\n          macAddress = NULL_MAC;\r\n        }\r\n        boolean isFirst = true;\r\n        for (byte b : macAddress) {\r\n          if (!isFirst) {\r\n            retval.append(&quot;:&quot;);\r\n          } else {\r\n            isFirst = false;\r\n          }\r\n          retval.append(String.format(&quot;%02x&quot;, b &amp; 0xff));\r\n        }\r\n        return retval.toString();\r\n      }\r\n\r\n","title":"Formatting MAC address byte array to String","body":"<pre><code>  private static final byte[] NULL_MAC = new byte[] {0, 0, 0, 0, 0, 0};\n\n  public static String getMacString(byte[] macAddress) {\n    StringBuilder retval = new StringBuilder(17);\n    if (macAddress == null) {\n      macAddress = NULL_MAC;\n    }\n    boolean isFirst = true;\n    for (byte b : macAddress) {\n      if (!isFirst) {\n        retval.append(\":\");\n      } else {\n        isFirst = false;\n      }\n      retval.append(String.format(\"%02x\", b &amp; 0xff));\n    }\n    return retval.toString();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":261151,"reputation":4632,"user_id":545138,"accept_rate":71,"display_name":"dude"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486654577,"creation_date":1292523871,"answer_id":4464093,"question_id":2797430,"body_markdown":"It should be something like\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    for (int i = 0; i &lt; mac.length(); i++) {\r\n        b.append(String.format(&quot;%02X%s&quot;, mac[i], (i &lt; mac.length() - 1) ? &quot;-&quot; : &quot;&quot;);\r\n    \r\n    String s = sb.toString();\r\n","title":"Formatting MAC address byte array to String","body":"<p>It should be something like</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nfor (int i = 0; i &lt; mac.length(); i++) {\n    b.append(String.format(\"%02X%s\", mac[i], (i &lt; mac.length() - 1) ? \"-\" : \"\");\n\nString s = sb.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":757949,"reputation":11,"user_id":762520,"display_name":"renzo_toppa"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1305888945,"creation_date":1305885647,"answer_id":6070291,"question_id":2797430,"body_markdown":"    String s=&quot;&quot;;\r\n    for (int i = 0; i &lt; mac.length; i++) { \r\n      s += String.format(&quot;%02X%s&quot;, mac[i], (i &lt; mac.length - 1) ? &quot;-&quot; : &quot;&quot;);\r\n    }","title":"Formatting MAC address byte array to String","body":"<pre><code>String s=\"\";\nfor (int i = 0; i &lt; mac.length; i++) { \n  s += String.format(\"%02X%s\", mac[i], (i &lt; mac.length - 1) ? \"-\" : \"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3306672,"reputation":41,"user_id":2781272,"display_name":"Az MaYo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1382956766,"creation_date":1382956766,"answer_id":19632564,"question_id":2797430,"body_markdown":" By this you can easily formate Mac Address String.\r\n  \r\n\r\n    import java.net.InetAddress;\r\n    import java.net.NetworkInterface;\r\n    import java.net.SocketException;\r\n    import java.net.UnknownHostException;\r\n     \r\n    public class App{\r\n     \r\n       public static void main(String[] args){\r\n     \r\n    \tInetAddress ip;\r\n    \ttry {\r\n     \r\n    \t\tip = InetAddress.getLocalHost();\r\n    \t\tSystem.out.println(&quot;Current IP address : &quot; + ip.getHostAddress());\r\n     \r\n    \t\tNetworkInterface network = NetworkInterface.getByInetAddress(ip);\r\n     \r\n    \t\tbyte[] mac = network.getHardwareAddress();\r\n     \r\n    \t\tSystem.out.print(&quot;Current MAC address : &quot;);\r\n     \r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \t\tfor (int i = 0; i &lt; mac.length; i++) {\r\n    \t\t\tsb.append(String.format(&quot;%02X%s&quot;, mac[i], (i &lt; mac.length - 1) ? &quot;-&quot; : &quot;&quot;));\t\t\r\n    \t\t}\r\n    \t\tSystem.out.println(sb.toString());\r\n     \r\n    \t} catch (UnknownHostException e) {\r\n     \r\n    \t\te.printStackTrace();\r\n     \r\n    \t} catch (SocketException e){\r\n     \r\n    \t\te.printStackTrace();\r\n     \r\n    \t}\r\n     \r\n       }\r\n     \r\n    }\r\n\r\ncopy from here : http://www.mkyong.com/java/how-to-get-mac-address-in-java/comment-page-1/#comment-139182","title":"Formatting MAC address byte array to String","body":"<p>By this you can easily formate Mac Address String.</p>\n\n<pre><code>import java.net.InetAddress;\nimport java.net.NetworkInterface;\nimport java.net.SocketException;\nimport java.net.UnknownHostException;\n\npublic class App{\n\n   public static void main(String[] args){\n\n    InetAddress ip;\n    try {\n\n        ip = InetAddress.getLocalHost();\n        System.out.println(\"Current IP address : \" + ip.getHostAddress());\n\n        NetworkInterface network = NetworkInterface.getByInetAddress(ip);\n\n        byte[] mac = network.getHardwareAddress();\n\n        System.out.print(\"Current MAC address : \");\n\n        StringBuilder sb = new StringBuilder();\n        for (int i = 0; i &lt; mac.length; i++) {\n            sb.append(String.format(\"%02X%s\", mac[i], (i &lt; mac.length - 1) ? \"-\" : \"\"));        \n        }\n        System.out.println(sb.toString());\n\n    } catch (UnknownHostException e) {\n\n        e.printStackTrace();\n\n    } catch (SocketException e){\n\n        e.printStackTrace();\n\n    }\n\n   }\n\n}\n</code></pre>\n\n<p>copy from here : <a href=\"http://www.mkyong.com/java/how-to-get-mac-address-in-java/comment-page-1/#comment-139182\" rel=\"nofollow\">http://www.mkyong.com/java/how-to-get-mac-address-in-java/comment-page-1/#comment-139182</a></p>\n"},{"tags":[],"owner":{"account_id":1172694,"reputation":1409,"user_id":1466126,"accept_rate":62,"display_name":"Jeroen Kransen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403599295,"creation_date":1401391668,"answer_id":23941417,"question_id":2797430,"body_markdown":"I know this is a Java related question, but for Scala users who ended up here like I did, this is a way to do it in Scala: \r\n\r\n    bytes.map(&quot;%02X&quot; format _).mkString (&quot;:&quot;)","title":"Formatting MAC address byte array to String","body":"<p>I know this is a Java related question, but for Scala users who ended up here like I did, this is a way to do it in Scala: </p>\n\n<pre><code>bytes.map(\"%02X\" format _).mkString (\":\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4769333,"reputation":41,"user_id":3854589,"display_name":"Jim Row"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540798398,"creation_date":1539879030,"answer_id":52878291,"question_id":2797430,"body_markdown":"For something lightweight and fast, try the following.  3rd party  external dependencies are minimal and just uses some &quot;old school&quot; bit math.\r\n\r\n    public static String buildMACAddressString(byte[] macaddress) {\r\n        char[] buffer = new char[macaddress.length*3];\r\n        char[] inttohex= {&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;,&#39;f&#39;};\r\n        int destIndex=0;\r\n        byte byteValue;\r\n        for (int i = 0; i &lt; macaddress.length; i++) {\r\n            // pull current byte value\r\n            byteValue = (byte) (macaddress[i] &amp; 0xff);\r\n            // convert high nibble to hex char and store into char array..\r\n            buffer[destIndex++]=inttohex[(byteValue&amp;0xf0)&gt;&gt;4];\r\n            // Convert low nibble to hex char and store into char array..\r\n            buffer[destIndex++]=inttohex[byteValue&amp;0xf];\r\n            // Inject spacer\r\n            if (i &lt; macaddress.length-1)\r\n                buffer[destIndex++]=&#39;:&#39;;\r\n        }\r\n        return String.valueOf(buffer,0,destIndex);\r\n    }\r\n\r\n","title":"Formatting MAC address byte array to String","body":"<p>For something lightweight and fast, try the following.  3rd party  external dependencies are minimal and just uses some \"old school\" bit math.</p>\n\n<pre><code>public static String buildMACAddressString(byte[] macaddress) {\n    char[] buffer = new char[macaddress.length*3];\n    char[] inttohex= {'0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'};\n    int destIndex=0;\n    byte byteValue;\n    for (int i = 0; i &lt; macaddress.length; i++) {\n        // pull current byte value\n        byteValue = (byte) (macaddress[i] &amp; 0xff);\n        // convert high nibble to hex char and store into char array..\n        buffer[destIndex++]=inttohex[(byteValue&amp;0xf0)&gt;&gt;4];\n        // Convert low nibble to hex char and store into char array..\n        buffer[destIndex++]=inttohex[byteValue&amp;0xf];\n        // Inject spacer\n        if (i &lt; macaddress.length-1)\n            buffer[destIndex++]=':';\n    }\n    return String.valueOf(buffer,0,destIndex);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21224028,"reputation":157,"user_id":15610035,"display_name":"Voronin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657230269,"creation_date":1657230269,"answer_id":72904563,"question_id":2797430,"body_markdown":"There is a new way, but it seems it *requires* Java 17.\r\n\r\nYou can use the **`java.util.HexFormat`** class, specifically define a format (e.g. `ofDelimiter(&quot;:&quot;)`, there are many more formatting possibilities), and then use the formatter (e.g. `hexFormat.formatHex(ni.getHardwareAddress())`).\r\n\r\n```java\r\n    private List&lt;String&gt; getHardwareAddresses(List&lt;byte[]&gt; ipAddresses) {\r\n        HexFormat hexFormat = HexFormat.ofDelimiter(&quot;:&quot;);\r\n        List&lt;String&gt; hardwareAddresses = new ArrayList&lt;&gt;();\r\n        try {\r\n            for (byte[] ipAddress : ipAddresses) {\r\n                NetworkInterface ni = NetworkInterface.getByInetAddress(InetAddress.getByAddress(ipAddress));\r\n                if (ni.getHardwareAddress() != null) {\r\n                    hardwareAddresses.add(hexFormat.formatHex(ni.getHardwareAddress()));\r\n                }\r\n            }\r\n        } catch (SocketException | UnknownHostException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return hardwareAddresses;\r\n    }\r\n```\r\nIn the example above I have a list of IP addresses as `List&lt;byte[]&gt;` and use them to get the MAC addresses of those devices if available (`if (ni.getHardwareAddress() != null) {...}`).","title":"Formatting MAC address byte array to String","body":"<p>There is a new way, but it seems it <em>requires</em> Java 17.</p>\n<p>You can use the <strong><code>java.util.HexFormat</code></strong> class, specifically define a format (e.g. <code>ofDelimiter(&quot;:&quot;)</code>, there are many more formatting possibilities), and then use the formatter (e.g. <code>hexFormat.formatHex(ni.getHardwareAddress())</code>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private List&lt;String&gt; getHardwareAddresses(List&lt;byte[]&gt; ipAddresses) {\n        HexFormat hexFormat = HexFormat.ofDelimiter(&quot;:&quot;);\n        List&lt;String&gt; hardwareAddresses = new ArrayList&lt;&gt;();\n        try {\n            for (byte[] ipAddress : ipAddresses) {\n                NetworkInterface ni = NetworkInterface.getByInetAddress(InetAddress.getByAddress(ipAddress));\n                if (ni.getHardwareAddress() != null) {\n                    hardwareAddresses.add(hexFormat.formatHex(ni.getHardwareAddress()));\n                }\n            }\n        } catch (SocketException | UnknownHostException e) {\n            e.printStackTrace();\n        }\n        return hardwareAddresses;\n    }\n</code></pre>\n<p>In the example above I have a list of IP addresses as <code>List&lt;byte[]&gt;</code> and use them to get the MAC addresses of those devices if available (<code>if (ni.getHardwareAddress() != null) {...}</code>).</p>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677062346,"creation_date":1677062346,"answer_id":75531515,"question_id":2797430,"body_markdown":"Java 17+:\r\n\r\n    private static String formatMacHex(byte[] mac) {\r\n        return HexFormat.ofDelimiter(&quot;-&quot;).formatHex(mac);\r\n    }","title":"Formatting MAC address byte array to String","body":"<p>Java 17+:</p>\n<pre><code>private static String formatMacHex(byte[] mac) {\n    return HexFormat.ofDelimiter(&quot;-&quot;).formatHex(mac);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":109994,"reputation":15573,"user_id":291240,"accept_rate":70,"display_name":"William Hu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681805508,"creation_date":1681805508,"answer_id":76042244,"question_id":2797430,"body_markdown":"A kotlin version:\r\n\r\n    private fun convertToMacAddress(macByteArray: ByteArray): String {\r\n        return macByteArray.joinToString(&quot;:&quot;) { String.format(&quot;%02x&quot;, it) }\r\n    }","title":"Formatting MAC address byte array to String","body":"<p>A kotlin version:</p>\n<pre><code>private fun convertToMacAddress(macByteArray: ByteArray): String {\n    return macByteArray.joinToString(&quot;:&quot;) { String.format(&quot;%02x&quot;, it) }\n}\n</code></pre>\n"}],"owner":{"account_id":126417,"reputation":3531,"user_id":322897,"accept_rate":100,"display_name":"rgksugan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26549,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":2797498,"answer_count":11,"score":9,"last_activity_date":1681805508,"creation_date":1273403083,"question_id":2797430,"body_markdown":"I am using this code to find the MAC address of a machine. This code prints directly the MAC address, but I want to return it as a string. I am completely confused.\r\n\r\nplease help.\r\n\r\n    try {\r\n        \r\n        InetAddress add = InetAddress.getByName(&quot;10.123.96.102&quot;);\r\n        NetworkInterface ni1 = NetworkInterface.getByInetAddress(add);\r\n        if (ni1 != null) {\r\n            byte[] mac1 = ni1.getHardwareAddress();\r\n            if (mac1 != null) {\r\n                for (int k = 0; k &lt; mac1.length; k++) {\r\n                    System.out.format(&quot;%02X%s&quot;, mac1[k], (k &lt; mac1.length - 1) ? &quot;-&quot; : &quot;&quot;);\r\n                }\r\n            } else {\r\n                System.out.println(&quot;Address doesn&#39;t exist &quot;);\r\n            }\r\n            System.out.println();\r\n        } else {\r\n            System.out.println(&quot;address is not found.&quot;);\r\n        }\r\n    } catch (UnknownHostException e) {\r\n        e.printStackTrace();\r\n    } catch (SocketException e) {\r\n        e.printStackTrace();\r\n    }","title":"Formatting MAC address byte array to String","body":"<p>I am using this code to find the MAC address of a machine. This code prints directly the MAC address, but I want to return it as a string. I am completely confused.</p>\n\n<p>please help.</p>\n\n<pre><code>try {\n\n    InetAddress add = InetAddress.getByName(\"10.123.96.102\");\n    NetworkInterface ni1 = NetworkInterface.getByInetAddress(add);\n    if (ni1 != null) {\n        byte[] mac1 = ni1.getHardwareAddress();\n        if (mac1 != null) {\n            for (int k = 0; k &lt; mac1.length; k++) {\n                System.out.format(\"%02X%s\", mac1[k], (k &lt; mac1.length - 1) ? \"-\" : \"\");\n            }\n        } else {\n            System.out.println(\"Address doesn't exist \");\n        }\n        System.out.println();\n    } else {\n        System.out.println(\"address is not found.\");\n    }\n} catch (UnknownHostException e) {\n    e.printStackTrace();\n} catch (SocketException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1681805646,"post_id":76041967,"comment_id":134111771,"body_markdown":"You could reasonably simply build this with your own annotation processor (similar to what Lombok does, but standardized, fewer capabilities, but generating additional sources is what it does best).","body":"You could reasonably simply build this with your own annotation processor (similar to what Lombok does, but standardized, fewer capabilities, but generating additional sources is what it does best)."}],"answers":[{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1681805181,"creation_date":1681805181,"answer_id":76042207,"question_id":76041967,"body_markdown":"While the Reflection API permits inspecting fields and methods at runtime, generating additional code from existing declarations would require a compiler plugin (such as an annotation processor, like Lombok is). Alternatively, a separate build step could generate the sources for the enum before compilation.\r\n\r\nI know of no existing annotation processor or code generator that creates such an enum.","title":"Is there a mechanism that automatically created an enumeration with the name of the entity fields?","body":"<p>While the Reflection API permits inspecting fields and methods at runtime, generating additional code from existing declarations would require a compiler plugin (such as an annotation processor, like Lombok is). Alternatively, a separate build step could generate the sources for the enum before compilation.</p>\n<p>I know of no existing annotation processor or code generator that creates such an enum.</p>\n"}],"owner":{"account_id":4357786,"reputation":133,"user_id":3555851,"accept_rate":100,"display_name":"Denis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76042207,"answer_count":1,"score":0,"last_activity_date":1681805181,"creation_date":1681803512,"question_id":76041967,"body_markdown":"Is there a mechanism that automatically created an enumeration with the name of the entity fields?\r\n\r\n```\r\nimport lombok.*;\r\n\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class AuditEventGridDataRow {\r\n    private String vendor;\r\n\r\n    @AllArgsConstructor\r\n    public enum ColName {\r\n        vendor(&quot;vendor&quot;);\r\n\r\n        @Getter\r\n        private final String fieldName;\r\n    }\r\n}\r\n```","title":"Is there a mechanism that automatically created an enumeration with the name of the entity fields?","body":"<p>Is there a mechanism that automatically created an enumeration with the name of the entity fields?</p>\n<pre><code>import lombok.*;\n\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class AuditEventGridDataRow {\n    private String vendor;\n\n    @AllArgsConstructor\n    public enum ColName {\n        vendor(&quot;vendor&quot;);\n\n        @Getter\n        private final String fieldName;\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681752117,"post_id":76037038,"comment_id":134104233,"body_markdown":"The entities are correct. Only it will be better to use Set instead of List. And you will need some additional code in the service class. Please share what you have and I can update it.","body":"The entities are correct. Only it will be better to use Set instead of List. And you will need some additional code in the service class. Please share what you have and I can update it."},{"owner":{"account_id":25940493,"reputation":105,"user_id":19660081,"display_name":"Ivan Dvurechenskiy"},"score":0,"creation_date":1681764954,"post_id":76037038,"comment_id":134106882,"body_markdown":"@Mar-Z Are you suggesting to assign those child entities manually, and save them after I save MessageConfig entity to db? I&#39;ve updated this post with service layer method that saves MessageConfig entity to db","body":"@Mar-Z Are you suggesting to assign those child entities manually, and save them after I save MessageConfig entity to db? I&#39;ve updated this post with service layer method that saves MessageConfig entity to db"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681805113,"creation_date":1681805113,"answer_id":76042197,"question_id":76037038,"body_markdown":"The child entities must be saved to the database after the parent entity has been saved. This is because the id of parent will be generated only with the save method.\r\n\r\n**Solution** - add following block\r\n\r\n    messageConfigRepository.save(config);\r\n\r\n    for (Schedule schedule : config.schedule()) {\r\n        schedule.setConfig(config);\r\n        scheduleRepository.save(schedule);\r\n    }\r\n\r\n    return new ResponseEntity&lt;&gt;(config, HttpStatus.CREATED);","title":"Spring Data Jpa - save OneToMany bidirectional entities","body":"<p>The child entities must be saved to the database after the parent entity has been saved. This is because the id of parent will be generated only with the save method.</p>\n<p><strong>Solution</strong> - add following block</p>\n<pre><code>messageConfigRepository.save(config);\n\nfor (Schedule schedule : config.schedule()) {\n    schedule.setConfig(config);\n    scheduleRepository.save(schedule);\n}\n\nreturn new ResponseEntity&lt;&gt;(config, HttpStatus.CREATED);\n</code></pre>\n"}],"owner":{"account_id":25940493,"reputation":105,"user_id":19660081,"display_name":"Ivan Dvurechenskiy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681805113,"creation_date":1681746982,"question_id":76037038,"body_markdown":"I&#39;m facing a problem with persisting a JPA entity in database.I have a child ```Schedule``` entity, and a parent ```MessageConfig``` entity. When calling a ```@PostMapping``` request with this payload:\r\n```\r\n{\r\n    &quot;emailAdvertisement&quot;:{\r\n        &quot;template&quot;:&quot;some string&quot;,\r\n        &quot;topic&quot;: &quot;some string&quot;,\r\n        &quot;image&quot;: &quot;some string&quot;\r\n    },\r\n    &quot;smsAdvertisement&quot;:{\r\n        &quot;text&quot;:&quot;smsText&quot;\r\n    },\r\n    &quot;sendTypes&quot;:&quot;Sms,Email&quot;,\r\n    &quot;schedule&quot;:[\r\n\t\t{ &quot;timeToSend&quot;:&quot;17-04-2023 17:35&quot;},\r\n\t\t{ &quot;timeToSend&quot;:&quot;17-04-2023 17:45&quot;}\r\n\t\t]\r\n}\r\n```\r\nI get &quot;Object references an unsaved transient instance - save the transient instance before flushing&quot; error. ```MessageConfig``` is saved in db, but in schedule table the column for message_config_id foreign key is filled with null. My guess is that ```Schedule``` entity is trying to associate itself with an entity that is not yet persisted.\r\nI&#39;ve tried following solutions, but still not having a result:\r\n\r\n 1. Place @CascadeType.All in both sides\r\n 2. Place @Cascade(CascadeType.SAVE_UPDATE) on ManyToOne side\r\n 3. Place @CascadeType.Persist on ManyToOne side\r\n\r\n\r\n\r\nChild entity class\r\n```\r\n@Entity\r\n@Data\r\npublic class Schedule {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n\r\n    @JsonFormat(shape=JsonFormat.Shape.STRING, pattern=&quot;dd-MM-yyyy HH:mm&quot;)\r\n    private LocalDateTime timeToSend;\r\n\r\n\r\n    @ManyToOne(cascade = CascadeType.PERSIST)\r\n    @JoinColumn(name = &quot;config_id&quot;)\r\n    private MessageConfig config; //something wrong with this\r\n\r\n    private SendStatus sendStatus = SendStatus.WAITING;\r\n}\r\n```\r\nParent entity class\r\n```\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\npublic class MessageConfig {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    private Customer customer;\r\n\r\n    private String name;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL,orphanRemoval = true)\r\n    private EmailAdvertisement emailAdvertisement;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL,orphanRemoval = true)\r\n    private SmsAdvertisement smsAdvertisement;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL,orphanRemoval = true)\r\n    private MessengerAdvertisement messengerAdvertisement;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL,fetch = FetchType.LAZY,orphanRemoval = true)\r\n    private List&lt;Client&gt; clients;\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;config&quot;, cascade = CascadeType.ALL, orphanRemoval = true)  //something wrong with this\r\n    private List&lt;Schedule&gt; schedule;\r\n\r\n    private String sendTypes;\r\n\r\n    public MessageConfig(EmailAdvertisement emailAdvertisement,\r\n                         SmsAdvertisement smsAdvertisement,\r\n                         MessengerAdvertisement messengerAdvertisement,\r\n                         String sendTypes,\r\n                         List&lt;Client&gt; clients) {\r\n        this.emailAdvertisement = emailAdvertisement;\r\n        this.smsAdvertisement = smsAdvertisement;\r\n        this.messengerAdvertisement = messengerAdvertisement;\r\n        this.sendTypes = sendTypes;\r\n        this.clients = clients;\r\n    }\r\n\r\n}\r\n```\r\nService method to save config in db\r\n```\r\npublic ResponseEntity&lt;MessageConfig&gt; postConfig(String configDto, MultipartFile file) {\r\n        try {\r\n            MessageConfig config = mapper.readValue(configDto, MessageConfig.class);\r\n            Customer customer = new Customer(&quot;NikePR&quot;, &quot;nikePR@gmail.com&quot;, &quot;password&quot;);\r\n            config.setClients(csvParser.parseCsvToList(file));\r\n            config.setCustomer(customer);\r\n            messageConfigRepository.save(config);\r\n            return new ResponseEntity&lt;&gt;(config, HttpStatus.CREATED);\r\n        } catch (JsonProcessingException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\r\n    }\r\n```\r\nIs there any solution that will not require additional table with message_config_id/schedule_id mapping","title":"Spring Data Jpa - save OneToMany bidirectional entities","body":"<p>I'm facing a problem with persisting a JPA entity in database.I have a child <code>Schedule</code> entity, and a parent <code>MessageConfig</code> entity. When calling a <code>@PostMapping</code> request with this payload:</p>\n<pre><code>{\n    &quot;emailAdvertisement&quot;:{\n        &quot;template&quot;:&quot;some string&quot;,\n        &quot;topic&quot;: &quot;some string&quot;,\n        &quot;image&quot;: &quot;some string&quot;\n    },\n    &quot;smsAdvertisement&quot;:{\n        &quot;text&quot;:&quot;smsText&quot;\n    },\n    &quot;sendTypes&quot;:&quot;Sms,Email&quot;,\n    &quot;schedule&quot;:[\n        { &quot;timeToSend&quot;:&quot;17-04-2023 17:35&quot;},\n        { &quot;timeToSend&quot;:&quot;17-04-2023 17:45&quot;}\n        ]\n}\n</code></pre>\n<p>I get &quot;Object references an unsaved transient instance - save the transient instance before flushing&quot; error. <code>MessageConfig</code> is saved in db, but in schedule table the column for message_config_id foreign key is filled with null. My guess is that <code>Schedule</code> entity is trying to associate itself with an entity that is not yet persisted.\nI've tried following solutions, but still not having a result:</p>\n<ol>\n<li>Place @CascadeType.All in both sides</li>\n<li>Place @Cascade(CascadeType.SAVE_UPDATE) on ManyToOne side</li>\n<li>Place @CascadeType.Persist on ManyToOne side</li>\n</ol>\n<p>Child entity class</p>\n<pre><code>@Entity\n@Data\npublic class Schedule {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    @JsonFormat(shape=JsonFormat.Shape.STRING, pattern=&quot;dd-MM-yyyy HH:mm&quot;)\n    private LocalDateTime timeToSend;\n\n\n    @ManyToOne(cascade = CascadeType.PERSIST)\n    @JoinColumn(name = &quot;config_id&quot;)\n    private MessageConfig config; //something wrong with this\n\n    private SendStatus sendStatus = SendStatus.WAITING;\n}\n</code></pre>\n<p>Parent entity class</p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\npublic class MessageConfig {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    private Customer customer;\n\n    private String name;\n\n    @OneToOne(cascade = CascadeType.ALL,orphanRemoval = true)\n    private EmailAdvertisement emailAdvertisement;\n\n    @OneToOne(cascade = CascadeType.ALL,orphanRemoval = true)\n    private SmsAdvertisement smsAdvertisement;\n\n    @OneToOne(cascade = CascadeType.ALL,orphanRemoval = true)\n    private MessengerAdvertisement messengerAdvertisement;\n\n    @OneToMany(cascade = CascadeType.ALL,fetch = FetchType.LAZY,orphanRemoval = true)\n    private List&lt;Client&gt; clients;\n\n\n    @OneToMany(mappedBy = &quot;config&quot;, cascade = CascadeType.ALL, orphanRemoval = true)  //something wrong with this\n    private List&lt;Schedule&gt; schedule;\n\n    private String sendTypes;\n\n    public MessageConfig(EmailAdvertisement emailAdvertisement,\n                         SmsAdvertisement smsAdvertisement,\n                         MessengerAdvertisement messengerAdvertisement,\n                         String sendTypes,\n                         List&lt;Client&gt; clients) {\n        this.emailAdvertisement = emailAdvertisement;\n        this.smsAdvertisement = smsAdvertisement;\n        this.messengerAdvertisement = messengerAdvertisement;\n        this.sendTypes = sendTypes;\n        this.clients = clients;\n    }\n\n}\n</code></pre>\n<p>Service method to save config in db</p>\n<pre><code>public ResponseEntity&lt;MessageConfig&gt; postConfig(String configDto, MultipartFile file) {\n        try {\n            MessageConfig config = mapper.readValue(configDto, MessageConfig.class);\n            Customer customer = new Customer(&quot;NikePR&quot;, &quot;nikePR@gmail.com&quot;, &quot;password&quot;);\n            config.setClients(csvParser.parseCsvToList(file));\n            config.setCustomer(customer);\n            messageConfigRepository.save(config);\n            return new ResponseEntity&lt;&gt;(config, HttpStatus.CREATED);\n        } catch (JsonProcessingException e) {\n            e.printStackTrace();\n        }\n        return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\n    }\n</code></pre>\n<p>Is there any solution that will not require additional table with message_config_id/schedule_id mapping</p>\n"},{"tags":["java","bazel","bazel-java"],"comments":[{"owner":{"account_id":975399,"reputation":7972,"user_id":996815,"accept_rate":96,"display_name":"Vertexwahn"},"score":0,"creation_date":1681756453,"post_id":76035764,"comment_id":134105222,"body_markdown":"I assume that you can run `generator/ExampleGenerator_x86_64.exe` successfully without Bazel - is this correct?","body":"I assume that you can run <code>generator&#47;ExampleGenerator_x86_64.exe</code> successfully without Bazel - is this correct?"},{"owner":{"account_id":4355972,"reputation":13,"user_id":3554584,"display_name":"RAHUL S K"},"score":0,"creation_date":1681803205,"post_id":76035764,"comment_id":134111246,"body_markdown":"Yes.. I can run it successfully without Bazel.","body":"Yes.. I can run it successfully without Bazel."}],"owner":{"account_id":4355972,"reputation":13,"user_id":3554584,"display_name":"RAHUL S K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681804329,"creation_date":1681738560,"question_id":76035764,"body_markdown":"I want to run a .exe file in **bazel** **build** which requires java to run.\r\n\r\nThis executable creates a directory and some files if run successfully.\r\n\r\nMy ExampleGenerator.bzl\r\n\r\n    def _example_generator_impl(ctx):\r\n        outputs = []\r\n        if ctx.outputs.outDir:\r\n            outputs.append(ctx.outputs.outDir)\r\n        \r\n        ctx.actions.run(\r\n            inputs = ctx.files.input,\r\n            arguments = [args],\r\n            outputs = outputs,\r\n            executable = ctx.executable.generator_tool\r\n        )\r\n    \r\n    example_generator = rule(\r\n        implementation = _example_generator_impl,\r\n        attrs = {\r\n            &quot;input&quot;: attr.label (\r\n                    allow_single_file = [&quot;.txt&quot;],\r\n                    mandatory = True\r\n            ),\r\n            &quot;outDir&quot;: attr.output(),\r\n            &quot;generator_tool&quot;: attr.label(\r\n                executable = True,\r\n                allow_files = True,\r\n                cfg = &quot;exec&quot;,\r\n                default = Label(&quot;generator/ExampleGenerator_x86_64.exe&quot;),\r\n            )\r\n        }\r\n    )\r\n\r\n\r\nAnd BUILD file\r\n\r\n    load(&quot;:ExampleGenerator.bzl&quot; , &quot;example_generator&quot;)\r\n    example_generator(\r\n    \tname = &quot;Example&quot;,\r\n    \tinput = &quot;inputFile.txt&quot;,\r\n    \toutDir = &quot;Outdir&quot;,\r\n    )\r\n\r\nWhenever I run bazel build,\r\nI get the following windows error diagolue saying bazel did not find jre/jawaw.exe in the path.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow can I make it work? Or any other implementation to run the .exe file will be helpful\r\n\r\nThanks!!\r\n\r\nPS: I have installed all required JDK and the .exe runs correctly in command prompt.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SPx9q.png","title":"Bazel ctx.actions.run(..) running windows java executable","body":"<p>I want to run a .exe file in <strong>bazel</strong> <strong>build</strong> which requires java to run.</p>\n<p>This executable creates a directory and some files if run successfully.</p>\n<p>My ExampleGenerator.bzl</p>\n<pre><code>def _example_generator_impl(ctx):\n    outputs = []\n    if ctx.outputs.outDir:\n        outputs.append(ctx.outputs.outDir)\n    \n    ctx.actions.run(\n        inputs = ctx.files.input,\n        arguments = [args],\n        outputs = outputs,\n        executable = ctx.executable.generator_tool\n    )\n\nexample_generator = rule(\n    implementation = _example_generator_impl,\n    attrs = {\n        &quot;input&quot;: attr.label (\n                allow_single_file = [&quot;.txt&quot;],\n                mandatory = True\n        ),\n        &quot;outDir&quot;: attr.output(),\n        &quot;generator_tool&quot;: attr.label(\n            executable = True,\n            allow_files = True,\n            cfg = &quot;exec&quot;,\n            default = Label(&quot;generator/ExampleGenerator_x86_64.exe&quot;),\n        )\n    }\n)\n</code></pre>\n<p>And BUILD file</p>\n<pre><code>load(&quot;:ExampleGenerator.bzl&quot; , &quot;example_generator&quot;)\nexample_generator(\n    name = &quot;Example&quot;,\n    input = &quot;inputFile.txt&quot;,\n    outDir = &quot;Outdir&quot;,\n)\n</code></pre>\n<p>Whenever I run bazel build,\nI get the following windows error diagolue saying bazel did not find jre/jawaw.exe in the path.</p>\n<p><a href=\"https://i.stack.imgur.com/SPx9q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SPx9q.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I make it work? Or any other implementation to run the .exe file will be helpful</p>\n<p>Thanks!!</p>\n<p>PS: I have installed all required JDK and the .exe runs correctly in command prompt.</p>\n"},{"tags":["java","android","android-studio","android-webview","android-camera"],"comments":[{"owner":{"account_id":9536392,"reputation":67,"user_id":7086431,"accept_rate":83,"display_name":"Mahmoud Ragab"},"score":0,"creation_date":1692825888,"post_id":76041564,"comment_id":135678563,"body_markdown":"Hi, did you solve it?","body":"Hi, did you solve it?"},{"owner":{"account_id":23973000,"reputation":579,"user_id":17961431,"display_name":"Dev Beginner "},"score":0,"creation_date":1699334666,"post_id":76041564,"comment_id":136515373,"body_markdown":"@MahmoudRagab Yes.","body":"@MahmoudRagab Yes."},{"owner":{"account_id":9536392,"reputation":67,"user_id":7086431,"accept_rate":83,"display_name":"Mahmoud Ragab"},"score":0,"creation_date":1699445879,"post_id":76041564,"comment_id":136531708,"body_markdown":"Awesome, what did you do please?","body":"Awesome, what did you do please?"}],"answers":[{"tags":[],"owner":{"account_id":8402161,"reputation":547,"user_id":6306928,"display_name":"asajadi84"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681802001,"creation_date":1681802001,"answer_id":76041753,"question_id":76041564,"body_markdown":"This problem is not because of the Android application or the way you coded it. Since you are using a WebView, the html code of the website tells the WebView the proper dialog box to appear. You need to modify your html.\r\nSee: [HTML File Upload Doesn&#39;t Show Gallery on Android][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24470932/html-file-upload-doesnt-show-gallery-on-android","title":"Android Web View Attach image from gallery or Camera","body":"<p>This problem is not because of the Android application or the way you coded it. Since you are using a WebView, the html code of the website tells the WebView the proper dialog box to appear. You need to modify your html.\nSee: <a href=\"https://stackoverflow.com/questions/24470932/html-file-upload-doesnt-show-gallery-on-android\">HTML File Upload Doesn't Show Gallery on Android</a></p>\n"}],"owner":{"account_id":23973000,"reputation":579,"user_id":17961431,"display_name":"Dev Beginner "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681804055,"creation_date":1681800575,"question_id":76041564,"body_markdown":"I&#39;m trying to create an Android app for my web system. This is my first try at Android Studio. I followed a few tutorials and made up something.\r\n\r\nSo when I open the app it opens my web system within the app.\r\n\r\nThere is a section that uploads images, but when I click it, it won&#39;t open and ask for a gallery or camera. \r\n\r\nI would like to know how to do it.\r\n\r\nI&#39;m using Android Studio for this and these are the current codes.\r\n\r\nMainActivity.java\r\n\r\n```java\r\npublic class MainActivity extends AppCompatActivity {\r\n  WebView webView;\r\n  @Override\r\n  protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n    webView = findViewById(R.id.webview);\r\n    webView.setWebViewClient(new WebViewClient());\r\n    webView.loadUrl(&quot;https://www.mysitenamegoeshear.com/&quot;);\r\n    WebSettings websettings = webView.getSettings();\r\n    websettings.setJavaScriptEnabled(true);\r\n  }\r\n  private class MyWebView extends WebViewClient {\r\n    @Override\r\n    public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n      super.onPageStarted(view, url, favicon);\r\n    }\r\n\r\n    @Override\r\n    public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\r\n      return super.shouldOverrideUrlLoading(view, request);\r\n\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public void onBackPressed() {\r\n    if (webView.isFocused() &amp;&amp; webView.canGoBack()) {\r\n      webView.goBack();\r\n    } else {\r\n      super.onBackPressed();\r\n    }\r\n\r\n  }\r\n\r\n}\r\n```\r\nThis is how it opens in the mobile browser. Here when It clicks to ``Choose File`` This pop-up appears. I want to do the same in my web view also.  \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P256z.png","title":"Android Web View Attach image from gallery or Camera","body":"<p>I'm trying to create an Android app for my web system. This is my first try at Android Studio. I followed a few tutorials and made up something.</p>\n<p>So when I open the app it opens my web system within the app.</p>\n<p>There is a section that uploads images, but when I click it, it won't open and ask for a gallery or camera.</p>\n<p>I would like to know how to do it.</p>\n<p>I'm using Android Studio for this and these are the current codes.</p>\n<p>MainActivity.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n  WebView webView;\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    webView = findViewById(R.id.webview);\n    webView.setWebViewClient(new WebViewClient());\n    webView.loadUrl(&quot;https://www.mysitenamegoeshear.com/&quot;);\n    WebSettings websettings = webView.getSettings();\n    websettings.setJavaScriptEnabled(true);\n  }\n  private class MyWebView extends WebViewClient {\n    @Override\n    public void onPageStarted(WebView view, String url, Bitmap favicon) {\n      super.onPageStarted(view, url, favicon);\n    }\n\n    @Override\n    public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\n      return super.shouldOverrideUrlLoading(view, request);\n\n    }\n  }\n\n  @Override\n  public void onBackPressed() {\n    if (webView.isFocused() &amp;&amp; webView.canGoBack()) {\n      webView.goBack();\n    } else {\n      super.onBackPressed();\n    }\n\n  }\n\n}\n</code></pre>\n<p>This is how it opens in the mobile browser. Here when It clicks to <code>Choose File</code> This pop-up appears. I want to do the same in my web view also.</p>\n<p><a href=\"https://i.stack.imgur.com/P256z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P256z.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","performance-testing","wiremock"],"answers":[{"tags":[],"owner":{"account_id":13936444,"reputation":259,"user_id":10063327,"display_name":"m-kay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681803030,"creation_date":1681803030,"answer_id":76041905,"question_id":76004783,"body_markdown":"You can create a `WireMockConfigurationCustomizer` when profile `perf` is active and register an extension which is setting that delay instead of setting the delay directly in your wiremock stub definitions.\r\n\r\n```java\r\n@Configuration\r\npublic class WiremockConfig {\r\n\r\n    @Bean\r\n    @Profile(&quot;perf&quot;)\r\n    public WireMockConfigurationCustomizer wiremockConfig() {\r\n        return config -&gt; config.extensions(\r\n                new ResponseDefinitionTransformer() {\r\n                    @Override\r\n                    public ResponseDefinition transform(Request request, ResponseDefinition response, FileSource fileSource, Parameters parameters) {\r\n                        return ResponseDefinitionBuilder.like(response).withFixedDelay(2000).build();\r\n                    }\r\n\r\n                    @Override\r\n                    public String getName() {\r\n                        return &quot;inject-delay-transformer&quot;;\r\n                    }\r\n                }\r\n        );\r\n    }\r\n}\r\n``` ","title":"Wiremock setup based on spring profiles in spring boot application","body":"<p>You can create a <code>WireMockConfigurationCustomizer</code> when profile <code>perf</code> is active and register an extension which is setting that delay instead of setting the delay directly in your wiremock stub definitions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WiremockConfig {\n\n    @Bean\n    @Profile(&quot;perf&quot;)\n    public WireMockConfigurationCustomizer wiremockConfig() {\n        return config -&gt; config.extensions(\n                new ResponseDefinitionTransformer() {\n                    @Override\n                    public ResponseDefinition transform(Request request, ResponseDefinition response, FileSource fileSource, Parameters parameters) {\n                        return ResponseDefinitionBuilder.like(response).withFixedDelay(2000).build();\n                    }\n\n                    @Override\n                    public String getName() {\n                        return &quot;inject-delay-transformer&quot;;\n                    }\n                }\n        );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8769434,"reputation":128,"user_id":6556776,"display_name":"Ashutosh Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76041905,"answer_count":1,"score":0,"last_activity_date":1681803030,"creation_date":1681384549,"question_id":76004783,"body_markdown":"I have run into a probelm with Wiremock setup with spring boot application.\r\n\r\n&gt;**Background:**\r\nCurrent application setup has wiremock implemented for functional tests(spring profile - `test`) to mock responses for multiple downstream services.\r\n\r\n\r\nI need to setup **Performance Test Environment (`perf`)** for the application, I will be using different wiremock configurations for `perf` environment .\r\nAs there are multiple downstream services involved, I want to simulate delayed response from downstream services to get accurate results. Wiremock provides us with following configuration to do that:\r\n\r\n&gt; `&quot;fixedDelayMilliseconds&quot;: &lt;x milliseconds&gt;`\r\n\r\n(*ref : https://wiremock.org/docs/simulating-faults/*)\r\n\r\n\r\nBut if I include this param in my current wiremock configuration, it will also get applied to functional test(spring profile `test`). Please suggest a way to add this delay based on spring profile only for `perf` but not for `test`.\r\n\r\n\r\n\r\nI am thinking to implement mocked services implementation for `perf` env and add response delays there, but I want to achieve this through configurations, if possible.","title":"Wiremock setup based on spring profiles in spring boot application","body":"<p>I have run into a probelm with Wiremock setup with spring boot application.</p>\n<blockquote>\n<p><strong>Background:</strong>\nCurrent application setup has wiremock implemented for functional tests(spring profile - <code>test</code>) to mock responses for multiple downstream services.</p>\n</blockquote>\n<p>I need to setup <strong>Performance Test Environment (<code>perf</code>)</strong> for the application, I will be using different wiremock configurations for <code>perf</code> environment .\nAs there are multiple downstream services involved, I want to simulate delayed response from downstream services to get accurate results. Wiremock provides us with following configuration to do that:</p>\n<blockquote>\n<p><code>&quot;fixedDelayMilliseconds&quot;: &lt;x milliseconds&gt;</code></p>\n</blockquote>\n<p>(<em>ref : <a href=\"https://wiremock.org/docs/simulating-faults/\" rel=\"nofollow noreferrer\">https://wiremock.org/docs/simulating-faults/</a></em>)</p>\n<p>But if I include this param in my current wiremock configuration, it will also get applied to functional test(spring profile <code>test</code>). Please suggest a way to add this delay based on spring profile only for <code>perf</code> but not for <code>test</code>.</p>\n<p>I am thinking to implement mocked services implementation for <code>perf</code> env and add response delays there, but I want to achieve this through configurations, if possible.</p>\n"},{"tags":["java","spring-webflux","spring-cloud-gateway","reactor-netty"],"owner":{"account_id":20019710,"reputation":1,"user_id":14674904,"display_name":"Don________"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681802875,"creation_date":1681802875,"question_id":76041881,"body_markdown":"When i send a GET HTTP message to the SpringCloudGateway, it responses with 400: Bad Request!\r\nHow to solve this problem without modifying the request path.\r\n\r\nThe exception in Console\r\n\r\n```\r\njava.net.URISyntaxException: Malformed escape pair at index 50: http://localhost:8080/api/user/application?data_a=%u589E\r\n\tat java.net.URI$Parser.fail(URI.java:2848) ~[na:1.8.0_131]\r\n\tat java.net.URI$Parser.scanEscape(URI.java:2978) ~[na:1.8.0_131]\r\n\tat java.net.URI$Parser.scan(URI.java:3001) ~[na:1.8.0_131]\r\n\tat java.net.URI$Parser.checkChars(URI.java:3019) ~[na:1.8.0_131]\r\n\tat java.net.URI$Parser.parseHierarchical(URI.java:3111) ~[na:1.8.0_131]\r\n\tat java.net.URI$Parser.parse(URI.java:3053) ~[na:1.8.0_131]\r\n\tat java.net.URI.&lt;init&gt;(URI.java:588) ~[na:1.8.0_131]\r\n\tat java.net.URI.create(URI.java:850) ~[na:1.8.0_131]\r\n\tat reactor.netty.http.HttpOperations.resolvePath(HttpOperations.java:360) ~[reactor-netty-http-1.0.4.jar:1.0.4]\r\n\tat reactor.netty.http.server.HttpServerOperations.&lt;init&gt;(HttpServerOperations.java:153) ~[reactor-netty-http-1.0.4.jar:1.0.4]\r\n\tat reactor.netty.http.server.HttpServerOperations.&lt;init&gt;(HttpServerOperations.java:137) ~[reactor-netty-http-1.0.4.jar:1.0.4]\r\n\tat reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:200) ~[reactor-netty-http-1.0.4.jar:1.0.4]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324) [netty-codec-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) [netty-codec-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) [netty-common-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.59.Final.jar:4.1.59.Final]\r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]\r\n```\r\n\r\nPOM.xml\r\n\r\n```\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;2020.0.2&lt;/version&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.3&lt;/version&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\n\r\n\r\nThis exception occurs only when the log level is debug.When it&#39;s info, the console is empty","title":"400 Bad Request in SpringCloudGateway?","body":"<p>When i send a GET HTTP message to the SpringCloudGateway, it responses with 400: Bad Request!\nHow to solve this problem without modifying the request path.</p>\n<p>The exception in Console</p>\n<pre><code>java.net.URISyntaxException: Malformed escape pair at index 50: http://localhost:8080/api/user/application?data_a=%u589E\n    at java.net.URI$Parser.fail(URI.java:2848) ~[na:1.8.0_131]\n    at java.net.URI$Parser.scanEscape(URI.java:2978) ~[na:1.8.0_131]\n    at java.net.URI$Parser.scan(URI.java:3001) ~[na:1.8.0_131]\n    at java.net.URI$Parser.checkChars(URI.java:3019) ~[na:1.8.0_131]\n    at java.net.URI$Parser.parseHierarchical(URI.java:3111) ~[na:1.8.0_131]\n    at java.net.URI$Parser.parse(URI.java:3053) ~[na:1.8.0_131]\n    at java.net.URI.&lt;init&gt;(URI.java:588) ~[na:1.8.0_131]\n    at java.net.URI.create(URI.java:850) ~[na:1.8.0_131]\n    at reactor.netty.http.HttpOperations.resolvePath(HttpOperations.java:360) ~[reactor-netty-http-1.0.4.jar:1.0.4]\n    at reactor.netty.http.server.HttpServerOperations.&lt;init&gt;(HttpServerOperations.java:153) ~[reactor-netty-http-1.0.4.jar:1.0.4]\n    at reactor.netty.http.server.HttpServerOperations.&lt;init&gt;(HttpServerOperations.java:137) ~[reactor-netty-http-1.0.4.jar:1.0.4]\n    at reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:200) ~[reactor-netty-http-1.0.4.jar:1.0.4]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324) [netty-codec-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) [netty-codec-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) [netty-common-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.59.Final.jar:4.1.59.Final]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]\n</code></pre>\n<p>POM.xml</p>\n<pre><code>    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;2020.0.2&lt;/version&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;2.4.3&lt;/version&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>This exception occurs only when the log level is debug.When it's info, the console is empty</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1681807721,"post_id":76041852,"comment_id":134112221,"body_markdown":"It&#39;s not possible currently, i.e. there are no appropriate classes. One might do it with the COS classes after reading and understanding the PDF specification (&quot;12.5.6.23 Redaction Annotations&quot;). I could implement such classes later this year if somebody comes up with a few sample PDFs.","body":"It&#39;s not possible currently, i.e. there are no appropriate classes. One might do it with the COS classes after reading and understanding the PDF specification (&quot;12.5.6.23 Redaction Annotations&quot;). I could implement such classes later this year if somebody comes up with a few sample PDFs."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1681823236,"post_id":76041852,"comment_id":134116024,"body_markdown":"In other words, it is possible nowadays using lowlevel APIs, there merely is not yet a highlevel API for redaction marks in PDFBox. If you know the internals of the PDF format, therefore, you can create redaction marks with PDFBox; otherwise, you should wait until @Tilman or some other kind soul implements the high level API.","body":"In other words, it is possible nowadays using lowlevel APIs, there merely is not yet a highlevel API for redaction marks in PDFBox. If you know the internals of the PDF format, therefore, you can create redaction marks with PDFBox; otherwise, you should wait until @Tilman or some other kind soul implements the high level API."},{"owner":{"account_id":1340849,"reputation":142,"user_id":1282525,"accept_rate":50,"display_name":"Harish Alwala"},"score":0,"creation_date":1682037178,"post_id":76041852,"comment_id":134156735,"body_markdown":"Thanks for the response. I found such feature in python module PyMuPDF. It has apis to make all types of highlights and redactions.","body":"Thanks for the response. I found such feature in python module PyMuPDF. It has apis to make all types of highlights and redactions."},{"owner":{"account_id":1340849,"reputation":142,"user_id":1282525,"accept_rate":50,"display_name":"Harish Alwala"},"score":0,"creation_date":1682070963,"post_id":76041852,"comment_id":134161439,"body_markdown":"Note: PyMuPDF is AGPL license. Not free.","body":"Note: PyMuPDF is AGPL license. Not free."}],"owner":{"account_id":1340849,"reputation":142,"user_id":1282525,"accept_rate":50,"display_name":"Harish Alwala"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681802641,"creation_date":1681802641,"question_id":76041852,"body_markdown":"I am looking to create redaction marks in pdf using pdfbox. The generated pdf with redaction marks will be used to make redactions in acrobat pdf reader.\r\n\r\nIs it possible to create Redaction marks using pdfbox Java api.\r\n\r\nSample code would be much helpful.\r\n\r\n","title":"&quot;Redaction marks&quot; with pdfbox Java api","body":"<p>I am looking to create redaction marks in pdf using pdfbox. The generated pdf with redaction marks will be used to make redactions in acrobat pdf reader.</p>\n<p>Is it possible to create Redaction marks using pdfbox Java api.</p>\n<p>Sample code would be much helpful.</p>\n"},{"tags":["java","android","sql","android-room"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1681746835,"post_id":76036711,"comment_id":134103007,"body_markdown":"Add one day to endday.","body":"Add one day to endday."},{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1681756973,"post_id":76036711,"comment_id":134105332,"body_markdown":"*...all activities with the dates between the startdate and enddate from the picker will be shown...* your query checks only the column `start_time` to be between `:from` and `:to`. It does not check the column `end_time`. Is this that you want?","body":"<i>...all activities with the dates between the startdate and enddate from the picker will be shown...</i> your query checks only the column <code>start_time</code> to be between <code>:from</code> and <code>:to</code>. It does not check the column <code>end_time</code>. Is this that you want?"}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681765816,"creation_date":1681762650,"answer_id":76038983,"question_id":76036711,"body_markdown":"From a quick look, the daterangepicker could use dates that include the date and time down to milliseconds (long/Long) but at a guess uses the start of the day e.g. `2023-04-01 00:00:00.000` and `2023-04-30 00:00:00.000`.\r\n\r\n- Note these are visual representations of the value not the actual value that is stored (e.g. `23-04-01 00:00:00.000` would be stored as `1680307200000`, whilst if not including milliseconds, `23-04-01 00:00:00`, then it would be stored as `1680307200`).\r\n\r\n\r\nThus virtually any date/time/millis on 04/30 will be excluded unless it is the very first milli second of the date which is highly unlikely.\r\n\r\n- If the milliseconds are not returned and just the time, the difference would be that the selection would then only include those rows that had a date/time of up to and including `23-04-30 00:00:00` NOT `23-04-30 00:00:01` or greater.\r\n\r\nThis appears to match your description of the issue. \r\n\r\nWhat you can do is just use the date part for the comparisons and the SQLite `date` function will do this *(if the milliseconds are dropped AND the function is told that it is handling a unix timestamp)*\r\n- a) drop the milli seconds by dividing by 1000 and then \r\n- b) use the date function to extract just the date component with the **unixepoch** modifier.\r\n\r\nSo you could use *(assuming that milliseconds are stored)*:-\r\n\r\n    @Query(&quot;SELECT * FROM tasks WHERE date(start_time / 1000,&#39;unixepoch&#39;) BETWEEN date(:from/1000,&#39;unixepoch&#39;) AND date(:to/1000,&#39;unixepoch&#39;)&quot;)\r\n\r\nYou may wish to refer to https://www.sqlite.org/lang_datefunc.html \r\n\r\n- Note the above is in-principle code, that is the code has not been compiled and/or run.\r\n- if the milliseconds are not stored then simply remove the 3 divisions by 1000 e.g. `@Query(&quot;SELECT * FROM tasks WHERE date(start_time,&#39;unixepoch&#39;) BETWEEN date(:from,&#39;unixepoch&#39;) AND date(:to,&#39;unixepoch&#39;)&quot;)`\r\n\r\n\r\n&gt; they can press a button and all activities with the dates between the startdate and enddate from the picker will be shown to the user in a recyclerview.\r\n\r\nYou are only showing rows that have the start date in the date range. It would not show, for example one that started on 31st march and ended on 10th April. For that, assuming that the end date/time is held in a column name **end_time** then you could use (assuming no milliseconds):-\r\n\r\n`@Query(&quot;SELECT * FROM tasks WHERE date(start_time,&#39;unixepoch&#39;) BETWEEN date(:from,&#39;unixepoch&#39;) AND date(:to,&#39;unixepoch&#39;) OR date(end_time,&#39;unixepoch&#39;) BETWEEN date(:from,&#39;unixepoch&#39;) AND date(:to,&#39;unixepoch&#39;)&quot;)`\r\n\r\n","title":"How to get all Dates between two Dates in Android Room","body":"<p>From a quick look, the daterangepicker could use dates that include the date and time down to milliseconds (long/Long) but at a guess uses the start of the day e.g. <code>2023-04-01 00:00:00.000</code> and <code>2023-04-30 00:00:00.000</code>.</p>\n<ul>\n<li>Note these are visual representations of the value not the actual value that is stored (e.g. <code>23-04-01 00:00:00.000</code> would be stored as <code>1680307200000</code>, whilst if not including milliseconds, <code>23-04-01 00:00:00</code>, then it would be stored as <code>1680307200</code>).</li>\n</ul>\n<p>Thus virtually any date/time/millis on 04/30 will be excluded unless it is the very first milli second of the date which is highly unlikely.</p>\n<ul>\n<li>If the milliseconds are not returned and just the time, the difference would be that the selection would then only include those rows that had a date/time of up to and including <code>23-04-30 00:00:00</code> NOT <code>23-04-30 00:00:01</code> or greater.</li>\n</ul>\n<p>This appears to match your description of the issue.</p>\n<p>What you can do is just use the date part for the comparisons and the SQLite <code>date</code> function will do this <em>(if the milliseconds are dropped AND the function is told that it is handling a unix timestamp)</em></p>\n<ul>\n<li>a) drop the milli seconds by dividing by 1000 and then</li>\n<li>b) use the date function to extract just the date component with the <strong>unixepoch</strong> modifier.</li>\n</ul>\n<p>So you could use <em>(assuming that milliseconds are stored)</em>:-</p>\n<pre><code>@Query(&quot;SELECT * FROM tasks WHERE date(start_time / 1000,'unixepoch') BETWEEN date(:from/1000,'unixepoch') AND date(:to/1000,'unixepoch')&quot;)\n</code></pre>\n<p>You may wish to refer to <a href=\"https://www.sqlite.org/lang_datefunc.html\" rel=\"nofollow noreferrer\">https://www.sqlite.org/lang_datefunc.html</a></p>\n<ul>\n<li>Note the above is in-principle code, that is the code has not been compiled and/or run.</li>\n<li>if the milliseconds are not stored then simply remove the 3 divisions by 1000 e.g. <code>@Query(&quot;SELECT * FROM tasks WHERE date(start_time,'unixepoch') BETWEEN date(:from,'unixepoch') AND date(:to,'unixepoch')&quot;)</code></li>\n</ul>\n<blockquote>\n<p>they can press a button and all activities with the dates between the startdate and enddate from the picker will be shown to the user in a recyclerview.</p>\n</blockquote>\n<p>You are only showing rows that have the start date in the date range. It would not show, for example one that started on 31st march and ended on 10th April. For that, assuming that the end date/time is held in a column name <strong>end_time</strong> then you could use (assuming no milliseconds):-</p>\n<p><code>@Query(&quot;SELECT * FROM tasks WHERE date(start_time,'unixepoch') BETWEEN date(:from,'unixepoch') AND date(:to,'unixepoch') OR date(end_time,'unixepoch') BETWEEN date(:from,'unixepoch') AND date(:to,'unixepoch')&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":22264521,"reputation":329,"user_id":20837030,"display_name":"jcredking"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681802534,"creation_date":1681802534,"answer_id":76041832,"question_id":76036711,"body_markdown":"you can try like this its work for me\r\n\r\n     @Query(&quot;SELECT * FROM tasks WHERE start_time BETWEEN strftime(&#39;%s&#39;, date(:from/1000, &quot; +\r\n            &quot;&#39;unixepoch&#39;))  AND strftime(&#39;%s&#39;, date(:to/1000, &#39;unixepoch&#39;)) )\r\n    List&lt;TimeEntity&gt; getChoosenTimes(long from, long to);","title":"How to get all Dates between two Dates in Android Room","body":"<p>you can try like this its work for me</p>\n<pre><code> @Query(&quot;SELECT * FROM tasks WHERE start_time BETWEEN strftime('%s', date(:from/1000, &quot; +\n        &quot;'unixepoch'))  AND strftime('%s', date(:to/1000, 'unixepoch')) )\nList&lt;TimeEntity&gt; getChoosenTimes(long from, long to);\n</code></pre>\n"}],"owner":{"account_id":27329849,"reputation":15,"user_id":20842166,"display_name":"steeveKA1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1681802534,"creation_date":1681744742,"question_id":76036711,"body_markdown":"i have an application in which the users do some tasks. if they finished the task, it will be safed in a room database with the startdate and enddate. start and enddate are stored with a typeconverter from date to long. then the users can choose two dates from a daterangepicker. When the selection is done, they can press a button and all activities with the dates between the startdate and enddate from the picker will be shown to the user in a recyclerview.\r\n\r\nThe problem is that the @Query statement in the DAO Class is not inclusive. If running it excludes the endate by one day. \r\n\r\n    @Query(&quot;SELECT * FROM tasks WHERE start_time BETWEEN :from AND :to&quot;)\r\n    List&lt;TimeEntity&gt; getChoosenTimes(long from, long to);\r\nFor example. If i want to pick all the days between 1. April and 30. April the user did some tasks, it gives me only all days up to 29. April. \r\n\r\nCan anybody tell me how i can change the query to not exclude the last day?\r\n\r\n\r\n","title":"How to get all Dates between two Dates in Android Room","body":"<p>i have an application in which the users do some tasks. if they finished the task, it will be safed in a room database with the startdate and enddate. start and enddate are stored with a typeconverter from date to long. then the users can choose two dates from a daterangepicker. When the selection is done, they can press a button and all activities with the dates between the startdate and enddate from the picker will be shown to the user in a recyclerview.</p>\n<p>The problem is that the @Query statement in the DAO Class is not inclusive. If running it excludes the endate by one day.</p>\n<pre><code>@Query(&quot;SELECT * FROM tasks WHERE start_time BETWEEN :from AND :to&quot;)\nList&lt;TimeEntity&gt; getChoosenTimes(long from, long to);\n</code></pre>\n<p>For example. If i want to pick all the days between 1. April and 30. April the user did some tasks, it gives me only all days up to 29. April.</p>\n<p>Can anybody tell me how i can change the query to not exclude the last day?</p>\n"},{"tags":["java","grpc-java"],"owner":{"account_id":19466002,"reputation":445,"user_id":14239262,"display_name":"eof"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681802411,"creation_date":1681802411,"question_id":76041816,"body_markdown":"The gRPC examples for Java are quite basic. Does anyone know of any up-to-date examples that actually inject to the server a custom Netty EventLoopGroup? I&#39;m setting up gRPC for the first time in Java while I&#39;ve used Netty. The service I have makes multiple backend calls using different libraries built on top of Netty, so I would prefer to manage threadpools myself.","title":"gRPC custom netty event loop group","body":"<p>The gRPC examples for Java are quite basic. Does anyone know of any up-to-date examples that actually inject to the server a custom Netty EventLoopGroup? I'm setting up gRPC for the first time in Java while I've used Netty. The service I have makes multiple backend calls using different libraries built on top of Netty, so I would prefer to manage threadpools myself.</p>\n"},{"tags":["java","android","button","onclick"],"answers":[{"tags":[],"owner":{"account_id":5085524,"reputation":111,"user_id":4080371,"display_name":"Satish Bonagiri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626905368,"creation_date":1626905368,"answer_id":68477025,"question_id":68475407,"body_markdown":"one approach could be -  if all the buttons are created dynamically hold all of them in a List , assign unique Id to each button (**by using setId/setTag**) programatically. In click listener compare the clicked view ID with List of button IDs and do the required action.\r\n\r\n**Below is a working sample code for reference:** \r\n\r\n    class MainActivity : AppCompatActivity() ,View.OnClickListener{\r\n\r\n    private lateinit var linearLayout: LinearLayout\r\n\r\n    private val NUM_BUTTONS :Int = 10\r\n\r\n    private var buttonList = ArrayList&lt;Button&gt;()\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        linearLayout = findViewById(R.id.linearLayout)\r\n\r\n       for( i in 1..NUM_BUTTONS){\r\n           val button = Button(this)\r\n           button.id= i\r\n           button.tag = i\r\n           button.text = &quot;button &quot; + i.toString()\r\n           button.setOnClickListener(this)\r\n           buttonList.add(button)\r\n           linearLayout.addView(button)\r\n       }\r\n    }\r\n\r\n    override fun onClick(view: View) {\r\n        for( button in buttonList){\r\n            if(button.id == view.id){\r\n                button.text = &quot;Clicked Me&quot;\r\n            }else{\r\n                button.text = &quot;Un Click All&quot;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nxml layout :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:id=&quot;@+id/linearLayout&quot;&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n","title":"For loops multiple buttons and strings : how to change button text and background and to restore to default settings, if another button is clicked?","body":"<p>one approach could be -  if all the buttons are created dynamically hold all of them in a List , assign unique Id to each button (<strong>by using setId/setTag</strong>) programatically. In click listener compare the clicked view ID with List of button IDs and do the required action.</p>\n<p><strong>Below is a working sample code for reference:</strong></p>\n<pre><code>class MainActivity : AppCompatActivity() ,View.OnClickListener{\n\nprivate lateinit var linearLayout: LinearLayout\n\nprivate val NUM_BUTTONS :Int = 10\n\nprivate var buttonList = ArrayList&lt;Button&gt;()\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    linearLayout = findViewById(R.id.linearLayout)\n\n   for( i in 1..NUM_BUTTONS){\n       val button = Button(this)\n       button.id= i\n       button.tag = i\n       button.text = &quot;button &quot; + i.toString()\n       button.setOnClickListener(this)\n       buttonList.add(button)\n       linearLayout.addView(button)\n   }\n}\n\noverride fun onClick(view: View) {\n    for( button in buttonList){\n        if(button.id == view.id){\n            button.text = &quot;Clicked Me&quot;\n        }else{\n            button.text = &quot;Un Click All&quot;\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>xml layout :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;\n    android:orientation=&quot;vertical&quot;\n    android:id=&quot;@+id/linearLayout&quot;&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12918139,"reputation":51,"user_id":9341603,"display_name":"Ashok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681802353,"creation_date":1681802353,"answer_id":76041806,"question_id":68475407,"body_markdown":"Sorry for the delay. It may helpful for someone.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    Button[] btns;\r\n    int btnClicked = 0;\r\n\r\n    private void buttonsClickStatus() {\r\n      btns = new Button[]{btn1, btn2, btn3, ......., btn100};\r\n      for(int i = 0; i &lt; buttons.length; ++i) {\r\n        //default buttons\r\n        btns[i].setText(&quot;Not clicked&quot;);\r\n        btns[i].setTextColor(Color.WHITE);\r\n        btns[i].setBackgroundResource(R.drawable.purple);\r\n        int j = i; \r\n        btns[i].setOnClickListener(v -&gt; {\r\n          btnClicked = j;\r\n          for(int k = 0; k &lt; buttons.length; ++k) {\r\n            if(btnClicked == k) {\r\n              //After specific button clicked\r\n              btns[k].setText(&quot;Clicked &quot;+k);\r\n              btns[k].setTextColor(Color.GREEN);\r\n              btns[k].setBackgroundResource(R.drawable.yellow);\r\n            } else {\r\n              //Remaining buttons set to default\r\n              btns[k].setText(&quot;Not clicked&quot;);\r\n              btns[i].setTextColor(Color.WHITE);\r\n              btns[i].setBackgroundResource(R.drawable.purple);\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"For loops multiple buttons and strings : how to change button text and background and to restore to default settings, if another button is clicked?","body":"<p>Sorry for the delay. It may helpful for someone.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Button[] btns;\nint btnClicked = 0;\n\nprivate void buttonsClickStatus() {\n  btns = new Button[]{btn1, btn2, btn3, ......., btn100};\n  for(int i = 0; i &lt; buttons.length; ++i) {\n    //default buttons\n    btns[i].setText(\"Not clicked\");\n    btns[i].setTextColor(Color.WHITE);\n    btns[i].setBackgroundResource(R.drawable.purple);\n    int j = i; \n    btns[i].setOnClickListener(v -&gt; {\n      btnClicked = j;\n      for(int k = 0; k &lt; buttons.length; ++k) {\n        if(btnClicked == k) {\n          //After specific button clicked\n          btns[k].setText(\"Clicked \"+k);\n          btns[k].setTextColor(Color.GREEN);\n          btns[k].setBackgroundResource(R.drawable.yellow);\n        } else {\n          //Remaining buttons set to default\n          btns[k].setText(\"Not clicked\");\n          btns[i].setTextColor(Color.WHITE);\n          btns[i].setBackgroundResource(R.drawable.purple);\n        }\n      }\n    });\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":21514836,"reputation":1,"user_id":15856892,"display_name":"TurboAli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681802353,"creation_date":1626895500,"question_id":68475407,"body_markdown":"solution found! see update!\r\n\r\nI looked everywhere to find a solution but i couldn&#39;t find a satisfied answer to my problem.\r\n\r\nI have 100&#39;s of buttons with default layout and text. What I&#39;m looking for is a simple,easy method/solution when pressed on button1 to change its text and background and when pressed on button2 to change its own text and background but button1 should go back to its previous/default settings and the other buttons as well.\r\n\r\nI have a way to do it but since I have 500 other buttons , it would take me long time to write all of them and I want to keep my code short as well. \r\n\r\nBelow is the code I&#39;m using now, I hope you guys can be of any help. Thank you!\r\n\r\n    btn1.setOnClickListener(new View.OnClickListener() {\r\n                public void onClick(View v) {\r\n\r\n          \r\n                String sometext = &quot;&lt;b&gt;sometext&lt;/b&gt;&quot;;\r\n                btn1.setText(Html.fromHtml(sometext), Button.BufferType.SPANNABLE);\r\n                btn1.setTextColor(Color.YELLOW);\r\n                btn1.setBackgroundResource(R.drawable.grey);\r\n\r\n                btn2.setText(getString(R.string.todeaulttext));\r\n                btn2.setTextColor(Color.WHITE);\r\n                btn2.setBackgroundResource(R.drawable.purple);\r\n\r\n                btn3.setText(getString(R.string.todefaulttext));\r\n                btn3.setTextColor(Color.WHITE);\r\n                btn3.setBackgroundResource(R.drawable.purple);\r\n\r\n    btn2.setOnClickListener(new View.OnClickListener() {\r\n                public void onClick(View v) {\r\n\r\n                String   someothertext= &quot;&lt;b&gt;someothertext&lt;/b&gt;&quot;;\r\n                btn2.setText(Html.fromHtml(someothertext), Button.BufferType.SPANNABLE);\r\n                btn2.setTextColor(Color.YELLOW);\r\n                btn2.setBackgroundResource(R.drawable.grey);\r\n\r\n                btn1.setText(getString(R.string.todeaulttext));\r\n                btn1.setTextColor(Color.WHITE);\r\n                btn1.setBackgroundResource(R.drawable.purple);\r\n             \r\n                btn3.getResources().getString(R.string.todeaulttext);\r\n                btn3.setTextColor(Color.WHITE);\r\n                btn3.setBackgroundResource(R.drawable.purple);\r\n\r\nupdate: found a solution to my problem testing with nested for loops and it works like a charm.\r\n\r\nfirst for loop = to set the onclickListeners to all buttons.\r\n\r\nSecond loop = to define text color and background to all buttons.\r\n\r\nThird loop = to set the button text(strings) to each button.\r\n\r\nFourth loop with if statement =  to change the text color and background when clicked on a button. Only changes the button text color and background that is being clicked.\r\n\r\nFifth loop inside if statement = to change text(string) of the clicked button only.\r\n\r\nI hope this will be of use to others with similar problem writing many buttons with different strings to each button and to set only the button text, text color and background of the clicked button \r\n\r\nfor (int i1 = 0; i1 &lt; Array.length; i1++) {\r\n\r\n                buttons[i1] = findViewById(Array[i1]);\r\n                Button btn1 = findViewById(Array[i1]);\r\n                int finalI1 = i1;\r\n                int finalI = i1;\r\n\r\n                buttons[i1].setOnClickListener(v16 -&gt; {\r\n\r\n                    for (int j = 0; j &lt; Array.length; j++) {\r\n                        buttons[j] = findViewById(Array[j]);\r\n                        Button btn = findViewById(Array[j]);\r\n                        btn.setTextColor(Color.WHITE);\r\n                        btn.setBackgroundResource(R.drawable.purple);\r\n\r\n                        String[] stringArray = getResources().getStringArray(R.array.somestrings);\r\n\r\n                        for (int k = 0; k &lt; stringArray.length; k++) {\r\n                            buttons[k] = findViewById(Array[k]);\r\n                            Button btn2 = findViewById(Array[k]);\r\n                            btn2.setText(stringArray[k]);\r\n                        }\r\n\r\n                        int id = btn1.getId();\r\n                        if (id == Array[finalI1]) {\r\n\r\n                            for (int l = 0; l &lt; Array.length; l++) {\r\n                                buttons[l] = findViewById(verbsArray[l]);\r\n                                btn1.setTextColor(Color.YELLOW);\r\n                                btn1.setBackgroundResource(R.drawable.grey);\r\n                            }\r\n\r\n                            if (id == Array[finalI]) {\r\n\r\n                                String[] stringArray1 = getResources().getStringArray(R.array.someotherstring);\r\n                               \r\n                               btn1.setText(stringArray1[finalI]);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n","title":"For loops multiple buttons and strings : how to change button text and background and to restore to default settings, if another button is clicked?","body":"<p>solution found! see update!</p>\n<p>I looked everywhere to find a solution but i couldn't find a satisfied answer to my problem.</p>\n<p>I have 100's of buttons with default layout and text. What I'm looking for is a simple,easy method/solution when pressed on button1 to change its text and background and when pressed on button2 to change its own text and background but button1 should go back to its previous/default settings and the other buttons as well.</p>\n<p>I have a way to do it but since I have 500 other buttons , it would take me long time to write all of them and I want to keep my code short as well.</p>\n<p>Below is the code I'm using now, I hope you guys can be of any help. Thank you!</p>\n<pre><code>btn1.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n\n      \n            String sometext = &quot;&lt;b&gt;sometext&lt;/b&gt;&quot;;\n            btn1.setText(Html.fromHtml(sometext), Button.BufferType.SPANNABLE);\n            btn1.setTextColor(Color.YELLOW);\n            btn1.setBackgroundResource(R.drawable.grey);\n\n            btn2.setText(getString(R.string.todeaulttext));\n            btn2.setTextColor(Color.WHITE);\n            btn2.setBackgroundResource(R.drawable.purple);\n\n            btn3.setText(getString(R.string.todefaulttext));\n            btn3.setTextColor(Color.WHITE);\n            btn3.setBackgroundResource(R.drawable.purple);\n\nbtn2.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n\n            String   someothertext= &quot;&lt;b&gt;someothertext&lt;/b&gt;&quot;;\n            btn2.setText(Html.fromHtml(someothertext), Button.BufferType.SPANNABLE);\n            btn2.setTextColor(Color.YELLOW);\n            btn2.setBackgroundResource(R.drawable.grey);\n\n            btn1.setText(getString(R.string.todeaulttext));\n            btn1.setTextColor(Color.WHITE);\n            btn1.setBackgroundResource(R.drawable.purple);\n         \n            btn3.getResources().getString(R.string.todeaulttext);\n            btn3.setTextColor(Color.WHITE);\n            btn3.setBackgroundResource(R.drawable.purple);\n</code></pre>\n<p>update: found a solution to my problem testing with nested for loops and it works like a charm.</p>\n<p>first for loop = to set the onclickListeners to all buttons.</p>\n<p>Second loop = to define text color and background to all buttons.</p>\n<p>Third loop = to set the button text(strings) to each button.</p>\n<p>Fourth loop with if statement =  to change the text color and background when clicked on a button. Only changes the button text color and background that is being clicked.</p>\n<p>Fifth loop inside if statement = to change text(string) of the clicked button only.</p>\n<p>I hope this will be of use to others with similar problem writing many buttons with different strings to each button and to set only the button text, text color and background of the clicked button</p>\n<p>for (int i1 = 0; i1 &lt; Array.length; i1++) {</p>\n<pre><code>            buttons[i1] = findViewById(Array[i1]);\n            Button btn1 = findViewById(Array[i1]);\n            int finalI1 = i1;\n            int finalI = i1;\n\n            buttons[i1].setOnClickListener(v16 -&gt; {\n\n                for (int j = 0; j &lt; Array.length; j++) {\n                    buttons[j] = findViewById(Array[j]);\n                    Button btn = findViewById(Array[j]);\n                    btn.setTextColor(Color.WHITE);\n                    btn.setBackgroundResource(R.drawable.purple);\n\n                    String[] stringArray = getResources().getStringArray(R.array.somestrings);\n\n                    for (int k = 0; k &lt; stringArray.length; k++) {\n                        buttons[k] = findViewById(Array[k]);\n                        Button btn2 = findViewById(Array[k]);\n                        btn2.setText(stringArray[k]);\n                    }\n\n                    int id = btn1.getId();\n                    if (id == Array[finalI1]) {\n\n                        for (int l = 0; l &lt; Array.length; l++) {\n                            buttons[l] = findViewById(verbsArray[l]);\n                            btn1.setTextColor(Color.YELLOW);\n                            btn1.setBackgroundResource(R.drawable.grey);\n                        }\n\n                        if (id == Array[finalI]) {\n\n                            String[] stringArray1 = getResources().getStringArray(R.array.someotherstring);\n                           \n                           btn1.setText(stringArray1[finalI]);\n                        }\n                    }\n                }\n            });\n        }\n</code></pre>\n"},{"tags":["java","int","compare","java-stream","comparator"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1595770312,"post_id":63100808,"comment_id":111583047,"body_markdown":"So you have `Integer` fields, not `int` fields, right? Otherwise they could not be `null`, or is the entire object containing the fields `null`?","body":"So you have <code>Integer</code> fields, not <code>int</code> fields, right? Otherwise they could not be <code>null</code>, or is the entire object containing the fields <code>null</code>?"},{"owner":{"account_id":7979600,"reputation":68,"user_id":6021475,"display_name":"SanTos A"},"score":0,"creation_date":1595770989,"post_id":63100808,"comment_id":111583226,"body_markdown":"Yeah Integer fields","body":"Yeah Integer fields"},{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1595771096,"post_id":63100808,"comment_id":111583270,"body_markdown":"You will have to implement your own comparator.","body":"You will have to implement your own comparator."}],"answers":[{"tags":[],"owner":{"account_id":18894667,"reputation":1124,"user_id":13784117,"display_name":"user13784117"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595770804,"creation_date":1595770804,"answer_id":63100915,"question_id":63100808,"body_markdown":"The simplest way seems to be to write a comparator that&#39;s specific to the exact concerns that apply to sorting the particular pojo.\r\n\r\nIt seems to me more obvious than duct-taping parts together that don&#39;t behave how you want them (e.g., comparingInt not tolerating null references).\r\n\r\n","title":"Java 8 comparingInt with null values","body":"<p>The simplest way seems to be to write a comparator that's specific to the exact concerns that apply to sorting the particular pojo.</p>\n<p>It seems to me more obvious than duct-taping parts together that don't behave how you want them (e.g., comparingInt not tolerating null references).</p>\n"},{"tags":[],"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1595772670,"creation_date":1595772670,"answer_id":63101281,"question_id":63100808,"body_markdown":"Since your component `Integer` objects are `null` you cannot use `comparingInt` with them. Instead of using `comparingInt`, first create a helper null-safe Integer comparator, and use that in your Pojo comparator.\r\n\r\n    Comparator&lt;Integer&gt; nullsLast = Comparator.nullsLast(Comparator.naturalOrder());\r\n    Comparator&lt;Pojo&gt; pojoComparator = Comparator.comparing(Pojo::getFirstInteger, nullsLast)\r\n                .thenComparing(Pojo::getSecondInteger, nullsLast)\r\n                .thenComparing(Pojo::getThirdInteger, nullsLast);\r\n","title":"Java 8 comparingInt with null values","body":"<p>Since your component <code>Integer</code> objects are <code>null</code> you cannot use <code>comparingInt</code> with them. Instead of using <code>comparingInt</code>, first create a helper null-safe Integer comparator, and use that in your Pojo comparator.</p>\n<pre><code>Comparator&lt;Integer&gt; nullsLast = Comparator.nullsLast(Comparator.naturalOrder());\nComparator&lt;Pojo&gt; pojoComparator = Comparator.comparing(Pojo::getFirstInteger, nullsLast)\n            .thenComparing(Pojo::getSecondInteger, nullsLast)\n            .thenComparing(Pojo::getThirdInteger, nullsLast);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6745176,"reputation":2134,"user_id":5197004,"accept_rate":86,"display_name":"Benjamin Sch&#252;ller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681802323,"creation_date":1681802323,"answer_id":76041803,"question_id":63100808,"body_markdown":"I know this question is already three years old, but why you don&#39;t just adapt the key extractor for `Comparing.comparingInt`?\r\n\r\nExample:\r\n\r\n    public static void main(String[] args) {\r\n        Stream.of(4, 2, 7, 3, null, 1, 9)\r\n            .sorted(Comparator.comparingInt(i -&gt; Objects.nonNull(i) ? i : Integer.MAX_VALUE))\r\n            .forEach(System.out::println);\r\n    }\r\n\r\nIn my example i have an Int-Stream with a null value. To catch and adapt it for the comparator you just have to check it in the key extractor. If the integer is null you change it to another value. Here i took Integer.MAX_VALUE to put the element to the end of the list.","title":"Java 8 comparingInt with null values","body":"<p>I know this question is already three years old, but why you don't just adapt the key extractor for <code>Comparing.comparingInt</code>?</p>\n<p>Example:</p>\n<pre><code>public static void main(String[] args) {\n    Stream.of(4, 2, 7, 3, null, 1, 9)\n        .sorted(Comparator.comparingInt(i -&gt; Objects.nonNull(i) ? i : Integer.MAX_VALUE))\n        .forEach(System.out::println);\n}\n</code></pre>\n<p>In my example i have an Int-Stream with a null value. To catch and adapt it for the comparator you just have to check it in the key extractor. If the integer is null you change it to another value. Here i took Integer.MAX_VALUE to put the element to the end of the list.</p>\n"}],"owner":{"account_id":7979600,"reputation":68,"user_id":6021475,"display_name":"SanTos A"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1962,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":63101281,"answer_count":3,"score":0,"last_activity_date":1681802323,"creation_date":1595770252,"question_id":63100808,"body_markdown":"I have a functionality to sort a list of pojo by 3 Integer fields.\r\n\r\nCurrently I am using `comparingInt()` and `thenComparingBy()`.\r\n\r\nBut i may get a null value in between. This throws a `NullPointerException`.\r\n\r\nFor this i want to add null values at the end. `Comparator.nullsLast()` does not work for my case as I am comparing by 3 integer values.\r\n\r\nIs there a way to achieve this....","title":"Java 8 comparingInt with null values","body":"<p>I have a functionality to sort a list of pojo by 3 Integer fields.</p>\n<p>Currently I am using <code>comparingInt()</code> and <code>thenComparingBy()</code>.</p>\n<p>But i may get a null value in between. This throws a <code>NullPointerException</code>.</p>\n<p>For this i want to add null values at the end. <code>Comparator.nullsLast()</code> does not work for my case as I am comparing by 3 integer values.</p>\n<p>Is there a way to achieve this....</p>\n"},{"tags":["java","spring","dependency-injection"],"answers":[{"tags":[],"owner":{"account_id":27914600,"reputation":21,"user_id":21316023,"display_name":"Ruslan Valeev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681361297,"creation_date":1681360033,"answer_id":76001615,"question_id":76001082,"body_markdown":"Yes, you can. You should write Bean Post Processor for your interface `MyInterface`, that before start spring app will look throw over all classes and find all that implements that interface, then register all classes to ApplicationContext","title":"Force interface implementations to be Spring Components","body":"<p>Yes, you can. You should write Bean Post Processor for your interface <code>MyInterface</code>, that before start spring app will look throw over all classes and find all that implements that interface, then register all classes to ApplicationContext</p>\n"},{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681388366,"creation_date":1681388366,"answer_id":76005359,"question_id":76001082,"body_markdown":"Auto-registering all implementations of a specific interface can be done as follows. Note: a full scan of the classpath, including classes that have not been loaded, can be time-consuming with a large classpath.\r\n\r\nCreate a `@Configuration` class that implements `BeanDefinitionRegistryPostProcessor` &amp; `PriorityOrdered` as follows. THis will scan and create beans with names as per the package &amp; classname of the implementing class.\r\n\r\n    import java.net.URL;\r\n    import java.util.Arrays;\r\n    import java.util.Collection;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    import org.reflections.Reflections;\r\n    import org.reflections.scanners.Scanners;\r\n    import org.reflections.util.ClasspathHelper;\r\n    import org.reflections.util.ConfigurationBuilder;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.BeansException;\r\n    import org.springframework.beans.factory.config.BeanDefinition;\r\n    import org.springframework.beans.factory.config.ConfigurableListableBeanFactory;\r\n    import org.springframework.beans.factory.support.BeanDefinitionRegistry;\r\n    import org.springframework.beans.factory.support.BeanDefinitionRegistryPostProcessor;\r\n    import org.springframework.beans.factory.support.RootBeanDefinition;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.Ordered;\r\n    import org.springframework.core.PriorityOrdered;\r\n    \r\n    import com.example.demo.service.MyInterface;\r\n    \r\n    \r\n    @Configuration\r\n    public class BeanFactoryPostProcessor implements BeanDefinitionRegistryPostProcessor, PriorityOrdered {\r\n    \r\n        private static Logger logger = LoggerFactory.getLogger(BeanFactoryPostProcessor.class);\r\n    \r\n        public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException {\r\n    \r\n        \tCollection&lt;URL&gt; allPackagePrefixes = Arrays.stream(Package.getPackages()).map(p -&gt; p.getName())\r\n        \t        .map(s -&gt; s.split(&quot;\\\\.&quot;)[0]).distinct().map(s -&gt; ClasspathHelper.forPackage(s)).reduce((c1, c2) -&gt; {\r\n        \t            Collection&lt;URL&gt; c3 = new HashSet&lt;&gt;();\r\n        \t            c3.addAll(c1);\r\n        \t            c3.addAll(c2);\r\n        \t            return c3;\r\n        \t        }).get();\r\n        \tConfigurationBuilder config = new ConfigurationBuilder().addUrls(allPackagePrefixes)\r\n        \t        .addScanners(Scanners.SubTypes);\r\n        \tReflections reflections = new Reflections(config);\r\n        \tSet&lt;Class&lt;? extends MyInterface&gt;&gt; classes = reflections.getSubTypesOf(MyInterface.class);\r\n        \t\r\n        \tclasses.stream().forEach(clazz -&gt; {\r\n                String className = clazz.getName();\r\n    \t\t\tBeanDefinition beanDefn= new RootBeanDefinition(className);\r\n                registry.registerBeanDefinition(className, beanDefn);\r\n                logger.debug(&quot;Registering bean {}&quot;, className);\r\n        \t});\r\n        \t\r\n        }\r\n    \r\n        public int getOrder() {\r\n            return Ordered.HIGHEST_PRECEDENCE;\r\n        }\r\n    \r\n    \tpublic void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\r\n    \t\t// do nothing\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nAutowire the created beans in by using the package &amp; classname of the implementing class as a Qualifier as follows:\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;com.example.demo.rest.MyImpl2&quot;)\r\n    MyInterface myInterface;\r\n\r\nThere is a dependency on org.reflections:reflections as follows:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.reflections&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;reflections&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.10.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\n","title":"Force interface implementations to be Spring Components","body":"<p>Auto-registering all implementations of a specific interface can be done as follows. Note: a full scan of the classpath, including classes that have not been loaded, can be time-consuming with a large classpath.</p>\n<p>Create a <code>@Configuration</code> class that implements <code>BeanDefinitionRegistryPostProcessor</code> &amp; <code>PriorityOrdered</code> as follows. THis will scan and create beans with names as per the package &amp; classname of the implementing class.</p>\n<pre><code>import java.net.URL;\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport org.reflections.Reflections;\nimport org.reflections.scanners.Scanners;\nimport org.reflections.util.ClasspathHelper;\nimport org.reflections.util.ConfigurationBuilder;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.BeansException;\nimport org.springframework.beans.factory.config.BeanDefinition;\nimport org.springframework.beans.factory.config.ConfigurableListableBeanFactory;\nimport org.springframework.beans.factory.support.BeanDefinitionRegistry;\nimport org.springframework.beans.factory.support.BeanDefinitionRegistryPostProcessor;\nimport org.springframework.beans.factory.support.RootBeanDefinition;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.Ordered;\nimport org.springframework.core.PriorityOrdered;\n\nimport com.example.demo.service.MyInterface;\n\n\n@Configuration\npublic class BeanFactoryPostProcessor implements BeanDefinitionRegistryPostProcessor, PriorityOrdered {\n\n    private static Logger logger = LoggerFactory.getLogger(BeanFactoryPostProcessor.class);\n\n    public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException {\n\n        Collection&lt;URL&gt; allPackagePrefixes = Arrays.stream(Package.getPackages()).map(p -&gt; p.getName())\n                .map(s -&gt; s.split(&quot;\\\\.&quot;)[0]).distinct().map(s -&gt; ClasspathHelper.forPackage(s)).reduce((c1, c2) -&gt; {\n                    Collection&lt;URL&gt; c3 = new HashSet&lt;&gt;();\n                    c3.addAll(c1);\n                    c3.addAll(c2);\n                    return c3;\n                }).get();\n        ConfigurationBuilder config = new ConfigurationBuilder().addUrls(allPackagePrefixes)\n                .addScanners(Scanners.SubTypes);\n        Reflections reflections = new Reflections(config);\n        Set&lt;Class&lt;? extends MyInterface&gt;&gt; classes = reflections.getSubTypesOf(MyInterface.class);\n        \n        classes.stream().forEach(clazz -&gt; {\n            String className = clazz.getName();\n            BeanDefinition beanDefn= new RootBeanDefinition(className);\n            registry.registerBeanDefinition(className, beanDefn);\n            logger.debug(&quot;Registering bean {}&quot;, className);\n        });\n        \n    }\n\n    public int getOrder() {\n        return Ordered.HIGHEST_PRECEDENCE;\n    }\n\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n        // do nothing\n        \n    }\n}\n</code></pre>\n<p>Autowire the created beans in by using the package &amp; classname of the implementing class as a Qualifier as follows:</p>\n<pre><code>@Autowired\n@Qualifier(&quot;com.example.demo.rest.MyImpl2&quot;)\nMyInterface myInterface;\n</code></pre>\n<p>There is a dependency on org.reflections:reflections as follows:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.reflections&lt;/groupId&gt;\n    &lt;artifactId&gt;reflections&lt;/artifactId&gt;\n    &lt;version&gt;0.10.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76005359,"answer_count":2,"score":1,"last_activity_date":1681801846,"creation_date":1681351350,"question_id":76001082,"body_markdown":"Say I declare an interface MyInterface that only makes sense when its implementation is a Spring component: \r\n\r\n```\r\npublic interface MyInterface {\r\n}\r\n\r\n@Component\r\npublic class MyImpl1 implements MyInterface {\r\n}\r\n\r\n@Component\r\npublic class MyImpl2 implements MyInterface {\r\n}\r\n```\r\n\r\nIs there another way to do this without annotating annotating every single implementation class with `@Component`? I would like for the implementations to be registered automatically if they implement MyInterface.","title":"Force interface implementations to be Spring Components","body":"<p>Say I declare an interface MyInterface that only makes sense when its implementation is a Spring component:</p>\n<pre><code>public interface MyInterface {\n}\n\n@Component\npublic class MyImpl1 implements MyInterface {\n}\n\n@Component\npublic class MyImpl2 implements MyInterface {\n}\n</code></pre>\n<p>Is there another way to do this without annotating annotating every single implementation class with <code>@Component</code>? I would like for the implementations to be registered automatically if they implement MyInterface.</p>\n"},{"tags":["java","doubly-linked-list"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1681791192,"post_id":76040845,"comment_id":134109853,"body_markdown":"Step through your code with the debugger.","body":"Step through your code with the debugger."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1681791238,"post_id":76040845,"comment_id":134109857,"body_markdown":"And if your code is crashing, it is not running infinitely. Edit your question to include the error message and stack trace.","body":"And if your code is crashing, it is not running infinitely. Edit your question to include the error message and stack trace."},{"owner":{"account_id":6356472,"reputation":11,"user_id":4933552,"display_name":"Dash Harber"},"score":0,"creation_date":1681827773,"post_id":76040845,"comment_id":134117416,"body_markdown":"I can&#39;t get to the debugger because when I start it, my IDE locks up and I have to ctrl-alt-delete to exit the program. There is no crash and error message.","body":"I can&#39;t get to the debugger because when I start it, my IDE locks up and I have to ctrl-alt-delete to exit the program. There is no crash and error message."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1681857254,"post_id":76040845,"comment_id":134123943,"body_markdown":"Which IDE are you using? Anyway, put a breakpoint near the start, and step after execution hits it.","body":"Which IDE are you using? Anyway, put a breakpoint near the start, and step after execution hits it."}],"answers":[{"tags":[],"owner":{"account_id":3223009,"reputation":31,"user_id":2719955,"display_name":"eiljoe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681801535,"creation_date":1681801535,"answer_id":76041683,"question_id":76040845,"body_markdown":"Your problem is in:\r\n```\r\nif (n2.next != null) {\r\n   n2.prev.next = n2;\r\n}\r\n```\r\nThis is because `n1` and `n2` are originally consecutive nodes, which means that the `prev` of `n2` is `n1`. So after you swapped the `next`s of `n1` and `n2` the expression `n2.prev.next = n2` is equal to `n1.next = n2`, which overrides the `n1.next = n2.next` you did a few lines before and points `n1`&#39;s `next` back to `n2` while `n2`&#39;s next is `n1`, so now you have a circle where `n1.next` points to `n2` and `n2.next` points to `n1` - that creates an endless loop when you try to traverse the nodes in `display()` and that&#39;s why your code never returns.\r\nOne possible solution is to change the if to:\r\n```\r\nif (n2.next != null &amp;&amp; n2.prev != n1) {\r\n   n2.prev.next = n2;\r\n}\r\n```\r\nI think you&#39;ll have to apply a similar treatment to the other three ifs","title":"Java; Swapping two elements in a DoublyLinkedList without changing the data without collections","body":"<p>Your problem is in:</p>\n<pre><code>if (n2.next != null) {\n   n2.prev.next = n2;\n}\n</code></pre>\n<p>This is because <code>n1</code> and <code>n2</code> are originally consecutive nodes, which means that the <code>prev</code> of <code>n2</code> is <code>n1</code>. So after you swapped the <code>next</code>s of <code>n1</code> and <code>n2</code> the expression <code>n2.prev.next = n2</code> is equal to <code>n1.next = n2</code>, which overrides the <code>n1.next = n2.next</code> you did a few lines before and points <code>n1</code>'s <code>next</code> back to <code>n2</code> while <code>n2</code>'s next is <code>n1</code>, so now you have a circle where <code>n1.next</code> points to <code>n2</code> and <code>n2.next</code> points to <code>n1</code> - that creates an endless loop when you try to traverse the nodes in <code>display()</code> and that's why your code never returns.\nOne possible solution is to change the if to:</p>\n<pre><code>if (n2.next != null &amp;&amp; n2.prev != n1) {\n   n2.prev.next = n2;\n}\n</code></pre>\n<p>I think you'll have to apply a similar treatment to the other three ifs</p>\n"}],"owner":{"account_id":6356472,"reputation":11,"user_id":4933552,"display_name":"Dash Harber"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681801535,"creation_date":1681787938,"question_id":76040845,"body_markdown":"Okay, so I&#39;m trying to swap two elements in a doubly linked list without altering the data and without using collections. Here&#39;s what I have so far;\r\n\r\n\r\n```\r\npackage q2b;\r\n\r\npublic class DoublyLinkedList {\r\n\tstatic Node first;\r\n\tstatic Node last;\r\n\t\r\n\tpublic DoublyLinkedList() {\r\n\t\tfirst = null;\r\n\t\tlast = null;\r\n\t}\r\n\t\r\n\tpublic void display() {\r\n\t\tNode current = first;\r\n\r\n\t\tif(first == null) {\r\n\t\t\tSystem.out.println(&quot;List is empty.&quot;);\r\n\t\t}\r\n\t\tSystem.out.print(&quot;Nodes: &quot;);\r\n\t\twhile(current != null) {\r\n\t\t\tSystem.out.print(current.data+&quot;, &quot;);\r\n\t\t\tcurrent = current.next;\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t}\r\n\t\r\n\tpublic void add(int x) {\r\n\t\tif (last==null) {\r\n\t\t\tNode temp = new Node(x);\r\n\t\t\tlast = temp;\r\n\t\t\tfirst = temp;\r\n\t\t}\r\n\t\t\r\n\t\telse {\r\n\t\t\tNode temp = new Node(x);\r\n\t\t\tlast.next = temp;\r\n\t\t\ttemp.prev = last;\r\n\t\t\tlast = temp;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic Pair find(int x, int y) {\r\n\t\tNode n1 = null;\r\n\t\tNode n2 = null;\r\n\t\tNode temp = first;\r\n\t\t\r\n\t\twhile (temp != null) {\r\n\t\t\tif (temp.data == x) {\r\n\t\t\t\tn1 = temp;\r\n\t\t\t}\r\n\t\t\telse if (temp.data == y) {\r\n\t\t\t\tn2 = temp;\r\n\t\t\t}\r\n\t\t\ttemp = temp.next;\r\n\t\t}\r\n\t\treturn new Pair(n1,n2);\r\n\t}\r\n\t\r\n\tpublic void swap(int x, int y) {\r\n\t\tif (first == null || first.next == null || x == y) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tPair p = find(x,y);\r\n\t\t\r\n\t\tNode n1 = p.first;\r\n\t\tNode n2 = p.second;\r\n\t\t\r\n\t\tif (n1==first) {\r\n\t\t\tfirst = n2;\r\n\t\t}\r\n\t\telse if (n2 == first) {\r\n\t\t\tfirst = n1;\r\n\t\t}\r\n\t\t\r\n\t\tif (n1 == last) {\r\n\t\t\tlast = n2;\r\n\t\t}\r\n\t\telse if (n2 == last) {\r\n\t\t\tlast = n1;\r\n\t\t}\r\n\t\t\r\n\t\tNode temp;\r\n\t\ttemp = n1.next;\r\n\t\tn1.next = n2.next;\r\n\t\tn2.next = temp;\r\n\t\t\r\n\t\tif (n1.next != null) {\r\n\t\t\tn1.next.prev = n1;\r\n\t\t}\r\n\t\tif (n2.next != null) {\r\n\t\t\tn2.prev.next = n2;\r\n\t\t}\r\n\t\t\r\n\t\ttemp = n1.prev;\r\n\t\tn1.prev = n2.prev;\r\n\t\tn2.prev = temp;\r\n\t\t\r\n\t\tif (n1.prev != null) {\r\n\t\t\tn1.prev.next = n1;\r\n\t\t}\r\n\t\tif (n2.prev != null) {\r\n\t\t\tn2.prev.next = n2;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\nAnd my main;\r\n\r\n\r\n```\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tDoublyLinkedList list = new DoublyLinkedList();\r\n\t\tlist.add(2);\r\n\t\tlist.add(4);\r\n\t\tlist.add(6);\r\n\t\tlist.add(8);\r\n\t\tlist.add(10);\r\n\t\tlist.display();\r\n\t\tlist.swap(6, 8);\r\n\t\tlist.display();\r\n\t}\r\n}\r\n```\r\n\r\nNow when I go to run the code, it just infinitely runs until it crashes. I assume I&#39;m missing something in the swap function that is sending it into a death spiral, but I&#39;m not sure what it is. Can anyone give me some insight?","title":"Java; Swapping two elements in a DoublyLinkedList without changing the data without collections","body":"<p>Okay, so I'm trying to swap two elements in a doubly linked list without altering the data and without using collections. Here's what I have so far;</p>\n<pre><code>package q2b;\n\npublic class DoublyLinkedList {\n    static Node first;\n    static Node last;\n    \n    public DoublyLinkedList() {\n        first = null;\n        last = null;\n    }\n    \n    public void display() {\n        Node current = first;\n\n        if(first == null) {\n            System.out.println(&quot;List is empty.&quot;);\n        }\n        System.out.print(&quot;Nodes: &quot;);\n        while(current != null) {\n            System.out.print(current.data+&quot;, &quot;);\n            current = current.next;\n        }\n        System.out.println();\n    }\n    \n    public void add(int x) {\n        if (last==null) {\n            Node temp = new Node(x);\n            last = temp;\n            first = temp;\n        }\n        \n        else {\n            Node temp = new Node(x);\n            last.next = temp;\n            temp.prev = last;\n            last = temp;\n        }\n    }\n    \n    public Pair find(int x, int y) {\n        Node n1 = null;\n        Node n2 = null;\n        Node temp = first;\n        \n        while (temp != null) {\n            if (temp.data == x) {\n                n1 = temp;\n            }\n            else if (temp.data == y) {\n                n2 = temp;\n            }\n            temp = temp.next;\n        }\n        return new Pair(n1,n2);\n    }\n    \n    public void swap(int x, int y) {\n        if (first == null || first.next == null || x == y) {\n            return;\n        }\n        \n        Pair p = find(x,y);\n        \n        Node n1 = p.first;\n        Node n2 = p.second;\n        \n        if (n1==first) {\n            first = n2;\n        }\n        else if (n2 == first) {\n            first = n1;\n        }\n        \n        if (n1 == last) {\n            last = n2;\n        }\n        else if (n2 == last) {\n            last = n1;\n        }\n        \n        Node temp;\n        temp = n1.next;\n        n1.next = n2.next;\n        n2.next = temp;\n        \n        if (n1.next != null) {\n            n1.next.prev = n1;\n        }\n        if (n2.next != null) {\n            n2.prev.next = n2;\n        }\n        \n        temp = n1.prev;\n        n1.prev = n2.prev;\n        n2.prev = temp;\n        \n        if (n1.prev != null) {\n            n1.prev.next = n1;\n        }\n        if (n2.prev != null) {\n            n2.prev.next = n2;\n        }\n    }\n}\n\n</code></pre>\n<p>And my main;</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        DoublyLinkedList list = new DoublyLinkedList();\n        list.add(2);\n        list.add(4);\n        list.add(6);\n        list.add(8);\n        list.add(10);\n        list.display();\n        list.swap(6, 8);\n        list.display();\n    }\n}\n</code></pre>\n<p>Now when I go to run the code, it just infinitely runs until it crashes. I assume I'm missing something in the swap function that is sending it into a death spiral, but I'm not sure what it is. Can anyone give me some insight?</p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":255643,"reputation":1952,"user_id":535827,"accept_rate":62,"display_name":"Brandon"},"score":0,"creation_date":1648051027,"post_id":22311740,"comment_id":126527650,"body_markdown":"I know this is an old question, but you cannot use metaClass or related Groovy functionality from Java at all.  It is simply not supported and will not work","body":"I know this is an old question, but you cannot use metaClass or related Groovy functionality from Java at all.  It is simply not supported and will not work"}],"answers":[{"tags":[],"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394547138,"creation_date":1394507959,"answer_id":22315783,"question_id":22311740,"body_markdown":"[This post][1] is an example of using [GroovyShell][2] with a CompilerConfiguration, which may be useful.\r\n\r\nUsing Groovy 2.0.5, this code:\r\n\r\n    import org.codehaus.groovy.control.CompilerConfiguration\r\n    \r\n    abstract class FooBarScript extends Script {\r\n        def foo(def x) { \r\n            println &quot;hello from foo&quot;\r\n            return x \r\n        }\r\n        \r\n        def bar(def x) { \r\n            println &quot;hello from bar&quot; \r\n            return x \r\n        }\r\n    }\r\n    \r\n    def compilerConfiguration = new CompilerConfiguration()\r\n    compilerConfiguration.scriptBaseClass = FooBarScript.class.name\r\n    \r\n    def binding = new Binding()\r\n    \r\n    def shell = new GroovyShell(this.class.classLoader, binding, compilerConfiguration)\r\n    \r\n    String expression = &quot;foo(\\&quot;hello\\&quot;) + bar (\\&quot;world\\&quot;)&quot;\r\n    \r\n    def result = shell.evaluate expression\r\n    println result\r\n\r\ngives this output:\r\n\r\n    hello from foo\r\n    hello from bar\r\n    helloworld\r\n\r\nGiven that the original post requested Java, the script can be moved to the following Java class:\r\n\r\n    import groovy.lang.Script;\r\n    \r\n    public class FooBarScript extends Script {\r\n        public String foo(String x) {\r\n            System.out.println(&quot;hello from foo&quot;);\r\n            return x;\r\n        }\r\n    \r\n        public String bar(String x) {\r\n            System.out.println(&quot;hello from bar&quot;);\r\n            return x;\r\n        }\r\n    \r\n        public Object run() { return null; }\r\n    }\r\n\r\nwhere this can simply be imported into the Groovy example\r\n\r\n  [1]: http://mrhaki.blogspot.ca/2011/11/groovy-goodness-create-our-own-script.html\r\n  [2]: http://groovy.codehaus.org/api/groovy/lang/GroovyShell.html\r\n\r\n\r\n","title":"Groovy: How do I evaluate expression which has functions inside Java code?","body":"<p><a href=\"http://mrhaki.blogspot.ca/2011/11/groovy-goodness-create-our-own-script.html\" rel=\"nofollow\">This post</a> is an example of using <a href=\"http://groovy.codehaus.org/api/groovy/lang/GroovyShell.html\" rel=\"nofollow\">GroovyShell</a> with a CompilerConfiguration, which may be useful.</p>\n\n<p>Using Groovy 2.0.5, this code:</p>\n\n<pre><code>import org.codehaus.groovy.control.CompilerConfiguration\n\nabstract class FooBarScript extends Script {\n    def foo(def x) { \n        println \"hello from foo\"\n        return x \n    }\n\n    def bar(def x) { \n        println \"hello from bar\" \n        return x \n    }\n}\n\ndef compilerConfiguration = new CompilerConfiguration()\ncompilerConfiguration.scriptBaseClass = FooBarScript.class.name\n\ndef binding = new Binding()\n\ndef shell = new GroovyShell(this.class.classLoader, binding, compilerConfiguration)\n\nString expression = \"foo(\\\"hello\\\") + bar (\\\"world\\\")\"\n\ndef result = shell.evaluate expression\nprintln result\n</code></pre>\n\n<p>gives this output:</p>\n\n<pre><code>hello from foo\nhello from bar\nhelloworld\n</code></pre>\n\n<p>Given that the original post requested Java, the script can be moved to the following Java class:</p>\n\n<pre><code>import groovy.lang.Script;\n\npublic class FooBarScript extends Script {\n    public String foo(String x) {\n        System.out.println(\"hello from foo\");\n        return x;\n    }\n\n    public String bar(String x) {\n        System.out.println(\"hello from bar\");\n        return x;\n    }\n\n    public Object run() { return null; }\n}\n</code></pre>\n\n<p>where this can simply be imported into the Groovy example</p>\n"},{"tags":[],"owner":{"account_id":13814070,"reputation":77,"user_id":9971067,"display_name":"Leisure Dong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681801300,"creation_date":1681801300,"answer_id":76041655,"question_id":22311740,"body_markdown":"The complete Java solution of Micheal&#39;s answer is following:\r\n\r\n1.Write Groovy script with Java(the same as Micheal&#39;s answer):\r\n    \r\n    import groovy.lang.Script;\r\n    \r\n    public class FooBarScript extends Script {\r\n        public String foo(String x) {\r\n            System.out.println(&quot;hello from foo&quot;);\r\n            return x;\r\n        }\r\n    \r\n        public String bar(String x) {\r\n            System.out.println(&quot;hello from bar&quot;);\r\n            return x;\r\n        }\r\n    \r\n        public Object run() { return null; }\r\n    }\r\n\r\n2.Call the methods defined in FooBarScript.java:\r\n\r\n    import groovy.lang.GroovyShell;\r\n    import groovy.lang.Script;\r\n    import org.codehaus.groovy.control.CompilerConfiguration;\r\n    \r\n    public class Main {\r\n        private static final GroovyShell shell;\r\n    \r\n        static {\r\n            CompilerConfiguration cfg = new CompilerConfiguration();\r\n            cfg.setScriptBaseClass(FooBarScript.class.getName());\r\n            shell = new GroovyShell(cfg);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            String expression = &quot;println(foo(&#39;hello&#39;) + bar (&#39;world&#39;))&quot;;\r\n            Script script = shell.parse(expression);\r\n            script.run();\r\n        }\r\n    }\r\n\r\nThe output:\r\n\r\n    hello from foo\r\n    hello from bar\r\n    helloworld","title":"Groovy: How do I evaluate expression which has functions inside Java code?","body":"<p>The complete Java solution of Micheal's answer is following:</p>\n<p>1.Write Groovy script with Java(the same as Micheal's answer):</p>\n<pre><code>import groovy.lang.Script;\n\npublic class FooBarScript extends Script {\n    public String foo(String x) {\n        System.out.println(&quot;hello from foo&quot;);\n        return x;\n    }\n\n    public String bar(String x) {\n        System.out.println(&quot;hello from bar&quot;);\n        return x;\n    }\n\n    public Object run() { return null; }\n}\n</code></pre>\n<p>2.Call the methods defined in FooBarScript.java:</p>\n<pre><code>import groovy.lang.GroovyShell;\nimport groovy.lang.Script;\nimport org.codehaus.groovy.control.CompilerConfiguration;\n\npublic class Main {\n    private static final GroovyShell shell;\n\n    static {\n        CompilerConfiguration cfg = new CompilerConfiguration();\n        cfg.setScriptBaseClass(FooBarScript.class.getName());\n        shell = new GroovyShell(cfg);\n    }\n\n    public static void main(String[] args) {\n        String expression = &quot;println(foo('hello') + bar ('world'))&quot;;\n        Script script = shell.parse(expression);\n        script.run();\n    }\n}\n</code></pre>\n<p>The output:</p>\n<pre><code>hello from foo\nhello from bar\nhelloworld\n</code></pre>\n"}],"owner":{"account_id":4151179,"reputation":21,"user_id":3403602,"display_name":"Kannan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1903,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1681801300,"creation_date":1394487071,"question_id":22311740,"body_markdown":"Here&#39;s my sample expression:\r\n\r\n    foo(&quot;hello&quot;) + bar(&quot;world&quot;)\r\n\r\nI am using groovy (2.0.5) as an expression parser so don&#39;t want to define functions (foo and bar) in groovy but would rather like to get notified as Java calls when the expression is parsed. I suppose this can be done by using one of the flavors of meta class. Unfortunately I tried all combinations but my implementation of meta class (i.e., MyExpandoMetaClass&#39;s invokeMissingMethod) never get called. \r\n\r\n\r\nAny help is appreciated.\r\n\r\nSample Java Code:\r\n\r\n    MetaClassRegistryImpl.getInstance(0).setMetaClass(Script.class, new MyExpandoMetaClass());\r\n\r\n    String expression = &quot;foo(\\&quot;hello\\&quot;) + bar (\\&quot;world\\&quot;)&quot;;\r\n    Binding binding = new Binding();\r\n    Script script = new GroovyShell(binding).parse(expression);\r\n    assertEquals(&quot;helloworld&quot;, script.evaluate(expression));\r\n\r\n...\r\n\r\n    class MyExpandoMetaClass extends ExpandoMetaClass {\r\n        public MyExpandoMetaClass() {\r\n            super(Script.class, true);\r\n        }\r\n\r\n        @Override\r\n        public Object invokeMissingMethod(Object instance, String methodName, Object[] arguments) {\r\n            if ((&quot;foo&quot;.equals(methodName) || &quot;bar&quot;.equals(methodName)) {\r\n                return arguments[0];\r\n            }\r\n        }\r\n    }\r\n\r\nWhen I run this code, I get:\r\n\r\n\r\n    groovy.lang.MissingMethodException: No signature of method: Script1.foo() is applicable for argument types: (java.lang.String) values: [hello]\r\n    Possible solutions: run(), run(), find(), any(), is(java.lang.Object), find(groovy.lang.Closure)\r\n        at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:55)\r\n        at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.callCurrent(PogoMetaClassSite.java:78)\r\n        at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:49)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:133)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:141)\r\n        at Script1.run(Script1.groovy:1)\r\n        at groovy.lang.GroovyShell.evaluate(GroovyShell.java:518)\r\n        at groovy.lang.GroovyShell.evaluate(GroovyShell.java:556)\r\n        at groovy.lang.GroovyShell.evaluate(GroovyShell.java:527)\r\n        at groovy.lang.Script.evaluate(Script.java:208)\r\n        at com.barcap.edt.amd.analytics.operation.postprocess.ExpressionParserTest.function(ExpressionParserTest.java:50)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n        at java.lang.reflect.Method.invoke(Method.java:597)\r\n        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\r\n        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\r\n        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\r\n        at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\r\n        at org.junit.runners.BlockJUnit4ClassRunner.runNotIgnored(BlockJUnit4ClassRunner.java:79)\r\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:71)\r\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)\r\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\r\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\r\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\r\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\r\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\r\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:236)\r\n        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\r\n        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n\r\n","title":"Groovy: How do I evaluate expression which has functions inside Java code?","body":"<p>Here's my sample expression:</p>\n\n<pre><code>foo(\"hello\") + bar(\"world\")\n</code></pre>\n\n<p>I am using groovy (2.0.5) as an expression parser so don't want to define functions (foo and bar) in groovy but would rather like to get notified as Java calls when the expression is parsed. I suppose this can be done by using one of the flavors of meta class. Unfortunately I tried all combinations but my implementation of meta class (i.e., MyExpandoMetaClass's invokeMissingMethod) never get called. </p>\n\n<p>Any help is appreciated.</p>\n\n<p>Sample Java Code:</p>\n\n<pre><code>MetaClassRegistryImpl.getInstance(0).setMetaClass(Script.class, new MyExpandoMetaClass());\n\nString expression = \"foo(\\\"hello\\\") + bar (\\\"world\\\")\";\nBinding binding = new Binding();\nScript script = new GroovyShell(binding).parse(expression);\nassertEquals(\"helloworld\", script.evaluate(expression));\n</code></pre>\n\n<p>...</p>\n\n<pre><code>class MyExpandoMetaClass extends ExpandoMetaClass {\n    public MyExpandoMetaClass() {\n        super(Script.class, true);\n    }\n\n    @Override\n    public Object invokeMissingMethod(Object instance, String methodName, Object[] arguments) {\n        if ((\"foo\".equals(methodName) || \"bar\".equals(methodName)) {\n            return arguments[0];\n        }\n    }\n}\n</code></pre>\n\n<p>When I run this code, I get:</p>\n\n<pre><code>groovy.lang.MissingMethodException: No signature of method: Script1.foo() is applicable for argument types: (java.lang.String) values: [hello]\nPossible solutions: run(), run(), find(), any(), is(java.lang.Object), find(groovy.lang.Closure)\n    at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:55)\n    at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.callCurrent(PogoMetaClassSite.java:78)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:49)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:133)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:141)\n    at Script1.run(Script1.groovy:1)\n    at groovy.lang.GroovyShell.evaluate(GroovyShell.java:518)\n    at groovy.lang.GroovyShell.evaluate(GroovyShell.java:556)\n    at groovy.lang.GroovyShell.evaluate(GroovyShell.java:527)\n    at groovy.lang.Script.evaluate(Script.java:208)\n    at com.barcap.edt.amd.analytics.operation.postprocess.ExpressionParserTest.function(ExpressionParserTest.java:50)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n    at org.junit.runners.BlockJUnit4ClassRunner.runNotIgnored(BlockJUnit4ClassRunner.java:79)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:71)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:236)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n</code></pre>\n"},{"tags":["java","hadoop","mapreduce"],"comments":[{"owner":{"account_id":377596,"reputation":5231,"user_id":729819,"accept_rate":83,"display_name":"Ben Watson"},"score":1,"creation_date":1681575376,"post_id":76023353,"comment_id":134080187,"body_markdown":"Are you sure the mapper is all fine? Does the jobtracker show that it&#39;s outputting mapper records? Having `Arbre.fromLine(val);` outside of the `try/catch` seems risky as any invalid data isn&#39;t going to be handled.","body":"Are you sure the mapper is all fine? Does the jobtracker show that it&#39;s outputting mapper records? Having <code>Arbre.fromLine(val);</code> outside of the <code>try&#47;catch</code> seems risky as any invalid data isn&#39;t going to be handled."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1681590589,"post_id":76023353,"comment_id":134082174,"body_markdown":"1) Your catch block is empty. So you&#39;re ignoring all exceptions in the mapper. Reducer never runs if mapper outputs nothing 2) Arraylist is not a Writeable type that can be serialized in a mapper. Besides, you&#39;re only ever adding one item to that list at a time, so why use it? Note: You imported ArrayWritable, but never use it.. 3) you might want to use `class Arbre implements Writable`","body":"1) Your catch block is empty. So you&#39;re ignoring all exceptions in the mapper. Reducer never runs if mapper outputs nothing 2) Arraylist is not a Writeable type that can be serialized in a mapper. Besides, you&#39;re only ever adding one item to that list at a time, so why use it? Note: You imported ArrayWritable, but never use it.. 3) you might want to use <code>class Arbre implements Writable</code>"}],"owner":{"account_id":22748155,"reputation":1,"user_id":16908661,"display_name":"ADNANE MEHDAOUI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681801220,"creation_date":1681574628,"question_id":76023353,"body_markdown":"I have to write code in java of map reduce.\r\n\r\nThe code gave me an empty file as output.\r\n\r\nWhen I debugged it in mapper all is fine, but in the reducer when I do: \r\n\r\n    System.out.println(&quot;Reducer3: key = &quot; + key);\r\n\r\nIt is not showing anything. This this my code:\r\n\r\nArbre class:\r\n```java\r\npackage TP6;\r\n\r\npublic  class Arbre\r\n{\r\n    /* Les champs sont\r\n     *  0: Geo point \r\n     *  1: ARRONDISSEMENT \r\n     *  2: GENRE \r\n     *  3: ESPECE \r\n     *  4: FAMILLE \r\n     *  5: ANNEE PLANTATION \r\n     *  6: HAUTEUR \r\n     *  7: CIRCONFERENCE \r\n     *  8: ADRESSE \r\n     *  9: NOM COMMUN \r\n     * 10: VARIETE \r\n     * 11: OBJECTID \r\n     * 12: NOM_EV \r\n     */\r\n    static String[] champs;\r\n    public static void fromLine(String ligne)\r\n    {\r\n        champs = ligne.split(&quot;;&quot;);\r\n    }\r\n    \r\n    public static String getGenre()\r\n    {\r\n        return champs[2];\r\n    }\r\n    \r\n    public static double getAnnee() throws Exception\r\n    {\r\n        return Double.parseDouble(champs[5]);\r\n    }\r\n    \r\n    public static double getHauteur() throws Exception\r\n    {\r\n        return Double.parseDouble(champs[6]);\r\n    }\r\n    public static  String getArrondissement()throws Exception{\r\n        return champs[1];\r\n    }\r\n    public static  String getAnnePlantation()throws Exception{\r\n        return champs[5];\r\n    }\r\n}\r\n``` \r\n\r\nMapper class:\r\n\r\n```java\r\npackage TP6;\r\n    \r\nimport TP6.Arbre; \r\nimport org.apache.hadoop.io.ArrayWritable; \r\nimport org.apache.hadoop.io.IntWritable; \r\nimport org.apache.hadoop.io.LongWritable; \r\nimport org.apache.hadoop.io.Text; \r\nimport org.apache.hadoop.mapreduce.Mapper;\r\n    \r\nimport javax.naming.Context; \r\nimport java.io.IOException; \r\nimport java.util.ArrayList; \r\nimport java.util.Iterator; \r\npublic class Mapper3 extends Mapper&lt;LongWritable, Text, Text, ArrayList&lt;Object&gt;&gt;\r\n{\r\n    public void map(LongWritable key, Text value, Context context) throws IOException, InterruptedException {\r\n        String val = value.toString();\r\n        Arbre.fromLine(val);\r\n    \r\n        try {\r\n            String arrondissement = Arbre.getArrondissement();\r\n            String anne = Arbre.getAnnePlantation();\r\n            int age = 2023 - Integer.parseInt(anne);\r\n            ArrayList&lt;Object&gt; item = new ArrayList&lt;&gt;();\r\n            item.add(Integer.parseInt(arrondissement));\r\n            item.add(age);\r\n    \r\n            context.write(new Text(arrondissement), item);\r\n        } catch (Exception e) {\r\n            // Handle exception\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nReducer class:\r\n\r\n```java\r\npackage TP6;\r\n    \r\nimport org.apache.hadoop.io.IntWritable; \r\nimport org.apache.hadoop.io.Text;\r\n    \r\nimport org.apache.hadoop.mapreduce.Reducer;\r\n    \r\nimport javax.naming.Context; \r\nimport java.io.IOException; \r\nimport java.util.ArrayList;\r\n    \r\npublic class Reducer3 extends Reducer&lt;Text,ArrayList&lt;Object&gt;,IntWritable,IntWritable&gt; {\r\n    int keymax = 0;\r\n    int maxAge = 0;\r\n    IntWritable cle=new IntWritable(); IntWritable valeur=new IntWritable();\r\n\r\n    public void reduce(Text key, Iterable&lt;ArrayList&lt;Object&gt;&gt; values, Context context) throws IOException, InterruptedException {\r\n    \r\n        System.out.println(&quot;hello&quot;);\r\n        try {\r\n            System.out.println(&quot;Reducer3: key = &quot; + key);\r\n    \r\n    \r\n    \r\n            if (!values.iterator().hasNext()) {\r\n                System.out.println(&quot;Reducer3: values is empty&quot;);\r\n                return;\r\n            }\r\n    \r\n            for (ArrayList&lt;Object&gt; value : values) {\r\n                int arrondissement = (int) value.get(0);\r\n                int age = (int) value.get(1);\r\n    \r\n                if (age &gt; maxAge) {\r\n                    maxAge = age;\r\n                    keymax = arrondissement;\r\n                    cle.set(keymax);\r\n                    valeur.set(maxAge);\r\n                }\r\n            }\r\n    \r\n            System.out.println(&quot;Reducer3: keymax = &quot; + keymax + &quot;, maxAge = &quot; + maxAge);\r\n            context.write(cle,valeur);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Exception caught: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nMain class:\r\n\r\n```java\r\npackage TP6;\r\nimport org.apache.hadoop.conf.Configuration; \r\nimport org.apache.hadoop.fs.Path; \r\nimport org.apache.hadoop.io.DoubleWritable; \r\nimport org.apache.hadoop.io.IntWritable; \r\nimport org.apache.hadoop.io.Text; \r\nimport org.apache.hadoop.mapreduce.Job; \r\nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\r\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\r\n    \r\npublic class Main {\r\n    \r\n    public static void main(String[] args) throws Exception {\r\n    \r\n    \r\n        Configuration conf = new Configuration();\r\n        Job job = Job.getInstance(conf, &quot;arbre old&quot;);\r\n        job.setJarByClass(Main.class);\r\n        job.setMapperClass(Mapper3.class);\r\n        job.setCombinerClass(Reducer3.class);\r\n        job.setReducerClass(Reducer3.class);\r\n        job.setOutputKeyClass(IntWritable.class);\r\n        job.setOutputValueClass(IntWritable.class);\r\n        FileInputFormat.addInputPath(job, new Path(args[0]));\r\n        FileOutputFormat.setOutputPath(job, new Path(args[1]));\r\n        System.exit(job.waitForCompletion(true) ? 0 : 1);\r\n    \r\n    }\r\n\r\n}\r\n```\r\n\r\nI am try to exectue job map reduce, but the output is empty?","title":"Error map reduce.(output empty of job mapp reduce)","body":"<p>I have to write code in java of map reduce.</p>\n<p>The code gave me an empty file as output.</p>\n<p>When I debugged it in mapper all is fine, but in the reducer when I do:</p>\n<pre><code>System.out.println(&quot;Reducer3: key = &quot; + key);\n</code></pre>\n<p>It is not showing anything. This this my code:</p>\n<p>Arbre class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package TP6;\n\npublic  class Arbre\n{\n    /* Les champs sont\n     *  0: Geo point \n     *  1: ARRONDISSEMENT \n     *  2: GENRE \n     *  3: ESPECE \n     *  4: FAMILLE \n     *  5: ANNEE PLANTATION \n     *  6: HAUTEUR \n     *  7: CIRCONFERENCE \n     *  8: ADRESSE \n     *  9: NOM COMMUN \n     * 10: VARIETE \n     * 11: OBJECTID \n     * 12: NOM_EV \n     */\n    static String[] champs;\n    public static void fromLine(String ligne)\n    {\n        champs = ligne.split(&quot;;&quot;);\n    }\n    \n    public static String getGenre()\n    {\n        return champs[2];\n    }\n    \n    public static double getAnnee() throws Exception\n    {\n        return Double.parseDouble(champs[5]);\n    }\n    \n    public static double getHauteur() throws Exception\n    {\n        return Double.parseDouble(champs[6]);\n    }\n    public static  String getArrondissement()throws Exception{\n        return champs[1];\n    }\n    public static  String getAnnePlantation()throws Exception{\n        return champs[5];\n    }\n}\n</code></pre>\n<p>Mapper class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package TP6;\n    \nimport TP6.Arbre; \nimport org.apache.hadoop.io.ArrayWritable; \nimport org.apache.hadoop.io.IntWritable; \nimport org.apache.hadoop.io.LongWritable; \nimport org.apache.hadoop.io.Text; \nimport org.apache.hadoop.mapreduce.Mapper;\n    \nimport javax.naming.Context; \nimport java.io.IOException; \nimport java.util.ArrayList; \nimport java.util.Iterator; \npublic class Mapper3 extends Mapper&lt;LongWritable, Text, Text, ArrayList&lt;Object&gt;&gt;\n{\n    public void map(LongWritable key, Text value, Context context) throws IOException, InterruptedException {\n        String val = value.toString();\n        Arbre.fromLine(val);\n    \n        try {\n            String arrondissement = Arbre.getArrondissement();\n            String anne = Arbre.getAnnePlantation();\n            int age = 2023 - Integer.parseInt(anne);\n            ArrayList&lt;Object&gt; item = new ArrayList&lt;&gt;();\n            item.add(Integer.parseInt(arrondissement));\n            item.add(age);\n    \n            context.write(new Text(arrondissement), item);\n        } catch (Exception e) {\n            // Handle exception\n        }\n    }\n\n}\n</code></pre>\n<p>Reducer class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package TP6;\n    \nimport org.apache.hadoop.io.IntWritable; \nimport org.apache.hadoop.io.Text;\n    \nimport org.apache.hadoop.mapreduce.Reducer;\n    \nimport javax.naming.Context; \nimport java.io.IOException; \nimport java.util.ArrayList;\n    \npublic class Reducer3 extends Reducer&lt;Text,ArrayList&lt;Object&gt;,IntWritable,IntWritable&gt; {\n    int keymax = 0;\n    int maxAge = 0;\n    IntWritable cle=new IntWritable(); IntWritable valeur=new IntWritable();\n\n    public void reduce(Text key, Iterable&lt;ArrayList&lt;Object&gt;&gt; values, Context context) throws IOException, InterruptedException {\n    \n        System.out.println(&quot;hello&quot;);\n        try {\n            System.out.println(&quot;Reducer3: key = &quot; + key);\n    \n    \n    \n            if (!values.iterator().hasNext()) {\n                System.out.println(&quot;Reducer3: values is empty&quot;);\n                return;\n            }\n    \n            for (ArrayList&lt;Object&gt; value : values) {\n                int arrondissement = (int) value.get(0);\n                int age = (int) value.get(1);\n    \n                if (age &gt; maxAge) {\n                    maxAge = age;\n                    keymax = arrondissement;\n                    cle.set(keymax);\n                    valeur.set(maxAge);\n                }\n            }\n    \n            System.out.println(&quot;Reducer3: keymax = &quot; + keymax + &quot;, maxAge = &quot; + maxAge);\n            context.write(cle,valeur);\n        } catch (Exception e) {\n            System.out.println(&quot;Exception caught: &quot; + e.getMessage());\n        }\n    }\n\n}\n</code></pre>\n<p>Main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package TP6;\nimport org.apache.hadoop.conf.Configuration; \nimport org.apache.hadoop.fs.Path; \nimport org.apache.hadoop.io.DoubleWritable; \nimport org.apache.hadoop.io.IntWritable; \nimport org.apache.hadoop.io.Text; \nimport org.apache.hadoop.mapreduce.Job; \nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\n    \npublic class Main {\n    \n    public static void main(String[] args) throws Exception {\n    \n    \n        Configuration conf = new Configuration();\n        Job job = Job.getInstance(conf, &quot;arbre old&quot;);\n        job.setJarByClass(Main.class);\n        job.setMapperClass(Mapper3.class);\n        job.setCombinerClass(Reducer3.class);\n        job.setReducerClass(Reducer3.class);\n        job.setOutputKeyClass(IntWritable.class);\n        job.setOutputValueClass(IntWritable.class);\n        FileInputFormat.addInputPath(job, new Path(args[0]));\n        FileOutputFormat.setOutputPath(job, new Path(args[1]));\n        System.exit(job.waitForCompletion(true) ? 0 : 1);\n    \n    }\n\n}\n</code></pre>\n<p>I am try to exectue job map reduce, but the output is empty?</p>\n"},{"tags":["java","kerberos","jaas"],"comments":[{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":0,"creation_date":1680593165,"post_id":75918691,"comment_id":133920076,"body_markdown":"You can create a Kerberos TGT dynamically via JAAS config, without tapping the OS ticket cache. It&#39;s more secure _(the creds stay inside your process memory)_; you don&#39;t need to bother about another process trashing the cache; and you don&#39;t need to bother about the way JAAS refreshes its &quot;context&quot;.","body":"You can create a Kerberos TGT dynamically via JAAS config, without tapping the OS ticket cache. It&#39;s more secure <i>(the creds stay inside your process memory)</i>; you don&#39;t need to bother about another process trashing the cache; and you don&#39;t need to bother about the way JAAS refreshes its &quot;context&quot;."},{"owner":{"account_id":28200589,"reputation":1,"user_id":21554437,"display_name":"Jyothsna Ch"},"score":0,"creation_date":1680686625,"post_id":75918691,"comment_id":133938679,"body_markdown":"Thank you Samson for the inputs, \n\nCan you please help me understand creating Kerberos TGT dynamically via JAAS.\n\nI tried without ticket cache and using keytabs. \nBut somehow keytab is not working for me. On further debugging observed that, keytab is being picked only when isInitiator=false. Any inputs?","body":"Thank you Samson for the inputs,   Can you please help me understand creating Kerberos TGT dynamically via JAAS.  I tried without ticket cache and using keytabs.  But somehow keytab is not working for me. On further debugging observed that, keytab is being picked only when isInitiator=false. Any inputs?"},{"owner":{"account_id":28200589,"reputation":1,"user_id":21554437,"display_name":"Jyothsna Ch"},"score":0,"creation_date":1680688021,"post_id":75918691,"comment_id":133939044,"body_markdown":"My JAAS is like this:\n\nJAAS {        \ncom.sun.security.auth.module.Krb5LoginModule required   \nuseTicketCache=false   \nuseKeyTab=true \nKeyTab=&quot;&lt;path to keytab&gt;&quot; \nprincipal=&quot;xyz&quot; \n};\n\nAbove keytab is getting picked when I have isInitiator=false set. This is giving me an impression that there seems to be no issue with keytab path and file.\n\nBut as my application is client I believe isInitiator needs to be set true. Am I missing anything? Any congifuration?","body":"My JAAS is like this:  JAAS {         com.sun.security.auth.module.Krb5LoginModule required    useTicketCache=false    useKeyTab=true  KeyTab=&quot;&lt;path to keytab&gt;&quot;  principal=&quot;xyz&quot;  };  Above keytab is getting picked when I have isInitiator=false set. This is giving me an impression that there seems to be no issue with keytab path and file.  But as my application is client I believe isInitiator needs to be set true. Am I missing anything? Any congifuration?"},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":0,"creation_date":1680774254,"post_id":75918691,"comment_id":133956230,"body_markdown":"https://stackoverflow.com/a/42506620/5162372","body":"<a href=\"https://stackoverflow.com/a/42506620/5162372\">stackoverflow.com/a/42506620/5162372</a>"},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":0,"creation_date":1680774280,"post_id":75918691,"comment_id":133956237,"body_markdown":"And if you are curious about the structure &amp; syntax of JAAS conf : https://stackoverflow.com/a/45776704/5162372","body":"And if you are curious about the structure &amp; syntax of JAAS conf : <a href=\"https://stackoverflow.com/a/45776704/5162372\">stackoverflow.com/a/45776704/5162372</a>"},{"owner":{"account_id":28200589,"reputation":1,"user_id":21554437,"display_name":"Jyothsna Ch"},"score":0,"creation_date":1681120464,"post_id":75918691,"comment_id":134001238,"body_markdown":"Thanks for the link. \nIt finally worked with keytab, had to set useSubjectCredsOnly to false,\nBut with ticket cache it is still not working. Any inputs there?","body":"Thanks for the link.  It finally worked with keytab, had to set useSubjectCredsOnly to false, But with ticket cache it is still not working. Any inputs there?"},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":0,"creation_date":1681641803,"post_id":75918691,"comment_id":134086346,"body_markdown":"&#175;\\(&#176;_o)/&#175;   raise the debugging flags and check how Java reads and validates the JAAS/Kerberos conf (or not). In particular, which ticket cache is used (Windows uses SSPI instead of GSSAPI defaults, some Linux distros use KeyRing which is not supported by Java, etc.)","body":"&#175;&#40;&#176;_o)/&#175;   raise the debugging flags and check how Java reads and validates the JAAS/Kerberos conf (or not). In particular, which ticket cache is used (Windows uses SSPI instead of GSSAPI defaults, some Linux distros use KeyRing which is not supported by Java, etc.)"}],"owner":{"account_id":28200589,"reputation":1,"user_id":21554437,"display_name":"Jyothsna Ch"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681800586,"creation_date":1680519351,"question_id":75918691,"body_markdown":"If someone could help, that will be greatly appreciated. I am a newbie to Kerberos not sure if this is an obvious question, please excuse me for my newness.\r\n\r\nI am in Kerberos configured Windows machine. Two users user1 and user2 have permission to it.\r\n\r\nBelow is my Java code :\r\n\r\n    System.setProperty(&quot;java.security.krb5.conf&quot;, &quot;&lt;JRE Path&gt;\\\\lib\\\\security\\\\&lt;kerb.conf file&gt;&quot;);\r\n\t\t\t  \r\n\t\t\t  System.setProperty(&quot;java.security.auth.login.config&quot;, &quot;jaas.conf&quot;);\t\t\t  \r\n\t\t\t  /*\r\n\t\t\t   * Content of jaas.conf:\r\n\t\t\t   * JAAS {\r\n\t\t\t   *\tcom.sun.security.auth.module.Krb5LoginModule required\r\n\t\t\t   *\tuseTicketCache=true debug=true;\r\n\t\t\t   *\t};\r\n\t\t\t   */\r\n\t\t\t  \r\n\t\t\t  // kinit of user1\r\n\t\t\t  // Content of kinituser1.bat: &quot;&lt;JRE Path&gt;\\bin\\kinit.exe&quot; -A -k -t &quot;/user1.keytab&quot; &quot;&lt;user1 principal&gt;&quot;\t          \r\n\t\t\t  String[] cmdScript1 = new String[]{&quot;kinituser1.bat&quot;};\t\t\t  \r\n\t          Process procScript1 = Runtime.getRuntime().exec(cmdScript1);\r\n\t          LoginContext context1 = AccessController.doPrivileged(\r\n\t\t                new PrivilegedExceptionAction&lt;LoginContext&gt;() {\r\n\t\t                    public LoginContext run() throws LoginException {\r\n\t\t                        return new LoginContext(&quot;JAAS&quot;);\r\n\t\t                    }\r\n\t\t                });\r\n\t          context1.login();\r\n\t          Subject subject1 = context1.getSubject();\t          \r\n\t          System.out.println(&quot;Connected as:&quot; + subject1); // This returns the expected user1 user ticket. \r\n\t          context1.logout();\r\n\t          \r\n\t          \r\n\t          // kinit of user2\r\n\t\t\t  // Content of kinituser1.bat: &quot;&lt;JRE Path&gt;\\bin\\kinit.exe&quot; -A -k -t &quot;/user2.keytab&quot; &quot;&lt;user2 principal&gt;&quot;\t          \r\n\t          String[] cmdScript2 = new String[]{&quot;kinituser2.bat&quot;};\t          \r\n\t          Process procScript2 = Runtime.getRuntime().exec(cmdScript2);\r\n\t          LoginContext context2 = AccessController.doPrivileged(\r\n\t\t                new PrivilegedExceptionAction&lt;LoginContext&gt;() {\r\n\t\t                    public LoginContext run() throws LoginException {\r\n\t\t                        return new LoginContext(&quot;JAAS&quot;);\r\n\t\t                    }\r\n\t\t                });\r\n\t          context2.login();\r\n\t          Subject subject2 = context2.getSubject();\r\n\t          System.out.println(&quot;Connected as:&quot; + subject2); // Here we are seeing the issue: This is still returning user1 ticket subject, I was expecting user2 here. \r\n\t          context2.logout();\t          \t\t  \r\n\t\t\t  \r\n\r\nOn Running above application, inspite of cache getting refreshed with user2 after executing kinituser2.bat, I am getting user1 ticket cache in the context2 subject.\r\nAnd if I swap user1 and user2, user2 ticket details is returned for both the cases. This is giving an impression that irrespective of ticket cache getting updated with other user tickets, initial user ticket is returned always for later LoginContext&#39;s.\r\n\r\n\r\nDid anyone face like above? \r\nCan someone tell me if I am missing or doing anything wrong?","title":"JAVA Application, Krb5LoginModule does not seem to pick the latest ticket from userTicketCache","body":"<p>If someone could help, that will be greatly appreciated. I am a newbie to Kerberos not sure if this is an obvious question, please excuse me for my newness.</p>\n<p>I am in Kerberos configured Windows machine. Two users user1 and user2 have permission to it.</p>\n<p>Below is my Java code :</p>\n<pre><code>System.setProperty(&quot;java.security.krb5.conf&quot;, &quot;&lt;JRE Path&gt;\\\\lib\\\\security\\\\&lt;kerb.conf file&gt;&quot;);\n          \n          System.setProperty(&quot;java.security.auth.login.config&quot;, &quot;jaas.conf&quot;);             \n          /*\n           * Content of jaas.conf:\n           * JAAS {\n           *    com.sun.security.auth.module.Krb5LoginModule required\n           *    useTicketCache=true debug=true;\n           *    };\n           */\n          \n          // kinit of user1\n          // Content of kinituser1.bat: &quot;&lt;JRE Path&gt;\\bin\\kinit.exe&quot; -A -k -t &quot;/user1.keytab&quot; &quot;&lt;user1 principal&gt;&quot;           \n          String[] cmdScript1 = new String[]{&quot;kinituser1.bat&quot;};           \n          Process procScript1 = Runtime.getRuntime().exec(cmdScript1);\n          LoginContext context1 = AccessController.doPrivileged(\n                    new PrivilegedExceptionAction&lt;LoginContext&gt;() {\n                        public LoginContext run() throws LoginException {\n                            return new LoginContext(&quot;JAAS&quot;);\n                        }\n                    });\n          context1.login();\n          Subject subject1 = context1.getSubject();           \n          System.out.println(&quot;Connected as:&quot; + subject1); // This returns the expected user1 user ticket. \n          context1.logout();\n          \n          \n          // kinit of user2\n          // Content of kinituser1.bat: &quot;&lt;JRE Path&gt;\\bin\\kinit.exe&quot; -A -k -t &quot;/user2.keytab&quot; &quot;&lt;user2 principal&gt;&quot;           \n          String[] cmdScript2 = new String[]{&quot;kinituser2.bat&quot;};           \n          Process procScript2 = Runtime.getRuntime().exec(cmdScript2);\n          LoginContext context2 = AccessController.doPrivileged(\n                    new PrivilegedExceptionAction&lt;LoginContext&gt;() {\n                        public LoginContext run() throws LoginException {\n                            return new LoginContext(&quot;JAAS&quot;);\n                        }\n                    });\n          context2.login();\n          Subject subject2 = context2.getSubject();\n          System.out.println(&quot;Connected as:&quot; + subject2); // Here we are seeing the issue: This is still returning user1 ticket subject, I was expecting user2 here. \n          context2.logout();                      \n          \n</code></pre>\n<p>On Running above application, inspite of cache getting refreshed with user2 after executing kinituser2.bat, I am getting user1 ticket cache in the context2 subject.\nAnd if I swap user1 and user2, user2 ticket details is returned for both the cases. This is giving an impression that irrespective of ticket cache getting updated with other user tickets, initial user ticket is returned always for later LoginContext's.</p>\n<p>Did anyone face like above?\nCan someone tell me if I am missing or doing anything wrong?</p>\n"},{"tags":["java","android","security","screen-recording","screen-grab"],"comments":[{"owner":{"account_id":1710326,"reputation":10640,"user_id":1568530,"accept_rate":60,"display_name":"Vladyslav Matviienko"},"score":2,"creation_date":1497443961,"post_id":44544931,"comment_id":76080598,"body_markdown":"there is no way, if you are talking about root. Using root, user can record everything on different layers up to the GPU output level. I&#39;m sure that you can do nothing about it.","body":"there is no way, if you are talking about root. Using root, user can record everything on different layers up to the GPU output level. I&#39;m sure that you can do nothing about it."},{"owner":{"account_id":6775970,"reputation":7385,"user_id":5217712,"display_name":"Enzokie"},"score":0,"creation_date":1497443997,"post_id":44544931,"comment_id":76080636,"body_markdown":"You need to have a list of popular and a not so popular recording apps in the market (make sure to grab the package name) because you are going to compare those packages in the current running process since Android does not know what is a recording app.","body":"You need to have a list of popular and a not so popular recording apps in the market (make sure to grab the package name) because you are going to compare those packages in the current running process since Android does not know what is a recording app."},{"owner":{"account_id":13728780,"reputation":646,"user_id":9906778,"display_name":"Ho&#224;ng Vũ Anh"},"score":0,"creation_date":1678066950,"post_id":44544931,"comment_id":133455849,"body_markdown":"Is there any solution to this problem? I try to create an application to detect sharing screens and screen recording, but DisplayManager can&#39;t work on some devices and I try to find another solution.","body":"Is there any solution to this problem? I try to create an application to detect sharing screens and screen recording, but DisplayManager can&#39;t work on some devices and I try to find another solution."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1497445692,"creation_date":1497445692,"answer_id":44545751,"question_id":44544931,"body_markdown":"&gt; Is there any way I can detect if the screen recording is on?\r\n\r\nNo.\r\n\r\n&gt; So I just want to detect if any screen recording app/process is running in background so that I can hide sensitive data and prevent it from being recorded.\r\n\r\nSince screen recording does not require a recording-specific app or a process (e.g., `adb shell screenrecord`), and since you have no way of knowing particular apps or processes that are using the media projection API, this seems impractical. And, on modern versions of Android, you have no way of knowing what other processes are running, anyway. Plus, there is nothing stopping the user from pointing another camera at the device screen and recording its contents that way.\r\n\r\n&gt; I don&#39;t want users to take screenshot or record screen of my app\r\n\r\nThen do not write the app. The idea behind `FLAG_SECURE` is to help defend the user against third parties, not to defend the developer against the user.\r\n","title":"How to programmatically detect if any screen recording process/app is running in Android?","body":"<blockquote>\n  <p>Is there any way I can detect if the screen recording is on?</p>\n</blockquote>\n\n<p>No.</p>\n\n<blockquote>\n  <p>So I just want to detect if any screen recording app/process is running in background so that I can hide sensitive data and prevent it from being recorded.</p>\n</blockquote>\n\n<p>Since screen recording does not require a recording-specific app or a process (e.g., <code>adb shell screenrecord</code>), and since you have no way of knowing particular apps or processes that are using the media projection API, this seems impractical. And, on modern versions of Android, you have no way of knowing what other processes are running, anyway. Plus, there is nothing stopping the user from pointing another camera at the device screen and recording its contents that way.</p>\n\n<blockquote>\n  <p>I don't want users to take screenshot or record screen of my app</p>\n</blockquote>\n\n<p>Then do not write the app. The idea behind <code>FLAG_SECURE</code> is to help defend the user against third parties, not to defend the developer against the user.</p>\n"},{"tags":[],"owner":{"account_id":105617,"reputation":853,"user_id":281727,"display_name":"Bishnu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634633111,"creation_date":1634633111,"answer_id":69627702,"question_id":44544931,"body_markdown":"The answer here is really just general for security. Once data flows to someone&#39;s device then you must assume that they can get full, unrestricted access to it. Everything else is in some sense just obfuscation. It is just making it a little more difficult at best. Even if the device&#39;s software provides some protection, the user has physical access to the device and can root it. At some point data has to be unencrypted and deobfuscated, so that it can be shown to the user and a malicious user can MITM that. If you want better security then it needs to be provided by the device via hardware. This was a big issue with movies being streamed to mobile devices at first. Device&#39;s needed a special hardware encrypted channel that decrypts to some ungodly amount of data per second making it difficult to write back to a disk if someone tried to MITM the unencrypted data on it&#39;s way to the screen.\r\n\r\nNow the above is just to show that it is impossible to guarntee that you can control the data when it goes to a user&#39;s device. Instead, you should take a step back and ask what you are trying to accomplish? What type of behavior are you trying to prevent? If a small number of technically savvy users are able to workaround your protections, is that okay or a big deal? What is an acceptable rate of data &quot;leaking&quot;. This really depends on how sensitive the data is and what type of guarantee you are telling users you have over it. This aspect is 100% the most critical part.  If you are telling users that the data they sent is guaranteed to be ephemeral then that is impossible. Trying to build that and patch all the holes and play the whack a mole game is a losing battle. The only way to win is not to play.","title":"How to programmatically detect if any screen recording process/app is running in Android?","body":"<p>The answer here is really just general for security. Once data flows to someone's device then you must assume that they can get full, unrestricted access to it. Everything else is in some sense just obfuscation. It is just making it a little more difficult at best. Even if the device's software provides some protection, the user has physical access to the device and can root it. At some point data has to be unencrypted and deobfuscated, so that it can be shown to the user and a malicious user can MITM that. If you want better security then it needs to be provided by the device via hardware. This was a big issue with movies being streamed to mobile devices at first. Device's needed a special hardware encrypted channel that decrypts to some ungodly amount of data per second making it difficult to write back to a disk if someone tried to MITM the unencrypted data on it's way to the screen.</p>\n<p>Now the above is just to show that it is impossible to guarntee that you can control the data when it goes to a user's device. Instead, you should take a step back and ask what you are trying to accomplish? What type of behavior are you trying to prevent? If a small number of technically savvy users are able to workaround your protections, is that okay or a big deal? What is an acceptable rate of data &quot;leaking&quot;. This really depends on how sensitive the data is and what type of guarantee you are telling users you have over it. This aspect is 100% the most critical part.  If you are telling users that the data they sent is guaranteed to be ephemeral then that is impossible. Trying to build that and patch all the holes and play the whack a mole game is a losing battle. The only way to win is not to play.</p>\n"},{"tags":[],"owner":{"account_id":19448130,"reputation":1516,"user_id":14225169,"display_name":"Hussain Pettiwala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634819475,"creation_date":1634819475,"answer_id":69662026,"question_id":44544931,"body_markdown":"As @CommonsWare said there is no way\r\n\r\n&gt; of knowing particular apps or processes that are using the\r\n&gt; media projection API, this seems impractical.\r\n\r\nHowever you can use the `FLAG_SECURE` like so.\r\n\r\n```\r\ngetWindow().setFlags(LayoutParams.FLAG_SECURE, LayoutParams.FLAG_SECURE); \r\n```\r\nas stated in the [docs here][1].\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/WindowManager.LayoutParams#FLAG_SECURE","title":"How to programmatically detect if any screen recording process/app is running in Android?","body":"<p>As @CommonsWare said there is no way</p>\n<blockquote>\n<p>of knowing particular apps or processes that are using the\nmedia projection API, this seems impractical.</p>\n</blockquote>\n<p>However you can use the <code>FLAG_SECURE</code> like so.</p>\n<pre><code>getWindow().setFlags(LayoutParams.FLAG_SECURE, LayoutParams.FLAG_SECURE); \n</code></pre>\n<p>as stated in the <a href=\"https://developer.android.com/reference/android/view/WindowManager.LayoutParams#FLAG_SECURE\" rel=\"nofollow noreferrer\">docs here</a>.</p>\n"},{"tags":[],"owner":{"account_id":20313439,"reputation":11,"user_id":14899890,"display_name":"Deepak Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681799736,"creation_date":1681455916,"answer_id":76012416,"question_id":44544931,"body_markdown":"I think there is one way you detect screen recording on or off by DisplayManager.DisplayListener\r\n\r\nHere is my code:\r\n\r\n     \r\n    val listener = object : DisplayManager.DisplayListener {\r\n    \r\n            override fun onDisplayChanged(displayId: Int) {\r\n                   Log.d(&quot;test&quot;,&quot;1&quot;)\r\n               //it detect something chnage in screen \r\n               //you can mute it from here\r\n    \r\n            }\r\n    \r\n            override fun onDisplayAdded(displayId: Int) {\r\n             Log.d(&quot;test&quot;,&quot;2&quot;)\r\n                 //you can mute it to here from\r\n                 \r\n    \r\n            }\r\n    \r\n            override fun onDisplayRemoved(displayId: Int) {\r\n                        Log.d(&quot;test&quot;,&quot;3&quot;)\r\n                        //final here you can unMute it \r\n                }\r\n        ","title":"How to programmatically detect if any screen recording process/app is running in Android?","body":"<p>I think there is one way you detect screen recording on or off by DisplayManager.DisplayListener</p>\n<p>Here is my code:</p>\n<pre><code>val listener = object : DisplayManager.DisplayListener {\n\n        override fun onDisplayChanged(displayId: Int) {\n               Log.d(&quot;test&quot;,&quot;1&quot;)\n           //it detect something chnage in screen \n           //you can mute it from here\n\n        }\n\n        override fun onDisplayAdded(displayId: Int) {\n         Log.d(&quot;test&quot;,&quot;2&quot;)\n             //you can mute it to here from\n             \n\n        }\n\n        override fun onDisplayRemoved(displayId: Int) {\n                    Log.d(&quot;test&quot;,&quot;3&quot;)\n                    //final here you can unMute it \n            }\n    \n</code></pre>\n"}],"owner":{"account_id":4533399,"reputation":4029,"user_id":3683245,"accept_rate":17,"display_name":"Kalpesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15041,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"answer_count":4,"score":23,"last_activity_date":1681799736,"creation_date":1497443601,"question_id":44544931,"body_markdown":"I don&#39;t want users to take screenshot or record screen of my app. I have added secure flag to the window. This prevents user from taking screenshots and recording screen.\r\n\r\nIf the screen recording is on, my app prevents the content from being recorded but the audio gets recorded.\r\n\r\nOn some rooted devices, the secure flags may not work as expected.\r\nSo I just want to detect if any screen recording app/process is running in background so that I can hide sensitive data and prevent it from being recorded.\r\n\r\nIs there any way I can detect if the screen recording is on?","title":"How to programmatically detect if any screen recording process/app is running in Android?","body":"<p>I don't want users to take screenshot or record screen of my app. I have added secure flag to the window. This prevents user from taking screenshots and recording screen.</p>\n\n<p>If the screen recording is on, my app prevents the content from being recorded but the audio gets recorded.</p>\n\n<p>On some rooted devices, the secure flags may not work as expected.\nSo I just want to detect if any screen recording app/process is running in background so that I can hide sensitive data and prevent it from being recorded.</p>\n\n<p>Is there any way I can detect if the screen recording is on?</p>\n"},{"tags":["java","count","duplicates"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1681783329,"post_id":76040515,"comment_id":134109181,"body_markdown":"With ` 7 7 7 7` you only want to count this as one group.  Maybe you need another variable which is keeping track of the group that you are dealing with.  Analyzing the problem is key.","body":"With ` 7 7 7 7` you only want to count this as one group.  Maybe you need another variable which is keeping track of the group that you are dealing with.  Analyzing the problem is key."},{"owner":{"account_id":26568556,"reputation":43,"user_id":20195143,"display_name":"Maybe"},"score":0,"creation_date":1681783478,"post_id":76040515,"comment_id":134109200,"body_markdown":"I see, but how would this help me further get to my desired result?","body":"I see, but how would this help me further get to my desired result?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1681783963,"post_id":76040515,"comment_id":134109238,"body_markdown":"*&quot; I&#39;m assuming that (&quot;11&quot;) , (&quot;7777&quot;), and (&quot;33&quot;) &quot;* What  is the source of the problem? If you are not sure what the requirements are, you should ask the teacher, professor, or whomever to clarify. If this is a problem found on the web, please provide a link.","body":"<i>&quot; I&#39;m assuming that (&quot;11&quot;) , (&quot;7777&quot;), and (&quot;33&quot;) &quot;</i> What  is the source of the problem? If you are not sure what the requirements are, you should ask the teacher, professor, or whomever to clarify. If this is a problem found on the web, please provide a link."},{"owner":{"account_id":26568556,"reputation":43,"user_id":20195143,"display_name":"Maybe"},"score":0,"creation_date":1681784220,"post_id":76040515,"comment_id":134109260,"body_markdown":"I apologize, I&#39;m not the best at  clarifying things . I&#39;m not sure why I&#39;m getting an output of 4 instead of 3. Nor do I know how to fix it.","body":"I apologize, I&#39;m not the best at  clarifying things . I&#39;m not sure why I&#39;m getting an output of 4 instead of 3. Nor do I know how to fix it."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1681784705,"post_id":76040515,"comment_id":134109292,"body_markdown":"You have 3 groups i.e. `1`, `7`, and `3` - do not count then again.  In my first comment I gave you a suggestion how to do this.","body":"You have 3 groups i.e. <code>1</code>, <code>7</code>, and <code>3</code> - do not count then again.  In my first comment I gave you a suggestion how to do this."},{"owner":{"account_id":26568556,"reputation":43,"user_id":20195143,"display_name":"Maybe"},"score":0,"creation_date":1681784937,"post_id":76040515,"comment_id":134109307,"body_markdown":"You&#39;re right, sorry for not seeing it sooner. I appreciate the suggestion, thank you.","body":"You&#39;re right, sorry for not seeing it sooner. I appreciate the suggestion, thank you."}],"answers":[{"tags":[],"owner":{"account_id":27436725,"reputation":89,"user_id":20932425,"display_name":"shmily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681799618,"creation_date":1681799618,"answer_id":76041444,"question_id":76040515,"body_markdown":"If you just want get the count of duplicates, i think you can do it like this:\r\n\r\n    public static int adjacentDuplicatesCount(String str) {\r\n    \tScanner reader = new Scanner(str);\r\n    \tint count = 0;\r\n    \tMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n    \twhile (reader.hasNext()) {\r\n    \t\tString next = reader.next();\r\n    \t\t// Only the first duplication is counted\r\n    \t\tif (map.containsKey(next) &amp;&amp; map.get(next).equals(1)) {\r\n    \t\t\tcount++;\r\n    \t\t}\r\n    \t\tmap.put(next, map.getOrDefault(next, 0) + 1);\r\n    \r\n    \t}\r\n    \treturn count;\r\n    }\r\n\r\n \r\n\r\n\r\nGiven &quot;1 1 2 7 7 7 7 3 3 5 3&quot;, your code just counts &#39;7777&#39;:\r\n\r\n    for (int i = 1; i &lt; result.length() -1; i++) {\r\n\t    if (result.charAt(i) == result.charAt(i + 1)) {\r\n\t\t    count++;\r\n\t    }\r\n    }\r\n","title":"How do I count AdjacentDuplicates using the Scanner Object?","body":"<p>If you just want get the count of duplicates, i think you can do it like this:</p>\n<pre><code>public static int adjacentDuplicatesCount(String str) {\n    Scanner reader = new Scanner(str);\n    int count = 0;\n    Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n    while (reader.hasNext()) {\n        String next = reader.next();\n        // Only the first duplication is counted\n        if (map.containsKey(next) &amp;&amp; map.get(next).equals(1)) {\n            count++;\n        }\n        map.put(next, map.getOrDefault(next, 0) + 1);\n\n    }\n    return count;\n}\n</code></pre>\n<p>Given &quot;1 1 2 7 7 7 7 3 3 5 3&quot;, your code just counts '7777':</p>\n<pre><code>for (int i = 1; i &lt; result.length() -1; i++) {\n    if (result.charAt(i) == result.charAt(i + 1)) {\n        count++;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26568556,"reputation":43,"user_id":20195143,"display_name":"Maybe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76041444,"answer_count":1,"score":0,"last_activity_date":1681799618,"creation_date":1681782985,"question_id":76040515,"body_markdown":"The problem is that the output I&#39;m having is counting an extra unknown Adjacent that I&#39;m unfamiliar off.\r\n\r\n(Work Problem) - static int adjacentDuplicatesCount(String str) – returns the count of duplicates that are next to each other. Given &quot;1 1 2 7 7 7 7 3 3 5 3&quot;, return 3.`\r\n\r\n\r\n \r\nFrom my understanding I&#39;m assuming that (&quot;11&quot;) , (&quot;7777&quot;), and (&quot;33&quot;) are the three counts in this string above. I don&#39;t have much knowledge on any other way to do this as I&#39;m still a beginner. \r\n\r\nCode Below: \r\n\r\n```java\r\npublic static int adjacentDuplicatesCount(String str) {\r\n        Scanner reader = new Scanner(str);\r\n        String result = &quot;&quot;;\r\n        int count = 0;\r\n\r\n        while(reader.hasNext()){\r\n            result+= reader.next();\r\n        }\r\n\r\n\r\n\r\n        for (int i = 1; i &lt; result.length() -1; i++) {\r\n            if (result.charAt(i) == result.charAt(i + 1)) {\r\n                count++;\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n\r\n```\r\nDesired Output 3 == 3\r\n\r\nMy Output 4 == 3\r\n\r\n```\r\n \r\n\r\nI have been noted that I could add another for loop in the main loop, however I&#39;m not entirely sure how that could help. Others suggested that I should state &quot;while its the same character, don&#39;t do anything&quot; although this too  is a confusing solution to me, that I&#39;m not sure how I would write it. \r\n","title":"How do I count AdjacentDuplicates using the Scanner Object?","body":"<p>The problem is that the output I'm having is counting an extra unknown Adjacent that I'm unfamiliar off.</p>\n<p>(Work Problem) - static int adjacentDuplicatesCount(String str) – returns the count of duplicates that are next to each other. Given &quot;1 1 2 7 7 7 7 3 3 5 3&quot;, return 3.`</p>\n<p>From my understanding I'm assuming that (&quot;11&quot;) , (&quot;7777&quot;), and (&quot;33&quot;) are the three counts in this string above. I don't have much knowledge on any other way to do this as I'm still a beginner.</p>\n<p>Code Below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int adjacentDuplicatesCount(String str) {\n        Scanner reader = new Scanner(str);\n        String result = &quot;&quot;;\n        int count = 0;\n\n        while(reader.hasNext()){\n            result+= reader.next();\n        }\n\n\n\n        for (int i = 1; i &lt; result.length() -1; i++) {\n            if (result.charAt(i) == result.charAt(i + 1)) {\n                count++;\n            }\n        }\n        return count;\n    }\n</code></pre>\n<pre><code>Desired Output 3 == 3\n\nMy Output 4 == 3\n\n</code></pre>\n<p>I have been noted that I could add another for loop in the main loop, however I'm not entirely sure how that could help. Others suggested that I should state &quot;while its the same character, don't do anything&quot; although this too  is a confusing solution to me, that I'm not sure how I would write it.</p>\n"},{"tags":["java","linux","raspberry-pi","raspberry-pi3","pi4j"],"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681799517,"creation_date":1681799517,"question_id":76041434,"body_markdown":"I use Pi4J library to control a LED-strip. The LED-strip contains 10 LEDs with chips ws2811. They are connected serially. I have found a simple example on [github][1] that I use on a Raspberry Pi 3B (Raspberry Pi OS 32 bit). My code set some LEDs on white color and switches them off. It works but has two troubles:\r\n\r\n1) Sometimes one LED can be switched on and flashes weakly red. I have no place in the code where I set the LEDs on red - only white or complete switched off.\r\n2) First LED doesn&#39;t flash (it can only flash red when the previous error appears). When I try to switch on LEDs from 0 to 3 the LEDs with numbers from 1 to 4 are switched on. When I try to switch on LEDs from 1 to 4 the LEDs with numbers from 2 to 5 are switched on.\r\n\r\nI think the first error can be low electromagnetic compatibility. For the second error I have founded some strange things in the [source code][1]. It has some reset bytes at the start and at the end of the data transmission matrices. The function render, that must be called to see the result, starts the counter from 1. \r\n\r\n    public void render() {\r\n        //beginning at 1, because the first byte is a reset\r\n        int counter = 1;\r\n        for (int i = 0; i &lt; numLeds; i++) {\r\n\r\n          //Scaling the color to the max brightness\r\n          leds[i] = PixelColor.setRedComponent(leds[i], (int) (PixelColor.getRedComponent(leds[i]) * brightness));\r\n          leds[i] = PixelColor.setGreenComponent(leds[i], (int) (PixelColor.getGreenComponent(leds[i]) * brightness));\r\n          leds[i] = PixelColor.setBlueComponent(leds[i], (int) (PixelColor.getBlueComponent(leds[i]) * brightness));\r\n\r\n          // Calculating GRB from RGB\r\n          for (int j = 15; j &gt;= 8; j--) {\r\n            if (((leds[i] &gt;&gt; j) &amp; 1) == 1) {\r\n              pixelRaw[counter++] = Bit_1;\r\n            } else {\r\n              pixelRaw[counter++] = Bit_0;\r\n            }\r\n          }\r\n          for (int j = 23; j &gt;= 16; j--) {\r\n            if (((leds[i] &gt;&gt; j) &amp; 1) == 1) {\r\n              pixelRaw[counter++] = Bit_1;\r\n            } else {\r\n              pixelRaw[counter++] = Bit_0;\r\n            }\r\n          }\r\n          for (int j = 7; j &gt;= 0; j--) {\r\n            if (((leds[i] &gt;&gt; j) &amp; 1) == 1) {\r\n              pixelRaw[counter++] = Bit_1;\r\n            } else {\r\n              pixelRaw[counter++] = Bit_0;\r\n            }\r\n          }\r\n        }\r\n\r\n        // While bitbanging, the first and last byte have to be a reset\r\n        pixelRaw[0] = Bit_Reset;\r\n        pixelRaw[pixelRaw.length - 1] = Bit_Reset;\r\n\r\n        // waiting since last render time\r\n        long diff = Math.abs(System.nanoTime()) - lastRenderTime;\r\n        if (renderWaitTime - diff &gt; 0) {\r\n          long wait = renderWaitTime - diff;\r\n          long millis = wait / 1_000_000L;\r\n          int nanos = (int) (wait % 1_000_000);\r\n          System.out.println(&quot;Waiting &quot; + (millis) + &quot;ms and &quot; + nanos + &quot;ns&quot;);\r\n          sleep(millis, nanos);\r\n        }\r\n\r\n        //writing on the PIN\r\n        spi.write(pixelRaw);\r\n\r\n        System.out.println(&quot;finished rendering&quot;);\r\n        lastRenderTime = Math.abs(System.nanoTime());\r\n    }\r\n\r\n  \r\n\r\n\r\nCan you please explain me what means this Bit_Reset, why the LED place it at the start and at the end and why they are so important? And why flashes some LEDs red?\r\n\r\n\r\n  [1]: https://gist.github.com/eitch/c4d1cb20b1d9f66e76b8dd765bff440e","title":"Why LED-strip on chip ws2811 never switch on the first LED?","body":"<p>I use Pi4J library to control a LED-strip. The LED-strip contains 10 LEDs with chips ws2811. They are connected serially. I have found a simple example on <a href=\"https://gist.github.com/eitch/c4d1cb20b1d9f66e76b8dd765bff440e\" rel=\"nofollow noreferrer\">github</a> that I use on a Raspberry Pi 3B (Raspberry Pi OS 32 bit). My code set some LEDs on white color and switches them off. It works but has two troubles:</p>\n<ol>\n<li>Sometimes one LED can be switched on and flashes weakly red. I have no place in the code where I set the LEDs on red - only white or complete switched off.</li>\n<li>First LED doesn't flash (it can only flash red when the previous error appears). When I try to switch on LEDs from 0 to 3 the LEDs with numbers from 1 to 4 are switched on. When I try to switch on LEDs from 1 to 4 the LEDs with numbers from 2 to 5 are switched on.</li>\n</ol>\n<p>I think the first error can be low electromagnetic compatibility. For the second error I have founded some strange things in the <a href=\"https://gist.github.com/eitch/c4d1cb20b1d9f66e76b8dd765bff440e\" rel=\"nofollow noreferrer\">source code</a>. It has some reset bytes at the start and at the end of the data transmission matrices. The function render, that must be called to see the result, starts the counter from 1.</p>\n<pre><code>public void render() {\n    //beginning at 1, because the first byte is a reset\n    int counter = 1;\n    for (int i = 0; i &lt; numLeds; i++) {\n\n      //Scaling the color to the max brightness\n      leds[i] = PixelColor.setRedComponent(leds[i], (int) (PixelColor.getRedComponent(leds[i]) * brightness));\n      leds[i] = PixelColor.setGreenComponent(leds[i], (int) (PixelColor.getGreenComponent(leds[i]) * brightness));\n      leds[i] = PixelColor.setBlueComponent(leds[i], (int) (PixelColor.getBlueComponent(leds[i]) * brightness));\n\n      // Calculating GRB from RGB\n      for (int j = 15; j &gt;= 8; j--) {\n        if (((leds[i] &gt;&gt; j) &amp; 1) == 1) {\n          pixelRaw[counter++] = Bit_1;\n        } else {\n          pixelRaw[counter++] = Bit_0;\n        }\n      }\n      for (int j = 23; j &gt;= 16; j--) {\n        if (((leds[i] &gt;&gt; j) &amp; 1) == 1) {\n          pixelRaw[counter++] = Bit_1;\n        } else {\n          pixelRaw[counter++] = Bit_0;\n        }\n      }\n      for (int j = 7; j &gt;= 0; j--) {\n        if (((leds[i] &gt;&gt; j) &amp; 1) == 1) {\n          pixelRaw[counter++] = Bit_1;\n        } else {\n          pixelRaw[counter++] = Bit_0;\n        }\n      }\n    }\n\n    // While bitbanging, the first and last byte have to be a reset\n    pixelRaw[0] = Bit_Reset;\n    pixelRaw[pixelRaw.length - 1] = Bit_Reset;\n\n    // waiting since last render time\n    long diff = Math.abs(System.nanoTime()) - lastRenderTime;\n    if (renderWaitTime - diff &gt; 0) {\n      long wait = renderWaitTime - diff;\n      long millis = wait / 1_000_000L;\n      int nanos = (int) (wait % 1_000_000);\n      System.out.println(&quot;Waiting &quot; + (millis) + &quot;ms and &quot; + nanos + &quot;ns&quot;);\n      sleep(millis, nanos);\n    }\n\n    //writing on the PIN\n    spi.write(pixelRaw);\n\n    System.out.println(&quot;finished rendering&quot;);\n    lastRenderTime = Math.abs(System.nanoTime());\n}\n</code></pre>\n<p>Can you please explain me what means this Bit_Reset, why the LED place it at the start and at the end and why they are so important? And why flashes some LEDs red?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":1000314,"reputation":12261,"user_id":1015327,"display_name":"JimmyB"},"score":0,"creation_date":1437059915,"post_id":31457881,"comment_id":50883329,"body_markdown":"As a work-around you can try to explicitly join on the primary keys, see e.g. http://stackoverflow.com/questions/5694620/in-hibernate-how-to-use-not-in-clause","body":"As a work-around you can try to explicitly join on the primary keys, see e.g. <a href=\"http://stackoverflow.com/questions/5694620/in-hibernate-how-to-use-not-in-clause\" title=\"in hibernate how to use not in clause\">stackoverflow.com/questions/5694620/&hellip;</a>"},{"owner":{"account_id":1000314,"reputation":12261,"user_id":1015327,"display_name":"JimmyB"},"score":0,"creation_date":1437060034,"post_id":31457881,"comment_id":50883402,"body_markdown":"Btw, is `Reservation.resources` a collection, i.e. a ...ToMany relationship?","body":"Btw, is <code>Reservation.resources</code> a collection, i.e. a ...ToMany relationship?"},{"owner":{"account_id":6421692,"reputation":73,"user_id":4978261,"display_name":"brennerm"},"score":0,"creation_date":1437116915,"post_id":31457881,"comment_id":50906065,"body_markdown":"Yes it is Many-To-Many","body":"Yes it is Many-To-Many"}],"answers":[{"tags":[],"owner":{"account_id":6093107,"reputation":23142,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437084605,"creation_date":1437084605,"answer_id":31465403,"question_id":31457881,"body_markdown":"You can try with right outer join:\r\n\r\n    select rs \r\n    from Reservation r right join r.resources rs\r\n    where r is null","title":"HQL - IN-clause with subquery on Many-to-Many association","body":"<p>You can try with right outer join:</p>\n\n<pre><code>select rs \nfrom Reservation r right join r.resources rs\nwhere r is null\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26225570,"reputation":1,"user_id":19902319,"display_name":"user19902319"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681799150,"creation_date":1681799150,"answer_id":76041398,"question_id":31457881,"body_markdown":"Try use &#39;elements&#39; function:\r\n\r\n```\r\nFROM Resource rs WHERE rs NOT IN (SELECT elements(r.resources) FROM Reservation r)\r\n``` \r\nhttps://docs.jboss.org/hibernate/core/3.3/reference/en/html/queryhql.html\r\nChapter: 14.10. Expressions\r\n","title":"HQL - IN-clause with subquery on Many-to-Many association","body":"<p>Try use 'elements' function:</p>\n<pre><code>FROM Resource rs WHERE rs NOT IN (SELECT elements(r.resources) FROM Reservation r)\n</code></pre>\n<p><a href=\"https://docs.jboss.org/hibernate/core/3.3/reference/en/html/queryhql.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/core/3.3/reference/en/html/queryhql.html</a>\nChapter: 14.10. Expressions</p>\n"}],"owner":{"account_id":6421692,"reputation":73,"user_id":4978261,"display_name":"brennerm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":608,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1681799150,"creation_date":1437058911,"question_id":31457881,"body_markdown":"I&#39;m trying to get this query running\r\n\r\n    FROM Resource rs WHERE rs NOT IN (SELECT r.resources FROM Reservation r)\r\nbut Hibernate generates SQL code that leads to a SQL syntax exception.\r\n\r\nHow to avoid this without writing the SQL code by hand?\r\n\r\n## Update ##\r\nThe workaround I&#39;m using right now is to query the resources from all reservations first\r\n\r\n    SELECT r.resources FROM Reservation r\r\n\r\nand then applying the second query\r\n\r\n    FROM Resource rs WHERE rs NOT IN (:resources_in_reservations)\r\n\r\nFeels like an unnecessary step to me, but I don&#39;t know how to avoid it.\r\n","title":"HQL - IN-clause with subquery on Many-to-Many association","body":"<p>I'm trying to get this query running</p>\n\n<pre><code>FROM Resource rs WHERE rs NOT IN (SELECT r.resources FROM Reservation r)\n</code></pre>\n\n<p>but Hibernate generates SQL code that leads to a SQL syntax exception.</p>\n\n<p>How to avoid this without writing the SQL code by hand?</p>\n\n<h2>Update</h2>\n\n<p>The workaround I'm using right now is to query the resources from all reservations first</p>\n\n<pre><code>SELECT r.resources FROM Reservation r\n</code></pre>\n\n<p>and then applying the second query</p>\n\n<pre><code>FROM Resource rs WHERE rs NOT IN (:resources_in_reservations)\n</code></pre>\n\n<p>Feels like an unnecessary step to me, but I don't know how to avoid it.</p>\n"},{"tags":["java","spring-boot","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1629839609,"post_id":68913906,"comment_id":121791957,"body_markdown":"Sounds like you want to use an [`InteractiveQueryService`](https://docs.spring.io/spring-cloud-stream-binder-kafka/docs/current/reference/html/kafka-streams.html#_interactive_queries) + [source](https://github.com/spring-cloud/spring-cloud-stream-binder-kafka/blob/main/spring-cloud-stream-binder-kafka-streams/src/main/java/org/springframework/cloud/stream/binder/kafka/streams/InteractiveQueryService.java)","body":"Sounds like you want to use an <a href=\"https://docs.spring.io/spring-cloud-stream-binder-kafka/docs/current/reference/html/kafka-streams.html#_interactive_queries\" rel=\"nofollow noreferrer\"><code>InteractiveQueryService</code></a> + <a href=\"https://github.com/spring-cloud/spring-cloud-stream-binder-kafka/blob/main/spring-cloud-stream-binder-kafka-streams/src/main/java/org/springframework/cloud/stream/binder/kafka/streams/InteractiveQueryService.java\" rel=\"nofollow noreferrer\">source</a>"},{"owner":{"account_id":145899,"reputation":8031,"user_id":356011,"accept_rate":95,"display_name":"marathon"},"score":0,"creation_date":1629839662,"post_id":68913906,"comment_id":121791966,"body_markdown":"@OneCricketeer - I&#39;d like to avoid using Spring Cloud if at all possible.  But this does give me ideas on how to get at the ktable","body":"@OneCricketeer - I&#39;d like to avoid using Spring Cloud if at all possible.  But this does give me ideas on how to get at the ktable"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1629839866,"post_id":68913906,"comment_id":121792031,"body_markdown":"Is there a particular reason why? Otherwise, did you try `@Autowired GlobalKTable&lt;String, String&gt; myTable;`? Since that is the `@Bean` that you&#39;ve created?","body":"Is there a particular reason why? Otherwise, did you try <code>@Autowired GlobalKTable&lt;String, String&gt; myTable;</code>? Since that is the <code>@Bean</code> that you&#39;ve created?"}],"answers":[{"tags":[],"owner":{"account_id":13936444,"reputation":259,"user_id":10063327,"display_name":"m-kay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681798773,"creation_date":1681798379,"answer_id":76041311,"question_id":68913906,"body_markdown":"The `InteractiveQueryService` is actually only needed when you are using spring-cloud because you can have multiple kafka-streams instances in one application there. In your case you can get access to the `KafkaStreams` object via `StreamsBuilderFactoryBean` and get the store from there:\r\n\r\n```java\r\n\r\n@Path(&quot;/api&quot;)\r\n@Service\r\npublic class Web {\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;ksConfig&quot;)\r\n    private StreamsBuilderFactoryBean streamsBuilderFactoryBean;\r\n\r\n    @GET\r\n    @Path(&quot;/test&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response test(@QueryParam(&quot;key&quot;) String key) {\r\n\r\n        String value =  getValue(key);\r\n\r\n        return Response.status(200).entity(value).build();\r\n    }\r\n    \r\n    private String getValue(String key) {\r\n        QueryableStoreType&lt;ReadOnlyKeyValueStore&lt;String, String&gt;&gt; storeType = QueryableStoreTypes.keyValueStore();\r\n        ReadOnlyKeyValueStore&lt;String, String&gt; store = streamsBuilderFactoryBean.getKafkaStreams().store(StoreQueryParameters.fromNameAndType(&quot;my-state-store&quot;, storeType));\r\n        return store.get(key);\r\n    }\r\n}\r\n```","title":"How to access a GlobalKTable outside of a kafka streams context in spring boot?","body":"<p>The <code>InteractiveQueryService</code> is actually only needed when you are using spring-cloud because you can have multiple kafka-streams instances in one application there. In your case you can get access to the <code>KafkaStreams</code> object via <code>StreamsBuilderFactoryBean</code> and get the store from there:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Path(&quot;/api&quot;)\n@Service\npublic class Web {\n\n    @Autowired\n    @Qualifier(&quot;ksConfig&quot;)\n    private StreamsBuilderFactoryBean streamsBuilderFactoryBean;\n\n    @GET\n    @Path(&quot;/test&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response test(@QueryParam(&quot;key&quot;) String key) {\n\n        String value =  getValue(key);\n\n        return Response.status(200).entity(value).build();\n    }\n    \n    private String getValue(String key) {\n        QueryableStoreType&lt;ReadOnlyKeyValueStore&lt;String, String&gt;&gt; storeType = QueryableStoreTypes.keyValueStore();\n        ReadOnlyKeyValueStore&lt;String, String&gt; store = streamsBuilderFactoryBean.getKafkaStreams().store(StoreQueryParameters.fromNameAndType(&quot;my-state-store&quot;, storeType));\n        return store.get(key);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":145899,"reputation":8031,"user_id":356011,"accept_rate":95,"display_name":"marathon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":770,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1681798773,"creation_date":1629838025,"question_id":68913906,"body_markdown":"I&#39;d like to access a global ktable in a context other than the kafka streams context.\r\n\r\nAs an example, I have this sample app:\r\n```java\r\n@SpringBootApplication\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(App.class, args);\r\n    }\r\n}\r\n```\r\n\r\nwith this GlobalKTable configured\r\n```java\r\n@Component\r\npublic class Table {\r\n\r\n    @Bean(&quot;myTable&quot;)\r\n    public GlobalKTable&lt;String, String&gt; buildTopo(@Qualifier(&quot;ksConfig&quot;) StreamsBuilder builder) {\r\n        return builder.globalTable(&quot;my-topic&quot;,\r\n                Materialized.&lt;String, String, KeyValueStore&lt;Bytes, byte[]&gt;&gt;as(\r\n                                &quot;my-state-store&quot; /* table/store name */)\r\n                        .withKeySerde(Serdes.String())\r\n                        .withValueSerde(Serdes.String())\r\n        );\r\n    }\r\n}\r\n```\r\nAnd this kafka streams configuration:\r\n```java\r\n@Configuration\r\npublic class KafkaConfiguration {\r\n\r\n    @Bean(&quot;ksConfig&quot;)\r\n    public StreamsBuilderFactoryBean kafkaStreams(KafkaProperties kafkaProperties,\r\n                                                  @Value(&quot;${spring.application.name}&quot;) String appName) {\r\n        var props = new HashMap&lt;String, Object&gt;(kafkaProperties.getProperties());\r\n        props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaProperties.getBootstrapServers());\r\n        props.put(StreamsConfig.APPLICATION_ID_CONFIG, appName);\r\n        props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n        props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n        props.put(StreamsConfig.COMMIT_INTERVAL_MS_CONFIG, 10 * 1000);\r\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\r\n        props.put(StreamsConfig.DEFAULT_DESERIALIZATION_EXCEPTION_HANDLER_CLASS_CONFIG, LogAndContinueExceptionHandler.class);\r\n        var stateDir = kafkaProperties.getStreams().getStateDir() != null ?\r\n                kafkaProperties.getStreams().getStateDir() : System.getProperty(&quot;java.io.tmpdir&quot;);\r\n        props.put(StreamsConfig.STATE_DIR_CONFIG, stateDir);\r\n        var config = new KafkaStreamsConfiguration(props);\r\n        return new StreamsBuilderFactoryBean(config);\r\n    }\r\n```\r\n\r\nNow let&#39;s say I have a web endpoint:\r\n```java\r\n@Path(&quot;/api&quot;)\r\n@Service\r\npublic class Web {\r\n\r\n    @GET\r\n    @Path(&quot;/test&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response test(@QueryParam(&quot;key&quot;) String key) {\r\n\r\n        String value =  // get value from global ktable with Key\r\n\r\n        return Response.status(200).entity(value).build();\r\n    }\r\n}\r\n```\r\n\r\nHow can I get at the ktable from inside this `Web::test(...)` method?\r\n\r\nI tried autowiring some prospective Kafka streams classes in `Web`, like `KafkaStreams` and `ProcessorContext`.   Spring throws an error saying it cannot find those beans. \r\n","title":"How to access a GlobalKTable outside of a kafka streams context in spring boot?","body":"<p>I'd like to access a global ktable in a context other than the kafka streams context.</p>\n<p>As an example, I have this sample app:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class App {\n    public static void main(String[] args) {\n        SpringApplication.run(App.class, args);\n    }\n}\n</code></pre>\n<p>with this GlobalKTable configured</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Table {\n\n    @Bean(&quot;myTable&quot;)\n    public GlobalKTable&lt;String, String&gt; buildTopo(@Qualifier(&quot;ksConfig&quot;) StreamsBuilder builder) {\n        return builder.globalTable(&quot;my-topic&quot;,\n                Materialized.&lt;String, String, KeyValueStore&lt;Bytes, byte[]&gt;&gt;as(\n                                &quot;my-state-store&quot; /* table/store name */)\n                        .withKeySerde(Serdes.String())\n                        .withValueSerde(Serdes.String())\n        );\n    }\n}\n</code></pre>\n<p>And this kafka streams configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class KafkaConfiguration {\n\n    @Bean(&quot;ksConfig&quot;)\n    public StreamsBuilderFactoryBean kafkaStreams(KafkaProperties kafkaProperties,\n                                                  @Value(&quot;${spring.application.name}&quot;) String appName) {\n        var props = new HashMap&lt;String, Object&gt;(kafkaProperties.getProperties());\n        props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaProperties.getBootstrapServers());\n        props.put(StreamsConfig.APPLICATION_ID_CONFIG, appName);\n        props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n        props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n        props.put(StreamsConfig.COMMIT_INTERVAL_MS_CONFIG, 10 * 1000);\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\n        props.put(StreamsConfig.DEFAULT_DESERIALIZATION_EXCEPTION_HANDLER_CLASS_CONFIG, LogAndContinueExceptionHandler.class);\n        var stateDir = kafkaProperties.getStreams().getStateDir() != null ?\n                kafkaProperties.getStreams().getStateDir() : System.getProperty(&quot;java.io.tmpdir&quot;);\n        props.put(StreamsConfig.STATE_DIR_CONFIG, stateDir);\n        var config = new KafkaStreamsConfiguration(props);\n        return new StreamsBuilderFactoryBean(config);\n    }\n</code></pre>\n<p>Now let's say I have a web endpoint:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/api&quot;)\n@Service\npublic class Web {\n\n    @GET\n    @Path(&quot;/test&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response test(@QueryParam(&quot;key&quot;) String key) {\n\n        String value =  // get value from global ktable with Key\n\n        return Response.status(200).entity(value).build();\n    }\n}\n</code></pre>\n<p>How can I get at the ktable from inside this <code>Web::test(...)</code> method?</p>\n<p>I tried autowiring some prospective Kafka streams classes in <code>Web</code>, like <code>KafkaStreams</code> and <code>ProcessorContext</code>.   Spring throws an error saying it cannot find those beans.</p>\n"},{"tags":["java","database","redis","connection","vert.x"],"answers":[{"tags":[],"owner":{"account_id":12863622,"reputation":2586,"user_id":9304616,"display_name":"Lebecca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681798630,"creation_date":1681797360,"answer_id":76041190,"question_id":75035650,"body_markdown":"I ran into the same issue recently. And I believe you are pasting the officially suggested reconnection code from the vertex docs as me:\r\n\r\n - https://vertx.io/docs/vertx-redis-client/java/#_implementing_reconnect_on_error\r\n\r\nI can verify your case and I opened an issue with a reproducer at [vertx-redis-client #issue 375](https://github.com/vert-x3/vertx-redis-client/issues/375).\r\n\r\nThe maintainers did not respond to me yet while I found a solution for this - use `endHandler` instead of `exceptionHandler` like:\r\n\r\n```java\r\n//make sure the client is reconnected o error\r\nthis.redisClient.endHandler(e -&gt; {\r\n    // attempt to reconnect\r\n    attemptReconnect(0);\r\n});\r\n```\r\n\r\nThis works perfectly when there are network issues with the redis server or the redis server is temporarily done for a short time. The `endHandler` is called in `RedicConnectionManager`:\r\n\r\n```java\r\n      netSocket\r\n        .handler(new RESPParser(connection, options.getMaxNestedArrays()))\r\n        .closeHandler(connection::end)\r\n        .exceptionHandler(connection::fail);\r\n``` \r\n\r\nThe `exceptionHandler` also need to be declared at the same time to handle case described in [vertx redis client #issue 227](https://github.com/vert-x3/vertx-redis-client/issues/227).\r\n\r\nI think the official docs may need some improvements.","title":"How to reconnect to redis using java with vertx?","body":"<p>I ran into the same issue recently. And I believe you are pasting the officially suggested reconnection code from the vertex docs as me:</p>\n<ul>\n<li><a href=\"https://vertx.io/docs/vertx-redis-client/java/#_implementing_reconnect_on_error\" rel=\"nofollow noreferrer\">https://vertx.io/docs/vertx-redis-client/java/#_implementing_reconnect_on_error</a></li>\n</ul>\n<p>I can verify your case and I opened an issue with a reproducer at <a href=\"https://github.com/vert-x3/vertx-redis-client/issues/375\" rel=\"nofollow noreferrer\">vertx-redis-client #issue 375</a>.</p>\n<p>The maintainers did not respond to me yet while I found a solution for this - use <code>endHandler</code> instead of <code>exceptionHandler</code> like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//make sure the client is reconnected o error\nthis.redisClient.endHandler(e -&gt; {\n    // attempt to reconnect\n    attemptReconnect(0);\n});\n</code></pre>\n<p>This works perfectly when there are network issues with the redis server or the redis server is temporarily done for a short time. The <code>endHandler</code> is called in <code>RedicConnectionManager</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      netSocket\n        .handler(new RESPParser(connection, options.getMaxNestedArrays()))\n        .closeHandler(connection::end)\n        .exceptionHandler(connection::fail);\n</code></pre>\n<p>The <code>exceptionHandler</code> also need to be declared at the same time to handle case described in <a href=\"https://github.com/vert-x3/vertx-redis-client/issues/227\" rel=\"nofollow noreferrer\">vertx redis client #issue 227</a>.</p>\n<p>I think the official docs may need some improvements.</p>\n"}],"owner":{"account_id":27422158,"reputation":1,"user_id":20920395,"display_name":"Henrique Ferraz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681798630,"creation_date":1673035773,"question_id":75035650,"body_markdown":"**The application I&#39;m working on doesn&#39;t reconnect with the redis server if the server goes down**.\r\n\r\nWhen my application goes up and the redis server is still not running, my application tries to reconnect until the server runs and they connect. But when the two are connected and the redis server goes down, my application does not try to reconnect and starts giving an error\r\n\\[ httpStatus: 500\r\nmessage: &quot;Redis connection is broken.&quot; \\]\r\n\r\nI created an endpoint that makes requests to redis as a test and I&#39;m running the server on my machine and this is the test environment I&#39;m using.\r\n\r\nI tried to configure the connection using RedisOptions from the io.vertx.redis.client package but without success. Can you help me please!\r\n\r\ncode:\r\n\r\n    private final RedesOptions options = new RedesOptions()\r\n    private Redis redisClient;\r\n             \r\n    \r\n    private void createRedisClient(Handler&lt;AsyncResult&lt;Redis&gt;&gt; handler) {\r\n                    Redis.createClient(vertx, options)\r\n                            .connect(onConnect -&gt; {\r\n                                if (onConnect.succeeded()) {\r\n                                    this.redisClient = onConnect.result();\r\n                                    //make sure the client is reconnected o error\r\n                                    this.redisClient.exceptionHandler(e -&gt; {\r\n                                        // attempt to reconnect\r\n                                        attemptReconnect(0);\r\n                                    });\r\n                                }\r\n                                // allow further processing\r\n                                handler.handle(onConnect);\r\n                            });\r\n                }\r\n\r\n\r\n      private void attemptReconnect(int retry) {\r\n        if (retry &gt; MAX_RECONNECT_RETRIES) {\r\n            // we should stop now, as there&#39;s nothing we can do.\r\n        } else {\r\n            System.out.println(&quot;erro de conexao &gt;&gt;&gt;&gt; &quot; );\r\n            // retry with backoff up to 10240 ms\r\n            long backoff = (long) (Math.pow(2, Math.min(retry, 10)) * 10);\r\n\r\n            vertx.setTimer(backoff, timer -&gt; createRedisClient(onReconnect -&gt; {\r\n                if (onReconnect.failed()) {\r\n                    attemptReconnect(retry + 1);\r\n                }\r\n            }));\r\n        }\r\n    }\r\n\r\n\r\nand call this method createRedisClient in the constructor of the class.\r\n\r\ncode:\r\n\r\n     createRedisClient(onCreate -&gt; {\r\n            if (onCreate.succeeded()) {\r\n                System.out.println(&quot;conectado com sucesso &gt;&gt;&gt; &quot; + onCreate.result());\r\n                log.info(&quot;Redis Connected: &quot;+onCreate.result());\r\n            } else if (onCreate.failed()) {\r\n                System.out.println(&quot;erro de conexao &gt;&gt;&gt;&gt; &quot; + onCreate.result());\r\n                attemptReconnect(0);\r\n            }\r\n        });\r\n\r\n\r\n","title":"How to reconnect to redis using java with vertx?","body":"<p><strong>The application I'm working on doesn't reconnect with the redis server if the server goes down</strong>.</p>\n<p>When my application goes up and the redis server is still not running, my application tries to reconnect until the server runs and they connect. But when the two are connected and the redis server goes down, my application does not try to reconnect and starts giving an error\n[ httpStatus: 500\nmessage: &quot;Redis connection is broken.&quot; ]</p>\n<p>I created an endpoint that makes requests to redis as a test and I'm running the server on my machine and this is the test environment I'm using.</p>\n<p>I tried to configure the connection using RedisOptions from the io.vertx.redis.client package but without success. Can you help me please!</p>\n<p>code:</p>\n<pre><code>private final RedesOptions options = new RedesOptions()\nprivate Redis redisClient;\n         \n\nprivate void createRedisClient(Handler&lt;AsyncResult&lt;Redis&gt;&gt; handler) {\n                Redis.createClient(vertx, options)\n                        .connect(onConnect -&gt; {\n                            if (onConnect.succeeded()) {\n                                this.redisClient = onConnect.result();\n                                //make sure the client is reconnected o error\n                                this.redisClient.exceptionHandler(e -&gt; {\n                                    // attempt to reconnect\n                                    attemptReconnect(0);\n                                });\n                            }\n                            // allow further processing\n                            handler.handle(onConnect);\n                        });\n            }\n\n\n  private void attemptReconnect(int retry) {\n    if (retry &gt; MAX_RECONNECT_RETRIES) {\n        // we should stop now, as there's nothing we can do.\n    } else {\n        System.out.println(&quot;erro de conexao &gt;&gt;&gt;&gt; &quot; );\n        // retry with backoff up to 10240 ms\n        long backoff = (long) (Math.pow(2, Math.min(retry, 10)) * 10);\n\n        vertx.setTimer(backoff, timer -&gt; createRedisClient(onReconnect -&gt; {\n            if (onReconnect.failed()) {\n                attemptReconnect(retry + 1);\n            }\n        }));\n    }\n}\n</code></pre>\n<p>and call this method createRedisClient in the constructor of the class.</p>\n<p>code:</p>\n<pre><code> createRedisClient(onCreate -&gt; {\n        if (onCreate.succeeded()) {\n            System.out.println(&quot;conectado com sucesso &gt;&gt;&gt; &quot; + onCreate.result());\n            log.info(&quot;Redis Connected: &quot;+onCreate.result());\n        } else if (onCreate.failed()) {\n            System.out.println(&quot;erro de conexao &gt;&gt;&gt;&gt; &quot; + onCreate.result());\n            attemptReconnect(0);\n        }\n    });\n</code></pre>\n"},{"tags":["java","powershell","visual-studio-code","git-bash"],"comments":[{"owner":{"account_id":285492,"reputation":77387,"user_id":584192,"accept_rate":100,"display_name":"Samuel Liew"},"score":0,"creation_date":1681781491,"post_id":76039517,"comment_id":134109011,"body_markdown":"**Comments have been [moved to chat](https://chat.stackoverflow.com/rooms/253205/discussion-on-question-by-losdekai-character-not-showing-properly-in-java); please do not continue the discussion here.** Before posting a comment below this one, please review the [purposes of comments](/help/privileges/comment). Comments that do not request clarification or suggest improvements usually belong as an [answer](/help/how-to-answer), on [meta], or in [chat]. Comments continuing discussion may be removed.","body":"<b>Comments have been <a href=\"https://chat.stackoverflow.com/rooms/253205/discussion-on-question-by-losdekai-character-not-showing-properly-in-java\">moved to chat</a>; please do not continue the discussion here.</b> Before posting a comment below this one, please review the <a href=\"/help/privileges/comment\">purposes of comments</a>. Comments that do not request clarification or suggest improvements usually belong as an <a href=\"/help/how-to-answer\">answer</a>, on <a href=\"https://meta.stackoverflow.com\">Meta Stack Overflow</a>, or in <a href=\"https://chat.stackoverflow.com/\">Stack Overflow Chat</a>. Comments continuing discussion may be removed."},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":2,"creation_date":1681781677,"post_id":76039517,"comment_id":134109028,"body_markdown":"Does this answer your question? [How can I change the Standard Out to &quot;UTF-8&quot; in Java](https://stackoverflow.com/questions/28567208/how-can-i-change-the-standard-out-to-utf-8-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28567208/how-can-i-change-the-standard-out-to-utf-8-in-java\">How can I change the Standard Out to &quot;UTF-8&quot; in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1681797925,"creation_date":1681786621,"answer_id":76040742,"question_id":76039517,"body_markdown":"Vscode uses the computer&#39;s built-in terminal as an integrated terminal, so this has something to do with your machine language, script encoding, terminal code and many other things. You can try to modify the machine language and other operations to get the correct output, but it will be a little troublesome.\r\n\r\n**Here&#39;s another option to try:**\r\n\r\n1. Configure *launch,json* as follows\r\n\r\n    ```json\r\n    {\r\n        &quot;version&quot;: &quot;0.2.0&quot;,\r\n        &quot;configurations&quot;: [\r\n            {\r\n                &quot;type&quot;: &quot;java&quot;,\r\n                &quot;name&quot;: &quot;Current File&quot;,\r\n                &quot;request&quot;: &quot;launch&quot;,\r\n                &quot;mainClass&quot;: &quot;${file}&quot;,\r\n                &quot;console&quot;: &quot;internalConsole&quot;\r\n            }\r\n        ]\r\n    }\r\n    ```\r\n\r\n2. Then execute the script with `Run Without Debugging (Ctrl+F5)`\r\n\r\n    [![enter image description here][1]][1]\r\n\r\n3. Input in the **DEBUG CONSOLE** panel\r\n\r\n    [![enter image description here][2]][2]\r\n\r\n4. Enter to get the output\r\n\r\n    [![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YvQmB.png\r\n  [2]: https://i.stack.imgur.com/SwDyN.png\r\n  [3]: https://i.stack.imgur.com/v54Wq.png","title":"Character not showing properly in Java","body":"<p>Vscode uses the computer's built-in terminal as an integrated terminal, so this has something to do with your machine language, script encoding, terminal code and many other things. You can try to modify the machine language and other operations to get the correct output, but it will be a little troublesome.</p>\n<p><strong>Here's another option to try:</strong></p>\n<ol>\n<li><p>Configure <em>launch,json</em> as follows</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;version&quot;: &quot;0.2.0&quot;,\n    &quot;configurations&quot;: [\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Current File&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;mainClass&quot;: &quot;${file}&quot;,\n            &quot;console&quot;: &quot;internalConsole&quot;\n        }\n    ]\n}\n</code></pre>\n</li>\n<li><p>Then execute the script with <code>Run Without Debugging (Ctrl+F5)</code></p>\n<p><a href=\"https://i.stack.imgur.com/YvQmB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YvQmB.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Input in the <strong>DEBUG CONSOLE</strong> panel</p>\n<p><a href=\"https://i.stack.imgur.com/SwDyN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SwDyN.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Enter to get the output</p>\n<p><a href=\"https://i.stack.imgur.com/v54Wq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v54Wq.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":24736124,"reputation":19,"user_id":18623473,"display_name":"losdekai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1683322013,"answer_count":1,"score":0,"last_activity_date":1681797925,"creation_date":1681767889,"question_id":76039517,"body_markdown":"I&#39;m trying to get the user name as an input, but whenever I run the code, it doesn&#39;t show properly. I tried adding `Charset.forName(&quot;UTF-8&quot;);` but it did not solve the problem.\r\n\r\nIt shows the same problem in Git Bash and Powershell.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class UserInput {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tScanner scanner = new Scanner(System.in, Charset.forName(&quot;UTF-8&quot;));\r\n\r\n\t\tSystem.out.print(&quot;What is your name? &quot;);\r\n\t\tString name = scanner.nextLine();\r\n\r\n\t\tSystem.out.println(&quot;Hello &quot; + name);\r\n\r\n\t}\r\n}\r\n```\r\n\r\nConsole: \r\n\r\n```none\r\nWhat is your name? Jo&#227;o\r\nHello Jo?o\r\n```\r\n\r\nI also tried running &quot;chcp 65001&quot; before running the code and it returns:\r\n```\r\nWhat is your name? Jo&#227;o\r\nHello Joo\r\n```\r\n\r\nAnd then I added this code to try to fix it and I got a different error \r\n\r\n```\r\nimport java.io.FileDescriptor;\r\nimport java.io.FileOutputStream;\r\nimport java.io.PrintStream;\r\nimport java.io.UnsupportedEncodingException;\r\nimport java.util.Scanner;\r\n\r\npublic class input {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\r\n\t\ttry {\r\n\t\t\tSystem.setOut(new PrintStream(new FileOutputStream(FileDescriptor.out), true, &quot;UTF-8&quot;));\r\n\t\t\tSystem.out.print(&quot;What is your name? &quot;);\r\n\t\t\tString name = scanner.nextLine();\r\n\r\n\t\t\tSystem.out.println(&quot;Hello &quot; + name);\r\n\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\tthrow new InternalError(&quot;VM does not support mandatory encoding UTF-8&quot;);\r\n\t\t}\r\n\r\n\t}\r\n}\r\n```\r\n\r\nConsole:\r\n\r\n```\r\nWhat is your name? Jo&#227;o \r\nHello Jo&#180;┐&#162;o\r\n```","title":"Character not showing properly in Java","body":"<p>I'm trying to get the user name as an input, but whenever I run the code, it doesn't show properly. I tried adding <code>Charset.forName(&quot;UTF-8&quot;);</code> but it did not solve the problem.</p>\n<p>It shows the same problem in Git Bash and Powershell.</p>\n<pre><code>import java.util.Scanner;\n\npublic class UserInput {\n\n    public static void main(String[] args) {\n\n        Scanner scanner = new Scanner(System.in, Charset.forName(&quot;UTF-8&quot;));\n\n        System.out.print(&quot;What is your name? &quot;);\n        String name = scanner.nextLine();\n\n        System.out.println(&quot;Hello &quot; + name);\n\n    }\n}\n</code></pre>\n<p>Console:</p>\n<pre class=\"lang-none prettyprint-override\"><code>What is your name? João\nHello Jo?o\n</code></pre>\n<p>I also tried running &quot;chcp 65001&quot; before running the code and it returns:</p>\n<pre><code>What is your name? João\nHello Joo\n</code></pre>\n<p>And then I added this code to try to fix it and I got a different error</p>\n<pre><code>import java.io.FileDescriptor;\nimport java.io.FileOutputStream;\nimport java.io.PrintStream;\nimport java.io.UnsupportedEncodingException;\nimport java.util.Scanner;\n\npublic class input {\n\n    public static void main(String[] args) {\n\n        Scanner scanner = new Scanner(System.in);\n\n        try {\n            System.setOut(new PrintStream(new FileOutputStream(FileDescriptor.out), true, &quot;UTF-8&quot;));\n            System.out.print(&quot;What is your name? &quot;);\n            String name = scanner.nextLine();\n\n            System.out.println(&quot;Hello &quot; + name);\n        } catch (UnsupportedEncodingException e) {\n            throw new InternalError(&quot;VM does not support mandatory encoding UTF-8&quot;);\n        }\n\n    }\n}\n</code></pre>\n<p>Console:</p>\n<pre><code>What is your name? João \nHello Jo´┐¢o\n</code></pre>\n"},{"tags":["java","string","stringbuilder"],"comments":[{"owner":{"account_id":8463731,"reputation":38757,"user_id":6348498,"accept_rate":92,"display_name":"Gurwinder Singh"},"score":4,"creation_date":1681787389,"post_id":76040799,"comment_id":134109533,"body_markdown":"`current &lt; ans.length()` is always false because `ans` is empty.","body":"<code>current &lt; ans.length()</code> is always false because <code>ans</code> is empty."},{"owner":{"account_id":19199549,"reputation":776,"user_id":14027764,"display_name":"Rituparna Warwatkar"},"score":0,"creation_date":1681787477,"post_id":76040799,"comment_id":134109545,"body_markdown":"i dont think ans is empty because he has initialized it with a length value","body":"i dont think ans is empty because he has initialized it with a length value"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1681787610,"post_id":76040799,"comment_id":134109558,"body_markdown":"@RituparnaWarwatkar The [documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html#%3Cinit%3E(int)) says the `StringBuilder` is empty: *Constructs a string builder with no characters in it and an initial capacity specified by the capacity argument.*","body":"@RituparnaWarwatkar The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html#%3Cinit%3E(int)\" rel=\"nofollow noreferrer\">documentation</a> says the <code>StringBuilder</code> is empty: <i>Constructs a string builder with no characters in it and an initial capacity specified by the capacity argument.</i>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1681787619,"post_id":76040799,"comment_id":134109561,"body_markdown":"@RituparnaWarwatkar, that initializes its capacity.  Its length is still zero.","body":"@RituparnaWarwatkar, that initializes its capacity.  Its length is still zero."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1681788012,"post_id":76040799,"comment_id":134109591,"body_markdown":"`current &lt; length` is the approach here, especially since you instantiated `int length = word1.length() + word2.length();`","body":"<code>current &lt; length</code> is the approach here, especially since you instantiated <code>int length = word1.length() + word2.length();</code>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681788020,"creation_date":1681787717,"answer_id":76040827,"question_id":76040799,"body_markdown":"# Initial capacity versus length\r\n\r\nYour code:\r\n\r\n    StringBuilder ans = new StringBuilder(length);\r\n\r\nDefines an *initial capacity* for the string bulder, but does not fill it with any text. See the Javadoc:\r\n\r\n&gt;Constructs a string builder with no characters in it and an initial capacity specified by the capacity argument.\r\n\r\nIn other words, `new StringBuilder( 42 ).length()` returns `0` zero.\r\n\r\nSo your test `while(current &lt; ans.length())` never returns `true`. Your `current` variable is never less than zero, never negative.\r\n\r\n# `char` is legacy\r\n\r\nThe `char` type has been essentially broken since Java 2, legacy since Java 5. As a 16-bit value, a `char` cannot represent most characters.\r\n\r\nTo work with individual characters, learn to use [code point][1] integers. \r\n\r\nSearch Stack Overflow to learn more as this has been covered many times already.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Code_point","title":"What&#39;s the wrong with StringBuilder in code","body":"<h1>Initial capacity versus length</h1>\n<p>Your code:</p>\n<pre><code>StringBuilder ans = new StringBuilder(length);\n</code></pre>\n<p>Defines an <em>initial capacity</em> for the string bulder, but does not fill it with any text. See the Javadoc:</p>\n<blockquote>\n<p>Constructs a string builder with no characters in it and an initial capacity specified by the capacity argument.</p>\n</blockquote>\n<p>In other words, <code>new StringBuilder( 42 ).length()</code> returns <code>0</code> zero.</p>\n<p>So your test <code>while(current &lt; ans.length())</code> never returns <code>true</code>. Your <code>current</code> variable is never less than zero, never negative.</p>\n<h1><code>char</code> is legacy</h1>\n<p>The <code>char</code> type has been essentially broken since Java 2, legacy since Java 5. As a 16-bit value, a <code>char</code> cannot represent most characters.</p>\n<p>To work with individual characters, learn to use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integers.</p>\n<p>Search Stack Overflow to learn more as this has been covered many times already.</p>\n"}],"owner":{"account_id":27987985,"reputation":3,"user_id":21374421,"display_name":"21SCS34 Arumugaperumal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76040827,"answer_count":1,"score":-2,"last_activity_date":1681797548,"creation_date":1681787268,"question_id":76040799,"body_markdown":"```java\r\nclass Solution {\r\n    public String mergeAlternately(String word1, String word2) {\r\n        int length = word1.length() + word2.length();\r\n        StringBuilder ans = new StringBuilder(length);\r\n        int left = 0, right = 0, current = 0;\r\n        System.out.println(ans.length());\r\n        while(current &lt; ans.length()) {\r\n            System.out.println(&quot;called&quot;);\r\n            if(left &gt;= word1.length()) {\r\n                ans.append(word2.charAt(right));\r\n                right++;\r\n            }\r\n            else if(right &gt;= word2.length()) {\r\n                ans.append(word2.charAt(left));\r\n                left++;\r\n            }\r\n            else if(current % 2 == 0) {\r\n                ans.append(word1.charAt(left));\r\n                left++;\r\n            }\r\n            else {\r\n                ans.append(word2.charAt(right));\r\n                right++;\r\n            }\r\n            current++;\r\n        }\r\n        return ans.toString();\r\n    }\r\n}\r\n```\r\n\r\nThe problem is=&gt; given two strings `word1` and `word2`. Merge the strings by adding letters in alternating order, starting with word1. If a string is longer than the other, append the additional letters onto the end of the merged string.\r\n\r\nI have tried:\r\n\r\nInput: `word1 = &quot;abc&quot;, word2 = &quot;pqr&quot;`\r\n\r\nExpected Output: `&quot;apbqcr&quot;`\r\n\r\nmy Output: `&quot;&quot;`","title":"What&#39;s the wrong with StringBuilder in code","body":"<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n    public String mergeAlternately(String word1, String word2) {\n        int length = word1.length() + word2.length();\n        StringBuilder ans = new StringBuilder(length);\n        int left = 0, right = 0, current = 0;\n        System.out.println(ans.length());\n        while(current &lt; ans.length()) {\n            System.out.println(&quot;called&quot;);\n            if(left &gt;= word1.length()) {\n                ans.append(word2.charAt(right));\n                right++;\n            }\n            else if(right &gt;= word2.length()) {\n                ans.append(word2.charAt(left));\n                left++;\n            }\n            else if(current % 2 == 0) {\n                ans.append(word1.charAt(left));\n                left++;\n            }\n            else {\n                ans.append(word2.charAt(right));\n                right++;\n            }\n            current++;\n        }\n        return ans.toString();\n    }\n}\n</code></pre>\n<p>The problem is=&gt; given two strings <code>word1</code> and <code>word2</code>. Merge the strings by adding letters in alternating order, starting with word1. If a string is longer than the other, append the additional letters onto the end of the merged string.</p>\n<p>I have tried:</p>\n<p>Input: <code>word1 = &quot;abc&quot;, word2 = &quot;pqr&quot;</code></p>\n<p>Expected Output: <code>&quot;apbqcr&quot;</code></p>\n<p>my Output: <code>&quot;&quot;</code></p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":242330,"reputation":10725,"user_id":513769,"accept_rate":75,"display_name":"stevevls"},"down_vote_count":0,"up_vote_count":82,"is_accepted":true,"score":82,"last_activity_date":1307217715,"creation_date":1307217715,"answer_id":6239069,"question_id":6239061,"body_markdown":"There&#39;s probably a more concise regex, but this will certainly work:\r\n\r\n    string.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot;&quot;);","title":"Regular Expression to remove everything but characters and numbers","body":"<p>There's probably a more concise regex, but this will certainly work:</p>\n\n<pre><code>string.replaceAll(\"[^a-zA-Z0-9]\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":170731,"reputation":4483,"user_id":397667,"accept_rate":100,"display_name":"bw_&#252;ezi"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1343663567,"creation_date":1307217771,"answer_id":6239074,"question_id":6239061,"body_markdown":"    string.replaceAll(&quot;[^a-zA-Z0-9]+&quot;, &quot;&quot;);","title":"Regular Expression to remove everything but characters and numbers","body":"<pre><code>string.replaceAll(\"[^a-zA-Z0-9]+\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130772,"reputation":71463,"user_id":330280,"accept_rate":92,"display_name":"aleroot"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1307218553,"creation_date":1307217773,"answer_id":6239075,"question_id":6239061,"body_markdown":"    String test = &quot;MAX EUK_1334-PP/B+&quot;;\t    \r\n    test = test.replaceAll(&quot;[\\\\W_]&quot;, &quot;&quot;);\r\n    System.out.println(test + &quot;\\n&quot;);\r\n\r\nPrinted Result : \r\n\r\n    MAXEUK1334PPB","title":"Regular Expression to remove everything but characters and numbers","body":"<pre><code>String test = \"MAX EUK_1334-PP/B+\";     \ntest = test.replaceAll(\"[\\\\W_]\", \"\");\nSystem.out.println(test + \"\\n\");\n</code></pre>\n\n<p>Printed Result : </p>\n\n<pre><code>MAXEUK1334PPB\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1307218081,"creation_date":1307218081,"answer_id":6239102,"question_id":6239061,"body_markdown":"Some are forgetting the &quot;_&quot; char:\r\n\r\n`String regex = &quot;[_\\\\W]&quot;;`\r\n\r\n    public class RegexFun2 {\r\n       public static void main(String[] args) {\r\n          String test = &quot;MAX EUK_1334-PP/B+&quot;;\r\n          \r\n          String regex = &quot;[_\\\\W]&quot;;\r\n          \r\n          String result = test.replaceAll(regex, &quot;&quot;);\r\n          System.out.println(result);\r\n       }\r\n    }\r\n\r\nBut still I think the OP is cheating himself by not demonstrating that he tried first and posting his attempt in his original question.  Just my 2 cents.","title":"Regular Expression to remove everything but characters and numbers","body":"<p>Some are forgetting the \"_\" char:</p>\n\n<p><code>String regex = \"[_\\\\W]\";</code></p>\n\n<pre><code>public class RegexFun2 {\n   public static void main(String[] args) {\n      String test = \"MAX EUK_1334-PP/B+\";\n\n      String regex = \"[_\\\\W]\";\n\n      String result = test.replaceAll(regex, \"\");\n      System.out.println(result);\n   }\n}\n</code></pre>\n\n<p>But still I think the OP is cheating himself by not demonstrating that he tried first and posting his attempt in his original question.  Just my 2 cents.</p>\n"},{"tags":[],"owner":{"account_id":366731,"reputation":4051,"user_id":712452,"accept_rate":77,"display_name":"smttsp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1307244005,"creation_date":1307218433,"answer_id":6239127,"question_id":6239061,"body_markdown":"You can use ASCII values of chars:\r\n\r\n    while(!end of string){\r\n        if(valueOfChar is between 48-57 or 65-90 or 97-122)\r\n              write it to your string\r\n    }\r\n\r\nThis may help, but I don&#39;t know if you&#39;re supposed to write the code with `replaceAll`.\r\nBoth `replaceAll` and this code works with the same performance (`O(n)`).\r\n\r\n","title":"Regular Expression to remove everything but characters and numbers","body":"<p>You can use ASCII values of chars:</p>\n\n<pre><code>while(!end of string){\n    if(valueOfChar is between 48-57 or 65-90 or 97-122)\n          write it to your string\n}\n</code></pre>\n\n<p>This may help, but I don't know if you're supposed to write the code with <code>replaceAll</code>.\nBoth <code>replaceAll</code> and this code works with the same performance (<code>O(n)</code>).</p>\n"},{"tags":[],"owner":{"account_id":3593915,"reputation":11,"user_id":2999234,"display_name":"AIBE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681797407,"creation_date":1681728362,"answer_id":76034320,"question_id":6239061,"body_markdown":"Almost identical to OP I&#39;d tried this with [Ramda][1]\r\n```javascript\r\nconst filteredString = R.replace (/[^a-zA-Z0-9 &quot;-/]/g, &#39;&#39;);\r\n```\r\nto remove everything but characters (plus: &quot;-/). Strange thing that this regex didn&#39;t remove dots (.) if constructor is not used. Everything else works like a charm.\r\n\r\nSo, for the OP should be\r\n```javascript\r\nconst filteredString = R.replace (/([^a-zA-Z0-9])|(_)/g, &#39;&#39;);\r\n```\r\nor using the RegExp constructor\r\n```javascript\r\nconst onlyChars = new RegExp (&#39;([^a-zA-z0-9])|(_)&#39;, &#39;g&#39;);\r\nconst filteredString = R.replace (onlyChars, &#39;&#39;);\r\n```\r\n\r\nAnd to use it:\r\n```javascript\r\nconst oldString = `MAX EUK_1334-PP/B+`;\r\nfilteredString (oldString); -&gt; &quot;MAXEUK1334PPB&quot;\r\n```\r\n\r\n**UPDATE**: my mistake, I should wrote something wrong the first time, because the dot is actually removed. The character that this regex don&#39;t delete is _, so I added.\r\n  \r\n[1]: https://ramdajs.com/","title":"Regular Expression to remove everything but characters and numbers","body":"<p>Almost identical to OP I'd tried this with <a href=\"https://ramdajs.com/\" rel=\"nofollow noreferrer\">Ramda</a></p>\n<pre class=\"lang-js prettyprint-override\"><code>const filteredString = R.replace (/[^a-zA-Z0-9 &quot;-/]/g, '');\n</code></pre>\n<p>to remove everything but characters (plus: &quot;-/). Strange thing that this regex didn't remove dots (.) if constructor is not used. Everything else works like a charm.</p>\n<p>So, for the OP should be</p>\n<pre class=\"lang-js prettyprint-override\"><code>const filteredString = R.replace (/([^a-zA-Z0-9])|(_)/g, '');\n</code></pre>\n<p>or using the RegExp constructor</p>\n<pre class=\"lang-js prettyprint-override\"><code>const onlyChars = new RegExp ('([^a-zA-z0-9])|(_)', 'g');\nconst filteredString = R.replace (onlyChars, '');\n</code></pre>\n<p>And to use it:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const oldString = `MAX EUK_1334-PP/B+`;\nfilteredString (oldString); -&gt; &quot;MAXEUK1334PPB&quot;\n</code></pre>\n<p><strong>UPDATE</strong>: my mistake, I should wrote something wrong the first time, because the dot is actually removed. The character that this regex don't delete is _, so I added.</p>\n"}],"owner":{"account_id":184459,"reputation":4718,"user_id":420515,"accept_rate":81,"display_name":"Dominik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64833,"favorite_count":0,"down_vote_count":1,"up_vote_count":32,"accepted_answer_id":6239069,"answer_count":6,"score":31,"last_activity_date":1681797407,"creation_date":1307217619,"question_id":6239061,"body_markdown":"I would like to remove everything but the Characters a-z,A-Z and 0-9 from a String so I need to create a regular expression for Java&#39;s `string.replaceAll(regex, &quot;&quot;);`\r\n\r\nThe old string would look like this:\r\n\r\n    MAX EUK_1334-PP/B+\r\n\r\nThe new string should look like this:\r\n\r\n    MAXEUK1334PPB","title":"Regular Expression to remove everything but characters and numbers","body":"<p>I would like to remove everything but the Characters a-z,A-Z and 0-9 from a String so I need to create a regular expression for Java's <code>string.replaceAll(regex, \"\");</code></p>\n\n<p>The old string would look like this:</p>\n\n<pre><code>MAX EUK_1334-PP/B+\n</code></pre>\n\n<p>The new string should look like this:</p>\n\n<pre><code>MAXEUK1334PPB\n</code></pre>\n"},{"tags":["java","hadoop","hive","bigdata"],"answers":[{"tags":[],"owner":{"account_id":6884922,"reputation":131,"user_id":5290372,"display_name":"alxrcs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1576062201,"creation_date":1576062201,"answer_id":59284368,"question_id":59284014,"body_markdown":"It might be that the binaries for Java 11 are still first in your PATH. Check if the bin folder for Java 11 is appearing first with `echo $PATH`.\r\n\r\nIf that&#39;s the case, a quick fix might just be to prepend the path to the Java 8 bin folder to your `.bashrc` file. Appending something like this might help:\r\n\r\n`export PATH=&quot;/usr/lib/jvm/java-1.8.0-openjdk-amd64/bin:$PATH&quot;`\r\n\r\nThen `java -version` should show the right one.\r\n\r\n\r\n","title":"Unable to launch hive","body":"<p>It might be that the binaries for Java 11 are still first in your PATH. Check if the bin folder for Java 11 is appearing first with <code>echo $PATH</code>.</p>\n\n<p>If that's the case, a quick fix might just be to prepend the path to the Java 8 bin folder to your <code>.bashrc</code> file. Appending something like this might help:</p>\n\n<p><code>export PATH=\"/usr/lib/jvm/java-1.8.0-openjdk-amd64/bin:$PATH\"</code></p>\n\n<p>Then <code>java -version</code> should show the right one.</p>\n"},{"tags":[],"owner":{"account_id":2059606,"reputation":8258,"user_id":2265190,"accept_rate":50,"display_name":"Hafiz Muhammad Shafiq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681797301,"creation_date":1681797301,"answer_id":76041183,"question_id":59284014,"body_markdown":"For exactly same problem with Hadoop version 3.3.5 and Hive 3.1.3. on Ubuntu 22.04, I have to install JDK with below command\r\n\r\n    sudo apt install openjdk-8-jdk\r\n\r\nand Then set JAVA_HOME as follows\r\n\r\n    export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64/\r\n    export PATH=&quot;/usr/lib/jvm/java-8-openjdk-amd64/bin:$PATH&quot;\r\n\r\nBelow option does not fix the issue for me\r\n\r\n    export PATH=&quot;/usr/lib/jvm/java-1.8.0-openjdk-amd64/bin:$PATH&quot;\r\n\r\n","title":"Unable to launch hive","body":"<p>For exactly same problem with Hadoop version 3.3.5 and Hive 3.1.3. on Ubuntu 22.04, I have to install JDK with below command</p>\n<pre><code>sudo apt install openjdk-8-jdk\n</code></pre>\n<p>and Then set JAVA_HOME as follows</p>\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64/\nexport PATH=&quot;/usr/lib/jvm/java-8-openjdk-amd64/bin:$PATH&quot;\n</code></pre>\n<p>Below option does not fix the issue for me</p>\n<pre><code>export PATH=&quot;/usr/lib/jvm/java-1.8.0-openjdk-amd64/bin:$PATH&quot;\n</code></pre>\n"}],"owner":{"account_id":8263344,"reputation":2713,"user_id":6213883,"accept_rate":69,"display_name":"It&#233;ration 122442"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2418,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59284368,"answer_count":2,"score":1,"last_activity_date":1681797301,"creation_date":1576061062,"question_id":59284014,"body_markdown":"I am not able to launch Hive while following [the getting started procedure][1]\n\n\nHere is the error:\n\n    $ ./hive\n    SLF4J: Class path contains multiple SLF4J bindings.\n    SLF4J: Found binding in [jar:file:/home/hadoopuser/Downloads/apache-hive-3.1.2-bin/lib/log4j-slf4j-impl-2.10.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\n    SLF4J: Found binding in [jar:file:/home/hadoopuser/hadoop-2.8.5/share/hadoop/common/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\n    SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\n    SLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\n    Hive Session ID = 3494229b-6c3c-4c5b-ba62-a82edde75f18\n    Exception in thread &quot;main&quot; java.lang.ClassCastException: class jdk.internal.loader.ClassLoaders$AppClassLoader cannot be cast to class java.net.URLClassLoader (jdk.internal.loader.ClassLoaders$AppClassLoader and java.net.URLClassLoader are in module java.base of loader &#39;bootstrap&#39;)\n        at org.apache.hadoop.hive.ql.session.SessionState.&lt;init&gt;(SessionState.java:413)\n        at org.apache.hadoop.hive.ql.session.SessionState.&lt;init&gt;(SessionState.java:389)\n        at org.apache.hadoop.hive.cli.CliSessionState.&lt;init&gt;(CliSessionState.java:60)\n        at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:705)\n        at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:683)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.apache.hadoop.util.RunJar.run(RunJar.java:239)\n        at org.apache.hadoop.util.RunJar.main(RunJar.java:153)\n\n\nI believe the problem is coming from the java version, based on other SO questions. But they did not help me.\n\nWhen I run `java -version`, I get:\n\n    openjdk version &quot;11.0.4&quot; 2019-07-16\n    OpenJDK Runtime Environment (build 11.0.4+11-post-Ubuntu-1ubuntu218.04.3)\n    OpenJDK 64-Bit Server VM (build 11.0.4+11-post-Ubuntu-1ubuntu218.04.3, mixed mode, sharing)\n\nHowever, when I get my $JAVA_HOME variable, it is correctly set to java 1.8:\n\n    $ echo $JAVA_HOME\n    /usr/lib/jvm/java-1.8.0-openjdk-amd64\n\nBUT, when I use the alternative command to select my java version, I get the following result:\n\n    $ sudo update-alternatives --config java\n    [sudo] password for hadoopuser: \n    There are 2 choices for the alternative java (providing /usr/bin/java).\n    \n      Selection    Path                                            Priority   Status\n    ------------------------------------------------------------\n      0            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      auto mode\n      1            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      manual mode\n    * 2            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081      manual mode\n    \n    Press &lt;enter&gt; to keep the current choice[*], or type selection number: 2\n\n\n\nWhat am I doing wrong?\n\nEdit 1 : Similar error when running `./beeline -u jdbc:hive2://`\n\n  [1]: https://cwiki.apache.org/confluence/display/Hive/GettingStarted\n","title":"Unable to launch hive","body":"<p>I am not able to launch Hive while following <a href=\"https://cwiki.apache.org/confluence/display/Hive/GettingStarted\" rel=\"nofollow noreferrer\">the getting started procedure</a></p>\n<p>Here is the error:</p>\n<pre><code>$ ./hive\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/home/hadoopuser/Downloads/apache-hive-3.1.2-bin/lib/log4j-slf4j-impl-2.10.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/home/hadoopuser/hadoop-2.8.5/share/hadoop/common/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\nHive Session ID = 3494229b-6c3c-4c5b-ba62-a82edde75f18\nException in thread &quot;main&quot; java.lang.ClassCastException: class jdk.internal.loader.ClassLoaders$AppClassLoader cannot be cast to class java.net.URLClassLoader (jdk.internal.loader.ClassLoaders$AppClassLoader and java.net.URLClassLoader are in module java.base of loader 'bootstrap')\n    at org.apache.hadoop.hive.ql.session.SessionState.&lt;init&gt;(SessionState.java:413)\n    at org.apache.hadoop.hive.ql.session.SessionState.&lt;init&gt;(SessionState.java:389)\n    at org.apache.hadoop.hive.cli.CliSessionState.&lt;init&gt;(CliSessionState.java:60)\n    at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:705)\n    at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:683)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.hadoop.util.RunJar.run(RunJar.java:239)\n    at org.apache.hadoop.util.RunJar.main(RunJar.java:153)\n</code></pre>\n<p>I believe the problem is coming from the java version, based on other SO questions. But they did not help me.</p>\n<p>When I run <code>java -version</code>, I get:</p>\n<pre><code>openjdk version &quot;11.0.4&quot; 2019-07-16\nOpenJDK Runtime Environment (build 11.0.4+11-post-Ubuntu-1ubuntu218.04.3)\nOpenJDK 64-Bit Server VM (build 11.0.4+11-post-Ubuntu-1ubuntu218.04.3, mixed mode, sharing)\n</code></pre>\n<p>However, when I get my $JAVA_HOME variable, it is correctly set to java 1.8:</p>\n<pre><code>$ echo $JAVA_HOME\n/usr/lib/jvm/java-1.8.0-openjdk-amd64\n</code></pre>\n<p>BUT, when I use the alternative command to select my java version, I get the following result:</p>\n<pre><code>$ sudo update-alternatives --config java\n[sudo] password for hadoopuser: \nThere are 2 choices for the alternative java (providing /usr/bin/java).\n\n  Selection    Path                                            Priority   Status\n------------------------------------------------------------\n  0            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      auto mode\n  1            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      manual mode\n* 2            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081      manual mode\n\nPress &lt;enter&gt; to keep the current choice[*], or type selection number: 2\n</code></pre>\n<p>What am I doing wrong?</p>\n<p>Edit 1 : Similar error when running <code>./beeline -u jdbc:hive2://</code></p>\n"},{"tags":["java","plot","jfreechart"],"comments":[{"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"score":0,"creation_date":1681229131,"post_id":75987845,"comment_id":134021332,"body_markdown":"A part of a dataset with a sharp corner and a code to calculate a moving average could help to detect the problem.","body":"A part of a dataset with a sharp corner and a code to calculate a moving average could help to detect the problem."},{"owner":{"account_id":27518638,"reputation":1,"user_id":20999167,"display_name":"Eugene"},"score":0,"creation_date":1681231085,"post_id":75987845,"comment_id":134021834,"body_markdown":"A part with dataset is ok. The moving average gives a stepwise result. Are there other mathematical ways to make this smoother?","body":"A part with dataset is ok. The moving average gives a stepwise result. Are there other mathematical ways to make this smoother?"},{"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"score":0,"creation_date":1681232449,"post_id":75987845,"comment_id":134022141,"body_markdown":"There are many ways to make a graph smooth. For example, splines. However, moving average should do a trick here as well. That&#39;s why I asked for the part of data and the code, because there might be some problem hidden there.","body":"There are many ways to make a graph smooth. For example, splines. However, moving average should do a trick here as well. That&#39;s why I asked for the part of data and the code, because there might be some problem hidden there."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1681232698,"post_id":75987845,"comment_id":134022195,"body_markdown":"Please [edit] your question to include a [mre] that illustrates the problem you describe and what &quot;didn&#39;t work properly.&quot;","body":"Please <a href=\"https://stackoverflow.com/posts/75987845/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that illustrates the problem you describe and what &quot;didn&#39;t work properly.&quot;"},{"owner":{"account_id":27518638,"reputation":1,"user_id":20999167,"display_name":"Eugene"},"score":0,"creation_date":1681244376,"post_id":75987845,"comment_id":134024746,"body_markdown":"I&#39;ve added interpolation method from The Apache Commons Mathematics Library in body question. This method also didn&#39;t work.","body":"I&#39;ve added interpolation method from The Apache Commons Mathematics Library in body question. This method also didn&#39;t work."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1681253013,"post_id":75987845,"comment_id":134026124,"body_markdown":"More on splines is seen [here](https://stackoverflow.com/search?q=%5Bjfreechart%5D+spline).","body":"More on splines is seen <a href=\"https://stackoverflow.com/search?q=%5Bjfreechart%5D+spline\">here</a>."},{"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"score":0,"creation_date":1681363659,"post_id":75987845,"comment_id":134044856,"body_markdown":"It seems that the density of points in your dataset is very large. The moving average in the posted code is averaging just 3 neighbour points, so it doesn&#39;t help much. You need to adjust the size of the moving average window. If you provide a part of the dataset near one of the sharp corners it will be easier to detect the problem.","body":"It seems that the density of points in your dataset is very large. The moving average in the posted code is averaging just 3 neighbour points, so it doesn&#39;t help much. You need to adjust the size of the moving average window. If you provide a part of the dataset near one of the sharp corners it will be easier to detect the problem."},{"owner":{"account_id":27518638,"reputation":1,"user_id":20999167,"display_name":"Eugene"},"score":0,"creation_date":1681456423,"post_id":75987845,"comment_id":134062144,"body_markdown":"The sample data: angels: 25.0 27.5 30.0 32.5 35.0 37.5 40.0 42.5 45.0 47.5 50.0 52.5 55.0 57.5 60.0 62.5 65.0\nvalues: 327.24 321.03 314.3 307.05 298.64 290.09 280.77 270.14 511.27 488.73 463.07 438.02 411.86 382.51 354.24 324.84 290.96","body":"The sample data: angels: 25.0 27.5 30.0 32.5 35.0 37.5 40.0 42.5 45.0 47.5 50.0 52.5 55.0 57.5 60.0 62.5 65.0 values: 327.24 321.03 314.3 307.05 298.64 290.09 280.77 270.14 511.27 488.73 463.07 438.02 411.86 382.51 354.24 324.84 290.96"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1681688249,"post_id":75987845,"comment_id":134092303,"body_markdown":"@Eugene: Please [edit] your question to show the data, ideally as a [mre].","body":"@Eugene: Please <a href=\"https://stackoverflow.com/posts/75987845/edit\">edit</a> your question to show the data, ideally as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":27518638,"reputation":1,"user_id":20999167,"display_name":"Eugene"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681797065,"creation_date":1681228366,"question_id":75987845,"body_markdown":"I&#39;ve created polar plot using JFreeChart with two data series: initial (red) and modified (blue). The modified data series has sharp corners that need to be smoothed out, as shown in the figure below. I tried to use moving average, but it didn&#39;t work properly. This is my plot:\r\n\r\n![polar plot](https://i.stack.imgur.com/SDTOx.jpg)\r\n\r\nAlso i tried to do interpolation but it also didn&#39;t work.\r\n\r\n    public void interpolate(Map&lt;Double, Double&gt; data) {\r\n        double angel = 0.0;\r\n        double increment = reader.getPolarAngelsArray()[1];\r\n        int length = reader.getNumberOfPolarAngels() * 2 - 1;\r\n        double[] x = new double[length];\r\n        double[] y = new double[length];\r\n        for (int i = 0; i &lt; length; i++) {\r\n            x[i] = angel;\r\n            y[i] = data.get(angel);\r\n            angel += increment;\r\n        }\r\n        UnivariateInterpolator interpolator = new SplineInterpolator();\r\n        UnivariateFunction function = interpolator.interpolate(x, y);\r\n        for (double angle = 0.0; angle &lt;= 360.0; angle += increment) {\r\n            data.put(angle, function.value(angle));\r\n        }\r\n    }\r\n\r\nmoving average:\r\n\r\n    public XYSeries movAvg(XYSeries series) {\r\n\r\n        ArrayList&lt;Double&gt; avgY = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; series.getItemCount(); i++) {\r\n            if (i == 0) {\r\n                avgY.add((Double) series.getY(i));\r\n            } else if (i == (series.getItemCount() - 1)) {\r\n                avgY.add((Double) series.getY(i));\r\n            } else {\r\n                avgY.add(((Double) series.getY(i - 1) +\r\n                        (Double) series.getY(i) +\r\n                        (Double) series.getY(i + 1)) / 3.0);\r\n            }\r\n        }\r\n\r\n        for (int i = 0; i &lt; series.getItemCount(); i++) {\r\n            series.update(series.getX(i), avgY.get(i));\r\n        }\r\n        return series;\r\n    }\r\n\r\nAfter using moving average method the situation is getting better but sharp corners are keeping. [After moving average][1].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8Nomm.jpg\r\n\r\nThe sample data: angels: 25.0 27.5 30.0 32.5 35.0 37.5 40.0 42.5 45.0 47.5 50.0 52.5 55.0 57.5 60.0 62.5 65.0 values: 327.24 321.03 314.3 307.05 298.64 290.09 280.77 270.14 511.27 488.73 463.07 438.02 411.86 382.51 354.24 324.84 290.96","title":"How to round corners on polar plot in Java?","body":"<p>I've created polar plot using JFreeChart with two data series: initial (red) and modified (blue). The modified data series has sharp corners that need to be smoothed out, as shown in the figure below. I tried to use moving average, but it didn't work properly. This is my plot:</p>\n<p><img src=\"https://i.stack.imgur.com/SDTOx.jpg\" alt=\"polar plot\" /></p>\n<p>Also i tried to do interpolation but it also didn't work.</p>\n<pre><code>public void interpolate(Map&lt;Double, Double&gt; data) {\n    double angel = 0.0;\n    double increment = reader.getPolarAngelsArray()[1];\n    int length = reader.getNumberOfPolarAngels() * 2 - 1;\n    double[] x = new double[length];\n    double[] y = new double[length];\n    for (int i = 0; i &lt; length; i++) {\n        x[i] = angel;\n        y[i] = data.get(angel);\n        angel += increment;\n    }\n    UnivariateInterpolator interpolator = new SplineInterpolator();\n    UnivariateFunction function = interpolator.interpolate(x, y);\n    for (double angle = 0.0; angle &lt;= 360.0; angle += increment) {\n        data.put(angle, function.value(angle));\n    }\n}\n</code></pre>\n<p>moving average:</p>\n<pre><code>public XYSeries movAvg(XYSeries series) {\n\n    ArrayList&lt;Double&gt; avgY = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; series.getItemCount(); i++) {\n        if (i == 0) {\n            avgY.add((Double) series.getY(i));\n        } else if (i == (series.getItemCount() - 1)) {\n            avgY.add((Double) series.getY(i));\n        } else {\n            avgY.add(((Double) series.getY(i - 1) +\n                    (Double) series.getY(i) +\n                    (Double) series.getY(i + 1)) / 3.0);\n        }\n    }\n\n    for (int i = 0; i &lt; series.getItemCount(); i++) {\n        series.update(series.getX(i), avgY.get(i));\n    }\n    return series;\n}\n</code></pre>\n<p>After using moving average method the situation is getting better but sharp corners are keeping. <a href=\"https://i.stack.imgur.com/8Nomm.jpg\" rel=\"nofollow noreferrer\">After moving average</a>.</p>\n<p>The sample data: angels: 25.0 27.5 30.0 32.5 35.0 37.5 40.0 42.5 45.0 47.5 50.0 52.5 55.0 57.5 60.0 62.5 65.0 values: 327.24 321.03 314.3 307.05 298.64 290.09 280.77 270.14 511.27 488.73 463.07 438.02 411.86 382.51 354.24 324.84 290.96</p>\n"},{"tags":["java","spring","rest","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":6408227,"reputation":2256,"user_id":4968749,"accept_rate":100,"display_name":"Hassam Abdelillah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580157576,"creation_date":1580152292,"answer_id":59937433,"question_id":59936902,"body_markdown":"I would use the `@RequestMapping` Multiple paths mapped to the same controller method possibility in such a manner.\r\n\r\nI suspect that even if you refactor your code to call one single method, you still have to implement some logic to differentiate between the two parameters inside the controller method.\r\n\r\nBesides, `getUserById()` signature is ambiguous. What the parameter `id` means the `id` or `userId`\r\n\r\nHaving two separate method for what you want to acheive would be more efficient two handle each case properly. Inside each controller method you can use a common logic for the two if you want.\r\n\r\n    @RequestMapping(value = &quot;/user/{userId}&quot;, method=RequestMethod.GET)\r\n    public String getUserById(@PathVariable(&quot;userId&quot;) String userId){\r\n       // Common login\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/id&quot;, method=RequestMethod.GET)\r\n    public String getUserByUserId(@PathVariable(&quot;userId&quot;) String userId){\r\n       // Common login\r\n    }\r\n\r\nYou can even implement for each endpoint validators to check either you @PathVariable is valid or not in case of `Long` or `String`\r\n\r\nHere are some references [ref1][1], [ref2][2]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-requestmapping\r\n  [2]: https://www.baeldung.com/spring-validate-requestparam-pathvariable","title":"Multiple endpoints for REST API in Spring Boot","body":"<p>I would use the <code>@RequestMapping</code> Multiple paths mapped to the same controller method possibility in such a manner.</p>\n\n<p>I suspect that even if you refactor your code to call one single method, you still have to implement some logic to differentiate between the two parameters inside the controller method.</p>\n\n<p>Besides, <code>getUserById()</code> signature is ambiguous. What the parameter <code>id</code> means the <code>id</code> or <code>userId</code></p>\n\n<p>Having two separate method for what you want to acheive would be more efficient two handle each case properly. Inside each controller method you can use a common logic for the two if you want.</p>\n\n<pre><code>@RequestMapping(value = \"/user/{userId}\", method=RequestMethod.GET)\npublic String getUserById(@PathVariable(\"userId\") String userId){\n   // Common login\n}\n\n@RequestMapping(value = \"/id\", method=RequestMethod.GET)\npublic String getUserByUserId(@PathVariable(\"userId\") String userId){\n   // Common login\n}\n</code></pre>\n\n<p>You can even implement for each endpoint validators to check either you @PathVariable is valid or not in case of <code>Long</code> or <code>String</code></p>\n\n<p>Here are some references <a href=\"https://www.baeldung.com/spring-requestmapping\" rel=\"nofollow noreferrer\">ref1</a>, <a href=\"https://www.baeldung.com/spring-validate-requestparam-pathvariable\" rel=\"nofollow noreferrer\">ref2</a></p>\n"},{"tags":[],"owner":{"account_id":5850921,"reputation":1533,"user_id":4609621,"display_name":"Jasper Huzen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580157748,"creation_date":1580157329,"answer_id":59938537,"question_id":59936902,"body_markdown":"Aren&#39;t you able to refactor the database to have only one id? That makes things clear and keeps the code cleaner.\r\n\r\nIf that is not possible you can create 2 methods with meaningful names. \r\n\r\n    // handles: /user/{entityId}\r\n    @RequestMapping(value = &quot;/user/{entityId}&quot;, method=RequestMethod.GET)\r\n    public UserDto getUserByEntityId(@PathVariable(&quot;entityId&quot;) long entityId){\r\n       // call service \r\n    }\r\n    \r\n    // handles: /user?userId={userId}\r\n    @RequestMapping(value = &quot;/user&quot;, method=RequestMethod.GET)\r\n    public UserDto getUserByUserId(@RequestParam(&quot;userId&quot;, required=true) String userId){\r\n       // call service \r\n    }\r\n\r\nYou can discuss about about the correct names/signatures of the methods.\r\n\r\nAnother advantages of this approach is that you are able to add Swagger doc annotations to each of them.","title":"Multiple endpoints for REST API in Spring Boot","body":"<p>Aren't you able to refactor the database to have only one id? That makes things clear and keeps the code cleaner.</p>\n\n<p>If that is not possible you can create 2 methods with meaningful names. </p>\n\n<pre><code>// handles: /user/{entityId}\n@RequestMapping(value = \"/user/{entityId}\", method=RequestMethod.GET)\npublic UserDto getUserByEntityId(@PathVariable(\"entityId\") long entityId){\n   // call service \n}\n\n// handles: /user?userId={userId}\n@RequestMapping(value = \"/user\", method=RequestMethod.GET)\npublic UserDto getUserByUserId(@RequestParam(\"userId\", required=true) String userId){\n   // call service \n}\n</code></pre>\n\n<p>You can discuss about about the correct names/signatures of the methods.</p>\n\n<p>Another advantages of this approach is that you are able to add Swagger doc annotations to each of them.</p>\n"},{"tags":[],"owner":{"account_id":6701888,"reputation":734,"user_id":5168099,"display_name":"Vikram Singh Shekhawat"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1580192723,"creation_date":1580192723,"answer_id":59943178,"question_id":59936902,"body_markdown":"You can do this with single method like this:\r\n\r\n    @RequestMapping(value = {&quot;/{id}&quot;, &quot;/user/{userId}&quot;}, method = RequestMethod.GET)\r\n    public void getUser(@PathVariable(value = &quot;id&quot;, required = false) String id,\r\n      @PathVariable(value = &quot;userId&quot;, required = false) Long userId) {\r\n        if (id != null) {\r\n        //TODO stuff for id\r\n       }\r\n       if (userId != null) {\r\n        //TODO stuff for userId\r\n       }\r\n  }","title":"Multiple endpoints for REST API in Spring Boot","body":"<p>You can do this with single method like this:</p>\n\n<pre><code>@RequestMapping(value = {\"/{id}\", \"/user/{userId}\"}, method = RequestMethod.GET)\npublic void getUser(@PathVariable(value = \"id\", required = false) String id,\n  @PathVariable(value = \"userId\", required = false) Long userId) {\n    if (id != null) {\n    //TODO stuff for id\n   }\n   if (userId != null) {\n    //TODO stuff for userId\n   }\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":11362671,"reputation":273,"user_id":8330426,"display_name":"harv3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14506,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":59943178,"answer_count":3,"score":8,"last_activity_date":1681791198,"creation_date":1580149841,"question_id":59936902,"body_markdown":"I have two unique keys in a table: `id` and `userId`. I have to create a REST API in Spring to get user details if any of the two keys are given as path variables.\r\n\r\nThe challenge here is we have to create two different endpoints for getting user through `id` and getting a user through `userId`, but use same method for both. Also datatype of `id` is `long` and datatype of `userId` is `String` in my table.\r\n\r\nSo I am trying to do the following:\r\n\r\n```java\r\n@RequestMapping(value = {&quot;/{id}&quot;,&quot;/user/{id}&quot;}, method=RequestMethod.GET)\r\npublic response getUser(@PathVariable(&quot;id&quot;) String id) {\r\n    \r\n}\r\n```\r\n\r\nBut I am unable to figure out how to check whether I got `id` or `userId` inside the method. Also is this the right way to do it?","title":"Multiple endpoints for REST API in Spring Boot","body":"<p>I have two unique keys in a table: <code>id</code> and <code>userId</code>. I have to create a REST API in Spring to get user details if any of the two keys are given as path variables.</p>\n<p>The challenge here is we have to create two different endpoints for getting user through <code>id</code> and getting a user through <code>userId</code>, but use same method for both. Also datatype of <code>id</code> is <code>long</code> and datatype of <code>userId</code> is <code>String</code> in my table.</p>\n<p>So I am trying to do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = {&quot;/{id}&quot;,&quot;/user/{id}&quot;}, method=RequestMethod.GET)\npublic response getUser(@PathVariable(&quot;id&quot;) String id) {\n    \n}\n</code></pre>\n<p>But I am unable to figure out how to check whether I got <code>id</code> or <code>userId</code> inside the method. Also is this the right way to do it?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":23767229,"reputation":631,"user_id":17781834,"display_name":"Yohannes Masterous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681733607,"creation_date":1681733607,"answer_id":76035048,"question_id":76034245,"body_markdown":"You can use **view** from onClick method like in the code snippet below.\r\n\r\n    selectionBtn.setOnClickListener(new View.OnClickListener() {\r\n\t\t@Override\r\n\t\tpublic void onClick(final View view) {\r\n\t\t\tif (checkChosen(questionProgress, selectionBtn.getText().toString())) {\r\n\t\t\t\tview.setBackgroundResource(R.drawable.correct_button_selected);\r\n\r\n\t\t\t\tfinal Handler handler = new Handler();\r\n\t\t\t\thandler.postDelayed(new Runnable() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\tview.setBackgroundResource(R.drawable.choice_button_border);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 200);\r\n\t\t\t} else {\r\n\t\t\t\t// else condition\r\n\t\t\t}\r\n\t\t}\r\n\t});","title":"Change bgcolor when click button","body":"<p>You can use <strong>view</strong> from onClick method like in the code snippet below.</p>\n<pre><code>selectionBtn.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(final View view) {\n        if (checkChosen(questionProgress, selectionBtn.getText().toString())) {\n            view.setBackgroundResource(R.drawable.correct_button_selected);\n\n            final Handler handler = new Handler();\n            handler.postDelayed(new Runnable() {\n                @Override\n                public void run() {\n                    view.setBackgroundResource(R.drawable.choice_button_border);\n                }\n            }, 200);\n        } else {\n            // else condition\n        }\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1281728,"reputation":73126,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681736084,"creation_date":1681736084,"answer_id":76035387,"question_id":76034245,"body_markdown":"You seem to reuse `selectionBtn` variable while creating new button for each answer, when your delayed runnable starts, the value of `selectionBtn` will be different and it will be pointing the last button you created.\r\n\r\nTo fix that, use the `onClick()`&#39;s argument, which actually is the view that triggered the event (which is your correct button):\r\n\r\n```java\r\nselectionBtn.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        final Button currentButton = (Button) view;\r\n        \r\n        if (checkChosen(questionProgress, currentButton.getText().toString())) {\r\n            currentButton.setBackgroundResource(R.drawable.correct_button_selected);\r\n        } else {\r\n            currentButton.setBackgroundResource(R.drawable.wrong_button_selected);\r\n        }\r\n\r\n        currentButton.postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                currentButton.setBackgroundResource(R.drawable.choice_button_border);\r\n            }\r\n        }, 300);\r\n\r\n        ....\r\n    }\r\n```","title":"Change bgcolor when click button","body":"<p>You seem to reuse <code>selectionBtn</code> variable while creating new button for each answer, when your delayed runnable starts, the value of <code>selectionBtn</code> will be different and it will be pointing the last button you created.</p>\n<p>To fix that, use the <code>onClick()</code>'s argument, which actually is the view that triggered the event (which is your correct button):</p>\n<pre class=\"lang-java prettyprint-override\"><code>selectionBtn.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        final Button currentButton = (Button) view;\n        \n        if (checkChosen(questionProgress, currentButton.getText().toString())) {\n            currentButton.setBackgroundResource(R.drawable.correct_button_selected);\n        } else {\n            currentButton.setBackgroundResource(R.drawable.wrong_button_selected);\n        }\n\n        currentButton.postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                currentButton.setBackgroundResource(R.drawable.choice_button_border);\n            }\n        }, 300);\n\n        ....\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25958395,"reputation":27,"user_id":19675414,"display_name":"Wonster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681789692,"creation_date":1681789692,"answer_id":76040965,"question_id":76034245,"body_markdown":"I have fixed it. The problem is `removeAllViews()`. It removes the whole views for answer buttons before add new buttons, and that makes the flash not visible cause it&#39;s removed.\r\n\r\n```\r\nif (questionProgress &lt; questionList.length) {\r\n                    Log.v(&quot;progress&quot;, String.valueOf(questionProgress));\r\n                    binding.progressBar.setProgress(questionProgress);\r\n                    binding.progressCount.setText(questionProgress + &quot; / &quot; + questionAmount);\r\n                    binding.quizContent.setText(questionList[questionProgress]);\r\n                    binding.selectionLayout.postDelayed(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            binding.selectionLayout.removeAllViews();\r\n                            String[] anLi = answerMap.get(questionProgress);\r\n                            for (int i = 0; i &lt; anLi.length - 1; i++) {\r\n                                addSelections(anLi[i]);\r\n                            }\r\n                        }\r\n                    }, 300);\r\n\r\n                }\r\n```\r\nThis is how I fixed it.","title":"Change bgcolor when click button","body":"<p>I have fixed it. The problem is <code>removeAllViews()</code>. It removes the whole views for answer buttons before add new buttons, and that makes the flash not visible cause it's removed.</p>\n<pre><code>if (questionProgress &lt; questionList.length) {\n                    Log.v(&quot;progress&quot;, String.valueOf(questionProgress));\n                    binding.progressBar.setProgress(questionProgress);\n                    binding.progressCount.setText(questionProgress + &quot; / &quot; + questionAmount);\n                    binding.quizContent.setText(questionList[questionProgress]);\n                    binding.selectionLayout.postDelayed(new Runnable() {\n                        @Override\n                        public void run() {\n                            binding.selectionLayout.removeAllViews();\n                            String[] anLi = answerMap.get(questionProgress);\n                            for (int i = 0; i &lt; anLi.length - 1; i++) {\n                                addSelections(anLi[i]);\n                            }\n                        }\n                    }, 300);\n\n                }\n</code></pre>\n<p>This is how I fixed it.</p>\n"}],"owner":{"account_id":25958395,"reputation":27,"user_id":19675414,"display_name":"Wonster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76035387,"answer_count":3,"score":0,"last_activity_date":1681789692,"creation_date":1681727840,"question_id":76034245,"body_markdown":"I&#39;m using Android to create a Quiz application. So far, most of the things are done. Only one problem. When the answer button is clicked, its background color should be changed to a different color.\r\n\r\nI implement in this way:\r\n\r\n```\r\nselectionBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n//                correct answer clicked\r\n                if (checkChosen(questionProgress, selectionBtn.getText().toString())) {\r\n//                    change the bg-color to green indicates user made correct choice\r\n                    selectionBtn.setBackgroundResource(R.drawable.correct_button_selected);\r\n//                    last the bg-color for 0.3s\r\n                    selectionBtn.postDelayed(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            selectionBtn.setBackgroundResource(R.drawable.choice_button_border);\r\n                        }\r\n                    }, 300);\r\n                } else {\r\n//                    wrong answer clicked\r\n                    selectionBtn.setBackgroundResource(R.drawable.wrong_button_selected);\r\n                    selectionBtn.postDelayed(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            selectionBtn.setBackgroundResource(R.drawable.choice_button_border);\r\n                        }\r\n                    }, 300);\r\n                }\r\n//                progress added\r\n                questionProgress++;\r\n                /**\r\n                 * progress equals the amount, means the last question\r\n                 * show the submit button\r\n                 */\r\n                if (questionProgress == questionAmount) {\r\n                    binding.submitBtn.setVisibility(View.VISIBLE);\r\n                    binding.progressBar.setProgress(binding.progressBar.getMax());\r\n                    binding.progressCount.setText(questionAmount + &quot; / &quot; + questionAmount);\r\n                }\r\n                /**\r\n                 * progress &lt; amount, remove answer buttons of the last question\r\n                 * add new answer buttons and change progress bar\r\n                 */\r\n                if (questionProgress &lt; questionList.length) {\r\n                    Log.v(&quot;progress&quot;, String.valueOf(questionProgress));\r\n                    binding.progressBar.setProgress(questionProgress);\r\n                    binding.progressCount.setText(questionProgress + &quot; / &quot; + questionAmount);\r\n                    binding.quizContent.setText(questionList[questionProgress]);\r\n                    binding.selectionLayout.removeAllViews();\r\n                    String[] anLi = answerMap.get(questionProgress);\r\n                    for (int i = 0; i &lt; anLi.length - 1; i++) {\r\n                        addSelections(anLi[i]);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n```\r\n\r\nHowever, in this way, only answer buttons for the last question will change bg-color when they are clicked.\r\n\r\nHow can I solve this problem? Thanks in advance.","title":"Change bgcolor when click button","body":"<p>I'm using Android to create a Quiz application. So far, most of the things are done. Only one problem. When the answer button is clicked, its background color should be changed to a different color.</p>\n<p>I implement in this way:</p>\n<pre><code>selectionBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n//                correct answer clicked\n                if (checkChosen(questionProgress, selectionBtn.getText().toString())) {\n//                    change the bg-color to green indicates user made correct choice\n                    selectionBtn.setBackgroundResource(R.drawable.correct_button_selected);\n//                    last the bg-color for 0.3s\n                    selectionBtn.postDelayed(new Runnable() {\n                        @Override\n                        public void run() {\n                            selectionBtn.setBackgroundResource(R.drawable.choice_button_border);\n                        }\n                    }, 300);\n                } else {\n//                    wrong answer clicked\n                    selectionBtn.setBackgroundResource(R.drawable.wrong_button_selected);\n                    selectionBtn.postDelayed(new Runnable() {\n                        @Override\n                        public void run() {\n                            selectionBtn.setBackgroundResource(R.drawable.choice_button_border);\n                        }\n                    }, 300);\n                }\n//                progress added\n                questionProgress++;\n                /**\n                 * progress equals the amount, means the last question\n                 * show the submit button\n                 */\n                if (questionProgress == questionAmount) {\n                    binding.submitBtn.setVisibility(View.VISIBLE);\n                    binding.progressBar.setProgress(binding.progressBar.getMax());\n                    binding.progressCount.setText(questionAmount + &quot; / &quot; + questionAmount);\n                }\n                /**\n                 * progress &lt; amount, remove answer buttons of the last question\n                 * add new answer buttons and change progress bar\n                 */\n                if (questionProgress &lt; questionList.length) {\n                    Log.v(&quot;progress&quot;, String.valueOf(questionProgress));\n                    binding.progressBar.setProgress(questionProgress);\n                    binding.progressCount.setText(questionProgress + &quot; / &quot; + questionAmount);\n                    binding.quizContent.setText(questionList[questionProgress]);\n                    binding.selectionLayout.removeAllViews();\n                    String[] anLi = answerMap.get(questionProgress);\n                    for (int i = 0; i &lt; anLi.length - 1; i++) {\n                        addSelections(anLi[i]);\n                    }\n                }\n            }\n        });\n</code></pre>\n<p>However, in this way, only answer buttons for the last question will change bg-color when they are clicked.</p>\n<p>How can I solve this problem? Thanks in advance.</p>\n"},{"tags":["java","nullpointerexception"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681789873,"post_id":76040887,"comment_id":134109745,"body_markdown":"A [mcve] would help serve you better in the future. Based on my guess work of your data, I don&#39;t know where tabs should be, I either get `ERROR: Invalid kelvin or color code format!` or it works fine","body":"A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would help serve you better in the future. Based on my guess work of your data, I don&#39;t know where tabs should be, I either get <code>ERROR: Invalid kelvin or color code format!</code> or it works fine"}],"answers":[{"tags":[],"owner":{"account_id":28335494,"reputation":26,"user_id":21669099,"display_name":"yue zhang"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681788930,"creation_date":1681788930,"answer_id":76040908,"question_id":76040887,"body_markdown":"I think there would be occurs error when parts[4] does&#39;t start with 0x.","title":"Java i have some trouble with files and nullpointerexception in if statements","body":"<p>I think there would be occurs error when parts[4] does't start with 0x.</p>\n"}],"owner":{"account_id":27422830,"reputation":23,"user_id":20920921,"display_name":"xtrabyte"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1681789323,"answer_count":1,"score":0,"last_activity_date":1681789545,"creation_date":1681788501,"question_id":76040887,"body_markdown":"I&#39;m trying to write some code that reads the tab-delimited data like that;\r\nAdd\tSmartColorLamp\tCLamp2\tOn\r\nAdd\tSmartColorLamp\tCLamp3\tOn\t2000\t50\r\nAdd\tSmartColorLamp\tCLamp4\tOn\t0x00GG00\t30\r\nAdd\tSmartColorLamp\tCLamp4\tOn\t0xFFFFFFF\t100\r\nAdd\tSmartColorLamp\tCLamp4\tOn\t0x00FF00\t70\r\n in the text and conditions it to certain properties and then discards the linked list, but I&#39;m getting an error I guess because of the hexadecimal check part. help?\r\n\r\nI think there is a problem with the if statements I need to use, but I&#39;m a beginner java developer, I need your help.\r\n\r\n\r\n        if (parts[0].equals(&quot;Add&quot;) &amp;&amp; parts[1].equals(&quot;SmartColorLamp&quot;)) { // Add SmartColorLamb command\r\n            int kelvin = 4000;\r\n            int brightness = 100;\r\n            if (!initialTimeSet) { // initialTime is not set\r\n                System.out.println(&quot;COMMAND: &quot; + line);\r\n                System.out.println(&quot;ERROR: First command must be SetInitialTime! Program is going to terminate!&quot;);\r\n                System.exit(0);\r\n            }\r\n            if (parts.length &gt; 3 &amp;&amp; !parts[3].equalsIgnoreCase(&quot;On&quot;) &amp;&amp; !parts[3].equalsIgnoreCase(&quot;Off&quot;)) {\r\n                System.out.println(&quot;COMMAND: &quot; + line);\r\n                System.out.println(&quot;ERROR: Erroneous command!&quot;);\r\n                return;\r\n            }\r\n            String initialStatus = &quot;Off&quot;;\r\n            if (parts.length &gt; 3) {\r\n                initialStatus = parts[3];\r\n            }\r\n\r\n            String deviceName = parts[2];\r\n            boolean isAlreadyExists = devicesList.stream().anyMatch(device -&gt; device.getName().equals(deviceName));\r\n\r\n            if (isAlreadyExists) {\r\n                System.out.println(&quot;ERROR: There is already a smart device with the same name!&quot;);\r\n            }\r\n\r\n            else {\r\n\r\n                if (parts.length &gt;4 &amp;&amp; parts[4].matches(&quot;^[0-9A-Fa-f]+$&quot;)) {\r\n                    // If the value is a hexadecimal color code\r\n                   kelvin = Integer.parseInt((parts[4]));\r\n\r\n\r\n                } if(parts.length &gt;4) {\r\n                    // If the value is a kelvin temperature\r\n                    try {\r\n                        kelvin = Integer.parseInt(parts[4]);\r\n                    } catch (NumberFormatException e) {\r\n                        System.out.println(&quot;ERROR: Invalid kelvin or color code format!&quot;);\r\n                        return;\r\n                    }\r\n                }\r\n                if (parts.length &gt; 5) {\r\n\r\n                    try {\r\n\r\n                        brightness = Integer.parseInt(parts[5]);\r\n                    } catch (NumberFormatException e) {\r\n                        System.out.println(&quot;ERROR: Invalid Brightness format!&quot;);\r\n                        return;\r\n                    }\r\n                    if (brightness &lt; 0 || brightness &gt; 100) {\r\n                        System.out.println(&quot;ERROR: Brightness must be in range of 0%-100%!&quot;);\r\n                        return;\r\n                    }\r\n                }\r\n\r\n                SmartColorLamb smartColorLamb = new SmartColorLamb(deviceName, initialStatus, kelvin, brightness);\r\n                devicesList.add(smartColorLamb);\r\n                System.out.println(&quot;SUCCESS: Smart Color lamp has been added to the devices list!&quot;);\r\n            }\r\n        }\r\n\r\n\r\n\r\n","title":"Java i have some trouble with files and nullpointerexception in if statements","body":"<p>I'm trying to write some code that reads the tab-delimited data like that;\nAdd SmartColorLamp  CLamp2  On\nAdd SmartColorLamp  CLamp3  On  2000    50\nAdd SmartColorLamp  CLamp4  On  0x00GG00    30\nAdd SmartColorLamp  CLamp4  On  0xFFFFFFF   100\nAdd SmartColorLamp  CLamp4  On  0x00FF00    70\nin the text and conditions it to certain properties and then discards the linked list, but I'm getting an error I guess because of the hexadecimal check part. help?</p>\n<p>I think there is a problem with the if statements I need to use, but I'm a beginner java developer, I need your help.</p>\n<pre><code>    if (parts[0].equals(&quot;Add&quot;) &amp;&amp; parts[1].equals(&quot;SmartColorLamp&quot;)) { // Add SmartColorLamb command\n        int kelvin = 4000;\n        int brightness = 100;\n        if (!initialTimeSet) { // initialTime is not set\n            System.out.println(&quot;COMMAND: &quot; + line);\n            System.out.println(&quot;ERROR: First command must be SetInitialTime! Program is going to terminate!&quot;);\n            System.exit(0);\n        }\n        if (parts.length &gt; 3 &amp;&amp; !parts[3].equalsIgnoreCase(&quot;On&quot;) &amp;&amp; !parts[3].equalsIgnoreCase(&quot;Off&quot;)) {\n            System.out.println(&quot;COMMAND: &quot; + line);\n            System.out.println(&quot;ERROR: Erroneous command!&quot;);\n            return;\n        }\n        String initialStatus = &quot;Off&quot;;\n        if (parts.length &gt; 3) {\n            initialStatus = parts[3];\n        }\n\n        String deviceName = parts[2];\n        boolean isAlreadyExists = devicesList.stream().anyMatch(device -&gt; device.getName().equals(deviceName));\n\n        if (isAlreadyExists) {\n            System.out.println(&quot;ERROR: There is already a smart device with the same name!&quot;);\n        }\n\n        else {\n\n            if (parts.length &gt;4 &amp;&amp; parts[4].matches(&quot;^[0-9A-Fa-f]+$&quot;)) {\n                // If the value is a hexadecimal color code\n               kelvin = Integer.parseInt((parts[4]));\n\n\n            } if(parts.length &gt;4) {\n                // If the value is a kelvin temperature\n                try {\n                    kelvin = Integer.parseInt(parts[4]);\n                } catch (NumberFormatException e) {\n                    System.out.println(&quot;ERROR: Invalid kelvin or color code format!&quot;);\n                    return;\n                }\n            }\n            if (parts.length &gt; 5) {\n\n                try {\n\n                    brightness = Integer.parseInt(parts[5]);\n                } catch (NumberFormatException e) {\n                    System.out.println(&quot;ERROR: Invalid Brightness format!&quot;);\n                    return;\n                }\n                if (brightness &lt; 0 || brightness &gt; 100) {\n                    System.out.println(&quot;ERROR: Brightness must be in range of 0%-100%!&quot;);\n                    return;\n                }\n            }\n\n            SmartColorLamb smartColorLamb = new SmartColorLamb(deviceName, initialStatus, kelvin, brightness);\n            devicesList.add(smartColorLamb);\n            System.out.println(&quot;SUCCESS: Smart Color lamp has been added to the devices list!&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java","kotlin","quartz-scheduler","jobs","dropwizard"],"answers":[{"tags":[],"owner":{"account_id":27059306,"reputation":3,"user_id":20611551,"display_name":"Abu Jafar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681788495,"creation_date":1681783104,"answer_id":76040525,"question_id":76025601,"body_markdown":"I figured out how to do this. You can use the underlying Quartz Scheduler.\r\n\r\nYou can instantiate the implementation of the StdSchedulerFactory and then call getAllSchedulers and then you can look through the list to find one that is started and the list of job group names is not empty.\r\n\r\nLike this for example:\r\n\r\n```java\r\nScheduler scheduler = new StdSchedulerFactory().getAllSchedulers().stream().filter(schedulerToCheck -&gt; {\r\n    try {\r\n        return schedulerToCheck.isStarted() &amp;&amp; !schedulerToCheck.getJobGroupNames().isEmpty();\r\n    } catch (SchedulerException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}).collect(Collectors.toList()).get(0);\r\n```\r\n\r\nNow that you have the scheduler, you can get the job keys for its scheduled jobs and trigger them using the scheduler itself. You can iterate through the job groups returned by getJobGroupNames() and call the getJobKeys() function to get the keys. See https://stackoverflow.com/questions/22556304/how-to-query-the-scheduled-jobs-from-quartz-scheduler","title":"How can I manually trigger a job via dropwizard-jobs","body":"<p>I figured out how to do this. You can use the underlying Quartz Scheduler.</p>\n<p>You can instantiate the implementation of the StdSchedulerFactory and then call getAllSchedulers and then you can look through the list to find one that is started and the list of job group names is not empty.</p>\n<p>Like this for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scheduler scheduler = new StdSchedulerFactory().getAllSchedulers().stream().filter(schedulerToCheck -&gt; {\n    try {\n        return schedulerToCheck.isStarted() &amp;&amp; !schedulerToCheck.getJobGroupNames().isEmpty();\n    } catch (SchedulerException e) {\n        throw new RuntimeException(e);\n    }\n}).collect(Collectors.toList()).get(0);\n</code></pre>\n<p>Now that you have the scheduler, you can get the job keys for its scheduled jobs and trigger them using the scheduler itself. You can iterate through the job groups returned by getJobGroupNames() and call the getJobKeys() function to get the keys. See <a href=\"https://stackoverflow.com/questions/22556304/how-to-query-the-scheduled-jobs-from-quartz-scheduler\">How to query the scheduled jobs from Quartz scheduler?</a></p>\n"}],"owner":{"account_id":27059306,"reputation":3,"user_id":20611551,"display_name":"Abu Jafar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76040525,"answer_count":1,"score":0,"last_activity_date":1681788495,"creation_date":1681610905,"question_id":76025601,"body_markdown":"We have jobs set up for our dropwizard project via the dropwizard jobs library. We want to add some functionality to allow to us to trigger these jobs manually. Does anyone know how to do this?\r\n\r\nIf there is no way to do this, is there some way that we could use the underlying quartz scheduler library to trigger the jobs? It should be noted that we are using hk2 dependency injection. So our job classes have dependencies passed into them.\r\n\r\nHere is a link to the dropwizard-jobs library:\r\n[https://github.com/dropwizard-jobs/dropwizard-jobs](https://github.com/dropwizard-jobs/dropwizard-jobs)\r\n\r\nI have tried wrapping the jobs classes that we have (that were designed for the dropwizard jobs framework) in classes that implement thr Job interface from the quartz library, and then I have tried the following code to execute them.\r\n\r\n\r\n```java\r\n// Create a new Job \r\nJobKey jobKey = JobKey.jobKey(&quot;myNewJob&quot;, &quot;myJobGroup&quot;);\r\nJobDetail job = JobBuilder.newJob(MyJob.class).withIdentity(jobKey).storeDurably().build();\r\n\r\n// Register this job to the scheduler\r\nscheduler.addJob(job, true);\r\n\r\n// Immediately fire the Job MyJob.class\r\nscheduler.triggerJob(jobKey);\r\n```\r\n\r\n\r\nHowever, the job never seems to run. Even when debugging, I&#39;m seeing that the breakpoints for the code inside the job are never hit. I only ever saw them being hit once and that was during a debugging sessions, but so far, have been unable to replicate that behavior.\r\n\r\nThis leads me to think that the jobs are misfiring. But I don&#39;t have much experience with quartz or dropwizard-jobs, so am unsure how to debug/troubleshoot or what the underlying cause could be. I&#39;m wondering if the cause could be that the MyJob.class we are using, uses hk2 dependency injection, and perhaps we are unable to invoke the job like this as a result. But I&#39;m not sure","title":"How can I manually trigger a job via dropwizard-jobs","body":"<p>We have jobs set up for our dropwizard project via the dropwizard jobs library. We want to add some functionality to allow to us to trigger these jobs manually. Does anyone know how to do this?</p>\n<p>If there is no way to do this, is there some way that we could use the underlying quartz scheduler library to trigger the jobs? It should be noted that we are using hk2 dependency injection. So our job classes have dependencies passed into them.</p>\n<p>Here is a link to the dropwizard-jobs library:\n<a href=\"https://github.com/dropwizard-jobs/dropwizard-jobs\" rel=\"nofollow noreferrer\">https://github.com/dropwizard-jobs/dropwizard-jobs</a></p>\n<p>I have tried wrapping the jobs classes that we have (that were designed for the dropwizard jobs framework) in classes that implement thr Job interface from the quartz library, and then I have tried the following code to execute them.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Create a new Job \nJobKey jobKey = JobKey.jobKey(&quot;myNewJob&quot;, &quot;myJobGroup&quot;);\nJobDetail job = JobBuilder.newJob(MyJob.class).withIdentity(jobKey).storeDurably().build();\n\n// Register this job to the scheduler\nscheduler.addJob(job, true);\n\n// Immediately fire the Job MyJob.class\nscheduler.triggerJob(jobKey);\n</code></pre>\n<p>However, the job never seems to run. Even when debugging, I'm seeing that the breakpoints for the code inside the job are never hit. I only ever saw them being hit once and that was during a debugging sessions, but so far, have been unable to replicate that behavior.</p>\n<p>This leads me to think that the jobs are misfiring. But I don't have much experience with quartz or dropwizard-jobs, so am unsure how to debug/troubleshoot or what the underlying cause could be. I'm wondering if the cause could be that the MyJob.class we are using, uses hk2 dependency injection, and perhaps we are unable to invoke the job like this as a result. But I'm not sure</p>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":6553933,"reputation":113,"user_id":5067319,"accept_rate":60,"display_name":"talmosko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439366026,"creation_date":1439366026,"answer_id":31959208,"question_id":31948124,"body_markdown":"so the problem is solved.\r\nthis is very strange but there is a problem with using &#39;for&#39; loop for iterating on cursor. so dont do it like i did it, use &#39;while&#39; loop:\r\n\r\n    while(cursor.hasNext())\r\n    {\r\n          DBObject next = cursor.next();\r\n    }","title":"mongoDB: cursor notimeout setting isn&#39;t working in java client","body":"<p>so the problem is solved.\nthis is very strange but there is a problem with using 'for' loop for iterating on cursor. so dont do it like i did it, use 'while' loop:</p>\n\n<pre><code>while(cursor.hasNext())\n{\n      DBObject next = cursor.next();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8050499,"reputation":11,"user_id":6069206,"display_name":"bigempire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464083545,"creation_date":1464083545,"answer_id":37410099,"question_id":31948124,"body_markdown":"before use cursor.hasNext() and cursor.next() to do business logical, just before you get the mongo cursor, invoke FindIterable object&#39;s noCursorTimeout(true) method. for example:\r\n\r\n    FindIterable&lt;Document&gt; findIterable = sentenceColl.find(condition);\r\n    // set no timeout\r\n    findIterable.noCursorTimeout(true);\r\n    MongoCursor&lt;Document&gt; mongoCursor = findIterable.iterator();\r\n    \r\n    while (mongoCursor.hasNext()) {\r\n        mongoCursor.next();\r\n    }","title":"mongoDB: cursor notimeout setting isn&#39;t working in java client","body":"<p>before use cursor.hasNext() and cursor.next() to do business logical, just before you get the mongo cursor, invoke FindIterable object's noCursorTimeout(true) method. for example:</p>\n\n<pre><code>FindIterable&lt;Document&gt; findIterable = sentenceColl.find(condition);\n// set no timeout\nfindIterable.noCursorTimeout(true);\nMongoCursor&lt;Document&gt; mongoCursor = findIterable.iterator();\n\nwhile (mongoCursor.hasNext()) {\n    mongoCursor.next();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1180655,"reputation":1786,"user_id":1155642,"display_name":"jbochniak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496825202,"creation_date":1496825202,"answer_id":44407799,"question_id":31948124,"body_markdown":"Looks like you are not able to process each batch within time limit. Try reducing batch size so that each batch could be consumed before time runs out. This should help.\r\n```\r\ncursor.addOption(com.mongodb.Bytes.QUERYOPTION_NOTIMEOUT).batchSize(100)\r\n```\r\n\r\n","title":"mongoDB: cursor notimeout setting isn&#39;t working in java client","body":"<p>Looks like you are not able to process each batch within time limit. Try reducing batch size so that each batch could be consumed before time runs out. This should help.\n<code>\ncursor.addOption(com.mongodb.Bytes.QUERYOPTION_NOTIMEOUT).batchSize(100)\n</code></p>\n"},{"tags":[],"owner":{"account_id":1638765,"reputation":1,"user_id":1511614,"display_name":"skywalker81"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499093276,"creation_date":1499093276,"answer_id":44888539,"question_id":31948124,"body_markdown":"try this:\r\n\r\n    Iterator&lt;BasicDBObject&gt; it = null;\r\n    it = coll.find(&quot;{&quot;field&quot;: {$in:#}}&quot;, fieldList).with(\r\n            new QueryModifier() {\r\n              public void modify(DBCursor cursor) {\r\n                  cursor.setOptions(Bytes.QUERYOPTION_NOTIMEOUT);\r\n              }\r\n            }\r\n        ).as(BasicDBObject.class);\r\n\r\n","title":"mongoDB: cursor notimeout setting isn&#39;t working in java client","body":"<p>try this:</p>\n\n<pre><code>Iterator&lt;BasicDBObject&gt; it = null;\nit = coll.find(\"{\"field\": {$in:#}}\", fieldList).with(\n        new QueryModifier() {\n          public void modify(DBCursor cursor) {\n              cursor.setOptions(Bytes.QUERYOPTION_NOTIMEOUT);\n          }\n        }\n    ).as(BasicDBObject.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194080,"reputation":998,"user_id":436183,"accept_rate":75,"display_name":"Jeryl Cook"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681788102,"creation_date":1681782976,"answer_id":76040514,"question_id":31948124,"body_markdown":"None of these answers worked for me. Long-running units of work that do not call curious.next() in a timely fashion will result in the  `Query failed with error code -5 and error message &#39;Cursor XXXX not found&#39; error.`\r\n\r\nperform the unit of work in a Thread and quickly go to the next cursor.next();\r\n\r\n\r\n    MongoCollection&lt;Document&gt; collection = mongoTemplate.getCollection(&quot;eASIZipPlus4&quot;); \r\n    \t\t\r\n    \t\tDocument query = new Document( );\r\n     \t    FindIterable&lt;Document&gt; findIterable =  collection.find().filter(query);\r\n    \t    findIterable.noCursorTimeout(true);//does not work still get -5 error.\r\n    \t    MongoCursor&lt;Document&gt; cursor = findIterable.iterator();\r\n    \t    \r\n     \t     while(cursor.hasNext()){\r\n     \t    \t Document document = (Document) cursor.next();\t    \t \r\n     \t    \t EASIZipPlus4 eaSIZip   = mongoTemplate.getConverter().read(EASIZipPlus4.class, document); \t    \t \r\n     \t    \t RunnableEASIServiceImpl runnableEASIServiceImpl = new RunnableEASIServiceImpl(mongoTemplate, mongoOperations,httpClient);\r\n     \t    \t runnableEASIServiceImpl.seteASIZipPlus4(eaSIZip);\r\n     \t    \t executionService.execute(runnableEASIServiceImpl); \t    \t\r\n     \t     }\r\n\r\n\r\n\r\nthe RunnableEASI..\r\n\r\n    public class RunnableEASIServiceImpl implements RunnableEASIService, Runnable {\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\t//long running unit of work//.\r\n    ...","title":"mongoDB: cursor notimeout setting isn&#39;t working in java client","body":"<p>None of these answers worked for me. Long-running units of work that do not call curious.next() in a timely fashion will result in the  <code>Query failed with error code -5 and error message 'Cursor XXXX not found' error.</code></p>\n<p>perform the unit of work in a Thread and quickly go to the next cursor.next();</p>\n<pre><code>MongoCollection&lt;Document&gt; collection = mongoTemplate.getCollection(&quot;eASIZipPlus4&quot;); \n        \n        Document query = new Document( );\n        FindIterable&lt;Document&gt; findIterable =  collection.find().filter(query);\n        findIterable.noCursorTimeout(true);//does not work still get -5 error.\n        MongoCursor&lt;Document&gt; cursor = findIterable.iterator();\n        \n         while(cursor.hasNext()){\n             Document document = (Document) cursor.next();           \n             EASIZipPlus4 eaSIZip   = mongoTemplate.getConverter().read(EASIZipPlus4.class, document);           \n             RunnableEASIServiceImpl runnableEASIServiceImpl = new RunnableEASIServiceImpl(mongoTemplate, mongoOperations,httpClient);\n             runnableEASIServiceImpl.seteASIZipPlus4(eaSIZip);\n             executionService.execute(runnableEASIServiceImpl);             \n         }\n</code></pre>\n<p>the RunnableEASI..</p>\n<pre><code>public class RunnableEASIServiceImpl implements RunnableEASIService, Runnable {\n    @Override\n    public void run() {\n        //long running unit of work//.\n...\n</code></pre>\n"}],"owner":{"account_id":6553933,"reputation":113,"user_id":5067319,"accept_rate":60,"display_name":"talmosko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3894,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1681788102,"creation_date":1439313693,"question_id":31948124,"body_markdown":"i set an &#39;notimeout&#39; option to a dbcursor in java:\r\n\r\n   \r\n        BasicDBObject nearbyQueries = new BasicDBObject(&quot;$gt&quot;, 0)\r\n                .append(&quot;$lte&quot;, 2);\r\n        DBCursor trueClassInstances = locationsCollection.find(new BasicDBObject(&quot;distanceFromHotel&quot;, nearbyQueries)).addOption(Bytes.QUERYOPTION_NOTIMEOUT).limit(100000);\r\n        double counter = 0;\r\n        int currentPresent = 0;\r\n        for (DBObject instance : trueClassInstances) {\r\n            \r\n            ...\r\n        }\r\n\r\neven with this option i set, this exception is thrown:\r\n\r\n    Exception in thread &quot;main&quot; com.mongodb.MongoCursorNotFoundException: Query failed with error code -5 and error message &#39;Cursor 1876954464377 not found on server XXXXXX:27017&#39; on server XXXXXXXX:27017\r\n    \tat com.mongodb.connection.GetMoreProtocol.receiveMessage(GetMoreProtocol.java:115)\r\n    \tat com.mongodb.connection.GetMoreProtocol.execute(GetMoreProtocol.java:68)\r\n    \tat com.mongodb.connection.GetMoreProtocol.execute(GetMoreProtocol.java:37)\r\n    \tat com.mongodb.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:155)\r\n    \tat com.mongodb.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:219)\r\n    \tat com.mongodb.connection.DefaultServerConnection.getMore(DefaultServerConnection.java:194)\r\n    \tat com.mongodb.operation.QueryBatchCursor.getMore(QueryBatchCursor.java:197)\r\n    \tat com.mongodb.operation.QueryBatchCursor.hasNext(QueryBatchCursor.java:93)\r\n    \tat com.mongodb.MongoBatchCursorAdapter.hasNext(MongoBatchCursorAdapter.java:46)\r\n    \tat com.mongodb.DBCursor.hasNext(DBCursor.java:152)\r\n    \tat locationExtraction.DistanceClassification.FeatureAnalyzer.main(FeatureAnalyzer.java:27)\r\n\r\nFeatureAnalyzer.java:27 is the for loop line.\r\n\r\nthis problem appear in other project with similar setting...\r\n\r\nwhat am i doing wrong? maybe my choice of &#39;for&#39; loop instead of this kind of iteration can cause this strange behavior?\r\n\r\n    while(cursor.hasNext())\r\n    {\r\n          DBObject next = cursor.next();\r\n    }\r\n\r\n\r\nThanks\r\n","title":"mongoDB: cursor notimeout setting isn&#39;t working in java client","body":"<p>i set an 'notimeout' option to a dbcursor in java:</p>\n\n<pre><code>    BasicDBObject nearbyQueries = new BasicDBObject(\"$gt\", 0)\n            .append(\"$lte\", 2);\n    DBCursor trueClassInstances = locationsCollection.find(new BasicDBObject(\"distanceFromHotel\", nearbyQueries)).addOption(Bytes.QUERYOPTION_NOTIMEOUT).limit(100000);\n    double counter = 0;\n    int currentPresent = 0;\n    for (DBObject instance : trueClassInstances) {\n\n        ...\n    }\n</code></pre>\n\n<p>even with this option i set, this exception is thrown:</p>\n\n<pre><code>Exception in thread \"main\" com.mongodb.MongoCursorNotFoundException: Query failed with error code -5 and error message 'Cursor 1876954464377 not found on server XXXXXX:27017' on server XXXXXXXX:27017\n    at com.mongodb.connection.GetMoreProtocol.receiveMessage(GetMoreProtocol.java:115)\n    at com.mongodb.connection.GetMoreProtocol.execute(GetMoreProtocol.java:68)\n    at com.mongodb.connection.GetMoreProtocol.execute(GetMoreProtocol.java:37)\n    at com.mongodb.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:155)\n    at com.mongodb.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:219)\n    at com.mongodb.connection.DefaultServerConnection.getMore(DefaultServerConnection.java:194)\n    at com.mongodb.operation.QueryBatchCursor.getMore(QueryBatchCursor.java:197)\n    at com.mongodb.operation.QueryBatchCursor.hasNext(QueryBatchCursor.java:93)\n    at com.mongodb.MongoBatchCursorAdapter.hasNext(MongoBatchCursorAdapter.java:46)\n    at com.mongodb.DBCursor.hasNext(DBCursor.java:152)\n    at locationExtraction.DistanceClassification.FeatureAnalyzer.main(FeatureAnalyzer.java:27)\n</code></pre>\n\n<p>FeatureAnalyzer.java:27 is the for loop line.</p>\n\n<p>this problem appear in other project with similar setting...</p>\n\n<p>what am i doing wrong? maybe my choice of 'for' loop instead of this kind of iteration can cause this strange behavior?</p>\n\n<pre><code>while(cursor.hasNext())\n{\n      DBObject next = cursor.next();\n}\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["java","web-services","apache-axis"],"comments":[{"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"score":0,"creation_date":1407510073,"post_id":8935581,"comment_id":39256370,"body_markdown":"Issue still exists in axis2 1.6.2.","body":"Issue still exists in axis2 1.6.2."}],"answers":[{"tags":[],"owner":{"account_id":1132796,"reputation":196,"user_id":1118482,"accept_rate":86,"display_name":"Linuxstartway"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1327072975,"creation_date":1327072975,"answer_id":8943684,"question_id":8935581,"body_markdown":"If you know the temp directory path, You may run **rm -rf /path/to/temp/*** every 6 , 12 ..etc through cron.\r\n\r\nOr you may write bashscript of you are running on linux system to empty this directory if it reaches a specific size. And put it also in crontab.","title":"How to delete apache axis tmp files without restarting","body":"<p>If you know the temp directory path, You may run <strong>rm -rf /path/to/temp/*</strong> every 6 , 12 ..etc through cron.</p>\n\n<p>Or you may write bashscript of you are running on linux system to empty this directory if it reaches a specific size. And put it also in crontab.</p>\n"},{"tags":[],"owner":{"account_id":189885,"reputation":751,"user_id":429490,"accept_rate":41,"display_name":"AmbGup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1327401113,"creation_date":1327400670,"answer_id":8985176,"question_id":8935581,"body_markdown":"I counldn&#39;t find any other way other then restart every day. Unless you stop the process it will not allow to delete the tmp files. I have changed System Property `&quot;java.io.tmpdir&quot;` to some other location with more disk space, so that atleast it will  not run out of disk space.\r\n    \r\n    System.setProperty(&quot;java.io.tmpdir&quot;,&quot;/opt/Axis2Temp&quot;); \r\n\r\nSecondly there is another issue related with these files, after runnng app for few hours it will throw Too many open files Exception as below: \r\n\r\n&gt;org.springframework.scheduling.quartz.SchedulerFactoryBean#0_Worker-7 org.apache.axis2.deployment.util.Utils.[createClassLoader] (856) - Exception extracting jars into temporary directory : java.io.FileNotFoundException: /tmp/axis2-tmp-9161756920591296931.tmp/axis21477916618765108874addressing-1.6.0.mar (Too many open files) : switching to alternate class loading mechanism\r\n    \r\n&gt;org.springframework.scheduling.quartz.SchedulerFactoryBean#0_Worker-7 org.apache.axis2.deployment.util.Utils.[createClassLoader] (860) - java.io.FileNotFoundException: /tmp/axis2-tmp-9161756920591296931.tmp/axis21477916618765108874addressing-1.6.0.mar (Too many open files)\r\n\r\nTo address this problem I have increased the ulimit for open files to 4000. ","title":"How to delete apache axis tmp files without restarting","body":"<p>I counldn't find any other way other then restart every day. Unless you stop the process it will not allow to delete the tmp files. I have changed System Property <code>\"java.io.tmpdir\"</code> to some other location with more disk space, so that atleast it will  not run out of disk space.</p>\n\n<pre><code>System.setProperty(\"java.io.tmpdir\",\"/opt/Axis2Temp\"); \n</code></pre>\n\n<p>Secondly there is another issue related with these files, after runnng app for few hours it will throw Too many open files Exception as below: </p>\n\n<blockquote>\n  <p>org.springframework.scheduling.quartz.SchedulerFactoryBean#0_Worker-7 org.apache.axis2.deployment.util.Utils.[createClassLoader] (856) - Exception extracting jars into temporary directory : java.io.FileNotFoundException: /tmp/axis2-tmp-9161756920591296931.tmp/axis21477916618765108874addressing-1.6.0.mar (Too many open files) : switching to alternate class loading mechanism</p>\n  \n  <p>org.springframework.scheduling.quartz.SchedulerFactoryBean#0_Worker-7 org.apache.axis2.deployment.util.Utils.[createClassLoader] (860) - java.io.FileNotFoundException: /tmp/axis2-tmp-9161756920591296931.tmp/axis21477916618765108874addressing-1.6.0.mar (Too many open files)</p>\n</blockquote>\n\n<p>To address this problem I have increased the ulimit for open files to 4000. </p>\n"},{"tags":[],"owner":{"account_id":328597,"reputation":473,"user_id":651654,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343747549,"creation_date":1343747549,"answer_id":11743298,"question_id":8935581,"body_markdown":"I&#39;ve been looking at the same problem, and it looks like it might be fixed in version 1.7.0:\r\n\r\nhttps://issues.apache.org/jira/browse/AXIS2-3919\r\n\r\nI haven&#39;t tried it yet, but I&#39;ll update this comment once I do.\r\n\r\n","title":"How to delete apache axis tmp files without restarting","body":"<p>I've been looking at the same problem, and it looks like it might be fixed in version 1.7.0:</p>\n\n<p><a href=\"https://issues.apache.org/jira/browse/AXIS2-3919\" rel=\"nofollow\">https://issues.apache.org/jira/browse/AXIS2-3919</a></p>\n\n<p>I haven't tried it yet, but I'll update this comment once I do.</p>\n"},{"tags":[],"owner":{"account_id":162302,"reputation":1570,"user_id":383673,"display_name":"Anton"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1392226115,"creation_date":1392226115,"answer_id":21735180,"question_id":8935581,"body_markdown":"We found a programmatic way to avoid generation of those files - which sounds like a better way to do the housekeeping. I posted that [in the comments][1] of [AXIS2-3919][2] issue, but will copy it here just in case:\r\n\r\n----\r\n\r\nActually, the files are deployed to the temp folder each time AXIS configuration context is created. Also, it appears that the generated Stub can accept existing configuration object via the constructor. So, the following Spring configuration helped us to solve the issue (irrelevant bean and class names dropped):\r\n\r\n\t&lt;bean id=&quot;....Stub&quot; factory-bean=&quot;....&quot; factory-method=&quot;....&quot; scope=&quot;request&quot;&gt;\r\n\t\t&lt;!-- this next element effects the proxying of the surrounding bean, \r\n\t\t\tneeded because .... will try to set the stub out of request scope --&gt;\r\n\t\t&lt;aop:scoped-proxy/&gt;\r\n\t\t&lt;constructor-arg index=&quot;0&quot; &gt;\r\n\t\t\t&lt;!-- The WS stub is created here, and passed to the factory-method of ... as a parameter --&gt;\r\n\t\t\t&lt;bean class=&quot;com......ws.....Stub&quot; scope=&quot;prototype&quot;&gt;\r\n\t\t\t\t&lt;constructor-arg ref=&quot;axisConfigContext&quot; /&gt;\r\n\t\t\t&lt;/bean&gt;\r\n\t\t&lt;/constructor-arg&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\t&lt;!-- Exists to avoid deployment of axis jar into temp dir for each request. See \tAXIS2-3919 for more details. --&gt;\r\n\t&lt;bean id=&quot;axisConfigContext&quot; \r\n\t\t\tclass=&quot;org.apache.axis2.context.ConfigurationContextFactory&quot; \r\n\t\t\tfactory-method=&quot;createConfigurationContextFromFileSystem&quot;&gt;\r\n\t\t&lt;constructor-arg index=&quot;0&quot;&gt;&lt;null /&gt;&lt;/constructor-arg&gt;\r\n\t\t&lt;constructor-arg index=&quot;1&quot;&gt;&lt;null /&gt;&lt;/constructor-arg&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/AXIS2-3919?focusedCommentId=13899296&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13899296\r\n  [2]: https://issues.apache.org/jira/browse/AXIS2-3919","title":"How to delete apache axis tmp files without restarting","body":"<p>We found a programmatic way to avoid generation of those files - which sounds like a better way to do the housekeeping. I posted that <a href=\"https://issues.apache.org/jira/browse/AXIS2-3919?focusedCommentId=13899296&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13899296\" rel=\"noreferrer\">in the comments</a> of <a href=\"https://issues.apache.org/jira/browse/AXIS2-3919\" rel=\"noreferrer\">AXIS2-3919</a> issue, but will copy it here just in case:</p>\n\n<hr>\n\n<p>Actually, the files are deployed to the temp folder each time AXIS configuration context is created. Also, it appears that the generated Stub can accept existing configuration object via the constructor. So, the following Spring configuration helped us to solve the issue (irrelevant bean and class names dropped):</p>\n\n<pre><code>&lt;bean id=\"....Stub\" factory-bean=\"....\" factory-method=\"....\" scope=\"request\"&gt;\n    &lt;!-- this next element effects the proxying of the surrounding bean, \n        needed because .... will try to set the stub out of request scope --&gt;\n    &lt;aop:scoped-proxy/&gt;\n    &lt;constructor-arg index=\"0\" &gt;\n        &lt;!-- The WS stub is created here, and passed to the factory-method of ... as a parameter --&gt;\n        &lt;bean class=\"com......ws.....Stub\" scope=\"prototype\"&gt;\n            &lt;constructor-arg ref=\"axisConfigContext\" /&gt;\n        &lt;/bean&gt;\n    &lt;/constructor-arg&gt;\n&lt;/bean&gt;\n\n&lt;!-- Exists to avoid deployment of axis jar into temp dir for each request. See     AXIS2-3919 for more details. --&gt;\n&lt;bean id=\"axisConfigContext\" \n        class=\"org.apache.axis2.context.ConfigurationContextFactory\" \n        factory-method=\"createConfigurationContextFromFileSystem\"&gt;\n    &lt;constructor-arg index=\"0\"&gt;&lt;null /&gt;&lt;/constructor-arg&gt;\n    &lt;constructor-arg index=\"1\"&gt;&lt;null /&gt;&lt;/constructor-arg&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6151441,"reputation":1,"user_id":4795748,"display_name":"Matthew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429176875,"creation_date":1429175533,"answer_id":29670238,"question_id":8935581,"body_markdown":"I have come across this exact problem recently and it is a show stopper for us.  I have a couple of solutions: \r\n\r\n 1. set the java.io.tmpdir to a directory that does not exist. There may be some undesirable consequences to this!\r\n 2. Create a bespoke version of org.apache.axis2.deployment.util.Utils and edit the createClassLoader function. Deploy this in the class path before the axis library. This function takes a boolean extractJars which causes the file to be copied, if that is not possible (e.g. if the tmp dir does not exist) then the class loader will work off the original copy of the jar. Again there may be some undesirable consequences to this. There are a number of variations on this theme, I also looked at adding some code to create just a single copy of the jar but I think this solution is nicer since it uses the existing functionality. Here is my version of the function:\r\n\r\n        public static ClassLoader createClassLoader (URL[] urls,\r\n                                            ClassLoader serviceClassLoader,\r\n                                            boolean extractJars,\r\n                                            File tmpDir,\r\n                                            boolean  isChildFirstClassLoading) {\r\n        List embedded_jars = Utils.findLibJars(urls[0]);\r\n        return createDeploymentClassLoader(urls, serviceClassLoader,\r\n                                       embedded_jars, isChildFirstClassLoading);\r\n        }\r\n\r\nI hope this helps.","title":"How to delete apache axis tmp files without restarting","body":"<p>I have come across this exact problem recently and it is a show stopper for us.  I have a couple of solutions: </p>\n\n<ol>\n<li>set the java.io.tmpdir to a directory that does not exist. There may be some undesirable consequences to this!</li>\n<li><p>Create a bespoke version of org.apache.axis2.deployment.util.Utils and edit the createClassLoader function. Deploy this in the class path before the axis library. This function takes a boolean extractJars which causes the file to be copied, if that is not possible (e.g. if the tmp dir does not exist) then the class loader will work off the original copy of the jar. Again there may be some undesirable consequences to this. There are a number of variations on this theme, I also looked at adding some code to create just a single copy of the jar but I think this solution is nicer since it uses the existing functionality. Here is my version of the function:</p>\n\n<pre><code>public static ClassLoader createClassLoader (URL[] urls,\n                                    ClassLoader serviceClassLoader,\n                                    boolean extractJars,\n                                    File tmpDir,\n                                    boolean  isChildFirstClassLoading) {\nList embedded_jars = Utils.findLibJars(urls[0]);\nreturn createDeploymentClassLoader(urls, serviceClassLoader,\n                               embedded_jars, isChildFirstClassLoading);\n}\n</code></pre></li>\n</ol>\n\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":4783850,"reputation":6978,"user_id":3864917,"accept_rate":100,"display_name":"Vikas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488867389,"creation_date":1488862519,"answer_id":42640510,"question_id":8935581,"body_markdown":"Temp files are created whenever a new ConfigurationContext is created. So create a ConfigurationContext only once in a static block and use it in all the subsequent calls.\r\n\r\n    private static ConfigurationContext configContext;\r\n\r\n    static {\r\n         configContext = ConfigurationContextFactory.createConfigurationContextFromFileSystem(null, null);\r\n    }\r\n\r\n    public callService() {\r\n        Stub stub = new Stub(configContext, END_POINT_URL);\r\n        //code\r\n    }\r\n       \r\nIf you don&#39;t pass a context, axis2 will create a new context on each call.","title":"How to delete apache axis tmp files without restarting","body":"<p>Temp files are created whenever a new ConfigurationContext is created. So create a ConfigurationContext only once in a static block and use it in all the subsequent calls.</p>\n\n<pre><code>private static ConfigurationContext configContext;\n\nstatic {\n     configContext = ConfigurationContextFactory.createConfigurationContextFromFileSystem(null, null);\n}\n\npublic callService() {\n    Stub stub = new Stub(configContext, END_POINT_URL);\n    //code\n}\n</code></pre>\n\n<p>If you don't pass a context, axis2 will create a new context on each call.</p>\n"},{"tags":[],"owner":{"account_id":10831104,"reputation":21,"user_id":7965464,"display_name":"IVRCoder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1495457231,"creation_date":1493930615,"answer_id":43792448,"question_id":8935581,"body_markdown":"I tried the solution (provided by proudandhonour) of creating static block and it works great. It only creates temp files for the first request. I also update uilimit on Linux server to 16000. Now I don&#39;t need to delete temp files.\r\n\r\n\r\n    private static ConfigurationContext configContext; \r\n    static{   \r\n       configContext = ConfigurationContextFactory.createConfigurationContextFromFileSystem(null, null);  \r\n    }\r\n\r\n\r\n \r\n","title":"How to delete apache axis tmp files without restarting","body":"<p>I tried the solution (provided by proudandhonour) of creating static block and it works great. It only creates temp files for the first request. I also update uilimit on Linux server to 16000. Now I don't need to delete temp files.</p>\n\n<pre><code>private static ConfigurationContext configContext; \nstatic{   \n   configContext = ConfigurationContextFactory.createConfigurationContextFromFileSystem(null, null);  \n}\n</code></pre>\n"}],"owner":{"account_id":177338,"reputation":7283,"user_id":408598,"accept_rate":83,"display_name":"Programming Guy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11673,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":8943684,"answer_count":7,"score":3,"last_activity_date":1681787514,"creation_date":1327021453,"question_id":8935581,"body_markdown":"We&#39;re using apache axis to talk to a web service. It works fine, but over the course of a day we&#39;re generating 1GB of temp files. These files are deleted if we restart the service, but needing to restart the service every day so we don&#39;t run out of disk space seems a bit silly.\r\n\r\nIs there an easy fix for this?","title":"How to delete apache axis tmp files without restarting","body":"<p>We're using apache axis to talk to a web service. It works fine, but over the course of a day we're generating 1GB of temp files. These files are deleted if we restart the service, but needing to restart the service every day so we don't run out of disk space seems a bit silly.</p>\n\n<p>Is there an easy fix for this?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1681786791,"post_id":76040743,"comment_id":134109476,"body_markdown":"https://stackoverflow.com/q/13351003","body":"<a href=\"https://stackoverflow.com/q/13351003\">stackoverflow.com/q/13351003</a>"}],"owner":{"account_id":28335530,"reputation":11,"user_id":21669132,"display_name":"Study tester"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1681787003,"answer_count":0,"score":0,"last_activity_date":1681786643,"creation_date":1681786643,"question_id":76040743,"body_markdown":"Have any possibility in java/kotlin\r\n\r\nQ.\r\nI have Resources&gt;Drawable&gt;image.xml\r\nand in Activity\r\nString assume = &quot;image&quot;;/&quot; image.xml&quot;\r\n\r\ncan i set Drawable like iv.setImageResourse(R.drawable.assume);\r\n\r\nany solution??","title":"Can i set string concatenation in Resources id?","body":"<p>Have any possibility in java/kotlin</p>\n<p>Q.\nI have Resources&gt;Drawable&gt;image.xml\nand in Activity\nString assume = &quot;image&quot;;/&quot; image.xml&quot;</p>\n<p>can i set Drawable like iv.setImageResourse(R.drawable.assume);</p>\n<p>any solution??</p>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1681797289,"post_id":76040705,"comment_id":134110101,"body_markdown":"It&#39;s not possible to do what you are trying to achive.","body":"It&#39;s not possible to do what you are trying to achive."},{"owner":{"account_id":3223009,"reputation":31,"user_id":2719955,"display_name":"eiljoe"},"score":0,"creation_date":1681804823,"post_id":76040705,"comment_id":134111591,"body_markdown":"see: https://stackoverflow.com/questions/12201878/specifying-jvm-heap-sizes-in-jar","body":"see: <a href=\"https://stackoverflow.com/questions/12201878/specifying-jvm-heap-sizes-in-jar\" title=\"specifying jvm heap sizes in jar\">stackoverflow.com/questions/12201878/&hellip;</a>"}],"owner":{"account_id":28307768,"reputation":1,"user_id":21645497,"display_name":"Abdelrahman Tolba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681785867,"creation_date":1681785867,"question_id":76040705,"body_markdown":"I want to set the maximum heap size of my application , now i am able to achieve that by specifying the max heap size in the running command like this :  java -jar  -Xmx1g app.jar \r\n\r\nhowever i want to embed this information during the build process such that when i build it and run normally java -jar app.jar . it runs with a maximum set heap size\r\n\r\n\r\n\r\ni tried to set jvmArgs in bootJar task but jvmArgs is not recognized as a property of bootJar \r\n\r\ni also looked for any property to be added to application.preperties all i found was a way to set the max heap size during the build process\r\n\r\nso is there any way to achieve that without explicitly mentioning the max size in the running command \r\n\r\nso the desired sequence is :\r\n 1-./gradlew build \r\n 2- java -jar app.jar \r\n\r\nthen the running jar will have the desired max heap size \r\n   ","title":"Setting Max Heap Size","body":"<p>I want to set the maximum heap size of my application , now i am able to achieve that by specifying the max heap size in the running command like this :  java -jar  -Xmx1g app.jar</p>\n<p>however i want to embed this information during the build process such that when i build it and run normally java -jar app.jar . it runs with a maximum set heap size</p>\n<p>i tried to set jvmArgs in bootJar task but jvmArgs is not recognized as a property of bootJar</p>\n<p>i also looked for any property to be added to application.preperties all i found was a way to set the max heap size during the build process</p>\n<p>so is there any way to achieve that without explicitly mentioning the max size in the running command</p>\n<p>so the desired sequence is :\n1-./gradlew build\n2- java -jar app.jar</p>\n<p>then the running jar will have the desired max heap size</p>\n"},{"tags":["java","xml","apache-axis"],"comments":[{"owner":{"account_id":54418,"reputation":20355,"user_id":162792,"accept_rate":100,"display_name":"Andrey Adamovich"},"score":0,"creation_date":1276549015,"post_id":2196583,"comment_id":3111324,"body_markdown":"How exactly do you send your payload? Through a generated client or DII?","body":"How exactly do you send your payload? Through a generated client or DII?"}],"answers":[{"tags":[],"owner":{"account_id":23217,"reputation":2391,"user_id":58005,"accept_rate":75,"display_name":"Caoilte"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1278164298,"creation_date":1278164298,"answer_id":3171655,"question_id":2196583,"body_markdown":"I had exactly this problem and the only way that I was able to solve it was by overriding the XMLEncoder which ships with Apache Axis 1.4.\r\n\r\nI used [Jad][1] to decompile the `com.org.apache.axis.components.encoding.UTF8Encoder`, copied the code into my own class and commented out the `&amp;`, `&quot;`, `&lt;` and  `&gt;` case statements.\r\n\r\nTo configure Axis to use this new Encoder you also have to create a \r\n\r\n`META-INF/services/org.apache.axis.components.encoding.XMLEncoder` \r\n\r\nfile containing just the FQDN of your new class.\r\n\r\n[1]: http://jadclipse.sourceforge.net/wiki/index.php/Main_Page","title":"Apache Axis 1.x xml payload","body":"<p>I had exactly this problem and the only way that I was able to solve it was by overriding the XMLEncoder which ships with Apache Axis 1.4.</p>\n\n<p>I used <a href=\"http://jadclipse.sourceforge.net/wiki/index.php/Main_Page\" rel=\"nofollow noreferrer\">Jad</a> to decompile the <code>com.org.apache.axis.components.encoding.UTF8Encoder</code>, copied the code into my own class and commented out the <code>&amp;</code>, <code>\"</code>, <code>&lt;</code> and  <code>&gt;</code> case statements.</p>\n\n<p>To configure Axis to use this new Encoder you also have to create a </p>\n\n<p><code>META-INF/services/org.apache.axis.components.encoding.XMLEncoder</code> </p>\n\n<p>file containing just the FQDN of your new class.</p>\n"}],"owner":{"account_id":18481,"reputation":1219,"user_id":42375,"accept_rate":100,"display_name":"SacramentoJoe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":657,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":3171655,"answer_count":1,"score":1,"last_activity_date":1681784403,"creation_date":1265243760,"question_id":2196583,"body_markdown":"I&#39;m using apache axis to consume a few SOAP operations. The web service I&#39;m talking to takes XML as one of the payload inputs. I noticed that Axis is encoding the non xml friendly characters. IE `&lt; &gt;` to `&amp;alt;` etc.. etc..\r\n\r\nHow can I tell apache Axis to allow my payload to go over un-encoded?\r\n","title":"Apache Axis 1.x xml payload","body":"<p>I'm using apache axis to consume a few SOAP operations. The web service I'm talking to takes XML as one of the payload inputs. I noticed that Axis is encoding the non xml friendly characters. IE <code>&lt; &gt;</code> to <code>&amp;alt;</code> etc.. etc..</p>\n\n<p>How can I tell apache Axis to allow my payload to go over un-encoded?</p>\n"},{"tags":["c#","java","session","ssh"],"comments":[{"owner":{"account_id":49796,"reputation":7155,"user_id":148415,"accept_rate":80,"display_name":"IanNorton"},"score":0,"creation_date":1331018374,"post_id":9579448,"comment_id":12146952,"body_markdown":"Do you want the content of the ssh session? (like what they type or what files they send?) or the ssh protocol level exchanges? Either way, you cannot snoop on the ssh traffic without knowledge of the keys involved. Why do you want to do this?","body":"Do you want the content of the ssh session? (like what they type or what files they send?) or the ssh protocol level exchanges? Either way, you cannot snoop on the ssh traffic without knowledge of the keys involved. Why do you want to do this?"},{"owner":{"account_id":322765,"reputation":1000,"user_id":642368,"accept_rate":43,"display_name":"Mohyt"},"score":0,"creation_date":1331019632,"post_id":9579448,"comment_id":12147260,"body_markdown":"I want some methods like BeforeRequest,BeforeResponse etc.\nI have access of keys.","body":"I want some methods like BeforeRequest,BeforeResponse etc. I have access of keys."}],"answers":[{"tags":[],"owner":{"account_id":466882,"reputation":38261,"user_id":871910,"accept_rate":58,"display_name":"zmbq"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1331018332,"creation_date":1331018332,"answer_id":9579469,"question_id":9579448,"body_markdown":"You want to see the *inside* of an SSH session from the outside? Do you have access the the keys involved? If not, you won&#39;t be able to do it.","title":"SSH Session Capture","body":"<p>You want to see the <em>inside</em> of an SSH session from the outside? Do you have access the the keys involved? If not, you won't be able to do it.</p>\n"},{"tags":[],"owner":{"account_id":27051,"reputation":7245,"user_id":70945,"accept_rate":86,"display_name":"weismat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1331020870,"creation_date":1331020870,"answer_id":9579877,"question_id":9579448,"body_markdown":"You should be able to do this via [Wireshark][1].&lt;br&gt;\r\nWrieshark uses libpcap/WinPcap  unter the hood in case you need an API.&lt;br&gt;\r\nLook through the [link list][2] for various APIs in .NET and Java.\r\n\r\n\r\n  [1]: http://www.wireshark.org/\r\n  [2]: http://www.winpcap.org/misc/links.htm","title":"SSH Session Capture","body":"<p>You should be able to do this via <a href=\"http://www.wireshark.org/\" rel=\"nofollow\">Wireshark</a>.<br>\nWrieshark uses libpcap/WinPcap  unter the hood in case you need an API.<br>\nLook through the <a href=\"http://www.winpcap.org/misc/links.htm\" rel=\"nofollow\">link list</a> for various APIs in .NET and Java.</p>\n"},{"tags":[],"owner":{"account_id":3830456,"reputation":377,"user_id":3176116,"display_name":"Derrick Johnson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681784007,"creation_date":1681784007,"answer_id":76040587,"question_id":9579448,"body_markdown":"Check out SSHLog: https://github.com/sshlog/agent/\r\n\r\nIt&#39;s a daemon that monitors SSH logins as well as user activity. All user activity (everything that happens on the shell) is passively recorded and available to inspect.  It supports piping to log files, statsd, Slack, and a few other things out of the box.\r\n\r\nIt has a plug-in architecture which natively uses Python, but you could bind your Java or C# code to it fairly easily.\r\n\r\n","title":"SSH Session Capture","body":"<p>Check out SSHLog: <a href=\"https://github.com/sshlog/agent/\" rel=\"nofollow noreferrer\">https://github.com/sshlog/agent/</a></p>\n<p>It's a daemon that monitors SSH logins as well as user activity. All user activity (everything that happens on the shell) is passively recorded and available to inspect.  It supports piping to log files, statsd, Slack, and a few other things out of the box.</p>\n<p>It has a plug-in architecture which natively uses Python, but you could bind your Java or C# code to it fairly easily.</p>\n"}],"owner":{"account_id":322765,"reputation":1000,"user_id":642368,"accept_rate":43,"display_name":"Mohyt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1020,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1681784007,"creation_date":1331018208,"question_id":9579448,"body_markdown":"I need to capture and monitor the ssh session through Java or C#.\r\nJust like Fiddler for Http.\r\n\r\n\r\nAny suggestion ?\r\n","title":"SSH Session Capture","body":"<p>I need to capture and monitor the ssh session through Java or C#.\nJust like Fiddler for Http.</p>\n\n<p>Any suggestion ?</p>\n"},{"tags":["java","file-io","io","try-catch"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1681782127,"post_id":76040437,"comment_id":134109072,"body_markdown":"Start by having a look at the [JavaDocs for `BufferedReader#readline`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/BufferedReader.html#readLine()), it clearly states *&quot;or null if the end of the stream has been reached without reading any characters&quot;*. Then look at your loop exit condition, `while (fileContents != null) {`, this would mean that `fileContents` will be `null` after the loops exit, which is why when you do `return fileContents;` you&#39;re return `null`","body":"Start by having a look at the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/BufferedReader.html#readLine()\" rel=\"nofollow noreferrer\">JavaDocs for <code>BufferedReader#readline</code></a>, it clearly states <i>&quot;or null if the end of the stream has been reached without reading any characters&quot;</i>. Then look at your loop exit condition, <code>while (fileContents != null) {</code>, this would mean that <code>fileContents</code> will be <code>null</code> after the loops exit, which is why when you do <code>return fileContents;</code> you&#39;re return <code>null</code>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681782172,"post_id":76040437,"comment_id":134109078,"body_markdown":"The question is, do you want to return a `String` of ALL the contents or do you want to parse each line of the file and return a `List` of values instead","body":"The question is, do you want to return a <code>String</code> of ALL the contents or do you want to parse each line of the file and return a <code>List</code> of values instead"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681782269,"post_id":76040437,"comment_id":134109089,"body_markdown":"If you just want to read the contents of the file, you could use [`Files#readAllLines`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/nio/file/Files.html#readAllLines(java.nio.file.Path)) which will return a `List&lt;String&gt;`","body":"If you just want to read the contents of the file, you could use <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/nio/file/Files.html#readAllLines(java.nio.file.Path)\" rel=\"nofollow noreferrer\"><code>Files#readAllLines</code></a> which will return a <code>List&lt;String&gt;</code>"},{"owner":{"account_id":25094713,"reputation":3,"user_id":18946017,"display_name":"burneracc86"},"score":0,"creation_date":1681782386,"post_id":76040437,"comment_id":134109096,"body_markdown":"@MadProgrammer I would like to return a String of all the contents.","body":"@MadProgrammer I would like to return a String of all the contents."},{"owner":{"account_id":25094713,"reputation":3,"user_id":18946017,"display_name":"burneracc86"},"score":0,"creation_date":1681782688,"post_id":76040437,"comment_id":134109124,"body_markdown":"@MadProgrammer ah I see. That while loop is there to read the next line in the file. I tried changing that parameter to reader.readLine() != null but then it only returns the second line from the file.","body":"@MadProgrammer ah I see. That while loop is there to read the next line in the file. I tried changing that parameter to reader.readLine() != null but then it only returns the second line from the file."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681782908,"post_id":76040437,"comment_id":134109144,"body_markdown":"You&#39;ve already read the first line, see my answer for more details","body":"You&#39;ve already read the first line, see my answer for more details"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681782757,"creation_date":1681782757,"answer_id":76040503,"question_id":76040437,"body_markdown":"Start by having a look at the [JavaDocs for BufferedReader#readline](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/BufferedReader.html#readLine()), it clearly states *&quot;or null if the end of the stream has been reached without reading any characters&quot;*. \r\n\r\nThen look at your loop exit condition, `while (fileContents != null) {`, this would mean that `fileContents` will be `null` after the loops exit, which is why when you do `return fileContents;` you&#39;re returning `null`\r\n\r\nIf you just want to return a single `String` representing the entire contents of the file, you could, instead, do something like...\r\n\r\n    public static String readTestResults(String fileName) {\r\n        try (BufferedReader reader = new BufferedReader(new FileReader(fileName))) {\r\n            StringJoiner joiner = new StringJoiner(System.lineSeparator());\r\n            String line = null;\r\n            while ((line = reader.readLine()) != null) {\r\n                joiner.add(line);\r\n            }\r\n            return joiner.toString();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\nNow, personally, I wouldn&#39;t consume the exception here, instead I&#39;d throw it, for example...\r\n\r\n    public static String readTestResults(String fileName) throws IOException {\r\n        try (BufferedReader reader = new BufferedReader(new FileReader(fileName))) {\r\n            StringJoiner joiner = new StringJoiner(System.lineSeparator());\r\n            String line = null;\r\n            while ((line = reader.readLine()) != null) {\r\n                joiner.add(line);\r\n            }\r\n            return joiner.toString();\r\n        }\r\n    }\r\n\r\nIt then becomes the responsibility of the caller to handle the error, which makes more sense then returning a `null` or empty `String`.\r\n\r\nYou may also find it easier use [`Files#readAllLines`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/nio/file/Files.html#readAllLines(java.nio.file.Path)) which will return a `List&lt;String&gt;` - this will be easier to parser IMHO.\r\n\r\nYou&#39;ll also want to take a look at [The try-with-resources Statement](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) to understand how that code is actually working and why you should be using it.","title":"Even though the try block can read the file, the method still returns null. How do I get it to return the expected string?","body":"<p>Start by having a look at the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/BufferedReader.html#readLine()\" rel=\"nofollow noreferrer\">JavaDocs for BufferedReader#readline</a>, it clearly states <em>&quot;or null if the end of the stream has been reached without reading any characters&quot;</em>.</p>\n<p>Then look at your loop exit condition, <code>while (fileContents != null) {</code>, this would mean that <code>fileContents</code> will be <code>null</code> after the loops exit, which is why when you do <code>return fileContents;</code> you're returning <code>null</code></p>\n<p>If you just want to return a single <code>String</code> representing the entire contents of the file, you could, instead, do something like...</p>\n<pre><code>public static String readTestResults(String fileName) {\n    try (BufferedReader reader = new BufferedReader(new FileReader(fileName))) {\n        StringJoiner joiner = new StringJoiner(System.lineSeparator());\n        String line = null;\n        while ((line = reader.readLine()) != null) {\n            joiner.add(line);\n        }\n        return joiner.toString();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    return null;\n}\n</code></pre>\n<p>Now, personally, I wouldn't consume the exception here, instead I'd throw it, for example...</p>\n<pre><code>public static String readTestResults(String fileName) throws IOException {\n    try (BufferedReader reader = new BufferedReader(new FileReader(fileName))) {\n        StringJoiner joiner = new StringJoiner(System.lineSeparator());\n        String line = null;\n        while ((line = reader.readLine()) != null) {\n            joiner.add(line);\n        }\n        return joiner.toString();\n    }\n}\n</code></pre>\n<p>It then becomes the responsibility of the caller to handle the error, which makes more sense then returning a <code>null</code> or empty <code>String</code>.</p>\n<p>You may also find it easier use <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/nio/file/Files.html#readAllLines(java.nio.file.Path)\" rel=\"nofollow noreferrer\"><code>Files#readAllLines</code></a> which will return a <code>List&lt;String&gt;</code> - this will be easier to parser IMHO.</p>\n<p>You'll also want to take a look at <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">The try-with-resources Statement</a> to understand how that code is actually working and why you should be using it.</p>\n"}],"owner":{"account_id":25094713,"reputation":3,"user_id":18946017,"display_name":"burneracc86"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76040503,"answer_count":1,"score":0,"last_activity_date":1681782757,"creation_date":1681781886,"question_id":76040437,"body_markdown":"So the test runs to see if the method can read the file and return its contents. I&#39;ve tried different alterations and this is what I&#39;ve come to so far. I was able to print out all the necessary contents in the while loop, but once outside that loop, fileContents returns &quot;null&quot;.\r\n\r\n```\r\npublic static String readTestResults(String fileName) {\r\n\r\n\t\tBufferedReader reader;\r\n\t\tString fileContents = &quot; &quot;;\r\n\r\n\t\ttry {\r\n\t\t\treader = new BufferedReader(new FileReader(fileName));\r\n\t\t\tfileContents = reader.readLine();\r\n\r\n\t\t\twhile (fileContents != null) {\r\n\t\t\t\tSystem.out.println(fileContents);\r\n\t\t\t\tfileContents = reader.readLine();\r\n\t\t\t}\r\n\t\t\treader.close();\r\n\t\t\tSystem.out.println(&quot;test: &quot; + fileContents);\r\n\t\t\treturn fileContents;\r\n\t\t}\r\n\r\n\t\tcatch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;Print if code reaches here&quot;);\r\n\t\treturn fileContents;\r\n```\r\n\r\n\r\n\r\nI&#39;ve added multiple print statements to try and pinpoint where the code could be bugged. It never reaches to final one. So far my results are:\r\n\r\n```\r\nAlex,Smith,99,A\r\nJolene,Schmidt,100,A\r\nMackinzie,Jensen,86,B\r\ntest: null\r\n```\r\nI need it to return just that list of names but just returns null.\r\n\r\nI believe it could be a format error of mine but as now I am stumped. Any help would be greatly appreciated!","title":"Even though the try block can read the file, the method still returns null. How do I get it to return the expected string?","body":"<p>So the test runs to see if the method can read the file and return its contents. I've tried different alterations and this is what I've come to so far. I was able to print out all the necessary contents in the while loop, but once outside that loop, fileContents returns &quot;null&quot;.</p>\n<pre><code>public static String readTestResults(String fileName) {\n\n        BufferedReader reader;\n        String fileContents = &quot; &quot;;\n\n        try {\n            reader = new BufferedReader(new FileReader(fileName));\n            fileContents = reader.readLine();\n\n            while (fileContents != null) {\n                System.out.println(fileContents);\n                fileContents = reader.readLine();\n            }\n            reader.close();\n            System.out.println(&quot;test: &quot; + fileContents);\n            return fileContents;\n        }\n\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        System.out.println(&quot;Print if code reaches here&quot;);\n        return fileContents;\n</code></pre>\n<p>I've added multiple print statements to try and pinpoint where the code could be bugged. It never reaches to final one. So far my results are:</p>\n<pre><code>Alex,Smith,99,A\nJolene,Schmidt,100,A\nMackinzie,Jensen,86,B\ntest: null\n</code></pre>\n<p>I need it to return just that list of names but just returns null.</p>\n<p>I believe it could be a format error of mine but as now I am stumped. Any help would be greatly appreciated!</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1410995407,"post_id":25901714,"comment_id":40540705,"body_markdown":"I think I agree that the solution you show is hackish and overly complex.  I think you should use the simplest enum possible, then just use a static factory.  The factory should cache values and make new ones when needed.","body":"I think I agree that the solution you show is hackish and overly complex.  I think you should use the simplest enum possible, then just use a static factory.  The factory should cache values and make new ones when needed."},{"owner":{"account_id":1827467,"reputation":4043,"user_id":1659790,"accept_rate":73,"display_name":"Jimmy T."},"score":0,"creation_date":1410995672,"post_id":25901714,"comment_id":40540781,"body_markdown":"Lazy loading, reading from files, limited set of instances ... Sounds like a bunch of singletons to me.","body":"Lazy loading, reading from files, limited set of instances ... Sounds like a bunch of singletons to me."},{"owner":{"account_id":73906,"reputation":5850,"user_id":212589,"accept_rate":83,"display_name":"wolfcastle"},"score":2,"creation_date":1410995769,"post_id":25901714,"comment_id":40540812,"body_markdown":"Enums are expected to be immutable and serializable, so violating that seems likely to cause issues.","body":"Enums are expected to be immutable and serializable, so violating that seems likely to cause issues."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1410995839,"post_id":25901714,"comment_id":40540828,"body_markdown":"@wolfcastle Well, they&#39;re practically immutable. (If the synchronization is fixed.)","body":"@wolfcastle Well, they&#39;re practically immutable. (If the synchronization is fixed.)"},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1410995877,"post_id":25901714,"comment_id":40540836,"body_markdown":"I have an - in my opinion - elegant `enum` keyed `Multiton`. I will post it tomorrow as I do not have a copy right now.","body":"I have an - in my opinion - elegant <code>enum</code> keyed <code>Multiton</code>. I will post it tomorrow as I do not have a copy right now."},{"owner":{"account_id":1827467,"reputation":4043,"user_id":1659790,"accept_rate":73,"display_name":"Jimmy T."},"score":0,"creation_date":1410995975,"post_id":25901714,"comment_id":40540862,"body_markdown":"@OldCurmudgeon `Multiton` as multiple singletons?","body":"@OldCurmudgeon <code>Multiton</code> as multiple singletons?"},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1410996203,"post_id":25901714,"comment_id":40540935,"body_markdown":"@JimmyT. - Yup! - Lazy instantiation and thread safe.","body":"@JimmyT. - Yup! - Lazy instantiation and thread safe."},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1411002011,"post_id":25901714,"comment_id":40542214,"body_markdown":"@markspace - that&#39;s essentialy the first alternative I listed. It works but is not terrible elegant for the reasons I mention. To add a new instance you need to change both the enum and the factory - and the factory will likely have some variation on a smelly switch statement. The implementation is not encapsulated with its definition as it is in my pattern.","body":"@markspace - that&#39;s essentialy the first alternative I listed. It works but is not terrible elegant for the reasons I mention. To add a new instance you need to change both the enum and the factory - and the factory will likely have some variation on a smelly switch statement. The implementation is not encapsulated with its definition as it is in my pattern."},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1411002080,"post_id":25901714,"comment_id":40542225,"body_markdown":"@OldCurmudgeon - I&#39;m very much looking forward to seeing it: sounds like it&#39;s exactly what I&#39;m looking for","body":"@OldCurmudgeon - I&#39;m very much looking forward to seeing it: sounds like it&#39;s exactly what I&#39;m looking for"},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1411002208,"post_id":25901714,"comment_id":40542250,"body_markdown":"@JimmyT. - Are you proposing a separate singleton class for each potential instance? Sorry but I have to say I think that&#39;s a lot of work as a solution to a pretty simple problem. I&#39;d prefer my pattern to that.","body":"@JimmyT. - Are you proposing a separate singleton class for each potential instance? Sorry but I have to say I think that&#39;s a lot of work as a solution to a pretty simple problem. I&#39;d prefer my pattern to that."},{"owner":{"account_id":1827467,"reputation":4043,"user_id":1659790,"accept_rate":73,"display_name":"Jimmy T."},"score":0,"creation_date":1411002570,"post_id":25901714,"comment_id":40542311,"body_markdown":"@user3705127 I&#39;m opposing singletons.","body":"@user3705127 I&#39;m opposing singletons."},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1411004407,"post_id":25901714,"comment_id":40542749,"body_markdown":"@JimmyT. - then I&#39;m not sure I understand what you are proposing as a solution. It&#39;s not an unusual business problem to have a fixed set of implementations: the only unusual aspect is the need for lazy instantiation.","body":"@JimmyT. - then I&#39;m not sure I understand what you are proposing as a solution. It&#39;s not an unusual business problem to have a fixed set of implementations: the only unusual aspect is the need for lazy instantiation."},{"owner":{"account_id":253003,"reputation":10963,"user_id":531398,"accept_rate":93,"display_name":"William Morrison"},"score":0,"creation_date":1411005650,"post_id":25901714,"comment_id":40543049,"body_markdown":"Multitons are interesting, but could we have more information about the exact problem you&#39;re trying to solve?  Perhaps we can devise a solution which doesn&#39;t require any singletons.","body":"Multitons are interesting, but could we have more information about the exact problem you&#39;re trying to solve?  Perhaps we can devise a solution which doesn&#39;t require any singletons."},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1411009719,"post_id":25901714,"comment_id":40543979,"body_markdown":"@WilliamMorrison William the business problem the code is being written for is quite complicated and specific to the industry I&#39;m working in so I&#39;ve tried to describe the problem in a more generic way. I&#39;ll see if I can add some detail in the question to make it clearer.","body":"@WilliamMorrison William the business problem the code is being written for is quite complicated and specific to the industry I&#39;m working in so I&#39;ve tried to describe the problem in a more generic way. I&#39;ll see if I can add some detail in the question to make it clearer."}],"answers":[{"tags":[],"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410995797,"creation_date":1410995302,"answer_id":25901760,"question_id":25901714,"body_markdown":"One thought about this pattern: the lazy instantiation isn&#39;t thread safe. This may or may not be okay, it depends on how you want to use it, but it&#39;s worth knowing. (Considering that enum initialisation in itself is thread-safe.)\r\n\r\nOther than that, I can&#39;t see a simpler solution that guarantees full instance control, is intuitive and uses lazy instantiation.\r\n\r\nI don&#39;t think it&#39;s an abuse of enum methods either, it doesn&#39;t differ by much from what Josh Bloch&#39;s Effective Java recommends for coding different strategies into enums.","title":"Using enum to implement multitons in Java","body":"<p>One thought about this pattern: the lazy instantiation isn't thread safe. This may or may not be okay, it depends on how you want to use it, but it's worth knowing. (Considering that enum initialisation in itself is thread-safe.)</p>\n\n<p>Other than that, I can't see a simpler solution that guarantees full instance control, is intuitive and uses lazy instantiation.</p>\n\n<p>I don't think it's an abuse of enum methods either, it doesn't differ by much from what Josh Bloch's Effective Java recommends for coding different strategies into enums.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1411034683,"creation_date":1411010034,"answer_id":25903597,"question_id":25901714,"body_markdown":"Seems fine. I would make initialization threadsafe like this:\r\n\r\n    enum ComplexItem implements Complex {\r\n        ITEM1 {\r\n            protected Complex makeInstance() {\r\n                return new Complex() { public void method() { }};\r\n            }\r\n        },\r\n        ITEM2 {\r\n            protected Complex makeInstance() {\r\n                return new Complex() { public void method() { }}\r\n        };\r\n    \r\n        private volatile Complex instance;\r\n    \r\n        private Complex getInstance() {\r\n            if (instance == null) {\r\n                createInstance();\r\n            }\r\n            return instance;\r\n        }\r\n    \r\n        protected abstract Complex makeInstance();\r\n    \r\n        protected synchronized void createInstance() {\r\n            if (instance == null) {\r\n                instance = makeInstance();\r\n            }\r\n        }\r\n    \r\n        public void method() {\r\n            getInstance().method();\r\n        }\r\n    }\r\n\r\nThe modifier `synchronized` only appears on the `createInstance()` method, but wraps the call to `makeInstance()` - conveying threadsafety without putting a bottleneck on calls to `getInstance()` and without the programmer having to remember to add `synchronized` to each to `makeInstance()` implementation.\r\n","title":"Using enum to implement multitons in Java","body":"<p>Seems fine. I would make initialization threadsafe like this:</p>\n\n<pre><code>enum ComplexItem implements Complex {\n    ITEM1 {\n        protected Complex makeInstance() {\n            return new Complex() { public void method() { }};\n        }\n    },\n    ITEM2 {\n        protected Complex makeInstance() {\n            return new Complex() { public void method() { }}\n    };\n\n    private volatile Complex instance;\n\n    private Complex getInstance() {\n        if (instance == null) {\n            createInstance();\n        }\n        return instance;\n    }\n\n    protected abstract Complex makeInstance();\n\n    protected synchronized void createInstance() {\n        if (instance == null) {\n            instance = makeInstance();\n        }\n    }\n\n    public void method() {\n        getInstance().method();\n    }\n}\n</code></pre>\n\n<p>The modifier <code>synchronized</code> only appears on the <code>createInstance()</code> method, but wraps the call to <code>makeInstance()</code> - conveying threadsafety without putting a bottleneck on calls to <code>getInstance()</code> and without the programmer having to remember to add <code>synchronized</code> to each to <code>makeInstance()</code> implementation.</p>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1411384678,"creation_date":1411030061,"answer_id":25908117,"question_id":25901714,"body_markdown":"This works for me - it&#39;s thread-safe and generic. The `enum` must implement the `Creator` interface but that is easy - as demonstrated by the sample usage at the end.\r\n\r\nThis solution breaks the binding you have imposed where it is the `enum` that is the stored object. Here I only use the `enum` as a factory to create the object - in this way I can store any type of object and even have each `enum` create a different type of object (which was my aim).\r\n\r\nThis uses a common mechanism for thread-safety and lazy instantiation using `ConcurrentMap` of `FutureTask`.\r\n\r\nThere is a small overhead of holding on to the `FutureTask` for the lifetime of the program but that could be improved with a little tweaking.\r\n\r\n\r\n\t/**\r\n\t * A Multiton where the keys are an enum and each key can create its own value.\r\n\t *\r\n\t * The create method of the key enum is guaranteed to only be called once.\r\n\t *\r\n\t * Probably worth making your Multiton static to avoid duplication.\r\n\t *\r\n\t * @param &lt;K&gt; - The enum that is the key in the map and also does the creation.\r\n\t */\r\n\tpublic class Multiton&lt;K extends Enum&lt;K&gt; &amp; Multiton.Creator&gt; {\r\n\t  // The map to the future.\r\n\t  private final ConcurrentMap&lt;K, Future&lt;Object&gt;&gt; multitons = new ConcurrentHashMap&lt;K, Future&lt;Object&gt;&gt;();\r\n\r\n\t  // The enums must create\r\n\t  public interface Creator {\r\n\t\tpublic abstract Object create();\r\n\r\n\t  }\r\n\r\n\t  // The getter.\r\n\t  public &lt;V&gt; V get(final K key, Class&lt;V&gt; type) {\r\n\t\t// Has it run yet?\r\n\t\tFuture&lt;Object&gt; f = multitons.get(key);\r\n\t\tif (f == null) {\r\n\t\t  // No! Make the task that runs it.\r\n\t\t  FutureTask&lt;Object&gt; ft = new FutureTask&lt;Object&gt;(\r\n\t\t\t\t  new Callable() {\r\n\r\n\t\t\t\t\tpublic Object call() throws Exception {\r\n\t\t\t\t\t  // Only do the create when called to do so.\r\n\t\t\t\t\t  return key.create();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t  });\r\n\t\t  // Only put if not there.\r\n\t\t  f = multitons.putIfAbsent(key, ft);\r\n\t\t  if (f == null) {\r\n\t\t\t// We replaced null so we successfully put. We were first!\r\n\t\t\tf = ft;\r\n\t\t\t// Initiate the task.\r\n\t\t\tft.run();\r\n\t\t  }\r\n\t\t}\r\n\t\ttry {\r\n\t\t  /**\r\n\t\t   * If code gets here and hangs due to f.status = 0 (FutureTask.NEW)\r\n\t\t   * then you are trying to get from your Multiton in your creator.\r\n\t\t   *\r\n\t\t   * Cannot check for that without unnecessarily complex code.\r\n\t\t   *\r\n\t\t   * Perhaps could use get with timeout.\r\n\t\t   */\r\n\t\t  // Cast here to force the right type.\r\n\t\t  return type.cast(f.get());\r\n\t\t} catch (Exception ex) {\r\n\t\t  // Hide exceptions without discarding them.\r\n\t\t  throw new RuntimeException(ex);\r\n\t\t}\r\n\t  }\r\n\r\n\t  enum E implements Creator {\r\n\t\tA {\r\n\r\n\t\t\t\t  public String create() {\r\n\t\t\t\t\treturn &quot;Face&quot;;\r\n\t\t\t\t  }\r\n\r\n\t\t\t\t},\r\n\t\tB {\r\n\r\n\t\t\t\t  public Integer create() {\r\n\t\t\t\t\treturn 0xFace;\r\n\t\t\t\t  }\r\n\r\n\t\t\t\t},\r\n\t\tC {\r\n\r\n\t\t\t\t  public Void create() {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t  }\r\n\r\n\t\t\t\t};\r\n\t  }\r\n\r\n\t  public static void main(String args[]) {\r\n\t\ttry {\r\n\t\t  Multiton&lt;E&gt; m = new Multiton&lt;E&gt;();\r\n\t\t  String face1 = m.get(E.A, String.class);\r\n\t\t  Integer face2 = m.get(E.B, Integer.class);\r\n\t\t  System.out.println(&quot;Face1: &quot; + face1 + &quot; Face2: &quot; + Integer.toHexString(face2));\r\n\t\t} catch (Throwable t) {\r\n\t\t  t.printStackTrace(System.err);\r\n\t\t}\r\n\t  }\r\n\r\n\t}\r\n\r\nIn Java 8 it is even easier:\r\n\r\n\tpublic class Multiton&lt;K extends Enum&lt;K&gt; &amp; Multiton.Creator&gt; {\r\n\r\n\t\tprivate final ConcurrentMap&lt;K, Object&gt; multitons = new ConcurrentHashMap&lt;&gt;();\r\n\r\n\t\t// The enums must create\r\n\t\tpublic interface Creator {\r\n\r\n\t\t\tpublic abstract Object create();\r\n\r\n\t\t}\r\n\r\n        // The getter.\r\n        public &lt;V&gt; V get(final K key, Class&lt;V&gt; type) {\r\n            return type.cast(multitons.computeIfAbsent(key, k -&gt; k.create()));\r\n        }\r\n    }","title":"Using enum to implement multitons in Java","body":"<p>This works for me - it's thread-safe and generic. The <code>enum</code> must implement the <code>Creator</code> interface but that is easy - as demonstrated by the sample usage at the end.</p>\n\n<p>This solution breaks the binding you have imposed where it is the <code>enum</code> that is the stored object. Here I only use the <code>enum</code> as a factory to create the object - in this way I can store any type of object and even have each <code>enum</code> create a different type of object (which was my aim).</p>\n\n<p>This uses a common mechanism for thread-safety and lazy instantiation using <code>ConcurrentMap</code> of <code>FutureTask</code>.</p>\n\n<p>There is a small overhead of holding on to the <code>FutureTask</code> for the lifetime of the program but that could be improved with a little tweaking.</p>\n\n<pre><code>/**\n * A Multiton where the keys are an enum and each key can create its own value.\n *\n * The create method of the key enum is guaranteed to only be called once.\n *\n * Probably worth making your Multiton static to avoid duplication.\n *\n * @param &lt;K&gt; - The enum that is the key in the map and also does the creation.\n */\npublic class Multiton&lt;K extends Enum&lt;K&gt; &amp; Multiton.Creator&gt; {\n  // The map to the future.\n  private final ConcurrentMap&lt;K, Future&lt;Object&gt;&gt; multitons = new ConcurrentHashMap&lt;K, Future&lt;Object&gt;&gt;();\n\n  // The enums must create\n  public interface Creator {\n    public abstract Object create();\n\n  }\n\n  // The getter.\n  public &lt;V&gt; V get(final K key, Class&lt;V&gt; type) {\n    // Has it run yet?\n    Future&lt;Object&gt; f = multitons.get(key);\n    if (f == null) {\n      // No! Make the task that runs it.\n      FutureTask&lt;Object&gt; ft = new FutureTask&lt;Object&gt;(\n              new Callable() {\n\n                public Object call() throws Exception {\n                  // Only do the create when called to do so.\n                  return key.create();\n                }\n\n              });\n      // Only put if not there.\n      f = multitons.putIfAbsent(key, ft);\n      if (f == null) {\n        // We replaced null so we successfully put. We were first!\n        f = ft;\n        // Initiate the task.\n        ft.run();\n      }\n    }\n    try {\n      /**\n       * If code gets here and hangs due to f.status = 0 (FutureTask.NEW)\n       * then you are trying to get from your Multiton in your creator.\n       *\n       * Cannot check for that without unnecessarily complex code.\n       *\n       * Perhaps could use get with timeout.\n       */\n      // Cast here to force the right type.\n      return type.cast(f.get());\n    } catch (Exception ex) {\n      // Hide exceptions without discarding them.\n      throw new RuntimeException(ex);\n    }\n  }\n\n  enum E implements Creator {\n    A {\n\n              public String create() {\n                return \"Face\";\n              }\n\n            },\n    B {\n\n              public Integer create() {\n                return 0xFace;\n              }\n\n            },\n    C {\n\n              public Void create() {\n                return null;\n              }\n\n            };\n  }\n\n  public static void main(String args[]) {\n    try {\n      Multiton&lt;E&gt; m = new Multiton&lt;E&gt;();\n      String face1 = m.get(E.A, String.class);\n      Integer face2 = m.get(E.B, Integer.class);\n      System.out.println(\"Face1: \" + face1 + \" Face2: \" + Integer.toHexString(face2));\n    } catch (Throwable t) {\n      t.printStackTrace(System.err);\n    }\n  }\n\n}\n</code></pre>\n\n<p>In Java 8 it is even easier:</p>\n\n<pre><code>public class Multiton&lt;K extends Enum&lt;K&gt; &amp; Multiton.Creator&gt; {\n\n    private final ConcurrentMap&lt;K, Object&gt; multitons = new ConcurrentHashMap&lt;&gt;();\n\n    // The enums must create\n    public interface Creator {\n\n        public abstract Object create();\n\n    }\n\n    // The getter.\n    public &lt;V&gt; V get(final K key, Class&lt;V&gt; type) {\n        return type.cast(multitons.computeIfAbsent(key, k -&gt; k.create()));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2807354,"reputation":138,"user_id":2414323,"display_name":"Leon the Logician"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681782423,"creation_date":1681782423,"answer_id":76040470,"question_id":25901714,"body_markdown":"The previous responses seem to be using lower levels of Java which require anonymous interfaces to achieve the user&#39;s desired result.\r\n\r\n**Updated for 2023 using Java 8 or higher:**\r\n\r\n\r\n```\r\n@FunctionalInterface\r\npublic interface Complex {\r\n    void method();\r\n}\r\n```\r\n\r\n\r\n```\r\npublic enum ComplexItem implements Complex {\r\n    ITEM1(() -&gt; () -&gt; {\r\n        // TODO - provide `method` definition for `Complex` instance here\r\n        System.out.println(&quot;`method` definition for ITEM1.instance here&quot;);\r\n    }),\r\n    ITEM2(() -&gt; () -&gt; {\r\n        // TODO - provide `method` definition for `Complex` instance here\r\n        System.out.println(&quot;`method` definition for ITEM2.instance here&quot;);\r\n    });\r\n\r\n    private final Supplier&lt;Complex&gt; complexSupplier;\r\n    private Complex instance;\r\n\r\n    ComplexItem(Supplier&lt;Complex&gt; complexSupplier) {\r\n        this.complexSupplier = complexSupplier;\r\n    }\r\n\r\n    private synchronized Complex getComplex() {\r\n        if (complexSupplier == null) {\r\n            instance = complexSupplier.get();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    @Override\r\n    public void method() {\r\n        getComplex().method();\r\n    }\r\n}\r\n```\r\n\r\nThe code provided is an enum which implements the `Complex` interface. It has two enumerations, `ITEM1` and `ITEM2`, each of which has an definition to override the `method()` declared in the `Complex` interface.\r\n\r\nThis implementation uses a `Supplier` functional interface to lazy load a `Complex` object associated with enumeration. The `private synchronized Complex getComplex()` method ensures that only one instance of the `Complex` object is created for each enumeration.\r\n\r\nThe `ComplexItem.method()` implementation calls the `ComplexItem.getComplex()` method to retrieve the `Complex` instance and then calls `Complex.method()` method to execute the behavior associated with each enumeration.","title":"Using enum to implement multitons in Java","body":"<p>The previous responses seem to be using lower levels of Java which require anonymous interfaces to achieve the user's desired result.</p>\n<p><strong>Updated for 2023 using Java 8 or higher:</strong></p>\n<pre><code>@FunctionalInterface\npublic interface Complex {\n    void method();\n}\n</code></pre>\n<pre><code>public enum ComplexItem implements Complex {\n    ITEM1(() -&gt; () -&gt; {\n        // TODO - provide `method` definition for `Complex` instance here\n        System.out.println(&quot;`method` definition for ITEM1.instance here&quot;);\n    }),\n    ITEM2(() -&gt; () -&gt; {\n        // TODO - provide `method` definition for `Complex` instance here\n        System.out.println(&quot;`method` definition for ITEM2.instance here&quot;);\n    });\n\n    private final Supplier&lt;Complex&gt; complexSupplier;\n    private Complex instance;\n\n    ComplexItem(Supplier&lt;Complex&gt; complexSupplier) {\n        this.complexSupplier = complexSupplier;\n    }\n\n    private synchronized Complex getComplex() {\n        if (complexSupplier == null) {\n            instance = complexSupplier.get();\n        }\n        return instance;\n    }\n\n    @Override\n    public void method() {\n        getComplex().method();\n    }\n}\n</code></pre>\n<p>The code provided is an enum which implements the <code>Complex</code> interface. It has two enumerations, <code>ITEM1</code> and <code>ITEM2</code>, each of which has an definition to override the <code>method()</code> declared in the <code>Complex</code> interface.</p>\n<p>This implementation uses a <code>Supplier</code> functional interface to lazy load a <code>Complex</code> object associated with enumeration. The <code>private synchronized Complex getComplex()</code> method ensures that only one instance of the <code>Complex</code> object is created for each enumeration.</p>\n<p>The <code>ComplexItem.method()</code> implementation calls the <code>ComplexItem.getComplex()</code> method to retrieve the <code>Complex</code> instance and then calls <code>Complex.method()</code> method to execute the behavior associated with each enumeration.</p>\n"}],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1110,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":25908117,"answer_count":4,"score":10,"last_activity_date":1681782423,"creation_date":1410994867,"question_id":25901714,"body_markdown":"I would like to have a limited fixed catalogue of instances of a certain complex interface. The standard [multiton][1] pattern has some nice features such as lazy instantiation. However it relies on a key such as a String which seems quite error prone and fragile.\r\n\r\nI&#39;d like a pattern that uses enum. They have lots of great features and are robust. I&#39;ve tried to find a standard design pattern for this but have drawn a blank. So I&#39;ve come up with my own but I&#39;m not terribly happy with it.\r\n\r\nThe pattern I&#39;m using is as follows (the interface is highly simplified here to make it readable):\r\n\r\n    interface Complex { \r\n        void method();\r\n    }\r\n\r\n    enum ComplexItem implements Complex {\r\n        ITEM1 {\r\n            protected Complex makeInstance() { return new Complex() { ... }\r\n        },\r\n        ITEM2 {\r\n            protected Complex makeInstance() { return new Complex() { ... }\r\n        };\r\n    \r\n        private Complex instance = null;\r\n    \r\n        private Complex getInstance() {\r\n            if (instance == null) {\r\n                instance = makeInstance();\r\n            }\r\n            return instance;\r\n        }\r\n    \r\n        protected void makeInstance() {\r\n        }\r\n    \r\n        void method {\r\n            getInstance().method();\r\n        }\r\n    }\r\n\r\nThis pattern has some very nice features to it:\r\n\r\n - the enum implements the interface which makes its usage pretty natural: ComplexItem.ITEM1.method();\r\n - Lazy instantiation: if the construction is costly (my use case involves reading files), it only occurs if it&#39;s required.\r\n\r\nHaving said that it seems horribly complex and &#39;hacky&#39; for such a simple requirement and overrides enum methods in a way which I&#39;m not sure the language designers intended.\r\n\r\nIt also has another significant disadvantage. In my use case I&#39;d like the interface to extend Comparable. Unfortunately this then clashes with the enum implementation of Comparable and makes the code uncompilable.\r\n\r\nOne alternative I considered was having a standard enum and then a separate class that maps the enum to an implementation of the interface (using the standard multiton pattern). That works but the enum no longer implements the interface which seems to me to not be a natural reflection of the intention. It also separates the implementation of the interface from the enum items which seems to be poor encapsulation.\r\n\r\nAnother alternative is to have the enum constructor implement the interface (i.e. in the pattern above remove the need for the &#39;makeInstance&#39; method). While this works it removes the advantage of only running the constructors if required). It also doesn&#39;t resolve the issue with extending Comparable.\r\n\r\nSo my question is: can anyone think of a more elegant way to do this?\r\n\r\nIn response to comments I&#39;ll tried to specify the specific problem I&#39;m trying to solve first generically and then through an example.\r\n\r\n- There are a fixed set of objects that implement a given interface\r\n- The objects are stateless: they are used to encapsulate behaviour only\r\n- Only a subset of the objects will be used each time the code is executed (depending on user input)\r\n- Creating these objects is expensive: it should only be done once and only if required\r\n- The objects share a lot behaviour\r\n\r\nThis could be implemented with separate singleton classes for each object using separate classes or superclasses for shared behaviour. This seems unnecessarily complex.\r\n\r\nNow an example. A system calculates several different taxes in a set of regions each of which has their own algorithm for calculting the taxes. The set of regions is expected to never change but the regional algorithms will change regularly. The specific regional rates must be loaded at run time via remote service which is slow and expensive. Each time the system is invoked it will be given a different set of regions to calculate so it should only load the rates of the regions requested.\r\n\r\nSo:\r\n\r\n    interface TaxCalculation {\r\n        float calculateSalesTax(SaleData data);\r\n        float calculateLandTax(LandData data);\r\n        ....\r\n    }\r\n    \r\n    enum TaxRegion implements TaxCalculation {\r\n        NORTH, NORTH_EAST, SOUTH, EAST, WEST, CENTRAL .... ;\r\n\r\n        private loadRegionalDataFromRemoteServer() { .... }\r\n    }\r\n\r\nRecommended background reading: [Mixing-in an Enum][2]\r\n\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Multiton_pattern\r\n  [2]: https://blogs.oracle.com/darcy/entry/enums_and_mixins","title":"Using enum to implement multitons in Java","body":"<p>I would like to have a limited fixed catalogue of instances of a certain complex interface. The standard <a href=\"http://en.wikipedia.org/wiki/Multiton_pattern\" rel=\"noreferrer\">multiton</a> pattern has some nice features such as lazy instantiation. However it relies on a key such as a String which seems quite error prone and fragile.</p>\n\n<p>I'd like a pattern that uses enum. They have lots of great features and are robust. I've tried to find a standard design pattern for this but have drawn a blank. So I've come up with my own but I'm not terribly happy with it.</p>\n\n<p>The pattern I'm using is as follows (the interface is highly simplified here to make it readable):</p>\n\n<pre><code>interface Complex { \n    void method();\n}\n\nenum ComplexItem implements Complex {\n    ITEM1 {\n        protected Complex makeInstance() { return new Complex() { ... }\n    },\n    ITEM2 {\n        protected Complex makeInstance() { return new Complex() { ... }\n    };\n\n    private Complex instance = null;\n\n    private Complex getInstance() {\n        if (instance == null) {\n            instance = makeInstance();\n        }\n        return instance;\n    }\n\n    protected void makeInstance() {\n    }\n\n    void method {\n        getInstance().method();\n    }\n}\n</code></pre>\n\n<p>This pattern has some very nice features to it:</p>\n\n<ul>\n<li>the enum implements the interface which makes its usage pretty natural: ComplexItem.ITEM1.method();</li>\n<li>Lazy instantiation: if the construction is costly (my use case involves reading files), it only occurs if it's required.</li>\n</ul>\n\n<p>Having said that it seems horribly complex and 'hacky' for such a simple requirement and overrides enum methods in a way which I'm not sure the language designers intended.</p>\n\n<p>It also has another significant disadvantage. In my use case I'd like the interface to extend Comparable. Unfortunately this then clashes with the enum implementation of Comparable and makes the code uncompilable.</p>\n\n<p>One alternative I considered was having a standard enum and then a separate class that maps the enum to an implementation of the interface (using the standard multiton pattern). That works but the enum no longer implements the interface which seems to me to not be a natural reflection of the intention. It also separates the implementation of the interface from the enum items which seems to be poor encapsulation.</p>\n\n<p>Another alternative is to have the enum constructor implement the interface (i.e. in the pattern above remove the need for the 'makeInstance' method). While this works it removes the advantage of only running the constructors if required). It also doesn't resolve the issue with extending Comparable.</p>\n\n<p>So my question is: can anyone think of a more elegant way to do this?</p>\n\n<p>In response to comments I'll tried to specify the specific problem I'm trying to solve first generically and then through an example.</p>\n\n<ul>\n<li>There are a fixed set of objects that implement a given interface</li>\n<li>The objects are stateless: they are used to encapsulate behaviour only</li>\n<li>Only a subset of the objects will be used each time the code is executed (depending on user input)</li>\n<li>Creating these objects is expensive: it should only be done once and only if required</li>\n<li>The objects share a lot behaviour</li>\n</ul>\n\n<p>This could be implemented with separate singleton classes for each object using separate classes or superclasses for shared behaviour. This seems unnecessarily complex.</p>\n\n<p>Now an example. A system calculates several different taxes in a set of regions each of which has their own algorithm for calculting the taxes. The set of regions is expected to never change but the regional algorithms will change regularly. The specific regional rates must be loaded at run time via remote service which is slow and expensive. Each time the system is invoked it will be given a different set of regions to calculate so it should only load the rates of the regions requested.</p>\n\n<p>So:</p>\n\n<pre><code>interface TaxCalculation {\n    float calculateSalesTax(SaleData data);\n    float calculateLandTax(LandData data);\n    ....\n}\n\nenum TaxRegion implements TaxCalculation {\n    NORTH, NORTH_EAST, SOUTH, EAST, WEST, CENTRAL .... ;\n\n    private loadRegionalDataFromRemoteServer() { .... }\n}\n</code></pre>\n\n<p>Recommended background reading: <a href=\"https://blogs.oracle.com/darcy/entry/enums_and_mixins\" rel=\"noreferrer\">Mixing-in an Enum</a></p>\n"},{"tags":["java","apache-tika"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1681808763,"post_id":76040466,"comment_id":134112431,"body_markdown":"Sounds like a bug. Do you have a file you can share that demonstrates the problem? If so, https://issues.apache.org/jira/projects/TIKA/summary is the place to report it","body":"Sounds like a bug. Do you have a file you can share that demonstrates the problem? If so, <a href=\"https://issues.apache.org/jira/projects/TIKA/summary\" rel=\"nofollow noreferrer\">issues.apache.org/jira/projects/TIKA/summary</a> is the place to report it"}],"owner":{"account_id":19033218,"reputation":122,"user_id":13894863,"display_name":"Gabe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681782351,"creation_date":1681782351,"question_id":76040466,"body_markdown":"I am using Tika to detect languages and it usually works and is fast enough. Sometimes, there will be a file with a bunch of numbers and whitespace that seems to throw it off and it takes several minutes to determine a language. Is there a way to have the detection model return if it hasn&#39;t figured it out in X seconds?\r\n\r\n    final java.util.List&lt;com.optimaize.langdetect.profiles.LanguageProfile&gt; languageProfiles = (java.util.List&lt;com.optimaize.langdetect.profiles.LanguageProfile&gt;) (Object) new LanguageProfileLoader().languages;\r\n    LanguageDetector languageDetector = LanguageDetectorBuilder.create(NgramExtractors.standard()).withProfiles(languageProfiles).build();\r\n    final TextObject textObject = textObjectFactory.forText(input);\r\n    languageDetector.getProbabilities(textObject));\r\n\r\n","title":"Tika language detection taking several minutes","body":"<p>I am using Tika to detect languages and it usually works and is fast enough. Sometimes, there will be a file with a bunch of numbers and whitespace that seems to throw it off and it takes several minutes to determine a language. Is there a way to have the detection model return if it hasn't figured it out in X seconds?</p>\n<pre><code>final java.util.List&lt;com.optimaize.langdetect.profiles.LanguageProfile&gt; languageProfiles = (java.util.List&lt;com.optimaize.langdetect.profiles.LanguageProfile&gt;) (Object) new LanguageProfileLoader().languages;\nLanguageDetector languageDetector = LanguageDetectorBuilder.create(NgramExtractors.standard()).withProfiles(languageProfiles).build();\nfinal TextObject textObject = textObjectFactory.forText(input);\nlanguageDetector.getProbabilities(textObject));\n</code></pre>\n"},{"tags":["java","casting","runtime-error","wrapper"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1681782438,"post_id":76040442,"comment_id":134109102,"body_markdown":"Looks safe to me. Is there a problem that you are having with this code, that makes you suspect that this is not safe?","body":"Looks safe to me. Is there a problem that you are having with this code, that makes you suspect that this is not safe?"},{"owner":{"account_id":27546284,"reputation":19,"user_id":21022183,"display_name":"labradorEater"},"score":0,"creation_date":1681783163,"post_id":76040442,"comment_id":134109168,"body_markdown":"The first seems fine, but the second case might worry me as the .equals() method only uses the instance loaded by the classloader, so I don&#39;t know if this could vary and return false if it should be true","body":"The first seems fine, but the second case might worry me as the .equals() method only uses the instance loaded by the classloader, so I don&#39;t know if this could vary and return false if it should be true"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1681783460,"post_id":76040442,"comment_id":134109199,"body_markdown":"Well yes you are right in that part. But this has nothing to do with safety, right? if `equals` returns `false`, the cast won&#39;t run anyway.","body":"Well yes you are right in that part. But this has nothing to do with safety, right? if <code>equals</code> returns <code>false</code>, the cast won&#39;t run anyway."},{"owner":{"account_id":27546284,"reputation":19,"user_id":21022183,"display_name":"labradorEater"},"score":0,"creation_date":1681783726,"post_id":76040442,"comment_id":134109218,"body_markdown":"oh, does .equals() span that gap, if two classloaders are involved?","body":"oh, does .equals() span that gap, if two classloaders are involved?"}],"owner":{"account_id":27546284,"reputation":19,"user_id":21022183,"display_name":"labradorEater"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681781951,"creation_date":1681781951,"question_id":76040442,"body_markdown":"There are two cases I&#39;m curious about, which I&#39;m not sure is different in any way that would affect the answer. Regardless, in these two cases, is this casting always safe?\r\n\r\n## case 1:\r\n\r\n```\r\nObject obj = ???; // unknown value for obj\r\nboolean b;\r\n\r\nif (obj != null &amp;&amp; obj instanceof Boolean) \r\n    b = (boolean) obj; \r\n```\r\n\r\n## case 2:\r\n\r\n```\r\nObject obj = ???;\r\nfloat f;\r\n\r\nif (obj != null &amp;&amp; obj.getClass().equals(Float.class))\r\n    f = (float) obj;\r\n```","title":"Is it safe to cast an Object to a primitive type if you know it is of the associated wrapper class&#39;s type AND not null?","body":"<p>There are two cases I'm curious about, which I'm not sure is different in any way that would affect the answer. Regardless, in these two cases, is this casting always safe?</p>\n<h2>case 1:</h2>\n<pre><code>Object obj = ???; // unknown value for obj\nboolean b;\n\nif (obj != null &amp;&amp; obj instanceof Boolean) \n    b = (boolean) obj; \n</code></pre>\n<h2>case 2:</h2>\n<pre><code>Object obj = ???;\nfloat f;\n\nif (obj != null &amp;&amp; obj.getClass().equals(Float.class))\n    f = (float) obj;\n</code></pre>\n"},{"tags":["java","properties"],"answers":[{"tags":[],"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681777360,"creation_date":1681777360,"answer_id":76040202,"question_id":76040123,"body_markdown":"you cannot use `@Value` for non managed spring classes, meaning classes that use `@Value` must be annotated by one of followings `@Service`, `@Component`, `@Repository`, `@RestController`, and `@Configuration`.\r\n\r\nNote that the managed classes should be also injected for its usages and not declaring with `new` operator ","title":"Using appconfig.properties with a not bean class","body":"<p>you cannot use <code>@Value</code> for non managed spring classes, meaning classes that use <code>@Value</code> must be annotated by one of followings <code>@Service</code>, <code>@Component</code>, <code>@Repository</code>, <code>@RestController</code>, and <code>@Configuration</code>.</p>\n<p>Note that the managed classes should be also injected for its usages and not declaring with <code>new</code> operator</p>\n"},{"tags":[],"owner":{"account_id":14587217,"reputation":43,"user_id":10535590,"display_name":"Teletubbies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681781671,"creation_date":1681781671,"answer_id":76040421,"question_id":76040123,"body_markdown":"You can have a property declared in your application.properties as\r\n\r\n```\r\nspring.profiles.active=dev\r\ntest.url=${TEST_URL}\r\n```\r\n\r\nthen create different configuration properties files based on your environment such as `application-dev.properties` or `application-prod.properties` and define `TEST_URL` in this files\r\n\r\n\r\n`application-dev.properties`\r\n```\r\nTEST_URL=some_test_url_for_dev\r\n```\r\n\r\n`application-prod.properties`\r\n```\r\nTEST_URL=some_test_url_for_prod\r\n```\r\n\r\nSpring Boot has inbuilt support for the environment or profile-specific Application Properties. That means we can have multiple application properties , and Spring will refer to the file that applies to the currently active profile.\r\n\r\nThe default properties file in a Spring Boot application is ‘application.properties‘. In addition, we can have profile-specific properties that follow the naming pattern – `application-{spring.profiles.active}.properties`. such as `application-dev.properties`\r\n\r\nYou can check spring profiles documentation [spring profile documentation][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/boot-features-profiles.html","title":"Using appconfig.properties with a not bean class","body":"<p>You can have a property declared in your application.properties as</p>\n<pre><code>spring.profiles.active=dev\ntest.url=${TEST_URL}\n</code></pre>\n<p>then create different configuration properties files based on your environment such as <code>application-dev.properties</code> or <code>application-prod.properties</code> and define <code>TEST_URL</code> in this files</p>\n<p><code>application-dev.properties</code></p>\n<pre><code>TEST_URL=some_test_url_for_dev\n</code></pre>\n<p><code>application-prod.properties</code></p>\n<pre><code>TEST_URL=some_test_url_for_prod\n</code></pre>\n<p>Spring Boot has inbuilt support for the environment or profile-specific Application Properties. That means we can have multiple application properties , and Spring will refer to the file that applies to the currently active profile.</p>\n<p>The default properties file in a Spring Boot application is ‘application.properties‘. In addition, we can have profile-specific properties that follow the naming pattern – <code>application-{spring.profiles.active}.properties</code>. such as <code>application-dev.properties</code></p>\n<p>You can check spring profiles documentation <a href=\"https://docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/boot-features-profiles.html\" rel=\"nofollow noreferrer\">spring profile documentation</a></p>\n"}],"owner":{"account_id":19732446,"reputation":21,"user_id":14447627,"display_name":"Sravya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681781671,"creation_date":1681776188,"question_id":76040123,"body_markdown":"I have the following code snippet. I wanted to read a property from appconfig.properties file \r\n\r\n```\r\npublic final class class1 implements interface1\r\n{\r\n   @Value(&quot;${test.url}&quot;)\r\n   private String baseUrl;\r\n  //This URL is different for different environments\r\n\r\n  public class1(ClassC2 c2, ClassC3 c3) {\r\n  // Some initialization code\r\n  }\r\n\r\n}\r\n```\r\n\r\nbaseUrl is always null. How could I inject the property in this scenario?\r\n\r\nEnviroment - Java 11, springframework version - 5.3.19\r\n","title":"Using appconfig.properties with a not bean class","body":"<p>I have the following code snippet. I wanted to read a property from appconfig.properties file</p>\n<pre><code>public final class class1 implements interface1\n{\n   @Value(&quot;${test.url}&quot;)\n   private String baseUrl;\n  //This URL is different for different environments\n\n  public class1(ClassC2 c2, ClassC3 c3) {\n  // Some initialization code\n  }\n\n}\n</code></pre>\n<p>baseUrl is always null. How could I inject the property in this scenario?</p>\n<p>Enviroment - Java 11, springframework version - 5.3.19</p>\n"},{"tags":["java","redis"],"comments":[{"owner":{"account_id":10962013,"reputation":1813,"user_id":8055025,"accept_rate":67,"display_name":"Ankit Sahay"},"score":0,"creation_date":1681807497,"post_id":76040410,"comment_id":134112173,"body_markdown":"Your question is not very clear. Please consider rephrasing your question.","body":"Your question is not very clear. Please consider rephrasing your question."}],"owner":{"account_id":21245846,"reputation":1,"user_id":15628557,"display_name":"wantToADaShen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681781453,"creation_date":1681781453,"question_id":76040410,"body_markdown":"[[enter image description here](https://i.stack.imgur.com/WBm52.jpg)](https://i.stack.imgur.com/5v1xj.jpg)As shown in the figure, I don&#39;t know why the redis instance opened now is 192.168.0.63 redis, which cannot connect to itself. This problem was caused by the election of the Sentinel cluster. I did not find an instance of slaveof in the configuration file of this instance, but as soon as it was started, it became like the image above. Can anyone tell me why?\r\n\r\nI have tried to start the Sentinel cluster again, and this is the only instance at this time. I keep switching master nodes at 127.0.0.1 6379192.168.0.63. The key point is that my native Ip is 192.168.0.63. I switch to each one. The current instance runs on my local machine, that is, 192.168.0.63. It can&#39;t even connect to itself. I&#39;m confused.","title":"Redis master-slave connection","body":"<p>[<a href=\"https://i.stack.imgur.com/WBm52.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>](<a href=\"https://i.stack.imgur.com/5v1xj.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/5v1xj.jpg</a>)As shown in the figure, I don't know why the redis instance opened now is 192.168.0.63 redis, which cannot connect to itself. This problem was caused by the election of the Sentinel cluster. I did not find an instance of slaveof in the configuration file of this instance, but as soon as it was started, it became like the image above. Can anyone tell me why?</p>\n<p>I have tried to start the Sentinel cluster again, and this is the only instance at this time. I keep switching master nodes at 127.0.0.1 6379192.168.0.63. The key point is that my native Ip is 192.168.0.63. I switch to each one. The current instance runs on my local machine, that is, 192.168.0.63. It can't even connect to itself. I'm confused.</p>\n"},{"tags":["java","uri","malformedurlexception"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1393588161,"post_id":22093864,"comment_id":33511317,"body_markdown":"`URLEncoder.encode()` does not work for URIs! You want [URI templates](https://github.com/fge/uri-template) &lt;-- this library can help.","body":"<code>URLEncoder.encode()</code> does not work for URIs! You want <a href=\"https://github.com/fge/uri-template\" rel=\"nofollow noreferrer\">URI templates</a> &lt;-- this library can help."}],"answers":[{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1681757052,"creation_date":1393588584,"answer_id":22094531,"question_id":22093864,"body_markdown":"You want to use [URI templates][1]. Look carefully at the README of this project: `URLEncoder.encode()` does NOT work for URIs.\r\n\r\nLet us take your original URL:\r\n```\r\nhttp://site-test.test.com/Meetings/IC/DownloadDocument?meetingId=c21c905c-8359-4bd6-b864-844709e05754&amp;itemId=a4b724d1-282e-4b36-9d16-d619a807ba67&amp;file=\\\\s604132shvw140\\Test-Documents\\c21c905c-8359-4bd6-b864-844709e05754_attachments\\7e89c3cb-ce53-4a04-a9ee-1a584e157987\\myDoc.pdf\r\n```\r\nAnd convert it to a URI template with two variables (on multiple lines for clarity):\r\n\r\n    http://site-test.test.com/Meetings/IC/DownloadDocument\r\n        ?meetingId={meetingID}&amp;itemId={itemID}&amp;file={file}\r\n\r\nNow let us build a variable map with these three variables using the library mentioned in the link:\r\n\r\n    final VariableMap = VariableMap.newBuilder()\r\n        .addScalarValue(&quot;meetingID&quot;, &quot;c21c905c-8359-4bd6-b864-844709e05754&quot;)\r\n        .addScalarValue(&quot;itemID&quot;, &quot;a4b724d1-282e-4b36-9d16-d619a807ba67e&quot;)\r\n        .addScalarValue(&quot;file&quot;, &quot;\\\\\\\\s604132shvw140\\\\Test-Documents&quot;\r\n            + &quot;\\\\c21c905c-8359-4bd6-b864-844709e05754_attachments&quot;\r\n            + &quot;\\\\7e89c3cb-ce53-4a04-a9ee-1a584e157987\\\\myDoc.pdf&quot;)\r\n        .build();\r\n    \r\n    final URITemplate template\r\n        = new URITemplate(&quot;http://site-test.test.com/Meetings/IC/DownloadDocument&quot;\r\n            + &quot;meetingId={meetingID}&amp;itemId={itemID}&amp;file={file}&quot;);\r\n    \r\n    // Generate URL as a String\r\n    final String theURL = template.expand(vars);\r\n\r\nThis is GUARANTEED to return a fully functional URL!\r\n\r\n  [1]: https://github.com/fge/uri-template\r\n","title":"java.net.MalformedURLException: no protocol on URL based on a string modified with URLEncoder","body":"<p>You want to use <a href=\"https://github.com/fge/uri-template\" rel=\"nofollow noreferrer\">URI templates</a>. Look carefully at the README of this project: <code>URLEncoder.encode()</code> does NOT work for URIs.</p>\n<p>Let us take your original URL:</p>\n<pre><code>http://site-test.test.com/Meetings/IC/DownloadDocument?meetingId=c21c905c-8359-4bd6-b864-844709e05754&amp;itemId=a4b724d1-282e-4b36-9d16-d619a807ba67&amp;file=\\\\s604132shvw140\\Test-Documents\\c21c905c-8359-4bd6-b864-844709e05754_attachments\\7e89c3cb-ce53-4a04-a9ee-1a584e157987\\myDoc.pdf\n</code></pre>\n<p>And convert it to a URI template with two variables (on multiple lines for clarity):</p>\n<pre><code>http://site-test.test.com/Meetings/IC/DownloadDocument\n    ?meetingId={meetingID}&amp;itemId={itemID}&amp;file={file}\n</code></pre>\n<p>Now let us build a variable map with these three variables using the library mentioned in the link:</p>\n<pre><code>final VariableMap = VariableMap.newBuilder()\n    .addScalarValue(&quot;meetingID&quot;, &quot;c21c905c-8359-4bd6-b864-844709e05754&quot;)\n    .addScalarValue(&quot;itemID&quot;, &quot;a4b724d1-282e-4b36-9d16-d619a807ba67e&quot;)\n    .addScalarValue(&quot;file&quot;, &quot;\\\\\\\\s604132shvw140\\\\Test-Documents&quot;\n        + &quot;\\\\c21c905c-8359-4bd6-b864-844709e05754_attachments&quot;\n        + &quot;\\\\7e89c3cb-ce53-4a04-a9ee-1a584e157987\\\\myDoc.pdf&quot;)\n    .build();\n\nfinal URITemplate template\n    = new URITemplate(&quot;http://site-test.test.com/Meetings/IC/DownloadDocument&quot;\n        + &quot;meetingId={meetingID}&amp;itemId={itemID}&amp;file={file}&quot;);\n\n// Generate URL as a String\nfinal String theURL = template.expand(vars);\n</code></pre>\n<p>This is GUARANTEED to return a fully functional URL!</p>\n"},{"tags":[],"owner":{"account_id":184486,"reputation":3546,"user_id":420560,"display_name":"m-szalik"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1393589811,"creation_date":1393589424,"answer_id":22094845,"question_id":22093864,"body_markdown":"You need to encode your parameter&#39;s values before concatenating them to URL.  \r\nBackslash `\\` is special character which have to be escaped as `%5C`\r\n\r\nEscaping example:\r\n\r\n    String paramValue = &quot;param\\\\with\\\\backslash&quot;;\r\n    String yourURLStr = &quot;http://host.com?param=&quot; + java.net.URLEncoder.encode(paramValue, &quot;UTF-8&quot;);\r\n    java.net.URL url = new java.net.URL(yourURLStr);\r\n\r\nThe result is `http://host.com?param=param%5Cwith%5Cbackslash` which is properly formatted url string.","title":"java.net.MalformedURLException: no protocol on URL based on a string modified with URLEncoder","body":"<p>You need to encode your parameter's values before concatenating them to URL.<br>\nBackslash <code>\\</code> is special character which have to be escaped as <code>%5C</code></p>\n\n<p>Escaping example:</p>\n\n<pre><code>String paramValue = \"param\\\\with\\\\backslash\";\nString yourURLStr = \"http://host.com?param=\" + java.net.URLEncoder.encode(paramValue, \"UTF-8\");\njava.net.URL url = new java.net.URL(yourURLStr);\n</code></pre>\n\n<p>The result is <code>http://host.com?param=param%5Cwith%5Cbackslash</code> which is properly formatted url string.</p>\n"},{"tags":[],"owner":{"account_id":1721698,"reputation":3579,"user_id":1577363,"display_name":"erhun"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1457960021,"creation_date":1401458783,"answer_id":23956554,"question_id":22093864,"body_markdown":"I have the same problem, i read the url with an properties file:\r\n\r\n    String configFile = System.getenv(&quot;system.Environment&quot;);\r\n    \t\tif (configFile == null || &quot;&quot;.equalsIgnoreCase(configFile.trim())) {\r\n    \t\t\tconfigFile = &quot;dev.properties&quot;;\r\n    \t\t}\r\n    \t\t// Load properties \r\n    \t\tProperties properties = new Properties();\r\n    \t\tproperties.load(getClass().getResourceAsStream(&quot;/&quot; + configFile));\r\n           //read url from file\r\n    \t\tapiUrl = properties.getProperty(&quot;url&quot;).trim();\r\n                URL url = new URL(apiUrl);\r\n                //throw exception here\r\n\t\tURLConnection conn = url.openConnection();\r\n\r\ndev.properties\r\n\r\n    url = &quot;https://myDevServer.com/dev/api/gate&quot;\r\n\r\nit should be \r\n\r\ndev.properties\r\n\r\n    url = https://myDevServer.com/dev/api/gate\r\n\r\nwithout &quot;&quot; and my problem is solved.\r\n\r\nAccording to oracle [documentation][1] \r\n\r\n&gt;  - Thrown to indicate that a malformed URL has occurred. Either no legal protocol could be found in a specification string or the string\r\n&gt; could not be parsed.\r\n\r\nSo it means it is not parsed inside the string.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/net/MalformedURLException.html","title":"java.net.MalformedURLException: no protocol on URL based on a string modified with URLEncoder","body":"<p>I have the same problem, i read the url with an properties file:</p>\n\n<pre><code>String configFile = System.getenv(\"system.Environment\");\n        if (configFile == null || \"\".equalsIgnoreCase(configFile.trim())) {\n            configFile = \"dev.properties\";\n        }\n        // Load properties \n        Properties properties = new Properties();\n        properties.load(getClass().getResourceAsStream(\"/\" + configFile));\n       //read url from file\n        apiUrl = properties.getProperty(\"url\").trim();\n            URL url = new URL(apiUrl);\n            //throw exception here\n    URLConnection conn = url.openConnection();\n</code></pre>\n\n<p>dev.properties</p>\n\n<pre><code>url = \"https://myDevServer.com/dev/api/gate\"\n</code></pre>\n\n<p>it should be </p>\n\n<p>dev.properties</p>\n\n<pre><code>url = https://myDevServer.com/dev/api/gate\n</code></pre>\n\n<p>without \"\" and my problem is solved.</p>\n\n<p>According to oracle <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/MalformedURLException.html\" rel=\"noreferrer\">documentation</a> </p>\n\n<blockquote>\n  <ul>\n  <li>Thrown to indicate that a malformed URL has occurred. Either no legal protocol could be found in a specification string or the string\n  could not be parsed.</li>\n  </ul>\n</blockquote>\n\n<p>So it means it is not parsed inside the string.</p>\n"},{"tags":[],"owner":{"account_id":1561405,"reputation":3143,"user_id":1451197,"display_name":"Dave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551365321,"creation_date":1551365321,"answer_id":54928312,"question_id":22093864,"body_markdown":"Thanks to Erhun&#39;s answer I finally realised that my JSON mapper was returning the quotation marks around my data too! I needed to use &quot;**asText()**&quot; instead of &quot;_toString()_&quot;\r\n\r\nIt&#39;s not an uncommon issue - one&#39;s brain doesn&#39;t see anything wrong with the correct data, surrounded by quotes!\r\n\r\n    discoveryJson.path(&quot;some_endpoint&quot;).toString();\r\n    &quot;https://what.the.com/heck&quot;\r\n    \r\n    discoveryJson.path(&quot;some_endpoint&quot;).asText();\r\n    https://what.the.com/heck\r\n\r\n","title":"java.net.MalformedURLException: no protocol on URL based on a string modified with URLEncoder","body":"<p>Thanks to Erhun's answer I finally realised that my JSON mapper was returning the quotation marks around my data too! I needed to use \"<strong>asText()</strong>\" instead of \"<em>toString()</em>\"</p>\n\n<p>It's not an uncommon issue - one's brain doesn't see anything wrong with the correct data, surrounded by quotes!</p>\n\n<pre><code>discoveryJson.path(\"some_endpoint\").toString();\n\"https://what.the.com/heck\"\n\ndiscoveryJson.path(\"some_endpoint\").asText();\nhttps://what.the.com/heck\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10109755,"reputation":590,"user_id":7471133,"accept_rate":67,"display_name":"Ajay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636035192,"creation_date":1591686635,"answer_id":62276966,"question_id":22093864,"body_markdown":"This code **worked** for me\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            java.net.URL url = new java.net.URL(&quot;http://path&quot;);\r\n            System.out.println(&quot;Instantiated new URL: &quot; + url);\r\n        }\r\n        catch (MalformedURLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nInstantiated new URL: http://path","title":"java.net.MalformedURLException: no protocol on URL based on a string modified with URLEncoder","body":"<p>This code <strong>worked</strong> for me</p>\n<pre><code>public static void main(String[] args) {\n    try {\n        java.net.URL url = new java.net.URL(&quot;http://path&quot;);\n        System.out.println(&quot;Instantiated new URL: &quot; + url);\n    }\n    catch (MalformedURLException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Instantiated new URL: http://path</p>\n"},{"tags":[],"owner":{"account_id":22566866,"reputation":799,"user_id":16753754,"display_name":"Anton Cavanaugh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681757019,"creation_date":1635433723,"answer_id":69756600,"question_id":22093864,"body_markdown":"Very simple fix:\r\n```\r\nString encodedURL = UriUtils.encodePath(request.getUrl(), &quot;UTF-8&quot;); \r\n```\r\nNo extra functionality needed.","title":"java.net.MalformedURLException: no protocol on URL based on a string modified with URLEncoder","body":"<p>Very simple fix:</p>\n<pre><code>String encodedURL = UriUtils.encodePath(request.getUrl(), &quot;UTF-8&quot;); \n</code></pre>\n<p>No extra functionality needed.</p>\n"},{"tags":[],"owner":{"account_id":9512351,"reputation":51,"user_id":8427016,"display_name":"Praveen Dasare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681780466,"creation_date":1681321801,"answer_id":75998457,"question_id":22093864,"body_markdown":"I was adding the value in the double quotes (`&quot;`) when I changed the key-value pairs from my `.properties` file the issue was resolved key-value pair should not be enclosed under double quotes","title":"java.net.MalformedURLException: no protocol on URL based on a string modified with URLEncoder","body":"<p>I was adding the value in the double quotes (<code>&quot;</code>) when I changed the key-value pairs from my <code>.properties</code> file the issue was resolved key-value pair should not be enclosed under double quotes</p>\n"}],"owner":{"account_id":2465187,"reputation":854,"user_id":2148461,"accept_rate":82,"display_name":"MorkPork"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344496,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":22094845,"answer_count":7,"score":42,"last_activity_date":1681780466,"creation_date":1393586766,"question_id":22093864,"body_markdown":"So I was attempting to use this String in a URL :- \r\n\r\n    http://site-test.com/Meetings/IC/DownloadDocument?meetingId=c21c905c-8359-4bd6-b864-844709e05754&amp;itemId=a4b724d1-282e-4b36-9d16-d619a807ba67&amp;file=\\\\s604132shvw140\\Test-Documents\\c21c905c-8359-4bd6-b864-844709e05754_attachments\\7e89c3cb-ce53-4a04-a9ee-1a584e157987\\myDoc.pdf\r\n\r\nIn this code: -\r\n\r\n    String fileToDownloadLocation = //The above string\r\n    URL fileToDownload = new URL(fileToDownloadLocation);\r\n    HttpGet httpget = new HttpGet(fileToDownload.toURI());\r\n\r\nBut at this point I get the error: -\r\n\r\n    java.net.URISyntaxException: Illegal character in query at index 169:Blahblahblah\r\n\r\nI realised with a bit of googling this was due to the characters in the URL (guessing the &amp;), so I then added in some code so it now looks like so: -\r\n\r\n    String fileToDownloadLocation = //The above string\r\n    fileToDownloadLocation = URLEncoder.encode(fileToDownloadLocation, &quot;UTF-8&quot;);\r\n    URL fileToDownload = new URL(fileToDownloadLocation);\r\n    HttpGet httpget = new HttpGet(fileToDownload.toURI());\r\n\r\nHowever, when I try and run this I get an error when I try and create the URL, the error then reads: -\r\n\r\n    java.net.MalformedURLException: no protocol: http%3A%2F%2Fsite-test.testsite.com%2FMeetings%2FIC%2FDownloadDocument%3FmeetingId%3Dc21c905c-8359-4bd6-b864-844709e05754%26itemId%3Da4b724d1-282e-4b36-9d16-d619a807ba67%26file%3D%5C%5Cs604132shvw140%5CTest-Documents%5Cc21c905c-8359-4bd6-b864-844709e05754_attachments%5C7e89c3cb-ce53-4a04-a9ee-1a584e157987%myDoc.pdf\r\n\r\nIt looks like I can&#39;t do the encoding until after I&#39;ve created the URL else it replaces slashes and things which it shouldn&#39;t, but I can&#39;t see how I can create the URL with the string and then format it so its suitable for use.  I&#39;m not particularly familiar with all this and was hoping someone might be able to point out to me what I&#39;m missing to get string A into a suitably formatted URL to then use with the correct characters replaced?\r\n\r\nAny suggestions greatly appreciated!\r\n\r\n\r\n","title":"java.net.MalformedURLException: no protocol on URL based on a string modified with URLEncoder","body":"<p>So I was attempting to use this String in a URL :- </p>\n\n<pre><code>http://site-test.com/Meetings/IC/DownloadDocument?meetingId=c21c905c-8359-4bd6-b864-844709e05754&amp;itemId=a4b724d1-282e-4b36-9d16-d619a807ba67&amp;file=\\\\s604132shvw140\\Test-Documents\\c21c905c-8359-4bd6-b864-844709e05754_attachments\\7e89c3cb-ce53-4a04-a9ee-1a584e157987\\myDoc.pdf\n</code></pre>\n\n<p>In this code: -</p>\n\n<pre><code>String fileToDownloadLocation = //The above string\nURL fileToDownload = new URL(fileToDownloadLocation);\nHttpGet httpget = new HttpGet(fileToDownload.toURI());\n</code></pre>\n\n<p>But at this point I get the error: -</p>\n\n<pre><code>java.net.URISyntaxException: Illegal character in query at index 169:Blahblahblah\n</code></pre>\n\n<p>I realised with a bit of googling this was due to the characters in the URL (guessing the &amp;), so I then added in some code so it now looks like so: -</p>\n\n<pre><code>String fileToDownloadLocation = //The above string\nfileToDownloadLocation = URLEncoder.encode(fileToDownloadLocation, \"UTF-8\");\nURL fileToDownload = new URL(fileToDownloadLocation);\nHttpGet httpget = new HttpGet(fileToDownload.toURI());\n</code></pre>\n\n<p>However, when I try and run this I get an error when I try and create the URL, the error then reads: -</p>\n\n<pre><code>java.net.MalformedURLException: no protocol: http%3A%2F%2Fsite-test.testsite.com%2FMeetings%2FIC%2FDownloadDocument%3FmeetingId%3Dc21c905c-8359-4bd6-b864-844709e05754%26itemId%3Da4b724d1-282e-4b36-9d16-d619a807ba67%26file%3D%5C%5Cs604132shvw140%5CTest-Documents%5Cc21c905c-8359-4bd6-b864-844709e05754_attachments%5C7e89c3cb-ce53-4a04-a9ee-1a584e157987%myDoc.pdf\n</code></pre>\n\n<p>It looks like I can't do the encoding until after I've created the URL else it replaces slashes and things which it shouldn't, but I can't see how I can create the URL with the string and then format it so its suitable for use.  I'm not particularly familiar with all this and was hoping someone might be able to point out to me what I'm missing to get string A into a suitably formatted URL to then use with the correct characters replaced?</p>\n\n<p>Any suggestions greatly appreciated!</p>\n"},{"tags":["java","android","listview","bitmap","subsampling"],"answers":[{"tags":[],"owner":{"account_id":356709,"reputation":24084,"user_id":696391,"accept_rate":83,"display_name":"samgak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1433746681,"creation_date":1433729229,"answer_id":30700370,"question_id":30699041,"body_markdown":"You aren&#39;t passing in your image file name to `decodeSampledBitmapFromResource`, so how is it going to know which file to load? The resource id you are passing in is the resource id for your ImageView, not the resource id of an image resource.\r\n\r\nIf you want to load an image from a file given a filename instead of a resource, you need to change `decodeSampledBitmapFromResource` to load from a file using [BitmapFactory.decodeFile()][1] instead of [BitmapFactory.decodeResource][2], like this:\r\n\r\n    public static Bitmap decodeSampledBitmapFromFile(String filename,\r\n        int reqWidth, int reqHeight) {\r\n    \r\n        // First decode with inJustDecodeBounds=true to check dimensions\r\n        final BitmapFactory.Options options = new BitmapFactory.Options();\r\n        options.inJustDecodeBounds = true;\r\n        BitmapFactory.decodeFile(filename, options);\r\n    \r\n        // Calculate inSampleSize\r\n        options.inSampleSize = calculateInSampleSize(options, reqWidth, reqHeight);\r\n    \r\n        // Decode bitmap with inSampleSize set\r\n        options.inJustDecodeBounds = false;\r\n        return BitmapFactory.decodeFile(filename, options);\r\n    }\r\n\r\nThen change your ArrayList code to pass in the filename to it:\r\n\r\n    item_details.setImageBitmap(decodeSampledBitmapFromFile(&quot;/storage/emulated/0/Pictures/&quot; + text7[i], 100, 100));\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/graphics/BitmapFactory.html#decodeFile(java.lang.String,%20android.graphics.BitmapFactory.Options)\r\n  [2]: http://developer.android.com/reference/android/graphics/BitmapFactory.html#decodeResource(android.content.res.Resources,%20int,%20android.graphics.BitmapFactory.Options)","title":"android Bitmap Subsampling of Image","body":"<p>You aren't passing in your image file name to <code>decodeSampledBitmapFromResource</code>, so how is it going to know which file to load? The resource id you are passing in is the resource id for your ImageView, not the resource id of an image resource.</p>\n\n<p>If you want to load an image from a file given a filename instead of a resource, you need to change <code>decodeSampledBitmapFromResource</code> to load from a file using <a href=\"http://developer.android.com/reference/android/graphics/BitmapFactory.html#decodeFile(java.lang.String,%20android.graphics.BitmapFactory.Options)\" rel=\"nofollow\">BitmapFactory.decodeFile()</a> instead of <a href=\"http://developer.android.com/reference/android/graphics/BitmapFactory.html#decodeResource(android.content.res.Resources,%20int,%20android.graphics.BitmapFactory.Options)\" rel=\"nofollow\">BitmapFactory.decodeResource</a>, like this:</p>\n\n<pre><code>public static Bitmap decodeSampledBitmapFromFile(String filename,\n    int reqWidth, int reqHeight) {\n\n    // First decode with inJustDecodeBounds=true to check dimensions\n    final BitmapFactory.Options options = new BitmapFactory.Options();\n    options.inJustDecodeBounds = true;\n    BitmapFactory.decodeFile(filename, options);\n\n    // Calculate inSampleSize\n    options.inSampleSize = calculateInSampleSize(options, reqWidth, reqHeight);\n\n    // Decode bitmap with inSampleSize set\n    options.inJustDecodeBounds = false;\n    return BitmapFactory.decodeFile(filename, options);\n}\n</code></pre>\n\n<p>Then change your ArrayList code to pass in the filename to it:</p>\n\n<pre><code>item_details.setImageBitmap(decodeSampledBitmapFromFile(\"/storage/emulated/0/Pictures/\" + text7[i], 100, 100));\n</code></pre>\n"}],"owner":{"account_id":5730819,"reputation":159,"user_id":4526427,"accept_rate":89,"display_name":"Mark Barr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":827,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30700370,"answer_count":1,"score":1,"last_activity_date":1681780261,"creation_date":1433715561,"question_id":30699041,"body_markdown":"I have problems with out of memory errors when displaying images in a list view from the SD Card\r\n\r\nI know its because I need to subsample the bitmap as they are large 8mp pictures and if I shrink them to 600x450 they load perfectly\r\n\r\nI load them normally by using the following\r\n\r\n    Bitmap bmp = BitmapFactory.decodeFile(&quot;/storage/emulated/0/Pictures/&quot; + text7[i]);\r\n    item_details.setImage(bmp);\r\n\r\nAs I said this crashes the app if I use the full size images\r\n\r\nI have the following two methods which supposidly subsamples the bitmap\r\n\r\n    public static Bitmap decodeSampledBitmapFromResource(Resources res, int resId,\r\n        int reqWidth, int reqHeight) {\r\n\r\n        // First decode with inJustDecodeBounds=true to check dimensions\r\n        final BitmapFactory.Options options = new BitmapFactory.Options();\r\n        options.inJustDecodeBounds = true;\r\n        BitmapFactory.decodeResource(res, resId, options);\r\n\r\n        // Calculate inSampleSize\r\n        options.inSampleSize = calculateInSampleSize(options, reqWidth, reqHeight);\r\n\r\n        // Decode bitmap with inSampleSize set\r\n        options.inJustDecodeBounds = false;\r\n        return BitmapFactory.decodeResource(res, resId, options);\r\n    }\r\n    public static int calculateInSampleSize(BitmapFactory.Options options, int reqWidth, int reqHeight) {\r\n        // Raw height and width of image\r\n        final int height = options.outHeight;\r\n        final int width = options.outWidth;\r\n        int inSampleSize = 1;\r\n    \r\n        if (height &gt; reqHeight || width &gt; reqWidth) {\r\n    \r\n            final int halfHeight = height / 2;\r\n            final int halfWidth = width / 2;\r\n    \r\n            // Calculate the largest inSampleSize value that is a power of 2 and keeps both\r\n            // height and width larger than the requested height and width.\r\n            while ((halfHeight / inSampleSize) &gt; reqHeight\r\n                    &amp;&amp; (halfWidth / inSampleSize) &gt; reqWidth) {\r\n                inSampleSize *= 2;\r\n            }\r\n        }\r\n    \r\n        return inSampleSize;\r\n    }\r\n\r\n\r\nProblem is I dont know how to call it so it displays\r\n\r\nThis is my method for filling the listview\r\n\r\n    private ArrayList&lt;ListItemDetails&gt; GetSearchResults() {\r\n        // TODO Auto-generated method stub\r\n        ArrayList&lt;ListItemDetails&gt; results = new ArrayList&lt;ListItemDetails&gt;();\r\n        ImageView imageview = (ImageView) findViewById(R.id.imageView1);\r\n        DBAdapter db = new DBAdapter(this);\r\n        db.open();\r\n        Cursor c = db.getAsset3();\r\n        String[] text1 = new String[c.getCount()];\r\n        String[] text2 = new String[c.getCount()];\r\n        String[] text3 = new String[c.getCount()];\r\n        String[] text4 = new String[c.getCount()];\r\n        String[] text5 = new String[c.getCount()];\r\n        String[] text6 = new String[c.getCount()];\r\n        String[] text7 = new String[c.getCount()];\r\n        for(int i = 0; c.moveToNext(); ++i)\r\n        {\r\n        \ttext1[i] = c.getString(0);\r\n            text2[i] = c.getString(1);\r\n            text3[i] = c.getString(2);\r\n            text4[i] = c.getString(3);\r\n            text5[i] = c.getString(4);\r\n            text6[i] = c.getString(5);\r\n            text7[i] = c.getString(6);\r\n        }\r\n        c.close();\r\n        \r\n        for(int i=0;i&lt;text1.length;i++)\r\n        {\r\n            item_details= new ListItemDetails();\r\n            item_details.setSR1(&quot;School: &quot; + text1[i]);\r\n            item_details.setSR2(&quot;Building: &quot; + text2[i]);\r\n            item_details.setSR3(&quot;Floor: &quot; + text3[i]);\r\n            item_details.setSR4(&quot;Room: &quot; + text4[i]);\r\n            item_details.setSR5(&quot;Drawing Ref: &quot; + text5[i]);\r\n            item_details.setSR6(&quot;Fault: &quot; + text6[i]);\r\n            item_details.setSR7(&quot;Picture Filename: &quot; + text7[i]);\r\n            String picFormat=&quot;Harris%d.jpg&quot;;\r\n            String pic = String.format(picFormat, i+1);\r\n               \r\n            // Load bitmap\r\n            imageview.setImageBitmap(decodeSampledBitmapFromResource(getResources(), R.id.imageView1, 100, 100));\r\n\r\n            results.add(item_details);\r\n        }\r\n        return results;\r\n    }\r\n\r\nIt seems to work as the list view loads and all the text on each item is there but the image is blank\r\n\r\nAny ideas where I am going wrong?","title":"android Bitmap Subsampling of Image","body":"<p>I have problems with out of memory errors when displaying images in a list view from the SD Card</p>\n<p>I know its because I need to subsample the bitmap as they are large 8mp pictures and if I shrink them to 600x450 they load perfectly</p>\n<p>I load them normally by using the following</p>\n<pre><code>Bitmap bmp = BitmapFactory.decodeFile(&quot;/storage/emulated/0/Pictures/&quot; + text7[i]);\nitem_details.setImage(bmp);\n</code></pre>\n<p>As I said this crashes the app if I use the full size images</p>\n<p>I have the following two methods which supposidly subsamples the bitmap</p>\n<pre><code>public static Bitmap decodeSampledBitmapFromResource(Resources res, int resId,\n    int reqWidth, int reqHeight) {\n\n    // First decode with inJustDecodeBounds=true to check dimensions\n    final BitmapFactory.Options options = new BitmapFactory.Options();\n    options.inJustDecodeBounds = true;\n    BitmapFactory.decodeResource(res, resId, options);\n\n    // Calculate inSampleSize\n    options.inSampleSize = calculateInSampleSize(options, reqWidth, reqHeight);\n\n    // Decode bitmap with inSampleSize set\n    options.inJustDecodeBounds = false;\n    return BitmapFactory.decodeResource(res, resId, options);\n}\npublic static int calculateInSampleSize(BitmapFactory.Options options, int reqWidth, int reqHeight) {\n    // Raw height and width of image\n    final int height = options.outHeight;\n    final int width = options.outWidth;\n    int inSampleSize = 1;\n\n    if (height &gt; reqHeight || width &gt; reqWidth) {\n\n        final int halfHeight = height / 2;\n        final int halfWidth = width / 2;\n\n        // Calculate the largest inSampleSize value that is a power of 2 and keeps both\n        // height and width larger than the requested height and width.\n        while ((halfHeight / inSampleSize) &gt; reqHeight\n                &amp;&amp; (halfWidth / inSampleSize) &gt; reqWidth) {\n            inSampleSize *= 2;\n        }\n    }\n\n    return inSampleSize;\n}\n</code></pre>\n<p>Problem is I dont know how to call it so it displays</p>\n<p>This is my method for filling the listview</p>\n<pre><code>private ArrayList&lt;ListItemDetails&gt; GetSearchResults() {\n    // TODO Auto-generated method stub\n    ArrayList&lt;ListItemDetails&gt; results = new ArrayList&lt;ListItemDetails&gt;();\n    ImageView imageview = (ImageView) findViewById(R.id.imageView1);\n    DBAdapter db = new DBAdapter(this);\n    db.open();\n    Cursor c = db.getAsset3();\n    String[] text1 = new String[c.getCount()];\n    String[] text2 = new String[c.getCount()];\n    String[] text3 = new String[c.getCount()];\n    String[] text4 = new String[c.getCount()];\n    String[] text5 = new String[c.getCount()];\n    String[] text6 = new String[c.getCount()];\n    String[] text7 = new String[c.getCount()];\n    for(int i = 0; c.moveToNext(); ++i)\n    {\n        text1[i] = c.getString(0);\n        text2[i] = c.getString(1);\n        text3[i] = c.getString(2);\n        text4[i] = c.getString(3);\n        text5[i] = c.getString(4);\n        text6[i] = c.getString(5);\n        text7[i] = c.getString(6);\n    }\n    c.close();\n    \n    for(int i=0;i&lt;text1.length;i++)\n    {\n        item_details= new ListItemDetails();\n        item_details.setSR1(&quot;School: &quot; + text1[i]);\n        item_details.setSR2(&quot;Building: &quot; + text2[i]);\n        item_details.setSR3(&quot;Floor: &quot; + text3[i]);\n        item_details.setSR4(&quot;Room: &quot; + text4[i]);\n        item_details.setSR5(&quot;Drawing Ref: &quot; + text5[i]);\n        item_details.setSR6(&quot;Fault: &quot; + text6[i]);\n        item_details.setSR7(&quot;Picture Filename: &quot; + text7[i]);\n        String picFormat=&quot;Harris%d.jpg&quot;;\n        String pic = String.format(picFormat, i+1);\n           \n        // Load bitmap\n        imageview.setImageBitmap(decodeSampledBitmapFromResource(getResources(), R.id.imageView1, 100, 100));\n\n        results.add(item_details);\n    }\n    return results;\n}\n</code></pre>\n<p>It seems to work as the list view loads and all the text on each item is there but the image is blank</p>\n<p>Any ideas where I am going wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1681778385,"post_id":76040253,"comment_id":134108652,"body_markdown":"[`String#lastIndexOf`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html#lastIndexOf(int)), [`String#substring`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html#substring(int))?","body":"<a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html#lastIndexOf(int)\" rel=\"nofollow noreferrer\"><code>String#lastIndexOf</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html#substring(int)\" rel=\"nofollow noreferrer\"><code>String#substring</code></a>?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681778500,"post_id":76040253,"comment_id":134108663,"body_markdown":"`url.substring(url.lastIndexOf(&quot;/&quot;))` - just beware that you should the result of `lastIndexOf` and make it doesn&#39;t return a value `&lt; 0` and this will include the `/` character at the start of resulting string","body":"<code>url.substring(url.lastIndexOf(&quot;&#47;&quot;))</code> - just beware that you should the result of <code>lastIndexOf</code> and make it doesn&#39;t return a value <code>&lt; 0</code> and this will include the <code>&#47;</code> character at the start of resulting string"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":1,"creation_date":1681778772,"post_id":76040253,"comment_id":134108688,"body_markdown":"No. There are no unconstrained pointers. And strings are immutable. You need to make a new string.  (What that does behind the scenes is not defined).","body":"No. There are no unconstrained pointers. And strings are immutable. You need to make a new string.  (What that does behind the scenes is not defined)."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1681779010,"post_id":76040253,"comment_id":134108718,"body_markdown":"Delete the `j` loop and change `break;` to `return url.substring(i + 1);`","body":"Delete the <code>j</code> loop and change <code>break;</code> to <code>return url.substring(i + 1);</code>"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1681779260,"post_id":76040253,"comment_id":134108746,"body_markdown":"@shmosel - indeed, thus my parenthetical.  But one should banish such thoughts when programming. All I &quot;know&quot; to be true is what it says in the documented interface.","body":"@shmosel - indeed, thus my parenthetical.  But one should banish such thoughts when programming. All I &quot;know&quot; to be true is what it says in the documented interface."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1681782482,"post_id":76040253,"comment_id":134109106,"body_markdown":"@shmosel: I don&#39;t believe that&#39;s been true [since Java 7](https://stackoverflow.com/a/15612188/869736).","body":"@shmosel: I don&#39;t believe that&#39;s been true <a href=\"https://stackoverflow.com/a/15612188/869736\">since Java 7</a>."}],"answers":[{"tags":[],"owner":{"account_id":14587217,"reputation":43,"user_id":10535590,"display_name":"Teletubbies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681779562,"creation_date":1681779562,"answer_id":76040323,"question_id":76040253,"body_markdown":"    public static String getFileName(String url) {\r\n        if (url.contains(&quot;/&quot;)) {\r\n            return url.substring(url.lastIndexOf(&quot;/&quot;) + 1);\r\n        }\r\n        return &quot;not a valid url&quot;;\r\n    }\r\n\r\n","title":"Can i set up a pointer to a string somewhat in java","body":"<pre><code>public static String getFileName(String url) {\n    if (url.contains(&quot;/&quot;)) {\n        return url.substring(url.lastIndexOf(&quot;/&quot;) + 1);\n    }\n    return &quot;not a valid url&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":28334638,"reputation":13,"user_id":21668374,"display_name":"AGEERRTT"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1681779562,"creation_date":1681778290,"question_id":76040253,"body_markdown":"I have the following function.\r\n```\r\nstatic String getFilenameURL(String url) {\r\n    String ret = &quot;&quot;;\r\n    for (int i = url.length() - 1; i &gt;= 0; i--) {\r\n      if (url.charAt(i) == &#39;/&#39;) {\r\n        for (int j = i + 1; url.length() &gt; j; j++) {\r\n          ret += url.charAt(j);\r\n        }\r\n        break;\r\n      }\r\n    }\r\n    return ret;\r\n  }\r\n```\r\n\r\nIt goes backwards looking for a Forward slash then copies the string from the backslash.\r\nBut in C you could just put a pointer to the part you want to return instead of copying\r\nfrom bottom up to the String end, is there an equivalent in Java for this? ","title":"Can i set up a pointer to a string somewhat in java","body":"<p>I have the following function.</p>\n<pre><code>static String getFilenameURL(String url) {\n    String ret = &quot;&quot;;\n    for (int i = url.length() - 1; i &gt;= 0; i--) {\n      if (url.charAt(i) == '/') {\n        for (int j = i + 1; url.length() &gt; j; j++) {\n          ret += url.charAt(j);\n        }\n        break;\n      }\n    }\n    return ret;\n  }\n</code></pre>\n<p>It goes backwards looking for a Forward slash then copies the string from the backslash.\nBut in C you could just put a pointer to the part you want to return instead of copying\nfrom bottom up to the String end, is there an equivalent in Java for this?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681778448,"creation_date":1659654490,"answer_id":73243076,"question_id":73242941,"body_markdown":"I copied pasted your instructions/your code:\r\n\r\n1. If the year is evenly divisible by 4, go to step 2. Otherwise, go to step 5.\r\n2. If the year is evenly divisible by 100, go to step 3. Otherwise, go to step 4.\r\n3. If the year is evenly divisible by 400, go to step 4. Otherwise, go to step 5.\r\n4. The year is a leap year (it has 366 days). The method isLeapYear needs to return true.\r\n5. The year is not a leap year (it has 365 days). The method isLeapYear needs to return false.\r\n\r\n        public class LeapYear {\r\n    \r\n          public static boolean isLeapYear (int year) {\r\n            //0) greater than or equal to 1 and less than or equal to 9999.\r\n            if (year &lt; 1 || year &gt; 9999) {\r\n              return false;\r\n            }\r\n    \r\n            //1) If the year is evenly divisible by 4, go to step 2. Otherwise, go to step 5\r\n            if (year % 4 != 0 ) {\r\n              return false;\r\n            }\r\n    \r\n            //2) If the year is evenly divisible by 100, go to step 3. Otherwise, go to step 4.\r\n            if (year % 100 != 0) {\r\n              return true;\r\n            }\r\n    \r\n            //3) If the year is evenly divisible by 400, go to step 4. Otherwise, go to step 5\r\n            if (year % 400 != 0) {\r\n              return false;\r\n            }\r\n    \r\n            //4) The year is a leap year (it has 366 days)\r\n            return true;\r\n          }\r\n        }\r\n\r\nOften, a &quot;trick&quot; to simplify your expressions is to realize things like:\r\n* &quot;x is greater than or equal to 1&quot; is equivalent to &quot;x is not less than 1&quot;\r\n* &quot;y is evenly divisible by 4&quot; is equivalent to &quot;not y % 4 != 0&quot; \r\n* Etc.","title":"Java Udemy course leap year calculator - can&#39;t figure out what am I doing wrong","body":"<p>I copied pasted your instructions/your code:</p>\n<ol>\n<li><p>If the year is evenly divisible by 4, go to step 2. Otherwise, go to step 5.</p>\n</li>\n<li><p>If the year is evenly divisible by 100, go to step 3. Otherwise, go to step 4.</p>\n</li>\n<li><p>If the year is evenly divisible by 400, go to step 4. Otherwise, go to step 5.</p>\n</li>\n<li><p>The year is a leap year (it has 366 days). The method isLeapYear needs to return true.</p>\n</li>\n<li><p>The year is not a leap year (it has 365 days). The method isLeapYear needs to return false.</p>\n<pre><code> public class LeapYear {\n\n   public static boolean isLeapYear (int year) {\n     //0) greater than or equal to 1 and less than or equal to 9999.\n     if (year &lt; 1 || year &gt; 9999) {\n       return false;\n     }\n\n     //1) If the year is evenly divisible by 4, go to step 2. Otherwise, go to step 5\n     if (year % 4 != 0 ) {\n       return false;\n     }\n\n     //2) If the year is evenly divisible by 100, go to step 3. Otherwise, go to step 4.\n     if (year % 100 != 0) {\n       return true;\n     }\n\n     //3) If the year is evenly divisible by 400, go to step 4. Otherwise, go to step 5\n     if (year % 400 != 0) {\n       return false;\n     }\n\n     //4) The year is a leap year (it has 366 days)\n     return true;\n   }\n }\n</code></pre>\n</li>\n</ol>\n<p>Often, a &quot;trick&quot; to simplify your expressions is to realize things like:</p>\n<ul>\n<li>&quot;x is greater than or equal to 1&quot; is equivalent to &quot;x is not less than 1&quot;</li>\n<li>&quot;y is evenly divisible by 4&quot; is equivalent to &quot;not y % 4 != 0&quot;</li>\n<li>Etc.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659661884,"creation_date":1659656693,"answer_id":73243268,"question_id":73242941,"body_markdown":"If you rearrange your steps slightly, you can do it in fewer steps as follows.\r\n```\r\npublic class LeapYear {\r\n\r\n   public static boolean isLeapYear (int year) {\r\n       // check range - only years between 1 and 9999 inclusive allowed\r\n      if ( year &lt; 1 || year &gt; 9999) {\r\n            return false;\r\n       }\r\n\r\n      // If the year is evenly divisible by 400 return true.\r\n      if (year % 400 == 0) {\r\n          return true;\r\n      }\r\n\r\n      // If the year is evenly divisible 100 return false\r\n      if (year % 100 == 0) {\r\n         return false;\r\n      }\r\n\r\n      // if year is divisible by 4 return true/ else false.\r\n      \r\n      return year % 4 == 0; //returns true or false depending on year\r\n   }\r\n}\r\n\r\n","title":"Java Udemy course leap year calculator - can&#39;t figure out what am I doing wrong","body":"<p>If you rearrange your steps slightly, you can do it in fewer steps as follows.</p>\n<pre><code>public class LeapYear {\n\n   public static boolean isLeapYear (int year) {\n       // check range - only years between 1 and 9999 inclusive allowed\n      if ( year &lt; 1 || year &gt; 9999) {\n            return false;\n       }\n\n      // If the year is evenly divisible by 400 return true.\n      if (year % 400 == 0) {\n          return true;\n      }\n\n      // If the year is evenly divisible 100 return false\n      if (year % 100 == 0) {\n         return false;\n      }\n\n      // if year is divisible by 4 return true/ else false.\n      \n      return year % 4 == 0; //returns true or false depending on year\n   }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22040961,"reputation":1343,"user_id":16306754,"display_name":"The Blind Hawk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679822073,"creation_date":1659664417,"answer_id":73243848,"question_id":73242941,"body_markdown":"First thing I notice is:\r\n```\r\n//Out of range\r\nif ( year &gt;= 1 &amp;&amp; year &lt;= 9999) {\r\n   return false;\r\n}\r\n```\r\n\r\nShould be:\r\n\r\n```\r\n//Out of range\r\nif ( year &lt; 1 || year &gt; 9999) {\r\n   return false;\r\n}\r\n```\r\nBecause it&#39;s written the wrong way round. Aside from that, the code seems fine, although it could be improved.\r\n\r\nCan you also give an example of how the output you are getting differs from the output you want?\r\n","title":"Java Udemy course leap year calculator - can&#39;t figure out what am I doing wrong","body":"<p>First thing I notice is:</p>\n<pre><code>//Out of range\nif ( year &gt;= 1 &amp;&amp; year &lt;= 9999) {\n   return false;\n}\n</code></pre>\n<p>Should be:</p>\n<pre><code>//Out of range\nif ( year &lt; 1 || year &gt; 9999) {\n   return false;\n}\n</code></pre>\n<p>Because it's written the wrong way round. Aside from that, the code seems fine, although it could be improved.</p>\n<p>Can you also give an example of how the output you are getting differs from the output you want?</p>\n"}],"owner":{"account_id":25981633,"reputation":1,"user_id":19695236,"display_name":"ComputerScienceStudent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":649,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1681778448,"creation_date":1659653127,"question_id":73242941,"body_markdown":"I am unable to find out why my code isn&#39;t working. I have figured out another way to solve this problem, but I want to understand why it won&#39;t work as I did. That&#39;s all I want to understand. I don&#39;t need it to be solved.\r\n\r\nLeap Year Calculator\r\nWrite a method isLeapYear with a parameter of type int named year.\r\n\r\nThe parameter needs to be greater than or equal to 1 and less than or equal to 9999.\r\n\r\nIf the parameter is not in that range return false.\r\n\r\nOtherwise, if it is in the valid range, calculate if the year is a leap year and return true if it is a leap year, otherwise return false.\r\n\r\nTo determine whether a year is a leap year, follow these steps: \r\n1. If the year is evenly divisible by 4, go to step 2. Otherwise, go to step 5.\r\n2. If the year is evenly divisible by 100, go to step 3. Otherwise, go to step 4.\r\n3. If the year is evenly divisible by 400, go to step 4. Otherwise, go to step 5.\r\n4. The year is a leap year (it has 366 days). The method isLeapYear needs to return true.\r\n5. The year is not a leap year (it has 365 days). The method isLeapYear needs to return false.\r\n\r\n\r\n\r\nThe following years are not leap years:\r\n1700, 1800, 1900, 2100, 2200, 2300, 2500, 2600\r\nThis is because they are evenly divisible by 100 but not by 400.\r\n\r\n\r\nThe following years are leap years:\r\n1600, 2000, 2400\r\nThis is because they are evenly divisible by both 100 and 400.\r\n\r\n\r\n\r\nExamples of input/output:\r\n\r\nisLeapYear(-1600); → should return false since the parameter is not in range (1-9999)\r\n\r\nisLeapYear(1600); → should return true since 1600 is a leap year\r\n\r\nisLeapYear(2017); → should return false since 2017 is not a leap year\r\n\r\nisLeapYear(2000);  → should return true because 2000 is a leap year \r\n\r\nNOTE: The method isLeapYear needs to be defined as public static ​like we have been doing so far in the course.\r\nNOTE: Do not add a  main method to solution code.\r\n\r\n  \r\n\r\n&gt;     My Code:\r\n\r\n    \r\n    public class LeapYear {\r\n    \r\n        public static boolean isLeapYear (int year) {\r\n    \r\n            //Out of range\r\n            if ( year &gt;= 1 &amp;&amp; year &lt;= 9999) {\r\n                return false;\r\n            }\r\n            //calculating if the year is a leap year or not\r\n            if ( year % 4 == 0 ) {\r\n                if ( year % 100 == 0) {\r\n                    if ( year % 400 == 0) {\r\n                        return true;\r\n                    }else {\r\n                        return false;\r\n                    }\r\n                } else {\r\n                    return true;\r\n                }\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    }","title":"Java Udemy course leap year calculator - can&#39;t figure out what am I doing wrong","body":"<p>I am unable to find out why my code isn't working. I have figured out another way to solve this problem, but I want to understand why it won't work as I did. That's all I want to understand. I don't need it to be solved.</p>\n<p>Leap Year Calculator\nWrite a method isLeapYear with a parameter of type int named year.</p>\n<p>The parameter needs to be greater than or equal to 1 and less than or equal to 9999.</p>\n<p>If the parameter is not in that range return false.</p>\n<p>Otherwise, if it is in the valid range, calculate if the year is a leap year and return true if it is a leap year, otherwise return false.</p>\n<p>To determine whether a year is a leap year, follow these steps:</p>\n<ol>\n<li>If the year is evenly divisible by 4, go to step 2. Otherwise, go to step 5.</li>\n<li>If the year is evenly divisible by 100, go to step 3. Otherwise, go to step 4.</li>\n<li>If the year is evenly divisible by 400, go to step 4. Otherwise, go to step 5.</li>\n<li>The year is a leap year (it has 366 days). The method isLeapYear needs to return true.</li>\n<li>The year is not a leap year (it has 365 days). The method isLeapYear needs to return false.</li>\n</ol>\n<p>The following years are not leap years:\n1700, 1800, 1900, 2100, 2200, 2300, 2500, 2600\nThis is because they are evenly divisible by 100 but not by 400.</p>\n<p>The following years are leap years:\n1600, 2000, 2400\nThis is because they are evenly divisible by both 100 and 400.</p>\n<p>Examples of input/output:</p>\n<p>isLeapYear(-1600); → should return false since the parameter is not in range (1-9999)</p>\n<p>isLeapYear(1600); → should return true since 1600 is a leap year</p>\n<p>isLeapYear(2017); → should return false since 2017 is not a leap year</p>\n<p>isLeapYear(2000);  → should return true because 2000 is a leap year</p>\n<p>NOTE: The method isLeapYear needs to be defined as public static ​like we have been doing so far in the course.\nNOTE: Do not add a  main method to solution code.</p>\n<p>  </p>\n<blockquote>\n<pre><code>My Code:\n</code></pre>\n</blockquote>\n<pre><code>public class LeapYear {\n\n    public static boolean isLeapYear (int year) {\n\n        //Out of range\n        if ( year &gt;= 1 &amp;&amp; year &lt;= 9999) {\n            return false;\n        }\n        //calculating if the year is a leap year or not\n        if ( year % 4 == 0 ) {\n            if ( year % 100 == 0) {\n                if ( year % 400 == 0) {\n                    return true;\n                }else {\n                    return false;\n                }\n            } else {\n                return true;\n            }\n        } else {\n            return false;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","validation","annotations"],"comments":[{"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"score":0,"creation_date":1681786409,"post_id":76040232,"comment_id":134109442,"body_markdown":"I would add a `consumes = MediaType.APPLICATION_JSON_VALUE)` and this would guarantee that only a valid Json can be received in your request body.","body":"I would add a <code>consumes = MediaType.APPLICATION_JSON_VALUE)</code> and this would guarantee that only a valid Json can be received in your request body."}],"answers":[{"tags":[],"owner":{"account_id":1002576,"reputation":7185,"user_id":1017111,"accept_rate":94,"display_name":"WowBow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681778277,"creation_date":1681778277,"answer_id":76040252,"question_id":76040232,"body_markdown":"I found the solution for this:\r\n\r\nI was getting HttpMessageNotReadableException so I made an exception handler method for that and it worked. Please let me know if there is a better way of doing this.\r\n\r\n    @ExceptionHandler(HttpMessageNotReadableException.class)\r\n    public ResponseEntity&lt;String&gt; handleHttpMessageNotReadableException(HttpMessageNotReadableException e) {\r\n        return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;Invalid request body format&quot;);\r\n    }","title":"Simplest way of validating RequestBody json syntax errors on Controller in Spring Boot","body":"<p>I found the solution for this:</p>\n<p>I was getting HttpMessageNotReadableException so I made an exception handler method for that and it worked. Please let me know if there is a better way of doing this.</p>\n<pre><code>@ExceptionHandler(HttpMessageNotReadableException.class)\npublic ResponseEntity&lt;String&gt; handleHttpMessageNotReadableException(HttpMessageNotReadableException e) {\n    return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;Invalid request body format&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":1002576,"reputation":7185,"user_id":1017111,"accept_rate":94,"display_name":"WowBow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681778277,"creation_date":1681777911,"question_id":76040232,"body_markdown":"I have the following controller which handles several business logic exceptions. However, if client sends a request body with syntax error for e.g in json format, it throws an exception. \r\n\r\nWhat annotations and how would you use to return friendly message back to the client if the RequestBody or Json format has issues ?\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;String&gt; createMovie(@Valid @RequestBody Movie movie) {\r\n        try {\r\n\r\n            Movie newMovie = movieService.create(movie);\r\n            return ResponseEntity.status(HttpStatus.CREATED).body(newMovie.toString());\r\n        } catch (  MediaValidationException | IllegalArgumentException e ) {\r\n            return ResponseEntity.status(HttpStatus.CONFLICT).body(e.getMessage());\r\n        }\r\n        catch (Exception e) {\r\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(movie.toString());\r\n        }\r\n\r\n    }","title":"Simplest way of validating RequestBody json syntax errors on Controller in Spring Boot","body":"<p>I have the following controller which handles several business logic exceptions. However, if client sends a request body with syntax error for e.g in json format, it throws an exception.</p>\n<p>What annotations and how would you use to return friendly message back to the client if the RequestBody or Json format has issues ?</p>\n<pre><code>@PostMapping\npublic ResponseEntity&lt;String&gt; createMovie(@Valid @RequestBody Movie movie) {\n    try {\n\n        Movie newMovie = movieService.create(movie);\n        return ResponseEntity.status(HttpStatus.CREATED).body(newMovie.toString());\n    } catch (  MediaValidationException | IllegalArgumentException e ) {\n        return ResponseEntity.status(HttpStatus.CONFLICT).body(e.getMessage());\n    }\n    catch (Exception e) {\n        return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(movie.toString());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","ssl","apache-kafka"],"comments":[{"owner":{"account_id":15561237,"reputation":1596,"user_id":11226302,"display_name":"Shivam Puri"},"score":0,"creation_date":1576225969,"post_id":59318588,"comment_id":104838048,"body_markdown":"I found this https://stackoverflow.com/a/54517407/11226302 to be very useful for the same in java.","body":"I found this <a href=\"https://stackoverflow.com/a/54517407/11226302\">stackoverflow.com/a/54517407/11226302</a> to be very useful for the same in java."},{"owner":{"account_id":2840474,"reputation":1946,"user_id":2440202,"accept_rate":83,"display_name":"Dth"},"score":0,"creation_date":1576226600,"post_id":59318588,"comment_id":104838308,"body_markdown":"@ShivamPuri Yes, using the noop TrustManager does the job in Java, and I&#39;m looking for a similar solution here. But Kafka client initialises itself and, as far as I&#39;m concerned, I can only configure it with the settings it exposes, so I found no way of doing that.","body":"@ShivamPuri Yes, using the noop TrustManager does the job in Java, and I&#39;m looking for a similar solution here. But Kafka client initialises itself and, as far as I&#39;m concerned, I can only configure it with the settings it exposes, so I found no way of doing that."},{"owner":{"account_id":1964595,"reputation":25422,"user_id":1765189,"display_name":"Mickael Maison"},"score":1,"creation_date":1576235987,"post_id":59318588,"comment_id":104842876,"body_markdown":"If you&#39;re both skipping certification and hostname validation, it feels like you want to use PLAINTEXT instead of SSL","body":"If you&#39;re both skipping certification and hostname validation, it feels like you want to use PLAINTEXT instead of SSL"},{"owner":{"account_id":7783437,"reputation":10208,"user_id":5889131,"accept_rate":100,"display_name":"jeremysprofile"},"score":8,"creation_date":1579818585,"post_id":59318588,"comment_id":105904629,"body_markdown":"@MickaelMaison, SSL without auth can still be useful. Encrypted network traffic is a benefit even if you do not authenticate on either side of the connection.","body":"@MickaelMaison, SSL without auth can still be useful. Encrypted network traffic is a benefit even if you do not authenticate on either side of the connection."}],"answers":[{"tags":[],"owner":{"account_id":1601824,"reputation":383,"user_id":1482710,"accept_rate":60,"display_name":"martinnemec3"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1668527148,"creation_date":1607954291,"answer_id":65290268,"question_id":59318588,"body_markdown":"There is one way to accomplish it however it&#39;s not so straightforward.\r\n\r\nThe idea is to implement the interface org.apache.kafka.common.security.auth.SslEngineFactory that will ignore the certificate validation. When you use it as a client it should be enough to implement just the createClientSslEngine method in a way similar to this:\r\n```\r\nimport org.apache.kafka.common.security.auth.SslEngineFactory;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.SSLEngine;\r\nimport javax.net.ssl.TrustManager;\r\nimport javax.net.ssl.X509TrustManager;\r\nimport java.security.KeyManagementException;\r\nimport java.security.KeyStore;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.SecureRandom;\r\nimport java.security.cert.X509Certificate;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\npublic class InsecureSslEngineFactory implements SslEngineFactory {\r\n\r\n    private final TrustManager INSECURE_TRUST_MANAGER = new X509TrustManager() {\r\n\r\n        public X509Certificate[] getAcceptedIssuers() {\r\n            return null;\r\n        }\r\n\r\n        public void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n            // empty\r\n        }\r\n\r\n        public void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n            // empty\r\n        }\r\n    };\r\n\r\n    @Override\r\n    public SSLEngine createClientSslEngine(String peerHost, int peerPort, String endpointIdentification) {\r\n        TrustManager[] trustManagers = new TrustManager[]{ INSECURE_TRUST_MANAGER };\r\n        try {\r\n            SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n            sslContext.init(null, trustManagers, new SecureRandom());\r\n            SSLEngine sslEngine = sslContext.createSSLEngine(peerHost, peerPort);\r\n            sslEngine.setUseClientMode(true);\r\n            return sslEngine;\r\n        } catch (NoSuchAlgorithmException | KeyManagementException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public SSLEngine createServerSslEngine(String peerHost, int peerPort) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public boolean shouldBeRebuilt(Map&lt;String, Object&gt; nextConfigs) {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;String&gt; reconfigurableConfigs() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public KeyStore keystore() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public KeyStore truststore() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void configure(Map&lt;String, ?&gt; configs) {\r\n\r\n    }\r\n}\r\n```\r\n\r\nAfter having this class finished you just configure it as a SSL_ENGINE_FACTORY_CLASS in kafka (producer or consumer) properties:\r\n\r\n    props.put(SslConfigs.SSL_ENGINE_FACTORY_CLASS, InsecureSslEngineFactory.class);\r\nor if you don&#39;t want to use the constant:\r\n\r\n    props.put(&quot;ssl.engine.factory.class&quot;, InsecureSslEngineFactory.class);\r\n\r\n**Make sure you don&#39;t use this setup in production!**","title":"Is it possible to disable SSL certificate verification in Apache Kafka Java client?","body":"<p>There is one way to accomplish it however it's not so straightforward.</p>\n<p>The idea is to implement the interface org.apache.kafka.common.security.auth.SslEngineFactory that will ignore the certificate validation. When you use it as a client it should be enough to implement just the createClientSslEngine method in a way similar to this:</p>\n<pre><code>import org.apache.kafka.common.security.auth.SslEngineFactory;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLEngine;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509TrustManager;\nimport java.security.KeyManagementException;\nimport java.security.KeyStore;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.SecureRandom;\nimport java.security.cert.X509Certificate;\nimport java.util.Map;\nimport java.util.Set;\n\npublic class InsecureSslEngineFactory implements SslEngineFactory {\n\n    private final TrustManager INSECURE_TRUST_MANAGER = new X509TrustManager() {\n\n        public X509Certificate[] getAcceptedIssuers() {\n            return null;\n        }\n\n        public void checkClientTrusted(X509Certificate[] certs, String authType) {\n            // empty\n        }\n\n        public void checkServerTrusted(X509Certificate[] certs, String authType) {\n            // empty\n        }\n    };\n\n    @Override\n    public SSLEngine createClientSslEngine(String peerHost, int peerPort, String endpointIdentification) {\n        TrustManager[] trustManagers = new TrustManager[]{ INSECURE_TRUST_MANAGER };\n        try {\n            SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\n            sslContext.init(null, trustManagers, new SecureRandom());\n            SSLEngine sslEngine = sslContext.createSSLEngine(peerHost, peerPort);\n            sslEngine.setUseClientMode(true);\n            return sslEngine;\n        } catch (NoSuchAlgorithmException | KeyManagementException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    public SSLEngine createServerSslEngine(String peerHost, int peerPort) {\n        return null;\n    }\n\n    @Override\n    public boolean shouldBeRebuilt(Map&lt;String, Object&gt; nextConfigs) {\n        return false;\n    }\n\n    @Override\n    public Set&lt;String&gt; reconfigurableConfigs() {\n        return null;\n    }\n\n    @Override\n    public KeyStore keystore() {\n        return null;\n    }\n\n    @Override\n    public KeyStore truststore() {\n        return null;\n    }\n\n    @Override\n    public void close() {\n\n    }\n\n    @Override\n    public void configure(Map&lt;String, ?&gt; configs) {\n\n    }\n}\n</code></pre>\n<p>After having this class finished you just configure it as a SSL_ENGINE_FACTORY_CLASS in kafka (producer or consumer) properties:</p>\n<pre><code>props.put(SslConfigs.SSL_ENGINE_FACTORY_CLASS, InsecureSslEngineFactory.class);\n</code></pre>\n<p>or if you don't want to use the constant:</p>\n<pre><code>props.put(&quot;ssl.engine.factory.class&quot;, InsecureSslEngineFactory.class);\n</code></pre>\n<p><strong>Make sure you don't use this setup in production!</strong></p>\n"},{"tags":[],"owner":{"account_id":95012,"reputation":1321,"user_id":259025,"accept_rate":0,"display_name":"ncowboy"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1681777057,"creation_date":1681777057,"answer_id":76040176,"question_id":59318588,"body_markdown":"`src/main/resources/application.yml`\r\n\r\n```\r\n#Server host name verification is disabled by setting ssl.endpoint.identification.algorithm to an empty string\r\nspring.kafka.properties.ssl.endpoint.identification.algorithm\r\n```","title":"Is it possible to disable SSL certificate verification in Apache Kafka Java client?","body":"<p><code>src/main/resources/application.yml</code></p>\n<pre><code>#Server host name verification is disabled by setting ssl.endpoint.identification.algorithm to an empty string\nspring.kafka.properties.ssl.endpoint.identification.algorithm\n</code></pre>\n"}],"owner":{"account_id":2840474,"reputation":1946,"user_id":2440202,"accept_rate":83,"display_name":"Dth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15100,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1681777057,"creation_date":1576225136,"question_id":59318588,"body_markdown":"If I have a self-signed certificate, as a good citizen, I will import it to my keystore and configure Kafka client with &quot;ssl.truststore.location&quot; and &quot;ssl.truststore.type&quot; in order to use it.\r\n\r\nIf expect that a Common Name from certificate&#39;s subject can differ from the host&#39;s address that presented it, I can turn off the endpoint validation with &quot;ssl.endpoint.identification.algorithm&quot;.\r\n\r\nWhat if I wanted to skip the SSL validation altogether, not just for the hostname, so that I no longer need to copy the certificates around? Analogous to the &quot;-k&quot; or &quot;--insecure&quot; setting in curl. Can I do it with a default Java client for Kafka?","title":"Is it possible to disable SSL certificate verification in Apache Kafka Java client?","body":"<p>If I have a self-signed certificate, as a good citizen, I will import it to my keystore and configure Kafka client with \"ssl.truststore.location\" and \"ssl.truststore.type\" in order to use it.</p>\n\n<p>If expect that a Common Name from certificate's subject can differ from the host's address that presented it, I can turn off the endpoint validation with \"ssl.endpoint.identification.algorithm\".</p>\n\n<p>What if I wanted to skip the SSL validation altogether, not just for the hostname, so that I no longer need to copy the certificates around? Analogous to the \"-k\" or \"--insecure\" setting in curl. Can I do it with a default Java client for Kafka?</p>\n"},{"tags":["java","android-studio","proguard","google-play-console","android-r8"],"owner":{"account_id":24149720,"reputation":21,"user_id":18114761,"display_name":"everythingequals42"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681775885,"creation_date":1681732203,"question_id":76034863,"body_markdown":"My app works on test device but crashes on playstore with this ERROR:\r\n\r\n\r\n&gt; Exception java.lang.RuntimeException:   at\r\n&gt; android.app.ActivityThread.performLaunchActivity\r\n&gt; (ActivityThread.java:4048)   at\r\n&gt; android.app.ActivityThread.handleLaunchActivity\r\n&gt; (ActivityThread.java:4312)   at\r\n&gt; android.app.servertransaction.LaunchActivityItem.execute\r\n&gt; (LaunchActivityItem.java:101)   at\r\n&gt; android.app.servertransaction.TransactionExecutor.executeCallbacks\r\n&gt; (TransactionExecutor.java:135)   at\r\n&gt; android.app.servertransaction.TransactionExecutor.execute\r\n&gt; (TransactionExecutor.java:95)   at\r\n&gt; android.app.ActivityThread$H.handleMessage (ActivityThread.java:2571) \r\n&gt; at android.os.Handler.dispatchMessage (Handler.java:106)   at\r\n&gt; android.os.Looper.loopOnce (Looper.java:226)   at\r\n&gt; android.os.Looper.loop (Looper.java:313)   at\r\n&gt; android.app.ActivityThread.main (ActivityThread.java:8741)   at\r\n&gt; java.lang.reflect.Method.invoke   at\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run\r\n&gt; (RuntimeInit.java:571)   at com.android.internal.os.ZygoteInit.main\r\n&gt; (ZygoteInit.java:1067) Caused by java.lang.ClassNotFoundException:  \r\n&gt; at dalvik.system.BaseDexClassLoader.findClass\r\n&gt; (BaseDexClassLoader.java:259)   at java.lang.ClassLoader.loadClass\r\n&gt; (ClassLoader.java:379)   at java.lang.ClassLoader.loadClass\r\n&gt; (ClassLoader.java:312)   at\r\n&gt; android.app.AppComponentFactory.instantiateActivity\r\n&gt; (AppComponentFactory.java:95)   at\r\n&gt; androidx.core.app.CoreComponentFactory.instantiateActivity\r\n&gt; (CoreComponentFactory.java:45)   at\r\n&gt; android.app.Instrumentation.newActivity (Instrumentation.java:1328)  \r\n&gt; at android.app.ActivityThread.performLaunchActivity\r\n&gt; (ActivityThread.java:4035)\r\n\r\n\r\nI thought it might have something to do with proguard so I tried disabling it by creating a `proguaurd-rules.pro` file in platform&gt;android&gt;app so the app file contains the proguard-rules.pro I honestly copied and pasted it there from another project so maybe this has caused an issue but I didn&#39;t think it would. \r\n\r\nAfter I added that file I went in to the build.gradle and added this code:\r\n\r\n```gradle\r\n            release {\r\n                signingConfig signingConfigs.release\r\n                minifyEnabled true\r\n                proguardFiles &#39;proguard-rules.pro&#39;\r\n            }\r\n            debug {\r\n                minifyEnabled false\r\n                proguardFiles &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n```\r\n\r\nThat did nothing for the crash so I went back and changed the code to this:\r\n\r\n```gradle\r\n            release {\r\n                signingConfig signingConfigs.release\r\n                minifyEnabled false\r\n                useproguard false\r\n                proguardFiles &#39;proguard-rules.pro&#39;\r\n            }\r\n            debug {\r\n                minifyEnabled false\r\n                useproguard false\r\n                proguardFiles &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n```\r\nthe crashes are still occurring and I am still getting the same error message on the play console, what am I doing wrong? Is this even a proguard issue or maybe something else? \r\n\r\nupdate: I&#39;ve since added multidex support by adding the library and enabling multidex in the defaultconfig and that did nothhing for the crashes.\r\n\r\nhere is the logcat:\r\n```\r\n2023-04-17 19:32:57.775 11564-11564/? I/Calculator.FRE: Late-enabling -Xcheck:jni\r\n2023-04-17 19:32:58.821 11564-11564/? E/Calculator.FRE: Unknown bits set in runtime_flags: 0x8000\r\n2023-04-17 19:32:58.824 11564-11564/? W/Calculator.FRE: Unexpected CPU variant for X86 using defaults: x86\r\n2023-04-17 19:33:05.098 11564-11564/com.BMICalculator.FREE I/Calculator.FRE: Waiting for a blocking GC ClassLinker\r\n2023-04-17 19:33:05.228 11564-11564/com.BMICalculator.FREE I/Calculator.FRE: WaitForGcToComplete blocked ClassLinker on HeapTrim for 130.343ms\r\n2023-04-17 19:33:05.525 11564-11564/com.BMICalculator.FREE D/AndroidRuntime: Shutting down VM\r\n2023-04-17 19:33:05.555 11564-11596/com.BMICalculator.FREE D/libEGL: Emulator has host GPU support, qemu.gles is set to 1.\r\n2023-04-17 19:33:05.555 11564-11596/com.BMICalculator.FREE W/libc: Unable to set property &quot;qemu.gles&quot; to &quot;1&quot;: connection failed; errno=13 (Permission denied)\r\n2023-04-17 19:33:05.581 11564-11564/com.BMICalculator.FREE E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.BMICalculator.FREE, PID: 11564\r\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.BMICalculator.FREE/com.BMICalculator.FREE.MainActivity}: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.BMICalculator.FREE.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/lib/x86, /system/lib, /system/product/lib]]\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3194)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.BMICalculator.FREE.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/lib/x86, /system/lib, /system/product/lib]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\r\n        at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\r\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1243)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3182)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)&#160;\r\n        at android.os.Looper.loop(Looper.java:214)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)&#160;\r\n2023-04-17 19:33:05.676 11564-11596/com.BMICalculator.FREE D/libEGL: loaded /vendor/lib/egl/libEGL_emulation.so\r\n2023-04-17 19:33:05.678 11564-11596/com.BMICalculator.FREE D/libEGL: loaded /vendor/lib/egl/libGLESv1_CM_emulation.so\r\n2023-04-17 19:33:05.688 11564-11596/com.BMICalculator.FREE D/libEGL: loaded /vendor/lib/egl/libGLESv2_emulation.so\r\n2023-04-17 19:33:05.705 11564-11564/com.BMICalculator.FREE I/Process: Sending signal. PID: 11564 SIG: 9\r\n2023-04-17 19:33:05.552 11564-11564/? W/RenderThread: type=1400 audit(0.0:82): avc: denied { write } for name=&quot;property_service&quot; dev=&quot;tmpfs&quot; ino=6318 scontext=u:r:untrusted_app:s0:c153,c256,c512,c768 tcontext=u:object_r:property_socket:s0 tclass=sock_file permissive=0 app=com.BMICalculator.FREE2023-04-17 19:32:57.775 11564-11564/? I/Calculator.FRE: Late-enabling -Xcheck:jni\r\n2023-04-17 19:32:58.821 11564-11564/? E/Calculator.FRE: Unknown bits set in runtime_flags: 0x8000\r\n2023-04-17 19:32:58.824 11564-11564/? W/Calculator.FRE: Unexpected CPU variant for X86 using defaults: x86\r\n2023-04-17 19:33:05.098 11564-11564/com.BMICalculator.FREE I/Calculator.FRE: Waiting for a blocking GC ClassLinker\r\n2023-04-17 19:33:05.228 11564-11564/com.BMICalculator.FREE I/Calculator.FRE: WaitForGcToComplete blocked ClassLinker on HeapTrim for 130.343ms\r\n2023-04-17 19:33:05.525 11564-11564/com.BMICalculator.FREE D/AndroidRuntime: Shutting down VM\r\n2023-04-17 19:33:05.555 11564-11596/com.BMICalculator.FREE D/libEGL: Emulator has host GPU support, qemu.gles is set to 1.\r\n2023-04-17 19:33:05.555 11564-11596/com.BMICalculator.FREE W/libc: Unable to set property &quot;qemu.gles&quot; to &quot;1&quot;: connection failed; errno=13 (Permission denied)\r\n2023-04-17 19:33:05.581 11564-11564/com.BMICalculator.FREE E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.BMICalculator.FREE, PID: 11564\r\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.BMICalculator.FREE/com.BMICalculator.FREE.MainActivity}: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.BMICalculator.FREE.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/lib/x86, /system/lib, /system/product/lib]]\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3194)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.BMICalculator.FREE.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/lib/x86, /system/lib, /system/product/lib]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\r\n        at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\r\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1243)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3182)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)&#160;\r\n        at android.os.Looper.loop(Looper.java:214)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)&#160;\r\n2023-04-17 19:33:05.676 11564-11596/com.BMICalculator.FREE D/libEGL: loaded /vendor/lib/egl/libEGL_emulation.so\r\n2023-04-17 19:33:05.678 11564-11596/com.BMICalculator.FREE D/libEGL: loaded /vendor/lib/egl/libGLESv1_CM_emulation.so\r\n2023-04-17 19:33:05.688 11564-11596/com.BMICalculator.FREE D/libEGL: loaded /vendor/lib/egl/libGLESv2_emulation.so\r\n2023-04-17 19:33:05.705 11564-11564/com.BMICalculator.FREE I/Process: Sending signal. PID: 11564 SIG: 9\r\n2023-04-17 19:33:05.552 11564-11564/? W/RenderThread: type=1400 audit(0.0:82): avc: denied { write } for name=&quot;property_service&quot; dev=&quot;tmpfs&quot; ino=6318 scontext=u:r:untrusted_app:s0:c153,c256,c512,c768 tcontext=u:object_r:property_socket:s0 tclass=sock_file permissive=0 app=com.BMICalculator.FREE\r\n```\r\n\r\n\r\n\r\n","title":"java.lang.RuntimeException Error and App Crashing On Google Play Logcat Added","body":"<p>My app works on test device but crashes on playstore with this ERROR:</p>\n<blockquote>\n<p>Exception java.lang.RuntimeException:   at\nandroid.app.ActivityThread.performLaunchActivity\n(ActivityThread.java:4048)   at\nandroid.app.ActivityThread.handleLaunchActivity\n(ActivityThread.java:4312)   at\nandroid.app.servertransaction.LaunchActivityItem.execute\n(LaunchActivityItem.java:101)   at\nandroid.app.servertransaction.TransactionExecutor.executeCallbacks\n(TransactionExecutor.java:135)   at\nandroid.app.servertransaction.TransactionExecutor.execute\n(TransactionExecutor.java:95)   at\nandroid.app.ActivityThread$H.handleMessage (ActivityThread.java:2571)\nat android.os.Handler.dispatchMessage (Handler.java:106)   at\nandroid.os.Looper.loopOnce (Looper.java:226)   at\nandroid.os.Looper.loop (Looper.java:313)   at\nandroid.app.ActivityThread.main (ActivityThread.java:8741)   at\njava.lang.reflect.Method.invoke   at\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run\n(RuntimeInit.java:571)   at com.android.internal.os.ZygoteInit.main\n(ZygoteInit.java:1067) Caused by java.lang.ClassNotFoundException:<br />\nat dalvik.system.BaseDexClassLoader.findClass\n(BaseDexClassLoader.java:259)   at java.lang.ClassLoader.loadClass\n(ClassLoader.java:379)   at java.lang.ClassLoader.loadClass\n(ClassLoader.java:312)   at\nandroid.app.AppComponentFactory.instantiateActivity\n(AppComponentFactory.java:95)   at\nandroidx.core.app.CoreComponentFactory.instantiateActivity\n(CoreComponentFactory.java:45)   at\nandroid.app.Instrumentation.newActivity (Instrumentation.java:1328)<br />\nat android.app.ActivityThread.performLaunchActivity\n(ActivityThread.java:4035)</p>\n</blockquote>\n<p>I thought it might have something to do with proguard so I tried disabling it by creating a <code>proguaurd-rules.pro</code> file in platform&gt;android&gt;app so the app file contains the proguard-rules.pro I honestly copied and pasted it there from another project so maybe this has caused an issue but I didn't think it would.</p>\n<p>After I added that file I went in to the build.gradle and added this code:</p>\n<pre><code>            release {\n                signingConfig signingConfigs.release\n                minifyEnabled true\n                proguardFiles 'proguard-rules.pro'\n            }\n            debug {\n                minifyEnabled false\n                proguardFiles 'proguard-rules.pro'\n            }\n        }\n</code></pre>\n<p>That did nothing for the crash so I went back and changed the code to this:</p>\n<pre><code>            release {\n                signingConfig signingConfigs.release\n                minifyEnabled false\n                useproguard false\n                proguardFiles 'proguard-rules.pro'\n            }\n            debug {\n                minifyEnabled false\n                useproguard false\n                proguardFiles 'proguard-rules.pro'\n            }\n        }\n</code></pre>\n<p>the crashes are still occurring and I am still getting the same error message on the play console, what am I doing wrong? Is this even a proguard issue or maybe something else?</p>\n<p>update: I've since added multidex support by adding the library and enabling multidex in the defaultconfig and that did nothhing for the crashes.</p>\n<p>here is the logcat:</p>\n<pre><code>2023-04-17 19:32:57.775 11564-11564/? I/Calculator.FRE: Late-enabling -Xcheck:jni\n2023-04-17 19:32:58.821 11564-11564/? E/Calculator.FRE: Unknown bits set in runtime_flags: 0x8000\n2023-04-17 19:32:58.824 11564-11564/? W/Calculator.FRE: Unexpected CPU variant for X86 using defaults: x86\n2023-04-17 19:33:05.098 11564-11564/com.BMICalculator.FREE I/Calculator.FRE: Waiting for a blocking GC ClassLinker\n2023-04-17 19:33:05.228 11564-11564/com.BMICalculator.FREE I/Calculator.FRE: WaitForGcToComplete blocked ClassLinker on HeapTrim for 130.343ms\n2023-04-17 19:33:05.525 11564-11564/com.BMICalculator.FREE D/AndroidRuntime: Shutting down VM\n2023-04-17 19:33:05.555 11564-11596/com.BMICalculator.FREE D/libEGL: Emulator has host GPU support, qemu.gles is set to 1.\n2023-04-17 19:33:05.555 11564-11596/com.BMICalculator.FREE W/libc: Unable to set property &quot;qemu.gles&quot; to &quot;1&quot;: connection failed; errno=13 (Permission denied)\n2023-04-17 19:33:05.581 11564-11564/com.BMICalculator.FREE E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.BMICalculator.FREE, PID: 11564\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.BMICalculator.FREE/com.BMICalculator.FREE.MainActivity}: java.lang.ClassNotFoundException: Didn't find class &quot;com.BMICalculator.FREE.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/lib/x86, /system/lib, /system/product/lib]]\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3194)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;com.BMICalculator.FREE.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/lib/x86, /system/lib, /system/product/lib]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\n        at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1243)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3182)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016) \n        at android.os.Handler.dispatchMessage(Handler.java:107) \n        at android.os.Looper.loop(Looper.java:214) \n        at android.app.ActivityThread.main(ActivityThread.java:7356) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930) \n2023-04-17 19:33:05.676 11564-11596/com.BMICalculator.FREE D/libEGL: loaded /vendor/lib/egl/libEGL_emulation.so\n2023-04-17 19:33:05.678 11564-11596/com.BMICalculator.FREE D/libEGL: loaded /vendor/lib/egl/libGLESv1_CM_emulation.so\n2023-04-17 19:33:05.688 11564-11596/com.BMICalculator.FREE D/libEGL: loaded /vendor/lib/egl/libGLESv2_emulation.so\n2023-04-17 19:33:05.705 11564-11564/com.BMICalculator.FREE I/Process: Sending signal. PID: 11564 SIG: 9\n2023-04-17 19:33:05.552 11564-11564/? W/RenderThread: type=1400 audit(0.0:82): avc: denied { write } for name=&quot;property_service&quot; dev=&quot;tmpfs&quot; ino=6318 scontext=u:r:untrusted_app:s0:c153,c256,c512,c768 tcontext=u:object_r:property_socket:s0 tclass=sock_file permissive=0 app=com.BMICalculator.FREE2023-04-17 19:32:57.775 11564-11564/? I/Calculator.FRE: Late-enabling -Xcheck:jni\n2023-04-17 19:32:58.821 11564-11564/? E/Calculator.FRE: Unknown bits set in runtime_flags: 0x8000\n2023-04-17 19:32:58.824 11564-11564/? W/Calculator.FRE: Unexpected CPU variant for X86 using defaults: x86\n2023-04-17 19:33:05.098 11564-11564/com.BMICalculator.FREE I/Calculator.FRE: Waiting for a blocking GC ClassLinker\n2023-04-17 19:33:05.228 11564-11564/com.BMICalculator.FREE I/Calculator.FRE: WaitForGcToComplete blocked ClassLinker on HeapTrim for 130.343ms\n2023-04-17 19:33:05.525 11564-11564/com.BMICalculator.FREE D/AndroidRuntime: Shutting down VM\n2023-04-17 19:33:05.555 11564-11596/com.BMICalculator.FREE D/libEGL: Emulator has host GPU support, qemu.gles is set to 1.\n2023-04-17 19:33:05.555 11564-11596/com.BMICalculator.FREE W/libc: Unable to set property &quot;qemu.gles&quot; to &quot;1&quot;: connection failed; errno=13 (Permission denied)\n2023-04-17 19:33:05.581 11564-11564/com.BMICalculator.FREE E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.BMICalculator.FREE, PID: 11564\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.BMICalculator.FREE/com.BMICalculator.FREE.MainActivity}: java.lang.ClassNotFoundException: Didn't find class &quot;com.BMICalculator.FREE.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/lib/x86, /system/lib, /system/product/lib]]\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3194)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;com.BMICalculator.FREE.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/lib/x86, /system/lib, /system/product/lib]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\n        at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1243)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3182)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016) \n        at android.os.Handler.dispatchMessage(Handler.java:107) \n        at android.os.Looper.loop(Looper.java:214) \n        at android.app.ActivityThread.main(ActivityThread.java:7356) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930) \n2023-04-17 19:33:05.676 11564-11596/com.BMICalculator.FREE D/libEGL: loaded /vendor/lib/egl/libEGL_emulation.so\n2023-04-17 19:33:05.678 11564-11596/com.BMICalculator.FREE D/libEGL: loaded /vendor/lib/egl/libGLESv1_CM_emulation.so\n2023-04-17 19:33:05.688 11564-11596/com.BMICalculator.FREE D/libEGL: loaded /vendor/lib/egl/libGLESv2_emulation.so\n2023-04-17 19:33:05.705 11564-11564/com.BMICalculator.FREE I/Process: Sending signal. PID: 11564 SIG: 9\n2023-04-17 19:33:05.552 11564-11564/? W/RenderThread: type=1400 audit(0.0:82): avc: denied { write } for name=&quot;property_service&quot; dev=&quot;tmpfs&quot; ino=6318 scontext=u:r:untrusted_app:s0:c153,c256,c512,c768 tcontext=u:object_r:property_socket:s0 tclass=sock_file permissive=0 app=com.BMICalculator.FREE\n</code></pre>\n"},{"tags":["java","mysql","mongodb","hibernate","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":8296010,"reputation":764,"user_id":6236250,"display_name":"Rob Scully"},"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1559198593,"creation_date":1559196678,"answer_id":56372579,"question_id":56371736,"body_markdown":"The mongodb properties are all prefixed with spring.data.mongodb. For user property you would use \r\n\r\n    spring:\r\n      data:\r\n          mongodb:\r\n            user: test\r\n            password: passwordvalue\r\n            uri: mongodb://host:27017/db\r\n\r\nThe list of available mongodb properties are here:\r\n\r\n    https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\r\n\r\nYou can find them at source for how they are loaded on github:\r\n\r\n   https://github.com/spring-projects/spring-boot/blob/v2.1.5.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mongo/MongoProperties.java\r\n","title":"Spring boot Mongo DB .yml configuration","body":"<p>The mongodb properties are all prefixed with spring.data.mongodb. For user property you would use </p>\n\n<pre><code>spring:\n  data:\n      mongodb:\n        user: test\n        password: passwordvalue\n        uri: mongodb://host:27017/db\n</code></pre>\n\n<p>The list of available mongodb properties are here:</p>\n\n<pre><code>https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\n</code></pre>\n\n<p>You can find them at source for how they are loaded on github:</p>\n\n<p><a href=\"https://github.com/spring-projects/spring-boot/blob/v2.1.5.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mongo/MongoProperties.java\" rel=\"noreferrer\">https://github.com/spring-projects/spring-boot/blob/v2.1.5.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mongo/MongoProperties.java</a></p>\n"},{"tags":[],"owner":{"account_id":12613723,"reputation":930,"user_id":9171899,"display_name":"yuen26"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1562314304,"creation_date":1559197965,"answer_id":56372883,"question_id":56371736,"body_markdown":"You can do as below:\r\n\r\n```yaml\r\nspring:\r\n  data:\r\n    mongodb:\r\n      uri: mongodb://yourusername:yourpassword@localhost:27017/yourDB\r\n```","title":"Spring boot Mongo DB .yml configuration","body":"<p>You can do as below:</p>\n\n<pre><code>spring:\n  data:\n    mongodb:\n      uri: mongodb://yourusername:yourpassword@localhost:27017/yourDB\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15076433,"reputation":131,"user_id":15635042,"display_name":"Siddharth Aadarsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656421635,"creation_date":1656421635,"answer_id":72787014,"question_id":56371736,"body_markdown":"    spring:\r\n      data:\r\n        mongodb:\r\n          authentication-database: admin\r\n          username: #your_root_user     (default-&gt;rootuser)\r\n          password: #your_root_password (default-&gt;rootpass)\r\n          database: #your_db_name\r\n          port: #your_port              (default-&gt;27017)\r\n          host: #your_host              (default-&gt;localhost)\r\n\r\nFor me this worked.","title":"Spring boot Mongo DB .yml configuration","body":"<pre><code>spring:\n  data:\n    mongodb:\n      authentication-database: admin\n      username: #your_root_user     (default-&gt;rootuser)\n      password: #your_root_password (default-&gt;rootpass)\n      database: #your_db_name\n      port: #your_port              (default-&gt;27017)\n      host: #your_host              (default-&gt;localhost)\n</code></pre>\n<p>For me this worked.</p>\n"},{"tags":[],"owner":{"account_id":6467437,"reputation":75,"user_id":6686667,"display_name":"fayssal el ansari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681775560,"creation_date":1681775560,"answer_id":76040079,"question_id":56371736,"body_markdown":"you can put the same link you use to connect in `mongoDbCompass` in the URI property, make sure to let a space after each properties, for me I forgot to add a white space after `uri:` the working yml snippet is as follows:\r\n```yml\r\nspring:\r\n  data:\r\n    mongodb:\r\n      uri: mongodb+srv://&lt;username&gt;:&lt;password&gt;@cluster0.tt44qmp.mongodb.net/test\r\n```","title":"Spring boot Mongo DB .yml configuration","body":"<p>you can put the same link you use to connect in <code>mongoDbCompass</code> in the URI property, make sure to let a space after each properties, for me I forgot to add a white space after <code>uri:</code> the working yml snippet is as follows:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  data:\n    mongodb:\n      uri: mongodb+srv://&lt;username&gt;:&lt;password&gt;@cluster0.tt44qmp.mongodb.net/test\n</code></pre>\n"}],"owner":{"account_id":16039458,"reputation":134,"user_id":11576217,"display_name":"Ruth Shaves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27447,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":56372579,"answer_count":4,"score":5,"last_activity_date":1681775560,"creation_date":1559191305,"question_id":56371736,"body_markdown":"When I use MySQL and hibernate for spring boot, I use below configuration in  .yml file\r\n\r\n    spring:\r\n      datasource:\r\n        url: jdbc:mysql://localhost/userName?zeroDateTimeBehavior=convertToNull\r\n        username: userName\r\n        password: password\r\n        driverClassName: com.mysql.jdbc.Driver\r\n    \r\n      jpa:\r\n        show-sql: false\r\n        hibernate:\r\n          dialect: org.hibernate.dialect.MySQLDialect\r\n          format_sql: false\r\n          ddl-auto: update \r\n\r\nIf it is mongoDB instead of MySQL and hibernate how does it change?","title":"Spring boot Mongo DB .yml configuration","body":"<p>When I use MySQL and hibernate for spring boot, I use below configuration in  .yml file</p>\n\n<pre><code>spring:\n  datasource:\n    url: jdbc:mysql://localhost/userName?zeroDateTimeBehavior=convertToNull\n    username: userName\n    password: password\n    driverClassName: com.mysql.jdbc.Driver\n\n  jpa:\n    show-sql: false\n    hibernate:\n      dialect: org.hibernate.dialect.MySQLDialect\n      format_sql: false\n      ddl-auto: update \n</code></pre>\n\n<p>If it is mongoDB instead of MySQL and hibernate how does it change?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1510057318,"post_id":47157838,"comment_id":81264865,"body_markdown":"If you don&#39;t do anything with the results then why do you need to wait at all?If you need to wait until they&#39;re done then you _will_ use the results in some way.","body":"If you don&#39;t do anything with the results then why do you need to wait at all?If you need to wait until they&#39;re done then you <i>will</i> use the results in some way."},{"owner":{"account_id":2642343,"reputation":2154,"user_id":2285734,"accept_rate":100,"display_name":"Korashen"},"score":1,"creation_date":1510057458,"post_id":47157838,"comment_id":81264980,"body_markdown":"Not really. You could let those threads do some kind of data processing and need to wait for them all to finish until you a) process the next batch of data. b) close the connection to a data source (not necessary a DB) c) can simply show a feedback to the user like &quot;Done&quot;. I could continue with a few more examples, but the comment box is nearly full.","body":"Not really. You could let those threads do some kind of data processing and need to wait for them all to finish until you a) process the next batch of data. b) close the connection to a data source (not necessary a DB) c) can simply show a feedback to the user like &quot;Done&quot;. I could continue with a few more examples, but the comment box is nearly full."},{"owner":{"account_id":2642343,"reputation":2154,"user_id":2285734,"accept_rate":100,"display_name":"Korashen"},"score":0,"creation_date":1510057514,"post_id":47157838,"comment_id":81265028,"body_markdown":"What is the environment? Do you have a simple JavaSE program running on a local machine, or do you have an JavaEE environment with some kind of WebServer or ApplicationServer?","body":"What is the environment? Do you have a simple JavaSE program running on a local machine, or do you have an JavaEE environment with some kind of WebServer or ApplicationServer?"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1510057559,"post_id":47157838,"comment_id":81265065,"body_markdown":"How do you start your Threads? If you&#39;re using `ExecutorService#submit`, you won&#39;t have any `Thread` objects in your hand anyway. If you&#39;re manually creating `Thread`s (which you shouldn&#39;t), you can&#39;t really join them using a `ExecutorService`. I suggest you use the same mechanism for joining and forking.","body":"How do you start your Threads? If you&#39;re using <code>ExecutorService#submit</code>, you won&#39;t have any <code>Thread</code> objects in your hand anyway. If you&#39;re manually creating <code>Thread</code>s (which you shouldn&#39;t), you can&#39;t really join them using a <code>ExecutorService</code>. I suggest you use the same mechanism for joining and forking."},{"owner":{"account_id":5145261,"reputation":1519,"user_id":4121440,"accept_rate":89,"display_name":"Oleg"},"score":0,"creation_date":1510058275,"post_id":47157838,"comment_id":81265549,"body_markdown":"@Korashen EE environment on a Webserver","body":"@Korashen EE environment on a Webserver"},{"owner":{"account_id":2642343,"reputation":2154,"user_id":2285734,"accept_rate":100,"display_name":"Korashen"},"score":1,"creation_date":1510058486,"post_id":47157838,"comment_id":81265680,"body_markdown":"@Oleg In this case I strongly recomment to NOT use custom made threads, as the server will not know about them and they are running out of the servers context. Your webserver should provide you with threadpools, which you can configure via the Admin console. These threadpools are managed and watched by the server. You can get such a threadpool by a simple JNDI lookup or via the context.","body":"@Oleg In this case I strongly recomment to NOT use custom made threads, as the server will not know about them and they are running out of the servers context. Your webserver should provide you with threadpools, which you can configure via the Admin console. These threadpools are managed and watched by the server. You can get such a threadpool by a simple JNDI lookup or via the context."},{"owner":{"account_id":2642343,"reputation":2154,"user_id":2285734,"accept_rate":100,"display_name":"Korashen"},"score":1,"creation_date":1510059117,"post_id":47157838,"comment_id":81266181,"body_markdown":"Try one of the following:\nhttps://docs.oracle.com/javaee/7/api/javax/enterprise/concurrent/ManagedExecutorService.html\nor\nhttps://www.javacodegeeks.com/2014/07/java-ee-concurrency-api-tutorial.html\nor\njust google for it, there is a bunch of different information about Threadpools on the net.","body":"Try one of the following: <a href=\"https://docs.oracle.com/javaee/7/api/javax/enterprise/concurrent/ManagedExecutorService.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/7/api/javax/enterprise/concurrent/&hellip;</a> or <a href=\"https://www.javacodegeeks.com/2014/07/java-ee-concurrency-api-tutorial.html\" rel=\"nofollow noreferrer\">javacodegeeks.com/2014/07/java-ee-concurrency-api-tutorial.h&zwnj;&#8203;tml</a> or just google for it, there is a bunch of different information about Threadpools on the net."}],"answers":[{"tags":[],"owner":{"account_id":986973,"reputation":2101,"user_id":1005235,"accept_rate":83,"display_name":"light_303"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510057323,"creation_date":1510057323,"answer_id":47157892,"question_id":47157838,"body_markdown":"go for the executor service. this gives you many other benefits on top of managing the thread termination (e.g. capacity scaling and separation of execution logic and the actual tasks)","title":"Thread join vs ExecutorService.awaitTermination","body":"<p>go for the executor service. this gives you many other benefits on top of managing the thread termination (e.g. capacity scaling and separation of execution logic and the actual tasks)</p>\n"},{"tags":[],"owner":{"account_id":11618794,"reputation":221,"user_id":8510670,"display_name":"Stefan LoKran Dotti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510057448,"creation_date":1510057448,"answer_id":47157927,"question_id":47157838,"body_markdown":"With Executors you just do this.\r\n\r\n    ex.shutdown();\r\n    while (!ex.awaitTermination(1, TimeUnit.MINUTES)) {\r\n    }\r\n\r\nWhere ex is your *ExecutorService*. In the loop you can check if your threads are still alive or something like that.","title":"Thread join vs ExecutorService.awaitTermination","body":"<p>With Executors you just do this.</p>\n\n<pre><code>ex.shutdown();\nwhile (!ex.awaitTermination(1, TimeUnit.MINUTES)) {\n}\n</code></pre>\n\n<p>Where ex is your <em>ExecutorService</em>. In the loop you can check if your threads are still alive or something like that.</p>\n"},{"tags":[],"owner":{"account_id":7563805,"reputation":9,"user_id":5740216,"display_name":"Laxiwuka"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1510057538,"creation_date":1510057538,"answer_id":47157957,"question_id":47157838,"body_markdown":"You can do `while(!executor.isTerminated) {}`. Then you don&#39;t have to say how long you are willing to wait. ","title":"Thread join vs ExecutorService.awaitTermination","body":"<p>You can do <code>while(!executor.isTerminated) {}</code>. Then you don't have to say how long you are willing to wait. </p>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1510211606,"creation_date":1510058445,"answer_id":47158274,"question_id":47157838,"body_markdown":"As you say, you don&#39;t _need_ the `Future`s as such, but you can use them to await termination.\r\n\r\nSince you&#39;re using Java 8, you can do this via\r\n\r\n    ExecutorService es = Executors.newFixedThreadPool(kThreads);\r\n    container.stream()\r\n        .map(d -&gt; createRunnable(d)) // now you have Runnables\r\n        .map(es::submit) // now they&#39;re Futures\r\n        .forEach(Future::get); // get() will wait for futures to finish\r\n\r\nEDIT:\r\nI just realized that the stream will probably prevent the parallelism to begin with, so you need to collect them intermediately:\r\n\r\n    List&lt;Future&lt;?&gt;&gt; futures = container.stream()\r\n        .map(d -&gt; createRunnable(d)) // now you have Runnables\r\n        .map(es::submit) // now they&#39;re Futures\r\n        .collect(Collectors.toList());\r\n    futures.forEach(Future::get);\r\n\r\nActually, I fully understand that people are confused about having to wait without the futures returning a value. IMO, it would make more sense to have each future return the link of the upload it creates:\r\n\r\n    String scaleAndUpload() {\r\n        BufferedImage scaledBufferedImage=imageService.scale(...);\r\n        imageService.transferToAWS(...);\r\n        return linkToUploadedImage;\r\n    }\r\n\r\nSo you would get something like\r\n\r\n    List&lt;Future&lt;?&gt;&gt; futures = container.stream()\r\n        .map(d -&gt; scaleAndUpload()) // now you have Runnables\r\n        .map(es::submit) // now they&#39;re Futures\r\n        .collect(Collectors.toList());\r\n    return futures.stream()\r\n        .map(Future::get)  // collect the link when the future is finished\r\n        .collect(Collectors.toList()); // create a list of them","title":"Thread join vs ExecutorService.awaitTermination","body":"<p>As you say, you don't <em>need</em> the <code>Future</code>s as such, but you can use them to await termination.</p>\n\n<p>Since you're using Java 8, you can do this via</p>\n\n<pre><code>ExecutorService es = Executors.newFixedThreadPool(kThreads);\ncontainer.stream()\n    .map(d -&gt; createRunnable(d)) // now you have Runnables\n    .map(es::submit) // now they're Futures\n    .forEach(Future::get); // get() will wait for futures to finish\n</code></pre>\n\n<p>EDIT:\nI just realized that the stream will probably prevent the parallelism to begin with, so you need to collect them intermediately:</p>\n\n<pre><code>List&lt;Future&lt;?&gt;&gt; futures = container.stream()\n    .map(d -&gt; createRunnable(d)) // now you have Runnables\n    .map(es::submit) // now they're Futures\n    .collect(Collectors.toList());\nfutures.forEach(Future::get);\n</code></pre>\n\n<p>Actually, I fully understand that people are confused about having to wait without the futures returning a value. IMO, it would make more sense to have each future return the link of the upload it creates:</p>\n\n<pre><code>String scaleAndUpload() {\n    BufferedImage scaledBufferedImage=imageService.scale(...);\n    imageService.transferToAWS(...);\n    return linkToUploadedImage;\n}\n</code></pre>\n\n<p>So you would get something like</p>\n\n<pre><code>List&lt;Future&lt;?&gt;&gt; futures = container.stream()\n    .map(d -&gt; scaleAndUpload()) // now you have Runnables\n    .map(es::submit) // now they're Futures\n    .collect(Collectors.toList());\nreturn futures.stream()\n    .map(Future::get)  // collect the link when the future is finished\n    .collect(Collectors.toList()); // create a list of them\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681774774,"creation_date":1510080971,"answer_id":47165502,"question_id":47157838,"body_markdown":"&gt; Should I use the plain old `Thread` or the `ExecutorService` ?\r\n\r\nUse [ExecutorService][1]\r\n\r\n&gt; for the `ExecutorService.awaitTermination` I must give a certain time that I&#39;m willing to wait but for `Thread.join` I must not.\r\n\r\nFor proper shutdown of `ExecutorService`:  \r\nhttps://stackoverflow.com/questions/36644043/how-to-properly-shutdown-java-executorservice/36644320#36644320\r\n\r\nA few more alternatives:  \r\nhttps://stackoverflow.com/questions/7939257/wait-until-all-threads-finish-their-work-in-java/36797569#36797569\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html","title":"Thread join vs ExecutorService.awaitTermination","body":"<blockquote>\n<p>Should I use the plain old <code>Thread</code> or the <code>ExecutorService</code> ?</p>\n</blockquote>\n<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">ExecutorService</a></p>\n<blockquote>\n<p>for the <code>ExecutorService.awaitTermination</code> I must give a certain time that I'm willing to wait but for <code>Thread.join</code> I must not.</p>\n</blockquote>\n<p>For proper shutdown of <code>ExecutorService</code>:<br />\n<a href=\"https://stackoverflow.com/questions/36644043/how-to-properly-shutdown-java-executorservice/36644320#36644320\">How to properly shutdown java ExecutorService</a></p>\n<p>A few more alternatives:<br />\n<a href=\"https://stackoverflow.com/questions/7939257/wait-until-all-threads-finish-their-work-in-java/36797569#36797569\">wait until all threads finish their work in java</a></p>\n"}],"owner":{"account_id":5145261,"reputation":1519,"user_id":4121440,"accept_rate":89,"display_name":"Oleg"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47158274,"answer_count":5,"score":0,"last_activity_date":1681774774,"creation_date":1510057179,"question_id":47157838,"body_markdown":"I have a group of threads which all need to be executed in parallel and I must wait on all of them to complete.\r\n\r\nShould I use the plain old `Thread` or the `ExecutorService` ? for the `ExecutorService.awaitTermination` I must give a certain time that I&#39;m willing to wait but for `Thread.join` I must not.\r\n\r\nI don&#39;t do anything with the results that the threads give , I don&#39;t need any `futures`.\r\n\r\nEDIT:\r\n\r\n        ExecutorService es = Executors.newFixedThreadPool(kThreads);\r\n        List&lt;Callable&lt;Void&gt;&gt; calls = new LinkedList&lt;&gt;();\r\n\r\n            container.forEach(\r\n                    calls.add(() -&gt; { //creating a thread/task \r\n                        BufferedImage scaledBufferedImage=imageService.scale(...);\r\n\r\n                        imageService.transferToAWS(...);\r\n                        return null;\r\n                    })\r\n            );\r\n            es.invokeAll(calls); //executes each task\r\n            es.shutdown(); //ensure that no new tasks will be accepted\r\n            es.awaitTermination(Long.MAX_VALUE, TimeUnit.NANOSECONDS); //wait for all tasks to finish\r\n    \r\n    return kLinksToTheScaledImages;\r\n\r\n","title":"Thread join vs ExecutorService.awaitTermination","body":"<p>I have a group of threads which all need to be executed in parallel and I must wait on all of them to complete.</p>\n\n<p>Should I use the plain old <code>Thread</code> or the <code>ExecutorService</code> ? for the <code>ExecutorService.awaitTermination</code> I must give a certain time that I'm willing to wait but for <code>Thread.join</code> I must not.</p>\n\n<p>I don't do anything with the results that the threads give , I don't need any <code>futures</code>.</p>\n\n<p>EDIT:</p>\n\n<pre><code>    ExecutorService es = Executors.newFixedThreadPool(kThreads);\n    List&lt;Callable&lt;Void&gt;&gt; calls = new LinkedList&lt;&gt;();\n\n        container.forEach(\n                calls.add(() -&gt; { //creating a thread/task \n                    BufferedImage scaledBufferedImage=imageService.scale(...);\n\n                    imageService.transferToAWS(...);\n                    return null;\n                })\n        );\n        es.invokeAll(calls); //executes each task\n        es.shutdown(); //ensure that no new tasks will be accepted\n        es.awaitTermination(Long.MAX_VALUE, TimeUnit.NANOSECONDS); //wait for all tasks to finish\n\nreturn kLinksToTheScaledImages;\n</code></pre>\n"},{"tags":["java","selenium-webdriver","testng","testng-dataprovider","findelement"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1681991658,"post_id":76039977,"comment_id":134147376,"body_markdown":"This is definitely unrelated to data provider or to TestNg. You need to watch visually what is happening and why that locator takes so much time. You can also try to rework your locator from xpath to css. It works way faster especially considering you are just using filter by classes in your xpath locator.","body":"This is definitely unrelated to data provider or to TestNg. You need to watch visually what is happening and why that locator takes so much time. You can also try to rework your locator from xpath to css. It works way faster especially considering you are just using filter by classes in your xpath locator."},{"owner":{"account_id":13311459,"reputation":1,"user_id":11244753,"display_name":"Bilal G&#252;naydın"},"score":0,"creation_date":1682172639,"post_id":76039977,"comment_id":134175292,"body_markdown":"I don&#39;t think so. I tried except the data provider and it&#39;s works. I tried your idea but it doesn&#39;t work. Do you have any another idea?","body":"I don&#39;t think so. I tried except the data provider and it&#39;s works. I tried your idea but it doesn&#39;t work. Do you have any another idea?"}],"owner":{"account_id":13311459,"reputation":1,"user_id":11244753,"display_name":"Bilal G&#252;naydın"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681774183,"creation_date":1681773974,"question_id":76039977,"body_markdown":"I have a static ExcelUnits class. I get a list from Excel and I wanna test with the list. Everything is working correctly. The locator is too late for only 1 html tag. It takes 20 to 30 seconds. That&#39;s too much. If I try this locator outside of testng provider, it finds this locator immediately. If this is because of Testng, why is this locator found in a very long time while other locators are found in a short time?\r\n\r\nMy dataprovider  \r\n\r\n&gt; @DataProvider(name = &quot;setConnectionListForRemove&quot;)\r\n&gt; \r\n&gt;     public Object[][] setConnectionListForRemove() throws Exception {\r\n&gt;         return ExcelUtils.setConnectionListForRemove();\r\n&gt;     }\r\n\r\n\r\n&gt;@Test(priority = 9, dataProvider = &quot;setConnectionListForRemove&quot;)\r\n    public void setConnectionListForRemove(String firstName, String lastName, String company, String position, int rowNumber)\r\n            throws InterruptedException, IOException {\r\n\r\n        searchPage.clickShowKeywordsButton();\r\n        Log4j.info(&quot;Clicked Showing Keywords List Button&quot;);\r\n        searchPage.setConnectionsKnowledge(firstName, lastName, position, company);\r\n        Log4j.info(&quot;Connection related data has been entered.&quot;);\r\n        searchPage.clickKeywordsResult();\r\n        Log4j.info(&quot;Clicked the Show results button.&quot;);\r\n        boolean checkConnectionInformetion = searchPage.CheckConnectionInformation();\r\n        Log4j.info(&quot;Checked About Connection Informations&quot;);\r\n        if (!checkConnectionInformetion) {\r\n            boolean checkPosition = searchPage.checkCurrentTitleWithPosition();\r\n            if (!checkPosition) {\r\n                searchPage.clickOpenProfile();\r\n\r\n} } }`\r\n\r\nI found the locator very slowly. The locator:\r\n\r\n```\r\nBy getCurrentTitleElement = By.xpath(&quot;(//div[contains(@class,&#39;entity-result__primary-subtitle t-14 t-black t-normal&#39;)])[1]&quot;);\r\n\r\n\r\n    public boolean checkCurrentTitleWithPosition() {\r\n\r\n        String currentTitle = (getText(getCurrentTitleElement) == null) ? &quot;&quot; : getText(getCurrentTitleElement);\r\n        return Arrays.stream(properties.getProperty(&quot;Positions&quot;)\r\n                .split(&quot;,&quot;)).anyMatch(position -&gt; find(currentTitle, position)); // this is my positions list and the list at properties.file. \r\n    }\r\n```\r\n\r\nThis is my getText method\r\n\r\n \r\n```\r\npublic String getText(By key) {\r\n        WebElement element = findElement(key);\r\n        if (element != null)\r\n            return findElement(key).getText();\r\n        return null;\r\n    }\r\n```\r\n\r\nThis is my findElement method\r\n\r\n```\r\npublic WebElement findElement(By key) {\r\n        WebElement element = presenceElement(key);\r\n        scrollToElement(element);\r\n        return element;\r\n    }\r\n\r\n```\r\nThis is my presenceElement method\r\n\r\n```\r\n public WebElement presenceElement(By key) {\r\n        WebElement element = null;\r\n        try {\r\n            element = wait.until(ExpectedConditions.presenceOfElementLocated(key));\r\n        } catch (TimeoutException e) {\r\n\r\n        }\r\n        return element;\r\n    }\r\n```\r\n\r\nDoes anyone have an idea?","title":"A locator in Java Selenium Testng dataprovider is coming in a very long time. Why could it be?","body":"<p>I have a static ExcelUnits class. I get a list from Excel and I wanna test with the list. Everything is working correctly. The locator is too late for only 1 html tag. It takes 20 to 30 seconds. That's too much. If I try this locator outside of testng provider, it finds this locator immediately. If this is because of Testng, why is this locator found in a very long time while other locators are found in a short time?</p>\n<p>My dataprovider</p>\n<blockquote>\n<p>@DataProvider(name = &quot;setConnectionListForRemove&quot;)</p>\n<pre><code>public Object[][] setConnectionListForRemove() throws Exception {\n    return ExcelUtils.setConnectionListForRemove();\n}\n</code></pre>\n</blockquote>\n<blockquote>\n<p>@Test(priority = 9, dataProvider = &quot;setConnectionListForRemove&quot;)\npublic void setConnectionListForRemove(String firstName, String lastName, String company, String position, int rowNumber)\nthrows InterruptedException, IOException {</p>\n</blockquote>\n<pre><code>    searchPage.clickShowKeywordsButton();\n    Log4j.info(&quot;Clicked Showing Keywords List Button&quot;);\n    searchPage.setConnectionsKnowledge(firstName, lastName, position, company);\n    Log4j.info(&quot;Connection related data has been entered.&quot;);\n    searchPage.clickKeywordsResult();\n    Log4j.info(&quot;Clicked the Show results button.&quot;);\n    boolean checkConnectionInformetion = searchPage.CheckConnectionInformation();\n    Log4j.info(&quot;Checked About Connection Informations&quot;);\n    if (!checkConnectionInformetion) {\n        boolean checkPosition = searchPage.checkCurrentTitleWithPosition();\n        if (!checkPosition) {\n            searchPage.clickOpenProfile();\n</code></pre>\n<p>} } }`</p>\n<p>I found the locator very slowly. The locator:</p>\n<pre><code>By getCurrentTitleElement = By.xpath(&quot;(//div[contains(@class,'entity-result__primary-subtitle t-14 t-black t-normal')])[1]&quot;);\n\n\n    public boolean checkCurrentTitleWithPosition() {\n\n        String currentTitle = (getText(getCurrentTitleElement) == null) ? &quot;&quot; : getText(getCurrentTitleElement);\n        return Arrays.stream(properties.getProperty(&quot;Positions&quot;)\n                .split(&quot;,&quot;)).anyMatch(position -&gt; find(currentTitle, position)); // this is my positions list and the list at properties.file. \n    }\n</code></pre>\n<p>This is my getText method</p>\n<pre><code>public String getText(By key) {\n        WebElement element = findElement(key);\n        if (element != null)\n            return findElement(key).getText();\n        return null;\n    }\n</code></pre>\n<p>This is my findElement method</p>\n<pre><code>public WebElement findElement(By key) {\n        WebElement element = presenceElement(key);\n        scrollToElement(element);\n        return element;\n    }\n\n</code></pre>\n<p>This is my presenceElement method</p>\n<pre><code> public WebElement presenceElement(By key) {\n        WebElement element = null;\n        try {\n            element = wait.until(ExpectedConditions.presenceOfElementLocated(key));\n        } catch (TimeoutException e) {\n\n        }\n        return element;\n    }\n</code></pre>\n<p>Does anyone have an idea?</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","email-attachments","amazon-ses"],"answers":[{"tags":[],"owner":{"account_id":1007031,"reputation":83,"user_id":1020496,"display_name":"user1020496"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681773979,"creation_date":1681773979,"answer_id":76039978,"question_id":76039638,"body_markdown":"I&#39;m fairly new to Java and Lambda but the error &quot;no object dch for mime type multipart/mixed&quot; occurs when the JavaMail library is not able to find the DataContentHandler for the specified MIME type. In this case, it&#39;s happening when running the code in the AWS Lambda console, but not when testing locally through Postman. This suggests that there may be an issue with the environment configuration in the AWS Lambda console.\r\n\r\nOne solution is to ensure that the necessary libraries are included in the deployment package of the AWS Lambda function. When testing locally, all the required libraries may be present in the classpath, but the same may not be true in the AWS Lambda environment. Make sure that all the required dependencies are included in the deployment package and that the classpath is set up correctly.\r\n\r\nAnother solution is to explicitly register the DataContentHandler for the MIME type &quot;multipart/mixed&quot;. This can be done by creating a custom implementation of the javax.activation.DataContentHandler interface and registering it with the JavaBeans Activation Framework (JAF). Here&#39;s an example implementation (untested code):\r\n\r\n```\r\nimport javax.activation.*;\r\nimport java.io.*;\r\n\r\npublic class MyDataContentHandler implements DataContentHandler {\r\n    public MyDataContentHandler() {\r\n    }\r\n\r\n    public DataFlavor[] getTransferDataFlavors() {\r\n        return new DataFlavor[] { new DataFlavor(&quot;multipart/mixed&quot;) };\r\n    }\r\n\r\n    public Object getTransferData(DataFlavor flavor, DataSource dataSource)\r\n        throws UnsupportedFlavorException, IOException {\r\n        if (flavor.equals(new DataFlavor(&quot;multipart/mixed&quot;))) {\r\n            return dataSource.getInputStream();\r\n        } else {\r\n            throw new UnsupportedFlavorException(flavor);\r\n        }\r\n    }\r\n\r\n    public Object getContent(DataSource dataSource) throws IOException {\r\n        return dataSource.getInputStream();\r\n    }\r\n\r\n    public void writeTo(Object object, String mimeType, OutputStream outputStream)\r\n        throws IOException {\r\n        throw new UnsupportedEncodingException(&quot;writeTo() not supported&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThen, register the custom DataContentHandler with the JAF in the Lambda function code before sending the email:\r\n\r\n```\r\nMailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap(); \r\nmc.addMailcap(&quot;multipart/mixed;; x-java-content-handler=com.example.MyDataContentHandler&quot;); \r\nCommandMap.setDefaultCommandMap(mc);\r\n```\r\n\r\nThis should register the custom DataContentHandler for the MIME type &quot;multipart/mixed&quot; and resolve the issue.\r\n\r\nMake sure to check the AWS Lambda environment configuration and include all the required dependencies in the deployment package to ensure that the necessary libraries are available at runtime.","title":"Getting this issue in lambda console but locally its works No object dch for mime type multipart/mixed","body":"<p>I'm fairly new to Java and Lambda but the error &quot;no object dch for mime type multipart/mixed&quot; occurs when the JavaMail library is not able to find the DataContentHandler for the specified MIME type. In this case, it's happening when running the code in the AWS Lambda console, but not when testing locally through Postman. This suggests that there may be an issue with the environment configuration in the AWS Lambda console.</p>\n<p>One solution is to ensure that the necessary libraries are included in the deployment package of the AWS Lambda function. When testing locally, all the required libraries may be present in the classpath, but the same may not be true in the AWS Lambda environment. Make sure that all the required dependencies are included in the deployment package and that the classpath is set up correctly.</p>\n<p>Another solution is to explicitly register the DataContentHandler for the MIME type &quot;multipart/mixed&quot;. This can be done by creating a custom implementation of the javax.activation.DataContentHandler interface and registering it with the JavaBeans Activation Framework (JAF). Here's an example implementation (untested code):</p>\n<pre><code>import javax.activation.*;\nimport java.io.*;\n\npublic class MyDataContentHandler implements DataContentHandler {\n    public MyDataContentHandler() {\n    }\n\n    public DataFlavor[] getTransferDataFlavors() {\n        return new DataFlavor[] { new DataFlavor(&quot;multipart/mixed&quot;) };\n    }\n\n    public Object getTransferData(DataFlavor flavor, DataSource dataSource)\n        throws UnsupportedFlavorException, IOException {\n        if (flavor.equals(new DataFlavor(&quot;multipart/mixed&quot;))) {\n            return dataSource.getInputStream();\n        } else {\n            throw new UnsupportedFlavorException(flavor);\n        }\n    }\n\n    public Object getContent(DataSource dataSource) throws IOException {\n        return dataSource.getInputStream();\n    }\n\n    public void writeTo(Object object, String mimeType, OutputStream outputStream)\n        throws IOException {\n        throw new UnsupportedEncodingException(&quot;writeTo() not supported&quot;);\n    }\n}\n</code></pre>\n<p>Then, register the custom DataContentHandler with the JAF in the Lambda function code before sending the email:</p>\n<pre><code>MailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap(); \nmc.addMailcap(&quot;multipart/mixed;; x-java-content-handler=com.example.MyDataContentHandler&quot;); \nCommandMap.setDefaultCommandMap(mc);\n</code></pre>\n<p>This should register the custom DataContentHandler for the MIME type &quot;multipart/mixed&quot; and resolve the issue.</p>\n<p>Make sure to check the AWS Lambda environment configuration and include all the required dependencies in the deployment package to ensure that the necessary libraries are available at runtime.</p>\n"}],"owner":{"account_id":25520582,"reputation":1,"user_id":19310551,"display_name":"Mr Falariss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681773979,"creation_date":1681769076,"question_id":76039638,"body_markdown":"I am creating an AWS Lambda function in java quarkus.\r\n\r\nI am using java mail and Amazon SES for email.\r\n\r\nI have all the required dependencies added and its running completely fine while testing locally through postman. I get all the attachments that is pdf file on email. But whenever I try to test in the AWS Lambda console I get this:\r\n\r\n&gt; no object dch for mime type multipart/mixed\r\n\r\nI have tried adding the thread to load class and also:\r\n\r\n```\r\nMailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap(); \r\nmc.addMailcap(&quot;text/html;; x-java-content-handler=com.sun.mail.handlers.text_html&quot;); \r\nmc.addMailcap(&quot;text/xml;; x-java-content-handler=com.sun.mail.handlers.text_xml&quot;); \r\nmc.addMailcap(&quot;text/plain;; x-java-content-handler=com.sun.mail.handlers.text_plain&quot;); \r\nmc.addMailcap(&quot;multipart/*;; x-java-content-handler=com.sun.mail.handlers.multipart_mixed&quot;); \r\nmc.addMailcap(&quot;message/rfc822;; x-java-content- handler=com.sun.mail.handlers.message_rfc822&quot;); \r\n```\r\nbut no luck as of now.  Any one knows some solution?","title":"Getting this issue in lambda console but locally its works No object dch for mime type multipart/mixed","body":"<p>I am creating an AWS Lambda function in java quarkus.</p>\n<p>I am using java mail and Amazon SES for email.</p>\n<p>I have all the required dependencies added and its running completely fine while testing locally through postman. I get all the attachments that is pdf file on email. But whenever I try to test in the AWS Lambda console I get this:</p>\n<blockquote>\n<p>no object dch for mime type multipart/mixed</p>\n</blockquote>\n<p>I have tried adding the thread to load class and also:</p>\n<pre><code>MailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap(); \nmc.addMailcap(&quot;text/html;; x-java-content-handler=com.sun.mail.handlers.text_html&quot;); \nmc.addMailcap(&quot;text/xml;; x-java-content-handler=com.sun.mail.handlers.text_xml&quot;); \nmc.addMailcap(&quot;text/plain;; x-java-content-handler=com.sun.mail.handlers.text_plain&quot;); \nmc.addMailcap(&quot;multipart/*;; x-java-content-handler=com.sun.mail.handlers.multipart_mixed&quot;); \nmc.addMailcap(&quot;message/rfc822;; x-java-content- handler=com.sun.mail.handlers.message_rfc822&quot;); \n</code></pre>\n<p>but no luck as of now.  Any one knows some solution?</p>\n"},{"tags":["java","java-8","wildfly-26"],"comments":[{"owner":{"account_id":4166540,"reputation":2310,"user_id":3415398,"display_name":"tandraschko"},"score":0,"creation_date":1681372751,"post_id":75999873,"comment_id":134046484,"body_markdown":"Thats something normally happens when a JSF 2.3+ API is in the classpath but JSF 2.2 impl is used in background.","body":"Thats something normally happens when a JSF 2.3+ API is in the classpath but JSF 2.2 impl is used in background."}],"owner":{"account_id":5018624,"reputation":307,"user_id":4758897,"display_name":"herbert"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681771834,"creation_date":1681333802,"question_id":75999873,"body_markdown":"I&#39;m trying to start project in **Wildfly 26.1.3**, using **Java 8** (JDK 1.8.0_321) and **Primefaces 6**, but I&#39;m getting **WFLYCTL0080 (*NullPointerException*)** error. When I use **Wildfly 8.2.1** everything works fine.\r\n\r\nWhen I execute **standalone.sh**:\r\n\r\n    =========================================================================\r\n      JBoss Bootstrap Environment\r\n      JBOSS_HOME: /c/Users/herbert.reis/Documents/wildfly-26.1.3.Final\r\n      JAVA: C:\\Program Files\\Java\\jdk1.8.0_321/bin/java\r\n      JAVA_OPTS:  -server -Xms64m -Xmx512m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true\r\n    =========================================================================\r\n    ....\r\n    ....\r\n    ....\r\n    16:57:00,133 INFO  [org.hibernate.hql.internal.QueryTranslatorFactoryInitiator] \r\n    (ServerService Thread Pool -- 84) HHH000397: Using ASTQueryTranslatorFactory\r\n    16:57:00,475 INFO  [javax.enterprise.resource.webcontainer.jsf.config] (ServerService Thread Pool -- 85) Inicializando Mojarra 2.3.17.SP01 para o contexto &#39;/ssabd&#39;\r\n    16:57:01,238 ERROR [stderr] (ServerService Thread Pool -- 85) java.lang.UnsupportedOperationException\r\n    16:57:01,238 ERROR [stderr] (ServerService Thread Pool -- 85)   at javax.faces.application.Application.getSearchExpressionHandler(Application.java:1911)\r\n    16:57:01,238 ERROR [stderr] (ServerService Thread Pool -- 85)   at javax.faces.application.ApplicationWrapper.getSearchExpressionHandler(ApplicationWrapper.java:841)\r\n    16:57:01,238 ERROR [stderr] (ServerService Thread Pool -- 85)   at com.sun.faces.config.processor.ApplicationConfigProcessor.setSearchExpressionHandler(ApplicationConfigProcessor.java:624)\r\n    16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at com.sun.faces.config.processor.ApplicationConfigProcessor.process(ApplicationConfigProcessor.java:320)\r\n    16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at com.sun.faces.config.ConfigManager.lambda$initialize$0(ConfigManager.java:295)\r\n    16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at java.util.Iterator.forEachRemaining(Iterator.java:116)\r\n    16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n    16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)\r\n    16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:293)\r\n    16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:207)\r\n    16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)\r\n    16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:219)\r\n    16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:187)\r\n    16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\r\n    16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n    16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n    16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n    16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n    16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n    16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n    16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:255)\r\n    16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:105)\r\n    16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:87)\r\n    16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n    16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n    16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n    16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n    16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at java.lang.Thread.run(Thread.java:750)\r\n    16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\n    16:57:01,800 SEVERE [javax.enterprise.resource.webcontainer.jsf.config] (ServerService Thread Pool -- 85) Critical error during deployment: : java.lang.NullPointerException\r\n            at com.sun.faces.application.ApplicationAssociate$PostConstructApplicationListener.processEvent(ApplicationAssociate.java:324)\r\n            at javax.faces.event.SystemEvent.processListener(SystemEvent.java:123)\r\n            at com.sun.faces.application.applicationimpl.Events.processListeners(Events.java:253)\r\n            at com.sun.faces.application.applicationimpl.Events.invokeListenersFor(Events.java:231)\r\n            at com.sun.faces.application.applicationimpl.Events.publishEvent(Events.java:112)\r\n            at com.sun.faces.application.ApplicationImpl.publishEvent(ApplicationImpl.java:127)\r\n            at org.jboss.weld.environment.servlet.jsf.ForwardingApplication.publishEvent(ForwardingApplication.java:282)\r\n            at javax.faces.application.ApplicationWrapper.publishEvent(ApplicationWrapper.java:788)\r\n            at com.sun.faces.config.ConfigManager.publishPostConfigEvent(ConfigManager.java:548)\r\n            at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:266)\r\n            at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)\r\n            at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:219)\r\n            at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:187)\r\n            at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\r\n            at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n            at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:255)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:105)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:87)\r\n            at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n            at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n            at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n            at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n            at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n            at java.lang.Thread.run(Thread.java:750)\r\n            at org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\n    \r\n    16:57:01,803 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 85) MSC000001: Failed to start service jboss.deployment.unit.&quot;ssabd.war&quot;.undertow-deployment: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;ssabd.war&quot;.undertow-deployment: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:90)\r\n            at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n            at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n            at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n            at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n            at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n            at java.lang.Thread.run(Thread.java:750)\r\n            at org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\n    Caused by: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\r\n            at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:257)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:105)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:87)\r\n            ... 8 more\r\n    Caused by: java.lang.RuntimeException: java.lang.NullPointerException\r\n            at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:286)\r\n            at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)\r\n            at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:219)\r\n            at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:187)\r\n            at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\r\n            at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n            at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:255)\r\n            ... 10 more\r\n    Caused by: java.lang.NullPointerException\r\n            at com.sun.faces.application.ApplicationAssociate$PostConstructApplicationListener.processEvent(ApplicationAssociate.java:324)\r\n            at javax.faces.event.SystemEvent.processListener(SystemEvent.java:123)\r\n            at com.sun.faces.application.applicationimpl.Events.processListeners(Events.java:253)\r\n            at com.sun.faces.application.applicationimpl.Events.invokeListenersFor(Events.java:231)\r\n            at com.sun.faces.application.applicationimpl.Events.publishEvent(Events.java:112)\r\n            at com.sun.faces.application.ApplicationImpl.publishEvent(ApplicationImpl.java:127)\r\n            at org.jboss.weld.environment.servlet.jsf.ForwardingApplication.publishEvent(ForwardingApplication.java:282)\r\n            at javax.faces.application.ApplicationWrapper.publishEvent(ApplicationWrapper.java:788)\r\n            at com.sun.faces.config.ConfigManager.publishPostConfigEvent(ConfigManager.java:548)\r\n            at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:266)\r\n            ... 21 more\r\n    \r\n    16:57:01,809 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;ssabd.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;ssabd.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\r\n        Caused by: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\r\n        Caused by: java.lang.RuntimeException: java.lang.NullPointerException\r\n        Caused by: java.lang.NullPointerException&quot;}}\r\n    16:57:01,897 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;ssabd.war&quot; (runtime-name : &quot;ssabd.war&quot;)\r\n    16:57:01,898 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;ssabd-ds.xml&quot; (runtime-name : &quot;ssabd-ds.xml&quot;)\r\n    16:57:01,902 INFO  [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0183: Service status report\r\n    WFLYCTL0186:   Services which failed to start:      service jboss.deployment.unit.&quot;ssabd.war&quot;.undertow-deployment: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\r\n    WFLYCTL0448: 1 additional services are down due to their dependencies being missing or failed\r\n    16:57:02,023 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\r\n    16:57:02,027 ERROR [org.jboss.as] (Controller Boot Thread) WFLYSRV0026: WildFly Full 26.1.3.Final (WildFly Core 18.1.2.Final) started (with errors) in 20089ms - Started 1216 of 1400 services (3 services failed or missing dependencies, 345 services are lazy, passive or on-demand) - Server configuration file in use: standalone.xml\r\n    16:57:02,030 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\r\n    16:57:02,030 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\r\n\r\n**ssabd-ds.xml** file:\r\n\r\n    &lt;datasources&gt;\r\n    \t&lt;datasource jndi-name=&quot;java:jboss/ssabd&quot; pool-name=&quot;ssabd&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot;&gt;\r\n    \t\t&lt;connection-url&gt;jdbc:postgresql://localhost:5432/ssabd&lt;/connection-url&gt;\r\n    \t\t&lt;driver&gt;postgresql&lt;/driver&gt;\r\n    \t\t&lt;security&gt;\r\n    \t\t\t&lt;user-name&gt;postgres&lt;/user-name&gt;\r\n    \t\t\t&lt;password&gt;admin&lt;/password&gt;\r\n    \t\t&lt;/security&gt;\r\n    \t&lt;/datasource&gt;\r\n    &lt;/datasources&gt;\r\n\r\n\r\n**persistence.xml** file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n    \r\n    \t&lt;persistence-unit name=&quot;ssabd&quot; transaction-type=&quot;JTA&quot;&gt;\r\n    \t\t&lt;jta-data-source&gt;java:/jboss/ssabd&lt;/jta-data-source&gt;\r\n\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;validate&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.format_sql&quot; value=&quot;false&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.globally_quoted_identifiers&quot; value=&quot;false&quot; /&gt;\r\n        \t\t&lt;property name=&quot;hibernate.c3p0.min_size&quot; value=&quot;5&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.c3p0.max_size&quot; value=&quot;20&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.c3p0.timeout&quot; value=&quot;180&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.c3p0.idle_test_period&quot; value=&quot;100&quot; /&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/persistence-unit&gt;\r\n    \r\n    &lt;/persistence&gt;\r\n\r\n**ssabd.war.failed** file:\r\n\r\n    &quot;{\\&quot;WFLYCTL0080: Failed services\\&quot; =&gt; {\\&quot;jboss.deployment.unit.\\\\\\&quot;ssabd.war\\\\\\&quot;.undertow-deployment\\&quot; =&gt; \\&quot;java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\r\n        Caused by: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\r\n        Caused by: java.lang.RuntimeException: java.lang.NullPointerException\r\n        Caused by: java.lang.NullPointerException\\&quot;}}&quot;\r\n\r\n\r\nWhat can I do to solve the problem?","title":"Wildfly 26.1.3: Can&#39;t start project: WFLYCTL0080: NullPointerException","body":"<p>I'm trying to start project in <strong>Wildfly 26.1.3</strong>, using <strong>Java 8</strong> (JDK 1.8.0_321) and <strong>Primefaces 6</strong>, but I'm getting <strong>WFLYCTL0080 (<em>NullPointerException</em>)</strong> error. When I use <strong>Wildfly 8.2.1</strong> everything works fine.</p>\n<p>When I execute <strong>standalone.sh</strong>:</p>\n<pre><code>=========================================================================\n  JBoss Bootstrap Environment\n  JBOSS_HOME: /c/Users/herbert.reis/Documents/wildfly-26.1.3.Final\n  JAVA: C:\\Program Files\\Java\\jdk1.8.0_321/bin/java\n  JAVA_OPTS:  -server -Xms64m -Xmx512m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true\n=========================================================================\n....\n....\n....\n16:57:00,133 INFO  [org.hibernate.hql.internal.QueryTranslatorFactoryInitiator] \n(ServerService Thread Pool -- 84) HHH000397: Using ASTQueryTranslatorFactory\n16:57:00,475 INFO  [javax.enterprise.resource.webcontainer.jsf.config] (ServerService Thread Pool -- 85) Inicializando Mojarra 2.3.17.SP01 para o contexto '/ssabd'\n16:57:01,238 ERROR [stderr] (ServerService Thread Pool -- 85) java.lang.UnsupportedOperationException\n16:57:01,238 ERROR [stderr] (ServerService Thread Pool -- 85)   at javax.faces.application.Application.getSearchExpressionHandler(Application.java:1911)\n16:57:01,238 ERROR [stderr] (ServerService Thread Pool -- 85)   at javax.faces.application.ApplicationWrapper.getSearchExpressionHandler(ApplicationWrapper.java:841)\n16:57:01,238 ERROR [stderr] (ServerService Thread Pool -- 85)   at com.sun.faces.config.processor.ApplicationConfigProcessor.setSearchExpressionHandler(ApplicationConfigProcessor.java:624)\n16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at com.sun.faces.config.processor.ApplicationConfigProcessor.process(ApplicationConfigProcessor.java:320)\n16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at com.sun.faces.config.ConfigManager.lambda$initialize$0(ConfigManager.java:295)\n16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at java.util.Iterator.forEachRemaining(Iterator.java:116)\n16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)\n16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:293)\n16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:207)\n16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)\n16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:219)\n16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:187)\n16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\n16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:255)\n16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:105)\n16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:87)\n16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at java.lang.Thread.run(Thread.java:750)\n16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.jboss.threads.JBossThread.run(JBossThread.java:513)\n16:57:01,800 SEVERE [javax.enterprise.resource.webcontainer.jsf.config] (ServerService Thread Pool -- 85) Critical error during deployment: : java.lang.NullPointerException\n        at com.sun.faces.application.ApplicationAssociate$PostConstructApplicationListener.processEvent(ApplicationAssociate.java:324)\n        at javax.faces.event.SystemEvent.processListener(SystemEvent.java:123)\n        at com.sun.faces.application.applicationimpl.Events.processListeners(Events.java:253)\n        at com.sun.faces.application.applicationimpl.Events.invokeListenersFor(Events.java:231)\n        at com.sun.faces.application.applicationimpl.Events.publishEvent(Events.java:112)\n        at com.sun.faces.application.ApplicationImpl.publishEvent(ApplicationImpl.java:127)\n        at org.jboss.weld.environment.servlet.jsf.ForwardingApplication.publishEvent(ForwardingApplication.java:282)\n        at javax.faces.application.ApplicationWrapper.publishEvent(ApplicationWrapper.java:788)\n        at com.sun.faces.config.ConfigManager.publishPostConfigEvent(ConfigManager.java:548)\n        at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:266)\n        at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)\n        at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:219)\n        at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:187)\n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n        at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:255)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:105)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:87)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n        at java.lang.Thread.run(Thread.java:750)\n        at org.jboss.threads.JBossThread.run(JBossThread.java:513)\n\n16:57:01,803 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 85) MSC000001: Failed to start service jboss.deployment.unit.&quot;ssabd.war&quot;.undertow-deployment: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;ssabd.war&quot;.undertow-deployment: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:90)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n        at java.lang.Thread.run(Thread.java:750)\n        at org.jboss.threads.JBossThread.run(JBossThread.java:513)\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\n        at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:257)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:105)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:87)\n        ... 8 more\nCaused by: java.lang.RuntimeException: java.lang.NullPointerException\n        at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:286)\n        at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)\n        at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:219)\n        at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:187)\n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n        at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:255)\n        ... 10 more\nCaused by: java.lang.NullPointerException\n        at com.sun.faces.application.ApplicationAssociate$PostConstructApplicationListener.processEvent(ApplicationAssociate.java:324)\n        at javax.faces.event.SystemEvent.processListener(SystemEvent.java:123)\n        at com.sun.faces.application.applicationimpl.Events.processListeners(Events.java:253)\n        at com.sun.faces.application.applicationimpl.Events.invokeListenersFor(Events.java:231)\n        at com.sun.faces.application.applicationimpl.Events.publishEvent(Events.java:112)\n        at com.sun.faces.application.ApplicationImpl.publishEvent(ApplicationImpl.java:127)\n        at org.jboss.weld.environment.servlet.jsf.ForwardingApplication.publishEvent(ForwardingApplication.java:282)\n        at javax.faces.application.ApplicationWrapper.publishEvent(ApplicationWrapper.java:788)\n        at com.sun.faces.config.ConfigManager.publishPostConfigEvent(ConfigManager.java:548)\n        at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:266)\n        ... 21 more\n\n16:57:01,809 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;ssabd.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;ssabd.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\n    Caused by: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\n    Caused by: java.lang.RuntimeException: java.lang.NullPointerException\n    Caused by: java.lang.NullPointerException&quot;}}\n16:57:01,897 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;ssabd.war&quot; (runtime-name : &quot;ssabd.war&quot;)\n16:57:01,898 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;ssabd-ds.xml&quot; (runtime-name : &quot;ssabd-ds.xml&quot;)\n16:57:01,902 INFO  [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0183: Service status report\nWFLYCTL0186:   Services which failed to start:      service jboss.deployment.unit.&quot;ssabd.war&quot;.undertow-deployment: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\nWFLYCTL0448: 1 additional services are down due to their dependencies being missing or failed\n16:57:02,023 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\n16:57:02,027 ERROR [org.jboss.as] (Controller Boot Thread) WFLYSRV0026: WildFly Full 26.1.3.Final (WildFly Core 18.1.2.Final) started (with errors) in 20089ms - Started 1216 of 1400 services (3 services failed or missing dependencies, 345 services are lazy, passive or on-demand) - Server configuration file in use: standalone.xml\n16:57:02,030 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\n16:57:02,030 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\n</code></pre>\n<p><strong>ssabd-ds.xml</strong> file:</p>\n<pre><code>&lt;datasources&gt;\n    &lt;datasource jndi-name=&quot;java:jboss/ssabd&quot; pool-name=&quot;ssabd&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot;&gt;\n        &lt;connection-url&gt;jdbc:postgresql://localhost:5432/ssabd&lt;/connection-url&gt;\n        &lt;driver&gt;postgresql&lt;/driver&gt;\n        &lt;security&gt;\n            &lt;user-name&gt;postgres&lt;/user-name&gt;\n            &lt;password&gt;admin&lt;/password&gt;\n        &lt;/security&gt;\n    &lt;/datasource&gt;\n&lt;/datasources&gt;\n</code></pre>\n<p><strong>persistence.xml</strong> file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\n\n    &lt;persistence-unit name=&quot;ssabd&quot; transaction-type=&quot;JTA&quot;&gt;\n        &lt;jta-data-source&gt;java:/jboss/ssabd&lt;/jta-data-source&gt;\n\n        &lt;properties&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot; /&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;validate&quot; /&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;false&quot; /&gt;\n            &lt;property name=&quot;hibernate.globally_quoted_identifiers&quot; value=&quot;false&quot; /&gt;\n            &lt;property name=&quot;hibernate.c3p0.min_size&quot; value=&quot;5&quot; /&gt;\n            &lt;property name=&quot;hibernate.c3p0.max_size&quot; value=&quot;20&quot; /&gt;\n            &lt;property name=&quot;hibernate.c3p0.timeout&quot; value=&quot;180&quot; /&gt;\n            &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot; value=&quot;100&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n\n&lt;/persistence&gt;\n</code></pre>\n<p><strong>ssabd.war.failed</strong> file:</p>\n<pre><code>&quot;{\\&quot;WFLYCTL0080: Failed services\\&quot; =&gt; {\\&quot;jboss.deployment.unit.\\\\\\&quot;ssabd.war\\\\\\&quot;.undertow-deployment\\&quot; =&gt; \\&quot;java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\n    Caused by: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\n    Caused by: java.lang.RuntimeException: java.lang.NullPointerException\n    Caused by: java.lang.NullPointerException\\&quot;}}&quot;\n</code></pre>\n<p>What can I do to solve the problem?</p>\n"},{"tags":["java","spring","dictionary","dependency-injection"],"answers":[{"tags":[],"owner":{"account_id":27123034,"reputation":1993,"user_id":20666497,"display_name":"Albina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681770611,"creation_date":1681770611,"answer_id":76039748,"question_id":76039138,"body_markdown":"This is an example of intervention of &quot;Spring magic&quot; in unexpected ways.\r\n\r\nIn this case, the **map autowiring** works: if you inject a `Map&lt;String, SomeClass&gt;` then Spring considers it as a special case. that you want to inject all registered beans that override SomeClass.\r\n\r\n&gt; Autowiring Arrays, Collections, and Maps\r\nIn case of an array, Collection, or Map dependency type, the container autowires all beans matching the declared value type. For such purposes, the map keys must be declared as type String which will be resolved to the corresponding bean names. Such a container-provided collection will be ordered, taking into account Ordered and @Order values of the target components, otherwise following their registration order in the container. Alternatively, a single matching target bean may also be a generally typed Collection or Map itself, getting injected as such.\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Autowired.html\r\n\r\nSo essentially what you are getting in your debugger (i.e., LinkedHashMap) is the list of all beans that:\r\n- implement the type specified in map declaration (in this case Object, a lot of stuff implements that)\r\n- match qualifier &quot;producerConfig&quot; (in this case, there is onlye a single matching bean so only 1 entry in LinkedHashMap).\r\n\r\nThese beans are accompanied by bean names and sorted by registration order, hence LinkedHashMap.\r\n\r\nNote that it does not happen if the key type of your map is not String. If you replace `Map&lt;String, Object&gt;` to `Map&lt;Integer, Object&gt;` the behavior will be totally different and you will get only single bean injected as you would expect initially.\r\n\r\nRegarding &quot;how to prevent this&quot;: I am not sure if this behavior can be switched off, the documentation does not say anything about it. I think the most reasonable solution is to create a wrapper class and inject it instead of a injecting a Map directly. ","title":"Why does Spring autowire Map into another wrapped Map?","body":"<p>This is an example of intervention of &quot;Spring magic&quot; in unexpected ways.</p>\n<p>In this case, the <strong>map autowiring</strong> works: if you inject a <code>Map&lt;String, SomeClass&gt;</code> then Spring considers it as a special case. that you want to inject all registered beans that override SomeClass.</p>\n<blockquote>\n<p>Autowiring Arrays, Collections, and Maps\nIn case of an array, Collection, or Map dependency type, the container autowires all beans matching the declared value type. For such purposes, the map keys must be declared as type String which will be resolved to the corresponding bean names. Such a container-provided collection will be ordered, taking into account Ordered and @Order values of the target components, otherwise following their registration order in the container. Alternatively, a single matching target bean may also be a generally typed Collection or Map itself, getting injected as such.</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Autowired.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Autowired.html</a></p>\n<p>So essentially what you are getting in your debugger (i.e., LinkedHashMap) is the list of all beans that:</p>\n<ul>\n<li>implement the type specified in map declaration (in this case Object, a lot of stuff implements that)</li>\n<li>match qualifier &quot;producerConfig&quot; (in this case, there is onlye a single matching bean so only 1 entry in LinkedHashMap).</li>\n</ul>\n<p>These beans are accompanied by bean names and sorted by registration order, hence LinkedHashMap.</p>\n<p>Note that it does not happen if the key type of your map is not String. If you replace <code>Map&lt;String, Object&gt;</code> to <code>Map&lt;Integer, Object&gt;</code> the behavior will be totally different and you will get only single bean injected as you would expect initially.</p>\n<p>Regarding &quot;how to prevent this&quot;: I am not sure if this behavior can be switched off, the documentation does not say anything about it. I think the most reasonable solution is to create a wrapper class and inject it instead of a injecting a Map directly.</p>\n"}],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681770611,"creation_date":1681764099,"question_id":76039138,"body_markdown":"I have the following bean definition\r\n\r\n    @Bean(name=&quot;producerConfig&quot;)\r\n    public Map&lt;String, Object&gt; producerConfig() {\r\n\r\nand the following injection declaration\r\n\r\n    @Service\r\n    @Component(&quot;...)\r\n    public class DataAssetSnapshotPublisherLive {\r\n        public SnapshotPublisherLive(..., @Qualifier(&quot;producerConfig&quot;) Map&lt;String, Object&gt; producerConfig) {\r\n            ...\r\n        }\r\n\r\nI would expect, that `producerPublisher` will be injected into `producerPublisher` variable, because it has the same type and qualifier.\r\n\r\nInstead of this I see in debugger that it is wrapped\r\n\r\n    producerConfig = {LinkedHashMap@12556}  size = 1\r\n     &quot;producerConfig&quot; -&gt; {HashMap@12561}  size = 27\r\n      key = &quot;producerConfig&quot;\r\n      value = {HashMap@12561}  size = 27\r\n\r\nI.e. `producerConfig` is initialized with new `HashMap` and one element is added to the hash map.\r\n\r\nWhy and how to prevent this?","title":"Why does Spring autowire Map into another wrapped Map?","body":"<p>I have the following bean definition</p>\n<pre><code>@Bean(name=&quot;producerConfig&quot;)\npublic Map&lt;String, Object&gt; producerConfig() {\n</code></pre>\n<p>and the following injection declaration</p>\n<pre><code>@Service\n@Component(&quot;...)\npublic class DataAssetSnapshotPublisherLive {\n    public SnapshotPublisherLive(..., @Qualifier(&quot;producerConfig&quot;) Map&lt;String, Object&gt; producerConfig) {\n        ...\n    }\n</code></pre>\n<p>I would expect, that <code>producerPublisher</code> will be injected into <code>producerPublisher</code> variable, because it has the same type and qualifier.</p>\n<p>Instead of this I see in debugger that it is wrapped</p>\n<pre><code>producerConfig = {LinkedHashMap@12556}  size = 1\n &quot;producerConfig&quot; -&gt; {HashMap@12561}  size = 27\n  key = &quot;producerConfig&quot;\n  value = {HashMap@12561}  size = 27\n</code></pre>\n<p>I.e. <code>producerConfig</code> is initialized with new <code>HashMap</code> and one element is added to the hash map.</p>\n<p>Why and how to prevent this?</p>\n"},{"tags":["java","spring-boot","mqtt","mosquitto"],"comments":[{"owner":{"account_id":16352957,"reputation":15616,"user_id":11810946,"display_name":"Brits"},"score":1,"creation_date":1681783270,"post_id":76039706,"comment_id":134109178,"body_markdown":"`MQTTService tcp://192.168.1.100:1833` you have a typo in the port (`1833` vs `1883`)","body":"<code>MQTTService tcp:&#47;&#47;192.168.1.100:1833</code> you have a typo in the port (<code>1833</code> vs <code>1883</code>)"}],"owner":{"account_id":2725644,"reputation":4730,"user_id":2350799,"accept_rate":83,"display_name":"xcesco"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681820409,"answer_count":0,"score":0,"last_activity_date":1681769978,"creation_date":1681769978,"question_id":76039706,"body_markdown":"I&#39;m working on Mosquitto MQTT Broker and I need to reach it by a Spring Boot Application.\r\n\r\nThe Mosquitto Broker is on a docker container and from an Arduino client and MQTTX client it is successfully reached.\r\n\r\nThe problem is the Spring Boot application: every time the application try to connect to Broker the following error is raised:\r\n\r\n```shell\r\n2023-04-18T00:04:54.878+02:00 DEBUG 32920 --- [  restartedMain] com.abubusoft.iot.service.MQTTService    : MQTTService tcp://192.168.1.100:1833 \r\n2023-04-18T00:04:54.891+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.MqttAsyncClient   : paho7659740194162: &lt;init&gt; ClientID=paho7659740194162 ServerURI=tcp://192.168.1.100:1833 PersistenceType=org.eclipse.paho.client.mqttv3.persist.MemoryPersistence@6a3aae31 \r\n2023-04-18T00:04:54.893+02:00 DEBUG 32920 --- [  restartedMain] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &lt;&gt; \r\n2023-04-18T00:04:54.897+02:00 DEBUG 32920 --- [  restartedMain] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: &gt; \r\n2023-04-18T00:04:54.899+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.MqttAsyncClient   : paho7659740194162: cleanSession=true connectionTimeout=30 TimekeepAlive=60 userName=null password=[null] will=[null] userContext=null callback=null \r\n2023-04-18T00:04:54.899+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.MqttAsyncClient   : paho7659740194162: URI=tcp://192.168.1.100:1833 \r\n2023-04-18T00:04:54.900+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.MqttAsyncClient   : paho7659740194162: URI=tcp://192.168.1.100:1833 \r\n2023-04-18T00:04:54.901+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.MqttAsyncClient   : paho7659740194162: &lt; \r\n2023-04-18T00:04:54.903+02:00 DEBUG 32920 --- [  restartedMain] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: state=CONNECTING \r\n2023-04-18T00:04:54.904+02:00 DEBUG 32920 --- [  restartedMain] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; \r\n2023-04-18T00:04:54.905+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: key=null wait max=-1 token=key=null ,topics= ,usercontext=org.eclipse.paho.client.mqttv3.MqttAsyncClient@196d55bd ,isComplete=false ,isNotified=false ,exception=null ,actioncallback=org.eclipse.paho.client.mqttv3.internal.ConnectActionListener@62f51a05 \r\n2023-04-18T00:04:54.905+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: &gt; \r\n2023-04-18T00:04:54.905+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; \r\n2023-04-18T00:04:54.905+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: &gt;key=null timeout=-1 sent=false completed=false hasException=false response=null token=key=null ,topics= ,usercontext=org.eclipse.paho.client.mqttv3.MqttAsyncClient@196d55bd ,isComplete=false ,isNotified=false ,exception=null ,actioncallback=org.eclipse.paho.client.mqttv3.internal.ConnectActionListener@62f51a05 \r\n2023-04-18T00:04:54.906+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: key=null wait max=-1 \r\n2023-04-18T00:04:54.906+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: key=Con message=CONNECT clientId paho7659740194162 keepAliveInterval 60 \r\n2023-04-18T00:04:54.907+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@60494888 \r\n2023-04-18T00:04:54.908+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.m.internal.TCPNetworkModule      : paho7659740194162: connect to host 192.168.1.100 port 1,833 timeout 30,000 \r\n2023-04-18T00:04:54.932+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.m.internal.TCPNetworkModule      : paho7659740194162: Failed to create TCP socket \r\n\r\njava.net.ConnectException: Connection refused (Connection refused)\r\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\r\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\r\n        at java.base/java.net.Socket.connect(Socket.java:591)\r\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\r\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n2023-04-18T00:04:54.937+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: connect failed: unexpected exception \r\n\r\norg.eclipse.paho.client.mqttv3.MqttException: Unable to connect to server\r\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:80)\r\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\r\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\r\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\r\n        at java.base/java.net.Socket.connect(Socket.java:591)\r\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\r\n        ... 2 common frames omitted\r\n\r\n2023-04-18T00:04:54.976+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: state=DISCONNECTING \r\n2023-04-18T00:04:54.976+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: resp=Client is currently disconnecting (32102) \r\n2023-04-18T00:04:54.976+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: &gt; \r\n2023-04-18T00:04:54.976+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: reason Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused) \r\n2023-04-18T00:04:54.983+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; \r\n2023-04-18T00:04:54.983+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: key=Con \r\n2023-04-18T00:04:54.984+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: disconnected \r\n2023-04-18T00:04:54.984+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: &gt; \r\n2023-04-18T00:04:54.991+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; 0 tokens \r\n2023-04-18T00:04:54.991+02:00 DEBUG 32920 --- [ho7659740194162] o.e.paho.client.mqttv3.TimerPingSender   : paho7659740194162: stop \r\n2023-04-18T00:04:54.991+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: state=DISCONNECTED \r\n2023-04-18T00:04:54.991+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsCallback    : paho7659740194162: callback and notify for key=Con \r\n2023-04-18T00:04:54.991+02:00 DEBUG 32920 --- [ho7659740194162] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: &gt;key=Con response=null excep=Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused) \r\n2023-04-18T00:04:54.995+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsCallback    : paho7659740194162: call onSuccess key=Con \r\n2023-04-18T00:04:54.995+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: state=CONNECTING \r\n2023-04-18T00:04:54.995+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; \r\n2023-04-18T00:04:54.996+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: &gt; \r\n2023-04-18T00:04:54.999+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; \r\n2023-04-18T00:04:54.999+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: key=Con message=CONNECT clientId paho7659740194162 keepAliveInterval 60 \r\n2023-04-18T00:04:54.999+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@3b0b92a1 \r\n2023-04-18T00:04:55.000+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.m.internal.TCPNetworkModule      : paho7659740194162: connect to host 192.168.1.100 port 1,833 timeout 30,000 \r\n2023-04-18T00:04:55.016+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.m.internal.TCPNetworkModule      : paho7659740194162: Failed to create TCP socket \r\n\r\njava.net.ConnectException: Connection refused (Connection refused)\r\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\r\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\r\n        at java.base/java.net.Socket.connect(Socket.java:591)\r\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\r\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n2023-04-18T00:04:55.016+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: connect failed: unexpected exception \r\n\r\norg.eclipse.paho.client.mqttv3.MqttException: Unable to connect to server\r\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:80)\r\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\r\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\r\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\r\n        at java.base/java.net.Socket.connect(Socket.java:591)\r\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\r\n        ... 2 common frames omitted\r\n\r\n2023-04-18T00:04:55.020+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: state=DISCONNECTING \r\n2023-04-18T00:04:55.020+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: resp=Client is currently disconnecting (32102) \r\n2023-04-18T00:04:55.020+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: &gt; \r\n2023-04-18T00:04:55.021+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: reason Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused) \r\n2023-04-18T00:04:55.023+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; \r\n2023-04-18T00:04:55.023+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: key=Con \r\n2023-04-18T00:04:55.023+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: disconnected \r\n2023-04-18T00:04:55.023+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: &gt; \r\n2023-04-18T00:04:55.031+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; 0 tokens \r\n2023-04-18T00:04:55.031+02:00 DEBUG 32920 --- [ho7659740194162] o.e.paho.client.mqttv3.TimerPingSender   : paho7659740194162: stop \r\n2023-04-18T00:04:55.031+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: state=DISCONNECTED \r\n2023-04-18T00:04:55.031+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsCallback    : paho7659740194162: callback and notify for key=Con \r\n2023-04-18T00:04:55.031+02:00 DEBUG 32920 --- [ho7659740194162] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: &gt;key=Con response=null excep=Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused) \r\n2023-04-18T00:04:55.034+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsCallback    : paho7659740194162: call onSuccess key=Con \r\n2023-04-18T00:04:55.034+02:00 DEBUG 32920 --- [ho7659740194162] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: &gt;key=null response=null excep=Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused) \r\n2023-04-18T00:04:55.034+02:00 DEBUG 32920 --- [ho7659740194162] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: &gt;key=null response=null excep=Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused) \r\n2023-04-18T00:04:55.038+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: failed with exception \r\n\r\norg.eclipse.paho.client.mqttv3.MqttException: Unable to connect to server\r\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:80)\r\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\r\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\r\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\r\n        at java.base/java.net.Socket.connect(Socket.java:591)\r\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\r\n        ... 2 common frames omitted\r\n\r\nUnable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused)\r\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:80)\r\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\r\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\r\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\r\n        at java.base/java.net.Socket.connect(Socket.java:591)\r\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\r\n        ... 2 more\r\n\r\n```\r\n\r\nThe Mosquitto MQTT Broker does not require credentials (it&#39;s a server for developer purpose). Its configuration:\r\n\r\n```text\r\nallow_anonymous true\r\npersistence false\r\n\r\nlistener 1883 0.0.0.0\r\n```\r\n\r\nThe snippet code in the Spring Boot application does not work:\r\n\r\n```java\r\npackage com.abubusoft.iot.service;\r\n\r\nimport java.util.Arrays;\r\nimport javax.net.ssl.SSLSocketFactory;\r\nimport org.eclipse.paho.client.mqttv3.*;\r\nimport org.eclipse.paho.client.mqttv3.persist.MemoryPersistence;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class MQTTService {\r\n\r\n    private MqttClient client;\r\n\r\n    private String brokerServer;\r\n\r\n    public MQTTService(@Value(&quot;${spring.mqtt.broker.server}&quot;) String brokerServer) {\r\n        log.debug(&quot;MQTTService {}&quot;, brokerServer);\r\n        this.brokerServer = brokerServer;\r\n\r\n        try {\r\n            client =\r\n                new MqttClient(\r\n                    brokerServer, // serverURI in format:\r\n                    MqttClient.generateClientId(), // ClientId\r\n                    new MemoryPersistence()\r\n                ); // Persistence\r\n\r\n            MqttConnectOptions mqttConnectOptions = new MqttConnectOptions();\r\n            //mqttConnectOptions.setUserName(&quot;&lt;your_username&gt;&quot;);\r\n            //mqttConnectOptions.setPassword(&quot;&lt;your_password&gt;&quot;.toCharArray());\r\n            // using the default socket factory\r\n            //mqttConnectOptions.setSocketFactory(SSLSocketFactory.getDefault());\r\n\r\n            client.setCallback(callback);\r\n            client.connect(mqttConnectOptions);\r\n\r\n            client.subscribe(&quot;/device/status&quot;, 0);\r\n            // client.setTimeToWait();\r\n            //            client.publish(\r\n            //                &quot;topic&quot;,\r\n            //                &quot;payload&quot;.getBytes(UTF_8),\r\n            //                2, // QoS = 2\r\n            //                false);\r\n        } catch (MqttException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private final Logger log = LoggerFactory.getLogger(MQTTService.class);\r\n\r\n    private MqttCallback callback = new MqttCallback() {\r\n        @Override\r\n        // Called when the client lost the connection to the broker\r\n        public void connectionLost(Throwable cause) {\r\n            System.out.println(&quot;client lost connection &quot; + cause);\r\n        }\r\n\r\n        @Override\r\n        public void messageArrived(String topic, MqttMessage message) {\r\n            System.out.println(topic + &quot;: &quot; + Arrays.toString(message.getPayload()));\r\n        }\r\n\r\n        @Override\r\n        // Called when an outgoing publish is complete\r\n        public void deliveryComplete(IMqttDeliveryToken token) {\r\n            System.out.println(&quot;delivery complete &quot; + token);\r\n        }\r\n    };\r\n}\r\n\r\n```\r\n\r\nThe Spring boot application use the following library\r\n\r\n```xml\r\n&lt;groupId&gt;org.eclipse.paho&lt;/groupId&gt;\r\n   &lt;artifactId&gt;org.eclipse.paho.client.mqttv3&lt;/artifactId&gt;\r\n   &lt;version&gt;1.2.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe Mosquitto Broker is eclipse-mosquitto:2.0.15.\r\n\r\nAny suggestion to resolve this problem? Thanks in advance.","title":"Unable to connect to a Mosquitto MQTT Broker from a Spring Boot Application","body":"<p>I'm working on Mosquitto MQTT Broker and I need to reach it by a Spring Boot Application.</p>\n<p>The Mosquitto Broker is on a docker container and from an Arduino client and MQTTX client it is successfully reached.</p>\n<p>The problem is the Spring Boot application: every time the application try to connect to Broker the following error is raised:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>2023-04-18T00:04:54.878+02:00 DEBUG 32920 --- [  restartedMain] com.abubusoft.iot.service.MQTTService    : MQTTService tcp://192.168.1.100:1833 \n2023-04-18T00:04:54.891+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.MqttAsyncClient   : paho7659740194162: &lt;init&gt; ClientID=paho7659740194162 ServerURI=tcp://192.168.1.100:1833 PersistenceType=org.eclipse.paho.client.mqttv3.persist.MemoryPersistence@6a3aae31 \n2023-04-18T00:04:54.893+02:00 DEBUG 32920 --- [  restartedMain] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &lt;&gt; \n2023-04-18T00:04:54.897+02:00 DEBUG 32920 --- [  restartedMain] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: &gt; \n2023-04-18T00:04:54.899+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.MqttAsyncClient   : paho7659740194162: cleanSession=true connectionTimeout=30 TimekeepAlive=60 userName=null password=[null] will=[null] userContext=null callback=null \n2023-04-18T00:04:54.899+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.MqttAsyncClient   : paho7659740194162: URI=tcp://192.168.1.100:1833 \n2023-04-18T00:04:54.900+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.MqttAsyncClient   : paho7659740194162: URI=tcp://192.168.1.100:1833 \n2023-04-18T00:04:54.901+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.MqttAsyncClient   : paho7659740194162: &lt; \n2023-04-18T00:04:54.903+02:00 DEBUG 32920 --- [  restartedMain] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: state=CONNECTING \n2023-04-18T00:04:54.904+02:00 DEBUG 32920 --- [  restartedMain] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; \n2023-04-18T00:04:54.905+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: key=null wait max=-1 token=key=null ,topics= ,usercontext=org.eclipse.paho.client.mqttv3.MqttAsyncClient@196d55bd ,isComplete=false ,isNotified=false ,exception=null ,actioncallback=org.eclipse.paho.client.mqttv3.internal.ConnectActionListener@62f51a05 \n2023-04-18T00:04:54.905+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: &gt; \n2023-04-18T00:04:54.905+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; \n2023-04-18T00:04:54.905+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: &gt;key=null timeout=-1 sent=false completed=false hasException=false response=null token=key=null ,topics= ,usercontext=org.eclipse.paho.client.mqttv3.MqttAsyncClient@196d55bd ,isComplete=false ,isNotified=false ,exception=null ,actioncallback=org.eclipse.paho.client.mqttv3.internal.ConnectActionListener@62f51a05 \n2023-04-18T00:04:54.906+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: key=null wait max=-1 \n2023-04-18T00:04:54.906+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: key=Con message=CONNECT clientId paho7659740194162 keepAliveInterval 60 \n2023-04-18T00:04:54.907+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@60494888 \n2023-04-18T00:04:54.908+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.m.internal.TCPNetworkModule      : paho7659740194162: connect to host 192.168.1.100 port 1,833 timeout 30,000 \n2023-04-18T00:04:54.932+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.m.internal.TCPNetworkModule      : paho7659740194162: Failed to create TCP socket \n\njava.net.ConnectException: Connection refused (Connection refused)\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\n        at java.base/java.net.Socket.connect(Socket.java:591)\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n\n2023-04-18T00:04:54.937+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: connect failed: unexpected exception \n\norg.eclipse.paho.client.mqttv3.MqttException: Unable to connect to server\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:80)\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\n        at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\n        at java.base/java.net.Socket.connect(Socket.java:591)\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\n        ... 2 common frames omitted\n\n2023-04-18T00:04:54.976+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: state=DISCONNECTING \n2023-04-18T00:04:54.976+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: resp=Client is currently disconnecting (32102) \n2023-04-18T00:04:54.976+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: &gt; \n2023-04-18T00:04:54.976+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: reason Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused) \n2023-04-18T00:04:54.983+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; \n2023-04-18T00:04:54.983+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: key=Con \n2023-04-18T00:04:54.984+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: disconnected \n2023-04-18T00:04:54.984+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: &gt; \n2023-04-18T00:04:54.991+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; 0 tokens \n2023-04-18T00:04:54.991+02:00 DEBUG 32920 --- [ho7659740194162] o.e.paho.client.mqttv3.TimerPingSender   : paho7659740194162: stop \n2023-04-18T00:04:54.991+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: state=DISCONNECTED \n2023-04-18T00:04:54.991+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsCallback    : paho7659740194162: callback and notify for key=Con \n2023-04-18T00:04:54.991+02:00 DEBUG 32920 --- [ho7659740194162] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: &gt;key=Con response=null excep=Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused) \n2023-04-18T00:04:54.995+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsCallback    : paho7659740194162: call onSuccess key=Con \n2023-04-18T00:04:54.995+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: state=CONNECTING \n2023-04-18T00:04:54.995+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; \n2023-04-18T00:04:54.996+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: &gt; \n2023-04-18T00:04:54.999+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; \n2023-04-18T00:04:54.999+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: key=Con message=CONNECT clientId paho7659740194162 keepAliveInterval 60 \n2023-04-18T00:04:54.999+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@3b0b92a1 \n2023-04-18T00:04:55.000+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.m.internal.TCPNetworkModule      : paho7659740194162: connect to host 192.168.1.100 port 1,833 timeout 30,000 \n2023-04-18T00:04:55.016+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.m.internal.TCPNetworkModule      : paho7659740194162: Failed to create TCP socket \n\njava.net.ConnectException: Connection refused (Connection refused)\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\n        at java.base/java.net.Socket.connect(Socket.java:591)\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n\n2023-04-18T00:04:55.016+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: connect failed: unexpected exception \n\norg.eclipse.paho.client.mqttv3.MqttException: Unable to connect to server\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:80)\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\n        at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\n        at java.base/java.net.Socket.connect(Socket.java:591)\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\n        ... 2 common frames omitted\n\n2023-04-18T00:04:55.020+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: state=DISCONNECTING \n2023-04-18T00:04:55.020+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: resp=Client is currently disconnecting (32102) \n2023-04-18T00:04:55.020+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: &gt; \n2023-04-18T00:04:55.021+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: reason Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused) \n2023-04-18T00:04:55.023+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; \n2023-04-18T00:04:55.023+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: key=Con \n2023-04-18T00:04:55.023+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: disconnected \n2023-04-18T00:04:55.023+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: &gt; \n2023-04-18T00:04:55.031+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; 0 tokens \n2023-04-18T00:04:55.031+02:00 DEBUG 32920 --- [ho7659740194162] o.e.paho.client.mqttv3.TimerPingSender   : paho7659740194162: stop \n2023-04-18T00:04:55.031+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: state=DISCONNECTED \n2023-04-18T00:04:55.031+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsCallback    : paho7659740194162: callback and notify for key=Con \n2023-04-18T00:04:55.031+02:00 DEBUG 32920 --- [ho7659740194162] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: &gt;key=Con response=null excep=Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused) \n2023-04-18T00:04:55.034+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsCallback    : paho7659740194162: call onSuccess key=Con \n2023-04-18T00:04:55.034+02:00 DEBUG 32920 --- [ho7659740194162] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: &gt;key=null response=null excep=Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused) \n2023-04-18T00:04:55.034+02:00 DEBUG 32920 --- [ho7659740194162] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: &gt;key=null response=null excep=Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused) \n2023-04-18T00:04:55.038+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: failed with exception \n\norg.eclipse.paho.client.mqttv3.MqttException: Unable to connect to server\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:80)\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\n        at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\n        at java.base/java.net.Socket.connect(Socket.java:591)\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\n        ... 2 common frames omitted\n\nUnable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused)\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:80)\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\n        at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\n        at java.base/java.net.Socket.connect(Socket.java:591)\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\n        ... 2 more\n\n</code></pre>\n<p>The Mosquitto MQTT Broker does not require credentials (it's a server for developer purpose). Its configuration:</p>\n<pre><code>allow_anonymous true\npersistence false\n\nlistener 1883 0.0.0.0\n</code></pre>\n<p>The snippet code in the Spring Boot application does not work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.abubusoft.iot.service;\n\nimport java.util.Arrays;\nimport javax.net.ssl.SSLSocketFactory;\nimport org.eclipse.paho.client.mqttv3.*;\nimport org.eclipse.paho.client.mqttv3.persist.MemoryPersistence;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class MQTTService {\n\n    private MqttClient client;\n\n    private String brokerServer;\n\n    public MQTTService(@Value(&quot;${spring.mqtt.broker.server}&quot;) String brokerServer) {\n        log.debug(&quot;MQTTService {}&quot;, brokerServer);\n        this.brokerServer = brokerServer;\n\n        try {\n            client =\n                new MqttClient(\n                    brokerServer, // serverURI in format:\n                    MqttClient.generateClientId(), // ClientId\n                    new MemoryPersistence()\n                ); // Persistence\n\n            MqttConnectOptions mqttConnectOptions = new MqttConnectOptions();\n            //mqttConnectOptions.setUserName(&quot;&lt;your_username&gt;&quot;);\n            //mqttConnectOptions.setPassword(&quot;&lt;your_password&gt;&quot;.toCharArray());\n            // using the default socket factory\n            //mqttConnectOptions.setSocketFactory(SSLSocketFactory.getDefault());\n\n            client.setCallback(callback);\n            client.connect(mqttConnectOptions);\n\n            client.subscribe(&quot;/device/status&quot;, 0);\n            // client.setTimeToWait();\n            //            client.publish(\n            //                &quot;topic&quot;,\n            //                &quot;payload&quot;.getBytes(UTF_8),\n            //                2, // QoS = 2\n            //                false);\n        } catch (MqttException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private final Logger log = LoggerFactory.getLogger(MQTTService.class);\n\n    private MqttCallback callback = new MqttCallback() {\n        @Override\n        // Called when the client lost the connection to the broker\n        public void connectionLost(Throwable cause) {\n            System.out.println(&quot;client lost connection &quot; + cause);\n        }\n\n        @Override\n        public void messageArrived(String topic, MqttMessage message) {\n            System.out.println(topic + &quot;: &quot; + Arrays.toString(message.getPayload()));\n        }\n\n        @Override\n        // Called when an outgoing publish is complete\n        public void deliveryComplete(IMqttDeliveryToken token) {\n            System.out.println(&quot;delivery complete &quot; + token);\n        }\n    };\n}\n\n</code></pre>\n<p>The Spring boot application use the following library</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;groupId&gt;org.eclipse.paho&lt;/groupId&gt;\n   &lt;artifactId&gt;org.eclipse.paho.client.mqttv3&lt;/artifactId&gt;\n   &lt;version&gt;1.2.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The Mosquitto Broker is eclipse-mosquitto:2.0.15.</p>\n<p>Any suggestion to resolve this problem? Thanks in advance.</p>\n"},{"tags":["java","jnativehook"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1681779042,"post_id":76039669,"comment_id":134108722,"body_markdown":"Are you using a GUI or is this a Console (terminal) Application?","body":"Are you using a GUI or is this a Console (terminal) Application?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681780146,"post_id":76039669,"comment_id":134108852,"body_markdown":"Like you set any value to any variable ... sorry for the vagueness of the comment, but it matches the vagueness of the question. Why are you using `jnativehook`?  That seems like a very specific requirement and to be honest, quite a technical one","body":"Like you set any value to any variable ... sorry for the vagueness of the comment, but it matches the vagueness of the question. Why are you using <code>jnativehook</code>?  That seems like a very specific requirement and to be honest, quite a technical one"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681780260,"post_id":76039669,"comment_id":134108865,"body_markdown":"The [documentation](https://github.com/kwhat/jnativehook/blob/2.2/doc/Keyboard.md) seems like a reasonable place to start, it shows you how to get the information from the API, from there it&#39;s just &quot;standard&quot; java variable assignment ... which raises more questions.  If you&#39;re not sure how that works, maybe something like JNI/native hooks is best put aside till you do","body":"The <a href=\"https://github.com/kwhat/jnativehook/blob/2.2/doc/Keyboard.md\" rel=\"nofollow noreferrer\">documentation</a> seems like a reasonable place to start, it shows you how to get the information from the API, from there it&#39;s just &quot;standard&quot; java variable assignment ... which raises more questions.  If you&#39;re not sure how that works, maybe something like JNI/native hooks is best put aside till you do"},{"owner":{"account_id":28334000,"reputation":1,"user_id":21667843,"display_name":"megadriive"},"score":0,"creation_date":1681966783,"post_id":76039669,"comment_id":134142462,"body_markdown":"@DevilsHnd for now this is a terminal application","body":"@DevilsHnd for now this is a terminal application"},{"owner":{"account_id":28334000,"reputation":1,"user_id":21667843,"display_name":"megadriive"},"score":0,"creation_date":1681966949,"post_id":76039669,"comment_id":134142485,"body_markdown":"@MadProgrammer ya sorry if this is a lil vague but you can open a nativelistener and save the typed character to a variable? also i&#39;m using jnativehook cause idk any other things that allow you to listen to keypresses lmao, please put me on if you know any other keypress detectors i could use. ^w^ ^w^ ^w^","body":"@MadProgrammer ya sorry if this is a lil vague but you can open a nativelistener and save the typed character to a variable? also i&#39;m using jnativehook cause idk any other things that allow you to listen to keypresses lmao, please put me on if you know any other keypress detectors i could use. ^w^ ^w^ ^w^"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681968007,"post_id":76039669,"comment_id":134142606,"body_markdown":"[Language Basics: Variables](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html); [Understanding Class Members](https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html\" rel=\"nofollow noreferrer\">Language Basics: Variables</a>; <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">Understanding Class Members</a>"},{"owner":{"account_id":28334000,"reputation":1,"user_id":21667843,"display_name":"megadriive"},"score":0,"creation_date":1682028062,"post_id":76039669,"comment_id":134155677,"body_markdown":"@MadProgrammer i feel confident i know how variables work, and i stay spamming the static keyword to use variables in inputmismatchexception circumventors. looking back to this question i think ima try to assign the variable in one of the methods and see if that works, maybe my mistake was trying to assign the variable in the main method lmaooo.","body":"@MadProgrammer i feel confident i know how variables work, and i stay spamming the static keyword to use variables in inputmismatchexception circumventors. looking back to this question i think ima try to assign the variable in one of the methods and see if that works, maybe my mistake was trying to assign the variable in the main method lmaooo."},{"owner":{"account_id":28334000,"reputation":1,"user_id":21667843,"display_name":"megadriive"},"score":0,"creation_date":1682028116,"post_id":76039669,"comment_id":134155685,"body_markdown":"@MadProgrammer also wanna add, now reading the class members doc to understand how the private keyword even works.","body":"@MadProgrammer also wanna add, now reading the class members doc to understand how the private keyword even works."},{"owner":{"account_id":28334000,"reputation":1,"user_id":21667843,"display_name":"megadriive"},"score":0,"creation_date":1682028214,"post_id":76039669,"comment_id":134155698,"body_markdown":"@MadProgrammer well more like reading a quora thing lmao. still reading up on the private keyword doe.","body":"@MadProgrammer well more like reading a quora thing lmao. still reading up on the private keyword doe."},{"owner":{"account_id":28334000,"reputation":1,"user_id":21667843,"display_name":"megadriive"},"score":0,"creation_date":1682030726,"post_id":76039669,"comment_id":134156030,"body_markdown":"@MadProgrammer omg i looked at the documentation you linked and i might&#39;ve actually gotten somewhere, it&#39;s the vc events that hold the secret to actually assigning the values to a variable right?","body":"@MadProgrammer omg i looked at the documentation you linked and i might&#39;ve actually gotten somewhere, it&#39;s the vc events that hold the secret to actually assigning the values to a variable right?"},{"owner":{"account_id":28334000,"reputation":1,"user_id":21667843,"display_name":"megadriive"},"score":0,"creation_date":1682032396,"post_id":76039669,"comment_id":134156208,"body_markdown":"@MadProgrammer wait but it&#39;s like the vc event won&#39;t save to the variable, i can make it do something if i push a key but idk how to translate that into saving it to a variable doe.","body":"@MadProgrammer wait but it&#39;s like the vc event won&#39;t save to the variable, i can make it do something if i push a key but idk how to translate that into saving it to a variable doe."},{"owner":{"account_id":28334000,"reputation":1,"user_id":21667843,"display_name":"megadriive"},"score":0,"creation_date":1682899793,"post_id":76039669,"comment_id":134283037,"body_markdown":"ok so i got it, all i needed to do was use an if statement where if a vc key is pressed, it&#39;ll do something (in my case, it adds to the array list)\n\nso for my example:\n\n\n\n`if (e.getKeyCode() == NativeKeyEvent.VC_W) {\n\t\t\t// typingDetector is my arraylist\n           \ttypingDetector.add(e.getKeyText(e.getKeyCode()));\n\t\t\t\n        }`\n\nhopefully the code formats right","body":"ok so i got it, all i needed to do was use an if statement where if a vc key is pressed, it&#39;ll do something (in my case, it adds to the array list)  so for my example:    <code>if (e.getKeyCode() == NativeKeyEvent.VC_W) { \t\t\t&#47;&#47; typingDetector is my arraylist            \ttypingDetector.add(e.getKeyText(e.getKeyCode())); \t\t\t         }</code>  hopefully the code formats right"},{"owner":{"account_id":28334000,"reputation":1,"user_id":21667843,"display_name":"megadriive"},"score":0,"creation_date":1682899870,"post_id":76039669,"comment_id":134283049,"body_markdown":"well damn this code ain&#39;t newline correctly","body":"well damn this code ain&#39;t newline correctly"}],"owner":{"account_id":28334000,"reputation":1,"user_id":21667843,"display_name":"megadriive"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681769379,"creation_date":1681769379,"question_id":76039669,"body_markdown":"So this is probably an obvious question, but i am just wondering if there is a way to save a key press to a variable (like a char or a string). I am relatively new to java, I know how to use scanners and how to make hash codes, I got a login screen with no back button coded so yea making good progress, but with all that aside how do i save a key press to a variable?","title":"How to save a key press to variable with jnativehook","body":"<p>So this is probably an obvious question, but i am just wondering if there is a way to save a key press to a variable (like a char or a string). I am relatively new to java, I know how to use scanners and how to make hash codes, I got a login screen with no back button coded so yea making good progress, but with all that aside how do i save a key press to a variable?</p>\n"},{"tags":["java","windows-11","graalvm-native-image"],"owner":{"account_id":12566830,"reputation":11,"user_id":9142512,"display_name":"Hasan Enes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681768391,"creation_date":1681766922,"question_id":76039412,"body_markdown":"When I try to create native image on Windows 11 computer I get the error below. And my environment specifications are like this:\r\n\r\n - OS : Windows 11 Enterprise 64-bit (22621) (Language : English)\r\n - GraalVM : ce-java11-22.1.0 (Windows amd64)\r\n - Microsoft Visual Studio Build Tools 2019 (16.11.24)\r\n - Maven 3.8.1\r\n - x64 Native Tools Command Prompt for VS 2019\r\n \r\n[error log][1]\r\n\r\nIs there anything wrong with windows 11? Also this same error occurs on GraalVM version 22.3.1 too. And I created an issue on GitHub https://github.com/oracle/graal/issues/6438\r\n\r\n\r\nI tried to change GraalVM version and reinstalled Visual C++ Build Tools but they didnt help\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eX960.png","title":"Error while creating native image with GraalVM on Windows 11","body":"<p>When I try to create native image on Windows 11 computer I get the error below. And my environment specifications are like this:</p>\n<ul>\n<li>OS : Windows 11 Enterprise 64-bit (22621) (Language : English)</li>\n<li>GraalVM : ce-java11-22.1.0 (Windows amd64)</li>\n<li>Microsoft Visual Studio Build Tools 2019 (16.11.24)</li>\n<li>Maven 3.8.1</li>\n<li>x64 Native Tools Command Prompt for VS 2019</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/eX960.png\" rel=\"nofollow noreferrer\">error log</a></p>\n<p>Is there anything wrong with windows 11? Also this same error occurs on GraalVM version 22.3.1 too. And I created an issue on GitHub <a href=\"https://github.com/oracle/graal/issues/6438\" rel=\"nofollow noreferrer\">https://github.com/oracle/graal/issues/6438</a></p>\n<p>I tried to change GraalVM version and reinstalled Visual C++ Build Tools but they didnt help</p>\n"},{"tags":["java","android","android-studio","kotlin","gradle"],"comments":[{"owner":{"account_id":7419981,"reputation":2073,"user_id":5644761,"display_name":"JakeB"},"score":0,"creation_date":1681741709,"post_id":76036154,"comment_id":134101530,"body_markdown":"Android only supports upto java 11","body":"Android only supports upto java 11"},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":1,"creation_date":1681741829,"post_id":76036154,"comment_id":134101578,"body_markdown":"Gradle between 7.6 and 8.0 supports Java &lt;= 19, Gradle 8.1 supports Java &lt;= 20.","body":"Gradle between 7.6 and 8.0 supports Java &lt;= 19, Gradle 8.1 supports Java &lt;= 20."},{"owner":{"account_id":13455154,"reputation":723,"user_id":9708904,"display_name":"Danial clarc"},"score":0,"creation_date":1681745099,"post_id":76036154,"comment_id":134102543,"body_markdown":"the issue start after updating to android studio to flamingo","body":"the issue start after updating to android studio to flamingo"},{"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"score":0,"creation_date":1683234672,"post_id":76036154,"comment_id":134339982,"body_markdown":"same problem found solution?","body":"same problem found solution?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1683236282,"post_id":76036154,"comment_id":134340247,"body_markdown":"The same question can also be found here (with answer) https://stackoverflow.com/q/76137431/150978","body":"The same question can also be found here (with answer) <a href=\"https://stackoverflow.com/q/76137431/150978\">stackoverflow.com/q/76137431/150978</a>"}],"answers":[{"tags":[],"owner":{"account_id":10544691,"reputation":41,"user_id":7769364,"display_name":"pavlusha_crew "},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681767736,"creation_date":1681767736,"answer_id":76039502,"question_id":76036154,"body_markdown":"Change in Settings-&gt;Gradle Java JDK to 17 it maybe solves your problem ","title":"Not able to Find compatible version of embedded java version and gradle tools version for Android Studio Flamingo","body":"<p>Change in Settings-&gt;Gradle Java JDK to 17 it maybe solves your problem</p>\n"}],"owner":{"account_id":13455154,"reputation":723,"user_id":9708904,"display_name":"Danial clarc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2128,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681767736,"creation_date":1681741155,"question_id":76036154,"body_markdown":"I tried with jdk 17 and 18 its giving me the same issue \r\n [![enter image description here][1]][1]\r\n\r\n\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\nCould not resolve com.android.tools.build:gradle:8.0.0.\r\n\r\nRequired by:\r\n    project : &gt; com.android.application:com.android.application.gradle.plugin:8.0.0\r\n    project : &gt; com.android.library:com.android.library.gradle.plugin:8.0.0\r\n\r\nNo matching variant of com.android.tools.build:gradle:8.0.0 was found. The consumer was configured to find a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;8.0&#39; but:\r\n\r\n- Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:8.0.0 declares a library, packaged as a jar, and its dependencies declared externally:\r\n    - Incompatible because this component declares a component for use during compile-time, compatible with Java 11 and the consumer needed a component for use during runtime, compatible with Java 8\r\n    - Other compatible attribute:\r\n        - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n\r\n- Variant &#39;javadocElements&#39; capability com.android.tools.build:gradle:8.0.0 declares a component for use during runtime, and its dependencies declared externally:\r\n    - Incompatible because this component declares documentation and the consumer needed a library\r\n    - Other compatible attributes:\r\n        - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n        - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n        - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n\r\n- Variant &#39;runtimeElements&#39; capability com.android.tools.build:gradle:8.0.0 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n    - Incompatible because this component declares a component, compatible with Java 11 and the consumer needed a component, compatible with Java 8\r\n    - Other compatible attribute:\r\n        - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n- Variant &#39;sourcesElements&#39; capability com.android.tools.build:gradle:8.0.0 declares a component for use during runtime, and its dependencies declared externally:\r\n    - Incompatible because this component declares documentation and the consumer needed a library\r\n    - Other compatible attributes:\r\n        - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n        - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n        - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eQ7Lj.png\r\n\r\n\r\nIf anyone else also faced the same issue with android studio flamingo please suggest some solutions.","title":"Not able to Find compatible version of embedded java version and gradle tools version for Android Studio Flamingo","body":"<p>I tried with jdk 17 and 18 its giving me the same issue\n<a href=\"https://i.stack.imgur.com/eQ7Lj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eQ7Lj.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>Could not resolve all files for configuration ':classpath'.\nCould not resolve com.android.tools.build:gradle:8.0.0.</p>\n</blockquote>\n<p>Required by:\nproject : &gt; com.android.application:com.android.application.gradle.plugin:8.0.0\nproject : &gt; com.android.library:com.android.library.gradle.plugin:8.0.0</p>\n<p>No matching variant of com.android.tools.build:gradle:8.0.0 was found. The consumer was configured to find a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '8.0' but:</p>\n<ul>\n<li><p>Variant 'apiElements' capability com.android.tools.build:gradle:8.0.0 declares a library, packaged as a jar, and its dependencies declared externally:</p>\n<ul>\n<li>Incompatible because this component declares a component for use during compile-time, compatible with Java 11 and the consumer needed a component for use during runtime, compatible with Java 8</li>\n<li>Other compatible attribute:\n<ul>\n<li>Doesn't say anything about org.gradle.plugin.api-version (required '8.0')</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Variant 'javadocElements' capability com.android.tools.build:gradle:8.0.0 declares a component for use during runtime, and its dependencies declared externally:</p>\n<ul>\n<li>Incompatible because this component declares documentation and the consumer needed a library</li>\n<li>Other compatible attributes:\n<ul>\n<li>Doesn't say anything about its target Java version (required compatibility with Java 8)</li>\n<li>Doesn't say anything about its elements (required them packaged as a jar)</li>\n<li>Doesn't say anything about org.gradle.plugin.api-version (required '8.0')</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Variant 'runtimeElements' capability com.android.tools.build:gradle:8.0.0 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:</p>\n<ul>\n<li>Incompatible because this component declares a component, compatible with Java 11 and the consumer needed a component, compatible with Java 8</li>\n<li>Other compatible attribute:\n<ul>\n<li>Doesn't say anything about org.gradle.plugin.api-version (required '8.0')</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Variant 'sourcesElements' capability com.android.tools.build:gradle:8.0.0 declares a component for use during runtime, and its dependencies declared externally:</p>\n<ul>\n<li>Incompatible because this component declares documentation and the consumer needed a library</li>\n<li>Other compatible attributes:\n<ul>\n<li>Doesn't say anything about its target Java version (required compatibility with Java 8)</li>\n<li>Doesn't say anything about its elements (required them packaged as a jar)</li>\n<li>Doesn't say anything about org.gradle.plugin.api-version (required '8.0')</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>If anyone else also faced the same issue with android studio flamingo please suggest some solutions.</p>\n"},{"tags":["java","android","http","httpresponse"],"comments":[{"owner":{"account_id":120683,"reputation":1139,"user_id":313261,"accept_rate":55,"display_name":"noko"},"score":0,"creation_date":1354250785,"post_id":13639146,"comment_id":18710532,"body_markdown":"This might be a latency issue rather than a programming issue :(","body":"This might be a latency issue rather than a programming issue :("},{"owner":{"account_id":209163,"reputation":5432,"user_id":460043,"accept_rate":40,"display_name":"Lock"},"score":0,"creation_date":1354250786,"post_id":13639146,"comment_id":18710533,"body_markdown":"Unless the server that you are accessing is on your local network, you will probably never be able to get that speed.","body":"Unless the server that you are accessing is on your local network, you will probably never be able to get that speed."},{"owner":{"account_id":297024,"reputation":25001,"user_id":602323,"accept_rate":80,"display_name":"Kevin"},"score":2,"creation_date":1354250786,"post_id":13639146,"comment_id":18710534,"body_markdown":"what is the ping time? How long does curl take to fetch the same resource, e.g. `time curl -i &#39;http://www.my_site.com&quot;`?","body":"what is the ping time? How long does curl take to fetch the same resource, e.g. <code>time curl -i &#39;http:&#47;&#47;www.my_site.com&quot;</code>?"},{"owner":{"account_id":1439522,"reputation":9489,"user_id":1360074,"accept_rate":85,"display_name":"Nikolay Kuznetsov"},"score":0,"creation_date":1354250967,"post_id":13639146,"comment_id":18710593,"body_markdown":"@Kevin, I agree, if ping time is too long not many things can help to speed it up","body":"@Kevin, I agree, if ping time is too long not many things can help to speed it up"},{"owner":{"account_id":1247339,"reputation":11852,"user_id":1208510,"accept_rate":98,"display_name":"Rahul Baradia"},"score":0,"creation_date":1354251042,"post_id":13639146,"comment_id":18710616,"body_markdown":"@Kevin I ll check and let u know..","body":"@Kevin I ll check and let u know.."},{"owner":{"account_id":1326012,"reputation":14772,"user_id":1270789,"accept_rate":81,"display_name":"Ken Y-N"},"score":1,"creation_date":1354251855,"post_id":13639146,"comment_id":18710828,"body_markdown":"There&#39;s code optimisations, such as not recreating the `HttpClient` and `HttpGet` every time. But, what might be better would be to cache the data on the server, so when you ask for data it feeds you 4K x number of ms since last call. It might also be faster to use a raw socket and dump all the HTTP overhead, if you really need to access every few milliseconds.","body":"There&#39;s code optimisations, such as not recreating the <code>HttpClient</code> and <code>HttpGet</code> every time. But, what might be better would be to cache the data on the server, so when you ask for data it feeds you 4K x number of ms since last call. It might also be faster to use a raw socket and dump all the HTTP overhead, if you really need to access every few milliseconds."},{"owner":{"account_id":1247339,"reputation":11852,"user_id":1208510,"accept_rate":98,"display_name":"Rahul Baradia"},"score":0,"creation_date":1354252339,"post_id":13639146,"comment_id":18710943,"body_markdown":"@Kevin it showing this real - 0m0.009s,user - 0m0.004s,sys - 0m0.004s when I used `time curl -i &#39;http://www.my_site.com&quot;`","body":"@Kevin it showing this real - 0m0.009s,user - 0m0.004s,sys - 0m0.004s when I used <code>time curl -i &#39;http:&#47;&#47;www.my_site.com&quot;</code>"},{"owner":{"account_id":1737702,"reputation":3412,"user_id":1589880,"accept_rate":100,"display_name":"G M Ramesh"},"score":0,"creation_date":1354253316,"post_id":13639146,"comment_id":18711189,"body_markdown":"@KenY-N , He is using HttpPost MEthod not Get","body":"@KenY-N , He is using HttpPost MEthod not Get"},{"owner":{"account_id":1247339,"reputation":11852,"user_id":1208510,"accept_rate":98,"display_name":"Rahul Baradia"},"score":0,"creation_date":1354253393,"post_id":13639146,"comment_id":18711214,"body_markdown":"@KenY-N , sorry I am uising HttpPost, Mistakenly wrote HttpGet.","body":"@KenY-N , sorry I am uising HttpPost, Mistakenly wrote HttpGet."}],"answers":[{"tags":[],"owner":{"account_id":388441,"reputation":2525,"user_id":747392,"accept_rate":86,"display_name":"Shamis Shukoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386997734,"creation_date":1354250808,"answer_id":13639170,"question_id":13639146,"body_markdown":"Use [SPDY][1] protocol. This would improve your response time.\r\n\r\n\r\n  [1]: https://developers.google.com/speed/spdy/\r\n\r\nI think in your case you can use websockets so that you would not have to create a connection each time and the live connection is available every time.","title":"How to make HttpResponse work much faster?","body":"<p>Use <a href=\"https://developers.google.com/speed/spdy/\" rel=\"nofollow\">SPDY</a> protocol. This would improve your response time.</p>\n\n<p>I think in your case you can use websockets so that you would not have to create a connection each time and the live connection is available every time.</p>\n"},{"tags":[],"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354251413,"creation_date":1354251413,"answer_id":13639252,"question_id":13639146,"body_markdown":"@sheldonCooper answer is right if the server enables SPDY. Also you can add Gzip compression. It has been added to all requests after GingerBread but you could add it for former SDK versions : http://android-developers.blogspot.fr/2011/09/androids-http-clients.html\r\n\r\n","title":"How to make HttpResponse work much faster?","body":"<p>@sheldonCooper answer is right if the server enables SPDY. Also you can add Gzip compression. It has been added to all requests after GingerBread but you could add it for former SDK versions : <a href=\"http://android-developers.blogspot.fr/2011/09/androids-http-clients.html\" rel=\"nofollow\">http://android-developers.blogspot.fr/2011/09/androids-http-clients.html</a></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1354253128,"creation_date":1354251448,"answer_id":13639259,"question_id":13639146,"body_markdown":"Before you can make the responses faster, you are going to need to investigate and understand why they are currently taking a long time.  Roughly speaking, it could be:\r\n\r\n  - the client side taking a long time to create the request and/or preocess the result (seems unlikely ...)\r\n  - a slow android network protocol stack\r\n  - a problem with your local networking (e.g. WiFi) or your telecoms provider\r\n  - a congested / overloaded server or server-side network, or\r\n  - something pessimal in the server implementation.\r\n\r\nDo things like:\r\n  \r\n  - try the request from a web browser on a conventional PC and use the browser&#39;s web-developer stuff to try to tease out whether/why the request is taking a long time ...\r\n  - look in the server-side logs and/or monitoring for request load and timing information\r\n  - *other suggestions please* \r\n\r\nImplementing SPDY *might* help, but it is *unlikely* to change response times in the order of 500ms to a couple of tens of milliseconds.  The problem seems more fundamental than &quot;HTTP is old and slow&quot;.  And the same reasoning applies to all of the other suggestions that people have made.","title":"How to make HttpResponse work much faster?","body":"<p>Before you can make the responses faster, you are going to need to investigate and understand why they are currently taking a long time.  Roughly speaking, it could be:</p>\n\n<ul>\n<li>the client side taking a long time to create the request and/or preocess the result (seems unlikely ...)</li>\n<li>a slow android network protocol stack</li>\n<li>a problem with your local networking (e.g. WiFi) or your telecoms provider</li>\n<li>a congested / overloaded server or server-side network, or</li>\n<li>something pessimal in the server implementation.</li>\n</ul>\n\n<p>Do things like:</p>\n\n<ul>\n<li>try the request from a web browser on a conventional PC and use the browser's web-developer stuff to try to tease out whether/why the request is taking a long time ...</li>\n<li>look in the server-side logs and/or monitoring for request load and timing information</li>\n<li><em>other suggestions please</em> </li>\n</ul>\n\n<p>Implementing SPDY <em>might</em> help, but it is <em>unlikely</em> to change response times in the order of 500ms to a couple of tens of milliseconds.  The problem seems more fundamental than \"HTTP is old and slow\".  And the same reasoning applies to all of the other suggestions that people have made.</p>\n"},{"tags":[],"owner":{"account_id":105617,"reputation":853,"user_id":281727,"display_name":"Bishnu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1354258374,"creation_date":1354258374,"answer_id":13640383,"question_id":13639146,"body_markdown":"This is not possible. You are recreating a connection every time.\r\n\r\nYou need to hold a persistent connection with the server. Try creating a persistent http connection.\r\n\r\nIf that doesn&#39;t work you can try sending raw udp packets (or anything else). It will be harder but it will take less time.\r\n","title":"How to make HttpResponse work much faster?","body":"<p>This is not possible. You are recreating a connection every time.</p>\n\n<p>You need to hold a persistent connection with the server. Try creating a persistent http connection.</p>\n\n<p>If that doesn't work you can try sending raw udp packets (or anything else). It will be harder but it will take less time.</p>\n"}],"owner":{"account_id":1247339,"reputation":11852,"user_id":1208510,"accept_rate":98,"display_name":"Rahul Baradia"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1876,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":13640383,"answer_count":4,"score":5,"last_activity_date":1681767206,"creation_date":1354250634,"question_id":13639146,"body_markdown":"I am working on a project in which I have to get 4096 bytes of data to server from &quot;server&quot; between every 1-millisecond to 10-millisecond. But it&#39;s taking too much time i.e around 300ms - 700ms which causes my application to lose data. \r\n\r\nI am using below snippet \r\n\r\n    HttpClient client = new DefaultHttpClient();\r\n    HttpPost request = new HttpPost(&quot;http://192.168.1.40/ping&quot;);\r\n    HttpResponse response = client.execute(request);\r\n\r\nThe HttpResponse is only taking too much time i.e around 300ms - 700ms.\r\n\r\n**How I can get response faster?** \r\n\r\n**Instead of this what else I can use to get a response from server faster then this?**\r\n\r\nI have done some research, gone through other ways like `DataOutputStream` and `ByteOutputStream` but no use of this, it also taking too much time then `HttpResponse`. \r\n","title":"How to make HttpResponse work much faster?","body":"<p>I am working on a project in which I have to get 4096 bytes of data to server from &quot;server&quot; between every 1-millisecond to 10-millisecond. But it's taking too much time i.e around 300ms - 700ms which causes my application to lose data.</p>\n<p>I am using below snippet</p>\n<pre><code>HttpClient client = new DefaultHttpClient();\nHttpPost request = new HttpPost(&quot;http://192.168.1.40/ping&quot;);\nHttpResponse response = client.execute(request);\n</code></pre>\n<p>The HttpResponse is only taking too much time i.e around 300ms - 700ms.</p>\n<p><strong>How I can get response faster?</strong></p>\n<p><strong>Instead of this what else I can use to get a response from server faster then this?</strong></p>\n<p>I have done some research, gone through other ways like <code>DataOutputStream</code> and <code>ByteOutputStream</code> but no use of this, it also taking too much time then <code>HttpResponse</code>.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-webclient"],"owner":{"account_id":26904803,"reputation":43,"user_id":20481346,"display_name":"karixdev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1681766740,"creation_date":1681765126,"question_id":76039251,"body_markdown":"everyone!\r\nI&#39;m using Spring HTTP interfaces to communicate between my microservices, here&#39;s how i create such a HTTP interface\r\n\r\n```Java\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class ScheduleConfig {\r\n    private final LoadBalancedExchangeFilterFunction filterFunction;\r\n\r\n    @Bean\r\n    ScheduleClient scheduleClient(\r\n            @Value(&quot;${schedule-service.base-url}&quot;) String baseUrl\r\n    ) {\r\n        WebClient webClient = WebClient.builder()\r\n                .baseUrl(baseUrl)\r\n                .filter(filterFunction)\r\n                .build();\r\n\r\n        HttpServiceProxyFactory httpServiceProxyFactory =\r\n                HttpServiceProxyFactory\r\n                        .builder(WebClientAdapter.forClient(webClient))\r\n                        .build();\r\n\r\n        return httpServiceProxyFactory.createClient(ScheduleClient.class);\r\n    }\r\n}\r\n```\r\n\r\nThen I&#39;m testing this `ScheduleClient` using WireMock, so in test class I set up `baseUrl` like in the code below:\r\n\r\n```Java\r\n@DynamicPropertySource\r\nstatic void overrideScheduleServiceBaseUrl(DynamicPropertyRegistry registry) {\r\n    registry.add(\r\n            &quot;schedule-service.base-url&quot;,\r\n            () -&gt; &quot;http://localhost:9999&quot;);\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nAfter running test methods I get following output:\r\n\r\n```\r\norg.springframework.web.reactive.function.client.WebClientResponseException$ServiceUnavailable: 503 Service Unavailable from UNKNOWN \r\n\r\n\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:337)\r\n\tSuppressed: The stacktrace has been enhanced by Reactor, refer to additional information below: \r\nError has been observed at the following site(s):\r\n\t*__checkpoint ⇢ 503 SERVICE_UNAVAILABLE from GET http://localhost/api/schedules [DefaultWebClient]\r\n```\r\nIn the stacktrace we can find `http://localhost/api/schedules` so it looks like the port number has been removed from baseUrl.\r\n\r\nWhat could be cause of such a problem?","title":"Spring WebClient ignores baseUrl port number","body":"<p>everyone!\nI'm using Spring HTTP interfaces to communicate between my microservices, here's how i create such a HTTP interface</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class ScheduleConfig {\n    private final LoadBalancedExchangeFilterFunction filterFunction;\n\n    @Bean\n    ScheduleClient scheduleClient(\n            @Value(&quot;${schedule-service.base-url}&quot;) String baseUrl\n    ) {\n        WebClient webClient = WebClient.builder()\n                .baseUrl(baseUrl)\n                .filter(filterFunction)\n                .build();\n\n        HttpServiceProxyFactory httpServiceProxyFactory =\n                HttpServiceProxyFactory\n                        .builder(WebClientAdapter.forClient(webClient))\n                        .build();\n\n        return httpServiceProxyFactory.createClient(ScheduleClient.class);\n    }\n}\n</code></pre>\n<p>Then I'm testing this <code>ScheduleClient</code> using WireMock, so in test class I set up <code>baseUrl</code> like in the code below:</p>\n<pre><code>@DynamicPropertySource\nstatic void overrideScheduleServiceBaseUrl(DynamicPropertyRegistry registry) {\n    registry.add(\n            &quot;schedule-service.base-url&quot;,\n            () -&gt; &quot;http://localhost:9999&quot;);\n}\n</code></pre>\n<p>After running test methods I get following output:</p>\n<pre><code>org.springframework.web.reactive.function.client.WebClientResponseException$ServiceUnavailable: 503 Service Unavailable from UNKNOWN \n\n    at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:337)\n    Suppressed: The stacktrace has been enhanced by Reactor, refer to additional information below: \nError has been observed at the following site(s):\n    *__checkpoint ⇢ 503 SERVICE_UNAVAILABLE from GET http://localhost/api/schedules [DefaultWebClient]\n</code></pre>\n<p>In the stacktrace we can find <code>http://localhost/api/schedules</code> so it looks like the port number has been removed from baseUrl.</p>\n<p>What could be cause of such a problem?</p>\n"},{"tags":["java","android","react-native","mobile","okhttp"],"owner":{"account_id":14786776,"reputation":1,"user_id":10678752,"display_name":"Tyler Waterman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681766377,"creation_date":1681766377,"question_id":76039363,"body_markdown":"I have an android application in java where frequently the phone will be connected to a wifi-network that is not connected to the internet. When I try to make network requests, such as to api endpoints, it tries to send the requests over this wifi network, which then fail because it is not connected to the internet. When this happens, I would like some sort of a fallback where the requests are instead routed over the device&#39;s cellular data. Currently I am using okhttp3 to make these network requests, but I am open to other solutions\r\n\r\nThis is how I am currently attempting to alleviate the issue (where variable transport is equal to NetworkCapabilities.TRANSPORT_CELLULAR:\r\n\r\n\r\n```\r\n  private void connectToNetworkWithSpecifiedCapability(OkHttpClient.Builder clientBuilder, int transport) {\r\n    Network[] networks = connectivityManager.getAllNetworks();\r\n\r\n    for (Network network : networks) {\r\n      NetworkInfo netInfo = connectivityManager.getNetworkInfo(network);\r\n      NetworkCapabilities caps = connectivityManager.getNetworkCapabilities(network);\r\n\r\n      if(caps == null || netInfo == null){\r\n        continue;\r\n      }\r\n\r\n      if(!netInfo.isConnected()){\r\n        continue;\r\n      }\r\n\r\n      if(caps.hasTransport(transport)){\r\n        connectivityManager.bindProcessToNetwork(network);\r\n        clientBuilder.proxy(Proxy.NO_PROXY);\r\n        clientBuilder.socketFactory(network.getSocketFactory());\r\n        break;\r\n      }\r\n    }\r\n  }\r\n```\r\n","title":"How to force an android application to send network requests over cellular data even when connected to wifi?","body":"<p>I have an android application in java where frequently the phone will be connected to a wifi-network that is not connected to the internet. When I try to make network requests, such as to api endpoints, it tries to send the requests over this wifi network, which then fail because it is not connected to the internet. When this happens, I would like some sort of a fallback where the requests are instead routed over the device's cellular data. Currently I am using okhttp3 to make these network requests, but I am open to other solutions</p>\n<p>This is how I am currently attempting to alleviate the issue (where variable transport is equal to NetworkCapabilities.TRANSPORT_CELLULAR:</p>\n<pre><code>  private void connectToNetworkWithSpecifiedCapability(OkHttpClient.Builder clientBuilder, int transport) {\n    Network[] networks = connectivityManager.getAllNetworks();\n\n    for (Network network : networks) {\n      NetworkInfo netInfo = connectivityManager.getNetworkInfo(network);\n      NetworkCapabilities caps = connectivityManager.getNetworkCapabilities(network);\n\n      if(caps == null || netInfo == null){\n        continue;\n      }\n\n      if(!netInfo.isConnected()){\n        continue;\n      }\n\n      if(caps.hasTransport(transport)){\n        connectivityManager.bindProcessToNetwork(network);\n        clientBuilder.proxy(Proxy.NO_PROXY);\n        clientBuilder.socketFactory(network.getSocketFactory());\n        break;\n      }\n    }\n  }\n</code></pre>\n"},{"tags":["java","wsdl","apache-axis"],"answers":[{"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1328521120,"creation_date":1328521120,"answer_id":9158159,"question_id":9158068,"body_markdown":"It clearly says that those classes are missing in your classpath.\r\n\r\nAdd [activation.jar][1] and [javamail.jar][2] to your classpath.\r\n\r\n\r\n  [1]: http://www.jarfinder.com/index.php/java/info/javax.activation.DataHandler\r\n  [2]: http://www.jarfinder.com/index.php/java/info/javax.mail.internet.MimeMultipart","title":"Creating Java web service client","body":"<p>It clearly says that those classes are missing in your classpath.</p>\n\n<p>Add <a href=\"http://www.jarfinder.com/index.php/java/info/javax.activation.DataHandler\" rel=\"nofollow\">activation.jar</a> and <a href=\"http://www.jarfinder.com/index.php/java/info/javax.mail.internet.MimeMultipart\" rel=\"nofollow\">javamail.jar</a> to your classpath.</p>\n"}],"owner":{"account_id":1226507,"reputation":101,"user_id":1191941,"accept_rate":57,"display_name":"Tal Tchernihovski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11685,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":9158159,"answer_count":1,"score":1,"last_activity_date":1681765905,"creation_date":1328520711,"question_id":9158068,"body_markdown":"i&#39;m trying to study about how to access external web services.\r\nI have created a Web Service Client in eclipse for the following web service:\r\n\r\nhttp://www.webservicex.net/ws/WSDetails.aspx?WSID=9&amp;CATID=2\r\n\r\nAnd I tried to access this web service with the next code:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry{\r\n\t\t\tStockQuoteLocator locator = new StockQuoteLocator();\r\n\t\t\tlocator.setEndpointAddress(&quot;StockQuoteSoap&quot;, &quot;http://www.webservicex.net/stockquote.asmx&quot;);\r\n\t\t\tStockQuoteSoapStub stock = new StockQuoteSoapStub(locator);\r\n\t\t\tSystem.out.println(stock.getQuote(&quot;TEVA&quot;));\t\t\t\r\n\t\t} catch (Exception e){\r\n\t\t\te.printStackTrace();\r\n\t\t}\t\r\n\t}\r\n\r\nBut i&#39;m keep getting the error:\r\n\r\n    06/02/2012 11:29:51 org.apache.axis.utils.JavaUtils isAttachmentSupported\r\n    WARNING: Unable to find required classes (javax.activation.DataHandler and javax.mail.internet.MimeMultipart). Attachment support is disabled.\r\n    AxisFault\r\n     faultCode: {http://xml.apache.org/axis/}Server.NoEndpoint\r\n     faultSubcode: \r\n     faultString: No endpoint\r\n     faultActor: \r\n     faultNode: \r\n     faultDetail: \r\n    \t{http://xml.apache.org/axis/}exceptionName:org.apache.axis.NoEndPointException\r\n    \t{http://xml.apache.org/axis/}stackTrace:No endpoint\r\n\tat NET.webserviceX.www.StockQuoteSoapStub.getQuote(StockQuoteSoapStub.java:93)\r\n\tat Main.main(Main.java:17)\r\n\r\n\t{http://xml.apache.org/axis/}hostname:MICHALEDR-DTW7\r\n\r\n    No endpoint\r\n    \tat NET.webserviceX.www.StockQuoteSoapStub.getQuote(StockQuoteSoapStub.java:93)\r\n    \tat Main.main(Main.java:17)\r\n\r\nCan you please help me fix it?","title":"Creating Java web service client","body":"<p>i'm trying to study about how to access external web services.\nI have created a Web Service Client in eclipse for the following web service:</p>\n\n<p><a href=\"http://www.webservicex.net/ws/WSDetails.aspx?WSID=9&amp;CATID=2\" rel=\"nofollow\">http://www.webservicex.net/ws/WSDetails.aspx?WSID=9&amp;CATID=2</a></p>\n\n<p>And I tried to access this web service with the next code:</p>\n\n<pre><code>public static void main(String[] args) {\n    try{\n        StockQuoteLocator locator = new StockQuoteLocator();\n        locator.setEndpointAddress(\"StockQuoteSoap\", \"http://www.webservicex.net/stockquote.asmx\");\n        StockQuoteSoapStub stock = new StockQuoteSoapStub(locator);\n        System.out.println(stock.getQuote(\"TEVA\"));         \n    } catch (Exception e){\n        e.printStackTrace();\n    }   \n}\n</code></pre>\n\n<p>But i'm keep getting the error:</p>\n\n<pre><code>06/02/2012 11:29:51 org.apache.axis.utils.JavaUtils isAttachmentSupported\nWARNING: Unable to find required classes (javax.activation.DataHandler and javax.mail.internet.MimeMultipart). Attachment support is disabled.\nAxisFault\n faultCode: {http://xml.apache.org/axis/}Server.NoEndpoint\n faultSubcode: \n faultString: No endpoint\n faultActor: \n faultNode: \n faultDetail: \n    {http://xml.apache.org/axis/}exceptionName:org.apache.axis.NoEndPointException\n    {http://xml.apache.org/axis/}stackTrace:No endpoint\nat NET.webserviceX.www.StockQuoteSoapStub.getQuote(StockQuoteSoapStub.java:93)\nat Main.main(Main.java:17)\n\n{http://xml.apache.org/axis/}hostname:MICHALEDR-DTW7\n\nNo endpoint\n    at NET.webserviceX.www.StockQuoteSoapStub.getQuote(StockQuoteSoapStub.java:93)\n    at Main.main(Main.java:17)\n</code></pre>\n\n<p>Can you please help me fix it?</p>\n"},{"tags":["java","sql","exception"],"answers":[{"tags":[],"owner":{"account_id":13508,"reputation":30347,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1460698653,"creation_date":1243872788,"answer_id":935525,"question_id":935511,"body_markdown":"The exception states that your result is closed. You should examine your code and look for all location where you issue a `ResultSet.close()` call. Also look for `Statement.close()` and `Connection.close()`. For sure, one of them gets called before `rs.next()` is called.\r\n\r\n","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>The exception states that your result is closed. You should examine your code and look for all location where you issue a <code>ResultSet.close()</code> call. Also look for <code>Statement.close()</code> and <code>Connection.close()</code>. For sure, one of them gets called before <code>rs.next()</code> is called.</p>\n"},{"tags":[],"owner":{"account_id":18128,"reputation":15605,"user_id":41241,"accept_rate":79,"display_name":"Nathaniel Flath"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1511262207,"creation_date":1243872796,"answer_id":935526,"question_id":935511,"body_markdown":"You may have closed either the `Connection` or `Statement` that made the `ResultSet`, which would lead to the `ResultSet` being closed as well.","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>You may have closed either the <code>Connection</code> or <code>Statement</code> that made the <code>ResultSet</code>, which would lead to the <code>ResultSet</code> being closed as well.</p>\n"},{"tags":[],"owner":{"account_id":18859,"reputation":9033,"user_id":43665,"accept_rate":76,"display_name":"job"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1243873438,"creation_date":1243873438,"answer_id":935564,"question_id":935511,"body_markdown":"Also, you can only have one result set open from each statement. So if you are iterating through two result sets at the same time, make sure they are executed on different statements. Opening a second result set on one statement will implicitly close the first.\r\nhttp://java.sun.com/javase/6/docs/api/java/sql/Statement.html","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>Also, you can only have one result set open from each statement. So if you are iterating through two result sets at the same time, make sure they are executed on different statements. Opening a second result set on one statement will implicitly close the first.\n<a href=\"http://java.sun.com/javase/6/docs/api/java/sql/Statement.html\" rel=\"noreferrer\">http://java.sun.com/javase/6/docs/api/java/sql/Statement.html</a></p>\n"},{"tags":[],"owner":{"account_id":2466,"reputation":34852,"user_id":3434,"accept_rate":90,"display_name":"Apocalisp"},"down_vote_count":1,"up_vote_count":54,"is_accepted":true,"score":53,"last_activity_date":1243873452,"creation_date":1243873452,"answer_id":935565,"question_id":935511,"body_markdown":"Sounds like you executed another statement in the same connection before traversing the result set from the first statement. If you&#39;re nesting the processing of two result sets from the same database, you&#39;re doing something wrong. The combination of those sets should be done on the database side.","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>Sounds like you executed another statement in the same connection before traversing the result set from the first statement. If you're nesting the processing of two result sets from the same database, you're doing something wrong. The combination of those sets should be done on the database side.</p>\n"},{"tags":[],"owner":{"account_id":3120,"reputation":8745,"user_id":4433,"accept_rate":90,"display_name":"Slartibartfast"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1681765617,"creation_date":1243873454,"answer_id":935566,"question_id":935511,"body_markdown":"Proper JDBC call should look something like this is modern Java (Java 7+):\r\n\r\n    try (\r\n        Connection  conn = DriverManager.getConnection(myUrl,&quot;&quot;,&quot;&quot;); \r\n        Statement stmt = conn.createStatement(); \r\n        ResultSet  rs = stmt.executeQuery(myQuery); \r\n    ) {\r\n        while ( rs.next() ) { \r\n            // process results\r\n        } \r\n    } catch (SqlException e) {\r\n        System.err.println(&quot;Got an exception! &quot;); \r\n        System.err.println(e.getMessage()); \r\n    }\r\n\r\nAnd before the days of [try-with-resources][1] syntax, in Java 6 and earlier:\r\n\r\n    try { \r\n        Connection conn;\r\n        Statement stmt;\r\n        ResultSet rs; \r\n        \r\n        try {\r\n            conn = DriverManager.getConnection(myUrl,&quot;&quot;,&quot;&quot;); \r\n            stmt = conn.createStatement(); \r\n            rs = stmt.executeQuery(myQuery); \r\n            \r\n            while ( rs.next() ) { \r\n                // process results\r\n            } \r\n             \r\n        } catch (SqlException e) { \r\n            System.err.println(&quot;Got an exception! &quot;); \r\n            System.err.println(e.getMessage()); \r\n        } finally {\r\n            // you should release your resources here\r\n            if (rs != null) { \r\n                rs.close();\r\n            }\r\n\r\n            if (stmt != null) {\r\n                stmt.close();\r\n            }\r\n\r\n            if (conn != null) {\r\n                conn.close();\r\n            }\r\n        }\r\n    } catch (SqlException e) {\r\n        System.err.println(&quot;Got an exception! &quot;); \r\n        System.err.println(e.getMessage()); \r\n    }\r\n\r\nyou can close connection (or statement) only after you get result from result set. Safest way is to do it in `finally` block. However `close()` could also throe `SqlException`, hence the other `try-catch` block.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>Proper JDBC call should look something like this is modern Java (Java 7+):</p>\n<pre><code>try (\n    Connection  conn = DriverManager.getConnection(myUrl,&quot;&quot;,&quot;&quot;); \n    Statement stmt = conn.createStatement(); \n    ResultSet  rs = stmt.executeQuery(myQuery); \n) {\n    while ( rs.next() ) { \n        // process results\n    } \n} catch (SqlException e) {\n    System.err.println(&quot;Got an exception! &quot;); \n    System.err.println(e.getMessage()); \n}\n</code></pre>\n<p>And before the days of <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> syntax, in Java 6 and earlier:</p>\n<pre><code>try { \n    Connection conn;\n    Statement stmt;\n    ResultSet rs; \n    \n    try {\n        conn = DriverManager.getConnection(myUrl,&quot;&quot;,&quot;&quot;); \n        stmt = conn.createStatement(); \n        rs = stmt.executeQuery(myQuery); \n        \n        while ( rs.next() ) { \n            // process results\n        } \n         \n    } catch (SqlException e) { \n        System.err.println(&quot;Got an exception! &quot;); \n        System.err.println(e.getMessage()); \n    } finally {\n        // you should release your resources here\n        if (rs != null) { \n            rs.close();\n        }\n\n        if (stmt != null) {\n            stmt.close();\n        }\n\n        if (conn != null) {\n            conn.close();\n        }\n    }\n} catch (SqlException e) {\n    System.err.println(&quot;Got an exception! &quot;); \n    System.err.println(e.getMessage()); \n}\n</code></pre>\n<p>you can close connection (or statement) only after you get result from result set. Safest way is to do it in <code>finally</code> block. However <code>close()</code> could also throe <code>SqlException</code>, hence the other <code>try-catch</code> block.</p>\n"},{"tags":[],"owner":{"account_id":877403,"reputation":750,"user_id":103560,"display_name":"Sugar"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1432044984,"creation_date":1248704591,"answer_id":1188451,"question_id":935511,"body_markdown":"This could be caused by a number of reasons, including the driver you are using.\r\n\r\na) Some drivers do not allow nested statements.  Depending if your driver supports JDBC 3.0 you should check the third parameter when creating the Statement object.  For instance, I had the same problem with the JayBird driver to Firebird, but the code worked fine with the postgres driver.  Then I added the third parameter to the createStatement method call and set it to ResultSet.HOLD_CURSORS_OVER_COMMIT, and the code started working fine for Firebird too.  \r\n\r\n \r\n\r\n    static void testNestedRS() throws SQLException {\r\n\r\n\t\tConnection con =null;\r\n\t\ttry {\r\n\t\t\t// GET A CONNECTION\r\n\t\t\tcon = ConexionDesdeArchivo.obtenerConexion(&quot;examen-dest&quot;);\r\n\t\t\tString sql1 = &quot;select * from reportes_clasificacion&quot;;\r\n\r\n\t\t\tStatement st1 = con.createStatement(\r\n\t\t\t\t\tResultSet.TYPE_SCROLL_INSENSITIVE,\r\n\t\t\t\t\tResultSet.CONCUR_READ_ONLY, \r\n\t\t\t\t\tResultSet.HOLD_CURSORS_OVER_COMMIT);\r\n\t\t\tResultSet rs1 = null;\r\n\r\n\t\t\ttry {\r\n\t\t\t\t// EXECUTE THE FIRST QRY\r\n\t\t\t\trs1 = st1.executeQuery(sql1);\r\n\r\n\t\t\t\twhile (rs1.next()) {\r\n\t\t\t\t\t// THIS LINE WILL BE PRINTED JUST ONCE ON\r\n                                        // SOME DRIVERS UNLESS YOU CREATE THE STATEMENT \r\n\t\t\t\t\t// WITH 3 PARAMETERS USING \r\n                                        // ResultSet.HOLD_CURSORS_OVER_COMMIT\r\n\t\t\t\t\tSystem.out.println(&quot;ST1 Row #: &quot; + rs1.getRow());\r\n\r\n\t\t\t\t\tString sql2 = &quot;select * from reportes&quot;;\r\n\t\t\t\t\tStatement st2 = con.createStatement(\r\n\t\t\t\t\t\t\tResultSet.TYPE_SCROLL_INSENSITIVE,\r\n\t\t\t\t\t\t\tResultSet.CONCUR_READ_ONLY);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// EXECUTE THE SECOND QRY.  THIS CLOSES THE FIRST \r\n\t\t\t\t\t// ResultSet ON SOME DRIVERS WITHOUT USING \r\n                                        // ResultSet.HOLD_CURSORS_OVER_COMMIT\r\n\r\n\t\t\t\t\tst2.executeQuery(sql2);\r\n\r\n\t\t\t\t\tst2.close();\r\n\t\t\t\t}\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} finally {\r\n\t\t\t\trs1.close();\r\n\t\t\t\tst1.close();\r\n\t\t\t}\r\n\r\n\t\t} catch (SQLException e) {\r\n\r\n\t\t} finally {\r\n\t\t\tcon.close();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\nb) There could be a bug in your code. Remember that you cannot reuse the Statement object, once you re-execute a query on the same statement object, all the opened resultsets associated with the statement are closed.  Make sure you are not closing the statement.\r\n\r\n","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>This could be caused by a number of reasons, including the driver you are using.</p>\n\n<p>a) Some drivers do not allow nested statements.  Depending if your driver supports JDBC 3.0 you should check the third parameter when creating the Statement object.  For instance, I had the same problem with the JayBird driver to Firebird, but the code worked fine with the postgres driver.  Then I added the third parameter to the createStatement method call and set it to ResultSet.HOLD_CURSORS_OVER_COMMIT, and the code started working fine for Firebird too.  </p>\n\n<pre><code>static void testNestedRS() throws SQLException {\n\n    Connection con =null;\n    try {\n        // GET A CONNECTION\n        con = ConexionDesdeArchivo.obtenerConexion(\"examen-dest\");\n        String sql1 = \"select * from reportes_clasificacion\";\n\n        Statement st1 = con.createStatement(\n                ResultSet.TYPE_SCROLL_INSENSITIVE,\n                ResultSet.CONCUR_READ_ONLY, \n                ResultSet.HOLD_CURSORS_OVER_COMMIT);\n        ResultSet rs1 = null;\n\n        try {\n            // EXECUTE THE FIRST QRY\n            rs1 = st1.executeQuery(sql1);\n\n            while (rs1.next()) {\n                // THIS LINE WILL BE PRINTED JUST ONCE ON\n                                    // SOME DRIVERS UNLESS YOU CREATE THE STATEMENT \n                // WITH 3 PARAMETERS USING \n                                    // ResultSet.HOLD_CURSORS_OVER_COMMIT\n                System.out.println(\"ST1 Row #: \" + rs1.getRow());\n\n                String sql2 = \"select * from reportes\";\n                Statement st2 = con.createStatement(\n                        ResultSet.TYPE_SCROLL_INSENSITIVE,\n                        ResultSet.CONCUR_READ_ONLY);\n\n                // EXECUTE THE SECOND QRY.  THIS CLOSES THE FIRST \n                // ResultSet ON SOME DRIVERS WITHOUT USING \n                                    // ResultSet.HOLD_CURSORS_OVER_COMMIT\n\n                st2.executeQuery(sql2);\n\n                st2.close();\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } finally {\n            rs1.close();\n            st1.close();\n        }\n\n    } catch (SQLException e) {\n\n    } finally {\n        con.close();\n\n    }\n\n}\n</code></pre>\n\n<p>b) There could be a bug in your code. Remember that you cannot reuse the Statement object, once you re-execute a query on the same statement object, all the opened resultsets associated with the statement are closed.  Make sure you are not closing the statement.</p>\n"},{"tags":[],"owner":{"account_id":1549070,"reputation":21,"user_id":1441898,"display_name":"Praveen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511262235,"creation_date":1339063570,"answer_id":10929662,"question_id":935511,"body_markdown":"Check whether you have declared the method where this code is executing as `static`. If it is `static` there may be some other thread resetting the `ResultSet`.","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>Check whether you have declared the method where this code is executing as <code>static</code>. If it is <code>static</code> there may be some other thread resetting the <code>ResultSet</code>.</p>\n"},{"tags":[],"owner":{"account_id":2385455,"reputation":353,"user_id":2086526,"display_name":"Kulbhushan Chaskar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1390396247,"creation_date":1390396247,"answer_id":21283881,"question_id":935511,"body_markdown":"I got same error everything was correct only i was using same statement interface object to execute and update the database.\r\nAfter separating i.e. using different objects of statement interface for updating and executing query i resolved this error. i.e. do get rid from this do not use same statement object for both updating and executing the query.  ","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>I got same error everything was correct only i was using same statement interface object to execute and update the database.\nAfter separating i.e. using different objects of statement interface for updating and executing query i resolved this error. i.e. do get rid from this do not use same statement object for both updating and executing the query.  </p>\n"},{"tags":[],"owner":{"account_id":12834532,"reputation":437,"user_id":9284604,"display_name":"Renato Vasconcellos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521742560,"creation_date":1521741234,"answer_id":49435393,"question_id":935511,"body_markdown":"make sure you have closed all your statments and resultsets before running rs.next. **Finaly** guarantees this\r\n\r\n\r\n    public boolean flowExists( Integer idStatusPrevious, Integer idStatus, Connection connection ) {\r\n\t\tLogUtil.logRequestMethod();\r\n\r\n\t\tPreparedStatement ps = null;\r\n\t\tResultSet rs = null;\r\n\t\ttry {\r\n\t\t\tps = connection.prepareStatement( Constants.SCRIPT_SELECT_FIND_FLOW_STATUS_BY_STATUS );\r\n\t\t\tps.setInt( 1, idStatusPrevious );\r\n\t\t\tps.setInt( 2, idStatus );\r\n\r\n\t\t\trs = ps.executeQuery();\r\n\r\n\t\t\tLong count = 0L;\r\n\r\n\t\t\tif ( rs != null ) {\r\n\t\t\t\twhile ( rs.next() ) {\r\n\t\t\t\t\tcount = rs.getLong( 1 );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tLogUtil.logSuccessMethod();\r\n\r\n\t\t\treturn count &gt; 0L;\r\n\t\t} catch ( Exception e ) {\r\n\t\t\tString errorMsg = String\r\n\t\t\t\t.format( Constants.ERROR_FINALIZED_METHOD, ( e.getMessage() != null ? e.getMessage() : &quot;&quot; ) );\r\n\t\t\tLogUtil.logError( errorMsg, e );\r\n\r\n\t\t\tthrow new FatalException( errorMsg );\r\n\t\t} finally {\r\n\t\t\trs.close();\r\n\t\t\tps.close();\r\n\t\t}","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>make sure you have closed all your statments and resultsets before running rs.next. <strong>Finaly</strong> guarantees this</p>\n\n<pre><code>public boolean flowExists( Integer idStatusPrevious, Integer idStatus, Connection connection ) {\n    LogUtil.logRequestMethod();\n\n    PreparedStatement ps = null;\n    ResultSet rs = null;\n    try {\n        ps = connection.prepareStatement( Constants.SCRIPT_SELECT_FIND_FLOW_STATUS_BY_STATUS );\n        ps.setInt( 1, idStatusPrevious );\n        ps.setInt( 2, idStatus );\n\n        rs = ps.executeQuery();\n\n        Long count = 0L;\n\n        if ( rs != null ) {\n            while ( rs.next() ) {\n                count = rs.getLong( 1 );\n                break;\n            }\n        }\n\n        LogUtil.logSuccessMethod();\n\n        return count &gt; 0L;\n    } catch ( Exception e ) {\n        String errorMsg = String\n            .format( Constants.ERROR_FINALIZED_METHOD, ( e.getMessage() != null ? e.getMessage() : \"\" ) );\n        LogUtil.logError( errorMsg, e );\n\n        throw new FatalException( errorMsg );\n    } finally {\n        rs.close();\n        ps.close();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11963345,"reputation":144,"user_id":8753821,"display_name":"Michael Cenzoprano"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1556641451,"creation_date":1556641451,"answer_id":55925146,"question_id":935511,"body_markdown":"A `ResultSetClosedException` could be thrown for two reasons.\r\n\r\n1.) You have opened another connection to the database without closing all other connections.\r\n  \r\n2.) Your ResultSet may be returning no values. So when you try to access data from the ResultSet java will throw a `ResultSetClosedException`.","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>A <code>ResultSetClosedException</code> could be thrown for two reasons.</p>\n\n<p>1.) You have opened another connection to the database without closing all other connections.</p>\n\n<p>2.) Your ResultSet may be returning no values. So when you try to access data from the ResultSet java will throw a <code>ResultSetClosedException</code>.</p>\n"},{"tags":[],"owner":{"account_id":17705436,"reputation":731,"user_id":12854146,"display_name":"tremendous7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631824178,"creation_date":1631824178,"answer_id":69214797,"question_id":935511,"body_markdown":"It happens also when using a ResultSet without being in a @Transactional method.\r\n\r\n    ScrollableResults results = getScrollableResults(&quot;select e from MyEntity e&quot;);\r\n    while (results.next()) {\r\n       ...\r\n    }\r\n    results.close();\r\nif MyEntity has eager relationships with other entities. the second time results.next() is invoked the ResultSet is closed exception is raised.\r\n\r\nso if you use ScrollableResults on entities with eager relationships make sure your method is run transactionally.","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>It happens also when using a ResultSet without being in a @Transactional method.</p>\n<pre><code>ScrollableResults results = getScrollableResults(&quot;select e from MyEntity e&quot;);\nwhile (results.next()) {\n   ...\n}\nresults.close();\n</code></pre>\n<p>if MyEntity has eager relationships with other entities. the second time results.next() is invoked the ResultSet is closed exception is raised.</p>\n<p>so if you use ScrollableResults on entities with eager relationships make sure your method is run transactionally.</p>\n"},{"tags":[],"owner":{"account_id":15320184,"reputation":1,"user_id":11052906,"display_name":"ciro borrelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654584905,"creation_date":1654254054,"answer_id":72488635,"question_id":935511,"body_markdown":"&quot;**result set is closed**&quot; happened to me when using tag \\&lt;*collection*&gt; in MyBatis nested (one-to-many) xml \\&lt;select&gt; statement\r\n\r\nA Spring solution could be to have a (Java) Spring @Service layer, where class/methods calling MyBatis select-collection statements are annotated with\r\n\r\n    @Transactional(propagation = Propagation.REQUIRED)\r\n\r\nannotations being:\r\n\r\n    import org.springframework.transaction.annotation.Propagation; \r\n    import org.springframework.transaction.annotation.Transactional;\r\n\r\nthis solution does not require to set the following datasource properties (i.e., in JBoss EAP standalone*.xml):\r\n\r\n    &lt;xa-datasource-property name=&quot;downgradeHoldCursorsUnderXa&quot;&gt;**true**\\&lt;/xa-datasource-property&gt;\r\n    &lt;xa-datasource-property name=&quot;resultSetHoldability&quot;&gt;**1**&lt;/xa-datasource-property&gt;\r\n\r\n\r\n","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>&quot;<strong>result set is closed</strong>&quot; happened to me when using tag &lt;<em>collection</em>&gt; in MyBatis nested (one-to-many) xml &lt;select&gt; statement</p>\n<p>A Spring solution could be to have a (Java) Spring @Service layer, where class/methods calling MyBatis select-collection statements are annotated with</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRED)\n</code></pre>\n<p>annotations being:</p>\n<pre><code>import org.springframework.transaction.annotation.Propagation; \nimport org.springframework.transaction.annotation.Transactional;\n</code></pre>\n<p>this solution does not require to set the following datasource properties (i.e., in JBoss EAP standalone*.xml):</p>\n<pre><code>&lt;xa-datasource-property name=&quot;downgradeHoldCursorsUnderXa&quot;&gt;**true**\\&lt;/xa-datasource-property&gt;\n&lt;xa-datasource-property name=&quot;resultSetHoldability&quot;&gt;**1**&lt;/xa-datasource-property&gt;\n</code></pre>\n"}],"owner":{"account_id":26267,"reputation":18227,"user_id":68172,"accept_rate":98,"display_name":"Bobby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149595,"favorite_count":0,"down_vote_count":1,"up_vote_count":31,"accepted_answer_id":935565,"answer_count":12,"score":30,"last_activity_date":1681765617,"creation_date":1243872553,"question_id":935511,"body_markdown":"As soon as my code gets to my `while(rs.next())` loop it produces the `ResultSet` is closed exception. What causes this exception and how can I correct for it?\r\n\r\n**EDIT:** I notice in my code that I am nesting `while(rs.next())` loop with another `(rs2.next())`, both result sets coming from the same DB, is this an issue?","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>As soon as my code gets to my <code>while(rs.next())</code> loop it produces the <code>ResultSet</code> is closed exception. What causes this exception and how can I correct for it?</p>\n\n<p><strong>EDIT:</strong> I notice in my code that I am nesting <code>while(rs.next())</code> loop with another <code>(rs2.next())</code>, both result sets coming from the same DB, is this an issue?</p>\n"},{"tags":["java","unsatisfiedlinkerror","lpsolve"],"answers":[{"tags":[],"owner":{"account_id":1678505,"reputation":6920,"user_id":1543413,"accept_rate":50,"display_name":"Santhosh Gandhe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1436402074,"creation_date":1436402074,"answer_id":31306196,"question_id":30839952,"body_markdown":"\r\n\r\nTo run lpsolver, you need two things.\r\n\r\n 1. platform/os specific binary like listed below and you should keep them in the corresponding library path or export corresponding environment specific property\r\n      - libsolve55.dll for windows - either you should copy these files to system32 or set this path to LD_LIBRARY_PATH environment variable\r\n      - libsolve55.so for linux   - you should copy these files to /usr/local/lib or set this path to LD_LIBRARY_PATH environment variable\r\n      - libsolve55.dylib for mac - you should copy these files to /usr/local/lib or set this path to LD_LIBRARY_PATH environment variable DYLD_FALLBACK_LIBRARY_PATH\r\n\r\n 2. Language specific wrapper for invoking the lp_solver method present in the above binary file. For Java you need liblpsolve55j.jnilib and lpsolve5j.o  file. Either the location of these should be added to java.library.path  or add them to the above platform-specific environment variable.\r\n\r\nIn your case, it seems like you are all set in step 2, but you are missing the step 1.  For Step 1,  instead of environment variable, you can include the path in the java.library.path that you are alreay passing. I gave  you an example below.\r\n\r\n \r\n\r\n&gt;$ java -cp ./Demo.jar:../lib/lpsolve55j.jar -Djava.library.path=/Users/santhoshgandhe/mac_lpsolver/lp_solve_5.5/lpsolve55/bin/osx64:/Users/santhoshgandhe/mac_lpsolver/lp_solve_5.5_java/lib/mac Demo","title":"Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no lpsolve55j in java.library.path","body":"<p>To run lpsolver, you need two things.</p>\n\n<ol>\n<li><p>platform/os specific binary like listed below and you should keep them in the corresponding library path or export corresponding environment specific property</p>\n\n<ul>\n<li>libsolve55.dll for windows - either you should copy these files to system32 or set this path to LD_LIBRARY_PATH environment variable</li>\n<li>libsolve55.so for linux   - you should copy these files to /usr/local/lib or set this path to LD_LIBRARY_PATH environment variable</li>\n<li>libsolve55.dylib for mac - you should copy these files to /usr/local/lib or set this path to LD_LIBRARY_PATH environment variable DYLD_FALLBACK_LIBRARY_PATH</li>\n</ul></li>\n<li><p>Language specific wrapper for invoking the lp_solver method present in the above binary file. For Java you need liblpsolve55j.jnilib and lpsolve5j.o  file. Either the location of these should be added to java.library.path  or add them to the above platform-specific environment variable.</p></li>\n</ol>\n\n<p>In your case, it seems like you are all set in step 2, but you are missing the step 1.  For Step 1,  instead of environment variable, you can include the path in the java.library.path that you are alreay passing. I gave  you an example below.</p>\n\n<blockquote>\n  <p>$ java -cp ./Demo.jar:../lib/lpsolve55j.jar -Djava.library.path=/Users/santhoshgandhe/mac_lpsolver/lp_solve_5.5/lpsolve55/bin/osx64:/Users/santhoshgandhe/mac_lpsolver/lp_solve_5.5_java/lib/mac Demo</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15646400,"reputation":113,"user_id":11288465,"display_name":"vishal.kangralkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573042198,"creation_date":1573042198,"answer_id":58729873,"question_id":30839952,"body_markdown":"Setting the java.library path. using Eclipse\r\n\r\n\r\n1.Select your project in the Package Explorer area and press a right click on it.\r\n\r\n2.Select Build Path → Configure Build Path... option.\r\n\r\n3.In the appearing window, select the Libraries tab.\r\n\r\n4.Then, expand the JRE System library option and select the Native library location.\r\n\r\n5.Click on the Edit... button at the right panel.\r\n\r\n6.Locate the required library and then click OK.\r\n\r\n7.Close the window.\r\n","title":"Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no lpsolve55j in java.library.path","body":"<p>Setting the java.library path. using Eclipse</p>\n\n<p>1.Select your project in the Package Explorer area and press a right click on it.</p>\n\n<p>2.Select Build Path → Configure Build Path... option.</p>\n\n<p>3.In the appearing window, select the Libraries tab.</p>\n\n<p>4.Then, expand the JRE System library option and select the Native library location.</p>\n\n<p>5.Click on the Edit... button at the right panel.</p>\n\n<p>6.Locate the required library and then click OK.</p>\n\n<p>7.Close the window.</p>\n"},{"tags":[],"owner":{"account_id":1201066,"reputation":1519,"user_id":1171721,"display_name":"lfvv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681765456,"creation_date":1681765456,"answer_id":76039284,"question_id":30839952,"body_markdown":"I manually added the files liblpsolve55.so and liblpsolve55j.so (downloaded in &#39;https://svn.win.tue.nl/repos/prom/Packages/Alignment/Trunk/dll/&#39;) to all my Linux shown paths for java library (obtained with the command &#39;java -XshowSettings:properties&#39;). After that, my Java program worked (I also added the jar &#39;lpsolve-5.5.2.0.jar&#39; to the referenced libraries in my Java project)","title":"Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no lpsolve55j in java.library.path","body":"<p>I manually added the files liblpsolve55.so and liblpsolve55j.so (downloaded in 'https://svn.win.tue.nl/repos/prom/Packages/Alignment/Trunk/dll/') to all my Linux shown paths for java library (obtained with the command 'java -XshowSettings:properties'). After that, my Java program worked (I also added the jar 'lpsolve-5.5.2.0.jar' to the referenced libraries in my Java project)</p>\n"}],"owner":{"account_id":5686631,"reputation":315,"user_id":4495967,"accept_rate":29,"display_name":"peter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6772,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1681765456,"creation_date":1434354803,"question_id":30839952,"body_markdown":"in .bashrc is written:\r\n\r\n    PYTHONPATH=&quot;${PYTHONPATH}:$Home/local/lib/python2.7/site-packages/&quot;\r\n    export PYTHONPATH \r\n    \r\n    LD_LIBRARY_PATH=&quot;$Home/local/lib/&quot;\r\n    export LD_LIBRARY_PATH\r\n    \r\n    CLASSPATH=&quot;/home/stud/qe09kyvu/local/lib/liblpsolve55j.so&quot;\r\n    export CLASSPATH\r\n\r\nWhen i try to run this command:\r\n\r\n    java -cp .:../lib/lpsolve55j.jar -Djava.library.path=../liblpsolve55j.so Demo\r\n\r\ni get the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no lpsolve55j in java.library.path\r\n\r\nBut i don&#39;t understand this error, because in `..` there is `liblpsolve55j.so`\r\n\r\n\r\n\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no lpsolve55j in java.library.path","body":"<p>in .bashrc is written:</p>\n\n<pre><code>PYTHONPATH=\"${PYTHONPATH}:$Home/local/lib/python2.7/site-packages/\"\nexport PYTHONPATH \n\nLD_LIBRARY_PATH=\"$Home/local/lib/\"\nexport LD_LIBRARY_PATH\n\nCLASSPATH=\"/home/stud/qe09kyvu/local/lib/liblpsolve55j.so\"\nexport CLASSPATH\n</code></pre>\n\n<p>When i try to run this command:</p>\n\n<pre><code>java -cp .:../lib/lpsolve55j.jar -Djava.library.path=../liblpsolve55j.so Demo\n</code></pre>\n\n<p>i get the following error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.UnsatisfiedLinkError: no lpsolve55j in java.library.path\n</code></pre>\n\n<p>But i don't understand this error, because in <code>..</code> there is <code>liblpsolve55j.so</code></p>\n"},{"tags":["java","tomcat","jdbc","connection-pool"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1681759969,"post_id":76038541,"comment_id":134105973,"body_markdown":"Do you know what is the longest execution time of your queries? You can set the removeAbandonedTimeout to this time in seconds. Default is 60. Maybe too long?","body":"Do you know what is the longest execution time of your queries? You can set the removeAbandonedTimeout to this time in seconds. Default is 60. Maybe too long?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1681761433,"post_id":76038541,"comment_id":134106282,"body_markdown":"Without knowing anything about the type and volume of your Tomcat&#39;s workload, it seems like _quite a lot_ to have 200 connections and all of them busy. So, you may be able to manage the issue through pool settings, but tackling the root causes seems like a necessity (obvious comment, I know, and maybe you are already doing that).","body":"Without knowing anything about the type and volume of your Tomcat&#39;s workload, it seems like <i>quite a lot</i> to have 200 connections and all of them busy. So, you may be able to manage the issue through pool settings, but tackling the root causes seems like a necessity (obvious comment, I know, and maybe you are already doing that)."},{"owner":{"account_id":6737747,"reputation":3,"user_id":5191896,"display_name":"Dice"},"score":0,"creation_date":1681761941,"post_id":76038541,"comment_id":134106382,"body_markdown":"@Mar-Z Longest running query will be within 5 mins. But we would want to identify these bottlenecks. Your suggestion is to set removeAbandonTimeout=60 sec ?","body":"@Mar-Z Longest running query will be within 5 mins. But we would want to identify these bottlenecks. Your suggestion is to set removeAbandonTimeout=60 sec ?"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681763489,"post_id":76038541,"comment_id":134106629,"body_markdown":"No. To 5+1=6 sec","body":"No. To 5+1=6 sec"}],"owner":{"account_id":6737747,"reputation":3,"user_id":5191896,"display_name":"Dice"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681765363,"creation_date":1681758768,"question_id":76038541,"body_markdown":"We occasionaly hit `org.apache.tomcat.jdbc.pool.PoolExhaustedException` when threads are holding connections for too long or are going into a deadlock state.\r\n\r\nAny recomendation to tweak in Tomcat&#39;s DB Connection Configuration or Data source Factory Configuration ? \r\n\r\n&gt; 2023-04-16 20:46:20,104  ERROR Exception occurred 36032\r\n&gt; org.apache.tomcat.jdbc.pool.PoolExhaustedException: [https-jsse-nio]\r\n&gt; Timeout: Pool empty. Unable to fetch a connection in 30 seconds, none\r\n&gt; available [size:200; busy:200; idle:0; lastwait:30000]       .36033 at\r\n&gt; org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:738)\r\n\r\n\r\nWe tried changing `removeAbandoned = true`, `testOnBorrow = true`, `testOnReturn = true` but we still run into the problem. Anything further to check ?","title":"Changes needed in tomat configuration to avoid JDBC Connection pool exhaustion","body":"<p>We occasionaly hit <code>org.apache.tomcat.jdbc.pool.PoolExhaustedException</code> when threads are holding connections for too long or are going into a deadlock state.</p>\n<p>Any recomendation to tweak in Tomcat's DB Connection Configuration or Data source Factory Configuration ?</p>\n<blockquote>\n<p>2023-04-16 20:46:20,104  ERROR Exception occurred 36032\norg.apache.tomcat.jdbc.pool.PoolExhaustedException: [https-jsse-nio]\nTimeout: Pool empty. Unable to fetch a connection in 30 seconds, none\navailable [size:200; busy:200; idle:0; lastwait:30000]       .36033 at\norg.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:738)</p>\n</blockquote>\n<p>We tried changing <code>removeAbandoned = true</code>, <code>testOnBorrow = true</code>, <code>testOnReturn = true</code> but we still run into the problem. Anything further to check ?</p>\n"},{"tags":["java","spring-boot","networking","socketserver"],"answers":[{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681762746,"creation_date":1681761865,"answer_id":76038886,"question_id":76038614,"body_markdown":"The best way to send a GET request is to use a high-level API. With Spring Boot this is currently [WebClient][1], which replaced the older [RestTemplate][2] (see also tutorials such as: https://www.baeldung.com/spring-5-webclient or https://docs.spring.io/spring-boot/docs/3.0.x/reference/html/io.html#io.rest-client.webclient).\r\n\r\nTo call a server you need a URL such as `&lt;scheme&gt;:&lt;scheme-specific-part&gt;`. As you say you want a GET call I assume you mean a HTTP GET call, which makes the &lt;scheme&gt; either `&lt;scheme&gt;` the protocol `http` or `https` and the `&lt;scheme-specific-part&gt;` takes the form `//&lt;server-address&gt;:&lt;port&gt;`. So in a simple scenario where you run the server socket on your localhost you could use something like `http://localhost:&lt;port&gt;/&lt;path&gt;`, where `&lt;port&gt;` is the port the ServerSocket listens to and `&lt;path&gt;` is the resource you want to GET.\r\n\r\nOf course, a ServerSocket is very low-level. It&#39;s much more convenient to use either a higher-level API such as a [HttpServlet][3] or a high-level API such as [RestController][4], which means to just provide another Spring Boot application for the server part.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/6.0.8/javadoc-api/org/springframework/web/reactive/function/client/WebClient.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\r\n  [3]: https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/http/httpservlet\r\n  [4]: https://spring.io/guides/tutorials/rest/","title":"Send GET request from Spring Boot to Java ServerSocket","body":"<p>The best way to send a GET request is to use a high-level API. With Spring Boot this is currently <a href=\"https://docs.spring.io/spring-framework/docs/6.0.8/javadoc-api/org/springframework/web/reactive/function/client/WebClient.html\" rel=\"nofollow noreferrer\">WebClient</a>, which replaced the older <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"nofollow noreferrer\">RestTemplate</a> (see also tutorials such as: <a href=\"https://www.baeldung.com/spring-5-webclient\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-5-webclient</a> or <a href=\"https://docs.spring.io/spring-boot/docs/3.0.x/reference/html/io.html#io.rest-client.webclient\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/3.0.x/reference/html/io.html#io.rest-client.webclient</a>).</p>\n<p>To call a server you need a URL such as <code>&lt;scheme&gt;:&lt;scheme-specific-part&gt;</code>. As you say you want a GET call I assume you mean a HTTP GET call, which makes the  either <code>&lt;scheme&gt;</code> the protocol <code>http</code> or <code>https</code> and the <code>&lt;scheme-specific-part&gt;</code> takes the form <code>//&lt;server-address&gt;:&lt;port&gt;</code>. So in a simple scenario where you run the server socket on your localhost you could use something like <code>http://localhost:&lt;port&gt;/&lt;path&gt;</code>, where <code>&lt;port&gt;</code> is the port the ServerSocket listens to and <code>&lt;path&gt;</code> is the resource you want to GET.</p>\n<p>Of course, a ServerSocket is very low-level. It's much more convenient to use either a higher-level API such as a <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/http/httpservlet\" rel=\"nofollow noreferrer\">HttpServlet</a> or a high-level API such as <a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"nofollow noreferrer\">RestController</a>, which means to just provide another Spring Boot application for the server part.</p>\n"}],"owner":{"display_name":"user20879521"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681762886,"creation_date":1681759388,"question_id":76038614,"body_markdown":"I need to communicate between a Spring Boot application and a Java ServeSocket. I have I created the Java ServerSocket and the Spring Boot.\r\n\r\nJava ServerSocket has a `BufferedReader` as an input and `OutputStream` as a response.\r\n\r\nI have just 2 questions:\r\n\r\n1. How to send a Get Request from Spring Boot to a server?\r\n2. How to send a Get Request from Spring Boot to Java ServerSocket, if the first method can be applied in this case?\r\n","title":"Send GET request from Spring Boot to Java ServerSocket","body":"<p>I need to communicate between a Spring Boot application and a Java ServeSocket. I have I created the Java ServerSocket and the Spring Boot.</p>\n<p>Java ServerSocket has a <code>BufferedReader</code> as an input and <code>OutputStream</code> as a response.</p>\n<p>I have just 2 questions:</p>\n<ol>\n<li>How to send a Get Request from Spring Boot to a server?</li>\n<li>How to send a Get Request from Spring Boot to Java ServerSocket, if the first method can be applied in this case?</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681762818,"creation_date":1681762818,"answer_id":76038999,"question_id":76037903,"body_markdown":"One thing you can do would be to dynamically create the bean you want based on the properties you have. This will allow you to add your own logic for creating the appropriate bean. \r\n\r\n    @SpringBootTest(classes = BeansOrder.BeansOrderConfig.class, properties = {\r\n    \t\t&quot;my_custom_property_C: true&quot;\r\n    })\r\n    public class BeansOrder {\r\n    \t@Configuration\r\n    \tstatic class BeansOrderConfig {\r\n    \t\t@Autowired\r\n    \t\tprivate Environment env;\r\n    \r\n    \t\t@Bean\r\n    \t\tpublic SomeCommonInterface bean() {\r\n    \t\t\tif (env.containsProperty(&quot;my_custom_property_B&quot;)) {\r\n    \t\t\t\treturn new ImplB();\r\n    \t\t\t}\r\n    \t\t\tif (env.containsProperty(&quot;my_custom_property_C&quot;)) {\r\n    \t\t\t\treturn new ImplC();\r\n    \t\t\t}\r\n    \t\t\treturn new ImplA();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Autowired\r\n    \tSomeCommonInterface bean;\r\n    \r\n    \t@Test\r\n    \tvoid tst() {\r\n    \t\tSystem.out.println(bean.getClass().getSimpleName());\r\n    \t}\r\n    }\r\n\r\nIf it grows larger, you can extract it into a separate class that will return the appropriate implementation based on some parameters, basically the `factory` design pattern","title":"Select order of bean injection for multiple candidates","body":"<p>One thing you can do would be to dynamically create the bean you want based on the properties you have. This will allow you to add your own logic for creating the appropriate bean.</p>\n<pre><code>@SpringBootTest(classes = BeansOrder.BeansOrderConfig.class, properties = {\n        &quot;my_custom_property_C: true&quot;\n})\npublic class BeansOrder {\n    @Configuration\n    static class BeansOrderConfig {\n        @Autowired\n        private Environment env;\n\n        @Bean\n        public SomeCommonInterface bean() {\n            if (env.containsProperty(&quot;my_custom_property_B&quot;)) {\n                return new ImplB();\n            }\n            if (env.containsProperty(&quot;my_custom_property_C&quot;)) {\n                return new ImplC();\n            }\n            return new ImplA();\n        }\n    }\n\n    @Autowired\n    SomeCommonInterface bean;\n\n    @Test\n    void tst() {\n        System.out.println(bean.getClass().getSimpleName());\n    }\n}\n</code></pre>\n<p>If it grows larger, you can extract it into a separate class that will return the appropriate implementation based on some parameters, basically the <code>factory</code> design pattern</p>\n"}],"owner":{"account_id":5773,"reputation":3320,"user_id":9458,"accept_rate":67,"display_name":"F&#225;bio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76038999,"answer_count":1,"score":0,"last_activity_date":1681762818,"creation_date":1681753541,"question_id":76037903,"body_markdown":"In my program I have 3 beans that all implements the same interface and apply some configurations depending on some environment variables present where the application is deployed.\r\n\r\nBean `A` is always available and beans `B` and `C` are only built if a `@ConditionalOnProperty` is present.\r\n\r\nIn some places I need to inject `B`, in others `C`, and use `A` as a fallback if either is not present:\r\n\r\n```\r\n@Autowired\r\npublic MyService(SomeCommonInterface somebean)\r\n```\r\n\r\nHow do I accomplish this?","title":"Select order of bean injection for multiple candidates","body":"<p>In my program I have 3 beans that all implements the same interface and apply some configurations depending on some environment variables present where the application is deployed.</p>\n<p>Bean <code>A</code> is always available and beans <code>B</code> and <code>C</code> are only built if a <code>@ConditionalOnProperty</code> is present.</p>\n<p>In some places I need to inject <code>B</code>, in others <code>C</code>, and use <code>A</code> as a fallback if either is not present:</p>\n<pre><code>@Autowired\npublic MyService(SomeCommonInterface somebean)\n</code></pre>\n<p>How do I accomplish this?</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1681738127,"post_id":76035673,"comment_id":134100506,"body_markdown":"Kafka record headers are typically used for this. But no, there&#39;s nothing builtin to simplify this","body":"Kafka record headers are typically used for this. But no, there&#39;s nothing builtin to simplify this"},{"owner":{"account_id":3209227,"reputation":471,"user_id":2709542,"display_name":"Mathew"},"score":0,"creation_date":1681740681,"post_id":76035673,"comment_id":134101242,"body_markdown":"You may build a deep copy fo FinTechData before update, and compare the deep copy with the updated FinTechData at the end of synchroData.","body":"You may build a deep copy fo FinTechData before update, and compare the deep copy with the updated FinTechData at the end of synchroData."}],"answers":[{"tags":[],"owner":{"account_id":3223009,"reputation":31,"user_id":2719955,"display_name":"eiljoe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681762656,"creation_date":1681760595,"answer_id":76038741,"question_id":76035673,"body_markdown":"You can wrap your Context class with ThreadLocal, e.g. in your Consumer class add:\r\n```\r\npublic static final ThreadLocal&lt;Context&gt; perThreadContext = new ThreadLocal();\r\n```\r\n\r\nThen in `synchroData()` add `perThreadContext.set(new Context());` before calling  `finService.update(finTechData);` \r\nand use `Consumer.perThreadContext.get();` in each one of the updaters when you want to add a new entry to the context.\r\n\r\nThe ThreadLocal wrapper will create a separate instance of Context for each consumer thread. This way you&#39;ll have the list of objects updated by this specific invocation of the method.\r\n\r\nSee: https://www.baeldung.com/java-threadlocal for additional read bout ThreadLocal.","title":"Java common variable across the objects for a request","body":"<p>You can wrap your Context class with ThreadLocal, e.g. in your Consumer class add:</p>\n<pre><code>public static final ThreadLocal&lt;Context&gt; perThreadContext = new ThreadLocal();\n</code></pre>\n<p>Then in <code>synchroData()</code> add <code>perThreadContext.set(new Context());</code> before calling  <code>finService.update(finTechData);</code>\nand use <code>Consumer.perThreadContext.get();</code> in each one of the updaters when you want to add a new entry to the context.</p>\n<p>The ThreadLocal wrapper will create a separate instance of Context for each consumer thread. This way you'll have the list of objects updated by this specific invocation of the method.</p>\n<p>See: <a href=\"https://www.baeldung.com/java-threadlocal\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-threadlocal</a> for additional read bout ThreadLocal.</p>\n"}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681762656,"creation_date":1681737918,"question_id":76035673,"body_markdown":"I using Kafka to get a message and update its corresponding data if already present in the DB. There lot of complex objects involved for the synchronization.\r\n\r\nI wanted to print at the end of synchronization, all the objects that has got updated. Flow starts like below,\r\n   \r\n    public class Consumer {\r\n      @KafkaListener(topics = &quot;${kafka.topics.test}&quot;)\r\n      public void synchroData(FinTechData finTechData) {\r\n        finService.update(finTechData);\r\n      }\r\n    }\r\n\r\n    public class FinServiceImpl {\r\n       public void updateMetrics(FinTechData finTechData) {\r\n         if (finTechData != null) {\r\n           //update finTechData data ....\r\n           revolverService.updateRevolver(finTechData.getRevolver());\r\n         }\r\n       } \r\n    }\r\n\r\n    public class RevolverServiceImpl {\r\n       public void updateRevolver(Revolver revolver) {\r\n         if (revolver != null) {\r\n           //update revolver data ....\r\n           utilizationService.updateUtilization(revolver.getUtilization());\r\n           exposureService.updateexposure(revolver.getExposure()); \r\n         } \r\n       } \r\n    }\r\n\r\n  ....\r\n\r\nIt goes on for 8 to 10 objects. At the end I wanted to know what are the objects that got updated.\r\nCurrently I have a class like below with List of String as property and everytime when any object gets updated, \r\n\r\npublic class Context {\r\n  List&lt;String&gt; objectsUpdated = new ArrayList&lt;&gt;();\r\n}\r\n\r\nI add a message to it. But I need to pass the object to all the methods down the line. Is there any efficient way of doing it ?\r\n\r\nI looking for below,\r\n\r\n    FinTech Data updated\r\n    Revolver Data updated\r\n    Exposure Data updated\r\n    ...","title":"Java common variable across the objects for a request","body":"<p>I using Kafka to get a message and update its corresponding data if already present in the DB. There lot of complex objects involved for the synchronization.</p>\n<p>I wanted to print at the end of synchronization, all the objects that has got updated. Flow starts like below,</p>\n<pre><code>public class Consumer {\n  @KafkaListener(topics = &quot;${kafka.topics.test}&quot;)\n  public void synchroData(FinTechData finTechData) {\n    finService.update(finTechData);\n  }\n}\n\npublic class FinServiceImpl {\n   public void updateMetrics(FinTechData finTechData) {\n     if (finTechData != null) {\n       //update finTechData data ....\n       revolverService.updateRevolver(finTechData.getRevolver());\n     }\n   } \n}\n\npublic class RevolverServiceImpl {\n   public void updateRevolver(Revolver revolver) {\n     if (revolver != null) {\n       //update revolver data ....\n       utilizationService.updateUtilization(revolver.getUtilization());\n       exposureService.updateexposure(revolver.getExposure()); \n     } \n   } \n}\n</code></pre>\n<p>....</p>\n<p>It goes on for 8 to 10 objects. At the end I wanted to know what are the objects that got updated.\nCurrently I have a class like below with List of String as property and everytime when any object gets updated,</p>\n<p>public class Context {\nList objectsUpdated = new ArrayList&lt;&gt;();\n}</p>\n<p>I add a message to it. But I need to pass the object to all the methods down the line. Is there any efficient way of doing it ?</p>\n<p>I looking for below,</p>\n<pre><code>FinTech Data updated\nRevolver Data updated\nExposure Data updated\n...\n</code></pre>\n"},{"tags":["java","android","xml","android-linearlayout","divider"],"comments":[{"owner":{"account_id":21842900,"reputation":799,"user_id":16136190,"display_name":"The Amateur Coder"},"score":0,"creation_date":1681840130,"post_id":76038977,"comment_id":134120645,"body_markdown":"The same confusion with `dividerVertical` and `verticalDivider`.","body":"The same confusion with <code>dividerVertical</code> and <code>verticalDivider</code>."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1681867912,"post_id":76038977,"comment_id":134125079,"body_markdown":"You want to use `dividerHorizontal` there. `horizontalDivider` is specifically for menus, and may not be defined in a given theme. `dividerHorizontal` is for generic use – e.g., as a `View` separator, a text rule, etc. – and it should be defined in any complete theme. Same for the corresponding vertical ones.","body":"You want to use <code>dividerHorizontal</code> there. <code>horizontalDivider</code> is specifically for menus, and may not be defined in a given theme. <code>dividerHorizontal</code> is for generic use – e.g., as a <code>View</code> separator, a text rule, etc. – and it should be defined in any complete theme. Same for the corresponding vertical ones."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1681892852,"post_id":76038977,"comment_id":134128680,"body_markdown":"I should&#39;ve also mentioned that that&#39;s something you can modify in your theme, if you should need/want to; e.g., `&lt;item name=&quot;android:dividerHorizontal&quot;&gt;@drawable/your_much_cooler_divider&lt;/item&gt;`. For reference, the default in a Material theme is [this platform drawable](https://android.googlesource.com/platform/frameworks/base/+/master/core/res/res/drawable/list_divider_material.xml). If you do change that, be aware that the Jetpack libraries have their own `dividerHorizontal`, so be sure to set `name=&quot;android:dividerHorizontal&quot;` in the theme, not `name=&quot;dividerHorizontal&quot;`. Just FYI. Cheers!","body":"I should&#39;ve also mentioned that that&#39;s something you can modify in your theme, if you should need/want to; e.g., <code>&lt;item name=&quot;android:dividerHorizontal&quot;&gt;@drawable&#47;your_much_cooler_&zwnj;&#8203;divider&lt;&#47;item&gt;</code>. For reference, the default in a Material theme is <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/res/res/drawable/list_divider_material.xml\" rel=\"nofollow noreferrer\">this platform drawable</a>. If you do change that, be aware that the Jetpack libraries have their own <code>dividerHorizontal</code>, so be sure to set <code>name=&quot;android:dividerHorizontal&quot;</code> in the theme, not <code>name=&quot;dividerHorizontal&quot;</code>. Just FYI. Cheers!"},{"owner":{"account_id":21842900,"reputation":799,"user_id":16136190,"display_name":"The Amateur Coder"},"score":0,"creation_date":1682037235,"post_id":76038977,"comment_id":134156742,"body_markdown":"@MikeM., could you please convert it and post it as an answer?","body":"@MikeM., could you please convert it and post it as an answer?"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1682715925,"post_id":76038977,"comment_id":134264986,"body_markdown":"Oh, jeez, sorry! Not sure how I missed your comment last week; I must&#39;ve cleared my inbox without looking. Anyhoo, apologies again if this is a further inconvenience, but I&#39;m not posting new answers here atm. Please feel free to finish up this question however you&#39;d like. Thank you, though. I really appreciate the offer. Cheers!","body":"Oh, jeez, sorry! Not sure how I missed your comment last week; I must&#39;ve cleared my inbox without looking. Anyhoo, apologies again if this is a further inconvenience, but I&#39;m not posting new answers here atm. Please feel free to finish up this question however you&#39;d like. Thank you, though. I really appreciate the offer. Cheers!"},{"owner":{"account_id":21842900,"reputation":799,"user_id":16136190,"display_name":"The Amateur Coder"},"score":0,"creation_date":1683002608,"post_id":76038977,"comment_id":134296339,"body_markdown":"Not a problem at all. Thanks for the answer. Will try to post an answer some time.","body":"Not a problem at all. Thanks for the answer. Will try to post an answer some time."}],"owner":{"account_id":21842900,"reputation":799,"user_id":16136190,"display_name":"The Amateur Coder"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681762614,"creation_date":1681762614,"question_id":76038977,"body_markdown":"Are `horizontalDivider` and `dividerHorizontal` same?\r\n\r\nAndroid Developers:\r\n\r\n&gt; [horizontalDivider](https://developer.android.com/reference/android/R.attr#horizontalDivider):\r\n&gt;\r\n&gt; Default horizontal divider between rows of menu items.\r\n\r\n&gt; [dividerHorizontal](https://developer.android.com/reference/android/R.attr#dividerHorizontal):\r\n&gt;\r\n&gt; Drawable to use for generic horizontal dividers.\r\n\r\nI&#39;m going to use it in a `LinearLayout`:\r\n```xml\r\n&lt;LinearLayout\r\n    ...\r\n    android:divider=&quot;?android:(dividerHorizontal or horizontalDivider)&quot;\r\n    ...&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nWhich is better? Is there any difference in the design or how they&#39;re used? Or how they&#39;re referenced in (Java) code?","title":"Are &#39;dividerHorizontal&#39; and &#39;horizontalDivider&#39; same? (Android)","body":"<p>Are <code>horizontalDivider</code> and <code>dividerHorizontal</code> same?</p>\n<p>Android Developers:</p>\n<blockquote>\n<p><a href=\"https://developer.android.com/reference/android/R.attr#horizontalDivider\" rel=\"nofollow noreferrer\">horizontalDivider</a>:</p>\n<p>Default horizontal divider between rows of menu items.</p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://developer.android.com/reference/android/R.attr#dividerHorizontal\" rel=\"nofollow noreferrer\">dividerHorizontal</a>:</p>\n<p>Drawable to use for generic horizontal dividers.</p>\n</blockquote>\n<p>I'm going to use it in a <code>LinearLayout</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;LinearLayout\n    ...\n    android:divider=&quot;?android:(dividerHorizontal or horizontalDivider)&quot;\n    ...&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Which is better? Is there any difference in the design or how they're used? Or how they're referenced in (Java) code?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1681537905,"post_id":76020587,"comment_id":134075830,"body_markdown":"Same reason for needing a constructor in non-abstract classes: Because you can perform initialization in the constructor (note instance initializer blocks are simply folded into the constructor at compile time; and note if you don&#39;t define a constructor explicitly, then a default one is provided implicitly), and because perhaps the abstract class needs to be given arguments when instantiated.","body":"Same reason for needing a constructor in non-abstract classes: Because you can perform initialization in the constructor (note instance initializer blocks are simply folded into the constructor at compile time; and note if you don&#39;t define a constructor explicitly, then a default one is provided implicitly), and because perhaps the abstract class needs to be given arguments when instantiated."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1681540612,"post_id":76020587,"comment_id":134076023,"body_markdown":"BTW that is not only in Java 8, I *believe* that was always the case for every version; BTW2 description of the [tag:core] tag: &quot;*Use this tag to refer to processor cores or questions related to threads and parallel processing.*&quot;","body":"BTW that is not only in Java 8, I <i>believe</i> that was always the case for every version; BTW2 description of the <a href=\"https://stackoverflow.com/questions/tagged/core\">core</a> tag: &quot;<i>Use this tag to refer to processor cores or questions related to threads and parallel processing.</i>&quot;"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1681549523,"post_id":76020587,"comment_id":134076926,"body_markdown":"Also see [Constructor in Java Abstract Class](https://www.geeksforgeeks.org/constructor-in-java-abstract-class/) on GeeksforGeeks. Did you remember to search thoroughly before posting your question?","body":"Also see <a href=\"https://www.geeksforgeeks.org/constructor-in-java-abstract-class/\" rel=\"nofollow noreferrer\">Constructor in Java Abstract Class</a> on GeeksforGeeks. Did you remember to search thoroughly before posting your question?"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681542936,"creation_date":1681542936,"answer_id":76020858,"question_id":76020587,"body_markdown":"Why wouldn&#39;t you need a constructor?\r\n\r\nYou still might want to do\r\n\r\n```\r\nabstract class Foo {\r\n  int a;\r\n  Foo(int a) {\r\n    this.a = a;\r\n  }\r\n}\r\n```\r\n\r\nYou still need constructors for all the same reasons as other classes do.","title":"In jav8, We are supporting Constructor in abstract class. why we need Constructor in abstract class, if we are having static and non-static blocks","body":"<p>Why wouldn't you need a constructor?</p>\n<p>You still might want to do</p>\n<pre><code>abstract class Foo {\n  int a;\n  Foo(int a) {\n    this.a = a;\n  }\n}\n</code></pre>\n<p>You still need constructors for all the same reasons as other classes do.</p>\n"}],"owner":{"account_id":28310641,"reputation":1,"user_id":21647944,"display_name":"SavinayPatil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1681549419,"answer_count":1,"score":-1,"last_activity_date":1681762370,"creation_date":1681537779,"question_id":76020587,"body_markdown":"`In jav8, We are supporting Constructor in abstract class. why we need Constructor in abstract class, if we are having static and non-static block support\r\n\r\n\r\n\r\nCode :-\r\n```\r\nabstract class a{\r\n    static\r\n        {\r\n            System.out.println(&quot;Inside Abstarct class static&quot;);\r\n        }\r\n    {\r\n        System.out.println(&quot;Inside Abstarct class&quot;);\r\n    }\r\n    a(){\r\n        System.out.println(&quot;Inside Abstarct class Constructor&quot;);\r\n    }\r\n    abstract void play();\r\n}\r\nclass b extends a{\r\n    public void play(){\r\n        System.out.println(&quot;Inside b class&quot;);\r\n    }\r\n}\r\n```\r\n\r\nInstantiation :- \r\n b b1=new b();\r\n b1.play();\r\n\r\noutput:-\r\nInside Abstarct class static\r\nInside Abstarct class\r\nInside Abstarct class Constructor\r\nInside b class \r\n\r\n\r\n**Detail Explanation of why we need Constructor in abstract class?**`","title":"In jav8, We are supporting Constructor in abstract class. why we need Constructor in abstract class, if we are having static and non-static blocks","body":"<p>`In jav8, We are supporting Constructor in abstract class. why we need Constructor in abstract class, if we are having static and non-static block support</p>\n<p>Code :-</p>\n<pre><code>abstract class a{\n    static\n        {\n            System.out.println(&quot;Inside Abstarct class static&quot;);\n        }\n    {\n        System.out.println(&quot;Inside Abstarct class&quot;);\n    }\n    a(){\n        System.out.println(&quot;Inside Abstarct class Constructor&quot;);\n    }\n    abstract void play();\n}\nclass b extends a{\n    public void play(){\n        System.out.println(&quot;Inside b class&quot;);\n    }\n}\n</code></pre>\n<p>Instantiation :-\nb b1=new b();\nb1.play();</p>\n<p>output:-\nInside Abstarct class static\nInside Abstarct class\nInside Abstarct class Constructor\nInside b class</p>\n<p><strong>Detail Explanation of why we need Constructor in abstract class?</strong>`</p>\n"},{"tags":["java","networking"],"comments":[{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1681764146,"post_id":76038901,"comment_id":134106742,"body_markdown":"you need to change localhost to the name of the server (String value) or the ip using [InetAddress](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/Socket.html#%3Cinit%3E(java.net.InetAddress,int) also make sure to allow that port 3333 you using on your firewall of your operating system","body":"you need to change localhost to the name of the server (String value) or the ip using [InetAddress](<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/Socket.html#%3Cinit%3E(java.net.InetAddress,int)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/jav&zwnj;&#8203;a.base/java/net/&hellip;</a> also make sure to allow that port 3333 you using on your firewall of your operating system"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681774576,"post_id":76038901,"comment_id":134108206,"body_markdown":"You&#39;ll also want to take a look at [The try-with-resources Statement](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html)","body":"You&#39;ll also want to take a look at <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">The try-with-resources Statement</a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681775389,"post_id":76038901,"comment_id":134108311,"body_markdown":"In general terms, I was able to get your code to work - I would assume that the `Server` isn&#39;t running when you run the client","body":"In general terms, I was able to get your code to work - I would assume that the <code>Server</code> isn&#39;t running when you run the client"}],"owner":{"account_id":28333059,"reputation":1,"user_id":21667036,"display_name":"Network"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681761984,"creation_date":1681761937,"question_id":76038901,"body_markdown":"I am trying to learn Java network programming to send files and strings. However, I only know how to do this on the localhost, what would I need to change to allow communication with other devices on the same network or another network? Here&#39;s my code. \r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.DataInputStream;\r\n    import java.io.DataOutputStream;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.*;\r\n    import java.nio.file.Files;\r\n    import java.util.Arrays;\r\n    public class Client {\r\n        private int fileSize;\r\n        private String FileName;\r\n        public void getFileInformation (File newFile) {\r\n            fileSize = (int) newFile.length();\r\n            FileName = newFile.getName();\r\n        }\r\n        public static void main (String [] args) {\r\n            try {\r\n                Client newClient = new Client ();\r\n                Socket newSocket = new Socket(&quot;localhost&quot;,3333);\r\n                DataInputStream newDataInput = new DataInputStream(newSocket.getInputStream());\r\n                DataOutputStream newDataOutput = new DataOutputStream(newSocket.getOutputStream());  \r\n                BufferedReader newReader = new BufferedReader(new InputStreamReader(System.in));\r\n                System.out.println(&quot;Enter path of file: &quot;);\r\n                File newFile = new File(newReader.readLine());\r\n                newClient.getFileInformation(newFile);\r\n                newDataOutput.writeInt(newClient.fileSize);\r\n                newDataOutput.writeUTF(newClient.FileName);\r\n                byte [] fileData = Files.readAllBytes(newFile.toPath());\r\n                System.out.println(Arrays.toString(fileData));\r\n                newDataOutput.write(fileData);\r\n                newSocket.close();\r\n                newDataInput.close();\r\n                newDataOutput.flush();\r\n                newDataOutput.close();\r\n                newReader.close();\r\n            } catch (IOException ex) {\r\n                System.out.println(&quot;Error: &quot; + ex);\r\n            }\r\n        }\r\n    }\r\n    \r\n        import java.io.BufferedReader;\r\n        import java.io.DataInputStream;\r\n        import java.io.DataOutputStream;\r\n        import java.io.File;\r\n        import java.io.FileOutputStream;\r\n        import java.io.IOException;\r\n        import java.io.InputStreamReader;\r\n        import java.net.InetAddress;\r\n        import java.net.ServerSocket;\r\n        import java.net.Socket;\r\n        import java.net.UnknownHostException;\r\n        import java.util.Arrays;\r\n        import java.util.logging.Level;\r\n        import java.util.logging.Logger;\r\n        public class Server {\r\n            private int fileSize;\r\n            private String FileName;\r\n            public static void main (String [] args) {\r\n                try {\r\n                    Server newServer = new Server();\r\n                    ServerSocket newServerSocket = new ServerSocket(3333);  \r\n                    Socket newSocket = newServerSocket.accept();  \r\n                    DataInputStream newDataInput = new DataInputStream(newSocket.getInputStream());\r\n                    DataOutputStream newDataOutput = new DataOutputStream(newSocket.getOutputStream());  \r\n                    BufferedReader newReader = new BufferedReader(new InputStreamReader(System.in));\r\n                    newServer.fileSize = newDataInput.readInt();\r\n                    System.out.println(newServer.fileSize);\r\n                    newServer.FileName = newDataInput.readUTF();\r\n                    System.out.println(newServer.FileName);\r\n                    byte [] fileData = new byte [newServer.fileSize];\r\n                    newDataInput.readFully(fileData);\r\n                    FileOutputStream newOutputStream = new FileOutputStream(newServer.FileName);\r\n                    System.out.println(Arrays.toString(fileData));\r\n                    newOutputStream.write(fileData);\r\n                    newOutputStream.close();\r\n                    newSocket.close();\r\n                    newDataInput.close();\r\n                    newDataOutput.flush();\r\n                    newDataOutput.close();\r\n                    newReader.close();\r\n                } catch (IOException ex) {\r\n                    System.out.println(&quot;Error: &quot; + ex);\r\n                }\r\n            }\r\n        }\r\n\r\nI&#39;ve tried changing localhost to what Java prints when I use InetAddress.getLocalHost().getHostAddress(); but that hasn&#39;t worked. The client keeps printing &quot;Error: java.net.ConnectionException: Connect refused&quot;\r\n","title":"How to set up socket to connect to other devices","body":"<p>I am trying to learn Java network programming to send files and strings. However, I only know how to do this on the localhost, what would I need to change to allow communication with other devices on the same network or another network? Here's my code.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.*;\nimport java.nio.file.Files;\nimport java.util.Arrays;\npublic class Client {\n    private int fileSize;\n    private String FileName;\n    public void getFileInformation (File newFile) {\n        fileSize = (int) newFile.length();\n        FileName = newFile.getName();\n    }\n    public static void main (String [] args) {\n        try {\n            Client newClient = new Client ();\n            Socket newSocket = new Socket(&quot;localhost&quot;,3333);\n            DataInputStream newDataInput = new DataInputStream(newSocket.getInputStream());\n            DataOutputStream newDataOutput = new DataOutputStream(newSocket.getOutputStream());  \n            BufferedReader newReader = new BufferedReader(new InputStreamReader(System.in));\n            System.out.println(&quot;Enter path of file: &quot;);\n            File newFile = new File(newReader.readLine());\n            newClient.getFileInformation(newFile);\n            newDataOutput.writeInt(newClient.fileSize);\n            newDataOutput.writeUTF(newClient.FileName);\n            byte [] fileData = Files.readAllBytes(newFile.toPath());\n            System.out.println(Arrays.toString(fileData));\n            newDataOutput.write(fileData);\n            newSocket.close();\n            newDataInput.close();\n            newDataOutput.flush();\n            newDataOutput.close();\n            newReader.close();\n        } catch (IOException ex) {\n            System.out.println(&quot;Error: &quot; + ex);\n        }\n    }\n}\n\n    import java.io.BufferedReader;\n    import java.io.DataInputStream;\n    import java.io.DataOutputStream;\n    import java.io.File;\n    import java.io.FileOutputStream;\n    import java.io.IOException;\n    import java.io.InputStreamReader;\n    import java.net.InetAddress;\n    import java.net.ServerSocket;\n    import java.net.Socket;\n    import java.net.UnknownHostException;\n    import java.util.Arrays;\n    import java.util.logging.Level;\n    import java.util.logging.Logger;\n    public class Server {\n        private int fileSize;\n        private String FileName;\n        public static void main (String [] args) {\n            try {\n                Server newServer = new Server();\n                ServerSocket newServerSocket = new ServerSocket(3333);  \n                Socket newSocket = newServerSocket.accept();  \n                DataInputStream newDataInput = new DataInputStream(newSocket.getInputStream());\n                DataOutputStream newDataOutput = new DataOutputStream(newSocket.getOutputStream());  \n                BufferedReader newReader = new BufferedReader(new InputStreamReader(System.in));\n                newServer.fileSize = newDataInput.readInt();\n                System.out.println(newServer.fileSize);\n                newServer.FileName = newDataInput.readUTF();\n                System.out.println(newServer.FileName);\n                byte [] fileData = new byte [newServer.fileSize];\n                newDataInput.readFully(fileData);\n                FileOutputStream newOutputStream = new FileOutputStream(newServer.FileName);\n                System.out.println(Arrays.toString(fileData));\n                newOutputStream.write(fileData);\n                newOutputStream.close();\n                newSocket.close();\n                newDataInput.close();\n                newDataOutput.flush();\n                newDataOutput.close();\n                newReader.close();\n            } catch (IOException ex) {\n                System.out.println(&quot;Error: &quot; + ex);\n            }\n        }\n    }\n</code></pre>\n<p>I've tried changing localhost to what Java prints when I use InetAddress.getLocalHost().getHostAddress(); but that hasn't worked. The client keeps printing &quot;Error: java.net.ConnectionException: Connect refused&quot;</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1681763545,"post_id":76038867,"comment_id":134106638,"body_markdown":"can you update the question and show the `MyService` class?  is it annotated with `@Service` or declared as a bean?","body":"can you update the question and show the <code>MyService</code> class?  is it annotated with <code>@Service</code> or declared as a bean?"},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1681783403,"post_id":76038867,"comment_id":134109192,"body_markdown":"Also, what does your project file (Maven POM, Gradle file, whatever) look like?","body":"Also, what does your project file (Maven POM, Gradle file, whatever) look like?"}],"owner":{"account_id":9945981,"reputation":379,"user_id":7360695,"accept_rate":59,"display_name":"Battalgazi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681761670,"creation_date":1681761670,"question_id":76038867,"body_markdown":"I have a MapStruct mapper where I inject a service with a setter in the following way. The project compiles and works fine, until I try to run some project tests (not test related to this mapping), when an error occurs. I wonder if I have to configure anything extra for this case:\r\n\r\nMy mapper:\r\n\r\n```\r\npublic abstract class MyMapper {\r\n\r\nprivate MyService myService;\r\n\r\n@Autowired\r\n    public final void setMyService(MyService myService) {\r\n        this.myService = myService;\r\n    }\r\n    \r\n...\r\n\r\n}\r\n```\r\n\r\nThe error message:\r\n&gt;Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;myMapperImpl&#39;: Unsatisfied dependency expressed through method &#39;setBmdMappingService&#39; parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;***.MyService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n","title":"Project tests fail when injecting a service in a MapStruct mapper","body":"<p>I have a MapStruct mapper where I inject a service with a setter in the following way. The project compiles and works fine, until I try to run some project tests (not test related to this mapping), when an error occurs. I wonder if I have to configure anything extra for this case:</p>\n<p>My mapper:</p>\n<pre><code>public abstract class MyMapper {\n\nprivate MyService myService;\n\n@Autowired\n    public final void setMyService(MyService myService) {\n        this.myService = myService;\n    }\n    \n...\n\n}\n</code></pre>\n<p>The error message:</p>\n<blockquote>\n<p>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'myMapperImpl': Unsatisfied dependency expressed through method 'setBmdMappingService' parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type '***.MyService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}</p>\n</blockquote>\n"},{"tags":["java","javax.imageio","twelvemonkeys"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":1,"creation_date":1681813483,"post_id":76038749,"comment_id":134113524,"body_markdown":"Personally, I&#39;d vote for option 4, the developer of the TIFF plugin  (me, that is) screwed up and it&#39;s a bug... Option 3 is of course also possible, but the differences between TIFF and BigTIFF is mainly the container structure, not the image data. If you file an issue at https://github.com/haraldk/TwelveMonkeys/issues, I&#39;ll try to look into it.","body":"Personally, I&#39;d vote for option 4, the developer of the TIFF plugin  (me, that is) screwed up and it&#39;s a bug... Option 3 is of course also possible, but the differences between TIFF and BigTIFF is mainly the container structure, not the image data. If you file an issue at <a href=\"https://github.com/haraldk/TwelveMonkeys/issues\" rel=\"nofollow noreferrer\">github.com/haraldk/TwelveMonkeys/issues</a>, I&#39;ll try to look into it."}],"owner":{"account_id":28084344,"reputation":1,"user_id":21454933,"display_name":"RichardF"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681761596,"creation_date":1681760639,"question_id":76038749,"body_markdown":"I want to read a specific GeoTIFF file, which is a BigTIFF containing a set of uncompressed 128x128 tiles of float32 data. My code snippet requests a small rectangle. It works with ordinary TIFFs, small test RGBA BigTIFFs, and a small test float32 BigTIFF. However, with the file in question, it returns an exception.\r\nIf the requested rectangle is inside the first tile, the error is java.lang.ArrayIndexOutOfBoundsException with the message &#39;Coordinate out of bounds!&#39;. Outside the first tile, the exception is java.awt.image.RasterFormatException (shown below).\r\nI&#39;m using version 3.9.4 of the twelvemonkeys ImageIO code. I&#39;ve also tried 3.8.1 with the same result.\r\n\r\nCode fragment:\r\n```\r\n    try {\r\n      ImageInputStream input = ImageIO.createImageInputStream(file);\r\n      ImageReader reader = ImageIO.getImageReaders(input).next();\r\n      System.out.println( &quot;Using reader: &quot; + reader );\r\n\r\n      reader.setInput(input);\r\n      int width  = reader.getWidth(reader.getMinIndex());\r\n      int height = reader.getHeight(reader.getMinIndex());\r\n      System.out.println( &quot;width, height: &quot; + width + &quot;, &quot; + height );\r\n\r\n      ImageReadParam param = reader.getDefaultReadParam();\r\n      Rectangle rect = new Rectangle(256, 256, 2, 2);\r\n      param.setSourceRegion(rect);\r\n      System.out.println( &quot;sourceRegion:    &quot; + param.getSourceRegion().toString() );\r\n      BufferedImage image = reader.read(0, param);\r\n    }\r\n    catch (Exception e) {\r\n      System.out.println( &quot;Exception:&quot; );\r\n      e.printStackTrace();\r\n    }\r\n```\r\n\r\nOutput:   \r\n\r\n        Using reader: com.twelvemonkeys.imageio.plugins.tiff.TIFFImageReader@76ccd017   \r\n        width, height: 58000, 66500   \r\n        sourceRegion:    java.awt.Rectangle[x=256,y=256,width=2,height=2]   \r\n        Exception:   \r\n        java.awt.image.RasterFormatException: (parentX + width) is outside raster   \r\n        at java.desktop/java.awt.image.Raster.createChild(Raster.java:1526)   \r\n        at com.twelvemonkeys.imageio.plugins.tiff.TIFFImageReader.clipRowToRect(TIFFImageReader.java:1909)   \r\n        at com.twelvemonkeys.imageio.plugins.tiff.TIFFImageReader.read(TIFFImageReader.java:1094)   \r\n        at smallest_test.main(smallest_test.java:58)   \r\n\r\n\r\nThe BigTIFF file is available from this page:\r\nhttps://www.data.gov.uk/dataset/8311f42d-bddd-4cd4-98a3-e543de5be4cb/lidar-composite-dtm-2019-10m\r\nBeware: the download is 3.6Gb; the file is 15.5Gb.\r\n\r\nI can see three possibilities:\r\n1. My code is wrong.\r\n2. The file is broken.\r\n3. The file uses part of the Big TIFF specification which HaraldK and Twelvemonkeys haven&#39;t implemented yet.\r\n\r\nRegarding possibility 2, I have bodged some code that can read data points from the file, which indicates that it&#39;s not completely mangled. The data (terrain height) which I extracted matches my expectations and other datasets.\r\n\r\nAs for what&#39;s actually happening, the exception print seems to be alleging that 256+2 is larger than 58000, which seems unlikely.\r\n\r\nI&#39;d like your thoughts about what&#39;s wrong, and why.\r\n","title":"Reading a tiled float32 BigTIFF using Twelvemonkeys java ImageIO","body":"<p>I want to read a specific GeoTIFF file, which is a BigTIFF containing a set of uncompressed 128x128 tiles of float32 data. My code snippet requests a small rectangle. It works with ordinary TIFFs, small test RGBA BigTIFFs, and a small test float32 BigTIFF. However, with the file in question, it returns an exception.\nIf the requested rectangle is inside the first tile, the error is java.lang.ArrayIndexOutOfBoundsException with the message 'Coordinate out of bounds!'. Outside the first tile, the exception is java.awt.image.RasterFormatException (shown below).\nI'm using version 3.9.4 of the twelvemonkeys ImageIO code. I've also tried 3.8.1 with the same result.</p>\n<p>Code fragment:</p>\n<pre><code>    try {\n      ImageInputStream input = ImageIO.createImageInputStream(file);\n      ImageReader reader = ImageIO.getImageReaders(input).next();\n      System.out.println( &quot;Using reader: &quot; + reader );\n\n      reader.setInput(input);\n      int width  = reader.getWidth(reader.getMinIndex());\n      int height = reader.getHeight(reader.getMinIndex());\n      System.out.println( &quot;width, height: &quot; + width + &quot;, &quot; + height );\n\n      ImageReadParam param = reader.getDefaultReadParam();\n      Rectangle rect = new Rectangle(256, 256, 2, 2);\n      param.setSourceRegion(rect);\n      System.out.println( &quot;sourceRegion:    &quot; + param.getSourceRegion().toString() );\n      BufferedImage image = reader.read(0, param);\n    }\n    catch (Exception e) {\n      System.out.println( &quot;Exception:&quot; );\n      e.printStackTrace();\n    }\n</code></pre>\n<p>Output:</p>\n<pre><code>    Using reader: com.twelvemonkeys.imageio.plugins.tiff.TIFFImageReader@76ccd017   \n    width, height: 58000, 66500   \n    sourceRegion:    java.awt.Rectangle[x=256,y=256,width=2,height=2]   \n    Exception:   \n    java.awt.image.RasterFormatException: (parentX + width) is outside raster   \n    at java.desktop/java.awt.image.Raster.createChild(Raster.java:1526)   \n    at com.twelvemonkeys.imageio.plugins.tiff.TIFFImageReader.clipRowToRect(TIFFImageReader.java:1909)   \n    at com.twelvemonkeys.imageio.plugins.tiff.TIFFImageReader.read(TIFFImageReader.java:1094)   \n    at smallest_test.main(smallest_test.java:58)   \n</code></pre>\n<p>The BigTIFF file is available from this page:\n<a href=\"https://www.data.gov.uk/dataset/8311f42d-bddd-4cd4-98a3-e543de5be4cb/lidar-composite-dtm-2019-10m\" rel=\"nofollow noreferrer\">https://www.data.gov.uk/dataset/8311f42d-bddd-4cd4-98a3-e543de5be4cb/lidar-composite-dtm-2019-10m</a>\nBeware: the download is 3.6Gb; the file is 15.5Gb.</p>\n<p>I can see three possibilities:</p>\n<ol>\n<li>My code is wrong.</li>\n<li>The file is broken.</li>\n<li>The file uses part of the Big TIFF specification which HaraldK and Twelvemonkeys haven't implemented yet.</li>\n</ol>\n<p>Regarding possibility 2, I have bodged some code that can read data points from the file, which indicates that it's not completely mangled. The data (terrain height) which I extracted matches my expectations and other datasets.</p>\n<p>As for what's actually happening, the exception print seems to be alleging that 256+2 is larger than 58000, which seems unlikely.</p>\n<p>I'd like your thoughts about what's wrong, and why.</p>\n"},{"tags":["java","generics","arraylist","methods"],"comments":[{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":0,"creation_date":1514494708,"post_id":48014264,"comment_id":82997479,"body_markdown":"avoid `value = value` should be `this.value = value`","body":"avoid <code>value = value</code> should be <code>this.value = value</code>"},{"owner":{"account_id":429736,"reputation":5878,"user_id":812787,"accept_rate":25,"display_name":"tsolakp"},"score":0,"creation_date":1514494718,"post_id":48014264,"comment_id":82997485,"body_markdown":"Lets say your ValueObject&lt;?&gt; had a `String` `value` but you call `set` with `Integer`, how would compiler be able to prevent it?","body":"Lets say your ValueObject&lt;?&gt; had a <code>String</code> <code>value</code> but you call <code>set</code> with <code>Integer</code>, how would compiler be able to prevent it?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1514494720,"post_id":48014264,"comment_id":82997486,"body_markdown":"What&#39;s `ValueNames`? And what&#39;s `valueNames`? And why are you passing one instance to another? And why do you think you can call `setValue()` with any `T`?","body":"What&#39;s <code>ValueNames</code>? And what&#39;s <code>valueNames</code>? And why are you passing one instance to another? And why do you think you can call <code>setValue()</code> with any <code>T</code>?"},{"owner":{"account_id":12482065,"reputation":7327,"user_id":9086466,"display_name":"Ctznkane525"},"score":0,"creation_date":1514494805,"post_id":48014264,"comment_id":82997520,"body_markdown":"This might help?  https://stackoverflow.com/questions/16171637/java-reflection-how-to-get-field-value-from-an-object-not-knowing-its-class","body":"This might help?  <a href=\"https://stackoverflow.com/questions/16171637/java-reflection-how-to-get-field-value-from-an-object-not-knowing-its-class\" title=\"java reflection how to get field value from an object not knowing its class\">stackoverflow.com/questions/16171637/&hellip;</a>"},{"owner":{"account_id":6943226,"reputation":231,"user_id":5328757,"accept_rate":86,"display_name":"Olgidos"},"score":0,"creation_date":1514494816,"post_id":48014264,"comment_id":82997524,"body_markdown":"ok corrected my question","body":"ok corrected my question"}],"answers":[{"tags":[],"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1514524214,"creation_date":1514523846,"answer_id":48017638,"question_id":48014264,"body_markdown":"You don&#39;t provide a full example, so not sure which will help you.\r\n\r\nVersion 1 if you can use `List&lt;ValueObject&lt;T&gt;&gt;` because all `ValueObjects` hold the same type.\r\n\r\n    static class Lookup&lt;T2&gt; {\r\n\r\n        List&lt;ValueObject&lt;T2&gt;&gt; valueObjects = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; valueNames = new ArrayList&lt;&gt;();\r\n\r\n        ValueObject&lt;T2&gt; get(String name) {\r\n            return valueObjects.get(valueNames.indexOf(name));\r\n        }\r\n\r\n        public void set(String name, T2 value) {\r\n            get(name).setValue(value);\r\n        }\r\n    }\r\n\r\nVersion 2 if `valueObjects` really contains `ValueObject` with different contained classes:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    static class Lookup2 {\r\n\r\n        List&lt;ValueObject&lt;?&gt;&gt; valueObjects = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; valueNames = new ArrayList&lt;&gt;();\r\n\r\n        /* unsafe get */\r\n        ValueObject&lt;?&gt; get(String name) {\r\n            return valueObjects.get(valueNames.indexOf(name));\r\n        }\r\n\r\n\r\n        /* set using unsafe get */\r\n        public &lt;T&gt; void setUnsafe(String name, T value) {\r\n            /* might add handling of runtime exceptions */\r\n            ((ValueObject&lt;T&gt;)get(name)).setValue(value);\r\n        }\r\n\r\n        /* safe get when client knows class */\r\n        &lt;T&gt; ValueObject&lt;T&gt; get(String name, Class&lt;T&gt; clazz) {\r\n            /* might do instanceOf check here to throw custom exception */\r\n            return (ValueObject&lt;T&gt;) valueObjects.get(valueNames.indexOf(name));\r\n        }\r\n\r\n        /* set using safe get */\r\n        public &lt;T&gt; void set(String name, T value) {\r\n            /* might add handling of runtime exceptions */\r\n            get(name, (Class&lt;T&gt;) value.getClass()).setValue(value);\r\n        }\r\n    }","title":"Java set generic Value of an Object in an ArrayList","body":"<p>You don't provide a full example, so not sure which will help you.</p>\n\n<p>Version 1 if you can use <code>List&lt;ValueObject&lt;T&gt;&gt;</code> because all <code>ValueObjects</code> hold the same type.</p>\n\n<pre><code>static class Lookup&lt;T2&gt; {\n\n    List&lt;ValueObject&lt;T2&gt;&gt; valueObjects = new ArrayList&lt;&gt;();\n    List&lt;String&gt; valueNames = new ArrayList&lt;&gt;();\n\n    ValueObject&lt;T2&gt; get(String name) {\n        return valueObjects.get(valueNames.indexOf(name));\n    }\n\n    public void set(String name, T2 value) {\n        get(name).setValue(value);\n    }\n}\n</code></pre>\n\n<p>Version 2 if <code>valueObjects</code> really contains <code>ValueObject</code> with different contained classes:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\nstatic class Lookup2 {\n\n    List&lt;ValueObject&lt;?&gt;&gt; valueObjects = new ArrayList&lt;&gt;();\n    List&lt;String&gt; valueNames = new ArrayList&lt;&gt;();\n\n    /* unsafe get */\n    ValueObject&lt;?&gt; get(String name) {\n        return valueObjects.get(valueNames.indexOf(name));\n    }\n\n\n    /* set using unsafe get */\n    public &lt;T&gt; void setUnsafe(String name, T value) {\n        /* might add handling of runtime exceptions */\n        ((ValueObject&lt;T&gt;)get(name)).setValue(value);\n    }\n\n    /* safe get when client knows class */\n    &lt;T&gt; ValueObject&lt;T&gt; get(String name, Class&lt;T&gt; clazz) {\n        /* might do instanceOf check here to throw custom exception */\n        return (ValueObject&lt;T&gt;) valueObjects.get(valueNames.indexOf(name));\n    }\n\n    /* set using safe get */\n    public &lt;T&gt; void set(String name, T value) {\n        /* might add handling of runtime exceptions */\n        get(name, (Class&lt;T&gt;) value.getClass()).setValue(value);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6943226,"reputation":231,"user_id":5328757,"accept_rate":86,"display_name":"Olgidos"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48017638,"answer_count":1,"score":0,"last_activity_date":1681761249,"creation_date":1514494525,"question_id":48014264,"body_markdown":"I have a class\r\n\r\n     public class ValueObject&lt;T&gt; {\r\n            private T value;\r\n    \r\n            public void setValue(T value){\r\n              this.value = value\r\n            }\r\n        }\r\n\r\nIn another class I have an Array of the Objects from the first Class\r\n\r\n    ArrayList&lt;ValueObject&lt;?&gt;&gt; valueObjects = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; valueNames = new ArrayList&lt;&gt;();\r\n\r\nnow I want to write a Method which looks in a second array for a name and assigns a new value to an instance of the first object in that arrayList\r\n\r\n    ValueObject&lt;?&gt; get(String name) {\r\n            return valueObjects.get(valueNames.indexOf(name));\r\n    }\r\n\r\n    public &lt;T&gt; void set(String name, T value) {\r\n         get(name).setValue(value);\r\n    }\r\n\r\nBut I don&#39;t get this to work. Do I need to write something with ? in the set() Method?\r\n\r\nThanks","title":"Java set generic Value of an Object in an ArrayList","body":"<p>I have a class</p>\n<pre><code> public class ValueObject&lt;T&gt; {\n        private T value;\n\n        public void setValue(T value){\n          this.value = value\n        }\n    }\n</code></pre>\n<p>In another class I have an Array of the Objects from the first Class</p>\n<pre><code>ArrayList&lt;ValueObject&lt;?&gt;&gt; valueObjects = new ArrayList&lt;&gt;();\nArrayList&lt;String&gt; valueNames = new ArrayList&lt;&gt;();\n</code></pre>\n<p>now I want to write a Method which looks in a second array for a name and assigns a new value to an instance of the first object in that arrayList</p>\n<pre><code>ValueObject&lt;?&gt; get(String name) {\n        return valueObjects.get(valueNames.indexOf(name));\n}\n\npublic &lt;T&gt; void set(String name, T value) {\n     get(name).setValue(value);\n}\n</code></pre>\n<p>But I don't get this to work. Do I need to write something with ? in the set() Method?</p>\n<p>Thanks</p>\n"},{"tags":["java","itext7"],"comments":[{"owner":{"account_id":13734,"reputation":1450,"user_id":27760,"display_name":"Glenner003"},"score":0,"creation_date":1682585804,"post_id":76038791,"comment_id":134240273,"body_markdown":"Can you share the code?","body":"Can you share the code?"}],"owner":{"account_id":3291358,"reputation":129,"user_id":2909467,"accept_rate":40,"display_name":"cviniciusm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681761031,"creation_date":1681761031,"question_id":76038791,"body_markdown":"I was able to set the orientation of the last page to landscape programatically (Java) but the table inside it is not oriented according. How to solve this issue, please?","title":"iText 7 - How to set table orientation/rotation to landscape?","body":"<p>I was able to set the orientation of the last page to landscape programatically (Java) but the table inside it is not oriented according. How to solve this issue, please?</p>\n"},{"tags":["java","android","firebase","image","save"],"comments":[{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1681798915,"post_id":76038754,"comment_id":134110399,"body_markdown":"Please do not post images of code, copy your code into the question with block code format:   https://stackoverflow.com/help/how-to-ask","body":"Please do not post images of code, copy your code into the question with block code format:   <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1681807506,"post_id":76038754,"comment_id":134112176,"body_markdown":"Please edit your question and add the code as text and **not** as an image.","body":"Please edit your question and add the code as text and <b>not</b> as an image."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1681807538,"post_id":76038754,"comment_id":134112186,"body_markdown":"If you understand Kotlin, this [resource](https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46) will help. Here is the corresponding [repo](https://github.com/alexmamo/CloudStorageJetpackCompose).","body":"If you understand Kotlin, this <a href=\"https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/CloudStorageJetpackCompose\" rel=\"nofollow noreferrer\">repo</a>."}],"owner":{"account_id":28332989,"reputation":1,"user_id":21666980,"display_name":"alldayalldi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681760694,"creation_date":1681760694,"question_id":76038754,"body_markdown":"I am using Android Studio and I am having issues saving an image to a screen. I have created the ability to upload an image to the screen using the phone&#39;s gallery but every time I go to a different activity or close the app, the image is gone. The image gets uploaded to firebase storage but does not remain on the screen when going to a different screen. I need a way for the app to retrieve the image and show it again. I was thinking of also trying sharedpreferences but I did not know if that would work. Here is the code:\r\n\r\n[My code](https://i.stack.imgur.com/dci7i.png)\r\n[My Code](https://i.stack.imgur.com/bwRWA.png)\r\n\r\n\r\nI was thinking of trying sharedpreferences.","title":"How can I prevent an image I set as a profile picture inside of android studio from leaving once I go to a different screen or close the app?","body":"<p>I am using Android Studio and I am having issues saving an image to a screen. I have created the ability to upload an image to the screen using the phone's gallery but every time I go to a different activity or close the app, the image is gone. The image gets uploaded to firebase storage but does not remain on the screen when going to a different screen. I need a way for the app to retrieve the image and show it again. I was thinking of also trying sharedpreferences but I did not know if that would work. Here is the code:</p>\n<p><a href=\"https://i.stack.imgur.com/dci7i.png\" rel=\"nofollow noreferrer\">My code</a>\n<a href=\"https://i.stack.imgur.com/bwRWA.png\" rel=\"nofollow noreferrer\">My Code</a></p>\n<p>I was thinking of trying sharedpreferences.</p>\n"},{"tags":["java","azure-functions","azure-queues"],"answers":[{"tags":[],"owner":{"account_id":6821370,"reputation":63,"user_id":5248421,"display_name":"Gabriel Ruoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681759556,"creation_date":1681759556,"answer_id":76038627,"question_id":75752203,"body_markdown":"I have not found a solution to this problem, however a workaround is to call existsWithResponse using a timeout before attempting to interact with the file. This will throw an exception once the timeout is reached allowing the program to fail gracefully.\r\n\r\nThis issue seems to occur at random. It does not depend on the file that is being accessed, and only occurs when the function app is deployed to Azure (does not occur when running locally).\r\n\r\nThis is continuing to cause many issues for us and we will need to find an alternative to Azure File Shares.\r\n```\r\npublic File downloadFileData(String fileName, File pstFile) throws Exception\r\n\t{\r\n\t\t// handle unset client name\r\n\t\tif(clientName == null)\r\n\t\t{\r\n\t\t\tthrow new NullPointerException(&quot;Client name is unset&quot;);\r\n\t\t}\r\n\t\tInputStream fileInputStream = null;\r\n\t\ttry\r\n\t\t{\r\n\t\t\t// connect to the client&#39;s file share\r\n\t\t\tFileShare clientFs = new FileShare(this.clientName);\r\n\t\t\tShareFileClient fileClient = clientFs.getClientFileClient(fileName);\r\n\t\t\t// verify that fileClient is accessible\r\n\t\t\tContext context = new Context(&quot;&quot;,&quot;&quot;);\r\n\t\t\tfileClient.existsWithResponse(Duration.ofSeconds((long)FileShare.shareFileClientTimeout), context);\r\n\t\t\t// download the file\r\n\t\t\tfileInputStream = fileClient.openInputStream();\r\n\t\t\tSubmissionUtils.copyInputStreamToFile(fileInputStream, pstFile);\r\n\t\t\treturn pstFile;\r\n\t\t}\r\n\t\tcatch (Exception e)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Exception: &quot; + e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new Exception(&quot;Could not download file &quot;+fileName+&quot;: &quot;+e.getMessage());\r\n\t\t}\r\n\t\tfinally\r\n\t\t{\r\n\t\t\t// close stream\r\n\t\t\tif(fileInputStream!=null)\r\n\t\t\t{\r\n\t\t\t\tfileInputStream.close();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```","title":"Azure Queue Triggered Function Hangs Indefinitely on Call to ShareFileClient","body":"<p>I have not found a solution to this problem, however a workaround is to call existsWithResponse using a timeout before attempting to interact with the file. This will throw an exception once the timeout is reached allowing the program to fail gracefully.</p>\n<p>This issue seems to occur at random. It does not depend on the file that is being accessed, and only occurs when the function app is deployed to Azure (does not occur when running locally).</p>\n<p>This is continuing to cause many issues for us and we will need to find an alternative to Azure File Shares.</p>\n<pre><code>public File downloadFileData(String fileName, File pstFile) throws Exception\n    {\n        // handle unset client name\n        if(clientName == null)\n        {\n            throw new NullPointerException(&quot;Client name is unset&quot;);\n        }\n        InputStream fileInputStream = null;\n        try\n        {\n            // connect to the client's file share\n            FileShare clientFs = new FileShare(this.clientName);\n            ShareFileClient fileClient = clientFs.getClientFileClient(fileName);\n            // verify that fileClient is accessible\n            Context context = new Context(&quot;&quot;,&quot;&quot;);\n            fileClient.existsWithResponse(Duration.ofSeconds((long)FileShare.shareFileClientTimeout), context);\n            // download the file\n            fileInputStream = fileClient.openInputStream();\n            SubmissionUtils.copyInputStreamToFile(fileInputStream, pstFile);\n            return pstFile;\n        }\n        catch (Exception e)\n        {\n            System.out.println(&quot;Exception: &quot; + e.getMessage());\n            e.printStackTrace();\n            throw new Exception(&quot;Could not download file &quot;+fileName+&quot;: &quot;+e.getMessage());\n        }\n        finally\n        {\n            // close stream\n            if(fileInputStream!=null)\n            {\n                fileInputStream.close();\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":6821370,"reputation":63,"user_id":5248421,"display_name":"Gabriel Ruoff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76038627,"answer_count":1,"score":0,"last_activity_date":1681759556,"creation_date":1678941233,"question_id":75752203,"body_markdown":"I have a queue triggered function which processes messages containing the name of a file stored in a file share. The filename is parsed from the message and the file is downloaded from the file share using a ShareFileClient:\r\n\r\n```\r\n\tpublic File downloadFileData(String fileName, File pstFile) throws Exception\r\n\t{\r\n\t\t// handle unset client name\r\n\t\tif(clientName == null)\r\n\t\t{\r\n\t\t\tthrow new NullPointerException(&quot;Client name is unset&quot;);\r\n\t\t}\r\n\t\tInputStream fileInputStream = null;\r\n\t\ttry\r\n\t\t{\r\n\t\t\t// connect to the client&#39;s file share\r\n\t\t\tFileShare clientFs = new FileShare(this.clientName);\r\n\t\t\tShareFileClient fileClient = clientFs.getClientFileClient(fileName);\r\n\t\t\tlog.info(&quot;(&quot;+fileName+&quot;) opening stream&quot;);\r\n\t\t\t// download the file\r\n\t\t\tlog.info(&quot;file exists? &quot;+fileClient.exists());\r\n\t\t\tlog.info(&quot;file url: &quot;+fileClient.getFileUrl());\r\n\t\t\tfileInputStream = fileClient.openInputStream();\r\n\t\t\tlog.info(&quot;(&quot;+fileName+&quot;) saving to file&quot;);\r\n\t\t\tSubmissionUtils.copyInputStreamToFile(fileInputStream, pstFile);\r\n\t\t\tlog.info(&quot;(&quot;+fileName+&quot;) saved to file&quot;);\r\n\t\t\treturn pstFile;\r\n\t\t}\r\n\t\tcatch (Exception e)\r\n\t\t{\r\n\t\t\tlog.warning(&quot;Exception: &quot; + e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new Exception(&quot;Could not download file &quot;+fileName);\r\n\t\t}\r\n\t\tfinally\r\n\t\t{\r\n\t\t\t// close stream\r\n\t\t\tif(fileInputStream!=null)\r\n\t\t\t{\r\n\t\t\t\tfileInputStream.close();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\nthe getClientFileClient method retrieves the file client.\r\n```\r\npublic ShareFileClient getClientFileClient(String fileName) {\r\n\treturn getFileClient(StorageAccount.saConnectionString, FileShare.sharePrefix + \r\n                         this.clientName,\r\n                         fileName);\r\n}\r\n```\r\n\r\nThis has worked correctly for thousands of files, however strange behavior is now occurring with some files. Occasionally, the program executes until the ShareFileClient is first accessed `log.info(&quot;file exists? &quot;+fileClient.exists());`\r\n\r\nWhen the ShareFileClient is first accessed, the queue trigger processor hangs indefinitely. It does not throw an exception and the function does not return with &#39;failed&#39; or &#39;succeeded&#39;. The last message shown in the log is the output of `log.info(&quot;(&quot;+fileName+&quot;) opening stream&quot;);`. The function also does not honor its timeout when it is in this state and hangs until the function app is restarted. Other functions still execute correctly. This only occurs for specific files in the file share.\r\n\r\n*When I run the function app locally using AZFunctions Core Tools the issue does not occur for these specific files.*\r\n\r\nI have tried:\r\n\r\n - Changing the name of the failing files\r\nResult: no change\r\n - Increasing batchSize to 3 in host.json\r\nResult: the process running the failing files hangs while the other two continue to process files as normal.\r\n\r\nI would really appreciate some help with this. Please let me know if additional info is needed.\r\n","title":"Azure Queue Triggered Function Hangs Indefinitely on Call to ShareFileClient","body":"<p>I have a queue triggered function which processes messages containing the name of a file stored in a file share. The filename is parsed from the message and the file is downloaded from the file share using a ShareFileClient:</p>\n<pre><code>    public File downloadFileData(String fileName, File pstFile) throws Exception\n    {\n        // handle unset client name\n        if(clientName == null)\n        {\n            throw new NullPointerException(&quot;Client name is unset&quot;);\n        }\n        InputStream fileInputStream = null;\n        try\n        {\n            // connect to the client's file share\n            FileShare clientFs = new FileShare(this.clientName);\n            ShareFileClient fileClient = clientFs.getClientFileClient(fileName);\n            log.info(&quot;(&quot;+fileName+&quot;) opening stream&quot;);\n            // download the file\n            log.info(&quot;file exists? &quot;+fileClient.exists());\n            log.info(&quot;file url: &quot;+fileClient.getFileUrl());\n            fileInputStream = fileClient.openInputStream();\n            log.info(&quot;(&quot;+fileName+&quot;) saving to file&quot;);\n            SubmissionUtils.copyInputStreamToFile(fileInputStream, pstFile);\n            log.info(&quot;(&quot;+fileName+&quot;) saved to file&quot;);\n            return pstFile;\n        }\n        catch (Exception e)\n        {\n            log.warning(&quot;Exception: &quot; + e.getMessage());\n            e.printStackTrace();\n            throw new Exception(&quot;Could not download file &quot;+fileName);\n        }\n        finally\n        {\n            // close stream\n            if(fileInputStream!=null)\n            {\n                fileInputStream.close();\n            }\n        }\n    }\n</code></pre>\n<p>the getClientFileClient method retrieves the file client.</p>\n<pre><code>public ShareFileClient getClientFileClient(String fileName) {\n    return getFileClient(StorageAccount.saConnectionString, FileShare.sharePrefix + \n                         this.clientName,\n                         fileName);\n}\n</code></pre>\n<p>This has worked correctly for thousands of files, however strange behavior is now occurring with some files. Occasionally, the program executes until the ShareFileClient is first accessed <code>log.info(&quot;file exists? &quot;+fileClient.exists());</code></p>\n<p>When the ShareFileClient is first accessed, the queue trigger processor hangs indefinitely. It does not throw an exception and the function does not return with 'failed' or 'succeeded'. The last message shown in the log is the output of <code>log.info(&quot;(&quot;+fileName+&quot;) opening stream&quot;);</code>. The function also does not honor its timeout when it is in this state and hangs until the function app is restarted. Other functions still execute correctly. This only occurs for specific files in the file share.</p>\n<p><em>When I run the function app locally using AZFunctions Core Tools the issue does not occur for these specific files.</em></p>\n<p>I have tried:</p>\n<ul>\n<li>Changing the name of the failing files\nResult: no change</li>\n<li>Increasing batchSize to 3 in host.json\nResult: the process running the failing files hangs while the other two continue to process files as normal.</li>\n</ul>\n<p>I would really appreciate some help with this. Please let me know if additional info is needed.</p>\n"},{"tags":["java","log4j","log4shell"],"answers":[{"tags":[],"owner":{"account_id":14461757,"reputation":191,"user_id":11561992,"display_name":"Ablia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656076422,"creation_date":1656076422,"answer_id":72744652,"question_id":72719288,"body_markdown":"Solved it. \r\n\r\nTurned out for log4shell to work you need a vulnerable app and a vulnerable version of Java; which I thought I had, but nope. I had Java 11.0.15, and needed Java 11 (Ghidra need Java 11 minimum, only vulnerable version of Java 11 is the first one). \r\n\r\nDownloaded and installed Java 11, POC working perfectly. \r\n\r\n","title":"log4shell POC : no HTTP redirect","body":"<p>Solved it.</p>\n<p>Turned out for log4shell to work you need a vulnerable app and a vulnerable version of Java; which I thought I had, but nope. I had Java 11.0.15, and needed Java 11 (Ghidra need Java 11 minimum, only vulnerable version of Java 11 is the first one).</p>\n<p>Downloaded and installed Java 11, POC working perfectly.</p>\n"}],"owner":{"account_id":14461757,"reputation":191,"user_id":11561992,"display_name":"Ablia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681759123,"creation_date":1655916783,"question_id":72719288,"body_markdown":"I am trying to understand/reproduce Log4shell vulnerability, using this [poc][1] and also information from [Marshalsec][2]. \r\n\r\nTo do that, I&#39;ve downloaded Ghidra v10.0.4, which is said (on Ghidra download page) to be vulnerable to log4shell. Installed it on an ubuntu VM, along with java 1.8 (as stated in POC), and loaded the Poc + marshalsec snapshot.\r\n\r\nTried to start Ghidra, it said java 11 was needed, so although I&#39;ve installed java 1.8 I still downloaded java 11 and, when you start ghidra, it says the installed version is not good enough and ask for the path to a java11 version; so I just gave him path to the jdk11 directory and it seems happy with it. Ghidra starts alright. \r\n\r\nThen set up my listener and launched the poc, got the payload string to copy/paste in ghidra, and got a response in the ldap listener saying it&#39;ll send it to HTTP. But nothing more. The end.\r\n\r\nSince the HTTP server is set up by the same POC, I thought maybe I just couldn&#39;t see the redirection, so I started the http server myself, started the ldap server myself with marshalsec, and retried (see pics below for exact commands/outputs). \r\n\r\nSetting http server:\r\n\r\n[![Set HTTP server][3]][3]\r\n\r\nSet listener:\r\n\r\n[![Set listener][5]][5]\r\n\r\nSetting LDAP server:\r\n\r\n[![Set LDAP server and get response][6]][6]\r\n\r\n\r\nSend payload string in Ghidra (in the help/search part, as shown in kozmer POC); immediately got an answer:\r\n[![Sending payload string in Ghidra][7]][7]\r\n\r\nI still receive a response on the LDAP listener (two, in fact, which seems weird), but nothing on the HTTP. The the Exploit class is never loaded in ghidra (it directly sends me a pop-up saying search not found, I think it is supposed to wait for the server answer to do that?), and I get nothing back in my listener.\r\n\r\nNote that I don&#39;t really understand this Marshalsec/LDAP thing so I&#39;m not sure what&#39;s happening here. If anyone have time to explain it will be nice. I&#39;ve read lot of stuff about the vuln but it rarely goes deeply into details (most is like: the payload string send a request to LDAP server, which redirect to HTTP server, which will upload the Exploit class on the vulnerable app and gives you a shell).\r\n\r\nNote: I&#39;ve checked, the http server is up and accessible, the Exploit.class file is here and can be downloaded.\r\n\r\n\r\n  [1]: https://github.com/kozmer/log4j-shell-poc\r\n  [2]: https://github.com/mbechler/marshalsec\r\n  [3]: https://i.stack.imgur.com/CRR7l.png\r\n  [4]: https://i.stack.imgur.com/Z3wU9.png\r\n  [5]: https://i.stack.imgur.com/vUzwn.png\r\n  [6]: https://i.stack.imgur.com/aQms4.png\r\n  [7]: https://i.stack.imgur.com/zXaSy.png","title":"log4shell POC : no HTTP redirect","body":"<p>I am trying to understand/reproduce Log4shell vulnerability, using this <a href=\"https://github.com/kozmer/log4j-shell-poc\" rel=\"nofollow noreferrer\">poc</a> and also information from <a href=\"https://github.com/mbechler/marshalsec\" rel=\"nofollow noreferrer\">Marshalsec</a>.</p>\n<p>To do that, I've downloaded Ghidra v10.0.4, which is said (on Ghidra download page) to be vulnerable to log4shell. Installed it on an ubuntu VM, along with java 1.8 (as stated in POC), and loaded the Poc + marshalsec snapshot.</p>\n<p>Tried to start Ghidra, it said java 11 was needed, so although I've installed java 1.8 I still downloaded java 11 and, when you start ghidra, it says the installed version is not good enough and ask for the path to a java11 version; so I just gave him path to the jdk11 directory and it seems happy with it. Ghidra starts alright.</p>\n<p>Then set up my listener and launched the poc, got the payload string to copy/paste in ghidra, and got a response in the ldap listener saying it'll send it to HTTP. But nothing more. The end.</p>\n<p>Since the HTTP server is set up by the same POC, I thought maybe I just couldn't see the redirection, so I started the http server myself, started the ldap server myself with marshalsec, and retried (see pics below for exact commands/outputs).</p>\n<p>Setting http server:</p>\n<p><a href=\"https://i.stack.imgur.com/CRR7l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CRR7l.png\" alt=\"Set HTTP server\" /></a></p>\n<p>Set listener:</p>\n<p><a href=\"https://i.stack.imgur.com/vUzwn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vUzwn.png\" alt=\"Set listener\" /></a></p>\n<p>Setting LDAP server:</p>\n<p><a href=\"https://i.stack.imgur.com/aQms4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aQms4.png\" alt=\"Set LDAP server and get response\" /></a></p>\n<p>Send payload string in Ghidra (in the help/search part, as shown in kozmer POC); immediately got an answer:\n<a href=\"https://i.stack.imgur.com/zXaSy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zXaSy.png\" alt=\"Sending payload string in Ghidra\" /></a></p>\n<p>I still receive a response on the LDAP listener (two, in fact, which seems weird), but nothing on the HTTP. The the Exploit class is never loaded in ghidra (it directly sends me a pop-up saying search not found, I think it is supposed to wait for the server answer to do that?), and I get nothing back in my listener.</p>\n<p>Note that I don't really understand this Marshalsec/LDAP thing so I'm not sure what's happening here. If anyone have time to explain it will be nice. I've read lot of stuff about the vuln but it rarely goes deeply into details (most is like: the payload string send a request to LDAP server, which redirect to HTTP server, which will upload the Exploit class on the vulnerable app and gives you a shell).</p>\n<p>Note: I've checked, the http server is up and accessible, the Exploit.class file is here and can be downloaded.</p>\n"},{"tags":["java","netty","grpc","aix","ibm-jdk"],"comments":[{"owner":{"account_id":2455794,"reputation":1764,"user_id":2141064,"display_name":"Lorinczy Zsigmond"},"score":0,"creation_date":1550432614,"post_id":54733389,"comment_id":96256383,"body_markdown":"AIX/PPC cannot use native code of Linux/x86.","body":"AIX/PPC cannot use native code of Linux/x86."},{"owner":{"account_id":7439618,"reputation":3179,"user_id":5657783,"accept_rate":79,"display_name":"Ankit Shubham"},"score":0,"creation_date":1550516726,"post_id":54733389,"comment_id":96289432,"body_markdown":"@LorinczyZsigmond Do you know how can I build the required native code for AIX? I guess they are netty_tcnative_aix_ppc_64, netty_tcnative_ppc_64, netty_tcnative. On netty&#39;s github forum, I was told to compile the netty for AIX, but I am not sure how. Here is the link: https://github.com/netty/netty/issues/8871","body":"@LorinczyZsigmond Do you know how can I build the required native code for AIX? I guess they are netty_tcnative_aix_ppc_64, netty_tcnative_ppc_64, netty_tcnative. On netty&#39;s github forum, I was told to compile the netty for AIX, but I am not sure how. Here is the link: <a href=\"https://github.com/netty/netty/issues/8871\" rel=\"nofollow noreferrer\">github.com/netty/netty/issues/8871</a>"}],"answers":[{"tags":[],"owner":{"account_id":1162817,"reputation":1408,"user_id":1141984,"accept_rate":33,"display_name":"Calahad"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1557498846,"creation_date":1557498846,"answer_id":56079755,"question_id":54733389,"body_markdown":"It could be that: https://github.com/grpc/grpc-java/blob/master/SECURITY.md#tls-with-netty-tcnative-on-boringssl\r\n\r\nI added `runtime &#39;io.netty:netty-tcnative-boringssl-static:2.0.25.Final&#39;` in my build.gradle and it worked","title":"Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available","body":"<p>It could be that: <a href=\"https://github.com/grpc/grpc-java/blob/master/SECURITY.md#tls-with-netty-tcnative-on-boringssl\" rel=\"noreferrer\">https://github.com/grpc/grpc-java/blob/master/SECURITY.md#tls-with-netty-tcnative-on-boringssl</a></p>\n\n<p>I added <code>runtime 'io.netty:netty-tcnative-boringssl-static:2.0.25.Final'</code> in my build.gradle and it worked</p>\n"},{"tags":[],"owner":{"account_id":6932055,"reputation":1475,"user_id":11226214,"display_name":"nolwww"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613664754,"creation_date":1613664754,"answer_id":66263777,"question_id":54733389,"body_markdown":"In my case, just updating the Java version from 8 to 14 solved the issue (version 11 should also be fine). \r\n\r\nIf you are on Intellij, make sure your version change worked properly. ","title":"Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available","body":"<p>In my case, just updating the Java version from 8 to 14 solved the issue (version 11 should also be fine).</p>\n<p>If you are on Intellij, make sure your version change worked properly.</p>\n"},{"tags":[],"owner":{"account_id":21953264,"reputation":31,"user_id":16232188,"display_name":"oSAM iNTi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649665984,"creation_date":1649665984,"answer_id":71824822,"question_id":54733389,"body_markdown":"I have answered this in another similar question also, this issue can also be because of alpine base image incompaitibility if you are using it.\r\n\r\n&quot;Looks like you are using base image as alpine, which actually doesn&#39;t supports gRPC, you need to add the gcompact apk in your application. So, what you can do is : Using docker :&quot;\r\n\r\n    RUN apk add gcompat\r\n    ENV LD_PRELOAD=/lib/libgcompat.so.0\r\n\r\n","title":"Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available","body":"<p>I have answered this in another similar question also, this issue can also be because of alpine base image incompaitibility if you are using it.</p>\n<p>&quot;Looks like you are using base image as alpine, which actually doesn't supports gRPC, you need to add the gcompact apk in your application. So, what you can do is : Using docker :&quot;</p>\n<pre><code>RUN apk add gcompat\nENV LD_PRELOAD=/lib/libgcompat.so.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7611445,"reputation":1,"user_id":5772158,"display_name":"Shrikant Mule"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681758978,"creation_date":1681758978,"answer_id":76038567,"question_id":54733389,"body_markdown":"I upgraded to Java 17 and the error is resolved.","title":"Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available","body":"<p>I upgraded to Java 17 and the error is resolved.</p>\n"}],"owner":{"account_id":7439618,"reputation":3179,"user_id":5657783,"accept_rate":79,"display_name":"Ankit Shubham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10349,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1681758978,"creation_date":1550407563,"question_id":54733389,"body_markdown":"\r\n### What version of gRPC are you using?\r\n1.13.1\r\n\r\nI am using java 8 to build an executable jar. Below is the java version:\r\n```\r\n$ /usr/lib/jvm/java-1.8.0-openjdk-amd64/jre/bin/java -version\r\nopenjdk version &quot;1.8.0_171&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_171-8u171-b11-2~14.04-b11)\r\nOpenJDK 64-Bit Server VM (build 25.171-b11, mixed mode)\r\n```\r\nI am using gradle 3.4.1 to generate the jar as follows:\r\n`/opt/gradle-3.4.1/bin/gradle jar -Dorg.gradle.java.home=/usr/lib/jvm/java-1.8.0-openjdk-amd64/ \r\n`\r\nBelow are the dependencies defined in the module-level build.gradle file:\r\n```\r\ndependencies {\r\n  compile files(&quot;$TOOLCHAIN_VERSION_DIR/lib/commons-io-2.6.jar&quot;)\r\n  compile files(&quot;$TOOLCHAIN_VERSION_DIR/lib/grpc-all.jar&quot;)\r\n  compile files(&quot;$TOOLCHAIN_VERSION_DIR/lib/java-protobuf.jar&quot;)\r\n  compile files(&quot;$TOOLCHAIN_VERSION_DIR/lib/jetty.jar&quot;)\r\n  compile files(&quot;$TOOLCHAIN_VERSION_DIR/lib/log4j-core-2.8.jar&quot;)\r\n  compile files(&quot;$TOOLCHAIN_VERSION_DIR/lib/log4j-slf4j-impl-2.8.jar&quot;)\r\n  compile files(&quot;$TOOLCHAIN_VERSION_DIR/lib/netty-tcnative-boringssl-static-2.0.20.Final.jar&quot;)\r\n  compile files(&quot;$TOOLCHAIN_VERSION_DIR/lib/netty-tcnative-2.0.20.Final.jar&quot;)\r\n  compile files(&quot;$TOOLCHAIN_VERSION_DIR/lib/picocli-3.8.2.jar&quot;)\r\n  compile group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &#39;20.0&#39;\r\n  compile files(&quot;$TOOLCHAIN_VERSION_DIR/lib/javassist-3.19.0-GA.jar&quot;)\r\n  compile project(&#39;:annotation&#39;)\r\n}\r\n```\r\nAfter building, I am running the jar on an AIX7.2 machine as follows:\r\n`/usr/java8_64/jre/bin/java -jar agent-1.0.jar`\r\n\r\nThe java version on the AIX machine is as follows:\r\n```\r\n$ /usr/java8_64/jre/bin/java -version           \r\njava version &quot;1.8.0_191&quot;\r\nJava(TM) SE Runtime Environment (build 8.0.5.26 - pap6480sr5fp26-20181115_03(SR5 FP26))\r\nIBM J9 VM (build 2.9, JRE 1.8.0 AIX ppc64-64-Bit Compressed References 20181106_401576 (JIT enabled, AOT enabled)\r\nOpenJ9   - fde1d6f\r\nOMR      - d8c3617\r\nIBM      - 5c4a9f0)\r\nJCL - 20181022_01 based on Oracle jdk8u191-b26\r\n```\r\nBut I am getting the following error while running:\r\n```\r\nFeb 17, 2019 3:11:33 AM io.grpc.netty.GrpcSslContexts defaultSslProvider\r\nINFO: netty-tcnative unavailable (this may be normal)\r\njava.lang.IllegalArgumentException: Failed to load any of the given libraries: [netty_tcnative_aix_ppc_64, netty_tcnative_ppc_64, netty_tcnative]\r\n        at io.netty.util.internal.NativeLibraryLoader.loadFirstAvailable(NativeLibraryLoader.java:93)\r\n        at io.netty.handler.ssl.OpenSsl.loadTcNative(OpenSsl.java:430)\r\n        at io.netty.handler.ssl.OpenSsl.&lt;clinit&gt;(OpenSsl.java:97)\r\n        at io.grpc.netty.GrpcSslContexts.defaultSslProvider(GrpcSslContexts.java:242)\r\n        at io.grpc.netty.GrpcSslContexts.configure(GrpcSslContexts.java:171)\r\n        at io.grpc.netty.GrpcSslContexts.forServer(GrpcSslContexts.java:151)\r\n        at io.grpc.netty.NettyServerBuilder.useTransportSecurity(NettyServerBuilder.java:456)\r\n        at io.grpc.netty.NettyServerBuilder.useTransportSecurity(NettyServerBuilder.java:55)\r\n        at com.ankit.agents.AgentMain.&lt;init&gt;(AgentMain.java:91)\r\n        at com.ankit.agents.AgentMain.main(AgentMain.java:132)\r\n        Suppressed: java.lang.UnsatisfiedLinkError: could not load a native library: netty_tcnative_aix_ppc_64\r\n                at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:205)\r\n                at io.netty.util.internal.NativeLibraryLoader.loadFirstAvailable(NativeLibraryLoader.java:85)\r\n                ... 9 more\r\n        Caused by: java.io.FileNotFoundException: META-INF/native/libnetty_tcnative_aix_ppc_64.a\r\n                at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:161)\r\n                ... 10 more\r\n                Suppressed: java.lang.UnsatisfiedLinkError: netty_tcnative_aix_ppc_64 (Not found in java.library.path)\r\n                        at java.lang.ClassLoader.loadLibraryWithPath(ClassLoader.java:1425)\r\n                        at java.lang.ClassLoader.loadLibraryWithClassLoader(ClassLoader.java:1395)\r\n                        at java.lang.System.loadLibrary(System.java:565)\r\n                        at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\r\n                        at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:243)\r\n                        at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:124)\r\n                        ... 10 more\r\n                        Suppressed: java.lang.UnsatisfiedLinkError: netty_tcnative_aix_ppc_64 (Not found in java.library.path)\r\n                                at java.lang.ClassLoader.loadLibraryWithPath(ClassLoader.java:1425)\r\n                                at java.lang.ClassLoader.loadLibraryWithClassLoader(ClassLoader.java:1395)\r\n                                at java.lang.System.loadLibrary(System.java:565)\r\n                                at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\r\n                                at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                                at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n                                at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n                                at java.lang.reflect.Method.invoke(Method.java:508)\r\n                                at io.netty.util.internal.NativeLibraryLoader$1.run(NativeLibraryLoader.java:263)\r\n                                at java.security.AccessController.doPrivileged(AccessController.java:647)\r\n                                at io.netty.util.internal.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:255)\r\n                                at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:233)\r\n                                ... 11 more\r\n        Suppressed: java.lang.UnsatisfiedLinkError: could not load a native library: netty_tcnative_ppc_64\r\n                at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:205)\r\n                at io.netty.util.internal.NativeLibraryLoader.loadFirstAvailable(NativeLibraryLoader.java:85)\r\n                ... 9 more\r\n        Caused by: java.io.FileNotFoundException: META-INF/native/libnetty_tcnative_ppc_64.a\r\n                at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:161)\r\n                ... 10 more\r\n                Suppressed: java.lang.UnsatisfiedLinkError: netty_tcnative_ppc_64 (Not found in java.library.path)\r\n                        at java.lang.ClassLoader.loadLibraryWithPath(ClassLoader.java:1425)\r\n                        at java.lang.ClassLoader.loadLibraryWithClassLoader(ClassLoader.java:1395)\r\n                        at java.lang.System.loadLibrary(System.java:565)\r\n                        at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\r\n                        at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:243)\r\n                        at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:124)\r\n                        ... 10 more\r\n                        Suppressed: java.lang.UnsatisfiedLinkError: netty_tcnative_ppc_64 (Not found in java.library.path)\r\n                                at java.lang.ClassLoader.loadLibraryWithPath(ClassLoader.java:1425)\r\n                                at java.lang.ClassLoader.loadLibraryWithClassLoader(ClassLoader.java:1395)\r\n                                at java.lang.System.loadLibrary(System.java:565)\r\n                                at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\r\n                                at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                                at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n                                at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n                                at java.lang.reflect.Method.invoke(Method.java:508)\r\n                                at io.netty.util.internal.NativeLibraryLoader$1.run(NativeLibraryLoader.java:263)\r\n                                at java.security.AccessController.doPrivileged(AccessController.java:647)\r\n                                at io.netty.util.internal.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:255)\r\n                                at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:233)\r\n                                ... 11 more\r\n        Suppressed: java.lang.UnsatisfiedLinkError: could not load a native library: netty_tcnative\r\n                at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:205)\r\n                at io.netty.util.internal.NativeLibraryLoader.loadFirstAvailable(NativeLibraryLoader.java:85)\r\n                ... 9 more\r\n        Caused by: java.io.FileNotFoundException: META-INF/native/libnetty_tcnative.a\r\n                at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:161)\r\n                ... 10 more\r\n                Suppressed: java.lang.UnsatisfiedLinkError: netty_tcnative (Not found in java.library.path)\r\n                        at java.lang.ClassLoader.loadLibraryWithPath(ClassLoader.java:1425)\r\n                        at java.lang.ClassLoader.loadLibraryWithClassLoader(ClassLoader.java:1395)\r\n                        at java.lang.System.loadLibrary(System.java:565)\r\n                        at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\r\n                        at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:243)\r\n                        at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:124)\r\n                        ... 10 more\r\n                        Suppressed: java.lang.UnsatisfiedLinkError: netty_tcnative (Not found in java.library.path)\r\n                                at java.lang.ClassLoader.loadLibraryWithPath(ClassLoader.java:1425)\r\n                                at java.lang.ClassLoader.loadLibraryWithClassLoader(ClassLoader.java:1395)\r\n                                at java.lang.System.loadLibrary(System.java:565)\r\n                                at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\r\n                                at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                                at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n                                at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n                                at java.lang.reflect.Method.invoke(Method.java:508)\r\n                                at io.netty.util.internal.NativeLibraryLoader$1.run(NativeLibraryLoader.java:263)\r\n                                at java.security.AccessController.doPrivileged(AccessController.java:647)\r\n                                at io.netty.util.internal.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:255)\r\n                                at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:233)\r\n                                ... 11 more\r\n\r\nFeb 17, 2019 3:11:33 AM io.grpc.netty.GrpcSslContexts defaultSslProvider\r\nINFO: Conscrypt not found (this may be normal)\r\nFeb 17, 2019 3:11:33 AM io.grpc.netty.GrpcSslContexts defaultSslProvider\r\nINFO: Jetty ALPN unavailable (this may be normal)\r\njava.lang.ClassNotFoundException: org.eclipse.jetty.alpn.ALPN\r\n        at java.lang.Class.forNameImpl(Native Method)\r\n        at java.lang.Class.forName(Class.java:403)\r\n        at io.grpc.netty.JettyTlsUtil.isJettyAlpnConfigured(JettyTlsUtil.java:64)\r\n        at io.grpc.netty.JettyTlsUtil.getJettyAlpnUnavailabilityCause(JettyTlsUtil.java:75)\r\n        at io.grpc.netty.GrpcSslContexts.defaultSslProvider(GrpcSslContexts.java:255)\r\n        at io.grpc.netty.GrpcSslContexts.configure(GrpcSslContexts.java:171)\r\n        at io.grpc.netty.GrpcSslContexts.forServer(GrpcSslContexts.java:151)\r\n        at io.grpc.netty.NettyServerBuilder.useTransportSecurity(NettyServerBuilder.java:456)\r\n        at io.grpc.netty.NettyServerBuilder.useTransportSecurity(NettyServerBuilder.java:55)\r\n        at com.ankit.agents.AgentMain.&lt;init&gt;(AgentMain.java:91)\r\n        at com.ankit.agents.AgentMain.main(AgentMain.java:132)\r\n\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available\r\n        at io.grpc.netty.GrpcSslContexts.defaultSslProvider(GrpcSslContexts.java:256)\r\n        at io.grpc.netty.GrpcSslContexts.configure(GrpcSslContexts.java:171)\r\n        at io.grpc.netty.GrpcSslContexts.forServer(GrpcSslContexts.java:151)\r\n        at io.grpc.netty.NettyServerBuilder.useTransportSecurity(NettyServerBuilder.java:456)\r\n        at io.grpc.netty.NettyServerBuilder.useTransportSecurity(NettyServerBuilder.java:55)\r\n        at com.ankit.agents.AgentMain.&lt;init&gt;(AgentMain.java:91)\r\n        at com.ankit.agents.AgentMain.main(AgentMain.java:132)\r\n\r\n```\r\nHowever, it is running fine on an Ubuntu machine. I am running the jar as follows:\r\n`/usr/lib/jvm/java-1.8.0-openjdk-amd64/jre/bin/java -jar agent-1.0.jar`\r\n\r\nThe java version here is:\r\n```\r\n$ /usr/lib/jvm/java-1.8.0-openjdk-amd64/jre/bin/java -version\r\nopenjdk version &quot;1.8.0_171&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_171-8u171-b11-2~14.04-b11)\r\nOpenJDK 64-Bit Server VM (build 25.171-b11, mixed mode)\r\n```\r\nWhat is the problem here and how to solve this?\r\n","title":"Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available","body":"<h3>What version of gRPC are you using?</h3>\n\n<p>1.13.1</p>\n\n<p>I am using java 8 to build an executable jar. Below is the java version:</p>\n\n<pre><code>$ /usr/lib/jvm/java-1.8.0-openjdk-amd64/jre/bin/java -version\nopenjdk version \"1.8.0_171\"\nOpenJDK Runtime Environment (build 1.8.0_171-8u171-b11-2~14.04-b11)\nOpenJDK 64-Bit Server VM (build 25.171-b11, mixed mode)\n</code></pre>\n\n<p>I am using gradle 3.4.1 to generate the jar as follows:\n<code>/opt/gradle-3.4.1/bin/gradle jar -Dorg.gradle.java.home=/usr/lib/jvm/java-1.8.0-openjdk-amd64/\n</code>\nBelow are the dependencies defined in the module-level build.gradle file:</p>\n\n<pre><code>dependencies {\n  compile files(\"$TOOLCHAIN_VERSION_DIR/lib/commons-io-2.6.jar\")\n  compile files(\"$TOOLCHAIN_VERSION_DIR/lib/grpc-all.jar\")\n  compile files(\"$TOOLCHAIN_VERSION_DIR/lib/java-protobuf.jar\")\n  compile files(\"$TOOLCHAIN_VERSION_DIR/lib/jetty.jar\")\n  compile files(\"$TOOLCHAIN_VERSION_DIR/lib/log4j-core-2.8.jar\")\n  compile files(\"$TOOLCHAIN_VERSION_DIR/lib/log4j-slf4j-impl-2.8.jar\")\n  compile files(\"$TOOLCHAIN_VERSION_DIR/lib/netty-tcnative-boringssl-static-2.0.20.Final.jar\")\n  compile files(\"$TOOLCHAIN_VERSION_DIR/lib/netty-tcnative-2.0.20.Final.jar\")\n  compile files(\"$TOOLCHAIN_VERSION_DIR/lib/picocli-3.8.2.jar\")\n  compile group: 'com.google.guava', name: 'guava', version: '20.0'\n  compile files(\"$TOOLCHAIN_VERSION_DIR/lib/javassist-3.19.0-GA.jar\")\n  compile project(':annotation')\n}\n</code></pre>\n\n<p>After building, I am running the jar on an AIX7.2 machine as follows:\n<code>/usr/java8_64/jre/bin/java -jar agent-1.0.jar</code></p>\n\n<p>The java version on the AIX machine is as follows:</p>\n\n<pre><code>$ /usr/java8_64/jre/bin/java -version           \njava version \"1.8.0_191\"\nJava(TM) SE Runtime Environment (build 8.0.5.26 - pap6480sr5fp26-20181115_03(SR5 FP26))\nIBM J9 VM (build 2.9, JRE 1.8.0 AIX ppc64-64-Bit Compressed References 20181106_401576 (JIT enabled, AOT enabled)\nOpenJ9   - fde1d6f\nOMR      - d8c3617\nIBM      - 5c4a9f0)\nJCL - 20181022_01 based on Oracle jdk8u191-b26\n</code></pre>\n\n<p>But I am getting the following error while running:</p>\n\n<pre><code>Feb 17, 2019 3:11:33 AM io.grpc.netty.GrpcSslContexts defaultSslProvider\nINFO: netty-tcnative unavailable (this may be normal)\njava.lang.IllegalArgumentException: Failed to load any of the given libraries: [netty_tcnative_aix_ppc_64, netty_tcnative_ppc_64, netty_tcnative]\n        at io.netty.util.internal.NativeLibraryLoader.loadFirstAvailable(NativeLibraryLoader.java:93)\n        at io.netty.handler.ssl.OpenSsl.loadTcNative(OpenSsl.java:430)\n        at io.netty.handler.ssl.OpenSsl.&lt;clinit&gt;(OpenSsl.java:97)\n        at io.grpc.netty.GrpcSslContexts.defaultSslProvider(GrpcSslContexts.java:242)\n        at io.grpc.netty.GrpcSslContexts.configure(GrpcSslContexts.java:171)\n        at io.grpc.netty.GrpcSslContexts.forServer(GrpcSslContexts.java:151)\n        at io.grpc.netty.NettyServerBuilder.useTransportSecurity(NettyServerBuilder.java:456)\n        at io.grpc.netty.NettyServerBuilder.useTransportSecurity(NettyServerBuilder.java:55)\n        at com.ankit.agents.AgentMain.&lt;init&gt;(AgentMain.java:91)\n        at com.ankit.agents.AgentMain.main(AgentMain.java:132)\n        Suppressed: java.lang.UnsatisfiedLinkError: could not load a native library: netty_tcnative_aix_ppc_64\n                at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:205)\n                at io.netty.util.internal.NativeLibraryLoader.loadFirstAvailable(NativeLibraryLoader.java:85)\n                ... 9 more\n        Caused by: java.io.FileNotFoundException: META-INF/native/libnetty_tcnative_aix_ppc_64.a\n                at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:161)\n                ... 10 more\n                Suppressed: java.lang.UnsatisfiedLinkError: netty_tcnative_aix_ppc_64 (Not found in java.library.path)\n                        at java.lang.ClassLoader.loadLibraryWithPath(ClassLoader.java:1425)\n                        at java.lang.ClassLoader.loadLibraryWithClassLoader(ClassLoader.java:1395)\n                        at java.lang.System.loadLibrary(System.java:565)\n                        at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\n                        at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:243)\n                        at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:124)\n                        ... 10 more\n                        Suppressed: java.lang.UnsatisfiedLinkError: netty_tcnative_aix_ppc_64 (Not found in java.library.path)\n                                at java.lang.ClassLoader.loadLibraryWithPath(ClassLoader.java:1425)\n                                at java.lang.ClassLoader.loadLibraryWithClassLoader(ClassLoader.java:1395)\n                                at java.lang.System.loadLibrary(System.java:565)\n                                at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\n                                at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                                at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n                                at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n                                at java.lang.reflect.Method.invoke(Method.java:508)\n                                at io.netty.util.internal.NativeLibraryLoader$1.run(NativeLibraryLoader.java:263)\n                                at java.security.AccessController.doPrivileged(AccessController.java:647)\n                                at io.netty.util.internal.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:255)\n                                at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:233)\n                                ... 11 more\n        Suppressed: java.lang.UnsatisfiedLinkError: could not load a native library: netty_tcnative_ppc_64\n                at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:205)\n                at io.netty.util.internal.NativeLibraryLoader.loadFirstAvailable(NativeLibraryLoader.java:85)\n                ... 9 more\n        Caused by: java.io.FileNotFoundException: META-INF/native/libnetty_tcnative_ppc_64.a\n                at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:161)\n                ... 10 more\n                Suppressed: java.lang.UnsatisfiedLinkError: netty_tcnative_ppc_64 (Not found in java.library.path)\n                        at java.lang.ClassLoader.loadLibraryWithPath(ClassLoader.java:1425)\n                        at java.lang.ClassLoader.loadLibraryWithClassLoader(ClassLoader.java:1395)\n                        at java.lang.System.loadLibrary(System.java:565)\n                        at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\n                        at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:243)\n                        at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:124)\n                        ... 10 more\n                        Suppressed: java.lang.UnsatisfiedLinkError: netty_tcnative_ppc_64 (Not found in java.library.path)\n                                at java.lang.ClassLoader.loadLibraryWithPath(ClassLoader.java:1425)\n                                at java.lang.ClassLoader.loadLibraryWithClassLoader(ClassLoader.java:1395)\n                                at java.lang.System.loadLibrary(System.java:565)\n                                at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\n                                at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                                at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n                                at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n                                at java.lang.reflect.Method.invoke(Method.java:508)\n                                at io.netty.util.internal.NativeLibraryLoader$1.run(NativeLibraryLoader.java:263)\n                                at java.security.AccessController.doPrivileged(AccessController.java:647)\n                                at io.netty.util.internal.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:255)\n                                at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:233)\n                                ... 11 more\n        Suppressed: java.lang.UnsatisfiedLinkError: could not load a native library: netty_tcnative\n                at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:205)\n                at io.netty.util.internal.NativeLibraryLoader.loadFirstAvailable(NativeLibraryLoader.java:85)\n                ... 9 more\n        Caused by: java.io.FileNotFoundException: META-INF/native/libnetty_tcnative.a\n                at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:161)\n                ... 10 more\n                Suppressed: java.lang.UnsatisfiedLinkError: netty_tcnative (Not found in java.library.path)\n                        at java.lang.ClassLoader.loadLibraryWithPath(ClassLoader.java:1425)\n                        at java.lang.ClassLoader.loadLibraryWithClassLoader(ClassLoader.java:1395)\n                        at java.lang.System.loadLibrary(System.java:565)\n                        at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\n                        at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:243)\n                        at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:124)\n                        ... 10 more\n                        Suppressed: java.lang.UnsatisfiedLinkError: netty_tcnative (Not found in java.library.path)\n                                at java.lang.ClassLoader.loadLibraryWithPath(ClassLoader.java:1425)\n                                at java.lang.ClassLoader.loadLibraryWithClassLoader(ClassLoader.java:1395)\n                                at java.lang.System.loadLibrary(System.java:565)\n                                at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\n                                at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                                at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n                                at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n                                at java.lang.reflect.Method.invoke(Method.java:508)\n                                at io.netty.util.internal.NativeLibraryLoader$1.run(NativeLibraryLoader.java:263)\n                                at java.security.AccessController.doPrivileged(AccessController.java:647)\n                                at io.netty.util.internal.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:255)\n                                at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:233)\n                                ... 11 more\n\nFeb 17, 2019 3:11:33 AM io.grpc.netty.GrpcSslContexts defaultSslProvider\nINFO: Conscrypt not found (this may be normal)\nFeb 17, 2019 3:11:33 AM io.grpc.netty.GrpcSslContexts defaultSslProvider\nINFO: Jetty ALPN unavailable (this may be normal)\njava.lang.ClassNotFoundException: org.eclipse.jetty.alpn.ALPN\n        at java.lang.Class.forNameImpl(Native Method)\n        at java.lang.Class.forName(Class.java:403)\n        at io.grpc.netty.JettyTlsUtil.isJettyAlpnConfigured(JettyTlsUtil.java:64)\n        at io.grpc.netty.JettyTlsUtil.getJettyAlpnUnavailabilityCause(JettyTlsUtil.java:75)\n        at io.grpc.netty.GrpcSslContexts.defaultSslProvider(GrpcSslContexts.java:255)\n        at io.grpc.netty.GrpcSslContexts.configure(GrpcSslContexts.java:171)\n        at io.grpc.netty.GrpcSslContexts.forServer(GrpcSslContexts.java:151)\n        at io.grpc.netty.NettyServerBuilder.useTransportSecurity(NettyServerBuilder.java:456)\n        at io.grpc.netty.NettyServerBuilder.useTransportSecurity(NettyServerBuilder.java:55)\n        at com.ankit.agents.AgentMain.&lt;init&gt;(AgentMain.java:91)\n        at com.ankit.agents.AgentMain.main(AgentMain.java:132)\n\nException in thread \"main\" java.lang.IllegalStateException: Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available\n        at io.grpc.netty.GrpcSslContexts.defaultSslProvider(GrpcSslContexts.java:256)\n        at io.grpc.netty.GrpcSslContexts.configure(GrpcSslContexts.java:171)\n        at io.grpc.netty.GrpcSslContexts.forServer(GrpcSslContexts.java:151)\n        at io.grpc.netty.NettyServerBuilder.useTransportSecurity(NettyServerBuilder.java:456)\n        at io.grpc.netty.NettyServerBuilder.useTransportSecurity(NettyServerBuilder.java:55)\n        at com.ankit.agents.AgentMain.&lt;init&gt;(AgentMain.java:91)\n        at com.ankit.agents.AgentMain.main(AgentMain.java:132)\n\n</code></pre>\n\n<p>However, it is running fine on an Ubuntu machine. I am running the jar as follows:\n<code>/usr/lib/jvm/java-1.8.0-openjdk-amd64/jre/bin/java -jar agent-1.0.jar</code></p>\n\n<p>The java version here is:</p>\n\n<pre><code>$ /usr/lib/jvm/java-1.8.0-openjdk-amd64/jre/bin/java -version\nopenjdk version \"1.8.0_171\"\nOpenJDK Runtime Environment (build 1.8.0_171-8u171-b11-2~14.04-b11)\nOpenJDK 64-Bit Server VM (build 25.171-b11, mixed mode)\n</code></pre>\n\n<p>What is the problem here and how to solve this?</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-actuator","spring-cache"],"answers":[{"tags":[],"owner":{"account_id":9617575,"reputation":61,"user_id":7139807,"display_name":"Siarhei Blashuk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646490415,"creation_date":1646490415,"answer_id":71362998,"question_id":71254379,"body_markdown":"So I didn&#39;t find out of a box solution, so decided to go with the AOP approach. \r\n\r\nI found `HealthEndpointWebExtension` class that manages health rest endpoints. \r\nThis class has two health methods, one one of them called for common `/health` endpoint and second when we call `health/&lt;group name&gt;`.\r\n\r\nSo I created Aspect around the second method, which allowed me to add cache for endpoints I need.\r\n\r\n```java\r\n@Around(&quot;execution(@org.springframework.boot.actuate.endpoint.annotation.ReadOperation * org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(..,java.lang.String...))) &amp;&amp; args(.., path)&quot;)\r\npublic Object cache(ProceedingJoinPoint joinPoint, String... path) throws Throwable {\r\n    // Logic to get cache per endpoint and process if cache specifed.\r\n}\r\n```\r\n\r\nAt the end `application.properties` looks like this:\r\n```\r\n// out of the box\r\nmanagement.endpoint.health.cache.time-to-live=120s \r\n\r\n// customly created properties\r\nmanagement.endpoint.health.group.readiness.cache.time-to-live=60s\r\nmanagement.endpoint.health.group.deep.cache.time-to-live=120s\r\n```","title":"Spring Boot Actuator: Caching /actuator/health/readiness and /actuator/health/custom health check results","body":"<p>So I didn't find out of a box solution, so decided to go with the AOP approach.</p>\n<p>I found <code>HealthEndpointWebExtension</code> class that manages health rest endpoints.\nThis class has two health methods, one one of them called for common <code>/health</code> endpoint and second when we call <code>health/&lt;group name&gt;</code>.</p>\n<p>So I created Aspect around the second method, which allowed me to add cache for endpoints I need.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Around(&quot;execution(@org.springframework.boot.actuate.endpoint.annotation.ReadOperation * org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(..,java.lang.String...))) &amp;&amp; args(.., path)&quot;)\npublic Object cache(ProceedingJoinPoint joinPoint, String... path) throws Throwable {\n    // Logic to get cache per endpoint and process if cache specifed.\n}\n</code></pre>\n<p>At the end <code>application.properties</code> looks like this:</p>\n<pre><code>// out of the box\nmanagement.endpoint.health.cache.time-to-live=120s \n\n// customly created properties\nmanagement.endpoint.health.group.readiness.cache.time-to-live=60s\nmanagement.endpoint.health.group.deep.cache.time-to-live=120s\n</code></pre>\n"}],"owner":{"account_id":9617575,"reputation":61,"user_id":7139807,"display_name":"Siarhei Blashuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2334,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1681758504,"creation_date":1645716487,"question_id":71254379,"body_markdown":"So I have added the Spring Boot Actuator to my application and I specified in the `application.properties` property `management.endpoint.health.cache.time-to-live=120s` to cache health check results. So when I call `/actuator/health`, the result is cached and it&#39;s good.\r\n\r\nThe problem starts when I call `/actuator/health/readiness` or custom created group `/actuator/health/deep` this request results are not cached. I went through [Spring Docs][1] and found only information for the main health endpoint, nothing for specific groups.\r\n\r\nSo my question is: did I miss sth? Or how can I implement caching for specific spring boot actuator endpoints?\r\n\r\nThanks\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.endpoints.caching","title":"Spring Boot Actuator: Caching /actuator/health/readiness and /actuator/health/custom health check results","body":"<p>So I have added the Spring Boot Actuator to my application and I specified in the <code>application.properties</code> property <code>management.endpoint.health.cache.time-to-live=120s</code> to cache health check results. So when I call <code>/actuator/health</code>, the result is cached and it's good.</p>\n<p>The problem starts when I call <code>/actuator/health/readiness</code> or custom created group <code>/actuator/health/deep</code> this request results are not cached. I went through <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.endpoints.caching\" rel=\"nofollow noreferrer\">Spring Docs</a> and found only information for the main health endpoint, nothing for specific groups.</p>\n<p>So my question is: did I miss sth? Or how can I implement caching for specific spring boot actuator endpoints?</p>\n<p>Thanks</p>\n"},{"tags":["java","ubuntu","process","windows-subsystem-for-linux","sigkill"],"owner":{"account_id":17804011,"reputation":87,"user_id":12930072,"display_name":"AndyOh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681758381,"creation_date":1681758381,"question_id":76038486,"body_markdown":"I&#39;m running some firebase emulators (firestore, cloud functions) WSL2. For some operations (heavier ones I think) I often  get: `received signal: SIGKILL`. I know it most likely has to do with running out of memory but with 16GB RAM I&#39;m unsure how that happens. \r\n\r\n**Environment specs:**\r\n - **16 RAM on 1.5 year old Windows 11 machine**\r\n - **Ubuntu 22.04 on WSL2**\r\n - **Java SDK:**\r\n - openjdk 11.0.17 2022-10-18\r\n - OpenJDK Runtime Environment (build 11.0.17+8-post-Ubuntu-1ubuntu222.04)\r\n - OpenJDK 64-Bit Server VM (build 11.0.17+8-post-Ubuntu-1ubuntu222.04, mixed mode, sharing)\r\n- **WSL2:**\r\n- Kernel version: 5.15.90.1\r\n- WSLg version: 1.0.51\r\n- MSRDC version: 1.2.3770\r\n- Direct3D version: 1.608.2-61064218\r\n- DXCore version: 10.0.25131.1002-220531-1700.rs-onecore-base2-hyp\r\n    Windows version: 10.0.22621.1555\r\n\r\nWSL2, Ubuntu and java SDK are all fairly new installs or have been updated recently.\r\n\r\nI have tried increasing and decreasing the max RAM usage of WSL2 but neither fixed the issue.\r\n\r\nAny ideas how I can prevent the kill signal?\r\nCould it be related to the java SDK?","title":"SIGKILL on WSL2","body":"<p>I'm running some firebase emulators (firestore, cloud functions) WSL2. For some operations (heavier ones I think) I often  get: <code>received signal: SIGKILL</code>. I know it most likely has to do with running out of memory but with 16GB RAM I'm unsure how that happens.</p>\n<p><strong>Environment specs:</strong></p>\n<ul>\n<li><strong>16 RAM on 1.5 year old Windows 11 machine</strong></li>\n<li><strong>Ubuntu 22.04 on WSL2</strong></li>\n<li><strong>Java SDK:</strong></li>\n<li>openjdk 11.0.17 2022-10-18</li>\n<li>OpenJDK Runtime Environment (build 11.0.17+8-post-Ubuntu-1ubuntu222.04)</li>\n<li>OpenJDK 64-Bit Server VM (build 11.0.17+8-post-Ubuntu-1ubuntu222.04, mixed mode, sharing)</li>\n<li><strong>WSL2:</strong></li>\n<li>Kernel version: 5.15.90.1</li>\n<li>WSLg version: 1.0.51</li>\n<li>MSRDC version: 1.2.3770</li>\n<li>Direct3D version: 1.608.2-61064218</li>\n<li>DXCore version: 10.0.25131.1002-220531-1700.rs-onecore-base2-hyp\nWindows version: 10.0.22621.1555</li>\n</ul>\n<p>WSL2, Ubuntu and java SDK are all fairly new installs or have been updated recently.</p>\n<p>I have tried increasing and decreasing the max RAM usage of WSL2 but neither fixed the issue.</p>\n<p>Any ideas how I can prevent the kill signal?\nCould it be related to the java SDK?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9499,"page":493,"page_size":100}
