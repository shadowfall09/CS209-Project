{"items":[{"tags":["java","android","google-maps","google-maps-markers","google-maps-android-api-2"],"answers":[{"tags":[],"owner":{"account_id":4063582,"reputation":3717,"user_id":3339394,"accept_rate":53,"display_name":"The_Martian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492563812,"creation_date":1492541428,"answer_id":43480041,"question_id":43478431,"body_markdown":"You can make a function that populates with fresh data from your server. Then you can call that function as soon as the server sends the JSON data. To answer your question, you simply call the same function in onResume. For more information about activity state read [this][1].\r\n\r\nThe other approach is to save it in a savedInstanceState bundle and do check in onSaveInstanceState just like [this SO accepted answer][2] if that bundle is not null, if so populate the map with the List(last known locations of the markers, if that works with your project). Otherwise just load the map. \r\n\r\n\r\n  [1]: https://developer.android.com/guide/components/activities/activity-lifecycle.html\r\n  [2]: https://stackoverflow.com/questions/151777/saving-android-activity-state-using-save-instance-state","title":"Google Maps: How to restore markers when resuming map activity","body":"<p>You can make a function that populates with fresh data from your server. Then you can call that function as soon as the server sends the JSON data. To answer your question, you simply call the same function in onResume. For more information about activity state read <a href=\"https://developer.android.com/guide/components/activities/activity-lifecycle.html\" rel=\"nofollow noreferrer\">this</a>.</p>\n\n<p>The other approach is to save it in a savedInstanceState bundle and do check in onSaveInstanceState just like <a href=\"https://stackoverflow.com/questions/151777/saving-android-activity-state-using-save-instance-state\">this SO accepted answer</a> if that bundle is not null, if so populate the map with the List(last known locations of the markers, if that works with your project). Otherwise just load the map. </p>\n"},{"tags":[],"owner":{"account_id":9484245,"reputation":371,"user_id":7051075,"display_name":"Pham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492955381,"creation_date":1492954553,"answer_id":43571864,"question_id":43478431,"body_markdown":"You said\r\n\r\n&gt; When I **press back** and then resume the map\r\n\r\nright? Not closing your app.\r\n\r\nSimplest way is to override the `onBackPressed` method, like this:\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        moveTaskToBack(true);\r\n    }\r\n\r\nThis won&#39;t trigger `onDestroy()` and `onCreate()` again, so your would leave your Activity instance unmodified. Simple enough, huh?","title":"Google Maps: How to restore markers when resuming map activity","body":"<p>You said</p>\n\n<blockquote>\n  <p>When I <strong>press back</strong> and then resume the map</p>\n</blockquote>\n\n<p>right? Not closing your app.</p>\n\n<p>Simplest way is to override the <code>onBackPressed</code> method, like this:</p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n    moveTaskToBack(true);\n}\n</code></pre>\n\n<p>This won't trigger <code>onDestroy()</code> and <code>onCreate()</code> again, so your would leave your Activity instance unmodified. Simple enough, huh?</p>\n"},{"tags":[],"owner":{"account_id":2402196,"reputation":13303,"user_id":2111778,"accept_rate":80,"display_name":"xjcl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590350905,"creation_date":1590350905,"answer_id":61991834,"question_id":43478431,"body_markdown":"I found [this answer](https://stackoverflow.com/a/22058966/2111778) which provides an elegant one-line solution. This will restore markers when the user **rotates** the phone, but not when he presses the **Back** button (I know this is not what OP asked but Google will lead people here)\r\n\r\nAdd the following in `onCreate`:\r\n\r\n    // mapFragment is a SupportMapFragment \r\n    mapFragment.setRetainInstance(true);","title":"Google Maps: How to restore markers when resuming map activity","body":"<p>I found <a href=\"https://stackoverflow.com/a/22058966/2111778\">this answer</a> which provides an elegant one-line solution. This will restore markers when the user <strong>rotates</strong> the phone, but not when he presses the <strong>Back</strong> button (I know this is not what OP asked but Google will lead people here)</p>\n\n<p>Add the following in <code>onCreate</code>:</p>\n\n<pre><code>// mapFragment is a SupportMapFragment \nmapFragment.setRetainInstance(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17083713,"reputation":39,"user_id":12361534,"display_name":"Anang Dadhich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638461468,"creation_date":1638461468,"answer_id":70202890,"question_id":43478431,"body_markdown":"In manifest file, you can add this line:\r\n\r\n        &lt;activity android:name=&quot;.MapsActivity&quot;\r\n                  android:configChanges=&quot;orientation|screenSize&quot;&gt;\r\n\r\nIt was one of the simplest solution that worked for me in tandem with\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n    moveTaskToBack(true);\r\n    }\r\n\r\n, and works for simple enough apps, though onSaveInstanceState() method is recommended too. What I found from my research is it&#39;s tough to serialize and deserialize marker lists, and onSaveInstanceState() only works with simple objects like strings and such. If anyone found a better solution, please let me know too :)","title":"Google Maps: How to restore markers when resuming map activity","body":"<p>In manifest file, you can add this line:</p>\n<pre><code>    &lt;activity android:name=&quot;.MapsActivity&quot;\n              android:configChanges=&quot;orientation|screenSize&quot;&gt;\n</code></pre>\n<p>It was one of the simplest solution that worked for me in tandem with</p>\n<pre><code>@Override\npublic void onBackPressed() {\nmoveTaskToBack(true);\n}\n</code></pre>\n<p>, and works for simple enough apps, though onSaveInstanceState() method is recommended too. What I found from my research is it's tough to serialize and deserialize marker lists, and onSaveInstanceState() only works with simple objects like strings and such. If anyone found a better solution, please let me know too :)</p>\n"}],"owner":{"account_id":7437349,"reputation":685,"user_id":7791963,"accept_rate":35,"display_name":"Kspr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1682,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1638461468,"creation_date":1492535815,"question_id":43478431,"body_markdown":"I am making an app that collects data from a sensor. Every time the sensor sends data, a new marker is placed on a map. When I press back and then resume the map activity all the markers are gone. Is there a way to save and restore each unique marker with its unique MarkerOptions (title,snippet,LatLng) when resuming the activity? \r\n\r\nHere is my maps activity\r\n\r\n    \r\n     public class MapsActivity extends FragmentActivity implements OnMapReadyCallback, GoogleApiClient.ConnectionCallbacks, GoogleApiClient.OnConnectionFailedListener, LocationListener\r\n    {\r\n\r\n    private GoogleMap mMap;\r\n    GoogleApiClient mGoogleApiClient;\r\n    Location mLastLocation;\r\n    Marker mCurrLocationMarker;\r\n    private int co_mV;\r\n    private int no2_mV;\r\n    LocationRequest mLocationRequest;\r\n    private boolean initiateApp;\r\n    String currentTime;\r\n\r\n    TcpClient mTcpClient;\r\n    ArrayList&lt;Marker&gt; markerArrayList;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_maps);\r\n\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            checkLocationPermission();\r\n        }\r\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.map);\r\n        mapFragment.getMapAsync(this);\r\n        initiateApp = true;\r\n        markerArrayList = new ArrayList&lt;Marker&gt;();\r\n\r\n    }\r\n\r\n    /**\r\n     * Manipulates the map once available.\r\n     * This callback is triggered when the map is ready to be used.\r\n     * This is where we can add markers or lines, add listeners or move the camera. In this case,\r\n     * we just add a marker near Sydney, Australia.\r\n     * If Google Play services is not installed on the device, the user will be prompted to install\r\n     * it inside the SupportMapFragment. This method will only be triggered once the user has\r\n     * installed Google Play services and returned to the app.\r\n     */\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n        mMap.setMapType(GoogleMap.MAP_TYPE_HYBRID);\r\n        mMap.setMyLocationEnabled(true);\r\n\r\n\r\n        if(mGoogleApiClient == null) {\r\n        //Initialize Google Play Services\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            if (ContextCompat.checkSelfPermission(this,\r\n                    Manifest.permission.ACCESS_FINE_LOCATION)\r\n                    == PackageManager.PERMISSION_GRANTED) {\r\n                buildGoogleApiClient();\r\n\r\n            }\r\n        }\r\n        else {\r\n                buildGoogleApiClient();\r\n            }\r\n        }\r\n    }\r\n\r\n    /* Here we create the infoWindow **/\r\n    protected synchronized void buildGoogleApiClient() {\r\n        mGoogleApiClient = new GoogleApiClient.Builder(this)\r\n                .addConnectionCallbacks(this)\r\n                .addOnConnectionFailedListener(this)\r\n                .addApi(LocationServices.API)\r\n                .build();\r\n        mGoogleApiClient.connect();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onConnected(Bundle bundle) {\r\n\r\n        getNewLocation();\r\n        new ConnectTask().execute(&quot;&quot;);\r\n\r\n    }\r\n\r\n\r\n    public void newData(JSONObject d) {\r\n        try {\r\n            co_mV = d.getInt(&quot;co_mV&quot;);\r\n            no2_mV = d.getInt(&quot;no2_mV&quot;);\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        getNewLocation();\r\n    }\r\n\r\n    public void getTime() {\r\n\r\n        Calendar cal = Calendar.getInstance();\r\n        currentTime = new SimpleDateFormat(&quot;HH:mm:ss&quot;).format(cal.getTime());\r\n\r\n    }\r\n\r\n    public void getNewLocation() {\r\n        mLocationRequest = new LocationRequest();\r\n        mLocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        if (ContextCompat.checkSelfPermission(this,\r\n                Manifest.permission.ACCESS_FINE_LOCATION)\r\n                == PackageManager.PERMISSION_GRANTED) {\r\n            LocationServices.FusedLocationApi.requestLocationUpdates(mGoogleApiClient, mLocationRequest, this);\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onConnectionSuspended(int i) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onLocationChanged(Location location) {\r\n\r\n        if (markerArrayList.size()&gt;1) {\r\n            if(location.distanceTo(mLastLocation) &lt; 30) {\r\n                markerArrayList.get(markerArrayList.size()-1).remove();\r\n                markerArrayList.remove(markerArrayList.size()-1);\r\n                Toast.makeText(\r\n                        getApplicationContext(),\r\n                        &quot;Reading to close to last reading, replaces last reading&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n\r\n\r\n        if (markerArrayList.size() == 8) {\r\n            markerArrayList.get(0).remove();\r\n            markerArrayList.remove(0);\r\n        }\r\n\r\n        //Place current location marker\r\n        LatLng latLng = new LatLng(location.getLatitude(), location.getLongitude());\r\n\r\n        if (!initiateApp) {\r\n            MarkerOptions markerOptions = new MarkerOptions();\r\n            markerOptions.position(latLng);\r\n            markerOptions.title(&quot;Time of reading: &quot; + currentTime);\r\n            markerOptions.snippet(&quot;co: &quot; + String.valueOf(co_mV) + &quot; mV, &quot; + &quot;no2: &quot; + String.valueOf(no2_mV) + &quot; mV&quot;);\r\n            markerOptions.icon(BitmapDescriptorFactory.defaultMarker(BitmapDescriptorFactory.HUE_MAGENTA));\r\n            mCurrLocationMarker = mMap.addMarker(markerOptions);\r\n            markerArrayList.add(mCurrLocationMarker);\r\n\r\n        }\r\n\r\n        mLastLocation = location;\r\n\r\n\r\n        Log.d(&quot;ADebugTag&quot;, &quot;Value: &quot; + Double.toString(location.getLatitude()));\r\n        Log.d(&quot;ADebugTag&quot;, &quot;Value: &quot; + Double.toString(location.getLongitude()));\r\n\r\n\r\n        //move map camera\r\n\r\n        if(initiateApp){\r\n            mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(latLng, 15));\r\n        }\r\n\r\n        boolean contains = mMap.getProjection()\r\n                .getVisibleRegion()\r\n                .latLngBounds\r\n                .contains(latLng);\r\n\r\n        if(!contains){\r\n            mMap.moveCamera(CameraUpdateFactory.newLatLng(latLng));\r\n        }\r\n\r\n        initiateApp = false;\r\n    }\r\n\r\n    @Override\r\n    public void onConnectionFailed(ConnectionResult connectionResult) {\r\n\r\n    }\r\n\r\n    public static final int MY_PERMISSIONS_REQUEST_LOCATION = 99;\r\n    public boolean checkLocationPermission(){\r\n        if (ContextCompat.checkSelfPermission(this,\r\n                Manifest.permission.ACCESS_FINE_LOCATION)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n\r\n            // Asking user if explanation is needed\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                    Manifest.permission.ACCESS_FINE_LOCATION)) {\r\n\r\n                // Show an explanation to the user *asynchronously* -- don&#39;t block\r\n                // this thread waiting for the user&#39;s response! After the user\r\n                // sees the explanation, try again to request the permission.\r\n\r\n                //Prompt the user once explanation has been shown\r\n                ActivityCompat.requestPermissions(this,\r\n                        new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\r\n                        MY_PERMISSIONS_REQUEST_LOCATION);\r\n\r\n\r\n            } else {\r\n                // No explanation needed, we can request the permission.\r\n                ActivityCompat.requestPermissions(this,\r\n                        new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\r\n                        MY_PERMISSIONS_REQUEST_LOCATION);\r\n            }\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode,\r\n                                           String permissions[], int[] grantResults) {\r\n        switch (requestCode) {\r\n            case MY_PERMISSIONS_REQUEST_LOCATION: {\r\n                // If request is cancelled, the result arrays are empty.\r\n                if (grantResults.length &gt; 0\r\n                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n\r\n                    // permission was granted. Do the\r\n                    // contacts-related task you need to do.\r\n                    if (ContextCompat.checkSelfPermission(this,\r\n                            Manifest.permission.ACCESS_FINE_LOCATION)\r\n                            == PackageManager.PERMISSION_GRANTED) {\r\n\r\n                        if (mGoogleApiClient == null) {\r\n                            buildGoogleApiClient();\r\n                        }\r\n                        mMap.setMyLocationEnabled(true);\r\n                    }\r\n\r\n                } else {\r\n\r\n                    // Permission denied, Disable the functionality that depends on this permission.\r\n                    Toast.makeText(this, &quot;permission denied&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n                return;\r\n            }\r\n\r\n            // other &#39;case&#39; lines to check for other permissions this app might request.\r\n            // You can add here other case statements according to your requirement.\r\n        }\r\n    }\r\n    \r\n    ublic JSONObject getNewJSON(JSONObject json) {\r\n        try {\r\n\r\n            int humidity = json.getInt(&quot;humidity_ppm&quot;);\r\n            int pressure = json.getInt(&quot;pressure_Pa&quot;);\r\n            int noise = json.getInt(&quot;noise_dB&quot;);\r\n            double lat = mLastLocation.getLatitude();\r\n            double lng = mLastLocation.getLongitude();\r\n            long time = System.currentTimeMillis() / 1000L;\r\n\r\n           JSONObject c = new JSONObject();\r\n            c.put(&quot;time&quot;,time);\r\n            c.put(&quot;lat&quot;,lat);\r\n            c.put(&quot;long&quot;,lng);\r\n            c.put(&quot;humidity&quot;,humidity);\r\n            c.put(&quot;pressure&quot;,pressure);\r\n            c.put(&quot;noise_dB&quot;,noise);\r\n            return c;\r\n\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    return null;\r\n    }\r\n\r\n\r\n    public class ConnectTask extends AsyncTask&lt;String, String, TcpClient&gt; {\r\n\r\n        @Override\r\n        protected TcpClient doInBackground(String... message) {\r\n\r\n            //we create a TCPClient object\r\n            mTcpClient = new TcpClient(new TcpClient.OnMessageReceived() {\r\n                @Override\r\n                //here the messageReceived method is implemented\r\n                public void messageReceived(String message) {\r\n                    //this method calls the onProgressUpdate\r\n                    publishProgress(message);\r\n                }\r\n            });\r\n            mTcpClient.run();\r\n\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        protected void onProgressUpdate(String... values) {\r\n            super.onProgressUpdate(values);\r\n\r\n\r\n            try {\r\n                JSONObject parser = new JSONObject(values[0]);\r\n                JSONObject d = parser.getJSONObject(&quot;d&quot;);\r\n                JSONObject cloudData = getNewJSON(d);\r\n\r\n                if (mLastLocation != null) {\r\n                    newData(d);\r\n                    getTime();\r\n                }\r\n\r\n                System.out.println(cloudData);\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n            //process server response here....\r\n        }\r\n\r\n    }\r\n","title":"Google Maps: How to restore markers when resuming map activity","body":"<p>I am making an app that collects data from a sensor. Every time the sensor sends data, a new marker is placed on a map. When I press back and then resume the map activity all the markers are gone. Is there a way to save and restore each unique marker with its unique MarkerOptions (title,snippet,LatLng) when resuming the activity? </p>\n\n<p>Here is my maps activity</p>\n\n<pre><code> public class MapsActivity extends FragmentActivity implements OnMapReadyCallback, GoogleApiClient.ConnectionCallbacks, GoogleApiClient.OnConnectionFailedListener, LocationListener\n{\n\nprivate GoogleMap mMap;\nGoogleApiClient mGoogleApiClient;\nLocation mLastLocation;\nMarker mCurrLocationMarker;\nprivate int co_mV;\nprivate int no2_mV;\nLocationRequest mLocationRequest;\nprivate boolean initiateApp;\nString currentTime;\n\nTcpClient mTcpClient;\nArrayList&lt;Marker&gt; markerArrayList;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_maps);\n\n    if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        checkLocationPermission();\n    }\n    // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n    SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n            .findFragmentById(R.id.map);\n    mapFragment.getMapAsync(this);\n    initiateApp = true;\n    markerArrayList = new ArrayList&lt;Marker&gt;();\n\n}\n\n/**\n * Manipulates the map once available.\n * This callback is triggered when the map is ready to be used.\n * This is where we can add markers or lines, add listeners or move the camera. In this case,\n * we just add a marker near Sydney, Australia.\n * If Google Play services is not installed on the device, the user will be prompted to install\n * it inside the SupportMapFragment. This method will only be triggered once the user has\n * installed Google Play services and returned to the app.\n */\n@Override\npublic void onMapReady(GoogleMap googleMap) {\n    mMap = googleMap;\n    mMap.setMapType(GoogleMap.MAP_TYPE_HYBRID);\n    mMap.setMyLocationEnabled(true);\n\n\n    if(mGoogleApiClient == null) {\n    //Initialize Google Play Services\n    if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        if (ContextCompat.checkSelfPermission(this,\n                Manifest.permission.ACCESS_FINE_LOCATION)\n                == PackageManager.PERMISSION_GRANTED) {\n            buildGoogleApiClient();\n\n        }\n    }\n    else {\n            buildGoogleApiClient();\n        }\n    }\n}\n\n/* Here we create the infoWindow **/\nprotected synchronized void buildGoogleApiClient() {\n    mGoogleApiClient = new GoogleApiClient.Builder(this)\n            .addConnectionCallbacks(this)\n            .addOnConnectionFailedListener(this)\n            .addApi(LocationServices.API)\n            .build();\n    mGoogleApiClient.connect();\n\n}\n\n@Override\npublic void onConnected(Bundle bundle) {\n\n    getNewLocation();\n    new ConnectTask().execute(\"\");\n\n}\n\n\npublic void newData(JSONObject d) {\n    try {\n        co_mV = d.getInt(\"co_mV\");\n        no2_mV = d.getInt(\"no2_mV\");\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n\n    getNewLocation();\n}\n\npublic void getTime() {\n\n    Calendar cal = Calendar.getInstance();\n    currentTime = new SimpleDateFormat(\"HH:mm:ss\").format(cal.getTime());\n\n}\n\npublic void getNewLocation() {\n    mLocationRequest = new LocationRequest();\n    mLocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n    if (ContextCompat.checkSelfPermission(this,\n            Manifest.permission.ACCESS_FINE_LOCATION)\n            == PackageManager.PERMISSION_GRANTED) {\n        LocationServices.FusedLocationApi.requestLocationUpdates(mGoogleApiClient, mLocationRequest, this);\n    }\n\n}\n\n@Override\npublic void onConnectionSuspended(int i) {\n\n}\n\n@Override\npublic void onLocationChanged(Location location) {\n\n    if (markerArrayList.size()&gt;1) {\n        if(location.distanceTo(mLastLocation) &lt; 30) {\n            markerArrayList.get(markerArrayList.size()-1).remove();\n            markerArrayList.remove(markerArrayList.size()-1);\n            Toast.makeText(\n                    getApplicationContext(),\n                    \"Reading to close to last reading, replaces last reading\", Toast.LENGTH_SHORT).show();\n        }\n    }\n\n\n    if (markerArrayList.size() == 8) {\n        markerArrayList.get(0).remove();\n        markerArrayList.remove(0);\n    }\n\n    //Place current location marker\n    LatLng latLng = new LatLng(location.getLatitude(), location.getLongitude());\n\n    if (!initiateApp) {\n        MarkerOptions markerOptions = new MarkerOptions();\n        markerOptions.position(latLng);\n        markerOptions.title(\"Time of reading: \" + currentTime);\n        markerOptions.snippet(\"co: \" + String.valueOf(co_mV) + \" mV, \" + \"no2: \" + String.valueOf(no2_mV) + \" mV\");\n        markerOptions.icon(BitmapDescriptorFactory.defaultMarker(BitmapDescriptorFactory.HUE_MAGENTA));\n        mCurrLocationMarker = mMap.addMarker(markerOptions);\n        markerArrayList.add(mCurrLocationMarker);\n\n    }\n\n    mLastLocation = location;\n\n\n    Log.d(\"ADebugTag\", \"Value: \" + Double.toString(location.getLatitude()));\n    Log.d(\"ADebugTag\", \"Value: \" + Double.toString(location.getLongitude()));\n\n\n    //move map camera\n\n    if(initiateApp){\n        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(latLng, 15));\n    }\n\n    boolean contains = mMap.getProjection()\n            .getVisibleRegion()\n            .latLngBounds\n            .contains(latLng);\n\n    if(!contains){\n        mMap.moveCamera(CameraUpdateFactory.newLatLng(latLng));\n    }\n\n    initiateApp = false;\n}\n\n@Override\npublic void onConnectionFailed(ConnectionResult connectionResult) {\n\n}\n\npublic static final int MY_PERMISSIONS_REQUEST_LOCATION = 99;\npublic boolean checkLocationPermission(){\n    if (ContextCompat.checkSelfPermission(this,\n            Manifest.permission.ACCESS_FINE_LOCATION)\n            != PackageManager.PERMISSION_GRANTED) {\n\n        // Asking user if explanation is needed\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                Manifest.permission.ACCESS_FINE_LOCATION)) {\n\n            // Show an explanation to the user *asynchronously* -- don't block\n            // this thread waiting for the user's response! After the user\n            // sees the explanation, try again to request the permission.\n\n            //Prompt the user once explanation has been shown\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\n                    MY_PERMISSIONS_REQUEST_LOCATION);\n\n\n        } else {\n            // No explanation needed, we can request the permission.\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\n                    MY_PERMISSIONS_REQUEST_LOCATION);\n        }\n        return false;\n    } else {\n        return true;\n    }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode,\n                                       String permissions[], int[] grantResults) {\n    switch (requestCode) {\n        case MY_PERMISSIONS_REQUEST_LOCATION: {\n            // If request is cancelled, the result arrays are empty.\n            if (grantResults.length &gt; 0\n                    &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n\n                // permission was granted. Do the\n                // contacts-related task you need to do.\n                if (ContextCompat.checkSelfPermission(this,\n                        Manifest.permission.ACCESS_FINE_LOCATION)\n                        == PackageManager.PERMISSION_GRANTED) {\n\n                    if (mGoogleApiClient == null) {\n                        buildGoogleApiClient();\n                    }\n                    mMap.setMyLocationEnabled(true);\n                }\n\n            } else {\n\n                // Permission denied, Disable the functionality that depends on this permission.\n                Toast.makeText(this, \"permission denied\", Toast.LENGTH_LONG).show();\n            }\n            return;\n        }\n\n        // other 'case' lines to check for other permissions this app might request.\n        // You can add here other case statements according to your requirement.\n    }\n}\n\nublic JSONObject getNewJSON(JSONObject json) {\n    try {\n\n        int humidity = json.getInt(\"humidity_ppm\");\n        int pressure = json.getInt(\"pressure_Pa\");\n        int noise = json.getInt(\"noise_dB\");\n        double lat = mLastLocation.getLatitude();\n        double lng = mLastLocation.getLongitude();\n        long time = System.currentTimeMillis() / 1000L;\n\n       JSONObject c = new JSONObject();\n        c.put(\"time\",time);\n        c.put(\"lat\",lat);\n        c.put(\"long\",lng);\n        c.put(\"humidity\",humidity);\n        c.put(\"pressure\",pressure);\n        c.put(\"noise_dB\",noise);\n        return c;\n\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n\nreturn null;\n}\n\n\npublic class ConnectTask extends AsyncTask&lt;String, String, TcpClient&gt; {\n\n    @Override\n    protected TcpClient doInBackground(String... message) {\n\n        //we create a TCPClient object\n        mTcpClient = new TcpClient(new TcpClient.OnMessageReceived() {\n            @Override\n            //here the messageReceived method is implemented\n            public void messageReceived(String message) {\n                //this method calls the onProgressUpdate\n                publishProgress(message);\n            }\n        });\n        mTcpClient.run();\n\n        return null;\n    }\n\n    @Override\n    protected void onProgressUpdate(String... values) {\n        super.onProgressUpdate(values);\n\n\n        try {\n            JSONObject parser = new JSONObject(values[0]);\n            JSONObject d = parser.getJSONObject(\"d\");\n            JSONObject cloudData = getNewJSON(d);\n\n            if (mLastLocation != null) {\n                newData(d);\n                getTime();\n            }\n\n            System.out.println(cloudData);\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n        //process server response here....\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","microsoft-graph-api","onedrive"],"comments":[{"owner":{"account_id":15362633,"reputation":690,"user_id":11083034,"display_name":"Diana"},"score":0,"creation_date":1639997192,"post_id":70202888,"comment_id":124482000,"body_markdown":"Would you try pasting the token into https://jwt.ms/ to decode it and inspect the claims?","body":"Would you try pasting the token into <a href=\"https://jwt.ms/\" rel=\"nofollow noreferrer\">jwt.ms</a> to decode it and inspect the claims?"}],"owner":{"account_id":22940076,"reputation":11,"user_id":17072988,"display_name":"MakarenkoVlad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638461455,"creation_date":1638461455,"question_id":70202888,"body_markdown":"I have successfully implemented login for personal account. Now I&#39;m implementing login for business account and stuck with that error. IOS developer recommended me to use that scopes: \r\n\r\n    arrayOf(\r\n        &quot;api://&lt;client-id&gt;/Sites.ReadWrite.All&quot;,\r\n        &quot;api://&lt;client-id&gt;/Directory.ReadWrite.All&quot;,\r\n        &quot;api://&lt;client-id&gt;/Files.ReadWrite.All&quot;,\r\n    )\r\n\r\nWhich are working successfully for him but they are producing the following error for me: \r\n\r\n    com.microsoft.graph.http.GraphServiceException: Error code: InvalidAuthenticationToken\r\n        Error message: Invalid x5t claim.","title":"MicrosoftGraphSdk for Java, InvalidAuthenticationToken, Invalid x5t claim","body":"<p>I have successfully implemented login for personal account. Now I'm implementing login for business account and stuck with that error. IOS developer recommended me to use that scopes:</p>\n<pre><code>arrayOf(\n    &quot;api://&lt;client-id&gt;/Sites.ReadWrite.All&quot;,\n    &quot;api://&lt;client-id&gt;/Directory.ReadWrite.All&quot;,\n    &quot;api://&lt;client-id&gt;/Files.ReadWrite.All&quot;,\n)\n</code></pre>\n<p>Which are working successfully for him but they are producing the following error for me:</p>\n<pre><code>com.microsoft.graph.http.GraphServiceException: Error code: InvalidAuthenticationToken\n    Error message: Invalid x5t claim.\n</code></pre>\n"},{"tags":["java","parameter-passing","interceptor"],"comments":[{"owner":{"account_id":22039646,"reputation":1477,"user_id":16305607,"display_name":"majusebetter"},"score":0,"creation_date":1638461417,"post_id":70202756,"comment_id":124099906,"body_markdown":"No, there is no direct way. You could send something with the request, e.g. a HTTP request header. What do you want to check/pass?","body":"No, there is no direct way. You could send something with the request, e.g. a HTTP request header. What do you want to check/pass?"},{"owner":{"account_id":23526607,"reputation":1,"user_id":17573042,"display_name":"sr123"},"score":0,"creation_date":1638508620,"post_id":70202756,"comment_id":124112520,"body_markdown":"need to disable all endpoints by default, based on the confirmation from requested class we need to hit endpoints.","body":"need to disable all endpoints by default, based on the confirmation from requested class we need to hit endpoints."}],"owner":{"account_id":23526607,"reputation":1,"user_id":17573042,"display_name":"sr123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638460975,"creation_date":1638460975,"question_id":70202756,"body_markdown":"is there any way to pass parameter to the interceptor from the client/test class \r\n\r\n\r\n\r\n\r\n    @Component\r\n    public class MyInterceptor implements HandlerInterceptor {\r\n       @Override\r\n       public boolean preHandle(\r\n          HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n          \r\n          return true;\r\n       }\r\n    \r\n    }","title":"how can we pass parameters to custom interceptors preHandler method to add checks in java","body":"<p>is there any way to pass parameter to the interceptor from the client/test class</p>\n<pre><code>@Component\npublic class MyInterceptor implements HandlerInterceptor {\n   @Override\n   public boolean preHandle(\n      HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n      \n      return true;\n   }\n\n}\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","android-listview","scrollbar"],"comments":[{"owner":{"account_id":14368259,"reputation":174,"user_id":10378647,"display_name":"Atul Yadav"},"score":0,"creation_date":1638507906,"post_id":70202613,"comment_id":124112391,"body_markdown":"For that functionality you can use libraries like this\n\n[link](https://github.com/danoz73/RecyclerViewFastScroller)","body":"For that functionality you can use libraries like this  <a href=\"https://github.com/danoz73/RecyclerViewFastScroller\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":19595408,"reputation":41,"user_id":14341558,"display_name":"Clara Toubane"},"score":0,"creation_date":1638528223,"post_id":70202613,"comment_id":124118077,"body_markdown":"Should i change addOnScrollListener? If yes what should i use instead of? Using library is my second plan. If i don&#39;t have to i don&#39;t want to use them.","body":"Should i change addOnScrollListener? If yes what should i use instead of? Using library is my second plan. If i don&#39;t have to i don&#39;t want to use them."}],"owner":{"account_id":19595408,"reputation":41,"user_id":14341558,"display_name":"Clara Toubane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638460469,"creation_date":1638460469,"question_id":70202613,"body_markdown":"In my app I m using addOnScrollListener. It works perfectly. But because of my list size very long i need to add scroll bar for it. I can add scrollbar with ``` android:scrollbars=&quot;vertical&quot; ``` this code. But the scrollbar cannot be touched as you can see in the screenshot below. It can&#39;t be touched and it goes up by itself by getting smaller as you slide it down.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VHTji.jpg\r\n\r\nHow can i fix that?","title":"How to show scroll bar when using addOnScrollListener","body":"<p>In my app I m using addOnScrollListener. It works perfectly. But because of my list size very long i need to add scroll bar for it. I can add scrollbar with <code>android:scrollbars=&quot;vertical&quot;</code> this code. But the scrollbar cannot be touched as you can see in the screenshot below. It can't be touched and it goes up by itself by getting smaller as you slide it down.</p>\n<p><a href=\"https://i.stack.imgur.com/VHTji.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VHTji.jpg\" alt=\"enter image description here\" /></a></p>\n<p>How can i fix that?</p>\n"},{"tags":["java","future","completable-future"],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638361128,"creation_date":1638361128,"answer_id":70184072,"question_id":70183972,"body_markdown":"From [the JavaDoc for `exceptionally`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#exceptionally-java.util.function.Function-): &quot;*Returns a **new** CompletableFuture*...&quot;. It does not mutate the CompleteableFuture that it&#39;s called upon. \r\n\r\nYou are creating a new CompleteableFuture with new behaviour and then throwing that away, then `join`ing on the original CompleteableFuture which does not have that behaviour.\r\n\r\nIt&#39;s like saying that `String::toUpperCase` doesn&#39;t work in this example. It *does* work, but the result is thrown away.\r\n\r\n```\r\nString foo = &quot;bar&quot;;\r\nfoo.toUpperCase();\r\nassertEquals(&quot;BAR&quot;, foo);\r\n```","title":"CompletableFuture doesn&#39;t work if it saved to variable","body":"<p>From <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#exceptionally-java.util.function.Function-\" rel=\"nofollow noreferrer\">the JavaDoc for <code>exceptionally</code></a>: &quot;<em>Returns a <strong>new</strong> CompletableFuture</em>...&quot;. It does not mutate the CompleteableFuture that it's called upon.</p>\n<p>You are creating a new CompleteableFuture with new behaviour and then throwing that away, then <code>join</code>ing on the original CompleteableFuture which does not have that behaviour.</p>\n<p>It's like saying that <code>String::toUpperCase</code> doesn't work in this example. It <em>does</em> work, but the result is thrown away.</p>\n<pre><code>String foo = &quot;bar&quot;;\nfoo.toUpperCase();\nassertEquals(&quot;BAR&quot;, foo);\n</code></pre>\n"}],"owner":{"account_id":18778315,"reputation":13,"user_id":17078493,"display_name":"Денис Старакожев"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2501,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70184072,"answer_count":1,"score":1,"last_activity_date":1638460315,"creation_date":1638360685,"question_id":70183972,"body_markdown":"Why does it not work when I save the future to variable before configuration steps?\r\n    \r\n    @Test\r\n    void simple() {\r\n        CompletableFuture&lt;String&gt; future = CompletableFuture.supplyAsync(this::throwException)\r\n                .exceptionally(throwable -&gt; HANDLED);\r\n        assertEquals(HANDLED, future.join());\r\n    }\r\n\r\n    @Test\r\n    void withVar() {\r\n        CompletableFuture&lt;String&gt; future = CompletableFuture.supplyAsync(this::throwException);\r\n        future.exceptionally(throwable -&gt; HANDLED);\r\n        assertEquals(HANDLED, future.join());\r\n    }\r\n\r\n    private String throwException() {\r\n        if (true) {\r\n            throw new RuntimeException(FAIL);\r\n        }\r\n        return SUCCESS;\r\n    }\r\n\r\n`simple()` is fine, but `withVar()` doesn&#39;t work:\r\n\r\n    java.util.concurrent.CompletionException: java.lang.RuntimeException: FAIL\r\n\r\n\tat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\r\n\tat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1702)\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1692)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)`\r\n    Caused by: java.lang.RuntimeException: FAIL\r\n    \tat ru.dionisis.resttest.ComplitableFutureTest.throwException(ComplitableFutureTest.java:35)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\r\n    \t... 6 more`\r\n\r\nA similar problem was with `RestTemplateBuilder`, when I wanted make otional init one field","title":"CompletableFuture doesn&#39;t work if it saved to variable","body":"<p>Why does it not work when I save the future to variable before configuration steps?</p>\n<pre><code>@Test\nvoid simple() {\n    CompletableFuture&lt;String&gt; future = CompletableFuture.supplyAsync(this::throwException)\n            .exceptionally(throwable -&gt; HANDLED);\n    assertEquals(HANDLED, future.join());\n}\n\n@Test\nvoid withVar() {\n    CompletableFuture&lt;String&gt; future = CompletableFuture.supplyAsync(this::throwException);\n    future.exceptionally(throwable -&gt; HANDLED);\n    assertEquals(HANDLED, future.join());\n}\n\nprivate String throwException() {\n    if (true) {\n        throw new RuntimeException(FAIL);\n    }\n    return SUCCESS;\n}\n</code></pre>\n<p><code>simple()</code> is fine, but <code>withVar()</code> doesn't work:</p>\n<pre><code>java.util.concurrent.CompletionException: java.lang.RuntimeException: FAIL\n\nat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\nat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\nat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1702)\nat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1692)\nat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\nat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\nat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\nat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\nat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)`\nCaused by: java.lang.RuntimeException: FAIL\n    at ru.dionisis.resttest.ComplitableFutureTest.throwException(ComplitableFutureTest.java:35)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\n    ... 6 more`\n</code></pre>\n<p>A similar problem was with <code>RestTemplateBuilder</code>, when I wanted make otional init one field</p>\n"},{"tags":["java","keylistener","keyevent"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1638460484,"post_id":70202538,"comment_id":124099449,"body_markdown":"No, it&#39;s because you have an infinite loop with `while(true)` which is immediately entered after starting your program because at that point in time there&#39;s no key pressed.","body":"No, it&#39;s because you have an infinite loop with <code>while(true)</code> which is immediately entered after starting your program because at that point in time there&#39;s no key pressed."},{"owner":{"account_id":23131584,"reputation":1,"user_id":17236450,"display_name":"Richard"},"score":0,"creation_date":1638461559,"post_id":70202538,"comment_id":124099976,"body_markdown":"@QBrute Okay, I tried putting the &#39;while(true)&#39; check loop in a new thread. It still only outputs &quot;N&quot; again and again no matter the buttons I press","body":"@QBrute Okay, I tried putting the &#39;while(true)&#39; check loop in a new thread. It still only outputs &quot;N&quot; again and again no matter the buttons I press"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1638462519,"post_id":70202538,"comment_id":124100422,"body_markdown":"KeyEvents are only dispatch to GUI components that have focus. You can&#39;t just run a background class to intercept KeyEvents. In order to do that you need to use a lower level language that has access to the OS. Or you might be able to use jni or jna.","body":"KeyEvents are only dispatch to GUI components that have focus. You can&#39;t just run a background class to intercept KeyEvents. In order to do that you need to use a lower level language that has access to the OS. Or you might be able to use jni or jna."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1638462539,"post_id":70202538,"comment_id":124100428,"body_markdown":"Did you check that your dispatchKeyEvent is getting called?","body":"Did you check that your dispatchKeyEvent is getting called?"},{"owner":{"account_id":23131584,"reputation":1,"user_id":17236450,"display_name":"Richard"},"score":0,"creation_date":1638462697,"post_id":70202538,"comment_id":124100518,"body_markdown":"@camickr I feared as much... Thank you!","body":"@camickr I feared as much... Thank you!"}],"owner":{"account_id":23131584,"reputation":1,"user_id":17236450,"display_name":"Richard"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638460202,"creation_date":1638460202,"question_id":70202538,"body_markdown":"I&#39;m trying to make a hotkey to control some code but am struggling to access the last key that has been pressed on the keyboard.\r\n\r\nI have this setup to save the key code from the last key press:\r\n\r\n    import java.awt.KeyEventDispatcher;\r\n    import java.awt.KeyboardFocusManager;\r\n    import java.awt.event.KeyEvent;\r\n    \r\n    public class KeyLog {\r\n        private static volatile int lastKeyCode = 0;\r\n        \r\n        public static int getLastKeyCode() {\r\n        \treturn lastKeyCode;\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            KeyboardFocusManager.getCurrentKeyboardFocusManager().addKeyEventDispatcher(new KeyEventDispatcher() {\r\n    \r\n                @Override\r\n                public boolean dispatchKeyEvent(KeyEvent ke) {\r\n                    synchronized (KeyLog.class) {\r\n                        if(ke.getID() == KeyEvent.KEY_PRESSED)\r\n                        \tlastKeyCode = ke.getKeyCode();\r\n                        }\r\n                        return false;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nAnd then I check the keycode in this class:\r\n\r\n    import java.awt.event.KeyEvent;\r\n    public class Hotkey{\r\n    \t\r\n    \tpublic void check() throws InterruptedException {\r\n    \t\twhile(true) {\r\n    \t\t\tif(KeyLog.getLastKeyCode() == KeyEvent.VK_NUMPAD7){\r\n    \t\t\t\tSystem.out.println(&quot;Y&quot;);\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tSystem.out.println(&quot;N&quot;);\r\n    \t\t\t}\r\n    \t\t\tThread.sleep(500);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tHotkey hotkey = new Hotkey();\r\n    \t\thotkey.check();\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nBut no matter what I do, my console only outputs &quot;N&quot;. I think it&#39;s because lastKeyCode isn&#39;t getting updated. I tried calling KeyLog.main(null); in the main function of Hotkey but that also didn&#39;t work.\r\n","title":"Java Get the last key pressed","body":"<p>I'm trying to make a hotkey to control some code but am struggling to access the last key that has been pressed on the keyboard.</p>\n<p>I have this setup to save the key code from the last key press:</p>\n<pre><code>import java.awt.KeyEventDispatcher;\nimport java.awt.KeyboardFocusManager;\nimport java.awt.event.KeyEvent;\n\npublic class KeyLog {\n    private static volatile int lastKeyCode = 0;\n    \n    public static int getLastKeyCode() {\n        return lastKeyCode;\n    }\n    \n    public static void main(String[] args) {\n        KeyboardFocusManager.getCurrentKeyboardFocusManager().addKeyEventDispatcher(new KeyEventDispatcher() {\n\n            @Override\n            public boolean dispatchKeyEvent(KeyEvent ke) {\n                synchronized (KeyLog.class) {\n                    if(ke.getID() == KeyEvent.KEY_PRESSED)\n                        lastKeyCode = ke.getKeyCode();\n                    }\n                    return false;\n            }\n        });\n    }\n}\n</code></pre>\n<p>And then I check the keycode in this class:</p>\n<pre><code>import java.awt.event.KeyEvent;\npublic class Hotkey{\n    \n    public void check() throws InterruptedException {\n        while(true) {\n            if(KeyLog.getLastKeyCode() == KeyEvent.VK_NUMPAD7){\n                System.out.println(&quot;Y&quot;);\n            }\n            else {\n                System.out.println(&quot;N&quot;);\n            }\n            Thread.sleep(500);\n        }\n    }\n    \n    public static void main(String[] args) throws Exception {\n        Hotkey hotkey = new Hotkey();\n        hotkey.check();\n    }\n}\n</code></pre>\n<p>But no matter what I do, my console only outputs &quot;N&quot;. I think it's because lastKeyCode isn't getting updated. I tried calling KeyLog.main(null); in the main function of Hotkey but that also didn't work.</p>\n"},{"tags":["java","android","arrays","hashmap"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1638453854,"post_id":70200842,"comment_id":124096112,"body_markdown":"using an intermediate class here is going to give you a lot more flexibility in future. if you were to add or remove fields in future, it would be a lot less painful","body":"using an intermediate class here is going to give you a lot more flexibility in future. if you were to add or remove fields in future, it would be a lot less painful"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1638460126,"post_id":70200842,"comment_id":124099274,"body_markdown":"Why wouldn&#39;t you want to make a class that represents a literal software entity? That&#39;s what they&#39;re there for","body":"Why wouldn&#39;t you want to make a class that represents a literal software entity? That&#39;s what they&#39;re there for"}],"answers":[{"tags":[],"owner":{"account_id":8904821,"reputation":324,"user_id":6647053,"display_name":"Zachary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638460109,"creation_date":1638459756,"answer_id":70202410,"question_id":70200842,"body_markdown":"I suppose you could do something like `List&lt;Map&lt;String, Object&gt;&gt;` where the list is a collection of Maps that take place of a new class objects. For example, your key value pairs might looks like `{ &quot;Name&quot; : &quot;CellName&quot;, &quot;x&quot; : 1, &quot;y&quot; : 2, &quot;View&quot; : viewObj}`\r\n\r\nFrom there, you could use a stream and the resulting map to select your view:\r\n\r\n    List&lt;HashMap&lt;String, Object&gt; list = ...\r\n\r\n    //By name\r\n\tHashMap&lt;String, Object&gt; selectedMap = list.stream()\r\n\t\t\t.filter(m -&gt; m.get(&quot;Name&quot;).equals(&quot;SomeName&quot;))\r\n\t\t\t.findFirst()\r\n\t\t\t.orElse(null);\r\n\r\n    //Or by point\r\n    HashMap&lt;String, Object&gt; selectedMap = list.stream()\r\n\t\t\t.filter(m -&gt; m.get(&quot;x&quot;) == 1 &amp;&amp; m.get(&quot;y&quot;) == 2)\r\n\t\t\t.findFirst()\r\n\t\t\t.orElse(null);\r\n\r\n\tView view = (View) selectedMapBy.get(&quot;View&quot;);\r\n\r\nAt that point though, it may be easier to do something like `List&lt;CustomClass&gt;` instead so that you don&#39;t have to deal with keys and &#39;Object&#39; types:\r\n\r\n    List&lt;CellDefinition&gt; list = ...\r\n    CellDefinition cell = list.stream()\r\n        .filter(c -&gt; c.getName().equals(&quot;SomeName&quot;))\r\n        .findFirst()\r\n        .orElse(null);\r\n\r\n    View view = cell.getView();","title":"best approach to store (int xIndex, int yIndex, View view, String cellName)","body":"<p>I suppose you could do something like <code>List&lt;Map&lt;String, Object&gt;&gt;</code> where the list is a collection of Maps that take place of a new class objects. For example, your key value pairs might looks like <code>{ &quot;Name&quot; : &quot;CellName&quot;, &quot;x&quot; : 1, &quot;y&quot; : 2, &quot;View&quot; : viewObj}</code></p>\n<p>From there, you could use a stream and the resulting map to select your view:</p>\n<pre><code>List&lt;HashMap&lt;String, Object&gt; list = ...\n\n//By name\nHashMap&lt;String, Object&gt; selectedMap = list.stream()\n        .filter(m -&gt; m.get(&quot;Name&quot;).equals(&quot;SomeName&quot;))\n        .findFirst()\n        .orElse(null);\n\n//Or by point\nHashMap&lt;String, Object&gt; selectedMap = list.stream()\n        .filter(m -&gt; m.get(&quot;x&quot;) == 1 &amp;&amp; m.get(&quot;y&quot;) == 2)\n        .findFirst()\n        .orElse(null);\n\nView view = (View) selectedMapBy.get(&quot;View&quot;);\n</code></pre>\n<p>At that point though, it may be easier to do something like <code>List&lt;CustomClass&gt;</code> instead so that you don't have to deal with keys and 'Object' types:</p>\n<pre><code>List&lt;CellDefinition&gt; list = ...\nCellDefinition cell = list.stream()\n    .filter(c -&gt; c.getName().equals(&quot;SomeName&quot;))\n    .findFirst()\n    .orElse(null);\n\nView view = cell.getView();\n</code></pre>\n"}],"owner":{"account_id":16711831,"reputation":79,"user_id":12078908,"display_name":"pnet_fabric"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638460109,"creation_date":1638453631,"question_id":70200842,"body_markdown":"I&#39;m working on small Android library and for specific reason I need to store a structure like this \r\n(\r\n\r\n - int xIndex - a x index of a view in a table-like structure\r\n - int yIndex - a y index of a view in a table-like structure\r\n - View view - the view itself\r\n - String cellName - this is a name of a cell with coordinates x, y in a table-like structure\r\n\r\nso I can later address the stored View either by (xIndex,yIndex) or by it&#39;s cellName in the following manner:\r\n\r\n    View view = manager.getCell(xIndex, yIndex);\r\n    //or \r\n    View view = manager.getByName(cellName);\r\n\r\nI actually want this implementation to be as simple as possible, so any ideas on what kind of Map or something similar I can use to be able to address objects there either by a pair of integers or by a String? I don&#39;t want to create an intermediate class like following\r\n\r\n`CellDefinition(int x, int y, String cellName)` \r\n\r\nso later it can be done like this Map&lt;CellDefinition, View&gt; rather I would need something like \r\n`Object&lt;Integer[2], String, View&gt;` \r\n\r\nso I can later address it by \r\n`new[]{x,y}` or by String `&quot;cellName&quot;`\r\nand retrieve the View object by these indexes.\r\n\r\nAny ideas are welcome","title":"best approach to store (int xIndex, int yIndex, View view, String cellName)","body":"<p>I'm working on small Android library and for specific reason I need to store a structure like this\n(</p>\n<ul>\n<li>int xIndex - a x index of a view in a table-like structure</li>\n<li>int yIndex - a y index of a view in a table-like structure</li>\n<li>View view - the view itself</li>\n<li>String cellName - this is a name of a cell with coordinates x, y in a table-like structure</li>\n</ul>\n<p>so I can later address the stored View either by (xIndex,yIndex) or by it's cellName in the following manner:</p>\n<pre><code>View view = manager.getCell(xIndex, yIndex);\n//or \nView view = manager.getByName(cellName);\n</code></pre>\n<p>I actually want this implementation to be as simple as possible, so any ideas on what kind of Map or something similar I can use to be able to address objects there either by a pair of integers or by a String? I don't want to create an intermediate class like following</p>\n<p><code>CellDefinition(int x, int y, String cellName)</code></p>\n<p>so later it can be done like this Map&lt;CellDefinition, View&gt; rather I would need something like\n<code>Object&lt;Integer[2], String, View&gt;</code></p>\n<p>so I can later address it by\n<code>new[]{x,y}</code> or by String <code>&quot;cellName&quot;</code>\nand retrieve the View object by these indexes.</p>\n<p>Any ideas are welcome</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638454282,"post_id":70200700,"comment_id":124096365,"body_markdown":"Well the documentation explains quite well how to do that. See https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config","body":"Well the documentation explains quite well how to do that. See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"score":0,"creation_date":1638460004,"post_id":70200700,"comment_id":124099209,"body_markdown":"@M.Deinum Thansk, but the documentation shows more how to load different property files or to reload them, but I want to override a property on the fly. Just added more information in my question, maybe this makes it clearer.","body":"@M.Deinum Thansk, but the documentation shows more how to load different property files or to reload them, but I want to override a property on the fly. Just added more information in my question, maybe this makes it clearer."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1638462411,"post_id":70200700,"comment_id":124100371,"body_markdown":"You cannot, as the bean is a singleton and initialized at startup. Changing it on the fly would change it for everyone. You stated runtime not on the fly in your question.","body":"You cannot, as the bean is a singleton and initialized at startup. Changing it on the fly would change it for everyone. You stated runtime not on the fly in your question."},{"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"score":0,"creation_date":1638879077,"post_id":70200700,"comment_id":124199838,"body_markdown":"@M.Deinmum Do you know how I can achieve it to load these settings from my own property file and with my own prefix? I saw that the MailProperties class handles this  is it possible to extend this class so that a different prefx will be used. Then I need to &quot;tell&quot; springboot  to use my extended MailProperties. Any adivce? thanks","body":"@M.Deinmum Do you know how I can achieve it to load these settings from my own property file and with my own prefix? I saw that the MailProperties class handles this  is it possible to extend this class so that a different prefx will be used. Then I need to &quot;tell&quot; springboot  to use my extended MailProperties. Any adivce? thanks"},{"owner":{"account_id":393656,"reputation":8442,"user_id":755637,"accept_rate":35,"display_name":"V H"},"score":0,"creation_date":1679860807,"post_id":70200700,"comment_id":133792413,"body_markdown":"https://gist.github.com/vahidhedayati/69f61e99e5e1bc03f92b8cf263ef6f8a Take a look here I found a hackish way of changing config on the fly, as a configuration file coniguration is picked up when app is started","body":"<a href=\"https://gist.github.com/vahidhedayati/69f61e99e5e1bc03f92b8cf263ef6f8a\" rel=\"nofollow noreferrer\">gist.github.com/vahidhedayati/69f61e99e5e1bc03f92b8cf263ef6f&zwnj;&#8203;8a</a> Take a look here I found a hackish way of changing config on the fly, as a configuration file coniguration is picked up when app is started"}],"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638459897,"creation_date":1638453132,"question_id":70200700,"body_markdown":"I have a spring boot application which sends emails depending on some configuration given by the user.\r\nTherefore I have defined the host and the port of the default smtp server in my `application.properies`\r\n\r\n```\r\nspring.mail.host=127.0.0.1\r\nspring.mail.port=1025\r\nspring.mail.properties.mail.smtp.connectiontimeout=15000\r\nspring.mail.properties.mail.smtp.timeout=13000\r\nspring.mail.properties.mail.smtp.writetimeout=15000\r\n```\r\n \r\nActually I am sending like this\r\n\r\n```\r\n@Service(&quot;EmailService&quot;)\r\npublic class EmailServiceImpl implements IEmailService {\r\n    private JavaMailSender mailSender;\r\n public EmailServiceImpl(JavaMailSender emailSender) {\r\n        this.mailSender = emailSender;\r\n    }\r\n\r\npublic boolean sendWithAttachment(IMailConfig aMailConfig, MimeMessageHelper aMimeMessageHelper) {\r\n        try {\r\n            LOG.debug(&quot;sending email with attachment&quot;);\r\n            String[] toReceivers = aMailConfig.getReceiver().stream()\r\n                .map(n -&gt; n.getReceiver())\r\n                .toArray(String[]::new);\r\n\r\n            aMimeMessageHelper.setTo(toReceivers);\r\n            aMimeMessageHelper.setSubject(aMailConfig.getSubject().getSubject());\r\n            aMimeMessageHelper.setText(aMailConfig.getMessage().getText(), aMailConfig.getMessage().isHtml());\r\n            aMimeMessageHelper.setFrom(aMailConfig.getFrom().getReceiver());\r\n\r\n            aMimeMessageHelper.addAttachment(aMailConfig.getInstancePdf().getName(), aMailConfig.getInstancePdf().getPdfPath().toFile());\r\n            mailSender.send(aMimeMessageHelper.getMimeMessage());\r\n            \r\n            LOG.debug(&quot;email sent&quot;);\r\n            return true;\r\n\r\n        } catch (MessagingException e) {\r\n            LOG.error(&quot;error while sending email, error with the mime message {0}&quot;, e);\r\n\r\n        } catch (Exception e1) {\r\n            LOG.error(&quot;error while sending email: {0}&quot;, e1);\r\n        }\r\n\r\n\r\n        return false;\r\n    }\r\n\r\n```\r\n\r\nNow I want to allow that this will be overriden by the customer during runtime. So how can I achieve this. Currently I have already the information for from the customer e.g. \r\n\r\nNew mailserver should be `foobar.for.testing` and the port `25`, is there a way to set the host and the port of JavaMailSender? Something like this\r\n\r\n```\r\nJavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n  mailSender.setUsername(emailUsername);\r\n  mailSender.setPassword(emailPassword);\r\n  mailSender.setHost(emailHost);\r\n  mailSender.setDefaultEncoding(&quot;UTF-8&quot;);\r\n\r\n```","title":"How to override spring.mail properties in spring boot application during runtime?","body":"<p>I have a spring boot application which sends emails depending on some configuration given by the user.\nTherefore I have defined the host and the port of the default smtp server in my <code>application.properies</code></p>\n<pre><code>spring.mail.host=127.0.0.1\nspring.mail.port=1025\nspring.mail.properties.mail.smtp.connectiontimeout=15000\nspring.mail.properties.mail.smtp.timeout=13000\nspring.mail.properties.mail.smtp.writetimeout=15000\n</code></pre>\n<p>Actually I am sending like this</p>\n<pre><code>@Service(&quot;EmailService&quot;)\npublic class EmailServiceImpl implements IEmailService {\n    private JavaMailSender mailSender;\n public EmailServiceImpl(JavaMailSender emailSender) {\n        this.mailSender = emailSender;\n    }\n\npublic boolean sendWithAttachment(IMailConfig aMailConfig, MimeMessageHelper aMimeMessageHelper) {\n        try {\n            LOG.debug(&quot;sending email with attachment&quot;);\n            String[] toReceivers = aMailConfig.getReceiver().stream()\n                .map(n -&gt; n.getReceiver())\n                .toArray(String[]::new);\n\n            aMimeMessageHelper.setTo(toReceivers);\n            aMimeMessageHelper.setSubject(aMailConfig.getSubject().getSubject());\n            aMimeMessageHelper.setText(aMailConfig.getMessage().getText(), aMailConfig.getMessage().isHtml());\n            aMimeMessageHelper.setFrom(aMailConfig.getFrom().getReceiver());\n\n            aMimeMessageHelper.addAttachment(aMailConfig.getInstancePdf().getName(), aMailConfig.getInstancePdf().getPdfPath().toFile());\n            mailSender.send(aMimeMessageHelper.getMimeMessage());\n            \n            LOG.debug(&quot;email sent&quot;);\n            return true;\n\n        } catch (MessagingException e) {\n            LOG.error(&quot;error while sending email, error with the mime message {0}&quot;, e);\n\n        } catch (Exception e1) {\n            LOG.error(&quot;error while sending email: {0}&quot;, e1);\n        }\n\n\n        return false;\n    }\n\n</code></pre>\n<p>Now I want to allow that this will be overriden by the customer during runtime. So how can I achieve this. Currently I have already the information for from the customer e.g.</p>\n<p>New mailserver should be <code>foobar.for.testing</code> and the port <code>25</code>, is there a way to set the host and the port of JavaMailSender? Something like this</p>\n<pre><code>JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\n  mailSender.setUsername(emailUsername);\n  mailSender.setPassword(emailPassword);\n  mailSender.setHost(emailHost);\n  mailSender.setDefaultEncoding(&quot;UTF-8&quot;);\n\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":4949898,"reputation":22891,"user_id":3984221,"accept_rate":60,"display_name":"S-Man"},"score":0,"creation_date":1565681926,"post_id":57473133,"comment_id":101418540,"body_markdown":"I am not sure about the Hibernate message, how you can bound an array. But from Postgres view: `:skills` seems to be an array. So you are trying to do `array = ANY(array)`. This is not supported. Maybe you could try the &amp;&amp; operator: `:skills &amp;&amp; skills`. This operator gives true, if both arrays overlap (share at least one element)","body":"I am not sure about the Hibernate message, how you can bound an array. But from Postgres view: <code>:skills</code> seems to be an array. So you are trying to do <code>array = ANY(array)</code>. This is not supported. Maybe you could try the &amp;&amp; operator: <code>:skills &amp;&amp; skills</code>. This operator gives true, if both arrays overlap (share at least one element)"},{"owner":{"account_id":2969953,"reputation":937,"user_id":2593979,"display_name":"Ima Vafaei"},"score":0,"creation_date":1565682610,"post_id":57473133,"comment_id":101418817,"body_markdown":"@S-Man I&#39;ve tried that and got &#39;&#39;Caused by: org.postgresql.util.PSQLException: ERROR: operator does not exist: bytea &amp;&amp; text[]\n  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.&#39;&#39;","body":"@S-Man I&#39;ve tried that and got &#39;&#39;Caused by: org.postgresql.util.PSQLException: ERROR: operator does not exist: bytea &amp;&amp; text[]   Hint: No operator matches the given name and argument types. You might need to add explicit type casts.&#39;&#39;"},{"owner":{"account_id":4949898,"reputation":22891,"user_id":3984221,"accept_rate":60,"display_name":"S-Man"},"score":0,"creation_date":1565683012,"post_id":57473133,"comment_id":101419013,"body_markdown":"So it seems that `:skills`is of type bytea. I am not too deep into Hibernate but it seems that Hibernate does not support array types. Maybe this helps? https://vladmihalcea.com/how-to-map-java-and-sql-arrays-with-jpa-and-hibernate/","body":"So it seems that <code>:skills</code>is of type bytea. I am not too deep into Hibernate but it seems that Hibernate does not support array types. Maybe this helps? <a href=\"https://vladmihalcea.com/how-to-map-java-and-sql-arrays-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1565683785,"post_id":57473133,"comment_id":101419348,"body_markdown":"@S-Man is the type of skills in your table? can yous show us both entity and table schema please","body":"@S-Man is the type of skills in your table? can yous show us both entity and table schema please"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1565684332,"post_id":57473133,"comment_id":101419616,"body_markdown":"If `skills` contains binary data (which is what `bytea` means), then why would you search for text strings in that column?","body":"If <code>skills</code> contains binary data (which is what <code>bytea</code> means), then why would you search for text strings in that column?"},{"owner":{"account_id":2969953,"reputation":937,"user_id":2593979,"display_name":"Ima Vafaei"},"score":0,"creation_date":1565696970,"post_id":57473133,"comment_id":101426060,"body_markdown":"@a_horse_with_no_name  Skills is text[] in postgresql","body":"@a_horse_with_no_name  Skills is text[] in postgresql"},{"owner":{"account_id":4949898,"reputation":22891,"user_id":3984221,"accept_rate":60,"display_name":"S-Man"},"score":0,"creation_date":1565701508,"post_id":57473133,"comment_id":101428383,"body_markdown":"As decribed above, I believe this is an issue with arrays and Hibernate. Did you read the linked article?","body":"As decribed above, I believe this is an issue with arrays and Hibernate. Did you read the linked article?"},{"owner":{"account_id":4946371,"reputation":110,"user_id":3981611,"display_name":"i v s narayana"},"score":0,"creation_date":1612337554,"post_id":57473133,"comment_id":116731703,"body_markdown":"Please refer my answer in the below post https://stackoverflow.com/questions/24695264/how-to-filter-postgres-array-column-with-the-jpa-criteria-api/66022992#66022992","body":"Please refer my answer in the below post <a href=\"https://stackoverflow.com/questions/24695264/how-to-filter-postgres-array-column-with-the-jpa-criteria-api/66022992#66022992\" title=\"how to filter postgres array column with the jpa criteria api\">stackoverflow.com/questions/24695264/&hellip;</a>"},{"owner":{"account_id":4946371,"reputation":110,"user_id":3981611,"display_name":"i v s narayana"},"score":0,"creation_date":1612337749,"post_id":57473133,"comment_id":116731793,"body_markdown":"Please refer my answer in the below post https://stackoverflow.com/questions/24695264/how-to-filter-postgres-array-column-with-the-jpa-criteria-api/66022992#66022992","body":"Please refer my answer in the below post <a href=\"https://stackoverflow.com/questions/24695264/how-to-filter-postgres-array-column-with-the-jpa-criteria-api/66022992#66022992\" title=\"how to filter postgres array column with the jpa criteria api\">stackoverflow.com/questions/24695264/&hellip;</a>"},{"owner":{"account_id":4946371,"reputation":110,"user_id":3981611,"display_name":"i v s narayana"},"score":0,"creation_date":1612337913,"post_id":57473133,"comment_id":116731871,"body_markdown":"Please refer my comment in the below post https://stackoverflow.com/questions/24695264/how-to-filter-postgres-array-column-with-the-jpa-criteria-api/66022992#66022992","body":"Please refer my comment in the below post <a href=\"https://stackoverflow.com/questions/24695264/how-to-filter-postgres-array-column-with-the-jpa-criteria-api/66022992#66022992\" title=\"how to filter postgres array column with the jpa criteria api\">stackoverflow.com/questions/24695264/&hellip;</a>"},{"owner":{"account_id":4946371,"reputation":110,"user_id":3981611,"display_name":"i v s narayana"},"score":0,"creation_date":1612338096,"post_id":57473133,"comment_id":116731932,"body_markdown":"Please refer my post in the blow one https://stackoverflow.com/a/66022992/3981611","body":"Please refer my post in the blow one <a href=\"https://stackoverflow.com/a/66022992/3981611\">stackoverflow.com/a/66022992/3981611</a>"}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565682831,"creation_date":1565682831,"answer_id":57473405,"question_id":57473133,"body_markdown":"The syntax of `Any` should be :\r\n\r\n    WHERE skills = ANY(:skills)\r\n\r\nFor more details take a look at [**9.20.4. ANY/SOME**][1]\r\n\r\n&gt; expression operator ANY (array expression)\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/9.1/functions-subquery.html","title":"JPA - how to find a string list in a postgres text array","body":"<p>The syntax of <code>Any</code> should be :</p>\n\n<pre><code>WHERE skills = ANY(:skills)\n</code></pre>\n\n<p>For more details take a look at <a href=\"https://www.postgresql.org/docs/9.1/functions-subquery.html\" rel=\"nofollow noreferrer\"><strong>9.20.4. ANY/SOME</strong></a></p>\n\n<blockquote>\n  <p>expression operator ANY (array expression)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4751155,"reputation":4879,"user_id":3841161,"display_name":"coladict"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565684489,"creation_date":1565684489,"answer_id":57473792,"question_id":57473133,"body_markdown":"Well firstly there&#39;s the use of a wrong operator. I believe what you&#39;re looking for is overlap between the two? The operator would be `&amp;&amp;`, making this the where clause:\r\n\r\n    WHERE skills &amp;&amp; :skills\r\n\r\nIf you want the table field to contain all the elements from the parameter, then use the `@&gt;` operator, as shown [in the docs](https://www.postgresql.org/docs/9.5/functions-array.html)\r\n\r\n    WHERE skills @&gt; :skills\r\n\r\nNow all that remains is the data type. For strings, numbers and dates, you can just add [my library](https://mvnrepository.com/artifact/com.mopano/hibernate-array-contributor) to your project and it will work directly. There are types for which it won&#39;t work, like `UUID`, but I haven&#39;t done extensive enough testing for others.","title":"JPA - how to find a string list in a postgres text array","body":"<p>Well firstly there's the use of a wrong operator. I believe what you're looking for is overlap between the two? The operator would be <code>&amp;&amp;</code>, making this the where clause:</p>\n\n<pre><code>WHERE skills &amp;&amp; :skills\n</code></pre>\n\n<p>If you want the table field to contain all the elements from the parameter, then use the <code>@&gt;</code> operator, as shown <a href=\"https://www.postgresql.org/docs/9.5/functions-array.html\" rel=\"nofollow noreferrer\">in the docs</a></p>\n\n<pre><code>WHERE skills @&gt; :skills\n</code></pre>\n\n<p>Now all that remains is the data type. For strings, numbers and dates, you can just add <a href=\"https://mvnrepository.com/artifact/com.mopano/hibernate-array-contributor\" rel=\"nofollow noreferrer\">my library</a> to your project and it will work directly. There are types for which it won't work, like <code>UUID</code>, but I haven't done extensive enough testing for others.</p>\n"},{"tags":[],"owner":{"account_id":6878472,"reputation":67,"user_id":5286099,"display_name":"Chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638459839,"creation_date":1638361734,"answer_id":70184215,"question_id":57473133,"body_markdown":"```\r\nwhere array_position(skills, :skills) &gt; 0\r\n```\r\n\r\nit could be also your db mapping to entity problem,\r\n\r\ntest with @Transit for entity property","title":"JPA - how to find a string list in a postgres text array","body":"<pre><code>where array_position(skills, :skills) &gt; 0\n</code></pre>\n<p>it could be also your db mapping to entity problem,</p>\n<p>test with @Transit for entity property</p>\n"}],"owner":{"account_id":2969953,"reputation":937,"user_id":2593979,"display_name":"Ima Vafaei"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4019,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1638459839,"creation_date":1565681684,"question_id":57473133,"body_markdown":"I have a text array and crud operations are working well. Now, I would like to find a list of string using a native query. I&#39;ve tried the following solution\r\n\r\n    @Query(nativeQuery = true, value= &quot;select * from biz_db.biz_user where :skills=ANY(skills) and &quot; +\r\n            &quot;expert=1 and enabled=1 and &quot; +\r\n            &quot;verified=1 order by creation_date desc limit 3&quot;)\r\n    List&lt;User&gt; findAllExpertsBySkills(@Param(&quot;skills&quot;) String[] skills);\r\n\r\nWhich I get \r\n\r\n    Caused by: org.hibernate.QueryException: Named parameter not bound : skills\r\n\r\nAny help appreciated.\r\n\r\nhere is the skills in User class\r\n\r\n    @Type( type = &quot;string-array&quot; )\r\n\t@Column(\r\n\t\t\tname = &quot;skills&quot;,\r\n\t\t\tcolumnDefinition = &quot;text[]&quot;\r\n\t)\r\n\tprivate String[] skills;\r\n\r\n\r\nAnd in the table is defined\r\n\r\n    skills text[] NULL,\r\n\r\n","title":"JPA - how to find a string list in a postgres text array","body":"<p>I have a text array and crud operations are working well. Now, I would like to find a list of string using a native query. I've tried the following solution</p>\n\n<pre><code>@Query(nativeQuery = true, value= \"select * from biz_db.biz_user where :skills=ANY(skills) and \" +\n        \"expert=1 and enabled=1 and \" +\n        \"verified=1 order by creation_date desc limit 3\")\nList&lt;User&gt; findAllExpertsBySkills(@Param(\"skills\") String[] skills);\n</code></pre>\n\n<p>Which I get </p>\n\n<pre><code>Caused by: org.hibernate.QueryException: Named parameter not bound : skills\n</code></pre>\n\n<p>Any help appreciated.</p>\n\n<p>here is the skills in User class</p>\n\n<pre><code>@Type( type = \"string-array\" )\n@Column(\n        name = \"skills\",\n        columnDefinition = \"text[]\"\n)\nprivate String[] skills;\n</code></pre>\n\n<p>And in the table is defined</p>\n\n<pre><code>skills text[] NULL,\n</code></pre>\n"},{"tags":["java","string","enums"],"comments":[{"owner":{"account_id":1110325,"reputation":863,"user_id":1100913,"accept_rate":33,"display_name":"Andrey"},"score":0,"creation_date":1463326382,"post_id":4936819,"comment_id":62009317,"body_markdown":"Switch/case with strings is implemented starting from Java 7","body":"Switch/case with strings is implemented starting from Java 7"}],"answers":[{"tags":[],"owner":{"account_id":26091,"reputation":178004,"user_id":67606,"accept_rate":78,"display_name":"Pablo Santa Cruz"},"down_vote_count":21,"up_vote_count":2,"is_accepted":false,"score":-19,"last_activity_date":1297189861,"creation_date":1297189861,"answer_id":4936857,"question_id":4936819,"body_markdown":"`enum` are pretty powerful in Java. You could easily add a `contains` method to your enum (as you would add a method to a class):\r\n\r\n    enum choices {\r\n      a1, a2, b1, b2;\r\n\r\n      public boolean contains(String s)\r\n      {\r\n          if (s.equals(&quot;a1&quot;) || s.equals(&quot;a2&quot;) || s.equals(&quot;b1&quot;) || s.equals(&quot;b2&quot;)) \r\n             return true;\r\n          return false;\r\n      } \r\n\r\n    };\r\n\r\n","title":"Java: Check if enum contains a given string?","body":"<p><code>enum</code> are pretty powerful in Java. You could easily add a <code>contains</code> method to your enum (as you would add a method to a class):</p>\n\n<pre><code>enum choices {\n  a1, a2, b1, b2;\n\n  public boolean contains(String s)\n  {\n      if (s.equals(\"a1\") || s.equals(\"a2\") || s.equals(\"b1\") || s.equals(\"b2\")) \n         return true;\n      return false;\n  } \n\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":291176,"reputation":2015,"user_id":593172,"accept_rate":89,"display_name":"jluzwick"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1297190826,"creation_date":1297189949,"answer_id":4936866,"question_id":4936819,"body_markdown":"I don&#39;t think there is, but you can do something like this:\r\n\r\n    enum choices {a1, a2, b1, b2};\r\n    \r\n    public static boolean exists(choices choice) {\r\n       for(choice aChoice : choices.values()) {\r\n          if(aChoice == choice) {\r\n             return true;\r\n          }\r\n       }\r\n       return false;\r\n    }\r\n\r\nEdit:\r\n\r\nPlease see Richard&#39;s version of this as it is more appropriate as this won&#39;t work unless you convert it to use Strings, which Richards does.","title":"Java: Check if enum contains a given string?","body":"<p>I don't think there is, but you can do something like this:</p>\n\n<pre><code>enum choices {a1, a2, b1, b2};\n\npublic static boolean exists(choices choice) {\n   for(choice aChoice : choices.values()) {\n      if(aChoice == choice) {\n         return true;\n      }\n   }\n   return false;\n}\n</code></pre>\n\n<p>Edit:</p>\n\n<p>Please see Richard's version of this as it is more appropriate as this won't work unless you convert it to use Strings, which Richards does.</p>\n"},{"tags":[],"owner":{"account_id":43373,"reputation":224943,"user_id":126769,"accept_rate":94,"display_name":"nos"},"down_vote_count":4,"up_vote_count":73,"is_accepted":false,"score":69,"last_activity_date":1548146712,"creation_date":1297190011,"answer_id":4936872,"question_id":4936819,"body_markdown":"You can use `Enum.valueOf()`\r\n\r\n    enum Choices{A1, A2, B1, B2};\r\n    \r\n    public class MainClass {\r\n      public static void main(String args[]) {\r\n        Choices day;\r\n    \r\n        try {\r\n           day = Choices.valueOf(&quot;A1&quot;);\r\n           //yes\r\n        } catch (IllegalArgumentException ex) {  \r\n            //nope\r\n      }\r\n    }\r\n\r\nIf you expect the check to fail often, you might be better off using a simple loop as other have shown - if your enums contain *many* values, perhaps builda  `HashSet` or similar of your enum values converted to a string and query that `HashSet` instead.\r\n","title":"Java: Check if enum contains a given string?","body":"<p>You can use <code>Enum.valueOf()</code></p>\n\n<pre><code>enum Choices{A1, A2, B1, B2};\n\npublic class MainClass {\n  public static void main(String args[]) {\n    Choices day;\n\n    try {\n       day = Choices.valueOf(\"A1\");\n       //yes\n    } catch (IllegalArgumentException ex) {  \n        //nope\n  }\n}\n</code></pre>\n\n<p>If you expect the check to fail often, you might be better off using a simple loop as other have shown - if your enums contain <em>many</em> values, perhaps builda  <code>HashSet</code> or similar of your enum values converted to a string and query that <code>HashSet</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1297190033,"creation_date":1297190033,"answer_id":4936878,"question_id":4936819,"body_markdown":"You can use `valueOf(&quot;a1&quot;)` if you want to look up by String","title":"Java: Check if enum contains a given string?","body":"<p>You can use <code>valueOf(\"a1\")</code> if you want to look up by String</p>\n"},{"tags":[],"owner":{"account_id":61630,"reputation":38237,"user_id":183579,"accept_rate":68,"display_name":"Richard H"},"down_vote_count":3,"up_vote_count":265,"is_accepted":true,"score":262,"last_activity_date":1428615876,"creation_date":1297190104,"answer_id":4936895,"question_id":4936819,"body_markdown":"This should do it:\r\n\r\n    public static boolean contains(String test) {\r\n\t\t\r\n\t\tfor (Choice c : Choice.values()) {\r\n\t\t\tif (c.name().equals(test)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\r\nThis way means you do not have to worry about adding additional enum values later, they are all checked.\r\n\r\n&lt;b&gt;Edit:&lt;/b&gt; If the enum is very large you could stick the values in a HashSet:\r\n\r\n    public static HashSet&lt;String&gt; getEnums() {\r\n\r\n      HashSet&lt;String&gt; values = new HashSet&lt;String&gt;();\r\n\r\n      for (Choice c : Choice.values()) {\r\n          values.add(c.name());\r\n      }\r\n\r\n      return values;\r\n    }\r\n\r\nThen you can just do: `values.contains(&quot;your string&quot;)` which returns true or false.\r\n","title":"Java: Check if enum contains a given string?","body":"<p>This should do it:</p>\n\n<pre><code>public static boolean contains(String test) {\n\n    for (Choice c : Choice.values()) {\n        if (c.name().equals(test)) {\n            return true;\n        }\n    }\n\n    return false;\n}\n</code></pre>\n\n<p>This way means you do not have to worry about adding additional enum values later, they are all checked.</p>\n\n<p><b>Edit:</b> If the enum is very large you could stick the values in a HashSet:</p>\n\n<pre><code>public static HashSet&lt;String&gt; getEnums() {\n\n  HashSet&lt;String&gt; values = new HashSet&lt;String&gt;();\n\n  for (Choice c : Choice.values()) {\n      values.add(c.name());\n  }\n\n  return values;\n}\n</code></pre>\n\n<p>Then you can just do: <code>values.contains(\"your string\")</code> which returns true or false.</p>\n"},{"tags":[],"owner":{"account_id":71001,"reputation":24087,"user_id":205426,"accept_rate":60,"display_name":"Woot4Moo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1297190124,"creation_date":1297190124,"answer_id":4936902,"question_id":4936819,"body_markdown":"It is an enum, those are constant values so if its in a switch statement its just doing something like this:\r\n\r\n    case: val1\r\n    case: val2\r\n\r\nAlso why would you need to know what is declared as a constant?","title":"Java: Check if enum contains a given string?","body":"<p>It is an enum, those are constant values so if its in a switch statement its just doing something like this:</p>\n\n<pre><code>case: val1\ncase: val2\n</code></pre>\n\n<p>Also why would you need to know what is declared as a constant?</p>\n"},{"tags":[],"owner":{"account_id":1247800,"reputation":191,"user_id":1208892,"display_name":"Devashish Bansal"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1329217157,"creation_date":1329217157,"answer_id":9275694,"question_id":4936819,"body_markdown":"Even better:\r\n\r\n    enum choices {\r\n       a1, a2, b1, b2;\r\n    \r\n      public static boolean contains(String s)\r\n      {\r\n          for(choices choice:values())\r\n               if (choice.name().equals(s)) \r\n                  return true;\r\n          return false;\r\n      } \r\n    \r\n    };","title":"Java: Check if enum contains a given string?","body":"<p>Even better:</p>\n\n<pre><code>enum choices {\n   a1, a2, b1, b2;\n\n  public static boolean contains(String s)\n  {\n      for(choices choice:values())\n           if (choice.name().equals(s)) \n              return true;\n      return false;\n  } \n\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":417675,"reputation":1033,"user_id":793803,"accept_rate":73,"display_name":"Karthik V"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1394759082,"creation_date":1334566641,"answer_id":10171194,"question_id":4936819,"body_markdown":"Why not combine Pablo&#39;s reply with a valueOf()?\r\n\r\n    public enum Choices\r\n    {\r\n        a1, a2, b1, b2;\r\n        \r\n        public static boolean contains(String s) {\r\n            try {\r\n                Choices.valueOf(s);\r\n                return true;\r\n            } catch (Exception e) {\r\n                return false;\r\n            }\r\n    }","title":"Java: Check if enum contains a given string?","body":"<p>Why not combine Pablo's reply with a valueOf()?</p>\n\n<pre><code>public enum Choices\n{\n    a1, a2, b1, b2;\n\n    public static boolean contains(String s) {\n        try {\n            Choices.valueOf(s);\n            return true;\n        } catch (Exception e) {\n            return false;\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1109311,"reputation":5891,"user_id":1100081,"accept_rate":44,"display_name":"Anton"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1385546214,"creation_date":1385292880,"answer_id":20173993,"question_id":4936819,"body_markdown":"    public boolean contains(Choices value) {\r\n       return EnumSet.allOf(Choices.class).contains(value);\r\n    }","title":"Java: Check if enum contains a given string?","body":"<pre><code>public boolean contains(Choices value) {\n   return EnumSet.allOf(Choices.class).contains(value);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2078468,"reputation":2637,"user_id":1851138,"accept_rate":75,"display_name":"chaiyachaiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389626930,"creation_date":1389626930,"answer_id":21095035,"question_id":4936819,"body_markdown":"With guava it&#39;s even simpler:\r\n\r\n    boolean isPartOfMyEnum(String myString){\r\n    \r\n    return Lists.newArrayList(MyEnum.values().toString()).contains(myString);\r\n    \r\n    }","title":"Java: Check if enum contains a given string?","body":"<p>With guava it's even simpler:</p>\n\n<pre><code>boolean isPartOfMyEnum(String myString){\n\nreturn Lists.newArrayList(MyEnum.values().toString()).contains(myString);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3477389,"reputation":844,"user_id":2910265,"display_name":"user2910265"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390120245,"creation_date":1390120245,"answer_id":21214662,"question_id":4936819,"body_markdown":"This combines all of the approaches from previous methods and should have equivalent performance.  It can be used for any enum, inlines the &quot;Edit&quot; solution from @Richard H, and uses Exceptions for invalid values like @bestsss.  The only tradeoff is that the class needs to be specified, but that turns this into a two-liner.\r\n\r\n    import java.util.EnumSet;\r\n\r\n    public class HelloWorld {\r\n\r\n    static enum Choices {a1, a2, b1, b2}\r\n\r\n    public static &lt;E extends Enum&lt;E&gt;&gt; boolean contains(Class&lt;E&gt; _enumClass, String value) {\r\n        try {\r\n            return EnumSet.allOf(_enumClass).contains(Enum.valueOf(_enumClass, value));    \r\n        } catch (Exception e) {\r\n            return false; \r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        for (String value : new String[] {&quot;a1&quot;, &quot;a3&quot;, null}) {\r\n            System.out.println(contains(Choices.class, value));\r\n        }\r\n    }\r\n}","title":"Java: Check if enum contains a given string?","body":"<p>This combines all of the approaches from previous methods and should have equivalent performance.  It can be used for any enum, inlines the \"Edit\" solution from @Richard H, and uses Exceptions for invalid values like @bestsss.  The only tradeoff is that the class needs to be specified, but that turns this into a two-liner.</p>\n\n<pre><code>import java.util.EnumSet;\n\npublic class HelloWorld {\n\nstatic enum Choices {a1, a2, b1, b2}\n\npublic static &lt;E extends Enum&lt;E&gt;&gt; boolean contains(Class&lt;E&gt; _enumClass, String value) {\n    try {\n        return EnumSet.allOf(_enumClass).contains(Enum.valueOf(_enumClass, value));    \n    } catch (Exception e) {\n        return false; \n    }\n}\n\npublic static void main(String[] args) {\n    for (String value : new String[] {\"a1\", \"a3\", null}) {\n        System.out.println(contains(Choices.class, value));\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":3481527,"reputation":3234,"user_id":2913443,"display_name":"RaphC"},"down_vote_count":1,"up_vote_count":321,"is_accepted":false,"score":320,"last_activity_date":1392214267,"creation_date":1392214267,"answer_id":21730297,"question_id":4936819,"body_markdown":"Use the Apache commons lang3 lib instead\r\n\r\n     EnumUtils.isValidEnum(MyEnum.class, myValue)","title":"Java: Check if enum contains a given string?","body":"<p>Use the Apache commons lang3 lib instead</p>\n\n<pre><code> EnumUtils.isValidEnum(MyEnum.class, myValue)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3625171,"reputation":5306,"user_id":4148856,"accept_rate":11,"display_name":"greperror"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1510900654,"creation_date":1444202709,"answer_id":32986142,"question_id":4936819,"body_markdown":"You can use this\r\n\r\nYourEnum {A1, A2, B1, B2}\r\n\r\n    boolean contains(String str){ \r\n        return Sets.newHashSet(YourEnum.values()).contains(str);\r\n    }                                  \r\n\r\nUpdate suggested by @wightwulf1944 is incorporated to make the solution more efficient. ","title":"Java: Check if enum contains a given string?","body":"<p>You can use this</p>\n\n<p>YourEnum {A1, A2, B1, B2}</p>\n\n<pre><code>boolean contains(String str){ \n    return Sets.newHashSet(YourEnum.values()).contains(str);\n}                                  \n</code></pre>\n\n<p>Update suggested by @wightwulf1944 is incorporated to make the solution more efficient. </p>\n"},{"tags":[],"owner":{"account_id":143462,"reputation":31666,"user_id":419863,"accept_rate":92,"display_name":"H6_"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1589937221,"creation_date":1445866745,"answer_id":33347211,"question_id":4936819,"body_markdown":"[Guavas Enums][1] could be your friend\r\n--------------------------------------\r\n\r\nLike e.g. this:\r\n\r\n    enum MyData {\r\n        ONE,\r\n        TWO\r\n    }\r\n\r\n    @Test\r\n    public void test() {\r\n\r\n        if (!Enums.getIfPresent(MyData.class, &quot;THREE&quot;).isPresent()) {\r\n            System.out.println(&quot;THREE is not here&quot;);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://guava.dev/releases/19.0/api/docs/index.html?com/google/common/base/Enums.html","title":"Java: Check if enum contains a given string?","body":"<h2><a href=\"https://guava.dev/releases/19.0/api/docs/index.html?com/google/common/base/Enums.html\" rel=\"noreferrer\">Guavas Enums</a> could be your friend</h2>\n\n<p>Like e.g. this:</p>\n\n<pre><code>enum MyData {\n    ONE,\n    TWO\n}\n\n@Test\npublic void test() {\n\n    if (!Enums.getIfPresent(MyData.class, \"THREE\").isPresent()) {\n        System.out.println(\"THREE is not here\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2759956,"reputation":6055,"user_id":2377044,"accept_rate":31,"display_name":"cnmuc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461274925,"creation_date":1461274925,"answer_id":36780998,"question_id":4936819,"body_markdown":"  \r\n\r\n    com.google.common.collect.Sets.newHashSet(MyEnum.values()).contains(&quot;myValue&quot;)","title":"Java: Check if enum contains a given string?","body":"<pre><code>com.google.common.collect.Sets.newHashSet(MyEnum.values()).contains(\"myValue\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1110325,"reputation":863,"user_id":1100913,"accept_rate":33,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1463326609,"creation_date":1463326198,"answer_id":37240149,"question_id":4936819,"body_markdown":"Few assumptions:  \r\n1) No try/catch, as it is exceptional flow control  \r\n2) &#39;contains&#39; method has to be quick, as it usually runs several times.  \r\n3) Space is not limited (common for ordinary solutions)  \r\n\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n\r\n    enum Choices {\r\n        a1, a2, b1, b2;\r\n\r\n\t\tprivate static Set&lt;String&gt; _values = new HashSet&lt;&gt;();\r\n\t\r\n        // O(n) - runs once\r\n\t\tstatic{\r\n\t\t\tfor (Choices choice : Choices.values()) {\r\n\t\t\t\t_values.add(choice.name());\r\n\t\t\t}\r\n\t\t}\r\n\r\n        // O(1) - runs several times\r\n\t\tpublic static boolean contains(String value){\r\n\t\t\treturn _values.contains(value);\r\n\t\t}\r\n    }","title":"Java: Check if enum contains a given string?","body":"<p>Few assumptions:<br>\n1) No try/catch, as it is exceptional flow control<br>\n2) 'contains' method has to be quick, as it usually runs several times.<br>\n3) Space is not limited (common for ordinary solutions)  </p>\n\n<pre><code>import java.util.HashSet;\nimport java.util.Set;\n\nenum Choices {\n    a1, a2, b1, b2;\n\n    private static Set&lt;String&gt; _values = new HashSet&lt;&gt;();\n\n    // O(n) - runs once\n    static{\n        for (Choices choice : Choices.values()) {\n            _values.add(choice.name());\n        }\n    }\n\n    // O(1) - runs several times\n    public static boolean contains(String value){\n        return _values.contains(value);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8421039,"reputation":721,"user_id":6319848,"display_name":"Hao Ma"},"down_vote_count":1,"up_vote_count":59,"is_accepted":false,"score":58,"last_activity_date":1464947245,"creation_date":1464947245,"answer_id":37611080,"question_id":4936819,"body_markdown":"If you are using Java 1.8, you can choose Stream + Lambda to implement this:\r\n\r\n    public enum Period {\r\n        DAILY, WEEKLY\r\n    };\r\n\r\n    //This is recommended\r\n    Arrays.stream(Period.values()).anyMatch((t) -&gt; t.name().equals(&quot;DAILY1&quot;));\r\n    //May throw java.lang.IllegalArgumentException\r\n    Arrays.stream(Period.values()).anyMatch(Period.valueOf(&quot;DAILY&quot;)::equals);","title":"Java: Check if enum contains a given string?","body":"<p>If you are using Java 1.8, you can choose Stream + Lambda to implement this:</p>\n\n<pre><code>public enum Period {\n    DAILY, WEEKLY\n};\n\n//This is recommended\nArrays.stream(Period.values()).anyMatch((t) -&gt; t.name().equals(\"DAILY1\"));\n//May throw java.lang.IllegalArgumentException\nArrays.stream(Period.values()).anyMatch(Period.valueOf(\"DAILY\")::equals);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2983171,"reputation":837,"user_id":2532694,"accept_rate":60,"display_name":"Bikram"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1487874759,"creation_date":1487874759,"answer_id":42423554,"question_id":4936819,"body_markdown":"You can first convert the enum to List and then use list contains method\r\n\r\n    enum Choices{A1, A2, B1, B2};\r\n    \r\n    List choices = Arrays.asList(Choices.values());\r\n    \r\n    //compare with enum value \r\n    if(choices.contains(Choices.A1)){\r\n       //do something\r\n    }\r\n    \r\n    //compare with String value\r\n    if(choices.contains(Choices.valueOf(&quot;A1&quot;))){\r\n       //do something\r\n    }\r\n\r\n","title":"Java: Check if enum contains a given string?","body":"<p>You can first convert the enum to List and then use list contains method</p>\n\n<pre><code>enum Choices{A1, A2, B1, B2};\n\nList choices = Arrays.asList(Choices.values());\n\n//compare with enum value \nif(choices.contains(Choices.A1)){\n   //do something\n}\n\n//compare with String value\nif(choices.contains(Choices.valueOf(\"A1\"))){\n   //do something\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1227129,"reputation":9783,"user_id":1192479,"accept_rate":100,"display_name":"Ant&#243;nio Almeida"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487958933,"creation_date":1487958933,"answer_id":42445255,"question_id":4936819,"body_markdown":"This approach can be used to check any `Enum`, you can add it to an `Utils` class:\r\n\r\n    public static &lt;T extends Enum&lt;T&gt;&gt; boolean enumContains(Class&lt;T&gt; enumerator, String value)\r\n    {\r\n    \tfor (T c : enumerator.getEnumConstants()) {\r\n    \t\tif (c.name().equals(value)) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t}\r\n    \treturn false;\r\n    }\r\n\r\nUse it this way:\r\n\r\n    boolean isContained = Utils.enumContains(choices.class, &quot;value&quot;);","title":"Java: Check if enum contains a given string?","body":"<p>This approach can be used to check any <code>Enum</code>, you can add it to an <code>Utils</code> class:</p>\n\n<pre><code>public static &lt;T extends Enum&lt;T&gt;&gt; boolean enumContains(Class&lt;T&gt; enumerator, String value)\n{\n    for (T c : enumerator.getEnumConstants()) {\n        if (c.name().equals(value)) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>Use it this way:</p>\n\n<pre><code>boolean isContained = Utils.enumContains(choices.class, \"value\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7454108,"reputation":840,"user_id":5667861,"display_name":"Amar Magar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500030680,"creation_date":1500030680,"answer_id":45101546,"question_id":4936819,"body_markdown":"solution to check whether value is present as well get enum value in return :\r\n\r\n    protected TradeType getEnumType(String tradeType) {\r\n        if (tradeType != null) {\r\n            if (EnumUtils.isValidEnum(TradeType.class, tradeType)) {\r\n                return TradeType.valueOf(tradeType);\r\n            }\r\n        }\r\n        return null;\r\n    }","title":"Java: Check if enum contains a given string?","body":"<p>solution to check whether value is present as well get enum value in return :</p>\n\n<pre><code>protected TradeType getEnumType(String tradeType) {\n    if (tradeType != null) {\n        if (EnumUtils.isValidEnum(TradeType.class, tradeType)) {\n            return TradeType.valueOf(tradeType);\n        }\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1681986,"reputation":4236,"user_id":1546042,"display_name":"BitfulByte"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1513287656,"creation_date":1513287656,"answer_id":47822481,"question_id":4936819,"body_markdown":"A couple libraries have been mentioned here, but I miss the one that I was actually looking for: Spring!\r\n\r\nThere is the [ObjectUtils#containsConstant][1] which is case insensitive by default, but can be strict if you want. It is used like this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    \r\n    if(ObjectUtils.containsConstant(Choices.values(), &quot;SOME_CHOISE&quot;, true)){\r\n    // do stuff\r\n    }\r\nNote: I used the overloaded method here to demonstrate how to use case sensitive check. You can omit the boolean to have case insensitive behaviour.\r\n\r\nBe careful with large enums though, as they don&#39;t use the Map implementation as some do...\r\n\r\nAs a bonus, it also provides a case insensitive variant of the valueOf: [ObjectUtils#caseInsensitiveValueOf][2]\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/ObjectUtils.html#containsConstant-java.lang.Enum:A-java.lang.String-\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/ObjectUtils.html#caseInsensitiveValueOf-E:A-java.lang.String-","title":"Java: Check if enum contains a given string?","body":"<p>A couple libraries have been mentioned here, but I miss the one that I was actually looking for: Spring!</p>\n\n<p>There is the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/ObjectUtils.html#containsConstant-java.lang.Enum:A-java.lang.String-\" rel=\"noreferrer\">ObjectUtils#containsConstant</a> which is case insensitive by default, but can be strict if you want. It is used like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>if(ObjectUtils.containsConstant(Choices.values(), \"SOME_CHOISE\", true)){\n// do stuff\n}\n</code></pre>\n\n<p>Note: I used the overloaded method here to demonstrate how to use case sensitive check. You can omit the boolean to have case insensitive behaviour.</p>\n\n<p>Be careful with large enums though, as they don't use the Map implementation as some do...</p>\n\n<p>As a bonus, it also provides a case insensitive variant of the valueOf: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/ObjectUtils.html#caseInsensitiveValueOf-E:A-java.lang.String-\" rel=\"noreferrer\">ObjectUtils#caseInsensitiveValueOf</a></p>\n"},{"tags":[],"owner":{"account_id":13854139,"reputation":27,"user_id":10001355,"display_name":"EDiaz"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1530134471,"creation_date":1530120612,"answer_id":51068456,"question_id":4936819,"body_markdown":"This one works for me:\r\n\r\n    Arrays.asList(YourEnum.values()).toString().contains(&quot;valueToCheck&quot;);","title":"Java: Check if enum contains a given string?","body":"<p>This one works for me:</p>\n\n<pre><code>Arrays.asList(YourEnum.values()).toString().contains(\"valueToCheck\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15742982,"reputation":11,"user_id":11359812,"display_name":"Ignacio Jeria Garrido"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555265153,"creation_date":1555263464,"answer_id":55678164,"question_id":4936819,"body_markdown":"I created the next class for this validation\r\n```lang-js\r\npublic class EnumUtils {\r\n\r\n    public static boolean isPresent(Enum enumArray[], String name) {\r\n        for (Enum element: enumArray ) {\r\n            if(element.toString().equals(name))\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n```\r\nexample of usage :\r\n\r\n    public ArrivalEnum findArrivalEnum(String name) {\r\n\r\n        if (!EnumUtils.isPresent(ArrivalEnum.values(), name))\r\n            throw new EnumConstantNotPresentException(ArrivalEnum.class,&quot;Arrival value must be &#39;FROM_AIRPORT&#39; or &#39;TO_AIRPORT&#39; &quot;);\r\n        \r\n        return ArrivalEnum.valueOf(name);\r\n    }\r\n","title":"Java: Check if enum contains a given string?","body":"<p>I created the next class for this validation</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>public class EnumUtils {\n\n    public static boolean isPresent(Enum enumArray[], String name) {\n        for (Enum element: enumArray ) {\n            if(element.toString().equals(name))\n                return true;\n        }\n        return false;\n    }\n\n}\n</code></pre>\n\n<p>example of usage :</p>\n\n<pre><code>public ArrivalEnum findArrivalEnum(String name) {\n\n    if (!EnumUtils.isPresent(ArrivalEnum.values(), name))\n        throw new EnumConstantNotPresentException(ArrivalEnum.class,\"Arrival value must be 'FROM_AIRPORT' or 'TO_AIRPORT' \");\n\n    return ArrivalEnum.valueOf(name);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14035926,"reputation":208,"user_id":10138625,"display_name":"chirag"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1561543359,"creation_date":1561543359,"answer_id":56770118,"question_id":4936819,"body_markdown":"If you are Using Java 8 or above, you can do this : \r\n\r\n    boolean isPresent(String testString){\r\n          return Stream.of(Choices.values()).map(Enum::name).collect(Collectors.toSet()).contains(testString);\r\n    }","title":"Java: Check if enum contains a given string?","body":"<p>If you are Using Java 8 or above, you can do this : </p>\n\n<pre><code>boolean isPresent(String testString){\n      return Stream.of(Choices.values()).map(Enum::name).collect(Collectors.toSet()).contains(testString);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2221278,"reputation":11,"user_id":1960580,"display_name":"Dmitrii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561820976,"creation_date":1561820976,"answer_id":56818592,"question_id":4936819,"body_markdown":"      Set.of(CustomType.values())\r\n         .contains(customTypevalue) ","title":"Java: Check if enum contains a given string?","body":"<pre><code>  Set.of(CustomType.values())\n     .contains(customTypevalue) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":38158,"reputation":1565,"user_id":109354,"display_name":"Sourabh"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1573992103,"creation_date":1573992103,"answer_id":58900215,"question_id":4936819,"body_markdown":"Java Streams provides elegant way to do that\r\n\r\n```java\r\nStream.of(MyEnum.values()).anyMatch(v -&gt; v.name().equals(strValue))\r\n```\r\n\r\nReturns:\r\ntrue if any elements of the stream match the provided value, otherwise false","title":"Java: Check if enum contains a given string?","body":"<p>Java Streams provides elegant way to do that</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Stream.of(MyEnum.values()).anyMatch(v -&gt; v.name().equals(strValue))\n</code></pre>\n\n<p>Returns:\ntrue if any elements of the stream match the provided value, otherwise false</p>\n"},{"tags":[],"owner":{"account_id":14858440,"reputation":456,"user_id":10730157,"display_name":"aqteifan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579635591,"creation_date":1579635591,"answer_id":59848111,"question_id":4936819,"body_markdown":"You can make it as a contains method:\r\n```\r\nenum choices {a1, a2, b1, b2};\r\npublic boolean contains(String value){\r\n    try{\r\n\t\tEnumSet.allOf(choices.class).contains(Enum.valueOf(choices.class, value));\r\n\t\treturn true;\r\n\t}catch (Exception e) {\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\n```\r\nor you can just use it with your code block:\r\n```\r\ntry{\r\n\tEnumSet.allOf(choices.class).contains(Enum.valueOf(choices.class, &quot;a1&quot;));\r\n    //do something\r\n}catch (Exception e) {\r\n\t//do something else\r\n}\r\n\r\n```","title":"Java: Check if enum contains a given string?","body":"<p>You can make it as a contains method:</p>\n\n<pre><code>enum choices {a1, a2, b1, b2};\npublic boolean contains(String value){\n    try{\n        EnumSet.allOf(choices.class).contains(Enum.valueOf(choices.class, value));\n        return true;\n    }catch (Exception e) {\n        return false;\n    }\n}\n\n</code></pre>\n\n<p>or you can just use it with your code block:</p>\n\n<pre><code>try{\n    EnumSet.allOf(choices.class).contains(Enum.valueOf(choices.class, \"a1\"));\n    //do something\n}catch (Exception e) {\n    //do something else\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8170109,"reputation":484,"user_id":6150881,"display_name":"Rabhi salim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582707337,"creation_date":1582707337,"answer_id":60410074,"question_id":4936819,"body_markdown":"you can also use : com.google.common.base.Enums\r\n\r\nEnums.getIfPresent(varEnum.class, varToLookFor) returns an Optional\r\n\r\nEnums.getIfPresent(fooEnum.class, myVariable).isPresent() ?\r\nEnums.getIfPresent(fooEnum.class, myVariable).get : fooEnum.OTHERS","title":"Java: Check if enum contains a given string?","body":"<p>you can also use : com.google.common.base.Enums</p>\n\n<p>Enums.getIfPresent(varEnum.class, varToLookFor) returns an Optional</p>\n\n<p>Enums.getIfPresent(fooEnum.class, myVariable).isPresent() ?\nEnums.getIfPresent(fooEnum.class, myVariable).get : fooEnum.OTHERS</p>\n"},{"tags":[],"owner":{"account_id":7874694,"reputation":1606,"user_id":5950846,"accept_rate":50,"display_name":"Swadeshi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586852276,"creation_date":1586852276,"answer_id":61203392,"question_id":4936819,"body_markdown":"I would just write,\r\n\r\n\r\n    Arrays.stream(Choice.values()).map(Enum::name).collect(Collectors.toList()).contains(&quot;a1&quot;);\r\n\r\nEnum#equals only works with object compare.\r\n","title":"Java: Check if enum contains a given string?","body":"<p>I would just write,</p>\n\n<pre><code>Arrays.stream(Choice.values()).map(Enum::name).collect(Collectors.toList()).contains(\"a1\");\n</code></pre>\n\n<p>Enum#equals only works with object compare.</p>\n"},{"tags":[],"owner":{"account_id":68343,"reputation":12400,"user_id":806076,"accept_rate":61,"display_name":"Mubashar"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1609295059,"creation_date":1609295059,"answer_id":65501258,"question_id":4936819,"body_markdown":"`EnumUtils.isValidEnum` might be the best option if you like to import Apache commons lang3. if not following is a generic function I would use as an alternative. \r\n\r\n```\r\nprivate &lt;T extends Enum&lt;T&gt;&gt; boolean enumValueExists(Class&lt;T&gt; enumType, String value) {\r\n    boolean result;\r\n    try {\r\n        Enum.valueOf(enumType, value);\r\n        result = true;\r\n    } catch (IllegalArgumentException e) {\r\n        result = false;\r\n    }\r\n    return result;\r\n}\r\n\r\n```\r\nAnd use it as following \r\n```\r\nif (enumValueExists(MyEnum.class, configValue)) {\r\n\t// happy code\r\n} else {\r\n\t// angry code\r\n}\r\n```","title":"Java: Check if enum contains a given string?","body":"<p><code>EnumUtils.isValidEnum</code> might be the best option if you like to import Apache commons lang3. if not following is a generic function I would use as an alternative.</p>\n<pre><code>private &lt;T extends Enum&lt;T&gt;&gt; boolean enumValueExists(Class&lt;T&gt; enumType, String value) {\n    boolean result;\n    try {\n        Enum.valueOf(enumType, value);\n        result = true;\n    } catch (IllegalArgumentException e) {\n        result = false;\n    }\n    return result;\n}\n\n</code></pre>\n<p>And use it as following</p>\n<pre><code>if (enumValueExists(MyEnum.class, configValue)) {\n    // happy code\n} else {\n    // angry code\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1137016,"reputation":5916,"user_id":1121883,"display_name":"Liviu Stirb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634069496,"creation_date":1634069496,"answer_id":69546478,"question_id":4936819,"body_markdown":"While iterating a list or catching an exception is good enough for most cases I was searching for something reusable that works well for large enums. In it end, I end up writing this:\r\n\r\n    public class EnumValidator {\r\n    \r\n        private final Set&lt;String&gt; values;\r\n    \r\n        private EnumValidator(Set&lt;String&gt; values) {\r\n            this.values = values;\r\n        }\r\n    \r\n        public static &lt;T extends Enum&lt;T&gt;&gt; EnumValidator of(Class&lt;T&gt; enumType){\r\n            return new EnumValidator(Stream.of(enumType.getEnumConstants()).map(Enum::name).collect(Collectors.toSet()));\r\n        }\r\n    \r\n        public boolean isPresent(String et){\r\n            return values.contains(et);\r\n        }\r\n        \r\n    }","title":"Java: Check if enum contains a given string?","body":"<p>While iterating a list or catching an exception is good enough for most cases I was searching for something reusable that works well for large enums. In it end, I end up writing this:</p>\n<pre><code>public class EnumValidator {\n\n    private final Set&lt;String&gt; values;\n\n    private EnumValidator(Set&lt;String&gt; values) {\n        this.values = values;\n    }\n\n    public static &lt;T extends Enum&lt;T&gt;&gt; EnumValidator of(Class&lt;T&gt; enumType){\n        return new EnumValidator(Stream.of(enumType.getEnumConstants()).map(Enum::name).collect(Collectors.toSet()));\n    }\n\n    public boolean isPresent(String et){\n        return values.contains(et);\n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638459545,"creation_date":1638459545,"answer_id":70202350,"question_id":4936819,"body_markdown":"Java 8+ stream + set way:\r\n\r\n        // Build the set.\r\n        final Set&lt;String&gt; mySet = Arrays//\r\n          .stream(YourEnumHere.values())//\r\n          .map(Enum::name)//\r\n          .collect(Collectors.toSet());\r\n\r\n        // Reuse the set for contains multiple times.\r\n        mySet.contains(textA);\r\n        mySet.contains(textB);\r\n        ...","title":"Java: Check if enum contains a given string?","body":"<p>Java 8+ stream + set way:</p>\n<pre><code>    // Build the set.\n    final Set&lt;String&gt; mySet = Arrays//\n      .stream(YourEnumHere.values())//\n      .map(Enum::name)//\n      .collect(Collectors.toSet());\n\n    // Reuse the set for contains multiple times.\n    mySet.contains(textA);\n    mySet.contains(textB);\n    ...\n</code></pre>\n"}],"owner":{"account_id":295162,"reputation":4863,"user_id":599429,"accept_rate":89,"display_name":"Jared"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":520808,"favorite_count":0,"down_vote_count":0,"up_vote_count":259,"accepted_answer_id":4936895,"answer_count":32,"score":259,"last_activity_date":1638459545,"creation_date":1297189625,"question_id":4936819,"body_markdown":"Here&#39;s my problem - I&#39;m looking for (if it even exists) the enum equivalent of `ArrayList.contains();`.\r\n\r\nHere&#39;s a sample of my code problem:\r\n\r\n    enum choices {a1, a2, b1, b2};\r\n\r\n    if(choices.???(a1)}{\r\n    //do this\r\n    } \r\n\r\nNow, I realize that an `ArrayList` of `Strings` would be the better route here but I have to run my enum contents through a switch/case elsewhere. Hence my problem.\r\n\r\nAssuming something like this doesn&#39;t exist, how could I go about doing it?\r\n","title":"Java: Check if enum contains a given string?","body":"<p>Here's my problem - I'm looking for (if it even exists) the enum equivalent of <code>ArrayList.contains();</code>.</p>\n\n<p>Here's a sample of my code problem:</p>\n\n<pre><code>enum choices {a1, a2, b1, b2};\n\nif(choices.???(a1)}{\n//do this\n} \n</code></pre>\n\n<p>Now, I realize that an <code>ArrayList</code> of <code>Strings</code> would be the better route here but I have to run my enum contents through a switch/case elsewhere. Hence my problem.</p>\n\n<p>Assuming something like this doesn't exist, how could I go about doing it?</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":2,"creation_date":1523409165,"post_id":49764942,"comment_id":86545492,"body_markdown":"Why don&#39;t you just ask your question? You&#39;re falling victim to [the XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem).","body":"Why don&#39;t you just ask your question? You&#39;re falling victim to <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">the XY problem</a>."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1523631419,"creation_date":1523631063,"answer_id":49819738,"question_id":49764942,"body_markdown":"“Allocate the objects into Old Gen” and “long GC pauses” are hard to combine, as the worst thing you could do to the garbage collector, is to create lots of small, linked, live objects forming a graph that the garbage collector must traverse.\r\n\r\nBut small objects are not allocated into the Old Gen. Only large objects, e.g. arrays, are allocated directly into the Old Gen, but these do not stress the GC that much. Especially primitive type arrays, which you stated to have been used in your first attempt, are no challenge, as they can not contain object references in general.\r\n\r\nSo, to stress the GC, you have to create lots of small linked objects, enough to get them eventually promoted to the Old Gen, followed by modifying the old objects to enforce Full GC, resp. updates of the remembered sets of the affected cards.\r\n\r\nIf that’s sounds like familiar pattern, you’re right. We’re talking about `LinkedList` here.\r\n\r\n    LinkedList&lt;Object&gt; list = new LinkedList&lt;&gt;();\r\n    for(ListIterator&lt;Object&gt; it = list.listIterator();;) {\r\n        for(;;) {\r\n            it.add(new Object());\r\n            if(!it.hasNext()) break;\r\n            it.next();\r\n        }\r\n        while(it.hasPrevious()) {\r\n            it.previous();\r\n            it.add(new Object());\r\n            it.previous();\r\n        }\r\n    }\r\nThis iterates over the list back and forth, inserting new objects between the old ones, which implies modifying the [`next`][next] pointer of the preceding and the `prev` pointer of the succeeding list node. We have to do this via `ListIterator`, as trying to use `add(int index, E element)` would become too slow for a growing linked list, not creating enough objects to stress the GC.\r\n\r\nRunning on Java 9.0.4 with `-Xmx7G -Xlog:gc` gave me\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    [0.023s][info][gc] Using G1\r\n    [0.230s][info][gc] GC(0) Pause Young (G1 Evacuation Pause) 24M-&gt;22M(256M) 60.748ms\r\n    [0.263s][info][gc] GC(1) Pause Young (G1 Evacuation Pause) 34M-&gt;36M(256M) 21.686ms\r\n    [0.299s][info][gc] GC(2) Pause Young (G1 Evacuation Pause) 46M-&gt;47M(256M) 18.848ms\r\n    [0.336s][info][gc] GC(3) Pause Young (G1 Evacuation Pause) 57M-&gt;58M(256M) 20.904ms\r\n    [0.391s][info][gc] GC(4) Pause Young (G1 Evacuation Pause) 68M-&gt;68M(768M) 31.420ms\r\n    [0.521s][info][gc] GC(5) Pause Young (G1 Evacuation Pause) 104M-&gt;105M(768M) 56.681ms\r\n    [0.620s][info][gc] GC(6) Pause Young (G1 Evacuation Pause) 138M-&gt;140M(768M) 46.616ms\r\n    [0.737s][info][gc] GC(7) Pause Young (G1 Evacuation Pause) 173M-&gt;174M(768M) 58.947ms\r\n    [0.906s][info][gc] GC(8) Pause Young (G1 Evacuation Pause) 207M-&gt;209M(2304M) 100.361ms\r\n    [1.272s][info][gc] GC(9) Pause Young (G1 Evacuation Pause) 319M-&gt;321M(2304M) 142.440ms\r\n    [1.656s][info][gc] GC(10) Pause Young (G1 Evacuation Pause) 421M-&gt;423M(2304M) 162.770ms\r\n    [1.992s][info][gc] GC(11) Pause Young (G1 Evacuation Pause) 523M-&gt;525M(2304M) 145.804ms\r\n    [2.404s][info][gc] GC(12) Pause Young (G1 Evacuation Pause) 625M-&gt;627M(4250M) 221.090ms\r\n    [3.088s][info][gc] GC(13) Pause Young (G1 Evacuation Pause) 824M-&gt;826M(4250M) 302.307ms\r\n    [3.721s][info][gc] GC(14) Pause Young (G1 Evacuation Pause) 1011M-&gt;1013M(4250M) 250.395ms\r\n    [4.421s][info][gc] GC(15) Pause Young (G1 Evacuation Pause) 1198M-&gt;1199M(4250M) 304.642ms\r\n    [5.179s][info][gc] GC(16) Pause Young (G1 Evacuation Pause) 1384M-&gt;1386M(5418M) 334.825ms\r\n    [6.134s][info][gc] GC(17) Pause Young (G1 Evacuation Pause) 1629M-&gt;1631M(5418M) 381.155ms\r\n    [6.897s][info][gc] GC(18) Pause Young (G1 Evacuation Pause) 1867M-&gt;1868M(5418M) 309.688ms\r\n    [7.670s][info][gc] GC(19) Pause Young (G1 Evacuation Pause) 2104M-&gt;2106M(5418M) 399.689ms\r\n    [8.498s][info][gc] GC(20) Pause Young (G1 Evacuation Pause) 2342M-&gt;2344M(6118M) 388.430ms\r\n    [9.515s][info][gc] GC(21) Pause Young (G1 Evacuation Pause) 2615M-&gt;2617M(6118M) 439.557ms\r\n    [10.477s][info][gc] GC(22) Pause Young (G1 Evacuation Pause) 2883M-&gt;2884M(6118M) 451.488ms\r\n    [11.489s][info][gc] GC(23) Pause Initial Mark (G1 Evacuation Pause) 3150M-&gt;3152M(6118M) 443.329ms\r\n    [11.489s][info][gc] GC(24) Concurrent Cycle\r\n    [12.660s][info][gc] GC(25) Pause Young (G1 Evacuation Pause) 3418M-&gt;3419M(6538M) 467.964ms\r\n    [14.124s][info][gc] GC(26) Pause Young (G1 Evacuation Pause) 3706M-&gt;3708M(6538M) 454.921ms\r\n    [15.538s][info][gc] GC(27) Pause Young (G1 Evacuation Pause) 3993M-&gt;3995M(6538M) 465.929ms\r\n    [16.945s][info][gc] GC(28) Pause Young (G1 Evacuation Pause) 4280M-&gt;4281M(6538M) 460.913ms\r\n    [18.490s][info][gc] GC(29) Pause Young (G1 Evacuation Pause) 4566M-&gt;4568M(6790M) 493.803ms\r\n    [20.083s][info][gc] GC(30) Pause Young (G1 Evacuation Pause) 4866M-&gt;4868M(6790M) 491.910ms\r\n    [21.516s][info][gc] GC(31) Pause Young (G1 Evacuation Pause) 5164M-&gt;5166M(6790M) 486.847ms\r\n    [22.895s][info][gc] GC(32) Pause Young (G1 Evacuation Pause) 5462M-&gt;5464M(6790M) 443.031ms\r\n    [24.342s][info][gc] GC(33) Pause Young (G1 Evacuation Pause) 5760M-&gt;5762M(6942M) 475.235ms\r\n    [25.258s][info][gc] GC(24) Pause Remark 5988M-&gt;5988M(6942M) 0.794ms\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    [25.827s][info][gc] GC(34) Pause Young (G1 Evacuation Pause) 6066M-&gt;6067M(6942M) 458.463ms\r\n    [27.021s][info][gc] GC(35) Pause Young (G1 Evacuation Pause) 6370M-&gt;6372M(6942M) 448.794ms\r\n    [27.485s][info][gc] GC(24) Pause Cleanup 6484M-&gt;6484M(6942M) 28.631ms\r\n    [27.490s][info][gc] GC(24) Concurrent Cycle 16000.856ms\r\n    [28.250s][info][gc] GC(36) Pause Young (G1 Evacuation Pause) 6675M-&gt;6676M(7024M) 481.748ms\r\n    [29.651s][info][gc] GC(37) To-space exhausted\r\n    [29.651s][info][gc] GC(37) Pause Initial Mark (G1 Evacuation Pause) 6983M-&gt;7127M(7168M) 751.288ms\r\n    [29.651s][info][gc] GC(38) Concurrent Cycle\r\n    [30.135s][info][gc] GC(39) To-space exhausted\r\n    [30.135s][info][gc] GC(39) Pause Young (G1 Evacuation Pause) 7168M-&gt;7168M(7168M) 203.578ms\r\n    [30.205s][info][gc] GC(40) Pause Young (G1 Evacuation Pause) 7168M-&gt;7168M(7168M) 69.831ms\r\n    [53.924s][info][gc] GC(41) Pause Full (Allocation Failure) 7168M-&gt;6955M(7168M) 23719.072ms\r\n    [53.924s][info][gc] GC(38) Concurrent Cycle 24273.544ms\r\n    [54.654s][info][gc] GC(42) To-space exhausted\r\n    [54.654s][info][gc] GC(42) Pause Young (G1 Evacuation Pause) 7167M-&gt;7167M(7168M) 484.771ms\r\n    [54.811s][info][gc] GC(43) Pause Initial Mark (G1 Evacuation Pause) 7167M-&gt;7167M(7168M) 156.984ms\r\n    [54.811s][info][gc] GC(44) Concurrent Cycle\r\n    [75.187s][info][gc] GC(45) Pause Full (Allocation Failure) 7167M-&gt;7166M(7168M) 20375.807ms\r\n    [75.187s][info][gc] GC(44) Concurrent Cycle 20375.993ms\r\n    [75.197s][info][gc] GC(46) To-space exhausted\r\n    [75.197s][info][gc] GC(46) Pause Young (G1 Evacuation Pause) 7167M-&gt;7167M(7168M) 8.585ms\r\n    [75.199s][info][gc] GC(47) Pause Initial Mark (G1 Evacuation Pause) 7167M-&gt;7167M(7168M) 1.773ms\r\n    [75.199s][info][gc] GC(48) Concurrent Cycle\r\n    [95.382s][info][gc] GC(49) Pause Full (Allocation Failure) 7167M-&gt;7167M(7168M) 20183.050ms\r\n    [115.575s][info][gc] GC(50) Pause Full (Allocation Failure) 7167M-&gt;7167M(7168M) 20192.989ms\r\n    [115.575s][info][gc] GC(48) Concurrent Cycle 40376.227ms\r\n    [115.581s][info][gc] GC(51) Pause Young (G1 Evacuation Pause) 7167M-&gt;7167M(7168M) 2.649ms\r\n    [115.613s][info][gc] GC(52) Pause Initial Mark (G1 Evacuation Pause) 7167M-&gt;7167M(7168M) 0.629ms\r\n    [115.613s][info][gc] GC(53) Concurrent Cycle\r\n    [119.694s][info][gc] GC(54) Pause Full (Allocation Failure) 7167M-&gt;0M(8M) 4080.414ms\r\n    [119.694s][info][gc] GC(53) Concurrent Cycle 4080.622ms\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n    \tat java.base/java.util.LinkedList.linkBefore(LinkedList.java:162)\r\n    \tat java.base/java.util.LinkedList$ListItr.add(LinkedList.java:952)\r\n    \tat test.Tmp.main(Tmp.java:32)\r\n\r\nNote the reported pauses at `[53.924s]`, `[75.187s]`, `[95.382s]`, and `[115.575s]` of over 20&#160;seconds each…\r\n\r\n[next]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/LinkedList.java#972","title":"How to make a long time Full GC in Java manually","body":"<p>“Allocate the objects into Old Gen” and “long GC pauses” are hard to combine, as the worst thing you could do to the garbage collector, is to create lots of small, linked, live objects forming a graph that the garbage collector must traverse.</p>\n\n<p>But small objects are not allocated into the Old Gen. Only large objects, e.g. arrays, are allocated directly into the Old Gen, but these do not stress the GC that much. Especially primitive type arrays, which you stated to have been used in your first attempt, are no challenge, as they can not contain object references in general.</p>\n\n<p>So, to stress the GC, you have to create lots of small linked objects, enough to get them eventually promoted to the Old Gen, followed by modifying the old objects to enforce Full GC, resp. updates of the remembered sets of the affected cards.</p>\n\n<p>If that’s sounds like familiar pattern, you’re right. We’re talking about <code>LinkedList</code> here.</p>\n\n<pre><code>LinkedList&lt;Object&gt; list = new LinkedList&lt;&gt;();\nfor(ListIterator&lt;Object&gt; it = list.listIterator();;) {\n    for(;;) {\n        it.add(new Object());\n        if(!it.hasNext()) break;\n        it.next();\n    }\n    while(it.hasPrevious()) {\n        it.previous();\n        it.add(new Object());\n        it.previous();\n    }\n}\n</code></pre>\n\n<p>This iterates over the list back and forth, inserting new objects between the old ones, which implies modifying the <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/LinkedList.java#972\" rel=\"nofollow noreferrer\"><code>next</code></a> pointer of the preceding and the <code>prev</code> pointer of the succeeding list node. We have to do this via <code>ListIterator</code>, as trying to use <code>add(int index, E element)</code> would become too slow for a growing linked list, not creating enough objects to stress the GC.</p>\n\n<p>Running on Java 9.0.4 with <code>-Xmx7G -Xlog:gc</code> gave me</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[0.023s][info][gc] Using G1\n[0.230s][info][gc] GC(0) Pause Young (G1 Evacuation Pause) 24M-&gt;22M(256M) 60.748ms\n[0.263s][info][gc] GC(1) Pause Young (G1 Evacuation Pause) 34M-&gt;36M(256M) 21.686ms\n[0.299s][info][gc] GC(2) Pause Young (G1 Evacuation Pause) 46M-&gt;47M(256M) 18.848ms\n[0.336s][info][gc] GC(3) Pause Young (G1 Evacuation Pause) 57M-&gt;58M(256M) 20.904ms\n[0.391s][info][gc] GC(4) Pause Young (G1 Evacuation Pause) 68M-&gt;68M(768M) 31.420ms\n[0.521s][info][gc] GC(5) Pause Young (G1 Evacuation Pause) 104M-&gt;105M(768M) 56.681ms\n[0.620s][info][gc] GC(6) Pause Young (G1 Evacuation Pause) 138M-&gt;140M(768M) 46.616ms\n[0.737s][info][gc] GC(7) Pause Young (G1 Evacuation Pause) 173M-&gt;174M(768M) 58.947ms\n[0.906s][info][gc] GC(8) Pause Young (G1 Evacuation Pause) 207M-&gt;209M(2304M) 100.361ms\n[1.272s][info][gc] GC(9) Pause Young (G1 Evacuation Pause) 319M-&gt;321M(2304M) 142.440ms\n[1.656s][info][gc] GC(10) Pause Young (G1 Evacuation Pause) 421M-&gt;423M(2304M) 162.770ms\n[1.992s][info][gc] GC(11) Pause Young (G1 Evacuation Pause) 523M-&gt;525M(2304M) 145.804ms\n[2.404s][info][gc] GC(12) Pause Young (G1 Evacuation Pause) 625M-&gt;627M(4250M) 221.090ms\n[3.088s][info][gc] GC(13) Pause Young (G1 Evacuation Pause) 824M-&gt;826M(4250M) 302.307ms\n[3.721s][info][gc] GC(14) Pause Young (G1 Evacuation Pause) 1011M-&gt;1013M(4250M) 250.395ms\n[4.421s][info][gc] GC(15) Pause Young (G1 Evacuation Pause) 1198M-&gt;1199M(4250M) 304.642ms\n[5.179s][info][gc] GC(16) Pause Young (G1 Evacuation Pause) 1384M-&gt;1386M(5418M) 334.825ms\n[6.134s][info][gc] GC(17) Pause Young (G1 Evacuation Pause) 1629M-&gt;1631M(5418M) 381.155ms\n[6.897s][info][gc] GC(18) Pause Young (G1 Evacuation Pause) 1867M-&gt;1868M(5418M) 309.688ms\n[7.670s][info][gc] GC(19) Pause Young (G1 Evacuation Pause) 2104M-&gt;2106M(5418M) 399.689ms\n[8.498s][info][gc] GC(20) Pause Young (G1 Evacuation Pause) 2342M-&gt;2344M(6118M) 388.430ms\n[9.515s][info][gc] GC(21) Pause Young (G1 Evacuation Pause) 2615M-&gt;2617M(6118M) 439.557ms\n[10.477s][info][gc] GC(22) Pause Young (G1 Evacuation Pause) 2883M-&gt;2884M(6118M) 451.488ms\n[11.489s][info][gc] GC(23) Pause Initial Mark (G1 Evacuation Pause) 3150M-&gt;3152M(6118M) 443.329ms\n[11.489s][info][gc] GC(24) Concurrent Cycle\n[12.660s][info][gc] GC(25) Pause Young (G1 Evacuation Pause) 3418M-&gt;3419M(6538M) 467.964ms\n[14.124s][info][gc] GC(26) Pause Young (G1 Evacuation Pause) 3706M-&gt;3708M(6538M) 454.921ms\n[15.538s][info][gc] GC(27) Pause Young (G1 Evacuation Pause) 3993M-&gt;3995M(6538M) 465.929ms\n[16.945s][info][gc] GC(28) Pause Young (G1 Evacuation Pause) 4280M-&gt;4281M(6538M) 460.913ms\n[18.490s][info][gc] GC(29) Pause Young (G1 Evacuation Pause) 4566M-&gt;4568M(6790M) 493.803ms\n[20.083s][info][gc] GC(30) Pause Young (G1 Evacuation Pause) 4866M-&gt;4868M(6790M) 491.910ms\n[21.516s][info][gc] GC(31) Pause Young (G1 Evacuation Pause) 5164M-&gt;5166M(6790M) 486.847ms\n[22.895s][info][gc] GC(32) Pause Young (G1 Evacuation Pause) 5462M-&gt;5464M(6790M) 443.031ms\n[24.342s][info][gc] GC(33) Pause Young (G1 Evacuation Pause) 5760M-&gt;5762M(6942M) 475.235ms\n[25.258s][info][gc] GC(24) Pause Remark 5988M-&gt;5988M(6942M) 0.794ms\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>[25.827s][info][gc] GC(34) Pause Young (G1 Evacuation Pause) 6066M-&gt;6067M(6942M) 458.463ms\n[27.021s][info][gc] GC(35) Pause Young (G1 Evacuation Pause) 6370M-&gt;6372M(6942M) 448.794ms\n[27.485s][info][gc] GC(24) Pause Cleanup 6484M-&gt;6484M(6942M) 28.631ms\n[27.490s][info][gc] GC(24) Concurrent Cycle 16000.856ms\n[28.250s][info][gc] GC(36) Pause Young (G1 Evacuation Pause) 6675M-&gt;6676M(7024M) 481.748ms\n[29.651s][info][gc] GC(37) To-space exhausted\n[29.651s][info][gc] GC(37) Pause Initial Mark (G1 Evacuation Pause) 6983M-&gt;7127M(7168M) 751.288ms\n[29.651s][info][gc] GC(38) Concurrent Cycle\n[30.135s][info][gc] GC(39) To-space exhausted\n[30.135s][info][gc] GC(39) Pause Young (G1 Evacuation Pause) 7168M-&gt;7168M(7168M) 203.578ms\n[30.205s][info][gc] GC(40) Pause Young (G1 Evacuation Pause) 7168M-&gt;7168M(7168M) 69.831ms\n[53.924s][info][gc] GC(41) Pause Full (Allocation Failure) 7168M-&gt;6955M(7168M) 23719.072ms\n[53.924s][info][gc] GC(38) Concurrent Cycle 24273.544ms\n[54.654s][info][gc] GC(42) To-space exhausted\n[54.654s][info][gc] GC(42) Pause Young (G1 Evacuation Pause) 7167M-&gt;7167M(7168M) 484.771ms\n[54.811s][info][gc] GC(43) Pause Initial Mark (G1 Evacuation Pause) 7167M-&gt;7167M(7168M) 156.984ms\n[54.811s][info][gc] GC(44) Concurrent Cycle\n[75.187s][info][gc] GC(45) Pause Full (Allocation Failure) 7167M-&gt;7166M(7168M) 20375.807ms\n[75.187s][info][gc] GC(44) Concurrent Cycle 20375.993ms\n[75.197s][info][gc] GC(46) To-space exhausted\n[75.197s][info][gc] GC(46) Pause Young (G1 Evacuation Pause) 7167M-&gt;7167M(7168M) 8.585ms\n[75.199s][info][gc] GC(47) Pause Initial Mark (G1 Evacuation Pause) 7167M-&gt;7167M(7168M) 1.773ms\n[75.199s][info][gc] GC(48) Concurrent Cycle\n[95.382s][info][gc] GC(49) Pause Full (Allocation Failure) 7167M-&gt;7167M(7168M) 20183.050ms\n[115.575s][info][gc] GC(50) Pause Full (Allocation Failure) 7167M-&gt;7167M(7168M) 20192.989ms\n[115.575s][info][gc] GC(48) Concurrent Cycle 40376.227ms\n[115.581s][info][gc] GC(51) Pause Young (G1 Evacuation Pause) 7167M-&gt;7167M(7168M) 2.649ms\n[115.613s][info][gc] GC(52) Pause Initial Mark (G1 Evacuation Pause) 7167M-&gt;7167M(7168M) 0.629ms\n[115.613s][info][gc] GC(53) Concurrent Cycle\n[119.694s][info][gc] GC(54) Pause Full (Allocation Failure) 7167M-&gt;0M(8M) 4080.414ms\n[119.694s][info][gc] GC(53) Concurrent Cycle 4080.622ms\nException in thread \"main\" java.lang.OutOfMemoryError: Java heap space\n    at java.base/java.util.LinkedList.linkBefore(LinkedList.java:162)\n    at java.base/java.util.LinkedList$ListItr.add(LinkedList.java:952)\n    at test.Tmp.main(Tmp.java:32)\n</code></pre>\n\n<p>Note the reported pauses at <code>[53.924s]</code>, <code>[75.187s]</code>, <code>[95.382s]</code>, and <code>[115.575s]</code> of over 20 seconds each…</p>\n"},{"tags":[],"owner":{"account_id":4665915,"reputation":1291,"user_id":3778976,"display_name":"Brad Schoening"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638459067,"creation_date":1638459067,"answer_id":70202223,"question_id":49764942,"body_markdown":"I wrote a jshell script which creates what G1GC calls *humongous* objects which automatically bypass Eden and Survivor space.  Humongous allocations are allocations that are larger than 50% of the region size (HeapRegionSize) in G1.\r\n\r\nYou can find the code it here\r\n\r\n[GCAllocationTest.jsh][1]\r\n\r\n\r\n  [1]: https://github.com/bschoening/gc_log/blob/main/GCAllocationTest.jsh","title":"How to make a long time Full GC in Java manually","body":"<p>I wrote a jshell script which creates what G1GC calls <em>humongous</em> objects which automatically bypass Eden and Survivor space.  Humongous allocations are allocations that are larger than 50% of the region size (HeapRegionSize) in G1.</p>\n<p>You can find the code it here</p>\n<p><a href=\"https://github.com/bschoening/gc_log/blob/main/GCAllocationTest.jsh\" rel=\"nofollow noreferrer\">GCAllocationTest.jsh</a></p>\n"}],"owner":{"account_id":6870530,"reputation":161,"user_id":5281066,"display_name":"Gnayils"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49819738,"answer_count":2,"score":2,"last_activity_date":1638459067,"creation_date":1523408993,"question_id":49764942,"body_markdown":"How to write some code to allocate the objects into Old Gen that will cause the full GC time longer than three or five seconds?","title":"How to make a long time Full GC in Java manually","body":"<p>How to write some code to allocate the objects into Old Gen that will cause the full GC time longer than three or five seconds?</p>\n"},{"tags":["java","hazelcast"],"answers":[{"tags":[],"owner":{"account_id":329509,"reputation":3154,"user_id":653069,"display_name":"kwart"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638458984,"creation_date":1638458984,"answer_id":70202200,"question_id":70201116,"body_markdown":"You are right. The security features (including authentication or socket interceptors) are only available in the Enterprise edition.\r\n\r\nYou can still improve the security of the community edition by following steps:\r\n* Use a custom cluster name for each cluster;\r\n* Disable member multicast discovery/join method to prevent broadcasting the cluster name;\r\n* Use advanced networking and separate client and member sockets. Make the member protocol socket visible only from other machines joined into the cluster;\r\n* Bind Server sockets to a single network interface (disable `hazelcast.socket.server.bind.any`). It binds to all interfaces by default (`0.0.0.0`).\r\n\r\nYou can see all the security recommendations in the Hazelcast member log by starting the server with the following system property (available in version 5 or newer): `-Dhazelcast.security.recommendations`","title":"Hazelcast upgrade 3.x to 5 - How to set up group / cluster password with Spring?","body":"<p>You are right. The security features (including authentication or socket interceptors) are only available in the Enterprise edition.</p>\n<p>You can still improve the security of the community edition by following steps:</p>\n<ul>\n<li>Use a custom cluster name for each cluster;</li>\n<li>Disable member multicast discovery/join method to prevent broadcasting the cluster name;</li>\n<li>Use advanced networking and separate client and member sockets. Make the member protocol socket visible only from other machines joined into the cluster;</li>\n<li>Bind Server sockets to a single network interface (disable <code>hazelcast.socket.server.bind.any</code>). It binds to all interfaces by default (<code>0.0.0.0</code>).</li>\n</ul>\n<p>You can see all the security recommendations in the Hazelcast member log by starting the server with the following system property (available in version 5 or newer): <code>-Dhazelcast.security.recommendations</code></p>\n"}],"owner":{"account_id":2233448,"reputation":1503,"user_id":1970487,"accept_rate":56,"display_name":"Cristina_eGold"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1928,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70202200,"answer_count":1,"score":1,"last_activity_date":1638458984,"creation_date":1638454744,"question_id":70201116,"body_markdown":"I&#39;m trying to upgrade a Hazelcast cluster in a Java Spring-powered app from v3 to v5, mostly by following the [official migration guide](https://docs.hazelcast.com/imdg/4.2/migration-guides), where it is stated that the terminology has been changed and that Groups have become Clusters.\r\n\r\nHere, it&#39;s stated that configuration before v4 that looked as follows:\r\n```\r\n&lt;hazelcast&gt;\r\n    &lt;group&gt;\r\n        &lt;name&gt;dev&lt;/name&gt;\r\n        &lt;password&gt;dev-pass&lt;/password&gt;\r\n    &lt;/group&gt;\r\n&lt;/hazelcast&gt;\r\n```\r\nNow transforms into:\r\n```\r\n&lt;hazelcast&gt;\r\n    &lt;cluster-name&gt;dev&lt;/cluster-name&gt;\r\n&lt;/hazelcast&gt;\r\n```\r\nWhich, in turn, I converted to:\r\n```\r\n&lt;hz:cluster-name&gt;my-cluster-name&lt;/hz:cluster-name&gt;\r\n```\r\nHowever, there is no such thing as a Cluster password, as was the case with Groups, apparently since v3.11, according to the [GroupConfig javadoc](https://docs.hazelcast.org/docs/3.12/javadoc/com/hazelcast/config/GroupConfig.html):\r\n&gt; since 3.11, password check is removed. Passwords are only checked in default LoginModule when Hazelcast security is enabled (Enterprise edition only).\r\n\r\nIs there no way for free edition users to set a password on their cluster anymore? \r\n\r\nSecurity realms seem a bit overly complicated for this purpose, and it&#39;s my understanding they are not available for community-edition users either.","title":"Hazelcast upgrade 3.x to 5 - How to set up group / cluster password with Spring?","body":"<p>I'm trying to upgrade a Hazelcast cluster in a Java Spring-powered app from v3 to v5, mostly by following the <a href=\"https://docs.hazelcast.com/imdg/4.2/migration-guides\" rel=\"nofollow noreferrer\">official migration guide</a>, where it is stated that the terminology has been changed and that Groups have become Clusters.</p>\n<p>Here, it's stated that configuration before v4 that looked as follows:</p>\n<pre><code>&lt;hazelcast&gt;\n    &lt;group&gt;\n        &lt;name&gt;dev&lt;/name&gt;\n        &lt;password&gt;dev-pass&lt;/password&gt;\n    &lt;/group&gt;\n&lt;/hazelcast&gt;\n</code></pre>\n<p>Now transforms into:</p>\n<pre><code>&lt;hazelcast&gt;\n    &lt;cluster-name&gt;dev&lt;/cluster-name&gt;\n&lt;/hazelcast&gt;\n</code></pre>\n<p>Which, in turn, I converted to:</p>\n<pre><code>&lt;hz:cluster-name&gt;my-cluster-name&lt;/hz:cluster-name&gt;\n</code></pre>\n<p>However, there is no such thing as a Cluster password, as was the case with Groups, apparently since v3.11, according to the <a href=\"https://docs.hazelcast.org/docs/3.12/javadoc/com/hazelcast/config/GroupConfig.html\" rel=\"nofollow noreferrer\">GroupConfig javadoc</a>:</p>\n<blockquote>\n<p>since 3.11, password check is removed. Passwords are only checked in default LoginModule when Hazelcast security is enabled (Enterprise edition only).</p>\n</blockquote>\n<p>Is there no way for free edition users to set a password on their cluster anymore?</p>\n<p>Security realms seem a bit overly complicated for this purpose, and it's my understanding they are not available for community-edition users either.</p>\n"},{"tags":["java","eclipse","cucumber"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1638459373,"post_id":70202081,"comment_id":124098926,"body_markdown":"Install the Plug-in Development Environment from your Eclipse Project Updates update site first.","body":"Install the Plug-in Development Environment from your Eclipse Project Updates update site first."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1638463225,"post_id":70202081,"comment_id":124100738,"body_markdown":"You need an Eclipse that includes Eclipse PDE (Plugin Dev. Env.) either by adding it to your existing Eclipse or downloading one of the packages that include it.","body":"You need an Eclipse that includes Eclipse PDE (Plugin Dev. Env.) either by adding it to your existing Eclipse or downloading one of the packages that include it."}],"owner":{"account_id":23526179,"reputation":1,"user_id":17572679,"display_name":"Vinayak Londhe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638458561,"creation_date":1638458561,"question_id":70202081,"body_markdown":"Issue while adding cucumber in eclipse.\r\nI tried with adding some jars , uninstall and install still facing issue. I have been facing this issue for last 2 months. And I am working on client network so I can&#39;t use some links like GitHub. I have to install cucumber from offline mode. \r\n\r\nCucumber editor jar file is present but in eclipse plugin it is not showing there. Please help me and give some solution on this persistent issue.\r\n\r\nCannot complete the install because one or more required items could not be found.\r\nSoftware being installed: Cucumber Eclipse 1.0.0.201904151253(cucumber.eclipse.feature.feature.group 1.0.0.201904151253)\r\nMissing requirement: Cucumber Editor 1.0.0.201904151253 ( cucumber.eclipse.editor 1.0.0.201904151253) requires &#39;osgi.bundle;org.eclipse.pde.ui 3.5.0&#39; but it could not be found\r\nCannot satisfy dependency:\r\nFrom: Cucumber Eclipse 1.0.0.201904151253(cucumber.eclipse.feature.feature.group 1.0.0.201904151253)\r\nTo:org.eclipse.equinox.p2.iu; cucumber.eclipse.editor[1.0.0.201904151253, 1.0.0.201904151253]","title":"While adding cucumber in eclipse I am getting an error","body":"<p>Issue while adding cucumber in eclipse.\nI tried with adding some jars , uninstall and install still facing issue. I have been facing this issue for last 2 months. And I am working on client network so I can't use some links like GitHub. I have to install cucumber from offline mode.</p>\n<p>Cucumber editor jar file is present but in eclipse plugin it is not showing there. Please help me and give some solution on this persistent issue.</p>\n<p>Cannot complete the install because one or more required items could not be found.\nSoftware being installed: Cucumber Eclipse 1.0.0.201904151253(cucumber.eclipse.feature.feature.group 1.0.0.201904151253)\nMissing requirement: Cucumber Editor 1.0.0.201904151253 ( cucumber.eclipse.editor 1.0.0.201904151253) requires 'osgi.bundle;org.eclipse.pde.ui 3.5.0' but it could not be found\nCannot satisfy dependency:\nFrom: Cucumber Eclipse 1.0.0.201904151253(cucumber.eclipse.feature.feature.group 1.0.0.201904151253)\nTo:org.eclipse.equinox.p2.iu; cucumber.eclipse.editor[1.0.0.201904151253, 1.0.0.201904151253]</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1638450732,"post_id":70200036,"comment_id":124094742,"body_markdown":"https://codereview.stackexchange.com/","body":"<a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638450700,"creation_date":1638450700,"answer_id":70200123,"question_id":70200036,"body_markdown":"You can at least avoid the repetition.\r\n\r\n    public void setSHAShortSha() {\r\n        String s = &quot;&quot;;\r\n        for (Blob b : blobHashMap.values()) {\r\n            s += b.toString();\r\n        }\r\n        if (parentTracked != null) {\r\n            for (Blob b : parentTracked.values()) {\r\n                s += b.toString();\r\n            }\r\n        }\r\n        sha = Utils.sha1(logMessage + dateFormatted + s);\r\n        shortSha = MyUtils.getShortSha(sha);\r\n    }","title":"Simplifying loops over hashmap values","body":"<p>You can at least avoid the repetition.</p>\n<pre><code>public void setSHAShortSha() {\n    String s = &quot;&quot;;\n    for (Blob b : blobHashMap.values()) {\n        s += b.toString();\n    }\n    if (parentTracked != null) {\n        for (Blob b : parentTracked.values()) {\n            s += b.toString();\n        }\n    }\n    sha = Utils.sha1(logMessage + dateFormatted + s);\n    shortSha = MyUtils.getShortSha(sha);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638458247,"creation_date":1638451342,"answer_id":70200263,"question_id":70200036,"body_markdown":"You can join all of the values with streams:\r\n\r\n```\r\ns += blobHashMap.values().stream().map(Object::toString).collect(Collectors.joining());\r\n```","title":"Simplifying loops over hashmap values","body":"<p>You can join all of the values with streams:</p>\n<pre><code>s += blobHashMap.values().stream().map(Object::toString).collect(Collectors.joining());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9006957,"reputation":41,"user_id":6713351,"display_name":"Sandra Peters"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638451388,"creation_date":1638451388,"answer_id":70200270,"question_id":70200036,"body_markdown":"you can use the forEach Method of the Map, like this:\r\n\r\n    StringBuilder stringBuilder = new StringBuilder();\r\n        blobHashMap.forEach((key, blob) -&gt; {\r\n            stringBuilder.append(blob.toString());\r\n        });\r\n        if (parentTracked != null) {\r\n            parentTracked.forEach((key, blob) -&gt; {\r\n                stringBuilder.append(blob.toString());\r\n            });\r\n        }\r\n        sha = Utils.sha1(logMessage + dateFormatted + stringBuilder.toString());\r\n        shortSha = MyUtils.getShortSha(sha);\r\n    }","title":"Simplifying loops over hashmap values","body":"<p>you can use the forEach Method of the Map, like this:</p>\n<pre><code>StringBuilder stringBuilder = new StringBuilder();\n    blobHashMap.forEach((key, blob) -&gt; {\n        stringBuilder.append(blob.toString());\n    });\n    if (parentTracked != null) {\n        parentTracked.forEach((key, blob) -&gt; {\n            stringBuilder.append(blob.toString());\n        });\n    }\n    sha = Utils.sha1(logMessage + dateFormatted + stringBuilder.toString());\n    shortSha = MyUtils.getShortSha(sha);\n}\n</code></pre>\n"}],"owner":{"account_id":23198361,"reputation":389,"user_id":17293622,"display_name":"daniel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70200263,"answer_count":3,"score":-1,"last_activity_date":1638458247,"creation_date":1638450349,"question_id":70200036,"body_markdown":"I have the following code: &lt;br&gt;\r\n\r\n    public void setSHAShortSha() {\r\n            if (parentTracked == null) {\r\n                String s = &quot;&quot;;\r\n                for (Blob b : blobHashMap.values()) {\r\n                    s += b.toString();\r\n                }\r\n                sha = Utils.sha1(logMessage + dateFormatted + s);\r\n            } else {\r\n                String s = &quot;&quot;;\r\n                for (Blob b : blobHashMap.values()) {\r\n                    s += b.toString();\r\n                }\r\n                for (Blob b : parentTracked.values()) {\r\n                    s += b.toString();\r\n                }\r\n                sha = Utils.sha1(logMessage + dateFormatted + s);\r\n            }\r\n            shortSha = MyUtils.getShortSha(sha);\r\n        }\r\n&lt;br&gt;\r\nThis looks a lot complex. Could there be a simpler way to write it in java?\r\n\r\n     boolean found = false;\r\n            for (Commit commit : commits.values()) {\r\n                if (commit.getLogMessage().compareTo(commitMessageToSearch) == 0) {\r\n                    System.out.println(commit.getSha());\r\n                    found = true;\r\n                }\r\n            }\r\n            if (!found) {\r\n                System.out.println(&quot;aksdhlkasj&quot;);\r\n            }\r\n\r\nAdding one more code as that is on the same lines. I am little unfamiliar with different forms of for loop and streams need help converting them","title":"Simplifying loops over hashmap values","body":"<p>I have the following code: <br></p>\n<pre><code>public void setSHAShortSha() {\n        if (parentTracked == null) {\n            String s = &quot;&quot;;\n            for (Blob b : blobHashMap.values()) {\n                s += b.toString();\n            }\n            sha = Utils.sha1(logMessage + dateFormatted + s);\n        } else {\n            String s = &quot;&quot;;\n            for (Blob b : blobHashMap.values()) {\n                s += b.toString();\n            }\n            for (Blob b : parentTracked.values()) {\n                s += b.toString();\n            }\n            sha = Utils.sha1(logMessage + dateFormatted + s);\n        }\n        shortSha = MyUtils.getShortSha(sha);\n    }\n</code></pre>\n<br>\nThis looks a lot complex. Could there be a simpler way to write it in java?\n<pre><code> boolean found = false;\n        for (Commit commit : commits.values()) {\n            if (commit.getLogMessage().compareTo(commitMessageToSearch) == 0) {\n                System.out.println(commit.getSha());\n                found = true;\n            }\n        }\n        if (!found) {\n            System.out.println(&quot;aksdhlkasj&quot;);\n        }\n</code></pre>\n<p>Adding one more code as that is on the same lines. I am little unfamiliar with different forms of for loop and streams need help converting them</p>\n"},{"tags":["java","android","navbar","android-immersive"],"owner":{"account_id":6985666,"reputation":41,"user_id":5356733,"display_name":"ByMedion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638458231,"creation_date":1638458231,"question_id":70202008,"body_markdown":"I have an exotic task and for it I need to know when the immersive bottom navbar is displayed and when it is hidden. Is there any callback for this in the Android SDK?","title":"Android: How to get visibility status of immersive navigation bar","body":"<p>I have an exotic task and for it I need to know when the immersive bottom navbar is displayed and when it is hidden. Is there any callback for this in the Android SDK?</p>\n"},{"tags":["java","jdbc","jar"],"comments":[{"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"score":0,"creation_date":1638440561,"post_id":70197578,"comment_id":124090600,"body_markdown":"I assume the path you are referencing within your classpath actually exists. Java does not emit errors when adding non-existent files or folders to the classpath. However, you can add `DriverManager.setLogWriter(/*something useful*/)` at some point in your code to get some debug logging for Java&#39;s JDBC driver discovery.","body":"I assume the path you are referencing within your classpath actually exists. Java does not emit errors when adding non-existent files or folders to the classpath. However, you can add <code>DriverManager.setLogWriter(&#47;*something useful*&#47;)</code> at some point in your code to get some debug logging for Java&#39;s JDBC driver discovery."},{"owner":{"account_id":23523358,"reputation":1,"user_id":17570209,"display_name":"NightJob"},"score":0,"creation_date":1638440625,"post_id":70197578,"comment_id":124090621,"body_markdown":"Thank you for the quick comment.\nActually, a minute ago I downloaded the latest xerial\\sqlite-jdbc jar file from GitHub and it magically works now, when using the -classpath flag to specify that jar file.\nThank you.","body":"Thank you for the quick comment. Actually, a minute ago I downloaded the latest xerial\\sqlite-jdbc jar file from GitHub and it magically works now, when using the -classpath flag to specify that jar file. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":23523358,"reputation":1,"user_id":17570209,"display_name":"NightJob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638440770,"creation_date":1638440770,"answer_id":70197751,"question_id":70197578,"body_markdown":"My solution:\r\n\r\nI downloaded the latest xerial\\sqlite-jdbc jar file from GitHub and it magically works now, when using the -classpath flag to specify that jar file.","title":"Unable to use JAR file when running a java file","body":"<p>My solution:</p>\n<p>I downloaded the latest xerial\\sqlite-jdbc jar file from GitHub and it magically works now, when using the -classpath flag to specify that jar file.</p>\n"}],"owner":{"account_id":23523358,"reputation":1,"user_id":17570209,"display_name":"NightJob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638457860,"creation_date":1638439942,"question_id":70197578,"body_markdown":"I&#39;ve been trying to use a JAR file (&quot;sqlite-jdbc-3.7.2.jar&quot;) in my java program when running it via the command prompt, but no matter which way I try to specify it with the -classpath flag, it just won&#39;t work.\r\nThrough I command prompt I ran:\r\n\r\n```javac -classpath &quot;.\\sqlite-jdbc-3.7.2.jar&quot; myProgram.java```\r\n\r\nand then:\r\n\r\n```java -classpath &quot;.\\sqlite-jdbc-3.7.2.jar&quot; myProgram.java```\r\n\r\nAnd my program keeps returning the exception:\r\n\r\n```No suitable driver found for jdbc:sqlite:[My db file path]```\r\n\r\nI also tried using the -classpath flag like so:\r\n\r\n```-classpath &quot;.;.\\sqlite-jdbc-3.7.2.jar&quot;```\r\n\r\nbut this yields the same result.\r\n\r\nNote that I did make the same program work with the JAR file via Eclipse, but I really prefer not to use Eclipse. I&#39;d like to understand why it won&#39;t simply work with the command prompt.\r\n\r\n","title":"Unable to use JAR file when running a java file","body":"<p>I've been trying to use a JAR file (&quot;sqlite-jdbc-3.7.2.jar&quot;) in my java program when running it via the command prompt, but no matter which way I try to specify it with the -classpath flag, it just won't work.\nThrough I command prompt I ran:</p>\n<p><code>javac -classpath &quot;.\\sqlite-jdbc-3.7.2.jar&quot; myProgram.java</code></p>\n<p>and then:</p>\n<p><code>java -classpath &quot;.\\sqlite-jdbc-3.7.2.jar&quot; myProgram.java</code></p>\n<p>And my program keeps returning the exception:</p>\n<p><code>No suitable driver found for jdbc:sqlite:[My db file path]</code></p>\n<p>I also tried using the -classpath flag like so:</p>\n<p><code>-classpath &quot;.;.\\sqlite-jdbc-3.7.2.jar&quot;</code></p>\n<p>but this yields the same result.</p>\n<p>Note that I did make the same program work with the JAR file via Eclipse, but I really prefer not to use Eclipse. I'd like to understand why it won't simply work with the command prompt.</p>\n"},{"tags":["java","macos","macos-big-sur"],"comments":[{"owner":{"account_id":8763927,"reputation":1512,"user_id":6553042,"display_name":"fuat"},"score":0,"creation_date":1608217885,"post_id":65343095,"comment_id":115520749,"body_markdown":"take a look https://github.com/barrykn/big-sur-micropatcher","body":"take a look <a href=\"https://github.com/barrykn/big-sur-micropatcher\" rel=\"nofollow noreferrer\">github.com/barrykn/big-sur-micropatcher</a>"},{"owner":{"account_id":2218,"reputation":16624,"user_id":3050,"accept_rate":95,"display_name":"Paul Whelan"},"score":0,"creation_date":1608218015,"post_id":65343095,"comment_id":115520826,"body_markdown":"Have a look at https://github.com/Cleafy/sxkdvm or https://www.macincloud.com/","body":"Have a look at <a href=\"https://github.com/Cleafy/sxkdvm\" rel=\"nofollow noreferrer\">github.com/Cleafy/sxkdvm</a> or <a href=\"https://www.macincloud.com/\" rel=\"nofollow noreferrer\">macincloud.com</a>"},{"owner":{"account_id":2435703,"reputation":21468,"user_id":2125671,"display_name":"Philippe"},"score":0,"creation_date":1608219386,"post_id":65343095,"comment_id":115521455,"body_markdown":"@PaulWhelan For sxkdvm, can we do it on Windows ?","body":"@PaulWhelan For sxkdvm, can we do it on Windows ?"},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1609007623,"post_id":65343095,"comment_id":115729578,"body_markdown":"@PaulWhelan it syas for macincloud access is via rdp, is this remote desktop and if so is this only available from a BigSur machine ?","body":"@PaulWhelan it syas for macincloud access is via rdp, is this remote desktop and if so is this only available from a BigSur machine ?"}],"answers":[{"tags":[],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638457799,"creation_date":1638457799,"answer_id":70201898,"question_id":65343095,"body_markdown":"macincloud.com worked reasonably well, but i have seinced moved to purchasing a physical G1 machine since it can  use Java via Rosetta emulation","title":"Testing against MacOS Big Sur without having suitable MacOS machine","body":"<p>macincloud.com worked reasonably well, but i have seinced moved to purchasing a physical G1 machine since it can  use Java via Rosetta emulation</p>\n"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1638458052,"accepted_answer_id":70201898,"answer_count":1,"score":1,"last_activity_date":1638457799,"creation_date":1608216975,"question_id":65343095,"body_markdown":"I sell a Java based application on MacOS and need to test it against Big Sur.\r\n\r\nI have two MacOS computers but neither can be upgraded to *Big Sur*, at some point I will have to invest in a new machine but by default they use the new *G1* cpu, and currently there is no Java jdk for this so if I purchased a G1 machine it would be no use for testing. I could purchase a new *Intel* machine instead but then I wouldn&#39;t be able to test Java on G1 when it did become available, and would have to but another machine.\r\n\r\nSo is there a way I can rent a Mac remotely and try it out, need to be able to use the Gui not just a Terminal ?\r\n\r\nI have had a look but couldn&#39;t find anything.\r\n ","title":"Testing against MacOS Big Sur without having suitable MacOS machine","body":"<p>I sell a Java based application on MacOS and need to test it against Big Sur.</p>\n<p>I have two MacOS computers but neither can be upgraded to <em>Big Sur</em>, at some point I will have to invest in a new machine but by default they use the new <em>G1</em> cpu, and currently there is no Java jdk for this so if I purchased a G1 machine it would be no use for testing. I could purchase a new <em>Intel</em> machine instead but then I wouldn't be able to test Java on G1 when it did become available, and would have to but another machine.</p>\n<p>So is there a way I can rent a Mac remotely and try it out, need to be able to use the Gui not just a Terminal ?</p>\n<p>I have had a look but couldn't find anything.</p>\n"},{"tags":["java","xml","spring","jackson","deserialization"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1638458576,"post_id":70201815,"comment_id":124098539,"body_markdown":"`2002-09-24-06:00` is not a date and time. It’s a date with a UTC offset.","body":"<code>2002-09-24-06:00</code> is not a date and time. It’s a date with a UTC offset."},{"owner":{"account_id":12582707,"reputation":183,"user_id":9152817,"display_name":"szelelaci"},"score":0,"creation_date":1638459091,"post_id":70201815,"comment_id":124098786,"body_markdown":"Nice catch, you are right! Fixed it, still not working","body":"Nice catch, you are right! Fixed it, still not working"}],"owner":{"account_id":12582707,"reputation":183,"user_id":9152817,"display_name":"szelelaci"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638457452,"creation_date":1638457452,"question_id":70201815,"body_markdown":"I am working on a proof of concept, where a microservice is receiving xml requests which are generated from wsdl files. The goal is to translate them into json format and forward them. I am trying to test them with unit tests. As it turned out the dates cannot be deserialized from the xml file.\r\nThe DateWrapper object in the controller has nulls as values so it dies right at the beginning:\r\n\r\n```DateWrapper(dateTime=null, date=null)```\r\n\r\nWhat am I missing?\r\n\r\n**in the pom.xml:**\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.4.2&lt;/version&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;generate-sources&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;initialize&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;sourceRoot&gt;src/main/java&lt;/sourceRoot&gt;\r\n\t\t\t\t\t&lt;wsdlOptions&gt;\r\n\t\t\t\t\t\t&lt;wsdlOption&gt;\r\n\t\t\t\t\t\t\t&lt;wsdl&gt;${basedir}/src/main/resources/test/wsdl/dateTest.wsdl&lt;/wsdl&gt;\r\n\t\t\t\t\t\t\t&lt;bindingFiles&gt;\r\n\t\t\t\t\t\t\t\t&lt;bindingFile&gt;${basedir}/src/main/resources/bindings.xml&lt;/bindingFile&gt;\r\n\t\t\t\t\t\t\t&lt;/bindingFiles&gt;\r\n\t\t\t\t\t\t\t&lt;packagenames&gt;\r\n\t\t\t\t\t\t\t\t&lt;packagename&gt;foo.bar.converter.wsdl&lt;/packagename&gt;\r\n\t\t\t\t\t\t\t&lt;/packagenames&gt;\r\n\t\t\t\t\t\t&lt;/wsdlOption&gt;\r\n\t\t\t\t\t&lt;/wsdlOptions&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.8.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.2&lt;/version&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.13.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.13.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n**the wsdl used for java class generation:**\r\n```\r\n&lt;definitions\r\n        xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\r\n        xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n        targetNamespace=&quot;&quot;&gt;\r\n    &lt;types&gt;\r\n        &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n            &lt;xs:element name=&quot;dateWrapper&quot;&gt;\r\n                &lt;xs:complexType&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element name=&quot;dateTime&quot; type=&quot;xs:dateTime&quot;/&gt;\r\n                        &lt;xs:element name=&quot;date&quot; type=&quot;xs:date&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                &lt;/xs:complexType&gt;\r\n            &lt;/xs:element&gt;\r\n        &lt;/xs:schema&gt;\r\n    &lt;/types&gt;\r\n&lt;/definitions&gt;\r\n```\r\n**the generated java class**\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = {\r\n    &quot;dateTime&quot;,\r\n    &quot;date&quot;\r\n})\r\n@XmlRootElement(name = &quot;dateWrapper&quot;)\r\npublic class DateWrapper\r\n    implements Serializable\r\n{\r\n\r\n    private final static long serialVersionUID = 7702L;\r\n    @XmlElement(required = true, type = String.class)\r\n    @XmlJavaTypeAdapter(OffsetDateTimeAdapter.class)\r\n    @XmlSchemaType(name = &quot;dateTime&quot;)\r\n    protected OffsetDateTime dateTime;\r\n    @XmlElement(required = true, type = String.class)\r\n    @XmlJavaTypeAdapter(LocalDateAdapter.class)\r\n    @XmlSchemaType(name = &quot;date&quot;)\r\n    @JsonDeserialize(using = LocalDateDeserializer.class)\r\n    protected LocalDate date;\r\n```\r\n**the service methods to convert **\r\n```\r\n    public String convertDateToJson(DateWrapper dateWrapper) {\r\n        GsonBuilder gsonBuilder = new GsonBuilder();\r\n        gsonBuilder.setPrettyPrinting();\r\n        gsonBuilder.disableHtmlEscaping();\r\n        Gson gson = gsonBuilder.create();\r\n        String result = gson.toJson(dateWrapper, DateWrapper.class);\r\n        return result;\r\n    }\r\n\r\n\r\n    @Override\r\n    public String fileToJsonString(String path) {\r\n        try(InputStream in=Thread.currentThread().getContextClassLoader().getResourceAsStream(path)){\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            JsonNode jsonNode = mapper.readValue(in,\r\n                    JsonNode.class);\r\n            String jsonString = mapper.writeValueAsString(jsonNode);\r\n            return jsonString;\r\n        }\r\n        catch(Exception e){\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\n**the date adapter (the other one is looks like this one but it converts to OffsetDateTime)**\r\n```\r\npublic class OffsetDateTimeAdapter extends XmlAdapter&lt;String, OffsetDateTime&gt; {\r\n\r\n    @Override\r\n    public OffsetDateTime unmarshal(String inputDate) throws Exception {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public String marshal(OffsetDateTime inputDate) throws Exception {\r\n        return inputDate.toString();\r\n    }\r\n}\r\n```\r\n**controller**\r\n```\r\n@RestController\r\npublic class ConverterController {\r\n\r\n    @Autowired\r\n    ConverterService converterService;\r\n    \r\n    @RequestMapping(method = RequestMethod.POST, path = &quot;/convert-date&quot;, consumes = &quot;application/xml&quot;)\r\n    public String convertDateToJson(@RequestBody DateWrapper dateWrapper, HttpServletRequest request) throws Exception {\r\n        String result = this.converterService.convertDateToJson(dateWrapper);\r\n        return result;\r\n    }\r\n}\r\n```\r\n**Test**\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\npublic class ConverterControllerTest {\r\n\r\n    @Test\r\n    public void shouldConvertDates() throws Exception {\r\n        MockHttpServletRequestBuilder request = MockMvcRequestBuilders.post(&quot;/convert-date&quot;)\r\n                .contentType(MediaType.APPLICATION_XML)\r\n                .content(this.getResourceAsString(&quot;classpath:test/request/dateTest.xml&quot;));\r\n        String json = converterService.fileToJsonString(&quot;test/expected/date.json&quot;);\r\n        mvc.perform(request).andExpect(MockMvcResultMatchers.content().json(json));\r\n    }\r\n\r\n}\r\n\r\n```\r\n**the xml used for the request**\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;dateWrapper&gt;\r\n    &lt;dateTime&gt;2002-09-24-06:00&lt;/dateTime&gt;\r\n    &lt;date&gt;2002-09-24&lt;/date&gt;\r\n&lt;/dateWrapper&gt;\r\n\r\n```\r\n**the json used for the test**\r\n```\r\n{&quot;dateTime&quot;: &quot;2002-09-24-06:00&quot;,&quot;date&quot;: &quot;2002-09-24&quot;}\r\n```\r\n","title":"Java Spring XML LocalDate deserialization produces null values","body":"<p>I am working on a proof of concept, where a microservice is receiving xml requests which are generated from wsdl files. The goal is to translate them into json format and forward them. I am trying to test them with unit tests. As it turned out the dates cannot be deserialized from the xml file.\nThe DateWrapper object in the controller has nulls as values so it dies right at the beginning:</p>\n<p><code>DateWrapper(dateTime=null, date=null)</code></p>\n<p>What am I missing?</p>\n<p><strong>in the pom.xml:</strong></p>\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n        &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.4.2&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;generate-sources&lt;/id&gt;\n                &lt;phase&gt;initialize&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;wsdl2java&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;sourceRoot&gt;src/main/java&lt;/sourceRoot&gt;\n                    &lt;wsdlOptions&gt;\n                        &lt;wsdlOption&gt;\n                            &lt;wsdl&gt;${basedir}/src/main/resources/test/wsdl/dateTest.wsdl&lt;/wsdl&gt;\n                            &lt;bindingFiles&gt;\n                                &lt;bindingFile&gt;${basedir}/src/main/resources/bindings.xml&lt;/bindingFile&gt;\n                            &lt;/bindingFiles&gt;\n                            &lt;packagenames&gt;\n                                &lt;packagename&gt;foo.bar.converter.wsdl&lt;/packagename&gt;\n                            &lt;/packagenames&gt;\n                        &lt;/wsdlOption&gt;\n                    &lt;/wsdlOptions&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p><strong>the wsdl used for java class generation:</strong></p>\n<pre><code>&lt;definitions\n        xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\n        xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n        targetNamespace=&quot;&quot;&gt;\n    &lt;types&gt;\n        &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n            &lt;xs:element name=&quot;dateWrapper&quot;&gt;\n                &lt;xs:complexType&gt;\n                    &lt;xs:sequence&gt;\n                        &lt;xs:element name=&quot;dateTime&quot; type=&quot;xs:dateTime&quot;/&gt;\n                        &lt;xs:element name=&quot;date&quot; type=&quot;xs:date&quot;/&gt;\n                    &lt;/xs:sequence&gt;\n                &lt;/xs:complexType&gt;\n            &lt;/xs:element&gt;\n        &lt;/xs:schema&gt;\n    &lt;/types&gt;\n&lt;/definitions&gt;\n</code></pre>\n<p><strong>the generated java class</strong></p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = {\n    &quot;dateTime&quot;,\n    &quot;date&quot;\n})\n@XmlRootElement(name = &quot;dateWrapper&quot;)\npublic class DateWrapper\n    implements Serializable\n{\n\n    private final static long serialVersionUID = 7702L;\n    @XmlElement(required = true, type = String.class)\n    @XmlJavaTypeAdapter(OffsetDateTimeAdapter.class)\n    @XmlSchemaType(name = &quot;dateTime&quot;)\n    protected OffsetDateTime dateTime;\n    @XmlElement(required = true, type = String.class)\n    @XmlJavaTypeAdapter(LocalDateAdapter.class)\n    @XmlSchemaType(name = &quot;date&quot;)\n    @JsonDeserialize(using = LocalDateDeserializer.class)\n    protected LocalDate date;\n</code></pre>\n<p>**the service methods to convert **</p>\n<pre><code>    public String convertDateToJson(DateWrapper dateWrapper) {\n        GsonBuilder gsonBuilder = new GsonBuilder();\n        gsonBuilder.setPrettyPrinting();\n        gsonBuilder.disableHtmlEscaping();\n        Gson gson = gsonBuilder.create();\n        String result = gson.toJson(dateWrapper, DateWrapper.class);\n        return result;\n    }\n\n\n    @Override\n    public String fileToJsonString(String path) {\n        try(InputStream in=Thread.currentThread().getContextClassLoader().getResourceAsStream(path)){\n            ObjectMapper mapper = new ObjectMapper();\n            JsonNode jsonNode = mapper.readValue(in,\n                    JsonNode.class);\n            String jsonString = mapper.writeValueAsString(jsonNode);\n            return jsonString;\n        }\n        catch(Exception e){\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p><strong>the date adapter (the other one is looks like this one but it converts to OffsetDateTime)</strong></p>\n<pre><code>public class OffsetDateTimeAdapter extends XmlAdapter&lt;String, OffsetDateTime&gt; {\n\n    @Override\n    public OffsetDateTime unmarshal(String inputDate) throws Exception {\n        return null;\n    }\n\n    @Override\n    public String marshal(OffsetDateTime inputDate) throws Exception {\n        return inputDate.toString();\n    }\n}\n</code></pre>\n<p><strong>controller</strong></p>\n<pre><code>@RestController\npublic class ConverterController {\n\n    @Autowired\n    ConverterService converterService;\n    \n    @RequestMapping(method = RequestMethod.POST, path = &quot;/convert-date&quot;, consumes = &quot;application/xml&quot;)\n    public String convertDateToJson(@RequestBody DateWrapper dateWrapper, HttpServletRequest request) throws Exception {\n        String result = this.converterService.convertDateToJson(dateWrapper);\n        return result;\n    }\n}\n</code></pre>\n<p><strong>Test</strong></p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@AutoConfigureMockMvc\npublic class ConverterControllerTest {\n\n    @Test\n    public void shouldConvertDates() throws Exception {\n        MockHttpServletRequestBuilder request = MockMvcRequestBuilders.post(&quot;/convert-date&quot;)\n                .contentType(MediaType.APPLICATION_XML)\n                .content(this.getResourceAsString(&quot;classpath:test/request/dateTest.xml&quot;));\n        String json = converterService.fileToJsonString(&quot;test/expected/date.json&quot;);\n        mvc.perform(request).andExpect(MockMvcResultMatchers.content().json(json));\n    }\n\n}\n\n</code></pre>\n<p><strong>the xml used for the request</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;dateWrapper&gt;\n    &lt;dateTime&gt;2002-09-24-06:00&lt;/dateTime&gt;\n    &lt;date&gt;2002-09-24&lt;/date&gt;\n&lt;/dateWrapper&gt;\n\n</code></pre>\n<p><strong>the json used for the test</strong></p>\n<pre><code>{&quot;dateTime&quot;: &quot;2002-09-24-06:00&quot;,&quot;date&quot;: &quot;2002-09-24&quot;}\n</code></pre>\n"},{"tags":["java","swing","oop","jtable","jlist"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1638440891,"post_id":70197610,"comment_id":124090713,"body_markdown":"For better help sooner, [edit] to add a [mre].","body":"For better help sooner, <a href=\"https://stackoverflow.com/posts/70197610/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1638442110,"post_id":70197610,"comment_id":124091155,"body_markdown":"In class `CartTableModel`, at the end of method `setValueAt`, you need to call one of the `fire...` methods of class [AbstractTableModel](https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/table/AbstractTableModel.html). Probably one of either `fireTableDataChanged` or `fireTableCellUpdated` is appropriate.","body":"In class <code>CartTableModel</code>, at the end of method <code>setValueAt</code>, you need to call one of the <code>fire...</code> methods of class <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/table/AbstractTableModel.html\" rel=\"nofollow noreferrer\">AbstractTableModel</a>. Probably one of either <code>fireTableDataChanged</code> or <code>fireTableCellUpdated</code> is appropriate."},{"owner":{"account_id":20950455,"reputation":35,"user_id":15392257,"display_name":"Vince Viloria"},"score":0,"creation_date":1638444160,"post_id":70197610,"comment_id":124091896,"body_markdown":"I tried to put this line of code but it doesn&#39;t work. `fireTableCellUpdated(productList.size(), columnNames.length);`. Sorry, I am a newbie in programming.","body":"I tried to put this line of code but it doesn&#39;t work. <code>fireTableCellUpdated(productList.size(), columnNames.length);</code>. Sorry, I am a newbie in programming."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1638444740,"post_id":70197610,"comment_id":124092134,"body_markdown":"Your code shouldn&#39;t even compile.  You&#39;re missing the unit total (unit quantity?) from your new Product instantiation.","body":"Your code shouldn&#39;t even compile.  You&#39;re missing the unit total (unit quantity?) from your new Product instantiation."},{"owner":{"account_id":20950455,"reputation":35,"user_id":15392257,"display_name":"Vince Viloria"},"score":0,"creation_date":1638445517,"post_id":70197610,"comment_id":124092472,"body_markdown":"The unit total and unit quantity is not included in my constructor. `public ProductInfo(String productName, int id, String variant, String size, double unitPrice)`.","body":"The unit total and unit quantity is not included in my constructor. <code>public ProductInfo(String productName, int id, String variant, String size, double unitPrice)</code>."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1638445652,"post_id":70197610,"comment_id":124092522,"body_markdown":"Refer to [How to Use Tables](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html)","body":"Refer to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">How to Use Tables</a>"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638457283,"creation_date":1638457283,"answer_id":70201769,"question_id":70197610,"body_markdown":"    fireTableCellUpdated(productList.size(), columnNames.length)\r\n\r\nThe row/column values you specify are wrong for two reasons:\r\n\r\n1. you always use the same value no matter what cell you update and\r\n2. java indexes are 0 based, so you are referring to a row/column that doesn&#39;t exist.\r\n\r\nJust use:\r\n\r\n    fireTableCellUpdated(rowIndex, columnIndex)\r\n\r\nAlso:\r\n\r\n    cart.addProduct(new Product(&quot;Coconut Creamy Pie&quot;, 101,&quot;Pastry&quot;,&quot;Med&quot;,79.99));\r\n\r\nis wrong. Once the model is created you need to add the new Product to the `CartTableModel`, NOT the List.\r\n\r\nSo you need to create a method in your CartTableModel to dynamically add products.\r\n\r\nThe basic code would be:\r\n\r\n    public void addProduct(Product product)\r\n    {\r\n        insertProduct(getRowCount(), product);\r\n    }\r\n     \r\n    public void insertProduct(int row, Product product)\r\n    {\r\n        products.add(row, product);\r\n        fireTableRowsInserted(row, row);\r\n    }\r\n\r\nCheck out [Row Table Model](https://tips4java.wordpress.com/2008/11/21/row-table-model/) for a complete example of creating your own custom TableModel with methods for dynamically updating the model.","title":"Displaying input on JTable","body":"<pre><code>fireTableCellUpdated(productList.size(), columnNames.length)\n</code></pre>\n<p>The row/column values you specify are wrong for two reasons:</p>\n<ol>\n<li>you always use the same value no matter what cell you update and</li>\n<li>java indexes are 0 based, so you are referring to a row/column that doesn't exist.</li>\n</ol>\n<p>Just use:</p>\n<pre><code>fireTableCellUpdated(rowIndex, columnIndex)\n</code></pre>\n<p>Also:</p>\n<pre><code>cart.addProduct(new Product(&quot;Coconut Creamy Pie&quot;, 101,&quot;Pastry&quot;,&quot;Med&quot;,79.99));\n</code></pre>\n<p>is wrong. Once the model is created you need to add the new Product to the <code>CartTableModel</code>, NOT the List.</p>\n<p>So you need to create a method in your CartTableModel to dynamically add products.</p>\n<p>The basic code would be:</p>\n<pre><code>public void addProduct(Product product)\n{\n    insertProduct(getRowCount(), product);\n}\n \npublic void insertProduct(int row, Product product)\n{\n    products.add(row, product);\n    fireTableRowsInserted(row, row);\n}\n</code></pre>\n<p>Check out <a href=\"https://tips4java.wordpress.com/2008/11/21/row-table-model/\" rel=\"nofollow noreferrer\">Row Table Model</a> for a complete example of creating your own custom TableModel with methods for dynamically updating the model.</p>\n"}],"owner":{"account_id":20950455,"reputation":35,"user_id":15392257,"display_name":"Vince Viloria"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70201769,"answer_count":1,"score":0,"last_activity_date":1638457283,"creation_date":1638440121,"question_id":70197610,"body_markdown":"I want to display the data on JTable for every button press. Before that, the button will create and store data to the List and should display the data on the table. But, only the creation and data storing is working and the data is not displayed. What should I do to display the data on the table.\r\n\r\nThis is the abstract model I made to fill my table.\r\n```\r\nimport javax.swing.JList;\r\nimport javax.swing.table.AbstractTableModel;\r\nimport com.main.Products;\r\nimport java.util.List;\r\n\r\npublic class CartTableModel extends AbstractTableModel{\r\n    List&lt;Products&gt; productList;\r\n    \r\n    private final String[] columnNames = new String[] {\r\n            &quot;Product:&quot;, &quot;ID:&quot;, &quot;Variant:&quot;, &quot;Size:&quot;,&quot;Unit Price:&quot;,&quot;Quantity:&quot;,&quot;Unit Total:&quot;\r\n    };\r\n    private Class[] columnClass = new Class[] {\r\n        String.class, Integer.class, String.class, String.class, Double.class, Integer.class, Double.class\r\n    };\r\n    \r\n    public CartTableModel(List&lt;ProductInfo&gt; productList)\r\n    {\r\n        this.productList = productList;\r\n    }\r\n   public String getColumnName(int column)\r\n    {\r\n        return columnNames[column];\r\n    }\r\n \r\n    @Override\r\n    public Class&lt;?&gt; getColumnClass(int columnIndex)\r\n    {\r\n        return columnClass[columnIndex];\r\n    }\r\n \r\n    @Override\r\n    public int getColumnCount()\r\n    {\r\n        return columnNames.length;\r\n    }\r\n \r\n    @Override\r\n    public int getRowCount()\r\n    {\r\n        return productList.size();\r\n    }\r\n \r\n    @Override\r\n    public Object getValueAt(int rowIndex, int columnIndex)\r\n    {\r\n        Products row = productList.get(rowIndex);\r\n        if(0 == columnIndex) {\r\n            return row.getProductName();\r\n        }\r\n        else if(1 == columnIndex) {\r\n            return row.getProductID();\r\n        }\r\n        else if(2 == columnIndex) {\r\n            return row.getVariant();\r\n        }\r\n        else if(3 == columnIndex) {\r\n            return row.getSize();\r\n        }\r\n        else if(4 == columnIndex){\r\n            return row.getUnitPrice();\r\n        }\r\n        else if(5 == columnIndex){\r\n            return row.getQuantity();\r\n        }\r\n        else if(6 == columnIndex){\r\n            return row.getTotal();\r\n        }\r\n        return null;\r\n    }\r\n    \r\n     @Override\r\n    public boolean isCellEditable(int rowIndex, int columnIndex)\r\n    {\r\n        return true;\r\n    }\r\n \r\n    @Override\r\n    public void setValueAt(Object aValue, int rowIndex, int columnIndex)\r\n    {\r\n        Products row = productList.get(rowIndex);\r\n        if(0 == columnIndex) {\r\n            row.setProductName((String) aValue);\r\n        }\r\n        else if(1 == columnIndex) {\r\n            row.setProductID((int) aValue);\r\n        }\r\n        else if(2 == columnIndex) {\r\n            row.setVariant((String) aValue);\r\n        }\r\n        else if(3 == columnIndex) {\r\n            row.setSize((String) aValue);\r\n        }\r\n        else if(4 == columnIndex){\r\n            row.setUnitPrice((double) aValue);\r\n        }\r\n        else if(5 == columnIndex){\r\n            row.setQuantity((int) aValue);\r\n        }\r\n    }\r\n    \r\n}\r\n```\r\n\r\nThis is how the JTable is created:\r\n```\r\nCartTableModel model = new CartTableModel(productList);\r\nJTable cartTable = new JTable(model);\r\n```\r\n\r\nAlso, This is how the data is created:\r\n```\r\npublic void actionPerformed(ActionEvent e) {\r\n        if(e.getSource() == coconutPieBtn){\r\n            cart.addProduct(new Product(&quot;Coconut Creamy Pie&quot;, 101,&quot;Pastry&quot;,&quot;Med&quot;,79.99));\r\n            \r\n        }\r\n    }\r\n```","title":"Displaying input on JTable","body":"<p>I want to display the data on JTable for every button press. Before that, the button will create and store data to the List and should display the data on the table. But, only the creation and data storing is working and the data is not displayed. What should I do to display the data on the table.</p>\n<p>This is the abstract model I made to fill my table.</p>\n<pre><code>import javax.swing.JList;\nimport javax.swing.table.AbstractTableModel;\nimport com.main.Products;\nimport java.util.List;\n\npublic class CartTableModel extends AbstractTableModel{\n    List&lt;Products&gt; productList;\n    \n    private final String[] columnNames = new String[] {\n            &quot;Product:&quot;, &quot;ID:&quot;, &quot;Variant:&quot;, &quot;Size:&quot;,&quot;Unit Price:&quot;,&quot;Quantity:&quot;,&quot;Unit Total:&quot;\n    };\n    private Class[] columnClass = new Class[] {\n        String.class, Integer.class, String.class, String.class, Double.class, Integer.class, Double.class\n    };\n    \n    public CartTableModel(List&lt;ProductInfo&gt; productList)\n    {\n        this.productList = productList;\n    }\n   public String getColumnName(int column)\n    {\n        return columnNames[column];\n    }\n \n    @Override\n    public Class&lt;?&gt; getColumnClass(int columnIndex)\n    {\n        return columnClass[columnIndex];\n    }\n \n    @Override\n    public int getColumnCount()\n    {\n        return columnNames.length;\n    }\n \n    @Override\n    public int getRowCount()\n    {\n        return productList.size();\n    }\n \n    @Override\n    public Object getValueAt(int rowIndex, int columnIndex)\n    {\n        Products row = productList.get(rowIndex);\n        if(0 == columnIndex) {\n            return row.getProductName();\n        }\n        else if(1 == columnIndex) {\n            return row.getProductID();\n        }\n        else if(2 == columnIndex) {\n            return row.getVariant();\n        }\n        else if(3 == columnIndex) {\n            return row.getSize();\n        }\n        else if(4 == columnIndex){\n            return row.getUnitPrice();\n        }\n        else if(5 == columnIndex){\n            return row.getQuantity();\n        }\n        else if(6 == columnIndex){\n            return row.getTotal();\n        }\n        return null;\n    }\n    \n     @Override\n    public boolean isCellEditable(int rowIndex, int columnIndex)\n    {\n        return true;\n    }\n \n    @Override\n    public void setValueAt(Object aValue, int rowIndex, int columnIndex)\n    {\n        Products row = productList.get(rowIndex);\n        if(0 == columnIndex) {\n            row.setProductName((String) aValue);\n        }\n        else if(1 == columnIndex) {\n            row.setProductID((int) aValue);\n        }\n        else if(2 == columnIndex) {\n            row.setVariant((String) aValue);\n        }\n        else if(3 == columnIndex) {\n            row.setSize((String) aValue);\n        }\n        else if(4 == columnIndex){\n            row.setUnitPrice((double) aValue);\n        }\n        else if(5 == columnIndex){\n            row.setQuantity((int) aValue);\n        }\n    }\n    \n}\n</code></pre>\n<p>This is how the JTable is created:</p>\n<pre><code>CartTableModel model = new CartTableModel(productList);\nJTable cartTable = new JTable(model);\n</code></pre>\n<p>Also, This is how the data is created:</p>\n<pre><code>public void actionPerformed(ActionEvent e) {\n        if(e.getSource() == coconutPieBtn){\n            cart.addProduct(new Product(&quot;Coconut Creamy Pie&quot;, 101,&quot;Pastry&quot;,&quot;Med&quot;,79.99));\n            \n        }\n    }\n</code></pre>\n"},{"tags":["java","android","handler","postdelayed"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1638457624,"post_id":70201757,"comment_id":124098108,"body_markdown":"these lines are so simple that there is no room for bug... yes, you can use variable obviusly, it must work. have you builded properly changed version and tried it on device/emulator? maybe stripped out code may have some impact on that (e.g. changes`count` flag)","body":"these lines are so simple that there is no room for bug... yes, you can use variable obviusly, it must work. have you builded properly changed version and tried it on device/emulator? maybe stripped out code may have some impact on that (e.g. changes<code>count</code> flag)"},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1638457661,"post_id":70201757,"comment_id":124098138,"body_markdown":"btw. are you familiar with fact that leaving pending `Runnable` for some freely created `new Handler()` is in fact memory leak possibility?","body":"btw. are you familiar with fact that leaving pending <code>Runnable</code> for some freely created <code>new Handler()</code> is in fact memory leak possibility?"},{"owner":{"account_id":14986744,"reputation":29,"user_id":10819084,"display_name":"Hunter"},"score":0,"creation_date":1638458554,"post_id":70201757,"comment_id":124098530,"body_markdown":"@snachmsm I used to execute it on emulator. I tried it on device and it worked ... Don&#39;t know the reason but it worked. Thanks for your comment!","body":"@snachmsm I used to execute it on emulator. I tried it on device and it worked ... Don&#39;t know the reason but it worked. Thanks for your comment!"}],"owner":{"account_id":14986744,"reputation":29,"user_id":10819084,"display_name":"Hunter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638457258,"creation_date":1638457258,"question_id":70201757,"body_markdown":"I want to move to another Activity after 5 seconds. \r\n(Step4Activity -&gt; WeightActivity)\r\n\r\nI found this code, and it worked.\r\n\r\n     new Handler().postDelayed(new Runnable()\r\n        {\r\n            @Override\r\n            public void run()\r\n            {\r\n                Intent intent = new Intent(Step4Activity.this, WeightActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        }, 5000); \r\n\r\nBut I want to use a variable &#39;count&#39; as a parameter &#39;delaymillis&#39; like this, but it didn&#39;t work.\r\n\r\n     new Handler().postDelayed(new Runnable()\r\n        {\r\n            @Override\r\n            public void run()\r\n            {\r\n                Intent intent = new Intent(Step4Activity.this, WeightActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        }, count * 1000);  // int count = 5\r\n\r\nIs there any way to use variable?\r\n\r\n\r\nHere&#39;s my full code. (Step4Activity.java)\r\n```\r\npackage com.example.starbucksook;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\n\r\npublic class Step4Activity extends AppCompatActivity {\r\n\r\n    //TextView countdown_text;\r\n\r\n    //LinearLayout timeCountSettingLV, timeCountLV;\r\n    //TextView hourET, minuteET, secondET;\r\n    //TextView hourTV, minuteTV, secondTV, finishTV;\r\n    //Button startBtn;\r\n    //int hour, minute, second;\r\n    int count = 5;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_step4);\r\n\r\n        // Unrelated code skipped\r\n\r\n\r\n        /*Here is &#39;Handler-postDelayed&#39; method.*/\r\n        new Handler().postDelayed(new Runnable()\r\n        {\r\n            @Override\r\n            public void run()\r\n            {\r\n                Intent intent = new Intent(Step4Activity.this, WeightActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        }, count * 1000); \r\n\r\n}\r\n\r\n```","title":"Is using a variable as parameter(delaymillis) in Android postDelayed available?","body":"<p>I want to move to another Activity after 5 seconds.\n(Step4Activity -&gt; WeightActivity)</p>\n<p>I found this code, and it worked.</p>\n<pre><code> new Handler().postDelayed(new Runnable()\n    {\n        @Override\n        public void run()\n        {\n            Intent intent = new Intent(Step4Activity.this, WeightActivity.class);\n            startActivity(intent);\n        }\n    }, 5000); \n</code></pre>\n<p>But I want to use a variable 'count' as a parameter 'delaymillis' like this, but it didn't work.</p>\n<pre><code> new Handler().postDelayed(new Runnable()\n    {\n        @Override\n        public void run()\n        {\n            Intent intent = new Intent(Step4Activity.this, WeightActivity.class);\n            startActivity(intent);\n        }\n    }, count * 1000);  // int count = 5\n</code></pre>\n<p>Is there any way to use variable?</p>\n<p>Here's my full code. (Step4Activity.java)</p>\n<pre><code>package com.example.starbucksook;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.util.Timer;\nimport java.util.TimerTask;\n\npublic class Step4Activity extends AppCompatActivity {\n\n    //TextView countdown_text;\n\n    //LinearLayout timeCountSettingLV, timeCountLV;\n    //TextView hourET, minuteET, secondET;\n    //TextView hourTV, minuteTV, secondTV, finishTV;\n    //Button startBtn;\n    //int hour, minute, second;\n    int count = 5;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_step4);\n\n        // Unrelated code skipped\n\n\n        /*Here is 'Handler-postDelayed' method.*/\n        new Handler().postDelayed(new Runnable()\n        {\n            @Override\n            public void run()\n            {\n                Intent intent = new Intent(Step4Activity.this, WeightActivity.class);\n                startActivity(intent);\n            }\n        }, count * 1000); \n\n}\n\n</code></pre>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1530597280,"post_id":51147110,"comment_id":89278932,"body_markdown":"The exception cause (`JarParser.findPath()`) and the posted source code appear unrelated.","body":"The exception cause (<code>JarParser.findPath()</code>) and the posted source code appear unrelated."},{"owner":{"account_id":13857255,"reputation":21,"user_id":10003744,"display_name":"Younghoon Kwon"},"score":0,"creation_date":1530598249,"post_id":51147110,"comment_id":89279272,"body_markdown":"Aww sorry edited.","body":"Aww sorry edited."}],"answers":[{"tags":[],"owner":{"account_id":8110561,"reputation":994,"user_id":8063451,"display_name":"am9417"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530600027,"creation_date":1530600027,"answer_id":51148082,"question_id":51147110,"body_markdown":"The algorithm seems ok to me. The error seems to be caused by that the unzipped file is not a directory (but a file) or it does not exist. Your `unzip()` method does not throw any exeption if unzipping the .jar fails because of output file already existing.\r\n\r\nHave you been running the code earlier which may have caused that the .jars or directories contain unwanted output files with the same name?\r\n\r\nBefore the call to ` FileUtils.listFiles()`, check if the root `File` object is actually a directory and it exists (or if it&#39;s a file but not a directory) by [File.isDirectory()][1] or [File.isFile()][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/File.html#isDirectory()\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/io/File.html#isFile()","title":"Unzip nested jar files java","body":"<p>The algorithm seems ok to me. The error seems to be caused by that the unzipped file is not a directory (but a file) or it does not exist. Your <code>unzip()</code> method does not throw any exeption if unzipping the .jar fails because of output file already existing.</p>\n\n<p>Have you been running the code earlier which may have caused that the .jars or directories contain unwanted output files with the same name?</p>\n\n<p>Before the call to <code>FileUtils.listFiles()</code>, check if the root <code>File</code> object is actually a directory and it exists (or if it's a file but not a directory) by <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#isDirectory()\" rel=\"nofollow noreferrer\">File.isDirectory()</a> or <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#isFile()\" rel=\"nofollow noreferrer\">File.isFile()</a>.</p>\n"},{"tags":[],"owner":{"account_id":14510239,"reputation":1218,"user_id":10480869,"display_name":"cesarsotovalero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638457062,"creation_date":1638457062,"answer_id":70201708,"question_id":51147110,"body_markdown":"The following method `decompress()` unzips a JAR file and all the JAR files within it (recursively).\r\n\r\n```java\r\n\r\n  /**\r\n   * Size of the buffer to read/write data.\r\n   */\r\n  private static final int BUFFER_SIZE = 16384;\r\n\r\n  /**\r\n   * Decompress all JAR files located in a given directory.\r\n   *\r\n   * @param outputDirectory Path to the directory where the decompressed JAR files are located.\r\n   */\r\n  public static void decompress(final String outputDirectory) {\r\n    File files = new File(outputDirectory);\r\n    for (File f : Objects.requireNonNull(files.listFiles())) {\r\n      if (f.getName().endsWith(&quot;.jar&quot;)) {\r\n        try {\r\n          JarUtils.decompressDependencyFiles(f.getAbsolutePath());\r\n          // delete the original dependency jar file\r\n          org.apache.commons.io.FileUtils.forceDelete(f);\r\n        } catch (IOException e) {\r\n          log.warn(&quot;Problem decompressing jar file: &quot; + f.getAbsolutePath());\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Decompress all JAR files (recursively).\r\n   *\r\n   * @param zipFile The file to be decompressed.\r\n   */\r\n  private static void decompressDependencyFiles(String zipFile) throws IOException {\r\n    File file = new File(zipFile);\r\n    try (ZipFile zip = new ZipFile(file)) {\r\n      String newPath = zipFile.substring(0, zipFile.length() - 4);\r\n      new File(newPath).mkdir();\r\n      Enumeration&lt;? extends ZipEntry&gt; zipFileEntries = zip.entries();\r\n      // Process each entry\r\n      while (zipFileEntries.hasMoreElements()) {\r\n        // grab a zip file entry\r\n        ZipEntry entry = zipFileEntries.nextElement();\r\n        String currentEntry = entry.getName();\r\n        File destFile = new File(newPath, currentEntry);\r\n        File destinationParent = destFile.getParentFile();\r\n        // create the parent directory structure if needed\r\n        destinationParent.mkdirs();\r\n        if (!entry.isDirectory()) {\r\n          BufferedInputStream is = new BufferedInputStream(zip.getInputStream(entry));\r\n          int currentByte;\r\n          // establish buffer for writing file\r\n          byte[] data = new byte[BUFFER_SIZE];\r\n          // write the current file to disk\r\n          FileOutputStream fos = new FileOutputStream(destFile);\r\n          try (BufferedOutputStream dest = new BufferedOutputStream(fos, BUFFER_SIZE)) {\r\n            // read and write until last byte is encountered\r\n            while ((currentByte = is.read(data, 0, BUFFER_SIZE)) != -1) {\r\n              dest.write(data, 0, currentByte);\r\n            }\r\n            dest.flush();\r\n            is.close();\r\n          }\r\n        }\r\n        if (currentEntry.endsWith(&quot;.jar&quot;)) {\r\n          // found a zip file, try to open\r\n          decompressDependencyFiles(destFile.getAbsolutePath());\r\n          FileUtils.forceDelete(new File(destFile.getAbsolutePath()));\r\n        }\r\n      }\r\n    }\r\n  }\r\n```","title":"Unzip nested jar files java","body":"<p>The following method <code>decompress()</code> unzips a JAR file and all the JAR files within it (recursively).</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n  /**\n   * Size of the buffer to read/write data.\n   */\n  private static final int BUFFER_SIZE = 16384;\n\n  /**\n   * Decompress all JAR files located in a given directory.\n   *\n   * @param outputDirectory Path to the directory where the decompressed JAR files are located.\n   */\n  public static void decompress(final String outputDirectory) {\n    File files = new File(outputDirectory);\n    for (File f : Objects.requireNonNull(files.listFiles())) {\n      if (f.getName().endsWith(&quot;.jar&quot;)) {\n        try {\n          JarUtils.decompressDependencyFiles(f.getAbsolutePath());\n          // delete the original dependency jar file\n          org.apache.commons.io.FileUtils.forceDelete(f);\n        } catch (IOException e) {\n          log.warn(&quot;Problem decompressing jar file: &quot; + f.getAbsolutePath());\n        }\n      }\n    }\n  }\n\n  /**\n   * Decompress all JAR files (recursively).\n   *\n   * @param zipFile The file to be decompressed.\n   */\n  private static void decompressDependencyFiles(String zipFile) throws IOException {\n    File file = new File(zipFile);\n    try (ZipFile zip = new ZipFile(file)) {\n      String newPath = zipFile.substring(0, zipFile.length() - 4);\n      new File(newPath).mkdir();\n      Enumeration&lt;? extends ZipEntry&gt; zipFileEntries = zip.entries();\n      // Process each entry\n      while (zipFileEntries.hasMoreElements()) {\n        // grab a zip file entry\n        ZipEntry entry = zipFileEntries.nextElement();\n        String currentEntry = entry.getName();\n        File destFile = new File(newPath, currentEntry);\n        File destinationParent = destFile.getParentFile();\n        // create the parent directory structure if needed\n        destinationParent.mkdirs();\n        if (!entry.isDirectory()) {\n          BufferedInputStream is = new BufferedInputStream(zip.getInputStream(entry));\n          int currentByte;\n          // establish buffer for writing file\n          byte[] data = new byte[BUFFER_SIZE];\n          // write the current file to disk\n          FileOutputStream fos = new FileOutputStream(destFile);\n          try (BufferedOutputStream dest = new BufferedOutputStream(fos, BUFFER_SIZE)) {\n            // read and write until last byte is encountered\n            while ((currentByte = is.read(data, 0, BUFFER_SIZE)) != -1) {\n              dest.write(data, 0, currentByte);\n            }\n            dest.flush();\n            is.close();\n          }\n        }\n        if (currentEntry.endsWith(&quot;.jar&quot;)) {\n          // found a zip file, try to open\n          decompressDependencyFiles(destFile.getAbsolutePath());\n          FileUtils.forceDelete(new File(destFile.getAbsolutePath()));\n        }\n      }\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":13857255,"reputation":21,"user_id":10003744,"display_name":"Younghoon Kwon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1638457062,"creation_date":1530595078,"question_id":51147110,"body_markdown":"I am trying to unzip all the jar files and the jar files which is nested in jar file.\r\nFor example, let&#39;s say there&#39;s a Test.jar and inside of the Test.jar, there is Test1.jar,,\r\nWhat I tried to do is that making a temp directory and unzip them, when it was jar file, recursive call.\r\n\r\nHere below is my code and the log I got. I have no idea on that.\r\nI am pretty sure that the input was directory. I have no idea on resolving this error. Also, I am pretty sure that the error is from here (`Collection&lt;File&gt; files = FileUtils.listFiles(root, null, recursive);`)\r\n\r\n\r\n    Curr directory:/Users/younghoonkwon/jar-analyzer\r\n    unzipping directory/Users/younghoonkwon/jar-analyzer/test1.jar@\r\n    Curr directory:/Users/younghoonkwon/jar-analyzer/test1.jar@\r\n    java.lang.IllegalArgumentException: Parameter &#39;directory&#39; is not a directory\r\n    \tat org.apache.commons.io.FileUtils.validateListFilesParameters(FileUtils.java:545)\r\n    \tat org.apache.commons.io.FileUtils.listFiles(FileUtils.java:521)\r\n    \tat org.apache.commons.io.FileUtils.listFiles(FileUtils.java:691)\r\n    \tat org.vulnerability.checker.JarParser.unzipJars(JarParser.java:31)\r\n    \tat org.vulnerability.checker.JarParser.unzipJars(JarParser.java:38)\r\n    \tat org.vulnerability.checker.VulnerabilityChecker.main(VulnerabilityChecker.java:26)\r\n    [/Users/younghoonkwon/jar-analyzer/test1.jar]\r\n\r\nMy code:\r\n\r\n    public void unzipJars(String toFind, String currDirectory) {\r\n        File root = new File(currDirectory);\r\n        try {\r\n            boolean recursive = true;\r\n            System.out.println(&quot;Curr directory:&quot;+root);\r\n            Collection&lt;File&gt; files = FileUtils.listFiles(root, null, recursive);\r\n            for (Iterator&lt;File&gt; iterator = files.iterator(); iterator.hasNext();) {\r\n                File file = (File) iterator.next();\r\n                if (file.getName().endsWith(toFind)) {\r\n                \tif(toFind.endsWith(&quot;jar&quot;)) {\r\n                \t\tunzip(file.getAbsolutePath() + &quot;@&quot;,file.getAbsolutePath());\r\n                \t\tSystem.out.println(&quot;unzipping directory&quot;+ file.getAbsolutePath()+&quot;@&quot;);\r\n                \t\tunzipJars(&quot;jar&quot;, file.getAbsolutePath()+&quot;@&quot;);\r\n                \t\tthis.jarList.add(file.getAbsolutePath());\r\n                \t}\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    static void unzip(String destDirPath, String zipFilePath) throws IOException {\r\n    \tRuntime.getRuntime().exec(&quot;unzip &quot;+ zipFilePath + &quot; -d&quot; + destDirPath);\r\n    }","title":"Unzip nested jar files java","body":"<p>I am trying to unzip all the jar files and the jar files which is nested in jar file.\nFor example, let's say there's a Test.jar and inside of the Test.jar, there is Test1.jar,,\nWhat I tried to do is that making a temp directory and unzip them, when it was jar file, recursive call.</p>\n\n<p>Here below is my code and the log I got. I have no idea on that.\nI am pretty sure that the input was directory. I have no idea on resolving this error. Also, I am pretty sure that the error is from here (<code>Collection&lt;File&gt; files = FileUtils.listFiles(root, null, recursive);</code>)</p>\n\n<pre><code>Curr directory:/Users/younghoonkwon/jar-analyzer\nunzipping directory/Users/younghoonkwon/jar-analyzer/test1.jar@\nCurr directory:/Users/younghoonkwon/jar-analyzer/test1.jar@\njava.lang.IllegalArgumentException: Parameter 'directory' is not a directory\n    at org.apache.commons.io.FileUtils.validateListFilesParameters(FileUtils.java:545)\n    at org.apache.commons.io.FileUtils.listFiles(FileUtils.java:521)\n    at org.apache.commons.io.FileUtils.listFiles(FileUtils.java:691)\n    at org.vulnerability.checker.JarParser.unzipJars(JarParser.java:31)\n    at org.vulnerability.checker.JarParser.unzipJars(JarParser.java:38)\n    at org.vulnerability.checker.VulnerabilityChecker.main(VulnerabilityChecker.java:26)\n[/Users/younghoonkwon/jar-analyzer/test1.jar]\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>public void unzipJars(String toFind, String currDirectory) {\n    File root = new File(currDirectory);\n    try {\n        boolean recursive = true;\n        System.out.println(\"Curr directory:\"+root);\n        Collection&lt;File&gt; files = FileUtils.listFiles(root, null, recursive);\n        for (Iterator&lt;File&gt; iterator = files.iterator(); iterator.hasNext();) {\n            File file = (File) iterator.next();\n            if (file.getName().endsWith(toFind)) {\n                if(toFind.endsWith(\"jar\")) {\n                    unzip(file.getAbsolutePath() + \"@\",file.getAbsolutePath());\n                    System.out.println(\"unzipping directory\"+ file.getAbsolutePath()+\"@\");\n                    unzipJars(\"jar\", file.getAbsolutePath()+\"@\");\n                    this.jarList.add(file.getAbsolutePath());\n                }\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nstatic void unzip(String destDirPath, String zipFilePath) throws IOException {\n    Runtime.getRuntime().exec(\"unzip \"+ zipFilePath + \" -d\" + destDirPath);\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11744825,"reputation":924,"user_id":8595891,"display_name":"Pranjal Doshi"},"score":0,"creation_date":1638418706,"post_id":70194078,"comment_id":124084721,"body_markdown":"Why are you not using `Hashmap`?","body":"Why are you not using <code>Hashmap</code>?"},{"owner":{"account_id":23520586,"reputation":11,"user_id":17567786,"display_name":"Ikki Kurogane"},"score":0,"creation_date":1638418949,"post_id":70194078,"comment_id":124084753,"body_markdown":"Pranjal Doshi, hello good day sir, I am still in 1first year college in information technology I do not know that hashmap.","body":"Pranjal Doshi, hello good day sir, I am still in 1first year college in information technology I do not know that hashmap."}],"owner":{"account_id":23520586,"reputation":11,"user_id":17567786,"display_name":"Ikki Kurogane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1638456879,"creation_date":1638417942,"question_id":70194078,"body_markdown":"I have some trouble with my program. I have already solved the necessary things that must appear in the console but not the goal for the program output. This is my work, Java control structure-Looping.\r\n\r\n``` lang-java\r\npublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tScanner sad= new Scanner(System.in);\r\n\t\t\r\n\tint input=0,lowercasea=1,uppercaseA=1,lowercasee=1,uppercaseE=1,\r\n\t\t\tlowercasei=1,uppercaseI=1,lowercaseo=1,uppercaseO=1,\r\n\t\t\tlowercaseu=1,uppercaseU=1,counter=0;\r\n\tchar vowel=0;\r\n\tSystem.out.print(&quot;how many vowels do you want to input? &quot;);\r\n\tinput=sad.nextInt();\r\n\t\r\n\twhile(input!=counter) {\t\r\n\tSystem.out.print(&quot;enter the vowel: &quot;);\r\n\t\tvowel= sad.next().charAt(0);\r\n\t\t\r\n\tSystem.out.println(&quot;you enter: &quot;+vowel);\r\n\tif (input==vowel) \r\n\t\tSystem.out.println(&quot;&quot;);\r\n\t\r\n\telse if (vowel==&#39;a&#39;) {\r\n\t\tSystem.out.println(&quot;count of lowercase a: &quot;+lowercasea);\r\n\tlowercasea++;}\r\n\telse if(vowel==&#39;A&#39;) {\r\n\t\tSystem.out.println(&quot;count of Uppercase A: &quot;+uppercaseA);\r\n\tuppercaseA++;}\r\n\telse if(vowel==&#39;e&#39;) {\r\n\t\tSystem.out.println(&quot;count for lowercase e: &quot;+lowercasee);\r\n\t\tlowercasee++;}\r\n\telse if(vowel==&#39;E&#39;) {\r\n\t\tSystem.out.println(&quot;count for Uppercase E: &quot;+uppercaseE);\r\n\t\tuppercaseE++;}\r\n\telse if (vowel==&#39;i&#39;) {\r\n\t\tSystem.out.println(&quot;count for lowercase i: &quot;+lowercasei);\r\n\t\tlowercasei++;}\r\n\telse if(vowel==&#39;I&#39;) {\r\n\t\tSystem.out.println(&quot;count for uppercase I: &quot;+uppercaseI);\r\n\t\tuppercaseI++;}\r\n\telse if (vowel==&#39;o&#39;) {\r\n\t\tSystem.out.println(&quot;count for lowercase o: &quot;+lowercaseo);\r\n\tlowercaseo++;}\r\n\telse if(vowel==&#39;O&#39;) {\r\n\t\tSystem.out.println(&quot;count for uppercase O: &quot;+uppercaseO);\r\n\tuppercaseO++;}\r\n\telse if(vowel==&#39;u&#39;) {\r\n\t\tSystem.out.println(&quot;count for lowercase u: &quot;+lowercaseu);\r\n\tlowercaseu++;}\r\n\telse if (vowel==&#39;U&#39;) {\r\n\t\tSystem.out.println(&quot;count for uppercase U: &quot;+uppercaseU);}\r\n\t\t}\r\n\tcounter++;\r\n\t}\r\n}\r\n```\r\n\r\nand here is an example of how output must be \r\n```\r\nhow many vowels do you want to input? 6\r\nenter vowel: a\r\nenter vowel: E\r\nenter vowel: i\r\nenter vowel: I\r\nenter vowel: a\r\nenter vowel: a\r\nyou entered: a E i I a a\r\ncount of lowercase a: 3time(s)\r\ncount of uppercase E: 1 time(s)\r\ncount of lowercase i: 1time(s)\r\ncount of uppercase I: 1time(s)\r\n```","title":"how to make user input vowels in online","body":"<p>I have some trouble with my program. I have already solved the necessary things that must appear in the console but not the goal for the program output. This is my work, Java control structure-Looping.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Scanner sad= new Scanner(System.in);\n        \n    int input=0,lowercasea=1,uppercaseA=1,lowercasee=1,uppercaseE=1,\n            lowercasei=1,uppercaseI=1,lowercaseo=1,uppercaseO=1,\n            lowercaseu=1,uppercaseU=1,counter=0;\n    char vowel=0;\n    System.out.print(&quot;how many vowels do you want to input? &quot;);\n    input=sad.nextInt();\n    \n    while(input!=counter) { \n    System.out.print(&quot;enter the vowel: &quot;);\n        vowel= sad.next().charAt(0);\n        \n    System.out.println(&quot;you enter: &quot;+vowel);\n    if (input==vowel) \n        System.out.println(&quot;&quot;);\n    \n    else if (vowel=='a') {\n        System.out.println(&quot;count of lowercase a: &quot;+lowercasea);\n    lowercasea++;}\n    else if(vowel=='A') {\n        System.out.println(&quot;count of Uppercase A: &quot;+uppercaseA);\n    uppercaseA++;}\n    else if(vowel=='e') {\n        System.out.println(&quot;count for lowercase e: &quot;+lowercasee);\n        lowercasee++;}\n    else if(vowel=='E') {\n        System.out.println(&quot;count for Uppercase E: &quot;+uppercaseE);\n        uppercaseE++;}\n    else if (vowel=='i') {\n        System.out.println(&quot;count for lowercase i: &quot;+lowercasei);\n        lowercasei++;}\n    else if(vowel=='I') {\n        System.out.println(&quot;count for uppercase I: &quot;+uppercaseI);\n        uppercaseI++;}\n    else if (vowel=='o') {\n        System.out.println(&quot;count for lowercase o: &quot;+lowercaseo);\n    lowercaseo++;}\n    else if(vowel=='O') {\n        System.out.println(&quot;count for uppercase O: &quot;+uppercaseO);\n    uppercaseO++;}\n    else if(vowel=='u') {\n        System.out.println(&quot;count for lowercase u: &quot;+lowercaseu);\n    lowercaseu++;}\n    else if (vowel=='U') {\n        System.out.println(&quot;count for uppercase U: &quot;+uppercaseU);}\n        }\n    counter++;\n    }\n}\n</code></pre>\n<p>and here is an example of how output must be</p>\n<pre><code>how many vowels do you want to input? 6\nenter vowel: a\nenter vowel: E\nenter vowel: i\nenter vowel: I\nenter vowel: a\nenter vowel: a\nyou entered: a E i I a a\ncount of lowercase a: 3time(s)\ncount of uppercase E: 1 time(s)\ncount of lowercase i: 1time(s)\ncount of uppercase I: 1time(s)\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7138446,"reputation":841,"user_id":5457098,"display_name":"Tiko"},"score":0,"creation_date":1638457520,"post_id":70201622,"comment_id":124098061,"body_markdown":"Can you share the exception?","body":"Can you share the exception?"},{"owner":{"account_id":11610580,"reputation":129,"user_id":8504919,"display_name":"Daniel Mohajer"},"score":0,"creation_date":1638459495,"post_id":70201622,"comment_id":124098989,"body_markdown":"@tiko sadly i didnt get any","body":"@tiko sadly i didnt get any"},{"owner":{"account_id":7138446,"reputation":841,"user_id":5457098,"display_name":"Tiko"},"score":0,"creation_date":1638517686,"post_id":70201622,"comment_id":124114505,"body_markdown":"If the app is crashing you can find it in Android Studio Logcat","body":"If the app is crashing you can find it in Android Studio Logcat"},{"owner":{"account_id":11610580,"reputation":129,"user_id":8504919,"display_name":"Daniel Mohajer"},"score":0,"creation_date":1638550829,"post_id":70201622,"comment_id":124127154,"body_markdown":"@Tiko hi mate , i got this from debugging it :\n\nE/mohajer.kitset: [qarth_debug:]  get PatchStore::createDisableExceptionQarthFile method fail.\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.mohajer.kitset2, PID: 4734\n    java.lang.NumberFormatException: For input string: &quot;&quot;","body":"@Tiko hi mate , i got this from debugging it :  E/mohajer.kitset: [qarth_debug:]  get PatchStore::createDisableExceptionQarthFile method fail. E/AndroidRuntime: FATAL EXCEPTION: main     Process: com.mohajer.kitset2, PID: 4734     java.lang.NumberFormatException: For input string: &quot;&quot;"}],"owner":{"account_id":11610580,"reputation":129,"user_id":8504919,"display_name":"Daniel Mohajer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638456651,"creation_date":1638456651,"question_id":70201622,"body_markdown":"i have Drop down menu in my app that contain a list of strings that&#39;s made of my String 2d array index 0 :\r\n\r\n\r\n\r\n            String[][] items = {\r\n\r\n\r\n\r\n                {&quot;(kilogram)&quot;, &quot;1&quot;},\r\n\r\n                {&quot;(gram)&quot;, &quot;1000&quot;},\r\n\r\n                {&quot;(pound)&quot;, &quot;2.20462262&quot;},\r\n\r\n                {&quot;(pound - troy)&quot;, &quot;2.6792288807&quot;},\r\n\r\n                {&quot;(carat)&quot;, &quot;5000&quot;},\r\n\r\n                {&quot;(ounce)&quot;, &quot;35.2739619&quot;},\r\n\r\n                {&quot;(ounce - troy)&quot;, &quot;32.1507466&quot;},\r\n\r\n                {&quot;(ton)&quot;, &quot;0.001&quot;}\r\n\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n        ArrayList&lt;String&gt; data = new ArrayList&lt;&gt;();\r\n\r\n\r\n\r\n        for (int i = 0; i &lt; items.length; ) {\r\n\r\n            data.add(items[i][0]);\r\n\r\n            i++;\r\n\r\n        }\r\n\r\n\r\n\r\n        ArrayAdapter arrayAdapter = new ArrayAdapter(this.getContext(), R.layout.option_tem, data);\r\n\r\n        autoCompleteTextView.setText(arrayAdapter.getItem(0).toString(), false);\r\n\r\n        autoCompleteTextView2.setText(arrayAdapter.getItem(0).toString(), false);\r\n\r\n        autoCompleteTextView.setAdapter(arrayAdapter);\r\n\r\n        autoCompleteTextView2.setAdapter(arrayAdapter);\r\n\r\n\r\n\r\nhere is the question , i don&#39;t know how to make my app to return the index 1 from items when the index 0 got selected from drop down menu!\r\n\r\n\r\n\r\ni have tried this code but got nothing other than my app crashed.\r\n\r\n\r\n\r\n        calc.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n\r\n            public void onClick(View v) {\r\n\r\n\r\n\r\n                String firstData = autoCompleteTextView.getText().toString();\r\n\r\n                String secondData = autoCompleteTextView2.getText().toString();\r\n\r\n\r\n\r\n                for (int i = 0; i &lt; items.length; i++) {\r\n\r\n                    for (int j = 0; j &lt; items[i].length; j++) {\r\n\r\n                        if (items[i][j] == firstData) {\r\n\r\n                            tvResult.setText(items[i][1]);\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                }","title":"How to get second parameter from 2D array when index 0 got selected from dropdown menu?","body":"<p>i have Drop down menu in my app that contain a list of strings that's made of my String 2d array index 0 :</p>\n<pre><code>        String[][] items = {\n\n\n\n            {&quot;(kilogram)&quot;, &quot;1&quot;},\n\n            {&quot;(gram)&quot;, &quot;1000&quot;},\n\n            {&quot;(pound)&quot;, &quot;2.20462262&quot;},\n\n            {&quot;(pound - troy)&quot;, &quot;2.6792288807&quot;},\n\n            {&quot;(carat)&quot;, &quot;5000&quot;},\n\n            {&quot;(ounce)&quot;, &quot;35.2739619&quot;},\n\n            {&quot;(ounce - troy)&quot;, &quot;32.1507466&quot;},\n\n            {&quot;(ton)&quot;, &quot;0.001&quot;}\n\n        }\n\n\n\n\n\n    ArrayList&lt;String&gt; data = new ArrayList&lt;&gt;();\n\n\n\n    for (int i = 0; i &lt; items.length; ) {\n\n        data.add(items[i][0]);\n\n        i++;\n\n    }\n\n\n\n    ArrayAdapter arrayAdapter = new ArrayAdapter(this.getContext(), R.layout.option_tem, data);\n\n    autoCompleteTextView.setText(arrayAdapter.getItem(0).toString(), false);\n\n    autoCompleteTextView2.setText(arrayAdapter.getItem(0).toString(), false);\n\n    autoCompleteTextView.setAdapter(arrayAdapter);\n\n    autoCompleteTextView2.setAdapter(arrayAdapter);\n</code></pre>\n<p>here is the question , i don't know how to make my app to return the index 1 from items when the index 0 got selected from drop down menu!</p>\n<p>i have tried this code but got nothing other than my app crashed.</p>\n<pre><code>    calc.setOnClickListener(new View.OnClickListener() {\n\n        @Override\n\n        public void onClick(View v) {\n\n\n\n            String firstData = autoCompleteTextView.getText().toString();\n\n            String secondData = autoCompleteTextView2.getText().toString();\n\n\n\n            for (int i = 0; i &lt; items.length; i++) {\n\n                for (int j = 0; j &lt; items[i].length; j++) {\n\n                    if (items[i][j] == firstData) {\n\n                        tvResult.setText(items[i][1]);\n\n                    }\n\n                }\n\n            }\n</code></pre>\n"},{"tags":["java","maven","osgi","apache-karaf","maven-bundle-plugin"],"comments":[{"owner":{"account_id":2185890,"reputation":2302,"user_id":1934317,"display_name":"awd"},"score":2,"creation_date":1638459836,"post_id":70201614,"comment_id":124099138,"body_markdown":"you need an osgi container to *run* osgi bundles (think of how you need a servlet container  to have a servlet) - check out apache felix. if you are building a web app, go for apache sling - which is built on felix and also provides a java content repository.","body":"you need an osgi container to <i>run</i> osgi bundles (think of how you need a servlet container  to have a servlet) - check out apache felix. if you are building a web app, go for apache sling - which is built on felix and also provides a java content repository."},{"owner":{"account_id":21192751,"reputation":329,"user_id":15584917,"display_name":"1288Meow"},"score":0,"creation_date":1638466074,"post_id":70201614,"comment_id":124101955,"body_markdown":"@awd Thank you for the suggestion. I am building a desktop application.","body":"@awd Thank you for the suggestion. I am building a desktop application."}],"owner":{"account_id":21192751,"reputation":329,"user_id":15584917,"display_name":"1288Meow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638456624,"creation_date":1638456624,"question_id":70201614,"body_markdown":"I have a parent Maven OSGI project and several children projects, with one child project being the Launcher. The parent pom.xml has &lt;packaging&gt;pom&lt;/packaging&gt; while children pom.xml(s) &lt;packaging&gt;bundle&lt;/packaging&gt; and I use Maven Bundle Plugin. With Mvn clean install, MANIFEST.MF and jar files are successfully created for the children projects. \r\n\r\nHowever I do not know the next step. How can I create a single java app for the parent project + bundles which is executable? I have looked into Karaf (other options?) but do not know how to create a single jar for the parent project.  \r\n\r\nThank you","title":"How to build one deployable Java app from OSGI Maven bundles?","body":"<p>I have a parent Maven OSGI project and several children projects, with one child project being the Launcher. The parent pom.xml has pom while children pom.xml(s) bundle and I use Maven Bundle Plugin. With Mvn clean install, MANIFEST.MF and jar files are successfully created for the children projects.</p>\n<p>However I do not know the next step. How can I create a single java app for the parent project + bundles which is executable? I have looked into Karaf (other options?) but do not know how to create a single jar for the parent project.</p>\n<p>Thank you</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1638454671,"post_id":70201081,"comment_id":124096593,"body_markdown":"`void Chat ()` &lt;- this is a method, not a constructor. Am I correct to assume that you intended this to be a constructor? If yes remove the return type (`void`).","body":"<code>void Chat ()</code> &lt;- this is a method, not a constructor. Am I correct to assume that you intended this to be a constructor? If yes remove the return type (<code>void</code>)."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1638456619,"post_id":70201081,"comment_id":124097662,"body_markdown":"Why are you doing `Integer.parseInt(String.valueOf(id))`?","body":"Why are you doing <code>Integer.parseInt(String.valueOf(id))</code>?"}],"owner":{"account_id":23517613,"reputation":1,"user_id":17565278,"display_name":"Tyndale verwer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638456534,"creation_date":1638454605,"question_id":70201081,"body_markdown":"I keep getting null pointer exception when I try to put into messages\r\n( I have removed all unnecessary code)\r\nI dont get the error when I initialize messages inside add function\r\nHow can I resolve this?\r\n\r\n    class Chat {\r\n    \r\n        HashMap&lt; Integer, String&gt; messages;\r\n    \r\n        void Chat() {\r\n            this.messages = new HashMap&lt;&gt;();\r\n        }\r\n    \r\n        public void add(int id, String newMessage) {\r\n            if (!newMessage.isEmpty()) {\r\n                System.out.println(newMessage + &quot;   &quot;\r\n                        + Integer.parseInt(String.valueOf(id)));\r\n                this.messages.put(Integer.parseInt(String.valueOf(id)),\r\n                        newMessage);\r\n                System.out.println(messages.values() + &quot;Added to hashset&quot;);\r\n            }\r\n    \r\n        }\r\n    }\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            Chat obj = new Chat();\r\n            int size = Integer.parseInt(sc.nextLine());\r\n            for (int i = 0; i &lt; size; i++) {\r\n                String str = sc.nextLine();\r\n                if (!str.isEmpty()) {\r\n                    obj.add(i + 1, str);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"NullPointerException in put method of hashmap in chat class","body":"<p>I keep getting null pointer exception when I try to put into messages\n( I have removed all unnecessary code)\nI dont get the error when I initialize messages inside add function\nHow can I resolve this?</p>\n<pre><code>class Chat {\n\n    HashMap&lt; Integer, String&gt; messages;\n\n    void Chat() {\n        this.messages = new HashMap&lt;&gt;();\n    }\n\n    public void add(int id, String newMessage) {\n        if (!newMessage.isEmpty()) {\n            System.out.println(newMessage + &quot;   &quot;\n                    + Integer.parseInt(String.valueOf(id)));\n            this.messages.put(Integer.parseInt(String.valueOf(id)),\n                    newMessage);\n            System.out.println(messages.values() + &quot;Added to hashset&quot;);\n        }\n\n    }\n}\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        Chat obj = new Chat();\n        int size = Integer.parseInt(sc.nextLine());\n        for (int i = 0; i &lt; size; i++) {\n            String str = sc.nextLine();\n            if (!str.isEmpty()) {\n                obj.add(i + 1, str);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","tomcat","web-applications"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638454487,"post_id":70201019,"comment_id":124096483,"body_markdown":"Please add your pom or build file so we can see the dependencies.","body":"Please add your pom or build file so we can see the dependencies."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1638456797,"post_id":70201019,"comment_id":124097738,"body_markdown":"why do you mix versions? You should not override versions that are defined in the parent.","body":"why do you mix versions? You should not override versions that are defined in the parent."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638457111,"post_id":70201019,"comment_id":124097881,"body_markdown":"Your dependencies are a bit messy ... You are mixing modules from different versions of Spring Boot and thus SPring. You have tons of test dependencies, you are also mixing Jetty and Tomcat (why?) and you are trying very hard to fight the dependency management provided by the Spring Boot starters.","body":"Your dependencies are a bit messy ... You are mixing modules from different versions of Spring Boot and thus SPring. You have tons of test dependencies, you are also mixing Jetty and Tomcat (why?) and you are trying very hard to fight the dependency management provided by the Spring Boot starters."},{"owner":{"account_id":5166063,"reputation":1,"user_id":4135990,"display_name":"NitinM"},"score":0,"creation_date":1638595515,"post_id":70201019,"comment_id":124135985,"body_markdown":"Let me do some cleaning up. The dependency flew down from some internal libraries. Need to clean up and check if app works good. Thanks for replying. I will get back after implementation and testing. Having said that, ClientAbortException above has not conflict with other libraries, still it didn&#39;t load.","body":"Let me do some cleaning up. The dependency flew down from some internal libraries. Need to clean up and check if app works good. Thanks for replying. I will get back after implementation and testing. Having said that, ClientAbortException above has not conflict with other libraries, still it didn&#39;t load."}],"owner":{"account_id":5166063,"reputation":1,"user_id":4135990,"display_name":"NitinM"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":966,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638456499,"creation_date":1638454315,"question_id":70201019,"body_markdown":"Spring boot web starter - 2.3.12.RELEASE,\r\ntomcat-embeded-core - 9.0.48\r\nThe Configs creates ServletWebServerFactory like following:\r\n```\r\nTomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {\r\n@Override\r\nprotected void postProcessContext(Context context) {\r\n    SecurityConstraint securityConstraint = new SecurityConstraint();\r\n    securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\r\n    SecurityCollection collection = new SecurityCollection();\r\n    collection.addPattern(&quot;/*&quot;);\r\n    securityConstraint.addCollection(collection);\r\n    context.addConstraint(securityConstraint);\r\n}\r\n};\r\n\r\n```\r\nMy application runs fine on linux server. I have a call to an external web-service, when a call to that web service fails, &quot;sometimes&quot; I get following exception:\r\n```\r\nERROR [https-jsse-nio-10118-exec-1] |   | org.apache.catalina.core.ContainerBase.[Tomcat].[localhost] (DirectJDKLog.java:175) Exception Processing ErrorPage[errorCode=0, location=/error]\r\njava.lang.NoClassDefFoundError: org/apache/catalina/connector/ClientAbortException\r\n        *at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.48.jar!/:?]\r\n        at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461) ~[tomcat-embed-core-9.0.48.jar!/:?]\r\n        at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385) ~[tomcat-embed-core-9.0.48.jar!/:?]\r\n        at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.48.jar!/:?]\r\n        at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:398) ~[tomcat-embed-core-9.0.48.jar!/:?]\r\n        at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:257) ~[tomcat-embed-core-9.0.48.jar!/:?]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:179) ~[tomcat-embed-core-9.0.48.jar!/:?]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.48.jar!/:?]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.48.jar!/:?]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.48.jar!/:?]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.48.jar!/:?]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.48.jar!/:?]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.48.jar!/:?]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723) ~[tomcat-embed-core-9.0.48.jar!/:?]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.48.jar!/:?]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[?:1.8.0_77]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[?:1.8.0_77]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.48.jar!/:?]\r\n        at java.lang.Thread.run(Thread.java:745) [?:1.8.0_77]*\r\n```\r\n\r\n\r\nWhat could be the reason?\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;artifactId&gt;xxxxxxxxxxx&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;version&gt;${revision}&lt;/version&gt;\r\n    &lt;name&gt;xxxxxxxxxx&lt;/name&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.13.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;rsa.version&gt;6sp5cr34&lt;/rsa.version&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!-- Spring dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xstream&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n            &lt;artifactId&gt;shiro-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n            &lt;artifactId&gt;shiro-spring&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.gemstone.gemfire&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gemfire&lt;/artifactId&gt;\r\n            &lt;version&gt;8.2.1&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$ --&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;xerces&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.12.0.SP03&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jdom&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jdom&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-compress&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;30.1.1-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-web&lt;/artifactId&gt;&lt;!--$NO-MVN-MAN-VER$ --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\r\n            &lt;version&gt;11.0.3&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;jetty-io&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jetty-io&lt;/artifactId&gt;\r\n            &lt;version&gt;11.0.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Test dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.7&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.7&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.7&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-commons&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n            &lt;version&gt;2.15.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.jacoco.agent&lt;/artifactId&gt;\r\n            &lt;classifier&gt;runtime&lt;/classifier&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-resources&lt;/id&gt;\r\n                        &lt;phase&gt;initialize&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.basedir}/target/classes/static&lt;/outputDirectory&gt;\r\n                            &lt;resources&gt;\r\n                                &lt;resource&gt;\r\n                                    &lt;directory&gt;${project.basedir}/../xxxxx-web/build&lt;/directory&gt;\r\n                                &lt;/resource&gt;\r\n                            &lt;/resources&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;classifier&gt;exec&lt;/classifier&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;xxx.xxx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;xxx.xxx&lt;/artifactId&gt;\r\n                &lt;version&gt;18.05.22.10.54&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;aim-json-generator&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jsongenerator&lt;/goal&gt;\r\n                            &lt;goal&gt;jsonmaestrogenerator&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;jacoco-agent.destfile&gt;${project.build.directory}/jacoco.exec&lt;/jacoco-agent.destfile&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${jacoco.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-instrument&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;instrument&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;skip&gt;${jacoco.skip.instrument}&lt;/skip&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-restore-instrumented-classes&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;restore-instrumented-classes&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;skip&gt;${jacoco.skip.instrument}&lt;/skip&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;report&lt;/id&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;skip&gt;${jacoco.skip.instrument}&lt;/skip&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n","title":"Spring boot application with tomcat-embedded-core - getting NoClassDefFoundError for class ClientAbortException","body":"<p>Spring boot web starter - 2.3.12.RELEASE,\ntomcat-embeded-core - 9.0.48\nThe Configs creates ServletWebServerFactory like following:</p>\n<pre><code>TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {\n@Override\nprotected void postProcessContext(Context context) {\n    SecurityConstraint securityConstraint = new SecurityConstraint();\n    securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\n    SecurityCollection collection = new SecurityCollection();\n    collection.addPattern(&quot;/*&quot;);\n    securityConstraint.addCollection(collection);\n    context.addConstraint(securityConstraint);\n}\n};\n\n</code></pre>\n<p>My application runs fine on linux server. I have a call to an external web-service, when a call to that web service fails, &quot;sometimes&quot; I get following exception:</p>\n<pre><code>ERROR [https-jsse-nio-10118-exec-1] |   | org.apache.catalina.core.ContainerBase.[Tomcat].[localhost] (DirectJDKLog.java:175) Exception Processing ErrorPage[errorCode=0, location=/error]\njava.lang.NoClassDefFoundError: org/apache/catalina/connector/ClientAbortException\n        *at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.48.jar!/:?]\n        at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461) ~[tomcat-embed-core-9.0.48.jar!/:?]\n        at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385) ~[tomcat-embed-core-9.0.48.jar!/:?]\n        at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.48.jar!/:?]\n        at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:398) ~[tomcat-embed-core-9.0.48.jar!/:?]\n        at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:257) ~[tomcat-embed-core-9.0.48.jar!/:?]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:179) ~[tomcat-embed-core-9.0.48.jar!/:?]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.48.jar!/:?]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.48.jar!/:?]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.48.jar!/:?]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.48.jar!/:?]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.48.jar!/:?]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.48.jar!/:?]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723) ~[tomcat-embed-core-9.0.48.jar!/:?]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.48.jar!/:?]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[?:1.8.0_77]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[?:1.8.0_77]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.48.jar!/:?]\n        at java.lang.Thread.run(Thread.java:745) [?:1.8.0_77]*\n</code></pre>\n<p>What could be the reason?</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n</code></pre>\n\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;artifactId&gt;xxxxxxxxxxx&lt;/artifactId&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;version&gt;${revision}&lt;/version&gt;\n&lt;name&gt;xxxxxxxxxx&lt;/name&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.2.13.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;rsa.version&gt;6sp5cr34&lt;/rsa.version&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n&lt;/properties&gt;\n&lt;dependencies&gt;\n\n    &lt;!-- Spring dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;2.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.10.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\n        &lt;artifactId&gt;xstream&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.11.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\n        &lt;version&gt;1.9.13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n        &lt;version&gt;1.9.13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n        &lt;artifactId&gt;shiro-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n        &lt;artifactId&gt;shiro-spring&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.gemstone.gemfire&lt;/groupId&gt;\n        &lt;artifactId&gt;gemfire&lt;/artifactId&gt;\n        &lt;version&gt;8.2.1&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$ --&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;xerces&lt;/groupId&gt;\n        &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n        &lt;version&gt;2.12.0.SP03&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jdom&lt;/groupId&gt;\n        &lt;artifactId&gt;jdom&lt;/artifactId&gt;\n        &lt;version&gt;2.0.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.5.13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.13.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.13.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-compress&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;30.1.1-jre&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\n        &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n        &lt;version&gt;2.10.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-web&lt;/artifactId&gt;&lt;!--$NO-MVN-MAN-VER$ --&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n        &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\n        &lt;version&gt;11.0.3&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;jetty-io&lt;/artifactId&gt;\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n        &lt;artifactId&gt;jetty-io&lt;/artifactId&gt;\n        &lt;version&gt;11.0.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Test dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n        &lt;version&gt;1.5.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit&lt;/groupId&gt;\n        &lt;artifactId&gt;org.junit&lt;/artifactId&gt;\n        &lt;version&gt;4.8.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\n        &lt;version&gt;2.0.7&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n        &lt;version&gt;2.0.7&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n        &lt;version&gt;2.0.7&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-commons&lt;/artifactId&gt;\n        &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.7.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n        &lt;version&gt;2.15.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n        &lt;artifactId&gt;org.jacoco.agent&lt;/artifactId&gt;\n        &lt;classifier&gt;runtime&lt;/classifier&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;copy-resources&lt;/id&gt;\n                    &lt;phase&gt;initialize&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-resources&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${project.basedir}/target/classes/static&lt;/outputDirectory&gt;\n                        &lt;resources&gt;\n                            &lt;resource&gt;\n                                &lt;directory&gt;${project.basedir}/../xxxxx-web/build&lt;/directory&gt;\n                            &lt;/resource&gt;\n                        &lt;/resources&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;classifier&gt;exec&lt;/classifier&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;xxx.xxx&lt;/groupId&gt;\n            &lt;artifactId&gt;xxx.xxx&lt;/artifactId&gt;\n            &lt;version&gt;18.05.22.10.54&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;aim-json-generator&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;jsongenerator&lt;/goal&gt;\n                        &lt;goal&gt;jsonmaestrogenerator&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;systemPropertyVariables&gt;\n                    &lt;jacoco-agent.destfile&gt;${project.build.directory}/jacoco.exec&lt;/jacoco-agent.destfile&gt;\n                &lt;/systemPropertyVariables&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${jacoco.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-instrument&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;instrument&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;skip&gt;${jacoco.skip.instrument}&lt;/skip&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-restore-instrumented-classes&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;restore-instrumented-classes&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;skip&gt;${jacoco.skip.instrument}&lt;/skip&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;report&lt;/id&gt;\n                    &lt;phase&gt;prepare-package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;report&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;skip&gt;${jacoco.skip.instrument}&lt;/skip&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":7,"creation_date":1638444742,"post_id":70198251,"comment_id":124092135,"body_markdown":"If you need to comment individual lines of a single text block based on different customers or versions, maybe you shouldn&#39;t be using a single text block to begin with. Sounds like questionable design.","body":"If you need to comment individual lines of a single text block based on different customers or versions, maybe you shouldn&#39;t be using a single text block to begin with. Sounds like questionable design."},{"owner":{"account_id":4431471,"reputation":149,"user_id":3608549,"display_name":"Jack"},"score":0,"creation_date":1638459049,"post_id":70198251,"comment_id":124098762,"body_markdown":"It was more or less theoretical question :) I am not using it at the moment... I might come in handy at some point?","body":"It was more or less theoretical question :) I am not using it at the moment... I might come in handy at some point?"}],"answers":[{"tags":[],"owner":{"account_id":9907689,"reputation":481,"user_id":7335674,"display_name":"Avior"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638443156,"creation_date":1638443156,"answer_id":70198285,"question_id":70198251,"body_markdown":"I don&#39;t know specially for Java but I would think that no it isn&#39;t possible to do this as some people would want to have text with `//` in the strings without escaping.","title":"Comments Inside Text Block in Java 17 - Is that possible?","body":"<p>I don't know specially for Java but I would think that no it isn't possible to do this as some people would want to have text with <code>//</code> in the strings without escaping.</p>\n"},{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1638443432,"creation_date":1638443432,"answer_id":70198347,"question_id":70198251,"body_markdown":"The Java Language Specification [states](https://docs.oracle.com/javase/specs/jls/se17/html/jls-3.html#jls-3.7) that:\r\n\r\n&gt; The lexical grammar implies that comments do not occur within character literals, string literals, or **text blocks**\r\n\r\n(emphasis mine)\r\n\r\nSo nope, you can&#39;t do that.","title":"Comments Inside Text Block in Java 17 - Is that possible?","body":"<p>The Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-3.html#jls-3.7\" rel=\"noreferrer\">states</a> that:</p>\n<blockquote>\n<p>The lexical grammar implies that comments do not occur within character literals, string literals, or <strong>text blocks</strong></p>\n</blockquote>\n<p>(emphasis mine)</p>\n<p>So nope, you can't do that.</p>\n"},{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638453991,"creation_date":1638443462,"answer_id":70198354,"question_id":70198251,"body_markdown":"As of [JEP 378](https://openjdk.java.net/jeps/378), it is **not** possible to add a comment in a text block.\r\n\r\nHowever, you can use a few tricks:\r\n\r\nFor example, you can replace everything inside of `/*... */`:\r\n\r\n```java\r\n&quot;&quot;&quot;\r\nabc /* this is a comment*/\r\ndef //another comment\r\n&quot;&quot;&quot;.replace(&quot;/\\\\*.*\\*/&quot;,&quot;&quot;).replace(&quot;//.*$&quot;,&quot;&quot;);\r\n```\r\n\r\nAnother possibility would be to use multiple text blocks:\r\n```java\r\n&quot;&quot;&quot;\r\n... \r\n&quot;&quot;&quot;\r\n+ //comment\r\n&quot;&quot;&quot;\r\n... \r\n&quot;&quot;&quot;\r\n```\r\n\r\nHowever, as [Federico klez Culloca](https://stackoverflow.com/users/133203/federico-klez-culloca) mentioned in the comments, these are just workarounds. It is likely better to include a comment before the text block explaining what it does in general instead of writing comments in the text blocks. ","title":"Comments Inside Text Block in Java 17 - Is that possible?","body":"<p>As of <a href=\"https://openjdk.java.net/jeps/378\" rel=\"nofollow noreferrer\">JEP 378</a>, it is <strong>not</strong> possible to add a comment in a text block.</p>\n<p>However, you can use a few tricks:</p>\n<p>For example, you can replace everything inside of <code>/*... */</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;&quot;&quot;\nabc /* this is a comment*/\ndef //another comment\n&quot;&quot;&quot;.replace(&quot;/\\\\*.*\\*/&quot;,&quot;&quot;).replace(&quot;//.*$&quot;,&quot;&quot;);\n</code></pre>\n<p>Another possibility would be to use multiple text blocks:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;&quot;&quot;\n... \n&quot;&quot;&quot;\n+ //comment\n&quot;&quot;&quot;\n... \n&quot;&quot;&quot;\n</code></pre>\n<p>However, as <a href=\"https://stackoverflow.com/users/133203/federico-klez-culloca\">Federico klez Culloca</a> mentioned in the comments, these are just workarounds. It is likely better to include a comment before the text block explaining what it does in general instead of writing comments in the text blocks.</p>\n"}],"owner":{"account_id":4431471,"reputation":149,"user_id":3608549,"display_name":"Jack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2100,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":70198354,"answer_count":3,"score":10,"last_activity_date":1638456458,"creation_date":1638443007,"question_id":70198251,"body_markdown":"A simple question. Is it possible to have comments in Text Blocks in Java 17?\r\n\r\nSince Java 15 Text Blocks are an option: \r\n\r\n```\r\n&quot;&quot;&quot;\r\n   Hello Hello                    //how to create a comment here? - this was wanted by customer XXX\r\nThis dog has a big nose        // This line came with version 1.0.2\r\nThis cat needs to eat\r\n&quot;&quot;&quot;\r\n```\r\n\r\nIs it possible to have comments inside a text block? I would like to tag some lines that came with new customers etc. Is this possible, will this be possible? ","title":"Comments Inside Text Block in Java 17 - Is that possible?","body":"<p>A simple question. Is it possible to have comments in Text Blocks in Java 17?</p>\n<p>Since Java 15 Text Blocks are an option:</p>\n<pre><code>&quot;&quot;&quot;\n   Hello Hello                    //how to create a comment here? - this was wanted by customer XXX\nThis dog has a big nose        // This line came with version 1.0.2\nThis cat needs to eat\n&quot;&quot;&quot;\n</code></pre>\n<p>Is it possible to have comments inside a text block? I would like to tag some lines that came with new customers etc. Is this possible, will this be possible?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1638453864,"post_id":70200566,"comment_id":124096115,"body_markdown":"There is no line separator in your output - use `System.lineSeparator()`.","body":"There is no line separator in your output - use <code>System.lineSeparator()</code>."},{"owner":{"account_id":23467368,"reputation":15,"user_id":17521327,"display_name":"titcoi"},"score":0,"creation_date":1638455489,"post_id":70200566,"comment_id":124097044,"body_markdown":"Thank you very much! I added System.lineSeparator() in for-loop and it work! I want to upvote you but I can&#39;t cause your answer in the comment box haha ^^","body":"Thank you very much! I added System.lineSeparator() in for-loop and it work! I want to upvote you but I can&#39;t cause your answer in the comment box haha ^^"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638456349,"creation_date":1638456349,"answer_id":70201549,"question_id":70200566,"body_markdown":"There is no line separator in your output - use `System.lineSeparator()`. Some tips for next time: \r\n\r\n1) you don&#39;t need to use `DataOutputStream`\r\n2) All InputStreams have a much tidier way to copy data in-&gt;out:\r\n\r\n    inputStream.transferTo(System.out);\r\n\r\n3) Always use `int resultCode = process.waitFor();` to check the process exit code.","title":"How can I pass value to Scanner class in subprocess two or more times by OutputStream in Java?","body":"<p>There is no line separator in your output - use <code>System.lineSeparator()</code>. Some tips for next time:</p>\n<ol>\n<li><p>you don't need to use <code>DataOutputStream</code></p>\n</li>\n<li><p>All InputStreams have a much tidier way to copy data in-&gt;out:</p>\n<p>inputStream.transferTo(System.out);</p>\n</li>\n<li><p>Always use <code>int resultCode = process.waitFor();</code> to check the process exit code.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":23467368,"reputation":15,"user_id":17521327,"display_name":"titcoi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70201549,"answer_count":1,"score":0,"last_activity_date":1638456349,"creation_date":1638452543,"question_id":70200566,"body_markdown":"```\r\n public static void runApp(String path, String[] args) throws IOException {\r\n            Runtime runTime = Runtime.getRuntime(); \r\n            Process process = runTime.exec(path);\r\n\r\n            InputStream inputStream = process.getInputStream();\r\n            InputStreamReader isr = new InputStreamReader(inputStream);\r\n\r\n            OutputStream fos = process.getOutputStream();\r\n            DataOutputStream dos = new DataOutputStream(fos);  \r\n            \r\n            //\r\n            for (int i = 0; i &lt; args.length; i++) {\r\n                dos.writeBytes(args[i]);\r\n            }\r\n        \r\n            dos.flush();\r\n            dos.close();\r\n            \r\n            //\r\n            int n1;\r\n            char[] c1 = new char[1024];\r\n            StringBuffer standardOutput = new StringBuffer(); \r\n\r\n            while ((n1 = isr.read(c1)) &gt; 0) {\r\n                standardOutput.append(c1, 0, n1);\r\n            }\r\n\r\n            System.out.println(standardOutput.toString());\r\n    }\r\n\r\n    //Main Method\r\n    public static void main(String[] args) throws IOException {\r\n           String[] strs = {&quot;0&quot;, &quot;1&quot;, &quot;asdasd&quot;};\r\n           String path = &quot;java -classpath E:\\\\code\\\\java\\\\ctppmhw\\\\bin\\\\ App&quot;;\r\n           runApp(path, strs);  \r\n    }\r\n```\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class App {\r\n    public static void main(String[] args) throws Exception {\r\n        Scanner sc = new Scanner(System.in);\r\n        String str = sc.next();\r\n        System.out.println(&quot;String is: &quot; + str);\r\n        String str2 = sc.next();\r\n        System.out.println(&quot;String2 is: &quot; + str2);\r\n        String str3 = sc.next();\r\n        System.out.println(&quot;String3 is: &quot; + str3);\r\n        sc.close();\r\n    }\r\n}\r\n```\r\n[![Result when I run main contains runApp() method][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jLTUi.png\r\n\r\nWhen I run the main contains runApp() method, It skips str2 and str3 in App.main() like the above image. How can I pass values to str2 and str3 variables in App.main()? I create two arguments for runApp() method are the path to .class file and String array used to pass value. ","title":"How can I pass value to Scanner class in subprocess two or more times by OutputStream in Java?","body":"<pre><code> public static void runApp(String path, String[] args) throws IOException {\n            Runtime runTime = Runtime.getRuntime(); \n            Process process = runTime.exec(path);\n\n            InputStream inputStream = process.getInputStream();\n            InputStreamReader isr = new InputStreamReader(inputStream);\n\n            OutputStream fos = process.getOutputStream();\n            DataOutputStream dos = new DataOutputStream(fos);  \n            \n            //\n            for (int i = 0; i &lt; args.length; i++) {\n                dos.writeBytes(args[i]);\n            }\n        \n            dos.flush();\n            dos.close();\n            \n            //\n            int n1;\n            char[] c1 = new char[1024];\n            StringBuffer standardOutput = new StringBuffer(); \n\n            while ((n1 = isr.read(c1)) &gt; 0) {\n                standardOutput.append(c1, 0, n1);\n            }\n\n            System.out.println(standardOutput.toString());\n    }\n\n    //Main Method\n    public static void main(String[] args) throws IOException {\n           String[] strs = {&quot;0&quot;, &quot;1&quot;, &quot;asdasd&quot;};\n           String path = &quot;java -classpath E:\\\\code\\\\java\\\\ctppmhw\\\\bin\\\\ App&quot;;\n           runApp(path, strs);  \n    }\n</code></pre>\n<pre><code>import java.util.Scanner;\n\npublic class App {\n    public static void main(String[] args) throws Exception {\n        Scanner sc = new Scanner(System.in);\n        String str = sc.next();\n        System.out.println(&quot;String is: &quot; + str);\n        String str2 = sc.next();\n        System.out.println(&quot;String2 is: &quot; + str2);\n        String str3 = sc.next();\n        System.out.println(&quot;String3 is: &quot; + str3);\n        sc.close();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jLTUi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jLTUi.png\" alt=\"Result when I run main contains runApp() method\" /></a></p>\n<p>When I run the main contains runApp() method, It skips str2 and str3 in App.main() like the above image. How can I pass values to str2 and str3 variables in App.main()? I create two arguments for runApp() method are the path to .class file and String array used to pass value.</p>\n"},{"tags":["java","compiler-warnings","deprecated"],"comments":[{"owner":{"account_id":46184,"reputation":4003,"user_id":136363,"display_name":"t0mppa"},"score":3,"creation_date":1392662925,"post_id":21836894,"comment_id":33052386,"body_markdown":"So, you&#39;re trying to call a function which takes three arguments and you only provide one, then wonder why it doesn&#39;t work?","body":"So, you&#39;re trying to call a function which takes three arguments and you only provide one, then wonder why it doesn&#39;t work?"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1392663160,"post_id":21836894,"comment_id":33052508,"body_markdown":"Also, note that you are using `Comparable` as a raw type.","body":"Also, note that you are using <code>Comparable</code> as a raw type."},{"owner":{"account_id":3991553,"reputation":7,"user_id":3290321,"display_name":"curious george"},"score":0,"creation_date":1392663516,"post_id":21836894,"comment_id":33052686,"body_markdown":"Yeah, you make a good point, thanks.  Can you suggest an alternative to the deprecated readStrings() in In?","body":"Yeah, you make a good point, thanks.  Can you suggest an alternative to the deprecated readStrings() in In?"}],"answers":[{"tags":[],"owner":{"account_id":3895256,"reputation":3542,"user_id":3224483,"accept_rate":70,"display_name":"Rainbolt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638456347,"creation_date":1392663039,"answer_id":21837002,"question_id":21836894,"body_markdown":"To get rid of the deprecated warning, **don&#39;t use a deprecated function.** [Deprecated][1] functions may not meet current standards. They exist only to provide backwards compatibility while the rest of the world catches up. In your case, use another Stream reader instead. I prefer [Scanner][2], but there are plenty more.\r\n\r\n    Scanner in = new Scanner(System.In);\r\n    String[] strings = in.readLine().split(&quot; &quot;);\r\n\r\nJava has a built in Arrays.Sort() method that you can use instead of implementing your own, unless you have some special requirements.\r\n\r\n    Arrays.sort(strings);\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Deprecation\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html","title":"java compiler warning: readStrings() in In (deprecated)","body":"<p>To get rid of the deprecated warning, <strong>don't use a deprecated function.</strong> <a href=\"http://en.wikipedia.org/wiki/Deprecation\" rel=\"nofollow noreferrer\">Deprecated</a> functions may not meet current standards. They exist only to provide backwards compatibility while the rest of the world catches up. In your case, use another Stream reader instead. I prefer <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\">Scanner</a>, but there are plenty more.</p>\n<pre><code>Scanner in = new Scanner(System.In);\nString[] strings = in.readLine().split(&quot; &quot;);\n</code></pre>\n<p>Java has a built in Arrays.Sort() method that you can use instead of implementing your own, unless you have some special requirements.</p>\n<pre><code>Arrays.sort(strings);\n</code></pre>\n"}],"owner":{"account_id":3991553,"reputation":7,"user_id":3290321,"display_name":"curious george"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21837002,"answer_count":1,"score":0,"last_activity_date":1638456347,"creation_date":1392662772,"question_id":21836894,"body_markdown":"I&#39;m running javac v1.6.0-65 in a Dr. Java studio on a Mac with OSX 10.9.1\r\n\r\nI get the following warning:  \r\n\r\n \tQuick.java:53: warning: [deprecation] readStrings() in In has been deprecated\r\n\r\nwhich isn&#39;t so bad, I guess, except I also get the following error:\r\n\r\n    Quick.java:54: sort(java.lang.Comparable[],int,int) in Quick cannot be applied to (java.lang.String[])\r\n\r\nThe code lines are:\r\n\r\n    public static void main(String[] args) \r\n    { // Read strings from standard input, sort them, and print. \r\n       String[] a = In.readStrings(); \r\n       sort(a); \r\n      \r\nand\r\n\r\n    private static void sort(Comparable[] a, int lo, int hi)\r\n    {\r\n\r\nThere seems to be some mismatch in defining the array a of input, String[] a, as something that can be compared in the private sort(). I thought strings could be compared.\r\n\r\nMy question is, how do I get rid of the error?  And, incidentally, does the warning relate to the error?\r\n","title":"java compiler warning: readStrings() in In (deprecated)","body":"<p>I'm running javac v1.6.0-65 in a Dr. Java studio on a Mac with OSX 10.9.1</p>\n\n<p>I get the following warning:  </p>\n\n<pre><code>Quick.java:53: warning: [deprecation] readStrings() in In has been deprecated\n</code></pre>\n\n<p>which isn't so bad, I guess, except I also get the following error:</p>\n\n<pre><code>Quick.java:54: sort(java.lang.Comparable[],int,int) in Quick cannot be applied to (java.lang.String[])\n</code></pre>\n\n<p>The code lines are:</p>\n\n<pre><code>public static void main(String[] args) \n{ // Read strings from standard input, sort them, and print. \n   String[] a = In.readStrings(); \n   sort(a); \n</code></pre>\n\n<p>and</p>\n\n<pre><code>private static void sort(Comparable[] a, int lo, int hi)\n{\n</code></pre>\n\n<p>There seems to be some mismatch in defining the array a of input, String[] a, as something that can be compared in the private sort(). I thought strings could be compared.</p>\n\n<p>My question is, how do I get rid of the error?  And, incidentally, does the warning relate to the error?</p>\n"},{"tags":["java","android-studio","onclick"],"owner":{"account_id":23118939,"reputation":67,"user_id":17225742,"display_name":"Rifaldi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638455942,"creation_date":1638347285,"question_id":70181053,"body_markdown":"I trying make looking position item for warehouse apps. [Here my UI][1]\r\n\r\n  [1]: https://i.stack.imgur.com/kF5A4.jpg\r\n\r\nNote : L1 means Lemari 1, E means row E, and 1 means column 1.\r\n\r\nMy target now is when user click list of a item, that item will be highlighted and rack which have same data will change colour. Example if i click list a item which stored in rack L1E1, row list L1E1 will be highlighted and rack in L1E1 will change colour. I can change colour rack and background row recyclerview but i can&#39;t sync it. Here my code\r\n\r\n**MyMain.Java** \r\n\r\n    public class AdminTrackingActivity extends AppCompatActivity {\r\n\r\n    ImageView btnBack, btnKanan, btnKiri,L1A1, L1A2, L1B1, L1B2, L1C1, L1C2, L1D1, L1D2, L1E1, L1E2;\r\n    RecyclerView mRecyclerViewtr;\r\n    private EditText searchEnginetr;\r\n\r\n    private FirebaseDatabase mDatabase = FirebaseDatabase.getInstance();\r\n    DatabaseReference mDatabaseAddStock = mDatabase.getReference().child(&quot;Stock&quot;).child(&quot;In&quot;).child(&quot;StockIn&quot;);\r\n    DatabaseReference mBuyMore = mDatabase.getReference().child(&quot;BuyMore&quot;);\r\n\r\n    /*inisiasi adapter*/\r\n    private AdminListAdapterTracking adapter;\r\n    private ArrayList&lt;AdminStockIn&gt; list;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_admin_tracking);\r\n        btnBack = findViewById(R.id.btn_back_AdminTracking);\r\n        btnBack.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(AdminTrackingActivity.this, MainMenuAdminActivity.class));\r\n            }\r\n        });\r\n\r\n        btnKanan = findViewById(R.id.btn_kanan_AdminTracking);\r\n        btnKanan.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(AdminTrackingActivity.this, AdminTrackingActivity2.class));\r\n            }\r\n        });\r\n\r\n        btnKiri=findViewById(R.id.btn_kiri_AdminTracking);\r\n        btnKiri.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(AdminTrackingActivity.this, AdminTrackingActivity5.class));\r\n            }\r\n        });\r\n\r\n        L1A1 = findViewById(R.id.AdminTracking_L1A1);\r\n        L1A2 = findViewById(R.id.AdminTracking_L1A2);\r\n        L1B1 = findViewById(R.id.AdminTracking_L1B1);\r\n        L1B2 = findViewById(R.id.AdminTracking_L1B2);\r\n        L1C1 = findViewById(R.id.AdminTracking_L1C1);\r\n        L1C2 = findViewById(R.id.AdminTracking_L1C2);\r\n        L1D1 = findViewById(R.id.AdminTracking_L1D1);\r\n        L1D2 = findViewById(R.id.AdminTracking_L1D2);\r\n        L1E1 = findViewById(R.id.AdminTracking_L1E1);\r\n        L1E2 = findViewById(R.id.AdminTracking_L1E2);\r\n\r\n        L1A1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                L1A1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_abu_edit));\r\n                L1A2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1B1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1B2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1C1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1C2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1D1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1D2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1E1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1E2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n            }\r\n        });\r\n\r\n        L1A2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                L1A2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_abu_edit));\r\n                L1A1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1B1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1B2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1C1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1C2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1D1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1D2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1E1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1E2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n            }\r\n        });\r\n\r\n        L1B1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                L1B1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_abu_edit));\r\n                L1A2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1A1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1B2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1C1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1C2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1D1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1D2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1E1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1E2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n            }\r\n        });\r\n\r\n        L1B2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                L1B2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_abu_edit));\r\n                L1A2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1B1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1A1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1C1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1C2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1D1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1D2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1E1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1E2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n            }\r\n        });\r\n\r\n        L1C1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                L1C1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_abu_edit));\r\n                L1A1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1A2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1B1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1B2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1C2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1D1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1D2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1E1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1E2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n            }\r\n        });\r\n\r\n        L1C2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                L1C2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_abu_edit));\r\n                L1A1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1A2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1B1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1B2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1C1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1D1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1D2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1E1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1E2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n            }\r\n        });\r\n\r\n        L1D1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                L1D1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_abu_edit));\r\n                L1A1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1A2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1B1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1B2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1C2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1C1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1D2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1E1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1E2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n            }\r\n        });\r\n\r\n        L1D2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                L1D2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_abu_edit));\r\n                L1A1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1A2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1B1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1B2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1C2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1D1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1C1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1E1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1E2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n            }\r\n        });\r\n\r\n        L1E1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                L1E1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_abu_edit));\r\n                L1A1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1A2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1B1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1B2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1C2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1D1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1D2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1C1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1E2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n            }\r\n        });\r\n\r\n        L1E2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                L1E2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_abu_edit));\r\n                L1A1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1A2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1B1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1B2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1C2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1D1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1D2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1E1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                L1C1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n            }\r\n        });\r\n\r\n        DatabaseReference mDatabaseAddRack = mDatabase.getReference().child(&quot;Stock&quot;).child(&quot;In&quot;).child(&quot;StockIn&quot;);\r\n        mDatabaseAddRack.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\r\n                    String rack = snapshot.child(&quot;rack&quot;).getValue(String.class);\r\n                    if (rack != null &amp;&amp; rack.equals(&quot;L1A1&quot;)) {\r\n                        L1A1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                    } else if(rack != null &amp;&amp; rack.equals(&quot;L1A2&quot;)){\r\n                        L1A2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                    } else if(rack != null &amp;&amp; rack.equals(&quot;L1B1&quot;)){\r\n                        L1B1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                    } else if(rack != null &amp;&amp; rack.equals(&quot;L1B2&quot;)){\r\n                        L1B2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                    } else if(rack != null &amp;&amp; rack.equals(&quot;L1C1&quot;)){\r\n                        L1C1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                    } else if(rack != null &amp;&amp; rack.equals(&quot;L1C2&quot;)){\r\n                        L1C2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                    } else if(rack != null &amp;&amp; rack.equals(&quot;L1D1&quot;)){\r\n                        L1D1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                    } else if(rack != null &amp;&amp; rack.equals(&quot;L1D2&quot;)){\r\n                        L1D2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                    }else if(rack != null &amp;&amp; rack.equals(&quot;L1E1&quot;)){\r\n                        L1E1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                    } else if(rack != null &amp;&amp; rack.equals(&quot;L1E2&quot;)){\r\n                        L1E2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n        /*recycler view*/\r\n        mRecyclerViewtr = (RecyclerView) findViewById(R.id.RV_AdminTracking);\r\n        LinearLayoutManager layoutManager = new LinearLayoutManager(this);\r\n        layoutManager.setReverseLayout(true);\r\n        layoutManager.setStackFromEnd(true);\r\n        mRecyclerViewtr.setLayoutManager(layoutManager);\r\n        mRecyclerViewtr.setHasFixedSize(true);\r\n\r\n        list = new ArrayList&lt;&gt;();\r\n        adapter = new AdminListAdapterTracking(list, this);\r\n        mRecyclerViewtr.setAdapter(adapter);\r\n\r\n        /*fitur search*/\r\n        searchEnginetr = (EditText) findViewById(R.id.searchEngine_AdminTracking);\r\n        searchEnginetr.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n                if (!s.toString().isEmpty()) {\r\n                    search(s.toString());\r\n                } else {\r\n                    search(&quot;&quot;);\r\n                }\r\n            }\r\n        });\r\n\r\n        readData();\r\n    }\r\n\r\n    /*membaca data stock in*/\r\n    private void readData() {\r\n        mDatabaseAddStock.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.hasChildren()) {\r\n                    list.clear();\r\n                    for (DataSnapshot dss : snapshot.getChildren()) {\r\n                        final AdminStockIn adminStockIn = dss.getValue(AdminStockIn.class);\r\n                        list.add(adminStockIn);\r\n                    }\r\n                    AdminListAdapterTracking adminListAdapterTracking = new AdminListAdapterTracking(list, getApplicationContext());\r\n                    mRecyclerViewtr.setAdapter(adminListAdapterTracking);\r\n                    adminListAdapterTracking.notifyDataSetChanged();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    /*lanjutan fitur search*/\r\n    private void search(String s) {\r\n        Query querydate = mDatabaseAddStock.orderByChild(&quot;date&quot;).startAt(s).endAt(s + &quot;\\uf8ff&quot;);\r\n        Query queryname = mDatabaseAddStock.orderByChild(&quot;name&quot;).startAt(s).endAt(s + &quot;\\uf8ff&quot;);\r\n        Query queryvendor = mDatabaseAddStock.orderByChild(&quot;vendor&quot;).startAt(s).endAt(s + &quot;\\uf8ff&quot;);\r\n        Query queryrack = mDatabaseAddStock.orderByChild(&quot;rack&quot;).startAt(s).endAt(s + &quot;\\uf8ff&quot;);\r\n\r\n        querydate.addValueEventListener(new ValueEventListener() {\r\n\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.hasChildren()) {\r\n                    list.clear();\r\n                    for (DataSnapshot dss : snapshot.getChildren()) {\r\n                        final AdminStockIn adminStockIn = dss.getValue(AdminStockIn.class);\r\n                        list.add(adminStockIn);\r\n                    }\r\n                    AdminListAdapterTracking adminListAdapterTracking = new AdminListAdapterTracking(list, getApplicationContext());\r\n                    mRecyclerViewtr.setAdapter(adminListAdapterTracking);\r\n                    adminListAdapterTracking.notifyDataSetChanged();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n        queryname.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.hasChildren()) {\r\n                    list.clear();\r\n                    for (DataSnapshot dss : snapshot.getChildren()) {\r\n                        final AdminStockIn adminStockIn = dss.getValue(AdminStockIn.class);\r\n                        list.add(adminStockIn);\r\n                    }\r\n                    AdminListAdapterTracking adminListAdapterTracking = new AdminListAdapterTracking(list, getApplicationContext());\r\n                    mRecyclerViewtr.setAdapter(adminListAdapterTracking);\r\n                    adminListAdapterTracking.notifyDataSetChanged();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n        queryvendor.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.hasChildren()) {\r\n                    list.clear();\r\n                    for (DataSnapshot dss : snapshot.getChildren()) {\r\n                        final AdminStockIn adminStockIn = dss.getValue(AdminStockIn.class);\r\n                        list.add(adminStockIn);\r\n                    }\r\n                    AdminListAdapterTracking adminListAdapterTracking = new AdminListAdapterTracking(list, getApplicationContext());\r\n                    mRecyclerViewtr.setAdapter(adminListAdapterTracking);\r\n                    adminListAdapterTracking.notifyDataSetChanged();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n        queryrack.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.hasChildren()) {\r\n                    list.clear();\r\n                    for (DataSnapshot dss : snapshot.getChildren()) {\r\n                        final AdminStockIn adminStockIn = dss.getValue(AdminStockIn.class);\r\n                        list.add(adminStockIn);\r\n                    }\r\n                    AdminListAdapterTracking adminListAdapterTracking = new AdminListAdapterTracking(list, getApplicationContext());\r\n                    mRecyclerViewtr.setAdapter(adminListAdapterTracking);\r\n                    adminListAdapterTracking.notifyDataSetChanged();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n    /*tombol kembali*/\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        moveTaskToBack();\r\n    }\r\n    private void moveTaskToBack() {\r\n        startActivity(new Intent(AdminTrackingActivity.this, MainMenuAdminActivity.class));\r\n    }\r\n    }\r\n\r\n**MyAdapter.Java**\r\n\r\n    public class AdminListAdapterTracking extends RecyclerView.Adapter&lt;AdminListAdapterTracking.MyViewHolder&gt; {\r\n    ArrayList&lt;AdminStockIn&gt; mList;\r\n    Context context;\r\n    Integer row_index = -1;\r\n\r\n    public AdminListAdapterTracking(ArrayList&lt;AdminStockIn&gt; mList, Context context) {\r\n        this.mList = mList;\r\n        this.context = context;\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public AdminListAdapterTracking.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(context).inflate(R.layout.admin_list_tracking, parent, false);\r\n        return new AdminListAdapterTracking.MyViewHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull AdminListAdapterTracking.MyViewHolder holder, final int position) {\r\n\r\n        final AdminStockIn adminStockIn = mList.get(position);\r\n\r\n        holder.date.setText(adminStockIn.getDate());\r\n        holder.time.setText(adminStockIn.getTime());\r\n        holder.name.setText(adminStockIn.getName());\r\n        holder.quantity.setText(adminStockIn.getQuantity().toString());\r\n        holder.vendor.setText(adminStockIn.getVendor());\r\n        holder.rack.setText(adminStockIn.getRack());\r\n\r\n        holder.layout.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                row_index=position;\r\n                notifyDataSetChanged();\r\n            }\r\n        });\r\n        if (row_index==position){\r\n            holder.layout.setBackgroundColor(Color.parseColor(&quot;#1064AE&quot;));\r\n        }else {\r\n            holder.layout.setBackgroundColor(Color.parseColor(&quot;#ffffff&quot;));\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mList.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView date;\r\n        TextView time;\r\n        TextView name;\r\n        TextView quantity;\r\n        TextView vendor;\r\n        TextView rack;\r\n\r\n        RelativeLayout layout;\r\n\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            date = itemView.findViewById(R.id.itemDate_AdminTracking);\r\n            time = itemView.findViewById(R.id.itemTime_AdminTracking);\r\n            name = itemView.findViewById(R.id.itemName_AdminTracking);\r\n            quantity = itemView.findViewById(R.id.itemQuantity_AdminTracking);\r\n            vendor = itemView.findViewById(R.id.itemVendor_AdminTracking);\r\n            rack = itemView.findViewById(R.id.itemRack_AdminTracking);\r\n            layout = itemView.findViewById(R.id.layoutAdminTracking);\r\n        }\r\n    }\r\n    }\r\n\r\nHow to sync my recycler view and my rack?","title":"Change imageview resource from inside recyclerview when clicked","body":"<p>I trying make looking position item for warehouse apps. <a href=\"https://i.stack.imgur.com/kF5A4.jpg\" rel=\"nofollow noreferrer\">Here my UI</a></p>\n<p>Note : L1 means Lemari 1, E means row E, and 1 means column 1.</p>\n<p>My target now is when user click list of a item, that item will be highlighted and rack which have same data will change colour. Example if i click list a item which stored in rack L1E1, row list L1E1 will be highlighted and rack in L1E1 will change colour. I can change colour rack and background row recyclerview but i can't sync it. Here my code</p>\n<p><strong>MyMain.Java</strong></p>\n<pre><code>public class AdminTrackingActivity extends AppCompatActivity {\n\nImageView btnBack, btnKanan, btnKiri,L1A1, L1A2, L1B1, L1B2, L1C1, L1C2, L1D1, L1D2, L1E1, L1E2;\nRecyclerView mRecyclerViewtr;\nprivate EditText searchEnginetr;\n\nprivate FirebaseDatabase mDatabase = FirebaseDatabase.getInstance();\nDatabaseReference mDatabaseAddStock = mDatabase.getReference().child(&quot;Stock&quot;).child(&quot;In&quot;).child(&quot;StockIn&quot;);\nDatabaseReference mBuyMore = mDatabase.getReference().child(&quot;BuyMore&quot;);\n\n/*inisiasi adapter*/\nprivate AdminListAdapterTracking adapter;\nprivate ArrayList&lt;AdminStockIn&gt; list;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_admin_tracking);\n    btnBack = findViewById(R.id.btn_back_AdminTracking);\n    btnBack.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            startActivity(new Intent(AdminTrackingActivity.this, MainMenuAdminActivity.class));\n        }\n    });\n\n    btnKanan = findViewById(R.id.btn_kanan_AdminTracking);\n    btnKanan.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            startActivity(new Intent(AdminTrackingActivity.this, AdminTrackingActivity2.class));\n        }\n    });\n\n    btnKiri=findViewById(R.id.btn_kiri_AdminTracking);\n    btnKiri.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            startActivity(new Intent(AdminTrackingActivity.this, AdminTrackingActivity5.class));\n        }\n    });\n\n    L1A1 = findViewById(R.id.AdminTracking_L1A1);\n    L1A2 = findViewById(R.id.AdminTracking_L1A2);\n    L1B1 = findViewById(R.id.AdminTracking_L1B1);\n    L1B2 = findViewById(R.id.AdminTracking_L1B2);\n    L1C1 = findViewById(R.id.AdminTracking_L1C1);\n    L1C2 = findViewById(R.id.AdminTracking_L1C2);\n    L1D1 = findViewById(R.id.AdminTracking_L1D1);\n    L1D2 = findViewById(R.id.AdminTracking_L1D2);\n    L1E1 = findViewById(R.id.AdminTracking_L1E1);\n    L1E2 = findViewById(R.id.AdminTracking_L1E2);\n\n    L1A1.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            L1A1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_abu_edit));\n            L1A2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1B1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1B2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1C1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1C2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1D1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1D2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1E1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1E2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n        }\n    });\n\n    L1A2.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            L1A2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_abu_edit));\n            L1A1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1B1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1B2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1C1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1C2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1D1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1D2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1E1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1E2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n        }\n    });\n\n    L1B1.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            L1B1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_abu_edit));\n            L1A2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1A1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1B2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1C1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1C2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1D1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1D2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1E1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1E2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n        }\n    });\n\n    L1B2.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            L1B2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_abu_edit));\n            L1A2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1B1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1A1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1C1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1C2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1D1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1D2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1E1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1E2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n        }\n    });\n\n    L1C1.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            L1C1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_abu_edit));\n            L1A1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1A2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1B1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1B2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1C2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1D1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1D2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1E1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1E2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n        }\n    });\n\n    L1C2.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            L1C2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_abu_edit));\n            L1A1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1A2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1B1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1B2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1C1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1D1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1D2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1E1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1E2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n        }\n    });\n\n    L1D1.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            L1D1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_abu_edit));\n            L1A1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1A2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1B1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1B2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1C2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1C1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1D2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1E1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1E2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n        }\n    });\n\n    L1D2.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            L1D2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_abu_edit));\n            L1A1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1A2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1B1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1B2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1C2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1D1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1C1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1E1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1E2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n        }\n    });\n\n    L1E1.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            L1E1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_abu_edit));\n            L1A1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1A2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1B1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1B2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1C2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1D1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1D2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1C1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1E2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n        }\n    });\n\n    L1E2.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            L1E2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_abu_edit));\n            L1A1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1A2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1B1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1B2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1C2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1D1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1D2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1E1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n            L1C1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n        }\n    });\n\n    DatabaseReference mDatabaseAddRack = mDatabase.getReference().child(&quot;Stock&quot;).child(&quot;In&quot;).child(&quot;StockIn&quot;);\n    mDatabaseAddRack.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n            for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\n                String rack = snapshot.child(&quot;rack&quot;).getValue(String.class);\n                if (rack != null &amp;&amp; rack.equals(&quot;L1A1&quot;)) {\n                    L1A1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n                } else if(rack != null &amp;&amp; rack.equals(&quot;L1A2&quot;)){\n                    L1A2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n                } else if(rack != null &amp;&amp; rack.equals(&quot;L1B1&quot;)){\n                    L1B1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n                } else if(rack != null &amp;&amp; rack.equals(&quot;L1B2&quot;)){\n                    L1B2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n                } else if(rack != null &amp;&amp; rack.equals(&quot;L1C1&quot;)){\n                    L1C1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n                } else if(rack != null &amp;&amp; rack.equals(&quot;L1C2&quot;)){\n                    L1C2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n                } else if(rack != null &amp;&amp; rack.equals(&quot;L1D1&quot;)){\n                    L1D1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n                } else if(rack != null &amp;&amp; rack.equals(&quot;L1D2&quot;)){\n                    L1D2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n                }else if(rack != null &amp;&amp; rack.equals(&quot;L1E1&quot;)){\n                    L1E1.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n                } else if(rack != null &amp;&amp; rack.equals(&quot;L1E2&quot;)){\n                    L1E2.setImageDrawable(getResources().getDrawable(R.drawable.kotak_merah_edit));\n                }\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n    /*recycler view*/\n    mRecyclerViewtr = (RecyclerView) findViewById(R.id.RV_AdminTracking);\n    LinearLayoutManager layoutManager = new LinearLayoutManager(this);\n    layoutManager.setReverseLayout(true);\n    layoutManager.setStackFromEnd(true);\n    mRecyclerViewtr.setLayoutManager(layoutManager);\n    mRecyclerViewtr.setHasFixedSize(true);\n\n    list = new ArrayList&lt;&gt;();\n    adapter = new AdminListAdapterTracking(list, this);\n    mRecyclerViewtr.setAdapter(adapter);\n\n    /*fitur search*/\n    searchEnginetr = (EditText) findViewById(R.id.searchEngine_AdminTracking);\n    searchEnginetr.addTextChangedListener(new TextWatcher() {\n        @Override\n        public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n\n        }\n\n        @Override\n        public void onTextChanged(CharSequence s, int start, int before, int count) {\n\n        }\n\n        @Override\n        public void afterTextChanged(Editable s) {\n            if (!s.toString().isEmpty()) {\n                search(s.toString());\n            } else {\n                search(&quot;&quot;);\n            }\n        }\n    });\n\n    readData();\n}\n\n/*membaca data stock in*/\nprivate void readData() {\n    mDatabaseAddStock.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            if (snapshot.hasChildren()) {\n                list.clear();\n                for (DataSnapshot dss : snapshot.getChildren()) {\n                    final AdminStockIn adminStockIn = dss.getValue(AdminStockIn.class);\n                    list.add(adminStockIn);\n                }\n                AdminListAdapterTracking adminListAdapterTracking = new AdminListAdapterTracking(list, getApplicationContext());\n                mRecyclerViewtr.setAdapter(adminListAdapterTracking);\n                adminListAdapterTracking.notifyDataSetChanged();\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n}\n\n/*lanjutan fitur search*/\nprivate void search(String s) {\n    Query querydate = mDatabaseAddStock.orderByChild(&quot;date&quot;).startAt(s).endAt(s + &quot;\\uf8ff&quot;);\n    Query queryname = mDatabaseAddStock.orderByChild(&quot;name&quot;).startAt(s).endAt(s + &quot;\\uf8ff&quot;);\n    Query queryvendor = mDatabaseAddStock.orderByChild(&quot;vendor&quot;).startAt(s).endAt(s + &quot;\\uf8ff&quot;);\n    Query queryrack = mDatabaseAddStock.orderByChild(&quot;rack&quot;).startAt(s).endAt(s + &quot;\\uf8ff&quot;);\n\n    querydate.addValueEventListener(new ValueEventListener() {\n\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            if (snapshot.hasChildren()) {\n                list.clear();\n                for (DataSnapshot dss : snapshot.getChildren()) {\n                    final AdminStockIn adminStockIn = dss.getValue(AdminStockIn.class);\n                    list.add(adminStockIn);\n                }\n                AdminListAdapterTracking adminListAdapterTracking = new AdminListAdapterTracking(list, getApplicationContext());\n                mRecyclerViewtr.setAdapter(adminListAdapterTracking);\n                adminListAdapterTracking.notifyDataSetChanged();\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n\n    queryname.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            if (snapshot.hasChildren()) {\n                list.clear();\n                for (DataSnapshot dss : snapshot.getChildren()) {\n                    final AdminStockIn adminStockIn = dss.getValue(AdminStockIn.class);\n                    list.add(adminStockIn);\n                }\n                AdminListAdapterTracking adminListAdapterTracking = new AdminListAdapterTracking(list, getApplicationContext());\n                mRecyclerViewtr.setAdapter(adminListAdapterTracking);\n                adminListAdapterTracking.notifyDataSetChanged();\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n\n    queryvendor.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            if (snapshot.hasChildren()) {\n                list.clear();\n                for (DataSnapshot dss : snapshot.getChildren()) {\n                    final AdminStockIn adminStockIn = dss.getValue(AdminStockIn.class);\n                    list.add(adminStockIn);\n                }\n                AdminListAdapterTracking adminListAdapterTracking = new AdminListAdapterTracking(list, getApplicationContext());\n                mRecyclerViewtr.setAdapter(adminListAdapterTracking);\n                adminListAdapterTracking.notifyDataSetChanged();\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n\n    queryrack.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            if (snapshot.hasChildren()) {\n                list.clear();\n                for (DataSnapshot dss : snapshot.getChildren()) {\n                    final AdminStockIn adminStockIn = dss.getValue(AdminStockIn.class);\n                    list.add(adminStockIn);\n                }\n                AdminListAdapterTracking adminListAdapterTracking = new AdminListAdapterTracking(list, getApplicationContext());\n                mRecyclerViewtr.setAdapter(adminListAdapterTracking);\n                adminListAdapterTracking.notifyDataSetChanged();\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n}\n\n\n\n\n/*tombol kembali*/\n@Override\npublic void onBackPressed() {\n    super.onBackPressed();\n    moveTaskToBack();\n}\nprivate void moveTaskToBack() {\n    startActivity(new Intent(AdminTrackingActivity.this, MainMenuAdminActivity.class));\n}\n}\n</code></pre>\n<p><strong>MyAdapter.Java</strong></p>\n<pre><code>public class AdminListAdapterTracking extends RecyclerView.Adapter&lt;AdminListAdapterTracking.MyViewHolder&gt; {\nArrayList&lt;AdminStockIn&gt; mList;\nContext context;\nInteger row_index = -1;\n\npublic AdminListAdapterTracking(ArrayList&lt;AdminStockIn&gt; mList, Context context) {\n    this.mList = mList;\n    this.context = context;\n}\n\n\n@NonNull\n@Override\npublic AdminListAdapterTracking.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View v = LayoutInflater.from(context).inflate(R.layout.admin_list_tracking, parent, false);\n    return new AdminListAdapterTracking.MyViewHolder(v);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull AdminListAdapterTracking.MyViewHolder holder, final int position) {\n\n    final AdminStockIn adminStockIn = mList.get(position);\n\n    holder.date.setText(adminStockIn.getDate());\n    holder.time.setText(adminStockIn.getTime());\n    holder.name.setText(adminStockIn.getName());\n    holder.quantity.setText(adminStockIn.getQuantity().toString());\n    holder.vendor.setText(adminStockIn.getVendor());\n    holder.rack.setText(adminStockIn.getRack());\n\n    holder.layout.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            row_index=position;\n            notifyDataSetChanged();\n        }\n    });\n    if (row_index==position){\n        holder.layout.setBackgroundColor(Color.parseColor(&quot;#1064AE&quot;));\n    }else {\n        holder.layout.setBackgroundColor(Color.parseColor(&quot;#ffffff&quot;));\n    }\n\n}\n\n@Override\npublic int getItemCount() {\n    return mList.size();\n}\n\npublic static class MyViewHolder extends RecyclerView.ViewHolder{\n\n    TextView date;\n    TextView time;\n    TextView name;\n    TextView quantity;\n    TextView vendor;\n    TextView rack;\n\n    RelativeLayout layout;\n\n\n    public MyViewHolder(@NonNull View itemView) {\n        super(itemView);\n\n        date = itemView.findViewById(R.id.itemDate_AdminTracking);\n        time = itemView.findViewById(R.id.itemTime_AdminTracking);\n        name = itemView.findViewById(R.id.itemName_AdminTracking);\n        quantity = itemView.findViewById(R.id.itemQuantity_AdminTracking);\n        vendor = itemView.findViewById(R.id.itemVendor_AdminTracking);\n        rack = itemView.findViewById(R.id.itemRack_AdminTracking);\n        layout = itemView.findViewById(R.id.layoutAdminTracking);\n    }\n}\n}\n</code></pre>\n<p>How to sync my recycler view and my rack?</p>\n"},{"tags":["java","getter-setter"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":6,"creation_date":1638455419,"post_id":70201243,"comment_id":124097004,"body_markdown":"Do you mean `scanner.nextLine()`? If you want a character from that, you can do `charAt(0)`.","body":"Do you mean <code>scanner.nextLine()</code>? If you want a character from that, you can do <code>charAt(0)</code>."},{"owner":{"account_id":364230,"reputation":2747,"user_id":708502,"accept_rate":38,"display_name":"shree"},"score":0,"creation_date":1638455876,"post_id":70201243,"comment_id":124097271,"body_markdown":"I am not sure what your expecting...please check this whether it helps https://www.geeksforgeeks.org/java-signum-method-examples/","body":"I am not sure what your expecting...please check this whether it helps <a href=\"https://www.geeksforgeeks.org/java-signum-method-examples/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/java-signum-method-examples</a>"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638455803,"creation_date":1638455803,"answer_id":70201381,"question_id":70201243,"body_markdown":"Your problem isn&#39;t the setter. \r\n\r\nFor example, you can call `calcOne.setSign(&#39;a&#39;);` on its own. \r\n\r\nNow, to reproduce that for user input, you need to fix your scanner usage, for example \r\n\r\n    calcOne.setSign(scanner.nextLine().charAt(0));\r\n\r\nHowever, if you&#39;re typing something like `2 + 2`, the `+` is called the operator, and it&#39;s not always a specific index within the string (if you type this on its own line, it might be okay) ","title":"How to put char in setter in Java","body":"<p>Your problem isn't the setter.</p>\n<p>For example, you can call <code>calcOne.setSign('a');</code> on its own.</p>\n<p>Now, to reproduce that for user input, you need to fix your scanner usage, for example</p>\n<pre><code>calcOne.setSign(scanner.nextLine().charAt(0));\n</code></pre>\n<p>However, if you're typing something like <code>2 + 2</code>, the <code>+</code> is called the operator, and it's not always a specific index within the string (if you type this on its own line, it might be okay)</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638455813,"creation_date":1638455813,"answer_id":70201385,"question_id":70201243,"body_markdown":"`nextLine()` returns a string, so you must extract the first character:\r\n\r\n    String s = scanner.nextLine();\r\n    // check that s has one and only one character.\r\n    calcOne.setSign(s.charAt(0));\r\n","title":"How to put char in setter in Java","body":"<p><code>nextLine()</code> returns a string, so you must extract the first character:</p>\n<pre><code>String s = scanner.nextLine();\n// check that s has one and only one character.\ncalcOne.setSign(s.charAt(0));\n</code></pre>\n"}],"owner":{"account_id":23525680,"reputation":11,"user_id":17572257,"display_name":"ASh2803"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70201381,"answer_count":2,"score":0,"last_activity_date":1638455813,"creation_date":1638455291,"question_id":70201243,"body_markdown":"I&#39;m trying to make a Calculator, so I have this Calculator.java and CalculatorTest.java using setters and getters. \r\n```java\r\npublic class Calculator {\r\n  \r\n\tprivate int a;\r\n  \r\n\tpublic int getA() {\r\n      return a;\r\n    }\r\n  \t\r\n  \tpublic void setA(int calcOneA) {\r\n       this.a = calcOneA;\r\n    }\r\n  \r\n    private int b;\r\n  \t\r\n  \tpublic int getB() {\r\n      return b;\r\n    }\r\n  \t\r\n  \tpublic void setB(int calcOneB) {\r\n       this.b = calcOneB;\r\n    }\r\n  \t\t\r\n    private char sign;\r\n  \r\n  \tpublic char getSign() {\r\n      return sign;\r\n    }\r\n  \t\r\n  \tpublic void setSign(char calcOneSign) {\r\n \t\tthis.sign = calcOneSign;     \r\n    }\r\n}\r\n```\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class CalculatorTest {\r\n\r\n    public static void main(String[] args) {\r\n        Calculator calcOne = new Calculator();\r\n      \tScanner scanner = new Scanner(System.in);\r\n      \tSystem.out.println(&quot;Введите первое число&quot;);\r\n\t\tcalcOne.setA(scanner.nextInt());\r\n      \tSystem.out.println(&quot;Введите знак математической операции&quot;);\r\n      \tcalcOne.setSign(nextLine());\r\n      \tSystem.out.println(&quot;Введите второе число&quot;);\r\n      \tcalcOne.setB(scanner.nextInt());\r\n      }\r\n}\r\n```\r\nI don&#39;t know how to put math sign into `calcOne.setSign()`. I tried `nextLine()` but it says can&#39;t find symbol.","title":"How to put char in setter in Java","body":"<p>I'm trying to make a Calculator, so I have this Calculator.java and CalculatorTest.java using setters and getters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Calculator {\n  \n    private int a;\n  \n    public int getA() {\n      return a;\n    }\n    \n    public void setA(int calcOneA) {\n       this.a = calcOneA;\n    }\n  \n    private int b;\n    \n    public int getB() {\n      return b;\n    }\n    \n    public void setB(int calcOneB) {\n       this.b = calcOneB;\n    }\n        \n    private char sign;\n  \n    public char getSign() {\n      return sign;\n    }\n    \n    public void setSign(char calcOneSign) {\n        this.sign = calcOneSign;     \n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class CalculatorTest {\n\n    public static void main(String[] args) {\n        Calculator calcOne = new Calculator();\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Введите первое число&quot;);\n        calcOne.setA(scanner.nextInt());\n        System.out.println(&quot;Введите знак математической операции&quot;);\n        calcOne.setSign(nextLine());\n        System.out.println(&quot;Введите второе число&quot;);\n        calcOne.setB(scanner.nextInt());\n      }\n}\n</code></pre>\n<p>I don't know how to put math sign into <code>calcOne.setSign()</code>. I tried <code>nextLine()</code> but it says can't find symbol.</p>\n"},{"tags":["java","performance","testing","junit","concurrency"],"answers":[{"tags":[],"owner":{"account_id":1953040,"reputation":5716,"user_id":1756721,"accept_rate":67,"display_name":"Marcin Kunert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527252200,"creation_date":1527252200,"answer_id":50529527,"question_id":49005104,"body_markdown":"It is not possible currently with JUnit 5.\r\n\r\nThere is an ongoing discussion on this feature: https://github.com/junit-team/junit5/issues/60.\r\n\r\nYou could use [TestNG][1] to achive concurrent execution this with `invocationCount` and `threadPoolSize` parameters for `@Test`. Like this:\r\n\r\n    @Test(invocationCount=10, threadPoolSize=4)\r\n    public void shouldWork() {\r\n        // test body\r\n    }\r\n\r\n\r\n  [1]: http://testng.org/doc/","title":"JUnit @RepeatedTest for concurrent execution","body":"<p>It is not possible currently with JUnit 5.</p>\n\n<p>There is an ongoing discussion on this feature: <a href=\"https://github.com/junit-team/junit5/issues/60\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit5/issues/60</a>.</p>\n\n<p>You could use <a href=\"http://testng.org/doc/\" rel=\"nofollow noreferrer\">TestNG</a> to achive concurrent execution this with <code>invocationCount</code> and <code>threadPoolSize</code> parameters for <code>@Test</code>. Like this:</p>\n\n<pre><code>@Test(invocationCount=10, threadPoolSize=4)\npublic void shouldWork() {\n    // test body\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6331163,"reputation":196,"user_id":4916060,"display_name":"Seanvd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638455608,"creation_date":1638455608,"answer_id":70201331,"question_id":49005104,"body_markdown":"Nowadays this is possible by leveraging the (experimental) [Parallel Execution][1] feature. For this you need to add a `junit-platform.properties` file to your test resource directory. You also need to add the `@Execution(ExecutionMode.CONCURRENT)` to your tests. See the examples below:\r\n\r\njunit-platform.properties: \r\n\r\n    junit.jupiter.execution.parallel.enabled = true\r\n    junit.jupiter.execution.parallel.mode.default = concurrent\r\n\r\nTest\r\n\r\n    import org.junit.jupiter.api.RepeatedTest;\r\n    import org.junit.jupiter.api.parallel.Execution;\r\n    import org.junit.jupiter.api.parallel.ExecutionMode;\r\n    \r\n    class ParallelRepeatTest {\r\n    \r\n        @Execution(ExecutionMode.CONCURRENT)\r\n        @RepeatedTest(10)\r\n        void testVilocDecodingWithSabotagedFalse_usingMqttPlug() throws Exception {\r\n            System.out.println(&quot;Started&quot;);\r\n            Thread.sleep(5000);\r\n            System.out.println(&quot;Finished&quot;);\r\n        }\r\n    }\r\n\r\n\r\nIf you need to tweak the threading settings, refer to the junit5 documentation linked above.\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-parallel-execution","title":"JUnit @RepeatedTest for concurrent execution","body":"<p>Nowadays this is possible by leveraging the (experimental) <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parallel-execution\" rel=\"nofollow noreferrer\">Parallel Execution</a> feature. For this you need to add a <code>junit-platform.properties</code> file to your test resource directory. You also need to add the <code>@Execution(ExecutionMode.CONCURRENT)</code> to your tests. See the examples below:</p>\n<p>junit-platform.properties:</p>\n<pre><code>junit.jupiter.execution.parallel.enabled = true\njunit.jupiter.execution.parallel.mode.default = concurrent\n</code></pre>\n<p>Test</p>\n<pre><code>import org.junit.jupiter.api.RepeatedTest;\nimport org.junit.jupiter.api.parallel.Execution;\nimport org.junit.jupiter.api.parallel.ExecutionMode;\n\nclass ParallelRepeatTest {\n\n    @Execution(ExecutionMode.CONCURRENT)\n    @RepeatedTest(10)\n    void testVilocDecodingWithSabotagedFalse_usingMqttPlug() throws Exception {\n        System.out.println(&quot;Started&quot;);\n        Thread.sleep(5000);\n        System.out.println(&quot;Finished&quot;);\n    }\n}\n</code></pre>\n<p>If you need to tweak the threading settings, refer to the junit5 documentation linked above.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1763,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70201331,"answer_count":2,"score":4,"last_activity_date":1638455608,"creation_date":1519723269,"question_id":49005104,"body_markdown":"I&#39;ve read [following article][1] and I understand that I can ask junit to execute test several times by adding following annotation:\r\n\r\n    @RepeatedTest(value = 3, name = RepeatedTest.LONG_DISPLAY_NAME)\r\n\r\nBut I want to start these 3 time in parallel.   \r\nIs it posssible?\r\n\r\n\r\n`P.S.` I want to check that tests pass correctly for 10+ threads\r\n\r\n  [1]: http://www.baeldung.com/junit-5-repeated-test\r\n","title":"JUnit @RepeatedTest for concurrent execution","body":"<p>I've read <a href=\"http://www.baeldung.com/junit-5-repeated-test\" rel=\"nofollow noreferrer\">following article</a> and I understand that I can ask junit to execute test several times by adding following annotation:</p>\n\n<pre><code>@RepeatedTest(value = 3, name = RepeatedTest.LONG_DISPLAY_NAME)\n</code></pre>\n\n<p>But I want to start these 3 time in parallel.<br>\nIs it posssible?</p>\n\n<p><code>P.S.</code> I want to check that tests pass correctly for 10+ threads</p>\n"},{"tags":["java","multithreading","vert.x","quarkus"],"comments":[{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1638455790,"post_id":70201270,"comment_id":124097214,"body_markdown":"I&#39;d say they ARE running in parallel. Increase the record counts in your DB to several hundreeds, so that select and processing of data takes more considerable amount of time. With your current setup the furits and bill are processed in less than 1 ms","body":"I&#39;d say they ARE running in parallel. Increase the record counts in your DB to several hundreeds, so that select and processing of data takes more considerable amount of time. With your current setup the furits and bill are processed in less than 1 ms"},{"owner":{"account_id":3929575,"reputation":1,"user_id":13580779,"display_name":"Anhelica"},"score":0,"creation_date":1638461838,"post_id":70201270,"comment_id":124100087,"body_markdown":"I add rows to tables (6000 and 8000), seems they ok: \n`\n2021-12-02 19:14:40,622 INFO  [org.byb.ver.DbTestVerticle] (vert.x-eventloop-thread-5) &gt;&gt;&gt; bill 2371\n2021-12-02 19:14:40,622 INFO  [org.byb.ver.DbTestVerticle] (vert.x-eventloop-thread-5) &gt;&gt;&gt; bill 2372\n2021-12-02 19:14:40,620 INFO  [org.byb.ver.DbFruitVerticle] (vert.x-eventloop-thread-6) &gt;&gt;&gt; fruit 5678\n2021-12-02 19:14:40,622 INFO  [org.byb.ver.DbTestVerticle] (vert.x-eventloop-thread-5) &gt;&gt;&gt; bill 2373\n2021-12-02 19:14:40,622 INFO  [org.byb.ver.DbFruitVerticle] (vert.x-eventloop-thread-6) &gt;&gt;&gt; fruit 5679\n`\n\nThankyou!","body":"I add rows to tables (6000 and 8000), seems they ok:  ` 2021-12-02 19:14:40,622 INFO  [org.byb.ver.DbTestVerticle] (vert.x-eventloop-thread-5) &gt;&gt;&gt; bill 2371 2021-12-02 19:14:40,622 INFO  [org.byb.ver.DbTestVerticle] (vert.x-eventloop-thread-5) &gt;&gt;&gt; bill 2372 2021-12-02 19:14:40,620 INFO  [org.byb.ver.DbFruitVerticle] (vert.x-eventloop-thread-6) &gt;&gt;&gt; fruit 5678 2021-12-02 19:14:40,622 INFO  [org.byb.ver.DbTestVerticle] (vert.x-eventloop-thread-5) &gt;&gt;&gt; bill 2373 2021-12-02 19:14:40,622 INFO  [org.byb.ver.DbFruitVerticle] (vert.x-eventloop-thread-6) &gt;&gt;&gt; fruit 5679 `  Thankyou!"}],"owner":{"account_id":3929575,"reputation":1,"user_id":13580779,"display_name":"Anhelica"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638455376,"creation_date":1638455376,"question_id":70201270,"body_markdown":"I study quarkus, mutiny and vert.x. I want to create connections with two databases and fetch data in parallel. \r\n\r\nI create two similar verticles (second verticle differs only datasource name, mapper and entity):\r\n\r\n```\r\n@ApplicationScoped\r\npublic class DbFruitVerticle extends AbstractVerticle {\r\n    private static final Logger LOGGER = Logger.getLogger(DbFruitVerticle.class);\r\n\r\n    @Inject\r\n    @ReactiveDataSource(&quot;fruit&quot;)\r\n    PgPool pgPoolFruit;\r\n\r\n\r\n    @Override\r\n    public Uni&lt;Void&gt; asyncStart() {\r\n        LOGGER.info(&quot;&gt;&gt;&gt; DbFruitVerticle asyncStart&quot;);\r\n\r\n        return vertx.eventBus().consumer(&quot;runrun&quot;).handler(m -&gt; {\r\n                    LOGGER.info(&quot;&gt;&gt;&gt; Start Handler&quot;);\r\n                    getAll().subscribe()\r\n                            .with(fruit -&gt; LOGGER.info(&quot;&gt;&gt;&gt; fruit &quot; + fruit.getId()),\r\n                                    fail -&gt; fail.printStackTrace());\r\n                }\r\n        ).completionHandler();\r\n    }\r\n\r\n    public Multi&lt;Fruit&gt; getAll() {\r\n        return pgPoolFruit.query(&quot;select f.* from fruit f&quot;).execute()\r\n                .onItem().transformToMulti(set -&gt; Multi.createFrom().iterable(set))\r\n                .onItem().transform(this::mapFruit);\r\n    }\r\n// mapper\r\n}\r\n```\r\n\r\ndelpoy verticles:\r\n```\r\n  public void init(@Observes StartupEvent event,\r\n                     Vertx vertx,\r\n                     DbTestVerticle dbTestVerticle,\r\n                     DbFruitVerticle dbFruitVerticle) {\r\n        vertx.deployVerticle(dbTestVerticle).await().indefinitely();\r\n        vertx.deployVerticle(dbFruitVerticle).await().indefinitely();\r\n    }\r\n\r\n```\r\n\r\nInvoke process: \r\n```\r\neventBus.publish(&quot;runrun&quot;, &quot;run&quot;);\r\n```\r\nAnd see log:\r\n```\r\n2021-12-02 17:02:01,551 INFO  [org.byb.ver.DbFruitVerticle] (vert.x-eventloop-thread-6) &gt;&gt;&gt; fruit 1\r\n2021-12-02 17:02:01,551 INFO  [org.byb.ver.DbFruitVerticle] (vert.x-eventloop-thread-6) &gt;&gt;&gt; fruit 3\r\n2021-12-02 17:02:01,552 INFO  [org.byb.ver.DbFruitVerticle] (vert.x-eventloop-thread-6) &gt;&gt;&gt; fruit 4\r\n2021-12-02 17:02:01,552 INFO  [org.byb.ver.DbFruitVerticle] (vert.x-eventloop-thread-6) &gt;&gt;&gt; fruit 5\r\n2021-12-02 17:02:01,552 INFO  [org.byb.ver.DbFruitVerticle] (vert.x-eventloop-thread-6) &gt;&gt;&gt; fruit 6\r\n2021-12-02 17:02:01,752 INFO  [org.byb.ver.DbTestVerticle] (vert.x-eventloop-thread-5) &gt;&gt;&gt; bill 1\r\n2021-12-02 17:02:01,753 INFO  [org.byb.ver.DbTestVerticle] (vert.x-eventloop-thread-5) &gt;&gt;&gt; bill 2\r\n2021-12-02 17:02:01,753 INFO  [org.byb.ver.DbTestVerticle] (vert.x-eventloop-thread-5) &gt;&gt;&gt; bill 3\r\n```\r\n\r\nIt seems what at first thread-6 is processed and then thread-5. Why they are not parallel? How to make them parallel? Are there best practice for similar tasks? Please, help.\r\n\r\n\r\n","title":"Quarkus+Vert.x: parallel threads?","body":"<p>I study quarkus, mutiny and vert.x. I want to create connections with two databases and fetch data in parallel.</p>\n<p>I create two similar verticles (second verticle differs only datasource name, mapper and entity):</p>\n<pre><code>@ApplicationScoped\npublic class DbFruitVerticle extends AbstractVerticle {\n    private static final Logger LOGGER = Logger.getLogger(DbFruitVerticle.class);\n\n    @Inject\n    @ReactiveDataSource(&quot;fruit&quot;)\n    PgPool pgPoolFruit;\n\n\n    @Override\n    public Uni&lt;Void&gt; asyncStart() {\n        LOGGER.info(&quot;&gt;&gt;&gt; DbFruitVerticle asyncStart&quot;);\n\n        return vertx.eventBus().consumer(&quot;runrun&quot;).handler(m -&gt; {\n                    LOGGER.info(&quot;&gt;&gt;&gt; Start Handler&quot;);\n                    getAll().subscribe()\n                            .with(fruit -&gt; LOGGER.info(&quot;&gt;&gt;&gt; fruit &quot; + fruit.getId()),\n                                    fail -&gt; fail.printStackTrace());\n                }\n        ).completionHandler();\n    }\n\n    public Multi&lt;Fruit&gt; getAll() {\n        return pgPoolFruit.query(&quot;select f.* from fruit f&quot;).execute()\n                .onItem().transformToMulti(set -&gt; Multi.createFrom().iterable(set))\n                .onItem().transform(this::mapFruit);\n    }\n// mapper\n}\n</code></pre>\n<p>delpoy verticles:</p>\n<pre><code>  public void init(@Observes StartupEvent event,\n                     Vertx vertx,\n                     DbTestVerticle dbTestVerticle,\n                     DbFruitVerticle dbFruitVerticle) {\n        vertx.deployVerticle(dbTestVerticle).await().indefinitely();\n        vertx.deployVerticle(dbFruitVerticle).await().indefinitely();\n    }\n\n</code></pre>\n<p>Invoke process:</p>\n<pre><code>eventBus.publish(&quot;runrun&quot;, &quot;run&quot;);\n</code></pre>\n<p>And see log:</p>\n<pre><code>2021-12-02 17:02:01,551 INFO  [org.byb.ver.DbFruitVerticle] (vert.x-eventloop-thread-6) &gt;&gt;&gt; fruit 1\n2021-12-02 17:02:01,551 INFO  [org.byb.ver.DbFruitVerticle] (vert.x-eventloop-thread-6) &gt;&gt;&gt; fruit 3\n2021-12-02 17:02:01,552 INFO  [org.byb.ver.DbFruitVerticle] (vert.x-eventloop-thread-6) &gt;&gt;&gt; fruit 4\n2021-12-02 17:02:01,552 INFO  [org.byb.ver.DbFruitVerticle] (vert.x-eventloop-thread-6) &gt;&gt;&gt; fruit 5\n2021-12-02 17:02:01,552 INFO  [org.byb.ver.DbFruitVerticle] (vert.x-eventloop-thread-6) &gt;&gt;&gt; fruit 6\n2021-12-02 17:02:01,752 INFO  [org.byb.ver.DbTestVerticle] (vert.x-eventloop-thread-5) &gt;&gt;&gt; bill 1\n2021-12-02 17:02:01,753 INFO  [org.byb.ver.DbTestVerticle] (vert.x-eventloop-thread-5) &gt;&gt;&gt; bill 2\n2021-12-02 17:02:01,753 INFO  [org.byb.ver.DbTestVerticle] (vert.x-eventloop-thread-5) &gt;&gt;&gt; bill 3\n</code></pre>\n<p>It seems what at first thread-6 is processed and then thread-5. Why they are not parallel? How to make them parallel? Are there best practice for similar tasks? Please, help.</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":3475140,"reputation":2491,"user_id":3019956,"accept_rate":33,"display_name":"want2learn"},"score":0,"creation_date":1541438955,"post_id":53158550,"comment_id":93209092,"body_markdown":"are you asking `Spring Boot Thymeleaf Starter` ?","body":"are you asking <code>Spring Boot Thymeleaf Starter</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":10245097,"reputation":7918,"user_id":7561129,"accept_rate":67,"display_name":"Zeusox"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541437717,"creation_date":1541436189,"answer_id":53158619,"question_id":53158550,"body_markdown":"According to Spring Docs, you can easily do this with your application properties file.\r\n\r\n&gt; You can automatically expand properties from the Maven project using\r\n&gt; resource filtering. If you use the spring-boot-starter-parent you can\r\n&gt; then refer to your Maven ‘project properties’ via @..@ placeholders\r\n\r\n**Maven pom.xml:**\r\n\r\n    &lt;groupId&gt;com.poo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gar&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    &lt;name&gt;Poo&lt;/name&gt;\r\n    &lt;description&gt;Gar&lt;/description&gt;\r\n    \r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.4.RELEASE&lt;/version&gt;\r\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n**Spring application.properties:**\r\n\r\n    poo.app.version=@project.version@\r\n\r\n2. Then a class annotated with @ControllerAdvice can be used to inject version as model attribute.\r\n\r\n         @ControllerAdvice \r\n         public class ControllerAdvice {\r\n\r\n        @Value(&quot;${poo.app.version}&quot;)\r\n        private String applicationVersion;\r\n    \r\n        @ModelAttribute(&quot;applicationVersion&quot;)\r\n        public String getApplicationVersion() {\r\n            return applicationVersion;\r\n        }}\r\n    \r\n\r\n3. Finally this model attribute can be accessed by Thymeleaf as any other. With a th:text tag, try to access the model attribute below so you can display what version of Thymeleaf your app is using:\r\n\r\n    \r\n\r\n `${applicationVersion}`\r\n\r\n\r\n\r\n","title":"How to get the current thymeleaf version from spring boot project?","body":"<p>According to Spring Docs, you can easily do this with your application properties file.</p>\n\n<blockquote>\n  <p>You can automatically expand properties from the Maven project using\n  resource filtering. If you use the spring-boot-starter-parent you can\n  then refer to your Maven ‘project properties’ via @..@ placeholders</p>\n</blockquote>\n\n<p><strong>Maven pom.xml:</strong></p>\n\n<pre><code>&lt;groupId&gt;com.poo&lt;/groupId&gt;\n    &lt;artifactId&gt;gar&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;name&gt;Poo&lt;/name&gt;\n&lt;description&gt;Gar&lt;/description&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.4.RELEASE&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n\n<p><strong>Spring application.properties:</strong></p>\n\n<pre><code>poo.app.version=@project.version@\n</code></pre>\n\n<ol start=\"2\">\n<li><p>Then a class annotated with @ControllerAdvice can be used to inject version as model attribute.</p>\n\n<pre><code> @ControllerAdvice \n public class ControllerAdvice {\n\n@Value(\"${poo.app.version}\")\nprivate String applicationVersion;\n\n@ModelAttribute(\"applicationVersion\")\npublic String getApplicationVersion() {\n    return applicationVersion;\n}}\n</code></pre></li>\n<li><p>Finally this model attribute can be accessed by Thymeleaf as any other. With a th:text tag, try to access the model attribute below so you can display what version of Thymeleaf your app is using:</p>\n\n<p><code>${applicationVersion}</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14357523,"reputation":2069,"user_id":10370932,"display_name":"Adina Rolea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1541529368,"creation_date":1541529368,"answer_id":53177969,"question_id":53158550,"body_markdown":"If you are using IntelIJ, a nice and simple solution is to click on Maven Projects (on the right) and expand the dependencies.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5NxpD.png","title":"How to get the current thymeleaf version from spring boot project?","body":"<p>If you are using IntelIJ, a nice and simple solution is to click on Maven Projects (on the right) and expand the dependencies.\n<a href=\"https://i.stack.imgur.com/5NxpD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5NxpD.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":8666186,"reputation":7757,"user_id":6486622,"display_name":"Denis Zavedeev"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1638455269,"creation_date":1541535600,"answer_id":53179409,"question_id":53158550,"body_markdown":"If you&#39;re using Maven, you can use [`list`](https://maven.apache.org/plugins/maven-dependency-plugin/list-mojo.html) goal of [maven dependency plugin](https://maven.apache.org/plugins/maven-dependency-plugin/):\r\n\r\n    $ mvn dependency:list -DincludeArtifactIds=thymeleaf\r\n\r\nOr with Maven Wrapper:\r\n\r\n    $ ./mvnw dependency:list -DincludeArtifactIds=thymeleaf\r\n\r\nExample output for maven:\r\n\r\n    [INFO] --- maven-dependency-plugin:2.8:list (default-cli) @ site ---\r\n    [INFO] \r\n    [INFO] The following files have been resolved:\r\n    [INFO]    org.thymeleaf:thymeleaf:jar:3.0.9.RELEASE:compile\r\n\r\n\r\n For **Gradle**:\r\n\r\n    $ gradle dependencyInsight --dependency org.thymeleaf:thymeleaf\r\n\r\nWith Wrapper:\r\n\r\n    $ ./gradlew dependencyInsight --dependency org.thymeleaf:thymeleaf\r\n\r\nExample output for Gradle:\r\n\r\n    org.thymeleaf:thymeleaf:2.1.6.RELEASE (selected by rule)\r\n    \\--- org.thymeleaf:thymeleaf-spring4:2.1.6.RELEASE\r\n         \\--- org.springframework.boot:spring-boot-starter-thymeleaf:1.5.9.RELEASE\r\n              \\--- compile\r\n    \r\n    org.thymeleaf:thymeleaf:2.1.4.RELEASE -&gt; 2.1.6.RELEASE\r\n    \\--- nz.net.ultraq.thymeleaf:thymeleaf-layout-dialect:1.4.0\r\n         \\--- org.springframework.boot:spring-boot-starter-thymeleaf:1.5.9.RELEASE\r\n              \\--- compile\r\n    \r\n    org.thymeleaf:thymeleaf-spring4:2.1.6.RELEASE (selected by rule)\r\n    \\--- org.springframework.boot:spring-boot-starter-thymeleaf:1.5.9.RELEASE\r\n         \\--- compile\r\n\r\nSee also [Inspecting dependencies][1]\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/inspecting_dependencies.html\r\n","title":"How to get the current thymeleaf version from spring boot project?","body":"<p>If you're using Maven, you can use <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/list-mojo.html\" rel=\"nofollow noreferrer\"><code>list</code></a> goal of <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/\" rel=\"nofollow noreferrer\">maven dependency plugin</a>:</p>\n<pre><code>$ mvn dependency:list -DincludeArtifactIds=thymeleaf\n</code></pre>\n<p>Or with Maven Wrapper:</p>\n<pre><code>$ ./mvnw dependency:list -DincludeArtifactIds=thymeleaf\n</code></pre>\n<p>Example output for maven:</p>\n<pre><code>[INFO] --- maven-dependency-plugin:2.8:list (default-cli) @ site ---\n[INFO] \n[INFO] The following files have been resolved:\n[INFO]    org.thymeleaf:thymeleaf:jar:3.0.9.RELEASE:compile\n</code></pre>\n<p>For <strong>Gradle</strong>:</p>\n<pre><code>$ gradle dependencyInsight --dependency org.thymeleaf:thymeleaf\n</code></pre>\n<p>With Wrapper:</p>\n<pre><code>$ ./gradlew dependencyInsight --dependency org.thymeleaf:thymeleaf\n</code></pre>\n<p>Example output for Gradle:</p>\n<pre><code>org.thymeleaf:thymeleaf:2.1.6.RELEASE (selected by rule)\n\\--- org.thymeleaf:thymeleaf-spring4:2.1.6.RELEASE\n     \\--- org.springframework.boot:spring-boot-starter-thymeleaf:1.5.9.RELEASE\n          \\--- compile\n\norg.thymeleaf:thymeleaf:2.1.4.RELEASE -&gt; 2.1.6.RELEASE\n\\--- nz.net.ultraq.thymeleaf:thymeleaf-layout-dialect:1.4.0\n     \\--- org.springframework.boot:spring-boot-starter-thymeleaf:1.5.9.RELEASE\n          \\--- compile\n\norg.thymeleaf:thymeleaf-spring4:2.1.6.RELEASE (selected by rule)\n\\--- org.springframework.boot:spring-boot-starter-thymeleaf:1.5.9.RELEASE\n     \\--- compile\n</code></pre>\n<p>See also <a href=\"https://docs.gradle.org/current/userguide/inspecting_dependencies.html\" rel=\"nofollow noreferrer\">Inspecting dependencies</a></p>\n"}],"owner":{"account_id":1290949,"reputation":3762,"user_id":1243068,"accept_rate":64,"display_name":"e-info128"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5627,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":53179409,"answer_count":3,"score":7,"last_activity_date":1638455269,"creation_date":1541435917,"question_id":53158550,"body_markdown":"I have a Spring Boot 2.1.0.RELEASE project. How can I see the thymeleaf version it uses?","title":"How to get the current thymeleaf version from spring boot project?","body":"<p>I have a Spring Boot 2.1.0.RELEASE project. How can I see the thymeleaf version it uses?</p>\n"},{"tags":["java","spring","unit-testing","jms"],"comments":[{"owner":{"account_id":2974557,"reputation":311,"user_id":2525895,"display_name":"Ueslei Lima"},"score":0,"creation_date":1629288856,"post_id":68080623,"comment_id":121646252,"body_markdown":"I&#39;m struggling with the very same issue here. By any chance do you have an update on this topic?","body":"I&#39;m struggling with the very same issue here. By any chance do you have an update on this topic?"}],"answers":[{"tags":[],"owner":{"account_id":2974557,"reputation":311,"user_id":2525895,"display_name":"Ueslei Lima"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629367748,"creation_date":1629367748,"answer_id":68845902,"question_id":68080623,"body_markdown":"Spring Beans with methods annotated with `@JmsListener` are injecting beans leaked from previous test executions when activated by a secondary thread. A practical workaround is to configure the test executor to use an isolated VM for each class to avoid this issue.\r\n\r\nFor Maven executions you can configure the `maven-failsafe-plugin` or `maven-surefire-plugin` by setting the `reuseForks` option. e.g:\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n    &lt;configuration&gt;\r\n        &lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nYou can also easily change the `Fork mode` to `Class` in JUnit IDE tools for multiple tests execution. Example for IntelliJ:\r\n\r\n[![IntelliJ JUnit Fork mode][1]][1]\r\n\r\nUsing `@DirtiesContext` does not work, and unfortunately, I still couldn&#39;t find the root cause for this - My hunch is that it could be something related to using an in-memory instance of the ActiveMQ broker, which lives in the VM instance shared by the executions.\r\n\r\n\r\n[1]: https://i.stack.imgur.com/ag1o2.png","title":"@MockBean uses different instance in JMS listener when running multiple Spring Boot tests","body":"<p>Spring Beans with methods annotated with <code>@JmsListener</code> are injecting beans leaked from previous test executions when activated by a secondary thread. A practical workaround is to configure the test executor to use an isolated VM for each class to avoid this issue.</p>\n<p>For Maven executions you can configure the <code>maven-failsafe-plugin</code> or <code>maven-surefire-plugin</code> by setting the <code>reuseForks</code> option. e.g:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>You can also easily change the <code>Fork mode</code> to <code>Class</code> in JUnit IDE tools for multiple tests execution. Example for IntelliJ:</p>\n<p><a href=\"https://i.stack.imgur.com/ag1o2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ag1o2.png\" alt=\"IntelliJ JUnit Fork mode\" /></a></p>\n<p>Using <code>@DirtiesContext</code> does not work, and unfortunately, I still couldn't find the root cause for this - My hunch is that it could be something related to using an in-memory instance of the ActiveMQ broker, which lives in the VM instance shared by the executions.</p>\n"},{"tags":[],"owner":{"account_id":12264055,"reputation":56,"user_id":8951043,"display_name":"Piotr Papierski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638454465,"creation_date":1638454155,"answer_id":70200977,"question_id":68080623,"body_markdown":"We had a similar issue when using the `@JmsListener` annotation in combination with `@MockBean`/`@SpyBean`. In our case using a separate destination for each test class solved this problem:\r\n\r\n    @JmsListener(destination = &quot;${my.mq.topic.name}&quot;)\r\n    void consume(TextMessage message){\r\n    ...\r\n    }\r\n    \r\n    @SpringBootTest\r\n    @TestPropertySource(properties = &quot;my.mq.topic.name=UniqueTopicName&quot;})\r\n    class MyConsumerIT{\r\n    ...\r\n    }\r\n\r\n   \r\n\r\nAs far as I understand Spring has to create a separate JMS Consumer for each topic/queue. This configuration forces Spring to create a separate JMS Consumer for this class and Inject it correctly into the TestContext. \r\nIn comparison without this configuration, Spring reuses the once created Consumer for all test classes.","title":"@MockBean uses different instance in JMS listener when running multiple Spring Boot tests","body":"<p>We had a similar issue when using the <code>@JmsListener</code> annotation in combination with <code>@MockBean</code>/<code>@SpyBean</code>. In our case using a separate destination for each test class solved this problem:</p>\n<pre><code>@JmsListener(destination = &quot;${my.mq.topic.name}&quot;)\nvoid consume(TextMessage message){\n...\n}\n\n@SpringBootTest\n@TestPropertySource(properties = &quot;my.mq.topic.name=UniqueTopicName&quot;})\nclass MyConsumerIT{\n...\n}\n</code></pre>\n<p>As far as I understand Spring has to create a separate JMS Consumer for each topic/queue. This configuration forces Spring to create a separate JMS Consumer for this class and Inject it correctly into the TestContext.\nIn comparison without this configuration, Spring reuses the once created Consumer for all test classes.</p>\n"}],"owner":{"account_id":465196,"reputation":366,"user_id":1945334,"accept_rate":69,"display_name":"Patrick Zinner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":960,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1638454465,"creation_date":1624352622,"question_id":68080623,"body_markdown":"I&#39;ve written a Spring Boot Test, that writes into a JMS queue and is expecting some processing via an JMS listener. In the listener, I&#39;m trying to read an object from S3. The `AmazonS3` class should be replaced by a MockBean. In my test I set up the mock like this:\r\n\r\n```java\r\n@SpringBootTest\r\npublic class MyTest {\r\n\r\n    @Autowired\r\n    MyJmsPublisher jmsPlublisher;\r\n    @MockBean\r\n    AmazonS3 amazonS3;\r\n\r\n    @Test\r\n    public void test() {\r\n        final S3Object s3Object = mock(S3Object.class);\r\n        when(s3Object.getObjectContent()).thenReturn(mock(S3ObjectInputStream.class));\r\n        when(amazonS3.getObject(anyString(), anyString())).thenReturn(s3Object);\r\n        \r\n        jmsPlublisher.publishMessage(&quot;mymessage&quot;);\r\n        Awaitility.await().untilAsserted(() -&gt; {\r\n            //wait for something here\r\n        });\r\n    }\r\n}\r\n\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class MyJmsPublisher {\r\n\r\n    private final JmsTemplate jmsTemplate;\r\n\r\n    public void publishMessage(String message) {\r\n        jmsTemplate.convertAndSend(&quot;destination&quot;, message);\r\n    }\r\n}\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class MyJmsListener {\r\n\r\n    private final AmazonS3 amazonS3;\r\n\r\n    @JmsListener(destination = &quot;destination&quot;)\r\n    public void onMessageReceived(String message) {\r\n        final S3ObjectInputStream objectContent = amazonS3.getObject(&quot;a&quot;, &quot;b&quot;).getObjectContent();\r\n        // some logic here\r\n    }\r\n}\r\n\r\n```\r\n\r\nBut the issue is that when running **multiple Spring Boot tests** , the `MyJmsListener` class contains a mock that is different from the one created in the Test. It&#39;s a mock, but for example the `getObjectContent()` returns null. **But** when I run the test alone, everything works fine. \r\n\r\nI&#39;ve tried to inject the `AmazonS3` bean into the `MyJmsPublisher` and call the mocked method there and it worked. So I suspect, that it&#39;s because the JMS listener operates in a different thread.\r\n\r\nI&#39;ve found [this thread][1] and also set the `reset` to all available options, but does not make any difference. I also tried this OP&#39;s approach that worked for them, where I create a mock via the `@Bean` annotation like this:\r\n\r\n```java\r\n@Configuration\r\npublic class MyConfig {\r\n   @Bean\r\n   @Primary\r\n   public AmazonS3 amazonS3() {\r\n      return Mockito.mock(AmazonS3.class);\r\n   }\r\n}\r\n```\r\n\r\nBut this just has the same behavior as mentioned above.\r\n\r\nSo can you actually use the `@MockBean` annotation when using different Threads like using a `@JMSListener`? Or am I missing something?\r\n\r\n  [1]: https://stackoverflow.com/questions/66712011/why-does-bean-returning-a-mock-work-but-mockbean-doesnt-work-when-it-comes-to","title":"@MockBean uses different instance in JMS listener when running multiple Spring Boot tests","body":"<p>I've written a Spring Boot Test, that writes into a JMS queue and is expecting some processing via an JMS listener. In the listener, I'm trying to read an object from S3. The <code>AmazonS3</code> class should be replaced by a MockBean. In my test I set up the mock like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\npublic class MyTest {\n\n    @Autowired\n    MyJmsPublisher jmsPlublisher;\n    @MockBean\n    AmazonS3 amazonS3;\n\n    @Test\n    public void test() {\n        final S3Object s3Object = mock(S3Object.class);\n        when(s3Object.getObjectContent()).thenReturn(mock(S3ObjectInputStream.class));\n        when(amazonS3.getObject(anyString(), anyString())).thenReturn(s3Object);\n        \n        jmsPlublisher.publishMessage(&quot;mymessage&quot;);\n        Awaitility.await().untilAsserted(() -&gt; {\n            //wait for something here\n        });\n    }\n}\n\n\n@Component\n@RequiredArgsConstructor\npublic class MyJmsPublisher {\n\n    private final JmsTemplate jmsTemplate;\n\n    public void publishMessage(String message) {\n        jmsTemplate.convertAndSend(&quot;destination&quot;, message);\n    }\n}\n\n@Component\n@RequiredArgsConstructor\npublic class MyJmsListener {\n\n    private final AmazonS3 amazonS3;\n\n    @JmsListener(destination = &quot;destination&quot;)\n    public void onMessageReceived(String message) {\n        final S3ObjectInputStream objectContent = amazonS3.getObject(&quot;a&quot;, &quot;b&quot;).getObjectContent();\n        // some logic here\n    }\n}\n\n</code></pre>\n<p>But the issue is that when running <strong>multiple Spring Boot tests</strong> , the <code>MyJmsListener</code> class contains a mock that is different from the one created in the Test. It's a mock, but for example the <code>getObjectContent()</code> returns null. <strong>But</strong> when I run the test alone, everything works fine.</p>\n<p>I've tried to inject the <code>AmazonS3</code> bean into the <code>MyJmsPublisher</code> and call the mocked method there and it worked. So I suspect, that it's because the JMS listener operates in a different thread.</p>\n<p>I've found <a href=\"https://stackoverflow.com/questions/66712011/why-does-bean-returning-a-mock-work-but-mockbean-doesnt-work-when-it-comes-to\">this thread</a> and also set the <code>reset</code> to all available options, but does not make any difference. I also tried this OP's approach that worked for them, where I create a mock via the <code>@Bean</code> annotation like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MyConfig {\n   @Bean\n   @Primary\n   public AmazonS3 amazonS3() {\n      return Mockito.mock(AmazonS3.class);\n   }\n}\n</code></pre>\n<p>But this just has the same behavior as mentioned above.</p>\n<p>So can you actually use the <code>@MockBean</code> annotation when using different Threads like using a <code>@JMSListener</code>? Or am I missing something?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":12822707,"reputation":677,"user_id":9276996,"display_name":"Turtle"},"score":0,"creation_date":1638452629,"post_id":70200122,"comment_id":124095550,"body_markdown":"You might want to use [CompletableFuture](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html)","body":"You might want to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">CompletableFuture</a>"}],"answers":[{"tags":[],"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1638451019,"creation_date":1638451019,"answer_id":70200198,"question_id":70200122,"body_markdown":"`ExecutorService.submit` returns a `Future` that can be used to wait for completion and `get` the result.\r\n\r\nThere is a version of `get` that has a timeout, this is useful for polling for completion.\r\n\r\nYou should collect the Futures and use them. Keep an array of 100 Futures, then when required, loop over them collecting results until you have enough results for your needs.\r\n","title":"How to get the completed task on Executor Service till some time?","body":"<p><code>ExecutorService.submit</code> returns a <code>Future</code> that can be used to wait for completion and <code>get</code> the result.</p>\n<p>There is a version of <code>get</code> that has a timeout, this is useful for polling for completion.</p>\n<p>You should collect the Futures and use them. Keep an array of 100 Futures, then when required, loop over them collecting results until you have enough results for your needs.</p>\n"},{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638454353,"creation_date":1638454353,"answer_id":70201028,"question_id":70200122,"body_markdown":"You can use a [CompletionService][1], a blocking queue is used internally, and the &quot;completed&quot; ```Future``` will be put into this queue, so you can call ```queue#poll``` to get all finish ```Future```.\r\n:\r\n\r\n```\r\n        ExecutorService service = Executors.newFixedThreadPool(16);\r\n        CompletionService&lt;Integer&gt; completionService = new ExecutorCompletionService&lt;&gt;(service);\r\n        for(int i = 0 ; i &lt; 100 ; i++) {\r\n            completionService.submit(new Callable&lt;Integer&gt;() {\r\n                @Override\r\n                public Integer call() throws Exception {\r\n                    Random random = new Random();\r\n                    int nextInt = random.nextInt(10000);\r\n                    System.out.println(&quot;I will take &quot; + nextInt + &quot; ms to finish&quot;);\r\n                    try {\r\n                        Thread.sleep(nextInt);\r\n                    } catch (InterruptedException e) {\r\n                        System.out.println(&quot;I am interrupt&quot;);\r\n                        return -1;\r\n                    }\r\n                    System.out.println(&quot;I am finish&quot;);\r\n                    return nextInt;\r\n                }\r\n            });\r\n        }\r\n        // do other work\r\n        Thread.sleep(5000);\r\n        List&lt;Integer&gt; completeResult = new ArrayList&lt;&gt;();\r\n        Future&lt;Integer&gt; future;\r\n        while ((future = completionService.poll()) != null) {\r\n            try {\r\n                completeResult.add(future.get());\r\n            } catch (Exception exception) {\r\n                // exception\r\n            }\r\n        }\r\n        service.shutdownNow();\r\n        System.out.println(completeResult);\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionService.html","title":"How to get the completed task on Executor Service till some time?","body":"<p>You can use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionService.html\" rel=\"nofollow noreferrer\">CompletionService</a>, a blocking queue is used internally, and the &quot;completed&quot; <code>Future</code> will be put into this queue, so you can call <code>queue#poll</code> to get all finish <code>Future</code>.\n:</p>\n<pre><code>        ExecutorService service = Executors.newFixedThreadPool(16);\n        CompletionService&lt;Integer&gt; completionService = new ExecutorCompletionService&lt;&gt;(service);\n        for(int i = 0 ; i &lt; 100 ; i++) {\n            completionService.submit(new Callable&lt;Integer&gt;() {\n                @Override\n                public Integer call() throws Exception {\n                    Random random = new Random();\n                    int nextInt = random.nextInt(10000);\n                    System.out.println(&quot;I will take &quot; + nextInt + &quot; ms to finish&quot;);\n                    try {\n                        Thread.sleep(nextInt);\n                    } catch (InterruptedException e) {\n                        System.out.println(&quot;I am interrupt&quot;);\n                        return -1;\n                    }\n                    System.out.println(&quot;I am finish&quot;);\n                    return nextInt;\n                }\n            });\n        }\n        // do other work\n        Thread.sleep(5000);\n        List&lt;Integer&gt; completeResult = new ArrayList&lt;&gt;();\n        Future&lt;Integer&gt; future;\n        while ((future = completionService.poll()) != null) {\n            try {\n                completeResult.add(future.get());\n            } catch (Exception exception) {\n                // exception\n            }\n        }\n        service.shutdownNow();\n        System.out.println(completeResult);\n</code></pre>\n"}],"owner":{"account_id":16655429,"reputation":43,"user_id":13161450,"display_name":"Vedant Mehra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638454353,"creation_date":1638450692,"question_id":70200122,"body_markdown":"I want to retrieve the results for the threads that have completed their task and retrieve the result and ignore other threads. My aim is to do something like this.\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        ExecutorService service = Executors.newFixedThreadPool(16);\r\n\r\n        for(int i = 0 ; i &lt; 100 ; i++) {\r\n            service.submit(threadClass);\r\n            // some thread that generates result in 5 seconds say\r\n        }\r\n        \r\n        // Main thread does some work here that takes time\r\n\r\n\r\n        /*\r\n        The task that has finished till this point should be taken\r\n        Let&#39;s say 7 results are generated till this point,\r\n        So get the 7 results and stop other threads\r\n        Want result like a List&lt;Integer&gt;\r\n        */\r\n\r\n        \r\n\r\n        service.shutdownNow(); // stop all other threads\r\n          \r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n```","title":"How to get the completed task on Executor Service till some time?","body":"<p>I want to retrieve the results for the threads that have completed their task and retrieve the result and ignore other threads. My aim is to do something like this.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        ExecutorService service = Executors.newFixedThreadPool(16);\n\n        for(int i = 0 ; i &lt; 100 ; i++) {\n            service.submit(threadClass);\n            // some thread that generates result in 5 seconds say\n        }\n        \n        // Main thread does some work here that takes time\n\n\n        /*\n        The task that has finished till this point should be taken\n        Let's say 7 results are generated till this point,\n        So get the 7 results and stop other threads\n        Want result like a List&lt;Integer&gt;\n        */\n\n        \n\n        service.shutdownNow(); // stop all other threads\n          \n\n    }\n\n}\n\n\n</code></pre>\n"},{"tags":["java","arrays","algorithm","colors","cielab"],"comments":[{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1638455632,"post_id":70200998,"comment_id":124097140,"body_markdown":"Why is your distance function so complicated?  CIELAB was intended to make perceptual difference = Euclidean distance.","body":"Why is your distance function so complicated?  CIELAB was intended to make perceptual difference = Euclidean distance."},{"owner":{"account_id":16409337,"reputation":355,"user_id":11853066,"display_name":"Ben123"},"score":0,"creation_date":1638456277,"post_id":70200998,"comment_id":124097483,"body_markdown":"https://en.wikipedia.org/wiki/Color_difference#CIE94 That was the intention but not the outcome. The distance function has been adjusted various times to address perceptual non-uniformities.","body":"<a href=\"https://en.wikipedia.org/wiki/Color_difference#CIE94\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Color_difference#CIE94</a> That was the intention but not the outcome. The distance function has been adjusted various times to address perceptual non-uniformities."},{"owner":{"account_id":13653871,"reputation":4274,"user_id":9850970,"display_name":"Aldert"},"score":0,"creation_date":1638466843,"post_id":70200998,"comment_id":124102254,"body_markdown":"If the colourDistance positions the colors in order, I would go with a sortedlist (sortedSet in Java I believe) where the elements are sorted by the algorithm. This allows for binary searches.","body":"If the colourDistance positions the colors in order, I would go with a sortedlist (sortedSet in Java I believe) where the elements are sorted by the algorithm. This allows for binary searches."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1638470603,"post_id":70200998,"comment_id":124103527,"body_markdown":"OIC.  Well, it&#39;s a shame that it doesn&#39;t seem possible to map that into a space where Euclidean distance works.  If you put points into a K-D tree using their LAB coordinates, though, then you can use this procedure to do a closest-point search using your expensive metric: https://stackoverflow.com/questions/50699240/query-points-in-circle-areas/50705109#50705109","body":"OIC.  Well, it&#39;s a shame that it doesn&#39;t seem possible to map that into a space where Euclidean distance works.  If you put points into a K-D tree using their LAB coordinates, though, then you can use this procedure to do a closest-point search using your expensive metric: <a href=\"https://stackoverflow.com/questions/50699240/query-points-in-circle-areas/50705109#50705109\" title=\"query points in circle areas\">stackoverflow.com/questions/50699240/&hellip;</a>"},{"owner":{"account_id":16409337,"reputation":355,"user_id":11853066,"display_name":"Ben123"},"score":0,"creation_date":1638524159,"post_id":70200998,"comment_id":124116585,"body_markdown":"@Aldert it&#39;s three dimensional space so there is no linear &#39;order&#39;/sequence of colours unfortunately.","body":"@Aldert it&#39;s three dimensional space so there is no linear &#39;order&#39;/sequence of colours unfortunately."},{"owner":{"account_id":16409337,"reputation":355,"user_id":11853066,"display_name":"Ben123"},"score":0,"creation_date":1638524205,"post_id":70200998,"comment_id":124116601,"body_markdown":"@MattTimmermans Thanks very much for this. Will look at implementing it. The other option is just to use Euclidean I guess (and sacrifice some accuracy). Do you know if doing this would open up any other possible algorithms?","body":"@MattTimmermans Thanks very much for this. Will look at implementing it. The other option is just to use Euclidean I guess (and sacrifice some accuracy). Do you know if doing this would open up any other possible algorithms?"},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1638536843,"post_id":70200998,"comment_id":124121270,"body_markdown":"Not sure.  I would probably do it the same way, but the part where you have to find a lower bound on the distance between the search point and a box is going to be simpler and more accurate, leading to a faster search.","body":"Not sure.  I would probably do it the same way, but the part where you have to find a lower bound on the distance between the search point and a box is going to be simpler and more accurate, leading to a faster search."}],"owner":{"account_id":16409337,"reputation":355,"user_id":11853066,"display_name":"Ben123"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638454220,"creation_date":1638454220,"question_id":70200998,"body_markdown":"I&#39;m trying to write an efficient pair matching algorithm for a color matching context\r\n\r\nLet&#39;s say we have an object (representing a CIE-LAB colour):\r\n\r\n    public class labColour {\r\n    \r\n          double l;\r\n          double a;\r\n          double b;\r\n    \r\n    }\r\n\r\nNow let&#39;s say we have two lists of LabColour:\r\n\r\n    List&lt;LabColour&gt; list1;\r\n    List&lt;LabColour&gt; list2;\r\n\r\nEach list is of size n. Finally let&#39;s say we have a complex function which can calculate the similarity/distance between two colours:\r\n\r\n        public double cie94ColourDistance(LabColour labColour1, LabColour labColour2) {\r\n\r\n             final double L1 = labColour1.getL();\r\n             final double a1 = labColour1.getA();\r\n             final double b1 = labColour1.getB();\r\n             final double L2 = labColour2.getL();\r\n             final double a2 = labColour2.getL();\r\n             final double b2 = labColour2.getL();\r\n\r\n             double c1 = Math.sqrt(a1 * a1 + b1 * b1);\r\n             double deltaC = c1 - Math.sqrt(a2 * a2 + b2 * b2);\r\n             double deltaA = a1 - a2;\r\n             double deltaB = b1 - b2;\r\n             double deltaH = Math.sqrt(Math.max(0.0, deltaA * deltaA + deltaB * deltaB - deltaC * deltaC));\r\n    \r\n             return Math.sqrt(Math.max(0.0, Math.pow((L1 - L2) / (kL * sl), 2) + Math.pow(deltaC / (kc * (1 + K1 * c1)), 2) + Math.pow(deltaH / (kh * (1 + K2 * c1)), 2.0))); \r\n          }\r\n\r\nI want to find the best match between each of the `n` elements in the two lists. The naive approach would be to use a nested for loop to iterate through `list1` and `list2`, and use `cie94ColourDistance` to calculate the best match for each. This is computationally expensive at O(n^2) complexity.\r\n\r\nCan I do this faster O(n^2)? If so, how?\r\n\r\nAlso, is there a way (e.g. multithreading, a certain library, caching etc.) to speed the whole thing up in Java?\r\n\r\nThanks in advance!\r\n","title":"Implementing an efficient pair/colour matching algorithm in Java","body":"<p>I'm trying to write an efficient pair matching algorithm for a color matching context</p>\n<p>Let's say we have an object (representing a CIE-LAB colour):</p>\n<pre><code>public class labColour {\n\n      double l;\n      double a;\n      double b;\n\n}\n</code></pre>\n<p>Now let's say we have two lists of LabColour:</p>\n<pre><code>List&lt;LabColour&gt; list1;\nList&lt;LabColour&gt; list2;\n</code></pre>\n<p>Each list is of size n. Finally let's say we have a complex function which can calculate the similarity/distance between two colours:</p>\n<pre><code>    public double cie94ColourDistance(LabColour labColour1, LabColour labColour2) {\n\n         final double L1 = labColour1.getL();\n         final double a1 = labColour1.getA();\n         final double b1 = labColour1.getB();\n         final double L2 = labColour2.getL();\n         final double a2 = labColour2.getL();\n         final double b2 = labColour2.getL();\n\n         double c1 = Math.sqrt(a1 * a1 + b1 * b1);\n         double deltaC = c1 - Math.sqrt(a2 * a2 + b2 * b2);\n         double deltaA = a1 - a2;\n         double deltaB = b1 - b2;\n         double deltaH = Math.sqrt(Math.max(0.0, deltaA * deltaA + deltaB * deltaB - deltaC * deltaC));\n\n         return Math.sqrt(Math.max(0.0, Math.pow((L1 - L2) / (kL * sl), 2) + Math.pow(deltaC / (kc * (1 + K1 * c1)), 2) + Math.pow(deltaH / (kh * (1 + K2 * c1)), 2.0))); \n      }\n</code></pre>\n<p>I want to find the best match between each of the <code>n</code> elements in the two lists. The naive approach would be to use a nested for loop to iterate through <code>list1</code> and <code>list2</code>, and use <code>cie94ColourDistance</code> to calculate the best match for each. This is computationally expensive at O(n^2) complexity.</p>\n<p>Can I do this faster O(n^2)? If so, how?</p>\n<p>Also, is there a way (e.g. multithreading, a certain library, caching etc.) to speed the whole thing up in Java?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","dump","jrockit"],"answers":[{"tags":[],"owner":{"account_id":19114,"reputation":26335,"user_id":44522,"accept_rate":93,"display_name":"MicSim"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1553535476,"creation_date":1281378623,"answer_id":3442996,"question_id":3243386,"body_markdown":"The `.mdmp` file is a Windows MiniDump file that you can only read with a debugger (like WinDbg). Typically you need the sources of the crashed application to really get some information out of the dump. So in your case you can&#39;t do much but contacting JRockit support.\r\n\r\nHere a link to the [Orace JRockit information about JVM crahes][1].\r\n\r\n\r\n  [1]: https://web.archive.org/web/20111102150258/http://download.oracle.com/docs/cd/E15289_01/doc.40/e15059/crash.htm","title":"How do I analyze a .mdmp file?","body":"<p>The <code>.mdmp</code> file is a Windows MiniDump file that you can only read with a debugger (like WinDbg). Typically you need the sources of the crashed application to really get some information out of the dump. So in your case you can't do much but contacting JRockit support.</p>\n\n<p>Here a link to the <a href=\"https://web.archive.org/web/20111102150258/http://download.oracle.com/docs/cd/E15289_01/doc.40/e15059/crash.htm\" rel=\"noreferrer\">Orace JRockit information about JVM crahes</a>.</p>\n"},{"tags":[],"owner":{"account_id":22812,"reputation":25088,"user_id":56679,"accept_rate":70,"display_name":"chillitom"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1638453481,"creation_date":1536915089,"answer_id":52328301,"question_id":3243386,"body_markdown":"`.mdmp` files are the Windows equivalent of unix/linux core dumps.  You can analyse them with WinDBG but if it&#39;s a Java process that has crashed most likely you&#39;ll want to use Java&#39;s own tools to analyse the crashed process.\r\n\r\nIf you want to look at the heap of the crashed Java process you can use a tool that ships with the JDK called `jmap` to extract a HPROF file from a .core or .mdmp and then load this into a memory analyser.  Note also that some memory analyzers can load core dumps and Windows minidumps directly.\r\n\r\n[Related issue][1] and the [jmap docs][2]\r\n\r\nIf you want to see the state of the threads then you can use a tool called `jstack` to print stack traces for every thread at the point the dump was created. [jstack docs][3].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/951095/how-to-analyze-information-from-a-java-core-dump/1192720#1192720\r\n  [2]: https://docs.oracle.com/javase/7/docs/technotes/tools/share/jmap.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr016.html","title":"How do I analyze a .mdmp file?","body":"<p><code>.mdmp</code> files are the Windows equivalent of unix/linux core dumps.  You can analyse them with WinDBG but if it's a Java process that has crashed most likely you'll want to use Java's own tools to analyse the crashed process.</p>\n<p>If you want to look at the heap of the crashed Java process you can use a tool that ships with the JDK called <code>jmap</code> to extract a HPROF file from a .core or .mdmp and then load this into a memory analyser.  Note also that some memory analyzers can load core dumps and Windows minidumps directly.</p>\n<p><a href=\"https://stackoverflow.com/questions/951095/how-to-analyze-information-from-a-java-core-dump/1192720#1192720\">Related issue</a> and the <a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/share/jmap.html\" rel=\"nofollow noreferrer\">jmap docs</a></p>\n<p>If you want to see the state of the threads then you can use a tool called <code>jstack</code> to print stack traces for every thread at the point the dump was created. <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr016.html\" rel=\"nofollow noreferrer\">jstack docs</a>.</p>\n"}],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57580,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":3442996,"answer_count":2,"score":14,"last_activity_date":1638453481,"creation_date":1279081781,"question_id":3243386,"body_markdown":"I have java application that is crashing while in production. It doesn&#39;t do so in dev/QA. The jvm is creating a .mdmp file and a text file. How do I analyze the binary dump file? I googled but had no luck. We are using bea jrockit jvm 1.5 R27.","title":"How do I analyze a .mdmp file?","body":"<p>I have java application that is crashing while in production. It doesn't do so in dev/QA. The jvm is creating a .mdmp file and a text file. How do I analyze the binary dump file? I googled but had no luck. We are using bea jrockit jvm 1.5 R27.</p>\n"},{"tags":["java","android","image","file","structure"],"answers":[{"tags":[],"owner":{"account_id":5288818,"reputation":329,"user_id":4221943,"display_name":"MG1616"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638452833,"creation_date":1638452833,"answer_id":70200630,"question_id":70200097,"body_markdown":"No, you can&#39;t create your own file hierarchy in drawable directory :(\r\n\r\nIf you really need a hierarchy, you can use the ```assets``` folder. Note that files in src/assets/.. are not given by a resource ID, so you can read them only using [AssetManager][1], but you can create your hierarchy as it&#39;s shown in your image.\r\n\r\n&gt; Get the file like by the path : &quot;file://android_asset/FOLDER/SUB_FOLDER/FILENAME&quot;\r\n\r\n\r\n\r\nHowever, you could also use the drawable, you create the &quot;hierachy&quot; by the file name, then you can get the drawable by his name using the [Resources][2]\r\n\r\nDo something like :\r\n\r\n\r\n```kotlin\r\nval drawable name = &quot;SEX_MALE_AGE&quot; // construct the name depending on your hierachy \r\n\r\n// The get the ressource ID\r\nint resourceID = getResources().getIdentifier(\r\n    &quot;sex_male_age&quot;,\r\n    &quot;drawable&quot;,\r\n    getPackageName()\r\n);\r\n```\r\n\r\nNote that getIdentifier() Returns 0 if no such resource was found. **(0 is not a valid resource ID.)**\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/content/res/AssetManager\r\n  [2]: https://developer.android.com/reference/android/content/res/Resources","title":"How should i structure images in Android Studio project","body":"<p>No, you can't create your own file hierarchy in drawable directory :(</p>\n<p>If you really need a hierarchy, you can use the <code>assets</code> folder. Note that files in src/assets/.. are not given by a resource ID, so you can read them only using <a href=\"https://developer.android.com/reference/android/content/res/AssetManager\" rel=\"nofollow noreferrer\">AssetManager</a>, but you can create your hierarchy as it's shown in your image.</p>\n<blockquote>\n<p>Get the file like by the path : &quot;file://android_asset/FOLDER/SUB_FOLDER/FILENAME&quot;</p>\n</blockquote>\n<p>However, you could also use the drawable, you create the &quot;hierachy&quot; by the file name, then you can get the drawable by his name using the <a href=\"https://developer.android.com/reference/android/content/res/Resources\" rel=\"nofollow noreferrer\">Resources</a></p>\n<p>Do something like :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val drawable name = &quot;SEX_MALE_AGE&quot; // construct the name depending on your hierachy \n\n// The get the ressource ID\nint resourceID = getResources().getIdentifier(\n    &quot;sex_male_age&quot;,\n    &quot;drawable&quot;,\n    getPackageName()\n);\n</code></pre>\n<p>Note that getIdentifier() Returns 0 if no such resource was found. <strong>(0 is not a valid resource ID.)</strong></p>\n"}],"owner":{"account_id":23524881,"reputation":1,"user_id":17571569,"display_name":"Александр Лукашевич"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638452833,"creation_date":1638450599,"question_id":70200097,"body_markdown":"Have difficulties with structuring images by category.\r\nAs i thought I could create directories and sub-directories in @draweble direcory, but i can not.\r\nSo i need structure like this.\r\n[example][1]\r\n\r\n  [1]: https://i.stack.imgur.com/TkaE5.png\r\n\r\nThe idea is to get random picture by category or sub-category.\r\nMaybe you know solution of my problem.","title":"How should i structure images in Android Studio project","body":"<p>Have difficulties with structuring images by category.\nAs i thought I could create directories and sub-directories in @draweble direcory, but i can not.\nSo i need structure like this.\n<a href=\"https://i.stack.imgur.com/TkaE5.png\" rel=\"nofollow noreferrer\">example</a></p>\n<p>The idea is to get random picture by category or sub-category.\nMaybe you know solution of my problem.</p>\n"},{"tags":["java","openapi","openapi-generator"],"comments":[{"owner":{"account_id":4007082,"reputation":23327,"user_id":3301492,"display_name":"Boris"},"score":0,"creation_date":1638448302,"post_id":70199184,"comment_id":124093680,"body_markdown":"Can you confirm the following [properties spec](https://swagger.io/specification/#properties): **pattern (This string SHOULD be a valid regular expression, according to the [Ecma-262 Edition 5.1 regular expression](https://www.ecma-international.org/ecma-262/5.1/#sec-15.10.1) dialect)** ?","body":"Can you confirm the following <a href=\"https://swagger.io/specification/#properties\" rel=\"nofollow noreferrer\">properties spec</a>: <b>pattern (This string SHOULD be a valid regular expression, according to the <a href=\"https://www.ecma-international.org/ecma-262/5.1/#sec-15.10.1\" rel=\"nofollow noreferrer\">Ecma-262 Edition 5.1 regular expression</a> dialect)</b> ?"},{"owner":{"account_id":4924225,"reputation":51,"user_id":3965926,"display_name":"ernest"},"score":0,"creation_date":1638448575,"post_id":70199184,"comment_id":124093795,"body_markdown":"Well, you can validate regex using regex101.com for example, if I&#39;m getting your point?","body":"Well, you can validate regex using regex101.com for example, if I&#39;m getting your point?"},{"owner":{"account_id":39252,"reputation":89812,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1638452275,"post_id":70199184,"comment_id":124095402,"body_markdown":"Where do you expect the validation errors to come from? From your backend/middlewhere, from the client app (i.e. Swagger UI?), from some other tool?","body":"Where do you expect the validation errors to come from? From your backend/middlewhere, from the client app (i.e. Swagger UI?), from some other tool?"},{"owner":{"account_id":4924225,"reputation":51,"user_id":3965926,"display_name":"ernest"},"score":0,"creation_date":1638452636,"post_id":70199184,"comment_id":124095557,"body_markdown":"Yaml is used for openapi code generator for java backend, and exception is thrown from controller.","body":"Yaml is used for openapi code generator for java backend, and exception is thrown from controller."},{"owner":{"account_id":39252,"reputation":89812,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1638452780,"post_id":70199184,"comment_id":124095616,"body_markdown":"Can you post the controller code and the regex as it is in the code?","body":"Can you post the controller code and the regex as it is in the code?"},{"owner":{"account_id":39252,"reputation":89812,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1638452992,"post_id":70199184,"comment_id":124095689,"body_markdown":"Btw if you want to test for &quot;at least one non-whitespace character&quot;, then `pattern: \\S` should be enough. No need for an anchored pattern.","body":"Btw if you want to test for &quot;at least one non-whitespace character&quot;, then <code>pattern: \\S</code> should be enough. No need for an anchored pattern."},{"owner":{"account_id":4924225,"reputation":51,"user_id":3965926,"display_name":"ernest"},"score":0,"creation_date":1638453048,"post_id":70199184,"comment_id":124095715,"body_markdown":"Well the controller code is not reached, since the validation occurs before, sorry if I wrote it unclear. There is no regex in code, just in yaml file.","body":"Well the controller code is not reached, since the validation occurs before, sorry if I wrote it unclear. There is no regex in code, just in yaml file."}],"owner":{"account_id":4924225,"reputation":51,"user_id":3965926,"display_name":"ernest"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638452686,"creation_date":1638446882,"question_id":70199184,"body_markdown":"I have following section in OpenApi 3.0 yaml file and want to avoid passing empty strings:\r\n``` \r\nCreateFieldXEntity:\r\n  required:\r\n    - field1\r\n  properties:\r\n    field1:\r\n      description: field1\r\n      type: string\r\n      minLength: 1\r\n      pattern: ^(?!\\s*$).+\r\n``` \r\nHowever, when I pass \r\n``` \r\n&quot;field1&quot;:&quot;example text\\n&quot; \r\n``` \r\nvalidation error is reported, but when passing \r\n``` \r\n&quot;field1&quot;:&quot;example text&quot; \r\n``` \r\neverything goes ok. What is the problem here?","title":"Openapi 3.0 empty field regex","body":"<p>I have following section in OpenApi 3.0 yaml file and want to avoid passing empty strings:</p>\n<pre><code>CreateFieldXEntity:\n  required:\n    - field1\n  properties:\n    field1:\n      description: field1\n      type: string\n      minLength: 1\n      pattern: ^(?!\\s*$).+\n</code></pre>\n<p>However, when I pass</p>\n<pre><code>&quot;field1&quot;:&quot;example text\\n&quot; \n</code></pre>\n<p>validation error is reported, but when passing</p>\n<pre><code>&quot;field1&quot;:&quot;example text&quot; \n</code></pre>\n<p>everything goes ok. What is the problem here?</p>\n"},{"tags":["java","intellij-idea","visual-studio-code"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1638452510,"post_id":70200500,"comment_id":124095504,"body_markdown":"Why are you using VS Code to program Java?","body":"Why are you using VS Code to program Java?"},{"owner":{"account_id":17556979,"reputation":49,"user_id":12736224,"display_name":"HusenPatel"},"score":0,"creation_date":1638452766,"post_id":70200500,"comment_id":124095612,"body_markdown":"I use Intellij but sometimes I require a lightweight experience, and VS Code provides it.","body":"I use Intellij but sometimes I require a lightweight experience, and VS Code provides it."},{"owner":{"account_id":261539,"reputation":19938,"user_id":981715,"accept_rate":74,"display_name":"Eugen Martynov"},"score":0,"creation_date":1638480156,"post_id":70200500,"comment_id":124106848,"body_markdown":"how did you open IDEA project in VScode?","body":"how did you open IDEA project in VScode?"},{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1638499347,"post_id":70200500,"comment_id":124111030,"body_markdown":"How&#39;s your folder structure like when opened in VS Code? No build tools project can add to [referenced libraries](https://code.visualstudio.com/docs/java/java-project#_manage-dependencies-for-unmanaged-folder). You may try adding `&quot;java.project.referencedLibraries&quot;: [&quot;abouslute\\\\path\\\\to\\\\jsefa.jar&quot;,],` in `.vscode/settings.json` then reload window. Code then see if you can import package successfully.","body":"How&#39;s your folder structure like when opened in VS Code? No build tools project can add to <a href=\"https://code.visualstudio.com/docs/java/java-project#_manage-dependencies-for-unmanaged-folder\" rel=\"nofollow noreferrer\">referenced libraries</a>. You may try adding <code>&quot;java.project.referencedLibraries&quot;: [&quot;abouslute\\\\path\\\\to\\\\jsefa.jar&quot;,],</code> in <code>.vscode&#47;settings.json</code> then reload window. Code then see if you can import package successfully."}],"owner":{"account_id":17556979,"reputation":49,"user_id":12736224,"display_name":"HusenPatel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2488,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638452257,"creation_date":1638452257,"question_id":70200500,"body_markdown":"I have a Java project, which is an Intellij IDEA project, not a maven or Gradle project,\r\nI want to work with the project in Visual Studio Code now, but I have a problem, I have an external dependency for handling CSV files called Jsefa(Java Simple Exchange Format API).\r\n\r\nHow can I add this dependency to my Visual Studio Code  Project so that I can build the project in VS Code easily that uses this library??\r\n\r\nCan I do this with some modifications in the `settings.json` file? or is there another way??","title":"How to add external dependencies in VS Code?","body":"<p>I have a Java project, which is an Intellij IDEA project, not a maven or Gradle project,\nI want to work with the project in Visual Studio Code now, but I have a problem, I have an external dependency for handling CSV files called Jsefa(Java Simple Exchange Format API).</p>\n<p>How can I add this dependency to my Visual Studio Code  Project so that I can build the project in VS Code easily that uses this library??</p>\n<p>Can I do this with some modifications in the <code>settings.json</code> file? or is there another way??</p>\n"},{"tags":["java","android","user-interface","android-glide","albumart"],"answers":[{"tags":[],"owner":{"account_id":8232839,"reputation":3082,"user_id":6193024,"display_name":"Umbo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1499970166,"creation_date":1499970166,"answer_id":45088342,"question_id":45051667,"body_markdown":"`RequestListener&lt;T, R&gt;` expects T to be the model you provided in `load()`, in your case `T = ? super AudioCover` ([documentation][1]):\r\n\r\n    // ...\r\n    .listener(new RequestListener&lt;AudioCover, GlideDrawable&gt;() {\r\n        @Override\r\n        public boolean onException(Exception e, AudioCover model, Target&lt;GlideDrawable&gt; target, boolean isFirstResource) {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public boolean onResourceReady(GlideDrawable resource, AudioCover model, Target&lt;GlideDrawable&gt; target, boolean isFromMemoryCache, boolean isFirstResource) {\r\n            return false;\r\n        }\r\n    })\r\n    // ...\r\nNote that since version 4.0.0-RC0 `RequestListener&lt;T, R&gt;` was deprecated in favor of `RequestListener&lt;R&gt;`, find more information in the new [javadoc][2].\r\n\r\n\r\n  [1]: http://bumptech.github.io/glide/javadocs/380/com/bumptech/glide/request/RequestListener.html\r\n  [2]: http://bumptech.github.io/glide/javadocs/400/com/bumptech/glide/request/RequestListener.html","title":"How to add listener correctly to glide","body":"<p><code>RequestListener&lt;T, R&gt;</code> expects T to be the model you provided in <code>load()</code>, in your case <code>T = ? super AudioCover</code> (<a href=\"http://bumptech.github.io/glide/javadocs/380/com/bumptech/glide/request/RequestListener.html\" rel=\"noreferrer\">documentation</a>):</p>\n\n<pre><code>// ...\n.listener(new RequestListener&lt;AudioCover, GlideDrawable&gt;() {\n    @Override\n    public boolean onException(Exception e, AudioCover model, Target&lt;GlideDrawable&gt; target, boolean isFirstResource) {\n        return false;\n    }\n\n    @Override\n    public boolean onResourceReady(GlideDrawable resource, AudioCover model, Target&lt;GlideDrawable&gt; target, boolean isFromMemoryCache, boolean isFirstResource) {\n        return false;\n    }\n})\n// ...\n</code></pre>\n\n<p>Note that since version 4.0.0-RC0 <code>RequestListener&lt;T, R&gt;</code> was deprecated in favor of <code>RequestListener&lt;R&gt;</code>, find more information in the new <a href=\"http://bumptech.github.io/glide/javadocs/400/com/bumptech/glide/request/RequestListener.html\" rel=\"noreferrer\">javadoc</a>.</p>\n"},{"tags":[],"owner":{"account_id":21577530,"reputation":21,"user_id":15909386,"display_name":"Shreeda Joshi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638452030,"creation_date":1620845189,"answer_id":67509399,"question_id":45051667,"body_markdown":"Adding ```RequestListner```\r\n```\r\nGlide.with(this)\r\n    .load(url)\r\n    .listener(new RequestListener &lt; Uri, GlideDrawable &gt; () {\r\n\r\n        @Override public boolean onException(Exception e, Uri model, Target &lt; GlideDrawable &gt; target, boolean isFirstResource) {\r\n            return false;\r\n        }\r\n\r\n        @Override public boolean onResourceReady(GlideDrawable resource, Uri model, Target &lt; GlideDrawable &gt; target, boolean isFromMemoryCache, boolean isFirstResource) {\r\n            // easy\r\n            return false;\r\n            // impossible?\r\n        }\r\n    })\r\n    .into(imageView);\r\n```","title":"How to add listener correctly to glide","body":"<p>Adding <code>RequestListner</code></p>\n<pre><code>Glide.with(this)\n    .load(url)\n    .listener(new RequestListener &lt; Uri, GlideDrawable &gt; () {\n\n        @Override public boolean onException(Exception e, Uri model, Target &lt; GlideDrawable &gt; target, boolean isFirstResource) {\n            return false;\n        }\n\n        @Override public boolean onResourceReady(GlideDrawable resource, Uri model, Target &lt; GlideDrawable &gt; target, boolean isFromMemoryCache, boolean isFirstResource) {\n            // easy\n            return false;\n            // impossible?\n        }\n    })\n    .into(imageView);\n</code></pre>\n"}],"owner":{"display_name":"user8232051"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9837,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1638452030,"creation_date":1499846080,"question_id":45051667,"body_markdown":"I am using glide for displaying album art but somehow I am not able to display it. I want to add listener to glide for locating errors but its not working. It shows error saying :   \r\n\r\n&gt;`listener(com.bumptech.glide.request.RequestListener)` in `com.bumptech.glide.DrawableRequestBuilder` cannot be applied to `(anonymous com.bumptech.glide.request.RequestListener)`   \r\n\r\n**PlayListActivity.java** :    \r\n\r\n    package com.example.dell_1.myapp3;\r\n    \r\n    \r\n    import android.app.Activity;\r\n    import android.database.Cursor;\r\n    import android.media.MediaPlayer;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.os.Environment;\r\n    import android.provider.MediaStore;\r\n    import android.support.design.widget.Snackbar;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.ImageView;\r\n    import android.widget.ListView;\r\n    import android.widget.Toast;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    import com.bumptech.glide.Glide;\r\n    import com.bumptech.glide.load.resource.drawable.GlideDrawable;\r\n    import com.bumptech.glide.request.RequestListener;\r\n    import com.bumptech.glide.request.target.Target;\r\n    \r\n    \r\n    public class PlayListActivity extends Activity {\r\n    \r\n        private String[] mAudioPath;\r\n        private MediaPlayer mMediaPlayer;\r\n        private String[] mMusicList;\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_play_list);\r\n    \r\n            mMediaPlayer = new MediaPlayer();\r\n            ListView mListView = (ListView) findViewById(R.id.list);\r\n    \r\n            mMusicList = getAudioList();\r\n    \r\n            ArrayAdapter&lt;String&gt; mAdapter = new ArrayAdapter&lt;&gt;(this,\r\n                    android.R.layout.simple_list_item_1, mMusicList);\r\n            mListView.setAdapter(mAdapter);\r\n    \r\n            mListView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n    \r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; arg0, View view, int arg2,\r\n                                        long arg3) {\r\n    \r\n                    try {\r\n                        playSong(mAudioPath[arg2]);\r\n                    } catch (IllegalArgumentException e) {\r\n                        e.printStackTrace();\r\n                    } catch (IllegalStateException e) {\r\n                        e.printStackTrace();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n        private String[] getAudioList() {\r\n            final Cursor mCursor = getContentResolver().query(\r\n                    MediaStore.Audio.Media.EXTERNAL_CONTENT_URI,\r\n                    new String[]{MediaStore.Audio.Media.DISPLAY_NAME, MediaStore.Audio.Media.DATA}, null, null,\r\n                    &quot;LOWER(&quot; + MediaStore.Audio.Media.TITLE + &quot;) ASC&quot;);\r\n    \r\n            int count = mCursor.getCount();\r\n    \r\n            String[] songs = new String[count];\r\n            mAudioPath = new String[count];\r\n            int i = 0;\r\n            if (mCursor.moveToFirst()) {\r\n                do {\r\n                    songs[i] = mCursor.getString(mCursor.getColumnIndexOrThrow(MediaStore.Audio.Media.DISPLAY_NAME));\r\n                    mAudioPath[i] = mCursor.getString(mCursor.getColumnIndexOrThrow(MediaStore.Audio.Media.DATA));\r\n                    i++;\r\n                } while (mCursor.moveToNext());\r\n            }\r\n    \r\n            mCursor.close();\r\n    \r\n            return songs;\r\n        }\r\n    \r\n        private void playSong(String path) throws IllegalArgumentException,\r\n                IllegalStateException, IOException {\r\n    \r\n            setContentView(R.layout.activity_android_building_music_player);\r\n            Log.d(&quot;ringtone&quot;, &quot;playSong :: &quot; + path);\r\n    \r\n            mMediaPlayer.reset();\r\n            mMediaPlayer.setDataSource(path);\r\n    //mMediaPlayer.setLooping(true);\r\n            mMediaPlayer.prepare();\r\n            mMediaPlayer.start();\r\n    \r\n            asd();\r\n        }\r\n    \r\n        public void asd(){\r\n            File music = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MUSIC);\r\n    // Tested with music from Windows 7&#39;s c:\\Users\\Public\\Music\\Sample Music\r\n            String mAudioPath = new File(music, &quot;Maid with the Flaxen Hair.mp3&quot;).getAbsolutePath();\r\n            ImageView imageView = (ImageView) findViewById(R.id.coverart);\r\n            Glide\r\n                    .with(this)\r\n                    .load(new AudioCover(mAudioPath))\r\n                    .placeholder(R.drawable.adele1)\r\n                    .error(R.drawable.adele1)\r\n                    .listener(new RequestListener&lt;Uri, GlideDrawable&gt;() {\r\n                        @Override public boolean onException(Exception e, Uri model, Target&lt;GlideDrawable&gt; target, boolean isFirstResource) {\r\n                            return false;\r\n                        }\r\n                        @Override public boolean onResourceReady(GlideDrawable resource, Uri model, Target&lt;GlideDrawable&gt; target, boolean isFromMemoryCache, boolean isFirstResource) {\r\n                            // easy\r\n                            return false;\r\n                            // impossible?\r\n                        }\r\n                    })\r\n                    .into(imageView)\r\n            ;\r\n        }\r\n    }\r\n\r\n\r\n**AudioCover.java :**   \r\n\r\n    package com.example.dell_1.myapp3;\r\n    \r\n    import android.content.Context;\r\n    import android.media.MediaMetadataRetriever;\r\n    \r\n    import com.bumptech.glide.*;\r\n    import com.bumptech.glide.load.data.DataFetcher;\r\n    import com.bumptech.glide.load.model.GenericLoaderFactory;\r\n    import com.bumptech.glide.load.model.ModelLoader;\r\n    import com.bumptech.glide.load.model.ModelLoaderFactory;\r\n    import com.bumptech.glide.load.model.stream.StreamModelLoader;\r\n    \r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    public class AudioCover {\r\n        final String path;\r\n        public AudioCover(String path) {\r\n            this.path = path;\r\n        }\r\n    }\r\n    \r\n    class AudioCoverLoader implements StreamModelLoader&lt;AudioCover&gt; {\r\n        @Override public DataFetcher&lt;InputStream&gt; getResourceFetcher(AudioCover model, int width, int height) {\r\n            return new AudioCoverFetcher(model);\r\n        }\r\n    \r\n        static class Factory implements ModelLoaderFactory&lt;AudioCover, InputStream&gt; {\r\n            @Override public ModelLoader&lt;AudioCover, InputStream&gt; build(Context context, GenericLoaderFactory factories) {\r\n                return new AudioCoverLoader();\r\n            }\r\n            @Override public void teardown() {\r\n            }\r\n        }\r\n    }\r\n    class AudioCoverFetcher implements DataFetcher&lt;InputStream&gt; {\r\n        private final AudioCover model;\r\n        private FileInputStream stream;\r\n    \r\n        public AudioCoverFetcher(AudioCover model) {\r\n            this.model = model;\r\n        }\r\n    \r\n        @Override public String getId() {\r\n            return model.path;\r\n        }\r\n    \r\n        @Override public InputStream loadData(Priority priority) throws Exception {\r\n            MediaMetadataRetriever retriever = new MediaMetadataRetriever();\r\n            try {\r\n                retriever.setDataSource(model.path);\r\n                byte[] picture = retriever.getEmbeddedPicture();\r\n                if (picture != null) {\r\n                    return new ByteArrayInputStream(picture);\r\n                } else {\r\n                    return fallback(model.path);\r\n                }\r\n            } finally {\r\n                retriever.release();\r\n            }\r\n        }\r\n    \r\n        private static final String[] FALLBACKS = {&quot;cover.jpg&quot;, &quot;album.jpg&quot;, &quot;folder.jpg&quot;};\r\n        private InputStream fallback(String path) throws FileNotFoundException {\r\n            File parent = new File(path).getParentFile();\r\n            for (String fallback : FALLBACKS) {\r\n                // TODO make it smarter by enumerating folder contents and filtering for files\r\n                // example algorithm for that: http://askubuntu.com/questions/123612/how-do-i-set-album-artwork\r\n                File cover = new File(parent, fallback);\r\n                if (cover.exists()) {\r\n                    return stream = new FileInputStream(cover);\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override public void cleanup() {\r\n            // already cleaned up in loadData and ByteArrayInputStream will be GC&#39;d\r\n            if (stream != null) {\r\n                try {\r\n                    stream.close();\r\n                } catch (IOException ignore) {\r\n                    // can&#39;t do much about it\r\n                }\r\n            }\r\n        }\r\n        @Override public void cancel() {\r\n            // cannot cancel\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to add listener correctly to glide","body":"<p>I am using glide for displaying album art but somehow I am not able to display it. I want to add listener to glide for locating errors but its not working. It shows error saying :   </p>\n\n<blockquote>\n  <p><code>listener(com.bumptech.glide.request.RequestListener)</code> in <code>com.bumptech.glide.DrawableRequestBuilder</code> cannot be applied to <code>(anonymous com.bumptech.glide.request.RequestListener)</code>   </p>\n</blockquote>\n\n<p><strong>PlayListActivity.java</strong> :    </p>\n\n<pre><code>package com.example.dell_1.myapp3;\n\n\nimport android.app.Activity;\nimport android.database.Cursor;\nimport android.media.MediaPlayer;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.provider.MediaStore;\nimport android.support.design.widget.Snackbar;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.ImageView;\nimport android.widget.ListView;\nimport android.widget.Toast;\n\nimport java.io.File;\nimport java.io.IOException;\n\nimport com.bumptech.glide.Glide;\nimport com.bumptech.glide.load.resource.drawable.GlideDrawable;\nimport com.bumptech.glide.request.RequestListener;\nimport com.bumptech.glide.request.target.Target;\n\n\npublic class PlayListActivity extends Activity {\n\n    private String[] mAudioPath;\n    private MediaPlayer mMediaPlayer;\n    private String[] mMusicList;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_play_list);\n\n        mMediaPlayer = new MediaPlayer();\n        ListView mListView = (ListView) findViewById(R.id.list);\n\n        mMusicList = getAudioList();\n\n        ArrayAdapter&lt;String&gt; mAdapter = new ArrayAdapter&lt;&gt;(this,\n                android.R.layout.simple_list_item_1, mMusicList);\n        mListView.setAdapter(mAdapter);\n\n        mListView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; arg0, View view, int arg2,\n                                    long arg3) {\n\n                try {\n                    playSong(mAudioPath[arg2]);\n                } catch (IllegalArgumentException e) {\n                    e.printStackTrace();\n                } catch (IllegalStateException e) {\n                    e.printStackTrace();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n\n            }\n        });\n    }\n\n    private String[] getAudioList() {\n        final Cursor mCursor = getContentResolver().query(\n                MediaStore.Audio.Media.EXTERNAL_CONTENT_URI,\n                new String[]{MediaStore.Audio.Media.DISPLAY_NAME, MediaStore.Audio.Media.DATA}, null, null,\n                \"LOWER(\" + MediaStore.Audio.Media.TITLE + \") ASC\");\n\n        int count = mCursor.getCount();\n\n        String[] songs = new String[count];\n        mAudioPath = new String[count];\n        int i = 0;\n        if (mCursor.moveToFirst()) {\n            do {\n                songs[i] = mCursor.getString(mCursor.getColumnIndexOrThrow(MediaStore.Audio.Media.DISPLAY_NAME));\n                mAudioPath[i] = mCursor.getString(mCursor.getColumnIndexOrThrow(MediaStore.Audio.Media.DATA));\n                i++;\n            } while (mCursor.moveToNext());\n        }\n\n        mCursor.close();\n\n        return songs;\n    }\n\n    private void playSong(String path) throws IllegalArgumentException,\n            IllegalStateException, IOException {\n\n        setContentView(R.layout.activity_android_building_music_player);\n        Log.d(\"ringtone\", \"playSong :: \" + path);\n\n        mMediaPlayer.reset();\n        mMediaPlayer.setDataSource(path);\n//mMediaPlayer.setLooping(true);\n        mMediaPlayer.prepare();\n        mMediaPlayer.start();\n\n        asd();\n    }\n\n    public void asd(){\n        File music = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MUSIC);\n// Tested with music from Windows 7's c:\\Users\\Public\\Music\\Sample Music\n        String mAudioPath = new File(music, \"Maid with the Flaxen Hair.mp3\").getAbsolutePath();\n        ImageView imageView = (ImageView) findViewById(R.id.coverart);\n        Glide\n                .with(this)\n                .load(new AudioCover(mAudioPath))\n                .placeholder(R.drawable.adele1)\n                .error(R.drawable.adele1)\n                .listener(new RequestListener&lt;Uri, GlideDrawable&gt;() {\n                    @Override public boolean onException(Exception e, Uri model, Target&lt;GlideDrawable&gt; target, boolean isFirstResource) {\n                        return false;\n                    }\n                    @Override public boolean onResourceReady(GlideDrawable resource, Uri model, Target&lt;GlideDrawable&gt; target, boolean isFromMemoryCache, boolean isFirstResource) {\n                        // easy\n                        return false;\n                        // impossible?\n                    }\n                })\n                .into(imageView)\n        ;\n    }\n}\n</code></pre>\n\n<p><strong>AudioCover.java :</strong>   </p>\n\n<pre><code>package com.example.dell_1.myapp3;\n\nimport android.content.Context;\nimport android.media.MediaMetadataRetriever;\n\nimport com.bumptech.glide.*;\nimport com.bumptech.glide.load.data.DataFetcher;\nimport com.bumptech.glide.load.model.GenericLoaderFactory;\nimport com.bumptech.glide.load.model.ModelLoader;\nimport com.bumptech.glide.load.model.ModelLoaderFactory;\nimport com.bumptech.glide.load.model.stream.StreamModelLoader;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\n\npublic class AudioCover {\n    final String path;\n    public AudioCover(String path) {\n        this.path = path;\n    }\n}\n\nclass AudioCoverLoader implements StreamModelLoader&lt;AudioCover&gt; {\n    @Override public DataFetcher&lt;InputStream&gt; getResourceFetcher(AudioCover model, int width, int height) {\n        return new AudioCoverFetcher(model);\n    }\n\n    static class Factory implements ModelLoaderFactory&lt;AudioCover, InputStream&gt; {\n        @Override public ModelLoader&lt;AudioCover, InputStream&gt; build(Context context, GenericLoaderFactory factories) {\n            return new AudioCoverLoader();\n        }\n        @Override public void teardown() {\n        }\n    }\n}\nclass AudioCoverFetcher implements DataFetcher&lt;InputStream&gt; {\n    private final AudioCover model;\n    private FileInputStream stream;\n\n    public AudioCoverFetcher(AudioCover model) {\n        this.model = model;\n    }\n\n    @Override public String getId() {\n        return model.path;\n    }\n\n    @Override public InputStream loadData(Priority priority) throws Exception {\n        MediaMetadataRetriever retriever = new MediaMetadataRetriever();\n        try {\n            retriever.setDataSource(model.path);\n            byte[] picture = retriever.getEmbeddedPicture();\n            if (picture != null) {\n                return new ByteArrayInputStream(picture);\n            } else {\n                return fallback(model.path);\n            }\n        } finally {\n            retriever.release();\n        }\n    }\n\n    private static final String[] FALLBACKS = {\"cover.jpg\", \"album.jpg\", \"folder.jpg\"};\n    private InputStream fallback(String path) throws FileNotFoundException {\n        File parent = new File(path).getParentFile();\n        for (String fallback : FALLBACKS) {\n            // TODO make it smarter by enumerating folder contents and filtering for files\n            // example algorithm for that: http://askubuntu.com/questions/123612/how-do-i-set-album-artwork\n            File cover = new File(parent, fallback);\n            if (cover.exists()) {\n                return stream = new FileInputStream(cover);\n            }\n        }\n        return null;\n    }\n\n    @Override public void cleanup() {\n        // already cleaned up in loadData and ByteArrayInputStream will be GC'd\n        if (stream != null) {\n            try {\n                stream.close();\n            } catch (IOException ignore) {\n                // can't do much about it\n            }\n        }\n    }\n    @Override public void cancel() {\n        // cannot cancel\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-tika"],"owner":{"account_id":6872186,"reputation":402,"user_id":5282089,"display_name":"Jedupont"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":510,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638451991,"creation_date":1638451991,"question_id":70200422,"body_markdown":"here is the dependency of my pom.xml:\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;tika-core&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;tika-parsers-standard-package&lt;/artifactId&gt;\r\n    &lt;version&gt;2.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nMy method to parse document:\r\n```java\r\npublic String parseToPlainText(InputStream inputStream) {\r\n    BodyContentHandler handler = new BodyContentHandler(Integer.MAX_VALUE);\r\n    AutoDetectParser parser = new AutoDetectParser();\r\n    Metadata metadata = new Metadata();\r\n    ParseContext parseContext = new ParseContext();\r\n    parseContext.set(Parser.class, parser);\r\n\r\n    String content = &quot;&quot;;\r\n    try {\r\n        parser.parse(inputStream, handler, metadata, parseContext);\r\n        content = handler.toString();\r\n        System.out.println(parser.getDetector().detect(inputStream, metadata).toString());\r\n    } catch (IOException | SAXException | TikaException e) {\r\n        logger.error(e.getMessage(), e);\r\n    } finally {\r\n        try {\r\n            inputStream.close();\r\n        } catch (IOException e) {\r\n            logger.error(e.getMessage(), e);\r\n        }\r\n    }\r\n\r\n    return content;\r\n}\r\n```\r\n\r\nThe content is always blank. I tried to follow this guide: https://cwiki.apache.org/confluence/display/TIKA/Troubleshooting+Tika\r\n\r\nMimetypes seem to be supported so I don&#39;t understand what the problem could be.\r\n\r\n**Note:** this line prints nothing if the InputStream is of type `FileInputStream`:\r\n```\r\nSystem.out.println(parser.getDetector().detect(inputStream, metadata).toString());\r\n```\r\nBut I get the `application/x-tika-ooxml` mimetype if I pass a `BufferedInputStream`:\r\n```java\r\npublic static void main(String[] args) throws Exception {\r\n    InputStream is = new FileInputStream(&quot;src/main/java/resources/file-sample_100kB.docx&quot;);\r\n    System.out.println(parseToPlainText(new BufferedInputStream(is)));\r\n\r\n    System.exit(0);\r\n}\r\n```\r\n","title":"Apache Tika blank text content when parsing doc, docx, pdf files","body":"<p>here is the dependency of my pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n    &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n    &lt;artifactId&gt;tika-parsers-standard-package&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;\n    &lt;version&gt;5.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n    &lt;version&gt;5.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;5.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My method to parse document:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String parseToPlainText(InputStream inputStream) {\n    BodyContentHandler handler = new BodyContentHandler(Integer.MAX_VALUE);\n    AutoDetectParser parser = new AutoDetectParser();\n    Metadata metadata = new Metadata();\n    ParseContext parseContext = new ParseContext();\n    parseContext.set(Parser.class, parser);\n\n    String content = &quot;&quot;;\n    try {\n        parser.parse(inputStream, handler, metadata, parseContext);\n        content = handler.toString();\n        System.out.println(parser.getDetector().detect(inputStream, metadata).toString());\n    } catch (IOException | SAXException | TikaException e) {\n        logger.error(e.getMessage(), e);\n    } finally {\n        try {\n            inputStream.close();\n        } catch (IOException e) {\n            logger.error(e.getMessage(), e);\n        }\n    }\n\n    return content;\n}\n</code></pre>\n<p>The content is always blank. I tried to follow this guide: <a href=\"https://cwiki.apache.org/confluence/display/TIKA/Troubleshooting+Tika\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/TIKA/Troubleshooting+Tika</a></p>\n<p>Mimetypes seem to be supported so I don't understand what the problem could be.</p>\n<p><strong>Note:</strong> this line prints nothing if the InputStream is of type <code>FileInputStream</code>:</p>\n<pre><code>System.out.println(parser.getDetector().detect(inputStream, metadata).toString());\n</code></pre>\n<p>But I get the <code>application/x-tika-ooxml</code> mimetype if I pass a <code>BufferedInputStream</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws Exception {\n    InputStream is = new FileInputStream(&quot;src/main/java/resources/file-sample_100kB.docx&quot;);\n    System.out.println(parseToPlainText(new BufferedInputStream(is)));\n\n    System.exit(0);\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6866067,"reputation":1576,"user_id":5278483,"accept_rate":75,"display_name":"Abdelhakim AKODADI"},"score":0,"creation_date":1638451386,"post_id":70200124,"comment_id":124095000,"body_markdown":"Try to call `displayData()` in `onResume()` instead of `onStart()` and see what happens","body":"Try to call <code>displayData()</code> in <code>onResume()</code> instead of <code>onStart()</code> and see what happens"},{"owner":{"account_id":23524936,"reputation":1,"user_id":17571620,"display_name":"777ILNITSKIY777"},"score":0,"creation_date":1638452178,"post_id":70200124,"comment_id":124095355,"body_markdown":"don&#39;t work , same (","body":"don&#39;t work , same ("}],"answers":[{"tags":[],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638451324,"creation_date":1638451324,"answer_id":70200258,"question_id":70200124,"body_markdown":"It looks like the `line cursor.getColumnIndex(MemberEntry._ID);` is the problem.  In all likelihood given the error message cursor is null and that your call to `getContentResolver().query failed`. ","title":"int android.database.Cursor.getColumnIndex(java.lang.String)&#39; on a null object reference","body":"<p>It looks like the <code>line cursor.getColumnIndex(MemberEntry._ID);</code> is the problem.  In all likelihood given the error message cursor is null and that your call to <code>getContentResolver().query failed</code>.</p>\n"},{"tags":[],"owner":{"account_id":23524936,"reputation":1,"user_id":17571620,"display_name":"777ILNITSKIY777"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638451990,"creation_date":1638451990,"answer_id":70200421,"question_id":70200124,"body_markdown":"    private void insertMember () {\r\n            String firstName = firstNameEditText.getText().toString().trim();\r\n            String lastName = lastNameEditText.getText().toString().trim();\r\n            String sport = sportEditText.getText().toString().trim();\r\n    \r\n            ContentValues contentValues = new ContentValues();\r\n            contentValues.put(MemberEntry.COLUMN_FIRST_NAME, firstName);\r\n            contentValues.put(MemberEntry.COLUMN_LAST_NAME, lastName);\r\n            contentValues.put(MemberEntry.COLUMN_SPORT, sport);\r\n            contentValues.put(MemberEntry.COLUMN_GENDER, gender);\r\n    \r\n            ContentResolver contentResolver = getContentResolver();\r\n            Uri uri = contentResolver.insert(MemberEntry.CONTENT_URI, contentValues);\r\n    \r\n            if (uri == null ) {\r\n                Toast.makeText(this, &quot;Insertion of data in the table failed for &quot;, Toast.LENGTH_LONG).show();\r\n            } else {\r\n                Toast.makeText(this, &quot;Data save &quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    }\r\n    \r\n    this is correct code ? or not ? ","title":"int android.database.Cursor.getColumnIndex(java.lang.String)&#39; on a null object reference","body":"<pre><code>private void insertMember () {\n        String firstName = firstNameEditText.getText().toString().trim();\n        String lastName = lastNameEditText.getText().toString().trim();\n        String sport = sportEditText.getText().toString().trim();\n\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(MemberEntry.COLUMN_FIRST_NAME, firstName);\n        contentValues.put(MemberEntry.COLUMN_LAST_NAME, lastName);\n        contentValues.put(MemberEntry.COLUMN_SPORT, sport);\n        contentValues.put(MemberEntry.COLUMN_GENDER, gender);\n\n        ContentResolver contentResolver = getContentResolver();\n        Uri uri = contentResolver.insert(MemberEntry.CONTENT_URI, contentValues);\n\n        if (uri == null ) {\n            Toast.makeText(this, &quot;Insertion of data in the table failed for &quot;, Toast.LENGTH_LONG).show();\n        } else {\n            Toast.makeText(this, &quot;Data save &quot;, Toast.LENGTH_LONG).show();\n        }\n    }\n}\n\nthis is correct code ? or not ? \n</code></pre>\n"}],"owner":{"account_id":23524936,"reputation":1,"user_id":17571620,"display_name":"777ILNITSKIY777"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1638451990,"creation_date":1638450700,"question_id":70200124,"body_markdown":"    public class MainActivity extends AppCompatActivity {\r\n    \r\n        TextView dataTextView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            dataTextView = findViewById(R.id.dataTextView);\r\n    \r\n            FloatingActionButton floatingActionButton = findViewById(R.id.floatingActionButton);\r\n            floatingActionButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent intent = new Intent(MainActivity.this, add_member.class);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void onStart() {\r\n            super.onStart();\r\n            displayData();\r\n        }\r\n    \r\n        private void displayData () {\r\n            String [] projection = {\r\n                    MemberEntry._ID,\r\n                    MemberEntry.COLUMN_FIRST_NAME,\r\n                    MemberEntry.COLUMN_LAST_NAME,\r\n                    MemberEntry.COLUMN_GENDER,\r\n                    MemberEntry.COLUMN_SPORT\r\n            };\r\n            Cursor cursor = getContentResolver().query(\r\n                    MemberEntry.CONTENT_URI,\r\n                    projection,\r\n                    null,\r\n                    null,\r\n                    null\r\n            );\r\n    \r\n            dataTextView.setText(&quot;All members\\n\\n&quot;);\r\n            dataTextView.append(MemberEntry._ID + &quot; &quot; +\r\n                    MemberEntry.COLUMN_FIRST_NAME + &quot; &quot; +\r\n                    MemberEntry.COLUMN_LAST_NAME + &quot; &quot; +\r\n                    MemberEntry.COLUMN_GENDER + &quot; &quot; +\r\n                    MemberEntry.COLUMN_SPORT);\r\n    \r\n            int idIndex = cursor.getColumnIndex(MemberEntry._ID);\r\n            int idFirstName = cursor.getColumnIndex(MemberEntry.COLUMN_LAST_NAME);\r\n            int idLastName = cursor.getColumnIndex(MemberEntry.COLUMN_LAST_NAME);\r\n            int idGender = cursor.getColumnIndex(MemberEntry.COLUMN_GENDER);\r\n            int idSport = cursor.getColumnIndex(MemberEntry.COLUMN_SPORT);\r\n    \r\n            while (cursor.moveToNext()) {\r\n                int currentID = cursor.getInt(idIndex);\r\n                String currentFirstName = cursor.getString(idFirstName);\r\n                String currentLastName = cursor.getString(idLastName);\r\n                int currentGender = cursor.getInt(idGender);\r\n                String currentSport = cursor.getString(idSport);\r\n    \r\n                dataTextView.append(&quot;\\n&quot; +\r\n                        currentID + &quot; &quot; +\r\n                        currentFirstName + &quot; &quot; +\r\n                        currentLastName + &quot; &quot; +\r\n                        currentGender + &quot; &quot; +\r\n                        currentSport);\r\n            }\r\n    \r\n            cursor.close();\r\n    \r\n        }\r\n    }\r\n\r\nThis throws an exception:\r\n\r\n    java.lang.NullPointerException: Attempt to invoke interface method &#39;int android.database.Cursor.getColumnIndex(java.lang.String)&#39; on a null object reference\r\n        at com.example.sportclub.MainActivity.displayData(MainActivity.java:66)\r\n        at com.example.sportclub.MainActivity.onStart(MainActivity.java:40)\r\n\r\n\r\ncan you help me ?) ","title":"int android.database.Cursor.getColumnIndex(java.lang.String)&#39; on a null object reference","body":"<pre><code>public class MainActivity extends AppCompatActivity {\n\n    TextView dataTextView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        dataTextView = findViewById(R.id.dataTextView);\n\n        FloatingActionButton floatingActionButton = findViewById(R.id.floatingActionButton);\n        floatingActionButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(MainActivity.this, add_member.class);\n                startActivity(intent);\n            }\n        });\n\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        displayData();\n    }\n\n    private void displayData () {\n        String [] projection = {\n                MemberEntry._ID,\n                MemberEntry.COLUMN_FIRST_NAME,\n                MemberEntry.COLUMN_LAST_NAME,\n                MemberEntry.COLUMN_GENDER,\n                MemberEntry.COLUMN_SPORT\n        };\n        Cursor cursor = getContentResolver().query(\n                MemberEntry.CONTENT_URI,\n                projection,\n                null,\n                null,\n                null\n        );\n\n        dataTextView.setText(&quot;All members\\n\\n&quot;);\n        dataTextView.append(MemberEntry._ID + &quot; &quot; +\n                MemberEntry.COLUMN_FIRST_NAME + &quot; &quot; +\n                MemberEntry.COLUMN_LAST_NAME + &quot; &quot; +\n                MemberEntry.COLUMN_GENDER + &quot; &quot; +\n                MemberEntry.COLUMN_SPORT);\n\n        int idIndex = cursor.getColumnIndex(MemberEntry._ID);\n        int idFirstName = cursor.getColumnIndex(MemberEntry.COLUMN_LAST_NAME);\n        int idLastName = cursor.getColumnIndex(MemberEntry.COLUMN_LAST_NAME);\n        int idGender = cursor.getColumnIndex(MemberEntry.COLUMN_GENDER);\n        int idSport = cursor.getColumnIndex(MemberEntry.COLUMN_SPORT);\n\n        while (cursor.moveToNext()) {\n            int currentID = cursor.getInt(idIndex);\n            String currentFirstName = cursor.getString(idFirstName);\n            String currentLastName = cursor.getString(idLastName);\n            int currentGender = cursor.getInt(idGender);\n            String currentSport = cursor.getString(idSport);\n\n            dataTextView.append(&quot;\\n&quot; +\n                    currentID + &quot; &quot; +\n                    currentFirstName + &quot; &quot; +\n                    currentLastName + &quot; &quot; +\n                    currentGender + &quot; &quot; +\n                    currentSport);\n        }\n\n        cursor.close();\n\n    }\n}\n</code></pre>\n<p>This throws an exception:</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke interface method 'int android.database.Cursor.getColumnIndex(java.lang.String)' on a null object reference\n    at com.example.sportclub.MainActivity.displayData(MainActivity.java:66)\n    at com.example.sportclub.MainActivity.onStart(MainActivity.java:40)\n</code></pre>\n<p>can you help me ?)</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":3,"creation_date":1395246184,"post_id":22511750,"comment_id":34252372,"body_markdown":"From the standpoint of the Java runtime the two Stream types are the same already, so no cast is required.  The trick is to sneak it past the compiler.  (That is, assuming it makes any sense to do so.)","body":"From the standpoint of the Java runtime the two Stream types are the same already, so no cast is required.  The trick is to sneak it past the compiler.  (That is, assuming it makes any sense to do so.)"}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":1,"up_vote_count":382,"is_accepted":true,"score":381,"last_activity_date":1490200269,"creation_date":1395245761,"answer_id":22511918,"question_id":22511750,"body_markdown":"I don&#39;t think there is a way to do that out-of-the-box. A possibly cleaner solution would be:\r\n\r\n    Stream.of(objects)\r\n        .filter(c -&gt; c instanceof Client)\r\n        .map(c -&gt; (Client) c)\r\n        .map(Client::getID)\r\n        .forEach(System.out::println);\r\n\r\nor, as suggested in the comments, you could use the `cast` method - the former may be easier to read though:\r\n\r\n    Stream.of(objects)\r\n        .filter(Client.class::isInstance)\r\n        .map(Client.class::cast)\r\n        .map(Client::getID)\r\n        .forEach(System.out::println);","title":"Is it possible to cast a Stream in Java 8?","body":"<p>I don't think there is a way to do that out-of-the-box. A possibly cleaner solution would be:</p>\n\n<pre><code>Stream.of(objects)\n    .filter(c -&gt; c instanceof Client)\n    .map(c -&gt; (Client) c)\n    .map(Client::getID)\n    .forEach(System.out::println);\n</code></pre>\n\n<p>or, as suggested in the comments, you could use the <code>cast</code> method - the former may be easier to read though:</p>\n\n<pre><code>Stream.of(objects)\n    .filter(Client.class::isInstance)\n    .map(Client.class::cast)\n    .map(Client::getID)\n    .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1395246263,"creation_date":1395245780,"answer_id":22511930,"question_id":22511750,"body_markdown":"&gt; This looks a little ugly. Is it possible to cast an entire stream to a different type? Like cast `Stream&lt;Object&gt;` to a `Stream&lt;Client&gt;`?\r\n\r\nNo that wouldn&#39;t be possible. This is not new in Java 8. This is specific to generics. A `List&lt;Object&gt;` is not a super type of `List&lt;String&gt;`, so you can&#39;t just cast a `List&lt;Object&gt;` to a `List&lt;String&gt;`. \r\n\r\nSimilar is the issue here. You can&#39;t cast `Stream&lt;Object&gt;` to `Stream&lt;Client&gt;`. Of course you can cast it indirectly like this:\r\n\r\n    Stream&lt;Client&gt; intStream = (Stream&lt;Client&gt;) (Stream&lt;?&gt;)stream;\r\n\r\nbut that is not safe, and might fail at runtime. The underlying reason for this is, generics in Java are implemented using erasure. So, there is no type information available about which type of `Stream` it is at runtime. Everything is just `Stream`.\r\n\r\nBTW, what&#39;s wrong with your approach? Looks fine to me.","title":"Is it possible to cast a Stream in Java 8?","body":"<blockquote>\n  <p>This looks a little ugly. Is it possible to cast an entire stream to a different type? Like cast <code>Stream&lt;Object&gt;</code> to a <code>Stream&lt;Client&gt;</code>?</p>\n</blockquote>\n\n<p>No that wouldn't be possible. This is not new in Java 8. This is specific to generics. A <code>List&lt;Object&gt;</code> is not a super type of <code>List&lt;String&gt;</code>, so you can't just cast a <code>List&lt;Object&gt;</code> to a <code>List&lt;String&gt;</code>. </p>\n\n<p>Similar is the issue here. You can't cast <code>Stream&lt;Object&gt;</code> to <code>Stream&lt;Client&gt;</code>. Of course you can cast it indirectly like this:</p>\n\n<pre><code>Stream&lt;Client&gt; intStream = (Stream&lt;Client&gt;) (Stream&lt;?&gt;)stream;\n</code></pre>\n\n<p>but that is not safe, and might fail at runtime. The underlying reason for this is, generics in Java are implemented using erasure. So, there is no type information available about which type of <code>Stream</code> it is at runtime. Everything is just <code>Stream</code>.</p>\n\n<p>BTW, what's wrong with your approach? Looks fine to me.</p>\n"},{"tags":[],"owner":{"account_id":3343357,"reputation":1927,"user_id":2809078,"display_name":"ggovan"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1399295985,"creation_date":1399295985,"answer_id":23473558,"question_id":22511750,"body_markdown":"Late to the party, but I think it is a useful answer.\r\n\r\n`flatMap` would be the shortest way to do it.\r\n\r\n    Stream.of(objects).flatMap(o-&gt;(o instanceof Client)?Stream.of((Client)o):Stream.empty())\r\n\r\nIf `o` is a `Client` then create a Stream with a single element, otherwise use the empty stream. These streams will then be flattened into a `Stream&lt;Client&gt;`.","title":"Is it possible to cast a Stream in Java 8?","body":"<p>Late to the party, but I think it is a useful answer.</p>\n\n<p><code>flatMap</code> would be the shortest way to do it.</p>\n\n<pre><code>Stream.of(objects).flatMap(o-&gt;(o instanceof Client)?Stream.of((Client)o):Stream.empty())\n</code></pre>\n\n<p>If <code>o</code> is a <code>Client</code> then create a Stream with a single element, otherwise use the empty stream. These streams will then be flattened into a <code>Stream&lt;Client&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":1283505,"reputation":2377,"user_id":1237044,"accept_rate":100,"display_name":"Brandon"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1418276160,"creation_date":1402598588,"answer_id":24191705,"question_id":22511750,"body_markdown":"Along the lines of [ggovan&#39;s answer](https://stackoverflow.com/a/23473558/1237044), I do this as follows:\r\n\r\n    /**\r\n     * Provides various high-order functions.\r\n     */\r\n    public final class F {\r\n        /**\r\n         * When the returned {@code Function} is passed as an argument to\r\n         * {@link Stream#flatMap}, the result is a stream of instances of\r\n         * {@code cls}.\r\n         */\r\n        public static &lt;E&gt; Function&lt;Object, Stream&lt;E&gt;&gt; instancesOf(Class&lt;E&gt; cls) {\r\n            return o -&gt; cls.isInstance(o)\r\n                    ? Stream.of(cls.cast(o))\r\n                    : Stream.empty();\r\n        }\r\n    }\r\n\r\nUsing this helper function:\r\n\r\n    Stream.of(objects).flatMap(F.instancesOf(Client.class))\r\n            .map(Client::getId)\r\n            .forEach(System.out::println);","title":"Is it possible to cast a Stream in Java 8?","body":"<p>Along the lines of <a href=\"https://stackoverflow.com/a/23473558/1237044\">ggovan's answer</a>, I do this as follows:</p>\n\n<pre><code>/**\n * Provides various high-order functions.\n */\npublic final class F {\n    /**\n     * When the returned {@code Function} is passed as an argument to\n     * {@link Stream#flatMap}, the result is a stream of instances of\n     * {@code cls}.\n     */\n    public static &lt;E&gt; Function&lt;Object, Stream&lt;E&gt;&gt; instancesOf(Class&lt;E&gt; cls) {\n        return o -&gt; cls.isInstance(o)\n                ? Stream.of(cls.cast(o))\n                : Stream.empty();\n    }\n}\n</code></pre>\n\n<p>Using this helper function:</p>\n\n<pre><code>Stream.of(objects).flatMap(F.instancesOf(Client.class))\n        .map(Client::getId)\n        .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14719562,"reputation":63,"user_id":10630576,"display_name":"Sherum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638451863,"creation_date":1638451863,"answer_id":70200383,"question_id":22511750,"body_markdown":"I found when dealing with an untyped collection of one class you can\r\ncreate a typed collection with\r\n\r\n\r\n    UntypedObjCollection bag = some preGenerics method;\r\n    List&lt;Foo&gt; foolist = new ArrayList&lt;&gt;();\r\n    bag.stream().forEach(o -&gt;fooList.add((Foo)o));\r\n\r\nThere doesn&#39;t seem to be a way to cast Object into something and filter, map, etc... in one shot. The only way to get Object into a typed collection is a terminal operation. This is running JDK 17 and dealing with module.base exceptions when trying less granular methods. \r\n\r\n","title":"Is it possible to cast a Stream in Java 8?","body":"<p>I found when dealing with an untyped collection of one class you can\ncreate a typed collection with</p>\n<pre><code>UntypedObjCollection bag = some preGenerics method;\nList&lt;Foo&gt; foolist = new ArrayList&lt;&gt;();\nbag.stream().forEach(o -&gt;fooList.add((Foo)o));\n</code></pre>\n<p>There doesn't seem to be a way to cast Object into something and filter, map, etc... in one shot. The only way to get Object into a typed collection is a terminal operation. This is running JDK 17 and dealing with module.base exceptions when trying less granular methods.</p>\n"}],"owner":{"account_id":3321504,"reputation":2417,"user_id":2792581,"accept_rate":80,"display_name":"Phiction"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169435,"favorite_count":0,"down_vote_count":0,"up_vote_count":213,"accepted_answer_id":22511918,"answer_count":5,"score":213,"last_activity_date":1638451863,"creation_date":1395245358,"question_id":22511750,"body_markdown":"Is it possible to cast a stream in Java 8? Say I have a list of objects, I can do something like this to filter out all the additional objects:\r\n\r\n    Stream.of(objects).filter(c -&gt; c instanceof Client)\r\nAfter this though, if I want to do something with the clients I would need to cast each of them:\r\n\r\n    Stream.of(objects).filter(c -&gt; c instanceof Client)\r\n        .map(c -&gt; ((Client) c).getID()).forEach(System.out::println);\r\n\r\nThis looks a little ugly. Is it possible to cast an entire stream to a different type? Like cast `Stream&lt;Object&gt;` to a `Stream&lt;Client&gt;`?\r\n\r\n\r\nPlease ignore the fact that doing things like this would probably mean bad design. We do stuff like this in my computer science class, so I was looking into the new features of java 8 and was curious if this was possible.","title":"Is it possible to cast a Stream in Java 8?","body":"<p>Is it possible to cast a stream in Java 8? Say I have a list of objects, I can do something like this to filter out all the additional objects:</p>\n\n<pre><code>Stream.of(objects).filter(c -&gt; c instanceof Client)\n</code></pre>\n\n<p>After this though, if I want to do something with the clients I would need to cast each of them:</p>\n\n<pre><code>Stream.of(objects).filter(c -&gt; c instanceof Client)\n    .map(c -&gt; ((Client) c).getID()).forEach(System.out::println);\n</code></pre>\n\n<p>This looks a little ugly. Is it possible to cast an entire stream to a different type? Like cast <code>Stream&lt;Object&gt;</code> to a <code>Stream&lt;Client&gt;</code>?</p>\n\n<p>Please ignore the fact that doing things like this would probably mean bad design. We do stuff like this in my computer science class, so I was looking into the new features of java 8 and was curious if this was possible.</p>\n"},{"tags":["java","android","arrays","sorting","firebase-realtime-database"],"comments":[{"owner":{"account_id":2786826,"reputation":2172,"user_id":2398000,"display_name":"avalerio"},"score":0,"creation_date":1638409711,"post_id":70186402,"comment_id":124083426,"body_markdown":"Can you verify, that the 2 string dates `currDate` and `dateFormat` are the same at any point in time? There are 2 reasons `listDate.contains(currDate)` would `return false`. There simply is no date that matches OR there is a date that matches but it is formatted incorrectly, because you are just comparing `String`s at this point.","body":"Can you verify, that the 2 string dates <code>currDate</code> and <code>dateFormat</code> are the same at any point in time? There are 2 reasons <code>listDate.contains(currDate)</code> would <code>return false</code>. There simply is no date that matches OR there is a date that matches but it is formatted incorrectly, because you are just comparing <code>String</code>s at this point."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1638426954,"post_id":70186402,"comment_id":124086125,"body_markdown":"Why not using a query with `startAt(startOfTheDay)` and `endAt(endOfTheDay)`?","body":"Why not using a query with <code>startAt(startOfTheDay)</code> and <code>endAt(endOfTheDay)</code>?"},{"owner":{"account_id":23031992,"reputation":3,"user_id":17151325,"display_name":"Nikita Alekseev"},"score":0,"creation_date":1638432067,"post_id":70186402,"comment_id":124087484,"body_markdown":"@avalerio Thank you for you answer. I see at logs that `listDate.contains(currDate)` - `return true`. I&#39;ve checked format date in the array and in `currDate` . This is same.","body":"@avalerio Thank you for you answer. I see at logs that <code>listDate.contains(currDate)</code> - <code>return true</code>. I&#39;ve checked format date in the array and in <code>currDate</code> . This is same."},{"owner":{"account_id":23031992,"reputation":3,"user_id":17151325,"display_name":"Nikita Alekseev"},"score":0,"creation_date":1638432183,"post_id":70186402,"comment_id":124087528,"body_markdown":"@AlexMamo That&#39;s a good idea! I&#39;ll try. Thanks","body":"@AlexMamo That&#39;s a good idea! I&#39;ll try. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":2786826,"reputation":2172,"user_id":2398000,"display_name":"avalerio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638451789,"creation_date":1638451789,"answer_id":70200370,"question_id":70186402,"body_markdown":"If you want to know the amount of `WaterModels` that match a specific date then you need to count them as they appear. \r\n\r\nYou are currently adding every date to the list regardless if it matches the `currDate`, so your count is the total dates not the specific amount of specific dates.\r\n\r\n    //Add this\r\n    int dateCount = 0;\r\n\r\n    for (int i = 0; i &lt; waterModel.getWaterModelList().size(); i++) {\r\n        long dateList = waterModel.getWaterModelList().get(i).getDate();\r\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.US);\r\n        String dateFormat = formatter.format(new Date(dateList));\r\n        listDate.add(dateFormat);\r\n\r\n\r\n        //Add this\r\n        if(dateFormat == currDate){\r\n                 dateCount++;\r\n        }\r\n\r\n\r\n        //I don&#39;t know what your doing here but this will return true\r\n        //if there is at least 1 match. You can&#39;t use this to track how many dates\r\n        //match\r\n        if (listDate.contains(currDate)) {\r\n            int water_count = (int) listDate.size();\r\n            drawable = getActivity().getDrawable(R.drawable.circut_progress_bar);\r\n            progressBar.setProgress(water_count);\r\n            progressBar.setMax(12);\r\n            progressBar.setSecondaryProgress(water_count);\r\n            progressBar.setProgressDrawable(drawable);\r\n            textViewWaterCount.setText(String.valueOf(water_count));\r\n            if (water_count &gt;= 12) {\r\n                textViewWaterCount.setText(&quot;Done&quot;);\r\n                textViewWaterCount.setTextColor(getResources().getColor(R.color.colorGreen_900));\r\n                drawable = getActivity().getDrawable(R.drawable.circut_progressbar_green);\r\n                progressBar.setProgressDrawable(drawable);\r\n            }\r\n        }\r\n    }\r\n\r\n`dateCount` will contain the total amount of Dates that match the `currDate`.","title":"How get counts of repeat elements in Array. Java","body":"<p>If you want to know the amount of <code>WaterModels</code> that match a specific date then you need to count them as they appear.</p>\n<p>You are currently adding every date to the list regardless if it matches the <code>currDate</code>, so your count is the total dates not the specific amount of specific dates.</p>\n<pre><code>//Add this\nint dateCount = 0;\n\nfor (int i = 0; i &lt; waterModel.getWaterModelList().size(); i++) {\n    long dateList = waterModel.getWaterModelList().get(i).getDate();\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.US);\n    String dateFormat = formatter.format(new Date(dateList));\n    listDate.add(dateFormat);\n\n\n    //Add this\n    if(dateFormat == currDate){\n             dateCount++;\n    }\n\n\n    //I don't know what your doing here but this will return true\n    //if there is at least 1 match. You can't use this to track how many dates\n    //match\n    if (listDate.contains(currDate)) {\n        int water_count = (int) listDate.size();\n        drawable = getActivity().getDrawable(R.drawable.circut_progress_bar);\n        progressBar.setProgress(water_count);\n        progressBar.setMax(12);\n        progressBar.setSecondaryProgress(water_count);\n        progressBar.setProgressDrawable(drawable);\n        textViewWaterCount.setText(String.valueOf(water_count));\n        if (water_count &gt;= 12) {\n            textViewWaterCount.setText(&quot;Done&quot;);\n            textViewWaterCount.setTextColor(getResources().getColor(R.color.colorGreen_900));\n            drawable = getActivity().getDrawable(R.drawable.circut_progressbar_green);\n            progressBar.setProgressDrawable(drawable);\n        }\n    }\n}\n</code></pre>\n<p><code>dateCount</code> will contain the total amount of Dates that match the <code>currDate</code>.</p>\n"}],"owner":{"account_id":23031992,"reputation":3,"user_id":17151325,"display_name":"Nikita Alekseev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70200370,"answer_count":1,"score":0,"last_activity_date":1638451789,"creation_date":1638370577,"question_id":70186402,"body_markdown":"I need to get the count of records for the current day, from the database. The entries in the Firebase Realtime are in timestamp, I parse them using SimpleDateFormat.\r\n\r\nBut I could not get the count of records, for example, for today&#39;s date. Tell me what to do? Thanks\r\n\r\n\r\n[IMAGE RECORDS IN FIREBASE REALTIME][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ucW9L.png\r\n\r\n\r\n    private void fetchDataWaterCount() {\r\n        currDate = null;\r\n        String uid = firebaseAuth.getUid();\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n            currDate = LocalDate.now().toString();\r\n        }\r\n        waterRef = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(uid).child(&quot;body&quot;).child(&quot;water&quot;);\r\n        waterRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.exists()) {\r\n                    for (DataSnapshot ds : snapshot.getChildren()) {\r\n                        waterModel = ds.getValue(WaterModel.class);\r\n                        waterArray.add(waterModel);\r\n                        waterModel.setWaterModelList(waterArray);\r\n                        ArrayList listDate = new ArrayList();\r\n                            for (int i = 0; i &lt; waterModel.getWaterModelList().size(); i++) {\r\n                                long dateList = waterModel.getWaterModelList().get(i).getDate();\r\n                                SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.US);\r\n                                String dateFormat = formatter.format(new Date(dateList));\r\n                                listDate.add(dateFormat);\r\n                                if(listDate.contains(currDate)){\r\n                                    int water_count = (int) listDate.size();\r\n                                    drawable = getActivity().getDrawable(R.drawable.circut_progress_bar);\r\n                                    progressBar.setProgress(water_count);\r\n                                    progressBar.setMax(12);\r\n                                    progressBar.setSecondaryProgress(water_count);\r\n                                    progressBar.setProgressDrawable(drawable);\r\n                                    textViewWaterCount.setText(String.valueOf(water_count));\r\n                                    if (water_count &gt;= 12) {\r\n                                        textViewWaterCount.setText(&quot;Done&quot;);\r\n                                        textViewWaterCount.setTextColor(getResources().getColor(R.color.colorGreen_900));\r\n                                        drawable = getActivity().getDrawable(R.drawable.circut_progressbar_green);\r\n                                        progressBar.setProgressDrawable(drawable);\r\n                                    }\r\n                                }\r\n                            }\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n","title":"How get counts of repeat elements in Array. Java","body":"<p>I need to get the count of records for the current day, from the database. The entries in the Firebase Realtime are in timestamp, I parse them using SimpleDateFormat.</p>\n<p>But I could not get the count of records, for example, for today's date. Tell me what to do? Thanks</p>\n<p><a href=\"https://i.stack.imgur.com/ucW9L.png\" rel=\"nofollow noreferrer\">IMAGE RECORDS IN FIREBASE REALTIME</a></p>\n<pre><code>private void fetchDataWaterCount() {\n    currDate = null;\n    String uid = firebaseAuth.getUid();\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n        currDate = LocalDate.now().toString();\n    }\n    waterRef = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(uid).child(&quot;body&quot;).child(&quot;water&quot;);\n    waterRef.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            if (snapshot.exists()) {\n                for (DataSnapshot ds : snapshot.getChildren()) {\n                    waterModel = ds.getValue(WaterModel.class);\n                    waterArray.add(waterModel);\n                    waterModel.setWaterModelList(waterArray);\n                    ArrayList listDate = new ArrayList();\n                        for (int i = 0; i &lt; waterModel.getWaterModelList().size(); i++) {\n                            long dateList = waterModel.getWaterModelList().get(i).getDate();\n                            SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.US);\n                            String dateFormat = formatter.format(new Date(dateList));\n                            listDate.add(dateFormat);\n                            if(listDate.contains(currDate)){\n                                int water_count = (int) listDate.size();\n                                drawable = getActivity().getDrawable(R.drawable.circut_progress_bar);\n                                progressBar.setProgress(water_count);\n                                progressBar.setMax(12);\n                                progressBar.setSecondaryProgress(water_count);\n                                progressBar.setProgressDrawable(drawable);\n                                textViewWaterCount.setText(String.valueOf(water_count));\n                                if (water_count &gt;= 12) {\n                                    textViewWaterCount.setText(&quot;Done&quot;);\n                                    textViewWaterCount.setTextColor(getResources().getColor(R.color.colorGreen_900));\n                                    drawable = getActivity().getDrawable(R.drawable.circut_progressbar_green);\n                                    progressBar.setProgressDrawable(drawable);\n                                }\n                            }\n                        }\n                }\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","animation","javafx"],"comments":[{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":1,"creation_date":1638117542,"post_id":70145365,"comment_id":123996683,"body_markdown":"Your code is working quite well for me. Java 8.","body":"Your code is working quite well for me. Java 8."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":3,"creation_date":1638117656,"post_id":70145365,"comment_id":123996712,"body_markdown":"[mcve] please (of the not-working :)","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please (of the not-working :)"},{"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"score":0,"creation_date":1638195965,"post_id":70145365,"comment_id":124016551,"body_markdown":"I added a reproductible example","body":"I added a reproductible example"}],"answers":[{"tags":[],"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638451649,"creation_date":1638451260,"answer_id":70200243,"question_id":70145365,"body_markdown":"I understood the problem: in fact it is because both the `StackPane` and `Group` will automatically update their layout when the children position or translation change. The solution is to not allow that.\r\n\r\nIt is simple for the `Group` because it has a `setAutoSizeChildren(boolean)` method.\r\n\r\nBut I had to create a subclass of `StackPane` to do the same thing:\r\n\r\n    private class MyStackPane extends StackPane {\r\n      private boolean allowLayoutChildren = true;\r\n\r\n      private MyStackPane(Node root) {\r\n         super(root);\r\n      }\r\n\r\n      private void allowLayoutChildren(boolean allow) {\r\n         this.allowLayoutChildren = allow;\r\n      }\r\n\r\n      @Override\r\n      public void layoutChildren() {\r\n         if (allowLayoutChildren) {\r\n            super.layoutChildren();\r\n         }\r\n      }\r\n    }\r\n\r\nThen the full (working) code is:\r\n\r\n    public class TestAnimationInScroll extends Application {\r\n       private Group root = null;\r\n\r\n       public static void main(String[] args) {\r\n         launch(args);\r\n       }\r\n\r\n       @Override\r\n       public void start(Stage primaryStage) {\r\n          Rectangle rect = new Rectangle(100, 100, 50, 50);\r\n          rect.setFill(Color.BLUE);\r\n          root = new Group();\r\n          root.getChildren().add(rect);\r\n\r\n          MyStackPane content = new MyStackPane(root);\r\n          root.layoutBoundsProperty().addListener((observable, oldBounds, newBounds) -&gt; {\r\n             content.setMinWidth(newBounds.getWidth());\r\n             content.setMinHeight(newBounds.getHeight());\r\n          });\r\n          ScrollPane scrollPane = new ScrollPane(content);\r\n          scrollPane.setPannable(true);\r\n          scrollPane.setFitToHeight(true);\r\n          scrollPane.setFitToWidth(true);\r\n          scrollPane.setPrefSize(500, 500);\r\n          root.setAutoSizeChildren(false);\r\n          content.allowLayoutChildren(false);\r\n\r\n          Timeline timeline = new Timeline();\r\n          KeyFrame kf0 = new KeyFrame(Duration.ZERO, new KeyValue(rect.xProperty(), 0));\r\n          KeyFrame kf1 = new KeyFrame(Duration.seconds(10), new KeyValue(rect.xProperty(), 100));\r\n          timeline.getKeyFrames().addAll(kf0, kf1);\r\n          timeline.play();\r\n\r\n          content.setOnScroll(new EventHandler&lt;ScrollEvent&gt;() {\r\n             @Override\r\n             public void handle(ScrollEvent event) {\r\n                double zoomFactor = 1.05;\r\n                double deltaY = event.getDeltaY();\r\n                if (deltaY &lt; 0) {\r\n                   zoomFactor = 1 / zoomFactor;\r\n                }\r\n                Bounds groupBounds = root.getBoundsInLocal();\r\n                final Bounds viewportBounds = scrollPane.getViewportBounds();\r\n\r\n                double valX = scrollPane.getHvalue() * (groupBounds.getWidth() - viewportBounds.getWidth());\r\n                double valY = scrollPane.getVvalue() * (groupBounds.getHeight() - viewportBounds.getHeight());\r\n                root.setScaleX(root.getScaleX() * zoomFactor);\r\n                root.setScaleY(root.getScaleY() * zoomFactor);\r\n\r\n                Point2D posInZoomTarget = root.parentToLocal(new Point2D(event.getX(), event.getY()));\r\n                Point2D adjustment = root.getLocalToParentTransform().deltaTransform(posInZoomTarget.multiply(zoomFactor - 1));\r\n                scrollPane.layout();\r\n                scrollPane.setViewportBounds(groupBounds);\r\n\r\n                groupBounds = root.getBoundsInLocal();\r\n                scrollPane.setHvalue((valX + adjustment.getX()) / (groupBounds.getWidth() - viewportBounds.getWidth()));\r\n                scrollPane.setVvalue((valY + adjustment.getY()) / (groupBounds.getHeight() - viewportBounds.getHeight()));\r\n             }\r\n          });\r\n\r\n          Scene scene = new Scene(scrollPane, 800, 600);\r\n          primaryStage.setScene(scene);\r\n\r\n          primaryStage.show();\r\n       }\r\n\r\n       private class MyStackPane extends StackPane {\r\n          private boolean allowLayoutChildren = true;\r\n\r\n          private MyStackPane(Node root) {\r\n             super(root);\r\n          }\r\n\r\n          private void allowLayoutChildren(boolean allow) {\r\n             this.allowLayoutChildren = allow;\r\n          }\r\n\r\n          @Override\r\n          public void layoutChildren() {\r\n             if (allowLayoutChildren) {\r\n                super.layoutChildren();\r\n             }\r\n          }\r\n\r\n       }\r\n\r\n      }","title":"JavaFX animation not moving the Node","body":"<p>I understood the problem: in fact it is because both the <code>StackPane</code> and <code>Group</code> will automatically update their layout when the children position or translation change. The solution is to not allow that.</p>\n<p>It is simple for the <code>Group</code> because it has a <code>setAutoSizeChildren(boolean)</code> method.</p>\n<p>But I had to create a subclass of <code>StackPane</code> to do the same thing:</p>\n<pre><code>private class MyStackPane extends StackPane {\n  private boolean allowLayoutChildren = true;\n\n  private MyStackPane(Node root) {\n     super(root);\n  }\n\n  private void allowLayoutChildren(boolean allow) {\n     this.allowLayoutChildren = allow;\n  }\n\n  @Override\n  public void layoutChildren() {\n     if (allowLayoutChildren) {\n        super.layoutChildren();\n     }\n  }\n}\n</code></pre>\n<p>Then the full (working) code is:</p>\n<pre><code>public class TestAnimationInScroll extends Application {\n   private Group root = null;\n\n   public static void main(String[] args) {\n     launch(args);\n   }\n\n   @Override\n   public void start(Stage primaryStage) {\n      Rectangle rect = new Rectangle(100, 100, 50, 50);\n      rect.setFill(Color.BLUE);\n      root = new Group();\n      root.getChildren().add(rect);\n\n      MyStackPane content = new MyStackPane(root);\n      root.layoutBoundsProperty().addListener((observable, oldBounds, newBounds) -&gt; {\n         content.setMinWidth(newBounds.getWidth());\n         content.setMinHeight(newBounds.getHeight());\n      });\n      ScrollPane scrollPane = new ScrollPane(content);\n      scrollPane.setPannable(true);\n      scrollPane.setFitToHeight(true);\n      scrollPane.setFitToWidth(true);\n      scrollPane.setPrefSize(500, 500);\n      root.setAutoSizeChildren(false);\n      content.allowLayoutChildren(false);\n\n      Timeline timeline = new Timeline();\n      KeyFrame kf0 = new KeyFrame(Duration.ZERO, new KeyValue(rect.xProperty(), 0));\n      KeyFrame kf1 = new KeyFrame(Duration.seconds(10), new KeyValue(rect.xProperty(), 100));\n      timeline.getKeyFrames().addAll(kf0, kf1);\n      timeline.play();\n\n      content.setOnScroll(new EventHandler&lt;ScrollEvent&gt;() {\n         @Override\n         public void handle(ScrollEvent event) {\n            double zoomFactor = 1.05;\n            double deltaY = event.getDeltaY();\n            if (deltaY &lt; 0) {\n               zoomFactor = 1 / zoomFactor;\n            }\n            Bounds groupBounds = root.getBoundsInLocal();\n            final Bounds viewportBounds = scrollPane.getViewportBounds();\n\n            double valX = scrollPane.getHvalue() * (groupBounds.getWidth() - viewportBounds.getWidth());\n            double valY = scrollPane.getVvalue() * (groupBounds.getHeight() - viewportBounds.getHeight());\n            root.setScaleX(root.getScaleX() * zoomFactor);\n            root.setScaleY(root.getScaleY() * zoomFactor);\n\n            Point2D posInZoomTarget = root.parentToLocal(new Point2D(event.getX(), event.getY()));\n            Point2D adjustment = root.getLocalToParentTransform().deltaTransform(posInZoomTarget.multiply(zoomFactor - 1));\n            scrollPane.layout();\n            scrollPane.setViewportBounds(groupBounds);\n\n            groupBounds = root.getBoundsInLocal();\n            scrollPane.setHvalue((valX + adjustment.getX()) / (groupBounds.getWidth() - viewportBounds.getWidth()));\n            scrollPane.setVvalue((valY + adjustment.getY()) / (groupBounds.getHeight() - viewportBounds.getHeight()));\n         }\n      });\n\n      Scene scene = new Scene(scrollPane, 800, 600);\n      primaryStage.setScene(scene);\n\n      primaryStage.show();\n   }\n\n   private class MyStackPane extends StackPane {\n      private boolean allowLayoutChildren = true;\n\n      private MyStackPane(Node root) {\n         super(root);\n      }\n\n      private void allowLayoutChildren(boolean allow) {\n         this.allowLayoutChildren = allow;\n      }\n\n      @Override\n      public void layoutChildren() {\n         if (allowLayoutChildren) {\n            super.layoutChildren();\n         }\n      }\n\n   }\n\n  }\n</code></pre>\n"}],"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70200243,"answer_count":1,"score":-1,"last_activity_date":1638451649,"creation_date":1638116893,"question_id":70145365,"body_markdown":"I am currently developing a small JavaFX library to show svg content. I am in the process of implementing animations. They work correctly, except for `animate` or `animateTransform` for x and y positions, and I don&#39;t understand why.\r\n\r\nWhen I am doing this, it works flawlessly:\r\n\r\n    public class TimelineTest extends Application {\r\n\r\n       public static void main(String[] args) {\r\n         launch(args);\r\n      }\r\n\r\n      public void start(Stage primaryStage) {\r\n         Group root = new Group();\r\n         Scene scene = new Scene(root, 800, 600);\r\n         primaryStage.setScene(scene);\r\n         Rectangle rect = new Rectangle(100, 100, 50, 50);\r\n         root.getChildren().add(rect);\r\n         rect.setFill(Color.BLUE);\r\n\r\n         Timeline timeline = new Timeline();\r\n         KeyFrame kf0 = new KeyFrame(Duration.ZERO, new KeyValue(rect.xProperty(), 0));\r\n         KeyFrame kf1 = new KeyFrame(Duration.seconds(10), new KeyValue(rect.xProperty(), 100));\r\n         timeline.getKeyFrames().addAll(kf0, kf1);\r\n         timeline.play();\r\n\r\n         primaryStage.show();\r\n      }\r\n   } \r\n\r\nBut when I am doing what I think is exactly the same thing in my library, the rectangle seems to twitch a little but not really move.\r\n\r\nMy code is:\r\n\r\n      WritableValue value = null;\r\n      switch (nodeName) {\r\n         case &quot;rect&quot;:\r\n            Rectangle rect = (Rectangle) node;\r\n            switch (attrName) {\r\n               case X:\r\n                  value = rect.xProperty();\r\n                  break;\r\n               case Y:\r\n                  value = rect.yProperty();\r\n                  break;\r\n               case WIDTH:\r\n                  value = rect.widthProperty();\r\n                  break;\r\n               case HEIGHT:\r\n                  value = rect.heightProperty();\r\n                  break;\r\n            }\r\n            break;\r\n      }  \r\n      Timeline timeline = new Timeline();\r\n      KeyValue fromValue = new KeyValue(value, 10);\r\n      KeyValue toValue = new KeyValue(value, 100);\r\n      KeyFrame fromFrame = new KeyFrame(Duration.ZERO, fromValue);\r\n      KeyFrame toFrame = new KeyFrame(Duration.seconds(10), toValue);\r\n      timeline.getKeyFrames().addAll(fromFrame, toFrame);\r\n\r\nStrangely when I&#39;m doing the same thing with the width or height property, it works without any problem.\r\n\r\nI suspect that my scene is not created correctly (I checked that I am doing all of this in the platform Thread), but everything else is working without any problem. \r\n\r\nIf I am trying to use a `TranslateTransition` instead, I have exactly the same problem.\r\n\r\nAfter some comments on this question here, I now undestand why I have this problem (but not how to fix it, at least for now). I put the JavaFX content in a ScrollPane. I did not think that it would be relevant in this case, but it is. The code is:\r\n\r\n         VBox vBox = new VBox(node);\r\n         vBox.setAlignment(Pos.CENTER);\r\n         Group group = new Group(vBox );\r\n         StackPane content = new StackPane(group);\r\n         group.layoutBoundsProperty().addListener((observable, oldBounds, newBounds) -&gt; {\r\n            content.setMinWidth(newBounds.getWidth());\r\n            content.setMinHeight(newBounds.getHeight());\r\n         });\r\n         ScrollPane scrollPane = new ScrollPane(content);\r\n         scrollPane.setPannable(true);\r\n         scrollPane.setFitToHeight(true);\r\n         scrollPane.setFitToWidth(true);\r\n         scrollPane.setPrefSize(500, 500);\r\n\r\nI used the following StackOverflow answer for the ScrollPane: https://stackoverflow.com/questions/38604780/javafx-zoom-scroll-in-scrollpane\r\n\r\nHere is a reproductible example showing everything:\r\n\r\n    public class TestAnimationInScroll extends Application {\r\n\r\n      public static void main(String[] args) {\r\n        launch(args);\r\n      }\r\n      public void start(Stage primaryStage) {\r\n         Rectangle rect = new Rectangle(100, 100, 50, 50);\r\n         rect.setFill(Color.BLUE);\r\n         Group root = new Group();\r\n         root.getChildren().add(rect);\r\n\r\n         VBox vBox = new VBox(root);\r\n         vBox.setAlignment(Pos.CENTER);\r\n         Group group = new Group(root);\r\n         StackPane content = new StackPane(group);\r\n         group.layoutBoundsProperty().addListener((observable, oldBounds, newBounds) -&gt; {\r\n            content.setMinWidth(newBounds.getWidth());\r\n            content.setMinHeight(newBounds.getHeight());\r\n         });\r\n         ScrollPane scrollPane = new ScrollPane(content);\r\n         scrollPane.setPannable(true);\r\n         scrollPane.setFitToHeight(true);\r\n         scrollPane.setFitToWidth(true);\r\n         scrollPane.setPrefSize(500, 500);\r\n\r\n         Timeline timeline = new Timeline();\r\n         KeyFrame kf0 = new KeyFrame(Duration.ZERO, new KeyValue(rect.xProperty(), 0));\r\n         KeyFrame kf1 = new KeyFrame(Duration.seconds(10), new KeyValue(rect.xProperty(), 100));\r\n         timeline.getKeyFrames().addAll(kf0, kf1);\r\n         timeline.play();\r\n\r\n         content.setOnScroll(new EventHandler&lt;ScrollEvent&gt;() {\r\n            public void handle(ScrollEvent event) {\r\n               double zoomFactor = 1.05;\r\n               double deltaY = event.getDeltaY();\r\n               if (deltaY &lt; 0) {\r\n                  zoomFactor = 1 / zoomFactor;\r\n               }\r\n               Bounds groupBounds = group.getBoundsInLocal();\r\n               final Bounds viewportBounds = scrollPane.getViewportBounds();\r\n\r\n               double valX = scrollPane.getHvalue() * (groupBounds.getWidth() - viewportBounds.getWidth());\r\n               double valY = scrollPane.getVvalue() * (groupBounds.getHeight() - viewportBounds.getHeight());\r\n               group.setScaleX(group.getScaleX() * zoomFactor);\r\n               group.setScaleY(group.getScaleY() * zoomFactor);\r\n\r\n               Point2D posInZoomTarget = group.parentToLocal(new Point2D(event.getX(), event.getY()));\r\n               Point2D adjustment = group.getLocalToParentTransform().deltaTransform(posInZoomTarget.multiply(zoomFactor - 1));\r\n               scrollPane.layout();\r\n               scrollPane.setViewportBounds(groupBounds);\r\n\r\n               groupBounds = group.getBoundsInLocal();\r\n               scrollPane.setHvalue((valX + adjustment.getX()) / (groupBounds.getWidth() - viewportBounds.getWidth()));\r\n               scrollPane.setVvalue((valY + adjustment.getY()) / (groupBounds.getHeight() - viewportBounds.getHeight()));\r\n            }\r\n         });\r\n\r\n         Scene scene = new Scene(scrollPane, 800, 600);\r\n         primaryStage.setScene(scene);\r\n         primaryStage.show();\r\n      }\r\n    }\r\n\r\nAs you can see, it is possible to zoom in the ScrollPane, but the effect of the animation is not visible.\r\n\r\nIf I use a ScaleTransition in the same context, it works, such as:\r\n\r\n    public class TestAnimationInScroll extends Application {\r\n      public static void main(String[] args) {\r\n        launch(args);\r\n      }\r\n      public void start(Stage primaryStage) {\r\n         Rectangle rect = new Rectangle(100, 100, 50, 50);\r\n         rect.setFill(Color.BLUE);\r\n         Group root = new Group();\r\n         root.getChildren().add(rect);\r\n\r\n         VBox vBox = new VBox(root);\r\n         vBox.setAlignment(Pos.CENTER);\r\n         Group group = new Group(root);\r\n         StackPane content = new StackPane(group);\r\n         group.layoutBoundsProperty().addListener((observable, oldBounds, newBounds) -&gt; {\r\n            content.setMinWidth(newBounds.getWidth());\r\n            content.setMinHeight(newBounds.getHeight());\r\n         });\r\n         ScrollPane scrollPane = new ScrollPane(content);\r\n         scrollPane.setPannable(true);\r\n         scrollPane.setFitToHeight(true);\r\n         scrollPane.setFitToWidth(true);\r\n         scrollPane.setPrefSize(500, 500);\r\n\r\n         ScaleTransition transition = new ScaleTransition(Duration.seconds(5), rect);\r\n         transition.setFromX(1d);\r\n         transition.setFromY(1d);\r\n         transition.setToX(3d);\r\n         transition.setToY(3d);\r\n         transition.play();\r\n\r\n         content.setOnScroll(new EventHandler&lt;ScrollEvent&gt;() {\r\n            public void handle(ScrollEvent event) {\r\n               double zoomFactor = 1.05;\r\n               double deltaY = event.getDeltaY();\r\n               if (deltaY &lt; 0) {\r\n                  zoomFactor = 1 / zoomFactor;\r\n               }\r\n               Bounds groupBounds = group.getBoundsInLocal();\r\n               final Bounds viewportBounds = scrollPane.getViewportBounds();\r\n\r\n               double valX = scrollPane.getHvalue() * (groupBounds.getWidth() - viewportBounds.getWidth());\r\n               double valY = scrollPane.getVvalue() * (groupBounds.getHeight() - viewportBounds.getHeight());\r\n               group.setScaleX(group.getScaleX() * zoomFactor);\r\n               group.setScaleY(group.getScaleY() * zoomFactor);\r\n\r\n               Point2D posInZoomTarget = group.parentToLocal(new Point2D(event.getX(), event.getY()));\r\n               Point2D adjustment = group.getLocalToParentTransform().deltaTransform(posInZoomTarget.multiply(zoomFactor - 1));\r\n               scrollPane.layout();\r\n               scrollPane.setViewportBounds(groupBounds);\r\n\r\n               groupBounds = group.getBoundsInLocal();\r\n               scrollPane.setHvalue((valX + adjustment.getX()) / (groupBounds.getWidth() - viewportBounds.getWidth()));\r\n               scrollPane.setVvalue((valY + adjustment.getY()) / (groupBounds.getHeight() - viewportBounds.getHeight()));\r\n            }\r\n         });\r\n\r\n         Scene scene = new Scene(scrollPane, 800, 600);\r\n         primaryStage.setScene(scene);\r\n         primaryStage.show();\r\n      }\r\n    }\r\n\r\nDo somebody have a clue of where is my mistake? Perhaps there is a way to still be able to pan and zoom in the scrollPane but still seeing correctly the animations?","title":"JavaFX animation not moving the Node","body":"<p>I am currently developing a small JavaFX library to show svg content. I am in the process of implementing animations. They work correctly, except for <code>animate</code> or <code>animateTransform</code> for x and y positions, and I don't understand why.</p>\n<p>When I am doing this, it works flawlessly:</p>\n<pre><code>public class TimelineTest extends Application {\n\n   public static void main(String[] args) {\n     launch(args);\n  }\n\n  public void start(Stage primaryStage) {\n     Group root = new Group();\n     Scene scene = new Scene(root, 800, 600);\n     primaryStage.setScene(scene);\n     Rectangle rect = new Rectangle(100, 100, 50, 50);\n     root.getChildren().add(rect);\n     rect.setFill(Color.BLUE);\n\n     Timeline timeline = new Timeline();\n     KeyFrame kf0 = new KeyFrame(Duration.ZERO, new KeyValue(rect.xProperty(), 0));\n     KeyFrame kf1 = new KeyFrame(Duration.seconds(10), new KeyValue(rect.xProperty(), 100));\n     timeline.getKeyFrames().addAll(kf0, kf1);\n     timeline.play();\n\n     primaryStage.show();\n  }\n</code></pre>\n<p>}</p>\n<p>But when I am doing what I think is exactly the same thing in my library, the rectangle seems to twitch a little but not really move.</p>\n<p>My code is:</p>\n<pre><code>  WritableValue value = null;\n  switch (nodeName) {\n     case &quot;rect&quot;:\n        Rectangle rect = (Rectangle) node;\n        switch (attrName) {\n           case X:\n              value = rect.xProperty();\n              break;\n           case Y:\n              value = rect.yProperty();\n              break;\n           case WIDTH:\n              value = rect.widthProperty();\n              break;\n           case HEIGHT:\n              value = rect.heightProperty();\n              break;\n        }\n        break;\n  }  \n  Timeline timeline = new Timeline();\n  KeyValue fromValue = new KeyValue(value, 10);\n  KeyValue toValue = new KeyValue(value, 100);\n  KeyFrame fromFrame = new KeyFrame(Duration.ZERO, fromValue);\n  KeyFrame toFrame = new KeyFrame(Duration.seconds(10), toValue);\n  timeline.getKeyFrames().addAll(fromFrame, toFrame);\n</code></pre>\n<p>Strangely when I'm doing the same thing with the width or height property, it works without any problem.</p>\n<p>I suspect that my scene is not created correctly (I checked that I am doing all of this in the platform Thread), but everything else is working without any problem.</p>\n<p>If I am trying to use a <code>TranslateTransition</code> instead, I have exactly the same problem.</p>\n<p>After some comments on this question here, I now undestand why I have this problem (but not how to fix it, at least for now). I put the JavaFX content in a ScrollPane. I did not think that it would be relevant in this case, but it is. The code is:</p>\n<pre><code>     VBox vBox = new VBox(node);\n     vBox.setAlignment(Pos.CENTER);\n     Group group = new Group(vBox );\n     StackPane content = new StackPane(group);\n     group.layoutBoundsProperty().addListener((observable, oldBounds, newBounds) -&gt; {\n        content.setMinWidth(newBounds.getWidth());\n        content.setMinHeight(newBounds.getHeight());\n     });\n     ScrollPane scrollPane = new ScrollPane(content);\n     scrollPane.setPannable(true);\n     scrollPane.setFitToHeight(true);\n     scrollPane.setFitToWidth(true);\n     scrollPane.setPrefSize(500, 500);\n</code></pre>\n<p>I used the following StackOverflow answer for the ScrollPane: <a href=\"https://stackoverflow.com/questions/38604780/javafx-zoom-scroll-in-scrollpane\">JAVAFX zoom, scroll in ScrollPane</a></p>\n<p>Here is a reproductible example showing everything:</p>\n<pre><code>public class TestAnimationInScroll extends Application {\n\n  public static void main(String[] args) {\n    launch(args);\n  }\n  public void start(Stage primaryStage) {\n     Rectangle rect = new Rectangle(100, 100, 50, 50);\n     rect.setFill(Color.BLUE);\n     Group root = new Group();\n     root.getChildren().add(rect);\n\n     VBox vBox = new VBox(root);\n     vBox.setAlignment(Pos.CENTER);\n     Group group = new Group(root);\n     StackPane content = new StackPane(group);\n     group.layoutBoundsProperty().addListener((observable, oldBounds, newBounds) -&gt; {\n        content.setMinWidth(newBounds.getWidth());\n        content.setMinHeight(newBounds.getHeight());\n     });\n     ScrollPane scrollPane = new ScrollPane(content);\n     scrollPane.setPannable(true);\n     scrollPane.setFitToHeight(true);\n     scrollPane.setFitToWidth(true);\n     scrollPane.setPrefSize(500, 500);\n\n     Timeline timeline = new Timeline();\n     KeyFrame kf0 = new KeyFrame(Duration.ZERO, new KeyValue(rect.xProperty(), 0));\n     KeyFrame kf1 = new KeyFrame(Duration.seconds(10), new KeyValue(rect.xProperty(), 100));\n     timeline.getKeyFrames().addAll(kf0, kf1);\n     timeline.play();\n\n     content.setOnScroll(new EventHandler&lt;ScrollEvent&gt;() {\n        public void handle(ScrollEvent event) {\n           double zoomFactor = 1.05;\n           double deltaY = event.getDeltaY();\n           if (deltaY &lt; 0) {\n              zoomFactor = 1 / zoomFactor;\n           }\n           Bounds groupBounds = group.getBoundsInLocal();\n           final Bounds viewportBounds = scrollPane.getViewportBounds();\n\n           double valX = scrollPane.getHvalue() * (groupBounds.getWidth() - viewportBounds.getWidth());\n           double valY = scrollPane.getVvalue() * (groupBounds.getHeight() - viewportBounds.getHeight());\n           group.setScaleX(group.getScaleX() * zoomFactor);\n           group.setScaleY(group.getScaleY() * zoomFactor);\n\n           Point2D posInZoomTarget = group.parentToLocal(new Point2D(event.getX(), event.getY()));\n           Point2D adjustment = group.getLocalToParentTransform().deltaTransform(posInZoomTarget.multiply(zoomFactor - 1));\n           scrollPane.layout();\n           scrollPane.setViewportBounds(groupBounds);\n\n           groupBounds = group.getBoundsInLocal();\n           scrollPane.setHvalue((valX + adjustment.getX()) / (groupBounds.getWidth() - viewportBounds.getWidth()));\n           scrollPane.setVvalue((valY + adjustment.getY()) / (groupBounds.getHeight() - viewportBounds.getHeight()));\n        }\n     });\n\n     Scene scene = new Scene(scrollPane, 800, 600);\n     primaryStage.setScene(scene);\n     primaryStage.show();\n  }\n}\n</code></pre>\n<p>As you can see, it is possible to zoom in the ScrollPane, but the effect of the animation is not visible.</p>\n<p>If I use a ScaleTransition in the same context, it works, such as:</p>\n<pre><code>public class TestAnimationInScroll extends Application {\n  public static void main(String[] args) {\n    launch(args);\n  }\n  public void start(Stage primaryStage) {\n     Rectangle rect = new Rectangle(100, 100, 50, 50);\n     rect.setFill(Color.BLUE);\n     Group root = new Group();\n     root.getChildren().add(rect);\n\n     VBox vBox = new VBox(root);\n     vBox.setAlignment(Pos.CENTER);\n     Group group = new Group(root);\n     StackPane content = new StackPane(group);\n     group.layoutBoundsProperty().addListener((observable, oldBounds, newBounds) -&gt; {\n        content.setMinWidth(newBounds.getWidth());\n        content.setMinHeight(newBounds.getHeight());\n     });\n     ScrollPane scrollPane = new ScrollPane(content);\n     scrollPane.setPannable(true);\n     scrollPane.setFitToHeight(true);\n     scrollPane.setFitToWidth(true);\n     scrollPane.setPrefSize(500, 500);\n\n     ScaleTransition transition = new ScaleTransition(Duration.seconds(5), rect);\n     transition.setFromX(1d);\n     transition.setFromY(1d);\n     transition.setToX(3d);\n     transition.setToY(3d);\n     transition.play();\n\n     content.setOnScroll(new EventHandler&lt;ScrollEvent&gt;() {\n        public void handle(ScrollEvent event) {\n           double zoomFactor = 1.05;\n           double deltaY = event.getDeltaY();\n           if (deltaY &lt; 0) {\n              zoomFactor = 1 / zoomFactor;\n           }\n           Bounds groupBounds = group.getBoundsInLocal();\n           final Bounds viewportBounds = scrollPane.getViewportBounds();\n\n           double valX = scrollPane.getHvalue() * (groupBounds.getWidth() - viewportBounds.getWidth());\n           double valY = scrollPane.getVvalue() * (groupBounds.getHeight() - viewportBounds.getHeight());\n           group.setScaleX(group.getScaleX() * zoomFactor);\n           group.setScaleY(group.getScaleY() * zoomFactor);\n\n           Point2D posInZoomTarget = group.parentToLocal(new Point2D(event.getX(), event.getY()));\n           Point2D adjustment = group.getLocalToParentTransform().deltaTransform(posInZoomTarget.multiply(zoomFactor - 1));\n           scrollPane.layout();\n           scrollPane.setViewportBounds(groupBounds);\n\n           groupBounds = group.getBoundsInLocal();\n           scrollPane.setHvalue((valX + adjustment.getX()) / (groupBounds.getWidth() - viewportBounds.getWidth()));\n           scrollPane.setVvalue((valY + adjustment.getY()) / (groupBounds.getHeight() - viewportBounds.getHeight()));\n        }\n     });\n\n     Scene scene = new Scene(scrollPane, 800, 600);\n     primaryStage.setScene(scene);\n     primaryStage.show();\n  }\n}\n</code></pre>\n<p>Do somebody have a clue of where is my mistake? Perhaps there is a way to still be able to pan and zoom in the scrollPane but still seeing correctly the animations?</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1638452763,"post_id":70200328,"comment_id":124095611,"body_markdown":"See if this gives you ideas also, https://callistaenterprise.se/blogg/teknik/2020/10/10/multi-tenancy-with-spring-boot-part4/","body":"See if this gives you ideas also, <a href=\"https://callistaenterprise.se/blogg/teknik/2020/10/10/multi-tenancy-with-spring-boot-part4/\" rel=\"nofollow noreferrer\">callistaenterprise.se/blogg/teknik/2020/10/10/&hellip;</a>"},{"owner":{"account_id":1685228,"reputation":1255,"user_id":1548679,"display_name":"sascha10000"},"score":1,"creation_date":1638453725,"post_id":70200328,"comment_id":124096037,"body_markdown":"Thanks. This is basically going in the same direction. But it is a lot boilerplate... Phew. I was also searching for the right word not thinking of multi-tenancy with that on my hand I found https://github.com/arun2pratap/multitenant-spring-mongodb .","body":"Thanks. This is basically going in the same direction. But it is a lot boilerplate... Phew. I was also searching for the right word not thinking of multi-tenancy with that on my hand I found <a href=\"https://github.com/arun2pratap/multitenant-spring-mongodb\" rel=\"nofollow noreferrer\">github.com/arun2pratap/multitenant-spring-mongodb</a> ."}],"owner":{"account_id":1685228,"reputation":1255,"user_id":1548679,"display_name":"sascha10000"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638451598,"creation_date":1638451598,"question_id":70200328,"body_markdown":"Iam running a Spring Boot application accessing MongoDB by implementing MongoRepository as described in the docs.\r\n\r\nFollowing problem: I have the requirment to switch the collection name depending on the user who is accessing the data due to data security and control mechanisms. If user &quot;A&quot; wants to get &quot;Product&quot; collection he may access &quot;products_a&quot;. For another user &quot;B&quot; wanting to get &quot;Product&quot; he may access &quot;products_b&quot;. \r\n\r\na)\r\nI have seen solutions using SpEL but they seem not to be threadsafe meaning that users could interfere with each others data. The solution was to enhance the repository class with methods get, setCollectionName. https://stackoverflow.com/a/51095058/1548679\r\n\r\nb)\r\nManage multiple instances of the ProductRepository with different collectionNames. User requests a product, at that time the service knows which &quot;data-realm&quot; the user belongs to and has determined the correct collection name (e.g. &quot;products_xyz&quot;). A service to get the ProductRepository is now used which will look up the instance that is bound to &quot;products_xyz&quot; and returns it else it will be created and the instance added to the service for later access. Very simple implementation of https://en.wikipedia.org/wiki/Object_pool_pattern .\r\nI don&#39;t know if there is a better, more SpringBoot like solution but for me right now it seems to be the most tractable one. \r\n\r\nc)\r\nStart an own application instance per &quot;realm&quot;. One realm has a handful of users which have a common data access right. They access the same collections (e.g. products_a product_b but not both). So I could ramp up two SpringApplications. Problem: I would just pass the problem to the ServiceDiscovery and would unreasonably (at this moment at least) increase the servers&#39; load.\r\n \r\nActually I don&#39;t have any code on this issue by now but I&#39;ll start with b) in the mean-time. Reading docs and online ressources didn&#39;t bring me to a spring common solution. This is not a direct &quot;my code is not working question&quot;. It is more like &quot;is that really the way to code it&quot; question as Iam not really sure if there are any pitfalls or better ways.\r\n\r\nThanks in advance.","title":"Switching collection name at runtime with MongoDB and Spring Boot","body":"<p>Iam running a Spring Boot application accessing MongoDB by implementing MongoRepository as described in the docs.</p>\n<p>Following problem: I have the requirment to switch the collection name depending on the user who is accessing the data due to data security and control mechanisms. If user &quot;A&quot; wants to get &quot;Product&quot; collection he may access &quot;products_a&quot;. For another user &quot;B&quot; wanting to get &quot;Product&quot; he may access &quot;products_b&quot;.</p>\n<p>a)\nI have seen solutions using SpEL but they seem not to be threadsafe meaning that users could interfere with each others data. The solution was to enhance the repository class with methods get, setCollectionName. <a href=\"https://stackoverflow.com/a/51095058/1548679\">https://stackoverflow.com/a/51095058/1548679</a></p>\n<p>b)\nManage multiple instances of the ProductRepository with different collectionNames. User requests a product, at that time the service knows which &quot;data-realm&quot; the user belongs to and has determined the correct collection name (e.g. &quot;products_xyz&quot;). A service to get the ProductRepository is now used which will look up the instance that is bound to &quot;products_xyz&quot; and returns it else it will be created and the instance added to the service for later access. Very simple implementation of <a href=\"https://en.wikipedia.org/wiki/Object_pool_pattern\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Object_pool_pattern</a> .\nI don't know if there is a better, more SpringBoot like solution but for me right now it seems to be the most tractable one.</p>\n<p>c)\nStart an own application instance per &quot;realm&quot;. One realm has a handful of users which have a common data access right. They access the same collections (e.g. products_a product_b but not both). So I could ramp up two SpringApplications. Problem: I would just pass the problem to the ServiceDiscovery and would unreasonably (at this moment at least) increase the servers' load.</p>\n<p>Actually I don't have any code on this issue by now but I'll start with b) in the mean-time. Reading docs and online ressources didn't bring me to a spring common solution. This is not a direct &quot;my code is not working question&quot;. It is more like &quot;is that really the way to code it&quot; question as Iam not really sure if there are any pitfalls or better ways.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","visual-studio-code","glassfish","indexoutofboundsexception","payara-micro"],"comments":[{"owner":{"account_id":9757929,"reputation":712,"user_id":7233978,"display_name":"The 5th column mouse"},"score":0,"creation_date":1666278689,"post_id":70199843,"comment_id":130903697,"body_markdown":"Hi Rub&#233;n, I have the same issue with my Payara Micro. Did you find out what&#39;s caused the exceptions?","body":"Hi Rub&#233;n, I have the same issue with my Payara Micro. Did you find out what&#39;s caused the exceptions?"},{"owner":{"account_id":7831213,"reputation":21,"user_id":13217472,"display_name":"Rub&#233;n V&#225;squez"},"score":1,"creation_date":1700573901,"post_id":70199843,"comment_id":136669305,"body_markdown":"I ended up not using the plugin, and never managed to fix the error.","body":"I ended up not using the plugin, and never managed to fix the error."}],"owner":{"account_id":7831213,"reputation":21,"user_id":13217472,"display_name":"Rub&#233;n V&#225;squez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638451578,"creation_date":1638449562,"question_id":70199843,"body_markdown":"I&#39;m trying to debug a glassfish project on VsCode, I chose to run a micro payara from the extension and the executor service task gets an index out of bounds exception.\r\n\r\n```\r\n[2021-12-02T08:11:06.092-0400] [] [INFO] [NCLS-JMX-00006] [javax.enterprise.system.jmx] [tid: _ThreadID=88 _ThreadName=Thread-9] [timeMillis: 1638447066092] [levelValue: 800] JMXStartupService has disabled JMXConnector system\r\n\r\n[2021-12-02T08:11:32.329-0400] [] [SEVERE] [] [javax.enterprise.system.tools.deployment.common] [tid: _ThreadID=35 _ThreadName=payara-executor-service-task] [timeMillis: 1638447092329] [levelValue: 1000] [[\r\n  Exception while visiting jersey/repackaged/com/google/common/collect/AbstractMapBasedMultimap$RandomAccessWrappedList.class of size 2105\r\njava.lang.IndexOutOfBoundsException: Index: 3, Size: 3\r\n\tat java.util.ArrayList.rangeCheck(ArrayList.java:657)\r\n\tat java.util.ArrayList.get(ArrayList.java:433)\r\n\tat org.glassfish.hk2.classmodel.reflect.impl.MethodModelImpl.getParameter(MethodModelImpl.java:104)\r\n\tat org.glassfish.hk2.classmodel.reflect.impl.ModelClassVisitor$ModelMethodVisitor.visitParameterAnnotation(ModelClassVisitor.java:392)\r\n\tat org.objectweb.asm.ClassReader.readParameterAnnotations(ClassReader.java:2932)\r\n\tat org.objectweb.asm.ClassReader.readMethod(ClassReader.java:1467)\r\n\tat org.objectweb.asm.ClassReader.accept(ClassReader.java:717)\r\n\tat org.objectweb.asm.ClassReader.accept(ClassReader.java:401)\r\n\tat org.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336)\r\n\tat com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:165)\r\n\tat com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:127)\r\n\tat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\r\n\tat org.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\r\n\tat org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\r\n\tat org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n]]\r\n\r\n[2021-12-02T08:11:32.460-0400] [] [SEVERE] [] [javax.enterprise.system.tools.deployment.common] [tid: _ThreadID=35 _ThreadName=payara-executor-service-task] [timeMillis: 1638447092460] [levelValue: 1000] [[\r\n  Exception while visiting jersey/repackaged/com/google/common/collect/AbstractMapBasedMultimap$WrappedCollection.class of size 6672\r\njava.lang.IndexOutOfBoundsException: Index: 3, Size: 3\r\n\tat java.util.ArrayList.rangeCheck(ArrayList.java:657)\r\n\tat java.util.ArrayList.get(ArrayList.java:433)\r\n\tat org.glassfish.hk2.classmodel.reflect.impl.MethodModelImpl.getParameter(MethodModelImpl.java:104)\r\n\tat org.glassfish.hk2.classmodel.reflect.impl.ModelClassVisitor$ModelMethodVisitor.visitParameterAnnotation(ModelClassVisitor.java:392)\r\n\tat org.objectweb.asm.ClassReader.readParameterAnnotations(ClassReader.java:2932)\r\n\tat org.objectweb.asm.ClassReader.readMethod(ClassReader.java:1467)\r\n\tat org.objectweb.asm.ClassReader.accept(ClassReader.java:717)\r\n\tat org.objectweb.asm.ClassReader.accept(ClassReader.java:401)\r\n\tat org.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336)\r\n\tat com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:165)\r\n\tat com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:127)\r\n\tat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\r\n\tat org.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\r\n\tat org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\r\n\tat org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n]]\r\n\r\n[2021-12-02T08:11:32.495-0400] [] [SEVERE] [] [javax.enterprise.system.tools.deployment.common] [tid: _ThreadID=35 _ThreadName=payara-executor-service-task] [timeMillis: 1638447092495] [levelValue: 1000] [[\r\n  Exception while visiting jersey/repackaged/com/google/common/collect/AbstractMapBasedMultimap$WrappedList.class of size 5708\r\njava.lang.IndexOutOfBoundsException: Index: 3, Size: 3\r\n\tat java.util.ArrayList.rangeCheck(ArrayList.java:657)\r\n\tat java.util.ArrayList.get(ArrayList.java:433)\r\n\tat org.glassfish.hk2.classmodel.reflect.impl.MethodModelImpl.getParameter(MethodModelImpl.java:104)\r\n\tat org.glassfish.hk2.classmodel.reflect.impl.ModelClassVisitor$ModelMethodVisitor.visitParameterAnnotation(ModelClassVisitor.java:392)\r\n\tat org.objectweb.asm.ClassReader.readParameterAnnotations(ClassReader.java:2932)\r\n\tat org.objectweb.asm.ClassReader.readMethod(ClassReader.java:1467)\r\n\tat org.objectweb.asm.ClassReader.accept(ClassReader.java:717)\r\n\tat org.objectweb.asm.ClassReader.accept(ClassReader.java:401)\r\n\tat org.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336)\r\n\tat com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:165)\r\n\tat com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:127)\r\n\tat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\r\n\tat org.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\r\n\tat org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\r\n\tat org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n]]\r\n\r\n[2021-12-02T08:11:32.503-0400] [] [SEVERE] [] [javax.enterprise.system.tools.deployment.common] [tid: _ThreadID=35 _ThreadName=payara-executor-service-task] [timeMillis: 1638447092503] [levelValue: 1000] [[\r\n  Exception while visiting jersey/repackaged/com/google/common/collect/AbstractMapBasedMultimap$WrappedSortedSet.class of size 4003\r\njava.lang.IndexOutOfBoundsException: Index: 3, Size: 3\r\n\tat java.util.ArrayList.rangeCheck(ArrayList.java:657)\r\n\tat java.util.ArrayList.get(ArrayList.java:433)\r\n\tat org.glassfish.hk2.classmodel.reflect.impl.MethodModelImpl.getParameter(MethodModelImpl.java:104)\r\n\tat org.glassfish.hk2.classmodel.reflect.impl.ModelClassVisitor$ModelMethodVisitor.visitParameterAnnotation(ModelClassVisitor.java:392)\r\n\tat org.objectweb.asm.ClassReader.readParameterAnnotations(ClassReader.java:2932)\r\n\tat org.objectweb.asm.ClassReader.readMethod(ClassReader.java:1467)\r\n\tat org.objectweb.asm.ClassReader.accept(ClassReader.java:717)\r\n\tat org.objectweb.asm.ClassReader.accept(ClassReader.java:401)\r\n\tat org.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336)\r\n\tat com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:165)\r\n\tat com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:127)\r\n\tat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\r\n\tat org.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\r\n\tat org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\r\n\tat org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n]]\r\n```\r\n\r\nI&#39;m not sure if this has to do with the XML bind hack needed to run a Java8 project on VsCode since Payara Extension uses the env JAVA_HOME and JDK (which for the project should be Java8 but Java11 is needed as JAVA_HOME/JDK_HOME for Java extensions to work).\r\n\r\nEdit: the instance seems to keep running just fine despite the exception.\r\n\r\n```\r\n[2021-12-02T08:12:23.124-0400] [] [INFO] [] [PayaraMicro] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1638447143124] [levelValue: 800] \r\nPayara Micro URLs:\r\n\r\n\r\n\r\n[2021-12-02T08:12:23.127-0400] [] [INFO] [] [PayaraMicro] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1638447143127] [levelValue: 800] Payara Micro  5.2021.5 #badassmicrofish (build 770) ready in 111,507 (ms)\r\n```\r\n\r\nEdit: When executing:\r\n\r\n```\r\nmvn fish.payara.maven.plugins:payara-micro-maven-plugin:start -X\r\n```\r\n\r\nThe exception does not occur. So it seems it is a problem with the plugin.\r\n","title":"Payara micro on VsCode gets java.lang.IndexOutOfBoundsException","body":"<p>I'm trying to debug a glassfish project on VsCode, I chose to run a micro payara from the extension and the executor service task gets an index out of bounds exception.</p>\n<pre><code>[2021-12-02T08:11:06.092-0400] [] [INFO] [NCLS-JMX-00006] [javax.enterprise.system.jmx] [tid: _ThreadID=88 _ThreadName=Thread-9] [timeMillis: 1638447066092] [levelValue: 800] JMXStartupService has disabled JMXConnector system\n\n[2021-12-02T08:11:32.329-0400] [] [SEVERE] [] [javax.enterprise.system.tools.deployment.common] [tid: _ThreadID=35 _ThreadName=payara-executor-service-task] [timeMillis: 1638447092329] [levelValue: 1000] [[\n  Exception while visiting jersey/repackaged/com/google/common/collect/AbstractMapBasedMultimap$RandomAccessWrappedList.class of size 2105\njava.lang.IndexOutOfBoundsException: Index: 3, Size: 3\n    at java.util.ArrayList.rangeCheck(ArrayList.java:657)\n    at java.util.ArrayList.get(ArrayList.java:433)\n    at org.glassfish.hk2.classmodel.reflect.impl.MethodModelImpl.getParameter(MethodModelImpl.java:104)\n    at org.glassfish.hk2.classmodel.reflect.impl.ModelClassVisitor$ModelMethodVisitor.visitParameterAnnotation(ModelClassVisitor.java:392)\n    at org.objectweb.asm.ClassReader.readParameterAnnotations(ClassReader.java:2932)\n    at org.objectweb.asm.ClassReader.readMethod(ClassReader.java:1467)\n    at org.objectweb.asm.ClassReader.accept(ClassReader.java:717)\n    at org.objectweb.asm.ClassReader.accept(ClassReader.java:401)\n    at org.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336)\n    at com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:165)\n    at com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:127)\n    at org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\n    at org.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\n    at org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\n    at org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n]]\n\n[2021-12-02T08:11:32.460-0400] [] [SEVERE] [] [javax.enterprise.system.tools.deployment.common] [tid: _ThreadID=35 _ThreadName=payara-executor-service-task] [timeMillis: 1638447092460] [levelValue: 1000] [[\n  Exception while visiting jersey/repackaged/com/google/common/collect/AbstractMapBasedMultimap$WrappedCollection.class of size 6672\njava.lang.IndexOutOfBoundsException: Index: 3, Size: 3\n    at java.util.ArrayList.rangeCheck(ArrayList.java:657)\n    at java.util.ArrayList.get(ArrayList.java:433)\n    at org.glassfish.hk2.classmodel.reflect.impl.MethodModelImpl.getParameter(MethodModelImpl.java:104)\n    at org.glassfish.hk2.classmodel.reflect.impl.ModelClassVisitor$ModelMethodVisitor.visitParameterAnnotation(ModelClassVisitor.java:392)\n    at org.objectweb.asm.ClassReader.readParameterAnnotations(ClassReader.java:2932)\n    at org.objectweb.asm.ClassReader.readMethod(ClassReader.java:1467)\n    at org.objectweb.asm.ClassReader.accept(ClassReader.java:717)\n    at org.objectweb.asm.ClassReader.accept(ClassReader.java:401)\n    at org.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336)\n    at com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:165)\n    at com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:127)\n    at org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\n    at org.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\n    at org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\n    at org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n]]\n\n[2021-12-02T08:11:32.495-0400] [] [SEVERE] [] [javax.enterprise.system.tools.deployment.common] [tid: _ThreadID=35 _ThreadName=payara-executor-service-task] [timeMillis: 1638447092495] [levelValue: 1000] [[\n  Exception while visiting jersey/repackaged/com/google/common/collect/AbstractMapBasedMultimap$WrappedList.class of size 5708\njava.lang.IndexOutOfBoundsException: Index: 3, Size: 3\n    at java.util.ArrayList.rangeCheck(ArrayList.java:657)\n    at java.util.ArrayList.get(ArrayList.java:433)\n    at org.glassfish.hk2.classmodel.reflect.impl.MethodModelImpl.getParameter(MethodModelImpl.java:104)\n    at org.glassfish.hk2.classmodel.reflect.impl.ModelClassVisitor$ModelMethodVisitor.visitParameterAnnotation(ModelClassVisitor.java:392)\n    at org.objectweb.asm.ClassReader.readParameterAnnotations(ClassReader.java:2932)\n    at org.objectweb.asm.ClassReader.readMethod(ClassReader.java:1467)\n    at org.objectweb.asm.ClassReader.accept(ClassReader.java:717)\n    at org.objectweb.asm.ClassReader.accept(ClassReader.java:401)\n    at org.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336)\n    at com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:165)\n    at com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:127)\n    at org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\n    at org.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\n    at org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\n    at org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n]]\n\n[2021-12-02T08:11:32.503-0400] [] [SEVERE] [] [javax.enterprise.system.tools.deployment.common] [tid: _ThreadID=35 _ThreadName=payara-executor-service-task] [timeMillis: 1638447092503] [levelValue: 1000] [[\n  Exception while visiting jersey/repackaged/com/google/common/collect/AbstractMapBasedMultimap$WrappedSortedSet.class of size 4003\njava.lang.IndexOutOfBoundsException: Index: 3, Size: 3\n    at java.util.ArrayList.rangeCheck(ArrayList.java:657)\n    at java.util.ArrayList.get(ArrayList.java:433)\n    at org.glassfish.hk2.classmodel.reflect.impl.MethodModelImpl.getParameter(MethodModelImpl.java:104)\n    at org.glassfish.hk2.classmodel.reflect.impl.ModelClassVisitor$ModelMethodVisitor.visitParameterAnnotation(ModelClassVisitor.java:392)\n    at org.objectweb.asm.ClassReader.readParameterAnnotations(ClassReader.java:2932)\n    at org.objectweb.asm.ClassReader.readMethod(ClassReader.java:1467)\n    at org.objectweb.asm.ClassReader.accept(ClassReader.java:717)\n    at org.objectweb.asm.ClassReader.accept(ClassReader.java:401)\n    at org.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336)\n    at com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:165)\n    at com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:127)\n    at org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\n    at org.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\n    at org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\n    at org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n]]\n</code></pre>\n<p>I'm not sure if this has to do with the XML bind hack needed to run a Java8 project on VsCode since Payara Extension uses the env JAVA_HOME and JDK (which for the project should be Java8 but Java11 is needed as JAVA_HOME/JDK_HOME for Java extensions to work).</p>\n<p>Edit: the instance seems to keep running just fine despite the exception.</p>\n<pre><code>[2021-12-02T08:12:23.124-0400] [] [INFO] [] [PayaraMicro] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1638447143124] [levelValue: 800] \nPayara Micro URLs:\n\n\n\n[2021-12-02T08:12:23.127-0400] [] [INFO] [] [PayaraMicro] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1638447143127] [levelValue: 800] Payara Micro  5.2021.5 #badassmicrofish (build 770) ready in 111,507 (ms)\n</code></pre>\n<p>Edit: When executing:</p>\n<pre><code>mvn fish.payara.maven.plugins:payara-micro-maven-plugin:start -X\n</code></pre>\n<p>The exception does not occur. So it seems it is a problem with the plugin.</p>\n"},{"tags":["java","swing","jlist","listmodel"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":2,"creation_date":1561124635,"post_id":56704611,"comment_id":99972624,"body_markdown":"Where does the exception occur?","body":"Where does the exception occur?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1561125137,"post_id":56704611,"comment_id":99972893,"body_markdown":"Chances are, that somewhere in **your** code, you compute an invalid index, and use that. So, look carefully at the stack trace, and identify how/where **your** code shows up in that stack trace. I would be really really surprised if you found a bug in the java listmodel or jlist implementation. It is much more likely that some code of yours is &quot;off by one&quot;, thus leading to this exception.","body":"Chances are, that somewhere in <b>your</b> code, you compute an invalid index, and use that. So, look carefully at the stack trace, and identify how/where <b>your</b> code shows up in that stack trace. I would be really really surprised if you found a bug in the java listmodel or jlist implementation. It is much more likely that some code of yours is &quot;off by one&quot;, thus leading to this exception."},{"owner":{"account_id":9669088,"reputation":11,"user_id":7174683,"display_name":"rasweeny"},"score":0,"creation_date":1561126000,"post_id":56704611,"comment_id":99973383,"body_markdown":"I know what causes a arrayIndexOutOfBounds. The exception occurs when reading the file names in after 19 files have been added to the directory","body":"I know what causes a arrayIndexOutOfBounds. The exception occurs when reading the file names in after 19 files have been added to the directory"},{"owner":{"account_id":9669088,"reputation":11,"user_id":7174683,"display_name":"rasweeny"},"score":0,"creation_date":1561126378,"post_id":56704611,"comment_id":99973651,"body_markdown":"DefaultListModel is initiated without any size. I thought it would read the files in the directory and that would set the size.","body":"DefaultListModel is initiated without any size. I thought it would read the files in the directory and that would set the size."},{"owner":{"account_id":9669088,"reputation":11,"user_id":7174683,"display_name":"rasweeny"},"score":0,"creation_date":1561127482,"post_id":56704611,"comment_id":99974243,"body_markdown":"You were right. I set the size for fileList to 20. I could only read in 20 files.","body":"You were right. I set the size for fileList to 20. I could only read in 20 files."},{"owner":{"account_id":11797141,"reputation":584,"user_id":8631622,"display_name":"Pie"},"score":0,"creation_date":1561134483,"post_id":56704611,"comment_id":99977798,"body_markdown":"@rasweeny What caused the error","body":"@rasweeny What caused the error"}],"owner":{"account_id":9669088,"reputation":11,"user_id":7174683,"display_name":"rasweeny"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1561125051,"answer_count":0,"score":1,"last_activity_date":1638451531,"creation_date":1561124415,"question_id":56704611,"body_markdown":"I have a `DefautListModel` which reads file names from a directory. Whenever I have more than 19 files I get: \r\n\r\n    java.lang.ArrayIndexOutOfBoundsException: Index 20 out of bounds for length 20\r\n\r\nI tried `ensureCapacity()` for the `listModel`.\r\nI tried `setVisibleRowCount()` for the `Jlist`\r\n\r\nAny suggestions?\r\n\r\n        // get the file list\r\n        String[] newList = getFileList();\r\n        // create a list model\r\n        listModel = new DefaultListModel&lt;&gt;();\r\n        listModel.ensureCapacity( 1000 );\r\n        for (String s : newList) {\r\n          listModel.addElement(s);\r\n        }\r\n    \r\n        // add the model to the jlist\r\n        recipeList = new JList(listModel);\r\n        recipeList.setName( &quot;recipes&quot; );\r\n        recipeList.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);\r\n        recipeList.setLayoutOrientation(javax.swing.JList.VERTICAL);\r\n        recipeList.setVisibleRowCount( recipeList.getModel().getSize() );\r\n        JScrollPane toScroll = new JScrollPane( recipeList,\r\n                JScrollPane.VERTICAL_SCROLLBAR_ALWAYS,\r\n                JScrollPane.HORIZONTAL_SCROLLBAR_NEVER );","title":"jlist listModel arrayOutOfBounds at 20 items","body":"<p>I have a <code>DefautListModel</code> which reads file names from a directory. Whenever I have more than 19 files I get: </p>\n\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: Index 20 out of bounds for length 20\n</code></pre>\n\n<p>I tried <code>ensureCapacity()</code> for the <code>listModel</code>.\nI tried <code>setVisibleRowCount()</code> for the <code>Jlist</code></p>\n\n<p>Any suggestions?</p>\n\n<pre><code>    // get the file list\n    String[] newList = getFileList();\n    // create a list model\n    listModel = new DefaultListModel&lt;&gt;();\n    listModel.ensureCapacity( 1000 );\n    for (String s : newList) {\n      listModel.addElement(s);\n    }\n\n    // add the model to the jlist\n    recipeList = new JList(listModel);\n    recipeList.setName( \"recipes\" );\n    recipeList.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);\n    recipeList.setLayoutOrientation(javax.swing.JList.VERTICAL);\n    recipeList.setVisibleRowCount( recipeList.getModel().getSize() );\n    JScrollPane toScroll = new JScrollPane( recipeList,\n            JScrollPane.VERTICAL_SCROLLBAR_ALWAYS,\n            JScrollPane.HORIZONTAL_SCROLLBAR_NEVER );\n</code></pre>\n"},{"tags":["java","swing","arraylist","jlist","defaultlistmodel"],"answers":[{"tags":[],"owner":{"account_id":19217753,"reputation":131,"user_id":14042179,"display_name":"Karl H "},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635179463,"creation_date":1635179463,"answer_id":69711681,"question_id":69711135,"body_markdown":"Move this line     \r\n\r\n    //Instance the class\r\n    Cliente cliente1 = new Cliente(&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;);\r\n\r\nInto this method\r\n \r\n\r\n    btAgregarRegistro.addActionListener(new ActionListener()\r\n            {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e)\r\n                {\r\n    \r\n                //move it HERE\r\n    \r\n                    //Set the attributes to the object \r\n                    cliente1.setNombre(txNombre.getText());\r\n                    cliente1.setApellido(txApellido.getText());\r\n                    cliente1.setEmail(txEmail.getText());\r\n                    cliente1.setTelefono(txTelefono.getText());\r\n    \r\n                    //Add the object to the ArrayList\r\n                    arregloClientes.add(cliente1);\r\n    \r\n                    //Update the list\r\n                    actualizarLista();\r\n    \r\n                    //Clear textFields after adding the record\r\n                    blanquearCampos();\r\n                }\r\n            });\r\n\r\nWhat is happening is you are referencing the same object in memory and just changing its values. What you want to do is to create a new object every time you want to add a Client.\r\n","title":"Java Jframe issue updating Jlist replace entire list using arrayList of object","body":"<p>Move this line</p>\n<pre><code>//Instance the class\nCliente cliente1 = new Cliente(&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;);\n</code></pre>\n<p>Into this method</p>\n<pre><code>btAgregarRegistro.addActionListener(new ActionListener()\n        {\n            @Override\n            public void actionPerformed(ActionEvent e)\n            {\n\n            //move it HERE\n\n                //Set the attributes to the object \n                cliente1.setNombre(txNombre.getText());\n                cliente1.setApellido(txApellido.getText());\n                cliente1.setEmail(txEmail.getText());\n                cliente1.setTelefono(txTelefono.getText());\n\n                //Add the object to the ArrayList\n                arregloClientes.add(cliente1);\n\n                //Update the list\n                actualizarLista();\n\n                //Clear textFields after adding the record\n                blanquearCampos();\n            }\n        });\n</code></pre>\n<p>What is happening is you are referencing the same object in memory and just changing its values. What you want to do is to create a new object every time you want to add a Client.</p>\n"}],"owner":{"display_name":"user17242718"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69711681,"answer_count":1,"score":0,"last_activity_date":1638451497,"creation_date":1635177062,"question_id":69711135,"body_markdown":"this is my first time asking for help here, sorry if I did something wrong, let me know please. I&#39;m a native spanish speaker, sorry for some text being on spanish. I&#39;m just starting on java so if you see issues on my code (apart of what I&#39;m asking for) please let me know, thank you.\r\n\r\nExplaning the code:\r\nI have a form that gets four Strings by &quot;JtextFields&quot; and place them on the attributes of my object &quot;cliente1&quot; from the class &quot;Cliente&quot; just after you press a button (by btAgregarRegistro listener). Then I add the object to an arrayList \r\n```\r\n//Arraylist declaration\r\nprivate List&lt;Cliente&gt; arregloClientes = new ArrayList&lt;&gt;();\r\n\r\n//Add the object to the ArrayList\r\n                arregloClientes.add(cliente1);\r\n```\r\nand then I update the Jlist &quot;listClientes&quot; (on the function actualizarLista()) so you can see it on the form just after adding the record.\r\nThat update calls a method of the class (Cliente) getDatosClientes that brings all the attributes to the DefaultListModel and then shows it on the Jlist\r\nMy issue:\r\nWhen I add a new record, the last one I add, replace the entire list and so. So the first print of my method &quot;getDatosClientes()&quot; is good, but the second, replace the first one on the list. I would say the issue is on the update, but I&#39;ve tried a lot of things and nothing seems to work. I hope I explained myself propertly. Thank you very much!\r\n\r\nHere is all the code: \r\n\r\nMain.java (main)\r\n```\r\npackage nickoos;\r\n\r\npublic class Main\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        Formulario1();\r\n\r\n    }\r\n\r\n    public static void Formulario1()\r\n    {\r\n        Formulario frame1 = new Formulario(); //instanciar\r\n        frame1.setContentPane(new Formulario().getPanel()); //mostrar el panel\r\n        frame1.show();\r\n        frame1.setSize(800,600);\r\n        frame1.setLocation(600,230);\r\n    }\r\n\r\n}\r\n```\r\n\r\nCliente.java (class)\r\n```\r\npackage nickoos;\r\n\r\npublic class Cliente\r\n{\r\n    private String nombre;\r\n    private String apellido;\r\n    private String email;\r\n    private String telefono;\r\n\r\n    public Cliente(String nombre, String apellido, String email, String telefono)\r\n    {\r\n        this.nombre = nombre;\r\n        this.apellido = apellido;\r\n        this.email = email;\r\n        this.telefono = telefono;\r\n    }\r\n\r\n    public String getNombre() {\r\n        return nombre;\r\n    }\r\n\r\n    public void setNombre(String nombre) {\r\n        this.nombre = nombre;\r\n    }\r\n\r\n    public String getApellido() {\r\n        return apellido;\r\n    }\r\n\r\n    public void setApellido(String apellido) {\r\n        this.apellido = apellido;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getTelefono() {\r\n        return telefono;\r\n    }\r\n\r\n    public void setTelefono(String telefono) {\r\n        this.telefono = telefono;\r\n    }\r\n\r\n    public String getDatosClientes()\r\n    {\r\n        return &quot;Nombre: &quot; + getNombre() + &quot; Apellido: &quot; + getApellido() + &quot; Email: &quot; + getEmail() + &quot; Tel&#233;fono: &quot; + getTelefono();\r\n    }\r\n}\r\n```\r\n\r\nFormulario.java (form)\r\n\r\n```\r\npackage nickoos;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Formulario extends JFrame {\r\n    private JButton btAgregarRegistro;\r\n    private JPanel panel;\r\n    private JLabel lbTitulo;\r\n    private JLabel lbNombre;\r\n    private JTextField txNombre;\r\n    private JLabel lbApellido;\r\n    private JLabel lbInstrucciones;\r\n    private JLabel lbSimetria;\r\n    private JLabel lbEmail;\r\n    private JLabel lbTelefono;\r\n    private JTextField txApellido;\r\n    private JTextField txEmail;\r\n    private JTextField txTelefono;\r\n    private JList listClientes;\r\n    private JLabel lbSubtituloLista;\r\n    private JButton btEliminarRegistro;\r\n    private JButton btModificarRegistro;\r\n    private List&lt;Cliente&gt; arregloClientes = new ArrayList&lt;&gt;();\r\n\r\n    //Instance the class\r\n    Cliente cliente1 = new Cliente(&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;);\r\n\r\n\r\n    public JPanel getPanel() {\r\n        return panel;\r\n    }\r\n\r\n\r\n    public Formulario()\r\n    {\r\n        //Listener to add a record\r\n        btAgregarRegistro.addActionListener(new ActionListener()\r\n        {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e)\r\n            {\r\n\r\n                //Set the attributes to the object \r\n                cliente1.setNombre(txNombre.getText());\r\n                cliente1.setApellido(txApellido.getText());\r\n                cliente1.setEmail(txEmail.getText());\r\n                cliente1.setTelefono(txTelefono.getText());\r\n\r\n                //Add the object to the ArrayList\r\n                arregloClientes.add(cliente1);\r\n\r\n                //Update the list\r\n                actualizarLista();\r\n\r\n                //Clear textFields after adding the record\r\n                blanquearCampos();\r\n            }\r\n        });\r\n\r\n        //Listener &quot;delete&quot;\r\n        btEliminarRegistro.addActionListener(new ActionListener()\r\n        {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e)\r\n            {\r\n                int indice = listClientes.getSelectedIndex();\r\n                arregloClientes.remove(indice);\r\n                actualizarLista();\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    //Clear textFields\r\n    private void blanquearCampos()\r\n    {\r\n        txNombre.setText(&quot;&quot;);\r\n        txApellido.setText(&quot;&quot;);\r\n        txEmail.setText(&quot;&quot;);\r\n        txTelefono.setText(&quot;&quot;);\r\n    }\r\n\r\n    //Update list\r\n    private void actualizarLista()\r\n    {\r\n        DefaultListModel datos = new DefaultListModel();\r\n\r\n        for (int i = 0; i &lt; arregloClientes.size(); i++)\r\n        {\r\n            Cliente index = arregloClientes.get(i);\r\n            datos.addElement(index.getDatosClientes());\r\n        }\r\n        listClientes.setModel(datos);\r\n    }\r\n\r\n}\r\n\r\n```\r\n","title":"Java Jframe issue updating Jlist replace entire list using arrayList of object","body":"<p>this is my first time asking for help here, sorry if I did something wrong, let me know please. I'm a native spanish speaker, sorry for some text being on spanish. I'm just starting on java so if you see issues on my code (apart of what I'm asking for) please let me know, thank you.</p>\n<p>Explaning the code:\nI have a form that gets four Strings by &quot;JtextFields&quot; and place them on the attributes of my object &quot;cliente1&quot; from the class &quot;Cliente&quot; just after you press a button (by btAgregarRegistro listener). Then I add the object to an arrayList</p>\n<pre><code>//Arraylist declaration\nprivate List&lt;Cliente&gt; arregloClientes = new ArrayList&lt;&gt;();\n\n//Add the object to the ArrayList\n                arregloClientes.add(cliente1);\n</code></pre>\n<p>and then I update the Jlist &quot;listClientes&quot; (on the function actualizarLista()) so you can see it on the form just after adding the record.\nThat update calls a method of the class (Cliente) getDatosClientes that brings all the attributes to the DefaultListModel and then shows it on the Jlist\nMy issue:\nWhen I add a new record, the last one I add, replace the entire list and so. So the first print of my method &quot;getDatosClientes()&quot; is good, but the second, replace the first one on the list. I would say the issue is on the update, but I've tried a lot of things and nothing seems to work. I hope I explained myself propertly. Thank you very much!</p>\n<p>Here is all the code:</p>\n<p>Main.java (main)</p>\n<pre><code>package nickoos;\n\npublic class Main\n{\n    public static void main(String[] args)\n    {\n        Formulario1();\n\n    }\n\n    public static void Formulario1()\n    {\n        Formulario frame1 = new Formulario(); //instanciar\n        frame1.setContentPane(new Formulario().getPanel()); //mostrar el panel\n        frame1.show();\n        frame1.setSize(800,600);\n        frame1.setLocation(600,230);\n    }\n\n}\n</code></pre>\n<p>Cliente.java (class)</p>\n<pre><code>package nickoos;\n\npublic class Cliente\n{\n    private String nombre;\n    private String apellido;\n    private String email;\n    private String telefono;\n\n    public Cliente(String nombre, String apellido, String email, String telefono)\n    {\n        this.nombre = nombre;\n        this.apellido = apellido;\n        this.email = email;\n        this.telefono = telefono;\n    }\n\n    public String getNombre() {\n        return nombre;\n    }\n\n    public void setNombre(String nombre) {\n        this.nombre = nombre;\n    }\n\n    public String getApellido() {\n        return apellido;\n    }\n\n    public void setApellido(String apellido) {\n        this.apellido = apellido;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getTelefono() {\n        return telefono;\n    }\n\n    public void setTelefono(String telefono) {\n        this.telefono = telefono;\n    }\n\n    public String getDatosClientes()\n    {\n        return &quot;Nombre: &quot; + getNombre() + &quot; Apellido: &quot; + getApellido() + &quot; Email: &quot; + getEmail() + &quot; Teléfono: &quot; + getTelefono();\n    }\n}\n</code></pre>\n<p>Formulario.java (form)</p>\n<pre><code>package nickoos;\n\nimport javax.swing.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Formulario extends JFrame {\n    private JButton btAgregarRegistro;\n    private JPanel panel;\n    private JLabel lbTitulo;\n    private JLabel lbNombre;\n    private JTextField txNombre;\n    private JLabel lbApellido;\n    private JLabel lbInstrucciones;\n    private JLabel lbSimetria;\n    private JLabel lbEmail;\n    private JLabel lbTelefono;\n    private JTextField txApellido;\n    private JTextField txEmail;\n    private JTextField txTelefono;\n    private JList listClientes;\n    private JLabel lbSubtituloLista;\n    private JButton btEliminarRegistro;\n    private JButton btModificarRegistro;\n    private List&lt;Cliente&gt; arregloClientes = new ArrayList&lt;&gt;();\n\n    //Instance the class\n    Cliente cliente1 = new Cliente(&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;);\n\n\n    public JPanel getPanel() {\n        return panel;\n    }\n\n\n    public Formulario()\n    {\n        //Listener to add a record\n        btAgregarRegistro.addActionListener(new ActionListener()\n        {\n            @Override\n            public void actionPerformed(ActionEvent e)\n            {\n\n                //Set the attributes to the object \n                cliente1.setNombre(txNombre.getText());\n                cliente1.setApellido(txApellido.getText());\n                cliente1.setEmail(txEmail.getText());\n                cliente1.setTelefono(txTelefono.getText());\n\n                //Add the object to the ArrayList\n                arregloClientes.add(cliente1);\n\n                //Update the list\n                actualizarLista();\n\n                //Clear textFields after adding the record\n                blanquearCampos();\n            }\n        });\n\n        //Listener &quot;delete&quot;\n        btEliminarRegistro.addActionListener(new ActionListener()\n        {\n            @Override\n            public void actionPerformed(ActionEvent e)\n            {\n                int indice = listClientes.getSelectedIndex();\n                arregloClientes.remove(indice);\n                actualizarLista();\n\n            }\n        });\n    }\n\n    //Clear textFields\n    private void blanquearCampos()\n    {\n        txNombre.setText(&quot;&quot;);\n        txApellido.setText(&quot;&quot;);\n        txEmail.setText(&quot;&quot;);\n        txTelefono.setText(&quot;&quot;);\n    }\n\n    //Update list\n    private void actualizarLista()\n    {\n        DefaultListModel datos = new DefaultListModel();\n\n        for (int i = 0; i &lt; arregloClientes.size(); i++)\n        {\n            Cliente index = arregloClientes.get(i);\n            datos.addElement(index.getDatosClientes());\n        }\n        listClientes.setModel(datos);\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","spring-aop"],"comments":[{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":2,"creation_date":1638273969,"post_id":70167242,"comment_id":124039674,"body_markdown":"Could you try to limit the scope of your expression to specific classes that you want to advise ? example  `execution(* com.your.project..*(..))`","body":"Could you try to limit the scope of your expression to specific classes that you want to advise ? example  <code>execution(* com.your.project..*(..))</code>"}],"answers":[{"tags":[],"owner":{"account_id":7507527,"reputation":75,"user_id":5703598,"display_name":"Niko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638451154,"creation_date":1638451154,"answer_id":70200225,"question_id":70167242,"body_markdown":"Thanks to @R.G.\r\n\r\nThe solution is to be more specific when it comes to class definition. EG:\r\n\r\nexecution(* com.your.project..*(..))","title":"Is it possible to build a @AfterThrowing advice on any execution with a given exception type?","body":"<p>Thanks to @R.G.</p>\n<p>The solution is to be more specific when it comes to class definition. EG:</p>\n<p>execution(* com.your.project..*(..))</p>\n"}],"owner":{"account_id":7507527,"reputation":75,"user_id":5703598,"display_name":"Niko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70200225,"answer_count":1,"score":1,"last_activity_date":1638451154,"creation_date":1638265566,"question_id":70167242,"body_markdown":"So I have a working example of an advice that should run after an exception is thrown with a specific annotation above it. So ExtendedErrorHandling is the annotation used above a class and/or method. When that method returns a specific error of type ExtendedHttpResponseException, the advice should run.\r\n\r\nHowever, the original idea was to do this without annotations.\r\n\r\nAS-IS: \r\n\r\n    @AfterThrowing(pointcut = &quot;execution(* *(..)) &amp;&amp; (extendedThrowingInMethod() || extendedThrowingInClass())&quot;, throwing = &quot;ex&quot;)\r\n\r\nTO-BE: \r\n\r\n    @AfterThrowing(pointcut = &quot;execution(* *(..))&quot;, throwing = &quot;ex&quot;)\r\n\r\n When we try to achieve this, spring refuses to start, with a very generic error message &quot;tomcat could not startup&quot;, but also hinting that the advice isn&#39;t ok. \r\n\r\nThe error:\r\n\r\n    Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142)\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104)\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:473)\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:206)\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory$$FastClassBySpringCGLIB$$9c83fa9f.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n    \tat org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory$$EnhancerBySpringCGLIB$$78134ef1.getWebServer(&lt;generated&gt;)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)\r\n    \t... 78 more\r\n    Caused by: java.lang.IllegalStateException: StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[] failed to start\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.rethrowDeferredStartupExceptions(TomcatWebServer.java:187)\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)\r\n    \t... 96 more\r\n\r\n\r\n\r\nThe aspect completely: \r\n\r\n    @Aspect\r\n    @Component\r\n    public class ExtendedHttpResponseExceptionCatcherAdvisor {\r\n\r\n    @Pointcut(&quot;@annotation(com.atlascopco.common.dto.handlers.annotations.ExtendedErrorHandling)&quot;)\r\n    public void extendedThrowingInMethod() {\r\n\r\n    }\r\n\r\n    @Pointcut(&quot;@within(com.atlascopco.common.dto.handlers.annotations.ExtendedErrorHandling)&quot;)\r\n    public void extendedThrowingInClass() {\r\n\r\n    }\r\n\r\n    @AfterThrowing(pointcut = &quot;execution(* *(..)) &amp;&amp; (extendedThrowingInMethod() || extendedThrowingInClass())&quot;, throwing = &quot;ex&quot;)\r\n    public void handleThrownKnownExceptions(ExtendedHttpResponseException ex) {\r\n        ResponseContext responseContext = ResponseContextHolder.getResponseContext();\r\n        GenericHttpResponseModel responseModel = responseContext.getResponseModel();\r\n        responseModel.getErrors().add(ex);\r\n        responseContext.setResponseModel(responseModel);\r\n    }\r\n\r\n}\r\n\r\n\r\nSo the questions here are: Why does spring crash in the TO-BE situation? And is it possible to achieve the TO-BE situation without any problems, or do we run against some limitations?\r\n\r\nThanks for your help in advance!","title":"Is it possible to build a @AfterThrowing advice on any execution with a given exception type?","body":"<p>So I have a working example of an advice that should run after an exception is thrown with a specific annotation above it. So ExtendedErrorHandling is the annotation used above a class and/or method. When that method returns a specific error of type ExtendedHttpResponseException, the advice should run.</p>\n<p>However, the original idea was to do this without annotations.</p>\n<p>AS-IS:</p>\n<pre><code>@AfterThrowing(pointcut = &quot;execution(* *(..)) &amp;&amp; (extendedThrowingInMethod() || extendedThrowingInClass())&quot;, throwing = &quot;ex&quot;)\n</code></pre>\n<p>TO-BE:</p>\n<pre><code>@AfterThrowing(pointcut = &quot;execution(* *(..))&quot;, throwing = &quot;ex&quot;)\n</code></pre>\n<p>When we try to achieve this, spring refuses to start, with a very generic error message &quot;tomcat could not startup&quot;, but also hinting that the advice isn't ok.</p>\n<p>The error:</p>\n<pre><code>Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142)\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104)\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:473)\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:206)\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory$$FastClassBySpringCGLIB$$9c83fa9f.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory$$EnhancerBySpringCGLIB$$78134ef1.getWebServer(&lt;generated&gt;)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)\n    ... 78 more\nCaused by: java.lang.IllegalStateException: StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[] failed to start\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.rethrowDeferredStartupExceptions(TomcatWebServer.java:187)\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)\n    ... 96 more\n</code></pre>\n<p>The aspect completely:</p>\n<pre><code>@Aspect\n@Component\npublic class ExtendedHttpResponseExceptionCatcherAdvisor {\n\n@Pointcut(&quot;@annotation(com.atlascopco.common.dto.handlers.annotations.ExtendedErrorHandling)&quot;)\npublic void extendedThrowingInMethod() {\n\n}\n\n@Pointcut(&quot;@within(com.atlascopco.common.dto.handlers.annotations.ExtendedErrorHandling)&quot;)\npublic void extendedThrowingInClass() {\n\n}\n\n@AfterThrowing(pointcut = &quot;execution(* *(..)) &amp;&amp; (extendedThrowingInMethod() || extendedThrowingInClass())&quot;, throwing = &quot;ex&quot;)\npublic void handleThrownKnownExceptions(ExtendedHttpResponseException ex) {\n    ResponseContext responseContext = ResponseContextHolder.getResponseContext();\n    GenericHttpResponseModel responseModel = responseContext.getResponseModel();\n    responseModel.getErrors().add(ex);\n    responseContext.setResponseModel(responseModel);\n}\n</code></pre>\n<p>}</p>\n<p>So the questions here are: Why does spring crash in the TO-BE situation? And is it possible to achieve the TO-BE situation without any problems, or do we run against some limitations?</p>\n<p>Thanks for your help in advance!</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":3300108,"reputation":3814,"user_id":2776473,"accept_rate":25,"display_name":"Shmulik Klein"},"score":0,"creation_date":1537518678,"post_id":52439572,"comment_id":91822049,"body_markdown":"Can you please share your project&#39;s `pom.xml` ?","body":"Can you please share your project&#39;s <code>pom.xml</code> ?"},{"owner":{"account_id":14390873,"reputation":31,"user_id":10395494,"display_name":"Cyril"},"score":0,"creation_date":1537518925,"post_id":52439572,"comment_id":91822187,"body_markdown":"@ShmulikKlein I&#39;m not using Maven (work station not connected to the internet for confidentiality purpose)","body":"@ShmulikKlein I&#39;m not using Maven (work station not connected to the internet for confidentiality purpose)"},{"owner":{"account_id":11548488,"reputation":2162,"user_id":8461847,"display_name":"Vinko Vorih"},"score":0,"creation_date":1537519994,"post_id":52439572,"comment_id":91822783,"body_markdown":"have you consider using `cell.getCellType()` as switch attribute and in case use `Cell.CELL_TYPE_BOOLEAN`, `Cell.CELL_TYPE_NUMERIC`...","body":"have you consider using <code>cell.getCellType()</code> as switch attribute and in case use <code>Cell.CELL_TYPE_BOOLEAN</code>, <code>Cell.CELL_TYPE_NUMERIC</code>..."},{"owner":{"account_id":14390873,"reputation":31,"user_id":10395494,"display_name":"Cyril"},"score":0,"creation_date":1537520430,"post_id":52439572,"comment_id":91823022,"body_markdown":"@VinkoVorih these constants don&#39;t exist anymore in poi 4.0.0. Method cell.getCellType() returns CellType enum now. See https://bz.apache.org/bugzilla/show_bug.cgi?id=59791. Deprecated classes have been removed in 4.0.0.","body":"@VinkoVorih these constants don&#39;t exist anymore in poi 4.0.0. Method cell.getCellType() returns CellType enum now. See <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=59791\" rel=\"nofollow noreferrer\">bz.apache.org/bugzilla/show_bug.cgi?id=59791</a>. Deprecated classes have been removed in 4.0.0."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1537522899,"post_id":52439572,"comment_id":91824486,"body_markdown":"Seems it lacks `import org.apache.poi.ss.usermodel.CellType;`?","body":"Seems it lacks <code>import org.apache.poi.ss.usermodel.CellType;</code>?"},{"owner":{"account_id":14390873,"reputation":31,"user_id":10395494,"display_name":"Cyril"},"score":0,"creation_date":1537525097,"post_id":52439572,"comment_id":91825757,"body_markdown":"@AxelRichter I already tried that, but error still happens :(","body":"@AxelRichter I already tried that, but error still happens :("},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1537525673,"post_id":52439572,"comment_id":91826070,"body_markdown":"Please provide the complete code in your question. Else nobody will be able reproducing your issue.","body":"Please provide the complete code in your question. Else nobody will be able reproducing your issue."},{"owner":{"account_id":14390873,"reputation":31,"user_id":10395494,"display_name":"Cyril"},"score":0,"creation_date":1537528285,"post_id":52439572,"comment_id":91827579,"body_markdown":"@AxelRichter done :)","body":"@AxelRichter done :)"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1537529506,"post_id":52439572,"comment_id":91828272,"body_markdown":"Not reproducible for me. But if `switch (cell.getCellType())`...`case FORMULA` leads to cannot find symbol `FORMULA`, then `cell.getCellType()` does not return a `Enum CellType`. At least the compiler thinks it does not return a `Enum CellType`. So my suspicion is that there are artifacts of older versions of `apache poi` in the class path at compile time where `cell.getCellType()` had returned an `int`.","body":"Not reproducible for me. But if <code>switch (cell.getCellType())</code>...<code>case FORMULA</code> leads to cannot find symbol <code>FORMULA</code>, then <code>cell.getCellType()</code> does not return a <code>Enum CellType</code>. At least the compiler thinks it does not return a <code>Enum CellType</code>. So my suspicion is that there are artifacts of older versions of <code>apache poi</code> in the class path at compile time where <code>cell.getCellType()</code> had returned an <code>int</code>."}],"answers":[{"tags":[],"owner":{"account_id":14390873,"reputation":31,"user_id":10395494,"display_name":"Cyril"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1537531403,"creation_date":1537531403,"answer_id":52443377,"question_id":52439572,"body_markdown":"Thanks  to idea suggested by @AxelRichter in comments section, I found that I included a JAR (made by a colleague of mine) using an older version of POI (3.15). I upgraded this one to 4.0.0 too and voila !\r\nAt least i learned something today...\r\nThanks !","title":"Apache POI 4.0.0 compilation error on CellType","body":"<p>Thanks  to idea suggested by @AxelRichter in comments section, I found that I included a JAR (made by a colleague of mine) using an older version of POI (3.15). I upgraded this one to 4.0.0 too and voila !\nAt least i learned something today...\nThanks !</p>\n"}],"owner":{"account_id":14390873,"reputation":31,"user_id":10395494,"display_name":"Cyril"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52443377,"answer_count":1,"score":1,"last_activity_date":1638450961,"creation_date":1537518196,"question_id":52439572,"body_markdown":"Compilation fails with this error :\r\n\r\n    cannot find symbol\r\n    case FORMULA:\r\n    symbol: variable FORMULA\r\n\r\nThe same error occurs on next cases.\r\n\r\nI&#39;m using Apache POI 4.0.0 with Java 8.\r\n\r\nMy code is :\r\n\r\n    try (Workbook wb = WorkbookFactory.create(inputStream)) {\r\n        Sheet sheet = wb.getSheetAt(0);\r\n            for (Row row : sheet) {\r\n                for (Cell cell : row) {\r\n                    switch (cell.getCellType()) {\r\n                        case FORMULA:\r\n                            [code]\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n    }\r\n\r\nNote 1 : deployment to local GlassFish 4.1.2 from NetBeans 8.2 works, but build fails.\r\n\r\nNote 2 : If I replace &quot;getCellType&quot; with &quot;getCellTypeEnum&quot; (deprecated), build completes without error.\r\n\r\nVersions:\r\n\r\n* Java 1.8u172 (i586) / then Java 1.8u181 (i586)\r\n* poi-4.0.0\r\n* poi-ooxml-4.0.0\r\n* poi-ooxml-schemas-4.0.0\r\n* xmlbeans-3.0.1\r\n* commons-codec-1.11\r\n* commons-collections4-4.2\r\n* commons-logging-1.2\r\n* commons-math3-3.6.1\r\n* jsf-api-2.2.15\r\n* jsf-impl-2.2.15\r\n* primefaces-6.2.6 \r\n\r\n# Full code #\r\n\r\n### POIUtils.java ###\r\n\r\n    package fr.mycompany.config.files;\r\n    \r\n    import fr.mycompany.config.exception.MyAppException;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.time.LocalDate;\r\n    import java.time.ZoneId;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Locale;\r\n    import javax.faces.application.FacesMessage;\r\n    import org.apache.poi.EncryptedDocumentException;\r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.DataFormatter;\r\n    import org.apache.poi.ss.usermodel.DateUtil;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.usermodel.Sheet;\r\n    import org.apache.poi.ss.usermodel.Workbook;\r\n    import org.apache.poi.ss.usermodel.WorkbookFactory;\r\n    import org.apache.poi.ss.usermodel.CellType;\r\n    \r\n    public class POIUtils {\r\n        \r\n        public static List&lt;List&lt;String&gt;&gt; parseExcelFile(InputStream is) throws MyAppException {\r\n            \r\n            List&lt;List&lt;String&gt;&gt; lines = new ArrayList&lt;&gt;();\r\n            \r\n            try (Workbook wb = WorkbookFactory.create(is)) {\r\n                Sheet sheet = wb.getSheetAt(0);\r\n                DataFormatter df = new DataFormatter(true);\r\n                int numRow = 0;\r\n                for (Row row : sheet) {\r\n                    int numCol = 0;\r\n                    List&lt;String&gt; currentLine = new ArrayList&lt;&gt;();\r\n                    for (Cell cell : row) {\r\n                        switch (cell.getCellType()) {\r\n                            case FORMULA:\r\n                                currentLine.add(numCol, &quot;&quot;);\r\n                                break;\r\n                            case NUMERIC:\r\n                                if (DateUtil.isCellDateFormatted(cell)) {\r\n                                    LocalDate ld = cell.getDateCellValue().toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\r\n                                    String frLocalDate = ld.format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;, Locale.FRANCE));\r\n                                    currentLine.add(numCol, frLocalDate);\r\n                                } else {\r\n                                    String cellValue = df.formatCellValue(cell);\r\n                                    currentLine.add(numCol, cellValue);\r\n                                }\r\n                                break;\r\n                            default:\r\n                                String cellValue = df.formatCellValue(cell);\r\n                                currentLine.add(numCol, cellValue);\r\n                                break;\r\n                        }\r\n                        numCol++;\r\n                    }\r\n                    while (row.getRowNum() &gt; numRow) {\r\n                        lines.add(new ArrayList&lt;&gt;());\r\n                        numRow++;\r\n                    }\r\n                    lines.add(row.getRowNum(), currentLine);\r\n                    numRow++;\r\n                }\r\n                if (lines.isEmpty()) {\r\n                    throw new MyAppException(FacesMessage.SEVERITY_WARN, &quot;Le fichier est vide.&quot;);\r\n                }\r\n            } catch (IOException ex) {\r\n                throw new MyAppException(FacesMessage.SEVERITY_FATAL, &quot;Une erreur est survenue lors du traitement du fichier.&quot;, ex);\r\n            } catch (EncryptedDocumentException ex) {\r\n                throw new MyAppException(FacesMessage.SEVERITY_FATAL, &quot;Le fichier est prot&#233;g&#233; par un mot de passe et n&#39;a pas pu &#234;tre lu.&quot;, ex);\r\n            }\r\n            \r\n            return lines;\r\n            \r\n        }    \r\n        \r\n    }\r\n\r\n### FileImportBean.java ###\r\n\r\n    package fr.mycompany.coordination;\r\n    \r\n    import fr.mycompany.config.exception.MyAppException;\r\n    import fr.mycompany.config.files.POIUtils;\r\n    import java.io.Serializable;\r\n    import java.io.IOException;\r\n    import javax.faces.application.FacesMessage;\r\n    import javax.inject.Named;\r\n    import javax.faces.view.ViewScoped;\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    import org.apache.poi.poifs.filesystem.FileMagic;\r\n    import org.primefaces.event.FileUploadEvent;\r\n    import org.primefaces.event.UploadedFile;\r\n    \r\n    @Named\r\n    @ViewScoped\r\n    public class FileImportBean implements Serializable {\r\n    \r\n    \tprivate transient UploadedFile file;\r\n    \tprivate List&lt;List&lt;String&gt;&gt; parsedContent = new ArrayList&lt;&gt;();\r\n    \r\n    \tpublic void handleFileUpload (FileUploadEvent event) {\r\n    \t\ttry {\r\n    \t\t\tfile = event.getFile();\r\n    \t\t\tif (null != file) {\r\n    \t\t\t\tswitch (FileMagic.valueOf(FileMagic.prepareToCheckMagic(file.getInputstream()))) {\r\n    \t\t\t\t\tcase OOXML:\r\n    \t\t\t\t\t\tparsedContent = POIUtils.parseExcelFile(file.getInputstream());\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tdefault:\r\n    \t\t\t\t\t\t(new MyAppException(FacesMessage.SEVERITY_ERROR, &quot;Type de fichier non g&#233;r&#233;.&quot;, ex)).doFacesMessage();\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t}\r\n    \t\t} catch (IOException ex) {\r\n    \t\t\t(new MyAppException(FacesMessage.SEVERITY_FATAL, &quot;Une erreur est survenue lors du traitement du fichier.&quot;, ex)).doFacesMessage();\r\n    \t\t} catch (MyAppException ex) {\r\n    \t\t\tex.doFacesMessage();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n\r\n### fileImport.xhtml  ###\r\n\r\n    &lt;h:form enctype=&quot;multipart/form-data&quot;&gt;\r\n    \t&lt;p:messages showDetail=&quot;true&quot; /&gt;\r\n    \t&lt;p:fileUpload\r\n    \t\tmode=&quot;advanced&quot;\r\n    \t\tskinSimple=&quot;true&quot;\r\n    \t\tauto=&quot;true&quot;\r\n    \t\tmultiple=&quot;false&quot;\r\n    \t\trequired=&quot;true&quot;\r\n    \t\tupdate=&quot;@form&quot;\r\n    \t\tfileUploadListener=&quot;#{fileImportBean.handleFileUpload}&quot;\r\n    &lt;/h:form&gt;\r\n\r\n","title":"Apache POI 4.0.0 compilation error on CellType","body":"<p>Compilation fails with this error :</p>\n\n<pre><code>cannot find symbol\ncase FORMULA:\nsymbol: variable FORMULA\n</code></pre>\n\n<p>The same error occurs on next cases.</p>\n\n<p>I'm using Apache POI 4.0.0 with Java 8.</p>\n\n<p>My code is :</p>\n\n<pre><code>try (Workbook wb = WorkbookFactory.create(inputStream)) {\n    Sheet sheet = wb.getSheetAt(0);\n        for (Row row : sheet) {\n            for (Cell cell : row) {\n                switch (cell.getCellType()) {\n                    case FORMULA:\n                        [code]\n                        break;\n                }\n            }\n        }\n}\n</code></pre>\n\n<p>Note 1 : deployment to local GlassFish 4.1.2 from NetBeans 8.2 works, but build fails.</p>\n\n<p>Note 2 : If I replace \"getCellType\" with \"getCellTypeEnum\" (deprecated), build completes without error.</p>\n\n<p>Versions:</p>\n\n<ul>\n<li>Java 1.8u172 (i586) / then Java 1.8u181 (i586)</li>\n<li>poi-4.0.0</li>\n<li>poi-ooxml-4.0.0</li>\n<li>poi-ooxml-schemas-4.0.0</li>\n<li>xmlbeans-3.0.1</li>\n<li>commons-codec-1.11</li>\n<li>commons-collections4-4.2</li>\n<li>commons-logging-1.2</li>\n<li>commons-math3-3.6.1</li>\n<li>jsf-api-2.2.15</li>\n<li>jsf-impl-2.2.15</li>\n<li>primefaces-6.2.6 </li>\n</ul>\n\n<h1>Full code</h1>\n\n<h3>POIUtils.java</h3>\n\n<pre><code>package fr.mycompany.config.files;\n\nimport fr.mycompany.config.exception.MyAppException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.time.LocalDate;\nimport java.time.ZoneId;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Locale;\nimport javax.faces.application.FacesMessage;\nimport org.apache.poi.EncryptedDocumentException;\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.DataFormatter;\nimport org.apache.poi.ss.usermodel.DateUtil;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.ss.usermodel.Workbook;\nimport org.apache.poi.ss.usermodel.WorkbookFactory;\nimport org.apache.poi.ss.usermodel.CellType;\n\npublic class POIUtils {\n\n    public static List&lt;List&lt;String&gt;&gt; parseExcelFile(InputStream is) throws MyAppException {\n\n        List&lt;List&lt;String&gt;&gt; lines = new ArrayList&lt;&gt;();\n\n        try (Workbook wb = WorkbookFactory.create(is)) {\n            Sheet sheet = wb.getSheetAt(0);\n            DataFormatter df = new DataFormatter(true);\n            int numRow = 0;\n            for (Row row : sheet) {\n                int numCol = 0;\n                List&lt;String&gt; currentLine = new ArrayList&lt;&gt;();\n                for (Cell cell : row) {\n                    switch (cell.getCellType()) {\n                        case FORMULA:\n                            currentLine.add(numCol, \"\");\n                            break;\n                        case NUMERIC:\n                            if (DateUtil.isCellDateFormatted(cell)) {\n                                LocalDate ld = cell.getDateCellValue().toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\n                                String frLocalDate = ld.format(DateTimeFormatter.ofPattern(\"dd/MM/yyyy\", Locale.FRANCE));\n                                currentLine.add(numCol, frLocalDate);\n                            } else {\n                                String cellValue = df.formatCellValue(cell);\n                                currentLine.add(numCol, cellValue);\n                            }\n                            break;\n                        default:\n                            String cellValue = df.formatCellValue(cell);\n                            currentLine.add(numCol, cellValue);\n                            break;\n                    }\n                    numCol++;\n                }\n                while (row.getRowNum() &gt; numRow) {\n                    lines.add(new ArrayList&lt;&gt;());\n                    numRow++;\n                }\n                lines.add(row.getRowNum(), currentLine);\n                numRow++;\n            }\n            if (lines.isEmpty()) {\n                throw new MyAppException(FacesMessage.SEVERITY_WARN, \"Le fichier est vide.\");\n            }\n        } catch (IOException ex) {\n            throw new MyAppException(FacesMessage.SEVERITY_FATAL, \"Une erreur est survenue lors du traitement du fichier.\", ex);\n        } catch (EncryptedDocumentException ex) {\n            throw new MyAppException(FacesMessage.SEVERITY_FATAL, \"Le fichier est protégé par un mot de passe et n'a pas pu être lu.\", ex);\n        }\n\n        return lines;\n\n    }    \n\n}\n</code></pre>\n\n<h3>FileImportBean.java</h3>\n\n<pre><code>package fr.mycompany.coordination;\n\nimport fr.mycompany.config.exception.MyAppException;\nimport fr.mycompany.config.files.POIUtils;\nimport java.io.Serializable;\nimport java.io.IOException;\nimport javax.faces.application.FacesMessage;\nimport javax.inject.Named;\nimport javax.faces.view.ViewScoped;\nimport java.util.List;\nimport java.util.ArrayList;\nimport org.apache.poi.poifs.filesystem.FileMagic;\nimport org.primefaces.event.FileUploadEvent;\nimport org.primefaces.event.UploadedFile;\n\n@Named\n@ViewScoped\npublic class FileImportBean implements Serializable {\n\n    private transient UploadedFile file;\n    private List&lt;List&lt;String&gt;&gt; parsedContent = new ArrayList&lt;&gt;();\n\n    public void handleFileUpload (FileUploadEvent event) {\n        try {\n            file = event.getFile();\n            if (null != file) {\n                switch (FileMagic.valueOf(FileMagic.prepareToCheckMagic(file.getInputstream()))) {\n                    case OOXML:\n                        parsedContent = POIUtils.parseExcelFile(file.getInputstream());\n                        break;\n                    default:\n                        (new MyAppException(FacesMessage.SEVERITY_ERROR, \"Type de fichier non géré.\", ex)).doFacesMessage();\n                        break;\n                }\n            } else {\n            }\n        } catch (IOException ex) {\n            (new MyAppException(FacesMessage.SEVERITY_FATAL, \"Une erreur est survenue lors du traitement du fichier.\", ex)).doFacesMessage();\n        } catch (MyAppException ex) {\n            ex.doFacesMessage();\n        }\n    }\n\n}\n</code></pre>\n\n<h3>fileImport.xhtml</h3>\n\n<pre><code>&lt;h:form enctype=\"multipart/form-data\"&gt;\n    &lt;p:messages showDetail=\"true\" /&gt;\n    &lt;p:fileUpload\n        mode=\"advanced\"\n        skinSimple=\"true\"\n        auto=\"true\"\n        multiple=\"false\"\n        required=\"true\"\n        update=\"@form\"\n        fileUploadListener=\"#{fileImportBean.handleFileUpload}\"\n&lt;/h:form&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","http","tomcat","tcp"],"comments":[{"owner":{"account_id":3701398,"reputation":116662,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":0,"creation_date":1638463811,"post_id":70200120,"comment_id":124100991,"body_markdown":"*&quot; Incoming headers don&#39;t have any information about keep-alive&quot;* - for HTTP/1.1 the default is keep-alive, unless explicitly specified otherwise. Thus a HTTP/1.1 response with no Connection header is equivalent to having a Connection header of keep-alive.","body":"<i>&quot; Incoming headers don&#39;t have any information about keep-alive&quot;</i> - for HTTP/1.1 the default is keep-alive, unless explicitly specified otherwise. Thus a HTTP/1.1 response with no Connection header is equivalent to having a Connection header of keep-alive."},{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1638514198,"post_id":70200120,"comment_id":124113535,"body_markdown":"@SteffenUllrich thank you! I&#39;ve never known about it. You are absolutely right. Explanation on [wikipedia](https://en.wikipedia.org/wiki/HTTP_persistent_connection). Do you have any idea why then it creates TCP connections for each request (and why a browser doesn&#39;t do the same)?","body":"@SteffenUllrich thank you! I&#39;ve never known about it. You are absolutely right. Explanation on <a href=\"https://en.wikipedia.org/wiki/HTTP_persistent_connection\" rel=\"nofollow noreferrer\">wikipedia</a>. Do you have any idea why then it creates TCP connections for each request (and why a browser doesn&#39;t do the same)?"},{"owner":{"account_id":3701398,"reputation":116662,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":0,"creation_date":1638514854,"post_id":70200120,"comment_id":124113677,"body_markdown":"Hard to tell due to missing code for the actual request handling. But have a look at [How to get persistent HttpConnection with Apache HttpClient?](https://stackoverflow.com/questions/46053067/how-to-get-persistent-httpconnection-with-apache-httpclient). Note that with HTTP/2 multiple requests are sent in parallel over the same TCP connection while with HTTP/1.1 only one after the other. Thus you need to make sure to end the previous one properly before starting the next - otherwise it will need to create a new TCP connection.","body":"Hard to tell due to missing code for the actual request handling. But have a look at <a href=\"https://stackoverflow.com/questions/46053067/how-to-get-persistent-httpconnection-with-apache-httpclient\">How to get persistent HttpConnection with Apache HttpClient?</a>. Note that with HTTP/2 multiple requests are sent in parallel over the same TCP connection while with HTTP/1.1 only one after the other. Thus you need to make sure to end the previous one properly before starting the next - otherwise it will need to create a new TCP connection."},{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1638525236,"post_id":70200120,"comment_id":124116961,"body_markdown":"Thank you, I&#39;m working with `java client` instead of `apache client`, and the StackOverflow question (which you suggest) actually doesn&#39;t fit my problem. Also, I&#39;ve disabled parallel run, as you suggested, but the client with version HTTP_1_1 still creates a new TCP connection for each request.","body":"Thank you, I&#39;m working with <code>java client</code> instead of <code>apache client</code>, and the StackOverflow question (which you suggest) actually doesn&#39;t fit my problem. Also, I&#39;ve disabled parallel run, as you suggested, but the client with version HTTP_1_1 still creates a new TCP connection for each request."}],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":923,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638450687,"creation_date":1638450687,"question_id":70200120,"body_markdown":"I configured `java.net.http.HttpClient` as shown below:\r\n```java\r\nHttpClient client = HttpClient.newBuilder().version(HttpClient.Version.HTTP_1_1).build();\r\n```\r\nAlso, I have a simple `Spring Boot (Tomcat)` HTTP server, which is running on the `8080` port. For each request, I check incoming headers in a controller and the number of `TCP` connections using the next command: `lsof -i -P | grep &quot;TCP&quot; | grep &quot;8080&quot;`.\r\n 1. When I make a `GET` request from `client` then exactly one `TCP` connection is created for each request. Incoming headers don&#39;t have any information about `keep-alive`\r\n 2. When I try to set `keep-alive` header directly I got the [exception][1].\r\n```\r\nHttpRequest req = HttpRequest.newBuilder()\r\n                             .setHeader(&quot;Connection&quot;, &quot;Keep-Alive&quot;)\r\n                             .uri(uri)\r\n                             .build();\r\n```\r\n 3. When I make a `GET` request from a browser `(safari)` then the browser adds `keep-alive` headers to each request and only one `TCP` connection is created for multiply requests (as expected).\r\n 4. When I set version HTTP/2 and make the request from the client then only one `TCP` connection creates for all requests (as expected):\r\n```java\r\n HttpClient client = HttpClient.newBuilder().version(HttpClient.Version.HTTP_2).build();\r\n```\r\n\r\nAs described [here][2] - both HTTP/1.1 and HTTP/2 have `keep-alive` property which is enabled by default, but as you can see from the examples above it doesn&#39;t work for HTTP/1.1 in my case.\r\nDoes anyone know how to configure `HttpClient` properly? Or maybe, I&#39;m doing something wrong?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/52315472/how-to-customise-host-header-in-java-http-client\r\n  [2]: https://stackoverflow.com/questions/13677261/how-to-keep-httpclient-connection-keep-alive","title":"Java HttpClient doesn&#39;t keep TCP connection alive with HTTP/1.1 version","body":"<p>I configured <code>java.net.http.HttpClient</code> as shown below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpClient client = HttpClient.newBuilder().version(HttpClient.Version.HTTP_1_1).build();\n</code></pre>\n<p>Also, I have a simple <code>Spring Boot (Tomcat)</code> HTTP server, which is running on the <code>8080</code> port. For each request, I check incoming headers in a controller and the number of <code>TCP</code> connections using the next command: <code>lsof -i -P | grep &quot;TCP&quot; | grep &quot;8080&quot;</code>.</p>\n<ol>\n<li>When I make a <code>GET</code> request from <code>client</code> then exactly one <code>TCP</code> connection is created for each request. Incoming headers don't have any information about <code>keep-alive</code></li>\n<li>When I try to set <code>keep-alive</code> header directly I got the <a href=\"https://stackoverflow.com/questions/52315472/how-to-customise-host-header-in-java-http-client\">exception</a>.</li>\n</ol>\n<pre><code>HttpRequest req = HttpRequest.newBuilder()\n                             .setHeader(&quot;Connection&quot;, &quot;Keep-Alive&quot;)\n                             .uri(uri)\n                             .build();\n</code></pre>\n<ol start=\"3\">\n<li>When I make a <code>GET</code> request from a browser <code>(safari)</code> then the browser adds <code>keep-alive</code> headers to each request and only one <code>TCP</code> connection is created for multiply requests (as expected).</li>\n<li>When I set version HTTP/2 and make the request from the client then only one <code>TCP</code> connection creates for all requests (as expected):</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code> HttpClient client = HttpClient.newBuilder().version(HttpClient.Version.HTTP_2).build();\n</code></pre>\n<p>As described <a href=\"https://stackoverflow.com/questions/13677261/how-to-keep-httpclient-connection-keep-alive\">here</a> - both HTTP/1.1 and HTTP/2 have <code>keep-alive</code> property which is enabled by default, but as you can see from the examples above it doesn't work for HTTP/1.1 in my case.\nDoes anyone know how to configure <code>HttpClient</code> properly? Or maybe, I'm doing something wrong?</p>\n"},{"tags":["java","file","scala","relative-path","path-separator"],"comments":[{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1342375427,"post_id":11494177,"comment_id":15183274,"body_markdown":"Maybe I&#39;m missing something. Why can&#39;t you relativize the path and then use `toURI()` instead of using `toString()`?","body":"Maybe I&#39;m missing something. Why can&#39;t you relativize the path and then use <code>toURI()</code> instead of using <code>toString()</code>?"},{"owner":{"account_id":228721,"reputation":12704,"user_id":491216,"accept_rate":85,"display_name":"Malte Schwerhoff"},"score":0,"creation_date":1342377362,"post_id":11494177,"comment_id":15183684,"body_markdown":"I tried that, but then I get an absolute URI which looks like this: ``file:/C:/root/dir/foo/inc/``.","body":"I tried that, but then I get an absolute URI which looks like this: <code>file:&#47;C:&#47;root&#47;dir&#47;foo&#47;inc&#47;</code>."},{"owner":{"account_id":53937,"reputation":3385,"user_id":161298,"accept_rate":100,"display_name":"Ben Challenor"},"score":0,"creation_date":1370518592,"post_id":11494177,"comment_id":24494030,"body_markdown":"Thanks for mentioning `URI`. I didn&#39;t realize it could `resolve`, and it turns out that it is perfect for me.","body":"Thanks for mentioning <code>URI</code>. I didn&#39;t realize it could <code>resolve</code>, and it turns out that it is perfect for me."}],"answers":[{"tags":[],"owner":{"account_id":534975,"reputation":5561,"user_id":904692,"accept_rate":83,"display_name":"ioreskovic"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1342376951,"creation_date":1342376951,"answer_id":11494508,"question_id":11494177,"body_markdown":"You can fetch most of the system properties in Java. Take a look at this link:  \r\n  \r\nhttp://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\r\n\r\nYou want this:  \r\n  \r\n\r\n    Key: &quot;file.separator&quot;\r\n    Meaning: Character that separates components of a file path. This is &quot;/&quot; on UNIX and &quot;\\&quot; on Windows.\r\n\r\n    String sep = System.getProperty(&quot;path.separator&quot;);\r\n\r\n\r\n    ","title":"Java&#39;s File.toString or Path.toString with a specific path separator","body":"<p>You can fetch most of the system properties in Java. Take a look at this link:  </p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html</a></p>\n\n<p>You want this:  </p>\n\n<pre><code>Key: \"file.separator\"\nMeaning: Character that separates components of a file path. This is \"/\" on UNIX and \"\\\" on Windows.\n\nString sep = System.getProperty(\"path.separator\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1524556,"reputation":306,"user_id":1423314,"display_name":"IRQ"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1352472616,"creation_date":1352472616,"answer_id":13310250,"question_id":11494177,"body_markdown":"The Windows implementation of the Path interface stores the path internally as a string (at least in the [OpenJDK implementation][1]) and simply returns that representation when *toString()* is called. This means that no computation is involved and there is no chance to &quot;configure&quot; any path separator.\r\n\r\nFor this reason, I conclude that your solution is the currently the best option to solve your problem.\r\n\r\n\r\n[1]: http://hg.openjdk.java.net/jdk7/jdk7-gate/jdk/file/9b8c96f96a0f/src/windows/classes/sun/nio/fs/WindowsPath.java","title":"Java&#39;s File.toString or Path.toString with a specific path separator","body":"<p>The Windows implementation of the Path interface stores the path internally as a string (at least in the <a href=\"http://hg.openjdk.java.net/jdk7/jdk7-gate/jdk/file/9b8c96f96a0f/src/windows/classes/sun/nio/fs/WindowsPath.java\" rel=\"noreferrer\">OpenJDK implementation</a>) and simply returns that representation when <em>toString()</em> is called. This means that no computation is involved and there is no chance to \"configure\" any path separator.</p>\n\n<p>For this reason, I conclude that your solution is the currently the best option to solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459968718,"creation_date":1459968718,"answer_id":36459910,"question_id":11494177,"body_markdown":"I just ran into this issue. If you have a relative path, you can use the fact that `Path` is an `Iterable&lt;Path&gt;` of its elements, following an optional initial root element, and then can concatenate the pieces yourself with forward slashes. Unfortunately the root element can contain slashes, e.g. in Windows you get root elements like `c:\\` and `\\\\foo\\bar\\` (for UNC paths), so it seems like no matter what you still have to replace with forward slashes. But you *could* do something like this...\r\n\r\n    static public String pathToPortableString(Path p)\r\n    {\r\n        StringBuilder sb = new StringBuilder();\r\n        boolean first = true;\r\n        Path root = p.getRoot();\r\n        if (root != null)\r\n        {\r\n            sb.append(root.toString().replace(&#39;\\\\&#39;,&#39;/&#39;));\r\n            /* root elements appear to contain their\r\n             * own ending separator, so we don&#39;t set &quot;first&quot; to false\r\n             */            \r\n        }\r\n        for (Path element : p)\r\n        {\r\n           if (first)\r\n              first = false;\r\n           else\r\n              sb.append(&quot;/&quot;);\r\n           sb.append(element.toString());\r\n        }\r\n        return sb.toString();        \r\n    }\r\n\r\nand when I test it with this code:\r\n\r\n    static public void doit(String rawpath)\r\n    {\r\n        File f = new File(rawpath);\r\n        Path p = f.toPath();\r\n        System.out.println(&quot;Path: &quot;+p.toString());\r\n        System.out.println(&quot;      &quot;+pathToPortableString(p));\r\n    }\r\n\r\n    static public void main(String[] args) {\r\n        doit(&quot;\\\\\\\\quux\\\\foo\\\\bar\\\\baz.pdf&quot;);\r\n        doit(&quot;c:\\\\foo\\\\bar\\\\baz.pdf&quot;);\r\n        doit(&quot;\\\\foo\\\\bar\\\\baz.pdf&quot;);\r\n        doit(&quot;foo\\\\bar\\\\baz.pdf&quot;);\r\n        doit(&quot;bar\\\\baz.pdf&quot;);\r\n        doit(&quot;bar\\\\&quot;);\r\n        doit(&quot;bar&quot;);\r\n    }\r\n\r\nI get this:\r\n\r\n    Path: \\\\quux\\foo\\bar\\baz.pdf\r\n          //quux/foo/bar/baz.pdf\r\n    Path: c:\\foo\\bar\\baz.pdf\r\n          c:/foo/bar/baz.pdf\r\n    Path: \\foo\\bar\\baz.pdf\r\n          /foo/bar/baz.pdf\r\n    Path: foo\\bar\\baz.pdf\r\n          foo/bar/baz.pdf\r\n    Path: bar\\baz.pdf\r\n          bar/baz.pdf\r\n    Path: bar\r\n          bar\r\n    Path: bar\r\n          bar\r\n\r\nThe textual substitution of backslash with forward slash is definitely easier, but I have no idea whether it would break some devious edge case. (Can there be backslashes in Unix paths?)","title":"Java&#39;s File.toString or Path.toString with a specific path separator","body":"<p>I just ran into this issue. If you have a relative path, you can use the fact that <code>Path</code> is an <code>Iterable&lt;Path&gt;</code> of its elements, following an optional initial root element, and then can concatenate the pieces yourself with forward slashes. Unfortunately the root element can contain slashes, e.g. in Windows you get root elements like <code>c:\\</code> and <code>\\\\foo\\bar\\</code> (for UNC paths), so it seems like no matter what you still have to replace with forward slashes. But you <em>could</em> do something like this...</p>\n\n<pre><code>static public String pathToPortableString(Path p)\n{\n    StringBuilder sb = new StringBuilder();\n    boolean first = true;\n    Path root = p.getRoot();\n    if (root != null)\n    {\n        sb.append(root.toString().replace('\\\\','/'));\n        /* root elements appear to contain their\n         * own ending separator, so we don't set \"first\" to false\n         */            \n    }\n    for (Path element : p)\n    {\n       if (first)\n          first = false;\n       else\n          sb.append(\"/\");\n       sb.append(element.toString());\n    }\n    return sb.toString();        \n}\n</code></pre>\n\n<p>and when I test it with this code:</p>\n\n<pre><code>static public void doit(String rawpath)\n{\n    File f = new File(rawpath);\n    Path p = f.toPath();\n    System.out.println(\"Path: \"+p.toString());\n    System.out.println(\"      \"+pathToPortableString(p));\n}\n\nstatic public void main(String[] args) {\n    doit(\"\\\\\\\\quux\\\\foo\\\\bar\\\\baz.pdf\");\n    doit(\"c:\\\\foo\\\\bar\\\\baz.pdf\");\n    doit(\"\\\\foo\\\\bar\\\\baz.pdf\");\n    doit(\"foo\\\\bar\\\\baz.pdf\");\n    doit(\"bar\\\\baz.pdf\");\n    doit(\"bar\\\\\");\n    doit(\"bar\");\n}\n</code></pre>\n\n<p>I get this:</p>\n\n<pre><code>Path: \\\\quux\\foo\\bar\\baz.pdf\n      //quux/foo/bar/baz.pdf\nPath: c:\\foo\\bar\\baz.pdf\n      c:/foo/bar/baz.pdf\nPath: \\foo\\bar\\baz.pdf\n      /foo/bar/baz.pdf\nPath: foo\\bar\\baz.pdf\n      foo/bar/baz.pdf\nPath: bar\\baz.pdf\n      bar/baz.pdf\nPath: bar\n      bar\nPath: bar\n      bar\n</code></pre>\n\n<p>The textual substitution of backslash with forward slash is definitely easier, but I have no idea whether it would break some devious edge case. (Can there be backslashes in Unix paths?)</p>\n"},{"tags":[],"owner":{"account_id":3507519,"reputation":448,"user_id":2932714,"accept_rate":29,"display_name":"RekaB"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638450659,"creation_date":1638450659,"answer_id":70200108,"question_id":11494177,"body_markdown":"Building on the `iterator` idea (my problem is similar: need the path for a web page, but it has to be relative and start with a slash)\r\n\r\n```\r\nStringBuilder foo = new StringBuilder();\r\nrelative.iterator().forEachRemaining(part -&gt; foo.append(&quot;/&quot;).append(part));\r\n```\r\n\r\n`foo` will contain the appropriate path.","title":"Java&#39;s File.toString or Path.toString with a specific path separator","body":"<p>Building on the <code>iterator</code> idea (my problem is similar: need the path for a web page, but it has to be relative and start with a slash)</p>\n<pre><code>StringBuilder foo = new StringBuilder();\nrelative.iterator().forEachRemaining(part -&gt; foo.append(&quot;/&quot;).append(part));\n</code></pre>\n<p><code>foo</code> will contain the appropriate path.</p>\n"}],"owner":{"account_id":228721,"reputation":12704,"user_id":491216,"accept_rate":85,"display_name":"Malte Schwerhoff"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8092,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":13310250,"answer_count":4,"score":20,"last_activity_date":1638450659,"creation_date":1342374323,"question_id":11494177,"body_markdown":"I am developing a Scala application on Windows, and I need to insert a path to a file into an HTML template. I use Java&#39;s ``io`` and ``nio`` to work with files and paths.\r\n\r\n    /* The paths actually come from the environment. */\r\n    val includesPath = Paths.get(&quot;foo\\\\inc&quot;)\r\n    val destinationPath = Paths.get(&quot;bar\\\\dest&quot;)\r\n\r\n    /* relativeIncludesPath.toString == &quot;..\\\\foo\\\\inc&quot;, as expected */\r\n    val relativeIncludesPath = destinationPath.relativize(includesPath)\r\n\r\nThe problem is that the output of ``relativeIncludesPath.toString`` contains backslashes `\\` as separators - because the application runs on Windows - but since the path is to be inserted into a HTML template, it must contain forward slashes `/` instead.\r\n\r\nSince I couldn&#39;t find anything like ``file/path.toStringUsingSeparator(&#39;/&#39;)`` in the docs, I am currently helping myself with ``relativeIncludesPath.toString.replace(&#39;\\\\&#39;, &#39;/&#39;)``, which I find rather unappealing.\r\n\r\n**Question:** Is there really no better way than using replace?\r\n\r\nI also experimented with Java&#39;s ``URI``, but it&#39;s ``relativize`` is [incomplete][1].\r\n\r\n  [1]: https://stackoverflow.com/a/705963/491216","title":"Java&#39;s File.toString or Path.toString with a specific path separator","body":"<p>I am developing a Scala application on Windows, and I need to insert a path to a file into an HTML template. I use Java's <code>io</code> and <code>nio</code> to work with files and paths.</p>\n\n<pre><code>/* The paths actually come from the environment. */\nval includesPath = Paths.get(\"foo\\\\inc\")\nval destinationPath = Paths.get(\"bar\\\\dest\")\n\n/* relativeIncludesPath.toString == \"..\\\\foo\\\\inc\", as expected */\nval relativeIncludesPath = destinationPath.relativize(includesPath)\n</code></pre>\n\n<p>The problem is that the output of <code>relativeIncludesPath.toString</code> contains backslashes <code>\\</code> as separators - because the application runs on Windows - but since the path is to be inserted into a HTML template, it must contain forward slashes <code>/</code> instead.</p>\n\n<p>Since I couldn't find anything like <code>file/path.toStringUsingSeparator('/')</code> in the docs, I am currently helping myself with <code>relativeIncludesPath.toString.replace('\\\\', '/')</code>, which I find rather unappealing.</p>\n\n<p><strong>Question:</strong> Is there really no better way than using replace?</p>\n\n<p>I also experimented with Java's <code>URI</code>, but it's <code>relativize</code> is <a href=\"https://stackoverflow.com/a/705963/491216\">incomplete</a>.</p>\n"},{"tags":["java","scala","junit","sbt","integration-testing"],"answers":[{"tags":[],"owner":{"account_id":20879324,"reputation":946,"user_id":15337458,"display_name":"gatear"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638445621,"creation_date":1638439962,"answer_id":70197581,"question_id":70197167,"body_markdown":"In SBT support for JUnit is provided by [junit-interface](https://github.com/sbt/junit-interface):\r\n```scala\r\nlibraryDependencies += &quot;com.github.sbt&quot; % &quot;junit-interface&quot; % &quot;0.13.2&quot; % Test\r\n```\r\nAdd `junit-interface` to your integration test configuration:\r\n```scala\r\nlazy val root = (project in file(&quot;.&quot;))\r\n  .configs(IntegrationTest)\r\n  .settings(\r\n    Defaults.itSettings,\r\n    libraryDependencies += &quot;com.github.sbt&quot; % &quot;junit-interface&quot; % &quot;0.13.2&quot; % &quot;it,test&quot;\r\n  ...\r\n  )\r\n```\r\n[Check some usage patterns for junit-interface](https://github.com/sbt/junit-interface#usage).\r\n\r\nIn your case for `it` to run all integration test:\r\n```scala\r\nIntegrationTest/ test\r\n```","title":"build.sbt it:test is not working for integration testing junit cases","body":"<p>In SBT support for JUnit is provided by <a href=\"https://github.com/sbt/junit-interface\" rel=\"nofollow noreferrer\">junit-interface</a>:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>libraryDependencies += &quot;com.github.sbt&quot; % &quot;junit-interface&quot; % &quot;0.13.2&quot; % Test\n</code></pre>\n<p>Add <code>junit-interface</code> to your integration test configuration:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>lazy val root = (project in file(&quot;.&quot;))\n  .configs(IntegrationTest)\n  .settings(\n    Defaults.itSettings,\n    libraryDependencies += &quot;com.github.sbt&quot; % &quot;junit-interface&quot; % &quot;0.13.2&quot; % &quot;it,test&quot;\n  ...\n  )\n</code></pre>\n<p><a href=\"https://github.com/sbt/junit-interface#usage\" rel=\"nofollow noreferrer\">Check some usage patterns for junit-interface</a>.</p>\n<p>In your case for <code>it</code> to run all integration test:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>IntegrationTest/ test\n</code></pre>\n"}],"owner":{"account_id":9241669,"reputation":53,"user_id":6864801,"display_name":"kiran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638450649,"creation_date":1638438233,"question_id":70197167,"body_markdown":"I am new to scala,\r\njunit test cases are not running in integration test.\r\n\r\nfolder structure\r\n\r\n    src\r\n      |- it\r\n      |- main\r\n      |- test\r\n\r\nwhen i do `sbt test` all the test cases in &quot;test&quot; folder is executed fine,\r\nbut when i do `it:test` \r\n\r\n    [error] No such setting/task\r\n    [error] it:test\r\n    [error] \r\n\r\nwhere `it` folder contain Tester.scala\r\n\r\n            package RegexExtractor\r\n            import org.junit.Assert.assertTrue\r\n            import org.junit.Test\r\n                \r\n    class  Tester   {\r\n                 @Test\r\n         def testAdd1(): Unit = {\r\n          val result = 2 + 4\r\n          assertTrue(result == 6)\r\n          System.out.println(&quot;Test final Passed&quot;)\r\n         }\r\n        }\r\n        }\r\n\r\ni added in build.sbt \r\n\r\n    lazy val scalatest = &quot;org.scalatest&quot; %% &quot;scalatest&quot; % &quot;3.0.5&quot;\r\n    lazy val root = (project in file(&quot;.&quot;))\r\n      .configs(IntegrationTest)\r\n      .settings(\r\n        Defaults.itSettings,\r\n        libraryDependencies += scalatest % &quot;it,test&quot;,\r\n    \r\n        // other settings here\r\n    \r\n      )\r\nPlease help me for running integration test\r\n\r\n","title":"build.sbt it:test is not working for integration testing junit cases","body":"<p>I am new to scala,\njunit test cases are not running in integration test.</p>\n<p>folder structure</p>\n<pre><code>src\n  |- it\n  |- main\n  |- test\n</code></pre>\n<p>when i do <code>sbt test</code> all the test cases in &quot;test&quot; folder is executed fine,\nbut when i do <code>it:test</code></p>\n<pre><code>[error] No such setting/task\n[error] it:test\n[error] \n</code></pre>\n<p>where <code>it</code> folder contain Tester.scala</p>\n<pre><code>        package RegexExtractor\n        import org.junit.Assert.assertTrue\n        import org.junit.Test\n            \nclass  Tester   {\n             @Test\n     def testAdd1(): Unit = {\n      val result = 2 + 4\n      assertTrue(result == 6)\n      System.out.println(&quot;Test final Passed&quot;)\n     }\n    }\n    }\n</code></pre>\n<p>i added in build.sbt</p>\n<pre><code>lazy val scalatest = &quot;org.scalatest&quot; %% &quot;scalatest&quot; % &quot;3.0.5&quot;\nlazy val root = (project in file(&quot;.&quot;))\n  .configs(IntegrationTest)\n  .settings(\n    Defaults.itSettings,\n    libraryDependencies += scalatest % &quot;it,test&quot;,\n\n    // other settings here\n\n  )\n</code></pre>\n<p>Please help me for running integration test</p>\n"},{"tags":["java","system.printing"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1638449457,"post_id":70199788,"comment_id":124094185,"body_markdown":"Implement toString. Consider lombok (will not be JSON though)","body":"Implement toString. Consider lombok (will not be JSON though)"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1638449513,"post_id":70199788,"comment_id":124094207,"body_markdown":"Does this answer your question? [How do I print my Java object without getting &quot;SomeType@2f92e0f4&quot;?](https://stackoverflow.com/questions/29140402/how-do-i-print-my-java-object-without-getting-sometype2f92e0f4)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/29140402/how-do-i-print-my-java-object-without-getting-sometype2f92e0f4\">How do I print my Java object without getting &quot;SomeType@2f92e0f4&quot;?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1638449468,"creation_date":1638449468,"answer_id":70199811,"question_id":70199788,"body_markdown":"You can override your model&#39;s `toString()` method and have it print out the information you want in the format you want.","title":"Is there a way to print a Java model in InteliJ prompt?","body":"<p>You can override your model's <code>toString()</code> method and have it print out the information you want in the format you want.</p>\n"}],"owner":{"account_id":20290490,"reputation":89,"user_id":14882245,"display_name":"Ian Cho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1638449558,"accepted_answer_id":70199811,"answer_count":1,"score":-1,"last_activity_date":1638450441,"creation_date":1638449382,"question_id":70199788,"body_markdown":"When I sysout the **RestModel** in Java code, it&#39;s printed out like this.\r\n\r\n```\r\n[com.my.model.RestModel@14ab40d2]\r\n```\r\n\r\nIs there a way to display the Detail? (like Json?)\r\n\r\n\r\n\r\n","title":"Is there a way to print a Java model in InteliJ prompt?","body":"<p>When I sysout the <strong>RestModel</strong> in Java code, it's printed out like this.</p>\n<pre><code>[com.my.model.RestModel@14ab40d2]\n</code></pre>\n<p>Is there a way to display the Detail? (like Json?)</p>\n"},{"tags":["java","tomcat","netbeans"],"comments":[{"owner":{"account_id":47115,"reputation":2503,"user_id":139417,"accept_rate":88,"display_name":"Carlos"},"score":0,"creation_date":1285840792,"post_id":3829513,"comment_id":4065818,"body_markdown":"They are configured in some Tomcat config file. As far as I remember, it was not very hard to find.","body":"They are configured in some Tomcat config file. As far as I remember, it was not very hard to find."},{"owner":{"account_id":200408,"reputation":2216,"user_id":446251,"display_name":"Tushar Joshi"},"score":0,"creation_date":1286110100,"post_id":3829513,"comment_id":4091318,"body_markdown":"NetBeans IDE uses a separate set of configuration files and not the &lt;TOMCAT_HOME&gt;/conf directory, please refer my answer below for the  solution","body":"NetBeans IDE uses a separate set of configuration files and not the &lt;TOMCAT_HOME&gt;/conf directory, please refer my answer below for the  solution"},{"owner":{"account_id":246686,"reputation":58068,"user_id":520957,"accept_rate":94,"display_name":"J&#233;r&#244;me Verstrynge"},"score":0,"creation_date":1343510765,"post_id":3829513,"comment_id":15524677,"body_markdown":"NetBeans creates credentials in the Catalina Base (see http://tshikatshikaaa.blogspot.nl/2012/07/about-user-login-password-of-netbeans.html)","body":"NetBeans creates credentials in the Catalina Base (see <a href=\"http://tshikatshikaaa.blogspot.nl/2012/07/about-user-login-password-of-netbeans.html\" rel=\"nofollow noreferrer\">tshikatshikaaa.blogspot.nl/2012/07/&hellip;</a>)"},{"owner":{"account_id":481416,"reputation":355324,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":1,"creation_date":1418034258,"post_id":3829513,"comment_id":43164395,"body_markdown":"possible duplicate of [How do I set Tomcat Manager Application User Name and Password for NetBeans?](http://stackoverflow.com/questions/1321933/how-do-i-set-tomcat-manager-application-user-name-and-password-for-netbeans)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1321933/how-do-i-set-tomcat-manager-application-user-name-and-password-for-netbeans\">How do I set Tomcat Manager Application User Name and Password for NetBeans?</a>"}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1285840776,"creation_date":1285840776,"answer_id":3829537,"question_id":3829513,"body_markdown":"Look in your `conf/tomcat-users.xml`. If there is nothing there, you&#39;d have to configure it.","title":"What is the default username and password in Tomcat?","body":"<p>Look in your <code>conf/tomcat-users.xml</code>. If there is nothing there, you'd have to configure it.</p>\n"},{"tags":[],"owner":{"account_id":141059,"reputation":22218,"user_id":347807,"accept_rate":96,"display_name":"CristiC"},"down_vote_count":0,"up_vote_count":70,"is_accepted":false,"score":70,"last_activity_date":1285861299,"creation_date":1285840788,"answer_id":3829540,"question_id":3829513,"body_markdown":"Check the file in `&lt;TOMCAT_HOME&gt;/conf` named `tomcat-users.xml`.  \r\nIf you don&#39;t find something there edit to look something like:\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;tomcat-users&gt;\r\n      &lt;role rolename=&quot;admin&quot;/&gt;\r\n      &lt;user username=&quot;admin&quot; password=&quot;password&quot; roles=&quot;standard,manager,admin&quot;/&gt;\r\n    &lt;/tomcat-users&gt;","title":"What is the default username and password in Tomcat?","body":"<p>Check the file in <code>&lt;TOMCAT_HOME&gt;/conf</code> named <code>tomcat-users.xml</code>.<br>\nIf you don't find something there edit to look something like:</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;tomcat-users&gt;\n  &lt;role rolename=\"admin\"/&gt;\n  &lt;user username=\"admin\" password=\"password\" roles=\"standard,manager,admin\"/&gt;\n&lt;/tomcat-users&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1285861341,"creation_date":1285841083,"answer_id":3829573,"question_id":3829513,"body_markdown":"In Tomcat 7, under `TOMCAT_HOME/conf/tomcat_users.xml`, see the `&lt;user /&gt;` tag to see password.\r\n\r\n\r\nExample:\r\n    \r\n      &lt;role rolename=&quot;tomcat&quot;/&gt;\r\n      &lt;role rolename=&quot;role1&quot;/&gt;\r\n      &lt;user username=&quot;tomcat&quot; password=&quot;tomcat&quot; roles=&quot;tomcat&quot;/&gt;\r\n      &lt;user username=&quot;both&quot; password=&quot;tomcat&quot; roles=&quot;tomcat,role1&quot;/&gt;\r\n      &lt;user username=&quot;role1&quot; password=&quot;tomcat&quot; roles=&quot;role1&quot;/&gt;","title":"What is the default username and password in Tomcat?","body":"<p>In Tomcat 7, under <code>TOMCAT_HOME/conf/tomcat_users.xml</code>, see the <code>&lt;user /&gt;</code> tag to see password.</p>\n\n<p>Example:</p>\n\n<pre><code>  &lt;role rolename=\"tomcat\"/&gt;\n  &lt;role rolename=\"role1\"/&gt;\n  &lt;user username=\"tomcat\" password=\"tomcat\" roles=\"tomcat\"/&gt;\n  &lt;user username=\"both\" password=\"tomcat\" roles=\"tomcat,role1\"/&gt;\n  &lt;user username=\"role1\" password=\"tomcat\" roles=\"role1\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":191427,"reputation":1559,"user_id":431998,"accept_rate":44,"display_name":"Mick Sear"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1285843389,"creation_date":1285843389,"answer_id":3829793,"question_id":3829513,"body_markdown":"Well, you need to look at the answers above, but you&#39;ll find that the manager app requires you to have a user with the role &#39;manager&#39;, I believe, so you&#39;ll probably want to add the following to your tomcat-users.xml file:\r\n\r\n    &lt;role rolename=&quot;manager&quot;/&gt;\r\n    &lt;user username=&quot;youruser&quot; password=&quot;yourpass&quot; roles=&quot;manager&quot;/&gt;\r\n\r\nThis might seem simplistic, but it&#39;s just a simple implementation that you can extend / replace with other authentication mechanisms.","title":"What is the default username and password in Tomcat?","body":"<p>Well, you need to look at the answers above, but you'll find that the manager app requires you to have a user with the role 'manager', I believe, so you'll probably want to add the following to your tomcat-users.xml file:</p>\n\n<pre><code>&lt;role rolename=\"manager\"/&gt;\n&lt;user username=\"youruser\" password=\"yourpass\" roles=\"manager\"/&gt;\n</code></pre>\n\n<p>This might seem simplistic, but it's just a simple implementation that you can extend / replace with other authentication mechanisms.</p>\n"},{"tags":[],"owner":{"account_id":200408,"reputation":2216,"user_id":446251,"display_name":"Tushar Joshi"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1419238687,"creation_date":1286109944,"answer_id":3849783,"question_id":3829513,"body_markdown":"My answer is tested on *Windows 7* with installation of *NetBeans IDE 6.9.1* which has bundled Tomcat version 6.0.26.  The instruction may work with other tomcat versions according to my opinion.\r\n\r\nIf you are starting the *Apache Tomcat* server from the Servers panel in NetBeans IDE then you shall know that the Catalina base and config files used by NetBeans IDE to start the Tomcat server are kept at a different location.\r\n\r\nSteps to know the catalina base directory for your installation:\r\n\r\n 1. Right click on the *Apache Tomcat* node in Servers panel and choose properties option in the context menu.  This will open a dialog box named Servers.\r\n 2. Check the directory name of the field *Catalina Base*, this is that directory where the current `conf/tomcat-users.xml` is located and which you want to open and read. &lt;br/&gt;(In my case it is `C:\\Users\\Tushar Joshi\\.netbeans\\6.9\\apache-tomcat-6.0.26_base` )\r\n 3. Open this directory in `My Computer` and go to the conf directory where you will find the actual `tomcat-users.xml` file used by NetBeans IDE.  NetBeans IDE comes configured with one default password with `username=&quot;ide&quot;` and some random password, you may change this username and password if you want or use it for your login also\r\n 4. This dialog box also have username and password field which are populated with these default username and password and *NetBeans IDE* also offers you to open the manager application by right clicking on the manager node under the *Apache Tomcat* node in Servers panel\r\n 5. The only problem with the *NetBeans IDE* is it tries to open the URL `http://localhost:8084/manager/` which shall be `http://localhost:8084/manager/html` now","title":"What is the default username and password in Tomcat?","body":"<p>My answer is tested on <em>Windows 7</em> with installation of <em>NetBeans IDE 6.9.1</em> which has bundled Tomcat version 6.0.26.  The instruction may work with other tomcat versions according to my opinion.</p>\n\n<p>If you are starting the <em>Apache Tomcat</em> server from the Servers panel in NetBeans IDE then you shall know that the Catalina base and config files used by NetBeans IDE to start the Tomcat server are kept at a different location.</p>\n\n<p>Steps to know the catalina base directory for your installation:</p>\n\n<ol>\n<li>Right click on the <em>Apache Tomcat</em> node in Servers panel and choose properties option in the context menu.  This will open a dialog box named Servers.</li>\n<li>Check the directory name of the field <em>Catalina Base</em>, this is that directory where the current <code>conf/tomcat-users.xml</code> is located and which you want to open and read. <br/>(In my case it is <code>C:\\Users\\Tushar Joshi\\.netbeans\\6.9\\apache-tomcat-6.0.26_base</code> )</li>\n<li>Open this directory in <code>My Computer</code> and go to the conf directory where you will find the actual <code>tomcat-users.xml</code> file used by NetBeans IDE.  NetBeans IDE comes configured with one default password with <code>username=\"ide\"</code> and some random password, you may change this username and password if you want or use it for your login also</li>\n<li>This dialog box also have username and password field which are populated with these default username and password and <em>NetBeans IDE</em> also offers you to open the manager application by right clicking on the manager node under the <em>Apache Tomcat</em> node in Servers panel</li>\n<li>The only problem with the <em>NetBeans IDE</em> is it tries to open the URL <code>http://localhost:8084/manager/</code> which shall be <code>http://localhost:8084/manager/html</code> now</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":202467,"reputation":9985,"user_id":449553,"accept_rate":54,"display_name":"msangel"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1326192508,"creation_date":1326192508,"answer_id":8802027,"question_id":3829513,"body_markdown":"in file /conf/tomcat-users.xml \r\ncheck or add:&lt;br/&gt;\r\n\r\n\r\n    ......\r\n    &lt;role rolename=&quot;manager&quot;/&gt;\r\n    &lt;user username=&quot;ide&quot; password=&quot;ide&quot; roles=&quot;manager,tomcat,manager-script&quot;/&gt;\r\n    &lt;/tomcat-users&gt;\r\n    \r\n\r\n\r\n","title":"What is the default username and password in Tomcat?","body":"<p>in file /conf/tomcat-users.xml \ncheck or add:<br/></p>\n\n<pre><code>......\n&lt;role rolename=\"manager\"/&gt;\n&lt;user username=\"ide\" password=\"ide\" roles=\"manager,tomcat,manager-script\"/&gt;\n&lt;/tomcat-users&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1921253,"reputation":91,"user_id":1732706,"display_name":"Irshad"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1419239038,"creation_date":1349808234,"answer_id":12806389,"question_id":3829513,"body_markdown":"Open  `tomcat-users.xml` which should be in `C:\\Tomcat 7.0\\conf`\r\n\r\nAdd following lines in above file :\r\n\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;cp1252&#39;?&gt;\r\n\r\n    &lt;tomcat-users&gt;\r\n         &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n         &lt;user username=&quot;admin&quot; password=&quot;&quot; roles=&quot;manager-gui&quot;/&gt;\r\n\t\r\n         &lt;role rolename=&quot;admin-gui&quot;/&gt;\r\n         &lt;user username=&quot;tomcat&quot; password=&quot;s3cret&quot; roles=&quot;admin-gui&quot;/&gt;        \r\n     &lt;/tomcat-users&gt;\r\n\r\n\r\n\r\n**Note :**   \r\n\r\n 1. `admin-gui` -&gt; Username &amp; Password - Do not Change.\r\n 2. `manager-gui` -&gt; you can change user name &amp; password for this only. \r\n\t\t  [Here password is not given]\r\n\r\n","title":"What is the default username and password in Tomcat?","body":"<p>Open  <code>tomcat-users.xml</code> which should be in <code>C:\\Tomcat 7.0\\conf</code></p>\n\n<p>Add following lines in above file :</p>\n\n\n\n<pre><code>&lt;tomcat-users&gt;\n     &lt;role rolename=\"manager-gui\"/&gt;\n     &lt;user username=\"admin\" password=\"\" roles=\"manager-gui\"/&gt;\n\n     &lt;role rolename=\"admin-gui\"/&gt;\n     &lt;user username=\"tomcat\" password=\"s3cret\" roles=\"admin-gui\"/&gt;        \n &lt;/tomcat-users&gt;\n</code></pre>\n\n<p><strong>Note :</strong>   </p>\n\n<ol>\n<li><code>admin-gui</code> -> Username &amp; Password - Do not Change.</li>\n<li><code>manager-gui</code> -> you can change user name &amp; password for this only. \n      [Here password is not given]</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2228652,"reputation":1,"user_id":1966840,"display_name":"Darryl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1357824162,"creation_date":1357824162,"answer_id":14258931,"question_id":3829513,"body_markdown":"If people still have problems after adding/modifying the tomcat-users.xml file and adding the relevant user/role for the version of Tomcat that they&#39;re using then please be sure that you&#39;ve removed the comment tags that are surrounding this block.  They will look like this in the XML file:&lt;br/&gt;\r\n`&lt;!--`&lt;br/&gt;\r\n`--&gt;`&lt;br/&gt; \r\nThey will be above and below the user/role section.  ","title":"What is the default username and password in Tomcat?","body":"<p>If people still have problems after adding/modifying the tomcat-users.xml file and adding the relevant user/role for the version of Tomcat that they're using then please be sure that you've removed the comment tags that are surrounding this block.  They will look like this in the XML file:<br/>\n<code>&lt;!--</code><br/>\n<code>--&gt;</code><br/> \nThey will be above and below the user/role section.  </p>\n"},{"tags":[],"owner":{"account_id":2253184,"reputation":1,"user_id":1984976,"display_name":"purushottam mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358367617,"creation_date":1358365876,"answer_id":14366620,"question_id":3829513,"body_markdown":"If your apache tomcat asking for password,then just follow these steps:\r\ngo to the home directory of apache\r\nthen go to webapps folder\r\n open the META-INF\r\ninside that you will find an xml file named context.xml--open it in edit mode\r\n\r\nand           ***REMOVE THE COMMENT FROM the   VALVE  tag***.\r\n\r\nAfter that you dont need any user name and password.","title":"What is the default username and password in Tomcat?","body":"<p>If your apache tomcat asking for password,then just follow these steps:\ngo to the home directory of apache\nthen go to webapps folder\n open the META-INF\ninside that you will find an xml file named context.xml--open it in edit mode</p>\n\n<p>and           <strong><em>REMOVE THE COMMENT FROM the   VALVE  tag</em></strong>.</p>\n\n<p>After that you dont need any user name and password.</p>\n"},{"tags":[],"owner":{"account_id":2598287,"reputation":29,"user_id":2251402,"display_name":"Steve Kritzer"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1365223610,"creation_date":1365223610,"answer_id":15847100,"question_id":3829513,"body_markdown":"Platform  NetBeans 7.3, Apache Tomcat 7.0.34 re: Tomcat Manager\r\n\r\nI spent 3 days tracking this down because I thought I had a bad install.\r\n\r\n**On Windows and Linux, NetBeans uses a separate file location for CATALINA_BASE:** \r\n\r\nhttp://wiki.netbeans.org/FaqInstallationDefaultTomcatPassword\r\n\r\nSo you can modify the tomcat_user.xml under CATALINA_HOME: until your face turns blue, to no effect.\r\n\r\nIt appears that the IDE only requires, manager-script,admin roles under CATALINA_BASE:.\r\n\r\nWhen I tried to add a user to the manager-gui role (to the correct tomcat_user.xml file), required for access to the Tomcat Manager, Tomcat stopped presenting the login dialog and went directly to the 401 access denied splash page.\r\n\r\nIt appears that the NetBeans package uses a locked-down version of TomCat.\r\n\r\nI hope this saves everyone some time. ","title":"What is the default username and password in Tomcat?","body":"<p>Platform  NetBeans 7.3, Apache Tomcat 7.0.34 re: Tomcat Manager</p>\n\n<p>I spent 3 days tracking this down because I thought I had a bad install.</p>\n\n<p><strong>On Windows and Linux, NetBeans uses a separate file location for CATALINA_BASE:</strong> </p>\n\n<p><a href=\"http://wiki.netbeans.org/FaqInstallationDefaultTomcatPassword\" rel=\"nofollow\">http://wiki.netbeans.org/FaqInstallationDefaultTomcatPassword</a></p>\n\n<p>So you can modify the tomcat_user.xml under CATALINA_HOME: until your face turns blue, to no effect.</p>\n\n<p>It appears that the IDE only requires, manager-script,admin roles under CATALINA_BASE:.</p>\n\n<p>When I tried to add a user to the manager-gui role (to the correct tomcat_user.xml file), required for access to the Tomcat Manager, Tomcat stopped presenting the login dialog and went directly to the 401 access denied splash page.</p>\n\n<p>It appears that the NetBeans package uses a locked-down version of TomCat.</p>\n\n<p>I hope this saves everyone some time. </p>\n"},{"tags":[],"owner":{"account_id":3972458,"reputation":21,"user_id":3276671,"display_name":"Jonathan Lee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1391626697,"creation_date":1391626697,"answer_id":21586098,"question_id":3829513,"body_markdown":"Only this helped me:\r\n\r\nTo use the web administration gui you have to add the gui role :\r\n&lt;tomcat-users&gt;\r\n\r\n    &lt;role rolename=&quot;admin&quot;/&gt;\r\n    &lt;role rolename=&quot;admin-gui&quot;/&gt;\r\n    &lt;role rolename=&quot;manager&quot;/&gt;\r\n    &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n\r\n    &lt;user username=&quot;name&quot; password=&quot;pwd&quot; roles=&quot;admin,admin-gui,manager,manager-gui&quot;/&gt;\r\n&lt;/tomcat-users&gt;","title":"What is the default username and password in Tomcat?","body":"<p>Only this helped me:</p>\n\n<p>To use the web administration gui you have to add the gui role :\n</p>\n\n<pre><code>&lt;role rolename=\"admin\"/&gt;\n&lt;role rolename=\"admin-gui\"/&gt;\n&lt;role rolename=\"manager\"/&gt;\n&lt;role rolename=\"manager-gui\"/&gt;\n\n&lt;user username=\"name\" password=\"pwd\" roles=\"admin,admin-gui,manager,manager-gui\"/&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":3968291,"reputation":7519,"user_id":3273522,"display_name":"Aks"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1471850197,"creation_date":1394445129,"answer_id":22296826,"question_id":3829513,"body_markdown":"Go to &quot;%TOMCAT_FOLDER%/conf/tomcat-users.xml&quot; and configure the following : \r\n\r\n    &lt;tomcat-users&gt;\r\n        &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n        &lt;role rolename=&quot;manager-script&quot;/&gt;\r\n        &lt;role rolename=&quot;manager-jmx&quot;/&gt;\r\n        &lt;role rolename=&quot;manager-status&quot;/&gt;\r\n        &lt;role rolename=&quot;admin&quot;/&gt;\r\n        &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;admin,manager-gui,manager-script&quot;/&gt;\r\n    &lt;/tomcat-users&gt;\r\n\r\nHence, the username is &quot;admin&quot; and password is &quot;admin&quot;","title":"What is the default username and password in Tomcat?","body":"<p>Go to \"%TOMCAT_FOLDER%/conf/tomcat-users.xml\" and configure the following : </p>\n\n<pre><code>&lt;tomcat-users&gt;\n    &lt;role rolename=\"manager-gui\"/&gt;\n    &lt;role rolename=\"manager-script\"/&gt;\n    &lt;role rolename=\"manager-jmx\"/&gt;\n    &lt;role rolename=\"manager-status\"/&gt;\n    &lt;role rolename=\"admin\"/&gt;\n    &lt;user username=\"admin\" password=\"admin\" roles=\"admin,manager-gui,manager-script\"/&gt;\n&lt;/tomcat-users&gt;\n</code></pre>\n\n<p>Hence, the username is \"admin\" and password is \"admin\"</p>\n"},{"tags":[],"owner":{"account_id":1185299,"reputation":7276,"user_id":1159404,"accept_rate":75,"display_name":"Nenad Bulatović"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1402310669,"creation_date":1402310669,"answer_id":24118580,"question_id":3829513,"body_markdown":"In Tomcat 7 you have to add this to tomcat-users.xml (On windows 7 it is located by default installation here: c:\\Program Files\\Apache Software Foundation\\Tomcat 7.0\\conf\\ )\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;tomcat-users&gt;\r\n      &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n      &lt;role rolename=&quot;manager-script&quot;/&gt;\r\n      &lt;role rolename=&quot;manager-jmx&quot;/&gt;\r\n      &lt;role rolename=&quot;manager-status&quot;/&gt;\r\n      &lt;role rolename=&quot;admin-gui&quot;/&gt;\r\n      &lt;role rolename=&quot;admin-script&quot;/&gt;\r\n      &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;manager-gui,manager-script,manager-jmx,manager-status,admin-gui,admin-script&quot;/&gt;\r\n    &lt;/tomcat-users&gt;\r\n\r\nNOTE that there shouldn&#39;t be ANY spaces between roles for admin, as this list should be comma separated.\r\n\r\nSo, instead of this (as suggested in some answers:\r\n\r\n    &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;manager-gui, manager-script, manager-jmx, manager-status, admin-gui, admin-script&quot;/&gt;\r\n\r\nit MUST be like this:\r\n\r\n      &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;manager-gui,manager-script,manager-jmx,manager-status,admin-gui,admin-script&quot;/&gt;\r\n","title":"What is the default username and password in Tomcat?","body":"<p>In Tomcat 7 you have to add this to tomcat-users.xml (On windows 7 it is located by default installation here: c:\\Program Files\\Apache Software Foundation\\Tomcat 7.0\\conf\\ )</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;tomcat-users&gt;\n  &lt;role rolename=\"manager-gui\"/&gt;\n  &lt;role rolename=\"manager-script\"/&gt;\n  &lt;role rolename=\"manager-jmx\"/&gt;\n  &lt;role rolename=\"manager-status\"/&gt;\n  &lt;role rolename=\"admin-gui\"/&gt;\n  &lt;role rolename=\"admin-script\"/&gt;\n  &lt;user username=\"admin\" password=\"admin\" roles=\"manager-gui,manager-script,manager-jmx,manager-status,admin-gui,admin-script\"/&gt;\n&lt;/tomcat-users&gt;\n</code></pre>\n\n<p>NOTE that there shouldn't be ANY spaces between roles for admin, as this list should be comma separated.</p>\n\n<p>So, instead of this (as suggested in some answers:</p>\n\n<pre><code>&lt;user username=\"admin\" password=\"admin\" roles=\"manager-gui, manager-script, manager-jmx, manager-status, admin-gui, admin-script\"/&gt;\n</code></pre>\n\n<p>it MUST be like this:</p>\n\n<pre><code>  &lt;user username=\"admin\" password=\"admin\" roles=\"manager-gui,manager-script,manager-jmx,manager-status,admin-gui,admin-script\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3219706,"reputation":2089,"user_id":2717445,"accept_rate":39,"display_name":"Ye Htun Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431422361,"creation_date":1431422361,"answer_id":30186641,"question_id":3829513,"body_markdown":"**For Window 7, Netbeans 8.0.2 , Apache Tomcat 8.0.15**&lt;br&gt;\r\nC:\\Users\\JONATHAN\\AppData\\Roaming\\NetBeans\\8.0.2\\apache-tomcat-8.0.15.0_base\\conf\\tomcat-users.xml&lt;br&gt;\r\nThe Tomcat Manager Username and password is like below pic..&lt;br&gt;\r\n![tomcat-users.xml][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/LPruy.png","title":"What is the default username and password in Tomcat?","body":"<p><strong>For Window 7, Netbeans 8.0.2 , Apache Tomcat 8.0.15</strong><br>\nC:\\Users\\JONATHAN\\AppData\\Roaming\\NetBeans\\8.0.2\\apache-tomcat-8.0.15.0_base\\conf\\tomcat-users.xml<br>\nThe Tomcat Manager Username and password is like below pic..<br>\n<img src=\"https://i.stack.imgur.com/LPruy.png\" alt=\"tomcat-users.xml\"></p>\n"},{"tags":[],"owner":{"account_id":4407456,"reputation":463,"user_id":3591417,"display_name":"Peter Arboleda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437777964,"creation_date":1437777964,"answer_id":31620892,"question_id":3829513,"body_markdown":"In conf/tomcat-users.xml you can see what&#39;s your actual user configuration, in my case is usually user=&quot;admin&quot; and pass=&quot;1234&quot;","title":"What is the default username and password in Tomcat?","body":"<p>In conf/tomcat-users.xml you can see what's your actual user configuration, in my case is usually user=\"admin\" and pass=\"1234\"</p>\n"},{"tags":[],"owner":{"account_id":2220824,"reputation":16635,"user_id":3168721,"accept_rate":97,"display_name":"tk_"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1466924496,"creation_date":1466924496,"answer_id":38035989,"question_id":3829513,"body_markdown":"First navigate to below location and open it in a text editor\r\n\r\n    &lt;TOMCAT_HOME&gt;/conf/tomcat-users.xml\r\n\r\nFor tomcat 7, Add the following xml code somewhere between `&lt;tomcat-users&gt;` \r\n\r\n      &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n      &lt;user username=&quot;username&quot; password=&quot;password&quot; roles=&quot;manager-gui&quot;/&gt;\r\n\r\nNow restart the tomcat server.","title":"What is the default username and password in Tomcat?","body":"<p>First navigate to below location and open it in a text editor</p>\n\n<pre><code>&lt;TOMCAT_HOME&gt;/conf/tomcat-users.xml\n</code></pre>\n\n<p>For tomcat 7, Add the following xml code somewhere between <code>&lt;tomcat-users&gt;</code> </p>\n\n<pre><code>  &lt;role rolename=\"manager-gui\"/&gt;\n  &lt;user username=\"username\" password=\"password\" roles=\"manager-gui\"/&gt;\n</code></pre>\n\n<p>Now restart the tomcat server.</p>\n"},{"tags":[],"owner":{"account_id":5616536,"reputation":1283,"user_id":4447655,"accept_rate":76,"display_name":"magic_turtle"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1478650805,"creation_date":1478650805,"answer_id":40498587,"question_id":3829513,"body_markdown":"In Tomcat 7, 8, and 9 there is NO default user, so nobody can access a Manager app. You need to alter conf/tomcat-users.xml by adding new user with the role &quot;manager-gui&quot;, like: \r\n\r\n    &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n\t&lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;manager-gui&quot;/&gt;\r\n\r\nLook up here: https://www.mkyong.com/tomcat/tomcat-default-administrator-password/","title":"What is the default username and password in Tomcat?","body":"<p>In Tomcat 7, 8, and 9 there is NO default user, so nobody can access a Manager app. You need to alter conf/tomcat-users.xml by adding new user with the role \"manager-gui\", like: </p>\n\n<pre><code>&lt;role rolename=\"manager-gui\"/&gt;\n&lt;user username=\"admin\" password=\"admin\" roles=\"manager-gui\"/&gt;\n</code></pre>\n\n<p>Look up here: <a href=\"https://www.mkyong.com/tomcat/tomcat-default-administrator-password/\" rel=\"noreferrer\">https://www.mkyong.com/tomcat/tomcat-default-administrator-password/</a></p>\n"},{"tags":[],"owner":{"account_id":11294725,"reputation":292,"user_id":8282587,"display_name":"Amichai Ungar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500297458,"creation_date":1500297458,"answer_id":45145365,"question_id":3829513,"body_markdown":"try tomcat tomcat as the default username and password (tomcat 7)","title":"What is the default username and password in Tomcat?","body":"<p>try tomcat tomcat as the default username and password (tomcat 7)</p>\n"},{"tags":[],"owner":{"account_id":16484644,"reputation":149,"user_id":11910379,"display_name":"AJAY KACHHIYAPATEL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638450409,"creation_date":1638450409,"answer_id":70200049,"question_id":3829513,"body_markdown":"Check the file in &lt;TOMCAT_HOME&gt;/conf named tomcat-users.xml.\r\nIf you don&#39;t find something there edit to look something like:\r\n\r\n&gt; You can access in tomcat Manager-App and Host-Manager. add two role in one line\r\n\r\n  \r\n\r\n      &lt;role rolename=&quot;manager-gui,admin-gui&quot;/&gt;\r\n      &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;standard,manager-gui,admin-gui&quot;/&gt;","title":"What is the default username and password in Tomcat?","body":"<p>Check the file in &lt;TOMCAT_HOME&gt;/conf named tomcat-users.xml.\nIf you don't find something there edit to look something like:</p>\n<blockquote>\n<p>You can access in tomcat Manager-App and Host-Manager. add two role in one line</p>\n</blockquote>\n<pre><code>  &lt;role rolename=&quot;manager-gui,admin-gui&quot;/&gt;\n  &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;standard,manager-gui,admin-gui&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":177861,"reputation":1449,"user_id":409468,"accept_rate":83,"display_name":"m88"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507850,"favorite_count":0,"down_vote_count":0,"up_vote_count":98,"accepted_answer_id":3849783,"answer_count":19,"score":98,"last_activity_date":1638450409,"creation_date":1285840568,"question_id":3829513,"body_markdown":"I installed Netbeans and tryed to access the server&#39;s manager using: (id/pass)manager/manager, admin/admin, system/password... None of them worked. ","title":"What is the default username and password in Tomcat?","body":"<p>I installed Netbeans and tryed to access the server's manager using: (id/pass)manager/manager, admin/admin, system/password... None of them worked. </p>\n"},{"tags":["java","image","awt","layout-manager","border-layout"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1591335447,"post_id":62201679,"comment_id":110021758,"body_markdown":"Why use AWT?   See [this answer](http://stackoverflow.com/questions/6255106/java-gui-listeners-without-awt/6255978#6255978) for many good reasons to abandon AWT components in favor of Swing. One reason is that a Swing based `JLabel` can display an image!","body":"Why use AWT?   See <a href=\"http://stackoverflow.com/questions/6255106/java-gui-listeners-without-awt/6255978#6255978\">this answer</a> for many good reasons to abandon AWT components in favor of Swing. One reason is that a Swing based <code>JLabel</code> can display an image!"},{"owner":{"account_id":18763727,"reputation":21,"user_id":13682094,"display_name":"Justus2220"},"score":0,"creation_date":1591345392,"post_id":62201679,"comment_id":110025765,"body_markdown":"We have to use AWT, it is required, unfortunately.","body":"We have to use AWT, it is required, unfortunately."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1591349421,"post_id":62201679,"comment_id":110027701,"body_markdown":"Who is &#39;we&#39;? Oh wait.. *&quot;My professor..&quot;* Your professor needs to drag themselves, kicking and screaming, into the 3rd millennium. What is the point of this exercise, BTW? 1) As an aside: For better help sooner, [edit] to add a [MCVE] or [Short, Self Contained, Correct Example](http://www.sscce.org/). 2) One way to get image(s) for an example is to hot link to images seen in [this Q&amp;A](http://stackoverflow.com/q/19209650/418556). E.G. [This answer](https://stackoverflow.com/a/10862262/418556) hot links to an image embedded in [this question](https://stackoverflow.com/q/10861852/418556). ..","body":"Who is &#39;we&#39;? Oh wait.. <i>&quot;My professor..&quot;</i> Your professor needs to drag themselves, kicking and screaming, into the 3rd millennium. What is the point of this exercise, BTW? 1) As an aside: For better help sooner, <a href=\"https://stackoverflow.com/posts/62201679/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a>. 2) One way to get image(s) for an example is to hot link to images seen in <a href=\"http://stackoverflow.com/q/19209650/418556\">this Q&amp;A</a>. E.G. <a href=\"https://stackoverflow.com/a/10862262/418556\">This answer</a> hot links to an image embedded in <a href=\"https://stackoverflow.com/q/10861852/418556\">this question</a>. .."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1591349454,"post_id":62201679,"comment_id":110027711,"body_markdown":".. 3) Don&#39;t ignore exceptions! They inform us exactly what went wrong. Unless logging is implemented, at least call `Throwable.printStackTrace()`","body":".. 3) Don&#39;t ignore exceptions! They inform us exactly what went wrong. Unless logging is implemented, at least call <code>Throwable.printStackTrace()</code>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1591351558,"post_id":62201679,"comment_id":110028820,"body_markdown":"4) BTW - Always copy/paste error and exception output! I&#39;m guessing you are referring to a `StackOverflowError`, but I prefer not having to guess. 5) This `ImageEigen` class is trying to do too much. Define it so that all it does is (accept and) paint an image. Then add that class to another panel (`BorderLayout.CENTER`) and add the buttons to the other panel.","body":"4) BTW - Always copy/paste error and exception output! I&#39;m guessing you are referring to a <code>StackOverflowError</code>, but I prefer not having to guess. 5) This <code>ImageEigen</code> class is trying to do too much. Define it so that all it does is (accept and) paint an image. Then add that class to another panel (<code>BorderLayout.CENTER</code>) and add the buttons to the other panel."},{"owner":{"account_id":18763727,"reputation":21,"user_id":13682094,"display_name":"Justus2220"},"score":0,"creation_date":1591387904,"post_id":62201679,"comment_id":110047884,"body_markdown":"Thank you for your answer. In class, we actually have to do it in two separate programs, which is fairly easy. Out of interest and to see if it is possible, i wanted to do it in one program. Is there a way to do it without Swing?","body":"Thank you for your answer. In class, we actually have to do it in two separate programs, which is fairly easy. Out of interest and to see if it is possible, i wanted to do it in one program. Is there a way to do it without Swing?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1591400576,"post_id":62201679,"comment_id":110051912,"body_markdown":"*&quot;Thank you for your answer.&quot;* It was a comment (OK comments) not an answer. *&quot;In class, we actually have to do it in two separate programs&quot;* I am guessing by &#39;programs&#39; you mean &#39;classes&#39;. Point (4) describes a situation where there are ***still*** 2 classes. *&quot;Is there a way to do it without Swing?&quot;* Sure, just not one you are likely to get help with. Many of the newer programmers here have never had experience with AWT. Most people here who *could have* helped with an AWT problem a) could not be bothered or b) have forgotten so much about AWT they&#39;d make basic mistakes.","body":"<i>&quot;Thank you for your answer.&quot;</i> It was a comment (OK comments) not an answer. <i>&quot;In class, we actually have to do it in two separate programs&quot;</i> I am guessing by &#39;programs&#39; you mean &#39;classes&#39;. Point (4) describes a situation where there are <b><i>still</i></b> 2 classes. <i>&quot;Is there a way to do it without Swing?&quot;</i> Sure, just not one you are likely to get help with. Many of the newer programmers here have never had experience with AWT. Most people here who <i>could have</i> helped with an AWT problem a) could not be bothered or b) have forgotten so much about AWT they&#39;d make basic mistakes."}],"owner":{"account_id":18763727,"reputation":21,"user_id":13682094,"display_name":"Justus2220"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638450353,"creation_date":1591295193,"question_id":62201679,"body_markdown":"I&#39;m trying to add an image in the center of my BorderLayout, with the ultimate goal to hide the image with a click on the &quot;Hide&quot;-button. \r\nI&#39;m trying to add the image with the add()-function. My professor added a new object of the class in the add function, but with the Layout and the Imageclass in two seperate .java-files. I&#39;m trying to do the same in one .java-file. \r\nBut I can&#39;t get it to run without an error and show the image.\r\nCould you please help me? What am I doing wrong here?\r\n    \r\n    public class ImageEigen extends Panel\r\n    {\r\n        Image img;\r\n    \r\n    Button hide_button = new Button(&quot;Hide&quot;);\r\n    Button ende_button = new Button(&quot;Quit&quot;);\r\n    \r\n    \r\n    public ImageEigen(Image img)\r\n    {\r\n        setLayout(new BorderLayout());\r\n        setFont(new Font(&quot;System&quot;, Font.PLAIN, 24));\r\n        \r\n        this.img = img;\r\n        \r\n        add(hide_button, BorderLayout.WEST);\r\n        add(ende_button, BorderLayout.EAST);\r\n    //        add(new ImageEigen(img), BorderLayout.NORTH);\r\n    //        add(img, BorderLayout.NORTH);\r\n    //        add(ImageEigen(img), BorderLayout.NORTH);\r\n        add(IE(img), BorderLayout.NORTH);\r\n        \r\n        \r\n        ende_button.addActionListener(new ActionListener()\r\n        {\r\n            public void actionPerformed(ActionEvent ae)\r\n            {\r\n                System.exit(0);\r\n            }\r\n        });\r\n        \r\n        MediaTracker mt = new MediaTracker(this);\r\n        mt.addImage(img, 1);\r\n        try\r\n        {\r\n            mt.waitForID(1);\r\n        } catch(Exception ex)\r\n        {}\r\n    }\r\n    \r\n    @Override\r\n    public void paint(Graphics g)\r\n    {\r\n        g.drawImage(img, 0, 0, this);\r\n    }\r\n\r\n    @Override\r\n    public Dimension getPreferredSize()\r\n    {\r\n        return new Dimension(img.getWidth(this), img.getHeight(this));\r\n    }\r\n\r\n    @Override\r\n    public void update(Graphics g)\r\n    {\r\n        paint(g);\r\n    }\r\n    \r\n    public static void main(String args[])\r\n    {\r\n        Frame frame = new Frame(&quot;Image-Oberfl&#228;chentest&quot;);\r\n        \r\n        Image img = frame.getToolkit().getImage(args[0]);\r\n        ImageEigen IE = new ImageEigen(img);\r\n        \r\n        frame.add(IE);\r\n        \r\n        frame.addWindowListener(new WindowAdapter()\r\n        {\r\n            public void windowClosing(WindowEvent we)\r\n            {\r\n                System.exit(0);\r\n            }\r\n        });\r\n        \r\n        frame.pack();\r\n        frame.setVisible(true);\r\n    }}\r\n","title":"Adding an Image to a BorderLayout in Java AWT","body":"<p>I'm trying to add an image in the center of my BorderLayout, with the ultimate goal to hide the image with a click on the \"Hide\"-button. \nI'm trying to add the image with the add()-function. My professor added a new object of the class in the add function, but with the Layout and the Imageclass in two seperate .java-files. I'm trying to do the same in one .java-file. \nBut I can't get it to run without an error and show the image.\nCould you please help me? What am I doing wrong here?</p>\n\n<pre><code>public class ImageEigen extends Panel\n{\n    Image img;\n\nButton hide_button = new Button(\"Hide\");\nButton ende_button = new Button(\"Quit\");\n\n\npublic ImageEigen(Image img)\n{\n    setLayout(new BorderLayout());\n    setFont(new Font(\"System\", Font.PLAIN, 24));\n\n    this.img = img;\n\n    add(hide_button, BorderLayout.WEST);\n    add(ende_button, BorderLayout.EAST);\n//        add(new ImageEigen(img), BorderLayout.NORTH);\n//        add(img, BorderLayout.NORTH);\n//        add(ImageEigen(img), BorderLayout.NORTH);\n    add(IE(img), BorderLayout.NORTH);\n\n\n    ende_button.addActionListener(new ActionListener()\n    {\n        public void actionPerformed(ActionEvent ae)\n        {\n            System.exit(0);\n        }\n    });\n\n    MediaTracker mt = new MediaTracker(this);\n    mt.addImage(img, 1);\n    try\n    {\n        mt.waitForID(1);\n    } catch(Exception ex)\n    {}\n}\n\n@Override\npublic void paint(Graphics g)\n{\n    g.drawImage(img, 0, 0, this);\n}\n\n@Override\npublic Dimension getPreferredSize()\n{\n    return new Dimension(img.getWidth(this), img.getHeight(this));\n}\n\n@Override\npublic void update(Graphics g)\n{\n    paint(g);\n}\n\npublic static void main(String args[])\n{\n    Frame frame = new Frame(\"Image-Oberflächentest\");\n\n    Image img = frame.getToolkit().getImage(args[0]);\n    ImageEigen IE = new ImageEigen(img);\n\n    frame.add(IE);\n\n    frame.addWindowListener(new WindowAdapter()\n    {\n        public void windowClosing(WindowEvent we)\n        {\n            System.exit(0);\n        }\n    });\n\n    frame.pack();\n    frame.setVisible(true);\n}}\n</code></pre>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":12911095,"reputation":1,"user_id":9336756,"display_name":"yogesh koushal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638450324,"creation_date":1638450324,"answer_id":70200032,"question_id":51352855,"body_markdown":"Works fine with.\r\n\r\n\r\n\r\n       &lt;androidx.core.widget.NestedScrollView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:overScrollMode=&quot;never&quot;&gt;\r\n\r\n                &lt;LinearLayout\r\n                    android:id=&quot;@+id/llContainer&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n\r\n\r\n\r\n                &lt;/LinearLayout&gt;\r\n            &lt;/androidx.core.widget.NestedScrollView&gt;","title":"Remove collapsed effect in NestedScrollView","body":"<p>Works fine with.</p>\n<pre><code>   &lt;androidx.core.widget.NestedScrollView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:overScrollMode=&quot;never&quot;&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/llContainer&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n\n\n\n            &lt;/LinearLayout&gt;\n        &lt;/androidx.core.widget.NestedScrollView&gt;\n</code></pre>\n"}],"owner":{"account_id":13867100,"reputation":121,"user_id":10011387,"display_name":"Andr&#233; Silva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638450324,"creation_date":1531696144,"question_id":51352855,"body_markdown":"In my `ExploreFragment.java` I have a **NestedScrollView**. I want to remove this &#39;collapsed&#39; effect that it has:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;ve tried to add this line to the XML `android:overScrollMode=&quot;never&quot;` but it doesn&#39;t work...\r\n\r\n  [1]: https://i.stack.imgur.com/fX699.gif","title":"Remove collapsed effect in NestedScrollView","body":"<p>In my <code>ExploreFragment.java</code> I have a <strong>NestedScrollView</strong>. I want to remove this 'collapsed' effect that it has:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fX699.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fX699.gif\" alt=\"enter image description here\"></a></p>\n\n<p>I've tried to add this line to the XML <code>android:overScrollMode=\"never\"</code> but it doesn't work...</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638355611,"creation_date":1638355611,"answer_id":70182840,"question_id":70180147,"body_markdown":"&gt; it only counts the red mark, what I needed is the black mark\r\n\r\nThat&#39;s the expected behavior since you are looping through the data only once. Calling `.child(userID)` will always count the number of children under the user ID node. To count all the children of all users, you need to add a nested loop like in the following lines of code:\r\n\r\n\tDatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference babylistRef = db.child(&quot;babylist&quot;);\r\n    babylistRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n\t\t\tif (task.isSuccessful()) {\r\n                int userCounter = 0;\r\n\t\t\t\tfor (DataSnapshot userSnapshot : task.getResult().getChildren()) {\r\n\t\t\t\t    for (DataSnapshot snapshot : userSnapshot.getChildren()) {\r\n\t\t\t\t        userCounter++;\r\n\t\t\t\t    }\r\n\t\t\t\t}\r\n\t\t\t\tbabycount.setText(userCounter);\r\n\t\t\t\tusercount.setText(userCounter);\r\n\t\t\t} else {\r\n\t\t\t\tLog.d(&quot;TAG&quot;, task.getException().getMessage()); //Don&#39;t ignore potential errors!\r\n\t\t\t}\r\n\t\t}\r\n\t});","title":"How can I count the UID under the UserID in Firebase?","body":"<blockquote>\n<p>it only counts the red mark, what I needed is the black mark</p>\n</blockquote>\n<p>That's the expected behavior since you are looping through the data only once. Calling <code>.child(userID)</code> will always count the number of children under the user ID node. To count all the children of all users, you need to add a nested loop like in the following lines of code:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference babylistRef = db.child(&quot;babylist&quot;);\nbabylistRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            int userCounter = 0;\n            for (DataSnapshot userSnapshot : task.getResult().getChildren()) {\n                for (DataSnapshot snapshot : userSnapshot.getChildren()) {\n                    userCounter++;\n                }\n            }\n            babycount.setText(userCounter);\n            usercount.setText(userCounter);\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Don't ignore potential errors!\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":23255251,"reputation":13,"user_id":17342406,"display_name":"Teej"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70182840,"answer_count":1,"score":0,"last_activity_date":1638450009,"creation_date":1638341712,"question_id":70180147,"body_markdown":"It only counts the red mark, what I needed is the black mark.\r\n\r\n\r\n[Link for the image][1]\r\n\r\nHow do I retrieve the data?\r\n\r\n\r\n    String userID = FirebaseAuth.getInstance().getUid();\r\n    \r\n    public static final String TAG = &quot;TAG&quot;;\r\n    \r\n    \r\n    DatabaseReference db = FirebaseDatabase.getInstance().getReference().child(&quot;babylist&quot;).child(userID);\r\n\r\n    db.addListenerForSingleValueEvent(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(DataSnapshot dataSnapshot) {\r\n            int counter = (int) dataSnapshot.getChildrenCount();\r\n            String userCounter = String.valueOf(counter);\r\n            babycount.setText(userCounter);\r\n            usercount.setText(userCounter);\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(DatabaseError databaseError) {\r\n        }\r\n    });\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OF5oo.png","title":"How can I count the UID under the UserID in Firebase?","body":"<p>It only counts the red mark, what I needed is the black mark.</p>\n<p><a href=\"https://i.stack.imgur.com/OF5oo.png\" rel=\"nofollow noreferrer\">Link for the image</a></p>\n<p>How do I retrieve the data?</p>\n<pre><code>String userID = FirebaseAuth.getInstance().getUid();\n\npublic static final String TAG = &quot;TAG&quot;;\n\n\nDatabaseReference db = FirebaseDatabase.getInstance().getReference().child(&quot;babylist&quot;).child(userID);\n\ndb.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        int counter = (int) dataSnapshot.getChildrenCount();\n        String userCounter = String.valueOf(counter);\n        babycount.setText(userCounter);\n        usercount.setText(userCounter);\n    }\n\n    @Override\n    public void onCancelled(DatabaseError databaseError) {\n    }\n});\n</code></pre>\n"},{"tags":["java","hibernate","kotlin","jpa"],"comments":[{"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1638449719,"post_id":70199560,"comment_id":124094298,"body_markdown":"ElementCollection is highly inefficient.","body":"ElementCollection is highly inefficient."},{"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"score":0,"creation_date":1638450252,"post_id":70199560,"comment_id":124094534,"body_markdown":"@Alien Why? Can you provide more details? Does it mean that `@Embeddable` and `@Embedded` are also inefficient and it&#39;s better to use `@OneToOne`?","body":"@Alien Why? Can you provide more details? Does it mean that <code>@Embeddable</code> and <code>@Embedded</code> are also inefficient and it&#39;s better to use <code>@OneToOne</code>?"}],"answers":[{"tags":[],"owner":{"account_id":18275525,"reputation":70,"user_id":15392604,"display_name":"Fastaca Girasol"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638450006,"creation_date":1638450006,"answer_id":70199955,"question_id":70199560,"body_markdown":"`@OneToMany` is meant for when you want to map to a db table as an entity.\r\n`@ElementCollection`: you can look at it as a regular collection which is used for mapping non-entities.\r\n\r\nref: https://stackoverflow.com/questions/8969059/difference-between-onetomany-and-elementcollection/8969169\r\n\r\n**E.G:** you have a `Perfume` entity and it has `2` lists.\r\n\r\n - *scents* - is a list of attribues (should be `@ElementCollection`) since it contains some attributes which are not entities.\r\n - *customers* - is a list of entities (should be `@oneToMany` since it should be mapped as an entity)\r\n\r\n","title":"@ElementCollection over @OneToMany or vice-versa","body":"<p><code>@OneToMany</code> is meant for when you want to map to a db table as an entity.\n<code>@ElementCollection</code>: you can look at it as a regular collection which is used for mapping non-entities.</p>\n<p>ref: <a href=\"https://stackoverflow.com/questions/8969059/difference-between-onetomany-and-elementcollection/8969169\">Difference between @OneToMany and @ElementCollection?</a></p>\n<p><strong>E.G:</strong> you have a <code>Perfume</code> entity and it has <code>2</code> lists.</p>\n<ul>\n<li><em>scents</em> - is a list of attribues (should be <code>@ElementCollection</code>) since it contains some attributes which are not entities.</li>\n<li><em>customers</em> - is a list of entities (should be <code>@oneToMany</code> since it should be mapped as an entity)</li>\n</ul>\n"}],"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638450006,"creation_date":1638448462,"question_id":70199560,"body_markdown":"Let&#39;s assume I do have an `Offer` entity. It has a property `salaries` that may be a list of `Salary` objects. The `Salary` cannot exist without an `Offer`, so does it mean I should use `@ElementCollection` or may not? When should we use `@ElementCollection` and when `@OneToMany`. The same question comes to my mind when we talk about `@Embeddable` and `@Embedded`, is it worth using it, or perhaps it&#39;s better to have a `@OneToOne` relationship.\r\n\r\n```\r\nclass Salary(\r\n\tval salary_from: Integer,\r\n    val salary_to: Integer,\r\n    val salary_type: Type\r\n)\r\n\r\nclass Offer(\r\n    @ElementCollection\r\n    @CollectionTable(name = &quot;offer_salaries&quot;, joinColumns = @JoinColumn(name = &quot;offer_id&quot;))\r\n    @OrderColumn\r\n    @Column(name = &quot;salaries&quot;)\r\n\tval salaries: List&lt;Salary&gt;;\r\n)\r\n```","title":"@ElementCollection over @OneToMany or vice-versa","body":"<p>Let's assume I do have an <code>Offer</code> entity. It has a property <code>salaries</code> that may be a list of <code>Salary</code> objects. The <code>Salary</code> cannot exist without an <code>Offer</code>, so does it mean I should use <code>@ElementCollection</code> or may not? When should we use <code>@ElementCollection</code> and when <code>@OneToMany</code>. The same question comes to my mind when we talk about <code>@Embeddable</code> and <code>@Embedded</code>, is it worth using it, or perhaps it's better to have a <code>@OneToOne</code> relationship.</p>\n<pre><code>class Salary(\n    val salary_from: Integer,\n    val salary_to: Integer,\n    val salary_type: Type\n)\n\nclass Offer(\n    @ElementCollection\n    @CollectionTable(name = &quot;offer_salaries&quot;, joinColumns = @JoinColumn(name = &quot;offer_id&quot;))\n    @OrderColumn\n    @Column(name = &quot;salaries&quot;)\n    val salaries: List&lt;Salary&gt;;\n)\n</code></pre>\n"},{"tags":["java","image","image-processing","random","processing"],"comments":[{"owner":{"account_id":1249654,"reputation":159460,"user_id":1210329,"display_name":"geocodezip"},"score":0,"creation_date":1638444492,"post_id":70198536,"comment_id":124092017,"body_markdown":"possible duplicate of [Load random Image from a directory using javafx](https://stackoverflow.com/questions/21428050/load-random-image-from-a-directory-using-javafx)","body":"possible duplicate of <a href=\"https://stackoverflow.com/questions/21428050/load-random-image-from-a-directory-using-javafx\">Load random Image from a directory using javafx</a>"}],"answers":[{"tags":[],"owner":{"account_id":7344434,"reputation":1,"user_id":7302424,"display_name":"Limanan Nursalim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638446229,"creation_date":1638445870,"answer_id":70198930,"question_id":70198536,"body_markdown":"You can start by listing all the files in the directory\r\n\r\n        File folder = new File(&quot;your/path&quot;);\r\n        File[] listOfFiles = folder.listFiles();\r\n\r\n        for (int i = 0; i &lt; listOfFiles.length; i++) {\r\n          if (listOfFiles[i].isFile()) {\r\n            System.out.println(&quot;File &quot; + listOfFiles[i].getName());\r\n          } else if (listOfFiles[i].isDirectory()) {\r\n            System.out.println(&quot;Directory &quot; + listOfFiles[i].getName());\r\n          }\r\n        }\r\n\r\nAnd then use the random function to look for the file you want to use\r\n\r\n        File randomElement = listOfFiles.get(rand.nextInt(listOfFiles.size()));","title":"Random image import in processing","body":"<p>You can start by listing all the files in the directory</p>\n<pre><code>    File folder = new File(&quot;your/path&quot;);\n    File[] listOfFiles = folder.listFiles();\n\n    for (int i = 0; i &lt; listOfFiles.length; i++) {\n      if (listOfFiles[i].isFile()) {\n        System.out.println(&quot;File &quot; + listOfFiles[i].getName());\n      } else if (listOfFiles[i].isDirectory()) {\n        System.out.println(&quot;Directory &quot; + listOfFiles[i].getName());\n      }\n    }\n</code></pre>\n<p>And then use the random function to look for the file you want to use</p>\n<pre><code>    File randomElement = listOfFiles.get(rand.nextInt(listOfFiles.size()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638449972,"creation_date":1638449972,"answer_id":70199948,"question_id":70198536,"body_markdown":"To get a random file from a folder :\r\n\r\n\tFile folder = new File(&quot;path/to/images/folder&quot;);\r\n\tList&lt;File&gt; filesList = Arrays.asList(folder.listFiles());\r\n\tCollections.shuffle(filesList);\r\n\tFile file = filesList.get(0); // a random file ","title":"Random image import in processing","body":"<p>To get a random file from a folder :</p>\n<pre><code>File folder = new File(&quot;path/to/images/folder&quot;);\nList&lt;File&gt; filesList = Arrays.asList(folder.listFiles());\nCollections.shuffle(filesList);\nFile file = filesList.get(0); // a random file \n</code></pre>\n"}],"owner":{"account_id":23300760,"reputation":1,"user_id":17381445,"display_name":"drm17"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1638449972,"creation_date":1638444216,"question_id":70198536,"body_markdown":"I am working on a project in processing at the moment and I would like to import a different random image for each frame every time. Is this even possible? ideally I would like to fill a folder with images and have the program pull a different random image each frame but I am unsure if this can be done. Code to pull a single image is below. \r\n\r\nI would think putting loadImage in the draw loop would work, but is there a way to call a random image from a folder? \r\n\r\n    PImage myImage;\r\n    \r\n    void setup() {    \r\n        size(400, 400);    \r\n        myImage = loadImage(&quot;wood.jpeg&quot;);    \r\n        myImage.loadPixels();\r\n    }\r\n    \r\n    void draw() {\r\n        image(myImage, 100, 100, 200, 200);\r\n    }","title":"Random image import in processing","body":"<p>I am working on a project in processing at the moment and I would like to import a different random image for each frame every time. Is this even possible? ideally I would like to fill a folder with images and have the program pull a different random image each frame but I am unsure if this can be done. Code to pull a single image is below.</p>\n<p>I would think putting loadImage in the draw loop would work, but is there a way to call a random image from a folder?</p>\n<pre><code>PImage myImage;\n\nvoid setup() {    \n    size(400, 400);    \n    myImage = loadImage(&quot;wood.jpeg&quot;);    \n    myImage.loadPixels();\n}\n\nvoid draw() {\n    image(myImage, 100, 100, 200, 200);\n}\n</code></pre>\n"},{"tags":["java","swing","user-interface","progress-bar","gridbaglayout"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1554239231,"post_id":55483102,"comment_id":97676763,"body_markdown":"if you are using a `LayoutManager` (e.g. `GridBagLayout`) it will set the bounds, In that case you must adjust the constraint (e.g. `GridBagConstraint`) to instruct the manager how to lay out the components. You could eventually set the `Insets`, padding, anchor,... [documentaiton](https://docs.oracle.com/en/java/javase/12/docs/api/java.desktop/java/awt/GridBagConstraints.html) (kind o hard to say wihtout knowing what you wnat to accomplish)","body":"if you are using a <code>LayoutManager</code> (e.g. <code>GridBagLayout</code>) it will set the bounds, In that case you must adjust the constraint (e.g. <code>GridBagConstraint</code>) to instruct the manager how to lay out the components. You could eventually set the <code>Insets</code>, padding, anchor,... <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.desktop/java/awt/GridBagConstraints.html\" rel=\"nofollow noreferrer\">documentaiton</a> (kind o hard to say wihtout knowing what you wnat to accomplish)"},{"owner":{"account_id":15663662,"reputation":11,"user_id":11301999,"display_name":"Jeldrik"},"score":0,"creation_date":1554242151,"post_id":55483102,"comment_id":97677865,"body_markdown":"I want to make the progressBar thinner, ipady helps me but also overlaps other components with white space.. maybe i can make it transparent?","body":"I want to make the progressBar thinner, ipady helps me but also overlaps other components with white space.. maybe i can make it transparent?"},{"owner":{"account_id":15663662,"reputation":11,"user_id":11301999,"display_name":"Jeldrik"},"score":0,"creation_date":1554243787,"post_id":55483102,"comment_id":97678370,"body_markdown":"ok i solved it. the ipady was counting for every component, i didnt know^^ I now addes a new constraint only for the progressBar","body":"ok i solved it. the ipady was counting for every component, i didnt know^^ I now addes a new constraint only for the progressBar"}],"owner":{"account_id":15663662,"reputation":11,"user_id":11301999,"display_name":"Jeldrik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638449766,"creation_date":1554237051,"question_id":55483102,"body_markdown":"I use a ProgressBar within a GridBagLayout. Outside of the Layout, setting the boundaries works perfectly. Within the GridBagLayout i can&#39;t adjust them in any way. What can i do?\r\n\r\n    base[i] = new JPanel();\r\n    base[i].setLayout(gbl);\r\n    progressBar[i] = new JProgressBar();\r\n\tprogressBar[i].setForeground(Color.GREEN);\r\n\tprogressBar[i].setValue(s1.getInBesitz().get(i).getAktKp() * 100 / s1.getInBesitz().get(i).getMaxKp());\r\n\tprogressBar[i].setBounds(110, 280, 180, 5);\r\n\tif (progressBar[i].getValue() &lt; 50) {\r\n\t\tprogressBar[i].setForeground(Color.YELLOW);\r\n\t\tif (progressBar[i].getValue() &lt; 25) {\r\n\t\t\tprogressBar[i].setForeground(Color.RED);\r\n\t\t}\r\n\t}\r\n    gbc.gridx = 1;\r\n\tgbc.gridy = 5;\r\n\tgbc.fill = GridBagConstraints.NONE;\r\n\tbase[i].add(progressBar[i], gbc);","title":"Can i set boundaries for the JProgressBar in a GridBagLayout?","body":"<p>I use a ProgressBar within a GridBagLayout. Outside of the Layout, setting the boundaries works perfectly. Within the GridBagLayout i can't adjust them in any way. What can i do?</p>\n\n<pre><code>base[i] = new JPanel();\nbase[i].setLayout(gbl);\nprogressBar[i] = new JProgressBar();\nprogressBar[i].setForeground(Color.GREEN);\nprogressBar[i].setValue(s1.getInBesitz().get(i).getAktKp() * 100 / s1.getInBesitz().get(i).getMaxKp());\nprogressBar[i].setBounds(110, 280, 180, 5);\nif (progressBar[i].getValue() &lt; 50) {\n    progressBar[i].setForeground(Color.YELLOW);\n    if (progressBar[i].getValue() &lt; 25) {\n        progressBar[i].setForeground(Color.RED);\n    }\n}\ngbc.gridx = 1;\ngbc.gridy = 5;\ngbc.fill = GridBagConstraints.NONE;\nbase[i].add(progressBar[i], gbc);\n</code></pre>\n"},{"tags":["java","arrays","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":6151821,"reputation":4968,"user_id":4796021,"display_name":"David P&#233;rez Cabrera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1512484830,"creation_date":1512484255,"answer_id":47656025,"question_id":47655891,"body_markdown":"The correct syntax is this:\r\n\r\n    int[][] iArr = Arrays.stream(s.split(&quot;\\n&quot;)).map(r\r\n            -&gt; // It transforms a String &#39;r&#39; into a int[]\r\n            Arrays.stream(r.split(&quot;\\t&quot;)).mapToInt(Integer::parseInt).toArray()\r\n    // It transforms a Stream of int[] into int [][]\r\n    ).toArray(int[][]::new);\r\n    \r\n    System.out.println(Arrays.deepToString(iArr));//Print your result","title":"String to 2D Array with streams [Java 8]","body":"<p>The correct syntax is this:</p>\n\n<pre><code>int[][] iArr = Arrays.stream(s.split(\"\\n\")).map(r\n        -&gt; // It transforms a String 'r' into a int[]\n        Arrays.stream(r.split(\"\\t\")).mapToInt(Integer::parseInt).toArray()\n// It transforms a Stream of int[] into int [][]\n).toArray(int[][]::new);\n\nSystem.out.println(Arrays.deepToString(iArr));//Print your result\n</code></pre>\n"}],"owner":{"account_id":12436637,"reputation":43,"user_id":9056771,"display_name":"Danny Delic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1176,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":47656025,"answer_count":1,"score":-1,"last_activity_date":1638449755,"creation_date":1512483846,"question_id":47655891,"body_markdown":"&lt;!-- What are you trying to accomplish? (Please include sample data.) --&gt;\r\nI am currently learning how to do streams, while doing some assignments for fun (Advent of code). While I know how how to do it with temporary arrays, I do not know the correct syntax for streams or if it is even possible to do it in one line.\r\n\r\n&lt;!-- Paste the part of the code that shows the problem. (Please indent 4 spaces.) --&gt;\r\n\r\n    public class M3 {\r\n    public static void main(String[] args) {\r\n        String s = &quot;104\\t240\\t147\\t246\\t123\\t175\\t372\\t71\\t116\\t230\\t260\\t118\\t202\\t270\\t277\\t292\\n&quot; +\r\n                &quot;740\\t755\\t135\\t205\\t429\\t822\\t844\\t90\\t828\\t115\\t440\\t805\\t526\\t91\\t519\\t373\\n&quot; +\r\n                &quot;1630\\t991\\t1471\\t1294\\t52\\t1566\\t50\\t1508\\t1367\\t1489\\t55\\t547\\t342\\t512\\t323\\t51\\n&quot; +\r\n                &quot;1356\\t178\\t1705\\t119\\t1609\\t1409\\t245\\t292\\t1434\\t694\\t405\\t1692\\t247\\t193\\t1482\\t1407\\n&quot; +\r\n                &quot;2235\\t3321\\t3647\\t212\\t1402\\t3711\\t3641\\t1287\\t2725\\t692\\t1235\\t3100\\t123\\t144\\t104\\t101\\n&quot; +\r\n                &quot;1306\\t1224\\t1238\\t186\\t751\\t734\\t1204\\t1275\\t366\\t149\\t1114\\t166\\t1118\\t239\\t153\\t943\\n&quot; +\r\n                &quot;132\\t1547\\t1564\\t512\\t2643\\t2376\\t2324\\t2159\\t1658\\t107\\t1604\\t145\\t2407\\t131\\t2073\\t1878\\n&quot; +\r\n                &quot;1845\\t91\\t1662\\t108\\t92\\t1706\\t1815\\t1797\\t1728\\t1150\\t1576\\t83\\t97\\t547\\t1267\\t261\\n&quot; +\r\n                &quot;78\\t558\\t419\\t435\\t565\\t107\\t638\\t173\\t93\\t580\\t338\\t52\\t633\\t256\\t377\\t73\\n&quot; +\r\n                &quot;1143\\t3516\\t4205\\t3523\\t148\\t401\\t3996\\t3588\\t300\\t1117\\t2915\\t1649\\t135\\t134\\t182\\t267\\n&quot; +\r\n                &quot;156\\t2760\\t1816\\t2442\\t2985\\t990\\t2598\\t1273\\t167\\t821\\t138\\t141\\t2761\\t2399\\t1330\\t1276\\n&quot; +\r\n                &quot;3746\\t3979\\t2989\\t161\\t4554\\t156\\t3359\\t173\\t3319\\t192\\t3707\\t264\\t762\\t2672\\t4423\\t2924\\n&quot; +\r\n                &quot;3098\\t4309\\t4971\\t5439\\t131\\t171\\t5544\\t595\\t154\\t571\\t4399\\t4294\\t160\\t6201\\t4329\\t5244\\n&quot; +\r\n                &quot;728\\t249\\t1728\\t305\\t2407\\t239\\t691\\t2241\\t2545\\t1543\\t55\\t2303\\t1020\\t753\\t193\\t1638\\n&quot; +\r\n                &quot;260\\t352\\t190\\t877\\t118\\t77\\t1065\\t1105\\t1085\\t1032\\t71\\t87\\t851\\t56\\t1161\\t667\\n&quot; +\r\n                &quot;1763\\t464\\t182\\t1932\\t1209\\t640\\t545\\t931\\t1979\\t197\\t1774\\t174\\t2074\\t1800\\t939\\t161&quot;;\r\n\r\n        int[][] iArr = Arrays.stream(s.split(&quot;\\n&quot;)).map(String[]::String.split(&quot;\\t&quot;));\r\n    }\r\n\r\n\r\n\r\n&lt;!-- What do you expect the result to be? --&gt;\r\n\r\n&lt;!-- What is the actual result you get? (Please include any errors.) --&gt;\r\n","title":"String to 2D Array with streams [Java 8]","body":"<p>\nI am currently learning how to do streams, while doing some assignments for fun (Advent of code). While I know how how to do it with temporary arrays, I do not know the correct syntax for streams or if it is even possible to do it in one line.</p>\n\n\n\n<pre><code>public class M3 {\npublic static void main(String[] args) {\n    String s = \"104\\t240\\t147\\t246\\t123\\t175\\t372\\t71\\t116\\t230\\t260\\t118\\t202\\t270\\t277\\t292\\n\" +\n            \"740\\t755\\t135\\t205\\t429\\t822\\t844\\t90\\t828\\t115\\t440\\t805\\t526\\t91\\t519\\t373\\n\" +\n            \"1630\\t991\\t1471\\t1294\\t52\\t1566\\t50\\t1508\\t1367\\t1489\\t55\\t547\\t342\\t512\\t323\\t51\\n\" +\n            \"1356\\t178\\t1705\\t119\\t1609\\t1409\\t245\\t292\\t1434\\t694\\t405\\t1692\\t247\\t193\\t1482\\t1407\\n\" +\n            \"2235\\t3321\\t3647\\t212\\t1402\\t3711\\t3641\\t1287\\t2725\\t692\\t1235\\t3100\\t123\\t144\\t104\\t101\\n\" +\n            \"1306\\t1224\\t1238\\t186\\t751\\t734\\t1204\\t1275\\t366\\t149\\t1114\\t166\\t1118\\t239\\t153\\t943\\n\" +\n            \"132\\t1547\\t1564\\t512\\t2643\\t2376\\t2324\\t2159\\t1658\\t107\\t1604\\t145\\t2407\\t131\\t2073\\t1878\\n\" +\n            \"1845\\t91\\t1662\\t108\\t92\\t1706\\t1815\\t1797\\t1728\\t1150\\t1576\\t83\\t97\\t547\\t1267\\t261\\n\" +\n            \"78\\t558\\t419\\t435\\t565\\t107\\t638\\t173\\t93\\t580\\t338\\t52\\t633\\t256\\t377\\t73\\n\" +\n            \"1143\\t3516\\t4205\\t3523\\t148\\t401\\t3996\\t3588\\t300\\t1117\\t2915\\t1649\\t135\\t134\\t182\\t267\\n\" +\n            \"156\\t2760\\t1816\\t2442\\t2985\\t990\\t2598\\t1273\\t167\\t821\\t138\\t141\\t2761\\t2399\\t1330\\t1276\\n\" +\n            \"3746\\t3979\\t2989\\t161\\t4554\\t156\\t3359\\t173\\t3319\\t192\\t3707\\t264\\t762\\t2672\\t4423\\t2924\\n\" +\n            \"3098\\t4309\\t4971\\t5439\\t131\\t171\\t5544\\t595\\t154\\t571\\t4399\\t4294\\t160\\t6201\\t4329\\t5244\\n\" +\n            \"728\\t249\\t1728\\t305\\t2407\\t239\\t691\\t2241\\t2545\\t1543\\t55\\t2303\\t1020\\t753\\t193\\t1638\\n\" +\n            \"260\\t352\\t190\\t877\\t118\\t77\\t1065\\t1105\\t1085\\t1032\\t71\\t87\\t851\\t56\\t1161\\t667\\n\" +\n            \"1763\\t464\\t182\\t1932\\t1209\\t640\\t545\\t931\\t1979\\t197\\t1774\\t174\\t2074\\t1800\\t939\\t161\";\n\n    int[][] iArr = Arrays.stream(s.split(\"\\n\")).map(String[]::String.split(\"\\t\"));\n}\n</code></pre>\n\n\n\n\n"},{"tags":["java","data-conversion"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1638445308,"post_id":70198728,"comment_id":124092382,"body_markdown":"&quot;I&#39;m surprised that == returns true for those values&quot; - the `int` is being promoted to `float`, and the two float values are the same. The closest `float` value to 2147483647 is 2147483648.000000.","body":"&quot;I&#39;m surprised that == returns true for those values&quot; - the <code>int</code> is being promoted to <code>float</code>, and the two float values are the same. The closest <code>float</code> value to 2147483647 is 2147483648.000000."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1638446743,"creation_date":1638446743,"answer_id":70199148,"question_id":70198728,"body_markdown":"floats are rather inexact concepts. They are also mostly pointless unless you&#39;re running on at this point rather old hardware, or interacting specifically with systems and/or protocols that work in floats or have &#39;use a float&#39; hardcoded in their spec. Which may be true, but if it isn&#39;t, stop using floats and start using `double` - unless you have a fairly large `float[]` there is __zero__ memory and performance difference, floats are just less accurate.\r\n\r\nYour algorithm cannot fail when using `int` vs `double` - __all__ ints are perfectly representable as `double`.\r\n\r\n## Let&#39;s first explain your code snippet\r\n\r\nThe underlying error here is the notion of &#39;silent casting&#39; and how java took some intentional liberties there.\r\n\r\nIn computer systems in general, you can only compare like with like. It&#39;s easy to put in exact terms of bits and machine code what it means to determine whether `a == b` is true or false if a and b are of the exact same type. It is not at all clear when a and b are different things. Same thing applies to pretty much any operator; `a + b`, if both are e.g. an `int`, is a clear and easily understood operation. But if `a` is a `char` and `b` is, say, a `double`, that&#39;s not clear at all.\r\n\r\nHence, in java, __all__ binary operators that involve different types __are illegal__. In basis, there is no bytecode to directly compare a float and a double, for example, or to add a string to an int.\r\n\r\nHowever, there is syntax sugar: When you write `a == b` where a and b are different types, __and__ java determines that one of two types is &#39;a subset&#39; of the other, then java will simply silently convert the &#39;smaller&#39; type to the &#39;larger&#39; type, so that the operation can then succeed. For example:\r\n\r\n```\r\nint x = 5;\r\nlong y = 5;\r\nSystem.out.println(x == y);\r\n```\r\n\r\nThis works - because java realizes that converting an `int` to a `long` value is not ever going to fail, so it doesn&#39;t bother you with explicitly specifying that you intended the code to do this. In JLS terms, this is called a __widening conversion__. In contrast, any attempt to convert a &#39;larger&#39; type to a &#39;smaller&#39; type isn&#39;t legal, you have to explicitly cast:\r\n\r\n```\r\nlong x = 5;\r\nint y = x; // does not compile\r\nint y = (int) x; // but this does.\r\n```\r\n\r\nThe point is simply this: When you write the reverse of the above (`int x = 5; long y = x;`), the code is __identical__, it&#39;s just that compiler silently injects the `(long)` cast for you, on the basis that no loss will occur. The same thing happens here:\r\n\r\n```\r\nint x = 5;\r\nlong y = 10;\r\nlong z = x + y;\r\n```\r\n\r\nThat compiles _because_ `javac` adds some syntax sugar for you, specifically, that is compiled as if it says: `long z = ((long) x) + y;`. The &#39;type&#39; of the expression `x + y` there is `long`.\r\n\r\n__Here&#39;s the key trick: Java considers converting an int to a float, as well as an int or long to a double - a widening conversion.__\r\n\r\nAs in, javac will just assume it can do that safely without any loss and therefore will not enforce that the programmer explicitly acknowledges by manually adding the cast. However, int-&gt;float, as well as long-&gt;double are __not actually entirely safe__.\r\n\r\nfloats can represent every integral value between -2^23 to +2^23, and doubles can represent every integral value between -2^52 to +2^52 ([source](https://en.wikipedia.org/wiki/Floating-point_arithmetic)). But `int` can represent every integral value between `-2^31` to `+2^31-1`, and longs `-2^63` to `+2^63-1`. That means at the edges (very large negative/positive numbers), integral values exist that are representable in ints but not in floats, or longs but not in doubles (all ints are representable in double, fortunately; `int -&gt; double` conversion is entirely safe). But java doesn&#39;t &#39;acknowledge&#39; this, which means silent widening conversions can nevertheless toss out data (introduce rounding) silently.\r\n\r\nThat is what happens here: `(f == i)` is syntax sugared into `(f == ((float) i))` and the conversion from int to float introduces the rounding.\r\n\r\n## The solution\r\n\r\nMostly, when using doubles and floats and nevertheless wishing for exact numbers, you&#39;ve already messed up. These concepts fundamentally just aren&#39;t exact and this exactness cannot be sideloaded in by attempting to account for error bands, as the errors introduced due to the rounding behaviour of float and double cannot be tracked (not easily, at any rate). You should not be using float/double as a consequence. Either find an atomary unit and represent those in terms of int/long, or use `BigDecimal`. (example: To write bookkeeping software, __do not__ store finance amounts as a `double`. __do__ store them as &#39;cents&#39; (or satoshis or yen or pennies or whatever the atomic unit is in that currency) in `long`, or, use `BigDecimal` if you really know what you are doing).\r\n\r\n## I want an answer anyway\r\n\r\nIf you&#39;re absolutely positive that using float (or even double) here is acceptable and you still want exactness, we have a few solutions.\r\n\r\nOption 1 is to employ the power of BigDecimal:\r\n\r\n```\r\nnew BigDecimal(someDouble).intValueExact()\r\n```\r\n\r\nThis works, is 100% reliable (unless float to double conversion can knock a non-exact value into an exact one somehow, I don&#39;t think that can happen), and throws. It&#39;s also very slow.\r\n\r\nAn alternative is to employ our knowledge of how the IEEE floating point standard works.\r\n\r\nA real simple answer is simply to run your algorithm as you wrote it, but to add an additional check: If the value your `int` gets is below `-2^23` or above `+2^23` then it _probably_ isn&#39;t correct. However, there are still a smattering of numbers below -2^23 and +2^23 that are perfectly representable in both float and int, just, no longer every number at that point. If you want an algorithm that will accept those exact numbers as well, then it gets much more complicated. My advice is not to delve into that cesspool: If you have a process where you end up with a `float` that is anywhere near such extremes, and you want to turn them to `int` but only if that is possible without loss, you&#39;ve arrived at a crazy question and you need to rewire the parts that you got you there instead!\r\n\r\nIf you really need that, instead of trying to numbercrunch the `float`, I suggest using the `BigDecimal().intValueExact()` trick if you truly must have this.\r\n","title":"Exact conversion from float to int","body":"<p>floats are rather inexact concepts. They are also mostly pointless unless you're running on at this point rather old hardware, or interacting specifically with systems and/or protocols that work in floats or have 'use a float' hardcoded in their spec. Which may be true, but if it isn't, stop using floats and start using <code>double</code> - unless you have a fairly large <code>float[]</code> there is <strong>zero</strong> memory and performance difference, floats are just less accurate.</p>\n<p>Your algorithm cannot fail when using <code>int</code> vs <code>double</code> - <strong>all</strong> ints are perfectly representable as <code>double</code>.</p>\n<h2>Let's first explain your code snippet</h2>\n<p>The underlying error here is the notion of 'silent casting' and how java took some intentional liberties there.</p>\n<p>In computer systems in general, you can only compare like with like. It's easy to put in exact terms of bits and machine code what it means to determine whether <code>a == b</code> is true or false if a and b are of the exact same type. It is not at all clear when a and b are different things. Same thing applies to pretty much any operator; <code>a + b</code>, if both are e.g. an <code>int</code>, is a clear and easily understood operation. But if <code>a</code> is a <code>char</code> and <code>b</code> is, say, a <code>double</code>, that's not clear at all.</p>\n<p>Hence, in java, <strong>all</strong> binary operators that involve different types <strong>are illegal</strong>. In basis, there is no bytecode to directly compare a float and a double, for example, or to add a string to an int.</p>\n<p>However, there is syntax sugar: When you write <code>a == b</code> where a and b are different types, <strong>and</strong> java determines that one of two types is 'a subset' of the other, then java will simply silently convert the 'smaller' type to the 'larger' type, so that the operation can then succeed. For example:</p>\n<pre><code>int x = 5;\nlong y = 5;\nSystem.out.println(x == y);\n</code></pre>\n<p>This works - because java realizes that converting an <code>int</code> to a <code>long</code> value is not ever going to fail, so it doesn't bother you with explicitly specifying that you intended the code to do this. In JLS terms, this is called a <strong>widening conversion</strong>. In contrast, any attempt to convert a 'larger' type to a 'smaller' type isn't legal, you have to explicitly cast:</p>\n<pre><code>long x = 5;\nint y = x; // does not compile\nint y = (int) x; // but this does.\n</code></pre>\n<p>The point is simply this: When you write the reverse of the above (<code>int x = 5; long y = x;</code>), the code is <strong>identical</strong>, it's just that compiler silently injects the <code>(long)</code> cast for you, on the basis that no loss will occur. The same thing happens here:</p>\n<pre><code>int x = 5;\nlong y = 10;\nlong z = x + y;\n</code></pre>\n<p>That compiles <em>because</em> <code>javac</code> adds some syntax sugar for you, specifically, that is compiled as if it says: <code>long z = ((long) x) + y;</code>. The 'type' of the expression <code>x + y</code> there is <code>long</code>.</p>\n<p><strong>Here's the key trick: Java considers converting an int to a float, as well as an int or long to a double - a widening conversion.</strong></p>\n<p>As in, javac will just assume it can do that safely without any loss and therefore will not enforce that the programmer explicitly acknowledges by manually adding the cast. However, int-&gt;float, as well as long-&gt;double are <strong>not actually entirely safe</strong>.</p>\n<p>floats can represent every integral value between -2^23 to +2^23, and doubles can represent every integral value between -2^52 to +2^52 (<a href=\"https://en.wikipedia.org/wiki/Floating-point_arithmetic\" rel=\"noreferrer\">source</a>). But <code>int</code> can represent every integral value between <code>-2^31</code> to <code>+2^31-1</code>, and longs <code>-2^63</code> to <code>+2^63-1</code>. That means at the edges (very large negative/positive numbers), integral values exist that are representable in ints but not in floats, or longs but not in doubles (all ints are representable in double, fortunately; <code>int -&gt; double</code> conversion is entirely safe). But java doesn't 'acknowledge' this, which means silent widening conversions can nevertheless toss out data (introduce rounding) silently.</p>\n<p>That is what happens here: <code>(f == i)</code> is syntax sugared into <code>(f == ((float) i))</code> and the conversion from int to float introduces the rounding.</p>\n<h2>The solution</h2>\n<p>Mostly, when using doubles and floats and nevertheless wishing for exact numbers, you've already messed up. These concepts fundamentally just aren't exact and this exactness cannot be sideloaded in by attempting to account for error bands, as the errors introduced due to the rounding behaviour of float and double cannot be tracked (not easily, at any rate). You should not be using float/double as a consequence. Either find an atomary unit and represent those in terms of int/long, or use <code>BigDecimal</code>. (example: To write bookkeeping software, <strong>do not</strong> store finance amounts as a <code>double</code>. <strong>do</strong> store them as 'cents' (or satoshis or yen or pennies or whatever the atomic unit is in that currency) in <code>long</code>, or, use <code>BigDecimal</code> if you really know what you are doing).</p>\n<h2>I want an answer anyway</h2>\n<p>If you're absolutely positive that using float (or even double) here is acceptable and you still want exactness, we have a few solutions.</p>\n<p>Option 1 is to employ the power of BigDecimal:</p>\n<pre><code>new BigDecimal(someDouble).intValueExact()\n</code></pre>\n<p>This works, is 100% reliable (unless float to double conversion can knock a non-exact value into an exact one somehow, I don't think that can happen), and throws. It's also very slow.</p>\n<p>An alternative is to employ our knowledge of how the IEEE floating point standard works.</p>\n<p>A real simple answer is simply to run your algorithm as you wrote it, but to add an additional check: If the value your <code>int</code> gets is below <code>-2^23</code> or above <code>+2^23</code> then it <em>probably</em> isn't correct. However, there are still a smattering of numbers below -2^23 and +2^23 that are perfectly representable in both float and int, just, no longer every number at that point. If you want an algorithm that will accept those exact numbers as well, then it gets much more complicated. My advice is not to delve into that cesspool: If you have a process where you end up with a <code>float</code> that is anywhere near such extremes, and you want to turn them to <code>int</code> but only if that is possible without loss, you've arrived at a crazy question and you need to rewire the parts that you got you there instead!</p>\n<p>If you really need that, instead of trying to numbercrunch the <code>float</code>, I suggest using the <code>BigDecimal().intValueExact()</code> trick if you truly must have this.</p>\n"}],"owner":{"account_id":121787,"reputation":11660,"user_id":315129,"accept_rate":93,"display_name":"vbezhenar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70199148,"answer_count":1,"score":0,"last_activity_date":1638449712,"creation_date":1638445034,"question_id":70198728,"body_markdown":"I want to convert float value to int value or throw an exception if this conversion is not exact.\r\n\r\nI&#39;ve found the following suggestion: use `Math.round` to convert and then use `==` to check whether those values are equal. If they&#39;re equal, then conversion is exact, otherwise it is not.\r\n\r\nBut I&#39;ve found an example which does not work. Here&#39;s code demonstrating this example:\r\n\r\n```\r\n        String s = &quot;2147483648&quot;;\r\n\r\n        float f = Float.parseFloat(s);\r\n        System.out.printf(&quot;f=%f\\n&quot;, f);\r\n\r\n        int i = Math.round(f);\r\n        System.out.printf(&quot;i=%d\\n&quot;, i);\r\n\r\n        System.out.printf(&quot;(f == i)=%s\\n&quot;, (f == i));\r\n```\r\n\r\nIt outputs:\r\n\r\n```\r\nf=2147483648.000000\r\ni=2147483647\r\n(f == i)=true\r\n```\r\n\r\nI understand that 2147483648 does not fit into integer range, but I&#39;m surprised that `==` returns true for those values. Is there better way to compare float and int? I guess it&#39;s possible to convert both values to strings, but that would be extremely slow for such a primitive function.","title":"Exact conversion from float to int","body":"<p>I want to convert float value to int value or throw an exception if this conversion is not exact.</p>\n<p>I've found the following suggestion: use <code>Math.round</code> to convert and then use <code>==</code> to check whether those values are equal. If they're equal, then conversion is exact, otherwise it is not.</p>\n<p>But I've found an example which does not work. Here's code demonstrating this example:</p>\n<pre><code>        String s = &quot;2147483648&quot;;\n\n        float f = Float.parseFloat(s);\n        System.out.printf(&quot;f=%f\\n&quot;, f);\n\n        int i = Math.round(f);\n        System.out.printf(&quot;i=%d\\n&quot;, i);\n\n        System.out.printf(&quot;(f == i)=%s\\n&quot;, (f == i));\n</code></pre>\n<p>It outputs:</p>\n<pre><code>f=2147483648.000000\ni=2147483647\n(f == i)=true\n</code></pre>\n<p>I understand that 2147483648 does not fit into integer range, but I'm surprised that <code>==</code> returns true for those values. Is there better way to compare float and int? I guess it's possible to convert both values to strings, but that would be extremely slow for such a primitive function.</p>\n"},{"tags":["java","swing","layout-manager","image-resizing","gridbaglayout"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1556028310,"post_id":55811248,"comment_id":98292863,"body_markdown":"While it’s not commonly done, [Icon is an interface](https://docs.oracle.com/en/java/javase/12/docs/api/java.desktop/javax/swing/Icon.html) which you can implement yourself.","body":"While it’s not commonly done, <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.desktop/javax/swing/Icon.html\" rel=\"nofollow noreferrer\">Icon is an interface</a> which you can implement yourself."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1556100111,"post_id":55811248,"comment_id":98319538,"body_markdown":"See also [this answer](https://stackoverflow.com/a/21066065/418556) to How to change font size of JButton according to its size?","body":"See also <a href=\"https://stackoverflow.com/a/21066065/418556\">this answer</a> to How to change font size of JButton according to its size?"}],"answers":[{"tags":[],"owner":{"account_id":15782914,"reputation":624,"user_id":11388693,"display_name":"OverLoadedBurden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556209726,"creation_date":1556138848,"answer_id":55838325,"question_id":55811248,"body_markdown":"&gt; I tried to print out the size of the button (after creating it and also after adding it). It always gives me 0 and therefore an ArgumentException (width (0) and height (0) must be non-zero).\r\n\r\nyes this would be for a lot of reasons \r\n\r\n - the container is not validated\r\n - even if validated their is no guarantee for the size as long as it&#39;s return of ```getTopLevelAncestor()``` is not displayable ! (witch in this case your ```TestResize``` object) \r\n - setting the border to null makes half the way to make your button goes to 0,0 in size as the first reliable call for the size is the preferred size and when it holds no contents and no even insets (the border insets) the ui will give it 0,0 as it&#39;s totally empty !\r\n\r\nso the concept was wrong from the start and even if you didn&#39;t made the border null the size will be equal to the border insets (and for all of the api border&#39;s that is tight !!! even for a plain &quot;hi&quot; with font size of 5!!!).\r\n\r\nso your best bet in situation like this (but not yours as i mentioned) is to call \r\n```\r\nback.getPreferredSize()\r\n```\r\n for this to work(in your situation ) you have to make the starting size of the image your self then the when setting the icon to the button the ui will give it an extra size.\r\n\r\n \r\n&gt; Also I want to dynamically size the font as big as the button\r\n\r\n@AndrewThompson pointed to a great examples in that answer he wrote and @trashgod good examples too all of them are spectacular!! +1 for that.\r\n\r\n&lt;hr /&gt;\r\n&lt;h3&gt; Edit&lt;/h3&gt;\r\n\r\n&gt; After that ask the Buttons its size and then add the Icon with the same size?\r\n\r\nyou have to understand that when using layout managers every thing size is relative to it&#39;s parent !!\r\nfor your example \r\nthe icon button --&gt; the level panel (witch it&#39;s the content pane) --&gt; the root pane ```JLayeredPane``` object --&gt; the root pane it self --&gt; finally the frame !!\r\nevery thing is resized based on the parent size but if in case the parent size 0,0 then don&#39;t expect the sub-component&#39;s to get more than that !!\r\nand just keep in mind that ```GridBagLayout``` is the most complex of all the layout and it can behave in a strange way .\r\n\r\nand the usage of \r\n```\r\ncomponent.getWidth();\r\n//and\r\ncomponent.getHeight();\r\n```\r\nis to get the real size &#39;ON-THE-SCREEN&#39; the return might not be even related to the ```getSize()``` or the others (maximum ,minimum) .\r\n\r\nso the best way to get the icon the same as the size you have to make a \r\n```ComponentListener```\r\n\r\n&gt; Icon with the same size \r\n\r\nthis is a bad idea because if the L &amp; F have a default insets for button the you will give it more than what it would take!!\r\n  and with the ```ComponentListener``` you will make it have an animation of resizing !!\r\n\r\nhere is refactored version of your class ,\r\n```ComponentAdapter``` is an implementation of the interface ```ComponentListener``` that implements every method in empty way , am using it so i don&#39;t have to implement all other methods too .\r\n```\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ComponentAdapter;\r\nimport java.awt.event.ComponentEvent;\r\nimport mdlaf.utils.MaterialImages;\r\n\r\npublic class TestResize extends JFrame {\r\n\r\n    private Container cp;\r\n    private JPanel levelPane;\r\n    private GridBagConstraints gbc = new GridBagConstraints();\r\n\r\n    public TestResize() {\r\n        super();\r\n        setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\r\n        int frameWidth = 200;\r\n        int frameHeight = 200;\r\n        setSize(frameWidth, frameHeight);\r\n        Dimension d = Toolkit.getDefaultToolkit().getScreenSize();\r\n        int x = (d.width - getSize().width) / 2;\r\n        int y = (d.height - getSize().height) / 2;\r\n        setLocation(x, y);\r\n        setTitle(&quot;temp&quot;);\r\n        setResizable(false);\r\n        cp = getContentPane();\r\n        cp.setLayout(new BorderLayout());\r\n        createLevelMenu();\r\n        GridBagLayout gbl = (GridBagLayout) levelPane.getLayout();\r\n        gbc = gbl.getConstraints(back);\r\n        gbc.fill = GridBagConstraints.BOTH;\r\n        levelPane.remove(back);\r\n        levelPane.add(back, gbc);\r\n        back.addComponentListener(new ComponentAdapter() {\r\n            @Override\r\n            public void componentResized(ComponentEvent e) {\r\n                //here you can add an image relative to the new size !!\r\n                if (back.getIcon() == null) {\r\n                    fixIcon();\r\n                } else if (back.getIcon().getIconHeight() != back.getHeight() - heightPadding || back.getIcon().getIconWidth() != back.getWidth() - widthPadding) {\r\n\r\n                    fixIcon();\r\n                }\r\n            }\r\n\r\n        });\r\n        setVisible(true);\r\n    } // end of public temp\r\n\r\n    private int widthPadding;\r\n    private int heightPadding;\r\n\r\n    private void fixIcon() {\r\n        Image img = (new ImageIcon(MaterialImages.BACK_ARROW)).getImage().getScaledInstance(back.getWidth() - widthPadding, back.getHeight() - heightPadding, Image.SCALE_SMOOTH);\r\n        back.setIcon(new ImageIcon(img));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new TestResize();\r\n    } // end of main\r\n    JButton back;\r\n\r\n    public void createLevelMenu() {\r\n\r\n        if (levelPane == null) {\r\n            levelPane = new JPanel(new GridBagLayout());\r\n\r\n            gbc.fill = GridBagConstraints.NONE;\r\n\r\n            back = new JButton();\r\n            back.setOpaque(false);\r\n            back.setBackground(null);\r\n            back.setBorder(null);\r\n            addObject(0, 0, 1, 1, GridBagConstraints.FIRST_LINE_START, back);\r\n            JPanel menu = new JPanel(new BorderLayout());\r\n            menu.setBackground(Color.RED);\r\n            JLabel l = new JLabel(&quot;Demo&quot;);\r\n            l.setFont(l.getFont().deriveFont(30)); //Font Size as big as Possible (adjust\r\n            l.setHorizontalAlignment(SwingConstants.CENTER);\r\n            l.setVerticalAlignment(SwingConstants.CENTER);\r\n            menu.add(l, BorderLayout.CENTER);\r\n            gbc.fill = GridBagConstraints.BOTH;\r\n            addObject(2, 2, 1, 4, GridBagConstraints.CENTER, menu);\r\n\r\n            JButton info = new JButton(&quot;Info&quot;);\r\n            addObject(3, 3, 1.25f, 1.25f, GridBagConstraints.LAST_LINE_END, info);\r\n\r\n            cp.add(levelPane, BorderLayout.CENTER);\r\n        }\r\n    }\r\n\r\n    public void addObject(int gridX, int gridY, double weightX, double weightY, int anchor, JComponent comp) {\r\n        gbc.gridx = gridX;\r\n        gbc.gridy = gridY;\r\n        gbc.weightx = weightX;\r\n        gbc.weighty = weightY;\r\n        gbc.anchor = anchor;\r\n        levelPane.add(comp, gbc);\r\n    }\r\n\r\n}\r\n```\r\nthe ```widthPadding``` and the ```heightPadding ```is the total of the L &amp; F insets for button&#39;s , i can&#39;t help you with that you have to do it by your self, this is a L &amp; F dependent .\r\nbut for a hack you can change the ```componentResized``` method to this (i discourage this)\r\n```\r\npublic void componentResized(ComponentEvent e) {\r\n                //here you can add an image relative to the new size !!\r\n                if (back.getIcon() == null) {\r\n                    back.removeComponentListener(this);\r\n                    fixIcon();\r\n                }\r\n```\r\n &gt;I have already seen this example but I find it a little complicated, so I thought there is maybe a better (easier) solution.\r\n\r\nsadly i don&#39;t think so , but @AndrewThompson answer seems easy to learn , i would study that if i want to start reading about ```GlyphVector``` it&#39;s neat and it&#39;s simple , and happy coding .","title":"Resizing Icon in Button as big as Buttons size (+ using LayoutManager) and make Font as big as the Buttons size","body":"<blockquote>\n  <p>I tried to print out the size of the button (after creating it and also after adding it). It always gives me 0 and therefore an ArgumentException (width (0) and height (0) must be non-zero).</p>\n</blockquote>\n\n<p>yes this would be for a lot of reasons </p>\n\n<ul>\n<li>the container is not validated</li>\n<li>even if validated their is no guarantee for the size as long as it's return of <code>getTopLevelAncestor()</code> is not displayable ! (witch in this case your <code>TestResize</code> object) </li>\n<li>setting the border to null makes half the way to make your button goes to 0,0 in size as the first reliable call for the size is the preferred size and when it holds no contents and no even insets (the border insets) the ui will give it 0,0 as it's totally empty !</li>\n</ul>\n\n<p>so the concept was wrong from the start and even if you didn't made the border null the size will be equal to the border insets (and for all of the api border's that is tight !!! even for a plain \"hi\" with font size of 5!!!).</p>\n\n<p>so your best bet in situation like this (but not yours as i mentioned) is to call </p>\n\n<pre><code>back.getPreferredSize()\n</code></pre>\n\n<p>for this to work(in your situation ) you have to make the starting size of the image your self then the when setting the icon to the button the ui will give it an extra size.</p>\n\n<blockquote>\n  <p>Also I want to dynamically size the font as big as the button</p>\n</blockquote>\n\n<p>@AndrewThompson pointed to a great examples in that answer he wrote and @trashgod good examples too all of them are spectacular!! +1 for that.</p>\n\n<hr />\n\n<h3> Edit</h3>\n\n<blockquote>\n  <p>After that ask the Buttons its size and then add the Icon with the same size?</p>\n</blockquote>\n\n<p>you have to understand that when using layout managers every thing size is relative to it's parent !!\nfor your example \nthe icon button --> the level panel (witch it's the content pane) --> the root pane <code>JLayeredPane</code> object --> the root pane it self --> finally the frame !!\nevery thing is resized based on the parent size but if in case the parent size 0,0 then don't expect the sub-component's to get more than that !!\nand just keep in mind that <code>GridBagLayout</code> is the most complex of all the layout and it can behave in a strange way .</p>\n\n<p>and the usage of </p>\n\n<pre><code>component.getWidth();\n//and\ncomponent.getHeight();\n</code></pre>\n\n<p>is to get the real size 'ON-THE-SCREEN' the return might not be even related to the <code>getSize()</code> or the others (maximum ,minimum) .</p>\n\n<p>so the best way to get the icon the same as the size you have to make a \n<code>ComponentListener</code></p>\n\n<blockquote>\n  <p>Icon with the same size </p>\n</blockquote>\n\n<p>this is a bad idea because if the L &amp; F have a default insets for button the you will give it more than what it would take!!\n  and with the <code>ComponentListener</code> you will make it have an animation of resizing !!</p>\n\n<p>here is refactored version of your class ,\n<code>ComponentAdapter</code> is an implementation of the interface <code>ComponentListener</code> that implements every method in empty way , am using it so i don't have to implement all other methods too .</p>\n\n<pre><code>\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\nimport mdlaf.utils.MaterialImages;\n\npublic class TestResize extends JFrame {\n\n    private Container cp;\n    private JPanel levelPane;\n    private GridBagConstraints gbc = new GridBagConstraints();\n\n    public TestResize() {\n        super();\n        setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\n        int frameWidth = 200;\n        int frameHeight = 200;\n        setSize(frameWidth, frameHeight);\n        Dimension d = Toolkit.getDefaultToolkit().getScreenSize();\n        int x = (d.width - getSize().width) / 2;\n        int y = (d.height - getSize().height) / 2;\n        setLocation(x, y);\n        setTitle(\"temp\");\n        setResizable(false);\n        cp = getContentPane();\n        cp.setLayout(new BorderLayout());\n        createLevelMenu();\n        GridBagLayout gbl = (GridBagLayout) levelPane.getLayout();\n        gbc = gbl.getConstraints(back);\n        gbc.fill = GridBagConstraints.BOTH;\n        levelPane.remove(back);\n        levelPane.add(back, gbc);\n        back.addComponentListener(new ComponentAdapter() {\n            @Override\n            public void componentResized(ComponentEvent e) {\n                //here you can add an image relative to the new size !!\n                if (back.getIcon() == null) {\n                    fixIcon();\n                } else if (back.getIcon().getIconHeight() != back.getHeight() - heightPadding || back.getIcon().getIconWidth() != back.getWidth() - widthPadding) {\n\n                    fixIcon();\n                }\n            }\n\n        });\n        setVisible(true);\n    } // end of public temp\n\n    private int widthPadding;\n    private int heightPadding;\n\n    private void fixIcon() {\n        Image img = (new ImageIcon(MaterialImages.BACK_ARROW)).getImage().getScaledInstance(back.getWidth() - widthPadding, back.getHeight() - heightPadding, Image.SCALE_SMOOTH);\n        back.setIcon(new ImageIcon(img));\n    }\n\n    public static void main(String[] args) {\n        new TestResize();\n    } // end of main\n    JButton back;\n\n    public void createLevelMenu() {\n\n        if (levelPane == null) {\n            levelPane = new JPanel(new GridBagLayout());\n\n            gbc.fill = GridBagConstraints.NONE;\n\n            back = new JButton();\n            back.setOpaque(false);\n            back.setBackground(null);\n            back.setBorder(null);\n            addObject(0, 0, 1, 1, GridBagConstraints.FIRST_LINE_START, back);\n            JPanel menu = new JPanel(new BorderLayout());\n            menu.setBackground(Color.RED);\n            JLabel l = new JLabel(\"Demo\");\n            l.setFont(l.getFont().deriveFont(30)); //Font Size as big as Possible (adjust\n            l.setHorizontalAlignment(SwingConstants.CENTER);\n            l.setVerticalAlignment(SwingConstants.CENTER);\n            menu.add(l, BorderLayout.CENTER);\n            gbc.fill = GridBagConstraints.BOTH;\n            addObject(2, 2, 1, 4, GridBagConstraints.CENTER, menu);\n\n            JButton info = new JButton(\"Info\");\n            addObject(3, 3, 1.25f, 1.25f, GridBagConstraints.LAST_LINE_END, info);\n\n            cp.add(levelPane, BorderLayout.CENTER);\n        }\n    }\n\n    public void addObject(int gridX, int gridY, double weightX, double weightY, int anchor, JComponent comp) {\n        gbc.gridx = gridX;\n        gbc.gridy = gridY;\n        gbc.weightx = weightX;\n        gbc.weighty = weightY;\n        gbc.anchor = anchor;\n        levelPane.add(comp, gbc);\n    }\n\n}\n</code></pre>\n\n<p>the <code>widthPadding</code> and the <code>heightPadding</code>is the total of the L &amp; F insets for button's , i can't help you with that you have to do it by your self, this is a L &amp; F dependent .\nbut for a hack you can change the <code>componentResized</code> method to this (i discourage this)</p>\n\n<pre><code>public void componentResized(ComponentEvent e) {\n                //here you can add an image relative to the new size !!\n                if (back.getIcon() == null) {\n                    back.removeComponentListener(this);\n                    fixIcon();\n                }\n</code></pre>\n\n<blockquote>\n  <p>I have already seen this example but I find it a little complicated, so I thought there is maybe a better (easier) solution.</p>\n</blockquote>\n\n<p>sadly i don't think so , but @AndrewThompson answer seems easy to learn , i would study that if i want to start reading about <code>GlyphVector</code> it's neat and it's simple , and happy coding .</p>\n"}],"owner":{"account_id":15767859,"reputation":71,"user_id":11377684,"display_name":"Kevin Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638449712,"creation_date":1556022531,"question_id":55811248,"body_markdown":"Currently I am trying to add an icon which should be as big as the button (added to `GridBagLayout`). I want to scale the icon to the size of the button, but my button shows its size as 0.\r\n\r\nI tried to print out the size of the button (after creating it and also after adding it). It always gives me 0 and therefore an `ArgumentException` (width (0) and height (0) must be non-zero). \r\n\r\nAlso I want to dynamically size the font as big as the button is (no implementation yet but also doesn&#39;t work because the buttons doesn&#39;t give its size). \r\nDoes anybody has a solution for dynamic resizing using `LayoutManager`? Maybe there is a way to get the cell size and then scale the image to the cell size?\r\n\r\nHere is my test code:\r\n \r\n```java\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n\r\n\r\n    public class TestResize extends JFrame {\r\n\r\n    private Container cp;\r\n    private JPanel levelPane;\r\n    private GridBagConstraints gbc = new GridBagConstraints();\r\n\r\n\r\n    public TestResize() {\r\n        super();\r\n        setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\r\n        int frameWidth = 200;\r\n        int frameHeight = 200;\r\n        setSize(frameWidth, frameHeight);\r\n        Dimension d = Toolkit.getDefaultToolkit().getScreenSize();\r\n        int x = (d.width - getSize().width) / 2;\r\n        int y = (d.height - getSize().height) / 2;\r\n        setLocation(x, y);\r\n        setTitle(&quot;temp&quot;);\r\n        setResizable(false);\r\n        cp = getContentPane();\r\n        cp.setLayout(new BorderLayout());\r\n\r\n        createLevelMenu();\r\n\r\n\r\n        setVisible(true);\r\n    } // end of public temp\r\n\r\n\r\n    public static void main(String[] args) {\r\n        new TestResize();\r\n    } // end of main\r\n\r\n    public void createLevelMenu(){\r\n\r\n        if (levelPane == null){\r\n            levelPane = new JPanel(new GridBagLayout());\r\n\r\n            gbc.fill = GridBagConstraints.NONE;\r\n\r\n            JButton back = new JButton();\r\n            back.setOpaque(false);\r\n            back.setBackground(null);\r\n            back.setBorder(null);\r\n\r\n            addObject(0,0,1,1,GridBagConstraints.FIRST_LINE_START,back);\r\n            Image img = (new ImageIcon(&quot;Content/Graphics/UI/returnIcon.png&quot;)).getImage().getScaledInstance(back.getWidth(),back.getHeight(),Image.SCALE_SMOOTH);\r\n            back.setIcon(new ImageIcon(img));\r\n\r\n            JPanel menu = new JPanel(new BorderLayout());\r\n            menu.setBackground(Color.RED);\r\n            JLabel l = new JLabel(&quot;Demo&quot;);\r\n            l.setFont(l.getFont().deriveFont(30)); //Font Size as big as Possible (adjust\r\n            l.setHorizontalAlignment(SwingConstants.CENTER);\r\n            l.setVerticalAlignment(SwingConstants.CENTER);\r\n            menu.add(l,BorderLayout.CENTER);\r\n            gbc.fill = GridBagConstraints.BOTH;\r\n            addObject(2,2,1,4,GridBagConstraints.CENTER,menu);\r\n            \r\n            JButton info = new JButton(&quot;Info&quot;);\r\n            addObject(3,3,1.25f,1.25f,GridBagConstraints.LAST_LINE_END,info);\r\n\r\n            cp.add(levelPane, BorderLayout.CENTER);\r\n        }\r\n    }\r\n   \r\n    public void addObject(int gridX,int gridY, double weightX,double weightY,int anchor, JComponent comp){\r\n        gbc.gridx =gridX;\r\n        gbc.gridy = gridY;\r\n        gbc.weightx = weightX;\r\n        gbc.weighty = weightY;\r\n        gbc.anchor = anchor;\r\n        levelPane.add(comp,gbc);\r\n    }\r\n\r\n\r\n    }\r\n```\r\n","title":"Resizing Icon in Button as big as Buttons size (+ using LayoutManager) and make Font as big as the Buttons size","body":"<p>Currently I am trying to add an icon which should be as big as the button (added to <code>GridBagLayout</code>). I want to scale the icon to the size of the button, but my button shows its size as 0.</p>\n\n<p>I tried to print out the size of the button (after creating it and also after adding it). It always gives me 0 and therefore an <code>ArgumentException</code> (width (0) and height (0) must be non-zero). </p>\n\n<p>Also I want to dynamically size the font as big as the button is (no implementation yet but also doesn't work because the buttons doesn't give its size). \nDoes anybody has a solution for dynamic resizing using <code>LayoutManager</code>? Maybe there is a way to get the cell size and then scale the image to the cell size?</p>\n\n<p>Here is my test code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\n    import javax.swing.*;\n    import java.awt.*;\n\n\n    public class TestResize extends JFrame {\n\n    private Container cp;\n    private JPanel levelPane;\n    private GridBagConstraints gbc = new GridBagConstraints();\n\n\n    public TestResize() {\n        super();\n        setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\n        int frameWidth = 200;\n        int frameHeight = 200;\n        setSize(frameWidth, frameHeight);\n        Dimension d = Toolkit.getDefaultToolkit().getScreenSize();\n        int x = (d.width - getSize().width) / 2;\n        int y = (d.height - getSize().height) / 2;\n        setLocation(x, y);\n        setTitle(\"temp\");\n        setResizable(false);\n        cp = getContentPane();\n        cp.setLayout(new BorderLayout());\n\n        createLevelMenu();\n\n\n        setVisible(true);\n    } // end of public temp\n\n\n    public static void main(String[] args) {\n        new TestResize();\n    } // end of main\n\n    public void createLevelMenu(){\n\n        if (levelPane == null){\n            levelPane = new JPanel(new GridBagLayout());\n\n            gbc.fill = GridBagConstraints.NONE;\n\n            JButton back = new JButton();\n            back.setOpaque(false);\n            back.setBackground(null);\n            back.setBorder(null);\n\n            addObject(0,0,1,1,GridBagConstraints.FIRST_LINE_START,back);\n            Image img = (new ImageIcon(\"Content/Graphics/UI/returnIcon.png\")).getImage().getScaledInstance(back.getWidth(),back.getHeight(),Image.SCALE_SMOOTH);\n            back.setIcon(new ImageIcon(img));\n\n            JPanel menu = new JPanel(new BorderLayout());\n            menu.setBackground(Color.RED);\n            JLabel l = new JLabel(\"Demo\");\n            l.setFont(l.getFont().deriveFont(30)); //Font Size as big as Possible (adjust\n            l.setHorizontalAlignment(SwingConstants.CENTER);\n            l.setVerticalAlignment(SwingConstants.CENTER);\n            menu.add(l,BorderLayout.CENTER);\n            gbc.fill = GridBagConstraints.BOTH;\n            addObject(2,2,1,4,GridBagConstraints.CENTER,menu);\n\n            JButton info = new JButton(\"Info\");\n            addObject(3,3,1.25f,1.25f,GridBagConstraints.LAST_LINE_END,info);\n\n            cp.add(levelPane, BorderLayout.CENTER);\n        }\n    }\n\n    public void addObject(int gridX,int gridY, double weightX,double weightY,int anchor, JComponent comp){\n        gbc.gridx =gridX;\n        gbc.gridy = gridY;\n        gbc.weightx = weightX;\n        gbc.weighty = weightY;\n        gbc.anchor = anchor;\n        levelPane.add(comp,gbc);\n    }\n\n\n    }\n</code></pre>\n"},{"tags":["java","swing","layout-manager","gridbaglayout"],"comments":[{"owner":{"account_id":2270024,"reputation":1657,"user_id":1997707,"accept_rate":80,"display_name":"John Mercier"},"score":0,"creation_date":1564681612,"post_id":57314201,"comment_id":101120820,"body_markdown":"This is a good question. The only thing I can suggest adding is a screenshot of the issue. Other than that it looks good to me. Welcome to stackoverflow!","body":"This is a good question. The only thing I can suggest adding is a screenshot of the issue. Other than that it looks good to me. Welcome to stackoverflow!"}],"answers":[{"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1564685925,"creation_date":1564685925,"answer_id":57315448,"question_id":57314201,"body_markdown":"_there are no GridBagConstraints defined_\r\n\r\n      //Create a JFrame and add the ScrollPane to it. \r\n      JFrame frame = new JFrame(&quot;JScrollPane Test&quot;);\r\n      frame.getContentPane().setLayout(new GridBagLayout()); //Remove this line here and it works exactly how I want it to.\r\n      GridBagConstraints c = new GridBagConstraints();\r\n      c.fill = GridBagConstraints.BOTH;\r\n      c.weightx = 1.0;\r\n      c.weighty = 1.0;\r\n      frame.getContentPane().add( tablePane, c );\r\n","title":"GridBagLayout causing JScrollPane to disappear when the frame is smaller than the table","body":"<p><em>there are no GridBagConstraints defined</em></p>\n\n<pre><code>  //Create a JFrame and add the ScrollPane to it. \n  JFrame frame = new JFrame(\"JScrollPane Test\");\n  frame.getContentPane().setLayout(new GridBagLayout()); //Remove this line here and it works exactly how I want it to.\n  GridBagConstraints c = new GridBagConstraints();\n  c.fill = GridBagConstraints.BOTH;\n  c.weightx = 1.0;\n  c.weighty = 1.0;\n  frame.getContentPane().add( tablePane, c );\n</code></pre>\n"}],"owner":{"account_id":16431782,"reputation":55,"user_id":11870425,"display_name":"skellyton3"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57315448,"answer_count":1,"score":2,"last_activity_date":1638449646,"creation_date":1564680586,"question_id":57314201,"body_markdown":"I have a JTable, that has been put into a JScrollPane. \r\nI then add that JScrollPane to a JFrame so that the JScrollpane will show up on the JFrame. This works. \r\n\r\n\r\nThe issue I am facing is that when I manually resize the JFrame to be smaller than the JScrollPane, the entire JScrollPane just disappears into a small icon. I am using GridBagLayout for my JFrame, and have narrowed it down that for some reason I think GridBag is causing this. I can remove the GridBagLayout and it works as I intend it to. \r\n\r\nI have managed to get the functionality I am looking for, but only when I don&#39;t have the JFrame set to use GridBagLayout. \r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import javax.swing.table.DefaultTableModel;\r\n\r\n\r\n    public class GridBagIssueExample\r\n    {\r\n     public static void main(String[] args)\r\n    {\r\n\tJTable NewTable = new JTable(); //create a JTable. Set up the Data model and add some data to it.\r\n  \tDefaultTableModel dtm = new DefaultTableModel();\r\n  \tNewTable.setModel(dtm);\r\n  \tNewTable.setRowHeight(100);\r\n\tString[] Headers = new String[] {&quot;Test0&quot;, &quot;Test1&quot;, &quot;LongTest&quot;, &quot;SuperLongTest&quot;, &quot;ST&quot;};\r\n\r\n\tdtm.setColumnIdentifiers(Headers);\r\n\tdtm.addRow (new String[] {&quot;0&quot;, &quot;1&quot;, &quot;123123123123&quot;, &quot;2312321&quot;, &quot;1&quot;});\r\n\tdtm.addRow (new String[] {&quot;1&quot;, &quot;1&quot;, &quot;123123123123&quot;, &quot;2312321&quot;, &quot;1&quot;});\r\n\tdtm.addRow (new String[] {&quot;2&quot;, &quot;1&quot;, &quot;123123123123&quot;, &quot;2312321&quot;, &quot;1&quot;});\r\n\tdtm.addRow (new String[] {&quot;3&quot;, &quot;1&quot;, &quot;123123123123&quot;, &quot;2312321&quot;, &quot;1&quot;});\r\n\tdtm.addRow (new String[] {&quot;4&quot;, &quot;1&quot;, &quot;123123123123&quot;, &quot;2312321&quot;, &quot;1&quot;});\r\n\tdtm.addRow (new String[] {&quot;5&quot;, &quot;1&quot;, &quot;123123123123&quot;, &quot;2312321&quot;, &quot;1&quot;});\r\n  \tNewTable.setAutoResizeMode(JTable.AUTO_RESIZE_OFF); \r\n    //AUTO_RESIZE_OFF is important to get the functionality I want.\r\n\r\n    //Create a JScrollPane using the table.\r\n      JScrollPane TablePane = new JScrollPane(NewTable); \r\n      \t\t\t\t\t\t\t\t\t\t\r\n      //Create a JFrame and add the ScrollPane to it. \r\n      JFrame frame = new JFrame(&quot;JScrollPane Test&quot;);\r\n      frame.getContentPane().add(TablePane);\r\n    \r\n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n      frame.pack();\r\n      frame.setLocationRelativeTo(null);\r\n\r\n      frame.setLayout(new GridBagLayout()); //Remove this line here and it works exactly how I want it to.\r\n      frame.setVisible(true);\r\n    }\r\n    }\r\n\r\n\r\nThe code above demonstrates the issue. It will create a JTable, add it to a JSrollPane, and add that to a JFrame. Run this and resize the JFrame to be smaller than the JScrollPane to see my issue.\r\n\r\nRight at the end there is a line that sets the JFrame to use GridBagLayout.\r\n\r\n    \r\n\r\nIf you comment out or remove this single line, the entire thing works exactly how I want it to. I need to use GridBagLayout for what I am working on, so simply not using it is not an option here. \r\n\r\n\r\nHelp on this would be greatly appreciated as even after much Googling I cannot figure out why this is happening.","title":"GridBagLayout causing JScrollPane to disappear when the frame is smaller than the table","body":"<p>I have a JTable, that has been put into a JScrollPane. \nI then add that JScrollPane to a JFrame so that the JScrollpane will show up on the JFrame. This works. </p>\n\n<p>The issue I am facing is that when I manually resize the JFrame to be smaller than the JScrollPane, the entire JScrollPane just disappears into a small icon. I am using GridBagLayout for my JFrame, and have narrowed it down that for some reason I think GridBag is causing this. I can remove the GridBagLayout and it works as I intend it to. </p>\n\n<p>I have managed to get the functionality I am looking for, but only when I don't have the JFrame set to use GridBagLayout. </p>\n\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.table.DefaultTableModel;\n\n\npublic class GridBagIssueExample\n{\n public static void main(String[] args)\n{\nJTable NewTable = new JTable(); //create a JTable. Set up the Data model and add some data to it.\nDefaultTableModel dtm = new DefaultTableModel();\nNewTable.setModel(dtm);\nNewTable.setRowHeight(100);\nString[] Headers = new String[] {\"Test0\", \"Test1\", \"LongTest\", \"SuperLongTest\", \"ST\"};\n\ndtm.setColumnIdentifiers(Headers);\ndtm.addRow (new String[] {\"0\", \"1\", \"123123123123\", \"2312321\", \"1\"});\ndtm.addRow (new String[] {\"1\", \"1\", \"123123123123\", \"2312321\", \"1\"});\ndtm.addRow (new String[] {\"2\", \"1\", \"123123123123\", \"2312321\", \"1\"});\ndtm.addRow (new String[] {\"3\", \"1\", \"123123123123\", \"2312321\", \"1\"});\ndtm.addRow (new String[] {\"4\", \"1\", \"123123123123\", \"2312321\", \"1\"});\ndtm.addRow (new String[] {\"5\", \"1\", \"123123123123\", \"2312321\", \"1\"});\nNewTable.setAutoResizeMode(JTable.AUTO_RESIZE_OFF); \n//AUTO_RESIZE_OFF is important to get the functionality I want.\n\n//Create a JScrollPane using the table.\n  JScrollPane TablePane = new JScrollPane(NewTable); \n\n  //Create a JFrame and add the ScrollPane to it. \n  JFrame frame = new JFrame(\"JScrollPane Test\");\n  frame.getContentPane().add(TablePane);\n\n  frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n  frame.pack();\n  frame.setLocationRelativeTo(null);\n\n  frame.setLayout(new GridBagLayout()); //Remove this line here and it works exactly how I want it to.\n  frame.setVisible(true);\n}\n}\n</code></pre>\n\n<p>The code above demonstrates the issue. It will create a JTable, add it to a JSrollPane, and add that to a JFrame. Run this and resize the JFrame to be smaller than the JScrollPane to see my issue.</p>\n\n<p>Right at the end there is a line that sets the JFrame to use GridBagLayout.</p>\n\n<p>If you comment out or remove this single line, the entire thing works exactly how I want it to. I need to use GridBagLayout for what I am working on, so simply not using it is not an option here. </p>\n\n<p>Help on this would be greatly appreciated as even after much Googling I cannot figure out why this is happening.</p>\n"},{"tags":["java","apache-pulsar","pulsar","python-pulsar"],"answers":[{"tags":[],"owner":{"account_id":1488695,"reputation":672,"user_id":1396346,"accept_rate":89,"display_name":"ielkhalloufi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638449576,"creation_date":1638208996,"answer_id":70159287,"question_id":70158563,"body_markdown":"I found the answer by manually going through the Admin client:\r\n\r\n     adminClient.topics().resetCursor(&quot;topictest&quot;, &quot;sub-1&quot;, milis);\r\n\r\n\r\nYou can reset/replay for all consumers/subscribers by first retrieving a list of the subscribers:\r\n\r\n    adminClient.topics().getSubscriptions(&quot;topictest&quot;)\r\n\r\n","title":"Replay / Reset messages in Apache Pulsar","body":"<p>I found the answer by manually going through the Admin client:</p>\n<pre><code> adminClient.topics().resetCursor(&quot;topictest&quot;, &quot;sub-1&quot;, milis);\n</code></pre>\n<p>You can reset/replay for all consumers/subscribers by first retrieving a list of the subscribers:</p>\n<pre><code>adminClient.topics().getSubscriptions(&quot;topictest&quot;)\n</code></pre>\n"}],"owner":{"account_id":1488695,"reputation":672,"user_id":1396346,"accept_rate":89,"display_name":"ielkhalloufi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70159287,"answer_count":1,"score":1,"last_activity_date":1638449617,"creation_date":1638205684,"question_id":70158563,"body_markdown":"Is it possible to replay old messages (within retention period)? There is no documentation about it. I would like to do this based on a timestamp or period.\r\n\r\nA hint in the right direction would be much appreciated. \r\n\r\n","title":"Replay / Reset messages in Apache Pulsar","body":"<p>Is it possible to replay old messages (within retention period)? There is no documentation about it. I would like to do this based on a timestamp or period.</p>\n<p>A hint in the right direction would be much appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":38049,"reputation":4533,"user_id":108999,"accept_rate":100,"display_name":"Corv1nus"},"score":0,"creation_date":1586571407,"post_id":61151287,"comment_id":108182396,"body_markdown":"Are you trying to print the values of the integers in the arrayList?  If so, please see here: https://stackoverflow.com/questions/9265719/print-arraylist","body":"Are you trying to print the values of the integers in the arrayList?  If so, please see here: <a href=\"https://stackoverflow.com/questions/9265719/print-arraylist\">stackoverflow.com/questions/9265719/print-arraylist</a>"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1586571699,"post_id":61151287,"comment_id":108182438,"body_markdown":"If the only thing it prints is `[]` and nothing else, then 1) file is empty, or 2) file is not found and you&#39;re *ignoring* the exception.","body":"If the only thing it prints is <code>[]</code> and nothing else, then 1) file is empty, or 2) file is not found and you&#39;re <i>ignoring</i> the exception."},{"owner":{"account_id":3983214,"reputation":4583,"user_id":3284624,"display_name":"D.B."},"score":0,"creation_date":1586571701,"post_id":61151287,"comment_id":108182440,"body_markdown":"Maybe you&#39;re suppressing an exception by not having any code in the `catch` block. Maybe your file is empty so the loop never executes.","body":"Maybe you&#39;re suppressing an exception by not having any code in the <code>catch</code> block. Maybe your file is empty so the loop never executes."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1586571732,"post_id":61151287,"comment_id":108182447,"body_markdown":"Sure! If you get an exception you do nothing except swallow it, and you assume you have successfully read values (even though your file is probably not where you think it is). It would also be an excellent idea to learn how to step through your program with a debugger.","body":"Sure! If you get an exception you do nothing except swallow it, and you assume you have successfully read values (even though your file is probably not where you think it is). It would also be an excellent idea to learn how to step through your program with a debugger."},{"owner":{"account_id":18248116,"reputation":3,"user_id":13283754,"display_name":"Drayden"},"score":0,"creation_date":1586572002,"post_id":61151287,"comment_id":108182484,"body_markdown":"I&#39;ve tried to do the same thing with an arraylist of strings and I did not have that issue, it printed the arraylist with all the numbers in the file. but once I change it back to int arraylist it does not print. @D.B.","body":"I&#39;ve tried to do the same thing with an arraylist of strings and I did not have that issue, it printed the arraylist with all the numbers in the file. but once I change it back to int arraylist it does not print. @D.B."},{"owner":{"account_id":18248116,"reputation":3,"user_id":13283754,"display_name":"Drayden"},"score":0,"creation_date":1586572119,"post_id":61151287,"comment_id":108182500,"body_markdown":"@Andreas it does not print &#39;[]&#39; .","body":"@Andreas it does not print &#39;[]&#39; ."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1586572949,"post_id":61151287,"comment_id":108182645,"body_markdown":"@Drayden Then the code threw some other expection, likely a `NumberFormatException` from the `parseInt()` call, and you&#39;re suppressing that too somewhere up the call hierarchy. **Don&#39;t ignore exceptions** the way you do, unless you have an extremely good reason.","body":"@Drayden Then the code threw some other expection, likely a <code>NumberFormatException</code> from the <code>parseInt()</code> call, and you&#39;re suppressing that too somewhere up the call hierarchy. <b>Don&#39;t ignore exceptions</b> the way you do, unless you have an extremely good reason."}],"answers":[{"tags":[],"owner":{"account_id":18153987,"reputation":116,"user_id":13206280,"display_name":"TheXDShrimp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1586571899,"creation_date":1586571899,"answer_id":61151358,"question_id":61151287,"body_markdown":"I used StringTokenizer and it works perfectly. I am not familiar with using Scanner to split items, so I converted it over into a StringTokenizer. Hope you&#39;re okay with that.\r\n\r\n    public static void main(String[] args) throws IOException {\r\n    \t\tArrayList&lt;Integer&gt; arrayList = new ArrayList&lt;&gt;();\r\n    \t\tScanner s = new Scanner(new File(&quot;input.in&quot;));\r\n    \r\n    \t\tStringTokenizer st = new StringTokenizer(s.nextLine(), &quot;,&quot;);\r\n    \r\n    \t\twhile (st.hasMoreTokens()) {\r\n    \t\t\tint b = Integer.parseInt(st.nextToken());\r\n    \t\t\tarrayList.add(b);\r\n    \t\t}\r\n    \t\ts.close();\r\n    \r\n    \t\tSystem.out.println(arrayList);\r\n    \r\n    }\r\n\r\nThis fills your ArrayList with the values you want","title":"ArrayList of Integers inside a while loop is refusing to print","body":"<p>I used StringTokenizer and it works perfectly. I am not familiar with using Scanner to split items, so I converted it over into a StringTokenizer. Hope you're okay with that.</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n        ArrayList&lt;Integer&gt; arrayList = new ArrayList&lt;&gt;();\n        Scanner s = new Scanner(new File(\"input.in\"));\n\n        StringTokenizer st = new StringTokenizer(s.nextLine(), \",\");\n\n        while (st.hasMoreTokens()) {\n            int b = Integer.parseInt(st.nextToken());\n            arrayList.add(b);\n        }\n        s.close();\n\n        System.out.println(arrayList);\n\n}\n</code></pre>\n\n<p>This fills your ArrayList with the values you want</p>\n"},{"tags":[],"owner":{"account_id":1326248,"reputation":2637,"user_id":1270989,"accept_rate":48,"display_name":"Rupesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586571921,"creation_date":1586571921,"answer_id":61151361,"question_id":61151287,"body_markdown":"You can validate if you are able to read the file or not. Your code can be modifed something like this. Please check if it prints &quot;File found&quot;. If not it means that file you are trying to read is not in classpath. You might want to refer https://mkyong.com/java/java-how-to-read-a-file/\r\n\r\n    ...\r\n    File source = new File(&quot;input.txt&quot;);\r\n    \t    if(source.exists()) {\r\n    \t    \tSystem.out.println(&quot;File found&quot;);\r\n    \t    }\r\n    \t\ttry (Scanner s = new Scanner(source).useDelimiter(&quot;,&quot;)) {\r\n    ...","title":"ArrayList of Integers inside a while loop is refusing to print","body":"<p>You can validate if you are able to read the file or not. Your code can be modifed something like this. Please check if it prints \"File found\". If not it means that file you are trying to read is not in classpath. You might want to refer <a href=\"https://mkyong.com/java/java-how-to-read-a-file/\" rel=\"nofollow noreferrer\">https://mkyong.com/java/java-how-to-read-a-file/</a></p>\n\n<pre><code>...\nFile source = new File(\"input.txt\");\n        if(source.exists()) {\n            System.out.println(\"File found\");\n        }\n        try (Scanner s = new Scanner(source).useDelimiter(\",\")) {\n...\n</code></pre>\n"}],"owner":{"account_id":18248116,"reputation":3,"user_id":13283754,"display_name":"Drayden"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":61151358,"answer_count":2,"score":-2,"last_activity_date":1638449575,"creation_date":1586571220,"question_id":61151287,"body_markdown":"I am solving a [problem](https://adventofcode.com/2019/day/2) from Advent of Code, and trying to put the content of the input file into an arraylist, here&#39;s my code for that:\r\n\r\n    ArrayList&lt;Integer&gt; arrayList = new ArrayList&lt;&gt;();\r\n        try (Scanner s = new Scanner(new File(&quot;input.txt&quot;)).useDelimiter(&quot;,&quot;)) {\r\n            \r\n            while (s.hasNext()) {\r\n                int b = Integer.parseInt(s.next());\r\n                arrayList.add(b);\r\n            }\r\n            \r\n        }\r\n        catch (FileNotFoundException e) {\r\n            // Handle the potential exception\r\n        }\r\n    \r\n    \r\n        System.out.println(arrayList);\r\n\r\n\r\nand when I run it, it does not print the arraylist. I can&#39;t understand why, could someone tell me what I did wrong?","title":"ArrayList of Integers inside a while loop is refusing to print","body":"<p>I am solving a <a href=\"https://adventofcode.com/2019/day/2\" rel=\"nofollow noreferrer\">problem</a> from Advent of Code, and trying to put the content of the input file into an arraylist, here's my code for that:</p>\n\n<pre><code>ArrayList&lt;Integer&gt; arrayList = new ArrayList&lt;&gt;();\n    try (Scanner s = new Scanner(new File(\"input.txt\")).useDelimiter(\",\")) {\n\n        while (s.hasNext()) {\n            int b = Integer.parseInt(s.next());\n            arrayList.add(b);\n        }\n\n    }\n    catch (FileNotFoundException e) {\n        // Handle the potential exception\n    }\n\n\n    System.out.println(arrayList);\n</code></pre>\n\n<p>and when I run it, it does not print the arraylist. I can't understand why, could someone tell me what I did wrong?</p>\n"},{"tags":["java","swing","layout-manager","gridbaglayout"],"comments":[{"owner":{"account_id":1334061,"reputation":12962,"user_id":1277252,"accept_rate":89,"display_name":"Moritz Petersen"},"score":0,"creation_date":1582717042,"post_id":60412993,"comment_id":106871435,"body_markdown":"What do you mean with &quot;all buttons don&#39;t have the same size&quot;?","body":"What do you mean with &quot;all buttons don&#39;t have the same size&quot;?"},{"owner":{"account_id":17850346,"reputation":1,"user_id":12966233,"display_name":"Luis_2904"},"score":0,"creation_date":1582720011,"post_id":60412993,"comment_id":106872955,"body_markdown":"@MoritzPetersen All buttons don&#39;t have the same width if you check it :/","body":"@MoritzPetersen All buttons don&#39;t have the same width if you check it :/"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1638454711,"post_id":60412993,"comment_id":124096619,"body_markdown":"Put the `JButtons` in their own `JPanel` using a `GridLayout`.  Put the Commands display in a separate `JPanel` with a `FlowLayout`.  Put the two `JButtons` in the lower right in a third `JPanel` with a `BoxLayout`.  Put the Commands display `JPanel` and the two `JButtons` `JPanel` in a control `JPanel` with a `BorderLayout`.","body":"Put the <code>JButtons</code> in their own <code>JPanel</code> using a <code>GridLayout</code>.  Put the Commands display in a separate <code>JPanel</code> with a <code>FlowLayout</code>.  Put the two <code>JButtons</code> in the lower right in a third <code>JPanel</code> with a <code>BoxLayout</code>.  Put the Commands display <code>JPanel</code> and the two <code>JButtons</code> <code>JPanel</code> in a control <code>JPanel</code> with a <code>BorderLayout</code>."}],"answers":[{"tags":[],"owner":{"account_id":1334061,"reputation":12962,"user_id":1277252,"accept_rate":89,"display_name":"Moritz Petersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582717131,"creation_date":1582717131,"answer_id":60413084,"question_id":60412993,"body_markdown":"The size and resize behavior can be adjusted using \r\n\r\n    GridBagConstraints c = new GridBagConstraints();\r\n    c.weightx = 1.0;\r\n\r\nfor all buttons.","title":"Disable auto resizing GridBagLayout (Java)","body":"<p>The size and resize behavior can be adjusted using </p>\n\n<pre><code>GridBagConstraints c = new GridBagConstraints();\nc.weightx = 1.0;\n</code></pre>\n\n<p>for all buttons.</p>\n"}],"owner":{"account_id":17850346,"reputation":1,"user_id":12966233,"display_name":"Luis_2904"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638449563,"creation_date":1582716845,"question_id":60412993,"body_markdown":"I&#39;m creating a java desktop app for drinks orders, and I use GridBagLayout.\r\nBut all elements are automatically resized...\r\nI made some research on Google and this website but I did not found what I want...\r\n\r\nThis is my app:\r\n\r\n[Screenshot of my app][1]\r\n\r\nSo as you can see I have two sides : left side contains buttons and right side contains order content and some utilities. But all buttons don&#39;t have the same size (its resized automatically with GridBagLayout) and sometimes the right side is resized too (it depends of what items I put on the left side). I&#39;d like to disable this auto-resize. I already tried with panel.setMaximumSize() but it failed for me.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9SWWG.png","title":"Disable auto resizing GridBagLayout (Java)","body":"<p>I'm creating a java desktop app for drinks orders, and I use GridBagLayout.\nBut all elements are automatically resized...\nI made some research on Google and this website but I did not found what I want...</p>\n\n<p>This is my app:</p>\n\n<p><a href=\"https://i.stack.imgur.com/9SWWG.png\" rel=\"nofollow noreferrer\">Screenshot of my app</a></p>\n\n<p>So as you can see I have two sides : left side contains buttons and right side contains order content and some utilities. But all buttons don't have the same size (its resized automatically with GridBagLayout) and sometimes the right side is resized too (it depends of what items I put on the left side). I'd like to disable this auto-resize. I already tried with panel.setMaximumSize() but it failed for me.</p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1605726666,"post_id":64899722,"comment_id":114742747,"body_markdown":"Welcome to Stack Overflow. Before your next question please take some time to read [ask] as well as [this question checklist](https://codeblog.jonskeet.uk/2012/11/24/stack-overflow-question-checklist/).","body":"Welcome to Stack Overflow. Before your next question please take some time to read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> as well as <a href=\"https://codeblog.jonskeet.uk/2012/11/24/stack-overflow-question-checklist/\" rel=\"nofollow noreferrer\">this question checklist</a>."},{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1605726765,"post_id":64899722,"comment_id":114742789,"body_markdown":"As for your problem, perhaps an array with 25 elements, and use `daysAway` as index into it (first checking that it&#39;s a valid index, of course).","body":"As for your problem, perhaps an array with 25 elements, and use <code>daysAway</code> as index into it (first checking that it&#39;s a valid index, of course)."}],"answers":[{"tags":[],"owner":{"account_id":83432,"reputation":8052,"user_id":233928,"accept_rate":76,"display_name":"Dov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605726917,"creation_date":1605726917,"answer_id":64899855,"question_id":64899722,"body_markdown":"    if (daysAway &gt; 0)\r\n      openDay(25-daysAway); // you haven&#39;t shown what you would do here,\r\n             //  but presumably you don&#39;t need to write 24 separate functions\r\n    else\r\n      notTime.start();","title":"Is there a way to make this switch statement smaller and more professional?","body":"<pre><code>if (daysAway &gt; 0)\n  openDay(25-daysAway); // you haven't shown what you would do here,\n         //  but presumably you don't need to write 24 separate functions\nelse\n  notTime.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1605728290,"creation_date":1605728290,"answer_id":64900179,"question_id":64899722,"body_markdown":" 1. Use Java 14 switch expression syntax:\r\n\r\n\t```lang-java\r\n\tswitch (daysAway) {\r\n\t\tcase 24 -&gt; openDay1();\r\n\t\tcase 23 -&gt; openDay2();\r\n\t\tcase 22 -&gt; openDay3();\r\n\t\tcase 21 -&gt; openDay4();\r\n\t\t// ...\r\n\t\tcase 4  -&gt; openDay21();\r\n\t\tcase 3  -&gt; openDay22();\r\n\t\tcase 2  -&gt; openDay23();\r\n\t\tcase 1  -&gt; openDay24();\r\n\t\tcase 0  -&gt; openChristmas();\r\n\t\tdefault -&gt; notTime.start();\r\n\t}\r\n\t```\r\n\r\n 2. Since the code is very simple, just collapse it on one line:\r\n\r\n\t```lang-java\r\n\tswitch (daysAway) {\r\n\t\tcase 24: openDay1();  break;\r\n\t\tcase 23: openDay2();  break;\r\n\t\tcase 22: openDay3();  break;\r\n\t\tcase 21: openDay4();  break;\r\n\t\t// ...\r\n\t\tcase 4:  openDay21(); break;\r\n\t\tcase 3:  openDay22(); break;\r\n\t\tcase 2:  openDay23(); break;\r\n\t\tcase 1:  openDay24(); break;\r\n\t\tcase 0:  openChristmas(); break;\r\n\t\tdefault: notTime.start();\r\n\t}\r\n\t```\r\n\r\n 3. Use an array of Java 8 method references (notice reversed order):\r\n\r\n\t```lang-java\r\n\tRunnable[] OPEN_METHODS = {\r\n\t\tthis::openChristmas,\r\n\t\tthis::openDay24,\r\n\t\tthis::openDay23,\r\n\t\tthis::openDay22,\r\n\t\tthis::openDay21,\r\n\t\t// ...\r\n\t\tthis::openDay4,\r\n\t\tthis::openDay3,\r\n\t\tthis::openDay2,\r\n\t\tthis::openDay1\r\n\t};\r\n\t```\r\n\t```lang-java\r\n\tif (daysAway &gt;= 0 &amp;&amp; daysAway &lt;= 24) {\r\n\t\tOPEN_METHODS[daysAway].run();\r\n\t} else {\r\n\t\tnotTime.start();\r\n\t}\r\n\t```\r\n\r\n 4. Since you said that *&quot;each (daysAway) case opens a **new class** designed for that day&quot;*, use an interface (e.g. `Runnable`) and an array of class literals:\r\n\r\n\t```lang-java\r\n\tClass&lt;?&gt;[] OPEN_CLASSES = {\r\n\t\tOpenChristmas.class,\r\n\t\tOpenDay24.class,\r\n\t\tOpenDay23.class,\r\n\t\tOpenDay22.class,\r\n\t\tOpenDay21.class,\r\n\t\t// ...\r\n\t\tOpenDay4.class,\r\n\t\tOpenDay3.class,\r\n\t\tOpenDay2.class,\r\n\t\tOpenDay1.class\r\n\t};\r\n\t```\r\n\t```lang-java\r\n\tif (daysAway &lt; 0 || daysAway &gt; 24) {\r\n\t\tnotTime.start();\r\n\t} else {\r\n\t\tRunnable clazz;\r\n\t\ttry {\r\n\t\t\tclazz = (Runnable) OPEN_CLASSES[daysAway].getConstructor().newInstance();\r\n\t\t} catch (ReflectiveOperationException e) {\r\n\t\t\tthrow new AssertionError(&quot;Oops: &quot; + e, e);\r\n\t\t}\r\n\t\tclazz.run();\r\n\t}\r\n\t```\r\n\r\n 5. You can also build the class name dynamically (no array or `switch` statement):\r\n\r\n\t```lang-java\r\n\tif (daysAway &lt; 0 || daysAway &gt; 24) {\r\n\t\tnotTime.start();\r\n\t} else {\r\n\t\tString className = (daysAway == 0 ? &quot;OpenChristmas&quot; : &quot;OpenDay&quot; + (25 - daysAway));\r\n\t\tRunnable clazz;\r\n\t\ttry {\r\n\t\t\tclazz = (Runnable) Class.forName(className).getConstructor().newInstance();\r\n\t\t} catch (ReflectiveOperationException e) {\r\n\t\t\tthrow new AssertionError(&quot;Oops: &quot; + e, e);\r\n\t\t}\r\n\t\tclazz.run();\r\n\t}\r\n\t```","title":"Is there a way to make this switch statement smaller and more professional?","body":"<ol>\n<li><p>Use Java 14 switch expression syntax:</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch (daysAway) {\n    case 24 -&gt; openDay1();\n    case 23 -&gt; openDay2();\n    case 22 -&gt; openDay3();\n    case 21 -&gt; openDay4();\n    // ...\n    case 4  -&gt; openDay21();\n    case 3  -&gt; openDay22();\n    case 2  -&gt; openDay23();\n    case 1  -&gt; openDay24();\n    case 0  -&gt; openChristmas();\n    default -&gt; notTime.start();\n}\n</code></pre>\n</li>\n<li><p>Since the code is very simple, just collapse it on one line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch (daysAway) {\n    case 24: openDay1();  break;\n    case 23: openDay2();  break;\n    case 22: openDay3();  break;\n    case 21: openDay4();  break;\n    // ...\n    case 4:  openDay21(); break;\n    case 3:  openDay22(); break;\n    case 2:  openDay23(); break;\n    case 1:  openDay24(); break;\n    case 0:  openChristmas(); break;\n    default: notTime.start();\n}\n</code></pre>\n</li>\n<li><p>Use an array of Java 8 method references (notice reversed order):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Runnable[] OPEN_METHODS = {\n    this::openChristmas,\n    this::openDay24,\n    this::openDay23,\n    this::openDay22,\n    this::openDay21,\n    // ...\n    this::openDay4,\n    this::openDay3,\n    this::openDay2,\n    this::openDay1\n};\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>if (daysAway &gt;= 0 &amp;&amp; daysAway &lt;= 24) {\n    OPEN_METHODS[daysAway].run();\n} else {\n    notTime.start();\n}\n</code></pre>\n</li>\n<li><p>Since you said that <em>&quot;each (daysAway) case opens a <strong>new class</strong> designed for that day&quot;</em>, use an interface (e.g. <code>Runnable</code>) and an array of class literals:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class&lt;?&gt;[] OPEN_CLASSES = {\n    OpenChristmas.class,\n    OpenDay24.class,\n    OpenDay23.class,\n    OpenDay22.class,\n    OpenDay21.class,\n    // ...\n    OpenDay4.class,\n    OpenDay3.class,\n    OpenDay2.class,\n    OpenDay1.class\n};\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>if (daysAway &lt; 0 || daysAway &gt; 24) {\n    notTime.start();\n} else {\n    Runnable clazz;\n    try {\n        clazz = (Runnable) OPEN_CLASSES[daysAway].getConstructor().newInstance();\n    } catch (ReflectiveOperationException e) {\n        throw new AssertionError(&quot;Oops: &quot; + e, e);\n    }\n    clazz.run();\n}\n</code></pre>\n</li>\n<li><p>You can also build the class name dynamically (no array or <code>switch</code> statement):</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (daysAway &lt; 0 || daysAway &gt; 24) {\n    notTime.start();\n} else {\n    String className = (daysAway == 0 ? &quot;OpenChristmas&quot; : &quot;OpenDay&quot; + (25 - daysAway));\n    Runnable clazz;\n    try {\n        clazz = (Runnable) Class.forName(className).getConstructor().newInstance();\n    } catch (ReflectiveOperationException e) {\n        throw new AssertionError(&quot;Oops: &quot; + e, e);\n    }\n    clazz.run();\n}\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":19792204,"reputation":68,"user_id":14494984,"display_name":"Seth T"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":64900179,"answer_count":2,"score":-1,"last_activity_date":1638449517,"creation_date":1605726372,"question_id":64899722,"body_markdown":"I am working to make a Advent Calendar for Christmas and needed to use a switch statement.  My biggest dilemma is the fact that each (daysAway) case opens a new class designed for that day in particular. I am working off of what Google and Stack overflow can provide. I was wondering if there was any other way to compact this?\r\n\r\n    public void onClick(View v) {\r\n\r\n                //Calculate the days between (date - 12/7/20)\r\n                LocalDate dateBefore = java.time.LocalDate.now();\r\n                LocalDate dateAfter = LocalDate.of(2020, Month.DECEMBER, 25);\r\n                int daysAway = (int) ChronoUnit.DAYS.between(dateBefore, dateAfter);\r\n\r\n                switch(daysAway){\r\n                    case 24:\r\n                        openDay1();\r\n                        break;\r\n                    case 23:\r\n                        openDay2();\r\n                        break;\r\n                    case 22:\r\n                        openDay3;\r\n                        break;\r\n                    case 21:\r\n                        openDay4;\r\n                        break;\r\n                    case 20:\r\n                        openDay5;\r\n                        break;\r\n                    case 19:\r\n                        openDay6;\r\n                        break;\r\n                    case 18:\r\n                        openDay7;\r\n                        break;\r\n                    case 17:\r\n                        openDay8;\r\n                        break;\r\n                    case 16:\r\n                        openDay9;\r\n                        break;\r\n                    case 15:\r\n                        openDay10;\r\n                        break;\r\n                    case 14:\r\n                        openDay11;\r\n                        break;\r\n                    case 13:\r\n                        openDay12;\r\n                        break;\r\n                    case 12:\r\n                        openDay13;\r\n                        break;\r\n                    case 11:\r\n                        openDay14;\r\n                        break;\r\n                    case 10:\r\n                        openDay15;\r\n                        break;\r\n                    case 9:\r\n                        openDay16;\r\n                        break;\r\n                    case 8:\r\n                        openDay17;\r\n                        break;\r\n                    case 7:\r\n                        openDay18;\r\n                        break;\r\n                    case 6:\r\n                        openDay19;\r\n                        break;\r\n                    case 5:\r\n                        openDay20;\r\n                        break;\r\n                    case 4:\r\n                        openDay21;\r\n                        break;\r\n                    case 3:\r\n                        openDay22;\r\n                        break;\r\n                    case 2:\r\n                        openDay23;\r\n                        break;\r\n                    case 1:\r\n                        openDay24;\r\n                        break;\r\n                    case 0:\r\n                        openChristmas;\r\n                        break;\r\n                    default:\r\n                        notTime.start();\r\n                        break;\r\n                }\r\n            }\r\nI know it is a giant mess and that is what I am trying to fix!\r\nI appreciate any feedback you can give!","title":"Is there a way to make this switch statement smaller and more professional?","body":"<p>I am working to make a Advent Calendar for Christmas and needed to use a switch statement.  My biggest dilemma is the fact that each (daysAway) case opens a new class designed for that day in particular. I am working off of what Google and Stack overflow can provide. I was wondering if there was any other way to compact this?</p>\n<pre><code>public void onClick(View v) {\n\n            //Calculate the days between (date - 12/7/20)\n            LocalDate dateBefore = java.time.LocalDate.now();\n            LocalDate dateAfter = LocalDate.of(2020, Month.DECEMBER, 25);\n            int daysAway = (int) ChronoUnit.DAYS.between(dateBefore, dateAfter);\n\n            switch(daysAway){\n                case 24:\n                    openDay1();\n                    break;\n                case 23:\n                    openDay2();\n                    break;\n                case 22:\n                    openDay3;\n                    break;\n                case 21:\n                    openDay4;\n                    break;\n                case 20:\n                    openDay5;\n                    break;\n                case 19:\n                    openDay6;\n                    break;\n                case 18:\n                    openDay7;\n                    break;\n                case 17:\n                    openDay8;\n                    break;\n                case 16:\n                    openDay9;\n                    break;\n                case 15:\n                    openDay10;\n                    break;\n                case 14:\n                    openDay11;\n                    break;\n                case 13:\n                    openDay12;\n                    break;\n                case 12:\n                    openDay13;\n                    break;\n                case 11:\n                    openDay14;\n                    break;\n                case 10:\n                    openDay15;\n                    break;\n                case 9:\n                    openDay16;\n                    break;\n                case 8:\n                    openDay17;\n                    break;\n                case 7:\n                    openDay18;\n                    break;\n                case 6:\n                    openDay19;\n                    break;\n                case 5:\n                    openDay20;\n                    break;\n                case 4:\n                    openDay21;\n                    break;\n                case 3:\n                    openDay22;\n                    break;\n                case 2:\n                    openDay23;\n                    break;\n                case 1:\n                    openDay24;\n                    break;\n                case 0:\n                    openChristmas;\n                    break;\n                default:\n                    notTime.start();\n                    break;\n            }\n        }\n</code></pre>\n<p>I know it is a giant mess and that is what I am trying to fix!\nI appreciate any feedback you can give!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1638449679,"post_id":70199819,"comment_id":124094281,"body_markdown":"What are the types of `x` and `y`?","body":"What are the types of <code>x</code> and <code>y</code>?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1638449886,"post_id":70199819,"comment_id":124094376,"body_markdown":"Right - so which overload do you *want* it to call? It&#39;s valid for both `addValue(double, Comparable, Comparable)` and `addValue(Number, Comparable, Comparable)`. Just casting `x[i]` to either `double` or `Number` should fix the problem...","body":"Right - so which overload do you <i>want</i> it to call? It&#39;s valid for both <code>addValue(double, Comparable, Comparable)</code> and <code>addValue(Number, Comparable, Comparable)</code>. Just casting <code>x[i]</code> to either <code>double</code> or <code>Number</code> should fix the problem..."},{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":1,"creation_date":1638449907,"post_id":70199819,"comment_id":124094391,"body_markdown":"Probably unrelated to the problem, but there&#39;s no reason for `i` to be `short` instead of `int`. Those two extra bytes you&#39;d consume will be freed up at the end of the `for` loop.","body":"Probably unrelated to the problem, but there&#39;s no reason for <code>i</code> to be <code>short</code> instead of <code>int</code>. Those two extra bytes you&#39;d consume will be freed up at the end of the <code>for</code> loop."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1638450574,"post_id":70199819,"comment_id":124094674,"body_markdown":"(@jsheeran) AFAIK there are no two extra bytes - a local `short`variable consumes the same memory as an `int` one . Even a `boolean`  would use the 4 bytes on the stack, only `long` and `double` use more. (reference implementation)","body":"(@jsheeran) AFAIK there are no two extra bytes - a local <code>short</code>variable consumes the same memory as an <code>int</code> one . Even a <code>boolean</code>  would use the 4 bytes on the stack, only <code>long</code> and <code>double</code> use more. (reference implementation)"}],"owner":{"account_id":23524806,"reputation":11,"user_id":17571497,"display_name":"Jacques Xuereb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638449501,"creation_date":1638449501,"question_id":70199819,"body_markdown":"I am using jFreeChart to create a line chart. When I changed the variables, it gave me an error saying the reference is ambiguous. How can I fix this?\r\n\r\nx and y are int and eq is String\r\n``` \r\nprivate DefaultCategoryDataset createDataset() {\r\n    DefaultCategoryDataset dataset = new DefaultCategoryDataset( );\r\n        for(short i = 0; i &lt; 200; i++){\r\n            dataset.addValue(x[i] , eq, y[i]);\r\n    }\r\n    return dataset;\r\n}\r\n```\r\n\r\n","title":"Reference to addValue is ambiguous","body":"<p>I am using jFreeChart to create a line chart. When I changed the variables, it gave me an error saying the reference is ambiguous. How can I fix this?</p>\n<p>x and y are int and eq is String</p>\n<pre><code>private DefaultCategoryDataset createDataset() {\n    DefaultCategoryDataset dataset = new DefaultCategoryDataset( );\n        for(short i = 0; i &lt; 200; i++){\n            dataset.addValue(x[i] , eq, y[i]);\n    }\n    return dataset;\n}\n</code></pre>\n"},{"tags":["java","postgresql","select","jpa"],"comments":[{"owner":{"account_id":5077780,"reputation":24103,"user_id":4074715,"display_name":"Predrag Maric"},"score":0,"creation_date":1414759848,"post_id":26674556,"comment_id":41949484,"body_markdown":"What type is `tb_lock.idUser` in the database? Can you try with `q.setParameter(&quot;idUser&quot;, civilRecordSearch.getIdUser().toString())`?","body":"What type is <code>tb_lock.idUser</code> in the database? Can you try with <code>q.setParameter(&quot;idUser&quot;, civilRecordSearch.getIdUser().toString())</code>?"},{"owner":{"account_id":5179493,"reputation":351,"user_id":4145596,"accept_rate":71,"display_name":"Robson Silveira"},"score":0,"creation_date":1414761655,"post_id":26674556,"comment_id":41950551,"body_markdown":"tb_lock.iduser is UUID In the database.","body":"tb_lock.iduser is UUID In the database."},{"owner":{"account_id":5077780,"reputation":24103,"user_id":4074715,"display_name":"Predrag Maric"},"score":0,"creation_date":1414761908,"post_id":26674556,"comment_id":41950713,"body_markdown":"Are you using hibernate? Annotations?","body":"Are you using hibernate? Annotations?"},{"owner":{"account_id":5179493,"reputation":351,"user_id":4145596,"accept_rate":71,"display_name":"Robson Silveira"},"score":1,"creation_date":1414777272,"post_id":26674556,"comment_id":41959764,"body_markdown":"Yes. I&#39;m using hibernate","body":"Yes. I&#39;m using hibernate"}],"answers":[{"tags":[],"owner":{"account_id":5179493,"reputation":351,"user_id":4145596,"accept_rate":71,"display_name":"Robson Silveira"},"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1414777626,"creation_date":1414777626,"answer_id":26680585,"question_id":26674556,"body_markdown":"I solve my problem with this form:\r\nI utilized the command CAST for my UUID fields\r\n\r\n      public List&lt;CivilRecord&gt; dashboardSearch(CivilRecordSearch civilRecordSearch)\r\n          throws MessageException {\r\n        SearchValidation.validateDashboardSearch(civilRecordSearch);\r\n        List&lt;CivilRecord&gt; l = new ArrayList&lt;&gt;();\r\n        try {\r\n          StringBuilder query = new StringBuilder();\r\n          //query.append(&quot;select c.id_civil_record\\\\:\\\\:text,c.nm_request,c.nm_rg,c.tx_name,c.dt_register,c.bl_priority &quot;);\r\n          query.append(&quot;select CAST(c.id_civil_record as text),c.nm_request,c.nm_rg,c.tx_name,c.dt_register,c.bl_priority &quot;);\r\n          query.append(&quot;from sc_civil.tb_civil_record c &quot;);\r\n          query.append(&quot;inner join sc_civil.tb_workflow_record w &quot;);\r\n          query.append(&quot;on w.id_civil_record = c.id_civil_record &quot;);\r\n          query.append(&quot;left join sc_civil.tb_lock l &quot;);\r\n          query.append(&quot;on l.id_record = c.id_civil_record &quot;);\r\n          query.append(&quot;where c.id_site = :idSite &quot;);\r\n          \r\n          if (civilRecordSearch.getPriority() == null || civilRecordSearch.getPriority().equals(false))\r\n            query.append(&quot;and c.bl_priority = :priority &quot;);\r\n          query.append(&quot;and c.bl_canceled = :canceled &quot;);\r\n          query.append(&quot;and w.id_type_workflow = :idTypeWorkflow &quot;);\r\n          query.append(&quot;and w.id_type_status_workflow = :idTypeStatusWorkflow &quot;);\r\n          \r\n          query.append(&quot;and (l is null or l.id_user = CAST(:idUser AS uuid)) &quot;);\r\n    \r\n          if (!StringUtils.isEmpty(civilRecordSearch.getName()))\r\n            query.append(&quot;and c.tx_name ilike :name &quot;);\r\n          if (!StringUtils.isEmpty(civilRecordSearch.getRg()))\r\n            query.append(&quot;and c.nm_rg like :rg &quot;);\r\n    \r\n          if (civilRecordSearch.getRequestNumber() != null)\r\n            query.append(&quot;and c.nm_request = :request &quot;);\r\n    \r\n          query.append(&quot;order by c.bl_priority desc, c.dt_register &quot;);\r\n    \r\n          Query q = em.createNativeQuery(query.toString());\r\n          q.setParameter(&quot;idSite&quot;, civilRecordSearch.getSite().getId());\r\n          if (civilRecordSearch.getPriority() == null || civilRecordSearch.getPriority().equals(false))\r\n            q.setParameter(&quot;priority&quot;, false);\r\n          q.setParameter(&quot;idTypeWorkflow&quot;, civilRecordSearch.getTypeworkflow().getId());\r\n          q.setParameter(&quot;idTypeStatusWorkflow&quot;, civilRecordSearch.getTypestatusworkflow().getId());\r\n          q.setParameter(&quot;idUser&quot;, civilRecordSearch.getIdUser().toString());\r\n          q.setParameter(&quot;canceled&quot;, false);\r\n          if (!StringUtils.isEmpty(civilRecordSearch.getName()))\r\n            q.setParameter(&quot;name&quot;,&quot;%&quot; + civilRecordSearch.getName() + &quot;%&quot;);\r\n          if (civilRecordSearch.getRequestNumber() != null)\r\n            q.setParameter(&quot;request&quot;, civilRecordSearch.getRequestNumber());\r\n          if (!StringUtils.isEmpty(civilRecordSearch.getRg()))\r\n            q.setParameter(&quot;rg&quot;, civilRecordSearch.getRg());\r\n          \r\n          q.setMaxResults(maxResult);\r\n          List&lt;Object[]&gt; lo = q.getResultList();\r\n          em.clear();\r\n          for(Object[] o : lo){\r\n              CivilRecord c = new CivilRecord();\r\n              c.setIdCivilRecord(UUID.fromString((String)o[0]));\r\n              c.setRequest(((BigInteger)o[1]).longValue());\r\n              c.setRg((String)o[2]);\r\n              c.setName((String)o[3]);\r\n              c.setRegister((Date)o[4]);\r\n              c.setPriority(TypeYesNo.getByKey(((Boolean)o[5]).booleanValue()));\r\n              c.setWorkflowRecords(findStatus(c.getIdCivilRecord()));\r\n              l.add(c);\r\n          }\r\n          return l;\r\n        } catch (Exception e) {\r\n          log.severe(e.getMessage());\r\n          throw e;\r\n        }\r\n      }\r\n","title":"&quot;operator does not exist: uuid = bytea&quot; Java with Postgres","body":"<p>I solve my problem with this form:\nI utilized the command CAST for my UUID fields</p>\n\n<pre><code>  public List&lt;CivilRecord&gt; dashboardSearch(CivilRecordSearch civilRecordSearch)\n      throws MessageException {\n    SearchValidation.validateDashboardSearch(civilRecordSearch);\n    List&lt;CivilRecord&gt; l = new ArrayList&lt;&gt;();\n    try {\n      StringBuilder query = new StringBuilder();\n      //query.append(\"select c.id_civil_record\\\\:\\\\:text,c.nm_request,c.nm_rg,c.tx_name,c.dt_register,c.bl_priority \");\n      query.append(\"select CAST(c.id_civil_record as text),c.nm_request,c.nm_rg,c.tx_name,c.dt_register,c.bl_priority \");\n      query.append(\"from sc_civil.tb_civil_record c \");\n      query.append(\"inner join sc_civil.tb_workflow_record w \");\n      query.append(\"on w.id_civil_record = c.id_civil_record \");\n      query.append(\"left join sc_civil.tb_lock l \");\n      query.append(\"on l.id_record = c.id_civil_record \");\n      query.append(\"where c.id_site = :idSite \");\n\n      if (civilRecordSearch.getPriority() == null || civilRecordSearch.getPriority().equals(false))\n        query.append(\"and c.bl_priority = :priority \");\n      query.append(\"and c.bl_canceled = :canceled \");\n      query.append(\"and w.id_type_workflow = :idTypeWorkflow \");\n      query.append(\"and w.id_type_status_workflow = :idTypeStatusWorkflow \");\n\n      query.append(\"and (l is null or l.id_user = CAST(:idUser AS uuid)) \");\n\n      if (!StringUtils.isEmpty(civilRecordSearch.getName()))\n        query.append(\"and c.tx_name ilike :name \");\n      if (!StringUtils.isEmpty(civilRecordSearch.getRg()))\n        query.append(\"and c.nm_rg like :rg \");\n\n      if (civilRecordSearch.getRequestNumber() != null)\n        query.append(\"and c.nm_request = :request \");\n\n      query.append(\"order by c.bl_priority desc, c.dt_register \");\n\n      Query q = em.createNativeQuery(query.toString());\n      q.setParameter(\"idSite\", civilRecordSearch.getSite().getId());\n      if (civilRecordSearch.getPriority() == null || civilRecordSearch.getPriority().equals(false))\n        q.setParameter(\"priority\", false);\n      q.setParameter(\"idTypeWorkflow\", civilRecordSearch.getTypeworkflow().getId());\n      q.setParameter(\"idTypeStatusWorkflow\", civilRecordSearch.getTypestatusworkflow().getId());\n      q.setParameter(\"idUser\", civilRecordSearch.getIdUser().toString());\n      q.setParameter(\"canceled\", false);\n      if (!StringUtils.isEmpty(civilRecordSearch.getName()))\n        q.setParameter(\"name\",\"%\" + civilRecordSearch.getName() + \"%\");\n      if (civilRecordSearch.getRequestNumber() != null)\n        q.setParameter(\"request\", civilRecordSearch.getRequestNumber());\n      if (!StringUtils.isEmpty(civilRecordSearch.getRg()))\n        q.setParameter(\"rg\", civilRecordSearch.getRg());\n\n      q.setMaxResults(maxResult);\n      List&lt;Object[]&gt; lo = q.getResultList();\n      em.clear();\n      for(Object[] o : lo){\n          CivilRecord c = new CivilRecord();\n          c.setIdCivilRecord(UUID.fromString((String)o[0]));\n          c.setRequest(((BigInteger)o[1]).longValue());\n          c.setRg((String)o[2]);\n          c.setName((String)o[3]);\n          c.setRegister((Date)o[4]);\n          c.setPriority(TypeYesNo.getByKey(((Boolean)o[5]).booleanValue()));\n          c.setWorkflowRecords(findStatus(c.getIdCivilRecord()));\n          l.add(c);\n      }\n      return l;\n    } catch (Exception e) {\n      log.severe(e.getMessage());\n      throw e;\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1806748,"reputation":3695,"user_id":1643711,"accept_rate":67,"display_name":"Mircea Stanciu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1512082610,"creation_date":1512082610,"answer_id":47583997,"question_id":26674556,"body_markdown":"Similar response to Robson Silveira.\r\n\r\nPay attention to the last bit of the query string.\r\n\r\n    public Account getAccount(String name, String password, String tenantId) {\r\n        Query q = em.createNativeQuery(\r\n                &quot;SELECT a.id, a.name, a.password, a.email FROM accounts a WHERE name = :name and password = :password and tenant_fk = CAST(:tenant_fk AS uuid)&quot;\r\n        );\r\n        q.setParameter(&quot;name&quot;, name);\r\n        q.setParameter(&quot;password&quot;, password);\r\n        q.setParameter(&quot;tenant_fk&quot;, tenantId);\r\n\r\n        List&lt;Object[]&gt; results = q.getResultList();\r\n        if (results.size() == 0) {\r\n            return null;\r\n        }\r\n\r\n        return mapFromObject(results.get(0));\r\n    }","title":"&quot;operator does not exist: uuid = bytea&quot; Java with Postgres","body":"<p>Similar response to Robson Silveira.</p>\n\n<p>Pay attention to the last bit of the query string.</p>\n\n<pre><code>public Account getAccount(String name, String password, String tenantId) {\n    Query q = em.createNativeQuery(\n            \"SELECT a.id, a.name, a.password, a.email FROM accounts a WHERE name = :name and password = :password and tenant_fk = CAST(:tenant_fk AS uuid)\"\n    );\n    q.setParameter(\"name\", name);\n    q.setParameter(\"password\", password);\n    q.setParameter(\"tenant_fk\", tenantId);\n\n    List&lt;Object[]&gt; results = q.getResultList();\n    if (results.size() == 0) {\n        return null;\n    }\n\n    return mapFromObject(results.get(0));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1593620518,"creation_date":1593618707,"answer_id":62680643,"question_id":26674556,"body_markdown":"### Problem:\r\n\r\nHibernate should map the java `UUID` type to the postgress `uuid` type. However, if hibernate does not know how to map this, it will just try to serialize the object, resulting in a `byte[]`. Of course, this just moves the issue to the database level. Values of the `uuid` postgress type cannot just be compared with byte array type.\r\n\r\n    PSQLException: ERROR: operator does not exist: uuid = bytea\r\n\r\n### Possible cause:\r\n\r\nI encountered this issue when migrating from Spring Boot 1.x to Spring Boot 2.3.0. In Spring Boot 1.x it was sufficient for me to mark my id fields with `@Id` and to make them of java type `UUID`.\r\n\r\n### Quick and dirty solutions:\r\n\r\nA possible solution, is to explicitly state the PSQL type for the id field.\r\n\r\n     @Type(type=&quot;org.hibernate.type.PostgresUUIDType&quot;)\r\n     @Id\r\n     private UUID id;\r\n\r\nA better solution, would be to define a system-wide replacement. You could put this declaration on any class or on a package. Defining it just once somewhere impacts all declarations of UUID actually.\r\n\r\n     @TypeDef(name=&quot;postgres-uuid&quot;,\r\n              defaultForType = UUID.class,\r\n              typeClass = PostgresUUIDType.class)\r\n\r\n### Real solution:\r\n\r\nTake a look in your log file, and you may see something like this. Double check the version of this dialect, and see if it matches with the one which you defined in your property files:\r\n\r\n    Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL81Dialect\r\n\r\nIn that case, be aware that the following property is outdated:\r\n\r\n    hibernate.dialect=org.hibernate.dialect.PostgreSQL9Dialect\r\n\r\nSome of the hibernate properties now need to have a `spring.jpa.properties` prefix. So, in this case, the new property path should be `spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL9Dialect`.\r\n\r\nWhich is the point where everything starts to make sense. This dialect does all required type definitions for you.","title":"&quot;operator does not exist: uuid = bytea&quot; Java with Postgres","body":"<h3>Problem:</h3>\n<p>Hibernate should map the java <code>UUID</code> type to the postgress <code>uuid</code> type. However, if hibernate does not know how to map this, it will just try to serialize the object, resulting in a <code>byte[]</code>. Of course, this just moves the issue to the database level. Values of the <code>uuid</code> postgress type cannot just be compared with byte array type.</p>\n<pre><code>PSQLException: ERROR: operator does not exist: uuid = bytea\n</code></pre>\n<h3>Possible cause:</h3>\n<p>I encountered this issue when migrating from Spring Boot 1.x to Spring Boot 2.3.0. In Spring Boot 1.x it was sufficient for me to mark my id fields with <code>@Id</code> and to make them of java type <code>UUID</code>.</p>\n<h3>Quick and dirty solutions:</h3>\n<p>A possible solution, is to explicitly state the PSQL type for the id field.</p>\n<pre><code> @Type(type=&quot;org.hibernate.type.PostgresUUIDType&quot;)\n @Id\n private UUID id;\n</code></pre>\n<p>A better solution, would be to define a system-wide replacement. You could put this declaration on any class or on a package. Defining it just once somewhere impacts all declarations of UUID actually.</p>\n<pre><code> @TypeDef(name=&quot;postgres-uuid&quot;,\n          defaultForType = UUID.class,\n          typeClass = PostgresUUIDType.class)\n</code></pre>\n<h3>Real solution:</h3>\n<p>Take a look in your log file, and you may see something like this. Double check the version of this dialect, and see if it matches with the one which you defined in your property files:</p>\n<pre><code>Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL81Dialect\n</code></pre>\n<p>In that case, be aware that the following property is outdated:</p>\n<pre><code>hibernate.dialect=org.hibernate.dialect.PostgreSQL9Dialect\n</code></pre>\n<p>Some of the hibernate properties now need to have a <code>spring.jpa.properties</code> prefix. So, in this case, the new property path should be <code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL9Dialect</code>.</p>\n<p>Which is the point where everything starts to make sense. This dialect does all required type definitions for you.</p>\n"},{"tags":[],"owner":{"account_id":16355149,"reputation":1659,"user_id":11812518,"display_name":"Petar Bivolarski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638449489,"creation_date":1638449489,"answer_id":70199817,"question_id":26674556,"body_markdown":"The same error can be caused by accidentally passing `null` as an argument, which is then regarded as a `bytea` type, making the cast to `uuid` impossible.\r\n\r\nSo, before going into the solutions above, I would recommend checking one&#39;s business logic and quickly activating the hibernate binding parameters logs in `application.yml`:\r\n\r\n    logging:\r\n      level:\r\n        org:\r\n          hibernate:\r\n            type: TRACE\r\n\r\nThe faulty argument then becomes apparent, as in my case:\r\n\r\n    ....\r\n    binding parameter [6] as [VARBINARY] - [null]\r\n    ...\r\n\r\nTo also see the sql queries, add:\r\n\r\n    spring:\r\n      jpa:\r\n        show-sql: true","title":"&quot;operator does not exist: uuid = bytea&quot; Java with Postgres","body":"<p>The same error can be caused by accidentally passing <code>null</code> as an argument, which is then regarded as a <code>bytea</code> type, making the cast to <code>uuid</code> impossible.</p>\n<p>So, before going into the solutions above, I would recommend checking one's business logic and quickly activating the hibernate binding parameters logs in <code>application.yml</code>:</p>\n<pre><code>logging:\n  level:\n    org:\n      hibernate:\n        type: TRACE\n</code></pre>\n<p>The faulty argument then becomes apparent, as in my case:</p>\n<pre><code>....\nbinding parameter [6] as [VARBINARY] - [null]\n...\n</code></pre>\n<p>To also see the sql queries, add:</p>\n<pre><code>spring:\n  jpa:\n    show-sql: true\n</code></pre>\n"}],"owner":{"account_id":5179493,"reputation":351,"user_id":4145596,"accept_rate":71,"display_name":"Robson Silveira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32550,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":26680585,"answer_count":4,"score":12,"last_activity_date":1638449489,"creation_date":1414757948,"question_id":26674556,"body_markdown":"I have a problem referring to this query. On Postgres, this query executes without errors. On JAVA, it throws the following exception:\r\n\r\n    javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    cause\r\n    org.postgresql.util.PSQLException: ERROR: operator does not exist: uuid = bytea\r\n      Note: No operator matches the given name and argument type(s). You might need to add explicit type casts.\r\n      Position: 404\r\n\r\nWhat I do?\r\n\r\nMy Method:\r\n\r\n    public List&lt;CivilRecord&gt; dashboardSearch(CivilRecordSearch civilRecordSearch)\r\n        throws MessageException {\r\n        SearchValidation.validateDashboardSearch(civilRecordSearch);\r\n        List&lt;CivilRecord&gt; l = new ArrayList&lt;&gt;();\r\n        try {\r\n            StringBuilder query = new StringBuilder();\r\n            // query.append(&quot;select\r\n            // c.id_civil_record\\\\:\\\\:text,c.nm_request,c.nm_rg,c.tx_name,c.dt_register,c.bl_priority\r\n            // &quot;);\r\n            query.append(&quot;select c.id_civil_record,c.nm_request,c.nm_rg,c.tx_name,c.dt_register,c.bl_priority &quot;);\r\n            query.append(&quot;from sc_civil.tb_civil_record c &quot;);\r\n            query.append(&quot;inner join sc_civil.tb_workflow_record w &quot;);\r\n            query.append(&quot;on w.id_civil_record = c.id_civil_record &quot;);\r\n            query.append(&quot;left join sc_civil.tb_lock l &quot;);\r\n            query.append(&quot;on l.id_record = c.id_civil_record &quot;);\r\n            query.append(&quot;where c.id_site = :idSite &quot;);\r\n\r\n            if (civilRecordSearch.getPriority() == null || civilRecordSearch.getPriority().equals(false))\r\n                query.append(&quot;and c.bl_priority = :priority &quot;);\r\n            query.append(&quot;and c.bl_canceled = :canceled &quot;);\r\n            query.append(&quot;and w.id_type_workflow = :idTypeWorkflow &quot;);\r\n            query.append(&quot;and w.id_type_status_workflow = :idTypeStatusWorkflow &quot;);\r\n\r\n            query.append(&quot;and (l is null or l.id_user = :idUser) &quot;);\r\n\r\n            if (!StringUtils.isEmpty(civilRecordSearch.getName()))\r\n                query.append(&quot;and c.tx_name ilike :name &quot;);\r\n            if (!StringUtils.isEmpty(civilRecordSearch.getRg()))\r\n                query.append(&quot;and c.nm_rg like :rg &quot;);\r\n\r\n            if (civilRecordSearch.getRequestNumber() != null)\r\n                query.append(&quot;and c.nm_request = :request &quot;);\r\n\r\n            query.append(&quot;order by c.bl_priority desc, c.dt_register &quot;);\r\n\r\n            Query q = em.createNativeQuery(query.toString());\r\n            q.setParameter(&quot;idSite&quot;, civilRecordSearch.getSite().getId());\r\n            if (civilRecordSearch.getPriority() == null || civilRecordSearch.getPriority().equals(false))\r\n                q.setParameter(&quot;priority&quot;, false);\r\n            q.setParameter(&quot;idTypeWorkflow&quot;, civilRecordSearch.getTypeworkflow().getId());\r\n            q.setParameter(&quot;idTypeStatusWorkflow&quot;, civilRecordSearch.getTypestatusworkflow().getId());\r\n            q.setParameter(&quot;idUser&quot;, civilRecordSearch.getIdUser());\r\n            q.setParameter(&quot;canceled&quot;, false);\r\n            if (!StringUtils.isEmpty(civilRecordSearch.getName()))\r\n                q.setParameter(&quot;name&quot;, &quot;%&quot; + civilRecordSearch.getName() + &quot;%&quot;);\r\n            if (civilRecordSearch.getRequestNumber() != null)\r\n                q.setParameter(&quot;request&quot;, civilRecordSearch.getRequestNumber());\r\n            if (!StringUtils.isEmpty(civilRecordSearch.getRg()))\r\n                q.setParameter(&quot;rg&quot;, civilRecordSearch.getRg());\r\n\r\n            q.setMaxResults(maxResult);\r\n\r\n            List&lt;Object []&gt; lo = q.getResultList();\r\n            em.clear();\r\n            for (Object [] o : lo) {\r\n                CivilRecord c = new CivilRecord();\r\n                c.setIdCivilRecord(UUID.fromString((String) o[0]));\r\n                c.setRequest((Long) o[1]);\r\n                c.setRg((String) o[2]);\r\n                c.setName((String) o[3]);\r\n                c.setWorkflowRecords(findStatus(c.getIdCivilRecord()));\r\n                l.add(c);\r\n            }\r\n            return l;\r\n        }\r\n        catch (Exception e) {\r\n            log.severe(e.getMessage());\r\n            throw e;\r\n        }\r\n    }\r\nMy Class CivilRecordSearch:\r\n\r\n    import java.io.Serializable;\r\n    import java.util.UUID;\r\n    \r\n    public class CivilRecordSearch implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1701325902333490974L;\r\n    \r\n        // site, prioridade, tipo wf e status wf\r\n    \r\n        private Site site;\r\n        private Boolean priority;\r\n        private TypeWorkflow typeworkflow;\r\n        private TypeStatusWorkflow typestatusworkflow;\r\n        private Integer amount;\r\n        private UUID idUser;\r\n        private String name;\r\n        private String rg;\r\n        private Long requestNumber;\r\n    \r\n        public Site getSite() {\r\n            return site;\r\n        }\r\n    \r\n        public void setSite(Site site) {\r\n            this.site = site;\r\n        }\r\n    \r\n        public Boolean getPriority() {\r\n            return priority;\r\n        }\r\n    \r\n        public void setPriority(Boolean priority) {\r\n            this.priority = priority;\r\n        }\r\n    \r\n        public TypeWorkflow getTypeworkflow() {\r\n            return typeworkflow;\r\n        }\r\n    \r\n        public void setTypeworkflow(TypeWorkflow typeworkflow) {\r\n            this.typeworkflow = typeworkflow;\r\n        }\r\n    \r\n        public TypeStatusWorkflow getTypestatusworkflow() {\r\n            return typestatusworkflow;\r\n        }\r\n    \r\n        public void setTypeStatusWorkflow(TypeStatusWorkflow typestatusworkflow) {\r\n            this.typestatusworkflow = typestatusworkflow;\r\n        }\r\n    \r\n        public static long getSerialversionuid() {\r\n            return serialVersionUID;\r\n        }\r\n    \r\n        public Integer getAmount() {\r\n            return amount;\r\n        }\r\n    \r\n        public void setAmount(Integer amount) {\r\n            this.amount = amount;\r\n        }\r\n    \r\n        public UUID getIdUser() {\r\n            return idUser;\r\n        }\r\n    \r\n        public void setIdUser(UUID idUser) {\r\n            this.idUser = idUser;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getRg() {\r\n            return rg;\r\n        }\r\n    \r\n        public void setRg(String rg) {\r\n            this.rg = rg;\r\n        }\r\n    \r\n        public Long getRequestNumber() {\r\n            return requestNumber;\r\n        }\r\n    \r\n        public void setRequestNumber(Long requestNumber) {\r\n            this.requestNumber = requestNumber;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"&quot;operator does not exist: uuid = bytea&quot; Java with Postgres","body":"<p>I have a problem referring to this query. On Postgres, this query executes without errors. On JAVA, it throws the following exception:</p>\n\n<pre><code>javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\ncause\norg.postgresql.util.PSQLException: ERROR: operator does not exist: uuid = bytea\n  Note: No operator matches the given name and argument type(s). You might need to add explicit type casts.\n  Position: 404\n</code></pre>\n\n<p>What I do?</p>\n\n<p>My Method:</p>\n\n<pre><code>public List&lt;CivilRecord&gt; dashboardSearch(CivilRecordSearch civilRecordSearch)\n    throws MessageException {\n    SearchValidation.validateDashboardSearch(civilRecordSearch);\n    List&lt;CivilRecord&gt; l = new ArrayList&lt;&gt;();\n    try {\n        StringBuilder query = new StringBuilder();\n        // query.append(\"select\n        // c.id_civil_record\\\\:\\\\:text,c.nm_request,c.nm_rg,c.tx_name,c.dt_register,c.bl_priority\n        // \");\n        query.append(\"select c.id_civil_record,c.nm_request,c.nm_rg,c.tx_name,c.dt_register,c.bl_priority \");\n        query.append(\"from sc_civil.tb_civil_record c \");\n        query.append(\"inner join sc_civil.tb_workflow_record w \");\n        query.append(\"on w.id_civil_record = c.id_civil_record \");\n        query.append(\"left join sc_civil.tb_lock l \");\n        query.append(\"on l.id_record = c.id_civil_record \");\n        query.append(\"where c.id_site = :idSite \");\n\n        if (civilRecordSearch.getPriority() == null || civilRecordSearch.getPriority().equals(false))\n            query.append(\"and c.bl_priority = :priority \");\n        query.append(\"and c.bl_canceled = :canceled \");\n        query.append(\"and w.id_type_workflow = :idTypeWorkflow \");\n        query.append(\"and w.id_type_status_workflow = :idTypeStatusWorkflow \");\n\n        query.append(\"and (l is null or l.id_user = :idUser) \");\n\n        if (!StringUtils.isEmpty(civilRecordSearch.getName()))\n            query.append(\"and c.tx_name ilike :name \");\n        if (!StringUtils.isEmpty(civilRecordSearch.getRg()))\n            query.append(\"and c.nm_rg like :rg \");\n\n        if (civilRecordSearch.getRequestNumber() != null)\n            query.append(\"and c.nm_request = :request \");\n\n        query.append(\"order by c.bl_priority desc, c.dt_register \");\n\n        Query q = em.createNativeQuery(query.toString());\n        q.setParameter(\"idSite\", civilRecordSearch.getSite().getId());\n        if (civilRecordSearch.getPriority() == null || civilRecordSearch.getPriority().equals(false))\n            q.setParameter(\"priority\", false);\n        q.setParameter(\"idTypeWorkflow\", civilRecordSearch.getTypeworkflow().getId());\n        q.setParameter(\"idTypeStatusWorkflow\", civilRecordSearch.getTypestatusworkflow().getId());\n        q.setParameter(\"idUser\", civilRecordSearch.getIdUser());\n        q.setParameter(\"canceled\", false);\n        if (!StringUtils.isEmpty(civilRecordSearch.getName()))\n            q.setParameter(\"name\", \"%\" + civilRecordSearch.getName() + \"%\");\n        if (civilRecordSearch.getRequestNumber() != null)\n            q.setParameter(\"request\", civilRecordSearch.getRequestNumber());\n        if (!StringUtils.isEmpty(civilRecordSearch.getRg()))\n            q.setParameter(\"rg\", civilRecordSearch.getRg());\n\n        q.setMaxResults(maxResult);\n\n        List&lt;Object []&gt; lo = q.getResultList();\n        em.clear();\n        for (Object [] o : lo) {\n            CivilRecord c = new CivilRecord();\n            c.setIdCivilRecord(UUID.fromString((String) o[0]));\n            c.setRequest((Long) o[1]);\n            c.setRg((String) o[2]);\n            c.setName((String) o[3]);\n            c.setWorkflowRecords(findStatus(c.getIdCivilRecord()));\n            l.add(c);\n        }\n        return l;\n    }\n    catch (Exception e) {\n        log.severe(e.getMessage());\n        throw e;\n    }\n}\n</code></pre>\n\n<p>My Class CivilRecordSearch:</p>\n\n<pre><code>import java.io.Serializable;\nimport java.util.UUID;\n\npublic class CivilRecordSearch implements Serializable {\n\n    private static final long serialVersionUID = 1701325902333490974L;\n\n    // site, prioridade, tipo wf e status wf\n\n    private Site site;\n    private Boolean priority;\n    private TypeWorkflow typeworkflow;\n    private TypeStatusWorkflow typestatusworkflow;\n    private Integer amount;\n    private UUID idUser;\n    private String name;\n    private String rg;\n    private Long requestNumber;\n\n    public Site getSite() {\n        return site;\n    }\n\n    public void setSite(Site site) {\n        this.site = site;\n    }\n\n    public Boolean getPriority() {\n        return priority;\n    }\n\n    public void setPriority(Boolean priority) {\n        this.priority = priority;\n    }\n\n    public TypeWorkflow getTypeworkflow() {\n        return typeworkflow;\n    }\n\n    public void setTypeworkflow(TypeWorkflow typeworkflow) {\n        this.typeworkflow = typeworkflow;\n    }\n\n    public TypeStatusWorkflow getTypestatusworkflow() {\n        return typestatusworkflow;\n    }\n\n    public void setTypeStatusWorkflow(TypeStatusWorkflow typestatusworkflow) {\n        this.typestatusworkflow = typestatusworkflow;\n    }\n\n    public static long getSerialversionuid() {\n        return serialVersionUID;\n    }\n\n    public Integer getAmount() {\n        return amount;\n    }\n\n    public void setAmount(Integer amount) {\n        this.amount = amount;\n    }\n\n    public UUID getIdUser() {\n        return idUser;\n    }\n\n    public void setIdUser(UUID idUser) {\n        this.idUser = idUser;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getRg() {\n        return rg;\n    }\n\n    public void setRg(String rg) {\n        this.rg = rg;\n    }\n\n    public Long getRequestNumber() {\n        return requestNumber;\n    }\n\n    public void setRequestNumber(Long requestNumber) {\n        this.requestNumber = requestNumber;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","swing","layout-manager","gridbaglayout"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1597361184,"post_id":63404457,"comment_id":112115480,"body_markdown":"*but it worked just fine before.* - did you compare your working code with this code to see what the difference is?","body":"<i>but it worked just fine before.</i> - did you compare your working code with this code to see what the difference is?"},{"owner":{"account_id":19025038,"reputation":41,"user_id":13888298,"display_name":"mry_02"},"score":0,"creation_date":1597361381,"post_id":63404457,"comment_id":112115517,"body_markdown":"My &quot;working code&quot; isn&#39;t working ever since today.","body":"My &quot;working code&quot; isn&#39;t working ever since today."},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1597362642,"post_id":63404457,"comment_id":112115796,"body_markdown":"Have you tried compiling from the console with javac?","body":"Have you tried compiling from the console with javac?"}],"answers":[{"tags":[],"owner":{"account_id":19288918,"reputation":347,"user_id":14099362,"display_name":"JeroSquartini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597361264,"creation_date":1597361264,"answer_id":63404526,"question_id":63404457,"body_markdown":"You have to import java.awt package since GridBagLayout class belongs to that package.","title":"Why can&#39;t I set my layout to GridBagLayout anymore?","body":"<p>You have to import java.awt package since GridBagLayout class belongs to that package.</p>\n"}],"owner":{"account_id":19025038,"reputation":41,"user_id":13888298,"display_name":"mry_02"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638449443,"creation_date":1597360760,"question_id":63404457,"body_markdown":"I&#39;m getting an error when I set my layout to `GridBagLayout` but it worked just fine before.\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n\r\n    public class GridBagLayoutTest {\r\n\tpublic static void main (String [] args)\r\n\t{\r\n\t\tJFrame frame = new JFrame();\r\n\t\tframe.setLayout(new GridBagLayout()); \r\n\t}\r\n    }\r\n\r\nI&#39;m getting an error saying: \r\n\r\n    Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n\tThe method setLayout(LayoutManager) in the type JFrame is not applicable for the arguments (GridBagLayout)\r\n","title":"Why can&#39;t I set my layout to GridBagLayout anymore?","body":"<p>I'm getting an error when I set my layout to <code>GridBagLayout</code> but it worked just fine before.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class GridBagLayoutTest {\npublic static void main (String [] args)\n{\n    JFrame frame = new JFrame();\n    frame.setLayout(new GridBagLayout()); \n}\n}\n</code></pre>\n<p>I'm getting an error saying:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \nThe method setLayout(LayoutManager) in the type JFrame is not applicable for the arguments (GridBagLayout)\n</code></pre>\n"},{"tags":["java","logic-error"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1607241201,"post_id":65165838,"comment_id":115206625,"body_markdown":"Clicking &quot;Puzzle input&quot; link I get: *&quot;Puzzle inputs differ by user.  Please log in to get your puzzle input.&quot;*","body":"Clicking &quot;Puzzle input&quot; link I get: <i>&quot;Puzzle inputs differ by user.  Please log in to get your puzzle input.&quot;</i>"},{"owner":{"account_id":20143933,"reputation":21,"user_id":14772931,"display_name":"Nboj"},"score":0,"creation_date":1607241745,"post_id":65165838,"comment_id":115206712,"body_markdown":"Fixed the input","body":"Fixed the input"},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1607242052,"post_id":65165838,"comment_id":115206760,"body_markdown":"Where are you getting all of these detailed validation rules? They don&#39;t appear in the problem statement linked.","body":"Where are you getting all of these detailed validation rules? They don&#39;t appear in the problem statement linked."},{"owner":{"account_id":20143933,"reputation":21,"user_id":14772931,"display_name":"Nboj"},"score":0,"creation_date":1607242480,"post_id":65165838,"comment_id":115206814,"body_markdown":"I added a picture of what I see on the site I got them from the site link on day 4 https://adventofcode.com/2020/day/4","body":"I added a picture of what I see on the site I got them from the site link on day 4 <a href=\"https://adventofcode.com/2020/day/4\" rel=\"nofollow noreferrer\">adventofcode.com/2020/day/4</a>"},{"owner":{"account_id":20143933,"reputation":21,"user_id":14772931,"display_name":"Nboj"},"score":0,"creation_date":1607242967,"post_id":65165838,"comment_id":115206898,"body_markdown":"Its really hard to get the problem over to everyone because you have to log in to see the problem","body":"Its really hard to get the problem over to everyone because you have to log in to see the problem"},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1607273113,"post_id":65165838,"comment_id":115214595,"body_markdown":"You present a problem and code you think faulty. (How does *comes out wrong every time* manifest?) What is your question?","body":"You present a problem and code you think faulty. (How does <i>comes out wrong every time</i> manifest?) What is your question?"}],"answers":[{"tags":[],"owner":{"account_id":14443049,"reputation":13,"user_id":10433090,"display_name":"W. Gelderloos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609370513,"creation_date":1609370513,"answer_id":65514777,"question_id":65165838,"body_markdown":"you forgot the &#39;amb&#39; eye colour. If you add this to the if statement on line 41 it should work\r\n\r\n```\r\nif (attribute.contains(&quot;amb&quot;) || attribute.contains(&quot;blu&quot;) || attribute.contains(&quot;brn&quot;) || attribute.contains(&quot;gry&quot;) || attribute.contains(&quot;grn&quot;) || attribute.contains(&quot;hzl&quot;) || attribute.contains(&quot;oth&quot;)) {\r\n```","title":"Logic error while trying to solve adventofcode day 4","body":"<p>you forgot the 'amb' eye colour. If you add this to the if statement on line 41 it should work</p>\n<pre><code>if (attribute.contains(&quot;amb&quot;) || attribute.contains(&quot;blu&quot;) || attribute.contains(&quot;brn&quot;) || attribute.contains(&quot;gry&quot;) || attribute.contains(&quot;grn&quot;) || attribute.contains(&quot;hzl&quot;) || attribute.contains(&quot;oth&quot;)) {\n</code></pre>\n"}],"owner":{"account_id":20143933,"reputation":21,"user_id":14772931,"display_name":"Nboj"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1638449435,"creation_date":1607240869,"question_id":65165838,"body_markdown":"This is on day four of advent of code part two...  \r\nI tried out the sample input they gave and it was correct and I used the input I have and comes out wrong every time\r\n\r\n[What I see 1][1]\r\n\r\n[What I see 2][2]\r\n\r\nThere is more below but its what happens after you solve the first part\r\n\r\n[Advent of code day 4][3]  \r\n[Puzzle input][4]  \r\n\r\nThe input differs by user but the code should be the same no matter the input\r\n\r\n\r\n- byr (Birth Year) - four digits; at least 1920 and at most 2002.\r\n- iyr (Issue Year) - four digits; at least 2010 and at most 2020.\r\n- eyr (Expiration Year) - four digits; at least 2020 and at most 2030.\r\n- hgt (Height) - a number followed by either cm or in:\r\n- - If cm, the number must be at least 150 and at most 193.\r\n- - If in, the number must be at least 59 and at most 76.\r\n- hcl (Hair Color) - a # followed by exactly six characters 0-9 or a-f.\r\n- ecl (Eye Color) - exactly one of: amb blu brn gry grn hzl oth.\r\n- pid (Passport ID) - a nine-digit number, including leading zeroes.\r\n- cid (Country ID) - ignored, missing or not.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.*;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws FileNotFoundException {\r\n            File inputText = new File(&quot;src/input.txt&quot;);\r\n            Scanner sc = new Scanner(inputText);\r\n            ArrayList&lt;ArrayList&gt; ids = new ArrayList&lt;&gt;();\r\n            ArrayList&lt;ArrayList&gt; attributes = new ArrayList&lt;&gt;();\r\n    \r\n    \r\n            while (sc.hasNextLine()) {\r\n                String builtString = &quot;&quot;;\r\n                String input = &quot;1&quot;;\r\n    \r\n                while(input.length() != 0 &amp;&amp; sc.hasNextLine()) {\r\n                    input = sc.nextLine();\r\n                    builtString += input + &quot; &quot;;\r\n                }\r\n                String[] temp = builtString.split(&quot; &quot;);\r\n                ArrayList&lt;String&gt; tempIds = new ArrayList&lt;&gt;();\r\n                ArrayList&lt;String&gt; tempAttributes = new ArrayList&lt;&gt;();\r\n                for (String i : temp) {\r\n                    tempIds.add(i.split(&quot;:&quot;)[0]);\r\n                    tempAttributes.add(i.split(&quot;:&quot;)[1]);\r\n                }\r\n                ids.add(tempIds);\r\n                attributes.add(tempAttributes);\r\n            }\r\n            System.out.println(ids);\r\n            System.out.println(attributes);\r\n            int valid = 0;\r\n    \r\n            for (int a = 0; a &lt; ids.size(); a++) {\r\n                int has = 0;\r\n                for (int j = 0; j &lt; ids.get(a).size(); j++) {\r\n                    String id = ids.get(a).get(j).toString();\r\n                    String attribute = attributes.get(a).get(j).toString();\r\n                    if (id.contains(&quot;ecl&quot;)) {\r\n                        if (attribute.contains(&quot;blu&quot;) || attribute.contains(&quot;brn&quot;) || attribute.contains(&quot;gry&quot;) || attribute.contains(&quot;grn&quot;) || attribute.contains(&quot;hzl&quot;) || attribute.contains(&quot;oth&quot;)) {\r\n                            System.out.println(attribute + &quot; is an eye color&quot;);\r\n                            has++;\r\n                        } else {\r\n                            System.out.println(attribute + &quot; is not an eye color&quot;);\r\n                        }\r\n                        has++;\r\n                    }\r\n                    if (id.contains(&quot;pid&quot;)) {\r\n                        if (attribute.length() == 9) {\r\n                            try {\r\n                                Integer.parseInt(attribute);\r\n                                System.out.println(attribute + &quot; of pid attribute is valid &quot;);\r\n                                has++;\r\n                            } catch (Exception e) {\r\n                                System.out.println(attribute + &quot; of pid attribute is not valid&quot;);\r\n                            }\r\n                        }\r\n                        has++;\r\n                    }\r\n                    if (id.contains(&quot;eyr&quot;)) {\r\n                        int at = Integer.parseInt(attribute);\r\n                        if (at &gt;= 2020 &amp;&amp; at &lt;= 2030) {\r\n                            System.out.println(attribute + &quot; attribute of eyr is valid&quot;);\r\n                            has++;\r\n                        } else {\r\n                            System.out.println(attribute + &quot; attribute of eyr is not valid&quot;);\r\n                        }\r\n                        has++;\r\n                    }\r\n                    if (id.contains(&quot;hcl&quot;)) {\r\n                        boolean isValid = false;\r\n                        if (attribute.contains(&quot;#&quot;)) {\r\n                            for (char c : attribute.toCharArray()) {\r\n                                if (attribute.length() == 7) {\r\n                                    if ((c &gt;= &#39;a&#39; &amp;&amp; c &lt;= &#39;f&#39;) || c == &#39;#&#39;) {\r\n                                        isValid = true;\r\n                                    } else if (Character.isDigit(c)) {\r\n                                        isValid = true;\r\n                                    } else {\r\n                                        isValid = false;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n    \r\n                        if (isValid) {\r\n                            has++;\r\n                        }\r\n                        System.out.println(attribute + &quot; hcl is &quot; + isValid);\r\n                        has++;\r\n                    }\r\n                    if (id.contains(&quot;byr&quot;)) {\r\n                        int date = Integer.parseInt(attribute);\r\n                        if (date &gt;= 1920 &amp;&amp; date &lt;= 2002) {\r\n                            System.out.println(attribute + &quot; byr attribute is valid&quot;);\r\n                            has++;\r\n                        } else {\r\n                            System.out.println(attribute + &quot; byr attribute is not valid&quot;);\r\n                        }\r\n                        has++;\r\n                    }\r\n                    if (id.contains(&quot;iyr&quot;)) {\r\n                        int date = Integer.parseInt(attribute);\r\n                        if (date &gt;= 2010 &amp;&amp; date &lt;= 2020) {\r\n                            has++;\r\n                        } else {\r\n                            System.out.println(attribute + &quot; iyr is false&quot;);\r\n                        }\r\n                        has++;\r\n                    }\r\n                    if (id.contains(&quot;hgt&quot;)) {\r\n                        boolean isValid = false;\r\n                        String type = attribute.replaceAll(&quot;[^A-Za-z]&quot;, &quot;&quot;);\r\n                        int amount = Integer.parseInt(attribute.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;));\r\n                        if (type.equals(&quot;in&quot;)) {\r\n                            if (amount &gt;= 59 &amp;&amp; amount &lt;= 76) {\r\n                                isValid = true;\r\n                                has++;\r\n                            }\r\n                        } else if (type.equals(&quot;cm&quot;)) {\r\n                            if (amount &gt;= 150 &amp;&amp; amount &lt;= 193) {\r\n                                isValid = true;\r\n                                has++;\r\n                            }\r\n                        }\r\n                        System.out.println(attribute + &quot; hgt is &quot; + isValid);\r\n                        has++;\r\n                    }\r\n                }\r\n                System.out.println();\r\n                if (has &gt;= 14) {\r\n                    valid++;\r\n                }\r\n            }\r\n            System.out.println(valid);\r\n            System.out.println(&quot;End&quot;);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qtqhI.png\r\n  [2]: https://i.stack.imgur.com/VMAZW.png\r\n  [3]: https://adventofcode.com/2020/day/4\r\n  [4]: https://pastebin.com/8kyQjjuF","title":"Logic error while trying to solve adventofcode day 4","body":"<p>This is on day four of advent of code part two...<br />\nI tried out the sample input they gave and it was correct and I used the input I have and comes out wrong every time</p>\n<p><a href=\"https://i.stack.imgur.com/qtqhI.png\" rel=\"nofollow noreferrer\">What I see 1</a></p>\n<p><a href=\"https://i.stack.imgur.com/VMAZW.png\" rel=\"nofollow noreferrer\">What I see 2</a></p>\n<p>There is more below but its what happens after you solve the first part</p>\n<p><a href=\"https://adventofcode.com/2020/day/4\" rel=\"nofollow noreferrer\">Advent of code day 4</a><br />\n<a href=\"https://pastebin.com/8kyQjjuF\" rel=\"nofollow noreferrer\">Puzzle input</a></p>\n<p>The input differs by user but the code should be the same no matter the input</p>\n<ul>\n<li>byr (Birth Year) - four digits; at least 1920 and at most 2002.</li>\n<li>iyr (Issue Year) - four digits; at least 2010 and at most 2020.</li>\n<li>eyr (Expiration Year) - four digits; at least 2020 and at most 2030.</li>\n<li>hgt (Height) - a number followed by either cm or in:</li>\n<li>\n<ul>\n<li>If cm, the number must be at least 150 and at most 193.</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>If in, the number must be at least 59 and at most 76.</li>\n</ul>\n</li>\n<li>hcl (Hair Color) - a # followed by exactly six characters 0-9 or a-f.</li>\n<li>ecl (Eye Color) - exactly one of: amb blu brn gry grn hzl oth.</li>\n<li>pid (Passport ID) - a nine-digit number, including leading zeroes.</li>\n<li>cid (Country ID) - ignored, missing or not.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.*;\n\npublic class Main {\n    public static void main(String[] args) throws FileNotFoundException {\n        File inputText = new File(&quot;src/input.txt&quot;);\n        Scanner sc = new Scanner(inputText);\n        ArrayList&lt;ArrayList&gt; ids = new ArrayList&lt;&gt;();\n        ArrayList&lt;ArrayList&gt; attributes = new ArrayList&lt;&gt;();\n\n\n        while (sc.hasNextLine()) {\n            String builtString = &quot;&quot;;\n            String input = &quot;1&quot;;\n\n            while(input.length() != 0 &amp;&amp; sc.hasNextLine()) {\n                input = sc.nextLine();\n                builtString += input + &quot; &quot;;\n            }\n            String[] temp = builtString.split(&quot; &quot;);\n            ArrayList&lt;String&gt; tempIds = new ArrayList&lt;&gt;();\n            ArrayList&lt;String&gt; tempAttributes = new ArrayList&lt;&gt;();\n            for (String i : temp) {\n                tempIds.add(i.split(&quot;:&quot;)[0]);\n                tempAttributes.add(i.split(&quot;:&quot;)[1]);\n            }\n            ids.add(tempIds);\n            attributes.add(tempAttributes);\n        }\n        System.out.println(ids);\n        System.out.println(attributes);\n        int valid = 0;\n\n        for (int a = 0; a &lt; ids.size(); a++) {\n            int has = 0;\n            for (int j = 0; j &lt; ids.get(a).size(); j++) {\n                String id = ids.get(a).get(j).toString();\n                String attribute = attributes.get(a).get(j).toString();\n                if (id.contains(&quot;ecl&quot;)) {\n                    if (attribute.contains(&quot;blu&quot;) || attribute.contains(&quot;brn&quot;) || attribute.contains(&quot;gry&quot;) || attribute.contains(&quot;grn&quot;) || attribute.contains(&quot;hzl&quot;) || attribute.contains(&quot;oth&quot;)) {\n                        System.out.println(attribute + &quot; is an eye color&quot;);\n                        has++;\n                    } else {\n                        System.out.println(attribute + &quot; is not an eye color&quot;);\n                    }\n                    has++;\n                }\n                if (id.contains(&quot;pid&quot;)) {\n                    if (attribute.length() == 9) {\n                        try {\n                            Integer.parseInt(attribute);\n                            System.out.println(attribute + &quot; of pid attribute is valid &quot;);\n                            has++;\n                        } catch (Exception e) {\n                            System.out.println(attribute + &quot; of pid attribute is not valid&quot;);\n                        }\n                    }\n                    has++;\n                }\n                if (id.contains(&quot;eyr&quot;)) {\n                    int at = Integer.parseInt(attribute);\n                    if (at &gt;= 2020 &amp;&amp; at &lt;= 2030) {\n                        System.out.println(attribute + &quot; attribute of eyr is valid&quot;);\n                        has++;\n                    } else {\n                        System.out.println(attribute + &quot; attribute of eyr is not valid&quot;);\n                    }\n                    has++;\n                }\n                if (id.contains(&quot;hcl&quot;)) {\n                    boolean isValid = false;\n                    if (attribute.contains(&quot;#&quot;)) {\n                        for (char c : attribute.toCharArray()) {\n                            if (attribute.length() == 7) {\n                                if ((c &gt;= 'a' &amp;&amp; c &lt;= 'f') || c == '#') {\n                                    isValid = true;\n                                } else if (Character.isDigit(c)) {\n                                    isValid = true;\n                                } else {\n                                    isValid = false;\n                                    break;\n                                }\n                            }\n                        }\n                    }\n\n                    if (isValid) {\n                        has++;\n                    }\n                    System.out.println(attribute + &quot; hcl is &quot; + isValid);\n                    has++;\n                }\n                if (id.contains(&quot;byr&quot;)) {\n                    int date = Integer.parseInt(attribute);\n                    if (date &gt;= 1920 &amp;&amp; date &lt;= 2002) {\n                        System.out.println(attribute + &quot; byr attribute is valid&quot;);\n                        has++;\n                    } else {\n                        System.out.println(attribute + &quot; byr attribute is not valid&quot;);\n                    }\n                    has++;\n                }\n                if (id.contains(&quot;iyr&quot;)) {\n                    int date = Integer.parseInt(attribute);\n                    if (date &gt;= 2010 &amp;&amp; date &lt;= 2020) {\n                        has++;\n                    } else {\n                        System.out.println(attribute + &quot; iyr is false&quot;);\n                    }\n                    has++;\n                }\n                if (id.contains(&quot;hgt&quot;)) {\n                    boolean isValid = false;\n                    String type = attribute.replaceAll(&quot;[^A-Za-z]&quot;, &quot;&quot;);\n                    int amount = Integer.parseInt(attribute.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;));\n                    if (type.equals(&quot;in&quot;)) {\n                        if (amount &gt;= 59 &amp;&amp; amount &lt;= 76) {\n                            isValid = true;\n                            has++;\n                        }\n                    } else if (type.equals(&quot;cm&quot;)) {\n                        if (amount &gt;= 150 &amp;&amp; amount &lt;= 193) {\n                            isValid = true;\n                            has++;\n                        }\n                    }\n                    System.out.println(attribute + &quot; hgt is &quot; + isValid);\n                    has++;\n                }\n            }\n            System.out.println();\n            if (has &gt;= 14) {\n                valid++;\n            }\n        }\n        System.out.println(valid);\n        System.out.println(&quot;End&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":13526529,"reputation":72157,"user_id":9758194,"display_name":"JvdV"},"score":1,"creation_date":1607361516,"post_id":65186269,"comment_id":115242580,"body_markdown":"Looking at this, can&#39;t you simply split on spaces? And if not, why?","body":"Looking at this, can&#39;t you simply split on spaces? And if not, why?"},{"owner":{"account_id":352837,"reputation":9838,"user_id":690139,"accept_rate":83,"display_name":"Mark Fisher"},"score":0,"creation_date":1607361878,"post_id":65186269,"comment_id":115242756,"body_markdown":"this is a very simplified version of the actual input, where the final numbers are more complex patterns (actually of the pattern &quot;&lt;number&gt; &lt;word1&gt; &lt;word2&gt; &lt;other bits&gt;&quot;) that exhibit the same behaviour, only matching the first or last expression, never the full list of items.","body":"this is a very simplified version of the actual input, where the final numbers are more complex patterns (actually of the pattern &quot;&lt;number&gt; &lt;word1&gt; &lt;word2&gt; &lt;other bits&gt;&quot;) that exhibit the same behaviour, only matching the first or last expression, never the full list of items."},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1607364748,"post_id":65186269,"comment_id":115244036,"body_markdown":"Yes, use `String pat = &quot;(\\\\G(?!^)|\\\\b\\\\p{L}+\\\\b)\\\\s+(\\\\d+)&quot;;`. Group 1 will only be matched when the initial word is matched. You need to use it with `matcher.find` and some extra code logic.","body":"Yes, use <code>String pat = &quot;(\\\\G(?!^)|\\\\b\\\\p{L}+\\\\b)\\\\s+(\\\\d+)&quot;;</code>. Group 1 will only be matched when the initial word is matched. You need to use it with <code>matcher.find</code> and some extra code logic."},{"owner":{"account_id":352837,"reputation":9838,"user_id":690139,"accept_rate":83,"display_name":"Mark Fisher"},"score":0,"creation_date":1607384289,"post_id":65186269,"comment_id":115251162,"body_markdown":"This is wizardry! I tested this at https://www.freeformatter.com/java-regex-tester.html#ad-output and as you say, the initial group is slightly askew, but otherwise is pretty good. the matches give &quot;other 1&quot;, &quot;2&quot;, &quot;3&quot;.","body":"This is wizardry! I tested this at <a href=\"https://www.freeformatter.com/java-regex-tester.html#ad-output\" rel=\"nofollow noreferrer\">freeformatter.com/java-regex-tester.html#ad-output</a> and as you say, the initial group is slightly askew, but otherwise is pretty good. the matches give &quot;other 1&quot;, &quot;2&quot;, &quot;3&quot;."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1607363657,"creation_date":1607361889,"answer_id":65186414,"question_id":65186269,"body_markdown":"I think what you are looking for can be achieved by splitting the string on `\\s+` unless I am missing something.\r\n\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString str = &quot;this 10 12 3 44 5 66 7 8&quot;;\r\n    \t\tString[] parts = str.split(&quot;\\\\s+&quot;);\r\n    \t\tSystem.out.println(Arrays.toString(parts));\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    [this, 10, 12, 3, 44, 5, 66, 7, 8]\r\n\r\nIf you want to select just the alphabetical text and the integer text from the string, you can do it as\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString str = &quot;this 10 12 3 44 5 66 7 8&quot;;\r\n    \t\tMatcher matcher = Pattern.compile(&quot;(\\\\b\\\\p{Alpha}+\\\\b)|(\\\\b\\\\d+\\\\b)&quot;).matcher(str);\r\n    \t\twhile (matcher.find()) {\r\n    \t\t\tSystem.out.println(matcher.group());\r\n    \t\t}\r\n    \t}\r\n    }\r\n**Output:**\r\n\r\n    this\r\n    10\r\n    12\r\n    3\r\n    44\r\n    5\r\n    66\r\n    7\r\n    8\r\n\r\nor as\r\n\r\n    import java.util.List;\r\n    import java.util.regex.MatchResult;\r\n    import java.util.regex.Pattern;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString str = &quot;this 10 12 3 44 5 66 7 8&quot;;\r\n    \r\n    \t\tList&lt;String&gt; list = Pattern.compile(&quot;(\\\\b\\\\p{Alpha}+\\\\b)|(\\\\b\\\\d+\\\\b)&quot;)\r\n    \t\t\t\t\t\t\t.matcher(str)\r\n    \t\t\t\t\t\t\t.results()\r\n    \t\t\t\t\t\t\t.map(MatchResult::group)\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t.collect(Collectors.toList());\r\n    \r\n    \t\tSystem.out.println(list);\r\n    \t}\r\n    }\r\n**Output:**\r\n\r\n    [this, 10, 12, 3, 44, 5, 66, 7, 8]\r\n\r\n","title":"Multiple matches in single java regexp","body":"<p>I think what you are looking for can be achieved by splitting the string on <code>\\s+</code> unless I am missing something.</p>\n<pre><code>import java.util.Arrays;\n\npublic class Main {\n    public static void main(String[] args) {\n        String str = &quot;this 10 12 3 44 5 66 7 8&quot;;\n        String[] parts = str.split(&quot;\\\\s+&quot;);\n        System.out.println(Arrays.toString(parts));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[this, 10, 12, 3, 44, 5, 66, 7, 8]\n</code></pre>\n<p>If you want to select just the alphabetical text and the integer text from the string, you can do it as</p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Main {\n    public static void main(String[] args) {\n        String str = &quot;this 10 12 3 44 5 66 7 8&quot;;\n        Matcher matcher = Pattern.compile(&quot;(\\\\b\\\\p{Alpha}+\\\\b)|(\\\\b\\\\d+\\\\b)&quot;).matcher(str);\n        while (matcher.find()) {\n            System.out.println(matcher.group());\n        }\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>this\n10\n12\n3\n44\n5\n66\n7\n8\n</code></pre>\n<p>or as</p>\n<pre><code>import java.util.List;\nimport java.util.regex.MatchResult;\nimport java.util.regex.Pattern;\nimport java.util.stream.Collectors;\n\npublic class Main {\n    public static void main(String[] args) {\n        String str = &quot;this 10 12 3 44 5 66 7 8&quot;;\n\n        List&lt;String&gt; list = Pattern.compile(&quot;(\\\\b\\\\p{Alpha}+\\\\b)|(\\\\b\\\\d+\\\\b)&quot;)\n                            .matcher(str)\n                            .results()\n                            .map(MatchResult::group)                                                        \n                            .collect(Collectors.toList());\n\n        System.out.println(list);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[this, 10, 12, 3, 44, 5, 66, 7, 8]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607362039,"creation_date":1607362039,"answer_id":65186450,"question_id":65186269,"body_markdown":"No. The notion of &quot;find me all of a certain regexp&quot; is just not done with incrementing groups. You&#39;re really asking for why regexp is what it is? That&#39;s... an epic thesis that delves into some ancient computing history and a lot of Larry Wall (author of Perl, which is more or less where regexps came from) interviews, that seems a bit beyond the scope of SO. They work that way because regexps work that way, and those work that way because they&#39;ve worked that way for decades and changing them would mess with people&#39;s expectations; let&#39;s not go any deeper than that.\r\n\r\nYou can do this with scanners instead:\r\n\r\n```\r\nScanner s = new Scanner(&quot;this 10 12 3 44 5 66 7 8&quot;);\r\nassertEquals(&quot;this&quot;, s.next());\r\nassertEquals(10, s.nextInt());\r\n// etc\r\n```\r\n\r\nor even:\r\n\r\n```\r\nScanner s = new Scanner(&quot;this 10 12 3 44 5 66 7 8&quot;);\r\nassertEquals(&quot;this&quot;, s.next());\r\nassertEquals(10, s.nextInt());\r\n// etc\r\n```\r\n\r\nor even:\r\n```\r\nScanner s = new Scanner(&quot;this 10 12 3 44 5 66 7 8&quot;);\r\nassertEquals(&quot;this&quot;, s.next(Pattern.compile(&quot;[\\p{Alpha}]+&quot;));\r\nassertEquals(10, s.nextInt());\r\n\r\ns = new Scanner(&quot;--00invalid-- 10 12 3 44 5 66 7 8&quot;);\r\n// the line below will throw an InputMismatchException\r\ns.next(Pattern.compile(&quot;[\\p{Alpha}]+&quot;));\r\n```\r\n\r\nNB: Scanners tokenize (they split the input into a sequence of token, separator, token, separator, etc - then tosses the separators and gives you the tokens). `.next(Pattern)` does not mean: Keep scanning until you hit something that matches. It just means: Grab the next token. If it matches this regexp, great, return it. Otherwise, crash.\r\n\r\nSo, the real magic is in making scanner tokenize as you want. This is done by use `.useDelimiter()` and is also regexp based. Some fancy footwork with positive lookahead and co can get you far, but it&#39;s not infinitely powerful. You didn&#39;t expand on the actual structure of your input so I can&#39;t say if it&#39;ll suffice for your needs.\r\n","title":"Multiple matches in single java regexp","body":"<p>No. The notion of &quot;find me all of a certain regexp&quot; is just not done with incrementing groups. You're really asking for why regexp is what it is? That's... an epic thesis that delves into some ancient computing history and a lot of Larry Wall (author of Perl, which is more or less where regexps came from) interviews, that seems a bit beyond the scope of SO. They work that way because regexps work that way, and those work that way because they've worked that way for decades and changing them would mess with people's expectations; let's not go any deeper than that.</p>\n<p>You can do this with scanners instead:</p>\n<pre><code>Scanner s = new Scanner(&quot;this 10 12 3 44 5 66 7 8&quot;);\nassertEquals(&quot;this&quot;, s.next());\nassertEquals(10, s.nextInt());\n// etc\n</code></pre>\n<p>or even:</p>\n<pre><code>Scanner s = new Scanner(&quot;this 10 12 3 44 5 66 7 8&quot;);\nassertEquals(&quot;this&quot;, s.next());\nassertEquals(10, s.nextInt());\n// etc\n</code></pre>\n<p>or even:</p>\n<pre><code>Scanner s = new Scanner(&quot;this 10 12 3 44 5 66 7 8&quot;);\nassertEquals(&quot;this&quot;, s.next(Pattern.compile(&quot;[\\p{Alpha}]+&quot;));\nassertEquals(10, s.nextInt());\n\ns = new Scanner(&quot;--00invalid-- 10 12 3 44 5 66 7 8&quot;);\n// the line below will throw an InputMismatchException\ns.next(Pattern.compile(&quot;[\\p{Alpha}]+&quot;));\n</code></pre>\n<p>NB: Scanners tokenize (they split the input into a sequence of token, separator, token, separator, etc - then tosses the separators and gives you the tokens). <code>.next(Pattern)</code> does not mean: Keep scanning until you hit something that matches. It just means: Grab the next token. If it matches this regexp, great, return it. Otherwise, crash.</p>\n<p>So, the real magic is in making scanner tokenize as you want. This is done by use <code>.useDelimiter()</code> and is also regexp based. Some fancy footwork with positive lookahead and co can get you far, but it's not infinitely powerful. You didn't expand on the actual structure of your input so I can't say if it'll suffice for your needs.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607371924,"creation_date":1607364990,"answer_id":65187176,"question_id":65186269,"body_markdown":"You said you had to use a regex.  But how about a hybrid solution.  Use the regex to verify the format and then split the values on spaces or the delimiter of your choosing. I also returned the value in an optional so you could check on its availability before use.\r\n```\r\nString[] data = { &quot;this 10 12 3 44 5 66 7 8&quot;,\r\n        &quot;Bad Data 5 5 5&quot;,\r\n\t\t&quot;another 1 2 3&quot; };\r\n\r\nfor (String text : data) {\r\n\tOptional&lt;List&lt;String&gt;&gt; op = parseText(text);\r\n\tif (!op.isEmpty()) {\r\n\t\tSystem.out.println(op.get());\r\n\t}\r\n}\r\n```\r\nPrints\r\n```\t\r\n[this, 10, 12, 3, 44, 5, 66, 7, 8]\r\n[another, 1, 2, 3]\r\n```\r\n```\t\r\nstatic String pattern = &quot;([a-zA-Z]+)(\\\\s+\\\\d+)+&quot;;\r\n\t\r\npublic static Optional&lt;List&lt;String&gt;&gt; parseText(String text) {\r\n\tif (text.matches(pattern)) {\r\n\t\treturn Optional.of(Arrays.stream(text.split(&quot;\\\\s+&quot;))\r\n\t\t\t\t.collect(Collectors.toList()));\r\n\t}\r\n\treturn Optional.empty();\r\n}","title":"Multiple matches in single java regexp","body":"<p>You said you had to use a regex.  But how about a hybrid solution.  Use the regex to verify the format and then split the values on spaces or the delimiter of your choosing. I also returned the value in an optional so you could check on its availability before use.</p>\n<pre><code>String[] data = { &quot;this 10 12 3 44 5 66 7 8&quot;,\n        &quot;Bad Data 5 5 5&quot;,\n        &quot;another 1 2 3&quot; };\n\nfor (String text : data) {\n    Optional&lt;List&lt;String&gt;&gt; op = parseText(text);\n    if (!op.isEmpty()) {\n        System.out.println(op.get());\n    }\n}\n</code></pre>\n<p>Prints</p>\n<pre><code>[this, 10, 12, 3, 44, 5, 66, 7, 8]\n[another, 1, 2, 3]\n</code></pre>\n<pre><code>static String pattern = &quot;([a-zA-Z]+)(\\\\s+\\\\d+)+&quot;;\n    \npublic static Optional&lt;List&lt;String&gt;&gt; parseText(String text) {\n    if (text.matches(pattern)) {\n        return Optional.of(Arrays.stream(text.split(&quot;\\\\s+&quot;))\n                .collect(Collectors.toList()));\n    }\n    return Optional.empty();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607366515,"creation_date":1607366515,"answer_id":65187530,"question_id":65186269,"body_markdown":"Assuming you are talking about this: [adventofcode][1] where the inputs are the rules \r\n\r\n    light red bags contain 1 bright white bag, 2 muted yellow bags.\r\n    dark orange bags contain 3 bright white bags, 4 muted yellow bags.\r\n    bright white bags contain 1 shiny gold bag.\r\n    muted yellow bags contain 2 shiny gold bags, 9 faded blue bags.\r\n    shiny gold bags contain 1 dark olive bag, 2 vibrant plum bags.\r\n    dark olive bags contain 3 faded blue bags, 4 dotted black bags.\r\n    vibrant plum bags contain 5 faded blue bags, 6 dotted black bags.\r\n    faded blue bags contain no other bags.\r\n    dotted black bags contain no other bags.\r\n\r\nWhy search for a complicated regular expression when you can easily split on the word `contain` or on a `,`\r\n\r\n    String str1 = &quot;light red bags contain 1 bright white bag, 2 muted yellow bags.&quot;;\r\n    String str2 = &quot;dotted black bags contain no other bags.&quot;;\r\n    String[] split1 = str1.split(&quot;\\\\scontain\\\\s|,&quot;);\r\n    String[] split2 = str2.split(&quot;\\\\scontain\\\\s|,&quot;);\r\n    \r\n    System.out.println(Arrays.toString(split1));\r\n    System.out.println(Arrays.toString(split2));\r\n\r\n    //[light red bags, 1 bright white bag,  2 muted yellow bags.]\r\n    //[dotted black bags, no other bags.]\r\n\r\n  [1]: https://adventofcode.com/2020/day/7","title":"Multiple matches in single java regexp","body":"<p>Assuming you are talking about this: <a href=\"https://adventofcode.com/2020/day/7\" rel=\"nofollow noreferrer\">adventofcode</a> where the inputs are the rules</p>\n<pre><code>light red bags contain 1 bright white bag, 2 muted yellow bags.\ndark orange bags contain 3 bright white bags, 4 muted yellow bags.\nbright white bags contain 1 shiny gold bag.\nmuted yellow bags contain 2 shiny gold bags, 9 faded blue bags.\nshiny gold bags contain 1 dark olive bag, 2 vibrant plum bags.\ndark olive bags contain 3 faded blue bags, 4 dotted black bags.\nvibrant plum bags contain 5 faded blue bags, 6 dotted black bags.\nfaded blue bags contain no other bags.\ndotted black bags contain no other bags.\n</code></pre>\n<p>Why search for a complicated regular expression when you can easily split on the word <code>contain</code> or on a <code>,</code></p>\n<pre><code>String str1 = &quot;light red bags contain 1 bright white bag, 2 muted yellow bags.&quot;;\nString str2 = &quot;dotted black bags contain no other bags.&quot;;\nString[] split1 = str1.split(&quot;\\\\scontain\\\\s|,&quot;);\nString[] split2 = str2.split(&quot;\\\\scontain\\\\s|,&quot;);\n\nSystem.out.println(Arrays.toString(split1));\nSystem.out.println(Arrays.toString(split2));\n\n//[light red bags, 1 bright white bag,  2 muted yellow bags.]\n//[dotted black bags, no other bags.]\n</code></pre>\n"}],"owner":{"account_id":352837,"reputation":9838,"user_id":690139,"accept_rate":83,"display_name":"Mark Fisher"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":993,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65186414,"answer_count":4,"score":3,"last_activity_date":1638449403,"creation_date":1607361353,"question_id":65186269,"body_markdown":"Is it possible to match the following in a single regular expression to get the first word, and then a list of the numbers?\r\n\r\n    this 10 12 3 44 5 66 7 8    # should return &quot;this&quot;, &quot;10&quot;, &quot;12&quot;, ...\r\n    another 1 2 3               # should return &quot;another&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;\r\n\r\n- - -\r\n\r\n**EDIT1:** My actual data is not this simple, the digits are actually more complex patterns, but for illustration purposes, I&#39;ve reduced the problem to simple digits, so I do require a regex answer.\r\n\r\nThe numbers are unknown in length on each line, but all match a simple pattern.\r\n\r\nThe following only matches &quot;this&quot; and &quot;10&quot;:\r\n\r\n    ([\\p{Alpha}]+ )(\\d+ ?)+?\r\n\r\nDropping the final `?` matches &quot;this&quot; and &quot;8&quot;.\r\n\r\nI had thought that the final group `(\\d+ ?)+` would do the digit matching multiple times, but it doesn&#39;t and I can&#39;t find the syntax to do it, if possible.\r\n\r\nI can do it in multiple passes, by only searching for the name and latter numbers separately, but was wondering if it&#39;s possible in a single expression? (And if not, is there a reason?)\r\n\r\n- - -\r\n\r\n**EDIT2:** As I mentioned in some of the comments, this was a question in Advent of Code (Day 7, 2020). I was looking to find cleanest solution (who doesn&#39;t love a bit of polishing?)\r\n\r\nHere&#39;s my ultimate solution (kotlin) I used, but spent too long trying to do it in 1 regex, so I posted this question.\r\n\r\n    val bagExtractor = Regex(&quot;&quot;&quot;^([\\p{Alpha} ]+) bags contain&quot;&quot;&quot;)\r\n    val rulesExtractor = Regex(&quot;&quot;&quot;([\\d]+) ([\\p{Alpha} ]+) bag&quot;&quot;&quot;)\r\n\r\n    // bagRule is a line from the input\r\n    val bag = bagExtractor.find(bagRule)?.destructured!!.let { (n) -&gt; Bag(name = n) }\r\n    val contains = rulesExtractor.findAll(bagRule).map { it.destructured.let { (num, bagName) -&gt; Contain(num = num.toInt(), bag = Bag(bagName)) } }.toList()\r\n    Rule(bag = bag, contains = contains)\r\n\r\nDespite now knowing it can be done in 1 line, I haven&#39;t implemented it, as I think it&#39;s cleaner in 2.","title":"Multiple matches in single java regexp","body":"<p>Is it possible to match the following in a single regular expression to get the first word, and then a list of the numbers?</p>\n<pre><code>this 10 12 3 44 5 66 7 8    # should return &quot;this&quot;, &quot;10&quot;, &quot;12&quot;, ...\nanother 1 2 3               # should return &quot;another&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;\n</code></pre>\n<hr />\n<p><strong>EDIT1:</strong> My actual data is not this simple, the digits are actually more complex patterns, but for illustration purposes, I've reduced the problem to simple digits, so I do require a regex answer.</p>\n<p>The numbers are unknown in length on each line, but all match a simple pattern.</p>\n<p>The following only matches &quot;this&quot; and &quot;10&quot;:</p>\n<pre><code>([\\p{Alpha}]+ )(\\d+ ?)+?\n</code></pre>\n<p>Dropping the final <code>?</code> matches &quot;this&quot; and &quot;8&quot;.</p>\n<p>I had thought that the final group <code>(\\d+ ?)+</code> would do the digit matching multiple times, but it doesn't and I can't find the syntax to do it, if possible.</p>\n<p>I can do it in multiple passes, by only searching for the name and latter numbers separately, but was wondering if it's possible in a single expression? (And if not, is there a reason?)</p>\n<hr />\n<p><strong>EDIT2:</strong> As I mentioned in some of the comments, this was a question in Advent of Code (Day 7, 2020). I was looking to find cleanest solution (who doesn't love a bit of polishing?)</p>\n<p>Here's my ultimate solution (kotlin) I used, but spent too long trying to do it in 1 regex, so I posted this question.</p>\n<pre><code>val bagExtractor = Regex(&quot;&quot;&quot;^([\\p{Alpha} ]+) bags contain&quot;&quot;&quot;)\nval rulesExtractor = Regex(&quot;&quot;&quot;([\\d]+) ([\\p{Alpha} ]+) bag&quot;&quot;&quot;)\n\n// bagRule is a line from the input\nval bag = bagExtractor.find(bagRule)?.destructured!!.let { (n) -&gt; Bag(name = n) }\nval contains = rulesExtractor.findAll(bagRule).map { it.destructured.let { (num, bagName) -&gt; Contain(num = num.toInt(), bag = Bag(bagName)) } }.toList()\nRule(bag = bag, contains = contains)\n</code></pre>\n<p>Despite now knowing it can be done in 1 line, I haven't implemented it, as I think it's cleaner in 2.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11038736,"reputation":1112,"user_id":8107504,"display_name":"Parth Manaktala"},"score":0,"creation_date":1607420747,"post_id":65196548,"comment_id":115260391,"body_markdown":"How many elements are there in the input set?","body":"How many elements are there in the input set?"},{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":0,"creation_date":1607420762,"post_id":65196548,"comment_id":115260399,"body_markdown":"What does `i--;` do at the end of the last if stmnt block?","body":"What does <code>i--;</code> do at the end of the last if stmnt block?"},{"owner":{"account_id":16026656,"reputation":112,"user_id":11566730,"display_name":"R4yY"},"score":1,"creation_date":1607421013,"post_id":65196548,"comment_id":115260511,"body_markdown":"@dbl it decrements i by 1 ;)","body":"@dbl it decrements i by 1 ;)"},{"owner":{"account_id":17705954,"reputation":624,"user_id":12854744,"display_name":"user157629"},"score":0,"creation_date":1607421136,"post_id":65196548,"comment_id":115260557,"body_markdown":"there are 631 elements in my input set @ParthManaktala","body":"there are 631 elements in my input set @ParthManaktala"},{"owner":{"account_id":17705954,"reputation":624,"user_id":12854744,"display_name":"user157629"},"score":0,"creation_date":1607421263,"post_id":65196548,"comment_id":115260613,"body_markdown":"Also `i--;` decrements `i` by 1 on the `&quot;jmp&quot;` case because the `for` increases `i` value by 1 right after so it does not get off in the next iteration @dbl","body":"Also <code>i--;</code> decrements <code>i</code> by 1 on the <code>&quot;jmp&quot;</code> case because the <code>for</code> increases <code>i</code> value by 1 right after so it does not get off in the next iteration @dbl"},{"owner":{"account_id":17705954,"reputation":624,"user_id":12854744,"display_name":"user157629"},"score":0,"creation_date":1607421339,"post_id":65196548,"comment_id":115260641,"body_markdown":"I&#39;m really lost as I don&#39;t see any issue in my code but thanks man :)","body":"I&#39;m really lost as I don&#39;t see any issue in my code but thanks man :)"},{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":1,"creation_date":1607423465,"post_id":65196548,"comment_id":115261509,"body_markdown":"So decremetation was not the issue, yet it was somehow connected... changeing the whole body of the last if statement to `i += Integer.parseInt(list.get(i).substring(4)) - 1;` resolve the issue and I get correct answer. GL with P2.","body":"So decremetation was not the issue, yet it was somehow connected... changeing the whole body of the last if statement to <code>i += Integer.parseInt(list.get(i).substring(4)) - 1;</code> resolve the issue and I get correct answer. GL with P2."},{"owner":{"account_id":17705954,"reputation":624,"user_id":12854744,"display_name":"user157629"},"score":1,"creation_date":1607423797,"post_id":65196548,"comment_id":115261652,"body_markdown":"@dbl that was it, correct now! thanks a lot","body":"@dbl that was it, correct now! thanks a lot"},{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":1,"creation_date":1607423915,"post_id":65196548,"comment_id":115261707,"body_markdown":"I used the same approach for P1, even though my loop is twice as short from your snippet. For P2 I ended up with recursion :) My loop had two driver variables `i` &amp; `step`, where `i` was modified by `i+=step`, and step was assingend accorfing to the first 3 letters - the instruction(or in my case the key from  Map&lt;String, Integer&gt; though). That&#39;s why i had no decrementation... So it was easy for me to go recursive (replacing `step` assingments with selfcalls). GL with P2.","body":"I used the same approach for P1, even though my loop is twice as short from your snippet. For P2 I ended up with recursion :) My loop had two driver variables <code>i</code> &amp; <code>step</code>, where <code>i</code> was modified by <code>i+=step</code>, and step was assingend accorfing to the first 3 letters - the instruction(or in my case the key from  Map&lt;String, Integer&gt; though). That&#39;s why i had no decrementation... So it was easy for me to go recursive (replacing <code>step</code> assingments with selfcalls). GL with P2."},{"owner":{"account_id":17705954,"reputation":624,"user_id":12854744,"display_name":"user157629"},"score":1,"creation_date":1607425610,"post_id":65196548,"comment_id":115262499,"body_markdown":"I didn&#39;t use recursion in this case but a function that kept changing &quot;nop&quot; to &quot;jmp&quot; and calculating if it&#39;s an infinite loop or not till I got the answer, seemed easier for my programming level :P. Yesterday&#39;s bags problem definitely needed some recursion though! GL on the next problems!","body":"I didn&#39;t use recursion in this case but a function that kept changing &quot;nop&quot; to &quot;jmp&quot; and calculating if it&#39;s an infinite loop or not till I got the answer, seemed easier for my programming level :P. Yesterday&#39;s bags problem definitely needed some recursion though! GL on the next problems!"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1607433240,"creation_date":1607427288,"answer_id":65198157,"question_id":65196548,"body_markdown":"The problem is these two statements for `jmp`:\r\n\r\n            if (list.get(i).charAt(4) == &#39;+&#39;) i += (Integer.parseInt(list.get(i).substring(5)));\r\n            if (list.get(i).charAt(4) == &#39;-&#39;) i -= (Integer.parseInt(list.get(i).substring(5)));\r\n\r\nIf the statement is `jmp +443` (the first jump statement in my input) the first line already changes `i` and then the second `if` doesn&#39;t check the operand of the `jmp +443` statement anymore, it checks the operand of the jump target.\r\n\r\nWith my input the instruction at the first jump target is `acc -1`, which means that the second if-statement is evaluated too, meaning that the new `i` is calculated wrong.\r\n\r\nA better solution is to use an `if / else if` combination:\r\n\r\n            if (list.get(i).charAt(4) == &#39;+&#39;) \r\n                i += (Integer.parseInt(list.get(i).substring(5)));\r\n            else if (list.get(i).charAt(4) == &#39;-&#39;) \r\n                i -= (Integer.parseInt(list.get(i).substring(5)));\r\n\r\nThe simplest solution however is to let `Integer.parseInt()` take care of the `+` and `-` sign:\r\n\r\n            i += Integer.parseInt(list.get(i).substring(4));\r\n\r\n(this can also be applied to the &quot;acc&quot; case...)","title":"AoC day 8 issue (Java)","body":"<p>The problem is these two statements for <code>jmp</code>:</p>\n<pre><code>        if (list.get(i).charAt(4) == '+') i += (Integer.parseInt(list.get(i).substring(5)));\n        if (list.get(i).charAt(4) == '-') i -= (Integer.parseInt(list.get(i).substring(5)));\n</code></pre>\n<p>If the statement is <code>jmp +443</code> (the first jump statement in my input) the first line already changes <code>i</code> and then the second <code>if</code> doesn't check the operand of the <code>jmp +443</code> statement anymore, it checks the operand of the jump target.</p>\n<p>With my input the instruction at the first jump target is <code>acc -1</code>, which means that the second if-statement is evaluated too, meaning that the new <code>i</code> is calculated wrong.</p>\n<p>A better solution is to use an <code>if / else if</code> combination:</p>\n<pre><code>        if (list.get(i).charAt(4) == '+') \n            i += (Integer.parseInt(list.get(i).substring(5)));\n        else if (list.get(i).charAt(4) == '-') \n            i -= (Integer.parseInt(list.get(i).substring(5)));\n</code></pre>\n<p>The simplest solution however is to let <code>Integer.parseInt()</code> take care of the <code>+</code> and <code>-</code> sign:</p>\n<pre><code>        i += Integer.parseInt(list.get(i).substring(4));\n</code></pre>\n<p>(this can also be applied to the &quot;acc&quot; case...)</p>\n"}],"owner":{"account_id":17705954,"reputation":624,"user_id":12854744,"display_name":"user157629"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":65198157,"answer_count":1,"score":0,"last_activity_date":1638449375,"creation_date":1607420652,"question_id":65196548,"body_markdown":"I was trying to solve a programming Christmas problem which you can read here: [advent of code day 8][1]\r\n\r\n\r\n  [1]: https://adventofcode.com/2020/day/8\r\n\r\nI used Java to solve this problem so I have the following function where ``list`` contain one action of the input file per index:\r\n\r\n    \r\n    public int calculate_P1() {\r\n        boolean[] config = new boolean[list.size()];\r\n        int acc=0;\r\n\r\n        for (int i = 0; i &lt; list.size(); i++) {\r\n\r\n            if (list.get(i).substring(0, 3).equals(&quot;nop&quot;)) {\r\n                if (config[i] == true) break;\r\n                config[i] = true;\r\n                continue;\r\n            }\r\n\r\n            if (list.get(i).substring(0, 3).equals(&quot;acc&quot;)) {\r\n                if (config[i] == true) break;\r\n                config[i] = true;\r\n\r\n                if (list.get(i).charAt(4) == &#39;+&#39;) acc += Integer.parseInt(list.get(i).substring(5));\r\n                if (list.get(i).charAt(4) == &#39;-&#39;) acc -= Integer.parseInt(list.get(i).substring(5));\r\n                continue;\r\n            }\r\n\r\n            if (list.get(i).substring(0, 3).equals(&quot;jmp&quot;)) {\r\n                if (config[i] == true) break;\r\n                config[i] = true;\r\n\r\n                if (list.get(i).charAt(4) == &#39;+&#39;) i += (Integer.parseInt(list.get(i).substring(5)));\r\n                if (list.get(i).charAt(4) == &#39;-&#39;) i -= (Integer.parseInt(list.get(i).substring(5)));\r\n\r\n                i--;\r\n            }\r\n        }\r\n\r\n        return acc;\r\n    }\r\n\r\nThis solves the example input correctly but, the input file is much longer and I get ``261`` as an output while it should be ``1179``... What am I doing wrong?\r\n","title":"AoC day 8 issue (Java)","body":"<p>I was trying to solve a programming Christmas problem which you can read here: <a href=\"https://adventofcode.com/2020/day/8\" rel=\"nofollow noreferrer\">advent of code day 8</a></p>\n<p>I used Java to solve this problem so I have the following function where <code>list</code> contain one action of the input file per index:</p>\n<pre><code>public int calculate_P1() {\n    boolean[] config = new boolean[list.size()];\n    int acc=0;\n\n    for (int i = 0; i &lt; list.size(); i++) {\n\n        if (list.get(i).substring(0, 3).equals(&quot;nop&quot;)) {\n            if (config[i] == true) break;\n            config[i] = true;\n            continue;\n        }\n\n        if (list.get(i).substring(0, 3).equals(&quot;acc&quot;)) {\n            if (config[i] == true) break;\n            config[i] = true;\n\n            if (list.get(i).charAt(4) == '+') acc += Integer.parseInt(list.get(i).substring(5));\n            if (list.get(i).charAt(4) == '-') acc -= Integer.parseInt(list.get(i).substring(5));\n            continue;\n        }\n\n        if (list.get(i).substring(0, 3).equals(&quot;jmp&quot;)) {\n            if (config[i] == true) break;\n            config[i] = true;\n\n            if (list.get(i).charAt(4) == '+') i += (Integer.parseInt(list.get(i).substring(5)));\n            if (list.get(i).charAt(4) == '-') i -= (Integer.parseInt(list.get(i).substring(5)));\n\n            i--;\n        }\n    }\n\n    return acc;\n}\n</code></pre>\n<p>This solves the example input correctly but, the input file is much longer and I get <code>261</code> as an output while it should be <code>1179</code>... What am I doing wrong?</p>\n"},{"tags":["java","swing","user-interface","layout-manager","gridbaglayout"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1597515404,"post_id":63427308,"comment_id":112160484,"body_markdown":"Perhaps [BoxLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/box.html) is more appropriate?","body":"Perhaps <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/box.html\" rel=\"nofollow noreferrer\">BoxLayout</a> is more appropriate?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1597518305,"post_id":63427308,"comment_id":112161237,"body_markdown":"It&#39;s too bad you didn&#39;t provide a  [mre].  I could have copied the code into my Eclipse IDE and tried different ideas.","body":"It&#39;s too bad you didn&#39;t provide a  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  I could have copied the code into my Eclipse IDE and tried different ideas."},{"owner":{"account_id":7114842,"reputation":311,"user_id":5441525,"accept_rate":57,"display_name":"Georodin"},"score":0,"creation_date":1597518459,"post_id":63427308,"comment_id":112161271,"body_markdown":"thank you for the input Gilbert; I will transform my question\nand @Abra I will read some documents on BoxLayout thank you aswell","body":"thank you for the input Gilbert; I will transform my question and @Abra I will read some documents on BoxLayout thank you aswell"}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1597520121,"creation_date":1597520121,"answer_id":63430115,"question_id":63427308,"body_markdown":"I created a simple, runnable example of a GUI with a start button on the lower fourth of the `JPanel`.  Here&#39;s the example GUI.\r\n\r\n[![Start button GUI][1]][1]\r\n\r\nUse Swing components.  Don&#39;t extend Swing components, or any other Java class, unless you intend to override one of the methods in the class.\r\n\r\nI used a `BorderLayout` for the `JPanel`.  I used a calculated empty border to shift the start button down from the center.\r\n\r\nI set the size of the `JPanel` in this example.  I&#39;m assuming you&#39;ll set the size of the game panel based on the size of your image.\r\n\r\nHere&#39;s the code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class StartButtonExample implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new StartButtonExample());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Game&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(createMainPanel(), BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createMainPanel() {\r\n    \t\tJPanel panel = new JPanel(new BorderLayout());\r\n    \t\tDimension panelSize = new Dimension(400, 400);\r\n    \t\tpanel.setPreferredSize(panelSize);\r\n    \r\n    \t\tJButton button = new JButton(&quot;Start&quot;);\r\n    \t\tDimension buttonSize = button.getPreferredSize();\r\n    \r\n    \t\tint height = panelSize.height - buttonSize.height;\r\n    \t\tint width = panelSize.width - buttonSize.width;\r\n    \t\tint top = height * 3 / 4;\r\n    \t\tint left = (width - buttonSize.width) / 2;\r\n    \t\tint bottom = height / 4;\r\n    \t\tint right = left;\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(\r\n    \t\t\t\ttop, left, bottom, right));\r\n    \r\n    \t\tpanel.add(button, BorderLayout.CENTER);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zoANf.png\r\n","title":"Position a JButton properly within a GridBagLayout | Java 8","body":"<p>I created a simple, runnable example of a GUI with a start button on the lower fourth of the <code>JPanel</code>.  Here's the example GUI.</p>\n<p><a href=\"https://i.stack.imgur.com/zoANf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zoANf.png\" alt=\"Start button GUI\" /></a></p>\n<p>Use Swing components.  Don't extend Swing components, or any other Java class, unless you intend to override one of the methods in the class.</p>\n<p>I used a <code>BorderLayout</code> for the <code>JPanel</code>.  I used a calculated empty border to shift the start button down from the center.</p>\n<p>I set the size of the <code>JPanel</code> in this example.  I'm assuming you'll set the size of the game panel based on the size of your image.</p>\n<p>Here's the code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class StartButtonExample implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new StartButtonExample());\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Game&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(createMainPanel(), BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    private JPanel createMainPanel() {\n        JPanel panel = new JPanel(new BorderLayout());\n        Dimension panelSize = new Dimension(400, 400);\n        panel.setPreferredSize(panelSize);\n\n        JButton button = new JButton(&quot;Start&quot;);\n        Dimension buttonSize = button.getPreferredSize();\n\n        int height = panelSize.height - buttonSize.height;\n        int width = panelSize.width - buttonSize.width;\n        int top = height * 3 / 4;\n        int left = (width - buttonSize.width) / 2;\n        int bottom = height / 4;\n        int right = left;\n        panel.setBorder(BorderFactory.createEmptyBorder(\n                top, left, bottom, right));\n\n        panel.add(button, BorderLayout.CENTER);\n\n        return panel;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7114842,"reputation":311,"user_id":5441525,"accept_rate":57,"display_name":"Georodin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598339958,"creation_date":1598339958,"answer_id":63573844,"question_id":63427308,"body_markdown":"In my amateurish opinion:\r\n\r\nI ended up using different `insets` for my small application. \r\nIt is more clean looking in my opinion. \r\n\r\n       //margin 400 top, rest 3\r\n       gbc.insets = new Insets(400,3,3,3);\r\n       gbc.gridy = 0;\r\n       getWrapperPanel().add(getBtnStart02(), gbc);\r\n        \r\n       //margin 3 at all sides for all following gui objects\r\n       gbc.insets = new Insets(3,3,3,3);\r\n       gbc.gridy = 1;\r\n       getWrapperPanel().add(getBtnLoad(), gbc);\r\n\r\nWorks like a charm.","title":"Position a JButton properly within a GridBagLayout | Java 8","body":"<p>In my amateurish opinion:</p>\n<p>I ended up using different <code>insets</code> for my small application.\nIt is more clean looking in my opinion.</p>\n<pre><code>   //margin 400 top, rest 3\n   gbc.insets = new Insets(400,3,3,3);\n   gbc.gridy = 0;\n   getWrapperPanel().add(getBtnStart02(), gbc);\n    \n   //margin 3 at all sides for all following gui objects\n   gbc.insets = new Insets(3,3,3,3);\n   gbc.gridy = 1;\n   getWrapperPanel().add(getBtnLoad(), gbc);\n</code></pre>\n<p>Works like a charm.</p>\n"}],"owner":{"account_id":7114842,"reputation":311,"user_id":5441525,"accept_rate":57,"display_name":"Georodin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63430115,"answer_count":2,"score":0,"last_activity_date":1638449354,"creation_date":1597502881,"question_id":63427308,"body_markdown":"I want to position a `JButton` &quot;Start&quot; in the lower center of my GUI.\r\nSadly the `GridBagConstraints` that I set seem to have no effect. \r\nI&#39;m working with `jdk1.8.0_191` and the `Eclipse IDE`.\r\n\r\nEDIT: I switched my snippet to a &quot;minimal reproducible example&quot;.\r\nHere the snippet of my code:\r\n\r\n    package gui.main;\r\n    \r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    \r\n    public class Test{\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tJFrame frame = new JFrame(); \r\n    \t\tframe.setSize(646, 509);\r\n    \t\tframe.setResizable(false);\r\n    \t\tframe.setTitle(&quot;Adventure Time&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\t\tJPanel panel = new JPanel();\r\n    \t\t\tpanel.setLayout(new GridBagLayout());\r\n    \t\t\tGridBagConstraints gbc = new GridBagConstraints();\r\n    \t\t\t\r\n    \t\t\tgbc.gridx = 1;\r\n    \t\t\tgbc.gridy = 5;\r\n    \t\t\t\r\n    \t\t\t\tJButton button = new JButton(&quot;Start&quot;);\t\r\n    \t\t\t\tbutton.setBackground(Color.black);\t\t\r\n    \t\t\t\tbutton.setForeground(Color.white);\t\r\n    \t\t\t\tbutton.setPreferredSize(new Dimension(110, 60));\r\n    \t\t\t\tbutton.setMinimumSize(new Dimension(110, 60));\r\n    \t\t\t\tbutton.setVisible(true);\r\n    \t\t\t\t\r\n    \t\t\tpanel.add(button, gbc);\r\n    \t\t\tpanel.setVisible(true);\r\n    \t\t\r\n    \t\tframe.add(panel);\r\n    \t\tframe.setVisible(true);\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nHere is a picture where I approximately want the &quot;Start&quot; Button instead.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nkby6.jpg","title":"Position a JButton properly within a GridBagLayout | Java 8","body":"<p>I want to position a <code>JButton</code> &quot;Start&quot; in the lower center of my GUI.\nSadly the <code>GridBagConstraints</code> that I set seem to have no effect.\nI'm working with <code>jdk1.8.0_191</code> and the <code>Eclipse IDE</code>.</p>\n<p>EDIT: I switched my snippet to a &quot;minimal reproducible example&quot;.\nHere the snippet of my code:</p>\n<pre><code>package gui.main;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Test{\n    \n    public static void main(String[] args) {\n        \n        JFrame frame = new JFrame(); \n        frame.setSize(646, 509);\n        frame.setResizable(false);\n        frame.setTitle(&quot;Adventure Time&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n            JPanel panel = new JPanel();\n            panel.setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            \n            gbc.gridx = 1;\n            gbc.gridy = 5;\n            \n                JButton button = new JButton(&quot;Start&quot;);  \n                button.setBackground(Color.black);      \n                button.setForeground(Color.white);  \n                button.setPreferredSize(new Dimension(110, 60));\n                button.setMinimumSize(new Dimension(110, 60));\n                button.setVisible(true);\n                \n            panel.add(button, gbc);\n            panel.setVisible(true);\n        \n        frame.add(panel);\n        frame.setVisible(true);\n        \n    }\n}\n</code></pre>\n<p>Here is a picture where I approximately want the &quot;Start&quot; Button instead.</p>\n<p><a href=\"https://i.stack.imgur.com/nkby6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nkby6.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","cell","layout-manager","gridbaglayout"],"comments":[{"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"score":0,"creation_date":1613447088,"post_id":66218412,"comment_id":117071481,"body_markdown":"Welcome to SO, please share what your findings are and what issues you are facing?","body":"Welcome to SO, please share what your findings are and what issues you are facing?"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613447286,"creation_date":1613447286,"answer_id":66218450,"question_id":66218412,"body_markdown":"The maximum is based on the number of components in another row. \r\n\r\nSo for example, if you have four components in the first row, each with a gridwidth of 1, then the maximum gridwidth for a component on the second row would be 4. \r\n\r\nYou can&#39;t just give a component a random gridwidth because the GridBagLayout doesn&#39;t know (by default) what the width of each column should be unless a component is added to a column.\r\n\r\nHowever if you configure GridBagLayout with minimum widths for each column then the maximum would be dependent on the number of default widths you assign. See: https://stackoverflow.com/a/59022153/131872 for an example. It allows you to define a grid size and then add components randomly within the grid.","title":"Maximum number of cells in gridwidth in GridBagConstraints Java","body":"<p>The maximum is based on the number of components in another row.</p>\n<p>So for example, if you have four components in the first row, each with a gridwidth of 1, then the maximum gridwidth for a component on the second row would be 4.</p>\n<p>You can't just give a component a random gridwidth because the GridBagLayout doesn't know (by default) what the width of each column should be unless a component is added to a column.</p>\n<p>However if you configure GridBagLayout with minimum widths for each column then the maximum would be dependent on the number of default widths you assign. See: <a href=\"https://stackoverflow.com/a/59022153/131872\">https://stackoverflow.com/a/59022153/131872</a> for an example. It allows you to define a grid size and then add components randomly within the grid.</p>\n"}],"owner":{"account_id":20706334,"reputation":1,"user_id":15204120,"display_name":"Yogeswar Srikanth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638449285,"creation_date":1613446891,"question_id":66218412,"body_markdown":"What is the maximum number of cells in gridheight and gridweight in GridBagLayout so that I can arrange my buttons as required ?","title":"Maximum number of cells in gridwidth in GridBagConstraints Java","body":"<p>What is the maximum number of cells in gridheight and gridweight in GridBagLayout so that I can arrange my buttons as required ?</p>\n"},{"tags":["java","swing","layout","layout-manager","gridbaglayout"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1602250814,"post_id":64281254,"comment_id":113669603,"body_markdown":"[Official Oracle tutorial on gridbaglayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">Official Oracle tutorial on gridbaglayout</a>"}],"answers":[{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1602250847,"creation_date":1602250847,"answer_id":64281282,"question_id":64281254,"body_markdown":"Sure, you set the `gridwidth` of the `GridBagConstraints` for the headline to 5, and 1 for the others. (It being `GridBagLayout`, the sizes of `contentN` may vary.","title":"Span multiple columns with GridBagLayout | JAVA 8","body":"<p>Sure, you set the <code>gridwidth</code> of the <code>GridBagConstraints</code> for the headline to 5, and 1 for the others. (It being <code>GridBagLayout</code>, the sizes of <code>contentN</code> may vary.</p>\n"}],"owner":{"account_id":7114842,"reputation":311,"user_id":5441525,"accept_rate":57,"display_name":"Georodin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64281282,"answer_count":1,"score":0,"last_activity_date":1638449226,"creation_date":1602250745,"question_id":64281254,"body_markdown":"Is the following feasible with a Gridbaglayout? So that my headline has a columns width of 5 and all other elements a width of 1.\r\n\r\nWanted result:\r\n\r\n    +-----------------------------------------------------------------+\r\n    |                       HEADLINE                       | content0 |\r\n    +----------+----------+----------+----------+----------+----------+\r\n    | content1 | content2 | content3 | content4 | content5 | content6 |\r\n    +----------+----------+----------+----------+----------+----------+\r\n\r\nCurrent state:\r\n\r\n    +-----------------------------------------------------------------+\r\n    |                       HEADLINE                       | content0 |\r\n    +------------------------------------------------------+----------+----------+----------+----------+----------+\r\n    | content1                                             | content2 | content3 | content4 | content5 | content6 |\r\n    +------------------------------------------------------+----------+----------+----------+----------+----------+\r\n\r\nWhen I set the gridwidth to 5 and 1: (remember to increase the gridx by 5...)\r\n\r\n    +-----------------------------------------------------------------+\r\n    |       HEA| content0 |DLINE                                      |\r\n    +----------+----------+----------+----------+----------+----------+\r\n    | content1 | content2 | content3 | content4 | content5 | content6 |\r\n    +----------+----------+----------+----------+----------+----------+","title":"Span multiple columns with GridBagLayout | JAVA 8","body":"<p>Is the following feasible with a Gridbaglayout? So that my headline has a columns width of 5 and all other elements a width of 1.</p>\n<p>Wanted result:</p>\n<pre><code>+-----------------------------------------------------------------+\n|                       HEADLINE                       | content0 |\n+----------+----------+----------+----------+----------+----------+\n| content1 | content2 | content3 | content4 | content5 | content6 |\n+----------+----------+----------+----------+----------+----------+\n</code></pre>\n<p>Current state:</p>\n<pre><code>+-----------------------------------------------------------------+\n|                       HEADLINE                       | content0 |\n+------------------------------------------------------+----------+----------+----------+----------+----------+\n| content1                                             | content2 | content3 | content4 | content5 | content6 |\n+------------------------------------------------------+----------+----------+----------+----------+----------+\n</code></pre>\n<p>When I set the gridwidth to 5 and 1: (remember to increase the gridx by 5...)</p>\n<pre><code>+-----------------------------------------------------------------+\n|       HEA| content0 |DLINE                                      |\n+----------+----------+----------+----------+----------+----------+\n| content1 | content2 | content3 | content4 | content5 | content6 |\n+----------+----------+----------+----------+----------+----------+\n</code></pre>\n"},{"tags":["java","swing","user-interface","layout-manager","gridbaglayout"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1614843707,"post_id":66470486,"comment_id":117509754,"body_markdown":"Please show the source code generated by WindowBuilder.","body":"Please show the source code generated by WindowBuilder."},{"owner":{"account_id":11999259,"reputation":15,"user_id":8779738,"display_name":"Sisqo Baker"},"score":0,"creation_date":1614844782,"post_id":66470486,"comment_id":117510183,"body_markdown":"Hey, it has been added @howlger","body":"Hey, it has been added @howlger"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1614852915,"post_id":66470486,"comment_id":117513970,"body_markdown":"That&#39;s the code of the `panelTop` only. But to me it looks more like `panelTop` in `contentPane` not filling the whole space horizontally and vertically. Set a background color to `panelTop` to see whether I am guessing right or wrong.","body":"That&#39;s the code of the <code>panelTop</code> only. But to me it looks more like <code>panelTop</code> in <code>contentPane</code> not filling the whole space horizontally and vertically. Set a background color to <code>panelTop</code> to see whether I am guessing right or wrong."},{"owner":{"account_id":11999259,"reputation":15,"user_id":8779738,"display_name":"Sisqo Baker"},"score":0,"creation_date":1614871933,"post_id":66470486,"comment_id":117523190,"body_markdown":"I already tried that. It does take up the whole pane. I just changed from using gridbaglayout to miglayout. That seems to work for me.","body":"I already tried that. It does take up the whole pane. I just changed from using gridbaglayout to miglayout. That seems to work for me."}],"owner":{"account_id":11999259,"reputation":15,"user_id":8779738,"display_name":"Sisqo Baker"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638449181,"creation_date":1614843436,"question_id":66470486,"body_markdown":"I am using the WindowBuilder in Eclipse to design a GUI. The panel with username and password has a gridbaglayout. This is how I have the set up of the components in the design section of the WindowBuilder:\r\n\r\n[![See image of GUI in the window builder][1]][1]\r\n\r\n\r\nBut this is how it shows when I actually run and compile the code:\r\n\r\n[![See image when compiled here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HJDmg.png\r\n  [2]: https://i.stack.imgur.com/FKwIK.png\r\n\r\nCode generated:\r\n\r\n```\r\nJPanel panelTop = new JPanel();\r\n\t\tpanelTop.setBounds(10, 11, 414, 170);\r\n\t\tcontentPane.add(panelTop);\r\n\t\tGridBagLayout gbl_panelTop = new GridBagLayout();\r\n\t\tgbl_panelTop.columnWidths = new int[]{0, 0, 0, 0, 0, 25, 0};\r\n\t\tgbl_panelTop.rowHeights = new int[]{0, 0, 0, 0, 0, 0};\r\n\t\tgbl_panelTop.columnWeights = new double[]{0.0, 0.0, 0.0, 0.0, 1.0, 1.0, Double.MIN_VALUE};\r\n\t\tgbl_panelTop.rowWeights = new double[]{0.0, 0.0, 0.0, 0.0, 0.0, Double.MIN_VALUE};\r\n\t\tpanelTop.setLayout(gbl_panelTop);\r\n\t\t\r\n\t\tJLabel lblUsername = new JLabel(&quot;Username:&quot;);\r\n\t\tGridBagConstraints gbc_lblUsername = new GridBagConstraints();\r\n\t\tgbc_lblUsername.insets = new Insets(0, 0, 5, 5);\r\n\t\tgbc_lblUsername.gridx = 2;\r\n\t\tgbc_lblUsername.gridy = 2;\r\n\t\tpanelTop.add(lblUsername, gbc_lblUsername);\r\n\t\t\r\n\t\ttxtUsername = new JTextField();\r\n\t\tGridBagConstraints gbc_txtUsername = new GridBagConstraints();\r\n\t\tgbc_txtUsername.insets = new Insets(0, 0, 5, 5);\r\n\t\tgbc_txtUsername.fill = GridBagConstraints.HORIZONTAL;\r\n\t\tgbc_txtUsername.gridx = 4;\r\n\t\tgbc_txtUsername.gridy = 2;\r\n\t\tpanelTop.add(txtUsername, gbc_txtUsername);\r\n\t\ttxtUsername.setColumns(10);\r\n\t\t\r\n\t\tJLabel lblPassword = new JLabel(&quot;Password:&quot;);\r\n\t\tGridBagConstraints gbc_lblPassword = new GridBagConstraints();\r\n\t\tgbc_lblPassword.insets = new Insets(0, 0, 0, 5);\r\n\t\tgbc_lblPassword.gridx = 2;\r\n\t\tgbc_lblPassword.gridy = 4;\r\n\t\tpanelTop.add(lblPassword, gbc_lblPassword);\r\n\t\t\r\n\t\tpwdPassword = new JPasswordField();\r\n\t\tGridBagConstraints gbc_pwdPassword = new GridBagConstraints();\r\n\t\tgbc_pwdPassword.insets = new Insets(0, 0, 0, 5);\r\n\t\tgbc_pwdPassword.fill = GridBagConstraints.HORIZONTAL;\r\n\t\tgbc_pwdPassword.gridx = 4;\r\n\t\tgbc_pwdPassword.gridy = 4;\r\n\t\tpanelTop.add(pwdPassword, gbc_pwdPassword);\r\n```\r\n\r\nCan anyone provide me any idea on how to fix this issue?","title":"Java GridBagLayout Defaults Top Left on Compilation","body":"<p>I am using the WindowBuilder in Eclipse to design a GUI. The panel with username and password has a gridbaglayout. This is how I have the set up of the components in the design section of the WindowBuilder:</p>\n<p><a href=\"https://i.stack.imgur.com/HJDmg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HJDmg.png\" alt=\"See image of GUI in the window builder\" /></a></p>\n<p>But this is how it shows when I actually run and compile the code:</p>\n<p><a href=\"https://i.stack.imgur.com/FKwIK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FKwIK.png\" alt=\"See image when compiled here\" /></a></p>\n<p>Code generated:</p>\n<pre><code>JPanel panelTop = new JPanel();\n        panelTop.setBounds(10, 11, 414, 170);\n        contentPane.add(panelTop);\n        GridBagLayout gbl_panelTop = new GridBagLayout();\n        gbl_panelTop.columnWidths = new int[]{0, 0, 0, 0, 0, 25, 0};\n        gbl_panelTop.rowHeights = new int[]{0, 0, 0, 0, 0, 0};\n        gbl_panelTop.columnWeights = new double[]{0.0, 0.0, 0.0, 0.0, 1.0, 1.0, Double.MIN_VALUE};\n        gbl_panelTop.rowWeights = new double[]{0.0, 0.0, 0.0, 0.0, 0.0, Double.MIN_VALUE};\n        panelTop.setLayout(gbl_panelTop);\n        \n        JLabel lblUsername = new JLabel(&quot;Username:&quot;);\n        GridBagConstraints gbc_lblUsername = new GridBagConstraints();\n        gbc_lblUsername.insets = new Insets(0, 0, 5, 5);\n        gbc_lblUsername.gridx = 2;\n        gbc_lblUsername.gridy = 2;\n        panelTop.add(lblUsername, gbc_lblUsername);\n        \n        txtUsername = new JTextField();\n        GridBagConstraints gbc_txtUsername = new GridBagConstraints();\n        gbc_txtUsername.insets = new Insets(0, 0, 5, 5);\n        gbc_txtUsername.fill = GridBagConstraints.HORIZONTAL;\n        gbc_txtUsername.gridx = 4;\n        gbc_txtUsername.gridy = 2;\n        panelTop.add(txtUsername, gbc_txtUsername);\n        txtUsername.setColumns(10);\n        \n        JLabel lblPassword = new JLabel(&quot;Password:&quot;);\n        GridBagConstraints gbc_lblPassword = new GridBagConstraints();\n        gbc_lblPassword.insets = new Insets(0, 0, 0, 5);\n        gbc_lblPassword.gridx = 2;\n        gbc_lblPassword.gridy = 4;\n        panelTop.add(lblPassword, gbc_lblPassword);\n        \n        pwdPassword = new JPasswordField();\n        GridBagConstraints gbc_pwdPassword = new GridBagConstraints();\n        gbc_pwdPassword.insets = new Insets(0, 0, 0, 5);\n        gbc_pwdPassword.fill = GridBagConstraints.HORIZONTAL;\n        gbc_pwdPassword.gridx = 4;\n        gbc_pwdPassword.gridy = 4;\n        panelTop.add(pwdPassword, gbc_pwdPassword);\n</code></pre>\n<p>Can anyone provide me any idea on how to fix this issue?</p>\n"},{"tags":["java","classloader","java-security"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638449097,"creation_date":1638448542,"answer_id":70199578,"question_id":70164322,"body_markdown":"Security policies are associated with code locations. Since a `ClassLoader` can specify the code location for the classes it defines, it could dodge restrictions applying to its own code location.\r\n\r\nWhen you use [`MethodHandles.lookup().defineClass(…)`] you can only create classes within your own context, hence, not use it to expand your privileges. Therefore, you can use it even when a security manager is installed, as long as your lookup object has the necessary [full privileges].\r\n\r\nSo, when I run the example of [this answer] under JDK&#160;14 or newer with the  \r\n`-Djava.security.manager` option, it runs smoothly without requiring any permissions.\r\n\r\nSo when the mentioned online execution environments run under JDK&#160;14 or newer, you can use this method for dynamic code generation.\r\n\r\n[`MethodHandles.lookup().defineClass(…)`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineClass(byte%5B%5D)\r\n[full privileges]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#hasFullPrivilegeAccess()\r\n[this answer]: https://stackoverflow.com/a/52719236/2711488","title":"Why does OnlineJudge, such as codeforces and leetcode, not allow java submit to self built classloader?","body":"<p>Security policies are associated with code locations. Since a <code>ClassLoader</code> can specify the code location for the classes it defines, it could dodge restrictions applying to its own code location.</p>\n<p>When you use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineClass(byte%5B%5D)\" rel=\"nofollow noreferrer\"><code>MethodHandles.lookup().defineClass(…)</code></a> you can only create classes within your own context, hence, not use it to expand your privileges. Therefore, you can use it even when a security manager is installed, as long as your lookup object has the necessary <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#hasFullPrivilegeAccess()\" rel=\"nofollow noreferrer\">full privileges</a>.</p>\n<p>So, when I run the example of <a href=\"https://stackoverflow.com/a/52719236/2711488\">this answer</a> under JDK 14 or newer with the<br />\n<code>-Djava.security.manager</code> option, it runs smoothly without requiring any permissions.</p>\n<p>So when the mentioned online execution environments run under JDK 14 or newer, you can use this method for dynamic code generation.</p>\n"}],"owner":{"account_id":23498305,"reputation":5,"user_id":17548469,"display_name":"Shallow Frank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70199578,"answer_count":1,"score":0,"last_activity_date":1638449097,"creation_date":1638246569,"question_id":70164322,"body_markdown":"For example, when \r\n```\r\nnew classloader() {};\r\n```\r\n**Java.security.accesscontrolexception** will be thrown. Is there any risk that OJ allows submitters to build their own classloader? Is there any alternative for function defineclass()?","title":"Why does OnlineJudge, such as codeforces and leetcode, not allow java submit to self built classloader?","body":"<p>For example, when</p>\n<pre><code>new classloader() {};\n</code></pre>\n<p><strong>Java.security.accesscontrolexception</strong> will be thrown. Is there any risk that OJ allows submitters to build their own classloader? Is there any alternative for function defineclass()?</p>\n"},{"tags":["java","hashmap","hashcode"],"comments":[{"owner":{"account_id":3051575,"reputation":940,"user_id":3462060,"display_name":"Jared"},"score":0,"creation_date":1608801682,"post_id":65436217,"comment_id":115688422,"body_markdown":"@dreamcrash I expect that if I have a key object, o1, to give me a value v1, then I expect that if I _then_ modify that _same_ object, o1, such that that modified object should return value 2, v2, that my HashMap does indeed return the v2, given the modified o1.","body":"@dreamcrash I expect that if I have a key object, o1, to give me a value v1, then I expect that if I <i>then</i> modify that <i>same</i> object, o1, such that that modified object should return value 2, v2, that my HashMap does indeed return the v2, given the modified o1."},{"owner":{"account_id":3051575,"reputation":940,"user_id":3462060,"display_name":"Jared"},"score":0,"creation_date":1608802286,"post_id":65436217,"comment_id":115688585,"body_markdown":"I would further add, that I expect if I have two keys: k1 and k2 (such the k1 != k2 via equals method) that even if k1 and k2 have the same hashCode, that they will be seen as different keys via the HashMap.","body":"I would further add, that I expect if I have two keys: k1 and k2 (such the k1 != k2 via equals method) that even if k1 and k2 have the same hashCode, that they will be seen as different keys via the HashMap."},{"owner":{"account_id":1449510,"reputation":48172,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"score":0,"creation_date":1608803314,"post_id":65436217,"comment_id":115688890,"body_markdown":"Yes, and if I understand correctly you should not have issues with that. For instance https://www.codepile.net/pile/APQ0AXx7 works fine","body":"Yes, and if I understand correctly you should not have issues with that. For instance <a href=\"https://www.codepile.net/pile/APQ0AXx7\" rel=\"nofollow noreferrer\">codepile.net/pile/APQ0AXx7</a> works fine"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1608805031,"post_id":65436217,"comment_id":115689392,"body_markdown":"&quot;*I don&#39;t see why the 2nd should be a problem*&quot;.  You are looking at the wrong contract: [&quot;behavior of a map is not specified if the value of an object is changed in a manner that affects equals comparisons while the object is a key in the map&quot;](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html)","body":"&quot;<i>I don&#39;t see why the 2nd should be a problem</i>&quot;.  You are looking at the wrong contract: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">&quot;behavior of a map is not specified if the value of an object is changed in a manner that affects equals comparisons while the object is a key in the map&quot;</a>"},{"owner":{"account_id":3051575,"reputation":940,"user_id":3462060,"display_name":"Jared"},"score":0,"creation_date":1608805922,"post_id":65436217,"comment_id":115689651,"body_markdown":"@Michael Ah! Thank you--that answers my question! Weird that I was able to even solve the problem, lol. I thought about making things immutable but really did not want to...I guess I should have...stilly not sure if that&#39;s a fault of mine or of Java 8&#39;s...","body":"@Michael Ah! Thank you--that answers my question! Weird that I was able to even solve the problem, lol. I thought about making things immutable but really did not want to...I guess I should have...stilly not sure if that&#39;s a fault of mine or of Java 8&#39;s..."},{"owner":{"account_id":3051575,"reputation":940,"user_id":3462060,"display_name":"Jared"},"score":0,"creation_date":1608806497,"post_id":65436217,"comment_id":115689857,"body_markdown":"@Michael I would point out that I also tried this by _explicitly_ defining all of the maps as [HashMaps](https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html) and that also didn&#39;t work (don&#39;t know why that would make a difference and it didn&#39;t).","body":"@Michael I would point out that I also tried this by <i>explicitly</i> defining all of the maps as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"nofollow noreferrer\">HashMaps</a> and that also didn&#39;t work (don&#39;t know why that would make a difference and it didn&#39;t)."},{"owner":{"account_id":3051575,"reputation":940,"user_id":3462060,"display_name":"Jared"},"score":0,"creation_date":1608806705,"post_id":65436217,"comment_id":115689925,"body_markdown":"@Michael Am I the only one that thinks it&#39;s weird to create a hash table that doesn&#39;t rely on the key&#39;s actual hash value??? I mean seriously, I&#39;m sitting here thinking that Java 8&#39;s hash functionality relies on the hashCode....but it seems like it doesn&#39;t.","body":"@Michael Am I the only one that thinks it&#39;s weird to create a hash table that doesn&#39;t rely on the key&#39;s actual hash value??? I mean seriously, I&#39;m sitting here thinking that Java 8&#39;s hash functionality relies on the hashCode....but it seems like it doesn&#39;t."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1608807611,"post_id":65436217,"comment_id":115690196,"body_markdown":"@Jared It does rely on the hash value. The problem for you is that the hash value is computed at the time of insertion, to determine what bucket to put the item into. If the item&#39;s hash changes, it&#39;s potentially (and very likely) going to exist in the wrong bucket when you check whether the key is present - it will check the wrong bucket, and so may return false negatives (i.e. item is present in the map, but the map purports that it isn&#39;t). The map has no way to know when a mutable object changes, so it has no way to know to rehash it.","body":"@Jared It does rely on the hash value. The problem for you is that the hash value is computed at the time of insertion, to determine what bucket to put the item into. If the item&#39;s hash changes, it&#39;s potentially (and very likely) going to exist in the wrong bucket when you check whether the key is present - it will check the wrong bucket, and so may return false negatives (i.e. item is present in the map, but the map purports that it isn&#39;t). The map has no way to know when a mutable object changes, so it has no way to know to rehash it."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1608807633,"post_id":65436217,"comment_id":115690201,"body_markdown":"@Jared You can see my answer on this question for a high-level explanation of how HashMap works: https://stackoverflow.com/a/43911638/1898563","body":"@Jared You can see my answer on this question for a high-level explanation of how HashMap works: <a href=\"https://stackoverflow.com/a/43911638/1898563\">stackoverflow.com/a/43911638/1898563</a>"},{"owner":{"account_id":3051575,"reputation":940,"user_id":3462060,"display_name":"Jared"},"score":0,"creation_date":1608811714,"post_id":65436217,"comment_id":115691584,"body_markdown":"@Michael but the key never changes (in any way--that&#39;s what you say as the &quot;item&quot;), Example: `coord.moveE()`, so `coord` has changed its value now and therefore key (and value) has changed--it gets a different `HexTile`. Now after that I call `coord.moveW()` which &quot;undo&#39;s&quot; the &quot;move east&quot;, now the get of _that_ coord should be the original (root).","body":"@Michael but the key never changes (in any way--that&#39;s what you say as the &quot;item&quot;), Example: <code>coord.moveE()</code>, so <code>coord</code> has changed its value now and therefore key (and value) has changed--it gets a different <code>HexTile</code>. Now after that I call <code>coord.moveW()</code> which &quot;undo&#39;s&quot; the &quot;move east&quot;, now the get of <i>that</i> coord should be the original (root)."},{"owner":{"account_id":3051575,"reputation":940,"user_id":3462060,"display_name":"Jared"},"score":0,"creation_date":1608840773,"post_id":65436217,"comment_id":115700094,"body_markdown":"@Michael Thanks for responding. I realize now the problem is with the equality check (because HashMap cannot faithfully check for equality if it doesn&#39;t &quot;remember&quot; the value of the initial key that was mapped). So basically the answer to my question (which seems kind of obvious--even from the start) is that my &quot;fix&quot; _was_ indeed pure luck and I just so happened to create a hash function that generated unique hash values for the given input.","body":"@Michael Thanks for responding. I realize now the problem is with the equality check (because HashMap cannot faithfully check for equality if it doesn&#39;t &quot;remember&quot; the value of the initial key that was mapped). So basically the answer to my question (which seems kind of obvious--even from the start) is that my &quot;fix&quot; <i>was</i> indeed pure luck and I just so happened to create a hash function that generated unique hash values for the given input."}],"owner":{"account_id":3051575,"reputation":940,"user_id":3462060,"display_name":"Jared"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1608805280,"answer_count":0,"score":0,"last_activity_date":1638449071,"creation_date":1608801084,"question_id":65436217,"body_markdown":"So I&#39;m solving [Day 24 of Advent of Code](https://adventofcode.com/2020/day/24) and I run into a strange problem with Java and/or Eclipse (most likely Eclipse). My algorithm is correct but it doesn&#39;t return the correct result (I know this because I&#39;ve, since, submitted a correct solution). It appears that my HashMap isn&#39;t working properly--I know this is a problem with [hashCode()](https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode--) (because I&#39;ve since, quite accidentally, fixed it).\r\n\r\nHere is the original (eclipse generated) hashCode() method:\r\n\r\n```\r\n@Override\r\n\tpublic int hashCode() {\r\n\t\tfinal int prime = 31;\r\n\t\tint result = 1;\r\n\t\tresult = prime * result + (evenRow ? 1231 : 1237);\r\n\t\tresult = prime * result + x;\r\n\t\tresult = prime * result + y;\r\n\t\treturn result;\r\n\t}\r\n```\r\n\r\nSo here is my thought: `x` and `y` need to be &quot;bigger&quot;  so I try `long`&#39;s. I do this and get wildly different (incorrect) results (with an updated, generated by eclipse, hashCode() method). I do a bunch of other stuff, including changing the values to [BigInteger](https://docs.oracle.com/javase/8/docs/api/java/math/BigInteger.html)...none of which  makes sense because there&#39;s no way I should need that much precision (for this particular problem). Having said that, the BigInteger implementation gives the same result as the `int` implementation.\r\n\r\nFurther confusion arises when I try to manually create a hashCode() method, like so:\r\n\r\n```\r\npublic int hashCode(){\r\n    return x + y;\r\n}\r\n```\r\n\r\nNot great but it should (theoretically) work, right? If the two objects are equal, then `x + y` should be equal then it will check the [equals(...)](https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-) method for equality (which I&#39;m virtually certain is correctly implemented via eclipse). This returns yet even _different_ results.\r\n\r\n**Changing the hashCode() method changes the results I get.** There are two reasons I can think of for getting these disparate effects:\r\n\r\n 1. hashCode() is clearly returning collisions--I don&#39;t see why this would be a problem as long as hashCode() is consistent with equals(...) which I think eclipse&#39;s implementation satisfies.\r\n 2. I&#39;m using a mutable object as a key (I suspect this is the culprit). So instead of creating multiple new object keys, I have a single object that I change as needed for lookup.\r\n\r\nI don&#39;t see why the 2nd should be a problem because the contract of `hashCode()` is:\r\n\r\n&gt; Whenever it is invoked on the same object more than once during an execution of a Java application, the hashCode method must consistently return the same integer, provided no information used in equals comparisons on the object is modified. This integer need not remain consistent from one execution of an application to another execution of the same application.\r\n&gt;\r\n\r\nBut ``provided no information used in equals comparisons on the object is modified.``? If I change any field member, it _has_ been modified so should _not_ be expected to return the same result!\r\n\r\nSo what I don&#39;t understand: is why is the hashCode() method interfering with the proper function of a [HashMap](https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html). I mean don&#39;t get me wrong--if the two hashCodes for the _same_ object aren&#39;t equal, that&#39;s going to be a problem, but I don&#39;t understand why two _same_ hashCode for _differing_ objects (via `equals(...)`) should create a problem.\r\n\r\nIf it helps, this is the `equals(...)` method generated by eclipse:\r\n\r\n```\r\npublic boolean equals(Object obj) {\r\n\t\tif (this == obj)\r\n\t\t\treturn true;\r\n\t\tif (obj == null)\r\n\t\t\treturn false;\r\n\t\tif (getClass() != obj.getClass())\r\n\t\t\treturn false;\r\n\t\tHexCoord other = (HexCoord) obj;\r\n\t\tif (evenRow != other.evenRow)\r\n\t\t\treturn false;\r\n\t\tif (x != other.x)\r\n\t\t\treturn false;\r\n\t\tif (y != other.y)\r\n\t\t\treturn false;\r\n\t\treturn true;\r\n\t}\r\n```\r\n\r\n**Edit**: For what it&#39;s worth, changing the hashCode() function to this (which I did quite randomly) &quot;solves&quot; the problem:\r\n\r\n```\r\npublic int hashCode() {\r\n\t\tfinal int prime = 341; // &lt;-- changed 31 to 341\r\n\t\tint result = 1;\r\n\t\tresult = prime * result + (evenRow ? 1231 : 1237);\r\n\t\tresult = prime * result + x;\r\n\t\tresult = prime * result + y;\r\n\t\treturn result;\r\n}\r\n```\r\n\r\n**Further Edit: added code example:** (I really think this is going to introduce un-useful questions...I&#39;ve questioned whether or not my methods here are correct--and they appear to be so because I&#39;ve gotten a correct result--it&#39;s the HashMap getting and putting of objects that seems to be the problem)\r\n\r\nSome Explanation:\r\n\r\nHere is `coord.set` (so it doesn&#39;t just copy the actual object--it recreates it):\r\n\r\n```\r\npublic void set(final HexCoord coord) {\r\n\t\tthis.x = coord.x; // &lt;-- these are int&#39;s\r\n\t\tthis.y = coord.y;\r\n\t\tthis.evenRow = coord.evenRow;// &lt;-- this is a boolean\r\n\t}\r\n```\r\n\r\nHere is the `getHexTile(...)` method:\r\n```\r\nprivate static HexTile getHexTile(Map&lt;HexCoord, HexTile&gt; tiles,\r\n\t\t\tHexCoord coord) {\r\n\t\tHexTile tile = tiles.get(coord);\r\n\t\tif (tile == null) {\r\n\t\t\ttile = new HexTile(coord);\r\n\t\t\ttiles.put(coord, tile);\r\n\t\t}\r\n\r\n\t\treturn tile;\r\n\t}\r\n```\r\n\r\nwith `new HexTile(coord)`:\r\n\r\n```\r\n\tpublic HexTile(final HexCoord coord) {\r\n\t\tthis.coord = coord.copy();\r\n\t}\r\n```\r\n\r\nand `copy`:\r\n\r\n```\r\n\tpublic HexCoord copy() {\r\n\t\tfinal HexCoord copy = new HexCoord();\r\n\t\tcopy.set(this); // &lt;-- rights the values to the new copy\r\n\r\n\t\treturn copy;\r\n\t}\r\n```\r\n```for (int i = 0; i &lt; 100; ++i) {\r\n\t\t\t// set black count\r\n\t\t\ttiles.values().stream()\r\n\t\t\t\t\t.filter(tile -&gt; tile.getColor() == HexTile.Color.black)\r\n\t\t\t\t\t.collect(Collectors.toList()).stream().forEach(tile -&gt; {\r\n\t\t\t\t\t\tcoord.set(tile.coord);\r\n\r\n\t\t\t\t\t\tcoord.moveE();\r\n\t\t\t\t\t\tHexTile neighbor = getHexTile(tiles, coord);\r\n\t\t\t\t\t\tneighbor.addBlackNeighbor();\r\n\t\t\t\t\t\tcoord.moveW();\r\n\r\n\t\t\t\t\t\tcoord.moveW();\r\n\t\t\t\t\t\tneighbor = getHexTile(tiles, coord);\r\n\t\t\t\t\t\tneighbor.addBlackNeighbor();\r\n\t\t\t\t\t\tcoord.moveE();\r\n\r\n\t\t\t\t\t\tcoord.moveNE();\r\n\t\t\t\t\t\tneighbor = getHexTile(tiles, coord);\r\n\t\t\t\t\t\tneighbor.addBlackNeighbor();\r\n\t\t\t\t\t\tcoord.moveSW();\r\n\r\n\t\t\t\t\t\tcoord.moveSW();\r\n\t\t\t\t\t\tneighbor = getHexTile(tiles, coord);\r\n\t\t\t\t\t\tneighbor.addBlackNeighbor();\r\n\t\t\t\t\t\tcoord.moveNE();\r\n\r\n\t\t\t\t\t\tcoord.moveNW();\r\n\t\t\t\t\t\tneighbor = getHexTile(tiles, coord);\r\n\t\t\t\t\t\tneighbor.addBlackNeighbor();\r\n\t\t\t\t\t\tcoord.moveSE();\r\n\r\n\t\t\t\t\t\tcoord.moveSE();\r\n\t\t\t\t\t\tneighbor = getHexTile(tiles, coord);\r\n\t\t\t\t\t\tneighbor.addBlackNeighbor();\r\n\t\t\t\t\t});\r\n\r\n\t\t\ttiles.values().parallelStream().forEach(tile -&gt; {\r\n\t\t\t\tfinal int blackCount = tile.getBlackCount();\r\n\t\t\t\tif (tile.getColor() == HexTile.Color.black) {\r\n\t\t\t\t\tif (blackCount == 0 || blackCount &gt; 2) {\r\n\t\t\t\t\t\ttile.flip();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (blackCount == 2) {\r\n\t\t\t\t\ttile.flip();\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttile.resetCount();\r\n\t\t\t});\r\n```\r\n\r\n**Resolution:** For anyone still interested the fix was simple: I was already cloning the `HexCoord` object when I created the `HexTile`. The &quot;key&quot; (get it, key...as in key-value pair), was making sure that the `Map` held distinct keys by making sure that the map&#39;s keys came from the newly created `HexTile`:\r\n\r\n```\r\nprivate static HexTile getHexTile(Map&lt;HexCoord, HexTile&gt; tiles,\r\n\t\t\tHexCoord coord) {\r\n\t\tHexTile tile = tiles.get(coord);\r\n\t\tif (tile == null) {\r\n\t\t\ttile = new HexTile(coord);\r\n\t\t\ttiles.put(tile.coord, tile);\r\n\t\t}\r\n\r\n\t\treturn tile;\r\n\t}\r\n```","title":"Question regarding Java 8 HashMap in Regards to Improper hashCode Implementation and Mutable Keys","body":"<p>So I'm solving <a href=\"https://adventofcode.com/2020/day/24\" rel=\"nofollow noreferrer\">Day 24 of Advent of Code</a> and I run into a strange problem with Java and/or Eclipse (most likely Eclipse). My algorithm is correct but it doesn't return the correct result (I know this because I've, since, submitted a correct solution). It appears that my HashMap isn't working properly--I know this is a problem with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode--\" rel=\"nofollow noreferrer\">hashCode()</a> (because I've since, quite accidentally, fixed it).</p>\n<p>Here is the original (eclipse generated) hashCode() method:</p>\n<pre><code>@Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + (evenRow ? 1231 : 1237);\n        result = prime * result + x;\n        result = prime * result + y;\n        return result;\n    }\n</code></pre>\n<p>So here is my thought: <code>x</code> and <code>y</code> need to be &quot;bigger&quot;  so I try <code>long</code>'s. I do this and get wildly different (incorrect) results (with an updated, generated by eclipse, hashCode() method). I do a bunch of other stuff, including changing the values to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">BigInteger</a>...none of which  makes sense because there's no way I should need that much precision (for this particular problem). Having said that, the BigInteger implementation gives the same result as the <code>int</code> implementation.</p>\n<p>Further confusion arises when I try to manually create a hashCode() method, like so:</p>\n<pre><code>public int hashCode(){\n    return x + y;\n}\n</code></pre>\n<p>Not great but it should (theoretically) work, right? If the two objects are equal, then <code>x + y</code> should be equal then it will check the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-\" rel=\"nofollow noreferrer\">equals(...)</a> method for equality (which I'm virtually certain is correctly implemented via eclipse). This returns yet even <em>different</em> results.</p>\n<p><strong>Changing the hashCode() method changes the results I get.</strong> There are two reasons I can think of for getting these disparate effects:</p>\n<ol>\n<li>hashCode() is clearly returning collisions--I don't see why this would be a problem as long as hashCode() is consistent with equals(...) which I think eclipse's implementation satisfies.</li>\n<li>I'm using a mutable object as a key (I suspect this is the culprit). So instead of creating multiple new object keys, I have a single object that I change as needed for lookup.</li>\n</ol>\n<p>I don't see why the 2nd should be a problem because the contract of <code>hashCode()</code> is:</p>\n<blockquote>\n<p>Whenever it is invoked on the same object more than once during an execution of a Java application, the hashCode method must consistently return the same integer, provided no information used in equals comparisons on the object is modified. This integer need not remain consistent from one execution of an application to another execution of the same application.</p>\n</blockquote>\n<p>But <code>provided no information used in equals comparisons on the object is modified.</code>? If I change any field member, it <em>has</em> been modified so should <em>not</em> be expected to return the same result!</p>\n<p>So what I don't understand: is why is the hashCode() method interfering with the proper function of a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"nofollow noreferrer\">HashMap</a>. I mean don't get me wrong--if the two hashCodes for the <em>same</em> object aren't equal, that's going to be a problem, but I don't understand why two <em>same</em> hashCode for <em>differing</em> objects (via <code>equals(...)</code>) should create a problem.</p>\n<p>If it helps, this is the <code>equals(...)</code> method generated by eclipse:</p>\n<pre><code>public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        HexCoord other = (HexCoord) obj;\n        if (evenRow != other.evenRow)\n            return false;\n        if (x != other.x)\n            return false;\n        if (y != other.y)\n            return false;\n        return true;\n    }\n</code></pre>\n<p><strong>Edit</strong>: For what it's worth, changing the hashCode() function to this (which I did quite randomly) &quot;solves&quot; the problem:</p>\n<pre><code>public int hashCode() {\n        final int prime = 341; // &lt;-- changed 31 to 341\n        int result = 1;\n        result = prime * result + (evenRow ? 1231 : 1237);\n        result = prime * result + x;\n        result = prime * result + y;\n        return result;\n}\n</code></pre>\n<p><strong>Further Edit: added code example:</strong> (I really think this is going to introduce un-useful questions...I've questioned whether or not my methods here are correct--and they appear to be so because I've gotten a correct result--it's the HashMap getting and putting of objects that seems to be the problem)</p>\n<p>Some Explanation:</p>\n<p>Here is <code>coord.set</code> (so it doesn't just copy the actual object--it recreates it):</p>\n<pre><code>public void set(final HexCoord coord) {\n        this.x = coord.x; // &lt;-- these are int's\n        this.y = coord.y;\n        this.evenRow = coord.evenRow;// &lt;-- this is a boolean\n    }\n</code></pre>\n<p>Here is the <code>getHexTile(...)</code> method:</p>\n<pre><code>private static HexTile getHexTile(Map&lt;HexCoord, HexTile&gt; tiles,\n            HexCoord coord) {\n        HexTile tile = tiles.get(coord);\n        if (tile == null) {\n            tile = new HexTile(coord);\n            tiles.put(coord, tile);\n        }\n\n        return tile;\n    }\n</code></pre>\n<p>with <code>new HexTile(coord)</code>:</p>\n<pre><code>    public HexTile(final HexCoord coord) {\n        this.coord = coord.copy();\n    }\n</code></pre>\n<p>and <code>copy</code>:</p>\n<pre><code>    public HexCoord copy() {\n        final HexCoord copy = new HexCoord();\n        copy.set(this); // &lt;-- rights the values to the new copy\n\n        return copy;\n    }\n</code></pre>\n<pre><code>            // set black count\n            tiles.values().stream()\n                    .filter(tile -&gt; tile.getColor() == HexTile.Color.black)\n                    .collect(Collectors.toList()).stream().forEach(tile -&gt; {\n                        coord.set(tile.coord);\n\n                        coord.moveE();\n                        HexTile neighbor = getHexTile(tiles, coord);\n                        neighbor.addBlackNeighbor();\n                        coord.moveW();\n\n                        coord.moveW();\n                        neighbor = getHexTile(tiles, coord);\n                        neighbor.addBlackNeighbor();\n                        coord.moveE();\n\n                        coord.moveNE();\n                        neighbor = getHexTile(tiles, coord);\n                        neighbor.addBlackNeighbor();\n                        coord.moveSW();\n\n                        coord.moveSW();\n                        neighbor = getHexTile(tiles, coord);\n                        neighbor.addBlackNeighbor();\n                        coord.moveNE();\n\n                        coord.moveNW();\n                        neighbor = getHexTile(tiles, coord);\n                        neighbor.addBlackNeighbor();\n                        coord.moveSE();\n\n                        coord.moveSE();\n                        neighbor = getHexTile(tiles, coord);\n                        neighbor.addBlackNeighbor();\n                    });\n\n            tiles.values().parallelStream().forEach(tile -&gt; {\n                final int blackCount = tile.getBlackCount();\n                if (tile.getColor() == HexTile.Color.black) {\n                    if (blackCount == 0 || blackCount &gt; 2) {\n                        tile.flip();\n                    }\n                } else if (blackCount == 2) {\n                    tile.flip();\n                }\n\n                tile.resetCount();\n            });\n</code></pre>\n<p><strong>Resolution:</strong> For anyone still interested the fix was simple: I was already cloning the <code>HexCoord</code> object when I created the <code>HexTile</code>. The &quot;key&quot; (get it, key...as in key-value pair), was making sure that the <code>Map</code> held distinct keys by making sure that the map's keys came from the newly created <code>HexTile</code>:</p>\n<pre><code>private static HexTile getHexTile(Map&lt;HexCoord, HexTile&gt; tiles,\n            HexCoord coord) {\n        HexTile tile = tiles.get(coord);\n        if (tile == null) {\n            tile = new HexTile(coord);\n            tiles.put(tile.coord, tile);\n        }\n\n        return tile;\n    }\n</code></pre>\n"},{"tags":["java","arrays","for-loop","multidimensional-array","char"],"answers":[{"tags":[],"owner":{"display_name":"user14909267"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1609275402,"creation_date":1609275402,"answer_id":65498675,"question_id":65487972,"body_markdown":"TWO-DIMENSIONAL ARRAYS were introduced in Subsection 3.8.5, but we haven&#39;t done much with them since then. A 2D array has a type such as int[][] or String[][], with two pairs of square brackets. The elements of a 2D array are arranged in rows and columns, and the new operator for 2D arrays specifies both the number of rows and the number of columns. For example,\r\n\r\n    int[][] A;\r\n    A = new int[3][4];\r\n\r\nThis creates a 2D array of int that has 12 elements arranged in 3 rows and 4 columns. Although I haven&#39;t mentioned it, there are initializers for 2D arrays. For example, this statement creates the 3-by-4 array that is shown in the picture below:\r\n\r\n    int[][]  A  =  {  {  1,  0, 12, -1 },\r\n                      {  7, -3,  2,  5 },\r\n                      { -5, -2,  2, -9 }\r\n                   };\r\n\r\nAn array initializer for a 2D array contains the rows of A, separated by commas and enclosed between braces. Each row, in turn, is a list of values separated by commas and enclosed between braces. There are also 2D array literals with a similar syntax that can be used anywhere, not just in declarations. For example,\r\n\r\n    A  =  new int[][] {  {  1,  0, 12, -1 },\r\n                         {  7, -3,  2,  5 },\r\n                         { -5, -2,  2, -9 }\r\n                      };\r\n\r\nAll of this extends naturally to three-dimensional, four-dimensional, and even higher-dimensional arrays, but they are not used very often in practice.\r\n\r\n7.5.1  The Truth About 2D Arrays\r\nBut before we go any farther, there is a little surprise. Java does not actually have two-dimensional arrays. In a true 2D array, all the elements of the array occupy a continuous block of memory, but that&#39;s not true in Java. The syntax for array types is a clue: For any type BaseType, we should be able to form the type BaseType[], meaning &quot;array of BaseType.&quot; If we use int[] as the base type, the type that we get is &quot;int[][] meaning &quot;array of int[]&quot; or &quot;array of array of int.&quot; And in fact, that&#39;s what happens. The elements in a 2D array of type int[][] are variables of type int[]. And remember that a variable of type int[] can only hold a pointer to an array of int. So, a 2D array is really an array of pointers, where each pointer can refer to a one-dimensional array. Those one-dimensional arrays are the rows of the 2D array. A picture will help to explain this. Consider the 3-by-4 array A defined above.\r\nCopied verbatim from http://math.hws.edu/javanotes/c7/s5.html#:~:text=A%202D%20array%20has%20a,and%20the%20number%20of%20columns.\r\n\r\n(n.d.). Retrieved December 29, 2020, from http://math.hws.edu/javanotes/c7/s5.html","title":"&quot;Row-Column Coordinates&quot; of a Character in a Block","body":"<p>TWO-DIMENSIONAL ARRAYS were introduced in Subsection 3.8.5, but we haven't done much with them since then. A 2D array has a type such as int[][] or String[][], with two pairs of square brackets. The elements of a 2D array are arranged in rows and columns, and the new operator for 2D arrays specifies both the number of rows and the number of columns. For example,</p>\n<pre><code>int[][] A;\nA = new int[3][4];\n</code></pre>\n<p>This creates a 2D array of int that has 12 elements arranged in 3 rows and 4 columns. Although I haven't mentioned it, there are initializers for 2D arrays. For example, this statement creates the 3-by-4 array that is shown in the picture below:</p>\n<pre><code>int[][]  A  =  {  {  1,  0, 12, -1 },\n                  {  7, -3,  2,  5 },\n                  { -5, -2,  2, -9 }\n               };\n</code></pre>\n<p>An array initializer for a 2D array contains the rows of A, separated by commas and enclosed between braces. Each row, in turn, is a list of values separated by commas and enclosed between braces. There are also 2D array literals with a similar syntax that can be used anywhere, not just in declarations. For example,</p>\n<pre><code>A  =  new int[][] {  {  1,  0, 12, -1 },\n                     {  7, -3,  2,  5 },\n                     { -5, -2,  2, -9 }\n                  };\n</code></pre>\n<p>All of this extends naturally to three-dimensional, four-dimensional, and even higher-dimensional arrays, but they are not used very often in practice.</p>\n<p>7.5.1  The Truth About 2D Arrays\nBut before we go any farther, there is a little surprise. Java does not actually have two-dimensional arrays. In a true 2D array, all the elements of the array occupy a continuous block of memory, but that's not true in Java. The syntax for array types is a clue: For any type BaseType, we should be able to form the type BaseType[], meaning &quot;array of BaseType.&quot; If we use int[] as the base type, the type that we get is &quot;int[][] meaning &quot;array of int[]&quot; or &quot;array of array of int.&quot; And in fact, that's what happens. The elements in a 2D array of type int[][] are variables of type int[]. And remember that a variable of type int[] can only hold a pointer to an array of int. So, a 2D array is really an array of pointers, where each pointer can refer to a one-dimensional array. Those one-dimensional arrays are the rows of the 2D array. A picture will help to explain this. Consider the 3-by-4 array A defined above.\nCopied verbatim from <a href=\"http://math.hws.edu/javanotes/c7/s5.html#:%7E:text=A%202D%20array%20has%20a,and%20the%20number%20of%20columns\" rel=\"nofollow noreferrer\">http://math.hws.edu/javanotes/c7/s5.html#:~:text=A%202D%20array%20has%20a,and%20the%20number%20of%20columns</a>.</p>\n<p>(n.d.). Retrieved December 29, 2020, from <a href=\"http://math.hws.edu/javanotes/c7/s5.html\" rel=\"nofollow noreferrer\">http://math.hws.edu/javanotes/c7/s5.html</a></p>\n"}],"owner":{"account_id":20184508,"reputation":1827,"user_id":14804200,"display_name":"StackOverFlowerProgrammer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65498675,"answer_count":1,"score":0,"last_activity_date":1638449041,"creation_date":1609221833,"question_id":65487972,"body_markdown":"Can one find a character in a large set like this based on its &quot;row-column&quot;coordinates?         \r\n    \r\n    LLLLLLL.L.LL.L.LLLL.LLLLLLL.LLLLL.LLLLLL.LLLLLLL.L.LLL.LLLLLLLL.LLLLLL.LLLLLLLLLLLLLL.LLLLL\r\n            LLLLLLLLLLLLLLLLLLL.LLLLLLLLLLLLL.LLLLLLLLLLLLLLLLLLLL.LLL..LLLLLLLLLL.LLLLLLLLL.LLLL.LLLLL\r\n            LLLLLLLLL.LLLLLLLLLLLLLLLLL**.**LLLLLLLLLLLLLLLLLLLLLLLLLL.LLLL..LL.L.LLLLLLLLLLLLLLLLLLL.LLLL.\r\n\r\nThe goal is solving [Advent of Code Day 11][1] if you know about it or it helps you understand the question. \r\nThis is the method of solving the puzzle which involves row-column coordinates:\r\nGiven that each line has 91 characters (indices 0-90), and there are three lines here (0,1,2), could the &quot;.&quot; within the asterisks be identified as row 2, column 27 (or any combination). The goal is to check each character against the four characters to its left, right, top, and bottom. Maybe there&#39;s a better way, but using the approach that this question is about, one could check:\r\n\r\n/*\r\n    &quot;.&quot; rows[2]columns[27] against:\r\n    \r\n    rows[1]columns[27] above \r\n    rows[3]columns[27] below, not shown, because the input is very long), \r\n    rows[2]columns[26] left\r\n    rows[2]columns[28  right\r\n*/\r\n\r\nto see if they are an &quot;L&quot; or a &quot;.&quot; That part would be simple, but it relies on being able to identify each character as &quot;rows[row],columns[column&quot;.\r\n\r\nA 2D Array would not work, because each character needs to be in BOTH the row and column arrays. The current approach (very inefficient) for the 92x91 char block is to create 92 arrays of 91 characters each, then put the 92 arrays in a char[][]. When going through a for loop, the row would be the index/char[] in char[][], and using another for loop within, the column would be the index in the char[]. Feasible, but if you name a better way or point out somewhere a better solution is explained, that would be great. Thank you!\r\n\r\n\r\n  [1]: https://adventofcode.com/2020/day/11","title":"&quot;Row-Column Coordinates&quot; of a Character in a Block","body":"<p>Can one find a character in a large set like this based on its &quot;row-column&quot;coordinates?</p>\n<pre><code>LLLLLLL.L.LL.L.LLLL.LLLLLLL.LLLLL.LLLLLL.LLLLLLL.L.LLL.LLLLLLLL.LLLLLL.LLLLLLLLLLLLLL.LLLLL\n        LLLLLLLLLLLLLLLLLLL.LLLLLLLLLLLLL.LLLLLLLLLLLLLLLLLLLL.LLL..LLLLLLLLLL.LLLLLLLLL.LLLL.LLLLL\n        LLLLLLLLL.LLLLLLLLLLLLLLLLL**.**LLLLLLLLLLLLLLLLLLLLLLLLLL.LLLL..LL.L.LLLLLLLLLLLLLLLLLLL.LLLL.\n</code></pre>\n<p>The goal is solving <a href=\"https://adventofcode.com/2020/day/11\" rel=\"nofollow noreferrer\">Advent of Code Day 11</a> if you know about it or it helps you understand the question.\nThis is the method of solving the puzzle which involves row-column coordinates:\nGiven that each line has 91 characters (indices 0-90), and there are three lines here (0,1,2), could the &quot;.&quot; within the asterisks be identified as row 2, column 27 (or any combination). The goal is to check each character against the four characters to its left, right, top, and bottom. Maybe there's a better way, but using the approach that this question is about, one could check:</p>\n<p>/*\n&quot;.&quot; rows[2]columns[27] against:</p>\n<pre><code>rows[1]columns[27] above \nrows[3]columns[27] below, not shown, because the input is very long), \nrows[2]columns[26] left\nrows[2]columns[28  right\n</code></pre>\n<p>*/</p>\n<p>to see if they are an &quot;L&quot; or a &quot;.&quot; That part would be simple, but it relies on being able to identify each character as &quot;rows[row],columns[column&quot;.</p>\n<p>A 2D Array would not work, because each character needs to be in BOTH the row and column arrays. The current approach (very inefficient) for the 92x91 char block is to create 92 arrays of 91 characters each, then put the 92 arrays in a char[][]. When going through a for loop, the row would be the index/char[] in char[][], and using another for loop within, the column would be the index in the char[]. Feasible, but if you name a better way or point out somewhere a better solution is explained, that would be great. Thank you!</p>\n"},{"tags":["java","jasper-reports","jasperserver","jaspersoft-studio","malformedurlexception"],"comments":[{"owner":{"account_id":485731,"reputation":5563,"user_id":902217,"accept_rate":86,"display_name":"CAMOBAP"},"score":0,"creation_date":1349361847,"post_id":12729836,"comment_id":17193272,"body_markdown":"Can you provide full stack trace?","body":"Can you provide full stack trace?"},{"owner":{"account_id":485731,"reputation":5563,"user_id":902217,"accept_rate":86,"display_name":"CAMOBAP"},"score":0,"creation_date":1349362599,"post_id":12729836,"comment_id":17193690,"body_markdown":"Some `RuntimeException` with empty message occurred in constructor `URL(URL context, String spec, URLStreamHandler handler)`, difficult to investigate.","body":"Some <code>RuntimeException</code> with empty message occurred in constructor <code>URL(URL context, String spec, URLStreamHandler handler)</code>, difficult to investigate."},{"owner":{"account_id":401367,"reputation":23742,"user_id":767881,"accept_rate":14,"display_name":"Ravinder Reddy"},"score":0,"creation_date":1349362886,"post_id":12729836,"comment_id":17193832,"body_markdown":"URL path to your XML file must be wrong. Check it.","body":"URL path to your XML file must be wrong. Check it."}],"answers":[{"tags":[],"owner":{"account_id":1271190,"reputation":831,"user_id":1227395,"accept_rate":62,"display_name":"josemm1790"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1349395214,"creation_date":1349395214,"answer_id":12737685,"question_id":12729836,"body_markdown":"not what the problem was but change to iReport and I did upload the report directly to me and JasperServer and works. thanks","title":"JasperServer MalformedURLException","body":"<p>not what the problem was but change to iReport and I did upload the report directly to me and JasperServer and works. thanks</p>\n"},{"tags":[],"owner":{"account_id":7879809,"reputation":610,"user_id":5954248,"display_name":"Nilupul Heshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471692046,"creation_date":1471692046,"answer_id":39053544,"question_id":12729836,"body_markdown":"The only thing you have to do that,\r\n\r\n - Copy your Project Packages to another New Project.\r\n - Add All Libraries \r\n - Make The **.jrxml** File again.\r\n\r\n**It will work.....**\r\n\r\n ","title":"JasperServer MalformedURLException","body":"<p>The only thing you have to do that,</p>\n\n<ul>\n<li>Copy your Project Packages to another New Project.</li>\n<li>Add All Libraries </li>\n<li>Make The <strong>.jrxml</strong> File again.</li>\n</ul>\n\n<p><strong>It will work.....</strong></p>\n"}],"owner":{"account_id":1271190,"reputation":831,"user_id":1227395,"accept_rate":62,"display_name":"josemm1790"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6041,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":12737685,"answer_count":2,"score":0,"last_activity_date":1638448924,"creation_date":1349361733,"question_id":12729836,"body_markdown":"I&#39;m using **JasperServer 4.5.0 and Jaspersoft Studio 1.1.2**.\r\n\r\nI made ​​a report and uploaded it to the server host without problems.\r\n\r\nBut when I view it, it throws this exception message:\r\n\r\n&gt; com.jaspersoft.jasperserver.api.JSExceptionWrapper: java.net.MalformedURLException\r\n\r\n**Trace:**\r\n\r\n&gt; com.jaspersoft.jasperserver.api.JSExceptionWrapper:\r\n&gt; net.sf.jasperreports.engine.JRException:\r\n&gt; java.net.MalformedURLException at\r\n&gt; net.sf.jasperreports.engine.xml.JRXmlLoader.loadXML(JRXmlLoader.java:251)\r\n&gt; at\r\n&gt; net.sf.jasperreports.engine.xml.JRXmlLoader.loadXML(JRXmlLoader.java:230)\r\n&gt; at\r\n&gt; net.sf.jasperreports.engine.xml.JRXmlLoader.load(JRXmlLoader.java:218)\r\n&gt; at\r\n&gt; com.jaspersoft.jasperserver.api.engine.jasperreports.service.impl.EngineServiceImpl.compileReport(EngineServiceImpl.java:905)\r\n&gt; at\r\n&gt; com.jaspersoft.jasperserver.api.engine.jasperreports.service.impl.EngineServiceImpl.compileReport(EngineServiceImpl.java:1362)\r\n\r\nDo you know why I get this exception?\r\n","title":"JasperServer MalformedURLException","body":"<p>I'm using <strong>JasperServer 4.5.0 and Jaspersoft Studio 1.1.2</strong>.</p>\n<p>I made ​​a report and uploaded it to the server host without problems.</p>\n<p>But when I view it, it throws this exception message:</p>\n<blockquote>\n<p>com.jaspersoft.jasperserver.api.JSExceptionWrapper: java.net.MalformedURLException</p>\n</blockquote>\n<p><strong>Trace:</strong></p>\n<blockquote>\n<p>com.jaspersoft.jasperserver.api.JSExceptionWrapper:\nnet.sf.jasperreports.engine.JRException:\njava.net.MalformedURLException at\nnet.sf.jasperreports.engine.xml.JRXmlLoader.loadXML(JRXmlLoader.java:251)\nat\nnet.sf.jasperreports.engine.xml.JRXmlLoader.loadXML(JRXmlLoader.java:230)\nat\nnet.sf.jasperreports.engine.xml.JRXmlLoader.load(JRXmlLoader.java:218)\nat\ncom.jaspersoft.jasperserver.api.engine.jasperreports.service.impl.EngineServiceImpl.compileReport(EngineServiceImpl.java:905)\nat\ncom.jaspersoft.jasperserver.api.engine.jasperreports.service.impl.EngineServiceImpl.compileReport(EngineServiceImpl.java:1362)</p>\n</blockquote>\n<p>Do you know why I get this exception?</p>\n"},{"tags":["java","colors"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1592761831,"post_id":62502066,"comment_id":110534169,"body_markdown":"That part is the parent container of the `JTable`. Since you didn&#39;t post any code, I can&#39;t be more specific. I think you should consider posting a [mcve]. You can [edit] your question and post some code that I can copy, compile and run and which will demonstrate your issue.","body":"That part is the parent container of the <code>JTable</code>. Since you didn&#39;t post any code, I can&#39;t be more specific. I think you should consider posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. You can <a href=\"https://stackoverflow.com/posts/62502066/edit\">edit</a> your question and post some code that I can copy, compile and run and which will demonstrate your issue."},{"owner":{"account_id":18588642,"reputation":11,"user_id":13546350,"display_name":"TheAsdas"},"score":0,"creation_date":1592769270,"post_id":62502066,"comment_id":110536617,"body_markdown":"Hello.This is just the default JTable with a couple of model modifications. You can create a new JFrame in your IDE and place a table with the gui swing editor, and you&#39;ll have your minimal reproducible example.","body":"Hello.This is just the default JTable with a couple of model modifications. You can create a new JFrame in your IDE and place a table with the gui swing editor, and you&#39;ll have your minimal reproducible example."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1592771609,"post_id":62502066,"comment_id":110537272,"body_markdown":"(1-) *You can create a new JFrame in your IDE and place a table with the gui swing editor, and you&#39;ll have your minimal reproducible example* - that is NOT the way the forum works. You are the one who is asking the question. If you want people to help then you post your &quot;MRE&quot; demonstrating the problem based on the code you are using.","body":"(1-) <i>You can create a new JFrame in your IDE and place a table with the gui swing editor, and you&#39;ll have your minimal reproducible example</i> - that is NOT the way the forum works. You are the one who is asking the question. If you want people to help then you post your &quot;MRE&quot; demonstrating the problem based on the code you are using."}],"answers":[{"tags":[],"owner":{"account_id":13793185,"reputation":104,"user_id":9955010,"display_name":"Tutai Kumar Dalal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1592769275,"creation_date":1592769275,"answer_id":62503720,"question_id":62502066,"body_markdown":"\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.table.DefaultTableCellRenderer;\r\n    \r\n    public class TableExample {\r\n    \tJFrame f;\r\n    \r\n    \tTableExample() {\r\n    \t\tf = new JFrame();\r\n    \t\tString data[][] = { { &quot;101&quot;, &quot;Amit&quot;, &quot;670000&quot; }, { &quot;102&quot;, &quot;Jai&quot;, &quot;780000&quot; }, { &quot;101&quot;, &quot;Sachin&quot;, &quot;700000&quot; } };\r\n    \t\tString column[] = { &quot;ID&quot;, &quot;NAME&quot;, &quot;SALARY&quot; };\r\n    \t\tJTable jt = new JTable(data, column);\r\n    \r\n    \t\tjt.setDefaultRenderer(Object.class, new DefaultTableCellRenderer() {// alternate background color for rows\r\n    \t\t\tpublic Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected,\r\n    \t\t\t\t\tboolean hasFocus, int row, int column) {\r\n    \t\t\t\tComponent c = super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\r\n    \t\t\t\tif (!isSelected)\r\n    \t\t\t\t\tc.setBackground(row % 2 == 0 ? Color.white : Color.lightGray);\r\n    \t\t\t\treturn c;\r\n    \t\t\t};\r\n    \t\t});\r\n    \r\n    \t\tjt.setBackground(Color.red);\r\n    \t\tjt.setFillsViewportHeight(true);\r\n    \t\tjt.setBounds(30, 40, 200, 300);\r\n    \t\tJScrollPane sp = new JScrollPane(jt);\r\n    \t\tf.add(sp);\r\n    \t\tf.setSize(300, 400);\r\n    \t\tf.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew TableExample();\r\n    \t}\r\n    }","title":"How to change a JTable&#39;s empty space color?","body":"<pre><code>import java.awt.Color;\nimport java.awt.Component;\n\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.table.DefaultTableCellRenderer;\n\npublic class TableExample {\n    JFrame f;\n\n    TableExample() {\n        f = new JFrame();\n        String data[][] = { { &quot;101&quot;, &quot;Amit&quot;, &quot;670000&quot; }, { &quot;102&quot;, &quot;Jai&quot;, &quot;780000&quot; }, { &quot;101&quot;, &quot;Sachin&quot;, &quot;700000&quot; } };\n        String column[] = { &quot;ID&quot;, &quot;NAME&quot;, &quot;SALARY&quot; };\n        JTable jt = new JTable(data, column);\n\n        jt.setDefaultRenderer(Object.class, new DefaultTableCellRenderer() {// alternate background color for rows\n            public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected,\n                    boolean hasFocus, int row, int column) {\n                Component c = super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\n                if (!isSelected)\n                    c.setBackground(row % 2 == 0 ? Color.white : Color.lightGray);\n                return c;\n            };\n        });\n\n        jt.setBackground(Color.red);\n        jt.setFillsViewportHeight(true);\n        jt.setBounds(30, 40, 200, 300);\n        JScrollPane sp = new JScrollPane(jt);\n        f.add(sp);\n        f.setSize(300, 400);\n        f.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        new TableExample();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21220830,"reputation":1,"user_id":15607445,"display_name":"Elher Encarnacion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638448299,"creation_date":1638448299,"answer_id":70199523,"question_id":62502066,"body_markdown":"Just check the opaque in jtable properties \r\n\r\n\r\n","title":"How to change a JTable&#39;s empty space color?","body":"<p>Just check the opaque in jtable properties</p>\n"}],"owner":{"account_id":18588642,"reputation":11,"user_id":13546350,"display_name":"TheAsdas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":557,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":62503720,"answer_count":2,"score":-2,"last_activity_date":1638448299,"creation_date":1592760324,"question_id":62502066,"body_markdown":"I&#39;m trying to make a `JTable` in my app. So far I&#39;ve been able to change almost all the settings I need, except for the color of the empty space. I want to change the color so it is the same as the row&#39;s background color. How do you do that?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YEerr.png","title":"How to change a JTable&#39;s empty space color?","body":"<p>I'm trying to make a <code>JTable</code> in my app. So far I've been able to change almost all the settings I need, except for the color of the empty space. I want to change the color so it is the same as the row's background color. How do you do that?</p>\n<p><a href=\"https://i.stack.imgur.com/YEerr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YEerr.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","lombok"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638447894,"creation_date":1638447894,"answer_id":70199410,"question_id":70199315,"body_markdown":"I do believe [@Accessors annotation](https://projectlombok.org/features/experimental/Accessors) will help","title":"Remove prefix of variable in generating lombok getter/setter","body":"<p>I do believe <a href=\"https://projectlombok.org/features/experimental/Accessors\" rel=\"nofollow noreferrer\">@Accessors annotation</a> will help</p>\n"},{"tags":[],"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638448017,"creation_date":1638448017,"answer_id":70199441,"question_id":70199315,"body_markdown":"Found this solution, too, as Andrey pointed out (https://projectlombok.org/features/experimental/Accessors):\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Accessors(prefix = {&quot;_&quot;})\r\npublic class CreditContract {\r\n}\r\n```\r\n\r\nThis will remove the prefix `_` from my variables when they are used in naming the getter/setter. This can be even used for different prefixes:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Accessors(prefix = {&quot;_&quot;, &quot;val})\r\npublic class CreditContract {\r\n...\r\nprivate String valTest;\r\n}\r\n```\r\n\r\nWill generate\r\n\r\n```\r\npublic String getTest(){..}\r\npublic void setTest(String string){..}\r\n```","title":"Remove prefix of variable in generating lombok getter/setter","body":"<p>Found this solution, too, as Andrey pointed out (<a href=\"https://projectlombok.org/features/experimental/Accessors\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/experimental/Accessors</a>):</p>\n<pre><code>@Getter\n@Setter\n@Accessors(prefix = {&quot;_&quot;})\npublic class CreditContract {\n}\n</code></pre>\n<p>This will remove the prefix <code>_</code> from my variables when they are used in naming the getter/setter. This can be even used for different prefixes:</p>\n<pre><code>@Getter\n@Setter\n@Accessors(prefix = {&quot;_&quot;, &quot;val})\npublic class CreditContract {\n...\nprivate String valTest;\n}\n</code></pre>\n<p>Will generate</p>\n<pre><code>public String getTest(){..}\npublic void setTest(String string){..}\n</code></pre>\n"}],"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1024,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70199441,"answer_count":2,"score":0,"last_activity_date":1638448017,"creation_date":1638447478,"question_id":70199315,"body_markdown":"I have some code like this:\r\n\r\n```\r\n@Getter\r\n@Setter\r\npublic class CreditContract {\r\n\r\n  private Long _id;\r\n  private String _customerId;\r\n\r\n}\r\n```\r\n\r\nfrom which Lombok will generate these setter/getter:\r\n\r\n```\r\npublic void set_id(Long id) {...}\r\npublic Long get_id() {...}\r\n```\r\n\r\nHow can I control that the underscores are removed? Because I need it like that:\r\n\r\n```\r\npublic void setId(Long id) {...}\r\npublic Long getId() {...}\r\n```\r\n\r\nI&#39;ve found that there is one configuration `lombok.accessors.prefix=_` but I want to control this directly in the class, probably direct in the annotation or with an additional annotation. In other words, I don&#39;t want to have a `lombok.config` file.\r\n\r\nI couldn&#39;t find any information at StackOverflow.","title":"Remove prefix of variable in generating lombok getter/setter","body":"<p>I have some code like this:</p>\n<pre><code>@Getter\n@Setter\npublic class CreditContract {\n\n  private Long _id;\n  private String _customerId;\n\n}\n</code></pre>\n<p>from which Lombok will generate these setter/getter:</p>\n<pre><code>public void set_id(Long id) {...}\npublic Long get_id() {...}\n</code></pre>\n<p>How can I control that the underscores are removed? Because I need it like that:</p>\n<pre><code>public void setId(Long id) {...}\npublic Long getId() {...}\n</code></pre>\n<p>I've found that there is one configuration <code>lombok.accessors.prefix=_</code> but I want to control this directly in the class, probably direct in the annotation or with an additional annotation. In other words, I don't want to have a <code>lombok.config</code> file.</p>\n<p>I couldn't find any information at StackOverflow.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":37187,"reputation":46683,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"score":0,"creation_date":1399884171,"post_id":23604245,"comment_id":36234223,"body_markdown":"thats how you create a critera query (the query itself is different to the sql you posted), the alternative is hql or a native query.","body":"thats how you create a critera query (the query itself is different to the sql you posted), the alternative is hql or a native query."}],"answers":[{"tags":[],"owner":{"account_id":37187,"reputation":46683,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1399884416,"creation_date":1399884416,"answer_id":23604595,"question_id":23604245,"body_markdown":"This is your actual query, slightly more succint.\r\n\r\n       session.createCriteria(EUser.class)\r\n       .add(Restrictions.disjunction()\r\n          .add(Restrictions.like(&quot;userName&quot;, &quot;mat%&quot;))\r\n          .add(Restrictions.like(&quot;firstName&quot;, &quot;mat%&quot;)) \r\n          .add(Restrictions.like(&quot;lastName&quot;, &quot;mat%&quot;)) \r\n          .add(Restrictions.like(&quot;middleName&quot;, &quot;mat%&quot;)))\r\n       .add(Restrictions.eq(&quot;enable &quot;, &quot;active&quot;))\r\n       .list();\r\n\r\nRather wordy, but does keep your code nice an oop and easy to do dynamic and generic queries.\r\n\r\n","title":"Hibernate Criteria AND OR operation on multiple where","body":"<p>This is your actual query, slightly more succint.</p>\n\n<pre><code>   session.createCriteria(EUser.class)\n   .add(Restrictions.disjunction()\n      .add(Restrictions.like(\"userName\", \"mat%\"))\n      .add(Restrictions.like(\"firstName\", \"mat%\")) \n      .add(Restrictions.like(\"lastName\", \"mat%\")) \n      .add(Restrictions.like(\"middleName\", \"mat%\")))\n   .add(Restrictions.eq(\"enable \", \"active\"))\n   .list();\n</code></pre>\n\n<p>Rather wordy, but does keep your code nice an oop and easy to do dynamic and generic queries.</p>\n"},{"tags":[],"owner":{"account_id":13468493,"reputation":868,"user_id":10499368,"display_name":"FreeOnGoo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1560627378,"creation_date":1560627378,"answer_id":56613614,"question_id":23604245,"body_markdown":"For the new Criteria since version Hibernate 5.2:\r\n\r\n\tCriteriaBuilder criteriaBuilder = getSession().getCriteriaBuilder();\r\n\tCriteriaQuery&lt;EUser&gt; criteriaQuery = criteriaBuilder.createQuery(EUser.class);\r\n\r\n\tRoot&lt;EUser&gt; root = getRoot(criteriaQuery);\r\n\tPath&lt;String&gt; userName = root.get(&quot;userName&quot;);\r\n\tPath&lt;String&gt; firstName = root.get(&quot;firstName&quot;);\r\n\tPath&lt;String&gt; lastName = root.get(&quot;lastName&quot;);\r\n\tPath&lt;String&gt; middleName = root.get(&quot;middleName&quot;);\r\n\tPath&lt;String&gt; enable = root.get(&quot;enable&quot;);\r\n\r\n\tPredicate userNamePredicate = criteriaBuilder.like(userName, &quot;%mat%&quot;);\r\n\tPredicate firstNamePredicate = criteriaBuilder.like(firstName, &quot;%mat%&quot;);\r\n\tPredicate lastNamePredicate = criteriaBuilder.like(lastName, &quot;%mat%&quot;);\r\n\tPredicate middleNamePredicate = criteriaBuilder.like(middleName, &quot;%mat%&quot;);\r\n\tPredicate enablePredicate = criteriaBuilder.equal(enable, &quot;ACTIVE&quot;);\r\n\r\n\tPredicate middleNameAndEnablePredicate = criteriaBuilder.and(middleNamePredicate, enablePredicate);\r\n\tPredicate predicate = criteriaBuilder.or(userNamePredicate, firstNamePredicate, lastNamePredicate, middleNameAndEnablePredicate);\r\n\r\n\tcriteriaQuery\r\n        .select(root)\r\n        .where(predicate);\r\n\r\n\tList&lt;EUser&gt; list = getSession()\r\n\t        .createQuery(criteriaQuery)\r\n\t        .getResultList();","title":"Hibernate Criteria AND OR operation on multiple where","body":"<p>For the new Criteria since version Hibernate 5.2:</p>\n\n<pre><code>CriteriaBuilder criteriaBuilder = getSession().getCriteriaBuilder();\nCriteriaQuery&lt;EUser&gt; criteriaQuery = criteriaBuilder.createQuery(EUser.class);\n\nRoot&lt;EUser&gt; root = getRoot(criteriaQuery);\nPath&lt;String&gt; userName = root.get(\"userName\");\nPath&lt;String&gt; firstName = root.get(\"firstName\");\nPath&lt;String&gt; lastName = root.get(\"lastName\");\nPath&lt;String&gt; middleName = root.get(\"middleName\");\nPath&lt;String&gt; enable = root.get(\"enable\");\n\nPredicate userNamePredicate = criteriaBuilder.like(userName, \"%mat%\");\nPredicate firstNamePredicate = criteriaBuilder.like(firstName, \"%mat%\");\nPredicate lastNamePredicate = criteriaBuilder.like(lastName, \"%mat%\");\nPredicate middleNamePredicate = criteriaBuilder.like(middleName, \"%mat%\");\nPredicate enablePredicate = criteriaBuilder.equal(enable, \"ACTIVE\");\n\nPredicate middleNameAndEnablePredicate = criteriaBuilder.and(middleNamePredicate, enablePredicate);\nPredicate predicate = criteriaBuilder.or(userNamePredicate, firstNamePredicate, lastNamePredicate, middleNameAndEnablePredicate);\n\ncriteriaQuery\n    .select(root)\n    .where(predicate);\n\nList&lt;EUser&gt; list = getSession()\n        .createQuery(criteriaQuery)\n        .getResultList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23524597,"reputation":1,"user_id":17571311,"display_name":"Sachin Madhukar Pathare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638447909,"creation_date":1638447909,"answer_id":70199414,"question_id":23604245,"body_markdown":"Maybe This can help someone\r\n\r\n\r\n\t@PostMapping(&quot;/partiesAllBySpecification&quot;)\r\n\tpublic List&lt;Party&gt; getAllPartysByCriteria(@RequestBody Party party) {\r\n\t\treturn partyRepository.findAll(new Specification&lt;Party&gt;() {\r\n\t\t\t@Override\r\n\r\n\t\t\tpublic Predicate toPredicate(Root&lt;Party&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder) {\r\n\t\t\t\tList&lt;Predicate&gt; predicates1 = new ArrayList&lt;&gt;();\r\n\t\t\t\tpredicates1.add(criteriaBuilder.and(criteriaBuilder.equal(root.get(&quot;is_active&quot;), true)));\r\n\t\t\t\tpredicates1\r\n\t\t\t\t\t\t.add(criteriaBuilder.and(criteriaBuilder.equal(root.get(&quot;branch_id&quot;), party.getBranch_id())));\r\n\t\t\t\tList&lt;Predicate&gt; predicates2 = new ArrayList&lt;&gt;();\r\n\t\t\t\tint challan_type = party.getChallan_type();\r\n\t\t\t\tif (challan_type == 0 || challan_type == 2 || challan_type == 4 || challan_type == 6) {// Customer\r\n\t\t\t\t\tpredicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 1)));\r\n\t\t\t\t\tpredicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 5)));\r\n\t\t\t\t\tpredicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 6)));\r\n\t\t\t\t\tpredicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 7)));\r\n\t\t\t\t\tpredicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 8)));\r\n\t\t\t\t\tpredicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 9)));\r\n\t\t\t\t\tpredicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 10)));\r\n\t\t\t\t\tpredicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 11)));\r\n\t\t\t\t} else if (challan_type == 1 || challan_type == 3 || challan_type == 5 || challan_type == 7\r\n\t\t\t\t\t\t|| challan_type == 8) {// Inward - Dealer\r\n\t\t\t\t\tpredicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 2)));\r\n\t\t\t\t\tpredicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 5)));\r\n\t\t\t\t\tpredicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 8)));\r\n\t\t\t\t\tpredicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 9)));\r\n\t\t\t\t\tpredicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 11)));\r\n\t\t\t\t\tpredicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 12)));\r\n\t\t\t\t\tpredicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 13)));\r\n\t\t\t\t\tpredicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 14)));\r\n\t\t\t\t} else if (challan_type == 10) {// Raw Metal Inward : Contractor\r\n\t\t\t\t\tpredicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 4)));\r\n\t\t\t\t\tpredicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 7)));\r\n\t\t\t\t\tpredicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 9)));\r\n\t\t\t\t\tpredicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 10)));\r\n\t\t\t\t\tpredicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 11)));\r\n\t\t\t\t\tpredicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 13)));\r\n\t\t\t\t\tpredicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 14)));\r\n\t\t\t\t\tpredicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 15)));\r\n\t\t\t\t}\r\n\t\t\t\tList&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n\t\t\t\tpredicates.add(criteriaBuilder.and(predicates1.toArray(new Predicate[predicates1.size()])));\r\n\t\t\t\tpredicates.add(criteriaBuilder.or(predicates2.toArray(new Predicate[predicates2.size()])));\r\n\t\t\t\treturn (criteriaBuilder.and(predicates.toArray(new Predicate[predicates.size()])));\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n","title":"Hibernate Criteria AND OR operation on multiple where","body":"<p>Maybe This can help someone</p>\n<pre><code>@PostMapping(&quot;/partiesAllBySpecification&quot;)\npublic List&lt;Party&gt; getAllPartysByCriteria(@RequestBody Party party) {\n    return partyRepository.findAll(new Specification&lt;Party&gt;() {\n        @Override\n\n        public Predicate toPredicate(Root&lt;Party&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder) {\n            List&lt;Predicate&gt; predicates1 = new ArrayList&lt;&gt;();\n            predicates1.add(criteriaBuilder.and(criteriaBuilder.equal(root.get(&quot;is_active&quot;), true)));\n            predicates1\n                    .add(criteriaBuilder.and(criteriaBuilder.equal(root.get(&quot;branch_id&quot;), party.getBranch_id())));\n            List&lt;Predicate&gt; predicates2 = new ArrayList&lt;&gt;();\n            int challan_type = party.getChallan_type();\n            if (challan_type == 0 || challan_type == 2 || challan_type == 4 || challan_type == 6) {// Customer\n                predicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 1)));\n                predicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 5)));\n                predicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 6)));\n                predicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 7)));\n                predicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 8)));\n                predicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 9)));\n                predicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 10)));\n                predicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 11)));\n            } else if (challan_type == 1 || challan_type == 3 || challan_type == 5 || challan_type == 7\n                    || challan_type == 8) {// Inward - Dealer\n                predicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 2)));\n                predicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 5)));\n                predicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 8)));\n                predicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 9)));\n                predicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 11)));\n                predicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 12)));\n                predicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 13)));\n                predicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 14)));\n            } else if (challan_type == 10) {// Raw Metal Inward : Contractor\n                predicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 4)));\n                predicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 7)));\n                predicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 9)));\n                predicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 10)));\n                predicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 11)));\n                predicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 13)));\n                predicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 14)));\n                predicates2.add(criteriaBuilder.or(criteriaBuilder.equal(root.get(&quot;party_type&quot;), 15)));\n            }\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n            predicates.add(criteriaBuilder.and(predicates1.toArray(new Predicate[predicates1.size()])));\n            predicates.add(criteriaBuilder.or(predicates2.toArray(new Predicate[predicates2.size()])));\n            return (criteriaBuilder.and(predicates.toArray(new Predicate[predicates.size()])));\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":1106509,"reputation":6457,"user_id":1097800,"accept_rate":82,"display_name":"LynAs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12205,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":23604595,"answer_count":3,"score":8,"last_activity_date":1638447909,"creation_date":1399883208,"question_id":23604245,"body_markdown":"I am trying to do the following query using Hibernate Criteria\r\n\r\n    SELECT * FROM EUser\r\n    WHERE \r\n    userName LIKE &#39;%mat%&#39; OR\r\n    firstName LIKE &#39;%mat%&#39; OR\r\n    lastName LIKE &#39;%mat%&#39; OR\r\n    middleName LIKE &#39;%mat%&#39; AND \r\n    enable = &#39;ACTIVE&#39;;\r\n\r\n\r\nNow I can Use query like following (//found by googling)\r\n\r\n    Criteria criteria = session.createCriteria(EUser.class);\r\n            Criterion roll = Restrictions.eq(&quot;rollNo&quot;, 2);\r\n            Criterion name = Restrictions.eq(&quot;name&quot;, &quot;John&quot;);\r\n            LogicalExpression expression = Restrictions.or(roll, name);\r\n            criteria.add(expression);\r\n            List list = criteria.list();\r\n    \r\n    Criteria criteria = session.createCriteria(EUser.class);\r\n            Criterion roll = Restrictions.eq(&quot;rollNo&quot;, 1);\r\n            Criterion name = Restrictions.eq(&quot;name&quot;, &quot;John&quot;);\r\n            LogicalExpression expression = Restrictions.and(roll, name);\r\n            criteria.add(expression);\r\n            List list = criteria.list();\r\n\r\n\r\n\r\nBut it seems too much coding for  so little query\r\n\r\nIs there any simpler code to achieve this??\r\n\r\n ","title":"Hibernate Criteria AND OR operation on multiple where","body":"<p>I am trying to do the following query using Hibernate Criteria</p>\n\n<pre><code>SELECT * FROM EUser\nWHERE \nuserName LIKE '%mat%' OR\nfirstName LIKE '%mat%' OR\nlastName LIKE '%mat%' OR\nmiddleName LIKE '%mat%' AND \nenable = 'ACTIVE';\n</code></pre>\n\n<p>Now I can Use query like following (//found by googling)</p>\n\n<pre><code>Criteria criteria = session.createCriteria(EUser.class);\n        Criterion roll = Restrictions.eq(\"rollNo\", 2);\n        Criterion name = Restrictions.eq(\"name\", \"John\");\n        LogicalExpression expression = Restrictions.or(roll, name);\n        criteria.add(expression);\n        List list = criteria.list();\n\nCriteria criteria = session.createCriteria(EUser.class);\n        Criterion roll = Restrictions.eq(\"rollNo\", 1);\n        Criterion name = Restrictions.eq(\"name\", \"John\");\n        LogicalExpression expression = Restrictions.and(roll, name);\n        criteria.add(expression);\n        List list = criteria.list();\n</code></pre>\n\n<p>But it seems too much coding for  so little query</p>\n\n<p>Is there any simpler code to achieve this??</p>\n"},{"tags":["java","lwjgl","stb-image"],"comments":[{"owner":{"account_id":2673249,"reputation":1134,"user_id":2310154,"display_name":"W_O_L_F"},"score":0,"creation_date":1638800350,"post_id":70184051,"comment_id":124177064,"body_markdown":"if I remember right you must use the file system path and not the claspath","body":"if I remember right you must use the file system path and not the claspath"}],"answers":[{"tags":[],"owner":{"account_id":10967097,"reputation":36,"user_id":8058533,"display_name":"Peasant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638363070,"creation_date":1638363070,"answer_id":70184544,"question_id":70184051,"body_markdown":"Could you please show the `stbi_load` method signature.\r\n\r\nMaybe it expects arguments of types [ByteBuffer][1] and [IntBuffer][2], not of types `String` and `int` as you provided.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/nio/IntBuffer.html","title":"stbi_load Method isn&#39;t accepting my parameters","body":"<p>Could you please show the <code>stbi_load</code> method signature.</p>\n<p>Maybe it expects arguments of types <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html\" rel=\"nofollow noreferrer\">ByteBuffer</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/IntBuffer.html\" rel=\"nofollow noreferrer\">IntBuffer</a>, not of types <code>String</code> and <code>int</code> as you provided.</p>\n"}],"owner":{"account_id":23410452,"reputation":3,"user_id":17472248,"display_name":"ralph367"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638447856,"creation_date":1638361025,"question_id":70184051,"body_markdown":"```\r\nbi = ImageIO.read(new File(filename));\r\nwidth = bi.getWidth();\r\nheight = bi.getHeight();\r\n\t\t\t\r\nByteBuffer data = stbi_load(&quot;/sprites/&quot; + filename, width, height, 0, 0);\r\n```\r\n\r\nFor some reason, `stbi_load` isn&#39;t accepting the second, third, and fourth parameters in the method, even though they&#39;re all valid integers. It gives the following error\r\n\r\n    The method stbi_load(ByteBuffer, IntBuffer, IntBuffer, IntBuffer, int) in the type STBImage is not applicable for the arguments (String, int, int, int, int).\r\n\r\nAny ideas why this is happening? Any answers are appreciated","title":"stbi_load Method isn&#39;t accepting my parameters","body":"<pre><code>bi = ImageIO.read(new File(filename));\nwidth = bi.getWidth();\nheight = bi.getHeight();\n            \nByteBuffer data = stbi_load(&quot;/sprites/&quot; + filename, width, height, 0, 0);\n</code></pre>\n<p>For some reason, <code>stbi_load</code> isn't accepting the second, third, and fourth parameters in the method, even though they're all valid integers. It gives the following error</p>\n<pre><code>The method stbi_load(ByteBuffer, IntBuffer, IntBuffer, IntBuffer, int) in the type STBImage is not applicable for the arguments (String, int, int, int, int).\n</code></pre>\n<p>Any ideas why this is happening? Any answers are appreciated</p>\n"},{"tags":["java","xml","xsd"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638448070,"post_id":70199350,"comment_id":124093585,"body_markdown":"Use XSD to generate Java classes, map SQL result to those classes, send classes, xml marshalling is done by Jaxb or whatever framework you choose to use.","body":"Use XSD to generate Java classes, map SQL result to those classes, send classes, xml marshalling is done by Jaxb or whatever framework you choose to use."},{"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ček"},"score":0,"creation_date":1638448597,"post_id":70199350,"comment_id":124093811,"body_markdown":"Hi @M.Deinum, what you offer is of course possibility (and I will go that way probably), but if I would need to change the location of some value from DB in xml I would need to change the java code. But when what I suggest would be possible I would just edit the config file.","body":"Hi @M.Deinum, what you offer is of course possibility (and I will go that way probably), but if I would need to change the location of some value from DB in xml I would need to change the java code. But when what I suggest would be possible I would just edit the config file."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638448734,"post_id":70199350,"comment_id":124093863,"body_markdown":"You have an xsd so that would change as well as the structure. So not sure how that would work. Instead of trying to build something that you probably aren&#39;t going to need (aka over-engineering) what about just writing a solution? It is probably easier to change 1 line of java code then to write a mapping framework and prove it is correct. Just my 2ct.","body":"You have an xsd so that would change as well as the structure. So not sure how that would work. Instead of trying to build something that you probably aren&#39;t going to need (aka over-engineering) what about just writing a solution? It is probably easier to change 1 line of java code then to write a mapping framework and prove it is correct. Just my 2ct."},{"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ček"},"score":0,"creation_date":1638452066,"post_id":70199350,"comment_id":124095303,"body_markdown":"It is also quite complicated when I have xpath long like this x1/x2/x3/x4/x5/x6/x7/x8, I have to create a lot of new classes to set the parameter, but maybe I am doing something wrong.","body":"It is also quite complicated when I have xpath long like this x1/x2/x3/x4/x5/x6/x7/x8, I have to create a lot of new classes to set the parameter, but maybe I am doing something wrong."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638452214,"post_id":70199350,"comment_id":124095375,"body_markdown":"You can just generate those classes from the XSD","body":"You can just generate those classes from the XSD"},{"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ček"},"score":0,"creation_date":1638452379,"post_id":70199350,"comment_id":124095456,"body_markdown":"Yes, I have generated the classes but to set x8 I have to do something like X1 x1 = new X1().setX2(new X2().setX3(new X3()))...","body":"Yes, I have generated the classes but to set x8 I have to do something like X1 x1 = new X1().setX2(new X2().setX3(new X3()))..."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638453734,"post_id":70199350,"comment_id":124096045,"body_markdown":"That needs to be done anyway? Either through what you do or through the framework you are going to use/build. You could also ditch all the XML, use a templating library like Freemarker or Thymeleaf and create an XML template, fill a model (generally a hashmap) and generate XML. It would work, not sure if that is best way.","body":"That needs to be done anyway? Either through what you do or through the framework you are going to use/build. You could also ditch all the XML, use a templating library like Freemarker or Thymeleaf and create an XML template, fill a model (generally a hashmap) and generate XML. It would work, not sure if that is best way."},{"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ček"},"score":0,"creation_date":1638458625,"post_id":70199350,"comment_id":124098552,"body_markdown":"Ok, I found this: https://github.com/mklemm/jaxb2-rich-contract-plugin which makes it more usable.","body":"Ok, I found this: <a href=\"https://github.com/mklemm/jaxb2-rich-contract-plugin\" rel=\"nofollow noreferrer\">github.com/mklemm/jaxb2-rich-contract-plugin</a> which makes it more usable."}],"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ček"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638447632,"creation_date":1638447632,"question_id":70199350,"body_markdown":"this is first time I work with XML so maybe it is very easy problem, but I would like to ask what is the best way I should create XML filled with data from DB when I know the schema.\r\n\r\nOf course there is possibility to do it manually, but I would like to do something like this:\r\n\r\ncreate configuration file which would specify **column name**, **xpath**, **default value** (if DB column is not populated) and based on this configuration file to create XML based on known schema.\r\n\r\nIs there some tool in java which would allow be something like this?\r\n```\r\nMagicXMLTool tool = new MagicXMLTool(mySchema.xsd);\r\ntool.set(&quot;some/xpath/&quot;,value);\r\ntool.set(&quot;another/xpath&quot;,anotherValue)\r\nString xml = tool.generateXML();\r\n```\r\nThanks a lot!\r\n","title":"Create XML based on XSD from data in DB","body":"<p>this is first time I work with XML so maybe it is very easy problem, but I would like to ask what is the best way I should create XML filled with data from DB when I know the schema.</p>\n<p>Of course there is possibility to do it manually, but I would like to do something like this:</p>\n<p>create configuration file which would specify <strong>column name</strong>, <strong>xpath</strong>, <strong>default value</strong> (if DB column is not populated) and based on this configuration file to create XML based on known schema.</p>\n<p>Is there some tool in java which would allow be something like this?</p>\n<pre><code>MagicXMLTool tool = new MagicXMLTool(mySchema.xsd);\ntool.set(&quot;some/xpath/&quot;,value);\ntool.set(&quot;another/xpath&quot;,anotherValue)\nString xml = tool.generateXML();\n</code></pre>\n<p>Thanks a lot!</p>\n"},{"tags":["java","iterator"],"comments":[{"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"score":0,"creation_date":1609929959,"post_id":65547282,"comment_id":115972342,"body_markdown":"I would suggest moving the question to [codereview](codereview.stackexchange.org) - because you are looking for suggestions on how to make your (pretty good already) code better, rather than getting it to work in the first place.","body":"I would suggest moving the question to [codereview](codereview.stackexchange.org) - because you are looking for suggestions on how to make your (pretty good already) code better, rather than getting it to work in the first place."}],"owner":{"account_id":733809,"reputation":43147,"user_id":1211528,"accept_rate":57,"display_name":"plalx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1638447308,"creation_date":1609655888,"question_id":65547282,"body_markdown":"I wrote a recursive algorithm that basically looks like the following. I&#39;m using a `Map&lt;Integer, Long&gt;` as a poor&#39;s man bag/multiset. In order to avoid `ConcurrentModificationException` I&#39;m never removing/adding keys from the map. It works fine and the fact elements keys of `0` occurrences aren&#39;t removed doesn&#39;t matter in this context.\r\n\r\nPS: I know it doesn&#39;t scale, it was just a fun/generic way of solving the Advent of Code Day 1 part 1 &amp; 2.\r\n\r\n    Optional&lt;Integer&gt; solve(final Map&lt;Integer, Long&gt; intOccurrences, final int sum, final int addendsCount) {\r\n        if (addendsCount &lt; 1) return Optional.empty();\r\n        if (addendsCount == 1) {\r\n            return intOccurrences.getOrDefault(sum, 0L) &gt; 0 ? Optional.of(sum) : Optional.empty();\r\n        }\r\n\r\n        for (val entry : intOccurrences.entrySet()) {\r\n            if (entry.getValue() &lt; 1) continue;\r\n            val left = entry.getKey();\r\n            val delta = sum - left;\r\n\r\n            changeCountOf(intOccurrences, left, -1);\r\n\r\n            val result = solve(intOccurrences, delta, addendsCount - 1);\r\n\r\n            if (result.isPresent()) {\r\n                return Optional.of(left * result.get());\r\n            }\r\n\r\n            changeCountOf(intOccurrences, left, 1);\r\n        }\r\n\r\n        return Optional.empty();\r\n\r\n    }\r\n\r\nSince I haven&#39;t written java for several years I decided to practice by cleaning up the above algorithm by implementing an `IntBag`. I&#39;ve implemented the `IntBag` with a `Map&lt;Integer, Count&gt;` backing map which implements `Iterable&lt;Occurrence&gt;`. The custom iterator is backed by the map&#39;s `entrySet` iterator and skips over values of `0` occurrences.\r\n\r\nEverything works just fine, but while my current `IntBag` implementation plays well with recursive backtracking algorithms, it also leaks memory because entries of `0` occurrences are never cleaned-up.\r\n\r\n## QUESTIONS ##\r\n\r\n1. Is there an alternative way to implement a bag that wouldn&#39;t suffer from this memory leak problem while avoiding a `CurrentModificationException` (which doesn&#39;t involve copying the whole bag)?\r\n\r\n2. If my current implementation makes sense, what would be some suitable approaches to cleanup entries? I thought of running a GC process after a certain threshold for instance, but I&#39;m not sure which threshold would make sense, etc.\r\n\r\n3. I thought of marking entries for deletion during iterations and then cleanup after all iterations are done, but I don&#39;t think there&#39;s a way to guarantee iterations are all done if I implement `Iterable`. I could probably work out something if I only implement `forEach` though, where the cleanup would occur after the outer-most `forEach` exits (values of 0 occurrences still need to be ignored during iteration).\r\n\r\n4. None of the above would solve the problem of adding new values while iterating recursively. I can&#39;t think of an approach that would work other than copying the whole bag right now? Hopefully adding items while iterating is not very common I guess...\r\n\r\nThe `IntBag` implementation currently looks like this (haven&#39;t implemented add/remove since it wasn&#39;t necessary):\r\n\r\n\r\n    final class IntBag implements Iterable&lt;IntBag.Occurrence&gt; {\r\n        private final Map&lt;Integer, Count&gt; occurrenceMap;\r\n    \r\n        private IntBag(final Map&lt;Integer, Count&gt; occurrenceMap) {\r\n            this.occurrenceMap = occurrenceMap;\r\n        }\r\n    \r\n        boolean contains(final int value) {\r\n            return !occurrenceMap.getOrDefault(value, Count.ZERO).isZero();\r\n        }\r\n    \r\n        @Override\r\n        public Iterator&lt;Occurrence&gt; iterator() {\r\n            return new IntBag.BagIterator(occurrenceMap.entrySet().iterator());\r\n        }\r\n    \r\n        static IntBag of(final List&lt;Integer&gt; values) {\r\n            return new IntBag(countInts(values));\r\n        }\r\n    \r\n        private static Map&lt;Integer, Count&gt; countInts(final List&lt;Integer&gt; values) {\r\n            return values.stream().collect(groupingBy(Function.identity(), reducing(Count.ZERO, e -&gt; Count.ONE, Count::merge)));\r\n        }\r\n    \r\n        private static final class BagIterator implements Iterator&lt;Occurrence&gt; {\r\n            private final Iterator&lt;Entry&lt;Integer, Count&gt;&gt; entryIterator;\r\n            private Entry&lt;Integer, Count&gt; nextEntry;\r\n    \r\n            BagIterator(@NonNull final Iterator&lt;Entry&lt;Integer, Count&gt;&gt; entryIterator) {\r\n                this.entryIterator = entryIterator;\r\n                initNext();\r\n            }\r\n    \r\n            @Override\r\n            public boolean hasNext() {\r\n                return nextEntry != null;\r\n            }\r\n    \r\n            @Override\r\n            public Occurrence next() {\r\n                if (!hasNext()) throw new NoSuchElementException();\r\n                val currentEntry = nextEntry;\r\n                initNext();\r\n                return new Occurrence(currentEntry);\r\n            }\r\n    \r\n            private void initNext() {\r\n                while(entryIterator.hasNext()) {\r\n                    val maybeNext = entryIterator.next();\r\n                    if (maybeNext.getValue().isZero()) continue;\r\n                    nextEntry = maybeNext;\r\n                    return;\r\n                }\r\n    \r\n                nextEntry = null;\r\n            }\r\n        }\r\n    \r\n        @RequiredArgsConstructor\r\n        static final class Occurrence {\r\n            private final Map.Entry&lt;Integer, Count&gt; entry;\r\n    \r\n            int value() {\r\n                return entry.getKey();\r\n            }\r\n    \r\n            long count() {\r\n                return entry.getValue().value();\r\n            }\r\n    \r\n            void merge(final long modifier) {\r\n                entry.setValue(entry.getValue().merge(modifier));\r\n            }\r\n        }\r\n    \r\n        private static final class Count {\r\n            private final long value;\r\n    \r\n            private Count(final long value) {\r\n                this.value = Math.max(0L, value);\r\n            }\r\n    \r\n            long value() {\r\n                return value;\r\n            }\r\n    \r\n            boolean isZero() {\r\n                return value == 0L;\r\n            }\r\n    \r\n            Count merge(@NonNull final Count modifier) {\r\n                return merge(modifier.value());\r\n            }\r\n    \r\n            Count merge(final long modifier) {\r\n                return new Count(value + modifier);\r\n            }\r\n    \r\n            static final Count ZERO = Count.of(0L);\r\n            static final Count ONE = Count.of(1L);\r\n            static Count of(final long value) {\r\n                return new Count(value);\r\n            }\r\n        }\r\n    }","title":"Idiomatic way of avoiding both: memory leak &amp; ConcurrentModificationException","body":"<p>I wrote a recursive algorithm that basically looks like the following. I'm using a <code>Map&lt;Integer, Long&gt;</code> as a poor's man bag/multiset. In order to avoid <code>ConcurrentModificationException</code> I'm never removing/adding keys from the map. It works fine and the fact elements keys of <code>0</code> occurrences aren't removed doesn't matter in this context.</p>\n<p>PS: I know it doesn't scale, it was just a fun/generic way of solving the Advent of Code Day 1 part 1 &amp; 2.</p>\n<pre><code>Optional&lt;Integer&gt; solve(final Map&lt;Integer, Long&gt; intOccurrences, final int sum, final int addendsCount) {\n    if (addendsCount &lt; 1) return Optional.empty();\n    if (addendsCount == 1) {\n        return intOccurrences.getOrDefault(sum, 0L) &gt; 0 ? Optional.of(sum) : Optional.empty();\n    }\n\n    for (val entry : intOccurrences.entrySet()) {\n        if (entry.getValue() &lt; 1) continue;\n        val left = entry.getKey();\n        val delta = sum - left;\n\n        changeCountOf(intOccurrences, left, -1);\n\n        val result = solve(intOccurrences, delta, addendsCount - 1);\n\n        if (result.isPresent()) {\n            return Optional.of(left * result.get());\n        }\n\n        changeCountOf(intOccurrences, left, 1);\n    }\n\n    return Optional.empty();\n\n}\n</code></pre>\n<p>Since I haven't written java for several years I decided to practice by cleaning up the above algorithm by implementing an <code>IntBag</code>. I've implemented the <code>IntBag</code> with a <code>Map&lt;Integer, Count&gt;</code> backing map which implements <code>Iterable&lt;Occurrence&gt;</code>. The custom iterator is backed by the map's <code>entrySet</code> iterator and skips over values of <code>0</code> occurrences.</p>\n<p>Everything works just fine, but while my current <code>IntBag</code> implementation plays well with recursive backtracking algorithms, it also leaks memory because entries of <code>0</code> occurrences are never cleaned-up.</p>\n<h2>QUESTIONS</h2>\n<ol>\n<li><p>Is there an alternative way to implement a bag that wouldn't suffer from this memory leak problem while avoiding a <code>CurrentModificationException</code> (which doesn't involve copying the whole bag)?</p>\n</li>\n<li><p>If my current implementation makes sense, what would be some suitable approaches to cleanup entries? I thought of running a GC process after a certain threshold for instance, but I'm not sure which threshold would make sense, etc.</p>\n</li>\n<li><p>I thought of marking entries for deletion during iterations and then cleanup after all iterations are done, but I don't think there's a way to guarantee iterations are all done if I implement <code>Iterable</code>. I could probably work out something if I only implement <code>forEach</code> though, where the cleanup would occur after the outer-most <code>forEach</code> exits (values of 0 occurrences still need to be ignored during iteration).</p>\n</li>\n<li><p>None of the above would solve the problem of adding new values while iterating recursively. I can't think of an approach that would work other than copying the whole bag right now? Hopefully adding items while iterating is not very common I guess...</p>\n</li>\n</ol>\n<p>The <code>IntBag</code> implementation currently looks like this (haven't implemented add/remove since it wasn't necessary):</p>\n<pre><code>final class IntBag implements Iterable&lt;IntBag.Occurrence&gt; {\n    private final Map&lt;Integer, Count&gt; occurrenceMap;\n\n    private IntBag(final Map&lt;Integer, Count&gt; occurrenceMap) {\n        this.occurrenceMap = occurrenceMap;\n    }\n\n    boolean contains(final int value) {\n        return !occurrenceMap.getOrDefault(value, Count.ZERO).isZero();\n    }\n\n    @Override\n    public Iterator&lt;Occurrence&gt; iterator() {\n        return new IntBag.BagIterator(occurrenceMap.entrySet().iterator());\n    }\n\n    static IntBag of(final List&lt;Integer&gt; values) {\n        return new IntBag(countInts(values));\n    }\n\n    private static Map&lt;Integer, Count&gt; countInts(final List&lt;Integer&gt; values) {\n        return values.stream().collect(groupingBy(Function.identity(), reducing(Count.ZERO, e -&gt; Count.ONE, Count::merge)));\n    }\n\n    private static final class BagIterator implements Iterator&lt;Occurrence&gt; {\n        private final Iterator&lt;Entry&lt;Integer, Count&gt;&gt; entryIterator;\n        private Entry&lt;Integer, Count&gt; nextEntry;\n\n        BagIterator(@NonNull final Iterator&lt;Entry&lt;Integer, Count&gt;&gt; entryIterator) {\n            this.entryIterator = entryIterator;\n            initNext();\n        }\n\n        @Override\n        public boolean hasNext() {\n            return nextEntry != null;\n        }\n\n        @Override\n        public Occurrence next() {\n            if (!hasNext()) throw new NoSuchElementException();\n            val currentEntry = nextEntry;\n            initNext();\n            return new Occurrence(currentEntry);\n        }\n\n        private void initNext() {\n            while(entryIterator.hasNext()) {\n                val maybeNext = entryIterator.next();\n                if (maybeNext.getValue().isZero()) continue;\n                nextEntry = maybeNext;\n                return;\n            }\n\n            nextEntry = null;\n        }\n    }\n\n    @RequiredArgsConstructor\n    static final class Occurrence {\n        private final Map.Entry&lt;Integer, Count&gt; entry;\n\n        int value() {\n            return entry.getKey();\n        }\n\n        long count() {\n            return entry.getValue().value();\n        }\n\n        void merge(final long modifier) {\n            entry.setValue(entry.getValue().merge(modifier));\n        }\n    }\n\n    private static final class Count {\n        private final long value;\n\n        private Count(final long value) {\n            this.value = Math.max(0L, value);\n        }\n\n        long value() {\n            return value;\n        }\n\n        boolean isZero() {\n            return value == 0L;\n        }\n\n        Count merge(@NonNull final Count modifier) {\n            return merge(modifier.value());\n        }\n\n        Count merge(final long modifier) {\n            return new Count(value + modifier);\n        }\n\n        static final Count ZERO = Count.of(0L);\n        static final Count ONE = Count.of(1L);\n        static Count of(final long value) {\n            return new Count(value);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","memory","memory-leaks","jaxb"],"answers":[{"tags":[],"owner":{"account_id":17689981,"reputation":31,"user_id":12841996,"display_name":"Aditya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635421364,"creation_date":1635421364,"answer_id":69753467,"question_id":69750511,"body_markdown":"Although finalize() method is deprecated after Java 9 onward but jaxb library still uses finalize.So if we are using jaxb memory leak will happen. You can go though [this](https://stackoverflow.com/questions/8355064/is-memory-leak-why-java-lang-ref-finalizer-eat-so-much-memory) to know more.","title":"Using Spring webServiceTemplate and jaxb library leads to memory leak with &#171;java.lang.ref.Finalizer&#187;","body":"<p>Although finalize() method is deprecated after Java 9 onward but jaxb library still uses finalize.So if we are using jaxb memory leak will happen. You can go though <a href=\"https://stackoverflow.com/questions/8355064/is-memory-leak-why-java-lang-ref-finalizer-eat-so-much-memory\">this</a> to know more.</p>\n"},{"tags":[],"owner":{"account_id":6856002,"reputation":21,"user_id":5271541,"display_name":"Piotr M."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638446916,"creation_date":1638446916,"answer_id":70199190,"question_id":69750511,"body_markdown":"Please consider replacing calls to `marshaller()` in `webServiceTemplate(...)` with Spring-injected beans:\r\n\r\n```java\r\n    @Bean\r\n    public WebServiceTemplate webServiceTemplate(\r\n        final WebServiceTemplateBuilder builder,\r\n        final AllTimeouts allTimeouts,\r\n        final Jaxb2Marshaller marshaller) {\r\n```\r\n\r\nOtherwise, calls to `webServiceTemplate` lead to creation of new marshallers, skipping your factory method `Jaxb2Marshaller marshaller()`.","title":"Using Spring webServiceTemplate and jaxb library leads to memory leak with &#171;java.lang.ref.Finalizer&#187;","body":"<p>Please consider replacing calls to <code>marshaller()</code> in <code>webServiceTemplate(...)</code> with Spring-injected beans:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public WebServiceTemplate webServiceTemplate(\n        final WebServiceTemplateBuilder builder,\n        final AllTimeouts allTimeouts,\n        final Jaxb2Marshaller marshaller) {\n</code></pre>\n<p>Otherwise, calls to <code>webServiceTemplate</code> lead to creation of new marshallers, skipping your factory method <code>Jaxb2Marshaller marshaller()</code>.</p>\n"}],"owner":{"account_id":10416430,"reputation":353,"user_id":11993600,"display_name":"SorryForAsking"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":799,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638446916,"creation_date":1635408864,"question_id":69750511,"body_markdown":"I&#39;m executing webServiceTemplate.marshalSendAndReceive in my multithreaded app (10 threads) and it leads memory leak with Finalizer class. I have found which classes uses finalize in its implementetion while debugging. In in most cases it is UnmarshallerImpl and HttpsURLConnectionImpl.\r\nJaxb2Marshaller creates new instanse of UnmarshallerImpl for every request, and as I found out, GC can&#39;t delete this objects, until low priority thread  execute finalize() for each instanse.\r\nApparently, FinalizerThread can&#39;t process the queuq of this object in time and does not free memory. When I mock method which calls webServiceTemplate.marshalSendAndReceive the problem with memory leak goes away goes away. Is there way to solve this problem?\r\n\r\nHere is my WebServise configuration:\r\n\r\n    @Configuration\r\n    public class WebServiceConfig {\r\n        private final Props props;\r\n        private final ApplicationProps applicationProps;\r\n    \r\n        public WebServiceConfig(@NotNull final Props props, @NotNull final ApplicationProps applicationProps) {\r\n            this.props = props;\r\n            this.applicationProps = applicationProps;\r\n        }\r\n    \r\n        @Bean\r\n        public Jaxb2Marshaller marshaller() {\r\n            Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n            marshaller.setPackagesToScan(applicationProps.getPackagesToScan());\r\n            return marshaller;\r\n        }\r\n    \r\n        @Bean\r\n        public WebServiceTemplate webServiceTemplate(final WebServiceTemplateBuilder builder, final AllTimeouts allTimeouts) {\r\n            return builder\r\n                    .setMarshaller(marshaller())\r\n                    .setUnmarshaller(marshaller())\r\n                    .messageSenders(new BasicAuthHttpsConnectionMessageSender(\r\n                            props.getUsername(),\r\n                            props.getPassword(),\r\n                            allTimeouts.getReadTimeout()))\r\n                    .build();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n    public class BasicAuthHttpsConnectionMessageSender extends HttpsUrlConnectionMessageSender {\r\n        private final String b64Creds;\r\n    \r\n        public BasicAuthHttpsConnectionMessageSender(final String username,\r\n                                                     final String password,\r\n                                                     final Integer readTimeout) {\r\n            byte[] message;\r\n            message = String.format(&quot;%s:%s&quot;, username, password).getBytes(StandardCharsets.UTF_8);\r\n            b64Creds = DatatypeConverter.printBase64Binary(message);\r\n            setReadTimeout(Duration.ofMillis(readTimeout));\r\n        }\r\n    \r\n        @Override\r\n        protected void prepareConnection(final HttpURLConnection connection) throws IOException {\r\n            connection.setRequestProperty(HttpHeaders.AUTHORIZATION, String.format(&quot;Basic %s&quot;, b64Creds));\r\n            super.prepareConnection(connection);\r\n        }\r\n    }\r\n\r\nHere is my dependensies:\r\n\r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web-services&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    \timplementation group: &#39;javax.validation&#39;, name: &#39;validation-api&#39;, version: &#39;2.0.1.Final&#39;\r\n    \timplementation group: &#39;ch.qos.logback&#39;, name: &#39;logback-classic&#39;, version: &#39;1.2.3&#39;\r\n    \timplementation group: &#39;net.logstash.logback&#39;, name: &#39;logstash-logback-encoder&#39;, version: &#39;4.10&#39;\r\n    \tcompile(&#39;javax.xml.bind:jaxb-api:2.3.0&#39;)\r\n    \tcompile(&#39;javax.activation:activation:1.1&#39;)\r\n    \tcompile(&#39;org.glassfish.jaxb:jaxb-runtime:2.3.0&#39;)\r\n    \tcompile &#39;org.hibernate.validator:hibernate-validator:6.0.13.Final&#39;\r\n    \tcompile group: &#39;org.postgresql&#39;, name: &#39;postgresql&#39;, version: &#39;42.2.11&#39;\r\n    \tcompile group: &#39;org.springframework.vault&#39;, name: &#39;spring-vault-core&#39;, version: &#39;2.1.3.RELEASE&#39;\r\n    \tcompile group: &#39;org.springframework.ws&#39;, name: &#39;spring-ws-security&#39;, version: &#39;2.2.2.RELEASE&#39;\r\n    \tcompile group: &#39;org.springframework.ws&#39;, name: &#39;spring-ws-support&#39;, version: &#39;2.2.2.RELEASE&#39;\r\n    \tcompile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-configuration-processor&#39;, version: &#39;2.1.8.RELEASE&#39;\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \tprovidedRuntime &#39;org.springframework.boot:spring-boot-starter-tomcat&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZBxma.png","title":"Using Spring webServiceTemplate and jaxb library leads to memory leak with &#171;java.lang.ref.Finalizer&#187;","body":"<p>I'm executing webServiceTemplate.marshalSendAndReceive in my multithreaded app (10 threads) and it leads memory leak with Finalizer class. I have found which classes uses finalize in its implementetion while debugging. In in most cases it is UnmarshallerImpl and HttpsURLConnectionImpl.\nJaxb2Marshaller creates new instanse of UnmarshallerImpl for every request, and as I found out, GC can't delete this objects, until low priority thread  execute finalize() for each instanse.\nApparently, FinalizerThread can't process the queuq of this object in time and does not free memory. When I mock method which calls webServiceTemplate.marshalSendAndReceive the problem with memory leak goes away goes away. Is there way to solve this problem?</p>\n<p>Here is my WebServise configuration:</p>\n<pre><code>@Configuration\npublic class WebServiceConfig {\n    private final Props props;\n    private final ApplicationProps applicationProps;\n\n    public WebServiceConfig(@NotNull final Props props, @NotNull final ApplicationProps applicationProps) {\n        this.props = props;\n        this.applicationProps = applicationProps;\n    }\n\n    @Bean\n    public Jaxb2Marshaller marshaller() {\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n        marshaller.setPackagesToScan(applicationProps.getPackagesToScan());\n        return marshaller;\n    }\n\n    @Bean\n    public WebServiceTemplate webServiceTemplate(final WebServiceTemplateBuilder builder, final AllTimeouts allTimeouts) {\n        return builder\n                .setMarshaller(marshaller())\n                .setUnmarshaller(marshaller())\n                .messageSenders(new BasicAuthHttpsConnectionMessageSender(\n                        props.getUsername(),\n                        props.getPassword(),\n                        allTimeouts.getReadTimeout()))\n                .build();\n    }\n\n}\n\n\npublic class BasicAuthHttpsConnectionMessageSender extends HttpsUrlConnectionMessageSender {\n    private final String b64Creds;\n\n    public BasicAuthHttpsConnectionMessageSender(final String username,\n                                                 final String password,\n                                                 final Integer readTimeout) {\n        byte[] message;\n        message = String.format(&quot;%s:%s&quot;, username, password).getBytes(StandardCharsets.UTF_8);\n        b64Creds = DatatypeConverter.printBase64Binary(message);\n        setReadTimeout(Duration.ofMillis(readTimeout));\n    }\n\n    @Override\n    protected void prepareConnection(final HttpURLConnection connection) throws IOException {\n        connection.setRequestProperty(HttpHeaders.AUTHORIZATION, String.format(&quot;Basic %s&quot;, b64Creds));\n        super.prepareConnection(connection);\n    }\n}\n</code></pre>\n<p>Here is my dependensies:</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-jdbc'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-web-services'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation group: 'javax.validation', name: 'validation-api', version: '2.0.1.Final'\n    implementation group: 'ch.qos.logback', name: 'logback-classic', version: '1.2.3'\n    implementation group: 'net.logstash.logback', name: 'logstash-logback-encoder', version: '4.10'\n    compile('javax.xml.bind:jaxb-api:2.3.0')\n    compile('javax.activation:activation:1.1')\n    compile('org.glassfish.jaxb:jaxb-runtime:2.3.0')\n    compile 'org.hibernate.validator:hibernate-validator:6.0.13.Final'\n    compile group: 'org.postgresql', name: 'postgresql', version: '42.2.11'\n    compile group: 'org.springframework.vault', name: 'spring-vault-core', version: '2.1.3.RELEASE'\n    compile group: 'org.springframework.ws', name: 'spring-ws-security', version: '2.2.2.RELEASE'\n    compile group: 'org.springframework.ws', name: 'spring-ws-support', version: '2.2.2.RELEASE'\n    compile group: 'org.springframework.boot', name: 'spring-boot-configuration-processor', version: '2.1.8.RELEASE'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    providedRuntime 'org.springframework.boot:spring-boot-starter-tomcat'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZBxma.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZBxma.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","p2p","distributed-system","messagebroker","consensus"],"comments":[{"owner":{"account_id":2085834,"reputation":788,"user_id":1856854,"display_name":"Effie"},"score":0,"creation_date":1638978130,"post_id":70199054,"comment_id":124231744,"body_markdown":"i don&#39;t think you are looking for a message brocker. concensus runs between several nodes that communicate over a network, and what you probably want is to simulate/emulate the network. depending on what you actually want to measure with your simulator some of the methods may not be good enough. first, you can probably run several nodes on the same machine without any problems. if there are problems you can use something similar to mininet or containernet and run nodes into (quazi-)containers. if you do this, you might not get accurate execution time, because all your instances may not be","body":"i don&#39;t think you are looking for a message brocker. concensus runs between several nodes that communicate over a network, and what you probably want is to simulate/emulate the network. depending on what you actually want to measure with your simulator some of the methods may not be good enough. first, you can probably run several nodes on the same machine without any problems. if there are problems you can use something similar to mininet or containernet and run nodes into (quazi-)containers. if you do this, you might not get accurate execution time, because all your instances may not be"},{"owner":{"account_id":2085834,"reputation":788,"user_id":1856854,"display_name":"Effie"},"score":0,"creation_date":1638978391,"post_id":70199054,"comment_id":124231867,"body_markdown":"able to run really in parallel. You will get something, it will just leave the feasibility question open. All these methods will basically result in you writing a script that starts those instances and does something. If you do event-driven simulations, you could use a simulator to simulate network communication. this can be done, since ns3 and omnet do something like this with quagga (this is C/C++). In this case you can simulate network communication latency, but you probably won&#39;t be able to take execution time of each step on each node into account. In this case I would start with","body":"able to run really in parallel. You will get something, it will just leave the feasibility question open. All these methods will basically result in you writing a script that starts those instances and does something. If you do event-driven simulations, you could use a simulator to simulate network communication. this can be done, since ns3 and omnet do something like this with quagga (this is C/C++). In this case you can simulate network communication latency, but you probably won&#39;t be able to take execution time of each step on each node into account. In this case I would start with"},{"owner":{"account_id":2085834,"reputation":788,"user_id":1856854,"display_name":"Effie"},"score":0,"creation_date":1638978491,"post_id":70199054,"comment_id":124231911,"body_markdown":"trying to figure out how to intercept packets, i.e., how to make sure that nodes spaak with your concensus brocker and not with the network itself. I can&#39;t find a use-case for having a message broker. And I am not sure whether implementing this is actually easier than implementing the algorithms themeselves. Unless of course someone has already done this and you can just find a open-source tool.","body":"trying to figure out how to intercept packets, i.e., how to make sure that nodes spaak with your concensus brocker and not with the network itself. I can&#39;t find a use-case for having a message broker. And I am not sure whether implementing this is actually easier than implementing the algorithms themeselves. Unless of course someone has already done this and you can just find a open-source tool."}],"owner":{"account_id":6497337,"reputation":672,"user_id":5029509,"accept_rate":25,"display_name":"Questioner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638446426,"creation_date":1638446426,"question_id":70199054,"body_markdown":"I have implemented a simulator (in Java) to show the performance of my protocol designed for distributed and peer-to-peer networks, in which transactions are processed via a consensus mechanism. Since it is a simulator, the nodes/peers are virtual (and not a real machine.)\r\n\r\nIs it possible to perform the consensus **outside the main application** and after finishing each round of consensus, the result of consensus is returned to the simulator? I mean by passing the required parameters (such as, number of nodes etc.) to the application which performs the consensus, then, it executes the consensus on validity of a transaction, and after that, it returns the result of the consensus to the simulator application.\r\n\r\nFor example, if the consensus mechanism is Raft, the simulator application (my application in Java) sends the transactions to e.g. [**Apache Ratis**][1] (which implements Raft consensus), or if the consensus is PBFT, the simulator application sends the transactions to e.g. [**Sawtooth PBFT**][2] (implemented by IBM Hyperledger) etc.\r\n\r\nI am not sure if it would be possible to transfer the transactions from the simulator application to the software which executes the consensus (like Apache Ratis or Sawtooth PBFT) by using a message-broker such as **RabbitMQ**...\r\n\r\nIs this a practical method? **If so, the simulator can get free of implementing several different consensus mechanisms.**\r\n\r\nFollowing figure describes generally what I want:\r\n[![enter image description here][3]][3]\r\n\r\n \r\n **P.S.** *If the question is not yet clear enough, please let me know to modify it.*\r\n\r\n\r\n  [1]: https://ratis.apache.org/\r\n  [2]: https://sawtooth.hyperledger.org/docs/pbft/releases/latest/introduction-to-sawtooth-pbft.html\r\n  [3]: https://i.stack.imgur.com/KgZxQ.png","title":"P2P consensus outside the main application?","body":"<p>I have implemented a simulator (in Java) to show the performance of my protocol designed for distributed and peer-to-peer networks, in which transactions are processed via a consensus mechanism. Since it is a simulator, the nodes/peers are virtual (and not a real machine.)</p>\n<p>Is it possible to perform the consensus <strong>outside the main application</strong> and after finishing each round of consensus, the result of consensus is returned to the simulator? I mean by passing the required parameters (such as, number of nodes etc.) to the application which performs the consensus, then, it executes the consensus on validity of a transaction, and after that, it returns the result of the consensus to the simulator application.</p>\n<p>For example, if the consensus mechanism is Raft, the simulator application (my application in Java) sends the transactions to e.g. <a href=\"https://ratis.apache.org/\" rel=\"nofollow noreferrer\"><strong>Apache Ratis</strong></a> (which implements Raft consensus), or if the consensus is PBFT, the simulator application sends the transactions to e.g. <a href=\"https://sawtooth.hyperledger.org/docs/pbft/releases/latest/introduction-to-sawtooth-pbft.html\" rel=\"nofollow noreferrer\"><strong>Sawtooth PBFT</strong></a> (implemented by IBM Hyperledger) etc.</p>\n<p>I am not sure if it would be possible to transfer the transactions from the simulator application to the software which executes the consensus (like Apache Ratis or Sawtooth PBFT) by using a message-broker such as <strong>RabbitMQ</strong>...</p>\n<p>Is this a practical method? <strong>If so, the simulator can get free of implementing several different consensus mechanisms.</strong></p>\n<p>Following figure describes generally what I want:\n<a href=\"https://i.stack.imgur.com/KgZxQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KgZxQ.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>P.S.</strong> <em>If the question is not yet clear enough, please let me know to modify it.</em></p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":80360,"reputation":5251,"user_id":227294,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638446124,"creation_date":1638446124,"answer_id":70198983,"question_id":70198886,"body_markdown":"It&#39;s quite simple `@PostConstruct` in `AppConfig` relies on the `RestTemplate` bean but this `@Bean` is part of `AppConfig`.\r\n\r\nThis is due to how `@Configuration` classes work, they are proxied and a call to `public RestTemplate restTemplate()` would call the proxied method.\r\n\r\nA simple fix would be removing the `@Bean` annotation from your `RestTemplate` method, if the `RestTemplate` is not used in other locations.","title":"Spring boot app gives error circular references why?","body":"<p>It's quite simple <code>@PostConstruct</code> in <code>AppConfig</code> relies on the <code>RestTemplate</code> bean but this <code>@Bean</code> is part of <code>AppConfig</code>.</p>\n<p>This is due to how <code>@Configuration</code> classes work, they are proxied and a call to <code>public RestTemplate restTemplate()</code> would call the proxied method.</p>\n<p>A simple fix would be removing the <code>@Bean</code> annotation from your <code>RestTemplate</code> method, if the <code>RestTemplate</code> is not used in other locations.</p>\n"}],"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8978,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70198983,"answer_count":1,"score":3,"last_activity_date":1638446124,"creation_date":1638445678,"question_id":70198886,"body_markdown":"I have this Configuration class:-\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n    \r\n        @Autowired\r\n        private Environment env;\r\n        private List&lt;Weather&gt; weathers = new ArrayList&lt;&gt;();\r\n    \r\n        @Bean\r\n        public RestTemplate restTemplate() {\r\n            var factory = new SimpleClientHttpRequestFactory();\r\n            factory.setConnectTimeout(3000);\r\n            factory.setReadTimeout(3000);\r\n            return new RestTemplate(factory);\r\n        }\r\n    \r\n    \r\n    \r\n        @PostConstruct\r\n        public void startMonitoring() {\r\n            String url = env.getProperty(&quot;openWeatherUrl&quot;);\r\n            String apiKey = env.getProperty(&quot;openWeatherApiKey&quot;);\r\n    \r\n            try (InputStream resource = app.class.getResourceAsStream(&quot;/config.csv&quot;)) {\r\n                CSVReader reader = new CSVReader(new InputStreamReader(resource));\r\n                String[] lineInArray;\r\n                while ((lineInArray = reader.readNext()) != null) {\r\n                    Weather weather = new Weather();\r\n                    if (!lineInArray[0].contains(&quot;city&quot;)) {\r\n                        weather.setCity(lineInArray[0]);\r\n                    } else {\r\n                        continue;\r\n                    }\r\n    \r\n                    if (!lineInArray[1].contains(&quot;temperaturesLimit&quot;)) {\r\n                        weather.setTemperaturesLimit(Float.parseFloat(lineInArray[2]));\r\n                    }\r\n                    if (!lineInArray[2].contains(&quot;temperaturesLimit&quot;)) {\r\n                        weather.setFrequency(Integer.parseInt(lineInArray[2]));\r\n                    }\r\n    \r\n                    URI uri = new URI(url + &quot;?q=&quot; + weather.getCity() + &quot;&amp;units=metric&amp;APPID=&quot; + apiKey);\r\n                    weather.setUri(uri);\r\n                    weathers.add(weather);\r\n                }\r\n            } catch (IOException | CsvValidationException | URISyntaxException e) {\r\n                System.out.println(e.getMessage());\r\n            }\r\n            fetchWeatherData();\r\n        }\r\n    \r\n        void fetchWeatherData(){\r\n            RestTemplate restTemplate = restTemplate();\r\n            weathers.forEach(weather -&gt; {\r\n                var res = restTemplate.getForEntity(weather.getUri(), Weather.class);\r\n            });\r\n        }\r\n    }\r\n\r\nI got error:-\r\n\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n\r\n\r\nAction:\r\n\r\nRelying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.\r\n\r\nWhy is it circular? How do I fix it? \r\n\r\n","title":"Spring boot app gives error circular references why?","body":"<p>I have this Configuration class:-</p>\n<pre><code>@Configuration\npublic class AppConfig {\n\n    @Autowired\n    private Environment env;\n    private List&lt;Weather&gt; weathers = new ArrayList&lt;&gt;();\n\n    @Bean\n    public RestTemplate restTemplate() {\n        var factory = new SimpleClientHttpRequestFactory();\n        factory.setConnectTimeout(3000);\n        factory.setReadTimeout(3000);\n        return new RestTemplate(factory);\n    }\n\n\n\n    @PostConstruct\n    public void startMonitoring() {\n        String url = env.getProperty(&quot;openWeatherUrl&quot;);\n        String apiKey = env.getProperty(&quot;openWeatherApiKey&quot;);\n\n        try (InputStream resource = app.class.getResourceAsStream(&quot;/config.csv&quot;)) {\n            CSVReader reader = new CSVReader(new InputStreamReader(resource));\n            String[] lineInArray;\n            while ((lineInArray = reader.readNext()) != null) {\n                Weather weather = new Weather();\n                if (!lineInArray[0].contains(&quot;city&quot;)) {\n                    weather.setCity(lineInArray[0]);\n                } else {\n                    continue;\n                }\n\n                if (!lineInArray[1].contains(&quot;temperaturesLimit&quot;)) {\n                    weather.setTemperaturesLimit(Float.parseFloat(lineInArray[2]));\n                }\n                if (!lineInArray[2].contains(&quot;temperaturesLimit&quot;)) {\n                    weather.setFrequency(Integer.parseInt(lineInArray[2]));\n                }\n\n                URI uri = new URI(url + &quot;?q=&quot; + weather.getCity() + &quot;&amp;units=metric&amp;APPID=&quot; + apiKey);\n                weather.setUri(uri);\n                weathers.add(weather);\n            }\n        } catch (IOException | CsvValidationException | URISyntaxException e) {\n            System.out.println(e.getMessage());\n        }\n        fetchWeatherData();\n    }\n\n    void fetchWeatherData(){\n        RestTemplate restTemplate = restTemplate();\n        weathers.forEach(weather -&gt; {\n            var res = restTemplate.getForEntity(weather.getUri(), Weather.class);\n        });\n    }\n}\n</code></pre>\n<p>I got error:-</p>\n<p>The dependencies of some of the beans in the application context form a cycle:</p>\n<p>Action:</p>\n<p>Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.</p>\n<p>Why is it circular? How do I fix it?</p>\n"},{"tags":["java","xml","spring-boot","jaxb","spring-batch"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1638449241,"post_id":70198950,"comment_id":124094104,"body_markdown":"You asked the exact [same question](https://stackoverflow.com/questions/70093109/last-row-insert-into-database-while-reading-the-xml-file-using-jaxb2-java) on 24th of november. The answer/solution is already in the comments. Asking the same question again (and still trying the same solution you already had), wont change the solution.","body":"You asked the exact <a href=\"https://stackoverflow.com/questions/70093109/last-row-insert-into-database-while-reading-the-xml-file-using-jaxb2-java\">same question</a> on 24th of november. The answer/solution is already in the comments. Asking the same question again (and still trying the same solution you already had), wont change the solution."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638449283,"post_id":70198950,"comment_id":124094127,"body_markdown":"I’m voting to close this question because the exact [same question](https://stackoverflow.com/questions/70093109/last-row-insert-into-database-while-reading-the-xml-file-using-jaxb2-java) was asked on 24th of november.","body":"I’m voting to close this question because the exact <a href=\"https://stackoverflow.com/questions/70093109/last-row-insert-into-database-while-reading-the-xml-file-using-jaxb2-java\">same question</a> was asked on 24th of november."},{"owner":{"account_id":19361223,"reputation":1,"user_id":14156441,"display_name":"Shayan Naveed"},"score":0,"creation_date":1638461210,"post_id":70198950,"comment_id":124099801,"body_markdown":"I have no idea how to solve this issue. I tried a lot. Can you please share some example.","body":"I have no idea how to solve this issue. I tried a lot. Can you please share some example."},{"owner":{"account_id":19361223,"reputation":1,"user_id":14156441,"display_name":"Shayan Naveed"},"score":0,"creation_date":1645389572,"post_id":70198950,"comment_id":125852913,"body_markdown":"Could you please help me by sharing some examples, I am stuck on this issue still","body":"Could you please help me by sharing some examples, I am stuck on this issue still"}],"owner":{"account_id":19361223,"reputation":1,"user_id":14156441,"display_name":"Shayan Naveed"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638445989,"creation_date":1638445989,"question_id":70198950,"body_markdown":"I want to read multiple fragments but while saving them into the database and only the last item is inserted into DB. I attached the Reader, writer, getter setter, and XML file. In the Transaction class, I have the list of items that I want to read.\r\n\r\nReader Code\r\nBelow is the code of the reader. \r\n\r\n    @Bean\r\n    \t@StepScope\r\n    \tpublic StaxEventItemReader&lt;Transaction&gt; reader(@Value(&quot;#{jobParameters[file_path]}&quot;) String filePath) {\r\n    \t\t  StaxEventItemReader&lt;Transaction&gt; reader = new StaxEventItemReader&lt;&gt;();\r\n    \t\t  final FileSystemResource fileResource = new FileSystemResource(filePath);\r\n    \t\t  reader.setResource(fileResource);\r\n    \t\t  reader.setFragmentRootElementName(&quot;Transaction&quot;);\r\n    \t\t  Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n    \t\t  marshaller.setClassesToBeBound(Transaction.class);\r\n    \t\t  reader.setUnmarshaller(marshaller);\r\n    \t\t  return reader;\r\n    \t }\r\n\r\nWriter Code\r\n\r\n    @Bean\r\n    \t public JdbcBatchItemWriter&lt;Transaction&gt; writer() {\r\n    \t\t  JdbcBatchItemWriter&lt;Transaction&gt; writer = new JdbcBatchItemWriter&lt;Transaction&gt;();\r\n    \t\t  writer.setDataSource(dataSource);\r\n    \t\t  writer.setSql(&quot;insert into xml_sales(S_18_DESCRIPTION_GAS_COUPON,S_18_Description_Manufacturers,S_18_Description_Gift_Certificate,S_18_Description_Other_Coupon,S_11_Global_Payments_KIOSK_Merchant_ID,S_20_Global_Payments_Company,S_20_Global_Payments_Address_0,S_20_Global_Payments_Address_1, S_20_Global_Payments_Address_2, S_8_Global_Payments_Store,S_18_Description_Cash_Off,Item_Number,English_Description,French_Description,Department,Department_Description,Total_Without_Tax,Total_With_Tax,Quantity,GST,UPC,PCATS_PRODUCT_CODE,Price,Mix_And_Match_Group_Number,Price_Group,Deposit_Total,Material_Code,Unmodified_Price,Prompt_For_Price,Ticket_Number,Trans_Time_HHMMSS,Trans_Date,Amended_TRN_Date,Amended_TRN_Time) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)&quot;); \t\t  \r\n    \t\t  writer.setItemPreparedStatementSetter(new CompanyDetailsItemPreparedStmSetter());\r\n    \t\t  \r\n    \t\t\treturn writer;\r\n    \t\t}\r\n\r\nGetter Setter Class\r\n\r\n    public class CompanyDetailsItemPreparedStmSetter  implements ItemPreparedStatementSetter&lt;Transaction&gt;{\r\n    \r\n    \t  @Override\r\n    \t  public void setValues(Transaction transaction, PreparedStatement ps) throws SQLException {\r\n    \t   ps.setString(1, transaction.getS_18_Description_Gas_Coupon());\r\n    \t   ps.setString(2, transaction.getS_18_Description_Manufacturers());\r\n    \t   ps.setString(3, transaction.getS_18_Description_Gift_Certificate());\r\n    \t   ps.setString(4, transaction.getS_18_Description_Other_Coupon());\r\n    \t   ps.setString(5, transaction.getS_11_Global_Payments_KIOSK_Merchant_ID());\r\n    \t   ps.setString(6, transaction.getS_20_Global_Payments_Company());\r\n    \t   ps.setString(7, transaction.getS_20_Global_Payments_Address_0());\r\n    \t   ps.setString(8, transaction.getS_20_Global_Payments_Address_1());\r\n    \t   ps.setString(9, transaction.getS_20_Global_Payments_Address_2());\r\n    \t   ps.setString(10, transaction.getS_8_Global_Payments_Store());\r\n    \t   ps.setString(11, transaction.getS_18_Description_Cash_Off());\r\n    \t   \r\n    \t   \r\n    \t   if(transaction.getInventoryItem().size()&gt;0) {\r\n    \t\t   \r\n    \t   for(int i=0; i&lt;transaction.getInventoryItem().size(); i++){\r\n    \t\t\t   \r\n    \t   if(transaction.getInventoryItem().get(i).getItem_Number()!=&quot;&quot; &amp;&amp;\r\n    \t\t\t   transaction.getInventoryItem().get(i).getItem_Number()!=null) {\r\n    \t\t   \r\n    \t   ps.setString(12, transaction.getInventoryItem().get(i).getItem_Number());\r\n    \t   ps.setString(13, transaction.getInventoryItem().get(i).getEnglish_Description());\r\n    \t   ps.setString(14, transaction.getInventoryItem().get(i).getFrench_Description());\r\n    \t   ps.setString(15, transaction.getInventoryItem().get(i).getDepartment());\r\n    \t   ps.setString(16, transaction.getInventoryItem().get(i).getDepartment_Description());\r\n    \t   ps.setString(17, transaction.getInventoryItem().get(i).getTotal_Without_Tax());\r\n    \t   ps.setString(18, transaction.getInventoryItem().get(i).getTotal_With_Tax());\r\n    \t   ps.setString(19, transaction.getInventoryItem().get(i).getQuantity());\r\n    \t   ps.setString(20, transaction.getInventoryItem().get(i).getGST());\r\n    \t   ps.setString(21, transaction.getInventoryItem().get(i).getUPC());\r\n    \t   ps.setString(22, transaction.getInventoryItem().get(i).getPCATS_PRODUCT_CODE());\r\n    \t   ps.setString(23, transaction.getInventoryItem().get(i).getPrice());\r\n    \t   ps.setString(24, transaction.getInventoryItem().get(i).getMix_And_Match_Group_Number());\r\n    \t   ps.setString(25, transaction.getInventoryItem().get(i).getPrice_Group());\r\n    \t   ps.setString(26, transaction.getInventoryItem().get(i).getDeposit_Total());\r\n    \t   ps.setString(27, transaction.getInventoryItem().get(i).getMaterial_Code());\r\n    \t   ps.setString(28, transaction.getInventoryItem().get(i).getUnmodified_Price());\r\n    \t   ps.setString(29, transaction.getInventoryItem().get(i).getPrompt_For_Price());\r\n    \t\t   \r\n    \t   }\r\n    \t  }//inside for loop if      \r\n    \t   \r\n    \t   }//main if\r\n\r\nXML File\r\n\r\n   \r\n\r\n    &lt;XML_FILE&gt;\r\n        &lt;Transaction&gt;\r\n        &lt;S_18_Description_Gas_Coupon&gt;&lt;/S_18_Description_Gas_Coupon&gt;\r\n        &lt;Ticket_Number&gt;&lt;/Ticket_Number&gt;\r\n        &lt;Item&gt;\r\n        &lt;Item_Number&gt;&lt;/Item_Number&gt;\r\n        &lt;English_Description&gt;&lt;/English_Description&gt;\r\n        &lt;French_Description&gt;&lt;/French_Description&gt;\r\n        &lt;Department&gt;&lt;/Department&gt;\r\n        &lt;/Item&gt;\r\n        &lt;Trans_Time_HHMMSS&gt;&lt;/Trans_Time_HHMMSS&gt;\r\n        &lt;Trans_Date&gt;&lt;/Trans_Date&gt;\r\n        &lt;/Transaction&gt;\r\n        &lt;Transaction&gt;\r\n        &lt;S_18_Description_Gas_Coupon&gt;&lt;/S_18_Description_Gas_Coupon&gt;\r\n        &lt;Ticket_Number&gt;&lt;/Ticket_Number&gt;\r\n        &lt;Item&gt;\r\n        &lt;Item_Number&gt;&lt;/Item_Number&gt;\r\n        &lt;English_Description&gt;&lt;/English_Description&gt;\r\n        &lt;French_Description&gt;&lt;/French_Description&gt;\r\n        &lt;Department&gt;&lt;/Department&gt;\r\n        &lt;/Item&gt;\r\n        &lt;Item&gt;\r\n        &lt;Item_Number&gt;&lt;/Item_Number&gt;\r\n        &lt;English_Description&gt;&lt;/English_Description&gt;\r\n        &lt;French_Description&gt;&lt;/French_Description&gt;\r\n        &lt;Department&gt;&lt;/Department&gt;\r\n        &lt;/Item&gt;\r\n        &lt;Trans_Time_HHMMSS&gt;&lt;/Trans_Time_HHMMSS&gt;\r\n        &lt;Trans_Date&gt;&lt;/Trans_Date&gt;\r\n        &lt;/Transaction&gt;\r\n        &lt;Transaction&gt;\r\n        &lt;S_18_Description_Gas_Coupon&gt;&lt;/S_18_Description_Gas_Coupon&gt;\r\n        &lt;Ticket_Number&gt;&lt;/Ticket_Number&gt;\r\n        &lt;Item&gt;\r\n        &lt;Item_Number&gt;&lt;/Item_Number&gt;\r\n        &lt;English_Description&gt;&lt;/English_Description&gt;\r\n        &lt;French_Description&gt;&lt;/French_Description&gt;\r\n        &lt;Department&gt;&lt;/Department&gt;\r\n        &lt;/Item&gt;\r\n        &lt;Item&gt;\r\n        &lt;Item_Number&gt;&lt;/Item_Number&gt;\r\n        &lt;English_Description&gt;&lt;/English_Description&gt;\r\n        &lt;French_Description&gt;&lt;/French_Description&gt;\r\n        &lt;Department&gt;&lt;/Department&gt;\r\n        &lt;/Item&gt;\r\n        &lt;Trans_Time_HHMMSS&gt;&lt;/Trans_Time_HHMMSS&gt;\r\n        &lt;Trans_Date&gt;&lt;/Trans_Date&gt;\r\n        &lt;/Transaction&gt;\r\n    &lt;/XML_FILE&gt;\r\n","title":"How to read XML file multi Fragments Spring batch Java","body":"<p>I want to read multiple fragments but while saving them into the database and only the last item is inserted into DB. I attached the Reader, writer, getter setter, and XML file. In the Transaction class, I have the list of items that I want to read.</p>\n<p>Reader Code\nBelow is the code of the reader.</p>\n<pre><code>@Bean\n    @StepScope\n    public StaxEventItemReader&lt;Transaction&gt; reader(@Value(&quot;#{jobParameters[file_path]}&quot;) String filePath) {\n          StaxEventItemReader&lt;Transaction&gt; reader = new StaxEventItemReader&lt;&gt;();\n          final FileSystemResource fileResource = new FileSystemResource(filePath);\n          reader.setResource(fileResource);\n          reader.setFragmentRootElementName(&quot;Transaction&quot;);\n          Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n          marshaller.setClassesToBeBound(Transaction.class);\n          reader.setUnmarshaller(marshaller);\n          return reader;\n     }\n</code></pre>\n<p>Writer Code</p>\n<pre><code>@Bean\n     public JdbcBatchItemWriter&lt;Transaction&gt; writer() {\n          JdbcBatchItemWriter&lt;Transaction&gt; writer = new JdbcBatchItemWriter&lt;Transaction&gt;();\n          writer.setDataSource(dataSource);\n          writer.setSql(&quot;insert into xml_sales(S_18_DESCRIPTION_GAS_COUPON,S_18_Description_Manufacturers,S_18_Description_Gift_Certificate,S_18_Description_Other_Coupon,S_11_Global_Payments_KIOSK_Merchant_ID,S_20_Global_Payments_Company,S_20_Global_Payments_Address_0,S_20_Global_Payments_Address_1, S_20_Global_Payments_Address_2, S_8_Global_Payments_Store,S_18_Description_Cash_Off,Item_Number,English_Description,French_Description,Department,Department_Description,Total_Without_Tax,Total_With_Tax,Quantity,GST,UPC,PCATS_PRODUCT_CODE,Price,Mix_And_Match_Group_Number,Price_Group,Deposit_Total,Material_Code,Unmodified_Price,Prompt_For_Price,Ticket_Number,Trans_Time_HHMMSS,Trans_Date,Amended_TRN_Date,Amended_TRN_Time) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)&quot;);           \n          writer.setItemPreparedStatementSetter(new CompanyDetailsItemPreparedStmSetter());\n          \n            return writer;\n        }\n</code></pre>\n<p>Getter Setter Class</p>\n<pre><code>public class CompanyDetailsItemPreparedStmSetter  implements ItemPreparedStatementSetter&lt;Transaction&gt;{\n\n      @Override\n      public void setValues(Transaction transaction, PreparedStatement ps) throws SQLException {\n       ps.setString(1, transaction.getS_18_Description_Gas_Coupon());\n       ps.setString(2, transaction.getS_18_Description_Manufacturers());\n       ps.setString(3, transaction.getS_18_Description_Gift_Certificate());\n       ps.setString(4, transaction.getS_18_Description_Other_Coupon());\n       ps.setString(5, transaction.getS_11_Global_Payments_KIOSK_Merchant_ID());\n       ps.setString(6, transaction.getS_20_Global_Payments_Company());\n       ps.setString(7, transaction.getS_20_Global_Payments_Address_0());\n       ps.setString(8, transaction.getS_20_Global_Payments_Address_1());\n       ps.setString(9, transaction.getS_20_Global_Payments_Address_2());\n       ps.setString(10, transaction.getS_8_Global_Payments_Store());\n       ps.setString(11, transaction.getS_18_Description_Cash_Off());\n       \n       \n       if(transaction.getInventoryItem().size()&gt;0) {\n           \n       for(int i=0; i&lt;transaction.getInventoryItem().size(); i++){\n               \n       if(transaction.getInventoryItem().get(i).getItem_Number()!=&quot;&quot; &amp;&amp;\n               transaction.getInventoryItem().get(i).getItem_Number()!=null) {\n           \n       ps.setString(12, transaction.getInventoryItem().get(i).getItem_Number());\n       ps.setString(13, transaction.getInventoryItem().get(i).getEnglish_Description());\n       ps.setString(14, transaction.getInventoryItem().get(i).getFrench_Description());\n       ps.setString(15, transaction.getInventoryItem().get(i).getDepartment());\n       ps.setString(16, transaction.getInventoryItem().get(i).getDepartment_Description());\n       ps.setString(17, transaction.getInventoryItem().get(i).getTotal_Without_Tax());\n       ps.setString(18, transaction.getInventoryItem().get(i).getTotal_With_Tax());\n       ps.setString(19, transaction.getInventoryItem().get(i).getQuantity());\n       ps.setString(20, transaction.getInventoryItem().get(i).getGST());\n       ps.setString(21, transaction.getInventoryItem().get(i).getUPC());\n       ps.setString(22, transaction.getInventoryItem().get(i).getPCATS_PRODUCT_CODE());\n       ps.setString(23, transaction.getInventoryItem().get(i).getPrice());\n       ps.setString(24, transaction.getInventoryItem().get(i).getMix_And_Match_Group_Number());\n       ps.setString(25, transaction.getInventoryItem().get(i).getPrice_Group());\n       ps.setString(26, transaction.getInventoryItem().get(i).getDeposit_Total());\n       ps.setString(27, transaction.getInventoryItem().get(i).getMaterial_Code());\n       ps.setString(28, transaction.getInventoryItem().get(i).getUnmodified_Price());\n       ps.setString(29, transaction.getInventoryItem().get(i).getPrompt_For_Price());\n           \n       }\n      }//inside for loop if      \n       \n       }//main if\n</code></pre>\n<p>XML File</p>\n<pre><code>&lt;XML_FILE&gt;\n    &lt;Transaction&gt;\n    &lt;S_18_Description_Gas_Coupon&gt;&lt;/S_18_Description_Gas_Coupon&gt;\n    &lt;Ticket_Number&gt;&lt;/Ticket_Number&gt;\n    &lt;Item&gt;\n    &lt;Item_Number&gt;&lt;/Item_Number&gt;\n    &lt;English_Description&gt;&lt;/English_Description&gt;\n    &lt;French_Description&gt;&lt;/French_Description&gt;\n    &lt;Department&gt;&lt;/Department&gt;\n    &lt;/Item&gt;\n    &lt;Trans_Time_HHMMSS&gt;&lt;/Trans_Time_HHMMSS&gt;\n    &lt;Trans_Date&gt;&lt;/Trans_Date&gt;\n    &lt;/Transaction&gt;\n    &lt;Transaction&gt;\n    &lt;S_18_Description_Gas_Coupon&gt;&lt;/S_18_Description_Gas_Coupon&gt;\n    &lt;Ticket_Number&gt;&lt;/Ticket_Number&gt;\n    &lt;Item&gt;\n    &lt;Item_Number&gt;&lt;/Item_Number&gt;\n    &lt;English_Description&gt;&lt;/English_Description&gt;\n    &lt;French_Description&gt;&lt;/French_Description&gt;\n    &lt;Department&gt;&lt;/Department&gt;\n    &lt;/Item&gt;\n    &lt;Item&gt;\n    &lt;Item_Number&gt;&lt;/Item_Number&gt;\n    &lt;English_Description&gt;&lt;/English_Description&gt;\n    &lt;French_Description&gt;&lt;/French_Description&gt;\n    &lt;Department&gt;&lt;/Department&gt;\n    &lt;/Item&gt;\n    &lt;Trans_Time_HHMMSS&gt;&lt;/Trans_Time_HHMMSS&gt;\n    &lt;Trans_Date&gt;&lt;/Trans_Date&gt;\n    &lt;/Transaction&gt;\n    &lt;Transaction&gt;\n    &lt;S_18_Description_Gas_Coupon&gt;&lt;/S_18_Description_Gas_Coupon&gt;\n    &lt;Ticket_Number&gt;&lt;/Ticket_Number&gt;\n    &lt;Item&gt;\n    &lt;Item_Number&gt;&lt;/Item_Number&gt;\n    &lt;English_Description&gt;&lt;/English_Description&gt;\n    &lt;French_Description&gt;&lt;/French_Description&gt;\n    &lt;Department&gt;&lt;/Department&gt;\n    &lt;/Item&gt;\n    &lt;Item&gt;\n    &lt;Item_Number&gt;&lt;/Item_Number&gt;\n    &lt;English_Description&gt;&lt;/English_Description&gt;\n    &lt;French_Description&gt;&lt;/French_Description&gt;\n    &lt;Department&gt;&lt;/Department&gt;\n    &lt;/Item&gt;\n    &lt;Trans_Time_HHMMSS&gt;&lt;/Trans_Time_HHMMSS&gt;\n    &lt;Trans_Date&gt;&lt;/Trans_Date&gt;\n    &lt;/Transaction&gt;\n&lt;/XML_FILE&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","frameworks"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1638387513,"post_id":70190268,"comment_id":124077592,"body_markdown":"I recommend reading Uncle Bob&#39;s book &quot;The Clean Code&quot;. --- No matter how severe the mistake, we should not yell at each other. I would suggest to look for an open dialogue. It is never a bad thing to a) admit that we do not understand something and b) ask for an explanation when we do not understand something.","body":"I recommend reading Uncle Bob&#39;s book &quot;The Clean Code&quot;. --- No matter how severe the mistake, we should not yell at each other. I would suggest to look for an open dialogue. It is never a bad thing to a) admit that we do not understand something and b) ask for an explanation when we do not understand something."},{"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"score":1,"creation_date":1638387644,"post_id":70190268,"comment_id":124077652,"body_markdown":"and reading his &quot;Clean Coder&quot; after it :) Seriously, reading these two books is enlightening :)","body":"and reading his &quot;Clean Coder&quot; after it :) Seriously, reading these two books is enlightening :)"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":4,"creation_date":1638387913,"post_id":70190268,"comment_id":124077757,"body_markdown":"@late1 Well... stand your ground. State clearly that you are hired as a junior developer. Policy at our company (and I think in most others) is that juniors need support and guidance. But be prepared to be laid off in case your employer is not willing to invest the necessary time. But then again... Is this really an emplyoer you want to continue working for? Those are question that only you can answer (and please do not answer here - answer them to yourself and act accordingly).","body":"@late1 Well... stand your ground. State clearly that you are hired as a junior developer. Policy at our company (and I think in most others) is that juniors need support and guidance. But be prepared to be laid off in case your employer is not willing to invest the necessary time. But then again... Is this really an emplyoer you want to continue working for? Those are question that only you can answer (and please do not answer here - answer them to yourself and act accordingly)."},{"owner":{"display_name":"user17432086"},"score":0,"creation_date":1638388166,"post_id":70190268,"comment_id":124077855,"body_markdown":"@Turing85 guess I&#39;ll have to read that book for now  and then do some changes :)","body":"@Turing85 guess I&#39;ll have to read that book for now  and then do some changes :)"},{"owner":{"account_id":80360,"reputation":5251,"user_id":227294,"display_name":"Andreas"},"score":1,"creation_date":1638390795,"post_id":70190268,"comment_id":124078755,"body_markdown":"I guess you annotated private fields with `@Autowired`. The obvious reason that one should not do this is, that the class is now not testable without using odd hacks. The consumer of the class can&#39;t see that this class depends on other things etc. Oliver Drotbohm (the author of Spring Data) wrote a long time ago about the issues related to field injection http://odrotbohm.de/2013/11/why-field-injection-is-evil/","body":"I guess you annotated private fields with <code>@Autowired</code>. The obvious reason that one should not do this is, that the class is now not testable without using odd hacks. The consumer of the class can&#39;t see that this class depends on other things etc. Oliver Drotbohm (the author of Spring Data) wrote a long time ago about the issues related to field injection <a href=\"http://odrotbohm.de/2013/11/why-field-injection-is-evil/\" rel=\"nofollow noreferrer\">odrotbohm.de/2013/11/why-field-injection-is-evil</a>"},{"owner":{"display_name":"user17432086"},"score":0,"creation_date":1638391442,"post_id":70190268,"comment_id":124078991,"body_markdown":"@Andreas I didn&#39;t do that, however I encountered private Autowired classes the hard way, the IDE checked some classes as not used so I removed them (on my testing machine, not in production) and I was surprised to see that they were used somewhere, but they were private.","body":"@Andreas I didn&#39;t do that, however I encountered private Autowired classes the hard way, the IDE checked some classes as not used so I removed them (on my testing machine, not in production) and I was surprised to see that they were used somewhere, but they were private."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638387841,"creation_date":1638387841,"answer_id":70190358,"question_id":70190268,"body_markdown":"Usually, the reasoning behind that way of thinking is that it would be easier to one fine day swap the Framework you use today to some other with the minimum required effort. You might argue that this isn&#39;t something very common or that you do very often, but still, even if the reason does not convince you it is generally a good practice to try to decouple your code as much as possible from the underlying Framework for multiple reasons (in addition to the one just mentioned you also have unit testing made easier).\r\n\r\nIn regards to the `@Autowired` topic, constructor injection is usually preferred for two main reasons:\r\n\r\n 1. You clearly define the dependencies for your class to work properly;\r\n 2. It is easier to unit test it because mocking its dependencies is way easier if you can &quot;inject&quot; them via the constructor.","title":"Why is using the framework&#39;s features considered wrong","body":"<p>Usually, the reasoning behind that way of thinking is that it would be easier to one fine day swap the Framework you use today to some other with the minimum required effort. You might argue that this isn't something very common or that you do very often, but still, even if the reason does not convince you it is generally a good practice to try to decouple your code as much as possible from the underlying Framework for multiple reasons (in addition to the one just mentioned you also have unit testing made easier).</p>\n<p>In regards to the <code>@Autowired</code> topic, constructor injection is usually preferred for two main reasons:</p>\n<ol>\n<li>You clearly define the dependencies for your class to work properly;</li>\n<li>It is easier to unit test it because mocking its dependencies is way easier if you can &quot;inject&quot; them via the constructor.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638445929,"creation_date":1638415501,"answer_id":70193853,"question_id":70190268,"body_markdown":"Please do not get confused between two different concepts: &quot;conding standards for particular project&quot; and &quot;best practices&quot; - if you are a junior developer you just need to accept conding standards, if you are a team lead you should carefully evaluate whether the &quot;best practices&quot; are actually best. Spring Framework is not only DI-framework but it also provides a lot of other useful capabilities (externalized configs, post-processors, AOP, transaction management, converters, etc - a lot of them), if your team decided to not get coupled with Spring Framework it means they are missing a lot of features (or need to implement those features from scratch) for the sake of hypothetical possibility to switch DI-framework in the future.\r\n\r\nAs regards to the evilness of &quot;field injection&quot;, the problem is evangelists of &quot;constructor injection&quot; completely leave out the fact that there are a lot of cases where it does not work at all, for example consider the following code:\r\n\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\nclass A {\r\n  private final B b;\r\n}\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\nclass B {\r\n  private final A a;\r\n}\r\n```\r\n\r\nDI-framework will fail to bootstrap those beans due to circular dependencies, and you have the following options to make it work:\r\n- do not use constructor injection\r\n- put &quot;somewhere&quot; @Lazy annotation (or create your own proxy in order to stay clear of Spring). Where to put it? Actually in both classes, because the behaviour depends on the root of dependency resolution: if we start with `A` then `B` needs to be @Lazy and vice versa. But the problem is this workaround just moves the issue from bootstrap phase to runtime\r\n- accept that you code smells and refactor it, but always keep in mind that bootstrap phase may fail any time, i.e. do the job that DI-framework is supposed to do","title":"Why is using the framework&#39;s features considered wrong","body":"<p>Please do not get confused between two different concepts: &quot;conding standards for particular project&quot; and &quot;best practices&quot; - if you are a junior developer you just need to accept conding standards, if you are a team lead you should carefully evaluate whether the &quot;best practices&quot; are actually best. Spring Framework is not only DI-framework but it also provides a lot of other useful capabilities (externalized configs, post-processors, AOP, transaction management, converters, etc - a lot of them), if your team decided to not get coupled with Spring Framework it means they are missing a lot of features (or need to implement those features from scratch) for the sake of hypothetical possibility to switch DI-framework in the future.</p>\n<p>As regards to the evilness of &quot;field injection&quot;, the problem is evangelists of &quot;constructor injection&quot; completely leave out the fact that there are a lot of cases where it does not work at all, for example consider the following code:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\nclass A {\n  private final B b;\n}\n\n@Component\n@RequiredArgsConstructor\nclass B {\n  private final A a;\n}\n</code></pre>\n<p>DI-framework will fail to bootstrap those beans due to circular dependencies, and you have the following options to make it work:</p>\n<ul>\n<li>do not use constructor injection</li>\n<li>put &quot;somewhere&quot; @Lazy annotation (or create your own proxy in order to stay clear of Spring). Where to put it? Actually in both classes, because the behaviour depends on the root of dependency resolution: if we start with <code>A</code> then <code>B</code> needs to be @Lazy and vice versa. But the problem is this workaround just moves the issue from bootstrap phase to runtime</li>\n<li>accept that you code smells and refactor it, but always keep in mind that bootstrap phase may fail any time, i.e. do the job that DI-framework is supposed to do</li>\n</ul>\n"}],"owner":{"display_name":"user17432086"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70190358,"answer_count":2,"score":3,"last_activity_date":1638445929,"creation_date":1638387409,"question_id":70190268,"body_markdown":"I joined a company as a junior developer and I get assigned to do maintenance and fixes to various applications.\r\n\r\nIn every project that I had to work in a team I always heard complains about my code being too &quot;framework coupled&quot; and that I should write the code using plain Java rather than using the Spring Framework&#39;s features (heck, I even got yelled at for using @Autowired rather than Constructor Injection)\r\n\r\nI am really frustrated by this thing and I want to know if I am in the wrong. Aren&#39;t the framework&#39;s features the main reason a programmer is going to use that framework?","title":"Why is using the framework&#39;s features considered wrong","body":"<p>I joined a company as a junior developer and I get assigned to do maintenance and fixes to various applications.</p>\n<p>In every project that I had to work in a team I always heard complains about my code being too &quot;framework coupled&quot; and that I should write the code using plain Java rather than using the Spring Framework's features (heck, I even got yelled at for using @Autowired rather than Constructor Injection)</p>\n<p>I am really frustrated by this thing and I want to know if I am in the wrong. Aren't the framework's features the main reason a programmer is going to use that framework?</p>\n"},{"tags":["java","azure","pipeline"],"comments":[{"owner":{"account_id":19529540,"reputation":3833,"user_id":14289654,"display_name":"WaitingForGuacamole"},"score":0,"creation_date":1638452671,"post_id":70198917,"comment_id":124095578,"body_markdown":"I&#39;m betting that it&#39;s just not installed in that location on the VM running the Azure Pipelines Agent. Is the agent on a VM of yours, or is it Microsoft-hosted?","body":"I&#39;m betting that it&#39;s just not installed in that location on the VM running the Azure Pipelines Agent. Is the agent on a VM of yours, or is it Microsoft-hosted?"},{"owner":{"account_id":23524208,"reputation":1,"user_id":17570959,"display_name":"Ravish Joggessur"},"score":0,"creation_date":1638510600,"post_id":70198917,"comment_id":124112855,"body_markdown":"The agent is Microsoft hosted. Is there any way to tackle this issue please?","body":"The agent is Microsoft hosted. Is there any way to tackle this issue please?"}],"owner":{"account_id":23524208,"reputation":1,"user_id":17570959,"display_name":"Ravish Joggessur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638445817,"creation_date":1638445817,"question_id":70198917,"body_markdown":"I am trying to build a Pipeline job in Azure DevOps. However, the build failed for the following reasons: \r\nFailed tests:   runCukes(cucumbertest.TestRunner_web): java.lang.IllegalStateException: The driver executable does not exist: C:\\chromedriver.exe\r\n\r\nThe test is running successfully in my local machine. But it is not running in Azure DevOps due to the above error.\r\nPlease let me know how to fix that\r\n","title":"Azure DevOps Pipeline build failure","body":"<p>I am trying to build a Pipeline job in Azure DevOps. However, the build failed for the following reasons:\nFailed tests:   runCukes(cucumbertest.TestRunner_web): java.lang.IllegalStateException: The driver executable does not exist: C:\\chromedriver.exe</p>\n<p>The test is running successfully in my local machine. But it is not running in Azure DevOps due to the above error.\nPlease let me know how to fix that</p>\n"},{"tags":["java","json","object","enums","timezone"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1638436019,"post_id":70196491,"comment_id":124088917,"body_markdown":"Put a list of lists? Or probably better, design your own class of objects holding the two lists.","body":"Put a list of lists? Or probably better, design your own class of objects holding the two lists."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1638436156,"post_id":70196491,"comment_id":124088962,"body_markdown":"I cannot change `final Map&lt;String, Object&gt; enums = new HashMap&lt;&gt;();`. So, how can I solve the problem without changing this?","body":"I cannot change <code>final Map&lt;String, Object&gt; enums = new HashMap&lt;&gt;();</code>. So, how can I solve the problem without changing this?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1638437060,"post_id":70196491,"comment_id":124089300,"body_markdown":"Just like that. Your custom object holding the two lists will be a subclass of `Object`, so just like you can put a list into your map, you can also put your custom object.","body":"Just like that. Your custom object holding the two lists will be a subclass of <code>Object</code>, so just like you can put a list into your map, you can also put your custom object."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638445653,"creation_date":1638445086,"answer_id":70198745,"question_id":70196491,"body_markdown":"The following options are possible:\r\n* `&quot;ZoneIds&quot;` is a list of lists, with `name` and `value` properly ordered by index\r\n```json\r\n{&quot;ZoneIds&quot;: [[&quot;name1&quot;, &quot;value1&quot;], [&quot;nameN&quot;, &quot;valueN&quot;]]}\r\n```\r\nThen names/values are joined like this assuming that the sizes of lists returned by `gmtNames()` and `gmtValues()` are equal:\r\n```java\r\nList&lt;String&gt; names = gmtNames();\r\nList&lt;String&gt; values = gmtValues();\r\nList&lt;List&lt;String&gt;&gt; nameValueList = IntStream.range(0, Math.min(names.size(), values.size()))\r\n    .mapToObj(i -&gt; Arrays.asList(names.get(i), values.get(i)))\r\n    .collect(Collectors.toList());\r\nenums.put(&quot;ZoneIds&quot;, nameValueList);\r\n```\r\n----\r\n* `&quot;ZoneIds&quot;` is a list of maps:\r\n```json\r\n{&quot;ZoneIds&quot;: [{&quot;name&quot;:&quot;name1&quot;, &quot;value&quot;:&quot;value1&quot;}, {&quot;name&quot;:&quot;nameN&quot;, &quot;value&quot;:&quot;valueN&quot;}]}\r\n```\r\n```java\r\nList&lt;Map&lt;String, String&gt;&gt; listMaps = IntStream.range(0, Math.min(names.size(), values.size()))\r\n    .mapToObj(i -&gt; Map.of(&quot;name&quot;, names.get(i), &quot;value&quot;, values.get(i)))\r\n    .collect(Collectors.toList());\r\nenums.put(&quot;ZoneIds&quot;, listMaps);\r\n```\r\n----\r\n* Simple map, with key taken from `gmtNames()` list:\r\n```json\r\n{&quot;ZoneIds&quot;: {&quot;name1&quot;:&quot;value1&quot;, &quot;nameN&quot;:&quot;valueN&quot;}}\r\n```\r\n```java\r\nMap&lt;String, String&gt; nameValueMap = IntStream.range(0, Math.min(names.size(), values.size()))\r\n    .boxed()\r\n    .collect(Collectors.toMap(\r\n        names::get,    // key from names list\r\n        values::get,   // value from values list\r\n        (v1, v2) -&gt; v1, // merge function in case of conflicts\r\n        LinkedHashMap::new // keep insertion order\r\n    ));\r\nenums.put(&quot;ZoneIds&quot;, nameValueMap);\r\n\r\n```\r\n","title":"Add multiple elements to Object in Java","body":"<p>The following options are possible:</p>\n<ul>\n<li><code>&quot;ZoneIds&quot;</code> is a list of lists, with <code>name</code> and <code>value</code> properly ordered by index</li>\n</ul>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;ZoneIds&quot;: [[&quot;name1&quot;, &quot;value1&quot;], [&quot;nameN&quot;, &quot;valueN&quot;]]}\n</code></pre>\n<p>Then names/values are joined like this assuming that the sizes of lists returned by <code>gmtNames()</code> and <code>gmtValues()</code> are equal:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; names = gmtNames();\nList&lt;String&gt; values = gmtValues();\nList&lt;List&lt;String&gt;&gt; nameValueList = IntStream.range(0, Math.min(names.size(), values.size()))\n    .mapToObj(i -&gt; Arrays.asList(names.get(i), values.get(i)))\n    .collect(Collectors.toList());\nenums.put(&quot;ZoneIds&quot;, nameValueList);\n</code></pre>\n<hr />\n<ul>\n<li><code>&quot;ZoneIds&quot;</code> is a list of maps:</li>\n</ul>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;ZoneIds&quot;: [{&quot;name&quot;:&quot;name1&quot;, &quot;value&quot;:&quot;value1&quot;}, {&quot;name&quot;:&quot;nameN&quot;, &quot;value&quot;:&quot;valueN&quot;}]}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Map&lt;String, String&gt;&gt; listMaps = IntStream.range(0, Math.min(names.size(), values.size()))\n    .mapToObj(i -&gt; Map.of(&quot;name&quot;, names.get(i), &quot;value&quot;, values.get(i)))\n    .collect(Collectors.toList());\nenums.put(&quot;ZoneIds&quot;, listMaps);\n</code></pre>\n<hr />\n<ul>\n<li>Simple map, with key taken from <code>gmtNames()</code> list:</li>\n</ul>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;ZoneIds&quot;: {&quot;name1&quot;:&quot;value1&quot;, &quot;nameN&quot;:&quot;valueN&quot;}}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; nameValueMap = IntStream.range(0, Math.min(names.size(), values.size()))\n    .boxed()\n    .collect(Collectors.toMap(\n        names::get,    // key from names list\n        values::get,   // value from values list\n        (v1, v2) -&gt; v1, // merge function in case of conflicts\n        LinkedHashMap::new // keep insertion order\n    ));\nenums.put(&quot;ZoneIds&quot;, nameValueMap);\n\n</code></pre>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70198745,"answer_count":1,"score":-1,"last_activity_date":1638445653,"creation_date":1638435176,"question_id":70196491,"body_markdown":"I use the following map for enums and add an `enum` as shown below:\r\n\r\n```\r\nfinal Map&lt;String, Object&gt; enums = new HashMap&lt;&gt;();\r\n\r\nenums.put(&quot;ZoneIds&quot;, gmtValues());\r\n```\r\n\r\nThe `ZoneIds` enum has a `List&lt;String&gt;` returned from this method:\r\n\r\n```\r\nprivate static List&lt;String&gt; gmtValues() {\r\n        return  ... // code omitted for brevity\r\n    }\r\n\r\n\r\nprivate static List&lt;String&gt; gmtNames() {\r\n        return  ... // code omitted for brevity\r\n    }\r\n```\r\n\r\nHowever, I want to pass another list in the same Object and then retrieve these 2 passed values in the frontend as `ZoneIds.value` and `ZoneIds.name`. So, how can I do this?","title":"Add multiple elements to Object in Java","body":"<p>I use the following map for enums and add an <code>enum</code> as shown below:</p>\n<pre><code>final Map&lt;String, Object&gt; enums = new HashMap&lt;&gt;();\n\nenums.put(&quot;ZoneIds&quot;, gmtValues());\n</code></pre>\n<p>The <code>ZoneIds</code> enum has a <code>List&lt;String&gt;</code> returned from this method:</p>\n<pre><code>private static List&lt;String&gt; gmtValues() {\n        return  ... // code omitted for brevity\n    }\n\n\nprivate static List&lt;String&gt; gmtNames() {\n        return  ... // code omitted for brevity\n    }\n</code></pre>\n<p>However, I want to pass another list in the same Object and then retrieve these 2 passed values in the frontend as <code>ZoneIds.value</code> and <code>ZoneIds.name</code>. So, how can I do this?</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":872407,"reputation":1970,"user_id":922954,"accept_rate":100,"display_name":"aishwarya"},"score":0,"creation_date":1322547306,"post_id":8306593,"comment_id":10235647,"body_markdown":"if you don&#39;t know what tags can exist in the input string, reflection would be the only way AFAIK.","body":"if you don&#39;t know what tags can exist in the input string, reflection would be the only way AFAIK."},{"owner":{"account_id":463465,"reputation":4099,"user_id":866390,"accept_rate":51,"display_name":"Joe Almore"},"score":0,"creation_date":1322552220,"post_id":8306593,"comment_id":10236547,"body_markdown":"Yes @aishwarya, the entity can contain any kind of data so reflection is the only way, thanks.","body":"Yes @aishwarya, the entity can contain any kind of data so reflection is the only way, thanks."},{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1435239073,"post_id":8306593,"comment_id":50124640,"body_markdown":"Dup of http://stackoverflow.com/questions/6796187/java-introspection-object-to-map","body":"Dup of <a href=\"http://stackoverflow.com/questions/6796187/java-introspection-object-to-map\" title=\"java introspection object to map\">stackoverflow.com/questions/6796187/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":963389,"reputation":11798,"user_id":987244,"accept_rate":75,"display_name":"shift66"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1322547757,"creation_date":1322547301,"answer_id":8306676,"question_id":8306593,"body_markdown":"    \tField[] fields = entity.getClass().getFields();\r\n\t\tMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n\t\tfor(Field f : fields)\r\n\t\t\t\tmap.put(f.getName(),(String) f.get(entity));\r\n\r\nO, and your entity should be an object of your class, not your class itself.\r\nIf your fields are private and you have getters for them, you should use getMethods() and check if method name starts with &quot;get&quot; prefix.Like this:\r\n\r\n    \tMethod[] methods = entity.getClass().getMethods();\r\n\t\tMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n\t\tfor(Method m : methods)\r\n\t\t{\r\n\t\t\tif(m.getName().startsWith(&quot;get&quot;))\r\n\t\t\t{\r\n\t\t\t\tString value = (String) m.invoke(entity);\r\n\t\t\t\tmap.put(m.getName().substring(3), value);\r\n\t\t\t}\r\n\t\t}","title":"java reflection to create field/value hashmap","body":"<pre><code>    Field[] fields = entity.getClass().getFields();\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n    for(Field f : fields)\n            map.put(f.getName(),(String) f.get(entity));\n</code></pre>\n\n<p>O, and your entity should be an object of your class, not your class itself.\nIf your fields are private and you have getters for them, you should use getMethods() and check if method name starts with \"get\" prefix.Like this:</p>\n\n<pre><code>    Method[] methods = entity.getClass().getMethods();\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n    for(Method m : methods)\n    {\n        if(m.getName().startsWith(\"get\"))\n        {\n            String value = (String) m.invoke(entity);\n            map.put(m.getName().substring(3), value);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":291800,"reputation":15905,"user_id":594183,"display_name":"esaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1322547362,"creation_date":1322547362,"answer_id":8306688,"question_id":8306593,"body_markdown":"&gt; I know I could use reflection and this is the only approach I have\r\n&gt; found to get this done, but is there any other way to accomplish the\r\n&gt; same?\r\n\r\nAs far as I know, reflection is the only way to accomplish this, unless the class(es) you want to build the map from implement some interface, and your code extracting the map is aware of this interface.","title":"java reflection to create field/value hashmap","body":"<blockquote>\n  <p>I know I could use reflection and this is the only approach I have\n  found to get this done, but is there any other way to accomplish the\n  same?</p>\n</blockquote>\n\n<p>As far as I know, reflection is the only way to accomplish this, unless the class(es) you want to build the map from implement some interface, and your code extracting the map is aware of this interface.</p>\n"},{"tags":[],"owner":{"account_id":5356259,"reputation":191,"user_id":4268839,"display_name":"Tao Zhang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549667288,"creation_date":1549667288,"answer_id":54601451,"question_id":8306593,"body_markdown":"If all you want to get out of this is a map, why not use a literary like Jackson, then you can simply convert it like this \r\n`Map map = new ObjectMapper().convertValue(object, Map.class);`","title":"java reflection to create field/value hashmap","body":"<p>If all you want to get out of this is a map, why not use a literary like Jackson, then you can simply convert it like this \n<code>Map map = new ObjectMapper().convertValue(object, Map.class);</code></p>\n"}],"owner":{"account_id":463465,"reputation":4099,"user_id":866390,"accept_rate":51,"display_name":"Joe Almore"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31257,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":8306676,"answer_count":3,"score":11,"last_activity_date":1638445585,"creation_date":1322546760,"question_id":8306593,"body_markdown":"I need to create a Hashmap of field/values contained in an Entity, so I can can use them to replace them in a String containing tags with the field names.\r\n\r\nI have this code:\r\n\r\n    public static String replaceTags(String message, Map&lt;String, String&gt; tags) ...\r\n\r\nWhich replaces all tags found in **message** for the equivalent values in **tags**, but in order to build the **Map table** I need to take &quot;any&quot; Entity and be able to create a Map&lt;String, String&gt; from the Entity. So, how could I make that possible? to get a routine where I send the Entity and get as return a Map&lt;String, String&gt; with all the fields and values.\r\n\r\n    public static Map&lt;String, String&gt; getMapFromEntity(Object entity){\r\n        Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n\r\n        ...?????\r\n\r\n        return map;\r\n    }\r\n\r\nI know I could use reflection and this is the only approach I have found to get this done, but is there any other way to accomplish the same?, I mean a more efficient way.\r\n\r\nThanks.","title":"java reflection to create field/value hashmap","body":"<p>I need to create a Hashmap of field/values contained in an Entity, so I can can use them to replace them in a String containing tags with the field names.</p>\n\n<p>I have this code:</p>\n\n<pre><code>public static String replaceTags(String message, Map&lt;String, String&gt; tags) ...\n</code></pre>\n\n<p>Which replaces all tags found in <strong>message</strong> for the equivalent values in <strong>tags</strong>, but in order to build the <strong>Map table</strong> I need to take \"any\" Entity and be able to create a Map from the Entity. So, how could I make that possible? to get a routine where I send the Entity and get as return a Map with all the fields and values.</p>\n\n<pre><code>public static Map&lt;String, String&gt; getMapFromEntity(Object entity){\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n\n    ...?????\n\n    return map;\n}\n</code></pre>\n\n<p>I know I could use reflection and this is the only approach I have found to get this done, but is there any other way to accomplish the same?, I mean a more efficient way.</p>\n\n<p>Thanks.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8195,"page":1797,"page_size":100}
