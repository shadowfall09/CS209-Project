{"items":[{"tags":["java","multithreading","synchronization","swingworker"],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647027243,"creation_date":1646935388,"answer_id":71428779,"question_id":71428736,"body_markdown":"If you know how many workers you&#39;re kicking off, you can use a CountdownLatch. If you don&#39;t know how many works are being kicked off, you can use a Phaser.\r\n\r\nExample:\r\n\r\n    //using a button as a basic UI component to do work.\r\n\tJButton button = new JButton(new AbstractAction() {\r\n\t\t\t\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tRunnable control = new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\t//assuming we know we&#39;re going to do 20 bits of isolated work.\r\n\t\t\t\t\tfinal CountDownLatch latch = new CountDownLatch(20);\r\n\t\t\t\t\tfor (int i = 0; i &lt; 20; i++) {\r\n\t\t\t\t\t\tSwingWorker&lt;Void, Void&gt; worker = new SwingWorker&lt;Void, Void&gt;() {\r\n\t\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\t\tpublic Void doInBackground() {\r\n\t\t\t\t\t\t\t\t//do your work\r\n                                return null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\t\tpublic void done() {\r\n\t\t\t\t\t\t\t\tlatch.countDown();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n                        worker.run()\r\n\t\t\t\t\t}\r\n                    try {\r\n                       latch.await();\r\n                    } catch (Exception e) {\r\n                       e.printStackTrace();\r\n                    }\r\n\t\t\t\t\t//so your next bit of work.\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tSwingUtilities.invokeLater(control);\r\n\t\t}\r\n\t});","title":"How to signal that multiple SwingWorkers are all done?","body":"<p>If you know how many workers you're kicking off, you can use a CountdownLatch. If you don't know how many works are being kicked off, you can use a Phaser.</p>\n<p>Example:</p>\n<pre><code>//using a button as a basic UI component to do work.\nJButton button = new JButton(new AbstractAction() {\n        \n    @Override\n    public void actionPerformed(ActionEvent e) {\n        Runnable control = new Runnable() {\n            @Override\n            public void run() {\n                //assuming we know we're going to do 20 bits of isolated work.\n                final CountDownLatch latch = new CountDownLatch(20);\n                for (int i = 0; i &lt; 20; i++) {\n                    SwingWorker&lt;Void, Void&gt; worker = new SwingWorker&lt;Void, Void&gt;() {\n                        @Override\n                        public Void doInBackground() {\n                            //do your work\n                            return null;\n                        }\n                            \n                        @Override\n                        public void done() {\n                            latch.countDown();\n                        }\n                    };\n                    worker.run()\n                }\n                try {\n                   latch.await();\n                } catch (Exception e) {\n                   e.printStackTrace();\n                }\n                //so your next bit of work.\n            }\n        };\n        SwingUtilities.invokeLater(control);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":9623490,"reputation":171,"user_id":7377320,"accept_rate":50,"display_name":"M. H."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71428779,"answer_count":1,"score":0,"last_activity_date":1647027243,"creation_date":1646935088,"question_id":71428736,"body_markdown":"I have the following issue, or want to do, that I have n running SwingWorkers, the number can vary between 1 and 10. I start them from a main thread, and create them in n numbers, then let them run. After all n SwingWorkers are done, I want to do another task, which basically uses information, the SwingWorkers processed and join them all in the main thread to do something with it. But for this task to begin, all n SwingWorkers need to be finished/done and all n SwingWorkers need to be finished successfully.\r\n\r\nWhat would be the best way to do this? Is there a mechanism in Java already, which does something like this, like a ThreadManager, where you can put multiple SwingWorkers into, and then it fires a doneAll() or something like that to the main thread?\r\n\r\nThe main thread does other things in the meantime, and cant just wait for the n SwingWorkers to finish. I need an &quot;all done&quot; fire event somehow.\r\n\r\nI though of creating another thread in the main thread, which runs a while loop (untillAllSWFfinished), with a wait 500ms in the loop to check, but that seems a bit dirty to  me.\r\n\r\nIs there a more elegant way to achieve this?","title":"How to signal that multiple SwingWorkers are all done?","body":"<p>I have the following issue, or want to do, that I have n running SwingWorkers, the number can vary between 1 and 10. I start them from a main thread, and create them in n numbers, then let them run. After all n SwingWorkers are done, I want to do another task, which basically uses information, the SwingWorkers processed and join them all in the main thread to do something with it. But for this task to begin, all n SwingWorkers need to be finished/done and all n SwingWorkers need to be finished successfully.</p>\n<p>What would be the best way to do this? Is there a mechanism in Java already, which does something like this, like a ThreadManager, where you can put multiple SwingWorkers into, and then it fires a doneAll() or something like that to the main thread?</p>\n<p>The main thread does other things in the meantime, and cant just wait for the n SwingWorkers to finish. I need an &quot;all done&quot; fire event somehow.</p>\n<p>I though of creating another thread in the main thread, which runs a while loop (untillAllSWFfinished), with a wait 500ms in the loop to check, but that seems a bit dirty to  me.</p>\n<p>Is there a more elegant way to achieve this?</p>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1647023748,"post_id":71443096,"comment_id":126277356,"body_markdown":"By “main thread”, do you meant the event dispatching thread for a GUI? And if so, what GUI framework?","body":"By “main thread”, do you meant the event dispatching thread for a GUI? And if so, what GUI framework?"},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1647026121,"post_id":71443096,"comment_id":126278041,"body_markdown":"There a number of ways to do what you want.  You could set up a utility class with some static methods (or a singleton) the timer task could call.  Those methods could then be used to do the notification.","body":"There a number of ways to do what you want.  You could set up a utility class with some static methods (or a singleton) the timer task could call.  Those methods could then be used to do the notification."}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1647027134,"creation_date":1647026161,"answer_id":71443628,"question_id":71443096,"body_markdown":"I would have the class that handles the timers for the peers take a concurrent queue and place a message in the queue when the peer goes offline. Then the &quot;main&quot; thread can poll the queue(s) in an event-driven way, receiving and processing the messages.\r\n\r\nPlease note that this &quot;main&quot; thread MUST NOT be the event dispatch thread of a GUI framework. If there is something that needs to be updated in the GUI when the main thread receives the message, it can invoke another piece of code on the event dispatch thread upon reception of the message.\r\n\r\nTwo good choices for the queue would be `ConcurrentLinkedQueue` if the queue should be unbounded (the timer threads can put any number of messages in the queue before the main thread picks them up), or `LinkedBlockingQueue` if there should be a limit on the size of the queue, and if it gets too large, the timer threads have to wait before they can put another message on it (this is called backpressure, and can be important in distributed, concurrent systems, but may not be relevant in your case).\r\n\r\nThe idea here is to implement a version of the Actor Model (q.v.), in which nothing is shared between threads (actors), and any data that needs to be sent (which should be immutable) is passed between them. Each actor has an inbox in which it can receive messages and it acts upon them. Only, your timer threads probably don&#39;t need inboxes, if they take all their data as parameters to the constructor and don&#39;t need to receive any messages from the main thread after they&#39;re started.\r\n\r\n    public record PeerDownMessage(String peerName, int errorCode) {\r\n    }\r\n    \r\n    public class PeerWatcher {\r\n        private final Peer peer;\r\n        private final BlockingQueue&lt;PeerDownMessage&gt; queue;\r\n\r\n        public PeerWatcher(Peer peer, BlockingQueue&lt;PeerDownMessage&gt; queue) {\r\n            this.peer = Objects.requireNonNull(peer);\r\n            this.queue = Objects.requireNonNull(queue);\r\n        }\r\n\r\n        public void startTimer() {\r\n            // . . .\r\n                // time to send failure message\r\n                queue.put(new PeerDownMessage(peer.getName(), error));            \r\n            // . . .\r\n        }\r\n    }\r\n\r\n    public class Main {\r\n        public void eventLoop(List&lt;Peer&gt; peers) {\r\n            LinkedBlockingQueue&lt;PeerDownMessage&gt; inbox =\r\n                new LinkedBlockingQueue&lt;&gt;();\r\n            for (Peer peer : peers) {\r\n                PeerWatcher watcher = new PeerWatcher(peer, inbox);\r\n                watcher.startTimer();\r\n            }\r\n       \r\n            while (true) {\r\n                PeerDownMessage message = inbox.take();\r\n                SwingWorker.invokeLater(() {\r\n                    // suppose there is a map of labels for each peer\r\n                    JLabel label = labels.get(message.peerName());\r\n                    label.setText(message.peerName() +\r\n                        &quot; failed with error &quot; + message.errorCode());\r\n                });\r\n            }\r\n        }    \r\n    }\r\n\r\nNotice that to update the GUI, we cause that action to be performed on yet another thread, the Swing Event Dispatch Thread, which must be different from our main thread.\r\n\r\nThere are big, complex frameworks you can use to implement the actor model, but the heart of it is this: nothing is shared between threads, so you never need to synchronize or make anything volatile, anything an actor needs it either receives as a parameter to its constructor or via its inbox (in this example, only the main thread has an inbox since the worker threads don&#39;t need to receive anything once they are started), and it is best to make everything immutable. I used a `record` instead of a class for the message, but you could use a regular `class`. Just make the fields final, set them in the constructor, and guarantee they can&#39;t be null, as in the `PeerWatcher` class.\r\n\r\nI said the main thread can poll the &quot;queue(s),&quot; implying there could be more than one, but in this case they all send the same type of message, and they identify which peer the message is for in the message body. So I just gave every watcher a reference to the same inbox for the main thread. That&#39;s probably best. An actor should just have one inbox; if it needs to do multiple things, it should probably be multiple actors (that&#39;s the Erlang way, and that&#39;s where I&#39;ve taken the inspiration for this from).\r\n\r\nBut if you really needed to have multiple queues, main could poll them like so:\r\n\r\n    while (true) {\r\n        for (LinkedBlockingQueue&lt;PeerDownMessage&gt; queue : queues) {\r\n            if (queue.peek() != null) {\r\n                PeerDownMessage message = queue.take();\r\n                handleMessageHowever(message);\r\n            }\r\n        }\r\n    }\r\n\r\nBut that&#39;s a lot of extra stuff you don&#39;t need. Stick to one inbox queue per actor, and then polling the inbox for messages to process is simple.\r\n\r\nI initially wrote this to use ConcurrentLinkedQueue but I used `put` and `take` which are methods of BlockingQueue. I just changed it to use LinkedBlockingQueue but if you prefer ConcurrentLinkedQueue, you can use `add` and `poll` but on further consideration, I would really recommend BlockingQueue for the simplicity of its `take()` method; it lets you easily block while waiting for the next available item instead of busy waiting.","title":"How to pass a message from TimerTask to main thread?","body":"<p>I would have the class that handles the timers for the peers take a concurrent queue and place a message in the queue when the peer goes offline. Then the &quot;main&quot; thread can poll the queue(s) in an event-driven way, receiving and processing the messages.</p>\n<p>Please note that this &quot;main&quot; thread MUST NOT be the event dispatch thread of a GUI framework. If there is something that needs to be updated in the GUI when the main thread receives the message, it can invoke another piece of code on the event dispatch thread upon reception of the message.</p>\n<p>Two good choices for the queue would be <code>ConcurrentLinkedQueue</code> if the queue should be unbounded (the timer threads can put any number of messages in the queue before the main thread picks them up), or <code>LinkedBlockingQueue</code> if there should be a limit on the size of the queue, and if it gets too large, the timer threads have to wait before they can put another message on it (this is called backpressure, and can be important in distributed, concurrent systems, but may not be relevant in your case).</p>\n<p>The idea here is to implement a version of the Actor Model (q.v.), in which nothing is shared between threads (actors), and any data that needs to be sent (which should be immutable) is passed between them. Each actor has an inbox in which it can receive messages and it acts upon them. Only, your timer threads probably don't need inboxes, if they take all their data as parameters to the constructor and don't need to receive any messages from the main thread after they're started.</p>\n<pre><code>public record PeerDownMessage(String peerName, int errorCode) {\n}\n\npublic class PeerWatcher {\n    private final Peer peer;\n    private final BlockingQueue&lt;PeerDownMessage&gt; queue;\n\n    public PeerWatcher(Peer peer, BlockingQueue&lt;PeerDownMessage&gt; queue) {\n        this.peer = Objects.requireNonNull(peer);\n        this.queue = Objects.requireNonNull(queue);\n    }\n\n    public void startTimer() {\n        // . . .\n            // time to send failure message\n            queue.put(new PeerDownMessage(peer.getName(), error));            \n        // . . .\n    }\n}\n\npublic class Main {\n    public void eventLoop(List&lt;Peer&gt; peers) {\n        LinkedBlockingQueue&lt;PeerDownMessage&gt; inbox =\n            new LinkedBlockingQueue&lt;&gt;();\n        for (Peer peer : peers) {\n            PeerWatcher watcher = new PeerWatcher(peer, inbox);\n            watcher.startTimer();\n        }\n   \n        while (true) {\n            PeerDownMessage message = inbox.take();\n            SwingWorker.invokeLater(() {\n                // suppose there is a map of labels for each peer\n                JLabel label = labels.get(message.peerName());\n                label.setText(message.peerName() +\n                    &quot; failed with error &quot; + message.errorCode());\n            });\n        }\n    }    \n}\n</code></pre>\n<p>Notice that to update the GUI, we cause that action to be performed on yet another thread, the Swing Event Dispatch Thread, which must be different from our main thread.</p>\n<p>There are big, complex frameworks you can use to implement the actor model, but the heart of it is this: nothing is shared between threads, so you never need to synchronize or make anything volatile, anything an actor needs it either receives as a parameter to its constructor or via its inbox (in this example, only the main thread has an inbox since the worker threads don't need to receive anything once they are started), and it is best to make everything immutable. I used a <code>record</code> instead of a class for the message, but you could use a regular <code>class</code>. Just make the fields final, set them in the constructor, and guarantee they can't be null, as in the <code>PeerWatcher</code> class.</p>\n<p>I said the main thread can poll the &quot;queue(s),&quot; implying there could be more than one, but in this case they all send the same type of message, and they identify which peer the message is for in the message body. So I just gave every watcher a reference to the same inbox for the main thread. That's probably best. An actor should just have one inbox; if it needs to do multiple things, it should probably be multiple actors (that's the Erlang way, and that's where I've taken the inspiration for this from).</p>\n<p>But if you really needed to have multiple queues, main could poll them like so:</p>\n<pre><code>while (true) {\n    for (LinkedBlockingQueue&lt;PeerDownMessage&gt; queue : queues) {\n        if (queue.peek() != null) {\n            PeerDownMessage message = queue.take();\n            handleMessageHowever(message);\n        }\n    }\n}\n</code></pre>\n<p>But that's a lot of extra stuff you don't need. Stick to one inbox queue per actor, and then polling the inbox for messages to process is simple.</p>\n<p>I initially wrote this to use ConcurrentLinkedQueue but I used <code>put</code> and <code>take</code> which are methods of BlockingQueue. I just changed it to use LinkedBlockingQueue but if you prefer ConcurrentLinkedQueue, you can use <code>add</code> and <code>poll</code> but on further consideration, I would really recommend BlockingQueue for the simplicity of its <code>take()</code> method; it lets you easily block while waiting for the next available item instead of busy waiting.</p>\n"}],"owner":{"account_id":20328344,"reputation":31,"user_id":14911044,"display_name":"vw1262"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1647027134,"creation_date":1647023068,"question_id":71443096,"body_markdown":"I have a main client which keeps background timers for each peer. These timers run in a background thread, and in 30s (the timeout period) are scheduled to perform the task of marking the respective peer as offline. The block of code to do this is:\r\n```\r\n  public void startTimer() {\r\n    timer = new Timer();\r\n    timer.schedule(new TimerTask() {\r\n      public void run() {\r\n        status = false;\r\n        System.out.println(&quot;Setting &quot; + address.toString() + &quot; status to offline&quot;);\r\n        // need to send failure message somehow\r\n        thread.sendMessage();\r\n      }\r\n    }, 5*1000);\r\n  }\r\n```\r\nThen, in the main program, I need some way to detect when the above timer task has been run, so that the main client can then send a `failure` message to all other peers, something like:\r\n\r\n```\r\nwhile (true)\r\n  if (msgFromThreadReceived)\r\n     notifyPeers();\r\n```\r\nHow would I be able to accomplish this with TimerTask? As I understand, the timer is running in a separate thread, and I want to somehow pass a message to the main thread to notify the main thread that the task has been run.","title":"How to pass a message from TimerTask to main thread?","body":"<p>I have a main client which keeps background timers for each peer. These timers run in a background thread, and in 30s (the timeout period) are scheduled to perform the task of marking the respective peer as offline. The block of code to do this is:</p>\n<pre><code>  public void startTimer() {\n    timer = new Timer();\n    timer.schedule(new TimerTask() {\n      public void run() {\n        status = false;\n        System.out.println(&quot;Setting &quot; + address.toString() + &quot; status to offline&quot;);\n        // need to send failure message somehow\n        thread.sendMessage();\n      }\n    }, 5*1000);\n  }\n</code></pre>\n<p>Then, in the main program, I need some way to detect when the above timer task has been run, so that the main client can then send a <code>failure</code> message to all other peers, something like:</p>\n<pre><code>while (true)\n  if (msgFromThreadReceived)\n     notifyPeers();\n</code></pre>\n<p>How would I be able to accomplish this with TimerTask? As I understand, the timer is running in a separate thread, and I want to somehow pass a message to the main thread to notify the main thread that the task has been run.</p>\n"},{"tags":["java","servlets","junit","mockito"],"comments":[{"owner":{"account_id":1433532,"reputation":1216,"user_id":1355390,"accept_rate":100,"display_name":"Del Pedro"},"score":0,"creation_date":1463638744,"post_id":37314469,"comment_id":62150664,"body_markdown":"Its wonderful documented, just have a look, u just need to write something like Mockito.when(request.getHeaderNames()).thenReturn(...what you want...)","body":"Its wonderful documented, just have a look, u just need to write something like Mockito.when(request.getHeaderNames()).thenReturn(...what you want...)"}],"answers":[{"tags":[],"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1614204176,"creation_date":1463639293,"answer_id":37315412,"question_id":37314469,"body_markdown":"As a starting point and demonstration for the principal you can start with the following snippet.\r\n\r\n    // define the headers you want to be returned\r\n    Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n    headers.put(null, &quot;HTTP/1.1 200 OK&quot;);\r\n    headers.put(&quot;Content-Type&quot;, &quot;text/html&quot;);\r\n\r\n    // create an Enumeration over the header keys\r\n    Enumeration&lt;String&gt; headerNames = Collections.enumeration(headers.keySet());\r\n\r\n    // mock HttpServletRequest\r\n    HttpServletRequest request = mock(HttpServletRequest.class);\r\n    // mock the returned value of request.getHeaderNames()\r\n    when(request.getHeaderNames()).thenReturn(headerNames);\r\n\r\n    System.out.println(&quot;demonstrate output of request.getHeaderNames()&quot;);\r\n    while (headerNames.hasMoreElements()) {\r\n        System.out.println(&quot;header name: &quot; + headerNames.nextElement());\r\n    }\r\n        \r\n    // mock the returned value of request.getHeader(String name)\r\n    doAnswer(new Answer&lt;String&gt;() {\r\n        @Override\r\n        public String answer(InvocationOnMock invocation) throws Throwable {\r\n            Object[] args = invocation.getArguments();\r\n            return headers.get((String) args[0]);\r\n        }\r\n    }).when(request).getHeader(&quot;Content-Type&quot;);\r\n\r\n    System.out.println(&quot;demonstrate output of request.getHeader(String name)&quot;);\r\n    String headerName = &quot;Content-Type&quot;;\r\n    System.out.printf(&quot;header name: [%s]   value: [%s]%n&quot;, \r\n            headerName, request.getHeader(headerName));\r\n    }\r\n\r\n## Output\r\n\r\n```lang-none\r\ndemonstrate output of request.getHeaderNames()\r\nheader name: null\r\nheader name: Content-Type\r\n\r\ndemonstrate output of request.getHeader(String name)\r\nheader name: [Content-Type]   value: [text/html]\r\n```\r\n","title":"How to mock HttpServletRequest with Headers?","body":"<p>As a starting point and demonstration for the principal you can start with the following snippet.</p>\n<pre><code>// define the headers you want to be returned\nMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\nheaders.put(null, &quot;HTTP/1.1 200 OK&quot;);\nheaders.put(&quot;Content-Type&quot;, &quot;text/html&quot;);\n\n// create an Enumeration over the header keys\nEnumeration&lt;String&gt; headerNames = Collections.enumeration(headers.keySet());\n\n// mock HttpServletRequest\nHttpServletRequest request = mock(HttpServletRequest.class);\n// mock the returned value of request.getHeaderNames()\nwhen(request.getHeaderNames()).thenReturn(headerNames);\n\nSystem.out.println(&quot;demonstrate output of request.getHeaderNames()&quot;);\nwhile (headerNames.hasMoreElements()) {\n    System.out.println(&quot;header name: &quot; + headerNames.nextElement());\n}\n    \n// mock the returned value of request.getHeader(String name)\ndoAnswer(new Answer&lt;String&gt;() {\n    @Override\n    public String answer(InvocationOnMock invocation) throws Throwable {\n        Object[] args = invocation.getArguments();\n        return headers.get((String) args[0]);\n    }\n}).when(request).getHeader(&quot;Content-Type&quot;);\n\nSystem.out.println(&quot;demonstrate output of request.getHeader(String name)&quot;);\nString headerName = &quot;Content-Type&quot;;\nSystem.out.printf(&quot;header name: [%s]   value: [%s]%n&quot;, \n        headerName, request.getHeader(headerName));\n}\n</code></pre>\n<h2>Output</h2>\n<pre class=\"lang-none prettyprint-override\"><code>demonstrate output of request.getHeaderNames()\nheader name: null\nheader name: Content-Type\n\ndemonstrate output of request.getHeader(String name)\nheader name: [Content-Type]   value: [text/html]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7450965,"reputation":1416,"user_id":5665753,"display_name":"Jason Slobotski"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1578434005,"creation_date":1578434005,"answer_id":59636585,"question_id":37314469,"body_markdown":"I know the OP is using Mockito. This answer is for those using spock. You can accomplish this pretty easily.\r\n\r\n    class MyTestSpec extends Specification {\r\n        \r\n        HttpServletRequest request = Mock()\r\n        MyTestClass myTestClass = new MyTestClass()\r\n\r\n        def &#39;my test&#39;() {\r\n            setup:\r\n            String expectedHeader = &quot;x-mycustom-header&quot;\r\n\r\n            when:\r\n            String someResult = myTestClass.someTestMethod()\r\n\r\n            then:\r\n            // here is where you return your header from the mocked request\r\n            1 * request.getHeader(_ as String) &gt;&gt; expectedHeader\r\n        }\r\n    }","title":"How to mock HttpServletRequest with Headers?","body":"<p>I know the OP is using Mockito. This answer is for those using spock. You can accomplish this pretty easily.</p>\n\n<pre><code>class MyTestSpec extends Specification {\n\n    HttpServletRequest request = Mock()\n    MyTestClass myTestClass = new MyTestClass()\n\n    def 'my test'() {\n        setup:\n        String expectedHeader = \"x-mycustom-header\"\n\n        when:\n        String someResult = myTestClass.someTestMethod()\n\n        then:\n        // here is where you return your header from the mocked request\n        1 * request.getHeader(_ as String) &gt;&gt; expectedHeader\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1647026458,"creation_date":1614204769,"answer_id":66359553,"question_id":37314469,"body_markdown":"For [`HttpServletRequest`](https://jakarta.ee/specifications/servlet/5.0/apidocs/jakarta/servlet/http/httpservletrequest), I would recommend using a fully functional mock type instead of directly mocking it with Mockito mocks.  The [`spring-test`](https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#integration-testing-overview) library has [`MockHttpServletRequest`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mock/web/MockHttpServletRequest.html) for this purpose:\r\n\r\n\r\n```lang-java\r\n@BeforeClass\r\npublic static void init(){\r\n    // ...\r\n\r\n    MockHttpServletRequest mockRequest = new MockHttpServletRequest();\r\n    mockRequest.addHeader(&quot;Content-Type&quot;, &quot;text/html&quot;);\r\n    mockRequest.addHeader(&quot;if-none-match&quot;, &quot;*&quot;);\r\n    mockRequest.addHeader(&quot;customHeader&quot;, &quot;customValue&quot;);\r\n\r\n    this.request = mockRequest;\r\n}\r\n```\r\n\r\n## Rationale\r\n\r\n[`HttpServletRequest`](https://jakarta.ee/specifications/servlet/5.0/apidocs/jakarta/servlet/http/httpservletrequest) is a complex interface with over 20 methods, with well-defined interplay between them.  Using a fully functional mock type for `HttpServletRequest` from a library simplifies the mocking, removing the need to carefully mock out the methods you&#39;re using.\r\n\r\nOne advantage of this approach is that it is more resilient in the face of future refactorings that get the same information using other methods on the class.  In the case of retrieving the &quot;if-none-match&quot; header in `HttpServletRequest`, I see three different methods that could legitimately be used to retrieve the header: [`getHeader(String name)`](https://jakarta.ee/specifications/servlet/5.0/apidocs/jakarta/servlet/http/httpservletrequest#getHeader(java.lang.String)), [`getHeaders(String name)`](https://jakarta.ee/specifications/servlet/5.0/apidocs/jakarta/servlet/http/httpservletrequest#getHeaders(java.lang.String)), and [`getHeaderNames()`](https://jakarta.ee/specifications/servlet/5.0/apidocs/jakarta/servlet/http/httpservletrequest#getHeaderNames()).  Furthermore, the argument for both `getHeader` and `getHeaders` are case-insensitive (the same results are returned for &quot;if-none-match&quot;, &quot;If-None-Match&quot;, etc.), so any possible argument casing would be correct.  It&#39;s very possible to support this with a direct mock, though it involves extra boilerplate code that complicates the test and makes it less obvious.\r\n\r\nThe [`MockHttpServletRequest`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mock/web/MockHttpServletRequest.html) class from the [`spring-test`](https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#integration-testing-overview) library mocks this interface, and allows setting the header and other values via a straightforward API.  While the library is designed for testing [Spring](https://spring.io) applications, the `MockHttpServletRequest` class is independent of any Spring-specific functionality, and should be completely usable on its own even if the application doesn&#39;t use Spring.","title":"How to mock HttpServletRequest with Headers?","body":"<p>For <a href=\"https://jakarta.ee/specifications/servlet/5.0/apidocs/jakarta/servlet/http/httpservletrequest\" rel=\"nofollow noreferrer\"><code>HttpServletRequest</code></a>, I would recommend using a fully functional mock type instead of directly mocking it with Mockito mocks.  The <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#integration-testing-overview\" rel=\"nofollow noreferrer\"><code>spring-test</code></a> library has <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mock/web/MockHttpServletRequest.html\" rel=\"nofollow noreferrer\"><code>MockHttpServletRequest</code></a> for this purpose:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@BeforeClass\npublic static void init(){\n    // ...\n\n    MockHttpServletRequest mockRequest = new MockHttpServletRequest();\n    mockRequest.addHeader(&quot;Content-Type&quot;, &quot;text/html&quot;);\n    mockRequest.addHeader(&quot;if-none-match&quot;, &quot;*&quot;);\n    mockRequest.addHeader(&quot;customHeader&quot;, &quot;customValue&quot;);\n\n    this.request = mockRequest;\n}\n</code></pre>\n<h2>Rationale</h2>\n<p><a href=\"https://jakarta.ee/specifications/servlet/5.0/apidocs/jakarta/servlet/http/httpservletrequest\" rel=\"nofollow noreferrer\"><code>HttpServletRequest</code></a> is a complex interface with over 20 methods, with well-defined interplay between them.  Using a fully functional mock type for <code>HttpServletRequest</code> from a library simplifies the mocking, removing the need to carefully mock out the methods you're using.</p>\n<p>One advantage of this approach is that it is more resilient in the face of future refactorings that get the same information using other methods on the class.  In the case of retrieving the &quot;if-none-match&quot; header in <code>HttpServletRequest</code>, I see three different methods that could legitimately be used to retrieve the header: <a href=\"https://jakarta.ee/specifications/servlet/5.0/apidocs/jakarta/servlet/http/httpservletrequest#getHeader(java.lang.String)\" rel=\"nofollow noreferrer\"><code>getHeader(String name)</code></a>, <a href=\"https://jakarta.ee/specifications/servlet/5.0/apidocs/jakarta/servlet/http/httpservletrequest#getHeaders(java.lang.String)\" rel=\"nofollow noreferrer\"><code>getHeaders(String name)</code></a>, and <a href=\"https://jakarta.ee/specifications/servlet/5.0/apidocs/jakarta/servlet/http/httpservletrequest#getHeaderNames()\" rel=\"nofollow noreferrer\"><code>getHeaderNames()</code></a>.  Furthermore, the argument for both <code>getHeader</code> and <code>getHeaders</code> are case-insensitive (the same results are returned for &quot;if-none-match&quot;, &quot;If-None-Match&quot;, etc.), so any possible argument casing would be correct.  It's very possible to support this with a direct mock, though it involves extra boilerplate code that complicates the test and makes it less obvious.</p>\n<p>The <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mock/web/MockHttpServletRequest.html\" rel=\"nofollow noreferrer\"><code>MockHttpServletRequest</code></a> class from the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#integration-testing-overview\" rel=\"nofollow noreferrer\"><code>spring-test</code></a> library mocks this interface, and allows setting the header and other values via a straightforward API.  While the library is designed for testing <a href=\"https://spring.io\" rel=\"nofollow noreferrer\">Spring</a> applications, the <code>MockHttpServletRequest</code> class is independent of any Spring-specific functionality, and should be completely usable on its own even if the application doesn't use Spring.</p>\n"},{"tags":[],"owner":{"account_id":13282456,"reputation":21,"user_id":9589585,"display_name":"Sidz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637842744,"creation_date":1637842744,"answer_id":70111002,"question_id":37314469,"body_markdown":"This worked in my case \r\n\r\n```\r\nmockMvc.perform(post(&quot;&lt;&lt;url&gt;&gt;&quot;).content(&quot;&lt;&lt;jsonStrig&gt;&gt;&quot;).header(&quot;key&quot;, &quot;value&quot;));\r\n```\r\n\r\ncan also be used in get request.","title":"How to mock HttpServletRequest with Headers?","body":"<p>This worked in my case</p>\n<pre><code>mockMvc.perform(post(&quot;&lt;&lt;url&gt;&gt;&quot;).content(&quot;&lt;&lt;jsonStrig&gt;&gt;&quot;).header(&quot;key&quot;, &quot;value&quot;));\n</code></pre>\n<p>can also be used in get request.</p>\n"}],"owner":{"account_id":3506255,"reputation":3810,"user_id":2931744,"accept_rate":52,"display_name":"Sat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79663,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":37315412,"answer_count":4,"score":22,"last_activity_date":1647026458,"creation_date":1463635293,"question_id":37314469,"body_markdown":"I am using [Mockito](https://site.mockito.org) with [JUnit](https://junit.org) to test an application. I need to add headers to an [`HttpServletRequest`](https://javaee.github.io/javaee-spec/javadocs/javax/servlet/http/HttpServletRequest.html) while mocking. This is the first time I am using mock concept to test the application. How can we set headers to the request object while using this mock concept?\r\n\r\n## Application code\r\n\r\n    @Produces({ MediaType.APPLICATION_JSON })\r\n    @Path(&quot;/devices&quot;)\r\n    public class DvrRestService {\r\n        private static final Logger logger = LoggerFactory.getLogger(DvrRestService.class);\r\n\r\n        private DvrMiddleService dvrMiddleService;\r\n\r\n        @Inject\r\n        public DvrRestService(DvrMiddleService dvrMiddleService) {\r\n            this.dvrMiddleService = dvrMiddleService;\r\n        }\r\n   \r\n        @GET \r\n        @Path(&quot;/{deviceId}/metadata&quot;)\r\n        public Response getDeviceMetadata(@Context HttpServletRequest request, @PathParam(&quot;deviceId&quot;) String deviceId,\r\n            @RequiredSession final Session session) {\r\n\r\n            try {\r\n\t            public static String[] REQUEST_HEADERS = { &quot;if-none-match&quot; };\r\n                List&lt;String&gt; requiredHeaders = Lists.newArrayList(REQUEST_HEADERS);\r\n                Map&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\r\n\r\n                Enumeration&lt;String&gt; headerNames = request.getHeaderNames();\r\n                while (headerNames.hasMoreElements()) { // here gettting NullPointerException\r\n\r\n                    String headerName = headerNames.nextElement();\r\n                    if (requiredHeaders.contains(headerName.toLowerCase())) {\r\n                        String value = request.getHeader(headerName);\r\n                        if (value != null) {\r\n                            headers.put(headerName, value);\r\n                            System.out.println(&quot;headerName: &quot; + headerName + &quot;, Value: &quot; + value);\r\n                        }\r\n                    }\r\n                }\r\n                DvrResponse response = dvrMiddleService.getDeviceMetadata(deviceId.toUpperCase(), getHeaders(request));\r\n                return processResponse(response.statusCode, response.getResponse(), DeviceMetadataResponse.class,\r\n                    response.getHeaders());\r\n            } catch (Exception e) {\r\n                return processErrorResponse(e, new DeviceMetadataResponse(), logger);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n## Test\r\n\r\n    public class DvrRestServiceTest {\r\n\r\n\t    static DvrMiddleService dms;\r\n\t    static HttpServletRequest request;\r\n\t    static Session session;\r\n\t    static DvrRestService drs;\r\n\t    public static final String DeviceId = &quot;000004D42070&quot;;\r\n\t    @BeforeClass\r\n\t    public static void init(){\r\n\t\t    dms = mock(DvrMiddleService.class);\r\n\t\t    request = mock(HttpServletRequest.class);\r\n\t\t    session = mock(Session.class);\r\n\t\t    drs = new DvrRestService(dms);\r\n\t    }\r\n\t    @Test\r\n\t    public void getDeviceMetadataTest(){\r\n\t\t    Response rs = drs.getDeviceMetadata(request, DeviceId, session);\r\n\t\t    assertEquals(Response.Status.OK, rs.getStatus());\r\n\t    }\r\n    }\r\n","title":"How to mock HttpServletRequest with Headers?","body":"<p>I am using <a href=\"https://site.mockito.org\" rel=\"noreferrer\">Mockito</a> with <a href=\"https://junit.org\" rel=\"noreferrer\">JUnit</a> to test an application. I need to add headers to an <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/http/HttpServletRequest.html\" rel=\"noreferrer\"><code>HttpServletRequest</code></a> while mocking. This is the first time I am using mock concept to test the application. How can we set headers to the request object while using this mock concept?</p>\n<h2>Application code</h2>\n<pre><code>@Produces({ MediaType.APPLICATION_JSON })\n@Path(&quot;/devices&quot;)\npublic class DvrRestService {\n    private static final Logger logger = LoggerFactory.getLogger(DvrRestService.class);\n\n    private DvrMiddleService dvrMiddleService;\n\n    @Inject\n    public DvrRestService(DvrMiddleService dvrMiddleService) {\n        this.dvrMiddleService = dvrMiddleService;\n    }\n\n    @GET \n    @Path(&quot;/{deviceId}/metadata&quot;)\n    public Response getDeviceMetadata(@Context HttpServletRequest request, @PathParam(&quot;deviceId&quot;) String deviceId,\n        @RequiredSession final Session session) {\n\n        try {\n            public static String[] REQUEST_HEADERS = { &quot;if-none-match&quot; };\n            List&lt;String&gt; requiredHeaders = Lists.newArrayList(REQUEST_HEADERS);\n            Map&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\n\n            Enumeration&lt;String&gt; headerNames = request.getHeaderNames();\n            while (headerNames.hasMoreElements()) { // here gettting NullPointerException\n\n                String headerName = headerNames.nextElement();\n                if (requiredHeaders.contains(headerName.toLowerCase())) {\n                    String value = request.getHeader(headerName);\n                    if (value != null) {\n                        headers.put(headerName, value);\n                        System.out.println(&quot;headerName: &quot; + headerName + &quot;, Value: &quot; + value);\n                    }\n                }\n            }\n            DvrResponse response = dvrMiddleService.getDeviceMetadata(deviceId.toUpperCase(), getHeaders(request));\n            return processResponse(response.statusCode, response.getResponse(), DeviceMetadataResponse.class,\n                response.getHeaders());\n        } catch (Exception e) {\n            return processErrorResponse(e, new DeviceMetadataResponse(), logger);\n        }\n\n    }\n}\n</code></pre>\n<h2>Test</h2>\n<pre><code>public class DvrRestServiceTest {\n\n    static DvrMiddleService dms;\n    static HttpServletRequest request;\n    static Session session;\n    static DvrRestService drs;\n    public static final String DeviceId = &quot;000004D42070&quot;;\n    @BeforeClass\n    public static void init(){\n        dms = mock(DvrMiddleService.class);\n        request = mock(HttpServletRequest.class);\n        session = mock(Session.class);\n        drs = new DvrRestService(dms);\n    }\n    @Test\n    public void getDeviceMetadataTest(){\n        Response rs = drs.getDeviceMetadata(request, DeviceId, session);\n        assertEquals(Response.Status.OK, rs.getStatus());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot","swing"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1647024830,"post_id":71443389,"comment_id":126277667,"body_markdown":"can you show the code of your repository?","body":"can you show the code of your repository?"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1647026059,"post_id":71443389,"comment_id":126278017,"body_markdown":"@Stultuske The repository code is irrelevant, and the OP is not using `new`. The problem is sequencing.","body":"@Stultuske The repository code is irrelevant, and the OP is not using <code>new</code>. The problem is sequencing."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1647026592,"post_id":71443389,"comment_id":126278180,"body_markdown":"@chrylis-cautiouslyoptimistic- &quot;the repository code is irrelevant&quot;? Why is that? Because without looking at it, you can tell it is correctly annotated and configured? I was mistaken on the instantiation though, you were right about that.","body":"@chrylis-cautiouslyoptimistic- &quot;the repository code is irrelevant&quot;? Why is that? Because without looking at it, you can tell it is correctly annotated and configured? I was mistaken on the instantiation though, you were right about that."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1647027860,"post_id":71443389,"comment_id":126278495,"body_markdown":"@Stultuske Because if it weren&#39;t getting registered as a Spring bean, the error would be a `NoSuchBeanDefinitionException`, not an NPE.","body":"@Stultuske Because if it weren&#39;t getting registered as a Spring bean, the error would be a <code>NoSuchBeanDefinitionException</code>, not an NPE."}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647026005,"creation_date":1647026005,"answer_id":71443601,"question_id":71443389,"body_markdown":"You&#39;re trying to use the repository from within your constructor, which is before Spring has had a chance to get a reference to the `ApplicationUI` instance and inject it. Preferably, eliminate the field injection and make your dependencies constructor parameters. If that absolutely can&#39;t be done, you&#39;ll need to make your `createUiComponents()` method `@PostConstruct` instead.","title":"Why is MongoDB Repository null when running a Java Swing application with Spring Boot?","body":"<p>You're trying to use the repository from within your constructor, which is before Spring has had a chance to get a reference to the <code>ApplicationUI</code> instance and inject it. Preferably, eliminate the field injection and make your dependencies constructor parameters. If that absolutely can't be done, you'll need to make your <code>createUiComponents()</code> method <code>@PostConstruct</code> instead.</p>\n"}],"owner":{"account_id":11368496,"reputation":63,"user_id":8334697,"display_name":"Walker Sorlie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71443601,"answer_count":1,"score":0,"last_activity_date":1647026005,"creation_date":1647024738,"question_id":71443389,"body_markdown":"I am trying to build a Swing application using MongoDB with Spring Boot. I am using the Spring Boot MongoDB artifact so it&#39;s all with Spring libraries. \r\n\r\nThe error I get when I run my app is: `Cannot invoke &quot;com.walkersorlie.qbshippingservice.repositories.ProductRepository.findAll()&quot; because &quot;this.productRepository&quot; is null`.\r\n\r\n This is the class that creates the Spring application and then runs the Swing app:\r\n\r\n```\r\npublic class QbshippingserviceApplication {\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tConfigurableApplicationContext ctx = new SpringApplicationBuilder(ApplicationUI.class)\r\n\t\t\t\t.headless(false)\r\n\t\t\t\t.run(args);\r\n\r\n\t\tjava.awt.EventQueue.invokeLater(() -&gt; {\r\n\t\t\tApplicationUI ex = ctx.getBean(ApplicationUI.class);\r\n\t\t\tex.setVisible(true);\r\n\t\t});\r\n\r\n\t}\r\n}\r\n```\r\n\r\nand this is the class that creates the Swing JFrame:\r\n```\r\n@SpringBootApplication\r\n@EnableMongoRepositories\r\npublic class ApplicationUI extends JFrame {\r\n\r\n    @Autowired\r\n    private ProductRepository productRepository;\r\n    @Autowired\r\n    private CustomProductRepository customProductRepository;\r\n\r\n    private List&lt;Product&gt; productList;\r\n    private JList&lt;String&gt; jListProductsList;\r\n\r\n    public ApplicationUI() {\r\n        createUIComponents();\r\n    }\r\n\r\n    private void createUIComponents() {\r\n        // TODO: place custom component creation code here\r\n\r\n        this.jListProductsList = new JList&lt;&gt;();\r\n        try {\r\n            this.productList = productRepository.findAll();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        this.jListProductsList.setListData((String[]) this.productList.stream()\r\n                .map(Product::getDescription)\r\n                .toArray());\r\n    }\r\n}\r\n```\r\nI have `@Autowired` the Mongo repository I implemented but the Beans doesn&#39;t seem to load.\r\n\r\nI think that this Swing class is outside the context of the Spring application so that&#39;s why the MongoDB repository Bean is `null` but I&#39;m not sure how to fix that. If the way I&#39;m running the Swing application with the `EventQueue` is the problem I&#39;m not sure how to fix it.","title":"Why is MongoDB Repository null when running a Java Swing application with Spring Boot?","body":"<p>I am trying to build a Swing application using MongoDB with Spring Boot. I am using the Spring Boot MongoDB artifact so it's all with Spring libraries.</p>\n<p>The error I get when I run my app is: <code>Cannot invoke &quot;com.walkersorlie.qbshippingservice.repositories.ProductRepository.findAll()&quot; because &quot;this.productRepository&quot; is null</code>.</p>\n<p>This is the class that creates the Spring application and then runs the Swing app:</p>\n<pre><code>public class QbshippingserviceApplication {\n\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext ctx = new SpringApplicationBuilder(ApplicationUI.class)\n                .headless(false)\n                .run(args);\n\n        java.awt.EventQueue.invokeLater(() -&gt; {\n            ApplicationUI ex = ctx.getBean(ApplicationUI.class);\n            ex.setVisible(true);\n        });\n\n    }\n}\n</code></pre>\n<p>and this is the class that creates the Swing JFrame:</p>\n<pre><code>@SpringBootApplication\n@EnableMongoRepositories\npublic class ApplicationUI extends JFrame {\n\n    @Autowired\n    private ProductRepository productRepository;\n    @Autowired\n    private CustomProductRepository customProductRepository;\n\n    private List&lt;Product&gt; productList;\n    private JList&lt;String&gt; jListProductsList;\n\n    public ApplicationUI() {\n        createUIComponents();\n    }\n\n    private void createUIComponents() {\n        // TODO: place custom component creation code here\n\n        this.jListProductsList = new JList&lt;&gt;();\n        try {\n            this.productList = productRepository.findAll();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        this.jListProductsList.setListData((String[]) this.productList.stream()\n                .map(Product::getDescription)\n                .toArray());\n    }\n}\n</code></pre>\n<p>I have <code>@Autowired</code> the Mongo repository I implemented but the Beans doesn't seem to load.</p>\n<p>I think that this Swing class is outside the context of the Spring application so that's why the MongoDB repository Bean is <code>null</code> but I'm not sure how to fix that. If the way I'm running the Swing application with the <code>EventQueue</code> is the problem I'm not sure how to fix it.</p>\n"},{"tags":["java","design-patterns","singleton"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1647024276,"post_id":71443286,"comment_id":126277503,"body_markdown":"&quot;only one instance ever created&quot;? You mean to create a class of which you can only create one single instance? google &quot;java Singleton&quot;, you should find plenty of texts explaining the concept.","body":"&quot;only one instance ever created&quot;? You mean to create a class of which you can only create one single instance? google &quot;java Singleton&quot;, you should find plenty of texts explaining the concept."},{"owner":{"account_id":20439299,"reputation":105,"user_id":14996394,"display_name":"Ajay Sabarish"},"score":0,"creation_date":1647024411,"post_id":71443286,"comment_id":126277546,"body_markdown":"@Stultuske yes, I have edited the question, making it more clear, my doubt is how Initialization on demand holder Idiom actually implements singleton pattern, i.e  if in two different places Something.getInstance() is called how do they have the same object ?","body":"@Stultuske yes, I have edited the question, making it more clear, my doubt is how Initialization on demand holder Idiom actually implements singleton pattern, i.e  if in two different places Something.getInstance() is called how do they have the same object ?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1647024562,"post_id":71443286,"comment_id":126277599,"body_markdown":"do you know what the keyword &#39;static&#39; does? Only one instance is created, and that is returned each time the getInstance method is called. You should start at the beginning. get a decent textbook and start at the beginning. don&#39;t skip chapters because they seem &quot;easy&quot; or &quot;boring&quot;, and work yourself through it.","body":"do you know what the keyword &#39;static&#39; does? Only one instance is created, and that is returned each time the getInstance method is called. You should start at the beginning. get a decent textbook and start at the beginning. don&#39;t skip chapters because they seem &quot;easy&quot; or &quot;boring&quot;, and work yourself through it."},{"owner":{"account_id":20439299,"reputation":105,"user_id":14996394,"display_name":"Ajay Sabarish"},"score":0,"creation_date":1647025827,"post_id":71443286,"comment_id":126277956,"body_markdown":"Yes, I am new to Java, ramped up the basics. But my doubt is, say in different places `Something.getInstance()` is called, will the statement `static final Something INSTANCE = new Something();` be executed twice or only the first time, and the value of `INSTANCE` will be cached for further use ? Appreciate your inputs.","body":"Yes, I am new to Java, ramped up the basics. But my doubt is, say in different places <code>Something.getInstance()</code> is called, will the statement <code>static final Something INSTANCE = new Something();</code> be executed twice or only the first time, and the value of <code>INSTANCE</code> will be cached for further use ? Appreciate your inputs."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1647026676,"post_id":71443286,"comment_id":126278205,"body_markdown":"No, it will not. You should really read up on the basics, in this instance, the concept of static and how it works. If you don&#39;t understand that, you won&#39;t understand how a singleton works.","body":"No, it will not. You should really read up on the basics, in this instance, the concept of static and how it works. If you don&#39;t understand that, you won&#39;t understand how a singleton works."},{"owner":{"account_id":20439299,"reputation":105,"user_id":14996394,"display_name":"Ajay Sabarish"},"score":0,"creation_date":1647027195,"post_id":71443286,"comment_id":126278324,"body_markdown":"I agree, I have read from various sources before posting this, I am aware that static variables are initialized only once i.e. at the start of execution. But unable to relate with this context of static variable under a static class, would be really great if you could explain that part ?","body":"I agree, I have read from various sources before posting this, I am aware that static variables are initialized only once i.e. at the start of execution. But unable to relate with this context of static variable under a static class, would be really great if you could explain that part ?"},{"owner":{"account_id":20439299,"reputation":105,"user_id":14996394,"display_name":"Ajay Sabarish"},"score":0,"creation_date":1647027219,"post_id":71443286,"comment_id":126278331,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/242864/discussion-between-ajay-sabarish-and-stultuske).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/242864/discussion-between-ajay-sabarish-and-stultuske\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647025889,"creation_date":1647025889,"answer_id":71443579,"question_id":71443286,"body_markdown":"Basic pattern for a singleton:\r\n\r\n    //final so it can&#39;t be extended, not needed, but I like it for security\r\n    public final class MySingleton {\r\n        //Private so no other class can access it directly\r\n        //static so it stays resident in memory\r\n        //final so it can&#39;t be nulled out or reassigned;\r\n        //The constructor is called when the class is loaded.\r\n        private static final MySingleton instance = new MySingleton();\r\n\r\n        //The constructor is private so no more instances can be created\r\n        private MySingleton() {\r\n        }\r\n\r\n        public static final MySingleton getInstance() {\r\n           return instance;\r\n        }\r\n\r\n        //Alternatively, you could have the instance initialized to null\r\n        //and have creation when getInstance() is called\r\n        public static final MySingleton getIntance() {\r\n            synchronized(instance) {\r\n               if (instance == null) {\r\n                   instance = new MySingleton();\r\n               }\r\n               return instance\r\n            }\r\n    }","title":"How does Initialization on demand holder Idiom ensures only &quot;single&quot; instance is created ever?","body":"<p>Basic pattern for a singleton:</p>\n<pre><code>//final so it can't be extended, not needed, but I like it for security\npublic final class MySingleton {\n    //Private so no other class can access it directly\n    //static so it stays resident in memory\n    //final so it can't be nulled out or reassigned;\n    //The constructor is called when the class is loaded.\n    private static final MySingleton instance = new MySingleton();\n\n    //The constructor is private so no more instances can be created\n    private MySingleton() {\n    }\n\n    public static final MySingleton getInstance() {\n       return instance;\n    }\n\n    //Alternatively, you could have the instance initialized to null\n    //and have creation when getInstance() is called\n    public static final MySingleton getIntance() {\n        synchronized(instance) {\n           if (instance == null) {\n               instance = new MySingleton();\n           }\n           return instance\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":20439299,"reputation":105,"user_id":14996394,"display_name":"Ajay Sabarish"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647025889,"creation_date":1647024188,"question_id":71443286,"body_markdown":"I went through the wiki https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom to understand Initialization on demand holder Idiom for Singleton pattern, though the wiki mentions how it&#39;s thread safe, it doesn&#39;t say how this actually ensures only one instance is created ever, i.e if in two different classes `Something.getInstance()` is called how do they have the same object ?\r\n\r\nI am new to Java, so any help would be appreciated.","title":"How does Initialization on demand holder Idiom ensures only &quot;single&quot; instance is created ever?","body":"<p>I went through the wiki <a href=\"https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom</a> to understand Initialization on demand holder Idiom for Singleton pattern, though the wiki mentions how it's thread safe, it doesn't say how this actually ensures only one instance is created ever, i.e if in two different classes <code>Something.getInstance()</code> is called how do they have the same object ?</p>\n<p>I am new to Java, so any help would be appreciated.</p>\n"},{"tags":["java","json","unit-testing","mocking","mockito"],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1505488197,"creation_date":1505488197,"answer_id":46242691,"question_id":46242612,"body_markdown":"`mapper` is not a field/dependency of the instance under test.&lt;br&gt;\r\nIt is a local variable created within the method :\r\n\r\n     public void myMethod() {\r\n            try {\r\n                ObjectMapper mapper = new ObjectMapper();\r\n             ...\r\n    }\r\n\r\nSo, `@InjectMocks` will be helpless.&lt;br&gt;\r\n\r\nI can propose you two alternatives :\r\n\r\n1) You could pass `mapper` as an argument by changing the signature of the method :\r\n\r\n     public void myMethod(ObjectMapper mapper) {\r\n      ...\r\n     }\r\n\r\nIn this way you could pass the mocked `ObjectMapper` as argument of the tested method.&lt;br&gt;\r\n\r\n\r\n \r\nIf this method is often invoked, passing a boiler plate parameter may be annoying and makes the code less readable.\r\n\r\n2) Another way is providing a way to set `ObjectMapper` via the constructor of the class under test.\r\n\r\n    public class ClassUnderTest{\r\n    \r\n       private ObjectMapper objectMapper;\r\n       ...\r\n       public ClassUnderTest(ObjectMapper objectMapper){\r\n          this.objectMapper = objectMapper;\r\n      }\r\n      ...\r\n    }\r\n\r\n","title":"Unit test for JsonProcessingException","body":"<p><code>mapper</code> is not a field/dependency of the instance under test.<br>\nIt is a local variable created within the method :</p>\n\n<pre><code> public void myMethod() {\n        try {\n            ObjectMapper mapper = new ObjectMapper();\n         ...\n}\n</code></pre>\n\n<p>So, <code>@InjectMocks</code> will be helpless.<br></p>\n\n<p>I can propose you two alternatives :</p>\n\n<p>1) You could pass <code>mapper</code> as an argument by changing the signature of the method :</p>\n\n<pre><code> public void myMethod(ObjectMapper mapper) {\n  ...\n }\n</code></pre>\n\n<p>In this way you could pass the mocked <code>ObjectMapper</code> as argument of the tested method.<br></p>\n\n<p>If this method is often invoked, passing a boiler plate parameter may be annoying and makes the code less readable.</p>\n\n<p>2) Another way is providing a way to set <code>ObjectMapper</code> via the constructor of the class under test.</p>\n\n<pre><code>public class ClassUnderTest{\n\n   private ObjectMapper objectMapper;\n   ...\n   public ClassUnderTest(ObjectMapper objectMapper){\n      this.objectMapper = objectMapper;\n  }\n  ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6121884,"reputation":11,"user_id":4775188,"display_name":"AJW"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647025706,"creation_date":1647025706,"answer_id":71443552,"question_id":46242612,"body_markdown":"To test a method using an ObjectMapper and throws a custom exception (wrapping the JsonProcessingException), we need to mock the ObjectMapper and tell it to throw the exception.\r\n\r\nHere&#39;s a class with a method to parse a JsonNode and throw a custom exception: \r\n```\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@RequiredArgsConstructor\r\npublic class MyService {\r\n\r\n    private final ObjectMapper objectMapper;\r\n\r\n    public Boolean processSomething(JsonNode jsonNode) {\r\n\r\n        Simple simple;\r\n        try {\r\n            simple = objectMapper.readValue(jsonNode.toString(), Simple.class);\r\n        } catch (JsonProcessingException e) {\r\n            throw new CustomServerException(e.getMessage(), e);\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```\r\nTo test this method:\r\n```\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.my.path.MyService;\r\nimport org.assertj.core.api.Assertions;\r\nimport org.mockito.Mockito;\r\nimport org.testng.annotations.Test;\r\n\r\npublic class TestMyService {\r\n    // To test the method for the CustomServerException,\r\n    // we need to mock the ObjectMapper to throw the JsonProcessingException:\r\n    @Test\r\n    void testProcessSomething_JsonProcessingException() {\r\n\r\n        // using a mock ObjectMapper to force a JsonProcessingException to be thrown\r\n        ObjectMapper mockMapper = Mockito.mock(ObjectMapper.class);\r\n        MyService serviceWithMockMapper = new MyService(mockMapper);\r\n\r\n        CustomServerException thrown = assertThrows(CustomServerException.class, () -&gt; {\r\n\r\n            when(mockMapper.readValue(jsonNode.toString(), Simple.class)).thenThrow(JsonProcessingException.class);\r\n            serviceWithMockMapper.processSomething(jsonNode);\r\n\r\n        });\r\n\r\n        Assertions.assertNotNull(thrown.getMessage());\r\n    }\r\n}\r\n```","title":"Unit test for JsonProcessingException","body":"<p>To test a method using an ObjectMapper and throws a custom exception (wrapping the JsonProcessingException), we need to mock the ObjectMapper and tell it to throw the exception.</p>\n<p>Here's a class with a method to parse a JsonNode and throw a custom exception:</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport lombok.RequiredArgsConstructor;\n\n@RequiredArgsConstructor\npublic class MyService {\n\n    private final ObjectMapper objectMapper;\n\n    public Boolean processSomething(JsonNode jsonNode) {\n\n        Simple simple;\n        try {\n            simple = objectMapper.readValue(jsonNode.toString(), Simple.class);\n        } catch (JsonProcessingException e) {\n            throw new CustomServerException(e.getMessage(), e);\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>To test this method:</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.my.path.MyService;\nimport org.assertj.core.api.Assertions;\nimport org.mockito.Mockito;\nimport org.testng.annotations.Test;\n\npublic class TestMyService {\n    // To test the method for the CustomServerException,\n    // we need to mock the ObjectMapper to throw the JsonProcessingException:\n    @Test\n    void testProcessSomething_JsonProcessingException() {\n\n        // using a mock ObjectMapper to force a JsonProcessingException to be thrown\n        ObjectMapper mockMapper = Mockito.mock(ObjectMapper.class);\n        MyService serviceWithMockMapper = new MyService(mockMapper);\n\n        CustomServerException thrown = assertThrows(CustomServerException.class, () -&gt; {\n\n            when(mockMapper.readValue(jsonNode.toString(), Simple.class)).thenThrow(JsonProcessingException.class);\n            serviceWithMockMapper.processSomething(jsonNode);\n\n        });\n\n        Assertions.assertNotNull(thrown.getMessage());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11022749,"reputation":167,"user_id":8096492,"accept_rate":50,"display_name":"orcl user"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16069,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":46242691,"answer_count":2,"score":5,"last_activity_date":1647025706,"creation_date":1505487840,"question_id":46242612,"body_markdown":"  I want to write an unit test to test a JsonProcessingException. This exception can happen on the line: mapper.writeValueAsString(). \r\n  \r\n    public void myMethod(Args...) {\r\n            try {\r\n                   ObjectMapper mapper = new ObjectMapper();\r\n                    mapper.configure(SerializationFeature.INDENT_OUTPUT, true);\r\n\r\n                    Document.parse(mapper.writeValueAsString(testObject)));\r\n                }\r\n            } catch (JsonProcessingException e) {\r\n                log.error(&quot;Error parsing the object to json string. &quot;, e);\r\n            } \r\n    }\r\n\r\nand here is my unit test:\r\n    \r\n    public class Test {\r\n\r\n        @Mock\r\n        private ObjectMapper              mapper;\r\n\r\n        @InjectMocks\r\n        ClassUnderTest            sut;\r\n\r\n        @Test\r\n        public void testJsonProcessingException() throws     JsonProcessingException {\r\n            when(mapper.writeValueAsString(Mockito.any())).thenThrow(new     JsonProcessingException(&quot;Error parsing the object to json string. &quot;){\r\n                private static final long serialVersionUID = 1L;});\r\n            sut.myMethod(args...);\r\n        }\r\n\r\n    }\r\n\r\n\r\nThe problem is the mapper which i have mocked will not be used (i get unnecessary Mockito stubbings failure) as the mapper is again initialized inside the method. How can i unit test such a situation with mockito?\r\n","title":"Unit test for JsonProcessingException","body":"<p>I want to write an unit test to test a JsonProcessingException. This exception can happen on the line: mapper.writeValueAsString(). </p>\n\n<pre><code>public void myMethod(Args...) {\n        try {\n               ObjectMapper mapper = new ObjectMapper();\n                mapper.configure(SerializationFeature.INDENT_OUTPUT, true);\n\n                Document.parse(mapper.writeValueAsString(testObject)));\n            }\n        } catch (JsonProcessingException e) {\n            log.error(\"Error parsing the object to json string. \", e);\n        } \n}\n</code></pre>\n\n<p>and here is my unit test:</p>\n\n<pre><code>public class Test {\n\n    @Mock\n    private ObjectMapper              mapper;\n\n    @InjectMocks\n    ClassUnderTest            sut;\n\n    @Test\n    public void testJsonProcessingException() throws     JsonProcessingException {\n        when(mapper.writeValueAsString(Mockito.any())).thenThrow(new     JsonProcessingException(\"Error parsing the object to json string. \"){\n            private static final long serialVersionUID = 1L;});\n        sut.myMethod(args...);\n    }\n\n}\n</code></pre>\n\n<p>The problem is the mapper which i have mocked will not be used (i get unnecessary Mockito stubbings failure) as the mapper is again initialized inside the method. How can i unit test such a situation with mockito?</p>\n"},{"tags":["java","java.util.concurrent"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1647039052,"post_id":71443541,"comment_id":126281097,"body_markdown":"`call()` calls `listener()` but `listener()` calls `call()`; that&#39;s definitely bad; I notice you are using `ResponseEntity` and `Callable` as raw types, returning `new Object()` for some reason, you use `replaceAll` instead of `replace` but you aren&#39;t using a regex, you change the backslashes to spaces, then put them back, apparently to get the basename of the path? you have a `counter` that just tracks the value of the loop index `i`, and you add one future to a list of futures which then immediately goes out of scope. These are all... areas for improvement.","body":"<code>call()</code> calls <code>listener()</code> but <code>listener()</code> calls <code>call()</code>; that&#39;s definitely bad; I notice you are using <code>ResponseEntity</code> and <code>Callable</code> as raw types, returning <code>new Object()</code> for some reason, you use <code>replaceAll</code> instead of <code>replace</code> but you aren&#39;t using a regex, you change the backslashes to spaces, then put them back, apparently to get the basename of the path? you have a <code>counter</code> that just tracks the value of the loop index <code>i</code>, and you add one future to a list of futures which then immediately goes out of scope. These are all... areas for improvement."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1647039352,"post_id":71443541,"comment_id":126281154,"body_markdown":"Just to narrow in on one thing: `Callable&lt;V&gt;` is a generic type. You should never be declaring anything to be a callable, but rather, callable-of-something. Callable-of-Integer (`Callable&lt;Integer&gt;`), or callable-of-list-of-string (`Callable&lt;List&lt;String&gt;&gt;`), and then returning that type, and then doing something with it somewhere else. If you don&#39;t want to return anything or do anything with it, just use `Runnable`. The executor service will happily take a runnable task to perform.","body":"Just to narrow in on one thing: <code>Callable&lt;V&gt;</code> is a generic type. You should never be declaring anything to be a callable, but rather, callable-of-something. Callable-of-Integer (<code>Callable&lt;Integer&gt;</code>), or callable-of-list-of-string (<code>Callable&lt;List&lt;String&gt;&gt;</code>), and then returning that type, and then doing something with it somewhere else. If you don&#39;t want to return anything or do anything with it, just use <code>Runnable</code>. The executor service will happily take a runnable task to perform."}],"owner":{"account_id":24529917,"reputation":11,"user_id":18441907,"display_name":"Emanuelo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647025634,"creation_date":1647025634,"question_id":71443541,"body_markdown":"I have file listener which monitor changes in file. I want this app to work parallelly. When I do `/follow` I&#39;m creatind thread which monitor given file. Then I&#39;m doing second `/follow` to monitor another file. It works only for 2,3 saves for each file. After few changes in file it looks like thread which follows the file is killed. \r\nIn `listener` method I looped the thread to start watching the same file again\r\n\r\nMy `FileController`\r\n\r\n    public class FileController {\r\n        private final FileService fileService;\r\n    @PostMapping(&quot;/follow&quot;)\r\n        public ResponseEntity startFollowFile(@RequestBody PathModel path) throws Exception {\r\n            return fileService.fileFollower(path.getPath());\r\n        }\r\n\r\n\r\n\r\nMy `FileService` class\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class FileService {\r\n        @Autowired\r\n        @Qualifier(&quot;fixedThreadPool&quot;)\r\n        private final ExecutorService executorService;\r\n    \r\n    \r\n        public ResponseEntity fileFollower(String pathProvided) throws Exception {\r\n            File f = new File(pathProvided);\r\n            if (f.isFile()) {\r\n                List&lt;Future&lt;List&lt;String&gt;&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n    \r\n                futures.add(executorService.submit(new MonitorChangesTask(pathProvided)));\r\n    \r\n    \r\n                return new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\r\n\r\n    } else {\r\n                throw new FileNotExist(pathProvided);\r\n            }\r\n        }\r\n    }\r\n\r\nMy `MonitorChangesTask` class\r\n\r\n    @RequiredArgsConstructor\r\n    public class MonitorChangesTask implements Callable {\r\n        private final String pathProvided;\r\n\r\n    @Override\r\n        public Object call() throws Exception {\r\n            String s1 = pathProvided.replaceAll(&quot;\\\\\\\\&quot;, &quot; &quot;);\r\n            String[] split = s1.split(&quot; &quot;);\r\n            StringBuilder directory = new StringBuilder();\r\n            int counter = 0;\r\n            for (int i = 0; i &lt; split.length - 1; i++) {\r\n                String s = split[counter];\r\n                counter++;\r\n                directory.append(s).append(&quot;\\\\&quot;);\r\n            }\r\n            listener(split, directory);\r\n            return new Object();\r\n    }\r\n\r\n     private void listener(String[] split, StringBuilder directory) throws Exception {\r\n            Path path = Path.of(directory.toString());\r\n            try (final WatchService watchService = FileSystems.getDefault().newWatchService()) {\r\n                final WatchKey watchKey = path.register(watchService, StandardWatchEventKinds.ENTRY_MODIFY);\r\n                while (true) {\r\n                    final WatchKey wk = watchService.take();\r\n                    for (WatchEvent&lt;?&gt; event : wk.pollEvents()) {\r\n                        final Path changed = (Path) event.context();\r\n\r\n\r\n     if (changed.endsWith(split[split.length - 1])) {\r\n                            call();\r\n\r\n     }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\nWhy it stops following file after few saves of file? Something must be wrong with looping. ","title":"Thread stops its job","body":"<p>I have file listener which monitor changes in file. I want this app to work parallelly. When I do <code>/follow</code> I'm creatind thread which monitor given file. Then I'm doing second <code>/follow</code> to monitor another file. It works only for 2,3 saves for each file. After few changes in file it looks like thread which follows the file is killed.\nIn <code>listener</code> method I looped the thread to start watching the same file again</p>\n<p>My <code>FileController</code></p>\n<pre><code>public class FileController {\n    private final FileService fileService;\n@PostMapping(&quot;/follow&quot;)\n    public ResponseEntity startFollowFile(@RequestBody PathModel path) throws Exception {\n        return fileService.fileFollower(path.getPath());\n    }\n</code></pre>\n<p>My <code>FileService</code> class</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class FileService {\n    @Autowired\n    @Qualifier(&quot;fixedThreadPool&quot;)\n    private final ExecutorService executorService;\n\n\n    public ResponseEntity fileFollower(String pathProvided) throws Exception {\n        File f = new File(pathProvided);\n        if (f.isFile()) {\n            List&lt;Future&lt;List&lt;String&gt;&gt;&gt; futures = new ArrayList&lt;&gt;();\n\n            futures.add(executorService.submit(new MonitorChangesTask(pathProvided)));\n\n\n            return new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\n\n} else {\n            throw new FileNotExist(pathProvided);\n        }\n    }\n}\n</code></pre>\n<p>My <code>MonitorChangesTask</code> class</p>\n<pre><code>@RequiredArgsConstructor\npublic class MonitorChangesTask implements Callable {\n    private final String pathProvided;\n\n@Override\n    public Object call() throws Exception {\n        String s1 = pathProvided.replaceAll(&quot;\\\\\\\\&quot;, &quot; &quot;);\n        String[] split = s1.split(&quot; &quot;);\n        StringBuilder directory = new StringBuilder();\n        int counter = 0;\n        for (int i = 0; i &lt; split.length - 1; i++) {\n            String s = split[counter];\n            counter++;\n            directory.append(s).append(&quot;\\\\&quot;);\n        }\n        listener(split, directory);\n        return new Object();\n}\n\n private void listener(String[] split, StringBuilder directory) throws Exception {\n        Path path = Path.of(directory.toString());\n        try (final WatchService watchService = FileSystems.getDefault().newWatchService()) {\n            final WatchKey watchKey = path.register(watchService, StandardWatchEventKinds.ENTRY_MODIFY);\n            while (true) {\n                final WatchKey wk = watchService.take();\n                for (WatchEvent&lt;?&gt; event : wk.pollEvents()) {\n                    final Path changed = (Path) event.context();\n\n\n if (changed.endsWith(split[split.length - 1])) {\n                        call();\n\n }\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>Why it stops following file after few saves of file? Something must be wrong with looping.</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":1,"creation_date":1647012531,"post_id":71440651,"comment_id":126273084,"body_markdown":"Do this with an integration test / mockmvc. Spring does a lot of magic behind scenes and it&#39;s easy for that to go wrong.","body":"Do this with an integration test / mockmvc. Spring does a lot of magic behind scenes and it&#39;s easy for that to go wrong."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1647017889,"post_id":71440651,"comment_id":126275300,"body_markdown":"Combining `@ExtendWith` with `@RunWith` doesn&#39;t make sense. The first is for JUnit 5, while the second is for JUnit 4. You should only use one (the one that matches the JUnit version you want to use).","body":"Combining <code>@ExtendWith</code> with <code>@RunWith</code> doesn&#39;t make sense. The first is for JUnit 5, while the second is for JUnit 4. You should only use one (the one that matches the JUnit version you want to use)."},{"owner":{"account_id":144187,"reputation":7338,"user_id":353046,"accept_rate":47,"display_name":"Mankind1023"},"score":0,"creation_date":1647025382,"post_id":71440651,"comment_id":126277837,"body_markdown":"@Mark Rotteveel thanks for the note, I didn&#39;t realize this.","body":"@Mark Rotteveel thanks for the note, I didn&#39;t realize this."}],"owner":{"account_id":144187,"reputation":7338,"user_id":353046,"accept_rate":47,"display_name":"Mankind1023"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647025403,"creation_date":1647011495,"question_id":71440651,"body_markdown":"I have a controller end point that has an annotation for auth:\r\n\r\n      @PreAuthorize(&quot;@permissionService.hasPermission(#appUser.getId(), #businessId, &#39;READ&#39;)&quot;)\r\n      @GetMapping(&quot;/feature_flags/{featureFlagId}/business/{businessId}&quot;)\r\n      public BaseResponse&lt;FeatureFlagAccess&gt; checkBusinessFeatureAccess&lt;(..args&gt;) {\r\n        ...some code\r\n      }\r\n\r\nI&#39;ve written unit tests for the method itself, but I&#39;m not sure how to test the @PreAuthorize part, is this doable here or does it have to be an integration test?\r\n\r\nIf it helps, I&#39;m running tests with the following:\r\n\r\n    @ExtendWith(MockitoExtension.class)","title":"Test method that has a @PreAuthorize annotation","body":"<p>I have a controller end point that has an annotation for auth:</p>\n<pre><code>  @PreAuthorize(&quot;@permissionService.hasPermission(#appUser.getId(), #businessId, 'READ')&quot;)\n  @GetMapping(&quot;/feature_flags/{featureFlagId}/business/{businessId}&quot;)\n  public BaseResponse&lt;FeatureFlagAccess&gt; checkBusinessFeatureAccess&lt;(..args&gt;) {\n    ...some code\n  }\n</code></pre>\n<p>I've written unit tests for the method itself, but I'm not sure how to test the @PreAuthorize part, is this doable here or does it have to be an integration test?</p>\n<p>If it helps, I'm running tests with the following:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n</code></pre>\n"},{"tags":["java","postgresql","spring-data-jpa","jpql"],"comments":[{"owner":{"account_id":3748905,"reputation":518,"user_id":3116904,"accept_rate":82,"display_name":"Andrea_86"},"score":0,"creation_date":1645117529,"post_id":71162375,"comment_id":125791670,"body_markdown":"have you tried with native SQl command :  Limit 0,5 ? (where 0 is the start point, in your case i think is 5)","body":"have you tried with native SQl command :  Limit 0,5 ? (where 0 is the start point, in your case i think is 5)"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645177444,"post_id":71162375,"comment_id":125807100,"body_markdown":"Does this answer your question? [Specifying Result limit using JPA Specification](https://stackoverflow.com/questions/42804797/specifying-result-limit-using-jpa-specification)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/42804797/specifying-result-limit-using-jpa-specification\">Specifying Result limit using JPA Specification</a>"}],"answers":[{"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647024644,"creation_date":1647024644,"answer_id":71443366,"question_id":71162375,"body_markdown":"JPA is an abstraction over the database and is generalized for all databases. And we have stuffs which are database specific, like;\r\n\r\n    OFFSET 5 ROWS\r\n    FETCH FIRST 5 ROW ONLY\r\n\r\nFor info, IBM DB2 does not support these.\r\n\r\nSo JPQL, in general, will not usually support them. \r\n\r\nI guess native query is the way or you can work with `pageable`; `PageRequest` is a good implementation of pageable.","title":"How to get n rows at a time with JPQL?","body":"<p>JPA is an abstraction over the database and is generalized for all databases. And we have stuffs which are database specific, like;</p>\n<pre><code>OFFSET 5 ROWS\nFETCH FIRST 5 ROW ONLY\n</code></pre>\n<p>For info, IBM DB2 does not support these.</p>\n<p>So JPQL, in general, will not usually support them.</p>\n<p>I guess native query is the way or you can work with <code>pageable</code>; <code>PageRequest</code> is a good implementation of pageable.</p>\n"}],"owner":{"account_id":24290862,"reputation":3,"user_id":18235914,"display_name":"OnsSabri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":685,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71443366,"answer_count":1,"score":0,"last_activity_date":1647024644,"creation_date":1645117278,"question_id":71162375,"body_markdown":"I need some help with JPQL. I need to transform this PostgreSQL statement into JPQL, and I have no idea how.\r\n```sql\r\nSELECT * FROM public.user_table \r\nORDER BY id ASC \r\nOFFSET 5 ROWS\r\nFETCH FIRST 5 ROW ONLY \r\n```\r\nI tried writing it in this way ```&quot;SELECT u FROM user_table e ORDER BY id OFFSET 5 ROWS FETCH FIRST 5 ROW ONLY&quot;```, but it doesn&#39;t work.","title":"How to get n rows at a time with JPQL?","body":"<p>I need some help with JPQL. I need to transform this PostgreSQL statement into JPQL, and I have no idea how.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM public.user_table \nORDER BY id ASC \nOFFSET 5 ROWS\nFETCH FIRST 5 ROW ONLY \n</code></pre>\n<p>I tried writing it in this way <code>&quot;SELECT u FROM user_table e ORDER BY id OFFSET 5 ROWS FETCH FIRST 5 ROW ONLY&quot;</code>, but it doesn't work.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1647029333,"post_id":71443002,"comment_id":126278850,"body_markdown":"Why is `writeToFile` taking a `HashMap` instead of a `Map`, and why is it a raw type? It seems to me it should be declared as `writeToFile(Map&lt;String, Integer&gt; averageTime)` which would fix your problem. Don&#39;t use raw types; always specify the type parameters of generic types (except on the right hand side when creating them, when you can abbreviate them as `&lt;&gt;`, using the &quot;diamond syntax&quot;). And prefer interfaces over concrete types for parameters.","body":"Why is <code>writeToFile</code> taking a <code>HashMap</code> instead of a <code>Map</code>, and why is it a raw type? It seems to me it should be declared as <code>writeToFile(Map&lt;String, Integer&gt; averageTime)</code> which would fix your problem. Don&#39;t use raw types; always specify the type parameters of generic types (except on the right hand side when creating them, when you can abbreviate them as <code>&lt;&gt;</code>, using the &quot;diamond syntax&quot;). And prefer interfaces over concrete types for parameters."}],"answers":[{"tags":[],"owner":{"account_id":15769823,"reputation":145,"user_id":11379189,"display_name":"Michele Verriello"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647024030,"creation_date":1647024030,"answer_id":71443264,"question_id":71443002,"body_markdown":"Your Map is &lt;String, Object&gt;. So if You want to print the time you can do a simple Object.toString().\r\nIf You want to save the time as an Integer you need to cast From Object to Integer.\r\n\r\n    public static void writeToFile(HashMap averageTime) {\r\n        try {\r\n            File file = new File(&quot;newfile.txt&quot;);\r\n            if (!file.exists())\r\n                file.createNewFile();\r\n            PrintWriter pw = new PrintWriter(file);\r\n            for (Map.Entry&lt;String, Object&gt; entry : averageTime.entrySet()) {\r\n                pw.println(&quot;IP: &quot; + entry.getKey() + &quot;AverageTime: &quot; + entry.getValue().toString());\r\n            }","title":"Typecast failed for iteration HashMap, expected object","body":"<p>Your Map is &lt;String, Object&gt;. So if You want to print the time you can do a simple Object.toString().\nIf You want to save the time as an Integer you need to cast From Object to Integer.</p>\n<pre><code>public static void writeToFile(HashMap averageTime) {\n    try {\n        File file = new File(&quot;newfile.txt&quot;);\n        if (!file.exists())\n            file.createNewFile();\n        PrintWriter pw = new PrintWriter(file);\n        for (Map.Entry&lt;String, Object&gt; entry : averageTime.entrySet()) {\n            pw.println(&quot;IP: &quot; + entry.getKey() + &quot;AverageTime: &quot; + entry.getValue().toString());\n        }\n</code></pre>\n"}],"owner":{"account_id":20202311,"reputation":11,"user_id":14818734,"display_name":"Rumeone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647024030,"creation_date":1647022656,"question_id":71443002,"body_markdown":"I want to iterate over my hashmap, but an error occurs when writing a loop\r\n\r\n    Incompatible types. Found: &#39;java.util.Map.Entry&lt;java.lang.String,java.lang.Integer&gt;&#39;, required: &#39;java.lang.Object&#39;\r\n\r\nHow can I fix it? Here is the whole code:\r\n\r\n    public static void writeToFile(HashMap averageTime) {\r\n            try {\r\n                File file = new File(&quot;newfile.txt&quot;);\r\n                if (!file.exists())\r\n                    file.createNewFile();\r\n                PrintWriter pw = new PrintWriter(file);\r\n                for (Map.Entry&lt;String, Integer&gt; entry : averageTime.entrySet()) {\r\n                    pw.println(&quot;IP: &quot; + entry.getKey() + &quot;AverageTime: &quot; + entry.getValue());\r\n                }","title":"Typecast failed for iteration HashMap, expected object","body":"<p>I want to iterate over my hashmap, but an error occurs when writing a loop</p>\n<pre><code>Incompatible types. Found: 'java.util.Map.Entry&lt;java.lang.String,java.lang.Integer&gt;', required: 'java.lang.Object'\n</code></pre>\n<p>How can I fix it? Here is the whole code:</p>\n<pre><code>public static void writeToFile(HashMap averageTime) {\n        try {\n            File file = new File(&quot;newfile.txt&quot;);\n            if (!file.exists())\n                file.createNewFile();\n            PrintWriter pw = new PrintWriter(file);\n            for (Map.Entry&lt;String, Integer&gt; entry : averageTime.entrySet()) {\n                pw.println(&quot;IP: &quot; + entry.getKey() + &quot;AverageTime: &quot; + entry.getValue());\n            }\n</code></pre>\n"},{"tags":["java","hibernate","annotations","validation"],"answers":[{"tags":[],"owner":{"account_id":143980,"reputation":14984,"user_id":352708,"accept_rate":73,"display_name":"Slava Semushin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1346403803,"creation_date":1346403803,"answer_id":12212129,"question_id":12211734,"body_markdown":"Just write your own validator. Is&#39;t should be pretty simple: iterate over field names and get field values by using reflection.\r\n\r\nConcept:\r\n\r\n    Collection&lt;String&gt; values = Arrays.asList(\r\n        BeanUtils.getProperty(obj, fieldA),\r\n        BeanUtils.getProperty(obj, fieldB),\r\n    );\r\n    \r\n    return CollectionUtils.exists(values, PredicateUtils.notNullPredicate());\r\n\r\nThere I used methods from `commons-beanutils` and `commons-collections`.","title":"Hibernate validation annotation - validate that at least one field is not null","body":"<p>Just write your own validator. Is't should be pretty simple: iterate over field names and get field values by using reflection.</p>\n\n<p>Concept:</p>\n\n<pre><code>Collection&lt;String&gt; values = Arrays.asList(\n    BeanUtils.getProperty(obj, fieldA),\n    BeanUtils.getProperty(obj, fieldB),\n);\n\nreturn CollectionUtils.exists(values, PredicateUtils.notNullPredicate());\n</code></pre>\n\n<p>There I used methods from <code>commons-beanutils</code> and <code>commons-collections</code>.</p>\n"},{"tags":[],"owner":{"account_id":1766085,"reputation":6510,"user_id":1611950,"accept_rate":83,"display_name":"Resh32"},"down_vote_count":1,"up_vote_count":24,"is_accepted":true,"score":23,"last_activity_date":1614238029,"creation_date":1346407747,"answer_id":12213233,"question_id":12211734,"body_markdown":"I finally wrote the whole validator:\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n    import static java.lang.annotation.ElementType.TYPE;\r\n    import static java.lang.annotation.RetentionPolicy.RUNTIME;\r\n    \r\n    import java.lang.annotation.Documented;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.Target;\r\n    \r\n    import javax.validation.Constraint;\r\n    import javax.validation.ConstraintValidator;\r\n    import javax.validation.ConstraintValidatorContext;\r\n    import javax.validation.Payload;\r\n    \r\n    import org.apache.commons.beanutils.PropertyUtils; \r\n    \r\n    @Target( { TYPE })\r\n    @Retention(RUNTIME)\r\n    @Constraint(validatedBy = CheckAtLeastOneNotNull.CheckAtLeastOneNotNullValidator.class)\r\n    @Documented\r\n    public @interface CheckAtLeastOneNotNull {\r\n    \t\r\n    \t String message() default &quot;{com.xxx.constraints.checkatleastnotnull}&quot;;\r\n    \r\n    \t Class&lt;?&gt;[] groups() default {};\r\n    \r\n    \t Class&lt;? extends Payload&gt;[] payload() default {};\r\n    \t    \r\n    \t String[] fieldNames();\r\n    \t    \r\n    \t public static class CheckAtLeastOneNotNullValidator implements ConstraintValidator&lt;CheckAtLeastOneNotNull, Object&gt; {\r\n       \t    \t\r\n    \t     private String[] fieldNames;\r\n    \r\n    \t     public void initialize(CheckAtLeastOneNotNull constraintAnnotation) {\r\n    \t         this.fieldNames = constraintAnnotation.fieldNames();\r\n    \t     }\r\n    \r\n    \t     public boolean isValid(Object object, ConstraintValidatorContext constraintContext) {\r\n    \r\n    \t         if (object == null) {\r\n                     return true;\r\n                 }\r\n                 try { \r\n                     for (String fieldName:fieldNames){\r\n                         Object property = PropertyUtils.getProperty(object, fieldName);\r\n    \t        \t\t\t\r\n                         if (property != null) return true;\r\n                     }\r\n                     return false;\r\n                 } catch (Exception e) {\r\n                     return false;\r\n                 }\r\n             }\r\n         }\r\n    }\r\n\r\nExample of usage:\r\n\r\n    @Entity\r\n    @CheckAtLeastOneNotNull(fieldNames={&quot;fieldA&quot;,&quot;fieldB&quot;})\r\n    public class Reward {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tprivate Integer id;\r\n    \r\n    \tprivate Integer fieldA;\r\n    \tprivate Integer fieldB;\r\n\r\n    \t[...] // accessors, other fields, etc.\r\n    }\r\n","title":"Hibernate validation annotation - validate that at least one field is not null","body":"<p>I finally wrote the whole validator:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import static java.lang.annotation.ElementType.TYPE;\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\n\nimport java.lang.annotation.Documented;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.Target;\n\nimport javax.validation.Constraint;\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\nimport javax.validation.Payload;\n\nimport org.apache.commons.beanutils.PropertyUtils; \n\n@Target( { TYPE })\n@Retention(RUNTIME)\n@Constraint(validatedBy = CheckAtLeastOneNotNull.CheckAtLeastOneNotNullValidator.class)\n@Documented\npublic @interface CheckAtLeastOneNotNull {\n    \n     String message() default &quot;{com.xxx.constraints.checkatleastnotnull}&quot;;\n\n     Class&lt;?&gt;[] groups() default {};\n\n     Class&lt;? extends Payload&gt;[] payload() default {};\n        \n     String[] fieldNames();\n        \n     public static class CheckAtLeastOneNotNullValidator implements ConstraintValidator&lt;CheckAtLeastOneNotNull, Object&gt; {\n            \n         private String[] fieldNames;\n\n         public void initialize(CheckAtLeastOneNotNull constraintAnnotation) {\n             this.fieldNames = constraintAnnotation.fieldNames();\n         }\n\n         public boolean isValid(Object object, ConstraintValidatorContext constraintContext) {\n\n             if (object == null) {\n                 return true;\n             }\n             try { \n                 for (String fieldName:fieldNames){\n                     Object property = PropertyUtils.getProperty(object, fieldName);\n                        \n                     if (property != null) return true;\n                 }\n                 return false;\n             } catch (Exception e) {\n                 return false;\n             }\n         }\n     }\n}\n</code></pre>\n<p>Example of usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@CheckAtLeastOneNotNull(fieldNames={&quot;fieldA&quot;,&quot;fieldB&quot;})\npublic class Reward {\n\n    @Id\n    @GeneratedValue\n    private Integer id;\n\n    private Integer fieldA;\n    private Integer fieldB;\n\n    [...] // accessors, other fields, etc.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1313421,"reputation":1190,"user_id":1260908,"display_name":"rumman0786"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569475637,"creation_date":1569475637,"answer_id":58110104,"question_id":12211734,"body_markdown":"This is a bit like `Resh32`&#39;s answer but this will also bind the validation message with a specific field of the validated object. \r\n\r\nThe validation annotation class will be like the following one.\r\n\r\n    import javax.validation.Constraint;\r\n    import javax.validation.Payload;\r\n    import java.lang.annotation.Documented;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.Target;\r\n    \r\n    import static java.lang.annotation.ElementType.TYPE;\r\n    import static java.lang.annotation.RetentionPolicy.RUNTIME;\r\n    \r\n    /**\r\n     * @author rumman\r\n     * @since 9/23/19\r\n     */\r\n    @Target(TYPE)\r\n    @Retention(RUNTIME)\r\n    @Documented\r\n    @Constraint(validatedBy = NotNullAnyValidator.class)\r\n    public @interface NotNullAny {\r\n    \r\n        String[] fieldNames();\r\n    \r\n        String errorOnProperty();\r\n    \r\n        String messageKey() default &quot;{error.required}&quot;;\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\nThe validator class will be like the following.\r\n\r\n    import javax.validation.ConstraintValidator;\r\n    import javax.validation.ConstraintValidatorContext;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.util.Arrays;\r\n    import java.util.Objects;\r\n    \r\n    import static org.springframework.beans.BeanUtils.getPropertyDescriptor;\r\n    \r\n    /**\r\n     * @author rumman\r\n     * @since 9/23/19\r\n     */\r\n    public class NotNullAnyValidator implements ConstraintValidator&lt;NotNullAny, Object&gt; {\r\n    \r\n        private String[] fieldNames;\r\n        private String errorOnProperty;\r\n        private String messageKey;\r\n    \r\n        @Override\r\n        public void initialize(NotNullAny validateDateRange) {\r\n            fieldNames = validateDateRange.fieldNames();\r\n            errorOnProperty = validateDateRange.errorOnProperty();\r\n            messageKey = validateDateRange.messageKey();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(Object obj, ConstraintValidatorContext validatorContext) {\r\n    \r\n            Object[] fieldValues = new Object[fieldNames.length];\r\n    \r\n            try {\r\n                for (int i = 0; i &lt; fieldValues.length; i++) {\r\n                    fieldValues[i] = getPropertyDescriptor(obj.getClass(), fieldNames[i]).getReadMethod().invoke(obj);\r\n                }\r\n    \r\n            } catch (IllegalAccessException | InvocationTargetException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n    \r\n            if (Arrays.stream(fieldValues).noneMatch(Objects::nonNull)) {\r\n                validatorContext.buildConstraintViolationWithTemplate(messageKey)\r\n                        .addPropertyNode(errorOnProperty)\r\n                        .addConstraintViolation()\r\n                        .disableDefaultConstraintViolation();\r\n    \r\n                return false;\r\n            }\r\n    \r\n            return true;\r\n        }\r\n    }\r\n\r\nPay attention to the last `if` condition block, this checks if no non `null` value is found then specifies the error message, the property with which the error message will be bound to and will add the constraint violation.\r\n\r\nTo use the annotation in a class\r\n\r\n    /**\r\n     * @author rumman\r\n     * @since 9/23/19\r\n     */\r\n    @NotNullAny(fieldNames = {&quot;field1&quot;, &quot;field2&quot;, &quot;field3&quot;},\r\n            errorOnProperty = &quot;field1&quot;,\r\n            messageKey = &quot;my.error.msg.key&quot;)\r\n    public class TestEntityForValidation {\r\n    \r\n        private String field1;\r\n        private String field2;\r\n        private String field3;\r\n    \r\n        // standard constructor(s) and getter &amp; setters below\r\n    }","title":"Hibernate validation annotation - validate that at least one field is not null","body":"<p>This is a bit like <code>Resh32</code>'s answer but this will also bind the validation message with a specific field of the validated object. </p>\n\n<p>The validation annotation class will be like the following one.</p>\n\n<pre><code>import javax.validation.Constraint;\nimport javax.validation.Payload;\nimport java.lang.annotation.Documented;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.Target;\n\nimport static java.lang.annotation.ElementType.TYPE;\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\n\n/**\n * @author rumman\n * @since 9/23/19\n */\n@Target(TYPE)\n@Retention(RUNTIME)\n@Documented\n@Constraint(validatedBy = NotNullAnyValidator.class)\npublic @interface NotNullAny {\n\n    String[] fieldNames();\n\n    String errorOnProperty();\n\n    String messageKey() default \"{error.required}\";\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n\n<p>The validator class will be like the following.</p>\n\n<pre><code>import javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\nimport java.lang.reflect.InvocationTargetException;\nimport java.util.Arrays;\nimport java.util.Objects;\n\nimport static org.springframework.beans.BeanUtils.getPropertyDescriptor;\n\n/**\n * @author rumman\n * @since 9/23/19\n */\npublic class NotNullAnyValidator implements ConstraintValidator&lt;NotNullAny, Object&gt; {\n\n    private String[] fieldNames;\n    private String errorOnProperty;\n    private String messageKey;\n\n    @Override\n    public void initialize(NotNullAny validateDateRange) {\n        fieldNames = validateDateRange.fieldNames();\n        errorOnProperty = validateDateRange.errorOnProperty();\n        messageKey = validateDateRange.messageKey();\n    }\n\n    @Override\n    public boolean isValid(Object obj, ConstraintValidatorContext validatorContext) {\n\n        Object[] fieldValues = new Object[fieldNames.length];\n\n        try {\n            for (int i = 0; i &lt; fieldValues.length; i++) {\n                fieldValues[i] = getPropertyDescriptor(obj.getClass(), fieldNames[i]).getReadMethod().invoke(obj);\n            }\n\n        } catch (IllegalAccessException | InvocationTargetException e) {\n            throw new RuntimeException(e);\n        }\n\n        if (Arrays.stream(fieldValues).noneMatch(Objects::nonNull)) {\n            validatorContext.buildConstraintViolationWithTemplate(messageKey)\n                    .addPropertyNode(errorOnProperty)\n                    .addConstraintViolation()\n                    .disableDefaultConstraintViolation();\n\n            return false;\n        }\n\n        return true;\n    }\n}\n</code></pre>\n\n<p>Pay attention to the last <code>if</code> condition block, this checks if no non <code>null</code> value is found then specifies the error message, the property with which the error message will be bound to and will add the constraint violation.</p>\n\n<p>To use the annotation in a class</p>\n\n<pre><code>/**\n * @author rumman\n * @since 9/23/19\n */\n@NotNullAny(fieldNames = {\"field1\", \"field2\", \"field3\"},\n        errorOnProperty = \"field1\",\n        messageKey = \"my.error.msg.key\")\npublic class TestEntityForValidation {\n\n    private String field1;\n    private String field2;\n    private String field3;\n\n    // standard constructor(s) and getter &amp; setters below\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13368696,"reputation":75,"user_id":9647940,"display_name":"Marcus Chiu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647023513,"creation_date":1647023513,"answer_id":71443169,"question_id":12211734,"body_markdown":"If you could use `javax.validation` then I would use @AssertTrue.\r\n\r\nUsing `javax.validation` shouldn&#39;t be a problem since `hibernate-validation` is an implementation of `javax.validation`&#39;s interfaces/annotations which itself is an &quot;implementation&quot; of the Bean Validation 2.0 specification\r\n\r\n```java\r\n@Entity\r\n@OneFieldMustBeNotNullConstraint(list={fieldA,fieldB})\r\npublic class Card {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Integer card_id;\r\n\r\n    @Column(nullable = true)\r\n    private Long fieldA;\r\n\r\n    @Column(nullable = true)\r\n    private Long fieldB;\r\n\r\n    @AssertTrue(message = &quot;at least one should be non-null&quot;)\r\n    public boolean isValid1() {\r\n        return Objects.nonNull(fieldA) || Objects.nonNull(fieldB);\r\n    }\r\n}\r\n```","title":"Hibernate validation annotation - validate that at least one field is not null","body":"<p>If you could use <code>javax.validation</code> then I would use @AssertTrue.</p>\n<p>Using <code>javax.validation</code> shouldn't be a problem since <code>hibernate-validation</code> is an implementation of <code>javax.validation</code>'s interfaces/annotations which itself is an &quot;implementation&quot; of the Bean Validation 2.0 specification</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@OneFieldMustBeNotNullConstraint(list={fieldA,fieldB})\npublic class Card {\n\n    @Id\n    @GeneratedValue\n    private Integer card_id;\n\n    @Column(nullable = true)\n    private Long fieldA;\n\n    @Column(nullable = true)\n    private Long fieldB;\n\n    @AssertTrue(message = &quot;at least one should be non-null&quot;)\n    public boolean isValid1() {\n        return Objects.nonNull(fieldA) || Objects.nonNull(fieldB);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1766085,"reputation":6510,"user_id":1611950,"accept_rate":83,"display_name":"Resh32"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14010,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":12213233,"answer_count":4,"score":14,"last_activity_date":1647023513,"creation_date":1346402310,"question_id":12211734,"body_markdown":"Is there a way to define a Hibernate validation rule using annotations as defined [here][1], stating that at least one field shall be not null?\r\n\r\nThis would be a hypothetical example (`@OneFieldMustBeNotNullConstraint` does not really exist):\r\n\r\n    @Entity\r\n    @OneFieldMustBeNotNullConstraint(list={fieldA,fieldB})\r\n    public class Card {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tprivate Integer card_id;\r\n    \r\n    \t@Column(nullable = true)\r\n    \tprivate Long fieldA;\r\n    \r\n    \t@Column(nullable = true)\r\n    \tprivate Long fieldB;\r\n    \r\n    }\r\n\r\nIn the illustrated case, fieldA can be null or fieldB can be null, but not both.\r\n\r\nOne way would be to create my own validator, but I&#39;d like to avoid if it already exists. Please share one validator if you have one already made... thanks!\r\n\r\n  [1]: http://docs.jboss.org/hibernate/validator/4.0.1/reference/en/html_single/#validator-customconstraints-compound","title":"Hibernate validation annotation - validate that at least one field is not null","body":"<p>Is there a way to define a Hibernate validation rule using annotations as defined <a href=\"http://docs.jboss.org/hibernate/validator/4.0.1/reference/en/html_single/#validator-customconstraints-compound\" rel=\"noreferrer\">here</a>, stating that at least one field shall be not null?</p>\n\n<p>This would be a hypothetical example (<code>@OneFieldMustBeNotNullConstraint</code> does not really exist):</p>\n\n<pre><code>@Entity\n@OneFieldMustBeNotNullConstraint(list={fieldA,fieldB})\npublic class Card {\n\n    @Id\n    @GeneratedValue\n    private Integer card_id;\n\n    @Column(nullable = true)\n    private Long fieldA;\n\n    @Column(nullable = true)\n    private Long fieldB;\n\n}\n</code></pre>\n\n<p>In the illustrated case, fieldA can be null or fieldB can be null, but not both.</p>\n\n<p>One way would be to create my own validator, but I'd like to avoid if it already exists. Please share one validator if you have one already made... thanks!</p>\n"},{"tags":["java","swing","validation","if-statement"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1647023437,"post_id":71440442,"comment_id":126277256,"body_markdown":"Use. *Layouts!*","body":"Use. <i>Layouts!</i>"}],"answers":[{"tags":[],"owner":{"account_id":23971993,"reputation":40,"user_id":17960559,"display_name":"VinuXD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647014082,"creation_date":1647011912,"answer_id":71440753,"question_id":71440442,"body_markdown":"If statements can be placed inside `actionPerformed()` method.\r\n\r\nIn your case You can do,\r\n\r\n```java\r\npublic void actionPerformed(ActionEvent e) {\r\nif (e.getSource() == sub) {\r\n\r\nif(Integer.parseInt(tname.getText().length()) &gt; 3 &amp;&amp; \r\n  address1.getText() != address2.getText())\r\n }\r\n}\r\n```\r\nand goes...","title":"Where to enter the if condition in javax.swing?","body":"<p>If statements can be placed inside <code>actionPerformed()</code> method.</p>\n<p>In your case You can do,</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void actionPerformed(ActionEvent e) {\nif (e.getSource() == sub) {\n\nif(Integer.parseInt(tname.getText().length()) &gt; 3 &amp;&amp; \n  address1.getText() != address2.getText())\n }\n}\n</code></pre>\n<p>and goes...</p>\n"}],"owner":{"account_id":24527721,"reputation":1,"user_id":18439966,"display_name":"Z J"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647023333,"creation_date":1647010730,"question_id":71440442,"body_markdown":"Where to enter the `if` condition in `javax.swing`?\r\n\r\nI’m creating a registration form and want to add the following conditions to the form:&lt;br&gt;\r\n•\tName: can not be less than 3 letters.&lt;br&gt;\r\n•\tAddress1 and  address2: Both addresses should not be the same.&lt;br&gt;\r\n•\tAge: not less than 18 years.&lt;br&gt;\r\n•\tHeight: not less than 130.&lt;br&gt;\r\n•\tWeight: not less than 30&lt;be&gt;\r\n\r\nBut I do not know where to enter the if condition.\r\n\r\n    package com.signupform;\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    \r\n    class MyFrame\r\n            extends JFrame\r\n            implements ActionListener {\r\n    \r\n        private Container c;\r\n        private JLabel title;\r\n        private JLabel name;\r\n        private JTextField tname;\r\n        private JLabel age;\r\n        private JTextField tage;\r\n        private JLabel height;\r\n        private JTextField theight;\r\n        private JLabel weight;\r\n        private JTextField tweight;\r\n        private JLabel address1;\r\n        private JTextField taddress1;\r\n        private JLabel add2;\r\n        private JTextField tadd2;\r\n        private JButton sub;\r\n        private JTextArea tout;\r\n    \r\n    \r\n        public MyFrame()\r\n        {\r\n            setTitle(&quot;Registration Form&quot;);\r\n            setBounds(300, 90, 900, 600);\r\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            setResizable(false);\r\n            getContentPane().setBackground(Color.lightGray);\r\n    \r\n            c = getContentPane();\r\n            c.setLayout(null);\r\n    \r\n            title = new JLabel(&quot;Registration Form&quot;);\r\n            title.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 30));\r\n            title.setBounds(300,30,300,30);\r\n            c.add(title);\r\n    \r\n            name = new JLabel(&quot;Name&quot;);\r\n            name.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 20));\r\n            name.setBounds(50,100,100,20);\r\n            c.add(name);\r\n    \r\n            tname = new JTextField();\r\n            tname.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 15));\r\n            tname.setBounds(150,100,190,20);\r\n            c.add(tname);\r\n    \r\n            age = new JLabel(&quot;Age&quot;);\r\n            age.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 20));\r\n            age.setBounds(50,150,100,20);\r\n            c.add(age);\r\n    \r\n            tage = new JTextField();\r\n            tage.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 15));\r\n            tage.setBounds(150,150,60,20);\r\n            c.add(tage);\r\n    \r\n            height = new JLabel(&quot;Height&quot;);\r\n            height.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 20));\r\n            height.setBounds(50,200,100,20);\r\n            c.add(height);\r\n    \r\n            theight = new JTextField();\r\n            theight.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 15));\r\n            theight.setBounds(150,200,60,20);\r\n            c.add(theight);\r\n    \r\n            weight = new JLabel(&quot;Weight&quot;);\r\n            weight.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 20));\r\n            weight.setBounds(50,250,100,20);\r\n            c.add(weight);\r\n    \r\n            tweight = new JTextField();\r\n            tweight.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 15));\r\n            tweight.setBounds(150,250,60,20);\r\n            c.add(tweight);\r\n    \r\n            address1 = new JLabel(&quot;Address 1&quot;);\r\n            address1.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 20));\r\n            address1.setBounds(50,300,100,20);\r\n            c.add(address1);\r\n    \r\n            taddress1 = new JTextField();\r\n            taddress1.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 15));\r\n            taddress1.setBounds(150,300,450,30);\r\n            c.add(taddress1);\r\n    \r\n            add2 = new JLabel(&quot;Address 2&quot;);\r\n            add2.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 20));\r\n            add2.setBounds(50,350,100,20);\r\n            c.add(add2);\r\n    \r\n            tadd2 = new JTextField();\r\n            tadd2.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 15));\r\n            tadd2.setBounds(150,350,450,30);\r\n            c.add(tadd2);\r\n    \r\n            sub = new JButton(&quot;Submit&quot;);\r\n            sub.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 15));\r\n            sub.setBounds(150,420,100,30);\r\n            sub.addActionListener(this);\r\n            c.add(sub);\r\n    \r\n            tout = new JTextArea();\r\n            tout.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 15));\r\n            tout.setBounds(500,80,300,200);\r\n            tout.setLineWrap(true);\r\n            tout.setEditable(false);\r\n            c.add(tout);\r\n    \r\n            setVisible(true);\r\n        }\r\n    \r\n    \r\n        public void actionPerformed(ActionEvent e) {\r\n            if (e.getSource() == sub) {\r\n                String data1 = &quot;Name : &quot; + tname.getText() + &quot;\\n&quot;\r\n                             + &quot;Age : &quot; + tage.getText() + &quot;\\n&quot;;\r\n                String data2 = &quot;Height : &quot; + theight.getText() + &quot;\\n&quot;\r\n                             + &quot;Weight : &quot; + tweight.getText() + &quot;\\n&quot;;\r\n                String data3 = &quot;Address 1 : &quot; + taddress1.getText() + &quot;\\n&quot;\r\n                             + &quot;Address 2 : &quot; + tadd2.getText();\r\n    \r\n                tout.setText(data1 + data2 + data3 );\r\n                tout.setEditable(false);\r\n            }\r\n        }\r\n    \r\n    }\r\n    \r\n    class Registration {\r\n    \r\n        public static void main(String[] args) throws Exception\r\n        {\r\n            MyFrame f = new MyFrame();\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Where to enter the if condition in javax.swing?","body":"<p>Where to enter the <code>if</code> condition in <code>javax.swing</code>?</p>\n<p>I’m creating a registration form and want to add the following conditions to the form:<br>\n•   Name: can not be less than 3 letters.<br>\n•   Address1 and  address2: Both addresses should not be the same.<br>\n•   Age: not less than 18 years.<br>\n•   Height: not less than 130.<br>\n•   Weight: not less than 30</p>\n<p>But I do not know where to enter the if condition.</p>\n<pre><code>package com.signupform;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\nclass MyFrame\n        extends JFrame\n        implements ActionListener {\n\n    private Container c;\n    private JLabel title;\n    private JLabel name;\n    private JTextField tname;\n    private JLabel age;\n    private JTextField tage;\n    private JLabel height;\n    private JTextField theight;\n    private JLabel weight;\n    private JTextField tweight;\n    private JLabel address1;\n    private JTextField taddress1;\n    private JLabel add2;\n    private JTextField tadd2;\n    private JButton sub;\n    private JTextArea tout;\n\n\n    public MyFrame()\n    {\n        setTitle(&quot;Registration Form&quot;);\n        setBounds(300, 90, 900, 600);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setResizable(false);\n        getContentPane().setBackground(Color.lightGray);\n\n        c = getContentPane();\n        c.setLayout(null);\n\n        title = new JLabel(&quot;Registration Form&quot;);\n        title.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 30));\n        title.setBounds(300,30,300,30);\n        c.add(title);\n\n        name = new JLabel(&quot;Name&quot;);\n        name.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 20));\n        name.setBounds(50,100,100,20);\n        c.add(name);\n\n        tname = new JTextField();\n        tname.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 15));\n        tname.setBounds(150,100,190,20);\n        c.add(tname);\n\n        age = new JLabel(&quot;Age&quot;);\n        age.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 20));\n        age.setBounds(50,150,100,20);\n        c.add(age);\n\n        tage = new JTextField();\n        tage.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 15));\n        tage.setBounds(150,150,60,20);\n        c.add(tage);\n\n        height = new JLabel(&quot;Height&quot;);\n        height.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 20));\n        height.setBounds(50,200,100,20);\n        c.add(height);\n\n        theight = new JTextField();\n        theight.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 15));\n        theight.setBounds(150,200,60,20);\n        c.add(theight);\n\n        weight = new JLabel(&quot;Weight&quot;);\n        weight.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 20));\n        weight.setBounds(50,250,100,20);\n        c.add(weight);\n\n        tweight = new JTextField();\n        tweight.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 15));\n        tweight.setBounds(150,250,60,20);\n        c.add(tweight);\n\n        address1 = new JLabel(&quot;Address 1&quot;);\n        address1.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 20));\n        address1.setBounds(50,300,100,20);\n        c.add(address1);\n\n        taddress1 = new JTextField();\n        taddress1.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 15));\n        taddress1.setBounds(150,300,450,30);\n        c.add(taddress1);\n\n        add2 = new JLabel(&quot;Address 2&quot;);\n        add2.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 20));\n        add2.setBounds(50,350,100,20);\n        c.add(add2);\n\n        tadd2 = new JTextField();\n        tadd2.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 15));\n        tadd2.setBounds(150,350,450,30);\n        c.add(tadd2);\n\n        sub = new JButton(&quot;Submit&quot;);\n        sub.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 15));\n        sub.setBounds(150,420,100,30);\n        sub.addActionListener(this);\n        c.add(sub);\n\n        tout = new JTextArea();\n        tout.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 15));\n        tout.setBounds(500,80,300,200);\n        tout.setLineWrap(true);\n        tout.setEditable(false);\n        c.add(tout);\n\n        setVisible(true);\n    }\n\n\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == sub) {\n            String data1 = &quot;Name : &quot; + tname.getText() + &quot;\\n&quot;\n                         + &quot;Age : &quot; + tage.getText() + &quot;\\n&quot;;\n            String data2 = &quot;Height : &quot; + theight.getText() + &quot;\\n&quot;\n                         + &quot;Weight : &quot; + tweight.getText() + &quot;\\n&quot;;\n            String data3 = &quot;Address 1 : &quot; + taddress1.getText() + &quot;\\n&quot;\n                         + &quot;Address 2 : &quot; + tadd2.getText();\n\n            tout.setText(data1 + data2 + data3 );\n            tout.setEditable(false);\n        }\n    }\n\n}\n\nclass Registration {\n\n    public static void main(String[] args) throws Exception\n    {\n        MyFrame f = new MyFrame();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1659832,"reputation":15646,"user_id":2147481,"accept_rate":82,"display_name":"Gokul Nath KP"},"score":1,"creation_date":1647019158,"post_id":71442295,"comment_id":126275772,"body_markdown":"Any code snippet that you have tried would be useful to provide suggestions.","body":"Any code snippet that you have tried would be useful to provide suggestions."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1647019320,"post_id":71442295,"comment_id":126275836,"body_markdown":"What is `CustomObject` and how expect a string to be converted into it? Show us your code.","body":"What is <code>CustomObject</code> and how expect a string to be converted into it? Show us your code."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1647019415,"post_id":71442295,"comment_id":126275875,"body_markdown":"`order is significative` - What do you mean by that? Initial order must be preserved?","body":"<code>order is significative</code> - What do you mean by that? Initial order must be preserved?"},{"owner":{"account_id":24529084,"reputation":1,"user_id":18441183,"display_name":"Mathieu"},"score":0,"creation_date":1647019838,"post_id":71442295,"comment_id":126276050,"body_markdown":"Yes @AlexanderIvanchenko, the order have to be preserved, thanks","body":"Yes @AlexanderIvanchenko, the order have to be preserved, thanks"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1647020953,"post_id":71442295,"comment_id":126276461,"body_markdown":"It is not really clear what you are asking about? How is the `names` list connected to the `customObjects` list What do you mean by _**composed of one element for a name (any of them) with the same order than names**_ ? Can you give a sample input and the expected output? If for example your names list contains the strings `[&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]` how coluld a sample custom objects list look like and what do you want returned?","body":"It is not really clear what you are asking about? How is the <code>names</code> list connected to the <code>customObjects</code> list What do you mean by <i><b>composed of one element for a name (any of them) with the same order than names</b></i> ? Can you give a sample input and the expected output? If for example your names list contains the strings <code>[&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]</code> how coluld a sample custom objects list look like and what do you want returned?"},{"owner":{"account_id":24529084,"reputation":1,"user_id":18441183,"display_name":"Mathieu"},"score":0,"creation_date":1647021657,"post_id":71442295,"comment_id":126276691,"body_markdown":"names could be like : [&quot;foo&quot;,&quot;bar&quot;,&quot;baz&quot;]\ncustomObjects could be like (i just print the name in this array for simplification): [&quot;foo&quot;,&quot;fii&quot;,&quot;bar&quot;,&quot;baz&quot;,&quot;foo&quot;,&quot;toto&quot;,&quot;bar&quot;,&quot;baz&quot;,&quot;foo&quot;,&quot;bar&quot;,&quot;baz&quot;]\nI need a customObject list like : [&quot;foo&quot;,&quot;bar&quot;,&quot;baz&quot;]","body":"names could be like : [&quot;foo&quot;,&quot;bar&quot;,&quot;baz&quot;] customObjects could be like (i just print the name in this array for simplification): [&quot;foo&quot;,&quot;fii&quot;,&quot;bar&quot;,&quot;baz&quot;,&quot;foo&quot;,&quot;toto&quot;,&quot;bar&quot;,&quot;baz&quot;,&quot;foo&quot;,&quot;bar&zwnj;&#8203;&quot;,&quot;baz&quot;] I need a customObject list like : [&quot;foo&quot;,&quot;bar&quot;,&quot;baz&quot;]"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647023095,"creation_date":1647020271,"answer_id":71442549,"question_id":71442295,"body_markdown":"You can obtain the resulting list by applying `Collectors.toList()` in the stream without creating a *loop*.\r\n____________________________________________________\r\n\r\n **Update**\r\n\r\n&gt; I need to return a customObjectList where it size is the same of the\r\n&gt; inital nameList\r\n&gt; \r\n&gt; customObjects have **several** items who have the same name\r\n\r\nIf I understood your intention correctly, the resulting list needs to be based on the values from the list of names.\r\n\r\nThe code below will be useful only if there&#39;s a particular rule on how to choose the object from the group of duplicates, it needs to be added as the third argument of the `Collectors.toMap()` (*now it chooses the first encountered*).\r\n\r\n    Map&lt;String, CustomObjet&gt; objByName =\r\n                customObjects.stream()\r\n                        .collect(Collectors.toMap(CustomObject::getName, \r\n                                                    Function.identity()),\r\n                                                    (v1, v2) -&gt; v1); // rule on how to dial with duplicates (when name is the same)\r\n\r\n        List&lt;CustomObjet&gt; customObjetsToReturn =\r\n                names.stream()\r\n                        .filter(objByName::containsKey)\r\n                        .map(objByName::get)\r\n                        .collect(Collectors.toList());","title":"Turn ordered List A &amp; List B to Ordered List C","body":"<p>You can obtain the resulting list by applying <code>Collectors.toList()</code> in the stream without creating a <em>loop</em>.</p>\n<hr />\n<p><strong>Update</strong></p>\n<blockquote>\n<p>I need to return a customObjectList where it size is the same of the\ninital nameList</p>\n<p>customObjects have <strong>several</strong> items who have the same name</p>\n</blockquote>\n<p>If I understood your intention correctly, the resulting list needs to be based on the values from the list of names.</p>\n<p>The code below will be useful only if there's a particular rule on how to choose the object from the group of duplicates, it needs to be added as the third argument of the <code>Collectors.toMap()</code> (<em>now it chooses the first encountered</em>).</p>\n<pre><code>Map&lt;String, CustomObjet&gt; objByName =\n            customObjects.stream()\n                    .collect(Collectors.toMap(CustomObject::getName, \n                                                Function.identity()),\n                                                (v1, v2) -&gt; v1); // rule on how to dial with duplicates (when name is the same)\n\n    List&lt;CustomObjet&gt; customObjetsToReturn =\n            names.stream()\n                    .filter(objByName::containsKey)\n                    .map(objByName::get)\n                    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647022918,"creation_date":1647022918,"answer_id":71443061,"question_id":71442295,"body_markdown":"So basically you want to filter all `CustomObject` whose name appear in the `names` list and then you want to have distinct `CustomObject`s by the attribute `name`. If so something like below should do the trick:\r\n\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.concurrent.ConcurrentHashMap;\r\n    import java.util.function.Function;\r\n    import java.util.function.Predicate;\r\n    import java.util.stream.Collectors;\r\n\r\n    ....\r\n\r\n\r\n    List&lt;String&gt; names; //your names\r\n    List&lt;CustomObject&gt; customObjects; //your objs\r\n\r\n    List&lt;CustomObject&gt; filterd =\r\n                customObjects.stream()\r\n                             .filter(co -&gt; names.contains(co.getName()))\r\n                             .filter(distinctByKey(CustomObject::getName))\r\n                             .collect(Collectors.toList());\r\n\r\n    public static &lt;T&gt; Predicate&lt;T&gt; distinctByKey(Function&lt;? super T, ?&gt; keyExtractor) {\r\n        Map&lt;Object, Boolean&gt; seen = new ConcurrentHashMap&lt;&gt;();\r\n        return t -&gt; seen.putIfAbsent(keyExtractor.apply(t), Boolean.TRUE) == null;\r\n    }","title":"Turn ordered List A &amp; List B to Ordered List C","body":"<p>So basically you want to filter all <code>CustomObject</code> whose name appear in the <code>names</code> list and then you want to have distinct <code>CustomObject</code>s by the attribute <code>name</code>. If so something like below should do the trick:</p>\n<pre><code>import java.util.List;\nimport java.util.Map;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.function.Function;\nimport java.util.function.Predicate;\nimport java.util.stream.Collectors;\n\n....\n\n\nList&lt;String&gt; names; //your names\nList&lt;CustomObject&gt; customObjects; //your objs\n\nList&lt;CustomObject&gt; filterd =\n            customObjects.stream()\n                         .filter(co -&gt; names.contains(co.getName()))\n                         .filter(distinctByKey(CustomObject::getName))\n                         .collect(Collectors.toList());\n\npublic static &lt;T&gt; Predicate&lt;T&gt; distinctByKey(Function&lt;? super T, ?&gt; keyExtractor) {\n    Map&lt;Object, Boolean&gt; seen = new ConcurrentHashMap&lt;&gt;();\n    return t -&gt; seen.putIfAbsent(keyExtractor.apply(t), Boolean.TRUE) == null;\n}\n</code></pre>\n"}],"owner":{"account_id":24529084,"reputation":1,"user_id":18441183,"display_name":"Mathieu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1647023095,"creation_date":1647018991,"question_id":71442295,"body_markdown":"Here the problem I am having :\r\n\r\nI have :\r\n- a List\\&lt;String\\&gt; names; provided by my GUI where the order is significative;\r\n- a List\\&lt;CustomObject\\&gt; customObjects; where customObject could have the same &quot;name&quot; attribut.\r\n\r\nI need to return a List\\&lt;CustomObject\\&gt; customObjects; composed of one element for a name (any of them) with the same order than names.\r\n\r\nI tried some things but I feel it has to nest a for with a stream and I think I&#39;ll have to do otherwise.\r\n\r\nFor exemple : \r\n\r\n        Map&lt;String, CustomObjects&gt; map = customObjects.stream().filter(co -&gt; names.contains(co.getName())).collect(Collectors.toMap(CustomObjects::getName, co-&gt;co));\r\n    \r\n    for(String name : names) {\r\n      customObjetsToReturn.add(map.get(name));\r\n    }\r\n\r\nOr\r\n\r\n        for (String name : names) {\r\n      customObjects.stream().filter(co -&gt; name.equals(co.getName())).findFirst().ifPresent(customObjectsToReturn::add);\r\n    }","title":"Turn ordered List A &amp; List B to Ordered List C","body":"<p>Here the problem I am having :</p>\n<p>I have :</p>\n<ul>\n<li>a List&lt;String&gt; names; provided by my GUI where the order is significative;</li>\n<li>a List&lt;CustomObject&gt; customObjects; where customObject could have the same &quot;name&quot; attribut.</li>\n</ul>\n<p>I need to return a List&lt;CustomObject&gt; customObjects; composed of one element for a name (any of them) with the same order than names.</p>\n<p>I tried some things but I feel it has to nest a for with a stream and I think I'll have to do otherwise.</p>\n<p>For exemple :</p>\n<pre><code>    Map&lt;String, CustomObjects&gt; map = customObjects.stream().filter(co -&gt; names.contains(co.getName())).collect(Collectors.toMap(CustomObjects::getName, co-&gt;co));\n\nfor(String name : names) {\n  customObjetsToReturn.add(map.get(name));\n}\n</code></pre>\n<p>Or</p>\n<pre><code>    for (String name : names) {\n  customObjects.stream().filter(co -&gt; name.equals(co.getName())).findFirst().ifPresent(customObjectsToReturn::add);\n}\n</code></pre>\n"},{"tags":["java","android","xml","android-fragments","textview"],"comments":[{"owner":{"account_id":971023,"reputation":6146,"user_id":993600,"accept_rate":87,"display_name":"TMH"},"score":0,"creation_date":1404396652,"post_id":24555996,"comment_id":38031581,"body_markdown":"What have you alread ytried?","body":"What have you alread ytried?"},{"owner":{"account_id":246397,"reputation":1200,"user_id":520536,"accept_rate":65,"display_name":"gmemario"},"score":0,"creation_date":1404396704,"post_id":24555996,"comment_id":38031609,"body_markdown":"You should have a reference to your fragment in you activity.","body":"You should have a reference to your fragment in you activity."},{"owner":{"account_id":1173799,"reputation":81,"user_id":1150310,"accept_rate":25,"display_name":"branecko"},"score":0,"creation_date":1404399181,"post_id":24555996,"comment_id":38033577,"body_markdown":"I tried to make public method (=setter) in Fragment and call it from FragmentActivity. I also tried to change text directly from fragment:\n`TextView textUrl = (TextView) getView().findViewById(R.id.texturl);\t\t\t \ntextCode.setText(&quot;random&quot;);`","body":"I tried to make public method (=setter) in Fragment and call it from FragmentActivity. I also tried to change text directly from fragment: <code>TextView textUrl = (TextView) getView().findViewById(R.id.texturl);\t\t\t  textCode.setText(&quot;random&quot;);</code>"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1404405756,"post_id":24555996,"comment_id":38037904,"body_markdown":"@Brano_SR Please edit your question with that code so that you can format it correctly. This will make it much easier for others to read.","body":"@Brano_SR Please edit your question with that code so that you can format it correctly. This will make it much easier for others to read."}],"answers":[{"tags":[],"owner":{"account_id":3053603,"reputation":3546,"user_id":2587708,"accept_rate":77,"display_name":"masmic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404399720,"creation_date":1404399418,"answer_id":24557098,"question_id":24555996,"body_markdown":"Have a look if this works for you.\r\n\r\nMake reference to your fragment in the activity:\r\n\r\n    PlaceholderFragment fragment = new PlaceholderFragment(); \r\n\r\nThen define the text you want on your fragment&#39;s textview:\r\n\r\n    ((PlaceholderFragment)fragment).fragmentTextView.setText(text you want);\r\n\r\nThis would be to pass the textview&#39;s value to the fragment in any moment. If you want to pass this value at the moment you call the fragment transaction, it would be better to do it this way:\r\n\r\n    Bundle bundle = new Bundle();\r\n    bundle.putString(&quot;textview&quot;, &quot;new_value&quot;);\r\n    PlaceholderFragment fragment= new PlaceholderFragment();\r\n    fragment.setArguments(bundle);\r\n    transaction.add(R.id.container, fragment);\r\n    transaction.commit();","title":"how to edit textview in fragment from activity","body":"<p>Have a look if this works for you.</p>\n\n<p>Make reference to your fragment in the activity:</p>\n\n<pre><code>PlaceholderFragment fragment = new PlaceholderFragment(); \n</code></pre>\n\n<p>Then define the text you want on your fragment's textview:</p>\n\n<pre><code>((PlaceholderFragment)fragment).fragmentTextView.setText(text you want);\n</code></pre>\n\n<p>This would be to pass the textview's value to the fragment in any moment. If you want to pass this value at the moment you call the fragment transaction, it would be better to do it this way:</p>\n\n<pre><code>Bundle bundle = new Bundle();\nbundle.putString(\"textview\", \"new_value\");\nPlaceholderFragment fragment= new PlaceholderFragment();\nfragment.setArguments(bundle);\ntransaction.add(R.id.container, fragment);\ntransaction.commit();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3479587,"reputation":7650,"user_id":2912012,"accept_rate":65,"display_name":"Andre Perkins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404408073,"creation_date":1404408073,"answer_id":24559808,"question_id":24555996,"body_markdown":"if the fragment is a static innner class of the activity, then why don&#39;t you just store the text in a static string in the activity and then the fragment will have direct access to it through MainActivity.this.stringName. \r\n\r\nThis solution will make you code pretty highly coupled but if its a static inner class and they have to pass data around like this anyway, then you don&#39;t really have to worry about that.","title":"how to edit textview in fragment from activity","body":"<p>if the fragment is a static innner class of the activity, then why don't you just store the text in a static string in the activity and then the fragment will have direct access to it through MainActivity.this.stringName. </p>\n\n<p>This solution will make you code pretty highly coupled but if its a static inner class and they have to pass data around like this anyway, then you don't really have to worry about that.</p>\n"},{"tags":[],"owner":{"account_id":21096830,"reputation":35,"user_id":15507610,"display_name":"Adelin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647022877,"creation_date":1647022528,"answer_id":71442978,"question_id":24555996,"body_markdown":"Add this to the **onCreate()**. You can use a binding to **setContentView()**.\r\n\r\n    ActivityMainBinding binding = \r\n    ActivityMainBinding.inflate(getLayoutInflater());\r\n    setContentView(binding.getRoot());\r\n    \r\n    textviewname = findViewById(R.id.textviewid);\r\n    textviewname.setText(&quot;some text&quot;);","title":"how to edit textview in fragment from activity","body":"<p>Add this to the <strong>onCreate()</strong>. You can use a binding to <strong>setContentView()</strong>.</p>\n<pre><code>ActivityMainBinding binding = \nActivityMainBinding.inflate(getLayoutInflater());\nsetContentView(binding.getRoot());\n\ntextviewname = findViewById(R.id.textviewid);\ntextviewname.setText(&quot;some text&quot;);\n</code></pre>\n"}],"owner":{"account_id":1173799,"reputation":81,"user_id":1150310,"accept_rate":25,"display_name":"branecko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4424,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1647022877,"creation_date":1404396538,"question_id":24555996,"body_markdown":"**SOLVED**\r\n\r\nI would like to set new text to `TextView`. I have new value of `TextView` in `MainActivity` but this activity doesn&#39;t know this `TextView`. `TextView` is in the file `fragment_main.xml`. Fragment class is included in `MainActivity.java` file like inner static class. It was default generated activity with fragment in Eclipse. Can you help me?\r\n\r\n    public class MainActivity extends FragmentActivity {\r\n\r\n    \t...\t\r\n\r\n\t    @Override\r\n\t\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\t\tsuper.onCreate(savedInstanceState);\r\n\t\t\tsetContentView(R.layout.activity_main);\r\n\r\n\t\t\t...\r\n\r\n\t\t\tif (savedInstanceState == null) {\r\n\t\t\t\tgetSupportFragmentManager().beginTransaction()\r\n\t\t\t\t\t.add(R.id.container, new PlaceholderFragment()).commit();\r\n\t\t\t}\r\n\t\t}\r\n\r\n    \tpublic static class PlaceholderFragment extends Fragment {\r\n\t\t\tpublic PlaceholderFragment() { } \r\n\r\n\t\t\t@Override\r\n\t\t\tpublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n\t\t\t\tView rootView = inflater.inflate(R.layout.fragment_main, container, false);\r\n\t\t\t\treturn rootView;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nactivity_main.xml\r\n\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\t    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n\t    android:id=&quot;@+id/container&quot;\r\n    \tandroid:layout_width=&quot;match_parent&quot;\r\n\t    android:layout_height=&quot;match_parent&quot;\r\n\t    tools:context=&quot;com.zonemedia.skener.MainActivity&quot;\r\n    \ttools:ignore=&quot;MergeRootFrame&quot; /&gt;\r\n\r\nfragment_main.xml\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\t    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n\t    android:id=&quot;@+id/viewmoje&quot;\r\n\t    android:layout_width=&quot;match_parent&quot;\r\n\t    android:layout_height=&quot;match_parent&quot;\r\n\t    android:baselineAligned=&quot;false&quot;\r\n\t    android:orientation=&quot;vertical&quot;\r\n\t    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n\t    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n    \tandroid:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n\t    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n\t    tools:context=&quot;com.zonemedia.skener.MainActivity$PlaceholderFragment&quot; &gt;\r\n\r\n    \t&lt;TextView\r\n            android:id=&quot;@+id/texturl&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/text_url&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n**EDIT 1:**\r\nI tried to make public method (=setter) in Fragment and call it from FragmentActivity. \r\nI also tried to change text directly from fragment: \r\n       `TextView textUrl = (TextView) getView().findViewById(R.id.texturl);\r\n       textCode.setText(&quot;random&quot;);`\r\n\r\nI tried what @masmic_87 wrote. In fragment I defined \r\n`TextView fragmentTextView = (TextView)getView().findViewById(R.id.texturl);`\r\n\r\nand then in the activity I putted your code. App is still crashing: \r\n\r\n`java.lang.RuntimeException: Unable to start activity ComponentInfo{.....MainActivity}: java.lang.NullPointerException caused by line 86: ((PlaceholderFragment) fragment).fragmentTextView.setText(&quot;something&quot;);`\r\n\r\nLast I tried call static String directly from static fragment but MainActivity.this is underline with reason: The static field MainActivity.this should be accessed in a static way and No enclosing instance of the type MainActivity is accessible in scope. \r\n\r\nI also tried moved inner class PlaceholderFragment to new .java file and now it is not static. I tried all recommendations from here and nothing is working\r\n\r\n**SOLVED** \r\nI dont know where I had my head. In fragment I called (TextView) **getView()**.... instead of \r\n\r\n       View rootView = inflater.inflate(R.layout.fragment_main, container,false);\r\n       mTextView = (TextView) rootView.findViewById(R.id.texturl);\r\n\t   mTextView.setText(&quot;new text&quot;);","title":"how to edit textview in fragment from activity","body":"<p><strong>SOLVED</strong></p>\n\n<p>I would like to set new text to <code>TextView</code>. I have new value of <code>TextView</code> in <code>MainActivity</code> but this activity doesn't know this <code>TextView</code>. <code>TextView</code> is in the file <code>fragment_main.xml</code>. Fragment class is included in <code>MainActivity.java</code> file like inner static class. It was default generated activity with fragment in Eclipse. Can you help me?</p>\n\n<pre><code>public class MainActivity extends FragmentActivity {\n\n    ... \n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        ...\n\n        if (savedInstanceState == null) {\n            getSupportFragmentManager().beginTransaction()\n                .add(R.id.container, new PlaceholderFragment()).commit();\n        }\n    }\n\n    public static class PlaceholderFragment extends Fragment {\n        public PlaceholderFragment() { } \n\n        @Override\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n            View rootView = inflater.inflate(R.layout.fragment_main, container, false);\n            return rootView;\n        }\n    }\n}\n</code></pre>\n\n<p>activity_main.xml</p>\n\n<pre><code>&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.zonemedia.skener.MainActivity\"\n    tools:ignore=\"MergeRootFrame\" /&gt;\n</code></pre>\n\n<p>fragment_main.xml</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/viewmoje\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:baselineAligned=\"false\"\n    android:orientation=\"vertical\"\n    android:paddingBottom=\"@dimen/activity_vertical_margin\"\n    android:paddingLeft=\"@dimen/activity_horizontal_margin\"\n    android:paddingRight=\"@dimen/activity_horizontal_margin\"\n    android:paddingTop=\"@dimen/activity_vertical_margin\"\n    tools:context=\"com.zonemedia.skener.MainActivity$PlaceholderFragment\" &gt;\n\n    &lt;TextView\n        android:id=\"@+id/texturl\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"@string/text_url\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>EDIT 1:</strong>\nI tried to make public method (=setter) in Fragment and call it from FragmentActivity. \nI also tried to change text directly from fragment: \n       <code>TextView textUrl = (TextView) getView().findViewById(R.id.texturl);\n       textCode.setText(\"random\");</code></p>\n\n<p>I tried what @masmic_87 wrote. In fragment I defined \n<code>TextView fragmentTextView = (TextView)getView().findViewById(R.id.texturl);</code></p>\n\n<p>and then in the activity I putted your code. App is still crashing: </p>\n\n<p><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{.....MainActivity}: java.lang.NullPointerException caused by line 86: ((PlaceholderFragment) fragment).fragmentTextView.setText(\"something\");</code></p>\n\n<p>Last I tried call static String directly from static fragment but MainActivity.this is underline with reason: The static field MainActivity.this should be accessed in a static way and No enclosing instance of the type MainActivity is accessible in scope. </p>\n\n<p>I also tried moved inner class PlaceholderFragment to new .java file and now it is not static. I tried all recommendations from here and nothing is working</p>\n\n<p><strong>SOLVED</strong> \nI dont know where I had my head. In fragment I called (TextView) <strong>getView()</strong>.... instead of </p>\n\n<pre><code>   View rootView = inflater.inflate(R.layout.fragment_main, container,false);\n   mTextView = (TextView) rootView.findViewById(R.id.texturl);\n   mTextView.setText(\"new text\");\n</code></pre>\n"},{"tags":["java","activemq"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1639063974,"post_id":70292527,"comment_id":124257631,"body_markdown":"I suggest you to add more tag such as lang concerned","body":"I suggest you to add more tag such as lang concerned"},{"owner":{"account_id":504225,"reputation":1099,"user_id":901083,"accept_rate":79,"display_name":"Sean Duggan"},"score":0,"creation_date":1639064213,"post_id":70292527,"comment_id":124257742,"body_markdown":"Thank you. I did not think to do that.","body":"Thank you. I did not think to do that."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1639065580,"post_id":70292527,"comment_id":124258348,"body_markdown":"What version of ActiveMQ are you using?","body":"What version of ActiveMQ are you using?"}],"answers":[{"tags":[],"owner":{"account_id":8072204,"reputation":4156,"user_id":6084589,"display_name":"Matt Pavlovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639065556,"creation_date":1639065228,"answer_id":70292860,"question_id":70292527,"body_markdown":"Consider that in your design you may have more than one subscriber to the flow of events-- the application consuming messages, and the logging service that needs to trace information. Allowing the logging service to receive their own copy of messages, and they can store or discard as needed\r\n\r\nCheck out the [Virtual Topic][1] pattern-- send message to a topic and read from a queue. With this design, you can add additional subscribers at any time and provide the logging service their own copy of messages.\r\n\r\n\r\n  [1]: https://activemq.apache.org/virtual-destinations\r\n\r\nEdit:\r\n\r\nAdditionally, you can configure a composite destination to send a copy of messages to a second queue.\r\n\r\n    &lt;destinationInterceptors&gt;\r\n      &lt;virtualDestinationInterceptor&gt; \r\n        &lt;virtualDestinations&gt; \r\n          &lt;compositeQueue name=&quot;APP.DATA.IN&quot; forwardOnly=&quot;false&quot;&gt; \r\n            &lt;forwardTo&gt;\r\n              &lt;queue physicalName=&quot;APP.DATA.IN.LOGGING.SERVICE&quot; /&gt;\r\n            &lt;/forwardTo&gt;\r\n         &lt;/compositeQueue&gt;\r\n       &lt;/virtualDestinations&gt;\r\n     &lt;/virtualDestinationInterceptor&gt;\r\n   &lt;/destinationInterceptors&gt;\r\n\r\nThis would need to be manually added for each queue you want a second copy. With the Virtual Topic approach, you do not need to add a configuration for each.","title":"How to listen to events without consuming them","body":"<p>Consider that in your design you may have more than one subscriber to the flow of events-- the application consuming messages, and the logging service that needs to trace information. Allowing the logging service to receive their own copy of messages, and they can store or discard as needed</p>\n<p>Check out the <a href=\"https://activemq.apache.org/virtual-destinations\" rel=\"nofollow noreferrer\">Virtual Topic</a> pattern-- send message to a topic and read from a queue. With this design, you can add additional subscribers at any time and provide the logging service their own copy of messages.</p>\n<p>Edit:</p>\n<p>Additionally, you can configure a composite destination to send a copy of messages to a second queue.</p>\n<pre><code>&lt;destinationInterceptors&gt;\n  &lt;virtualDestinationInterceptor&gt; \n    &lt;virtualDestinations&gt; \n      &lt;compositeQueue name=&quot;APP.DATA.IN&quot; forwardOnly=&quot;false&quot;&gt; \n        &lt;forwardTo&gt;\n          &lt;queue physicalName=&quot;APP.DATA.IN.LOGGING.SERVICE&quot; /&gt;\n        &lt;/forwardTo&gt;\n     &lt;/compositeQueue&gt;\n   &lt;/virtualDestinations&gt;\n &lt;/virtualDestinationInterceptor&gt;\n</code></pre>\n   \n<p>This would need to be manually added for each queue you want a second copy. With the Virtual Topic approach, you do not need to add a configuration for each.</p>\n"},{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639065313,"creation_date":1639065313,"answer_id":70292888,"question_id":70292527,"body_markdown":"If you&#39;re using Java and since you&#39;re using a queue then you can use a JMS [`QueueBrowser`][1]. It will allow you to inspect the messages on the queue without actually consuming them.\r\n\r\nYou might also consider using a [mirrored queue][2] as it was designed with this type of use-case in mind.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/jms/QueueBrowser.html\r\n  [2]: https://activemq.apache.org/mirrored-queues","title":"How to listen to events without consuming them","body":"<p>If you're using Java and since you're using a queue then you can use a JMS <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/QueueBrowser.html\" rel=\"nofollow noreferrer\"><code>QueueBrowser</code></a>. It will allow you to inspect the messages on the queue without actually consuming them.</p>\n<p>You might also consider using a <a href=\"https://activemq.apache.org/mirrored-queues\" rel=\"nofollow noreferrer\">mirrored queue</a> as it was designed with this type of use-case in mind.</p>\n"},{"tags":[],"owner":{"account_id":504225,"reputation":1099,"user_id":901083,"accept_rate":79,"display_name":"Sean Duggan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647022859,"creation_date":1647022859,"answer_id":71443052,"question_id":70292527,"body_markdown":"Ultimately, I wound up going with a [Topic][1] setup with publishers and listed subscribers due to the simplicity of defining which services would receive which topics, and the current setup having messages consumed almost as fast as they can be produced. All I had to do was to have the logging module subscribe to all defined messages, as well as any other modules that would receive them.\r\n\r\n\r\n  [1]: https://pediaa.com/what-is-the-difference-between-queue-and-topic/#Topic","title":"How to listen to events without consuming them","body":"<p>Ultimately, I wound up going with a <a href=\"https://pediaa.com/what-is-the-difference-between-queue-and-topic/#Topic\" rel=\"nofollow noreferrer\">Topic</a> setup with publishers and listed subscribers due to the simplicity of defining which services would receive which topics, and the current setup having messages consumed almost as fast as they can be produced. All I had to do was to have the logging module subscribe to all defined messages, as well as any other modules that would receive them.</p>\n"}],"owner":{"account_id":504225,"reputation":1099,"user_id":901083,"accept_rate":79,"display_name":"Sean Duggan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71443052,"answer_count":3,"score":0,"last_activity_date":1647022859,"creation_date":1639063818,"question_id":70292527,"body_markdown":"I&#39;m working on a simulator in Java that is using ActiveMQ for communication between the various parts, which will live on different machines. I have things mostly up and running, but the client has asked that one of the services log all events coming through. The catch is that, as far as I understand it, in Queue mode (the default setup in the code I&#39;m working in), once read, the event is consumed. Is there a way to &quot;peek&quot; the event without consuming it? I&#39;ve considered reading it, and then relogging it, but it feels like that would require an additional level of checking to be sure the logging service doesn&#39;t then just grab it again.","title":"How to listen to events without consuming them","body":"<p>I'm working on a simulator in Java that is using ActiveMQ for communication between the various parts, which will live on different machines. I have things mostly up and running, but the client has asked that one of the services log all events coming through. The catch is that, as far as I understand it, in Queue mode (the default setup in the code I'm working in), once read, the event is consumed. Is there a way to &quot;peek&quot; the event without consuming it? I've considered reading it, and then relogging it, but it feels like that would require an additional level of checking to be sure the logging service doesn't then just grab it again.</p>\n"},{"tags":["java","stack","doubly-linked-list"],"comments":[{"owner":{"account_id":2816778,"reputation":109,"user_id":2421612,"accept_rate":60,"display_name":"bloodpresage"},"score":0,"creation_date":1647024967,"post_id":71442898,"comment_id":126277718,"body_markdown":"What is the actual issue? Is it not working? Maybe you can show us the class for the DoubleLinkedNode?","body":"What is the actual issue? Is it not working? Maybe you can show us the class for the DoubleLinkedNode?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647055470,"post_id":71442898,"comment_id":126283390,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":24529632,"reputation":1,"user_id":18441658,"display_name":"Nour Fayadh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647021981,"creation_date":1647021981,"question_id":71442898,"body_markdown":"I am supposed to write a code that pushed nodes to the doubly linked stack, except I have to have the first added element (top) at the end of the stack, meaning the last added element should be the first one in the doubly linked list.\r\n\r\nHere&#39;s my code for the push method\r\n\r\n    public void push(T dataItem) {\r\n\t\t\r\n\t\tDoubleLinkedNode&lt;T&gt; newNode = new DoubleLinkedNode&lt;T&gt;(dataItem);\r\n\t\t\r\n\t\tif(top == null) {\r\n\t\t\t\r\n\t\t\ttop = newNode;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\telse {\r\n\t\t\t \r\n\t\t\tDoubleLinkedNode&lt;T&gt; currentNode = top;\r\n\t\t\t\r\n\t\t\twhile (currentNode.getPrevious() != null){\r\n\t\t\t\t\r\n\t\t\t\tcurrentNode = currentNode.getPrevious();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tnewNode.setNext(currentNode);\r\n\t\t\tcurrentNode.setPrevious(newNode);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tnumItems++;\r\n\t\t\r\n\t}\r\n","title":"Why is my doubly linked list not adding elements to the list","body":"<p>I am supposed to write a code that pushed nodes to the doubly linked stack, except I have to have the first added element (top) at the end of the stack, meaning the last added element should be the first one in the doubly linked list.</p>\n<p>Here's my code for the push method</p>\n<pre><code>public void push(T dataItem) {\n    \n    DoubleLinkedNode&lt;T&gt; newNode = new DoubleLinkedNode&lt;T&gt;(dataItem);\n    \n    if(top == null) {\n        \n        top = newNode;\n        \n    }\n    \n    else {\n         \n        DoubleLinkedNode&lt;T&gt; currentNode = top;\n        \n        while (currentNode.getPrevious() != null){\n            \n            currentNode = currentNode.getPrevious();\n            \n        }\n        \n        newNode.setNext(currentNode);\n        currentNode.setPrevious(newNode);\n        \n    }\n    \n    numItems++;\n    \n}\n</code></pre>\n"},{"tags":["java","sorting","vaadin","vaadin-flow","vaadin-grid"],"comments":[{"owner":{"account_id":21683970,"reputation":229,"user_id":15999694,"display_name":"nick"},"score":0,"creation_date":1645419092,"post_id":71197717,"comment_id":125857725,"body_markdown":"I also tried with column names in English but I get the same error.","body":"I also tried with column names in English but I get the same error."}],"answers":[{"tags":[],"owner":{"account_id":22306698,"reputation":191,"user_id":16531281,"display_name":"Paola De Bartolo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647020848,"creation_date":1647020848,"answer_id":71442673,"question_id":71197717,"body_markdown":"In order to call ```grid.getColumnByKey()``` you need to set the key for each column. This works okay:\r\n\r\n```\r\n    final String COL1 = &quot;Νο&quot;;\r\n    final String COL2 = &quot;επίθετο&quot;;\r\n\r\n    Grid&lt;SomeBean&gt; grid = new Grid&lt;&gt;();\r\n\r\n    grid.addColumn(SomeBean::getId).setHeader(&quot;Column 1&quot;).setKey(COL1);\r\n    grid.addColumn(SomeBean::getName).setHeader(&quot;Column 2&quot;).setKey(COL2);\r\n     \r\n    grid.sort(List.of(  \r\n        new GridSortOrder&lt;&gt;(grid.getColumnByKey(COL1), SortDirection.ASCENDING),\r\n        new GridSortOrder&lt;&gt;(grid.getColumnByKey(COL2), SortDirection.ASCENDING)\r\n    ));\r\n```\r\n","title":"Error while trying to sort grid component in vaadin flow","body":"<p>In order to call <code>grid.getColumnByKey()</code> you need to set the key for each column. This works okay:</p>\n<pre><code>    final String COL1 = &quot;Νο&quot;;\n    final String COL2 = &quot;επίθετο&quot;;\n\n    Grid&lt;SomeBean&gt; grid = new Grid&lt;&gt;();\n\n    grid.addColumn(SomeBean::getId).setHeader(&quot;Column 1&quot;).setKey(COL1);\n    grid.addColumn(SomeBean::getName).setHeader(&quot;Column 2&quot;).setKey(COL2);\n     \n    grid.sort(List.of(  \n        new GridSortOrder&lt;&gt;(grid.getColumnByKey(COL1), SortDirection.ASCENDING),\n        new GridSortOrder&lt;&gt;(grid.getColumnByKey(COL2), SortDirection.ASCENDING)\n    ));\n</code></pre>\n"}],"owner":{"account_id":21683970,"reputation":229,"user_id":15999694,"display_name":"nick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647020848,"creation_date":1645383428,"question_id":71197717,"body_markdown":"I am getting this error when I try to sort the grid programmatically:\r\n\r\n    grid.sort(List.of(\t\r\n            new GridSortOrder&lt;&gt;(grid.getColumnByKey(&quot;Νο&quot;), SortDirection.ASCENDING),\r\n            new GridSortOrder&lt;&gt;(grid.getColumnByKey(&quot;επίθετο&quot;), SortDirection.ASCENDING)\r\n    ));\r\n\r\nThe error: \r\n\r\n&gt;Cannot invoke &quot;com.vaadin.flow.component.grid.Grid$Column.getInternalId()&quot; because the return value of &quot;com.vaadin.flow.component.grid.GridSortOrder.getSorted()&quot; is null\r\n\r\nIs it because I use Greek characters in `Grid` columns? Do you know any solution or workaround?","title":"Error while trying to sort grid component in vaadin flow","body":"<p>I am getting this error when I try to sort the grid programmatically:</p>\n<pre><code>grid.sort(List.of(  \n        new GridSortOrder&lt;&gt;(grid.getColumnByKey(&quot;Νο&quot;), SortDirection.ASCENDING),\n        new GridSortOrder&lt;&gt;(grid.getColumnByKey(&quot;επίθετο&quot;), SortDirection.ASCENDING)\n));\n</code></pre>\n<p>The error:</p>\n<blockquote>\n<p>Cannot invoke &quot;com.vaadin.flow.component.grid.Grid$Column.getInternalId()&quot; because the return value of &quot;com.vaadin.flow.component.grid.GridSortOrder.getSorted()&quot; is null</p>\n</blockquote>\n<p>Is it because I use Greek characters in <code>Grid</code> columns? Do you know any solution or workaround?</p>\n"},{"tags":["java","mysql","spring","spring-boot","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1647019426,"post_id":71442324,"comment_id":126275884,"body_markdown":"I&#39;d suggest finding another way to do this. This would only work if you keep the connection open and associated with the HTTP session until you&#39;re done with it. That can seriously impact the scalability of your application. I&#39;d suggest using a *permanent* table, with data associated to your HTTP session using some kind of unique identifier, and something to expunge outdated data.","body":"I&#39;d suggest finding another way to do this. This would only work if you keep the connection open and associated with the HTTP session until you&#39;re done with it. That can seriously impact the scalability of your application. I&#39;d suggest using a <i>permanent</i> table, with data associated to your HTTP session using some kind of unique identifier, and something to expunge outdated data."},{"owner":{"account_id":8150102,"reputation":2253,"user_id":6137423,"accept_rate":100,"display_name":"AhmadWabbi"},"score":0,"creation_date":1647138419,"post_id":71442324,"comment_id":126295382,"body_markdown":"Permanent tables are not feasable in my application. On heavy service load, The database will end up with a lot of strange permanent temporary tables. Naming these tables uniquely is another problem. Expunging is yet more problematic. It is difficult to know when to do that. MySQL temporary tables solve all these problems.","body":"Permanent tables are not feasable in my application. On heavy service load, The database will end up with a lot of strange permanent temporary tables. Naming these tables uniquely is another problem. Expunging is yet more problematic. It is difficult to know when to do that. MySQL temporary tables solve all these problems."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1647162717,"post_id":71442324,"comment_id":126297530,"body_markdown":"You can use a *single* permanent table (maybe two for some housekeeping information), where entries are keyed to the HTTP session. You just need to clean up after the process is done, and have a scavenger thread to clean up entries that weren&#39;t cleaned up normally.","body":"You can use a <i>single</i> permanent table (maybe two for some housekeeping information), where entries are keyed to the HTTP session. You just need to clean up after the process is done, and have a scavenger thread to clean up entries that weren&#39;t cleaned up normally."},{"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1647196081,"post_id":71442324,"comment_id":126305090,"body_markdown":"@MarkRotteveel, But it&#39;s nontrivial to detect when the session is truly done. I agree that using non-temporary tables is difficult for this application.","body":"@MarkRotteveel, But it&#39;s nontrivial to detect when the session is truly done. I agree that using non-temporary tables is difficult for this application."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1647245438,"post_id":71442324,"comment_id":126313420,"body_markdown":"@BillKarwin That depends on whether or not the data is tied to the HTTP session as such, or just to a unit-of-work that spans multiple HTTP requests. If the latter, there should be a clearly defined end, and you&#39;ll just need a scavenger for things terminated mid-way through.","body":"@BillKarwin That depends on whether or not the data is tied to the HTTP session as such, or just to a unit-of-work that spans multiple HTTP requests. If the latter, there should be a clearly defined end, and you&#39;ll just need a scavenger for things terminated mid-way through."},{"owner":{"account_id":8150102,"reputation":2253,"user_id":6137423,"accept_rate":100,"display_name":"AhmadWabbi"},"score":0,"creation_date":1647264652,"post_id":71442324,"comment_id":126320433,"body_markdown":"@MarkRotteveel There is no clearly defined end. A user may stay in the interface (a web page) for un undetermined period of time, sending multiple HTTP requests. Maybe a timeout of 30 or 60 minutes is the most logical expunge technique. I personally don&#39;t like the idea of relying on a thread to cleanup in a Spring REST service.","body":"@MarkRotteveel There is no clearly defined end. A user may stay in the interface (a web page) for un undetermined period of time, sending multiple HTTP requests. Maybe a timeout of 30 or 60 minutes is the most logical expunge technique. I personally don&#39;t like the idea of relying on a thread to cleanup in a Spring REST service."}],"answers":[{"tags":[],"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647020636,"creation_date":1647020636,"answer_id":71442626,"question_id":71442324,"body_markdown":"It would not help even if you could ensure that the &quot;same&quot; connection is used on subsequent requests, because part of allocating a connection from the pool involves resetting things related to session state. \r\n\r\nThis is by design and it&#39;s a good thing, because otherwise you could leak private data from one database session to another unrelated session. That would be a problem for example if one user stored some sensitive data in a temporary table, and then that temp table were readable by another user&#39;s database session. Likewise for things like unfinished transactions, session variables, and connection character set. All of these are reset when a connection is doled out by the pool.\r\n\r\nSo if you use temporary tables, you should use them only during the same request, because they will be dropped when you are done using that connection.\r\n\r\nIf you need to use data from one request to the next request, you can:\r\n\r\n- Store data in a non-temporary table.\r\n- Store data in a cache.\r\n- Write background service in Java to process the data, so you have code creating and using the temp tables, running asynchronously to the requests. This is a lot more work, and probably overkill for a simple web app, but there are some services where it&#39;s the best solution.","title":"Using the same JDBC connection across multiple calls to Spring Boot REST API","body":"<p>It would not help even if you could ensure that the &quot;same&quot; connection is used on subsequent requests, because part of allocating a connection from the pool involves resetting things related to session state.</p>\n<p>This is by design and it's a good thing, because otherwise you could leak private data from one database session to another unrelated session. That would be a problem for example if one user stored some sensitive data in a temporary table, and then that temp table were readable by another user's database session. Likewise for things like unfinished transactions, session variables, and connection character set. All of these are reset when a connection is doled out by the pool.</p>\n<p>So if you use temporary tables, you should use them only during the same request, because they will be dropped when you are done using that connection.</p>\n<p>If you need to use data from one request to the next request, you can:</p>\n<ul>\n<li>Store data in a non-temporary table.</li>\n<li>Store data in a cache.</li>\n<li>Write background service in Java to process the data, so you have code creating and using the temp tables, running asynchronously to the requests. This is a lot more work, and probably overkill for a simple web app, but there are some services where it's the best solution.</li>\n</ul>\n"}],"owner":{"account_id":8150102,"reputation":2253,"user_id":6137423,"accept_rate":100,"display_name":"AhmadWabbi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":679,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71442626,"answer_count":1,"score":2,"last_activity_date":1647020636,"creation_date":1647019107,"question_id":71442324,"body_markdown":"I have a REST web service written in Java/Spring boot and running on Tomcat 9. \r\n\r\nI need to create a MySQL temporary table in one web service call and access it later in another service call. As temporary tables are connection scoped, I need to use the same connection used to create the table during the first call in the &quot;select&quot; query in the second call. \r\n\r\nThe problem is that Tomcat manages JDBC connections in a connection pool. In the second service call,whenever I create a JDBC connection, any connection from the pool can be picked up. In this case, the temporary table will not be visible.\r\n\r\nMy question is: how can I pick the same connection from the connection pool? Is there any kind of id/tag that distinguishes them? \r\n","title":"Using the same JDBC connection across multiple calls to Spring Boot REST API","body":"<p>I have a REST web service written in Java/Spring boot and running on Tomcat 9.</p>\n<p>I need to create a MySQL temporary table in one web service call and access it later in another service call. As temporary tables are connection scoped, I need to use the same connection used to create the table during the first call in the &quot;select&quot; query in the second call.</p>\n<p>The problem is that Tomcat manages JDBC connections in a connection pool. In the second service call,whenever I create a JDBC connection, any connection from the pool can be picked up. In this case, the temporary table will not be visible.</p>\n<p>My question is: how can I pick the same connection from the connection pool? Is there any kind of id/tag that distinguishes them?</p>\n"},{"tags":["java","itext7"],"comments":[{"owner":{"account_id":400683,"reputation":7350,"user_id":766786,"accept_rate":68,"display_name":"Amedee Van Gasse"},"score":2,"creation_date":1612434659,"post_id":66039987,"comment_id":116768057,"body_markdown":"&quot;Caused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory&quot; -&gt; you don&#39;t have slf4j in your classpath. But can&#39;t you just use Maven? That will resolve all dependencies automatically.","body":"&quot;Caused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory&quot; -&gt; you don&#39;t have slf4j in your classpath. But can&#39;t you just use Maven? That will resolve all dependencies automatically."},{"owner":{"account_id":17950993,"reputation":111,"user_id":13044113,"display_name":"pabloberm"},"score":0,"creation_date":1671132747,"post_id":66039987,"comment_id":132038525,"body_markdown":"I added the jar file from https://mvnrepository.com/artifact/org.slf4j/slf4j-api/2.0.6 which you can find under Files. Just download it and add it to your libs folder or wherever you have the jar files.","body":"I added the jar file from <a href=\"https://mvnrepository.com/artifact/org.slf4j/slf4j-api/2.0.6\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.slf4j/slf4j-api/2.0.6</a> which you can find under Files. Just download it and add it to your libs folder or wherever you have the jar files."}],"answers":[{"tags":[],"owner":{"account_id":13659658,"reputation":360,"user_id":9855154,"display_name":"Thakkar Darshan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612459996,"creation_date":1612459996,"answer_id":66050831,"question_id":66039987,"body_markdown":"I think you have forgot to add SL4j Library or jar into your project.","title":"java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory problem","body":"<p>I think you have forgot to add SL4j Library or jar into your project.</p>\n"},{"tags":[],"owner":{"account_id":9538532,"reputation":71,"user_id":7087799,"display_name":"user7087799"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612467012,"creation_date":1612467012,"answer_id":66052554,"question_id":66039987,"body_markdown":"It turns out that it missed the following 3 jars :\r\nslf4j.api, slf4j-log4j12, and log4j \r\n\r\nIt works now after adding the above 3 jars.","title":"java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory problem","body":"<p>It turns out that it missed the following 3 jars :\nslf4j.api, slf4j-log4j12, and log4j</p>\n<p>It works now after adding the above 3 jars.</p>\n"}],"owner":{"account_id":9538532,"reputation":71,"user_id":7087799,"display_name":"user7087799"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3552,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1647020658,"answer_count":2,"score":0,"last_activity_date":1647020632,"creation_date":1612417627,"question_id":66039987,"body_markdown":"I am new to itext7, I am using Eclipse IDE. I downloaded all the itext7 jar files and added it to my libraries (classpath). When I run my program (to convert text file to PDF file), I got the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\r\n\tat com.itextpdf.kernel.pdf.PdfPagesTree.&lt;clinit&gt;(PdfPagesTree.java:72)\r\n\tat com.itextpdf.kernel.pdf.PdfCatalog.&lt;init&gt;(PdfCatalog.java:99)\r\n\tat com.itextpdf.kernel.pdf.PdfCatalog.&lt;init&gt;(PdfCatalog.java:103)\r\n\tat com.itextpdf.kernel.pdf.PdfDocument.open(PdfDocument.java:1958)\r\n\tat com.itextpdf.kernel.pdf.PdfDocument.&lt;init&gt;(PdfDocument.java:284)\r\n\tat com.itextpdf.kernel.pdf.PdfDocument.&lt;init&gt;(PdfDocument.java:265)\r\n\tat TextFileToPDF.createPdf(TextFileToPDF.java:59)\r\n\tat TextFileToPDF.main(TextFileToPDF.java:84)\r\n    `Caused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 8 more\r\n\r\n\r\nIf I add all the jar files to my libraries(ModulePath), then I got the following errors:\r\n\r\nError: Unable to initialize main class TextFileToPDF\r\nCaused by: java.lang.NoClassDefFoundError: com/itextpdf/layout/element/IBlockElement\r\n\r\nDoes anybody knows how to fix this problem?\r\n","title":"java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory problem","body":"<p>I am new to itext7, I am using Eclipse IDE. I downloaded all the itext7 jar files and added it to my libraries (classpath). When I run my program (to convert text file to PDF file), I got the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\nat com.itextpdf.kernel.pdf.PdfPagesTree.&lt;clinit&gt;(PdfPagesTree.java:72)\nat com.itextpdf.kernel.pdf.PdfCatalog.&lt;init&gt;(PdfCatalog.java:99)\nat com.itextpdf.kernel.pdf.PdfCatalog.&lt;init&gt;(PdfCatalog.java:103)\nat com.itextpdf.kernel.pdf.PdfDocument.open(PdfDocument.java:1958)\nat com.itextpdf.kernel.pdf.PdfDocument.&lt;init&gt;(PdfDocument.java:284)\nat com.itextpdf.kernel.pdf.PdfDocument.&lt;init&gt;(PdfDocument.java:265)\nat TextFileToPDF.createPdf(TextFileToPDF.java:59)\nat TextFileToPDF.main(TextFileToPDF.java:84)\n`Caused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n... 8 more\n</code></pre>\n<p>If I add all the jar files to my libraries(ModulePath), then I got the following errors:</p>\n<p>Error: Unable to initialize main class TextFileToPDF\nCaused by: java.lang.NoClassDefFoundError: com/itextpdf/layout/element/IBlockElement</p>\n<p>Does anybody knows how to fix this problem?</p>\n"},{"tags":["java","annotation-processing","incremental-compiler"],"owner":{"account_id":11699486,"reputation":226,"user_id":13751385,"display_name":"Aria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1647020164,"creation_date":1646238673,"question_id":71326101,"body_markdown":"I am confused about what exactly is *incremental environment* in the context of annotation processing in Java. An example is highly appreciated.\r\n\r\nThe following is a quote from the Javadoc of [Filer][1]:\r\n\r\n&gt; The file creation methods take a variable number of arguments to allow\r\n&gt; the originating elements to be provided as hints to the tool\r\n&gt; infrastructure to better manage dependencies. The originating elements\r\n&gt; are the types or packages (representing package-info files) which\r\n&gt; caused an annotation processor to attempt to create a new file. For\r\n&gt; example, if an annotation processor tries to create a source file,\r\n&gt; GeneratedFromUserSource, in response to processing\r\n&gt;\r\n&gt; ```java\r\n&gt; @Generate\r\n&gt; public class UserSource {}\r\n&gt; ```  \r\n&gt; \r\n&gt; the type element for UserSource should be passed as part of the\r\n&gt; creation method call as in:\r\n&gt;\r\n&gt; ```java\r\n&gt; filer.createSourceFile(&quot;GeneratedFromUserSource&quot;,\r\n&gt;                        eltUtils.getTypeElement(&quot;UserSource&quot;));\r\n&gt; ```      \r\n&gt; \r\n&gt; If there are no originating elements, none need to be passed. **This\r\n&gt; information may be used in an incremental environment to determine the\r\n&gt; need to rerun processors or remove generated files. Non-incremental\r\n&gt; environments may ignore the originating element information.**\r\n\r\nI understand, for example, in the above example, if `@Generated` is removed, the next time compilation is run the previously generated `GeneratedFromUserSource` will be removed. (Supposedly, [apparently][2], some implementations like `com.sun.tools.javac.processing.JavacFiler` ignore originating elements altogether.) Does this make it incremental? I do not have any example in mind for a *need to rerun* the processor.\r\n\r\nTo make matters a bit more confusing, I have stumbled upon [this][3] question and apparently, there are three types of processors:\r\n\r\n1. dynamic,    2. isolating,    3. aggregation\r\n\r\nand incremental processors need to be registered in a different place in META-INF than non-incremental ones. I am currently using `@AutoService` which I [think][4] does not support this registration.\r\n\r\nSince (mostly) overwriting is not allowed in `Filer`, I would appreciate a clarification on what makes a processor incremental.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/annotation/processing/Filer.html\r\n  [2]: https://stackoverflow.com/questions/16452980/are-filers-originating-elements-useful\r\n  [3]: https://stackoverflow.com/questions/58966094/how-to-make-my-own-annotation-processor-incremental\r\n  [4]: https://github.com/google/auto/issues/615","title":"Understanding Incremental Environment in the context of annotation processing in Java","body":"<p>I am confused about what exactly is <em>incremental environment</em> in the context of annotation processing in Java. An example is highly appreciated.</p>\n<p>The following is a quote from the Javadoc of <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/annotation/processing/Filer.html\" rel=\"nofollow noreferrer\">Filer</a>:</p>\n<blockquote>\n<p>The file creation methods take a variable number of arguments to allow\nthe originating elements to be provided as hints to the tool\ninfrastructure to better manage dependencies. The originating elements\nare the types or packages (representing package-info files) which\ncaused an annotation processor to attempt to create a new file. For\nexample, if an annotation processor tries to create a source file,\nGeneratedFromUserSource, in response to processing</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Generate\npublic class UserSource {}\n</code></pre>\n<p>the type element for UserSource should be passed as part of the\ncreation method call as in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>filer.createSourceFile(&quot;GeneratedFromUserSource&quot;,\n                       eltUtils.getTypeElement(&quot;UserSource&quot;));\n</code></pre>\n<p>If there are no originating elements, none need to be passed. <strong>This\ninformation may be used in an incremental environment to determine the\nneed to rerun processors or remove generated files. Non-incremental\nenvironments may ignore the originating element information.</strong></p>\n</blockquote>\n<p>I understand, for example, in the above example, if <code>@Generated</code> is removed, the next time compilation is run the previously generated <code>GeneratedFromUserSource</code> will be removed. (Supposedly, <a href=\"https://stackoverflow.com/questions/16452980/are-filers-originating-elements-useful\">apparently</a>, some implementations like <code>com.sun.tools.javac.processing.JavacFiler</code> ignore originating elements altogether.) Does this make it incremental? I do not have any example in mind for a <em>need to rerun</em> the processor.</p>\n<p>To make matters a bit more confusing, I have stumbled upon <a href=\"https://stackoverflow.com/questions/58966094/how-to-make-my-own-annotation-processor-incremental\">this</a> question and apparently, there are three types of processors:</p>\n<ol>\n<li>dynamic,    2. isolating,    3. aggregation</li>\n</ol>\n<p>and incremental processors need to be registered in a different place in META-INF than non-incremental ones. I am currently using <code>@AutoService</code> which I <a href=\"https://github.com/google/auto/issues/615\" rel=\"nofollow noreferrer\">think</a> does not support this registration.</p>\n<p>Since (mostly) overwriting is not allowed in <code>Filer</code>, I would appreciate a clarification on what makes a processor incremental.</p>\n"},{"tags":["java","jsp"],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647019880,"creation_date":1647019880,"answer_id":71442483,"question_id":71441630,"body_markdown":"If I understand your question correctly, you want to return / display list into JSP , then this is what I am thinking --\r\n\r\n\r\n    &lt;%@page import=&quot;java.util.ArrayList&quot;%&gt;\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n        pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;%@ page import=&quot;java.util.List&quot;%&gt;\r\n    &lt;html&gt;\r\n    &lt;%List&lt;String&gt; str=new ArrayList(); \r\n    str.add(0, &quot;testing&quot;);\r\n    str.add(1, &quot;testing1&quot;);\r\n    str.add(2, &quot;testing2&quot;);\r\n    %&gt;\r\n    &lt;tr&gt;&lt;%=str%&gt;&lt;/tr&gt;\r\n    \r\n    \r\n    &lt;/html&gt;","title":"How do I invoke a Java method which returns a list in JSP file?","body":"<p>If I understand your question correctly, you want to return / display list into JSP , then this is what I am thinking --</p>\n<pre><code>&lt;%@page import=&quot;java.util.ArrayList&quot;%&gt;\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;%@ page import=&quot;java.util.List&quot;%&gt;\n&lt;html&gt;\n&lt;%List&lt;String&gt; str=new ArrayList(); \nstr.add(0, &quot;testing&quot;);\nstr.add(1, &quot;testing1&quot;);\nstr.add(2, &quot;testing2&quot;);\n%&gt;\n&lt;tr&gt;&lt;%=str%&gt;&lt;/tr&gt;\n\n\n&lt;/html&gt;\n</code></pre>\n"}],"owner":{"account_id":11682280,"reputation":93,"user_id":8553505,"display_name":"Brandon Hu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71442483,"answer_count":1,"score":1,"last_activity_date":1647019880,"creation_date":1647016016,"question_id":71441630,"body_markdown":"I&#39;ve looked into invoking a Java method but I am stuck trying to call a Java method which returns a list so that I can use that list in JSP. \r\n\r\nJSP:\r\n\r\n    &lt;%@ page import=&quot;mainPack.ShoppingService&quot;%&gt;\r\n    &lt;%@ page import=&quot;java.util.List&quot; %&gt;\r\n    \r\n         $(&#39;#mainCheckbox&#39;).on( &quot;change&quot;,function () {\r\n                &lt;%\r\n                 ShoppingService s = new ShoppingService();\r\n                %&gt;\r\n                &lt;%\r\n                List&lt;String&gt; storesList = s.getStoresList();\r\n                %&gt;\r\n                //unresolved variable error\r\n                console.log(storesList.contains(&quot;Macys&quot;));\r\n    \r\n            });\r\n\r\nJava: \r\n\r\n   \r\n\r\n     public List&lt;String&gt; getStoresList() {\r\n            return storeDao.getStoresList();\r\n     }\r\n\r\n------------------\r\n\r\nI&#39;ve also tried going into the controller and making it an attribute.\r\n\r\nJSP:\r\n\r\n     $(&#39;#mainCheckbox&#39;).on( &quot;change&quot;,function () {\r\n                    //I get a Uncaught Reference Error: Macys Not Defined\r\n                    var jsArray = ${storesList};\r\n        \r\n                });\r\n\r\nJava:\r\n\r\n    model.addAttribute(&quot;storesList&quot;, ShoppingService.getStoresList());\r\n\r\nI am not sure the second attempt isn&#39;t working. When I open up debugger I see that it seems to translate the list into: \r\n\r\n    var jsArray = [Macys, JcPenny, Kohls, Target];\r\n\r\n","title":"How do I invoke a Java method which returns a list in JSP file?","body":"<p>I've looked into invoking a Java method but I am stuck trying to call a Java method which returns a list so that I can use that list in JSP.</p>\n<p>JSP:</p>\n<pre><code>&lt;%@ page import=&quot;mainPack.ShoppingService&quot;%&gt;\n&lt;%@ page import=&quot;java.util.List&quot; %&gt;\n\n     $('#mainCheckbox').on( &quot;change&quot;,function () {\n            &lt;%\n             ShoppingService s = new ShoppingService();\n            %&gt;\n            &lt;%\n            List&lt;String&gt; storesList = s.getStoresList();\n            %&gt;\n            //unresolved variable error\n            console.log(storesList.contains(&quot;Macys&quot;));\n\n        });\n</code></pre>\n<p>Java:</p>\n<pre><code> public List&lt;String&gt; getStoresList() {\n        return storeDao.getStoresList();\n }\n</code></pre>\n<hr />\n<p>I've also tried going into the controller and making it an attribute.</p>\n<p>JSP:</p>\n<pre><code> $('#mainCheckbox').on( &quot;change&quot;,function () {\n                //I get a Uncaught Reference Error: Macys Not Defined\n                var jsArray = ${storesList};\n    \n            });\n</code></pre>\n<p>Java:</p>\n<pre><code>model.addAttribute(&quot;storesList&quot;, ShoppingService.getStoresList());\n</code></pre>\n<p>I am not sure the second attempt isn't working. When I open up debugger I see that it seems to translate the list into:</p>\n<pre><code>var jsArray = [Macys, JcPenny, Kohls, Target];\n</code></pre>\n"},{"tags":["java","hsqldb"],"comments":[{"owner":{"account_id":6892580,"reputation":1,"user_id":9676322,"display_name":"PatrickG"},"score":0,"creation_date":1647019859,"post_id":71442405,"comment_id":126276059,"body_markdown":"I add that I&#39;m using Windows 10 and running CMD with admin rights not solve the problem... Also my database folder add total control for My user, Adminstrateurs and All Users...","body":"I add that I&#39;m using Windows 10 and running CMD with admin rights not solve the problem... Also my database folder add total control for My user, Adminstrateurs and All Users..."},{"owner":{"account_id":216064,"reputation":24129,"user_id":471070,"display_name":"fredt"},"score":0,"creation_date":1647026527,"post_id":71442405,"comment_id":126278163,"body_markdown":"Looks like windows access rights for the Java process. Try narrowing it down by using another folder.","body":"Looks like windows access rights for the Java process. Try narrowing it down by using another folder."},{"owner":{"account_id":6892580,"reputation":1,"user_id":9676322,"display_name":"PatrickG"},"score":0,"creation_date":1647028380,"post_id":71442405,"comment_id":126278613,"body_markdown":"Yes it is : I moved my database folder to USB key and it&#39;s running ! But I can&#39;t anderstand what to do into my C drive ? I don&#39;t know how to verify/edit the java rights on my database folder ?","body":"Yes it is : I moved my database folder to USB key and it&#39;s running ! But I can&#39;t anderstand what to do into my C drive ? I don&#39;t know how to verify/edit the java rights on my database folder ?"},{"owner":{"account_id":216064,"reputation":24129,"user_id":471070,"display_name":"fredt"},"score":0,"creation_date":1647032446,"post_id":71442405,"comment_id":126279582,"body_markdown":"Try running as administrator.","body":"Try running as administrator."}],"owner":{"account_id":6892580,"reputation":1,"user_id":9676322,"display_name":"PatrickG"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647019478,"creation_date":1647019478,"question_id":71442405,"body_markdown":"Database lock acquisition failure running hsqldb :\r\n\r\n    start_hsqldb_server.bat\r\n    \r\n    C:\\Users\\Patrick\\Documents\\PROFESSIONNEL\\PEDAGOGIE\\DATABASES\\runserver.ShuttleWindows&gt;java  -Xmx4096m  -cp .\\hsqldb.jar org.hsqldb.Server\r\n    [Server@41cf53f9]: Startup sequence initiated from main() method\r\n    [Server@41cf53f9]: Loaded properties from [C:\\Users\\Patrick\\Documents\\PROFESSIONNEL\\PEDAGOGIE\\DATABASES\\runserver.ShuttleWindows\\server.properties]\r\n    [Server@41cf53f9]: Initiating startup sequence...\r\n    [Server@41cf53f9]: Server socket opened successfully in 7 ms.\r\n    [Server@41cf53f9]: [Thread[HSQLDB Server @41cf53f9,5,main]]: Database [index=0, db=file:C:/Users/Patrick/Documents/PROFESSIONNEL/HSQLDB_DATA/typodoc/typodoc, alias=typodoc] did not open: org.hsqldb.HsqlException\r\n    : Database lock acquisition failure: lockFile: org.hsqldb.persist.LockFile@5ebdfb50[file =C:\\Users\\Patrick\\Documents\\PROFESSIONNEL\\HSQLDB_DATA\\typodoc\\typodoc.lck, exists=false, locked=false, valid=false, ] method: openRAF reason: java.io.FileNotFoundException: C:\\Users\\Patrick\\Documents\\PROFESSIONNEL\\HSQLDB_DATA\\typodoc\\typodoc.lck (Le fichier sp&#218;cifi&#218; est introuvable)\r\n    [Server@41cf53f9]: [Thread[HSQLDB Server @41cf53f9,5,main]]: Shutting down because there are no open databases\r\n    [Server@41cf53f9]: Initiating shutdown sequence...\r\n    [Server@41cf53f9]: Shutdown sequence completed in 0 ms.\r\n    [Server@41cf53f9]: 2022-03-11 18:16:27.098 SHUTDOWN : System.exit() is called next\r\n\r\nI deleted **C:\\Users\\Patrick\\Documents\\PROFESSIONNEL\\HSQLDB_DATA\\typodoc\\typodoc.lck** file but it not solve the problem... As I&#39;ve got problems with my system files rights I suggest a properties right on folder of the database. I added total right for Me, Administrateurs and All users but it not solve. It look&#39;s like an other process is running the database but My MSDOS Script only lauch the server one time ... How to get more informations for this error ? How to audit system files rights for java process ?\r\n\r\nThank you for your help ...\r\nPatrick\r\n","title":"Database lock acquisition failure with hsqldb but erase .lck file not solved","body":"<p>Database lock acquisition failure running hsqldb :</p>\n<pre><code>start_hsqldb_server.bat\n\nC:\\Users\\Patrick\\Documents\\PROFESSIONNEL\\PEDAGOGIE\\DATABASES\\runserver.ShuttleWindows&gt;java  -Xmx4096m  -cp .\\hsqldb.jar org.hsqldb.Server\n[Server@41cf53f9]: Startup sequence initiated from main() method\n[Server@41cf53f9]: Loaded properties from [C:\\Users\\Patrick\\Documents\\PROFESSIONNEL\\PEDAGOGIE\\DATABASES\\runserver.ShuttleWindows\\server.properties]\n[Server@41cf53f9]: Initiating startup sequence...\n[Server@41cf53f9]: Server socket opened successfully in 7 ms.\n[Server@41cf53f9]: [Thread[HSQLDB Server @41cf53f9,5,main]]: Database [index=0, db=file:C:/Users/Patrick/Documents/PROFESSIONNEL/HSQLDB_DATA/typodoc/typodoc, alias=typodoc] did not open: org.hsqldb.HsqlException\n: Database lock acquisition failure: lockFile: org.hsqldb.persist.LockFile@5ebdfb50[file =C:\\Users\\Patrick\\Documents\\PROFESSIONNEL\\HSQLDB_DATA\\typodoc\\typodoc.lck, exists=false, locked=false, valid=false, ] method: openRAF reason: java.io.FileNotFoundException: C:\\Users\\Patrick\\Documents\\PROFESSIONNEL\\HSQLDB_DATA\\typodoc\\typodoc.lck (Le fichier spÚcifiÚ est introuvable)\n[Server@41cf53f9]: [Thread[HSQLDB Server @41cf53f9,5,main]]: Shutting down because there are no open databases\n[Server@41cf53f9]: Initiating shutdown sequence...\n[Server@41cf53f9]: Shutdown sequence completed in 0 ms.\n[Server@41cf53f9]: 2022-03-11 18:16:27.098 SHUTDOWN : System.exit() is called next\n</code></pre>\n<p>I deleted <strong>C:\\Users\\Patrick\\Documents\\PROFESSIONNEL\\HSQLDB_DATA\\typodoc\\typodoc.lck</strong> file but it not solve the problem... As I've got problems with my system files rights I suggest a properties right on folder of the database. I added total right for Me, Administrateurs and All users but it not solve. It look's like an other process is running the database but My MSDOS Script only lauch the server one time ... How to get more informations for this error ? How to audit system files rights for java process ?</p>\n<p>Thank you for your help ...\nPatrick</p>\n"},{"tags":["java","random","uuid"],"comments":[{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":45,"creation_date":1285596495,"post_id":3804591,"comment_id":4034156,"body_markdown":"Why do the dashes need to be removed for such a UUID to be transmitted over HTTP?","body":"Why do the dashes need to be removed for such a UUID to be transmitted over HTTP?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":7,"creation_date":1285596515,"post_id":3804591,"comment_id":4034162,"body_markdown":"I didn&#39;t think dashes needed to be removed in HTTP in general... which bit is causing you hassle?","body":"I didn&#39;t think dashes needed to be removed in HTTP in general... which bit is causing you hassle?"},{"owner":{"account_id":7198,"reputation":46927,"user_id":12388,"accept_rate":82,"display_name":"Guido"},"score":3,"creation_date":1285598160,"post_id":3804591,"comment_id":4034470,"body_markdown":"Maybe in a mobile environment, if you still pay for each byte transmitted, and using a low-bandwidth &amp; high-latency network, saving 4 bytes is still important in some scenarios...","body":"Maybe in a mobile environment, if you still pay for each byte transmitted, and using a low-bandwidth &amp; high-latency network, saving 4 bytes is still important in some scenarios..."},{"owner":{"account_id":20203,"reputation":29442,"user_id":48062,"accept_rate":66,"display_name":"Maxim Veksler"},"score":3,"creation_date":1285669153,"post_id":3804591,"comment_id":4043302,"body_markdown":"I want the dashes to be removed because we later using the UUID string as unique request identifier, it&#39;s much easier working with only hex decimal chars then [a-f0-9-].","body":"I want the dashes to be removed because we later using the UUID string as unique request identifier, it&#39;s much easier working with only hex decimal chars then [a-f0-9-]."},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":1,"creation_date":1581610310,"post_id":3804591,"comment_id":106502115,"body_markdown":"I have removed the HTTP part because it&#39;s not relevant (as Maxim explained), only confuses the readers (as can be seen both in comments and answers).","body":"I have removed the HTTP part because it&#39;s not relevant (as Maxim explained), only confuses the readers (as can be seen both in comments and answers)."}],"answers":[{"tags":[],"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"down_vote_count":0,"up_vote_count":358,"is_accepted":false,"score":358,"last_activity_date":1502284685,"creation_date":1285596743,"answer_id":3804640,"question_id":3804591,"body_markdown":"This does it:\r\n\r\n    public static void main(String[] args) {\r\n        final String uuid = UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;);\r\n        System.out.println(&quot;uuid = &quot; + uuid);\r\n    }\r\n","title":"Efficient method to generate UUID String in Java (UUID.randomUUID().toString() without the dashes)","body":"<p>This does it:</p>\n\n<pre><code>public static void main(String[] args) {\n    final String uuid = UUID.randomUUID().toString().replace(\"-\", \"\");\n    System.out.println(\"uuid = \" + uuid);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":208839,"reputation":1399,"user_id":459572,"accept_rate":23,"display_name":"Donz"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1285597736,"creation_date":1285597736,"answer_id":3804799,"question_id":3804591,"body_markdown":"Dashes don&#39;t need to be removed from HTTP request as you can see in URL of this thread.\r\nBut if you want to prepare well-formed URL without dependency on data you should use URLEncoder.encode( String data, String encoding ) instead of changing standard form of you data.\r\nFor UUID string representation dashes is normal.","title":"Efficient method to generate UUID String in Java (UUID.randomUUID().toString() without the dashes)","body":"<p>Dashes don't need to be removed from HTTP request as you can see in URL of this thread.\nBut if you want to prepare well-formed URL without dependency on data you should use URLEncoder.encode( String data, String encoding ) instead of changing standard form of you data.\nFor UUID string representation dashes is normal.</p>\n"},{"tags":[],"owner":{"account_id":172968,"reputation":519,"user_id":401352,"display_name":"Sheng Chien"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1348179574,"creation_date":1285624809,"answer_id":3808239,"question_id":3804591,"body_markdown":"I used JUG (Java UUID Generator) to generate unique ID. \r\nIt is unique across JVMs. Pretty good to use. Here is the code for your reference:\r\n\r\n    private static final SecureRandom secureRandom = new SecureRandom();\r\n    private static final UUIDGenerator generator = UUIDGenerator.getInstance();\r\n\r\n    public synchronized static String generateUniqueId() {\r\n      UUID uuid = generator.generateRandomBasedUUID(secureRandom);\r\n\r\n      return uuid.toString().replaceAll(&quot;-&quot;, &quot;&quot;).toUpperCase();\r\n    }\r\n\r\n\r\nYou could download the library from: https://github.com/cowtowncoder/java-uuid-generator\r\n","title":"Efficient method to generate UUID String in Java (UUID.randomUUID().toString() without the dashes)","body":"<p>I used JUG (Java UUID Generator) to generate unique ID. \nIt is unique across JVMs. Pretty good to use. Here is the code for your reference:</p>\n\n<pre><code>private static final SecureRandom secureRandom = new SecureRandom();\nprivate static final UUIDGenerator generator = UUIDGenerator.getInstance();\n\npublic synchronized static String generateUniqueId() {\n  UUID uuid = generator.generateRandomBasedUUID(secureRandom);\n\n  return uuid.toString().replaceAll(\"-\", \"\").toUpperCase();\n}\n</code></pre>\n\n<p>You could download the library from: <a href=\"https://github.com/cowtowncoder/java-uuid-generator\" rel=\"noreferrer\">https://github.com/cowtowncoder/java-uuid-generator</a></p>\n"},{"tags":[],"owner":{"account_id":20203,"reputation":29442,"user_id":48062,"accept_rate":66,"display_name":"Maxim Veksler"},"down_vote_count":6,"up_vote_count":20,"is_accepted":true,"score":14,"last_activity_date":1491586957,"creation_date":1285669341,"answer_id":3811761,"question_id":3804591,"body_markdown":"Ended up writing something of my own based on UUID.java implementation. Note that I&#39;m **not generating a UUID**, instead just a random 32 bytes hex string in the most efficient way I could think of.\r\n\r\n## Implementation\r\n\r\n    import java.security.SecureRandom;\r\n    import java.util.UUID;\r\n    \r\n    public class RandomUtil {\r\n    \t// Maxim: Copied from UUID implementation :)\r\n    \tprivate static volatile SecureRandom numberGenerator = null;\r\n    \tprivate static final long MSB = 0x8000000000000000L;\r\n    \t\r\n    \tpublic static String unique() {\r\n            SecureRandom ng = numberGenerator;\r\n            if (ng == null) {\r\n                numberGenerator = ng = new SecureRandom();\r\n            }\r\n    \r\n            return Long.toHexString(MSB | ng.nextLong()) + Long.toHexString(MSB | ng.nextLong());\r\n    \t}    \t\r\n    }\r\n\r\n# Usage \r\n\r\n    RandomUtil.unique()\r\n\r\n# Tests\r\n\r\nSome of the inputs I&#39;ve tested to make sure it&#39;s working:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(UUID.randomUUID().toString());\r\n\t\tSystem.out.println(RandomUtil.unique());\r\n\t\t\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(Long.toHexString(0x8000000000000000L |21));\r\n\t\tSystem.out.println(Long.toBinaryString(0x8000000000000000L |21));\r\n\t\tSystem.out.println(Long.toHexString(Long.MAX_VALUE + 1));\r\n\t}\r\n\r\n","title":"Efficient method to generate UUID String in Java (UUID.randomUUID().toString() without the dashes)","body":"<p>Ended up writing something of my own based on UUID.java implementation. Note that I'm <strong>not generating a UUID</strong>, instead just a random 32 bytes hex string in the most efficient way I could think of.</p>\n\n<h2>Implementation</h2>\n\n<pre><code>import java.security.SecureRandom;\nimport java.util.UUID;\n\npublic class RandomUtil {\n    // Maxim: Copied from UUID implementation :)\n    private static volatile SecureRandom numberGenerator = null;\n    private static final long MSB = 0x8000000000000000L;\n\n    public static String unique() {\n        SecureRandom ng = numberGenerator;\n        if (ng == null) {\n            numberGenerator = ng = new SecureRandom();\n        }\n\n        return Long.toHexString(MSB | ng.nextLong()) + Long.toHexString(MSB | ng.nextLong());\n    }       \n}\n</code></pre>\n\n<h1>Usage</h1>\n\n<pre><code>RandomUtil.unique()\n</code></pre>\n\n<h1>Tests</h1>\n\n<p>Some of the inputs I've tested to make sure it's working:</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(UUID.randomUUID().toString());\n    System.out.println(RandomUtil.unique());\n\n    System.out.println();\n    System.out.println(Long.toHexString(0x8000000000000000L |21));\n    System.out.println(Long.toBinaryString(0x8000000000000000L |21));\n    System.out.println(Long.toHexString(Long.MAX_VALUE + 1));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":552790,"reputation":1926,"user_id":918030,"accept_rate":40,"display_name":"stikkos"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1375952754,"creation_date":1375952754,"answer_id":18122014,"question_id":3804591,"body_markdown":"I use org.apache.commons.codec.binary.Base64 to convert a UUID into a url-safe unique string that is 22 characters in length and has the same uniqueness as UUID. \r\n\r\nI posted my code on https://stackoverflow.com/questions/772802/storing-uuid-as-base64-string/18057117#18057117","title":"Efficient method to generate UUID String in Java (UUID.randomUUID().toString() without the dashes)","body":"<p>I use org.apache.commons.codec.binary.Base64 to convert a UUID into a url-safe unique string that is 22 characters in length and has the same uniqueness as UUID. </p>\n\n<p>I posted my code on <a href=\"https://stackoverflow.com/questions/772802/storing-uuid-as-base64-string/18057117#18057117\">Storing UUID as base64 String</a></p>\n"},{"tags":[],"owner":{"account_id":8692375,"reputation":109,"user_id":6504930,"display_name":"Stephan"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1466693818,"creation_date":1466693818,"answer_id":37995227,"question_id":3804591,"body_markdown":"I am amazed to see so many string replace ideas of UUID. How about this:\r\n\r\n    UUID temp = UUID.randomUUID();\r\n    String uuidString = Long.toHexString(temp.getMostSignificantBits())\r\n         + Long.toHexString(temp.getLeastSignificantBits());\r\n\r\nThis is the fasted way of doing it since the whole toString() of UUID is already more expensive not to mention the regular expression which has to be parsed and executed or the replacing with empty string.","title":"Efficient method to generate UUID String in Java (UUID.randomUUID().toString() without the dashes)","body":"<p>I am amazed to see so many string replace ideas of UUID. How about this:</p>\n\n<pre><code>UUID temp = UUID.randomUUID();\nString uuidString = Long.toHexString(temp.getMostSignificantBits())\n     + Long.toHexString(temp.getLeastSignificantBits());\n</code></pre>\n\n<p>This is the fasted way of doing it since the whole toString() of UUID is already more expensive not to mention the regular expression which has to be parsed and executed or the replacing with empty string.</p>\n"},{"tags":[],"owner":{"account_id":411202,"reputation":41987,"user_id":783510,"accept_rate":91,"display_name":"Philipp Cla&#223;en"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1473292558,"creation_date":1473292558,"answer_id":39380630,"question_id":3804591,"body_markdown":"A simple solution is\r\n\r\n    UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;)\r\n\r\n(Like the existing solutions, only that it avoids the [String#replaceAll][1] call. Regular expression replacement is not required here, so [String#replace][2] feels more natural, though technically it still is implemented with regular expressions. Given that the generation of the UUID is more costly than the replacement, there should not be a significant difference in runtime.)\r\n\r\nUsing the UUID class is probably fast enough for most scenarios, though I would expect that some specialized hand-written variant, which does not need the postprocessing, to be faster. Anyway, the bottleneck of the overall computation will normally be the random number generator. In case of the UUID class, it uses [SecureRandom][3].\r\n\r\nWhich random number generator to use is also a trade-off that depends on the application. If it is security-sensitive, SecureRandom is, in general, the recommendation. Otherwise, [ThreadLocalRandom][4] is an alternative (faster than SecureRandom or the old [Random][5], but not cryptographically secure).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replaceAll-java.lang.String-java.lang.String-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replace-java.lang.CharSequence-java.lang.CharSequence-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/security/SecureRandom.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/index.html?java/util/concurrent/ThreadLocalRandom.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/Random.html","title":"Efficient method to generate UUID String in Java (UUID.randomUUID().toString() without the dashes)","body":"<p>A simple solution is</p>\n\n<pre><code>UUID.randomUUID().toString().replace(\"-\", \"\")\n</code></pre>\n\n<p>(Like the existing solutions, only that it avoids the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replaceAll-java.lang.String-java.lang.String-\" rel=\"noreferrer\">String#replaceAll</a> call. Regular expression replacement is not required here, so <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replace-java.lang.CharSequence-java.lang.CharSequence-\" rel=\"noreferrer\">String#replace</a> feels more natural, though technically it still is implemented with regular expressions. Given that the generation of the UUID is more costly than the replacement, there should not be a significant difference in runtime.)</p>\n\n<p>Using the UUID class is probably fast enough for most scenarios, though I would expect that some specialized hand-written variant, which does not need the postprocessing, to be faster. Anyway, the bottleneck of the overall computation will normally be the random number generator. In case of the UUID class, it uses <a href=\"https://docs.oracle.com/javase/8/docs/api/java/security/SecureRandom.html\" rel=\"noreferrer\">SecureRandom</a>.</p>\n\n<p>Which random number generator to use is also a trade-off that depends on the application. If it is security-sensitive, SecureRandom is, in general, the recommendation. Otherwise, <a href=\"https://docs.oracle.com/javase/8/docs/api/index.html?java/util/concurrent/ThreadLocalRandom.html\" rel=\"noreferrer\">ThreadLocalRandom</a> is an alternative (faster than SecureRandom or the old <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html\" rel=\"noreferrer\">Random</a>, but not cryptographically secure).</p>\n"},{"tags":[],"owner":{"account_id":13544801,"reputation":61,"user_id":9771446,"display_name":"Ravi Desai"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1526042750,"creation_date":1525963115,"answer_id":50275487,"question_id":3804591,"body_markdown":"I have just copied UUID toString() method and just updated it to remove &quot;-&quot; from it. It will be much more faster and straight forward than any other solution\r\n\r\n    public String generateUUIDString(UUID uuid) {\r\n        return (digits(uuid.getMostSignificantBits() &gt;&gt; 32, 8) +\r\n                digits(uuid.getMostSignificantBits() &gt;&gt; 16, 4) +\r\n                digits(uuid.getMostSignificantBits(), 4) +\r\n                digits(uuid.getLeastSignificantBits() &gt;&gt; 48, 4) +\r\n                digits(uuid.getLeastSignificantBits(), 12));\r\n    }\r\n    \r\n    /** Returns val represented by the specified number of hex digits. */\r\n    private String digits(long val, int digits) {\r\n        long hi = 1L &lt;&lt; (digits * 4);\r\n        return Long.toHexString(hi | (val &amp; (hi - 1))).substring(1);\r\n    }\r\n\r\nUsage:\r\n\r\n`generateUUIDString(UUID.randomUUID())`\r\n\r\n\r\n**Another implementation using reflection**\r\n\r\n    public String generateString(UUID uuid) throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\r\n\r\n        if (uuid == null) {\r\n            return &quot;&quot;;\r\n        }\r\n\r\n        Method digits = UUID.class.getDeclaredMethod(&quot;digits&quot;, long.class, int.class);\r\n        digits.setAccessible(true);\r\n\r\n        return ( (String) digits.invoke(uuid, uuid.getMostSignificantBits() &gt;&gt; 32, 8) +\r\n                digits.invoke(uuid, uuid.getMostSignificantBits() &gt;&gt; 16, 4) +\r\n                digits.invoke(uuid, uuid.getMostSignificantBits(), 4) +\r\n                digits.invoke(uuid, uuid.getLeastSignificantBits() &gt;&gt; 48, 4) +\r\n                digits.invoke(uuid, uuid.getLeastSignificantBits(), 12));\r\n\r\n    }\r\n\r\n","title":"Efficient method to generate UUID String in Java (UUID.randomUUID().toString() without the dashes)","body":"<p>I have just copied UUID toString() method and just updated it to remove \"-\" from it. It will be much more faster and straight forward than any other solution</p>\n\n<pre><code>public String generateUUIDString(UUID uuid) {\n    return (digits(uuid.getMostSignificantBits() &gt;&gt; 32, 8) +\n            digits(uuid.getMostSignificantBits() &gt;&gt; 16, 4) +\n            digits(uuid.getMostSignificantBits(), 4) +\n            digits(uuid.getLeastSignificantBits() &gt;&gt; 48, 4) +\n            digits(uuid.getLeastSignificantBits(), 12));\n}\n\n/** Returns val represented by the specified number of hex digits. */\nprivate String digits(long val, int digits) {\n    long hi = 1L &lt;&lt; (digits * 4);\n    return Long.toHexString(hi | (val &amp; (hi - 1))).substring(1);\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<p><code>generateUUIDString(UUID.randomUUID())</code></p>\n\n<p><strong>Another implementation using reflection</strong></p>\n\n<pre><code>public String generateString(UUID uuid) throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\n\n    if (uuid == null) {\n        return \"\";\n    }\n\n    Method digits = UUID.class.getDeclaredMethod(\"digits\", long.class, int.class);\n    digits.setAccessible(true);\n\n    return ( (String) digits.invoke(uuid, uuid.getMostSignificantBits() &gt;&gt; 32, 8) +\n            digits.invoke(uuid, uuid.getMostSignificantBits() &gt;&gt; 16, 4) +\n            digits.invoke(uuid, uuid.getMostSignificantBits(), 4) +\n            digits.invoke(uuid, uuid.getLeastSignificantBits() &gt;&gt; 48, 4) +\n            digits.invoke(uuid, uuid.getLeastSignificantBits(), 12));\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1053260,"reputation":1032,"user_id":1056610,"display_name":"fabiolimace"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629911021,"creation_date":1595687463,"answer_id":63089553,"question_id":3804591,"body_markdown":"\r\nThis utility class generates UUIDs as **String with or without dashes**.\r\n\r\n```java\r\npackage your.package.name;\r\n\r\nimport java.security.SecureRandom;\r\nimport java.util.Random;\r\n\r\n/**\r\n * Utility class that creates random-based UUIDs.\r\n * \r\n */\r\npublic abstract class RandomUuidStringCreator {\r\n\r\n\tprivate static final int RANDOM_VERSION = 4;\r\n\r\n\t/**\r\n\t * Returns a random-based UUID as String.\r\n\t * \r\n\t * It uses a thread local {@link SecureRandom}.\r\n\t * \r\n\t * @return a random-based UUID string\r\n\t */\r\n\tpublic static String getRandomUuid() {\r\n\t\treturn getRandomUuid(SecureRandomLazyHolder.SECURE_RANDOM);\r\n\t}\r\n\r\n\t/**\r\n\t * Returns a random-based UUID as String WITH dashes.\r\n\t * \r\n\t * It uses a thread local {@link SecureRandom}.\r\n\t * \r\n\t * @return a random-based UUID string\r\n\t */\r\n\tpublic static String getRandomUuidWithDashes() {\r\n\t\treturn format(getRandomUuid());\r\n\t}\r\n\r\n\t/**\r\n\t * Returns a random-based UUID String.\r\n\t * \r\n\t * It uses any instance of {@link Random}.\r\n\t * \r\n\t * @return a random-based UUID string\r\n\t */\r\n\tpublic static String getRandomUuid(Random random) {\r\n\r\n\t\tlong msb = 0;\r\n\t\tlong lsb = 0;\r\n\r\n\t\t// (3) set all bit randomly\r\n\t\tif (random instanceof SecureRandom) {\r\n\t\t\t// Faster for instances of SecureRandom\r\n\t\t\tfinal byte[] bytes = new byte[16];\r\n\t\t\trandom.nextBytes(bytes);\r\n\t\t\tmsb = toNumber(bytes, 0, 8); // first 8 bytes for MSB\r\n\t\t\tlsb = toNumber(bytes, 8, 16); // last 8 bytes for LSB\r\n\t\t} else {\r\n\t\t\tmsb = random.nextLong(); // first 8 bytes for MSB\r\n\t\t\tlsb = random.nextLong(); // last 8 bytes for LSB\r\n\t\t}\r\n\r\n\t\t// Apply version and variant bits (required for RFC-4122 compliance)\r\n\t\tmsb = (msb &amp; 0xffffffffffff0fffL) | (RANDOM_VERSION &amp; 0x0f) &lt;&lt; 12; // apply version bits\r\n\t\tlsb = (lsb &amp; 0x3fffffffffffffffL) | 0x8000000000000000L; // apply variant bits\r\n\r\n\t\t// Convert MSB and LSB to hexadecimal\r\n\t\tString msbHex = zerofill(Long.toHexString(msb), 16);\r\n\t\tString lsbHex = zerofill(Long.toHexString(lsb), 16);\r\n\r\n\t\t// Return the UUID\r\n\t\treturn msbHex + lsbHex;\r\n\t}\r\n\r\n\t/**\r\n\t * Returns a random-based UUID as String WITH dashes.\r\n\t * \r\n\t * It uses a thread local {@link SecureRandom}.\r\n\t * \r\n\t * @return a random-based UUID string\r\n\t */\r\n\tpublic static String getRandomUuidWithDashes(Random random) {\r\n\t\treturn format(getRandomUuid(random));\r\n\t}\r\n\r\n\tprivate static long toNumber(final byte[] bytes, final int start, final int length) {\r\n\t\tlong result = 0;\r\n\t\tfor (int i = start; i &lt; length; i++) {\r\n\t\t\tresult = (result &lt;&lt; 8) | (bytes[i] &amp; 0xff);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprivate static String zerofill(String string, int length) {\r\n\t\treturn new String(lpad(string.toCharArray(), length, &#39;0&#39;));\r\n\t}\r\n\r\n\tprivate static char[] lpad(char[] chars, int length, char fill) {\r\n\r\n\t\tint delta = 0;\r\n\t\tint limit = 0;\r\n\r\n\t\tif (length &gt; chars.length) {\r\n\t\t\tdelta = length - chars.length;\r\n\t\t\tlimit = length;\r\n\t\t} else {\r\n\t\t\tdelta = 0;\r\n\t\t\tlimit = chars.length;\r\n\t\t}\r\n\r\n\t\tchar[] output = new char[chars.length + delta];\r\n\t\tfor (int i = 0; i &lt; limit; i++) {\r\n\t\t\tif (i &lt; delta) {\r\n\t\t\t\toutput[i] = fill;\r\n\t\t\t} else {\r\n\t\t\t\toutput[i] = chars[i - delta];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn output;\r\n\t}\r\n\r\n\tprivate static String format(String string) {\r\n\t\tchar[] input = string.toCharArray();\r\n\t\tchar[] output = new char[36];\r\n\r\n\t\tSystem.arraycopy(input, 0, output, 0, 8);\r\n\t\tSystem.arraycopy(input, 8, output, 9, 4);\r\n\t\tSystem.arraycopy(input, 12, output, 14, 4);\r\n\t\tSystem.arraycopy(input, 16, output, 19, 4);\r\n\t\tSystem.arraycopy(input, 20, output, 24, 12);\r\n\r\n\t\toutput[8] = &#39;-&#39;;\r\n\t\toutput[13] = &#39;-&#39;;\r\n\t\toutput[18] = &#39;-&#39;;\r\n\t\toutput[23] = &#39;-&#39;;\r\n\r\n\t\treturn new String(output);\r\n\t}\r\n\r\n\t// Holds lazy secure random\r\n\tprivate static class SecureRandomLazyHolder {\r\n\t\tstatic final Random SECURE_RANDOM = new SecureRandom();\r\n\t}\r\n\r\n\t/**\r\n\t * For tests!\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tSystem.out.println(&quot;// Using `java.security.SecureRandom` (DEFAULT)&quot;);\r\n\t\tSystem.out.println(&quot;RandomUuidCreator.getRandomUuid()&quot;);\r\n\t\tSystem.out.println();\r\n\t\tfor (int i = 0; i &lt; 5; i++) {\r\n\t\t\tSystem.out.println(RandomUuidStringCreator.getRandomUuid());\r\n\t\t}\r\n\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;// Using `java.util.Random` (FASTER)&quot;);\r\n\t\tSystem.out.println(&quot;RandomUuidCreator.getRandomUuid(new Random())&quot;);\r\n\t\tSystem.out.println();\r\n\t\tRandom random = new Random();\r\n\t\tfor (int i = 0; i &lt; 5; i++) {\r\n\t\t\tSystem.out.println(RandomUuidStringCreator.getRandomUuid(random));\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThis is the output:\r\n\r\n```text\r\n// Using `java.security.SecureRandom` (DEFAULT)\r\nRandomUuidStringCreator.getRandomUuid()\r\n\r\n&#39;f553ca75657b4b5d85bedf1082785a0b&#39;\r\n&#39;525ecc389e934f209b97d0f0db09d9c6&#39;\r\n&#39;93ec6425bb04499ab47b790fd013ab0d&#39;\r\n&#39;c2d438c620ea4cd5baafd448f9fe945b&#39;\r\n&#39;fb4bc5734931415e94e78da62cb5fe0d&#39;\r\n\r\n// Using `java.util.Random` (FASTER)\r\nRandomUuidStringCreator.getRandomUuid(new Random())\r\n\r\n&#39;051360b5c92d40fbbb89b40842adbacc&#39;\r\n&#39;a993896538aa43faacbcfd83f913f38b&#39;\r\n&#39;720684d22c584d5299cb03cdbc1912d2&#39;\r\n&#39;82cf94ea296a4a138a92825a0068d4a1&#39;\r\n&#39;a7eda46a215c4e55be3aa957ba74ca9c&#39;\r\n```\r\n\r\nThere&#39;s a codec in [uuid-creator](https://github.com/f4b6a3/uuid-creator) that can do it more efficiently: [`Base16Codec`](https://github.com/f4b6a3/uuid-creator/blob/master/src/main/java/com/github/f4b6a3/uuid/codec/base/Base16Codec.java). Example:\r\n\r\n```java\r\n// Returns a base-16 string\r\n// It is much faster than doing `uuid.toString().replaceAll(&quot;-&quot;, &quot;&quot;)`.\r\nUuidCodec&lt;String&gt; codec = new Base16Codec();\r\nString string = codec.encode(UUID.randomUUID());\r\n```\r\n","title":"Efficient method to generate UUID String in Java (UUID.randomUUID().toString() without the dashes)","body":"<p>This utility class generates UUIDs as <strong>String with or without dashes</strong>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package your.package.name;\n\nimport java.security.SecureRandom;\nimport java.util.Random;\n\n/**\n * Utility class that creates random-based UUIDs.\n * \n */\npublic abstract class RandomUuidStringCreator {\n\n    private static final int RANDOM_VERSION = 4;\n\n    /**\n     * Returns a random-based UUID as String.\n     * \n     * It uses a thread local {@link SecureRandom}.\n     * \n     * @return a random-based UUID string\n     */\n    public static String getRandomUuid() {\n        return getRandomUuid(SecureRandomLazyHolder.SECURE_RANDOM);\n    }\n\n    /**\n     * Returns a random-based UUID as String WITH dashes.\n     * \n     * It uses a thread local {@link SecureRandom}.\n     * \n     * @return a random-based UUID string\n     */\n    public static String getRandomUuidWithDashes() {\n        return format(getRandomUuid());\n    }\n\n    /**\n     * Returns a random-based UUID String.\n     * \n     * It uses any instance of {@link Random}.\n     * \n     * @return a random-based UUID string\n     */\n    public static String getRandomUuid(Random random) {\n\n        long msb = 0;\n        long lsb = 0;\n\n        // (3) set all bit randomly\n        if (random instanceof SecureRandom) {\n            // Faster for instances of SecureRandom\n            final byte[] bytes = new byte[16];\n            random.nextBytes(bytes);\n            msb = toNumber(bytes, 0, 8); // first 8 bytes for MSB\n            lsb = toNumber(bytes, 8, 16); // last 8 bytes for LSB\n        } else {\n            msb = random.nextLong(); // first 8 bytes for MSB\n            lsb = random.nextLong(); // last 8 bytes for LSB\n        }\n\n        // Apply version and variant bits (required for RFC-4122 compliance)\n        msb = (msb &amp; 0xffffffffffff0fffL) | (RANDOM_VERSION &amp; 0x0f) &lt;&lt; 12; // apply version bits\n        lsb = (lsb &amp; 0x3fffffffffffffffL) | 0x8000000000000000L; // apply variant bits\n\n        // Convert MSB and LSB to hexadecimal\n        String msbHex = zerofill(Long.toHexString(msb), 16);\n        String lsbHex = zerofill(Long.toHexString(lsb), 16);\n\n        // Return the UUID\n        return msbHex + lsbHex;\n    }\n\n    /**\n     * Returns a random-based UUID as String WITH dashes.\n     * \n     * It uses a thread local {@link SecureRandom}.\n     * \n     * @return a random-based UUID string\n     */\n    public static String getRandomUuidWithDashes(Random random) {\n        return format(getRandomUuid(random));\n    }\n\n    private static long toNumber(final byte[] bytes, final int start, final int length) {\n        long result = 0;\n        for (int i = start; i &lt; length; i++) {\n            result = (result &lt;&lt; 8) | (bytes[i] &amp; 0xff);\n        }\n        return result;\n    }\n\n    private static String zerofill(String string, int length) {\n        return new String(lpad(string.toCharArray(), length, '0'));\n    }\n\n    private static char[] lpad(char[] chars, int length, char fill) {\n\n        int delta = 0;\n        int limit = 0;\n\n        if (length &gt; chars.length) {\n            delta = length - chars.length;\n            limit = length;\n        } else {\n            delta = 0;\n            limit = chars.length;\n        }\n\n        char[] output = new char[chars.length + delta];\n        for (int i = 0; i &lt; limit; i++) {\n            if (i &lt; delta) {\n                output[i] = fill;\n            } else {\n                output[i] = chars[i - delta];\n            }\n        }\n        return output;\n    }\n\n    private static String format(String string) {\n        char[] input = string.toCharArray();\n        char[] output = new char[36];\n\n        System.arraycopy(input, 0, output, 0, 8);\n        System.arraycopy(input, 8, output, 9, 4);\n        System.arraycopy(input, 12, output, 14, 4);\n        System.arraycopy(input, 16, output, 19, 4);\n        System.arraycopy(input, 20, output, 24, 12);\n\n        output[8] = '-';\n        output[13] = '-';\n        output[18] = '-';\n        output[23] = '-';\n\n        return new String(output);\n    }\n\n    // Holds lazy secure random\n    private static class SecureRandomLazyHolder {\n        static final Random SECURE_RANDOM = new SecureRandom();\n    }\n\n    /**\n     * For tests!\n     */\n    public static void main(String[] args) {\n\n        System.out.println(&quot;// Using `java.security.SecureRandom` (DEFAULT)&quot;);\n        System.out.println(&quot;RandomUuidCreator.getRandomUuid()&quot;);\n        System.out.println();\n        for (int i = 0; i &lt; 5; i++) {\n            System.out.println(RandomUuidStringCreator.getRandomUuid());\n        }\n\n        System.out.println();\n        System.out.println(&quot;// Using `java.util.Random` (FASTER)&quot;);\n        System.out.println(&quot;RandomUuidCreator.getRandomUuid(new Random())&quot;);\n        System.out.println();\n        Random random = new Random();\n        for (int i = 0; i &lt; 5; i++) {\n            System.out.println(RandomUuidStringCreator.getRandomUuid(random));\n        }\n    }\n}\n\n</code></pre>\n<p>This is the output:</p>\n<pre><code>// Using `java.security.SecureRandom` (DEFAULT)\nRandomUuidStringCreator.getRandomUuid()\n\n'f553ca75657b4b5d85bedf1082785a0b'\n'525ecc389e934f209b97d0f0db09d9c6'\n'93ec6425bb04499ab47b790fd013ab0d'\n'c2d438c620ea4cd5baafd448f9fe945b'\n'fb4bc5734931415e94e78da62cb5fe0d'\n\n// Using `java.util.Random` (FASTER)\nRandomUuidStringCreator.getRandomUuid(new Random())\n\n'051360b5c92d40fbbb89b40842adbacc'\n'a993896538aa43faacbcfd83f913f38b'\n'720684d22c584d5299cb03cdbc1912d2'\n'82cf94ea296a4a138a92825a0068d4a1'\n'a7eda46a215c4e55be3aa957ba74ca9c'\n</code></pre>\n<p>There's a codec in <a href=\"https://github.com/f4b6a3/uuid-creator\" rel=\"nofollow noreferrer\">uuid-creator</a> that can do it more efficiently: <a href=\"https://github.com/f4b6a3/uuid-creator/blob/master/src/main/java/com/github/f4b6a3/uuid/codec/base/Base16Codec.java\" rel=\"nofollow noreferrer\"><code>Base16Codec</code></a>. Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Returns a base-16 string\n// It is much faster than doing `uuid.toString().replaceAll(&quot;-&quot;, &quot;&quot;)`.\nUuidCodec&lt;String&gt; codec = new Base16Codec();\nString string = codec.encode(UUID.randomUUID());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607187295,"creation_date":1607187295,"answer_id":65159533,"question_id":3804591,"body_markdown":"Well, since an UUID gets **added** the hyphens (dashes) on **toString**() we can steal the implementation from Java&#39;s own implementation, shorting the byte array to 32 and adjusting the offset. \r\n\r\n            public static String special() {\r\n                UUID uuid = UUID.randomUUID();\r\n                return fastUUID(uuid.getLeastSignificantBits(), uuid.getMostSignificantBits());\r\n            }\r\n    \r\n            private static String fastUUID(long lsb, long msb) {\r\n                byte[] buf = new byte[32];\r\n                formatUnsignedLong0(lsb,        4, buf, 20, 12);\r\n                formatUnsignedLong0(lsb &gt;&gt;&gt; 48, 4, buf, 16, 4);\r\n    \r\n                formatUnsignedLong0(msb,        4, buf, 12, 4);\r\n                formatUnsignedLong0(msb &gt;&gt;&gt; 16, 4, buf, 8,  4);\r\n                formatUnsignedLong0(msb &gt;&gt;&gt; 32, 4, buf, 0,  8);\r\n    \r\n                return new String(buf, 0);\r\n            }\r\n    \r\n            private static final char[] digits = {\r\n                    &#39;0&#39; , &#39;1&#39; , &#39;2&#39; , &#39;3&#39; , &#39;4&#39; , &#39;5&#39; ,\r\n                    &#39;6&#39; , &#39;7&#39; , &#39;8&#39; , &#39;9&#39; , &#39;a&#39; , &#39;b&#39; ,\r\n                    &#39;c&#39; , &#39;d&#39; , &#39;e&#39; , &#39;f&#39; , &#39;g&#39; , &#39;h&#39; ,\r\n                    &#39;i&#39; , &#39;j&#39; , &#39;k&#39; , &#39;l&#39; , &#39;m&#39; , &#39;n&#39; ,\r\n                    &#39;o&#39; , &#39;p&#39; , &#39;q&#39; , &#39;r&#39; , &#39;s&#39; , &#39;t&#39; ,\r\n                    &#39;u&#39; , &#39;v&#39; , &#39;w&#39; , &#39;x&#39; , &#39;y&#39; , &#39;z&#39;\r\n            };\r\n            private static void formatUnsignedLong0(long val, int shift, byte[] buf, int offset, int len) {\r\n                int charPos = offset + len;\r\n                int radix = 1 &lt;&lt; shift;\r\n                int mask = radix - 1;\r\n                do {\r\n                    buf[--charPos] = (byte)digits[((int) val) &amp; mask];\r\n                    val &gt;&gt;&gt;= shift;\r\n                } while (charPos &gt; offset);\r\n            }\r\n\r\n\r\nRunning it: \r\n    \r\n            public static void main(String[] args) {\r\n                IntStream.range(0, 100).forEach(i-&gt; {\r\n                    System.out.println(special());\r\n                });\r\n            }\r\n\r\nGenerates: \r\n\r\n    23f57da8a2784bb5acca553030f82e61\r\n    a14427efd8d147fdae315c1cf20fc53c\r\n    ee972aa1cf85414ca364bef5c74a7e57\r\n    6877ef35eab94b9485c5dd7c8c5a8a56\r\n    578721476629422381c0f625e22564a8\r\n    dbf60f068b5443d7bc6e5280696fed9f\r\n    dd611e870700480d81d394dd2125316c\r\n    04d71b9379ef4db49c28e113485ea76d\r\n    fd4e8cf3f85a45ae8c1b9bfe3e489a4a\r\n    858c4e8297f849b784b65b6096dec4d4\r\n    b30a8ca318a349b486b5693814422555\r\n    351c2fab9bc1426fa3bb512484628f12\r\n    9ce59e01db38405aab82d46f2a236880\r\n    5ffb5acb547a4f15a4621b406391bc0d\r\n    541b5fba8ddb4f1ebbd59cdcd5f59f7c\r\n    77f9460c4baa43a7bbaaf7f2aff205bd\r\n    85fa5254305b4c72b1b7c0103aaee269\r\n    062d45aa86694b06aad841236b839341\r\n    7a265293560f4223ab8248fda502c89b\r\n    b748c13ac45747b99aead4b0a2d7d179\r\n    cbcbf623c75d407fa3c88cfc89a90ed4\r\n    da263eed8771496faebb6290527f77fa\r\n    22231088dec04cffa40fb79ff56c6453\r\n    594a66de4b874b3491649c5d033917f6\r\n    4f6802ebd0cc4a39b25a67191c3af09d\r\n    8878b7ab8aa445cdadbef0f7c70d3deb\r\n    2c3ed0154f0c4ddbad498b7ae928b9bc\r\n    cac1dcaa80e54e2db3248987d2dbda4a\r\n    f9a3567e6dd54bf5900444c8b1c03815\r\n    f0d25d7b615a4495b51c01ab15093a88\r\n    243e45926311437c8b26cede2dc7de25\r\n    e4738c50e4cd448fbac252571c0907df\r\n    261d3593cc054569bcd645885d22c2ee\r\n    64a4796356a04cc4a09506aeb6f5b8fd\r\n    9aeebcbdde074ed69738589ca9bde0f1\r\n    ec040c956861466b84ed7f7cec601be0\r\n    18bd233781e44e7cb152800db4c4edc7\r\n    1b7b251df1244e8db46a45c186aada2b\r\n    3e32f644c9074cb3bbb15c5be1d9b95e\r\n    625309e3ffd14a90bfbd6d48142ac60e\r\n    664f0cf347ce4767add576da584526e7\r\n    fe3893fd376849fe9fed00e328e61470\r\n    254ce1441bbf4a7eae1cdf8d288e61e8\r\n    90896c6b309a49f48cc3b7a1570e1846\r\n    5f47acd1319245648098c1aec9b95f23\r\n    f798033052614b9eae8da7eba4ba3475\r\n    3471c4320e4e431eb1fa9f5eb5cb21e0\r\n    855f473fed034b1fa17f4f65b850e03b\r\n    1245de826d0d4373bdd4cf2157792954\r\n    543a8b16efca4fa2b5263315e8b21660\r\n    2dc186d699274257922853d783c0ec13\r\n    a92e6b1783db4b49a4aaa424b9e1b03f\r\n    16773feb48054cf0942a2a27204b3572\r\n    1e58da2107ac4ee39e28a93b32e1df1d\r\n    67622c19498d4178a1bab6b19087f2c2\r\n    412b6b4474fc43ccbeb1e7707b6420ee\r\n    7d0fd632913c425eb5f087600ccea870\r\n    439687baddb44852a43048b04d38427c\r\n    8b2dcc4e50464429a18b11e4aacf51a2\r\n    2fccb1c832894fe6b0b61bbdf175cd39\r\n    6d224b3d6e8747319fcf01b0309d8a0f\r\n    b4982e3b4b594cb4b334c95c2c96355e\r\n    c47fbaf90d1d4e9caf211f93b742631f\r\n    9440271e8ba6447d9a008e89a93016a6\r\n    8d24274b6a3f436a88362438aa6a221d\r\n    60452bd3f71747ed8c3706abb2235bd5\r\n    6fa93f2ee30740b89496439dd7227a4f\r\n    cc17504cf80641f882c8665ae166ba44\r\n    743efe8eac6e47a789928da4fb5b6f70\r\n    4c4d2df3461448c4a3e934cf4a7ea74f\r\n    b231eb3fb46240d38157764e8906aa7b\r\n    a234ae65f7ed48f6b1887644eed36cc2\r\n    c9cd5ed3df3f4a27957b45498f0c48ef\r\n    3eb2fbbb0a714bb7986aef3ee34f0254\r\n    d15968e605f0440c9e740e3f4e498a9f\r\n    63a8d50e8db24b91a13d4ac2fb6f7d5b\r\n    5377df9296154c57926672ca8b3c9478\r\n    a4db4a3a9d5148648a23aa7f4f77f1e0\r\n    d0aee355a2ba42de89d659385514b0fa\r\n    e92e7702481a4575a66d59c061459c5b\r\n    1b6c542d8f994d85a1312ab2cf4545ce\r\n    88e347a515474ec59013673e5402b97f\r\n    2187d9b2dc2b4d96baceade5ae99db44\r\n    4d641e69ca5b4acf90f8afe238d8a940\r\n    9c0f4c101c434831b928114c5fc0c401\r\n    140e16f6cf134785a98ae9baee5b9e7b\r\n    4dac5910f4d047e1b213c058e2230bf3\r\n    fb50a7e6333f49e4b469234426d5002f\r\n    c96c5f2fa167458eaa6d01997d90a980\r\n    1e79721e587c4a92aa55cdf8195c8c55\r\n    0da27fc5d8384ce299197b4e06cda1d4\r\n    a5e32d9cf5834e86b3fe02bc0e3104d6\r\n    2dc1826647594b1fb728de67d3df363c\r\n    0276371815254198bd22cc76f901b332\r\n    bf9d77b7b4a64e7a97ade2a62af1f8e0\r\n    268cce3249f64895b6b47e86cf296e5b\r\n    d523201fc950435f803bf89d5f042c45\r\n    607a4306b90b467f8b19c2c943bc92ef\r\n    adfa9fb63a874ca1ad746ff573f03f28\r\n    fe88132c70d141e8839ce9e7f0308750\r\n\r\nShould be just as efficient (more effecient) than Javas actually. \r\n\r\n","title":"Efficient method to generate UUID String in Java (UUID.randomUUID().toString() without the dashes)","body":"<p>Well, since an UUID gets <strong>added</strong> the hyphens (dashes) on <strong>toString</strong>() we can steal the implementation from Java's own implementation, shorting the byte array to 32 and adjusting the offset.</p>\n<pre><code>        public static String special() {\n            UUID uuid = UUID.randomUUID();\n            return fastUUID(uuid.getLeastSignificantBits(), uuid.getMostSignificantBits());\n        }\n\n        private static String fastUUID(long lsb, long msb) {\n            byte[] buf = new byte[32];\n            formatUnsignedLong0(lsb,        4, buf, 20, 12);\n            formatUnsignedLong0(lsb &gt;&gt;&gt; 48, 4, buf, 16, 4);\n\n            formatUnsignedLong0(msb,        4, buf, 12, 4);\n            formatUnsignedLong0(msb &gt;&gt;&gt; 16, 4, buf, 8,  4);\n            formatUnsignedLong0(msb &gt;&gt;&gt; 32, 4, buf, 0,  8);\n\n            return new String(buf, 0);\n        }\n\n        private static final char[] digits = {\n                '0' , '1' , '2' , '3' , '4' , '5' ,\n                '6' , '7' , '8' , '9' , 'a' , 'b' ,\n                'c' , 'd' , 'e' , 'f' , 'g' , 'h' ,\n                'i' , 'j' , 'k' , 'l' , 'm' , 'n' ,\n                'o' , 'p' , 'q' , 'r' , 's' , 't' ,\n                'u' , 'v' , 'w' , 'x' , 'y' , 'z'\n        };\n        private static void formatUnsignedLong0(long val, int shift, byte[] buf, int offset, int len) {\n            int charPos = offset + len;\n            int radix = 1 &lt;&lt; shift;\n            int mask = radix - 1;\n            do {\n                buf[--charPos] = (byte)digits[((int) val) &amp; mask];\n                val &gt;&gt;&gt;= shift;\n            } while (charPos &gt; offset);\n        }\n</code></pre>\n<p>Running it:</p>\n<pre><code>        public static void main(String[] args) {\n            IntStream.range(0, 100).forEach(i-&gt; {\n                System.out.println(special());\n            });\n        }\n</code></pre>\n<p>Generates:</p>\n<pre><code>23f57da8a2784bb5acca553030f82e61\na14427efd8d147fdae315c1cf20fc53c\nee972aa1cf85414ca364bef5c74a7e57\n6877ef35eab94b9485c5dd7c8c5a8a56\n578721476629422381c0f625e22564a8\ndbf60f068b5443d7bc6e5280696fed9f\ndd611e870700480d81d394dd2125316c\n04d71b9379ef4db49c28e113485ea76d\nfd4e8cf3f85a45ae8c1b9bfe3e489a4a\n858c4e8297f849b784b65b6096dec4d4\nb30a8ca318a349b486b5693814422555\n351c2fab9bc1426fa3bb512484628f12\n9ce59e01db38405aab82d46f2a236880\n5ffb5acb547a4f15a4621b406391bc0d\n541b5fba8ddb4f1ebbd59cdcd5f59f7c\n77f9460c4baa43a7bbaaf7f2aff205bd\n85fa5254305b4c72b1b7c0103aaee269\n062d45aa86694b06aad841236b839341\n7a265293560f4223ab8248fda502c89b\nb748c13ac45747b99aead4b0a2d7d179\ncbcbf623c75d407fa3c88cfc89a90ed4\nda263eed8771496faebb6290527f77fa\n22231088dec04cffa40fb79ff56c6453\n594a66de4b874b3491649c5d033917f6\n4f6802ebd0cc4a39b25a67191c3af09d\n8878b7ab8aa445cdadbef0f7c70d3deb\n2c3ed0154f0c4ddbad498b7ae928b9bc\ncac1dcaa80e54e2db3248987d2dbda4a\nf9a3567e6dd54bf5900444c8b1c03815\nf0d25d7b615a4495b51c01ab15093a88\n243e45926311437c8b26cede2dc7de25\ne4738c50e4cd448fbac252571c0907df\n261d3593cc054569bcd645885d22c2ee\n64a4796356a04cc4a09506aeb6f5b8fd\n9aeebcbdde074ed69738589ca9bde0f1\nec040c956861466b84ed7f7cec601be0\n18bd233781e44e7cb152800db4c4edc7\n1b7b251df1244e8db46a45c186aada2b\n3e32f644c9074cb3bbb15c5be1d9b95e\n625309e3ffd14a90bfbd6d48142ac60e\n664f0cf347ce4767add576da584526e7\nfe3893fd376849fe9fed00e328e61470\n254ce1441bbf4a7eae1cdf8d288e61e8\n90896c6b309a49f48cc3b7a1570e1846\n5f47acd1319245648098c1aec9b95f23\nf798033052614b9eae8da7eba4ba3475\n3471c4320e4e431eb1fa9f5eb5cb21e0\n855f473fed034b1fa17f4f65b850e03b\n1245de826d0d4373bdd4cf2157792954\n543a8b16efca4fa2b5263315e8b21660\n2dc186d699274257922853d783c0ec13\na92e6b1783db4b49a4aaa424b9e1b03f\n16773feb48054cf0942a2a27204b3572\n1e58da2107ac4ee39e28a93b32e1df1d\n67622c19498d4178a1bab6b19087f2c2\n412b6b4474fc43ccbeb1e7707b6420ee\n7d0fd632913c425eb5f087600ccea870\n439687baddb44852a43048b04d38427c\n8b2dcc4e50464429a18b11e4aacf51a2\n2fccb1c832894fe6b0b61bbdf175cd39\n6d224b3d6e8747319fcf01b0309d8a0f\nb4982e3b4b594cb4b334c95c2c96355e\nc47fbaf90d1d4e9caf211f93b742631f\n9440271e8ba6447d9a008e89a93016a6\n8d24274b6a3f436a88362438aa6a221d\n60452bd3f71747ed8c3706abb2235bd5\n6fa93f2ee30740b89496439dd7227a4f\ncc17504cf80641f882c8665ae166ba44\n743efe8eac6e47a789928da4fb5b6f70\n4c4d2df3461448c4a3e934cf4a7ea74f\nb231eb3fb46240d38157764e8906aa7b\na234ae65f7ed48f6b1887644eed36cc2\nc9cd5ed3df3f4a27957b45498f0c48ef\n3eb2fbbb0a714bb7986aef3ee34f0254\nd15968e605f0440c9e740e3f4e498a9f\n63a8d50e8db24b91a13d4ac2fb6f7d5b\n5377df9296154c57926672ca8b3c9478\na4db4a3a9d5148648a23aa7f4f77f1e0\nd0aee355a2ba42de89d659385514b0fa\ne92e7702481a4575a66d59c061459c5b\n1b6c542d8f994d85a1312ab2cf4545ce\n88e347a515474ec59013673e5402b97f\n2187d9b2dc2b4d96baceade5ae99db44\n4d641e69ca5b4acf90f8afe238d8a940\n9c0f4c101c434831b928114c5fc0c401\n140e16f6cf134785a98ae9baee5b9e7b\n4dac5910f4d047e1b213c058e2230bf3\nfb50a7e6333f49e4b469234426d5002f\nc96c5f2fa167458eaa6d01997d90a980\n1e79721e587c4a92aa55cdf8195c8c55\n0da27fc5d8384ce299197b4e06cda1d4\na5e32d9cf5834e86b3fe02bc0e3104d6\n2dc1826647594b1fb728de67d3df363c\n0276371815254198bd22cc76f901b332\nbf9d77b7b4a64e7a97ade2a62af1f8e0\n268cce3249f64895b6b47e86cf296e5b\nd523201fc950435f803bf89d5f042c45\n607a4306b90b467f8b19c2c943bc92ef\nadfa9fb63a874ca1ad746ff573f03f28\nfe88132c70d141e8839ce9e7f0308750\n</code></pre>\n<p>Should be just as efficient (more effecient) than Javas actually.</p>\n"}],"owner":{"account_id":20203,"reputation":29442,"user_id":48062,"accept_rate":66,"display_name":"Maxim Veksler"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397662,"favorite_count":0,"down_vote_count":4,"up_vote_count":225,"accepted_answer_id":3811761,"answer_count":10,"score":221,"last_activity_date":1647019476,"creation_date":1285596352,"question_id":3804591,"body_markdown":"I would like an efficient utility to generate unique sequences of bytes. UUID is a good candidate but `UUID.randomUUID().toString()` generates stuff like `44e128a5-ac7a-4c9a-be4c-224b6bf81b20` which is good, but I would prefer dash-less string.\r\n\r\nI&#39;m looking for an efficient way to generate a random strings, only from alphanumeric characters (no dashes or any other special symbols).\r\n","title":"Efficient method to generate UUID String in Java (UUID.randomUUID().toString() without the dashes)","body":"<p>I would like an efficient utility to generate unique sequences of bytes. UUID is a good candidate but <code>UUID.randomUUID().toString()</code> generates stuff like <code>44e128a5-ac7a-4c9a-be4c-224b6bf81b20</code> which is good, but I would prefer dash-less string.</p>\n\n<p>I'm looking for an efficient way to generate a random strings, only from alphanumeric characters (no dashes or any other special symbols).</p>\n"},{"tags":["java","regex","jenkins","groovy","jenkins-pipeline"],"answers":[{"tags":[],"owner":{"account_id":172287,"reputation":36535,"user_id":400222,"accept_rate":67,"display_name":"StephenKing"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1512451248,"creation_date":1512451248,"answer_id":47646565,"question_id":47646409,"body_markdown":"This problem is caused by Jenkins&#39; [CPS](https://github.com/jenkinsci/workflow-cps-plugin), which serializes all pipeline executions to store as resumable state.\r\n\r\nCalls to non-serializable methods have to be wrapped in a method annotated with `@NonCPS`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @NonCPS\r\n    String getVersion(String binaryName) {\r\n      def matches = (binaryName =~ /(V)(\\d+)(_)(\\d+)(_)(Build)(_)(\\d+)/)\r\n      versionTag = &quot;&quot;+matches[0].getAt(0)\r\n      versionTag\r\n    }\r\n\r\nthis method can now be called from your pipeline. In case your Jenkins master restarts during execution of this method, it would just run through it completely - which is in many cases, such as yours, absolutely no problem.","title":"Jenkins groovy regex match string : Error: java.io.NotSerializableException: java.util.regex.Matcher","body":"<p>This problem is caused by Jenkins' <a href=\"https://github.com/jenkinsci/workflow-cps-plugin\" rel=\"noreferrer\">CPS</a>, which serializes all pipeline executions to store as resumable state.</p>\n\n<p>Calls to non-serializable methods have to be wrapped in a method annotated with <code>@NonCPS</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@NonCPS\nString getVersion(String binaryName) {\n  def matches = (binaryName =~ /(V)(\\d+)(_)(\\d+)(_)(Build)(_)(\\d+)/)\n  versionTag = \"\"+matches[0].getAt(0)\n  versionTag\n}\n</code></pre>\n\n<p>this method can now be called from your pipeline. In case your Jenkins master restarts during execution of this method, it would just run through it completely - which is in many cases, such as yours, absolutely no problem.</p>\n"},{"tags":[],"owner":{"account_id":180107,"reputation":339,"user_id":413213,"accept_rate":100,"display_name":"Mark Hamlin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647019410,"creation_date":1647019410,"answer_id":71442392,"question_id":47646409,"body_markdown":"The NonCPS annotation did not have any effect in my declarative pipeline library.  A workaround is to avoid ever returning a matcher as shown in this example:\r\n\r\n    version = (&quot;release/1.0.0&quot; =~ /(?:release|hotfix)\\/(.*)/)[0][1]","title":"Jenkins groovy regex match string : Error: java.io.NotSerializableException: java.util.regex.Matcher","body":"<p>The NonCPS annotation did not have any effect in my declarative pipeline library.  A workaround is to avoid ever returning a matcher as shown in this example:</p>\n<pre><code>version = (&quot;release/1.0.0&quot; =~ /(?:release|hotfix)\\/(.*)/)[0][1]\n</code></pre>\n"}],"owner":{"account_id":2831412,"reputation":1681,"user_id":2432942,"accept_rate":74,"display_name":"pogorman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8825,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":47646565,"answer_count":2,"score":10,"last_activity_date":1647019410,"creation_date":1512450188,"question_id":47646409,"body_markdown":"I&#39;m trying to get the matched string from a regex in groovy. The matched string prints to the console  without problems, but when I try use the matched string in a git command I get the following error:\r\n\r\n    Err: Incremental Build failed with Error: java.io.NotSerializableException: java.util.regex.Matcher\r\n\r\nHere is the code:\r\n\r\n                    def binaryName = &quot;298_application_V2_00_Build_07.hex&quot;\r\n\r\n                    def matches = (binaryName =~ /(V)(\\d+)(_)(\\d+)(_)(Build)(_)(\\d+)/)\r\n                    versionTag = &quot;&quot;+matches[0].getAt(0)                 \r\n                    echo &quot;${matches}&quot;\r\n                    echo &quot;$versionTag&quot;\r\n                    bat(&quot;git tag $versionTag&quot;)\r\n                    bat(&quot;git push origin --tags&quot;)\r\n\r\nHow can I get the matched string from the regex?","title":"Jenkins groovy regex match string : Error: java.io.NotSerializableException: java.util.regex.Matcher","body":"<p>I'm trying to get the matched string from a regex in groovy. The matched string prints to the console  without problems, but when I try use the matched string in a git command I get the following error:</p>\n\n<pre><code>Err: Incremental Build failed with Error: java.io.NotSerializableException: java.util.regex.Matcher\n</code></pre>\n\n<p>Here is the code:</p>\n\n<pre><code>                def binaryName = \"298_application_V2_00_Build_07.hex\"\n\n                def matches = (binaryName =~ /(V)(\\d+)(_)(\\d+)(_)(Build)(_)(\\d+)/)\n                versionTag = \"\"+matches[0].getAt(0)                 \n                echo \"${matches}\"\n                echo \"$versionTag\"\n                bat(\"git tag $versionTag\")\n                bat(\"git push origin --tags\")\n</code></pre>\n\n<p>How can I get the matched string from the regex?</p>\n"},{"tags":["java","eclipse","maven","servlets","war"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1644086678,"post_id":71001036,"comment_id":125514286,"body_markdown":"Why do you have maven plugins as dependencies? Does not make sense. Remove them. Defining plugins via pluginManagement","body":"Why do you have maven plugins as dependencies? Does not make sense. Remove them. Defining plugins via pluginManagement"},{"owner":{"account_id":20417178,"reputation":480,"user_id":14979083,"display_name":"Jelumar"},"score":0,"creation_date":1644087853,"post_id":71001036,"comment_id":125514537,"body_markdown":"It did work, thank you. And it makes sence. The only thing I do not understand now, is why this worked before.","body":"It did work, thank you. And it makes sence. The only thing I do not understand now, is why this worked before."},{"owner":{"account_id":4831287,"reputation":11388,"user_id":3899431,"display_name":"Luis Colorado"},"score":0,"creation_date":1644142014,"post_id":71001036,"comment_id":125522583,"body_markdown":"Can you edit your question and add a simple version of the servlet you want to add?  Looking at the code can be very frustrating if there&#39;s no code at alll.  Read [How to create a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example) in order to know why this is required.","body":"Can you edit your question and add a simple version of the servlet you want to add?  Looking at the code can be very frustrating if there&#39;s no code at alll.  Read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a> in order to know why this is required."}],"answers":[{"tags":[],"owner":{"account_id":20417178,"reputation":480,"user_id":14979083,"display_name":"Jelumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647019383,"creation_date":1644151854,"answer_id":71007296,"question_id":71001036,"body_markdown":"As pointed out by khmarbaise, my problem was that I had the plugins listed as dependencies in the pom file. Adding them correctly as plugins and removing their information from the dependecies fixed it for me.\r\n\r\nMy pom depnedencies and build now look like this:\r\n\r\n    &lt;dependencies&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.8.2&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin --&gt;\r\n\t\t&lt;!-- &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.9.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-war-plugin --&gt;\r\n\t\t&lt;!--&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\t\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;LoginTest&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n\t            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n\t            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.9.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n\t&lt;/build&gt;","title":"How to fix Eclipse Maven Package Error injecting constructor, java.lang.ExceptionInInitializerError","body":"<p>As pointed out by khmarbaise, my problem was that I had the plugins listed as dependencies in the pom file. Adding them correctly as plugins and removing their information from the dependecies fixed it for me.</p>\n<p>My pom depnedencies and build now look like this:</p>\n<pre><code>&lt;dependencies&gt;\n    \n    &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;5.8.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin --&gt;\n    &lt;!-- &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.9.0&lt;/version&gt;\n    &lt;/dependency&gt;--&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-war-plugin --&gt;\n    &lt;!--&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.2&lt;/version&gt;\n    &lt;/dependency&gt;--&gt;\n    \n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;LoginTest&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.9.0&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":20417178,"reputation":480,"user_id":14979083,"display_name":"Jelumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17754,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71007296,"answer_count":1,"score":1,"last_activity_date":1647019383,"creation_date":1644086435,"question_id":71001036,"body_markdown":"I am trying to build a simple Servlet, that should only return me the content that was sent with the request. It does not build though I did not do anything different then before qhen I made another Servlet a year ago (that does not compile anymore either).\r\n\r\nI do not understand the Problem as I haven&#39;t made anything different then before. Has anyone an Idea what it might be?\r\n\r\nI suspect it might have something to do with the maven-war-plugin as it sais in the errors something about an maven-war-plugin:2.2, which seam odd to me as I am not using that version. Does someone know how I could enforce the use of the current version I put in the pom.xml, to see if that would solve it?\r\n\r\nIt sais:\r\n\r\nFailed to execute goal org.apache.maven.plugins:maven-war-plugin:2.2:war (default-war) on project LoginTest: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:2.2:war failed: Unable to load the mojo &#39;war&#39; in the plugin &#39;org.apache.maven.plugins:maven-war-plugin:2.2&#39; due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: Cannot access defaults field of Properties\r\n\r\nAfter this Error I get:\r\n\r\n    [WARNING] Error injecting: org.apache.maven.plugin.war.WarMojo\r\n    com.google.inject.ProvisionException: Unable to provision, see the following errors:\r\n    \r\n    1) Error injecting constructor, java.lang.ExceptionInInitializerError: Cannot access defaults field of Properties\r\n      at org.apache.maven.plugin.war.WarMojo.&lt;init&gt;(Unknown Source)\r\n      while locating org.apache.maven.plugin.war.WarMojo\r\n    \r\n    1 error\r\n    \tat com.google.inject.internal.InternalProvisionException.toProvisionException(InternalProvisionException.java:226)\r\n    \tat com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1053)\r\n    \tat com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1086)\r\n    \tat org.eclipse.sisu.space.AbstractDeferredClass.get(AbstractDeferredClass.java:48)\r\n    \tat com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:85)\r\n    \tat com.google.inject.internal.InternalFactoryToInitializableAdapter.provision(InternalFactoryToInitializableAdapter.java:57)\r\n    \tat com.google.inject.internal.ProviderInternalFactory$1.call(ProviderInternalFactory.java:66)\r\n    \tat com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:112)\r\n    \tat com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:127)\r\n    \tat com.google.inject.internal.ProvisionListenerStackCallback.provision(ProvisionListenerStackCallback.java:66)\r\n    \tat com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:61)\r\n    \tat com.google.inject.internal.InternalFactoryToInitializableAdapter.get(InternalFactoryToInitializableAdapter.java:47)\r\n    \tat com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1050)\r\n    \tat org.eclipse.sisu.inject.Guice4$1.get(Guice4.java:162)\r\n    \tat org.eclipse.sisu.inject.LazyBeanEntry.getValue(LazyBeanEntry.java:81)\r\n    \tat org.eclipse.sisu.plexus.LazyPlexusBean.getValue(LazyPlexusBean.java:51)\r\n    \tat org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:263)\r\n    \tat org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:255)\r\n    \tat org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo(DefaultMavenPluginManager.java:520)\r\n    \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:124)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n    \tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n    \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n    \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\r\n    \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\r\n    \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n    Caused by: java.lang.ExceptionInInitializerError: Cannot access defaults field of Properties\r\n    \tat com.thoughtworks.xstream.converters.collections.PropertiesConverter.&lt;clinit&gt;(PropertiesConverter.java:46)\r\n    \tat com.thoughtworks.xstream.XStream.setupConverters(XStream.java:647)\r\n    \tat com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:445)\r\n    \tat com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:385)\r\n    \tat com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:342)\r\n    \tat org.apache.maven.plugin.war.util.WebappStructureSerializer.&lt;clinit&gt;(WebappStructureSerializer.java:47)\r\n    \tat org.apache.maven.plugin.war.AbstractWarMojo.&lt;init&gt;(AbstractWarMojo.java:316)\r\n    \tat org.apache.maven.plugin.war.WarMojo.&lt;init&gt;(WarMojo.java:49)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    \tat com.google.inject.internal.DefaultConstructionProxyFactory$ReflectiveProxy.newInstance(DefaultConstructionProxyFactory.java:126)\r\n    \tat com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)\r\n    \tat com.google.inject.internal.ConstructorInjector.access$000(ConstructorInjector.java:32)\r\n    \tat com.google.inject.internal.ConstructorInjector$1.call(ConstructorInjector.java:98)\r\n    \tat com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:112)\r\n    \tat com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:127)\r\n    \tat com.google.inject.internal.ProvisionListenerStackCallback.provision(ProvisionListenerStackCallback.java:66)\r\n    \tat com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:93)\r\n    \tat com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:306)\r\n    \tat com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1050)\r\n    \t... 39 more\r\n\r\nMy pom.xml looks like that:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;eu.jlmb&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;ServletTest&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;version&gt;0.0.1&lt;/version&gt;\r\n    \t&lt;name&gt;ServletTest Maven Webapp&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    \t    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n      \r\n    \t&lt;dependencies&gt;\r\n    \t\t\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;5.8.2&lt;/version&gt;\r\n    \t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.9.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-war-plugin --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;20211205&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t&lt;/dependencies&gt;\r\n    \t\r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;ServletTest&lt;/finalName&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;","title":"How to fix Eclipse Maven Package Error injecting constructor, java.lang.ExceptionInInitializerError","body":"<p>I am trying to build a simple Servlet, that should only return me the content that was sent with the request. It does not build though I did not do anything different then before qhen I made another Servlet a year ago (that does not compile anymore either).</p>\n<p>I do not understand the Problem as I haven't made anything different then before. Has anyone an Idea what it might be?</p>\n<p>I suspect it might have something to do with the maven-war-plugin as it sais in the errors something about an maven-war-plugin:2.2, which seam odd to me as I am not using that version. Does someone know how I could enforce the use of the current version I put in the pom.xml, to see if that would solve it?</p>\n<p>It sais:</p>\n<p>Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.2:war (default-war) on project LoginTest: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:2.2:war failed: Unable to load the mojo 'war' in the plugin 'org.apache.maven.plugins:maven-war-plugin:2.2' due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: Cannot access defaults field of Properties</p>\n<p>After this Error I get:</p>\n<pre><code>[WARNING] Error injecting: org.apache.maven.plugin.war.WarMojo\ncom.google.inject.ProvisionException: Unable to provision, see the following errors:\n\n1) Error injecting constructor, java.lang.ExceptionInInitializerError: Cannot access defaults field of Properties\n  at org.apache.maven.plugin.war.WarMojo.&lt;init&gt;(Unknown Source)\n  while locating org.apache.maven.plugin.war.WarMojo\n\n1 error\n    at com.google.inject.internal.InternalProvisionException.toProvisionException(InternalProvisionException.java:226)\n    at com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1053)\n    at com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1086)\n    at org.eclipse.sisu.space.AbstractDeferredClass.get(AbstractDeferredClass.java:48)\n    at com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:85)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision(InternalFactoryToInitializableAdapter.java:57)\n    at com.google.inject.internal.ProviderInternalFactory$1.call(ProviderInternalFactory.java:66)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:112)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:127)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision(ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:61)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get(InternalFactoryToInitializableAdapter.java:47)\n    at com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1050)\n    at org.eclipse.sisu.inject.Guice4$1.get(Guice4.java:162)\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue(LazyBeanEntry.java:81)\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue(LazyPlexusBean.java:51)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:263)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:255)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo(DefaultMavenPluginManager.java:520)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:124)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\nCaused by: java.lang.ExceptionInInitializerError: Cannot access defaults field of Properties\n    at com.thoughtworks.xstream.converters.collections.PropertiesConverter.&lt;clinit&gt;(PropertiesConverter.java:46)\n    at com.thoughtworks.xstream.XStream.setupConverters(XStream.java:647)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:445)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:385)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:342)\n    at org.apache.maven.plugin.war.util.WebappStructureSerializer.&lt;clinit&gt;(WebappStructureSerializer.java:47)\n    at org.apache.maven.plugin.war.AbstractWarMojo.&lt;init&gt;(AbstractWarMojo.java:316)\n    at org.apache.maven.plugin.war.WarMojo.&lt;init&gt;(WarMojo.java:49)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at com.google.inject.internal.DefaultConstructionProxyFactory$ReflectiveProxy.newInstance(DefaultConstructionProxyFactory.java:126)\n    at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)\n    at com.google.inject.internal.ConstructorInjector.access$000(ConstructorInjector.java:32)\n    at com.google.inject.internal.ConstructorInjector$1.call(ConstructorInjector.java:98)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:112)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:127)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision(ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:93)\n    at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:306)\n    at com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1050)\n    ... 39 more\n</code></pre>\n<p>My pom.xml looks like that:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;eu.jlmb&lt;/groupId&gt;\n    &lt;artifactId&gt;ServletTest&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;name&gt;ServletTest Maven Webapp&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n  \n    &lt;dependencies&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-war-plugin --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20211205&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n    \n    &lt;build&gt;\n        &lt;finalName&gt;ServletTest&lt;/finalName&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","user-input"],"comments":[{"owner":{"account_id":3259065,"reputation":525,"user_id":2745013,"accept_rate":61,"display_name":"IHazABone"},"score":0,"creation_date":1423521699,"post_id":28420536,"comment_id":45174809,"body_markdown":"The mixing of `&amp;&amp;` and `||` in the first `else if` could be causing problems. Try checking each digit in separate statement, or nest them.","body":"The mixing of <code>&amp;&amp;</code> and <code>||</code> in the first <code>else if</code> could be causing problems. Try checking each digit in separate statement, or nest them."}],"answers":[{"tags":[],"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423522281,"creation_date":1423520945,"answer_id":28420671,"question_id":28420536,"body_markdown":"the problem here that you have duplicates, so current condition for rule 2 evaluates to true for 100 &lt;=&gt; 110\r\n\r\nto eliminate this effect the usual variant is to sort digits in both number and compare, like this (pseudo language):\r\n\r\n    if (sortDigits(lottery) == sortDigits(guess))\r\n\r\nif you cannot use arrays, here is simple functions which sorts 3 digit numbers:\r\n\r\n    int sortDigits(int n) {\r\n    int d1 = n/100;\r\n    int d2 = (n/10)%10;\r\n    int d3 = n%10;\r\n    \r\n    int min = Math.min(d1, Math.min(d2, d3));\r\n    int max = Math.max(d1, Math.max(d2, d3));\r\n    int mid = -1;\r\n    if (min == d1) mid = Math.min(d2, d3);\r\n    else if (min == d2) mid = Math.min(d1, d3);\r\n    else mid = Math.min(d1, d2);\r\n    \r\n    return (min*100) + (mid*10) + max;\r\n    }","title":"Creating a Lottery","body":"<p>the problem here that you have duplicates, so current condition for rule 2 evaluates to true for 100 &lt;=> 110</p>\n\n<p>to eliminate this effect the usual variant is to sort digits in both number and compare, like this (pseudo language):</p>\n\n<pre><code>if (sortDigits(lottery) == sortDigits(guess))\n</code></pre>\n\n<p>if you cannot use arrays, here is simple functions which sorts 3 digit numbers:</p>\n\n<pre><code>int sortDigits(int n) {\nint d1 = n/100;\nint d2 = (n/10)%10;\nint d3 = n%10;\n\nint min = Math.min(d1, Math.min(d2, d3));\nint max = Math.max(d1, Math.max(d2, d3));\nint mid = -1;\nif (min == d1) mid = Math.min(d2, d3);\nelse if (min == d2) mid = Math.min(d1, d3);\nelse mid = Math.min(d1, d2);\n\nreturn (min*100) + (mid*10) + max;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":111411,"reputation":1050,"user_id":294320,"accept_rate":38,"display_name":"VGe0rge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423526865,"creation_date":1423521808,"answer_id":28420886,"question_id":28420536,"body_markdown":"Your problem is that you check every digit of the guess with every digit of the lottery. This is the reason that you are getting the error, you need to remember what you have matched. \r\nA really quick and dirty solution in order to do that is to check for doubles and replace them with a value that will not ever be matched, like -1:\r\n\r\n        if(guessDigit1 == guessDigit2){\r\n        \tguessDigit1 = -1;\r\n        }\r\n        else if (guessDigit1 == guessDigit3 ) {\r\n        \tguessDigit1 = -1;\r\n        }\r\n        else if (guessDigit2 == guessDigit3 ) {\r\n        \tguessDigit2 = -1;\r\n        }\r\n\r\n\r\nNote that this is not the best solution at all!  \r\n\r\nUPDATE: In order to remember what you have checked you have to implement many if conditions. The pseudo code for one of them is the following: \r\n\r\n    If guessDigit2 == lotteryDigit1 \r\n    \tif guessDigit1 == lotteryDigit2 \r\n    \t\tif guessDigit3 == lotteryDigit3\r\n            \t -&gt; You found all digits\r\n    \telse if guessDigit1 == lotteryDigit3\r\n    \t\tif guessDigit3 == lotteryDigit2\r\n    \t\t-&gt; You found all digits\r\n\r\nOf course you have to implement this code * 3 because you need to create another 2 ifs for  guessDigit1 == lotteryDigit1 and guessDigit3 == lotteryDigit1 .","title":"Creating a Lottery","body":"<p>Your problem is that you check every digit of the guess with every digit of the lottery. This is the reason that you are getting the error, you need to remember what you have matched. \nA really quick and dirty solution in order to do that is to check for doubles and replace them with a value that will not ever be matched, like -1:</p>\n\n<pre><code>    if(guessDigit1 == guessDigit2){\n        guessDigit1 = -1;\n    }\n    else if (guessDigit1 == guessDigit3 ) {\n        guessDigit1 = -1;\n    }\n    else if (guessDigit2 == guessDigit3 ) {\n        guessDigit2 = -1;\n    }\n</code></pre>\n\n<p>Note that this is not the best solution at all!  </p>\n\n<p>UPDATE: In order to remember what you have checked you have to implement many if conditions. The pseudo code for one of them is the following: </p>\n\n<pre><code>If guessDigit2 == lotteryDigit1 \n    if guessDigit1 == lotteryDigit2 \n        if guessDigit3 == lotteryDigit3\n             -&gt; You found all digits\n    else if guessDigit1 == lotteryDigit3\n        if guessDigit3 == lotteryDigit2\n        -&gt; You found all digits\n</code></pre>\n\n<p>Of course you have to implement this code * 3 because you need to create another 2 ifs for  guessDigit1 == lotteryDigit1 and guessDigit3 == lotteryDigit1 .</p>\n"},{"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423522230,"creation_date":1423521899,"answer_id":28420919,"question_id":28420536,"body_markdown":"Your conditional for Rule 2 is wrong; it&#39;s currently saying (in pseudo code):\r\n\r\n    IF  guessDigit1 is anyLotteryDigit\r\n    AND guessDigit2 is anyLotteryDigit\r\n    AND guessDigit3 is anyLotteryDigit\r\n\r\nThis clearly isn&#39;t what you&#39;re looking for, since it means multiple guess digits can match the same lottery digit, as you&#39;ve run into with `110` matching `100` - since `1` and `0` are both in the winning number, it passes even though it shouldn&#39;t.\r\n\r\nInstead, you want to match each digit to the *remaining* digits.  The &quot;right&quot; way to do this would be with a [`Set`][1], but it sounds like you can&#39;t use those yet.  You can do it manually, it&#39;s just a bit of work to write out all the cases.  Basically, you compare one digit of the guess to one digit of the lottery, then compare the remaining two guess digits *to the remaining two lottery digits*.  Rinse repeat for each digit.\r\n    \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/Set.html","title":"Creating a Lottery","body":"<p>Your conditional for Rule 2 is wrong; it's currently saying (in pseudo code):</p>\n\n<pre><code>IF  guessDigit1 is anyLotteryDigit\nAND guessDigit2 is anyLotteryDigit\nAND guessDigit3 is anyLotteryDigit\n</code></pre>\n\n<p>This clearly isn't what you're looking for, since it means multiple guess digits can match the same lottery digit, as you've run into with <code>110</code> matching <code>100</code> - since <code>1</code> and <code>0</code> are both in the winning number, it passes even though it shouldn't.</p>\n\n<p>Instead, you want to match each digit to the <em>remaining</em> digits.  The \"right\" way to do this would be with a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Set.html\" rel=\"nofollow\"><code>Set</code></a>, but it sounds like you can't use those yet.  You can do it manually, it's just a bit of work to write out all the cases.  Basically, you compare one digit of the guess to one digit of the lottery, then compare the remaining two guess digits <em>to the remaining two lottery digits</em>.  Rinse repeat for each digit.</p>\n"},{"tags":[],"owner":{"account_id":5752169,"reputation":28,"user_id":4541462,"display_name":"Steve Man"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1423521914,"creation_date":1423521914,"answer_id":28420926,"question_id":28420536,"body_markdown":"I think that the problem is that you&#39;re not accounting for repeat digits.  You could check to make sure all the digits add up to the sample number, ie:\r\n\r\n    1+1+0 = 2\r\n    1+0+0 = 1\r\n    1!=2\r\n    Move onto rule 3. \r\n\r\n    \r\nUsing this code:\r\n\r\n    guessDigit1  + guessDigit2 + guessDigit3 == lotteryDigit1 + lotteryDigit2 + lotteryDigit3\r\n\r\nI don&#39;t know if this will solve all of your problems, but it&#39;s  a start, and it should solve your immediate issue with the &#39;110&#39; value. Good luck!\r\n","title":"Creating a Lottery","body":"<p>I think that the problem is that you're not accounting for repeat digits.  You could check to make sure all the digits add up to the sample number, ie:</p>\n\n<pre><code>1+1+0 = 2\n1+0+0 = 1\n1!=2\nMove onto rule 3. \n</code></pre>\n\n<p>Using this code:</p>\n\n<pre><code>guessDigit1  + guessDigit2 + guessDigit3 == lotteryDigit1 + lotteryDigit2 + lotteryDigit3\n</code></pre>\n\n<p>I don't know if this will solve all of your problems, but it's  a start, and it should solve your immediate issue with the '110' value. Good luck!</p>\n"},{"tags":[],"owner":{"account_id":1623866,"reputation":5200,"user_id":1499877,"accept_rate":86,"display_name":"WOUNDEDStevenJones"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423528363,"creation_date":1423522840,"answer_id":28421135,"question_id":28420536,"body_markdown":"As @dimo414 (and the other answers) have mentioned, you need some sort of memory for which digits you&#39;re checking against.  The following conditionals will give you the permutations you&#39;re looking for.  If `matched1`, `matched2`, or `matched3` are `-1` at the end, it&#39;s not a match.\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class NewClass {\r\n        public static void main(String[] args) {\r\n            int lottery = 100;\r\n\r\n            // Prompt the user to enter a guess\r\n            Scanner input = new Scanner(System.in);\r\n            System.out.print(&quot;Enter your lottery pick (three digits): &quot;);\r\n            int guess = input.nextInt();\r\n\r\n            // Get digits from lottery\r\n            int lotteryDigit1 = lottery / 100;\r\n            int lotteryDigit2 = (lottery % 100) / 10;\r\n            int lotteryDigit3 = lottery % 10;\r\n\r\n            // Get digits from guess\r\n            int guessDigit1 = guess / 100;\r\n            int guessDigit2 = (guess % 100) / 10;\r\n            int guessDigit3 = guess % 10;\r\n\r\n            System.out.println(&quot;The lottery number is &quot; + lottery);\r\n            \r\n            int matched1 = -1;\r\n            int matched2 = -1;\r\n            int matched3 = -1;\r\n\r\n            // RULE1 Check the guess\r\n            if (guess == lottery) {\r\n                System.out.println(&quot;Exact match: you win $10,000&quot;);\r\n            } \r\n            // RULE2   \r\n            else {\r\n                if (guessDigit1 == lotteryDigit1) {\r\n                    matched1 = 1;\r\n                    if (guessDigit2 == lotteryDigit2) {\r\n                        matched2 = 2;\r\n                        if (guessDigit3 == lotteryDigit3) {\r\n                            matched3 = 3;\r\n                        }\r\n                    } else if (guessDigit2 == lotteryDigit3) {\r\n                        matched2 = 3;\r\n                        if (guessDigit3 == lotteryDigit2) {\r\n                            matched3 = 2;\r\n                        }\r\n                    }\r\n                } else if (guessDigit1 == lotteryDigit2) {\r\n                    matched1 = 2;\r\n                    if (guessDigit2 == lotteryDigit1) {\r\n                        matched2 = 1;\r\n                        if (guessDigit3 == lotteryDigit3) {\r\n                            matched3 = 3;\r\n                        }\r\n                    } else if (guessDigit2 == lotteryDigit3) {\r\n                        matched2 = 3;\r\n                        if (guessDigit3 == lotteryDigit1) {\r\n                            matched3 = 1;\r\n                        }\r\n                    }\r\n                } else if (guessDigit1 == lotteryDigit3) {\r\n                    matched1 = 3;\r\n                    if (guessDigit2 == lotteryDigit1) {\r\n                        matched2 = 1;\r\n                        if (guessDigit3 == lotteryDigit2) {\r\n                            matched3 = 2;\r\n                        }\r\n                    } else if (guessDigit2 == lotteryDigit2) {\r\n                        matched2 = 2;\r\n                        if (guessDigit3 == lotteryDigit1) {\r\n                            matched3 = 1;\r\n                        }\r\n                    }\r\n                }\r\n                \r\n                if (matched1 != -1 &amp;&amp; matched2 != -1 &amp;&amp; matched3 != -1) {\r\n                    System.out.println(&quot;Match all digits: you win $3,000&quot;);\r\n                } \r\n                // RULE3\r\n                else if ((guessDigit1 == lotteryDigit1 || guessDigit1 == lotteryDigit2 || guessDigit1 == lotteryDigit3)\r\n                        || (guessDigit2 == lotteryDigit1 || guessDigit2 == lotteryDigit2 || guessDigit2 == lotteryDigit3)\r\n                        || (guessDigit3 == lotteryDigit1 || guessDigit3 == lotteryDigit2 || guessDigit3 == lotteryDigit3)) {  \r\n                        System.out.println(&quot;Match one digit: you win $1,000&quot;);\r\n                } else {\r\n                    System.out.println(&quot;Sorry, no match&quot;);\r\n                }\r\n            }\r\n        }\r\n     }\r\n\r\nThis first checks if the first digit of your guess is the first digit of the lottery. If so, it saves matched1 (for the digit of your guess) with the value 1 (for the first digit in the lottery). Then it checks the second guessed digit compared to digits 2 and 3 of the lottery. We don&#39;t check the second digit of your guess with the first digit of the lottery again here because we already know the first guess matched the first lottery. If the first digit didn&#39;t match the first lottery number, then we see if the first digit of the guess is the second digit of the lottery number, and rinse and repeat.  (If that were the case, then matched1 would be 2 for the second digit of the lottery.)\r\n\r\nAll matching values of (matched1,matched2,matched3) are (1,2,3), (1,3,2), (2,1,3), (2,3,1), (3,1,2), and (3,2,1). You can see how all of these permutations are covered in the nested if statements above.","title":"Creating a Lottery","body":"<p>As @dimo414 (and the other answers) have mentioned, you need some sort of memory for which digits you're checking against.  The following conditionals will give you the permutations you're looking for.  If <code>matched1</code>, <code>matched2</code>, or <code>matched3</code> are <code>-1</code> at the end, it's not a match.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class NewClass {\n    public static void main(String[] args) {\n        int lottery = 100;\n\n        // Prompt the user to enter a guess\n        Scanner input = new Scanner(System.in);\n        System.out.print(\"Enter your lottery pick (three digits): \");\n        int guess = input.nextInt();\n\n        // Get digits from lottery\n        int lotteryDigit1 = lottery / 100;\n        int lotteryDigit2 = (lottery % 100) / 10;\n        int lotteryDigit3 = lottery % 10;\n\n        // Get digits from guess\n        int guessDigit1 = guess / 100;\n        int guessDigit2 = (guess % 100) / 10;\n        int guessDigit3 = guess % 10;\n\n        System.out.println(\"The lottery number is \" + lottery);\n\n        int matched1 = -1;\n        int matched2 = -1;\n        int matched3 = -1;\n\n        // RULE1 Check the guess\n        if (guess == lottery) {\n            System.out.println(\"Exact match: you win $10,000\");\n        } \n        // RULE2   \n        else {\n            if (guessDigit1 == lotteryDigit1) {\n                matched1 = 1;\n                if (guessDigit2 == lotteryDigit2) {\n                    matched2 = 2;\n                    if (guessDigit3 == lotteryDigit3) {\n                        matched3 = 3;\n                    }\n                } else if (guessDigit2 == lotteryDigit3) {\n                    matched2 = 3;\n                    if (guessDigit3 == lotteryDigit2) {\n                        matched3 = 2;\n                    }\n                }\n            } else if (guessDigit1 == lotteryDigit2) {\n                matched1 = 2;\n                if (guessDigit2 == lotteryDigit1) {\n                    matched2 = 1;\n                    if (guessDigit3 == lotteryDigit3) {\n                        matched3 = 3;\n                    }\n                } else if (guessDigit2 == lotteryDigit3) {\n                    matched2 = 3;\n                    if (guessDigit3 == lotteryDigit1) {\n                        matched3 = 1;\n                    }\n                }\n            } else if (guessDigit1 == lotteryDigit3) {\n                matched1 = 3;\n                if (guessDigit2 == lotteryDigit1) {\n                    matched2 = 1;\n                    if (guessDigit3 == lotteryDigit2) {\n                        matched3 = 2;\n                    }\n                } else if (guessDigit2 == lotteryDigit2) {\n                    matched2 = 2;\n                    if (guessDigit3 == lotteryDigit1) {\n                        matched3 = 1;\n                    }\n                }\n            }\n\n            if (matched1 != -1 &amp;&amp; matched2 != -1 &amp;&amp; matched3 != -1) {\n                System.out.println(\"Match all digits: you win $3,000\");\n            } \n            // RULE3\n            else if ((guessDigit1 == lotteryDigit1 || guessDigit1 == lotteryDigit2 || guessDigit1 == lotteryDigit3)\n                    || (guessDigit2 == lotteryDigit1 || guessDigit2 == lotteryDigit2 || guessDigit2 == lotteryDigit3)\n                    || (guessDigit3 == lotteryDigit1 || guessDigit3 == lotteryDigit2 || guessDigit3 == lotteryDigit3)) {  \n                    System.out.println(\"Match one digit: you win $1,000\");\n            } else {\n                System.out.println(\"Sorry, no match\");\n            }\n        }\n    }\n }\n</code></pre>\n\n<p>This first checks if the first digit of your guess is the first digit of the lottery. If so, it saves matched1 (for the digit of your guess) with the value 1 (for the first digit in the lottery). Then it checks the second guessed digit compared to digits 2 and 3 of the lottery. We don't check the second digit of your guess with the first digit of the lottery again here because we already know the first guess matched the first lottery. If the first digit didn't match the first lottery number, then we see if the first digit of the guess is the second digit of the lottery number, and rinse and repeat.  (If that were the case, then matched1 would be 2 for the second digit of the lottery.)</p>\n\n<p>All matching values of (matched1,matched2,matched3) are (1,2,3), (1,3,2), (2,1,3), (2,3,1), (3,1,2), and (3,2,1). You can see how all of these permutations are covered in the nested if statements above.</p>\n"},{"tags":[],"owner":{"account_id":5136809,"reputation":63,"user_id":4115306,"accept_rate":100,"display_name":"Chris Redfieldea"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1424240118,"creation_date":1423524361,"answer_id":28421437,"question_id":28420536,"body_markdown":"Instead, you want to match each digit to the remaining digits. The &quot;right&quot; way to do this would be with a Set, but it sounds like you can&#39;t use those yet. You can do it manually, it&#39;s just a bit of work to write out all the cases. Basically, you compare one digit of the guess to one digit of the lottery, then compare the remaining two guess digits to the remaining two lottery digits. Rinse repeat for each digit.\r\n\r\nWould it be something like this:\r\n\r\n    else if ((guessDigit1 == lotteryDigit2 \r\n                || guessDigit1 == lotteryDigit3)\r\n                &amp;&amp; (guessDigit2 == lotteryDigit1\r\n                || guessDigit2 == lotteryDigit3)\r\n                &amp;&amp; (guessDigit3 == lotteryDigit1\r\n                || guessDigit3 == lotteryDigit2))\r\n                System.out.println(&quot;Match all digits: you win $3,000&quot;);\r\n\r\nThis is all I can work with--no other formulas. A program used to turn-in my code is very particular about the input. It&#39;ll only accept what it has been set to accept.\r\n","title":"Creating a Lottery","body":"<p>Instead, you want to match each digit to the remaining digits. The \"right\" way to do this would be with a Set, but it sounds like you can't use those yet. You can do it manually, it's just a bit of work to write out all the cases. Basically, you compare one digit of the guess to one digit of the lottery, then compare the remaining two guess digits to the remaining two lottery digits. Rinse repeat for each digit.</p>\n\n<p>Would it be something like this:</p>\n\n<pre><code>else if ((guessDigit1 == lotteryDigit2 \n            || guessDigit1 == lotteryDigit3)\n            &amp;&amp; (guessDigit2 == lotteryDigit1\n            || guessDigit2 == lotteryDigit3)\n            &amp;&amp; (guessDigit3 == lotteryDigit1\n            || guessDigit3 == lotteryDigit2))\n            System.out.println(\"Match all digits: you win $3,000\");\n</code></pre>\n\n<p>This is all I can work with--no other formulas. A program used to turn-in my code is very particular about the input. It'll only accept what it has been set to accept.</p>\n"},{"tags":[],"owner":{"account_id":9986012,"reputation":1,"user_id":7387165,"display_name":"Clyde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489070901,"creation_date":1489070901,"answer_id":42698342,"question_id":28420536,"body_markdown":"i think i know this, its maybe because 110 is true in rule2 and also in rule3 thats why it displays the output of both rules. this is my boolean expression for rule2 \r\n\r\n    ((guessDigit1 == lotteryDigit2\r\n\t\t\t\t&amp;&amp; guessDigit2 == lotteryDigit3\r\n\t\t\t\t&amp;&amp; guessDigit3 == lotteryDigit1)\r\n\t\t\t\t|| (guessDigit1 == lotteryDigit3\r\n\t\t\t\t&amp;&amp; guessDigit2 == lotteryDigit1\r\n\t\t\t\t&amp;&amp; guessDigit3 == lotteryDigit2)\r\n\t\t\t\t|| (guessDigit1 == lotteryDigit1\r\n\t\t\t\t&amp;&amp; guessDigit2 == lotteryDigit3\r\n\t\t\t\t&amp;&amp; guessDigit3 == lotteryDigit2)\r\n\t\t\t\t|| (guessDigit1 == lotteryDigit3\r\n\t\t\t\t&amp;&amp; guessDigit2 == lotteryDigit2\r\n\t\t\t\t&amp;&amp; guessDigit3 == lotteryDigit1)\r\n\t\t\t\t|| (guessDigit1 == lotteryDigit2\r\n\t\t\t\t&amp;&amp; guessDigit2 == lotteryDigit1\r\n\t\t\t\t&amp;&amp; guessDigit3 == lotteryDigit3))\r\n\r\nall possible answer is there.","title":"Creating a Lottery","body":"<p>i think i know this, its maybe because 110 is true in rule2 and also in rule3 thats why it displays the output of both rules. this is my boolean expression for rule2 </p>\n\n<pre><code>((guessDigit1 == lotteryDigit2\n            &amp;&amp; guessDigit2 == lotteryDigit3\n            &amp;&amp; guessDigit3 == lotteryDigit1)\n            || (guessDigit1 == lotteryDigit3\n            &amp;&amp; guessDigit2 == lotteryDigit1\n            &amp;&amp; guessDigit3 == lotteryDigit2)\n            || (guessDigit1 == lotteryDigit1\n            &amp;&amp; guessDigit2 == lotteryDigit3\n            &amp;&amp; guessDigit3 == lotteryDigit2)\n            || (guessDigit1 == lotteryDigit3\n            &amp;&amp; guessDigit2 == lotteryDigit2\n            &amp;&amp; guessDigit3 == lotteryDigit1)\n            || (guessDigit1 == lotteryDigit2\n            &amp;&amp; guessDigit2 == lotteryDigit1\n            &amp;&amp; guessDigit3 == lotteryDigit3))\n</code></pre>\n\n<p>all possible answer is there.</p>\n"}],"owner":{"account_id":5136809,"reputation":63,"user_id":4115306,"accept_rate":100,"display_name":"Chris Redfieldea"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4879,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":28420926,"answer_count":7,"score":1,"last_activity_date":1647018961,"creation_date":1423520399,"question_id":28420536,"body_markdown":"Generate a lottery of a three digit number. The program prompts the user to enter a three-digit number and\r\ndetermines whether the user wins according to the following rules:\r\n(RULE 1). If the user input matches the lottery number in the exact order, the award is\r\n$10,000.\r\n(RULE 2). If all digits in the user input match all digits in the lottery number, the award is\r\n$3,000.\r\n(RULE 3). If one digit in the user input matches a digit in the lottery number, the award is\r\n$1,000.\r\n\r\nI need help getting my program to function as intended with all that is seen in the code. No arrays, no strings, nothing other than what is already there. My issue is that I cannot get a guess of 110 to ignore rule 2. I set it to 100 to test all the rules.\r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class NewClass {\r\n        public static void main(String[] args) {\r\n            int lottery = 100;\r\n\r\n     // Prompt the user to enter a guess\r\n            Scanner input = new Scanner(System.in);\r\n            System.out.print(&quot;Enter your lottery pick (three digits): &quot;);\r\n            int guess = input.nextInt();\r\n\r\n     // Get digits from lottery\r\n            int lotteryDigit1 = lottery / 100;\r\n            int lotteryDigit2 = (lottery % 100) / 10;\r\n            int lotteryDigit3 = lottery % 10;\r\n\r\n     // Get digits from guess\r\n            int guessDigit1 = guess / 100;\r\n            int guessDigit2 = (guess % 100) / 10;\r\n            int guessDigit3 = guess % 10;\r\n\r\n            System.out.println(&quot;The lottery number is &quot; + lottery);\r\n\r\n     // RULE1 Check the guess\r\n            if (guess == lottery)\r\n                System.out.println(&quot;Exact match: you win $10,000&quot;);\r\n     // RULE2   \r\n            else if ((guessDigit1 == lotteryDigit1\r\n                || guessDigit1 == lotteryDigit2 \r\n                || guessDigit1 == lotteryDigit3)\r\n                &amp;&amp; (guessDigit2 == lotteryDigit1\r\n                || guessDigit2 == lotteryDigit2\r\n                || guessDigit2 == lotteryDigit3)\r\n                &amp;&amp; (guessDigit3 == lotteryDigit1\r\n                || guessDigit3 == lotteryDigit2\r\n                || guessDigit3 == lotteryDigit3))\r\n                System.out.println(&quot;Match all digits: you win $3,000&quot;);\r\n        // RULE3\r\n            else if ((guessDigit1 == lotteryDigit1\r\n                || guessDigit1 == lotteryDigit2\r\n                || guessDigit1 == lotteryDigit3)\r\n                || (guessDigit2 == lotteryDigit1\r\n                || guessDigit2 == lotteryDigit2\r\n                || guessDigit2 == lotteryDigit3)\r\n                || (guessDigit3 == lotteryDigit1\r\n                || guessDigit3 == lotteryDigit2\r\n                || guessDigit3 == lotteryDigit3))   \r\n                System.out.println(&quot;Match one digit: you win $1,000&quot;);\r\n        \r\n            else\r\n                System.out.println(&quot;Sorry, no match&quot;);\r\n        }\r\n     }\r\n\r\n\r\nUPDATE:\r\n    \r\n    import java.util.Scanner;\r\n        public class NewClass {\r\n            public static void main(String[] args) {\r\n            int lottery = 456;\r\n\r\n     // Prompt the user to enter a guess\r\n            Scanner input = new Scanner(System.in);\r\n            System.out.print(&quot;Enter your lottery pick (three digits): &quot;);\r\n            int guess = input.nextInt();\r\n\r\n     // Get digits from lottery\r\n            int lotteryDigit1 = lottery / 100;\r\n            int lotteryDigit2 = (lottery % 100) / 10;\r\n            int lotteryDigit3 = lottery % 10;\r\n\r\n     // Get digits from guess\r\n            int guessDigit1 = guess / 100;\r\n            int guessDigit2 = (guess % 100) / 10;\r\n            int guessDigit3 = guess % 10;\r\n\r\n            System.out.println(&quot;The lottery number is &quot; + lottery);\r\n\r\n      // Sum up both sets of digits to compare for 3 inconsecutive matches\r\n            int guessSum = guessDigit1 + guessDigit2 + guessDigit3;\r\n            int lotterySum = lotteryDigit1 + lotteryDigit2 + lotteryDigit3;\r\n\r\n     // RULE1 Check the guess\r\n            if (guess == lottery)\r\n                System.out.println(&quot;Exact match: you win $10,000&quot;);\r\n     // RULE2   \r\n            else if ((guessDigit1 == lotteryDigit1\r\n                || guessDigit1 == lotteryDigit2 \r\n                || guessDigit1 == lotteryDigit3)\r\n                &amp;&amp; (guessDigit2 == lotteryDigit1\r\n                || guessDigit2 == lotteryDigit2\r\n                || guessDigit2 == lotteryDigit3)\r\n                &amp;&amp; (guessDigit3 == lotteryDigit1\r\n                || guessDigit3 == lotteryDigit2\r\n                || guessDigit3 == lotteryDigit3)\r\n                &amp;&amp; guessSum == lotterySum)      \r\n                System.out.println(&quot;Match all digits: you win $3,000&quot;);\r\n    // RULE3\r\n            else if ((guessDigit1 == lotteryDigit1\r\n                || guessDigit1 == lotteryDigit2\r\n                || guessDigit1 == lotteryDigit3)\r\n                || (guessDigit2 == lotteryDigit1\r\n                || guessDigit2 == lotteryDigit2\r\n                || guessDigit2 == lotteryDigit3)\r\n                || (guessDigit3 == lotteryDigit1\r\n                || guessDigit3 == lotteryDigit2\r\n                || guessDigit3 == lotteryDigit3))   \r\n                System.out.println(&quot;Match one digit: you win $1,000&quot;);\r\n    \r\n            else\r\n                System.out.println(&quot;Sorry, no match&quot;);\r\n        }\r\n     }\r\n\r\nThis seems to work above all else. I&#39;ve been cycling through numbers to test against the guess. I&#39;ve not encountered a wrong guess with this. `&amp;&amp; guessSum == lotterySum)` used only with RULE2.","title":"Creating a Lottery","body":"<p>Generate a lottery of a three digit number. The program prompts the user to enter a three-digit number and\ndetermines whether the user wins according to the following rules:\n(RULE 1). If the user input matches the lottery number in the exact order, the award is\n$10,000.\n(RULE 2). If all digits in the user input match all digits in the lottery number, the award is\n$3,000.\n(RULE 3). If one digit in the user input matches a digit in the lottery number, the award is\n$1,000.</p>\n\n<p>I need help getting my program to function as intended with all that is seen in the code. No arrays, no strings, nothing other than what is already there. My issue is that I cannot get a guess of 110 to ignore rule 2. I set it to 100 to test all the rules.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class NewClass {\n    public static void main(String[] args) {\n        int lottery = 100;\n\n // Prompt the user to enter a guess\n        Scanner input = new Scanner(System.in);\n        System.out.print(\"Enter your lottery pick (three digits): \");\n        int guess = input.nextInt();\n\n // Get digits from lottery\n        int lotteryDigit1 = lottery / 100;\n        int lotteryDigit2 = (lottery % 100) / 10;\n        int lotteryDigit3 = lottery % 10;\n\n // Get digits from guess\n        int guessDigit1 = guess / 100;\n        int guessDigit2 = (guess % 100) / 10;\n        int guessDigit3 = guess % 10;\n\n        System.out.println(\"The lottery number is \" + lottery);\n\n // RULE1 Check the guess\n        if (guess == lottery)\n            System.out.println(\"Exact match: you win $10,000\");\n // RULE2   \n        else if ((guessDigit1 == lotteryDigit1\n            || guessDigit1 == lotteryDigit2 \n            || guessDigit1 == lotteryDigit3)\n            &amp;&amp; (guessDigit2 == lotteryDigit1\n            || guessDigit2 == lotteryDigit2\n            || guessDigit2 == lotteryDigit3)\n            &amp;&amp; (guessDigit3 == lotteryDigit1\n            || guessDigit3 == lotteryDigit2\n            || guessDigit3 == lotteryDigit3))\n            System.out.println(\"Match all digits: you win $3,000\");\n    // RULE3\n        else if ((guessDigit1 == lotteryDigit1\n            || guessDigit1 == lotteryDigit2\n            || guessDigit1 == lotteryDigit3)\n            || (guessDigit2 == lotteryDigit1\n            || guessDigit2 == lotteryDigit2\n            || guessDigit2 == lotteryDigit3)\n            || (guessDigit3 == lotteryDigit1\n            || guessDigit3 == lotteryDigit2\n            || guessDigit3 == lotteryDigit3))   \n            System.out.println(\"Match one digit: you win $1,000\");\n\n        else\n            System.out.println(\"Sorry, no match\");\n    }\n }\n</code></pre>\n\n<p>UPDATE:</p>\n\n<pre><code>import java.util.Scanner;\n    public class NewClass {\n        public static void main(String[] args) {\n        int lottery = 456;\n\n // Prompt the user to enter a guess\n        Scanner input = new Scanner(System.in);\n        System.out.print(\"Enter your lottery pick (three digits): \");\n        int guess = input.nextInt();\n\n // Get digits from lottery\n        int lotteryDigit1 = lottery / 100;\n        int lotteryDigit2 = (lottery % 100) / 10;\n        int lotteryDigit3 = lottery % 10;\n\n // Get digits from guess\n        int guessDigit1 = guess / 100;\n        int guessDigit2 = (guess % 100) / 10;\n        int guessDigit3 = guess % 10;\n\n        System.out.println(\"The lottery number is \" + lottery);\n\n  // Sum up both sets of digits to compare for 3 inconsecutive matches\n        int guessSum = guessDigit1 + guessDigit2 + guessDigit3;\n        int lotterySum = lotteryDigit1 + lotteryDigit2 + lotteryDigit3;\n\n // RULE1 Check the guess\n        if (guess == lottery)\n            System.out.println(\"Exact match: you win $10,000\");\n // RULE2   \n        else if ((guessDigit1 == lotteryDigit1\n            || guessDigit1 == lotteryDigit2 \n            || guessDigit1 == lotteryDigit3)\n            &amp;&amp; (guessDigit2 == lotteryDigit1\n            || guessDigit2 == lotteryDigit2\n            || guessDigit2 == lotteryDigit3)\n            &amp;&amp; (guessDigit3 == lotteryDigit1\n            || guessDigit3 == lotteryDigit2\n            || guessDigit3 == lotteryDigit3)\n            &amp;&amp; guessSum == lotterySum)      \n            System.out.println(\"Match all digits: you win $3,000\");\n// RULE3\n        else if ((guessDigit1 == lotteryDigit1\n            || guessDigit1 == lotteryDigit2\n            || guessDigit1 == lotteryDigit3)\n            || (guessDigit2 == lotteryDigit1\n            || guessDigit2 == lotteryDigit2\n            || guessDigit2 == lotteryDigit3)\n            || (guessDigit3 == lotteryDigit1\n            || guessDigit3 == lotteryDigit2\n            || guessDigit3 == lotteryDigit3))   \n            System.out.println(\"Match one digit: you win $1,000\");\n\n        else\n            System.out.println(\"Sorry, no match\");\n    }\n }\n</code></pre>\n\n<p>This seems to work above all else. I've been cycling through numbers to test against the guess. I've not encountered a wrong guess with this. <code>&amp;&amp; guessSum == lotterySum)</code> used only with RULE2.</p>\n"},{"tags":["java","spring-boot","heroku"],"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1647003230,"post_id":71438546,"comment_id":126269501,"body_markdown":"Welcome to SO, please consider to share some code or more details about the requirement for get the most help from community.","body":"Welcome to SO, please consider to share some code or more details about the requirement for get the most help from community."}],"answers":[{"tags":[],"owner":{"account_id":12495309,"reputation":11902,"user_id":9095551,"display_name":"Beppe C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647018918,"creation_date":1647018918,"answer_id":71442277,"question_id":71438546,"body_markdown":"The error is `no main manifest attribute` which means the jar file does not have the Main-Class attribute, see [Setting an Application&#39;s Entry Point][1]\r\n\r\nAs you are using Springboot you can use the `spring-boot-maven-plugin` and set the mainClass\r\n       \r\n    &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.7.RELEASE&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.example.App&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;repackage&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/deployment/jar/appman.html","title":"Spring Boot deploy on Heroku","body":"<p>The error is <code>no main manifest attribute</code> which means the jar file does not have the Main-Class attribute, see <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/appman.html\" rel=\"nofollow noreferrer\">Setting an Application's Entry Point</a></p>\n<p>As you are using Springboot you can use the <code>spring-boot-maven-plugin</code> and set the mainClass</p>\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.1.7.RELEASE&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;com.example.App&lt;/mainClass&gt;\n            &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;repackage&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":8152249,"reputation":1,"user_id":6138881,"display_name":"Tom&#225;š Čerm&#225;k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647018918,"creation_date":1647001816,"question_id":71438546,"body_markdown":"I have a problem running a spring boot application on Heroku. The application crashes with the following error. Don&#39;t know where the problem might be?\r\n\r\n        2022-03-11T12:21:22.271773+00:00 heroku[web.1]: State changed from crashed to starting\r\n    2022-03-11T12:21:25.029966+00:00 heroku[web.1]: Starting process with command `java -Dserver.port=22103 $JAVA_OPTS -jar target/Vendulka-1.0-SNAPSHOT.jar`\r\n    2022-03-11T12:21:25.730599+00:00 app[web.1]: Create a Procfile to customize the command used to run this process: https://devcenter.heroku.com/articles/procfile\r\n    2022-03-11T12:21:25.740822+00:00 app[web.1]: Setting JAVA_TOOL_OPTIONS defaults based on dyno size. Custom settings will override them.\r\n    2022-03-11T12:21:25.743826+00:00 app[web.1]: Picked up JAVA_TOOL_OPTIONS: -XX:+UseContainerSupport -Xmx300m -Xss512k -XX:CICompilerCount=2 -Dfile.encoding=UTF-8 \r\n    2022-03-11T12:21:25.785124+00:00 app[web.1]: no main manifest attribute, in target/Vendulka-1.0-SNAPSHOT.jar\r\n    2022-03-11T12:21:25.906791+00:00 heroku[web.1]: Process exited with status 1\r\n    2022-03-11T12:21:26.402088+00:00 heroku[web.1]: State changed from starting to crashed\r\n    2022-03-11T12:21:36.770036+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/&quot; host=cerma.herokuapp.com request_id=44ef8283-7eae-4229-903a-ce32f9dda176 fwd=&quot;212.111.4.170&quot; dyno= connect= service= status=503 bytes= protocol=https\r\n    2022-03-11T12:21:36.899660+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/favicon.ico&quot; host=cerma.herokuapp.com request_id=21242cc6-f151-4272-bf41-d5aa9b834442 fwd=&quot;212.111.4.170&quot; dyno= connect= service= status=503 bytes= protocol=https\r\n    2022-03-11T12:21:21.118467+00:00 app[api]: Deploy 8ed3929c by user tcermak4@gmail.com\r\n    2022-03-11T12:21:21.118467+00:00 app[api]: Release v13 created by user tcermak4@gmail.com\r\n    2022-03-11T12:21:23.000000+00:00 app[api]: Build succeeded\r\n    2022-03-11T12:22:17.417029+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/&quot; host=cerma.herokuapp.com request_id=8225fdab-1ffb-447a-a035-da3804e9305f fwd=&quot;212.111.4.170&quot; dyno= connect= service= status=503 bytes= protocol=https\r\n    2022-03-11T12:22:17.883392+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/&quot; host=cerma.herokuapp.com request_id=fbe85224-b825-4c5d-be85-3d0e50e633d1 fwd=&quot;212.111.4.170&quot; dyno= connect= service= status=503 bytes= protocol=https\r\n    2022-03-11T12:22:18.132872+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/favicon.ico&quot; host=cerma.herokuapp.com request_id=cab1a218-f1df-443f-9fce-f32d76ac1830 fwd=&quot;212.111.4.170&quot; dyno= connect= service= status=503 bytes= protocol=https","title":"Spring Boot deploy on Heroku","body":"<p>I have a problem running a spring boot application on Heroku. The application crashes with the following error. Don't know where the problem might be?</p>\n<pre><code>    2022-03-11T12:21:22.271773+00:00 heroku[web.1]: State changed from crashed to starting\n2022-03-11T12:21:25.029966+00:00 heroku[web.1]: Starting process with command `java -Dserver.port=22103 $JAVA_OPTS -jar target/Vendulka-1.0-SNAPSHOT.jar`\n2022-03-11T12:21:25.730599+00:00 app[web.1]: Create a Procfile to customize the command used to run this process: https://devcenter.heroku.com/articles/procfile\n2022-03-11T12:21:25.740822+00:00 app[web.1]: Setting JAVA_TOOL_OPTIONS defaults based on dyno size. Custom settings will override them.\n2022-03-11T12:21:25.743826+00:00 app[web.1]: Picked up JAVA_TOOL_OPTIONS: -XX:+UseContainerSupport -Xmx300m -Xss512k -XX:CICompilerCount=2 -Dfile.encoding=UTF-8 \n2022-03-11T12:21:25.785124+00:00 app[web.1]: no main manifest attribute, in target/Vendulka-1.0-SNAPSHOT.jar\n2022-03-11T12:21:25.906791+00:00 heroku[web.1]: Process exited with status 1\n2022-03-11T12:21:26.402088+00:00 heroku[web.1]: State changed from starting to crashed\n2022-03-11T12:21:36.770036+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/&quot; host=cerma.herokuapp.com request_id=44ef8283-7eae-4229-903a-ce32f9dda176 fwd=&quot;212.111.4.170&quot; dyno= connect= service= status=503 bytes= protocol=https\n2022-03-11T12:21:36.899660+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/favicon.ico&quot; host=cerma.herokuapp.com request_id=21242cc6-f151-4272-bf41-d5aa9b834442 fwd=&quot;212.111.4.170&quot; dyno= connect= service= status=503 bytes= protocol=https\n2022-03-11T12:21:21.118467+00:00 app[api]: Deploy 8ed3929c by user tcermak4@gmail.com\n2022-03-11T12:21:21.118467+00:00 app[api]: Release v13 created by user tcermak4@gmail.com\n2022-03-11T12:21:23.000000+00:00 app[api]: Build succeeded\n2022-03-11T12:22:17.417029+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/&quot; host=cerma.herokuapp.com request_id=8225fdab-1ffb-447a-a035-da3804e9305f fwd=&quot;212.111.4.170&quot; dyno= connect= service= status=503 bytes= protocol=https\n2022-03-11T12:22:17.883392+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/&quot; host=cerma.herokuapp.com request_id=fbe85224-b825-4c5d-be85-3d0e50e633d1 fwd=&quot;212.111.4.170&quot; dyno= connect= service= status=503 bytes= protocol=https\n2022-03-11T12:22:18.132872+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/favicon.ico&quot; host=cerma.herokuapp.com request_id=cab1a218-f1df-443f-9fce-f32d76ac1830 fwd=&quot;212.111.4.170&quot; dyno= connect= service= status=503 bytes= protocol=https\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7052626,"reputation":516,"user_id":5401167,"display_name":"W-S"},"score":0,"creation_date":1646988297,"post_id":71435705,"comment_id":126264222,"body_markdown":"You can create default method in your `Converter` interface.","body":"You can create default method in your <code>Converter</code> interface."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1646988799,"post_id":71435705,"comment_id":126264418,"body_markdown":"And like this common logic won&#39;t be in all implementations, but has to be called specifically every time","body":"And like this common logic won&#39;t be in all implementations, but has to be called specifically every time"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647018142,"creation_date":1646988681,"answer_id":71435907,"question_id":71435705,"body_markdown":"Steps to achieve it:\r\n\r\n 1. Make abstract class implementing `Converter`, with its&#39; implementation of `convert()` holding common logic\r\n 2. Add abstract method, which will hold logic specific for concrete implementers, `X` and `Y` in your case\r\n 3. Call abstract method in `convert()`\r\n 4. Make `X` and `Y` extend abstract class\r\n 5. Implement specific logic\r\n\r\n**Edit:** Adding example code to illustrate it.\r\n\r\nAbstract class:\r\n```\r\npublic abstract class BaseConverter implements Converter {\r\n\r\n    @Override\r\n    public void convert() {\r\n        System.out.println(&quot;common steps&quot;);\r\n        this.specificSteps();\r\n    }\r\n\r\n    protected abstract void specificSteps();\r\n}\r\n```\r\nImplementation of `convert()` consists of common part - `System.out.println(&quot;common steps&quot;);`, and specific part - `this.specificSteps();`. Abstract method `specificSteps()` forces every subclass to add its&#39; own specific conversion.\r\n\r\n`X` and `Y`:\r\n```\r\npublic class X extends BaseConverter {\r\n\r\n    @Override\r\n    protected void specificSteps() {\r\n        System.out.println(&quot;X conversion&quot;);\r\n    }\r\n}\r\n```\r\n```\r\npublic class Y extends BaseConverter {\r\n\r\n    @Override\r\n    protected void specificSteps() {\r\n        System.out.println(&quot;Y conversion&quot;);\r\n    }\r\n}\r\n```\r\nLike this you only write the specific logic in concrete classes, they inherit common logic from `BaseConverter`.\r\n\r\nLastly, simple main to test.\r\n```\r\npublic class TempMain {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Converter&gt; converters = new ArrayList&lt;&gt;();\r\n        converters.add(new X());\r\n        converters.add(new Y());\r\n        for (Converter converter : converters) {\r\n            converter.convert();\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```","title":"how to add common statements to all the implementations of an interface?","body":"<p>Steps to achieve it:</p>\n<ol>\n<li>Make abstract class implementing <code>Converter</code>, with its' implementation of <code>convert()</code> holding common logic</li>\n<li>Add abstract method, which will hold logic specific for concrete implementers, <code>X</code> and <code>Y</code> in your case</li>\n<li>Call abstract method in <code>convert()</code></li>\n<li>Make <code>X</code> and <code>Y</code> extend abstract class</li>\n<li>Implement specific logic</li>\n</ol>\n<p><strong>Edit:</strong> Adding example code to illustrate it.</p>\n<p>Abstract class:</p>\n<pre><code>public abstract class BaseConverter implements Converter {\n\n    @Override\n    public void convert() {\n        System.out.println(&quot;common steps&quot;);\n        this.specificSteps();\n    }\n\n    protected abstract void specificSteps();\n}\n</code></pre>\n<p>Implementation of <code>convert()</code> consists of common part - <code>System.out.println(&quot;common steps&quot;);</code>, and specific part - <code>this.specificSteps();</code>. Abstract method <code>specificSteps()</code> forces every subclass to add its' own specific conversion.</p>\n<p><code>X</code> and <code>Y</code>:</p>\n<pre><code>public class X extends BaseConverter {\n\n    @Override\n    protected void specificSteps() {\n        System.out.println(&quot;X conversion&quot;);\n    }\n}\n</code></pre>\n<pre><code>public class Y extends BaseConverter {\n\n    @Override\n    protected void specificSteps() {\n        System.out.println(&quot;Y conversion&quot;);\n    }\n}\n</code></pre>\n<p>Like this you only write the specific logic in concrete classes, they inherit common logic from <code>BaseConverter</code>.</p>\n<p>Lastly, simple main to test.</p>\n<pre><code>public class TempMain {\n\n    public static void main(String[] args) {\n        List&lt;Converter&gt; converters = new ArrayList&lt;&gt;();\n        converters.add(new X());\n        converters.add(new Y());\n        for (Converter converter : converters) {\n            converter.convert();\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19184394,"reputation":153,"user_id":14015478,"display_name":"Deep"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646988703,"creation_date":1646988703,"answer_id":71435910,"question_id":71435705,"body_markdown":"You can do this by using default method of interface. Default method in interface must have function body. You can use it this way.\r\n\r\n    public interface Converter {\r\n        default void convert(){\r\n          System.out.println(&quot;common steps&quot;);\r\n        }\r\n    }\r\n    \r\n    public class X implements Converter{\r\n       public void convert(){\r\n          Converter.super.convert();\r\n      }\r\n    }\r\n    \r\n    public class Y implements Converter{\r\n       public void convert(){\r\n          Converter.super.convert();\r\n      }\r\n    }","title":"how to add common statements to all the implementations of an interface?","body":"<p>You can do this by using default method of interface. Default method in interface must have function body. You can use it this way.</p>\n<pre><code>public interface Converter {\n    default void convert(){\n      System.out.println(&quot;common steps&quot;);\n    }\n}\n\npublic class X implements Converter{\n   public void convert(){\n      Converter.super.convert();\n  }\n}\n\npublic class Y implements Converter{\n   public void convert(){\n      Converter.super.convert();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":24275764,"reputation":37,"user_id":18223086,"display_name":"Viks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71435907,"answer_count":2,"score":0,"last_activity_date":1647018142,"creation_date":1646987651,"question_id":71435705,"body_markdown":"I have a code in this current form.\r\n\r\n    public interface Converter {\r\n        void convert();\r\n    }\r\n    \r\n    public class X implements Converter{\r\n       public void convert(){\r\n          System.out.println(&quot;X conversion&quot;);\r\n      }\r\n    }\r\n    \r\n    public class Y implements Converter{\r\n       public void convert(){\r\n          System.out.println(&quot;Y conversion&quot;);\r\n      }\r\n    }\r\n\r\nNow I need to add common steps in all the implementations of `convert()` method. Like `System.out.println(&quot;common steps&quot;)` to all the implemenations of `convert()` method. What is the best way to do","title":"how to add common statements to all the implementations of an interface?","body":"<p>I have a code in this current form.</p>\n<pre><code>public interface Converter {\n    void convert();\n}\n\npublic class X implements Converter{\n   public void convert(){\n      System.out.println(&quot;X conversion&quot;);\n  }\n}\n\npublic class Y implements Converter{\n   public void convert(){\n      System.out.println(&quot;Y conversion&quot;);\n  }\n}\n</code></pre>\n<p>Now I need to add common steps in all the implementations of <code>convert()</code> method. Like <code>System.out.println(&quot;common steps&quot;)</code> to all the implemenations of <code>convert()</code> method. What is the best way to do</p>\n"},{"tags":["java","jfreechart"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1346803020,"post_id":12272679,"comment_id":16458201,"body_markdown":"Possible duplicate of [Display days in TimeSeriesChart](http://stackoverflow.com/questions/5583757/display-days-in-timeserieschart)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/5583757/display-days-in-timeserieschart\">Display days in TimeSeriesChart</a>"},{"owner":{"account_id":1301125,"reputation":425,"user_id":1251019,"accept_rate":79,"display_name":"DommyCastles"},"score":0,"creation_date":1346804455,"post_id":12272679,"comment_id":16458419,"body_markdown":"I did research into these topics previously, but as you can see I have set mine up differently, and can&#39;t seem to figure it out.","body":"I did research into these topics previously, but as you can see I have set mine up differently, and can&#39;t seem to figure it out."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1346805023,"post_id":12272679,"comment_id":16458506,"body_markdown":"I don&#39;t see where you set the format. Please edit your question to include an [sscce](http://sscce.org/) that shows your current approach.","body":"I don&#39;t see where you set the format. Please edit your question to include an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">sscce</a> that shows your current approach."},{"owner":{"account_id":1301125,"reputation":425,"user_id":1251019,"accept_rate":79,"display_name":"DommyCastles"},"score":0,"creation_date":1346805319,"post_id":12272679,"comment_id":16458555,"body_markdown":"I have edited it to suit, please help! Thank you :) Unfortunately, it will not be compilable for you, as it uses database queries not accessible to you.","body":"I have edited it to suit, please help! Thank you :) Unfortunately, it will not be compilable for you, as it uses database queries not accessible to you."},{"owner":{"account_id":983779,"reputation":691,"user_id":1002795,"accept_rate":73,"display_name":"shivshankar"},"score":0,"creation_date":1346840270,"post_id":12272679,"comment_id":16467901,"body_markdown":"I think you shouldn&#39;t put following code in loop\n\nXYPlot plot = (XYPlot) chart.getPlot();\nDateAxis axis = (DateAxis) plot.getDomainAxis();\naxis.setDateFormatOverride(new SimpleDateFormat(&quot;dd-MMM-yyyy&quot;));","body":"I think you shouldn&#39;t put following code in loop  XYPlot plot = (XYPlot) chart.getPlot(); DateAxis axis = (DateAxis) plot.getDomainAxis(); axis.setDateFormatOverride(new SimpleDateFormat(&quot;dd-MMM-yyyy&quot;));"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1346890458,"post_id":12272679,"comment_id":16488445,"body_markdown":"Cross-posted [here](http://www.jfree.org/forum/viewtopic.php?f=3&amp;t=115698).","body":"Cross-posted <a href=\"http://www.jfree.org/forum/viewtopic.php?f=3&amp;t=115698\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1647017826,"creation_date":1346805632,"answer_id":12273108,"question_id":12272679,"body_markdown":"Without an [sscce][1] or the desired format, I&#39;m just guessing at a suitable [`DateFormat`][2].\r\n\r\n    XYPlot plot = (XYPlot) chart.getPlot();\r\n    DateAxis axis = (DateAxis) plot.getDomainAxis();\r\n    axis.setDateFormatOverride(DateFormat.getDateInstance());\r\n\r\nAddendum: Looking closer at your update, you&#39;re using `ChartFactory.createXYLineChart()`, which creates a `NumberAxis` for the domain. Instead, use `ChartFactory.createTimeSeriesChart()`, which creates a `DateAxis` for the domain.\r\n\r\nAddendum: If `time` represents milliseconds from the same epoch as a Java [`Date`][3], you can use `new Date(time.longValue())` to construct your dataset&#39;s `RegularTimePeriod`. There&#39;s a related example [here][4].\r\n\r\n\r\n  [1]: http://sscce.org/\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DateFormat.html\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/util/Date.html#Date%28long%29\r\n  [4]: https://stackoverflow.com/a/5522583/230513","title":"Adding date/time to JFreeChart graph","body":"<p>Without an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">sscce</a> or the desired format, I'm just guessing at a suitable <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DateFormat.html\" rel=\"nofollow noreferrer\"><code>DateFormat</code></a>.</p>\n<pre><code>XYPlot plot = (XYPlot) chart.getPlot();\nDateAxis axis = (DateAxis) plot.getDomainAxis();\naxis.setDateFormatOverride(DateFormat.getDateInstance());\n</code></pre>\n<p>Addendum: Looking closer at your update, you're using <code>ChartFactory.createXYLineChart()</code>, which creates a <code>NumberAxis</code> for the domain. Instead, use <code>ChartFactory.createTimeSeriesChart()</code>, which creates a <code>DateAxis</code> for the domain.</p>\n<p>Addendum: If <code>time</code> represents milliseconds from the same epoch as a Java <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Date.html#Date%28long%29\" rel=\"nofollow noreferrer\"><code>Date</code></a>, you can use <code>new Date(time.longValue())</code> to construct your dataset's <code>RegularTimePeriod</code>. There's a related example <a href=\"https://stackoverflow.com/a/5522583/230513\">here</a>.</p>\n"}],"owner":{"account_id":1301125,"reputation":425,"user_id":1251019,"accept_rate":79,"display_name":"DommyCastles"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13471,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1647017826,"creation_date":1346801684,"question_id":12272679,"body_markdown":"I currently have a method which queries a database for values, and plots them to a graph. The only problem is, the `time` variable is a long, and results in my graph looking like this:\r\n\r\n![graph](https://i85.photobucket.com/albums/k52/Dommmminic/graph.jpg)\r\n\r\nI want to convert it to a date format and then add it to the graph.\r\n\r\nHow can I do this?\r\n\r\nHere is my graph code:\r\n\r\n    private Long time;\r\n    private Long intensity;\r\n    public XYSeries series = new XYSeries(&quot;Sensor&quot;);\r\n    private XYDataset xyDataset;\r\n    public JFreeChart chart;\r\n\r\n    xyDataset = new XYSeriesCollection(series);\r\n    chart = ChartFactory.createXYLineChart(&quot;Sensor Data&quot;, &quot;Time&quot;, &quot;Intensity&quot;, xyDataset, PlotOrientation.VERTICAL, true, true, false);\r\n\r\n\r\nHere is my method for adding to the graph:\r\n\r\n    public void GetDustLevels() {\r\n        series.clear();\r\n        try {\r\n            currentSensor = Application.getInstance().getMinesite().getSensors().get(sensorID);\r\n        } catch (Exception e1) {\r\n            e1.printStackTrace();\r\n        }\r\n\r\n        if (currentSensor != null) {\r\n            sensorKDTree = currentSensor.getSensorData();\r\n            Iterator&lt;Map.Entry&lt;GenericPoint&lt;Long&gt;, String&gt;&gt; allPoints = sensorKDTree.iterator(sensorKDTree.getMin(null), sensorKDTree.getMax(null));\r\n\r\n            while (allPoints.hasNext()) {\r\n                GenericPoint&lt;Long&gt; timeIntensityPair = allPoints.next().getKey();\r\n                time = timeIntensityPair.getCoord(0);\r\n                intensity = timeIntensityPair.getCoord(1);\r\n                System.out.println(&quot;CURRENT SENSOR&quot; + currentSensor);\r\n                System.out.println(&quot;TIME: &quot; + time + &quot; &quot; + &quot;INTENSITY: &quot; + intensity);\r\n                series.add(time, intensity);\r\n            }\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\nAny help would be GREATLY appreciated! Thank you!\r\n\r\n\r\n\r\nEDIT: I have changed my code to this:\r\n\r\n    public TimeSeries series = new TimeSeries(&quot;Sensor&quot;, Date.class);\r\n    public JFreeChart chart;\r\n    private Long time;\r\n    private Long intensity;\r\n\r\n    TimeSeriesCollection xyDataset = new TimeSeriesCollection(series);\r\n    chart = ChartFactory.createTimeSeriesChart(&quot;Sensor Data&quot;, &quot;Time&quot;, &quot;Intensity&quot;, xyDataset, true, true, false);\r\n\r\nAnd my new GetDustLevels() method:\r\n\r\n     public void GetDustLevels() {\r\n        series.clear();\r\n        try {\r\n            currentSensor = Application.getInstance().getMinesite().getSensors().get(sensorID);\r\n        } catch (Exception e1) {\r\n            e1.printStackTrace();\r\n        }\r\n\r\n        if (currentSensor != null) {\r\n            sensorKDTree = currentSensor.getSensorData();\r\n            Iterator&lt;Map.Entry&lt;GenericPoint&lt;Long&gt;, String&gt;&gt; allPoints = sensorKDTree.iterator(sensorKDTree.getMin(null), sensorKDTree.getMax(null));\r\n\r\n            while (allPoints.hasNext()) {\r\n                GenericPoint&lt;Long&gt; timeIntensityPair = allPoints.next().getKey();\r\n                time = timeIntensityPair.getCoord(0);\r\n                intensity = timeIntensityPair.getCoord(1);\r\n                System.out.println(&quot;CURRENT SENSOR&quot; + currentSensor);\r\n                System.out.println(&quot;TIME: &quot; + time + &quot; &quot; + &quot;INTENSITY: &quot; + intensity);\r\n                XYPlot plot = (XYPlot) chart.getPlot();\r\n                DateAxis axis = (DateAxis) plot.getDomainAxis();\r\n                axis.setDateFormatOverride(new SimpleDateFormat(&quot;dd-MMM-yyyy&quot;));\r\n                series.add(new Date(time.longValue()), intensity);\r\n            }\r\n\r\n        }\r\n\r\n\r\n    }","title":"Adding date/time to JFreeChart graph","body":"<p>I currently have a method which queries a database for values, and plots them to a graph. The only problem is, the <code>time</code> variable is a long, and results in my graph looking like this:</p>\n\n<p><img src=\"https://i85.photobucket.com/albums/k52/Dommmminic/graph.jpg\" alt=\"graph\"></p>\n\n<p>I want to convert it to a date format and then add it to the graph.</p>\n\n<p>How can I do this?</p>\n\n<p>Here is my graph code:</p>\n\n<pre><code>private Long time;\nprivate Long intensity;\npublic XYSeries series = new XYSeries(\"Sensor\");\nprivate XYDataset xyDataset;\npublic JFreeChart chart;\n\nxyDataset = new XYSeriesCollection(series);\nchart = ChartFactory.createXYLineChart(\"Sensor Data\", \"Time\", \"Intensity\", xyDataset, PlotOrientation.VERTICAL, true, true, false);\n</code></pre>\n\n<p>Here is my method for adding to the graph:</p>\n\n<pre><code>public void GetDustLevels() {\n    series.clear();\n    try {\n        currentSensor = Application.getInstance().getMinesite().getSensors().get(sensorID);\n    } catch (Exception e1) {\n        e1.printStackTrace();\n    }\n\n    if (currentSensor != null) {\n        sensorKDTree = currentSensor.getSensorData();\n        Iterator&lt;Map.Entry&lt;GenericPoint&lt;Long&gt;, String&gt;&gt; allPoints = sensorKDTree.iterator(sensorKDTree.getMin(null), sensorKDTree.getMax(null));\n\n        while (allPoints.hasNext()) {\n            GenericPoint&lt;Long&gt; timeIntensityPair = allPoints.next().getKey();\n            time = timeIntensityPair.getCoord(0);\n            intensity = timeIntensityPair.getCoord(1);\n            System.out.println(\"CURRENT SENSOR\" + currentSensor);\n            System.out.println(\"TIME: \" + time + \" \" + \"INTENSITY: \" + intensity);\n            series.add(time, intensity);\n        }\n\n    }\n\n\n}\n</code></pre>\n\n<p>Any help would be GREATLY appreciated! Thank you!</p>\n\n<p>EDIT: I have changed my code to this:</p>\n\n<pre><code>public TimeSeries series = new TimeSeries(\"Sensor\", Date.class);\npublic JFreeChart chart;\nprivate Long time;\nprivate Long intensity;\n\nTimeSeriesCollection xyDataset = new TimeSeriesCollection(series);\nchart = ChartFactory.createTimeSeriesChart(\"Sensor Data\", \"Time\", \"Intensity\", xyDataset, true, true, false);\n</code></pre>\n\n<p>And my new GetDustLevels() method:</p>\n\n<pre><code> public void GetDustLevels() {\n    series.clear();\n    try {\n        currentSensor = Application.getInstance().getMinesite().getSensors().get(sensorID);\n    } catch (Exception e1) {\n        e1.printStackTrace();\n    }\n\n    if (currentSensor != null) {\n        sensorKDTree = currentSensor.getSensorData();\n        Iterator&lt;Map.Entry&lt;GenericPoint&lt;Long&gt;, String&gt;&gt; allPoints = sensorKDTree.iterator(sensorKDTree.getMin(null), sensorKDTree.getMax(null));\n\n        while (allPoints.hasNext()) {\n            GenericPoint&lt;Long&gt; timeIntensityPair = allPoints.next().getKey();\n            time = timeIntensityPair.getCoord(0);\n            intensity = timeIntensityPair.getCoord(1);\n            System.out.println(\"CURRENT SENSOR\" + currentSensor);\n            System.out.println(\"TIME: \" + time + \" \" + \"INTENSITY: \" + intensity);\n            XYPlot plot = (XYPlot) chart.getPlot();\n            DateAxis axis = (DateAxis) plot.getDomainAxis();\n            axis.setDateFormatOverride(new SimpleDateFormat(\"dd-MMM-yyyy\"));\n            series.add(new Date(time.longValue()), intensity);\n        }\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","pdf","byte","documentum"],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647017669,"creation_date":1647017357,"answer_id":71441944,"question_id":71441681,"body_markdown":"PDF is *binary data*. One corrupts the PDF when reading as *text* (which in Java is always Unicode).\r\nAlso it is a waste: a byte as char would double the memory usages, and\r\nthere are two conversions: from bytes to String and vice versa, using some encoding.\r\nWhen converting from UTF-8 even UTF-8 format errors may be raised.\r\n\r\n    try (InputStream inputStream = conn.getInputStream()) {\r\n        if (inputStream != null) {\r\n            byte[] content = inputStream.readAllBytes();\r\n            signedPdf.setBinaryContent(content);\r\n        }\r\n    }\r\n\r\nWhether to use a `BufferedInputStream` depends, for instance on the expected PDF size.\r\n\r\nFurthermore `new String(byte[], Charset)` and `String.getBytes(Charset)` **with explicit Charset** (like `StandardCharsets.UTF_8`) are preferable over a default Charset overloaded version. Those use the current platform encoding, and hence delivers non-portable code. Behaving differently on an other platform/computer.","title":"Damaged Pdf after setting content from a server response","body":"<p>PDF is <em>binary data</em>. One corrupts the PDF when reading as <em>text</em> (which in Java is always Unicode).\nAlso it is a waste: a byte as char would double the memory usages, and\nthere are two conversions: from bytes to String and vice versa, using some encoding.\nWhen converting from UTF-8 even UTF-8 format errors may be raised.</p>\n<pre><code>try (InputStream inputStream = conn.getInputStream()) {\n    if (inputStream != null) {\n        byte[] content = inputStream.readAllBytes();\n        signedPdf.setBinaryContent(content);\n    }\n}\n</code></pre>\n<p>Whether to use a <code>BufferedInputStream</code> depends, for instance on the expected PDF size.</p>\n<p>Furthermore <code>new String(byte[], Charset)</code> and <code>String.getBytes(Charset)</code> <strong>with explicit Charset</strong> (like <code>StandardCharsets.UTF_8</code>) are preferable over a default Charset overloaded version. Those use the current platform encoding, and hence delivers non-portable code. Behaving differently on an other platform/computer.</p>\n"}],"owner":{"account_id":24365143,"reputation":5,"user_id":18298993,"display_name":"komplRX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71441944,"answer_count":1,"score":0,"last_activity_date":1647017669,"creation_date":1647016267,"question_id":71441681,"body_markdown":"I am currently making rest calls to a server for signing a pdf document.\r\n\r\nI am sending a pdf(binary content) and retrieving the binary content of the signed pdf.\r\nWhen i get the binary content from the inputStream:\r\n\r\n\t\ttry (InputStream inputStream = conn.getInputStream()) {\r\n\t\t\tif (inputStream != null) {\r\n\t\t\t\ttry (BufferedReader br = new BufferedReader(new InputStreamReader(inputStream))) {\r\n\t\t\t\t\tString lines;\r\n\t\t\t\t\twhile ((lines = br.readLine()) != null) {\r\n\t\t\t\t\t\toutput += lines;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n    signedPdf.setBinaryContent(output.getBytes());\r\n\r\n(signedPdf is a DTO with byte[] attribute)\r\nbut when i try to set the content of the pdf with the content of the response pdf:\r\n\r\n\tByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\tout.write(signedPdf);\r\n    pdf.setContent(signedPdf);\r\n\r\nand try to open it, it says that the pdf is damaged and cannot be repaired.\r\n\r\nAnyone encountered something similar? Do i need to set the content-length as well for the output stream? \r\n","title":"Damaged Pdf after setting content from a server response","body":"<p>I am currently making rest calls to a server for signing a pdf document.</p>\n<p>I am sending a pdf(binary content) and retrieving the binary content of the signed pdf.\nWhen i get the binary content from the inputStream:</p>\n<pre><code>    try (InputStream inputStream = conn.getInputStream()) {\n        if (inputStream != null) {\n            try (BufferedReader br = new BufferedReader(new InputStreamReader(inputStream))) {\n                String lines;\n                while ((lines = br.readLine()) != null) {\n                    output += lines;\n                }\n            }\n        }\n    }\n\nsignedPdf.setBinaryContent(output.getBytes());\n</code></pre>\n<p>(signedPdf is a DTO with byte[] attribute)\nbut when i try to set the content of the pdf with the content of the response pdf:</p>\n<pre><code>ByteArrayOutputStream out = new ByteArrayOutputStream();\nout.write(signedPdf);\npdf.setContent(signedPdf);\n</code></pre>\n<p>and try to open it, it says that the pdf is damaged and cannot be repaired.</p>\n<p>Anyone encountered something similar? Do i need to set the content-length as well for the output stream?</p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":9311626,"reputation":427,"user_id":6913222,"display_name":"Arv"},"score":0,"creation_date":1647043870,"post_id":71441945,"comment_id":126281937,"body_markdown":"Try changing this property in gralde-wrapper.properties\n\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.0-bin.zip","body":"Try changing this property in gralde-wrapper.properties  distributionUrl=https\\://services.gradle.org/distributions/g&zwnj;&#8203;radle-6.0-bin.zip"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1647159814,"post_id":71441945,"comment_id":126297019,"body_markdown":"Where the `failedFuture` is declared? Is it a library method? Or method in your project?","body":"Where the <code>failedFuture</code> is declared? Is it a library method? Or method in your project?"}],"owner":{"account_id":7469032,"reputation":434,"user_id":5677587,"display_name":"ragurney"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647017357,"creation_date":1647017357,"question_id":71441945,"body_markdown":"I&#39;ve been stuck on this for a couple of days now, any suggestions would be greatly appreciated. \r\n\r\nI have a situation where I have a service using Java 11, however when I try to run a `gradlew buld` I get a compilation error:\r\n\r\n```java\r\nerror: cannot find symbol\r\n        new ResponseFutureImpl&lt;&gt;(failedFuture(exception));\r\n                                 ^\r\n```\r\nThis is happening in a test file. However, when I run the test by itself it runs fine, and IntelliJ doesn&#39;t complain about not being able to find `failedFuture`. \r\n\r\nThings I&#39;ve tried:\r\n * Checking java compiler settings, gradle settings, and project / module settings in IntelliJ to confirm they are set to JDK 11.\r\n * Set `    sourceCompatibility = JavaVersion.VERSION_11\r\n    targetCompatibility = JavaVersion.VERSION_11` in my `build.gradle` file.\r\n* Checked gradle build scan to confirm it&#39;s using JDK 11\r\n* Confirmed JAVA_HOME is pointing to correct JDK\r\n* Invalidated IntelliJ caches\r\n* Ran `gradle build` with `--refresh-dependencies` and `--rerun-tasks`\r\n* Deleted `~/.gradle` and reran `gradlew build`\r\n* Had someone with a fresh install of IntelliJ clone the project and try running on their machine, but they hit the same issue.\r\n\r\nI&#39;m plum out of ideas, and this seems like a very strange issue. Any help would be appreciated. ","title":"Gradle Can&#39;t Resolve Java 9 `failedFuture` Even Though Using Java 11","body":"<p>I've been stuck on this for a couple of days now, any suggestions would be greatly appreciated.</p>\n<p>I have a situation where I have a service using Java 11, however when I try to run a <code>gradlew buld</code> I get a compilation error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>error: cannot find symbol\n        new ResponseFutureImpl&lt;&gt;(failedFuture(exception));\n                                 ^\n</code></pre>\n<p>This is happening in a test file. However, when I run the test by itself it runs fine, and IntelliJ doesn't complain about not being able to find <code>failedFuture</code>.</p>\n<p>Things I've tried:</p>\n<ul>\n<li>Checking java compiler settings, gradle settings, and project / module settings in IntelliJ to confirm they are set to JDK 11.</li>\n<li>Set <code>    sourceCompatibility = JavaVersion.VERSION_11 targetCompatibility = JavaVersion.VERSION_11</code> in my <code>build.gradle</code> file.</li>\n<li>Checked gradle build scan to confirm it's using JDK 11</li>\n<li>Confirmed JAVA_HOME is pointing to correct JDK</li>\n<li>Invalidated IntelliJ caches</li>\n<li>Ran <code>gradle build</code> with <code>--refresh-dependencies</code> and <code>--rerun-tasks</code></li>\n<li>Deleted <code>~/.gradle</code> and reran <code>gradlew build</code></li>\n<li>Had someone with a fresh install of IntelliJ clone the project and try running on their machine, but they hit the same issue.</li>\n</ul>\n<p>I'm plum out of ideas, and this seems like a very strange issue. Any help would be appreciated.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":5147284,"reputation":2911,"user_id":4122894,"display_name":"sixrandanes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647012735,"creation_date":1647012735,"answer_id":71440929,"question_id":71440577,"body_markdown":"You should have only 1 argument in your method.\r\nThe marinaId should be r&#233;nov&#233;e to match findByProductTypeIn method.","title":"FindBy...In Spring JPA while using an enum error","body":"<p>You should have only 1 argument in your method.\nThe marinaId should be rénovée to match findByProductTypeIn method.</p>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647016956,"creation_date":1647016956,"answer_id":71441840,"question_id":71440577,"body_markdown":"As per [spring documentation][1],if you are passing collection then it will support only 1 argument :\r\n\r\n    findByProductTypeIn(List&lt;ProductType&gt; productTypes);\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#reference\r\n\r\nIf you want to use 2 arguments, you might need to iterate over `List&lt;ProductType&gt;` &amp; then use something like this :\r\n\r\n    findByProductTypeAndMarinaid(ProductType p,Integer marinaid) \r\n\r\n Provided your underlying db supports `ProductType` &amp; `Integer` in query.","title":"FindBy...In Spring JPA while using an enum error","body":"<p>As per <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#reference\" rel=\"nofollow noreferrer\">spring documentation</a>,if you are passing collection then it will support only 1 argument :</p>\n<pre><code>findByProductTypeIn(List&lt;ProductType&gt; productTypes);\n</code></pre>\n<p>If you want to use 2 arguments, you might need to iterate over <code>List&lt;ProductType&gt;</code> &amp; then use something like this :</p>\n<pre><code>findByProductTypeAndMarinaid(ProductType p,Integer marinaid) \n</code></pre>\n<p>Provided your underlying db supports <code>ProductType</code> &amp; <code>Integer</code> in query.</p>\n"}],"owner":{"account_id":18576371,"reputation":1314,"user_id":13536950,"display_name":"rafaelpadu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":784,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1647016956,"creation_date":1647011207,"question_id":71440577,"body_markdown":"I&#39;m trying to query a findBy...in in Spring JPA. It gives me an java.util.NoSuchElementException. Here&#39;s my code:\r\n\r\nProductType:\r\n\r\n    public enum ProductType {\r\n       Product, Service, PeriodicalService;\r\n    }\r\n\r\nController: \r\n\r\n    public ResponseEntity&lt;JsonStruct&gt; findByProductsType(@RequestHeader(&quot;MarinaId&quot;) Integer idMarina, @PathVariable String[] productTypes){\r\n\t\tJsonStruct struct = new JsonStruct();\r\n\t\tstruct.setStatusToSuccess();\r\n\t\tList&lt;ProductType&gt; productTypeList = Arrays.stream(productTypes).map(ProductType::valueOf).collect(Collectors.toList());\r\n\t\tstruct.put(&quot;products&quot;, productService.findByProductTypeIn(productTypeList, idMarina));\r\n\t\treturn new ResponseEntity&lt;JsonStruct&gt;(struct, HttpStatus.OK);\r\n\t}\r\n\r\nServiceImpl:\r\n\r\n    @Override\r\n\tpublic List&lt;Product&gt; findByProductTypeIn(List&lt;ProductType&gt; productTypes, Integer marinaId){\r\n\t\treturn productProvider.findByProductTypeIn(productTypes, marinaId);\r\n\t}\r\n\r\nService:\r\n\r\n    List&lt;Product&gt; findByProductTypeIn(List&lt;ProductType&gt; productTypes, Integer marinaId);\r\n\r\nProvider(this is the Repository):\r\n\r\n    List&lt;Product&gt; findByProductTypeIn(List&lt;ProductType&gt; productTypes, Integer marinaId);\r\n\r\nI can&#39;t see what I&#39;m doing wrong...","title":"FindBy...In Spring JPA while using an enum error","body":"<p>I'm trying to query a findBy...in in Spring JPA. It gives me an java.util.NoSuchElementException. Here's my code:</p>\n<p>ProductType:</p>\n<pre><code>public enum ProductType {\n   Product, Service, PeriodicalService;\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>public ResponseEntity&lt;JsonStruct&gt; findByProductsType(@RequestHeader(&quot;MarinaId&quot;) Integer idMarina, @PathVariable String[] productTypes){\n    JsonStruct struct = new JsonStruct();\n    struct.setStatusToSuccess();\n    List&lt;ProductType&gt; productTypeList = Arrays.stream(productTypes).map(ProductType::valueOf).collect(Collectors.toList());\n    struct.put(&quot;products&quot;, productService.findByProductTypeIn(productTypeList, idMarina));\n    return new ResponseEntity&lt;JsonStruct&gt;(struct, HttpStatus.OK);\n}\n</code></pre>\n<p>ServiceImpl:</p>\n<pre><code>@Override\npublic List&lt;Product&gt; findByProductTypeIn(List&lt;ProductType&gt; productTypes, Integer marinaId){\n    return productProvider.findByProductTypeIn(productTypes, marinaId);\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>List&lt;Product&gt; findByProductTypeIn(List&lt;ProductType&gt; productTypes, Integer marinaId);\n</code></pre>\n<p>Provider(this is the Repository):</p>\n<pre><code>List&lt;Product&gt; findByProductTypeIn(List&lt;ProductType&gt; productTypes, Integer marinaId);\n</code></pre>\n<p>I can't see what I'm doing wrong...</p>\n"},{"tags":["java","veracode","esapi"],"answers":[{"tags":[],"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647016746,"creation_date":1647016746,"answer_id":71441787,"question_id":71428624,"body_markdown":"This type of flaw also requires that you provide an allow-list of what your application considers &quot;safe&quot; redirects. Anything that doesn&#39;t match something in that list, should be rejected and logged.\r\n\r\nHowever, since Veracode is not going to know whether or not what is in the allow list is correct, you should get a security engineer to vet your corrected code and to manually mark it as remediated in the Veracode portal since the Veracode scanners will not be able to make that decision of what is safe / unsafe and hence it can&#39;t really be automated.","title":"Fix open direct issue is java","body":"<p>This type of flaw also requires that you provide an allow-list of what your application considers &quot;safe&quot; redirects. Anything that doesn't match something in that list, should be rejected and logged.</p>\n<p>However, since Veracode is not going to know whether or not what is in the allow list is correct, you should get a security engineer to vet your corrected code and to manually mark it as remediated in the Veracode portal since the Veracode scanners will not be able to make that decision of what is safe / unsafe and hence it can't really be automated.</p>\n"}],"owner":{"account_id":24483620,"reputation":5,"user_id":18401646,"display_name":"user18401646"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71441787,"answer_count":1,"score":0,"last_activity_date":1647016746,"creation_date":1646934583,"question_id":71428624,"body_markdown":"I have below code where veracode security scan shows open redirect flaw\r\n\r\n    response.sendRedirect(Targetlocation);\r\n\r\nI tried\r\n\r\n    if (!ESAPI.validator().isValidRedirectLocation(&quot;Redirect&quot;, tragetlocation, true)) {\r\n    \t\t\t  \t\tSystem.out.println(&quot;Bad redirect location: &quot;);\r\n    \t  \t\t    } else {\r\n    response.sendRedirect(Targetlocation);\r\n\r\nBut still not working. ","title":"Fix open direct issue is java","body":"<p>I have below code where veracode security scan shows open redirect flaw</p>\n<pre><code>response.sendRedirect(Targetlocation);\n</code></pre>\n<p>I tried</p>\n<pre><code>if (!ESAPI.validator().isValidRedirectLocation(&quot;Redirect&quot;, tragetlocation, true)) {\n                    System.out.println(&quot;Bad redirect location: &quot;);\n                } else {\nresponse.sendRedirect(Targetlocation);\n</code></pre>\n<p>But still not working.</p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1647016754,"post_id":71441714,"comment_id":126274872,"body_markdown":"You can use System.exit() for this purpose","body":"You can use System.exit() for this purpose"},{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1647016770,"post_id":71441714,"comment_id":126274878,"body_markdown":"Does this answer your question? [How to quit a java app from within the program](https://stackoverflow.com/questions/2670956/how-to-quit-a-java-app-from-within-the-program)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2670956/how-to-quit-a-java-app-from-within-the-program\">How to quit a java app from within the program</a>"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1647016799,"post_id":71441714,"comment_id":126274886,"body_markdown":"Your `input` should be ***inside*** your loop,","body":"Your <code>input</code> should be <b><i>inside</i></b> your loop,"}],"answers":[{"tags":[],"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647016723,"creation_date":1647016723,"answer_id":71441779,"question_id":71441714,"body_markdown":"The `while` loop is written to continue as long as `s!=-1`; so you need to change `s` so that this expression is no longer true.","title":"How can I make the program stop after entering a value from a user?","body":"<p>The <code>while</code> loop is written to continue as long as <code>s!=-1</code>; so you need to change <code>s</code> so that this expression is no longer true.</p>\n"}],"owner":{"account_id":24090443,"reputation":1,"user_id":18063783,"display_name":"KAM30"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647016723,"creation_date":1647016445,"question_id":71441714,"body_markdown":"I am trying to write a program that receives the number of sides from the \r\nuser and determines the type of figure using switch structure and a while sentinel-controlled loop, but every time I get an infinite loop. How can that be fixed? \r\n\r\n\timport java.util.Scanner;\r\n\tpublic class P1 {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tScanner input = new Scanner(System.in);\r\n\t\t\tSystem.out.println(&quot;Please enter the number of sides:&quot;);\r\n\t\t\tint s = input.nextInt();\r\n\t\t\twhile ( s!=-1)\r\n\t\t\t{\r\n\t\t\t\tswitch (s)\r\n\t\t\t\t{\r\n\t\t\t\tcase 1: System.out.println(&quot;Line&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:System.out.println(&quot;Angle&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 3:System.out.println(&quot;Triangle&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 4:System.out.println(&quot;Quadrilateral&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 5:System.out.println(&quot;Pentagon &quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 6:System.out.println(&quot;Hexagon&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 7:System.out.println(&quot;Heptagon&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 8:System.out.println(&quot;Octagon&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 9:System.out.println(&quot;Nonagon&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 10:System.out.println(&quot;Decagon&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault: System.out.println(&quot;Enter a valid value:&quot;);\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n  ","title":"How can I make the program stop after entering a value from a user?","body":"<p>I am trying to write a program that receives the number of sides from the\nuser and determines the type of figure using switch structure and a while sentinel-controlled loop, but every time I get an infinite loop. How can that be fixed?</p>\n<pre><code>import java.util.Scanner;\npublic class P1 {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        System.out.println(&quot;Please enter the number of sides:&quot;);\n        int s = input.nextInt();\n        while ( s!=-1)\n        {\n            switch (s)\n            {\n            case 1: System.out.println(&quot;Line&quot;);\n                break;\n            case 2:System.out.println(&quot;Angle&quot;);\n                break;\n            case 3:System.out.println(&quot;Triangle&quot;);\n                break;\n            case 4:System.out.println(&quot;Quadrilateral&quot;);\n                break;\n            case 5:System.out.println(&quot;Pentagon &quot;);\n                break;\n            case 6:System.out.println(&quot;Hexagon&quot;);\n                break;\n            case 7:System.out.println(&quot;Heptagon&quot;);\n                break;\n            case 8:System.out.println(&quot;Octagon&quot;);\n                break;\n            case 9:System.out.println(&quot;Nonagon&quot;);\n                break;\n            case 10:System.out.println(&quot;Decagon&quot;);\n                break;\n            default: System.out.println(&quot;Enter a valid value:&quot;);\n            }   \n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","jvm","instrumentation","java-bytecode-asm","javaagents"],"comments":[{"owner":{"account_id":285703,"reputation":2562,"user_id":584532,"accept_rate":79,"display_name":"nrainer"},"score":0,"creation_date":1592642943,"post_id":62483387,"comment_id":110502241,"body_markdown":"What does the resulting bytecode look like? You can use `javap` on the compiled class to figure that out.\nI guess that you are probably intervening too early after the `NEW` opcode and would need to wait until `INVOKESPECIAL` was invoked.","body":"What does the resulting bytecode look like? You can use <code>javap</code> on the compiled class to figure that out. I guess that you are probably intervening too early after the <code>NEW</code> opcode and would need to wait until <code>INVOKESPECIAL</code> was invoked."},{"owner":{"account_id":15931656,"reputation":2714,"user_id":11495796,"display_name":"Instein"},"score":0,"creation_date":1592644267,"post_id":62483387,"comment_id":110502602,"body_markdown":"@nrainer I don&#39;t know what the resulting bytecode looks like because I use java agent to transform the classes when they are loaded so I did not dump them to the disk. I think you mean insert those instructions after the object is initialized? I also tried that but sadly it also can not work smoothly.","body":"@nrainer I don&#39;t know what the resulting bytecode looks like because I use java agent to transform the classes when they are loaded so I did not dump them to the disk. I think you mean insert those instructions after the object is initialized? I also tried that but sadly it also can not work smoothly."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1592648707,"post_id":62483387,"comment_id":110503732,"body_markdown":"The problem is that you can&#39;t do much with an uninitialized object. Resulting bytecode will look like `new C, dup, invokestatic ...PurityRecorder.object_new, dup, invokespecial C.&lt;init&gt;`","body":"The problem is that you can&#39;t do much with an uninitialized object. Resulting bytecode will look like <code>new C, dup, invokestatic ...PurityRecorder.object_new, dup, invokespecial C.&lt;init&gt;</code>"},{"owner":{"account_id":15931656,"reputation":2714,"user_id":11495796,"display_name":"Instein"},"score":0,"creation_date":1592651225,"post_id":62483387,"comment_id":110504418,"body_markdown":"@JohannesKuhn Thanks for your comment! Could you explain more about &quot;can&#39;t do much with an uninitialized object&quot;? I think the bytecode is exactly like what you described. But I do not understand why it throws VerifyError, since it looks valid.","body":"@JohannesKuhn Thanks for your comment! Could you explain more about &quot;can&#39;t do much with an uninitialized object&quot;? I think the bytecode is exactly like what you described. But I do not understand why it throws VerifyError, since it looks valid."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1592651599,"post_id":62483387,"comment_id":110504542,"body_markdown":"https://docs.oracle.com/javase/specs/jvms/se14/html/jvms-4.html#jvms-4.10.1.2 Search for uninitialized.","body":"<a href=\"https://docs.oracle.com/javase/specs/jvms/se14/html/jvms-4.html#jvms-4.10.1.2\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se14/html/&hellip;</a> Search for uninitialized."},{"owner":{"account_id":6406447,"reputation":3104,"user_id":4967497,"accept_rate":83,"display_name":"JojOatXGME"},"score":0,"creation_date":1592778149,"post_id":62483387,"comment_id":110538992,"body_markdown":"You cannot pass uninitalized values to other methods but the initialization method. However, I don&#39;t see a problem with you second approach using `&lt;init&gt;`. Maybe there is some other issue somewhere in your code?","body":"You cannot pass uninitalized values to other methods but the initialization method. However, I don&#39;t see a problem with you second approach using <code>&lt;init&gt;</code>. Maybe there is some other issue somewhere in your code?"},{"owner":{"account_id":15931656,"reputation":2714,"user_id":11495796,"display_name":"Instein"},"score":0,"creation_date":1592791553,"post_id":62483387,"comment_id":110541510,"body_markdown":"@JojOatXGME Thanks for your comment! In the second method, it seems that when it executes `DUP`, the operand stack is actually empty. I guess after the execution of `&lt;init&gt;`, no initialized object will be pushed on the operand stack. Is that possible?","body":"@JojOatXGME Thanks for your comment! In the second method, it seems that when it executes <code>DUP</code>, the operand stack is actually empty. I guess after the execution of <code>&lt;init&gt;</code>, no initialized object will be pushed on the operand stack. Is that possible?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1592825034,"post_id":62483387,"comment_id":110553585,"body_markdown":"In short, consider the default constructor: `aload 0; invokespecial j/l/Object.&lt;init&gt;(); return`.","body":"In short, consider the default constructor: <code>aload 0; invokespecial j&#47;l&#47;Object.&lt;init&gt;(); return</code>."}],"answers":[{"tags":[],"owner":{"account_id":6406447,"reputation":3104,"user_id":4967497,"accept_rate":83,"display_name":"JojOatXGME"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647016702,"creation_date":1592863342,"answer_id":62524195,"question_id":62483387,"body_markdown":"The object instantiation is separated into two instructions. This can make it difficult to work with object instantiation. It was actually the biggest problem in multiple of my projects with ASM. The simple expression `new Integer(0)` might compile to the following code.\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    new java/lang/Integer                       ═╤═\r\n    dup                                         ═╪═══╤═\r\n    iconst_0                                     │   │  ═╤═\r\n    invokespecial java/lang/Integer.&lt;init&gt;(I)V   │  ═╧═══╧═\r\n                                                 ↓\r\n\r\n_(The ASCII art on the right shall represent the lifetime of values on the stack. The first column represents the first item on the stack, the second column the second item on the stack, and so on.)_\r\n\r\nThe reference created with `new` cannot be used until it is initialized by `invokespecial`. Therefore, you cannot put you instrumentation directly after `new`. In the example above, you could put the instrumentation behind `invokespecial`. However, you need to distinguish it from calls to the super constructor. A statement like `super(0)` might compile to the following code.\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    aload_0                                     ═╤═\r\n    iconst_0                                     │  ═╤═\r\n    invokespecial {super class}.&lt;init&gt;(I)V      ═╧═══╧═\r\n\r\nThis two examples might cover the two most common cases where `&lt;init&gt;` is called. If you don&#39;t do anything with the value created by `new Integer(0)`, a compiler could also decide to skip the `dup` instruction. I&#39;m not sure if they actually do it. Anyway, the first example wourld become the following code.\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    new java/lang/Integer                       ═╤═\r\n    iconst_0                                     │  ═╤═\r\n    invokespecial java/lang/Integer.&lt;init&gt;(I)V  ═╧═══╧═\r\n\r\nThis can still be handled by injecting `dup` behind `new`, and `invokestatic` behind `invokespecial`.\r\n\r\nAnyway, if you want to handle even more exotic cases, the bytecode could also contain instructions like [`dup_x1`](https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-6.html#jvms-6.5.dup_x1) or [`dup_x2`](https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-6.html#jvms-6.5.dup_x2). [`GeneratorAdapter.box(Type)`](https://asm.ow2.io/javadoc/org/objectweb/asm/commons/GeneratorAdapter.html#box-org.objectweb.asm.Type-) actually generates such code. Some &quot;lazy&quot; bytecode manipulators could also cause `new` instructions where the instance is never initialized before it is removed with `pop`. As you can see, working with object instantiations in bytecode can take a lot of work. However, depending on your situation, you might not need to suport all this cases. Unfortunately, I don&#39;t have the experiance to estimate which cases you need to support.\r\n\r\n---\r\n\r\nHere is an example that doesn&#39;t handle `dup_x1` and similar instructions. Therefore, it would not work with code generated by [`GeneratorAdapter.box(Type)`](https://asm.ow2.io/javadoc/org/objectweb/asm/commons/GeneratorAdapter.html#box-org.objectweb.asm.Type-). Beside that, it seems to work reasonable well in my tests. It uses `AnalyzerAdapter` to get some information about the operand stack.\r\n\r\n```java\r\npublic final class InstrumentationMethodVisitor extends AnalyzerAdapter {\r\n  public InstrumentationMethodVisitor(\r\n      String owner, int access, String name, String descriptor,\r\n      MethodVisitor methodVisitor) {\r\n    super(ASM8, owner, access, name, descriptor, methodVisitor);\r\n  }\r\n\r\n  @Override\r\n  public void visitTypeInsn(int opcode, String type) {\r\n    super.visitTypeInsn(opcode, type);\r\n    if (opcode == NEW &amp;&amp; stack != null) {\r\n      mv.visitInsn(DUP);\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public void visitInsn(int opcode) {\r\n    if (opcode == POP &amp;&amp; stack != null &amp;&amp; stack.get(stack.size() - 1) instanceof Label) {\r\n      mv.visitInsn(POP);\r\n    }\r\n    super.visitInsn(opcode);\r\n  }\r\n\r\n  @Override\r\n  public void visitMethodInsn(int opcode, String owner, String name, String descriptor, boolean isInterface) {\r\n    if (opcode == INVOKESPECIAL &amp;&amp; name.equals(&quot;&lt;init&gt;&quot;)) {\r\n      boolean hasRelatedNew = stack != null &amp;&amp; stack.get(stack.size() - getAmountOfArgumentSlots(descriptor) - 1) instanceof Label;\r\n\r\n      super.visitMethodInsn(opcode, owner, name, descriptor, isInterface);\r\n\r\n      if (hasRelatedNew) {\r\n        mv.visitMethodInsn(\r\n            INVOKESTATIC,\r\n            &quot;org/myekstazi/agent/PurityRecorder&quot;,\r\n            &quot;object_new&quot;,\r\n            &quot;(Ljava/lang/Object;)V&quot;,\r\n            false);\r\n      }\r\n    }\r\n    else {\r\n      super.visitMethodInsn(opcode, owner, name, descriptor, isInterface);\r\n    }\r\n  }\r\n\r\n  private static int getAmountOfArgumentSlots(String descriptor) {\r\n    int slots = 0;\r\n    for (Type type : Type.getArgumentTypes(descriptor)) {\r\n      slots += type.getSize();\r\n    }\r\n    return slots;\r\n  }\r\n}\r\n```\r\n\r\n&lt;!--\r\n *  [The Java&#174; Virtual Machine Specification: Instance Initialization Methods and Newly Created Objects](https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-4.html#jvms-4.10.2.4)\r\n--&gt;","title":"&quot;VerifyError: Expecting to find object/array on stack&quot; when using ASM to monitor object creation in Java?","body":"<p>The object instantiation is separated into two instructions. This can make it difficult to work with object instantiation. It was actually the biggest problem in multiple of my projects with ASM. The simple expression <code>new Integer(0)</code> might compile to the following code.</p>\n<pre class=\"lang-none prettyprint-override\"><code>new java/lang/Integer                       ═╤═\ndup                                         ═╪═══╤═\niconst_0                                     │   │  ═╤═\ninvokespecial java/lang/Integer.&lt;init&gt;(I)V   │  ═╧═══╧═\n                                             ↓\n</code></pre>\n<p><em>(The ASCII art on the right shall represent the lifetime of values on the stack. The first column represents the first item on the stack, the second column the second item on the stack, and so on.)</em></p>\n<p>The reference created with <code>new</code> cannot be used until it is initialized by <code>invokespecial</code>. Therefore, you cannot put you instrumentation directly after <code>new</code>. In the example above, you could put the instrumentation behind <code>invokespecial</code>. However, you need to distinguish it from calls to the super constructor. A statement like <code>super(0)</code> might compile to the following code.</p>\n<pre class=\"lang-none prettyprint-override\"><code>aload_0                                     ═╤═\niconst_0                                     │  ═╤═\ninvokespecial {super class}.&lt;init&gt;(I)V      ═╧═══╧═\n</code></pre>\n<p>This two examples might cover the two most common cases where <code>&lt;init&gt;</code> is called. If you don't do anything with the value created by <code>new Integer(0)</code>, a compiler could also decide to skip the <code>dup</code> instruction. I'm not sure if they actually do it. Anyway, the first example wourld become the following code.</p>\n<pre class=\"lang-none prettyprint-override\"><code>new java/lang/Integer                       ═╤═\niconst_0                                     │  ═╤═\ninvokespecial java/lang/Integer.&lt;init&gt;(I)V  ═╧═══╧═\n</code></pre>\n<p>This can still be handled by injecting <code>dup</code> behind <code>new</code>, and <code>invokestatic</code> behind <code>invokespecial</code>.</p>\n<p>Anyway, if you want to handle even more exotic cases, the bytecode could also contain instructions like <a href=\"https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-6.html#jvms-6.5.dup_x1\" rel=\"nofollow noreferrer\"><code>dup_x1</code></a> or <a href=\"https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-6.html#jvms-6.5.dup_x2\" rel=\"nofollow noreferrer\"><code>dup_x2</code></a>. <a href=\"https://asm.ow2.io/javadoc/org/objectweb/asm/commons/GeneratorAdapter.html#box-org.objectweb.asm.Type-\" rel=\"nofollow noreferrer\"><code>GeneratorAdapter.box(Type)</code></a> actually generates such code. Some &quot;lazy&quot; bytecode manipulators could also cause <code>new</code> instructions where the instance is never initialized before it is removed with <code>pop</code>. As you can see, working with object instantiations in bytecode can take a lot of work. However, depending on your situation, you might not need to suport all this cases. Unfortunately, I don't have the experiance to estimate which cases you need to support.</p>\n<hr />\n<p>Here is an example that doesn't handle <code>dup_x1</code> and similar instructions. Therefore, it would not work with code generated by <a href=\"https://asm.ow2.io/javadoc/org/objectweb/asm/commons/GeneratorAdapter.html#box-org.objectweb.asm.Type-\" rel=\"nofollow noreferrer\"><code>GeneratorAdapter.box(Type)</code></a>. Beside that, it seems to work reasonable well in my tests. It uses <code>AnalyzerAdapter</code> to get some information about the operand stack.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class InstrumentationMethodVisitor extends AnalyzerAdapter {\n  public InstrumentationMethodVisitor(\n      String owner, int access, String name, String descriptor,\n      MethodVisitor methodVisitor) {\n    super(ASM8, owner, access, name, descriptor, methodVisitor);\n  }\n\n  @Override\n  public void visitTypeInsn(int opcode, String type) {\n    super.visitTypeInsn(opcode, type);\n    if (opcode == NEW &amp;&amp; stack != null) {\n      mv.visitInsn(DUP);\n    }\n  }\n\n  @Override\n  public void visitInsn(int opcode) {\n    if (opcode == POP &amp;&amp; stack != null &amp;&amp; stack.get(stack.size() - 1) instanceof Label) {\n      mv.visitInsn(POP);\n    }\n    super.visitInsn(opcode);\n  }\n\n  @Override\n  public void visitMethodInsn(int opcode, String owner, String name, String descriptor, boolean isInterface) {\n    if (opcode == INVOKESPECIAL &amp;&amp; name.equals(&quot;&lt;init&gt;&quot;)) {\n      boolean hasRelatedNew = stack != null &amp;&amp; stack.get(stack.size() - getAmountOfArgumentSlots(descriptor) - 1) instanceof Label;\n\n      super.visitMethodInsn(opcode, owner, name, descriptor, isInterface);\n\n      if (hasRelatedNew) {\n        mv.visitMethodInsn(\n            INVOKESTATIC,\n            &quot;org/myekstazi/agent/PurityRecorder&quot;,\n            &quot;object_new&quot;,\n            &quot;(Ljava/lang/Object;)V&quot;,\n            false);\n      }\n    }\n    else {\n      super.visitMethodInsn(opcode, owner, name, descriptor, isInterface);\n    }\n  }\n\n  private static int getAmountOfArgumentSlots(String descriptor) {\n    int slots = 0;\n    for (Type type : Type.getArgumentTypes(descriptor)) {\n      slots += type.getSize();\n    }\n    return slots;\n  }\n}\n</code></pre>\n\n"}],"owner":{"account_id":15931656,"reputation":2714,"user_id":11495796,"display_name":"Instein"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":984,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1647016702,"creation_date":1592641412,"question_id":62483387,"body_markdown":"What I want to do is to monitor the object creation and record a unique ID for that object. So I use ASM to monitor the &quot;NEW&quot; instruction. In my method vistor adapter:\r\n```java\r\npublic void visitTypeInsn(int opcode, String desc){\r\n    mv.visitTypeInsn(opcode, desc);\r\n    if (opcode == NEW){\r\n        mv.visitInsn(DUP);\r\n        mv.visitMethodInsn(INVOKESTATIC, &quot;org/.../.../MyRecorder&quot;, &quot;object_new&quot;,\r\n                &quot;(Ljava/lang/Object;)V&quot;, false);\r\n    }\r\n}\r\n```\r\nIn `MyRecorder.java`:\r\n```java\r\npublic static void object_new(Object ref){\r\n    log(&quot;object_new !&quot;);\r\n    log(&quot;MyRecorder: &quot; + ref);\r\n    log(&quot;ref.getClass().getName(): &quot; + ref.getClass().getName());\r\n}\r\n```\r\n\r\nHowever, these code result in `java.lang.VerifyError: (...) Expecting to find object/array on stack`. I have no idea why this can not work. If this way is not right, how can I monitor the object creation?\r\n\r\n***************************************\r\nActually, I also tried to monitor `object.&lt;init&gt;` instead of monitor the `NEW` instruction. However, with the following code, it throws `java.lang.VerifyError: (...) Unable to pop operand off an empty stack`:\r\n\r\n```java\r\npublic void visitMethodInsn(int opc, String owner, String name, String desc, boolean isInterface) {\r\n    ...\r\n    mv.visitMethodInsn(opc, owner, name, desc, isInterface);\r\n    if (opc == INVOKESPECIAL &amp;&amp; name.equals(&quot;&lt;init&gt;&quot;)) {\r\n        mv.visitInsn(DUP);\r\n        mv.visitMethodInsn(INVOKESTATIC, &quot;org/myekstazi/agent/PurityRecorder&quot;, &quot;object_new&quot;,\r\n                &quot;(Ljava/lang/Object;)V&quot;, false);\r\n    }\r\n}\r\n```","title":"&quot;VerifyError: Expecting to find object/array on stack&quot; when using ASM to monitor object creation in Java?","body":"<p>What I want to do is to monitor the object creation and record a unique ID for that object. So I use ASM to monitor the \"NEW\" instruction. In my method vistor adapter:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void visitTypeInsn(int opcode, String desc){\n    mv.visitTypeInsn(opcode, desc);\n    if (opcode == NEW){\n        mv.visitInsn(DUP);\n        mv.visitMethodInsn(INVOKESTATIC, \"org/.../.../MyRecorder\", \"object_new\",\n                \"(Ljava/lang/Object;)V\", false);\n    }\n}\n</code></pre>\n\n<p>In <code>MyRecorder.java</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void object_new(Object ref){\n    log(\"object_new !\");\n    log(\"MyRecorder: \" + ref);\n    log(\"ref.getClass().getName(): \" + ref.getClass().getName());\n}\n</code></pre>\n\n<p>However, these code result in <code>java.lang.VerifyError: (...) Expecting to find object/array on stack</code>. I have no idea why this can not work. If this way is not right, how can I monitor the object creation?</p>\n\n<hr>\n\n<p>Actually, I also tried to monitor <code>object.&lt;init&gt;</code> instead of monitor the <code>NEW</code> instruction. However, with the following code, it throws <code>java.lang.VerifyError: (...) Unable to pop operand off an empty stack</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void visitMethodInsn(int opc, String owner, String name, String desc, boolean isInterface) {\n    ...\n    mv.visitMethodInsn(opc, owner, name, desc, isInterface);\n    if (opc == INVOKESPECIAL &amp;&amp; name.equals(\"&lt;init&gt;\")) {\n        mv.visitInsn(DUP);\n        mv.visitMethodInsn(INVOKESTATIC, \"org/myekstazi/agent/PurityRecorder\", \"object_new\",\n                \"(Ljava/lang/Object;)V\", false);\n    }\n}\n</code></pre>\n"},{"tags":["java","javax.imageio"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1594490256,"post_id":62852645,"comment_id":111146974,"body_markdown":"Please show **how** you are loading the image. Also, asking for library suggestions is off-topic.","body":"Please show <b>how</b> you are loading the image. Also, asking for library suggestions is off-topic."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1594490977,"post_id":62852645,"comment_id":111147187,"body_markdown":"Can you post a link to the image so that I can see how long it takes to load on my machine?","body":"Can you post a link to the image so that I can see how long it takes to load on my machine?"},{"owner":{"account_id":8440460,"reputation":16742,"user_id":6849682,"accept_rate":33,"display_name":"bigbounty"},"score":0,"creation_date":1594491314,"post_id":62852645,"comment_id":111147284,"body_markdown":"https://stackoverflow.com/questions/10593935/java-load-images-faster","body":"<a href=\"https://stackoverflow.com/questions/10593935/java-load-images-faster\" title=\"java load images faster\">stackoverflow.com/questions/10593935/java-load-images-faster</a>"},{"owner":{"account_id":18382810,"reputation":177,"user_id":13390550,"display_name":"rohit"},"score":0,"creation_date":1594491569,"post_id":62852645,"comment_id":111147377,"body_markdown":"@Mark edited the quest for more clarity.","body":"@Mark edited the quest for more clarity."},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1594493997,"post_id":62852645,"comment_id":111148099,"body_markdown":"Could you avoid making a temp file?  Perhaps by using   something like  BufferedImage originalImage = ImageIO.read(theRequest.getInputStream());","body":"Could you avoid making a temp file?  Perhaps by using   something like  BufferedImage originalImage = ImageIO.read(theRequest.getInputStream());"},{"owner":{"account_id":5621248,"reputation":996,"user_id":4451010,"display_name":"Ilya Lapitan"},"score":0,"creation_date":1594494086,"post_id":62852645,"comment_id":111148133,"body_markdown":"Please, update the question with the Java version used in your application.","body":"Please, update the question with the Java version used in your application."},{"owner":{"account_id":18382810,"reputation":177,"user_id":13390550,"display_name":"rohit"},"score":0,"creation_date":1594496037,"post_id":62852645,"comment_id":111148723,"body_markdown":"i am using jdk-14.0.1 @rickz i cannot avoid copying the file to temp dir as i need the original file.","body":"i am using jdk-14.0.1 @rickz i cannot avoid copying the file to temp dir as i need the original file."},{"owner":{"account_id":1630483,"reputation":4039,"user_id":1505146,"accept_rate":50,"display_name":"Tasos P."},"score":0,"creation_date":1594497728,"post_id":62852645,"comment_id":111149238,"body_markdown":"What is the actual use case? Are you loading the image in order to generate thumbnails? Batch conversion/editing? There are performance techniques you could use for certain use cases.","body":"What is the actual use case? Are you loading the image in order to generate thumbnails? Batch conversion/editing? There are performance techniques you could use for certain use cases."},{"owner":{"account_id":18382810,"reputation":177,"user_id":13390550,"display_name":"rohit"},"score":1,"creation_date":1594504742,"post_id":62852645,"comment_id":111151241,"body_markdown":"@Cascader i need to resize these images using  `java.awt.Graphics2D` . i have a bunch of 6-7 images and every images will be resized in 2 variants. First variant would be **350*300 (for thumbnail)** and another variant would be  **100*100**. Both Variant of images will be then stored to aws s3. i have everything ready but the only concern is the image processing(especially `ImageIO.read`) takes more than 10 seconds which we cannot afford.","body":"@Cascader i need to resize these images using  <code>java.awt.Graphics2D</code> . i have a bunch of 6-7 images and every images will be resized in 2 variants. First variant would be <b>350*300 (for thumbnail)</b> and another variant would be  <b>100*100</b>. Both Variant of images will be then stored to aws s3. i have everything ready but the only concern is the image processing(especially <code>ImageIO.read</code>) takes more than 10 seconds which we cannot afford."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1594509566,"post_id":62852645,"comment_id":111152191,"body_markdown":"(1-) you asked this question yesterday and where asked 1) to post your [mre] demonstrating the problem and 2) for a link to the image. You have repeated the same question and not provided any additional information. Your question is about ImageIO, so create an example only using ImageIO. The extra code you posted has nothing to do with ImageIO and I would guess that is where the real problem is.","body":"(1-) you asked this question yesterday and where asked 1) to post your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem and 2) for a link to the image. You have repeated the same question and not provided any additional information. Your question is about ImageIO, so create an example only using ImageIO. The extra code you posted has nothing to do with ImageIO and I would guess that is where the real problem is."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1594541934,"post_id":62852645,"comment_id":111157463,"body_markdown":"@camickr I knew this question was familiar! However, I couldn&#39;t find it. Looks like the OP deleted it and re-posted it as a new question.","body":"@camickr I knew this question was familiar! However, I couldn&#39;t find it. Looks like the OP deleted it and re-posted it as a new question."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1594624262,"post_id":62852645,"comment_id":111178681,"body_markdown":"It is worth checking results on latest JDK. If loading  progressive JPG see also https://stackoverflow.com/questions/29705050/reading-a-progressively-encoded-9000x9000-jpeg-in-java-takes-1-minute/29750246","body":"It is worth checking results on latest JDK. If loading  progressive JPG see also <a href=\"https://stackoverflow.com/questions/29705050/reading-a-progressively-encoded-9000x9000-jpeg-in-java-takes-1-minute/29750246\" title=\"reading a progressively encoded 9000x9000 jpeg in java takes 1 minute\">stackoverflow.com/questions/29705050/&hellip;</a>"},{"owner":{"account_id":18382810,"reputation":177,"user_id":13390550,"display_name":"rohit"},"score":1,"creation_date":1594724181,"post_id":62852645,"comment_id":111219454,"body_markdown":"Thanks for all your valuable suggestions.I tried all solutions given by you guys. Instead of using imageIO i used `Image image = new ImageIcon(file.getAbsolutePath()).getImage();` for file reading and it reduced the time by almost half.","body":"Thanks for all your valuable suggestions.I tried all solutions given by you guys. Instead of using imageIO i used <code>Image image = new ImageIcon(file.getAbsolutePath()).getImage();</code> for file reading and it reduced the time by almost half."}],"answers":[{"tags":[],"owner":{"account_id":5621248,"reputation":996,"user_id":4451010,"display_name":"Ilya Lapitan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594499174,"creation_date":1594499174,"answer_id":62854213,"question_id":62852645,"body_markdown":"I would recommend trying to use classes from the  ```javax.imageio.stream``` package:\r\n\r\n- if you want to keep your **solution with the temp file**:\r\n\r\n````lang-java   \r\nFileInputStream fileInputStream = new FileInputStream(uploadedImageFile);\r\nFileCacheImageInputStream fileCache = new FileCacheImageInputStream​(fileInputStream, new File(tempPath));\r\nBufferedImage bufferedImage =  ImageIO.read(fileCache);\r\n````\r\n\r\n- if you have enough memory you can use **solution with the memory cache**:\r\n\r\n````lang-java\r\nFileInputStream fileInputStream = new FileInputStream(uploadedImageFile);\r\nMemoryCacheImageInputStream memoryCache = new MemoryCacheImageInputStream(fileInputStream);\r\nBufferedImage bufferedImage =  ImageIO.read(memoryCache);\r\n````\r\n\r\n","title":"Efficient way to read an image file using Java","body":"<p>I would recommend trying to use classes from the  <code>javax.imageio.stream</code> package:</p>\n<ul>\n<li>if you want to keep your <strong>solution with the temp file</strong>:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>FileInputStream fileInputStream = new FileInputStream(uploadedImageFile);\nFileCacheImageInputStream fileCache = new FileCacheImageInputStream​(fileInputStream, new File(tempPath));\nBufferedImage bufferedImage =  ImageIO.read(fileCache);\n</code></pre>\n<ul>\n<li>if you have enough memory you can use <strong>solution with the memory cache</strong>:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>FileInputStream fileInputStream = new FileInputStream(uploadedImageFile);\nMemoryCacheImageInputStream memoryCache = new MemoryCacheImageInputStream(fileInputStream);\nBufferedImage bufferedImage =  ImageIO.read(memoryCache);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1630483,"reputation":4039,"user_id":1505146,"accept_rate":50,"display_name":"Tasos P."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594506189,"creation_date":1594505744,"answer_id":62855174,"question_id":62852645,"body_markdown":"First of all, I have to say that 9 seconds for a 5Mb image seem too much for modern hardware. Sure, complex images or sophisticated formats (i.e. multi-page tiff) can take longer but my low-end PC needs 1.3 seconds for a 5mb JPG. I would definitely try to identify hardware and/or OS level issues.\r\n\r\nHaving that said, here is my proposed solution for faster image loading since the use case is to generate thumbnails. The key point here is that we can instruct the image reader to only read _part_ of the image from disk, since we need less image data to generate a thumbnail. This technique (sub-sampling) can be realized for JPG as:\r\n\r\n```lang-java\r\nIterator&lt;ImageReader&gt; imageReadersByFormatName = ImageIO.getImageReadersByFormatName(&quot;jpg&quot;);\r\nImageReader ir = imageReadersByFormatName.next(); //There should be at least the default com.sun.imageio.plugins.jpeg.JPEGImageReader installed\r\nImageReadParam defaultReadParam = ir.getDefaultReadParam();\r\ndefaultReadParam.setSourceSubsampling(8, 8, 0, 0); //Configure the reader to read every 8th row / 8th column of the image\r\nir.setInput(ImageIO.createImageInputStream(new FileInputStream(IMAGE_PATH)), true);\r\nBufferedImage image = ir.read(0, defaultReadParam);\r\n```\r\n\r\nYou will have to determine the optimal values for X-axis and Y-axis sub-sampling (first two parameters to `setSourceSubsampling()`). This will be a speed/image quality trade-off. \r\n\r\nThere are more configuration options for [ImageReadParam](https://docs.oracle.com/javase/7/docs/api/javax/imageio/ImageReadParam.html).\r\n\r\nBonus material: Since you are using AWS, you might consider [this approach](https://aws.amazon.com/blogs/compute/resize-images-on-the-fly-with-amazon-s3-aws-lambda-and-amazon-api-gateway/) in order to delegate this task to a lambda function (i.e. if this task can be done asynchronously). ","title":"Efficient way to read an image file using Java","body":"<p>First of all, I have to say that 9 seconds for a 5Mb image seem too much for modern hardware. Sure, complex images or sophisticated formats (i.e. multi-page tiff) can take longer but my low-end PC needs 1.3 seconds for a 5mb JPG. I would definitely try to identify hardware and/or OS level issues.</p>\n<p>Having that said, here is my proposed solution for faster image loading since the use case is to generate thumbnails. The key point here is that we can instruct the image reader to only read <em>part</em> of the image from disk, since we need less image data to generate a thumbnail. This technique (sub-sampling) can be realized for JPG as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Iterator&lt;ImageReader&gt; imageReadersByFormatName = ImageIO.getImageReadersByFormatName(&quot;jpg&quot;);\nImageReader ir = imageReadersByFormatName.next(); //There should be at least the default com.sun.imageio.plugins.jpeg.JPEGImageReader installed\nImageReadParam defaultReadParam = ir.getDefaultReadParam();\ndefaultReadParam.setSourceSubsampling(8, 8, 0, 0); //Configure the reader to read every 8th row / 8th column of the image\nir.setInput(ImageIO.createImageInputStream(new FileInputStream(IMAGE_PATH)), true);\nBufferedImage image = ir.read(0, defaultReadParam);\n</code></pre>\n<p>You will have to determine the optimal values for X-axis and Y-axis sub-sampling (first two parameters to <code>setSourceSubsampling()</code>). This will be a speed/image quality trade-off.</p>\n<p>There are more configuration options for <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/imageio/ImageReadParam.html\" rel=\"nofollow noreferrer\">ImageReadParam</a>.</p>\n<p>Bonus material: Since you are using AWS, you might consider <a href=\"https://aws.amazon.com/blogs/compute/resize-images-on-the-fly-with-amazon-s3-aws-lambda-and-amazon-api-gateway/\" rel=\"nofollow noreferrer\">this approach</a> in order to delegate this task to a lambda function (i.e. if this task can be done asynchronously).</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647016535,"creation_date":1594565811,"answer_id":62862626,"question_id":62852645,"body_markdown":"Your time of 9 seconds looks bad - I wonder if you&#39;ve included all code and timing of just  `ImageIO.read(File)`? \r\n\r\nHowever I found that `ImageIO.read(File)` quite slow on non-SSD drives (ie 500ms to 1 second). When testing NAS and HDD drives on my PC 4-6MB some image reads used `InputStream.read()` up to 1000 times. I found that that elapsed time for loads are reduced if entire image was read into memory before calling ImageIO.read:\r\n\r\n    static BufferedImage load(File f) throws IOException\r\n    {\r\n        byte[] bytes = Files.readAllBytes(f.toPath());\r\n        try (InputStream is = new ByteArrayInputStream(bytes))\r\n        {\r\n            return ImageIO.read(is);\r\n        }\r\n    }\r\n\r\nThis solution can slow down access time on SSD drives a little (which was not an issue for me at ~ 20ms), but the margin of gain on NAS/network drive was 50-250ms on my PC. \r\n\r\nObviously the timings you observe would depend on your hardware, image file size and types but it may be worth trying in your particular case.\r\n\r\nIf you need to load several images you can split the file I/O and ImageIO calls to separate threads for a small extra gain, but at cost of extra complexity and memory footprint.\r\n","title":"Efficient way to read an image file using Java","body":"<p>Your time of 9 seconds looks bad - I wonder if you've included all code and timing of just  <code>ImageIO.read(File)</code>?</p>\n<p>However I found that <code>ImageIO.read(File)</code> quite slow on non-SSD drives (ie 500ms to 1 second). When testing NAS and HDD drives on my PC 4-6MB some image reads used <code>InputStream.read()</code> up to 1000 times. I found that that elapsed time for loads are reduced if entire image was read into memory before calling ImageIO.read:</p>\n<pre><code>static BufferedImage load(File f) throws IOException\n{\n    byte[] bytes = Files.readAllBytes(f.toPath());\n    try (InputStream is = new ByteArrayInputStream(bytes))\n    {\n        return ImageIO.read(is);\n    }\n}\n</code></pre>\n<p>This solution can slow down access time on SSD drives a little (which was not an issue for me at ~ 20ms), but the margin of gain on NAS/network drive was 50-250ms on my PC.</p>\n<p>Obviously the timings you observe would depend on your hardware, image file size and types but it may be worth trying in your particular case.</p>\n<p>If you need to load several images you can split the file I/O and ImageIO calls to separate threads for a small extra gain, but at cost of extra complexity and memory footprint.</p>\n"}],"owner":{"account_id":18382810,"reputation":177,"user_id":13390550,"display_name":"rohit"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4871,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1647016535,"creation_date":1594489793,"question_id":62852645,"body_markdown":"I am using ``` javax.imageio.ImageIO.read() ``` which almost takes 9 seconds to read an image having size 5 mb and located at windows temp location, PFB the screenshot of Jprofiler. i want a more efficient way which can decrease the time to at least 2-3 seconds.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe file is coming as a org.springframework.web.multipart.MultipartFile request through rest endpoint and then getting copied to the windows temp location for further proccessing. The complete code block:\r\n```\r\nString fileName = StringUtils.cleanPath(multipartFile.getOriginalFilename());\r\nPath destinationPath = Paths.get(System.getProperty(&quot;java.io.tmpdir&quot;));\r\nString tempPath = destinationPath.resolve(fileName).toString();\r\nFile uploadedImageFile = new File(tempPath);\r\nFile originalFileInTempLocation = file.transferTo(uploadedImageFile);\r\nBufferedImage originalImage = ImageIO.read(originalFileInTempLocation);\r\n```\r\nWhile googling i found a 3rd party library which claims to be more efficient than ``` javax.imageio.ImageIO ``` but its a paid one: https://files.idrsolutions.com/maven/site/jdeli/apidocs/com/idrsolutions/image/JDeli.html#read(java.io.File).\r\n\r\nCan anyone suggest a better and efficient way to read the image file.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lyjp8.jpg","title":"Efficient way to read an image file using Java","body":"<p>I am using <code>javax.imageio.ImageIO.read()</code> which almost takes 9 seconds to read an image having size 5 mb and located at windows temp location, PFB the screenshot of Jprofiler. i want a more efficient way which can decrease the time to at least 2-3 seconds.</p>\n<p><a href=\"https://i.stack.imgur.com/lyjp8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lyjp8.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The file is coming as a org.springframework.web.multipart.MultipartFile request through rest endpoint and then getting copied to the windows temp location for further proccessing. The complete code block:</p>\n<pre><code>String fileName = StringUtils.cleanPath(multipartFile.getOriginalFilename());\nPath destinationPath = Paths.get(System.getProperty(&quot;java.io.tmpdir&quot;));\nString tempPath = destinationPath.resolve(fileName).toString();\nFile uploadedImageFile = new File(tempPath);\nFile originalFileInTempLocation = file.transferTo(uploadedImageFile);\nBufferedImage originalImage = ImageIO.read(originalFileInTempLocation);\n</code></pre>\n<p>While googling i found a 3rd party library which claims to be more efficient than <code>javax.imageio.ImageIO</code> but its a paid one: <a href=\"https://files.idrsolutions.com/maven/site/jdeli/apidocs/com/idrsolutions/image/JDeli.html#read(java.io.File)\" rel=\"nofollow noreferrer\">https://files.idrsolutions.com/maven/site/jdeli/apidocs/com/idrsolutions/image/JDeli.html#read(java.io.File)</a>.</p>\n<p>Can anyone suggest a better and efficient way to read the image file.</p>\n"},{"tags":["java","spring","postgresql","jpql"],"answers":[{"tags":[],"owner":{"display_name":"user18098820"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647016273,"creation_date":1647016273,"answer_id":71441682,"question_id":71439838,"body_markdown":"Here we present the duplicates in 2 different ways. The first is the format you have requested, with additional information. The second is more concise.\r\n&lt;!-- --&gt;\r\n&gt;     create table t1(\r\n&gt;     id varchar(10),\r\n&gt;     col1 varchar(10),\r\n&gt;     col2 varchar(10),\r\n&gt;     col3 varchar(10),\r\n&gt;     col4 varchar(10));\r\n\r\n&gt;     insert into t1 values\r\n&gt;     (&#39;1&#39;,&#39;ab&#39;,&#39;cd&#39;,&#39;ef&#39;,&#39;1&#39;),\r\n&gt;     (&#39;2&#39;,&#39;ad&#39;,&#39;bg&#39;,&#39;ee&#39;,&#39;5&#39;),\r\n&gt;     (&#39;3&#39;,&#39;xx&#39;,&#39;bg&#39;,&#39;cc&#39;,&#39;6&#39;),\r\n&gt;     (&#39;4&#39;,&#39;vv&#39;,&#39;zz&#39;,&#39;ff&#39;,&#39;4&#39;),\r\n&gt;     (&#39;5&#39;,&#39;zz&#39;,&#39;ee&#39;,&#39;gg&#39;,&#39;4&#39;),\r\n&gt;     (&#39;6&#39;,&#39;zz&#39;,&#39;vv&#39;,&#39;zz&#39;,&#39;2&#39;),\r\n&gt;     (&#39;7&#39;,&#39;vv&#39;,&#39;aa&#39;,&#39;bb&#39;,&#39;8&#39;),\r\n&gt;     (&#39;8&#39;,&#39;ww&#39;,&#39;nn&#39;,&#39;zz&#39;,&#39;4&#39;),\r\n&gt;     (&#39;9&#39;,&#39;zz&#39;,&#39;yy&#39;,&#39;ff&#39;,&#39;9&#39;),\r\n&gt;     (&#39;10&#39;,&#39;qq&#39;,&#39;oo&#39;,&#39;ii&#39;,&#39;3&#39;);\r\n&gt; \r\n\r\n\r\n&lt;!-- --&gt;\r\n&gt;     select * from t1;\r\n&gt; \r\n&gt; &lt;pre&gt;\r\n&gt; id | col1 | col2 | col3 | col4\r\n&gt; :- | :--- | :--- | :--- | :---\r\n&gt; 1  | ab   | cd   | ef   | 1   \r\n&gt; 2  | ad   | bg   | ee   | 5   \r\n&gt; 3  | xx   | bg   | cc   | 6   \r\n&gt; 4  | vv   | zz   | ff   | 4   \r\n&gt; 5  | zz   | ee   | gg   | 4   \r\n&gt; 6  | zz   | vv   | zz   | 2   \r\n&gt; 7  | vv   | aa   | bb   | 8   \r\n&gt; 8  | ww   | nn   | zz   | 4   \r\n&gt; 9  | zz   | yy   | ff   | 9   \r\n&gt; 10 | qq   | oo   | ii   | 3   \r\n&gt; &lt;/pre&gt;\r\n\r\n&lt;!-- --&gt;\r\n&gt;     with cte as(\r\n&gt;     select\r\n&gt;       id,\r\n&gt;       col1,\r\n&gt;       col2,\r\n&gt;       col3,\r\n&gt;       col4,\r\n&gt;       row_number() over \r\n&gt;         ( partition by col1\r\n&gt;           order by id desc) r1,\r\n&gt;     row_number() over \r\n&gt;         ( partition by col2\r\n&gt;           order by id desc) r2,\r\n&gt;     row_number() over \r\n&gt;         ( partition by col3\r\n&gt;           order by id desc) r3,\r\n&gt;     row_number() over \r\n&gt;         ( partition by col4\r\n&gt;           order by id desc) r4\r\n&gt;     from t1 \r\n&gt;      )\r\n&gt;     select * \r\n&gt;     from cte\r\n&gt;     where\r\n&gt;     r1 &gt; 1\r\n&gt;     or r2 &gt; 1\r\n&gt;     or r3 &gt; 1\r\n&gt;     or r4 &gt; 1;\r\n\r\n&gt; \r\n&gt; &lt;pre&gt;\r\n&gt; id | col1 | col2 | col3 | col4 | r1 | r2 | r3 | r4\r\n&gt; :- | :--- | :--- | :--- | :--- | -: | -: | -: | -:\r\n&gt; 6  | zz   | vv   | zz   | 2    |  2 |  1 |  2 |  1\r\n&gt; 5  | zz   | ee   | gg   | 4    |  3 |  1 |  1 |  2\r\n&gt; 4  | vv   | zz   | ff   | 4    |  2 |  1 |  2 |  3\r\n&gt; 2  | ad   | bg   | ee   | 5    |  1 |  2 |  1 |  1\r\n&gt; &lt;/pre&gt;\r\n\r\n&lt;!-- --&gt;\r\n&gt;     \r\n&gt;     select &#39;col1&#39; as &quot;column&quot;,\r\n&gt;        col1 &quot;value&quot;, \r\n&gt;        count(id) &quot;count&quot;\r\n&gt;     from t1 group by col1\r\n&gt;     having count(id)&gt;1\r\n&gt;     union all\r\n&gt;     select &#39;col2&#39;,col2, count(id)\r\n&gt;     from t1 group by col2\r\n&gt;     having count(id)&gt;1\r\n&gt;     union all\r\n&gt;     select &#39;col3&#39;,col3, count(id)\r\n&gt;     from t1 group by col3\r\n&gt;     having count(id)&gt;1\r\n&gt;     union all\r\n&gt;     select &#39;col4&#39;,col4, count(id)\r\n&gt;     from t1 group by col4\r\n&gt;     having count(id)&gt;1\r\n&gt;     order by &quot;column&quot;,&quot;value&quot;;\r\n\r\n&gt; &lt;pre&gt;\r\n&gt; column | value | count\r\n&gt; :----- | :---- | ----:\r\n&gt; col1   | vv    |     2\r\n&gt; col1   | zz    |     3\r\n&gt; col2   | bg    |     2\r\n&gt; col3   | ff    |     2\r\n&gt; col3   | zz    |     2\r\n&gt; col4   | 4     |     3\r\n&gt; &lt;/pre&gt;\r\n\r\n*db&lt;&gt;fiddle [here](https://dbfiddle.uk/?rdbms=mysql_8.0&amp;fiddle=80ccc10f712b5a61ed592bf98770cbec)*","title":"Finding duplicates from column in the rest of database with JPA","body":"<p>Here we present the duplicates in 2 different ways. The first is the format you have requested, with additional information. The second is more concise.</p>\n\n<blockquote>\n<pre><code>create table t1(\nid varchar(10),\ncol1 varchar(10),\ncol2 varchar(10),\ncol3 varchar(10),\ncol4 varchar(10));\n</code></pre>\n</blockquote>\n<blockquote>\n<pre><code>insert into t1 values\n('1','ab','cd','ef','1'),\n('2','ad','bg','ee','5'),\n('3','xx','bg','cc','6'),\n('4','vv','zz','ff','4'),\n('5','zz','ee','gg','4'),\n('6','zz','vv','zz','2'),\n('7','vv','aa','bb','8'),\n('8','ww','nn','zz','4'),\n('9','zz','yy','ff','9'),\n('10','qq','oo','ii','3');\n</code></pre>\n</blockquote>\n\n<blockquote>\n<pre><code>select * from t1;\n</code></pre>\n<pre>\nid | col1 | col2 | col3 | col4\n:- | :--- | :--- | :--- | :---\n1  | ab   | cd   | ef   | 1   \n2  | ad   | bg   | ee   | 5   \n3  | xx   | bg   | cc   | 6   \n4  | vv   | zz   | ff   | 4   \n5  | zz   | ee   | gg   | 4   \n6  | zz   | vv   | zz   | 2   \n7  | vv   | aa   | bb   | 8   \n8  | ww   | nn   | zz   | 4   \n9  | zz   | yy   | ff   | 9   \n10 | qq   | oo   | ii   | 3   \n</pre>\n</blockquote>\n\n<blockquote>\n<pre><code>with cte as(\nselect\n  id,\n  col1,\n  col2,\n  col3,\n  col4,\n  row_number() over \n    ( partition by col1\n      order by id desc) r1,\nrow_number() over \n    ( partition by col2\n      order by id desc) r2,\nrow_number() over \n    ( partition by col3\n      order by id desc) r3,\nrow_number() over \n    ( partition by col4\n      order by id desc) r4\nfrom t1 \n )\nselect * \nfrom cte\nwhere\nr1 &gt; 1\nor r2 &gt; 1\nor r3 &gt; 1\nor r4 &gt; 1;\n</code></pre>\n</blockquote>\n<blockquote>\n<pre>\nid | col1 | col2 | col3 | col4 | r1 | r2 | r3 | r4\n:- | :--- | :--- | :--- | :--- | -: | -: | -: | -:\n6  | zz   | vv   | zz   | 2    |  2 |  1 |  2 |  1\n5  | zz   | ee   | gg   | 4    |  3 |  1 |  1 |  2\n4  | vv   | zz   | ff   | 4    |  2 |  1 |  2 |  3\n2  | ad   | bg   | ee   | 5    |  1 |  2 |  1 |  1\n</pre>\n</blockquote>\n\n<blockquote>\n<pre><code>select 'col1' as &quot;column&quot;,\n   col1 &quot;value&quot;, \n   count(id) &quot;count&quot;\nfrom t1 group by col1\nhaving count(id)&gt;1\nunion all\nselect 'col2',col2, count(id)\nfrom t1 group by col2\nhaving count(id)&gt;1\nunion all\nselect 'col3',col3, count(id)\nfrom t1 group by col3\nhaving count(id)&gt;1\nunion all\nselect 'col4',col4, count(id)\nfrom t1 group by col4\nhaving count(id)&gt;1\norder by &quot;column&quot;,&quot;value&quot;;\n</code></pre>\n</blockquote>\n<blockquote>\n<pre>\ncolumn | value | count\n:----- | :---- | ----:\ncol1   | vv    |     2\ncol1   | zz    |     3\ncol2   | bg    |     2\ncol3   | ff    |     2\ncol3   | zz    |     2\ncol4   | 4     |     3\n</pre>\n</blockquote>\n<p><em>db&lt;&gt;fiddle <a href=\"https://dbfiddle.uk/?rdbms=mysql_8.0&amp;fiddle=80ccc10f712b5a61ed592bf98770cbec\" rel=\"nofollow noreferrer\">here</a></em></p>\n"}],"owner":{"account_id":24527471,"reputation":1,"user_id":18439744,"display_name":"Andrzej Nowak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647016273,"creation_date":1647008048,"question_id":71439838,"body_markdown":"I&#39;ve got few columns in my db. I want to choose one and then return all of the records where values are duplicated. So I want to like, get one column and check which values from my column appeared from the rest of the db. Then return this records. Let&#39;s say that database looks like this:\r\n```sql\r\nid;col1;col2;col3;col4\r\n\r\n&#39;1&#39;,&#39;ab&#39;,&#39;cd&#39;,&#39;ef&#39;,&#39;1&#39;\r\n&#39;2&#39;,&#39;ad&#39;,&#39;bg&#39;,&#39;ee&#39;,&#39;5&#39;\r\n&#39;3&#39;,&#39;xx&#39;,&#39;bg&#39;,&#39;cc&#39;,&#39;6&#39;\r\n&#39;4&#39;,&#39;vv&#39;,&#39;zz&#39;,&#39;ff&#39;,&#39;4&#39;\r\n&#39;5&#39;,&#39;zz&#39;,&#39;ee&#39;,&#39;gg&#39;,&#39;4&#39;\r\n&#39;6&#39;,&#39;zz&#39;,&#39;vv&#39;,&#39;zz&#39;,&#39;2&#39;\r\n&#39;7&#39;,&#39;vv&#39;,&#39;aa&#39;,&#39;bb&#39;,&#39;8&#39;\r\n&#39;8&#39;,&#39;ww&#39;,&#39;nn&#39;,&#39;zz&#39;,&#39;4&#39;\r\n&#39;9&#39;,&#39;zz&#39;,&#39;yy&#39;,&#39;ff&#39;,&#39;9&#39;\r\n&#39;10&#39;,&#39;qq&#39;,&#39;oo&#39;,&#39;ii&#39;,&#39;3&#39;\r\n```\r\nand I want my result for col1 to look like so\r\n\r\n```\r\n4,&#39;vv&#39;,&#39;zz&#39;,&#39;ff&#39;,4\r\n5,&#39;zz&#39;,&#39;ee&#39;,&#39;gg&#39;,4\r\n6,&#39;zz&#39;,&#39;vv&#39;,&#39;zz&#39;,2\r\n7,&#39;vv&#39;,&#39;aa&#39;,&#39;bb&#39;,8\r\n9,&#39;zz&#39;,&#39;yy&#39;,&#39;ff&#39;,9\r\n```","title":"Finding duplicates from column in the rest of database with JPA","body":"<p>I've got few columns in my db. I want to choose one and then return all of the records where values are duplicated. So I want to like, get one column and check which values from my column appeared from the rest of the db. Then return this records. Let's say that database looks like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>id;col1;col2;col3;col4\n\n'1','ab','cd','ef','1'\n'2','ad','bg','ee','5'\n'3','xx','bg','cc','6'\n'4','vv','zz','ff','4'\n'5','zz','ee','gg','4'\n'6','zz','vv','zz','2'\n'7','vv','aa','bb','8'\n'8','ww','nn','zz','4'\n'9','zz','yy','ff','9'\n'10','qq','oo','ii','3'\n</code></pre>\n<p>and I want my result for col1 to look like so</p>\n<pre><code>4,'vv','zz','ff',4\n5,'zz','ee','gg',4\n6,'zz','vv','zz',2\n7,'vv','aa','bb',8\n9,'zz','yy','ff',9\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-security","spring-annotations"],"comments":[{"owner":{"account_id":7926575,"reputation":16936,"user_id":5985853,"display_name":"Alexey Soshin"},"score":2,"creation_date":1480684720,"post_id":40933111,"comment_id":69077236,"body_markdown":"Check your pom.xml. This usually happens when you have different versions of Spring libraries.","body":"Check your pom.xml. This usually happens when you have different versions of Spring libraries."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1480684942,"post_id":40933111,"comment_id":69077373,"body_markdown":"Hint: java.lang.NoClassDefFoundError: org/springframework/beans/factory/SmartInitializingSingleton.  As Alexey written, check pom and respective dependencies and versions.","body":"Hint: java.lang.NoClassDefFoundError: org/springframework/beans/factory/SmartInitializingSingleton&zwnj;&#8203;.  As Alexey written, check pom and respective dependencies and versions."},{"owner":{"account_id":9534985,"reputation":11,"user_id":7085446,"display_name":"Krzysztof Antczak"},"score":0,"creation_date":1480685449,"post_id":40933111,"comment_id":69077676,"body_markdown":"Thanks a lot thats right, my spring version and spring-security version was different in pom.xml. Works fine now.","body":"Thanks a lot thats right, my spring version and spring-security version was different in pom.xml. Works fine now."}],"answers":[{"tags":[],"owner":{"account_id":23076992,"reputation":91,"user_id":17189808,"display_name":"ftslaptop pc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647016109,"creation_date":1647016109,"answer_id":71441653,"question_id":40933111,"body_markdown":"I faced the same issue, so I update my spring security dependency with its version which was not added before.\r\n\r\n```&lt;version&gt;2.6.4&lt;/version&gt;```\r\n","title":"Spring security @EnableWebSecurity Error creating bean with name &#39;objectPostProcessor&#39;","body":"<p>I faced the same issue, so I update my spring security dependency with its version which was not added before.</p>\n<p><code>&lt;version&gt;2.6.4&lt;/version&gt;</code></p>\n"}],"owner":{"account_id":9534985,"reputation":11,"user_id":7085446,"display_name":"Krzysztof Antczak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1012,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647016109,"creation_date":1480684563,"question_id":40933111,"body_markdown":"Im using spring security annotations to secure my Spring MVC application.\r\nAfter adding annotation `@EnableWebSecurity` I have got stacktrace like this : \r\n\r\nStackTrace : http://pastebin.com/szigdd69\r\n\r\nMy source codes:\r\n\r\nWebAppInitializer.class\r\n\r\n    public class WebAppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer  {\r\n    \r\n    \t@Override\r\n    \tprotected Class&lt;?&gt;[] getRootConfigClasses() {\r\n    \t\treturn new Class&lt;?&gt;[]{RootConfig.class};\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected Class&lt;?&gt;[] getServletConfigClasses() {\r\n    \t\treturn new Class&lt;?&gt;[]{WebConfig.class};\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected String[] getServletMappings() {\r\n    \t\treturn new String[]{&quot;/&quot;};\r\n    \t}\r\n    }\r\n\r\nRootConfig.class  :\r\n\r\n    @Configuration\r\n    @ComponentScan(basePackages={&quot;com.antek.demoMVC&quot;},\r\n    \t\texcludeFilters={@Filter(type=FilterType.ANNOTATION,value=EnableWebMvc.class)})\r\n    public class RootConfig {\r\n    \t\r\n    \t@Bean\r\n    \tpublic TemplateEngine templateEngine(TemplateResolver templateResolver){\r\n    \t\tSpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n    \t\ttemplateEngine.setTemplateResolver(templateResolver);\r\n    \t\treturn templateEngine;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic TemplateResolver templateResolver(){\r\n    \t\tTemplateResolver templateResolver = new ServletContextTemplateResolver();\r\n    \t\ttemplateResolver.setPrefix(&quot;/WEB-INF/templates/&quot;);\r\n    \t\ttemplateResolver.setSuffix(&quot;.html&quot;);\r\n    \t\ttemplateResolver.setTemplateMode(TemplateMode.HTML5);\r\n    \t\treturn templateResolver;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nWebConfig.class :\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan(&quot;com.antek.demoMVC&quot;)\r\n    public class WebConfig extends WebMvcConfigurerAdapter{\r\n    \r\n    \t@Override\r\n    \tpublic void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\r\n    \t\tsuper.configureDefaultServletHandling(configurer);\r\n    \t\tconfigurer.enable();\r\n    \t}\r\n    \t\r\n    \r\n    \t@Bean\r\n    \tpublic ViewResolver viewResolver(SpringTemplateEngine templateEngine){\r\n    \t\tThymeleafViewResolver viewResolver = new ThymeleafViewResolver();\r\n    \t\tviewResolver.setTemplateEngine(templateEngine);\r\n    \t\treturn viewResolver;\t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nSecurityWebInitializer.class :\r\n\r\n    public class SecurityWebInitializer extends AbstractSecurityWebApplicationInitializer {\r\n    //nothing to do here.\r\n    }\r\n\r\nWebSecurityConfig.class : \r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter{\r\n    \t\r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp.authorizeRequests()\r\n    \t\t\t.anyRequest().authenticated()\r\n    \t\t\t.and()\r\n    \t\t\t.formLogin().and()\r\n    \t\t\t.httpBasic();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    \t\tauth.inMemoryAuthentication()\r\n    \t\t.withUser(&quot;user&quot;).password(&quot;1234&quot;).roles(&quot;USER&quot;)\r\n    \t\t.and()\r\n    \t\t.withUser(&quot;Admin&quot;).password(&quot;admin123&quot;).roles(&quot;USER&quot;,&quot;ADMIN&quot;);\r\n    \t}\r\n    \t    \r\n    }\r\n\r\nweb.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\n\r\nI noticed that adding `@EnableWebSecurity` annotation on `WebSecurityConfig.class` causes exception. Any idea how to resolve this problem?\r\n\r\n\r\n\r\n","title":"Spring security @EnableWebSecurity Error creating bean with name &#39;objectPostProcessor&#39;","body":"<p>Im using spring security annotations to secure my Spring MVC application.\nAfter adding annotation <code>@EnableWebSecurity</code> I have got stacktrace like this : </p>\n\n<p>StackTrace : <a href=\"http://pastebin.com/szigdd69\" rel=\"nofollow noreferrer\">http://pastebin.com/szigdd69</a></p>\n\n<p>My source codes:</p>\n\n<p>WebAppInitializer.class</p>\n\n<pre><code>public class WebAppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer  {\n\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return new Class&lt;?&gt;[]{RootConfig.class};\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return new Class&lt;?&gt;[]{WebConfig.class};\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        return new String[]{\"/\"};\n    }\n}\n</code></pre>\n\n<p>RootConfig.class  :</p>\n\n<pre><code>@Configuration\n@ComponentScan(basePackages={\"com.antek.demoMVC\"},\n        excludeFilters={@Filter(type=FilterType.ANNOTATION,value=EnableWebMvc.class)})\npublic class RootConfig {\n\n    @Bean\n    public TemplateEngine templateEngine(TemplateResolver templateResolver){\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n        templateEngine.setTemplateResolver(templateResolver);\n        return templateEngine;\n\n    }\n\n    @Bean\n    public TemplateResolver templateResolver(){\n        TemplateResolver templateResolver = new ServletContextTemplateResolver();\n        templateResolver.setPrefix(\"/WEB-INF/templates/\");\n        templateResolver.setSuffix(\".html\");\n        templateResolver.setTemplateMode(TemplateMode.HTML5);\n        return templateResolver;\n    }\n\n}\n</code></pre>\n\n<p>WebConfig.class :</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan(\"com.antek.demoMVC\")\npublic class WebConfig extends WebMvcConfigurerAdapter{\n\n    @Override\n    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\n        super.configureDefaultServletHandling(configurer);\n        configurer.enable();\n    }\n\n\n    @Bean\n    public ViewResolver viewResolver(SpringTemplateEngine templateEngine){\n        ThymeleafViewResolver viewResolver = new ThymeleafViewResolver();\n        viewResolver.setTemplateEngine(templateEngine);\n        return viewResolver;        \n    }\n\n}\n</code></pre>\n\n<p>SecurityWebInitializer.class :</p>\n\n<pre><code>public class SecurityWebInitializer extends AbstractSecurityWebApplicationInitializer {\n//nothing to do here.\n}\n</code></pre>\n\n<p>WebSecurityConfig.class : </p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter{\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n            .anyRequest().authenticated()\n            .and()\n            .formLogin().and()\n            .httpBasic();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication()\n        .withUser(\"user\").password(\"1234\").roles(\"USER\")\n        .and()\n        .withUser(\"Admin\").password(\"admin123\").roles(\"USER\",\"ADMIN\");\n    }\n\n}\n</code></pre>\n\n<p>web.xml :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app version=\"2.5\" xmlns=\"http://java.sun.com/xml/ns/javaee\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>I noticed that adding <code>@EnableWebSecurity</code> annotation on <code>WebSecurityConfig.class</code> causes exception. Any idea how to resolve this problem?</p>\n"},{"tags":["java","arrays","string","java.util.scanner"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":3,"creation_date":1647009649,"post_id":71440147,"comment_id":126271900,"body_markdown":"Try `mylist.contains(Choice)`.","body":"Try <code>mylist.contains(Choice)</code>."},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":1,"creation_date":1647009749,"post_id":71440147,"comment_id":126271943,"body_markdown":"unrelated to your issue: [java naming convention](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html)","body":"unrelated to your issue: <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">java naming convention</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1647009777,"post_id":71440147,"comment_id":126271953,"body_markdown":"`Choice.equals(mylist)` This will never be true. It is checking whether a `String` is equal to a `List`. Two variables with different types can never be equal.","body":"<code>Choice.equals(mylist)</code> This will never be true. It is checking whether a <code>String</code> is equal to a <code>List</code>. Two variables with different types can never be equal."},{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":1,"creation_date":1647010315,"post_id":71440147,"comment_id":126272199,"body_markdown":"Minor quibble: your question title is quite confused since the Scanner isn&#39;t being used to recognize anything. It is only being used to capture input from the user.","body":"Minor quibble: your question title is quite confused since the Scanner isn&#39;t being used to recognize anything. It is only being used to capture input from the user."}],"answers":[{"tags":[],"owner":{"account_id":24527925,"reputation":129,"user_id":18440149,"display_name":"Abdelkader Chhaibi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647010427,"creation_date":1647010427,"answer_id":71440375,"question_id":71440147,"body_markdown":"try to test if contains the month `list.contains()`\r\nand the days  in an other  methode just call it ","title":"How to get my scanner to recognize the words i have for it","body":"<p>try to test if contains the month <code>list.contains()</code>\nand the days  in an other  methode just call it</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647015896,"creation_date":1647014221,"answer_id":71441245,"question_id":71440147,"body_markdown":"If you are allowed to use the classes in the [java.time][1] package then you can use [Month][2] (which is an [enum][3]). That saves you from having to create your own list.\r\n\r\nAlso, after the user selects a month, she needs to select a day. I assume that the user is supposed to enter a valid day, for example entering the number 30 when the entered month is February would constitute an invalid day. For checking whether the entered day is valid, you can use class [YearMonth][4] which has a method for returning the number of days in each month and takes into consideration leap years. Refer to this SO question: [Number of days in particular month of particular year?][5]\r\n\r\nHere is a [SSCCE][6]  \r\n(Notes after the code.)\r\n```java\r\nimport java.time.LocalDate;\r\nimport java.time.Month;\r\nimport java.time.YearMonth;\r\nimport java.time.temporal.ChronoField;\r\nimport java.util.InputMismatchException;\r\nimport java.util.Scanner;\r\n\r\npublic class GameMain {\r\n\r\n    public static void main(String[] args) {\r\n        int year = LocalDate.now().get(ChronoField.YEAR);\r\n        Scanner keyboard = new Scanner(System.in);\r\n        boolean game = true;\r\n        do {\r\n            System.out.print(&quot;Please choose a month: &quot;);\r\n            String month = keyboard.nextLine();\r\n            try {\r\n                Month theMonth = Month.valueOf(month.toUpperCase());\r\n                YearMonth daysInMonth = YearMonth.of(year, theMonth);\r\n                do {\r\n                    System.out.print(&quot;Please choose a day: &quot;);\r\n                    try {\r\n                        String val = keyboard.nextLine();\r\n                        int day = Integer.parseInt(val);\r\n                        if (day &lt; 0 || day &gt; daysInMonth.lengthOfMonth()) {\r\n                            System.out.printf(&quot;%s does not have %d days.%n&quot;, theMonth, day);\r\n                        }\r\n                        else {\r\n                            game = false;\r\n                        }\r\n                    }\r\n                    catch (NumberFormatException xNumberFormat) {\r\n                        System.out.println(&quot;Please enter a number.&quot;);\r\n                    }\r\n                } while (game);\r\n            }\r\n            catch (IllegalArgumentException xIllegalArgument) {\r\n                System.out.println(&quot;That is not a valid month&quot;);\r\n            }\r\n        } while (game);\r\n    }\r\n}\r\n```\r\nNote that you only need to create a `Scanner` once. In the code in your question, you are creating a `Scanner` in every iteration of the `do-while` loop.\r\n\r\nAlso, if you enter a value that does not exist in an `enum`, an [IllegalArgumentException][8] is thrown.  \r\nAnd method `parseInt` throws `NumberFormatException` if the entered value is not an integer.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/datetime/index.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Month.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/YearMonth.html\r\n  [5]: https://stackoverflow.com/questions/8940438/number-of-days-in-particular-month-of-particular-year\r\n  [6]: http://sscce.org/\r\n  [7]: https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\r\n  [8]: https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html","title":"How to get my scanner to recognize the words i have for it","body":"<p>If you are allowed to use the classes in the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time</a> package then you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Month.html\" rel=\"nofollow noreferrer\">Month</a> (which is an <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">enum</a>). That saves you from having to create your own list.</p>\n<p>Also, after the user selects a month, she needs to select a day. I assume that the user is supposed to enter a valid day, for example entering the number 30 when the entered month is February would constitute an invalid day. For checking whether the entered day is valid, you can use class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/YearMonth.html\" rel=\"nofollow noreferrer\">YearMonth</a> which has a method for returning the number of days in each month and takes into consideration leap years. Refer to this SO question: <a href=\"https://stackoverflow.com/questions/8940438/number-of-days-in-particular-month-of-particular-year\">Number of days in particular month of particular year?</a></p>\n<p>Here is a <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a><br />\n(Notes after the code.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalDate;\nimport java.time.Month;\nimport java.time.YearMonth;\nimport java.time.temporal.ChronoField;\nimport java.util.InputMismatchException;\nimport java.util.Scanner;\n\npublic class GameMain {\n\n    public static void main(String[] args) {\n        int year = LocalDate.now().get(ChronoField.YEAR);\n        Scanner keyboard = new Scanner(System.in);\n        boolean game = true;\n        do {\n            System.out.print(&quot;Please choose a month: &quot;);\n            String month = keyboard.nextLine();\n            try {\n                Month theMonth = Month.valueOf(month.toUpperCase());\n                YearMonth daysInMonth = YearMonth.of(year, theMonth);\n                do {\n                    System.out.print(&quot;Please choose a day: &quot;);\n                    try {\n                        String val = keyboard.nextLine();\n                        int day = Integer.parseInt(val);\n                        if (day &lt; 0 || day &gt; daysInMonth.lengthOfMonth()) {\n                            System.out.printf(&quot;%s does not have %d days.%n&quot;, theMonth, day);\n                        }\n                        else {\n                            game = false;\n                        }\n                    }\n                    catch (NumberFormatException xNumberFormat) {\n                        System.out.println(&quot;Please enter a number.&quot;);\n                    }\n                } while (game);\n            }\n            catch (IllegalArgumentException xIllegalArgument) {\n                System.out.println(&quot;That is not a valid month&quot;);\n            }\n        } while (game);\n    }\n}\n</code></pre>\n<p>Note that you only need to create a <code>Scanner</code> once. In the code in your question, you are creating a <code>Scanner</code> in every iteration of the <code>do-while</code> loop.</p>\n<p>Also, if you enter a value that does not exist in an <code>enum</code>, an <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html\" rel=\"nofollow noreferrer\">IllegalArgumentException</a> is thrown.<br />\nAnd method <code>parseInt</code> throws <code>NumberFormatException</code> if the entered value is not an integer.</p>\n"}],"owner":{"account_id":24527769,"reputation":13,"user_id":18440009,"display_name":"David Armstrong"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71440375,"answer_count":2,"score":1,"last_activity_date":1647015896,"creation_date":1647009495,"question_id":71440147,"body_markdown":"I&#39;m pretty new to java and coding in general and am trying to figure out how to get this game to work for a project at school. It is meant for you to type in a month and it will then ask you to choose a day, however when I input a month it always just says its an invalid input, which is what I want it to do when it is not a valid month. What am I doing wrong?\r\n\r\n    import java.util.*;\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            boolean game = true;\r\n            do {\r\n                System.out.println(&quot;Welcome to the Famous Date game!&quot;);\r\n                System.out.println(&quot;Please choose a month&quot;);\r\n                Scanner Month = new Scanner(System.in);\r\n                String  Choice = Month.nextLine();\r\n                String[] Months = {&quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot;June&quot;,&quot;July&quot;,                    \r\n    &quot;August&quot;,&quot;September&quot;,&quot;October&quot;,&quot;November&quot;, &quot;December&quot;};\r\n                List&lt;String&gt; mylist = Arrays.asList(Months);\r\n                if (Choice.equals(mylist)) {\r\n                    System.out.println(&quot;Please choose a day&quot;);\r\n                }\r\n                else\r\n                    System.out.println(&quot;That is not a valid month&quot;);\r\n            }\r\n            while (game=true);\r\n        }\r\n    }\r\n","title":"How to get my scanner to recognize the words i have for it","body":"<p>I'm pretty new to java and coding in general and am trying to figure out how to get this game to work for a project at school. It is meant for you to type in a month and it will then ask you to choose a day, however when I input a month it always just says its an invalid input, which is what I want it to do when it is not a valid month. What am I doing wrong?</p>\n<pre><code>import java.util.*;\n\nclass Main {\n    public static void main(String[] args) {\n        boolean game = true;\n        do {\n            System.out.println(&quot;Welcome to the Famous Date game!&quot;);\n            System.out.println(&quot;Please choose a month&quot;);\n            Scanner Month = new Scanner(System.in);\n            String  Choice = Month.nextLine();\n            String[] Months = {&quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot;June&quot;,&quot;July&quot;,                    \n&quot;August&quot;,&quot;September&quot;,&quot;October&quot;,&quot;November&quot;, &quot;December&quot;};\n            List&lt;String&gt; mylist = Arrays.asList(Months);\n            if (Choice.equals(mylist)) {\n                System.out.println(&quot;Please choose a day&quot;);\n            }\n            else\n                System.out.println(&quot;That is not a valid month&quot;);\n        }\n        while (game=true);\n    }\n}\n</code></pre>\n"},{"tags":["java","gson","classpath"],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647015736,"creation_date":1647015736,"answer_id":71441563,"question_id":71437971,"body_markdown":"If your main class is in a package (has a `package ...` declaration), you need to include the package name in the `java` call, e.g. `java -cp ... mypackage.Main`.\r\n\r\nAdditionally, the [`java` documentation](https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html) says about `-cp` / `--class-path`:\r\n\r\n&gt; As a special convenience, a class path element that contains a base name of an asterisk (*) is considered equivalent to specifying a list of all the files in the directory with the extension .jar or .JAR.\r\n\r\nTherefore, using `*` for `.class` files does not work; instead you have to specify the directory name. Based on your question it looks like you are using Linux, and that the `.class` file and the JAR are in the same directory, so the following should work in your case:\r\n```\r\njava -cp gson-2.9.0.jar:. Main\r\n```\r\n(note the `.` after the `:`, indicating to include the current directory for the classpath)","title":"How to set the classpath correctly in java","body":"<p>If your main class is in a package (has a <code>package ...</code> declaration), you need to include the package name in the <code>java</code> call, e.g. <code>java -cp ... mypackage.Main</code>.</p>\n<p>Additionally, the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html\" rel=\"nofollow noreferrer\"><code>java</code> documentation</a> says about <code>-cp</code> / <code>--class-path</code>:</p>\n<blockquote>\n<p>As a special convenience, a class path element that contains a base name of an asterisk (*) is considered equivalent to specifying a list of all the files in the directory with the extension .jar or .JAR.</p>\n</blockquote>\n<p>Therefore, using <code>*</code> for <code>.class</code> files does not work; instead you have to specify the directory name. Based on your question it looks like you are using Linux, and that the <code>.class</code> file and the JAR are in the same directory, so the following should work in your case:</p>\n<pre><code>java -cp gson-2.9.0.jar:. Main\n</code></pre>\n<p>(note the <code>.</code> after the <code>:</code>, indicating to include the current directory for the classpath)</p>\n"}],"owner":{"account_id":15328869,"reputation":165,"user_id":11821180,"display_name":"Dareten"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71441563,"answer_count":1,"score":-1,"last_activity_date":1647015736,"creation_date":1646998849,"question_id":71437971,"body_markdown":"I need to compile and run simple code using the `gson` library, but I can&#39;t use Maven, Gradle or the IDE. \r\nThe directory contains `Main.java` and `gson-2.9.0.jar`\r\n\r\n`javac -cp gson-2.9.0.jar Main.java` works correctly and creates Main.class\r\n\r\nBut when I run `java -cp ./*: Main`, I get \r\n\r\n    Error: Could not find or load main class Main.\r\n    \r\n    Caused by: java.lang.ClassNotFoundException: Main\r\n\r\nI also tried the following commands:\r\n\r\n    java -cp gson-2.9.0.jar Main\r\n\r\n    java -cp gson-2.9.0.jar: Main\r\n\r\n    java -cp ./gson-2.9.0.jar:./* Main\r\n\r\nBut all these commands give the same result. I&#39;ve never had to run code from the command line without Maven or IDEA before, so I think it&#39;s the classpath specification that&#39;s the problem. What am i doing wrong here?","title":"How to set the classpath correctly in java","body":"<p>I need to compile and run simple code using the <code>gson</code> library, but I can't use Maven, Gradle or the IDE.\nThe directory contains <code>Main.java</code> and <code>gson-2.9.0.jar</code></p>\n<p><code>javac -cp gson-2.9.0.jar Main.java</code> works correctly and creates Main.class</p>\n<p>But when I run <code>java -cp ./*: Main</code>, I get</p>\n<pre><code>Error: Could not find or load main class Main.\n\nCaused by: java.lang.ClassNotFoundException: Main\n</code></pre>\n<p>I also tried the following commands:</p>\n<pre><code>java -cp gson-2.9.0.jar Main\n\njava -cp gson-2.9.0.jar: Main\n\njava -cp ./gson-2.9.0.jar:./* Main\n</code></pre>\n<p>But all these commands give the same result. I've never had to run code from the command line without Maven or IDEA before, so I think it's the classpath specification that's the problem. What am i doing wrong here?</p>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647015480,"creation_date":1646872990,"answer_id":71417603,"question_id":71417150,"body_markdown":"In the end I just plopped a check for it in every storage access operation.  So now I&#39;m able to replace the use of Redisson which was causing\r\n\r\n&gt; MOVED redirection loop detected in cluster mode  \r\n\r\nAnd the added annoyance that I had to be replicate the configuration that was already available in Spring.  Including the cluster/single node and tracing and pooling.\r\n\r\nAnyway here&#39;s the code I used to enable Spring&#39;s Redis Connection to provide the L2 Hibernate Cache.  It&#39;s pretty simple once you get over the hump of figuring out the lifecycle of the region factory in relation to Spring.  There&#39;s still the initial hit on start up before the context is created but once the app is running and the context is available it injects Redis and allows access.\r\n\r\n```java\r\npublic class SpringRedisRegionFactory extends RegionFactoryTemplate {\r\n\r\n    private transient Set&lt;DomainDataStorageAccess&gt; storageAccesses;\r\n\r\n    @Override\r\n    protected DomainDataStorageAccess createDomainDataStorageAccess(\r\n        DomainDataRegionConfig regionConfig,\r\n        DomainDataRegionBuildingContext buildingContext) {\r\n\r\n        return registerNewStorageAccess(regionConfig.getRegionName());\r\n    }\r\n\r\n    @Override\r\n    protected StorageAccess createQueryResultsRegionStorageAccess(String regionName, SessionFactoryImplementor sessionFactory) {\r\n\r\n        return registerNewStorageAccess(regionName);\r\n\r\n    }\r\n\r\n    @Override\r\n    protected StorageAccess createTimestampsRegionStorageAccess(String regionName, SessionFactoryImplementor sessionFactory) {\r\n\r\n        return registerNewStorageAccess(regionName);\r\n    }\r\n\r\n    @Override\r\n    protected void prepareForUse(SessionFactoryOptions settings, Map configValues) {\r\n\r\n        storageAccesses = ConcurrentHashMap.newKeySet();\r\n\r\n    }\r\n\r\n    private DomainDataStorageAccess registerNewStorageAccess(final String regionName) {\r\n\r\n        if (storageAccesses == null) {\r\n            throw new IllegalStateException(&quot;prepareForUse was not executed yet&quot;);\r\n        }\r\n        final var storageAccess = new SpringRedisStorageAccess(regionName);\r\n        storageAccesses.add(storageAccess);\r\n        return storageAccess;\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void releaseFromUse() {\r\n\r\n        storageAccesses.forEach(DomainDataStorageAccess::release);\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\n@Slf4j\r\npublic class SpringRedisStorageAccess implements DomainDataStorageAccess {\r\n\r\n    private final byte[] cacheRegionBytes;\r\n\r\n    private final Map&lt;Object, byte[]&gt; serializationCache = new WeakHashMap&lt;&gt;();\r\n\r\n    @Autowired\r\n    private RedisConnectionFactory redisConnectionFactory;\r\n\r\n    public SpringRedisStorageAccess(String cacheRegion) {\r\n\r\n        this.cacheRegionBytes = cacheRegion.getBytes(StandardCharsets.UTF_8);\r\n\r\n    }\r\n\r\n    /**\r\n     * @param o object\r\n     * @return byte array representation\r\n     */\r\n    private static byte[] toByteArray(Object o) {\r\n\r\n        try (final var out = new ByteArrayOutputStream();\r\n             final var oos = new ObjectOutputStream(out)) {\r\n            oos.writeObject(o);\r\n            return out.toByteArray();\r\n        } catch (IOException e) {\r\n            throw new UncheckedIOException(e);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param bytes byte array representation\r\n     * @return object or null if there&#39;s an error\r\n     */\r\n    private static Object toObject(final byte[] bytes) {\r\n\r\n        try (final var is = new ByteArrayInputStream(bytes);\r\n             final var ois = new ObjectInputStream(is)) {\r\n            return ois.readObject();\r\n        } catch (IOException e) {\r\n            log.error(&quot;IO Exception deserializing&quot;, e);\r\n            return null;\r\n        } catch (ClassNotFoundException e) {\r\n            log.error(&quot;Class Not Found Exception deserializing&quot;, e);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean contains(Object key) {\r\n\r\n        return getOptionalRedisConnection()\r\n            .map(RedisConnection::hashCommands)\r\n            .map(hashCommands -&gt; hashCommands.hExists(cacheRegionBytes, toByteArrayCaching(key)))\r\n            .orElse(false);\r\n\r\n    }\r\n\r\n    private Optional&lt;RedisConnection&gt; getOptionalRedisConnection() {\r\n\r\n        if (redisConnectionFactory != null) {\r\n            return Optional.of(redisConnectionFactory.getConnection());\r\n        }\r\n        return Optional.ofNullable(ContextLoader.getCurrentWebApplicationContext())\r\n            .map(context -&gt; {\r\n                SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\r\n                return redisConnectionFactory.getConnection();\r\n            });\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void evictData() {\r\n\r\n        getOptionalRedisConnection()\r\n            .map(RedisConnection::keyCommands)\r\n            .ifPresent(keyCommands -&gt; keyCommands.del(cacheRegionBytes));\r\n\r\n    }\r\n\r\n    @Override\r\n    public void evictData(Object key) {\r\n\r\n        getOptionalRedisConnection()\r\n            .map(RedisConnection::hashCommands)\r\n            .ifPresent(hashCommands -&gt; hashCommands.hDel(cacheRegionBytes, toByteArrayCaching(key)));\r\n\r\n    }\r\n\r\n    @Override\r\n    public Object getFromCache(Object key, SharedSessionContractImplementor session) {\r\n\r\n        return getOptionalRedisConnection()\r\n            .map(RedisConnection::hashCommands)\r\n            .map(hashCommands -&gt; hashCommands.hGet(cacheRegionBytes, toByteArrayCaching(key)))\r\n            .map(SpringRedisStorageAccess::toObject)\r\n            .orElse(null);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void putIntoCache(Object key, Object value, SharedSessionContractImplementor session) {\r\n\r\n        getOptionalRedisConnection()\r\n            .map(RedisConnection::hashCommands)\r\n            .ifPresent(hashCommands -&gt; hashCommands.hSet(cacheRegionBytes, toByteArrayCaching(key), toByteArray(value)));\r\n    }\r\n\r\n    @Override\r\n    public void release() {\r\n\r\n        getOptionalRedisConnection()\r\n            .ifPresent(RedisConnection::close);\r\n\r\n    }\r\n\r\n    /**\r\n     * Specific optimization for keys that may be repeated.\r\n     *\r\n     * @param o object\r\n     * @return byte array representation\r\n     */\r\n    private byte[] toByteArrayCaching(Object o) {\r\n\r\n        return serializationCache.computeIfAbsent(o, SpringRedisStorageAccess::toByteArray);\r\n\r\n    }\r\n\r\n}\r\n```","title":"How can I get access to a Spring context in a org.hibernate.cache.spi.RegionFactory?","body":"<p>In the end I just plopped a check for it in every storage access operation.  So now I'm able to replace the use of Redisson which was causing</p>\n<blockquote>\n<p>MOVED redirection loop detected in cluster mode</p>\n</blockquote>\n<p>And the added annoyance that I had to be replicate the configuration that was already available in Spring.  Including the cluster/single node and tracing and pooling.</p>\n<p>Anyway here's the code I used to enable Spring's Redis Connection to provide the L2 Hibernate Cache.  It's pretty simple once you get over the hump of figuring out the lifecycle of the region factory in relation to Spring.  There's still the initial hit on start up before the context is created but once the app is running and the context is available it injects Redis and allows access.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SpringRedisRegionFactory extends RegionFactoryTemplate {\n\n    private transient Set&lt;DomainDataStorageAccess&gt; storageAccesses;\n\n    @Override\n    protected DomainDataStorageAccess createDomainDataStorageAccess(\n        DomainDataRegionConfig regionConfig,\n        DomainDataRegionBuildingContext buildingContext) {\n\n        return registerNewStorageAccess(regionConfig.getRegionName());\n    }\n\n    @Override\n    protected StorageAccess createQueryResultsRegionStorageAccess(String regionName, SessionFactoryImplementor sessionFactory) {\n\n        return registerNewStorageAccess(regionName);\n\n    }\n\n    @Override\n    protected StorageAccess createTimestampsRegionStorageAccess(String regionName, SessionFactoryImplementor sessionFactory) {\n\n        return registerNewStorageAccess(regionName);\n    }\n\n    @Override\n    protected void prepareForUse(SessionFactoryOptions settings, Map configValues) {\n\n        storageAccesses = ConcurrentHashMap.newKeySet();\n\n    }\n\n    private DomainDataStorageAccess registerNewStorageAccess(final String regionName) {\n\n        if (storageAccesses == null) {\n            throw new IllegalStateException(&quot;prepareForUse was not executed yet&quot;);\n        }\n        final var storageAccess = new SpringRedisStorageAccess(regionName);\n        storageAccesses.add(storageAccess);\n        return storageAccess;\n\n    }\n\n    @Override\n    protected void releaseFromUse() {\n\n        storageAccesses.forEach(DomainDataStorageAccess::release);\n\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\npublic class SpringRedisStorageAccess implements DomainDataStorageAccess {\n\n    private final byte[] cacheRegionBytes;\n\n    private final Map&lt;Object, byte[]&gt; serializationCache = new WeakHashMap&lt;&gt;();\n\n    @Autowired\n    private RedisConnectionFactory redisConnectionFactory;\n\n    public SpringRedisStorageAccess(String cacheRegion) {\n\n        this.cacheRegionBytes = cacheRegion.getBytes(StandardCharsets.UTF_8);\n\n    }\n\n    /**\n     * @param o object\n     * @return byte array representation\n     */\n    private static byte[] toByteArray(Object o) {\n\n        try (final var out = new ByteArrayOutputStream();\n             final var oos = new ObjectOutputStream(out)) {\n            oos.writeObject(o);\n            return out.toByteArray();\n        } catch (IOException e) {\n            throw new UncheckedIOException(e);\n        }\n    }\n\n    /**\n     * @param bytes byte array representation\n     * @return object or null if there's an error\n     */\n    private static Object toObject(final byte[] bytes) {\n\n        try (final var is = new ByteArrayInputStream(bytes);\n             final var ois = new ObjectInputStream(is)) {\n            return ois.readObject();\n        } catch (IOException e) {\n            log.error(&quot;IO Exception deserializing&quot;, e);\n            return null;\n        } catch (ClassNotFoundException e) {\n            log.error(&quot;Class Not Found Exception deserializing&quot;, e);\n            return null;\n        }\n    }\n\n    @Override\n    public boolean contains(Object key) {\n\n        return getOptionalRedisConnection()\n            .map(RedisConnection::hashCommands)\n            .map(hashCommands -&gt; hashCommands.hExists(cacheRegionBytes, toByteArrayCaching(key)))\n            .orElse(false);\n\n    }\n\n    private Optional&lt;RedisConnection&gt; getOptionalRedisConnection() {\n\n        if (redisConnectionFactory != null) {\n            return Optional.of(redisConnectionFactory.getConnection());\n        }\n        return Optional.ofNullable(ContextLoader.getCurrentWebApplicationContext())\n            .map(context -&gt; {\n                SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\n                return redisConnectionFactory.getConnection();\n            });\n\n\n    }\n\n    @Override\n    public void evictData() {\n\n        getOptionalRedisConnection()\n            .map(RedisConnection::keyCommands)\n            .ifPresent(keyCommands -&gt; keyCommands.del(cacheRegionBytes));\n\n    }\n\n    @Override\n    public void evictData(Object key) {\n\n        getOptionalRedisConnection()\n            .map(RedisConnection::hashCommands)\n            .ifPresent(hashCommands -&gt; hashCommands.hDel(cacheRegionBytes, toByteArrayCaching(key)));\n\n    }\n\n    @Override\n    public Object getFromCache(Object key, SharedSessionContractImplementor session) {\n\n        return getOptionalRedisConnection()\n            .map(RedisConnection::hashCommands)\n            .map(hashCommands -&gt; hashCommands.hGet(cacheRegionBytes, toByteArrayCaching(key)))\n            .map(SpringRedisStorageAccess::toObject)\n            .orElse(null);\n\n    }\n\n    @Override\n    public void putIntoCache(Object key, Object value, SharedSessionContractImplementor session) {\n\n        getOptionalRedisConnection()\n            .map(RedisConnection::hashCommands)\n            .ifPresent(hashCommands -&gt; hashCommands.hSet(cacheRegionBytes, toByteArrayCaching(key), toByteArray(value)));\n    }\n\n    @Override\n    public void release() {\n\n        getOptionalRedisConnection()\n            .ifPresent(RedisConnection::close);\n\n    }\n\n    /**\n     * Specific optimization for keys that may be repeated.\n     *\n     * @param o object\n     * @return byte array representation\n     */\n    private byte[] toByteArrayCaching(Object o) {\n\n        return serializationCache.computeIfAbsent(o, SpringRedisStorageAccess::toByteArray);\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647015480,"creation_date":1646868443,"question_id":71417150,"body_markdown":"I tried using putting it into the constructor or doing this\r\n\r\n    @Override\r\n    protected void prepareForUse(SessionFactoryOptions settings, Map configValues) {\r\n\r\n        SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\r\n\r\n    }\r\n\r\nbut no luck as the WebApplicationContext is not started yet.","title":"How can I get access to a Spring context in a org.hibernate.cache.spi.RegionFactory?","body":"<p>I tried using putting it into the constructor or doing this</p>\n<pre><code>@Override\nprotected void prepareForUse(SessionFactoryOptions settings, Map configValues) {\n\n    SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\n\n}\n</code></pre>\n<p>but no luck as the WebApplicationContext is not started yet.</p>\n"},{"tags":["java","oop","user-input"],"comments":[{"owner":{"account_id":22066749,"reputation":3758,"user_id":16328516,"display_name":"TriS"},"score":2,"creation_date":1646879848,"post_id":71418131,"comment_id":126234997,"body_markdown":"Please update the answer with the Mydate details as well.","body":"Please update the answer with the Mydate details as well."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646880043,"post_id":71418131,"comment_id":126235025,"body_markdown":"We can&#39;t help you with your difficulty if we can&#39;t see the code you&#39;re having difficulties with.","body":"We can&#39;t help you with your difficulty if we can&#39;t see the code you&#39;re having difficulties with."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1646880207,"post_id":71418131,"comment_id":126235051,"body_markdown":"For starters, if you don&#39;t specify to the user how you want the input to be formatted, the user most likely enter it incorrectly. You can prompt the user &quot;Enter birthday in the following format: MM-dd-yyyy&quot;","body":"For starters, if you don&#39;t specify to the user how you want the input to be formatted, the user most likely enter it incorrectly. You can prompt the user &quot;Enter birthday in the following format: MM-dd-yyyy&quot;"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1646880297,"post_id":71418131,"comment_id":126235072,"body_markdown":"Or you can collect the input over several prompts. For example &quot;Enter two digits for your birthday month:&quot; followed by &quot;Enter two digits for your the day&quot; etc.","body":"Or you can collect the input over several prompts. For example &quot;Enter two digits for your birthday month:&quot; followed by &quot;Enter two digits for your the day&quot; etc."},{"owner":{"account_id":24468790,"reputation":1,"user_id":18388802,"display_name":"rave"},"score":0,"creation_date":1646880655,"post_id":71418131,"comment_id":126235114,"body_markdown":"lets say I created several prompts, but how would I make the output appear as MM-dd-yyyy?","body":"lets say I created several prompts, but how would I make the output appear as MM-dd-yyyy?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1646880770,"post_id":71418131,"comment_id":126235139,"body_markdown":"`SimpleDateFormat` does not have a method for converting to your `MyDate` object, you need to build this functionality yourself. For example you should be using the constructor `MyDate dob = new MyDate(month, day, year);` and using the correct values when constructing the object. As for how to display it correctly, your toString method looks fine to me.","body":"<code>SimpleDateFormat</code> does not have a method for converting to your <code>MyDate</code> object, you need to build this functionality yourself. For example you should be using the constructor <code>MyDate dob = new MyDate(month, day, year);</code> and using the correct values when constructing the object. As for how to display it correctly, your toString method looks fine to me."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646916163,"post_id":71418131,"comment_id":126244810,"body_markdown":"@rave I think my answer answered your original question and also the one you posted in the comments about how to make the output appear as MM-dd-YYYY. If I did, don&#39;t forget to mark my answer as the accepted answer. ;)","body":"@rave I think my answer answered your original question and also the one you posted in the comments about how to make the output appear as MM-dd-YYYY. If I did, don&#39;t forget to mark my answer as the accepted answer. ;)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1646927671,"post_id":71418131,"comment_id":126249777,"body_markdown":"I recommend you don’t use `SimpleDateFormat`. That class is notoriously troublesome and long outdated. If allowed use `LocalDate` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). Also is designing your own `MyDate` class is a requirement, it’s a fine exercise; in production code one would always use `LocalDate` instead.","body":"I recommend you don’t use <code>SimpleDateFormat</code>. That class is notoriously troublesome and long outdated. If allowed use <code>LocalDate</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. Also is designing your own <code>MyDate</code> class is a requirement, it’s a fine exercise; in production code one would always use <code>LocalDate</code> instead."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1647007757,"post_id":71418131,"comment_id":126271143,"body_markdown":"@OleV.V. The OP stated &quot;_I cannot use the java.util.Date_&quot;. I am sure that extends to other Standard Library classes as well. I have a feeling this is a homework where students need to implement their own solutions.","body":"@OleV.V. The OP stated &quot;<i>I cannot use the java.util.Date</i>&quot;. I am sure that extends to other Standard Library classes as well. I have a feeling this is a homework where students need to implement their own solutions."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1647012072,"post_id":71418131,"comment_id":126272909,"body_markdown":"@hfontanez That was my feeling too, though I cannot know. Many other readers are probably in a different situation.","body":"@hfontanez That was my feeling too, though I cannot know. Many other readers are probably in a different situation."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1647012311,"post_id":71418131,"comment_id":126273005,"body_markdown":"@OleV.V. that&#39;s why I almost always upvote OP questions that clearly indicate &quot;this is a homework&quot; regardless of the quality of the question. That piece of info alone frames the question very good in my opinion.","body":"@OleV.V. that&#39;s why I almost always upvote OP questions that clearly indicate &quot;this is a homework&quot; regardless of the quality of the question. That piece of info alone frames the question very good in my opinion."}],"answers":[{"tags":[],"owner":{"account_id":3468698,"reputation":118,"user_id":2903647,"accept_rate":25,"display_name":"Kemoy Campbell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646881096,"creation_date":1646880762,"answer_id":71418300,"question_id":71418131,"body_markdown":"First off, you cannot do this ```MyDate dob = sdf.parse(bd);``` According to the Java doc, https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html, SimpleDateformat parse method returns Date object while your dob has MyDate. you cant mix both type.\r\n\r\nWhat you want to do is to take the input from the user and pass it to your MyDate constructor. I have a follow up question, since you are not allowed to use Java.util.Date, are you allowed to use the SimpleDateFormat given that the parse return Date?\r\n\r\nAssuming that your program is a simple program and advance validation is not required, you can use split by - on the input which will give you an array of 3 items and you can pass them to MyDate based on the index.\r\n\r\nIn order to do identical check, you will need to override the Equals method in your Person class","title":"Asking for birthday as a user input without using java.util.Date method","body":"<p>First off, you cannot do this <code>MyDate dob = sdf.parse(bd);</code> According to the Java doc, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html</a>, SimpleDateformat parse method returns Date object while your dob has MyDate. you cant mix both type.</p>\n<p>What you want to do is to take the input from the user and pass it to your MyDate constructor. I have a follow up question, since you are not allowed to use Java.util.Date, are you allowed to use the SimpleDateFormat given that the parse return Date?</p>\n<p>Assuming that your program is a simple program and advance validation is not required, you can use split by - on the input which will give you an array of 3 items and you can pass them to MyDate based on the index.</p>\n<p>In order to do identical check, you will need to override the Equals method in your Person class</p>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647014819,"creation_date":1646880965,"answer_id":71418316,"question_id":71418131,"body_markdown":"This is one possible solution\r\n```\r\nSystem.out.print(&quot;Enter birthdate in the following format MM-dd-YYYY: &quot;);\r\nString bd=console.next();\r\n```\r\nThat might not be as good as the following solution:\r\n```\r\nScanner console = new Scanner(System.in);\r\nSystem.out.println(&quot;Enter the number your birthdate month (i.e. 1 for January) : &quot;);\r\nint mm = console.nextInt();\r\nSystem.out.println(&quot;Enter your birth day : &quot;);\r\nint dd = console.nextInt();\r\nSystem.out.println(&quot;Enter the four digits of your birthdate year: &quot;);\r\nint yyyy = console.nextInt();\r\nconsole.close();\r\nStringBuilder buffer = new StringBuilder();\r\nbuffer.append(String.format(&quot;%02d&quot;, mm));\r\nbuffer.append(&quot;-&quot;);\r\nbuffer.append(String.format(&quot;%02d&quot;, dd));\r\nbuffer.append(&quot;-&quot;);\r\nbuffer.append(String.format(&quot;%04d&quot;, yyyy));\r\nString date = buffer.toString();\r\nSystem.out.println(date);\r\n```\r\n\r\nThis is more verbose, but I think it is a better solution than the first one. The result:\r\n```\r\nEnter the number your birthdate month (i.e. 1 for January) : \r\n7\r\nEnter your birth day : \r\n10\r\nEnter the four digits of your birthdate year: \r\n1968\r\n07-10-1968\r\n```\r\nThe above solution can be transformed into what the OP wants very easily.\r\n```\r\nScanner console = new Scanner(System.in);\r\nSystem.out.println(&quot;Enter the number your birthdate month (i.e. 1 for January) : &quot;);\r\nint mm = console.nextInt();\r\nSystem.out.println(&quot;Enter your birth day : &quot;);\r\nint dd = console.nextInt();\r\nSystem.out.println(&quot;Enter the four digits of your birthdate year: &quot;);\r\nint yyyy = console.nextInt();\r\nconsole.close();\r\nMyDate dob = new MyDate(mm, dd, yyyy);\r\n```\r\nThe `MyDate` class should be modified with the rest of my original code as follows:\r\n```\r\npublic class MyDate {\r\n// rest of code omitted\r\n    public String toString() {\r\n        StringBuilder buffer = new StringBuilder();\r\n        buffer.append(String.format(&quot;%02d&quot;, mm));\r\n        buffer.append(&quot;-&quot;);\r\n        buffer.append(String.format(&quot;%02d&quot;, dd));\r\n        buffer.append(&quot;-&quot;);\r\n        buffer.append(String.format(&quot;%04d&quot;, yyyy));\r\n        return buffer.toString();\r\n    }\r\n}\r\n```\r\n**SUPPLEMENTAL INFO**:\r\n\r\nI stated that I believe it was easier to capture the *month*, *day*, and *year* in separate prompts rather than all at once. Of course, this is a matter of opinion. However, for cases where it is required to capture the input all at once, I never completed the code in the `MyDate` class. For starters, you&#39;ll need to validate the string by analyzing its pattern:\r\n```\r\ntry (Scanner scanner = new Scanner(System.in)) {\r\n\tdo {\r\n\t\tSystem.out.print(&quot;Enter your birthdate (MM-dd-YYYY): &quot;);\r\n\t\tinput =  scanner.next();\r\n\t} while (!input.matches(&quot;\\\\d{1,2}-?\\\\d{1,2}-?\\\\d{4}&quot;));\r\n}\r\nSystem.out.println(&quot;input matched! &quot; + input);\r\n```\r\nThis snippet will continue to prompt until the input is validated:\r\n```\r\nEnter your birthdate (MM-dd-YYYY): foo\r\nEnter your birthdate (MM-dd-YYYY): MM-dd-YYYY\r\nEnter your birthdate (MM-dd-YYYY): 7-10-1968\r\ninput matched! 7-10-1968\r\n```\r\nOnce you have a valid match, you can either set the string as a whole in the `MyDate` class, but I also suggest to break down the String into its components (*month*, *day*, and *year*), so that your class can provide meaningful data based on the date entered.\r\n```\r\npublic class MyDate {\r\n    private String date;\r\n    private int month;\r\n    private int day;\r\n    private int year;\r\n\r\n    public MyDate(String date) {\r\n        this.date = date;\r\n        String[] tokens = date.split(&quot;-&quot;);\r\n        month = tokens[0];\r\n        day = tokens[1];\r\n        year = tokens[2];\r\n    }\r\n// getter and setters omitted\r\n    @Override\r\n    public String toString() {\r\n        return date; // since it was validated by the provider, no extra processing is required\r\n    }\r\n}\r\n```\r\nAside from regular setter and getter methods, and regardless of solution (one vs. multiple prompts), your `MyDate` class should also provide specialized methods to get, for instance, a month as a name rather than as a number.\r\n```\r\npublic String getMonthName() {\r\n    switch (month) {\r\n        case 1: return &quot;January&quot;;\r\n        case 2: return &quot;February&quot;;\r\n        ...\r\n    }\r\n}\r\n```\r\nAnother form of validation you need to do, probably in the constructor is to make sure the numeric values for day and month are correct. For example, month can only be values 1-12. If inputted value is outside that range, you need to throw some sort of exception. Likewise, if the value of days is incorrect, you need to throw some sort of exception. Also, days need to be validated based on month and year in the case of February (leap year). I won&#39;t add code for that. You can &quot;google&quot; that information and add it to your `MyDate` implementation.","title":"Asking for birthday as a user input without using java.util.Date method","body":"<p>This is one possible solution</p>\n<pre><code>System.out.print(&quot;Enter birthdate in the following format MM-dd-YYYY: &quot;);\nString bd=console.next();\n</code></pre>\n<p>That might not be as good as the following solution:</p>\n<pre><code>Scanner console = new Scanner(System.in);\nSystem.out.println(&quot;Enter the number your birthdate month (i.e. 1 for January) : &quot;);\nint mm = console.nextInt();\nSystem.out.println(&quot;Enter your birth day : &quot;);\nint dd = console.nextInt();\nSystem.out.println(&quot;Enter the four digits of your birthdate year: &quot;);\nint yyyy = console.nextInt();\nconsole.close();\nStringBuilder buffer = new StringBuilder();\nbuffer.append(String.format(&quot;%02d&quot;, mm));\nbuffer.append(&quot;-&quot;);\nbuffer.append(String.format(&quot;%02d&quot;, dd));\nbuffer.append(&quot;-&quot;);\nbuffer.append(String.format(&quot;%04d&quot;, yyyy));\nString date = buffer.toString();\nSystem.out.println(date);\n</code></pre>\n<p>This is more verbose, but I think it is a better solution than the first one. The result:</p>\n<pre><code>Enter the number your birthdate month (i.e. 1 for January) : \n7\nEnter your birth day : \n10\nEnter the four digits of your birthdate year: \n1968\n07-10-1968\n</code></pre>\n<p>The above solution can be transformed into what the OP wants very easily.</p>\n<pre><code>Scanner console = new Scanner(System.in);\nSystem.out.println(&quot;Enter the number your birthdate month (i.e. 1 for January) : &quot;);\nint mm = console.nextInt();\nSystem.out.println(&quot;Enter your birth day : &quot;);\nint dd = console.nextInt();\nSystem.out.println(&quot;Enter the four digits of your birthdate year: &quot;);\nint yyyy = console.nextInt();\nconsole.close();\nMyDate dob = new MyDate(mm, dd, yyyy);\n</code></pre>\n<p>The <code>MyDate</code> class should be modified with the rest of my original code as follows:</p>\n<pre><code>public class MyDate {\n// rest of code omitted\n    public String toString() {\n        StringBuilder buffer = new StringBuilder();\n        buffer.append(String.format(&quot;%02d&quot;, mm));\n        buffer.append(&quot;-&quot;);\n        buffer.append(String.format(&quot;%02d&quot;, dd));\n        buffer.append(&quot;-&quot;);\n        buffer.append(String.format(&quot;%04d&quot;, yyyy));\n        return buffer.toString();\n    }\n}\n</code></pre>\n<p><strong>SUPPLEMENTAL INFO</strong>:</p>\n<p>I stated that I believe it was easier to capture the <em>month</em>, <em>day</em>, and <em>year</em> in separate prompts rather than all at once. Of course, this is a matter of opinion. However, for cases where it is required to capture the input all at once, I never completed the code in the <code>MyDate</code> class. For starters, you'll need to validate the string by analyzing its pattern:</p>\n<pre><code>try (Scanner scanner = new Scanner(System.in)) {\n    do {\n        System.out.print(&quot;Enter your birthdate (MM-dd-YYYY): &quot;);\n        input =  scanner.next();\n    } while (!input.matches(&quot;\\\\d{1,2}-?\\\\d{1,2}-?\\\\d{4}&quot;));\n}\nSystem.out.println(&quot;input matched! &quot; + input);\n</code></pre>\n<p>This snippet will continue to prompt until the input is validated:</p>\n<pre><code>Enter your birthdate (MM-dd-YYYY): foo\nEnter your birthdate (MM-dd-YYYY): MM-dd-YYYY\nEnter your birthdate (MM-dd-YYYY): 7-10-1968\ninput matched! 7-10-1968\n</code></pre>\n<p>Once you have a valid match, you can either set the string as a whole in the <code>MyDate</code> class, but I also suggest to break down the String into its components (<em>month</em>, <em>day</em>, and <em>year</em>), so that your class can provide meaningful data based on the date entered.</p>\n<pre><code>public class MyDate {\n    private String date;\n    private int month;\n    private int day;\n    private int year;\n\n    public MyDate(String date) {\n        this.date = date;\n        String[] tokens = date.split(&quot;-&quot;);\n        month = tokens[0];\n        day = tokens[1];\n        year = tokens[2];\n    }\n// getter and setters omitted\n    @Override\n    public String toString() {\n        return date; // since it was validated by the provider, no extra processing is required\n    }\n}\n</code></pre>\n<p>Aside from regular setter and getter methods, and regardless of solution (one vs. multiple prompts), your <code>MyDate</code> class should also provide specialized methods to get, for instance, a month as a name rather than as a number.</p>\n<pre><code>public String getMonthName() {\n    switch (month) {\n        case 1: return &quot;January&quot;;\n        case 2: return &quot;February&quot;;\n        ...\n    }\n}\n</code></pre>\n<p>Another form of validation you need to do, probably in the constructor is to make sure the numeric values for day and month are correct. For example, month can only be values 1-12. If inputted value is outside that range, you need to throw some sort of exception. Likewise, if the value of days is incorrect, you need to throw some sort of exception. Also, days need to be validated based on month and year in the case of February (leap year). I won't add code for that. You can &quot;google&quot; that information and add it to your <code>MyDate</code> implementation.</p>\n"}],"owner":{"account_id":24468790,"reputation":1,"user_id":18388802,"display_name":"rave"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":931,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1647014819,"creation_date":1646878933,"question_id":71418131,"body_markdown":"I am trying to make a program that will allow the user to input two sets of name and birthday and will compare whether the inputs are identical.\r\n\r\nI have a separate class named MyDate which contains the month, day and year, thus I created an object which I named &quot;dob&quot; in my person class, which contains the String name and MyDate dob . Upon creating a test program, I&#39;m having difficulty on how to get the birthday input and set it as &quot;MM-dd-yyyy&quot; since I cannot use the java.util.Date method.\r\n\r\nThis is what I have so far:\r\n\r\n\r\n        System.out.println(&quot;Enter birthdate: &quot;);\r\n\t\tString bd=console.next();\r\n\t\tSimpleDateFormat sdf=new SimpleDateFormat(&quot;MM-dd-yyyy&quot;);\r\n\t\tMyDate dob = sdf.parse(bd);\r\n\t\tp1.setDob(dob);\r\n\r\nAny idea on how to fix it? any help would be appreciated\r\n\r\n\r\nclass MyDate for this program:\r\n\r\n```\r\npublic class MyDate {\r\n\tprivate int day;\r\n\tprivate int month;\r\n\tprivate int year;\r\n\t\r\n\tpublic MyDate() {\r\n\t}\r\n\t\r\n\tpublic MyDate(int month, int day, int year) {\r\n\t\tsetDay(month);\r\n\t\tsetMonth(day);\r\n\t\tsetYear(year);\r\n\t}\r\n\r\n\tpublic int getMonth() {\r\n\t\treturn month;\r\n\t}\r\n\r\n\tpublic void setMonth(int month) {\r\n\t\tthis.month = month;\r\n\t}\r\n\r\n\tpublic int getDay() {\r\n\t\treturn day;\r\n\t}\r\n\r\n\tpublic void setDay(int day) {\r\n\t\tthis.day = day;\r\n\t}\r\n\r\n\tpublic int getYear() {\r\n\t\treturn year;\r\n\t}\r\n\r\n\tpublic void setYear(int year) {\r\n\t\tthis.year = year;\r\n\t}\r\n\t\r\n\tpublic int hashCode() {\r\n\t\treturn this.getMonth() ^ this.getDay() ^ this.getYear();\r\n\t}\r\n\t\r\n\tpublic String toString() {\r\n\t\treturn this.month+&quot;-&quot;+this.day+&quot;-&quot;+this.year+&quot; &quot;;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nThe program&#39;s output should look similar to this:\r\n\r\n        enter name: jay\r\n        enter birthday: 02-07-1999\r\n        enter name: jay\r\n        enter birthday: 02-07-1999\r\n        IDENTICAL\r\n        name: jay\r\n        birthday: 02-07-1999\r\n        name: jay\r\n        birthday: 02-07-1999\r\n\r\n        \r\n\r\n","title":"Asking for birthday as a user input without using java.util.Date method","body":"<p>I am trying to make a program that will allow the user to input two sets of name and birthday and will compare whether the inputs are identical.</p>\n<p>I have a separate class named MyDate which contains the month, day and year, thus I created an object which I named &quot;dob&quot; in my person class, which contains the String name and MyDate dob . Upon creating a test program, I'm having difficulty on how to get the birthday input and set it as &quot;MM-dd-yyyy&quot; since I cannot use the java.util.Date method.</p>\n<p>This is what I have so far:</p>\n<pre><code>    System.out.println(&quot;Enter birthdate: &quot;);\n    String bd=console.next();\n    SimpleDateFormat sdf=new SimpleDateFormat(&quot;MM-dd-yyyy&quot;);\n    MyDate dob = sdf.parse(bd);\n    p1.setDob(dob);\n</code></pre>\n<p>Any idea on how to fix it? any help would be appreciated</p>\n<p>class MyDate for this program:</p>\n<pre><code>public class MyDate {\n    private int day;\n    private int month;\n    private int year;\n    \n    public MyDate() {\n    }\n    \n    public MyDate(int month, int day, int year) {\n        setDay(month);\n        setMonth(day);\n        setYear(year);\n    }\n\n    public int getMonth() {\n        return month;\n    }\n\n    public void setMonth(int month) {\n        this.month = month;\n    }\n\n    public int getDay() {\n        return day;\n    }\n\n    public void setDay(int day) {\n        this.day = day;\n    }\n\n    public int getYear() {\n        return year;\n    }\n\n    public void setYear(int year) {\n        this.year = year;\n    }\n    \n    public int hashCode() {\n        return this.getMonth() ^ this.getDay() ^ this.getYear();\n    }\n    \n    public String toString() {\n        return this.month+&quot;-&quot;+this.day+&quot;-&quot;+this.year+&quot; &quot;;\n    }\n    \n}\n</code></pre>\n<p>The program's output should look similar to this:</p>\n<pre><code>    enter name: jay\n    enter birthday: 02-07-1999\n    enter name: jay\n    enter birthday: 02-07-1999\n    IDENTICAL\n    name: jay\n    birthday: 02-07-1999\n    name: jay\n    birthday: 02-07-1999\n\n    \n</code></pre>\n"},{"tags":["java","logging","minecraft","discord-jda"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":1,"creation_date":1647005439,"post_id":71280094,"comment_id":126270264,"body_markdown":"why don&#39;t apply bounty and lose 50rep ?","body":"why don&#39;t apply bounty and lose 50rep ?"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645948623,"creation_date":1645907827,"answer_id":71280119,"question_id":71280094,"body_markdown":"[Log4j 2 SLF4J Binding](https://logging.apache.org/log4j/2.x/log4j-slf4j-impl/) exists for that purpose.\r\nIt is an SLF4J logger implementation (like `slf4j-simple`) that logs everything to log4j. In other words, everything logged with SLF4J will be forwarded to log4j.\r\n\r\nIn order to use it, just add the following to your `pom.xml` (see [this](https://logging.apache.org/log4j/2.x/log4j-slf4j-impl/dependency-info.html)):\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n  &lt;artifactId&gt;log4j-slf4j18-impl&lt;/artifactId&gt;\r\n  &lt;version&gt;2.17.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIf you use Gradle, it would look like this:\r\n```gradle\r\ncompile &#39;org.apache.logging.log4j:log4j-slf4j18-impl:2.17.2&#39;\r\n```\r\n\r\nAdding this dependency includes and automatically registers the logger. ","title":"How to configure slf4j (for JDA) to work with log4j (for Minecraft Paper)?","body":"<p><a href=\"https://logging.apache.org/log4j/2.x/log4j-slf4j-impl/\" rel=\"nofollow noreferrer\">Log4j 2 SLF4J Binding</a> exists for that purpose.\nIt is an SLF4J logger implementation (like <code>slf4j-simple</code>) that logs everything to log4j. In other words, everything logged with SLF4J will be forwarded to log4j.</p>\n<p>In order to use it, just add the following to your <code>pom.xml</code> (see <a href=\"https://logging.apache.org/log4j/2.x/log4j-slf4j-impl/dependency-info.html\" rel=\"nofollow noreferrer\">this</a>):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-slf4j18-impl&lt;/artifactId&gt;\n  &lt;version&gt;2.17.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If you use Gradle, it would look like this:</p>\n<pre><code>compile 'org.apache.logging.log4j:log4j-slf4j18-impl:2.17.2'\n</code></pre>\n<p>Adding this dependency includes and automatically registers the logger.</p>\n"},{"tags":[],"owner":{"account_id":7091735,"reputation":2510,"user_id":5426703,"display_name":"Spyros K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647014753,"creation_date":1646857147,"answer_id":71415522,"question_id":71280094,"body_markdown":"You need to add a &quot;bridge&quot; from `slf4j` to `log4j`. \r\nThe appropriate dependency needs to fit both the `slf4j` version and the `log4j` version.\r\n\r\nTo find the correct version I checked [the build.gradle.kts of JDA ][1] \r\nJDA uses the `1.7.25` version of slf4j and your module uses the `2.17.2` version of the `log4j`.\r\n\r\nSo you need to add `log4j-slf4j-impl`.  \r\n[The `log4j-slf4j18-impl` is for sl4j from 18 and newer version.][2]\r\n\r\n**Maven Version**\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n      &lt;version&gt;2.17.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Gradle Version**\r\n\r\n    compile &#39;org.apache.logging.log4j:log4j-slf4j-impl:2.17.2&#39;\r\n\r\nAlso, making the assumption that your build depends on the JDA, it might be helpful to completely omit importing the SL4J since depending on JDA will make the SL4J available to your plugin.\r\nJDA dependency on SLF4J is declared as an API and therefore is available.\r\n\r\nThis was also derived from [the build.gradle.kts of JDA ][1] \r\n    \r\nSo most likely you can safely remove `org.slf4j:slf4j-api:1.8.0-beta4` from your dependencies.\r\n\r\nUpdate: for the gradle.build file.\r\n\r\n- Shadowjar-ing/shading sl4j and log4j might interfere with the initialization process. I could find [an occurrence to support this][3]. You could remove all related relocations and try again.\r\n- Replace `compileOnly(&#39;org.slf4j:slf4j-api:1.7.36&#39;)` with `compileOnly(&#39;org.slf4j:slf4j-api:1.7.25&#39;)` to match the version that JDA declares. Most probably this has nothing to do with the error faced.\r\n\r\n\r\n\r\n  [1]: https://github.com/DV8FromTheWorld/JDA/blob/master/build.gradle.kts\r\n  [2]: https://logging.apache.org/log4j/2.x/log4j-slf4j-impl/\r\n  [3]: https://github.com/snowflakedb/snowflake-jdbc/issues/16","title":"How to configure slf4j (for JDA) to work with log4j (for Minecraft Paper)?","body":"<p>You need to add a &quot;bridge&quot; from <code>slf4j</code> to <code>log4j</code>.\nThe appropriate dependency needs to fit both the <code>slf4j</code> version and the <code>log4j</code> version.</p>\n<p>To find the correct version I checked <a href=\"https://github.com/DV8FromTheWorld/JDA/blob/master/build.gradle.kts\" rel=\"nofollow noreferrer\">the build.gradle.kts of JDA </a>\nJDA uses the <code>1.7.25</code> version of slf4j and your module uses the <code>2.17.2</code> version of the <code>log4j</code>.</p>\n<p>So you need to add <code>log4j-slf4j-impl</code>.<br />\n<a href=\"https://logging.apache.org/log4j/2.x/log4j-slf4j-impl/\" rel=\"nofollow noreferrer\">The <code>log4j-slf4j18-impl</code> is for sl4j from 18 and newer version.</a></p>\n<p><strong>Maven Version</strong></p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n  &lt;version&gt;2.17.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Gradle Version</strong></p>\n<pre><code>compile 'org.apache.logging.log4j:log4j-slf4j-impl:2.17.2'\n</code></pre>\n<p>Also, making the assumption that your build depends on the JDA, it might be helpful to completely omit importing the SL4J since depending on JDA will make the SL4J available to your plugin.\nJDA dependency on SLF4J is declared as an API and therefore is available.</p>\n<p>This was also derived from <a href=\"https://github.com/DV8FromTheWorld/JDA/blob/master/build.gradle.kts\" rel=\"nofollow noreferrer\">the build.gradle.kts of JDA </a></p>\n<p>So most likely you can safely remove <code>org.slf4j:slf4j-api:1.8.0-beta4</code> from your dependencies.</p>\n<p>Update: for the gradle.build file.</p>\n<ul>\n<li>Shadowjar-ing/shading sl4j and log4j might interfere with the initialization process. I could find <a href=\"https://github.com/snowflakedb/snowflake-jdbc/issues/16\" rel=\"nofollow noreferrer\">an occurrence to support this</a>. You could remove all related relocations and try again.</li>\n<li>Replace <code>compileOnly('org.slf4j:slf4j-api:1.7.36')</code> with <code>compileOnly('org.slf4j:slf4j-api:1.7.25')</code> to match the version that JDA declares. Most probably this has nothing to do with the error faced.</li>\n</ul>\n"}],"owner":{"account_id":11699201,"reputation":141,"user_id":8587037,"display_name":"tetratheta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":958,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71415522,"answer_count":2,"score":2,"last_activity_date":1647014753,"creation_date":1645907534,"question_id":71280094,"body_markdown":"I&#39;m making plugin for Minecraft - &#39;[Paper](https://papermc.io/)&#39; exactly. And it uses [JDA](https://github.com/DV8FromTheWorld/JDA) for Discord bot function.\r\n\r\nThe problem is, Minecraft(Paper) uses log4j as its logging library. JDA uses slf4j as its logging library. I want JDA to use log4j so that error message of JDA would be shown in console as plugin&#39;s error message. (See EDIT2 for actual logs)\r\n\r\nNo `System.out.println()` because Minecraft(Paper) will complain about using it.  \r\nNo Logback because I think it is another logging library, thus it cannot work well with Minecraft(Paper)&#39;s logging system (no JDA logs in Minecraft log etc.). I don&#39;t want to implement another logging library when there is already logging system provided by Minecraft, which is log4j.\r\n\r\nJDA wiki only describes about Logback so I have to find my own way for making JDA with Minecraft&#39;s logging system, but it was no success.\r\n\r\nFor example:\r\n```text\r\n// Something went wrong in JDA and shows stacktrace\r\n[05:20:26] [Server thread/ERROR]: [MyPlugin] [JDA] &#39;JDA Error Message&#39;\r\n(prints stacktrace of the error)\r\n\r\n// Show debug message of WebSocketClient (Since it is debug message, this can be turned off)\r\n[05:20:26] [Server thread/DEBUG]: [MyPlugin] [JDA] WebSocketClient - Connected to WebSocket\r\n\r\n// Show JDA message when JDA bot is loaded\r\n[05:20:26] [Server thread/DEBUG]: [MyPlugin] [JDA] JDA - Finished Loading!\r\n```\r\n\r\nThese all messages should be part of the Minecraft(Paper)&#39;s logging system, not mimicing it. This means, it should use `JavaPlugin#getLogger().info()` or something like this in somewhere of the code.\r\n\r\n\r\n\r\nHow to make JDA to be like this?  \r\nJust implementing `log4j-slf4j18-impl` doesn&#39;t work. I think I should do something about JDA&#39;s logging stuff.\r\n\r\n\r\n---\r\n\r\nEDIT: Here is current `build.gradle` file content. [LINK](https://paste.gg/p/anonymous/9ee665c666094097b6810911670d61f5)\r\n\r\nCurrently, my plugin implements `log4j-slf4j-impl` for JDA.\r\n","title":"How to configure slf4j (for JDA) to work with log4j (for Minecraft Paper)?","body":"<p>I'm making plugin for Minecraft - '<a href=\"https://papermc.io/\" rel=\"nofollow noreferrer\">Paper</a>' exactly. And it uses <a href=\"https://github.com/DV8FromTheWorld/JDA\" rel=\"nofollow noreferrer\">JDA</a> for Discord bot function.</p>\n<p>The problem is, Minecraft(Paper) uses log4j as its logging library. JDA uses slf4j as its logging library. I want JDA to use log4j so that error message of JDA would be shown in console as plugin's error message. (See EDIT2 for actual logs)</p>\n<p>No <code>System.out.println()</code> because Minecraft(Paper) will complain about using it.<br />\nNo Logback because I think it is another logging library, thus it cannot work well with Minecraft(Paper)'s logging system (no JDA logs in Minecraft log etc.). I don't want to implement another logging library when there is already logging system provided by Minecraft, which is log4j.</p>\n<p>JDA wiki only describes about Logback so I have to find my own way for making JDA with Minecraft's logging system, but it was no success.</p>\n<p>For example:</p>\n<pre><code>// Something went wrong in JDA and shows stacktrace\n[05:20:26] [Server thread/ERROR]: [MyPlugin] [JDA] 'JDA Error Message'\n(prints stacktrace of the error)\n\n// Show debug message of WebSocketClient (Since it is debug message, this can be turned off)\n[05:20:26] [Server thread/DEBUG]: [MyPlugin] [JDA] WebSocketClient - Connected to WebSocket\n\n// Show JDA message when JDA bot is loaded\n[05:20:26] [Server thread/DEBUG]: [MyPlugin] [JDA] JDA - Finished Loading!\n</code></pre>\n<p>These all messages should be part of the Minecraft(Paper)'s logging system, not mimicing it. This means, it should use <code>JavaPlugin#getLogger().info()</code> or something like this in somewhere of the code.</p>\n<p>How to make JDA to be like this?<br />\nJust implementing <code>log4j-slf4j18-impl</code> doesn't work. I think I should do something about JDA's logging stuff.</p>\n<hr />\n<p>EDIT: Here is current <code>build.gradle</code> file content. <a href=\"https://paste.gg/p/anonymous/9ee665c666094097b6810911670d61f5\" rel=\"nofollow noreferrer\">LINK</a></p>\n<p>Currently, my plugin implements <code>log4j-slf4j-impl</code> for JDA.</p>\n"},{"tags":["java","xml","dom","saxon"],"comments":[{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":1,"creation_date":1381611517,"post_id":19336920,"comment_id":28649895,"body_markdown":"First find out which DOM implementation you are actually using (look at what factory is returned.) Recent releases of Saxon do not provide a DocumentBuilderFactory that will be detected by the classpath search, since the DOM classes in Saxon are provided only as a wrapper interface for Saxon&#39;s internal tree structure.","body":"First find out which DOM implementation you are actually using (look at what factory is returned.) Recent releases of Saxon do not provide a DocumentBuilderFactory that will be detected by the classpath search, since the DOM classes in Saxon are provided only as a wrapper interface for Saxon&#39;s internal tree structure."},{"owner":{"account_id":695155,"reputation":26358,"user_id":274677,"accept_rate":81,"display_name":"Marcus Junius Brutus"},"score":0,"creation_date":1381615361,"post_id":19336920,"comment_id":28650859,"body_markdown":"@MichaelKay `DocumentBuilderFactory.newInstance().getClass().getName()` gives `org.apache.xerces.jaxp.DocumentBuilderFactoryImpl`. So how do I ensure that the Saxon DOM implementation is used instead?","body":"@MichaelKay <code>DocumentBuilderFactory.newInstance().getClass().getName()</code> gives <code>org.apache.xerces.jaxp.DocumentBuilderFactoryImpl</code>. So how do I ensure that the Saxon DOM implementation is used instead?"},{"owner":{"account_id":2509000,"reputation":2724,"user_id":2181915,"accept_rate":50,"display_name":"tom"},"score":1,"creation_date":1381616241,"post_id":19336920,"comment_id":28651098,"body_markdown":"You need to tell the document builder which factory to use.  See http://docs.oracle.com/javase/7/docs/api/javax/xml/parsers/DocumentBuilderFactory.html#newInstance(java.lang.String, java.lang.ClassLoader)","body":"You need to tell the document builder which factory to use.  See <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/xml/parsers/DocumentBuilderFactory.html#newInstance(java.lang.String\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/javax/xml/parsers/&hellip;</a>, java.lang.ClassLoader)"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":1,"creation_date":1381703191,"post_id":19336920,"comment_id":28670860,"body_markdown":"Saxon&#39;s DOM implementation is there only to provide a DOM API to the results of a query or transformation. It&#39;s not designed to allow you to create a DOM programmatically. If you want to do that, use Xerces. On the other hand, to perform your desired task of merging two documetns using Saxon, you don&#39;t want to be using a DOM.","body":"Saxon&#39;s DOM implementation is there only to provide a DOM API to the results of a query or transformation. It&#39;s not designed to allow you to create a DOM programmatically. If you want to do that, use Xerces. On the other hand, to perform your desired task of merging two documetns using Saxon, you don&#39;t want to be using a DOM."}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1381703336,"creation_date":1381703336,"answer_id":19351041,"question_id":19336920,"body_markdown":"To merge two documents (I&#39;m not sure exactly what you mean by this, but I&#39;ll guess) using Saxon, you don&#39;t want to be fiddling about with a DOM. Just run this XQuery:\r\n\r\n    &lt;doc&gt;{doc(&#39;a.xml&#39;), doc(&#39;b.xml&#39;)}&lt;/doc&gt;","title":"importNode throws org.w3c.dom.DOMException: NOT_SUPPORTED_ERR","body":"<p>To merge two documents (I'm not sure exactly what you mean by this, but I'll guess) using Saxon, you don't want to be fiddling about with a DOM. Just run this XQuery:</p>\n\n<pre><code>&lt;doc&gt;{doc('a.xml'), doc('b.xml')}&lt;/doc&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24528591,"reputation":1,"user_id":18440748,"display_name":"tomten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647014747,"creation_date":1647014298,"answer_id":71441262,"question_id":19336920,"body_markdown":"Do this\r\n\r\n```\r\nNode node = doc.importNode(doc2.getDocumentElement(), true);\r\n```","title":"importNode throws org.w3c.dom.DOMException: NOT_SUPPORTED_ERR","body":"<p>Do this</p>\n<pre><code>Node node = doc.importNode(doc2.getDocumentElement(), true);\n</code></pre>\n"}],"owner":{"account_id":695155,"reputation":26358,"user_id":274677,"accept_rate":81,"display_name":"Marcus Junius Brutus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2219,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":19351041,"answer_count":2,"score":2,"last_activity_date":1647014747,"creation_date":1381597778,"question_id":19336920,"body_markdown":"I am trying to merge two XML documents both with standard Oracle JDK 7 and also with Saxon HE but I keep getting an:\r\n\r\n    org.w3c.dom.DOMException: NOT_SUPPORTED_ERR: The implementation does not support the requested type of object or operation.`\r\n\r\nOn the line with the `importNode` below (same thing happens with `adoptNode` BTW):\r\n\r\n\r\n    import java.io.*;\r\n    import org.w3c.dom.*;\r\n    import javax.xml.parsers.*;\r\n\r\n    public class FooMain {\r\n\r\n        private static Document slurp(String s) throws Exception {\r\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n            return factory.newDocumentBuilder().parse(new ByteArrayInputStream(s.getBytes(&quot;UTF-8&quot;)));\r\n        }\r\n\r\n        public static void main(String args[]) throws Exception {\r\n            Document doc  = slurp(&quot;&lt;a&gt;&lt;/a&gt;&quot;);\r\n            Document doc2 = slurp(&quot;&lt;b&gt;&lt;/b&gt;&quot;);\r\n            Node not_used = doc.importNode(doc2, true);\r\n        }\r\n    }\r\n\r\nI&#39;ve tried both with `Saxon-HE-9.4.jar` on my classpath or not, but I still get the same error.\r\n\r\n&lt;h1&gt;update&lt;/h1&gt;\r\nBased on comments I received, when I try with:\r\n\r\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance(&quot;net.sf.saxon.dom.DocumentBuilderFactoryImpl&quot;, null);\r\n\r\nI get instead:\r\n\r\n    java.lang.UnsupportedOperationException: The Saxon DOM implementation cannot be updated\r\n      at net.sf.saxon.dom.NodeOverNodeInfo.disallowUpdate(NodeOverNodeInfo.java:719)\r\n      at net.sf.saxon.dom.DocumentOverNodeInfo.importNode(DocumentOverNodeInfo.java:211)\r\n      at FooMain.main(FooMain.java:16)\r\n\r\nAfter googling I see [old messages][1] to the effect that Saxon apparently creates a read-only DOM which is weird since I thought that one of the comparison points of DOM vs SAX is that DOM is read-write whereas SAX is read-only.\r\n\r\n\r\n  [1]: http://mail-archives.apache.org/mod_mbox/cocoon-users/200408.mbox/%3C00a101c477a5$a12a4e30$111ee204@dallas.sil.org%3E","title":"importNode throws org.w3c.dom.DOMException: NOT_SUPPORTED_ERR","body":"<p>I am trying to merge two XML documents both with standard Oracle JDK 7 and also with Saxon HE but I keep getting an:</p>\n\n<pre><code>org.w3c.dom.DOMException: NOT_SUPPORTED_ERR: The implementation does not support the requested type of object or operation.`\n</code></pre>\n\n<p>On the line with the <code>importNode</code> below (same thing happens with <code>adoptNode</code> BTW):</p>\n\n<pre><code>import java.io.*;\nimport org.w3c.dom.*;\nimport javax.xml.parsers.*;\n\npublic class FooMain {\n\n    private static Document slurp(String s) throws Exception {\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        return factory.newDocumentBuilder().parse(new ByteArrayInputStream(s.getBytes(\"UTF-8\")));\n    }\n\n    public static void main(String args[]) throws Exception {\n        Document doc  = slurp(\"&lt;a&gt;&lt;/a&gt;\");\n        Document doc2 = slurp(\"&lt;b&gt;&lt;/b&gt;\");\n        Node not_used = doc.importNode(doc2, true);\n    }\n}\n</code></pre>\n\n<p>I've tried both with <code>Saxon-HE-9.4.jar</code> on my classpath or not, but I still get the same error.</p>\n\n<h1>update</h1>\n\n<p>Based on comments I received, when I try with:</p>\n\n<pre><code>DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance(\"net.sf.saxon.dom.DocumentBuilderFactoryImpl\", null);\n</code></pre>\n\n<p>I get instead:</p>\n\n<pre><code>java.lang.UnsupportedOperationException: The Saxon DOM implementation cannot be updated\n  at net.sf.saxon.dom.NodeOverNodeInfo.disallowUpdate(NodeOverNodeInfo.java:719)\n  at net.sf.saxon.dom.DocumentOverNodeInfo.importNode(DocumentOverNodeInfo.java:211)\n  at FooMain.main(FooMain.java:16)\n</code></pre>\n\n<p>After googling I see <a href=\"http://mail-archives.apache.org/mod_mbox/cocoon-users/200408.mbox/%3C00a101c477a5%24a12a4e30%24111ee204@dallas.sil.org%3E\" rel=\"nofollow\">old messages</a> to the effect that Saxon apparently creates a read-only DOM which is weird since I thought that one of the comparison points of DOM vs SAX is that DOM is read-write whereas SAX is read-only.</p>\n"},{"tags":["java","android","listview","android-scrollbar","fastscroll"],"answers":[{"tags":[],"owner":{"account_id":23864673,"reputation":66,"user_id":18407358,"display_name":"Taa Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647014627,"creation_date":1647014627,"answer_id":71441327,"question_id":71440046,"body_markdown":"    setSmoothScrollbarEnabled(boolean enabled)\r\n    When smooth scrollbar is enabled, the position and size of the scrollbar thumb is \r\n    computed based on the number of visible pixels in the visible items.\r\n\r\nnote that sometimes your answer would be easily found in java ","title":"scrollbar moves rough when activating fastscrollenable in android listview","body":"<pre><code>setSmoothScrollbarEnabled(boolean enabled)\nWhen smooth scrollbar is enabled, the position and size of the scrollbar thumb is \ncomputed based on the number of visible pixels in the visible items.\n</code></pre>\n<p>note that sometimes your answer would be easily found in java</p>\n"}],"owner":{"account_id":22638848,"reputation":1,"user_id":16815311,"display_name":"Muspedia indonesia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647014627,"creation_date":1647008993,"question_id":71440046,"body_markdown":"scrollbar moves roughly while scrolling. how to make scrollbar move smoothly when enable fastcrollenable=&quot;true&quot;?\r\n\r\nI&#39;ve been looking for it for a month. both in android documentation, stackoverflow, and other web ,but i can&#39;t find it.\r\n\r\nin my listview , im just add....\r\n\r\n    android:fastScrollEnabled=&quot;true&quot;\r\n\r\n","title":"scrollbar moves rough when activating fastscrollenable in android listview","body":"<p>scrollbar moves roughly while scrolling. how to make scrollbar move smoothly when enable fastcrollenable=&quot;true&quot;?</p>\n<p>I've been looking for it for a month. both in android documentation, stackoverflow, and other web ,but i can't find it.</p>\n<p>in my listview , im just add....</p>\n<pre><code>android:fastScrollEnabled=&quot;true&quot;\n</code></pre>\n"},{"tags":["java","redis","publish-subscribe","redis-streams"],"comments":[{"owner":{"account_id":291341,"reputation":9138,"user_id":593425,"accept_rate":55,"display_name":"Guy Korland"},"score":0,"creation_date":1647119650,"post_id":71441316,"comment_id":126293810,"body_markdown":"Did you try to add another stream for acks?","body":"Did you try to add another stream for acks?"},{"owner":{"account_id":7375351,"reputation":49,"user_id":5614178,"display_name":"Reg Reg"},"score":0,"creation_date":1647187761,"post_id":71441316,"comment_id":126302960,"body_markdown":"Cant, we use the same stream? If we use another stream how can we co-relate the request and the response?","body":"Cant, we use the same stream? If we use another stream how can we co-relate the request and the response?"}],"owner":{"account_id":7375351,"reputation":49,"user_id":5614178,"display_name":"Reg Reg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647014565,"creation_date":1647014565,"question_id":71441316,"body_markdown":"I&#39;m working with Java and Redis. \r\n\r\nI have service A and Service B. Service A produced the messages and Service B consume those messages and do some processing. I want to reply to the same message which is send by the Service A. Service A need to get decision based on the response. \r\n\r\nWhat is the best way to achieve this (request/response architecture) using the redis streams ?","title":"Reply to Consumed Messages in Redis Stream","body":"<p>I'm working with Java and Redis.</p>\n<p>I have service A and Service B. Service A produced the messages and Service B consume those messages and do some processing. I want to reply to the same message which is send by the Service A. Service A need to get decision based on the response.</p>\n<p>What is the best way to achieve this (request/response architecture) using the redis streams ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1647006409,"post_id":71439407,"comment_id":126270613,"body_markdown":"what error you are getting &amp; also is it not possible to put file into some sort of `resources` folder of your project?","body":"what error you are getting &amp; also is it not possible to put file into some sort of <code>resources</code> folder of your project?"},{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1647006587,"post_id":71439407,"comment_id":126270670,"body_markdown":"With attached image, which i suggest to put it as code just return br.readLine() if its the things you want to achive .","body":"With attached image, which i suggest to put it as code just return br.readLine() if its the things you want to achive ."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647007497,"creation_date":1647006472,"answer_id":71439527,"question_id":71439407,"body_markdown":"There are many ways to do so, one practice as follow\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class Controller {\r\n\r\n        @GetMapping(&quot;/file&quot;)\r\n        ResponseEntity&lt;?&gt; inquiryAdAccess(){\r\n            try (BufferedReader br = new BufferedReader(new FileReader(new File(&quot;/path&quot;))))\r\n            {\r\n                return ResponseEntity.status(HttpStatus.OK).body( br.readAllLines());\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n","title":"how can we read a file using rest Api, which is locally present in my system?","body":"<p>There are many ways to do so, one practice as follow</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class Controller {\n\n    @GetMapping(&quot;/file&quot;)\n    ResponseEntity&lt;?&gt; inquiryAdAccess(){\n        try (BufferedReader br = new BufferedReader(new FileReader(new File(&quot;/path&quot;))))\n        {\n            return ResponseEntity.status(HttpStatus.OK).body( br.readAllLines());\n        } catch (IOException e) {\n            e.printStackTrace();\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647014309,"creation_date":1647014309,"answer_id":71441267,"question_id":71439407,"body_markdown":"It looks like your text file has new lines. So can you try using streams?\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class Controller {\r\n    \r\n        @GetMapping(&quot;/file&quot;)\r\n        String getData(){\r\n           String strLine=&quot;&quot;;\r\n            try (BufferedReader br = new BufferedReader(new FileReader(new File(&quot;/path&quot;))))\r\n            {\r\n                strLine= br.lines().collect(Collectors.joining(&quot;\\n&quot;));  //this way next line text can also be returned into existing string &amp; strLine will looks like exactly as your text file content\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n          return strLine;\r\n        }\r\n    \r\n    }","title":"how can we read a file using rest Api, which is locally present in my system?","body":"<p>It looks like your text file has new lines. So can you try using streams?</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class Controller {\n\n    @GetMapping(&quot;/file&quot;)\n    String getData(){\n       String strLine=&quot;&quot;;\n        try (BufferedReader br = new BufferedReader(new FileReader(new File(&quot;/path&quot;))))\n        {\n            strLine= br.lines().collect(Collectors.joining(&quot;\\n&quot;));  //this way next line text can also be returned into existing string &amp; strLine will looks like exactly as your text file content\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n      return strLine;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":21334260,"reputation":3,"user_id":15705714,"display_name":"Robin kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2093,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71441267,"answer_count":2,"score":0,"last_activity_date":1647014309,"creation_date":1647005914,"question_id":71439407,"body_markdown":"I have to make a controller class and there I have to define get method to read a txt file which i have in my local storage.[I made a controller and I don&#39;t know if it is really a correct one][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FYnCL.png","title":"how can we read a file using rest Api, which is locally present in my system?","body":"<p>I have to make a controller class and there I have to define get method to read a txt file which i have in my local storage.<a href=\"https://i.stack.imgur.com/FYnCL.png\" rel=\"nofollow noreferrer\">I made a controller and I don't know if it is really a correct one</a></p>\n"},{"tags":["java","spring","spring-boot","rest","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1604915930,"post_id":64730636,"comment_id":114482792,"body_markdown":"It sounds like you are using cache. Please add the content of `mybatis-config.xml` and `Admin_Login` mapper.","body":"It sounds like you are using cache. Please add the content of <code>mybatis-config.xml</code> and <code>Admin_Login</code> mapper."},{"owner":{"account_id":18250480,"reputation":1681,"user_id":13285583,"display_name":"Jason Rich Darmawan"},"score":0,"creation_date":1604916990,"post_id":64730636,"comment_id":114483205,"body_markdown":"@ave hi, I&#39;ve updated the post with the `Admin_Login` mapper and the `mybatis-config.xml`. This is my personal project, if you need to see the source code feel free to check my GitHub https://github.com/kidfrom/g2_java/tree/main/Bank_Account.","body":"@ave hi, I&#39;ve updated the post with the <code>Admin_Login</code> mapper and the <code>mybatis-config.xml</code>. This is my personal project, if you need to see the source code feel free to check my GitHub <a href=\"https://github.com/kidfrom/g2_java/tree/main/Bank_Account\" rel=\"nofollow noreferrer\">github.com/kidfrom/g2_java/tree/main/Bank_Account</a>."},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1604939224,"post_id":64730636,"comment_id":114493748,"body_markdown":"I checked the project, but it&#39;s a little bit too complex for me to run. All I can say is that I couldn&#39;t see any obvious error. You should test it using a smaller app like [these](https://github.com/harawata/mybatis-issues) to isolate the problem first.","body":"I checked the project, but it&#39;s a little bit too complex for me to run. All I can say is that I couldn&#39;t see any obvious error. You should test it using a smaller app like <a href=\"https://github.com/harawata/mybatis-issues\" rel=\"nofollow noreferrer\">these</a> to isolate the problem first."},{"owner":{"account_id":18250480,"reputation":1681,"user_id":13285583,"display_name":"Jason Rich Darmawan"},"score":0,"creation_date":1604994469,"post_id":64730636,"comment_id":114509861,"body_markdown":"@ave thank you for the response. I appreciate it. It turns out because I reuse sqlSession as stated by Mr. Roman. I&#39;ve refactored my repository folder. I will try to isolate it into smaller app on my next problem.","body":"@ave thank you for the response. I appreciate it. It turns out because I reuse sqlSession as stated by Mr. Roman. I&#39;ve refactored my repository folder. I will try to isolate it into smaller app on my next problem."},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1605022276,"post_id":64730636,"comment_id":114522324,"body_markdown":"Ah, he&#39;s right! I&#39;m happy to know that your issue has been resolved! :D","body":"Ah, he&#39;s right! I&#39;m happy to know that your issue has been resolved! :D"}],"answers":[{"tags":[],"owner":{"account_id":2573819,"reputation":15175,"user_id":2231972,"display_name":"Roman-Stop RU aggression in UA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647013843,"creation_date":1604938815,"answer_id":64755324,"question_id":64730636,"body_markdown":"This problem happens because you create one `SqlSession` in `Admin_LoginImpl` and reuse it. This is not the recommended way to use mybatis. By default mybatis uses cache that is bound to session so if you repeat the same query it will return cached result.\r\n\r\nSession creation is not a heavy weight operation and should be done once per request. The problem with performance that you faced is caused not by session creation by because `SqlSessionFactory` creation takes time. \r\n\r\nTo solve the problem you can keep `SqlSessionFactory` creation in the constructor of you repository but create `SqlSession` for every transaction.\r\n\r\nYet a better solution is to use [MyBatis-Spring](https://mybatis.org/spring/) integration which will give you proper integration with spring and session management for free.","title":"How to not persist sqlSession.selectOne returned value?","body":"<p>This problem happens because you create one <code>SqlSession</code> in <code>Admin_LoginImpl</code> and reuse it. This is not the recommended way to use mybatis. By default mybatis uses cache that is bound to session so if you repeat the same query it will return cached result.</p>\n<p>Session creation is not a heavy weight operation and should be done once per request. The problem with performance that you faced is caused not by session creation by because <code>SqlSessionFactory</code> creation takes time.</p>\n<p>To solve the problem you can keep <code>SqlSessionFactory</code> creation in the constructor of you repository but create <code>SqlSession</code> for every transaction.</p>\n<p>Yet a better solution is to use <a href=\"https://mybatis.org/spring/\" rel=\"nofollow noreferrer\">MyBatis-Spring</a> integration which will give you proper integration with spring and session management for free.</p>\n"}],"owner":{"account_id":18250480,"reputation":1681,"user_id":13285583,"display_name":"Jason Rich Darmawan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":551,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64755324,"answer_count":1,"score":0,"last_activity_date":1647013843,"creation_date":1604771013,"question_id":64730636,"body_markdown":"My goal is to not persist the SqlSession.selectOne returned value. The problem is, if you do a sqlSession.selectOne (using an API endpoint) and then you edit the database directly for example using the MySQL workbench. After you edit the database and do another API endpoint request, the returned value will not change.\r\n\r\nThis is how you recreate the problem:\r\n1. Do get request to the endpoint. The returned value is false.\r\n2. Update the database so if you do a get request again, the returned value should be true. Instead it returned false.\r\n\r\nThe only way to fix this is to restart the server, which is not feasible.\r\n\r\nThis is how I do a sqlSession.selectOne:\r\n1. boolean value = sqlSession.selectOne(params);\r\n2. sqlSession.commit();\r\n3. return value;\r\n\r\n```\r\n@Repository\r\npublic class Admin_LoginImpl {\r\n  private SqlSession sqlSession;\r\n\r\n  public Admin_LoginImpl() {\r\n    Reader reader = null;\r\n    try {\r\n      reader = Resources.getResourceAsReader(&quot;mybatis-config.xml&quot;);\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n    SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(reader);\r\n    sqlSession = sqlSessionFactory.openSession();\r\n  }\r\n\r\n  public void createTableIfNotExists() {\r\n    sqlSession.update(&quot;Admin_Login.createTableIfNotExists&quot;);\r\n    sqlSession.commit();\r\n  }\r\n\r\n  public boolean exist(String User_ID) {\r\n    boolean isExist = sqlSession.selectOne(&quot;Admin_Login.exist&quot;, User_ID);\r\n    sqlSession.commit();\r\n    return isExist;\r\n  }\r\n}\r\n```\r\n\r\nmybatis-config.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;!DOCTYPE configuration\r\n        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;\r\n        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;\r\n&lt;configuration&gt;\r\n    &lt;properties resource=&quot;application.properties&quot;/&gt;\r\n    &lt;environments default=&quot;development&quot;&gt;\r\n        &lt;environment id=&quot;development&quot;&gt;\r\n            &lt;transactionManager type=&quot;JDBC&quot;/&gt;\r\n            &lt;dataSource type=&quot;POOLED&quot;&gt;\r\n                &lt;property name=&quot;driver&quot; value=&quot;${spring.datasource.driver-class-name}&quot;/&gt;\r\n                &lt;property name=&quot;url&quot; value=&quot;${spring.datasource.url}&quot;/&gt;\r\n                &lt;property name=&quot;username&quot; value=&quot;${spring.datasource.username}&quot;/&gt;\r\n                &lt;property name=&quot;password&quot; value=&quot;${spring.datasource.password}&quot;/&gt;\r\n            &lt;/dataSource&gt;\r\n        &lt;/environment&gt;\r\n    &lt;/environments&gt;\r\n    &lt;mappers&gt;\r\n        &lt;mapper resource=&quot;builder/User_LoginMapper.xml&quot;/&gt;\r\n        &lt;mapper resource=&quot;builder/User_InfoMapper.xml&quot;/&gt;\r\n        &lt;mapper resource=&quot;builder/User_DetailMapper.xml&quot;/&gt;\r\n        &lt;mapper resource=&quot;builder/TransactionsMapper.xml&quot;/&gt;\r\n        &lt;mapper resource=&quot;builder/Transactions_ProgressMapper.xml&quot;/&gt;\r\n        &lt;mapper resource=&quot;builder/StatementsMapper.xml&quot;/&gt;\r\n\r\n        &lt;mapper resource=&quot;builder/admin/Admin_LoginMapper.xml&quot;/&gt;\r\n        &lt;mapper resource=&quot;builder/admin/Admin_TransactionsMapper.xml&quot;/&gt;\r\n    &lt;/mappers&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nbuild/admin/Admin_LogginMapper.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;!DOCTYPE mapper\r\n        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;\r\n        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;\r\n&lt;mapper namespace=&quot;Admin_Login&quot;&gt;\r\n    &lt;update id=&quot;createTableIfNotExists&quot;&gt;\r\n        CREATE TABLE IF NOT EXISTS `admin_login` (\r\n        `ID` int NOT NULL AUTO_INCREMENT,\r\n        `User_ID` char(12) NOT NULL,\r\n        PRIMARY KEY (`ID`),\r\n        UNIQUE KEY `User_ID_UNIQUE` (`User_ID`)\r\n        ) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci\r\n    &lt;/update&gt;\r\n    &lt;select id=&quot;exist&quot; parameterType=&quot;String&quot; resultType=&quot;boolean&quot;&gt;\r\n        SELECT EXISTS(SELECT 1 FROM admin_login WHERE User_ID=#{User_ID})\r\n    &lt;/select&gt;\r\n&lt;/mapper&gt;\r\n```\r\n\r\nWhat I&#39;ve did:\r\n1. tried to do sqlSession.close(); // this will lead to error.\r\n2. tried to do sqlSession.clearCache(); // does not help.\r\n\r\nI can&#39;t afford to:\r\n1. **Remove the @Repository and manually create new object Admin_LoginImpl for every rest endpoint request. This will significantly increase the response time.**","title":"How to not persist sqlSession.selectOne returned value?","body":"<p>My goal is to not persist the SqlSession.selectOne returned value. The problem is, if you do a sqlSession.selectOne (using an API endpoint) and then you edit the database directly for example using the MySQL workbench. After you edit the database and do another API endpoint request, the returned value will not change.</p>\n<p>This is how you recreate the problem:</p>\n<ol>\n<li>Do get request to the endpoint. The returned value is false.</li>\n<li>Update the database so if you do a get request again, the returned value should be true. Instead it returned false.</li>\n</ol>\n<p>The only way to fix this is to restart the server, which is not feasible.</p>\n<p>This is how I do a sqlSession.selectOne:</p>\n<ol>\n<li>boolean value = sqlSession.selectOne(params);</li>\n<li>sqlSession.commit();</li>\n<li>return value;</li>\n</ol>\n<pre><code>@Repository\npublic class Admin_LoginImpl {\n  private SqlSession sqlSession;\n\n  public Admin_LoginImpl() {\n    Reader reader = null;\n    try {\n      reader = Resources.getResourceAsReader(&quot;mybatis-config.xml&quot;);\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n    SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(reader);\n    sqlSession = sqlSessionFactory.openSession();\n  }\n\n  public void createTableIfNotExists() {\n    sqlSession.update(&quot;Admin_Login.createTableIfNotExists&quot;);\n    sqlSession.commit();\n  }\n\n  public boolean exist(String User_ID) {\n    boolean isExist = sqlSession.selectOne(&quot;Admin_Login.exist&quot;, User_ID);\n    sqlSession.commit();\n    return isExist;\n  }\n}\n</code></pre>\n<p>mybatis-config.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE configuration\n        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;\n        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;\n&lt;configuration&gt;\n    &lt;properties resource=&quot;application.properties&quot;/&gt;\n    &lt;environments default=&quot;development&quot;&gt;\n        &lt;environment id=&quot;development&quot;&gt;\n            &lt;transactionManager type=&quot;JDBC&quot;/&gt;\n            &lt;dataSource type=&quot;POOLED&quot;&gt;\n                &lt;property name=&quot;driver&quot; value=&quot;${spring.datasource.driver-class-name}&quot;/&gt;\n                &lt;property name=&quot;url&quot; value=&quot;${spring.datasource.url}&quot;/&gt;\n                &lt;property name=&quot;username&quot; value=&quot;${spring.datasource.username}&quot;/&gt;\n                &lt;property name=&quot;password&quot; value=&quot;${spring.datasource.password}&quot;/&gt;\n            &lt;/dataSource&gt;\n        &lt;/environment&gt;\n    &lt;/environments&gt;\n    &lt;mappers&gt;\n        &lt;mapper resource=&quot;builder/User_LoginMapper.xml&quot;/&gt;\n        &lt;mapper resource=&quot;builder/User_InfoMapper.xml&quot;/&gt;\n        &lt;mapper resource=&quot;builder/User_DetailMapper.xml&quot;/&gt;\n        &lt;mapper resource=&quot;builder/TransactionsMapper.xml&quot;/&gt;\n        &lt;mapper resource=&quot;builder/Transactions_ProgressMapper.xml&quot;/&gt;\n        &lt;mapper resource=&quot;builder/StatementsMapper.xml&quot;/&gt;\n\n        &lt;mapper resource=&quot;builder/admin/Admin_LoginMapper.xml&quot;/&gt;\n        &lt;mapper resource=&quot;builder/admin/Admin_TransactionsMapper.xml&quot;/&gt;\n    &lt;/mappers&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>build/admin/Admin_LogginMapper.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE mapper\n        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;\n        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;\n&lt;mapper namespace=&quot;Admin_Login&quot;&gt;\n    &lt;update id=&quot;createTableIfNotExists&quot;&gt;\n        CREATE TABLE IF NOT EXISTS `admin_login` (\n        `ID` int NOT NULL AUTO_INCREMENT,\n        `User_ID` char(12) NOT NULL,\n        PRIMARY KEY (`ID`),\n        UNIQUE KEY `User_ID_UNIQUE` (`User_ID`)\n        ) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci\n    &lt;/update&gt;\n    &lt;select id=&quot;exist&quot; parameterType=&quot;String&quot; resultType=&quot;boolean&quot;&gt;\n        SELECT EXISTS(SELECT 1 FROM admin_login WHERE User_ID=#{User_ID})\n    &lt;/select&gt;\n&lt;/mapper&gt;\n</code></pre>\n<p>What I've did:</p>\n<ol>\n<li>tried to do sqlSession.close(); // this will lead to error.</li>\n<li>tried to do sqlSession.clearCache(); // does not help.</li>\n</ol>\n<p>I can't afford to:</p>\n<ol>\n<li><strong>Remove the @Repository and manually create new object Admin_LoginImpl for every rest endpoint request. This will significantly increase the response time.</strong></li>\n</ol>\n"},{"tags":["java","java-stream","java-nio"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1646923737,"post_id":71424171,"comment_id":126248107,"body_markdown":"Just an observation to say that not all file systems support a file creation timestamp","body":"Just an observation to say that not all file systems support a file creation timestamp"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1647013842,"creation_date":1646917094,"answer_id":71424529,"question_id":71424171,"body_markdown":"You cannot compare a &quot;creationTime&quot; / `FileTime`  with &quot;&gt;&quot;. If you view source of `Files.isDirectory(path)` and `Files.getAttribute(path,attr)` you will see that both read the underlying filesystem attributes - so two filters are re-reading similar definitions. \r\n\r\nSwitching to `Files.find` provides a much neater way to scan as it retrieves file attributes automatically and passes both the filesystem path and attribute to a bi-predicate. This makes it easier to pre-filter a `Files.find` stream firstly on directory and then by comparing the creation times using built-in `time1.isAfter(time2)`. Something like this:\r\n\r\n    Instant refTime = Files.readAttributes(reference, BasicFileAttributes.class).creationTime().toInstant();\r\n    try(var dirs = Files.find(dir, 1 /*depth*/, (p,a) -&gt; \r\n             a.isDirectory() &amp;&amp; a.creationTime().toInstant().isAfter(refTime))) {\r\n        List&lt;Path&gt; recentDirs = dirs.collect(Collectors.toList());\r\n        ...\r\n    }\r\n","title":"How to filter Java Streams using Files.getAttribute","body":"<p>You cannot compare a &quot;creationTime&quot; / <code>FileTime</code>  with &quot;&gt;&quot;. If you view source of <code>Files.isDirectory(path)</code> and <code>Files.getAttribute(path,attr)</code> you will see that both read the underlying filesystem attributes - so two filters are re-reading similar definitions.</p>\n<p>Switching to <code>Files.find</code> provides a much neater way to scan as it retrieves file attributes automatically and passes both the filesystem path and attribute to a bi-predicate. This makes it easier to pre-filter a <code>Files.find</code> stream firstly on directory and then by comparing the creation times using built-in <code>time1.isAfter(time2)</code>. Something like this:</p>\n<pre><code>Instant refTime = Files.readAttributes(reference, BasicFileAttributes.class).creationTime().toInstant();\ntry(var dirs = Files.find(dir, 1 /*depth*/, (p,a) -&gt; \n         a.isDirectory() &amp;&amp; a.creationTime().toInstant().isAfter(refTime))) {\n    List&lt;Path&gt; recentDirs = dirs.collect(Collectors.toList());\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":24515276,"reputation":1,"user_id":18429136,"display_name":"alleranfangistschwer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647013842,"creation_date":1646915279,"question_id":71424171,"body_markdown":"I am trying to filter files that were created more recent than another file. I just don&#39;t get how to apply the methods from `Files` directly to the stream.\r\n\r\nIs there a neater way to do it?, I know it does not help readability to use Streams for the application but Im trying to learn to use it.\r\n\r\n```\r\ntry (Stream&lt;Path&gt; stream = Files.walk(dir,1)) {\r\n                res = stream.filter(Files::isDirectory).filter(\r\n                     f-&gt;Files.getAttribute(f,&quot;creationTime&quot;)&gt;\r\n                     Files.getAttribute(reference, &quot;creationTime&quot;))\r\n                    .collect(Collectors.toList());\r\n}\r\n```","title":"How to filter Java Streams using Files.getAttribute","body":"<p>I am trying to filter files that were created more recent than another file. I just don't get how to apply the methods from <code>Files</code> directly to the stream.</p>\n<p>Is there a neater way to do it?, I know it does not help readability to use Streams for the application but Im trying to learn to use it.</p>\n<pre><code>try (Stream&lt;Path&gt; stream = Files.walk(dir,1)) {\n                res = stream.filter(Files::isDirectory).filter(\n                     f-&gt;Files.getAttribute(f,&quot;creationTime&quot;)&gt;\n                     Files.getAttribute(reference, &quot;creationTime&quot;))\n                    .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","android-recyclerview"],"owner":{"account_id":24237502,"reputation":105,"user_id":18190398,"display_name":"Bam Bou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1647013670,"creation_date":1647004467,"question_id":71439096,"body_markdown":"I&#39;m trying to create a recyclerview which can change layout (a list or a grid), for that I modified my adapter to determine the which layout it should use according to the number of spans. But when I try to modify the information from the holder nothing is happening. Does anyone have an idea?\r\n\r\nhere&#39;s my adapter:\r\n\r\n    class FileAdapter(\r\n    private val context: Context,\r\n    private val layoutManager: GridLayoutManager,\r\n    private var items:MutableList&lt;File&gt;,\r\n    private val isFolder:Boolean = false\r\n    ) : RecyclerView.Adapter&lt;FileAdapter.FileViewHolder&gt;() {\r\n\r\n    companion object {\r\n        private val LIST = 1\r\n        private val GRID = 3\r\n        private val VIEW_TYPE_LIST = 1\r\n        private val VIEW_TYPE_GRID = 2\r\n    }\r\n\r\n\r\n    override fun getItemViewType(position: Int): Int {\r\n        val spanCount: Int = layoutManager.spanCount\r\n        return if (spanCount == LIST) {\r\n            VIEW_TYPE_LIST\r\n        } else {\r\n            VIEW_TYPE_GRID\r\n        }\r\n    }\r\n\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType : Int):FileViewHolder{\r\n        val view : View\r\n        if(!isFolder) {\r\n            if (viewType == VIEW_TYPE_GRID) {\r\n                view = LayoutInflater.from(parent.context).inflate(R.layout.file_element, parent, false)\r\n            } else {\r\n                view = LayoutInflater.from(parent.context).inflate(R.layout.file_list_element, parent, false)\r\n            }\r\n        } else\r\n            view = LayoutInflater.from(parent.context).inflate(R.layout.folder_element, parent, false)\r\n\r\n        return FileViewHolder(view, viewType)\r\n    }\r\n\r\n\r\n\r\n    class FileViewHolder(view : View, viewType: Int) : RecyclerView.ViewHolder(view) {\r\n        var fileName: TextView? = null\r\n        var fileImg: ImageView? = null\r\n        var fileSize: TextView? = null\r\n        init {\r\n            if (viewType == VIEW_TYPE_GRID) {\r\n                val fileName = view.findViewById&lt;TextView&gt;(R.id.file_name)\r\n                var fileImg = view.findViewById&lt;ImageView&gt;(R.id.file_img)\r\n            } else {\r\n                val fileName = view.findViewById&lt;TextView&gt;(R.id.file_name)\r\n                var fileImg = view.findViewById&lt;ImageView&gt;(R.id.file_img)\r\n                var fileSize = view.findViewById&lt;TextView&gt;(R.id.file_size)\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    override fun onBindViewHolder(holder: FileViewHolder, position: Int) {\r\n\r\n        val currentFile = items[position]\r\n\r\n        holder.fileName?.text = currentFile.name\r\n\r\n        if(currentFile.isDirectory)\r\n            //holder.fileImg.setImageResource(getDrawable(R.drawable.ic_folder))\r\n        else if(currentFile.extension==&quot;pdf&quot;){                                \r\n            //holder.fileImg.setImageResource(R.drawable.ic_pdf)\r\n            CoroutineScope(Dispatchers.Default).launch {\r\n                val bitmapPdf = pdfToBitmap(currentFile)\r\n                CoroutineScope(Dispatchers.Main).launch {\r\n                    holder.fileImg?.setImageBitmap(bitmapPdf)\r\n                }\r\n            }\r\n        }\r\n        else if(currentFile.extension==&quot;docx&quot;)\r\n            holder.fileImg?.setImageResource(R.drawable.ic_docx)\r\n        else if(currentFile.extension==&quot;xlsx&quot;)\r\n            holder.fileImg?.setImageResource(R.drawable.ic_xlsx)                  \r\n        else\r\n            holder.fileImg?.setImageResource(R.drawable.ic_file)\r\n\r\n\r\n    }\r\n    override fun getItemCount() = items.size\r\n\r\n    }\r\n\r\nHere&#39;s the result:  \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Tbn9s.png","title":"List/grid switchable recyclerview doesn&#39;t work","body":"<p>I'm trying to create a recyclerview which can change layout (a list or a grid), for that I modified my adapter to determine the which layout it should use according to the number of spans. But when I try to modify the information from the holder nothing is happening. Does anyone have an idea?</p>\n<p>here's my adapter:</p>\n<pre><code>class FileAdapter(\nprivate val context: Context,\nprivate val layoutManager: GridLayoutManager,\nprivate var items:MutableList&lt;File&gt;,\nprivate val isFolder:Boolean = false\n) : RecyclerView.Adapter&lt;FileAdapter.FileViewHolder&gt;() {\n\ncompanion object {\n    private val LIST = 1\n    private val GRID = 3\n    private val VIEW_TYPE_LIST = 1\n    private val VIEW_TYPE_GRID = 2\n}\n\n\noverride fun getItemViewType(position: Int): Int {\n    val spanCount: Int = layoutManager.spanCount\n    return if (spanCount == LIST) {\n        VIEW_TYPE_LIST\n    } else {\n        VIEW_TYPE_GRID\n    }\n}\n\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType : Int):FileViewHolder{\n    val view : View\n    if(!isFolder) {\n        if (viewType == VIEW_TYPE_GRID) {\n            view = LayoutInflater.from(parent.context).inflate(R.layout.file_element, parent, false)\n        } else {\n            view = LayoutInflater.from(parent.context).inflate(R.layout.file_list_element, parent, false)\n        }\n    } else\n        view = LayoutInflater.from(parent.context).inflate(R.layout.folder_element, parent, false)\n\n    return FileViewHolder(view, viewType)\n}\n\n\n\nclass FileViewHolder(view : View, viewType: Int) : RecyclerView.ViewHolder(view) {\n    var fileName: TextView? = null\n    var fileImg: ImageView? = null\n    var fileSize: TextView? = null\n    init {\n        if (viewType == VIEW_TYPE_GRID) {\n            val fileName = view.findViewById&lt;TextView&gt;(R.id.file_name)\n            var fileImg = view.findViewById&lt;ImageView&gt;(R.id.file_img)\n        } else {\n            val fileName = view.findViewById&lt;TextView&gt;(R.id.file_name)\n            var fileImg = view.findViewById&lt;ImageView&gt;(R.id.file_img)\n            var fileSize = view.findViewById&lt;TextView&gt;(R.id.file_size)\n        }\n    }\n\n\n}\n\n\noverride fun onBindViewHolder(holder: FileViewHolder, position: Int) {\n\n    val currentFile = items[position]\n\n    holder.fileName?.text = currentFile.name\n\n    if(currentFile.isDirectory)\n        //holder.fileImg.setImageResource(getDrawable(R.drawable.ic_folder))\n    else if(currentFile.extension==&quot;pdf&quot;){                                \n        //holder.fileImg.setImageResource(R.drawable.ic_pdf)\n        CoroutineScope(Dispatchers.Default).launch {\n            val bitmapPdf = pdfToBitmap(currentFile)\n            CoroutineScope(Dispatchers.Main).launch {\n                holder.fileImg?.setImageBitmap(bitmapPdf)\n            }\n        }\n    }\n    else if(currentFile.extension==&quot;docx&quot;)\n        holder.fileImg?.setImageResource(R.drawable.ic_docx)\n    else if(currentFile.extension==&quot;xlsx&quot;)\n        holder.fileImg?.setImageResource(R.drawable.ic_xlsx)                  \n    else\n        holder.fileImg?.setImageResource(R.drawable.ic_file)\n\n\n}\noverride fun getItemCount() = items.size\n\n}\n</code></pre>\n<p>Here's the result:<br />\n<a href=\"https://i.stack.imgur.com/Tbn9s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tbn9s.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647013607,"creation_date":1647007036,"answer_id":71439642,"question_id":71438961,"body_markdown":"If `@JsonGetter` is used as is currently, it will map property `n_age` to field `age`. To citate the [docs][1] - *It can be used as an alternative to more general JsonProperty annotation (which is the recommended choice in general case).*\r\n\r\nTo fix this behaviour, you need to:\r\n\r\n 1. Tell jackson to ignore property `n_age`, otherwise you will get exception for unrecognized property not marked as ignorable - `@JsonIgnoreProperties(&quot;n_age&quot;)`.\r\n 2. Tell jackson to allow getters for ignored properties(basically make it readonly) - `@JsonIgnoreProperties(value = {&quot;n_age&quot;}, allowGetters = true)`\r\n\r\nIn the end, `Person` should look like this:\r\n```\r\n@JsonIgnoreProperties(value = {&quot;n_age&quot;}, allowGetters = true)\r\npublic class Person {\r\n\r\n    private final String name;\r\n    private final int age;\r\n\r\n    @JsonCreator\r\n    public Person(@JsonProperty(&quot;name&quot;) String name) {\r\n        this.name = name;\r\n        this.age = 100;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    @JsonGetter(&quot;n_age&quot;)\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Person{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, age=&quot; + age +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonGetter.html","title":"How to deserialize JSON with @JsonCreator and @JsonGetter","body":"<p>If <code>@JsonGetter</code> is used as is currently, it will map property <code>n_age</code> to field <code>age</code>. To citate the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonGetter.html\" rel=\"nofollow noreferrer\">docs</a> - <em>It can be used as an alternative to more general JsonProperty annotation (which is the recommended choice in general case).</em></p>\n<p>To fix this behaviour, you need to:</p>\n<ol>\n<li>Tell jackson to ignore property <code>n_age</code>, otherwise you will get exception for unrecognized property not marked as ignorable - <code>@JsonIgnoreProperties(&quot;n_age&quot;)</code>.</li>\n<li>Tell jackson to allow getters for ignored properties(basically make it readonly) - <code>@JsonIgnoreProperties(value = {&quot;n_age&quot;}, allowGetters = true)</code></li>\n</ol>\n<p>In the end, <code>Person</code> should look like this:</p>\n<pre><code>@JsonIgnoreProperties(value = {&quot;n_age&quot;}, allowGetters = true)\npublic class Person {\n\n    private final String name;\n    private final int age;\n\n    @JsonCreator\n    public Person(@JsonProperty(&quot;name&quot;) String name) {\n        this.name = name;\n        this.age = 100;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    @JsonGetter(&quot;n_age&quot;)\n    public int getAge() {\n        return age;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Person{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, age=&quot; + age +\n                '}';\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647008869,"creation_date":1647008869,"answer_id":71440017,"question_id":71438961,"body_markdown":"I found the solution for fixing my issue, maybe it&#39;s a bad way, but it works for me as well. I&#39;m ignoring the ```n_age``` property during deserialization and allowing getters during serialization.\r\nThanks a lot @Chaosfire for the help!\r\n```\r\n@JsonIgnoreProperties({&quot;n_age&quot;}, allowGetters = true)\r\npublic class Person {\r\n\r\n    private final String name;\r\n    private final int age;\r\n\r\n    @JsonCreator\r\n    public Person(@JsonProperty(&quot;name&quot;) String name) {\r\n        this.name = name;\r\n        this.age = 100;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    @JsonGetter(&quot;n_age&quot;)\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n}\r\n\r\n```","title":"How to deserialize JSON with @JsonCreator and @JsonGetter","body":"<p>I found the solution for fixing my issue, maybe it's a bad way, but it works for me as well. I'm ignoring the <code>n_age</code> property during deserialization and allowing getters during serialization.\nThanks a lot @Chaosfire for the help!</p>\n<pre><code>@JsonIgnoreProperties({&quot;n_age&quot;}, allowGetters = true)\npublic class Person {\n\n    private final String name;\n    private final int age;\n\n    @JsonCreator\n    public Person(@JsonProperty(&quot;name&quot;) String name) {\n        this.name = name;\n        this.age = 100;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    @JsonGetter(&quot;n_age&quot;)\n    public int getAge() {\n        return age;\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71439642,"answer_count":2,"score":1,"last_activity_date":1647013607,"creation_date":1647003890,"question_id":71438961,"body_markdown":"I have the JSON looks like the following:\r\n```\r\n{\r\n  &quot;name&quot;:&quot;John&quot;,\r\n  &quot;n_age&quot;:500\r\n}\r\n```\r\nand I have a class ```Person```:\r\n```\r\npublic class Person {\r\n    private final String name;\r\n    private final int age;\r\n\r\n    @JsonCreator\r\n    public Person(@JsonProperty(&quot;name&quot;) String name) {\r\n        this.name = name;\r\n        this.age = 100;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    @JsonGetter(&quot;n_age&quot;)\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n}\r\n```\r\nI need to deserialize and serialize it, but when I&#39;m trying to deserialize this JSON I get unexpected result.\r\n```\r\npublic static void main(String... args) {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    Person person = mapper.readValue(args[0], Person.class);\r\n    System.out.println(person.getAge()); // I got 500, but I expect 100.\r\n}\r\n```\r\nWhy when I&#39;m trying to deserialize it the @JsonGetter annotation is used for it?&lt;br/&gt;\r\nHow can I disable @JsonGetter annotation when I try to deserialize the JSON?","title":"How to deserialize JSON with @JsonCreator and @JsonGetter","body":"<p>I have the JSON looks like the following:</p>\n<pre><code>{\n  &quot;name&quot;:&quot;John&quot;,\n  &quot;n_age&quot;:500\n}\n</code></pre>\n<p>and I have a class <code>Person</code>:</p>\n<pre><code>public class Person {\n    private final String name;\n    private final int age;\n\n    @JsonCreator\n    public Person(@JsonProperty(&quot;name&quot;) String name) {\n        this.name = name;\n        this.age = 100;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    @JsonGetter(&quot;n_age&quot;)\n    public int getAge() {\n        return age;\n    }\n}\n</code></pre>\n<p>I need to deserialize and serialize it, but when I'm trying to deserialize this JSON I get unexpected result.</p>\n<pre><code>public static void main(String... args) {\n    ObjectMapper mapper = new ObjectMapper();\n    Person person = mapper.readValue(args[0], Person.class);\n    System.out.println(person.getAge()); // I got 500, but I expect 100.\n}\n</code></pre>\n<p>Why when I'm trying to deserialize it the @JsonGetter annotation is used for it?<br/>\nHow can I disable @JsonGetter annotation when I try to deserialize the JSON?</p>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1647002145,"post_id":71438596,"comment_id":126269140,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1647002224,"post_id":71438596,"comment_id":126269173,"body_markdown":"I&#39;m sorry, but you did not answer any of my questions.","body":"I&#39;m sorry, but you did not answer any of my questions."},{"owner":{"account_id":24526295,"reputation":31,"user_id":18438715,"display_name":"Kersey"},"score":0,"creation_date":1647002359,"post_id":71438596,"comment_id":126269213,"body_markdown":"@AlexMamo Hello! this code part of the code\nDocumentReference docref = fStore.collection(&quot;Users&quot;).document(&quot;Users&quot;);\n    docref.addSnapshotListener(this, (documentSnapshot, error) -&gt; {\n        powents.setText(Math.toIntExact(documentSnapshot.getLong(&quot;Points&quot;)));\nEverytime I log in the user it shows the dashboard https://imgur.com/zJjSNgO then it crashes.","body":"@AlexMamo Hello! this code part of the code DocumentReference docref = fStore.collection(&quot;Users&quot;).document(&quot;Users&quot;);     docref.addSnapshotListener(this, (documentSnapshot, error) -&gt; {         powents.setText(Math.toIntExact(documentSnapshot.getLong(&quot;Po&zwnj;&#8203;ints&quot;))); Everytime I log in the user it shows the dashboard <a href=\"https://imgur.com/zJjSNgO\" rel=\"nofollow noreferrer\">imgur.com/zJjSNgO</a> then it crashes."},{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1647002443,"post_id":71438596,"comment_id":126269246,"body_markdown":"Does this answer your question? [Unfortunately MyApp has stopped. How can I solve this?](https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this\">Unfortunately MyApp has stopped. How can I solve this?</a>"},{"owner":{"account_id":24526295,"reputation":31,"user_id":18438715,"display_name":"Kersey"},"score":0,"creation_date":1647002614,"post_id":71438596,"comment_id":126269296,"body_markdown":"@a_local_nobody unfortunately no. The problem is I don&#39;t know how to display an integer(which is from firebasefirestore) in android studio&#39;s textview.","body":"@a_local_nobody unfortunately no. The problem is I don&#39;t know how to display an integer(which is from firebasefirestore) in android studio&#39;s textview."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1647003182,"post_id":71438596,"comment_id":126269489,"body_markdown":"Please edit your question and add your database structure as a screenshot and indicate the exact data you want to read.","body":"Please edit your question and add your database structure as a screenshot and indicate the exact data you want to read."},{"owner":{"account_id":24526295,"reputation":31,"user_id":18438715,"display_name":"Kersey"},"score":0,"creation_date":1647003567,"post_id":71438596,"comment_id":126269626,"body_markdown":"@AlexMamo copy that sorry for the confusion.","body":"@AlexMamo copy that sorry for the confusion."},{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1647163076,"post_id":71438596,"comment_id":126297602,"body_markdown":"`Everytime I log in the user it shows the dashboard then it crashes` you misunderstood what i sent you then, the link i provided you shows how to get your stack trace, with that stack trace you&#39;ll understand _why_ it is crashing, if you research why that happens you can fix your problems without having to ask here for help :)","body":"<code>Everytime I log in the user it shows the dashboard then it crashes</code> you misunderstood what i sent you then, the link i provided you shows how to get your stack trace, with that stack trace you&#39;ll understand <i>why</i> it is crashing, if you research why that happens you can fix your problems without having to ask here for help :)"}],"answers":[{"tags":[],"owner":{"account_id":23767251,"reputation":565,"user_id":17781856,"display_name":"OneDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647004028,"creation_date":1647004028,"answer_id":71438993,"question_id":71438596,"body_markdown":"I Think **documentSnapshot.getLong(&quot;Points&quot;)** is null and that&#39;s the reason you get NPE(Null pointer exception) and you can&#39;t set value to textview","title":"How to display integer from firebase firestore to Android Studio&#39;s TextView?","body":"<p>I Think <strong>documentSnapshot.getLong(&quot;Points&quot;)</strong> is null and that's the reason you get NPE(Null pointer exception) and you can't set value to textview</p>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647004446,"creation_date":1647004446,"answer_id":71439092,"question_id":71438596,"body_markdown":"The problem in your code seems to be at this line of code:\r\n\r\n    DocumentReference docref = fStore.collection(&quot;Users&quot;).document(&quot;Users&quot;);\r\n\r\nWhen you&#39;re using the above reference, it means that you are trying to read a document that has an ID called `Users`, which actually doesn&#39;t exist, since your screenshot shows that the document ID is `user1@gmail.com`. To solve this, simple change to above document reference to:\r\n\r\n    DocumentReference docref = fStore.collection(&quot;Users&quot;).document(&quot;user1@gmail.com&quot;);\r\n\r\nAnd your code should, as long as you have proper rules. Don&#39;t also forget to attach a failure listener as well, to see if something goes wrong.","title":"How to display integer from firebase firestore to Android Studio&#39;s TextView?","body":"<p>The problem in your code seems to be at this line of code:</p>\n<pre><code>DocumentReference docref = fStore.collection(&quot;Users&quot;).document(&quot;Users&quot;);\n</code></pre>\n<p>When you're using the above reference, it means that you are trying to read a document that has an ID called <code>Users</code>, which actually doesn't exist, since your screenshot shows that the document ID is <code>user1@gmail.com</code>. To solve this, simple change to above document reference to:</p>\n<pre><code>DocumentReference docref = fStore.collection(&quot;Users&quot;).document(&quot;user1@gmail.com&quot;);\n</code></pre>\n<p>And your code should, as long as you have proper rules. Don't also forget to attach a failure listener as well, to see if something goes wrong.</p>\n"}],"owner":{"account_id":24526295,"reputation":31,"user_id":18438715,"display_name":"Kersey"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":71439092,"answer_count":2,"score":0,"last_activity_date":1647013491,"creation_date":1647002064,"question_id":71438596,"body_markdown":"I&#39;m currently making a project in which a user segregates their trash and in return, it gives them points. Using those points they can redeem awards. At the moment I&#39;m having trouble how to display the points in Android Studio&#39;s TextView. This is my code.\r\nmy database structure https://i.stack.imgur.com/TU5mM.jpg I want the points to be displayed on my TextView which is on my dashboard https://i.stack.imgur.com/9hfzb.jpg\r\nthe problem occurs at the DocumentReference portion.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private TextView powents;\r\n    FirebaseFirestore fStore;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Button logout = findViewById(R.id.logout);\r\n        ImageView qrimage = findViewById(R.id.qrimage);\r\n        powents = findViewById(R.id.powents);\r\n        fStore = FirebaseFirestore.getInstance();\r\n\r\n        DocumentReference docref = fStore.collection(&quot;Users&quot;).document(&quot;Users&quot;);\r\n        docref.addSnapshotListener(this, (documentSnapshot, error) -&gt; {\r\n            powents.setText(Math.toIntExact(documentSnapshot.getLong(&quot;Points&quot;)));\r\n\r\n        });\r\n\r\n\r\n        try {\r\n            BarcodeEncoder barcode = new BarcodeEncoder();\r\n            Bitmap bitmap = barcode.encodeBitmap(Objects.requireNonNull(FirebaseAuth.getInstance().getCurrentUser()).getEmail(), BarcodeFormat.QR_CODE, 650, 650);\r\n            qrimage.setImageBitmap(bitmap);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        logout.setOnClickListener(view -&gt; {\r\n                FirebaseAuth.getInstance().signOut();\r\n                Toast.makeText(MainActivity.this, &quot;Logged Out!&quot;, Toast.LENGTH_SHORT).show();\r\n                startActivity(new Intent(MainActivity.this, Login.class));\r\n                finish();\r\n        });\r\n\r\n    }\r\n}\r\n\r\n\r\n","title":"How to display integer from firebase firestore to Android Studio&#39;s TextView?","body":"<p>I'm currently making a project in which a user segregates their trash and in return, it gives them points. Using those points they can redeem awards. At the moment I'm having trouble how to display the points in Android Studio's TextView. This is my code.\nmy database structure <a href=\"https://i.stack.imgur.com/TU5mM.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/TU5mM.jpg</a> I want the points to be displayed on my TextView which is on my dashboard <a href=\"https://i.stack.imgur.com/9hfzb.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/9hfzb.jpg</a>\nthe problem occurs at the DocumentReference portion.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate TextView powents;\nFirebaseFirestore fStore;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    Button logout = findViewById(R.id.logout);\n    ImageView qrimage = findViewById(R.id.qrimage);\n    powents = findViewById(R.id.powents);\n    fStore = FirebaseFirestore.getInstance();\n\n    DocumentReference docref = fStore.collection(&quot;Users&quot;).document(&quot;Users&quot;);\n    docref.addSnapshotListener(this, (documentSnapshot, error) -&gt; {\n        powents.setText(Math.toIntExact(documentSnapshot.getLong(&quot;Points&quot;)));\n\n    });\n\n\n    try {\n        BarcodeEncoder barcode = new BarcodeEncoder();\n        Bitmap bitmap = barcode.encodeBitmap(Objects.requireNonNull(FirebaseAuth.getInstance().getCurrentUser()).getEmail(), BarcodeFormat.QR_CODE, 650, 650);\n        qrimage.setImageBitmap(bitmap);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    logout.setOnClickListener(view -&gt; {\n            FirebaseAuth.getInstance().signOut();\n            Toast.makeText(MainActivity.this, &quot;Logged Out!&quot;, Toast.LENGTH_SHORT).show();\n            startActivity(new Intent(MainActivity.this, Login.class));\n            finish();\n    });\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1647012031,"post_id":71440674,"comment_id":126272883,"body_markdown":"What&#39;s wrong with having both?","body":"What&#39;s wrong with having both?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1647012906,"post_id":71440674,"comment_id":126273242,"body_markdown":"There are tutorials covering this. https://www.baeldung.com/spring-data-criteria-queries and others.","body":"There are tutorials covering this. <a href=\"https://www.baeldung.com/spring-data-criteria-queries\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-criteria-queries</a> and others."},{"owner":{"account_id":16130075,"reputation":61,"user_id":11643997,"display_name":"amit gupta"},"score":0,"creation_date":1647027414,"post_id":71440674,"comment_id":126278386,"body_markdown":"I thought that why to have two repositories for the same entity. If possible i wanted to have/encapsulate all repo related logic in one single repo","body":"I thought that why to have two repositories for the same entity. If possible i wanted to have/encapsulate all repo related logic in one single repo"}],"answers":[{"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647013155,"creation_date":1647013155,"answer_id":71441010,"question_id":71440674,"body_markdown":"You can use [Spring JPA Specification][1]. They will provide you the flexibility of using the Spring repository with JPA&#39;s criteria builder.\r\n\r\nIt is as simple as making your repository extending the interface `JpaSpecificationExecutor`.\r\n\r\n    public interface VehicleRepository extends JpaRepository&lt;Vehicle, Long&gt;, JpaSpecificationExecutor&lt;Vehicle&gt; {\r\n        ....\r\n    }\r\n\r\n\r\nThen you can query your repository using anonymous implementation of an specification or you can implement it as well, whatever suits you best.\r\n\r\nAn anonymous implementation will be something like below.\r\n\r\n    @Autowired\r\n    VehicleRepository vehicleRepository;\r\n\r\n    // somewhere in some methods\r\n    vehicleRepository.findOne((root, criteriaQuery, criteriaBuilder) -&gt; \r\n        criteriaBuilder.equal(root.get(&quot;naturalId&quot;), naturalId)\r\n    );\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications","title":"Spring data jpa query methods with criteria api","body":"<p>You can use <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications\" rel=\"nofollow noreferrer\">Spring JPA Specification</a>. They will provide you the flexibility of using the Spring repository with JPA's criteria builder.</p>\n<p>It is as simple as making your repository extending the interface <code>JpaSpecificationExecutor</code>.</p>\n<pre><code>public interface VehicleRepository extends JpaRepository&lt;Vehicle, Long&gt;, JpaSpecificationExecutor&lt;Vehicle&gt; {\n    ....\n}\n</code></pre>\n<p>Then you can query your repository using anonymous implementation of an specification or you can implement it as well, whatever suits you best.</p>\n<p>An anonymous implementation will be something like below.</p>\n<pre><code>@Autowired\nVehicleRepository vehicleRepository;\n\n// somewhere in some methods\nvehicleRepository.findOne((root, criteriaQuery, criteriaBuilder) -&gt; \n    criteriaBuilder.equal(root.get(&quot;naturalId&quot;), naturalId)\n);\n</code></pre>\n"}],"owner":{"account_id":16130075,"reputation":61,"user_id":11643997,"display_name":"amit gupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3973,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647013155,"creation_date":1647011596,"question_id":71440674,"body_markdown":"I have been using spring data JPA with mysql. I mostly use query methods as below : \r\n\r\n```\r\n\r\npublic interface VehicleRepository extends JpaRepository&lt;Vehicle, Long&gt; {\r\n\r\n    Vehicle findByRegistrationNumber(String registrationNumber);\r\n\r\n    Vehicle findByDriver(Driver driver);\r\n\r\n    Vehicle findByNaturalId(String naturalId);\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nBut now for some usecase I want to criteria api as below : \r\n\r\n```\r\n\r\n@Repository\r\npublic class VehicleCriteriaRepository {\r\n\r\n    private final EntityManager entityManager;\r\n\r\n    public VehicleCriteriaRepository(EntityManager entityManager) {\r\n        this.entityManager = entityManager;\r\n    }\r\n\r\n    public Vehicle find(String naturalId) {\r\n        CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n        CriteriaQuery&lt;Vehicle&gt; criteriaQuery = criteriaBuilder.createQuery(Vehicle.class);\r\n        Root&lt;Vehicle&gt; vehicleRoot = criteriaQuery.from(Vehicle.class);\r\n\r\n        CriteriaQuery&lt;Vehicle&gt; registrationNumber = criteriaQuery\r\n                .select(vehicleRoot)\r\n                .where(criteriaBuilder.equal(vehicleRoot.get(&quot;naturalId&quot;), naturalId));\r\n        Vehicle singleResult = entityManager.createQuery(registrationNumber).getSingleResult();\r\n        return singleResult;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI am unable to understand that how can I use both of them together. Because if I want to use criteria api, I&#39;ll have to make a concrete class. And in case I make a concrete class I could not understand how will I be able to use jpa query methods, as if I implement the interface, I&#39;ll have to provide an implementation. \r\n\r\nCan anyone please help me on this.","title":"Spring data jpa query methods with criteria api","body":"<p>I have been using spring data JPA with mysql. I mostly use query methods as below :</p>\n<pre><code>\npublic interface VehicleRepository extends JpaRepository&lt;Vehicle, Long&gt; {\n\n    Vehicle findByRegistrationNumber(String registrationNumber);\n\n    Vehicle findByDriver(Driver driver);\n\n    Vehicle findByNaturalId(String naturalId);\n\n\n}\n\n</code></pre>\n<p>But now for some usecase I want to criteria api as below :</p>\n<pre><code>\n@Repository\npublic class VehicleCriteriaRepository {\n\n    private final EntityManager entityManager;\n\n    public VehicleCriteriaRepository(EntityManager entityManager) {\n        this.entityManager = entityManager;\n    }\n\n    public Vehicle find(String naturalId) {\n        CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n        CriteriaQuery&lt;Vehicle&gt; criteriaQuery = criteriaBuilder.createQuery(Vehicle.class);\n        Root&lt;Vehicle&gt; vehicleRoot = criteriaQuery.from(Vehicle.class);\n\n        CriteriaQuery&lt;Vehicle&gt; registrationNumber = criteriaQuery\n                .select(vehicleRoot)\n                .where(criteriaBuilder.equal(vehicleRoot.get(&quot;naturalId&quot;), naturalId));\n        Vehicle singleResult = entityManager.createQuery(registrationNumber).getSingleResult();\n        return singleResult;\n    }\n}\n\n</code></pre>\n<p>I am unable to understand that how can I use both of them together. Because if I want to use criteria api, I'll have to make a concrete class. And in case I make a concrete class I could not understand how will I be able to use jpa query methods, as if I implement the interface, I'll have to provide an implementation.</p>\n<p>Can anyone please help me on this.</p>\n"},{"tags":["java","intellij-idea","ide"],"answers":[{"tags":[],"owner":{"account_id":24517308,"reputation":401,"user_id":18430882,"display_name":"quickfix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647012473,"creation_date":1647012473,"answer_id":71440872,"question_id":71412750,"body_markdown":"It&#39;s not possible afaik. But you can create a feature request for it in https://youtrack.jetbrains.com/issues/IDEA ","title":"How to enable view full location of class (file) in info menu? IntelliJ IDEA","body":"<p>It's not possible afaik. But you can create a feature request for it in <a href=\"https://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issues/IDEA</a></p>\n"}],"owner":{"account_id":24036553,"reputation":22,"user_id":18016761,"display_name":"Oleg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71440872,"answer_count":1,"score":0,"last_activity_date":1647012473,"creation_date":1646843396,"question_id":71412750,"body_markdown":"\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/X4TH3.jpg\r\nIntelliJ IDEA. It is info menu (when you stop cursor on class name). **How to enable view full location of class (file)?** Example: Oleg_Library.main.java.src.mypackage.Test","title":"How to enable view full location of class (file) in info menu? IntelliJ IDEA","body":"<p><a href=\"https://i.stack.imgur.com/X4TH3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X4TH3.jpg\" alt=\"enter image description here\" /></a></p>\n<p>IntelliJ IDEA. It is info menu (when you stop cursor on class name). <strong>How to enable view full location of class (file)?</strong> Example: Oleg_Library.main.java.src.mypackage.Test</p>\n"},{"tags":["java","openjdk-17"],"answers":[{"tags":[],"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647012305,"creation_date":1647012305,"answer_id":71440832,"question_id":71440712,"body_markdown":"Each implementation of `java.lang.System.Logger` works differently, so there&#39;s no uniform way to set it for all implementations.\r\n\r\nIf you happen to use `SimpleConsoleLogger`, you can set the environment variable `jdk.system.logger.level`.","title":"Setting log level for java.lang.System.Logger on cmdline","body":"<p>Each implementation of <code>java.lang.System.Logger</code> works differently, so there's no uniform way to set it for all implementations.</p>\n<p>If you happen to use <code>SimpleConsoleLogger</code>, you can set the environment variable <code>jdk.system.logger.level</code>.</p>\n"}],"owner":{"account_id":19466002,"reputation":445,"user_id":14239262,"display_name":"eof"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1647026686,"answer_count":1,"score":0,"last_activity_date":1647012305,"creation_date":1647011753,"question_id":71440712,"body_markdown":"Is there a way to set the logging level for the `java.lang.System.Logger` on the command line? Using properties files baked into the JAR is a no-go, since I want to have the same JAR in staging and production environments with the difference that the staging environment has more verbose logging.","title":"Setting log level for java.lang.System.Logger on cmdline","body":"<p>Is there a way to set the logging level for the <code>java.lang.System.Logger</code> on the command line? Using properties files baked into the JAR is a no-go, since I want to have the same JAR in staging and production environments with the difference that the staging environment has more verbose logging.</p>\n"},{"tags":["java","android","kotlin","object","attributes"],"answers":[{"tags":[],"owner":{"account_id":18440700,"reputation":13,"user_id":18189325,"display_name":"SSAXXARR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646921564,"creation_date":1646921564,"answer_id":71425564,"question_id":71424723,"body_markdown":"I found answer, i create \r\n\r\n    waveform = findViewById(R.id.waveformView); \r\n\r\nthis is view)))","title":"What is parameters in constructor (context, attrs)? How I can create new object this class? Java and Kotlin","body":"<p>I found answer, i create</p>\n<pre><code>waveform = findViewById(R.id.waveformView); \n</code></pre>\n<p>this is view)))</p>\n"},{"tags":[],"owner":{"account_id":6764827,"reputation":61,"user_id":5210138,"display_name":"RAMCODER"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647012225,"creation_date":1647012225,"answer_id":71440816,"question_id":71424723,"body_markdown":"instead of using primary constructor used secondary constructor `constructor(context: Context?, attrs: AttributeSet?)`\r\nand define object normal way as kotlin\r\n\r\nval wview= WaveformView(context)\r\n","title":"What is parameters in constructor (context, attrs)? How I can create new object this class? Java and Kotlin","body":"<p>instead of using primary constructor used secondary constructor <code>constructor(context: Context?, attrs: AttributeSet?)</code>\nand define object normal way as kotlin</p>\n<p>val wview= WaveformView(context)</p>\n"}],"owner":{"account_id":18440700,"reputation":13,"user_id":18189325,"display_name":"SSAXXARR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647012225,"creation_date":1646917958,"question_id":71424723,"body_markdown":"I try create sound spectrum, I created class view, which show spectrum, but to it work, i must create new object this class\r\n\r\nMy View class: \r\n\r\n    class WaveformView(context: Context?, attrs: AttributeSet?) : View(context, attrs) {\r\n        private var paint = Paint()\r\n        private var amplitudes = ArrayList&lt;Float&gt;()\r\n        private var spikes = ArrayList&lt;RectF&gt;()\r\n        private var radius = 6f\r\n        private var w = 9f\r\n        init {\r\n            paint.color = (Color.rgb(244, 81,30))\r\n        }\r\n        fun addAmplitude(amp: Float){\r\n            amplitudes.add(amp)\r\n    \r\n            var left = 0f\r\n            var top = 0f\r\n            var right = left + w\r\n            var bottom = amp\r\n    \r\n            spikes.add(RectF(left, top, right, bottom))\r\n        }\r\n    \r\n        override fun draw(canvas: Canvas?) {\r\n            super.draw(canvas)\r\n            /*canvas?.drawRoundRect(RectF(20f, 30f, 20+30f, 30f + 60f), 6f, 6f, paint)\r\n            canvas?.drawRoundRect(RectF(60f, 60f, 60+80f, 60f + 360f), 6f, 6f, paint)*/\r\n            spikes.forEach{\r\n                canvas?.drawRoundRect(it, radius, radius, paint)\r\n            }\r\n        }\r\n\r\nMy Main class: \r\n\r\n    //Volume\r\n        MediaRecorder mediaRecorder;\r\n        WaveformView waveform = new WaveformView(MainActivity.this, null); &lt;--- Error\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);..............\r\n\r\nI wrote on Kotlin class view, but MainAct i wrote on Java (I don&#39;t now Kotlin, but i found decision)\r\n\r\nI need create a new object to use it\r\n\r\n    public void startRecording() {\r\n            requestPerms();\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED) {\r\n                mediaRecorder = new MediaRecorder();\r\n                mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\r\n                mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\r\n                mediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AAC);\r\n    \r\n                waveform.addAmplitude(mediaRecorder.getMaxAmplitude()); &lt;---here\r\n            } else {\r\n            Toast.makeText(this, &quot;Sorry, your MIC don&#39;t work&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n\r\nMy Error:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.example.imagewithcamera, PID: 889\r\n        java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.imagewithcamera/com.example.imagewithcamera.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.res.Resources android.content.Context.getResources()&#39; on a null object reference\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3737)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4022)\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2336)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loop(Looper.java:246)\r\n            at android.app.ActivityThread.main(ActivityThread.java:8653)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n         Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.res.Resources android.content.Context.getResources()&#39; on a null object reference\r\n            at android.content.ContextWrapper.getResources(ContextWrapper.java:101)\r\n            at android.view.ContextThemeWrapper.getResourcesInternal(ContextThemeWrapper.java:134)\r\n            at android.view.ContextThemeWrapper.getResources(ContextThemeWrapper.java:128)\r\n            at android.support.v7.app.AppCompatActivity.getResources(AppCompatActivity.java:543)\r\n            at android.view.View.&lt;init&gt;(View.java:5682)\r\n            at android.view.View.&lt;init&gt;(View.java:5886)\r\n            at android.view.View.&lt;init&gt;(View.java:5849)\r\n            at android.view.View.&lt;init&gt;(View.java:5828)\r\n            at com.example.imagewithcamera.WaveformView.&lt;init&gt;(WaveformView.kt:11)\r\n            at com.example.imagewithcamera.MainActivity.&lt;init&gt;(MainActivity.java:62)\r\n            at java.lang.Class.newInstance(Native Method)\r\n            \r\n\r\n&#160;\r\n\r\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\","title":"What is parameters in constructor (context, attrs)? How I can create new object this class? Java and Kotlin","body":"<p>I try create sound spectrum, I created class view, which show spectrum, but to it work, i must create new object this class</p>\n<p>My View class:</p>\n<pre><code>class WaveformView(context: Context?, attrs: AttributeSet?) : View(context, attrs) {\n    private var paint = Paint()\n    private var amplitudes = ArrayList&lt;Float&gt;()\n    private var spikes = ArrayList&lt;RectF&gt;()\n    private var radius = 6f\n    private var w = 9f\n    init {\n        paint.color = (Color.rgb(244, 81,30))\n    }\n    fun addAmplitude(amp: Float){\n        amplitudes.add(amp)\n\n        var left = 0f\n        var top = 0f\n        var right = left + w\n        var bottom = amp\n\n        spikes.add(RectF(left, top, right, bottom))\n    }\n\n    override fun draw(canvas: Canvas?) {\n        super.draw(canvas)\n        /*canvas?.drawRoundRect(RectF(20f, 30f, 20+30f, 30f + 60f), 6f, 6f, paint)\n        canvas?.drawRoundRect(RectF(60f, 60f, 60+80f, 60f + 360f), 6f, 6f, paint)*/\n        spikes.forEach{\n            canvas?.drawRoundRect(it, radius, radius, paint)\n        }\n    }\n</code></pre>\n<p>My Main class:</p>\n<pre><code>//Volume\n    MediaRecorder mediaRecorder;\n    WaveformView waveform = new WaveformView(MainActivity.this, null); &lt;--- Error\n\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);..............\n</code></pre>\n<p>I wrote on Kotlin class view, but MainAct i wrote on Java (I don't now Kotlin, but i found decision)</p>\n<p>I need create a new object to use it</p>\n<pre><code>public void startRecording() {\n        requestPerms();\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED) {\n            mediaRecorder = new MediaRecorder();\n            mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\n            mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\n            mediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AAC);\n\n            waveform.addAmplitude(mediaRecorder.getMaxAmplitude()); &lt;---here\n        } else {\n        Toast.makeText(this, &quot;Sorry, your MIC don't work&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n</code></pre>\n<p>My Error:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.imagewithcamera, PID: 889\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.imagewithcamera/com.example.imagewithcamera.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.res.Resources android.content.Context.getResources()' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3737)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4022)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2336)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:246)\n        at android.app.ActivityThread.main(ActivityThread.java:8653)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.res.Resources android.content.Context.getResources()' on a null object reference\n        at android.content.ContextWrapper.getResources(ContextWrapper.java:101)\n        at android.view.ContextThemeWrapper.getResourcesInternal(ContextThemeWrapper.java:134)\n        at android.view.ContextThemeWrapper.getResources(ContextThemeWrapper.java:128)\n        at android.support.v7.app.AppCompatActivity.getResources(AppCompatActivity.java:543)\n        at android.view.View.&lt;init&gt;(View.java:5682)\n        at android.view.View.&lt;init&gt;(View.java:5886)\n        at android.view.View.&lt;init&gt;(View.java:5849)\n        at android.view.View.&lt;init&gt;(View.java:5828)\n        at com.example.imagewithcamera.WaveformView.&lt;init&gt;(WaveformView.kt:11)\n        at com.example.imagewithcamera.MainActivity.&lt;init&gt;(MainActivity.java:62)\n        at java.lang.Class.newInstance(Native Method)\n        \n</code></pre>\n<p> </p>\n<p>\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\</p>\n"},{"tags":["java","android","memory","garbage-collection","ftp-client"],"owner":{"account_id":11448662,"reputation":680,"user_id":8391649,"display_name":"TomInCode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2144,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1647012180,"creation_date":1647006675,"question_id":71439572,"body_markdown":"During testing an android app on a real device, I need to list the remote directory contents on a ftp server recursive \r\nwith the method below via FtpClient from the Apache Commons Net 3.8.0 library. \r\nWhen there are a lot of (sub)files and (sub)folders inside the directory, \r\nmany log messages appears that contains &quot;Background concurrent copying GC freed AllocSpace objects&quot;. \r\nThis results in bad app performance and UI responses are slow. \r\nThe method is called from a background thread of course. \r\nSo the question is, how can I fix this beavior?\r\n\r\n\r\nBackground concurrent copying GC freed 3588(4192KB) AllocSpace objects, 2216(108MB) LOS objects, 46% free, 54MB/102MB, paused 238us total 105.088ms\r\nBackground concurrent copying GC freed 3544(4192KB) AllocSpace objects, 2171(102MB) LOS objects, 46% free, 55MB/103MB, paused 238us total 100.097ms\r\nBackground concurrent copying GC freed 3428(4160KB) AllocSpace objects, 2072(106MB) LOS objects, 44% free, 59MB/107MB, paused 236us total 102.145ms\r\n\r\n    void listDirectory(FTPClient ftpClient, String parentDir,\r\n                       String currentDir ) throws IOException {\r\n\r\n        String dirToList = parentDir;\r\n        if (!currentDir.equals(&quot;&quot;)) {\r\n            dirToList += &quot;/&quot; + currentDir;\r\n        }\r\n\r\n        FTPFile[] subFiles = ftpClient.listFiles(dirToList);\r\n        if (subFiles != null &amp;&amp; subFiles.length &gt; 0) {\r\n            for (FTPFile aFile : subFiles) {\r\n                String currentFileName = aFile.getName();\r\n                if (currentFileName.equals(&quot;.&quot;)\r\n                        || currentFileName.equals(&quot;..&quot;)) {\r\n                    continue;\r\n                }\r\n\r\n                if (aFile.isDirectory()) {\r\n                    Log.i(TAG,&quot;Folder: &quot; + currentFileName);\r\n                    listDirectory(ftpClient, dirToList, currentFileName);\r\n\r\n                }else {\r\n                    Log.i(TAG,&quot;File: &quot; + currentFileName);\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"How to handle &quot;Background concurrent copying GC freed&quot; to keep or increase the app performance?","body":"<p>During testing an android app on a real device, I need to list the remote directory contents on a ftp server recursive\nwith the method below via FtpClient from the Apache Commons Net 3.8.0 library.\nWhen there are a lot of (sub)files and (sub)folders inside the directory,\nmany log messages appears that contains &quot;Background concurrent copying GC freed AllocSpace objects&quot;.\nThis results in bad app performance and UI responses are slow.\nThe method is called from a background thread of course.\nSo the question is, how can I fix this beavior?</p>\n<p>Background concurrent copying GC freed 3588(4192KB) AllocSpace objects, 2216(108MB) LOS objects, 46% free, 54MB/102MB, paused 238us total 105.088ms\nBackground concurrent copying GC freed 3544(4192KB) AllocSpace objects, 2171(102MB) LOS objects, 46% free, 55MB/103MB, paused 238us total 100.097ms\nBackground concurrent copying GC freed 3428(4160KB) AllocSpace objects, 2072(106MB) LOS objects, 44% free, 59MB/107MB, paused 236us total 102.145ms</p>\n<pre><code>void listDirectory(FTPClient ftpClient, String parentDir,\n                   String currentDir ) throws IOException {\n\n    String dirToList = parentDir;\n    if (!currentDir.equals(&quot;&quot;)) {\n        dirToList += &quot;/&quot; + currentDir;\n    }\n\n    FTPFile[] subFiles = ftpClient.listFiles(dirToList);\n    if (subFiles != null &amp;&amp; subFiles.length &gt; 0) {\n        for (FTPFile aFile : subFiles) {\n            String currentFileName = aFile.getName();\n            if (currentFileName.equals(&quot;.&quot;)\n                    || currentFileName.equals(&quot;..&quot;)) {\n                continue;\n            }\n\n            if (aFile.isDirectory()) {\n                Log.i(TAG,&quot;Folder: &quot; + currentFileName);\n                listDirectory(ftpClient, dirToList, currentFileName);\n\n            }else {\n                Log.i(TAG,&quot;File: &quot; + currentFileName);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","regex","pattern-matching"],"comments":[{"owner":{"account_id":97660,"reputation":26546,"user_id":264794,"accept_rate":100,"display_name":"Ryan Wheale"},"score":2,"creation_date":1580943910,"post_id":8880088,"comment_id":106268670,"body_markdown":"If you want a regex which passes if the string does NOT contain 3 consecutive identical characters, you can use this: `/^(?!.*(.)\\1\\1.*).*$/` - https://regex101.com/r/hxTDfr/2","body":"If you want a regex which passes if the string does NOT contain 3 consecutive identical characters, you can use this: <code>&#47;^(?!.*(.)\\1\\1.*).*$&#47;</code> - <a href=\"https://regex101.com/r/hxTDfr/2\" rel=\"nofollow noreferrer\">regex101.com/r/hxTDfr/2</a>"}],"answers":[{"tags":[],"owner":{"account_id":1042420,"reputation":4058,"user_id":1048157,"accept_rate":88,"display_name":"Milad Naseri"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1647011948,"creation_date":1326717320,"answer_id":8880125,"question_id":8880088,"body_markdown":"I don&#39;t think you can (easily) use regex for the first case. The second case is easy though:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;([a-z\\\\d])\\\\1\\\\1&quot;, Pattern.CASE_INSENSITIVE);\r\n\r\nSince `\\\\1` represents part matched by group `1` this will match any sequence of three identical characters that are either within the range `a-z` or are digits (`\\d`).\r\n\r\n**Update**\r\n\r\nTo be clear, you _can_ use regex for the first case. However, the pattern is so laborious and ridiculously convoluted that you are better off not doing it at all. Especially if you wanted to REALLY cover all the alphabet. In that case you should probably generate the pattern programmatically by iterating the char codes of the Unicode charset or something like that and generate groupings for every three consecutive characters. However, you should realize that by having generated such a large decision tree for the pattern matcher, the marching performance is bound to suffer (`O(n)` where `n` is the number of groups which is the size of the Unicode charset minus 2).","title":"Regular Expression to match 3 or more Consecutive Sequential Characters and Consecutive Identical Characters","body":"<p>I don't think you can (easily) use regex for the first case. The second case is easy though:</p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;([a-z\\\\d])\\\\1\\\\1&quot;, Pattern.CASE_INSENSITIVE);\n</code></pre>\n<p>Since <code>\\\\1</code> represents part matched by group <code>1</code> this will match any sequence of three identical characters that are either within the range <code>a-z</code> or are digits (<code>\\d</code>).</p>\n<p><strong>Update</strong></p>\n<p>To be clear, you <em>can</em> use regex for the first case. However, the pattern is so laborious and ridiculously convoluted that you are better off not doing it at all. Especially if you wanted to REALLY cover all the alphabet. In that case you should probably generate the pattern programmatically by iterating the char codes of the Unicode charset or something like that and generate groupings for every three consecutive characters. However, you should realize that by having generated such a large decision tree for the pattern matcher, the marching performance is bound to suffer (<code>O(n)</code> where <code>n</code> is the number of groups which is the size of the Unicode charset minus 2).</p>\n"},{"tags":[],"owner":{"account_id":155533,"reputation":90025,"user_id":372239,"accept_rate":80,"display_name":"Toto"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1326727244,"creation_date":1326726199,"answer_id":8881825,"question_id":8880088,"body_markdown":"for the second question:\r\n\r\n    \\\\b([a-zA-Z0-9])\\\\1\\\\1+\\\\b\r\n**explanation:**\r\n\r\n    \\\\b               : zero-length word boundary\r\n      (               : start capture group 1\r\n        [a-zA-Z0-9]   : a letter or a digit\r\n      )               : end group\r\n      \\\\1             : same character as group 1\r\n      \\\\1+            : same character as group 1 one or more times\r\n    \\\\b               : zero-length word boundary","title":"Regular Expression to match 3 or more Consecutive Sequential Characters and Consecutive Identical Characters","body":"<p>for the second question:</p>\n\n<pre><code>\\\\b([a-zA-Z0-9])\\\\1\\\\1+\\\\b\n</code></pre>\n\n<p><strong>explanation:</strong></p>\n\n<pre><code>\\\\b               : zero-length word boundary\n  (               : start capture group 1\n    [a-zA-Z0-9]   : a letter or a digit\n  )               : end group\n  \\\\1             : same character as group 1\n  \\\\1+            : same character as group 1 one or more times\n\\\\b               : zero-length word boundary\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1141709,"reputation":9344,"user_id":1125413,"accept_rate":62,"display_name":"pemistahl"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1326757825,"creation_date":1326757825,"answer_id":8887930,"question_id":8880088,"body_markdown":"To my knowledge, the first case is indeed not possible. The regex engine doesn&#39;t know anything about the order of the natural numbers or the alphabet. But it&#39;s at least possible to differentiate between 3 or more numbers and 3 or more letters, for example:\r\n\r\n    [a-z]{3,}|[A-Z]{3,}|\\d{3,}\r\n\r\nThis matches `abcd`, `ABCDE` or `123` but doesn&#39;t match `ab2d`, `A5c4` or `12z`, for example. According to this, the second case can be correctly given in a shorter version as:\r\n\r\n      (\\w)\\1{2,}","title":"Regular Expression to match 3 or more Consecutive Sequential Characters and Consecutive Identical Characters","body":"<p>To my knowledge, the first case is indeed not possible. The regex engine doesn't know anything about the order of the natural numbers or the alphabet. But it's at least possible to differentiate between 3 or more numbers and 3 or more letters, for example:</p>\n\n<pre><code>[a-z]{3,}|[A-Z]{3,}|\\d{3,}\n</code></pre>\n\n<p>This matches <code>abcd</code>, <code>ABCDE</code> or <code>123</code> but doesn't match <code>ab2d</code>, <code>A5c4</code> or <code>12z</code>, for example. According to this, the second case can be correctly given in a shorter version as:</p>\n\n<pre><code>  (\\w)\\1{2,}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":350533,"reputation":10937,"user_id":686478,"accept_rate":59,"display_name":"Prashant Bhate"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1326809866,"creation_date":1326804402,"answer_id":8894850,"question_id":8880088,"body_markdown":"If you have lower bound (3) and upper bound  regexString can be generated as follows\r\n\r\n\r\n\tpublic class RegexBuilder {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\r\n\t\t\tint seqStart = 3;\r\n\t\t\tint seqEnd = 5;\r\n\t\t\tbuildRegex(sb, seqStart, seqEnd);\r\n\t\t\tSystem.out.println(sb);\r\n\t\t}\r\n\t\r\n\t\tprivate static void buildRegex(StringBuilder sb, int seqStart, int seqEnd) {\r\n\t\t\tfor (int i = seqStart; i &lt;= seqEnd; i++) {\r\n\t\t\t\tbuildRegexCharGroup(sb, i, &#39;0&#39;, &#39;9&#39;);\r\n\t\t\t\tbuildRegexCharGroup(sb, i, &#39;A&#39;, &#39;Z&#39;);\r\n\t\t\t\tbuildRegexCharGroup(sb, i, &#39;a&#39;, &#39;z&#39;);\r\n\t\t\t\tbuildRegexRepeatedString(sb, i);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tprivate static void buildRegexCharGroup(StringBuilder sb, int seqLength,\r\n\t\t\t\tchar start, char end) {\r\n\t\t\tfor (char c = start; c &lt;= end - seqLength + 1; c++) {\r\n\t\t\t\tchar ch = c;\r\n\t\t\t\tif (sb.length() &gt; 0) {\r\n\t\t\t\t\tsb.append(&#39;|&#39;);\r\n\t\t\t\t}\r\n\t\t\t\tfor (int i = 0; i &lt; seqLength; i++) {\r\n\t\t\t\t\tsb.append(ch++);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tprivate static void buildRegexRepeatedString(StringBuilder sb, int seqLength) {\r\n\t\t\tsb.append(&#39;|&#39;);\r\n\t\t\tsb.append(&quot;([a-zA-Z\\\\d])&quot;);\r\n\t\t\tfor (int i = 1; i &lt; seqLength; i++) {\r\n\t\t\t\tsb.append(&quot;\\\\1&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n**Output**\r\n\r\n    012|123|234|345|456|567|678|789|ABC|BCD|CDE|DEF|EFG|FGH|GHI|HIJ|IJK|JKL|KLM|LMN|MNO|NOP|OPQ|PQR|QRS|RST|STU|TUV|UVW|VWX|WXY|XYZ|abc|bcd|cde|def|efg|fgh|ghi|hij|ijk|jkl|klm|lmn|mno|nop|opq|pqr|qrs|rst|stu|tuv|uvw|vwx|wxy|xyz|([a-z\\d])\\1\\1|0123|1234|2345|3456|4567|5678|6789|ABCD|BCDE|CDEF|DEFG|EFGH|FGHI|GHIJ|HIJK|IJKL|JKLM|KLMN|LMNO|MNOP|NOPQ|OPQR|PQRS|QRST|RSTU|STUV|TUVW|UVWX|VWXY|WXYZ|abcd|bcde|cdef|defg|efgh|fghi|ghij|hijk|ijkl|jklm|klmn|lmno|mnop|nopq|opqr|pqrs|qrst|rstu|stuv|tuvw|uvwx|vwxy|wxyz|([a-z\\d])\\1\\1\\1|01234|12345|23456|34567|45678|56789|ABCDE|BCDEF|CDEFG|DEFGH|EFGHI|FGHIJ|GHIJK|HIJKL|IJKLM|JKLMN|KLMNO|LMNOP|MNOPQ|NOPQR|OPQRS|PQRST|QRSTU|RSTUV|STUVW|TUVWX|UVWXY|VWXYZ|abcde|bcdef|cdefg|defgh|efghi|fghij|ghijk|hijkl|ijklm|jklmn|klmno|lmnop|mnopq|nopqr|opqrs|pqrst|qrstu|rstuv|stuvw|tuvwx|uvwxy|vwxyz|([a-z\\d])\\1\\1\\1\\1","title":"Regular Expression to match 3 or more Consecutive Sequential Characters and Consecutive Identical Characters","body":"<p>If you have lower bound (3) and upper bound  regexString can be generated as follows</p>\n\n<pre><code>public class RegexBuilder {\n    public static void main(String[] args) {\n        StringBuilder sb = new StringBuilder();\n\n        int seqStart = 3;\n        int seqEnd = 5;\n        buildRegex(sb, seqStart, seqEnd);\n        System.out.println(sb);\n    }\n\n    private static void buildRegex(StringBuilder sb, int seqStart, int seqEnd) {\n        for (int i = seqStart; i &lt;= seqEnd; i++) {\n            buildRegexCharGroup(sb, i, '0', '9');\n            buildRegexCharGroup(sb, i, 'A', 'Z');\n            buildRegexCharGroup(sb, i, 'a', 'z');\n            buildRegexRepeatedString(sb, i);\n        }\n    }\n\n    private static void buildRegexCharGroup(StringBuilder sb, int seqLength,\n            char start, char end) {\n        for (char c = start; c &lt;= end - seqLength + 1; c++) {\n            char ch = c;\n            if (sb.length() &gt; 0) {\n                sb.append('|');\n            }\n            for (int i = 0; i &lt; seqLength; i++) {\n                sb.append(ch++);\n            }\n        }\n    }\n\n    private static void buildRegexRepeatedString(StringBuilder sb, int seqLength) {\n        sb.append('|');\n        sb.append(\"([a-zA-Z\\\\d])\");\n        for (int i = 1; i &lt; seqLength; i++) {\n            sb.append(\"\\\\1\");\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>012|123|234|345|456|567|678|789|ABC|BCD|CDE|DEF|EFG|FGH|GHI|HIJ|IJK|JKL|KLM|LMN|MNO|NOP|OPQ|PQR|QRS|RST|STU|TUV|UVW|VWX|WXY|XYZ|abc|bcd|cde|def|efg|fgh|ghi|hij|ijk|jkl|klm|lmn|mno|nop|opq|pqr|qrs|rst|stu|tuv|uvw|vwx|wxy|xyz|([a-z\\d])\\1\\1|0123|1234|2345|3456|4567|5678|6789|ABCD|BCDE|CDEF|DEFG|EFGH|FGHI|GHIJ|HIJK|IJKL|JKLM|KLMN|LMNO|MNOP|NOPQ|OPQR|PQRS|QRST|RSTU|STUV|TUVW|UVWX|VWXY|WXYZ|abcd|bcde|cdef|defg|efgh|fghi|ghij|hijk|ijkl|jklm|klmn|lmno|mnop|nopq|opqr|pqrs|qrst|rstu|stuv|tuvw|uvwx|vwxy|wxyz|([a-z\\d])\\1\\1\\1|01234|12345|23456|34567|45678|56789|ABCDE|BCDEF|CDEFG|DEFGH|EFGHI|FGHIJ|GHIJK|HIJKL|IJKLM|JKLMN|KLMNO|LMNOP|MNOPQ|NOPQR|OPQRS|PQRST|QRSTU|RSTUV|STUVW|TUVWX|UVWXY|VWXYZ|abcde|bcdef|cdefg|defgh|efghi|fghij|ghijk|hijkl|ijklm|jklmn|klmno|lmnop|mnopq|nopqr|opqrs|pqrst|qrstu|rstuv|stuvw|tuvwx|uvwxy|vwxyz|([a-z\\d])\\1\\1\\1\\1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":327461,"reputation":15242,"user_id":649852,"display_name":"Go Dan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1326808638,"creation_date":1326807782,"answer_id":8895621,"question_id":8880088,"body_markdown":"&gt; 3 or more consecutive sequential characters/numbers ex - 123, abc, 789, pqr etc.\r\n\r\nNot possible with regular expressions.\r\n\r\n&gt; 3 or more consecutive identical characters/numbers ex - 111, aaa, bbb. 222 etc.\r\n\r\nUse a [pattern](http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html) of `(?i)(?:([a-z0-9])\\\\1{2,})*`.\r\n\r\nIf you want to check the whole string, use [`Matcher.matches()`](http://docs.oracle.com/javase/6/docs/api/java/util/regex/Matcher.html#matches()). To find matches within a string, use [`Matcher.find()`](http://docs.oracle.com/javase/6/docs/api/java/util/regex/Matcher.html#find()).\r\n\r\nHere&#39;s some sample code:\r\n\r\n    final String ps = &quot;(?i)(?:([a-z0-9])\\\\1{2,})*&quot;;\r\n    final String psLong =\r\n            &quot;(?i)\\t\\t\\t# Case insensitive flag\\n&quot;\r\n                    + &quot;(?:\\t\\t\\t\\t# Begin non-capturing group\\n&quot;\r\n                    + &quot; (\\t\\t\\t\\t# Begin capturing group\\n&quot;\r\n                    + &quot;  [a-z0-9]\\t\\t# Match an alpha or digit character\\n&quot;\r\n                    + &quot; )\\t\\t\\t\\t# End capturing group\\n&quot;\r\n                    + &quot; \\\\1\\t\\t\\t\\t# Back-reference first capturing group\\n&quot;\r\n                    + &quot; {2,}\\t\\t\\t# Match previous atom 2 or more times\\n&quot;\r\n                    + &quot;)\\t\\t\\t\\t# End non-capturing group\\n&quot;\r\n                    + &quot;*\\t\\t\\t\\t# Match previous atom zero or more characters\\n&quot;;\r\n    System.out.println(&quot;***** PATTERN *****\\n&quot; + ps + &quot;\\n&quot; + psLong\r\n            + &quot;\\n&quot;);\r\n    final Pattern p = Pattern.compile(ps);\r\n    for (final String s : new String[] {&quot;aa&quot;, &quot;11&quot;, &quot;aaa&quot;, &quot;111&quot;,\r\n            &quot;aaaaaaaaa&quot;, &quot;111111111&quot;, &quot;aaa111bbb222ccc333&quot;,\r\n            &quot;aaaaaa111111bbb222&quot;})\r\n    {\r\n        final Matcher m = p.matcher(s);\r\n        if (m.matches()) {\r\n            System.out.println(&quot;Success: &quot; + s);\r\n        } else {\r\n            System.out.println(&quot;Fail: &quot; + s);\r\n        }\r\n    }\r\n\r\nAnd the output is:\r\n\r\n    ***** PATTERN *****\r\n    (?i)(?:([a-z0-9])\\1{2,})*\r\n    (?i)\t\t\t# Case insensitive flag\r\n    (?:\t\t\t\t# Begin non-capturing group\r\n     (\t\t\t\t# Begin capturing group\r\n      [a-z0-9]\t\t# Match an alpha or digit character\r\n     )\t\t\t\t# End capturing group\r\n     \\1\t\t\t\t# Back-reference first capturing group\r\n     {2,}\t\t\t# Match previous atom 2 or more times\r\n    )\t\t\t\t# End non-capturing group\r\n    *\t\t\t\t# Match previous atom zero or more characters\r\n    \r\n    \r\n    Fail: aa\r\n    Fail: 11\r\n    Success: aaa\r\n    Success: 111\r\n    Success: aaaaaaaaa\r\n    Success: 111111111\r\n    Success: aaa111bbb222ccc333\r\n    Success: aaaaaa111111bbb222","title":"Regular Expression to match 3 or more Consecutive Sequential Characters and Consecutive Identical Characters","body":"<blockquote>\n  <p>3 or more consecutive sequential characters/numbers ex - 123, abc, 789, pqr etc.</p>\n</blockquote>\n\n<p>Not possible with regular expressions.</p>\n\n<blockquote>\n  <p>3 or more consecutive identical characters/numbers ex - 111, aaa, bbb. 222 etc.</p>\n</blockquote>\n\n<p>Use a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow\">pattern</a> of <code>(?i)(?:([a-z0-9])\\\\1{2,})*</code>.</p>\n\n<p>If you want to check the whole string, use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/regex/Matcher.html#matches%28%29\" rel=\"nofollow\"><code>Matcher.matches()</code></a>. To find matches within a string, use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/regex/Matcher.html#find%28%29\" rel=\"nofollow\"><code>Matcher.find()</code></a>.</p>\n\n<p>Here's some sample code:</p>\n\n<pre><code>final String ps = \"(?i)(?:([a-z0-9])\\\\1{2,})*\";\nfinal String psLong =\n        \"(?i)\\t\\t\\t# Case insensitive flag\\n\"\n                + \"(?:\\t\\t\\t\\t# Begin non-capturing group\\n\"\n                + \" (\\t\\t\\t\\t# Begin capturing group\\n\"\n                + \"  [a-z0-9]\\t\\t# Match an alpha or digit character\\n\"\n                + \" )\\t\\t\\t\\t# End capturing group\\n\"\n                + \" \\\\1\\t\\t\\t\\t# Back-reference first capturing group\\n\"\n                + \" {2,}\\t\\t\\t# Match previous atom 2 or more times\\n\"\n                + \")\\t\\t\\t\\t# End non-capturing group\\n\"\n                + \"*\\t\\t\\t\\t# Match previous atom zero or more characters\\n\";\nSystem.out.println(\"***** PATTERN *****\\n\" + ps + \"\\n\" + psLong\n        + \"\\n\");\nfinal Pattern p = Pattern.compile(ps);\nfor (final String s : new String[] {\"aa\", \"11\", \"aaa\", \"111\",\n        \"aaaaaaaaa\", \"111111111\", \"aaa111bbb222ccc333\",\n        \"aaaaaa111111bbb222\"})\n{\n    final Matcher m = p.matcher(s);\n    if (m.matches()) {\n        System.out.println(\"Success: \" + s);\n    } else {\n        System.out.println(\"Fail: \" + s);\n    }\n}\n</code></pre>\n\n<p>And the output is:</p>\n\n<pre><code>***** PATTERN *****\n(?i)(?:([a-z0-9])\\1{2,})*\n(?i)            # Case insensitive flag\n(?:             # Begin non-capturing group\n (              # Begin capturing group\n  [a-z0-9]      # Match an alpha or digit character\n )              # End capturing group\n \\1             # Back-reference first capturing group\n {2,}           # Match previous atom 2 or more times\n)               # End non-capturing group\n*               # Match previous atom zero or more characters\n\n\nFail: aa\nFail: 11\nSuccess: aaa\nSuccess: 111\nSuccess: aaaaaaaaa\nSuccess: 111111111\nSuccess: aaa111bbb222ccc333\nSuccess: aaaaaa111111bbb222\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1175740,"reputation":557,"user_id":1151832,"display_name":"sandy0093"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1326863980,"creation_date":1326863652,"answer_id":8905511,"question_id":8880088,"body_markdown":"Thanks All for helping me.\r\n\r\nFor the first case - **3 or more consecutive sequential characters/numbers; e.g. 123, abc, 789, pqr, etc.** I used below code logic. Pls share your comments on this.\r\n\r\n    public static boolean validateConsecutiveSeq(String epin) {\r\n        char epinCharArray[] = epin.toCharArray();\r\n        int asciiCode = 0;\r\n        boolean isConSeq = false;\r\n        int previousAsciiCode = 0;\r\n        int numSeqcount = 0;\r\n\r\n        for (int i = 0; i &lt; epinCharArray.length; i++) {\r\n            asciiCode = epinCharArray[i];\r\n            if ((previousAsciiCode + 1) == asciiCode) {\r\n                numSeqcount++;\r\n                if (numSeqcount &gt;= 2) {\r\n                    isConSeq = true;\r\n                    break;\r\n                }\r\n            } else {\r\n                numSeqcount = 0;\r\n            }\r\n            previousAsciiCode = asciiCode;\r\n        }\r\n        return isConSeq;\r\n    }\r\n\r\n\r\n","title":"Regular Expression to match 3 or more Consecutive Sequential Characters and Consecutive Identical Characters","body":"<p>Thanks All for helping me.</p>\n\n<p>For the first case - <strong>3 or more consecutive sequential characters/numbers; e.g. 123, abc, 789, pqr, etc.</strong> I used below code logic. Pls share your comments on this.</p>\n\n<pre><code>public static boolean validateConsecutiveSeq(String epin) {\n    char epinCharArray[] = epin.toCharArray();\n    int asciiCode = 0;\n    boolean isConSeq = false;\n    int previousAsciiCode = 0;\n    int numSeqcount = 0;\n\n    for (int i = 0; i &lt; epinCharArray.length; i++) {\n        asciiCode = epinCharArray[i];\n        if ((previousAsciiCode + 1) == asciiCode) {\n            numSeqcount++;\n            if (numSeqcount &gt;= 2) {\n                isConSeq = true;\n                break;\n            }\n        } else {\n            numSeqcount = 0;\n        }\n        previousAsciiCode = asciiCode;\n    }\n    return isConSeq;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6430344,"reputation":39,"user_id":4983808,"display_name":"Gaurav Singh"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1614286102,"creation_date":1435274307,"answer_id":31062370,"question_id":8880088,"body_markdown":"Regex to match three consecutive numbers or alphabets is \r\n**&quot;`([0-9]|[aA-zZ])\\1\\1`&quot;**","title":"Regular Expression to match 3 or more Consecutive Sequential Characters and Consecutive Identical Characters","body":"<p>Regex to match three consecutive numbers or alphabets is\n<strong>&quot;<code>([0-9]|[aA-zZ])\\1\\1</code>&quot;</strong></p>\n"},{"tags":[],"owner":{"account_id":5605957,"reputation":873,"user_id":4440561,"display_name":"ShAkKiR"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1597057204,"creation_date":1453891193,"answer_id":35035033,"question_id":8880088,"body_markdown":"Try this for the first question.\r\n\r\nreturns true if it finds 3 consecutive numbers or alphabets in the arg\r\n\r\n    function check(val){\r\n        for (i = 0; i &lt;= val.length - 3; i++) {\r\n          var s1 = val.charCodeAt(i);\r\n          var s2 = val.charCodeAt(i + 1);\r\n          var s3 = val.charCodeAt(i + 2);\r\n          if (Math.abs(s1 - s2) === 1 &amp;&amp; s1 - s2 === s2 - s3) {\r\n            return true;\r\n          }\r\n        }\r\n    \r\n        return false;\r\n    }\r\n    \r\n    console.log(check(&#39;Sh1ak@ki1r@100&#39;));","title":"Regular Expression to match 3 or more Consecutive Sequential Characters and Consecutive Identical Characters","body":"<p>Try this for the first question.</p>\n<p>returns true if it finds 3 consecutive numbers or alphabets in the arg</p>\n<pre><code>function check(val){\n    for (i = 0; i &lt;= val.length - 3; i++) {\n      var s1 = val.charCodeAt(i);\n      var s2 = val.charCodeAt(i + 1);\n      var s3 = val.charCodeAt(i + 2);\n      if (Math.abs(s1 - s2) === 1 &amp;&amp; s1 - s2 === s2 - s3) {\n        return true;\n      }\n    }\n\n    return false;\n}\n\nconsole.log(check('Sh1ak@ki1r@100'));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8703749,"reputation":199,"user_id":6512623,"display_name":"Adrien NGUYEN"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1516754614,"creation_date":1468590223,"answer_id":38397659,"question_id":8880088,"body_markdown":"I disagree, case 1 is possible to regex, but you have to tell it the sequences to match... which is kind of long and boring:\r\n\r\n    /(abc|bcd|cde|def|efg|fgh|ghi|hij|ijk|jkl|klm|lmn|mno|nop|opq|pqr|qrs|rst|stu|tuv|uvw|vwx|wxy|xyz|012|123|234|345|456|567|678|789)+/ig\r\n\r\nhttp://regexr.com/3dqln","title":"Regular Expression to match 3 or more Consecutive Sequential Characters and Consecutive Identical Characters","body":"<p>I disagree, case 1 is possible to regex, but you have to tell it the sequences to match... which is kind of long and boring:</p>\n\n<pre><code>/(abc|bcd|cde|def|efg|fgh|ghi|hij|ijk|jkl|klm|lmn|mno|nop|opq|pqr|qrs|rst|stu|tuv|uvw|vwx|wxy|xyz|012|123|234|345|456|567|678|789)+/ig\n</code></pre>\n\n<p><a href=\"http://regexr.com/3dqln\" rel=\"noreferrer\">http://regexr.com/3dqln</a></p>\n"},{"tags":[],"owner":{"account_id":536418,"reputation":6186,"user_id":905422,"accept_rate":83,"display_name":"Mathijs Segers"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1524029086,"creation_date":1511470989,"answer_id":47463220,"question_id":8880088,"body_markdown":"for the first question this works if you&#39;re ok with less regex\r\n\r\n  \r\n\r\n             containsConsecutiveCharacters(str) {\r\n                for (let i = 0; i &lt;= str.length - 3; i++) {\r\n                    var allthree = str[i] + str[i + 1] + str[i + 2];\r\n                    let s1 = str.charCodeAt(i);\r\n                    let s2 = str.charCodeAt(i + 1);\r\n                    let s3 = str.charCodeAt(i + 2);\r\n                    if (\r\n                        /[a-zA-Z]+$/.test(allthree) &amp;&amp;\r\n                        (s1 &lt; s2 &amp;&amp; s2 &lt; s3 &amp;&amp; s1+s2+s3-(3*s1) === 3)\r\n                    ) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }","title":"Regular Expression to match 3 or more Consecutive Sequential Characters and Consecutive Identical Characters","body":"<p>for the first question this works if you're ok with less regex</p>\n\n<pre><code>         containsConsecutiveCharacters(str) {\n            for (let i = 0; i &lt;= str.length - 3; i++) {\n                var allthree = str[i] + str[i + 1] + str[i + 2];\n                let s1 = str.charCodeAt(i);\n                let s2 = str.charCodeAt(i + 1);\n                let s3 = str.charCodeAt(i + 2);\n                if (\n                    /[a-zA-Z]+$/.test(allthree) &amp;&amp;\n                    (s1 &lt; s2 &amp;&amp; s2 &lt; s3 &amp;&amp; s1+s2+s3-(3*s1) === 3)\n                ) {\n                    return true;\n                }\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2481346,"reputation":3567,"user_id":2160765,"display_name":"Rosberg Linhares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541024592,"creation_date":1541024592,"answer_id":53092779,"question_id":8880088,"body_markdown":"- &gt; 3 or more consecutive sequential characters/numbers; e.g. 123, abc, 789, pqr, etc.\r\n\r\n        (?:(?:0(?=1)|1(?=2)|2(?=3)|3(?=4)|4(?=5)|5(?=6)|6(?=7)|7(?=8)|8(?=9)){2,}\\d|(?:a(?=b)|b(?=c)|c(?=d)|d(?=e)|e(?=f)|f(?=g)|g(?=h)|h(?=i)|i(?=j)|j(?=k)|k(?=l)|l(?=m)|m(?=n)|n(?=o)|o(?=p)|p(?=q)|q(?=r)|r(?=s)|s(?=t)|t(?=u)|u(?=v)|v(?=w)|w(?=x)|x(?=y)|y(?=z)){2,}[\\p{Alpha}])\r\n\r\n    https://regex101.com/r/5IragF/1\r\n\r\n- &gt; 3 or more consecutive identical characters/numbers; e.g. 111, aaa, bbb, 222, etc.\r\n\r\n        ([\\p{Alnum}])\\1{2,}\r\n    https://regex101.com/r/VEHoI9/1","title":"Regular Expression to match 3 or more Consecutive Sequential Characters and Consecutive Identical Characters","body":"<ul>\n<li><blockquote>\n  <p>3 or more consecutive sequential characters/numbers; e.g. 123, abc, 789, pqr, etc.</p>\n</blockquote>\n\n<pre><code>(?:(?:0(?=1)|1(?=2)|2(?=3)|3(?=4)|4(?=5)|5(?=6)|6(?=7)|7(?=8)|8(?=9)){2,}\\d|(?:a(?=b)|b(?=c)|c(?=d)|d(?=e)|e(?=f)|f(?=g)|g(?=h)|h(?=i)|i(?=j)|j(?=k)|k(?=l)|l(?=m)|m(?=n)|n(?=o)|o(?=p)|p(?=q)|q(?=r)|r(?=s)|s(?=t)|t(?=u)|u(?=v)|v(?=w)|w(?=x)|x(?=y)|y(?=z)){2,}[\\p{Alpha}])\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/5IragF/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/5IragF/1</a></p></li>\n<li><blockquote>\n  <p>3 or more consecutive identical characters/numbers; e.g. 111, aaa, bbb, 222, etc.</p>\n</blockquote>\n\n<pre><code>([\\p{Alnum}])\\1{2,}\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/VEHoI9/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/VEHoI9/1</a></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":460742,"reputation":133,"user_id":862029,"display_name":"JNunez247"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548344908,"creation_date":1548344908,"answer_id":54350509,"question_id":8880088,"body_markdown":"All put together:\r\n&gt;([a-zA-Z0-9])\\1\\1+|(abc|bcd|cde|def|efg|fgh|ghi|hij|ijk|jkl|klm|lmn|mno|nop|opq|pqr|qrs|rst|stu|tuv|uvw|vwx|wxy|xyz|012|123|234|345|456|567|678|789)+\r\n\r\n3 or more consecutive sequential characters/numbers; e.g. 123, abc, 789, pqr, etc.\r\n\r\n&gt;(abc|bcd|cde|def|efg|fgh|ghi|hij|ijk|jkl|klm|lmn|mno|nop|opq|pqr|qrs|rst|stu|tuv|uvw|vwx|wxy|xyz|012|123|234|345|456|567|678|789)+\r\n\r\n3 or more consecutive identical characters/numbers; e.g. 111, aaa, bbb, 222, etc.\r\n\r\n&gt;([a-zA-Z0-9])\\1\\1+\r\n\r\nhttps://regexr.com/4727n","title":"Regular Expression to match 3 or more Consecutive Sequential Characters and Consecutive Identical Characters","body":"<p>All put together:</p>\n\n<blockquote>\n  <p>([a-zA-Z0-9])\\1\\1+|(abc|bcd|cde|def|efg|fgh|ghi|hij|ijk|jkl|klm|lmn|mno|nop|opq|pqr|qrs|rst|stu|tuv|uvw|vwx|wxy|xyz|012|123|234|345|456|567|678|789)+</p>\n</blockquote>\n\n<p>3 or more consecutive sequential characters/numbers; e.g. 123, abc, 789, pqr, etc.</p>\n\n<blockquote>\n  <p>(abc|bcd|cde|def|efg|fgh|ghi|hij|ijk|jkl|klm|lmn|mno|nop|opq|pqr|qrs|rst|stu|tuv|uvw|vwx|wxy|xyz|012|123|234|345|456|567|678|789)+</p>\n</blockquote>\n\n<p>3 or more consecutive identical characters/numbers; e.g. 111, aaa, bbb, 222, etc.</p>\n\n<blockquote>\n  <p>([a-zA-Z0-9])\\1\\1+</p>\n</blockquote>\n\n<p><a href=\"https://regexr.com/4727n\" rel=\"nofollow noreferrer\">https://regexr.com/4727n</a></p>\n"},{"tags":[],"owner":{"account_id":460742,"reputation":133,"user_id":862029,"display_name":"JNunez247"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1548345131,"creation_date":1548345131,"answer_id":54350580,"question_id":8880088,"body_markdown":"All put together:\r\n&gt;([a-zA-Z0-9])\\1\\1+|(abc|bcd|cde|def|efg|fgh|ghi|hij|ijk|jkl|klm|lmn|mno|nop|opq|pqr|qrs|rst|stu|tuv|uvw|vwx|wxy|xyz|012|123|234|345|456|567|678|789)+\r\n\r\n3 or more consecutive sequential characters/numbers; e.g. 123, abc, 789, pqr, etc.\r\n\r\n&gt;(abc|bcd|cde|def|efg|fgh|ghi|hij|ijk|jkl|klm|lmn|mno|nop|opq|pqr|qrs|rst|stu|tuv|uvw|vwx|wxy|xyz|012|123|234|345|456|567|678|789)+\r\n\r\n3 or more consecutive identical characters/numbers; e.g. 111, aaa, bbb, 222, etc.\r\n\r\n&gt;([a-zA-Z0-9])\\1\\1+\r\n\r\nhttps://regexr.com/4727n\r\n\r\n\r\nThis also works:\r\n\r\n&gt;(?:(?:0(?=1)|1(?=2)|2(?=3)|3(?=4)|4(?=5)|5(?=6)|6(?=7)|7(?=8)|8(?=9)){2,}\\d|(?:a(?=b)|b(?=c)|c(?=d)|d(?=e)|e(?=f)|f(?=g)|g(?=h)|h(?=i)|i(?=j)|j(?=k)|k(?=l)|l(?=m)|m(?=n)|n(?=o)|o(?=p)|p(?=q)|q(?=r)|r(?=s)|s(?=t)|t(?=u)|u(?=v)|v(?=w)|w(?=x)|x(?=y)|y(?=z)){2,}[[:alpha:]])|([a-zA-Z0-9])\\1\\1+\r\n\r\nhttps://regex101.com/r/6fXC9u/1\r\n","title":"Regular Expression to match 3 or more Consecutive Sequential Characters and Consecutive Identical Characters","body":"<p>All put together:</p>\n\n<blockquote>\n  <p>([a-zA-Z0-9])\\1\\1+|(abc|bcd|cde|def|efg|fgh|ghi|hij|ijk|jkl|klm|lmn|mno|nop|opq|pqr|qrs|rst|stu|tuv|uvw|vwx|wxy|xyz|012|123|234|345|456|567|678|789)+</p>\n</blockquote>\n\n<p>3 or more consecutive sequential characters/numbers; e.g. 123, abc, 789, pqr, etc.</p>\n\n<blockquote>\n  <p>(abc|bcd|cde|def|efg|fgh|ghi|hij|ijk|jkl|klm|lmn|mno|nop|opq|pqr|qrs|rst|stu|tuv|uvw|vwx|wxy|xyz|012|123|234|345|456|567|678|789)+</p>\n</blockquote>\n\n<p>3 or more consecutive identical characters/numbers; e.g. 111, aaa, bbb, 222, etc.</p>\n\n<blockquote>\n  <p>([a-zA-Z0-9])\\1\\1+</p>\n</blockquote>\n\n<p><a href=\"https://regexr.com/4727n\" rel=\"nofollow noreferrer\">https://regexr.com/4727n</a></p>\n\n<p>This also works:</p>\n\n<blockquote>\n  <p>(?:(?:0(?=1)|1(?=2)|2(?=3)|3(?=4)|4(?=5)|5(?=6)|6(?=7)|7(?=8)|8(?=9)){2,}\\d|(?:a(?=b)|b(?=c)|c(?=d)|d(?=e)|e(?=f)|f(?=g)|g(?=h)|h(?=i)|i(?=j)|j(?=k)|k(?=l)|l(?=m)|m(?=n)|n(?=o)|o(?=p)|p(?=q)|q(?=r)|r(?=s)|s(?=t)|t(?=u)|u(?=v)|v(?=w)|w(?=x)|x(?=y)|y(?=z)){2,}[[:alpha:]])|([a-zA-Z0-9])\\1\\1+</p>\n</blockquote>\n\n<p><a href=\"https://regex101.com/r/6fXC9u/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/6fXC9u/1</a></p>\n"},{"tags":[],"owner":{"account_id":4625492,"reputation":582,"user_id":3749432,"display_name":"kuhr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578659124,"creation_date":1578659124,"answer_id":59681660,"question_id":8880088,"body_markdown":"For case #2 I got inspired by a sample on [regextester][1] and created the following regex to match `n` identical digits (to check for both numbers and letters replace `0-9` with `A-Za-z0-9`):\r\n\r\n    const n = 3\r\n    const identicalAlphanumericRegEx = new RegExp(&quot;([0-9])&quot; + &quot;\\\\1&quot;.repeat(n - 1))\r\n\r\n\r\n  [1]: https://www.regextester.com/97975","title":"Regular Expression to match 3 or more Consecutive Sequential Characters and Consecutive Identical Characters","body":"<p>For case #2 I got inspired by a sample on <a href=\"https://www.regextester.com/97975\" rel=\"nofollow noreferrer\">regextester</a> and created the following regex to match <code>n</code> identical digits (to check for both numbers and letters replace <code>0-9</code> with <code>A-Za-z0-9</code>):</p>\n\n<pre><code>const n = 3\nconst identicalAlphanumericRegEx = new RegExp(\"([0-9])\" + \"\\\\1\".repeat(n - 1))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17662726,"reputation":1,"user_id":12820821,"display_name":"D.C.B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580490186,"creation_date":1580489788,"answer_id":60008179,"question_id":8880088,"body_markdown":"I was discussing this with a coworker and we think we have a good solution for #1.\r\n\r\nTo check for *abc* or *bcd* or ... or *012* or *123* or even any number of sequential characters, try:\r\n\r\n    .*((a(?=b))|(?:b(?=c))|(?:c(?=d))|(?:d(?=e))|(?:e(?=f))|(?:f(?=g))|(?:g(?=h))|(?:h(?=i))|(?:i(?=j))|(?:j(?=k))|(?:k(?=l))|(?:l(?=m))|(?:m(?=n))|(?:n(?=o))|(?:o(?=p))|(?:p(?=q))|(?:q(?=r))|(?:r(?=s))|(?:s(?=t))|(?:t(?=u))|(?:u(?=v))|(?:v(?=w))|(?:w(?=x))|(?:x(?=y))|(?:y(?=z))|(?:0(?=1))|(?:1(?=2))|(?:2(?=3))|(?:3(?=4))|(?:4(?=5))|(?:5(?=6))|(?:6(?=7))|(?:7(?=8))|(?:8(?=9))){2,}.*\r\n\r\nThe nice thing about this solution is if you want more than 3 consecutive characters, increase the `{2,}` to be one less than what you want to check for.\r\n\r\nthe `?:` in each group prevents the group from being captured.","title":"Regular Expression to match 3 or more Consecutive Sequential Characters and Consecutive Identical Characters","body":"<p>I was discussing this with a coworker and we think we have a good solution for #1.</p>\n\n<p>To check for <em>abc</em> or <em>bcd</em> or ... or <em>012</em> or <em>123</em> or even any number of sequential characters, try:</p>\n\n<pre><code>.*((a(?=b))|(?:b(?=c))|(?:c(?=d))|(?:d(?=e))|(?:e(?=f))|(?:f(?=g))|(?:g(?=h))|(?:h(?=i))|(?:i(?=j))|(?:j(?=k))|(?:k(?=l))|(?:l(?=m))|(?:m(?=n))|(?:n(?=o))|(?:o(?=p))|(?:p(?=q))|(?:q(?=r))|(?:r(?=s))|(?:s(?=t))|(?:t(?=u))|(?:u(?=v))|(?:v(?=w))|(?:w(?=x))|(?:x(?=y))|(?:y(?=z))|(?:0(?=1))|(?:1(?=2))|(?:2(?=3))|(?:3(?=4))|(?:4(?=5))|(?:5(?=6))|(?:6(?=7))|(?:7(?=8))|(?:8(?=9))){2,}.*\n</code></pre>\n\n<p>The nice thing about this solution is if you want more than 3 consecutive characters, increase the <code>{2,}</code> to be one less than what you want to check for.</p>\n\n<p>the <code>?:</code> in each group prevents the group from being captured.</p>\n"}],"owner":{"account_id":1175740,"reputation":557,"user_id":1151832,"display_name":"sandy0093"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131278,"favorite_count":0,"down_vote_count":1,"up_vote_count":41,"answer_count":15,"score":40,"last_activity_date":1647011948,"creation_date":1326717112,"question_id":8880088,"body_markdown":"I need regular expressions to match the below cases.\r\n\r\n1. 3 or more consecutive sequential characters/numbers; e.g. 123, abc, 789, pqr, etc.\r\n2. 3 or more consecutive identical characters/numbers; e.g. 111, aaa, bbb, 222, etc.","title":"Regular Expression to match 3 or more Consecutive Sequential Characters and Consecutive Identical Characters","body":"<p>I need regular expressions to match the below cases.</p>\n\n<ol>\n<li>3 or more consecutive sequential characters/numbers; e.g. 123, abc, 789, pqr, etc.</li>\n<li>3 or more consecutive identical characters/numbers; e.g. 111, aaa, bbb, 222, etc.</li>\n</ol>\n"},{"tags":["java","certificate","keystore","pfx","pkcs#12"],"comments":[{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":1,"creation_date":1522093620,"post_id":49499316,"comment_id":86002953,"body_markdown":"This is probably [this line](https://github.com/frohoff/jdk8u-dev-jdk/blob/master/src/share/classes/sun/security/pkcs12/PKCS12KeyStore.java#L2248). The `keyId` is `null` for some reason.","body":"This is probably <a href=\"https://github.com/frohoff/jdk8u-dev-jdk/blob/master/src/share/classes/sun/security/pkcs12/PKCS12KeyStore.java#L2248\" rel=\"nofollow noreferrer\">this line</a>. The <code>keyId</code> is <code>null</code> for some reason."},{"owner":{"account_id":10054185,"reputation":55,"user_id":7437096,"display_name":"Ramon Lacava"},"score":0,"creation_date":1522701239,"post_id":49499316,"comment_id":86243817,"body_markdown":"This looks like a very specific problem, any ideas ?","body":"This looks like a very specific problem, any ideas ?"}],"answers":[{"tags":[],"owner":{"account_id":10643264,"reputation":1321,"user_id":7837563,"display_name":"Rmahajan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522166783,"creation_date":1522166783,"answer_id":49517664,"question_id":49499316,"body_markdown":"I think you need to provide the path for key store file.\r\n\r\n    KeyStore  keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n    File f = new File(KEY_STORE_FILE);\r\n    if (!f.exists())\r\n    {\t\r\n\t   throw new Exception(&quot;File Not Found&quot;);\r\n     }\r\n     InputStream input = new FileInputStream(KEY_STORE_FILE);\r\n     keyStore.load(input, KEY_STORE_PASS);\r\n     input.close();\r\n     return keyStore;\r\n\r\nhere all the constants are being loaded from config file.","title":"NullPointerException when loading keystore","body":"<p>I think you need to provide the path for key store file.</p>\n\n<pre><code>KeyStore  keyStore = KeyStore.getInstance(\"PKCS12\");\nFile f = new File(KEY_STORE_FILE);\nif (!f.exists())\n{   \n   throw new Exception(\"File Not Found\");\n }\n InputStream input = new FileInputStream(KEY_STORE_FILE);\n keyStore.load(input, KEY_STORE_PASS);\n input.close();\n return keyStore;\n</code></pre>\n\n<p>here all the constants are being loaded from config file.</p>\n"},{"tags":[],"owner":{"account_id":14461696,"reputation":26,"user_id":10446358,"display_name":"Fuji"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1538487570,"creation_date":1538487570,"answer_id":52609577,"question_id":49499316,"body_markdown":"I had the same problem few days ago.\r\nIn my case the problem was the pfx file that was exported without/wrongly the certificate itself and the private key. It just contained the public key chain of trust.\r\n\r\nThe solution was to export again the pfx file.\r\n\r\nCheck your pfx file with this program in Windows (from Kent Chen article):\r\nhttps://www.nextofwindows.com/how-to-check-a-pfx-certifications-expiry-date-on-windows\r\n\r\nOr in linux use:\r\n\r\n&gt; openssl pkcs12 -info -in *certificate_name*.p12\r\n\r\n\r\n","title":"NullPointerException when loading keystore","body":"<p>I had the same problem few days ago.\nIn my case the problem was the pfx file that was exported without/wrongly the certificate itself and the private key. It just contained the public key chain of trust.</p>\n\n<p>The solution was to export again the pfx file.</p>\n\n<p>Check your pfx file with this program in Windows (from Kent Chen article):\n<a href=\"https://www.nextofwindows.com/how-to-check-a-pfx-certifications-expiry-date-on-windows\" rel=\"nofollow noreferrer\">https://www.nextofwindows.com/how-to-check-a-pfx-certifications-expiry-date-on-windows</a></p>\n\n<p>Or in linux use:</p>\n\n<blockquote>\n  <p>openssl pkcs12 -info -in <em>certificate_name</em>.p12</p>\n</blockquote>\n"}],"owner":{"account_id":10054185,"reputation":55,"user_id":7437096,"display_name":"Ramon Lacava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7020,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52609577,"answer_count":2,"score":2,"last_activity_date":1647011637,"creation_date":1522093086,"question_id":49499316,"body_markdown":"I&#39;m trying to load a keystore from a pfx file, but when i try to upload a pfx file and load the keystore with the code below, it gave me a NullPointerException. The password and the my baos (ByteArrayOutputStream) are not null. Any idea what might be happening?\r\n\r\n      \r\n    KeyStore ks = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n    String passw = passwordField.getValue();\r\n    ks.load(new ByteArrayInputStream(baos.toByteArray()), passw.toCharArray());\r\n\r\nThis code works with a lot of certificates, but in a specific pfx file this is gaving me this problem:\r\n\r\n    java.lang.NullPointerException\r\n    \tat java.lang.String.&lt;init&gt;(String.java:491)\r\n    \tat sun.security.pkcs12.PKCS12KeyStore.loadSafeContents(PKCS12KeyStore.java:2286)\r\n    \tat sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2025)\r\n    \tat java.security.KeyStore.load(KeyStore.java:1445)\r\n        \t\t\r\n\r\n\r\nThanks.\r\n\r\n\t\t\r\n","title":"NullPointerException when loading keystore","body":"<p>I'm trying to load a keystore from a pfx file, but when i try to upload a pfx file and load the keystore with the code below, it gave me a NullPointerException. The password and the my baos (ByteArrayOutputStream) are not null. Any idea what might be happening?</p>\n\n<pre><code>KeyStore ks = KeyStore.getInstance(\"PKCS12\");\nString passw = passwordField.getValue();\nks.load(new ByteArrayInputStream(baos.toByteArray()), passw.toCharArray());\n</code></pre>\n\n<p>This code works with a lot of certificates, but in a specific pfx file this is gaving me this problem:</p>\n\n<pre><code>java.lang.NullPointerException\n    at java.lang.String.&lt;init&gt;(String.java:491)\n    at sun.security.pkcs12.PKCS12KeyStore.loadSafeContents(PKCS12KeyStore.java:2286)\n    at sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2025)\n    at java.security.KeyStore.load(KeyStore.java:1445)\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","api","security","keycloak"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1647020529,"post_id":71440592,"comment_id":126276308,"body_markdown":"Can&#39;t follow you, authorization check is always done at runtime. With Spring Boot Security you may follow this https://www.baeldung.com/role-and-privilege-for-spring-security-registration. Have a look at `UserDetails loadUserByUsername(String n)`, you may return a role depending of the actual system time.","body":"Can&#39;t follow you, authorization check is always done at runtime. With Spring Boot Security you may follow this <a href=\"https://www.baeldung.com/role-and-privilege-for-spring-security-registration\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>. Have a look at <code>UserDetails loadUserByUsername(String n)</code>, you may return a role depending of the actual system time."}],"owner":{"account_id":199140,"reputation":1024,"user_id":444238,"accept_rate":75,"display_name":"skalinkin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647011282,"creation_date":1647011282,"question_id":71440592,"body_markdown":"Question about how to approach the solution for the following requirements. \r\n - &quot;user&quot; role can have access to all actions in spring boot web api from 0:01am to 11.59am \r\n - in other times user is not allowed to modify data (POST, PUT and GET requests).\r\n\r\nAre there any way to customize Spring Boot Security or Keycloak adapter to have it execute authorization check in runtime instead of configure security only when application started. \r\n","title":"Spring Boot, Keycloak and runtime authorization","body":"<p>Question about how to approach the solution for the following requirements.</p>\n<ul>\n<li>&quot;user&quot; role can have access to all actions in spring boot web api from 0:01am to 11.59am</li>\n<li>in other times user is not allowed to modify data (POST, PUT and GET requests).</li>\n</ul>\n<p>Are there any way to customize Spring Boot Security or Keycloak adapter to have it execute authorization check in runtime instead of configure security only when application started.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":4629221,"reputation":2621,"user_id":3752185,"display_name":"Janar"},"score":0,"creation_date":1647001691,"post_id":71438458,"comment_id":126268984,"body_markdown":"have you tried adding @Id to the primary key field instead?","body":"have you tried adding @Id to the primary key field instead?"},{"owner":{"account_id":14937241,"reputation":1,"user_id":10784908,"display_name":"Sonal Mishra"},"score":0,"creation_date":1647001774,"post_id":71438458,"comment_id":126269012,"body_markdown":"I don&#39;t have any primary key in my table since it will prevent duplicates. But i need to have duplicate id","body":"I don&#39;t have any primary key in my table since it will prevent duplicates. But i need to have duplicate id"},{"owner":{"account_id":4629221,"reputation":2621,"user_id":3752185,"display_name":"Janar"},"score":0,"creation_date":1647019336,"post_id":71438458,"comment_id":126275841,"body_markdown":"I&#39;d definitely recommend adding a primary key field which you can then annotate with `@Id`. You can call that field whatever you want, it doesn&#39;t have to be called id","body":"I&#39;d definitely recommend adding a primary key field which you can then annotate with <code>@Id</code>. You can call that field whatever you want, it doesn&#39;t have to be called id"}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647002012,"creation_date":1647002012,"answer_id":71438587,"question_id":71438458,"body_markdown":"An Entity must be identifiable by a unique key, regardless of the requirement, This doesn&#39;t need to correspond to any database primary key but there must a unique column or columns that can be used to identity an entity, so one practice could be to translate your requirement such as using `@Embeddable`  \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @Embeddable\r\n    public class TranslatedEntity {\r\n        private Integer id;\r\n    }\r\n\r\n    @Entity\r\n    public class StoreRunId {\r\n\r\n        @Id\r\n        @Column(name = &#39;id&#39;)\r\n        public int id;\r\n\r\n        @Column(name = &#39;name&#39;)\r\n        public String name;\r\n\r\n        @Column(name = &#39;sequence&#39;)\r\n        public String sequence;\r\n\r\n        @Embedded\r\n        private TranslatedEntity pointer;\r\n\r\n        // standard getters, setters\r\n    }\r\n\r\n\r\n","title":"How to insert duplicate values in same session for field having @Id annotation?","body":"<p>An Entity must be identifiable by a unique key, regardless of the requirement, This doesn't need to correspond to any database primary key but there must a unique column or columns that can be used to identity an entity, so one practice could be to translate your requirement such as using <code>@Embeddable</code></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>@Embeddable\npublic class TranslatedEntity {\n    private Integer id;\n}\n\n@Entity\npublic class StoreRunId {\n\n    @Id\n    @Column(name = 'id')\n    public int id;\n\n    @Column(name = 'name')\n    public String name;\n\n    @Column(name = 'sequence')\n    public String sequence;\n\n    @Embedded\n    private TranslatedEntity pointer;\n\n    // standard getters, setters\n}\n</code></pre>\n"}],"owner":{"account_id":14937241,"reputation":1,"user_id":10784908,"display_name":"Sonal Mishra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647011094,"creation_date":1647001354,"question_id":71438458,"body_markdown":"Following is the code:\r\n\r\n```java\r\n@Entity\r\nPublic class StoreRunId{\r\n    @Id\r\n    @Column(name = &#39;id&#39;)\r\n    public int id;\r\n\r\n    @Column(name = &#39;name&#39;)\r\n    public String name;\r\n\r\n    @Column(name = &#39;sequence&#39;)\r\n    public String sequence;\r\n}\r\n```\r\n\r\nI need to insert duplicate IDs based on my requirement.\r\n\r\nHowever, when I remove @Id then Hibernate says _&quot;No identifier specified for entity&quot;_.\r\n\r\nWhen I keep @Id in code then the current row is overwritten with the new value and same id (and doesn&#39;t create a new entry for the same id).\r\n\r\nIs there any way to insert duplicate IDs? (Note: column &#39;id&#39; is not a primary key in SQL)","title":"How to insert duplicate values in same session for field having @Id annotation?","body":"<p>Following is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\nPublic class StoreRunId{\n    @Id\n    @Column(name = 'id')\n    public int id;\n\n    @Column(name = 'name')\n    public String name;\n\n    @Column(name = 'sequence')\n    public String sequence;\n}\n</code></pre>\n<p>I need to insert duplicate IDs based on my requirement.</p>\n<p>However, when I remove @Id then Hibernate says <em>&quot;No identifier specified for entity&quot;</em>.</p>\n<p>When I keep @Id in code then the current row is overwritten with the new value and same id (and doesn't create a new entry for the same id).</p>\n<p>Is there any way to insert duplicate IDs? (Note: column 'id' is not a primary key in SQL)</p>\n"},{"tags":["java","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647000858,"creation_date":1646996269,"answer_id":71437453,"question_id":71436651,"body_markdown":"From the theory it seems that simply `@StepScope` should resolve the problem.  \r\nI will test this. \r\n\r\nAfter test, worked perfectly: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AMImo.png","title":"Add timestamp to filename in StaxEventItemWriter","body":"<p>From the theory it seems that simply <code>@StepScope</code> should resolve the problem.<br />\nI will test this.</p>\n<p>After test, worked perfectly:</p>\n<p><a href=\"https://i.stack.imgur.com/AMImo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AMImo.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647002293,"creation_date":1647002293,"answer_id":71438654,"question_id":71436651,"body_markdown":"Ditch your `EccAddSumoItemWriter` and write an `@Bean` method that creates a `@StepScope` or `@JobScope` `SumoStaxEventItemWriter`. \r\n\r\n```java\r\n@StepScope\r\n@Bean\r\npublic SumoStaxEventItemWriter writer(@Value(&quot;${sumo.output_folder}&quot;) String sumoSavePath) {\r\n  SumoStaxEventItemWriter writer = new SumoStaxEventItemWriter();\r\n  writer.setShouldDeleteIfEmpty(true);\r\n  writer.setRootIdentification(&quot;editionCodeChanged_add&quot;);\r\n  writer.setResourcePath(sumoSavePath + &quot;/edition_code_changed_add-&quot; + now().format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH-mm-ss.SSS&quot;)) + &quot;.xml&quot;);\r\n  return writer;\r\n}\r\n```\r\n\r\nNow when building your step use this step scoped writer and each time you will get a fresh instance configured accordingly. ","title":"Add timestamp to filename in StaxEventItemWriter","body":"<p>Ditch your <code>EccAddSumoItemWriter</code> and write an <code>@Bean</code> method that creates a <code>@StepScope</code> or <code>@JobScope</code> <code>SumoStaxEventItemWriter</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@StepScope\n@Bean\npublic SumoStaxEventItemWriter writer(@Value(&quot;${sumo.output_folder}&quot;) String sumoSavePath) {\n  SumoStaxEventItemWriter writer = new SumoStaxEventItemWriter();\n  writer.setShouldDeleteIfEmpty(true);\n  writer.setRootIdentification(&quot;editionCodeChanged_add&quot;);\n  writer.setResourcePath(sumoSavePath + &quot;/edition_code_changed_add-&quot; + now().format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH-mm-ss.SSS&quot;)) + &quot;.xml&quot;);\n  return writer;\n}\n</code></pre>\n<p>Now when building your step use this step scoped writer and each time you will get a fresh instance configured accordingly.</p>\n"}],"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71437453,"answer_count":2,"score":1,"last_activity_date":1647011030,"creation_date":1646992362,"question_id":71436651,"body_markdown":"I have the following Spring Batch itemwriter that streams to a file, but wish to add a timestamp to the filename.  \r\nThe following code works but is incorrect, because the timestamp is set at startup time rather than on every batch run.  \r\nWhat I like to achieve is that a new filename gets assigned on every job run, any idea how to do this? \r\n\r\n    @Component\r\n    public class EccAddSumoItemWriter extends SumoStaxEventItemWriter&lt;AddSubscriptionXml&gt; {\r\n    \r\n    \tpublic static final DateTimeFormatter DATE_FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH-mm-ss.SSS&quot;);\r\n    \r\n    \tpublic EccAddSumoItemWriter(@Value(&quot;${sumo.output_folder}&quot;) String sumoSavePath) {\r\n    \t\tsetShouldDeleteIfEmpty(true);\r\n    \t\tsetRootIdentification(&quot;editionCodeChanged_add&quot;);\r\n    \t\tsetResourcePath(sumoSavePath + &quot;/edition_code_changed_add-&quot; + now().format(DATE_FORMATTER) + &quot;.xml&quot;);\r\n    \t}\r\n\r\n    }\r\n\r\n`setResourcePath` merely refers to: \r\n\r\n\tprotected void setResourcePath(String resourceFilePath) {\r\n\t\tthis.setResource(new FileSystemResource(resourceFilePath));\r\n\t}\r\n\r\nWhat is the advised way of doing this in Spring Batch? \r\n","title":"Add timestamp to filename in StaxEventItemWriter","body":"<p>I have the following Spring Batch itemwriter that streams to a file, but wish to add a timestamp to the filename.<br />\nThe following code works but is incorrect, because the timestamp is set at startup time rather than on every batch run.<br />\nWhat I like to achieve is that a new filename gets assigned on every job run, any idea how to do this?</p>\n<pre><code>@Component\npublic class EccAddSumoItemWriter extends SumoStaxEventItemWriter&lt;AddSubscriptionXml&gt; {\n\n    public static final DateTimeFormatter DATE_FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH-mm-ss.SSS&quot;);\n\n    public EccAddSumoItemWriter(@Value(&quot;${sumo.output_folder}&quot;) String sumoSavePath) {\n        setShouldDeleteIfEmpty(true);\n        setRootIdentification(&quot;editionCodeChanged_add&quot;);\n        setResourcePath(sumoSavePath + &quot;/edition_code_changed_add-&quot; + now().format(DATE_FORMATTER) + &quot;.xml&quot;);\n    }\n\n}\n</code></pre>\n<p><code>setResourcePath</code> merely refers to:</p>\n<pre><code>protected void setResourcePath(String resourceFilePath) {\n    this.setResource(new FileSystemResource(resourceFilePath));\n}\n</code></pre>\n<p>What is the advised way of doing this in Spring Batch?</p>\n"},{"tags":["java","swt","eclipse-rcp","webview2"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1644940246,"post_id":71129155,"comment_id":125735429,"body_markdown":"The bug report [here](https://bugs.eclipse.org/bugs/show_bug.cgi?id=578017) just says evaluate gets stuck if called in a BrowserFunction, it doesn&#39;t mention throwing an exception.","body":"The bug report <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=578017\" rel=\"nofollow noreferrer\">here</a> just says evaluate gets stuck if called in a BrowserFunction, it doesn&#39;t mention throwing an exception."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1644940547,"post_id":71129155,"comment_id":125735582,"body_markdown":"Possibly the Chromium browser would work for you, instructions for that are in the FAQ you reference.","body":"Possibly the Chromium browser would work for you, instructions for that are in the FAQ you reference."},{"owner":{"account_id":13535472,"reputation":23,"user_id":9764764,"display_name":"PavloK"},"score":0,"creation_date":1644945323,"post_id":71129155,"comment_id":125737656,"body_markdown":"Thank you @greg-449 for such quick reply. \nI will try workaround from the &quot;bug&quot;.  But still wondering why that evaluate not working at this moment. \n\nAnd Is there better way to solve it without wrapping into callback all that I need to invoke in sync after &#39;evaluate()&#39;?","body":"Thank you @greg-449 for such quick reply.  I will try workaround from the &quot;bug&quot;.  But still wondering why that evaluate not working at this moment.   And Is there better way to solve it without wrapping into callback all that I need to invoke in sync after &#39;evaluate()&#39;?"}],"owner":{"account_id":13535472,"reputation":23,"user_id":9764764,"display_name":"PavloK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647010530,"creation_date":1644939246,"question_id":71129155,"body_markdown":"all! Asking for your help.\r\nI&#39;m pretty new to SWT - so please do not judge me strictly for questions.\r\n\r\nI have a big/old RCP app. It has many views that use embedded browser.\r\nRecently made 2 major updates:\r\n 1. Updated Eclipse platform from **3.7.2** to **4.21**;\r\n 2. switch from **IE** to **Edge** browser;\r\n\r\n\r\nThe package that I&#39;m using has version:\r\n&gt; org.eclipse.swt.win32.win32.x86_64 \r\n&gt; \r\n&gt; Bundle-Version: 3.117.0.v20210906-0842\r\n\r\n**OS:** Windows 10\r\n\r\nProblem:\r\n-------\r\nAfter clicking the button on embedded browser page, JavaScript calls the Java `MyFunction extends BrowserFunction`. Which prepares the data to refresh the page. And before refresh it calls **browser.evaluate()** to get some number from JS side:\r\n\r\n    Double numberFromJS = (Double) browser.evaluate(&quot;return 2+2; //this expression just for example&quot;) \r\n\r\nThe main thread stuck in the `while` loop, because `pstr[0] == null` always `true`.\r\n\r\n    package org.eclipse.swt.browser;\r\n\r\n    class Edge extends WebBrowser {\r\n        \r\n        ...\r\n        \r\n        static int callAndWait(String[] pstr, ToIntFunction&lt;IUnknown&gt; callable) {\r\n        \tint[] phr = new int[1];\r\n        \tIUnknown completion = newCallback((result, pszJson) -&gt; {\r\n        \t\tphr[0] = (int)result;\r\n        \t\tif ((int)result == COM.S_OK) {\r\n        \t\t\tpstr[0] = wstrToString(pszJson, false);\r\n        \t\t}\r\n        \t\treturn COM.S_OK;\r\n        \t});\r\n        \tpstr[0] = null;\r\n        \tphr[0] = callable.applyAsInt(completion);\r\n        \tcompletion.Release();\r\n        \tDisplay display = Display.getCurrent();\r\n        \twhile (phr[0] == COM.S_OK &amp;&amp; pstr[0] == null) { // &lt;-------------- here\r\n        \t\tif (!display.readAndDispatch()) display.sleep();\r\n        \t}\r\n        \treturn phr[0];\r\n        }\r\n    \r\n    }\r\n\r\n\r\ninvestigation:\r\n------\r\n\r\n1) Here [https://www.eclipse.org/swt/faq.php][1] I found a limitation about Edge and evaluate, but there is no `Exception` throwed;\r\n\r\n2) Tried to debug the `display.readAndDispatch()`, but there is lack of java docs and it jumps into native methods - not clear for me what should exactly happen.\r\nAs I understood in general it should handle message from OS and pass it into `completion` callback from above and set some value into `pstr[0]`;\r\n\r\n3) interesting observation - the `evaluate()` method for this browser is successfully passed just on it creation. Looks like it became broken after something.\r\n\r\n\r\nQuestions:\r\n---------\r\n\r\n 1. Any suggestion to pay attention/check some places?\r\n 2. Is there known issues for that method and workarounds for it?\r\n 3. Is it possible that the messages from system are intercepted from some other place?\r\n \r\n\r\nThanks in advance!\r\n\r\n  [1]:https://www.eclipse.org/swt/faq.php#:~:text=run%20synchronously.%20Calling-,evaluate(),-and%20getText()%20from","title":"Why does SWT Edge browser stuck on browser.evaluate()?","body":"<p>all! Asking for your help.\nI'm pretty new to SWT - so please do not judge me strictly for questions.</p>\n<p>I have a big/old RCP app. It has many views that use embedded browser.\nRecently made 2 major updates:</p>\n<ol>\n<li>Updated Eclipse platform from <strong>3.7.2</strong> to <strong>4.21</strong>;</li>\n<li>switch from <strong>IE</strong> to <strong>Edge</strong> browser;</li>\n</ol>\n<p>The package that I'm using has version:</p>\n<blockquote>\n<p>org.eclipse.swt.win32.win32.x86_64</p>\n<p>Bundle-Version: 3.117.0.v20210906-0842</p>\n</blockquote>\n<p><strong>OS:</strong> Windows 10</p>\n<h2>Problem:</h2>\n<p>After clicking the button on embedded browser page, JavaScript calls the Java <code>MyFunction extends BrowserFunction</code>. Which prepares the data to refresh the page. And before refresh it calls <strong>browser.evaluate()</strong> to get some number from JS side:</p>\n<pre><code>Double numberFromJS = (Double) browser.evaluate(&quot;return 2+2; //this expression just for example&quot;) \n</code></pre>\n<p>The main thread stuck in the <code>while</code> loop, because <code>pstr[0] == null</code> always <code>true</code>.</p>\n<pre><code>package org.eclipse.swt.browser;\n\nclass Edge extends WebBrowser {\n    \n    ...\n    \n    static int callAndWait(String[] pstr, ToIntFunction&lt;IUnknown&gt; callable) {\n        int[] phr = new int[1];\n        IUnknown completion = newCallback((result, pszJson) -&gt; {\n            phr[0] = (int)result;\n            if ((int)result == COM.S_OK) {\n                pstr[0] = wstrToString(pszJson, false);\n            }\n            return COM.S_OK;\n        });\n        pstr[0] = null;\n        phr[0] = callable.applyAsInt(completion);\n        completion.Release();\n        Display display = Display.getCurrent();\n        while (phr[0] == COM.S_OK &amp;&amp; pstr[0] == null) { // &lt;-------------- here\n            if (!display.readAndDispatch()) display.sleep();\n        }\n        return phr[0];\n    }\n\n}\n</code></pre>\n<h2>investigation:</h2>\n<ol>\n<li><p>Here <a href=\"https://www.eclipse.org/swt/faq.php#:%7E:text=run%20synchronously.%20Calling-,evaluate(),-and%20getText()%20from\" rel=\"nofollow noreferrer\">https://www.eclipse.org/swt/faq.php</a> I found a limitation about Edge and evaluate, but there is no <code>Exception</code> throwed;</p>\n</li>\n<li><p>Tried to debug the <code>display.readAndDispatch()</code>, but there is lack of java docs and it jumps into native methods - not clear for me what should exactly happen.\nAs I understood in general it should handle message from OS and pass it into <code>completion</code> callback from above and set some value into <code>pstr[0]</code>;</p>\n</li>\n<li><p>interesting observation - the <code>evaluate()</code> method for this browser is successfully passed just on it creation. Looks like it became broken after something.</p>\n</li>\n</ol>\n<h2>Questions:</h2>\n<ol>\n<li>Any suggestion to pay attention/check some places?</li>\n<li>Is there known issues for that method and workarounds for it?</li>\n<li>Is it possible that the messages from system are intercepted from some other place?</li>\n</ol>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":17433694,"reputation":621,"user_id":12637199,"display_name":"lmasneri"},"score":0,"creation_date":1646994650,"post_id":71437046,"comment_id":126266474,"body_markdown":"Try tagging your WordFilterService with the @Service from &quot;import org.springframework.stereotype.Service;&quot;","body":"Try tagging your WordFilterService with the @Service from &quot;import org.springframework.stereotype.Service;&quot;"},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1647001173,"post_id":71437046,"comment_id":126268764,"body_markdown":"The error message doesn&#39;t fit to the code that you posted. Do you have any other code in WordFilterService, that you have left out here?","body":"The error message doesn&#39;t fit to the code that you posted. Do you have any other code in WordFilterService, that you have left out here?"},{"owner":{"account_id":20082554,"reputation":59,"user_id":14724871,"display_name":"Phạm Cường"},"score":0,"creation_date":1647010638,"post_id":71437046,"comment_id":126272324,"body_markdown":"That&#39;s all i have sir.","body":"That&#39;s all i have sir."}],"answers":[{"tags":[],"owner":{"account_id":20082554,"reputation":59,"user_id":14724871,"display_name":"Phạm Cường"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647010525,"creation_date":1647010525,"answer_id":71440396,"question_id":71437046,"body_markdown":"Problem is solved. I just copyed all the WordFilter to another folder and deleted all the WordFilter.And i pasted it again. And it working. ","title":"Parameter 0 of constructor in &#39;.service &#39; required a bean of type &#39;.model &#39; that could not be found","body":"<p>Problem is solved. I just copyed all the WordFilter to another folder and deleted all the WordFilter.And i pasted it again. And it working.</p>\n"}],"owner":{"account_id":20082554,"reputation":59,"user_id":14724871,"display_name":"Phạm Cường"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7093,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71440396,"answer_count":1,"score":0,"last_activity_date":1647010525,"creation_date":1646994239,"question_id":71437046,"body_markdown":"I am creating a spring boot application, it&#39; used to filting bad word. Where in any client can submit the request, these request can be GET,POST\r\n\r\nBut while creating this application, I am getting the following errors:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe structure of my application is:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nz0gX.png\r\n  [2]: https://i.stack.imgur.com/93RhM.png\r\n\r\n**Model.WordFilter**\r\n````\r\npackage com.Website.Step2.model;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport javax.persistence.*;\r\nimport javax.validation.constraints.NotBlank;\r\nimport static javax.persistence.FetchType.LAZY;\r\nimport static javax.persistence.GenerationType.IDENTITY;\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\npublic class WordFilter {\r\n    @Id\r\n    @GeneratedValue(strategy = IDENTITY)\r\n    private Long Id;\r\n    @NotBlank(message = &quot;Word is required&quot;)\r\n    private String name;\r\n    @ManyToOne(fetch = LAZY)\r\n    private User user;\r\n}\r\n````\r\n**WordFilterService**\r\n````\r\npackage com.Website.Step2.service;\r\nimport com.Website.Step2.dto.WordFilterDto;\r\nimport com.Website.Step2.mapper.WordFiterMapper;\r\nimport com.Website.Step2.model.WordFilter;\r\nimport com.Website.Step2.repository.WordFilterRepository;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\nimport java.util.List;\r\nimport static java.util.stream.Collectors.toList;\r\n@Service\r\n@AllArgsConstructor\r\n\r\npublic class WordFilterService {\r\n    private final WordFilterRepository wordFilterRepository;\r\n    private final WordFiterMapper wordFiterMapper;\r\n    private final AuthService authService;\r\n    public WordFilterDto save(WordFilterDto wordFilterDto) {\r\n        WordFilter save = wordFilterRepository.save(wordFiterMapper.mapDtoToWordFilter(wordFilterDto, authService.getCurrentUser()));\r\n        wordFilterDto.setId(save.getId());\r\n        return wordFilterDto;\r\n    }\r\n    @Transactional(readOnly = true)\r\n    public List&lt;WordFilterDto&gt; getAll() {\r\n        return wordFilterRepository.findAll()\r\n                .stream()\r\n                .map(wordFiterMapper::mapWordFilterToDto)\r\n                .collect(toList());\r\n    }\r\n}\r\n````\r\nI know that many questions with the following error, are already been asked, but still I am not able to solve this.","title":"Parameter 0 of constructor in &#39;.service &#39; required a bean of type &#39;.model &#39; that could not be found","body":"<p>I am creating a spring boot application, it' used to filting bad word. Where in any client can submit the request, these request can be GET,POST</p>\n<p>But while creating this application, I am getting the following errors:\n<a href=\"https://i.stack.imgur.com/nz0gX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nz0gX.png\" alt=\"enter image description here\" /></a></p>\n<p>The structure of my application is:</p>\n<p><a href=\"https://i.stack.imgur.com/93RhM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/93RhM.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Model.WordFilter</strong></p>\n<pre><code>package com.Website.Step2.model;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport javax.persistence.*;\nimport javax.validation.constraints.NotBlank;\nimport static javax.persistence.FetchType.LAZY;\nimport static javax.persistence.GenerationType.IDENTITY;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class WordFilter {\n    @Id\n    @GeneratedValue(strategy = IDENTITY)\n    private Long Id;\n    @NotBlank(message = &quot;Word is required&quot;)\n    private String name;\n    @ManyToOne(fetch = LAZY)\n    private User user;\n}\n</code></pre>\n<p><strong>WordFilterService</strong></p>\n<pre><code>package com.Website.Step2.service;\nimport com.Website.Step2.dto.WordFilterDto;\nimport com.Website.Step2.mapper.WordFiterMapper;\nimport com.Website.Step2.model.WordFilter;\nimport com.Website.Step2.repository.WordFilterRepository;\nimport lombok.AllArgsConstructor;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\nimport java.util.List;\nimport static java.util.stream.Collectors.toList;\n@Service\n@AllArgsConstructor\n\npublic class WordFilterService {\n    private final WordFilterRepository wordFilterRepository;\n    private final WordFiterMapper wordFiterMapper;\n    private final AuthService authService;\n    public WordFilterDto save(WordFilterDto wordFilterDto) {\n        WordFilter save = wordFilterRepository.save(wordFiterMapper.mapDtoToWordFilter(wordFilterDto, authService.getCurrentUser()));\n        wordFilterDto.setId(save.getId());\n        return wordFilterDto;\n    }\n    @Transactional(readOnly = true)\n    public List&lt;WordFilterDto&gt; getAll() {\n        return wordFilterRepository.findAll()\n                .stream()\n                .map(wordFiterMapper::mapWordFilterToDto)\n                .collect(toList());\n    }\n}\n</code></pre>\n<p>I know that many questions with the following error, are already been asked, but still I am not able to solve this.</p>\n"},{"tags":["java","unit-testing","spring-boot-test","mockmvc"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1646907382,"post_id":71422319,"comment_id":126241577,"body_markdown":"Couldn&#39;t you test the backend classes directly (i.e., not calling them as web services, but as actual classes) and mock whatever methods actually handle the files?","body":"Couldn&#39;t you test the backend classes directly (i.e., not calling them as web services, but as actual classes) and mock whatever methods actually handle the files?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646907481,"post_id":71422319,"comment_id":126241610,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":24514006,"reputation":1,"user_id":18427998,"display_name":"Sander Theeuwen"},"score":0,"creation_date":1647010242,"post_id":71422319,"comment_id":126272165,"body_markdown":"I wanted to test the specific urls, not the just the methods / classes.","body":"I wanted to test the specific urls, not the just the methods / classes."}],"answers":[{"tags":[],"owner":{"account_id":24514006,"reputation":1,"user_id":18427998,"display_name":"Sander Theeuwen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647010444,"creation_date":1647010444,"answer_id":71440378,"question_id":71422319,"body_markdown":"Using system variables, I managed to change the current directory specifically for testing.\r\n```\r\nSystem.setProperty(&quot;user.dir&quot;, System.getProperty(&quot;user.dir&quot;) + &quot;\\\\TestData&quot;);\r\n```\r\nI used @BeforeAll and @AfterAll (to reset).","title":"How can I create a test environment for a file system in Java","body":"<p>Using system variables, I managed to change the current directory specifically for testing.</p>\n<pre><code>System.setProperty(&quot;user.dir&quot;, System.getProperty(&quot;user.dir&quot;) + &quot;\\\\TestData&quot;);\n</code></pre>\n<p>I used @BeforeAll and @AfterAll (to reset).</p>\n"}],"owner":{"account_id":24514006,"reputation":1,"user_id":18427998,"display_name":"Sander Theeuwen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647010444,"creation_date":1646906923,"question_id":71422319,"body_markdown":"I&#39;m using Java and Spring Boot for my back end. The back end uses a file system. To test the urls themselves, I use MockMvc. The problem is that the back end creates files in a dynamic environment. I want to have a test folder which the back end uses only when testing. Since the tests are virtually separate from the actual controllers, I cannot configure the test methods to say &quot;Hey back end, this is a test, so use the test data folder instead of the real one&quot;.","title":"How can I create a test environment for a file system in Java","body":"<p>I'm using Java and Spring Boot for my back end. The back end uses a file system. To test the urls themselves, I use MockMvc. The problem is that the back end creates files in a dynamic environment. I want to have a test folder which the back end uses only when testing. Since the tests are virtually separate from the actual controllers, I cannot configure the test methods to say &quot;Hey back end, this is a test, so use the test data folder instead of the real one&quot;.</p>\n"},{"tags":["java","ios","bouncycastle","aes-gcm","ecies"],"comments":[{"owner":{"account_id":208697,"reputation":526,"user_id":459349,"accept_rate":50,"display_name":"mahler"},"score":0,"creation_date":1631613417,"post_id":64702417,"comment_id":122263815,"body_markdown":"My guess is that `ECCDHwithSHA256KDF` doesn&#39;t generate the variable IV for AES GCM like the algorithm I&#39;m using on iOS.","body":"My guess is that <code>ECCDHwithSHA256KDF</code> doesn&#39;t generate the variable IV for AES GCM like the algorithm I&#39;m using on iOS."}],"answers":[{"tags":[],"owner":{"account_id":208697,"reputation":526,"user_id":459349,"accept_rate":50,"display_name":"mahler"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1604617591,"creation_date":1604617591,"answer_id":64706601,"question_id":64702417,"body_markdown":"I did manage to get this to work by using the the code from [O2 Czech Republic][1] and that does work, but that code is from 2017 and I&#39;m hoping this can these days be done in fewer lines with the current version of BouncyCastle.\r\n\r\nSee the working code below. It separates the KeyAgreement and KeyDerivationFunction into two separate functions.\r\n\r\n```java\r\n   /**\r\n     * Key agreement using ECDH with Cofactor and integrated X9.63 KDF SHA-256\r\n     *\r\n     * @param ephemeralPublicKey created by the sender\r\n     * @param privateKey from the receiver\r\n     * @return shared secret of 32-bytes containing the 128-bit AES key and 16-byte IV\r\n     */\r\n    private byte[] getInitialSecret(PublicKey ephemeralPublicKey, PrivateKey privateKey) throws Exception {\r\n        String keyAgreementAlgorithm = &quot;ECCDH&quot;; // Seems to be equivalent to &quot;ECDHC&quot;\r\n        KeyAgreement keyAgreement = KeyAgreement.getInstance(keyAgreementAlgorithm, new BouncyCastleProvider());\r\n        keyAgreement.init(privateKey);\r\n        keyAgreement.doPhase(ephemeralPublicKey, true);\r\n        return keyAgreement.generateSecret();\r\n    }\r\n\r\n    /**\r\n     * Derive actual SecretKey with X9.63 KDF SHA-256\r\n     *\r\n     * @param initialSecret output from the ECDH agreement with Cofactor\r\n     * @param ephemeralKeyBytes emphemeral public key from sender\r\n     * @return shared secret of 32-bytes containing the 128-bit AES key and 16-byte IV\r\n     */\r\n    private byte[] getDerivation(byte[] initialSecret, byte[] ephemeralKeyBytes) {\r\n        KDF2BytesGenerator kdfGenerator = new KDF2BytesGenerator(new SHA256Digest());\r\n        kdfGenerator.init(new KDFParameters(initialSecret, ephemeralKeyBytes));\r\n        byte[] kdfOut = new byte[32]; \r\n        kdfGenerator.generateBytes(kdfOut, 0, 32);\r\n        return kdfOut;\r\n    }\r\n  }\r\n```\r\n\r\nand changing\r\n\r\n```java\r\nbyte[] kdfOut = getSharedSecret(ephemeralPublicKey, privateKey);\r\n```\r\ninto\r\n```java\r\nbyte[] initialSecret = getInitialSecret(ephemeralPublicKey, privateKey);\r\nbyte[] kdfOut = getDerivation(initialSecret, ephemeralKeyBytes);\r\n```\r\n\r\n\r\n  [1]: https://github.com/O2-Czech-Republic/BC-ECIES-for-iOS/","title":"Apple eciesEncryptionCofactorVariableIVX963SHA256AESGCM vs BouncyCastle ECCDHwithSHA256KDF","body":"<p>I did manage to get this to work by using the the code from <a href=\"https://github.com/O2-Czech-Republic/BC-ECIES-for-iOS/\" rel=\"nofollow noreferrer\">O2 Czech Republic</a> and that does work, but that code is from 2017 and I'm hoping this can these days be done in fewer lines with the current version of BouncyCastle.</p>\n<p>See the working code below. It separates the KeyAgreement and KeyDerivationFunction into two separate functions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   /**\n     * Key agreement using ECDH with Cofactor and integrated X9.63 KDF SHA-256\n     *\n     * @param ephemeralPublicKey created by the sender\n     * @param privateKey from the receiver\n     * @return shared secret of 32-bytes containing the 128-bit AES key and 16-byte IV\n     */\n    private byte[] getInitialSecret(PublicKey ephemeralPublicKey, PrivateKey privateKey) throws Exception {\n        String keyAgreementAlgorithm = &quot;ECCDH&quot;; // Seems to be equivalent to &quot;ECDHC&quot;\n        KeyAgreement keyAgreement = KeyAgreement.getInstance(keyAgreementAlgorithm, new BouncyCastleProvider());\n        keyAgreement.init(privateKey);\n        keyAgreement.doPhase(ephemeralPublicKey, true);\n        return keyAgreement.generateSecret();\n    }\n\n    /**\n     * Derive actual SecretKey with X9.63 KDF SHA-256\n     *\n     * @param initialSecret output from the ECDH agreement with Cofactor\n     * @param ephemeralKeyBytes emphemeral public key from sender\n     * @return shared secret of 32-bytes containing the 128-bit AES key and 16-byte IV\n     */\n    private byte[] getDerivation(byte[] initialSecret, byte[] ephemeralKeyBytes) {\n        KDF2BytesGenerator kdfGenerator = new KDF2BytesGenerator(new SHA256Digest());\n        kdfGenerator.init(new KDFParameters(initialSecret, ephemeralKeyBytes));\n        byte[] kdfOut = new byte[32]; \n        kdfGenerator.generateBytes(kdfOut, 0, 32);\n        return kdfOut;\n    }\n  }\n</code></pre>\n<p>and changing</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] kdfOut = getSharedSecret(ephemeralPublicKey, privateKey);\n</code></pre>\n<p>into</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] initialSecret = getInitialSecret(ephemeralPublicKey, privateKey);\nbyte[] kdfOut = getDerivation(initialSecret, ephemeralKeyBytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5395865,"reputation":136,"user_id":4297114,"accept_rate":100,"display_name":"Azulath"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1647010270,"creation_date":1646994304,"answer_id":71437066,"question_id":64702417,"body_markdown":"While the code above does work the right way would be to use `ECCDHwithSHA256KDF` together with a `UserKeyingMaterialSpec` like so:\r\n\r\n\r\n\r\n```\r\n/**\r\n   * Key agreement using ECDH with Cofactor and integrated X9.63 KDF SHA-256\r\n   * \r\n   * @param ephemeralKeyBytes created by the sender\r\n   * @param privateKey from the receiver\r\n   * @return shared secret of 32-bytes containing the 128-bit AES key and 16-byte IV\r\n   */\r\n   private byte[] getSharedSecret(byte[] ephemeralKeyBytes, PrivateKey privateKey) throws Exception {\r\n      PublicKey ephemeralPublicKey = getPublicKey(ephemeralKeyBytes);\r\n      String keyAgreementAlgorithm = &quot;ECCDHwithSHA256KDF&quot;;\r\n      UserKeyingMaterialSpec spec = new UserKeyingMaterialSpec(ephemeralKeyBytes);\r\n      KeyAgreement keyAgreement = KeyAgreement.getInstance(keyAgreementAlgorithm, new BouncyCastleProvider());\r\n      keyAgreement.init(privateKey, spec);\r\n      keyAgreement.doPhase(ephemeralPublicKey, true);\r\n      return keyAgreement.generateSecret();\r\n  }\r\n```\r\n\r\nThis way, you can use BouncyCastle to do both, the Key Agreement and the KDF in one go and you don&#39;t have to resort to splitting it in two.","title":"Apple eciesEncryptionCofactorVariableIVX963SHA256AESGCM vs BouncyCastle ECCDHwithSHA256KDF","body":"<p>While the code above does work the right way would be to use <code>ECCDHwithSHA256KDF</code> together with a <code>UserKeyingMaterialSpec</code> like so:</p>\n<pre><code>/**\n   * Key agreement using ECDH with Cofactor and integrated X9.63 KDF SHA-256\n   * \n   * @param ephemeralKeyBytes created by the sender\n   * @param privateKey from the receiver\n   * @return shared secret of 32-bytes containing the 128-bit AES key and 16-byte IV\n   */\n   private byte[] getSharedSecret(byte[] ephemeralKeyBytes, PrivateKey privateKey) throws Exception {\n      PublicKey ephemeralPublicKey = getPublicKey(ephemeralKeyBytes);\n      String keyAgreementAlgorithm = &quot;ECCDHwithSHA256KDF&quot;;\n      UserKeyingMaterialSpec spec = new UserKeyingMaterialSpec(ephemeralKeyBytes);\n      KeyAgreement keyAgreement = KeyAgreement.getInstance(keyAgreementAlgorithm, new BouncyCastleProvider());\n      keyAgreement.init(privateKey, spec);\n      keyAgreement.doPhase(ephemeralPublicKey, true);\n      return keyAgreement.generateSecret();\n  }\n</code></pre>\n<p>This way, you can use BouncyCastle to do both, the Key Agreement and the KDF in one go and you don't have to resort to splitting it in two.</p>\n"}],"owner":{"account_id":208697,"reputation":526,"user_id":459349,"accept_rate":50,"display_name":"mahler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1147,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":71437066,"answer_count":2,"score":5,"last_activity_date":1647010270,"creation_date":1604597721,"question_id":64702417,"body_markdown":"I&#39;m trying to encrypt communication between Java ([BouncyCastle][1]) and iOS using the Apple algorithm [eciesEncryptionCofactorVariableIVX963SHA256AESGCM][2]. \r\n\r\nThe algorithm by Apple is not well documented, but I found [this article][3] which helps quite a bit.\r\n\r\nI also found the following algorithm in the [BouncyCastle documentation][4] that seems to be close to what I&#39;m looking for:\r\n\r\n- `ECCDHwithSHA256KDF` which represents EC cofactor DH using the X9.63 KDF with SHA256 as the PRF\r\n\r\n\r\n```java\r\npackage com.example.ios.encryption;\r\n\r\nimport org.bouncycastle.jce.ECNamedCurveTable;\r\nimport org.bouncycastle.jce.ECPointUtil;\r\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\r\nimport org.bouncycastle.jce.spec.ECNamedCurveSpec;\r\nimport org.bouncycastle.jce.spec.ECParameterSpec;\r\nimport org.bouncycastle.util.encoders.Base64;\r\n\r\nimport java.math.BigInteger;\r\nimport java.security.*;\r\nimport java.security.spec.ECPoint;\r\nimport java.security.spec.ECPrivateKeySpec;\r\nimport java.security.spec.ECPublicKeySpec;\r\nimport java.util.Arrays;\r\n\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.KeyAgreement;\r\nimport javax.crypto.SecretKey;\r\nimport javax.crypto.spec.GCMParameterSpec;\r\nimport javax.crypto.spec.SecretKeySpec;\r\n\r\npublic class IOSEncryptionECwithAES {\r\n\r\n    public void testDecrypt() {\r\n\r\n        // Receiver EC Public Key\r\n        String pubKeyBase64 = &quot;BBPT50Rn0PeeV0LxUbhDV7U1FUgVw9YLVctQx5HA+TiA3lp3k/cud8Xsjh6lytgaI5S7IUW1YouUiPNR/7LPArk=&quot;;\r\n        PublicKey pubKey = getPublicKey(Base64.decode(pubKeyBase64));\r\n        \r\n        // Receiver EC Private Key\r\n        String privateKeyBase64 = &quot;BBPT50Rn0PeeV0LxUbhDV7U1FUgVw9YLVctQx5HA+TiA3lp3k/cud8Xsjh6lytgaI5S7IUW1YouUiPNR/7LPArkWcIYOQWtdkbTqmy++lz0cQ8ukWvUyhD9yzqZHPLQgQg==&quot;;\r\n        PrivateKey privateKey = getPrivateKey(Base64.decode(privateKeyBase64));\r\n    \r\n        // Encrypted data\r\n        String iosOutputBase64 = &quot;BNNzHjSJQxP8jNuj5W9XSW0XNgpOlEHY/S4KzZQJFxwjzoujuwz5kJeOLj6cASBaYKePGLhkbE0qN20y8aHpU+PmeuDJWY7LZ25LjvutafOJGugdRZdURRwFSke7hzhXlSneaTFegT3xOoq9ffjCynwD7iRD&quot;;\r\n        byte[] iosOutput = Base64.decode(iosOutputBase64);\r\n\r\n        // Plaintext is a random UUID\r\n        String plainText = &quot;514227F0-51E9-41AC-9A39-42752E2ABADF&quot;;\r\n\r\n        byte[] decryptedData = decryptEciesEncryptionCofactorVariableIVX963SHA256AESGCM(privateKey, iosOutput);\r\n        System.out.println(new String(decryptedData));\r\n    }\r\n\r\n    public byte[] decryptEciesEncryptionCofactorVariableIVX963SHA256AESGCM(PrivateKey privateKey, byte[] iosOutput) throws Exception {\r\n\r\n        // 1. Take ephemeral public key\r\n        byte[] ephemeralKeyBytes = Arrays.copyOfRange(iosOutput, 0, 65);\r\n        PublicKey ephemeralPublicKey = getPublicKey(ephemeralKeyBytes);\r\n        byte[] encryptedData = Arrays.copyOfRange(iosOutput, 65, iosOutput.length);\r\n\r\n        // 2. Key agreement using ECDH with Cofactor and integrated X9.63 \r\n        byte[] kdfOut = getSharedSecret(ephemeralPublicKey, privateKey);\r\n\r\n        byte[] secretKeyBytes = Arrays.copyOfRange(kdfOut, 0, 16);\r\n        SecretKey secretKey = new SecretKeySpec(secretKeyBytes, &quot;AES&quot;);\r\n\r\n        // 4. Decrypt with AES key\r\n        int tagLength = 128;\r\n        byte[] iv = Arrays.copyOfRange(kdfOut, 16, kdfOut.length);\r\n        GCMParameterSpec aesGcmParams = new GCMParameterSpec(tagLength, iv);\r\n        Cipher c = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n        c.init(Cipher.DECRYPT_MODE, secretKey, aesGcmParams);\r\n        byte[] decryptedData = c.doFinal(encryptedData);\r\n\r\n        return decryptedData;\r\n    }\r\n\r\n    /**\r\n     * Convert uncompressed public key into PublicKey using BouncyCastle\r\n     * For an elliptic curve public key, the format follows the ANSI X9.63 standard\r\n     * using a byte string of 04 || X || Y\r\n     *\r\n     * @param encodedBytes raw bytes received\r\n     * @return the Elliptic-Curve Public Key based on curve SECP256R1\r\n     */\r\n    private PublicKey getPublicKey(byte[] encodedBytes) throws Exception {\r\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;EC&quot;);\r\n        ECParameterSpec ecParameterSpec = ECNamedCurveTable.getParameterSpec(&quot;secp256r1&quot;);\r\n        ECNamedCurveSpec params = new ECNamedCurveSpec(&quot;secp256r1&quot;, ecParameterSpec.getCurve(), ecParameterSpec.getG(), ecParameterSpec.getN());\r\n        ECPoint publicPoint =  ECPointUtil.decodePoint(params.getCurve(), encodedBytes);\r\n        ECPublicKeySpec pubKeySpec = new ECPublicKeySpec(publicPoint, params);\r\n        return keyFactory.generatePublic(pubKeySpec);\r\n    }\r\n\r\n  /**\r\n   * Convert private key for external output from iOS\r\n   * For an elliptic curve private key, the output is formatted as the public key\r\n   * concatenated with the big endian encoding of the secret scalar, or 04 || X || Y || K.\r\n   *\r\n   * @param encodedBytes raw bytes received\r\n   * @return the Elliptic-Curve Private Key based on curve SECP256R1\r\n   */\r\n  private PrivateKey getPrivateKey(byte[] encodedBytes) throws Exception {\r\n        BigInteger s = new BigInteger(Arrays.copyOfRange(encodedBytes, 65, encodedBytes.length));\r\n        ECParameterSpec ecParameterSpec = ECNamedCurveTable.getParameterSpec(&quot;secp256r1&quot;);\r\n        ECNamedCurveSpec params = new ECNamedCurveSpec(&quot;secp256r1&quot;, ecParameterSpec.getCurve(), ecParameterSpec.getG(), ecParameterSpec.getN());\r\n        ECPrivateKeySpec privateKeySpec = new ECPrivateKeySpec(s, params);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;EC&quot;);\r\n        return keyFactory.generatePrivate(privateKeySpec);\r\n  }\r\n\r\n  /**\r\n   * Key agreement using ECDH with Cofactor and integrated X9.63 KDF SHA-256\r\n   * \r\n   * @param ephemeralPublicKey created by the sender\r\n   * @param privateKey from the receiver\r\n   * @return shared secret of 32-bytes containing the 128-bit AES key and 16-byte IV\r\n   */\r\n   private byte[] getSharedSecret(PublicKey ephemeralPublicKey, PrivateKey privateKey) throws Exception {\r\n      String keyAgreementAlgorithm = &quot;ECCDHwithSHA256KDF&quot;;\r\n      KeyAgreement keyAgreement = KeyAgreement.getInstance(keyAgreementAlgorithm, new BouncyCastleProvider());\r\n      keyAgreement.init(privateKey);\r\n      keyAgreement.doPhase(ephemeralPublicKey, true);\r\n      return keyAgreement.generateSecret();\r\n  }\r\n}\r\n```\r\n\r\nUnfortunately this doesn&#39;t work and results in an exception.\r\n\r\n```\r\njavax.crypto.AEADBadTagException: Tag mismatch!\r\n\r\n\tat java.base/com.sun.crypto.provider.NativeGaloisCounterMode.decryptFinal(NativeGaloisCounterMode.java:454)\r\n```\r\n\r\nWhat am I missing? Can this code be fixed with minor alterations?\r\n\r\n  [1]: https://www.bouncycastle.org/\r\n  [2]: https://developer.apple.com/documentation/security/seckeyalgorithm/2874223-eciesencryptioncofactorvariablei\r\n  [3]: https://darthnull.org/security/2018/05/31/secure-enclave-ecies/\r\n  [4]: https://www.bouncycastle.org/specifications.html","title":"Apple eciesEncryptionCofactorVariableIVX963SHA256AESGCM vs BouncyCastle ECCDHwithSHA256KDF","body":"<p>I'm trying to encrypt communication between Java (<a href=\"https://www.bouncycastle.org/\" rel=\"nofollow noreferrer\">BouncyCastle</a>) and iOS using the Apple algorithm <a href=\"https://developer.apple.com/documentation/security/seckeyalgorithm/2874223-eciesencryptioncofactorvariablei\" rel=\"nofollow noreferrer\">eciesEncryptionCofactorVariableIVX963SHA256AESGCM</a>.</p>\n<p>The algorithm by Apple is not well documented, but I found <a href=\"https://darthnull.org/security/2018/05/31/secure-enclave-ecies/\" rel=\"nofollow noreferrer\">this article</a> which helps quite a bit.</p>\n<p>I also found the following algorithm in the <a href=\"https://www.bouncycastle.org/specifications.html\" rel=\"nofollow noreferrer\">BouncyCastle documentation</a> that seems to be close to what I'm looking for:</p>\n<ul>\n<li><code>ECCDHwithSHA256KDF</code> which represents EC cofactor DH using the X9.63 KDF with SHA256 as the PRF</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.ios.encryption;\n\nimport org.bouncycastle.jce.ECNamedCurveTable;\nimport org.bouncycastle.jce.ECPointUtil;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.jce.spec.ECNamedCurveSpec;\nimport org.bouncycastle.jce.spec.ECParameterSpec;\nimport org.bouncycastle.util.encoders.Base64;\n\nimport java.math.BigInteger;\nimport java.security.*;\nimport java.security.spec.ECPoint;\nimport java.security.spec.ECPrivateKeySpec;\nimport java.security.spec.ECPublicKeySpec;\nimport java.util.Arrays;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.KeyAgreement;\nimport javax.crypto.SecretKey;\nimport javax.crypto.spec.GCMParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class IOSEncryptionECwithAES {\n\n    public void testDecrypt() {\n\n        // Receiver EC Public Key\n        String pubKeyBase64 = &quot;BBPT50Rn0PeeV0LxUbhDV7U1FUgVw9YLVctQx5HA+TiA3lp3k/cud8Xsjh6lytgaI5S7IUW1YouUiPNR/7LPArk=&quot;;\n        PublicKey pubKey = getPublicKey(Base64.decode(pubKeyBase64));\n        \n        // Receiver EC Private Key\n        String privateKeyBase64 = &quot;BBPT50Rn0PeeV0LxUbhDV7U1FUgVw9YLVctQx5HA+TiA3lp3k/cud8Xsjh6lytgaI5S7IUW1YouUiPNR/7LPArkWcIYOQWtdkbTqmy++lz0cQ8ukWvUyhD9yzqZHPLQgQg==&quot;;\n        PrivateKey privateKey = getPrivateKey(Base64.decode(privateKeyBase64));\n    \n        // Encrypted data\n        String iosOutputBase64 = &quot;BNNzHjSJQxP8jNuj5W9XSW0XNgpOlEHY/S4KzZQJFxwjzoujuwz5kJeOLj6cASBaYKePGLhkbE0qN20y8aHpU+PmeuDJWY7LZ25LjvutafOJGugdRZdURRwFSke7hzhXlSneaTFegT3xOoq9ffjCynwD7iRD&quot;;\n        byte[] iosOutput = Base64.decode(iosOutputBase64);\n\n        // Plaintext is a random UUID\n        String plainText = &quot;514227F0-51E9-41AC-9A39-42752E2ABADF&quot;;\n\n        byte[] decryptedData = decryptEciesEncryptionCofactorVariableIVX963SHA256AESGCM(privateKey, iosOutput);\n        System.out.println(new String(decryptedData));\n    }\n\n    public byte[] decryptEciesEncryptionCofactorVariableIVX963SHA256AESGCM(PrivateKey privateKey, byte[] iosOutput) throws Exception {\n\n        // 1. Take ephemeral public key\n        byte[] ephemeralKeyBytes = Arrays.copyOfRange(iosOutput, 0, 65);\n        PublicKey ephemeralPublicKey = getPublicKey(ephemeralKeyBytes);\n        byte[] encryptedData = Arrays.copyOfRange(iosOutput, 65, iosOutput.length);\n\n        // 2. Key agreement using ECDH with Cofactor and integrated X9.63 \n        byte[] kdfOut = getSharedSecret(ephemeralPublicKey, privateKey);\n\n        byte[] secretKeyBytes = Arrays.copyOfRange(kdfOut, 0, 16);\n        SecretKey secretKey = new SecretKeySpec(secretKeyBytes, &quot;AES&quot;);\n\n        // 4. Decrypt with AES key\n        int tagLength = 128;\n        byte[] iv = Arrays.copyOfRange(kdfOut, 16, kdfOut.length);\n        GCMParameterSpec aesGcmParams = new GCMParameterSpec(tagLength, iv);\n        Cipher c = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n        c.init(Cipher.DECRYPT_MODE, secretKey, aesGcmParams);\n        byte[] decryptedData = c.doFinal(encryptedData);\n\n        return decryptedData;\n    }\n\n    /**\n     * Convert uncompressed public key into PublicKey using BouncyCastle\n     * For an elliptic curve public key, the format follows the ANSI X9.63 standard\n     * using a byte string of 04 || X || Y\n     *\n     * @param encodedBytes raw bytes received\n     * @return the Elliptic-Curve Public Key based on curve SECP256R1\n     */\n    private PublicKey getPublicKey(byte[] encodedBytes) throws Exception {\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;EC&quot;);\n        ECParameterSpec ecParameterSpec = ECNamedCurveTable.getParameterSpec(&quot;secp256r1&quot;);\n        ECNamedCurveSpec params = new ECNamedCurveSpec(&quot;secp256r1&quot;, ecParameterSpec.getCurve(), ecParameterSpec.getG(), ecParameterSpec.getN());\n        ECPoint publicPoint =  ECPointUtil.decodePoint(params.getCurve(), encodedBytes);\n        ECPublicKeySpec pubKeySpec = new ECPublicKeySpec(publicPoint, params);\n        return keyFactory.generatePublic(pubKeySpec);\n    }\n\n  /**\n   * Convert private key for external output from iOS\n   * For an elliptic curve private key, the output is formatted as the public key\n   * concatenated with the big endian encoding of the secret scalar, or 04 || X || Y || K.\n   *\n   * @param encodedBytes raw bytes received\n   * @return the Elliptic-Curve Private Key based on curve SECP256R1\n   */\n  private PrivateKey getPrivateKey(byte[] encodedBytes) throws Exception {\n        BigInteger s = new BigInteger(Arrays.copyOfRange(encodedBytes, 65, encodedBytes.length));\n        ECParameterSpec ecParameterSpec = ECNamedCurveTable.getParameterSpec(&quot;secp256r1&quot;);\n        ECNamedCurveSpec params = new ECNamedCurveSpec(&quot;secp256r1&quot;, ecParameterSpec.getCurve(), ecParameterSpec.getG(), ecParameterSpec.getN());\n        ECPrivateKeySpec privateKeySpec = new ECPrivateKeySpec(s, params);\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;EC&quot;);\n        return keyFactory.generatePrivate(privateKeySpec);\n  }\n\n  /**\n   * Key agreement using ECDH with Cofactor and integrated X9.63 KDF SHA-256\n   * \n   * @param ephemeralPublicKey created by the sender\n   * @param privateKey from the receiver\n   * @return shared secret of 32-bytes containing the 128-bit AES key and 16-byte IV\n   */\n   private byte[] getSharedSecret(PublicKey ephemeralPublicKey, PrivateKey privateKey) throws Exception {\n      String keyAgreementAlgorithm = &quot;ECCDHwithSHA256KDF&quot;;\n      KeyAgreement keyAgreement = KeyAgreement.getInstance(keyAgreementAlgorithm, new BouncyCastleProvider());\n      keyAgreement.init(privateKey);\n      keyAgreement.doPhase(ephemeralPublicKey, true);\n      return keyAgreement.generateSecret();\n  }\n}\n</code></pre>\n<p>Unfortunately this doesn't work and results in an exception.</p>\n<pre><code>javax.crypto.AEADBadTagException: Tag mismatch!\n\n    at java.base/com.sun.crypto.provider.NativeGaloisCounterMode.decryptFinal(NativeGaloisCounterMode.java:454)\n</code></pre>\n<p>What am I missing? Can this code be fixed with minor alterations?</p>\n"},{"tags":["java","unit-testing","testing","testng"],"comments":[{"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"score":0,"creation_date":1560941062,"post_id":56665806,"comment_id":99899541,"body_markdown":"Where is the image?","body":"Where is the image?"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1560941363,"post_id":56665806,"comment_id":99899688,"body_markdown":"In general, you don&#39;t get the absolute path. When you deploy that project, these resources will not be files. They will be objects inside your jar. Resources like that should only be accessed through the class loader.","body":"In general, you don&#39;t get the absolute path. When you deploy that project, these resources will not be files. They will be objects inside your jar. Resources like that should only be accessed through the class loader."}],"answers":[{"tags":[],"owner":{"account_id":15575235,"reputation":81,"user_id":11236516,"display_name":"Miguel Arroja"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1560943206,"creation_date":1560943206,"answer_id":56666486,"question_id":56665806,"body_markdown":"I usually use a cheat to get there!\r\n\r\n    Paths.get(SomeClass.class.getClassLoader().getResource(&quot;&quot;).toURI());\r\n\r\nWhen the java code is built all resources go to their target output, for example you would have something like target/io/geocloud/management/client/* .\r\n\r\nFor you specific problem i would change a bit the code and do something like\r\n\r\n    Paths.get(SomeClass.class.getClassLoader().getResource(&quot;io/geocloud/management/client/ca/cacerts.pem&quot;).toURI()).toAbsolutePath().toString();\r\n\r\n","title":"How to access the resource files that are kept under resources folder","body":"<p>I usually use a cheat to get there!</p>\n\n<pre><code>Paths.get(SomeClass.class.getClassLoader().getResource(\"\").toURI());\n</code></pre>\n\n<p>When the java code is built all resources go to their target output, for example you would have something like target/io/geocloud/management/client/* .</p>\n\n<p>For you specific problem i would change a bit the code and do something like</p>\n\n<pre><code>Paths.get(SomeClass.class.getClassLoader().getResource(\"io/geocloud/management/client/ca/cacerts.pem\").toURI()).toAbsolutePath().toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13936451,"reputation":71,"user_id":10063334,"display_name":"NXT Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647010177,"creation_date":1647010177,"answer_id":71440308,"question_id":56665806,"body_markdown":"Using Spring:\r\n\r\n    Resource resource = new ClassPathResource(&quot;file/location/cert.pem&quot;);\r\n    File file = resource.getFile();","title":"How to access the resource files that are kept under resources folder","body":"<p>Using Spring:</p>\n<pre><code>Resource resource = new ClassPathResource(&quot;file/location/cert.pem&quot;);\nFile file = resource.getFile();\n</code></pre>\n"}],"owner":{"account_id":9686565,"reputation":75,"user_id":7186168,"display_name":"VManoj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56666486,"answer_count":2,"score":0,"last_activity_date":1647010177,"creation_date":1560941003,"question_id":56665806,"body_markdown":"How to get the absolute path of the files(cacerts.pem,client.pem,client-key.pem) that are kept under the folders as below in the image\r\n\r\nThis is in the eclipse and gradle environment[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KhapK.png","title":"How to access the resource files that are kept under resources folder","body":"<p>How to get the absolute path of the files(cacerts.pem,client.pem,client-key.pem) that are kept under the folders as below in the image</p>\n\n<p>This is in the eclipse and gradle environment<a href=\"https://i.stack.imgur.com/KhapK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KhapK.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","inheritance","serialization"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1647010306,"post_id":71440112,"comment_id":126272193,"body_markdown":"Please update with the entire error.  Meanwhile, does the subclass include other classes, and are those classes marked as Serializable?","body":"Please update with the entire error.  Meanwhile, does the subclass include other classes, and are those classes marked as Serializable?"},{"owner":{"account_id":5685747,"reputation":416,"user_id":6894838,"display_name":"Chris Parker"},"score":0,"creation_date":1647011198,"post_id":71440112,"comment_id":126272536,"body_markdown":"Agree with Andrew S - you need to look at every field in your object to make sure they are all serializable as well.  Most likely you are holding a reference to a non-serializable object in your object.","body":"Agree with Andrew S - you need to look at every field in your object to make sure they are all serializable as well.  Most likely you are holding a reference to a non-serializable object in your object."},{"owner":{"display_name":"user14257481"},"score":0,"creation_date":1647012062,"post_id":71440112,"comment_id":126272900,"body_markdown":"Thank you both, I had inner classes that did not implement serializable. Much appreciated.","body":"Thank you both, I had inner classes that did not implement serializable. Much appreciated."}],"owner":{"display_name":"user14257481"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647009306,"creation_date":1647009306,"question_id":71440112,"body_markdown":"I have a superclass that is serializable and I am trying to serialize an object of the subclass however a Not Serializable Exception is thrown. I am serializing the object in a method in the subclass and it is failing at `out.writeObject(this)`. Initially I accidentally only had the subclass implementing serializable and the serialization was working fine (though I needed some variables of the superclass which weren&#39;t serialized). From another StackOverflow question I saw that static fields may cause an issue so I changed the one static method to non-static but that did not help. Thank you.","title":"When trying to serialize an object whose superclass is serializable, a Not Serializable Exception is thrown. What causes this?","body":"<p>I have a superclass that is serializable and I am trying to serialize an object of the subclass however a Not Serializable Exception is thrown. I am serializing the object in a method in the subclass and it is failing at <code>out.writeObject(this)</code>. Initially I accidentally only had the subclass implementing serializable and the serialization was working fine (though I needed some variables of the superclass which weren't serialized). From another StackOverflow question I saw that static fields may cause an issue so I changed the one static method to non-static but that did not help. Thank you.</p>\n"},{"tags":["java","spring","spring-boot","vue.js","quarkus"],"comments":[{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":0,"creation_date":1647010124,"post_id":71440064,"comment_id":126272114,"body_markdown":"What does the stacktrace show? I&#39;m guessing that the body is null and when you do `inputTemplate.toString()`, a `NullPointerException` is thrown","body":"What does the stacktrace show? I&#39;m guessing that the body is null and when you do <code>inputTemplate.toString()</code>, a <code>NullPointerException</code> is thrown"},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1647011515,"post_id":71440064,"comment_id":126272656,"body_markdown":"@MatheusCirillo Actually its not showing anything maybe because it&#39;s not detecting that method at all as the `inputparameter` is not of String type. But my browser console shows the message `xhr.js:187          POST http://localhost:9001/generate 500 (Internal Server Error)`","body":"@MatheusCirillo Actually its not showing anything maybe because it&#39;s not detecting that method at all as the <code>inputparameter</code> is not of String type. But my browser console shows the message <code>xhr.js:187          POST http:&#47;&#47;localhost:9001&#47;generate 500 (Internal Server Error)</code>"},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1648249256,"post_id":71440064,"comment_id":126585127,"body_markdown":"can you put a reproducer to github ?","body":"can you put a reproducer to github ?"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1647009068,"creation_date":1647009068,"question_id":71440064,"body_markdown":"I am developing an application using Vuejs which calls the Java service. This service is will take a parameter. If I pass the parameter as `String` then it would accept and continue with execution. However, this input corresponds to my `Java Object Model` type hence if I change the type to my `Java Object` type then I get the error:\r\n\r\n`Unable to obtain data, Error: Error: Request failed with status code 500`\r\n\r\nI would like to change the InputParameter type to my custom Java type can someone please tell me what I need to do for this?\r\n\r\nFollowing is the working code with `String type`:\r\n```\r\n@POST\r\n@Path(&quot;/generate&quot;)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@APIResponses(value = {\r\n        @APIResponse(responseCode = &quot;200&quot;, description = &quot;returns list of JSON Objects&quot;),\r\n        @APIResponse(responseCode = &quot;500&quot;, description = &quot;An internal Server Error occurred&quot;)\r\n})\r\npublic String generate(final String inputParameter){\r\n    System.out.println(inputTemplate);\r\n    return null;\r\n}\r\n```\r\n\r\nThe above code works fine and I am able to get the `inputParameter` printed, But I know that my `inputParameter` will always be my Custom java object type `InputParameter` so if I change the type then the execution won&#39;t detect the method and nothing is being printed and I get the error `POST http://localhost:9001/generateTestData 500 (Internal Server Error)`:\r\n```\r\n@POST\r\n@Path(&quot;/generate&quot;)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@APIResponses(value = {\r\n        @APIResponse(responseCode = &quot;200&quot;, description = &quot;returns list of JSON Objects&quot;),\r\n        @APIResponse(responseCode = &quot;500&quot;, description = &quot;An internal Server Error occurred&quot;)\r\n})\r\npublic String generate(final InputParameter inputParameter){\r\n    System.out.println(inputTemplate.toString());\r\n    return null;\r\n}\r\n```\r\n\r\nFollowing is the call I am making in my `vuejs` application:\r\n```\r\nconst headers = { &#39;Content-Type&#39;: &#39;application/json&#39; }\r\n\r\nthis.$axios.post(&#39;/generate&#39;, { ...JSON.parse(inputParameter) }, { headers })\r\n.then((response) =&gt; {\r\n    console.log(JSON.stringify(response.data))\r\n})\r\n.catch((error) =&gt; {\r\n    console.log(error)\r\n})\r\n```","title":"Quarkus service passing parameter other than String type results in error","body":"<p>I am developing an application using Vuejs which calls the Java service. This service is will take a parameter. If I pass the parameter as <code>String</code> then it would accept and continue with execution. However, this input corresponds to my <code>Java Object Model</code> type hence if I change the type to my <code>Java Object</code> type then I get the error:</p>\n<p><code>Unable to obtain data, Error: Error: Request failed with status code 500</code></p>\n<p>I would like to change the InputParameter type to my custom Java type can someone please tell me what I need to do for this?</p>\n<p>Following is the working code with <code>String type</code>:</p>\n<pre><code>@POST\n@Path(&quot;/generate&quot;)\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\n@APIResponses(value = {\n        @APIResponse(responseCode = &quot;200&quot;, description = &quot;returns list of JSON Objects&quot;),\n        @APIResponse(responseCode = &quot;500&quot;, description = &quot;An internal Server Error occurred&quot;)\n})\npublic String generate(final String inputParameter){\n    System.out.println(inputTemplate);\n    return null;\n}\n</code></pre>\n<p>The above code works fine and I am able to get the <code>inputParameter</code> printed, But I know that my <code>inputParameter</code> will always be my Custom java object type <code>InputParameter</code> so if I change the type then the execution won't detect the method and nothing is being printed and I get the error <code>POST http://localhost:9001/generateTestData 500 (Internal Server Error)</code>:</p>\n<pre><code>@POST\n@Path(&quot;/generate&quot;)\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\n@APIResponses(value = {\n        @APIResponse(responseCode = &quot;200&quot;, description = &quot;returns list of JSON Objects&quot;),\n        @APIResponse(responseCode = &quot;500&quot;, description = &quot;An internal Server Error occurred&quot;)\n})\npublic String generate(final InputParameter inputParameter){\n    System.out.println(inputTemplate.toString());\n    return null;\n}\n</code></pre>\n<p>Following is the call I am making in my <code>vuejs</code> application:</p>\n<pre><code>const headers = { 'Content-Type': 'application/json' }\n\nthis.$axios.post('/generate', { ...JSON.parse(inputParameter) }, { headers })\n.then((response) =&gt; {\n    console.log(JSON.stringify(response.data))\n})\n.catch((error) =&gt; {\n    console.log(error)\n})\n</code></pre>\n"},{"tags":["java","cucumber","cucumber-java","cucumber-junit"],"answers":[{"tags":[],"owner":{"account_id":5459096,"reputation":4018,"user_id":4341733,"display_name":"diabolist"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1646995290,"creation_date":1506591377,"answer_id":46465787,"question_id":46463219,"body_markdown":"You don&#39;t need to call the first feature from the second feature. What you need to do is have a step in the second feature that can log you in. It can do this by calling code you&#39;ve created when implementing your first feature.\r\n\r\nThe first feature is something you might write when you are implementing login for the first time. In doing this you will steps and code that these steps call  to log you in.\r\n\r\nThe sort of code you should be creating is (sorry all examples are ruby i don&#39;t do java)\r\n\r\n1. A test user entity that knows its name, email and password\r\n2. A method that can user the test user to login\r\n\r\nThen you can write a helper method e.g.\r\n\r\n```\r\ndef login_as(user)\r\n  visit login_path\r\n  fill_in :email, with: user.email\r\n  fill_in :password, with: user.password\r\n  submit_form\r\nend\r\n```\r\n\r\nand now in your second feature you can have something like\r\n\r\n    Given I am an admin\r\n    When I login\r\n\r\nand implement these steps as\r\n\r\n\r\n    Given &#39;I am an admin&#39; do\r\n      # note create_user is a method you would have created when doing user \r\n      # registration/creation\r\n      @i = create_user(type: admin)\r\n    end\r\n    \r\n    When &quot;I login&quot; do\r\n      login_as @i\r\n    end\r\n\r\n\r\nand somewhere you will have some helper methods\r\n\r\n    module StepHelperMethods\r\n      def create_user\r\n        ...\r\n        return user\r\n      end\r\n    \r\n      def login_as(user)\r\n        ...\r\n      end\r\n    end\r\n    World StepHelperMethods\r\n\r\n\r\n\r\nYour code reuse always happens at a much lower level. Ideally you should be re-using helper methods that you have created previously to make other scenarios work. You can also call steps directly (nested steps) but this is a very bad thing to do.","title":"Calling one feature file from another feature in cucumber","body":"<p>You don't need to call the first feature from the second feature. What you need to do is have a step in the second feature that can log you in. It can do this by calling code you've created when implementing your first feature.</p>\n<p>The first feature is something you might write when you are implementing login for the first time. In doing this you will steps and code that these steps call  to log you in.</p>\n<p>The sort of code you should be creating is (sorry all examples are ruby i don't do java)</p>\n<ol>\n<li>A test user entity that knows its name, email and password</li>\n<li>A method that can user the test user to login</li>\n</ol>\n<p>Then you can write a helper method e.g.</p>\n<pre><code>def login_as(user)\n  visit login_path\n  fill_in :email, with: user.email\n  fill_in :password, with: user.password\n  submit_form\nend\n</code></pre>\n<p>and now in your second feature you can have something like</p>\n<pre><code>Given I am an admin\nWhen I login\n</code></pre>\n<p>and implement these steps as</p>\n<pre><code>Given 'I am an admin' do\n  # note create_user is a method you would have created when doing user \n  # registration/creation\n  @i = create_user(type: admin)\nend\n\nWhen &quot;I login&quot; do\n  login_as @i\nend\n</code></pre>\n<p>and somewhere you will have some helper methods</p>\n<pre><code>module StepHelperMethods\n  def create_user\n    ...\n    return user\n  end\n\n  def login_as(user)\n    ...\n  end\nend\nWorld StepHelperMethods\n</code></pre>\n<p>Your code reuse always happens at a much lower level. Ideally you should be re-using helper methods that you have created previously to make other scenarios work. You can also call steps directly (nested steps) but this is a very bad thing to do.</p>\n"},{"tags":[],"owner":{"account_id":5085159,"reputation":11,"user_id":4080145,"display_name":"Ricardo Lopes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507982178,"creation_date":1507974896,"answer_id":46743201,"question_id":46463219,"body_markdown":"Try this:\r\n\r\nCreate a `RunnerLogin` class to call the `Login.feature`.\r\n\r\nIn your steps class, in the method that implements the \r\n`Given Login is successfully done`, do something like:\r\n\r\n    @Given(&quot;^Login is successfully done$&quot;)\r\n    public void login_is_successfully_done() {\r\n    \tThread T1 = new Thread(new Thread(() -&gt; {\r\n        \tJUnitCore jExecFeature = new JUnitCore();\r\n        \tResult result = jExecFeature.run(RunnerLogin.class);\r\n     \t}));                \r\n    \r\n    \tT1.start();                \r\n        T1.join(); \r\n    }\r\n","title":"Calling one feature file from another feature in cucumber","body":"<p>Try this:</p>\n\n<p>Create a <code>RunnerLogin</code> class to call the <code>Login.feature</code>.</p>\n\n<p>In your steps class, in the method that implements the \n<code>Given Login is successfully done</code>, do something like:</p>\n\n<pre><code>@Given(\"^Login is successfully done$\")\npublic void login_is_successfully_done() {\n    Thread T1 = new Thread(new Thread(() -&gt; {\n        JUnitCore jExecFeature = new JUnitCore();\n        Result result = jExecFeature.run(RunnerLogin.class);\n    }));                \n\n    T1.start();                \n    T1.join(); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15622261,"reputation":1672,"user_id":11270766,"display_name":"Gaj Julije"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646995435,"creation_date":1601048438,"answer_id":64067295,"question_id":46463219,"body_markdown":"Behind every feature there is a method implemented in your step definitions, so you will not need to write your features in that manner, you will just need to call the method that you have already implemented.\r\n\r\nThe best solution for frequently used functionalities of your application like Login for e.g is to have Helper methods.\r\nYou can implement these methods as global and use them in your every step definition file.\r\n\r\npublic void LoginUserGlobal(String user, String pass) throws Throwable {\r\n\t\tLoginPageObjects LP = new LoginPageObjects(driver);\r\n\r\n\t\tLP.user().sendKeys(user);\r\n\t\tLP.pass().sendKeys(pass);\r\n\t\tLP.loginButton().click();\r\n\t}\r\n\r\nAnd if you need to use it in any of your features you will code it like:\r\n\r\n    @When(&quot;^User logs in with \\&quot;([^\\&quot;]*)\\&quot; and \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\r\n    public void user_logs_in_with_something_and_something(String user, String pass) throws Throwable {\r\n      GlobalClassWhereIsYourLoginMethod Lin = new GlobalClassWhereIsYourLoginMethod (driver)\r\n      LoginUserGlobal(user,pass);\r\n    }\r\n\r\nor if it is not so used part of app, you will call it from a step definition method where is already implemented. ","title":"Calling one feature file from another feature in cucumber","body":"<p>Behind every feature there is a method implemented in your step definitions, so you will not need to write your features in that manner, you will just need to call the method that you have already implemented.</p>\n<p>The best solution for frequently used functionalities of your application like Login for e.g is to have Helper methods.\nYou can implement these methods as global and use them in your every step definition file.</p>\n<p>public void LoginUserGlobal(String user, String pass) throws Throwable {\nLoginPageObjects LP = new LoginPageObjects(driver);</p>\n<pre><code>    LP.user().sendKeys(user);\n    LP.pass().sendKeys(pass);\n    LP.loginButton().click();\n}\n</code></pre>\n<p>And if you need to use it in any of your features you will code it like:</p>\n<pre><code>@When(&quot;^User logs in with \\&quot;([^\\&quot;]*)\\&quot; and \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\npublic void user_logs_in_with_something_and_something(String user, String pass) throws Throwable {\n  GlobalClassWhereIsYourLoginMethod Lin = new GlobalClassWhereIsYourLoginMethod (driver)\n  LoginUserGlobal(user,pass);\n}\n</code></pre>\n<p>or if it is not so used part of app, you will call it from a step definition method where is already implemented.</p>\n"}],"owner":{"account_id":9351686,"reputation":91,"user_id":6941159,"display_name":"Megha Dalvi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14278,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1647008774,"creation_date":1506583283,"question_id":46463219,"body_markdown":"Consider I have below feature files:\r\n\r\nLogin.feature\r\n\r\nFeature: Login on website \r\n\r\nScenario: Login verification on site \r\n- Given Navigate to site login page\r\n- When User enters username &#39;admin1&#39;\r\n- And User enters password &#39;admin1&#39;\r\n- And User clicks on login button\r\n- Then User should not be able to log in successfully\r\n\r\nHome.feature\r\n\r\nFeature: Welcome Page Verification\r\n\r\nScenario: Verify the page that comes after login\r\n- Given Login is successfully done\r\n- When  The page after login successfully appears\r\n- Then  The test is done\r\n\t\r\nIn Home.feature file, I need to execute Login.feature first and then call home.feature. So when i execute home from my runner test it will in turn execute login and then home.\r\n\r\nRunnerTest.java\r\n\r\n    import org.junit.runner.RunWith;\r\n    \r\n    import cucumber.api.CucumberOptions;\r\n    import cucumber.api.junit.Cucumber;\r\n    \r\n    @RunWith(Cucumber.class)\r\n    \r\n    \r\n    @CucumberOptions(strict = false, features = {\r\n    \t\t&quot;src/test/resources/Features/Home.feature&quot;,\r\n    \t\t\t}, glue = { &quot;tests&quot; }, plugin = &quot;html:target/cucumber-reports&quot;, format = { &quot;pretty&quot;,\r\n    \t\t&quot;json:target/cucumber.json&quot; }, tags = { &quot;~@ignore&quot; })\r\n    \r\n    public class RunnerTest {}\r\n\r\n","title":"Calling one feature file from another feature in cucumber","body":"<p>Consider I have below feature files:</p>\n<p>Login.feature</p>\n<p>Feature: Login on website</p>\n<p>Scenario: Login verification on site</p>\n<ul>\n<li>Given Navigate to site login page</li>\n<li>When User enters username 'admin1'</li>\n<li>And User enters password 'admin1'</li>\n<li>And User clicks on login button</li>\n<li>Then User should not be able to log in successfully</li>\n</ul>\n<p>Home.feature</p>\n<p>Feature: Welcome Page Verification</p>\n<p>Scenario: Verify the page that comes after login</p>\n<ul>\n<li>Given Login is successfully done</li>\n<li>When  The page after login successfully appears</li>\n<li>Then  The test is done</li>\n</ul>\n<p>In Home.feature file, I need to execute Login.feature first and then call home.feature. So when i execute home from my runner test it will in turn execute login and then home.</p>\n<p>RunnerTest.java</p>\n<pre><code>import org.junit.runner.RunWith;\n\nimport cucumber.api.CucumberOptions;\nimport cucumber.api.junit.Cucumber;\n\n@RunWith(Cucumber.class)\n\n\n@CucumberOptions(strict = false, features = {\n        &quot;src/test/resources/Features/Home.feature&quot;,\n            }, glue = { &quot;tests&quot; }, plugin = &quot;html:target/cucumber-reports&quot;, format = { &quot;pretty&quot;,\n        &quot;json:target/cucumber.json&quot; }, tags = { &quot;~@ignore&quot; })\n\npublic class RunnerTest {}\n</code></pre>\n"},{"tags":["java","mxgraph"],"answers":[{"tags":[],"owner":{"account_id":8031796,"reputation":246,"user_id":6056470,"display_name":"Marco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576061301,"creation_date":1575896362,"answer_id":59249444,"question_id":59134676,"body_markdown":"I don&#39;t know if this is of any help, because I use the javascript version of the library... But I have complex drag and drop rules, so I overridden the mxDragSource.prototype.drop and mxGraphHandler.prototype.mouseUp functions... From there I am able to detect the drop target and implement my own custom rules to allow drag and drop for specific cells. Consider that I have different types of cells, some of them are fixed, some of them can move but only between specific swimlanes or within the same swimlane...","title":"Is there a possibility in Java mxGraph to limit cells movement but not disable it?","body":"<p>I don't know if this is of any help, because I use the javascript version of the library... But I have complex drag and drop rules, so I overridden the mxDragSource.prototype.drop and mxGraphHandler.prototype.mouseUp functions... From there I am able to detect the drop target and implement my own custom rules to allow drag and drop for specific cells. Consider that I have different types of cells, some of them are fixed, some of them can move but only between specific swimlanes or within the same swimlane...</p>\n"},{"tags":[],"owner":{"account_id":16920849,"reputation":63,"user_id":12237714,"display_name":"Jacob Grydholt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647008547,"creation_date":1647008547,"answer_id":71439947,"question_id":59134676,"body_markdown":"I&#39;m not sure that my use case is the same as yours, but I had issues with cells switching parents on move. So I&#39;ve overridden the moveCells method in my extension of mxGraph:\r\n\r\n``` java\r\n    @Override\r\n    public Object[] moveCells(Object[] cells, double dx, double dy, boolean clone, Object target, Point location) {\r\n        // We will not allow cells to change parent, so we move them individually while preserving their parent (by changing the target)\r\n        Object[] movedCells =\r\n                Arrays.stream(cells)\r\n                        .map(cell -&gt; super.moveCells(new Object[] { cell }, dx, dy, clone, ((mxCell) cell).getParent(), location))\r\n                        .flatMap(Arrays::stream).toArray();\r\n        return movedCells;\r\n    }\r\n```\r\n\r\nThis allows some movement, while preserving the cells&#39; parents. I had issues moving across the boundary of the parent (your level2 vertices I presume). Therefore, the exact geometry of the parent matters.","title":"Is there a possibility in Java mxGraph to limit cells movement but not disable it?","body":"<p>I'm not sure that my use case is the same as yours, but I had issues with cells switching parents on move. So I've overridden the moveCells method in my extension of mxGraph:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public Object[] moveCells(Object[] cells, double dx, double dy, boolean clone, Object target, Point location) {\n        // We will not allow cells to change parent, so we move them individually while preserving their parent (by changing the target)\n        Object[] movedCells =\n                Arrays.stream(cells)\n                        .map(cell -&gt; super.moveCells(new Object[] { cell }, dx, dy, clone, ((mxCell) cell).getParent(), location))\n                        .flatMap(Arrays::stream).toArray();\n        return movedCells;\n    }\n</code></pre>\n<p>This allows some movement, while preserving the cells' parents. I had issues moving across the boundary of the parent (your level2 vertices I presume). Therefore, the exact geometry of the parent matters.</p>\n"}],"owner":{"account_id":11094190,"reputation":1,"user_id":8144965,"display_name":"Grubchri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647008547,"creation_date":1575273420,"question_id":59134676,"body_markdown":"I am using Java mxGraph and i have deeper nested vertices (on purpose) on 3 levels and now i am trying to keep the innermost vertices(level 3) within their parents(level 2) *without* executing `graph.setCellsMovable(false);`. I have tried to use the parents &quot;bounding box&quot;: `graph.setMaximumGraphBounds(graph.getBoundingBox(parent));` but that didn&#39;t do what i hoped it would(it didn&#39;t do anything visible to me, neither limit the level-3-vertex&#39;s movement nor limiting its max size).\r\n\r\nSo now my question: is there any method that limits the vertex&#39;s movement and not disable it? or is  `graph.setCellsMovable(false);` the only option?\r\n\r\n\r\n","title":"Is there a possibility in Java mxGraph to limit cells movement but not disable it?","body":"<p>I am using Java mxGraph and i have deeper nested vertices (on purpose) on 3 levels and now i am trying to keep the innermost vertices(level 3) within their parents(level 2) <em>without</em> executing <code>graph.setCellsMovable(false);</code>. I have tried to use the parents \"bounding box\": <code>graph.setMaximumGraphBounds(graph.getBoundingBox(parent));</code> but that didn't do what i hoped it would(it didn't do anything visible to me, neither limit the level-3-vertex's movement nor limiting its max size).</p>\n\n<p>So now my question: is there any method that limits the vertex's movement and not disable it? or is  <code>graph.setCellsMovable(false);</code> the only option?</p>\n"},{"tags":["java","geoserver","tomcat9","jai"],"answers":[{"tags":[],"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647008152,"creation_date":1647008152,"answer_id":71439858,"question_id":71437752,"body_markdown":"I&#39;m not sure why that [section][1] still appears in the manual - it is no longer needed or recommended, but is clearly marked as **outdated**. \r\n\r\n\r\n  [1]: https://docs.geoserver.org/latest/en/user/production/java.html#outdated-install-native-jai-and-imageio-extensions","title":"How can I install Native JAI on Geoserver 2.20.x. &amp; Geoserver 2.19.x","body":"<p>I'm not sure why that <a href=\"https://docs.geoserver.org/latest/en/user/production/java.html#outdated-install-native-jai-and-imageio-extensions\" rel=\"nofollow noreferrer\">section</a> still appears in the manual - it is no longer needed or recommended, but is clearly marked as <strong>outdated</strong>.</p>\n"}],"owner":{"account_id":24525683,"reputation":11,"user_id":18438157,"display_name":"Sindri M&#225;r Ingason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647008152,"creation_date":1646997733,"question_id":71437752,"body_markdown":"I&#39;m currently setting up two Geoservers running on two separate Linux machines. One of the Geoservers is running version 2.20.2. and the other one is version 2.19.5.\r\n\r\nI&#39;m trying to install Native Jai and Native JAI ImageIO in order to increase the image handling performance.\r\n\r\nBoth machines are running Ubuntu 20.04.4 LTS.\r\n\r\n&gt; java -version &lt;br&gt;\r\n&gt; openjdk version &quot;11.0.14&quot; 2022-01-18 &lt;br&gt;\r\n&gt; OpenJDK Runtime Environment (build 11.0.14+9-Ubuntu-0ubuntu2.20.04) &lt;br&gt;\r\n&gt; OpenJDK 64-Bit Server VM (build 11.0.14+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)\r\n\r\nSo far I&#39;ve followed these instructions: https://download.java.net/media/jai/builds/release/1_1_3/INSTALL.html\r\n\r\nSpecifically this part: [The instructions I followed][1]\r\n\r\n\r\nIt&#39;s still not working.\r\n\r\n&gt; echo $JAIHOME &lt;br&gt;\r\n&gt; /var/lib/JAI/jai-1_1_3/lib &lt;br&gt;\r\n&gt; echo $CLASSPATH &lt;br&gt;\r\n&gt; /var/lib/JAI/jai-1_1_3/lib/jai_core.jar:/var/lib/JAI/jai-1_1_3/lib/jai_codec.jar:/var/lib/JAI/jai-1_1_3/lib/mlibwrapper_jai.jar &lt;br&gt;\r\n&gt; echo $LD_LIBRARY_PATH &lt;br&gt;\r\n&gt; .:/var/lib/JAI/jai-1_1_3/lib:/var/lib/JAI/jai-1_1_3/lib/jai_core.jar:/var/lib/JAI/jai-1_1_3/lib/jai_codec.jar:/var/lib/JAI/jai-1_1_3/lib/mlibwrapper_jai.jar\r\n\r\nThis is the Geoserver status page in case there is any relevant information: [Geoserver status][2]\r\n\r\nAny help would be greatly appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CSABz.png\r\n  [2]: https://i.stack.imgur.com/gfrTB.png","title":"How can I install Native JAI on Geoserver 2.20.x. &amp; Geoserver 2.19.x","body":"<p>I'm currently setting up two Geoservers running on two separate Linux machines. One of the Geoservers is running version 2.20.2. and the other one is version 2.19.5.</p>\n<p>I'm trying to install Native Jai and Native JAI ImageIO in order to increase the image handling performance.</p>\n<p>Both machines are running Ubuntu 20.04.4 LTS.</p>\n<blockquote>\n<p>java -version <br>\nopenjdk version &quot;11.0.14&quot; 2022-01-18 <br>\nOpenJDK Runtime Environment (build 11.0.14+9-Ubuntu-0ubuntu2.20.04) <br>\nOpenJDK 64-Bit Server VM (build 11.0.14+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)</p>\n</blockquote>\n<p>So far I've followed these instructions: <a href=\"https://download.java.net/media/jai/builds/release/1_1_3/INSTALL.html\" rel=\"nofollow noreferrer\">https://download.java.net/media/jai/builds/release/1_1_3/INSTALL.html</a></p>\n<p>Specifically this part: <a href=\"https://i.stack.imgur.com/CSABz.png\" rel=\"nofollow noreferrer\">The instructions I followed</a></p>\n<p>It's still not working.</p>\n<blockquote>\n<p>echo $JAIHOME <br>\n/var/lib/JAI/jai-1_1_3/lib <br>\necho $CLASSPATH <br>\n/var/lib/JAI/jai-1_1_3/lib/jai_core.jar:/var/lib/JAI/jai-1_1_3/lib/jai_codec.jar:/var/lib/JAI/jai-1_1_3/lib/mlibwrapper_jai.jar <br>\necho $LD_LIBRARY_PATH <br>\n.:/var/lib/JAI/jai-1_1_3/lib:/var/lib/JAI/jai-1_1_3/lib/jai_core.jar:/var/lib/JAI/jai-1_1_3/lib/jai_codec.jar:/var/lib/JAI/jai-1_1_3/lib/mlibwrapper_jai.jar</p>\n</blockquote>\n<p>This is the Geoserver status page in case there is any relevant information: <a href=\"https://i.stack.imgur.com/gfrTB.png\" rel=\"nofollow noreferrer\">Geoserver status</a></p>\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","unit-testing","junit","mockito","powermock"],"comments":[{"owner":{"account_id":694347,"reputation":1752,"user_id":571879,"accept_rate":82,"display_name":"Francesco"},"score":0,"creation_date":1646998005,"post_id":71437519,"comment_id":126267699,"body_markdown":"What&#39;s `dummy`?","body":"What&#39;s <code>dummy</code>?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1646998805,"post_id":71437519,"comment_id":126267992,"body_markdown":"@Francesco SOrry, it is `mocked`, I corrected it.","body":"@Francesco SOrry, it is <code>mocked</code>, I corrected it."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1647002714,"post_id":71437519,"comment_id":126269338,"body_markdown":"It gives &quot;*incompatible parameter types in lambda expression: wrong number of parameters: expected 1 but found 0*&quot; for the first paranthesis. Any idea?","body":"It gives &quot;<i>incompatible parameter types in lambda expression: wrong number of parameters: expected 1 but found 0</i>&quot; for the first paranthesis. Any idea?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1647002755,"post_id":71437519,"comment_id":126269354,"body_markdown":"@Francesco Amigo? Where did you go?","body":"@Francesco Amigo? Where did you go?"},{"owner":{"account_id":694347,"reputation":1752,"user_id":571879,"accept_rate":82,"display_name":"Francesco"},"score":0,"creation_date":1647003537,"post_id":71437519,"comment_id":126269607,"body_markdown":"Which version of Mockito you&#39;re using? I am on 3.7.7. Well it sounds correct to me that static method is hit twice, I think you say static method is hit once while debbugging because of first `employeeService.create`. Static method is hit one time, as you see, mock is hit two times because of code in the `try .. catch` statement and verify relies on mock.","body":"Which version of Mockito you&#39;re using? I am on 3.7.7. Well it sounds correct to me that static method is hit twice, I think you say static method is hit once while debbugging because of first <code>employeeService.create</code>. Static method is hit one time, as you see, mock is hit two times because of code in the <code>try .. catch</code> statement and verify relies on mock."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1647004580,"post_id":71437519,"comment_id":126269966,"body_markdown":"The usage of verify is ok for me and it depends on version, your usage (replacing parameters) also ok. The problem is related to the other parts. So, how should I update my code in this case?","body":"The usage of verify is ok for me and it depends on version, your usage (replacing parameters) also ok. The problem is related to the other parts. So, how should I update my code in this case?"}],"answers":[{"tags":[],"owner":{"account_id":694347,"reputation":1752,"user_id":571879,"accept_rate":82,"display_name":"Francesco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647007909,"creation_date":1647006071,"answer_id":71439442,"question_id":71437519,"body_markdown":"I think your code is ok, maybe your are confusing mock with static method. Static method is hit once because of `employeeService.create(request);` on top of your test. What is verified twice in you code is not the static method but the mock, the two calls occur in the `try.. catch` block. Doublechecking the stacktrace while debugging should confirm.\r\n\r\nBy debbugging this code:\r\n\r\n    @Test\r\n    public void test() {\r\n        // code omitted\r\n\r\n        try (MockedStatic&lt;LoggingUtils&gt; mocked = Mockito.mockStatic(LoggingUtils.class)) {\r\n            mocked.when(() -&gt; LoggingUtils.error(any()))\r\n                    .thenAnswer((Answer&lt;Void&gt;) invocation -&gt; null);\r\n            employeeService.create(new Object());\r\n            mocked.verify(times(1), () -&gt; LoggingUtils.error(any()));\r\n        }\r\n    }\r\n\r\nyou should see no stop on the static method and test should end fine because mock is called only once in the `try.. catch`.","title":"Cannot verify static method in Unit Test using MockedStatic or PowerMockito","body":"<p>I think your code is ok, maybe your are confusing mock with static method. Static method is hit once because of <code>employeeService.create(request);</code> on top of your test. What is verified twice in you code is not the static method but the mock, the two calls occur in the <code>try.. catch</code> block. Doublechecking the stacktrace while debugging should confirm.</p>\n<p>By debbugging this code:</p>\n<pre><code>@Test\npublic void test() {\n    // code omitted\n\n    try (MockedStatic&lt;LoggingUtils&gt; mocked = Mockito.mockStatic(LoggingUtils.class)) {\n        mocked.when(() -&gt; LoggingUtils.error(any()))\n                .thenAnswer((Answer&lt;Void&gt;) invocation -&gt; null);\n        employeeService.create(new Object());\n        mocked.verify(times(1), () -&gt; LoggingUtils.error(any()));\n    }\n}\n</code></pre>\n<p>you should see no stop on the static method and test should end fine because mock is called only once in the <code>try.. catch</code>.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647007909,"creation_date":1646996570,"question_id":71437519,"body_markdown":"I am really fed up with by trying tens of different approaches to test a static method properly using `MockedStatic` or `PowerMockito` for several days. \r\n\r\nI have the following service methods and test method as a unit test for this service method. I cannot verify the static method call when I just call the service method from test method. on the other hand, if I call the service method or the static method in the try block of the test method, it seems to work, but actually it does not. because it just verify the static method call in the try block. if I call the same static method twice, it verify 2 times call. But in reality, it just ht one time to the static method in the service. \r\n\r\nSo, how can I verify the static method call using `MockedStatic` or `PowerMockito`? Any help would be appreciated.\r\n\r\n***service:***\r\n\r\n```\r\n// servis method\r\npublic CommandDTO create(final EmployeeRequest request) {\r\n    // code omitted\r\n\r\n    calculate(); // --&gt; I call this method\r\n\r\n    return CommandDTO.builder().uuid(empoyee.getUuid()).build();\r\n}\r\n\r\n\r\n// private method that calls static method\r\nprivate void calculate() {\r\n    \r\n    // code omitted\r\n\r\n    LoggingUtils.error(&quot;Error...&quot;);\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n***unit test:***\r\n\r\n\r\n```\r\n@Test\r\npublic void test() {\r\n\r\n    // code omitted \r\n\r\n    // call service method\r\n    employeeService.create(request);\r\n\r\n\r\n    try(MockedStatic&lt;LoggingUtils&gt; mocked = Mockito.mockStatic(LoggingUtils.class)) {\r\n        mocked.when(() -&gt; LoggingUtils.error(any()))\r\n            .thenAnswer((Answer&lt;Void&gt;) invocation -&gt; null);\r\n\r\n       \r\n        /* ??? I am not sure if I need to call the service method for the 2nd time. \r\n         * But in any case, I should not call it from here again */\r\n        employeeService.create(request); \r\n\r\n        /* ??? in most examples, the sttaic method is called here. however, it is \r\n         * meaningless, because if I call 2 times and use times(2) in the following \r\n         * line, it works. but not called 2 times actually in the service method */\r\n        LoggingUtils.error(any());\r\n\r\n        // verify\r\n        mocked.verify(times(1), () -&gt; LoggingUtils.error(any()));\r\n    }\r\n}\r\n```","title":"Cannot verify static method in Unit Test using MockedStatic or PowerMockito","body":"<p>I am really fed up with by trying tens of different approaches to test a static method properly using <code>MockedStatic</code> or <code>PowerMockito</code> for several days.</p>\n<p>I have the following service methods and test method as a unit test for this service method. I cannot verify the static method call when I just call the service method from test method. on the other hand, if I call the service method or the static method in the try block of the test method, it seems to work, but actually it does not. because it just verify the static method call in the try block. if I call the same static method twice, it verify 2 times call. But in reality, it just ht one time to the static method in the service.</p>\n<p>So, how can I verify the static method call using <code>MockedStatic</code> or <code>PowerMockito</code>? Any help would be appreciated.</p>\n<p><em><strong>service:</strong></em></p>\n<pre><code>// servis method\npublic CommandDTO create(final EmployeeRequest request) {\n    // code omitted\n\n    calculate(); // --&gt; I call this method\n\n    return CommandDTO.builder().uuid(empoyee.getUuid()).build();\n}\n\n\n// private method that calls static method\nprivate void calculate() {\n    \n    // code omitted\n\n    LoggingUtils.error(&quot;Error...&quot;);\n}\n</code></pre>\n<br/>\n<p><em><strong>unit test:</strong></em></p>\n<pre><code>@Test\npublic void test() {\n\n    // code omitted \n\n    // call service method\n    employeeService.create(request);\n\n\n    try(MockedStatic&lt;LoggingUtils&gt; mocked = Mockito.mockStatic(LoggingUtils.class)) {\n        mocked.when(() -&gt; LoggingUtils.error(any()))\n            .thenAnswer((Answer&lt;Void&gt;) invocation -&gt; null);\n\n       \n        /* ??? I am not sure if I need to call the service method for the 2nd time. \n         * But in any case, I should not call it from here again */\n        employeeService.create(request); \n\n        /* ??? in most examples, the sttaic method is called here. however, it is \n         * meaningless, because if I call 2 times and use times(2) in the following \n         * line, it works. but not called 2 times actually in the service method */\n        LoggingUtils.error(any());\n\n        // verify\n        mocked.verify(times(1), () -&gt; LoggingUtils.error(any()));\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","java-9","dpi"],"comments":[{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1467712801,"post_id":38169983,"comment_id":63825067,"body_markdown":"part of closed questions has one of tree-four gold flag(s)","body":"part of closed questions has one of tree-four gold flag(s)"}],"answers":[{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467629953,"creation_date":1467554784,"answer_id":38170743,"question_id":38169983,"body_markdown":"- not an answer, just my insights to this problematics issue, and please don&#39;t delete this answer, it can be very informative for the next one, two year, \r\n\r\n- my points, (I&#39;m restrict to lazy Win user, could be interesting the experiences by real power users from LI/(U)NIX or OSX) \r\n\r\n1. tend to returns back use NullLayout, despite the fact that the UIManager (I think that this is still a true) is able handling with getPreferredSize 21k x 48k, but seems like as LayoutManager doesn&#39;t know to divide those value properly, you can see it, this issue you can see by using GridBagLayout, there is reall issue with scaling/zoom_in for 4k sceens, I think that AWT/Swing GUI is rendered correclty at 2k monitors,    \r\n\r\n2. for 2k/4k screens you have to overide all Keys in UIManager (e.g. AFAIK for Nimbus L&amp;F is possible to use structure stored in xml file directly)\r\n   - have to create own paintIcon (in AWT/Swing are used simple shapes)\r\n   - override Borders\r\n   - override mouse events\r\n   - override Focus events\r\n\r\n3. those steps are partially required for &quot;smooth GUI&quot; in todays aplications too, from old 4:3 screens -&gt; thought laptops with small_screens with low resolutione (HD_screens) -&gt; fullhd screen -&gt; fullhs wide sceen, ends with 2k screen, note I&#39;m never tried by using the sizing varians builts in Nimbus L&amp;F, profesional application must contains test, checking for \r\n    - Native OS (there is difference betweens font, border, sizing)\r\n    - get a screen resolution in pixels from primary display with screen scalling, e.g., especially FullHd screen (16:9) and wide FullHd screen (21:9)\r\n    - to cache all displays in the case that you have the multiple monitors and resolution in pixels is different (problem is in the case that there are two the same monitors, but there is discreasing setting - users settings to GPU, or monitor has active TV card - settings can be modified by TV chip)\r\n\r\n    - then GUI can be created with hardcoded matrix for various sizing, to fits all screen standards, by default with success by override getPreferredSize for (parent) container(s), then LayoutManager will accept getPreferredSize form hardcoded matrix as prototype and do own job correctly,\r\n   \r\n\r\n4. if I remember another interesting facts, bugs, and whatever, ... etc I&#39;ll edit this my longer comment, with my remarks \r\n","title":"HiDPI support in Java Swing for multiple look and feels","body":"<ul>\n<li><p>not an answer, just my insights to this problematics issue, and please don't delete this answer, it can be very informative for the next one, two year, </p></li>\n<li><p>my points, (I'm restrict to lazy Win user, could be interesting the experiences by real power users from LI/(U)NIX or OSX) </p>\n\n<ol>\n<li><p>tend to returns back use NullLayout, despite the fact that the UIManager (I think that this is still a true) is able handling with getPreferredSize 21k x 48k, but seems like as LayoutManager doesn't know to divide those value properly, you can see it, this issue you can see by using GridBagLayout, there is reall issue with scaling/zoom_in for 4k sceens, I think that AWT/Swing GUI is rendered correclty at 2k monitors,    </p></li>\n<li><p>for 2k/4k screens you have to overide all Keys in UIManager (e.g. AFAIK for Nimbus L&amp;F is possible to use structure stored in xml file directly)</p>\n\n<ul>\n<li>have to create own paintIcon (in AWT/Swing are used simple shapes)</li>\n<li>override Borders</li>\n<li>override mouse events</li>\n<li>override Focus events</li>\n</ul></li>\n<li><p>those steps are partially required for \"smooth GUI\" in todays aplications too, from old 4:3 screens -> thought laptops with small_screens with low resolutione (HD_screens) -> fullhd screen -> fullhs wide sceen, ends with 2k screen, note I'm never tried by using the sizing varians builts in Nimbus L&amp;F, profesional application must contains test, checking for </p>\n\n<ul>\n<li>Native OS (there is difference betweens font, border, sizing)</li>\n<li>get a screen resolution in pixels from primary display with screen scalling, e.g., especially FullHd screen (16:9) and wide FullHd screen (21:9)</li>\n<li><p>to cache all displays in the case that you have the multiple monitors and resolution in pixels is different (problem is in the case that there are two the same monitors, but there is discreasing setting - users settings to GPU, or monitor has active TV card - settings can be modified by TV chip)</p></li>\n<li><p>then GUI can be created with hardcoded matrix for various sizing, to fits all screen standards, by default with success by override getPreferredSize for (parent) container(s), then LayoutManager will accept getPreferredSize form hardcoded matrix as prototype and do own job correctly,</p></li>\n</ul></li>\n<li><p>if I remember another interesting facts, bugs, and whatever, ... etc I'll edit this my longer comment, with my remarks </p></li>\n</ol></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":894842,"reputation":3082,"user_id":932359,"display_name":"Luke Usherwood"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467597539,"creation_date":1467597539,"answer_id":38176003,"question_id":38169983,"body_markdown":"Here&#39;s a solution based on my initial prototyping.\r\n\r\nI&#39;m not happy with some parts, for example the rules for which &#39;Integers&#39; and &#39;Fonts&#39; to modify is very &quot;magical&quot;. That&#39;s one place I&#39;d like to hear from others with more Swing / L&amp;F experience. \r\n\r\nI&#39;ve made this a community wiki so that if people would prefer to iterate on this and add their knowledge, rather than post their own solutions, then please feel free.\r\n\r\nI started with an interface that can modify certain ui-defaults:\r\n\r\n    public interface Tweaker {\r\n      void initialTweaks();\r\n      Font modifyFont(Object key, Font original);\r\n      Icon modifyIcon(Object key, Icon original);\r\n      Integer modifyInteger(Object key, Integer original);\r\n    }\r\n\r\nWhich can be invoked like this:\r\n\r\n    public void scaleUiDefaults() {\r\n      float dpiScale = Toolkit.getDefaultToolkit().getScreenResolution() / 96f;\r\n      Tweaker delegate = createTweakerForCurrentLook(dpiScale);\r\n      tweakUiDefaults(delegate, dpiScale);\r\n    }\r\n\r\n    private Tweaker createTweakerForCurrentLook(float dpiScaling) {\r\n      String testString = UIManager.getLookAndFeel().getName().toLowerCase();\r\n      if (testString.contains(&quot;windows&quot;)) return new WindowsTweaker(dpiScaling);\r\n      if (testString.contains(&quot;nimbus&quot;)) return new NimbusTweaker(dpiScaling);\r\n      return new BasicTweaker(dpiScaling);\r\n    }\r\n\r\n    private void tweakUiDefaults(Tweaker delegate, float multiplier) {\r\n      UIDefaults defaults = UIManager.getLookAndFeelDefaults();\r\n\r\n      delegate.initialTweaks();\r\n\r\n      for (Object key: Collections.list(defaults.keys())) {\r\n        Object original = defaults.get(key);\r\n        Object newValue = getUpdatedValue(delegate, key, original);\r\n        if (newValue != null &amp;&amp; newValue != original) {\r\n          defaults.put(key, newValue);\r\n        }\r\n      }\r\n    }\r\n\r\n    private Object getUpdatedValue(Tweaker delegate, Object key, Object original) {\r\n      if (original instanceof Font)    return delegate.modifyFont(key, (Font) original);\r\n      if (original instanceof Icon)    return delegate.modifyIcon(key, (Icon) original);\r\n      if (original instanceof Integer) return delegate.modifyInteger(key, (Integer) original);\r\n      return null;\r\n    }\r\n\r\nI put functionality that looks to be used by the majority of L&amp;Fs in a base-class. This seems to handle Metal without further refinement:\r\n\r\n    public class BasicTweaker {\r\n      protected final float scaleFactor;\r\n      protected final UIDefaults uiDefaults = UIManager.getLookAndFeelDefaults();\r\n\r\n      public BasicTweaker(float scaleFactor) {\r\n        this.scaleFactor = scaleFactor;\r\n      }\r\n\r\n      public void initialTweaks() {}\r\n\r\n      public Font modifyFont(Object key, Font original) {\r\n\r\n        // Ignores title &amp; accelerator fonts (for example)\r\n        if (original instanceof FontUIResource &amp;&amp; key.toString().endsWith(&quot;.font&quot;)) {\r\n            return newScaledFontUIResource(original, scaleFactor);\r\n        }\r\n        return original;\r\n      }\r\n\r\n      protected static FontUIResource newScaledFontUIResource(Font original, float scale) {\r\n        int newSize = Math.round(original.getSize() * scale);\r\n        return new FontUIResource(original.getName(), original.getStyle(), newSize);\r\n      }\r\n\r\n      public Icon modifyIcon(Object key, Icon original) {\r\n        return new IconUIResource(new ScaledIcon(original, scaleFactor));\r\n      }\r\n\r\n      public Integer modifyInteger(Object key, Integer original) {\r\n        if (!endsWithOneOf(lower(key), LOWER_SUFFIXES_FOR_SCALED_INTEGERS)) {\r\n          return original;\r\n        }\r\n        return (int) (original * scaleFactor);\r\n      }\r\n\r\n      private boolean endsWithOneOf(String text, String[] suffixes) {\r\n        return Arrays.stream(suffixes).anyMatch(suffix -&gt; text.endsWith(suffix));\r\n      }\r\n\r\n      private String lower(Object key) {\r\n        return (key instanceof String) ? ((String) key).toLowerCase() : &quot;&quot;;\r\n      }\r\n\r\n      private static final String[] LOWER_SUFFIXES_FOR_SCALED_INTEGERS = \r\n        new String[] { &quot;width&quot;, &quot;height&quot;, &quot;indent&quot;, &quot;size&quot;, &quot;gap&quot; };\r\n    }\r\n\r\nclass `ScaledIcon` used above is probably getting out of scope - but it essentially just calls `ImageIcon(image).paintIcon` with a modified width &amp; height.\r\n\r\nThen override `BasicTweaker` for other L&amp;Fs...\r\n\r\nWindows:\r\n\r\n    public class WindowsTweaker extends BasicTweaker {\r\n\r\n      public WindowsTweaker(float scaleFactor) {\r\n\r\n        // Windows already scales fonts, scrollbar sizes (etc) according to the system DPI settings.\r\n        // This lets us adjust to the REQUESTED scale factor, relative to the CURRENT scale factor\r\n        super(scaleFactor / getCurrentScaling());\r\n      }\r\n\r\n      private static float getCurrentScaling() {\r\n        int dpi = Toolkit.getDefaultToolkit().getScreenResolution();\r\n        return dpi / 96f;\r\n      }\r\n\r\n      public Font modifyFont(Object key, Font original) {\r\n        return super.modifyFont(key, original);\r\n      }\r\n\r\n      public Icon modifyIcon(Object key, Icon original) {\r\n        return original;\r\n      }\r\n    }\r\n\r\nNimbus:\r\n\r\n    public class NimbusTweaker extends BasicTweaker {\r\n\r\n      public NimbusTweaker(float scaleFactor) {\r\n        super(scaleFactor);\r\n      }\r\n\r\n      public void initialTweaks() {\r\n        Font font = uiDefaults.getFont(&quot;defaultFont&quot;);\r\n        if (font != null) {\r\n          uiDefaults.put(&quot;defaultFont&quot;, new FontUIResource(\r\n              font.getName(), font.getStyle(), Math.round(font.getSize() * scaleFactor)));\r\n        }\r\n      }\r\n\r\n      // Setting &quot;defaultFont&quot; above is sufficient as this will be inherited by all others\r\n      public Font modifyFont(Object key, Font original) {\r\n        return original;\r\n      }\r\n\r\n      // Scaling Radio or CheckBox button icons leads to really weird artifacts in Nimbus? Disable\r\n      public Icon modifyIcon(Object key, Icon original) {\r\n        return original;\r\n      }\r\n    }\r\n\r\n","title":"HiDPI support in Java Swing for multiple look and feels","body":"<p>Here's a solution based on my initial prototyping.</p>\n\n<p>I'm not happy with some parts, for example the rules for which 'Integers' and 'Fonts' to modify is very \"magical\". That's one place I'd like to hear from others with more Swing / L&amp;F experience. </p>\n\n<p>I've made this a community wiki so that if people would prefer to iterate on this and add their knowledge, rather than post their own solutions, then please feel free.</p>\n\n<p>I started with an interface that can modify certain ui-defaults:</p>\n\n<pre><code>public interface Tweaker {\n  void initialTweaks();\n  Font modifyFont(Object key, Font original);\n  Icon modifyIcon(Object key, Icon original);\n  Integer modifyInteger(Object key, Integer original);\n}\n</code></pre>\n\n<p>Which can be invoked like this:</p>\n\n<pre><code>public void scaleUiDefaults() {\n  float dpiScale = Toolkit.getDefaultToolkit().getScreenResolution() / 96f;\n  Tweaker delegate = createTweakerForCurrentLook(dpiScale);\n  tweakUiDefaults(delegate, dpiScale);\n}\n\nprivate Tweaker createTweakerForCurrentLook(float dpiScaling) {\n  String testString = UIManager.getLookAndFeel().getName().toLowerCase();\n  if (testString.contains(\"windows\")) return new WindowsTweaker(dpiScaling);\n  if (testString.contains(\"nimbus\")) return new NimbusTweaker(dpiScaling);\n  return new BasicTweaker(dpiScaling);\n}\n\nprivate void tweakUiDefaults(Tweaker delegate, float multiplier) {\n  UIDefaults defaults = UIManager.getLookAndFeelDefaults();\n\n  delegate.initialTweaks();\n\n  for (Object key: Collections.list(defaults.keys())) {\n    Object original = defaults.get(key);\n    Object newValue = getUpdatedValue(delegate, key, original);\n    if (newValue != null &amp;&amp; newValue != original) {\n      defaults.put(key, newValue);\n    }\n  }\n}\n\nprivate Object getUpdatedValue(Tweaker delegate, Object key, Object original) {\n  if (original instanceof Font)    return delegate.modifyFont(key, (Font) original);\n  if (original instanceof Icon)    return delegate.modifyIcon(key, (Icon) original);\n  if (original instanceof Integer) return delegate.modifyInteger(key, (Integer) original);\n  return null;\n}\n</code></pre>\n\n<p>I put functionality that looks to be used by the majority of L&amp;Fs in a base-class. This seems to handle Metal without further refinement:</p>\n\n<pre><code>public class BasicTweaker {\n  protected final float scaleFactor;\n  protected final UIDefaults uiDefaults = UIManager.getLookAndFeelDefaults();\n\n  public BasicTweaker(float scaleFactor) {\n    this.scaleFactor = scaleFactor;\n  }\n\n  public void initialTweaks() {}\n\n  public Font modifyFont(Object key, Font original) {\n\n    // Ignores title &amp; accelerator fonts (for example)\n    if (original instanceof FontUIResource &amp;&amp; key.toString().endsWith(\".font\")) {\n        return newScaledFontUIResource(original, scaleFactor);\n    }\n    return original;\n  }\n\n  protected static FontUIResource newScaledFontUIResource(Font original, float scale) {\n    int newSize = Math.round(original.getSize() * scale);\n    return new FontUIResource(original.getName(), original.getStyle(), newSize);\n  }\n\n  public Icon modifyIcon(Object key, Icon original) {\n    return new IconUIResource(new ScaledIcon(original, scaleFactor));\n  }\n\n  public Integer modifyInteger(Object key, Integer original) {\n    if (!endsWithOneOf(lower(key), LOWER_SUFFIXES_FOR_SCALED_INTEGERS)) {\n      return original;\n    }\n    return (int) (original * scaleFactor);\n  }\n\n  private boolean endsWithOneOf(String text, String[] suffixes) {\n    return Arrays.stream(suffixes).anyMatch(suffix -&gt; text.endsWith(suffix));\n  }\n\n  private String lower(Object key) {\n    return (key instanceof String) ? ((String) key).toLowerCase() : \"\";\n  }\n\n  private static final String[] LOWER_SUFFIXES_FOR_SCALED_INTEGERS = \n    new String[] { \"width\", \"height\", \"indent\", \"size\", \"gap\" };\n}\n</code></pre>\n\n<p>class <code>ScaledIcon</code> used above is probably getting out of scope - but it essentially just calls <code>ImageIcon(image).paintIcon</code> with a modified width &amp; height.</p>\n\n<p>Then override <code>BasicTweaker</code> for other L&amp;Fs...</p>\n\n<p>Windows:</p>\n\n<pre><code>public class WindowsTweaker extends BasicTweaker {\n\n  public WindowsTweaker(float scaleFactor) {\n\n    // Windows already scales fonts, scrollbar sizes (etc) according to the system DPI settings.\n    // This lets us adjust to the REQUESTED scale factor, relative to the CURRENT scale factor\n    super(scaleFactor / getCurrentScaling());\n  }\n\n  private static float getCurrentScaling() {\n    int dpi = Toolkit.getDefaultToolkit().getScreenResolution();\n    return dpi / 96f;\n  }\n\n  public Font modifyFont(Object key, Font original) {\n    return super.modifyFont(key, original);\n  }\n\n  public Icon modifyIcon(Object key, Icon original) {\n    return original;\n  }\n}\n</code></pre>\n\n<p>Nimbus:</p>\n\n<pre><code>public class NimbusTweaker extends BasicTweaker {\n\n  public NimbusTweaker(float scaleFactor) {\n    super(scaleFactor);\n  }\n\n  public void initialTweaks() {\n    Font font = uiDefaults.getFont(\"defaultFont\");\n    if (font != null) {\n      uiDefaults.put(\"defaultFont\", new FontUIResource(\n          font.getName(), font.getStyle(), Math.round(font.getSize() * scaleFactor)));\n    }\n  }\n\n  // Setting \"defaultFont\" above is sufficient as this will be inherited by all others\n  public Font modifyFont(Object key, Font original) {\n    return original;\n  }\n\n  // Scaling Radio or CheckBox button icons leads to really weird artifacts in Nimbus? Disable\n  public Icon modifyIcon(Object key, Icon original) {\n    return original;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":894842,"reputation":3082,"user_id":932359,"display_name":"Luke Usherwood"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3387,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":2,"score":4,"last_activity_date":1647007084,"creation_date":1467549177,"question_id":38169983,"body_markdown":"I&#39;m looking to add Hi-DPI support to some Swing applications, but I have failed to find a solution sufficient to my needs. I need to support multiple look &amp; feels, so the situation seems rather more complex than other posts I&#39;ve found (which tend to suggest &quot;adapt your UI sizes to match your font size&quot;).\r\n\r\nSome experimentation has found the `UIManager` contains many metrics that can be tweaked to get you off to a good start in making an application Hi-DPI friendly. (The [UIManager-Defaults][1] utility has been invaluable for exploring these!) What I found though is that the L&amp;Fs seem to work *completely* differently to each other:\r\n\r\n - Windows L&amp;F gives you a good (not perfect) default font size, and built-in icons (like checkbox &amp; window icons) are sized appropriately - but many other metrics are still out of whack.\r\n\r\n - In Metal you can update the fonts in the `UIManager` individually. With a bit of work you can scale the built-in `IconUIResource`s to match.\r\n\r\n - In Nimbus you can just update a single default font, and the other fonts fall into place... But it&#39;s beyond me how to scale the built-in icons and have combo-boxes, radio buttons (etc.) render successfully!\r\n\r\nThe feeling I get from playing around is that it should be possible to create a list of specific tweaks for each L&amp;F-specific independently. This would comprise potentially tweaking the defaults for `Font`, `Icon`, `Integer`, and `Dimension`s.\r\n\r\nHas anyone come up with a good solution to this?\r\n\r\nCan anyone share a definitive list of which `UIDefaults` need adjustment for the standard L&amp;Fs?\r\n\r\nI would be happy with a solution that just supports Metal and Windows consistently.\r\n\r\nI imagine such a solution should be quite reusable &amp; could solve the same problem for a range of Swing apps. I&#39;m surprised no such utility yet seems to exist. This approach won&#39;t solve everything of course (for example you&#39;d still need to manually scale any calls to `setPreferredSize` etc. Then again apps that already support multiple L&amp;Fs should tend to avoid calling that anyway.) Still, I imagine that it could get many apps off to a good start.\r\n\r\nI&#39;m aware that [JDK-9][2] promises full [Hi-DPI support][3], but I cannot wait that long - I may not be able to switch for some time even after it&#39;s 2017 release.\r\n\r\nUPDATE: Yes JDK-9 onward *enabled* HiDPI support, however the **Built-in** L&amp;F&#39;s at non-integer scaling levels didn&#39;t embrace it well &amp; can look even worse than &quot;hack it yourself in Java 8&quot;. This problem can be better solved at the L&amp;F level, however, and some excellent 3rd party L&amp;F&#39;s like [FlatLaF](https://github.com/JFormDesigner/FlatLaf) and [Radiance](https://github.com/kirill-grouchnikov/radiance) do so quite beautifully. Highly recommended.\r\n\r\n  [1]: https://tips4java.wordpress.com/2008/10/09/uimanager-defaults/\r\n  [2]: http://openjdk.java.net/projects/jdk9/\r\n  [3]: http://openjdk.java.net/jeps/263","title":"HiDPI support in Java Swing for multiple look and feels","body":"<p>I'm looking to add Hi-DPI support to some Swing applications, but I have failed to find a solution sufficient to my needs. I need to support multiple look &amp; feels, so the situation seems rather more complex than other posts I've found (which tend to suggest &quot;adapt your UI sizes to match your font size&quot;).</p>\n<p>Some experimentation has found the <code>UIManager</code> contains many metrics that can be tweaked to get you off to a good start in making an application Hi-DPI friendly. (The <a href=\"https://tips4java.wordpress.com/2008/10/09/uimanager-defaults/\" rel=\"nofollow noreferrer\">UIManager-Defaults</a> utility has been invaluable for exploring these!) What I found though is that the L&amp;Fs seem to work <em>completely</em> differently to each other:</p>\n<ul>\n<li><p>Windows L&amp;F gives you a good (not perfect) default font size, and built-in icons (like checkbox &amp; window icons) are sized appropriately - but many other metrics are still out of whack.</p>\n</li>\n<li><p>In Metal you can update the fonts in the <code>UIManager</code> individually. With a bit of work you can scale the built-in <code>IconUIResource</code>s to match.</p>\n</li>\n<li><p>In Nimbus you can just update a single default font, and the other fonts fall into place... But it's beyond me how to scale the built-in icons and have combo-boxes, radio buttons (etc.) render successfully!</p>\n</li>\n</ul>\n<p>The feeling I get from playing around is that it should be possible to create a list of specific tweaks for each L&amp;F-specific independently. This would comprise potentially tweaking the defaults for <code>Font</code>, <code>Icon</code>, <code>Integer</code>, and <code>Dimension</code>s.</p>\n<p>Has anyone come up with a good solution to this?</p>\n<p>Can anyone share a definitive list of which <code>UIDefaults</code> need adjustment for the standard L&amp;Fs?</p>\n<p>I would be happy with a solution that just supports Metal and Windows consistently.</p>\n<p>I imagine such a solution should be quite reusable &amp; could solve the same problem for a range of Swing apps. I'm surprised no such utility yet seems to exist. This approach won't solve everything of course (for example you'd still need to manually scale any calls to <code>setPreferredSize</code> etc. Then again apps that already support multiple L&amp;Fs should tend to avoid calling that anyway.) Still, I imagine that it could get many apps off to a good start.</p>\n<p>I'm aware that <a href=\"http://openjdk.java.net/projects/jdk9/\" rel=\"nofollow noreferrer\">JDK-9</a> promises full <a href=\"http://openjdk.java.net/jeps/263\" rel=\"nofollow noreferrer\">Hi-DPI support</a>, but I cannot wait that long - I may not be able to switch for some time even after it's 2017 release.</p>\n<p>UPDATE: Yes JDK-9 onward <em>enabled</em> HiDPI support, however the <strong>Built-in</strong> L&amp;F's at non-integer scaling levels didn't embrace it well &amp; can look even worse than &quot;hack it yourself in Java 8&quot;. This problem can be better solved at the L&amp;F level, however, and some excellent 3rd party L&amp;F's like <a href=\"https://github.com/JFormDesigner/FlatLaf\" rel=\"nofollow noreferrer\">FlatLaF</a> and <a href=\"https://github.com/kirill-grouchnikov/radiance\" rel=\"nofollow noreferrer\">Radiance</a> do so quite beautifully. Highly recommended.</p>\n"},{"tags":["java","netbeans","editor","double-click","netbeans-13"],"comments":[{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1646987557,"post_id":71433662,"comment_id":126263948,"body_markdown":"Please note that while upgrading I did not use old settings. And I am using Windows 11 Turkish ver 22000.56 with AdoptOpenJDK With Hotspot 15.0.2+7 (x64)","body":"Please note that while upgrading I did not use old settings. And I am using Windows 11 Turkish ver 22000.56 with AdoptOpenJDK With Hotspot 15.0.2+7 (x64)"}],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646975951,"creation_date":1646975951,"answer_id":71433956,"question_id":71433662,"body_markdown":"I was unable to reproduce your problem with NetBeans 13, nor could I find any setting under **Tools &gt; Options &gt; Editor** that might be relevant.\r\n\r\nHowever, an old NetBeans Bug Report [Bug 239257 - Select identifier considers &quot;_&quot; (underscore) as a separator](https://bz.apache.org/netbeans/show_bug.cgi?id=239257) described your problem, and explained how to replicate it:\r\n- For your NetBeans 13 installation, locate the file **org-netbeans-modules-editor-settings-CustomPreferences.xml**\r\n- In my case the path to that file was under my NetBeans user directory, in **C:\\Users\\johndoe\\AppData\\Roaming\\NetBeans\\13\\config\\Editors\\text\\x-java\\Preferences**\r\n- Open that file in any text editor. \r\n- To provoke the problem if it doesn&#39;t exist, insert the following line into that file under the `&lt;editor-preferences&gt;` element, save it, then restart NetBeans:\r\n\r\n  `&lt;entry name=&quot;identifier-acceptor&quot; remove=&quot;true&quot;/&gt;`\r\n\r\n- To prevent the problem, which is what you want to do, remove that same line from the file, save it, then restart NetBeans. Selection should then work correctly.\r\n\r\nHere&#39;s the complete content of my instance of **org-netbeans-modules-editor-settings-CustomPreferences.xml** after I added that entry on line 6 to replicate your problem:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE editor-preferences PUBLIC &quot;-//NetBeans//DTD Editor Preferences 1.0//EN&quot; &quot;http://www.netbeans.org/dtds/EditorPreferences-1_0.dtd&quot;&gt;\r\n    &lt;editor-preferences&gt;\r\n        &lt;entry javaType=&quot;java.lang.Boolean&quot; name=&quot;enable-indent&quot; xml:space=&quot;preserve&quot;&gt;&lt;value&gt;&lt;![CDATA[true]]&gt;&lt;/value&gt;&lt;/entry&gt;\r\n        &lt;entry javaType=&quot;java.lang.String&quot; name=&quot;importGroupsOrder&quot; xml:space=&quot;preserve&quot;&gt;&lt;value&gt;&lt;![CDATA[*]]&gt;&lt;/value&gt;&lt;/entry&gt;\r\n        &lt;entry name=&quot;identifier-acceptor&quot; remove=&quot;true&quot;/&gt;\r\n        &lt;entry name=&quot;code-folding-collapse-innerclass&quot; remove=&quot;true&quot;/&gt;\r\n        &lt;entry name=&quot;code-folding-collapse-javadoc&quot; remove=&quot;true&quot;/&gt;\r\n        &lt;entry name=&quot;code-folding-collapse-method&quot; remove=&quot;true&quot;/&gt;\r\n        &lt;entry name=&quot;pair-characters-completion&quot; remove=&quot;true&quot;/&gt;\r\n        &lt;entry name=&quot;show-deprecated-members&quot; remove=&quot;true&quot;/&gt;\r\n    &lt;/editor-preferences&gt;\r\n\r\nNotes:\r\n- I have not imported old settings for my NetBeans 13 installation. If you did, then that may be what provoked the problem. I have no idea how that value could get set/unset other than by editing the file.\r\n- If this does not resolve your problem update your question with the content of **org-netbeans-modules-editor-settings-CustomPreferences.xml**\r\n","title":"NetBeans 13 Java Editor Doubleclick implementation change","body":"<p>I was unable to reproduce your problem with NetBeans 13, nor could I find any setting under <strong>Tools &gt; Options &gt; Editor</strong> that might be relevant.</p>\n<p>However, an old NetBeans Bug Report <a href=\"https://bz.apache.org/netbeans/show_bug.cgi?id=239257\" rel=\"nofollow noreferrer\">Bug 239257 - Select identifier considers &quot;_&quot; (underscore) as a separator</a> described your problem, and explained how to replicate it:</p>\n<ul>\n<li><p>For your NetBeans 13 installation, locate the file <strong>org-netbeans-modules-editor-settings-CustomPreferences.xml</strong></p>\n</li>\n<li><p>In my case the path to that file was under my NetBeans user directory, in <strong>C:\\Users\\johndoe\\AppData\\Roaming\\NetBeans\\13\\config\\Editors\\text\\x-java\\Preferences</strong></p>\n</li>\n<li><p>Open that file in any text editor.</p>\n</li>\n<li><p>To provoke the problem if it doesn't exist, insert the following line into that file under the <code>&lt;editor-preferences&gt;</code> element, save it, then restart NetBeans:</p>\n<p><code>&lt;entry name=&quot;identifier-acceptor&quot; remove=&quot;true&quot;/&gt;</code></p>\n</li>\n<li><p>To prevent the problem, which is what you want to do, remove that same line from the file, save it, then restart NetBeans. Selection should then work correctly.</p>\n</li>\n</ul>\n<p>Here's the complete content of my instance of <strong>org-netbeans-modules-editor-settings-CustomPreferences.xml</strong> after I added that entry on line 6 to replicate your problem:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE editor-preferences PUBLIC &quot;-//NetBeans//DTD Editor Preferences 1.0//EN&quot; &quot;http://www.netbeans.org/dtds/EditorPreferences-1_0.dtd&quot;&gt;\n&lt;editor-preferences&gt;\n    &lt;entry javaType=&quot;java.lang.Boolean&quot; name=&quot;enable-indent&quot; xml:space=&quot;preserve&quot;&gt;&lt;value&gt;&lt;![CDATA[true]]&gt;&lt;/value&gt;&lt;/entry&gt;\n    &lt;entry javaType=&quot;java.lang.String&quot; name=&quot;importGroupsOrder&quot; xml:space=&quot;preserve&quot;&gt;&lt;value&gt;&lt;![CDATA[*]]&gt;&lt;/value&gt;&lt;/entry&gt;\n    &lt;entry name=&quot;identifier-acceptor&quot; remove=&quot;true&quot;/&gt;\n    &lt;entry name=&quot;code-folding-collapse-innerclass&quot; remove=&quot;true&quot;/&gt;\n    &lt;entry name=&quot;code-folding-collapse-javadoc&quot; remove=&quot;true&quot;/&gt;\n    &lt;entry name=&quot;code-folding-collapse-method&quot; remove=&quot;true&quot;/&gt;\n    &lt;entry name=&quot;pair-characters-completion&quot; remove=&quot;true&quot;/&gt;\n    &lt;entry name=&quot;show-deprecated-members&quot; remove=&quot;true&quot;/&gt;\n&lt;/editor-preferences&gt;\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li>I have not imported old settings for my NetBeans 13 installation. If you did, then that may be what provoked the problem. I have no idea how that value could get set/unset other than by editing the file.</li>\n<li>If this does not resolve your problem update your question with the content of <strong>org-netbeans-modules-editor-settings-CustomPreferences.xml</strong></li>\n</ul>\n"}],"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71433956,"answer_count":1,"score":1,"last_activity_date":1647006810,"creation_date":1646973077,"question_id":71433662,"body_markdown":"I just upgraded my NetBeans from 12 to 13.\r\n\r\nWhen i doubleclick a classname or variable name, she only selects part of it:&lt;br&gt;\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nRefactor (Ctrl + R) still works.&lt;br&gt;\r\nBut if you think all my custom class file names have _ in it; not copying classnames (Ctrl + C) at ease is a big deal for me.&lt;br&gt;\r\nDo you know how to change it back?\r\n\r\n  [1]: https://i.stack.imgur.com/UHkFm.png","title":"NetBeans 13 Java Editor Doubleclick implementation change","body":"<p>I just upgraded my NetBeans from 12 to 13.</p>\n<p>When i doubleclick a classname or variable name, she only selects part of it:<br></p>\n<p><a href=\"https://i.stack.imgur.com/UHkFm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UHkFm.png\" alt=\"enter image description here\" /></a></p>\n<p>Refactor (Ctrl + R) still works.<br>\nBut if you think all my custom class file names have _ in it; not copying classnames (Ctrl + C) at ease is a big deal for me.<br>\nDo you know how to change it back?</p>\n"},{"tags":["java","jar","exe","jsmooth"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1647006535,"post_id":71439509,"comment_id":126270660,"body_markdown":"is the environment varaible JAVA_HOME set ?","body":"is the environment varaible JAVA_HOME set ?"},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1647006622,"post_id":71439509,"comment_id":126270683,"body_markdown":"Does this answer your question? [JSmooth Java 1.4 or above not found error](https://stackoverflow.com/questions/10153176/jsmooth-java-1-4-or-above-not-found-error)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10153176/jsmooth-java-1-4-or-above-not-found-error\">JSmooth Java 1.4 or above not found error</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647006780,"creation_date":1647006780,"answer_id":71439599,"question_id":71439509,"body_markdown":"JVMs are quite large. Out of the box, JSmooth therefore doesn&#39;t include one. I think you can ask it (I&#39;m recalling exe4j perhaps, a different tool that does the same thing as jsmooth), by stating which path contains one relative to the executable. You __cannot__ fold it straight into the exe, though. It&#39;ll then be an installation process where you end up with:\r\n\r\n```\r\nC:\\Program Files\\AnthonysAwesomeApp\\Anthony.exe\r\nC:\\Program Files\\AnthonysAwesomeApp\\jre\\lib\\rt.jar\r\nC:\\Program Files\\AnthonysAwesomeApp\\jre\\bin\\java.exe\r\n... and the other 5000 files of a JRE installation\r\n```\r\n\r\nWhere &#39;Anthony.exe&#39; is made by JSmooth, and you told JSmooth that it should use the JRE found in location `&quot;.\\jre&quot;`.\r\n\r\nThat should probably still work.\r\n\r\nThe more general problem is that the entire deployment model is more or less obsolete; JREs do not exist anymore, at least, oracle/team openjdk has ceased producing them and has ceased mentioning the very concept, but some third party deployers such as Azul still produce them. Java1.8 is the last version that can truly be said to have had the concept of a JRE.\r\n\r\nA JDK is a superset of a JRE (It has everything a JRE has, and more), and JDKs still exist, so you should just be able to ship an entire JDK.\r\n\r\nThe new model is `jlink`, modules, and treeshaking, and it doesn&#39;t feel like any of the exe maker projects such as JSmooth have been updated for it. In general, java is used a ton on servers, but java on the desktop is not observed that much. If you want to delve into those - you have a lot of reading to do, and the experience is not as smooth (heh) as JSmooth.\r\n","title":"Running standard exe from java .jar file on clients computers","body":"<p>JVMs are quite large. Out of the box, JSmooth therefore doesn't include one. I think you can ask it (I'm recalling exe4j perhaps, a different tool that does the same thing as jsmooth), by stating which path contains one relative to the executable. You <strong>cannot</strong> fold it straight into the exe, though. It'll then be an installation process where you end up with:</p>\n<pre><code>C:\\Program Files\\AnthonysAwesomeApp\\Anthony.exe\nC:\\Program Files\\AnthonysAwesomeApp\\jre\\lib\\rt.jar\nC:\\Program Files\\AnthonysAwesomeApp\\jre\\bin\\java.exe\n... and the other 5000 files of a JRE installation\n</code></pre>\n<p>Where 'Anthony.exe' is made by JSmooth, and you told JSmooth that it should use the JRE found in location <code>&quot;.\\jre&quot;</code>.</p>\n<p>That should probably still work.</p>\n<p>The more general problem is that the entire deployment model is more or less obsolete; JREs do not exist anymore, at least, oracle/team openjdk has ceased producing them and has ceased mentioning the very concept, but some third party deployers such as Azul still produce them. Java1.8 is the last version that can truly be said to have had the concept of a JRE.</p>\n<p>A JDK is a superset of a JRE (It has everything a JRE has, and more), and JDKs still exist, so you should just be able to ship an entire JDK.</p>\n<p>The new model is <code>jlink</code>, modules, and treeshaking, and it doesn't feel like any of the exe maker projects such as JSmooth have been updated for it. In general, java is used a ton on servers, but java on the desktop is not observed that much. If you want to delve into those - you have a lot of reading to do, and the experience is not as smooth (heh) as JSmooth.</p>\n"}],"owner":{"account_id":19158612,"reputation":41,"user_id":13994911,"display_name":"Anthony Behery"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647006780,"creation_date":1647006397,"question_id":71439509,"body_markdown":"I have a program that I want to run as an exe on a clients computer. After I made my program in Java I used Jsmooth to create the exe. The program runs perfectly fine from my own local computer, but when I try running the same program on another computer the program prompts me to install Java. After installing Java, the program STILL wants me to install Java. I thought it might be different versions of Java, but I compiled the Jar with the most LTS of Java, and my JRE was on the most recent version. What should I do? ","title":"Running standard exe from java .jar file on clients computers","body":"<p>I have a program that I want to run as an exe on a clients computer. After I made my program in Java I used Jsmooth to create the exe. The program runs perfectly fine from my own local computer, but when I try running the same program on another computer the program prompts me to install Java. After installing Java, the program STILL wants me to install Java. I thought it might be different versions of Java, but I compiled the Jar with the most LTS of Java, and my JRE was on the most recent version. What should I do?</p>\n"},{"tags":["java","spring","oauth-2.0","spring-cloud-feign","feign"],"answers":[{"tags":[],"owner":{"account_id":21285874,"reputation":83,"user_id":15663530,"display_name":"wolle271"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1646914235,"creation_date":1646914235,"answer_id":71423951,"question_id":71423763,"body_markdown":"Grant type &quot;password&quot; would mean that your resource server sends userid and password to the authentication server (oauth 2 server). This would mean you would send data tied to an actual user of your application over the wire. This is not something you want do anymore and this grant type is deprecated.\r\n\r\nWhen you say you input client id and client secret in swagger, you are actually using grant type &quot;client credentials&quot; and not grant type &quot;password&quot;. The data you are sending &quot;over the wire&quot; identifies an application or client, hence CLIENT id and CLIENT secret.\r\n\r\nThe userid and password you are entering is not sent to the authorization server. It might be some kind of BASIC authentication you have in front of your swagger mask.\r\n\r\nStick to your Bealdung guide, its exactly what you want to do. Setup all the beans you can see under 4.2 and provide the needed configuration. Afterwards you should be able to autowire the configured feignclient bean and use it anywhere. ","title":"Feign client OAuth2 grant type password","body":"<p>Grant type &quot;password&quot; would mean that your resource server sends userid and password to the authentication server (oauth 2 server). This would mean you would send data tied to an actual user of your application over the wire. This is not something you want do anymore and this grant type is deprecated.</p>\n<p>When you say you input client id and client secret in swagger, you are actually using grant type &quot;client credentials&quot; and not grant type &quot;password&quot;. The data you are sending &quot;over the wire&quot; identifies an application or client, hence CLIENT id and CLIENT secret.</p>\n<p>The userid and password you are entering is not sent to the authorization server. It might be some kind of BASIC authentication you have in front of your swagger mask.</p>\n<p>Stick to your Bealdung guide, its exactly what you want to do. Setup all the beans you can see under 4.2 and provide the needed configuration. Afterwards you should be able to autowire the configured feignclient bean and use it anywhere.</p>\n"},{"tags":[],"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647006515,"creation_date":1647006515,"answer_id":71439533,"question_id":71423763,"body_markdown":"Solved, you need to add this dependency I didn&#39;t notice in order to not to specify versions of dependencies:\r\n```\r\n&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;Edgware.RELEASE&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n```\r\nOr just specify versions of the dependencies (second guide).","title":"Feign client OAuth2 grant type password","body":"<p>Solved, you need to add this dependency I didn't notice in order to not to specify versions of dependencies:</p>\n<pre><code>&lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;Edgware.RELEASE&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre>\n<p>Or just specify versions of the dependencies (second guide).</p>\n"}],"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":831,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71439533,"answer_count":2,"score":0,"last_activity_date":1647006515,"creation_date":1646913457,"question_id":71423763,"body_markdown":"I have a service I want to access using Feign client. The problem is that it requires authorization using ```OAuth2, password``` (as said in the ```Authorize``` page of Swagger and ```flow: password``` is set). \r\n\r\nIn the ```Swagger``` page of the service I can get the access to the methods by simply clicking on the ```Authorize``` and inputing my ```login``` and ```password```, choosing ```request body``` and leaving ```client_id``` and ```client_secret``` fields as they were default, but how do I do that using Feign client now? \r\n\r\nI tried following this [guide][1] but it describes how to do it with grant type ```client_credentials``` so it didn&#39;t work for me, it was expectedly giving errors and not accesing the method of the service. I checked the api of the service just to be sure, grant type is in fact ```password```. When sending a request it was doing it with &quot;Bearer null&quot;. \r\n```\r\nfeign.FeignException$Unauthorized: [401] during [GET] to [...] [TestFeignClient#req(String)]: [{&quot;error&quot;:&quot;invalid_token&quot;,&quot;error_description&quot;:&quot;Cannot convert access token to JSON&quot;}]\r\n```\r\nThere&#39;s a lot of code I don&#39;t know about, so I tried to find another guide which will be about grant type ```password```. I tried to follow [this guide][2] which suits my situation, but Maven gives me errors about these dependencies, so the code is all red too (I checked the source code of the guide which can be found [here][3]\r\n to find the dependencies, it&#39;s in the ```customer``` package pom, on the branch ```with_database``` as the author said in the comments section):\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-feign&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nSo my question is: how can I correctly implement OAuth2 password grant type with Feign client? Is there any actual guides on how to do it? Becasue I didn&#39;t find any except these 2 and they both didn&#39;t work out for me.\r\n\r\n  [1]: https://www.baeldung.com/spring-cloud-feign-oauth-token\r\n  [2]: https://piotrminkowski.com/2017/12/01/microservices-security-with-spring-cloud-oauth2/\r\n  [3]: https://github.com/piomin/sample-spring-oauth2-microservices/tree/master","title":"Feign client OAuth2 grant type password","body":"<p>I have a service I want to access using Feign client. The problem is that it requires authorization using <code>OAuth2, password</code> (as said in the <code>Authorize</code> page of Swagger and <code>flow: password</code> is set).</p>\n<p>In the <code>Swagger</code> page of the service I can get the access to the methods by simply clicking on the <code>Authorize</code> and inputing my <code>login</code> and <code>password</code>, choosing <code>request body</code> and leaving <code>client_id</code> and <code>client_secret</code> fields as they were default, but how do I do that using Feign client now?</p>\n<p>I tried following this <a href=\"https://www.baeldung.com/spring-cloud-feign-oauth-token\" rel=\"nofollow noreferrer\">guide</a> but it describes how to do it with grant type <code>client_credentials</code> so it didn't work for me, it was expectedly giving errors and not accesing the method of the service. I checked the api of the service just to be sure, grant type is in fact <code>password</code>. When sending a request it was doing it with &quot;Bearer null&quot;.</p>\n<pre><code>feign.FeignException$Unauthorized: [401] during [GET] to [...] [TestFeignClient#req(String)]: [{&quot;error&quot;:&quot;invalid_token&quot;,&quot;error_description&quot;:&quot;Cannot convert access token to JSON&quot;}]\n</code></pre>\n<p>There's a lot of code I don't know about, so I tried to find another guide which will be about grant type <code>password</code>. I tried to follow <a href=\"https://piotrminkowski.com/2017/12/01/microservices-security-with-spring-cloud-oauth2/\" rel=\"nofollow noreferrer\">this guide</a> which suits my situation, but Maven gives me errors about these dependencies, so the code is all red too (I checked the source code of the guide which can be found <a href=\"https://github.com/piomin/sample-spring-oauth2-microservices/tree/master\" rel=\"nofollow noreferrer\">here</a>\nto find the dependencies, it's in the <code>customer</code> package pom, on the branch <code>with_database</code> as the author said in the comments section):</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-feign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>So my question is: how can I correctly implement OAuth2 password grant type with Feign client? Is there any actual guides on how to do it? Becasue I didn't find any except these 2 and they both didn't work out for me.</p>\n"},{"tags":["java","android","react-native"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1647003506,"post_id":71435783,"comment_id":126269602,"body_markdown":"If the `compileSdkVersion` of your gradle config is too low increase it to 31.","body":"If the <code>compileSdkVersion</code> of your gradle config is too low increase it to 31."}],"answers":[{"tags":[],"owner":{"account_id":8935778,"reputation":385,"user_id":6666656,"accept_rate":60,"display_name":"BaconPancakes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647006335,"creation_date":1647006335,"answer_id":71439497,"question_id":71435783,"body_markdown":"The error message hints at how to resolve the issue. The minCompileSdk can never be higher than your compileSdkVersion which is also hinted in the name of the parameters, as the minCompileSdk is the minimum SDK you want to support, so setting it to a higher value than the compileSdkVersion should intuitively mean that it won&#39;t be the minimum sdk version needed.\r\n\r\nEither downgrade your minCompileSdk to 30 og upgrade your compileSdkVersion to 31, to fix this issue. You can read more about these parameters in this thread: https://stackoverflow.com/questions/26694108/what-is-the-difference-between-compilesdkversion-and-targetsdkversion","title":"How can I resolve the error &quot;The minCompileSdk (31) specified in a dependency&#39;s AAR metadata&quot; in native Java?","body":"<p>The error message hints at how to resolve the issue. The minCompileSdk can never be higher than your compileSdkVersion which is also hinted in the name of the parameters, as the minCompileSdk is the minimum SDK you want to support, so setting it to a higher value than the compileSdkVersion should intuitively mean that it won't be the minimum sdk version needed.</p>\n<p>Either downgrade your minCompileSdk to 30 og upgrade your compileSdkVersion to 31, to fix this issue. You can read more about these parameters in this thread: <a href=\"https://stackoverflow.com/questions/26694108/what-is-the-difference-between-compilesdkversion-and-targetsdkversion\">What is the difference between compileSdkVersion and targetSdkVersion?</a></p>\n"}],"owner":{"account_id":24511470,"reputation":125,"user_id":18425740,"display_name":"Kaushal Lalani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71439497,"answer_count":1,"score":0,"last_activity_date":1647006335,"creation_date":1646988046,"question_id":71435783,"body_markdown":"The error message:\r\n\r\nThe minCompileSdk (31) specified in a\r\ndependency&#39;s AAR metadata (META-INF/com/android/build/gradle/aar-metadata.properties)\r\nis greater than this module&#39;s compileSdkVersion (android-30).\r\nDependency: androidx.navigation:navigation-fragment:2.4.1.\r\n\r\nAAR metadata file: /Users/alian/.gradle/caches/transforms-3/dfc7e7791b25c1d405f07b2f91495db8/transformed/navigation-fragment-2.4.1/META-INF/com/android/build/gradle/aar-metadata.properties.\r\n","title":"How can I resolve the error &quot;The minCompileSdk (31) specified in a dependency&#39;s AAR metadata&quot; in native Java?","body":"<p>The error message:</p>\n<p>The minCompileSdk (31) specified in a\ndependency's AAR metadata (META-INF/com/android/build/gradle/aar-metadata.properties)\nis greater than this module's compileSdkVersion (android-30).\nDependency: androidx.navigation:navigation-fragment:2.4.1.</p>\n<p>AAR metadata file: /Users/alian/.gradle/caches/transforms-3/dfc7e7791b25c1d405f07b2f91495db8/transformed/navigation-fragment-2.4.1/META-INF/com/android/build/gradle/aar-metadata.properties.</p>\n"},{"tags":["java","spring","maven","spring-cloud-feign","feign"],"answers":[{"tags":[],"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647006315,"creation_date":1647006315,"answer_id":71439495,"question_id":71435685,"body_markdown":"Solved just by adding this dependency before dependency on ```feign``` module:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Maven javax dependency exclusion doesn&#39;t work","body":"<p>Solved just by adding this dependency before dependency on <code>feign</code> module:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71439495,"answer_count":1,"score":0,"last_activity_date":1647006315,"creation_date":1646987569,"question_id":71435685,"body_markdown":"I&#39;m trying to implement OAuth2 password grant type with feign client. I followed [this][1] guide (only the feign client part). I do it in the separate project (let&#39;s call it ```feign```) and then use it as dependency in the other ```project``` (let&#39;s call it like this). The problem is that if I do everything like in the guide, the ```javax.ws.rs.core.Response``` class in the project becomes different from what it was, so one method just disappers. My ```pom.xml``` of ```feign``` if I follow the guide fully (the [source code of the guide][2])\r\n```\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;Edgware.RELEASE&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-feign&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\nI don&#39;t need to write versions here because they&#39;re in the pom dependency. But after I do that, the ```project``` starts seeing other ```javax.ws.rs.core.Response``` than it was before, I switched branches and compared these two classes, they&#39;re in fact different, the only difference I touched is that added ```feign``` as dependency in ```project```. So I tried to exclude ```dependencyManagement``` and added latest versions manually in the ```feign```:\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-feign&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.7.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-security&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.7.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nIt didn&#39;t help, ```javax.ws.rs.core.Response``` changed again (the method ```readEntity``` disappears). I assume it&#39;s used in one of the dependencies in the ```feign``` so I tried to exclude it in the ```project``` manually:\r\n```\r\n&lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;filters&gt;\r\n                                &lt;filter&gt;\r\n                                    &lt;artifact&gt;feign-client&lt;/artifact&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;javax/ws/rs/core/**&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    ...\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;...&lt;/groupId&gt;\r\n            &lt;artifactId&gt;feign-client&lt;/artifactId&gt;\r\n            &lt;version&gt;...&lt;/version&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n```\r\nBut it didn&#39;t help too, after ```mvn clean install``` it still doesn&#39;t see the method ```readEntity```. Can someone look into it, how do I achieve leaving the old version of ```Response``` how it was before? \r\n\r\n  [1]: https://piotrminkowski.com/2017/12/01/microservices-security-with-spring-cloud-oauth2/\r\n  [2]: https://github.com/piomin/sample-spring-oauth2-microservices/tree/with_database","title":"Maven javax dependency exclusion doesn&#39;t work","body":"<p>I'm trying to implement OAuth2 password grant type with feign client. I followed <a href=\"https://piotrminkowski.com/2017/12/01/microservices-security-with-spring-cloud-oauth2/\" rel=\"nofollow noreferrer\">this</a> guide (only the feign client part). I do it in the separate project (let's call it <code>feign</code>) and then use it as dependency in the other <code>project</code> (let's call it like this). The problem is that if I do everything like in the guide, the <code>javax.ws.rs.core.Response</code> class in the project becomes different from what it was, so one method just disappers. My <code>pom.xml</code> of <code>feign</code> if I follow the guide fully (the <a href=\"https://github.com/piomin/sample-spring-oauth2-microservices/tree/with_database\" rel=\"nofollow noreferrer\">source code of the guide</a>)</p>\n<pre><code>    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;Edgware.RELEASE&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-feign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>I don't need to write versions here because they're in the pom dependency. But after I do that, the <code>project</code> starts seeing other <code>javax.ws.rs.core.Response</code> than it was before, I switched branches and compared these two classes, they're in fact different, the only difference I touched is that added <code>feign</code> as dependency in <code>project</code>. So I tried to exclude <code>dependencyManagement</code> and added latest versions manually in the <code>feign</code>:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt;\n            &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-feign&lt;/artifactId&gt;\n            &lt;version&gt;1.4.7.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\n            &lt;version&gt;1.4.7.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>It didn't help, <code>javax.ws.rs.core.Response</code> changed again (the method <code>readEntity</code> disappears). I assume it's used in one of the dependencies in the <code>feign</code> so I tried to exclude it in the <code>project</code> manually:</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;artifact&gt;feign-client&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;javax/ws/rs/core/**&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    ...\n\n    &lt;dependency&gt;\n            &lt;groupId&gt;...&lt;/groupId&gt;\n            &lt;artifactId&gt;feign-client&lt;/artifactId&gt;\n            &lt;version&gt;...&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>But it didn't help too, after <code>mvn clean install</code> it still doesn't see the method <code>readEntity</code>. Can someone look into it, how do I achieve leaving the old version of <code>Response</code> how it was before?</p>\n"},{"tags":["java","android","json","kotlin","retrofit"],"comments":[{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":1,"creation_date":1646815477,"post_id":71406441,"comment_id":126214748,"body_markdown":"Does this answer your question? [How to parse JSON in Java](https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java\">How to parse JSON in Java</a>"},{"owner":{"account_id":14186902,"reputation":229,"user_id":10248593,"display_name":"Jinal Patel"},"score":0,"creation_date":1646815527,"post_id":71406441,"comment_id":126214766,"body_markdown":"var message: String = response?.get(&quot;message&quot;)","body":"var message: String = response?.get(&quot;message&quot;)"}],"answers":[{"tags":[],"owner":{"account_id":6764827,"reputation":61,"user_id":5210138,"display_name":"RAMCODER"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647006282,"creation_date":1647006282,"answer_id":71439486,"question_id":71406441,"body_markdown":"if response as object\r\n\r\n    val jsonObject = JSONTokener(response).nextValue() as JSONObject\r\n    val message = jsonObject.getString(&quot;message&quot;)// Before That check null or \r\n    not\r\n    Log.i(&quot;message: &quot;, message)\r\n\r\nalso refer different response using gson and response model class converter.\r\n\r\n","title":"How to segregate json data in kotlin","body":"<p>if response as object</p>\n<pre><code>val jsonObject = JSONTokener(response).nextValue() as JSONObject\nval message = jsonObject.getString(&quot;message&quot;)// Before That check null or \nnot\nLog.i(&quot;message: &quot;, message)\n</code></pre>\n<p>also refer different response using gson and response model class converter.</p>\n"}],"owner":{"account_id":23984265,"reputation":25,"user_id":17971278,"display_name":"kathir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71439486,"answer_count":1,"score":-1,"last_activity_date":1647006282,"creation_date":1646814969,"question_id":71406441,"body_markdown":"I have getting response following json format. I need to message value only. how to segregate the message value. can you please help me.\r\n\r\n    {status:&quot;1&quot;, message:&quot;cu34343&quot;}","title":"How to segregate json data in kotlin","body":"<p>I have getting response following json format. I need to message value only. how to segregate the message value. can you please help me.</p>\n<pre><code>{status:&quot;1&quot;, message:&quot;cu34343&quot;}\n</code></pre>\n"},{"tags":["java","rsa","wss4j"],"answers":[{"tags":[],"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647006207,"creation_date":1563397337,"answer_id":57084025,"question_id":57082448,"body_markdown":"After a good bit of tracing.. I managed to find it for ya.\r\n\r\nLong story short, you should instead create a `RequestData` object for yourself, like this:\r\n\r\n\r\n    private void inboundWSSConfig(SOAPMessageContext context, Crypto crypto) throws WSSecurityException{\r\n\r\n        log.info(&quot;Inbound Message...&quot;);\r\n\r\n        KeystoreCallbackHandler keystoreCallbackHandler = new KeystoreCallbackHandler();\r\n        keystoreCallbackHandler.addUsers((String)cryptoProperties.get(&quot;org.apache.ws.security.crypto.merlin.keystore.alias&quot;), \r\n        (String)cryptoProperties.get(&quot;org.apache.ws.security.crypto.merlin.keystore.password&quot;));\r\n\r\n        WSSecurityEngine newEngine = new WSSecurityEngine();\r\n        WSSConfig config = WSSConfig.getNewInstance();\r\n        config.setValidator(WSConstants.SIGNATURE, new SignatureTrustValidator());\r\n        newEngine.setWssConfig(config);\r\n\r\n        RequestData data = new RequestData();\r\n        data.setWssConfig(config); // probably\r\n        data.setDecCrypto(crypto);\r\n        data.setSigVerCrypto(crypto);\r\n        data.setCallbackHandler(keystoreCallbackHandler);\r\n        data.setAllowRSA15KeyTransportAlgorithm(true);\r\n\r\n        newEngine.processSecurityHeader(context.getMessage().getSOAPPart(), data);\r\n    }\r\n\r\n---\r\n\r\nHere&#39;s how I discovered this solution by working backward through the stack trace and looking at the source:\r\n\r\nStarting where the exception is thrown\r\n```\r\nat org.apache.wss4j.dom.processor.EncryptedKeyProcessor.handleToken(EncryptedKeyProcessor.java:131)\r\n```\r\n\r\n    public List&lt;WSSecurityEngineResult&gt; handleToken(Element elem, RequestData data, AlgorithmSuite algorithmSuite) {\r\n        // ...\r\n        if (WSConstants.KEYTRANSPORT_RSA15.equals(encryptedKeyTransportMethod)\r\n            &amp;&amp; !data.isAllowRSA15KeyTransportAlgorithm() // &lt;=== because this is false, etc.\r\n            &amp;&amp; (algorithmSuite == null\r\n              || !algorithmSuite.getKeyWrapAlgorithms().contains(WSConstants.KEYTRANSPORT_RSA15))) {\r\n            LOG.debug(\r\n                &quot;The Key transport method does not match the requirement&quot;\r\n            );\r\n            throw new WSSecurityException(WSSecurityException.ErrorCode.INVALID_SECURITY); // &lt;=== this is where you die\r\n        }\r\n        // ...\r\n    }\r\n\r\nIt dies because the `requestData` does not have `allowRSA15KeyTransportAlgorithm` set to true.\r\nBut why is it not set to true? where is request data coming from?\r\n\r\n```\r\nat org.apache.wss4j.dom.processor.EncryptedKeyProcessor.handleToken(EncryptedKeyProcessor.java:90)\r\nat org.apache.wss4j.dom.engine.WSSecurityEngine.processSecurityHeader(WSSecurityEngine.java:340)\r\nat org.apache.wss4j.dom.engine.WSSecurityEngine.processSecurityHeader(WSSecurityEngine.java:221)\r\n```\r\n\r\nAll just pass along the `requestData` created in this method:\r\n\r\n    // line 208\r\n    public WSHandlerResult processSecurityHeader(\r\n        Element securityHeader,\r\n        String actor,\r\n        CallbackHandler cb,\r\n        Crypto sigVerCrypto,\r\n        Crypto decCrypto\r\n    ) throws WSSecurityException {\r\n        RequestData data = new RequestData(); // creates RequestData but doesn&#39;t set `allowRSA15KeyTransportAlgorithm`\r\n        data.setActor(actor);\r\n        data.setWssConfig(getWssConfig());\r\n        data.setDecCrypto(decCrypto);\r\n        data.setSigVerCrypto(sigVerCrypto);\r\n        data.setCallbackHandler(cb);\r\n        return processSecurityHeader(securityHeader, data); // line 221\r\n    }\r\n\r\n\r\nwhich is called by:\r\n\r\n    public WSHandlerResult processSecurityHeader(\r\n        Document doc,\r\n        String actor,\r\n        CallbackHandler cb,\r\n        Crypto crypto\r\n    ) throws WSSecurityException {\r\n        return processSecurityHeader(doc, actor, cb, crypto, crypto);\r\n    }\r\n\r\n\r\nwhich you call in your `inboundWSSConfig` method.\r\n\r\nSo because you are calling   `processSecurityHeader(Document doc, String actor, CallbackHandler cb, Crypto crypto)` it&#39;s initializing a new `RequestData` and setting the `Crypto` and `CallbackHandler` on it but never setting `allowRSA15KeyTransportAlgorithm`.","title":"How can I enable RSA15 transport algorithm in WSS4J 2.2.3?","body":"<p>After a good bit of tracing.. I managed to find it for ya.</p>\n<p>Long story short, you should instead create a <code>RequestData</code> object for yourself, like this:</p>\n<pre><code>private void inboundWSSConfig(SOAPMessageContext context, Crypto crypto) throws WSSecurityException{\n\n    log.info(&quot;Inbound Message...&quot;);\n\n    KeystoreCallbackHandler keystoreCallbackHandler = new KeystoreCallbackHandler();\n    keystoreCallbackHandler.addUsers((String)cryptoProperties.get(&quot;org.apache.ws.security.crypto.merlin.keystore.alias&quot;), \n    (String)cryptoProperties.get(&quot;org.apache.ws.security.crypto.merlin.keystore.password&quot;));\n\n    WSSecurityEngine newEngine = new WSSecurityEngine();\n    WSSConfig config = WSSConfig.getNewInstance();\n    config.setValidator(WSConstants.SIGNATURE, new SignatureTrustValidator());\n    newEngine.setWssConfig(config);\n\n    RequestData data = new RequestData();\n    data.setWssConfig(config); // probably\n    data.setDecCrypto(crypto);\n    data.setSigVerCrypto(crypto);\n    data.setCallbackHandler(keystoreCallbackHandler);\n    data.setAllowRSA15KeyTransportAlgorithm(true);\n\n    newEngine.processSecurityHeader(context.getMessage().getSOAPPart(), data);\n}\n</code></pre>\n<hr />\n<p>Here's how I discovered this solution by working backward through the stack trace and looking at the source:</p>\n<p>Starting where the exception is thrown</p>\n<pre><code>at org.apache.wss4j.dom.processor.EncryptedKeyProcessor.handleToken(EncryptedKeyProcessor.java:131)\n</code></pre>\n<pre><code>public List&lt;WSSecurityEngineResult&gt; handleToken(Element elem, RequestData data, AlgorithmSuite algorithmSuite) {\n    // ...\n    if (WSConstants.KEYTRANSPORT_RSA15.equals(encryptedKeyTransportMethod)\n        &amp;&amp; !data.isAllowRSA15KeyTransportAlgorithm() // &lt;=== because this is false, etc.\n        &amp;&amp; (algorithmSuite == null\n          || !algorithmSuite.getKeyWrapAlgorithms().contains(WSConstants.KEYTRANSPORT_RSA15))) {\n        LOG.debug(\n            &quot;The Key transport method does not match the requirement&quot;\n        );\n        throw new WSSecurityException(WSSecurityException.ErrorCode.INVALID_SECURITY); // &lt;=== this is where you die\n    }\n    // ...\n}\n</code></pre>\n<p>It dies because the <code>requestData</code> does not have <code>allowRSA15KeyTransportAlgorithm</code> set to true.\nBut why is it not set to true? where is request data coming from?</p>\n<pre><code>at org.apache.wss4j.dom.processor.EncryptedKeyProcessor.handleToken(EncryptedKeyProcessor.java:90)\nat org.apache.wss4j.dom.engine.WSSecurityEngine.processSecurityHeader(WSSecurityEngine.java:340)\nat org.apache.wss4j.dom.engine.WSSecurityEngine.processSecurityHeader(WSSecurityEngine.java:221)\n</code></pre>\n<p>All just pass along the <code>requestData</code> created in this method:</p>\n<pre><code>// line 208\npublic WSHandlerResult processSecurityHeader(\n    Element securityHeader,\n    String actor,\n    CallbackHandler cb,\n    Crypto sigVerCrypto,\n    Crypto decCrypto\n) throws WSSecurityException {\n    RequestData data = new RequestData(); // creates RequestData but doesn't set `allowRSA15KeyTransportAlgorithm`\n    data.setActor(actor);\n    data.setWssConfig(getWssConfig());\n    data.setDecCrypto(decCrypto);\n    data.setSigVerCrypto(sigVerCrypto);\n    data.setCallbackHandler(cb);\n    return processSecurityHeader(securityHeader, data); // line 221\n}\n</code></pre>\n<p>which is called by:</p>\n<pre><code>public WSHandlerResult processSecurityHeader(\n    Document doc,\n    String actor,\n    CallbackHandler cb,\n    Crypto crypto\n) throws WSSecurityException {\n    return processSecurityHeader(doc, actor, cb, crypto, crypto);\n}\n</code></pre>\n<p>which you call in your <code>inboundWSSConfig</code> method.</p>\n<p>So because you are calling   <code>processSecurityHeader(Document doc, String actor, CallbackHandler cb, Crypto crypto)</code> it's initializing a new <code>RequestData</code> and setting the <code>Crypto</code> and <code>CallbackHandler</code> on it but never setting <code>allowRSA15KeyTransportAlgorithm</code>.</p>\n"}],"owner":{"account_id":2098844,"reputation":45,"user_id":1867012,"display_name":"user1867012"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57084025,"answer_count":1,"score":1,"last_activity_date":1647006207,"creation_date":1563389393,"question_id":57082448,"body_markdown":"I&#39;m upgrading a SOAP web service client to JDK 11 and WSS4J 2.2.3 (w/o CXF/Spring).  The java code uses the &#39;stand-alone&#39; approach to handle encryption and fails to decrypt the incoming response because it is encrypted using RSA15. The algorithm was disabled by default as of release 2.0.0 but the migration guide suggests that it is possible to enable the algorithm by setting the WSHandlerConstants.ALLOW_RSA15_KEY_TRANSPORT_ALGORITHM property to &quot;true&quot;.  How can I do this??\r\n\r\nI&#39;ve looked at the WSS4J code and can see that the RequestData object is instantiated from WSSecurityEngine class in the WSS4J framework and I don&#39;t see a hook that would allow me to set the allowRSA15KeyTransportAlgorithm property to &#39;true&#39;.  I&#39;ve been able to put a break-point in eclipse and change the value to ensure it works as expected and it does.  I&#39;ve searched the web and the closest thing I found was a similar question with no apparent answer here https://stackoverflow.com/questions/32590707/allow-the-rsa-v1-5-key-transport-algorithm-for-wildfly-jbossws-cxf-wss4j-s.  I&#39;ve tried to revert WSS4J back to version 1.6 which allows the algorithm but then it failed with a different error &quot;WRONG_DOCUMENT_ERR: A node is used in a different document than the one that created it&quot;.  This seems to occur when using WSS4J 1.6 with any version of jaxws (external to JDK).  The only way I can think to solve this is by hacking into the WSS4J 2.2.3 dependency and setting the property default to &quot;true&quot; in the RequestData class but I really don&#39;t want to do that.\r\n\r\n\tprivate void inboundWSSConfig(SOAPMessageContext context, Crypto crypto) throws WSSecurityException{\r\n\t\r\n\t\tlog.info(&quot;Inbound Message...&quot;);\r\n\t\t\r\n\t\tKeystoreCallbackHandler keystoreCallbackHandler = new KeystoreCallbackHandler();\r\n\t\tkeystoreCallbackHandler.addUsers((String)cryptoProperties.get(&quot;org.apache.ws.security.crypto.merlin.keystore.alias&quot;), (String)cryptoProperties.get(&quot;org.apache.ws.security.crypto.merlin.keystore.password&quot;));\r\n\t\t\t\r\n\t\tWSSecurityEngine newEngine = new WSSecurityEngine();\r\n\t\tWSSConfig config = WSSConfig.getNewInstance();\r\n\t\tconfig.setValidator(WSConstants.SIGNATURE, new SignatureTrustValidator());\r\n\t\tnewEngine.setWssConfig(config);\r\n\r\n\t\tnewEngine.processSecurityHeader(context.getMessage().getSOAPPart(), null, keystoreCallbackHandler, crypto);\r\n\t}\r\n\r\nerror message returned is...\r\n\r\n    Jul 17, 2019 11:42:56 AM ensurebill.client.handler.HeaderHandler inboundWSSConfig\r\n    INFO: Inbound Message...\r\n    Jul 17, 2019 11:42:56 AM ensurebill.client.handler.HeaderHandler handleMessage\r\n    SEVERE: ERROR in handleMessage\r\n    org.apache.wss4j.common.ext.WSSecurityException: An error was discovered processing the &lt;wsse:Security&gt; header\r\n    \tat org.apache.wss4j.dom.processor.EncryptedKeyProcessor.handleToken(EncryptedKeyProcessor.java:131)\r\n    \tat org.apache.wss4j.dom.processor.EncryptedKeyProcessor.handleToken(EncryptedKeyProcessor.java:90)\r\n    \tat org.apache.wss4j.dom.engine.WSSecurityEngine.processSecurityHeader(WSSecurityEngine.java:340)\r\n    \tat org.apache.wss4j.dom.engine.WSSecurityEngine.processSecurityHeader(WSSecurityEngine.java:221)\r\n    \tat org.apache.wss4j.dom.engine.WSSecurityEngine.processSecurityHeader(WSSecurityEngine.java:168)\r\n    \tat org.apache.wss4j.dom.engine.WSSecurityEngine.processSecurityHeader(WSSecurityEngine.java:127)\r\n    \tat ensurebill.client.handler.HeaderHandler.inboundWSSConfig(HeaderHandler.java:160)\r\n    \tat ensurebill.client.handler.HeaderHandler.handleMessage(HeaderHandler.java:61)\r\n    \tat ensurebill.client.handler.HeaderHandler.handleMessage(HeaderHandler.java:1)\r\n    \tat com.sun.xml.ws.handler.HandlerProcessor.callHandleMessageReverse(HandlerProcessor.java:311)\r\n    \tat com.sun.xml.ws.handler.HandlerProcessor.callHandlersResponse(HandlerProcessor.java:184)\r\n    \tat com.sun.xml.ws.handler.ClientSOAPHandlerTube.callHandlersOnResponse(ClientSOAPHandlerTube.java:133)\r\n    \tat com.sun.xml.ws.handler.HandlerTube.processResponse(HandlerTube.java:144)\r\n    \tat com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:1117)\r\n    \tat com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:1020)\r\n    \tat com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:989)\r\n    \tat com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:847)\r\n    \tat com.sun.xml.ws.client.Stub.process(Stub.java:433)\r\n    \tat com.sun.xml.ws.client.sei.SEIStub.doProcess(SEIStub.java:161)\r\n    \tat com.sun.xml.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:78)\r\n    \tat com.sun.xml.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:62)\r\n    \tat com.sun.xml.ws.client.sei.SEIStub.invoke(SEIStub.java:131)\r\n    \tat com.sun.proxy.$Proxy33.callNotificationInquiry(Unknown Source)\r\n    \tat ensurebill.client.swing.MenuItemListener.sendRequest(MenuItemListener.java:109)\r\n    \tat ensurebill.client.swing.MenuItemListener.actionPerformed(MenuItemListener.java:92)\r\n    \tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1967)\r\n    \tat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2308)\r\n    \tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n    \tat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n    \tat java.desktop/javax.swing.AbstractButton.doClick(AbstractButton.java:369)\r\n    \tat java.desktop/javax.swing.plaf.basic.BasicMenuItemUI.doClick(BasicMenuItemUI.java:1020)\r\n    \tat java.desktop/javax.swing.plaf.basic.BasicMenuItemUI$Handler.mouseReleased(BasicMenuItemUI.java:1064)\r\n    \tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6632)\r\n    \tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3342)\r\n    \tat java.desktop/java.awt.Component.processEvent(Component.java:6397)\r\n    \tat java.desktop/java.awt.Container.processEvent(Container.java:2263)\r\n    \tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5008)\r\n    \tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2321)\r\n    \tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4840)\r\n    \tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4918)\r\n    \tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4547)\r\n    \tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4488)\r\n    \tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2307)\r\n    \tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2772)\r\n    \tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4840)\r\n    \tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\r\n    \tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\r\n    \tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n    \tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\r\n    \tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\r\n    \tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n    \tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n    \tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)","title":"How can I enable RSA15 transport algorithm in WSS4J 2.2.3?","body":"<p>I'm upgrading a SOAP web service client to JDK 11 and WSS4J 2.2.3 (w/o CXF/Spring).  The java code uses the 'stand-alone' approach to handle encryption and fails to decrypt the incoming response because it is encrypted using RSA15. The algorithm was disabled by default as of release 2.0.0 but the migration guide suggests that it is possible to enable the algorithm by setting the WSHandlerConstants.ALLOW_RSA15_KEY_TRANSPORT_ALGORITHM property to \"true\".  How can I do this??</p>\n\n<p>I've looked at the WSS4J code and can see that the RequestData object is instantiated from WSSecurityEngine class in the WSS4J framework and I don't see a hook that would allow me to set the allowRSA15KeyTransportAlgorithm property to 'true'.  I've been able to put a break-point in eclipse and change the value to ensure it works as expected and it does.  I've searched the web and the closest thing I found was a similar question with no apparent answer here <a href=\"https://stackoverflow.com/questions/32590707/allow-the-rsa-v1-5-key-transport-algorithm-for-wildfly-jbossws-cxf-wss4j-s\">Allow the RSA v1.5 Key Transport Algorithm for WildFly / JBossWS / CXF / WSS4J stack</a>.  I've tried to revert WSS4J back to version 1.6 which allows the algorithm but then it failed with a different error \"WRONG_DOCUMENT_ERR: A node is used in a different document than the one that created it\".  This seems to occur when using WSS4J 1.6 with any version of jaxws (external to JDK).  The only way I can think to solve this is by hacking into the WSS4J 2.2.3 dependency and setting the property default to \"true\" in the RequestData class but I really don't want to do that.</p>\n\n<pre><code>private void inboundWSSConfig(SOAPMessageContext context, Crypto crypto) throws WSSecurityException{\n\n    log.info(\"Inbound Message...\");\n\n    KeystoreCallbackHandler keystoreCallbackHandler = new KeystoreCallbackHandler();\n    keystoreCallbackHandler.addUsers((String)cryptoProperties.get(\"org.apache.ws.security.crypto.merlin.keystore.alias\"), (String)cryptoProperties.get(\"org.apache.ws.security.crypto.merlin.keystore.password\"));\n\n    WSSecurityEngine newEngine = new WSSecurityEngine();\n    WSSConfig config = WSSConfig.getNewInstance();\n    config.setValidator(WSConstants.SIGNATURE, new SignatureTrustValidator());\n    newEngine.setWssConfig(config);\n\n    newEngine.processSecurityHeader(context.getMessage().getSOAPPart(), null, keystoreCallbackHandler, crypto);\n}\n</code></pre>\n\n<p>error message returned is...</p>\n\n<pre><code>Jul 17, 2019 11:42:56 AM ensurebill.client.handler.HeaderHandler inboundWSSConfig\nINFO: Inbound Message...\nJul 17, 2019 11:42:56 AM ensurebill.client.handler.HeaderHandler handleMessage\nSEVERE: ERROR in handleMessage\norg.apache.wss4j.common.ext.WSSecurityException: An error was discovered processing the &lt;wsse:Security&gt; header\n    at org.apache.wss4j.dom.processor.EncryptedKeyProcessor.handleToken(EncryptedKeyProcessor.java:131)\n    at org.apache.wss4j.dom.processor.EncryptedKeyProcessor.handleToken(EncryptedKeyProcessor.java:90)\n    at org.apache.wss4j.dom.engine.WSSecurityEngine.processSecurityHeader(WSSecurityEngine.java:340)\n    at org.apache.wss4j.dom.engine.WSSecurityEngine.processSecurityHeader(WSSecurityEngine.java:221)\n    at org.apache.wss4j.dom.engine.WSSecurityEngine.processSecurityHeader(WSSecurityEngine.java:168)\n    at org.apache.wss4j.dom.engine.WSSecurityEngine.processSecurityHeader(WSSecurityEngine.java:127)\n    at ensurebill.client.handler.HeaderHandler.inboundWSSConfig(HeaderHandler.java:160)\n    at ensurebill.client.handler.HeaderHandler.handleMessage(HeaderHandler.java:61)\n    at ensurebill.client.handler.HeaderHandler.handleMessage(HeaderHandler.java:1)\n    at com.sun.xml.ws.handler.HandlerProcessor.callHandleMessageReverse(HandlerProcessor.java:311)\n    at com.sun.xml.ws.handler.HandlerProcessor.callHandlersResponse(HandlerProcessor.java:184)\n    at com.sun.xml.ws.handler.ClientSOAPHandlerTube.callHandlersOnResponse(ClientSOAPHandlerTube.java:133)\n    at com.sun.xml.ws.handler.HandlerTube.processResponse(HandlerTube.java:144)\n    at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:1117)\n    at com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:1020)\n    at com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:989)\n    at com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:847)\n    at com.sun.xml.ws.client.Stub.process(Stub.java:433)\n    at com.sun.xml.ws.client.sei.SEIStub.doProcess(SEIStub.java:161)\n    at com.sun.xml.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:78)\n    at com.sun.xml.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:62)\n    at com.sun.xml.ws.client.sei.SEIStub.invoke(SEIStub.java:131)\n    at com.sun.proxy.$Proxy33.callNotificationInquiry(Unknown Source)\n    at ensurebill.client.swing.MenuItemListener.sendRequest(MenuItemListener.java:109)\n    at ensurebill.client.swing.MenuItemListener.actionPerformed(MenuItemListener.java:92)\n    at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1967)\n    at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2308)\n    at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\n    at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\n    at java.desktop/javax.swing.AbstractButton.doClick(AbstractButton.java:369)\n    at java.desktop/javax.swing.plaf.basic.BasicMenuItemUI.doClick(BasicMenuItemUI.java:1020)\n    at java.desktop/javax.swing.plaf.basic.BasicMenuItemUI$Handler.mouseReleased(BasicMenuItemUI.java:1064)\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6632)\n    at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3342)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6397)\n    at java.desktop/java.awt.Container.processEvent(Container.java:2263)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5008)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2321)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4840)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4918)\n    at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4547)\n    at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4488)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2307)\n    at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2772)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4840)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n"},{"tags":["java","html","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647005944,"creation_date":1647005944,"answer_id":71439414,"question_id":71438885,"body_markdown":"To print the text _**32942025**_ from the `&lt;td&gt;` you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48376890/7429447):\r\n\t  \r\n- Using _cssSelector_ and `getAttribute(&quot;innerHTML&quot;)`:\r\n\r\n\t  System.out.println(driver.findElement(By.cssSelector(&quot;td.v-grid-cell.numerical&quot;)).getAttribute(&quot;innerHTML&quot;));\r\n\r\n- Using _xpath_ and `getText()`:\r\n\r\n\t  System.out.println(driver.findElement(By.xpath(&quot;//td[@class=&#39;v-grid-cell numerical&#39;]&quot;)).getText());\r\n\r\n\r\n----------\r\n\r\n\r\n\t  \r\nIdeally, to extract the text _**32942025**_, you have to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_visibilityOfElementLocated()_](https://stackoverflow.com/a/49749804/7429447) and you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- Using _cssSelector_ and `getText()`:\r\n\r\n\t  System.out.println(new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;td.v-grid-cell.numerical&quot;))).getText());\r\n           \t\r\n- Using _xpath_ and `getAttribute(&quot;innerHTML&quot;)`:\r\n\r\n\t  System.out.println(new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//td[@class=&#39;v-grid-cell numerical&#39;]&quot;))).getAttribute(&quot;innerHTML&quot;));","title":"Selenium fetching Integer value from a TD","body":"<p>To print the text <em><strong>32942025</strong></em> from the <code>&lt;td&gt;</code> you can use either of the following <a href=\"https://stackoverflow.com/a/48376890/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em> and <code>getAttribute(&quot;innerHTML&quot;)</code>:</p>\n<pre><code>System.out.println(driver.findElement(By.cssSelector(&quot;td.v-grid-cell.numerical&quot;)).getAttribute(&quot;innerHTML&quot;));\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em> and <code>getText()</code>:</p>\n<pre><code>System.out.println(driver.findElement(By.xpath(&quot;//td[@class='v-grid-cell numerical']&quot;)).getText());\n</code></pre>\n</li>\n</ul>\n<hr />\n<p>Ideally, to extract the text <em><strong>32942025</strong></em>, you have to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/49749804/7429447\"><em>visibilityOfElementLocated()</em></a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em> and <code>getText()</code>:</p>\n<pre><code>System.out.println(new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;td.v-grid-cell.numerical&quot;))).getText());\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em> and <code>getAttribute(&quot;innerHTML&quot;)</code>:</p>\n<pre><code>System.out.println(new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//td[@class='v-grid-cell numerical']&quot;))).getAttribute(&quot;innerHTML&quot;));\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":24330076,"reputation":1,"user_id":18269052,"display_name":"Varun Gole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647005944,"creation_date":1647003507,"question_id":71438885,"body_markdown":"```\r\n&lt;td class=&quot;v-grid-cell numerical&quot; style=&quot;height: 22px; width: 94px;&quot; colspan=&quot;1&quot;&gt;32942025&lt;/td&gt;\r\n```\r\n\r\nThis is my html code relevant to the question. I want to fetch that numeric value 32942025 and validate it with the output of a query I have fired.\r\n\r\nI have been using `getText()` to extract this value but the `getText()` is not returning anything.\r\n \r\nCan anyone please provide me a solution to this?\r\n\r\nNote that this integer value is not inside an input field but it is displayed in a td class\r\n\r\n\r\n\r\n","title":"Selenium fetching Integer value from a TD","body":"<pre><code>&lt;td class=&quot;v-grid-cell numerical&quot; style=&quot;height: 22px; width: 94px;&quot; colspan=&quot;1&quot;&gt;32942025&lt;/td&gt;\n</code></pre>\n<p>This is my html code relevant to the question. I want to fetch that numeric value 32942025 and validate it with the output of a query I have fired.</p>\n<p>I have been using <code>getText()</code> to extract this value but the <code>getText()</code> is not returning anything.</p>\n<p>Can anyone please provide me a solution to this?</p>\n<p>Note that this integer value is not inside an input field but it is displayed in a td class</p>\n"},{"tags":["java","unit-testing","testing","junit","mockito"],"comments":[{"owner":{"account_id":16275872,"reputation":90,"user_id":11753047,"display_name":"Landry Toutou"},"score":0,"creation_date":1647000463,"post_id":71437776,"comment_id":126268512,"body_markdown":"In my opinion, the private methods are before all the details of the implementation.\n\nYou should test your two methods","body":"In my opinion, the private methods are before all the details of the implementation.  You should test your two methods"},{"owner":{"display_name":"user18085807"},"score":0,"creation_date":1647002832,"post_id":71437776,"comment_id":126269377,"body_markdown":"Do you mean that I can repeat the same test cases belonging to the same private method in create and update methods even if it seems to be redundant??? Any idea?","body":"Do you mean that I can repeat the same test cases belonging to the same private method in create and update methods even if it seems to be redundant??? Any idea?"}],"owner":{"display_name":"user18085807"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647005575,"creation_date":1646997879,"question_id":71437776,"body_markdown":"I have a private service method that is called from create and update methods in the same service. Normally we do not write Unit Test directly for the private method and I write the case in the method that calls this service method. \r\n\r\nAt this stage, I am confused that; I write all the test cases for the private method in the tests for create method. \r\n\r\n**1.** In this scene, should I omit the same case for the private method when I write test method for the update method? Because in this case it seems to be writing redundant tests for the same case (calling it from create + calling it again from update method). \r\n\r\n**2.** On the other hand, I am also thinking of that if I remove create or update method in the future, then calculate method tests will be removed. In this case, it may be better to write test cases related to calculate method in both of create and update methods.\r\n\r\nAny idea regarding to this issue? \r\n\r\n\r\nHere is a sample code if you need to explain something based on this scenario:\r\n\r\n```\r\npublic void create(EmployeeRequest request) {\r\n    // code omitted\r\n\r\n    calculate();\r\n}\r\n\r\n\r\npublic void update(UUID uuid, EmployeeRequest request) {\r\n    // code omitted\r\n\r\n    calculate();\r\n}\r\n```\r\n\r\n```\r\nprivate void calculate() {    \r\n    // code omitted\r\n}\r\n```\r\n","title":"Testing the same cases in a method called from different method in a Unit Test?","body":"<p>I have a private service method that is called from create and update methods in the same service. Normally we do not write Unit Test directly for the private method and I write the case in the method that calls this service method.</p>\n<p>At this stage, I am confused that; I write all the test cases for the private method in the tests for create method.</p>\n<p><strong>1.</strong> In this scene, should I omit the same case for the private method when I write test method for the update method? Because in this case it seems to be writing redundant tests for the same case (calling it from create + calling it again from update method).</p>\n<p><strong>2.</strong> On the other hand, I am also thinking of that if I remove create or update method in the future, then calculate method tests will be removed. In this case, it may be better to write test cases related to calculate method in both of create and update methods.</p>\n<p>Any idea regarding to this issue?</p>\n<p>Here is a sample code if you need to explain something based on this scenario:</p>\n<pre><code>public void create(EmployeeRequest request) {\n    // code omitted\n\n    calculate();\n}\n\n\npublic void update(UUID uuid, EmployeeRequest request) {\n    // code omitted\n\n    calculate();\n}\n</code></pre>\n<pre><code>private void calculate() {    \n    // code omitted\n}\n</code></pre>\n"},{"tags":["java","gyroscope","wpilib"],"answers":[{"tags":[],"owner":{"account_id":11213721,"reputation":197,"user_id":8227047,"display_name":"Wowkster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647005062,"creation_date":1647005062,"answer_id":71439218,"question_id":71258187,"body_markdown":"Hopefully you&#39;ve figured this out by now, but it was a bug in the 2022 RoboRIO image:\r\n\r\nhttps://docs.wpilib.org/en/stable/docs/yearly-overview/known-issues.html#analog-devices-gyros-don-t-work-properly","title":"ADXRS450 Gyro not reading","body":"<p>Hopefully you've figured this out by now, but it was a bug in the 2022 RoboRIO image:</p>\n<p><a href=\"https://docs.wpilib.org/en/stable/docs/yearly-overview/known-issues.html#analog-devices-gyros-don-t-work-properly\" rel=\"nofollow noreferrer\">https://docs.wpilib.org/en/stable/docs/yearly-overview/known-issues.html#analog-devices-gyros-don-t-work-properly</a></p>\n"}],"owner":{"account_id":23951166,"reputation":23,"user_id":17942727,"display_name":"FrederickAmpsUp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71439218,"answer_count":1,"score":1,"last_activity_date":1647005062,"creation_date":1645736331,"question_id":71258187,"body_markdown":"I have a roborio 1, with an `ADXRS450` gyro plugged in to the SPI port. I have tried to access it with the following code:\r\n```java\r\n...\r\n\r\nprivate ADXRS450_Gyro compass = new ADXRS450_Gyro(SPI.Port.kOnboardCS0);\r\n\r\n...\r\n\r\ncompass.calibrate();\r\n\r\n...\r\n\r\nif(compass.getAngle() &lt; 180)\r\n  m_robotDrive.arcadeDrive(0, 0.5);\r\nelse\r\n  m_robotDrive.arcadeDrive(0, 0);\r\n\r\n...\r\n\r\nEOF\r\n```\r\nHowever, the gyro always reads 0. Is this a software or hardware error, and how can I fix it?","title":"ADXRS450 Gyro not reading","body":"<p>I have a roborio 1, with an <code>ADXRS450</code> gyro plugged in to the SPI port. I have tried to access it with the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n\nprivate ADXRS450_Gyro compass = new ADXRS450_Gyro(SPI.Port.kOnboardCS0);\n\n...\n\ncompass.calibrate();\n\n...\n\nif(compass.getAngle() &lt; 180)\n  m_robotDrive.arcadeDrive(0, 0.5);\nelse\n  m_robotDrive.arcadeDrive(0, 0);\n\n...\n\nEOF\n</code></pre>\n<p>However, the gyro always reads 0. Is this a software or hardware error, and how can I fix it?</p>\n"},{"tags":["java","servlets","google-cloud-storage"],"answers":[{"tags":[],"owner":{"account_id":160587,"reputation":47975,"user_id":380757,"accept_rate":86,"display_name":"Tuxdude"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1499813452,"creation_date":1499789473,"answer_id":45039697,"question_id":45037540,"body_markdown":"Just to clarify, do you need an `OutputStream` or an `InputStream` ? One way to look at this is that the data stored in Google Cloud Storage object as a file and you having an InputStream to read that file. If that works, read on. \r\n\r\nThere is no existing method in Storage API which provides an `InputStream` or an `OutputStream`. But the there are [2 APIs in the Cloud Storage client library][1] which expose a `ReadChannel` object which is extended from `ReadableByteChannel` (from java NIO API).\r\n\r\n    ReadChannel reader(String bucket, String blob, BlobSourceOption... options);\r\n    ReadChannel reader(BlobId blob, BlobSourceOption... options);\r\n\r\nA simple example using this (taken from [StorageSnippets.java][2]):\r\n\r\n    /**\r\n       * Example of reading a blob&#39;s content through a reader.\r\n       */\r\n      // [TARGET reader(String, String, BlobSourceOption...)]\r\n      // [VARIABLE &quot;my_unique_bucket&quot;]\r\n      // [VARIABLE &quot;my_blob_name&quot;]\r\n      public void readerFromStrings(String bucketName, String blobName) throws IOException {\r\n        // [START readerFromStrings]\r\n        try (ReadChannel reader = storage.reader(bucketName, blobName)) {\r\n          ByteBuffer bytes = ByteBuffer.allocate(64 * 1024);\r\n          while (reader.read(bytes) &gt; 0) {\r\n            bytes.flip();\r\n            // do something with bytes\r\n            bytes.clear();\r\n          }\r\n        }\r\n        // [END readerFromStrings]\r\n      }\r\n\r\nYou can also use the [`newInputStream()`][3] method to wrap an `InputStream` over the `ReadableByteChannel`.\r\n\r\n[`public static InputStream newInputStream(ReadableByteChannel ch)`][3]\r\n\r\nEven if you need an `OutputStream`, you should be able to copy data from the `InputStream` or better from the `ReadChannel` object into the `OutputStream`.\r\n\r\n## Complete example\r\n\r\nRun this example as: `PROGRAM_NAME &lt;BUCKET_NAME&gt; &lt;BLOB_PATH&gt;`\r\n\r\n    import java.io.IOException;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.channels.Channels;\r\n    import java.nio.channels.WritableByteChannel;\r\n    \r\n    import com.google.cloud.ReadChannel;\r\n    import com.google.cloud.storage.Bucket;\r\n    import com.google.cloud.storage.BucketInfo;\r\n    import com.google.cloud.storage.Storage;\r\n    import com.google.cloud.storage.StorageOptions;\r\n    \r\n    /**\r\n     * An example which reads the contents of the specified object/blob from GCS\r\n     * and prints the contents to STDOUT.\r\n     *\r\n     * Run it as PROGRAM_NAME &lt;BUCKET_NAME&gt; &lt;BLOB_PATH&gt;\r\n     */\r\n    public class ReadObjectSample {\r\n      private static final int BUFFER_SIZE = 64 * 1024;\r\n    \r\n      public static void main(String[] args) throws IOException {\r\n        // Instantiates a Storage client\r\n        Storage storage = StorageOptions.getDefaultInstance().getService();\r\n    \r\n        // The name for the GCS bucket\r\n        String bucketName = args[0];\r\n        // The path of the blob (i.e. GCS object) within the GCS bucket.\r\n        String blobPath = args[1];\r\n    \r\n        printBlob(storage, bucketName, blobPath);\r\n      }\r\n    \r\n      // Reads from the specified blob present in the GCS bucket and prints the contents to STDOUT.\r\n      private static void printBlob(Storage storage, String bucketName, String blobPath) throws IOException {\r\n        try (ReadChannel reader = storage.reader(bucketName, blobPath)) {\r\n          WritableByteChannel outChannel = Channels.newChannel(System.out);\r\n          ByteBuffer bytes = ByteBuffer.allocate(BUFFER_SIZE);\r\n          while (reader.read(bytes) &gt; 0) {\r\n            bytes.flip();\r\n            outChannel.write(bytes);\r\n            bytes.clear();\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  [1]: http://googlecloudplatform.github.io/google-cloud-java/0.20.1/apidocs/?com/google/cloud/storage/Storage.html\r\n  [2]: https://github.com/GoogleCloudPlatform/google-cloud-java/blob/master/google-cloud-examples/src/main/java/com/google/cloud/examples/storage/snippets/StorageSnippets.java\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/nio/channels/Channels.html#newInputStream(java.nio.channels.ReadableByteChannel)","title":"Stream file from Google Cloud Storage","body":"<p>Just to clarify, do you need an <code>OutputStream</code> or an <code>InputStream</code> ? One way to look at this is that the data stored in Google Cloud Storage object as a file and you having an InputStream to read that file. If that works, read on. </p>\n\n<p>There is no existing method in Storage API which provides an <code>InputStream</code> or an <code>OutputStream</code>. But the there are <a href=\"http://googlecloudplatform.github.io/google-cloud-java/0.20.1/apidocs/?com/google/cloud/storage/Storage.html\" rel=\"noreferrer\">2 APIs in the Cloud Storage client library</a> which expose a <code>ReadChannel</code> object which is extended from <code>ReadableByteChannel</code> (from java NIO API).</p>\n\n<pre><code>ReadChannel reader(String bucket, String blob, BlobSourceOption... options);\nReadChannel reader(BlobId blob, BlobSourceOption... options);\n</code></pre>\n\n<p>A simple example using this (taken from <a href=\"https://github.com/GoogleCloudPlatform/google-cloud-java/blob/master/google-cloud-examples/src/main/java/com/google/cloud/examples/storage/snippets/StorageSnippets.java\" rel=\"noreferrer\">StorageSnippets.java</a>):</p>\n\n<pre><code>/**\n   * Example of reading a blob's content through a reader.\n   */\n  // [TARGET reader(String, String, BlobSourceOption...)]\n  // [VARIABLE \"my_unique_bucket\"]\n  // [VARIABLE \"my_blob_name\"]\n  public void readerFromStrings(String bucketName, String blobName) throws IOException {\n    // [START readerFromStrings]\n    try (ReadChannel reader = storage.reader(bucketName, blobName)) {\n      ByteBuffer bytes = ByteBuffer.allocate(64 * 1024);\n      while (reader.read(bytes) &gt; 0) {\n        bytes.flip();\n        // do something with bytes\n        bytes.clear();\n      }\n    }\n    // [END readerFromStrings]\n  }\n</code></pre>\n\n<p>You can also use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/channels/Channels.html#newInputStream(java.nio.channels.ReadableByteChannel)\" rel=\"noreferrer\"><code>newInputStream()</code></a> method to wrap an <code>InputStream</code> over the <code>ReadableByteChannel</code>.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/channels/Channels.html#newInputStream(java.nio.channels.ReadableByteChannel)\" rel=\"noreferrer\"><code>public static InputStream newInputStream(ReadableByteChannel ch)</code></a></p>\n\n<p>Even if you need an <code>OutputStream</code>, you should be able to copy data from the <code>InputStream</code> or better from the <code>ReadChannel</code> object into the <code>OutputStream</code>.</p>\n\n<h2>Complete example</h2>\n\n<p>Run this example as: <code>PROGRAM_NAME &lt;BUCKET_NAME&gt; &lt;BLOB_PATH&gt;</code></p>\n\n<pre><code>import java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.Channels;\nimport java.nio.channels.WritableByteChannel;\n\nimport com.google.cloud.ReadChannel;\nimport com.google.cloud.storage.Bucket;\nimport com.google.cloud.storage.BucketInfo;\nimport com.google.cloud.storage.Storage;\nimport com.google.cloud.storage.StorageOptions;\n\n/**\n * An example which reads the contents of the specified object/blob from GCS\n * and prints the contents to STDOUT.\n *\n * Run it as PROGRAM_NAME &lt;BUCKET_NAME&gt; &lt;BLOB_PATH&gt;\n */\npublic class ReadObjectSample {\n  private static final int BUFFER_SIZE = 64 * 1024;\n\n  public static void main(String[] args) throws IOException {\n    // Instantiates a Storage client\n    Storage storage = StorageOptions.getDefaultInstance().getService();\n\n    // The name for the GCS bucket\n    String bucketName = args[0];\n    // The path of the blob (i.e. GCS object) within the GCS bucket.\n    String blobPath = args[1];\n\n    printBlob(storage, bucketName, blobPath);\n  }\n\n  // Reads from the specified blob present in the GCS bucket and prints the contents to STDOUT.\n  private static void printBlob(Storage storage, String bucketName, String blobPath) throws IOException {\n    try (ReadChannel reader = storage.reader(bucketName, blobPath)) {\n      WritableByteChannel outChannel = Channels.newChannel(System.out);\n      ByteBuffer bytes = ByteBuffer.allocate(BUFFER_SIZE);\n      while (reader.read(bytes) &gt; 0) {\n        bytes.flip();\n        outChannel.write(bytes);\n        bytes.clear();\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":317530,"reputation":2420,"user_id":634265,"display_name":"Tobias"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1529739695,"creation_date":1529739695,"answer_id":50999067,"question_id":45037540,"body_markdown":"Currently the cleanest option I could find looks like this:\r\n\r\n    Blob blob = bucket.get(&quot;some-file&quot;);\r\n    ReadChannel reader = blob.reader();\r\n    InputStream inputStream = Channels.newInputStream(reader);\r\n\r\nThe Channels is from java.nio. Furthermore you can then use commons io to easily read to InputStream into an OutputStream:\r\n\r\n    IOUtils.copy(inputStream, outputStream);","title":"Stream file from Google Cloud Storage","body":"<p>Currently the cleanest option I could find looks like this:</p>\n\n<pre><code>Blob blob = bucket.get(\"some-file\");\nReadChannel reader = blob.reader();\nInputStream inputStream = Channels.newInputStream(reader);\n</code></pre>\n\n<p>The Channels is from java.nio. Furthermore you can then use commons io to easily read to InputStream into an OutputStream:</p>\n\n<pre><code>IOUtils.copy(inputStream, outputStream);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4458093,"reputation":8404,"user_id":3627736,"accept_rate":79,"display_name":"Yuliia Ashomok"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1534721819,"creation_date":1534721447,"answer_id":51922615,"question_id":45037540,"body_markdown":"Code, based on @Tuxdude answer\r\n\r\n   \r\n\r\n     @Nullable\r\n        public byte[] getFileBytes(String gcsUri) throws IOException {\r\n    \r\n            Blob blob = getBlob(gcsUri);\r\n            ReadChannel reader;\r\n            byte[] result = null;\r\n            if (blob != null) {\r\n                reader = blob.reader();\r\n                InputStream inputStream = Channels.newInputStream(reader);\r\n               result = IOUtils.toByteArray(inputStream);\r\n            }\r\n            return result;\r\n        }\r\n   \r\nor\r\n \r\n\r\n    //this will work only with files 64 * 1024 bytes on smaller\r\n     @Nullable\r\n        public byte[] getFileBytes(String gcsUri) throws IOException {\r\n            Blob blob = getBlob(gcsUri);\r\n    \r\n            ReadChannel reader;\r\n            byte[] result = null;\r\n            if (blob != null) {\r\n                reader = blob.reader();\r\n                ByteBuffer bytes = ByteBuffer.allocate(64 * 1024);\r\n    \r\n                while (reader.read(bytes) &gt; 0) {\r\n                    bytes.flip();\r\n                    result = bytes.array();\r\n                    bytes.clear();\r\n                }\r\n            }\r\n            return result; \r\n        }\r\n\r\nhelper code:\r\n\r\n \r\n\r\n       @Nullable\r\n        Blob getBlob(String gcsUri) {\r\n            //gcsUri is &quot;gs://&quot; + blob.getBucket() + &quot;/&quot; + blob.getName(),\r\n            //example &quot;gs://myapp.appspot.com/ocr_request_images/000c121b-357d-4ac0-a3f2-24e0f6d5cea185dffb40eee-850fab211438.jpg&quot;\r\n    \r\n            String bucketName = parseGcsUriForBucketName(gcsUri);\r\n            String fileName = parseGcsUriForFilename(gcsUri);\r\n    \r\n            if (bucketName != null &amp;&amp; fileName != null) {\r\n                return storage.get(BlobId.of(bucketName, fileName));\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        @Nullable\r\n        String parseGcsUriForFilename(String gcsUri) {\r\n            String fileName = null;\r\n            String prefix = &quot;gs://&quot;;\r\n            if (gcsUri.startsWith(prefix)) {\r\n                int startIndexForBucket = gcsUri.indexOf(prefix) + prefix.length() + 1;\r\n                int startIndex = gcsUri.indexOf(&quot;/&quot;, startIndexForBucket) + 1;\r\n                fileName = gcsUri.substring(startIndex);\r\n            }\r\n            return fileName;\r\n        }\r\n    \r\n        @Nullable\r\n        String parseGcsUriForBucketName(String gcsUri) {\r\n            String bucketName = null;\r\n            String prefix = &quot;gs://&quot;;\r\n            if (gcsUri.startsWith(prefix)) {\r\n                int startIndex = gcsUri.indexOf(prefix) + prefix.length();\r\n                int endIndex = gcsUri.indexOf(&quot;/&quot;, startIndex);\r\n                bucketName = gcsUri.substring(startIndex, endIndex);\r\n            }\r\n            return bucketName;\r\n        }\r\n\r\n","title":"Stream file from Google Cloud Storage","body":"<p>Code, based on @Tuxdude answer</p>\n\n<pre><code> @Nullable\n    public byte[] getFileBytes(String gcsUri) throws IOException {\n\n        Blob blob = getBlob(gcsUri);\n        ReadChannel reader;\n        byte[] result = null;\n        if (blob != null) {\n            reader = blob.reader();\n            InputStream inputStream = Channels.newInputStream(reader);\n           result = IOUtils.toByteArray(inputStream);\n        }\n        return result;\n    }\n</code></pre>\n\n<p>or</p>\n\n<pre><code>//this will work only with files 64 * 1024 bytes on smaller\n @Nullable\n    public byte[] getFileBytes(String gcsUri) throws IOException {\n        Blob blob = getBlob(gcsUri);\n\n        ReadChannel reader;\n        byte[] result = null;\n        if (blob != null) {\n            reader = blob.reader();\n            ByteBuffer bytes = ByteBuffer.allocate(64 * 1024);\n\n            while (reader.read(bytes) &gt; 0) {\n                bytes.flip();\n                result = bytes.array();\n                bytes.clear();\n            }\n        }\n        return result; \n    }\n</code></pre>\n\n<p>helper code:</p>\n\n<pre><code>   @Nullable\n    Blob getBlob(String gcsUri) {\n        //gcsUri is \"gs://\" + blob.getBucket() + \"/\" + blob.getName(),\n        //example \"gs://myapp.appspot.com/ocr_request_images/000c121b-357d-4ac0-a3f2-24e0f6d5cea185dffb40eee-850fab211438.jpg\"\n\n        String bucketName = parseGcsUriForBucketName(gcsUri);\n        String fileName = parseGcsUriForFilename(gcsUri);\n\n        if (bucketName != null &amp;&amp; fileName != null) {\n            return storage.get(BlobId.of(bucketName, fileName));\n        } else {\n            return null;\n        }\n    }\n\n    @Nullable\n    String parseGcsUriForFilename(String gcsUri) {\n        String fileName = null;\n        String prefix = \"gs://\";\n        if (gcsUri.startsWith(prefix)) {\n            int startIndexForBucket = gcsUri.indexOf(prefix) + prefix.length() + 1;\n            int startIndex = gcsUri.indexOf(\"/\", startIndexForBucket) + 1;\n            fileName = gcsUri.substring(startIndex);\n        }\n        return fileName;\n    }\n\n    @Nullable\n    String parseGcsUriForBucketName(String gcsUri) {\n        String bucketName = null;\n        String prefix = \"gs://\";\n        if (gcsUri.startsWith(prefix)) {\n            int startIndex = gcsUri.indexOf(prefix) + prefix.length();\n            int endIndex = gcsUri.indexOf(\"/\", startIndex);\n            bucketName = gcsUri.substring(startIndex, endIndex);\n        }\n        return bucketName;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8874770,"reputation":301,"user_id":6627351,"display_name":"TubesHerder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552943369,"creation_date":1552943369,"answer_id":55230084,"question_id":45037540,"body_markdown":"Another (convenient) way to stream a file from Google Cloud Storage, with [google-cloud-nio](https://github.com/googleapis/google-cloud-java/tree/v0.30.0/google-cloud-contrib/google-cloud-nio):\r\n\r\n```java\r\nPath path = Paths.get(URI.create(&quot;gs://bucket/file.csv&quot;));\r\nInputStream in = Files.newInputStream(path);\r\n```","title":"Stream file from Google Cloud Storage","body":"<p>Another (convenient) way to stream a file from Google Cloud Storage, with <a href=\"https://github.com/googleapis/google-cloud-java/tree/v0.30.0/google-cloud-contrib/google-cloud-nio\" rel=\"nofollow noreferrer\">google-cloud-nio</a>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Path path = Paths.get(URI.create(\"gs://bucket/file.csv\"));\nInputStream in = Files.newInputStream(path);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130318,"reputation":6472,"user_id":329496,"accept_rate":66,"display_name":"simbo1905"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647004970,"creation_date":1647004970,"answer_id":71439200,"question_id":45037540,"body_markdown":"Folks should be using Java 9 or above by now and so can use InputStream `transferTo` the output stream: \r\n\r\n```java\r\n\r\n    // the resource url is something like gs://youbucket/some/file/path.csv\r\n    public InputStream getUriAsInputStream( Storage storage, String resourceUri) {\r\n        String[] parts = resourceUri.split(&quot;/&quot;);\r\n        BlobId blobId = BlobId.of(parts[2], String.join(&quot;/&quot;, Arrays.copyOfRange(parts, 3, parts.length)));\r\n        Blob blob = storage.get(blobId);\r\n        if (blob == null || !blob.exists()) {\r\n            throw new IllegalArgumentException(&quot;Blob [&quot; + resourceUri + &quot;] does not exist&quot;);\r\n        }\r\n        ReadChannel reader = blob.reader();\r\n        InputStream inputStream = Channels.newInputStream(reader);\r\n        return inputStream;\r\n    }\r\n\r\n// use it with something like: \r\n@Override\r\npublic void write(OutputStream outputStream) throws IOException {\r\n    try {\r\n        LOG.info(path);\r\n        InputStream stream = new ByteArrayInputStream(GoogleJsonKey.JSON_KEY.getBytes(StandardCharsets.UTF_8));\r\n        StorageOptions options = StorageOptions.newBuilder()\r\n                .setProjectId(PROJECT_ID)\r\n                .setCredentials(GoogleCredentials.fromStream(stream)).build();\r\n        Storage storage = options.getService();\r\n        final CountingOutputStream countingOutputStream = new CountingOutputStream(outputStream);\r\n        \r\n        final InputStream in = getUriAsInputStream(storage, &quot;gs://your-bucket/path/to/file.csv&quot;);\r\n        in.transferTo(outputStream)\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    } finally {\r\n        outputStream.close();\r\n        in.close();\r\n    }\r\n}\r\n```","title":"Stream file from Google Cloud Storage","body":"<p>Folks should be using Java 9 or above by now and so can use InputStream <code>transferTo</code> the output stream:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    // the resource url is something like gs://youbucket/some/file/path.csv\n    public InputStream getUriAsInputStream( Storage storage, String resourceUri) {\n        String[] parts = resourceUri.split(&quot;/&quot;);\n        BlobId blobId = BlobId.of(parts[2], String.join(&quot;/&quot;, Arrays.copyOfRange(parts, 3, parts.length)));\n        Blob blob = storage.get(blobId);\n        if (blob == null || !blob.exists()) {\n            throw new IllegalArgumentException(&quot;Blob [&quot; + resourceUri + &quot;] does not exist&quot;);\n        }\n        ReadChannel reader = blob.reader();\n        InputStream inputStream = Channels.newInputStream(reader);\n        return inputStream;\n    }\n\n// use it with something like: \n@Override\npublic void write(OutputStream outputStream) throws IOException {\n    try {\n        LOG.info(path);\n        InputStream stream = new ByteArrayInputStream(GoogleJsonKey.JSON_KEY.getBytes(StandardCharsets.UTF_8));\n        StorageOptions options = StorageOptions.newBuilder()\n                .setProjectId(PROJECT_ID)\n                .setCredentials(GoogleCredentials.fromStream(stream)).build();\n        Storage storage = options.getService();\n        final CountingOutputStream countingOutputStream = new CountingOutputStream(outputStream);\n        \n        final InputStream in = getUriAsInputStream(storage, &quot;gs://your-bucket/path/to/file.csv&quot;);\n        in.transferTo(outputStream)\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        outputStream.close();\n        in.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26065,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":45039697,"answer_count":5,"score":9,"last_activity_date":1647004970,"creation_date":1499783568,"question_id":45037540,"body_markdown":"Here is a code to download File from Google Cloud Storage:\r\n\r\n    @Override\r\n    public void write(OutputStream outputStream) throws IOException {\r\n        try {\r\n            LOG.info(path);\r\n            InputStream stream = new ByteArrayInputStream(GoogleJsonKey.JSON_KEY.getBytes(StandardCharsets.UTF_8));\r\n            StorageOptions options = StorageOptions.newBuilder()\r\n                    .setProjectId(PROJECT_ID)\r\n                    .setCredentials(GoogleCredentials.fromStream(stream)).build();\r\n            Storage storage = options.getService();\r\n            final CountingOutputStream countingOutputStream = new CountingOutputStream(outputStream);\r\n            byte[] read = storage.readAllBytes(BlobId.of(BUCKET, path));\r\n            countingOutputStream.write(read);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            outputStream.close();\r\n        }\r\n    }\r\n\r\nThis works but the problem here is that it has to buffer all the bytes first before it streams back to the client of this method. This is causing a lot of delays especially when the file stored in the GCS is big. \r\n\r\nIs there a way to get the File from GCS and **stream it directly to the OutputStream**, this OutputStream here btw is for a Servlet. ","title":"Stream file from Google Cloud Storage","body":"<p>Here is a code to download File from Google Cloud Storage:</p>\n\n<pre><code>@Override\npublic void write(OutputStream outputStream) throws IOException {\n    try {\n        LOG.info(path);\n        InputStream stream = new ByteArrayInputStream(GoogleJsonKey.JSON_KEY.getBytes(StandardCharsets.UTF_8));\n        StorageOptions options = StorageOptions.newBuilder()\n                .setProjectId(PROJECT_ID)\n                .setCredentials(GoogleCredentials.fromStream(stream)).build();\n        Storage storage = options.getService();\n        final CountingOutputStream countingOutputStream = new CountingOutputStream(outputStream);\n        byte[] read = storage.readAllBytes(BlobId.of(BUCKET, path));\n        countingOutputStream.write(read);\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        outputStream.close();\n    }\n}\n</code></pre>\n\n<p>This works but the problem here is that it has to buffer all the bytes first before it streams back to the client of this method. This is causing a lot of delays especially when the file stored in the GCS is big. </p>\n\n<p>Is there a way to get the File from GCS and <strong>stream it directly to the OutputStream</strong>, this OutputStream here btw is for a Servlet. </p>\n"},{"tags":["java","intellij-idea","compiler-errors","runtime-error"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1647002431,"post_id":71438485,"comment_id":126269238,"body_markdown":"How are you compiling your files when you try with the terminal?","body":"How are you compiling your files when you try with the terminal?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1647002508,"post_id":71438485,"comment_id":126269266,"body_markdown":"Code and error messages are all text. Please post them as well formatted/indented text, instead of screenshots.","body":"Code and error messages are all text. Please post them as well formatted/indented text, instead of screenshots."},{"owner":{"account_id":3092,"reputation":2609,"user_id":4389,"accept_rate":75,"display_name":"Steve Bosman"},"score":0,"creation_date":1647004080,"post_id":71438485,"comment_id":126269794,"body_markdown":"if in IntelliJ you rightclick on the Main file and select &quot;Run &#39;Main&#39;&quot; what happens?","body":"if in IntelliJ you rightclick on the Main file and select &quot;Run &#39;Main&#39;&quot; what happens?"},{"owner":{"account_id":12214903,"reputation":1,"user_id":8915652,"display_name":"Rafael G"},"score":0,"creation_date":1647004485,"post_id":71438485,"comment_id":126269933,"body_markdown":"It runs as expected, since my program is just supposed to run from the terminal. When I run it from the Main File it says: &quot;C:\\Users\\alexg\\IdeaProjects\\MonstersVersusHeroes\\out\\production\\MonstersVersusHeroes mvh.Main\nProgram requires 2 arguments!\nUsage: Main &lt;world&gt; &lt;log&gt; &lt;seed&gt;&quot; Which is what I expect it to do. But when I run it from the terminal even when I don&#39;t pass the required 2 arguments it gives me the same 11 errors.","body":"It runs as expected, since my program is just supposed to run from the terminal. When I run it from the Main File it says: &quot;C:\\Users\\alexg\\IdeaProjects\\MonstersVersusHeroes\\out\\produc&zwnj;&#8203;tion\\MonstersVersusH&zwnj;&#8203;eroes mvh.Main Program requires 2 arguments! Usage: Main &lt;world&gt; &lt;log&gt; &lt;seed&gt;&quot; Which is what I expect it to do. But when I run it from the terminal even when I don&#39;t pass the required 2 arguments it gives me the same 11 errors."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1647679368,"post_id":71438485,"comment_id":126435051,"body_markdown":"I suggest that you read the [java command documentation](https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html) as well as this Web page from Oracle&#39;s Java tutorials: [&quot;Hello World!&quot; for Microsoft Windows](https://docs.oracle.com/javase/tutorial/getStarted/cupojava/win32.html)","body":"I suggest that you read the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html\" rel=\"nofollow noreferrer\">java command documentation</a> as well as this Web page from Oracle&#39;s Java tutorials: <a href=\"https://docs.oracle.com/javase/tutorial/getStarted/cupojava/win32.html\" rel=\"nofollow noreferrer\">&quot;Hello World!&quot; for Microsoft Windows</a>"},{"owner":{"account_id":1581709,"reputation":16841,"user_id":1466970,"accept_rate":73,"display_name":"Richard Chambers"},"score":0,"creation_date":1647918031,"post_id":71438485,"comment_id":126486507,"body_markdown":"Take a look at https://stackoverflow.com/questions/12620369/how-does-java-import-work and also how `classpath` works and jar files work.","body":"Take a look at <a href=\"https://stackoverflow.com/questions/12620369/how-does-java-import-work\" title=\"how does java import work\">stackoverflow.com/questions/12620369/how-does-java-import-wo&zwnj;&#8203;rk</a> and also how <code>classpath</code> works and jar files work."},{"owner":{"account_id":14774504,"reputation":4698,"user_id":10669875,"display_name":"wovano"},"score":0,"creation_date":1647932085,"post_id":71438485,"comment_id":126488904,"body_markdown":"https://stackoverflow.com/questions/17140512/how-to-compile-multiple-java-files-when-there-are-java-files-in-other-packages","body":"<a href=\"https://stackoverflow.com/questions/17140512/how-to-compile-multiple-java-files-when-there-are-java-files-in-other-packages\" title=\"how to compile multiple java files when there are java files in other packages\">stackoverflow.com/questions/17140512/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3092,"reputation":2609,"user_id":4389,"accept_rate":75,"display_name":"Steve Bosman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647004956,"creation_date":1647002430,"answer_id":71438681,"question_id":71438485,"body_markdown":"Multifile projects need compiling first before you run them.\r\n\r\nIn the terminal move up to the src directory and try running with\r\n\r\n    javac mvh/Main.java\r\n    java mvh.Main world.txt log.txt\r\n\r\nAlternatively, let intellij compile it (it probably puts the classes files in a folder called out/production/{your project name}), and run main from there.","title":"Compilation failed - Packages do not exist when they do","body":"<p>Multifile projects need compiling first before you run them.</p>\n<p>In the terminal move up to the src directory and try running with</p>\n<pre><code>javac mvh/Main.java\njava mvh.Main world.txt log.txt\n</code></pre>\n<p>Alternatively, let intellij compile it (it probably puts the classes files in a folder called out/production/{your project name}), and run main from there.</p>\n"}],"owner":{"account_id":12214903,"reputation":1,"user_id":8915652,"display_name":"Rafael G"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1647002467,"answer_count":1,"score":-2,"last_activity_date":1647004956,"creation_date":1647001514,"question_id":71438485,"body_markdown":"I have been trying to find why my program isn&#39;t running from the terminal. But it keeps saying it can&#39;t find the packages/packages do not exist when they do.\r\nHere are some pictures.\r\nHere Is one\r\n[1]\r\nhere is the other one\r\n[2]\r\nHere is the last one\r\n[3]\r\n\r\nThis is the code that I get from the errors:\r\n\r\n    PS C:\\Users\\alexg\\IdeaProjects\\MonstersVersusHeroes\\src&gt; java mvh\\Main.java world.txt log.txt 12345\r\n    mvh\\Main.java:3: error: package mvh.util does not exist\r\n    import mvh.util.Reader;\r\n                   ^\r\n    mvh\\Main.java:4: error: package mvh.world does not exist\r\n    import mvh.world.World;\r\n                    ^\r\n    mvh\\Main.java:126: error: cannot find symbol\r\n        private static void runSimulation(World world) {\r\n                                          ^\r\n      symbol:   class World\r\n      location: class Main\r\n    mvh\\Main.java:46: error: cannot find symbol\r\n            Menu.setup(fileLog);\r\n            ^\r\n      symbol:   variable Menu\r\n      location: class Main\r\n    mvh\\Main.java:47: error: cannot find symbol\r\n            Menu.println(&quot;Arguments: &quot;+ Arrays.toString(args));\r\n            ^\r\n      symbol:   variable Menu\r\n      location: class Main\r\n    mvh\\Main.java:48: error: cannot find symbol\r\n            World world = Reader.loadWorld(fileWorld);\r\n            ^\r\n      symbol:   class World\r\n      location: class Main\r\n    mvh\\Main.java:48: error: cannot find symbol\r\n            World world = Reader.loadWorld(fileWorld);\r\n                          ^\r\n      symbol:   variable Reader\r\n      location: class Main\r\n    mvh\\Main.java:97: error: cannot find symbol\r\n                if (Menu.checkYes()) {\r\n                    ^\r\n      symbol:   variable Menu\r\n      location: class Main\r\n    mvh\\Main.java:129: error: cannot find symbol\r\n                Menu.println(message);\r\n                ^\r\n      symbol:   variable Menu\r\n      location: class Main\r\n    mvh\\Main.java:130: error: cannot find symbol\r\n                if (Menu.continueSimulation()) {\r\n                    ^\r\n      symbol:   variable Menu\r\n      location: class Main\r\n    mvh\\Main.java:137: error: cannot find symbol\r\n            Menu.println(message);\r\n            ^\r\n      symbol:   variable Menu\r\n      location: class Main\r\n    11 errors\r\n    error: compilation failed\r\n\r\n\r\nAnd the error at the end says error compilation failed.\r\n\r\nAs you can clearly see the program does have the packages where they need to be.\r\n\r\nIf someone can help to find out what&#39;s wrong and how I can run my program.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xZjSq.png\r\n  [2]: https://i.stack.imgur.com/FXuQb.png\r\n  [3]: https://i.stack.imgur.com/tR0qO.png","title":"Compilation failed - Packages do not exist when they do","body":"<p>I have been trying to find why my program isn't running from the terminal. But it keeps saying it can't find the packages/packages do not exist when they do.\nHere are some pictures.\nHere Is one\n<a href=\"https://i.stack.imgur.com/xZjSq.png\" rel=\"nofollow noreferrer\">1</a>\nhere is the other one\n<a href=\"https://i.stack.imgur.com/FXuQb.png\" rel=\"nofollow noreferrer\">2</a>\nHere is the last one\n<a href=\"https://i.stack.imgur.com/tR0qO.png\" rel=\"nofollow noreferrer\">3</a></p>\n<p>This is the code that I get from the errors:</p>\n<pre><code>PS C:\\Users\\alexg\\IdeaProjects\\MonstersVersusHeroes\\src&gt; java mvh\\Main.java world.txt log.txt 12345\nmvh\\Main.java:3: error: package mvh.util does not exist\nimport mvh.util.Reader;\n               ^\nmvh\\Main.java:4: error: package mvh.world does not exist\nimport mvh.world.World;\n                ^\nmvh\\Main.java:126: error: cannot find symbol\n    private static void runSimulation(World world) {\n                                      ^\n  symbol:   class World\n  location: class Main\nmvh\\Main.java:46: error: cannot find symbol\n        Menu.setup(fileLog);\n        ^\n  symbol:   variable Menu\n  location: class Main\nmvh\\Main.java:47: error: cannot find symbol\n        Menu.println(&quot;Arguments: &quot;+ Arrays.toString(args));\n        ^\n  symbol:   variable Menu\n  location: class Main\nmvh\\Main.java:48: error: cannot find symbol\n        World world = Reader.loadWorld(fileWorld);\n        ^\n  symbol:   class World\n  location: class Main\nmvh\\Main.java:48: error: cannot find symbol\n        World world = Reader.loadWorld(fileWorld);\n                      ^\n  symbol:   variable Reader\n  location: class Main\nmvh\\Main.java:97: error: cannot find symbol\n            if (Menu.checkYes()) {\n                ^\n  symbol:   variable Menu\n  location: class Main\nmvh\\Main.java:129: error: cannot find symbol\n            Menu.println(message);\n            ^\n  symbol:   variable Menu\n  location: class Main\nmvh\\Main.java:130: error: cannot find symbol\n            if (Menu.continueSimulation()) {\n                ^\n  symbol:   variable Menu\n  location: class Main\nmvh\\Main.java:137: error: cannot find symbol\n        Menu.println(message);\n        ^\n  symbol:   variable Menu\n  location: class Main\n11 errors\nerror: compilation failed\n</code></pre>\n<p>And the error at the end says error compilation failed.</p>\n<p>As you can clearly see the program does have the packages where they need to be.</p>\n<p>If someone can help to find out what's wrong and how I can run my program.</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"score":0,"creation_date":1638279284,"post_id":70166850,"comment_id":124041769,"body_markdown":"I&#39;d suggest you to use DTOs instead of working directly with your entities.","body":"I&#39;d suggest you to use DTOs instead of working directly with your entities."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638284630,"creation_date":1638279062,"answer_id":70170158,"question_id":70166850,"body_markdown":"You need to use `@JsonManagedReference` and `@JsonBackReference` to allow Jackson to better handle the relationship between `Author` and `Book`:\r\n```java\r\npublic class Author {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer author_id;\r\n    private String name;\r\n    private String language;\r\n\r\n    @JsonManagedReference\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;author&quot;)\r\n    private Set&lt;Book&gt; book;\r\n\r\n    // getter setter\r\n}\r\n```\r\n\r\n```java\r\npublic class Book {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n    private String title;\r\n\r\n    @JsonBackReference\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;author_id&quot;)\r\n    private Author author;\r\n\r\n    // getter setter\r\n}\r\n```\r\n\r\nYou have other options (e.g. using `@JsonIdentityInfo`) to handle this infinite recursion issue, but this is the most common solution. You can check all other possible approaches at the following online resource https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion.\r\n\r\n\r\n----------\r\n\r\n\r\nAdditionally, in your Service you are creating a brand new `Book` and setting its title with `book.setTitle(book.getTitle());`, which basically does nothing. In fact you don&#39;t even need to do most of the stuff you are doing there because `Book` instances are already in `Author`, you just need to set `Author` on each `Book` instance as follows:\r\n```java\r\n@Override\r\npublic Author insertAuthor(Author author) {\r\n    for (Book book : author.getBook()) {\r\n        book.setAuthor(author);\r\n    }\r\n    \r\n    return authorRepo.save(author);\r\n}\r\n```\r\n\r\nFinally, consider changing the `book` property in `Author` to `books` since it contains multiple books (you will need to adjust your code afterwards).","title":"Infinite Recursion with Jackson JSON and Hibernate JPA","body":"<p>You need to use <code>@JsonManagedReference</code> and <code>@JsonBackReference</code> to allow Jackson to better handle the relationship between <code>Author</code> and <code>Book</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Author {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer author_id;\n    private String name;\n    private String language;\n\n    @JsonManagedReference\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;author&quot;)\n    private Set&lt;Book&gt; book;\n\n    // getter setter\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Book {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    private String title;\n\n    @JsonBackReference\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;author_id&quot;)\n    private Author author;\n\n    // getter setter\n}\n</code></pre>\n<p>You have other options (e.g. using <code>@JsonIdentityInfo</code>) to handle this infinite recursion issue, but this is the most common solution. You can check all other possible approaches at the following online resource <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion</a>.</p>\n<hr />\n<p>Additionally, in your Service you are creating a brand new <code>Book</code> and setting its title with <code>book.setTitle(book.getTitle());</code>, which basically does nothing. In fact you don't even need to do most of the stuff you are doing there because <code>Book</code> instances are already in <code>Author</code>, you just need to set <code>Author</code> on each <code>Book</code> instance as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Author insertAuthor(Author author) {\n    for (Book book : author.getBook()) {\n        book.setAuthor(author);\n    }\n    \n    return authorRepo.save(author);\n}\n</code></pre>\n<p>Finally, consider changing the <code>book</code> property in <code>Author</code> to <code>books</code> since it contains multiple books (you will need to adjust your code afterwards).</p>\n"}],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70170158,"answer_count":1,"score":1,"last_activity_date":1647004609,"creation_date":1638263684,"question_id":70166850,"body_markdown":"I want to store some data into database through `OnetoMany` and `ManytoOne` Bidirectional relationship mapping. While request for persist data in postman get infinite row in response.\r\n\r\nHere down is my code:\r\n\r\n**Entity**\r\n```\r\npublic class Author {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer author_id;\r\n\tprivate String name;\r\n\tprivate String language;\r\n\r\n\t@OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;author&quot;)\r\n\tprivate Set&lt;Book&gt; book;\r\n\r\n    // getter setter\r\n}\r\n\r\npublic class Book {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\tprivate String title;\r\n\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;author_id&quot;)\r\n\tprivate Author author;\r\n\r\n    // getter setter\r\n}\r\n```\r\n\r\n**Service**\r\n```\r\n@Override\r\npublic Author insertAuthor(Author author) {\r\n\t\tSet&lt;Book&gt; bookList = new HashSet&lt;&gt;();\r\n\t\t\r\n\t\tBook book = new Book();\r\n\t\tbook.setTitle(book.getTitle());\r\n\t\t\r\n\t\tbookList.add(book);\r\n\t\t\r\n\t\tbook.setAuthor(author);\r\n\t\tauthor.setBook(bookList);\r\n\t\t\r\n\t\treturn authorRepo.save(author);\r\n}\r\n```\r\n\r\n**Controller**\r\n```\r\n@RestController\r\npublic class PojoController {\r\n\t\r\n\t@Autowired\r\n\tprivate PojoService pojoService;\r\n\t\r\n\t@RequestMapping(value=&quot;/book&quot;, method = RequestMethod.POST)\r\n\tpublic Author addBookCourse(@RequestBody Author author) {\r\n\t\treturn this.pojoService.insertAuthor(author);\r\n\t}\r\n}\r\n```\r\n\r\n**Request**\r\n```\r\n{\r\n    &quot;language&quot;: &quot;english&quot;,\r\n    &quot;name&quot;: &quot;Banjamin franklin&quot;,\r\n    &quot;book&quot;: [{\r\n        &quot;title&quot;: &quot;Theory Of Everything&quot;\r\n    },\r\n    {\r\n        &quot;title&quot;: &quot;A Brief Story Of Time&quot;\r\n    }]\r\n}\r\n```\r\n\r\n**Output**\r\n```\r\n{\r\n    &quot;author_id&quot;: 1,\r\n    &quot;name&quot;: &quot;Banjamin franklin&quot;,\r\n    &quot;language&quot;: &quot;english&quot;,\r\n    &quot;book&quot;: [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;title&quot;: null,\r\n            &quot;author&quot;: {\r\n                &quot;author_id&quot;: 1,\r\n                &quot;name&quot;: &quot;Banjamin franklin&quot;,\r\n                &quot;language&quot;: &quot;english&quot;,\r\n                &quot;book&quot;: [\r\n                    {\r\n                        &quot;id&quot;: 1,\r\n                        &quot;title&quot;: null,\r\n                        &quot;author&quot;: {\r\n                            &quot;author_id&quot;: 1,\r\n                            &quot;name&quot;: &quot;Banjamin franklin&quot;,\r\n                            &quot;language&quot;: &quot;english&quot;,\r\n                            &quot;book&quot;: [\r\n                                {\r\n                                    &quot;id&quot;: 1,\r\n                                    &quot;title&quot;: null,\r\n                                    &quot;author&quot;: {\r\n                                        &quot;author_id&quot;: 1,\r\n                                        &quot;name&quot;: &quot;Banjamin franklin&quot;,\r\n                                        &quot;language&quot;: &quot;english&quot;,\r\n                                        &quot;book&quot;: [\r\n                                            {\r\n                                                &quot;id&quot;: 1,\r\n                                                &quot;title&quot;: null,\r\n                           more 7460 line\r\n                           .......\r\n                           .......\r\n                           .......\r\n{\r\n    &quot;timestamp&quot;: &quot;2021-11-30T10:25:03.957+00:00&quot;,\r\n    &quot;status&quot;: 200,\r\n    &quot;error&quot;: &quot;OK&quot;,\r\n    &quot;trace&quot;: &quot;org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Infinite recursion (StackOverflowError); nested exception is com.fasterxml.jackson.databind.JsonMappingException: Infinite recursion (StackOverflowError) (through reference chain: com.rest.RestApiPojo.Entity.Author[\\&quot;book\\&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;com.rest.RestApiPojo.Entity.Book[\\&quot;author\\&quot;]-&gt;com.rest.RestApiPojo.Entity.Author[\\&quot;book\\&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;com.rest.RestApiPojo.Entity.Book[\\&quot;author\\&quot;]\r\n}    \r\n```","title":"Infinite Recursion with Jackson JSON and Hibernate JPA","body":"<p>I want to store some data into database through <code>OnetoMany</code> and <code>ManytoOne</code> Bidirectional relationship mapping. While request for persist data in postman get infinite row in response.</p>\n<p>Here down is my code:</p>\n<p><strong>Entity</strong></p>\n<pre><code>public class Author {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer author_id;\n    private String name;\n    private String language;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;author&quot;)\n    private Set&lt;Book&gt; book;\n\n    // getter setter\n}\n\npublic class Book {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    private String title;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;author_id&quot;)\n    private Author author;\n\n    // getter setter\n}\n</code></pre>\n<p><strong>Service</strong></p>\n<pre><code>@Override\npublic Author insertAuthor(Author author) {\n        Set&lt;Book&gt; bookList = new HashSet&lt;&gt;();\n        \n        Book book = new Book();\n        book.setTitle(book.getTitle());\n        \n        bookList.add(book);\n        \n        book.setAuthor(author);\n        author.setBook(bookList);\n        \n        return authorRepo.save(author);\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@RestController\npublic class PojoController {\n    \n    @Autowired\n    private PojoService pojoService;\n    \n    @RequestMapping(value=&quot;/book&quot;, method = RequestMethod.POST)\n    public Author addBookCourse(@RequestBody Author author) {\n        return this.pojoService.insertAuthor(author);\n    }\n}\n</code></pre>\n<p><strong>Request</strong></p>\n<pre><code>{\n    &quot;language&quot;: &quot;english&quot;,\n    &quot;name&quot;: &quot;Banjamin franklin&quot;,\n    &quot;book&quot;: [{\n        &quot;title&quot;: &quot;Theory Of Everything&quot;\n    },\n    {\n        &quot;title&quot;: &quot;A Brief Story Of Time&quot;\n    }]\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n    &quot;author_id&quot;: 1,\n    &quot;name&quot;: &quot;Banjamin franklin&quot;,\n    &quot;language&quot;: &quot;english&quot;,\n    &quot;book&quot;: [\n        {\n            &quot;id&quot;: 1,\n            &quot;title&quot;: null,\n            &quot;author&quot;: {\n                &quot;author_id&quot;: 1,\n                &quot;name&quot;: &quot;Banjamin franklin&quot;,\n                &quot;language&quot;: &quot;english&quot;,\n                &quot;book&quot;: [\n                    {\n                        &quot;id&quot;: 1,\n                        &quot;title&quot;: null,\n                        &quot;author&quot;: {\n                            &quot;author_id&quot;: 1,\n                            &quot;name&quot;: &quot;Banjamin franklin&quot;,\n                            &quot;language&quot;: &quot;english&quot;,\n                            &quot;book&quot;: [\n                                {\n                                    &quot;id&quot;: 1,\n                                    &quot;title&quot;: null,\n                                    &quot;author&quot;: {\n                                        &quot;author_id&quot;: 1,\n                                        &quot;name&quot;: &quot;Banjamin franklin&quot;,\n                                        &quot;language&quot;: &quot;english&quot;,\n                                        &quot;book&quot;: [\n                                            {\n                                                &quot;id&quot;: 1,\n                                                &quot;title&quot;: null,\n                           more 7460 line\n                           .......\n                           .......\n                           .......\n{\n    &quot;timestamp&quot;: &quot;2021-11-30T10:25:03.957+00:00&quot;,\n    &quot;status&quot;: 200,\n    &quot;error&quot;: &quot;OK&quot;,\n    &quot;trace&quot;: &quot;org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Infinite recursion (StackOverflowError); nested exception is com.fasterxml.jackson.databind.JsonMappingException: Infinite recursion (StackOverflowError) (through reference chain: com.rest.RestApiPojo.Entity.Author[\\&quot;book\\&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;com.rest.RestApiPojo.Entity.Book[\\&quot;author\\&quot;]-&gt;com.rest.RestApiPojo.Entity.Author[\\&quot;book\\&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;com.rest.RestApiPojo.Entity.Book[\\&quot;author\\&quot;]\n}    \n</code></pre>\n"},{"tags":["java","spring-boot","rest","web-applications","facade"],"owner":{"account_id":16157689,"reputation":31,"user_id":11664562,"display_name":"Daentalion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1041,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647004555,"creation_date":1647004555,"question_id":71439121,"body_markdown":"I&#39;m developing a set of microservices for a web application with Spring Boot, and I&#39;m unsure if the pattern design I&#39;m using is correct, or makes sense, or has any advantages.\r\n\r\nWhat I&#39;m using is a controller-facade-service design, which in my mind should work in this way:\r\n\r\n - The controller delegates everything to the facade, passing the input DTO to it\r\n - The facade implements all the business logic and uses one or more services to create an output DTO to send back to the controller\r\n - Services implement core and atomic functionalities, mostly CRUDs, without any or minimal business logic so that different facades with different business logic can use them, and return a JPA entity to the facade\r\n\r\nIs this a good design pattern? Is the facade unnecessary?\r\n\r\nMore specifically, should the business logic be in the facade or in the service? I believe services should be logic agnostic so that they can be shared across multiple facades, which may implement different logic depending on the endpoint.\r\n\r\nAlso, in the case of a CRUD operation, should the service return an entity to the facade? Or should it be up to the service to create an output DTO for the facade?","title":"Controller-Facade-Service architecture in a Restful Spring Boot web application","body":"<p>I'm developing a set of microservices for a web application with Spring Boot, and I'm unsure if the pattern design I'm using is correct, or makes sense, or has any advantages.</p>\n<p>What I'm using is a controller-facade-service design, which in my mind should work in this way:</p>\n<ul>\n<li>The controller delegates everything to the facade, passing the input DTO to it</li>\n<li>The facade implements all the business logic and uses one or more services to create an output DTO to send back to the controller</li>\n<li>Services implement core and atomic functionalities, mostly CRUDs, without any or minimal business logic so that different facades with different business logic can use them, and return a JPA entity to the facade</li>\n</ul>\n<p>Is this a good design pattern? Is the facade unnecessary?</p>\n<p>More specifically, should the business logic be in the facade or in the service? I believe services should be logic agnostic so that they can be shared across multiple facades, which may implement different logic depending on the endpoint.</p>\n<p>Also, in the case of a CRUD operation, should the service return an entity to the facade? Or should it be up to the service to create an output DTO for the facade?</p>\n"},{"tags":["java","jersey","jax-rs"],"comments":[{"owner":{"account_id":1078274,"reputation":5094,"user_id":1075956,"display_name":"Thomas"},"score":0,"creation_date":1366316493,"post_id":16091961,"comment_id":22975367,"body_markdown":"I&#39;ve only used it for finite files, but perhaps you could try producing MediaType.APPLICATION_OCTET_STREAM","body":"I&#39;ve only used it for finite files, but perhaps you could try producing MediaType.APPLICATION_OCTET_STREAM"},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1366352601,"post_id":16091961,"comment_id":22985827,"body_markdown":"tried that, no effect :(","body":"tried that, no effect :("},{"owner":{"account_id":182534,"reputation":5773,"user_id":417302,"accept_rate":64,"display_name":"bdkosher"},"score":0,"creation_date":1366496563,"post_id":16091961,"comment_id":23033608,"body_markdown":"Which JAX-RS implementation are you using?","body":"Which JAX-RS implementation are you using?"},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1366522232,"post_id":16091961,"comment_id":23037671,"body_markdown":"I&#39;m using Jersey 1.17.1","body":"I&#39;m using Jersey 1.17.1"},{"owner":{"account_id":970486,"reputation":3187,"user_id":993133,"display_name":"pd40"},"score":0,"creation_date":1466019719,"post_id":16091961,"comment_id":63149199,"body_markdown":"There is a nice example now at https://dzone.com/articles/jax-rs-streaming-response","body":"There is a nice example now at <a href=\"https://dzone.com/articles/jax-rs-streaming-response\" rel=\"nofollow noreferrer\">dzone.com/articles/jax-rs-streaming-response</a>"}],"answers":[{"tags":[],"owner":{"account_id":2230571,"reputation":2771,"user_id":1968258,"display_name":"Marcos Zolnowski"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1372206284,"creation_date":1372205955,"answer_id":17309645,"question_id":16091961,"body_markdown":"Just a wild guess:\r\n\r\n    @GET\r\n    @Path(&quot;/stream&quot;)\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    public Response stream() {\r\n        final InputStream input = getit();\r\n        return Response.ok(input, MediaType.TEXT_PLAIN_TYPE).build();        \r\n    }","title":"How to stream an endless InputStream with JAX-RS","body":"<p>Just a wild guess:</p>\n\n<pre><code>@GET\n@Path(\"/stream\")\n@Produces(MediaType.TEXT_PLAIN)\npublic Response stream() {\n    final InputStream input = getit();\n    return Response.ok(input, MediaType.TEXT_PLAIN_TYPE).build();        \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2230571,"reputation":2771,"user_id":1968258,"display_name":"Marcos Zolnowski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1372304387,"creation_date":1372304387,"answer_id":17334140,"question_id":16091961,"body_markdown":"So, you have flush issues, you could try to get the ServletResponse as the spec says:\r\n\r\n&gt; The @Context annotation can be used to indicate a dependency on a\r\n&gt; Servlet-defined resource. A Servlet- based implementation MUST support\r\n&gt; injection of the following Servlet-defined types: ServletConfig,\r\n&gt; ServletContext, HttpServletRequest and HttpServletResponse.\r\n&gt; \r\n&gt; An injected HttpServletResponse allows a resource method to commit the\r\n&gt; HTTP response prior to returning. An implementation MUST check the\r\n&gt; committed status and only process the return value if the response is\r\n&gt; not yet committed.\r\n\r\nThen flushing everything you can, like this:\r\n\r\n    @Context\r\n    private HttpServletResponse context;\r\n    \r\n    @GET\r\n    @Path(&quot;/stream&quot;)\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    public String stream() {\r\n        final InputStream input = // get it\r\n        ServletOutputStream out = context.getOutputStream();\r\n                while (true) {\r\n                    out.write(input.read());\r\n                    out.flush();\r\n                    context.flushBuffer();\r\n                }\r\n        return &quot;&quot;;\r\n    }","title":"How to stream an endless InputStream with JAX-RS","body":"<p>So, you have flush issues, you could try to get the ServletResponse as the spec says:</p>\n\n<blockquote>\n  <p>The @Context annotation can be used to indicate a dependency on a\n  Servlet-defined resource. A Servlet- based implementation MUST support\n  injection of the following Servlet-defined types: ServletConfig,\n  ServletContext, HttpServletRequest and HttpServletResponse.</p>\n  \n  <p>An injected HttpServletResponse allows a resource method to commit the\n  HTTP response prior to returning. An implementation MUST check the\n  committed status and only process the return value if the response is\n  not yet committed.</p>\n</blockquote>\n\n<p>Then flushing everything you can, like this:</p>\n\n<pre><code>@Context\nprivate HttpServletResponse context;\n\n@GET\n@Path(\"/stream\")\n@Produces(MediaType.TEXT_PLAIN)\npublic String stream() {\n    final InputStream input = // get it\n    ServletOutputStream out = context.getOutputStream();\n            while (true) {\n                out.write(input.read());\n                out.flush();\n                context.flushBuffer();\n            }\n    return \"\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194080,"reputation":998,"user_id":436183,"accept_rate":75,"display_name":"Jeryl Cook"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1615205905,"creation_date":1598476990,"answer_id":63605927,"question_id":16091961,"body_markdown":"Simply use the StreamingOutput of JAX-RS\r\n\r\n```\r\n@Path(&quot;/numbers&quot;)\r\npublic class NumbersResource {\r\n\r\n    @GET\r\n    public Response streamExample(){\r\n        StreamingOutput stream = new StreamingOutput() {\r\n            @Override\r\n            public void write(OutputStream out) throws IOException, WebApplicationException {\r\n                Writer writer = new BufferedWriter(new OutputStreamWriter(out));\r\n                for (int i = 0; i &lt; 10000000 ; i++){\r\n                    writer.write(i + &quot; &quot;);\r\n                }\r\n                writer.flush();\r\n            }\r\n        };\r\n        return Response.ok(stream).build();\r\n    }\r\n}\r\n```","title":"How to stream an endless InputStream with JAX-RS","body":"<p>Simply use the StreamingOutput of JAX-RS</p>\n<pre><code>@Path(&quot;/numbers&quot;)\npublic class NumbersResource {\n\n    @GET\n    public Response streamExample(){\n        StreamingOutput stream = new StreamingOutput() {\n            @Override\n            public void write(OutputStream out) throws IOException, WebApplicationException {\n                Writer writer = new BufferedWriter(new OutputStreamWriter(out));\n                for (int i = 0; i &lt; 10000000 ; i++){\n                    writer.write(i + &quot; &quot;);\n                }\n                writer.flush();\n            }\n        };\n        return Response.ok(stream).build();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130318,"reputation":6472,"user_id":329496,"accept_rate":66,"display_name":"simbo1905"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647004402,"creation_date":1647004402,"answer_id":71439077,"question_id":16091961,"body_markdown":"Folks should be using Java 9 or later can use `transferTo` to copy the input stream to the output stream so do this: \r\n\r\n```java\r\n\r\n@GET\r\n@Path(&quot;/stream&quot;)\r\n@Produces(MediaType.TEXT_PLAIN)\r\npublic StreamingOutput stream() {\r\n    final InputStream input = // get it\r\n\r\n        StreamingOutput stream = output -&gt; {\r\n            try {\r\n                is.transferTo(output);\r\n            }\r\n            catch (Exception e) {\r\n                throw new WebApplicationException(e);\r\n            } finally {\r\n                is.close();\r\n            }\r\n        };\r\n\r\n        return Response.ok(stream, MediaType.APPLICATION_OCTET_STREAM).build();\r\n    }\r\n```","title":"How to stream an endless InputStream with JAX-RS","body":"<p>Folks should be using Java 9 or later can use <code>transferTo</code> to copy the input stream to the output stream so do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@GET\n@Path(&quot;/stream&quot;)\n@Produces(MediaType.TEXT_PLAIN)\npublic StreamingOutput stream() {\n    final InputStream input = // get it\n\n        StreamingOutput stream = output -&gt; {\n            try {\n                is.transferTo(output);\n            }\n            catch (Exception e) {\n                throw new WebApplicationException(e);\n            } finally {\n                is.close();\n            }\n        };\n\n        return Response.ok(stream, MediaType.APPLICATION_OCTET_STREAM).build();\n    }\n</code></pre>\n"}],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11374,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":4,"score":10,"last_activity_date":1647004402,"creation_date":1366315069,"question_id":16091961,"body_markdown":"I have an endless `InputStream` with some data, which I want to return in response to a `GET` HTTP request. I want my web/API client to read from it endlessly. How can I do it with JAX-RS? I&#39;m trying this:\r\n\r\n    @GET\r\n    @Path(&quot;/stream&quot;)\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    public StreamingOutput stream() {\r\n        final InputStream input = // get it\r\n        return new StreamingOutput() {\r\n            @Override\r\n            public void write(OutputStream out) throws IOException {\r\n                while (true) {\r\n                    out.write(input.read());\r\n                    out.flush();\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\nBut content doesn&#39;t appear for the client. However, if I add `OutputStream#close()`, the server delivers the content at that very moment. How can I make it truly streamable?","title":"How to stream an endless InputStream with JAX-RS","body":"<p>I have an endless <code>InputStream</code> with some data, which I want to return in response to a <code>GET</code> HTTP request. I want my web/API client to read from it endlessly. How can I do it with JAX-RS? I'm trying this:</p>\n\n<pre><code>@GET\n@Path(\"/stream\")\n@Produces(MediaType.TEXT_PLAIN)\npublic StreamingOutput stream() {\n    final InputStream input = // get it\n    return new StreamingOutput() {\n        @Override\n        public void write(OutputStream out) throws IOException {\n            while (true) {\n                out.write(input.read());\n                out.flush();\n            }\n        }\n    };\n}\n</code></pre>\n\n<p>But content doesn't appear for the client. However, if I add <code>OutputStream#close()</code>, the server delivers the content at that very moment. How can I make it truly streamable?</p>\n"},{"tags":["javascript","java","usb","smartcard","kiosk"],"comments":[{"owner":{"account_id":13386014,"reputation":873,"user_id":9659885,"display_name":"Bharat Vasant"},"score":0,"creation_date":1659438184,"post_id":66520183,"comment_id":129289859,"body_markdown":"For Certificate operations using USB Smartcard from Browser, refer to [Signer.Digital Browser Extension API](https://stackoverflow.com/a/63173083/9659885)","body":"For Certificate operations using USB Smartcard from Browser, refer to <a href=\"https://stackoverflow.com/a/63173083/9659885\">Signer.Digital Browser Extension API</a>"}],"answers":[{"tags":[],"owner":{"account_id":20883183,"reputation":141,"user_id":15340394,"display_name":"Infinite Recursion"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615144260,"creation_date":1615144260,"answer_id":66520352,"question_id":66520183,"body_markdown":"The best solution here would probably be to host a WebSocket using Jetty in your java application at 127.0.0.1 and have your javascript connect to that *directly*. No cloud server would be needed as WebSockets aren&#39;t bound to the same origin policy or cross origin resource sharing. \r\n\r\nAnother potential solution is to have an embedded browser in your java program using javafx&#39;s webkit or other java browser implementation and share data through that. This is less than ideal because javafx&#39;s webkit has it&#39;s own weird quirks and commercial embedded browsers for java cost thousands.\r\n\r\nI would use the websocket solution.","title":"Accessing USB Smart Card data from a browser","body":"<p>The best solution here would probably be to host a WebSocket using Jetty in your java application at 127.0.0.1 and have your javascript connect to that <em>directly</em>. No cloud server would be needed as WebSockets aren't bound to the same origin policy or cross origin resource sharing.</p>\n<p>Another potential solution is to have an embedded browser in your java program using javafx's webkit or other java browser implementation and share data through that. This is less than ideal because javafx's webkit has it's own weird quirks and commercial embedded browsers for java cost thousands.</p>\n<p>I would use the websocket solution.</p>\n"}],"owner":{"account_id":2730377,"reputation":1843,"user_id":2354302,"accept_rate":65,"display_name":"user2354302"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1578,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647004396,"creation_date":1615143214,"question_id":66520183,"body_markdown":"I am building an enterprise browser based application, which works on a dedicated PC with a touch screen (think of it as a Kiosk, sort of). So, the application itself is built on NodeJS and the user makes choices on the browser and inserts their Smart Card. Since JavaScript can&#39;t directly read and decrypt the Smart Card data, a Java program running on this PC detects the inserted Smart Card and reads the data. Now, the problem is to send this Smart Card details (name, address etc..) to the JS code. I&#39;m not really sure how to solve this, the following are a few ideas:\r\n\r\n 1. The Java Smart Card reader, after reading the data, outputs it to as a keyboard input. The JS code then listens to this specific keyboard event and reads all the data. Kind of like how a bar-code scanner works.\r\n 2. The Java Smart Card reader and the browser are connected to a cloud and have a WebSocket channel established. The Java program after reading the data, pushes it to the cloud server and the cloud server then pushes it to the Browser via WebSockets.\r\n 3. Run the Java Smart Card reader as a web-server (localhost) with a self-signed SSL certificate. Add a local domain name to the server in the hosts file. Now, the browser can directly talk to the Java web-server through a Http API. \r\n 4. Run the Java Smart Card reader with gRPC (localhost) and connect the browser to it via gRPC-web. (I have no experience in gRPC, but maybe this is possible?)\r\n\r\nEach of the above have their own pitfalls. I&#39;m not sure how other Kiosk based systems work, so any suggestions or improvements on the above ideas would be great. \r\n ","title":"Accessing USB Smart Card data from a browser","body":"<p>I am building an enterprise browser based application, which works on a dedicated PC with a touch screen (think of it as a Kiosk, sort of). So, the application itself is built on NodeJS and the user makes choices on the browser and inserts their Smart Card. Since JavaScript can't directly read and decrypt the Smart Card data, a Java program running on this PC detects the inserted Smart Card and reads the data. Now, the problem is to send this Smart Card details (name, address etc..) to the JS code. I'm not really sure how to solve this, the following are a few ideas:</p>\n<ol>\n<li>The Java Smart Card reader, after reading the data, outputs it to as a keyboard input. The JS code then listens to this specific keyboard event and reads all the data. Kind of like how a bar-code scanner works.</li>\n<li>The Java Smart Card reader and the browser are connected to a cloud and have a WebSocket channel established. The Java program after reading the data, pushes it to the cloud server and the cloud server then pushes it to the Browser via WebSockets.</li>\n<li>Run the Java Smart Card reader as a web-server (localhost) with a self-signed SSL certificate. Add a local domain name to the server in the hosts file. Now, the browser can directly talk to the Java web-server through a Http API.</li>\n<li>Run the Java Smart Card reader with gRPC (localhost) and connect the browser to it via gRPC-web. (I have no experience in gRPC, but maybe this is possible?)</li>\n</ol>\n<p>Each of the above have their own pitfalls. I'm not sure how other Kiosk based systems work, so any suggestions or improvements on the above ideas would be great.</p>\n"},{"tags":["java","log4j2","quarkus","apache-commons-logging","jboss-logging"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1647023666,"post_id":71439058,"comment_id":126277331,"body_markdown":"You shouldn&#39;t use the `log4j2-jboss-logmanager` and `log4j-core` in the same application. Both are implementations of `log4j-api`.","body":"You shouldn&#39;t use the <code>log4j2-jboss-logmanager</code> and <code>log4j-core</code> in the same application. Both are implementations of <code>log4j-api</code>."},{"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"score":0,"creation_date":1647033102,"post_id":71439058,"comment_id":126279724,"body_markdown":"Thank you, I tried removing the log4j-core but couldn&#39;t as it was needed for classes like below: import org.apache.logging.log4j.core.config.LoggerConfig; Instead, can i not use the jboss manager and just use the log4j-core?","body":"Thank you, I tried removing the log4j-core but couldn&#39;t as it was needed for classes like below: import org.apache.logging.log4j.core.config.LoggerConfig; Instead, can i not use the jboss manager and just use the log4j-core?"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1647269336,"post_id":71439058,"comment_id":126322501,"body_markdown":"AFAIK you cannot use the two together. They are both log managers.","body":"AFAIK you cannot use the two together. They are both log managers."},{"owner":{"account_id":8644019,"reputation":137,"user_id":6471798,"display_name":"B Randall"},"score":0,"creation_date":1667012625,"post_id":71439058,"comment_id":131076259,"body_markdown":"Simular issue. No quarkus.io or hibernate logs make it to file or console setup in properties.","body":"Simular issue. No quarkus.io or hibernate logs make it to file or console setup in properties."}],"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647004293,"creation_date":1647004293,"question_id":71439058,"body_markdown":"I am having an issue with logging information for some of the microservices running on Quarkus. Some of the projects have the below settings in the build.gradle:\r\n\r\n\r\nimplementation &#39;org.apache.logging.log4j:log4j-core&#39;\r\n\r\nruntimeOnly &#39;org.jboss.logmanager:log4j2-jboss-logmanager&#39;\r\n\r\nOur code uses apache log4j LogManager and Logger to log information. When we have the projects with these 2 dependencies in the gradle file, the log settings don&#39;t work and as a result, nothing gets written (except for the default setting of error) irrespective of any settings in the application.properties. For the other projects where there is no dependency on log4j-core, the logging works perfectly fine.\r\n\r\nWhat i was told by one of my colleagues is that there is some overriding happens when these 2 libraries are included in a project and he suggested using the org.jboss.logging.Logger in place of the apache log4j LogManager. I haven&#39;t tried any other settings but i do see the info logs now in the log file so it is working though i am having to change some code to match the method signatures on the jboss Logger object. While i am happy it&#39;s working, i would like to avoid having to code logic in 2 different ways across projects (example - Logger comes from LogManager in apache log4j whereas it just comes from Logger class itself in jboss approach)\r\n\r\nI am trying to understand what is causing this conflict and why and also if anyone has any better way than what I did to make it work. Please let me know\r\n\r\nThanks in advance for your help!\r\n\r\nBest Regards\r\nSG","title":"Quarkus logging conflict between log4j-core and jboss log manager","body":"<p>I am having an issue with logging information for some of the microservices running on Quarkus. Some of the projects have the below settings in the build.gradle:</p>\n<p>implementation 'org.apache.logging.log4j:log4j-core'</p>\n<p>runtimeOnly 'org.jboss.logmanager:log4j2-jboss-logmanager'</p>\n<p>Our code uses apache log4j LogManager and Logger to log information. When we have the projects with these 2 dependencies in the gradle file, the log settings don't work and as a result, nothing gets written (except for the default setting of error) irrespective of any settings in the application.properties. For the other projects where there is no dependency on log4j-core, the logging works perfectly fine.</p>\n<p>What i was told by one of my colleagues is that there is some overriding happens when these 2 libraries are included in a project and he suggested using the org.jboss.logging.Logger in place of the apache log4j LogManager. I haven't tried any other settings but i do see the info logs now in the log file so it is working though i am having to change some code to match the method signatures on the jboss Logger object. While i am happy it's working, i would like to avoid having to code logic in 2 different ways across projects (example - Logger comes from LogManager in apache log4j whereas it just comes from Logger class itself in jboss approach)</p>\n<p>I am trying to understand what is causing this conflict and why and also if anyone has any better way than what I did to make it work. Please let me know</p>\n<p>Thanks in advance for your help!</p>\n<p>Best Regards\nSG</p>\n"},{"tags":["java","android","android-fragments","mvvm","android-recyclerview"],"comments":[{"owner":{"account_id":9101183,"reputation":195,"user_id":6773266,"display_name":"mohammed ahmed"},"score":0,"creation_date":1647427132,"post_id":71439049,"comment_id":126366374,"body_markdown":"In Update Fragment you are creating a new instance of MyViewModel and you are updating on that instance. \nYou need to pass the reference of the Car to update fragment in onUpdateClicked().","body":"In Update Fragment you are creating a new instance of MyViewModel and you are updating on that instance.  You need to pass the reference of the Car to update fragment in onUpdateClicked()."},{"owner":{"account_id":23477542,"reputation":3,"user_id":17530140,"display_name":"john"},"score":0,"creation_date":1647448194,"post_id":71439049,"comment_id":126375525,"body_markdown":"first of all, thank you for the answer. What do you mean exactly with &quot;eference of the Car &quot; and how can I do it?\n@mohammedahmed","body":"first of all, thank you for the answer. What do you mean exactly with &quot;eference of the Car &quot; and how can I do it? @mohammedahmed"},{"owner":{"account_id":9101183,"reputation":195,"user_id":6773266,"display_name":"mohammed ahmed"},"score":0,"creation_date":1647594805,"post_id":71439049,"comment_id":126414988,"body_markdown":"You can find multiple ways of fragment-to-fragment communication [here](https://stackoverflow.com/questions/13700798/basic-communication-between-two-fragments)","body":"You can find multiple ways of fragment-to-fragment communication <a href=\"https://stackoverflow.com/questions/13700798/basic-communication-between-two-fragments\">here</a>"},{"owner":{"account_id":9101183,"reputation":195,"user_id":6773266,"display_name":"mohammed ahmed"},"score":0,"creation_date":1647595153,"post_id":71439049,"comment_id":126415108,"body_markdown":"Another thing that might work is replace \n`myViewModel= new ViewModelProvider(this).get(MyViewModel.class);`\nwith \n`myViewModel= new ViewModelProvider(getActivity()).get(MyViewModel.class);`\nin both base and update fragment.","body":"Another thing that might work is replace  <code>myViewModel= new ViewModelProvider(this).get(MyViewModel.class);</code> with  <code>myViewModel= new ViewModelProvider(getActivity()).get(MyViewModel.class);</code> in both base and update fragment."}],"owner":{"account_id":23477542,"reputation":3,"user_id":17530140,"display_name":"john"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647004257,"creation_date":1647004257,"question_id":71439049,"body_markdown":"I&#39;m new to Programming and to Android and have please a question.\r\nI have just easy app to insert, delete and update cars.\r\nI create an interface to communicate the RecyclerAdapter to the Fragments.\r\nInsert and delete cars work without problemes, however when I update the instance it will be not changed.\r\nTo make it more clearly,the user has a button &quot;updateButtonOnRecyclerView&quot; on RecyclerView and when he clicks it,he get the UpdateFragment where he can update the instance and finally he clicks the button &quot;updateButtonOnFragment&quot; to save the updates.\r\n\r\nI hope that someone can help me. thanks a lot.\r\n\r\n  \r\n\r\n**UpdateFragment**\r\n\r\n    public class UpdateFragment extends Fragment {\r\n    \r\n        private EditText modelUpdate;\r\n        private EditText colorUpdate;\r\n        private EditText dplUpdate;\r\n        private EditText priceUpdate;\r\n        private EditText descriptionUpdate;\r\n        private Button updateButtonOnFragment;\r\n        private MyViewModel myViewModel;\r\n        public UpdateFragment() {\r\n            // Required empty public constructor\r\n        }\r\n        \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n           View view= inflater.inflate(R.layout.fragment_update, container, false);\r\n           \r\n            modelUpdate=view.findViewById(R.id.input_model_update);\r\n            colorUpdate=view.findViewById(R.id.input_color_update);\r\n            priceUpdate=view.findViewById(R.id.input_price_update);\r\n            dplUpdate=view.findViewById(R.id.input_dpl_update);\r\n            descriptionUpdate=view.findViewById(R.id.input_description_update);\r\n    \r\n            MyViewModel myViewModel= new ViewModelProvider(this).get(MyViewModel.class);\r\n            \r\n            updateButtonOnFragment =view.findViewById(R.id.btnUpdate);\r\n            updateButtonOnFragment.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    String model=modelUpdate.getText().toString();\r\n                    String color=colorUpdate.getText().toString();\r\n                    String price=priceUpdate.getText().toString();\r\n                    String dpl=dplUpdate.getText().toString();\r\n                    String description=descriptionUpdate.getText().toString();\r\n    \r\n                    // create an instance of car\r\n                    Car car = new Car();\r\n                    car.setCarModel(model);\r\n                    car.setCarColor(color);\r\n                    car.setCarDescription(description);\r\n                    car.setCarDpl(dpl);\r\n                    car.setCarPrice(price);\r\n    \r\n                    myViewModel.updateCar(car);\r\n    \r\n                    MainActivity.fragmentManager.beginTransaction().replace(R.id.container,new BaseFragment(),null).commit();\r\n                }\r\n    \r\n            });\r\n    \r\n           return view;\r\n        }\r\n    }\r\n\r\n**RecyclerAdapter**\r\n\r\n    public class RecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerAdapter.MyViewHolder&gt; {\r\n    \r\n       private List&lt;Car&gt;list;\r\n       private Context context;\r\n       private MyViewModel myViewModel;\r\n       private CarAdapterEvent carAdapterEvent;\r\n       //Constructor\r\n        public RecyclerAdapter(List&lt;Car&gt; list,Context context,CarAdapterEvent carAdapterEvent ) {\r\n            this.list = list;\r\n            this.context=context;\r\n            this.carAdapterEvent=carAdapterEvent;\r\n        }\r\n        @NonNull\r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.car_item,parent,false);\r\n            MyViewHolder myViewHolder = new MyViewHolder(view);\r\n            context=parent.getContext();\r\n            return myViewHolder;\r\n        }\r\n        @Override\r\n        public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n            Car car = list.get(position);\r\n            holder.tvModel.setText(car.getCarModel());\r\n            holder.tvColor.setText(car.getCarColor());\r\n            holder.tvDpl.setText(car.getCarDpl());\r\n            holder.tvDescription.setText(car.getCarDescription());\r\n            holder.tvPrice.setText(car.getCarPrice());\r\n        }\r\n        @Override\r\n        public int getItemCount() {\r\n            if(list !=null)\r\n            {\r\n                return list.size();\r\n            }\r\n            else return 0;\r\n        }\r\n       public void setData(List&lt;Car&gt;list){\r\n           this.list=list;\r\n           notifyDataSetChanged();\r\n       }\r\n        // generate ViewHolder\r\n        public class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n            TextView tvModel;\r\n            TextView tvColor;\r\n            TextView tvDpl;\r\n            TextView tvDescription;\r\n            TextView tvPrice;\r\n            Button btnDelete;\r\n            Button updateButtonOnRecyclerView;\r\n            // Constructor of ViewHolder\r\n            public MyViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                // Inflate the views\r\n                tvModel=itemView.findViewById(R.id.model);\r\n                tvColor=itemView.findViewById(R.id.color);\r\n                tvDescription=itemView.findViewById(R.id.description);\r\n                tvDpl=itemView.findViewById(R.id.dpl);\r\n                tvPrice=itemView.findViewById(R.id.price);\r\n                btnDelete=itemView.findViewById(R.id.btn_delete);\r\n                updateButtonOnRecyclerView =itemView.findViewById(R.id.btn_update);\r\n                \r\n                // Listener for Delete button\r\n                btnDelete.setOnClickListener(this);\r\n                btnDelete.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        int position = getAdapterPosition();\r\n                        carAdapterEvent.onDeleteClicked(list.get(position));\r\n                    }\r\n                });\r\n                //Listener for update button\r\n                updateButtonOnRecyclerView.setOnClickListener(this);\r\n                updateButtonOnRecyclerView.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        int position = getAdapterPosition();\r\n                        carAdapterEvent.onUpdateClicked(list.get(position));\r\n                    }\r\n                });\r\n            }\r\n           private void CreateAlertDialoge()\r\n           {\r\n               AlertDialog.Builder builder =new AlertDialog.Builder(context);\r\n               builder.setMessage(&quot;Are you sure to delete&quot;);\r\n               builder.setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                   @Override\r\n                   public void onClick(DialogInterface dialog, int which) {\r\n    \r\n                       Car car = new Car();\r\n                       int ID=list.get(getAdapterPosition()).getCarId();\r\n                       car.setCarId(ID);\r\n    \r\n    \r\n                      myViewModel.deleteCar(car);\r\n    \r\n    \r\n                       MainActivity.fragmentManager.beginTransaction().replace(R.id.container,new BaseFragment(),null).commit();\r\n    \r\n                       Toast.makeText(context, &quot;Yes&quot;, Toast.LENGTH_SHORT).show();\r\n                   }\r\n               });\r\n               builder.setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n                   @Override\r\n                   public void onClick(DialogInterface dialog, int which) {\r\n                       Toast.makeText(context, &quot;no&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                   }\r\n               });\r\n               builder.create();\r\n               builder.show();\r\n           }\r\n            @Override\r\n            public void onClick(View v) { }\r\n        }\r\n    }\r\n\r\n**Interface for communication**\r\n\r\n    public interface CarAdapterEvent {\r\n        void onDeleteClicked(Car car);\r\n        void onUpdateClicked(Car car);\r\n    }\r\n\r\n**BaseFragment**\r\n\r\n    public class BaseFragment extends Fragment implements CarAdapterEvent {\r\n    \r\n        private RecyclerView recyclerView;\r\n        private RecyclerView.LayoutManager layoutManager;\r\n        private List&lt;Car&gt;list=new ArrayList&lt;&gt;();\r\n        private MyViewModel myViewModel;\r\n        public RecyclerAdapter recyclerAdapter;\r\n    \r\n        // Required empty public constructor\r\n        public BaseFragment() { }\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)\r\n        {\r\n            // Inflate the layout for this fragment\r\n            View view= inflater.inflate(R.layout.fragment_base, container, false);\r\n            //Inflate recyclerView\r\n            recyclerView=view.findViewById(R.id.recyclerViewId);\r\n            // define and set LayoutManager\r\n            layoutManager= new GridLayoutManager(requireActivity(),2);\r\n            recyclerView.setLayoutManager(layoutManager);\r\n            //define and set RecyclerView Adapter\r\n            recyclerAdapter = new RecyclerAdapter(list, getContext(),this);\r\n            recyclerView.setAdapter(recyclerAdapter);\r\n            //observer\r\n           myViewModel= new ViewModelProvider(this).get(MyViewModel.class);\r\n           myViewModel.getGetAllCars().observe(getViewLifecycleOwner(), new Observer&lt;List&lt;Car&gt;&gt;() {\r\n               @Override\r\n               public void onChanged(List&lt;Car&gt; cars) {\r\n                   recyclerAdapter.setData(cars);\r\n               }\r\n           });\r\n            return view;\r\n        }\r\n        @Override\r\n        public void onDeleteClicked(Car car) {\r\n          myViewModel.deleteCar(car);\r\n          MainActivity.fragmentManager.beginTransaction().replace(R.id.container,new BaseFragment(),null).commit();\r\n        }\r\n        @Override\r\n        public void onUpdateClicked(Car car) {\r\n            myViewModel.updateCar(car);\r\n            MainActivity.fragmentManager.beginTransaction().replace(R.id.container,new UpdateFragment(),null).commit();\r\n    \r\n        }\r\n    }\r\n\r\n ","title":"Problem with update an instance using MVVM, Fragments and RecyclerView","body":"<p>I'm new to Programming and to Android and have please a question.\nI have just easy app to insert, delete and update cars.\nI create an interface to communicate the RecyclerAdapter to the Fragments.\nInsert and delete cars work without problemes, however when I update the instance it will be not changed.\nTo make it more clearly,the user has a button &quot;updateButtonOnRecyclerView&quot; on RecyclerView and when he clicks it,he get the UpdateFragment where he can update the instance and finally he clicks the button &quot;updateButtonOnFragment&quot; to save the updates.</p>\n<p>I hope that someone can help me. thanks a lot.</p>\n<p><strong>UpdateFragment</strong></p>\n<pre><code>public class UpdateFragment extends Fragment {\n\n    private EditText modelUpdate;\n    private EditText colorUpdate;\n    private EditText dplUpdate;\n    private EditText priceUpdate;\n    private EditText descriptionUpdate;\n    private Button updateButtonOnFragment;\n    private MyViewModel myViewModel;\n    public UpdateFragment() {\n        // Required empty public constructor\n    }\n    \n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n       View view= inflater.inflate(R.layout.fragment_update, container, false);\n       \n        modelUpdate=view.findViewById(R.id.input_model_update);\n        colorUpdate=view.findViewById(R.id.input_color_update);\n        priceUpdate=view.findViewById(R.id.input_price_update);\n        dplUpdate=view.findViewById(R.id.input_dpl_update);\n        descriptionUpdate=view.findViewById(R.id.input_description_update);\n\n        MyViewModel myViewModel= new ViewModelProvider(this).get(MyViewModel.class);\n        \n        updateButtonOnFragment =view.findViewById(R.id.btnUpdate);\n        updateButtonOnFragment.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String model=modelUpdate.getText().toString();\n                String color=colorUpdate.getText().toString();\n                String price=priceUpdate.getText().toString();\n                String dpl=dplUpdate.getText().toString();\n                String description=descriptionUpdate.getText().toString();\n\n                // create an instance of car\n                Car car = new Car();\n                car.setCarModel(model);\n                car.setCarColor(color);\n                car.setCarDescription(description);\n                car.setCarDpl(dpl);\n                car.setCarPrice(price);\n\n                myViewModel.updateCar(car);\n\n                MainActivity.fragmentManager.beginTransaction().replace(R.id.container,new BaseFragment(),null).commit();\n            }\n\n        });\n\n       return view;\n    }\n}\n</code></pre>\n<p><strong>RecyclerAdapter</strong></p>\n<pre><code>public class RecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerAdapter.MyViewHolder&gt; {\n\n   private List&lt;Car&gt;list;\n   private Context context;\n   private MyViewModel myViewModel;\n   private CarAdapterEvent carAdapterEvent;\n   //Constructor\n    public RecyclerAdapter(List&lt;Car&gt; list,Context context,CarAdapterEvent carAdapterEvent ) {\n        this.list = list;\n        this.context=context;\n        this.carAdapterEvent=carAdapterEvent;\n    }\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.car_item,parent,false);\n        MyViewHolder myViewHolder = new MyViewHolder(view);\n        context=parent.getContext();\n        return myViewHolder;\n    }\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        Car car = list.get(position);\n        holder.tvModel.setText(car.getCarModel());\n        holder.tvColor.setText(car.getCarColor());\n        holder.tvDpl.setText(car.getCarDpl());\n        holder.tvDescription.setText(car.getCarDescription());\n        holder.tvPrice.setText(car.getCarPrice());\n    }\n    @Override\n    public int getItemCount() {\n        if(list !=null)\n        {\n            return list.size();\n        }\n        else return 0;\n    }\n   public void setData(List&lt;Car&gt;list){\n       this.list=list;\n       notifyDataSetChanged();\n   }\n    // generate ViewHolder\n    public class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n        TextView tvModel;\n        TextView tvColor;\n        TextView tvDpl;\n        TextView tvDescription;\n        TextView tvPrice;\n        Button btnDelete;\n        Button updateButtonOnRecyclerView;\n        // Constructor of ViewHolder\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n            // Inflate the views\n            tvModel=itemView.findViewById(R.id.model);\n            tvColor=itemView.findViewById(R.id.color);\n            tvDescription=itemView.findViewById(R.id.description);\n            tvDpl=itemView.findViewById(R.id.dpl);\n            tvPrice=itemView.findViewById(R.id.price);\n            btnDelete=itemView.findViewById(R.id.btn_delete);\n            updateButtonOnRecyclerView =itemView.findViewById(R.id.btn_update);\n            \n            // Listener for Delete button\n            btnDelete.setOnClickListener(this);\n            btnDelete.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    int position = getAdapterPosition();\n                    carAdapterEvent.onDeleteClicked(list.get(position));\n                }\n            });\n            //Listener for update button\n            updateButtonOnRecyclerView.setOnClickListener(this);\n            updateButtonOnRecyclerView.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    int position = getAdapterPosition();\n                    carAdapterEvent.onUpdateClicked(list.get(position));\n                }\n            });\n        }\n       private void CreateAlertDialoge()\n       {\n           AlertDialog.Builder builder =new AlertDialog.Builder(context);\n           builder.setMessage(&quot;Are you sure to delete&quot;);\n           builder.setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n               @Override\n               public void onClick(DialogInterface dialog, int which) {\n\n                   Car car = new Car();\n                   int ID=list.get(getAdapterPosition()).getCarId();\n                   car.setCarId(ID);\n\n\n                  myViewModel.deleteCar(car);\n\n\n                   MainActivity.fragmentManager.beginTransaction().replace(R.id.container,new BaseFragment(),null).commit();\n\n                   Toast.makeText(context, &quot;Yes&quot;, Toast.LENGTH_SHORT).show();\n               }\n           });\n           builder.setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n               @Override\n               public void onClick(DialogInterface dialog, int which) {\n                   Toast.makeText(context, &quot;no&quot;, Toast.LENGTH_SHORT).show();\n\n               }\n           });\n           builder.create();\n           builder.show();\n       }\n        @Override\n        public void onClick(View v) { }\n    }\n}\n</code></pre>\n<p><strong>Interface for communication</strong></p>\n<pre><code>public interface CarAdapterEvent {\n    void onDeleteClicked(Car car);\n    void onUpdateClicked(Car car);\n}\n</code></pre>\n<p><strong>BaseFragment</strong></p>\n<pre><code>public class BaseFragment extends Fragment implements CarAdapterEvent {\n\n    private RecyclerView recyclerView;\n    private RecyclerView.LayoutManager layoutManager;\n    private List&lt;Car&gt;list=new ArrayList&lt;&gt;();\n    private MyViewModel myViewModel;\n    public RecyclerAdapter recyclerAdapter;\n\n    // Required empty public constructor\n    public BaseFragment() { }\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)\n    {\n        // Inflate the layout for this fragment\n        View view= inflater.inflate(R.layout.fragment_base, container, false);\n        //Inflate recyclerView\n        recyclerView=view.findViewById(R.id.recyclerViewId);\n        // define and set LayoutManager\n        layoutManager= new GridLayoutManager(requireActivity(),2);\n        recyclerView.setLayoutManager(layoutManager);\n        //define and set RecyclerView Adapter\n        recyclerAdapter = new RecyclerAdapter(list, getContext(),this);\n        recyclerView.setAdapter(recyclerAdapter);\n        //observer\n       myViewModel= new ViewModelProvider(this).get(MyViewModel.class);\n       myViewModel.getGetAllCars().observe(getViewLifecycleOwner(), new Observer&lt;List&lt;Car&gt;&gt;() {\n           @Override\n           public void onChanged(List&lt;Car&gt; cars) {\n               recyclerAdapter.setData(cars);\n           }\n       });\n        return view;\n    }\n    @Override\n    public void onDeleteClicked(Car car) {\n      myViewModel.deleteCar(car);\n      MainActivity.fragmentManager.beginTransaction().replace(R.id.container,new BaseFragment(),null).commit();\n    }\n    @Override\n    public void onUpdateClicked(Car car) {\n        myViewModel.updateCar(car);\n        MainActivity.fragmentManager.beginTransaction().replace(R.id.container,new UpdateFragment(),null).commit();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","sql-server","database","jdbc","connection"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":3,"creation_date":1647003951,"post_id":71438931,"comment_id":126269749,"body_markdown":"Do you have the driver jar on your classpath? &quot;This seems like it should be a lot easier than it&#39;s turning out to be.&quot; I don&#39;t know why you would assume that. It&#39;s very easy when you have plenty of experience, but if you don&#39;t have any experience, everything programming related is difficult and requires careful reading of documentation etc.","body":"Do you have the driver jar on your classpath? &quot;This seems like it should be a lot easier than it&#39;s turning out to be.&quot; I don&#39;t know why you would assume that. It&#39;s very easy when you have plenty of experience, but if you don&#39;t have any experience, everything programming related is difficult and requires careful reading of documentation etc."},{"owner":{"account_id":4683222,"reputation":23,"user_id":3791378,"display_name":"guitardave77"},"score":0,"creation_date":1647005024,"post_id":71438931,"comment_id":126270119,"body_markdown":"That&#39;s all it was was a missing JAR from the classpath. Thank you.\n\nI have 20 years experience in Python and C#. I know I shouldn&#39;t make assumptions like I did, however with the experience I do have, I felt it should have been quicker. Either way, I thank you for your help.","body":"That&#39;s all it was was a missing JAR from the classpath. Thank you.  I have 20 years experience in Python and C#. I know I shouldn&#39;t make assumptions like I did, however with the experience I do have, I felt it should have been quicker. Either way, I thank you for your help."}],"owner":{"account_id":4683222,"reputation":23,"user_id":3791378,"display_name":"guitardave77"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647003908,"creation_date":1647003684,"question_id":71438931,"body_markdown":"I am very new to Java and am simply trying to connect to my MSSQL database and return a list of customers. When I try the JDBC connection, I get a &quot;no suitable driver found&quot; error. When I add a `Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;)` statement, I get a ClassNotFound error. This seems like it should be a lot easier than it&#39;s turning out to be. Please help me either find a suitable driver or how to get access through the Class.forName usage.\r\n\r\n```\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\nimport java.sql.ResultSet;\r\nimport java.sql.Statement;\r\n\r\npublic class DbConn {\r\n\r\n    public static String getConnString(){\r\n        return &quot;jdbc:sqlserver://localhost\\\\SQLEXPRESS:1433;database=OhHold;&quot;;\r\n    }\r\n\r\n    public static void getConnection() {\r\n        try\r\n        {\r\n            //Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n            String user = &quot;&lt;USER&gt;&quot;;\r\n            String pw = &quot;****************&quot;;\r\n            Connection connection = DriverManager.getConnection(getConnString(), user, pw);\r\n            Statement statement = connection.createStatement();\r\n            String sql = &quot;select txtCompanyName as company from tblCustomers where intNotActive &lt;&gt; 1&quot;;\r\n            ResultSet result = statement.executeQuery(sql);\r\n            while (result.next()) {\r\n                System.out.println(result.getString(1));\r\n            }\r\n\r\n        }\r\n        /*\r\n        // Handle any errors that may have occurred.\r\n        catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n         */\r\n        catch (SQLException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        getConnection();\r\n    }\r\n}\r\n```","title":"JDBC SQL Server errors: ClassNotFound &amp; Not Suitable Driver Found","body":"<p>I am very new to Java and am simply trying to connect to my MSSQL database and return a list of customers. When I try the JDBC connection, I get a &quot;no suitable driver found&quot; error. When I add a <code>Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;)</code> statement, I get a ClassNotFound error. This seems like it should be a lot easier than it's turning out to be. Please help me either find a suitable driver or how to get access through the Class.forName usage.</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.sql.ResultSet;\nimport java.sql.Statement;\n\npublic class DbConn {\n\n    public static String getConnString(){\n        return &quot;jdbc:sqlserver://localhost\\\\SQLEXPRESS:1433;database=OhHold;&quot;;\n    }\n\n    public static void getConnection() {\n        try\n        {\n            //Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n            String user = &quot;&lt;USER&gt;&quot;;\n            String pw = &quot;****************&quot;;\n            Connection connection = DriverManager.getConnection(getConnString(), user, pw);\n            Statement statement = connection.createStatement();\n            String sql = &quot;select txtCompanyName as company from tblCustomers where intNotActive &lt;&gt; 1&quot;;\n            ResultSet result = statement.executeQuery(sql);\n            while (result.next()) {\n                System.out.println(result.getString(1));\n            }\n\n        }\n        /*\n        // Handle any errors that may have occurred.\n        catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n\n         */\n        catch (SQLException ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) {\n        getConnection();\n    }\n}\n</code></pre>\n"},{"tags":["java","html","spring-boot","character-encoding","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636554151,"creation_date":1636554151,"answer_id":69914953,"question_id":69914526,"body_markdown":"You did not disclose more information other than &quot;When I put just a (%) as a character&quot; and &quot;I am encoding the data&quot;. \r\n\r\nMy crystal bulb is telling me there is some http(s) request and one of the request parameters contains an encoded percentage sign only. When this request is parsed by the server the %25 is decoded back into %. So far no problem.\r\n\r\nBut is it possible that the application now tries to decode the data itself and just sees the % sign? Then it would come back with exactly the error that you see.\r\n\r\nIn that case you might want to double encode: % -&gt; %25 -&gt; %2525","title":"Exception is thrown when input with % is send to the back end - Thymeleaf","body":"<p>You did not disclose more information other than &quot;When I put just a (%) as a character&quot; and &quot;I am encoding the data&quot;.</p>\n<p>My crystal bulb is telling me there is some http(s) request and one of the request parameters contains an encoded percentage sign only. When this request is parsed by the server the %25 is decoded back into %. So far no problem.</p>\n<p>But is it possible that the application now tries to decode the data itself and just sees the % sign? Then it would come back with exactly the error that you see.</p>\n<p>In that case you might want to double encode: % -&gt; %25 -&gt; %2525</p>\n"},{"tags":[],"owner":{"account_id":19233767,"reputation":11,"user_id":14055151,"display_name":"Faisal Shahzad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647003685,"creation_date":1647003685,"answer_id":71438932,"question_id":69914526,"body_markdown":"change your thymeleaf version. \r\n\r\n\r\n  \r\n\r\n    &lt;properties&gt;\r\n        &lt;thymeleaf.version&gt;3.0.13.RELEASE&lt;/thymeleaf.version&gt;\r\n    &lt;/properties&gt; \r\n\r\nfor more information about this bug, you can read about it. hope it will resolve your issue.[Thymeleaf Issue#255]\r\n  [1]: https://github.com/thymeleaf/thymeleaf-spring/issues/255","title":"Exception is thrown when input with % is send to the back end - Thymeleaf","body":"<p>change your thymeleaf version.</p>\n<pre><code>&lt;properties&gt;\n    &lt;thymeleaf.version&gt;3.0.13.RELEASE&lt;/thymeleaf.version&gt;\n&lt;/properties&gt; \n</code></pre>\n<p>for more information about this bug, you can read about it. hope it will resolve your issue.[Thymeleaf Issue#255]\n[1]: <a href=\"https://github.com/thymeleaf/thymeleaf-spring/issues/255\" rel=\"nofollow noreferrer\">https://github.com/thymeleaf/thymeleaf-spring/issues/255</a></p>\n"}],"owner":{"account_id":16166726,"reputation":69,"user_id":11671547,"display_name":"Newboz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69914953,"answer_count":2,"score":0,"last_activity_date":1647003685,"creation_date":1636552395,"question_id":69914526,"body_markdown":"I have some html text inputs which send data to a back-end spring system. When I put just a (%) as a character I am getting the following Exception:\r\n\r\n```\r\n java.lang.IllegalArgumentException: Incomplete escaping sequence in input\r\n14:17:34,269 INFO  [stdout] (default task-4) \tat org.unbescape.uri.UriEscapeUtil.unescape(UriEscapeUtil.java:617)\r\n14:17:34,269 INFO  [stdout] (default task-4) \tat org.unbescape.uri.UriEscape.unescapeUriQueryParam(UriEscape.java:1702)\r\n14:17:34,269 INFO  [stdout] (default task-4) \tat org.unbescape.uri.UriEscape.unescapeUriQueryParam(UriEscape.java:1668)\r\n14:17:34,269 INFO  [stdout] (default task-4) \tat org.thymeleaf.spring5.util.SpringRequestUtils.checkViewNameNotInRequest(SpringRequestUtils.java:55)\r\n14:17:34,269 INFO  [stdout] (default task-4) \tat org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:275)\r\n14:17:34,269 INFO  [stdout] (default task-4) \tat org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)\r\n```\r\n\r\nI am encoding the data before is sent to the back-end using JS&#39;s encodeURIComponent method and in the link the % becomes %25 which is the correct encoded value but why does it throw an exception and what is the possible solution to this I am out of ideas tbh.\r\n\r\nThank you in advance for your responses :)","title":"Exception is thrown when input with % is send to the back end - Thymeleaf","body":"<p>I have some html text inputs which send data to a back-end spring system. When I put just a (%) as a character I am getting the following Exception:</p>\n<pre><code> java.lang.IllegalArgumentException: Incomplete escaping sequence in input\n14:17:34,269 INFO  [stdout] (default task-4)    at org.unbescape.uri.UriEscapeUtil.unescape(UriEscapeUtil.java:617)\n14:17:34,269 INFO  [stdout] (default task-4)    at org.unbescape.uri.UriEscape.unescapeUriQueryParam(UriEscape.java:1702)\n14:17:34,269 INFO  [stdout] (default task-4)    at org.unbescape.uri.UriEscape.unescapeUriQueryParam(UriEscape.java:1668)\n14:17:34,269 INFO  [stdout] (default task-4)    at org.thymeleaf.spring5.util.SpringRequestUtils.checkViewNameNotInRequest(SpringRequestUtils.java:55)\n14:17:34,269 INFO  [stdout] (default task-4)    at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:275)\n14:17:34,269 INFO  [stdout] (default task-4)    at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)\n</code></pre>\n<p>I am encoding the data before is sent to the back-end using JS's encodeURIComponent method and in the link the % becomes %25 which is the correct encoded value but why does it throw an exception and what is the possible solution to this I am out of ideas tbh.</p>\n<p>Thank you in advance for your responses :)</p>\n"},{"tags":["java","spring","transactions","spring-transactions"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1647001155,"post_id":71438044,"comment_id":126268758,"body_markdown":"Your service should be `@Transactional`, I don&#39;t see it. Secondly use `findOne` instead of `getOne`.","body":"Your service should be <code>@Transactional</code>, I don&#39;t see it. Secondly use <code>findOne</code> instead of <code>getOne</code>."},{"owner":{"account_id":15846752,"reputation":41,"user_id":11433847,"display_name":"Almat Rakhmetolla"},"score":0,"creation_date":1647002109,"post_id":71438044,"comment_id":126269128,"body_markdown":"I added @Transactional, but i did not help. Changed to findOne, also did not helped.","body":"I added @Transactional, but i did not help. Changed to findOne, also did not helped."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1647002412,"post_id":71438044,"comment_id":126269229,"body_markdown":"Something must be triggering the rollback. Not sure what, your controller you have here wouldn&#39;t even work as it wouldn&#39;t get anything injected. So is this your actual code or a dumbed down version of it?","body":"Something must be triggering the rollback. Not sure what, your controller you have here wouldn&#39;t even work as it wouldn&#39;t get anything injected. So is this your actual code or a dumbed down version of it?"},{"owner":{"account_id":15846752,"reputation":41,"user_id":11433847,"display_name":"Almat Rakhmetolla"},"score":0,"creation_date":1647003375,"post_id":71438044,"comment_id":126269548,"body_markdown":"It is dumbed down version. Sorry, I missed the line with @Autowired there in conroller.","body":"It is dumbed down version. Sorry, I missed the line with @Autowired there in conroller."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1647239293,"post_id":71438044,"comment_id":126311797,"body_markdown":"Then I&#39;m not going to even try to start to answer this question. It is a dumbed down version, so a version which probably doesn&#39;t even have the issue. Please use actual code or code that we can run to actually see the issue.","body":"Then I&#39;m not going to even try to start to answer this question. It is a dumbed down version, so a version which probably doesn&#39;t even have the issue. Please use actual code or code that we can run to actually see the issue."}],"owner":{"account_id":15846752,"reputation":41,"user_id":11433847,"display_name":"Almat Rakhmetolla"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":833,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647003499,"creation_date":1646999183,"question_id":71438044,"body_markdown":"When I call **POST** method it throws exception with message *&quot;Transaction silently rolled back because it has been marked as rollback-only&quot;*. I have tried to change transaction strategies. Changed propagation levels, rollback(rollbackFor, rollbackForClassName) cases. But I could not find a solution.\r\n\r\nI have **entity**:\r\n    \r\n    @Entity\r\n    @Table(name = &quot;ORGANIZATION&quot;)\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Organization extends AbstractEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue(generator = &quot;ORGANIZATION_SEQ&quot;, strategy = GenerationType.SEQUENCE)\r\n        @SequenceGenerator(sequenceName = &quot;ORGANIZATION_ID_SEQ&quot;, name = &quot;ORGANIZATION_ID&quot;, allocationSize = 1)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;NAME&quot;, nullable = false)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;MANAGER_FULL_NAME&quot;, nullable = false)\r\n        private String managerFullName;\r\n    \r\n        @Column(name = &quot;IIN&quot;, nullable = false, unique = true)\r\n        private String iin;\r\n    \r\n        @Column(name = &quot;IBAN&quot;, nullable = false, unique = true)\r\n        private String iban;\r\n    \r\n        @Column(name = &quot;EMAIL&quot;, unique = true)\r\n        private String email;\r\n    \r\n        @Column(name = &quot;TEL_NUMBER&quot;, nullable = false, unique = true)\r\n        private String telNumber;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        @Column(name = &quot;CONFIRMATION_STATUS&quot;)\r\n        private OrganizationConfirmationStatus confirmationStatus = OrganizationConfirmationStatus.NEW;\r\n    \r\n        @Column(name = &quot;CONFIRMED_DATE&quot;)\r\n        private LocalDateTime confirmedDate;\r\n    \r\n        @Column(name = &quot;CONFIRMED_BY&quot;)\r\n        private String confirmedBy;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;USER_ID&quot;, foreignKey = @ForeignKey(name = &quot;ORGANIZATION_USER_FK&quot;))\r\n        @JsonManagedReference\r\n        private SecUser user;\r\n    \r\n        @Column(name = &quot;COMPANY_NAME&quot;)\r\n        private String companyName;\r\n    \r\n        @Column(name = &quot;DESCRIPTION&quot;)\r\n        private String description;\r\n    \r\n        @Column(name = &quot;ADDRESS&quot;)\r\n        private String address;\r\n    \r\n        @Column(name = &quot;INSTAGRAM_LINK&quot;)\r\n        private String instagramLink;\r\n    \r\n        @Column(name = &quot;SITE_LINK&quot;)\r\n        private String siteLink;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;COMPANY_CATEGORY_ID&quot;, foreignKey = @ForeignKey(name = &quot;ORGANIZATION_COMPANY_CATEGORY_FK&quot;))\r\n        @JsonManagedReference\r\n        private CompanyCategory companyCategory;\r\n    \r\n        @ManyToMany(cascade = {CascadeType.PERSIST})\r\n        @JoinTable(\r\n                name = &quot;ORGANIZATION_PICS&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;ORGANIZATION_ID&quot;, foreignKey = @ForeignKey(name = &quot;ORGANIZATION_PICS_ORGANIZATION_FK&quot;)),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;FILE_ID&quot;, foreignKey = @ForeignKey(name = &quot;ORGANIZATION_PICS_FILE_FK&quot;)))\r\n        private List&lt;SysFile&gt; pics;\r\n    \r\n        @Column(name = &quot;REJECT_MESSAGE&quot;)\r\n        private String rejectMessage;\r\n    \r\n        public void addPic(SysFile pic){\r\n            getPics().add(pic);\r\n        }\r\n    \r\n        public void deletePic(SysFile pic){\r\n            if(!getPics().isEmpty()){\r\n                getPics().remove(pic);\r\n            }\r\n        }\r\n    \r\n        public void deletePics(List&lt;SysFile&gt; pics){\r\n            if(!getPics().isEmpty()){\r\n                this.getPics().removeAll(pics);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nAnd **repository**:\r\n   \r\n    @Repository\r\n    public interface OrgRepo extends JpaRepository&lt;Organization, Long&gt; {\r\n    }\r\n\r\nAnd **service**:\r\n\r\n    public interface OrgService {\r\n        Organization createOrg(OrganizationCreateFilter filter);\r\n    }\r\n\r\nAnd **implementation**: \r\n\r\n    @Service\r\n    public class OrgServiceImpl implements OrgService {\r\n    \r\n        @Autowired\r\n        private CompanyCategoryService companyCategoryService;\r\n    \r\n        @Autowired\r\n        private UserService userService;\r\n        \r\n        @Autowired\r\n        private OrgRepo repo;\r\n    \r\n        @Override\r\n        public Organization createOrg(OrganizationCreateFilter filter) {\r\n            SecUser user = userService.getOne(filter.getUserId());\r\n            CompanyCategory companyCategory = companyCategoryService.getOne(filter.getCompanyCategoryId());\r\n    \r\n            Organization organization = new Organization();\r\n            organization.setUser(user);\r\n            organization.setConfirmationStatus(OrganizationConfirmationStatus.CONFIRMED);\r\n            organization.setEmail(filter.getEmail());\r\n            organization.setIban(filter.getIban());\r\n            organization.setName(filter.getName());\r\n            organization.setManagerFullName(filter.getManagerFullName());\r\n            organization.setTelNumber(filter.getTelNumber());\r\n            organization.setIin(filter.getIin());\r\n            organization.setCompanyCategory(companyCategory);\r\n            organization.setCompanyName(filter.getCompanyName());\r\n            organization.setAddress(filter.getAddress());\r\n            organization.setDescription(filter.getDescription());\r\n            organization.setSiteLink(filter.getSiteLink());\r\n            organization.setInstagramLink(filter.getInstagramLink());\r\n            return repo.save(organization);\r\n        }\r\n    }\r\n\r\nAnd **controller**: \r\n\r\n    @PreAuthorize(&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot;)\r\n    @RestController\r\n    @RequestMapping(&quot;/admin/orgs&quot;)\r\n    public class AdminOrgRest {\r\n    \r\n        @Autowired\r\n        private OrgService orgService;\r\n    \r\n        @PostMapping\r\n        public ResponseEntity&lt;?&gt; addOne(@Valid @RequestBody OrganizationCreateFilter filter) {\r\n            try{\r\n                orgService.createOrg(filter);\r\n                return ResponseModel.successPure();\r\n            } catch (Exception e){\r\n                return ResponseModel.error(HttpStatus.BAD_REQUEST, e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\nException:\r\n\r\n    org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:752)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\r\n    \tat kz.open.sankaz.service.impl.OrganizationServiceImpl$$EnhancerBySpringCGLIB$$a4e6144e.createOrg(&lt;generated&gt;)\r\n    \tat kz.open.sankaz.rest.admin.AdminOrgRest.addOne(AdminOrgRest.java:74)\r\n    \tat kz.open.sankaz.rest.admin.AdminOrgRest$$FastClassBySpringCGLIB$$ba9f907d.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n    \tat org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\r\n    \tat kz.open.sankaz.rest.admin.AdminOrgRest$$EnhancerBySpringCGLIB$$595b04e5.addOne(&lt;generated&gt;)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n    \tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilterInternal(AuthorizationFilter.java:58)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat kz.open.sankaz.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:74)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\nBut other **POST** and **PUT** methods are not throwing the same exception. Please, help!\r\n","title":"Method throws exception with message &quot;Transaction silently rolled back because it has been marked as rollback-only&quot;","body":"<p>When I call <strong>POST</strong> method it throws exception with message <em>&quot;Transaction silently rolled back because it has been marked as rollback-only&quot;</em>. I have tried to change transaction strategies. Changed propagation levels, rollback(rollbackFor, rollbackForClassName) cases. But I could not find a solution.</p>\n<p>I have <strong>entity</strong>:</p>\n<pre><code>@Entity\n@Table(name = &quot;ORGANIZATION&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Organization extends AbstractEntity {\n\n    @Id\n    @GeneratedValue(generator = &quot;ORGANIZATION_SEQ&quot;, strategy = GenerationType.SEQUENCE)\n    @SequenceGenerator(sequenceName = &quot;ORGANIZATION_ID_SEQ&quot;, name = &quot;ORGANIZATION_ID&quot;, allocationSize = 1)\n    private Long id;\n\n    @Column(name = &quot;NAME&quot;, nullable = false)\n    private String name;\n\n    @Column(name = &quot;MANAGER_FULL_NAME&quot;, nullable = false)\n    private String managerFullName;\n\n    @Column(name = &quot;IIN&quot;, nullable = false, unique = true)\n    private String iin;\n\n    @Column(name = &quot;IBAN&quot;, nullable = false, unique = true)\n    private String iban;\n\n    @Column(name = &quot;EMAIL&quot;, unique = true)\n    private String email;\n\n    @Column(name = &quot;TEL_NUMBER&quot;, nullable = false, unique = true)\n    private String telNumber;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;CONFIRMATION_STATUS&quot;)\n    private OrganizationConfirmationStatus confirmationStatus = OrganizationConfirmationStatus.NEW;\n\n    @Column(name = &quot;CONFIRMED_DATE&quot;)\n    private LocalDateTime confirmedDate;\n\n    @Column(name = &quot;CONFIRMED_BY&quot;)\n    private String confirmedBy;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;USER_ID&quot;, foreignKey = @ForeignKey(name = &quot;ORGANIZATION_USER_FK&quot;))\n    @JsonManagedReference\n    private SecUser user;\n\n    @Column(name = &quot;COMPANY_NAME&quot;)\n    private String companyName;\n\n    @Column(name = &quot;DESCRIPTION&quot;)\n    private String description;\n\n    @Column(name = &quot;ADDRESS&quot;)\n    private String address;\n\n    @Column(name = &quot;INSTAGRAM_LINK&quot;)\n    private String instagramLink;\n\n    @Column(name = &quot;SITE_LINK&quot;)\n    private String siteLink;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;COMPANY_CATEGORY_ID&quot;, foreignKey = @ForeignKey(name = &quot;ORGANIZATION_COMPANY_CATEGORY_FK&quot;))\n    @JsonManagedReference\n    private CompanyCategory companyCategory;\n\n    @ManyToMany(cascade = {CascadeType.PERSIST})\n    @JoinTable(\n            name = &quot;ORGANIZATION_PICS&quot;,\n            joinColumns = @JoinColumn(name = &quot;ORGANIZATION_ID&quot;, foreignKey = @ForeignKey(name = &quot;ORGANIZATION_PICS_ORGANIZATION_FK&quot;)),\n            inverseJoinColumns = @JoinColumn(name = &quot;FILE_ID&quot;, foreignKey = @ForeignKey(name = &quot;ORGANIZATION_PICS_FILE_FK&quot;)))\n    private List&lt;SysFile&gt; pics;\n\n    @Column(name = &quot;REJECT_MESSAGE&quot;)\n    private String rejectMessage;\n\n    public void addPic(SysFile pic){\n        getPics().add(pic);\n    }\n\n    public void deletePic(SysFile pic){\n        if(!getPics().isEmpty()){\n            getPics().remove(pic);\n        }\n    }\n\n    public void deletePics(List&lt;SysFile&gt; pics){\n        if(!getPics().isEmpty()){\n            this.getPics().removeAll(pics);\n        }\n    }\n\n}\n</code></pre>\n<p>And <strong>repository</strong>:</p>\n<pre><code>@Repository\npublic interface OrgRepo extends JpaRepository&lt;Organization, Long&gt; {\n}\n</code></pre>\n<p>And <strong>service</strong>:</p>\n<pre><code>public interface OrgService {\n    Organization createOrg(OrganizationCreateFilter filter);\n}\n</code></pre>\n<p>And <strong>implementation</strong>:</p>\n<pre><code>@Service\npublic class OrgServiceImpl implements OrgService {\n\n    @Autowired\n    private CompanyCategoryService companyCategoryService;\n\n    @Autowired\n    private UserService userService;\n    \n    @Autowired\n    private OrgRepo repo;\n\n    @Override\n    public Organization createOrg(OrganizationCreateFilter filter) {\n        SecUser user = userService.getOne(filter.getUserId());\n        CompanyCategory companyCategory = companyCategoryService.getOne(filter.getCompanyCategoryId());\n\n        Organization organization = new Organization();\n        organization.setUser(user);\n        organization.setConfirmationStatus(OrganizationConfirmationStatus.CONFIRMED);\n        organization.setEmail(filter.getEmail());\n        organization.setIban(filter.getIban());\n        organization.setName(filter.getName());\n        organization.setManagerFullName(filter.getManagerFullName());\n        organization.setTelNumber(filter.getTelNumber());\n        organization.setIin(filter.getIin());\n        organization.setCompanyCategory(companyCategory);\n        organization.setCompanyName(filter.getCompanyName());\n        organization.setAddress(filter.getAddress());\n        organization.setDescription(filter.getDescription());\n        organization.setSiteLink(filter.getSiteLink());\n        organization.setInstagramLink(filter.getInstagramLink());\n        return repo.save(organization);\n    }\n}\n</code></pre>\n<p>And <strong>controller</strong>:</p>\n<pre><code>@PreAuthorize(&quot;hasRole('ROLE_ADMIN')&quot;)\n@RestController\n@RequestMapping(&quot;/admin/orgs&quot;)\npublic class AdminOrgRest {\n\n    @Autowired\n    private OrgService orgService;\n\n    @PostMapping\n    public ResponseEntity&lt;?&gt; addOne(@Valid @RequestBody OrganizationCreateFilter filter) {\n        try{\n            orgService.createOrg(filter);\n            return ResponseModel.successPure();\n        } catch (Exception e){\n            return ResponseModel.error(HttpStatus.BAD_REQUEST, e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>Exception:</p>\n<pre><code>org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:752)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\n    at kz.open.sankaz.service.impl.OrganizationServiceImpl$$EnhancerBySpringCGLIB$$a4e6144e.createOrg(&lt;generated&gt;)\n    at kz.open.sankaz.rest.admin.AdminOrgRest.addOne(AdminOrgRest.java:74)\n    at kz.open.sankaz.rest.admin.AdminOrgRest$$FastClassBySpringCGLIB$$ba9f907d.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\n    at kz.open.sankaz.rest.admin.AdminOrgRest$$EnhancerBySpringCGLIB$$595b04e5.addOne(&lt;generated&gt;)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilterInternal(AuthorizationFilter.java:58)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at kz.open.sankaz.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:74)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>But other <strong>POST</strong> and <strong>PUT</strong> methods are not throwing the same exception. Please, help!</p>\n"},{"tags":["java","jsp","servlets"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1646322864,"post_id":71339748,"comment_id":126099486,"body_markdown":"You&#39;re setting your id and headline to `request.setAttribute` and reading from `session.getAttribute`,read from `request.getAttribute`","body":"You&#39;re setting your id and headline to <code>request.setAttribute</code> and reading from <code>session.getAttribute</code>,read from <code>request.getAttribute</code>"},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1646323376,"post_id":71339748,"comment_id":126099721,"body_markdown":"You probably want to change the action of your form in index.jsp to call your Servlet.  Your Servlet has the db code.  Also, the conditional if(!(request.getParameter(&quot;mysql&quot;)==null))  doesn&#39;t look right. Maybe it should be if(request.getParameter(&quot;mysql&quot;) != null)","body":"You probably want to change the action of your form in index.jsp to call your Servlet.  Your Servlet has the db code.  Also, the conditional if(!(request.getParameter(&quot;mysql&quot;)==null))  doesn&#39;t look right. Maybe it should be if(request.getParameter(&quot;mysql&quot;) != null)"},{"owner":{"account_id":24441930,"reputation":1,"user_id":18365499,"display_name":"Valeriy Liashuk"},"score":0,"creation_date":1646323452,"post_id":71339748,"comment_id":126099758,"body_markdown":"@HariHaravelan i do how you says and the resulst same null, null","body":"@HariHaravelan i do how you says and the resulst same null, null"},{"owner":{"account_id":24441930,"reputation":1,"user_id":18365499,"display_name":"Valeriy Liashuk"},"score":0,"creation_date":1646323724,"post_id":71339748,"comment_id":126099879,"body_markdown":"@rickz i doesn`t understand what do you mean about my form","body":"@rickz i doesn`t understand what do you mean about my form"},{"owner":{"account_id":24441930,"reputation":1,"user_id":18365499,"display_name":"Valeriy Liashuk"},"score":0,"creation_date":1646324073,"post_id":71339748,"comment_id":126100026,"body_markdown":"@rickz i change action to servlet action=&quot;${pageContext.request.contextPath}/display&quot; but now The requested resource [/MySQLSolrProject-1.0-SNAPSHOT/display] is not available","body":"@rickz i change action to servlet action=&quot;${pageContext.request.contextPath}/display&quot; but now The requested resource [/MySQLSolrProject-1.0-SNAPSHOT/display] is not available"},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1646324232,"post_id":71339748,"comment_id":126100105,"body_markdown":"Did you compile your Servlet and put the class file on the classpath?","body":"Did you compile your Servlet and put the class file on the classpath?"},{"owner":{"account_id":24441930,"reputation":1,"user_id":18365499,"display_name":"Valeriy Liashuk"},"score":0,"creation_date":1646324628,"post_id":71339748,"comment_id":126100245,"body_markdown":"@rickz i compile my project with the artifact to .war and then deploy on tomcat.\ni don`t how to send you picture there","body":"@rickz i compile my project with the artifact to .war and then deploy on tomcat. i don`t how to send you picture there"},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1646324968,"post_id":71339748,"comment_id":126100391,"body_markdown":"You need to check inside Tomcat to see that your  IndexServlet.class file is placed inside of the  WEB-INF/classes folder inside of your web app.  Did Tomcat unpack your war file?","body":"You need to check inside Tomcat to see that your  IndexServlet.class file is placed inside of the  WEB-INF/classes folder inside of your web app.  Did Tomcat unpack your war file?"},{"owner":{"account_id":24441930,"reputation":1,"user_id":18365499,"display_name":"Valeriy Liashuk"},"score":0,"creation_date":1646325146,"post_id":71339748,"comment_id":126100463,"body_markdown":"@rickz yes my IndexServlet lay in WEB-INF/classes","body":"@rickz yes my IndexServlet lay in WEB-INF/classes"},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1646326317,"post_id":71339748,"comment_id":126100931,"body_markdown":"You could try starting over with a simple  Hello World Servlet.  You need to see that you can get a simple code to work.","body":"You could try starting over with a simple  Hello World Servlet.  You need to see that you can get a simple code to work."},{"owner":{"account_id":24441930,"reputation":1,"user_id":18365499,"display_name":"Valeriy Liashuk"},"score":0,"creation_date":1646326788,"post_id":71339748,"comment_id":126101141,"body_markdown":"@rickz i create standart java ee project with hello servlet and when i trying to press button Hello Servlet site has 404 \nMessage The requested resource [/demo-1.0-SNAPSHOT/hello-servlet] is not available\nDescription The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.\nIn what can be error?","body":"@rickz i create standart java ee project with hello servlet and when i trying to press button Hello Servlet site has 404  Message The requested resource [/demo-1.0-SNAPSHOT/hello-servlet] is not available Description The origin server did not find a current representation for the target resource or is not willing to disclose that one exists. In what can be error?"},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1646327310,"post_id":71339748,"comment_id":126101342,"body_markdown":"Please describe your development environment.  How do you compile your Servlets?","body":"Please describe your development environment.  How do you compile your Servlets?"},{"owner":{"account_id":24441930,"reputation":1,"user_id":18365499,"display_name":"Valeriy Liashuk"},"score":0,"creation_date":1646327530,"post_id":71339748,"comment_id":126101416,"body_markdown":"I use maven phases first is clean to delete old .war and install to create .war, then i put it to Tomcat and start it.\nMy ide is Intellij Idea.\n@rickz","body":"I use maven phases first is clean to delete old .war and install to create .war, then i put it to Tomcat and start it. My ide is Intellij Idea. @rickz"},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1646329502,"post_id":71339748,"comment_id":126102135,"body_markdown":"I don&#39;t use maven or Intellij .  So, I can&#39;t help you with those.","body":"I don&#39;t use maven or Intellij .  So, I can&#39;t help you with those."}],"answers":[{"tags":[],"owner":{"account_id":24441930,"reputation":1,"user_id":18365499,"display_name":"Valeriy Liashuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647003352,"creation_date":1647003352,"answer_id":71438853,"question_id":71339748,"body_markdown":"the error was that Tomcat version 10.* didn&#39;t want to work with version 4 servlets\r\nI downgraded Tomcat to version 9.* and it worked.","title":"request.getAttribute() return null","body":"<p>the error was that Tomcat version 10.* didn't want to work with version 4 servlets\nI downgraded Tomcat to version 9.* and it worked.</p>\n"}],"owner":{"account_id":24441930,"reputation":1,"user_id":18365499,"display_name":"Valeriy Liashuk"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647003352,"creation_date":1646321641,"question_id":71339748,"body_markdown":"I can`t understand one thing when i send request to get object by name from db,\r\nit always return me null. I surf all sites try to fix it with session and etc. Nothing to work.\r\nAny ideas?\r\n[enter image description here][1]\r\nThis is my Servlet class: \r\n\r\n    @WebServlet(value = &quot;/display&quot;, name = &quot;IndexServlet&quot;)\r\n    public class IndexServlet extends HttpServlet {\r\n    \r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n            \r\n            try {\r\n                if(!(request.getParameter(&quot;mysql&quot;)==null)) {\r\n                    MySQLRepository sql = new MySQLRepository();\r\n                    Headline object = sql.getByHeadline(request.getParameter(&quot;mysql&quot;), DatabaseConnection.initDatabase());\r\n                    \r\n                    request.setAttribute(&quot;id&quot;, object.getId());\r\n                    request.setAttribute(&quot;headline&quot;, object.getHeadline());\r\n                    RequestDispatcher requestDispatcher = getServletContext().getRequestDispatcher(&quot;out.jsp&quot;);\r\n                    requestDispatcher.forward(request,response);\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\nThis is index.jsp: \r\n\r\n    &lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; %&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;MySQLSolrProject&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;body&gt;\r\n    &lt;form action=&quot;out.jsp&quot; method=&quot;get&quot;&gt;\r\n        &lt;p&gt;Headline:&lt;/p&gt;\r\n        &lt;label&gt;\r\n            &lt;input type=&quot;text&quot; name=&quot;mysql&quot;&gt;\r\n        &lt;/label&gt;\r\n        &lt;%--&lt;br&gt;\r\n        &lt;p&gt;Full text:&lt;/p&gt;\r\n        &lt;label&gt;\r\n            &lt;input type=&quot;text&quot; name=&quot;solr&quot;&gt;\r\n        &lt;/label&gt;--%&gt;\r\n        &lt;br&gt;&lt;br&gt;\r\n        &lt;input type=&quot;submit&quot; value=&quot;Search&quot; formmethod=&quot;get&quot;&gt;\r\n    &lt;/form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\nThis is out.jsp:\r\n\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Out&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h2&gt;Text is:&lt;/h2&gt;\r\n    &lt;table&gt;\r\n        &lt;tr&gt;&lt;th&gt;Id&lt;/th&gt;&lt;th&gt;Headline&lt;/th&gt;&lt;th&gt;&lt;/th&gt;&lt;/tr&gt;\r\n        &lt;tr&gt;&lt;td&gt;&lt;%=session.getAttribute(&quot;id&quot;)%&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;%=session.getAttribute(&quot;headline&quot;)%&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n    &lt;p&gt;&lt;a href=&quot;index.jsp&quot;&gt;Return to search&lt;/a&gt;&lt;/p&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Yn2YJ.png","title":"request.getAttribute() return null","body":"<p>I can`t understand one thing when i send request to get object by name from db,\nit always return me null. I surf all sites try to fix it with session and etc. Nothing to work.\nAny ideas?\n<a href=\"https://i.stack.imgur.com/Yn2YJ.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nThis is my Servlet class:</p>\n<pre><code>@WebServlet(value = &quot;/display&quot;, name = &quot;IndexServlet&quot;)\npublic class IndexServlet extends HttpServlet {\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        \n        try {\n            if(!(request.getParameter(&quot;mysql&quot;)==null)) {\n                MySQLRepository sql = new MySQLRepository();\n                Headline object = sql.getByHeadline(request.getParameter(&quot;mysql&quot;), DatabaseConnection.initDatabase());\n                \n                request.setAttribute(&quot;id&quot;, object.getId());\n                request.setAttribute(&quot;headline&quot;, object.getHeadline());\n                RequestDispatcher requestDispatcher = getServletContext().getRequestDispatcher(&quot;out.jsp&quot;);\n                requestDispatcher.forward(request,response);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>This is index.jsp:</p>\n<pre><code>&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; %&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;MySQLSolrProject&lt;/title&gt;\n&lt;/head&gt;\n&lt;!DOCTYPE html&gt;\n&lt;body&gt;\n&lt;form action=&quot;out.jsp&quot; method=&quot;get&quot;&gt;\n    &lt;p&gt;Headline:&lt;/p&gt;\n    &lt;label&gt;\n        &lt;input type=&quot;text&quot; name=&quot;mysql&quot;&gt;\n    &lt;/label&gt;\n    &lt;%--&lt;br&gt;\n    &lt;p&gt;Full text:&lt;/p&gt;\n    &lt;label&gt;\n        &lt;input type=&quot;text&quot; name=&quot;solr&quot;&gt;\n    &lt;/label&gt;--%&gt;\n    &lt;br&gt;&lt;br&gt;\n    &lt;input type=&quot;submit&quot; value=&quot;Search&quot; formmethod=&quot;get&quot;&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>This is out.jsp:</p>\n<pre><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Out&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h2&gt;Text is:&lt;/h2&gt;\n&lt;table&gt;\n    &lt;tr&gt;&lt;th&gt;Id&lt;/th&gt;&lt;th&gt;Headline&lt;/th&gt;&lt;th&gt;&lt;/th&gt;&lt;/tr&gt;\n    &lt;tr&gt;&lt;td&gt;&lt;%=session.getAttribute(&quot;id&quot;)%&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;%=session.getAttribute(&quot;headline&quot;)%&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n&lt;p&gt;&lt;a href=&quot;index.jsp&quot;&gt;Return to search&lt;/a&gt;&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","spring","soap","jax-ws"],"owner":{"account_id":7306188,"reputation":101,"user_id":5567028,"display_name":"Mika K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647003205,"creation_date":1647003205,"question_id":71438829,"body_markdown":"I have a need to support multiple versions of SOAP endpoint with the same URL, is this possible?\r\nSoap classes have been generated from a third party wsdl. \r\n\r\nIn web.xml I have:\r\n\r\n    &lt;servlet&gt;\r\n      &lt;servlet-name&gt;soap&lt;/servlet-name&gt;\r\n      &lt;servlet-class&gt;com.sun.xml.ws.transport.http.servlet.WSSpringServlet&lt;/servlet-class&gt;\r\n      &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n      &lt;servlet-name&gt;soap&lt;/servlet-name&gt;\r\n      &lt;url-pattern&gt;/soap/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n\r\n\r\nIn my applicationContext.xml I have the following:\r\n\r\n    &lt;wss:binding url=&quot;/soap/StuffService/&quot;&gt;\r\n        &lt;wss:service&gt;\r\n            &lt;ws:service bean=&quot;#stuffV1&quot;/&gt;\r\n        &lt;/wss:service&gt;\r\n    &lt;/wss:binding&gt;\r\n\r\n    &lt;bean id=&quot;stuffV1&quot; class=&quot;package.soap.StuffSoapEndpointV1&quot;/&gt;\r\n\r\nAnd I have a java class:\r\n\r\n    @WebService(\r\n            portName = &quot;BasicHttpBinding_IStuffService&quot;,\r\n            serviceName = &quot;StuffService&quot;,\r\n            endpointInterface = &quot;package.soap.stuff.IStuffService&quot;,\r\n            targetNamespace = &quot;http://stuff.example.org/Integration/Service/Outgoing/v1&quot;,\r\n            wsdlLocation = &quot;/WEB-INF/Integration.Service.Outgoing.v1.IStuff.wsdl&quot;)\r\n    @ApiOperation(value = &quot;Stuff Service&quot;)\r\n    public class StuffSoapEndpointV1 implements IStuffService {\r\n\r\nIs it possible to add a second version to the same url? Something in the lines of:\r\n\r\n    &lt;wss:binding url=&quot;/soap/StuffService/&quot;&gt;\r\n        &lt;wss:service&gt;\r\n            &lt;ws:service bean=&quot;#stuffV1&quot;/&gt;\r\n            &lt;ws:service bean=&quot;#stuffV2&quot;/&gt;\r\n        &lt;/wss:service&gt;\r\n    &lt;/wss:binding&gt;\r\n\r\n    &lt;bean id=&quot;stuffV1&quot; class=&quot;package.soap.StuffSoapEndpointV1&quot;/&gt;\r\n    &lt;bean id=&quot;stuffV2&quot; class=&quot;package.soap.StuffSoapEndpointV2&quot;/&gt;\r\n\r\n\r\n    @WebService(\r\n            portName = &quot;BasicHttpBinding_IStuffService&quot;,\r\n            serviceName = &quot;StuffService&quot;,\r\n            endpointInterface = &quot;package.soap.stuff.IStuffService&quot;,\r\n            targetNamespace = &quot;http://stuff.example.org/Integration/Service/Outgoing/v2&quot;,\r\n            wsdlLocation = &quot;/WEB-INF/Integration.Service.Outgoing.v2.IStuff.wsdl&quot;)\r\n    @ApiOperation(value = &quot;Stuff Service&quot;)\r\n    public class StuffSoapEndpointV2 implements IStuffService {\r\n\r\nThat doesn&#39;t work. Multiple ws:service tags are not allowed, same for wss:service and wss:binding with same url. Also I think that portName and serviceName combo should be unique, but they need to be same as in the wsdl which doesn&#39;t come from us.","title":"Multiple SOAP services at same URL (different version of the same)","body":"<p>I have a need to support multiple versions of SOAP endpoint with the same URL, is this possible?\nSoap classes have been generated from a third party wsdl.</p>\n<p>In web.xml I have:</p>\n<pre><code>&lt;servlet&gt;\n  &lt;servlet-name&gt;soap&lt;/servlet-name&gt;\n  &lt;servlet-class&gt;com.sun.xml.ws.transport.http.servlet.WSSpringServlet&lt;/servlet-class&gt;\n  &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n  &lt;servlet-name&gt;soap&lt;/servlet-name&gt;\n  &lt;url-pattern&gt;/soap/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n<p>In my applicationContext.xml I have the following:</p>\n<pre><code>&lt;wss:binding url=&quot;/soap/StuffService/&quot;&gt;\n    &lt;wss:service&gt;\n        &lt;ws:service bean=&quot;#stuffV1&quot;/&gt;\n    &lt;/wss:service&gt;\n&lt;/wss:binding&gt;\n\n&lt;bean id=&quot;stuffV1&quot; class=&quot;package.soap.StuffSoapEndpointV1&quot;/&gt;\n</code></pre>\n<p>And I have a java class:</p>\n<pre><code>@WebService(\n        portName = &quot;BasicHttpBinding_IStuffService&quot;,\n        serviceName = &quot;StuffService&quot;,\n        endpointInterface = &quot;package.soap.stuff.IStuffService&quot;,\n        targetNamespace = &quot;http://stuff.example.org/Integration/Service/Outgoing/v1&quot;,\n        wsdlLocation = &quot;/WEB-INF/Integration.Service.Outgoing.v1.IStuff.wsdl&quot;)\n@ApiOperation(value = &quot;Stuff Service&quot;)\npublic class StuffSoapEndpointV1 implements IStuffService {\n</code></pre>\n<p>Is it possible to add a second version to the same url? Something in the lines of:</p>\n<pre><code>&lt;wss:binding url=&quot;/soap/StuffService/&quot;&gt;\n    &lt;wss:service&gt;\n        &lt;ws:service bean=&quot;#stuffV1&quot;/&gt;\n        &lt;ws:service bean=&quot;#stuffV2&quot;/&gt;\n    &lt;/wss:service&gt;\n&lt;/wss:binding&gt;\n\n&lt;bean id=&quot;stuffV1&quot; class=&quot;package.soap.StuffSoapEndpointV1&quot;/&gt;\n&lt;bean id=&quot;stuffV2&quot; class=&quot;package.soap.StuffSoapEndpointV2&quot;/&gt;\n\n\n@WebService(\n        portName = &quot;BasicHttpBinding_IStuffService&quot;,\n        serviceName = &quot;StuffService&quot;,\n        endpointInterface = &quot;package.soap.stuff.IStuffService&quot;,\n        targetNamespace = &quot;http://stuff.example.org/Integration/Service/Outgoing/v2&quot;,\n        wsdlLocation = &quot;/WEB-INF/Integration.Service.Outgoing.v2.IStuff.wsdl&quot;)\n@ApiOperation(value = &quot;Stuff Service&quot;)\npublic class StuffSoapEndpointV2 implements IStuffService {\n</code></pre>\n<p>That doesn't work. Multiple ws:service tags are not allowed, same for wss:service and wss:binding with same url. Also I think that portName and serviceName combo should be unique, but they need to be same as in the wsdl which doesn't come from us.</p>\n"},{"tags":["java","pdf","itext","pdf-generation","itext7"],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1571328725,"creation_date":1571320254,"answer_id":58434289,"question_id":58415525,"body_markdown":"What you have observed in this and in your [previous][1] question is due to a peculiarity of the iText `PdfDocument` class: While it does represent a PDF document, it does not hold all of it in memory or in some accessible storage. In particular if you add content to it, this new content is by default flushed out of memory to the `PdfWriter` as soon as possible, making it inaccessible to the `PdfDocument`.\r\n\r\nThis enables you to keep the memory footprint fairly low while creating large PDFs with iText, a factor which can be very relevant in high-throughput applications.\r\n\r\nThe downside is that that there are restrictions to the use of `PdfDocument` instances; in particular you cannot freely copy from instances that have been written to as the current state of the data to copy might not be retrievable anymore.\r\n\r\nTo prevent you from copying inconsistent data, iText disallows copying from `PdfDocument` instances which *can* be written to, i.e. which have a `PdfWriter`.\r\n\r\nThus,\r\n\r\n* if you want to **copy from** a document, the `PdfDocument` needs to be initialized *without* a `PdfWriter`;\r\n* if you want to (non-trivially) **change** a document, the `PdfDocument` needs to be initialized *with* a `PdfWriter`;\r\n* so if you want to **change *and* copy from** a document, you cannot use the same `PdfDocument` instance for both actions!\r\n\r\nFor your use case, therefore, you have to\r\n\r\n* either take the output of the `PdfDocument` with `PdfWriter` after applying the changes and use it as input of a `PdfDocument` without `PdfWriter` to copy from;\r\n* or open two separate `PdfDocument` instances from the source file, one with and one without a `PdfWriter`, and apply the changes to the first and copy from the second.\r\n\r\nThe former option is necessary if the data you want to copy shall contain the changes you apply. The latter is necessary if they shall not contain them. If you don&#39;t care either way or if you know the copied data is not influenced by the changes, either option is ok.\r\n\r\n---\r\n\r\nIn your case you copy all pages from all documents in `pdfDocuments` to a target document, so in particular you want the changes you applied also be copied to the target. Thus, the former option applies, you have to *take the output of the `PdfDocument` with `PdfWriter` after applying the changes and use it as input of a `PdfDocument` without `PdfWriter` to copy from.* \r\n\r\nYou can do so by changing your `addBlankPage` like this:\r\n\r\n    public PdfDocument addBlankPage(final MediaModel pdfDocument) throws IOException {\r\n        try (   InputStream inputStream = mediaService.getStreamFromMedia(pdfDocument);\r\n                PdfReader reader = new PdfReader(inputStream);\r\n                PdfWriter writer = new PdfWriter(pdfDocument.getRealFileName());\r\n                PdfDocument document = new PdfDocument(reader, writer)) {\r\n            document.addNewPage(document.getFirstPage().getPageSize());\r\n        }\r\n        return new PdfDocument(new PdfReader(pdfDocument.getRealFileName()));\r\n    }\r\n\r\nor if you don&#39;t actually want to write the PDF into the file system:\r\n\r\n    public PdfDocument addBlankPage(final MediaModel pdfDocument) throws IOException {\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        try (   InputStream inputStream = mediaService.getStreamFromMedia(pdfDocument);\r\n                PdfReader reader = new PdfReader(inputStream);\r\n                PdfWriter writer = new PdfWriter(baos);\r\n                PdfDocument document = new PdfDocument(reader, writer)) {\r\n            document.addNewPage(document.getFirstPage().getPageSize());\r\n        }\r\n        return new PdfDocument(new PdfReader(new ByteArrayInputStream(baos.toByteArray())));\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/58395872/1729265\r\n","title":"Cannot copy indirect object from the document that is being written Java","body":"<p>What you have observed in this and in your <a href=\"https://stackoverflow.com/q/58395872/1729265\">previous</a> question is due to a peculiarity of the iText <code>PdfDocument</code> class: While it does represent a PDF document, it does not hold all of it in memory or in some accessible storage. In particular if you add content to it, this new content is by default flushed out of memory to the <code>PdfWriter</code> as soon as possible, making it inaccessible to the <code>PdfDocument</code>.</p>\n\n<p>This enables you to keep the memory footprint fairly low while creating large PDFs with iText, a factor which can be very relevant in high-throughput applications.</p>\n\n<p>The downside is that that there are restrictions to the use of <code>PdfDocument</code> instances; in particular you cannot freely copy from instances that have been written to as the current state of the data to copy might not be retrievable anymore.</p>\n\n<p>To prevent you from copying inconsistent data, iText disallows copying from <code>PdfDocument</code> instances which <em>can</em> be written to, i.e. which have a <code>PdfWriter</code>.</p>\n\n<p>Thus,</p>\n\n<ul>\n<li>if you want to <strong>copy from</strong> a document, the <code>PdfDocument</code> needs to be initialized <em>without</em> a <code>PdfWriter</code>;</li>\n<li>if you want to (non-trivially) <strong>change</strong> a document, the <code>PdfDocument</code> needs to be initialized <em>with</em> a <code>PdfWriter</code>;</li>\n<li>so if you want to <strong>change <em>and</em> copy from</strong> a document, you cannot use the same <code>PdfDocument</code> instance for both actions!</li>\n</ul>\n\n<p>For your use case, therefore, you have to</p>\n\n<ul>\n<li>either take the output of the <code>PdfDocument</code> with <code>PdfWriter</code> after applying the changes and use it as input of a <code>PdfDocument</code> without <code>PdfWriter</code> to copy from;</li>\n<li>or open two separate <code>PdfDocument</code> instances from the source file, one with and one without a <code>PdfWriter</code>, and apply the changes to the first and copy from the second.</li>\n</ul>\n\n<p>The former option is necessary if the data you want to copy shall contain the changes you apply. The latter is necessary if they shall not contain them. If you don't care either way or if you know the copied data is not influenced by the changes, either option is ok.</p>\n\n<hr>\n\n<p>In your case you copy all pages from all documents in <code>pdfDocuments</code> to a target document, so in particular you want the changes you applied also be copied to the target. Thus, the former option applies, you have to <em>take the output of the <code>PdfDocument</code> with <code>PdfWriter</code> after applying the changes and use it as input of a <code>PdfDocument</code> without <code>PdfWriter</code> to copy from.</em> </p>\n\n<p>You can do so by changing your <code>addBlankPage</code> like this:</p>\n\n<pre><code>public PdfDocument addBlankPage(final MediaModel pdfDocument) throws IOException {\n    try (   InputStream inputStream = mediaService.getStreamFromMedia(pdfDocument);\n            PdfReader reader = new PdfReader(inputStream);\n            PdfWriter writer = new PdfWriter(pdfDocument.getRealFileName());\n            PdfDocument document = new PdfDocument(reader, writer)) {\n        document.addNewPage(document.getFirstPage().getPageSize());\n    }\n    return new PdfDocument(new PdfReader(pdfDocument.getRealFileName()));\n}\n</code></pre>\n\n<p>or if you don't actually want to write the PDF into the file system:</p>\n\n<pre><code>public PdfDocument addBlankPage(final MediaModel pdfDocument) throws IOException {\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    try (   InputStream inputStream = mediaService.getStreamFromMedia(pdfDocument);\n            PdfReader reader = new PdfReader(inputStream);\n            PdfWriter writer = new PdfWriter(baos);\n            PdfDocument document = new PdfDocument(reader, writer)) {\n        document.addNewPage(document.getFirstPage().getPageSize());\n    }\n    return new PdfDocument(new PdfReader(new ByteArrayInputStream(baos.toByteArray())));\n}\n</code></pre>\n"}],"owner":{"account_id":14765511,"reputation":647,"user_id":10663685,"display_name":"Nexussim Lements"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2812,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58434289,"answer_count":1,"score":2,"last_activity_date":1647003064,"creation_date":1571235492,"question_id":58415525,"body_markdown":"I&#39;ve created a method like this:\r\n\r\n      public PdfDocument addBlankPage(final MediaModel pdfDocument) throws IOException {\r\n\r\n        final InputStream inputStream = mediaService.getStreamFromMedia(pdfDocument);\r\n        byte[] bytes = IOUtils.toByteArray(inputStream);\r\n        final PdfReader reader = new PdfReader(new ByteArrayInputStream(bytes));\r\n        final PdfWriter writer = new PdfWriter(pdfDocument.getRealFileName());\r\n        final PdfDocument document = new PdfDocument(reader, writer);\r\n        int index = document.getNumberOfPages();\r\n        final PageSize ps = new PageSize(document.getFirstPage().getPageSize());\r\n        document.addNewPage(index + 1, ps);\r\n        reader.close();\r\n        writer.close();\r\n        return document;\r\n\r\n    }\r\n\r\nIn order to add a new blank page to a PdfDocument and it looks fine and its &quot;seems&quot; to work. However , when I try to merge a PdfDocument with a blank page (added by my method) with other existing pdf documents in this method:\r\n\r\n     public .... {\r\n\r\n        ByteArrayOutputStream mergedPdfStream = new ByteArrayOutputStream();\r\n        PdfDocument mergedPdf = new PdfDocument(new PdfWriter(mergedPdfStream));\r\n\r\n        for (PdfDocument doc : pdfDocuments) {\r\n            int n = doc.getNumberOfPages();\r\n            \r\n            for (int i = 1; i &lt;= n; i++) {\r\n                 \r\n                PdfPage page = doc.getPage(i).copyTo(mergedPdf);\r\n                mergedPdf.addPage(page);\r\n                 \r\n            }\r\n        }\r\n        ....\r\n      \r\n    }\r\n\r\nIt throws :\r\n\r\n     com.itextpdf.kernel.PdfException: Cannot copy indirect object from the document that is being written.\r\n\tat com.itextpdf.kernel.pdf.PdfObject.copyTo(PdfObject.java:318) ~[kernel-7.1.1.jar:?]\r\n\tat com.itextpdf.kernel.pdf.PdfDictionary.copyTo(PdfDictionary.java:443) ~[kernel-7.1.1.jar:?]\r\n\tat com.itextpdf.kernel.pdf.PdfPage.copyTo(PdfPage.java:379) ~[kernel-7.1.1.jar:?]\r\n\tat com.itextpdf.kernel.pdf.PdfPage.copyTo(PdfPage.java:364) ~[kernel-7.1.1.jar:?]\r\n\r\nI googled it and I didn&#39;t found any relevant information . Any hint ?\r\n\r\nPD: I&#39;m 100% sure that my method is the guilty , because when I merge other PDFs without using the blank Page method , it always works..","title":"Cannot copy indirect object from the document that is being written Java","body":"<p>I've created a method like this:</p>\n\n<pre><code>  public PdfDocument addBlankPage(final MediaModel pdfDocument) throws IOException {\n\n    final InputStream inputStream = mediaService.getStreamFromMedia(pdfDocument);\n    byte[] bytes = IOUtils.toByteArray(inputStream);\n    final PdfReader reader = new PdfReader(new ByteArrayInputStream(bytes));\n    final PdfWriter writer = new PdfWriter(pdfDocument.getRealFileName());\n    final PdfDocument document = new PdfDocument(reader, writer);\n    int index = document.getNumberOfPages();\n    final PageSize ps = new PageSize(document.getFirstPage().getPageSize());\n    document.addNewPage(index + 1, ps);\n    reader.close();\n    writer.close();\n    return document;\n\n}\n</code></pre>\n\n<p>In order to add a new blank page to a PdfDocument and it looks fine and its \"seems\" to work. However , when I try to merge a PdfDocument with a blank page (added by my method) with other existing pdf documents in this method:</p>\n\n<pre><code> public .... {\n\n    ByteArrayOutputStream mergedPdfStream = new ByteArrayOutputStream();\n    PdfDocument mergedPdf = new PdfDocument(new PdfWriter(mergedPdfStream));\n\n    for (PdfDocument doc : pdfDocuments) {\n        int n = doc.getNumberOfPages();\n\n        for (int i = 1; i &lt;= n; i++) {\n\n            PdfPage page = doc.getPage(i).copyTo(mergedPdf);\n            mergedPdf.addPage(page);\n\n        }\n    }\n    ....\n\n}\n</code></pre>\n\n<p>It throws :</p>\n\n<pre><code> com.itextpdf.kernel.PdfException: Cannot copy indirect object from the document that is being written.\nat com.itextpdf.kernel.pdf.PdfObject.copyTo(PdfObject.java:318) ~[kernel-7.1.1.jar:?]\nat com.itextpdf.kernel.pdf.PdfDictionary.copyTo(PdfDictionary.java:443) ~[kernel-7.1.1.jar:?]\nat com.itextpdf.kernel.pdf.PdfPage.copyTo(PdfPage.java:379) ~[kernel-7.1.1.jar:?]\nat com.itextpdf.kernel.pdf.PdfPage.copyTo(PdfPage.java:364) ~[kernel-7.1.1.jar:?]\n</code></pre>\n\n<p>I googled it and I didn't found any relevant information . Any hint ?</p>\n\n<p>PD: I'm 100% sure that my method is the guilty , because when I merge other PDFs without using the blank Page method , it always works..</p>\n"},{"tags":["java","go","openapi","openapi-generator"],"comments":[{"owner":{"account_id":20175571,"reputation":1644,"user_id":14797322,"display_name":"Micah Parks"},"score":0,"creation_date":1626453498,"post_id":68405860,"comment_id":120905941,"body_markdown":"So I have tried to use [`openapi-generator`](https://github.com/OpenAPITools/openapi-generator) before. The code quality was not great and it was relatively difficult to use. After trying a few other options, I found this was the best generator for OpenAPI specifications: [`go-swagger`](https://github.com/go-swagger/go-swagger). Here are some links to the documentation that are relevant to your issue for `go-swagger`: [models](https://goswagger.io/faq/faq_model.html) and [schema](https://goswagger.io/use/models/schemas.html). `go-swagger` only supports OpenAPI 2.0 AKA Swagger 2.0.","body":"So I have tried to use <a href=\"https://github.com/OpenAPITools/openapi-generator\" rel=\"nofollow noreferrer\"><code>openapi-generator</code></a> before. The code quality was not great and it was relatively difficult to use. After trying a few other options, I found this was the best generator for OpenAPI specifications: <a href=\"https://github.com/go-swagger/go-swagger\" rel=\"nofollow noreferrer\"><code>go-swagger</code></a>. Here are some links to the documentation that are relevant to your issue for <code>go-swagger</code>: <a href=\"https://goswagger.io/faq/faq_model.html\" rel=\"nofollow noreferrer\">models</a> and <a href=\"https://goswagger.io/use/models/schemas.html\" rel=\"nofollow noreferrer\">schema</a>. <code>go-swagger</code> only supports OpenAPI 2.0 AKA Swagger 2.0."}],"owner":{"account_id":19465182,"reputation":31,"user_id":14238582,"display_name":"Shiva Ganesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1335,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1647002889,"creation_date":1626423910,"question_id":68405860,"body_markdown":"So I&#39;m using openAPI to generate API classes in Golang and Java. The way the generators of the respective languages interpret the yml file seems to be different.\r\n\r\nHere is a part of the yml file:\r\n\r\n    parameters:\r\n            - name: collectionName\r\n              schema:\r\n                type: string\r\n            - name: filter_by\r\n              in: query\r\n              schema:\r\n                type: string\r\n              required: true\r\n            - name: batch_size\r\n              in: query \r\n              required: true\r\n              schema:\r\n                type: integer \r\n\r\nAnd the generator for Golang generated the following structure:\r\n\r\n    type DeleteDocumentsParams struct {\r\n    \r\n    \tFilterBy string `json:&quot;filter_by&quot;`\r\n    \r\n    \tBatchSize int `json:&quot;batch_size&quot;`\r\n    }\r\nwhile for Java, no such class was created. However if I wrap the `filter_by` and `batch_size` parameters within an object like this\r\n\r\n      parameters:\r\n        - name: collectionName\r\n          in: path\r\n          description: The name of the collection to delete documents from\r\n          required: true\r\n          schema:\r\n            type: string\r\n        - name: deleteQueryParams\r\n          in: query\r\n          schema:\r\n            type: object\r\n            properties:      \r\n              filter_by:\r\n                type: string\r\n              batch_size:\r\n                type: integer \r\n\r\nA DeleteQueryParams class gets created in Java. But in Golang the parameters are added to a nested structure like this\r\n\r\n    type DeleteDocumentsParams struct {\r\n    \tDeleteQueryParams *struct {\r\n    \t\tBatchSize *int    `json:&quot;batch_size,omitempty&quot;`\r\n    \t\tFilterBy  *string `json:&quot;filter_by,omitempty&quot;`\r\n    \t} `json:&quot;deleteQueryParams,omitempty&quot;`\r\n    }\r\n\r\nLong story short, the Golang generator adds a layer of wrapping for the query parameters I specify while the Java generator does not. Is it possible to achieve an uniformity in this case. Or, is there any flags that I can use to enable or disable the object wrapping of parameters?  \r\n","title":"Golang OpenAPI generator wraps query parameters into an object while the Java counterpart does not","body":"<p>So I'm using openAPI to generate API classes in Golang and Java. The way the generators of the respective languages interpret the yml file seems to be different.</p>\n<p>Here is a part of the yml file:</p>\n<pre><code>parameters:\n        - name: collectionName\n          schema:\n            type: string\n        - name: filter_by\n          in: query\n          schema:\n            type: string\n          required: true\n        - name: batch_size\n          in: query \n          required: true\n          schema:\n            type: integer \n</code></pre>\n<p>And the generator for Golang generated the following structure:</p>\n<pre><code>type DeleteDocumentsParams struct {\n\n    FilterBy string `json:&quot;filter_by&quot;`\n\n    BatchSize int `json:&quot;batch_size&quot;`\n}\n</code></pre>\n<p>while for Java, no such class was created. However if I wrap the <code>filter_by</code> and <code>batch_size</code> parameters within an object like this</p>\n<pre><code>  parameters:\n    - name: collectionName\n      in: path\n      description: The name of the collection to delete documents from\n      required: true\n      schema:\n        type: string\n    - name: deleteQueryParams\n      in: query\n      schema:\n        type: object\n        properties:      \n          filter_by:\n            type: string\n          batch_size:\n            type: integer \n</code></pre>\n<p>A DeleteQueryParams class gets created in Java. But in Golang the parameters are added to a nested structure like this</p>\n<pre><code>type DeleteDocumentsParams struct {\n    DeleteQueryParams *struct {\n        BatchSize *int    `json:&quot;batch_size,omitempty&quot;`\n        FilterBy  *string `json:&quot;filter_by,omitempty&quot;`\n    } `json:&quot;deleteQueryParams,omitempty&quot;`\n}\n</code></pre>\n<p>Long story short, the Golang generator adds a layer of wrapping for the query parameters I specify while the Java generator does not. Is it possible to achieve an uniformity in this case. Or, is there any flags that I can use to enable or disable the object wrapping of parameters?</p>\n"},{"tags":["java","linux","docker","ubuntu","centos"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1646990352,"post_id":71436218,"comment_id":126265024,"body_markdown":"I&#39;m not sure how your title fits with your question. But to answer the title, yes, docker is available on windows.","body":"I&#39;m not sure how your title fits with your question. But to answer the title, yes, docker is available on windows."},{"owner":{"account_id":4866881,"reputation":20471,"user_id":3924803,"display_name":"Hans Kilian"},"score":0,"creation_date":1646991255,"post_id":71436218,"comment_id":126265332,"body_markdown":"Docker is available on Windows. You need WSL2 to run Linux images though.","body":"Docker is available on Windows. You need WSL2 to run Linux images though."}],"answers":[{"tags":[],"owner":{"account_id":16234564,"reputation":134,"user_id":11722310,"display_name":"RatzzFatzz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646991289,"creation_date":1646991289,"answer_id":71436434,"question_id":71436218,"body_markdown":"Most docker images are linux based and if run on a linux host they share the necessary parts of the kernel.\r\n\r\nDocker for Windows uses WSL (Windows Subsystem for Linux). With this linux container can be run on Windows.\r\nDifferences still occur with e.g. file paths.","title":"does docker useable on windows platform?","body":"<p>Most docker images are linux based and if run on a linux host they share the necessary parts of the kernel.</p>\n<p>Docker for Windows uses WSL (Windows Subsystem for Linux). With this linux container can be run on Windows.\nDifferences still occur with e.g. file paths.</p>\n"}],"owner":{"account_id":14451450,"reputation":87,"user_id":10438820,"display_name":"sina zarei"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1646995457,"answer_count":1,"score":-3,"last_activity_date":1647002582,"creation_date":1646990196,"question_id":71436218,"body_markdown":"I&#39;m new in linux and docker. do They have any relation to each other ?my means is how docker manage itself and how its container use the kernel. I&#39;m a java developer and working on a microservice base project that&#39;s are run on linux servers.\r\nand with witch logic, docker framework manages it&#39;s elements.","title":"does docker useable on windows platform?","body":"<p>I'm new in linux and docker. do They have any relation to each other ?my means is how docker manage itself and how its container use the kernel. I'm a java developer and working on a microservice base project that's are run on linux servers.\nand with witch logic, docker framework manages it's elements.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8468,"page":1524,"page_size":100}
