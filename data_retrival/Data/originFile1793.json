{"items":[{"tags":["java","http","micronaut"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1617637810,"post_id":66948619,"comment_id":118352613,"body_markdown":"Are you saying that you want to call a service that returns a response that has a `text/html` content type, and you want to parse the HTML and create a `List&lt;Pharmacy&gt;` from the contents of the HTML?","body":"Are you saying that you want to call a service that returns a response that has a <code>text&#47;html</code> content type, and you want to parse the HTML and create a <code>List&lt;Pharmacy&gt;</code> from the contents of the HTML?"},{"owner":{"account_id":2649192,"reputation":1945,"user_id":2291305,"accept_rate":100,"display_name":"jics"},"score":0,"creation_date":1617644885,"post_id":66948619,"comment_id":118355590,"body_markdown":"Yes. But i want to know if i can do that without the low-level http client. If exists some way to do that with the declarative client.","body":"Yes. But i want to know if i can do that without the low-level http client. If exists some way to do that with the declarative client."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1617645250,"post_id":66948619,"comment_id":118355746,"body_markdown":"There is nothing in Micronaut that will parse HTML and create a `List&lt;Pharmacy&gt;` for you.  You would have to write that yourself.","body":"There is nothing in Micronaut that will parse HTML and create a <code>List&lt;Pharmacy&gt;</code> for you.  You would have to write that yourself."},{"owner":{"account_id":2649192,"reputation":1945,"user_id":2291305,"accept_rate":100,"display_name":"jics"},"score":0,"creation_date":1617656266,"post_id":66948619,"comment_id":118359816,"body_markdown":"@JeffScottBrown with the low-level http client? maybe there&#39;s a filter or transformer to translate the data.","body":"@JeffScottBrown with the low-level http client? maybe there&#39;s a filter or transformer to translate the data."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1617659188,"post_id":66948619,"comment_id":118360647,"body_markdown":"&quot;maybe there&#39;s a filter or transformer to translate the data.&quot; - One could be written.  We don&#39;t provide one in micronaut.  There isn&#39;t anything in Micronaut that parses HTML payloads.","body":"&quot;maybe there&#39;s a filter or transformer to translate the data.&quot; - One could be written.  We don&#39;t provide one in micronaut.  There isn&#39;t anything in Micronaut that parses HTML payloads."},{"owner":{"account_id":2649192,"reputation":1945,"user_id":2291305,"accept_rate":100,"display_name":"jics"},"score":0,"creation_date":1617669214,"post_id":66948619,"comment_id":118362704,"body_markdown":"I see @JeffScottBrown that&#39;s solved my question. Thanks. But what do you recommend me?","body":"I see @JeffScottBrown that&#39;s solved my question. Thanks. But what do you recommend me?"}],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638619976,"creation_date":1617828322,"answer_id":66993878,"question_id":66948619,"body_markdown":"There is no fully-fledged framework AFAIK that provides support for *HTML* content to `POJO` mapping (which is usually referred to as __scraping__) as is the case for *Micronaut*, .\r\n\r\nMeanwhile you can easily plug a converter bean based on [jspoon][1] intercepting and transforming your API results in equivalent POJOs:\r\n\r\n    class Root {\r\n        @Selector(value = &quot;.pharmacy&quot;) List&lt;Pharmacy&gt; pharmacies;\r\n    }\r\n\r\n    class Pharmacy {\r\n        @Selector(value = &quot;span:nth-child(1)&quot;) String name;\r\n    }\r\n\r\n    @Client(&quot;${services.minsal.url}&quot;)\r\n    public interface PharmacyClient {\r\n        @Get(&quot;${services.minsal.path}?${services.minsal.param}=${services.minsal.value}&quot;)\r\n        Flowable&lt;String&gt; retrieve();\r\n    }\r\n\r\n    @Singleton\r\n    public class ConverterService {\r\n\r\n        public List&lt;Pharmacy&gt; toPharmacies(String htmlContent) {\r\n            Jspoon jspoon = Jspoon.create();\r\n            HtmlAdapter&lt;Root&gt; htmlAdapter = jspoon.adapter(Root.class);\r\n            return htmlAdapter.fromHtml(htmlContent).pharmacies;\r\n        }\r\n    }\r\n\r\n    public class StoreService {\r\n    \r\n        private final PharmacyClient pharmacyClient;\r\n        private final ConverterService converterService;\r\n    \r\n        public StoreService(PharmacyClient pharmacyClient, ConverterService converterService) {\r\n            this.pharmacyClient = pharmacyClient;\r\n            this.converterService = converterService;\r\n        }\r\n    \r\n        public Flowable&lt;List&lt;Store&gt;&gt; all() {\r\n            Flowable&lt;List&lt;Pharmacy&gt;&gt; listFlowable = this.pharmacyClient.retrieve().map(this.converterService::toPharmacies)\r\n            return listFlowable\r\n                    .doOnError(throwable -&gt; log.error(throwable.getLocalizedMessage()))\r\n                    .flatMap(pharmacies -&gt;\r\n                            Flowable.just(pharmacies.stream() // here is a list of LinkedHashMap and i&#39;d like to user Pharmacy objects\r\n                                    .map(pharmacy -&gt; Store.builder().borough(pharmacy.getBoroughFk()).build())\r\n                                    .collect(Collectors.toList())\r\n                            )\r\n                    );\r\n        }\r\n    }\r\n\r\n  [1]: https://github.com/DroidsOnRoids/jspoon\r\n","title":"How to bind text response to json and put in object on a declarative client on micronaut?","body":"<p>There is no fully-fledged framework AFAIK that provides support for <em>HTML</em> content to <code>POJO</code> mapping (which is usually referred to as <strong>scraping</strong>) as is the case for <em>Micronaut</em>, .</p>\n<p>Meanwhile you can easily plug a converter bean based on <a href=\"https://github.com/DroidsOnRoids/jspoon\" rel=\"nofollow noreferrer\">jspoon</a> intercepting and transforming your API results in equivalent POJOs:</p>\n<pre><code>class Root {\n    @Selector(value = &quot;.pharmacy&quot;) List&lt;Pharmacy&gt; pharmacies;\n}\n\nclass Pharmacy {\n    @Selector(value = &quot;span:nth-child(1)&quot;) String name;\n}\n\n@Client(&quot;${services.minsal.url}&quot;)\npublic interface PharmacyClient {\n    @Get(&quot;${services.minsal.path}?${services.minsal.param}=${services.minsal.value}&quot;)\n    Flowable&lt;String&gt; retrieve();\n}\n\n@Singleton\npublic class ConverterService {\n\n    public List&lt;Pharmacy&gt; toPharmacies(String htmlContent) {\n        Jspoon jspoon = Jspoon.create();\n        HtmlAdapter&lt;Root&gt; htmlAdapter = jspoon.adapter(Root.class);\n        return htmlAdapter.fromHtml(htmlContent).pharmacies;\n    }\n}\n\npublic class StoreService {\n\n    private final PharmacyClient pharmacyClient;\n    private final ConverterService converterService;\n\n    public StoreService(PharmacyClient pharmacyClient, ConverterService converterService) {\n        this.pharmacyClient = pharmacyClient;\n        this.converterService = converterService;\n    }\n\n    public Flowable&lt;List&lt;Store&gt;&gt; all() {\n        Flowable&lt;List&lt;Pharmacy&gt;&gt; listFlowable = this.pharmacyClient.retrieve().map(this.converterService::toPharmacies)\n        return listFlowable\n                .doOnError(throwable -&gt; log.error(throwable.getLocalizedMessage()))\n                .flatMap(pharmacies -&gt;\n                        Flowable.just(pharmacies.stream() // here is a list of LinkedHashMap and i'd like to user Pharmacy objects\n                                .map(pharmacy -&gt; Store.builder().borough(pharmacy.getBoroughFk()).build())\n                                .collect(Collectors.toList())\n                        )\n                );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2649192,"reputation":1945,"user_id":2291305,"accept_rate":100,"display_name":"jics"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1618278761,"creation_date":1617911411,"answer_id":67010955,"question_id":66948619,"body_markdown":"I ended up with this.\r\n\r\n```\r\n@Client(&quot;${services.url}&quot;)\r\npublic interface PharmacyClient {\r\n    @Get(value = &quot;${services.path}?${services.param}=${services.value}&quot;)\r\n    Flowable&lt;Pharmacy[]&gt; retrieve();\r\n}\r\n```\r\n```\r\npublic class StoreService {\r\n\r\n    private final PharmacyClient pharmacyClient;\r\n\r\n    public StoreService(PharmacyClient pharmacyClient) {\r\n        this.pharmacyClient = pharmacyClient;\r\n    }\r\n\r\n    public Flowable&lt;List&lt;Store&gt;&gt; all() {\r\n        Flowable&lt;Pharmacy[]&gt; flowable = this.pharmacyClient.retrieve();\r\n        return flowable\r\n                .switchMap(pharmacies -&gt;\r\n                        Flowable.just(Arrays.stream(pharmacies)\r\n                                .map(pharmacyStoreMapping)\r\n                                .collect(Collectors.toList())\r\n                        )\r\n                ).doOnError(throwable -&gt; log.error(throwable.getLocalizedMessage()));\r\n    }\r\n\r\n}\r\n```\r\n\r\nStill I want to know if i can change arrays to list in the declarative client.  \r\nMeanwhile i think this it&#39;s a good option.\r\n\r\n# UPDATE\r\nI have been wrong all this time. First of all I don&#39;t need to add a list to the flowable because when the framework exposes the service it responds with a list of elements already.\r\nSo finally I did this:\r\n\r\n```\r\n@Client(&quot;${services.url}&quot;)\r\npublic interface PharmacyClient {\r\n    @Get(value = &quot;${services.path}?${services.param}=${services.value}&quot;)\r\n    Flowable&lt;Pharmacy&gt; retrieve();\r\n}\r\n```\r\n```\r\npublic class StoreService {\r\n\r\n    private final PharmacyClient pharmacyClient;\r\n\r\n    public StoreService(PharmacyClient pharmacyClient) {\r\n        this.pharmacyClient = pharmacyClient;\r\n    }\r\n\r\n    public Flowable&lt;Store&gt; all() {\r\n        Flowable&lt;Pharmacy&gt; flowable = this.pharmacyClient.retrieve();\r\n        return flowable\r\n                .switchMap(pharmacyPublisherFunction)\r\n                .doOnError(throwable -&gt; log.error(throwable.getLocalizedMessage()));\r\n\r\n}\r\n```\r\nAs we can see the http client automatically transform the text/html data into json and it parses it well. I don&#39;t know why really. Maybe @JeffScottBrown can gives us some hints.","title":"How to bind text response to json and put in object on a declarative client on micronaut?","body":"<p>I ended up with this.</p>\n<pre><code>@Client(&quot;${services.url}&quot;)\npublic interface PharmacyClient {\n    @Get(value = &quot;${services.path}?${services.param}=${services.value}&quot;)\n    Flowable&lt;Pharmacy[]&gt; retrieve();\n}\n</code></pre>\n<pre><code>public class StoreService {\n\n    private final PharmacyClient pharmacyClient;\n\n    public StoreService(PharmacyClient pharmacyClient) {\n        this.pharmacyClient = pharmacyClient;\n    }\n\n    public Flowable&lt;List&lt;Store&gt;&gt; all() {\n        Flowable&lt;Pharmacy[]&gt; flowable = this.pharmacyClient.retrieve();\n        return flowable\n                .switchMap(pharmacies -&gt;\n                        Flowable.just(Arrays.stream(pharmacies)\n                                .map(pharmacyStoreMapping)\n                                .collect(Collectors.toList())\n                        )\n                ).doOnError(throwable -&gt; log.error(throwable.getLocalizedMessage()));\n    }\n\n}\n</code></pre>\n<p>Still I want to know if i can change arrays to list in the declarative client.<br />\nMeanwhile i think this it's a good option.</p>\n<h1>UPDATE</h1>\n<p>I have been wrong all this time. First of all I don't need to add a list to the flowable because when the framework exposes the service it responds with a list of elements already.\nSo finally I did this:</p>\n<pre><code>@Client(&quot;${services.url}&quot;)\npublic interface PharmacyClient {\n    @Get(value = &quot;${services.path}?${services.param}=${services.value}&quot;)\n    Flowable&lt;Pharmacy&gt; retrieve();\n}\n</code></pre>\n<pre><code>public class StoreService {\n\n    private final PharmacyClient pharmacyClient;\n\n    public StoreService(PharmacyClient pharmacyClient) {\n        this.pharmacyClient = pharmacyClient;\n    }\n\n    public Flowable&lt;Store&gt; all() {\n        Flowable&lt;Pharmacy&gt; flowable = this.pharmacyClient.retrieve();\n        return flowable\n                .switchMap(pharmacyPublisherFunction)\n                .doOnError(throwable -&gt; log.error(throwable.getLocalizedMessage()));\n\n}\n</code></pre>\n<p>As we can see the http client automatically transform the text/html data into json and it parses it well. I don't know why really. Maybe @JeffScottBrown can gives us some hints.</p>\n"}],"owner":{"account_id":2649192,"reputation":1945,"user_id":2291305,"accept_rate":100,"display_name":"jics"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1010,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67010955,"answer_count":2,"score":2,"last_activity_date":1638619976,"creation_date":1617600572,"question_id":66948619,"body_markdown":"I made my declarative http client on my app built in micronaut. This need to consume a services which responds with text/html type.  \r\n\r\nI manage to get a list but with `LinkedHashMap` inside. And I want them to be objects of `Pharmacy`\r\n\r\nMy question is: how I can transform that response into a List of object?\r\n\r\n```\r\n@Client(&quot;${services.url}&quot;)\r\npublic interface PharmacyClient {\r\n    @Get(&quot;${services.path}?${services.param}=${services.value}&quot;)\r\n    Flowable&lt;List&lt;Pharmacy&gt;&gt; retrieve();\r\n}\r\n```\r\n```\r\npublic class StoreService {\r\n\r\n    private final PharmacyClient pharmacyClient;\r\n\r\n    public StoreService(PharmacyClient pharmacyClient) {\r\n        this.pharmacyClient = pharmacyClient;\r\n    }\r\n\r\n    public Flowable&lt;List&lt;Store&gt;&gt; all() {\r\n        Flowable&lt;List&lt;Pharmacy&gt;&gt; listFlowable = this.pharmacyClient.retrieve();\r\n        return listFlowable\r\n                .doOnError(throwable -&gt; log.error(throwable.getLocalizedMessage()))\r\n                .flatMap(pharmacies -&gt;\r\n                        Flowable.just(pharmacies.stream() // here is a list of LinkedHashMap and i&#39;d like to user Pharmacy objects\r\n                                .map(pharmacy -&gt; Store.builder().borough(pharmacy.getBoroughFk()).build())\r\n                                .collect(Collectors.toList())\r\n                        )\r\n                );\r\n    }\r\n}\r\n\r\n```\r\nCode: https://github.com/j1cs/drugstore-demo/tree/master/backend","title":"How to bind text response to json and put in object on a declarative client on micronaut?","body":"<p>I made my declarative http client on my app built in micronaut. This need to consume a services which responds with text/html type.</p>\n<p>I manage to get a list but with <code>LinkedHashMap</code> inside. And I want them to be objects of <code>Pharmacy</code></p>\n<p>My question is: how I can transform that response into a List of object?</p>\n<pre><code>@Client(&quot;${services.url}&quot;)\npublic interface PharmacyClient {\n    @Get(&quot;${services.path}?${services.param}=${services.value}&quot;)\n    Flowable&lt;List&lt;Pharmacy&gt;&gt; retrieve();\n}\n</code></pre>\n<pre><code>public class StoreService {\n\n    private final PharmacyClient pharmacyClient;\n\n    public StoreService(PharmacyClient pharmacyClient) {\n        this.pharmacyClient = pharmacyClient;\n    }\n\n    public Flowable&lt;List&lt;Store&gt;&gt; all() {\n        Flowable&lt;List&lt;Pharmacy&gt;&gt; listFlowable = this.pharmacyClient.retrieve();\n        return listFlowable\n                .doOnError(throwable -&gt; log.error(throwable.getLocalizedMessage()))\n                .flatMap(pharmacies -&gt;\n                        Flowable.just(pharmacies.stream() // here is a list of LinkedHashMap and i'd like to user Pharmacy objects\n                                .map(pharmacy -&gt; Store.builder().borough(pharmacy.getBoroughFk()).build())\n                                .collect(Collectors.toList())\n                        )\n                );\n    }\n}\n\n</code></pre>\n<p>Code: <a href=\"https://github.com/j1cs/drugstore-demo/tree/master/backend\" rel=\"nofollow noreferrer\">https://github.com/j1cs/drugstore-demo/tree/master/backend</a></p>\n"},{"tags":["java","multithreading","thread-safety","concurrenthashmap"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1638619926,"post_id":70219914,"comment_id":124139394,"body_markdown":"Since Java 7, you don&#39;t need to repeat the generics in the constructor, you can simply your hash map construction to `new ConcurrentHashMap&lt;&gt;()`","body":"Since Java 7, you don&#39;t need to repeat the generics in the constructor, you can simply your hash map construction to <code>new ConcurrentHashMap&lt;&gt;()</code>"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1638561315,"creation_date":1638561315,"answer_id":70219996,"question_id":70219914,"body_markdown":"`ConcurrentHashMap` guarantees that the entire method invocation of `compute` (or `computeIfAbsent` or `computeIfPresent`) is done atomically. So, e.g., you could do something like this:\r\n\r\n```java\r\nmyMap.compute(someKeyValue, (k, v) -&gt; {v.add(new SomeOtherClass()); return v;});\r\n```\r\n\r\n**Note:**\\\r\nUsing `compute` is analogous to the original snippet that assumes that `somKeyValue` is present in the map. Using `computeIfPresent` is probably safer, though.","title":"How to make operations on the value of a concurrent map atomic?","body":"<p><code>ConcurrentHashMap</code> guarantees that the entire method invocation of <code>compute</code> (or <code>computeIfAbsent</code> or <code>computeIfPresent</code>) is done atomically. So, e.g., you could do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>myMap.compute(someKeyValue, (k, v) -&gt; {v.add(new SomeOtherClass()); return v;});\n</code></pre>\n<p><strong>Note:</strong><br />\nUsing <code>compute</code> is analogous to the original snippet that assumes that <code>somKeyValue</code> is present in the map. Using <code>computeIfPresent</code> is probably safer, though.</p>\n"}],"owner":{"account_id":16879198,"reputation":509,"user_id":12424975,"display_name":"Samuele B."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70219996,"answer_count":1,"score":3,"last_activity_date":1638619877,"creation_date":1638560684,"question_id":70219914,"body_markdown":"Let&#39;s say I have the following field inside of a class:\r\n\r\n```\r\nConcurrentHashMap&lt;SomeClass, Set&lt;SomeOtherClass&gt;&gt; myMap = new ConcurrentHashMap&lt;SomeClass, Set&lt;SomeOtherClass&gt;&gt;();\r\n```\r\nAn instance of this class is shared among many threads.\r\n\r\nIf I want to add or remove an element from a set associated with a key, I could do:\r\n\r\n```\r\nSet&lt;SomeOtherClass&gt; setVal = myMap.get(someKeyValue);\r\nsetVal.add(new SomeOtherClass());\r\n```\r\n\r\nThe `get` operation is atomic, therefore thread-safe. However, there&#39;s no guarantee that, in between the `get` and the `add` instruction, some other thread won&#39;t modify the structure messing with the first one&#39;s execution.\r\n\r\nWhat would be the best way to make the whole operation atomic?\r\n\r\nHere&#39;s what I&#39;ve come up with, but I don&#39;t believe it to be very efficient (or to be making the best use out of Java&#39;s structures):\r\n\r\nI have a ReentrantLock field, so my class looks like this:\r\n```\r\nclass A {\r\n    ReentrantLock lock = new ReentrantLock();\r\n    ConcurrentHashMap&lt;SomeClass, Set&lt;SomeOtherClass&gt;&gt; myMap = new ConcurrentHashMap&lt;SomeClass, Set&lt;SomeOtherClass&gt;&gt;();\r\n}\r\n```\r\n\r\nThen the method call looks something like this:\r\n```\r\nlock.lock();\r\nSet&lt;SomeOtherClass&gt; setVal = myMap.get(someKeyValue);\r\nsynchronized(setVal) {\r\n    lock.unlock();\r\n    setVal.add(new SomeOtherClass());\r\n}\r\n```\r\n\r\nThe idea being that we let go of the lock once we have made sure no one else will access the Set we&#39;re trying to modify. However, I don&#39;t think this is making the best use of the `ConcurrentMap` or that it makes much sense to have a lock, a concurrent structure, and a `synchronized` block all used to achieve one operation.\r\n\r\nIs there a better way to go about this?","title":"How to make operations on the value of a concurrent map atomic?","body":"<p>Let's say I have the following field inside of a class:</p>\n<pre><code>ConcurrentHashMap&lt;SomeClass, Set&lt;SomeOtherClass&gt;&gt; myMap = new ConcurrentHashMap&lt;SomeClass, Set&lt;SomeOtherClass&gt;&gt;();\n</code></pre>\n<p>An instance of this class is shared among many threads.</p>\n<p>If I want to add or remove an element from a set associated with a key, I could do:</p>\n<pre><code>Set&lt;SomeOtherClass&gt; setVal = myMap.get(someKeyValue);\nsetVal.add(new SomeOtherClass());\n</code></pre>\n<p>The <code>get</code> operation is atomic, therefore thread-safe. However, there's no guarantee that, in between the <code>get</code> and the <code>add</code> instruction, some other thread won't modify the structure messing with the first one's execution.</p>\n<p>What would be the best way to make the whole operation atomic?</p>\n<p>Here's what I've come up with, but I don't believe it to be very efficient (or to be making the best use out of Java's structures):</p>\n<p>I have a ReentrantLock field, so my class looks like this:</p>\n<pre><code>class A {\n    ReentrantLock lock = new ReentrantLock();\n    ConcurrentHashMap&lt;SomeClass, Set&lt;SomeOtherClass&gt;&gt; myMap = new ConcurrentHashMap&lt;SomeClass, Set&lt;SomeOtherClass&gt;&gt;();\n}\n</code></pre>\n<p>Then the method call looks something like this:</p>\n<pre><code>lock.lock();\nSet&lt;SomeOtherClass&gt; setVal = myMap.get(someKeyValue);\nsynchronized(setVal) {\n    lock.unlock();\n    setVal.add(new SomeOtherClass());\n}\n</code></pre>\n<p>The idea being that we let go of the lock once we have made sure no one else will access the Set we're trying to modify. However, I don't think this is making the best use of the <code>ConcurrentMap</code> or that it makes much sense to have a lock, a concurrent structure, and a <code>synchronized</code> block all used to achieve one operation.</p>\n<p>Is there a better way to go about this?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638619705,"creation_date":1638619186,"answer_id":70225395,"question_id":70225295,"body_markdown":"When you create an array in Java, the elements in the array will initially have a default value. For non-primitives, this value is `null`. So `farbcode = new String[4]` will create a new array that can store 4 `String`&#39;s, but initially it will contain 4 `null` values.\r\n\r\nYou use `farbcode[i] += &quot;Some value&quot;` with `farbcode[i]` initially being `null`. When you append a String to a `null` value, the `null` will be converted to the string `&quot;null&quot;`, to which the string will be appended.\r\n\r\nSo for example\r\n\r\n```\r\nString str = null + &quot;String&quot;; // Will become &quot;nullString&quot;\r\n```\r\n\r\n```\r\nString str = null;\r\nstr += &quot;String&quot;; // Same as above\r\n```\r\n    \r\nSo, to prevent this from happening, make sure that the elements in the array don&#39;t contain the value `null` when appending values to it.\r\n\r\nYou can use `Arrays.fill(farbcode, &quot;&quot;);` to set all the elements in the array to an empty string at the beginning of your loop.\r\n\r\nAs an aside, Java has a built-in function to convert an array to a string. You can replace your `stringo()` function with `Arrays.toString(farbcode)`.","title":"Why does every element in my array start with &quot;null&quot;?","body":"<p>When you create an array in Java, the elements in the array will initially have a default value. For non-primitives, this value is <code>null</code>. So <code>farbcode = new String[4]</code> will create a new array that can store 4 <code>String</code>'s, but initially it will contain 4 <code>null</code> values.</p>\n<p>You use <code>farbcode[i] += &quot;Some value&quot;</code> with <code>farbcode[i]</code> initially being <code>null</code>. When you append a String to a <code>null</code> value, the <code>null</code> will be converted to the string <code>&quot;null&quot;</code>, to which the string will be appended.</p>\n<p>So for example</p>\n<pre><code>String str = null + &quot;String&quot;; // Will become &quot;nullString&quot;\n</code></pre>\n<pre><code>String str = null;\nstr += &quot;String&quot;; // Same as above\n</code></pre>\n<p>So, to prevent this from happening, make sure that the elements in the array don't contain the value <code>null</code> when appending values to it.</p>\n<p>You can use <code>Arrays.fill(farbcode, &quot;&quot;);</code> to set all the elements in the array to an empty string at the beginning of your loop.</p>\n<p>As an aside, Java has a built-in function to convert an array to a string. You can replace your <code>stringo()</code> function with <code>Arrays.toString(farbcode)</code>.</p>\n"}],"owner":{"account_id":23543726,"reputation":13,"user_id":17587522,"display_name":"Crivenn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":427,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70225395,"answer_count":1,"score":0,"last_activity_date":1638619705,"creation_date":1638618389,"question_id":70225295,"body_markdown":"I want to make a random color code generator and it also works, but instead of simply giving me the color it also spits out &quot;null&quot; right before it.\r\n\r\nSo in the end my output looks like `[nullBlue, nullgreen, nullyellow, nullred]` anybody know a quick fix?\r\n\r\n```\r\npublic class rndmcode {\r\n\r\n    int[] secretcode = new int[4];\r\n    String[] farbcode = new String[4];\r\n\r\n    public rndmcode() { // array &quot;secretcode&quot; wird definiert\r\n        for (int i = 0; i &lt; 4; i++) { //Schleife um eine Randomziffer von 1-6 zu erstellen und\r\n            \r\n            Random zufallszahl = new Random();\r\n            int rndnumber = zufallszahl.nextInt(7); //Die Zahlen 1-6 sind meine Farben, die vorrerst nur Zahlen sind\r\n\r\n            switch (rndnumber) {\r\n                case 1:\r\n                    farbcode[i] += &quot;Blau&quot;;\r\n                    break;\r\n                case 2:\r\n                    farbcode[i] += &quot;Rot&quot;;\r\n                    break;\r\n                case 3:\r\n                    farbcode[i] += &quot;Gelb&quot;;\r\n                    break;\r\n                case 4:\r\n                    farbcode[i] += &quot;Gr&#252;n&quot;;\r\n                    break;\r\n                case 5:\r\n                    farbcode[i] += &quot;Lila&quot;;\r\n                    break;\r\n                case 6:\r\n                    farbcode[i] += &quot;Orange&quot;;\r\n                default:\r\n                    if (farbcode == null)\r\n                        break;\r\n            }\r\n        }\r\n    }\r\n\r\n    public String stringo() {\r\n        String s = &quot;[&quot;;\r\n        for (String element : farbcode) {\r\n            s += element;\r\n            s += &quot;, &quot;;\r\n\r\n        }\r\n        s += &quot;]&quot;;\r\n        return s;\r\n    }\r\n}\r\n```","title":"Why does every element in my array start with &quot;null&quot;?","body":"<p>I want to make a random color code generator and it also works, but instead of simply giving me the color it also spits out &quot;null&quot; right before it.</p>\n<p>So in the end my output looks like <code>[nullBlue, nullgreen, nullyellow, nullred]</code> anybody know a quick fix?</p>\n<pre><code>public class rndmcode {\n\n    int[] secretcode = new int[4];\n    String[] farbcode = new String[4];\n\n    public rndmcode() { // array &quot;secretcode&quot; wird definiert\n        for (int i = 0; i &lt; 4; i++) { //Schleife um eine Randomziffer von 1-6 zu erstellen und\n            \n            Random zufallszahl = new Random();\n            int rndnumber = zufallszahl.nextInt(7); //Die Zahlen 1-6 sind meine Farben, die vorrerst nur Zahlen sind\n\n            switch (rndnumber) {\n                case 1:\n                    farbcode[i] += &quot;Blau&quot;;\n                    break;\n                case 2:\n                    farbcode[i] += &quot;Rot&quot;;\n                    break;\n                case 3:\n                    farbcode[i] += &quot;Gelb&quot;;\n                    break;\n                case 4:\n                    farbcode[i] += &quot;Gr√ºn&quot;;\n                    break;\n                case 5:\n                    farbcode[i] += &quot;Lila&quot;;\n                    break;\n                case 6:\n                    farbcode[i] += &quot;Orange&quot;;\n                default:\n                    if (farbcode == null)\n                        break;\n            }\n        }\n    }\n\n    public String stringo() {\n        String s = &quot;[&quot;;\n        for (String element : farbcode) {\n            s += element;\n            s += &quot;, &quot;;\n\n        }\n        s += &quot;]&quot;;\n        return s;\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","sdk","javafx-11","openjfx"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1543940788,"post_id":53617191,"comment_id":94095263,"body_markdown":"@Jos&#233;Pereda but the error sounds misleading, isn&#39;t it? What&#39;s the root cause for that? I meant the IllegalAccessError one.","body":"@Jos&#233;Pereda but the error sounds misleading, isn&#39;t it? What&#39;s the root cause for that? I meant the IllegalAccessError one."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":2,"creation_date":1543940877,"post_id":53617191,"comment_id":94095315,"body_markdown":"@Mehdi - This is where you can start off with using openjfx - https://openjfx.io/openjfx-docs/#introduction from Java11 onwards.","body":"@Mehdi - This is where you can start off with using openjfx - <a href=\"https://openjfx.io/openjfx-docs/#introduction\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs/#introduction</a> from Java11 onwards."},{"owner":{"account_id":2233181,"reputation":3805,"user_id":1970299,"accept_rate":72,"display_name":"Mehdi"},"score":0,"creation_date":1543940962,"post_id":53617191,"comment_id":94095362,"body_markdown":"@nullpointer yes my bad, I didn&#39;t understand the question initially","body":"@nullpointer yes my bad, I didn&#39;t understand the question initially"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1543941113,"post_id":53617191,"comment_id":94095449,"body_markdown":"@nullpointer Right, probably this [question](https://stackoverflow.com/questions/53447738/java-fx-modular-application-module-not-found-java-11-intellij) will help as well. It is a mixture of both issues.","body":"@nullpointer Right, probably this <a href=\"https://stackoverflow.com/questions/53447738/java-fx-modular-application-module-not-found-java-11-intellij\">question</a> will help as well. It is a mixture of both issues."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1543942498,"post_id":53617191,"comment_id":94096185,"body_markdown":"@Jos&#233;Pereda Thanks. Not very satisfied with that either. I can understand by the error that the module `javafx.controls` has not been resolved on the module path, but then the question is why even after explicitly specifying is the module not resolved? The [`--show-module-resolution`](https://stackoverflow.com/questions/48339598/list-the-modules-resolved-during-the-application-startup) would be useful here to see what modules are getting resolved.","body":"@Jos&#233;Pereda Thanks. Not very satisfied with that either. I can understand by the error that the module <code>javafx.controls</code> has not been resolved on the module path, but then the question is why even after explicitly specifying is the module not resolved? The <a href=\"https://stackoverflow.com/questions/48339598/list-the-modules-resolved-during-the-application-startup\"><code>--show-module-resolution</code></a> would be useful here to see what modules are getting resolved."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":1,"creation_date":1543942822,"post_id":53617191,"comment_id":94096351,"body_markdown":"@nullpointer the exception itself is related to a wrong path for the JavaFX library. Nevertheless the module `javafx.fxml` should be added as well.","body":"@nullpointer the exception itself is related to a wrong path for the JavaFX library. Nevertheless the module <code>javafx.fxml</code> should be added as well."},{"owner":{"account_id":14879919,"reputation":61,"user_id":10744893,"display_name":"MahBoi"},"score":0,"creation_date":1543960024,"post_id":53617191,"comment_id":94104271,"body_markdown":"@Jos&#233;Pereda Thanks for pointing that out, however it does not change anything. I still get the same error.","body":"@Jos&#233;Pereda Thanks for pointing that out, however it does not change anything. I still get the same error."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1543966138,"post_id":53617191,"comment_id":94106271,"body_markdown":"Can you open a terminal and type `dir &quot;C:\\mypath\\SDKS\\javafx-sdk-11.0.1\\lib&quot;` and post the result (or a screenshot), obviously with your real path?","body":"Can you open a terminal and type <code>dir &quot;C:\\mypath\\SDKS\\javafx-sdk-11.0.1\\lib&quot;</code> and post the result (or a screenshot), obviously with your real path?"},{"owner":{"account_id":14879919,"reputation":61,"user_id":10744893,"display_name":"MahBoi"},"score":0,"creation_date":1543975631,"post_id":53617191,"comment_id":94108540,"body_markdown":"@Jos&#233;Pereda I have edited the post and added the output from that command","body":"@Jos&#233;Pereda I have edited the post and added the output from that command"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1544128952,"post_id":53617191,"comment_id":94177039,"body_markdown":"Please, add an edit to your question, and post the exception you get when you run   with only these VM options: `--module-path=&quot;C:\\User\\..\\javafx-sdk-11.0.1\\lib&quot; --add-modules=javafx.controls,javafx.fxml`.  Also you could add a screenshot of your IntelliJ&#39;s Run configuration.","body":"Please, add an edit to your question, and post the exception you get when you run   with only these VM options: <code>--module-path=&quot;C:\\User\\..\\javafx-sdk-11.0.1\\lib&quot; --add-modules=javafx.controls,javafx.fxml</code>.  Also you could add a screenshot of your IntelliJ&#39;s Run configuration."},{"owner":{"account_id":14879919,"reputation":61,"user_id":10744893,"display_name":"MahBoi"},"score":0,"creation_date":1544149642,"post_id":53617191,"comment_id":94182994,"body_markdown":"@Jos&#233;Pereda it is done","body":"@Jos&#233;Pereda it is done"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1544174595,"post_id":53617191,"comment_id":94190842,"body_markdown":"Ok, you wouldn&#39;t need the `--add-exports` now, but that won&#39;t change it. When you run your project from IntelliJ, you still get the same failure right?. Check the run window (Alt+4) and post the full command line that IntelliJ generates (if you see something like `..\\jdk-11\\bin\\java.exe...` click on the ellipsis to get the full command line).","body":"Ok, you wouldn&#39;t need the <code>--add-exports</code> now, but that won&#39;t change it. When you run your project from IntelliJ, you still get the same failure right?. Check the run window (Alt+4) and post the full command line that IntelliJ generates (if you see something like <code>..\\jdk-11\\bin\\java.exe...</code> click on the ellipsis to get the full command line)."},{"owner":{"account_id":14879919,"reputation":61,"user_id":10744893,"display_name":"MahBoi"},"score":0,"creation_date":1544205623,"post_id":53617191,"comment_id":94206884,"body_markdown":"@Jos&#233;Pereda edited the post","body":"@Jos&#233;Pereda edited the post"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1544206636,"post_id":53617191,"comment_id":94207304,"body_markdown":"Thanks, after editing your command line I see the reason why it is failing: you have an extra `-p`, that means the same as `--add-module`, which is invalidating the first one, and only adds base and graphics, but not controls and fxml. The question is why you have this `-p` added. Can you remove all the `--add-exports` and check again? You shouldn&#39;t get that extra `-p`.","body":"Thanks, after editing your command line I see the reason why it is failing: you have an extra <code>-p</code>, that means the same as <code>--add-module</code>, which is invalidating the first one, and only adds base and graphics, but not controls and fxml. The question is why you have this <code>-p</code> added. Can you remove all the <code>--add-exports</code> and check again? You shouldn&#39;t get that extra <code>-p</code>."},{"owner":{"account_id":14879919,"reputation":61,"user_id":10744893,"display_name":"MahBoi"},"score":0,"creation_date":1544236361,"post_id":53617191,"comment_id":94215849,"body_markdown":"I tried again and it didn&#39;t work. I think I will just build it with maven or gradle","body":"I tried again and it didn&#39;t work. I think I will just build it with maven or gradle"}],"answers":[{"tags":[],"owner":{"account_id":16028140,"reputation":11,"user_id":11567864,"display_name":"Chris999Tian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594432377,"creation_date":1594395318,"answer_id":62837679,"question_id":53617191,"body_markdown":"Try: \r\n\r\n```\r\n--module-path C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib --add-modules=ALL-MODULE-PATH\r\n```\r\n\r\nas Runconfiguration, I don&#39;t know, maybe it works?","title":"javafx.controls could not be found JavaFX 11 / JDK 11.0.1","body":"<p>Try:</p>\n<pre><code>--module-path C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib --add-modules=ALL-MODULE-PATH\n</code></pre>\n<p>as Runconfiguration, I don't know, maybe it works?</p>\n"},{"tags":[],"owner":{"account_id":18355178,"reputation":167,"user_id":13368385,"display_name":"Dahlin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615225051,"creation_date":1615225051,"answer_id":66534538,"question_id":53617191,"body_markdown":"Alternatively, convert your project to Maven, then add the JavaFX dependencies as:\r\n\r\n    &lt;!-- JavaFx --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-base&lt;/artifactId&gt;\r\n                &lt;version&gt;15&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;15&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-graphics &lt;/artifactId&gt;\r\n                &lt;version&gt;15&lt;/version&gt;\r\n                &lt;classifier&gt;win&lt;/classifier&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n                &lt;version&gt;15&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\r\n                &lt;version&gt;15&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n                &lt;version&gt;15&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n             &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\r\n                &lt;version&gt;15&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nChange the version according to your used Java Version, since anything above Java 10 does not include the JavaFX libraries, this is what I recommend if you want to deploy your application on other machines anyway","title":"javafx.controls could not be found JavaFX 11 / JDK 11.0.1","body":"<p>Alternatively, convert your project to Maven, then add the JavaFX dependencies as:</p>\n<pre><code>&lt;!-- JavaFx --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-base&lt;/artifactId&gt;\n            &lt;version&gt;15&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;15&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-graphics &lt;/artifactId&gt;\n            &lt;version&gt;15&lt;/version&gt;\n            &lt;classifier&gt;win&lt;/classifier&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;15&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\n            &lt;version&gt;15&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n            &lt;version&gt;15&lt;/version&gt;\n        &lt;/dependency&gt;\n\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\n            &lt;version&gt;15&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Change the version according to your used Java Version, since anything above Java 10 does not include the JavaFX libraries, this is what I recommend if you want to deploy your application on other machines anyway</p>\n"}],"owner":{"account_id":14879919,"reputation":61,"user_id":10744893,"display_name":"MahBoi"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8951,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"closed_date":1638618941,"answer_count":2,"score":6,"last_activity_date":1638618978,"creation_date":1543940216,"question_id":53617191,"body_markdown":"I am using InteliJ, I&#39;ve gone through all other solutions that seem to work for everybody else. I was getting an error:\r\n\r\n    Caused by: java.lang.IllegalAccessError: class com.sun.javafx.fxml.FXMLLoaderHelper (in unnamed module @0x5782d366) cannot access class com.sun.javafx.util.Utils (in module javafx.graphics) because module javafx.graphics does not export com.sun.javafx.util to unnamed module @0x5782d366\r\n\r\nI then added the following to VM options in the run config:\r\n\r\n    --module-path=&quot;C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib&quot; \\ \r\n        --add-modules=javafx.controls \\\r\n        --add-exports=javafx.graphics/com.sun.javafx.util=ALL-UNNAMED \\\r\n        --add-exports=javafx.base/com.sun.javafx.reflect=ALL-UNNAMED \\\r\n        --add-exports=javafx.base/com.sun.javafx.beans=ALL-UNNAMED \\\r\n        --add-exports=javafx.graphics/com.sun.glass.utils=ALL-UNNAMED \\\r\n        --add-exports=javafx.graphics/com.sun.javafx.tk=ALL-UNNAMED\r\n\r\nThat seemed to partially fix the problem? Howerver when I try to run this I don&#39;t get a whole stack trace of errors, I get these three lines:\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk-11.0.1\\bin\\java.exe&quot; \\\r\n        --module-path=C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib \\\r\n        --add-modules=javafx.controls,javafx.fxml \\\r\n        --add-exports=javafx.graphics/com.sun.javafx.util=ALL-UNNAMED \\\r\n        --add-exports=javafx.base/com.sun.javafx.reflect=ALL-UNNAMED \\\r\n        --add-exports=javafx.base/com.sun.javafx.beans=ALL-UNNAMED \\\r\n        --add-exports=javafx.graphics/com.sun.glass.utils=ALL-UNNAMED \\\r\n        --add-exports=javafx.graphics/com.sun.javafx.tk=ALL-UNNAMED \\\r\n        --add-modules javafx.base,javafx.graphics \\\r\n        --add-reads javafx.base=ALL-UNNAMED \\\r\n        --add-reads javafx.graphics=ALL-UNNAMED \\\r\n        &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2018.3\\lib\\idea_rt.jar=60572:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2018.3\\bin&quot; \\\r\n        -Dfile.encoding=UTF-8 \\\r\n        -classpath C:\\Users\\mresp_000\\Desktop\\Business\\Code\\VirtualBeats\\out\\production\\VirtualBeats;\\\r\n            C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\src.zip;\\\r\n            C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx-swt.jar;\\\r\n            C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.web.jar;\\\r\n            C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.base.jar;\\\r\n            C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.fxml.jar;\\\r\n            C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.media.jar;\\\r\n            C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.swing.jar;\\\r\n            C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.controls.jar;\\\r\n            C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.graphics.jar \\\r\n        -p C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.base.jar;\\\r\n            C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.graphics.jar \\\r\n        virtualbeats.Main\r\n    Error occurred during initialization of boot layer\r\n    java.lang.module.FindException: Module javafx.controls not found\r\n\r\n    Process finished with exit code 1\r\n\r\n\r\nI get the same error when I only put in the following to the VM options:\r\n\r\n    --module-path=&quot;C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib&quot;\r\n    --add-modules=javafx.controls,javafx.fxml\r\n\r\nHere is a picture of my [run options][1] (I have ticked and un-ticked the &quot;include dependencies withg provided scope&quot; box, neither work.\r\n\r\nThe library is pointing to the right place and I&#39;ve tried rebuilding the project, nothing is working. When I go to my command line and type:\r\n\r\n    dir &quot;C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib&quot;\r\n\r\nI get the following output:\r\n![output of cmd][2]\r\n\r\nSo everything is infact there and pointing to the exact location it needs to be pointing to. Adding the .jar extension to the add-module also does nothing.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R9YPD.png\r\n  [2]: https://i.stack.imgur.com/KQaG4.png","title":"javafx.controls could not be found JavaFX 11 / JDK 11.0.1","body":"<p>I am using InteliJ, I've gone through all other solutions that seem to work for everybody else. I was getting an error:</p>\n\n<pre><code>Caused by: java.lang.IllegalAccessError: class com.sun.javafx.fxml.FXMLLoaderHelper (in unnamed module @0x5782d366) cannot access class com.sun.javafx.util.Utils (in module javafx.graphics) because module javafx.graphics does not export com.sun.javafx.util to unnamed module @0x5782d366\n</code></pre>\n\n<p>I then added the following to VM options in the run config:</p>\n\n<pre><code>--module-path=\"C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\" \\ \n    --add-modules=javafx.controls \\\n    --add-exports=javafx.graphics/com.sun.javafx.util=ALL-UNNAMED \\\n    --add-exports=javafx.base/com.sun.javafx.reflect=ALL-UNNAMED \\\n    --add-exports=javafx.base/com.sun.javafx.beans=ALL-UNNAMED \\\n    --add-exports=javafx.graphics/com.sun.glass.utils=ALL-UNNAMED \\\n    --add-exports=javafx.graphics/com.sun.javafx.tk=ALL-UNNAMED\n</code></pre>\n\n<p>That seemed to partially fix the problem? Howerver when I try to run this I don't get a whole stack trace of errors, I get these three lines:</p>\n\n<pre><code>\"C:\\Program Files\\Java\\jdk-11.0.1\\bin\\java.exe\" \\\n    --module-path=C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib \\\n    --add-modules=javafx.controls,javafx.fxml \\\n    --add-exports=javafx.graphics/com.sun.javafx.util=ALL-UNNAMED \\\n    --add-exports=javafx.base/com.sun.javafx.reflect=ALL-UNNAMED \\\n    --add-exports=javafx.base/com.sun.javafx.beans=ALL-UNNAMED \\\n    --add-exports=javafx.graphics/com.sun.glass.utils=ALL-UNNAMED \\\n    --add-exports=javafx.graphics/com.sun.javafx.tk=ALL-UNNAMED \\\n    --add-modules javafx.base,javafx.graphics \\\n    --add-reads javafx.base=ALL-UNNAMED \\\n    --add-reads javafx.graphics=ALL-UNNAMED \\\n    \"-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2018.3\\lib\\idea_rt.jar=60572:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2018.3\\bin\" \\\n    -Dfile.encoding=UTF-8 \\\n    -classpath C:\\Users\\mresp_000\\Desktop\\Business\\Code\\VirtualBeats\\out\\production\\VirtualBeats;\\\n        C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\src.zip;\\\n        C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx-swt.jar;\\\n        C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.web.jar;\\\n        C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.base.jar;\\\n        C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.fxml.jar;\\\n        C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.media.jar;\\\n        C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.swing.jar;\\\n        C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.controls.jar;\\\n        C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.graphics.jar \\\n    -p C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.base.jar;\\\n        C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\\javafx.graphics.jar \\\n    virtualbeats.Main\nError occurred during initialization of boot layer\njava.lang.module.FindException: Module javafx.controls not found\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>I get the same error when I only put in the following to the VM options:</p>\n\n<pre><code>--module-path=\"C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\"\n--add-modules=javafx.controls,javafx.fxml\n</code></pre>\n\n<p>Here is a picture of my <a href=\"https://i.stack.imgur.com/R9YPD.png\" rel=\"noreferrer\">run options</a> (I have ticked and un-ticked the \"include dependencies withg provided scope\" box, neither work.</p>\n\n<p>The library is pointing to the right place and I've tried rebuilding the project, nothing is working. When I go to my command line and type:</p>\n\n<pre><code>dir \"C:\\Users\\mresp_000\\Desktop\\Business\\Code\\SDKS\\javafx-sdk-11.0.1\\lib\"\n</code></pre>\n\n<p>I get the following output:\n<img src=\"https://i.stack.imgur.com/KQaG4.png\" alt=\"output of cmd\"></p>\n\n<p>So everything is infact there and pointing to the exact location it needs to be pointing to. Adding the .jar extension to the add-module also does nothing.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":4,"creation_date":1638618600,"post_id":70225313,"comment_id":124139194,"body_markdown":"Can you show the code that you currently have? It&#39;s unclear what you are asking. Are you asking how to assign a field from an argument? `this.television = television`?","body":"Can you show the code that you currently have? It&#39;s unclear what you are asking. Are you asking how to assign a field from an argument? <code>this.television = television</code>?"},{"owner":{"account_id":1174921,"reputation":1613,"user_id":1151144,"accept_rate":79,"display_name":"Dale"},"score":0,"creation_date":1638620512,"post_id":70225313,"comment_id":124139503,"body_markdown":"You may want to dig into what Objects are a bit more.  The point of Objects is for you to be able to define objects as real-world concepts and use them as such.  An example would be a car is an object and so you create an INSTANCE of a car.  A car has four tires which have 4 instances of objects.  So the tires are &quot;attributes&quot; of the car.  AND the tires also have attributes and so on.  Tires may have bolts and nuts.  It also might have a rim etc.","body":"You may want to dig into what Objects are a bit more.  The point of Objects is for you to be able to define objects as real-world concepts and use them as such.  An example would be a car is an object and so you create an INSTANCE of a car.  A car has four tires which have 4 instances of objects.  So the tires are &quot;attributes&quot; of the car.  AND the tires also have attributes and so on.  Tires may have bolts and nuts.  It also might have a rim etc."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1639042826,"post_id":70225313,"comment_id":124249158,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":6297098,"reputation":323,"user_id":8214832,"display_name":"Lakshya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1638618951,"creation_date":1638618951,"answer_id":70225362,"question_id":70225313,"body_markdown":"```\r\n\r\nclass Television {\r\n    String name;\r\n    \r\n    Television(String name) {\r\n        this.name = name;\r\n    }\r\n    \r\n}\r\n\r\nclass TelevisionShop {\r\n    public Television[] televisions;\r\n    \r\n    \r\n    TelevisionShop(Television[] televisions) {\r\n        this.televisions = televisions;\r\n    }\r\n}\r\n\r\n\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t    Television t1 = new Television(&quot;t1&quot;);\r\n\t    Television t2 = new Television(&quot;t2&quot;);\r\n\t    Television[] televisions = {t1,t2};\r\n\t\tTelevisionShop shop = new TelevisionShop(televisions);\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nI guess this is the most straightforward way.","title":"Can you declare class name as an attribute of another class in Java?","body":"<pre><code>\nclass Television {\n    String name;\n    \n    Television(String name) {\n        this.name = name;\n    }\n    \n}\n\nclass TelevisionShop {\n    public Television[] televisions;\n    \n    \n    TelevisionShop(Television[] televisions) {\n        this.televisions = televisions;\n    }\n}\n\n\npublic class Main\n{\n    public static void main(String[] args) {\n        Television t1 = new Television(&quot;t1&quot;);\n        Television t2 = new Television(&quot;t2&quot;);\n        Television[] televisions = {t1,t2};\n        TelevisionShop shop = new TelevisionShop(televisions);\n        \n    }\n}\n</code></pre>\n<p>I guess this is the most straightforward way.</p>\n"}],"owner":{"account_id":16986827,"reputation":7,"user_id":12287396,"display_name":"Andrew Namaye"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":70225362,"answer_count":1,"score":-3,"last_activity_date":1638618951,"creation_date":1638618503,"question_id":70225313,"body_markdown":"I have a class called Television and the second class is called Televisionshop and has Television[] television as an array attribute. And also a constructor called Televisionshop(Television [] television). How can I initialize the attribute to this constructor. ?","title":"Can you declare class name as an attribute of another class in Java?","body":"<p>I have a class called Television and the second class is called Televisionshop and has Television[] television as an array attribute. And also a constructor called Televisionshop(Television [] television). How can I initialize the attribute to this constructor. ?</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1638571009,"post_id":70221359,"comment_id":124133081,"body_markdown":"Never mock a collection type like `LinkedMultiValueMap`.  Just make a real one.","body":"Never mock a collection type like <code>LinkedMultiValueMap</code>.  Just make a real one."},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1638576220,"post_id":70221359,"comment_id":124133994,"body_markdown":"Or any type that&#39;s just plain data with no behavior to modify. @LouisWasserman","body":"Or any type that&#39;s just plain data with no behavior to modify. @LouisWasserman"},{"owner":{"account_id":21166933,"reputation":57,"user_id":15564069,"display_name":"WorkWork"},"score":0,"creation_date":1638643284,"post_id":70221359,"comment_id":124144510,"body_markdown":"@LouisWasserman &gt;&gt; You mean, to make a map out of LinkedMultiValueMap?","body":"@LouisWasserman &gt;&gt; You mean, to make a map out of LinkedMultiValueMap?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1638643361,"post_id":70221359,"comment_id":124144525,"body_markdown":"I mean to make a real `LinkedMultiValueMap`.  Don&#39;t mock it, construct it.","body":"I mean to make a real <code>LinkedMultiValueMap</code>.  Don&#39;t mock it, construct it."}],"answers":[{"tags":[],"owner":{"account_id":5272138,"reputation":2107,"user_id":4210091,"display_name":"Renato"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638618237,"creation_date":1638610958,"answer_id":70224528,"question_id":70221359,"body_markdown":"As mentioned in comments, It doesn&#39;t make sense to mock either value object or any type of objects that doesn&#39;t contain any logic or is time consuming or needs a lot of resources or is not under test ( is external or is used by your functionality but is not your functionality).\r\n\r\nSaid this, I usually consider two categories of &#39;testing&#39;:\r\n\r\n - testing functionalities that invoke other functionalities\r\n - testing functionalities that has their own logic, then, for a given input they do have a definite output\r\n\r\nThe service you are testing belongs to the first category, so I would test that the web service you invoke is called with the right parameters.\r\n\r\nSo, I don&#39;t know Spring, but you should use a series of\r\n ```\r\nMockito.verify(mockObject).methodToCall(parameter1, parameter2);\r\n```","title":"Junit mocking for Linked MultiValueMap","body":"<p>As mentioned in comments, It doesn't make sense to mock either value object or any type of objects that doesn't contain any logic or is time consuming or needs a lot of resources or is not under test ( is external or is used by your functionality but is not your functionality).</p>\n<p>Said this, I usually consider two categories of 'testing':</p>\n<ul>\n<li>testing functionalities that invoke other functionalities</li>\n<li>testing functionalities that has their own logic, then, for a given input they do have a definite output</li>\n</ul>\n<p>The service you are testing belongs to the first category, so I would test that the web service you invoke is called with the right parameters.</p>\n<p>So, I don't know Spring, but you should use a series of</p>\n<pre><code>Mockito.verify(mockObject).methodToCall(parameter1, parameter2);\n</code></pre>\n"}],"owner":{"account_id":21166933,"reputation":57,"user_id":15564069,"display_name":"WorkWork"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":711,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638618237,"creation_date":1638570717,"question_id":70221359,"body_markdown":"I&#39;m trying to mock a method with a LinkedMultiValueMap, but without any success. To cut a long story short, I&#39;ve just begun to work with Mockito and Junit testing a few days ago, and I actually don&#39;t know what I&#39;m doing. I&#39;ll provide my test method code, with my tryout to write a mock test.\r\n\r\n    @Service\r\n    public class VaultService {\r\n    public VaultService() {\r\n    \r\n            String baseUrl = System.getenv(&quot;VAULT_HOST&quot;) + &quot;/api/v&quot; + System.getenv(&quot;VAULT_API_VERSION&quot;);\r\n            String userAgent = System.getenv(&quot;APPLICATION_NAME&quot;) + &quot;/&quot; + System.getenv(&quot;APPLICATION_VERSION&quot;);\r\n    \r\n            webClient = WebClient.builder()\r\n                    .baseUrl(baseUrl)\r\n                    .defaultHeader(HttpHeaders.USER_AGENT, userAgent)\r\n                    .defaultHeader(HttpHeaders.ACCEPT, MediaType.APPLICATION_JSON_VALUE)\r\n                    .build();\r\n        }\r\n    \r\n        @Scheduled(fixedDelay = 1200000)\r\n        public void authenticate() {\r\n            LinkedMultiValueMap&lt;String, String&gt; login = new LinkedMultiValueMap&lt;&gt;();\r\n            login.add(&quot;username&quot;, System.getenv(&quot;VAULT_USERNAME&quot;));\r\n            login.add(&quot;password&quot;, System.getenv(&quot;VAULT_PASSWORD&quot;));\r\n    \r\n            webClient.post()\r\n                    .uri(&quot;/auth&quot;)\r\n                    .body(BodyInserters.fromMultipartData(login))\r\n                    .retrieve()\r\n                    .bodyToMono(AuthenticationResponse.class)\r\n                    .map(authenticationResponse -&gt; {\r\n                        setSessionId(authenticationResponse.sessionId);\r\n                        return authenticationResponse;\r\n                    })\r\n                    .block();\r\n        }\r\n    }\r\n\r\nAnd here&#39;s my failed try to write a mock test:\r\n\r\n    class VaultServiceTest {\r\n        private WebClient webClientMock;\r\n    \r\n        @BeforeEach\r\n        void setup() {\r\n            webClientMock = mock(WebClient.class);\r\n        }\r\n    \r\n        @Test\r\n        void authenticate() {\r\n            VaultService vaultService = new VaultService();\r\n            LinkedMultiValueMap&lt;String, String&gt; testAuthenticate = mock(LinkedMultiValueMap.class);\r\n            when(testAuthenticate.get(&quot;password&quot;)).thenReturn(Collections.emptyList());\r\n        }\r\n    }","title":"Junit mocking for Linked MultiValueMap","body":"<p>I'm trying to mock a method with a LinkedMultiValueMap, but without any success. To cut a long story short, I've just begun to work with Mockito and Junit testing a few days ago, and I actually don't know what I'm doing. I'll provide my test method code, with my tryout to write a mock test.</p>\n<pre><code>@Service\npublic class VaultService {\npublic VaultService() {\n\n        String baseUrl = System.getenv(&quot;VAULT_HOST&quot;) + &quot;/api/v&quot; + System.getenv(&quot;VAULT_API_VERSION&quot;);\n        String userAgent = System.getenv(&quot;APPLICATION_NAME&quot;) + &quot;/&quot; + System.getenv(&quot;APPLICATION_VERSION&quot;);\n\n        webClient = WebClient.builder()\n                .baseUrl(baseUrl)\n                .defaultHeader(HttpHeaders.USER_AGENT, userAgent)\n                .defaultHeader(HttpHeaders.ACCEPT, MediaType.APPLICATION_JSON_VALUE)\n                .build();\n    }\n\n    @Scheduled(fixedDelay = 1200000)\n    public void authenticate() {\n        LinkedMultiValueMap&lt;String, String&gt; login = new LinkedMultiValueMap&lt;&gt;();\n        login.add(&quot;username&quot;, System.getenv(&quot;VAULT_USERNAME&quot;));\n        login.add(&quot;password&quot;, System.getenv(&quot;VAULT_PASSWORD&quot;));\n\n        webClient.post()\n                .uri(&quot;/auth&quot;)\n                .body(BodyInserters.fromMultipartData(login))\n                .retrieve()\n                .bodyToMono(AuthenticationResponse.class)\n                .map(authenticationResponse -&gt; {\n                    setSessionId(authenticationResponse.sessionId);\n                    return authenticationResponse;\n                })\n                .block();\n    }\n}\n</code></pre>\n<p>And here's my failed try to write a mock test:</p>\n<pre><code>class VaultServiceTest {\n    private WebClient webClientMock;\n\n    @BeforeEach\n    void setup() {\n        webClientMock = mock(WebClient.class);\n    }\n\n    @Test\n    void authenticate() {\n        VaultService vaultService = new VaultService();\n        LinkedMultiValueMap&lt;String, String&gt; testAuthenticate = mock(LinkedMultiValueMap.class);\n        when(testAuthenticate.get(&quot;password&quot;)).thenReturn(Collections.emptyList());\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1638686869,"post_id":70225236,"comment_id":124150815,"body_markdown":"As far as I know, there is no option to set pattern fills or picture fills to character runs in Word. How would you do this using The Word GUI? Apache POI cannot do what Word itself is not able to do.","body":"As far as I know, there is no option to set pattern fills or picture fills to character runs in Word. How would you do this using The Word GUI? Apache POI cannot do what Word itself is not able to do."},{"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"score":0,"creation_date":1638696669,"post_id":70225236,"comment_id":124152201,"body_markdown":"There is a way to do that in word, maybe indirectly: https://www.techwalla.com/articles/how-to-group-picture-text-in-ms-word You are able to group a text box and an image and put the result anywhere in the document. But I agree that the result is not a simple text run","body":"There is a way to do that in word, maybe indirectly: <a href=\"https://www.techwalla.com/articles/how-to-group-picture-text-in-ms-word\" rel=\"nofollow noreferrer\">techwalla.com/articles/how-to-group-picture-text-in-ms-word</a> You are able to group a text box and an image and put the result anywhere in the document. But I agree that the result is not a simple text run"},{"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"score":0,"creation_date":1638698049,"post_id":70225236,"comment_id":124152453,"body_markdown":"To be fait, I really thought when I asked the question that Word was able to directly add a pattern under a text.","body":"To be fait, I really thought when I asked the question that Word was able to directly add a pattern under a text."}],"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638617887,"creation_date":1638617887,"question_id":70225236,"body_markdown":"I know that it is possible to set the color of the run by: https://stackoverflow.com/questions/35419619/how-can-i-set-background-colour-of-a-run-a-word-in-line-or-a-paragraph-in-a-do\r\n\r\nThe relevant code is for example (see the answer in the referenced question):\r\n\r\n     XWPFRun run=paragraph.createRun();  \r\n     run.setText(&quot;background color&quot;);\r\n     CTShd cTShd = run.getCTR().addNewRPr().addNewShd();\r\n     cTShd.setVal(STShd.CLEAR);\r\n     cTShd.setColor(&quot;auto&quot;);\r\n     cTShd.setFill(&quot;00FFFF&quot;);\r\n\r\nI would like to use an image instead as a pattern, is it possible? I know that the argument used for the fill argument is an object, so is it possible to use a picture reference or something like that?\r\n\r\nI also know how to add directly a picture in a docx document, for example:\r\n\r\n         Image image = // my image to use\r\n         float widthEMU = // the width of the image in EMU\r\n         float heightEMU = // the height of the image in EMU\r\n         BufferedImage bimage = new BufferedImage((int) width, (int) height, BufferedImage.TYPE_INT_ARGB);\r\n\r\n         // Draw the image on to the buffered image\r\n         Graphics2D bGr = bimage.createGraphics();\r\n         bGr.drawImage(_image, 0, 0, null);\r\n         bGr.dispose();\r\n\r\n         ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n         ImageIO.write(bimage, &quot;png&quot;, os);\r\n         InputStream is = new ByteArrayInputStream(os.toByteArray());\r\n         XWPFPicture pic = run.addPicture(is, XWPFDocument.PICTURE_TYPE_PNG, &quot;Picture&quot;, widthEMU, heightEMU);\r\n\r\n","title":"How can I set background fill of a run (a word in line or a paragraph) in a docx file by using Apache POI?","body":"<p>I know that it is possible to set the color of the run by: <a href=\"https://stackoverflow.com/questions/35419619/how-can-i-set-background-colour-of-a-run-a-word-in-line-or-a-paragraph-in-a-do\">How can I set background colour of a run (a word in line or a paragraph) in a docx file by using Apache POI?</a></p>\n<p>The relevant code is for example (see the answer in the referenced question):</p>\n<pre><code> XWPFRun run=paragraph.createRun();  \n run.setText(&quot;background color&quot;);\n CTShd cTShd = run.getCTR().addNewRPr().addNewShd();\n cTShd.setVal(STShd.CLEAR);\n cTShd.setColor(&quot;auto&quot;);\n cTShd.setFill(&quot;00FFFF&quot;);\n</code></pre>\n<p>I would like to use an image instead as a pattern, is it possible? I know that the argument used for the fill argument is an object, so is it possible to use a picture reference or something like that?</p>\n<p>I also know how to add directly a picture in a docx document, for example:</p>\n<pre><code>     Image image = // my image to use\n     float widthEMU = // the width of the image in EMU\n     float heightEMU = // the height of the image in EMU\n     BufferedImage bimage = new BufferedImage((int) width, (int) height, BufferedImage.TYPE_INT_ARGB);\n\n     // Draw the image on to the buffered image\n     Graphics2D bGr = bimage.createGraphics();\n     bGr.drawImage(_image, 0, 0, null);\n     bGr.dispose();\n\n     ByteArrayOutputStream os = new ByteArrayOutputStream();\n     ImageIO.write(bimage, &quot;png&quot;, os);\n     InputStream is = new ByteArrayInputStream(os.toByteArray());\n     XWPFPicture pic = run.addPicture(is, XWPFDocument.PICTURE_TYPE_PNG, &quot;Picture&quot;, widthEMU, heightEMU);\n</code></pre>\n"},{"tags":["java","processing","collision"],"comments":[{"owner":{"account_id":22643061,"reputation":134,"user_id":16818831,"display_name":"CiY3"},"score":1,"creation_date":1638617031,"post_id":70208656,"comment_id":124138954,"body_markdown":"That is quite a lot of variables. You might want to make an object to do this. You can make an &quot;Enemy&quot; object and maybe but a method to check if it is touching the player.","body":"That is quite a lot of variables. You might want to make an object to do this. You can make an &quot;Enemy&quot; object and maybe but a method to check if it is touching the player."}],"answers":[{"tags":[],"owner":{"account_id":22643061,"reputation":134,"user_id":16818831,"display_name":"CiY3"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638617886,"creation_date":1638617886,"answer_id":70225235,"question_id":70208656,"body_markdown":"Here is what I think the issues are. First of all, processing is not the best language to make a game like Space Invaders. You can&#39;t have multiple key inputs at once. For example, if I press the left arrow, hold it, then press the right arrow, and let go of the left arrow, processing will ignore the left arrow. Processing has one key input: `key`. It can only have one value. You can&#39;t track multiple inputs at once. You can maybe replace it with your mouse - if the mouse is far to the left, move left. If it is far to the right, move right. In the middle? Stay still. \r\n\r\nAside from that, you want to check for collision. First of all, make the enemy into an object. I am assuming you know how to make objects. If not, look at [this tutorial.][1] Now, we need to check for collision. I&#39;d suggest making a collision method inside of the enemy class, and here is what i&#39;d imagine it to be:\r\n\r\n    boolean collidingWithPlayer() {\r\n        return (playerX &gt; enemyX &amp;&amp; playerX &lt; enemyX + enemyW\r\n        &amp;&amp; playerY &gt; enemyY &amp;&amp; playerY &lt; enemyY + enemyH);\r\n    }\r\n\r\nUse this as you will. Good luck with your game.\r\n\r\n  [1]: https://processing.org/tutorials/objects","title":"Space Invader project","body":"<p>Here is what I think the issues are. First of all, processing is not the best language to make a game like Space Invaders. You can't have multiple key inputs at once. For example, if I press the left arrow, hold it, then press the right arrow, and let go of the left arrow, processing will ignore the left arrow. Processing has one key input: <code>key</code>. It can only have one value. You can't track multiple inputs at once. You can maybe replace it with your mouse - if the mouse is far to the left, move left. If it is far to the right, move right. In the middle? Stay still.</p>\n<p>Aside from that, you want to check for collision. First of all, make the enemy into an object. I am assuming you know how to make objects. If not, look at <a href=\"https://processing.org/tutorials/objects\" rel=\"nofollow noreferrer\">this tutorial.</a> Now, we need to check for collision. I'd suggest making a collision method inside of the enemy class, and here is what i'd imagine it to be:</p>\n<pre><code>boolean collidingWithPlayer() {\n    return (playerX &gt; enemyX &amp;&amp; playerX &lt; enemyX + enemyW\n    &amp;&amp; playerY &gt; enemyY &amp;&amp; playerY &lt; enemyY + enemyH);\n}\n</code></pre>\n<p>Use this as you will. Good luck with your game.</p>\n"}],"owner":{"account_id":23530830,"reputation":13,"user_id":17576512,"display_name":"Namir Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":708,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70225235,"answer_count":1,"score":1,"last_activity_date":1638617886,"creation_date":1638496946,"question_id":70208656,"body_markdown":"Hi I have been working on a space invader game in processing, I am relatively new to java/coding. What my problem is that I do not really understand how to make the collision actually work, and also my aliens (which are the space ships), they move left to right but do not move down. These are the 2 major problems that I am having a hard time solving. This is my code underneath, any professional advice would be appreciated. \r\n\r\n```PImage Tank;\r\nPImage SpaceShip;\r\nPImage Laser;\r\nint TankX = 450;\r\nint TankY = 450;\r\nint SpaceshipX = 20;\r\nint SpaceshipY = 20;\r\nint MoveSpaceShipDown = 5;\r\nint TankSizeX = 200;\r\nint TankSizeY = 90;\r\nint ShipSizeX = 90;\r\nint ShipSizeY = 80;\r\nint Xtankspeed = 2;\r\nint LaserX = 9999;\r\nint LaserY = TankY;\r\nint LasersizeX = 10;\r\nint LasersizeY = 40;\r\nint spaceShipDirection =  5;\r\nint spaceshipxspeed = 2;\r\nint spaceshipSpeed = 5;\r\n//int Xtankspeed2 = -6;\r\nboolean moveRight = false;\r\nboolean moveLeft = false;\r\nboolean ShowLaser = false;\r\nint[] ShipX = new int [15];\r\nint [] ShipY = new int [4];\r\nint gameState = 1;\r\nint StopWatch = 0;\r\n\r\n\r\nvoid setup() {\r\n  size(1000, 500);\r\n  imageMode(CENTER);\r\n  SpaceShip = loadImage(&quot;Spaceship.png&quot;);\r\n  SpaceShip.resize( ShipSizeX, ShipSizeY );\r\n  Laser = loadImage (&quot;LaserBeam.png&quot;);\r\n  Laser.resize(LasersizeX, LasersizeY);\r\n  Tank = loadImage(&quot;Tank.png&quot;);\r\n  Tank.resize(TankSizeX, TankSizeY);\r\n  setSpaceShipPositions();\r\n}\r\n\r\nvoid setSpaceShipPositions() {\r\n\r\n\r\nfor(int j = 0; j &lt; ShipY.length; j++){\r\n  for (int i = 0; i &lt; ShipX.length; i++) {\r\n    ShipX[i] = 50 + 50*i;\r\n  }\r\n  ShipY[j] = 50 + 50*j;\r\n}\r\n}\r\n\r\n\r\nvoid draw() {\r\n  if (gameState == 1) {\r\n    IntroScreen();\r\n  } else if (gameState == 2) {\r\n    startGame();\r\n  }\r\n}\r\nvoid IntroScreen() {\r\n  background(#000000);\r\n  textMode(CENTER);\r\n  textSize(50);\r\n  text(&quot;Space Defenders&quot;, 325, 250);\r\n}\r\nvoid startGame() {\r\n  background (#2f3069);\r\n  MakeLaser();\r\n  Maketank();\r\n  Maketankmove();\r\n  checkiftankhitedge();\r\n \r\n  for (int j = 0; j &lt; ShipY.length; j++) {\r\n  for (int i = 0; i &lt; ShipX.length; i++) {\r\n    MakeSpaceShip(i,j);\r\n    moveSpaceShip();\r\n    checkiflaserhitspaceship(i,j);\r\n  }\r\n  }\r\n\r\n  Shootlaser();\r\n  Makelaserreturentoorignalposition();\r\n  \r\n  //makespaceshipgodown();\r\n}\r\n\r\n\r\n\r\nvoid keyPressed() {\r\n  println(keyCode);\r\n  if (keyCode == 39) { //right key\r\n    moveRight = true;\r\n  }\r\n  if (keyCode == 37) { //leftkey\r\n    moveLeft = true;\r\n  }\r\n  if (keyCode == 32 &amp;&amp; ShowLaser == false) { //Spacebar\r\n    ShowLaser = true;\r\n    LaserX = TankX;\r\n    LaserY = TankY;\r\n  }\r\n  if (keyCode == 10) {\r\n    gameState = 2;\r\n  }\r\n}\r\n\r\n\r\nvoid keyReleased() {\r\n\r\n  if (keyCode == 39) { //right key\r\n    moveRight = false;\r\n  }\r\n  if (keyCode == 37) { //leftkey\r\n    moveLeft = false;\r\n  }\r\n  if (keyCode == 32) { //Spacebar\r\n  }\r\n}\r\n\r\nvoid Maketank() {// this is to make the tank\r\n  //PImage.resize(0,5);\r\n\r\n  imageMode(CENTER);\r\n  image(Tank, TankX, TankY);\r\n}\r\nvoid MakeLaser() {\r\n  if (ShowLaser) {\r\n    image(Laser, LaserX, LaserY);\r\n  }\r\n}\r\nvoid MakeSpaceShip(int i, int j) {\r\n  image(SpaceShip, ShipX[i], ShipY[j]);\r\n  //for (int i = 0; i &lt; spaceShipX.length; i++){\r\n  // image( spaceShipX[i] - 15, ,SpaceshipX, SpaceshipY ); Confused\r\n}\r\n\r\nint lastlaptime = 0;\r\nint timesincelastlap = 0;\r\n\r\n\r\n//void moveSpaceShip(int i, int j) {\r\n\r\n/*StopWatch = millis();\r\n timesincelastlap = StopWatch - lastlaptime;\r\n \r\n if (timesincelastlap &gt; 500) {\r\n \r\n spaceShipX[i] += spaceshipxspeed;\r\n lastlaptime = millis();\r\n \r\n \r\n // if (spaceShipX[i] &gt; 990) {\r\n // SpaceshipY = SpaceshipY + 30;\r\n //spaceShipDirection = -1*spaceShipDirection;\r\n \r\n // }\r\n //if (spaceShipX[i] &lt; 10) {\r\n // SpaceshipY = SpaceshipY + 30;\r\n //spaceShipDirection = -1*spaceShipDirection;\r\n //}\r\n //}\r\n }*/\r\n\r\nvoid moveSpaceShip() {\r\n  /*for (int i = 0; i &lt; 15; i++){\r\n   if (spaceShipX[40] &gt; 990){\r\n   spaceShipDirection = -1*spaceShipDirection;\r\n   SpaceshipY = SpaceshipY + 30;\r\n   }\r\n   if (spaceShipX[1] &lt; 10){\r\n   spaceShipDirection = -1*spaceShipDirection;\r\n   SpaceshipY = SpaceshipY + 30;\r\n   }\r\n   }\r\n   for (int i = 0; i &lt; 15; i++){\r\n   spaceShipX[i] = spaceShipX[i] + spaceShipDirection;\r\n   }*/\r\n  if (millis() - StopWatch &gt; 1000) {\r\n    StopWatch = millis();\r\n    checkIfHitEdge();\r\n    moveShips();\r\n  }\r\n}\r\n\r\nvoid moveShips() {\r\n  for (int i = 0; i &lt; 15; i++) {\r\n    ShipX[i] = ShipX[i] + spaceShipDirection*spaceshipSpeed;\r\n  }\r\n}\r\nvoid checkIfHitEdge() {\r\n  for (int i = 0; i &lt; 15; i++) {\r\n    if (ShipX[14] &gt; 990) {\r\n       SpaceshipY = SpaceshipY + 5;\r\n      spaceShipDirection = -1*spaceShipDirection;\r\n     \r\n    }\r\n  \r\n    if (ShipX[0] &lt; 10) {\r\n      spaceShipDirection = -1*spaceShipDirection;\r\n      SpaceshipY = SpaceshipY + 5;\r\n    }\r\n  }\r\n  \r\n}\r\n\r\n//void makespaceshipgodown(){\r\n// if(SpaceshipX + 45 &gt; width){\r\n//SpaceshipY++;\r\n// }\r\n//}\r\nvoid Maketankmove() {\r\n  if (moveLeft == true) {\r\n    TankX--; //this makes the tank go left\r\n    TankX = TankX - Xtankspeed;//this is for the speed of the tank\r\n  }\r\n  if (moveRight == true) {\r\n    TankX++;//this makes the tank go right\r\n    TankX = TankX + Xtankspeed;//the speed of the tank\r\n  }\r\n}\r\nvoid checkiftankhitedge() {\r\n  if (TankX &gt; width-50) {\r\n    TankX = 950;\r\n    moveRight = false;\r\n  }\r\n  if (TankX-100 &lt; -50) {\r\n    TankX = 50;\r\n    moveLeft = false;\r\n  }\r\n}\r\nvoid Makelaserreturentoorignalposition() {\r\n  //if(TankX++){\r\n  if (LaserY == 0) {\r\n    LaserY = TankY;\r\n    LaserX = 9999;\r\n    ShowLaser = false;\r\n  }\r\n}\r\nvoid checkiflaserhitspaceship(int i, int j) {\r\n /* int Lasertop = LasersizeY - 20;\r\n  int Laserbottom = LasersizeY + 20;\r\n  int LaserLeft= LasersizeX - 5;\r\n int LaserRight = LasersizeX +5;\r\n  int SpaceShipBottom = ShipY[j] - 40;\r\n  int SpaceShipTop = ShipY[j] + 40;\r\n   int SpaceShipleft = spaceShipX[i] - 45;\r\n   int SpaceShipright = spaceShipX[i] + 45;\r\n  boolean LaserhitSpaceship = Lasertop &gt; SpaceShipBottom &amp;&amp;\r\n  Laserbottom &lt; SpaceShipTop &amp;&amp;\r\n   LaserLeft &lt; SpaceShipright &amp;&amp;\r\n  LaserRight &gt; SpaceShipleft;\r\n  if(LaserhitSpaceship == true){\r\n  spaceShipX[0] = 90000;\r\n  }*/\r\n}\r\nvoid Shootlaser() {\r\n  if (ShowLaser == true) {\r\n    LaserY-=5;\r\n  }\r\n}```\r\n","title":"Space Invader project","body":"<p>Hi I have been working on a space invader game in processing, I am relatively new to java/coding. What my problem is that I do not really understand how to make the collision actually work, and also my aliens (which are the space ships), they move left to right but do not move down. These are the 2 major problems that I am having a hard time solving. This is my code underneath, any professional advice would be appreciated.</p>\n<pre><code>PImage SpaceShip;\nPImage Laser;\nint TankX = 450;\nint TankY = 450;\nint SpaceshipX = 20;\nint SpaceshipY = 20;\nint MoveSpaceShipDown = 5;\nint TankSizeX = 200;\nint TankSizeY = 90;\nint ShipSizeX = 90;\nint ShipSizeY = 80;\nint Xtankspeed = 2;\nint LaserX = 9999;\nint LaserY = TankY;\nint LasersizeX = 10;\nint LasersizeY = 40;\nint spaceShipDirection =  5;\nint spaceshipxspeed = 2;\nint spaceshipSpeed = 5;\n//int Xtankspeed2 = -6;\nboolean moveRight = false;\nboolean moveLeft = false;\nboolean ShowLaser = false;\nint[] ShipX = new int [15];\nint [] ShipY = new int [4];\nint gameState = 1;\nint StopWatch = 0;\n\n\nvoid setup() {\n  size(1000, 500);\n  imageMode(CENTER);\n  SpaceShip = loadImage(&quot;Spaceship.png&quot;);\n  SpaceShip.resize( ShipSizeX, ShipSizeY );\n  Laser = loadImage (&quot;LaserBeam.png&quot;);\n  Laser.resize(LasersizeX, LasersizeY);\n  Tank = loadImage(&quot;Tank.png&quot;);\n  Tank.resize(TankSizeX, TankSizeY);\n  setSpaceShipPositions();\n}\n\nvoid setSpaceShipPositions() {\n\n\nfor(int j = 0; j &lt; ShipY.length; j++){\n  for (int i = 0; i &lt; ShipX.length; i++) {\n    ShipX[i] = 50 + 50*i;\n  }\n  ShipY[j] = 50 + 50*j;\n}\n}\n\n\nvoid draw() {\n  if (gameState == 1) {\n    IntroScreen();\n  } else if (gameState == 2) {\n    startGame();\n  }\n}\nvoid IntroScreen() {\n  background(#000000);\n  textMode(CENTER);\n  textSize(50);\n  text(&quot;Space Defenders&quot;, 325, 250);\n}\nvoid startGame() {\n  background (#2f3069);\n  MakeLaser();\n  Maketank();\n  Maketankmove();\n  checkiftankhitedge();\n \n  for (int j = 0; j &lt; ShipY.length; j++) {\n  for (int i = 0; i &lt; ShipX.length; i++) {\n    MakeSpaceShip(i,j);\n    moveSpaceShip();\n    checkiflaserhitspaceship(i,j);\n  }\n  }\n\n  Shootlaser();\n  Makelaserreturentoorignalposition();\n  \n  //makespaceshipgodown();\n}\n\n\n\nvoid keyPressed() {\n  println(keyCode);\n  if (keyCode == 39) { //right key\n    moveRight = true;\n  }\n  if (keyCode == 37) { //leftkey\n    moveLeft = true;\n  }\n  if (keyCode == 32 &amp;&amp; ShowLaser == false) { //Spacebar\n    ShowLaser = true;\n    LaserX = TankX;\n    LaserY = TankY;\n  }\n  if (keyCode == 10) {\n    gameState = 2;\n  }\n}\n\n\nvoid keyReleased() {\n\n  if (keyCode == 39) { //right key\n    moveRight = false;\n  }\n  if (keyCode == 37) { //leftkey\n    moveLeft = false;\n  }\n  if (keyCode == 32) { //Spacebar\n  }\n}\n\nvoid Maketank() {// this is to make the tank\n  //PImage.resize(0,5);\n\n  imageMode(CENTER);\n  image(Tank, TankX, TankY);\n}\nvoid MakeLaser() {\n  if (ShowLaser) {\n    image(Laser, LaserX, LaserY);\n  }\n}\nvoid MakeSpaceShip(int i, int j) {\n  image(SpaceShip, ShipX[i], ShipY[j]);\n  //for (int i = 0; i &lt; spaceShipX.length; i++){\n  // image( spaceShipX[i] - 15, ,SpaceshipX, SpaceshipY ); Confused\n}\n\nint lastlaptime = 0;\nint timesincelastlap = 0;\n\n\n//void moveSpaceShip(int i, int j) {\n\n/*StopWatch = millis();\n timesincelastlap = StopWatch - lastlaptime;\n \n if (timesincelastlap &gt; 500) {\n \n spaceShipX[i] += spaceshipxspeed;\n lastlaptime = millis();\n \n \n // if (spaceShipX[i] &gt; 990) {\n // SpaceshipY = SpaceshipY + 30;\n //spaceShipDirection = -1*spaceShipDirection;\n \n // }\n //if (spaceShipX[i] &lt; 10) {\n // SpaceshipY = SpaceshipY + 30;\n //spaceShipDirection = -1*spaceShipDirection;\n //}\n //}\n }*/\n\nvoid moveSpaceShip() {\n  /*for (int i = 0; i &lt; 15; i++){\n   if (spaceShipX[40] &gt; 990){\n   spaceShipDirection = -1*spaceShipDirection;\n   SpaceshipY = SpaceshipY + 30;\n   }\n   if (spaceShipX[1] &lt; 10){\n   spaceShipDirection = -1*spaceShipDirection;\n   SpaceshipY = SpaceshipY + 30;\n   }\n   }\n   for (int i = 0; i &lt; 15; i++){\n   spaceShipX[i] = spaceShipX[i] + spaceShipDirection;\n   }*/\n  if (millis() - StopWatch &gt; 1000) {\n    StopWatch = millis();\n    checkIfHitEdge();\n    moveShips();\n  }\n}\n\nvoid moveShips() {\n  for (int i = 0; i &lt; 15; i++) {\n    ShipX[i] = ShipX[i] + spaceShipDirection*spaceshipSpeed;\n  }\n}\nvoid checkIfHitEdge() {\n  for (int i = 0; i &lt; 15; i++) {\n    if (ShipX[14] &gt; 990) {\n       SpaceshipY = SpaceshipY + 5;\n      spaceShipDirection = -1*spaceShipDirection;\n     \n    }\n  \n    if (ShipX[0] &lt; 10) {\n      spaceShipDirection = -1*spaceShipDirection;\n      SpaceshipY = SpaceshipY + 5;\n    }\n  }\n  \n}\n\n//void makespaceshipgodown(){\n// if(SpaceshipX + 45 &gt; width){\n//SpaceshipY++;\n// }\n//}\nvoid Maketankmove() {\n  if (moveLeft == true) {\n    TankX--; //this makes the tank go left\n    TankX = TankX - Xtankspeed;//this is for the speed of the tank\n  }\n  if (moveRight == true) {\n    TankX++;//this makes the tank go right\n    TankX = TankX + Xtankspeed;//the speed of the tank\n  }\n}\nvoid checkiftankhitedge() {\n  if (TankX &gt; width-50) {\n    TankX = 950;\n    moveRight = false;\n  }\n  if (TankX-100 &lt; -50) {\n    TankX = 50;\n    moveLeft = false;\n  }\n}\nvoid Makelaserreturentoorignalposition() {\n  //if(TankX++){\n  if (LaserY == 0) {\n    LaserY = TankY;\n    LaserX = 9999;\n    ShowLaser = false;\n  }\n}\nvoid checkiflaserhitspaceship(int i, int j) {\n /* int Lasertop = LasersizeY - 20;\n  int Laserbottom = LasersizeY + 20;\n  int LaserLeft= LasersizeX - 5;\n int LaserRight = LasersizeX +5;\n  int SpaceShipBottom = ShipY[j] - 40;\n  int SpaceShipTop = ShipY[j] + 40;\n   int SpaceShipleft = spaceShipX[i] - 45;\n   int SpaceShipright = spaceShipX[i] + 45;\n  boolean LaserhitSpaceship = Lasertop &gt; SpaceShipBottom &amp;&amp;\n  Laserbottom &lt; SpaceShipTop &amp;&amp;\n   LaserLeft &lt; SpaceShipright &amp;&amp;\n  LaserRight &gt; SpaceShipleft;\n  if(LaserhitSpaceship == true){\n  spaceShipX[0] = 90000;\n  }*/\n}\nvoid Shootlaser() {\n  if (ShowLaser == true) {\n    LaserY-=5;\n  }\n}```\n</code></pre>\n"},{"tags":["java","json","jackson","jackson-databind"],"comments":[{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1542877040,"post_id":52554846,"comment_id":93728378,"body_markdown":"&quot;No, there is not.&quot; also counts as a valid answer.","body":"&quot;No, there is not.&quot; also counts as a valid answer."}],"answers":[{"tags":[],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638617548,"creation_date":1638617548,"answer_id":70225198,"question_id":52554846,"body_markdown":"You may read the JSOn as `Map`:\r\n\r\n    var map = new ObjectMapper().readValue(json, Map.class);\r\n    for (var node : ((Map&lt;String, List&lt;Map&lt;String, Object&gt;&gt;&gt;) map).get(&quot;included&quot;)) {\r\n        if (&quot;offers&quot;.equals(node.get(&quot;type&quot;)) &amp;&amp; orderOffer.getOfferId().equals(node.get(&quot;id&quot;))) {\r\n            shippingInfo = ((Map&lt;String, String&gt;)node.get(&quot;attributes&quot;)).get(&quot;shippingSellerMethod&quot;);\r\n        }\r\n    }\r\n\r\nAnother approach is to describe your data as classes:\r\n\r\n    class InputData {\r\n        @JsonProperty\r\n        List&lt;Details&gt; included;\r\n    }\r\n    \r\n    class Details {\r\n        @JsonProperty\r\n        int id;\r\n        @JsonProperty\r\n        String type;\r\n        @JsonProperty\r\n        Map&lt;String, Object&gt; attributes;\r\n    }\r\n\r\nand to read it in the following way:\r\n\r\n    var parsed = mapper.readValue(json, InputData.class);\r\n    for (Details details : parsed.included) {\r\n        if (details.type.equals(&quot;offers&quot;) &amp;&amp; details.id == 1) {\r\n            shippingInfo = details.attributes.get(&quot;shippingSellerMethod&quot;)\r\n        }\r\n    }\r\n\r\nThe next would be to use `JsonTypeInfo` and `JsonSubTypes` annotations.\r\n","title":"Correct Jackson way to get the text value of a JsonNode","body":"<p>You may read the JSOn as <code>Map</code>:</p>\n<pre><code>var map = new ObjectMapper().readValue(json, Map.class);\nfor (var node : ((Map&lt;String, List&lt;Map&lt;String, Object&gt;&gt;&gt;) map).get(&quot;included&quot;)) {\n    if (&quot;offers&quot;.equals(node.get(&quot;type&quot;)) &amp;&amp; orderOffer.getOfferId().equals(node.get(&quot;id&quot;))) {\n        shippingInfo = ((Map&lt;String, String&gt;)node.get(&quot;attributes&quot;)).get(&quot;shippingSellerMethod&quot;);\n    }\n}\n</code></pre>\n<p>Another approach is to describe your data as classes:</p>\n<pre><code>class InputData {\n    @JsonProperty\n    List&lt;Details&gt; included;\n}\n\nclass Details {\n    @JsonProperty\n    int id;\n    @JsonProperty\n    String type;\n    @JsonProperty\n    Map&lt;String, Object&gt; attributes;\n}\n</code></pre>\n<p>and to read it in the following way:</p>\n<pre><code>var parsed = mapper.readValue(json, InputData.class);\nfor (Details details : parsed.included) {\n    if (details.type.equals(&quot;offers&quot;) &amp;&amp; details.id == 1) {\n        shippingInfo = details.attributes.get(&quot;shippingSellerMethod&quot;)\n    }\n}\n</code></pre>\n<p>The next would be to use <code>JsonTypeInfo</code> and <code>JsonSubTypes</code> annotations.</p>\n"}],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2591,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1638617548,"creation_date":1538135893,"question_id":52554846,"body_markdown":"I see people using `toString()` to get the text value of a JsonNode, when it is a `ObjectNode` instead of a `ValueNode`, especially when the content of some node is a JSON string as well; we may construct another JsonNode to traverse deeper into the inner tree.\r\n\r\n    JsonNode shippingInfo = null;\r\n    JsonNode brand = null;\r\n    ArrayNode included = (ArrayNode)details.get(&quot;included&quot;);\r\n    for (JsonNode node: included) {\r\n        if (&quot;offers&quot;.equals(node.get(&quot;type&quot;).asText()) &amp;&amp;\r\n                        orderOffer.getOfferId().toString().equals(node.get(&quot;id&quot;).asText())) {  // asText() will return empty string &quot;&quot;, because it is not ValueNode.\r\n        shippingInfo = node.get(&quot;attributes&quot;).get(&quot;shippingSellerMethod&quot;);\r\n        } else if (&quot;brands&quot;.equals(node.get(&quot;type&quot;).asText())) {\r\n            brand = node.get(&quot;attributes&quot;);\r\n        }\r\n    }\r\n\r\nI understand it is useful but ugly. I want to know if there is another more Jackson-ish way to get the value, not always `get(node_name).toString()`. \r\n\r\n","title":"Correct Jackson way to get the text value of a JsonNode","body":"<p>I see people using <code>toString()</code> to get the text value of a JsonNode, when it is a <code>ObjectNode</code> instead of a <code>ValueNode</code>, especially when the content of some node is a JSON string as well; we may construct another JsonNode to traverse deeper into the inner tree.</p>\n\n<pre><code>JsonNode shippingInfo = null;\nJsonNode brand = null;\nArrayNode included = (ArrayNode)details.get(\"included\");\nfor (JsonNode node: included) {\n    if (\"offers\".equals(node.get(\"type\").asText()) &amp;&amp;\n                    orderOffer.getOfferId().toString().equals(node.get(\"id\").asText())) {  // asText() will return empty string \"\", because it is not ValueNode.\n    shippingInfo = node.get(\"attributes\").get(\"shippingSellerMethod\");\n    } else if (\"brands\".equals(node.get(\"type\").asText())) {\n        brand = node.get(\"attributes\");\n    }\n}\n</code></pre>\n\n<p>I understand it is useful but ugly. I want to know if there is another more Jackson-ish way to get the value, not always <code>get(node_name).toString()</code>. </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":265971,"reputation":12313,"user_id":553279,"display_name":"fdreger"},"score":0,"creation_date":1638636996,"post_id":70225071,"comment_id":124143112,"body_markdown":"There&#39;s already a great answer below, so just to add a some context: in Java, objects are not tied to one location in memory - they are frequently moved around  (this is invisible to programmers, as their references remain valid and unchanging) - as part of a complex performance trade-off.","body":"There&#39;s already a great answer below, so just to add a some context: in Java, objects are not tied to one location in memory - they are frequently moved around  (this is invisible to programmers, as their references remain valid and unchanging) - as part of a complex performance trade-off."}],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1638617310,"creation_date":1638616555,"answer_id":70225094,"question_id":70225071,"body_markdown":"&gt; Is it always the case ?\r\n\r\nYes, but keep reading.\r\n\r\n&gt; I&#39;m a bit confused about array of objects. An array of objects basically contains reference of the real objects right? references must be stored in contiguous locations but what about the real objects are they really stored in contiguous locations?\r\n\r\nExactly, what the array contains is *object references*, not the objects themselves. Think of object references as being similar to `long` values that tell the JVM where the object is elsewhere in memory (it&#39;s more complicated than that, but that&#39;s a useful mental model). The object references are stored in the array&#39;s contiguous memory block. The *objects* are elsewhere, and may or may not be stored in contiguous memory (probably not).\r\n\r\nSo for instance, say we have:\r\n\r\n```\r\nint[] a = new int[] { 1, 2, 3 };\r\n```\r\n\r\nIn memory we&#39;ll get something like:\r\n\r\n&lt;pre&gt;\r\n               +‚àí‚àí‚àí‚àí‚àí‚àí‚àí+\r\na: Ref51234‚àí‚àí‚àí&gt;| int[] |\r\n               +‚àí‚àí‚àí‚àí‚àí‚àí‚àí+\r\n               | 1     |\r\n               | 2     |\r\n               | 3     |\r\n               +‚àí‚àí‚àí‚àí‚àí‚àí‚àí+\r\n&lt;/pre&gt;\r\n\r\n`a` contains a reference to the array, which is elsewhere in memory and has a contiguous data block containing `1`, `2`, and `3`.\r\n\r\nNow let&#39;s look at an object array (where the `Example` class stores the given constructor parameter as a private `x` field):\r\n\r\n```\r\nExample[] a = new Example[] { new Example(1), new Example(2), new Example(3) };\r\n```\r\n\r\nThat might give us something like this:\r\n\r\n&lt;pre&gt;\r\n               +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí+          +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí+\r\na: Ref51234‚àí‚àí‚àí&gt;| Example[] |     +‚àí‚àí‚àí&gt;| Example |\r\n               +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí+     |    +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí+\r\n               | Ref81372  |‚àí‚àí‚àí‚àí‚àí+    | x: 1    |\r\n               | Ref96315  |‚àí‚àí‚àí‚àí+     +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí+   \r\n               | Ref12975  |‚àí‚àí+ |                   +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí+\r\n               +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí+  | +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí&gt;| Example |\r\n                              |                     +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí+\r\n                              |                     | x: 2    |\r\n                              |                     +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí+\r\n                              |   +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí+\r\n                              +‚àí‚àí&gt;| Example |\r\n                                  +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí+\r\n                                  | x: 3    |\r\n                                  +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí+\r\n&lt;/pre&gt;\r\n\r\nSome environments have *packed arrays* as an adjunct. For instance, IBM documents packed arrays for its environment [here](https://www.ibm.com/docs/en/sdk-java-technology/7.1?topic=dpo-packed-arrays-1).","title":"Is java array elements always stored in contiguous memory incase of reference types?","body":"<blockquote>\n<p>Is it always the case ?</p>\n</blockquote>\n<p>Yes, but keep reading.</p>\n<blockquote>\n<p>I'm a bit confused about array of objects. An array of objects basically contains reference of the real objects right? references must be stored in contiguous locations but what about the real objects are they really stored in contiguous locations?</p>\n</blockquote>\n<p>Exactly, what the array contains is <em>object references</em>, not the objects themselves. Think of object references as being similar to <code>long</code> values that tell the JVM where the object is elsewhere in memory (it's more complicated than that, but that's a useful mental model). The object references are stored in the array's contiguous memory block. The <em>objects</em> are elsewhere, and may or may not be stored in contiguous memory (probably not).</p>\n<p>So for instance, say we have:</p>\n<pre><code>int[] a = new int[] { 1, 2, 3 };\n</code></pre>\n<p>In memory we'll get something like:</p>\n<pre>\n               +‚àí‚àí‚àí‚àí‚àí‚àí‚àí+\na: Ref51234‚àí‚àí‚àí>| int[] |\n               +‚àí‚àí‚àí‚àí‚àí‚àí‚àí+\n               | 1     |\n               | 2     |\n               | 3     |\n               +‚àí‚àí‚àí‚àí‚àí‚àí‚àí+\n</pre>\n<p><code>a</code> contains a reference to the array, which is elsewhere in memory and has a contiguous data block containing <code>1</code>, <code>2</code>, and <code>3</code>.</p>\n<p>Now let's look at an object array (where the <code>Example</code> class stores the given constructor parameter as a private <code>x</code> field):</p>\n<pre><code>Example[] a = new Example[] { new Example(1), new Example(2), new Example(3) };\n</code></pre>\n<p>That might give us something like this:</p>\n<pre>\n               +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí+          +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí+\na: Ref51234‚àí‚àí‚àí>| Example[] |     +‚àí‚àí‚àí>| Example |\n               +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí+     |    +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí+\n               | Ref81372  |‚àí‚àí‚àí‚àí‚àí+    | x: 1    |\n               | Ref96315  |‚àí‚àí‚àí‚àí+     +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí+   \n               | Ref12975  |‚àí‚àí+ |                   +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí+\n               +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí+  | +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí>| Example |\n                              |                     +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí+\n                              |                     | x: 2    |\n                              |                     +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí+\n                              |   +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí+\n                              +‚àí‚àí>| Example |\n                                  +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí+\n                                  | x: 3    |\n                                  +‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí‚àí+\n</pre>\n<p>Some environments have <em>packed arrays</em> as an adjunct. For instance, IBM documents packed arrays for its environment <a href=\"https://www.ibm.com/docs/en/sdk-java-technology/7.1?topic=dpo-packed-arrays-1\" rel=\"noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":10455882,"reputation":1146,"user_id":9677980,"display_name":"Arjun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":826,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70225094,"answer_count":1,"score":1,"last_activity_date":1638617310,"creation_date":1638616363,"question_id":70225071,"body_markdown":"I&#39;ve read that **The elements of an array are stored in a contiguous memory location** . Is it always the case ? I understand this is the case with array of primitives. I&#39;m a bit confused about array of objects. An array of objects basically contains reference of the real objects right? references must be stored in contiguous locations but what about the real objects are they really stored in contiguous locations?","title":"Is java array elements always stored in contiguous memory incase of reference types?","body":"<p>I've read that <strong>The elements of an array are stored in a contiguous memory location</strong> . Is it always the case ? I understand this is the case with array of primitives. I'm a bit confused about array of objects. An array of objects basically contains reference of the real objects right? references must be stored in contiguous locations but what about the real objects are they really stored in contiguous locations?</p>\n"},{"tags":["java","reactive-programming","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"score":0,"creation_date":1638783409,"post_id":70192274,"comment_id":124171138,"body_markdown":"is the status in context updated earlier than the task completion? which could explain why the last task seems to be cut short (due to `takeUntil` perhaps?). why use `takeUntil` if you need to process all the tasks and their result btw? it would seem classic completion would suffice...","body":"is the status in context updated earlier than the task completion? which could explain why the last task seems to be cut short (due to <code>takeUntil</code> perhaps?). why use <code>takeUntil</code> if you need to process all the tasks and their result btw? it would seem classic completion would suffice..."},{"owner":{"account_id":5005624,"reputation":157,"user_id":4023367,"accept_rate":67,"display_name":"Pavan Kumar"},"score":0,"creation_date":1638822658,"post_id":70192274,"comment_id":124185590,"body_markdown":"@SimonBasl&#233; status is updated on error from tasks or logical failure. So it should wait for completion of said task as it is chained. takeUntil takes in a method which basically looks at this status flag, a binary flag, and terminates the flow. We do not need to continue if the logical output is false. So classic completion is not an option.","body":"@SimonBasl&#233; status is updated on error from tasks or logical failure. So it should wait for completion of said task as it is chained. takeUntil takes in a method which basically looks at this status flag, a binary flag, and terminates the flow. We do not need to continue if the logical output is false. So classic completion is not an option."},{"owner":{"account_id":5005624,"reputation":157,"user_id":4023367,"accept_rate":67,"display_name":"Pavan Kumar"},"score":0,"creation_date":1638822818,"post_id":70192274,"comment_id":124185655,"body_markdown":"@SimonBasl&#233; Also in this case,i modified the code to Ikatiforis &#39;s suggestion -- the prefetch is making the stream execute the same task twice where as my expected behaviour is - generate one task -&gt; wait until it completes -&gt; evaluate status and next step -&gt; pass down the task. ( This is the function of Flux.generate )","body":"@SimonBasl&#233; Also in this case,i modified the code to Ikatiforis &#39;s suggestion -- the prefetch is making the stream execute the same task twice where as my expected behaviour is - generate one task -&gt; wait until it completes -&gt; evaluate status and next step -&gt; pass down the task. ( This is the function of Flux.generate )"}],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638617217,"creation_date":1638415711,"answer_id":70193871,"question_id":70192274,"body_markdown":"&gt; The problem in above approach is, while task 1 is executing, the\r\n&gt; onNext() subscriber prints many time because generate is publishing.\r\n\r\nThis is happening because `concatMap` requests a number of items upfront(32 by default) instead of requesting elements one by one. If you really need to request one element at the time you can use [`concatMap(Function&lt;? super T,? extends Publisher&lt;? extends V&gt;&gt; mapper,int prefetch)`][1] variant method and provide the `prefetch` value like this:\r\n```java\r\n.concatMap(reactiveTask -&gt; {\r\n              log.info(&quot;Running task =&gt;{}&quot;, reactiveTask.getTaskName());\r\n              return reactiveTask.run(ctx);                  \r\n            }, 1)\r\n```\r\n\r\n**Edit**\r\n\r\nThere is also a `publishOn` method which takes a `prefetch` value. Take a look at the following Fibonacci generator sample and let me know if it works as you expect:\r\n\r\n\r\n    generateFibonacci(100)\r\n        .publishOn(boundedElasticScheduler, 1)\r\n        .doOnNext(number -&gt; log.info(&quot;On next =&gt; {}&quot;, number))\r\n        .concatMap(number -&gt; {\r\n          log.info(&quot;Running task =&gt; {}&quot;, number);\r\n          return task(number).doOnNext(num -&gt; log.info(&quot;Task completed =&gt; {}&quot;, num));\r\n        }, 1)\r\n        .takeWhile(context -&gt; context &lt; 3)\r\n        .subscribe();\r\n```java\r\n  public Flux&lt;Integer&gt; generateFibonacci(int limit) {\r\n    return Flux.generate(\r\n        () -&gt; new FibonacciState(0, 1),\r\n        (state, sink) -&gt; {\r\n          log.info(&quot;Generating number: &quot; + state);\r\n          sink.next(state.getFormer());\r\n          if (state.getLatter() &gt; limit) {\r\n            sink.complete();\r\n          }\r\n          int temp = state.getFormer();\r\n          state.setFormer(state.getLatter());\r\n          state.setLatter(temp + state.getLatter());\r\n          return state;\r\n        });\r\n  }\r\n```\r\n\r\nHere is the output:\r\n```\r\n2021-12-02 10:47:51,990  INFO main c.u.p.p.s.c.Test - Generating number: FibonacciState(former=0, latter=1)\r\n2021-12-02 10:47:51,993  INFO pool-1-thread-1 c.u.p.p.s.c.Test - On next =&gt; 0\r\n2021-12-02 10:47:51,996  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Running task =&gt; 0\r\n2021-12-02 10:47:54,035  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Task completed =&gt; 0\r\n2021-12-02 10:47:54,035  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Generating number: FibonacciState(former=1, latter=1)\r\n2021-12-02 10:47:54,036  INFO pool-1-thread-1 c.u.p.p.s.c.Test - On next =&gt; 1\r\n2021-12-02 10:47:54,036  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Running task =&gt; 1\r\n2021-12-02 10:47:56,036  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Task completed =&gt; 1\r\n2021-12-02 10:47:56,036  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Generating number: FibonacciState(former=1, latter=2)\r\n2021-12-02 10:47:56,036  INFO pool-1-thread-1 c.u.p.p.s.c.Test - On next =&gt; 1\r\n2021-12-02 10:47:56,036  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Running task =&gt; 1\r\n2021-12-02 10:47:58,036  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Task completed =&gt; 1\r\n2021-12-02 10:47:58,036  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Generating number: FibonacciState(former=2, latter=3)\r\n2021-12-02 10:47:58,036  INFO pool-1-thread-1 c.u.p.p.s.c.Test - On next =&gt; 2\r\n2021-12-02 10:47:58,036  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Running task =&gt; 2\r\n2021-12-02 10:48:00,036  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Task completed =&gt; 2\r\n2021-12-02 10:48:00,037  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Generating number: FibonacciState(former=3, latter=5)\r\n2021-12-02 10:48:00,037  INFO pool-1-thread-1 c.u.p.p.s.c.Test - On next =&gt; 3\r\n2021-12-02 10:48:00,037  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Running task =&gt; 3\r\n2021-12-02 10:48:02,037  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Task completed =&gt; 3\r\n2021-12-02 10:52:07,877  INFO pool-1-thread-2 c.u.p.p.s.c.Test - Completed flow\r\n```\r\n\r\n**Edit 04122021**\r\n\r\nYou stated:\r\n\r\n&gt; I&#39;m trying to simulate HTTP / blocking calls. Hence the Mono.delay.\r\n\r\n`Mono#Delay` is not the appropriate method to simulate a blocking call. The delay is introduced through the parallel scheduler and as a result, it does not wait for the task to complete. You can simulate a blocking call like this:\r\n\r\n```java\r\n  public String get() throws IOException {\r\n    HttpsURLConnection connection = (HttpsURLConnection) new URL(&quot;https://jsonplaceholder.typicode.com/comments&quot;).openConnection();\r\n    connection.setRequestMethod(&quot;GET&quot;);\r\n    try(InputStream inputStream = connection.getInputStream()) {\r\n      return new String(inputStream.readAllBytes(), StandardCharsets.UTF_8);\r\n    }\r\n  }\r\n```\r\n\r\nNote that as an alternative you could use `.limitRate(1)` operator instead of the `prefetch` parameter.\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#concatMap-java.util.function.Function-int-","title":"Controlling emit values from Flux generate for sequential task execution","body":"<blockquote>\n<p>The problem in above approach is, while task 1 is executing, the\nonNext() subscriber prints many time because generate is publishing.</p>\n</blockquote>\n<p>This is happening because <code>concatMap</code> requests a number of items upfront(32 by default) instead of requesting elements one by one. If you really need to request one element at the time you can use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#concatMap-java.util.function.Function-int-\" rel=\"nofollow noreferrer\"><code>concatMap(Function&lt;? super T,? extends Publisher&lt;? extends V&gt;&gt; mapper,int prefetch)</code></a> variant method and provide the <code>prefetch</code> value like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.concatMap(reactiveTask -&gt; {\n              log.info(&quot;Running task =&gt;{}&quot;, reactiveTask.getTaskName());\n              return reactiveTask.run(ctx);                  \n            }, 1)\n</code></pre>\n<p><strong>Edit</strong></p>\n<p>There is also a <code>publishOn</code> method which takes a <code>prefetch</code> value. Take a look at the following Fibonacci generator sample and let me know if it works as you expect:</p>\n<pre><code>generateFibonacci(100)\n    .publishOn(boundedElasticScheduler, 1)\n    .doOnNext(number -&gt; log.info(&quot;On next =&gt; {}&quot;, number))\n    .concatMap(number -&gt; {\n      log.info(&quot;Running task =&gt; {}&quot;, number);\n      return task(number).doOnNext(num -&gt; log.info(&quot;Task completed =&gt; {}&quot;, num));\n    }, 1)\n    .takeWhile(context -&gt; context &lt; 3)\n    .subscribe();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>  public Flux&lt;Integer&gt; generateFibonacci(int limit) {\n    return Flux.generate(\n        () -&gt; new FibonacciState(0, 1),\n        (state, sink) -&gt; {\n          log.info(&quot;Generating number: &quot; + state);\n          sink.next(state.getFormer());\n          if (state.getLatter() &gt; limit) {\n            sink.complete();\n          }\n          int temp = state.getFormer();\n          state.setFormer(state.getLatter());\n          state.setLatter(temp + state.getLatter());\n          return state;\n        });\n  }\n</code></pre>\n<p>Here is the output:</p>\n<pre><code>2021-12-02 10:47:51,990  INFO main c.u.p.p.s.c.Test - Generating number: FibonacciState(former=0, latter=1)\n2021-12-02 10:47:51,993  INFO pool-1-thread-1 c.u.p.p.s.c.Test - On next =&gt; 0\n2021-12-02 10:47:51,996  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Running task =&gt; 0\n2021-12-02 10:47:54,035  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Task completed =&gt; 0\n2021-12-02 10:47:54,035  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Generating number: FibonacciState(former=1, latter=1)\n2021-12-02 10:47:54,036  INFO pool-1-thread-1 c.u.p.p.s.c.Test - On next =&gt; 1\n2021-12-02 10:47:54,036  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Running task =&gt; 1\n2021-12-02 10:47:56,036  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Task completed =&gt; 1\n2021-12-02 10:47:56,036  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Generating number: FibonacciState(former=1, latter=2)\n2021-12-02 10:47:56,036  INFO pool-1-thread-1 c.u.p.p.s.c.Test - On next =&gt; 1\n2021-12-02 10:47:56,036  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Running task =&gt; 1\n2021-12-02 10:47:58,036  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Task completed =&gt; 1\n2021-12-02 10:47:58,036  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Generating number: FibonacciState(former=2, latter=3)\n2021-12-02 10:47:58,036  INFO pool-1-thread-1 c.u.p.p.s.c.Test - On next =&gt; 2\n2021-12-02 10:47:58,036  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Running task =&gt; 2\n2021-12-02 10:48:00,036  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Task completed =&gt; 2\n2021-12-02 10:48:00,037  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Generating number: FibonacciState(former=3, latter=5)\n2021-12-02 10:48:00,037  INFO pool-1-thread-1 c.u.p.p.s.c.Test - On next =&gt; 3\n2021-12-02 10:48:00,037  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Running task =&gt; 3\n2021-12-02 10:48:02,037  INFO pool-1-thread-1 c.u.p.p.s.c.Test - Task completed =&gt; 3\n2021-12-02 10:52:07,877  INFO pool-1-thread-2 c.u.p.p.s.c.Test - Completed flow\n</code></pre>\n<p><strong>Edit 04122021</strong></p>\n<p>You stated:</p>\n<blockquote>\n<p>I'm trying to simulate HTTP / blocking calls. Hence the Mono.delay.</p>\n</blockquote>\n<p><code>Mono#Delay</code> is not the appropriate method to simulate a blocking call. The delay is introduced through the parallel scheduler and as a result, it does not wait for the task to complete. You can simulate a blocking call like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public String get() throws IOException {\n    HttpsURLConnection connection = (HttpsURLConnection) new URL(&quot;https://jsonplaceholder.typicode.com/comments&quot;).openConnection();\n    connection.setRequestMethod(&quot;GET&quot;);\n    try(InputStream inputStream = connection.getInputStream()) {\n      return new String(inputStream.readAllBytes(), StandardCharsets.UTF_8);\n    }\n  }\n</code></pre>\n<p>Note that as an alternative you could use <code>.limitRate(1)</code> operator instead of the <code>prefetch</code> parameter.</p>\n"}],"owner":{"account_id":5005624,"reputation":157,"user_id":4023367,"accept_rate":67,"display_name":"Pavan Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638617217,"creation_date":1638399384,"question_id":70192274,"body_markdown":"I&#39;m writing a simple orchestration framework using reactor framework which executes tasks sequentially, and the next task to execute is dependent on the result from previous tasks. I might have multiple paths to choose from based on the outcome of previous tasks. Earlier, I wrote a similar framework based on a static DAG where I passed as list of tasks as iterables and used ```Flux.fromIterable(taskList)```. However, this does not give me the flexibility to go dynamic because of the static array publisher.\r\n\r\nI&#39;m looking for alternate approaches like ```do(){}while(condition)``` to solve for DAG traversal and task decision and I came up with ```Flux.generate()```. I evaluate the next step in generate method and pass the next task downstream. The problem I&#39;m facing now is, ```Flux.generate``` does not wait for downstream to complete, but pushes until the condition is set to invalid. And by the time task 1 gets executed, task 2 would have been pushed ```n``` times, which is not the expected behavior.\r\n\r\nCan someone please point me towards the right direction?\r\n\r\nThanks.\r\n\r\nFirst iteration using List of tasks (static DAG)\r\n```\r\nFlux.fromIterable(taskList)\r\n        .publishOn(this.factory.getSharedSchedulerPool())\r\n        .concatMap(\r\n            reactiveTask -&gt; {\r\n              log.info(&quot;Running task =&gt;{}&quot;, reactiveTask.getTaskName());\r\n              return reactiveTask\r\n                  .run(ctx);\r\n            })\r\n        // Evaluates status from previous task and terminates stream or continues.\r\n        .takeWhile(context -&gt; evaluateStatus(context))\r\n        .onErrorResume(throwable -&gt; buildResponse(ctx, throwable))\r\n        .doOnCancel(() -&gt; log.info(&quot;Task cancelled&quot;))\r\n        .doOnComplete(() -&gt; log.info(&quot;Completed flow&quot;))\r\n        .subscribe();\r\n\r\n```\r\n\r\nAttempt to dynamic dag\r\n\r\n```\r\nFlux.generate(\r\n            (SynchronousSink&lt;ReactiveTask&lt;OrchestrationContext&gt;&gt; synchronousSink) -&gt; {\r\n              ReactiveTask&lt;OrchestrationContext&gt; task = null;\r\n              if (ctx.getLastExecutedStep() == null) {\r\n                // first task;\r\n                task = getFirstTaskFromDAG();\r\n              } else {\r\n                task = deriveNextStep(ctx.getLastExecutedStep(), ctx.getDecisionData());\r\n                   \r\n              }\r\n              if (task.getName.equals(&quot;END&quot;)) {\r\n                synchronousSink.complete();\r\n              }\r\n              synchronousSink.next(task);\r\n            })\r\n        .publishOn(this.factory.getSharedSchedulerPool())\r\n        .doOnNext(orchestrationContextReactiveTask -&gt; log.info(&quot;On next =&gt; {}&quot;, \r\n          orchestrationContextReactiveTask.getTaskName()))\r\n        .concatMap(\r\n            reactiveTask -&gt; {\r\n              log.info(&quot;Running task =&gt;{}&quot;, reactiveTask.getTaskName());\r\n              return reactiveTask\r\n                  .run(ctx);                  \r\n            })\r\n        .onErrorResume(throwable -&gt; buildResponse(ctx, throwable))\r\n        .takeUntil(context -&gt; evaluateStatus(context, tasks))\r\n        .doOnCancel(() -&gt; log.info(&quot;Task cancelled&quot;))\r\n        .doOnComplete(() -&gt; log.info(&quot;Completed flow&quot;)).subscribe();\r\n```\r\n\r\nThe problem in above approach is, while task 1 is executing, the ```onNext()``` subscriber prints many time because ```generate``` is publishing. I want the generate method to wait on results from previous task and submit new task. In non-reactive world, this can be achieve through simple while() loop. \r\n\r\nEach Task will perform the following action.\r\n\r\n```\r\npublic class ResponseTask extends AbstractBaseTask {\r\n  private TaskDefinition taskDefinition;\r\n  final String taskName;\r\n\r\n\r\n  public ResponseTask(\r\n      StateManager stateManager,\r\n      ThreadFactory factory,\r\n    ) {    \r\n    this.taskDefinition = taskDefinition;\r\n    this.taskName = taskName;\r\n  }\r\n\r\n   public Mono&lt;String&gt; transform(OrchestrationContext context) {\r\n    Any masterPayload = Any.wrap(context.getIngestionPayload());\r\n    return Mono.fromCallable(() -&gt; stateManager.doTransformation(context, masterPayload);\r\n  }\r\n\r\n  \r\n  public Mono&lt;OrchestrationContext&gt; execute(OrchestrationContext context, String payload) {\r\n    log.info(&quot;Executing sleep for task=&gt;{}&quot;, context.getLastExecutedStep());\r\n    return Mono.delay(Duration.ofSeconds(1), factory.getSharedSchedulerPool())\r\n        .then(Mono.just(context));\r\n  }\r\n\r\n  public Mono&lt;OrchestrationContext&gt; run(OrchestrationContext context) {\r\nlog.info(&quot;Executing task:{}. Last executed:{}&quot;, taskName, context.getLastExecutedStep());\r\n  return transform(context)\r\n         .doOnNext((result) -&gt; log.info(&quot;Transformation complete for task=?{}&quot;, taskName);)\r\n         .flatMap(payload -&gt; {\r\n             return execute(context, payload);\r\n         }).onErrorResume(throwable -&gt; {\r\n             context.setStatus(FAILED);\r\n             return Mono.just(context);\r\n         }); \r\n}\r\n\r\n}\r\n```\r\n**EDIT - From @Ikatiforis &#39;s recommendation - I got the following output**\r\n\r\n```\r\nHere&#39;s the output from my side.\r\n\r\n2021-12-02 09:58:14,643 INFO  (reactive_shared_pool) [ReactiveEngine lambda$doOrchestration$5:98] On next =&gt; Task1 \r\n2021-12-02 09:58:14,644 INFO  (reactive_shared_pool) [ReactiveEngine lambda$doOrchestration$6:101] Running task =&gt;Task1 \r\n2021-12-02 09:58:14,644 INFO  (reactive_shared_pool) [AbstractBaseTask run:75] Executing task:Task1. Last executed:Task1 \r\n2021-12-02 09:58:14,658 INFO  (reactive_shared_pool) [ReactiveEngine lambda$doOrchestration$5:98] On next =&gt; Task2 \r\n2021-12-02 09:58:14,659 INFO  (reactive_shared_pool) [AbstractBaseTask lambda$run$0:83] Transformation complete for task=?Task1 \r\n2021-12-02 09:58:14,659 INFO  (reactive_shared_pool) [ResponseTask execute:41] Executing sleep for task=&gt;Task1 \r\n2021-12-02 09:58:15,661 INFO  (reactive_shared_pool) [AbstractBaseTask lambda$run$4:106] Success for task=&gt;Task1 \r\n2021-12-02 09:58:15,663 INFO  (reactive_shared_pool) \r\n[ReactiveEngine lambda$doOrchestration$6:101] Running task =&gt;Task2 \r\n2021-12-02 09:58:15,811 INFO  (cassandra-nio-worker-8) [AbstractBaseTask run:75] Executing task:Task2. Last executed:Task2 \r\n2021-12-02 09:58:15,811 INFO  (reactive_shared_pool) [ReactiveEngine lambda$doOrchestration$5:98] On next =&gt; Task2 \r\n2021-12-02 09:58:15,812 INFO  (reactive_shared_pool) [AbstractBaseTask lambda$run$0:83] Transformation complete for task=?Task2 \r\n2021-12-02 09:58:15,812 INFO  (reactive_shared_pool) [ResponseTask execute:41] Executing sleep for task=&gt;Task2 \r\n2021-12-02 09:58:15,837 INFO  (centaurus_reactive_shared_pool) [ReactiveEngine lambda$doOrchestration$9:113] Completed flow \r\n```\r\n\r\nI see couple of problems here -- \r\n\r\n```\r\nThe sequence of execution is \r\n 1. Task does transformations ( runs on Mono.fromCallable)\r\n 2. Task induces a delay - Mono.fromDelay()\r\n 3. Task completes execution. After this, generate method should evaluate the context and pass on the next task to be executed.\r\n\r\nWhat I see from the output is:\r\n 1. Task 1 starts the transformations - Runs on Mono.fromCallable.\r\n 2. Task 2 doOnNext is reported - which means the stream already got this task.\r\n 3. Task 1 completes.\r\n 4. Task 2 starts and executes delay -&gt; the stream does not wait for response from task 2 but completes the flow.\r\n```","title":"Controlling emit values from Flux generate for sequential task execution","body":"<p>I'm writing a simple orchestration framework using reactor framework which executes tasks sequentially, and the next task to execute is dependent on the result from previous tasks. I might have multiple paths to choose from based on the outcome of previous tasks. Earlier, I wrote a similar framework based on a static DAG where I passed as list of tasks as iterables and used <code>Flux.fromIterable(taskList)</code>. However, this does not give me the flexibility to go dynamic because of the static array publisher.</p>\n<p>I'm looking for alternate approaches like <code>do(){}while(condition)</code> to solve for DAG traversal and task decision and I came up with <code>Flux.generate()</code>. I evaluate the next step in generate method and pass the next task downstream. The problem I'm facing now is, <code>Flux.generate</code> does not wait for downstream to complete, but pushes until the condition is set to invalid. And by the time task 1 gets executed, task 2 would have been pushed <code>n</code> times, which is not the expected behavior.</p>\n<p>Can someone please point me towards the right direction?</p>\n<p>Thanks.</p>\n<p>First iteration using List of tasks (static DAG)</p>\n<pre><code>Flux.fromIterable(taskList)\n        .publishOn(this.factory.getSharedSchedulerPool())\n        .concatMap(\n            reactiveTask -&gt; {\n              log.info(&quot;Running task =&gt;{}&quot;, reactiveTask.getTaskName());\n              return reactiveTask\n                  .run(ctx);\n            })\n        // Evaluates status from previous task and terminates stream or continues.\n        .takeWhile(context -&gt; evaluateStatus(context))\n        .onErrorResume(throwable -&gt; buildResponse(ctx, throwable))\n        .doOnCancel(() -&gt; log.info(&quot;Task cancelled&quot;))\n        .doOnComplete(() -&gt; log.info(&quot;Completed flow&quot;))\n        .subscribe();\n\n</code></pre>\n<p>Attempt to dynamic dag</p>\n<pre><code>Flux.generate(\n            (SynchronousSink&lt;ReactiveTask&lt;OrchestrationContext&gt;&gt; synchronousSink) -&gt; {\n              ReactiveTask&lt;OrchestrationContext&gt; task = null;\n              if (ctx.getLastExecutedStep() == null) {\n                // first task;\n                task = getFirstTaskFromDAG();\n              } else {\n                task = deriveNextStep(ctx.getLastExecutedStep(), ctx.getDecisionData());\n                   \n              }\n              if (task.getName.equals(&quot;END&quot;)) {\n                synchronousSink.complete();\n              }\n              synchronousSink.next(task);\n            })\n        .publishOn(this.factory.getSharedSchedulerPool())\n        .doOnNext(orchestrationContextReactiveTask -&gt; log.info(&quot;On next =&gt; {}&quot;, \n          orchestrationContextReactiveTask.getTaskName()))\n        .concatMap(\n            reactiveTask -&gt; {\n              log.info(&quot;Running task =&gt;{}&quot;, reactiveTask.getTaskName());\n              return reactiveTask\n                  .run(ctx);                  \n            })\n        .onErrorResume(throwable -&gt; buildResponse(ctx, throwable))\n        .takeUntil(context -&gt; evaluateStatus(context, tasks))\n        .doOnCancel(() -&gt; log.info(&quot;Task cancelled&quot;))\n        .doOnComplete(() -&gt; log.info(&quot;Completed flow&quot;)).subscribe();\n</code></pre>\n<p>The problem in above approach is, while task 1 is executing, the <code>onNext()</code> subscriber prints many time because <code>generate</code> is publishing. I want the generate method to wait on results from previous task and submit new task. In non-reactive world, this can be achieve through simple while() loop.</p>\n<p>Each Task will perform the following action.</p>\n<pre><code>public class ResponseTask extends AbstractBaseTask {\n  private TaskDefinition taskDefinition;\n  final String taskName;\n\n\n  public ResponseTask(\n      StateManager stateManager,\n      ThreadFactory factory,\n    ) {    \n    this.taskDefinition = taskDefinition;\n    this.taskName = taskName;\n  }\n\n   public Mono&lt;String&gt; transform(OrchestrationContext context) {\n    Any masterPayload = Any.wrap(context.getIngestionPayload());\n    return Mono.fromCallable(() -&gt; stateManager.doTransformation(context, masterPayload);\n  }\n\n  \n  public Mono&lt;OrchestrationContext&gt; execute(OrchestrationContext context, String payload) {\n    log.info(&quot;Executing sleep for task=&gt;{}&quot;, context.getLastExecutedStep());\n    return Mono.delay(Duration.ofSeconds(1), factory.getSharedSchedulerPool())\n        .then(Mono.just(context));\n  }\n\n  public Mono&lt;OrchestrationContext&gt; run(OrchestrationContext context) {\nlog.info(&quot;Executing task:{}. Last executed:{}&quot;, taskName, context.getLastExecutedStep());\n  return transform(context)\n         .doOnNext((result) -&gt; log.info(&quot;Transformation complete for task=?{}&quot;, taskName);)\n         .flatMap(payload -&gt; {\n             return execute(context, payload);\n         }).onErrorResume(throwable -&gt; {\n             context.setStatus(FAILED);\n             return Mono.just(context);\n         }); \n}\n\n}\n</code></pre>\n<p><strong>EDIT - From @Ikatiforis 's recommendation - I got the following output</strong></p>\n<pre><code>Here's the output from my side.\n\n2021-12-02 09:58:14,643 INFO  (reactive_shared_pool) [ReactiveEngine lambda$doOrchestration$5:98] On next =&gt; Task1 \n2021-12-02 09:58:14,644 INFO  (reactive_shared_pool) [ReactiveEngine lambda$doOrchestration$6:101] Running task =&gt;Task1 \n2021-12-02 09:58:14,644 INFO  (reactive_shared_pool) [AbstractBaseTask run:75] Executing task:Task1. Last executed:Task1 \n2021-12-02 09:58:14,658 INFO  (reactive_shared_pool) [ReactiveEngine lambda$doOrchestration$5:98] On next =&gt; Task2 \n2021-12-02 09:58:14,659 INFO  (reactive_shared_pool) [AbstractBaseTask lambda$run$0:83] Transformation complete for task=?Task1 \n2021-12-02 09:58:14,659 INFO  (reactive_shared_pool) [ResponseTask execute:41] Executing sleep for task=&gt;Task1 \n2021-12-02 09:58:15,661 INFO  (reactive_shared_pool) [AbstractBaseTask lambda$run$4:106] Success for task=&gt;Task1 \n2021-12-02 09:58:15,663 INFO  (reactive_shared_pool) \n[ReactiveEngine lambda$doOrchestration$6:101] Running task =&gt;Task2 \n2021-12-02 09:58:15,811 INFO  (cassandra-nio-worker-8) [AbstractBaseTask run:75] Executing task:Task2. Last executed:Task2 \n2021-12-02 09:58:15,811 INFO  (reactive_shared_pool) [ReactiveEngine lambda$doOrchestration$5:98] On next =&gt; Task2 \n2021-12-02 09:58:15,812 INFO  (reactive_shared_pool) [AbstractBaseTask lambda$run$0:83] Transformation complete for task=?Task2 \n2021-12-02 09:58:15,812 INFO  (reactive_shared_pool) [ResponseTask execute:41] Executing sleep for task=&gt;Task2 \n2021-12-02 09:58:15,837 INFO  (centaurus_reactive_shared_pool) [ReactiveEngine lambda$doOrchestration$9:113] Completed flow \n</code></pre>\n<p>I see couple of problems here --</p>\n<pre><code>The sequence of execution is \n 1. Task does transformations ( runs on Mono.fromCallable)\n 2. Task induces a delay - Mono.fromDelay()\n 3. Task completes execution. After this, generate method should evaluate the context and pass on the next task to be executed.\n\nWhat I see from the output is:\n 1. Task 1 starts the transformations - Runs on Mono.fromCallable.\n 2. Task 2 doOnNext is reported - which means the stream already got this task.\n 3. Task 1 completes.\n 4. Task 2 starts and executes delay -&gt; the stream does not wait for response from task 2 but completes the flow.\n</code></pre>\n"},{"tags":["java","spring-boot","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":16632079,"reputation":2166,"user_id":16547945,"display_name":"Vojin Puriƒá"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638615282,"creation_date":1638615282,"answer_id":70224958,"question_id":70224916,"body_markdown":"Root path **&quot;/&quot;** by defaults maps to index.html. It is standard for all languages and frameworks. **index.html** is meant to be entry point for your application","title":"Why does root path in my controller maps to index.html in spring boot web application?","body":"<p>Root path <strong>&quot;/&quot;</strong> by defaults maps to index.html. It is standard for all languages and frameworks. <strong>index.html</strong> is meant to be entry point for your application</p>\n"},{"tags":[],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638616299,"creation_date":1638616299,"answer_id":70225064,"question_id":70224916,"body_markdown":"It is the default behavior for every entry point. The ```DefaultController``` implements the default behavior, that&#39;s why it doesn&#39;t matter if you call **&quot;/&quot;** or **&quot;/root&quot;**.\r\nFor further info: https://docs.spring.io/spring-boot/docs/2.6.1/reference/htmlsingle/#web.servlet.spring-mvc.welcome-page\r\n\r\n","title":"Why does root path in my controller maps to index.html in spring boot web application?","body":"<p>It is the default behavior for every entry point. The <code>DefaultController</code> implements the default behavior, that's why it doesn't matter if you call <strong>&quot;/&quot;</strong> or <strong>&quot;/root&quot;</strong>.\nFor further info: <a href=\"https://docs.spring.io/spring-boot/docs/2.6.1/reference/htmlsingle/#web.servlet.spring-mvc.welcome-page\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.6.1/reference/htmlsingle/#web.servlet.spring-mvc.welcome-page</a></p>\n"}],"owner":{"account_id":17835743,"reputation":75,"user_id":12954803,"display_name":"landsreyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1573,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70224958,"answer_count":2,"score":1,"last_activity_date":1638616979,"creation_date":1638614778,"question_id":70224916,"body_markdown":"I&#39;m testing a controller for a Spring Boot application. I want to map a resource to a path, which should be a part of my API.\r\nMy controller is pretty specific about path:\r\n\r\n    @Controller\r\n    public class DefaultController\r\n    {\r\n      @RequestMapping(&quot;${web-interface}&quot;)\r\n      public String main()\r\n      {\r\n        return &quot;index.html&quot;;\r\n      }\r\n    }\r\n\r\nHere &#39;web-interface&#39; is a property, as specified in application.yml file\r\n\r\n    spring:\r\n      datasource:\r\n        url: jdbc:mysql://localhost:3306/search-engine\r\n        username: landsreyk\r\n        password: 12345678\r\n      jpa:\r\n        database-platform: org.hibernate.dialect.MySQLDialect\r\n        show-sql: false\r\n        hibernate:\r\n          ddl-auto: none\r\n    web-interface: /admin\r\n\r\n**Expected behavior:**\r\n\r\npath: localhost:8080/admin maps to index.html resource\r\n\r\nroot path: localhost:8080/ maps to nothing, i.e. 404 error.\r\n\r\n**Actual behavior:**\r\n\r\npath: &#39;/admin&#39; maps to index.html\r\n\r\npath: &#39;/&#39; also maps to index.html\r\n\r\n*But why? Shouldn&#39;t I just see &quot;Whitelabel Error Page&quot;. There is no controller, which maps root path to index.html file. It doesn&#39;t make any sense.*\r\n\r\nBy the way, here is my project structure.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Gpg4q.png\r\n\r\n\r\n**Solution:**\r\n\r\nRename index.html to any other name, like main.html and root path &#39;/&#39; will no longer map to that resource.","title":"Why does root path in my controller maps to index.html in spring boot web application?","body":"<p>I'm testing a controller for a Spring Boot application. I want to map a resource to a path, which should be a part of my API.\nMy controller is pretty specific about path:</p>\n<pre><code>@Controller\npublic class DefaultController\n{\n  @RequestMapping(&quot;${web-interface}&quot;)\n  public String main()\n  {\n    return &quot;index.html&quot;;\n  }\n}\n</code></pre>\n<p>Here 'web-interface' is a property, as specified in application.yml file</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/search-engine\n    username: landsreyk\n    password: 12345678\n  jpa:\n    database-platform: org.hibernate.dialect.MySQLDialect\n    show-sql: false\n    hibernate:\n      ddl-auto: none\nweb-interface: /admin\n</code></pre>\n<p><strong>Expected behavior:</strong></p>\n<p>path: localhost:8080/admin maps to index.html resource</p>\n<p>root path: localhost:8080/ maps to nothing, i.e. 404 error.</p>\n<p><strong>Actual behavior:</strong></p>\n<p>path: '/admin' maps to index.html</p>\n<p>path: '/' also maps to index.html</p>\n<p><em>But why? Shouldn't I just see &quot;Whitelabel Error Page&quot;. There is no controller, which maps root path to index.html file. It doesn't make any sense.</em></p>\n<p>By the way, here is my project structure.</p>\n<p><a href=\"https://i.stack.imgur.com/Gpg4q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gpg4q.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Solution:</strong></p>\n<p>Rename index.html to any other name, like main.html and root path '/' will no longer map to that resource.</p>\n"},{"tags":["java","eclipse","maven","package"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1638609474,"post_id":70220888,"comment_id":124137751,"body_markdown":"With the red cross you probably mean an error, right? Hover it or look into the _Problems_ view to get the error message. To get the changes from a cloned Git repository, you have to do a pull (in Eclipse, right-click the project and choose _Team &gt; Pull_).","body":"With the red cross you probably mean an error, right? Hover it or look into the <i>Problems</i> view to get the error message. To get the changes from a cloned Git repository, you have to do a pull (in Eclipse, right-click the project and choose <i>Team &gt; Pull</i>)."},{"owner":{"account_id":12469279,"reputation":187,"user_id":9078057,"display_name":"user9078057"},"score":0,"creation_date":1638616901,"post_id":70220888,"comment_id":124138935,"body_markdown":"@howlger With the red cross I mean that that the red cross is placed on (in front of the) of the java file icon. For all the other files in the project, their file icon has no red cross but rather just a yellow/orange cylinder in front of it","body":"@howlger With the red cross I mean that that the red cross is placed on (in front of the) of the java file icon. For all the other files in the project, their file icon has no red cross but rather just a yellow/orange cylinder in front of it"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1638618345,"post_id":70220888,"comment_id":124139161,"body_markdown":"That red cross indicates that there is one or more errors in the file. Open the file and in the editor hover the error marker or look in the _Problems_ view for the error message. The yellow/orange cylinder means the file is under version control, e.g. in a Git repository. See _Help &gt; Help Contents_ for more information.","body":"That red cross indicates that there is one or more errors in the file. Open the file and in the editor hover the error marker or look in the <i>Problems</i> view for the error message. The yellow/orange cylinder means the file is under version control, e.g. in a Git repository. See <i>Help &gt; Help Contents</i> for more information."}],"owner":{"account_id":12469279,"reputation":187,"user_id":9078057,"display_name":"user9078057"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638616973,"creation_date":1638567011,"question_id":70220888,"body_markdown":"I am new to java and eclipse, so please excuse the simple question: \r\n\r\nI am currently attempting to complete a project assignment in eclipse. So I have a project file under file explorer that has about 4 packages within it. Now, these all seem to be linked to a library that we are supposed to make use of, let&#39;s call it `data-science-lib` (fictitious name). \r\n\r\nNow when I create a new .java file in a particular package, and write a few lines of code that are based on `data-science-lib` I am immediately asked to import many files because otherwise the code is not recognized. For all the other .java files in the package, there is no need to import because it seems as though it is already &#39;connected&#39;. Moreover, my new .java file has a red cross symbol on it, rather than the blue M on the other current files. I am sure Maven has something to do with this but I am not sure how to solve it. \r\n\r\nQuestion 1: What am I supposed to do when creating a new file such that my new .java file automatically identifies with the same &#39;dictionary&#39; `data-science-lib` that all other current files identify with and would the red cross icon then perhaps turn into a blue M?\r\n\r\nQuestion 2: I have cloned a repository that I would like to use and put it under projects in eclipse. It gets updated weekly online, but unfortunately the updated version only reflects online on github and not on my local eclipse. When I attempt to right-click and go to refresh, nothing happens. Any ideas?\r\n\r\nBelow you will find what the file icon looks like for the new .java file and the associated red cross and question mark.\r\n\r\n[![This is what the file icon looks like][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zeLow.png","title":"What to consider when creating new .java file in a package in eclipse that is supposed to depend on different imports","body":"<p>I am new to java and eclipse, so please excuse the simple question:</p>\n<p>I am currently attempting to complete a project assignment in eclipse. So I have a project file under file explorer that has about 4 packages within it. Now, these all seem to be linked to a library that we are supposed to make use of, let's call it <code>data-science-lib</code> (fictitious name).</p>\n<p>Now when I create a new .java file in a particular package, and write a few lines of code that are based on <code>data-science-lib</code> I am immediately asked to import many files because otherwise the code is not recognized. For all the other .java files in the package, there is no need to import because it seems as though it is already 'connected'. Moreover, my new .java file has a red cross symbol on it, rather than the blue M on the other current files. I am sure Maven has something to do with this but I am not sure how to solve it.</p>\n<p>Question 1: What am I supposed to do when creating a new file such that my new .java file automatically identifies with the same 'dictionary' <code>data-science-lib</code> that all other current files identify with and would the red cross icon then perhaps turn into a blue M?</p>\n<p>Question 2: I have cloned a repository that I would like to use and put it under projects in eclipse. It gets updated weekly online, but unfortunately the updated version only reflects online on github and not on my local eclipse. When I attempt to right-click and go to refresh, nothing happens. Any ideas?</p>\n<p>Below you will find what the file icon looks like for the new .java file and the associated red cross and question mark.</p>\n<p><a href=\"https://i.stack.imgur.com/zeLow.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zeLow.png\" alt=\"This is what the file icon looks like\" /></a></p>\n"},{"tags":["java","date","simpledateformat"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1638614435,"post_id":25872702,"comment_id":124138572,"body_markdown":"I recommend you don‚Äôt use `SimpleDateFormat` and the two `Date` classes. Those classes are poorly designed and long outdated, the first in particular notoriously troublesome. Instead use `LocalDate` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you don‚Äôt use <code>SimpleDateFormat</code> and the two <code>Date</code> classes. Those classes are poorly designed and long outdated, the first in particular notoriously troublesome. Instead use <code>LocalDate</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1410883007,"creation_date":1410881305,"answer_id":25872786,"question_id":25872702,"body_markdown":"There are several potential problems here:\r\n\r\n- You&#39;re not specifying a format\r\n- You&#39;re not specifying a locale\r\n- You&#39;re not specifying a time zone\r\n- You&#39;re trying to cast the return value (which will be a `java.util.Date` reference) to a `java.sql.Date` - that would fail\r\n\r\nYou want something like:\r\n\r\n    DateFormat df = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;, Locale.US);\r\n    df.setTimeZone(...); // Whatever time zone you want to use\r\n    Date journeyDate = new java.sql.Date(df.parse(text).getTime());","title":"java.text.ParseException: Unparseable date: convert mm/dd/yyyy string to a date","body":"<p>There are several potential problems here:</p>\n\n<ul>\n<li>You're not specifying a format</li>\n<li>You're not specifying a locale</li>\n<li>You're not specifying a time zone</li>\n<li>You're trying to cast the return value (which will be a <code>java.util.Date</code> reference) to a <code>java.sql.Date</code> - that would fail</li>\n</ul>\n\n<p>You want something like:</p>\n\n<pre><code>DateFormat df = new SimpleDateFormat(\"MM/dd/yyyy\", Locale.US);\ndf.setTimeZone(...); // Whatever time zone you want to use\nDate journeyDate = new java.sql.Date(df.parse(text).getTime());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3980890,"reputation":8836,"user_id":3282808,"accept_rate":36,"display_name":"SparkOn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1410881354,"creation_date":1410881354,"answer_id":25872811,"question_id":25872702,"body_markdown":"    DateFormat df = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;,Locale.ENGLISH);\r\n    Date journeyDate = df.parse(date); // gives you java.util.Date\r\nIf you want java.sql.Date then\r\n\r\n    java.sql.Date sqlDate = new java.sql.Date(journeyDate.getTime());\r\n\r\n  ","title":"java.text.ParseException: Unparseable date: convert mm/dd/yyyy string to a date","body":"<pre><code>DateFormat df = new SimpleDateFormat(\"MM/dd/yyyy\",Locale.ENGLISH);\nDate journeyDate = df.parse(date); // gives you java.util.Date\n</code></pre>\n\n<p>If you want java.sql.Date then</p>\n\n<pre><code>java.sql.Date sqlDate = new java.sql.Date(journeyDate.getTime());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7325569,"reputation":1,"user_id":5580054,"display_name":"syed "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447921274,"creation_date":1447918921,"answer_id":33797856,"question_id":25872702,"body_markdown":"I have the following exception:\r\n&gt;java.text.ParseException: Unparseable date\r\n\r\n    System.out.println(&quot;inside the XMLGregorianCalendar&quot;);\r\n\r\n    sb = (String) map.get(fieldname);\r\n    System.out.println(&quot;THis is XMLGReogoriaaaaan calendar&quot;+ sb);\r\n    DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.US);\r\n\tDate journeyDate = new java.sql.Date(df.parse(sb).getTime());\r\n\tSystem.out.println(&quot;this&quot;+journeyDate);","title":"java.text.ParseException: Unparseable date: convert mm/dd/yyyy string to a date","body":"<p>I have the following exception:</p>\n\n<blockquote>\n  <p>java.text.ParseException: Unparseable date</p>\n</blockquote>\n\n<pre><code>System.out.println(\"inside the XMLGregorianCalendar\");\n\nsb = (String) map.get(fieldname);\nSystem.out.println(\"THis is XMLGReogoriaaaaan calendar\"+ sb);\nDateFormat df = new SimpleDateFormat(\"yyyy-MM-dd\", Locale.US);\nDate journeyDate = new java.sql.Date(df.parse(sb).getTime());\nSystem.out.println(\"this\"+journeyDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6678359,"reputation":309,"user_id":5152323,"display_name":"Hrushi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463746746,"creation_date":1463743490,"answer_id":37345455,"question_id":25872702,"body_markdown":"You have mixed `m` and `M`. \r\n\r\n`m`stands for minute and `M` for month. \r\n\r\nBelow is an example of a working format. \r\n\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n    String dateInString = &quot;07/06/2013&quot;; \r\n    Date date = formatter.parse(dateInString);\r\n\tSystem.out.println(formatter.format(date));","title":"java.text.ParseException: Unparseable date: convert mm/dd/yyyy string to a date","body":"<p>You have mixed <code>m</code> and <code>M</code>. </p>\n\n<p><code>m</code>stands for minute and <code>M</code> for month. </p>\n\n<p>Below is an example of a working format. </p>\n\n<pre><code>SimpleDateFormat formatter = new SimpleDateFormat(\"MM/dd/yyyy\");\nString dateInString = \"07/06/2013\"; \nDate date = formatter.parse(dateInString);\nSystem.out.println(formatter.format(date));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638616875,"creation_date":1638614924,"answer_id":70224928,"question_id":25872702,"body_markdown":"## java.time\r\n\r\nI recommend that you use java.time, the modern Java date and time API, for you date work. You can directly pass a `java.time.LocalDate` to your SQL database via JDBC (since JDBC 4.2) or JPA (for example since Hibernate 5.0).\r\n\r\nYou need to specify which format to assume for parsing:\r\n\r\n\tprivate static final DateTimeFormatter DATE_FORMATTER \r\n    \t\t= DateTimeFormatter.ofPattern(&quot;MM/dd/uuuu&quot;, Locale.ENGLISH);\r\n\r\nThe rest is straightforward:\r\n\r\n\t\tString date = &quot;09/17/2014&quot;;\r\n\t\tLocalDate journeyDate = LocalDate.parse(date, DATE_FORMATTER);\r\n\t\tSystem.out.println(journeyDate);\r\n\r\nOutput:\r\n\r\n&gt; 2014-09-17\r\n\r\nI assumed that you were trying to specify that you wanted a `java.sql.Date` because you needed it for use with an SQL database. But you don‚Äôt need no `java.sql.Date` for that. For how to insert a `LocalDate` into SQL, see the link at the bottom.\r\n\r\nIf you need a `java.sql.Date` for a legacy API that you cannot afford to upgrade to java.time right now, the conversion is straightforward too:\r\n\r\n\t\tjava.sql.Date oldfashionedJavaSqlDate = java.sql.Date.valueOf(journeyDate);\r\n\t\tSystem.out.println(oldfashionedJavaSqlDate);\r\n\r\n&gt; 2014-09-17\r\n\r\n## What happened in your code?\r\n\r\nJon Skeet has already pointed out the issues with your code. But only out of curiosity, more precisely, what happened? The no-arg `SimpleDateFormat` constructor gives you a localized format for date and time in your default locale. For example for `en-IN` locale the format could be like `17/09/14, 12:00 AM`. In this case your formatter would parse 09 as the day of month, 17 as the month and 2014 as the year and then complaint with the exception because the comma and time were not present in the string.\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - [Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2](https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2)","title":"java.text.ParseException: Unparseable date: convert mm/dd/yyyy string to a date","body":"<h2>java.time</h2>\n<p>I recommend that you use java.time, the modern Java date and time API, for you date work. You can directly pass a <code>java.time.LocalDate</code> to your SQL database via JDBC (since JDBC 4.2) or JPA (for example since Hibernate 5.0).</p>\n<p>You need to specify which format to assume for parsing:</p>\n<pre><code>private static final DateTimeFormatter DATE_FORMATTER \n        = DateTimeFormatter.ofPattern(&quot;MM/dd/uuuu&quot;, Locale.ENGLISH);\n</code></pre>\n<p>The rest is straightforward:</p>\n<pre><code>    String date = &quot;09/17/2014&quot;;\n    LocalDate journeyDate = LocalDate.parse(date, DATE_FORMATTER);\n    System.out.println(journeyDate);\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>2014-09-17</p>\n</blockquote>\n<p>I assumed that you were trying to specify that you wanted a <code>java.sql.Date</code> because you needed it for use with an SQL database. But you don‚Äôt need no <code>java.sql.Date</code> for that. For how to insert a <code>LocalDate</code> into SQL, see the link at the bottom.</p>\n<p>If you need a <code>java.sql.Date</code> for a legacy API that you cannot afford to upgrade to java.time right now, the conversion is straightforward too:</p>\n<pre><code>    java.sql.Date oldfashionedJavaSqlDate = java.sql.Date.valueOf(journeyDate);\n    System.out.println(oldfashionedJavaSqlDate);\n</code></pre>\n<blockquote>\n<p>2014-09-17</p>\n</blockquote>\n<h2>What happened in your code?</h2>\n<p>Jon Skeet has already pointed out the issues with your code. But only out of curiosity, more precisely, what happened? The no-arg <code>SimpleDateFormat</code> constructor gives you a localized format for date and time in your default locale. For example for <code>en-IN</code> locale the format could be like <code>17/09/14, 12:00 AM</code>. In this case your formatter would parse 09 as the day of month, 17 as the month and 2014 as the year and then complaint with the exception because the comma and time were not present in the string.</p>\n<h2>Links</h2>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li><a href=\"https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2\">Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2</a></li>\n</ul>\n"}],"owner":{"account_id":2754348,"reputation":2713,"user_id":2372902,"accept_rate":71,"display_name":"Subham Tripathi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62894,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":25872786,"answer_count":5,"score":6,"last_activity_date":1638616875,"creation_date":1410881059,"question_id":25872702,"body_markdown":"when i convert my string object in `mm/dd/yyyy` format to `Date` it gives me  \r\n\r\n    \r\n    java.text.ParseException: Unparseable date: &quot;09/17/2014&quot;\r\n\r\ni am trying to do it like this : \r\n\r\n    String date= &quot;09/17/2014&quot;;\r\n    DateFormat df = new SimpleDateFormat();\r\n    Date journeyDate= (java.sql.Date) df.parse(date);\r\n\r\n","title":"java.text.ParseException: Unparseable date: convert mm/dd/yyyy string to a date","body":"<p>when i convert my string object in <code>mm/dd/yyyy</code> format to <code>Date</code> it gives me  </p>\n\n<pre><code>java.text.ParseException: Unparseable date: \"09/17/2014\"\n</code></pre>\n\n<p>i am trying to do it like this : </p>\n\n<pre><code>String date= \"09/17/2014\";\nDateFormat df = new SimpleDateFormat();\nDate journeyDate= (java.sql.Date) df.parse(date);\n</code></pre>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1638475058,"creation_date":1638475058,"answer_id":70205719,"question_id":70205663,"body_markdown":"You can use `Stream#filter` along with `Stream#findFirst`.\r\n\r\n```\r\nSystem.out.println(commits.values().stream()\r\n    .filter(commit -&gt; commit.getLogMessage().compareTo(commitMessageToSearch) == 0)\r\n    .findFirst().map(Commit::getSha).orElse(&quot;aksdhlkasj&quot;));","title":"Using Streams to replace loops","body":"<p>You can use <code>Stream#filter</code> along with <code>Stream#findFirst</code>.</p>\n<pre><code>System.out.println(commits.values().stream()\n    .filter(commit -&gt; commit.getLogMessage().compareTo(commitMessageToSearch) == 0)\n    .findFirst().map(Commit::getSha).orElse(&quot;aksdhlkasj&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638616641,"creation_date":1638488079,"answer_id":70207770,"question_id":70205663,"body_markdown":"The following options are available:\r\n\r\n1. Use `StreamEx` library ([maven repo](https://mvnrepository.com/artifact/one.util/streamex)) and its quasi-intermediate operation [StreamEx::ifEmpty](https://amaembo.github.io/streamex/javadoc/one/util/streamex/StreamEx.html#ifEmpty(T...)):\r\n```java\r\nimport one.util.streamex.StreamEx;\r\n// ...\r\nString msgSearch = &quot;commit message&quot;;\r\nStreamEx.of(commits.values())\r\n        .filter(c -&gt; c.getLogMessage().compareTo(msgSearch) == 0)\r\n        .ifEmpty(&quot;no commit message found: &quot; + msgSearch)\r\n        .map(Commit::getSha)\r\n        .forEach(System.out::println);\r\n```\r\n* Plus: very concise and clean, single run\r\n* Minus: use of a 3rd-party lib\r\n----\r\n2. Check the contents of the stream using short-circuiting match _without redundant collecting into a list just to check if it&#39;s empty_\r\n```java\r\nif (commits.values().stream()\r\n    .map(Commit::getLogMessage) // equals should be equivalent to compareTo == 0\r\n    .anyMatch(msgSearch::equals)\r\n) {\r\n    commits.values().stream()\r\n        .filter(c -&gt; c.getLogMessage().compareTo(msgSearch) == 0)\r\n        .map(Commit::getSha)\r\n        .forEach(System.out::println);\r\n} else {\r\n    System.out.println(&quot;no commit message found: &quot; + msgSearch);\r\n}\r\n```\r\n* Plus: using standard API (no 3-rd party) without side-effect\r\n* Minuses: too verbose, in the worst case (long list with the matching element in the end) double iteration of the stream\r\n----\r\n3. Use effectively final variable and its setting from the stream as a side effect.\r\n\r\nDisclaimer: usage of stateful streams and side effects are [not recommended _in general_](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html): \r\n&gt; _The best approach is to avoid stateful behavioral parameters to stream operations entirely...&lt;br/&gt;\r\nSide-effects in behavioral parameters to stream operations are, in general, discouraged, as they can often lead to unwitting violations of the statelessness requirement, as well as other thread-safety hazards.&lt;br/&gt;\r\nA small number of stream operations, such as `forEach()` and `peek()`, can **operate only via side-effects; these should be used with care**_\r\n\r\nThus, if `AtomicBoolean` is carefully selected as a thread-safe and fast container of a boolean value for `found` flag, which is _only_ set to `true` from inside the stream (never reset), the following solution may be offered and the risks of safety and performance are mitigated:\r\n```java\r\n// effectively final and thread-safe container boolean\r\nAtomicBoolean found = new AtomicBoolean(); \r\n\r\ncommits.values().stream()\r\n    .filter(c -&gt; c.getLogMessage().compareTo(commitMessageToSearch) == 0)\r\n    .map(Commit::getSha)\r\n    .forEach(sha -&gt; {\r\n        found.set(true); \r\n        System.out.println(sha);\r\n    });\r\n\r\nif (!found.get()) {\r\n    System.out.println(&quot;none found&quot;);\r\n}\r\n```\r\n* Plus: using standard API (no 3rd-party library), single run, no redundant collection\r\n* Minus: using side-effect, discouraged by purists, just mimics of `for-each` loop","title":"Using Streams to replace loops","body":"<p>The following options are available:</p>\n<ol>\n<li>Use <code>StreamEx</code> library (<a href=\"https://mvnrepository.com/artifact/one.util/streamex\" rel=\"nofollow noreferrer\">maven repo</a>) and its quasi-intermediate operation <a href=\"https://amaembo.github.io/streamex/javadoc/one/util/streamex/StreamEx.html#ifEmpty(T...)\" rel=\"nofollow noreferrer\">StreamEx::ifEmpty</a>:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import one.util.streamex.StreamEx;\n// ...\nString msgSearch = &quot;commit message&quot;;\nStreamEx.of(commits.values())\n        .filter(c -&gt; c.getLogMessage().compareTo(msgSearch) == 0)\n        .ifEmpty(&quot;no commit message found: &quot; + msgSearch)\n        .map(Commit::getSha)\n        .forEach(System.out::println);\n</code></pre>\n<ul>\n<li>Plus: very concise and clean, single run</li>\n<li>Minus: use of a 3rd-party lib</li>\n</ul>\n<hr />\n<ol start=\"2\">\n<li>Check the contents of the stream using short-circuiting match <em>without redundant collecting into a list just to check if it's empty</em></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>if (commits.values().stream()\n    .map(Commit::getLogMessage) // equals should be equivalent to compareTo == 0\n    .anyMatch(msgSearch::equals)\n) {\n    commits.values().stream()\n        .filter(c -&gt; c.getLogMessage().compareTo(msgSearch) == 0)\n        .map(Commit::getSha)\n        .forEach(System.out::println);\n} else {\n    System.out.println(&quot;no commit message found: &quot; + msgSearch);\n}\n</code></pre>\n<ul>\n<li>Plus: using standard API (no 3-rd party) without side-effect</li>\n<li>Minuses: too verbose, in the worst case (long list with the matching element in the end) double iteration of the stream</li>\n</ul>\n<hr />\n<ol start=\"3\">\n<li>Use effectively final variable and its setting from the stream as a side effect.</li>\n</ol>\n<p>Disclaimer: usage of stateful streams and side effects are <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">not recommended <em>in general</em></a>:</p>\n<blockquote>\n<p><em>The best approach is to avoid stateful behavioral parameters to stream operations entirely...<br/>\nSide-effects in behavioral parameters to stream operations are, in general, discouraged, as they can often lead to unwitting violations of the statelessness requirement, as well as other thread-safety hazards.<br/>\nA small number of stream operations, such as <code>forEach()</code> and <code>peek()</code>, can <strong>operate only via side-effects; these should be used with care</strong></em></p>\n</blockquote>\n<p>Thus, if <code>AtomicBoolean</code> is carefully selected as a thread-safe and fast container of a boolean value for <code>found</code> flag, which is <em>only</em> set to <code>true</code> from inside the stream (never reset), the following solution may be offered and the risks of safety and performance are mitigated:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// effectively final and thread-safe container boolean\nAtomicBoolean found = new AtomicBoolean(); \n\ncommits.values().stream()\n    .filter(c -&gt; c.getLogMessage().compareTo(commitMessageToSearch) == 0)\n    .map(Commit::getSha)\n    .forEach(sha -&gt; {\n        found.set(true); \n        System.out.println(sha);\n    });\n\nif (!found.get()) {\n    System.out.println(&quot;none found&quot;);\n}\n</code></pre>\n<ul>\n<li>Plus: using standard API (no 3rd-party library), single run, no redundant collection</li>\n<li>Minus: using side-effect, discouraged by purists, just mimics of <code>for-each</code> loop</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638569530,"creation_date":1638562874,"answer_id":70220246,"question_id":70205663,"body_markdown":"In case you want to print out *all* the occurrences and print some String only in case, there was no item found, I am afraid there is no way other than collecting all the relevant `sha` values into a list and checking for its emptiness using `Optional`:\r\n\r\n```\r\ncommits.values()\r\n       .stream()\r\n       .filter(commit -&gt; commit.getLogMessage().compareTo(commitMessageToSearch) == 0)\r\n       .map(Commit::getSha)\r\n       .peek(System.out::println)\r\n       .collect(Collectors.collectingAndThen(Collectors.toList(), Optional::of))\r\n       .filter(List::isEmpty)\r\n       .ifPresent(emptyList -&gt; System.out.println(&quot;aksdhlkasj&quot;));\r\n```\r\nAlthough the intermediate output `Optional&lt;List&lt;?&gt;&gt;` is against common sense, it helps the further processing using `Optinal` and comfortably handling the case the list is empty.\r\n\r\nHowever, this form is in my opinion more readable:\r\n```\r\nList&lt;String&gt; shaList = commits.values()\r\n        .stream()\r\n        .filter(commit -&gt; commit.getLogMessage().compareTo(commitMessageToSearch) == 0)\r\n        .map(Commit::getSha)\r\n        .peek(System.out::println)\r\n        .collect(Collectors.toList());\r\n        \r\nif (shaList.isEmpty()) {\r\n    System.out.println(&quot;aksdhlkasj&quot;);\r\n}\r\n```","title":"Using Streams to replace loops","body":"<p>In case you want to print out <em>all</em> the occurrences and print some String only in case, there was no item found, I am afraid there is no way other than collecting all the relevant <code>sha</code> values into a list and checking for its emptiness using <code>Optional</code>:</p>\n<pre><code>commits.values()\n       .stream()\n       .filter(commit -&gt; commit.getLogMessage().compareTo(commitMessageToSearch) == 0)\n       .map(Commit::getSha)\n       .peek(System.out::println)\n       .collect(Collectors.collectingAndThen(Collectors.toList(), Optional::of))\n       .filter(List::isEmpty)\n       .ifPresent(emptyList -&gt; System.out.println(&quot;aksdhlkasj&quot;));\n</code></pre>\n<p>Although the intermediate output <code>Optional&lt;List&lt;?&gt;&gt;</code> is against common sense, it helps the further processing using <code>Optinal</code> and comfortably handling the case the list is empty.</p>\n<p>However, this form is in my opinion more readable:</p>\n<pre><code>List&lt;String&gt; shaList = commits.values()\n        .stream()\n        .filter(commit -&gt; commit.getLogMessage().compareTo(commitMessageToSearch) == 0)\n        .map(Commit::getSha)\n        .peek(System.out::println)\n        .collect(Collectors.toList());\n        \nif (shaList.isEmpty()) {\n    System.out.println(&quot;aksdhlkasj&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":23198361,"reputation":389,"user_id":17293622,"display_name":"daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1638616641,"creation_date":1638474797,"question_id":70205663,"body_markdown":"I have the following code: &lt;br&gt;\r\n\r\n    boolean found = false;\r\n    for (Commit commit : commits.values()) {\r\n        if (commit.getLogMessage().compareTo(commitMessageToSearch) == 0) {\r\n            System.out.println(commit.getSha());\r\n            found = true;\r\n        }\r\n    }\r\n    if (!found) {\r\n        System.out.println(&quot;aksdhlkasj&quot;);\r\n    }\r\n\r\n&lt;br&gt;\r\nIs there some way to write this succinctly using streams or anything else in Java","title":"Using Streams to replace loops","body":"<p>I have the following code: <br></p>\n<pre><code>boolean found = false;\nfor (Commit commit : commits.values()) {\n    if (commit.getLogMessage().compareTo(commitMessageToSearch) == 0) {\n        System.out.println(commit.getSha());\n        found = true;\n    }\n}\nif (!found) {\n    System.out.println(&quot;aksdhlkasj&quot;);\n}\n</code></pre>\n<br>\nIs there some way to write this succinctly using streams or anything else in Java\n"},{"tags":["java","json","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":1,"creation_date":1559383446,"post_id":56405701,"comment_id":99409028,"body_markdown":"Add your POM please. This is normally due to not allowing Spring to manage dependencies.it manages.","body":"Add your POM please. This is normally due to not allowing Spring to manage dependencies.it manages."},{"owner":{"account_id":13139344,"reputation":955,"user_id":9491394,"display_name":"MangduYogii"},"score":0,"creation_date":1559638021,"post_id":56405701,"comment_id":99474119,"body_markdown":"Some times there are problems with the dependencies in the pom.xml file ( Maven). There could be many reasons for that: a conflict in versions, or conflict declaring the same dependency twice with different versions.","body":"Some times there are problems with the dependencies in the pom.xml file ( Maven). There could be many reasons for that: a conflict in versions, or conflict declaring the same dependency twice with different versions."},{"owner":{"account_id":13456279,"reputation":2278,"user_id":9709773,"display_name":"Shubham Kadlag"},"score":0,"creation_date":1559713471,"post_id":56405701,"comment_id":99502015,"body_markdown":"Could you post the result of mvn dependency:tree?","body":"Could you post the result of mvn dependency:tree?"},{"owner":{"account_id":3435689,"reputation":1626,"user_id":2878876,"accept_rate":25,"display_name":"Robin479"},"score":0,"creation_date":1560212909,"post_id":56405701,"comment_id":99652884,"body_markdown":"Which Java version are you using to run this?","body":"Which Java version are you using to run this?"},{"owner":{"account_id":10046659,"reputation":363,"user_id":7624033,"display_name":"caisil"},"score":0,"creation_date":1560212915,"post_id":56405701,"comment_id":99652886,"body_markdown":"For this problem, there are multi-version of [org.json](https://github.com/stleary/JSON-java) imported. The solution is exclude it from the dependency from which it was import, and specify the expected one. Furthermore, you can use [fastjson](https://sourceforge.net/projects/fastjson/) which was also imported in your project.","body":"For this problem, there are multi-version of <a href=\"https://github.com/stleary/JSON-java\" rel=\"nofollow noreferrer\">org.json</a> imported. The solution is exclude it from the dependency from which it was import, and specify the expected one. Furthermore, you can use <a href=\"https://sourceforge.net/projects/fastjson/\" rel=\"nofollow noreferrer\">fastjson</a> which was also imported in your project."}],"answers":[{"tags":[],"owner":{"account_id":1641985,"reputation":908,"user_id":1514247,"accept_rate":20,"display_name":"Yogesh Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559629793,"creation_date":1559629793,"answer_id":56438469,"question_id":56405701,"body_markdown":"Your ```destinationAddress``` and ```refundAddress``` are passed as list of address or address array in the JSON while in the ```HotelswitchHotelOrderRequestBody ``` your ```destinationAddress``` and ```refundAddress``` are refered to as single Address Element. Update your pojo or JSON and try again. This might be an issue.","title":"java.lang.NoSuchMethodError: org.json.JSONObject.&lt;init&gt;(Ljava/lang/Object;)V","body":"<p>Your <code>destinationAddress</code> and <code>refundAddress</code> are passed as list of address or address array in the JSON while in the <code>HotelswitchHotelOrderRequestBody</code> your <code>destinationAddress</code> and <code>refundAddress</code> are refered to as single Address Element. Update your pojo or JSON and try again. This might be an issue.</p>\n"},{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559645932,"creation_date":1559645932,"answer_id":56442515,"question_id":56405701,"body_markdown":"You need to convert your POJO to JSONObject using ObjectMapper or include [json dependency][1]\r\n\r\n\r\n\r\n&gt;     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n        &lt;version&gt;20180130&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n[1]:https://stackoverflow.com/questions/27036857/create-jsonobject-from-pojo","title":"java.lang.NoSuchMethodError: org.json.JSONObject.&lt;init&gt;(Ljava/lang/Object;)V","body":"<p>You need to convert your POJO to JSONObject using ObjectMapper or include <a href=\"https://stackoverflow.com/questions/27036857/create-jsonobject-from-pojo\">json dependency</a></p>\n\n<blockquote>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20180130&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13456279,"reputation":2278,"user_id":9709773,"display_name":"Shubham Kadlag"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1638616481,"creation_date":1559714062,"answer_id":56454899,"question_id":56405701,"body_markdown":"It looks like you have more than one org.json:json dependency on your classpath.\r\n\r\nLooking at it:\r\n\r\n`org.springframework.boot:spring-boot-starter-test` depends on\r\n\r\n`com.jayway.jsonpath:json-path` which in turn brings\r\n \r\n`org.json:json` which is may be newer/older than the version on which\r\n\r\n`io.jsonwebtoken jjwt 0.9.1` is dependent on\r\n\r\nYou could try excluding this transitive dependency from spring-boot-starter-test/io.jsonwebtoken:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nOR/AND\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n        &lt;version&gt;0.9.1&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBut it&#39;s possible that there is something within json-path which depends on something from the older json library, which is no longer in the newer version, so proceed with caution and test everything thoroughly.\r\nThere is also a chance that something else brings org.json:json. \r\n\r\nTo verify, please run `mvn dependency:tree` and search in the produced output for `org.json:json`.","title":"java.lang.NoSuchMethodError: org.json.JSONObject.&lt;init&gt;(Ljava/lang/Object;)V","body":"<p>It looks like you have more than one org.json:json dependency on your classpath.</p>\n<p>Looking at it:</p>\n<p><code>org.springframework.boot:spring-boot-starter-test</code> depends on</p>\n<p><code>com.jayway.jsonpath:json-path</code> which in turn brings</p>\n<p><code>org.json:json</code> which is may be newer/older than the version on which</p>\n<p><code>io.jsonwebtoken jjwt 0.9.1</code> is dependent on</p>\n<p>You could try excluding this transitive dependency from spring-boot-starter-test/io.jsonwebtoken:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>OR/AND</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n    &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n    &lt;version&gt;0.9.1&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But it's possible that there is something within json-path which depends on something from the older json library, which is no longer in the newer version, so proceed with caution and test everything thoroughly.\nThere is also a chance that something else brings org.json:json.</p>\n<p>To verify, please run <code>mvn dependency:tree</code> and search in the produced output for <code>org.json:json</code>.</p>\n"},{"tags":[],"owner":{"account_id":15925013,"reputation":1027,"user_id":11490808,"display_name":"H∆∞ng Chu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559729444,"creation_date":1559729444,"answer_id":56458442,"question_id":56405701,"body_markdown":"The issue should be the destinationAddress and refundAddress is mismatch between your JSON and POJO.\r\nTry to change your JSON like this:\r\n\r\n`    \r\n{\r\n    &quot;depositHotel&quot;: &quot;xxx&quot;,\r\n    &quot;destinationHotel&quot;: &quot;aaa&quot;,\r\n    &quot;depositHotelAmount&quot;: &quot;0.2&quot;,\r\n    &quot;destinationHotelAmount&quot;: &quot;4&quot;,\r\n    &quot;destinationAddress&quot;: {\r\n        &quot;address&quot;: &quot;asdf&quot;,\r\n        &quot;tag&quot;: &quot;&quot;\r\n    },\r\n    &quot;refundAddress&quot;: {\r\n        &quot;address&quot;: &quot;pio&quot;,\r\n        &quot;tag&quot;: &quot;&quot;\r\n    }\r\n}`\r\n\r\nIf you dont want to change your JSON, change your Builder POJO to use Address[] instead of Address object.","title":"java.lang.NoSuchMethodError: org.json.JSONObject.&lt;init&gt;(Ljava/lang/Object;)V","body":"<p>The issue should be the destinationAddress and refundAddress is mismatch between your JSON and POJO.\nTry to change your JSON like this:</p>\n\n<p><code>\n{\n    \"depositHotel\": \"xxx\",\n    \"destinationHotel\": \"aaa\",\n    \"depositHotelAmount\": \"0.2\",\n    \"destinationHotelAmount\": \"4\",\n    \"destinationAddress\": {\n        \"address\": \"asdf\",\n        \"tag\": \"\"\n    },\n    \"refundAddress\": {\n        \"address\": \"pio\",\n        \"tag\": \"\"\n    }\n}</code></p>\n\n<p>If you dont want to change your JSON, change your Builder POJO to use Address[] instead of Address object.</p>\n"},{"tags":[],"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559960216,"creation_date":1559960216,"answer_id":56502914,"question_id":56405701,"body_markdown":"You should not need the JSONobject\r\n\r\n    HttpEntity&lt;HotelswitchHotelOrderRequestBody&gt; entity = new HttpEntity&lt;HotelswitchHotelOrderRequestBody&gt;(order, headers());\r\n\r\n\r\nif all you want to do is to convert your object to a string then use an object mapper.\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    String json = objectMapper.writeValueAsString(car)","title":"java.lang.NoSuchMethodError: org.json.JSONObject.&lt;init&gt;(Ljava/lang/Object;)V","body":"<p>You should not need the JSONobject</p>\n\n<pre><code>HttpEntity&lt;HotelswitchHotelOrderRequestBody&gt; entity = new HttpEntity&lt;HotelswitchHotelOrderRequestBody&gt;(order, headers());\n</code></pre>\n\n<p>if all you want to do is to convert your object to a string then use an object mapper.</p>\n\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nString json = objectMapper.writeValueAsString(car)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13725240,"reputation":173,"user_id":9904165,"display_name":"rreay724"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1576169942,"creation_date":1576169942,"answer_id":59309453,"question_id":56405701,"body_markdown":"I found this on another page. I tried the checked answer here and it didn&#39;t work with mine, but when I inserted this into my pom file it worked. I&#39;m running unit tests with mockito and one of the endpoints uses JSONObject.put and was giving me the no such method error. \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;\r\n                org.springframework.boot\r\n            &lt;/groupId&gt;\r\n            &lt;artifactId&gt;\r\n                spring-boot-starter-test\r\n            &lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;","title":"java.lang.NoSuchMethodError: org.json.JSONObject.&lt;init&gt;(Ljava/lang/Object;)V","body":"<p>I found this on another page. I tried the checked answer here and it didn't work with mine, but when I inserted this into my pom file it worked. I'm running unit tests with mockito and one of the endpoints uses JSONObject.put and was giving me the no such method error. </p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;\n            org.springframework.boot\n        &lt;/groupId&gt;\n        &lt;artifactId&gt;\n            spring-boot-starter-test\n        &lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.json&lt;/groupId&gt;\n                &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n                &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1922613,"reputation":427,"user_id":1733734,"accept_rate":83,"display_name":"venugopal"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1607378305,"creation_date":1607378305,"answer_id":65190053,"question_id":56405701,"body_markdown":"Please check this link : \r\n[spring-boot issue 8706][1]\r\n\r\nExclusion of android-json from spring-boot-starter-test worked for me.\r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/8706","title":"java.lang.NoSuchMethodError: org.json.JSONObject.&lt;init&gt;(Ljava/lang/Object;)V","body":"<p>Please check this link :\n<a href=\"https://github.com/spring-projects/spring-boot/issues/8706\" rel=\"noreferrer\">spring-boot issue 8706</a></p>\n<p>Exclusion of android-json from spring-boot-starter-test worked for me.</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n                &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5619788,"reputation":4111,"user_id":4450024,"accept_rate":99,"display_name":"Nu&#241;ito Calzada"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18833,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":56454899,"answer_count":7,"score":8,"last_activity_date":1638616481,"creation_date":1559383354,"question_id":56405701,"body_markdown":"I have a basic SpringBoot 2.1.5.RELEASE app. Using Spring Initializer, JPA, embedded Tomcat, Thymeleaf template engine, and package as an executable JAR file with some RestControllers.\r\n\r\nIn 1 of the controller this is the body I send:\r\n\r\n\r\n    {\r\n    \t&quot;depositHotel&quot;: &quot;xxx&quot;,\r\n    \t&quot;destinationHotel&quot;: &quot;aaa&quot;,\r\n    \t&quot;depositHotelAmount&quot;: &quot;0.2&quot;,\r\n    \t&quot;destinationHotelAmount&quot;: &quot;4&quot;,\r\n    \t&quot;destinationAddress&quot;: [{\r\n    \t\t&quot;address&quot;: &quot;asdf&quot;,\r\n    \t\t&quot;tag&quot;: &quot;&quot;\r\n    \t}],\r\n    \t&quot;refundAddress&quot;: [{\r\n    \t\t&quot;address&quot;: &quot;pio&quot;,\r\n    \t\t&quot;tag&quot;: &quot;&quot;\r\n    \t}]\r\n    }\r\n\r\nso I create this class to send it as a RequestBody:\r\n\r\n\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    @JsonPropertyOrder({\r\n    &quot;address&quot;,\r\n    &quot;tag&quot;\r\n    })\r\n    public class Address {\r\n    \t\r\n    \r\n    \t\r\n    \tpublic Address() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \tpublic Address(String address) {\r\n    \t\tsuper();\r\n    \t\tthis.address = address;\r\n    \t}\r\n    \r\n    \t@JsonProperty(&quot;address&quot;)\r\n    \tprivate String address;\r\n    \t@JsonProperty(&quot;tag&quot;)\r\n    \tprivate Object tag;\r\n    \t\r\n    \r\n    \t@JsonProperty(&quot;address&quot;)\r\n    \tpublic String getAddress() {\r\n    \treturn address;\r\n    \t}\r\n    \r\n    \t@JsonProperty(&quot;address&quot;)\r\n    \tpublic void setAddress(String address) {\r\n    \tthis.address = address;\r\n    \t}\r\n    \r\n    \t@JsonProperty(&quot;tag&quot;)\r\n    \tpublic Object getTag() {\r\n    \treturn tag;\r\n    \t}\r\n    \r\n    \t@JsonProperty(&quot;tag&quot;)\r\n    \tpublic void setTag(Object tag) {\r\n    \tthis.tag = tag;\r\n    \t}\r\n    }\r\n\r\n\r\nand \r\n\r\n public class HotelswitchHotelOrderRequestBody {\r\n    \t\r\n    \t\r\n    \tpublic static class Builder {\r\n    \t\t\r\n    \t\tprivate String depositHotel;\r\n            private String destinationHotel;\r\n            private Float depositHotelAmount;\r\n            private Float destinationHotelAmount;\r\n            private Address destinationAddress;\r\n            private Address refundAddress;\r\n            \r\n            \r\n            public Builder(String depositHotel, String destinationHotel) {\r\n                this.depositHotel = depositHotel;\r\n                this.destinationHotel = destinationHotel;\r\n            }\r\n            \r\n            public Builder withDepositHotelAmount (Float depositHotelAmount) {\r\n                this.depositHotelAmount = depositHotelAmount;\r\n                return this;  \r\n            }\r\n            \r\n            public Builder withDestinationHotelAmount (Float destinationHotelAmount) {\r\n                this.destinationHotelAmount = destinationHotelAmount;\r\n                return this;  \r\n            }\r\n            \r\n            public Builder toDestinationAddress (Address destinationAddress) {\r\n                this.destinationAddress = destinationAddress;\r\n                return this;  \r\n            }\r\n            \r\n            public Builder toRefundAddress (Address refundAddress) {\r\n                this.refundAddress = refundAddress;\r\n                return this;  \r\n            }\r\n            \r\n            public HotelswitchHotelOrderRequestBody build(){\r\n               \r\n            \tHotelswitchHotelOrderRequestBody order = new HotelswitchHotelOrderRequestBody(); \r\n            \torder.depositHotel = this.depositHotel;\r\n            \torder.depositHotelAmount = this.depositHotelAmount;\r\n            \torder.destinationAddress = this.destinationAddress;\r\n            \torder.destinationHotel = this.destinationHotel;\r\n            \torder.destinationHotelAmount = this.destinationHotelAmount;\r\n            \torder.refundAddress = this.refundAddress;\r\n            \t\r\n            \treturn order;\r\n    \r\n            }\r\n    \t}\r\n    \t\r\n    \t\r\n        private String depositHotel;\r\n        private String destinationHotel;\r\n        private Float depositHotelAmount;\r\n        private Float destinationHotelAmount;\r\n        private Address destinationAddress;\r\n        private Address refundAddress;\r\n        \r\n        \r\n        private HotelswitchHotelOrderRequestBody () {\r\n            //Constructor is now private.\r\n        }\r\n    \r\n    \r\n    \tpublic String getDepositHotel() {\r\n    \t\treturn depositHotel;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setDepositHotel(String depositHotel) {\r\n    \t\tthis.depositHotel = depositHotel;\r\n    \t}\r\n    \r\n    \r\n    \tpublic String getDestinationHotel() {\r\n    \t\treturn destinationHotel;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setDestinationHotel(String destinationHotel) {\r\n    \t\tthis.destinationHotel = destinationHotel;\r\n    \t}\r\n    \r\n    \r\n    \tpublic Float getDepositHotelAmount() {\r\n    \t\treturn depositHotelAmount;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setDepositHotelAmount(Float depositHotelAmount) {\r\n    \t\tthis.depositHotelAmount = depositHotelAmount;\r\n    \t}\r\n    \r\n    \r\n    \tpublic Float getDestinationHotelAmount() {\r\n    \t\treturn destinationHotelAmount;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setDestinationHotelAmount(Float destinationHotelAmount) {\r\n    \t\tthis.destinationHotelAmount = destinationHotelAmount;\r\n    \t}\r\n    \r\n    \r\n    \tpublic Address getDestinationAddress() {\r\n    \t\treturn destinationAddress;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setDestinationAddress(Address destinationAddress) {\r\n    \t\tthis.destinationAddress = destinationAddress;\r\n    \t}\r\n    \r\n    \r\n    \tpublic Address getRefundAddress() {\r\n    \t\treturn refundAddress;\r\n    \t}\r\n        \r\n    \tpublic void setRefundAddress(Address refundAddress) {\r\n    \t\tthis.refundAddress = refundAddress;\r\n    \t}\r\n    }\r\n\r\n\r\nand\r\n\r\n    public test postOrder ( HotelswitchHotelOrderRequestBody order) {\r\n    \t\t\r\n    \t\t\r\n    \t\r\n    \t    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(new JSONObject(order).toString(), headers());\r\n      \r\n    \t    ResponseEntity&lt;OrderResponse&gt; response = new RestTemplate()\r\n    \t\t          .exchange(URL, \r\n    \t\t        \t\t  HttpMethod.POST, entity,  new ParameterizedTypeReference&lt;OrderResponse&gt;() {});\r\n        \r\n    \t    return response.getBody();\r\n    \t\t\r\n    \t}\r\n\r\n\r\nBut i have this error:\r\n\r\n    java.lang.NoSuchMethodError: org.json.JSONObject.&lt;init&gt;(Ljava/lang/Object;)V\r\n    \tat io.bonanza.backend.service.Hotelswitch.HotelswitchHotelService.postOrder(HotelswitchHotelService.java:132)\r\n    \tat io.bonanza.backend.service.Hotelswitch.HotelswitchHotelServiceTests.testPostOrder(HotelswitchHotelServiceTests.java:151)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\r\npom.xml: \r\n\r\n     &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;       \r\n            \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n            &lt;/dependency&gt; \r\n            \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n             &lt;/dependency&gt;\r\n            \r\n             &lt;dependency&gt;\r\n                &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.googlecode.libphonenumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;libphonenumber&lt;/artifactId&gt;\r\n                &lt;version&gt;8.9.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n                 &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n                         \r\n            &lt;!-- Spring Security --&gt;\r\n            \r\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-test --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            \r\n            \r\n            \r\n            \r\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n                &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n               &lt;!--  &lt;version&gt;4.5.4&lt;/version&gt; --&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n                &lt;version&gt;0.9.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n               &lt;!-- https://mvnrepository.com/artifact/javax.ws.rs/javax.ws.rs-api --&gt;\r\n           &lt;dependency&gt;\r\n              &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n              &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n              &lt;version&gt;2.1.1&lt;/version&gt;\r\n           &lt;/dependency&gt;\r\n           \r\n           \r\n            &lt;!-- Firebase dependencies --&gt;\r\n           &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n                &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n                &lt;version&gt;5.4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;google-cloud-firestore&lt;/artifactId&gt;\r\n                &lt;version&gt;0.26.0-beta&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;version&gt;23.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n           \r\n        &lt;/dependencies&gt;","title":"java.lang.NoSuchMethodError: org.json.JSONObject.&lt;init&gt;(Ljava/lang/Object;)V","body":"<p>I have a basic SpringBoot 2.1.5.RELEASE app. Using Spring Initializer, JPA, embedded Tomcat, Thymeleaf template engine, and package as an executable JAR file with some RestControllers.</p>\n\n<p>In 1 of the controller this is the body I send:</p>\n\n<pre><code>{\n    \"depositHotel\": \"xxx\",\n    \"destinationHotel\": \"aaa\",\n    \"depositHotelAmount\": \"0.2\",\n    \"destinationHotelAmount\": \"4\",\n    \"destinationAddress\": [{\n        \"address\": \"asdf\",\n        \"tag\": \"\"\n    }],\n    \"refundAddress\": [{\n        \"address\": \"pio\",\n        \"tag\": \"\"\n    }]\n}\n</code></pre>\n\n<p>so I create this class to send it as a RequestBody:</p>\n\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n\"address\",\n\"tag\"\n})\npublic class Address {\n\n\n\n    public Address() {\n        super();\n    }\n\n    public Address(String address) {\n        super();\n        this.address = address;\n    }\n\n    @JsonProperty(\"address\")\n    private String address;\n    @JsonProperty(\"tag\")\n    private Object tag;\n\n\n    @JsonProperty(\"address\")\n    public String getAddress() {\n    return address;\n    }\n\n    @JsonProperty(\"address\")\n    public void setAddress(String address) {\n    this.address = address;\n    }\n\n    @JsonProperty(\"tag\")\n    public Object getTag() {\n    return tag;\n    }\n\n    @JsonProperty(\"tag\")\n    public void setTag(Object tag) {\n    this.tag = tag;\n    }\n}\n</code></pre>\n\n<p>and </p>\n\n<p>public class HotelswitchHotelOrderRequestBody {</p>\n\n<pre><code>    public static class Builder {\n\n        private String depositHotel;\n        private String destinationHotel;\n        private Float depositHotelAmount;\n        private Float destinationHotelAmount;\n        private Address destinationAddress;\n        private Address refundAddress;\n\n\n        public Builder(String depositHotel, String destinationHotel) {\n            this.depositHotel = depositHotel;\n            this.destinationHotel = destinationHotel;\n        }\n\n        public Builder withDepositHotelAmount (Float depositHotelAmount) {\n            this.depositHotelAmount = depositHotelAmount;\n            return this;  \n        }\n\n        public Builder withDestinationHotelAmount (Float destinationHotelAmount) {\n            this.destinationHotelAmount = destinationHotelAmount;\n            return this;  \n        }\n\n        public Builder toDestinationAddress (Address destinationAddress) {\n            this.destinationAddress = destinationAddress;\n            return this;  \n        }\n\n        public Builder toRefundAddress (Address refundAddress) {\n            this.refundAddress = refundAddress;\n            return this;  \n        }\n\n        public HotelswitchHotelOrderRequestBody build(){\n\n            HotelswitchHotelOrderRequestBody order = new HotelswitchHotelOrderRequestBody(); \n            order.depositHotel = this.depositHotel;\n            order.depositHotelAmount = this.depositHotelAmount;\n            order.destinationAddress = this.destinationAddress;\n            order.destinationHotel = this.destinationHotel;\n            order.destinationHotelAmount = this.destinationHotelAmount;\n            order.refundAddress = this.refundAddress;\n\n            return order;\n\n        }\n    }\n\n\n    private String depositHotel;\n    private String destinationHotel;\n    private Float depositHotelAmount;\n    private Float destinationHotelAmount;\n    private Address destinationAddress;\n    private Address refundAddress;\n\n\n    private HotelswitchHotelOrderRequestBody () {\n        //Constructor is now private.\n    }\n\n\n    public String getDepositHotel() {\n        return depositHotel;\n    }\n\n\n    public void setDepositHotel(String depositHotel) {\n        this.depositHotel = depositHotel;\n    }\n\n\n    public String getDestinationHotel() {\n        return destinationHotel;\n    }\n\n\n    public void setDestinationHotel(String destinationHotel) {\n        this.destinationHotel = destinationHotel;\n    }\n\n\n    public Float getDepositHotelAmount() {\n        return depositHotelAmount;\n    }\n\n\n    public void setDepositHotelAmount(Float depositHotelAmount) {\n        this.depositHotelAmount = depositHotelAmount;\n    }\n\n\n    public Float getDestinationHotelAmount() {\n        return destinationHotelAmount;\n    }\n\n\n    public void setDestinationHotelAmount(Float destinationHotelAmount) {\n        this.destinationHotelAmount = destinationHotelAmount;\n    }\n\n\n    public Address getDestinationAddress() {\n        return destinationAddress;\n    }\n\n\n    public void setDestinationAddress(Address destinationAddress) {\n        this.destinationAddress = destinationAddress;\n    }\n\n\n    public Address getRefundAddress() {\n        return refundAddress;\n    }\n\n    public void setRefundAddress(Address refundAddress) {\n        this.refundAddress = refundAddress;\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public test postOrder ( HotelswitchHotelOrderRequestBody order) {\n\n\n\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(new JSONObject(order).toString(), headers());\n\n        ResponseEntity&lt;OrderResponse&gt; response = new RestTemplate()\n                  .exchange(URL, \n                          HttpMethod.POST, entity,  new ParameterizedTypeReference&lt;OrderResponse&gt;() {});\n\n        return response.getBody();\n\n    }\n</code></pre>\n\n<p>But i have this error:</p>\n\n<pre><code>java.lang.NoSuchMethodError: org.json.JSONObject.&lt;init&gt;(Ljava/lang/Object;)V\n    at io.bonanza.backend.service.Hotelswitch.HotelswitchHotelService.postOrder(HotelswitchHotelService.java:132)\n    at io.bonanza.backend.service.Hotelswitch.HotelswitchHotelServiceTests.testPostOrder(HotelswitchHotelServiceTests.java:151)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n</code></pre>\n\n<p>pom.xml: </p>\n\n<pre><code> &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;       \n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt; \n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n         &lt;/dependency&gt;\n\n         &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.libphonenumber&lt;/groupId&gt;\n            &lt;artifactId&gt;libphonenumber&lt;/artifactId&gt;\n            &lt;version&gt;8.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n             &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring Security --&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n\n\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n           &lt;!--  &lt;version&gt;4.5.4&lt;/version&gt; --&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n           &lt;!-- https://mvnrepository.com/artifact/javax.ws.rs/javax.ws.rs-api --&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n          &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n          &lt;version&gt;2.1.1&lt;/version&gt;\n       &lt;/dependency&gt;\n\n\n        &lt;!-- Firebase dependencies --&gt;\n       &lt;dependency&gt;\n            &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n            &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n            &lt;version&gt;5.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;google-cloud-firestore&lt;/artifactId&gt;\n            &lt;version&gt;0.26.0-beta&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;23.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","linux","raspberry-pi"],"comments":[{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":0,"creation_date":1638304313,"post_id":70175553,"comment_id":124052103,"body_markdown":"&quot;easier ways to install Java&quot; - easier than what way? `sudo apt install openjdk-17-jdk` - I guess that&#39;s what you did, it should properly setup PATH and symbolic links and everything that&#39;s needed.. Your profile file looks fine.","body":"&quot;easier ways to install Java&quot; - easier than what way? <code>sudo apt install openjdk-17-jdk</code> - I guess that&#39;s what you did, it should properly setup PATH and symbolic links and everything that&#39;s needed.. Your profile file looks fine."},{"owner":{"account_id":19974608,"reputation":1,"user_id":17555625,"display_name":"Aperture"},"score":0,"creation_date":1638304848,"post_id":70175553,"comment_id":124052276,"body_markdown":"@MirekPluta Apt sadly can&#39;t locate that. As far as I know, that only allows me to install openjdk 8.","body":"@MirekPluta Apt sadly can&#39;t locate that. As far as I know, that only allows me to install openjdk 8."}],"answers":[{"tags":[],"owner":{"account_id":17518996,"reputation":1,"user_id":12705457,"display_name":"cortezja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638304223,"creation_date":1638304223,"answer_id":70175690,"question_id":70175553,"body_markdown":"What you are doing is fine, but you should probably create a custom.sh shell script in `/etc/profile.d/`\r\n\r\nAs for environment variables, like `JAVA_HOME`, they should go in `/etc/environment`","title":"Unable to get PATH to be set for all users","body":"<p>What you are doing is fine, but you should probably create a custom.sh shell script in <code>/etc/profile.d/</code></p>\n<p>As for environment variables, like <code>JAVA_HOME</code>, they should go in <code>/etc/environment</code></p>\n"},{"tags":[],"owner":{"account_id":19974608,"reputation":1,"user_id":17555625,"display_name":"Aperture"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638616262,"creation_date":1638616262,"answer_id":70225057,"question_id":70175553,"body_markdown":"Setting the PATH in `~/.bashrc` worked out, copied `java.sh` and pasted it in. Couldn&#39;t find `~/.bashrc` at first, but [this helped to figure that out.][1]\r\n\r\nAs Pufferpanel is a different matter, I&#39;m marking this the answer to my question which was getting Java to work as an user.\r\n\r\n  [1]: https://askubuntu.com/questions/127056/where-is-bashrc","title":"Unable to get PATH to be set for all users","body":"<p>Setting the PATH in <code>~/.bashrc</code> worked out, copied <code>java.sh</code> and pasted it in. Couldn't find <code>~/.bashrc</code> at first, but <a href=\"https://askubuntu.com/questions/127056/where-is-bashrc\">this helped to figure that out.</a></p>\n<p>As Pufferpanel is a different matter, I'm marking this the answer to my question which was getting Java to work as an user.</p>\n"}],"owner":{"account_id":19974608,"reputation":1,"user_id":17555625,"display_name":"Aperture"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70225057,"answer_count":2,"score":0,"last_activity_date":1638616262,"creation_date":1638303524,"question_id":70175553,"body_markdown":"Trying to get OpenJDK 17 installed for Pufferpanel. User pi can do `java -version` fine however Pufferpanel gets `bash: java: command not found`\r\n\r\nMy `/etc/profile` and `/etc/profile.d/java.sh` have these lines:\r\n\r\n    #JAVA\r\n    export JAVA_HOME=&quot;/usr/lib/jvm/jdk-17.0.1+12&quot;\r\n    export PATH=$JAVA_HOME/bin:$PATH\r\n\r\nIn addition `JAVA_HOME=&quot;/usr/lib/jvm/jdk-17.0.1+12&quot;` is set in `/etc/environment`\r\n\r\nFull permissions have been given for `java.sh` and the `JAVA_HOME` folder with `chmod 777`. The user `pufferpanel` now can run the script however the error stays the same: `bash: java: command not found`.\r\n\r\nTrying some things out and found this:\r\n\r\n    pufferpanel@raspberrypi:/home/pi$ whereis java\r\n    java: /usr/share/java\r\nMeanwhile pi gives this output:\r\n\r\n    pi@raspberrypi:~ $ whereis java\r\n    java: /usr/share/java /usr/lib/jvm/jdk-17.0.1+12/bin/java\r\n\r\nGood news is that Java does run as the user `pufferpanel`:\r\n\r\n    pufferpanel@raspberrypi:/usr/lib/jvm/jdk-17.0.1+12/bin$ ./java -version\r\n    openjdk version &quot;17.0.1&quot; 2021-10-19\r\n    OpenJDK Runtime Environment Temurin-17.0.1+12 (build 17.0.1+12)\r\n    OpenJDK Server VM Temurin-17.0.1+12 (build 17.0.1+12, mixed mode, sharing)\r\n\r\nMy guess is that PATH is getting overwritten somewhere, just don&#39;t know where.\r\n\r\nIf there are easier ways to install Java that is higher than version 16 just to get Minecraft to work, please tell me!","title":"Unable to get PATH to be set for all users","body":"<p>Trying to get OpenJDK 17 installed for Pufferpanel. User pi can do <code>java -version</code> fine however Pufferpanel gets <code>bash: java: command not found</code></p>\n<p>My <code>/etc/profile</code> and <code>/etc/profile.d/java.sh</code> have these lines:</p>\n<pre><code>#JAVA\nexport JAVA_HOME=&quot;/usr/lib/jvm/jdk-17.0.1+12&quot;\nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n<p>In addition <code>JAVA_HOME=&quot;/usr/lib/jvm/jdk-17.0.1+12&quot;</code> is set in <code>/etc/environment</code></p>\n<p>Full permissions have been given for <code>java.sh</code> and the <code>JAVA_HOME</code> folder with <code>chmod 777</code>. The user <code>pufferpanel</code> now can run the script however the error stays the same: <code>bash: java: command not found</code>.</p>\n<p>Trying some things out and found this:</p>\n<pre><code>pufferpanel@raspberrypi:/home/pi$ whereis java\njava: /usr/share/java\n</code></pre>\n<p>Meanwhile pi gives this output:</p>\n<pre><code>pi@raspberrypi:~ $ whereis java\njava: /usr/share/java /usr/lib/jvm/jdk-17.0.1+12/bin/java\n</code></pre>\n<p>Good news is that Java does run as the user <code>pufferpanel</code>:</p>\n<pre><code>pufferpanel@raspberrypi:/usr/lib/jvm/jdk-17.0.1+12/bin$ ./java -version\nopenjdk version &quot;17.0.1&quot; 2021-10-19\nOpenJDK Runtime Environment Temurin-17.0.1+12 (build 17.0.1+12)\nOpenJDK Server VM Temurin-17.0.1+12 (build 17.0.1+12, mixed mode, sharing)\n</code></pre>\n<p>My guess is that PATH is getting overwritten somewhere, just don't know where.</p>\n<p>If there are easier ways to install Java that is higher than version 16 just to get Minecraft to work, please tell me!</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":15650541,"reputation":1125,"user_id":11292020,"display_name":"Ioan M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554881941,"creation_date":1554881941,"answer_id":55607190,"question_id":55598230,"body_markdown":"You can pass only constant expressions to annotations but an alternative will be to create your own Security Context as explained here in the @WithSecurityContext chapter:\r\nhttps://docs.spring.io/spring-security/site/docs/5.0.x/reference/html/test-method.html\r\n\r\nI would also create my own test properties configuration file which will be used to read properties from the tests.\r\n\r\n","title":"How can I use @WithMockUser and pass my username and password from my properties file?","body":"<p>You can pass only constant expressions to annotations but an alternative will be to create your own Security Context as explained here in the @WithSecurityContext chapter:\n<a href=\"https://docs.spring.io/spring-security/site/docs/5.0.x/reference/html/test-method.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/5.0.x/reference/html/test-method.html</a></p>\n\n<p>I would also create my own test properties configuration file which will be used to read properties from the tests.</p>\n"},{"tags":[],"owner":{"account_id":9488133,"reputation":195,"user_id":7053901,"display_name":"Hayden Meloche"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638616162,"creation_date":1554905942,"answer_id":55614862,"question_id":55598230,"body_markdown":"I ended up removing the `@WithMockUser` annotation and went with this solution which worked better for my use case. This method authenticates with the configured basic auth so going forward if it was to change it wouldn&#39;t be a problem.\r\n\r\n```java\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\npublic class sampleTestIT {\r\n\r\n    @Autowired\r\n    private WebApplicationContext webApplicationContext;\r\n\r\n    private MockMvc mockMvc;\r\n\r\n    @Before\r\n    public void setUp() throws Exception {\r\n        mockMvc = webAppContextSetup(webApplicationContext).build();\r\n    }\r\n    ....\r\n}\r\n\r\n","title":"How can I use @WithMockUser and pass my username and password from my properties file?","body":"<p>I ended up removing the <code>@WithMockUser</code> annotation and went with this solution which worked better for my use case. This method authenticates with the configured basic auth so going forward if it was to change it wouldn't be a problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class sampleTestIT {\n\n    @Autowired\n    private WebApplicationContext webApplicationContext;\n\n    private MockMvc mockMvc;\n\n    @Before\n    public void setUp() throws Exception {\n        mockMvc = webAppContextSetup(webApplicationContext).build();\n    }\n    ....\n}\n\n</code></pre>\n"}],"owner":{"account_id":9488133,"reputation":195,"user_id":7053901,"display_name":"Hayden Meloche"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1468,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55614862,"answer_count":2,"score":2,"last_activity_date":1638616162,"creation_date":1554831007,"question_id":55598230,"body_markdown":"I am writing an integration test where the application has a basic auth applied with spring security. I am using @WithMockUser to tell mockMVC how to authenticate with my endpoints.\r\n\r\n```java\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\n@WithMockUser(username=&quot;username&quot;, password=&quot;password&quot;)\r\n```\r\n\r\nThis works but I am wondering if I can replace those strings with references to the values in my `application.properties` file similiar how you can do:\r\n```\r\n    @Value(&quot;${spring.security.user.name}&quot;)\r\n    private String userName;\r\n```\r\n\r\nIs the above possible?","title":"How can I use @WithMockUser and pass my username and password from my properties file?","body":"<p>I am writing an integration test where the application has a basic auth applied with spring security. I am using @WithMockUser to tell mockMVC how to authenticate with my endpoints.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@AutoConfigureMockMvc\n@WithMockUser(username=\"username\", password=\"password\")\n</code></pre>\n\n<p>This works but I am wondering if I can replace those strings with references to the values in my <code>application.properties</code> file similiar how you can do:</p>\n\n<pre><code>    @Value(\"${spring.security.user.name}\")\n    private String userName;\n</code></pre>\n\n<p>Is the above possible?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1443680981,"creation_date":1443680593,"answer_id":32880700,"question_id":32880666,"body_markdown":"Several problems.\r\n\r\n**1)** That extra `;` in the end made the   switch completed  right away on that stamtement.\r\n\r\n   `Switch(n);  &lt;--`\r\n\r\nApparently all the cases became orphans.\r\n\r\nIf you remove the colon after `Switch(n)` you would be fine.\r\n\r\n   \r\n\r\n     Switch(n)\r\n        {\r\n         case 1 : S1.Display();\r\n    \r\n         case 2 : S1.Withdraw();\r\n\r\n\r\n**2)** After that you have another problem. You need to have **break** after each case. Otherwise your switch executes all the cases even though the match found. To stop that add **break** after each case\r\n\r\n      Switch(n)\r\n            {\r\n             case 1 : S1.Display(); break;\r\n        \r\n             case 2 : S1.Withdraw();break;\r\n              ...\r\n\r\n**3)** When you write  `c == &quot;y&quot;` That compare references not equality. \r\n\r\nyou need to use `equals()` method to check string equality\r\n\r\nread  https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\r\n\r\n\r\n**4)** That line Super(c, a, b); won&#39;t compile as `S` must be lower-case. Java is case sensitive.\r\n\r\n","title":"Orphaned Case in Java","body":"<p>Several problems.</p>\n\n<p><strong>1)</strong> That extra <code>;</code> in the end made the   switch completed  right away on that stamtement.</p>\n\n<p><code>Switch(n);  &lt;--</code></p>\n\n<p>Apparently all the cases became orphans.</p>\n\n<p>If you remove the colon after <code>Switch(n)</code> you would be fine.</p>\n\n<pre><code> Switch(n)\n    {\n     case 1 : S1.Display();\n\n     case 2 : S1.Withdraw();\n</code></pre>\n\n<p><strong>2)</strong> After that you have another problem. You need to have <strong>break</strong> after each case. Otherwise your switch executes all the cases even though the match found. To stop that add <strong>break</strong> after each case</p>\n\n<pre><code>  Switch(n)\n        {\n         case 1 : S1.Display(); break;\n\n         case 2 : S1.Withdraw();break;\n          ...\n</code></pre>\n\n<p><strong>3)</strong> When you write  <code>c == \"y\"</code> That compare references not equality. </p>\n\n<p>you need to use <code>equals()</code> method to check string equality</p>\n\n<p>read  <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a></p>\n\n<p><strong>4)</strong> That line Super(c, a, b); won't compile as <code>S</code> must be lower-case. Java is case sensitive.</p>\n"},{"tags":[],"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1443681421,"creation_date":1443680606,"answer_id":32880705,"question_id":32880666,"body_markdown":"The two problems you&#39;re hitting are:\r\n\r\n    Switch(n) // &lt;-- switch is not spelled with a capital &#39;s&#39;\r\n    ; // &lt;-- remove the semicolon\r\n        {\r\n         case 1 : S1.Display();\r\n    \r\n         case 2 : S1.Withdraw();\r\n    \r\n         case 3 : S1.Deposit();\r\n    \r\n        default :System.out.println(&quot;Bad Choice &quot;);\r\n    \r\n         c = &quot;n&quot;;\r\n    \r\n       }\r\n\r\nSince the `case`s appear without any relation to a `switch` - you&#39;re getting the &quot;Orphaned Case Error&quot;. Further, when you&#39;re done handling each case you should `break;` otherwise the code will continue executing the following cases as well!\r\n\r\nI would also advise you to use a good IDE and auto-indent the code because the way it is currently indented makes it very difficult to see where an `if` or `else` clauses ends. \r\n\r\nA good IDE (IntelliJ/Eclipse/Netbeans) will also show you all the compilation errors you have, for example `Super(c, a, b)` - the &#39;s&#39; should not be capitalized, and etc. \r\n","title":"Orphaned Case in Java","body":"<p>The two problems you're hitting are:</p>\n\n<pre><code>Switch(n) // &lt;-- switch is not spelled with a capital 's'\n; // &lt;-- remove the semicolon\n    {\n     case 1 : S1.Display();\n\n     case 2 : S1.Withdraw();\n\n     case 3 : S1.Deposit();\n\n    default :System.out.println(\"Bad Choice \");\n\n     c = \"n\";\n\n   }\n</code></pre>\n\n<p>Since the <code>case</code>s appear without any relation to a <code>switch</code> - you're getting the \"Orphaned Case Error\". Further, when you're done handling each case you should <code>break;</code> otherwise the code will continue executing the following cases as well!</p>\n\n<p>I would also advise you to use a good IDE and auto-indent the code because the way it is currently indented makes it very difficult to see where an <code>if</code> or <code>else</code> clauses ends. </p>\n\n<p>A good IDE (IntelliJ/Eclipse/Netbeans) will also show you all the compilation errors you have, for example <code>Super(c, a, b)</code> - the 's' should not be capitalized, and etc. </p>\n"},{"tags":[],"owner":{"account_id":297962,"reputation":54236,"user_id":603742,"accept_rate":33,"display_name":"stinepike"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1443681990,"creation_date":1443680614,"answer_id":32880709,"question_id":32880666,"body_markdown":"This error usually meas that you are trying to use a `case` keyword outside of a `switch` statement.\r\n\r\n        Switch(n)\r\n    ;\r\n\r\nhere after `switch(n)` remvoe the `;`\r\n\r\nalso use `break` statement after each case operations. else it will keep executing the next case operations.\r\n\r\nother minor issues are mentioned in Sures&#39;s answer\r\n","title":"Orphaned Case in Java","body":"<p>This error usually meas that you are trying to use a <code>case</code> keyword outside of a <code>switch</code> statement.</p>\n\n<pre><code>    Switch(n)\n;\n</code></pre>\n\n<p>here after <code>switch(n)</code> remvoe the <code>;</code></p>\n\n<p>also use <code>break</code> statement after each case operations. else it will keep executing the next case operations.</p>\n\n<p>other minor issues are mentioned in Sures's answer</p>\n"},{"tags":[],"owner":{"account_id":20878724,"reputation":1,"user_id":15336991,"display_name":"Digavalli gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638616054,"creation_date":1638616054,"answer_id":70225029,"question_id":32880666,"body_markdown":"case 1:System.out.println(&quot;1111111111111111&quot;);\r\nsome example case 1:System no spaces in statement \r\n\r\nexample case 1:System.out.println(&quot;Display the vales&quot;);","title":"Orphaned Case in Java","body":"<p>case 1:System.out.println(&quot;1111111111111111&quot;);\nsome example case 1:System no spaces in statement</p>\n<p>example case 1:System.out.println(&quot;Display the vales&quot;);</p>\n"}],"owner":{"account_id":7044976,"reputation":19,"user_id":5396054,"display_name":"Anirudh Kulkarni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10821,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":4,"score":0,"last_activity_date":1638616054,"creation_date":1443680405,"question_id":32880666,"body_markdown":"**Orphaned Case Error**\r\nThe following are the tasks which will be done in the program:-\r\n\r\n1. Accept Deposit from a customer and update the balance.\r\n2. Display the balance.\r\n3. Compute and deposit the compound interest.\r\n4. Permit withdrawal and update the balance.\r\n5. Check for the minimum balance, impose penalty, if necessary and update the balance\r\n\r\nI am getting an &quot;orphaned case&quot; error for\r\n \r\ncase1: S1.Display(); \r\n\r\ncase1: S2.Display();\r\n\r\nPlease help. This is the Code:\r\n\r\n\r\n    import java.util.*;\r\n    \r\n    class Account\r\n    \r\n    {\r\n     String custname;\r\n    \r\n     double accno;\r\n    \r\n     double bal;\r\n     \r\n    \r\n     Account(String c, double a, double b)\r\n    \r\n     {custname = c;\r\n    \r\n      accno = a;\r\n    \r\n      bal = b;\r\n     }\r\n    \r\n      \r\n    \r\n     void Display()\r\n    \r\n     {System.out.println(&quot;Account Holder: &quot;+custname);\r\n    \r\n      System.out.println(&quot;Account Number &quot;+accno);\r\n      System.out.println(&quot;Balance : &quot;+bal); \r\n     }\r\n    \r\n     \r\n     \r\n     void Deposit()\r\n    \r\n     {double dep;\r\n    \r\n      Scanner sc = new Scanner(System.in);\r\n    \r\n      System.out.println(&quot;Please Enter the amount your want to deposit:&quot;);\r\n    \r\n      dep = sc.nextDouble();\r\n    \r\n      bal = bal + dep;\r\n    \r\n      System.out.println(&quot;Updated Details....&quot;);\r\n     \r\n      Display();\r\n     }\r\n    \r\n    \r\n     void Withdraw()\r\n    \r\n     {double wth;\r\n    \r\n      Scanner sc = new Scanner(System.in);\r\n    \r\n      System.out.println(&quot;Please enter the amount you want to withdraw&quot;);\r\n    \r\n      wth = sc.NextDouble();\r\n    \r\n      bal = bal - wth;\r\n    \r\n      System.out.println(&quot;Updated details....&quot;);\r\n    \r\n      Display();\r\n    \r\n     }\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    class SavAccount extends Account\r\n    \r\n    { String acctype;\r\n     \r\n    \r\n      SavAccount(String c, double a, double b)\r\n     {Super(c, a, b);\r\n    \r\n      acctype = &quot;Savings&quot;;\r\n    \r\n     }\r\n    \r\n    \r\n    \r\n     void ComInt()\r\n    \r\n     {int months;\r\n     \r\n      Scanner sc = new Scanner(System.in);\r\n    \r\n      System.out.println(&quot;Please enter the duration of the account in months&quot;);\r\n    \r\n      months = sc.NextInt();\r\n    \r\n      double rate, inte;\r\n      rate = 0.04;\r\n    \r\n      inte = months *rate * bal;\r\n     \r\n      bal = bal + inte;\r\n    \r\n      System.out.println(&quot;Compund Interest : &quot;+inte);\r\n     }\r\n    \r\n      \r\n      \r\n     void Display()\r\n    \r\n     {System.out.println(&quot;Account Holder: &quot;+custname);\r\n    \r\n      System.out.println(&quot;Account Number &quot;+accno);\r\n    \r\n      ComInt();\r\n     \r\n     System.out.println(&quot;Balance : &quot;+bal);\r\n    \r\n      System.out.println(&quot;Account Type: &quot;+acctype);\r\n     \r\n     }\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    class CurAccount extends Account\r\n    \r\n    {String acctype;\r\n    \r\n     CurAccount(String c, double a, double b)\r\n    \r\n     {Super(c, a, b);\r\n    \r\n      acctype = &quot;Current&quot;;\r\n    \r\n     } \r\n    \r\n    \r\n     void Penalty()\r\n     { \r\n      if(bal&lt;5000.00)\r\n    \r\n      {bal = bal - 100.00;\r\n       System.out.println(&quot;Fine deducted Rs.100/-&quot;);\r\n    \r\n      }\r\n     }\r\n    \r\n     void Display()\r\n     \r\n     {System.out.println(&quot;Account Holder: &quot;+custname);\r\n    \r\n      System.out.println(&quot;Account Number &quot;+accno);\r\n    \r\n      Penalty();\r\n     \r\n     System.out.println(&quot;Balance : &quot;+bal);\r\n    \r\n      System.out.println(&quot;Account Type: &quot;+acctype);\r\n    \r\n      if(bal&lt;=5000.00)\r\n      \r\n      {System.out.println(&quot;Warning!! Please maintain balance above Rs.5000/-&quot;);\r\n    \r\n      }\r\n     }\r\n    \r\n    \r\n    }\r\n    class Accmain\r\n    {public static void main(Strings args[])\r\n    \r\n     {SavAccount S1 = new SavAccount(&quot;Aniruddha&quot;, 134.00, 15000.00)\r\n    ;\r\n      CurAccount S2 = new CurAccount(&quot;Tyrel&quot; , 135.00, 6000.00);\r\n    \r\n      int num = 2;\r\n     \r\n    \r\n      String c = &quot;y&quot;;\r\n    \r\n      int n;\r\n    \r\n      double temp;\r\n      double accs[] = new double[10];\r\n    \r\n      accs[0] = S1.accno;\r\n    \r\n      accs[1] = S2.accno;\r\n    \r\n      Scanner sc = new Scanner(System.in);\r\n    \r\n      while (c == &quot;y&quot;);\r\n    \r\n      {System.out.println(&quot;Please enter your Account number:&quot;);\r\n    \r\n       temp = sc.nextDouble();\r\n    \r\n       if(accs[0] == temp)\r\n    \r\n       {System.out.println(&quot;Welcome &quot;+ S1.custname);\r\n    \r\n        System.out.println(&quot;Account Type: &quot;+ S1.acctype);\r\n    \r\n        System.out.println(&quot;1.Display&quot;);\r\n    \r\n        System.out.println(&quot;2.Withdraw&quot;);\r\n    \r\n        System.out.println(&quot;3.Deposit&quot;);\r\n    \r\n        n = sc.nextInt();\r\n    \r\n        Switch(n)\r\n    ;\r\n        {\r\n         case 1 : S1.Display();\r\n    \r\n         case 2 : S1.Withdraw();\r\n    \r\n         case 3 : S1.Deposit();\r\n     \r\n        default :System.out.println(&quot;Bad Choice &quot;);\r\n    \r\n         c = &quot;n&quot;;\r\n     \r\n       }\r\n    \r\n       }\r\n       else if(accs[1] == temp)\r\n    \r\n       {System.out.println(&quot;Welcome &quot;+ S2.custname);\r\n    \r\n        System.out.println(&quot;Account Type: &quot;+ S2.acctype);\r\n    \r\n        System.out.println(&quot;1.Display&quot;);\r\n    \r\n        System.out.println(&quot;2.Withdraw&quot;);\r\n    \r\n        System.out.println(&quot;3.Deposit&quot;);\r\n    \r\n        n = sc.nextInt()\r\n    ;\r\n        Switch(n);\r\n        {\r\n         case 1 : S2.Display();\r\n    \r\n         case 2 : S2.Withdraw();\r\n    \r\n         case 3 : S2.Deposit();\r\n         default :System.out.println(&quot;Bad Choice &quot;);\r\n    \r\n         c = &quot;n&quot;;\r\n        }\r\n    \r\n       }\r\n    \r\n      } \r\n    \r\n     }\r\n    \r\n      \r\n      \r\n    } \r\n      \r\n      \r\n\r\n\r\n\r\n","title":"Orphaned Case in Java","body":"<p><strong>Orphaned Case Error</strong>\nThe following are the tasks which will be done in the program:-</p>\n\n<ol>\n<li>Accept Deposit from a customer and update the balance.</li>\n<li>Display the balance.</li>\n<li>Compute and deposit the compound interest.</li>\n<li>Permit withdrawal and update the balance.</li>\n<li>Check for the minimum balance, impose penalty, if necessary and update the balance</li>\n</ol>\n\n<p>I am getting an \"orphaned case\" error for</p>\n\n<p>case1: S1.Display(); </p>\n\n<p>case1: S2.Display();</p>\n\n<p>Please help. This is the Code:</p>\n\n<pre><code>import java.util.*;\n\nclass Account\n\n{\n String custname;\n\n double accno;\n\n double bal;\n\n\n Account(String c, double a, double b)\n\n {custname = c;\n\n  accno = a;\n\n  bal = b;\n }\n\n\n\n void Display()\n\n {System.out.println(\"Account Holder: \"+custname);\n\n  System.out.println(\"Account Number \"+accno);\n  System.out.println(\"Balance : \"+bal); \n }\n\n\n\n void Deposit()\n\n {double dep;\n\n  Scanner sc = new Scanner(System.in);\n\n  System.out.println(\"Please Enter the amount your want to deposit:\");\n\n  dep = sc.nextDouble();\n\n  bal = bal + dep;\n\n  System.out.println(\"Updated Details....\");\n\n  Display();\n }\n\n\n void Withdraw()\n\n {double wth;\n\n  Scanner sc = new Scanner(System.in);\n\n  System.out.println(\"Please enter the amount you want to withdraw\");\n\n  wth = sc.NextDouble();\n\n  bal = bal - wth;\n\n  System.out.println(\"Updated details....\");\n\n  Display();\n\n }\n\n}\n\n\n\nclass SavAccount extends Account\n\n{ String acctype;\n\n\n  SavAccount(String c, double a, double b)\n {Super(c, a, b);\n\n  acctype = \"Savings\";\n\n }\n\n\n\n void ComInt()\n\n {int months;\n\n  Scanner sc = new Scanner(System.in);\n\n  System.out.println(\"Please enter the duration of the account in months\");\n\n  months = sc.NextInt();\n\n  double rate, inte;\n  rate = 0.04;\n\n  inte = months *rate * bal;\n\n  bal = bal + inte;\n\n  System.out.println(\"Compund Interest : \"+inte);\n }\n\n\n\n void Display()\n\n {System.out.println(\"Account Holder: \"+custname);\n\n  System.out.println(\"Account Number \"+accno);\n\n  ComInt();\n\n System.out.println(\"Balance : \"+bal);\n\n  System.out.println(\"Account Type: \"+acctype);\n\n }\n\n}\n\n\n\nclass CurAccount extends Account\n\n{String acctype;\n\n CurAccount(String c, double a, double b)\n\n {Super(c, a, b);\n\n  acctype = \"Current\";\n\n } \n\n\n void Penalty()\n { \n  if(bal&lt;5000.00)\n\n  {bal = bal - 100.00;\n   System.out.println(\"Fine deducted Rs.100/-\");\n\n  }\n }\n\n void Display()\n\n {System.out.println(\"Account Holder: \"+custname);\n\n  System.out.println(\"Account Number \"+accno);\n\n  Penalty();\n\n System.out.println(\"Balance : \"+bal);\n\n  System.out.println(\"Account Type: \"+acctype);\n\n  if(bal&lt;=5000.00)\n\n  {System.out.println(\"Warning!! Please maintain balance above Rs.5000/-\");\n\n  }\n }\n\n\n}\nclass Accmain\n{public static void main(Strings args[])\n\n {SavAccount S1 = new SavAccount(\"Aniruddha\", 134.00, 15000.00)\n;\n  CurAccount S2 = new CurAccount(\"Tyrel\" , 135.00, 6000.00);\n\n  int num = 2;\n\n\n  String c = \"y\";\n\n  int n;\n\n  double temp;\n  double accs[] = new double[10];\n\n  accs[0] = S1.accno;\n\n  accs[1] = S2.accno;\n\n  Scanner sc = new Scanner(System.in);\n\n  while (c == \"y\");\n\n  {System.out.println(\"Please enter your Account number:\");\n\n   temp = sc.nextDouble();\n\n   if(accs[0] == temp)\n\n   {System.out.println(\"Welcome \"+ S1.custname);\n\n    System.out.println(\"Account Type: \"+ S1.acctype);\n\n    System.out.println(\"1.Display\");\n\n    System.out.println(\"2.Withdraw\");\n\n    System.out.println(\"3.Deposit\");\n\n    n = sc.nextInt();\n\n    Switch(n)\n;\n    {\n     case 1 : S1.Display();\n\n     case 2 : S1.Withdraw();\n\n     case 3 : S1.Deposit();\n\n    default :System.out.println(\"Bad Choice \");\n\n     c = \"n\";\n\n   }\n\n   }\n   else if(accs[1] == temp)\n\n   {System.out.println(\"Welcome \"+ S2.custname);\n\n    System.out.println(\"Account Type: \"+ S2.acctype);\n\n    System.out.println(\"1.Display\");\n\n    System.out.println(\"2.Withdraw\");\n\n    System.out.println(\"3.Deposit\");\n\n    n = sc.nextInt()\n;\n    Switch(n);\n    {\n     case 1 : S2.Display();\n\n     case 2 : S2.Withdraw();\n\n     case 3 : S2.Deposit();\n     default :System.out.println(\"Bad Choice \");\n\n     c = \"n\";\n    }\n\n   }\n\n  } \n\n }\n\n\n\n} \n</code></pre>\n"},{"tags":["java","sockets","connection-refused"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638616044,"creation_date":1638608923,"answer_id":70224324,"question_id":70223331,"body_markdown":"Looking at the OpenJDK source code ... when the `connect(...)` call fails, the `SocketImpl` code calls `close()` on the `Socket`.\r\n\r\nThis is the code in Java 11 (in `java.net.AbstractPlainSocketImpl`):\r\n\r\n    protected void connect(String host, int port)\r\n        throws UnknownHostException, IOException\r\n    {\r\n        boolean connected = false;\r\n        try {\r\n            InetAddress address = InetAddress.getByName(host);\r\n            this.port = port;\r\n            this.address = address;\r\n\r\n            connectToAddress(address, port, timeout);\r\n            connected = true;\r\n        } finally {\r\n            if (!connected) {\r\n                try {\r\n                    close();  // &lt;&lt;---- HERE\r\n                } catch (IOException ioe) {\r\n                    /* Do nothing. If connect threw an exception then\r\n                       it will be passed up the call stack */\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nThat `close()` call on the `SocketImpl` object leads to the `Socket` being marked as closed.\r\n\r\n----------------\r\n\r\nIn short, a Java `Socket` object does not support retrying after a failed connection attempt.  If you want to retry, your code needs to create a new `Socket` object.\r\n\r\nDiscussion of whether it is *correct* for `Socket` to behave this way is beside the point.  It just does ... and it is highly unlikely that this will ever change.  The only thing that might change is that they *might* document this behavior in the `Socket` javadocs.\r\n\r\n","title":"Why &#39;java.net.SocketException: Socket closed&#39; after &#39;java.net.ConnectException: Connection refused&#39;?","body":"<p>Looking at the OpenJDK source code ... when the <code>connect(...)</code> call fails, the <code>SocketImpl</code> code calls <code>close()</code> on the <code>Socket</code>.</p>\n<p>This is the code in Java 11 (in <code>java.net.AbstractPlainSocketImpl</code>):</p>\n<pre><code>protected void connect(String host, int port)\n    throws UnknownHostException, IOException\n{\n    boolean connected = false;\n    try {\n        InetAddress address = InetAddress.getByName(host);\n        this.port = port;\n        this.address = address;\n\n        connectToAddress(address, port, timeout);\n        connected = true;\n    } finally {\n        if (!connected) {\n            try {\n                close();  // &lt;&lt;---- HERE\n            } catch (IOException ioe) {\n                /* Do nothing. If connect threw an exception then\n                   it will be passed up the call stack */\n            }\n        }\n    }\n}\n</code></pre>\n<p>That <code>close()</code> call on the <code>SocketImpl</code> object leads to the <code>Socket</code> being marked as closed.</p>\n<hr />\n<p>In short, a Java <code>Socket</code> object does not support retrying after a failed connection attempt.  If you want to retry, your code needs to create a new <code>Socket</code> object.</p>\n<p>Discussion of whether it is <em>correct</em> for <code>Socket</code> to behave this way is beside the point.  It just does ... and it is highly unlikely that this will ever change.  The only thing that might change is that they <em>might</em> document this behavior in the <code>Socket</code> javadocs.</p>\n"}],"owner":{"account_id":9276524,"reputation":115,"user_id":6889038,"display_name":"MAXdB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4099,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70224324,"answer_count":1,"score":0,"last_activity_date":1638616044,"creation_date":1638596759,"question_id":70223331,"body_markdown":"I&#39;m trying to connect to a remote host trying over and over waiting for it to come up. However, after one shot with a Connection Refused exception (because the server isn&#39;t running yet), it throws Socket closed exception continuously.  Why would the socket be closed?  The socket should simply be in the same state as it was before the failed connect() call, shouldn&#39;t it? \r\n```\r\n                while(!tcpSock.isConnected()) {\r\n                    try {\r\n                        tcpSock.connect(destination);\r\n                    } catch (SocketException e) {\r\n                        System.err.println(e.toString());\r\n\t\t\t\t\t}\r\n                }\r\n```\r\nresults in\r\n```\r\nSetting TCP client mode connecting to remote host localhost/127.0.0.1 port 4500\r\njava.net.ConnectException: Connection refused: connect\r\njava.net.SocketException: Socket closed\r\njava.net.SocketException: Socket closed\r\njava.net.SocketException: Socket closed\r\njava.net.SocketException: Socket closed\r\n````\r\nDesired behavior is\r\n````\r\nSetting TCP client mode connecting to remote host localhost/127.0.0.1 port 4500\r\njava.net.ConnectException: Connection refused: connect\r\njava.net.ConnectException: Connection refused: connect\r\njava.net.ConnectException: Connection refused: connect\r\njava.net.ConnectException: Connection refused: connect\r\nEstablished connection to: localhost port 4500\r\n````\r\n(Once I&#39;m done debugging, I&#39;ll comment out the print of the exception.)\r\n ","title":"Why &#39;java.net.SocketException: Socket closed&#39; after &#39;java.net.ConnectException: Connection refused&#39;?","body":"<p>I'm trying to connect to a remote host trying over and over waiting for it to come up. However, after one shot with a Connection Refused exception (because the server isn't running yet), it throws Socket closed exception continuously.  Why would the socket be closed?  The socket should simply be in the same state as it was before the failed connect() call, shouldn't it?</p>\n<pre><code>                while(!tcpSock.isConnected()) {\n                    try {\n                        tcpSock.connect(destination);\n                    } catch (SocketException e) {\n                        System.err.println(e.toString());\n                    }\n                }\n</code></pre>\n<p>results in</p>\n<pre><code>Setting TCP client mode connecting to remote host localhost/127.0.0.1 port 4500\njava.net.ConnectException: Connection refused: connect\njava.net.SocketException: Socket closed\njava.net.SocketException: Socket closed\njava.net.SocketException: Socket closed\njava.net.SocketException: Socket closed\n</code></pre>\n<p>Desired behavior is</p>\n<pre><code>Setting TCP client mode connecting to remote host localhost/127.0.0.1 port 4500\njava.net.ConnectException: Connection refused: connect\njava.net.ConnectException: Connection refused: connect\njava.net.ConnectException: Connection refused: connect\njava.net.ConnectException: Connection refused: connect\nEstablished connection to: localhost port 4500\n</code></pre>\n<p>(Once I'm done debugging, I'll comment out the print of the exception.)</p>\n"},{"tags":["java","android","maven","gradle"],"answers":[{"tags":[],"owner":{"account_id":6538997,"reputation":187,"user_id":5057360,"display_name":"ybloodz"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1596125324,"creation_date":1596125324,"answer_id":63177123,"question_id":27526941,"body_markdown":"I know it&#39;s an old question but I ran into a similar issue today. The problem was in the name of the service. If you had the class in your project, then the name should be:\r\n\r\n      &lt;service\r\n            android:name=&quot;YOUR_PACKAGE.YOUR_CLASS_NAME&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n    ","title":"Class referenced in the manifest was not found in the project or the libraries","body":"<p>I know it's an old question but I ran into a similar issue today. The problem was in the name of the service. If you had the class in your project, then the name should be:</p>\n<pre><code>  &lt;service\n        android:name=&quot;YOUR_PACKAGE.YOUR_CLASS_NAME&quot;\n        android:exported=&quot;false&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10697587,"reputation":1010,"user_id":7874124,"display_name":"R7G"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1607088763,"creation_date":1607088763,"answer_id":65144502,"question_id":27526941,"body_markdown":"In my case I forgot to add the package on top in kotlin file \r\n\r\n    package com.user.examplephone;","title":"Class referenced in the manifest was not found in the project or the libraries","body":"<p>In my case I forgot to add the package on top in kotlin file</p>\n<pre><code>package com.user.examplephone;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2086410,"reputation":16362,"user_id":1857292,"accept_rate":94,"display_name":"Jimmy Kane"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1612272515,"creation_date":1612272515,"answer_id":66010704,"question_id":27526941,"body_markdown":"Example: \r\n\r\n\r\n```   &lt;activity\r\n            android:name=&quot;com.google.android.gms.oss.licenses.OssLicensesActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:theme=&quot;@style/LicensesTheme&quot;\r\n            tools:ignore=&quot;MissingClass&quot;/&gt;\r\n\r\n\r\n```\r\n\r\nYou need to add \r\n\r\n```\r\ntools:ignore=&quot;MissingClass&quot;\r\n```","title":"Class referenced in the manifest was not found in the project or the libraries","body":"<p>Example:</p>\n<pre><code>            android:name=&quot;com.google.android.gms.oss.licenses.OssLicensesActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:theme=&quot;@style/LicensesTheme&quot;\n            tools:ignore=&quot;MissingClass&quot;/&gt;\n\n\n</code></pre>\n<p>You need to add</p>\n<pre><code>tools:ignore=&quot;MissingClass&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1508870,"reputation":125,"user_id":1411490,"display_name":"delicatesan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631458856,"creation_date":1631458856,"answer_id":69152614,"question_id":27526941,"body_markdown":"In my case, after scrubbing SO for solutions to this.  I finally put the fully qualified path name to MainActivity in my manifest, and Invalidated caches, and restarted.  Worked for me. YMMV","title":"Class referenced in the manifest was not found in the project or the libraries","body":"<p>In my case, after scrubbing SO for solutions to this.  I finally put the fully qualified path name to MainActivity in my manifest, and Invalidated caches, and restarted.  Worked for me. YMMV</p>\n"},{"tags":[],"owner":{"account_id":20902880,"reputation":111,"user_id":15355600,"display_name":"Mayukh P V"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1638616024,"creation_date":1638616024,"answer_id":70225022,"question_id":27526941,"body_markdown":"go to file-&gt;Invalidate cashes and restart\r\n\r\nit works for me","title":"Class referenced in the manifest was not found in the project or the libraries","body":"<p>go to file-&gt;Invalidate cashes and restart</p>\n<p>it works for me</p>\n"}],"owner":{"account_id":5336425,"reputation":259,"user_id":4255230,"display_name":"Clean Devs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27185,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":5,"score":19,"last_activity_date":1638616024,"creation_date":1418823783,"question_id":27526941,"body_markdown":"Recently I tried to remove all lint issues and in the manifest appeared an issue : &lt;br&gt;\r\n&quot;Class referenced in the manifest, com.octo.android.robospice.JacksonSpringAndroidSpiceService, was not found in the project or the libraries&quot;\r\n\r\n\r\n        &lt;service\r\n            android:name=&quot;com.octo.android.robospice.JacksonSpringAndroidSpiceService&quot;\r\n            android:exported=&quot;false&quot; &gt;\r\n        &lt;/service&gt;\r\n\r\nThis is a maven dependency and is also included in the build.gradle file :\r\n\r\n    dependencies {\r\n      ...\r\n        compile &#39;com.octo.android.robospice:robospice:1.4.11&#39;\r\n        compile &#39;com.octo.android.robospice:robospice-spring-android:1.4.11&#39;\r\n       ...\r\n    }\r\nWhat else could be done to resolve this lint warning or do I have to suppress it?\r\n","title":"Class referenced in the manifest was not found in the project or the libraries","body":"<p>Recently I tried to remove all lint issues and in the manifest appeared an issue : <br>\n\"Class referenced in the manifest, com.octo.android.robospice.JacksonSpringAndroidSpiceService, was not found in the project or the libraries\"</p>\n\n<pre><code>    &lt;service\n        android:name=\"com.octo.android.robospice.JacksonSpringAndroidSpiceService\"\n        android:exported=\"false\" &gt;\n    &lt;/service&gt;\n</code></pre>\n\n<p>This is a maven dependency and is also included in the build.gradle file :</p>\n\n<pre><code>dependencies {\n  ...\n    compile 'com.octo.android.robospice:robospice:1.4.11'\n    compile 'com.octo.android.robospice:robospice-spring-android:1.4.11'\n   ...\n}\n</code></pre>\n\n<p>What else could be done to resolve this lint warning or do I have to suppress it?</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":16632079,"reputation":2166,"user_id":16547945,"display_name":"Vojin Puriƒá"},"score":0,"creation_date":1638614769,"post_id":70224882,"comment_id":124138618,"body_markdown":"Show us your `display` code","body":"Show us your <code>display</code> code"},{"owner":{"account_id":23543102,"reputation":3,"user_id":17586988,"display_name":"trjk"},"score":0,"creation_date":1638615398,"post_id":70224882,"comment_id":124138714,"body_markdown":"@VojinPuriƒá I&#39;ve added it at the end.","body":"@VojinPuriƒá I&#39;ve added it at the end."}],"answers":[{"tags":[],"owner":{"account_id":16632079,"reputation":2166,"user_id":16547945,"display_name":"Vojin Puriƒá"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638615856,"creation_date":1638615856,"answer_id":70225003,"question_id":70224882,"body_markdown":"You need to notify your `RecyclerViewAdapter` that data has changed. Add\r\n\r\n    recyclerViewAdapter.notifyDataSetChanged()\r\n\r\nat the end of your `display`.","title":"android Spinner requires 2 clicks to work","body":"<p>You need to notify your <code>RecyclerViewAdapter</code> that data has changed. Add</p>\n<pre><code>recyclerViewAdapter.notifyDataSetChanged()\n</code></pre>\n<p>at the end of your <code>display</code>.</p>\n"}],"owner":{"account_id":23543102,"reputation":3,"user_id":17586988,"display_name":"trjk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70225003,"answer_count":1,"score":0,"last_activity_date":1638615856,"creation_date":1638614480,"question_id":70224882,"body_markdown":"am trying to use a spinner within a fragment to categorize the output of my recycler view\r\n\r\nwhen I call the recycler view function from the onCreateView it works perfectly. however, when I call it from the spinner function, it requires 2 clicks to display.\r\n\r\nhere is the spinner XML code:\r\n\r\n    &lt;Spinner\r\n        android:id=&quot;@+id/med_spinner&quot;\r\n        android:layout_width=&quot;150dp&quot;\r\n        android:layout_height=&quot;30dp&quot;\r\n        android:layout_below=&quot;@+id/tv_med2&quot;\r\n        android:layout_marginLeft=&quot;15dp&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:layout_toRightOf=&quot;@id/tv_spinner&quot;\r\n        android:dropDownWidth=&quot;match_parent&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:entries=&quot;@array/medicine&quot;\r\n        /&gt;\r\nand here is the fragment:\r\n\r\n        @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.frag_medicine, container, false);\r\n\r\n        RecyclerView rv_med = view.findViewById(R.id.rv_medicine);\r\n        db = new UserDB(getActivity());\r\n        med_name = new ArrayList&lt;&gt;();\r\n        med_type = new ArrayList&lt;&gt;();\r\n        med_type2 = new ArrayList&lt;&gt;();\r\n\r\n\r\n\r\n\r\n\r\n        //spinner declartion\r\n        spinner = view.findViewById(R.id.med_spinner);\r\n\r\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(getActivity(), R.array.medicine, android.R.layout.simple_spinner_item);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner.setAdapter(adapter);\r\n        spinner.setOnItemSelectedListener(this);\r\n\r\n\r\n        //recycler view adapter and layout manger\r\n        recyclerViewAdapter = new RecyclerViewAdapterMedicine(getContext(), med_name, med_type, med_type2);\r\n        rv_med.setAdapter(recyclerViewAdapter);\r\n        rv_med.setLayoutManager(new LinearLayoutManager(getContext()));\r\n\r\n        return view;\r\n    }\r\n\r\nand here is the spinner functions\r\n\r\n        @Override\r\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int i, long l) {\r\n        med_name.clear();\r\n        med_type.clear();\r\n        med_type2.clear();\r\n        cata = spinner.getSelectedItem().toString();\r\n        display(cata);\r\n    }\r\n\r\n    @Override\r\n    public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n        cata = &quot;All&quot;;\r\n        display(cata);\r\n    }\r\n\r\nhere&#39;s the display function:\r\n\r\n    void display(String type) {\r\n        db.open();\r\n        Cursor cursor = db.listMedicine();\r\n        if (cursor.getCount() == 0) {\r\n            Toast.makeText(getActivity(), &quot;an error occurred&quot;, Toast.LENGTH_LONG).show();\r\n        } else {\r\n                if (type.equals(&quot;All&quot;)){\r\n                    while (cursor.moveToNext()) {\r\n                            med_name.add(cursor.getString(1));\r\n                            med_type.add(cursor.getString(2));\r\n                            med_type2.add(cursor.getString(3));\r\n                    }\r\n                }else{\r\n                    while (cursor.moveToNext()) {\r\n                        if(cursor.getString(2).equals(type) || cursor.getString(3).equals(type)) {\r\n                            med_name.add(cursor.getString(1));\r\n                            med_type.add(cursor.getString(2));\r\n                            med_type2.add(cursor.getString(3));\r\n                        }\r\n\r\n\r\n                }\r\n            }\r\n            db.close();\r\n        }\r\n    }\r\n\r\n I&#39;ve tried to put the spinner functions within a spinner.onItemSelectedListener inside and outside the fragment, I tried to enable and disable focus and focusableTochMode, I also tried to call the recycler view before the spinner in the fragment.","title":"android Spinner requires 2 clicks to work","body":"<p>am trying to use a spinner within a fragment to categorize the output of my recycler view</p>\n<p>when I call the recycler view function from the onCreateView it works perfectly. however, when I call it from the spinner function, it requires 2 clicks to display.</p>\n<p>here is the spinner XML code:</p>\n<pre><code>&lt;Spinner\n    android:id=&quot;@+id/med_spinner&quot;\n    android:layout_width=&quot;150dp&quot;\n    android:layout_height=&quot;30dp&quot;\n    android:layout_below=&quot;@+id/tv_med2&quot;\n    android:layout_marginLeft=&quot;15dp&quot;\n    android:layout_marginTop=&quot;20dp&quot;\n    android:layout_toRightOf=&quot;@id/tv_spinner&quot;\n    android:dropDownWidth=&quot;match_parent&quot;\n    android:focusable=&quot;true&quot;\n    android:gravity=&quot;center&quot;\n    android:entries=&quot;@array/medicine&quot;\n    /&gt;\n</code></pre>\n<p>and here is the fragment:</p>\n<pre><code>    @Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.frag_medicine, container, false);\n\n    RecyclerView rv_med = view.findViewById(R.id.rv_medicine);\n    db = new UserDB(getActivity());\n    med_name = new ArrayList&lt;&gt;();\n    med_type = new ArrayList&lt;&gt;();\n    med_type2 = new ArrayList&lt;&gt;();\n\n\n\n\n\n    //spinner declartion\n    spinner = view.findViewById(R.id.med_spinner);\n\n    ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(getActivity(), R.array.medicine, android.R.layout.simple_spinner_item);\n    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    spinner.setAdapter(adapter);\n    spinner.setOnItemSelectedListener(this);\n\n\n    //recycler view adapter and layout manger\n    recyclerViewAdapter = new RecyclerViewAdapterMedicine(getContext(), med_name, med_type, med_type2);\n    rv_med.setAdapter(recyclerViewAdapter);\n    rv_med.setLayoutManager(new LinearLayoutManager(getContext()));\n\n    return view;\n}\n</code></pre>\n<p>and here is the spinner functions</p>\n<pre><code>    @Override\npublic void onItemSelected(AdapterView&lt;?&gt; parent, View view, int i, long l) {\n    med_name.clear();\n    med_type.clear();\n    med_type2.clear();\n    cata = spinner.getSelectedItem().toString();\n    display(cata);\n}\n\n@Override\npublic void onNothingSelected(AdapterView&lt;?&gt; parent) {\n    cata = &quot;All&quot;;\n    display(cata);\n}\n</code></pre>\n<p>here's the display function:</p>\n<pre><code>void display(String type) {\n    db.open();\n    Cursor cursor = db.listMedicine();\n    if (cursor.getCount() == 0) {\n        Toast.makeText(getActivity(), &quot;an error occurred&quot;, Toast.LENGTH_LONG).show();\n    } else {\n            if (type.equals(&quot;All&quot;)){\n                while (cursor.moveToNext()) {\n                        med_name.add(cursor.getString(1));\n                        med_type.add(cursor.getString(2));\n                        med_type2.add(cursor.getString(3));\n                }\n            }else{\n                while (cursor.moveToNext()) {\n                    if(cursor.getString(2).equals(type) || cursor.getString(3).equals(type)) {\n                        med_name.add(cursor.getString(1));\n                        med_type.add(cursor.getString(2));\n                        med_type2.add(cursor.getString(3));\n                    }\n\n\n            }\n        }\n        db.close();\n    }\n}\n</code></pre>\n<p>I've tried to put the spinner functions within a spinner.onItemSelectedListener inside and outside the fragment, I tried to enable and disable focus and focusableTochMode, I also tried to call the recycler view before the spinner in the fragment.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1638562147,"post_id":70219904,"comment_id":124130754,"body_markdown":"Why did you not use `MenuItem#addSelectionListener()`?","body":"Why did you not use <code>MenuItem#addSelectionListener()</code>?"},{"owner":{"display_name":"user14223135"},"score":0,"creation_date":1638563427,"post_id":70219904,"comment_id":124131157,"body_markdown":".....This is my preference... Does it matter?","body":".....This is my preference... Does it matter?"},{"owner":{"display_name":"user14223135"},"score":0,"creation_date":1638563730,"post_id":70219904,"comment_id":124131256,"body_markdown":"It&#39;s no use using MenuItem#addSelectionListener()...I tried","body":"It&#39;s no use using MenuItem#addSelectionListener()...I tried"},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1638602306,"post_id":70219904,"comment_id":124136749,"body_markdown":"@nitind addSelectionListener just ends up using the SWT.Selection style listemer internally.","body":"@nitind addSelectionListener just ends up using the SWT.Selection style listemer internally."}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638615616,"creation_date":1638604223,"answer_id":70223891,"question_id":70219904,"body_markdown":"You can&#39;t have `SWT.PUSH` style menu items directly on the menu bar (at least not on macOS). You need to create `SWT.CASCADE` menu items with the push items as children.\r\n\r\n```java\r\nMenu bar = new Menu(shell, SWT.BAR);\r\nshell.setMenuBar(bar);\r\n\r\nMenuItem fileItem = new MenuItem(bar, SWT.CASCADE);\r\nfileItem.setText(&quot;&amp;File&quot;);\r\n\r\nMenu fileSubMenu = new Menu(shell, SWT.DROP_DOWN);\r\nfileItem.setMenu(fileSubMenu);\r\n\r\nMenuItem item = new MenuItem(fileSubMenu, SWT.PUSH);\r\nitem.addListener(SWT.Selection, e -&gt; System.out.println(&quot;Select All&quot;));\r\nitem.setText(&quot;Select&quot;);\r\n```\r\n(Adapted from [this SWT Snippet](https://git.eclipse.org/c/platform/eclipse.platform.swt.git/tree/examples/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet29.java) and tested on macOS 12.0.1)\r\n\r\nNote: If you just want push buttons across the top of the shell use a `ToolBar`.\r\n","title":"MacOS Eclipse RCP MenuItem Selection event invalidation","body":"<p>You can't have <code>SWT.PUSH</code> style menu items directly on the menu bar (at least not on macOS). You need to create <code>SWT.CASCADE</code> menu items with the push items as children.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Menu bar = new Menu(shell, SWT.BAR);\nshell.setMenuBar(bar);\n\nMenuItem fileItem = new MenuItem(bar, SWT.CASCADE);\nfileItem.setText(&quot;&amp;File&quot;);\n\nMenu fileSubMenu = new Menu(shell, SWT.DROP_DOWN);\nfileItem.setMenu(fileSubMenu);\n\nMenuItem item = new MenuItem(fileSubMenu, SWT.PUSH);\nitem.addListener(SWT.Selection, e -&gt; System.out.println(&quot;Select All&quot;));\nitem.setText(&quot;Select&quot;);\n</code></pre>\n<p>(Adapted from <a href=\"https://git.eclipse.org/c/platform/eclipse.platform.swt.git/tree/examples/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet29.java\" rel=\"nofollow noreferrer\">this SWT Snippet</a> and tested on macOS 12.0.1)</p>\n<p>Note: If you just want push buttons across the top of the shell use a <code>ToolBar</code>.</p>\n"}],"owner":{"display_name":"user14223135"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70223891,"answer_count":1,"score":0,"last_activity_date":1638615616,"creation_date":1638560615,"question_id":70219904,"body_markdown":"MacOS 10.15.5\r\nEclipse RCP 2020-09\r\n\r\nProblem : MenuItem Selection event invalidation\r\n\r\nCode :\r\n\r\n    @Override\r\n\tprotected void configureShell(Shell newShell) {\r\n\t\tnewShell.setImage( Images.getImageDescriptor(ImageConstants.IMG_LoL).createImage() ) ;\r\n\t\tnewShell.setText( LoLPlugin.getPluginName() );\r\n\t\tnewShell.setBackgroundMode( SWT.INHERIT_DEFAULT ) ;\r\n\t\tnewShell.setLayout( new FillLayout() ) ;\r\n\t\tnewShell.setMenuBar( createMenuBar(newShell) ) ;\r\n\t\tnewShell.setSize( getInitialSize() ) ;\r\n\t\tnewShell.setLocation( getInitialLocation( newShell ) ) ;\r\n\t\tnewShell.addDisposeListener( e -&gt; { newShell.getImage().dispose() ; saveLocation() ; } ) ;\r\n\t\tnewShell.setData( window ) ;\r\n\t}\r\n\t\r\n\tprivate Menu createMenuBar(Shell shell) {\t\t\r\n\t\tMenu mainMenu = new Menu( shell , SWT.BAR ) ;\r\n\t\t\r\n\t\tMenuItem bundleItem = new MenuItem( mainMenu , SWT.PUSH ) ;\r\n\t\tbundleItem.setText( Message.BundleBook_Name ) ;\r\n\t\tbundleItem.addListener(SWT.Selection, e -&gt; showBook( BundleBook.ID ) );\r\n\t\t\r\n\t\tMenuItem resourceItem = new MenuItem( mainMenu , SWT.PUSH ) ;\r\n\t\tresourceItem.setText( Message.ResourceBook_Name ) ;\r\n\t\tresourceItem.addListener(SWT.Selection, e -&gt; showBook( ResourceBook.ID ) );\r\n\t\t\r\n\t\tMenuItem guideItem = new MenuItem( mainMenu , SWT.PUSH ) ;\r\n\t\tguideItem.setText( Message.GuideBook_Name ) ;\r\n\t\tguideItem.addListener( SWT.Selection , e -&gt; showBook( GuideBook.ID ) ) ;\r\n\t\t\r\n\t\treturn mainMenu ;\r\n\t}\r\n\r\n\tprivate void showBook( String id ) {\r\n\t\tSystem.out.println( &quot;MaC OS Cannot execute - Window OS Is OK&quot; ) ;\r\n\t\tbookcase.showBook( id ) ;\r\n\t}\r\n\r\nresult: MacOS cannot execute , Event not triggered\r\n\r\nWindow OS Is OK\r\n","title":"MacOS Eclipse RCP MenuItem Selection event invalidation","body":"<p>MacOS 10.15.5\nEclipse RCP 2020-09</p>\n<p>Problem : MenuItem Selection event invalidation</p>\n<p>Code :</p>\n<pre><code>@Override\nprotected void configureShell(Shell newShell) {\n    newShell.setImage( Images.getImageDescriptor(ImageConstants.IMG_LoL).createImage() ) ;\n    newShell.setText( LoLPlugin.getPluginName() );\n    newShell.setBackgroundMode( SWT.INHERIT_DEFAULT ) ;\n    newShell.setLayout( new FillLayout() ) ;\n    newShell.setMenuBar( createMenuBar(newShell) ) ;\n    newShell.setSize( getInitialSize() ) ;\n    newShell.setLocation( getInitialLocation( newShell ) ) ;\n    newShell.addDisposeListener( e -&gt; { newShell.getImage().dispose() ; saveLocation() ; } ) ;\n    newShell.setData( window ) ;\n}\n\nprivate Menu createMenuBar(Shell shell) {       \n    Menu mainMenu = new Menu( shell , SWT.BAR ) ;\n    \n    MenuItem bundleItem = new MenuItem( mainMenu , SWT.PUSH ) ;\n    bundleItem.setText( Message.BundleBook_Name ) ;\n    bundleItem.addListener(SWT.Selection, e -&gt; showBook( BundleBook.ID ) );\n    \n    MenuItem resourceItem = new MenuItem( mainMenu , SWT.PUSH ) ;\n    resourceItem.setText( Message.ResourceBook_Name ) ;\n    resourceItem.addListener(SWT.Selection, e -&gt; showBook( ResourceBook.ID ) );\n    \n    MenuItem guideItem = new MenuItem( mainMenu , SWT.PUSH ) ;\n    guideItem.setText( Message.GuideBook_Name ) ;\n    guideItem.addListener( SWT.Selection , e -&gt; showBook( GuideBook.ID ) ) ;\n    \n    return mainMenu ;\n}\n\nprivate void showBook( String id ) {\n    System.out.println( &quot;MaC OS Cannot execute - Window OS Is OK&quot; ) ;\n    bookcase.showBook( id ) ;\n}\n</code></pre>\n<p>result: MacOS cannot execute , Event not triggered</p>\n<p>Window OS Is OK</p>\n"},{"tags":["java","web-services","soap","jetty","jax-ws"],"answers":[{"tags":[],"owner":{"account_id":3611807,"reputation":21,"user_id":3012627,"display_name":"chieuvh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638615389,"creation_date":1638615389,"answer_id":70224964,"question_id":37008953,"body_markdown":"You can  replace the existing Oracle‚Äôs Java HTTP Server implementation to an embedded Jetty by setting this property \r\n\r\n    System.setProperty(&quot;com.sun.net.httpserver.HttpServerProvider&quot;, &quot;org.eclipse.jetty.http.spi.JettyHttpServerProvider&quot;);\r\n\r\nMake sure you have added [jetty-http-spi jar][1] file on classpath\r\n\r\nThis code worked for me\r\n\r\n        ContentWsImplement contentImplement = new ContentWsImplement();\r\n        System.setProperty(&quot;com.sun.net.httpserver.HttpServerProvider&quot;, &quot;org.eclipse.jetty.http.spi.JettyHttpServerProvider&quot;);\r\n        Endpoint.publish(&quot;http://0.0.0.0:8000/services/getcontent&quot;, contentImplement);\r\n\r\nReplace *ContentWsImplement* with your web service implement\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.eclipse.jetty/jetty-http-spi","title":"JAX-WS and Embedded Jetty - Error when publishing Endpoint at the provided HttpContext","body":"<p>You can  replace the existing Oracle‚Äôs Java HTTP Server implementation to an embedded Jetty by setting this property</p>\n<pre><code>System.setProperty(&quot;com.sun.net.httpserver.HttpServerProvider&quot;, &quot;org.eclipse.jetty.http.spi.JettyHttpServerProvider&quot;);\n</code></pre>\n<p>Make sure you have added <a href=\"https://mvnrepository.com/artifact/org.eclipse.jetty/jetty-http-spi\" rel=\"nofollow noreferrer\">jetty-http-spi jar</a> file on classpath</p>\n<p>This code worked for me</p>\n<pre><code>    ContentWsImplement contentImplement = new ContentWsImplement();\n    System.setProperty(&quot;com.sun.net.httpserver.HttpServerProvider&quot;, &quot;org.eclipse.jetty.http.spi.JettyHttpServerProvider&quot;);\n    Endpoint.publish(&quot;http://0.0.0.0:8000/services/getcontent&quot;, contentImplement);\n</code></pre>\n<p>Replace <em>ContentWsImplement</em> with your web service implement</p>\n"}],"owner":{"account_id":8371203,"reputation":11,"user_id":6286275,"display_name":"David E"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1353,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638615389,"creation_date":1462291190,"question_id":37008953,"body_markdown":"We have a publish/subscribe WS application, on which we want to replace the existing Oracle‚Äôs Java HTTP Server implementation to an embedded Jetty one. Unfortunately, we are facing some troubles when we try to publish the web service, using the Endpoint.publish(HttpContext) call. As an additional information, that we are forced to use this call, we cannot use the Endpoint.publish(address) one.\r\n\r\nI have just created a test application in order to isolate the problem and ask for your advice. \r\n\r\nPlease find below the TestService class:\r\n\r\n    public class TestService {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        \r\n        int port = 8081;\r\n        String path = &quot;/myservice&quot;;\r\n        AsyncProvider&lt;Source&gt; internalProvider = new InternalProvider();\r\n        Endpoint endpoint = Endpoint.create(internalProvider);\r\n        \r\n       // Preparing the Service\r\n        URL wsdlLocation = TestService.class.getResource(&quot;NotificationService.wsdl&quot;);\r\n        Source source = null;\r\n        try {\r\n            source = new StreamSource(wsdlLocation.openStream());\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(TestService.class.getName()).log(Level.SEVERE, &quot;Couldn&#39;t open WSDL&quot;, ex);\r\n        }\r\n        source.setSystemId(wsdlLocation.toExternalForm());\r\n        List&lt;Source&gt; metadata = new ArrayList&lt;Source&gt;();\r\n        metadata.add(source);\r\n        endpoint.setMetadata(metadata);\r\n        QName serviceName = new QName(&quot;http://notification/&quot;, &quot;ConsumerService&quot;);\r\n        QName portName = new QName(&quot;http://notification/&quot;, &quot;ConsumerPort&quot;);\r\n        Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n        map.put(Endpoint.WSDL_SERVICE, serviceName);\r\n        map.put(Endpoint.WSDL_PORT, portName);\r\n        endpoint.setProperties(map);\r\n    \r\n        // This is the fragment of code that is replacing Oracle‚Äôs HTTP Server with Jetty\r\n        Server s = new Server(new InetSocketAddress(&quot;localhost&quot;, port));\r\n        ServerConnector connector = new ServerConnector(s);\r\n        connector.setReuseAddress(true);\r\n        connector.setPort(port);\r\n        s.setConnectors(new Connector[] {connector});\r\n        s.setHandler(new ContextHandlerCollection());\r\n        JettyHttpServer httpServer = new JettyHttpServer(s, false);\r\n        JettyHttpContext context = (JettyHttpContext) httpServer.createContext(path); // It‚Äôs seems that is not taking into account the path\r\n        endpoint.publish(context);        \r\n        httpServer.start();\r\n        \r\n        W3CEndpointReference providerEPR = (W3CEndpointReference)endpoint.getEndpointReference(); // Throws a NullPointerException when calling HttpEndpoint.getEPRAddress()\r\n        System.out.println(&quot;providerEPR: &quot; + providerEPR);  \r\n\r\n    }\r\n\r\n    @WebServiceProvider\r\n    @ServiceMode(value = javax.xml.ws.Service.Mode.PAYLOAD)\r\n    private final static class InternalProvider implements AsyncProvider&lt;Source&gt;{\r\n\r\n        @Override\r\n        public void invoke(Source t, AsyncProviderCallback&lt;Source&gt; apc, WebServiceContext wsc) {\r\n            processCall(t, apc, wsc);\r\n        }\r\n\r\n        private void processCall(Source t, AsyncProviderCallback&lt;Source&gt; apc, WebServiceContext wsc) {\r\n            // Process the Request and generate a reply\r\n             ‚Ä¶\r\n\r\n        }\r\n\r\n    }\r\n\r\nAnd here attached the Consumer Client:\r\n\r\n    public class ConsumerClient {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        Dispatch&lt;Source&gt; consumer;\r\n\r\n        //Get the Service\r\n        URL wsdURL = new URL(&quot;http://localhost:8081/myservice?wsdl&quot;);\r\n        QName serviceName = new QName(&quot;http://notification/&quot;, &quot;ConsumerService&quot;);\r\n        Service service = Service.create(wsdURL, serviceName);\r\n\r\n        //Get the Dispatch\r\n        QName portName = new QName(&quot;http://notification/&quot;, &quot;ConsumerPort&quot;);\r\n        consumer = service.createDispatch(portName, Source.class, Service.Mode.PAYLOAD);\r\n\r\n        //ProducerService - Subscribe\r\n        String message = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot;\r\n                + &quot;&lt;not:subscribe xmlns:not=\\&quot;http://notification/\\&quot; xmlns:S=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:wsa=\\&quot;http://www.w3.org/2005/08/addressing\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;&quot;\r\n                + &quot;&lt;name&gt;Peter&lt;/name&gt;&quot;\r\n                + &quot;&lt;epr&gt; &lt;Address xmlns=\\&quot;http://www.w3.org/2005/08/addressing\\&quot;&gt;http://localhost:8081/myservice&lt;/Address&gt;&quot;\r\n                + &quot;&lt;Metadata xmlns=\\&quot;http://www.w3.org/2005/08/addressing\\&quot; xmlns:wsdli=\\&quot;http://www.w3.org/ns/wsdl-instance\\&quot; wsdli:wsdlLocation=\\&quot;http://notification/ http://localhost:8081/myservice?wsdl\\&quot;&gt;&quot;\r\n                + &quot;&lt;wsam:InterfaceName xmlns:wsam=\\&quot;http://www.w3.org/2007/05/addressing/metadata\\&quot; xmlns:wsaw=\\&quot;http://www.w3.org/2006/05/addressing/wsdl\\&quot; xmlns:wsns=\\&quot;http://notification/\\&quot;&gt;wsns:Consumer&lt;/wsam:InterfaceName&gt;&quot;\r\n                + &quot;&lt;wsam:ServiceName xmlns:wsam=\\&quot;http://www.w3.org/2007/05/addressing/metadata\\&quot; xmlns:wsaw=\\&quot;http://www.w3.org/2006/05/addressing/wsdl\\&quot; xmlns:wsns=\\&quot;http://notification/\\&quot; EndpointName=\\&quot;ConsumerPort\\&quot;&gt;wsns:ConsumerService&lt;/wsam:ServiceName&gt;&quot;\r\n                + &quot;&lt;/Metadata&gt; &lt;/epr&gt; &lt;/not:subscribe&gt; &quot;;\r\n\r\n        System.out.println(&quot;[ConsumerClient] Sending Subscribe Message&quot;);\r\n\r\n        Source res = consumer.invoke(new StreamSource(new StringReader(message)));   // Here is where it crashes cause it cannot find the service (com.sun.xml.ws.client.ClientTransportException: The server sent HTTP status code 404: Not Found)\r\n\r\n        System.out.println(&quot;[ConsumerClient] Received Response:&quot;);\r\n\r\n        Transformer transformer = TransformerFactory.newInstance().newTransformer();\r\n        Result output = new StreamResult(System.out);\r\n        transformer.transform(res, output);\r\n\r\n    }\r\n\r\n\r\nI attach the logs we get below\r\n\r\nOn the server side\r\n\r\n    2016-05-03 17:14:24.374:INFO::main: Logging initialized @759ms\r\n    May 03, 2016 5:14:29 PM com.sun.xml.ws.server.MonitorBase createRoot\r\n    INFO: Metro monitoring rootname successfully set to: com.sun.metro:pp=/,type=WSEndpoint,name=ConsumerService-ConsumerPort\r\n    2016-05-03 17:14:30.317:INFO:oejs.Server:main: jetty-9.2.15.v20160210\r\n    2016-05-03 17:14:30.437:INFO:oejsh.ContextHandler:main: Started o.e.j.h.s.HttpSpiContextHandler@557db906{/myservice,null,AVAILABLE}\r\n    2016-05-03 17:14:30.494:INFO:oejs.ServerConnector:main: Started ServerConnector@44e8195b{HTTP/1.1}{0.0.0.0:8081}\r\n    2016-05-03 17:14:30.495:INFO:oejs.Server:main: Started @6883ms\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat com.sun.xml.ws.transport.http.server.HttpEndpoint.getEPRAddress(HttpEndpoint.java:104)\r\n\tat com.sun.xml.ws.transport.http.server.HttpEndpoint.getEndpointReference(HttpEndpoint.java:135)\r\n\tat com.sun.xml.ws.transport.http.server.EndpointImpl.getEndpointReference(EndpointImpl.java:348)\r\n\tat com.sun.xml.ws.transport.http.server.EndpointImpl.getEndpointReference(EndpointImpl.java:341)\r\n\tat fr.endpoint.TestService.main(TestService.java:111)\r\n\r\n\r\nOn the client side\r\n\r\n    2016-05-03 17:14:39.518:INFO::main: Logging initialized @2297ms\r\n    [ConsumerClient] Sending Subscribe Message\r\n    Exception in thread &quot;main&quot; com.sun.xml.ws.client.ClientTransportException: The server sent HTTP status code 404: Not Found\r\n\tat com.sun.xml.ws.transport.http.client.HttpTransportPipe.checkStatusCode(HttpTransportPipe.java:222)\r\n\tat com.sun.xml.ws.transport.http.client.HttpTransportPipe.process(HttpTransportPipe.java:179)\r\n\tat com.sun.xml.ws.transport.http.client.HttpTransportPipe.processRequest(HttpTransportPipe.java:93)\r\n\tat com.sun.xml.ws.transport.DeferredTransportPipe.processRequest(DeferredTransportPipe.java:105)\r\n\tat com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:629)\r\n\tat com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:588)\r\n\tat com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:573)\r\n\tat com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:470)\r\n\tat com.sun.xml.ws.client.Stub.process(Stub.java:319)\r\n\tat com.sun.xml.ws.client.dispatch.DispatchImpl.doInvoke(DispatchImpl.java:189)\r\n\tat com.sun.xml.ws.client.dispatch.DispatchImpl.invoke(DispatchImpl.java:215)\r\n\tat fr.endpoint.ConsumerClient.main(ConsumerClient.java:54)\r\n\r\n\r\nWhat are we missing when setting the context for this Endpoint? Or maybe it‚Äôs because we don‚Äôt initialize correctly the Jetty HttpServer? \r\n\r\nI wasn‚Äôt able to find a lot of documentation regarding the integration of JAX-WS and Jetty. We‚Äôll really appreciate if you can give us any hint and advice.\r\n\r\nWe are using Metro 2.3 as JAX-WS RI , Jetty 9.2.15, Java 1.7 (jdk1.7.0_21) and Netbeans 8.0.2.\r\n\r\nThanks for your time\r\n\r\nDavid\r\n","title":"JAX-WS and Embedded Jetty - Error when publishing Endpoint at the provided HttpContext","body":"<p>We have a publish/subscribe WS application, on which we want to replace the existing Oracle‚Äôs Java HTTP Server implementation to an embedded Jetty one. Unfortunately, we are facing some troubles when we try to publish the web service, using the Endpoint.publish(HttpContext) call. As an additional information, that we are forced to use this call, we cannot use the Endpoint.publish(address) one.</p>\n\n<p>I have just created a test application in order to isolate the problem and ask for your advice. </p>\n\n<p>Please find below the TestService class:</p>\n\n<pre><code>public class TestService {\n\npublic static void main(String[] args) throws IOException {\n\n    int port = 8081;\n    String path = \"/myservice\";\n    AsyncProvider&lt;Source&gt; internalProvider = new InternalProvider();\n    Endpoint endpoint = Endpoint.create(internalProvider);\n\n   // Preparing the Service\n    URL wsdlLocation = TestService.class.getResource(\"NotificationService.wsdl\");\n    Source source = null;\n    try {\n        source = new StreamSource(wsdlLocation.openStream());\n    } catch (IOException ex) {\n        Logger.getLogger(TestService.class.getName()).log(Level.SEVERE, \"Couldn't open WSDL\", ex);\n    }\n    source.setSystemId(wsdlLocation.toExternalForm());\n    List&lt;Source&gt; metadata = new ArrayList&lt;Source&gt;();\n    metadata.add(source);\n    endpoint.setMetadata(metadata);\n    QName serviceName = new QName(\"http://notification/\", \"ConsumerService\");\n    QName portName = new QName(\"http://notification/\", \"ConsumerPort\");\n    Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\n    map.put(Endpoint.WSDL_SERVICE, serviceName);\n    map.put(Endpoint.WSDL_PORT, portName);\n    endpoint.setProperties(map);\n\n    // This is the fragment of code that is replacing Oracle‚Äôs HTTP Server with Jetty\n    Server s = new Server(new InetSocketAddress(\"localhost\", port));\n    ServerConnector connector = new ServerConnector(s);\n    connector.setReuseAddress(true);\n    connector.setPort(port);\n    s.setConnectors(new Connector[] {connector});\n    s.setHandler(new ContextHandlerCollection());\n    JettyHttpServer httpServer = new JettyHttpServer(s, false);\n    JettyHttpContext context = (JettyHttpContext) httpServer.createContext(path); // It‚Äôs seems that is not taking into account the path\n    endpoint.publish(context);        \n    httpServer.start();\n\n    W3CEndpointReference providerEPR = (W3CEndpointReference)endpoint.getEndpointReference(); // Throws a NullPointerException when calling HttpEndpoint.getEPRAddress()\n    System.out.println(\"providerEPR: \" + providerEPR);  \n\n}\n\n@WebServiceProvider\n@ServiceMode(value = javax.xml.ws.Service.Mode.PAYLOAD)\nprivate final static class InternalProvider implements AsyncProvider&lt;Source&gt;{\n\n    @Override\n    public void invoke(Source t, AsyncProviderCallback&lt;Source&gt; apc, WebServiceContext wsc) {\n        processCall(t, apc, wsc);\n    }\n\n    private void processCall(Source t, AsyncProviderCallback&lt;Source&gt; apc, WebServiceContext wsc) {\n        // Process the Request and generate a reply\n         ‚Ä¶\n\n    }\n\n}\n</code></pre>\n\n<p>And here attached the Consumer Client:</p>\n\n<pre><code>public class ConsumerClient {\n\npublic static void main(String[] args) throws Exception {\n\n    Dispatch&lt;Source&gt; consumer;\n\n    //Get the Service\n    URL wsdURL = new URL(\"http://localhost:8081/myservice?wsdl\");\n    QName serviceName = new QName(\"http://notification/\", \"ConsumerService\");\n    Service service = Service.create(wsdURL, serviceName);\n\n    //Get the Dispatch\n    QName portName = new QName(\"http://notification/\", \"ConsumerPort\");\n    consumer = service.createDispatch(portName, Source.class, Service.Mode.PAYLOAD);\n\n    //ProducerService - Subscribe\n    String message = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;\"\n            + \"&lt;not:subscribe xmlns:not=\\\"http://notification/\\\" xmlns:S=\\\"http://schemas.xmlsoap.org/soap/envelope/\\\" xmlns:wsa=\\\"http://www.w3.org/2005/08/addressing\\\" xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\"&gt;\"\n            + \"&lt;name&gt;Peter&lt;/name&gt;\"\n            + \"&lt;epr&gt; &lt;Address xmlns=\\\"http://www.w3.org/2005/08/addressing\\\"&gt;http://localhost:8081/myservice&lt;/Address&gt;\"\n            + \"&lt;Metadata xmlns=\\\"http://www.w3.org/2005/08/addressing\\\" xmlns:wsdli=\\\"http://www.w3.org/ns/wsdl-instance\\\" wsdli:wsdlLocation=\\\"http://notification/ http://localhost:8081/myservice?wsdl\\\"&gt;\"\n            + \"&lt;wsam:InterfaceName xmlns:wsam=\\\"http://www.w3.org/2007/05/addressing/metadata\\\" xmlns:wsaw=\\\"http://www.w3.org/2006/05/addressing/wsdl\\\" xmlns:wsns=\\\"http://notification/\\\"&gt;wsns:Consumer&lt;/wsam:InterfaceName&gt;\"\n            + \"&lt;wsam:ServiceName xmlns:wsam=\\\"http://www.w3.org/2007/05/addressing/metadata\\\" xmlns:wsaw=\\\"http://www.w3.org/2006/05/addressing/wsdl\\\" xmlns:wsns=\\\"http://notification/\\\" EndpointName=\\\"ConsumerPort\\\"&gt;wsns:ConsumerService&lt;/wsam:ServiceName&gt;\"\n            + \"&lt;/Metadata&gt; &lt;/epr&gt; &lt;/not:subscribe&gt; \";\n\n    System.out.println(\"[ConsumerClient] Sending Subscribe Message\");\n\n    Source res = consumer.invoke(new StreamSource(new StringReader(message)));   // Here is where it crashes cause it cannot find the service (com.sun.xml.ws.client.ClientTransportException: The server sent HTTP status code 404: Not Found)\n\n    System.out.println(\"[ConsumerClient] Received Response:\");\n\n    Transformer transformer = TransformerFactory.newInstance().newTransformer();\n    Result output = new StreamResult(System.out);\n    transformer.transform(res, output);\n\n}\n</code></pre>\n\n<p>I attach the logs we get below</p>\n\n<p>On the server side</p>\n\n<pre><code>2016-05-03 17:14:24.374:INFO::main: Logging initialized @759ms\nMay 03, 2016 5:14:29 PM com.sun.xml.ws.server.MonitorBase createRoot\nINFO: Metro monitoring rootname successfully set to: com.sun.metro:pp=/,type=WSEndpoint,name=ConsumerService-ConsumerPort\n2016-05-03 17:14:30.317:INFO:oejs.Server:main: jetty-9.2.15.v20160210\n2016-05-03 17:14:30.437:INFO:oejsh.ContextHandler:main: Started o.e.j.h.s.HttpSpiContextHandler@557db906{/myservice,null,AVAILABLE}\n2016-05-03 17:14:30.494:INFO:oejs.ServerConnector:main: Started ServerConnector@44e8195b{HTTP/1.1}{0.0.0.0:8081}\n2016-05-03 17:14:30.495:INFO:oejs.Server:main: Started @6883ms\nException in thread \"main\" java.lang.NullPointerException\nat com.sun.xml.ws.transport.http.server.HttpEndpoint.getEPRAddress(HttpEndpoint.java:104)\nat com.sun.xml.ws.transport.http.server.HttpEndpoint.getEndpointReference(HttpEndpoint.java:135)\nat com.sun.xml.ws.transport.http.server.EndpointImpl.getEndpointReference(EndpointImpl.java:348)\nat com.sun.xml.ws.transport.http.server.EndpointImpl.getEndpointReference(EndpointImpl.java:341)\nat fr.endpoint.TestService.main(TestService.java:111)\n</code></pre>\n\n<p>On the client side</p>\n\n<pre><code>2016-05-03 17:14:39.518:INFO::main: Logging initialized @2297ms\n[ConsumerClient] Sending Subscribe Message\nException in thread \"main\" com.sun.xml.ws.client.ClientTransportException: The server sent HTTP status code 404: Not Found\nat com.sun.xml.ws.transport.http.client.HttpTransportPipe.checkStatusCode(HttpTransportPipe.java:222)\nat com.sun.xml.ws.transport.http.client.HttpTransportPipe.process(HttpTransportPipe.java:179)\nat com.sun.xml.ws.transport.http.client.HttpTransportPipe.processRequest(HttpTransportPipe.java:93)\nat com.sun.xml.ws.transport.DeferredTransportPipe.processRequest(DeferredTransportPipe.java:105)\nat com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:629)\nat com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:588)\nat com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:573)\nat com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:470)\nat com.sun.xml.ws.client.Stub.process(Stub.java:319)\nat com.sun.xml.ws.client.dispatch.DispatchImpl.doInvoke(DispatchImpl.java:189)\nat com.sun.xml.ws.client.dispatch.DispatchImpl.invoke(DispatchImpl.java:215)\nat fr.endpoint.ConsumerClient.main(ConsumerClient.java:54)\n</code></pre>\n\n<p>What are we missing when setting the context for this Endpoint? Or maybe it‚Äôs because we don‚Äôt initialize correctly the Jetty HttpServer? </p>\n\n<p>I wasn‚Äôt able to find a lot of documentation regarding the integration of JAX-WS and Jetty. We‚Äôll really appreciate if you can give us any hint and advice.</p>\n\n<p>We are using Metro 2.3 as JAX-WS RI , Jetty 9.2.15, Java 1.7 (jdk1.7.0_21) and Netbeans 8.0.2.</p>\n\n<p>Thanks for your time</p>\n\n<p>David</p>\n"},{"tags":["java","mapping","adapter","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638614992,"creation_date":1638614992,"answer_id":70224933,"question_id":70195541,"body_markdown":"First of all: you should follow Java conventions in your field naming make fields private (there are getters and setters), so name your fields starting like:\r\n\r\n\tprivate String equipmentNumber;\r\n\tprivate ErrorDesc equipmentNumber;\r\n\tprivate value;\r\n\r\nHowever this is not so important but my example uses such naming. The following thing is more important.\r\n\r\nThe most powerful feature (at leas IMO) is that **ModelMapper** can associate data when some suitable convention is used in field naming without any configuration. For example if you had your `InputMsg` like:\r\n\r\n\t@Getter @Setter\r\n\tpublic InputMsg {\r\n\t\tprivate String equipmentNumberValue;\r\n\t}\r\n\r\nthe mapping would be straightforward and work without any configuration. So with a proper design you can reduce a bunch of boilerplate code.\r\n\r\nNow (IMO) people usually use terms _mapper_ &amp; _adapter_ interchangeably. But they are not exactly the same thing, see for example [this question](https://stackoverflow.com/q/42120946/6413377). Mapper can use adapter as you have configured in your ModelMapper configuration.\r\n\r\nThe thing is that no mapper can make complex/arbitrary adaptations from class A to class B without explicitly telling it how to adapt and it requires an adapter. There is no workaround other than make an adapter that ModelMapper uses and if it needs to handle 100 field it has to. Depending on the case it might be able to be done in some generic way but it could make the code harder to understand.\r\n\r\nAlso if you need to code lots of adapter code for ModelMapper to use maybe the whole thing would be more clear if it was done without ModelMapper.\r\n\r\nSo if possible try to change your design so that ModelMapper can associate it by itself instead of coding lots of adapting code.\r\n\r\nBut with a proper design and following conventions that mapper understands good mapper can adapt something like in my example.","title":"Best way to use ModelMapper in my scenario","body":"<p>First of all: you should follow Java conventions in your field naming make fields private (there are getters and setters), so name your fields starting like:</p>\n<pre><code>private String equipmentNumber;\nprivate ErrorDesc equipmentNumber;\nprivate value;\n</code></pre>\n<p>However this is not so important but my example uses such naming. The following thing is more important.</p>\n<p>The most powerful feature (at leas IMO) is that <strong>ModelMapper</strong> can associate data when some suitable convention is used in field naming without any configuration. For example if you had your <code>InputMsg</code> like:</p>\n<pre><code>@Getter @Setter\npublic InputMsg {\n    private String equipmentNumberValue;\n}\n</code></pre>\n<p>the mapping would be straightforward and work without any configuration. So with a proper design you can reduce a bunch of boilerplate code.</p>\n<p>Now (IMO) people usually use terms <em>mapper</em> &amp; <em>adapter</em> interchangeably. But they are not exactly the same thing, see for example <a href=\"https://stackoverflow.com/q/42120946/6413377\">this question</a>. Mapper can use adapter as you have configured in your ModelMapper configuration.</p>\n<p>The thing is that no mapper can make complex/arbitrary adaptations from class A to class B without explicitly telling it how to adapt and it requires an adapter. There is no workaround other than make an adapter that ModelMapper uses and if it needs to handle 100 field it has to. Depending on the case it might be able to be done in some generic way but it could make the code harder to understand.</p>\n<p>Also if you need to code lots of adapter code for ModelMapper to use maybe the whole thing would be more clear if it was done without ModelMapper.</p>\n<p>So if possible try to change your design so that ModelMapper can associate it by itself instead of coding lots of adapting code.</p>\n<p>But with a proper design and following conventions that mapper understands good mapper can adapt something like in my example.</p>\n"}],"owner":{"account_id":23521880,"reputation":1,"user_id":17568893,"display_name":"mrinal kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638615176,"creation_date":1638430124,"question_id":70195541,"body_markdown":"Started working on java spring boot for a project requirement\r\nI want to understand what is the best way to use ModelMapper for my scenario. \r\n\r\nI have a model **InputMsg**:\r\n\r\n    public class InputMsg {\r\n        String EquipmentNumber;\r\n        //getters setters\r\n    }\r\n\r\nFurther, I have two DTOs **OutputMsg** and **ErrorDesc**\r\n\r\n    public class OutputMsg {\r\n        public ErrorDesc EquipmentNumber;\r\n       //getters setters\r\n    }\r\n\r\n    public class ErrorDesc {\r\n        String Value;\r\n        //getters setters\r\n    }\r\n\r\nMy requirement is to use the incoming input message and finally return a result in the **OutputMsg** format which I can further take to do some other calculations. \r\n\r\neg. InputMsg -- &quot;ABCD1234&quot;\r\n    OutputMsg :  EquipmentNumber.value = &quot;ABCD1234&quot;\r\n  \r\nWhat I have used is something like this with ModelMapper is :\r\n\r\n    ModelMapper modelMapper = new ModelMapper();\r\n    PropertyMap &lt;InputMsg, OutputMsg&gt; orderMap = \r\n            new PropertyMap &lt;InputMsg,OutputMsg&gt;() {\r\n    \t\t\t  protected void configure() {\r\n                    OutputMsg.getEquipmentNumber()\r\n                        .setValue(InputMsg.getEquipmentNumber());\r\n                    }\r\n        modelMapper.addMappings(orderMap);\r\n        return OutputMsg;\r\n    }};\r\n\r\nThe Problem I see is if I have 100&#39;s of property i will have to write a 100 lines of code to map it. \r\n\r\nHow can i do it in a better way to automatically map the InputMsg value to Output.Msg\r\n\r\nHelp is appreciated\r\nRegards\r\n\r\n","title":"Best way to use ModelMapper in my scenario","body":"<p>Started working on java spring boot for a project requirement\nI want to understand what is the best way to use ModelMapper for my scenario.</p>\n<p>I have a model <strong>InputMsg</strong>:</p>\n<pre><code>public class InputMsg {\n    String EquipmentNumber;\n    //getters setters\n}\n</code></pre>\n<p>Further, I have two DTOs <strong>OutputMsg</strong> and <strong>ErrorDesc</strong></p>\n<pre><code>public class OutputMsg {\n    public ErrorDesc EquipmentNumber;\n   //getters setters\n}\n\npublic class ErrorDesc {\n    String Value;\n    //getters setters\n}\n</code></pre>\n<p>My requirement is to use the incoming input message and finally return a result in the <strong>OutputMsg</strong> format which I can further take to do some other calculations.</p>\n<p>eg. InputMsg -- &quot;ABCD1234&quot;\nOutputMsg :  EquipmentNumber.value = &quot;ABCD1234&quot;</p>\n<p>What I have used is something like this with ModelMapper is :</p>\n<pre><code>ModelMapper modelMapper = new ModelMapper();\nPropertyMap &lt;InputMsg, OutputMsg&gt; orderMap = \n        new PropertyMap &lt;InputMsg,OutputMsg&gt;() {\n              protected void configure() {\n                OutputMsg.getEquipmentNumber()\n                    .setValue(InputMsg.getEquipmentNumber());\n                }\n    modelMapper.addMappings(orderMap);\n    return OutputMsg;\n}};\n</code></pre>\n<p>The Problem I see is if I have 100's of property i will have to write a 100 lines of code to map it.</p>\n<p>How can i do it in a better way to automatically map the InputMsg value to Output.Msg</p>\n<p>Help is appreciated\nRegards</p>\n"},{"tags":["java","web-services","soap","jetty","jax-ws"],"comments":[{"owner":{"account_id":6273150,"reputation":326,"user_id":4876728,"display_name":"DBE"},"score":0,"creation_date":1469303497,"post_id":32401214,"comment_id":64483466,"body_markdown":"Late but maybe this can help: [http://stackoverflow.com/questions/36418158/embedded-jetty-adding-context-after-starting-jetty-server/38530242#38530242] (see second code listing.)","body":"Late but maybe this can help: [<a href=\"http://stackoverflow.com/questions/36418158/embedded-jetty-adding-context-after-starting-jetty-server/38530242#38530242]\" title=\"embedded jetty adding context after starting jetty server\">stackoverflow.com/questions/36418158/&hellip;</a> (see second code listing.)"}],"answers":[{"tags":[],"owner":{"account_id":3611807,"reputation":21,"user_id":3012627,"display_name":"chieuvh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638614732,"creation_date":1638614732,"answer_id":70224910,"question_id":32401214,"body_markdown":"You can run soap web service with embedded jetty by override default HttpServerProvider property. Make sure that you have added [jetty-http-spi][1] jar file on classpath\r\n\r\n    System.setProperty(&quot;com.sun.net.httpserver.HttpServerProvider&quot;, &quot;org.eclipse.jetty.http.spi.JettyHttpServerProvider&quot;);\r\n\r\norg.eclipse.jetty.http.spi.JettyHttpServerProvider is an [implementation of Java HTTP Server SPI][2] provided by [Jetty][3]\r\n\r\nYou can verify if the server running is jetty by looking at Server response header.\r\nThis code worked for me\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        ContentWsImplement contentImplement = new ContentWsImplement();\r\n        System.setProperty(&quot;com.sun.net.httpserver.HttpServerProvider&quot;, &quot;org.eclipse.jetty.http.spi.JettyHttpServerProvider&quot;);\r\n        Endpoint.publish(&quot;http://0.0.0.0:8000/services/getcontent&quot;, contentImplement);\r\n    }\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.eclipse.jetty/jetty-http-spi\r\n  [2]: http://java.sun.com/javase/6/docs/jre/api/net/httpserver/spec/index.html\r\n  [3]: https://archive.eclipse.org/jetty/7.6.0.RC5/apidocs/org/eclipse/jetty/http/spi/JettyHttpServerProvider.html","title":"Howto run soap web service on jetty?","body":"<p>You can run soap web service with embedded jetty by override default HttpServerProvider property. Make sure that you have added <a href=\"https://mvnrepository.com/artifact/org.eclipse.jetty/jetty-http-spi\" rel=\"nofollow noreferrer\">jetty-http-spi</a> jar file on classpath</p>\n<pre><code>System.setProperty(&quot;com.sun.net.httpserver.HttpServerProvider&quot;, &quot;org.eclipse.jetty.http.spi.JettyHttpServerProvider&quot;);\n</code></pre>\n<p>org.eclipse.jetty.http.spi.JettyHttpServerProvider is an <a href=\"http://java.sun.com/javase/6/docs/jre/api/net/httpserver/spec/index.html\" rel=\"nofollow noreferrer\">implementation of Java HTTP Server SPI</a> provided by <a href=\"https://archive.eclipse.org/jetty/7.6.0.RC5/apidocs/org/eclipse/jetty/http/spi/JettyHttpServerProvider.html\" rel=\"nofollow noreferrer\">Jetty</a></p>\n<p>You can verify if the server running is jetty by looking at Server response header.\nThis code worked for me</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    ContentWsImplement contentImplement = new ContentWsImplement();\n    System.setProperty(&quot;com.sun.net.httpserver.HttpServerProvider&quot;, &quot;org.eclipse.jetty.http.spi.JettyHttpServerProvider&quot;);\n    Endpoint.publish(&quot;http://0.0.0.0:8000/services/getcontent&quot;, contentImplement);\n}\n</code></pre>\n"}],"owner":{"account_id":200910,"reputation":3887,"user_id":447040,"accept_rate":66,"display_name":"Gobliins"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4037,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1638614732,"creation_date":1441379029,"question_id":32401214,"body_markdown":"i am struggeling to have a soap webservice run on my embedded jetty server.\r\n\r\nI followed this german tutorial (which ofc didnt work):\r\nhttp://www.torsten-horn.de/techdocs/jee-jax-ws.htm#Deployment-im-Webserver\r\n\r\n\r\nRelevant code pieces:\r\n\r\n    Endpoint ep = Endpoint.publish( url, new BuecherServiceImpl() );\r\n    int anzahlBuecherResult = TestWsClient.test( &quot;WsMitEndpointIntegrTest&quot;, url, 4000000000L, anzahlBuecher, true );\r\n\r\n\r\n    public static int test( String testName, String url, long startIsbn, int anzahlBuecher, boolean trace ) throws Exception\r\n    {\r\n      BuecherServiceIntf buecherService;\r\n      if( url.equalsIgnoreCase( &quot;direkt&quot; ) ) {\r\n         buecherService = new BuecherServiceImpl();\r\n      } else {\r\n         System.out.println( testName + &quot;: &quot; + url );\r\n         Service service = null;\r\n         int timeoutSekunden = 20;\r\n         while( service == null ) {\r\n            try {\r\n               //here the Exception occurs, maybe because of a wrong qname\r\n               service = Service.create(\r\n                     new URL( url + &quot;?wsdl&quot; ),\r\n                     new QName( &quot;http://soap.apachecxf/&quot; , &quot;BuecherServiceImplService&quot; ) );\r\n            } catch( WebServiceException ex ) {\r\n               if( timeoutSekunden-- &lt;= 0 ) throw ex;\r\n               try { Thread.sleep( 1000 ); } catch( InterruptedException e ) {/*ok*/}\r\n            }\r\n         }\r\n         buecherService = service.getPort( BuecherServiceIntf.class );\r\n      }\r\n\r\nsun-jaxws.xml\r\n\r\n    &lt;endpoints version=&quot;2.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/jax-ws/ri/runtime&quot;&gt;\r\n\r\n    &lt;endpoint name=&quot;BuecherService&quot; implementation=&quot;soap.apachecxf.BuecherServiceImpl&quot; url-pattern=&quot;/ws/BuecherService&quot; /&gt;\r\n\r\n    &lt;/endpoints&gt;\r\n\r\nCan somebody provide me with some help here?\r\n\r\n","title":"Howto run soap web service on jetty?","body":"<p>i am struggeling to have a soap webservice run on my embedded jetty server.</p>\n\n<p>I followed this german tutorial (which ofc didnt work):\n<a href=\"http://www.torsten-horn.de/techdocs/jee-jax-ws.htm#Deployment-im-Webserver\" rel=\"noreferrer\">http://www.torsten-horn.de/techdocs/jee-jax-ws.htm#Deployment-im-Webserver</a></p>\n\n<p>Relevant code pieces:</p>\n\n<pre><code>Endpoint ep = Endpoint.publish( url, new BuecherServiceImpl() );\nint anzahlBuecherResult = TestWsClient.test( \"WsMitEndpointIntegrTest\", url, 4000000000L, anzahlBuecher, true );\n\n\npublic static int test( String testName, String url, long startIsbn, int anzahlBuecher, boolean trace ) throws Exception\n{\n  BuecherServiceIntf buecherService;\n  if( url.equalsIgnoreCase( \"direkt\" ) ) {\n     buecherService = new BuecherServiceImpl();\n  } else {\n     System.out.println( testName + \": \" + url );\n     Service service = null;\n     int timeoutSekunden = 20;\n     while( service == null ) {\n        try {\n           //here the Exception occurs, maybe because of a wrong qname\n           service = Service.create(\n                 new URL( url + \"?wsdl\" ),\n                 new QName( \"http://soap.apachecxf/\" , \"BuecherServiceImplService\" ) );\n        } catch( WebServiceException ex ) {\n           if( timeoutSekunden-- &lt;= 0 ) throw ex;\n           try { Thread.sleep( 1000 ); } catch( InterruptedException e ) {/*ok*/}\n        }\n     }\n     buecherService = service.getPort( BuecherServiceIntf.class );\n  }\n</code></pre>\n\n<p>sun-jaxws.xml</p>\n\n<pre><code>&lt;endpoints version=\"2.0\" xmlns=\"http://java.sun.com/xml/ns/jax-ws/ri/runtime\"&gt;\n\n&lt;endpoint name=\"BuecherService\" implementation=\"soap.apachecxf.BuecherServiceImpl\" url-pattern=\"/ws/BuecherService\" /&gt;\n\n&lt;/endpoints&gt;\n</code></pre>\n\n<p>Can somebody provide me with some help here?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1393252539,"post_id":21990742,"comment_id":33326329,"body_markdown":"Where is the method invocation? In the middle of a class definition?","body":"Where is the method invocation? In the middle of a class definition?"},{"owner":{"account_id":1615706,"reputation":5192,"user_id":1493480,"accept_rate":73,"display_name":"Mistu4u"},"score":0,"creation_date":1393252805,"post_id":21990742,"comment_id":33326515,"body_markdown":"@SotiriosDelimanolis, I did not get you properly. As you see I am learning now..it will be easier for me if you expand on your comment.","body":"@SotiriosDelimanolis, I did not get you properly. As you see I am learning now..it will be easier for me if you expand on your comment."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1393252808,"post_id":21990742,"comment_id":33326518,"body_markdown":"The tutorial does not have that code directly inside a class body.","body":"The tutorial does not have that code directly inside a class body."},{"owner":{"account_id":1615706,"reputation":5192,"user_id":1493480,"accept_rate":73,"display_name":"Mistu4u"},"score":0,"creation_date":1393252848,"post_id":21990742,"comment_id":33326549,"body_markdown":"Which method should I invoke and where?","body":"Which method should I invoke and where?"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1393252899,"post_id":21990742,"comment_id":33326591,"body_markdown":"[Go through proper tutorials first](http://docs.oracle.com/javase/tutorial/java/javaOO/methods.html). Learn the Java basics before you move to multi-threading.","body":"<a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"nofollow noreferrer\">Go through proper tutorials first</a>. Learn the Java basics before you move to multi-threading."},{"owner":{"account_id":1615706,"reputation":5192,"user_id":1493480,"accept_rate":73,"display_name":"Mistu4u"},"score":0,"creation_date":1393253067,"post_id":21990742,"comment_id":33326731,"body_markdown":"@SotiriosDelimanolis, I am sorry but I have to disagree with you. Instead of clearing which method I should invoke, you cited another tutorial and changed the discussion. I am still pointless about which method you are talking about. I know how methods work.","body":"@SotiriosDelimanolis, I am sorry but I have to disagree with you. Instead of clearing which method I should invoke, you cited another tutorial and changed the discussion. I am still pointless about which method you are talking about. I know how methods work."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1393253183,"post_id":21990742,"comment_id":33326814,"body_markdown":"[See here](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.1.6) about what is allowed in a class body. You can&#39;t execute code directly like `ts.start()` in the class body.","body":"<a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.1.6\" rel=\"nofollow noreferrer\">See here</a> about what is allowed in a class body. You can&#39;t execute code directly like <code>ts.start()</code> in the class body."}],"answers":[{"tags":[],"owner":{"account_id":341092,"reputation":2140,"user_id":3075037,"display_name":"Jakub H"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393252620,"creation_date":1393252620,"answer_id":21990789,"question_id":21990742,"body_markdown":"You can&#39;t start your method inside class. Create some method first.","title":"Getting error in Eclipse: syntax error on token start identifier expected","body":"<p>You can't start your method inside class. Create some method first.</p>\n"},{"tags":[],"owner":{"account_id":3881498,"reputation":1088,"user_id":3213851,"accept_rate":37,"display_name":"user3213851"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393253814,"creation_date":1393253814,"answer_id":21991245,"question_id":21990742,"body_markdown":"Are you defining both of your classes in the same java file?. If so, you define both the classes in different java files naming Thread_show and Thread_definition. Then inside Thread_definition you can create an object of Thread_show and call its function.","title":"Getting error in Eclipse: syntax error on token start identifier expected","body":"<p>Are you defining both of your classes in the same java file?. If so, you define both the classes in different java files naming Thread_show and Thread_definition. Then inside Thread_definition you can create an object of Thread_show and call its function.</p>\n"},{"tags":[],"owner":{"account_id":1615706,"reputation":5192,"user_id":1493480,"accept_rate":73,"display_name":"Mistu4u"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1393256262,"creation_date":1393256262,"answer_id":21992137,"question_id":21990742,"body_markdown":"Found a very bad mistake done my me. Forgot to add `public static void main(String args[])` in the Thread_Definition class.","title":"Getting error in Eclipse: syntax error on token start identifier expected","body":"<p>Found a very bad mistake done my me. Forgot to add <code>public static void main(String args[])</code> in the Thread_Definition class.</p>\n"},{"tags":[],"owner":{"account_id":20560203,"reputation":1,"user_id":15090881,"display_name":"abhishek fasate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638614461,"creation_date":1638614461,"answer_id":70224875,"question_id":21990742,"body_markdown":"    ADD main method-public static void main(String[] args) \r\n    \r\n    package threadshow;\r\n    \r\n    public class Thread_Show extends Thread\r\n    {\r\n    public void run()\r\n    {\r\n        System.out.println(&quot;Inside the thread&quot;);\r\n    }\r\n    }\r\n    \r\n     class Thread_Definition\r\n    {\r\n    public static void main(String[] args)\r\n    {\r\n    Thread_Show ts=new Thread_Show();\r\n    ts.start();  \r\n    }\r\n    }","title":"Getting error in Eclipse: syntax error on token start identifier expected","body":"<pre><code>ADD main method-public static void main(String[] args) \n\npackage threadshow;\n\npublic class Thread_Show extends Thread\n{\npublic void run()\n{\n    System.out.println(&quot;Inside the thread&quot;);\n}\n}\n\n class Thread_Definition\n{\npublic static void main(String[] args)\n{\nThread_Show ts=new Thread_Show();\nts.start();  \n}\n}\n</code></pre>\n"}],"owner":{"account_id":1615706,"reputation":5192,"user_id":1493480,"accept_rate":73,"display_name":"Mistu4u"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17886,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":21992137,"answer_count":4,"score":-1,"last_activity_date":1638614461,"creation_date":1393252486,"question_id":21990742,"body_markdown":"I am getting a strange error while creating a simple thread program in JAVA using Eclipse. The code is:\r\n    \r\n    package threadshow;\r\n\r\n    public class Thread_Show extends Thread{\r\n\r\n\tpublic void run(){\r\n\t\tSystem.out.println(&quot;Inside the thread&quot;);\r\n\t}\r\n     }\r\n\r\n     class Thread_Definition{\r\n\tThread_Show ts=new Thread_Show();\r\n\tts.start();  //Getting the error here\r\n    }\r\n\r\nI am getting error &quot;syntax error on token start identifier expected&quot; in the line `ts.start();`. Why am I getting this?\r\n\r\n**EDIT** I have used the code from http://tutorials.jenkov.com/java-concurrency/creating-and-starting-threads.html#thread-subclass","title":"Getting error in Eclipse: syntax error on token start identifier expected","body":"<p>I am getting a strange error while creating a simple thread program in JAVA using Eclipse. The code is:</p>\n\n<pre><code>package threadshow;\n\npublic class Thread_Show extends Thread{\n\npublic void run(){\n    System.out.println(\"Inside the thread\");\n}\n }\n\n class Thread_Definition{\nThread_Show ts=new Thread_Show();\nts.start();  //Getting the error here\n}\n</code></pre>\n\n<p>I am getting error \"syntax error on token start identifier expected\" in the line <code>ts.start();</code>. Why am I getting this?</p>\n\n<p><strong>EDIT</strong> I have used the code from <a href=\"http://tutorials.jenkov.com/java-concurrency/creating-and-starting-threads.html#thread-subclass\" rel=\"nofollow\">http://tutorials.jenkov.com/java-concurrency/creating-and-starting-threads.html#thread-subclass</a></p>\n"},{"tags":["java","file","object","oop","parsing"],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638611371,"creation_date":1638611371,"answer_id":70224565,"question_id":70224422,"body_markdown":"```java\r\npublic static final class Book {\r\n\r\n    private int id;\r\n    private String name;\r\n    private double price;\r\n\r\n}\r\n\r\npublic static void main(String... args) throws FileNotFoundException {\r\n    List&lt;Book&gt; books = readMovies(new File(&quot;a.txt&quot;));\r\n}\r\n\r\nprivate static List&lt;Book&gt; readMovies(File file) throws FileNotFoundException {\r\n    try (Scanner scan = new Scanner(file)) {\r\n        scan.useLocale(Locale.ENGLISH);\r\n\r\n        List&lt;Book&gt; books = new ArrayList&lt;&gt;();\r\n\r\n        while (scan.hasNext()) {\r\n            Book book = new Book();\r\n            book.id = scan.nextInt();\r\n\r\n            String line = scan.nextLine().trim();\r\n            int pos = line.indexOf(&quot;  &quot;);\r\n            book.name = line.substring(0, pos).trim();\r\n            book.price = Double.parseDouble(line.substring(pos + 1).trim());\r\n            books.add(book);\r\n        }\r\n\r\n        return books;\r\n    }\r\n}\r\n```","title":"How to convert from text to object in Java","body":"<pre class=\"lang-java prettyprint-override\"><code>public static final class Book {\n\n    private int id;\n    private String name;\n    private double price;\n\n}\n\npublic static void main(String... args) throws FileNotFoundException {\n    List&lt;Book&gt; books = readMovies(new File(&quot;a.txt&quot;));\n}\n\nprivate static List&lt;Book&gt; readMovies(File file) throws FileNotFoundException {\n    try (Scanner scan = new Scanner(file)) {\n        scan.useLocale(Locale.ENGLISH);\n\n        List&lt;Book&gt; books = new ArrayList&lt;&gt;();\n\n        while (scan.hasNext()) {\n            Book book = new Book();\n            book.id = scan.nextInt();\n\n            String line = scan.nextLine().trim();\n            int pos = line.indexOf(&quot;  &quot;);\n            book.name = line.substring(0, pos).trim();\n            book.price = Double.parseDouble(line.substring(pos + 1).trim());\n            books.add(book);\n        }\n\n        return books;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8539391,"reputation":1,"user_id":6399999,"display_name":"Sudhakar Rathi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638611515,"creation_date":1638611515,"answer_id":70224580,"question_id":70224422,"body_markdown":"// this code can help you, happy to help\r\n\r\nimport java.io.*;\r\npublic class FileTextCheck {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        User u1 = new User(&quot;Sudhakar&quot;, 27, &quot;Male&quot;);\r\n        User u2 = new User(&quot;Richa&quot;, 25, &quot;Female&quot;);\r\n\r\n        try {\r\n            FileOutputStream fos = new FileOutputStream(new File(&quot;/home/orange/Desktop/myfile.txt&quot;));\r\n            ObjectOutputStream oos = new ObjectOutputStream(fos);\r\n            oos.writeObject(u1);\r\n            oos.writeObject(u2);\r\n            oos.close();\r\n            fos.close();\r\n\r\n            FileInputStream fis = new FileInputStream(new File(&quot;/home/orange/Desktop/myfile.txt&quot;));\r\n            ObjectInputStream ois = new ObjectInputStream(fis);\r\n\r\n            User pr1 = (User) ois.readObject();\r\n            User pr2 = (User) ois.readObject();\r\n\r\n            System.out.println(pr1.toString());\r\n            System.out.println(pr2.toString());\r\n\r\n            ois.close();\r\n            fis.close();\r\n\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    public static class User implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n        private String name;\r\n        private int age;\r\n        private String gender;\r\n\r\n        User(String name, int age, String gender) {\r\n            this.name = name;\r\n            this.age = age;\r\n            this.gender = gender;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Name:&quot; + name + &quot;\\nAge: &quot; + age + &quot;\\nGender: &quot; + gender;\r\n        }\r\n    }\r\n}\r\n\r\n","title":"How to convert from text to object in Java","body":"<p>// this code can help you, happy to help</p>\n<p>import java.io.*;\npublic class FileTextCheck {</p>\n<pre><code>public static void main(String[] args) {\n\n    User u1 = new User(&quot;Sudhakar&quot;, 27, &quot;Male&quot;);\n    User u2 = new User(&quot;Richa&quot;, 25, &quot;Female&quot;);\n\n    try {\n        FileOutputStream fos = new FileOutputStream(new File(&quot;/home/orange/Desktop/myfile.txt&quot;));\n        ObjectOutputStream oos = new ObjectOutputStream(fos);\n        oos.writeObject(u1);\n        oos.writeObject(u2);\n        oos.close();\n        fos.close();\n\n        FileInputStream fis = new FileInputStream(new File(&quot;/home/orange/Desktop/myfile.txt&quot;));\n        ObjectInputStream ois = new ObjectInputStream(fis);\n\n        User pr1 = (User) ois.readObject();\n        User pr2 = (User) ois.readObject();\n\n        System.out.println(pr1.toString());\n        System.out.println(pr2.toString());\n\n        ois.close();\n        fis.close();\n\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    }\n\n}\n\npublic static class User implements Serializable {\n    private static final long serialVersionUID = 1L;\n    private String name;\n    private int age;\n    private String gender;\n\n    User(String name, int age, String gender) {\n        this.name = name;\n        this.age = age;\n        this.gender = gender;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Name:&quot; + name + &quot;\\nAge: &quot; + age + &quot;\\nGender: &quot; + gender;\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":20145264,"reputation":250,"user_id":14773942,"display_name":" Ä·¥Ä ú…™ ü"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638613695,"creation_date":1638613695,"answer_id":70224811,"question_id":70224422,"body_markdown":"You cannot parse any type of text to a java object. The text should be in JSON format. You can parse JSON string to java object using [Gson][1] library.\r\n\r\n\r\n  [1]: https://github.com/google/gson","title":"How to convert from text to object in Java","body":"<p>You cannot parse any type of text to a java object. The text should be in JSON format. You can parse JSON string to java object using <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a> library.</p>\n"}],"owner":{"account_id":22746178,"reputation":11,"user_id":16906942,"display_name":"NicoLa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":751,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1638613695,"creation_date":1638609940,"question_id":70224422,"body_markdown":"    public void loadFromFile() {\r\n\t\tSystem.out.println(&quot;Loading books...&quot;);\r\n\t\tFileInputStream fileInput = null;\r\n\t\ttry {\r\n\t\t\tfileInput = new FileInputStream(&quot;books.txt&quot;);\r\n\t\t\tScanner sc = new Scanner(fileInput);\r\n\t\t\tif (sc.hasNext()) {\r\n\t\t\t\tSystem.out.format(&quot;%-5s %-45s %-10s&quot;, &quot;Id&quot;, &quot;Name&quot;, &quot;Price&quot;);\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\twhile (sc.hasNextLine()) {\r\n\r\n\t\t\t\t\tSystem.out.println(sc.nextLine());\r\n\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;(empty)&quot;);\r\n\t\t\t}\r\n\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\tSystem.err.println(&quot;File not found&quot;);\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tfileInput.close();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// TODO: your code here\r\n\t}\r\n\r\n[i have a .txt file with the requirement a program reads it and parses it into object. Each line is an object including attributes id, name and price][1]\r\n\r\nhow can I parse text to object\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fzfBw.png","title":"How to convert from text to object in Java","body":"<pre><code>public void loadFromFile() {\n    System.out.println(&quot;Loading books...&quot;);\n    FileInputStream fileInput = null;\n    try {\n        fileInput = new FileInputStream(&quot;books.txt&quot;);\n        Scanner sc = new Scanner(fileInput);\n        if (sc.hasNext()) {\n            System.out.format(&quot;%-5s %-45s %-10s&quot;, &quot;Id&quot;, &quot;Name&quot;, &quot;Price&quot;);\n            System.out.println();\n            while (sc.hasNextLine()) {\n\n                System.out.println(sc.nextLine());\n\n            }\n        } else {\n            System.out.println(&quot;(empty)&quot;);\n        }\n\n    } catch (FileNotFoundException e) {\n        // TODO Auto-generated catch block\n        System.err.println(&quot;File not found&quot;);\n    } finally {\n        try {\n            fileInput.close();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n\n    // TODO: your code here\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fzfBw.png\" rel=\"nofollow noreferrer\">i have a .txt file with the requirement a program reads it and parses it into object. Each line is an object including attributes id, name and price</a></p>\n<p>how can I parse text to object</p>\n"},{"tags":["java","json","cassandra","cql"],"comments":[{"owner":{"account_id":4206365,"reputation":783,"user_id":3445161,"display_name":"chaitan64arun"},"score":1,"creation_date":1556251740,"post_id":55851201,"comment_id":98381876,"body_markdown":"Please consider pasting actual code or error log instead of images.","body":"Please consider pasting actual code or error log instead of images."}],"answers":[{"tags":[],"owner":{"account_id":9160590,"reputation":2225,"user_id":6812035,"display_name":"Carlos Monroy Nieblas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556205170,"creation_date":1556205170,"answer_id":55852558,"question_id":55851201,"body_markdown":"The issue is that Cassandra is case sensitive when handling with names, you created it with camel case `InspectionsRestaurantsNY`, but you are trying to insert it in lower case `inspectionsrestaurantsny`.\r\n\r\nHaving the names in lowercase is preferred, as when you use cqlsh, you will need to enclose the name in double quotes if there are capital letters.","title":"How can I create the Table and insert the json data by using JAVA in CQL?","body":"<p>The issue is that Cassandra is case sensitive when handling with names, you created it with camel case <code>InspectionsRestaurantsNY</code>, but you are trying to insert it in lower case <code>inspectionsrestaurantsny</code>.</p>\n\n<p>Having the names in lowercase is preferred, as when you use cqlsh, you will need to enclose the name in double quotes if there are capital letters.</p>\n"},{"tags":[],"owner":{"account_id":7287935,"reputation":151,"user_id":5555434,"display_name":"dwivedialok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1556236812,"creation_date":1556236812,"answer_id":55859076,"question_id":55851201,"body_markdown":"Seems like you are using wrong table name when running jar to insert JSON. The command you shared is \r\n\r\n&gt; java -jar JSonFile2Cassandra.jar -host 192.168.99.101 -port 3000\r\n&gt; -keyspace restaurantsNY -columnFamily InspectionsRestaurants -file InspectionsRestaurantsNY.json\r\n\r\nShouldnt it be \r\n\r\n&gt; java -jar JSonFile2Cassandra.jar -host 192.168.99.101 -port 3000\r\n&gt; -keyspace restaurantsNY -columnFamily InspectionsRestaurantsNY -file InspectionsRestaurantsNY.json\r\n\r\ni.e use correct table name **InspectionsRestaurantsNY** for -columnFamily argument in above command.\r\n\r\nAlso its always better not to use camel case convention as CQL identifier names are case-insensitive. If you really really want case sensitive names then you should enclose names in double quotes. If double quotes are not used then Cassandra will convert names with mixed case to lower case. But in above query I dont think that is cause of error. I think its due to wrong column family name.   \r\n\r\nCheck here for mixed cases names\r\nhttps://docs.datastax.com/en/cql/3.3/cql/cql_reference/ucase-lcase_r.html","title":"How can I create the Table and insert the json data by using JAVA in CQL?","body":"<p>Seems like you are using wrong table name when running jar to insert JSON. The command you shared is </p>\n\n<blockquote>\n  <p>java -jar JSonFile2Cassandra.jar -host 192.168.99.101 -port 3000\n  -keyspace restaurantsNY -columnFamily InspectionsRestaurants -file InspectionsRestaurantsNY.json</p>\n</blockquote>\n\n<p>Shouldnt it be </p>\n\n<blockquote>\n  <p>java -jar JSonFile2Cassandra.jar -host 192.168.99.101 -port 3000\n  -keyspace restaurantsNY -columnFamily InspectionsRestaurantsNY -file InspectionsRestaurantsNY.json</p>\n</blockquote>\n\n<p>i.e use correct table name <strong>InspectionsRestaurantsNY</strong> for -columnFamily argument in above command.</p>\n\n<p>Also its always better not to use camel case convention as CQL identifier names are case-insensitive. If you really really want case sensitive names then you should enclose names in double quotes. If double quotes are not used then Cassandra will convert names with mixed case to lower case. But in above query I dont think that is cause of error. I think its due to wrong column family name.   </p>\n\n<p>Check here for mixed cases names\n<a href=\"https://docs.datastax.com/en/cql/3.3/cql/cql_reference/ucase-lcase_r.html\" rel=\"nofollow noreferrer\">https://docs.datastax.com/en/cql/3.3/cql/cql_reference/ucase-lcase_r.html</a></p>\n"}],"owner":{"account_id":15214146,"reputation":385,"user_id":10977971,"display_name":"Hong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":745,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":55859076,"answer_count":2,"score":-1,"last_activity_date":1638613655,"creation_date":1556201108,"question_id":55851201,"body_markdown":"I am the new learner in CQL.\r\nI am using the docker env to run the Cassandra.\r\n\r\nIn previous, I have the two tables(restaurants and Inspection) with inserted the data by `csv`  and the following setting:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSince `join` method are not supported in CQL, I need to re-insert the joined data set(JSON) to a new table(call InspectionrestaurantNY).\r\n\r\nTherefore, I tried to create the InspectionrestaurantNY table:\r\n[![enter image description here][2]][2]\r\n\r\nThen, I have the `jav` which help me to install the `json` file.\r\nBut I got the error, and I don&#39;t know what table(InspectionrestaurantNY)  setting should I create to insert the `json` data. \r\n\r\nI ran the `java -jar JSonFile2Cassandra.jar -host 192.168.99.101 -port 3000 -keyspace restaurantsNY -columnFamily InspectionsRestaurants -file InspectionsRestaurantsNY.json`, it shown the following error:\r\n\r\n [![enter image description here][3]][3]\r\n\r\nAnd, my `json` file is stored as like this:\r\n[![enter image description here][4]][4][![enter image description here][5]][5][![enter image description here][6]][6][![enter image description here][7]][7]\r\n\r\nWhat table setting should I build up first to insert the JSON data?\r\n\r\nHow to solve the JAVA error?\r\n\r\nThank you so much.\r\n\r\n  [1]: https://i.stack.imgur.com/UJ1pQ.png\r\n  [2]: https://i.stack.imgur.com/Gsg26.png\r\n  [3]: https://i.stack.imgur.com/7uCYA.jpg\r\n  [4]: https://i.stack.imgur.com/4DVly.png\r\n  [5]: https://i.stack.imgur.com/pvLNj.png\r\n  [6]: https://i.stack.imgur.com/ZlxQN.png\r\n  [7]: https://i.stack.imgur.com/bza8T.png","title":"How can I create the Table and insert the json data by using JAVA in CQL?","body":"<p>I am the new learner in CQL.\nI am using the docker env to run the Cassandra.</p>\n\n<p>In previous, I have the two tables(restaurants and Inspection) with inserted the data by <code>csv</code>  and the following setting:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UJ1pQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UJ1pQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Since <code>join</code> method are not supported in CQL, I need to re-insert the joined data set(JSON) to a new table(call InspectionrestaurantNY).</p>\n\n<p>Therefore, I tried to create the InspectionrestaurantNY table:\n<a href=\"https://i.stack.imgur.com/Gsg26.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gsg26.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then, I have the <code>jav</code> which help me to install the <code>json</code> file.\nBut I got the error, and I don't know what table(InspectionrestaurantNY)  setting should I create to insert the <code>json</code> data. </p>\n\n<p>I ran the <code>java -jar JSonFile2Cassandra.jar -host 192.168.99.101 -port 3000 -keyspace restaurantsNY -columnFamily InspectionsRestaurants -file InspectionsRestaurantsNY.json</code>, it shown the following error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7uCYA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7uCYA.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>And, my <code>json</code> file is stored as like this:\n<a href=\"https://i.stack.imgur.com/4DVly.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4DVly.png\" alt=\"enter image description here\"></a><a href=\"https://i.stack.imgur.com/pvLNj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pvLNj.png\" alt=\"enter image description here\"></a><a href=\"https://i.stack.imgur.com/ZlxQN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZlxQN.png\" alt=\"enter image description here\"></a><a href=\"https://i.stack.imgur.com/bza8T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bza8T.png\" alt=\"enter image description here\"></a></p>\n\n<p>What table setting should I build up first to insert the JSON data?</p>\n\n<p>How to solve the JAVA error?</p>\n\n<p>Thank you so much.</p>\n"},{"tags":["java","apache","timeout","cxf"],"answers":[{"tags":[],"owner":{"account_id":1170165,"reputation":23155,"user_id":1147529,"accept_rate":95,"display_name":"Paulius Matulionis"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1359709964,"creation_date":1359709964,"answer_id":14642929,"question_id":14623705,"body_markdown":"The error message means that your web service client was trying to receive data from a remote web service over the network, but no data was received for a specific period of time, so the web service client stopped waiting for the data to be received.\r\n\r\nOne of the possible causes might be that the `timeout` property is too low. Defaults to cxf default values of 30000 and 60000 ms respectively. These can be changed depending how you are creating your client.\r\n\r\nIf you are creating a client using java code you can use:\r\n\r\n    //1 minute for connection\r\n    ((BindingProvider) wsPort).getRequestContext().put(&quot;com.sun.xml.ws.connect.timeout&quot;, 1 * 60 * 1000); \r\n    \r\n    //3 minutes for request\r\n    ((BindingProvider) wsPort).getRequestContext().put(&quot;com.sun.xml.ws.request.timeout&quot;, 3 * 60 * 1000); \r\n\r\nIf you are using Spring, you can use a map like this:\r\n\r\n    &lt;util:map id=&quot;jaxwsProperties&quot;&gt;\r\n    \t&lt;entry key=&quot;com.sun.xml.internal.ws.request.timeout&quot;&gt;\r\n    \t\t&lt;value type=&quot;java.lang.Integer&quot;&gt;120000&lt;/value&gt;\r\n    \t&lt;/entry&gt;\r\n    \t&lt;entry key=&quot;com.sun.xml.internal.ws.connect.timeout&quot;&gt;\r\n    \t\t&lt;value type=&quot;java.lang.Integer&quot;&gt;60000&lt;/value&gt;\r\n    \t&lt;/entry&gt;\r\n    &lt;/util:map&gt;\r\n\r\nThen set that map into your `&lt;jaxws:client.../&gt;` configuration.","title":"apache cxf could not send message and read time out","body":"<p>The error message means that your web service client was trying to receive data from a remote web service over the network, but no data was received for a specific period of time, so the web service client stopped waiting for the data to be received.</p>\n\n<p>One of the possible causes might be that the <code>timeout</code> property is too low. Defaults to cxf default values of 30000 and 60000 ms respectively. These can be changed depending how you are creating your client.</p>\n\n<p>If you are creating a client using java code you can use:</p>\n\n<pre><code>//1 minute for connection\n((BindingProvider) wsPort).getRequestContext().put(\"com.sun.xml.ws.connect.timeout\", 1 * 60 * 1000); \n\n//3 minutes for request\n((BindingProvider) wsPort).getRequestContext().put(\"com.sun.xml.ws.request.timeout\", 3 * 60 * 1000); \n</code></pre>\n\n<p>If you are using Spring, you can use a map like this:</p>\n\n<pre><code>&lt;util:map id=\"jaxwsProperties\"&gt;\n    &lt;entry key=\"com.sun.xml.internal.ws.request.timeout\"&gt;\n        &lt;value type=\"java.lang.Integer\"&gt;120000&lt;/value&gt;\n    &lt;/entry&gt;\n    &lt;entry key=\"com.sun.xml.internal.ws.connect.timeout\"&gt;\n        &lt;value type=\"java.lang.Integer\"&gt;60000&lt;/value&gt;\n    &lt;/entry&gt;\n&lt;/util:map&gt;\n</code></pre>\n\n<p>Then set that map into your <code>&lt;jaxws:client.../&gt;</code> configuration.</p>\n"},{"tags":[],"owner":{"account_id":452692,"reputation":2466,"user_id":849256,"accept_rate":65,"display_name":"Carlos Jaime C. De Leon"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1638612851,"creation_date":1380086163,"answer_id":18996763,"question_id":14623705,"body_markdown":"I have encountered this error as well for my webservice client. The solution that worked for me is to configure the http client in the CXF config file (cxf.xml).\r\n\r\nAs documented in [Apache CXF document][1]:\r\n\r\n1.Add the http-conduit namespace and xsd:\r\n\r\n&gt;     &lt;beans ...\r\n&gt;            xmlns:http-conf=&quot;http://cxf.apache.org/transports/http/configuration\r\n&gt;            ...\r\n&gt;            xsi:schemaLocation=&quot;...\r\n&gt;                http://cxf.apache.org/transports/http/configuration\r\n&gt;                http://cxf.apache.org/schemas/configuration/http-conf.xsd\r\n&gt;            ...&quot;&gt;\r\n\r\n2.Add the http-conduit tag/element and set the ReceiveTimeout/ConnectionTimeout to 300000 ms:\r\n\r\n&gt; \t\r\n&gt; \r\n&gt;     &lt;http-conf:conduit name=&quot;*.http-conduit&quot;&gt;\r\n&gt;         \t&lt;http-conf:client \r\n&gt;                           ConnectionTimeout=&quot;300000&quot;\r\n&gt;                           ReceiveTimeout=&quot;300000&quot;/&gt;   \t\r\n&gt;     &lt;/http-conf:conduit&gt;\r\n\r\n  [1]: http://cxf.apache.org/docs/client-http-transport-including-ssl-support.html#ClientHTTPTransport%28includingSSLsupport%29-The%7B%7Bconduit%7D%7Delement\r\n","title":"apache cxf could not send message and read time out","body":"<p>I have encountered this error as well for my webservice client. The solution that worked for me is to configure the http client in the CXF config file (cxf.xml).</p>\n<p>As documented in <a href=\"http://cxf.apache.org/docs/client-http-transport-including-ssl-support.html#ClientHTTPTransport%28includingSSLsupport%29-The%7B%7Bconduit%7D%7Delement\" rel=\"nofollow noreferrer\">Apache CXF document</a>:</p>\n<p>1.Add the http-conduit namespace and xsd:</p>\n<blockquote>\n<pre><code>&lt;beans ...\n       xmlns:http-conf=&quot;http://cxf.apache.org/transports/http/configuration\n       ...\n       xsi:schemaLocation=&quot;...\n           http://cxf.apache.org/transports/http/configuration\n           http://cxf.apache.org/schemas/configuration/http-conf.xsd\n       ...&quot;&gt;\n</code></pre>\n</blockquote>\n<p>2.Add the http-conduit tag/element and set the ReceiveTimeout/ConnectionTimeout to 300000 ms:</p>\n<blockquote>\n<pre><code>&lt;http-conf:conduit name=&quot;*.http-conduit&quot;&gt;\n      &lt;http-conf:client \n                      ConnectionTimeout=&quot;300000&quot;\n                      ReceiveTimeout=&quot;300000&quot;/&gt;       \n&lt;/http-conf:conduit&gt;\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1569740,"reputation":2357,"user_id":1457688,"accept_rate":14,"display_name":"Henry Neo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435199154,"creation_date":1435199154,"answer_id":31040199,"question_id":14623705,"body_markdown":"You might want to change the receiveTimeout setting from Apache CXF src and replace the existing cxf-rt-transports-http-version.jar in your server.\r\n\r\nBrief instructions: (Got the instructions from https://stackoverflow.com/questions/29303854/wildfly-8-2-undertow-read-time-out/29397727#29397727)\r\n\r\n 1. Download CXF2.7.16 src from apache\r\n 2. Add maven/bin to PATH\r\n 3. Export MAVEN_OPTS=-Xmx512m to fix permgen errors\r\n 4. Open ./rt/transports/http/src/main/resources/schemas/wsdl/http-conf.xsd and change ReceiveTimeout from 60000 to whatever needed for eg. 600000 (10 minutes)\r\n 5. Run mvn -Pfastinstall\r\n 6. Get the &quot;patched&quot; cxf-rt-transports-http-2.7.16.jar from  ./rt/transports/http/target folder\r\n 7. Replace cxf-rt-transports-http-2.7.16.jar in your server. For example, with wildfly8.2, it is in ./&lt;Wildfly820_Folder&gt;/modules/system/layers/base/org/apache/cxf/impl/main folder and remember to update module.xml inside the same folder to use this patched cxf-rt-transports-http-2.7.16.jar.\r\n\r\nThis should resolve the SocketTimeoutException caused by the underlying Apache CXF used in the server.","title":"apache cxf could not send message and read time out","body":"<p>You might want to change the receiveTimeout setting from Apache CXF src and replace the existing cxf-rt-transports-http-version.jar in your server.</p>\n\n<p>Brief instructions: (Got the instructions from <a href=\"https://stackoverflow.com/questions/29303854/wildfly-8-2-undertow-read-time-out/29397727#29397727\">Wildfly 8.2/undertow read time out</a>)</p>\n\n<ol>\n<li>Download CXF2.7.16 src from apache</li>\n<li>Add maven/bin to PATH</li>\n<li>Export MAVEN_OPTS=-Xmx512m to fix permgen errors</li>\n<li>Open ./rt/transports/http/src/main/resources/schemas/wsdl/http-conf.xsd and change ReceiveTimeout from 60000 to whatever needed for eg. 600000 (10 minutes)</li>\n<li>Run mvn -Pfastinstall</li>\n<li>Get the \"patched\" cxf-rt-transports-http-2.7.16.jar from  ./rt/transports/http/target folder</li>\n<li>Replace cxf-rt-transports-http-2.7.16.jar in your server. For example, with wildfly8.2, it is in .//modules/system/layers/base/org/apache/cxf/impl/main folder and remember to update module.xml inside the same folder to use this patched cxf-rt-transports-http-2.7.16.jar.</li>\n</ol>\n\n<p>This should resolve the SocketTimeoutException caused by the underlying Apache CXF used in the server.</p>\n"},{"tags":[],"owner":{"account_id":21332,"reputation":5311,"user_id":51754,"accept_rate":76,"display_name":"Bob Rivers"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1493731357,"creation_date":1493731357,"answer_id":43739044,"question_id":14623705,"body_markdown":"Another approche to config timeouts (programmatically):\r\n\r\n    JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();\r\n    Object serviceClass = factory.create();\r\n    defineTimeouts(serviceClass);\r\n\r\n    static void defineTimeouts(Object serviceClass) {\r\n        Client cxfClient = ClientProxy.getClient(serviceClass);\r\n        HTTPConduit httpConduit = (HTTPConduit) cxfClient.getConduit();\r\n\r\n        HTTPClientPolicy httpClientPolicy = new HTTPClientPolicy();\r\n        httpClientPolicy.setConnectionTimeout(DEFAULT_CLIENT_CONNECTION_TIMEOUT);\r\n        httpClientPolicy.setReceiveTimeout(DEFAULT_CLIENT_RECEIVE_TIMEOUT);\r\n        httpConduit.setClient(httpClientPolicy);\r\n    }","title":"apache cxf could not send message and read time out","body":"<p>Another approche to config timeouts (programmatically):</p>\n\n<pre><code>JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();\nObject serviceClass = factory.create();\ndefineTimeouts(serviceClass);\n\nstatic void defineTimeouts(Object serviceClass) {\n    Client cxfClient = ClientProxy.getClient(serviceClass);\n    HTTPConduit httpConduit = (HTTPConduit) cxfClient.getConduit();\n\n    HTTPClientPolicy httpClientPolicy = new HTTPClientPolicy();\n    httpClientPolicy.setConnectionTimeout(DEFAULT_CLIENT_CONNECTION_TIMEOUT);\n    httpClientPolicy.setReceiveTimeout(DEFAULT_CLIENT_RECEIVE_TIMEOUT);\n    httpConduit.setClient(httpClientPolicy);\n}\n</code></pre>\n"}],"owner":{"account_id":1973147,"reputation":211,"user_id":1771579,"display_name":"irumi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75124,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":4,"score":17,"last_activity_date":1638612851,"creation_date":1359628509,"question_id":14623705,"body_markdown":"What might be the cause of:\r\n\r\n`org.apache.cxf.interceptor.Fault: Could not send Message.`\r\n\r\n`Caused by: java.net.SocketTimeoutException: SocketTimeoutException invoking https://xxx.xxx.xxx.xxx:8443/services/test: Read timed out`\r\n\r\nIt usually occurs after I send a soap request to the `ws`. I&#39;m using `apache cxf`. I&#39;m completely sure that the `ws` is up and running because before the time out occur the client will send 2 more request. The timeout happens in the third soap request.\r\n\r\n","title":"apache cxf could not send message and read time out","body":"<p>What might be the cause of:</p>\n\n<p><code>org.apache.cxf.interceptor.Fault: Could not send Message.</code></p>\n\n<p><code>Caused by: java.net.SocketTimeoutException: SocketTimeoutException invoking https://xxx.xxx.xxx.xxx:8443/services/test: Read timed out</code></p>\n\n<p>It usually occurs after I send a soap request to the <code>ws</code>. I'm using <code>apache cxf</code>. I'm completely sure that the <code>ws</code> is up and running because before the time out occur the client will send 2 more request. The timeout happens in the third soap request.</p>\n"},{"tags":["java","lambda","java-stream"],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1638610089,"creation_date":1638610089,"answer_id":70224436,"question_id":70224399,"body_markdown":"The method is `Stream.of(char[])` returns a Stream where each element is an array of char, you want a stream of char, there is several methods [here](https://stackoverflow.com/questions/31554025/want-to-create-a-stream-of-characters-from-char-array-in-java) \r\n\r\n\r\n    char[] arr = {&#39;a&#39;, &#39;a&#39;, &#39;c&#39;, &#39;d&#39;, &#39;d&#39;, &#39;d&#39;, &#39;d&#39;};\r\n\r\n    Map&lt;Character, Long&gt; result = IntStream.range(0, arr.length).mapToObj(i -&gt; arr[i])\r\n                .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n\r\n    System.out.println(result); // {a=2, c=1, d=4}\r\n\r\n","title":"count the frequency of each character in char array using java 8 stream","body":"<p>The method is <code>Stream.of(char[])</code> returns a Stream where each element is an array of char, you want a stream of char, there is several methods <a href=\"https://stackoverflow.com/questions/31554025/want-to-create-a-stream-of-characters-from-char-array-in-java\">here</a></p>\n<pre><code>char[] arr = {'a', 'a', 'c', 'd', 'd', 'd', 'd'};\n\nMap&lt;Character, Long&gt; result = IntStream.range(0, arr.length).mapToObj(i -&gt; arr[i])\n            .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n\nSystem.out.println(result); // {a=2, c=1, d=4}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8539391,"reputation":1,"user_id":6399999,"display_name":"Sudhakar Rathi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638612559,"creation_date":1638612559,"answer_id":70224691,"question_id":70224399,"body_markdown":"    public class CharFrequencyCheck {\r\n    public static void main(String[] args) {\r\n        Stream&lt;Character&gt; charArray = Stream.of(&#39;a&#39;, &#39;a&#39;, &#39;c&#39;, &#39;d&#39;, &#39;d&#39;, &#39;d&#39;, &#39;d&#39;);\r\n        Map&lt;Character, Long&gt; result1 = charArray.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n        System.out.println(result1);\r\n    }\r\n} // this can be helpful as well :)","title":"count the frequency of each character in char array using java 8 stream","body":"<pre><code>public class CharFrequencyCheck {\npublic static void main(String[] args) {\n    Stream&lt;Character&gt; charArray = Stream.of('a', 'a', 'c', 'd', 'd', 'd', 'd');\n    Map&lt;Character, Long&gt; result1 = charArray.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n    System.out.println(result1);\n}\n</code></pre>\n<p>} // this can be helpful as well :)</p>\n"}],"owner":{"account_id":17179397,"reputation":13,"user_id":12435034,"display_name":"Vishnu Jethliya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1076,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70224436,"answer_count":2,"score":1,"last_activity_date":1638612559,"creation_date":1638609661,"question_id":70224399,"body_markdown":"given\r\n\r\n    char[] arr = {&#39;a&#39;,&#39;a&#39;,&#39;c&#39;,&#39;d&#39;,&#39;d&#39;,&#39;d&#39;,&#39;d&#39;};\r\n\r\ni want to print like this  \r\n`{a=2,c=1,d=4}`  using java 8 streams.\r\n\r\n using this : \r\n\r\n \r\n    Stream.of(arr).collect(Collectors.groupingBy(Function.identity(),Collectors.counting()))\r\n\r\nbut its not working.\r\n","title":"count the frequency of each character in char array using java 8 stream","body":"<p>given</p>\n<pre><code>char[] arr = {'a','a','c','d','d','d','d'};\n</code></pre>\n<p>i want to print like this<br />\n<code>{a=2,c=1,d=4}</code>  using java 8 streams.</p>\n<p>using this :</p>\n<pre><code>Stream.of(arr).collect(Collectors.groupingBy(Function.identity(),Collectors.counting()))\n</code></pre>\n<p>but its not working.</p>\n"},{"tags":["java","xml","swing","jtable","sax"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1365662042,"post_id":15942056,"comment_id":22714757,"body_markdown":"1) Use a consistent and logical indent for code blocks. The indentation of the code is intended to help people understand the program flow! 2) `![enter image description here][1]`  Something went wrong there.  If you have a relevant screen-shot, upload it to an image share sites and link to it.","body":"1) Use a consistent and logical indent for code blocks. The indentation of the code is intended to help people understand the program flow! 2) <code>![enter image description here][1]</code>  Something went wrong there.  If you have a relevant screen-shot, upload it to an image share sites and link to it."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1365679189,"post_id":15942056,"comment_id":22723494,"body_markdown":"I could not find your image link.","body":"I could not find your image link."}],"answers":[{"tags":[],"owner":{"account_id":1785335,"reputation":3954,"user_id":1626906,"accept_rate":78,"display_name":"hiway"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1365679529,"creation_date":1365662350,"answer_id":15942225,"question_id":15942056,"body_markdown":"In your `startElement` method, change to this:\r\n\r\n    if (qName.equalsIgnoreCase(&quot;staff&quot;))\r\n    {\r\n        rowOne = new Vector&lt;String&gt;();\t\r\n        bstaff = true;\r\n    }\r\n\r\nThe other `if` statements remain unchanged. Each `staff` element is put in a `Vector`. \r\n","title":"Putting XML elements in JTable","body":"<p>In your <code>startElement</code> method, change to this:</p>\n\n<pre><code>if (qName.equalsIgnoreCase(\"staff\"))\n{\n    rowOne = new Vector&lt;String&gt;();  \n    bstaff = true;\n}\n</code></pre>\n\n<p>The other <code>if</code> statements remain unchanged. Each <code>staff</code> element is put in a <code>Vector</code>. </p>\n"}],"owner":{"account_id":2573104,"reputation":111,"user_id":2231370,"accept_rate":20,"display_name":"IMIDEV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2422,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638612196,"creation_date":1365661610,"question_id":15942056,"body_markdown":"I am trying to parse an XML file with sax parser in Java and then fill a `JTable` with the XML elements. The parsing is well done, the `JTable` is created, but the problem is that all the elements are placed in the same row and the same row is repeated.\r\n\r\nHere is my code :\r\n\r\n    package read;\r\n\r\n    //import java.util.ArrayList;\r\n    import java.awt.BorderLayout;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Vector;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.xml.parsers.SAXParser;\r\n    import javax.xml.parsers.SAXParserFactory;\r\n    import org.xml.sax.Attributes;\r\n    import org.xml.sax.SAXException;\r\n    import org.xml.sax.helpers.DefaultHandler;\r\n\r\n    public class Read {\r\n\r\n        public static Vector&lt;Vector&gt; rowData = new Vector&lt;Vector&gt;();\r\n        public static Vector&lt;String&gt; rowOne = new Vector&lt;String&gt;();\r\n\r\n        public static void main(String argv[]) {\r\n            try {\r\n                SAXParserFactory factory = SAXParserFactory.newInstance();\r\n                SAXParser saxParser = factory.newSAXParser();\r\n                DefaultHandler handler;\r\n                handler = new DefaultHandler() {\r\n                    // private List&lt;Personne&gt; satff;\r\n                    boolean bstaff = false;\r\n                    boolean bfname = false;\r\n                    boolean blname = false;\r\n                    boolean bnname = false;\r\n                    boolean bsalary = false;\r\n                    private int i;\r\n\r\n                    public void startElement(String uri, String localName, String\r\n                        qName, Attributes attributes) throws SAXException {\r\n                        System.out.println(&quot;Start Element :&quot; + qName);\r\n                        if (qName.equalsIgnoreCase(&quot;staff&quot;)) {\r\n                            bstaff = true;\r\n                        }\r\n                        if (qName.equalsIgnoreCase(&quot;FIRSTNAME&quot;)) {\r\n                            bfname = true;\r\n                        }\r\n                        if (qName.equalsIgnoreCase(&quot;LASTNAME&quot;)) {\r\n                            blname = true;\r\n                        }\r\n                        if (qName.equalsIgnoreCase(&quot;NICKNAME&quot;)) {\r\n                            bnname = true;\r\n                        }\r\n                        if (qName.equalsIgnoreCase(&quot;SALARY&quot;)) {\r\n                            bsalary = true;\r\n                        }\r\n                    }\r\n\r\n                    public void endElement(String uri, String localName,\r\n                        String qName) throws SAXException {\r\n                        System.out.println(&quot;End Element :&quot; + qName);\r\n                        if (&quot;staff&quot;.equals(qName)) {\r\n                            rowData.addElement(rowOne);\r\n                        };\r\n                    }\r\n\r\n                    @Override\r\n                    public void characters(char ch[], int start, int length) {\r\n                        if (bfname) {\r\n                            String s = new String(ch, start, length);\r\n                            rowOne.addElement(s);\r\n                            System.out.println(&quot;First Name : &quot; + new String(ch, start, length));\r\n                            bfname = false;\r\n                        }\r\n                        if (blname) {\r\n                            rowOne.addElement(new String(ch, start, length));\r\n                            System.out.println(&quot;Last Name : &quot; + new String(ch, start, length));\r\n                            blname = false;\r\n                        }\r\n                        if (bnname) {\r\n                            rowOne.addElement(new String(ch, start, length));\r\n                            System.out.println(&quot;Nick Name : &quot; + new String(ch, start, length));\r\n                            bnname = false;\r\n                        }\r\n                        if (bsalary) {\r\n                            rowOne.addElement(new String(ch, start, length));\r\n                            System.out.println(&quot;Salary : &quot; + new String(ch, start, length));\r\n                            //rowData.addElement(rowOne);\r\n                            bsalary = false;\r\n                        }\r\n                        System.out.println(&quot;longueur&quot; + rowOne.size());\r\n                    }\r\n                };\r\n                saxParser.parse(&quot;file.xml&quot;, handler);\r\n                JFrame frame = new JFrame();\r\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                Vector&lt;String&gt; columnNames = new Vector&lt;String&gt;();\r\n                columnNames.addElement(&quot;firstname&quot;);\r\n                columnNames.addElement(&quot;lastname&quot;);\r\n                columnNames.addElement(&quot;nickname&quot;);\r\n                columnNames.addElement(&quot;salary&quot;);\r\n                columnNames.addElement(&quot; &quot;);\r\n                columnNames.addElement(&quot; &quot;);\r\n                columnNames.addElement(&quot; &quot;);\r\n                columnNames.addElement(&quot; &quot;);\r\n                JTable table = new JTable(rowData, columnNames);\r\n                JScrollPane scrollPane = new JScrollPane(table);\r\n                frame.add(scrollPane, BorderLayout.CENTER);\r\n                frame.setSize(300, 150);\r\n                frame.setVisible(true);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\nMy original XML file is the folowing:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;company&gt;\r\n    &lt;staff &gt;\r\n    &lt;firstname&gt;yong&lt;/firstname&gt;\r\n    &lt;lastname&gt;mook kim&lt;/lastname&gt;\r\n    &lt;nickname&gt;mkyong&lt;/nickname&gt;\r\n    &lt;salary&gt;100000&lt;/salary&gt;\r\n    &lt;/staff&gt;\r\n    &lt;staff &gt;\r\n    &lt;firstname&gt;low&lt;/firstname&gt;\r\n    &lt;lastname&gt;yin fong&lt;/lastname&gt;\r\n    &lt;nickname&gt;fong fong&lt;/nickname&gt;\r\n    &lt;salary&gt;200000&lt;/salary&gt;\r\n    &lt;/staff&gt;\r\n    &lt;/company&gt;\r\n","title":"Putting XML elements in JTable","body":"<p>I am trying to parse an XML file with sax parser in Java and then fill a <code>JTable</code> with the XML elements. The parsing is well done, the <code>JTable</code> is created, but the problem is that all the elements are placed in the same row and the same row is repeated.</p>\n<p>Here is my code :</p>\n<pre><code>package read;\n\n//import java.util.ArrayList;\nimport java.awt.BorderLayout;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Vector;\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.xml.parsers.SAXParser;\nimport javax.xml.parsers.SAXParserFactory;\nimport org.xml.sax.Attributes;\nimport org.xml.sax.SAXException;\nimport org.xml.sax.helpers.DefaultHandler;\n\npublic class Read {\n\n    public static Vector&lt;Vector&gt; rowData = new Vector&lt;Vector&gt;();\n    public static Vector&lt;String&gt; rowOne = new Vector&lt;String&gt;();\n\n    public static void main(String argv[]) {\n        try {\n            SAXParserFactory factory = SAXParserFactory.newInstance();\n            SAXParser saxParser = factory.newSAXParser();\n            DefaultHandler handler;\n            handler = new DefaultHandler() {\n                // private List&lt;Personne&gt; satff;\n                boolean bstaff = false;\n                boolean bfname = false;\n                boolean blname = false;\n                boolean bnname = false;\n                boolean bsalary = false;\n                private int i;\n\n                public void startElement(String uri, String localName, String\n                    qName, Attributes attributes) throws SAXException {\n                    System.out.println(&quot;Start Element :&quot; + qName);\n                    if (qName.equalsIgnoreCase(&quot;staff&quot;)) {\n                        bstaff = true;\n                    }\n                    if (qName.equalsIgnoreCase(&quot;FIRSTNAME&quot;)) {\n                        bfname = true;\n                    }\n                    if (qName.equalsIgnoreCase(&quot;LASTNAME&quot;)) {\n                        blname = true;\n                    }\n                    if (qName.equalsIgnoreCase(&quot;NICKNAME&quot;)) {\n                        bnname = true;\n                    }\n                    if (qName.equalsIgnoreCase(&quot;SALARY&quot;)) {\n                        bsalary = true;\n                    }\n                }\n\n                public void endElement(String uri, String localName,\n                    String qName) throws SAXException {\n                    System.out.println(&quot;End Element :&quot; + qName);\n                    if (&quot;staff&quot;.equals(qName)) {\n                        rowData.addElement(rowOne);\n                    };\n                }\n\n                @Override\n                public void characters(char ch[], int start, int length) {\n                    if (bfname) {\n                        String s = new String(ch, start, length);\n                        rowOne.addElement(s);\n                        System.out.println(&quot;First Name : &quot; + new String(ch, start, length));\n                        bfname = false;\n                    }\n                    if (blname) {\n                        rowOne.addElement(new String(ch, start, length));\n                        System.out.println(&quot;Last Name : &quot; + new String(ch, start, length));\n                        blname = false;\n                    }\n                    if (bnname) {\n                        rowOne.addElement(new String(ch, start, length));\n                        System.out.println(&quot;Nick Name : &quot; + new String(ch, start, length));\n                        bnname = false;\n                    }\n                    if (bsalary) {\n                        rowOne.addElement(new String(ch, start, length));\n                        System.out.println(&quot;Salary : &quot; + new String(ch, start, length));\n                        //rowData.addElement(rowOne);\n                        bsalary = false;\n                    }\n                    System.out.println(&quot;longueur&quot; + rowOne.size());\n                }\n            };\n            saxParser.parse(&quot;file.xml&quot;, handler);\n            JFrame frame = new JFrame();\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            Vector&lt;String&gt; columnNames = new Vector&lt;String&gt;();\n            columnNames.addElement(&quot;firstname&quot;);\n            columnNames.addElement(&quot;lastname&quot;);\n            columnNames.addElement(&quot;nickname&quot;);\n            columnNames.addElement(&quot;salary&quot;);\n            columnNames.addElement(&quot; &quot;);\n            columnNames.addElement(&quot; &quot;);\n            columnNames.addElement(&quot; &quot;);\n            columnNames.addElement(&quot; &quot;);\n            JTable table = new JTable(rowData, columnNames);\n            JScrollPane scrollPane = new JScrollPane(table);\n            frame.add(scrollPane, BorderLayout.CENTER);\n            frame.setSize(300, 150);\n            frame.setVisible(true);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>My original XML file is the folowing:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;company&gt;\n&lt;staff &gt;\n&lt;firstname&gt;yong&lt;/firstname&gt;\n&lt;lastname&gt;mook kim&lt;/lastname&gt;\n&lt;nickname&gt;mkyong&lt;/nickname&gt;\n&lt;salary&gt;100000&lt;/salary&gt;\n&lt;/staff&gt;\n&lt;staff &gt;\n&lt;firstname&gt;low&lt;/firstname&gt;\n&lt;lastname&gt;yin fong&lt;/lastname&gt;\n&lt;nickname&gt;fong fong&lt;/nickname&gt;\n&lt;salary&gt;200000&lt;/salary&gt;\n&lt;/staff&gt;\n&lt;/company&gt;\n</code></pre>\n"},{"tags":["java","arrays","rsa","biginteger"],"comments":[{"owner":{"account_id":23501729,"reputation":3,"user_id":17551551,"display_name":"Nick Pham"},"score":0,"creation_date":1638279124,"post_id":70168847,"comment_id":124041703,"body_markdown":"Thank you for your response. \n\nYes, I did read the documentation, but this case it causes to wrong rsa public key generating. Is there any alternative way to fix it to match with the server, sir?","body":"Thank you for your response.   Yes, I did read the documentation, but this case it causes to wrong rsa public key generating. Is there any alternative way to fix it to match with the server, sir?"},{"owner":{"account_id":23501729,"reputation":3,"user_id":17551551,"display_name":"Nick Pham"},"score":0,"creation_date":1638279296,"post_id":70168847,"comment_id":124041775,"body_markdown":"Yes sir, I did try it too. It throws &quot;java.security.InvalidKeyException: exponent is larger than modulus&quot;","body":"Yes sir, I did try it too. It throws &quot;java.security.InvalidKeyException: exponent is larger than modulus&quot;"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1638279452,"post_id":70168847,"comment_id":124041838,"body_markdown":"As you can see, the bytes are reversed (little-endian). So just reverse them back (95EC...).","body":"As you can see, the bytes are reversed (little-endian). So just reverse them back (95EC...)."},{"owner":{"account_id":23501729,"reputation":3,"user_id":17551551,"display_name":"Nick Pham"},"score":0,"creation_date":1638279480,"post_id":70168847,"comment_id":124041851,"body_markdown":"I just want to generate a rsa public key base on the public exponent and modulus byte array, and it should be matched to the rsa public key on the server.","body":"I just want to generate a rsa public key base on the public exponent and modulus byte array, and it should be matched to the rsa public key on the server."},{"owner":{"account_id":23501729,"reputation":3,"user_id":17551551,"display_name":"Nick Pham"},"score":0,"creation_date":1638279550,"post_id":70168847,"comment_id":124041884,"body_markdown":"@PresidentJamesK.Polk Would you mind showing me how? Thanks in advanced.","body":"@PresidentJamesK.Polk Would you mind showing me how? Thanks in advanced."},{"owner":{"account_id":23501729,"reputation":3,"user_id":17551551,"display_name":"Nick Pham"},"score":0,"creation_date":1638284769,"post_id":70168847,"comment_id":124044303,"body_markdown":"Oh my god, I could not believe it could be that easy just like reverse the byte array. \n\nMany thanks to @PresidentJamesK.Polk and user16320675","body":"Oh my god, I could not believe it could be that easy just like reverse the byte array.   Many thanks to @PresidentJamesK.Polk and user16320675"}],"answers":[{"tags":[],"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638612038,"creation_date":1638283144,"answer_id":70171135,"question_id":70168847,"body_markdown":"Lets go through your code and packet stream structure.\r\n\r\nYou have the following binary stream encoded as a hex string:\r\n\r\n```none\r\nC70001A100408031313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131E5AA194C3DBA71F9A38AF85D43C130A462BDCBACF85ED702B5E2FECB47197DAA433E7B5ACF5EF09A07C5DDE79B7A2EED76B91090CB981E13DBE316997FCF5DC51BE40B2D02D912457D97924B94094227F8BC65DD61FE78060B55BEAAA31C64E3B36863B407F7183DABA9D98F0C9061DED36AD16407F70C4925951BAA8807EC95\r\n```\r\n\r\nAccording to your code:\r\n- bytes from index 7 to 71 are your *exponent* bytes,\r\n- bytes from index 71 till the end of the stream are your *modulus* bytes.\r\n\r\nIIUC, you want to extract the *exponent* and the *modulus* from the above byte string.\r\n\r\n---\r\n\r\nThe issue you are facing stems from the fact that in cryptography, the numbers are typically *unsigned integers*, with a protocol-defined byte order, whereas Java&#39;s `BigInteger`s are *big-endian*, *signed* integers.\r\n\r\nIn order to convert an arbitrary integer (signed/unsigned, big-endian/little-endian) into a `BigInteger`, one has to perform some machinations.\r\n\r\nIn your case, it&#39;s enough to simply [reverse the byte arrays](https://stackoverflow.com/questions/2137755/how-do-i-reverse-an-int-array-in-java), as suggested in the comments:\r\n\r\n``` Java\r\nint packageLength = 199;\r\n\r\nbyte[] response = IOUtils.toByteArray(is, packageLength); \r\n\r\nbyte[] rsaPubExponentBytes = Arrays.copyOfRange(response, 7, 71);\r\nbyte[] rsaModuloBytes = Arrays.copyOfRange(response, 71, packageLength);\r\n\r\n// missing step!\r\nreverse(rsaPubExponentBytes);\r\nreverse(rsaModuloBytes);\r\n\r\nBigInteger rsaPubExponentNumber = new BigInteger(1, rsaPubExponentBytes);\r\nBigInteger rsaModuloNumber = new BigInteger(1, rsaModuloBytes);\r\n// ...\r\n```\r\n``` java\r\npublic static void reverse(byte[] arr) {\r\n    for (int i = 0; i &lt; arr.length / 2) {\r\n        int tmp = arr[i]\r\n        arr[i] = arr[arr.length - 1 - i];\r\n        arr[arr.length - 1 - i] = tmp;\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\nI&#39;ve ran into a similar issue when working on a project of mine. You might find my library, [**SRP-6 Variables**](https://github.com/Glusk/srp6-variables), helpful:\r\n\r\n``` Java\r\nbyte[] stream = new Hex(&quot;C70001A100408031313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131E5AA194C3DBA71F9A38AF85D43C130A462BDCBACF85ED702B5E2FECB47197DAA433E7B5ACF5EF09A07C5DDE79B7A2EED76B91090CB981E13DBE316997FCF5DC51BE40B2D02D912457D97924B94094227F8BC65DD61FE78060B55BEAAA31C64E3B36863B407F7183DABA9D98F0C9061DED36AD16407F70C4925951BAA8807EC95&quot;).asArray();\r\n\r\nBigInteger exponent = \r\n    new SRP6CustomIntegerVariable(\r\n        Bytes.wrapped(Arrays.copyOfRange(stream, 7, 71)),\r\n        ByteOrder.LITTLE_ENDIAN\r\n    ).asNonNegativeBigInteger();\r\nBigInteger modulus = \r\n    new SRP6CustomIntegerVariable(\r\n        Bytes.wrapped(Arrays.copyOfRange(stream, 71, stream.length)),\r\n        ByteOrder.LITTLE_ENDIAN\r\n    ).asNonNegativeBigInteger();\r\n```","title":"Convert byte array to BigInteger incorrect","body":"<p>Lets go through your code and packet stream structure.</p>\n<p>You have the following binary stream encoded as a hex string:</p>\n<pre class=\"lang-none prettyprint-override\"><code>C70001A100408031313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131E5AA194C3DBA71F9A38AF85D43C130A462BDCBACF85ED702B5E2FECB47197DAA433E7B5ACF5EF09A07C5DDE79B7A2EED76B91090CB981E13DBE316997FCF5DC51BE40B2D02D912457D97924B94094227F8BC65DD61FE78060B55BEAAA31C64E3B36863B407F7183DABA9D98F0C9061DED36AD16407F70C4925951BAA8807EC95\n</code></pre>\n<p>According to your code:</p>\n<ul>\n<li>bytes from index 7 to 71 are your <em>exponent</em> bytes,</li>\n<li>bytes from index 71 till the end of the stream are your <em>modulus</em> bytes.</li>\n</ul>\n<p>IIUC, you want to extract the <em>exponent</em> and the <em>modulus</em> from the above byte string.</p>\n<hr />\n<p>The issue you are facing stems from the fact that in cryptography, the numbers are typically <em>unsigned integers</em>, with a protocol-defined byte order, whereas Java's <code>BigInteger</code>s are <em>big-endian</em>, <em>signed</em> integers.</p>\n<p>In order to convert an arbitrary integer (signed/unsigned, big-endian/little-endian) into a <code>BigInteger</code>, one has to perform some machinations.</p>\n<p>In your case, it's enough to simply <a href=\"https://stackoverflow.com/questions/2137755/how-do-i-reverse-an-int-array-in-java\">reverse the byte arrays</a>, as suggested in the comments:</p>\n<pre><code>int packageLength = 199;\n\nbyte[] response = IOUtils.toByteArray(is, packageLength); \n\nbyte[] rsaPubExponentBytes = Arrays.copyOfRange(response, 7, 71);\nbyte[] rsaModuloBytes = Arrays.copyOfRange(response, 71, packageLength);\n\n// missing step!\nreverse(rsaPubExponentBytes);\nreverse(rsaModuloBytes);\n\nBigInteger rsaPubExponentNumber = new BigInteger(1, rsaPubExponentBytes);\nBigInteger rsaModuloNumber = new BigInteger(1, rsaModuloBytes);\n// ...\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static void reverse(byte[] arr) {\n    for (int i = 0; i &lt; arr.length / 2) {\n        int tmp = arr[i]\n        arr[i] = arr[arr.length - 1 - i];\n        arr[arr.length - 1 - i] = tmp;\n    }\n}\n</code></pre>\n<hr />\n<p>I've ran into a similar issue when working on a project of mine. You might find my library, <a href=\"https://github.com/Glusk/srp6-variables\" rel=\"nofollow noreferrer\"><strong>SRP-6 Variables</strong></a>, helpful:</p>\n<pre><code>byte[] stream = new Hex(&quot;C70001A100408031313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131E5AA194C3DBA71F9A38AF85D43C130A462BDCBACF85ED702B5E2FECB47197DAA433E7B5ACF5EF09A07C5DDE79B7A2EED76B91090CB981E13DBE316997FCF5DC51BE40B2D02D912457D97924B94094227F8BC65DD61FE78060B55BEAAA31C64E3B36863B407F7183DABA9D98F0C9061DED36AD16407F70C4925951BAA8807EC95&quot;).asArray();\n\nBigInteger exponent = \n    new SRP6CustomIntegerVariable(\n        Bytes.wrapped(Arrays.copyOfRange(stream, 7, 71)),\n        ByteOrder.LITTLE_ENDIAN\n    ).asNonNegativeBigInteger();\nBigInteger modulus = \n    new SRP6CustomIntegerVariable(\n        Bytes.wrapped(Arrays.copyOfRange(stream, 71, stream.length)),\n        ByteOrder.LITTLE_ENDIAN\n    ).asNonNegativeBigInteger();\n</code></pre>\n"}],"owner":{"account_id":23501729,"reputation":3,"user_id":17551551,"display_name":"Nick Pham"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70171135,"answer_count":1,"score":0,"last_activity_date":1638612038,"creation_date":1638272780,"question_id":70168847,"body_markdown":"Since I tried to simulate the connection between my client and my server working on packet, I have been in the struggle with byte array and BigInteger. \r\n\r\nWhen my client connected to the server, the server sent a response which include an RSA public key, then a packet in hex just like this:\r\n\r\n```none\r\nC70001A100408031313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131E5AA194C3DBA71F9A38AF85D43C130A462BDCBACF85ED702B5E2FECB47197DAA433E7B5ACF5EF09A07C5DDE79B7A2EED76B91090CB981E13DBE316997FCF5DC51BE40B2D02D912457D97924B94094227F8BC65DD61FE78060B55BEAAA31C64E3B36863B407F7183DABA9D98F0C9061DED36AD16407F70C4925951BAA8807EC95\r\n```\r\n\r\nThe 64 byte after `C70001A1004080` is the RSA public exponent.\r\nThe 128 byte next after RSA exponent is the modulus.\r\n\r\nThen I tried to extract the exponent and the modulus to re-generate an RSA public key. My steps: \r\n\r\n```java\r\nif (socket == null) socket = new Socket(loginHost, loginPort);\r\nif (is == null) is = socket.getInputStream();\r\nif (os == null) os = socket.getOutputStream();\r\n\r\nint packageLength = 199;\r\n\r\nbyte[] response = IOUtils.toByteArray(is, packageLength); \r\n\r\nbyte[] rsaPubExponentBytes = Arrays.copyOfRange(response, 7, 71);\r\nbyte[] rsaModuloBytes = Arrays.copyOfRange(response, 71, packageLength);\r\n\r\nBigInteger rsaPubExponentNumber = new BigInteger(1, rsaPubExponentBytes);\r\nBigInteger rsaModuloNumber = new BigInteger(1, rsaModuloBytes);\r\n\r\nPublicKey pub = null;\r\n\r\ntry {\r\n    RSAPublicKeySpec spec = new RSAPublicKeySpec(rsaModuloNumber, rsaPubExponentNumber);\r\n    KeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            \r\n    pub = factory.generatePublic(spec);\r\n} catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nFinally I had a public key:\r\n\r\n```none\r\nSun RSA public key, 1024 bits\r\n  modulus: 161275860318613570660794349609651113455378591213521007305334206887210873414776462027746458127536797075994278751416175612148660222076731030937875746805281690156725876857482174279314968596913890067397869829419019179316569148699704292044128937649866682741942026327643537075317389490824101005022833230463069842581\r\n  public exponent: 2576402308106616697565204803576809648025446765525597158856684355852417401857269811228595453373248109634555141377011045066015451991315223244608818828620081\r\n```\r\n\r\nCompare to the RSA from the server\r\n\r\n```none\r\nSun RSA public key, 1024 bits\r\n  modulus: 105278801605955351183032861925660079240049371193037037019863031780531990060755731057393990664319512505978954889835933668032824049054190807125138251307247771506918060803959346902566451812689470408398611041302277800747341495594297701677567604614145074223483256879948522462707345079591319551080307454838134385381\r\n  public exponent: 2576402308106616697565204803576809648025446765525597158856684355852417401857269811228595453373248109634555141377011045066015451991315223244608818828620081\r\n``` \r\n\r\nThen the the modulus was wrong. I double checked by converting BigInteger to byte array and show it with hex\r\n\r\n```java\r\nSystem.out.println(bytesToHex(rsaPubExponentNumber.toByteArray()));\r\nSystem.out.println(bytesToHex(rsaModuloNumber.toByteArray()));\r\n\r\nprivate String bytesToHex(byte[] bytes) {\r\n    StringBuilder sb = new StringBuilder();\r\n    for (byte b : bytes) {\r\n       sb.append(String.format(&quot;%02X &quot;, b));\r\n    }\r\n    return sb.toString().replaceAll(&quot; &quot;, &quot;&quot;);\r\n}\r\n```\r\n\r\nThe result is:\r\n\r\nExponent:\r\n`31313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131`\r\n\r\nModulus\r\n`00E5AA194C3DBA71F9A38AF85D43C130A462BDCBACF85ED702B5E2FECB47197DAA433E7B5ACF5EF09A07C5DDE79B7A2EED76B91090CB981E13DBE316997FCF5DC51BE40B2D02D912457D97924B94094227F8BC65DD61FE78060B55BEAAA31C64E3B36863B407F7183DABA9D98F0C9061DED36AD16407F70C4925951BAA8807EC95`\r\n\r\nThe modulus now has 00 at the beginning and the public key was generated, but incorrect one. \r\n\r\nI also tried:\r\n\r\n```\r\nBigInteger exponent = new BigInteger(exponentHexString, 16);\r\nBigInteger modulus = new BigInteger(modulusHexString, 16);\r\n```\r\n\r\nHowever, the result still the same. How can I fix this?","title":"Convert byte array to BigInteger incorrect","body":"<p>Since I tried to simulate the connection between my client and my server working on packet, I have been in the struggle with byte array and BigInteger.</p>\n<p>When my client connected to the server, the server sent a response which include an RSA public key, then a packet in hex just like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>C70001A100408031313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131E5AA194C3DBA71F9A38AF85D43C130A462BDCBACF85ED702B5E2FECB47197DAA433E7B5ACF5EF09A07C5DDE79B7A2EED76B91090CB981E13DBE316997FCF5DC51BE40B2D02D912457D97924B94094227F8BC65DD61FE78060B55BEAAA31C64E3B36863B407F7183DABA9D98F0C9061DED36AD16407F70C4925951BAA8807EC95\n</code></pre>\n<p>The 64 byte after <code>C70001A1004080</code> is the RSA public exponent.\nThe 128 byte next after RSA exponent is the modulus.</p>\n<p>Then I tried to extract the exponent and the modulus to re-generate an RSA public key. My steps:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (socket == null) socket = new Socket(loginHost, loginPort);\nif (is == null) is = socket.getInputStream();\nif (os == null) os = socket.getOutputStream();\n\nint packageLength = 199;\n\nbyte[] response = IOUtils.toByteArray(is, packageLength); \n\nbyte[] rsaPubExponentBytes = Arrays.copyOfRange(response, 7, 71);\nbyte[] rsaModuloBytes = Arrays.copyOfRange(response, 71, packageLength);\n\nBigInteger rsaPubExponentNumber = new BigInteger(1, rsaPubExponentBytes);\nBigInteger rsaModuloNumber = new BigInteger(1, rsaModuloBytes);\n\nPublicKey pub = null;\n\ntry {\n    RSAPublicKeySpec spec = new RSAPublicKeySpec(rsaModuloNumber, rsaPubExponentNumber);\n    KeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\n            \n    pub = factory.generatePublic(spec);\n} catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Finally I had a public key:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Sun RSA public key, 1024 bits\n  modulus: 161275860318613570660794349609651113455378591213521007305334206887210873414776462027746458127536797075994278751416175612148660222076731030937875746805281690156725876857482174279314968596913890067397869829419019179316569148699704292044128937649866682741942026327643537075317389490824101005022833230463069842581\n  public exponent: 2576402308106616697565204803576809648025446765525597158856684355852417401857269811228595453373248109634555141377011045066015451991315223244608818828620081\n</code></pre>\n<p>Compare to the RSA from the server</p>\n<pre class=\"lang-none prettyprint-override\"><code>Sun RSA public key, 1024 bits\n  modulus: 105278801605955351183032861925660079240049371193037037019863031780531990060755731057393990664319512505978954889835933668032824049054190807125138251307247771506918060803959346902566451812689470408398611041302277800747341495594297701677567604614145074223483256879948522462707345079591319551080307454838134385381\n  public exponent: 2576402308106616697565204803576809648025446765525597158856684355852417401857269811228595453373248109634555141377011045066015451991315223244608818828620081\n</code></pre>\n<p>Then the the modulus was wrong. I double checked by converting BigInteger to byte array and show it with hex</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(bytesToHex(rsaPubExponentNumber.toByteArray()));\nSystem.out.println(bytesToHex(rsaModuloNumber.toByteArray()));\n\nprivate String bytesToHex(byte[] bytes) {\n    StringBuilder sb = new StringBuilder();\n    for (byte b : bytes) {\n       sb.append(String.format(&quot;%02X &quot;, b));\n    }\n    return sb.toString().replaceAll(&quot; &quot;, &quot;&quot;);\n}\n</code></pre>\n<p>The result is:</p>\n<p>Exponent:\n<code>31313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131</code></p>\n<p>Modulus\n<code>00E5AA194C3DBA71F9A38AF85D43C130A462BDCBACF85ED702B5E2FECB47197DAA433E7B5ACF5EF09A07C5DDE79B7A2EED76B91090CB981E13DBE316997FCF5DC51BE40B2D02D912457D97924B94094227F8BC65DD61FE78060B55BEAAA31C64E3B36863B407F7183DABA9D98F0C9061DED36AD16407F70C4925951BAA8807EC95</code></p>\n<p>The modulus now has 00 at the beginning and the public key was generated, but incorrect one.</p>\n<p>I also tried:</p>\n<pre><code>BigInteger exponent = new BigInteger(exponentHexString, 16);\nBigInteger modulus = new BigInteger(modulusHexString, 16);\n</code></pre>\n<p>However, the result still the same. How can I fix this?</p>\n"},{"tags":["java","android","android-gradle-plugin","android-9.0-pie"],"comments":[{"owner":{"account_id":13492977,"reputation":1827,"user_id":9734616,"display_name":"Brijesh Joshi"},"score":2,"creation_date":1530770875,"post_id":51183581,"comment_id":89350456,"body_markdown":"add your gradle file","body":"add your gradle file"},{"owner":{"account_id":11467143,"reputation":943,"user_id":8405035,"display_name":"Jay Halani"},"score":1,"creation_date":1530777244,"post_id":51183581,"comment_id":89353944,"body_markdown":"I&#39;ve added that gradle code and the solution below.","body":"I&#39;ve added that gradle code and the solution below."}],"answers":[{"tags":[],"owner":{"account_id":11467143,"reputation":943,"user_id":8405035,"display_name":"Jay Halani"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1530766296,"creation_date":1530766296,"answer_id":51183582,"question_id":51183581,"body_markdown":"Step 1: Open Preferences or Settings in Android studio. Select Android SDK options and Install Android API 28 as selected below.\r\n\r\n[![install][1]][1] \r\n\r\nStep 2: There&#39;s a problem with compileSdkVersion as you have to change it from &#39;android-P&#39; to 28.\r\n    \r\n    compileSdkVersion 28\r\n\r\nAnd Build project. That&#39;s it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kKYsv.png","title":"Failed to find Platform SDK with path: platforms;android-P","body":"<p>Step 1: Open Preferences or Settings in Android studio. Select Android SDK options and Install Android API 28 as selected below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/kKYsv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kKYsv.png\" alt=\"install\"></a> </p>\n\n<p>Step 2: There's a problem with compileSdkVersion as you have to change it from 'android-P' to 28.</p>\n\n<pre><code>compileSdkVersion 28\n</code></pre>\n\n<p>And Build project. That's it.</p>\n"},{"tags":[],"owner":{"account_id":13492977,"reputation":1827,"user_id":9734616,"display_name":"Brijesh Joshi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1530781320,"creation_date":1530781320,"answer_id":51187271,"question_id":51183581,"body_markdown":"To fully test your app&#39;s compatibility with Android P and begin using new APIs, open your module-level build.gradle file and update the compileSdkVersion and targetSdkVersion as shown here:\r\n\r\n    android {\r\n        compileSdkVersion 28\r\n    \r\n        defaultConfig {\r\n            targetSdkVersion 28\r\n        }\r\n        ...\r\n    }\r\n\r\n[Set Up the Android P SDK][1]\r\n\r\n\r\n  [1]: https://developer.android.com/preview/setup-sdk","title":"Failed to find Platform SDK with path: platforms;android-P","body":"<p>To fully test your app's compatibility with Android P and begin using new APIs, open your module-level build.gradle file and update the compileSdkVersion and targetSdkVersion as shown here:</p>\n\n<pre><code>android {\n    compileSdkVersion 28\n\n    defaultConfig {\n        targetSdkVersion 28\n    }\n    ...\n}\n</code></pre>\n\n<p><a href=\"https://developer.android.com/preview/setup-sdk\" rel=\"noreferrer\">Set Up the Android P SDK</a></p>\n"},{"tags":[],"owner":{"account_id":14052458,"reputation":3786,"user_id":10150796,"display_name":"Nikunj Kumbhani"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1592477287,"creation_date":1592477287,"answer_id":62448206,"question_id":51183581,"body_markdown":"**Failed to find Platform SDK with path: platforms;android-R**\r\n\r\nput this code in `android/build.gradle` at the end &#128522;&#128640;\r\n\r\n    subprojects {\r\n        project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\r\n    \r\n        project.evaluationDependsOn(&#39;:app&#39;)\r\n    \r\n        afterEvaluate {project -&gt;\r\n            if (project.hasProperty(&quot;android&quot;) &amp;&amp; project.property(&quot;android&quot;).compileSdkVersion.equals(&quot;android-R&quot;)) {\r\n                android {\r\n                    compileSdkVersion 30\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Failed to find Platform SDK with path: platforms;android-P","body":"<p><strong>Failed to find Platform SDK with path: platforms;android-R</strong></p>\n\n<p>put this code in <code>android/build.gradle</code> at the end üòäüöÄ</p>\n\n<pre><code>subprojects {\n    project.buildDir = \"${rootProject.buildDir}/${project.name}\"\n\n    project.evaluationDependsOn(':app')\n\n    afterEvaluate {project -&gt;\n        if (project.hasProperty(\"android\") &amp;&amp; project.property(\"android\").compileSdkVersion.equals(\"android-R\")) {\n            android {\n                compileSdkVersion 30\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19186130,"reputation":1,"user_id":14016884,"display_name":"KASHIKA KHATRI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596048915,"creation_date":1596036302,"answer_id":63157027,"question_id":51183581,"body_markdown":"Problem: **Failed to find Platform SDK with path: platforms;android-27**\r\n\r\nSolution:\r\n- Just change `compileSdkVersion` to 30, and `targetSdkVersion` to 30 and click on sync. The system will download some files and done. (you want an internet connection for this)\r\n\r\n```\r\nandroid {\r\n compileSdkVersion 30\r\n defaultConfig {\r\n       targetSdkVersion 30\r\n }\r\n ...\r\n}\r\n```\r\n","title":"Failed to find Platform SDK with path: platforms;android-P","body":"<p>Problem: <strong>Failed to find Platform SDK with path: platforms;android-27</strong></p>\n<p>Solution:</p>\n<ul>\n<li>Just change <code>compileSdkVersion</code> to 30, and <code>targetSdkVersion</code> to 30 and click on sync. The system will download some files and done. (you want an internet connection for this)</li>\n</ul>\n<pre><code>android {\n compileSdkVersion 30\n defaultConfig {\n       targetSdkVersion 30\n }\n ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10198649,"reputation":127,"user_id":7529719,"display_name":"Hari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638611875,"creation_date":1638611875,"answer_id":70224618,"question_id":51183581,"body_markdown":"Need to update the compileSdkVersion and targetSdkVersion to 30 resolves the problem[![SDK Version Change][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Bmya7.png\r\n","title":"Failed to find Platform SDK with path: platforms;android-P","body":"<p>Need to update the compileSdkVersion and targetSdkVersion to 30 resolves the problem<a href=\"https://i.stack.imgur.com/Bmya7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bmya7.png\" alt=\"SDK Version Change\" /></a></p>\n"}],"owner":{"account_id":11467143,"reputation":943,"user_id":8405035,"display_name":"Jay Halani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64696,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":51183582,"answer_count":5,"score":30,"last_activity_date":1638611875,"creation_date":1530766296,"question_id":51183581,"body_markdown":"Error:FAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring project &#39;:app&#39;.\r\n\r\n&gt; Failed to find Platform SDK with path: platforms;android-P\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n        android {\r\n            compileSdkVersion &#39;android-P&#39;\r\n            defaultConfig {\r\n                applicationId &quot;com.google.codelabs.mdc.java.shrine&quot;\r\n                minSdkVersion 15\r\n                targetSdkVersion 28\r\n                versionCode 1\r\n                versionName &quot;1.0&quot;\r\n                testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n                vectorDrawables.useSupportLibrary = true\r\n            }\r\n            buildTypes {\r\n                release {\r\n                    minifyEnabled false\r\n                    proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n                }\r\n            }\r\n         }\r\n\r\n        dependencies {\r\n            api &#39;com.android.support:design:28.0.0-alpha1&#39;\r\n            implementation &#39;com.android.support:support-v4:28.0.0-alpha1&#39;\r\n            implementation &#39;com.android.volley:volley:1.1.0&#39;\r\n            implementation &#39;com.google.code.gson:gson:2.8.2&#39;\r\n            testImplementation &#39;junit:junit:4.12&#39;\r\n            androidTestImplementation &#39;com.android.support.test:runner:1.0.1&#39;\r\n            androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.1&#39;\r\n        }","title":"Failed to find Platform SDK with path: platforms;android-P","body":"<p>Error:FAILURE: Build failed with an exception.</p>\n\n<ul>\n<li>What went wrong:\nA problem occurred configuring project ':app'.</li>\n</ul>\n\n<blockquote>\n  <p>Failed to find Platform SDK with path: platforms;android-P</p>\n</blockquote>\n\n<pre><code>apply plugin: 'com.android.application'\n\n    android {\n        compileSdkVersion 'android-P'\n        defaultConfig {\n            applicationId \"com.google.codelabs.mdc.java.shrine\"\n            minSdkVersion 15\n            targetSdkVersion 28\n            versionCode 1\n            versionName \"1.0\"\n            testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n            vectorDrawables.useSupportLibrary = true\n        }\n        buildTypes {\n            release {\n                minifyEnabled false\n                proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            }\n        }\n     }\n\n    dependencies {\n        api 'com.android.support:design:28.0.0-alpha1'\n        implementation 'com.android.support:support-v4:28.0.0-alpha1'\n        implementation 'com.android.volley:volley:1.1.0'\n        implementation 'com.google.code.gson:gson:2.8.2'\n        testImplementation 'junit:junit:4.12'\n        androidTestImplementation 'com.android.support.test:runner:1.0.1'\n        androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n    }\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-storage"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1638611087,"creation_date":1638611087,"answer_id":70224541,"question_id":70219034,"body_markdown":"&gt; Upload multiple images in the background and show the progress in a notification.\r\n\r\nFor those operations, I assume you are using a line of code similar to this:\r\n\r\n    UploadTask uploadTask = storageReference.putFile(filePath);\r\n\r\n&gt; Now I want to cancel this task when the user presses the cancel button in the notification.\r\n\r\nAs seen the above line of code, the [putFile(Uri uri)][1] method that is called on a [StorageReference][2] object, returns an object of type [UploadTask][3]. This class is a subclass of [StorageTask][5], which in terms is a subclass of [ControllableTask][6], which is also a subclass of [CancellableTask][7].\r\n\r\nBecause of the inheritance relationship between these classes, you can simply call CancellableTask&#39;s [cancel()][8] method:\r\n\r\n&gt; Attempts to cancel the task.\r\n\r\nIn order to cancel the Task. In code should look like this:\r\n\r\n    uploadTask.cancel();\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/storage/StorageReference#putFile(android.net.Uri)\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/storage/StorageReference\r\n  [3]: https://firebase.google.com/docs/reference/android/com/google/firebase/storage/UploadTask\r\n  [5]: https://firebase.google.com/docs/reference/android/com/google/firebase/storage/StorageTask\r\n  [6]: https://firebase.google.com/docs/reference/android/com/google/firebase/storage/ControllableTask\r\n  [7]: https://firebase.google.com/docs/reference/android/com/google/firebase/storage/CancellableTask\r\n  [8]: https://firebase.google.com/docs/reference/android/com/google/firebase/storage/CancellableTask#cancel()","title":"Canceling an Firebase Storage UploadTask","body":"<blockquote>\n<p>Upload multiple images in the background and show the progress in a notification.</p>\n</blockquote>\n<p>For those operations, I assume you are using a line of code similar to this:</p>\n<pre><code>UploadTask uploadTask = storageReference.putFile(filePath);\n</code></pre>\n<blockquote>\n<p>Now I want to cancel this task when the user presses the cancel button in the notification.</p>\n</blockquote>\n<p>As seen the above line of code, the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/storage/StorageReference#putFile(android.net.Uri)\" rel=\"nofollow noreferrer\">putFile(Uri uri)</a> method that is called on a <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/storage/StorageReference\" rel=\"nofollow noreferrer\">StorageReference</a> object, returns an object of type <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/storage/UploadTask\" rel=\"nofollow noreferrer\">UploadTask</a>. This class is a subclass of <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/storage/StorageTask\" rel=\"nofollow noreferrer\">StorageTask</a>, which in terms is a subclass of <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/storage/ControllableTask\" rel=\"nofollow noreferrer\">ControllableTask</a>, which is also a subclass of <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/storage/CancellableTask\" rel=\"nofollow noreferrer\">CancellableTask</a>.</p>\n<p>Because of the inheritance relationship between these classes, you can simply call CancellableTask's <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/storage/CancellableTask#cancel()\" rel=\"nofollow noreferrer\">cancel()</a> method:</p>\n<blockquote>\n<p>Attempts to cancel the task.</p>\n</blockquote>\n<p>In order to cancel the Task. In code should look like this:</p>\n<pre><code>uploadTask.cancel();\n</code></pre>\n"}],"owner":{"account_id":23127752,"reputation":89,"user_id":17233314,"display_name":"User"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70224541,"answer_count":1,"score":1,"last_activity_date":1638611127,"creation_date":1638555693,"question_id":70219034,"body_markdown":"My use case is simple. Upload multiple images in the background and show the progress in a notification. Now I want to cancel this task when the user presses the cancel button in the notification. As the upload task cannot be serialized then how am I supposed to cancel that particular upload task?","title":"Canceling an Firebase Storage UploadTask","body":"<p>My use case is simple. Upload multiple images in the background and show the progress in a notification. Now I want to cancel this task when the user presses the cancel button in the notification. As the upload task cannot be serialized then how am I supposed to cancel that particular upload task?</p>\n"},{"tags":["java","angular","typescript","jhipster"],"answers":[{"tags":[],"owner":{"account_id":1020929,"reputation":3574,"user_id":1031296,"display_name":"vicpermir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638610776,"creation_date":1638603928,"answer_id":70223865,"question_id":70208795,"body_markdown":"The backend does not understand the JavaScript date string you are passing, the easiest solution is to use JHipster&#39;s date/time library of choice ([dayjs][1] or [momentjs][2] in older versions).\r\n\r\n```typescript\r\nimport * as moment from &#39;moment&#39;;\r\n// ...\r\n        &#39;transStartDate.equals&#39;: moment()\r\n// ...\r\n```\r\n\r\nOr:\r\n\r\n```typescript\r\nimport * as dayjs from &#39;dayjs&#39;;\r\n// ...\r\n        &#39;transStartDate.equals&#39;: dayjs()\r\n// ...\r\n```\r\n\r\nThis should in theory return all the `Transaction` that have a `transStartDate` equal to the current date.\r\n\r\n\r\n  [1]: https://day.js.org/\r\n  [2]: https://momentjs.com/","title":"JHipster generated file failed to convert property value of type &#39;java.lang.String&#39; to required type &#39;java.time.LocalDate&#39;","body":"<p>The backend does not understand the JavaScript date string you are passing, the easiest solution is to use JHipster's date/time library of choice (<a href=\"https://day.js.org/\" rel=\"nofollow noreferrer\">dayjs</a> or <a href=\"https://momentjs.com/\" rel=\"nofollow noreferrer\">momentjs</a> in older versions).</p>\n<pre class=\"lang-js prettyprint-override\"><code>import * as moment from 'moment';\n// ...\n        'transStartDate.equals': moment()\n// ...\n</code></pre>\n<p>Or:</p>\n<pre class=\"lang-js prettyprint-override\"><code>import * as dayjs from 'dayjs';\n// ...\n        'transStartDate.equals': dayjs()\n// ...\n</code></pre>\n<p>This should in theory return all the <code>Transaction</code> that have a <code>transStartDate</code> equal to the current date.</p>\n"}],"owner":{"account_id":4630516,"reputation":127,"user_id":3753175,"display_name":"Nic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638610776,"creation_date":1638498333,"question_id":70208795,"body_markdown":"I have generated the files by using JHipster and currently I am trying to call a query which involves a Date variable but am getting a failed conversion.\r\n\r\nThe following is my typescript file method which provide the criteria query for the search.\r\n\r\n      loadSearchPage(page?: number): void {\r\n        const pageToLoad: number = page || this.page;\r\n    \r\n        this.transactionService\r\n          .query({\r\n            page: pageToLoad - 1,\r\n            size: this.itemsPerPage,\r\n            sort: this.sort(),\r\n            &#39;transStartDate.equals&#39;: new Date()\r\n          })\r\n          .subscribe(\r\n            (res: HttpResponse&lt;ITransaction[]&gt;) =&gt; this.onSuccess(res.body, res.headers, pageToLoad),\r\n            () =&gt; this.onError()\r\n          );\r\n      }\r\n\r\nIt then calls for the query method within the transaction.\r\n\r\n      query(req?: any): Observable&lt;EntityArrayResponseType&gt; {\r\n        const options = createRequestOption(req);\r\n        return this.http\r\n          .get&lt;ITransaction[]&gt;(this.resourceUrl, { params: options, observe: &#39;response&#39; })\r\n          .pipe(map((res: EntityArrayResponseType) =&gt; this.convertDateArrayFromServer(res)));\r\n      }\r\n\r\nThe following is the default JHipster convertDateArrayFromServer method that was provided.\r\n\r\n      protected convertDateArrayFromServer(res: EntityArrayResponseType): EntityArrayResponseType {\r\n        if (res.body) {\r\n          res.body.forEach((transaction: ITransaction) =&gt; {\r\n            transaction.transStartDate = transaction.transStartDate ? moment(transaction.transStartDate) : undefined;\r\n            transaction.transEndDate = transaction.transEndDate ? moment(transaction.transEndDate) : undefined;\r\n          });\r\n        }\r\n            return res;   \r\n      }\r\n\r\nI have tried researching on methods to work around it and also tried out the following however the request level file that was generated from JHipster had a very different structure and I wasn&#39;t able to modify it accordingly to this webpage: https://www.baeldung.com/spring-date-parameters\r\n\r\nWould kindly seek an assistance for a workable solution to the following error that was thrown.\r\n\r\n&gt; &quot;Failed to convert property value of type &#39;java.lang.String&#39; to\r\n&gt; required type &#39;java.time.LocalDate&#39; for property\r\n&gt; &#39;transStartDate.equals&#39;; nested exception is\r\n&gt; org.springframework.core.convert.ConversionFailedException: Failed to\r\n&gt; convert from type [java.lang.String] to type [java.time.LocalDate] for\r\n&gt; value &#39;Fri Dec 03 2021 09:22:35 GMT 0800 (Singapore Standard Time)&#39;;\r\n&gt; nested exception is java.lang.IllegalArgumentException: Parse attempt\r\n&gt; failed for value [Fri Dec 03 2021 09:22:35 GMT 0800 (Singapore\r\n&gt; Standard Time)]","title":"JHipster generated file failed to convert property value of type &#39;java.lang.String&#39; to required type &#39;java.time.LocalDate&#39;","body":"<p>I have generated the files by using JHipster and currently I am trying to call a query which involves a Date variable but am getting a failed conversion.</p>\n<p>The following is my typescript file method which provide the criteria query for the search.</p>\n<pre><code>  loadSearchPage(page?: number): void {\n    const pageToLoad: number = page || this.page;\n\n    this.transactionService\n      .query({\n        page: pageToLoad - 1,\n        size: this.itemsPerPage,\n        sort: this.sort(),\n        'transStartDate.equals': new Date()\n      })\n      .subscribe(\n        (res: HttpResponse&lt;ITransaction[]&gt;) =&gt; this.onSuccess(res.body, res.headers, pageToLoad),\n        () =&gt; this.onError()\n      );\n  }\n</code></pre>\n<p>It then calls for the query method within the transaction.</p>\n<pre><code>  query(req?: any): Observable&lt;EntityArrayResponseType&gt; {\n    const options = createRequestOption(req);\n    return this.http\n      .get&lt;ITransaction[]&gt;(this.resourceUrl, { params: options, observe: 'response' })\n      .pipe(map((res: EntityArrayResponseType) =&gt; this.convertDateArrayFromServer(res)));\n  }\n</code></pre>\n<p>The following is the default JHipster convertDateArrayFromServer method that was provided.</p>\n<pre><code>  protected convertDateArrayFromServer(res: EntityArrayResponseType): EntityArrayResponseType {\n    if (res.body) {\n      res.body.forEach((transaction: ITransaction) =&gt; {\n        transaction.transStartDate = transaction.transStartDate ? moment(transaction.transStartDate) : undefined;\n        transaction.transEndDate = transaction.transEndDate ? moment(transaction.transEndDate) : undefined;\n      });\n    }\n        return res;   \n  }\n</code></pre>\n<p>I have tried researching on methods to work around it and also tried out the following however the request level file that was generated from JHipster had a very different structure and I wasn't able to modify it accordingly to this webpage: <a href=\"https://www.baeldung.com/spring-date-parameters\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-date-parameters</a></p>\n<p>Would kindly seek an assistance for a workable solution to the following error that was thrown.</p>\n<blockquote>\n<p>&quot;Failed to convert property value of type 'java.lang.String' to\nrequired type 'java.time.LocalDate' for property\n'transStartDate.equals'; nested exception is\norg.springframework.core.convert.ConversionFailedException: Failed to\nconvert from type [java.lang.String] to type [java.time.LocalDate] for\nvalue 'Fri Dec 03 2021 09:22:35 GMT 0800 (Singapore Standard Time)';\nnested exception is java.lang.IllegalArgumentException: Parse attempt\nfailed for value [Fri Dec 03 2021 09:22:35 GMT 0800 (Singapore\nStandard Time)]</p>\n</blockquote>\n"},{"tags":["java","sockets","socketexception"],"comments":[{"owner":{"account_id":14839538,"reputation":26,"user_id":10716679,"display_name":"Xarencia"},"score":0,"creation_date":1637298474,"post_id":70029938,"comment_id":123794304,"body_markdown":"[I think the port 5555 is not for personal use.](http://tcp-udp-ports.com/port-5555.htm), try something else, like 8686.","body":"<a href=\"http://tcp-udp-ports.com/port-5555.htm\" rel=\"nofollow noreferrer\">I think the port 5555 is not for personal use.</a>, try something else, like 8686."},{"owner":{"account_id":19698328,"reputation":13,"user_id":14421723,"display_name":"UnknownCoder 56"},"score":0,"creation_date":1637303877,"post_id":70029938,"comment_id":123795372,"body_markdown":"Changed the port, still same error @Xarencia","body":"Changed the port, still same error @Xarencia"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1637340145,"post_id":70029938,"comment_id":123808447,"body_markdown":"Because you use separate threads the read and write, and you close the input/output stream in either thread when you&#39;re done, it is not deterministic when the socket closes. Closing the input stream or output stream from a socket will close the entire socket, including the output stream or input stream you didn&#39;t explicitly close.","body":"Because you use separate threads the read and write, and you close the input/output stream in either thread when you&#39;re done, it is not deterministic when the socket closes. Closing the input stream or output stream from a socket will close the entire socket, including the output stream or input stream you didn&#39;t explicitly close."}],"answers":[{"tags":[],"owner":{"account_id":23341247,"reputation":197,"user_id":17416117,"display_name":"Michael Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637334777,"creation_date":1637334777,"answer_id":70037009,"question_id":70029938,"body_markdown":"In your *ClientThread*, after `din.readUTF(); if (!text.equals(&quot;&quot;)) { ...`, you should **directly** start processing the incoming data in current thread, rather than initializing a new thread to handle them. \r\n\r\nBecause in you current thread, the one holding the connected socket, probably **closed before** the new thread has not even started up. As [Java Docs](https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html) says:\r\n\r\n&gt; void close() throws Exception\r\n&gt;\r\n&gt; Closes this resource, relinquishing any underlying resources. This method is **invoked automatically** on objects managed by the **try-with-resources statement**. \r\n\r\nThat is why you got `Socket Closed` exceptions. \r\n\r\nOne more thing is that, there are too many threads in either `Server` or `Client`. Most of time such things are unnecessary, say, for a rather simple application. Because they are not quite managed well in your codes, which more likely makes your program behave unexpectedly in the future. Try use threads **only if necessary**, instead of using them *as much as possible*.","title":"Why socket closing itself after sending data once?","body":"<p>In your <em>ClientThread</em>, after <code>din.readUTF(); if (!text.equals(&quot;&quot;)) { ...</code>, you should <strong>directly</strong> start processing the incoming data in current thread, rather than initializing a new thread to handle them.</p>\n<p>Because in you current thread, the one holding the connected socket, probably <strong>closed before</strong> the new thread has not even started up. As <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\">Java Docs</a> says:</p>\n<blockquote>\n<p>void close() throws Exception</p>\n<p>Closes this resource, relinquishing any underlying resources. This method is <strong>invoked automatically</strong> on objects managed by the <strong>try-with-resources statement</strong>.</p>\n</blockquote>\n<p>That is why you got <code>Socket Closed</code> exceptions.</p>\n<p>One more thing is that, there are too many threads in either <code>Server</code> or <code>Client</code>. Most of time such things are unnecessary, say, for a rather simple application. Because they are not quite managed well in your codes, which more likely makes your program behave unexpectedly in the future. Try use threads <strong>only if necessary</strong>, instead of using them <em>as much as possible</em>.</p>\n"}],"owner":{"account_id":19698328,"reputation":13,"user_id":14421723,"display_name":"UnknownCoder 56"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":905,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638610539,"creation_date":1637296547,"question_id":70029938,"body_markdown":"I have a client-server app.\r\nIt opens a socket on client side, then I input data to send, it&#39;s also sent to other clients, but then the socket is closed. Why? I have tried many different approaches, like shifting `din` and `dout` to thread itself, adding some handlers, etc. But no progress yet.\r\n\r\nI saw some other problems like this, but the solutions there are not applicable to my problem (I am not so experienced in sockets). Would like a solution to my specific problem.\r\n\r\nErrors:\r\n```\r\njava.net.SocketException: Socket is closed\r\n\tat java.base/java.net.Socket.getInputStream(Socket.java:927)\r\n\tat com.uniqueapps.network.ClientThread.lambda$run$1(ClientThread.java:23)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\njava.net.SocketException: Socket is closed\r\n\tat java.base/java.net.Socket.getOutputStream(Socket.java:998)\r\n\tat com.uniqueapps.network.ClientThread.lambda$run$0(ClientThread.java:28)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nException in thread &quot;Thread-2&quot; java.util.ConcurrentModificationException\r\n\tat java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1013)\r\n\tat java.base/java.util.ArrayList$Itr.next(ArrayList.java:967)\r\n\tat com.uniqueapps.network.ClientThread.lambda$run$0(ClientThread.java:27)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nServer.java codes:\r\n```\r\npackage com.uniqueapps.network;\r\n\r\nimport java.io.IOException;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.net.SocketException;\r\nimport java.util.ArrayList;\r\n\r\npublic class Server {\r\n\r\n\tfinal static int PORT = 5555;\r\n\tstatic ServerSocket serverSocket;\r\n\tstatic ArrayList&lt;ClientThread&gt; clients = new ArrayList&lt;&gt;();\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tserverSocket = new ServerSocket(PORT);\r\n\t\t\tnew Thread(() -&gt; {\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tSocket clientSocket = serverSocket.accept();\r\n\t\t\t\t\t\tClientThread client = new ClientThread(clientSocket);\r\n\t\t\t\t\t\tclient.run();\r\n\t\t\t\t\t\tclients.add(client);\r\n\t\t\t\t\t\tSystem.out.println(&quot;New client joined: &quot; + client.socket.getLocalPort());\r\n\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}).start();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nClientThread.java codes:\r\n```\r\npackage com.uniqueapps.network;\r\n\r\nimport java.io.DataInputStream;\r\nimport java.io.DataOutputStream;\r\nimport java.io.EOFException;\r\nimport java.io.IOException;\r\nimport java.net.Socket;\r\nimport java.net.SocketException;\r\n\r\npublic class ClientThread implements Runnable {\r\n\r\n    Socket socket;\r\n\r\n    public ClientThread(Socket socket) {\r\n        this.socket = socket;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        new Thread(() -&gt; {\r\n            boolean run = true;\r\n            while (run) {\r\n                try (DataInputStream din = new DataInputStream(socket.getInputStream())) {\r\n                    String text = din.readUTF();\r\n                    if (!text.equals(&quot;&quot;)) {\r\n                        new Thread(() -&gt; {\r\n                            for (ClientThread clientThread : Server.clients) {\r\n                                try (DataOutputStream dout = new DataOutputStream(clientThread.socket.getOutputStream())) {\r\n                                    dout.writeUTF(text);\r\n                                } catch (IOException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                            }\r\n                        }).start();\r\n                    }\r\n                } catch (EOFException ignored) {\r\n                } catch (SocketException e) {\r\n                    e.printStackTrace();\r\n                    Server.clients.remove(this);\r\n                    run = false;\r\n                    System.out.println(&quot;Client left: &quot; + socket.getLocalPort());\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }).start();\r\n    }\r\n}\r\n```\r\n\r\nClient.java codes:\r\n```\r\npackage com.uniqueapps.network;\r\n\r\nimport java.io.DataInputStream;\r\nimport java.io.DataOutputStream;\r\nimport java.io.EOFException;\r\nimport java.io.IOException;\r\nimport java.net.Socket;\r\nimport java.util.Scanner;\r\n\r\npublic class Client {\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            Socket socket = new Socket(&quot;localhost&quot;, 5555);\r\n            socket.setKeepAlive(true);\r\n\r\n            new Thread(() -&gt; {\r\n                try {\r\n                    DataOutputStream dout = new DataOutputStream(socket.getOutputStream());\r\n                    Scanner scn = new Scanner(System.in);\r\n                    while (true) {\r\n                        String text = scn.nextLine();\r\n                        if (!text.equals(&quot;&quot;)) {\r\n                            try {\r\n                                dout.writeUTF(text);\r\n                            } catch (IOException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }).start();\r\n\r\n            new Thread(() -&gt; {\r\n                try {\r\n                    DataInputStream din = new DataInputStream(socket.getInputStream());\r\n                    while (true) {\r\n                        try {\r\n                            String text = din.readUTF();\r\n                            if (!text.equals(&quot;&quot;)) {\r\n                                System.out.println(text);\r\n                            }\r\n                        } catch (EOFException ignored) {\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }).start();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nEdit:\r\n=====\r\n\r\nThanks to Michael Lee, i understood the problem i have been trying to understand for weeks. I remade the code, but i am stuck a place.\r\n\r\nI got to know that the ```.run();``` method of &quot;runnable&quot; halts the current thread, but ```.start();``` of &quot;thread&quot; doesn&#39;t. So i removed threads from all places, except one. This place is still getting the &quot;Socket closed&quot; error (If i keep runnable here, then the thread is halted, and the message not relayed to other clients). How can i overcome this?\r\n\r\nServer.java:\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.net.SocketException;\r\nimport java.util.ArrayList;\r\n\r\npublic class Server {\r\n\r\n    final static int PORT = 8686;\r\n    static ServerSocket serverSocket;\r\n    static ArrayList&lt;ClientThread&gt; clients = new ArrayList&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            serverSocket = new ServerSocket(PORT);\r\n            System.out.println(&quot;Server ready! Running on port &quot; + PORT);\r\n            while (true) {\r\n                try {\r\n                    Socket clientSocket = serverSocket.accept();\r\n                    System.out.println(&quot;New client joined: &quot; + clientSocket.getPort());\r\n                    ClientThread client = new ClientThread(clientSocket);\r\n                    System.out.println(&quot;Created thread for client.&quot;);\r\n                    clients.add(client);\r\n                    System.out.println(&quot;Added client to list.&quot;);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nClientThread.java:\r\n\r\n```\r\nimport java.io.DataInputStream;\r\nimport java.io.DataOutputStream;\r\nimport java.io.EOFException;\r\nimport java.io.IOException;\r\nimport java.net.Socket;\r\nimport java.net.SocketException;\r\n\r\npublic class ClientThread extends Thread {\r\n\r\n    Socket socket;\r\n\r\n    public ClientThread(Socket socket) {\r\n        this.socket = socket;\r\n        this.start();\r\n        System.out.println(&quot;Started thread for client.&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            boolean run = true;\r\n            DataInputStream din = new DataInputStream(socket.getInputStream());\r\n            while (run) {\r\n                try {\r\n                    String text = din.readUTF();\r\n                    if (!text.equals(&quot;&quot;)) {\r\n                        for (ClientThread clientThread : Server.clients) {\r\n                            try (DataOutputStream dout = new DataOutputStream(clientThread.socket.getOutputStream())) {\r\n                                dout.writeUTF(text);\r\n                            } catch (IOException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                    }\r\n                } catch (EOFException ignored) {\r\n                } catch (SocketException e) {\r\n                    e.printStackTrace();\r\n                    Server.clients.remove(this);\r\n                    run = false;\r\n                    System.out.println(&quot;Client left: &quot; + socket.getPort());\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nClient.java:\r\n```\r\nimport java.io.DataInputStream;\r\nimport java.io.DataOutputStream;\r\nimport java.io.EOFException;\r\nimport java.io.IOException;\r\nimport java.net.Socket;\r\nimport java.net.SocketException;\r\n\r\npublic class ClientThread extends Thread {\r\n\r\n    Socket socket;\r\n\r\n    public ClientThread(Socket socket) {\r\n        this.socket = socket;\r\n        this.start();\r\n        System.out.println(&quot;Started thread for client.&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            boolean run = true;\r\n            DataInputStream din = new DataInputStream(socket.getInputStream());\r\n            while (run) {\r\n                try {\r\n                    String text = din.readUTF();\r\n                    if (!text.equals(&quot;&quot;)) {\r\n                        for (ClientThread clientThread : Server.clients) {\r\n                            try (DataOutputStream dout = new DataOutputStream(clientThread.socket.getOutputStream())) {\r\n                                dout.writeUTF(text);\r\n                            } catch (IOException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                    }\r\n                } catch (EOFException ignored) {\r\n                } catch (SocketException e) {\r\n                    e.printStackTrace();\r\n                    Server.clients.remove(this);\r\n                    run = false;\r\n                    System.out.println(&quot;Client left: &quot; + socket.getPort());\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Why socket closing itself after sending data once?","body":"<p>I have a client-server app.\nIt opens a socket on client side, then I input data to send, it's also sent to other clients, but then the socket is closed. Why? I have tried many different approaches, like shifting <code>din</code> and <code>dout</code> to thread itself, adding some handlers, etc. But no progress yet.</p>\n<p>I saw some other problems like this, but the solutions there are not applicable to my problem (I am not so experienced in sockets). Would like a solution to my specific problem.</p>\n<p>Errors:</p>\n<pre><code>java.net.SocketException: Socket is closed\n    at java.base/java.net.Socket.getInputStream(Socket.java:927)\n    at com.uniqueapps.network.ClientThread.lambda$run$1(ClientThread.java:23)\n    at java.base/java.lang.Thread.run(Thread.java:833)\njava.net.SocketException: Socket is closed\n    at java.base/java.net.Socket.getOutputStream(Socket.java:998)\n    at com.uniqueapps.network.ClientThread.lambda$run$0(ClientThread.java:28)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nException in thread &quot;Thread-2&quot; java.util.ConcurrentModificationException\n    at java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1013)\n    at java.base/java.util.ArrayList$Itr.next(ArrayList.java:967)\n    at com.uniqueapps.network.ClientThread.lambda$run$0(ClientThread.java:27)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Server.java codes:</p>\n<pre><code>package com.uniqueapps.network;\n\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.net.SocketException;\nimport java.util.ArrayList;\n\npublic class Server {\n\n    final static int PORT = 5555;\n    static ServerSocket serverSocket;\n    static ArrayList&lt;ClientThread&gt; clients = new ArrayList&lt;&gt;();\n    \n    public static void main(String[] args) {\n        try {\n            serverSocket = new ServerSocket(PORT);\n            new Thread(() -&gt; {\n                while (true) {\n                    try {\n                        Socket clientSocket = serverSocket.accept();\n                        ClientThread client = new ClientThread(clientSocket);\n                        client.run();\n                        clients.add(client);\n                        System.out.println(&quot;New client joined: &quot; + client.socket.getLocalPort());\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }).start();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>ClientThread.java codes:</p>\n<pre><code>package com.uniqueapps.network;\n\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.EOFException;\nimport java.io.IOException;\nimport java.net.Socket;\nimport java.net.SocketException;\n\npublic class ClientThread implements Runnable {\n\n    Socket socket;\n\n    public ClientThread(Socket socket) {\n        this.socket = socket;\n    }\n\n    @Override\n    public void run() {\n        new Thread(() -&gt; {\n            boolean run = true;\n            while (run) {\n                try (DataInputStream din = new DataInputStream(socket.getInputStream())) {\n                    String text = din.readUTF();\n                    if (!text.equals(&quot;&quot;)) {\n                        new Thread(() -&gt; {\n                            for (ClientThread clientThread : Server.clients) {\n                                try (DataOutputStream dout = new DataOutputStream(clientThread.socket.getOutputStream())) {\n                                    dout.writeUTF(text);\n                                } catch (IOException e) {\n                                    e.printStackTrace();\n                                }\n                            }\n                        }).start();\n                    }\n                } catch (EOFException ignored) {\n                } catch (SocketException e) {\n                    e.printStackTrace();\n                    Server.clients.remove(this);\n                    run = false;\n                    System.out.println(&quot;Client left: &quot; + socket.getLocalPort());\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }).start();\n    }\n}\n</code></pre>\n<p>Client.java codes:</p>\n<pre><code>package com.uniqueapps.network;\n\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.EOFException;\nimport java.io.IOException;\nimport java.net.Socket;\nimport java.util.Scanner;\n\npublic class Client {\n\n    public static void main(String[] args) {\n        try {\n            Socket socket = new Socket(&quot;localhost&quot;, 5555);\n            socket.setKeepAlive(true);\n\n            new Thread(() -&gt; {\n                try {\n                    DataOutputStream dout = new DataOutputStream(socket.getOutputStream());\n                    Scanner scn = new Scanner(System.in);\n                    while (true) {\n                        String text = scn.nextLine();\n                        if (!text.equals(&quot;&quot;)) {\n                            try {\n                                dout.writeUTF(text);\n                            } catch (IOException e) {\n                                e.printStackTrace();\n                            }\n                        }\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }).start();\n\n            new Thread(() -&gt; {\n                try {\n                    DataInputStream din = new DataInputStream(socket.getInputStream());\n                    while (true) {\n                        try {\n                            String text = din.readUTF();\n                            if (!text.equals(&quot;&quot;)) {\n                                System.out.println(text);\n                            }\n                        } catch (EOFException ignored) {\n                        } catch (IOException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }).start();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<h1>Edit:</h1>\n<p>Thanks to Michael Lee, i understood the problem i have been trying to understand for weeks. I remade the code, but i am stuck a place.</p>\n<p>I got to know that the <code>.run();</code> method of &quot;runnable&quot; halts the current thread, but <code>.start();</code> of &quot;thread&quot; doesn't. So i removed threads from all places, except one. This place is still getting the &quot;Socket closed&quot; error (If i keep runnable here, then the thread is halted, and the message not relayed to other clients). How can i overcome this?</p>\n<p>Server.java:</p>\n<pre><code>import java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.net.SocketException;\nimport java.util.ArrayList;\n\npublic class Server {\n\n    final static int PORT = 8686;\n    static ServerSocket serverSocket;\n    static ArrayList&lt;ClientThread&gt; clients = new ArrayList&lt;&gt;();\n\n    public static void main(String[] args) {\n        try {\n            serverSocket = new ServerSocket(PORT);\n            System.out.println(&quot;Server ready! Running on port &quot; + PORT);\n            while (true) {\n                try {\n                    Socket clientSocket = serverSocket.accept();\n                    System.out.println(&quot;New client joined: &quot; + clientSocket.getPort());\n                    ClientThread client = new ClientThread(clientSocket);\n                    System.out.println(&quot;Created thread for client.&quot;);\n                    clients.add(client);\n                    System.out.println(&quot;Added client to list.&quot;);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>ClientThread.java:</p>\n<pre><code>import java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.EOFException;\nimport java.io.IOException;\nimport java.net.Socket;\nimport java.net.SocketException;\n\npublic class ClientThread extends Thread {\n\n    Socket socket;\n\n    public ClientThread(Socket socket) {\n        this.socket = socket;\n        this.start();\n        System.out.println(&quot;Started thread for client.&quot;);\n    }\n\n    @Override\n    public void run() {\n        try {\n            boolean run = true;\n            DataInputStream din = new DataInputStream(socket.getInputStream());\n            while (run) {\n                try {\n                    String text = din.readUTF();\n                    if (!text.equals(&quot;&quot;)) {\n                        for (ClientThread clientThread : Server.clients) {\n                            try (DataOutputStream dout = new DataOutputStream(clientThread.socket.getOutputStream())) {\n                                dout.writeUTF(text);\n                            } catch (IOException e) {\n                                e.printStackTrace();\n                            }\n                        }\n                    }\n                } catch (EOFException ignored) {\n                } catch (SocketException e) {\n                    e.printStackTrace();\n                    Server.clients.remove(this);\n                    run = false;\n                    System.out.println(&quot;Client left: &quot; + socket.getPort());\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Client.java:</p>\n<pre><code>import java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.EOFException;\nimport java.io.IOException;\nimport java.net.Socket;\nimport java.net.SocketException;\n\npublic class ClientThread extends Thread {\n\n    Socket socket;\n\n    public ClientThread(Socket socket) {\n        this.socket = socket;\n        this.start();\n        System.out.println(&quot;Started thread for client.&quot;);\n    }\n\n    @Override\n    public void run() {\n        try {\n            boolean run = true;\n            DataInputStream din = new DataInputStream(socket.getInputStream());\n            while (run) {\n                try {\n                    String text = din.readUTF();\n                    if (!text.equals(&quot;&quot;)) {\n                        for (ClientThread clientThread : Server.clients) {\n                            try (DataOutputStream dout = new DataOutputStream(clientThread.socket.getOutputStream())) {\n                                dout.writeUTF(text);\n                            } catch (IOException e) {\n                                e.printStackTrace();\n                            }\n                        }\n                    }\n                } catch (EOFException ignored) {\n                } catch (SocketException e) {\n                    e.printStackTrace();\n                    Server.clients.remove(this);\n                    run = false;\n                    System.out.println(&quot;Client left: &quot; + socket.getPort());\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","kotlin","crash"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1638604918,"post_id":70223958,"comment_id":124137114,"body_markdown":"Does it show some stack trace of the crash in the error report?","body":"Does it show some stack trace of the crash in the error report?"},{"owner":{"account_id":17666785,"reputation":116,"user_id":12823984,"display_name":"MohammadReza Berenji"},"score":0,"creation_date":1638606701,"post_id":70223958,"comment_id":124137364,"body_markdown":"the only log available is                                                                                                              S: Android: 0.0.0 Linux 4.9.148 #1 SMP PREEMPT Wed Jun 23 14:50:38 CST 2021 aarch64\nCPU: arm64\nGPU: -\n0  libart.so            (Missing)","body":"the only log available is                                                                                                              S: Android: 0.0.0 Linux 4.9.148 #1 SMP PREEMPT Wed Jun 23 14:50:38 CST 2021 aarch64 CPU: arm64 GPU: - 0  libart.so            (Missing)"},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1638609086,"post_id":70223958,"comment_id":124137698,"body_markdown":"Does this help? https://github.com/firebase/firebase-android-sdk/issues/1978","body":"Does this help? <a href=\"https://github.com/firebase/firebase-android-sdk/issues/1978\" rel=\"nofollow noreferrer\">github.com/firebase/firebase-android-sdk/issues/1978</a>"},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1638609278,"post_id":70223958,"comment_id":124137720,"body_markdown":"Please update the post with the Android version you are using.","body":"Please update the post with the Android version you are using."},{"owner":{"account_id":17666785,"reputation":116,"user_id":12823984,"display_name":"MohammadReza Berenji"},"score":0,"creation_date":1638610892,"post_id":70223958,"comment_id":124137972,"body_markdown":"@kiner_shah sure.  there are some devices that this crash happen on them but for my self testing it was huawei mate 9 android 9 version","body":"@kiner_shah sure.  there are some devices that this crash happen on them but for my self testing it was huawei mate 9 android 9 version"}],"owner":{"account_id":17666785,"reputation":116,"user_id":12823984,"display_name":"MohammadReza Berenji"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":499,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638609161,"creation_date":1638604853,"question_id":70223958,"body_markdown":"there is an issue that makes the app crash. the message of the crash is \r\n```\r\nSIGSEGV /SEGV_MAPERR at\r\nOS: Android: 0.0.0 Linux 4.9.148 #1 SMP PREEMPT Wed Jun 23 14:50:38 CST 2021 aarch64\r\nCPU: arm64\r\nGPU: -\r\n0  libart.so            (Missing)\r\n1  libart.so            (Missing)\r\n```\r\nthe crash will happen in seconds after the app launched. I did some research and someone said that issue is maybe with Gson when it tries to save data into the SharedPreferences. I think this is not irrelevant because after clearing app data everything is ok until the crash happens again after some hours. so is there an idea to fix and the real reason for the crash? thanks \r\n","title":"android crash on SIGSEGV /SEGV_MAPERR","body":"<p>there is an issue that makes the app crash. the message of the crash is</p>\n<pre><code>SIGSEGV /SEGV_MAPERR at\nOS: Android: 0.0.0 Linux 4.9.148 #1 SMP PREEMPT Wed Jun 23 14:50:38 CST 2021 aarch64\nCPU: arm64\nGPU: -\n0  libart.so            (Missing)\n1  libart.so            (Missing)\n</code></pre>\n<p>the crash will happen in seconds after the app launched. I did some research and someone said that issue is maybe with Gson when it tries to save data into the SharedPreferences. I think this is not irrelevant because after clearing app data everything is ok until the crash happens again after some hours. so is there an idea to fix and the real reason for the crash? thanks</p>\n"},{"tags":["java","big-o"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1638526881,"post_id":70212670,"comment_id":124117560,"body_markdown":"I don&#39;t think you can. You need to check every combination since any of them might be part of the solution. I guess you can put specific logic in there if the list is sorted and if there are not negative numbers, but is that worth the effort?","body":"I don&#39;t think you can. You need to check every combination since any of them might be part of the solution. I guess you can put specific logic in there if the list is sorted and if there are not negative numbers, but is that worth the effort?"},{"owner":{"account_id":20066123,"reputation":43,"user_id":14711789,"display_name":"MegaMagnum"},"score":0,"creation_date":1638527112,"post_id":70212670,"comment_id":124117675,"body_markdown":"sorting the list would have a complexity of O(n log(n)) if that helps :)","body":"sorting the list would have a complexity of O(n log(n)) if that helps :)"},{"owner":{"account_id":12822707,"reputation":677,"user_id":9276996,"display_name":"Turtle"},"score":0,"creation_date":1638528759,"post_id":70212670,"comment_id":124118275,"body_markdown":"Did you mean `a[i] &lt;= a[j]` or `i &lt;= j` which you mentioned in the question.","body":"Did you mean <code>a[i] &lt;= a[j]</code> or <code>i &lt;= j</code> which you mentioned in the question."},{"owner":{"account_id":20066123,"reputation":43,"user_id":14711789,"display_name":"MegaMagnum"},"score":0,"creation_date":1638529480,"post_id":70212670,"comment_id":124118569,"body_markdown":"I ment a[i] &lt;= a[j]. i and j are just elements in the array.","body":"I ment a[i] &lt;= a[j]. i and j are just elements in the array."}],"owner":{"account_id":20066123,"reputation":43,"user_id":14711789,"display_name":"MegaMagnum"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638609111,"creation_date":1638526572,"question_id":70212670,"body_markdown":"I&#39;m trying to figure out how I can write a program such that a list of length `n` finds all triplets `i`, `j` and `k` with `i &lt;= j` such that `a[i] * a[j] = a[k]` and return the amount of times this happens. The obvious solution is a triple for loop giving it a runtime of O(n^3) like this.\r\n\r\n```java\r\npublic static int count(int[] a) {\r\n    int total = 0;\r\n    for (int i = 0; i &lt; a.length; i++) {\r\n        for (int j = 0; j &lt; a.length; j++) {\r\n            if (a[i] &lt;= a[j]) {\r\n                for (int k = 0; k &lt; a.length; k++) {\r\n                    if (a[i] * a[j] == a[k])\r\n                        total++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return total;\r\n}\r\n```\r\nBut I came up with a faster way using hashsets like so.\r\n\r\n```java\r\npublic static int count(int[] a) { // O(n^2)\r\n    int total = 0;\r\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n    for (int i : a) { // O(n)\r\n        set.add(i); // O(1)\r\n    }\r\n    for (int i : a) { // O(n^2)\r\n        for (int j : a) {\r\n            if (i &lt;= j) {\r\n                if (set.contains(i * j)) // O(1)\r\n                    total++;\r\n            }\r\n        }\r\n    }\r\n    return total;\r\n}\r\n```\r\nThis has the runtime of O(n^2). Is it possible to get it faster then this?","title":"Program which given a list of length n finds all triplets i, j and k with i &lt;= j such that a[i] * a[j] = a[k]","body":"<p>I'm trying to figure out how I can write a program such that a list of length <code>n</code> finds all triplets <code>i</code>, <code>j</code> and <code>k</code> with <code>i &lt;= j</code> such that <code>a[i] * a[j] = a[k]</code> and return the amount of times this happens. The obvious solution is a triple for loop giving it a runtime of O(n^3) like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int count(int[] a) {\n    int total = 0;\n    for (int i = 0; i &lt; a.length; i++) {\n        for (int j = 0; j &lt; a.length; j++) {\n            if (a[i] &lt;= a[j]) {\n                for (int k = 0; k &lt; a.length; k++) {\n                    if (a[i] * a[j] == a[k])\n                        total++;\n                }\n            }\n        }\n    }\n    return total;\n}\n</code></pre>\n<p>But I came up with a faster way using hashsets like so.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int count(int[] a) { // O(n^2)\n    int total = 0;\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n    for (int i : a) { // O(n)\n        set.add(i); // O(1)\n    }\n    for (int i : a) { // O(n^2)\n        for (int j : a) {\n            if (i &lt;= j) {\n                if (set.contains(i * j)) // O(1)\n                    total++;\n            }\n        }\n    }\n    return total;\n}\n</code></pre>\n<p>This has the runtime of O(n^2). Is it possible to get it faster then this?</p>\n"},{"tags":["java","linux","gradle","amazon-ec2","jar"],"answers":[{"tags":[],"owner":{"account_id":19042414,"reputation":71,"user_id":13902217,"display_name":"Jeka_FRI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638609082,"creation_date":1638609082,"answer_id":70224340,"question_id":70175916,"body_markdown":"As a result, I tricky with the `Gradle` and `Spring-boot` versions.\r\nWhat did I do to make it work:\r\n1) Created a new project in [start.spring.io][1] with `Java 11` and `Spring Boot 2.5.8(SNAPSHOT)`.\r\n2) Moved the whole project to a new one.\r\n3) I also used 2 commands before `gradle clean` and `gradle build`. And in the working version I used `gradlew clean build`.\r\n4) And launched the `jar` file in `Linux` as usual.\r\n\r\nHope it helps someone someday :)\r\n\r\n\r\n  [1]: https://start.spring.io/","title":"Could not find or load main java class jar on AWS EC2 Linux","body":"<p>As a result, I tricky with the <code>Gradle</code> and <code>Spring-boot</code> versions.\nWhat did I do to make it work:</p>\n<ol>\n<li>Created a new project in <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a> with <code>Java 11</code> and <code>Spring Boot 2.5.8(SNAPSHOT)</code>.</li>\n<li>Moved the whole project to a new one.</li>\n<li>I also used 2 commands before <code>gradle clean</code> and <code>gradle build</code>. And in the working version I used <code>gradlew clean build</code>.</li>\n<li>And launched the <code>jar</code> file in <code>Linux</code> as usual.</li>\n</ol>\n<p>Hope it helps someone someday :)</p>\n"}],"owner":{"account_id":19042414,"reputation":71,"user_id":13902217,"display_name":"Jeka_FRI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70224340,"answer_count":1,"score":-1,"last_activity_date":1638609082,"creation_date":1638305541,"question_id":70175916,"body_markdown":"I need to run on `Linux` on `AWS EC2` me `jar` file. \r\nI have a `multi-project` on `Gradle`.\r\nI know that there are many analogs of my problem, but I did not find anything with the `multi-project`.\r\n\r\nThe structure of my project is as follows\r\n\r\n    demo\r\n       -core\r\n           com.example\r\n           build.gradle\r\n       -web\r\n           build.gradle\r\n           com.example\r\n              DemoApplication.java(main)\r\n       build.gradle\r\n\r\nMy `build.gradle` in demo.\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.6.1&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;1.8&#39;\r\n    \r\n    jar {\r\n        manifest {\r\n            attributes &#39;Main-class&#39; : &#39;com.example.DemoApplication&#39;\r\n        }\r\n    }\r\n    \r\n    \r\n    configurations {\r\n        compileOnly {\r\n            extendsFrom annotationProcessor\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jdbc&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-ldap&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-hateoas&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-oauth2-client&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-oauth2-resource-server&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        compileOnly &#39;org.projectlombok:lombok&#39;\r\n        developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n        runtimeOnly &#39;mysql:mysql-connector-java&#39;\r\n        runtimeOnly &#39;org.postgresql:postgresql&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n\r\nWhen I execute the command `jar`, I get `jar` file that I run on `Linux` `java -jar &#39;/home/ec2-user/demo-0.0.1-SNAPSHOT-plain.jar&#39;` and it gives me an error.\r\n\r\n&gt; Could not find or load main class com.example.DemoApplication","title":"Could not find or load main java class jar on AWS EC2 Linux","body":"<p>I need to run on <code>Linux</code> on <code>AWS EC2</code> me <code>jar</code> file.\nI have a <code>multi-project</code> on <code>Gradle</code>.\nI know that there are many analogs of my problem, but I did not find anything with the <code>multi-project</code>.</p>\n<p>The structure of my project is as follows</p>\n<pre><code>demo\n   -core\n       com.example\n       build.gradle\n   -web\n       build.gradle\n       com.example\n          DemoApplication.java(main)\n   build.gradle\n</code></pre>\n<p>My <code>build.gradle</code> in demo.</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.6.1'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\n\njar {\n    manifest {\n        attributes 'Main-class' : 'com.example.DemoApplication'\n    }\n}\n\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jdbc'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-data-ldap'\n    implementation 'org.springframework.boot:spring-boot-starter-hateoas'\n    implementation 'org.springframework.boot:spring-boot-starter-oauth2-client'\n    implementation 'org.springframework.boot:spring-boot-starter-oauth2-resource-server'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    runtimeOnly 'mysql:mysql-connector-java'\n    runtimeOnly 'org.postgresql:postgresql'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>When I execute the command <code>jar</code>, I get <code>jar</code> file that I run on <code>Linux</code> <code>java -jar '/home/ec2-user/demo-0.0.1-SNAPSHOT-plain.jar'</code> and it gives me an error.</p>\n<blockquote>\n<p>Could not find or load main class com.example.DemoApplication</p>\n</blockquote>\n"},{"tags":["java","jpa","spring-data-jpa","option-type","crud-repository"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1638572436,"post_id":70221548,"comment_id":124133366,"body_markdown":"What do you want to happen if there is no program with id 1?","body":"What do you want to happen if there is no program with id 1?"},{"owner":{"account_id":12229449,"reputation":125,"user_id":8925971,"display_name":"Cheikh HAIBALA"},"score":0,"creation_date":1638572438,"post_id":70221548,"comment_id":124133367,"body_markdown":"Hello,  program.get() ? The type of program is Optional. In Order to get the StudyProgram. you need to call the get function and handle the case of null. See this doc https://www.baeldung.com/java-optional","body":"Hello,  program.get() ? The type of program is Optional. In Order to get the StudyProgram. you need to call the get function and handle the case of null. See this doc <a href=\"https://www.baeldung.com/java-optional\" rel=\"nofollow noreferrer\">baeldung.com/java-optional</a>"}],"answers":[{"tags":[],"owner":{"account_id":21201095,"reputation":405,"user_id":15591732,"display_name":"Sofyane MAKERRI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638608394,"creation_date":1638574240,"answer_id":70221765,"question_id":70221548,"body_markdown":"program is Optional, use program.get() for getting object value :\r\nstudent.setProgram(program.get());\r\nBefore make get(), you should check if we have a result: if(program.isPresent()) { student.setProgram(program.get());}","title":"findbyID returns optional . setting this object to another object cause error","body":"<p>program is Optional, use program.get() for getting object value :\nstudent.setProgram(program.get());\nBefore make get(), you should check if we have a result: if(program.isPresent()) { student.setProgram(program.get());}</p>\n"},{"tags":[],"owner":{"account_id":13356906,"reputation":1,"user_id":9640149,"display_name":"Atul Anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638580693,"creation_date":1638580693,"answer_id":70222306,"question_id":70221548,"body_markdown":"`Optional&lt;Object&gt;` is not the actual `Object`. You can use `obj.get()` if you&#39;re sure that the value is present in the `Optional`. To avoid such an occurrence and be null safe, you can use `obj.orElse(defaultValue)` which will return the `defaultValue` as an `Object` instance.","title":"findbyID returns optional . setting this object to another object cause error","body":"<p><code>Optional&lt;Object&gt;</code> is not the actual <code>Object</code>. You can use <code>obj.get()</code> if you're sure that the value is present in the <code>Optional</code>. To avoid such an occurrence and be null safe, you can use <code>obj.orElse(defaultValue)</code> which will return the <code>defaultValue</code> as an <code>Object</code> instance.</p>\n"}],"owner":{"account_id":17211491,"reputation":15,"user_id":12460699,"display_name":"Salman Ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70221765,"answer_count":2,"score":1,"last_activity_date":1638608394,"creation_date":1638572255,"question_id":70221548,"body_markdown":" \r\n```\r\n   \t\r\n\tpublic String addStudyProgram(){\r\n\t\t\r\n\t\tOptional&lt;StudyProgram&gt; program = studyProgramRepository.findById(1);\t\t\r\n\r\n\t\t\tStudent student = new Student();\t\t\r\n\t\t\tstudent.setStudentName(&quot;Mushashi&quot;);\r\n\t\t\t\r\n\t\t\tstudent.setProgram(program);\t// error The method setProgram(StudyProgram) in the type Student is not applicable for the arguments (Optional&lt;StudyProgram&gt;)\t\r\n\t\t\r\n\t\treturn &quot;Done&quot;;\r\n\t}\r\n```\r\n\r\nstudent and program are DTO , \r\nif i change setProgram(StudyProgram) method to setProgram(Optional&lt;StudyProgram&gt;)\r\nthen it interfere with database scheme. what will be the solution ? ","title":"findbyID returns optional . setting this object to another object cause error","body":"<pre><code>    \n    public String addStudyProgram(){\n        \n        Optional&lt;StudyProgram&gt; program = studyProgramRepository.findById(1);        \n\n            Student student = new Student();        \n            student.setStudentName(&quot;Mushashi&quot;);\n            \n            student.setProgram(program);    // error The method setProgram(StudyProgram) in the type Student is not applicable for the arguments (Optional&lt;StudyProgram&gt;)   \n        \n        return &quot;Done&quot;;\n    }\n</code></pre>\n<p>student and program are DTO ,\nif i change setProgram(StudyProgram) method to setProgram(Optional)\nthen it interfere with database scheme. what will be the solution ?</p>\n"},{"tags":["java","json","serialization","jackson"],"answers":[{"tags":[],"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638607594,"creation_date":1638607594,"answer_id":70224210,"question_id":70222038,"body_markdown":"You should fix the actual bi-directional mapping with problematic classes when serializing. For example if you have classes **ContentObject** &amp; **BackReferringObject** referring to each other you can use `@JsonBackReference` like:\r\n\r\n\tpublic class ContentObject {\r\n\t\tprivate String name = &quot;contentsModified&quot;;\r\n\t\tprivate BackReferringObject backReferringObject;\r\n\t}\r\n\t\r\n\tpublic class BackReferringObject {\r\n\t\t@JsonBackReference\r\n\t\tprivate ContentObject contentObject;\r\n\t}\r\n\r\nThis tells Jackson to not serialize `contentObject` back again.\r\n\r\nIf this is not possible you can always write some custom serializer. That would make things more complicated. For example, you could have something like this:\r\n\r\n\tpublic class ContentObjectSerializer extends JsonSerializer&lt;ContentObject&gt; {\r\n\t\tprivate final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n\t\t@Override\r\n\t\tpublic void serialize(ContentObject value, JsonGenerator gen, \r\n                                  SerializerProvider serializers)\r\n\t\t\t\tthrows IOException {\r\n\t\t\tif (!value.getName().equals(&quot;contentsModified&quot;)) {\r\n\t\t\t\tvar sw = new StringWriter();\r\n\t\t\t\tobjectMapper.writeValue(sw, value);\r\n\t\t\t\tgen.writeRawValue(sw.toString());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n \r\nand usage:\r\n\r\n    var objectMapper = new ObjectMapper();\r\n\tSimpleModule module = new SimpleModule();\r\n\tmodule.addSerializer(ContentObject.class, new ContentObjectSerializer());\r\n\tobjectMapper.registerModule(module);\r\n\r\nThe latter configuration is really needed. You cannot for example annotate your `ContentObject` with `@JsonSerialize(using = ContentObjectSerializer.class)` since then the ObjectMapper inside custom serializer would cause another recursive call chain to custom serializer and cause stack overflow again.\r\n\r\n_I realize this is not directly applicable to a Map but as an example_","title":"Discard serializing a map entry with a specific key","body":"<p>You should fix the actual bi-directional mapping with problematic classes when serializing. For example if you have classes <strong>ContentObject</strong> &amp; <strong>BackReferringObject</strong> referring to each other you can use <code>@JsonBackReference</code> like:</p>\n<pre><code>public class ContentObject {\n    private String name = &quot;contentsModified&quot;;\n    private BackReferringObject backReferringObject;\n}\n\npublic class BackReferringObject {\n    @JsonBackReference\n    private ContentObject contentObject;\n}\n</code></pre>\n<p>This tells Jackson to not serialize <code>contentObject</code> back again.</p>\n<p>If this is not possible you can always write some custom serializer. That would make things more complicated. For example, you could have something like this:</p>\n<pre><code>public class ContentObjectSerializer extends JsonSerializer&lt;ContentObject&gt; {\n    private final ObjectMapper objectMapper = new ObjectMapper();\n\n    @Override\n    public void serialize(ContentObject value, JsonGenerator gen, \n                              SerializerProvider serializers)\n            throws IOException {\n        if (!value.getName().equals(&quot;contentsModified&quot;)) {\n            var sw = new StringWriter();\n            objectMapper.writeValue(sw, value);\n            gen.writeRawValue(sw.toString());\n        }\n    }\n}\n</code></pre>\n<p>and usage:</p>\n<pre><code>var objectMapper = new ObjectMapper();\nSimpleModule module = new SimpleModule();\nmodule.addSerializer(ContentObject.class, new ContentObjectSerializer());\nobjectMapper.registerModule(module);\n</code></pre>\n<p>The latter configuration is really needed. You cannot for example annotate your <code>ContentObject</code> with <code>@JsonSerialize(using = ContentObjectSerializer.class)</code> since then the ObjectMapper inside custom serializer would cause another recursive call chain to custom serializer and cause stack overflow again.</p>\n<p><em>I realize this is not directly applicable to a Map but as an example</em></p>\n"}],"owner":{"account_id":1572335,"reputation":1537,"user_id":1459775,"accept_rate":86,"display_name":"Khafaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638607594,"creation_date":1638577205,"question_id":70222038,"body_markdown":"I&#39;m having a map that I need to serialize but when I serialize it I get `jackson infinite recursion (stackoverflowerror)`. So, after debugging a while I found the entry that caused this problem but this entry is a list which contains other objects that have some cyclic dependencies.\r\n\r\nLet me write a sample code here.\r\n\r\n    Map&lt;String, ?&gt; params = new HashMap();\r\n    // Create some list and add objects with cyclic dependencies to it.\r\n    List&lt;ContentObject&gt; problematicList = new ArrayList();\r\n    //list.addAll(some problematic objects);\r\n    \r\n    params.put(&quot;contentsModified&quot;, problematicList);\r\n    objectmapper.writeValueAsString(params); // here I get jackson infinite recursion (stackoverflowerror)\r\n\r\nI tried marking the classes of the objects I found in the problematicList using `@JsonIgnoreType` but it didn&#39;t work. Is there any way to write some custom serializer to see if a map contains an entry with the name `contentsModified` and if it finds such entry it doesn&#39;t serialize the problematic lists?\r\n\r\n\r\n","title":"Discard serializing a map entry with a specific key","body":"<p>I'm having a map that I need to serialize but when I serialize it I get <code>jackson infinite recursion (stackoverflowerror)</code>. So, after debugging a while I found the entry that caused this problem but this entry is a list which contains other objects that have some cyclic dependencies.</p>\n<p>Let me write a sample code here.</p>\n<pre><code>Map&lt;String, ?&gt; params = new HashMap();\n// Create some list and add objects with cyclic dependencies to it.\nList&lt;ContentObject&gt; problematicList = new ArrayList();\n//list.addAll(some problematic objects);\n\nparams.put(&quot;contentsModified&quot;, problematicList);\nobjectmapper.writeValueAsString(params); // here I get jackson infinite recursion (stackoverflowerror)\n</code></pre>\n<p>I tried marking the classes of the objects I found in the problematicList using <code>@JsonIgnoreType</code> but it didn't work. Is there any way to write some custom serializer to see if a map contains an entry with the name <code>contentsModified</code> and if it finds such entry it doesn't serialize the problematic lists?</p>\n"},{"tags":["java","hibernate","ehcache"],"answers":[{"tags":[],"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1355502752,"creation_date":1355502752,"answer_id":13882683,"question_id":13882393,"body_markdown":"you need to include `hibernate-ehcache.jar` by [downloading it][1] or is you&#39;re using maven put it in your dependencies like this \r\n\r\n    &lt;dependency&gt;\r\n    &lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;version&gt;4.0.0.CR6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: http://repo1.maven.org/maven2/org/hibernate/hibernate-ehcache/4.0.0.CR6/hibernate-ehcache-4.0.0.CR6.jar","title":"ehcache hibernate 4","body":"<p>you need to include <code>hibernate-ehcache.jar</code> by <a href=\"http://repo1.maven.org/maven2/org/hibernate/hibernate-ehcache/4.0.0.CR6/hibernate-ehcache-4.0.0.CR6.jar\" rel=\"noreferrer\">downloading it</a> or is you're using maven put it in your dependencies like this </p>\n\n<pre><code>&lt;dependency&gt;\n&lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\n&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n&lt;version&gt;4.0.0.CR6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14452573,"reputation":59,"user_id":10439615,"display_name":"Soumadip Dey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638606424,"creation_date":1638606424,"answer_id":70224112,"question_id":13882393,"body_markdown":"You need to check your `hibernate version` and you have to use the same version of `hibernate-ehcache` ","title":"ehcache hibernate 4","body":"<p>You need to check your <code>hibernate version</code> and you have to use the same version of <code>hibernate-ehcache</code></p>\n"}],"owner":{"account_id":1927794,"reputation":247,"user_id":1737854,"accept_rate":91,"display_name":"chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16907,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":13882683,"answer_count":2,"score":6,"last_activity_date":1638606424,"creation_date":1355501663,"question_id":13882393,"body_markdown":"In my application I use the hibernate-core-4.1.8 jar and would like to take an ehCache as 2nd level cache. \r\nThe jar I am currently using is ehcache-core-2.5.0. I placed it in my WebContetn/WEB-INF/lib folder and put it in the classpath too.\r\n\r\nMy hibernate.cfg.xml looks like this:\r\n\r\n    &lt;hibernate-configuration&gt;\r\n    \t&lt;session-factory&gt;\t\r\n        ....\t\r\n    \t\t&lt;property name=&quot;hibernate.cache.region.factory_class&quot;&gt;org.hibernate.cache.ehcache.EhCacheRegionFactory&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.cache.use_second_level_cache&quot;&gt;true&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.cache.use_query_cache&quot;&gt;true&lt;/property&gt;\r\n    \t&lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n\r\nthe ehcache.xml which is placed in the JavaResources/src folder:\r\n\r\n    &lt;ehcache xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \t    xsi:noNamespaceSchemaLocation=&quot;ehcache.xsd&quot; updateCheck=&quot;true&quot;\r\n    \t    monitoring=&quot;autodetect&quot; dynamicConfig=&quot;true&quot;&gt;\r\n    \t \r\n    \t&lt;defaultCache\r\n    \t            maxElementsInMemory=&quot;100000&quot;\r\n    \t            eternal=&quot;false&quot;\r\n    \t            timeToIdleSeconds=&quot;1000&quot;\r\n    \t            timeToLiveSeconds=&quot;1000&quot;\r\n    \t            overflowToDisk=&quot;false&quot;\r\n    \t            /&gt;\r\n    &lt;/ehcache&gt;\r\n\r\nWhen running my application the class org.hibernate.cache.ehcache.EhCacheRegionFactory is not found:\r\n\r\n    java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.cache.ehcache.EhCacheRegionFactory\r\n    \tat org.hibernate.service.classloading.internal.ClassLoaderServiceImpl$1.findClass(ClassLoaderServiceImpl.java:99)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:423)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:356)\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:264)\r\n    \tat org.hibernate.service.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:138)\r\n    \tat org.hibernate.cfg.SettingsFactory.createRegionFactory(SettingsFactory.java:444)\r\n    \tat org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:275)\r\n    \tat org.hibernate.cfg.Configuration.buildSettingsInternal(Configuration.java:2283)\r\n    \tat org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2279)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1748)\r\n    \tat creator.controllers.MyFactory.&lt;clinit&gt;(MyFactory.java:18)\r\n    \tat creator.controllers.SchoolDAO.getList(SchoolDAO.java:98)\r\n        .....\r\n","title":"ehcache hibernate 4","body":"<p>In my application I use the hibernate-core-4.1.8 jar and would like to take an ehCache as 2nd level cache. \nThe jar I am currently using is ehcache-core-2.5.0. I placed it in my WebContetn/WEB-INF/lib folder and put it in the classpath too.</p>\n\n<p>My hibernate.cfg.xml looks like this:</p>\n\n<pre><code>&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;   \n    ....    \n        &lt;property name=\"hibernate.cache.region.factory_class\"&gt;org.hibernate.cache.ehcache.EhCacheRegionFactory&lt;/property&gt;\n        &lt;property name=\"hibernate.cache.use_second_level_cache\"&gt;true&lt;/property&gt;\n        &lt;property name=\"hibernate.cache.use_query_cache\"&gt;true&lt;/property&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>the ehcache.xml which is placed in the JavaResources/src folder:</p>\n\n<pre><code>&lt;ehcache xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:noNamespaceSchemaLocation=\"ehcache.xsd\" updateCheck=\"true\"\n        monitoring=\"autodetect\" dynamicConfig=\"true\"&gt;\n\n    &lt;defaultCache\n                maxElementsInMemory=\"100000\"\n                eternal=\"false\"\n                timeToIdleSeconds=\"1000\"\n                timeToLiveSeconds=\"1000\"\n                overflowToDisk=\"false\"\n                /&gt;\n&lt;/ehcache&gt;\n</code></pre>\n\n<p>When running my application the class org.hibernate.cache.ehcache.EhCacheRegionFactory is not found:</p>\n\n<pre><code>java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.cache.ehcache.EhCacheRegionFactory\n    at org.hibernate.service.classloading.internal.ClassLoaderServiceImpl$1.findClass(ClassLoaderServiceImpl.java:99)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:423)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:264)\n    at org.hibernate.service.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:138)\n    at org.hibernate.cfg.SettingsFactory.createRegionFactory(SettingsFactory.java:444)\n    at org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:275)\n    at org.hibernate.cfg.Configuration.buildSettingsInternal(Configuration.java:2283)\n    at org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2279)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1748)\n    at creator.controllers.MyFactory.&lt;clinit&gt;(MyFactory.java:18)\n    at creator.controllers.SchoolDAO.getList(SchoolDAO.java:98)\n    .....\n</code></pre>\n"},{"tags":["java","file","java.util.scanner","java-io"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1638606585,"post_id":70224104,"comment_id":124137341,"body_markdown":"I suspect your file *actually* starts with a [UTF-8 Byte Order Mark](https://en.wikipedia.org/wiki/BOM). You could see this if you use a binary file viewer.","body":"I suspect your file <i>actually</i> starts with a <a href=\"https://en.wikipedia.org/wiki/BOM\" rel=\"nofollow noreferrer\">UTF-8 Byte Order Mark</a>. You could see this if you use a binary file viewer."},{"owner":{"account_id":886820,"reputation":391,"user_id":926071,"accept_rate":29,"display_name":"Chetan"},"score":0,"creation_date":1638607064,"post_id":70224104,"comment_id":124137413,"body_markdown":"Yes you are right I see EF, BB, BF bytes in the beginning when I view in binary file viewer.","body":"Yes you are right I see EF, BB, BF bytes in the beginning when I view in binary file viewer."}],"owner":{"account_id":886820,"reputation":391,"user_id":926071,"accept_rate":29,"display_name":"Chetan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1638607140,"answer_count":0,"score":0,"last_activity_date":1638606358,"creation_date":1638606358,"question_id":70224104,"body_markdown":"My code is follows:\r\n```\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.Scanner;\r\n\r\npublic class Movies {\r\n\tpublic String rFile() {\r\n\t\ttry {\r\n\t\t\tScanner file = new Scanner(new File(&quot;./file.txt&quot;));\r\n\t\t\twhile(file.hasNextLine()) {\r\n\t\t\t\tSystem.out.println(file.nextLine());\r\n\t\t\t}\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\tSystem.out.println(&quot;File not found!&quot;);\r\n\t\t}\r\n\t\treturn &quot;&quot;;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tMovies movies = new Movies();\r\n\t\tmovies.rFile();\r\n\t}\r\n}\r\n```\r\nMy file.txt file is as below:\r\n1994 The Shawshank Redemption\r\n1972 The Godfather\r\n1974 The Godfather: Part II\r\n\r\nThe output is as below:\r\n&#239;&#187;&#191;1994 The Shawshank Redemption\r\n1972 The Godfather\r\n1974 The Godfather: Part II\r\n\r\nI don&#39;t know why it is printing those characters at the begining.\r\n","title":"Java printing weird characters at beginning of file while reading using Scanner","body":"<p>My code is follows:</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\n\npublic class Movies {\n    public String rFile() {\n        try {\n            Scanner file = new Scanner(new File(&quot;./file.txt&quot;));\n            while(file.hasNextLine()) {\n                System.out.println(file.nextLine());\n            }\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;File not found!&quot;);\n        }\n        return &quot;&quot;;\n    }\n    \n    public static void main(String[] args) {\n        Movies movies = new Movies();\n        movies.rFile();\n    }\n}\n</code></pre>\n<p>My file.txt file is as below:\n1994 The Shawshank Redemption\n1972 The Godfather\n1974 The Godfather: Part II</p>\n<p>The output is as below:\n√Ø¬ª¬ø1994 The Shawshank Redemption\n1972 The Godfather\n1974 The Godfather: Part II</p>\n<p>I don't know why it is printing those characters at the begining.</p>\n"},{"tags":["java","testng","bdd","jbehave"],"comments":[{"owner":{"account_id":23542297,"reputation":9,"user_id":17586307,"display_name":"vaibhav joshi"},"score":0,"creation_date":1638605134,"post_id":70223942,"comment_id":124137135,"body_markdown":"This is my first Question on Stackoverflow, please ignore the mistakes. TIA","body":"This is my first Question on Stackoverflow, please ignore the mistakes. TIA"},{"owner":{"account_id":32581,"reputation":76091,"user_id":90527,"accept_rate":85,"display_name":"outis"},"score":0,"creation_date":1658516353,"post_id":70223942,"comment_id":129079539,"body_markdown":"Mistakes can&#39;t be ignored; they must be corrected so that a question is answerable. See [ask] and check the [help] for guidelines.","body":"Mistakes can&#39;t be ignored; they must be corrected so that a question is answerable. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and check the <a href=\"https://stackoverflow.com/help\">help center</a> for guidelines."}],"owner":{"account_id":23542297,"reputation":9,"user_id":17586307,"display_name":"vaibhav joshi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1638605028,"creation_date":1638604705,"question_id":70223942,"body_markdown":"When i am trying to run the Java class having @Test annotation as a part part of TestNG for JBehave it is giving org.jbehave.core.io.StoryResourceNotFound exception.\r\n[1]: https://i.stack.imgur.com/ZU6eL.jpg\r\nCode:\r\npublic class Runner extends ConfigurableEmbedder {\r\n\r\n\t\r\n\t\r\n\tpublic Embedder embedder;\r\n\t@Test\r\n\tpublic void run() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tembedder = configuredEmbedder();\r\n\t\tembedder.configuration();\r\n\t\tSystem.out.println(&quot;I am runner&quot;);\r\n\t\t[Image attached for reference][1]\r\n\t\tString storypath= &quot;GoogleSearch.story&quot;;\r\n\t\tembedder.runStoriesAsPaths(Collections.singletonList(storypath));\r\n\t\t\r\n\t}\r\n\t\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZU6eL.jpg","title":"Jbehave not able to find the story","body":"<p>When i am trying to run the Java class having @Test annotation as a part part of TestNG for JBehave it is giving org.jbehave.core.io.StoryResourceNotFound exception.\n<a href=\"https://i.stack.imgur.com/ZU6eL.jpg\" rel=\"nofollow noreferrer\">1</a>: <a href=\"https://i.stack.imgur.com/ZU6eL.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ZU6eL.jpg</a>\nCode:\npublic class Runner extends ConfigurableEmbedder {</p>\n<pre><code>public Embedder embedder;\n@Test\npublic void run() {\n    // TODO Auto-generated method stub\n    embedder = configuredEmbedder();\n    embedder.configuration();\n    System.out.println(&quot;I am runner&quot;);\n    [Image attached for reference][1]\n    String storypath= &quot;GoogleSearch.story&quot;;\n    embedder.runStoriesAsPaths(Collections.singletonList(storypath));\n    \n}\n</code></pre>\n"},{"tags":["java","oauth","linkedin-api"],"answers":[{"tags":[],"owner":{"account_id":18858947,"reputation":426,"user_id":13756253,"display_name":"asood711"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1592322115,"creation_date":1592312586,"answer_id":62409175,"question_id":62390915,"body_markdown":"Navigate to **Products** in the LinkedIn Developer Console and select **Sign in with LinkedIn**. \r\n\r\nThe verification process takes a few moments and then `r_emailaddress` and\r\n`r_liteprofile` should appear under your permissions.","title":"Can&#39;t add OAuth 2.0 scopes LinkedIn","body":"<p>Navigate to <strong>Products</strong> in the LinkedIn Developer Console and select <strong>Sign in with LinkedIn</strong>. </p>\n\n<p>The verification process takes a few moments and then <code>r_emailaddress</code> and\n<code>r_liteprofile</code> should appear under your permissions.</p>\n"},{"tags":[],"owner":{"account_id":17318977,"reputation":309,"user_id":12544833,"display_name":"Ralph"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1592322087,"creation_date":1592322087,"answer_id":62412360,"question_id":62390915,"body_markdown":"This link provides steps for you to be able to do that.\n\nhttps://docs.pathfix.com/integrating-with-linkedin. \n\nBut I think you need to get the owner of the company profile to verify your app before you can do this. If done then you should be good to go.\n\nThe scopes are added through adding of products. That is the third tab on the linked screen.\n\nHope this helps :)","title":"Can&#39;t add OAuth 2.0 scopes LinkedIn","body":"<p>This link provides steps for you to be able to do that.</p>\n\n<p><a href=\"https://docs.pathfix.com/integrating-with-linkedin\" rel=\"nofollow noreferrer\">https://docs.pathfix.com/integrating-with-linkedin</a>. </p>\n\n<p>But I think you need to get the owner of the company profile to verify your app before you can do this. If done then you should be good to go.</p>\n\n<p>The scopes are added through adding of products. That is the third tab on the linked screen.</p>\n\n<p>Hope this helps :)</p>\n"},{"tags":[],"owner":{"account_id":2824885,"reputation":921,"user_id":2427731,"display_name":"Adiyya Tadikamalla"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1638604582,"creation_date":1638604582,"answer_id":70223927,"question_id":62390915,"body_markdown":"I want to give a few more details to the answer given by @asood711\r\n\r\nNavigate to **Products** in the LinkedIn Developer Console of the app and select **Sign in with LinkedIn**.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe verification process takes a few moments and then **r_emailaddress** and **r_liteprofile** should appear under your permissions.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AYE7T.png","title":"Can&#39;t add OAuth 2.0 scopes LinkedIn","body":"<p>I want to give a few more details to the answer given by @asood711</p>\n<p>Navigate to <strong>Products</strong> in the LinkedIn Developer Console of the app and select <strong>Sign in with LinkedIn</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/AYE7T.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AYE7T.png\" alt=\"enter image description here\" /></a></p>\n<p>The verification process takes a few moments and then <strong>r_emailaddress</strong> and <strong>r_liteprofile</strong> should appear under your permissions.</p>\n"}],"owner":{"account_id":10340270,"reputation":363,"user_id":7630970,"display_name":"Malevych"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13674,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":62409175,"answer_count":3,"score":14,"last_activity_date":1638604582,"creation_date":1592232788,"question_id":62390915,"body_markdown":"I don&#39;t have the ability to change OAuth scope in the Linkedin developers page.\r\nThat&#39;s why while trying to get an authorization code I get this error:\r\n\r\n    error=unauthorized_scope_error&amp;error_description=Scope+%26quot%3Br_basicprofile%26quot%3B+is+not+authorized+for+your+application\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Oo9QI.png\r\n\r\nYou can see the OAuth scopes section in my profile. I just can&#39;t set up any scopes.","title":"Can&#39;t add OAuth 2.0 scopes LinkedIn","body":"<p>I don't have the ability to change OAuth scope in the Linkedin developers page.\nThat's why while trying to get an authorization code I get this error:</p>\n\n<pre><code>error=unauthorized_scope_error&amp;error_description=Scope+%26quot%3Br_basicprofile%26quot%3B+is+not+authorized+for+your+application\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Oo9QI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Oo9QI.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can see the OAuth scopes section in my profile. I just can't set up any scopes.</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":3495887,"reputation":154,"user_id":2924122,"display_name":"Natal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638602836,"creation_date":1638602836,"answer_id":70223778,"question_id":64487322,"body_markdown":"If there are really many elements on the Many side, then you probably should not use OneToMany at all. Fetching large collections implies using some kind of pagination\\filtering, but OneToMany loads the whole set.\r\n\r\n\r\nFirst of all, you need to update an owning entity(where FK resides) to store it in the DB. And what Vlad and Hibernate guide mean about consistency, refers to updating entity objects inside current session. Those objects have transitions during lifecycle, and when you have bidirectional association, if you don&#39;t set inverse side, then that inverse side entity won&#39;t have the field updated, and would be inconsistent with an owning side entity(and probably with the DB ultimately, after TX commits) in the current session.\r\nLet me illustrate on OneToMany example. \r\nIf we get 2 managed entities Company and Employee:\r\n\r\n`set employee.company = X -&gt; persist(employee) -&gt; managed List&lt;Employee&gt; company.employees gets inconsistent with db` \r\n\r\nAnd there might be different types of inconsistencies, like getting from `company.employees` field after and arising side-effects(guess it was not empty, but just without employee you just added), and if there is Cascade.ALL, you might miss or falsely remove\\update\\add entities through broken relationships, because your entities are in a ambigious state, and hibernate deals with it in a defensive but sometimes unpredictable way: \r\nhttps://stackoverflow.com/questions/22688402/delete-not-working-with-jparepository\r\n\r\nAlso, you might find interesting this answer: https://stackoverflow.com/a/5361587/2924122","title":"Why do we need bidirectional synchronized methods?","body":"<p>If there are really many elements on the Many side, then you probably should not use OneToMany at all. Fetching large collections implies using some kind of pagination\\filtering, but OneToMany loads the whole set.</p>\n<p>First of all, you need to update an owning entity(where FK resides) to store it in the DB. And what Vlad and Hibernate guide mean about consistency, refers to updating entity objects inside current session. Those objects have transitions during lifecycle, and when you have bidirectional association, if you don't set inverse side, then that inverse side entity won't have the field updated, and would be inconsistent with an owning side entity(and probably with the DB ultimately, after TX commits) in the current session.\nLet me illustrate on OneToMany example.\nIf we get 2 managed entities Company and Employee:</p>\n<p><code>set employee.company = X -&gt; persist(employee) -&gt; managed List&lt;Employee&gt; company.employees gets inconsistent with db</code></p>\n<p>And there might be different types of inconsistencies, like getting from <code>company.employees</code> field after and arising side-effects(guess it was not empty, but just without employee you just added), and if there is Cascade.ALL, you might miss or falsely remove\\update\\add entities through broken relationships, because your entities are in a ambigious state, and hibernate deals with it in a defensive but sometimes unpredictable way:\n<a href=\"https://stackoverflow.com/questions/22688402/delete-not-working-with-jparepository\">Delete Not Working with JpaRepository</a></p>\n<p>Also, you might find interesting this answer: <a href=\"https://stackoverflow.com/a/5361587/2924122\">https://stackoverflow.com/a/5361587/2924122</a></p>\n"}],"owner":{"account_id":7183993,"reputation":407,"user_id":5486740,"accept_rate":80,"display_name":"Mr.Robot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1638602836,"creation_date":1603387080,"question_id":64487322,"body_markdown":"As stated in the topic. **Why do we need bidirectional synchronized methods? What real world use case does it solve? What happens if I don&#39;t use them?**\r\n\r\nIn Hibernate&#39;s User Guide:\r\n&gt; Whenever a bidirectional association is formed, the application developer must make sure both sides are in-sync at all times.\r\nThe addPhone() and removePhone() are utility methods that synchronize both ends whenever a child element is added or removed.\r\n\r\n[Source - Hibernate User Guide](https://docs.jboss.org/hibernate/stable/orm/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-many-bidirectional)\r\n\r\nIn one of Vlad&#39;s blog posts:\r\n&gt;However, we still need to have both sides in sync as otherwise, we break the Domain Model relationship consistency, and the entity state transitions are not guaranteed to work unless both sides are properly synchronized.\r\n\r\n[Source - Vlad Mihalcea Blog](https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/)\r\n\r\nLastly, in Vlad&#39;s book - High Performance Java Persistance, page 216:\r\n\r\n&gt;For a bidirectional @ManyToMany association, the helper methods must be added to the entity that is more likely to interact with. In our case, the root entity is the Post, so the helper methods are added to the Post entity\r\n\r\nHowever, if I use simple generated setters, Hibernate seems to work just fine as well. Furthermore, synchronized methods might lead to performance degredation.\r\n\r\nSynchronized methods:\r\n```\r\n    public void joinProject(ProjectEntity project) {\r\n        project.getEmployees().add(this);\r\n        this.projects.add(project);\r\n    }\r\n```\r\n\r\nGenerates this:\r\n```\r\nHibernate:\r\n    select\r\n        employeeen0_.id as id1_0_0_,\r\n        projectent2_.id as id1_2_1_,\r\n        teamentity3_.id as id1_3_2_,\r\n        employeeen0_.first_name as first_na2_0_0_,\r\n        employeeen0_.job_title as job_titl3_0_0_,\r\n        employeeen0_.last_name as last_nam4_0_0_,\r\n        employeeen0_.team_id as team_id5_0_0_,\r\n        projectent2_.budget as budget2_2_1_,\r\n        projectent2_.name as name3_2_1_,\r\n        projects1_.employee_id as employee1_1_0__,\r\n        projects1_.project_id as project_2_1_0__,\r\n        teamentity3_.name as name2_3_2_\r\n    from\r\n        employees.employee employeeen0_\r\n    inner join\r\n        employees.employee_project projects1_\r\n            on employeeen0_.id=projects1_.employee_id\r\n    inner join\r\n        employees.project projectent2_\r\n            on projects1_.project_id=projectent2_.id\r\n    inner join\r\n        employees.team teamentity3_\r\n            on employeeen0_.team_id=teamentity3_.id\r\n    where\r\n        employeeen0_.id=?\r\nHibernate:\r\n    select\r\n        projectent0_.id as id1_2_,\r\n        projectent0_.budget as budget2_2_,\r\n        projectent0_.name as name3_2_\r\n    from\r\n        employees.project projectent0_\r\n    where\r\n        projectent0_.id=?\r\nHibernate:\r\n    select\r\n        employees0_.project_id as project_2_1_0_,\r\n        employees0_.employee_id as employee1_1_0_,\r\n        employeeen1_.id as id1_0_1_,\r\n        employeeen1_.first_name as first_na2_0_1_,\r\n        employeeen1_.job_title as job_titl3_0_1_,\r\n        employeeen1_.last_name as last_nam4_0_1_,\r\n        employeeen1_.team_id as team_id5_0_1_\r\n    from\r\n        employees.employee_project employees0_\r\n    inner join\r\n        employees.employee employeeen1_\r\n            on employees0_.employee_id=employeeen1_.id\r\n    where\r\n        employees0_.project_id=?\r\nHibernate:\r\n    insert\r\n    into\r\n        employees.employee_project\r\n        (employee_id, project_id)\r\n    values\r\n        (?, ?)\r\n```\r\n\r\nNotice additional select for Employee right after Projects were fetched. If I use simply ```employeeEntity.getProjects().add(projectEntity);```, it generates:\r\n```\r\nHibernate:\r\n    select\r\n        employeeen0_.id as id1_0_0_,\r\n        projectent2_.id as id1_2_1_,\r\n        teamentity3_.id as id1_3_2_,\r\n        employeeen0_.first_name as first_na2_0_0_,\r\n        employeeen0_.job_title as job_titl3_0_0_,\r\n        employeeen0_.last_name as last_nam4_0_0_,\r\n        employeeen0_.team_id as team_id5_0_0_,\r\n        projectent2_.budget as budget2_2_1_,\r\n        projectent2_.name as name3_2_1_,\r\n        projects1_.employee_id as employee1_1_0__,\r\n        projects1_.project_id as project_2_1_0__,\r\n        teamentity3_.name as name2_3_2_\r\n    from\r\n        employees.employee employeeen0_\r\n    inner join\r\n        employees.employee_project projects1_\r\n            on employeeen0_.id=projects1_.employee_id\r\n    inner join\r\n        employees.project projectent2_\r\n            on projects1_.project_id=projectent2_.id\r\n    inner join\r\n        employees.team teamentity3_\r\n            on employeeen0_.team_id=teamentity3_.id\r\n    where\r\n        employeeen0_.id=?\r\nHibernate:\r\n    select\r\n        projectent0_.id as id1_2_,\r\n        projectent0_.budget as budget2_2_,\r\n        projectent0_.name as name3_2_\r\n    from\r\n        employees.project projectent0_\r\n    where\r\n        projectent0_.id=?\r\nHibernate:\r\n    insert\r\n    into\r\n        employees.employee_project\r\n        (employee_id, project_id)\r\n    values\r\n        (?, ?)\r\n```\r\n\r\nNo more fetching of employee.\r\n\r\n**Full code.**\r\n\r\nController.\r\n```\r\n@RestController\r\n@RequestMapping(path = &quot;${application.endpoints.projects}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n@Validated\r\npublic class ProjectsEndPoint {\r\n\r\n\r\n    @PostMapping(&quot;add-employee&quot;)\r\n    @ApiOperation(&quot;Add employee to project&quot;)\r\n    public void addEmployeeToProject(@RequestBody @Valid EmployeeProjectRequest request) {\r\n        LOGGER.info(&quot;Add employee to project. Request: {}&quot;, request);\r\n\r\n        this.projectsService.addEmployeeToProject(request);\r\n    }\r\n}\r\n\r\n```\r\n\r\nEmployeeProjectRequest.\r\n```\r\n@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\r\npublic record EmployeeProjectRequest(\r\n        @NotNull @Min(0) Long employeeId,\r\n        @NotNull @Min(0) Long projectId) {\r\n}\r\n```\r\n\r\nProjectService.\r\n```\r\n@Service\r\npublic class ProjectsService {\r\n\r\n    private final ProjectRepo projectRepo;\r\n    private final EmployeeRepo repo;\r\n\r\n    public ProjectsService(ProjectRepo projectRepo, EmployeeRepo repo) {\r\n        this.projectRepo = projectRepo;\r\n        this.repo = repo;\r\n    }\r\n\r\n    @Transactional\r\n    public void addEmployeeToProject(EmployeeProjectRequest request) {\r\n        var employeeEntity = this.repo.getEmployee(request.employeeId())\r\n                .orElseThrow(() -&gt; new NotFoundException(&quot;Employee with id: %d does not exist&quot;.formatted(request.employeeId())));\r\n\r\n        var projectEntity = this.projectRepo.getProject(request.projectId())\r\n                .orElseThrow(() -&gt; new NotFoundException(&quot;Project with id: %d does not exists&quot;.formatted(request.projectId())));\r\n\r\n        //This line can be changed with employeeEntity.joinProject(projectEntity);\r\n        employeeEntity.getProjects().add(projectEntity);\r\n    }\r\n}\r\n\r\n```\r\n\r\nProjectRepo.\r\n```\r\n@Repository\r\npublic class ProjectRepo {\r\n\r\n    private final EntityManager em;\r\n\r\n    public ProjectRepo(EntityManager em) {\r\n        this.em = em;\r\n    }\r\n\r\n    public Optional&lt;ProjectEntity&gt; getProject(Long id) {\r\n        var result = this.em.createQuery(&quot;SELECT p FROM ProjectEntity p where p.id = :id&quot;, ProjectEntity.class)\r\n                .setParameter(&quot;id&quot;, id)\r\n                .getResultList();\r\n\r\n        return RepoUtils.fromResultListToOptional(result);\r\n    }\r\n}\r\n```\r\n\r\nEmployeeRepo.\r\n```\r\n@Repository\r\npublic class EmployeeRepo {\r\n\r\n    private final EntityManager em;\r\n\r\n    public EmployeeRepo(EntityManager em) {\r\n        this.em = em;\r\n    }\r\n\r\n    public Optional&lt;EmployeeEntity&gt; getEmployee(Long id) {\r\n        var employees = this.em.createQuery(&quot;&quot;&quot;\r\n                SELECT e FROM EmployeeEntity e\r\n                JOIN FETCH e.projects p\r\n                JOIN FETCH e.team t\r\n                WHERE e.id = :id&quot;&quot;&quot;, EmployeeEntity.class)\r\n                .setParameter(&quot;id&quot;, id)\r\n                .getResultList();\r\n\r\n        return Optional.ofNullable(employees.isEmpty() ? null : employees.get(0));\r\n    }\r\n}\r\n\r\n```\r\n\r\nEmployeeEntity.\r\n```\r\n@Entity\r\n@Table(name = &quot;employee&quot;, schema = &quot;employees&quot;)\r\npublic class EmployeeEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String firstName;\r\n    private String lastName;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private JobTitle jobTitle;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    private TeamEntity team;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)\r\n    @JoinTable(schema = &quot;employees&quot;, name = &quot;employee_project&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;employee_id&quot;, referencedColumnName = &quot;id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;project_id&quot;, referencedColumnName = &quot;id&quot;))\r\n    private Set&lt;ProjectEntity&gt; projects = new HashSet&lt;&gt;();\r\n\r\n    public EmployeeEntity() {\r\n    }\r\n\r\n    public void joinProject(ProjectEntity project) {\r\n        project.getEmployees().add(this);\r\n        this.projects.add(project);\r\n    }\r\n\r\n    public void leaveProject(ProjectEntity project) {\r\n        project.getEmployees().remove(this);\r\n        this.projects.remove(project);\r\n    }\r\n\r\n        ... Getters and Setters ...\r\n}\r\n```\r\n\r\nProjectEntity.\r\n```\r\nEntity\r\n@Table(name = &quot;project&quot;, schema = &quot;employees&quot;)\r\npublic class ProjectEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n    private BigDecimal budget;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY, mappedBy = &quot;projects&quot;)\r\n    private Set&lt;EmployeeEntity&gt; employees = new HashSet&lt;&gt;();\r\n\r\n    public ProjectEntity() {\r\n    }\r\n\r\n    ... Getters and Setters ...\r\n}\r\n```","title":"Why do we need bidirectional synchronized methods?","body":"<p>As stated in the topic. <strong>Why do we need bidirectional synchronized methods? What real world use case does it solve? What happens if I don't use them?</strong></p>\n<p>In Hibernate's User Guide:</p>\n<blockquote>\n<p>Whenever a bidirectional association is formed, the application developer must make sure both sides are in-sync at all times.\nThe addPhone() and removePhone() are utility methods that synchronize both ends whenever a child element is added or removed.</p>\n</blockquote>\n<p><a href=\"https://docs.jboss.org/hibernate/stable/orm/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-many-bidirectional\" rel=\"nofollow noreferrer\">Source - Hibernate User Guide</a></p>\n<p>In one of Vlad's blog posts:</p>\n<blockquote>\n<p>However, we still need to have both sides in sync as otherwise, we break the Domain Model relationship consistency, and the entity state transitions are not guaranteed to work unless both sides are properly synchronized.</p>\n</blockquote>\n<p><a href=\"https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/\" rel=\"nofollow noreferrer\">Source - Vlad Mihalcea Blog</a></p>\n<p>Lastly, in Vlad's book - High Performance Java Persistance, page 216:</p>\n<blockquote>\n<p>For a bidirectional @ManyToMany association, the helper methods must be added to the entity that is more likely to interact with. In our case, the root entity is the Post, so the helper methods are added to the Post entity</p>\n</blockquote>\n<p>However, if I use simple generated setters, Hibernate seems to work just fine as well. Furthermore, synchronized methods might lead to performance degredation.</p>\n<p>Synchronized methods:</p>\n<pre><code>    public void joinProject(ProjectEntity project) {\n        project.getEmployees().add(this);\n        this.projects.add(project);\n    }\n</code></pre>\n<p>Generates this:</p>\n<pre><code>Hibernate:\n    select\n        employeeen0_.id as id1_0_0_,\n        projectent2_.id as id1_2_1_,\n        teamentity3_.id as id1_3_2_,\n        employeeen0_.first_name as first_na2_0_0_,\n        employeeen0_.job_title as job_titl3_0_0_,\n        employeeen0_.last_name as last_nam4_0_0_,\n        employeeen0_.team_id as team_id5_0_0_,\n        projectent2_.budget as budget2_2_1_,\n        projectent2_.name as name3_2_1_,\n        projects1_.employee_id as employee1_1_0__,\n        projects1_.project_id as project_2_1_0__,\n        teamentity3_.name as name2_3_2_\n    from\n        employees.employee employeeen0_\n    inner join\n        employees.employee_project projects1_\n            on employeeen0_.id=projects1_.employee_id\n    inner join\n        employees.project projectent2_\n            on projects1_.project_id=projectent2_.id\n    inner join\n        employees.team teamentity3_\n            on employeeen0_.team_id=teamentity3_.id\n    where\n        employeeen0_.id=?\nHibernate:\n    select\n        projectent0_.id as id1_2_,\n        projectent0_.budget as budget2_2_,\n        projectent0_.name as name3_2_\n    from\n        employees.project projectent0_\n    where\n        projectent0_.id=?\nHibernate:\n    select\n        employees0_.project_id as project_2_1_0_,\n        employees0_.employee_id as employee1_1_0_,\n        employeeen1_.id as id1_0_1_,\n        employeeen1_.first_name as first_na2_0_1_,\n        employeeen1_.job_title as job_titl3_0_1_,\n        employeeen1_.last_name as last_nam4_0_1_,\n        employeeen1_.team_id as team_id5_0_1_\n    from\n        employees.employee_project employees0_\n    inner join\n        employees.employee employeeen1_\n            on employees0_.employee_id=employeeen1_.id\n    where\n        employees0_.project_id=?\nHibernate:\n    insert\n    into\n        employees.employee_project\n        (employee_id, project_id)\n    values\n        (?, ?)\n</code></pre>\n<p>Notice additional select for Employee right after Projects were fetched. If I use simply <code>employeeEntity.getProjects().add(projectEntity);</code>, it generates:</p>\n<pre><code>Hibernate:\n    select\n        employeeen0_.id as id1_0_0_,\n        projectent2_.id as id1_2_1_,\n        teamentity3_.id as id1_3_2_,\n        employeeen0_.first_name as first_na2_0_0_,\n        employeeen0_.job_title as job_titl3_0_0_,\n        employeeen0_.last_name as last_nam4_0_0_,\n        employeeen0_.team_id as team_id5_0_0_,\n        projectent2_.budget as budget2_2_1_,\n        projectent2_.name as name3_2_1_,\n        projects1_.employee_id as employee1_1_0__,\n        projects1_.project_id as project_2_1_0__,\n        teamentity3_.name as name2_3_2_\n    from\n        employees.employee employeeen0_\n    inner join\n        employees.employee_project projects1_\n            on employeeen0_.id=projects1_.employee_id\n    inner join\n        employees.project projectent2_\n            on projects1_.project_id=projectent2_.id\n    inner join\n        employees.team teamentity3_\n            on employeeen0_.team_id=teamentity3_.id\n    where\n        employeeen0_.id=?\nHibernate:\n    select\n        projectent0_.id as id1_2_,\n        projectent0_.budget as budget2_2_,\n        projectent0_.name as name3_2_\n    from\n        employees.project projectent0_\n    where\n        projectent0_.id=?\nHibernate:\n    insert\n    into\n        employees.employee_project\n        (employee_id, project_id)\n    values\n        (?, ?)\n</code></pre>\n<p>No more fetching of employee.</p>\n<p><strong>Full code.</strong></p>\n<p>Controller.</p>\n<pre><code>@RestController\n@RequestMapping(path = &quot;${application.endpoints.projects}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n@Validated\npublic class ProjectsEndPoint {\n\n\n    @PostMapping(&quot;add-employee&quot;)\n    @ApiOperation(&quot;Add employee to project&quot;)\n    public void addEmployeeToProject(@RequestBody @Valid EmployeeProjectRequest request) {\n        LOGGER.info(&quot;Add employee to project. Request: {}&quot;, request);\n\n        this.projectsService.addEmployeeToProject(request);\n    }\n}\n\n</code></pre>\n<p>EmployeeProjectRequest.</p>\n<pre><code>@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\npublic record EmployeeProjectRequest(\n        @NotNull @Min(0) Long employeeId,\n        @NotNull @Min(0) Long projectId) {\n}\n</code></pre>\n<p>ProjectService.</p>\n<pre><code>@Service\npublic class ProjectsService {\n\n    private final ProjectRepo projectRepo;\n    private final EmployeeRepo repo;\n\n    public ProjectsService(ProjectRepo projectRepo, EmployeeRepo repo) {\n        this.projectRepo = projectRepo;\n        this.repo = repo;\n    }\n\n    @Transactional\n    public void addEmployeeToProject(EmployeeProjectRequest request) {\n        var employeeEntity = this.repo.getEmployee(request.employeeId())\n                .orElseThrow(() -&gt; new NotFoundException(&quot;Employee with id: %d does not exist&quot;.formatted(request.employeeId())));\n\n        var projectEntity = this.projectRepo.getProject(request.projectId())\n                .orElseThrow(() -&gt; new NotFoundException(&quot;Project with id: %d does not exists&quot;.formatted(request.projectId())));\n\n        //This line can be changed with employeeEntity.joinProject(projectEntity);\n        employeeEntity.getProjects().add(projectEntity);\n    }\n}\n\n</code></pre>\n<p>ProjectRepo.</p>\n<pre><code>@Repository\npublic class ProjectRepo {\n\n    private final EntityManager em;\n\n    public ProjectRepo(EntityManager em) {\n        this.em = em;\n    }\n\n    public Optional&lt;ProjectEntity&gt; getProject(Long id) {\n        var result = this.em.createQuery(&quot;SELECT p FROM ProjectEntity p where p.id = :id&quot;, ProjectEntity.class)\n                .setParameter(&quot;id&quot;, id)\n                .getResultList();\n\n        return RepoUtils.fromResultListToOptional(result);\n    }\n}\n</code></pre>\n<p>EmployeeRepo.</p>\n<pre><code>@Repository\npublic class EmployeeRepo {\n\n    private final EntityManager em;\n\n    public EmployeeRepo(EntityManager em) {\n        this.em = em;\n    }\n\n    public Optional&lt;EmployeeEntity&gt; getEmployee(Long id) {\n        var employees = this.em.createQuery(&quot;&quot;&quot;\n                SELECT e FROM EmployeeEntity e\n                JOIN FETCH e.projects p\n                JOIN FETCH e.team t\n                WHERE e.id = :id&quot;&quot;&quot;, EmployeeEntity.class)\n                .setParameter(&quot;id&quot;, id)\n                .getResultList();\n\n        return Optional.ofNullable(employees.isEmpty() ? null : employees.get(0));\n    }\n}\n\n</code></pre>\n<p>EmployeeEntity.</p>\n<pre><code>@Entity\n@Table(name = &quot;employee&quot;, schema = &quot;employees&quot;)\npublic class EmployeeEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String firstName;\n    private String lastName;\n\n    @Enumerated(EnumType.STRING)\n    private JobTitle jobTitle;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    private TeamEntity team;\n\n    @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)\n    @JoinTable(schema = &quot;employees&quot;, name = &quot;employee_project&quot;,\n            joinColumns = @JoinColumn(name = &quot;employee_id&quot;, referencedColumnName = &quot;id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;project_id&quot;, referencedColumnName = &quot;id&quot;))\n    private Set&lt;ProjectEntity&gt; projects = new HashSet&lt;&gt;();\n\n    public EmployeeEntity() {\n    }\n\n    public void joinProject(ProjectEntity project) {\n        project.getEmployees().add(this);\n        this.projects.add(project);\n    }\n\n    public void leaveProject(ProjectEntity project) {\n        project.getEmployees().remove(this);\n        this.projects.remove(project);\n    }\n\n        ... Getters and Setters ...\n}\n</code></pre>\n<p>ProjectEntity.</p>\n<pre><code>Entity\n@Table(name = &quot;project&quot;, schema = &quot;employees&quot;)\npublic class ProjectEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String name;\n    private BigDecimal budget;\n\n    @ManyToMany(fetch = FetchType.LAZY, mappedBy = &quot;projects&quot;)\n    private Set&lt;EmployeeEntity&gt; employees = new HashSet&lt;&gt;();\n\n    public ProjectEntity() {\n    }\n\n    ... Getters and Setters ...\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":8067843,"reputation":3948,"user_id":6081445,"accept_rate":100,"display_name":"wake-0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638598742,"creation_date":1638598742,"answer_id":70223466,"question_id":70223447,"body_markdown":"Try this:\r\n\r\n    int[] arr = new int[]{ 1,2,3,4,5,6 };\r\n    int index = 0;\r\n    int value = arr[index];\r\n    // value will be 1","title":"Pulling an integer from an index in an array","body":"<p>Try this:</p>\n<pre><code>int[] arr = new int[]{ 1,2,3,4,5,6 };\nint index = 0;\nint value = arr[index];\n// value will be 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19840634,"reputation":1,"user_id":14533296,"display_name":"Ayush Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638599418,"creation_date":1638599418,"answer_id":70223511,"question_id":70223447,"body_markdown":"You can easily find an integer found at a specified index in an array. There are multiple ways to achieve this.\r\n\r\nCode:\r\n\r\n    **import java.util.Scanner;\r\n    public class FindElementInArray\r\n    {\r\n        public static void main(String[] args) \r\n        {\r\n            int n, x, flag = 0, i = 0;\r\n            Scanner s = new Scanner(System.in);\r\n            System.out.print(&quot;Enter no. of elements you want in array:&quot;);\r\n            n = s.nextInt();\r\n            int a[] = new int[n];\r\n            System.out.println(&quot;Enter all the elements:&quot;);\r\n            for(i = 0; i &lt; n; i++)\r\n            {\r\n                a[i] = s.nextInt();\r\n            }\r\n            System.out.print(&quot;Enter the element you want to find:&quot;);\r\n            x = s.nextInt();\r\n            for(i = 0; i &lt; n; i++)\r\n            {\r\n                if(a[i] == x)\r\n                {\r\n                    flag = 1;\r\n                    break;\r\n                }\r\n                else\r\n                {\r\n                    flag = 0;\r\n                }\r\n            }\r\n            if(flag == 1)\r\n            {\r\n                System.out.println(&quot;Element found at position:&quot;+(i + 1));\r\n            }\r\n            else\r\n            {\r\n                System.out.println(&quot;Element not found&quot;);\r\n            }\r\n        }\r\n    }**","title":"Pulling an integer from an index in an array","body":"<p>You can easily find an integer found at a specified index in an array. There are multiple ways to achieve this.</p>\n<p>Code:</p>\n<pre><code>**import java.util.Scanner;\npublic class FindElementInArray\n{\n    public static void main(String[] args) \n    {\n        int n, x, flag = 0, i = 0;\n        Scanner s = new Scanner(System.in);\n        System.out.print(&quot;Enter no. of elements you want in array:&quot;);\n        n = s.nextInt();\n        int a[] = new int[n];\n        System.out.println(&quot;Enter all the elements:&quot;);\n        for(i = 0; i &lt; n; i++)\n        {\n            a[i] = s.nextInt();\n        }\n        System.out.print(&quot;Enter the element you want to find:&quot;);\n        x = s.nextInt();\n        for(i = 0; i &lt; n; i++)\n        {\n            if(a[i] == x)\n            {\n                flag = 1;\n                break;\n            }\n            else\n            {\n                flag = 0;\n            }\n        }\n        if(flag == 1)\n        {\n            System.out.println(&quot;Element found at position:&quot;+(i + 1));\n        }\n        else\n        {\n            System.out.println(&quot;Element not found&quot;);\n        }\n    }\n}**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10404394,"reputation":193,"user_id":7706073,"display_name":"Gaurav Kukade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638600991,"creation_date":1638600991,"answer_id":70223630,"question_id":70223447,"body_markdown":"Get the element from `int` array `arr` at index `index` as given below.\r\n\r\n```java\r\nint value = arr[index];\r\n```","title":"Pulling an integer from an index in an array","body":"<p>Get the element from <code>int</code> array <code>arr</code> at index <code>index</code> as given below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int value = arr[index];\n</code></pre>\n"}],"owner":{"account_id":23336029,"reputation":23,"user_id":17411679,"display_name":"Spencer Col&#243;n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1638605735,"accepted_answer_id":70223466,"answer_count":3,"score":-3,"last_activity_date":1638600991,"creation_date":1638598457,"question_id":70223447,"body_markdown":"I was wondering if there is a way in java to pull and integer found at a specific index in an array. I then want to store that integer in a variable. Is this something that can be done? ","title":"Pulling an integer from an index in an array","body":"<p>I was wondering if there is a way in java to pull and integer found at a specific index in an array. I then want to store that integer in a variable. Is this something that can be done?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1638545329,"post_id":70214821,"comment_id":124124842,"body_markdown":"What do you expect this `.orderByChild (&quot;DataPelanggan&quot;)` to do?","body":"What do you expect this <code>.orderByChild (&quot;DataPelanggan&quot;)</code> to do?"},{"owner":{"display_name":"user17562398"},"score":0,"creation_date":1638591327,"post_id":70214821,"comment_id":124135584,"body_markdown":"to take data inside of `DataPelanggan` folder, im using startAt for searching data base on date range, and it work already for taking the *20211113 thing, but i should take data inside DataPelanggan and show it in recycle view","body":"to take data inside of <code>DataPelanggan</code> folder, im using startAt for searching data base on date range, and it work already for taking the *20211113 thing, but i should take data inside DataPelanggan and show it in recycle view"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638593410,"creation_date":1638593410,"answer_id":70223107,"question_id":70214821,"body_markdown":"&gt; [I expect] expect `.orderByChild (&quot;DataPelanggan&quot;)` to take data inside of DataPelanggan folder and show it in recycle view\r\n\r\nFirebase&#39;s `orderByChild` is an operation to order the data from the database on the property of each child node.\r\n\r\nIf you want to show the `DataPelanggan` of each selected child, you will have to read the entire child snapshot and then get its `child(&quot;DataPelanggan&quot;)`.\r\n```\r\nQuery queryByKey = pendingRef.orderByKey()\r\n  .startAt (&quot;*&quot; + tanggalawal)\r\n  .endAt (&quot;*&quot; + tanggalakhir + &quot;\\uf8ff&quot;);\r\n\r\nqueryByKey.addListenerForSingleValueEvent(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(DataSnapshot dataSnapshot) {\r\n        for (DataSnapshot childSnapshot: dataSnapshot.getChildren()) {\r\n            DataSnapshot dataPelangganSnapshot = childSnapshot.child(&quot;DataPelanggan&quot;);\r\n            Map&lt;String,Object&gt; values = dataPelangganSnapshot.getValue();\r\n            String fullName = (String) values.get(&quot;fullName&quot;);\r\n            ...\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(DatabaseError databaseError) {\r\n        throw databaseError.toException();\r\n    }\r\n}\r\n```\r\n","title":"How to put another child in startAt and endAt, im trying to put orderbychild but it failed","body":"<blockquote>\n<p>[I expect] expect <code>.orderByChild (&quot;DataPelanggan&quot;)</code> to take data inside of DataPelanggan folder and show it in recycle view</p>\n</blockquote>\n<p>Firebase's <code>orderByChild</code> is an operation to order the data from the database on the property of each child node.</p>\n<p>If you want to show the <code>DataPelanggan</code> of each selected child, you will have to read the entire child snapshot and then get its <code>child(&quot;DataPelanggan&quot;)</code>.</p>\n<pre><code>Query queryByKey = pendingRef.orderByKey()\n  .startAt (&quot;*&quot; + tanggalawal)\n  .endAt (&quot;*&quot; + tanggalakhir + &quot;\\uf8ff&quot;);\n\nqueryByKey.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        for (DataSnapshot childSnapshot: dataSnapshot.getChildren()) {\n            DataSnapshot dataPelangganSnapshot = childSnapshot.child(&quot;DataPelanggan&quot;);\n            Map&lt;String,Object&gt; values = dataPelangganSnapshot.getValue();\n            String fullName = (String) values.get(&quot;fullName&quot;);\n            ...\n        }\n    }\n\n    @Override\n    public void onCancelled(DatabaseError databaseError) {\n        throw databaseError.toException();\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user17562398"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638599765,"creation_date":1638536903,"question_id":70214821,"body_markdown":"i having this code for getting my data from firebase in android studio and i want to take the data inside of child that look like this.\r\n\r\nThis is the realtime database look like and this is my code:\r\n![][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HkFXk.png\r\n\r\nim trying to use this but it failed when i used the orderByChild \r\n\r\n``` \r\nQuery queryByKey = pendingRef.orderByKey()\r\n  .startAt (&quot;*&quot; + tanggalawal)\r\n  .endAt (&quot;*&quot; + tanggalakhir + &quot;\\uf8ff&quot;)\r\n  .orderByChild (&quot;DataPelanggan&quot;);\r\n```\r\n\r\nlook like this\r\nBut the orderByChild cant be used\r\n\r\nthe thing i need is to take data in the child, i will show in recycleview fragment, this is the full code of my java file\r\n\r\n```\r\npublic class SearchListView extends AppCompatActivity {\r\n\r\n    private RecyclerView recView;\r\n    DatabaseReference databaseReference;\r\n    MyAdapter adapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate (savedInstanceState);\r\n        setContentView (R.layout.activity_search_list_view);\r\n\r\n        String tanggalawal = getIntent ( ).getStringExtra (&quot;tanggalawal&quot;);\r\n        String tanggalakhir = getIntent ( ).getStringExtra (&quot;tanggalakhir&quot;);\r\n\r\n        DatabaseReference db = FirebaseDatabase.getInstance ( ).getReference ( );\r\n        DatabaseReference pendingRef = db.child (&quot;Users&quot;).child (&quot;Pending&quot;);\r\n\r\n\r\n        Query queryByKey = pendingRef.orderByKey ()\r\n                .startAt (&quot;*&quot; + tanggalawal)\r\n                .endAt (&quot;*&quot; + tanggalakhir + &quot;\\uf8ff&quot;);\r\n\r\n        recView = (RecyclerView)findViewById (R.id.recview);\r\n        recView.setLayoutManager (new LinearLayoutManager (this));\r\n\r\n\r\n        FirebaseRecyclerOptions&lt;Model&gt; options =\r\n                new FirebaseRecyclerOptions.Builder&lt;Model&gt;()\r\n                        .setQuery(queryByKey, Model.class)\r\n                        .build();\r\n\r\n        adapter = new MyAdapter (options);\r\n        recView.setAdapter (adapter);\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        adapter.startListening();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        adapter.stopListening();\r\n    }\r\n}\r\n```\r\n\r\nand this is my adapter java\r\n\r\n```\r\npublic class MyAdapter extends FirebaseRecyclerAdapter &lt;Model,MyAdapter.myViewHolder&gt;{\r\n\r\n    public MyAdapter(@NonNull FirebaseRecyclerOptions&lt;Model&gt; options) {\r\n        super (options);\r\n    }\r\n\r\n    @Override\r\n    protected void onBindViewHolder(@NonNull myViewHolder myViewHolder, int i, @NonNull Model model) {\r\n        myViewHolder.currentDate.setText (model.getCurrentDate ());\r\n        myViewHolder.fullName.setText (model.getFullName ());\r\n        myViewHolder.currentDateandTime.setText (model.getCurrentDateandTime ());\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from (parent.getContext ()).inflate (R.layout.item,parent,false);\r\n        return new myViewHolder (view);\r\n    }\r\n\r\n    class myViewHolder extends RecyclerView.ViewHolder{\r\n        TextView currentDate, fullName, currentDateandTime;\r\n        public myViewHolder(@NonNull View itemView) {\r\n            super (itemView);\r\n            currentDate = (TextView)itemView.findViewById (R.id.tvTanggalPengajuan);\r\n            fullName = (TextView)itemView.findViewById (R.id.tvNama);\r\n            currentDateandTime = (TextView)itemView.findViewById (R.id.tvNomorkontrak);\r\n        }\r\n    }\r\n    public interface OnNoteListener{\r\n\r\n        void OnNoteListener(int position);\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n","title":"How to put another child in startAt and endAt, im trying to put orderbychild but it failed","body":"<p>i having this code for getting my data from firebase in android studio and i want to take the data inside of child that look like this.</p>\n<p>This is the realtime database look like and this is my code:\n<img src=\"https://i.stack.imgur.com/HkFXk.png\" alt=\"\" /></p>\n<p>im trying to use this but it failed when i used the orderByChild</p>\n<pre><code>Query queryByKey = pendingRef.orderByKey()\n  .startAt (&quot;*&quot; + tanggalawal)\n  .endAt (&quot;*&quot; + tanggalakhir + &quot;\\uf8ff&quot;)\n  .orderByChild (&quot;DataPelanggan&quot;);\n</code></pre>\n<p>look like this\nBut the orderByChild cant be used</p>\n<p>the thing i need is to take data in the child, i will show in recycleview fragment, this is the full code of my java file</p>\n<pre><code>public class SearchListView extends AppCompatActivity {\n\n    private RecyclerView recView;\n    DatabaseReference databaseReference;\n    MyAdapter adapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate (savedInstanceState);\n        setContentView (R.layout.activity_search_list_view);\n\n        String tanggalawal = getIntent ( ).getStringExtra (&quot;tanggalawal&quot;);\n        String tanggalakhir = getIntent ( ).getStringExtra (&quot;tanggalakhir&quot;);\n\n        DatabaseReference db = FirebaseDatabase.getInstance ( ).getReference ( );\n        DatabaseReference pendingRef = db.child (&quot;Users&quot;).child (&quot;Pending&quot;);\n\n\n        Query queryByKey = pendingRef.orderByKey ()\n                .startAt (&quot;*&quot; + tanggalawal)\n                .endAt (&quot;*&quot; + tanggalakhir + &quot;\\uf8ff&quot;);\n\n        recView = (RecyclerView)findViewById (R.id.recview);\n        recView.setLayoutManager (new LinearLayoutManager (this));\n\n\n        FirebaseRecyclerOptions&lt;Model&gt; options =\n                new FirebaseRecyclerOptions.Builder&lt;Model&gt;()\n                        .setQuery(queryByKey, Model.class)\n                        .build();\n\n        adapter = new MyAdapter (options);\n        recView.setAdapter (adapter);\n\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        adapter.startListening();\n    }\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n        adapter.stopListening();\n    }\n}\n</code></pre>\n<p>and this is my adapter java</p>\n<pre><code>public class MyAdapter extends FirebaseRecyclerAdapter &lt;Model,MyAdapter.myViewHolder&gt;{\n\n    public MyAdapter(@NonNull FirebaseRecyclerOptions&lt;Model&gt; options) {\n        super (options);\n    }\n\n    @Override\n    protected void onBindViewHolder(@NonNull myViewHolder myViewHolder, int i, @NonNull Model model) {\n        myViewHolder.currentDate.setText (model.getCurrentDate ());\n        myViewHolder.fullName.setText (model.getFullName ());\n        myViewHolder.currentDateandTime.setText (model.getCurrentDateandTime ());\n    }\n\n    @NonNull\n    @Override\n    public myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from (parent.getContext ()).inflate (R.layout.item,parent,false);\n        return new myViewHolder (view);\n    }\n\n    class myViewHolder extends RecyclerView.ViewHolder{\n        TextView currentDate, fullName, currentDateandTime;\n        public myViewHolder(@NonNull View itemView) {\n            super (itemView);\n            currentDate = (TextView)itemView.findViewById (R.id.tvTanggalPengajuan);\n            fullName = (TextView)itemView.findViewById (R.id.tvNama);\n            currentDateandTime = (TextView)itemView.findViewById (R.id.tvNomorkontrak);\n        }\n    }\n    public interface OnNoteListener{\n\n        void OnNoteListener(int position);\n\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","android","xamarin"],"answers":[{"tags":[],"owner":{"account_id":6428209,"reputation":14,"user_id":4982474,"display_name":"ltype"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638598152,"creation_date":1638597812,"answer_id":70223400,"question_id":70223199,"body_markdown":"Try this:\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n            android:id=&quot;@+id/toolbar3&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;\r\n            android:background=&quot;?attr/colorPrimary&quot;\r\n            app:menu=&quot;@menu/your_menu&quot;\r\n            app:navigationIcon=&quot;@drawable/your_icon&quot; /&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:id=&quot;@+id/new_game&quot;\r\n              android:icon=&quot;@drawable/ic_new_game&quot;\r\n              android:title=&quot;@string/new_game&quot;\r\n              android:showAsAction=&quot;ifRoom&quot;/&gt;\r\n        &lt;item android:id=&quot;@+id/help&quot;\r\n              android:icon=&quot;@drawable/ic_help&quot;\r\n              android:title=&quot;@string/help&quot; /&gt;\r\n    &lt;/menu&gt;\r\n\r\nI think you need to check your menu.xml file.\r\n","title":"How to display toolbar icons inside an inflated view toolbar android java","body":"<p>Try this:</p>\n<pre><code>&lt;androidx.appcompat.widget.Toolbar\n        android:id=&quot;@+id/toolbar3&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;?attr/actionBarSize&quot;\n        android:background=&quot;?attr/colorPrimary&quot;\n        app:menu=&quot;@menu/your_menu&quot;\n        app:navigationIcon=&quot;@drawable/your_icon&quot; /&gt;\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:id=&quot;@+id/new_game&quot;\n          android:icon=&quot;@drawable/ic_new_game&quot;\n          android:title=&quot;@string/new_game&quot;\n          android:showAsAction=&quot;ifRoom&quot;/&gt;\n    &lt;item android:id=&quot;@+id/help&quot;\n          android:icon=&quot;@drawable/ic_help&quot;\n          android:title=&quot;@string/help&quot; /&gt;\n&lt;/menu&gt;\n</code></pre>\n<p>I think you need to check your menu.xml file.</p>\n"}],"owner":{"display_name":"user16612111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638598152,"creation_date":1638594692,"question_id":70223199,"body_markdown":"I have an inflated view in my activity file and the layout file happens to have a Toolbar widget that I desire to fill up with icons. I have tried to use the code `toolbar.Inflate(int resource);` but it is not showing up, the toolbar text is also not showing up with `toolbar.Title=name;` \r\nThe code for the layout is this one...\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout \r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:background=&quot;@drawable/chat_background&quot;\r\n    android:baselineAligned=&quot;false&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\r\n\r\n        &lt;androidx.appcompat.widget.Toolbar\r\n            android:id=&quot;@+id/toolbar3&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;\r\n            android:background=&quot;?attr/colorPrimary&quot;\r\n            app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot; /&gt;\r\n\r\n     &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n    &lt;EditText\r\n        android:layout_margin=&quot;5dp&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:padding=&quot;9dp&quot;\r\n        android:drawableRight=&quot;@drawable/tinted_camera&quot;\r\n        android:background=&quot;@drawable/rounded&quot;\r\n        android:drawableLeft=&quot;@drawable/emoji&quot;\r\n        android:hint=&quot;Type a Message&quot;\r\n        android:inputType=&quot;textMultiLine&quot;\r\n        android:id=&quot;@+id/message_box&quot;\r\n        android:gravity=&quot;bottom&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;?attr/actionBarSize&quot;/&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n```\r\n\r\nI tried to inflate the View first, got the ID of my toolbar and tried to inflate the icons to the right of the toolbar as follows but its not working.\r\n\r\n```\r\n            try\r\n            {\r\n                //Inflate our view with the Chat layout\r\n                View chat_view = LayoutInflater.Inflate(Resource.Layout.chat_view, null);\r\n                //define the toolbar\r\n                AndroidX.AppCompat.Widget.Toolbar toolbar = chat_view.FindViewById&lt;AndroidX.AppCompat.Widget.Toolbar&gt;(Resource.Id.toolbar3);\r\n                SetSupportActionBar(toolbar);\r\n                //get the nanme of the current contact\r\n                string name = (string)contact_list.GetItemAtPosition(e.Position);\r\n                toolbar.Title= name;\r\n                //inflate this toolbar\r\n                toolbar.InflateMenu(Resource.Menu.video_menu_item);\r\n                toolbar.InflateMenu(Resource.Menu.call_menu_item);\r\n                toolbar.InflateMenu(Resource.Menu.bars_menu_item);\r\n                toolbar.SetNavigationIcon(Resource.Drawable.back_arrow);\r\n                //build a new alert dialog\r\n                Android.App.AlertDialog.Builder builder = new Android.App.AlertDialog.Builder(this, Android.Resource.Style.ThemeMaterialLightNoActionBarFullscreen);\r\n                builder.SetView(Resource.Layout.chat_view);\r\n                builder.Show();\r\n            }catch (Exception ex)\r\n            {\r\n                Toast.MakeText(this,ex.Message,ToastLength.Short).Show();\r\n            }\r\n```\r\nHow do I succeSsfully make this Toolbar in an inflated view to show up the icons and the text?","title":"How to display toolbar icons inside an inflated view toolbar android java","body":"<p>I have an inflated view in my activity file and the layout file happens to have a Toolbar widget that I desire to fill up with icons. I have tried to use the code <code>toolbar.Inflate(int resource);</code> but it is not showing up, the toolbar text is also not showing up with <code>toolbar.Title=name;</code>\nThe code for the layout is this one...</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout \n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:orientation=&quot;vertical&quot;\n    android:background=&quot;@drawable/chat_background&quot;\n    android:baselineAligned=&quot;false&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\n\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/toolbar3&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;\n            android:background=&quot;?attr/colorPrimary&quot;\n            app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot; /&gt;\n\n     &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n    &lt;EditText\n        android:layout_margin=&quot;5dp&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:padding=&quot;9dp&quot;\n        android:drawableRight=&quot;@drawable/tinted_camera&quot;\n        android:background=&quot;@drawable/rounded&quot;\n        android:drawableLeft=&quot;@drawable/emoji&quot;\n        android:hint=&quot;Type a Message&quot;\n        android:inputType=&quot;textMultiLine&quot;\n        android:id=&quot;@+id/message_box&quot;\n        android:gravity=&quot;bottom&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;?attr/actionBarSize&quot;/&gt;\n\n&lt;/RelativeLayout&gt;\n\n</code></pre>\n<p>I tried to inflate the View first, got the ID of my toolbar and tried to inflate the icons to the right of the toolbar as follows but its not working.</p>\n<pre><code>            try\n            {\n                //Inflate our view with the Chat layout\n                View chat_view = LayoutInflater.Inflate(Resource.Layout.chat_view, null);\n                //define the toolbar\n                AndroidX.AppCompat.Widget.Toolbar toolbar = chat_view.FindViewById&lt;AndroidX.AppCompat.Widget.Toolbar&gt;(Resource.Id.toolbar3);\n                SetSupportActionBar(toolbar);\n                //get the nanme of the current contact\n                string name = (string)contact_list.GetItemAtPosition(e.Position);\n                toolbar.Title= name;\n                //inflate this toolbar\n                toolbar.InflateMenu(Resource.Menu.video_menu_item);\n                toolbar.InflateMenu(Resource.Menu.call_menu_item);\n                toolbar.InflateMenu(Resource.Menu.bars_menu_item);\n                toolbar.SetNavigationIcon(Resource.Drawable.back_arrow);\n                //build a new alert dialog\n                Android.App.AlertDialog.Builder builder = new Android.App.AlertDialog.Builder(this, Android.Resource.Style.ThemeMaterialLightNoActionBarFullscreen);\n                builder.SetView(Resource.Layout.chat_view);\n                builder.Show();\n            }catch (Exception ex)\n            {\n                Toast.MakeText(this,ex.Message,ToastLength.Short).Show();\n            }\n</code></pre>\n<p>How do I succeSsfully make this Toolbar in an inflated view to show up the icons and the text?</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1638599112,"post_id":70223424,"comment_id":124136343,"body_markdown":"What is the value of `user.getUser()` in the line `auditTrail.setChanged_by(user.getUser());` ?","body":"What is the value of <code>user.getUser()</code> in the line <code>auditTrail.setChanged_by(user.getUser());</code> ?"},{"owner":{"account_id":22696868,"reputation":11,"user_id":16864850,"display_name":"Maze"},"score":0,"creation_date":1638601654,"post_id":70223424,"comment_id":124136667,"body_markdown":"it prints out the user name which is ragnar (test user). obtained by using sessionId to grab the user who has that session id.","body":"it prints out the user name which is ragnar (test user). obtained by using sessionId to grab the user who has that session id."},{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1638601838,"post_id":70223424,"comment_id":124136686,"body_markdown":"The code you posted should not be having this problem.","body":"The code you posted should not be having this problem."}],"owner":{"account_id":22696868,"reputation":11,"user_id":16864850,"display_name":"Maze"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638598134,"creation_date":1638598134,"question_id":70223424,"body_markdown":"I&#39;m having trouble getting an audit trail to post to a table.\r\n\r\nThe error states that the field &quot;changed_by&quot; doesn&#39;t have a default value (which i do not wish for it to have a default value or be null)\r\n\r\nI noticed that the prepared statement that it generated doesn&#39;t include the column even though i gave it a value.\r\n\r\nhere is my audit model:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;audit_trail&quot;)\r\npublic class AuditTrail {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;changed_msg&quot;, nullable = false, length = 1000)\r\n    private String changed_msg;\r\n\r\n    @MapsId\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;changed_by&quot;, nullable = false)\r\n    private User changed_by;\r\n\r\n    @MapsId\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;person_id&quot;, nullable = false)\r\n    private People personId;\r\n\r\n    @Column(name=&quot;when_occured&quot;, nullable = false, length = 100)\r\n    private Date when;\r\n\r\n\r\n\r\n    public AuditTrail() {\r\n    }\r\n\r\n//plus accessors\r\n}\r\n```\r\n\r\nand here is the method I&#39;m calling using postman for testing:\r\n\r\n```\r\n    @PostMapping(&quot;/people/{id}/audittrail&quot;)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;AuditTrail&gt; addAudit(@PathVariable(&quot;id&quot;) long personId, @RequestBody Map&lt;String, String&gt; requestBody, @RequestHeader(&quot;Authorization&quot;) String headers){\r\n        AuditTrail auditTrail = new AuditTrail();\r\n        People person= peopleRepository.findById(personId).get();\r\n        if (headers != null) {\r\n            if (sessionRepository.findByToken(headers).isPresent()) {\r\n                if (requestBody.containsKey(&quot;changed_msg&quot;)) {\r\n                    auditTrail.setChanged_msg(requestBody.get(&quot;changed_msg&quot;));\r\n                    auditTrail.setPersonId(person);\r\n                    Session user = sessionRepository.findByToken(headers).get();\r\n                    SimpleDateFormat formatter= new SimpleDateFormat(&quot;yyyy-MM-dd &#39;at&#39; HH:mm:ss&quot;);\r\n                    Date date = new Date(System.currentTimeMillis());\r\n                    auditTrail.setWhen(date);\r\n                    auditTrail.setChanged_by(user.getUser()); \r\n// as a note above is where i&#39;m setting the changed by, below I printed the user val out and it gave me the user value that i expected.\r\n                    System.out.println(&quot;User: &quot;+user.getUser());\r\n                    AuditTrail temp = new AuditTrail();\r\n                    try {\r\n                        temp = auditTrailRepository.save(auditTrail);\r\n                    }catch (Exception e){\r\n                        e.printStackTrace();\r\n                    }\r\n                    return new ResponseEntity&lt;&gt;(temp, HttpStatus.valueOf(200));\r\n                }\r\n                else\r\n                    return new ResponseEntity&lt;&gt;(auditTrail, HttpStatus.valueOf(400));\r\n            }\r\n            else\r\n                return new ResponseEntity&lt;&gt;(auditTrail, HttpStatus.valueOf(401));\r\n        }\r\n        else\r\n            return new ResponseEntity&lt;&gt;(auditTrail, HttpStatus.valueOf(401));\r\n    }\r\n```\r\n\r\nhere are the 2 parts i noted from the stacktrace:\r\n\r\n```\r\nHibernate: insert into audit_trail (changed_msg, when_occured, person_id) values (?, ?, ?)\r\n```\r\n```\r\nCaused by: java.sql.SQLException: Field &#39;changed_by&#39; doesn&#39;t have a default value\r\n```\r\n\r\nI&#39;m trying to figure out how to get it to add &quot;changed_by&quot; to the generated prepared statement as it is missing.\r\n\r\nhere is the full stacktrace:\r\n\r\n```\r\nHibernate: insert into audit_trail (changed_msg, when_occured, person_id) values (?, ?, ?)\r\n2021-12-03 23:46:05.667  WARN 15452 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1364, SQLState: HY000\r\n2021-12-03 23:46:05.667 ERROR 15452 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Field &#39;changed_by&#39; doesn&#39;t have a default value\r\norg.springframework.orm.jpa.JpaSystemException: could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:331)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat com.sun.proxy.$Proxy112.save(Unknown Source)\r\n\tat springboot.services.PeopleControllerHibernate.addAudit(PeopleControllerHibernate.java:188)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: org.hibernate.exception.GenericJDBCException: could not execute statement\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3298)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3825)\r\n\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\r\n\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\r\n\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\r\n\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1362)\r\n\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:453)\r\n\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3212)\r\n\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2380)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:448)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\r\n\t... 65 more\r\nCaused by: java.sql.SQLException: Field &#39;changed_by&#39; doesn&#39;t have a default value\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1340)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1025)\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\r\n\t... 85 more\r\n```","title":"JPA Hibernate missing column name in generated prepared statement","body":"<p>I'm having trouble getting an audit trail to post to a table.</p>\n<p>The error states that the field &quot;changed_by&quot; doesn't have a default value (which i do not wish for it to have a default value or be null)</p>\n<p>I noticed that the prepared statement that it generated doesn't include the column even though i gave it a value.</p>\n<p>here is my audit model:</p>\n<pre><code>@Entity\n@Table(name = &quot;audit_trail&quot;)\npublic class AuditTrail {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @Column(name = &quot;changed_msg&quot;, nullable = false, length = 1000)\n    private String changed_msg;\n\n    @MapsId\n    @ManyToOne\n    @JoinColumn(name=&quot;changed_by&quot;, nullable = false)\n    private User changed_by;\n\n    @MapsId\n    @ManyToOne\n    @JoinColumn(name=&quot;person_id&quot;, nullable = false)\n    private People personId;\n\n    @Column(name=&quot;when_occured&quot;, nullable = false, length = 100)\n    private Date when;\n\n\n\n    public AuditTrail() {\n    }\n\n//plus accessors\n}\n</code></pre>\n<p>and here is the method I'm calling using postman for testing:</p>\n<pre><code>    @PostMapping(&quot;/people/{id}/audittrail&quot;)\n    @ResponseBody\n    public ResponseEntity&lt;AuditTrail&gt; addAudit(@PathVariable(&quot;id&quot;) long personId, @RequestBody Map&lt;String, String&gt; requestBody, @RequestHeader(&quot;Authorization&quot;) String headers){\n        AuditTrail auditTrail = new AuditTrail();\n        People person= peopleRepository.findById(personId).get();\n        if (headers != null) {\n            if (sessionRepository.findByToken(headers).isPresent()) {\n                if (requestBody.containsKey(&quot;changed_msg&quot;)) {\n                    auditTrail.setChanged_msg(requestBody.get(&quot;changed_msg&quot;));\n                    auditTrail.setPersonId(person);\n                    Session user = sessionRepository.findByToken(headers).get();\n                    SimpleDateFormat formatter= new SimpleDateFormat(&quot;yyyy-MM-dd 'at' HH:mm:ss&quot;);\n                    Date date = new Date(System.currentTimeMillis());\n                    auditTrail.setWhen(date);\n                    auditTrail.setChanged_by(user.getUser()); \n// as a note above is where i'm setting the changed by, below I printed the user val out and it gave me the user value that i expected.\n                    System.out.println(&quot;User: &quot;+user.getUser());\n                    AuditTrail temp = new AuditTrail();\n                    try {\n                        temp = auditTrailRepository.save(auditTrail);\n                    }catch (Exception e){\n                        e.printStackTrace();\n                    }\n                    return new ResponseEntity&lt;&gt;(temp, HttpStatus.valueOf(200));\n                }\n                else\n                    return new ResponseEntity&lt;&gt;(auditTrail, HttpStatus.valueOf(400));\n            }\n            else\n                return new ResponseEntity&lt;&gt;(auditTrail, HttpStatus.valueOf(401));\n        }\n        else\n            return new ResponseEntity&lt;&gt;(auditTrail, HttpStatus.valueOf(401));\n    }\n</code></pre>\n<p>here are the 2 parts i noted from the stacktrace:</p>\n<pre><code>Hibernate: insert into audit_trail (changed_msg, when_occured, person_id) values (?, ?, ?)\n</code></pre>\n<pre><code>Caused by: java.sql.SQLException: Field 'changed_by' doesn't have a default value\n</code></pre>\n<p>I'm trying to figure out how to get it to add &quot;changed_by&quot; to the generated prepared statement as it is missing.</p>\n<p>here is the full stacktrace:</p>\n<pre><code>Hibernate: insert into audit_trail (changed_msg, when_occured, person_id) values (?, ?, ?)\n2021-12-03 23:46:05.667  WARN 15452 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1364, SQLState: HY000\n2021-12-03 23:46:05.667 ERROR 15452 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Field 'changed_by' doesn't have a default value\norg.springframework.orm.jpa.JpaSystemException: could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:331)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at com.sun.proxy.$Proxy112.save(Unknown Source)\n    at springboot.services.PeopleControllerHibernate.addAudit(PeopleControllerHibernate.java:188)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.hibernate.exception.GenericJDBCException: could not execute statement\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3298)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3825)\n    at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\n    at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1362)\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:453)\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3212)\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2380)\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:448)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\n    ... 65 more\nCaused by: java.sql.SQLException: Field 'changed_by' doesn't have a default value\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1340)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1025)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\n    ... 85 more\n</code></pre>\n"},{"tags":["java","bmp"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1638545487,"post_id":70216301,"comment_id":124124903,"body_markdown":"Can you use the [`ImageIcon`] [constructor](https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/ImageIcon.html#%3Cinit%3E(java.awt.Image)) that takes a parameter of type `Image`?","body":"Can you use the [<code>ImageIcon</code>] <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/ImageIcon.html#%3Cinit%3E(java.awt.Image)\" rel=\"nofollow noreferrer\">constructor</a> that takes a parameter of type <code>Image</code>?"},{"owner":{"account_id":897406,"reputation":897,"user_id":934373,"accept_rate":80,"display_name":"Hawk"},"score":0,"creation_date":1638579433,"post_id":70216301,"comment_id":124134371,"body_markdown":"yse, passed a BufferedImage of bmp will keep its size. because my intention is to simulate the uploading case, that&#39;s why I create an ImageIcon with byte array. :)","body":"yse, passed a BufferedImage of bmp will keep its size. because my intention is to simulate the uploading case, that&#39;s why I create an ImageIcon with byte array. :)"}],"answers":[{"tags":[],"owner":{"account_id":21201095,"reputation":405,"user_id":15591732,"display_name":"Sofyane MAKERRI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638544451,"creation_date":1638544451,"answer_id":70216554,"question_id":70216301,"body_markdown":"From Java documentation, ImageIcon not support BMP format:\r\n![enter image description here](https://i.stack.imgur.com/Z1i8S.jpg)\r\n\r\nYou can use this :\r\nhttps://stackoverflow.com/questions/18507180/get-image-dimension-and-image-size-from-binary","title":"why read a byte array of bmp and the width and height lost","body":"<p>From Java documentation, ImageIcon not support BMP format:\n<img src=\"https://i.stack.imgur.com/Z1i8S.jpg\" alt=\"enter image description here\" /></p>\n<p>You can use this :\n<a href=\"https://stackoverflow.com/questions/18507180/get-image-dimension-and-image-size-from-binary\">Get Image Dimension and Image Size from Binary</a></p>\n"},{"tags":[],"owner":{"account_id":897406,"reputation":897,"user_id":934373,"accept_rate":80,"display_name":"Hawk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638596913,"creation_date":1638596913,"answer_id":70223336,"question_id":70216301,"body_markdown":"Thanks for your hints. I found if I read those bytes with `ImageIO`, I can successfully get an image&#39;s width and height.\r\n\r\n```java\r\npublic class ImageReader {\r\n\r\n    private static URL imgUrl;\r\n    private static byte[] bytes;\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        imgUrl = ImageReader.class.getResource(&quot;myimage.jpg&quot;);\r\n        bytes = getBytes(imgUrl, &quot;jpg&quot;);\r\n        printWidthHeight(bytes);\r\n        imgUrl = ImageReader.class.getResource(&quot;flag.bmp&quot;);\r\n        bytes = getBytes(imgUrl, &quot;bmp&quot;);\r\n        printWidthHeight(bytes);\r\n    }\r\n\r\n    private static void printWidthHeight(byte[] bytes) throws IOException {\r\n        ImageIcon imageIcon = new ImageIcon(bytes);\r\n        System.out.format( &quot;%s, %s \\n&quot;, imageIcon.getIconWidth(), imageIcon.getIconHeight());\r\n\r\n\r\n        BufferedImage image = ImageIO.read(new ByteArrayInputStream(bytes));\r\n        ImageIcon imageIcon2 = new ImageIcon(image);\r\n        System.out.format( &quot;%s, %s \\n&quot;, imageIcon2.getIconWidth(), imageIcon2.getIconHeight());\r\n    }\r\n\r\n    private static byte[] getBytes(URL imgUrl, String format) throws IOException {\r\n        BufferedImage image = ImageIO.read(imgUrl);\r\n        System.out.println(image.getType());\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        boolean isAppropriate = ImageIO.write(image, format, baos);\r\n        System.out.println(isAppropriate);\r\n        byte[] bytes = baos.toByteArray();\r\n        return bytes;\r\n    }\r\n}\r\n```\r\n\r\n# output\r\n\r\n```\r\n5\r\ntrue\r\n171, 125 \r\n171, 125 \r\n5\r\ntrue\r\n-1, -1 \r\n124, 124 \r\n```","title":"why read a byte array of bmp and the width and height lost","body":"<p>Thanks for your hints. I found if I read those bytes with <code>ImageIO</code>, I can successfully get an image's width and height.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ImageReader {\n\n    private static URL imgUrl;\n    private static byte[] bytes;\n\n    public static void main(String[] args) throws IOException {\n        imgUrl = ImageReader.class.getResource(&quot;myimage.jpg&quot;);\n        bytes = getBytes(imgUrl, &quot;jpg&quot;);\n        printWidthHeight(bytes);\n        imgUrl = ImageReader.class.getResource(&quot;flag.bmp&quot;);\n        bytes = getBytes(imgUrl, &quot;bmp&quot;);\n        printWidthHeight(bytes);\n    }\n\n    private static void printWidthHeight(byte[] bytes) throws IOException {\n        ImageIcon imageIcon = new ImageIcon(bytes);\n        System.out.format( &quot;%s, %s \\n&quot;, imageIcon.getIconWidth(), imageIcon.getIconHeight());\n\n\n        BufferedImage image = ImageIO.read(new ByteArrayInputStream(bytes));\n        ImageIcon imageIcon2 = new ImageIcon(image);\n        System.out.format( &quot;%s, %s \\n&quot;, imageIcon2.getIconWidth(), imageIcon2.getIconHeight());\n    }\n\n    private static byte[] getBytes(URL imgUrl, String format) throws IOException {\n        BufferedImage image = ImageIO.read(imgUrl);\n        System.out.println(image.getType());\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        boolean isAppropriate = ImageIO.write(image, format, baos);\n        System.out.println(isAppropriate);\n        byte[] bytes = baos.toByteArray();\n        return bytes;\n    }\n}\n</code></pre>\n<h1>output</h1>\n<pre><code>5\ntrue\n171, 125 \n171, 125 \n5\ntrue\n-1, -1 \n124, 124 \n</code></pre>\n"}],"owner":{"account_id":897406,"reputation":897,"user_id":934373,"accept_rate":80,"display_name":"Hawk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70223336,"answer_count":2,"score":0,"last_activity_date":1638596913,"creation_date":1638543429,"question_id":70216301,"body_markdown":"\r\nmy server receives a byte array of bmp by uploading, and I read its width and height but get `-1`. I try to simulate this uploading case with the code below:\r\n\r\n```java\r\npublic class ImageReader {\r\n\r\n    private static URL imgUrl;\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        imgUrl = ImageReader.class.getResource(&quot;myimage.jpg&quot;);\r\n        printWidthHeight(imgUrl, &quot;jpg&quot;);\r\n        imgUrl = ImageReader.class.getResource(&quot;flag.bmp&quot;);\r\n        printWidthHeight(imgUrl, &quot;bmp&quot;);\r\n    }\r\n\r\n    private static void printWidthHeight(URL imgUrl, String format) throws IOException {\r\n        BufferedImage image = ImageIO.read(imgUrl);\r\n        System.out.println(image.getType());\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        boolean isAppropriate = ImageIO.write(image, format, baos);\r\n        System.out.println(isAppropriate);\r\n        byte[] bytes = baos.toByteArray();\r\n\r\n        ImageIcon imageIcon = new ImageIcon(bytes);\r\n        System.out.format( &quot;%s, %s \\n&quot;, imageIcon.getIconWidth(), imageIcon.getIconHeight());\r\n    }\r\n}\r\n```\r\n\r\nIt prints:\r\n\r\n    5\r\n    true\r\n    171, 125 \r\n    5\r\n    true\r\n    -1, -1 \r\n\r\nI found\r\n* jpg still has width and height, but bmp doesn&#39;t\r\n\r\nDoes anyone know the reason?","title":"why read a byte array of bmp and the width and height lost","body":"<p>my server receives a byte array of bmp by uploading, and I read its width and height but get <code>-1</code>. I try to simulate this uploading case with the code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ImageReader {\n\n    private static URL imgUrl;\n\n    public static void main(String[] args) throws IOException {\n        imgUrl = ImageReader.class.getResource(&quot;myimage.jpg&quot;);\n        printWidthHeight(imgUrl, &quot;jpg&quot;);\n        imgUrl = ImageReader.class.getResource(&quot;flag.bmp&quot;);\n        printWidthHeight(imgUrl, &quot;bmp&quot;);\n    }\n\n    private static void printWidthHeight(URL imgUrl, String format) throws IOException {\n        BufferedImage image = ImageIO.read(imgUrl);\n        System.out.println(image.getType());\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        boolean isAppropriate = ImageIO.write(image, format, baos);\n        System.out.println(isAppropriate);\n        byte[] bytes = baos.toByteArray();\n\n        ImageIcon imageIcon = new ImageIcon(bytes);\n        System.out.format( &quot;%s, %s \\n&quot;, imageIcon.getIconWidth(), imageIcon.getIconHeight());\n    }\n}\n</code></pre>\n<p>It prints:</p>\n<pre><code>5\ntrue\n171, 125 \n5\ntrue\n-1, -1 \n</code></pre>\n<p>I found</p>\n<ul>\n<li>jpg still has width and height, but bmp doesn't</li>\n</ul>\n<p>Does anyone know the reason?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1638595212,"post_id":70223228,"comment_id":124135956,"body_markdown":"You need to cast it to a long before you negate it.","body":"You need to cast it to a long before you negate it."},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":0,"creation_date":1638595943,"post_id":70223228,"comment_id":124136021,"body_markdown":"That&#39;s because negative and positive are the same thing for `Integer.MIN_VALUE`.  `Integer.MIN_VALUE` is `-2147483648`, but `Integer.MAX_VALUE` is only `2147483647`.  When you try to store an integer larger than `Integer.MAX_VALUE`, it overflows into the next significant bit, which is the sign bit.  When you try to read the value, the runtime sees a negative number because the sign bit is set, so in this case it brings you right back to `Integer.MIN_VALUE`.  What you need to do is cast to a larger data type, so the next significant bit is no longer the sign bit.","body":"That&#39;s because negative and positive are the same thing for <code>Integer.MIN_VALUE</code>.  <code>Integer.MIN_VALUE</code> is <code>-2147483648</code>, but <code>Integer.MAX_VALUE</code> is only <code>2147483647</code>.  When you try to store an integer larger than <code>Integer.MAX_VALUE</code>, it overflows into the next significant bit, which is the sign bit.  When you try to read the value, the runtime sees a negative number because the sign bit is set, so in this case it brings you right back to <code>Integer.MIN_VALUE</code>.  What you need to do is cast to a larger data type, so the next significant bit is no longer the sign bit."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1638601601,"post_id":70223228,"comment_id":124136656,"body_markdown":"Which positive long do you expect?","body":"Which positive long do you expect?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1638604559,"post_id":70223228,"comment_id":124137050,"body_markdown":"you could eventually use `Integer.toUnsignedLong()`, depending on use case","body":"you could eventually use <code>Integer.toUnsignedLong()</code>, depending on use case"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638596033,"creation_date":1638596033,"answer_id":70223289,"question_id":70223228,"body_markdown":"`long num = -num;` is executed as:\r\n\r\n1. take the int `num`, and negative it; it&#39;s still an `int`. In other words, it remains `Integer.MIN_VALUE` - because that&#39;s the one negative number amongst all 2^31 of em that doesn&#39;t have a positive equivalent, as `0` &#39;takes up space&#39; on the positive side of things.\r\n\r\n2. Then, take the number we now have (still `Integer.MIN_VAUE`, because `-Integer.MIN_VALUE` is still `Integer.MIN_VALUE`), and silently cast it to a `long`, because that&#39;s a widening (safe) conversion, so java will just inject the cast for you.\r\n\r\nThe fix is to first cast to a long and _then_ negative it:\r\n\r\neither:\r\n\r\n```\r\nlong number = num;\r\nnumber = -number;\r\n```\r\n\r\nor in one go:\r\n\r\n```\r\nlong number = -((long) num);\r\n```\r\n","title":"How do you convert Integer.MIN_VALUE to a positive long?","body":"<p><code>long num = -num;</code> is executed as:</p>\n<ol>\n<li><p>take the int <code>num</code>, and negative it; it's still an <code>int</code>. In other words, it remains <code>Integer.MIN_VALUE</code> - because that's the one negative number amongst all 2^31 of em that doesn't have a positive equivalent, as <code>0</code> 'takes up space' on the positive side of things.</p>\n</li>\n<li><p>Then, take the number we now have (still <code>Integer.MIN_VAUE</code>, because <code>-Integer.MIN_VALUE</code> is still <code>Integer.MIN_VALUE</code>), and silently cast it to a <code>long</code>, because that's a widening (safe) conversion, so java will just inject the cast for you.</p>\n</li>\n</ol>\n<p>The fix is to first cast to a long and <em>then</em> negative it:</p>\n<p>either:</p>\n<pre><code>long number = num;\nnumber = -number;\n</code></pre>\n<p>or in one go:</p>\n<pre><code>long number = -((long) num);\n</code></pre>\n"}],"owner":{"account_id":22457861,"reputation":97,"user_id":16660290,"display_name":"notrly"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70223289,"answer_count":1,"score":2,"last_activity_date":1638596033,"creation_date":1638595099,"question_id":70223228,"body_markdown":"I&#39;m trying to convert this to a positive long but it is still printing as a negative. When I use other negative integers it works but not Integer.MIN_VALUE\r\n\r\n   \r\n\r\n     if(num == Integer.MIN_VALUE){\r\n               long number = -num;\r\n               System.out.println(number);\r\n           }","title":"How do you convert Integer.MIN_VALUE to a positive long?","body":"<p>I'm trying to convert this to a positive long but it is still printing as a negative. When I use other negative integers it works but not Integer.MIN_VALUE</p>\n<pre><code> if(num == Integer.MIN_VALUE){\n           long number = -num;\n           System.out.println(number);\n       }\n</code></pre>\n"},{"tags":["java","sql","jdbc","xampp"],"comments":[{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":0,"creation_date":1638614598,"post_id":70223234,"comment_id":124138598,"body_markdown":"Can you explain a bit more what isn&#39;t working?","body":"Can you explain a bit more what isn&#39;t working?"},{"owner":{"account_id":23540712,"reputation":1,"user_id":17584947,"display_name":"Neo"},"score":0,"creation_date":1638617610,"post_id":70223234,"comment_id":124139031,"body_markdown":"It cannot take the input on the JTextField and set it as a name for the new table in the database. Thanks for asking.","body":"It cannot take the input on the JTextField and set it as a name for the new table in the database. Thanks for asking."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1638633857,"post_id":70223234,"comment_id":124142360,"body_markdown":"Did you display the created SQL string to verify the format? It looks to me like you are adding delimiters around the table name.","body":"Did you display the created SQL string to verify the format? It looks to me like you are adding delimiters around the table name."},{"owner":{"account_id":23540712,"reputation":1,"user_id":17584947,"display_name":"Neo"},"score":0,"creation_date":1638677559,"post_id":70223234,"comment_id":124149876,"body_markdown":"I have also tried it but the connection with the database always fails.","body":"I have also tried it but the connection with the database always fails."},{"owner":{"account_id":23540712,"reputation":1,"user_id":17584947,"display_name":"Neo"},"score":0,"creation_date":1638677774,"post_id":70223234,"comment_id":124149893,"body_markdown":"// String input = NameT.getText();\n     String sql=&quot;CREATE TABLE sample.English AS SELECT * FROM subject;&quot;; \n // String sql=&quot;CREATE TABLE sample.&#39;&quot;+input+&quot;&#39; AS SELECT * FROM subject;&quot;; \n\nBut if I commented out the sample that does takes input and set as a name for the new  table, the connection with the database is successful.","body":"// String input = NameT.getText();      String sql=&quot;CREATE TABLE sample.English AS SELECT * FROM subject;&quot;;   // String sql=&quot;CREATE TABLE sample.&#39;&quot;+input+&quot;&#39; AS SELECT * FROM subject;&quot;;   But if I commented out the sample that does takes input and set as a name for the new  table, the connection with the database is successful."}],"owner":{"account_id":23540712,"reputation":1,"user_id":17584947,"display_name":"Neo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638595174,"creation_date":1638595174,"question_id":70223234,"body_markdown":"I&#39;m still new to jdbc but I was able to create a new table in the database by clicking the JButton, its code is commented out. But what I need to do is take the user&#39;s input in the Jtextfield and set it as the table&#39;s name that will be created in the database. Need help pls.\r\n\r\n    \r\n    NameT = new JTextField();\r\n    JButton SaveB = new JButton(&quot;Save&quot;);\r\n    SaveB.setFocusable(false);\r\n    SaveB.addActionListener(new ActionListener() {\r\n        public void actionPerformed(ActionEvent e) {  \r\n            try{\r\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n                Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/sample&quot;,&quot;root&quot;,&quot;&quot;);\r\n               String input = NameT.getText();\r\n            // String sql=&quot;CREATE TABLE sample.English AS SELECT * FROM subject;&quot;; \r\n               String sql=&quot;CREATE TABLE sample.&#39;&quot;+input+&quot;&#39; AS SELECT * FROM subject;&quot;; \r\n               PreparedStatement ptst = conn.prepareStatement(sql); ptst.executeUpdate(); \r\n               JOptionPane.showMessageDialog(null, &quot;data stored successfully&quot;);\r\n                conn.close();\r\n                }\r\n                catch(Exception e1){\r\n                    JOptionPane.showMessageDialog(null, &quot;Not stored successfully&quot;);\r\n                }\r\n\r\n  ","title":"How can I set/use the input in the JTextField as the name of the table that will be created in the database?","body":"<p>I'm still new to jdbc but I was able to create a new table in the database by clicking the JButton, its code is commented out. But what I need to do is take the user's input in the Jtextfield and set it as the table's name that will be created in the database. Need help pls.</p>\n<pre><code>NameT = new JTextField();\nJButton SaveB = new JButton(&quot;Save&quot;);\nSaveB.setFocusable(false);\nSaveB.addActionListener(new ActionListener() {\n    public void actionPerformed(ActionEvent e) {  \n        try{\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/sample&quot;,&quot;root&quot;,&quot;&quot;);\n           String input = NameT.getText();\n        // String sql=&quot;CREATE TABLE sample.English AS SELECT * FROM subject;&quot;; \n           String sql=&quot;CREATE TABLE sample.'&quot;+input+&quot;' AS SELECT * FROM subject;&quot;; \n           PreparedStatement ptst = conn.prepareStatement(sql); ptst.executeUpdate(); \n           JOptionPane.showMessageDialog(null, &quot;data stored successfully&quot;);\n            conn.close();\n            }\n            catch(Exception e1){\n                JOptionPane.showMessageDialog(null, &quot;Not stored successfully&quot;);\n            }\n</code></pre>\n"},{"tags":["java","if-statement","foreach","hashmap","return"],"answers":[{"tags":[],"owner":{"account_id":16399033,"reputation":66,"user_id":11845630,"display_name":"Ranjith Thangaraju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638592195,"creation_date":1638592195,"answer_id":70223041,"question_id":70222983,"body_markdown":"forEach will invoke a given **callable function** for every element. We can&#39;t have return value to that function.\r\n\r\nTry using &quot;filter&quot; or assign result to local variable.\r\n\r\nhttps://stackoverflow.com/questions/23407014/return-from-lambda-foreach-in-java\r\n","title":"Java boolean &quot;Unexpected return value&quot;","body":"<p>forEach will invoke a given <strong>callable function</strong> for every element. We can't have return value to that function.</p>\n<p>Try using &quot;filter&quot; or assign result to local variable.</p>\n<p><a href=\"https://stackoverflow.com/questions/23407014/return-from-lambda-foreach-in-java\">Return from lambda forEach() in java</a></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638594476,"creation_date":1638592207,"answer_id":70223042,"question_id":70222983,"body_markdown":"The problem is that you are attempting to return the results in the wrong place.  The `{return true;}` and `{return true;}` are in a lambda, so they are attempting to return a result *for the lambda*.  But the inferred type signature for that lambda doesn&#39;t allow any values to be returned.  \r\n\r\nIf your intention is that those return statements should be returning a result from `isStateNameClaimed`, then the better solution is to just use a `for` loop to iterate the elements of `States`.\r\n\r\n---------------\r\n\r\nIt doesn&#39;t help things that your Java code contains a number of egregious Java style violations.  You should NOT start the name of a variable with an upper-case letter.  It will confuse ... and then annoy ... other people reading your code.\r\n\r\nYou may say: &quot;Nah, I don&#39;t need to follow the rules, &#39;cos nobody else will be reading my code&quot;.  But you are asking &gt;&gt;us&lt;&lt; to read your code.\r\n\r\n&gt; I&#39;m new to Java ...\r\n\r\n... so NOW is the time to learn to do it correctly.  Java style matters to people reading your code.\r\n\r\n----------------\r\n\r\nThis is how I would write it in classic Java:\r\n\r\n    public boolean isStateNameClaimed(String name) {\r\n        for (State v: states.values()) {\r\n            if (v.getNameOfState().equalsIgnoreCase(name)) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nOr using streams:\r\n\r\n    public boolean isStateNameClaimed(String name) {\r\n        return states.values().stream().anyMatch(\r\n            (v) -&gt; v.getNameOfState().equalsIgnoreCase(name));\r\n    }\r\n\r\n------------------\r\n\r\nActually ... I just noticed that those two solutions are not equivalent.  And based on your description of what you are trying to do, it probably means that the first one **and your original attempt** are algorithmically incorrect. \r\n","title":"Java boolean &quot;Unexpected return value&quot;","body":"<p>The problem is that you are attempting to return the results in the wrong place.  The <code>{return true;}</code> and <code>{return true;}</code> are in a lambda, so they are attempting to return a result <em>for the lambda</em>.  But the inferred type signature for that lambda doesn't allow any values to be returned.</p>\n<p>If your intention is that those return statements should be returning a result from <code>isStateNameClaimed</code>, then the better solution is to just use a <code>for</code> loop to iterate the elements of <code>States</code>.</p>\n<hr />\n<p>It doesn't help things that your Java code contains a number of egregious Java style violations.  You should NOT start the name of a variable with an upper-case letter.  It will confuse ... and then annoy ... other people reading your code.</p>\n<p>You may say: &quot;Nah, I don't need to follow the rules, 'cos nobody else will be reading my code&quot;.  But you are asking &gt;&gt;us&lt;&lt; to read your code.</p>\n<blockquote>\n<p>I'm new to Java ...</p>\n</blockquote>\n<p>... so NOW is the time to learn to do it correctly.  Java style matters to people reading your code.</p>\n<hr />\n<p>This is how I would write it in classic Java:</p>\n<pre><code>public boolean isStateNameClaimed(String name) {\n    for (State v: states.values()) {\n        if (v.getNameOfState().equalsIgnoreCase(name)) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>Or using streams:</p>\n<pre><code>public boolean isStateNameClaimed(String name) {\n    return states.values().stream().anyMatch(\n        (v) -&gt; v.getNameOfState().equalsIgnoreCase(name));\n}\n</code></pre>\n<hr />\n<p>Actually ... I just noticed that those two solutions are not equivalent.  And based on your description of what you are trying to do, it probably means that the first one <strong>and your original attempt</strong> are algorithmically incorrect.</p>\n"}],"owner":{"account_id":22284300,"reputation":13,"user_id":16512218,"display_name":"Kle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70223042,"answer_count":2,"score":1,"last_activity_date":1638594476,"creation_date":1638591428,"question_id":70222983,"body_markdown":"I&#39;m new to Java and I can&#39;t understand why the IDE says that &quot;Unexpected return value&quot; inside the forEach where I declared that the boolean is true or false by an If statement.\r\nMy goal is to check that there is an object inside the &quot;States&quot; HashMap which already uses the name that I want to set to a new state. (The HashMap&#39;s key is a String which is called IdentifierOfState and the value is my State object which contains variables like its name.) Thank you for your help in advance!\r\n\r\n    public boolean isStateNameClaimed(String NameOfState)\r\n    {\r\n        States.forEach((IdentifierOfState, ValueOfState) -&gt;\r\n        {\r\n            if (ValueOfState.getNameOfState().equalsIgnoreCase(NameOfState)) {return true;}\r\n            else {return false;}\r\n        });\r\n        return false;\r\n    }","title":"Java boolean &quot;Unexpected return value&quot;","body":"<p>I'm new to Java and I can't understand why the IDE says that &quot;Unexpected return value&quot; inside the forEach where I declared that the boolean is true or false by an If statement.\nMy goal is to check that there is an object inside the &quot;States&quot; HashMap which already uses the name that I want to set to a new state. (The HashMap's key is a String which is called IdentifierOfState and the value is my State object which contains variables like its name.) Thank you for your help in advance!</p>\n<pre><code>public boolean isStateNameClaimed(String NameOfState)\n{\n    States.forEach((IdentifierOfState, ValueOfState) -&gt;\n    {\n        if (ValueOfState.getNameOfState().equalsIgnoreCase(NameOfState)) {return true;}\n        else {return false;}\n    });\n    return false;\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":7095631,"reputation":383,"user_id":5429327,"display_name":"Yura"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638579335,"creation_date":1638579335,"answer_id":70222201,"question_id":70222047,"body_markdown":"You can do like this. In my example, I showed that the button moves only inside its container(id=**parentView**) and does not go beyond it.  I limit the width and height, you can change the value you want(or **match_parent**)\r\n\r\n**MainActivity**\r\n\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.FrameLayout;\r\n    \r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import java.util.Random;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            setContentView(R.layout.activity_main);\r\n    \r\n            Button button = findViewById(R.id.button);\r\n            FrameLayout parent = findViewById(R.id.parentView);\r\n    \r\n            Random random = new Random();\r\n    \r\n            button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    float randomX = (float) (random.nextInt(parent.getWidth() - button.getWidth()));\r\n                    float randomY = (float) (random.nextInt(parent.getHeight() - button.getHeight()));\r\n    \r\n                    button.animate().x(randomX).y(randomY).setDuration(500).start();\r\n                }\r\n            });\r\n        }\r\n    }\r\n**activity_main.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;FrameLayout\r\n            android:id=&quot;@+id/parentView&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;200dp&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:background=&quot;@android:color/darker_gray&quot;&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/button&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot; /&gt;\r\n        &lt;/FrameLayout&gt;\r\n    \r\n    &lt;/FrameLayout&gt;\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/H0xcx.png\r\n  [2]: https://i.stack.imgur.com/6U6eB.png","title":"Moving a button randomly onClick() with ObjectAnimator","body":"<p>You can do like this. In my example, I showed that the button moves only inside its container(id=<strong>parentView</strong>) and does not go beyond it.  I limit the width and height, you can change the value you want(or <strong>match_parent</strong>)</p>\n<p><strong>MainActivity</strong></p>\n<pre><code>import android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.FrameLayout;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.util.Random;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_main);\n\n        Button button = findViewById(R.id.button);\n        FrameLayout parent = findViewById(R.id.parentView);\n\n        Random random = new Random();\n\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                float randomX = (float) (random.nextInt(parent.getWidth() - button.getWidth()));\n                float randomY = (float) (random.nextInt(parent.getHeight() - button.getHeight()));\n\n                button.animate().x(randomX).y(randomY).setDuration(500).start();\n            }\n        });\n    }\n}\n</code></pre>\n<p><strong>activity_main.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/parentView&quot;\n        android:layout_width=&quot;200dp&quot;\n        android:layout_height=&quot;200dp&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:background=&quot;@android:color/darker_gray&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/button&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n    &lt;/FrameLayout&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/H0xcx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H0xcx.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/6U6eB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6U6eB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638593840,"creation_date":1638593840,"answer_id":70223136,"question_id":70222047,"body_markdown":"     button3.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    int rx = new Random().nextInt(50);\r\n                    int ry = new Random().nextInt(50);\r\n                    ObjectAnimator animX = ObjectAnimator.ofFloat(button3, View.X, new Random().nextBoolean() ? rx : rx * -1);\r\n                    ObjectAnimator animY = ObjectAnimator.ofFloat(button3, View.Y, new Random().nextBoolean() ? ry : ry * -1);\r\n\r\n                    AnimatorSet animSet = new AnimatorSet();\r\n                    animSet.playSequentially(animX, animY);\r\n                    animSet.setDuration(500);\r\n\r\n\r\n                    animSet.start();\r\n                }\r\n            });","title":"Moving a button randomly onClick() with ObjectAnimator","body":"<pre><code> button3.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                int rx = new Random().nextInt(50);\n                int ry = new Random().nextInt(50);\n                ObjectAnimator animX = ObjectAnimator.ofFloat(button3, View.X, new Random().nextBoolean() ? rx : rx * -1);\n                ObjectAnimator animY = ObjectAnimator.ofFloat(button3, View.Y, new Random().nextBoolean() ? ry : ry * -1);\n\n                AnimatorSet animSet = new AnimatorSet();\n                animSet.playSequentially(animX, animY);\n                animSet.setDuration(500);\n\n\n                animSet.start();\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":22865853,"reputation":31,"user_id":17009404,"display_name":"yungbruhM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70222201,"answer_count":2,"score":1,"last_activity_date":1638593840,"creation_date":1638577253,"question_id":70222047,"body_markdown":"I have this code:\r\n\r\n    button3.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                ObjectAnimator  animX = ObjectAnimator.ofFloat(button3, &quot;X&quot;, 0f, 50f);\r\n                ObjectAnimator animY = ObjectAnimator.ofFloat(button3, &quot;Y&quot;, 0f, 50f);\r\n\r\n                AnimatorSet animSet = new AnimatorSet();\r\n                animSet.playSequentially(animX, animY);\r\n                animSet.setDuration(500);\r\n\r\n\r\n                animSet.start();\r\n            }\r\n        });\r\nI&#39;m trying to move &quot;button3&quot; with ObjectAnimator randomly across the screen for a set amount of time, but I can&#39;t figure out how to multiply the X and Y values to make the button position random.","title":"Moving a button randomly onClick() with ObjectAnimator","body":"<p>I have this code:</p>\n<pre><code>button3.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            ObjectAnimator  animX = ObjectAnimator.ofFloat(button3, &quot;X&quot;, 0f, 50f);\n            ObjectAnimator animY = ObjectAnimator.ofFloat(button3, &quot;Y&quot;, 0f, 50f);\n\n            AnimatorSet animSet = new AnimatorSet();\n            animSet.playSequentially(animX, animY);\n            animSet.setDuration(500);\n\n\n            animSet.start();\n        }\n    });\n</code></pre>\n<p>I'm trying to move &quot;button3&quot; with ObjectAnimator randomly across the screen for a set amount of time, but I can't figure out how to multiply the X and Y values to make the button position random.</p>\n"},{"tags":["java","database","parameters","initialization","derby"],"answers":[{"tags":[],"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638592178,"creation_date":1638592178,"answer_id":70223038,"question_id":70222793,"body_markdown":"You need to set a value for each parameter indicated by a `?` before calling `ps.executeQuery()`. For example you could do:\r\n\r\n    ps = conn.prepareStatement(\r\n      &quot;select email,password,nombre from Usuarios where email=?&quot;);\r\n    \r\n    ps.setString(1, &quot;henry.fonda@mgm.com&quot;); // added this line\r\n    \r\n    ResultSet rs = ps.executeQuery();\r\n\r\nYour query has declared only one parameter, and that&#39;s why there&#39;s a single setter on `ps`.\r\n ","title":"At least one parameter to the current statement is uninitialized ERROR","body":"<p>You need to set a value for each parameter indicated by a <code>?</code> before calling <code>ps.executeQuery()</code>. For example you could do:</p>\n<pre><code>ps = conn.prepareStatement(\n  &quot;select email,password,nombre from Usuarios where email=?&quot;);\n\nps.setString(1, &quot;henry.fonda@mgm.com&quot;); // added this line\n\nResultSet rs = ps.executeQuery();\n</code></pre>\n<p>Your query has declared only one parameter, and that's why there's a single setter on <code>ps</code>.</p>\n"}],"owner":{"account_id":23540903,"reputation":21,"user_id":17585108,"display_name":"Dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1638592178,"creation_date":1638588012,"question_id":70222793,"body_markdown":"I am new to Java and derby and a little lost.\r\n\r\nI am using jframe and derby. Trying to do an email / password validation. At first I was concatenating with statement but read online it is best to use prepared statements. While using email as primary key, with statement I was getting a Lexical error because of the &#39;@&#39;. Now , with prepared statement I am getting a\r\n&#39;At least one parameter to the current statement is uninitialized&#39;.\r\n\r\nNot sure if I am entering something wrong....\r\n\r\nThis is the method I created.\r\n\r\n\r\n\r\npublic void login() {\r\n\r\n       if ((jtxtEmail.getText().equals(&quot;&quot;))) {\r\n\r\n           JOptionPane.showMessageDialog(null, &quot;Debes ingresar tu email y contrase&#241;a.&quot;, &quot;Error al ingresar Usuario y contrase&#241;a&quot;, JOptionPane.ERROR_MESSAGE);\r\n\r\n       } else {\r\n\r\n           try {\r\n\r\n               conectar();\r\n\r\n               ps = conn.prepareStatement(&quot;select email,password,nombre from Usuarios where email=?&quot;);\r\n\r\n               ResultSet rs = ps.executeQuery();\r\n\r\n               while (rs.next()) {\r\n\r\n                   if (rs.getString(1).equals(jtxtEmail.getText()) &amp;&amp; rs.getString(2).equals(jtxtPassword.getText())){\r\n\r\n                       JOptionPane.showMessageDialog(null, &quot;Bienvenido&quot;+rs.getString(3), &quot;Validacion Correcta&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n\r\n                       new DirectoryMale().setVisible(true);\r\n\r\n                   }else{\r\n\r\n                       JOptionPane.showMessageDialog(null, &quot;Debes ingresar tu email y contrase&#241;a.&quot;, &quot;Error al ingresar Usuario y contrase&#241;a&quot;, JOptionPane.ERROR_MESSAGE);\r\n\r\n                   }\r\n               }\r\n\r\n               desconectar();\r\n\r\n               ps.close();\r\n\r\n           } catch (HeadlessException | SQLException ex) {\r\n\r\n               JOptionPane.showMessageDialog(null, &quot;Error.\\n&quot; + ex.getMessage());\r\n\r\n           }\r\n       }\r\n   }\r\n\r\n\r\nThanks a lot for helping a noob, lol...","title":"At least one parameter to the current statement is uninitialized ERROR","body":"<p>I am new to Java and derby and a little lost.</p>\n<p>I am using jframe and derby. Trying to do an email / password validation. At first I was concatenating with statement but read online it is best to use prepared statements. While using email as primary key, with statement I was getting a Lexical error because of the '@'. Now , with prepared statement I am getting a\n'At least one parameter to the current statement is uninitialized'.</p>\n<p>Not sure if I am entering something wrong....</p>\n<p>This is the method I created.</p>\n<p>public void login() {</p>\n<pre><code>   if ((jtxtEmail.getText().equals(&quot;&quot;))) {\n\n       JOptionPane.showMessageDialog(null, &quot;Debes ingresar tu email y contrase√±a.&quot;, &quot;Error al ingresar Usuario y contrase√±a&quot;, JOptionPane.ERROR_MESSAGE);\n\n   } else {\n\n       try {\n\n           conectar();\n\n           ps = conn.prepareStatement(&quot;select email,password,nombre from Usuarios where email=?&quot;);\n\n           ResultSet rs = ps.executeQuery();\n\n           while (rs.next()) {\n\n               if (rs.getString(1).equals(jtxtEmail.getText()) &amp;&amp; rs.getString(2).equals(jtxtPassword.getText())){\n\n                   JOptionPane.showMessageDialog(null, &quot;Bienvenido&quot;+rs.getString(3), &quot;Validacion Correcta&quot;, JOptionPane.INFORMATION_MESSAGE);\n\n                   new DirectoryMale().setVisible(true);\n\n               }else{\n\n                   JOptionPane.showMessageDialog(null, &quot;Debes ingresar tu email y contrase√±a.&quot;, &quot;Error al ingresar Usuario y contrase√±a&quot;, JOptionPane.ERROR_MESSAGE);\n\n               }\n           }\n\n           desconectar();\n\n           ps.close();\n\n       } catch (HeadlessException | SQLException ex) {\n\n           JOptionPane.showMessageDialog(null, &quot;Error.\\n&quot; + ex.getMessage());\n\n       }\n   }\n</code></pre>\n<p>}</p>\n<p>Thanks a lot for helping a noob, lol...</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1638599600,"post_id":70223030,"comment_id":124136388,"body_markdown":"There is no queastion and you did not tell the paths.","body":"There is no queastion and you did not tell the paths."},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1638599616,"post_id":70223030,"comment_id":124136390,"body_markdown":"You‚Äôll have to use DocumentFile, DocumentsContract or ContentResolver apis with correct uri.","body":"You‚Äôll have to use DocumentFile, DocumentsContract or ContentResolver apis with correct uri."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1638600645,"post_id":70223030,"comment_id":124136526,"body_markdown":"Sounds like it might be a permission related thing; i.e. you were once permitted to move that file, but no longer.  What are the actual paths?   And how precisely does it &quot;not work&quot;?  Note the android-related limitations here: https://developer.android.com/reference/java/io/File#renameTo(java.io.File)","body":"Sounds like it might be a permission related thing; i.e. you were once permitted to move that file, but no longer.  What are the actual paths?   And how precisely does it &quot;not work&quot;?  Note the android-related limitations here: <a href=\"https://developer.android.com/reference/java/io/File#renameTo(java.io.File)\" rel=\"nofollow noreferrer\">developer.android.com/reference/java/io/&hellip;</a>"}],"owner":{"account_id":22432578,"reputation":16,"user_id":16638237,"display_name":"Harnis Testing"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638592070,"creation_date":1638592070,"question_id":70223030,"body_markdown":"    File from = new File(&quot;oldPath&quot;);\r\n                File to = new File(&quot;newPath&quot;);\r\n\r\n                from.renameTo(to);\r\n\r\n&gt; above method working in API 28\r\n&gt; But after update to API 30, this method not working now","title":"How to rename file in API 30","body":"<pre><code>File from = new File(&quot;oldPath&quot;);\n            File to = new File(&quot;newPath&quot;);\n\n            from.renameTo(to);\n</code></pre>\n<blockquote>\n<p>above method working in API 28\nBut after update to API 30, this method not working now</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16129101,"reputation":189,"user_id":11643193,"display_name":"Jesus Hernandez Barrios"},"score":0,"creation_date":1638591580,"post_id":70222965,"comment_id":124135606,"body_markdown":"Split the string by &quot; &quot;(space) to separate all words,and sort it using Arrays.sort(words, (a, b)-&gt;Integer.compare(a.length(), b.length()));. See this answer for more \ndetails: !(here)[https ://stackoverflow.com/questions/35866240/how-to-sort-string-array-by-length-using-arrays-sort]","body":"Split the string by &quot; &quot;(space) to separate all words,and sort it using Arrays.sort(words, (a, b)-&gt;Integer.compare(a.length(), b.length()));. See this answer for more  details: !(here)[https ://stackoverflow.com/questions/35866240/how-to-sort-string-a&zwnj;&#8203;rray-by-length-using&zwnj;&#8203;-arrays-sort]"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1638591353,"creation_date":1638591353,"answer_id":70222978,"question_id":70222965,"body_markdown":"You may convert the input to a list and then sort using a lambda:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.print(&quot;Enter a sentence:&quot;);\r\n    String text = input.nextLine();\r\n    List&lt;String&gt; words = Arrays.asList(text.split(&quot; &quot;));\r\n    words.sort(Comparator.comparingInt(String::length));\r\n    System.out.println(String.join(&quot; &quot;, words));\r\n\r\nThis prints (for input `this is a sentence`):\r\n\r\n     a is this sentence","title":"outputting a sentence from shortest word to longest","body":"<p>You may convert the input to a list and then sort using a lambda:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner input = new Scanner(System.in);\nSystem.out.print(&quot;Enter a sentence:&quot;);\nString text = input.nextLine();\nList&lt;String&gt; words = Arrays.asList(text.split(&quot; &quot;));\nwords.sort(Comparator.comparingInt(String::length));\nSystem.out.println(String.join(&quot; &quot;, words));\n</code></pre>\n<p>This prints (for input <code>this is a sentence</code>):</p>\n<pre><code> a is this sentence\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638591973,"creation_date":1638591973,"answer_id":70223025,"question_id":70222965,"body_markdown":"    @Test\r\n    \tpublic void testSort() {\r\n    \t\tAssertions.assertEquals(&quot;a is this sentence&quot;, sort(&quot;this is a sentence&quot;));\r\n    \t}\r\n    \r\n    \tprivate String sort(String sentence) {\r\n    \t\treturn Arrays.stream(sentence.split(&quot; &quot;))\r\n    \t\t\t\t.sorted(Comparator.comparingInt(String::length))\r\n    \t\t\t\t.collect(Collectors.joining(&quot; &quot;));\r\n    \t}\r\n\r\n// split words by space then sort by length and join words again by space. ","title":"outputting a sentence from shortest word to longest","body":"<pre><code>@Test\n    public void testSort() {\n        Assertions.assertEquals(&quot;a is this sentence&quot;, sort(&quot;this is a sentence&quot;));\n    }\n\n    private String sort(String sentence) {\n        return Arrays.stream(sentence.split(&quot; &quot;))\n                .sorted(Comparator.comparingInt(String::length))\n                .collect(Collectors.joining(&quot; &quot;));\n    }\n</code></pre>\n<p>// split words by space then sort by length and join words again by space.</p>\n"}],"owner":{"account_id":21708599,"reputation":49,"user_id":16020578,"display_name":"robot20"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70222978,"answer_count":2,"score":3,"last_activity_date":1638591973,"creation_date":1638591030,"question_id":70222965,"body_markdown":"This is what I currently have been trying to get an output like this:\r\n```\r\ninput:  this is a sentence\r\noutput: a is this sentence\r\n```\r\n```\r\nimport java.util.Scanner;\r\nScanner input = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Enter a sentance:&quot;);\r\n\t\tString text = input.nextLine();\r\n\t\tString[] words = text.split(&quot;&quot;);\r\n\t\tString temp;\r\n\r\n\t\tfor (int i = 0; i &lt; words.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; (words.length - 1); j++) {\r\n\t\t\t\tif (words[j].compareTo(words[j + 1]) &lt; 0) {\r\n\t\t\t\t\ttemp = words[j];\r\n\t\t\t\t\twords[j] = words[j + 1];\r\n\t\t\t\t\twords[j + 1] = temp;\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.print(words[i]);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nIf anyone could help that would be great!","title":"outputting a sentence from shortest word to longest","body":"<p>This is what I currently have been trying to get an output like this:</p>\n<pre><code>input:  this is a sentence\noutput: a is this sentence\n</code></pre>\n<pre><code>import java.util.Scanner;\nScanner input = new Scanner(System.in);\n        System.out.print(&quot;Enter a sentance:&quot;);\n        String text = input.nextLine();\n        String[] words = text.split(&quot;&quot;);\n        String temp;\n\n        for (int i = 0; i &lt; words.length; i++) {\n            for (int j = 0; j &lt; (words.length - 1); j++) {\n                if (words[j].compareTo(words[j + 1]) &lt; 0) {\n                    temp = words[j];\n                    words[j] = words[j + 1];\n                    words[j + 1] = temp;\n\n                }\n            }\n            System.out.print(words[i]);\n        }\n    }\n}\n</code></pre>\n<p>If anyone could help that would be great!</p>\n"},{"tags":["java","swing","jframe","layout-manager","grid-layout"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638527422,"creation_date":1638527422,"answer_id":70212866,"question_id":70211832,"body_markdown":"You can&#39;t use multiple grids within the same `JPanel` - one panel, one layout manager.\r\n\r\nBut you can nest layout managers (and thereby grids) by using nested panels.\r\n\r\nFor example you could use a [`BorderLayout`](https://docs.oracle.com/javase/tutorial/uiswing/layout/border.html) for the first panel (containing the title at the top, the info panel on the left and the button panel in the center.\r\n\r\nThe code to construct those panel then might look like this:\r\n\r\n        // panel contains the complete UI\r\n        panel = new JPanel();\r\n\r\n        panel.setBorder(BorderFactory.createTitledBorder(&quot;Treasure Hunt&quot;));\r\n        panel.setLayout(new BorderLayout());\r\n        panel.add(new JLabel(&quot;This is the Title&quot;), BorderLayout.PAGE_START);\r\n\r\n        JPanel infoPanel = new JPanel();\r\n        infoPanel.setLayout(new GridLayout(3, 2));\r\n        infoPanel.add(treasuresLeftLabel);\r\n        infoPanel.add(treasuresLeftTextField);\r\n        infoPanel.add(treasuresFoundLabel);\r\n        infoPanel.add(treasuresFoundTextField);\r\n        infoPanel.add(triesLeftLabel);\r\n        infoPanel.add(triesLeftTextField);\r\n        panel.add(infoPanel, BorderLayout.LINE_START);\r\n\r\n        JPanel buttonPanel = new JPanel();\r\n        buttonPanel.setLayout(new GridLayout(8, 8));\r\n        buttonPanel.add(treasureButton);\r\n        buttonPanel.add(emptyButton);\r\n        for (int i = 0; i &lt; 62; i++) {\r\n            buttonPanel.add(new JButton(String.format(&quot;%02d&quot;, i)));\r\n        }\r\n        panel.add(buttonPanel, BorderLayout.CENTER);\r\n","title":"Can I use multiple grids?","body":"<p>You can't use multiple grids within the same <code>JPanel</code> - one panel, one layout manager.</p>\n<p>But you can nest layout managers (and thereby grids) by using nested panels.</p>\n<p>For example you could use a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/border.html\" rel=\"nofollow noreferrer\"><code>BorderLayout</code></a> for the first panel (containing the title at the top, the info panel on the left and the button panel in the center.</p>\n<p>The code to construct those panel then might look like this:</p>\n<pre><code>    // panel contains the complete UI\n    panel = new JPanel();\n\n    panel.setBorder(BorderFactory.createTitledBorder(&quot;Treasure Hunt&quot;));\n    panel.setLayout(new BorderLayout());\n    panel.add(new JLabel(&quot;This is the Title&quot;), BorderLayout.PAGE_START);\n\n    JPanel infoPanel = new JPanel();\n    infoPanel.setLayout(new GridLayout(3, 2));\n    infoPanel.add(treasuresLeftLabel);\n    infoPanel.add(treasuresLeftTextField);\n    infoPanel.add(treasuresFoundLabel);\n    infoPanel.add(treasuresFoundTextField);\n    infoPanel.add(triesLeftLabel);\n    infoPanel.add(triesLeftTextField);\n    panel.add(infoPanel, BorderLayout.LINE_START);\n\n    JPanel buttonPanel = new JPanel();\n    buttonPanel.setLayout(new GridLayout(8, 8));\n    buttonPanel.add(treasureButton);\n    buttonPanel.add(emptyButton);\n    for (int i = 0; i &lt; 62; i++) {\n        buttonPanel.add(new JButton(String.format(&quot;%02d&quot;, i)));\n    }\n    panel.add(buttonPanel, BorderLayout.CENTER);\n</code></pre>\n"}],"owner":{"account_id":22934916,"reputation":27,"user_id":17068529,"display_name":"rebekah.ann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70212866,"answer_count":1,"score":1,"last_activity_date":1638591973,"creation_date":1638522543,"question_id":70211832,"body_markdown":"I am trying to figure out the layout for this(the rest of the code is in the early stages) but for this block, I am trying to figure out the best(and doable) way to format it. I want it to be an 8x8 grid that I will eventually populate with the treasure/empty buttons but I also need a title up top as well as some labels and text on the left. I am unsure if I am able to do multiple grids but what I did below is try to create a 1x2 grid and then place two other grids inside, one with the info on the left(3x2), and another with the 8x8 grid for the buttons. I know it&#39;s not close to what it needs to be but none of the grids are showing up at all(it&#39;s just putting the title and then one column with 8 rows) and I wanna know if I&#39;m even on any sort of right track, or if I&#39;m just making things up at this point. Any tips would be appreciated, or resources about possibly nesting the grids? I can&#39;t find anything in my book about That specifically.\r\n\r\n\r\n```\r\nprivate void buildPanel()\r\n    {        \r\n        // Create labels to display the \r\n        treasuresLeftLabel = new JLabel(&quot;Treasures left: &quot;);\r\n        treasuresFoundLabel = new JLabel(&quot;Treasures found: &quot;);        \r\n        triesLeftLabel = new JLabel(&quot;Tries left: &quot;);\r\n        \r\n        // Create text fields for each label\r\n        treasuresLeftTextField = new JTextField(2);\r\n        treasuresLeftTextField.setEditable(false);\r\n        treasuresLeftTextField.setText(String.valueOf(20-game.getTreasuresFound()));\r\n        treasuresFoundTextField = new JTextField(2);\r\n        treasuresFoundTextField.setEditable(false);\r\n        treasuresFoundTextField.setText(String.valueOf(game.getTreasuresFound()));\r\n        triesLeftTextField = new JTextField(2);\r\n        triesLeftTextField.setEditable(false);\r\n        triesLeftTextField.setText(String.valueOf(game.getTriesLeft()));\r\n        \r\n        emptyButton = new EmptyButton();\r\n        emptyButton.addActionListener(new emptyButtonListener());\r\n        treasureButton = new TreasureButton();\r\n        treasureButton.addActionListener(new treasureButtonListener());\r\n\r\n        // new JPanel object referenced by panel\r\n        panel = new JPanel();\r\n        \r\n        panel.setBorder(BorderFactory.createTitledBorder(&quot;Treasure Hunt&quot;));\r\n        // Add a gridlayout to the content pane\r\n        panel.setLayout(new GridLayout(1, 2));\r\n        \r\n        panel.setLayout(new GridLayout(3, 2));\r\n        panel.add(treasuresLeftLabel);\r\n        panel.add(treasuresLeftTextField);\r\n        panel.add(treasuresFoundLabel);\r\n        panel.add(treasuresFoundTextField);\r\n        panel.add(triesLeftLabel);\r\n        panel.add(triesLeftTextField);\r\n        \r\n        panel.setLayout(new GridLayout(8, 8));\r\n        panel.add(treasureButton);\r\n        panel.add(emptyButton);\r\n    }","title":"Can I use multiple grids?","body":"<p>I am trying to figure out the layout for this(the rest of the code is in the early stages) but for this block, I am trying to figure out the best(and doable) way to format it. I want it to be an 8x8 grid that I will eventually populate with the treasure/empty buttons but I also need a title up top as well as some labels and text on the left. I am unsure if I am able to do multiple grids but what I did below is try to create a 1x2 grid and then place two other grids inside, one with the info on the left(3x2), and another with the 8x8 grid for the buttons. I know it's not close to what it needs to be but none of the grids are showing up at all(it's just putting the title and then one column with 8 rows) and I wanna know if I'm even on any sort of right track, or if I'm just making things up at this point. Any tips would be appreciated, or resources about possibly nesting the grids? I can't find anything in my book about That specifically.</p>\n<pre><code>private void buildPanel()\n    {        \n        // Create labels to display the \n        treasuresLeftLabel = new JLabel(&quot;Treasures left: &quot;);\n        treasuresFoundLabel = new JLabel(&quot;Treasures found: &quot;);        \n        triesLeftLabel = new JLabel(&quot;Tries left: &quot;);\n        \n        // Create text fields for each label\n        treasuresLeftTextField = new JTextField(2);\n        treasuresLeftTextField.setEditable(false);\n        treasuresLeftTextField.setText(String.valueOf(20-game.getTreasuresFound()));\n        treasuresFoundTextField = new JTextField(2);\n        treasuresFoundTextField.setEditable(false);\n        treasuresFoundTextField.setText(String.valueOf(game.getTreasuresFound()));\n        triesLeftTextField = new JTextField(2);\n        triesLeftTextField.setEditable(false);\n        triesLeftTextField.setText(String.valueOf(game.getTriesLeft()));\n        \n        emptyButton = new EmptyButton();\n        emptyButton.addActionListener(new emptyButtonListener());\n        treasureButton = new TreasureButton();\n        treasureButton.addActionListener(new treasureButtonListener());\n\n        // new JPanel object referenced by panel\n        panel = new JPanel();\n        \n        panel.setBorder(BorderFactory.createTitledBorder(&quot;Treasure Hunt&quot;));\n        // Add a gridlayout to the content pane\n        panel.setLayout(new GridLayout(1, 2));\n        \n        panel.setLayout(new GridLayout(3, 2));\n        panel.add(treasuresLeftLabel);\n        panel.add(treasuresLeftTextField);\n        panel.add(treasuresFoundLabel);\n        panel.add(treasuresFoundTextField);\n        panel.add(triesLeftLabel);\n        panel.add(triesLeftTextField);\n        \n        panel.setLayout(new GridLayout(8, 8));\n        panel.add(treasureButton);\n        panel.add(emptyButton);\n    }\n</code></pre>\n"},{"tags":["java","swing","methods","jframe"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1638554248,"post_id":70218072,"comment_id":124128350,"body_markdown":"*any suggestions on how to optimize the code* - 1) variable names should NOT start with an upper case character. Some are correct, others are not. Be consistent! 2) Class names SHOULD start with an upper case character. Learn by example. All classes in the JDK follow this convention.  3) Don&#39;t use a null layout. Swing was designed to be used with layout managers. 4) maybe start with the code from the Swing tutorial on [How to Use Buttons](https://docs.oracle.com/javase/tutorial/uiswing/components/button.html).","body":"<i>any suggestions on how to optimize the code</i> - 1) variable names should NOT start with an upper case character. Some are correct, others are not. Be consistent! 2) Class names SHOULD start with an upper case character. Learn by example. All classes in the JDK follow this convention.  3) Don&#39;t use a null layout. Swing was designed to be used with layout managers. 4) maybe start with the code from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">How to Use Buttons</a>."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1638554252,"post_id":70218072,"comment_id":124128353,"body_markdown":"The &quot;ButtonDemo&quot; will show how better structure the code. It will create a frame with some buttons. Modify the code to only display a single button and the ActionListener to display a JOptionPane. Once that works, then instead of displaying the JOPtionPane you can display a custom JDialog (not a JFrame).","body":"The &quot;ButtonDemo&quot; will show how better structure the code. It will create a frame with some buttons. Modify the code to only display a single button and the ActionListener to display a JOptionPane. Once that works, then instead of displaying the JOPtionPane you can display a custom JDialog (not a JFrame)."},{"owner":{"account_id":19598503,"reputation":27,"user_id":14343914,"display_name":"dnl"},"score":0,"creation_date":1638567314,"post_id":70218072,"comment_id":124132233,"body_markdown":"At the beginning of buildPanel() I did `mainScreenpnl.setVisible(false);`, when I click the button it disappears which means the ActionListener is working, but my buildPanel() and everything in it don&#39;t show up, it&#39;s just a blank panel.","body":"At the beginning of buildPanel() I did <code>mainScreenpnl.setVisible(false);</code>, when I click the button it disappears which means the ActionListener is working, but my buildPanel() and everything in it don&#39;t show up, it&#39;s just a blank panel."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1638569866,"post_id":70218072,"comment_id":124132825,"body_markdown":"1) you haven&#39;t implemented any of the suggestions. 2) not sure what you expect to happen. You create a new panel but never add it the the frame.","body":"1) you haven&#39;t implemented any of the suggestions. 2) not sure what you expect to happen. You create a new panel but never add it the the frame."},{"owner":{"account_id":19598503,"reputation":27,"user_id":14343914,"display_name":"dnl"},"score":0,"creation_date":1638570948,"post_id":70218072,"comment_id":124133068,"body_markdown":"I&#39;ll just not do it I have no idea what I should do. I did change the variables to start with lowercase though, thanks for that advice.","body":"I&#39;ll just not do it I have no idea what I should do. I did change the variables to start with lowercase though, thanks for that advice."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1638577154,"post_id":70218072,"comment_id":124134107,"body_markdown":"*I have no idea what I should do* - what do you mean you have no idea? What is different in the frame that works versus the frame that doesn&#39;t work. In the frame that works you actually add the panel to the frame. In the frame that works you don&#39;t use a null layout. I gave a couple of suggestions. I also suggested that you start over and use better structured code from the tutorial.","body":"<i>I have no idea what I should do</i> - what do you mean you have no idea? What is different in the frame that works versus the frame that doesn&#39;t work. In the frame that works you actually add the panel to the frame. In the frame that works you don&#39;t use a null layout. I gave a couple of suggestions. I also suggested that you start over and use better structured code from the tutorial."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1638577158,"post_id":70218072,"comment_id":124134108,"body_markdown":"The problem is beginners try to write the entire application all at once without debugging as you go. Start small! Display a frame with a button. Then add an ActionListener to display an empty frame. Then you add a panel to the empty frame. When/if it stops working then you know what you just changed, so you know what area of code to fix. If you write all the code at once you have no idea where the code falls apart.","body":"The problem is beginners try to write the entire application all at once without debugging as you go. Start small! Display a frame with a button. Then add an ActionListener to display an empty frame. Then you add a panel to the empty frame. When/if it stops working then you know what you just changed, so you know what area of code to fix. If you write all the code at once you have no idea where the code falls apart."}],"owner":{"account_id":19598503,"reputation":27,"user_id":14343914,"display_name":"dnl"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638591824,"creation_date":1638550777,"question_id":70218072,"body_markdown":"I want to do it so when I press the start button on my main screen panel it shows my build panel. I already had my buildPanel() going on but then I decided I wanted to add a main menu screen to start the game.\r\n\r\nThis is my code.\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.event.*;\r\nimport java.awt.Color;\r\nimport java.awt.Font;\r\nimport java.net.URL;\r\n\r\npublic class interfac extends JFrame {\r\n\r\n    private JPanel pnlConverter;\r\n    private JLabel MovePrompt;\r\n    private JButton StartButton;\r\n    private JPanel mainScreenpnl;\r\n\r\n    public interfac() {\r\n        \r\n        //constructor - build out the general properties for the window\r\n        super(&quot;Project&quot;);\r\n        \r\n        //give the window a size\r\n        setSize(650,650);\r\n        setLocationRelativeTo(null);    \r\n        setResizable(false);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        \r\n        //call mainScreen()\r\n        mainScreen();\r\n        \r\n        \r\n        //add panel\r\n        this.add(mainScreenpnl);\r\n        \r\n        //display window\r\n        setVisible(true);\r\n    }\r\n```\r\n\r\nWhen I call buildPanel() inside the action listener, it just stays in the mainSpreenpnl. I know the action listener is working after I tested it with a JOptionPane pop up.\r\n\r\n```\r\npublic void mainScreen() {\r\n    \r\n    mainScreenpnl = new JPanel();\r\n    StartButton = new JButton(&quot;Start Game&quot;);\r\n    \r\n    StartButton.addActionListener(new mainScreenbtnListener());\r\n    \r\n    mainScreenpnl.add(StartButton);\r\n    \r\n}\r\n\r\nprivate class mainScreenbtnListener implements ActionListener {\r\n    \r\n    public void actionPerformed(ActionEvent e) {\r\n        \r\n        buildPanel();\r\n    }\r\n}\r\n```\r\n\r\nbuildPanel() has really ugly code from me so I&#39;m just gonna add the necessary lines.\r\n\r\n```\r\n    public void buildPanel() {\r\n        \r\n        \r\n        //create panel (container to hold objects)\r\n        pnlConverter = new JPanel();\r\n\r\n        //set foreground color (text color on labels)\r\n        pnlConverter.setForeground(Color.black);\r\n        \r\n        //create label object\r\n        MovePrompt = new JLabel(&quot;Pick a move: &quot;);\r\n        //set color for label\r\n        MovePrompt.setForeground(Color.white);\r\n        MovePrompt.setBounds(160, 300, 180, 100);\r\n        MovePrompt.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 18));\r\n        \r\n        // no border layout\r\n        pnlConverter.setLayout(null);\r\n\r\n        pnlConverter.add(MovePrompt);\r\n       \r\n}\r\n```\r\n\r\nI have no idea why it&#39;s not working. Also, if you got any suggestions on how to optimize the code feel free to tell me. Thank you.","title":"Calling another JFrame panel by clicking button not working for me JAVA","body":"<p>I want to do it so when I press the start button on my main screen panel it shows my build panel. I already had my buildPanel() going on but then I decided I wanted to add a main menu screen to start the game.</p>\n<p>This is my code.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.*;\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.net.URL;\n\npublic class interfac extends JFrame {\n\n    private JPanel pnlConverter;\n    private JLabel MovePrompt;\n    private JButton StartButton;\n    private JPanel mainScreenpnl;\n\n    public interfac() {\n        \n        //constructor - build out the general properties for the window\n        super(&quot;Project&quot;);\n        \n        //give the window a size\n        setSize(650,650);\n        setLocationRelativeTo(null);    \n        setResizable(false);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        //call mainScreen()\n        mainScreen();\n        \n        \n        //add panel\n        this.add(mainScreenpnl);\n        \n        //display window\n        setVisible(true);\n    }\n</code></pre>\n<p>When I call buildPanel() inside the action listener, it just stays in the mainSpreenpnl. I know the action listener is working after I tested it with a JOptionPane pop up.</p>\n<pre><code>public void mainScreen() {\n    \n    mainScreenpnl = new JPanel();\n    StartButton = new JButton(&quot;Start Game&quot;);\n    \n    StartButton.addActionListener(new mainScreenbtnListener());\n    \n    mainScreenpnl.add(StartButton);\n    \n}\n\nprivate class mainScreenbtnListener implements ActionListener {\n    \n    public void actionPerformed(ActionEvent e) {\n        \n        buildPanel();\n    }\n}\n</code></pre>\n<p>buildPanel() has really ugly code from me so I'm just gonna add the necessary lines.</p>\n<pre><code>    public void buildPanel() {\n        \n        \n        //create panel (container to hold objects)\n        pnlConverter = new JPanel();\n\n        //set foreground color (text color on labels)\n        pnlConverter.setForeground(Color.black);\n        \n        //create label object\n        MovePrompt = new JLabel(&quot;Pick a move: &quot;);\n        //set color for label\n        MovePrompt.setForeground(Color.white);\n        MovePrompt.setBounds(160, 300, 180, 100);\n        MovePrompt.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 18));\n        \n        // no border layout\n        pnlConverter.setLayout(null);\n\n        pnlConverter.add(MovePrompt);\n       \n}\n</code></pre>\n<p>I have no idea why it's not working. Also, if you got any suggestions on how to optimize the code feel free to tell me. Thank you.</p>\n"},{"tags":["java","data-structures","recursion","linked-list"],"comments":[{"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"score":2,"creation_date":1302283748,"post_id":354875,"comment_id":6374216,"body_markdown":"No, theres no problem with your solution. On the contrary, it&#39;s even &quot;better&quot; than the favored &quot;Little Lisper&quot; solution in that it lets the original list intact. This would be especially valuable in a multi-core setting, where immutable values are strongly preferred.","body":"No, theres no problem with your solution. On the contrary, it&#39;s even &quot;better&quot; than the favored &quot;Little Lisper&quot; solution in that it lets the original list intact. This would be especially valuable in a multi-core setting, where immutable values are strongly preferred."}],"answers":[{"tags":[],"owner":{"account_id":16170,"reputation":2222,"user_id":34957,"accept_rate":38,"display_name":"Ari Ronen"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1405170481,"creation_date":1228874892,"answer_id":354906,"question_id":354875,"body_markdown":"I was asked this question at an interview and was annoyed that I fumbled with it since I was a little nervous.\r\n   \r\nThis should reverse a singly linked list, called with reverse(head,NULL);\r\nso if this were your list:\r\n&lt;pre&gt;1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;null\r\nit would become:\r\n5-&gt;4-&gt;3-&gt;2-&gt;1-&gt;null&lt;/pre&gt;\r\n&lt;pre&gt;&lt;code&gt;\r\n    //Takes as parameters a node in a linked list, and p, the previous node in that list\r\n    //returns the head of the new list\r\n    Node reverse(Node n,Node p){   \r\n        if(n==null) return null;\r\n        if(n.next==null){ //if this is the end of the list, then this is the new head\r\n            n.next=p;\r\n            return n;\r\n        }\r\n        Node r=reverse(n.next,n);  //call reverse for the next node, \r\n                                      //using yourself as the previous node\r\n        n.next=p;                     //Set your next node to be the previous node \r\n        return r;                     //Return the head of the new list\r\n    }\r\n    &lt;/code&gt;&lt;/pre&gt;\r\nedit: ive done like 6 edits on this, showing that it&#39;s still a little tricky for me lol\r\n\r\n","title":"Reversing a linked list in Java, recursively","body":"<p>I was asked this question at an interview and was annoyed that I fumbled with it since I was a little nervous.</p>\n\n<p>This should reverse a singly linked list, called with reverse(head,NULL);\nso if this were your list:</p>\n\n<pre>1->2->3->4->5->null\nit would become:\n5->4->3->2->1->null</pre>\n\n<pre><code>\n    //Takes as parameters a node in a linked list, and p, the previous node in that list\n    //returns the head of the new list\n    Node reverse(Node n,Node p){   \n        if(n==null) return null;\n        if(n.next==null){ //if this is the end of the list, then this is the new head\n            n.next=p;\n            return n;\n        }\n        Node r=reverse(n.next,n);  //call reverse for the next node, \n                                      //using yourself as the previous node\n        n.next=p;                     //Set your next node to be the previous node \n        return r;                     //Return the head of the new list\n    }\n    </code></pre>\n\n<p>edit: ive done like 6 edits on this, showing that it's still a little tricky for me lol</p>\n"},{"tags":[],"owner":{"account_id":10766,"reputation":48405,"user_id":20481,"accept_rate":100,"display_name":"plinth"},"down_vote_count":0,"up_vote_count":332,"is_accepted":true,"score":332,"last_activity_date":1549835967,"creation_date":1228876135,"answer_id":354937,"question_id":354875,"body_markdown":"There&#39;s code in one reply that spells it out, but you might find it easier to start from the bottom up, by asking and answering tiny questions (this is the approach in The Little Lisper):\r\n\r\n 1. What is the reverse of null (the empty list)? null.\r\n 2. What is the reverse of a one element list? the element.\r\n 3. What is the reverse of an n element list? the reverse of the rest of the list followed by the first element.\r\n\r\n----------\r\n\r\n    public ListNode Reverse(ListNode list)\r\n    {\r\n        if (list == null) return null; // first question\r\n\r\n        if (list.next == null) return list; // second question\r\n\r\n        // third question - in Lisp this is easy, but we don&#39;t have cons\r\n        // so we grab the second element (which will be the last after we reverse it)\r\n\r\n        ListNode secondElem = list.next;\r\n\r\n        // bug fix - need to unlink list from the rest or you will get a cycle\r\n        list.next = null;\r\n\r\n        // then we reverse everything from the second element on\r\n        ListNode reverseRest = Reverse(secondElem);\r\n\r\n        // then we join the two lists\r\n        secondElem.next = list;\r\n\r\n        return reverseRest;\r\n    }","title":"Reversing a linked list in Java, recursively","body":"<p>There's code in one reply that spells it out, but you might find it easier to start from the bottom up, by asking and answering tiny questions (this is the approach in The Little Lisper):</p>\n\n<ol>\n<li>What is the reverse of null (the empty list)? null.</li>\n<li>What is the reverse of a one element list? the element.</li>\n<li>What is the reverse of an n element list? the reverse of the rest of the list followed by the first element.</li>\n</ol>\n\n<hr>\n\n<pre><code>public ListNode Reverse(ListNode list)\n{\n    if (list == null) return null; // first question\n\n    if (list.next == null) return list; // second question\n\n    // third question - in Lisp this is easy, but we don't have cons\n    // so we grab the second element (which will be the last after we reverse it)\n\n    ListNode secondElem = list.next;\n\n    // bug fix - need to unlink list from the rest or you will get a cycle\n    list.next = null;\n\n    // then we reverse everything from the second element on\n    ListNode reverseRest = Reverse(secondElem);\n\n    // then we join the two lists\n    secondElem.next = list;\n\n    return reverseRest;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19243,"reputation":81,"user_id":44944,"display_name":"Devesh Rao"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1331497197,"creation_date":1228916455,"answer_id":356071,"question_id":354875,"body_markdown":"The algo will need to work on the following model,\r\n\r\n  - keep track of the head\r\n  - Recurse till end of linklist\r\n  - Reverse linkage\r\n\r\nStructure:\r\n\r\n    Head    \r\n    |    \r\n    1--&gt;2--&gt;3--&gt;4--&gt;N--&gt;null\r\n    \r\n    null--&gt;1--&gt;2--&gt;3--&gt;4--&gt;N&lt;--null\r\n    \r\n    null--&gt;1--&gt;2--&gt;3--&gt;4&lt;--N&lt;--null\r\n    \r\n    null--&gt;1--&gt;2--&gt;3&lt;--4&lt;--N&lt;--null\r\n    \r\n    null--&gt;1--&gt;2&lt;--3&lt;--4&lt;--N&lt;--null\r\n    \r\n    null--&gt;1&lt;--2&lt;--3&lt;--4&lt;--N&lt;--null\r\n    \r\n    null&lt;--1&lt;--2&lt;--3&lt;--4&lt;--N\r\n    \t\t               |\r\n    \t\t               Head\r\n\r\nCode:\r\n\r\n    public ListNode reverse(ListNode toBeNextNode, ListNode currentNode)\r\n    {    \t\t\t\r\n    \t\tListNode currentHead = currentNode; // keep track of the head\r\n\r\n    \t\tif ((currentNode==null ||currentNode.next==null )&amp;&amp; toBeNextNode ==null)return currentHead; // ignore for size 0 &amp; 1\r\n\r\n    \t\tif (currentNode.next!=null)currentHead = reverse(currentNode, currentNode.next); // travarse till end recursively\r\n\r\n    \t\tcurrentNode.next = toBeNextNode; // reverse link\r\n\r\n    \t\treturn currentHead;\r\n    }\r\n\r\n\r\nOutput:\r\n\r\n    head--&gt;12345\r\n\r\n    head--&gt;54321","title":"Reversing a linked list in Java, recursively","body":"<p>The algo will need to work on the following model,</p>\n\n<ul>\n<li>keep track of the head</li>\n<li>Recurse till end of linklist</li>\n<li>Reverse linkage</li>\n</ul>\n\n<p>Structure:</p>\n\n<pre><code>Head    \n|    \n1--&gt;2--&gt;3--&gt;4--&gt;N--&gt;null\n\nnull--&gt;1--&gt;2--&gt;3--&gt;4--&gt;N&lt;--null\n\nnull--&gt;1--&gt;2--&gt;3--&gt;4&lt;--N&lt;--null\n\nnull--&gt;1--&gt;2--&gt;3&lt;--4&lt;--N&lt;--null\n\nnull--&gt;1--&gt;2&lt;--3&lt;--4&lt;--N&lt;--null\n\nnull--&gt;1&lt;--2&lt;--3&lt;--4&lt;--N&lt;--null\n\nnull&lt;--1&lt;--2&lt;--3&lt;--4&lt;--N\n                       |\n                       Head\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>public ListNode reverse(ListNode toBeNextNode, ListNode currentNode)\n{               \n        ListNode currentHead = currentNode; // keep track of the head\n\n        if ((currentNode==null ||currentNode.next==null )&amp;&amp; toBeNextNode ==null)return currentHead; // ignore for size 0 &amp; 1\n\n        if (currentNode.next!=null)currentHead = reverse(currentNode, currentNode.next); // travarse till end recursively\n\n        currentNode.next = toBeNextNode; // reverse link\n\n        return currentHead;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>head--&gt;12345\n\nhead--&gt;54321\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"satyajit"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1249836736,"creation_date":1249836736,"answer_id":1251737,"question_id":354875,"body_markdown":"I got half way through (till null, and one node as suggested by plinth), but lost track after making recursive call. However, after reading the post by plinth, here is what I came up with:\r\n\r\n    Node reverse(Node head) {\r\n      // if head is null or only one node, it&#39;s reverse of itself.\r\n      if ( (head==null) || (head.next == null) ) return head;\r\n\r\n      // reverse the sub-list leaving the head node.\r\n      Node reverse = reverse(head.next);\r\n      \r\n      // head.next still points to the last element of reversed sub-list.\r\n      // so move the head to end.\r\n      head.next.next = head;\r\n\r\n      // point last node to nil, (get rid of cycles)\r\n      head.next = null;\r\n      return reverse;\r\n    }","title":"Reversing a linked list in Java, recursively","body":"<p>I got half way through (till null, and one node as suggested by plinth), but lost track after making recursive call. However, after reading the post by plinth, here is what I came up with:</p>\n\n<pre><code>Node reverse(Node head) {\n  // if head is null or only one node, it's reverse of itself.\n  if ( (head==null) || (head.next == null) ) return head;\n\n  // reverse the sub-list leaving the head node.\n  Node reverse = reverse(head.next);\n\n  // head.next still points to the last element of reversed sub-list.\n  // so move the head to end.\n  head.next.next = head;\n\n  // point last node to nil, (get rid of cycles)\n  head.next = null;\n  return reverse;\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"Gaurav"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1253090988,"creation_date":1253090988,"answer_id":1431771,"question_id":354875,"body_markdown":"&lt;pre&gt;\r\nvoid reverse(node1,node2){\r\nif(node1.next!=null)\r\n      reverse(node1.next,node1);\r\n   node1.next=node2;\r\n}\r\ncall this method as reverse(start,null);\r\n&lt;/pre&gt;\r\n\r\n\r\n","title":"Reversing a linked list in Java, recursively","body":"<pre>\nvoid reverse(node1,node2){\nif(node1.next!=null)\n      reverse(node1.next,node1);\n   node1.next=node2;\n}\ncall this method as reverse(start,null);\n</pre>\n"},{"tags":[],"owner":{"account_id":91749,"reputation":2413,"user_id":251769,"display_name":"Swapneel Patil"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1331496950,"creation_date":1267669566,"answer_id":2376502,"question_id":354875,"body_markdown":"I think this is more cleaner solution, which resembles LISP\r\n    \r\n    // Example:\r\n    // reverse0(1-&gt;2-&gt;3, null) =&gt; \r\n    // \t\treverse0(2-&gt;3, 1) =&gt; \r\n    //\t\t\treverse0(3, 2-&gt;1) =&gt; reverse0(null, 3-&gt;2-&gt;1)\r\n    // once the first argument is null, return the second arg\r\n    // which is nothing but the reveresed list.\r\n    \r\n    Link reverse0(Link f, Link n) {\r\n    \tif (f != null) {\r\n    \t\tLink t = new Link(f.data1, f.data2); \r\n    \t\tt.nextLink = n;\t\t\t\t\t\t \r\n    \t\tf = f.nextLink;\t\t\t\t// assuming first had n elements before, \r\n    \t\t\t\t\t\t\t\t\t// now it has (n-1) elements\r\n    \t\treverse0(f, t);\r\n    \t}\r\n    \treturn n;\r\n    }","title":"Reversing a linked list in Java, recursively","body":"<p>I think this is more cleaner solution, which resembles LISP</p>\n\n<pre><code>// Example:\n// reverse0(1-&gt;2-&gt;3, null) =&gt; \n//      reverse0(2-&gt;3, 1) =&gt; \n//          reverse0(3, 2-&gt;1) =&gt; reverse0(null, 3-&gt;2-&gt;1)\n// once the first argument is null, return the second arg\n// which is nothing but the reveresed list.\n\nLink reverse0(Link f, Link n) {\n    if (f != null) {\n        Link t = new Link(f.data1, f.data2); \n        t.nextLink = n;                      \n        f = f.nextLink;             // assuming first had n elements before, \n                                    // now it has (n-1) elements\n        reverse0(f, t);\n    }\n    return n;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":79432,"reputation":195,"user_id":225236,"display_name":"readdear"},"down_vote_count":3,"up_vote_count":10,"is_accepted":false,"score":7,"last_activity_date":1362690627,"creation_date":1277047158,"answer_id":3079734,"question_id":354875,"body_markdown":"I know this is an old post, but most of the answers are not tail recursive i.e. they do some operations after returning from the recursive call, and hence not the most efficient.\r\n\r\nHere is a tail recursive version:\r\n\r\n\tpublic Node reverse(Node previous, Node current) {\r\n        if(previous == null)\r\n            return null;\r\n\t\tif(previous.equals(head))\r\n\t\t\tprevious.setNext(null);\r\n\t\tif(current == null) {    // end of list\r\n\t\t\thead = previous;\r\n\t\t\treturn head;\r\n\t\t} else {\r\n                        Node temp = current.getNext();\r\n\t\t\tcurrent.setNext(previous);\r\n\t\t\treverse(current, temp);\r\n\t\t}\r\n\t\treturn null;\t//should never reach here.\r\n\t} \r\n\r\nCall with:\r\n \r\n    Node newHead = reverse(head, head.getNext());\r\n\r\n\r\n\r\n    \r\n\r\n","title":"Reversing a linked list in Java, recursively","body":"<p>I know this is an old post, but most of the answers are not tail recursive i.e. they do some operations after returning from the recursive call, and hence not the most efficient.</p>\n\n<p>Here is a tail recursive version:</p>\n\n<pre><code>public Node reverse(Node previous, Node current) {\n    if(previous == null)\n        return null;\n    if(previous.equals(head))\n        previous.setNext(null);\n    if(current == null) {    // end of list\n        head = previous;\n        return head;\n    } else {\n                    Node temp = current.getNext();\n        current.setNext(previous);\n        reverse(current, temp);\n    }\n    return null;    //should never reach here.\n} \n</code></pre>\n\n<p>Call with:</p>\n\n<pre><code>Node newHead = reverse(head, head.getNext());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":734667,"reputation":179,"user_id":699058,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1331497240,"creation_date":1302282139,"answer_id":5598402,"question_id":354875,"body_markdown":"    public class Singlelinkedlist {\r\n      public static void main(String[] args) {\r\n        Elem list  = new Elem();\r\n        Reverse(list); //list is populate some  where or some how\r\n      }\r\n    \r\n      //this  is the part you should be concerned with the function/Method has only 3 lines\r\n    \r\n      public static void Reverse(Elem e){\r\n        if (e!=null)\r\n          if(e.next !=null )\r\n            Reverse(e.next);\r\n        //System.out.println(e.data);\r\n      }\r\n    }\r\n    \r\n    class Elem {\r\n      public Elem next;    // Link to next element in the list.\r\n      public String data;  // Reference to the data.\r\n    }","title":"Reversing a linked list in Java, recursively","body":"<pre><code>public class Singlelinkedlist {\n  public static void main(String[] args) {\n    Elem list  = new Elem();\n    Reverse(list); //list is populate some  where or some how\n  }\n\n  //this  is the part you should be concerned with the function/Method has only 3 lines\n\n  public static void Reverse(Elem e){\n    if (e!=null)\n      if(e.next !=null )\n        Reverse(e.next);\n    //System.out.println(e.data);\n  }\n}\n\nclass Elem {\n  public Elem next;    // Link to next element in the list.\n  public String data;  // Reference to the data.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":801889,"reputation":41,"user_id":837790,"display_name":"KNA"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1310371355,"creation_date":1310315963,"answer_id":6642366,"question_id":354875,"body_markdown":"    public Node reverseListRecursive(Node curr)\r\n    {\r\n        if(curr == null){//Base case\r\n            return head;\r\n        }\r\n        else{\r\n            (reverseListRecursive(curr.next)).next = (curr);\r\n        }\r\n        return curr;\r\n    }","title":"Reversing a linked list in Java, recursively","body":"<pre><code>public Node reverseListRecursive(Node curr)\n{\n    if(curr == null){//Base case\n        return head;\n    }\n    else{\n        (reverseListRecursive(curr.next)).next = (curr);\n    }\n    return curr;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":374191,"reputation":2184,"user_id":724262,"display_name":"PointZeroTwo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1316055938,"creation_date":1316055938,"answer_id":7425426,"question_id":354875,"body_markdown":"Here&#39;s yet another recursive solution.  It has less code within the recursive function than some of the others, so it might be a little faster.  This is C# but I believe Java would be very similar.\r\n\r\n    class Node&lt;T&gt;\r\n    {\r\n        Node&lt;T&gt; next;\r\n        public T data;\r\n    }\r\n\r\n    class LinkedList&lt;T&gt;\r\n    {\r\n        Node&lt;T&gt; head = null;\r\n\r\n        public void Reverse()\r\n        {\r\n            if (head != null)\r\n                head = RecursiveReverse(null, head);\r\n        }\r\n\r\n        private Node&lt;T&gt; RecursiveReverse(Node&lt;T&gt; prev, Node&lt;T&gt; curr)\r\n        {\r\n            Node&lt;T&gt; next = curr.next;\r\n            curr.next = prev;\r\n            return (next == null) ? curr : RecursiveReverse(curr, next);\r\n        }\r\n    }","title":"Reversing a linked list in Java, recursively","body":"<p>Here's yet another recursive solution.  It has less code within the recursive function than some of the others, so it might be a little faster.  This is C# but I believe Java would be very similar.</p>\n\n<pre><code>class Node&lt;T&gt;\n{\n    Node&lt;T&gt; next;\n    public T data;\n}\n\nclass LinkedList&lt;T&gt;\n{\n    Node&lt;T&gt; head = null;\n\n    public void Reverse()\n    {\n        if (head != null)\n            head = RecursiveReverse(null, head);\n    }\n\n    private Node&lt;T&gt; RecursiveReverse(Node&lt;T&gt; prev, Node&lt;T&gt; curr)\n    {\n        Node&lt;T&gt; next = curr.next;\n        curr.next = prev;\n        return (next == null) ? curr : RecursiveReverse(curr, next);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2041090,"reputation":21,"user_id":1822258,"display_name":"akshayd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362073969,"creation_date":1362073969,"answer_id":15142293,"question_id":354875,"body_markdown":"\tpublic static ListNode recRev(ListNode curr){\r\n\t\t\r\n\t\tif(curr.next == null){\r\n\t\t\treturn curr;\r\n\t\t}\r\n\t\tListNode head = recRev(curr.next);\r\n\t\tcurr.next.next = curr;\r\n\t\tcurr.next = null;\r\n\t\t\r\n\t\t// propogate the head value\r\n\t\treturn head;\r\n\t\t\t\r\n\t}","title":"Reversing a linked list in Java, recursively","body":"<pre><code>public static ListNode recRev(ListNode curr){\n\n    if(curr.next == null){\n        return curr;\n    }\n    ListNode head = recRev(curr.next);\n    curr.next.next = curr;\n    curr.next = null;\n\n    // propogate the head value\n    return head;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":94508,"reputation":729,"user_id":258001,"display_name":"Murali Mohan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1367417697,"creation_date":1367417697,"answer_id":16319781,"question_id":354875,"body_markdown":"    public Node reverseRec(Node prev, Node curr) {\r\n    \tif (curr == null) return null;\t\r\n    \r\n    \tif (curr.next == null) {\r\n    \t\tcurr.next = prev;\r\n    \t\treturn curr;\r\n    \r\n    \t} else {\r\n    \t\tNode temp = curr.next; \r\n    \t\tcurr.next = prev;\r\n    \t\treturn reverseRec(curr, temp);\r\n    \t}\t\t\t\t\r\n    }\r\n\r\ncall using: head = reverseRec(null, head);","title":"Reversing a linked list in Java, recursively","body":"<pre><code>public Node reverseRec(Node prev, Node curr) {\n    if (curr == null) return null;  \n\n    if (curr.next == null) {\n        curr.next = prev;\n        return curr;\n\n    } else {\n        Node temp = curr.next; \n        curr.next = prev;\n        return reverseRec(curr, temp);\n    }               \n}\n</code></pre>\n\n<p>call using: head = reverseRec(null, head);</p>\n"},{"tags":[],"owner":{"account_id":2726386,"reputation":11,"user_id":2351329,"display_name":"user2351329"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443328329,"creation_date":1367733654,"answer_id":16381858,"question_id":354875,"body_markdown":"PointZeroTwo has got elegant answer &amp; the same in Java ...\r\n\r\n    public void reverseList(){\r\n\t\tif(head!=null){\r\n\t\t\thead = reverseListNodes(null , head);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate Node reverseListNodes(Node parent , Node child ){\r\n\t\tNode next = child.next;\r\n\t\tchild.next = parent;\r\n\t\treturn (next==null)?child:reverseListNodes(child, next);\r\n\t}","title":"Reversing a linked list in Java, recursively","body":"<p>PointZeroTwo has got elegant answer &amp; the same in Java ...</p>\n\n<pre><code>public void reverseList(){\n    if(head!=null){\n        head = reverseListNodes(null , head);\n    }\n}\n\nprivate Node reverseListNodes(Node parent , Node child ){\n    Node next = child.next;\n    child.next = parent;\n    return (next==null)?child:reverseListNodes(child, next);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":485702,"reputation":423,"user_id":902167,"accept_rate":50,"display_name":"Nima Ghaedsharafi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368290130,"creation_date":1368290130,"answer_id":16499419,"question_id":354875,"body_markdown":"What other guys done , in other post is a game of content, what i did is a game of linkedlist, it reverse the LinkedList&#39;s member not reverse of a Value of members.\r\n\r\n\r\n    Public LinkedList reverse(LinkedList List)\r\n    {\r\n           if(List == null)\r\n                   return null;\r\n           if(List.next() == null)\r\n                  return List;\r\n           LinkedList temp = this.reverse( List.next() );\r\n           return temp.setNext( List );\r\n    }","title":"Reversing a linked list in Java, recursively","body":"<p>What other guys done , in other post is a game of content, what i did is a game of linkedlist, it reverse the LinkedList's member not reverse of a Value of members.</p>\n\n<pre><code>Public LinkedList reverse(LinkedList List)\n{\n       if(List == null)\n               return null;\n       if(List.next() == null)\n              return List;\n       LinkedList temp = this.reverse( List.next() );\n       return temp.setNext( List );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3036397,"reputation":1,"user_id":2574394,"display_name":"Arijit Pal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373579245,"creation_date":1373579245,"answer_id":17604091,"question_id":354875,"body_markdown":"    package com.mypackage;\r\n    class list{\r\n\t\r\n        node first;    \r\n        node last;\r\n\r\n        list(){\r\n\t\tfirst=null;\r\n\t\tlast=null;\r\n\t}\r\n\r\n\t/*returns true if first is null*/\r\n\tpublic boolean isEmpty(){\r\n\t\treturn first==null;\r\n\t}\r\n\t/*Method for insertion*/\r\n\r\n\tpublic void insert(int value){\r\n\t\t\r\n\t\tif(isEmpty()){\r\n\t\t\tfirst=last=new node(value);\r\n\t\t\tlast.next=null;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tnode temp=new node(value);\r\n\t\t\tlast.next=temp;\r\n\t\t\tlast=temp;\r\n\t\t\tlast.next=null;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t/*simple traversal from beginning*/\r\n\tpublic void traverse(){\r\n\t\tnode t=first;\r\n\t\twhile(!isEmpty() &amp;&amp; t!=null){\r\n\t\t\tt.printval();\r\n\t\t\tt= t.next;\r\n\t\t}\r\n\t}\r\n\t/*static method for creating a reversed linked list*/\r\n\tpublic static void reverse(node n,list l1){\r\n\t\t\r\n\t\tif(n.next!=null)\r\n\t\t\treverse(n.next,l1);/*will traverse to the very end*/\r\n\t\tl1.insert(n.value);/*every stack frame will do insertion now*/\r\n\t\t\r\n\t}\r\n\t/*private inner class node*/\r\n\tprivate class node{\r\n\t\tint value;\r\n\t\tnode next;\r\n\t\tnode(int value){\r\n\t\t\tthis.value=value;\r\n\t\t}\r\n\t\tvoid printval(){\r\n\t\t\tSystem.out.print(value+&quot; &quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n     }","title":"Reversing a linked list in Java, recursively","body":"<pre><code>package com.mypackage;\nclass list{\n\n    node first;    \n    node last;\n\n    list(){\n    first=null;\n    last=null;\n}\n\n/*returns true if first is null*/\npublic boolean isEmpty(){\n    return first==null;\n}\n/*Method for insertion*/\n\npublic void insert(int value){\n\n    if(isEmpty()){\n        first=last=new node(value);\n        last.next=null;\n    }\n    else{\n        node temp=new node(value);\n        last.next=temp;\n        last=temp;\n        last.next=null;\n    }\n\n}\n/*simple traversal from beginning*/\npublic void traverse(){\n    node t=first;\n    while(!isEmpty() &amp;&amp; t!=null){\n        t.printval();\n        t= t.next;\n    }\n}\n/*static method for creating a reversed linked list*/\npublic static void reverse(node n,list l1){\n\n    if(n.next!=null)\n        reverse(n.next,l1);/*will traverse to the very end*/\n    l1.insert(n.value);/*every stack frame will do insertion now*/\n\n}\n/*private inner class node*/\nprivate class node{\n    int value;\n    node next;\n    node(int value){\n        this.value=value;\n    }\n    void printval(){\n        System.out.print(value+\" \");\n    }\n}\n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3415000,"reputation":43,"user_id":2864170,"display_name":"Fredton Doan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1381735115,"creation_date":1381343071,"answer_id":19279748,"question_id":354875,"body_markdown":"Reverse by recursive algo.\r\n\r\n    \r\n    public ListNode reverse(ListNode head) {\r\n        if (head == null || head.next == null) return head;    \r\n        ListNode rHead = reverse(head.next);\r\n        rHead.next = head;\r\n        head = null;\r\n        return rHead;\r\n    }\r\n\r\n\r\nBy iterative\r\n\r\n    public ListNode reverse(ListNode head) {\r\n        if (head == null || head.next == null) return head;    \r\n        ListNode prev = null;\r\n        ListNode cur = head\r\n        ListNode next = head.next;\r\n        while (next != null) {\r\n            cur.next = prev;\r\n            prev = cur;\r\n            cur = next;\r\n            next = next.next;\r\n        }\r\n        return cur;\r\n    }\r\n\r\n\r\n","title":"Reversing a linked list in Java, recursively","body":"<p>Reverse by recursive algo.</p>\n\n<pre><code>public ListNode reverse(ListNode head) {\n    if (head == null || head.next == null) return head;    \n    ListNode rHead = reverse(head.next);\n    rHead.next = head;\n    head = null;\n    return rHead;\n}\n</code></pre>\n\n<p>By iterative</p>\n\n<pre><code>public ListNode reverse(ListNode head) {\n    if (head == null || head.next == null) return head;    \n    ListNode prev = null;\n    ListNode cur = head\n    ListNode next = head.next;\n    while (next != null) {\n        cur.next = prev;\n        prev = cur;\n        cur = next;\n        next = next.next;\n    }\n    return cur;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3493174,"reputation":1,"user_id":2922236,"display_name":"Vara"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1382765120,"creation_date":1382765120,"answer_id":19603170,"question_id":354875,"body_markdown":"    public void reverse(){\r\n        if(isEmpty()){\r\n    \treturn;\r\n         }\r\n         Node&lt;T&gt; revHead = new Node&lt;T&gt;();\r\n         this.reverse(head.next, revHead);\r\n         this.head = revHead;\r\n    }\r\n    \r\n    private Node&lt;T&gt; reverse(Node&lt;T&gt; node, Node&lt;T&gt; revHead){\r\n        if(node.next == null){\r\n           revHead.next = node;\r\n           return node;\r\n         }\r\n         Node&lt;T&gt; reverse = this.reverse(node.next, revHead);\r\n         reverse.next = node;\r\n         node.next = null;\r\n         return node;\r\n    }","title":"Reversing a linked list in Java, recursively","body":"<pre><code>public void reverse(){\n    if(isEmpty()){\n    return;\n     }\n     Node&lt;T&gt; revHead = new Node&lt;T&gt;();\n     this.reverse(head.next, revHead);\n     this.head = revHead;\n}\n\nprivate Node&lt;T&gt; reverse(Node&lt;T&gt; node, Node&lt;T&gt; revHead){\n    if(node.next == null){\n       revHead.next = node;\n       return node;\n     }\n     Node&lt;T&gt; reverse = this.reverse(node.next, revHead);\n     reverse.next = node;\n     node.next = null;\n     return node;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3785267,"reputation":51,"user_id":3143405,"display_name":"Austin Nwachukwu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1388300920,"creation_date":1388300920,"answer_id":20822946,"question_id":354875,"body_markdown":"    public void reverse() {\r\n\t    head = reverseNodes(null, head);\r\n    }\r\n\r\n    private Node reverseNodes(Node prevNode, Node currentNode) {\r\n    \tif (currentNode == null)\r\n    \t\treturn prevNode;\r\n    \tNode nextNode = currentNode.next;\r\n    \tcurrentNode.next = prevNode;\r\n    \treturn reverseNodes(currentNode, nextNode);\r\n    }","title":"Reversing a linked list in Java, recursively","body":"<pre><code>public void reverse() {\n    head = reverseNodes(null, head);\n}\n\nprivate Node reverseNodes(Node prevNode, Node currentNode) {\n    if (currentNode == null)\n        return prevNode;\n    Node nextNode = currentNode.next;\n    currentNode.next = prevNode;\n    return reverseNodes(currentNode, nextNode);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1404940,"reputation":2114,"user_id":1332911,"accept_rate":65,"display_name":"Sudheer Aedama"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1389237642,"creation_date":1389237642,"answer_id":21011075,"question_id":354875,"body_markdown":"Here is a reference if someone is looking for Scala implementation:\r\n\r\n    scala&gt; import scala.collection.mutable.LinkedList\r\n    import scala.collection.mutable.LinkedList\r\n    \r\n    scala&gt; def reverseLinkedList[A](ll: LinkedList[A]): LinkedList[A] =\r\n             ll.foldLeft(LinkedList.empty[A])((accumulator, nextElement) =&gt; nextElement +: accumulator)\r\n    reverseLinkedList: [A](ll: scala.collection.mutable.LinkedList[A])scala.collection.mutable.LinkedList[A]\r\n    \r\n    scala&gt; reverseLinkedList(LinkedList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;))\r\n    res0: scala.collection.mutable.LinkedList[java.lang.String] = LinkedList(c, b, a)\r\n    \r\n    scala&gt; reverseLinkedList(LinkedList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;))\r\n    res1: scala.collection.mutable.LinkedList[java.lang.String] = LinkedList(3, 2, 1)","title":"Reversing a linked list in Java, recursively","body":"<p>Here is a reference if someone is looking for Scala implementation:</p>\n\n<pre><code>scala&gt; import scala.collection.mutable.LinkedList\nimport scala.collection.mutable.LinkedList\n\nscala&gt; def reverseLinkedList[A](ll: LinkedList[A]): LinkedList[A] =\n         ll.foldLeft(LinkedList.empty[A])((accumulator, nextElement) =&gt; nextElement +: accumulator)\nreverseLinkedList: [A](ll: scala.collection.mutable.LinkedList[A])scala.collection.mutable.LinkedList[A]\n\nscala&gt; reverseLinkedList(LinkedList(\"a\", \"b\", \"c\"))\nres0: scala.collection.mutable.LinkedList[java.lang.String] = LinkedList(c, b, a)\n\nscala&gt; reverseLinkedList(LinkedList(\"1\", \"2\", \"3\"))\nres1: scala.collection.mutable.LinkedList[java.lang.String] = LinkedList(3, 2, 1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2665264,"reputation":21,"user_id":3209756,"display_name":"Gordon Hamachi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390076685,"creation_date":1390046883,"answer_id":21203877,"question_id":354875,"body_markdown":"This solution demonstrates that no arguments are required.\r\n\r\n    /**\r\n     * Reverse the list\r\n     * @return reference to the new list head\r\n     */\r\n    public LinkNode reverse() {\r\n        if (next == null) {\r\n            return this; // Return the old tail of the list as the new head\r\n        }\r\n        LinkNode oldTail = next.reverse(); // Recurse to find the old tail\r\n        next.next = this; // The old next node now points back to this node\r\n        next = null; // Make sure old head has no next\r\n        return oldTail; // Return the old tail all the way back to the top\r\n    }\r\n\r\nHere is the supporting code, to demonstrate that this works:\r\n\r\n    public class LinkNode {\r\n        private char name;\r\n        private LinkNode next;\r\n\r\n        /**\r\n         * Return a linked list of nodes, whose names are characters from the given string\r\n         * @param str node names\r\n         */\r\n        public LinkNode(String str) {\r\n            if ((str == null) || (str.length() == 0)) {\r\n                throw new IllegalArgumentException(&quot;LinkNode constructor arg: &quot; + str);\r\n            }\r\n            name = str.charAt(0);\r\n            if (str.length() &gt; 1) {\r\n                next = new LinkNode(str.substring(1));\r\n            }\r\n        }\r\n\r\n        public String toString() {\r\n            return name + ((next == null) ? &quot;&quot; : next.toString());\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            LinkNode head = new LinkNode(&quot;abc&quot;);\r\n            System.out.println(head);\r\n            System.out.println(head.reverse());\r\n        }\r\n    }","title":"Reversing a linked list in Java, recursively","body":"<p>This solution demonstrates that no arguments are required.</p>\n\n<pre><code>/**\n * Reverse the list\n * @return reference to the new list head\n */\npublic LinkNode reverse() {\n    if (next == null) {\n        return this; // Return the old tail of the list as the new head\n    }\n    LinkNode oldTail = next.reverse(); // Recurse to find the old tail\n    next.next = this; // The old next node now points back to this node\n    next = null; // Make sure old head has no next\n    return oldTail; // Return the old tail all the way back to the top\n}\n</code></pre>\n\n<p>Here is the supporting code, to demonstrate that this works:</p>\n\n<pre><code>public class LinkNode {\n    private char name;\n    private LinkNode next;\n\n    /**\n     * Return a linked list of nodes, whose names are characters from the given string\n     * @param str node names\n     */\n    public LinkNode(String str) {\n        if ((str == null) || (str.length() == 0)) {\n            throw new IllegalArgumentException(\"LinkNode constructor arg: \" + str);\n        }\n        name = str.charAt(0);\n        if (str.length() &gt; 1) {\n            next = new LinkNode(str.substring(1));\n        }\n    }\n\n    public String toString() {\n        return name + ((next == null) ? \"\" : next.toString());\n    }\n\n    public static void main(String[] args) {\n        LinkNode head = new LinkNode(\"abc\");\n        System.out.println(head);\n        System.out.println(head.reverse());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":279546,"reputation":700,"user_id":574776,"display_name":"shreyas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1402322771,"creation_date":1402322771,"answer_id":24122015,"question_id":354875,"body_markdown":"Here is a simple iterative approach:\r\n\r\n    public static Node reverse(Node root) {\r\n        if (root == null || root.next == null) {\r\n            return root;\r\n        }\r\n        \r\n        Node curr, prev, next;\r\n        curr = root; prev = next = null;\r\n        while (curr != null) {\r\n            next = curr.next;\r\n            curr.next = prev;\r\n            \r\n            prev = curr;\r\n            curr = next;\r\n        }\r\n        return prev;\r\n    }\r\n\r\nAnd here is a recursive approach: \r\n    \r\n    public static Node reverseR(Node node) {\r\n        if (node == null || node.next == null) {\r\n            return node;\r\n        }\r\n        \r\n        Node next = node.next;\r\n        node.next = null;\r\n        \r\n        Node remaining = reverseR(next);\r\n        next.next = node;\r\n        return remaining;\r\n    }","title":"Reversing a linked list in Java, recursively","body":"<p>Here is a simple iterative approach:</p>\n\n<pre><code>public static Node reverse(Node root) {\n    if (root == null || root.next == null) {\n        return root;\n    }\n\n    Node curr, prev, next;\n    curr = root; prev = next = null;\n    while (curr != null) {\n        next = curr.next;\n        curr.next = prev;\n\n        prev = curr;\n        curr = next;\n    }\n    return prev;\n}\n</code></pre>\n\n<p>And here is a recursive approach: </p>\n\n<pre><code>public static Node reverseR(Node node) {\n    if (node == null || node.next == null) {\n        return node;\n    }\n\n    Node next = node.next;\n    node.next = null;\n\n    Node remaining = reverseR(next);\n    next.next = node;\n    return remaining;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4741926,"reputation":1,"user_id":3834379,"display_name":"javasolsz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405262465,"creation_date":1405260822,"answer_id":24723577,"question_id":354875,"body_markdown":"The solution is:    \r\n\r\n    package basic;\r\n\r\n    import custom.ds.nodes.Node;\r\n\r\n    public class RevLinkedList {\r\n\t\r\n\tprivate static Node&lt;Integer&gt; first = null;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tNode&lt;Integer&gt; f = new Node&lt;Integer&gt;();\r\n\t\tNode&lt;Integer&gt; s = new Node&lt;Integer&gt;();\r\n\t\tNode&lt;Integer&gt; t = new Node&lt;Integer&gt;();\r\n\t\tNode&lt;Integer&gt; fo = new Node&lt;Integer&gt;();\r\n\t\tf.setNext(s);\r\n\t\ts.setNext(t);\r\n\t\tt.setNext(fo);\r\n\t\tfo.setNext(null);\r\n\r\n\t\tf.setItem(1);\r\n\t\ts.setItem(2);\r\n\t\tt.setItem(3);\r\n\t\tfo.setItem(4);\r\n\t\tNode&lt;Integer&gt; curr = f;\r\n\t\tdisplay(curr);\r\n\t\trevLL(null, f);\r\n\t\tdisplay(first);\r\n\t}\r\n\r\n\tpublic static void display(Node&lt;Integer&gt; curr) {\r\n\t\twhile (curr.getNext() != null) {\r\n\t\t\tSystem.out.println(curr.getItem());\r\n\t\t\tSystem.out.println(curr.getNext());\r\n\t\t\tcurr = curr.getNext();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void revLL(Node&lt;Integer&gt; pn, Node&lt;Integer&gt; cn) {\r\n\t\twhile (cn.getNext() != null) {\r\n\t\t\trevLL(cn, cn.getNext());\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tif (cn.getNext() == null) {\r\n\t\t\tfirst = cn;\r\n\t\t}\r\n\t\tcn.setNext(pn);\r\n\t}\r\n\r\n}\r\n","title":"Reversing a linked list in Java, recursively","body":"<p>The solution is:    </p>\n\n<pre><code>package basic;\n\nimport custom.ds.nodes.Node;\n\npublic class RevLinkedList {\n\nprivate static Node&lt;Integer&gt; first = null;\n\npublic static void main(String[] args) {\n    Node&lt;Integer&gt; f = new Node&lt;Integer&gt;();\n    Node&lt;Integer&gt; s = new Node&lt;Integer&gt;();\n    Node&lt;Integer&gt; t = new Node&lt;Integer&gt;();\n    Node&lt;Integer&gt; fo = new Node&lt;Integer&gt;();\n    f.setNext(s);\n    s.setNext(t);\n    t.setNext(fo);\n    fo.setNext(null);\n\n    f.setItem(1);\n    s.setItem(2);\n    t.setItem(3);\n    fo.setItem(4);\n    Node&lt;Integer&gt; curr = f;\n    display(curr);\n    revLL(null, f);\n    display(first);\n}\n\npublic static void display(Node&lt;Integer&gt; curr) {\n    while (curr.getNext() != null) {\n        System.out.println(curr.getItem());\n        System.out.println(curr.getNext());\n        curr = curr.getNext();\n    }\n}\n\npublic static void revLL(Node&lt;Integer&gt; pn, Node&lt;Integer&gt; cn) {\n    while (cn.getNext() != null) {\n        revLL(cn, cn.getNext());\n        break;\n    }\n    if (cn.getNext() == null) {\n        first = cn;\n    }\n    cn.setNext(pn);\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":4782718,"reputation":191,"user_id":3864024,"display_name":"Rohit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408969973,"creation_date":1408969973,"answer_id":25486038,"question_id":354875,"body_markdown":"    static void reverseList(){\r\n\t\r\n    if(head!=null||head.next!=null){\r\n\tListNode tail=head;//head points to tail\r\n\t\r\n\t\r\n\tListNode Second=head.next;\r\n\tListNode Third=Second.next;\r\n\ttail.next=null;//tail previous head is poiniting null\r\n\tSecond.next=tail;\r\n\tListNode current=Third;\r\n\tListNode prev=Second;\r\n\tif(Third.next!=null){\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\twhile(current!=null){\r\n\t\tListNode\tnext=current.next;\r\n\t\t\tcurrent.next=prev;\r\n\t\t\tprev=current;\r\n\t\t\tcurrent=next;\r\n\t\t}\r\n\t\t}\r\n\thead=prev;//new head\r\n\t}\r\n    }\r\n\tclass ListNode{\r\n\t\tpublic int data;\r\n\t\tpublic ListNode next;\r\n\t\tpublic int getData() {\r\n\t\t\treturn data;\r\n\t\t}\r\n\t\t\r\n\t\tpublic ListNode(int data) {\r\n\t\t\tsuper();\r\n\t\t\tthis.data = data;\r\n\t\t\tthis.next=null;\r\n\t\t}\r\n\r\n\t\tpublic ListNode(int data, ListNode next) {\r\n\t\t\tsuper();\r\n\t\t\tthis.data = data;\r\n\t\t\tthis.next = next;\r\n\t\t}\r\n\r\n\t\tpublic void setData(int data) {\r\n\t\t\tthis.data = data;\r\n\t\t}\r\n\t\tpublic ListNode getNext() {\r\n\t\t\treturn next;\r\n\t\t}\r\n\t\tpublic void setNext(ListNode next) {\r\n\t\t\tthis.next = next;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n","title":"Reversing a linked list in Java, recursively","body":"<pre><code>static void reverseList(){\n\nif(head!=null||head.next!=null){\nListNode tail=head;//head points to tail\n\n\nListNode Second=head.next;\nListNode Third=Second.next;\ntail.next=null;//tail previous head is poiniting null\nSecond.next=tail;\nListNode current=Third;\nListNode prev=Second;\nif(Third.next!=null){\n\n\n\n    while(current!=null){\n    ListNode    next=current.next;\n        current.next=prev;\n        prev=current;\n        current=next;\n    }\n    }\nhead=prev;//new head\n}\n}\nclass ListNode{\n    public int data;\n    public ListNode next;\n    public int getData() {\n        return data;\n    }\n\n    public ListNode(int data) {\n        super();\n        this.data = data;\n        this.next=null;\n    }\n\n    public ListNode(int data, ListNode next) {\n        super();\n        this.data = data;\n        this.next = next;\n    }\n\n    public void setData(int data) {\n        this.data = data;\n    }\n    public ListNode getNext() {\n        return next;\n    }\n    public void setNext(ListNode next) {\n        this.next = next;\n    }\n\n\n\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":976694,"reputation":1,"user_id":997629,"display_name":"pat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409318616,"creation_date":1409318616,"answer_id":25569222,"question_id":354875,"body_markdown":"    private Node ReverseList(Node current, Node previous)\r\n        {\r\n            if (current == null) return null;\r\n            Node originalNext = current.next;\r\n            current.next = previous;\r\n            if (originalNext == null) return current;\r\n            return ReverseList(originalNext, current);\r\n        }","title":"Reversing a linked list in Java, recursively","body":"<pre><code>private Node ReverseList(Node current, Node previous)\n    {\n        if (current == null) return null;\n        Node originalNext = current.next;\n        current.next = previous;\n        if (originalNext == null) return current;\n        return ReverseList(originalNext, current);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1260612,"reputation":1639,"user_id":1218999,"display_name":"jeantimex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1412919788,"creation_date":1412919788,"answer_id":26292646,"question_id":354875,"body_markdown":"As Java is always pass-by-value, to recursively reverse a linked list in Java, make sure to return the &quot;new head&quot;(the head node after reversion) at the end of the recursion. \r\n\r\n    static ListNode reverseR(ListNode head) {\r\n\t\tif (head == null || head.next == null) {\r\n\t\t\treturn head;\r\n\t\t}\r\n\t\t\r\n\t\tListNode first = head;\r\n\t\tListNode rest = head.next;\r\n\t\t\r\n\t\t// reverse the rest of the list recursively\r\n\t\thead = reverseR(rest);\r\n\t\t\r\n\t\t// fix the first node after recursion\r\n\t\tfirst.next.next = first;\r\n\t\tfirst.next = null;\r\n\t\t\r\n\t\treturn head;\r\n\t}","title":"Reversing a linked list in Java, recursively","body":"<p>As Java is always pass-by-value, to recursively reverse a linked list in Java, make sure to return the \"new head\"(the head node after reversion) at the end of the recursion. </p>\n\n<pre><code>static ListNode reverseR(ListNode head) {\n    if (head == null || head.next == null) {\n        return head;\n    }\n\n    ListNode first = head;\n    ListNode rest = head.next;\n\n    // reverse the rest of the list recursively\n    head = reverseR(rest);\n\n    // fix the first node after recursion\n    first.next.next = first;\n    first.next = null;\n\n    return head;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5693001,"reputation":1,"user_id":4500433,"display_name":"Rahul Saraf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443328313,"creation_date":1443327827,"answer_id":32804564,"question_id":354875,"body_markdown":"    //this function reverses the linked list\r\n\tpublic Node reverseList(Node p) {\r\n\t\tif(head == null){\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t//make the last node as head\r\n\t\tif(p.next == null){\r\n\t\t\thead.next = null;\r\n\t\t\thead = p;\r\n\t\t\treturn p;\r\n\t\t}\r\n\t\t//traverse to the last node, then reverse the pointers by assigning the 2nd last node to last node and so on..\r\n\t\treturn reverseList(p.next).next = p;\r\n\t}","title":"Reversing a linked list in Java, recursively","body":"<pre><code>//this function reverses the linked list\npublic Node reverseList(Node p) {\n    if(head == null){\n        return null;\n    }\n    //make the last node as head\n    if(p.next == null){\n        head.next = null;\n        head = p;\n        return p;\n    }\n    //traverse to the last node, then reverse the pointers by assigning the 2nd last node to last node and so on..\n    return reverseList(p.next).next = p;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7026430,"reputation":7,"user_id":5383645,"display_name":"Mohit Datta"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1443424413,"creation_date":1443424413,"answer_id":32817498,"question_id":354875,"body_markdown":"This is how we would do this in Opal - a pure functional programming language. And, IMHO - doing this recursively only makes sense in that context.\r\n\r\n    List Reverse(List l)\r\n    {\r\n        if (IsEmpty(l) || Size(l) == 1) return l;\r\n        return reverse(rest(l))::first(l);\r\n    }\r\n\r\nrest(l) returns a list that is the original list without it&#39;s first node.\r\nfirst(l) returns the first element.\r\n:: is a concatenation operator.\r\n","title":"Reversing a linked list in Java, recursively","body":"<p>This is how we would do this in Opal - a pure functional programming language. And, IMHO - doing this recursively only makes sense in that context.</p>\n\n<pre><code>List Reverse(List l)\n{\n    if (IsEmpty(l) || Size(l) == 1) return l;\n    return reverse(rest(l))::first(l);\n}\n</code></pre>\n\n<p>rest(l) returns a list that is the original list without it's first node.\nfirst(l) returns the first element.\n:: is a concatenation operator.</p>\n"},{"tags":[],"owner":{"account_id":7002735,"reputation":31,"user_id":5368232,"display_name":"vsn harish rayasam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445784715,"creation_date":1445784715,"answer_id":33331029,"question_id":354875,"body_markdown":"    //Recursive solution\r\n    class SLL\r\n    {\r\n       int data;\r\n       SLL next;\r\n    }\r\n    \r\n    SLL reverse(SLL head)\r\n    {\r\n      //base case - 0 or 1 elements\r\n      if(head == null || head.next == null) return head;\r\n    \r\n      SLL temp = reverse(head.next);\r\n      head.next.next = head;\r\n      head.next = null;\r\n      return temp;\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n","title":"Reversing a linked list in Java, recursively","body":"<pre><code>//Recursive solution\nclass SLL\n{\n   int data;\n   SLL next;\n}\n\nSLL reverse(SLL head)\n{\n  //base case - 0 or 1 elements\n  if(head == null || head.next == null) return head;\n\n  SLL temp = reverse(head.next);\n  head.next.next = head;\n  head.next = null;\n  return temp;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36395,"reputation":5024,"user_id":103807,"accept_rate":92,"display_name":"phoganuci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456024937,"creation_date":1456023646,"answer_id":35531786,"question_id":354875,"body_markdown":"Inspired by [an article][1] discussing immutable implementations of recursive data structures I put an alternate solution together using Swift.\r\n\r\nThe leading answer documents solution by highlighting the following topics:\r\n\r\n 1. What is the reverse of nil (the empty list)?\r\n  - Does not matter here, because we have nil protection in Swift.\r\n 2. What is the reverse of a one element list?\r\n  - The element itself\r\n 3. What is the reverse of an n element list?\r\n  - The reverse of the second element on followed by the first element.\r\n\r\nI have called these out where applicable in the solution below.\r\n\r\n    /**\r\n     Node is a class that stores an arbitrary value of generic type T \r\n     and a pointer to another Node of the same time.  This is a recursive \r\n     data structure representative of a member of a unidirectional linked\r\n     list.\r\n     */\r\n    public class Node&lt;T&gt; {\r\n        public let value: T\r\n        public let next: Node&lt;T&gt;?\r\n        \r\n        public init(value: T, next: Node&lt;T&gt;?) {\r\n            self.value = value\r\n            self.next = next\r\n        }\r\n        \r\n        public func reversedList() -&gt; Node&lt;T&gt; {\r\n            if let next = self.next {\r\n                // 3. The reverse of the second element on followed by the first element.\r\n                return next.reversedList() + value\r\n            } else {\r\n                // 2. Reverse of a one element list is itself\r\n                return self\r\n            }\r\n        }\r\n    }\r\n    \r\n    /**\r\n     @return Returns a newly created Node consisting of the lhs list appended with rhs value.\r\n     */\r\n    public func +&lt;T&gt;(lhs: Node&lt;T&gt;, rhs: T) -&gt; Node&lt;T&gt; {\r\n        let tail: Node&lt;T&gt;?\r\n        if let next = lhs.next {\r\n            // The new tail is created recursively, as long as there is a next node.\r\n            tail = next + rhs\r\n        } else {\r\n            // If there is not a next node, create a new tail node to append\r\n            tail = Node&lt;T&gt;(value: rhs, next: nil)\r\n        }\r\n        // Return a newly created Node consisting of the lhs list appended with rhs value.\r\n        return Node&lt;T&gt;(value: lhs.value, next: tail)\r\n    }\r\n\r\n\r\n  [1]: https://www.google.com/search?q=avl%20swift&amp;oq=avl%20swift&amp;aqs=chrome..69i57j69i60l5.1086j0j4&amp;sourceid=chrome&amp;es_sm=119&amp;ie=UTF-8","title":"Reversing a linked list in Java, recursively","body":"<p>Inspired by <a href=\"https://www.google.com/search?q=avl%20swift&amp;oq=avl%20swift&amp;aqs=chrome..69i57j69i60l5.1086j0j4&amp;sourceid=chrome&amp;es_sm=119&amp;ie=UTF-8\" rel=\"nofollow\">an article</a> discussing immutable implementations of recursive data structures I put an alternate solution together using Swift.</p>\n\n<p>The leading answer documents solution by highlighting the following topics:</p>\n\n<ol>\n<li>What is the reverse of nil (the empty list)?\n\n<ul>\n<li>Does not matter here, because we have nil protection in Swift.</li>\n</ul></li>\n<li>What is the reverse of a one element list?\n\n<ul>\n<li>The element itself</li>\n</ul></li>\n<li>What is the reverse of an n element list?\n\n<ul>\n<li>The reverse of the second element on followed by the first element.</li>\n</ul></li>\n</ol>\n\n<p>I have called these out where applicable in the solution below.</p>\n\n<pre><code>/**\n Node is a class that stores an arbitrary value of generic type T \n and a pointer to another Node of the same time.  This is a recursive \n data structure representative of a member of a unidirectional linked\n list.\n */\npublic class Node&lt;T&gt; {\n    public let value: T\n    public let next: Node&lt;T&gt;?\n\n    public init(value: T, next: Node&lt;T&gt;?) {\n        self.value = value\n        self.next = next\n    }\n\n    public func reversedList() -&gt; Node&lt;T&gt; {\n        if let next = self.next {\n            // 3. The reverse of the second element on followed by the first element.\n            return next.reversedList() + value\n        } else {\n            // 2. Reverse of a one element list is itself\n            return self\n        }\n    }\n}\n\n/**\n @return Returns a newly created Node consisting of the lhs list appended with rhs value.\n */\npublic func +&lt;T&gt;(lhs: Node&lt;T&gt;, rhs: T) -&gt; Node&lt;T&gt; {\n    let tail: Node&lt;T&gt;?\n    if let next = lhs.next {\n        // The new tail is created recursively, as long as there is a next node.\n        tail = next + rhs\n    } else {\n        // If there is not a next node, create a new tail node to append\n        tail = Node&lt;T&gt;(value: rhs, next: nil)\n    }\n    // Return a newly created Node consisting of the lhs list appended with rhs value.\n    return Node&lt;T&gt;(value: lhs.value, next: tail)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3458496,"reputation":1319,"user_id":2896382,"display_name":"gurubelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465399971,"creation_date":1465366096,"answer_id":37694481,"question_id":354875,"body_markdown":" Reversing the linked list using recursion. The idea is adjusting the links by reversing the links.\r\n     \r\n\r\n \r\n\r\n      public ListNode reverseR(ListNode p) {\r\n    \r\n           //Base condition, Once you reach the last node,return p                                           \r\n    \t\tif (p == null || p.next == null) { \r\n    \t\t\treturn p;\r\n    \t\t}\r\n           //Go on making the recursive call till reach the last node,now head points to the last node\r\n\r\n    \t\tListNode head  = reverseR(p.next);  //Head points to the last node\r\n\r\n           //Here, p points to the last but one node(previous node),  q points to the last   node. Then next next step is to adjust the links\r\n    \t\tListNode q = p.next; \r\n           \r\n           //Last node link points to the P (last but one node)\r\n    \t\tq.next = p; \r\n           //Set the last but node (previous node) next to null\r\n    \t\tp.next = null; \r\n    \t\treturn head; //Head points to the last node\r\n    \t}","title":"Reversing a linked list in Java, recursively","body":"<p>Reversing the linked list using recursion. The idea is adjusting the links by reversing the links.</p>\n\n<pre><code>  public ListNode reverseR(ListNode p) {\n\n       //Base condition, Once you reach the last node,return p                                           \n        if (p == null || p.next == null) { \n            return p;\n        }\n       //Go on making the recursive call till reach the last node,now head points to the last node\n\n        ListNode head  = reverseR(p.next);  //Head points to the last node\n\n       //Here, p points to the last but one node(previous node),  q points to the last   node. Then next next step is to adjust the links\n        ListNode q = p.next; \n\n       //Last node link points to the P (last but one node)\n        q.next = p; \n       //Set the last but node (previous node) next to null\n        p.next = null; \n        return head; //Head points to the last node\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1101371,"reputation":1116,"user_id":1093700,"display_name":"Shafqat"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1471835647,"creation_date":1471835647,"answer_id":39070902,"question_id":354875,"body_markdown":"Here is C# version of Reverse for linklist.\r\n\r\n        public void Reverse()\r\n        {\r\n            Node currentNode, nextNode=null, prevNode=null;\r\n            currentNode = head;\r\n            while(currentNode!=null)\r\n            {\r\n                nextNode = currentNode.next;\r\n                currentNode.next = prevNode;\r\n                prevNode = currentNode;\r\n                currentNode = nextNode;\r\n            }\r\n            head = prevNode;\r\n        }  ","title":"Reversing a linked list in Java, recursively","body":"<p>Here is C# version of Reverse for linklist.</p>\n\n<pre><code>    public void Reverse()\n    {\n        Node currentNode, nextNode=null, prevNode=null;\n        currentNode = head;\n        while(currentNode!=null)\n        {\n            nextNode = currentNode.next;\n            currentNode.next = prevNode;\n            prevNode = currentNode;\n            currentNode = nextNode;\n        }\n        head = prevNode;\n    }  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495778529,"creation_date":1495778529,"answer_id":44194643,"question_id":354875,"body_markdown":"\r\n\r\n    public void reverseLinkedList(Node node){\r\n    \tif(node==null){\r\n    \t\treturn;\r\n    \t}\r\n    \t\r\n    \treverseLinkedList(node.next);\r\n    \tNode temp = node.next;\r\n    \tnode.next=node.prev;\r\n    \tnode.prev=temp;\r\n        return;\r\n    }","title":"Reversing a linked list in Java, recursively","body":"<pre><code>public void reverseLinkedList(Node node){\n    if(node==null){\n        return;\n    }\n\n    reverseLinkedList(node.next);\n    Node temp = node.next;\n    node.next=node.prev;\n    node.prev=temp;\n    return;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":343097,"reputation":115,"user_id":674595,"display_name":"jtroconisa"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638591327,"creation_date":1638591327,"answer_id":70222976,"question_id":354875,"body_markdown":"Solution in javascript (recursive) :\r\n\r\n    function reverse_linked_list_1(node){\r\n        function reverse_linked_list_1(node, result){\r\n            return node ? reverse_linked_list_1(node.next, {data: node.data, next: result}) : result;\r\n        }\r\n        return reverse_linked_list_1(node, null);\r\n    }","title":"Reversing a linked list in Java, recursively","body":"<p>Solution in javascript (recursive) :</p>\n<pre><code>function reverse_linked_list_1(node){\n    function reverse_linked_list_1(node, result){\n        return node ? reverse_linked_list_1(node.next, {data: node.data, next: result}) : result;\n    }\n    return reverse_linked_list_1(node, null);\n}\n</code></pre>\n"}],"owner":{"account_id":18116,"reputation":39298,"user_id":41200,"accept_rate":73,"display_name":"sdellysse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190301,"favorite_count":0,"down_vote_count":0,"up_vote_count":108,"accepted_answer_id":354937,"answer_count":33,"score":108,"last_activity_date":1638591327,"creation_date":1228873918,"question_id":354875,"body_markdown":"I have been working on a Java project for a class for a while now. It is an implementation of a linked list (here called `AddressList`, containing simple nodes called `ListNode`). The catch is that everything would have to be done with recursive algorithms. I was able to do everything fine sans one method: `public AddressList reverse()`    \r\n\r\nListNode:  \r\n\r\n    public class ListNode{\r\n      public String data;\r\n      public ListNode next;\r\n    }\r\n\r\nRight now my `reverse` function just calls a helper function that takes an argument to allow recursion.\r\n\r\n    public AddressList reverse(){\r\n      return new AddressList(this.reverse(this.head));\r\n    }\r\n\r\nWith my helper function having the signature of `private ListNode reverse(ListNode current)`.\r\n\r\nAt the moment, I have it working iteratively using a stack, but this is not what the specification requires. I had found an algorithm in C that recursively reversed and converted it to Java code by hand, and it worked, but I had no understanding of it.\r\n\r\nEdit: Nevermind, I figured it out in the meantime.\r\n    \r\n    private AddressList reverse(ListNode current, AddressList reversedList){\r\n      if(current == null) \r\n          return reversedList;\r\n      reversedList.addToFront(current.getData());\r\n      return this.reverse(current.getNext(), reversedList);\r\n    }\r\n\r\nWhile I&#39;m here, does anyone see any problems with this route?\r\n","title":"Reversing a linked list in Java, recursively","body":"<p>I have been working on a Java project for a class for a while now. It is an implementation of a linked list (here called <code>AddressList</code>, containing simple nodes called <code>ListNode</code>). The catch is that everything would have to be done with recursive algorithms. I was able to do everything fine sans one method: <code>public AddressList reverse()</code>    </p>\n\n<p>ListNode:  </p>\n\n<pre><code>public class ListNode{\n  public String data;\n  public ListNode next;\n}\n</code></pre>\n\n<p>Right now my <code>reverse</code> function just calls a helper function that takes an argument to allow recursion.</p>\n\n<pre><code>public AddressList reverse(){\n  return new AddressList(this.reverse(this.head));\n}\n</code></pre>\n\n<p>With my helper function having the signature of <code>private ListNode reverse(ListNode current)</code>.</p>\n\n<p>At the moment, I have it working iteratively using a stack, but this is not what the specification requires. I had found an algorithm in C that recursively reversed and converted it to Java code by hand, and it worked, but I had no understanding of it.</p>\n\n<p>Edit: Nevermind, I figured it out in the meantime.</p>\n\n<pre><code>private AddressList reverse(ListNode current, AddressList reversedList){\n  if(current == null) \n      return reversedList;\n  reversedList.addToFront(current.getData());\n  return this.reverse(current.getNext(), reversedList);\n}\n</code></pre>\n\n<p>While I'm here, does anyone see any problems with this route?</p>\n"},{"tags":["java","android","database","sqlite","android-room"],"answers":[{"tags":[],"owner":{"account_id":2786826,"reputation":2172,"user_id":2398000,"display_name":"avalerio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638591222,"creation_date":1638591222,"answer_id":70222974,"question_id":70222500,"body_markdown":"If you are using the same exact `RoomDatabase` object simply building another one over the same object will prevent any hold over cached data from showing up. I&#39;ve tested this using multiple database swaps large and small and there is no bleed over.\r\n\r\nIf you are using a new Instance of the `RoomDatabase` object for every login try closing the old one after the user logs out. Room will typically close when not needed but if you need it to happen immediately, manually closing it is your best bet. \r\n\r\n\r\n    roomDb.getOpenHelper().close();","title":"Application gives data from deleted database file in Android","body":"<p>If you are using the same exact <code>RoomDatabase</code> object simply building another one over the same object will prevent any hold over cached data from showing up. I've tested this using multiple database swaps large and small and there is no bleed over.</p>\n<p>If you are using a new Instance of the <code>RoomDatabase</code> object for every login try closing the old one after the user logs out. Room will typically close when not needed but if you need it to happen immediately, manually closing it is your best bet.</p>\n<pre><code>roomDb.getOpenHelper().close();\n</code></pre>\n"}],"owner":{"account_id":17356419,"reputation":305,"user_id":12573698,"display_name":"Edward Aarma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70222974,"answer_count":1,"score":1,"last_activity_date":1638591222,"creation_date":1638583591,"question_id":70222500,"body_markdown":"I have been working on getting my database backing up to work and I have reached a point where I am not sure what to do.\r\n\r\nBasically at first the application opens a Login activity, the user logs in and their database file (if it exists) is downloaded from the Firebase Storage, and then the application navigates to the MainActivity. \r\n\r\nIn the MainActivity I call a method that sends the user&#39;s database file to Firebase Storage. I tried to manage the process by closing the database but since i couldn&#39;t fix an error of &quot;E/ROOM: Invalidation tracker is initialized twice :/.&quot;, then I found an answer to use a checkpoint (https://stackoverflow.com/questions/50987119/backup-room-database). Now I implemented the forced checkpoint method.\r\n```\r\n(MarkerDao)\r\n    @RawQuery\r\n    int checkpoint(SupportSQLiteQuery supportSQLiteQuery);\r\n```\r\n```\r\n(MarkerRepository)\r\n public void checkPoint(){\r\n        Thread thread= new Thread(() -&gt;  markerDao.checkpoint(new SimpleSQLiteQuery(&quot;pragma wal_checkpoint(full)&quot;)));\r\n        thread.start();\r\n    }\r\n```\r\n```\r\n(ViewModel)\r\n    public void setCheckpoint(){\r\n        repository.checkPoint();\r\n    }\r\n\r\n```\r\n```\r\n(Database back-up method in the MainActivity)\r\n    private void copyDbToFirebase(){\r\n        String currentDBPath = &quot;/data/data/&quot;+ getPackageName() + &quot;/databases/locations_table&quot;;\r\n        File dbBackupFile = new File(currentDBPath);\r\n        if (dbBackupFile.exists()){\r\n            markerViewModel.setCheckpoint();\r\n            // create file from the database path and convert it to a URI\r\n            Uri backupDB = Uri.fromFile(new File(currentDBPath));\r\n            // Create a StorageReference\r\n            StorageReference dbReference = storageRef.child(&quot;users&quot;).child(userId).child(&quot;user database&quot;).child(&quot;locations_table&quot;);\r\n            // Use the StorageReference to upload the file\r\n            if (userId != null){\r\n                dbReference.putFile(backupDB).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                    @Override\r\n                    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                        Log.d(TAG, &quot;onSuccess: &quot;+4 + taskSnapshot);\r\n                        Toast.makeText(getApplicationContext(), &quot;Database copied to Firebase 4&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                }).addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Log.d(TAG, &quot;onFailure: &quot;+ e.getMessage());\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n```\r\nIf the user logs out, then the files in the &quot;/data/data/&quot;+ getPackageName() + &quot;/databases/&quot; are deleted, which I have manually confirmed by looking at the databases folder of the application.\r\n\r\nMy issue is that after the databases are deleted and a new user logs in, then the previous database data remains but when I manually check the app&#39;s data folder, then the /databases/ folder shows that the files were deleted and a new file is created but it doesn&#39;t show any WAL or SHM files and also I get the data of another database which is created when the application first runs, but that file is also not shown in the databases/ folder.\r\n\r\nCan anyone explain why the folder doesn&#39;t show the files that should be present, where is the application getting the data that was deleted and how to fix it. \r\n\r\nEdit: My application has multiple Room databases and I just realized that all the data is still readable after the files were deleted.\r\n\r\nThe method to delete the database files\r\n```\r\n  private boolean deleteDatabaseFiles(File path) {\r\n        if(path.exists() ) {\r\n            File[] files = path.listFiles();\r\n            for(int i=0; i&lt;files.length; i++) {\r\n                if(files[i].isDirectory()) {\r\n                    deleteDatabaseFiles(files[i]);\r\n                }\r\n                else {\r\n                    files[i].delete();\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n```","title":"Application gives data from deleted database file in Android","body":"<p>I have been working on getting my database backing up to work and I have reached a point where I am not sure what to do.</p>\n<p>Basically at first the application opens a Login activity, the user logs in and their database file (if it exists) is downloaded from the Firebase Storage, and then the application navigates to the MainActivity.</p>\n<p>In the MainActivity I call a method that sends the user's database file to Firebase Storage. I tried to manage the process by closing the database but since i couldn't fix an error of &quot;E/ROOM: Invalidation tracker is initialized twice :/.&quot;, then I found an answer to use a checkpoint (<a href=\"https://stackoverflow.com/questions/50987119/backup-room-database\">Backup Room database</a>). Now I implemented the forced checkpoint method.</p>\n<pre><code>(MarkerDao)\n    @RawQuery\n    int checkpoint(SupportSQLiteQuery supportSQLiteQuery);\n</code></pre>\n<pre><code>(MarkerRepository)\n public void checkPoint(){\n        Thread thread= new Thread(() -&gt;  markerDao.checkpoint(new SimpleSQLiteQuery(&quot;pragma wal_checkpoint(full)&quot;)));\n        thread.start();\n    }\n</code></pre>\n<pre><code>(ViewModel)\n    public void setCheckpoint(){\n        repository.checkPoint();\n    }\n\n</code></pre>\n<pre><code>(Database back-up method in the MainActivity)\n    private void copyDbToFirebase(){\n        String currentDBPath = &quot;/data/data/&quot;+ getPackageName() + &quot;/databases/locations_table&quot;;\n        File dbBackupFile = new File(currentDBPath);\n        if (dbBackupFile.exists()){\n            markerViewModel.setCheckpoint();\n            // create file from the database path and convert it to a URI\n            Uri backupDB = Uri.fromFile(new File(currentDBPath));\n            // Create a StorageReference\n            StorageReference dbReference = storageRef.child(&quot;users&quot;).child(userId).child(&quot;user database&quot;).child(&quot;locations_table&quot;);\n            // Use the StorageReference to upload the file\n            if (userId != null){\n                dbReference.putFile(backupDB).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                    @Override\n                    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                        Log.d(TAG, &quot;onSuccess: &quot;+4 + taskSnapshot);\n                        Toast.makeText(getApplicationContext(), &quot;Database copied to Firebase 4&quot;, Toast.LENGTH_LONG).show();\n                    }\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Log.d(TAG, &quot;onFailure: &quot;+ e.getMessage());\n                    }\n                });\n            }\n        }\n    }\n</code></pre>\n<p>If the user logs out, then the files in the &quot;/data/data/&quot;+ getPackageName() + &quot;/databases/&quot; are deleted, which I have manually confirmed by looking at the databases folder of the application.</p>\n<p>My issue is that after the databases are deleted and a new user logs in, then the previous database data remains but when I manually check the app's data folder, then the /databases/ folder shows that the files were deleted and a new file is created but it doesn't show any WAL or SHM files and also I get the data of another database which is created when the application first runs, but that file is also not shown in the databases/ folder.</p>\n<p>Can anyone explain why the folder doesn't show the files that should be present, where is the application getting the data that was deleted and how to fix it.</p>\n<p>Edit: My application has multiple Room databases and I just realized that all the data is still readable after the files were deleted.</p>\n<p>The method to delete the database files</p>\n<pre><code>  private boolean deleteDatabaseFiles(File path) {\n        if(path.exists() ) {\n            File[] files = path.listFiles();\n            for(int i=0; i&lt;files.length; i++) {\n                if(files[i].isDirectory()) {\n                    deleteDatabaseFiles(files[i]);\n                }\n                else {\n                    files[i].delete();\n                }\n            }\n        }\n        return true;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638587834,"creation_date":1638586004,"answer_id":70222662,"question_id":70222184,"body_markdown":"for the tutorial/lesson, it is ok when you (try to) rename/refactor:\r\n\r\n- the roles (useres, admins ... roles or authorities? tomayto, tomahto (just prepend/cutoff a `ROLE_`;)\r\n- the db columns.\r\n\r\nBut the least intrusive and quite efficient (for only 2 roles/few combinations) approach would be like:\r\n\r\n    // adjust to requirements:\r\n    static final String REGEX_USERS = &quot;student&quot;; // exact match\r\n    static final String REGEX_ADMINS = &quot;(teacher|principal)&quot;; // group OR match\r\n    static final String AUTH_ADMINS = &quot;ADMINS&quot;;\r\n    static final String AUTH_USERS = &quot;USERS&quot;;\r\n\r\n...and then:\r\n\r\n    this.authorities = Arrays.stream(\r\n             user\r\n             .getTheType()\r\n             .replaceAll(REGEX_USERS, USERS)\r\n             .replaceAll(REGEX_ADMINS, ADMINS)\r\n             .split(&quot;,&quot;)\r\n           )\r\n           .map(SimpleGrantedAuthority::new)\r\n           .collect(Collectors.toList());\r\n\r\n\r\nA standalone test:\r\n\r\n\r\n    package com.example.demo;\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    import org.springframework.security.core.GrantedAuthority;\r\n    import org.springframework.security.core.authority.SimpleGrantedAuthority;\r\n\r\n    class TestO {\r\n\r\n      static final String REGEX_USERS = &quot;student&quot;;\r\n      static final String REGEX_ADMINS = &quot;(teacher|principal)&quot;;\r\n\r\n      static final String AUTH_ADMINS = &quot;ADMINS&quot;;\r\n      static final String AUTH_USERS = &quot;USERS&quot;;\r\n\r\n      public static void main(String[] args) {\r\n\r\n        String testData1 = &quot;student&quot;;\r\n        String testData2 = &quot;teacher,principal&quot;;\r\n        List&lt;GrantedAuthority&gt; result1 = Arrays.stream(testData1\r\n            .replaceAll(REGEX_USERS, AUTH_USERS)\r\n            .replaceAll(REGEX_ADMINS, AUTH_ADMINS)\r\n            .split(&quot;,&quot;))\r\n            .map(SimpleGrantedAuthority::new)\r\n            .collect(Collectors.toList());\r\n        System.out.format(&quot;%s%n&quot;, result1);\r\n        List&lt;GrantedAuthority&gt; result2 = Arrays.stream(testData2\r\n            .replaceAll(REGEX_USERS, AUTH_USERS)\r\n            .replaceAll(REGEX_ADMINS, AUTH_ADMINS)\r\n            .split(&quot;,&quot;))\r\n            .map(SimpleGrantedAuthority::new)\r\n            .collect(Collectors.toList());\r\n        System.out.format(&quot;%s%n&quot;, result2);\r\n\r\n      }\r\n    }\r\n\r\nPrints:\r\n\r\n    [USERS]\r\n    [ADMINS, ADMINS]\r\n\r\n\r\n----------\r\n\r\n\r\nIf my assumptions(!) about role-mappings were correct:\r\n- all `student` are `USERS`\r\n- all `teacher` are `ADMINS`\r\n- there is only 1 (few) `principal` ..and also `ADMIN` (and also `teacher` ?? ...please! school systems vary widely...;-)\r\n- `principal` is the only one who has a comma in his (authority) list!? \r\n- (no `student` is `teacher`!?)\r\n\r\nThen probably (and in any &quot;granted authority specific&quot; case):\r\n\r\n    private java.util.Set&lt;GrantedAuthority&gt; authorities;\r\n\r\n...then also:\r\n\r\n    Collectors.toSet() // + refacotrings\r\n\r\n\r\nis preferrable! (https://stackoverflow.com/q/1035008/592355 !;)\r\n\r\nSo:\r\n\r\n    Set&lt;GrantedAuthority&gt; result2 = Arrays.stream(testData2\r\n            .replaceAll(REGEX_USERS, &quot;USERS&quot;)\r\n            .replaceAll(REGEX_ADMINS, &quot;ADMINS&quot;)\r\n            .split(&quot;,&quot;))\r\n            .map(SimpleGrantedAuthority::new)\r\n            .collect(Collectors.toSet());\r\n    System.out.format(&quot;%s%n&quot;, result2);\r\n\r\nPrints:\r\n\r\n    ...\r\n    [ADMINS]\r\n\r\nSee also (reg. *efficient* string replacement):\r\n\r\nhttps://stackoverflow.com/q/1326682/592355","title":"spring boot security- adding custom role names","body":"<p>for the tutorial/lesson, it is ok when you (try to) rename/refactor:</p>\n<ul>\n<li>the roles (useres, admins ... roles or authorities? tomayto, tomahto (just prepend/cutoff a <code>ROLE_</code>;)</li>\n<li>the db columns.</li>\n</ul>\n<p>But the least intrusive and quite efficient (for only 2 roles/few combinations) approach would be like:</p>\n<pre><code>// adjust to requirements:\nstatic final String REGEX_USERS = &quot;student&quot;; // exact match\nstatic final String REGEX_ADMINS = &quot;(teacher|principal)&quot;; // group OR match\nstatic final String AUTH_ADMINS = &quot;ADMINS&quot;;\nstatic final String AUTH_USERS = &quot;USERS&quot;;\n</code></pre>\n<p>...and then:</p>\n<pre><code>this.authorities = Arrays.stream(\n         user\n         .getTheType()\n         .replaceAll(REGEX_USERS, USERS)\n         .replaceAll(REGEX_ADMINS, ADMINS)\n         .split(&quot;,&quot;)\n       )\n       .map(SimpleGrantedAuthority::new)\n       .collect(Collectors.toList());\n</code></pre>\n<p>A standalone test:</p>\n<pre><code>package com.example.demo;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\n\nclass TestO {\n\n  static final String REGEX_USERS = &quot;student&quot;;\n  static final String REGEX_ADMINS = &quot;(teacher|principal)&quot;;\n\n  static final String AUTH_ADMINS = &quot;ADMINS&quot;;\n  static final String AUTH_USERS = &quot;USERS&quot;;\n\n  public static void main(String[] args) {\n\n    String testData1 = &quot;student&quot;;\n    String testData2 = &quot;teacher,principal&quot;;\n    List&lt;GrantedAuthority&gt; result1 = Arrays.stream(testData1\n        .replaceAll(REGEX_USERS, AUTH_USERS)\n        .replaceAll(REGEX_ADMINS, AUTH_ADMINS)\n        .split(&quot;,&quot;))\n        .map(SimpleGrantedAuthority::new)\n        .collect(Collectors.toList());\n    System.out.format(&quot;%s%n&quot;, result1);\n    List&lt;GrantedAuthority&gt; result2 = Arrays.stream(testData2\n        .replaceAll(REGEX_USERS, AUTH_USERS)\n        .replaceAll(REGEX_ADMINS, AUTH_ADMINS)\n        .split(&quot;,&quot;))\n        .map(SimpleGrantedAuthority::new)\n        .collect(Collectors.toList());\n    System.out.format(&quot;%s%n&quot;, result2);\n\n  }\n}\n</code></pre>\n<p>Prints:</p>\n<pre><code>[USERS]\n[ADMINS, ADMINS]\n</code></pre>\n<hr />\n<p>If my assumptions(!) about role-mappings were correct:</p>\n<ul>\n<li>all <code>student</code> are <code>USERS</code></li>\n<li>all <code>teacher</code> are <code>ADMINS</code></li>\n<li>there is only 1 (few) <code>principal</code> ..and also <code>ADMIN</code> (and also <code>teacher</code> ?? ...please! school systems vary widely...;-)</li>\n<li><code>principal</code> is the only one who has a comma in his (authority) list!?</li>\n<li>(no <code>student</code> is <code>teacher</code>!?)</li>\n</ul>\n<p>Then probably (and in any &quot;granted authority specific&quot; case):</p>\n<pre><code>private java.util.Set&lt;GrantedAuthority&gt; authorities;\n</code></pre>\n<p>...then also:</p>\n<pre><code>Collectors.toSet() // + refacotrings\n</code></pre>\n<p>is preferrable! (<a href=\"https://stackoverflow.com/q/1035008/592355\">What is the difference between Set and List?</a> !;)</p>\n<p>So:</p>\n<pre><code>Set&lt;GrantedAuthority&gt; result2 = Arrays.stream(testData2\n        .replaceAll(REGEX_USERS, &quot;USERS&quot;)\n        .replaceAll(REGEX_ADMINS, &quot;ADMINS&quot;)\n        .split(&quot;,&quot;))\n        .map(SimpleGrantedAuthority::new)\n        .collect(Collectors.toSet());\nSystem.out.format(&quot;%s%n&quot;, result2);\n</code></pre>\n<p>Prints:</p>\n<pre><code>...\n[ADMINS]\n</code></pre>\n<p>See also (reg. <em>efficient</em> string replacement):</p>\n<p><a href=\"https://stackoverflow.com/q/1326682/592355\">Java Replacing multiple different substring in a string at once (or in the most efficient way)</a></p>\n"}],"owner":{"account_id":21896433,"reputation":258,"user_id":16182652,"display_name":"Morello"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1468,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70222662,"answer_count":1,"score":2,"last_activity_date":1638587834,"creation_date":1638579067,"question_id":70222184,"body_markdown":"I am following a spring boot JPA authentication security tutorial. I have set up authentication for USERS and ADMINS.\r\n\r\nhowever in MySQL database i have custom roles such as &#39;principal&#39; and &#39;teacher&#39; and &#39;student&#39;\r\n\r\nHow can I add these custom roles to my authentication.\r\n\r\nI am assuming I need to do this in the UserDetails class. here is my code so far\r\n\r\n\r\n    import org.springframework.security.core.GrantedAuthority;\r\n    import org.springframework.security.core.authority.SimpleGrantedAuthority;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class UserDetails implements UserDetails {\r\n    \r\n        private String username;\r\n        private String password;\r\n        private boolean active;\r\n        private List&lt;GrantedAuthority&gt; authorities;\r\n    \r\n        public MyUserDetails(User user) {\r\n            this.username = user.getUsername();\r\n            this.password = user.getPassword();\r\n            this.active = user.isActive();\r\n            this.authorities = Arrays.stream(user.getTheType().split(&quot;,&quot;))\r\n                    .map(SimpleGrantedAuthority::new)\r\n                    .collect(Collectors.toList());\r\n        }\r\n    \r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n            return authorities;\r\n        }\r\n    \r\n        @Override\r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        @Override\r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonLocked() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCredentialsNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnabled() {\r\n            return active;\r\n        }\r\n    }","title":"spring boot security- adding custom role names","body":"<p>I am following a spring boot JPA authentication security tutorial. I have set up authentication for USERS and ADMINS.</p>\n<p>however in MySQL database i have custom roles such as 'principal' and 'teacher' and 'student'</p>\n<p>How can I add these custom roles to my authentication.</p>\n<p>I am assuming I need to do this in the UserDetails class. here is my code so far</p>\n<pre><code>import org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class UserDetails implements UserDetails {\n\n    private String username;\n    private String password;\n    private boolean active;\n    private List&lt;GrantedAuthority&gt; authorities;\n\n    public MyUserDetails(User user) {\n        this.username = user.getUsername();\n        this.password = user.getPassword();\n        this.active = user.isActive();\n        this.authorities = Arrays.stream(user.getTheType().split(&quot;,&quot;))\n                .map(SimpleGrantedAuthority::new)\n                .collect(Collectors.toList());\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return authorities;\n    }\n\n    @Override\n    public String getPassword() {\n        return password;\n    }\n\n    @Override\n    public String getUsername() {\n        return username;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return active;\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1638568863,"post_id":70221098,"comment_id":124132601,"body_markdown":"A &quot;queue&quot; really isn&#39;t supposed to be &quot;sorted&quot;.  Q Why not just 1) use your LinkedList&lt;int&gt; (or an ArrayList&lt;int&gt;), 2) Add every other element from your input string (change &quot;i++&quot; to &quot;i += 2&quot;, 3) sort the List when you&#39;re done?","body":"A &quot;queue&quot; really isn&#39;t supposed to be &quot;sorted&quot;.  Q Why not just 1) use your LinkedList&lt;int&gt; (or an ArrayList&lt;int&gt;), 2) Add every other element from your input string (change &quot;i++&quot; to &quot;i += 2&quot;, 3) sort the List when you&#39;re done?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1638569272,"post_id":70221098,"comment_id":124132695,"body_markdown":"Unrelated, but why are you doing `Integer.parseInt(s.charAt(i) + &quot;&quot;)`?","body":"Unrelated, but why are you doing <code>Integer.parseInt(s.charAt(i) + &quot;&quot;)</code>?"},{"owner":{"account_id":22764757,"reputation":3,"user_id":16922982,"display_name":"Pippoot"},"score":0,"creation_date":1638569603,"post_id":70221098,"comment_id":124132763,"body_markdown":"@paulsm4, I&#39;m not sure what you mean by sorting, could you elaborate please?","body":"@paulsm4, I&#39;m not sure what you mean by sorting, could you elaborate please?"},{"owner":{"account_id":22764757,"reputation":3,"user_id":16922982,"display_name":"Pippoot"},"score":0,"creation_date":1638569628,"post_id":70221098,"comment_id":124132766,"body_markdown":"@OneCricketeer, it&#39;s so I can store each individual integer from the String into my queue","body":"@OneCricketeer, it&#39;s so I can store each individual integer from the String into my queue"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1638569683,"post_id":70221098,"comment_id":124132784,"body_markdown":"Why not make a loop from 1 to 6? You don&#39;t need a string","body":"Why not make a loop from 1 to 6? You don&#39;t need a string"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1638569739,"post_id":70221098,"comment_id":124132797,"body_markdown":"@Pippoot: your code has a variable named &quot;sort&quot;; so silly me thought you wanted the data &quot;sorted&quot;.  ANYWAY: 1) you don&#39;t need a queue; 2) you can make the code a lot simpler/a lot shorter.","body":"@Pippoot: your code has a variable named &quot;sort&quot;; so silly me thought you wanted the data &quot;sorted&quot;.  ANYWAY: 1) you don&#39;t need a queue; 2) you can make the code a lot simpler/a lot shorter."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638570045,"creation_date":1638569771,"answer_id":70221237,"question_id":70221098,"body_markdown":"Just build the list differently. No queue required. \r\n\r\nYou can add half the numbers at the start, the add the rest in-between each. \r\n\r\n    List&lt;Integer&gt; nums = new ArrayList&lt;&gt;();\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n    int limit = sc.nextInt(); // 6\r\n    int value = 1;\r\n    for (int i = 0; i &lt; limit / 2; i++) {\r\n      nums.add(value++);\r\n    }\r\n    for (int i = 1; i &lt; limit; i+=2) {\r\n      nums.add(i, value++);\r\n    }\r\n    System.out.println(nums); // [1, 4, 2, 5, 3, 6]","title":"Using queue to rearrange every other integer","body":"<p>Just build the list differently. No queue required.</p>\n<p>You can add half the numbers at the start, the add the rest in-between each.</p>\n<pre><code>List&lt;Integer&gt; nums = new ArrayList&lt;&gt;();\n\nScanner sc = new Scanner(System.in);\nint limit = sc.nextInt(); // 6\nint value = 1;\nfor (int i = 0; i &lt; limit / 2; i++) {\n  nums.add(value++);\n}\nfor (int i = 1; i &lt; limit; i+=2) {\n  nums.add(i, value++);\n}\nSystem.out.println(nums); // [1, 4, 2, 5, 3, 6]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638586639,"creation_date":1638585623,"answer_id":70222628,"question_id":70221098,"body_markdown":"I would just add them one after the other in a single loop.  The second element is simply the current one plus the offset where the offset is half the array length.\r\n- read in the number as a string.\r\n- and work with the character array of digits.\r\n```\r\nScanner input = new Scanner(System.in);\r\nString val = input.next();\r\nList&lt;Integer&gt; result  =new ArrayList&lt;&gt;();\r\n\r\nchar[] digits = val.toCharArray();\r\nint half = digits.length/2;\r\nfor(int i = 0; i &lt; half; i++) {\r\n\tresult.add(digits[i]-&#39;0&#39;);\r\n\tresult.add(digits[i+half]-&#39;0&#39;);\r\n}\r\nSystem.out.println(result);\r\n```\r\nFor an input of `123456`, prints\r\n```\r\n[1, 4, 2, 5, 3, 6]\r\n\r\n","title":"Using queue to rearrange every other integer","body":"<p>I would just add them one after the other in a single loop.  The second element is simply the current one plus the offset where the offset is half the array length.</p>\n<ul>\n<li>read in the number as a string.</li>\n<li>and work with the character array of digits.</li>\n</ul>\n<pre><code>Scanner input = new Scanner(System.in);\nString val = input.next();\nList&lt;Integer&gt; result  =new ArrayList&lt;&gt;();\n\nchar[] digits = val.toCharArray();\nint half = digits.length/2;\nfor(int i = 0; i &lt; half; i++) {\n    result.add(digits[i]-'0');\n    result.add(digits[i+half]-'0');\n}\nSystem.out.println(result);\n</code></pre>\n<p>For an input of <code>123456</code>, prints</p>\n<pre><code>[1, 4, 2, 5, 3, 6]\n\n</code></pre>\n"}],"owner":{"account_id":22764757,"reputation":3,"user_id":16922982,"display_name":"Pippoot"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70221237,"answer_count":2,"score":-1,"last_activity_date":1638586639,"creation_date":1638568576,"question_id":70221098,"body_markdown":"I&#39;m trying to figure out how to take in an integer and rearrange them so that every alternating character is saved (So the [1, 2, 3, 4, 5, 6] would return [1, 4, 2, 5, 3, 6]). I think a queue would be the best to use for this problem so here&#39;s what I have so far. It returns [3, 1, 4, 5, 2, 6], but I&#39;m not sure how I can get it to return the alternating form above :\r\n\r\n    import java.util.*;\r\n    public class everyOtherInteger {\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tQueue &lt;Integer&gt; sort = new LinkedList&lt;Integer&gt;();\r\n\t\tString s = &quot;123456&quot;;\t\r\n\r\n\t\tfor (int i = 0; i &lt; s.length(); i++) {\r\n\t\t\tsort.add(Integer.parseInt(s.charAt(i) + &quot;&quot;));\r\n\r\n\t\t\tif (i%2 == 0) {\r\n\t\t\t\tint a = sort.remove();\r\n\t\t\t\tsort.add(a);\r\n\t\t\t}\r\n\t\t\telse {\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(sort);\r\n\t}\r\n}","title":"Using queue to rearrange every other integer","body":"<p>I'm trying to figure out how to take in an integer and rearrange them so that every alternating character is saved (So the [1, 2, 3, 4, 5, 6] would return [1, 4, 2, 5, 3, 6]). I think a queue would be the best to use for this problem so here's what I have so far. It returns [3, 1, 4, 5, 2, 6], but I'm not sure how I can get it to return the alternating form above :</p>\n<pre><code>import java.util.*;\npublic class everyOtherInteger {\npublic static void main(String[] args) {\n\n    Queue &lt;Integer&gt; sort = new LinkedList&lt;Integer&gt;();\n    String s = &quot;123456&quot;;    \n\n    for (int i = 0; i &lt; s.length(); i++) {\n        sort.add(Integer.parseInt(s.charAt(i) + &quot;&quot;));\n\n        if (i%2 == 0) {\n            int a = sort.remove();\n            sort.add(a);\n        }\n        else {\n\n        }\n    }\n    \n    System.out.println(sort);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","sockets","exception","io"],"comments":[{"owner":{"account_id":364968,"reputation":45753,"user_id":709635,"accept_rate":91,"display_name":"plus-"},"score":0,"creation_date":1325498665,"post_id":8699521,"comment_id":10823082,"body_markdown":"can&#39;t you just filter it in your logger lib? do you use log4j?","body":"can&#39;t you just filter it in your logger lib? do you use log4j?"},{"owner":{"account_id":41250,"reputation":1103,"user_id":119823,"accept_rate":61,"display_name":"Neil Wightman"},"score":0,"creation_date":1325580116,"post_id":8699521,"comment_id":10839361,"body_markdown":"Yeah, I was thinking of adding a list of exception messages which can be ignored.  I would need to make this configurable so that customers can enter the localised strings though.","body":"Yeah, I was thinking of adding a list of exception messages which can be ignored.  I would need to make this configurable so that customers can enter the localised strings though."}],"answers":[{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1325498948,"creation_date":1325498948,"answer_id":8699570,"question_id":8699521,"body_markdown":"You could use the [getMessage()][1] method to see if the exception message is something of the sort:\r\n\r\n&gt; Connection reset by peer\r\n\r\nThis should not return a localized version of the error message. That seems to be done by the [getLocalizedMessage()][2]. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Throwable.html#getMessage%28%29\r\n  [2]: http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Throwable.html#getLocalizedMessage()","title":"Any way to ignore only &quot;connection reset by peer&quot; IOExceptions","body":"<p>You could use the <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Throwable.html#getMessage%28%29\" rel=\"nofollow\">getMessage()</a> method to see if the exception message is something of the sort:</p>\n\n<blockquote>\n  <p>Connection reset by peer</p>\n</blockquote>\n\n<p>This should not return a localized version of the error message. That seems to be done by the <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Throwable.html#getLocalizedMessage%28%29\" rel=\"nofollow\">getLocalizedMessage()</a>. </p>\n"},{"tags":[],"owner":{"account_id":6832,"reputation":6763,"user_id":11614,"accept_rate":67,"display_name":"Nrj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325498968,"creation_date":1325498968,"answer_id":8699574,"question_id":8699521,"body_markdown":"One way, since the connection is reset, you can try connect to the remote in the catch block itself. So if you still cant get through , that means the remote system is still down and you can repeat this / handle this accordingly.\r\nIf this was for a very short time and you are able to connect now, you can somehow reestablish the connection.\r\n\r\nOther way is to check by the exception content in catch block as described by @npinti\r\n","title":"Any way to ignore only &quot;connection reset by peer&quot; IOExceptions","body":"<p>One way, since the connection is reset, you can try connect to the remote in the catch block itself. So if you still cant get through , that means the remote system is still down and you can repeat this / handle this accordingly.\nIf this was for a very short time and you are able to connect now, you can somehow reestablish the connection.</p>\n\n<p>Other way is to check by the exception content in catch block as described by @npinti</p>\n"},{"tags":[],"owner":{"account_id":364905,"reputation":18691,"user_id":709537,"accept_rate":72,"display_name":"Evgeniy Berezovsky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638586589,"creation_date":1638585894,"answer_id":70222653,"question_id":8699521,"body_markdown":"This is not a solution in itself, it is just to prove that npinti&#39;s answer, which does sound reasonable, turned out to be inaccurate when I tried to confirm it, and is hence misleading developers to build solutions that don&#39;t work as expected on non-English systems:\r\n\r\n**Contrary to what one might expect, `IOException.getMessage()` returns the same localized string as `IOException.getLocalizedMessage()`**.\r\n\r\nWhen running this code\r\n```java\r\ntry {\r\n    client.read(byteBuf);\r\n} catch (IOException ioe) {\r\n    System.out.println(&quot;IOException.getMessage(): \\&quot;&quot; + ioe.getMessage() + &quot;\\&quot;&quot;);\r\n    System.out.println(&quot;IOException.getLocalizedMessage(): \\&quot;&quot; + ioe.getLocalizedMessage() + &quot;\\&quot;&quot;);\r\n    throw ioe;\r\n}\r\n```\r\non a Japanese Windows, the output is this:\r\n```\r\nIOException.getMessage(): &quot;Êó¢Â≠ò„ÅÆÊé•Á∂ö„ÅØ„É™„É¢„Éº„Éà „Éõ„Çπ„Éà„Å´Âº∑Âà∂ÁöÑ„Å´ÂàáÊñ≠„Åï„Çå„Åæ„Åó„Åü„ÄÇ&quot;\r\nIOException.getLocalizedMessage(): &quot;Êó¢Â≠ò„ÅÆÊé•Á∂ö„ÅØ„É™„É¢„Éº„Éà „Éõ„Çπ„Éà„Å´Âº∑Âà∂ÁöÑ„Å´ÂàáÊñ≠„Åï„Çå„Åæ„Åó„Åü„ÄÇ&quot;\r\nException in thread &quot;main&quot; java.io.IOException: Êó¢Â≠ò„ÅÆÊé•Á∂ö„ÅØ„É™„É¢„Éº„Éà „Éõ„Çπ„Éà„Å´Âº∑Âà∂ÁöÑ„Å´ÂàáÊñ≠„Åï„Çå„Åæ„Åó„Åü„ÄÇ\r\n        at java.base/sun.nio.ch.SocketDispatcher.read0(Native Method)\r\n        at java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)\r\n        at java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\r\n        at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:245)\r\n        at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\r\n        at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:353)\r\n        at Test.main(Test.java:21)\r\n```\r\n\r\nOn an English Linux it is this:\r\n```\r\nIOException.getMessage(): &quot;Connection reset by peer&quot;\r\nIOException.getLocalizedMessage(): &quot;Connection reset by peer&quot;\r\nException in thread &quot;main&quot; java.io.IOException: Connection reset by peer\r\n        at java.base/sun.nio.ch.FileDispatcherImpl.read0(Native Method)\r\n        at java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39)\r\n        at java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\r\n        at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:245)\r\n        at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\r\n        at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:353)\r\n        at Test.main(Test.java:21)\r\n```\r\n\r\nWindows Java version:\r\n```\r\nopenjdk version &quot;11.0.12&quot; 2021-07-20\r\nOpenJDK Runtime Environment Temurin-11.0.12+7 (build 11.0.12+7)\r\nOpenJDK 64-Bit Server VM Temurin-11.0.12+7 (build 11.0.12+7, mixed mode)\r\n```\r\nLinux Java version:\r\n```\r\nopenjdk version &quot;11.0.12&quot; 2021-07-20\r\nOpenJDK Runtime Environment (build 11.0.12+7-Ubuntu-0ubuntu3)\r\nOpenJDK 64-Bit Server VM (build 11.0.12+7-Ubuntu-0ubuntu3, mixed mode, sharing)\r\n```\r\n","title":"Any way to ignore only &quot;connection reset by peer&quot; IOExceptions","body":"<p>This is not a solution in itself, it is just to prove that npinti's answer, which does sound reasonable, turned out to be inaccurate when I tried to confirm it, and is hence misleading developers to build solutions that don't work as expected on non-English systems:</p>\n<p><strong>Contrary to what one might expect, <code>IOException.getMessage()</code> returns the same localized string as <code>IOException.getLocalizedMessage()</code></strong>.</p>\n<p>When running this code</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    client.read(byteBuf);\n} catch (IOException ioe) {\n    System.out.println(&quot;IOException.getMessage(): \\&quot;&quot; + ioe.getMessage() + &quot;\\&quot;&quot;);\n    System.out.println(&quot;IOException.getLocalizedMessage(): \\&quot;&quot; + ioe.getLocalizedMessage() + &quot;\\&quot;&quot;);\n    throw ioe;\n}\n</code></pre>\n<p>on a Japanese Windows, the output is this:</p>\n<pre><code>IOException.getMessage(): &quot;Êó¢Â≠ò„ÅÆÊé•Á∂ö„ÅØ„É™„É¢„Éº„Éà „Éõ„Çπ„Éà„Å´Âº∑Âà∂ÁöÑ„Å´ÂàáÊñ≠„Åï„Çå„Åæ„Åó„Åü„ÄÇ&quot;\nIOException.getLocalizedMessage(): &quot;Êó¢Â≠ò„ÅÆÊé•Á∂ö„ÅØ„É™„É¢„Éº„Éà „Éõ„Çπ„Éà„Å´Âº∑Âà∂ÁöÑ„Å´ÂàáÊñ≠„Åï„Çå„Åæ„Åó„Åü„ÄÇ&quot;\nException in thread &quot;main&quot; java.io.IOException: Êó¢Â≠ò„ÅÆÊé•Á∂ö„ÅØ„É™„É¢„Éº„Éà „Éõ„Çπ„Éà„Å´Âº∑Âà∂ÁöÑ„Å´ÂàáÊñ≠„Åï„Çå„Åæ„Åó„Åü„ÄÇ\n        at java.base/sun.nio.ch.SocketDispatcher.read0(Native Method)\n        at java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)\n        at java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\n        at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:245)\n        at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\n        at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:353)\n        at Test.main(Test.java:21)\n</code></pre>\n<p>On an English Linux it is this:</p>\n<pre><code>IOException.getMessage(): &quot;Connection reset by peer&quot;\nIOException.getLocalizedMessage(): &quot;Connection reset by peer&quot;\nException in thread &quot;main&quot; java.io.IOException: Connection reset by peer\n        at java.base/sun.nio.ch.FileDispatcherImpl.read0(Native Method)\n        at java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39)\n        at java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\n        at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:245)\n        at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\n        at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:353)\n        at Test.main(Test.java:21)\n</code></pre>\n<p>Windows Java version:</p>\n<pre><code>openjdk version &quot;11.0.12&quot; 2021-07-20\nOpenJDK Runtime Environment Temurin-11.0.12+7 (build 11.0.12+7)\nOpenJDK 64-Bit Server VM Temurin-11.0.12+7 (build 11.0.12+7, mixed mode)\n</code></pre>\n<p>Linux Java version:</p>\n<pre><code>openjdk version &quot;11.0.12&quot; 2021-07-20\nOpenJDK Runtime Environment (build 11.0.12+7-Ubuntu-0ubuntu3)\nOpenJDK 64-Bit Server VM (build 11.0.12+7-Ubuntu-0ubuntu3, mixed mode, sharing)\n</code></pre>\n"}],"owner":{"account_id":41250,"reputation":1103,"user_id":119823,"accept_rate":61,"display_name":"Neil Wightman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1571,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":8699570,"answer_count":3,"score":3,"last_activity_date":1638586589,"creation_date":1325498517,"question_id":8699521,"body_markdown":"I am getting really annoyed with loads of IOExceptions from socket read calls due to network problems.   Normally it simply means someone killed the child process or the network went down badly (VPN connection dropped etc).\r\n\r\nMy server cannot do anything but I really dont want to see all these errors in the log files.   Is there any way in java to ignore these exceptions?\r\n\r\nI know at the Windows msdn level its a WSAENETRESET error so why do all errors get handled into a generic IOException and not an ConnectionResetException.\r\n\r\nHaving a connection reset by peer is something which is very generic and standard.\r\n\r\nI cant find out if the exception message will appear localised on different Windows OS locales either.","title":"Any way to ignore only &quot;connection reset by peer&quot; IOExceptions","body":"<p>I am getting really annoyed with loads of IOExceptions from socket read calls due to network problems.   Normally it simply means someone killed the child process or the network went down badly (VPN connection dropped etc).</p>\n\n<p>My server cannot do anything but I really dont want to see all these errors in the log files.   Is there any way in java to ignore these exceptions?</p>\n\n<p>I know at the Windows msdn level its a WSAENETRESET error so why do all errors get handled into a generic IOException and not an ConnectionResetException.</p>\n\n<p>Having a connection reset by peer is something which is very generic and standard.</p>\n\n<p>I cant find out if the exception message will appear localised on different Windows OS locales either.</p>\n"},{"tags":["java","android","google-play-services"],"comments":[{"owner":{"account_id":18895089,"reputation":420,"user_id":13784437,"display_name":"Gouse Mohiddin"},"score":0,"creation_date":1638586647,"post_id":70222687,"comment_id":124135140,"body_markdown":"try to add com.google.android.gms:play-services-ads:20.5.0 in your dependencies","body":"try to add com.google.android.gms:play-services-ads:20.5.0 in your dependencies"},{"owner":{"account_id":18969714,"reputation":5,"user_id":13843453,"display_name":"Mohamed Hoosam"},"score":0,"creation_date":1638586844,"post_id":70222687,"comment_id":124135174,"body_markdown":"when I add this line application crashed with no errors in logcat","body":"when I add this line application crashed with no errors in logcat"},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1638599417,"post_id":70222687,"comment_id":124136371,"body_markdown":"After adding the dependency, follow integration steps from developer docs. Most probably you would‚Äôve missed adding APPLICATION_ID tag in your Manifest for AdMob.","body":"After adding the dependency, follow integration steps from developer docs. Most probably you would‚Äôve missed adding APPLICATION_ID tag in your Manifest for AdMob."},{"owner":{"account_id":18969714,"reputation":5,"user_id":13843453,"display_name":"Mohamed Hoosam"},"score":0,"creation_date":1638629261,"post_id":70222687,"comment_id":124141337,"body_markdown":"well, it&#39;s worked","body":"well, it&#39;s worked"}],"owner":{"account_id":18969714,"reputation":5,"user_id":13843453,"display_name":"Mohamed Hoosam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638586308,"creation_date":1638586308,"question_id":70222687,"body_markdown":"I just updated android studio to arctic fox update and now I can&#39;t import dependency for AdView or MapView in my project I get this error when I trying to add any of them\r\n[Click here to show screenshot for error][1]\r\n\r\n\r\nand this is my dependencies included in my project\r\n[Click here to show screenshot of dependencies][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9UTmv.jpg\r\n  [2]: https://i.stack.imgur.com/5MrfU.jpg\r\nplease how can I solve this problem ","title":"importing google ads to android project get me error","body":"<p>I just updated android studio to arctic fox update and now I can't import dependency for AdView or MapView in my project I get this error when I trying to add any of them\n<a href=\"https://i.stack.imgur.com/9UTmv.jpg\" rel=\"nofollow noreferrer\">Click here to show screenshot for error</a></p>\n<p>and this is my dependencies included in my project\n<a href=\"https://i.stack.imgur.com/5MrfU.jpg\" rel=\"nofollow noreferrer\">Click here to show screenshot of dependencies</a></p>\n<p>please how can I solve this problem</p>\n"},{"tags":["java","apache-commons"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1492487340,"post_id":43462742,"comment_id":73982097,"body_markdown":"&quot;I am using Apache Commons library to read content of tar file.But its first writing the content on local disk and then read the content.Is it possible to only read tar content without writing on local disk.&quot; Which apache commons library are  you using? commons-compress with `TarArchiveInputStream` does not write to disk. Maybe you&#39;re using it the wrong way?","body":"&quot;I am using Apache Commons library to read content of tar file.But its first writing the content on local disk and then read the content.Is it possible to only read tar content without writing on local disk.&quot; Which apache commons library are  you using? commons-compress with <code>TarArchiveInputStream</code> does not write to disk. Maybe you&#39;re using it the wrong way?"},{"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"score":0,"creation_date":1492487361,"post_id":43462742,"comment_id":73982107,"body_markdown":"Yes, it is definitely possible. There actually are no methods in TarArchiveInputStream that write to disk, so your code must be doing that.\nPlease show us your code, so that we can try to see where you went wrong","body":"Yes, it is definitely possible. There actually are no methods in TarArchiveInputStream that write to disk, so your code must be doing that. Please show us your code, so that we can try to see where you went wrong"},{"owner":{"account_id":7679634,"reputation":1304,"user_id":5819264,"accept_rate":34,"display_name":"springbootlearner"},"score":0,"creation_date":1492636350,"post_id":43462742,"comment_id":74067021,"body_markdown":"@GreyBeardedGeek added my code.I need to read the tar file content and do some logic on it.","body":"@GreyBeardedGeek added my code.I need to read the tar file content and do some logic on it."},{"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"score":0,"creation_date":1492636515,"post_id":43462742,"comment_id":74067113,"body_markdown":"Right. So everywhere in your code that you write to a file, don&#39;t. Write to some sort of in-memory data structure instead.","body":"Right. So everywhere in your code that you write to a file, don&#39;t. Write to some sort of in-memory data structure instead."}],"answers":[{"tags":[],"owner":{"account_id":285638,"reputation":10283,"user_id":584420,"accept_rate":60,"display_name":"James Jithin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638585237,"creation_date":1638585237,"answer_id":70222609,"question_id":43462742,"body_markdown":"Here is the code that would read contents of all the files from the archive:\r\n\r\n    TarArchiveInputStream tarArchiveInputStream = new TarArchiveInputStream(\r\n\t\t\tnew GzipCompressorInputStream(inputStream));\r\n\tTarArchiveEntry tarArchiveEntry = null;\r\n\tBufferedReader bufferedReader = null;\r\n\ttry {\r\n\t\twhile ((tarArchiveEntry = tarArchiveInputStream.getNextTarEntry()) != null) {\r\n\t\t\tSystem.out.println(tarArchiveEntry.getName() + &quot;: &quot; + (tarArchiveEntry.isFile() ? &quot;F&quot; : &quot;D&quot;));\r\n\t\t\tif (tarArchiveEntry.isFile()) {\r\n\t\t\t\tbufferedReader = new BufferedReader(new InputStreamReader(tarArchiveInputStream));\r\n\t\t\t\tString line = null;\r\n\t\t\t\twhile ((line = bufferedReader.readLine()) != null) {\r\n\t\t\t\t\tSystem.out.println(tarArchiveEntry.getName() + &quot;: &quot; + line);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} finally {\r\n\t\tif (bufferedReader != null) {\r\n\t\t\ttry {\r\n\t\t\t\tbufferedReader.close();\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Reading tar file content without writing on disk using java","body":"<p>Here is the code that would read contents of all the files from the archive:</p>\n<pre><code>TarArchiveInputStream tarArchiveInputStream = new TarArchiveInputStream(\n        new GzipCompressorInputStream(inputStream));\nTarArchiveEntry tarArchiveEntry = null;\nBufferedReader bufferedReader = null;\ntry {\n    while ((tarArchiveEntry = tarArchiveInputStream.getNextTarEntry()) != null) {\n        System.out.println(tarArchiveEntry.getName() + &quot;: &quot; + (tarArchiveEntry.isFile() ? &quot;F&quot; : &quot;D&quot;));\n        if (tarArchiveEntry.isFile()) {\n            bufferedReader = new BufferedReader(new InputStreamReader(tarArchiveInputStream));\n            String line = null;\n            while ((line = bufferedReader.readLine()) != null) {\n                System.out.println(tarArchiveEntry.getName() + &quot;: &quot; + line);\n            }\n        }\n    }\n} finally {\n    if (bufferedReader != null) {\n        try {\n            bufferedReader.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7679634,"reputation":1304,"user_id":5819264,"accept_rate":34,"display_name":"springbootlearner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1511,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638585237,"creation_date":1492483614,"question_id":43462742,"body_markdown":"I have tar file.I need to read the tar file content and do some logic on those content.This tar file might contains different file formats like xml,xslt,txt.\r\nNeed to read only xml files and use that content to do some business logic.\r\n\r\nI am using Apache Commons library to read content of tar file.But its first writing the content on local disk and then read the content.Is it possible to only read tar content without writing on local disk.\r\n\r\n    public void untar(){\r\n            final List&lt;File&gt; untaredFiles = new LinkedList&lt;File&gt;();\r\n            \t    InputStream is;\r\n            \t\ttry {\r\n            \t\t\tis = new FileInputStream(inputFile);\r\n            \t\t\r\n            \t    final TarArchiveInputStream debInputStream = (TarArchiveInputStream) new ArchiveStreamFactory().createArchiveInputStream(&quot;tar&quot;, is);\r\n            \t    TarArchiveEntry entry = null;\r\n            \t    int offset;\r\n            \t\t Map&lt;String,Map&lt;String,String&gt;&gt; filteredMap = new HashMap&lt;String, Map&lt;String,String&gt;&gt;();\r\n            \t\t\twhile ((entry = (TarArchiveEntry)debInputStream.getNextEntry()) != null) {\r\n            \t\t\t        final File outputFile = new File(outputDir, entry.getName());\r\n            \t\t\t        if (entry.isDirectory()) {\r\n            \t\t\t   \r\n            \t\t\t            if (!outputFile.exists()) {\r\n            \t\t\t            \r\n            \t\t\t                if (!outputFile.mkdirs()) {\r\n            \t\t\t                    throw new IllegalStateException(String.format(&quot;Couldn&#39;t create directory %s.&quot;, outputFile.getAbsolutePath()));\r\n            \t\t\t                }\r\n            \t\t\t            }\r\n            \t\t\t        } else {\r\n            \t\t\t            \t\t\t        \r\n            \t\t\t        \tif(entry.getName().contains(&quot;test.xml&quot;)){\r\n            \t\t\t        \t\t\r\n            \t\t\t        \t   final OutputStream outputFileStream = new FileOutputStream(outputFile); \r\n            \t\t\t\t            IOUtils.copy(debInputStream, outputFileStream);\r\n            \t\t\t\t            outputFileStream.close();\r\n            \t\t                    \r\n            \t\t\t        \t\t\r\n            \t\t\t        \t\tMap&lt;String, String&gt; defectXmlMap= \tConfigXMLParser.parseXML(outputFile.getAbsolutePath());\r\n            \t\t\t        \t\tif(!defectXmlMap.isEmpty()){\r\n            \t\t\t        \t\t\tfilteredMap.put(outputFile.getAbsolutePath(), defectXmlMap);\t\r\n            \t\t\t        \t\t}\r\n            \t\t\t        \t\t \r\n            \t\t\t        \t}\r\n            \t\t\t           \r\n            \t\t\t        }\r\n            \t\t\t        untaredFiles.add(outputFile);\r\n            \t\t\t    }\r\n            \t\t    System.out.println(&quot;Final Filtered Map :&quot;+filteredMap);\r\n            \t\t    debInputStream.close(); \r\n            \t\t} catch (FileNotFoundException e) {\r\n            \t\t\tSystem.out.println(&quot;File Not Found Exception occured&quot;);\r\n            \t\t\te.printStackTrace();\r\n            \t\t} catch (IOException e) {\r\n            \t\t\tSystem.out.println(&quot;IOException Exception occured&quot;);\r\n            \t\t\te.printStackTrace();\r\n            \t\t} catch (ArchiveException e) {\r\n            \t\t\tSystem.out.println(&quot;ArchiveException Exception occured&quot;);\r\n            \t\t\te.printStackTrace();\r\n            \t\t}\r\n            \r\n            In above code if I comment below block I can&#39;t read the content of the xml.\r\n            \r\n            final OutputStream outputFileStream = new FileOutputStream(outputFile); \r\n            IOUtils.copy(debInputStream, outputFileStream);\r\n            outputFileStream.close();\r\n        }\r\n    \r\n    \r\n    \r\n    public static Map&lt;String, String&gt; parseXML(String tarFilePath){\r\n                    \t\t\r\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n                            factory.setNamespaceAware(true);\r\n                            DocumentBuilder builder;\r\n                            \r\n                            Document xmlDoc = null;\r\n                            Map&lt;String, String&gt; testMap = null;\r\n                            Map&lt;String, String&gt; mismatchMap = null;\r\n                            \r\n                            try{\r\n                            \tbuilder = factory.newDocumentBuilder();\r\n                            \txmlDoc = builder.parse(tarFilePath);\r\n                            \t\r\n                            \tXPathFactory xpathFactory = XPathFactory.newInstance();\r\n                            \t\r\n                            \tXPath xpath = xpathFactory.newXPath();\r\n                            \t\r\n                            \tNodeList nodeList = (NodeList) xpath.evaluate(\r\n                    \t\t\t\t\t&quot;/tests/testg/@environment&quot;, xmlDoc,\r\n                    \t\t\t\t\tXPathConstants.NODESET);\r\n                            \t\r\n                            \ttestMap = new HashMap&lt;String, String&gt;();\r\n                            \tmismatchMap = new HashMap&lt;String, String&gt;();\r\n                            \t\r\n                            \tString environment = &quot;&quot;;\r\n                            \tString testURL  = gettestingURLByEnv(&quot;TEST&quot;,xmlDoc,xpath);\r\n                            \tSystem.out.println(&quot;TEST URL :&quot;+testURL);\r\n                            \tString testEnvURL  =&quot;&quot;;\r\n                            \tfor (int i = 0; i &lt; nodeList.getLength(); i++) {\r\n                            \t\t environment = nodeList.item(i).getFirstChild().getNodeValue();\r\n                            \t\t if(!&quot;TEST&quot;.equals(environment)){\r\n                            \t\t\t testEnvURL = gettestingURLByEnv(environment, xmlDoc, xpath);\r\n                            \t\t\t if(routEnvURL.equals(testURL)){\r\n                            \t\t\t\t mismatchMap.put(environment, testEnvURL);\r\n                            \t\t\t }\r\n                            \t\t }\r\n                            \t}\r\n                            \tSystem.out.println(&quot;Mismatched Entry :&quot;+mismatchMap);\r\n                            }catch(Exception exp){\r\n                            \texp.printStackTrace();\r\n                            }\r\n                    \t\treturn mismatchMap;\r\n            }\r\n\r\n","title":"Reading tar file content without writing on disk using java","body":"<p>I have tar file.I need to read the tar file content and do some logic on those content.This tar file might contains different file formats like xml,xslt,txt.\nNeed to read only xml files and use that content to do some business logic.</p>\n\n<p>I am using Apache Commons library to read content of tar file.But its first writing the content on local disk and then read the content.Is it possible to only read tar content without writing on local disk.</p>\n\n<pre><code>public void untar(){\n        final List&lt;File&gt; untaredFiles = new LinkedList&lt;File&gt;();\n                InputStream is;\n                try {\n                    is = new FileInputStream(inputFile);\n\n                final TarArchiveInputStream debInputStream = (TarArchiveInputStream) new ArchiveStreamFactory().createArchiveInputStream(\"tar\", is);\n                TarArchiveEntry entry = null;\n                int offset;\n                 Map&lt;String,Map&lt;String,String&gt;&gt; filteredMap = new HashMap&lt;String, Map&lt;String,String&gt;&gt;();\n                    while ((entry = (TarArchiveEntry)debInputStream.getNextEntry()) != null) {\n                            final File outputFile = new File(outputDir, entry.getName());\n                            if (entry.isDirectory()) {\n\n                                if (!outputFile.exists()) {\n\n                                    if (!outputFile.mkdirs()) {\n                                        throw new IllegalStateException(String.format(\"Couldn't create directory %s.\", outputFile.getAbsolutePath()));\n                                    }\n                                }\n                            } else {\n\n                                if(entry.getName().contains(\"test.xml\")){\n\n                                   final OutputStream outputFileStream = new FileOutputStream(outputFile); \n                                    IOUtils.copy(debInputStream, outputFileStream);\n                                    outputFileStream.close();\n\n\n                                    Map&lt;String, String&gt; defectXmlMap=   ConfigXMLParser.parseXML(outputFile.getAbsolutePath());\n                                    if(!defectXmlMap.isEmpty()){\n                                        filteredMap.put(outputFile.getAbsolutePath(), defectXmlMap);    \n                                    }\n\n                                }\n\n                            }\n                            untaredFiles.add(outputFile);\n                        }\n                    System.out.println(\"Final Filtered Map :\"+filteredMap);\n                    debInputStream.close(); \n                } catch (FileNotFoundException e) {\n                    System.out.println(\"File Not Found Exception occured\");\n                    e.printStackTrace();\n                } catch (IOException e) {\n                    System.out.println(\"IOException Exception occured\");\n                    e.printStackTrace();\n                } catch (ArchiveException e) {\n                    System.out.println(\"ArchiveException Exception occured\");\n                    e.printStackTrace();\n                }\n\n        In above code if I comment below block I can't read the content of the xml.\n\n        final OutputStream outputFileStream = new FileOutputStream(outputFile); \n        IOUtils.copy(debInputStream, outputFileStream);\n        outputFileStream.close();\n    }\n\n\n\npublic static Map&lt;String, String&gt; parseXML(String tarFilePath){\n\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n                        factory.setNamespaceAware(true);\n                        DocumentBuilder builder;\n\n                        Document xmlDoc = null;\n                        Map&lt;String, String&gt; testMap = null;\n                        Map&lt;String, String&gt; mismatchMap = null;\n\n                        try{\n                            builder = factory.newDocumentBuilder();\n                            xmlDoc = builder.parse(tarFilePath);\n\n                            XPathFactory xpathFactory = XPathFactory.newInstance();\n\n                            XPath xpath = xpathFactory.newXPath();\n\n                            NodeList nodeList = (NodeList) xpath.evaluate(\n                                    \"/tests/testg/@environment\", xmlDoc,\n                                    XPathConstants.NODESET);\n\n                            testMap = new HashMap&lt;String, String&gt;();\n                            mismatchMap = new HashMap&lt;String, String&gt;();\n\n                            String environment = \"\";\n                            String testURL  = gettestingURLByEnv(\"TEST\",xmlDoc,xpath);\n                            System.out.println(\"TEST URL :\"+testURL);\n                            String testEnvURL  =\"\";\n                            for (int i = 0; i &lt; nodeList.getLength(); i++) {\n                                 environment = nodeList.item(i).getFirstChild().getNodeValue();\n                                 if(!\"TEST\".equals(environment)){\n                                     testEnvURL = gettestingURLByEnv(environment, xmlDoc, xpath);\n                                     if(routEnvURL.equals(testURL)){\n                                         mismatchMap.put(environment, testEnvURL);\n                                     }\n                                 }\n                            }\n                            System.out.println(\"Mismatched Entry :\"+mismatchMap);\n                        }catch(Exception exp){\n                            exp.printStackTrace();\n                        }\n                        return mismatchMap;\n        }\n</code></pre>\n"},{"tags":["java","google-chrome","http","web-services","postman"],"answers":[{"tags":[],"owner":{"account_id":22642960,"reputation":525,"user_id":16818745,"display_name":"user1280483"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638576855,"creation_date":1638576855,"answer_id":70222010,"question_id":70221962,"body_markdown":"The only way to be sure that the *exact* same data is sent is to manually send it yourself through something like telnet. I had a similar problem once- it turned out that the browser was sending the data in one big chunk, while my code was sending it line-by-line. No site should have this problem, but it&#39;s possible that it exists.","title":"2 Same HTTP Requests Give Different Results?","body":"<p>The only way to be sure that the <em>exact</em> same data is sent is to manually send it yourself through something like telnet. I had a similar problem once- it turned out that the browser was sending the data in one big chunk, while my code was sending it line-by-line. No site should have this problem, but it's possible that it exists.</p>\n"},{"tags":[],"owner":{"account_id":4544579,"reputation":39,"user_id":3691553,"display_name":"Michal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638577115,"creation_date":1638577115,"answer_id":70222028,"question_id":70221962,"body_markdown":"The server might be checking for [User-Agent request header][1] and will block traffic that does not originate from a browser. Try setting the header in [curl][2] or your Java Code to a value corresponding to (any) browser. I&#39;ve encountered such behavior on some e-shops and commercial websites.\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/User-Agent\r\n  [2]: https://www.cyberciti.biz/faq/curl-set-user-agent-command-linux-unix/","title":"2 Same HTTP Requests Give Different Results?","body":"<p>The server might be checking for <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/User-Agent\" rel=\"nofollow noreferrer\">User-Agent request header</a> and will block traffic that does not originate from a browser. Try setting the header in <a href=\"https://www.cyberciti.biz/faq/curl-set-user-agent-command-linux-unix/\" rel=\"nofollow noreferrer\">curl</a> or your Java Code to a value corresponding to (any) browser. I've encountered such behavior on some e-shops and commercial websites.</p>\n"},{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638584816,"creation_date":1638584000,"answer_id":70222518,"question_id":70221962,"body_markdown":"Actually the problem might even go deeper than what the other answers say.\r\n\r\nSo neither the User-Agent request header nor telnet might solve that problem (unless you initialize the TLS handshake also with telnet MANUALLY, but that is near impossible to complete).\r\n\r\nTLS fingerprinting\r\n====\r\n\r\nIf the connection is an SSL/TLS connection, the server could detect which algorithm is used to generate keys, and most applications have their specific signature / cipher.\r\n\r\nSo only by the TLS handshake alone you can tell Chrome from Postman or FireFox or Java. Java usually - unless a JVM implementation REALLY wants to go off-road - has the same signature across all platforms, using the same cipher/algorithm across all implementations.\r\n\r\n&lt;strike&gt;I am sorry I cannot properly recall the name of this technique. The first project I know that published this is called something like &quot;A3&quot; or &quot;S3&quot;. &lt;/strike&gt; Salesforce published an article about `JA3` analysis. They describe the technique and show a list of signatures and applications so you can guesstimate what app you&#39;re talking to, without the need to even decrypt the data: https://engineering.salesforce.com/tls-fingerprinting-with-ja3-and-ja3s-247362855967\r\n\r\n\r\nMy Solution\r\n=\r\n\r\nI had that same problem too, wanted to scan the NVidia or AMD servers for graphics card availability. Did not work from Java, so after a lot of research, finding the project mentioned above, I simply used Selenium to control FireFox and that got the proper server responses and I achieved my goal this way.","title":"2 Same HTTP Requests Give Different Results?","body":"<p>Actually the problem might even go deeper than what the other answers say.</p>\n<p>So neither the User-Agent request header nor telnet might solve that problem (unless you initialize the TLS handshake also with telnet MANUALLY, but that is near impossible to complete).</p>\n<h1>TLS fingerprinting</h1>\n<p>If the connection is an SSL/TLS connection, the server could detect which algorithm is used to generate keys, and most applications have their specific signature / cipher.</p>\n<p>So only by the TLS handshake alone you can tell Chrome from Postman or FireFox or Java. Java usually - unless a JVM implementation REALLY wants to go off-road - has the same signature across all platforms, using the same cipher/algorithm across all implementations.</p>\n<p><strike>I am sorry I cannot properly recall the name of this technique. The first project I know that published this is called something like &quot;A3&quot; or &quot;S3&quot;. </strike> Salesforce published an article about <code>JA3</code> analysis. They describe the technique and show a list of signatures and applications so you can guesstimate what app you're talking to, without the need to even decrypt the data: <a href=\"https://engineering.salesforce.com/tls-fingerprinting-with-ja3-and-ja3s-247362855967\" rel=\"nofollow noreferrer\">https://engineering.salesforce.com/tls-fingerprinting-with-ja3-and-ja3s-247362855967</a></p>\n<h1>My Solution</h1>\n<p>I had that same problem too, wanted to scan the NVidia or AMD servers for graphics card availability. Did not work from Java, so after a lot of research, finding the project mentioned above, I simply used Selenium to control FireFox and that got the proper server responses and I achieved my goal this way.</p>\n"}],"owner":{"account_id":10670516,"reputation":801,"user_id":7855730,"accept_rate":0,"display_name":"Mideel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":758,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1638584816,"creation_date":1638576297,"question_id":70221962,"body_markdown":"What differentiate these 2 requests that cause them to have different results/responses from the server although they should be the same ?\r\n\r\n\r\n 1. Request initiated by Chrome after a simple\r\n    click/navigation(successful, response code is 302)\r\n 2. I simply copied\r\n    that request as a curl and imported it to Postman and then postman\r\n    hanged\r\n\r\nI did the same with Java - HttpUrlConnection(mimicking all the request headers and cookies like Chrome sent), but it hanged and waited forever. Is this simply because of the server logic that doesn&#39;t accept non-browser client ?\r\n\r\nHere are the steps that I tried:\r\n\r\n    1. Visited this link: https://www.tokopedia.com/p/handphone-tablet/handphone\r\n    2. I opened the inspector and opened the Network - All tab\r\n    3. I clicked one of the products\r\n    4. I clicked the top request from the Network - All tab\r\n    5. I copied it as cURL bash\r\n    6. I imported it to Postman\r\n    7. I ran that request\r\n    8. Postman hanged","title":"2 Same HTTP Requests Give Different Results?","body":"<p>What differentiate these 2 requests that cause them to have different results/responses from the server although they should be the same ?</p>\n<ol>\n<li>Request initiated by Chrome after a simple\nclick/navigation(successful, response code is 302)</li>\n<li>I simply copied\nthat request as a curl and imported it to Postman and then postman\nhanged</li>\n</ol>\n<p>I did the same with Java - HttpUrlConnection(mimicking all the request headers and cookies like Chrome sent), but it hanged and waited forever. Is this simply because of the server logic that doesn't accept non-browser client ?</p>\n<p>Here are the steps that I tried:</p>\n<pre><code>1. Visited this link: https://www.tokopedia.com/p/handphone-tablet/handphone\n2. I opened the inspector and opened the Network - All tab\n3. I clicked one of the products\n4. I clicked the top request from the Network - All tab\n5. I copied it as cURL bash\n6. I imported it to Postman\n7. I ran that request\n8. Postman hanged\n</code></pre>\n"},{"tags":["java","spring-boot","connection-reset"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1619769382,"post_id":67330091,"comment_id":119009833,"body_markdown":"Try setting SO_LINGER after you open the socket, and removing the sleep.","body":"Try setting SO_LINGER after you open the socket, and removing the sleep."},{"owner":{"account_id":13982631,"reputation":381,"user_id":10098446,"display_name":"Mohendra Amatya"},"score":0,"creation_date":1619769611,"post_id":67330091,"comment_id":119009922,"body_markdown":"I did that too, I kept the SO_LINGER line below this line Socket socket = new Socket(InetAddress.getByName(urlObject.getHost()), 7080); and removed the Thread.sleep(5000) line too, but still I got broker pipe. Or  you mean the sleep from the server?","body":"I did that too, I kept the SO_LINGER line below this line Socket socket = new Socket(InetAddress.getByName(urlObject.getHost()), 7080); and removed the Thread.sleep(5000) line too, but still I got broker pipe. Or  you mean the sleep from the server?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1619937241,"post_id":67330091,"comment_id":119050493,"body_markdown":"`Broken pipe` and `connection reset by peer` are two messages for the same condition. You have succeeded in your quest.","body":"<code>Broken pipe</code> and <code>connection reset by peer</code> are two messages for the same condition. You have succeeded in your quest."}],"answers":[{"tags":[],"owner":{"account_id":13982631,"reputation":381,"user_id":10098446,"display_name":"Mohendra Amatya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619930522,"creation_date":1619930522,"answer_id":67353047,"question_id":67330091,"body_markdown":"This might be of help to anyone trying to figure out the error and its cause.\r\n\r\nThe above mentioned program does work, but I found out that it is server dependent. I tried the above code in a different server and I got \r\n\r\n  \r\n    Caused by: java.io.IOException: Connection reset by peer\r\n\r\n\r\n","title":"How to replicate a Connection Reset by peer?","body":"<p>This might be of help to anyone trying to figure out the error and its cause.</p>\n<p>The above mentioned program does work, but I found out that it is server dependent. I tried the above code in a different server and I got</p>\n<pre><code>Caused by: java.io.IOException: Connection reset by peer\n</code></pre>\n"},{"tags":[],"owner":{"account_id":364905,"reputation":18691,"user_id":709537,"accept_rate":72,"display_name":"Evgeniy Berezovsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638584375,"creation_date":1638584375,"answer_id":70222547,"question_id":67330091,"body_markdown":"This client/server example replicates it:\r\n```java\r\nimport java.net.InetSocketAddress;\r\nimport java.net.Socket;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.channels.ServerSocketChannel;\r\nimport java.nio.channels.SocketChannel;\r\n\r\npublic class Test {\r\n    private static final int port = 1234;\r\n    public static void main(String[] args) throws Exception {\r\n        if (args.length == 1) { // client\r\n            final Socket socket = new Socket(args[0], port);\r\n            socket.setSoLinger(true, 0);\r\n            socket.close();\r\n        } else { // server\r\n            ServerSocketChannel serverSocket = ServerSocketChannel.open();\r\n            serverSocket.socket().bind(new InetSocketAddress(port));\r\n            SocketChannel client = serverSocket.accept();\r\n            client.read(ByteBuffer.allocate(1));\r\n        }\r\n    }\r\n}\r\n```\r\nTo wit:\r\n```\r\n$ java Test.java &amp;         # start the server\r\n$ java Test.java 127.0.0.1 # start the client\r\nException in thread &quot;main&quot; java.io.IOException: Connection reset by peer\r\n        at java.base/sun.nio.ch.FileDispatcherImpl.read0(Native Method)\r\n        at java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39)\r\n        at java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\r\n        at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:245)\r\n        at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\r\n        at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:353)\r\n        at Test.main(Test.java:18)\r\n[1]+  Exit 1                  java Test.java\r\n```\r\n","title":"How to replicate a Connection Reset by peer?","body":"<p>This client/server example replicates it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.net.InetSocketAddress;\nimport java.net.Socket;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.ServerSocketChannel;\nimport java.nio.channels.SocketChannel;\n\npublic class Test {\n    private static final int port = 1234;\n    public static void main(String[] args) throws Exception {\n        if (args.length == 1) { // client\n            final Socket socket = new Socket(args[0], port);\n            socket.setSoLinger(true, 0);\n            socket.close();\n        } else { // server\n            ServerSocketChannel serverSocket = ServerSocketChannel.open();\n            serverSocket.socket().bind(new InetSocketAddress(port));\n            SocketChannel client = serverSocket.accept();\n            client.read(ByteBuffer.allocate(1));\n        }\n    }\n}\n</code></pre>\n<p>To wit:</p>\n<pre><code>$ java Test.java &amp;         # start the server\n$ java Test.java 127.0.0.1 # start the client\nException in thread &quot;main&quot; java.io.IOException: Connection reset by peer\n        at java.base/sun.nio.ch.FileDispatcherImpl.read0(Native Method)\n        at java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39)\n        at java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\n        at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:245)\n        at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\n        at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:353)\n        at Test.main(Test.java:18)\n[1]+  Exit 1                  java Test.java\n</code></pre>\n"}],"owner":{"account_id":13982631,"reputation":381,"user_id":10098446,"display_name":"Mohendra Amatya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7024,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1638584375,"creation_date":1619768585,"question_id":67330091,"body_markdown":"I have a server that has the following printed in the log\r\n\r\n    Caused by: java.io.IOException: Connection reset by peer\r\n            at sun.nio.ch.FileDispatcherImpl.write0(Native Method)\r\n            at sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:47)\r\n            at sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:93)\r\n            at sun.nio.ch.IOUtil.write(IOUtil.java:65)\r\n            at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:471)\r\n            at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:134)\r\n            at org.apache.tomcat.util.net.NioBlockingSelector.write(NioBlockingSelector.java:101)\r\n            at org.apache.tomcat.util.net.NioSelectorPool.write(NioSelectorPool.java:157)\r\n            at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1238)\r\n            at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:670)\r\n            at org.apache.tomcat.util.net.SocketWrapperBase.flushBlocking(SocketWrapperBase.java:607)\r\n            at org.apache.tomcat.util.net.SocketWrapperBase.flush(SocketWrapperBase.java:597)\r\n            at org.apache.coyote.http11.Http11OutputBuffer.flushBuffer(Http11OutputBuffer.java:519)\r\n            at org.apache.coyote.http11.Http11OutputBuffer.flush(Http11OutputBuffer.java:260)\r\n            at org.apache.coyote.http11.Http11Processor.flush(Http11Processor.java:1494)\r\n            at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:279)\r\n            at org.apache.coyote.Response.action(Response.java:168)\r\n            at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:317)\r\n\r\nI know that the client closed the Connection for some reason, but still the server is writing data. And at this time, the client will return the reset flag &quot;RST&quot;, and the server&#39;s log will get the `Connection reset by peer`\r\n\r\nTo replicate it, I made the server sleep for few seconds and also created a client as such:\r\n\r\n     private void executePostMethod() throws IOException, InterruptedException {\r\n            Map&lt;String, String&gt; responseMap = new HashMap&lt;&gt;();\r\n            String data = &quot;{\\&quot;id\\&quot;:\\&quot;XYZ123\\&quot;,\\&quot;name\\&quot;:\\&quot;John Doe\\&quot;,\\&quot;accountNumber\\&quot;:\\&quot;ABC123\\&quot;}&quot;;\r\n            URL urlObject = new URL(&quot;\\&quot;http://localhost/v1/name/validate\\&quot;&quot;);\r\n            System.out.println(&quot;Creating Connection&quot;);\r\n            Socket socket = new Socket(InetAddress.getByName(urlObject.getHost()), 7080);\r\n            System.out.println(&quot;Connection Established&quot;);\r\n    \r\n            PrintWriter printWriter = new PrintWriter(socket.getOutputStream());\r\n            printWriter.println(&quot;POST &quot; + urlObject.getFile() + &quot; HTTP/1.0&quot;);\r\n            printWriter.println(&quot;Host: &quot; + urlObject.getHost());\r\n            printWriter.println(&quot;Content-Length: &quot; + data.length());\r\n            printWriter.println(&quot;Content-Type: &quot; + &quot;application/json&quot;);\r\n            printWriter.println();   //Writing an empty line just to notify the server the header ends here\r\n            // and next thing written will the data/content\r\n            printWriter.println(data);\r\n            printWriter.println();\r\n            printWriter.flush();\r\n            Thread.sleep(5000);\r\n            socket.setSoLinger(true, 0);\r\n            socket.close();\r\n        }\r\n\r\nBefore the server sends the response, the close the socket and the line `socket.setSoLinger(true, 0);` I believe, sends the RST packet. But I get the `org.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe`\r\nerror instead of `Connection reset by peer`. \r\n\r\nHow to reproduce `java.io.IOException: Connection reset by peer` ?\r\n\r\n**UPDATE**\r\n\r\nI analyzed the TCP connection and this is what I got. The server receives the RST packet before it tries to send the data to the client \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JFnoV.png\r\n\r\nNow from what I know, if the client sends RST packet to the server, the server gets `Connection reset by peer` , all I get it `Broken pipe`.","title":"How to replicate a Connection Reset by peer?","body":"<p>I have a server that has the following printed in the log</p>\n<pre><code>Caused by: java.io.IOException: Connection reset by peer\n        at sun.nio.ch.FileDispatcherImpl.write0(Native Method)\n        at sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:47)\n        at sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:93)\n        at sun.nio.ch.IOUtil.write(IOUtil.java:65)\n        at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:471)\n        at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:134)\n        at org.apache.tomcat.util.net.NioBlockingSelector.write(NioBlockingSelector.java:101)\n        at org.apache.tomcat.util.net.NioSelectorPool.write(NioSelectorPool.java:157)\n        at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1238)\n        at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:670)\n        at org.apache.tomcat.util.net.SocketWrapperBase.flushBlocking(SocketWrapperBase.java:607)\n        at org.apache.tomcat.util.net.SocketWrapperBase.flush(SocketWrapperBase.java:597)\n        at org.apache.coyote.http11.Http11OutputBuffer.flushBuffer(Http11OutputBuffer.java:519)\n        at org.apache.coyote.http11.Http11OutputBuffer.flush(Http11OutputBuffer.java:260)\n        at org.apache.coyote.http11.Http11Processor.flush(Http11Processor.java:1494)\n        at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:279)\n        at org.apache.coyote.Response.action(Response.java:168)\n        at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:317)\n</code></pre>\n<p>I know that the client closed the Connection for some reason, but still the server is writing data. And at this time, the client will return the reset flag &quot;RST&quot;, and the server's log will get the <code>Connection reset by peer</code></p>\n<p>To replicate it, I made the server sleep for few seconds and also created a client as such:</p>\n<pre><code> private void executePostMethod() throws IOException, InterruptedException {\n        Map&lt;String, String&gt; responseMap = new HashMap&lt;&gt;();\n        String data = &quot;{\\&quot;id\\&quot;:\\&quot;XYZ123\\&quot;,\\&quot;name\\&quot;:\\&quot;John Doe\\&quot;,\\&quot;accountNumber\\&quot;:\\&quot;ABC123\\&quot;}&quot;;\n        URL urlObject = new URL(&quot;\\&quot;http://localhost/v1/name/validate\\&quot;&quot;);\n        System.out.println(&quot;Creating Connection&quot;);\n        Socket socket = new Socket(InetAddress.getByName(urlObject.getHost()), 7080);\n        System.out.println(&quot;Connection Established&quot;);\n\n        PrintWriter printWriter = new PrintWriter(socket.getOutputStream());\n        printWriter.println(&quot;POST &quot; + urlObject.getFile() + &quot; HTTP/1.0&quot;);\n        printWriter.println(&quot;Host: &quot; + urlObject.getHost());\n        printWriter.println(&quot;Content-Length: &quot; + data.length());\n        printWriter.println(&quot;Content-Type: &quot; + &quot;application/json&quot;);\n        printWriter.println();   //Writing an empty line just to notify the server the header ends here\n        // and next thing written will the data/content\n        printWriter.println(data);\n        printWriter.println();\n        printWriter.flush();\n        Thread.sleep(5000);\n        socket.setSoLinger(true, 0);\n        socket.close();\n    }\n</code></pre>\n<p>Before the server sends the response, the close the socket and the line <code>socket.setSoLinger(true, 0);</code> I believe, sends the RST packet. But I get the <code>org.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe</code>\nerror instead of <code>Connection reset by peer</code>.</p>\n<p>How to reproduce <code>java.io.IOException: Connection reset by peer</code> ?</p>\n<p><strong>UPDATE</strong></p>\n<p>I analyzed the TCP connection and this is what I got. The server receives the RST packet before it tries to send the data to the client</p>\n<p><a href=\"https://i.stack.imgur.com/JFnoV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JFnoV.png\" alt=\"enter image description here\" /></a></p>\n<p>Now from what I know, if the client sends RST packet to the server, the server gets <code>Connection reset by peer</code> , all I get it <code>Broken pipe</code>.</p>\n"},{"tags":["java","serialization","collections","gson"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1638572540,"post_id":70221500,"comment_id":124133390,"body_markdown":"Please don&#39;t post pictures of your code; post the actual code.","body":"Please don&#39;t post pictures of your code; post the actual code."},{"owner":{"account_id":23539798,"reputation":13,"user_id":17584182,"display_name":"John"},"score":0,"creation_date":1638572954,"post_id":70221500,"comment_id":124133472,"body_markdown":"@LouisWasserman I&#39;m sorry, it is my first post on StackOverflow, I will post my code in the edit.","body":"@LouisWasserman I&#39;m sorry, it is my first post on StackOverflow, I will post my code in the edit."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1638579524,"post_id":70221500,"comment_id":124134386,"body_markdown":"Do you have a no-arg constructor for your `User` class? When Gson does not find a no-arg constructor it creates an instance without invoking any constructor or initalizer blocks (therefore also not assigning default values). Please try adding a no-arg constructor (can be `private`) and see if that helps.","body":"Do you have a no-arg constructor for your <code>User</code> class? When Gson does not find a no-arg constructor it creates an instance without invoking any constructor or initalizer blocks (therefore also not assigning default values). Please try adding a no-arg constructor (can be <code>private</code>) and see if that helps."},{"owner":{"account_id":23539798,"reputation":13,"user_id":17584182,"display_name":"John"},"score":0,"creation_date":1638581852,"post_id":70221500,"comment_id":124134681,"body_markdown":"@Marcono1234 I have 3 args to the constructor. Those 3 args are nickname, id and coins. Rest of the variables is assigned by me to the default. For instance int bikes variable is by default equal to 0. I have methods such as setBikes() to manipulate those numbers.","body":"@Marcono1234 I have 3 args to the constructor. Those 3 args are nickname, id and coins. Rest of the variables is assigned by me to the default. For instance int bikes variable is by default equal to 0. I have methods such as setBikes() to manipulate those numbers."},{"owner":{"account_id":23539798,"reputation":13,"user_id":17584182,"display_name":"John"},"score":0,"creation_date":1638581902,"post_id":70221500,"comment_id":124134688,"body_markdown":"I will try adding no-args constructor as you proposed.","body":"I will try adding no-args constructor as you proposed."},{"owner":{"account_id":23539798,"reputation":13,"user_id":17584182,"display_name":"John"},"score":0,"creation_date":1638582052,"post_id":70221500,"comment_id":124134707,"body_markdown":"@Marcono1234 THANK YOU!!!! It worked perfectly. If you be so kind, to tell me why can&#39;t I have normal 3-args constructor? I&#39;ve been fighting this issue for over 2 days.","body":"@Marcono1234 THANK YOU!!!! It worked perfectly. If you be so kind, to tell me why can&#39;t I have normal 3-args constructor? I&#39;ve been fighting this issue for over 2 days."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1638584406,"post_id":70221500,"comment_id":124134945,"body_markdown":"@John I added an answer which hopefully gives a bit more information. However, I just noticed that you are experiencing this issue during serialization (instead of **de**serialization). I assume the reason for this is that you are also deserializing the existing users from the JSON file. Therefore their field values will be `null` when you then serialize them again.","body":"@John I added an answer which hopefully gives a bit more information. However, I just noticed that you are experiencing this issue during serialization (instead of <b>de</b>serialization). I assume the reason for this is that you are also deserializing the existing users from the JSON file. Therefore their field values will be <code>null</code> when you then serialize them again."}],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638584121,"creation_date":1638584121,"answer_id":70222527,"question_id":70221500,"body_markdown":"As mentioned in the comments you need to add a no-arg constructor (sometimes also called &quot;default constructor&quot;) to your class. This constructor may be `private` (so you don&#39;t call it by accident).\r\n\r\nThis constructor is required for Gson to be able to create an instance and then afterwards update its field values during deserialization. Other constructors with parameters do not work because Gson cannot determine which JSON property matches which constructor parameter, and assuming default values (e.g. 0 and `null`) for the parameters might not be correct either in all situation.\r\n\r\nIf no no-arg constructor is detected Gson uses a specific JDK class called `sun.misc.Unsafe` to create an instance without calling any constructor and without executing any initializer block (including initializing fields). This can lead to issues such as the one you experienced. Additionally the `Unsafe` class might not be available in all environments. Due to this you should avoid relying on this behavior.\r\n\r\nAlternatively you can also create an [`InstanceCreator`](https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/InstanceCreator.html) for your class, but in most cases it is easier to add a no-arg constructor.","title":"Collection serialization issues","body":"<p>As mentioned in the comments you need to add a no-arg constructor (sometimes also called &quot;default constructor&quot;) to your class. This constructor may be <code>private</code> (so you don't call it by accident).</p>\n<p>This constructor is required for Gson to be able to create an instance and then afterwards update its field values during deserialization. Other constructors with parameters do not work because Gson cannot determine which JSON property matches which constructor parameter, and assuming default values (e.g. 0 and <code>null</code>) for the parameters might not be correct either in all situation.</p>\n<p>If no no-arg constructor is detected Gson uses a specific JDK class called <code>sun.misc.Unsafe</code> to create an instance without calling any constructor and without executing any initializer block (including initializing fields). This can lead to issues such as the one you experienced. Additionally the <code>Unsafe</code> class might not be available in all environments. Due to this you should avoid relying on this behavior.</p>\n<p>Alternatively you can also create an <a href=\"https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/InstanceCreator.html\" rel=\"nofollow noreferrer\"><code>InstanceCreator</code></a> for your class, but in most cases it is easier to add a no-arg constructor.</p>\n"}],"owner":{"account_id":23539798,"reputation":13,"user_id":17584182,"display_name":"John"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70222527,"answer_count":1,"score":1,"last_activity_date":1638584121,"creation_date":1638571913,"question_id":70221500,"body_markdown":"So my issue is a bit complex. I&#39;ve got one User class, which I put into ConcurrentHashMap&lt;String, User&gt;. One class corresponds to one user. Key is user&#39;s ID. \r\n\r\nI&#39;m using GSON to serialize this ConcurrentHashMap and save the data of my users.\r\n\r\nInside of user class i have multiple variables (ints, Strings, etc.) and few Collections.\r\nProblem is in overwriting the file. 2 out of my 4 ArrayLists are serializing as usual, but when I add another ArrayList, or any collection for that matter, the collection won&#39;t show up in a file. However when I add a simple variable such as String or Int, the file updated and appends those values for every user. When new user is being created, those collections show up as nothing happened. I need to add those collections for already exsisting users.\r\n\r\nMy question is why in hell can&#39;t add another ArrayList to the class, and why it&#39;s not showing up in the file.\r\n\r\n    public class User {\r\n\r\n    private String nickname;\r\n    private String id;\r\n    private int coins;\r\n    \r\n\r\n      ...bunch of variables\r\n\r\n\r\n    private int bikes = 0;\r\n    private int scooters = 0;\r\n    private int goldIngots = 0;\r\n    private final ArrayList&lt;Car&gt; cars = new ArrayList&lt;&gt;(); //showing up\r\n    private final ArrayList&lt;Hotel&gt; hotels = new ArrayList&lt;&gt;(); //showing up\r\n    private final ArrayList&lt;AwardType&gt; awards = new ArrayList&lt;&gt;(); //not showing up   \r\n\r\n\r\n\r\n    ...Constructor\r\n    \r\n    \r\n    ...Getters And Setters\r\n\r\n\r\n\r\n[sample of UserClass][1]\r\n\r\n\r\n[collections inside UserClass][2]\r\n\r\n\r\n[how it should look][3]\r\n\r\n\r\n[values are not appending][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ScGYC.png\r\n  [2]: https://i.stack.imgur.com/YjoKe.png\r\n  [3]: https://i.stack.imgur.com/NSJin.png\r\n  [4]: https://i.stack.imgur.com/I4TEO.png\r\n\r\n\r\n**EDIT**\r\n\r\nAwardType is an enum. This list cointaining AwardType is not showing up for existing users, only for new ones.\r\n\r\n\r\n**EDIT 1**\r\n\r\nAfter adding Gson serializeNulls() option, the list is being added to the file but as a null. \r\n\r\n    &quot;bikes&quot;: 0,\r\n    &quot;scooters&quot;: 0,\r\n    &quot;goldIngots&quot;: 0,\r\n    &quot;cars&quot;: [],\r\n    &quot;hotels&quot;: [],\r\n    &quot;awards&quot;: null","title":"Collection serialization issues","body":"<p>So my issue is a bit complex. I've got one User class, which I put into ConcurrentHashMap&lt;String, User&gt;. One class corresponds to one user. Key is user's ID.</p>\n<p>I'm using GSON to serialize this ConcurrentHashMap and save the data of my users.</p>\n<p>Inside of user class i have multiple variables (ints, Strings, etc.) and few Collections.\nProblem is in overwriting the file. 2 out of my 4 ArrayLists are serializing as usual, but when I add another ArrayList, or any collection for that matter, the collection won't show up in a file. However when I add a simple variable such as String or Int, the file updated and appends those values for every user. When new user is being created, those collections show up as nothing happened. I need to add those collections for already exsisting users.</p>\n<p>My question is why in hell can't add another ArrayList to the class, and why it's not showing up in the file.</p>\n<pre><code>public class User {\n\nprivate String nickname;\nprivate String id;\nprivate int coins;\n\n\n  ...bunch of variables\n\n\nprivate int bikes = 0;\nprivate int scooters = 0;\nprivate int goldIngots = 0;\nprivate final ArrayList&lt;Car&gt; cars = new ArrayList&lt;&gt;(); //showing up\nprivate final ArrayList&lt;Hotel&gt; hotels = new ArrayList&lt;&gt;(); //showing up\nprivate final ArrayList&lt;AwardType&gt; awards = new ArrayList&lt;&gt;(); //not showing up   \n\n\n\n...Constructor\n\n\n...Getters And Setters\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ScGYC.png\" rel=\"nofollow noreferrer\">sample of UserClass</a></p>\n<p><a href=\"https://i.stack.imgur.com/YjoKe.png\" rel=\"nofollow noreferrer\">collections inside UserClass</a></p>\n<p><a href=\"https://i.stack.imgur.com/NSJin.png\" rel=\"nofollow noreferrer\">how it should look</a></p>\n<p><a href=\"https://i.stack.imgur.com/I4TEO.png\" rel=\"nofollow noreferrer\">values are not appending</a></p>\n<p><strong>EDIT</strong></p>\n<p>AwardType is an enum. This list cointaining AwardType is not showing up for existing users, only for new ones.</p>\n<p><strong>EDIT 1</strong></p>\n<p>After adding Gson serializeNulls() option, the list is being added to the file but as a null.</p>\n<pre><code>&quot;bikes&quot;: 0,\n&quot;scooters&quot;: 0,\n&quot;goldIngots&quot;: 0,\n&quot;cars&quot;: [],\n&quot;hotels&quot;: [],\n&quot;awards&quot;: null\n</code></pre>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638583016,"creation_date":1638582527,"answer_id":70222429,"question_id":70222035,"body_markdown":"Create a new client and start it with a new stage.\r\n\r\n    Client client = new Client();\r\n    Stage clientStage = new Stage();\r\n    clientStage.initOwner(primaryStage);\r\n    client.start(clientStage);\r\n\r\nDo this at the end of the `start(Stage primaryStage)` method for the `Main` application and it will immediately create a new client window on startup.\r\n\r\nUnless you additionally need to start the client separately from the command line in a completely different process, there is no need for it to also have a main method or subclass the Application class.","title":"How do I launch the client class from the server(main) class","body":"<p>Create a new client and start it with a new stage.</p>\n<pre><code>Client client = new Client();\nStage clientStage = new Stage();\nclientStage.initOwner(primaryStage);\nclient.start(clientStage);\n</code></pre>\n<p>Do this at the end of the <code>start(Stage primaryStage)</code> method for the <code>Main</code> application and it will immediately create a new client window on startup.</p>\n<p>Unless you additionally need to start the client separately from the command line in a completely different process, there is no need for it to also have a main method or subclass the Application class.</p>\n"}],"owner":{"account_id":21620825,"reputation":37,"user_id":15945857,"display_name":"dheeke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1638583016,"creation_date":1638577182,"question_id":70222035,"body_markdown":"In my assignment we are supposed to modify the code so the Main class launches a server and then launch a client where we input a number and it is sent to the server and then it is determined if it is prime or not and the result is returned to the client. Both run and interact fine but I have to run both individually. How can I run the Main(server) program first and then have it automatically launch the client? \r\n```\r\npackage application;//Server code starts here\r\n\t\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.util.Date;\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.ScrollPane;\r\nimport javafx.scene.control.TextArea;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\t@Override // Override the start method in the Application class\r\n\t  public void start(Stage primaryStage) {\r\n\t    // Text area for displaying contents\r\n\t    TextArea ta = new TextArea();\r\n\t    // Create a scene and place it in the stage\r\n\t    Scene scene = new Scene(new ScrollPane(ta), 450, 200);\r\n\t    primaryStage.setTitle(&quot;Server&quot;); // Set the stage title\r\n\t    primaryStage.setScene(scene); // Place the scene in the stage\r\n\t    primaryStage.show(); // Display the stage\r\n\t    \r\n\t    new Thread( () -&gt; {\r\n\t      try {\r\n\t        // Create a server socket\r\n\t        ServerSocket serverSocket = new ServerSocket(8000);\r\n\t        Platform.runLater(() -&gt;\r\n\t          ta.appendText(&quot;Server started at &quot; + new Date() + &#39;\\n&#39;));\r\n\t  \r\n\t        // Listen for a connection request\r\n\t        Socket socket = serverSocket.accept();\r\n\t  \r\n\t        // Create data input and output streams\r\n\t        DataInputStream inputFromClient = new DataInputStream(\r\n\t          socket.getInputStream());\r\n\t        DataOutputStream outputToClient = new DataOutputStream(\r\n\t          socket.getOutputStream());\r\n\t  \r\n\t        while (true) {\r\n\t          // Receive input number from the client\r\n\t          int inputNumber = inputFromClient.readInt();\r\n\t          System.out.println(&quot;Input number received is:&quot; + inputNumber + &quot;\\n&quot;);\r\n\t          ta.appendText(&quot;The number recieved is:&quot;+inputNumber+&quot;\\n  Sending result...\\n&quot;);\r\n\t          int flag = 1, n;\r\n\t          n = inputNumber/2;\r\n\t  \r\n\t          // Check for prime\r\n\t          if(inputNumber==0||inputNumber==1)\r\n\t          {  \r\n\t        \tflag=0;      \r\n\t          }\r\n\t          else\r\n\t        \t  {  \r\n\t        \t   for(int i=2;i&lt;=n;i++)\r\n\t        \t   {      \r\n\t        \t    if(inputNumber%i==0)\r\n\t        \t    {            \r\n\t        \t     flag=0;\r\n\t        \t     break;\r\n\t        \t    }      \r\n\t        \t   }    \r\n\t        \t  }  \r\n\t   \r\n\t          // Send result back to the client\r\n\t          outputToClient.writeInt(flag);\r\n\t  \r\n\t         /* Platform.runLater(() -&gt; {\r\n\t            ta.appendText(&quot;Radius received from client: &quot; \r\n\t              + radius + &#39;\\n&#39;);\r\n\t            ta.appendText(&quot;Area is: &quot; + area + &#39;\\n&#39;); \r\n\t          });*/\r\n\t        }\r\n\t      }\r\n\t      catch(IOException ex) {\r\n\t        ex.printStackTrace();\r\n\t      }\r\n\t    }).start();\r\n\t  }\r\n\t  /**\r\n\t   * The main method is only needed for the IDE with limited\r\n\t   * JavaFX support. Not needed for running from the command line.\r\n\t   */\r\n\t  public static void main(String[] args) {\r\n\t    launch(args);\r\n\t  }\r\n}\r\n```\r\n----\r\n\r\n```\r\npackage application; //Client code starts here\r\n\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.ScrollPane;\r\nimport javafx.scene.control.TextArea;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.stage.Stage;\r\npublic class Client extends Application {\r\n  // IO streams\r\n  DataOutputStream toServer = null;\r\n  DataInputStream fromServer = null;\r\n  @Override // Override the start method in the Application class\r\n  public void start(Stage primaryStage) {\r\n    // Panel p to hold the label and text field\r\n    BorderPane paneForTextField = new BorderPane();\r\n    paneForTextField.setPadding(new Insets(5, 5, 5, 5)); \r\n    paneForTextField.setStyle(&quot;-fx-border-color: green&quot;);\r\n    paneForTextField.setLeft(new Label(&quot;Enter an integer: &quot;));\r\n    \r\n    TextField tf = new TextField();\r\n    tf.setAlignment(Pos.BOTTOM_RIGHT);\r\n    paneForTextField.setCenter(tf);\r\n    \r\n    BorderPane mainPane = new BorderPane();\r\n    // Text area to display contents\r\n    TextArea ta = new TextArea();\r\n    mainPane.setCenter(new ScrollPane(ta));\r\n    mainPane.setTop(paneForTextField);\r\n    \r\n    // Create a scene and place it in the stage\r\n    Scene scene = new Scene(mainPane, 450, 200);\r\n    primaryStage.setTitle(&quot;Client&quot;); // Set the stage title\r\n    primaryStage.setScene(scene); // Place the scene in the stage\r\n    primaryStage.show(); // Display the stage\r\n    \r\n    tf.setOnAction(e -&gt; {\r\n      try {\r\n        // Get the radius from the text field\r\n        int inputNumber = Integer.parseInt(tf.getText().trim());\r\n  \r\n        // Send the radius to the server\r\n        toServer.writeInt(inputNumber);\r\n        toServer.flush();\r\n  \r\n        // Get area from the server\r\n        int flag = fromServer.readInt();\r\n  \r\n        // Display to the text area\r\n        ta.appendText(&quot;The number input is &quot; + inputNumber + &quot;\\n&quot;);\r\n        \r\n        if(flag==1)\r\n        {\r\n        ta.appendText(inputNumber + &quot; is a prime number\\n&quot;);\r\n        }\r\n        else\r\n        {\r\n        ta.appendText(inputNumber + &quot; is not a prime number\\n&quot;);\r\n        }\r\n      }\r\n      catch (IOException ex) {\r\n        System.err.println(ex);\r\n      }\r\n    });\r\n  \r\n    try {\r\n      // Create a socket to connect to the server\r\n      Socket socket = new Socket(&quot;localhost&quot;, 8000);\r\n      // Socket socket = new Socket(&quot;130.254.204.36&quot;, 8000);\r\n      // Socket socket = new Socket(&quot;drake.Armstrong.edu&quot;, 8000);\r\n      // Create an input stream to receive data from the server\r\n      fromServer = new DataInputStream(socket.getInputStream());\r\n      // Create an output stream to send data to the server\r\n      toServer = new DataOutputStream(socket.getOutputStream());\r\n    }\r\n    catch (IOException ex) {\r\n      ta.appendText(ex.toString() + &#39;\\n&#39;);\r\n    }\r\n  }\r\n  /**\r\n   * The main method is only needed for the IDE with limited\r\n   * JavaFX support. Not needed for running from the command line.\r\n   */\r\n  public static void main(String[] args) {\r\n    launch(args);\r\n  }\r\n}\r\n```","title":"How do I launch the client class from the server(main) class","body":"<p>In my assignment we are supposed to modify the code so the Main class launches a server and then launch a client where we input a number and it is sent to the server and then it is determined if it is prime or not and the result is returned to the client. Both run and interact fine but I have to run both individually. How can I run the Main(server) program first and then have it automatically launch the client?</p>\n<pre><code>package application;//Server code starts here\n    \nimport java.io.*;\nimport java.net.*;\nimport java.util.Date;\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ScrollPane;\nimport javafx.scene.control.TextArea;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n    @Override // Override the start method in the Application class\n      public void start(Stage primaryStage) {\n        // Text area for displaying contents\n        TextArea ta = new TextArea();\n        // Create a scene and place it in the stage\n        Scene scene = new Scene(new ScrollPane(ta), 450, 200);\n        primaryStage.setTitle(&quot;Server&quot;); // Set the stage title\n        primaryStage.setScene(scene); // Place the scene in the stage\n        primaryStage.show(); // Display the stage\n        \n        new Thread( () -&gt; {\n          try {\n            // Create a server socket\n            ServerSocket serverSocket = new ServerSocket(8000);\n            Platform.runLater(() -&gt;\n              ta.appendText(&quot;Server started at &quot; + new Date() + '\\n'));\n      \n            // Listen for a connection request\n            Socket socket = serverSocket.accept();\n      \n            // Create data input and output streams\n            DataInputStream inputFromClient = new DataInputStream(\n              socket.getInputStream());\n            DataOutputStream outputToClient = new DataOutputStream(\n              socket.getOutputStream());\n      \n            while (true) {\n              // Receive input number from the client\n              int inputNumber = inputFromClient.readInt();\n              System.out.println(&quot;Input number received is:&quot; + inputNumber + &quot;\\n&quot;);\n              ta.appendText(&quot;The number recieved is:&quot;+inputNumber+&quot;\\n  Sending result...\\n&quot;);\n              int flag = 1, n;\n              n = inputNumber/2;\n      \n              // Check for prime\n              if(inputNumber==0||inputNumber==1)\n              {  \n                flag=0;      \n              }\n              else\n                  {  \n                   for(int i=2;i&lt;=n;i++)\n                   {      \n                    if(inputNumber%i==0)\n                    {            \n                     flag=0;\n                     break;\n                    }      \n                   }    \n                  }  \n       \n              // Send result back to the client\n              outputToClient.writeInt(flag);\n      \n             /* Platform.runLater(() -&gt; {\n                ta.appendText(&quot;Radius received from client: &quot; \n                  + radius + '\\n');\n                ta.appendText(&quot;Area is: &quot; + area + '\\n'); \n              });*/\n            }\n          }\n          catch(IOException ex) {\n            ex.printStackTrace();\n          }\n        }).start();\n      }\n      /**\n       * The main method is only needed for the IDE with limited\n       * JavaFX support. Not needed for running from the command line.\n       */\n      public static void main(String[] args) {\n        launch(args);\n      }\n}\n</code></pre>\n<hr />\n<pre><code>package application; //Client code starts here\n\nimport java.io.*;\nimport java.net.*;\nimport javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.ScrollPane;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\npublic class Client extends Application {\n  // IO streams\n  DataOutputStream toServer = null;\n  DataInputStream fromServer = null;\n  @Override // Override the start method in the Application class\n  public void start(Stage primaryStage) {\n    // Panel p to hold the label and text field\n    BorderPane paneForTextField = new BorderPane();\n    paneForTextField.setPadding(new Insets(5, 5, 5, 5)); \n    paneForTextField.setStyle(&quot;-fx-border-color: green&quot;);\n    paneForTextField.setLeft(new Label(&quot;Enter an integer: &quot;));\n    \n    TextField tf = new TextField();\n    tf.setAlignment(Pos.BOTTOM_RIGHT);\n    paneForTextField.setCenter(tf);\n    \n    BorderPane mainPane = new BorderPane();\n    // Text area to display contents\n    TextArea ta = new TextArea();\n    mainPane.setCenter(new ScrollPane(ta));\n    mainPane.setTop(paneForTextField);\n    \n    // Create a scene and place it in the stage\n    Scene scene = new Scene(mainPane, 450, 200);\n    primaryStage.setTitle(&quot;Client&quot;); // Set the stage title\n    primaryStage.setScene(scene); // Place the scene in the stage\n    primaryStage.show(); // Display the stage\n    \n    tf.setOnAction(e -&gt; {\n      try {\n        // Get the radius from the text field\n        int inputNumber = Integer.parseInt(tf.getText().trim());\n  \n        // Send the radius to the server\n        toServer.writeInt(inputNumber);\n        toServer.flush();\n  \n        // Get area from the server\n        int flag = fromServer.readInt();\n  \n        // Display to the text area\n        ta.appendText(&quot;The number input is &quot; + inputNumber + &quot;\\n&quot;);\n        \n        if(flag==1)\n        {\n        ta.appendText(inputNumber + &quot; is a prime number\\n&quot;);\n        }\n        else\n        {\n        ta.appendText(inputNumber + &quot; is not a prime number\\n&quot;);\n        }\n      }\n      catch (IOException ex) {\n        System.err.println(ex);\n      }\n    });\n  \n    try {\n      // Create a socket to connect to the server\n      Socket socket = new Socket(&quot;localhost&quot;, 8000);\n      // Socket socket = new Socket(&quot;130.254.204.36&quot;, 8000);\n      // Socket socket = new Socket(&quot;drake.Armstrong.edu&quot;, 8000);\n      // Create an input stream to receive data from the server\n      fromServer = new DataInputStream(socket.getInputStream());\n      // Create an output stream to send data to the server\n      toServer = new DataOutputStream(socket.getOutputStream());\n    }\n    catch (IOException ex) {\n      ta.appendText(ex.toString() + '\\n');\n    }\n  }\n  /**\n   * The main method is only needed for the IDE with limited\n   * JavaFX support. Not needed for running from the command line.\n   */\n  public static void main(String[] args) {\n    launch(args);\n  }\n}\n</code></pre>\n"},{"tags":["java","data-structures","heapsort"],"answers":[{"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638582904,"creation_date":1638582904,"answer_id":70222449,"question_id":70206803,"body_markdown":"You have an infinite loop, because you&#39;re using the wrong formulas for left-child-index and right-child-index.\r\n\r\nLook at `heapifyDown`.  The first index tested is `0`, and `getRightChildIndex()` says that it&#39;s right child is also at `0*2 == 0`.\r\n\r\nFor heaps with the root at `0`, the left and right children of `i` are at `i*2+1` and `i*2+2`.  For heaps with the root at `1` (not your case), the left and right children of `i` are at `i*2` and `i*2+1`.\r\n\r\nNote that if you fix this then your algorithm can work, but it won&#39;t be awesome.  Appropriate solutions for this problem use quickselect (expected O(n)), a min-heap (O(n * log k)), or a partial heapsort (O(n + k log n)).  Yours is like a partial heap sort, but without the O(n) heapify at the start, giving O(n log n).","title":"get kth-largest-element-in-an-array - implemented using maxheap but getting time exceeded in leetcode","body":"<p>You have an infinite loop, because you're using the wrong formulas for left-child-index and right-child-index.</p>\n<p>Look at <code>heapifyDown</code>.  The first index tested is <code>0</code>, and <code>getRightChildIndex()</code> says that it's right child is also at <code>0*2 == 0</code>.</p>\n<p>For heaps with the root at <code>0</code>, the left and right children of <code>i</code> are at <code>i*2+1</code> and <code>i*2+2</code>.  For heaps with the root at <code>1</code> (not your case), the left and right children of <code>i</code> are at <code>i*2</code> and <code>i*2+1</code>.</p>\n<p>Note that if you fix this then your algorithm can work, but it won't be awesome.  Appropriate solutions for this problem use quickselect (expected O(n)), a min-heap (O(n * log k)), or a partial heapsort (O(n + k log n)).  Yours is like a partial heap sort, but without the O(n) heapify at the start, giving O(n log n).</p>\n"}],"owner":{"account_id":1594443,"reputation":2067,"user_id":1476993,"accept_rate":43,"display_name":"serah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70222449,"answer_count":1,"score":0,"last_activity_date":1638582904,"creation_date":1638481107,"question_id":70206803,"body_markdown":"\r\nI am trying to solve this leetcode challenge . I implemented a MaxHeap and tried to popout the values to get the Kth largest element in the array but I get a time limit exceeded. \r\n\r\nIs there any issue with my MaxHeap implementation that it is slow or can this be done in a faster method?\r\n\r\nProblem\r\nhttps://leetcode.com/problems/kth-largest-element-in-an-array/\r\n\r\n    class Solution {\r\n\r\n    private int capacity = 10;\r\n    private int size = 0;\r\n    int items [] = new int[capacity];\r\n\r\n    //parent = (i-1)/2\r\n    //left-child = 2i+1\r\n    //right-child = 2i\r\n\r\n\r\n     public int findKthLargest(int[] nums, int k) {        \r\n        for(int i=0;i&lt;nums.length;i++){\r\n            push(nums[i]);\r\n        }\r\n\r\n        //printHeapArray();\r\n        for(int i=0; i&lt;k-1; i++){\r\n            int val = pop();\r\n            System.out.println(&quot;max val popped&quot; + val);\r\n          //  printHeapArray();\r\n        }\r\n        return peek();\r\n    }\r\n\r\n\r\n    private int getLeftChildIndex(int index){\r\n        return index*2+1;\r\n    }\r\n\r\n    private int getRightChildIndex(int index) {\r\n        return index*2;\r\n    }\r\n\r\n    private int getParentIndex(int index) {\r\n        return (index-1)/2;\r\n    }\r\n\r\n    private int leftChild(int index) {\r\n        return items[getLeftChildIndex(index)];\r\n    }\r\n\r\n    private int rightChild(int index) {\r\n        return items[getRightChildIndex(index)];\r\n    }\r\n\r\n    private int parent(int index) {\r\n        return items[getParentIndex(index)];\r\n    }\r\n\r\n    private boolean hasParent(int index){\r\n        return getParentIndex(index) &gt;= 0;\r\n    }\r\n\r\n    private boolean hasLeftChild(int index){\r\n        return getLeftChildIndex(index) &lt; size;\r\n    }\r\n\r\n    private boolean hasRightChild(int index){\r\n        return getRightChildIndex(index) &lt; size;\r\n    }\r\n\r\n    private void swap(int indexOne, int indexTwo) {\r\n        int temp = items[indexOne];\r\n        items[indexOne] = items[indexTwo];\r\n        items[indexTwo] = temp;\r\n    }\r\n\r\n    private void ensureCapacity() {\r\n        if(capacity == size -1) {\r\n            items = Arrays.copyOf(items, capacity*2);\r\n            capacity *= 2;\r\n        }\r\n    }\r\n\r\n    public int peek() {\r\n        if(size == 0) {\r\n            throw new IllegalStateException();\r\n        }\r\n        return items[0];\r\n    }\r\n\r\n    public void push(int item) {\r\n        ensureCapacity();\r\n        items[size] = item;\r\n        size++;\r\n        heapifyUp();\r\n    }\r\n\r\n    private void heapifyUp() {\r\n        int index = size - 1;\r\n        while(hasParent(index) &amp;&amp; parent(index) &lt; items[index]) {\r\n            swap(getParentIndex(index), index);\r\n            index = getParentIndex(index);\r\n        }\r\n    }\r\n\r\n    public int pop() {\r\n        if(size == 0 ) throw new IllegalStateException();\r\n        int item = items[0];\r\n        items[0] = items[size-1];\r\n        size--;\r\n        heapifyDown();\r\n        return item;\r\n    }\r\n\r\n\r\n\r\n    //1.Compare the children first and find the child you want to compare against with parent\r\n    //2.Compare the selected child with its parent to see if it needs to be swapped\r\n    private void heapifyDown() {\r\n        int index = 0;\r\n        while(hasLeftChild(index))\r\n        {\r\n            int smallerChildIndex = getLeftChildIndex(index);\r\n            if(hasRightChild(index) &amp;&amp; rightChild(index) &gt; leftChild(index)){\r\n                smallerChildIndex = getRightChildIndex(index);\r\n            }\r\n            if(items[index] &gt; items[smallerChildIndex]) {\r\n                break;\r\n            }\r\n\r\n            if(items[smallerChildIndex] &gt;  items[index]) {\r\n                swap(smallerChildIndex, index);\r\n            }\r\n            index = smallerChildIndex;\r\n\r\n        }\r\n    }\r\n    \r\n\r\n    public void printHeapArray(){\r\n        System.out.println(Arrays.toString(items));\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n}","title":"get kth-largest-element-in-an-array - implemented using maxheap but getting time exceeded in leetcode","body":"<p>I am trying to solve this leetcode challenge . I implemented a MaxHeap and tried to popout the values to get the Kth largest element in the array but I get a time limit exceeded.</p>\n<p>Is there any issue with my MaxHeap implementation that it is slow or can this be done in a faster method?</p>\n<p>Problem\n<a href=\"https://leetcode.com/problems/kth-largest-element-in-an-array/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/kth-largest-element-in-an-array/</a></p>\n<pre><code>class Solution {\n\nprivate int capacity = 10;\nprivate int size = 0;\nint items [] = new int[capacity];\n\n//parent = (i-1)/2\n//left-child = 2i+1\n//right-child = 2i\n\n\n public int findKthLargest(int[] nums, int k) {        \n    for(int i=0;i&lt;nums.length;i++){\n        push(nums[i]);\n    }\n\n    //printHeapArray();\n    for(int i=0; i&lt;k-1; i++){\n        int val = pop();\n        System.out.println(&quot;max val popped&quot; + val);\n      //  printHeapArray();\n    }\n    return peek();\n}\n\n\nprivate int getLeftChildIndex(int index){\n    return index*2+1;\n}\n\nprivate int getRightChildIndex(int index) {\n    return index*2;\n}\n\nprivate int getParentIndex(int index) {\n    return (index-1)/2;\n}\n\nprivate int leftChild(int index) {\n    return items[getLeftChildIndex(index)];\n}\n\nprivate int rightChild(int index) {\n    return items[getRightChildIndex(index)];\n}\n\nprivate int parent(int index) {\n    return items[getParentIndex(index)];\n}\n\nprivate boolean hasParent(int index){\n    return getParentIndex(index) &gt;= 0;\n}\n\nprivate boolean hasLeftChild(int index){\n    return getLeftChildIndex(index) &lt; size;\n}\n\nprivate boolean hasRightChild(int index){\n    return getRightChildIndex(index) &lt; size;\n}\n\nprivate void swap(int indexOne, int indexTwo) {\n    int temp = items[indexOne];\n    items[indexOne] = items[indexTwo];\n    items[indexTwo] = temp;\n}\n\nprivate void ensureCapacity() {\n    if(capacity == size -1) {\n        items = Arrays.copyOf(items, capacity*2);\n        capacity *= 2;\n    }\n}\n\npublic int peek() {\n    if(size == 0) {\n        throw new IllegalStateException();\n    }\n    return items[0];\n}\n\npublic void push(int item) {\n    ensureCapacity();\n    items[size] = item;\n    size++;\n    heapifyUp();\n}\n\nprivate void heapifyUp() {\n    int index = size - 1;\n    while(hasParent(index) &amp;&amp; parent(index) &lt; items[index]) {\n        swap(getParentIndex(index), index);\n        index = getParentIndex(index);\n    }\n}\n\npublic int pop() {\n    if(size == 0 ) throw new IllegalStateException();\n    int item = items[0];\n    items[0] = items[size-1];\n    size--;\n    heapifyDown();\n    return item;\n}\n\n\n\n//1.Compare the children first and find the child you want to compare against with parent\n//2.Compare the selected child with its parent to see if it needs to be swapped\nprivate void heapifyDown() {\n    int index = 0;\n    while(hasLeftChild(index))\n    {\n        int smallerChildIndex = getLeftChildIndex(index);\n        if(hasRightChild(index) &amp;&amp; rightChild(index) &gt; leftChild(index)){\n            smallerChildIndex = getRightChildIndex(index);\n        }\n        if(items[index] &gt; items[smallerChildIndex]) {\n            break;\n        }\n\n        if(items[smallerChildIndex] &gt;  items[index]) {\n            swap(smallerChildIndex, index);\n        }\n        index = smallerChildIndex;\n\n    }\n}\n\n\npublic void printHeapArray(){\n    System.out.println(Arrays.toString(items));\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","stack","rank"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1638583669,"post_id":70222310,"comment_id":124134877,"body_markdown":"A path which is just a file name is a &quot;relative path&quot; -- the operating system looks for the file in the working directory of the current program. So if you want to type just the filename you need to make sure that it&#39;s in the same directory you were in when you started your program.","body":"A path which is just a file name is a &quot;relative path&quot; -- the operating system looks for the file in the working directory of the current program. So if you want to type just the filename you need to make sure that it&#39;s in the same directory you were in when you started your program."}],"answers":[{"tags":[],"owner":{"account_id":23435097,"reputation":26,"user_id":17493303,"display_name":"John You"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638582247,"creation_date":1638582247,"answer_id":70222410,"question_id":70222310,"body_markdown":"    Story(String fileName){\r\n        //initializes file object by file name\r\n        String directory = &quot;C:\\\\Users\\\\stlp\\\\IdeaProjects\\\\StoryCount\\\\src.\\\\&quot; + fileName + &quot;.txt&quot;;\r\n        file = new File(directory);\r\n        //extracts file extension\r\n        title = fileExtension(fileName);\r\n    }\r\n\r\nReplace the first string of directory with your actual absolute directory. Make sure to include the double slashes. When inputting the file name, you want to put in just the name as the .txt is appended already. ","title":"Java Program that loads text documents and ranks them based on amount of repeated words - keep getting file not found error","body":"<pre><code>Story(String fileName){\n    //initializes file object by file name\n    String directory = &quot;C:\\\\Users\\\\stlp\\\\IdeaProjects\\\\StoryCount\\\\src.\\\\&quot; + fileName + &quot;.txt&quot;;\n    file = new File(directory);\n    //extracts file extension\n    title = fileExtension(fileName);\n}\n</code></pre>\n<p>Replace the first string of directory with your actual absolute directory. Make sure to include the double slashes. When inputting the file name, you want to put in just the name as the .txt is appended already.</p>\n"}],"owner":{"account_id":19891038,"reputation":29,"user_id":14573112,"display_name":"Shane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70222410,"answer_count":1,"score":1,"last_activity_date":1638582247,"creation_date":1638580728,"question_id":70222310,"body_markdown":"I&#39;m creating a Java program that can load different text documents (in this case, the first chapter or so of four different novels) and then print them out in order of their vocabulary ranks. In other words, they are ranked based on how many times words are repeated in the chapter. This program includes three classes: \r\n\r\nhw5.java:\r\n```\r\npublic class hw5 {\r\n\t//main method\r\n\tpublic static void main(String[] args) throws FileNotFoundException {\r\n\t\t//stores user entered data\r\n\t\tString userInput = &quot;&quot;;\r\n\t\t//Scanner class object created\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Write a file name to include in your ranks, &#39;?&#39; to list ranks, and ! to exit program&quot;);\r\n\t\t//Accepts user choice and loops while user choice is not &quot;!&quot;\r\n\t\twhile(!userInput.equals(&quot;!&quot;)) {\r\n\t\t\tSystem.out.print(&quot;&gt;&gt; &quot;);\r\n\t\t\tuserInput = in.next();\r\n\t\t\t//if user choice is &quot;!&quot;, the program stops\r\n\t\t\tif (userInput.equals(&quot;!&quot;)) {\r\n\t\t\t\tSystem.out.println(&quot;\\nGood Bye :)&quot;);\r\n\t\t\t}\r\n\t\t\t//if user choice is &quot;?&quot;, the program stops\r\n\t\t\telse if(userInput.equals(&quot;?&quot;)) {\r\n\t\t\t\t//calls printRanks() method from StoryRanker to display file name and word count\r\n\t\t\t\tStoryRanker.printRanks();\r\n\t\t\t}\r\n\t\t\t//Otherwise it&#39;s a file name\r\n\t\t\telse {\r\n\t\t\t\t//Uses default constructor to pass the file name to Story class\r\n\t\t\t\tStory myStory = new Story(userInput);\r\n\t\t\t\t//if getWordCount method from Story is greater than 0, call addStory() method from StoryRanker and pass the object\r\n\t\t\t\tif(myStory.getWordCount()&gt;0) {\r\n\t\t\t\t\tStoryRanker.addStory(myStory);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n}\r\n```\r\n\r\nStory.java:\r\n```\r\npublic class Story {\r\n\t\t//stores word count\r\n\t\tint wordCount;\r\n\t\t//stores file name\r\n\t\tString title;\r\n\t\t//Scanner class object for reading file\r\n\t\tScanner fileRead;\r\n\t\t//file object\r\n\t\tFile file;\r\n\t\t\r\n\t\t//Constructor for receiving file name\r\n\t\tStory(String fileName){\r\n\t\t\t//initializes file object by file name\r\n\t\t\tfile = new File(fileName);\r\n\t\t\t//extracts file extension\r\n\t\t\ttitle = fileExtension(fileName);\r\n\t\t}\r\n\t\t\r\n\t\t//Method that returns number of words in the file\r\n\t\tint getWordCount() {\r\n\t\t\t//try block\r\n\t\t\ttry {\r\n\t\t\t\t//file is read\r\n\t\t\t\tfileRead = new Scanner(file);\r\n\t\t\t\t//Checks for data\r\n\t\t\t\twhile(fileRead.hasNextLine()) {\r\n\t\t\t\t\t//Word is read\r\n\t\t\t\t\tfileRead.next();\r\n\t\t\t\t\t//wordCount increases\r\n\t\t\t\t\twordCount++;\r\n\t\t\t\t}\r\n\t\t\t\t//File is closed\r\n\t\t\t\tfileRead.close();\r\n\t\t\t}\r\n\t\t\t//Catch for FileNotFoundException\r\n\t\t\tcatch (FileNotFoundException e) {\r\n\t\t\t\tSystem.out.println(&quot;File Not Found&quot;);\r\n\t\t\t}\r\n\t\t\t//returns wordCount\r\n\t\treturn wordCount;\r\n\t\t}\r\n\t\t\r\n\t\t//method that returns file name from complete file name with extension\r\n\t\tstatic String fileExtension(String str) {\r\n\t\t\t//null case\r\n\t\t\tif(str == null) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\t//gets position of last &quot;.&quot;\r\n\t\t\tint pos = str.lastIndexOf(&quot;.&quot;);\r\n\t\t\t//if there&#39;s no &quot;.&quot; return the string as it is\r\n\t\t\tif(pos == -1) {\r\n\t\t\t\treturn str;\r\n\t\t\t}\r\n\t\t\t//returns string up to &quot;.&quot;\r\n\t\t\treturn str.substring(0,pos);\r\n\t\t}\r\n}\r\n```\r\n\r\nand StoryRanker.java:\r\n```\r\nclass Data {\r\n\t//Stores file name\r\n\tString fileName;\r\n\t//stores word count\r\n\tint wordCount;\r\n\t}\r\n\r\nclass MyNewStack{\r\n\t//stores 100 file names and word count\r\n\tData myData[] = new Data[100];\r\n\t//points to top\r\n\tint top;\r\n\t//stores length\r\n\tint length;\r\n\t\r\n\t//default constructor\r\n\tvoid MyNewStack() {\r\n\ttop = -1;\r\n\tlength = 0;\r\n\t}\r\n\t\r\n\t//Returns false if top = -1, but otherwise returns true\r\n\tboolean isEmpty() {\r\n\t\tif(top == -1) {\r\n\t\t\treturn false;\r\n\t\t\t}\r\n\t\telse {\r\n\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t//method pushes object to stack\r\n\tvoid push (Data d) {\r\n\t\t//Checks is stack is full\r\n\t\tif (top == 99) {\r\n\t\t\tSystem.out.println(&quot;Stack is full&quot;);\r\n\t\t}\r\n\t\t//if stack isn&#39;t full\r\n\t\telse {\r\n\t\t\t//increases top position of stack by one\r\n\t\t\t++top;\r\n\t\t\t//instantiates the array top index position\r\n\t\t\tmyData[top] = new Data();\r\n\t\t\t//Stores file name and word count\r\n\t\t\tmyData[top].fileName = d.fileName;\r\n\t\t\tmyData[top].wordCount = d.wordCount;\r\n\t\t\t//increases length by one\r\n\t\t\tlength++;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t//method to pop the stack top position\r\n\tData pop() {\r\n\t\t//if stack top is less than zero, the stack is empty\r\n\t\tif(top&lt;0) {\r\n\t\t\tSystem.out.println(&quot;Stack Underflow.&quot;);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t//Otherwise, decrease length by one and return stack top position object\r\n\t\telse {\r\n\t\t\tlength--;\r\n\t\t\treturn myData[top--];\r\n\t\t}\r\n\t}\r\n\t\r\n\t//method to return stack a position\r\n\tData peek(int a) {\r\n\t\t//if stack top is less than zero, the stack is empty\r\n\t\tif(top &lt; 0) {\r\n\t\t\tSystem.out.println(&quot;Stack underflow.&quot;);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t//otherwise returns stack a position object\r\n\t\telse {\r\n\t\t\treturn myData[a];\r\n\t\t}\r\n\t}\r\n}\r\n\r\n//establish StoryRanker public class\r\npublic class StoryRanker {\r\n\t\r\n\t//MyNewStack class objects\r\n\tstatic MyNewStack stack1 = new MyNewStack();\r\n\tstatic MyNewStack stack2 = new MyNewStack();\r\n\t\r\n\t//Data class object\r\n\tstatic Data d = new Data();\r\n\t\r\n\t//Method to add file name and word count to stack\r\n\tpublic static void addStory(Story myStory) {\r\n\t\t//Extract data from myStory and store it in Data object\r\n\t\td.fileName = myStory.title;\r\n\t\td.wordCount = myStory.wordCount;\r\n\t\t//checks if stack is not empty\r\n\t\tif(!stack1.isEmpty()) {\r\n\t\t\t//Push object to first stack\r\n\t\t\tstack1.push(d);\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//loops until first stack top position\r\n\t\t\tfor(int a = 0; a &lt;= stack1.top; a++) {\r\n\t\t\t\t//if stack word count is less than current file word count\r\n\t\t\t\tif(stack1.peek(a).wordCount &lt; myStory.wordCount) {\r\n\t\t\t\t\t//Push object to second stack\r\n\t\t\t\t\tstack2.push(stack1.pop());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//puush current object to first stack\r\n\t\t\tstack1.push(d);\r\n\t\t\t//for loop until second stack top position\r\n\t\t\tfor(int a = 0; a &lt; stack2.length; a++) {\r\n\t\t\t\t//extracts second stack object and pushes it to first stack\r\n\t\t\t\tstack1.push(stack2.pop());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t//Method to display first stack contents\r\n\tpublic static void printRanks() {\r\n\t\t//loops until first stack top position\r\n\t\tfor(int a = 0; a &lt;= stack1.top; a++) {\r\n\t\t\tSystem.out.println((a+1)+ &quot;: &quot; + stack1.peek(a).fileName + &quot;, size = &quot; + stack1.peek(a).wordCount);\r\n\t\t}\r\n\t\r\n\t}\r\n}\r\n```\r\nAnd here is what it should look like when running the program:\r\n```\r\nWrite a file name to include your ranks, &#39;?&#39; to list ranks, and ! to exit program\r\n&gt;&gt;the_boy_who_lived.txt\r\n&gt;&gt;?\r\n\r\n1: the_boy_who_lived, size= 392.\r\n\r\n&gt;&gt;dracula_chapter1.txt\r\n&gt;&gt;?\r\n\r\n1: dracula_chapter1, size= 1309.\r\n2: the_boy_who_lived, size= 392.\r\n\r\n&gt;&gt;!\r\n\r\nGood Bye :)\r\n```\r\nThe problem I&#39;m running into is that whenever I enter one of the files I am using, it keeps returning &quot;File Not Found.&quot; I&#39;ve tried typing in the entire address, including the .txt at the end, and nothing seems to be going through. Is there anyone who can help me?","title":"Java Program that loads text documents and ranks them based on amount of repeated words - keep getting file not found error","body":"<p>I'm creating a Java program that can load different text documents (in this case, the first chapter or so of four different novels) and then print them out in order of their vocabulary ranks. In other words, they are ranked based on how many times words are repeated in the chapter. This program includes three classes:</p>\n<p>hw5.java:</p>\n<pre><code>public class hw5 {\n    //main method\n    public static void main(String[] args) throws FileNotFoundException {\n        //stores user entered data\n        String userInput = &quot;&quot;;\n        //Scanner class object created\n        Scanner in = new Scanner(System.in);\n        \n        System.out.println(&quot;Write a file name to include in your ranks, '?' to list ranks, and ! to exit program&quot;);\n        //Accepts user choice and loops while user choice is not &quot;!&quot;\n        while(!userInput.equals(&quot;!&quot;)) {\n            System.out.print(&quot;&gt;&gt; &quot;);\n            userInput = in.next();\n            //if user choice is &quot;!&quot;, the program stops\n            if (userInput.equals(&quot;!&quot;)) {\n                System.out.println(&quot;\\nGood Bye :)&quot;);\n            }\n            //if user choice is &quot;?&quot;, the program stops\n            else if(userInput.equals(&quot;?&quot;)) {\n                //calls printRanks() method from StoryRanker to display file name and word count\n                StoryRanker.printRanks();\n            }\n            //Otherwise it's a file name\n            else {\n                //Uses default constructor to pass the file name to Story class\n                Story myStory = new Story(userInput);\n                //if getWordCount method from Story is greater than 0, call addStory() method from StoryRanker and pass the object\n                if(myStory.getWordCount()&gt;0) {\n                    StoryRanker.addStory(myStory);\n                }\n            }\n            }\n        }\n}\n</code></pre>\n<p>Story.java:</p>\n<pre><code>public class Story {\n        //stores word count\n        int wordCount;\n        //stores file name\n        String title;\n        //Scanner class object for reading file\n        Scanner fileRead;\n        //file object\n        File file;\n        \n        //Constructor for receiving file name\n        Story(String fileName){\n            //initializes file object by file name\n            file = new File(fileName);\n            //extracts file extension\n            title = fileExtension(fileName);\n        }\n        \n        //Method that returns number of words in the file\n        int getWordCount() {\n            //try block\n            try {\n                //file is read\n                fileRead = new Scanner(file);\n                //Checks for data\n                while(fileRead.hasNextLine()) {\n                    //Word is read\n                    fileRead.next();\n                    //wordCount increases\n                    wordCount++;\n                }\n                //File is closed\n                fileRead.close();\n            }\n            //Catch for FileNotFoundException\n            catch (FileNotFoundException e) {\n                System.out.println(&quot;File Not Found&quot;);\n            }\n            //returns wordCount\n        return wordCount;\n        }\n        \n        //method that returns file name from complete file name with extension\n        static String fileExtension(String str) {\n            //null case\n            if(str == null) {\n                return null;\n            }\n            //gets position of last &quot;.&quot;\n            int pos = str.lastIndexOf(&quot;.&quot;);\n            //if there's no &quot;.&quot; return the string as it is\n            if(pos == -1) {\n                return str;\n            }\n            //returns string up to &quot;.&quot;\n            return str.substring(0,pos);\n        }\n}\n</code></pre>\n<p>and StoryRanker.java:</p>\n<pre><code>class Data {\n    //Stores file name\n    String fileName;\n    //stores word count\n    int wordCount;\n    }\n\nclass MyNewStack{\n    //stores 100 file names and word count\n    Data myData[] = new Data[100];\n    //points to top\n    int top;\n    //stores length\n    int length;\n    \n    //default constructor\n    void MyNewStack() {\n    top = -1;\n    length = 0;\n    }\n    \n    //Returns false if top = -1, but otherwise returns true\n    boolean isEmpty() {\n        if(top == -1) {\n            return false;\n            }\n        else {\n            return true;\n            }\n        }\n    \n    //method pushes object to stack\n    void push (Data d) {\n        //Checks is stack is full\n        if (top == 99) {\n            System.out.println(&quot;Stack is full&quot;);\n        }\n        //if stack isn't full\n        else {\n            //increases top position of stack by one\n            ++top;\n            //instantiates the array top index position\n            myData[top] = new Data();\n            //Stores file name and word count\n            myData[top].fileName = d.fileName;\n            myData[top].wordCount = d.wordCount;\n            //increases length by one\n            length++;\n            }\n        }\n        \n    //method to pop the stack top position\n    Data pop() {\n        //if stack top is less than zero, the stack is empty\n        if(top&lt;0) {\n            System.out.println(&quot;Stack Underflow.&quot;);\n            return null;\n        }\n        //Otherwise, decrease length by one and return stack top position object\n        else {\n            length--;\n            return myData[top--];\n        }\n    }\n    \n    //method to return stack a position\n    Data peek(int a) {\n        //if stack top is less than zero, the stack is empty\n        if(top &lt; 0) {\n            System.out.println(&quot;Stack underflow.&quot;);\n            return null;\n        }\n        //otherwise returns stack a position object\n        else {\n            return myData[a];\n        }\n    }\n}\n\n//establish StoryRanker public class\npublic class StoryRanker {\n    \n    //MyNewStack class objects\n    static MyNewStack stack1 = new MyNewStack();\n    static MyNewStack stack2 = new MyNewStack();\n    \n    //Data class object\n    static Data d = new Data();\n    \n    //Method to add file name and word count to stack\n    public static void addStory(Story myStory) {\n        //Extract data from myStory and store it in Data object\n        d.fileName = myStory.title;\n        d.wordCount = myStory.wordCount;\n        //checks if stack is not empty\n        if(!stack1.isEmpty()) {\n            //Push object to first stack\n            stack1.push(d);\n        }\n        else {\n            //loops until first stack top position\n            for(int a = 0; a &lt;= stack1.top; a++) {\n                //if stack word count is less than current file word count\n                if(stack1.peek(a).wordCount &lt; myStory.wordCount) {\n                    //Push object to second stack\n                    stack2.push(stack1.pop());\n                }\n            }\n            //puush current object to first stack\n            stack1.push(d);\n            //for loop until second stack top position\n            for(int a = 0; a &lt; stack2.length; a++) {\n                //extracts second stack object and pushes it to first stack\n                stack1.push(stack2.pop());\n            }\n        }\n    }\n    \n    //Method to display first stack contents\n    public static void printRanks() {\n        //loops until first stack top position\n        for(int a = 0; a &lt;= stack1.top; a++) {\n            System.out.println((a+1)+ &quot;: &quot; + stack1.peek(a).fileName + &quot;, size = &quot; + stack1.peek(a).wordCount);\n        }\n    \n    }\n}\n</code></pre>\n<p>And here is what it should look like when running the program:</p>\n<pre><code>Write a file name to include your ranks, '?' to list ranks, and ! to exit program\n&gt;&gt;the_boy_who_lived.txt\n&gt;&gt;?\n\n1: the_boy_who_lived, size= 392.\n\n&gt;&gt;dracula_chapter1.txt\n&gt;&gt;?\n\n1: dracula_chapter1, size= 1309.\n2: the_boy_who_lived, size= 392.\n\n&gt;&gt;!\n\nGood Bye :)\n</code></pre>\n<p>The problem I'm running into is that whenever I enter one of the files I am using, it keeps returning &quot;File Not Found.&quot; I've tried typing in the entire address, including the .txt at the end, and nothing seems to be going through. Is there anyone who can help me?</p>\n"},{"tags":["java","multithreading","locking"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1638543630,"post_id":70216266,"comment_id":124124085,"body_markdown":"Thread scheduling is different by that you can have many times more active threads than your system has cores so some are waiting to get processing time. On the other hand if multiple threads are actively trying to acquire the lock the lock&#39;s fairness parameter would influence which of them gets it. What the docs say is that you could have many threads that _might_ want the lock but if the thread scheduler only executes one of them it will get the lock even if it held it before already.","body":"Thread scheduling is different by that you can have many times more active threads than your system has cores so some are waiting to get processing time. On the other hand if multiple threads are actively trying to acquire the lock the lock&#39;s fairness parameter would influence which of them gets it. What the docs say is that you could have many threads that <i>might</i> want the lock but if the thread scheduler only executes one of them it will get the lock even if it held it before already."},{"owner":{"account_id":147805,"reputation":3135,"user_id":359179,"accept_rate":95,"display_name":"Tarun"},"score":0,"creation_date":1638543997,"post_id":70216266,"comment_id":124124263,"body_markdown":"@Thomas so its just like an hint to the OS. Same as priority value.","body":"@Thomas so its just like an hint to the OS. Same as priority value."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1638544636,"post_id":70216266,"comment_id":124124530,"body_markdown":"No not really, the lock handles fairness by itself. Thead scheduling would be handlet by the JVM as well but would also get influenced by the OS, i.e. how the JVM process itself is scheduled. For the lock, consider the following: thread A gets the lock and releases it, now thread A and B would want the lock again but since B is scheduled later than A, A gets the lock again because nobody is waiting it yet (B didn&#39;t try to acquire the lock yet).","body":"No not really, the lock handles fairness by itself. Thead scheduling would be handlet by the JVM as well but would also get influenced by the OS, i.e. how the JVM process itself is scheduled. For the lock, consider the following: thread A gets the lock and releases it, now thread A and B would want the lock again but since B is scheduled later than A, A gets the lock again because nobody is waiting it yet (B didn&#39;t try to acquire the lock yet)."},{"owner":{"account_id":147805,"reputation":3135,"user_id":359179,"accept_rate":95,"display_name":"Tarun"},"score":0,"creation_date":1638550093,"post_id":70216266,"comment_id":124126898,"body_markdown":"@Thomas Do you know thread B will be not considered because its in blocked state rather than runnable state when A tries to acquire the lock again ?","body":"@Thomas Do you know thread B will be not considered because its in blocked state rather than runnable state when A tries to acquire the lock again ?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1638551961,"post_id":70216266,"comment_id":124127550,"body_markdown":"No, B might be active and runnable but the scheduler might just not run it or run it early enough for whatever reason. The 2 concepts are only loosely related - check Solomon&#39;s and Holger&#39;s answers, they are describing this in more detail.","body":"No, B might be active and runnable but the scheduler might just not run it or run it early enough for whatever reason. The 2 concepts are only loosely related - check Solomon&#39;s and Holger&#39;s answers, they are describing this in more detail."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638545907,"creation_date":1638545390,"answer_id":70216798,"question_id":70216266,"body_markdown":"&gt; fairness of locks does not guarantee fairness of thread scheduling. Thus, one of many threads using a fair lock may obtain it multiple times in succession while other active threads are not progressing and not currently holding the lock.\r\n\r\nI interpret &quot;not progressing&quot; to mean, &quot;not progressing for reasons _not related to the lock in question._&quot; I think they&#39;re trying to tell you that &quot;fairness&quot; only means anything when the lock is so heavily contested that there often are one or more threads awaiting their turn to lock it.\r\n\r\nIf thread T releases a &quot;fair&quot; lock that no other thread currently is awaiting, then &quot;fairness&quot; has no impact on which thread will get it next. That&#39;s just a straight-up race between the threads, as moderated by the OS scheduler.\r\n\r\nIt&#39;s only when multiple threads are waiting that a fair lock is supposed to &quot;favor&quot; the one that&#39;s been waiting the longest. In particular, I would _hope_ that if some thread T releases a &quot;fair&quot; lock that other threads are awaiting, and then thread T _immediately_ tries to lock it again, that the `lock()` function would notice the other waiting threads, and send T to the back of the queue.\r\n\r\nBut, I don&#39;t actually know how it is implemented in any particular JVM.\r\n\r\n-----------\r\n\r\nP.S., IMO, &quot;fairness&quot; is like a bandage to stop the bleeding from a compound fracture. If your program has a lock that is so heavily contested that &quot;fairness&quot; would make any difference, then that&#39;s a serious design flaw.\r\n\r\n[The same Javadoc](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantLock.html) also says,\r\n\r\n&gt; Programs using fair locks accessed by many threads may display lower overall throughput (i.e., are slower; often much slower) than those using the default setting.","title":"What is the purpose of fairness parameter in REENTRANT LOCK in JAVA?","body":"<blockquote>\n<p>fairness of locks does not guarantee fairness of thread scheduling. Thus, one of many threads using a fair lock may obtain it multiple times in succession while other active threads are not progressing and not currently holding the lock.</p>\n</blockquote>\n<p>I interpret &quot;not progressing&quot; to mean, &quot;not progressing for reasons <em>not related to the lock in question.</em>&quot; I think they're trying to tell you that &quot;fairness&quot; only means anything when the lock is so heavily contested that there often are one or more threads awaiting their turn to lock it.</p>\n<p>If thread T releases a &quot;fair&quot; lock that no other thread currently is awaiting, then &quot;fairness&quot; has no impact on which thread will get it next. That's just a straight-up race between the threads, as moderated by the OS scheduler.</p>\n<p>It's only when multiple threads are waiting that a fair lock is supposed to &quot;favor&quot; the one that's been waiting the longest. In particular, I would <em>hope</em> that if some thread T releases a &quot;fair&quot; lock that other threads are awaiting, and then thread T <em>immediately</em> tries to lock it again, that the <code>lock()</code> function would notice the other waiting threads, and send T to the back of the queue.</p>\n<p>But, I don't actually know how it is implemented in any particular JVM.</p>\n<hr />\n<p>P.S., IMO, &quot;fairness&quot; is like a bandage to stop the bleeding from a compound fracture. If your program has a lock that is so heavily contested that &quot;fairness&quot; would make any difference, then that's a serious design flaw.</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantLock.html\" rel=\"nofollow noreferrer\">The same Javadoc</a> also says,</p>\n<blockquote>\n<p>Programs using fair locks accessed by many threads may display lower overall throughput (i.e., are slower; often much slower) than those using the default setting.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1638551233,"creation_date":1638551233,"answer_id":70218162,"question_id":70216266,"body_markdown":"In a na&#239;ve view, the behavior of threads using a fair lock would be like\r\n\r\n|Thread&#160;1          | Thread&#160;2          | Thread&#160;3         |\r\n|------------------|-------------------|------------------|\r\n| Acquire          |  Do something     | Do something     |\r\n| Critical Section |  Try Acquire      | Do something     |\r\n| Critical Section |  Blocked          | Try Acquire      |\r\n| Release          |  Acquire          | Blocked          |\r\n| Do something     |  Critical Section | Blocked          |\r\n| Try Acquire      |  Release          | Acquire          |\r\n| Blocked          |  Do something     | Critical Section |\r\n| Acquire          |  Do something     | Release          |\r\n\r\n‚ÄúTry Acquire‚Äù refers to a call to `lock()` that does not immediately succeed because another thread owns the lock. It does not refer to `tryLock()` which isn‚Äôt fair in general.\r\n\r\nIn this na&#239;ve view, the threads get the lock in the order ‚ÄúThread&#160;1‚Äù, ‚ÄúThread&#160;2‚Äù, ‚ÄúThread&#160;3‚Äù, because that‚Äôs the order of acquisition attempts. Especially when ‚ÄúThread&#160;1‚Äù tries to acquire the lock right at the time ‚ÄúThread&#160;2‚Äù releases it, it won‚Äôt overtake as would happen with an unfair lock, but rather, ‚ÄúThread&#160;3‚Äù gets it because it waits longer.\r\n\r\nBut, as the documentation says, thread scheduling is not fair. So the following may happen instead.\r\n\r\n|Thread&#160;1          | Thread&#160;2          | Thread&#160;3         |\r\n|------------------|-------------------|------------------|\r\n| Acquire          |  Do something     | Do something     |\r\n| Critical Section |                   | Do something     |\r\n| Critical Section |                   |                  |\r\n| Release          |                   |                  |\r\n| Do something     |                   |                  |\r\n| Acquire          |  Try Acquire      | Try Acquire      |\r\n| Critical Section |  Blocked          | Blocked          |\r\n| Critical Section |  Blocked          | Blocked          |\r\n\r\nThe empty cells represent phases in which the threads simply do not get any CPU time. There might be more threads than CPU cores, which includes the threads of other processes. The operating system may even prefer to let ‚ÄúThread&#160;1‚Äù continue on a core rather than switching to the other threads, simply because that thread does already run and switching takes time.\r\n\r\nGenerally, it‚Äôs not a good idea to try to predict the relative timing of reaching a certain point like the lock acquisition by the preceding workload. In an environment with an optimizing JIT compiler, even two threads executing exactly the same code with exactly the same input may have entirely different execution times.\r\n\r\nSo when we can‚Äôt predict the time of `lock()` attempts, it‚Äôs not very useful to insist on the lock to get acquired in that unpredictable, unknown order. One explanation why developers still want fairness, is that even when the resulting order is not predictable, it should ensure that every thread makes progress instead of infinitely waiting for a lock while other threads are repeatedly overtaking. But this brings us back to the unfair thread scheduling; even when there is no lock at all, there is no guaranty that all threads make progress.\r\n\r\nSo why does the fairness option still exist? Because sometimes, people are fine with the way it works in most cases, even when there is no strong guaranty that it will always work that way. Or simply, because developers would repeatedly ask for it if it didn‚Äôt exist. Supporting fairness doesn‚Äôt cost much and doesn‚Äôt affect the performance of the unfair locks.","title":"What is the purpose of fairness parameter in REENTRANT LOCK in JAVA?","body":"<p>In a na√Øve view, the behavior of threads using a fair lock would be like</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Thread¬†1</th>\n<th>Thread¬†2</th>\n<th>Thread¬†3</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Acquire</td>\n<td>Do something</td>\n<td>Do something</td>\n</tr>\n<tr>\n<td>Critical Section</td>\n<td>Try Acquire</td>\n<td>Do something</td>\n</tr>\n<tr>\n<td>Critical Section</td>\n<td>Blocked</td>\n<td>Try Acquire</td>\n</tr>\n<tr>\n<td>Release</td>\n<td>Acquire</td>\n<td>Blocked</td>\n</tr>\n<tr>\n<td>Do something</td>\n<td>Critical Section</td>\n<td>Blocked</td>\n</tr>\n<tr>\n<td>Try Acquire</td>\n<td>Release</td>\n<td>Acquire</td>\n</tr>\n<tr>\n<td>Blocked</td>\n<td>Do something</td>\n<td>Critical Section</td>\n</tr>\n<tr>\n<td>Acquire</td>\n<td>Do something</td>\n<td>Release</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>‚ÄúTry Acquire‚Äù refers to a call to <code>lock()</code> that does not immediately succeed because another thread owns the lock. It does not refer to <code>tryLock()</code> which isn‚Äôt fair in general.</p>\n<p>In this na√Øve view, the threads get the lock in the order ‚ÄúThread¬†1‚Äù, ‚ÄúThread¬†2‚Äù, ‚ÄúThread¬†3‚Äù, because that‚Äôs the order of acquisition attempts. Especially when ‚ÄúThread¬†1‚Äù tries to acquire the lock right at the time ‚ÄúThread¬†2‚Äù releases it, it won‚Äôt overtake as would happen with an unfair lock, but rather, ‚ÄúThread¬†3‚Äù gets it because it waits longer.</p>\n<p>But, as the documentation says, thread scheduling is not fair. So the following may happen instead.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Thread¬†1</th>\n<th>Thread¬†2</th>\n<th>Thread¬†3</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Acquire</td>\n<td>Do something</td>\n<td>Do something</td>\n</tr>\n<tr>\n<td>Critical Section</td>\n<td></td>\n<td>Do something</td>\n</tr>\n<tr>\n<td>Critical Section</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>Release</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>Do something</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>Acquire</td>\n<td>Try Acquire</td>\n<td>Try Acquire</td>\n</tr>\n<tr>\n<td>Critical Section</td>\n<td>Blocked</td>\n<td>Blocked</td>\n</tr>\n<tr>\n<td>Critical Section</td>\n<td>Blocked</td>\n<td>Blocked</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The empty cells represent phases in which the threads simply do not get any CPU time. There might be more threads than CPU cores, which includes the threads of other processes. The operating system may even prefer to let ‚ÄúThread¬†1‚Äù continue on a core rather than switching to the other threads, simply because that thread does already run and switching takes time.</p>\n<p>Generally, it‚Äôs not a good idea to try to predict the relative timing of reaching a certain point like the lock acquisition by the preceding workload. In an environment with an optimizing JIT compiler, even two threads executing exactly the same code with exactly the same input may have entirely different execution times.</p>\n<p>So when we can‚Äôt predict the time of <code>lock()</code> attempts, it‚Äôs not very useful to insist on the lock to get acquired in that unpredictable, unknown order. One explanation why developers still want fairness, is that even when the resulting order is not predictable, it should ensure that every thread makes progress instead of infinitely waiting for a lock while other threads are repeatedly overtaking. But this brings us back to the unfair thread scheduling; even when there is no lock at all, there is no guaranty that all threads make progress.</p>\n<p>So why does the fairness option still exist? Because sometimes, people are fine with the way it works in most cases, even when there is no strong guaranty that it will always work that way. Or simply, because developers would repeatedly ask for it if it didn‚Äôt exist. Supporting fairness doesn‚Äôt cost much and doesn‚Äôt affect the performance of the unfair locks.</p>\n"},{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638581288,"creation_date":1638581288,"answer_id":70222346,"question_id":70216266,"body_markdown":"The ```ReentrantLock``` is implemented based on ```AbstractQueuedSynchronizer```, which is a first-in-first-out (FIFO) wait queue. \r\n\r\nLet&#39;s say that three threads A, B, and C try to acquire the lock successively, and A acquires the lock, then B, C will be transformed into an ```AbstractQueuedSynchronizer#Node``` into the queue. These two threads will be suspended. \r\n\r\nWhen the A thread releases the lock, it will wake up its successor node(```AbstractQueuedSynchronizer#unparkSuccessor```), that is, thread B. Thread B will try to acquire the lock again after it is awakened.\r\n\r\nSuppose that when the B thread is awakened, a D thread suddenly comes to try to acquire this lock. For a fair lock, the D thread sees that there are other nodes in the queue waiting to acquire the lock(```AbstractQueuedSynchronizer#hasQueuedPredecessors```), and will be directly hung up. \r\n\r\nAnd for unfair lock, the D thread will immediately try to acquire this lock, which means that it can try to &quot;jump the queue&quot; once. If this &quot;queue jump&quot; is successful, then  can immediately acquire the lock(This means that node B will be suspended again: it lost in the competition with the D thread, it was cut in line). If it fails, it will be suspended and enter the queue as a Node.\r\n\r\nWhy is unfair lock perform better and when to use fair lock?\r\n\r\nThis is from  [Java-Concurrency-Practice][1]:\r\n\r\n&gt; One reason barging locks perform so much better than fair locks under heavy contention is that there can be a significant delay between when a suspended thread is resumed and when it actually runs. Let&#39;s say thread A holds a lock and thread B asks for that lock. Since the lock is busy, B is suspended. When A releases the lock, B is resumed so it can try again. In the meantime, though, if thread C requests the lock, there is a good chance that C can acquire the lock, use it, and release it before B even finishes waking up. In this case, everyone wins: B gets the lock no later than it otherwise would have, C gets it much earlier, and throughput is improved.\r\n&gt; \r\n&gt; Fair locks tend to work best when they are held for a relatively long\r\n&gt; time or when the mean time between lock requests is relatively long.\r\n&gt; In these cases, the condition under which barging provides a\r\n&gt; throughput advantage ‚Äê when the lock is unheld but a thread is\r\n&gt; currently waking up to claim it ‚Äê is less likely to hold.\r\n\r\n\r\n  [1]: https://www.amazon.co.uk/Java-Concurrency-Practice-Brian-Goetz/dp/0321349601","title":"What is the purpose of fairness parameter in REENTRANT LOCK in JAVA?","body":"<p>The <code>ReentrantLock</code> is implemented based on <code>AbstractQueuedSynchronizer</code>, which is a first-in-first-out (FIFO) wait queue.</p>\n<p>Let's say that three threads A, B, and C try to acquire the lock successively, and A acquires the lock, then B, C will be transformed into an <code>AbstractQueuedSynchronizer#Node</code> into the queue. These two threads will be suspended.</p>\n<p>When the A thread releases the lock, it will wake up its successor node(<code>AbstractQueuedSynchronizer#unparkSuccessor</code>), that is, thread B. Thread B will try to acquire the lock again after it is awakened.</p>\n<p>Suppose that when the B thread is awakened, a D thread suddenly comes to try to acquire this lock. For a fair lock, the D thread sees that there are other nodes in the queue waiting to acquire the lock(<code>AbstractQueuedSynchronizer#hasQueuedPredecessors</code>), and will be directly hung up.</p>\n<p>And for unfair lock, the D thread will immediately try to acquire this lock, which means that it can try to &quot;jump the queue&quot; once. If this &quot;queue jump&quot; is successful, then  can immediately acquire the lock(This means that node B will be suspended again: it lost in the competition with the D thread, it was cut in line). If it fails, it will be suspended and enter the queue as a Node.</p>\n<p>Why is unfair lock perform better and when to use fair lock?</p>\n<p>This is from  <a href=\"https://www.amazon.co.uk/Java-Concurrency-Practice-Brian-Goetz/dp/0321349601\" rel=\"nofollow noreferrer\">Java-Concurrency-Practice</a>:</p>\n<blockquote>\n<p>One reason barging locks perform so much better than fair locks under heavy contention is that there can be a significant delay between when a suspended thread is resumed and when it actually runs. Let's say thread A holds a lock and thread B asks for that lock. Since the lock is busy, B is suspended. When A releases the lock, B is resumed so it can try again. In the meantime, though, if thread C requests the lock, there is a good chance that C can acquire the lock, use it, and release it before B even finishes waking up. In this case, everyone wins: B gets the lock no later than it otherwise would have, C gets it much earlier, and throughput is improved.</p>\n<p>Fair locks tend to work best when they are held for a relatively long\ntime or when the mean time between lock requests is relatively long.\nIn these cases, the condition under which barging provides a\nthroughput advantage ‚Äê when the lock is unheld but a thread is\ncurrently waking up to claim it ‚Äê is less likely to hold.</p>\n</blockquote>\n"}],"owner":{"account_id":147805,"reputation":3135,"user_id":359179,"accept_rate":95,"display_name":"Tarun"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":968,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70218162,"answer_count":3,"score":0,"last_activity_date":1638581288,"creation_date":1638543284,"question_id":70216266,"body_markdown":"I found the following text while going through Java doc of Reentrant lock:\r\n\r\n&gt; fairness of locks does not guarantee fairness of thread scheduling. Thus, one of many threads using a fair lock may obtain it multiple times in succession while other active threads are not progressing and not currently holding the lock.  \r\n  \r\nAs per my understanding it means, if the OS scheduler schedules the same thread (which was previously acquiring the lock) and it tries acquire the same lock again, Java would allow it to acquire and won&#39;t obey the fairness parameter value. Could someone please tell what could be the purpose of fairness parameter then and in what condition one should use it.  \r\nI am just thinking if its just like a priority value, which might influence the scheduler but cant guarantee the thread execution order.\r\n ","title":"What is the purpose of fairness parameter in REENTRANT LOCK in JAVA?","body":"<p>I found the following text while going through Java doc of Reentrant lock:</p>\n<blockquote>\n<p>fairness of locks does not guarantee fairness of thread scheduling. Thus, one of many threads using a fair lock may obtain it multiple times in succession while other active threads are not progressing and not currently holding the lock.</p>\n</blockquote>\n<p>As per my understanding it means, if the OS scheduler schedules the same thread (which was previously acquiring the lock) and it tries acquire the same lock again, Java would allow it to acquire and won't obey the fairness parameter value. Could someone please tell what could be the purpose of fairness parameter then and in what condition one should use it.<br />\nI am just thinking if its just like a priority value, which might influence the scheduler but cant guarantee the thread execution order.</p>\n"},{"tags":["java","spring","spring-boot","graphql"],"comments":[{"owner":{"account_id":2002545,"reputation":832,"user_id":1793217,"display_name":"ngong"},"score":1,"creation_date":1635502033,"post_id":69766891,"comment_id":123321321,"body_markdown":"I do not know nothing about GraphQL, but could it be that the error text &#39;No graphql schema files found on classpath&#39; gives a hint to the solution?","body":"I do not know nothing about GraphQL, but could it be that the error text &#39;No graphql schema files found on classpath&#39; gives a hint to the solution?"},{"owner":{"account_id":9919916,"reputation":31,"user_id":7343430,"display_name":"Esef Berfu ≈ûent&#252;rk"},"score":1,"creation_date":1635516623,"post_id":69766891,"comment_id":123327136,"body_markdown":"Yeah, i searched it  but i dont find any solution. I edited my question title correctly.","body":"Yeah, i searched it  but i dont find any solution. I edited my question title correctly."}],"answers":[{"tags":[],"owner":{"account_id":7782111,"reputation":571,"user_id":5888214,"display_name":"Dani R"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1635505325,"creation_date":1635505325,"answer_id":69767769,"question_id":69766891,"body_markdown":"As the exception says you don&#39;t have any schemas defined or they are wrong!\r\n\r\n```\r\nNo graphql schema files found on classpath with location pattern &#39;&quot;**/*.graphql&quot;&#39;.  Please add a graphql schema to the classpath or add a SchemaParser bean to your application context\r\n```","title":"Spring boot graphql No graphql schema files found on classpath","body":"<p>As the exception says you don't have any schemas defined or they are wrong!</p>\n<pre><code>No graphql schema files found on classpath with location pattern '&quot;**/*.graphql&quot;'.  Please add a graphql schema to the classpath or add a SchemaParser bean to your application context\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23153093,"reputation":74,"user_id":17254777,"display_name":"swabih"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635548341,"creation_date":1635548341,"answer_id":69775530,"question_id":69766891,"body_markdown":"you can change the Kickstarter dependencies with the following\r\n\r\n    compile group: &#39;com.graphql-java&#39;, name: &#39;graphql-spring-boot-starter&#39;, version: \r\n    &#39;5.0.2&#39;\r\n    compile group: &#39;com.graphql-java&#39;, name: &#39;graphql-java-tools&#39;, version: &#39;5.2.4&#39;\r\n    compile group: &#39;com.graphql-java&#39;, name: &#39;graphiql-spring-boot-starter&#39;, version: \r\n    &#39;3.0.3&#39;","title":"Spring boot graphql No graphql schema files found on classpath","body":"<p>you can change the Kickstarter dependencies with the following</p>\n<pre><code>compile group: 'com.graphql-java', name: 'graphql-spring-boot-starter', version: \n'5.0.2'\ncompile group: 'com.graphql-java', name: 'graphql-java-tools', version: '5.2.4'\ncompile group: 'com.graphql-java', name: 'graphiql-spring-boot-starter', version: \n'3.0.3'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17123956,"reputation":136,"user_id":12391609,"display_name":"yolisses"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637766841,"creation_date":1637766841,"answer_id":70098556,"question_id":69766891,"body_markdown":"In this part ` No graphql schema files found on classpath with location pattern &#39;&quot;**/*.graphql&quot;&#39;` you can see the `&quot;`, what breaks the path. It should solve. Remember that the path is relative to `resources` folder.","title":"Spring boot graphql No graphql schema files found on classpath","body":"<p>In this part <code> No graphql schema files found on classpath with location pattern '&quot;**/*.graphql&quot;'</code> you can see the <code>&quot;</code>, what breaks the path. It should solve. Remember that the path is relative to <code>resources</code> folder.</p>\n"},{"tags":[],"owner":{"account_id":9919916,"reputation":31,"user_id":7343430,"display_name":"Esef Berfu ≈ûent&#252;rk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638581034,"creation_date":1638581034,"answer_id":70222329,"question_id":69766891,"body_markdown":"I solved this problem that by remove schema-location-pattern from application.yml and I change extensions from *.graphlq to *.graphqls. Now project works.","title":"Spring boot graphql No graphql schema files found on classpath","body":"<p>I solved this problem that by remove schema-location-pattern from application.yml and I change extensions from *.graphlq to *.graphqls. Now project works.</p>\n"}],"owner":{"account_id":9919916,"reputation":31,"user_id":7343430,"display_name":"Esef Berfu ≈ûent&#252;rk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4848,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1638581034,"creation_date":1635501147,"question_id":69766891,"body_markdown":"I developed a backend application using mongodb, spring-boot and graphql. I am using Jetbrains IDEA IDE. Project can be run on my development machine but it can&#39;t run on another computer.\r\nGraphql gives errors.\r\n\r\n```\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [graphql/kickstart/autoconfigure/tools/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [graphql.kickstart.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is java.lang.IllegalStateException: No graphql schema files found on classpath with location pattern &#39;&quot;**/*.graphql&quot;&#39;.  Please add a graphql schema to the classpath or add a SchemaParser bean to your application context\r\n```\r\n\r\nFirst, I packaged my project for jar file. I tried to run it and got the same error.\r\nTherefore, I cloned my project and built it from source code and I tried to run directly from source code. But again same error throwed.\r\n\r\nMy application.yml\r\n```\r\ngraphql:\r\n  tools:\r\n    schema-location-pattern: &quot;**/*.graphql&quot;\r\n  playground:\r\n    enabled: true\r\n  servlet:\r\n    max-query-depth: 5\r\n    exception-handlers-enabled: true\r\n```\r\n\r\nMy pom.xml dependencies and build part\r\n```\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mongodb-driver-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bson&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\r\n            &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;12.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\r\n            &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\r\n            &lt;version&gt;12.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\r\n            &lt;artifactId&gt;voyager-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;11.1.0&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.85&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-cloud-translate&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;process&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\r\n                            &lt;processor&gt;com.querydsl.mongodb.morphia.MorphiaAnnotationProcessor&lt;/processor&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\r\n                &lt;artifactId&gt;asciidoctor-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;generate-docs&lt;/id&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;process-asciidoc&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;backend&gt;html&lt;/backend&gt;\r\n                            &lt;doctype&gt;book&lt;/doctype&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-restdocs-asciidoctor&lt;/artifactId&gt;\r\n                        &lt;version&gt;${spring-restdocs.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n```","title":"Spring boot graphql No graphql schema files found on classpath","body":"<p>I developed a backend application using mongodb, spring-boot and graphql. I am using Jetbrains IDEA IDE. Project can be run on my development machine but it can't run on another computer.\nGraphql gives errors.</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [graphql/kickstart/autoconfigure/tools/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [graphql.kickstart.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is java.lang.IllegalStateException: No graphql schema files found on classpath with location pattern '&quot;**/*.graphql&quot;'.  Please add a graphql schema to the classpath or add a SchemaParser bean to your application context\n</code></pre>\n<p>First, I packaged my project for jar file. I tried to run it and got the same error.\nTherefore, I cloned my project and built it from source code and I tried to run directly from source code. But again same error throwed.</p>\n<p>My application.yml</p>\n<pre><code>graphql:\n  tools:\n    schema-location-pattern: &quot;**/*.graphql&quot;\n  playground:\n    enabled: true\n  servlet:\n    max-query-depth: 5\n    exception-handlers-enabled: true\n</code></pre>\n<p>My pom.xml dependencies and build part</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n            &lt;version&gt;4.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongodb-driver-core&lt;/artifactId&gt;\n            &lt;version&gt;4.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;bson&lt;/artifactId&gt;\n            &lt;version&gt;4.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\n            &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;12.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\n            &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\n            &lt;version&gt;12.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\n            &lt;artifactId&gt;voyager-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;11.1.0&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n            &lt;version&gt;1.12.85&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\n            &lt;version&gt;2.1.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;google-cloud-translate&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;2.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\n            &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.1.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\n                            &lt;processor&gt;com.querydsl.mongodb.morphia.MorphiaAnnotationProcessor&lt;/processor&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\n                &lt;artifactId&gt;asciidoctor-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.5.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-docs&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process-asciidoc&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;backend&gt;html&lt;/backend&gt;\n                            &lt;doctype&gt;book&lt;/doctype&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-restdocs-asciidoctor&lt;/artifactId&gt;\n                        &lt;version&gt;${spring-restdocs.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n</code></pre>\n"},{"tags":["java","spring","transactions","ejb","runtimeexception"],"comments":[{"owner":{"account_id":2595198,"reputation":3707,"user_id":2255293,"display_name":"Marco Behler"},"score":0,"creation_date":1585910766,"post_id":61007007,"comment_id":107936526,"body_markdown":"it&#39;s an interesting question! could you paste the whole stack trace that you are getting please when trying to invoke methodB?","body":"it&#39;s an interesting question! could you paste the whole stack trace that you are getting please when trying to invoke methodB?"},{"owner":{"account_id":16617127,"reputation":638,"user_id":12008421,"display_name":"wayne"},"score":0,"creation_date":1585978874,"post_id":61007007,"comment_id":107961011,"body_markdown":"@Marco I‚Äôve added the stack trace. Could you take a look?","body":"@Marco I‚Äôve added the stack trace. Could you take a look?"},{"owner":{"account_id":2595198,"reputation":3707,"user_id":2255293,"display_name":"Marco Behler"},"score":0,"creation_date":1586000852,"post_id":61007007,"comment_id":107966624,"body_markdown":"I&#39;ve had a look but it&#39;s hard to tell, as it&#39;s EJB and I don&#39;t really know how (strict) your EJB-container does the transaction handling. I would also suppose your code should just rune fine, but maybe the container checks some other thread-specific properties, too.  I could have told you more in the Spring world...sorry.","body":"I&#39;ve had a look but it&#39;s hard to tell, as it&#39;s EJB and I don&#39;t really know how (strict) your EJB-container does the transaction handling. I would also suppose your code should just rune fine, but maybe the container checks some other thread-specific properties, too.  I could have told you more in the Spring world...sorry."},{"owner":{"account_id":16617127,"reputation":638,"user_id":12008421,"display_name":"wayne"},"score":0,"creation_date":1586329752,"post_id":61007007,"comment_id":108085201,"body_markdown":"@MarcoBehler if it&#39;s pure Spring, my assumption that `methodA&#39;s transaction should end with methodA in the try block. And methodB will create a new transaction since there is no longer any transaction existing` should be correct?","body":"@MarcoBehler if it&#39;s pure Spring, my assumption that <code>methodA&#39;s transaction should end with methodA in the try block. And methodB will create a new transaction since there is no longer any transaction existing</code> should be correct?"}],"answers":[{"tags":[],"owner":{"account_id":16617127,"reputation":638,"user_id":12008421,"display_name":"wayne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638579098,"creation_date":1638579098,"answer_id":70222185,"question_id":61007007,"body_markdown":"The only possibility should be that when method() is called by EJB class, there‚Äôs already a transaction opened in the EJB class, resulting in the behaviour described.","title":"Spring transaction called by EJB: REQUIRES_NEW needed for transactional method in Catch, when Try&#39;s transactional method has RuntimeException","body":"<p>The only possibility should be that when method() is called by EJB class, there‚Äôs already a transaction opened in the EJB class, resulting in the behaviour described.</p>\n"}],"owner":{"account_id":16617127,"reputation":638,"user_id":12008421,"display_name":"wayne"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70222185,"answer_count":1,"score":0,"last_activity_date":1638579098,"creation_date":1585899027,"question_id":61007007,"body_markdown":"I&#39;m calling a transaction methodA from non-transaction class try block (which is called by another EJB class), which will throw a RuntimeException\r\n\r\nThen in the catch block, transactional methodB will handle the exp.\r\n\r\nWhat&#39;s surprising is that I have to annotate methodB with `REQUIRES_NEW`, otherwise the program will have `Transaction is not active` exception. (stacktrace similar to [this][1])\r\n\r\nIs this because methodA&#39;s transaction, which is marked to be rollback for the RuntimeException, is not yet ended in the catch block. Then methodB without REQUIRES_NEW reused the to-be-rollback transaction and landed in the exception?\r\n\r\nThis runs against my understanding of spring transaction though, as I thought methodA&#39;s transaction should end with methodA in the try block. And methodB will create a new transaction since there is no longer any transaction existing.\r\n```\r\n//non-transactional method\r\nmethod(){\r\n    ...\r\n    try{\r\n         classA.methodA();\r\n    }catch(RuntimeException ex){\r\n         classB.methodB(ex);\r\n    }\r\n    ...\r\n}\r\n\r\nClassA\r\n    @Transactional\r\n    methodA(){...}\r\n        \r\nClassB\r\n    @Transactional\r\n    methodB(){...}\r\n\r\n```\r\n\r\n--------------------------------------------------------------------------\r\n\r\nStack trace:\r\n\r\nI&#39;m using jBoss with DB2\r\n\r\n\r\n`handleEsbExceptionalRequirement` is `methodB`\r\n\r\nfirst line is the error thrown by `methodA`\r\n\r\n```\r\n16:32:35,603 ERROR [au.com.aia.euwb.services.newbusiness.EUWBNewBusinessOrchestrationServiceImpl] (EJB default - 4) URI scheme is not &quot;file&quot;\r\n16:32:35,604 INFO  [au.com.aia.euwb.services.newbusiness.EUWBNewBusinessOrchestrationServiceImpl] (EJB default - 4) NewBusinessOrchestraService WS call to preview SAT letter - ended.\r\n16:32:35,604 INFO  [au.com.aia.euwb.services.life.proposals.requirements.esb.outbound.service.job.EsbOutboundJobServiceImpl] (EJB default - 4) *******esb*******processEsbOutboundCall: Exception caught\r\n16:32:35,605 INFO  [au.com.aia.euwb.services.life.proposals.requirements.EUWBRequirementServiceImpl] (EJB default - 4) *******esb*******handleEsbExceptionalRequirement: started\r\n16:32:35,606 WARN  [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (EJB default - 4) SQL Error: 0, SQLState: null\r\n16:32:35,606 ERROR [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (EJB default - 4) javax.resource.ResourceException: IJ000460: Error checking for a transaction\r\n16:32:35,606 ERROR [com.axelerator.platform.foundation.operations.ejb.timers.OperationsEJBTimer] (EJB default - 4) Operations job &#39;eUWB ESB Outbound Synch Processing&#39; failed; details: org.hibernate.exception.GenericJDBCException: Could not open connection\r\n16:32:35,608 WARN  [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (EJB default - 4) SQL Error: 0, SQLState: null\r\n16:32:35,608 ERROR [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (EJB default - 4) javax.resource.ResourceException: IJ000460: Error checking for a transaction\r\n16:32:35,608 INFO  [org.hibernate.event.internal.DefaultLoadEventListener] (EJB default - 4) HHH000327: Error performing load command : org.hibernate.exception.GenericJDBCException: Could not open connection\r\n16:32:35,615 ERROR [org.jboss.as.ejb3] (EJB default - 4) JBAS014122: Error during retrying timeout for timer: [id=9c0f3b7a-6513-488a-a716-cae7664c3e65 timedObjectId=axelerator-project-admin-app-14.3.5-SNAPSHOT.euwb-operations-ejb-14.3.5-SNAPSHOT.ExecuteEUWBESBOutboundSynchBean auto-timer?:false persistent?:true timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@775989be initialExpiration=Fri Apr 03 16:32:32 AEDT 2020 intervalDuration(in milli sec)=0 nextExpiration=null timerState=RETRY_TIMEOUT info=euwb/executeEUWBESBOutboundSynch:MANUAL]: javax.ejb.EJBException: org.hibernate.exception.GenericJDBCException: Could not open connection\r\n\tat org.jboss.as.ejb3.tx.CMTTxInterceptor.handleExceptionInOurTx(CMTTxInterceptor.java:191) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\tat org.jboss.as.ejb3.tx.TimerCMTTxInterceptor.handleExceptionInOurTx(TimerCMTTxInterceptor.java:53) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\tat org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:282) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\tat org.jboss.as.ejb3.tx.CMTTxInterceptor.requiresNew(CMTTxInterceptor.java:367) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\tat org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:245) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\r\n\tat org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\r\n\tat org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\r\n\tat org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50) [jboss-as-ee-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\r\n\tat org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:55) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\r\n\tat org.jboss.as.ee.component.TCCLInterceptor.processInvocation(TCCLInterceptor.java:45) [jboss-as-ee-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\r\n\tat org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\r\n\tat org.jboss.as.ejb3.timerservice.TimedObjectInvokerImpl.callTimeout(TimedObjectInvokerImpl.java:101) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\tat org.jboss.as.ejb3.timerservice.TimedObjectInvokerImpl.callTimeout(TimedObjectInvokerImpl.java:111) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\tat org.jboss.as.ejb3.timerservice.task.TimerTask.callTimeout(TimerTask.java:187) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\tat org.jboss.as.ejb3.timerservice.task.TimerTask.retryTimeout(TimerTask.java:210) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\tat org.jboss.as.ejb3.timerservice.task.TimerTask.run(TimerTask.java:167) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [rt.jar:1.8.0_131]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [rt.jar:1.8.0_131]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_131]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_131]\r\n\tat java.lang.Thread.run(Thread.java:748) [rt.jar:1.8.0_131]\r\n\tat org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.2.Final-redhat-1.jar:2.1.2.Final-redhat-1]\r\nCaused by: org.hibernate.exception.GenericJDBCException: Could not open connection\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:54) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:124) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:221) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:157) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.connection(StatementPreparerImpl.java:56) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:159) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:183) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:157) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1881) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1858) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1838) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:906) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:348) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:318) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.loader.Loader.loadEntity(Loader.java:2145) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:82) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:72) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3939) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:462) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:431) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:208) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:264) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:152) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1053) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.internal.SessionImpl.access$2000(SessionImpl.java:173) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2449) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.internal.SessionImpl.get(SessionImpl.java:953) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:300) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:180) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:86) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:833) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:817) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:821) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat com.axelerator.platform.foundation.operations.services.jobs.OperationsJobServiceImpl.updateOperationsJobCurrentState(OperationsJobServiceImpl.java:129)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.8.0_131]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [rt.jar:1.8.0_131]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_131]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) [rt.jar:1.8.0_131]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)\r\n\tat com.sun.proxy.$Proxy871.updateOperationsJobCurrentState(Unknown Source)\r\n\tat com.axelerator.platform.foundation.operations.ejb.timers.OperationsEJBTimer.afterJobExecution(OperationsEJBTimer.java:464)\r\n\tat com.axelerator.platform.foundation.operations.ejb.timers.OperationsEJBTimer.ejbTimeout(OperationsEJBTimer.java:235)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.8.0_131]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [rt.jar:1.8.0_131]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_131]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) [rt.jar:1.8.0_131]\r\n\tat org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52) [jboss-as-ee-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\r\n\tat org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\r\n\tat org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:61) [jboss-as-ee-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\r\n\tat org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\r\n\tat org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:61) [jboss-as-ee-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\r\n\tat org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\r\n\tat org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)\r\n\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\r\n\tat org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\r\n\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\r\n\tat org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\r\n\tat org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:53) [jboss-as-ee-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\r\n\tat org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\r\n\tat org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:280) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\t... 25 more\r\nCaused by: java.sql.SQLException: javax.resource.ResourceException: IJ000460: Error checking for a transaction\r\n\tat org.jboss.jca.adapters.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:151)\r\n\tat org.hibernate.service.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:141) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:301) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:214) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\r\n\t... 95 more\r\nCaused by: javax.resource.ResourceException: IJ000460: Error checking for a transaction\r\n\tat org.jboss.jca.core.connectionmanager.tx.TxConnectionManagerImpl.getManagedConnection(TxConnectionManagerImpl.java:362)\r\n\tat org.jboss.jca.core.connectionmanager.AbstractConnectionManager.allocateConnection(AbstractConnectionManager.java:510)\r\n\tat org.jboss.jca.adapters.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:143)\r\n\t... 98 more\r\nCaused by: javax.resource.ResourceException: IJ000459: Transaction is not active: tx=TransactionImple &lt; ac, BasicAction: 0:ffffc0a86301:5c0befd5:5e86c9fc:ba status: ActionStatus.ABORT_ONLY &gt;\r\n\tat org.jboss.jca.core.connectionmanager.tx.TxConnectionManagerImpl.getManagedConnection(TxConnectionManagerImpl.java:352)\r\n\t... 100 more\r\n\r\n\r\n```\r\n\r\n  [1]: https://developer.jboss.org/thread/145348","title":"Spring transaction called by EJB: REQUIRES_NEW needed for transactional method in Catch, when Try&#39;s transactional method has RuntimeException","body":"<p>I'm calling a transaction methodA from non-transaction class try block (which is called by another EJB class), which will throw a RuntimeException</p>\n\n<p>Then in the catch block, transactional methodB will handle the exp.</p>\n\n<p>What's surprising is that I have to annotate methodB with <code>REQUIRES_NEW</code>, otherwise the program will have <code>Transaction is not active</code> exception. (stacktrace similar to <a href=\"https://developer.jboss.org/thread/145348\" rel=\"nofollow noreferrer\">this</a>)</p>\n\n<p>Is this because methodA's transaction, which is marked to be rollback for the RuntimeException, is not yet ended in the catch block. Then methodB without REQUIRES_NEW reused the to-be-rollback transaction and landed in the exception?</p>\n\n<p>This runs against my understanding of spring transaction though, as I thought methodA's transaction should end with methodA in the try block. And methodB will create a new transaction since there is no longer any transaction existing.</p>\n\n<pre><code>//non-transactional method\nmethod(){\n    ...\n    try{\n         classA.methodA();\n    }catch(RuntimeException ex){\n         classB.methodB(ex);\n    }\n    ...\n}\n\nClassA\n    @Transactional\n    methodA(){...}\n\nClassB\n    @Transactional\n    methodB(){...}\n\n</code></pre>\n\n<hr>\n\n<p>Stack trace:</p>\n\n<p>I'm using jBoss with DB2</p>\n\n<p><code>handleEsbExceptionalRequirement</code> is <code>methodB</code></p>\n\n<p>first line is the error thrown by <code>methodA</code></p>\n\n<pre><code>16:32:35,603 ERROR [au.com.aia.euwb.services.newbusiness.EUWBNewBusinessOrchestrationServiceImpl] (EJB default - 4) URI scheme is not \"file\"\n16:32:35,604 INFO  [au.com.aia.euwb.services.newbusiness.EUWBNewBusinessOrchestrationServiceImpl] (EJB default - 4) NewBusinessOrchestraService WS call to preview SAT letter - ended.\n16:32:35,604 INFO  [au.com.aia.euwb.services.life.proposals.requirements.esb.outbound.service.job.EsbOutboundJobServiceImpl] (EJB default - 4) *******esb*******processEsbOutboundCall: Exception caught\n16:32:35,605 INFO  [au.com.aia.euwb.services.life.proposals.requirements.EUWBRequirementServiceImpl] (EJB default - 4) *******esb*******handleEsbExceptionalRequirement: started\n16:32:35,606 WARN  [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (EJB default - 4) SQL Error: 0, SQLState: null\n16:32:35,606 ERROR [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (EJB default - 4) javax.resource.ResourceException: IJ000460: Error checking for a transaction\n16:32:35,606 ERROR [com.axelerator.platform.foundation.operations.ejb.timers.OperationsEJBTimer] (EJB default - 4) Operations job 'eUWB ESB Outbound Synch Processing' failed; details: org.hibernate.exception.GenericJDBCException: Could not open connection\n16:32:35,608 WARN  [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (EJB default - 4) SQL Error: 0, SQLState: null\n16:32:35,608 ERROR [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (EJB default - 4) javax.resource.ResourceException: IJ000460: Error checking for a transaction\n16:32:35,608 INFO  [org.hibernate.event.internal.DefaultLoadEventListener] (EJB default - 4) HHH000327: Error performing load command : org.hibernate.exception.GenericJDBCException: Could not open connection\n16:32:35,615 ERROR [org.jboss.as.ejb3] (EJB default - 4) JBAS014122: Error during retrying timeout for timer: [id=9c0f3b7a-6513-488a-a716-cae7664c3e65 timedObjectId=axelerator-project-admin-app-14.3.5-SNAPSHOT.euwb-operations-ejb-14.3.5-SNAPSHOT.ExecuteEUWBESBOutboundSynchBean auto-timer?:false persistent?:true timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@775989be initialExpiration=Fri Apr 03 16:32:32 AEDT 2020 intervalDuration(in milli sec)=0 nextExpiration=null timerState=RETRY_TIMEOUT info=euwb/executeEUWBESBOutboundSynch:MANUAL]: javax.ejb.EJBException: org.hibernate.exception.GenericJDBCException: Could not open connection\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.handleExceptionInOurTx(CMTTxInterceptor.java:191) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    at org.jboss.as.ejb3.tx.TimerCMTTxInterceptor.handleExceptionInOurTx(TimerCMTTxInterceptor.java:53) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:282) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.requiresNew(CMTTxInterceptor.java:367) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:245) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\n    at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\n    at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\n    at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50) [jboss-as-ee-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\n    at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:55) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\n    at org.jboss.as.ee.component.TCCLInterceptor.processInvocation(TCCLInterceptor.java:45) [jboss-as-ee-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\n    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\n    at org.jboss.as.ejb3.timerservice.TimedObjectInvokerImpl.callTimeout(TimedObjectInvokerImpl.java:101) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    at org.jboss.as.ejb3.timerservice.TimedObjectInvokerImpl.callTimeout(TimedObjectInvokerImpl.java:111) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    at org.jboss.as.ejb3.timerservice.task.TimerTask.callTimeout(TimerTask.java:187) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    at org.jboss.as.ejb3.timerservice.task.TimerTask.retryTimeout(TimerTask.java:210) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    at org.jboss.as.ejb3.timerservice.task.TimerTask.run(TimerTask.java:167) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [rt.jar:1.8.0_131]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) [rt.jar:1.8.0_131]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_131]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_131]\n    at java.lang.Thread.run(Thread.java:748) [rt.jar:1.8.0_131]\n    at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.2.Final-redhat-1.jar:2.1.2.Final-redhat-1]\nCaused by: org.hibernate.exception.GenericJDBCException: Could not open connection\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:54) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:124) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:221) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:157) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.connection(StatementPreparerImpl.java:56) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:159) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:183) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:157) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1881) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1858) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1838) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.loader.Loader.doQuery(Loader.java:906) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:348) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:318) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.loader.Loader.loadEntity(Loader.java:2145) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:82) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:72) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3939) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:462) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:431) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:208) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:264) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:152) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1053) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.internal.SessionImpl.access$2000(SessionImpl.java:173) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2449) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.internal.SessionImpl.get(SessionImpl.java:953) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:300) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:180) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:86) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:833) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:817) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:821) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at com.axelerator.platform.foundation.operations.services.jobs.OperationsJobServiceImpl.updateOperationsJobCurrentState(OperationsJobServiceImpl.java:129)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.8.0_131]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [rt.jar:1.8.0_131]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_131]\n    at java.lang.reflect.Method.invoke(Method.java:498) [rt.jar:1.8.0_131]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)\n    at com.sun.proxy.$Proxy871.updateOperationsJobCurrentState(Unknown Source)\n    at com.axelerator.platform.foundation.operations.ejb.timers.OperationsEJBTimer.afterJobExecution(OperationsEJBTimer.java:464)\n    at com.axelerator.platform.foundation.operations.ejb.timers.OperationsEJBTimer.ejbTimeout(OperationsEJBTimer.java:235)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.8.0_131]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [rt.jar:1.8.0_131]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_131]\n    at java.lang.reflect.Method.invoke(Method.java:498) [rt.jar:1.8.0_131]\n    at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52) [jboss-as-ee-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\n    at org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\n    at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:61) [jboss-as-ee-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\n    at org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\n    at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:61) [jboss-as-ee-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\n    at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\n    at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\n    at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\n    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\n    at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:53) [jboss-as-ee-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\n    at org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.2.Final-redhat-1.jar:1.1.2.Final-redhat-1]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:280) [jboss-as-ejb3-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    ... 25 more\nCaused by: java.sql.SQLException: javax.resource.ResourceException: IJ000460: Error checking for a transaction\n    at org.jboss.jca.adapters.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:151)\n    at org.hibernate.service.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:141) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:301) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:214) [hibernate-core-4.2.18.Final-redhat-2.jar:4.2.18.Final-redhat-2]\n    ... 95 more\nCaused by: javax.resource.ResourceException: IJ000460: Error checking for a transaction\n    at org.jboss.jca.core.connectionmanager.tx.TxConnectionManagerImpl.getManagedConnection(TxConnectionManagerImpl.java:362)\n    at org.jboss.jca.core.connectionmanager.AbstractConnectionManager.allocateConnection(AbstractConnectionManager.java:510)\n    at org.jboss.jca.adapters.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:143)\n    ... 98 more\nCaused by: javax.resource.ResourceException: IJ000459: Transaction is not active: tx=TransactionImple &lt; ac, BasicAction: 0:ffffc0a86301:5c0befd5:5e86c9fc:ba status: ActionStatus.ABORT_ONLY &gt;\n    at org.jboss.jca.core.connectionmanager.tx.TxConnectionManagerImpl.getManagedConnection(TxConnectionManagerImpl.java:352)\n    ... 100 more\n\n\n</code></pre>\n"},{"tags":["java","spring","database","spring-boot","concurrency"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1638573399,"post_id":70221632,"comment_id":124133552,"body_markdown":"Either use transactional storage/processing or embrace eventual consistency. And recognize that atomicity means that _some_ updates will sometimes fail at some level, and you have to figure out the best way to handle them as a business matter.","body":"Either use transactional storage/processing or embrace eventual consistency. And recognize that atomicity means that <i>some</i> updates will sometimes fail at some level, and you have to figure out the best way to handle them as a business matter."}],"answers":[{"tags":[],"owner":{"account_id":12802899,"reputation":363,"user_id":9263629,"display_name":"Jonathan Laperle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638576970,"creation_date":1638576524,"answer_id":70221981,"question_id":70221632,"body_markdown":"You got a good understanding of the problem.\r\n\r\nYou have to decide between eventual consistency and strong consistency. Strong consistency will limit scaling to a certain extent but you also really need to sit down and be realistic/honest about your scaling needs(or your consistency needs).\r\n\r\nIt&#39;s also possible to limit consistency for example rows in a database could be consistent or you can be consistent geographically within a region or a continent. Different queries can also have different requirements.\r\n\r\nCreating efficient and strongly consistent databases is a whole field of research and all the big tech giants have people working on that, there are too many solutions/technologies to list. Just googling something like &quot;strong consistency scaling&quot; will get you a ton of results you can read.","title":"Race conditions in REST API&#39;s","body":"<p>You got a good understanding of the problem.</p>\n<p>You have to decide between eventual consistency and strong consistency. Strong consistency will limit scaling to a certain extent but you also really need to sit down and be realistic/honest about your scaling needs(or your consistency needs).</p>\n<p>It's also possible to limit consistency for example rows in a database could be consistent or you can be consistent geographically within a region or a continent. Different queries can also have different requirements.</p>\n<p>Creating efficient and strongly consistent databases is a whole field of research and all the big tech giants have people working on that, there are too many solutions/technologies to list. Just googling something like &quot;strong consistency scaling&quot; will get you a ton of results you can read.</p>\n"}],"owner":{"account_id":16178232,"reputation":90,"user_id":11680381,"display_name":"randomdev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":671,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1638576970,"creation_date":1638572924,"question_id":70221632,"body_markdown":"I&#39;m currently struggling to wrap my head around some concurrency concepts in general. Suppose we have a REST api with several endpoints for updating and creating entities in our database. Lets assume that we receive 100 concurrent requests at the same time for a certain update. How do we guarantee that our data consistency is retained? If working with Java, I guess some options would be:\r\n\r\n- Using lock mechanisms\r\n- Using synchronization on methods in our service layer\r\n\r\nHowever surely this would make a huge impact on the scalability of our application? But I can&#39;t see any other way currently of ensuring that we don&#39;t encounter any race conditions when interacting with our database. (Also I dont think there is much point to adding synchronization to every method we write in our service?)\r\n\r\nSo, I guess the question is: how can we reliably secure our application from race conditions with concurrent requests, while at the same time retaining scalability? \r\n\r\nI realize this is a very open-ended and conceptual question, but please if you can point me in the right direction of what area / topic I should dive into for learning, I would be grateful.\r\n\r\nThanks!","title":"Race conditions in REST API&#39;s","body":"<p>I'm currently struggling to wrap my head around some concurrency concepts in general. Suppose we have a REST api with several endpoints for updating and creating entities in our database. Lets assume that we receive 100 concurrent requests at the same time for a certain update. How do we guarantee that our data consistency is retained? If working with Java, I guess some options would be:</p>\n<ul>\n<li>Using lock mechanisms</li>\n<li>Using synchronization on methods in our service layer</li>\n</ul>\n<p>However surely this would make a huge impact on the scalability of our application? But I can't see any other way currently of ensuring that we don't encounter any race conditions when interacting with our database. (Also I dont think there is much point to adding synchronization to every method we write in our service?)</p>\n<p>So, I guess the question is: how can we reliably secure our application from race conditions with concurrent requests, while at the same time retaining scalability?</p>\n<p>I realize this is a very open-ended and conceptual question, but please if you can point me in the right direction of what area / topic I should dive into for learning, I would be grateful.</p>\n<p>Thanks!</p>\n"},{"tags":["java","perl","cygwin","heap-memory"],"comments":[{"owner":{"account_id":1199983,"reputation":4382,"user_id":1170839,"accept_rate":97,"display_name":"GoldenNewby"},"score":0,"creation_date":1333088619,"post_id":9937856,"comment_id":12687766,"body_markdown":"I don&#39;t believe that your answer is cygwin related.","body":"I don&#39;t believe that your answer is cygwin related."},{"owner":{"account_id":178805,"reputation":49349,"user_id":411022,"display_name":"Ilmari Karonen"},"score":2,"creation_date":1333089667,"post_id":9937856,"comment_id":12688021,"body_markdown":"How did they &quot;not work&quot;?","body":"How did they &quot;not work&quot;?"},{"owner":{"account_id":1167478,"reputation":3167,"user_id":1151746,"accept_rate":79,"display_name":"Rog Matthews"},"score":0,"creation_date":1333089815,"post_id":9937856,"comment_id":12688055,"body_markdown":"@IlmariKaronen I got an error message `Failed to load Main-class manifest attribute from foo.jar` and then program used default heap size","body":"@IlmariKaronen I got an error message <code>Failed to load Main-class manifest attribute from foo.jar</code> and then program used default heap size"}],"answers":[{"tags":[],"owner":{"account_id":1281287,"reputation":4633,"user_id":1235336,"accept_rate":100,"display_name":"Alex Stybaev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1333090302,"creation_date":1333090302,"answer_id":9938256,"question_id":9937856,"body_markdown":"try the following:\r\n\r\n    system(&#39;&lt;full path to java&gt;/java -xms512m -xmx1024m -cp &lt;full classpath&gt; -jar &lt;full path to your jar&gt;/foo.jar&#39;)","title":"Specify Heap Size in Perl Script for Java Code","body":"<p>try the following:</p>\n\n<pre><code>system('&lt;full path to java&gt;/java -xms512m -xmx1024m -cp &lt;full classpath&gt; -jar &lt;full path to your jar&gt;/foo.jar')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6660,"reputation":29680,"user_id":11289,"accept_rate":75,"display_name":"Axeman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1333114867,"creation_date":1333114867,"answer_id":9944139,"question_id":9937856,"body_markdown":"If possible, I always try to use the `system PROGRAM, LIST` way, and with complete paths, if I know them. \r\n","title":"Specify Heap Size in Perl Script for Java Code","body":"<p>If possible, I always try to use the <code>system PROGRAM, LIST</code> way, and with complete paths, if I know them. </p>\n"}],"owner":{"account_id":1167478,"reputation":3167,"user_id":1151746,"accept_rate":79,"display_name":"Rog Matthews"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":680,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1638576209,"creation_date":1333088000,"question_id":9937856,"body_markdown":"The Java project I am working on needs to be tested for 1800 configurations. I have created a perl script for this and running it on cygwin. \r\n\r\nSome of these configurations require more heap space than the default available space. How can I specify the heap size in perl script? \r\n\r\nI have tried these commands but they didn&#39;t work.\r\n\r\n    system(&#39;java -Xmx512m&#39;);\r\n    system(&#39;java -xmx1g -xms512m&#39;);\r\n    system(&quot;java -Xmx512m -jar foo.jar&#39;);","title":"Specify Heap Size in Perl Script for Java Code","body":"<p>The Java project I am working on needs to be tested for 1800 configurations. I have created a perl script for this and running it on cygwin.</p>\n<p>Some of these configurations require more heap space than the default available space. How can I specify the heap size in perl script?</p>\n<p>I have tried these commands but they didn't work.</p>\n<pre><code>system('java -Xmx512m');\nsystem('java -xmx1g -xms512m');\nsystem(&quot;java -Xmx512m -jar foo.jar');\n</code></pre>\n"},{"tags":["java","string","date"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1638572722,"post_id":70221582,"comment_id":124133426,"body_markdown":"It&#39;s more likely just a display issue based on your current locale","body":"It&#39;s more likely just a display issue based on your current locale"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638575418,"post_id":70221582,"comment_id":124133875,"body_markdown":"`LocalDateTime.parse(&quot;2021-12-10T00:00:00&quot;, DateTimeFormatter.ISO_LOCAL_DATE_TIME);` seems to produce an acceptable result for me","body":"<code>LocalDateTime.parse(&quot;2021-12-10T00:00:00&quot;, DateTimeFormatter.ISO_LOCAL_DATE_TIME);</code> seems to produce an acceptable result for me"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1638575781,"post_id":70221582,"comment_id":124133928,"body_markdown":"Do you know the time zone or offset from UTC intended for the date and time contained in your input?","body":"Do you know the time zone or offset from UTC intended for the date and time contained in your input?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1638582535,"post_id":70221582,"comment_id":124134748,"body_markdown":"No, without seeing your code I am afraid that no one can help you, Also if by *Date* you meant `java.util.Date`, don‚Äôt use that class. It is poorly designed and long outdated, Instead use `LocalDateTime`, `DateTimeFormatter` and other classes from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"No, without seeing your code I am afraid that no one can help you, Also if by <i>Date</i> you meant <code>java.util.Date</code>, don‚Äôt use that class. It is poorly designed and long outdated, Instead use <code>LocalDateTime</code>, <code>DateTimeFormatter</code> and other classes from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":6426024,"reputation":1723,"user_id":4981150,"display_name":"Pieter12345"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638573162,"creation_date":1638573162,"answer_id":70221653,"question_id":70221582,"body_markdown":"Your start date is `2021-12-10 00:00:00 GMT+0` and your result is `2021-12-09 19:00:00  GMT-5`. These times are the same. You can pass a [Locale](https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html) to your [SimpleDataFormat constructor](https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html#SimpleDateFormat-java.lang.String-java.util.Locale-) to be able to configure the used time zone.","title":"Converting string to date 2021-12-10T00:00:00 in java","body":"<p>Your start date is <code>2021-12-10 00:00:00 GMT+0</code> and your result is <code>2021-12-09 19:00:00  GMT-5</code>. These times are the same. You can pass a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html\" rel=\"nofollow noreferrer\">Locale</a> to your <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html#SimpleDateFormat-java.lang.String-java.util.Locale-\" rel=\"nofollow noreferrer\">SimpleDataFormat constructor</a> to be able to configure the used time zone.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638576207,"creation_date":1638575699,"answer_id":70221902,"question_id":70221582,"body_markdown":"# tl;dr\r\n\r\n```java\r\njava.util.Date.from(\r\n    LocalDateTime\r\n    .parse( &quot;2021-12-10T00:00:00&quot; ) \r\n    .atZone( \r\n        ZoneId.of( &quot;America/Bogota&quot; )\r\n    )\r\n    .toInstant()\r\n)\r\n```\r\n\r\n\r\n# Details\r\n\r\nI am guessing that you are using the terrible legacy date-time classes such as `Date` and `Calendar`. Don‚Äôt. Use only *java.time* class.\r\n\r\nYour input string complies with the ISO 8601 standard for date-time formats. The *java.time* classes use these standard formats by default when parsing/generating strings. So no need to specify a formatting pattern. \r\n\r\n    LocalDateTime ldt = LocalDateTime.parse( &quot;2021-12-10T00:00:00&quot; ) ;\r\n\r\nYou said:\r\n\r\n&gt; I&#39;m tring to convert this date string &quot;2021-12-10T00:00:00&quot; into a Date\r\n\r\nThat does not make sense. \r\n\r\nI assume by ‚ÄúDate‚Äù, you meant a `java.until.Date`. That legacy class represents a moment, a point on the timeline as seen in UTC, that is, with an offset from UTC of zero hours-minutes-seconds.\r\n\r\nBut your input lacks an indicator of time zone or offset. For example, if that string was meant to represent a moment as seen in UTC, it should have had a `Z` appended. \r\n\r\n\r\nI am guessing that you assume the input was meant to represent a moment as seen in Colombia. \r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Bogota&quot; ) ;\r\n    ZonedDateTime zdt = ldt.atZone( z ) ;\r\n\r\nNow we have determined a moment as seen through the wall-clock time used by the people of Colombia.\r\n\r\nGenerally best to avoid `java.util.Date` class. But if you must, to interoperate with legacy code not yet updated to *java.time*, you can convert. \r\n\r\n    java.util.Date d = Date.from( zdt.toInstant() ) ;\r\n\r\n\r\n\r\n\r\n","title":"Converting string to date 2021-12-10T00:00:00 in java","body":"<h1>tl;dr</h1>\n<pre class=\"lang-java prettyprint-override\"><code>java.util.Date.from(\n    LocalDateTime\n    .parse( &quot;2021-12-10T00:00:00&quot; ) \n    .atZone( \n        ZoneId.of( &quot;America/Bogota&quot; )\n    )\n    .toInstant()\n)\n</code></pre>\n<h1>Details</h1>\n<p>I am guessing that you are using the terrible legacy date-time classes such as <code>Date</code> and <code>Calendar</code>. Don‚Äôt. Use only <em>java.time</em> class.</p>\n<p>Your input string complies with the ISO 8601 standard for date-time formats. The <em>java.time</em> classes use these standard formats by default when parsing/generating strings. So no need to specify a formatting pattern.</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.parse( &quot;2021-12-10T00:00:00&quot; ) ;\n</code></pre>\n<p>You said:</p>\n<blockquote>\n<p>I'm tring to convert this date string &quot;2021-12-10T00:00:00&quot; into a Date</p>\n</blockquote>\n<p>That does not make sense.</p>\n<p>I assume by ‚ÄúDate‚Äù, you meant a <code>java.until.Date</code>. That legacy class represents a moment, a point on the timeline as seen in UTC, that is, with an offset from UTC of zero hours-minutes-seconds.</p>\n<p>But your input lacks an indicator of time zone or offset. For example, if that string was meant to represent a moment as seen in UTC, it should have had a <code>Z</code> appended.</p>\n<p>I am guessing that you assume the input was meant to represent a moment as seen in Colombia.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Bogota&quot; ) ;\nZonedDateTime zdt = ldt.atZone( z ) ;\n</code></pre>\n<p>Now we have determined a moment as seen through the wall-clock time used by the people of Colombia.</p>\n<p>Generally best to avoid <code>java.util.Date</code> class. But if you must, to interoperate with legacy code not yet updated to <em>java.time</em>, you can convert.</p>\n<pre><code>java.util.Date d = Date.from( zdt.toInstant() ) ;\n</code></pre>\n"}],"owner":{"account_id":14661536,"reputation":89,"user_id":10588571,"display_name":"Erick Jhorman Romero"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1638576207,"creation_date":1638572506,"question_id":70221582,"body_markdown":"I&#39;m tring to convert this date string &quot;2021-12-10T00:00:00&quot; into a Date but when i deserialize it i got this. \r\n\r\nThu Dec 09 19:00:00 COT 2021.\r\nit seems I&#39;m losing one day. \r\n\r\nCan anyone help me? \r\n\r\n```  &quot;startDate&quot;: &quot;2021-12-10T00:00:00&quot;,``` and the result is this\r\n``` 2021-12-09T19:00:00.000-0500 ``` ","title":"Converting string to date 2021-12-10T00:00:00 in java","body":"<p>I'm tring to convert this date string &quot;2021-12-10T00:00:00&quot; into a Date but when i deserialize it i got this.</p>\n<p>Thu Dec 09 19:00:00 COT 2021.\nit seems I'm losing one day.</p>\n<p>Can anyone help me?</p>\n<p><code>  &quot;startDate&quot;: &quot;2021-12-10T00:00:00&quot;,</code> and the result is this\n<code>2021-12-09T19:00:00.000-0500</code></p>\n"},{"tags":["java","generics","lambda","java-8"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1561544192,"post_id":56770266,"comment_id":100096268,"body_markdown":"`entrySet()` will return a `Set&lt;Entry&lt;K,V&gt;&gt;` so if you want to collect those into a `List&lt;String&gt;` you&#39;ll need a `map(...)` in between - or if `V` is actually a `List&lt;String&gt;` you might even need a `flatMap(...)`.","body":"<code>entrySet()</code> will return a <code>Set&lt;Entry&lt;K,V&gt;&gt;</code> so if you want to collect those into a <code>List&lt;String&gt;</code> you&#39;ll need a <code>map(...)</code> in between - or if <code>V</code> is actually a <code>List&lt;String&gt;</code> you might even need a <code>flatMap(...)</code>."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1561544152,"creation_date":1561544152,"answer_id":56770379,"question_id":56770266,"body_markdown":"Your stream pipeline finds all the `Map` entries whose value `List&lt;String&gt;` contains the `String` &quot;abc&quot;, and tries to collect them into a `List&lt;String&gt;`. \r\n\r\nYou didn&#39;t specify how you intend to convert each `Map.Entry&lt;String,List&lt;String&gt;&gt;` element that passes the filter into a `String`. Depending on the required logic, perhaps you are missing a `map()` step after the filter.\r\n\r\nFor example, if you wish to collect all the keys having a value that passes the filter into a `List&lt;String&gt;`:\r\n\r\n     sCPairsObject.setSCPairs(util.getSCMap()\r\n                                  .entrySet()\r\n                                  .stream()\r\n                                  .filter(entry -&gt; entry.getValue().contains(&quot;abc&quot;))\r\n                                  .map(Map.Entry::getKey)\r\n                                  .collect(Collectors.toCollection(ArrayList&lt;String&gt;::new)));","title":"Java generics incompatible types (no instance(s) of type variable(s) exist)","body":"<p>Your stream pipeline finds all the <code>Map</code> entries whose value <code>List&lt;String&gt;</code> contains the <code>String</code> \"abc\", and tries to collect them into a <code>List&lt;String&gt;</code>. </p>\n\n<p>You didn't specify how you intend to convert each <code>Map.Entry&lt;String,List&lt;String&gt;&gt;</code> element that passes the filter into a <code>String</code>. Depending on the required logic, perhaps you are missing a <code>map()</code> step after the filter.</p>\n\n<p>For example, if you wish to collect all the keys having a value that passes the filter into a <code>List&lt;String&gt;</code>:</p>\n\n<pre><code> sCPairsObject.setSCPairs(util.getSCMap()\n                              .entrySet()\n                              .stream()\n                              .filter(entry -&gt; entry.getValue().contains(\"abc\"))\n                              .map(Map.Entry::getKey)\n                              .collect(Collectors.toCollection(ArrayList&lt;String&gt;::new)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1561544337,"creation_date":1561544337,"answer_id":56770435,"question_id":56770266,"body_markdown":"You are streaming entries from the map:\r\n\r\n    sCPairsObject.setSCPairs(util.getSCMap().entrySet().stream()\r\n\r\nThen filtering out some of them:\r\n\r\n    .filter(entry -&gt; entry.getValue().contains(&quot;abc&quot;))\r\n\r\nnow you need to map the entries to List&lt;String&gt;, for example:\r\n\r\n    .map(entry -&gt; entry.getValue())\r\n\r\nand stream the contents of all these lists as one stream:\r\n\r\n    .flatMap(List::stream)\r\n\r\nFinally collect the values into a list:\r\n\r\n    .collect(Collectors.toList());\r\n\r\n","title":"Java generics incompatible types (no instance(s) of type variable(s) exist)","body":"<p>You are streaming entries from the map:</p>\n\n<pre><code>sCPairsObject.setSCPairs(util.getSCMap().entrySet().stream()\n</code></pre>\n\n<p>Then filtering out some of them:</p>\n\n<pre><code>.filter(entry -&gt; entry.getValue().contains(\"abc\"))\n</code></pre>\n\n<p>now you need to map the entries to List, for example:</p>\n\n<pre><code>.map(entry -&gt; entry.getValue())\n</code></pre>\n\n<p>and stream the contents of all these lists as one stream:</p>\n\n<pre><code>.flatMap(List::stream)\n</code></pre>\n\n<p>Finally collect the values into a list:</p>\n\n<pre><code>.collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5644665,"reputation":35951,"user_id":4467208,"accept_rate":51,"display_name":"Murat Karag&#246;z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561544560,"creation_date":1561544560,"answer_id":56770516,"question_id":56770266,"body_markdown":"You don&#39;t need to iterate over the `entrySet` since you are not using the key at all. You can get the values of the `Map` and filter that. Looks like this\r\n\r\n    sCPairsObject.setSCPairs(util.getSCMap()\r\n       .values()\r\n       .stream()\r\n       .filter(entry -&gt; entry.contains(&quot;abc&quot;))\r\n       .flatMap(List::stream)\r\n       .collect(Collectors.toList());","title":"Java generics incompatible types (no instance(s) of type variable(s) exist)","body":"<p>You don't need to iterate over the <code>entrySet</code> since you are not using the key at all. You can get the values of the <code>Map</code> and filter that. Looks like this</p>\n\n<pre><code>sCPairsObject.setSCPairs(util.getSCMap()\n   .values()\n   .stream()\n   .filter(entry -&gt; entry.contains(\"abc\"))\n   .flatMap(List::stream)\n   .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561544615,"creation_date":1561544615,"answer_id":56770532,"question_id":56770266,"body_markdown":"Since you want to convert a `Map&lt;String, List&lt;String&gt;&gt;` to a `List&lt;String&gt;` where the list should be a union of all matching value lists you&#39;ll need a `flatMap()` to join the streams on those value lists into a single stream.\r\n\r\nAdditionally you don&#39;t seem to need the keys so just stream on the map&#39;s values:\r\n\r\n    List&lt;String&gt; scPairs = util.getSCMap().values().stream() //stream on the values only\r\n                               .filter( l -&gt; l.contains( &quot;abc&quot; ) ) //filter the lists\r\n                               .flatMap( Collection::stream ) //join the individual streams\r\n                               .collect( Collectors.toList() ); //collect the result into a single list","title":"Java generics incompatible types (no instance(s) of type variable(s) exist)","body":"<p>Since you want to convert a <code>Map&lt;String, List&lt;String&gt;&gt;</code> to a <code>List&lt;String&gt;</code> where the list should be a union of all matching value lists you'll need a <code>flatMap()</code> to join the streams on those value lists into a single stream.</p>\n\n<p>Additionally you don't seem to need the keys so just stream on the map's values:</p>\n\n<pre><code>List&lt;String&gt; scPairs = util.getSCMap().values().stream() //stream on the values only\n                           .filter( l -&gt; l.contains( \"abc\" ) ) //filter the lists\n                           .flatMap( Collection::stream ) //join the individual streams\n                           .collect( Collectors.toList() ); //collect the result into a single list\n</code></pre>\n"}],"owner":{"account_id":2447479,"reputation":866,"user_id":2134441,"accept_rate":62,"display_name":"Sumit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15945,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":56770435,"answer_count":4,"score":4,"last_activity_date":1638575867,"creation_date":1561543845,"question_id":56770266,"body_markdown":"The question title may seem to be same as some other post but the content is different. So please don&#39;t mark it duplicate.\r\n\r\n**Problem**:\r\n\r\nI have the below class:\r\n\r\n    public class SCDTO extends RDTO {\r\n        private List&lt;String&gt; sCPairs = Collections.emptyList();\r\n    \r\n        public SCDTO(List&lt;String&gt; sCPairs) {\r\n            this.sCPairs = sCPairs;\r\n        }\r\n    \r\n        //Getter setter\r\n        \r\n    }\r\n\r\nI am trying to using the below lambda expression to set the `sCPairs`.\r\n\r\n    sCPairsObject.setSCPairs(\r\n             util.getSCMap().entrySet().stream()\r\n            .filter(entry -&gt; entry.getValue().contains(&quot;abc&quot;))\r\n            .collect(Collectors.toCollection(ArrayList&lt;String&gt;::new))\r\n    );\r\n\r\nBut I have an compilation error saying:\r\n\r\n    no instance(s) of type variable(s) exist so that Entry&lt;String, List&lt;String&gt;&gt; conforms to String\r\n\r\n`util.getSCMap` returns `Map&lt;String, List&lt;String&gt;&gt;`.\r\n\r\nCan anyone please explain why this is happening and how to solve it?\r\n\r\nThanks.\r\n","title":"Java generics incompatible types (no instance(s) of type variable(s) exist)","body":"<p>The question title may seem to be same as some other post but the content is different. So please don't mark it duplicate.</p>\n<p><strong>Problem</strong>:</p>\n<p>I have the below class:</p>\n<pre><code>public class SCDTO extends RDTO {\n    private List&lt;String&gt; sCPairs = Collections.emptyList();\n\n    public SCDTO(List&lt;String&gt; sCPairs) {\n        this.sCPairs = sCPairs;\n    }\n\n    //Getter setter\n    \n}\n</code></pre>\n<p>I am trying to using the below lambda expression to set the <code>sCPairs</code>.</p>\n<pre><code>sCPairsObject.setSCPairs(\n         util.getSCMap().entrySet().stream()\n        .filter(entry -&gt; entry.getValue().contains(&quot;abc&quot;))\n        .collect(Collectors.toCollection(ArrayList&lt;String&gt;::new))\n);\n</code></pre>\n<p>But I have an compilation error saying:</p>\n<pre><code>no instance(s) of type variable(s) exist so that Entry&lt;String, List&lt;String&gt;&gt; conforms to String\n</code></pre>\n<p><code>util.getSCMap</code> returns <code>Map&lt;String, List&lt;String&gt;&gt;</code>.</p>\n<p>Can anyone please explain why this is happening and how to solve it?</p>\n<p>Thanks.</p>\n"},{"tags":["java","templates","syntax"],"comments":[{"owner":{"account_id":1475,"reputation":533764,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":5,"creation_date":1635761591,"post_id":69795327,"comment_id":123371429,"body_markdown":"I strongly urge you to reconsider your approach: error-tolerant APIs are a [very bad idea](https://en.wikipedia.org/wiki/Robustness_principle#Criticism). At worst, it makes security vulnerabilities much more likely; but even in the best case it makes development frustrating and brittle. Try finding a side-channel to communicate errors back to users instead, or create a separate syntax checker that users can rely on.","body":"I strongly urge you to reconsider your approach: error-tolerant APIs are a <a href=\"https://en.wikipedia.org/wiki/Robustness_principle#Criticism\" rel=\"nofollow noreferrer\">very bad idea</a>. At worst, it makes security vulnerabilities much more likely; but even in the best case it makes development frustrating and brittle. Try finding a side-channel to communicate errors back to users instead, or create a separate syntax checker that users can rely on."}],"answers":[{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1636040647,"creation_date":1636040647,"answer_id":69841955,"question_id":69795327,"body_markdown":"The [Apache Velocity](https://velocity.apache.org/engine/2.2/user-guide.html) Template engine can handle Example A - one or more parameters not specified when template is syntactically correct. The template will look like below in velocity:\r\n\r\n```\r\nMy template &lt;h1&gt;${title}&lt;/h1&gt;\r\n&lt;p&gt;${message}&lt;/p&gt;\r\n&lt;ul&gt;\r\n#foreach( $item in $items )\r\n&lt;li&gt;${item.value}&lt;/li&gt;\r\n#end\r\n&lt;/ul&gt;\r\n```\r\n\r\nAnd the output will be like below:\r\n\r\n```\r\nMy template &lt;h1&gt;Hello World&lt;/h1&gt;\r\n&lt;p&gt;${message}&lt;/p&gt;\r\n&lt;ul&gt;\r\n&lt;li&gt;foo&lt;/li&gt;\r\n&lt;li&gt;bar&lt;/li&gt;\r\n&lt;/ul&gt;\r\n```\r\n\r\nBut it wasn&#39;t able to parse the template when I removed the closing parenthesis from the `foreach` line. And I do agree with Konrad that, while a templating framework can be used to handle advanced templating, there might not be any framework that can selectively evaluate only the valid parts of a template and even if there is, communicating the errors back to the users might be the right thing to do","title":"Simple template language that does not emit syntax errors","body":"<p>The <a href=\"https://velocity.apache.org/engine/2.2/user-guide.html\" rel=\"noreferrer\">Apache Velocity</a> Template engine can handle Example A - one or more parameters not specified when template is syntactically correct. The template will look like below in velocity:</p>\n<pre><code>My template &lt;h1&gt;${title}&lt;/h1&gt;\n&lt;p&gt;${message}&lt;/p&gt;\n&lt;ul&gt;\n#foreach( $item in $items )\n&lt;li&gt;${item.value}&lt;/li&gt;\n#end\n&lt;/ul&gt;\n</code></pre>\n<p>And the output will be like below:</p>\n<pre><code>My template &lt;h1&gt;Hello World&lt;/h1&gt;\n&lt;p&gt;${message}&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;foo&lt;/li&gt;\n&lt;li&gt;bar&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n<p>But it wasn't able to parse the template when I removed the closing parenthesis from the <code>foreach</code> line. And I do agree with Konrad that, while a templating framework can be used to handle advanced templating, there might not be any framework that can selectively evaluate only the valid parts of a template and even if there is, communicating the errors back to the users might be the right thing to do</p>\n"}],"owner":{"account_id":1294593,"reputation":801,"user_id":1245992,"accept_rate":71,"display_name":"Gellweiler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1638575822,"creation_date":1635761027,"question_id":69795327,"body_markdown":"I&#39;m looking for a simple template engine that does not emit syntax errors. What I mean by that is that every template by definition should have a valid syntax. If a variable or code construct can&#39;t be resolved it should simply print out the broken code instead of aborting rendering.\r\n\r\nThe reason I want to do that is because I want to use them in a context where power users can adjust their own templates but it is very difficult for me to communicate errors back to them.\r\n\r\nRight now I&#39;m using a bit of advanced search and replace for tokens which works great but doesn&#39;t support loops and if statements. I would like to have a simple template language that allows for very simple if and loop statements.\r\n\r\nDo you know of any template engine that can do that in Java?\r\n\r\n**Example A**\r\n\r\nTemplate:\r\n```\r\nMy template &lt;h1&gt;{title}&lt;/h1&gt;\r\n&lt;p&gt;{message}&lt;/p&gt;\r\n&lt;ul&gt;\r\n{foreach items as item}\r\n&lt;li&gt;{item.value}&lt;/li&gt;\r\n{/foreach}\r\n&lt;/ul&gt; \r\n```\r\n\r\nData:\r\n```\r\n{\r\n    &quot;title&quot;: &quot;Hello World&quot;,\r\n    &quot;items&quot;: [\r\n        {\r\n            &quot;value&quot;: &quot;foo&quot;\r\n        },\r\n        {\r\n            &quot;value&quot;: &quot;bar&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nResult:\r\n```\r\nMy template &lt;h1&gt;Hello World&lt;/h1&gt;\r\n&lt;p&gt;{message}&lt;/p&gt;\r\n&lt;ul&gt;\r\n    &lt;li&gt;foo&lt;/li&gt;\r\n    &lt;li&gt;bar&lt;/li&gt;\r\n&lt;/ul&gt; \r\n```\r\n\r\n**Example B**\r\n\r\nTemplate:\r\n```\r\nMy template &lt;h1&gt;{title}&lt;/h1&gt;\r\n&lt;p&gt;{message}&lt;/p&gt;\r\n&lt;ul&gt;\r\n{foreach items\r\n&lt;li&gt;{item.value&lt;/li&gt;\r\n{/foreach}\r\n&lt;/ul&gt; \r\n```\r\n\r\nData:\r\n```\r\n{\r\n    &quot;title&quot;: &quot;Hello World&quot;,\r\n    &quot;message&quot;: &quot;Test&quot;,\r\n    &quot;items&quot;: [\r\n        {\r\n            &quot;value&quot;: &quot;foo&quot;\r\n        },\r\n        {\r\n            &quot;value&quot;: &quot;bar&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nResult:\r\n```\r\nMy template &lt;h1&gt;Hello World&lt;/h1&gt;\r\n&lt;p&gt;Test&lt;/p&gt;\r\n&lt;ul&gt;\r\n{foreach items\r\n&lt;li&gt;{item.value&lt;/li&gt;\r\n{/foreach}\r\n&lt;/ul&gt;\r\n```\r\n\r\n**Edit:**\r\n\r\nI actually wrote my own simple template engine and it worked. I choose a xml like syntax where if statements and loops where always named. For example `{for_cars}` &amp; `{/for_cars}` and `{if_loggedIn}` &amp; `{/if_loggedIn}` which made it easier to repair errors. But in the end I opted to go for a simpler design where I simply split the template into multiple smaller templates and implementing the loops and if statements around the templates in code. The templates now only support variables but no logic. That way users have fewer options to go wrong which I think makes it a way more robust user design.","title":"Simple template language that does not emit syntax errors","body":"<p>I'm looking for a simple template engine that does not emit syntax errors. What I mean by that is that every template by definition should have a valid syntax. If a variable or code construct can't be resolved it should simply print out the broken code instead of aborting rendering.</p>\n<p>The reason I want to do that is because I want to use them in a context where power users can adjust their own templates but it is very difficult for me to communicate errors back to them.</p>\n<p>Right now I'm using a bit of advanced search and replace for tokens which works great but doesn't support loops and if statements. I would like to have a simple template language that allows for very simple if and loop statements.</p>\n<p>Do you know of any template engine that can do that in Java?</p>\n<p><strong>Example A</strong></p>\n<p>Template:</p>\n<pre><code>My template &lt;h1&gt;{title}&lt;/h1&gt;\n&lt;p&gt;{message}&lt;/p&gt;\n&lt;ul&gt;\n{foreach items as item}\n&lt;li&gt;{item.value}&lt;/li&gt;\n{/foreach}\n&lt;/ul&gt; \n</code></pre>\n<p>Data:</p>\n<pre><code>{\n    &quot;title&quot;: &quot;Hello World&quot;,\n    &quot;items&quot;: [\n        {\n            &quot;value&quot;: &quot;foo&quot;\n        },\n        {\n            &quot;value&quot;: &quot;bar&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>My template &lt;h1&gt;Hello World&lt;/h1&gt;\n&lt;p&gt;{message}&lt;/p&gt;\n&lt;ul&gt;\n    &lt;li&gt;foo&lt;/li&gt;\n    &lt;li&gt;bar&lt;/li&gt;\n&lt;/ul&gt; \n</code></pre>\n<p><strong>Example B</strong></p>\n<p>Template:</p>\n<pre><code>My template &lt;h1&gt;{title}&lt;/h1&gt;\n&lt;p&gt;{message}&lt;/p&gt;\n&lt;ul&gt;\n{foreach items\n&lt;li&gt;{item.value&lt;/li&gt;\n{/foreach}\n&lt;/ul&gt; \n</code></pre>\n<p>Data:</p>\n<pre><code>{\n    &quot;title&quot;: &quot;Hello World&quot;,\n    &quot;message&quot;: &quot;Test&quot;,\n    &quot;items&quot;: [\n        {\n            &quot;value&quot;: &quot;foo&quot;\n        },\n        {\n            &quot;value&quot;: &quot;bar&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>My template &lt;h1&gt;Hello World&lt;/h1&gt;\n&lt;p&gt;Test&lt;/p&gt;\n&lt;ul&gt;\n{foreach items\n&lt;li&gt;{item.value&lt;/li&gt;\n{/foreach}\n&lt;/ul&gt;\n</code></pre>\n<p><strong>Edit:</strong></p>\n<p>I actually wrote my own simple template engine and it worked. I choose a xml like syntax where if statements and loops where always named. For example <code>{for_cars}</code> &amp; <code>{/for_cars}</code> and <code>{if_loggedIn}</code> &amp; <code>{/if_loggedIn}</code> which made it easier to repair errors. But in the end I opted to go for a simpler design where I simply split the template into multiple smaller templates and implementing the loops and if statements around the templates in code. The templates now only support variables but no logic. That way users have fewer options to go wrong which I think makes it a way more robust user design.</p>\n"},{"tags":["java","jdbc","database-connection"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1638524490,"post_id":70211576,"comment_id":124116698,"body_markdown":"[Separation of Concerns](https://en.wikipedia.org/wiki/Separation_of_concerns). Of course, you wouldn&#39;t initialize your database connection in the server&#39;s main class but in a separate class. And you wouldn&#39;t hard wire the connection details like database URL, user and password inside the class but in an external configuration file (e.g. config.properties). So it is possible to configure the system without  recompiling.","body":"<a href=\"https://en.wikipedia.org/wiki/Separation_of_concerns\" rel=\"nofollow noreferrer\">Separation of Concerns</a>. Of course, you wouldn&#39;t initialize your database connection in the server&#39;s main class but in a separate class. And you wouldn&#39;t hard wire the connection details like database URL, user and password inside the class but in an external configuration file (e.g. config.properties). So it is possible to configure the system without  recompiling."},{"owner":{"account_id":15516107,"reputation":275,"user_id":13061992,"display_name":"Sergio"},"score":0,"creation_date":1638530909,"post_id":70211576,"comment_id":124119061,"body_markdown":"@vanje how would I make the server communicate with the database if the connection code was in a separate class?","body":"@vanje how would I make the server communicate with the database if the connection code was in a separate class?"}],"answers":[{"tags":[],"owner":{"account_id":21137002,"reputation":35,"user_id":15540273,"display_name":"ttdat-thecodeguy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638523825,"creation_date":1638523825,"answer_id":70212087,"question_id":70211576,"body_markdown":"all you need a jdbc driver, you can get it here: https://mvnrepository.com/artifact/mysql/mysql-connector-java\r\n\r\nand add jar file to your ide\r\n\r\nafter you need to call it at your code like this:\r\n```\r\npublic static Connection getConnection(String dbURL, String userName, \r\n            String password) {\r\n        Connection conn = null;\r\n        try {\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            conn = DriverManager.getConnection(dbURL, userName, password);\r\n            System.out.println(&quot;connect successfully!&quot;);\r\n        } catch (Exception ex) {\r\n            System.out.println(&quot;connect failure!&quot;);\r\n            ex.printStackTrace();\r\n        }\r\n        return conn;\r\n    }\r\n```\r\n","title":"How to set-up a client-server program and a database together in Java?","body":"<p>all you need a jdbc driver, you can get it here: <a href=\"https://mvnrepository.com/artifact/mysql/mysql-connector-java\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/mysql/mysql-connector-java</a></p>\n<p>and add jar file to your ide</p>\n<p>after you need to call it at your code like this:</p>\n<pre><code>public static Connection getConnection(String dbURL, String userName, \n            String password) {\n        Connection conn = null;\n        try {\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            conn = DriverManager.getConnection(dbURL, userName, password);\n            System.out.println(&quot;connect successfully!&quot;);\n        } catch (Exception ex) {\n            System.out.println(&quot;connect failure!&quot;);\n            ex.printStackTrace();\n        }\n        return conn;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7996844,"reputation":105,"user_id":6032857,"display_name":"Atif Sheikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638524965,"creation_date":1638524965,"answer_id":70212303,"question_id":70211576,"body_markdown":"I guess you are asking about the design/architecture of the application. If that is the case then you should follow MVC architectural pattern. \r\n\r\n** What is MVC ?**\r\n \r\nMVC has three main components:\r\n\r\n - Model\r\n - View\r\n - Controller\r\n\r\neach of them has specific responsibilities. \r\n\r\n\r\n[![MVC Flow][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/h3EYD.png\r\n\r\n\r\n**Model**  \r\nModel is responsible or maintaining data. It is actually connected to DB. So any data manipulation i.e. ADD/Update/Delete/Insert you want to do is done in model.  Basically Models only talks with Controller and gives the needed data to controller. i.e. Model never communicates with Data directly.\r\n \r\n**View**  \r\nData representation i.e. UI (Html/CSS part) is done by View. Controller gives data to View which will be show to end user. i.e. View only speaks to controller.\r\n\r\n**Controller**    \r\nController enables interaction between views and model. It does not have to worry about business logic. It will tell the model what should be done. After receiving Data from the Model it sends it to View. \r\n\r\n","title":"How to set-up a client-server program and a database together in Java?","body":"<p>I guess you are asking about the design/architecture of the application. If that is the case then you should follow MVC architectural pattern.</p>\n<p>** What is MVC ?**</p>\n<p>MVC has three main components:</p>\n<ul>\n<li>Model</li>\n<li>View</li>\n<li>Controller</li>\n</ul>\n<p>each of them has specific responsibilities.</p>\n<p><a href=\"https://i.stack.imgur.com/h3EYD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h3EYD.png\" alt=\"MVC Flow\" /></a></p>\n<p><strong>Model</strong><br />\nModel is responsible or maintaining data. It is actually connected to DB. So any data manipulation i.e. ADD/Update/Delete/Insert you want to do is done in model.  Basically Models only talks with Controller and gives the needed data to controller. i.e. Model never communicates with Data directly.</p>\n<p><strong>View</strong><br />\nData representation i.e. UI (Html/CSS part) is done by View. Controller gives data to View which will be show to end user. i.e. View only speaks to controller.</p>\n<p><strong>Controller</strong><br />\nController enables interaction between views and model. It does not have to worry about business logic. It will tell the model what should be done. After receiving Data from the Model it sends it to View.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638574702,"creation_date":1638555861,"answer_id":70219064,"question_id":70211576,"body_markdown":"# `DataSource`\r\n\r\nThe SQL package defines the [`DataSource`][1] interface. An object of that type is where you keep your database connection info such as database server address, database user name, password, and so on. \r\n\r\nTo quote the documentation:\r\n\r\n&gt; A factory for connections to the physical data source that this `DataSource` object represents. An alternative to the `DriverManager` facility, a `DataSource` object is the preferred means of getting a connection. \r\n\r\nChoose an implementation of that interface. A JDBC driver usually comes with one or more implementations specific to that particular database. You need an implementation specific to that database because various databases have various features and settings. \r\n\r\nReturn an object  of the more general type, the interface, rather than the more specific type, the concrete implementation. Doing so gives you the flexibility of swapping out the concrete class for another without breaking any calling code. \r\n\r\n\r\n```java\r\n    private DataSource configureDataSource ( )\r\n    {\r\n        System.out.println( &quot;INFO - `configureDataSource` method. &quot; + Instant.now() );\r\n\r\n        com.mysql.cj.jdbc.MysqlDataSource dataSource = Objects.requireNonNull( new com.mysql.cj.jdbc.MysqlDataSource() );  // Implementation of `DataSource`.\r\n        dataSource.setServerName( &quot;db-mysql-lon3-433-do-user-89673-1.x.db.ondigitalocean.com&quot; );\r\n        dataSource.setPortNumber( 24_090 );\r\n        dataSource.setDatabaseName( &quot;defaultdb&quot; );\r\n        dataSource.setUser( &quot;scott&quot; );\r\n        dataSource.setPassword( &quot;tiger&quot; );\r\n        return dataSource;\r\n    }\r\n```\r\n\r\nRetain that `DataSource` object in your app. When needing a database connection, call `DataSource#getConnection`. \r\n\r\n```java\r\n        String sql = &quot;SELECT name_ from  user_ ; &quot; ;\r\n        try (\r\n                Connection conn = myDataSource.getConnection() ;\r\n                Statement statement = conn.createStatement() ;\r\n                ResultSet resultSet = statement.executeQuery( sql ) ;\r\n        )\r\n        {\r\n            while ( resultSet.next() )\r\n            {\r\n                String userName = resultSet.getString( &quot;name_&quot; );\r\n                System.out.println( username ) ;\r\n            }\r\n        }\r\n        catch ( SQLException e )\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\nBe sure to close your open resources such as `Connection`, `Statement`, `PreparedStatement`, and `ResultSet`. Generally best to use the [try-with-resources][2] syntax to automatically close your resources.\r\n\r\nNotice a `DataSource` is never ‚Äúopened‚Äù, so we never need close it. A `DataSource` merely holds the bits of info needed to ask the database server for a connection. The `DataSource` object itself is *not* a resource. \r\n\r\n# JNDI\r\n\r\nEventually you may want to use [JNDI][3] to obtain a `DataSource` object. This enables you to externalize the database configuration through a [Jakarta EE][4] server, [LDAP][5] server, etc. rather than hard-code the username, password, etc. \r\n\r\nUnder this approach, when your database changes its address or passwords, you can update the external configuration without needing to recompile your code and redeploy your app.\r\n\r\nTo quote the documentation:\r\n\r\n&gt; An object that implements the `DataSource` interface will typically be registered with a naming service based on the Java Naming and Directory (JNDI) API.\r\n\r\n# For more info\r\n\r\nSee also:\r\n\r\n - [*Implementation of JDBC DataSource in MySQL Connector/J 8*](https://dba.stackexchange.com/q/270786/19079)\r\n - [Tutorial][6] by Oracle, free of cost\r\n - [*Why do we use a DataSource instead of a DriverManager?*][7]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/javax/sql/DataSource.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [3]: https://en.m.wikipedia.org/wiki/Java_Naming_and_Directory_Interface\r\n  [4]: https://Jakarta.EE\r\n  [5]: https://en.m.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol\r\n  [6]: https://docs.oracle.com/javase/tutorial/jdbc/basics/sqldatasources.html\r\n  [7]: https://stackoverflow.com/q/15198319/642706","title":"How to set-up a client-server program and a database together in Java?","body":"<h1><code>DataSource</code></h1>\n<p>The SQL package defines the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/javax/sql/DataSource.html\" rel=\"nofollow noreferrer\"><code>DataSource</code></a> interface. An object of that type is where you keep your database connection info such as database server address, database user name, password, and so on.</p>\n<p>To quote the documentation:</p>\n<blockquote>\n<p>A factory for connections to the physical data source that this <code>DataSource</code> object represents. An alternative to the <code>DriverManager</code> facility, a <code>DataSource</code> object is the preferred means of getting a connection.</p>\n</blockquote>\n<p>Choose an implementation of that interface. A JDBC driver usually comes with one or more implementations specific to that particular database. You need an implementation specific to that database because various databases have various features and settings.</p>\n<p>Return an object  of the more general type, the interface, rather than the more specific type, the concrete implementation. Doing so gives you the flexibility of swapping out the concrete class for another without breaking any calling code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private DataSource configureDataSource ( )\n    {\n        System.out.println( &quot;INFO - `configureDataSource` method. &quot; + Instant.now() );\n\n        com.mysql.cj.jdbc.MysqlDataSource dataSource = Objects.requireNonNull( new com.mysql.cj.jdbc.MysqlDataSource() );  // Implementation of `DataSource`.\n        dataSource.setServerName( &quot;db-mysql-lon3-433-do-user-89673-1.x.db.ondigitalocean.com&quot; );\n        dataSource.setPortNumber( 24_090 );\n        dataSource.setDatabaseName( &quot;defaultdb&quot; );\n        dataSource.setUser( &quot;scott&quot; );\n        dataSource.setPassword( &quot;tiger&quot; );\n        return dataSource;\n    }\n</code></pre>\n<p>Retain that <code>DataSource</code> object in your app. When needing a database connection, call <code>DataSource#getConnection</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        String sql = &quot;SELECT name_ from  user_ ; &quot; ;\n        try (\n                Connection conn = myDataSource.getConnection() ;\n                Statement statement = conn.createStatement() ;\n                ResultSet resultSet = statement.executeQuery( sql ) ;\n        )\n        {\n            while ( resultSet.next() )\n            {\n                String userName = resultSet.getString( &quot;name_&quot; );\n                System.out.println( username ) ;\n            }\n        }\n        catch ( SQLException e )\n        {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>Be sure to close your open resources such as <code>Connection</code>, <code>Statement</code>, <code>PreparedStatement</code>, and <code>ResultSet</code>. Generally best to use the <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> syntax to automatically close your resources.</p>\n<p>Notice a <code>DataSource</code> is never ‚Äúopened‚Äù, so we never need close it. A <code>DataSource</code> merely holds the bits of info needed to ask the database server for a connection. The <code>DataSource</code> object itself is <em>not</em> a resource.</p>\n<h1>JNDI</h1>\n<p>Eventually you may want to use <a href=\"https://en.m.wikipedia.org/wiki/Java_Naming_and_Directory_Interface\" rel=\"nofollow noreferrer\">JNDI</a> to obtain a <code>DataSource</code> object. This enables you to externalize the database configuration through a <a href=\"https://Jakarta.EE\" rel=\"nofollow noreferrer\">Jakarta EE</a> server, <a href=\"https://en.m.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol\" rel=\"nofollow noreferrer\">LDAP</a> server, etc. rather than hard-code the username, password, etc.</p>\n<p>Under this approach, when your database changes its address or passwords, you can update the external configuration without needing to recompile your code and redeploy your app.</p>\n<p>To quote the documentation:</p>\n<blockquote>\n<p>An object that implements the <code>DataSource</code> interface will typically be registered with a naming service based on the Java Naming and Directory (JNDI) API.</p>\n</blockquote>\n<h1>For more info</h1>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://dba.stackexchange.com/q/270786/19079\"><em>Implementation of JDBC DataSource in MySQL Connector/J 8</em></a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/sqldatasources.html\" rel=\"nofollow noreferrer\">Tutorial</a> by Oracle, free of cost</li>\n<li><a href=\"https://stackoverflow.com/q/15198319/642706\"><em>Why do we use a DataSource instead of a DriverManager?</em></a></li>\n</ul>\n"}],"owner":{"account_id":15516107,"reputation":275,"user_id":13061992,"display_name":"Sergio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1051,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70219064,"answer_count":3,"score":0,"last_activity_date":1638574702,"creation_date":1638520992,"question_id":70211576,"body_markdown":"I need to create a program that has a client, server, and a database \r\nThe client needs to input data into the database or query it via the server, I am using MySQL and JDBC to connect MySQL to my java code. I was wondering what the ideal set-up is.\r\n\r\nFor example, I am connecting to my database using the following code:\r\n\r\n```java\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\n\r\npublic class test2 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tString url = &quot;jdbc:mysql://localhost:3306/CovidPreventation&quot;;\r\n\t\tString username = &quot;test&quot;;\r\n\t\tString password = &quot;test&quot;;\r\n\r\n\t\tSystem.out.println(&quot;Connecting database...&quot;);\r\n\r\n\t\ttry (Connection connection = DriverManager.getConnection(url, username, password)) {\r\n\t\t    System.out.println(&quot;Database connected!&quot;);\r\n\t\t} catch (SQLException e) {\r\n\t\t    throw new IllegalStateException(&quot;Cannot connect the database!&quot;, e);\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI was wondering where this should really go, shall I have this in the server class or in a separate class that is connected to the server. It is the first time I do such a thing and I want my practices to be good so help is appreciated.\r\n","title":"How to set-up a client-server program and a database together in Java?","body":"<p>I need to create a program that has a client, server, and a database\nThe client needs to input data into the database or query it via the server, I am using MySQL and JDBC to connect MySQL to my java code. I was wondering what the ideal set-up is.</p>\n<p>For example, I am connecting to my database using the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\npublic class test2 {\n\n    public static void main(String[] args) {\n        \n        String url = &quot;jdbc:mysql://localhost:3306/CovidPreventation&quot;;\n        String username = &quot;test&quot;;\n        String password = &quot;test&quot;;\n\n        System.out.println(&quot;Connecting database...&quot;);\n\n        try (Connection connection = DriverManager.getConnection(url, username, password)) {\n            System.out.println(&quot;Database connected!&quot;);\n        } catch (SQLException e) {\n            throw new IllegalStateException(&quot;Cannot connect the database!&quot;, e);\n        }\n    \n    }\n\n}\n</code></pre>\n<p>I was wondering where this should really go, shall I have this in the server class or in a separate class that is connected to the server. It is the first time I do such a thing and I want my practices to be good so help is appreciated.</p>\n"},{"tags":["java","arrays","boolean"],"answers":[{"tags":[],"owner":{"account_id":6426024,"reputation":1723,"user_id":4981150,"display_name":"Pieter12345"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638574325,"creation_date":1638573293,"answer_id":70221670,"question_id":70221651,"body_markdown":"You&#39;ve used\r\n```java\r\nif (num = don.length) {\r\n```\r\nwhere you should have used\r\n```java\r\nif (num == don.length) {\r\n```\r\nIn the first case, you are assigning `don.length` to `num`, returning the newly assigned value.\r\n\r\nAdditionally, your code does not check whether the read number is in your array. To check for this, you could use something like:\r\n```java\r\nboolean found = false;\r\nfor(int i = 0; i &lt; don.length; i++) {\r\n    if(num == don[i]) {\r\n        found = true;\r\n        break; // Stop the loop as a match has already been found.\r\n    }\r\n}\r\nif(found) {\r\n    System.out.println(&quot;The number you entered is in the Array&quot;);\r\n} else {\r\n    System.out.println(&quot;The number you entered is not in the Array&quot;);\r\n}\r\n```","title":"Cannot convert double to boolean","body":"<p>You've used</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (num = don.length) {\n</code></pre>\n<p>where you should have used</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (num == don.length) {\n</code></pre>\n<p>In the first case, you are assigning <code>don.length</code> to <code>num</code>, returning the newly assigned value.</p>\n<p>Additionally, your code does not check whether the read number is in your array. To check for this, you could use something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean found = false;\nfor(int i = 0; i &lt; don.length; i++) {\n    if(num == don[i]) {\n        found = true;\n        break; // Stop the loop as a match has already been found.\n    }\n}\nif(found) {\n    System.out.println(&quot;The number you entered is in the Array&quot;);\n} else {\n    System.out.println(&quot;The number you entered is not in the Array&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10021915,"reputation":242,"user_id":7411349,"display_name":"Mahmudul Hasan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638573847,"creation_date":1638573847,"answer_id":70221725,"question_id":70221651,"body_markdown":"If you are searching for the input value inside your data array, you may want to traverse the array and check if the input matches with any value inside the array.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    double[] don = { 2.1, 3.2, 4.5, 6.0, 4.5, 1.5, 6.0, 7.0, 6.0, 9.0 };\r\n    Scanner kbd = new Scanner(System.in);\r\n\r\n    System.out.println(&quot;Enter a number&quot;);\r\n    double num = kbd.nextDouble();\r\n    boolean isFound = false;\r\n\r\n    for(int i = 0; i &lt; don.length; i++) {\r\n        if (num == don[i]) {\r\n            isFound = true;\r\n        }\r\n    }\r\n\r\n    if (isFound) {\r\n        System.out.println(&quot;The number you entered is in the Array&quot;);\r\n    } else {\r\n        System.out.println(&quot;The number you entered is not in the Array&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThere are few ways to check if the element exists in the array\r\n - Using a for-loop\r\n - Java 8 Stream API\r\n - Arrays.asList().contains()","title":"Cannot convert double to boolean","body":"<p>If you are searching for the input value inside your data array, you may want to traverse the array and check if the input matches with any value inside the array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    double[] don = { 2.1, 3.2, 4.5, 6.0, 4.5, 1.5, 6.0, 7.0, 6.0, 9.0 };\n    Scanner kbd = new Scanner(System.in);\n\n    System.out.println(&quot;Enter a number&quot;);\n    double num = kbd.nextDouble();\n    boolean isFound = false;\n\n    for(int i = 0; i &lt; don.length; i++) {\n        if (num == don[i]) {\n            isFound = true;\n        }\n    }\n\n    if (isFound) {\n        System.out.println(&quot;The number you entered is in the Array&quot;);\n    } else {\n        System.out.println(&quot;The number you entered is not in the Array&quot;);\n    }\n}\n</code></pre>\n<p>There are few ways to check if the element exists in the array</p>\n<ul>\n<li>Using a for-loop</li>\n<li>Java 8 Stream API</li>\n<li>Arrays.asList().contains()</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6171848,"reputation":1210,"user_id":4809932,"accept_rate":90,"display_name":"bajro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638574284,"creation_date":1638574284,"answer_id":70221769,"question_id":70221651,"body_markdown":"Here is one way of checking if your input, in this case `num`, is present in the given array `don` or not:\r\n\r\n```java\r\nimport java.util.Scanner;\r\nimport java.util.Arrays;\r\n\r\nclass Main {\r\n  public static void main(String[] args) {\r\n    double[] don = { 2.1, 3.2, 4.5, 6.0, 4.5, 1.5, 6.0, 7.0, 6.0, 9.0 };\r\n    Scanner kbd = new Scanner(System.in);\r\n\r\n    System.out.println(&quot;Enter a number&quot;);\r\n    double num = kbd.nextDouble();\r\n    boolean existsInArray = Arrays.stream(don).anyMatch(arrayNum -&gt; arrayNum == num);\r\n\r\n    if (existsInArray) {\r\n      System.out.println(&quot;The number you entered is in the Array&quot;);\r\n    } else {\r\n      System.out.println(&quot;The number you entered is not in the Array&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe `existsInArray` variable is using the Java 8 Stream API, and in particular the `anyMatch()` method, to check if the given input (called `num` here), is contained in the array `don`. If so, `existsInArray` is `true` else `false`.","title":"Cannot convert double to boolean","body":"<p>Here is one way of checking if your input, in this case <code>num</code>, is present in the given array <code>don</code> or not:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.util.Arrays;\n\nclass Main {\n  public static void main(String[] args) {\n    double[] don = { 2.1, 3.2, 4.5, 6.0, 4.5, 1.5, 6.0, 7.0, 6.0, 9.0 };\n    Scanner kbd = new Scanner(System.in);\n\n    System.out.println(&quot;Enter a number&quot;);\n    double num = kbd.nextDouble();\n    boolean existsInArray = Arrays.stream(don).anyMatch(arrayNum -&gt; arrayNum == num);\n\n    if (existsInArray) {\n      System.out.println(&quot;The number you entered is in the Array&quot;);\n    } else {\n      System.out.println(&quot;The number you entered is not in the Array&quot;);\n    }\n  }\n}\n</code></pre>\n<p>The <code>existsInArray</code> variable is using the Java 8 Stream API, and in particular the <code>anyMatch()</code> method, to check if the given input (called <code>num</code> here), is contained in the array <code>don</code>. If so, <code>existsInArray</code> is <code>true</code> else <code>false</code>.</p>\n"}],"owner":{"account_id":22992139,"reputation":25,"user_id":17117445,"display_name":"Prago"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70221725,"answer_count":3,"score":1,"last_activity_date":1638574325,"creation_date":1638573137,"question_id":70221651,"body_markdown":"Apologies if this is confusing, I&#39;m still new to coding. I&#39;m trying to prompt the user for a number and display if the number entered is or is not in the array. Can&#39;t really seem to find an answer. \r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Arrays3 {\r\n    public static void main(String[] args) {\r\n        double[] don = { 2.1, 3.2, 4.5, 6.0, 4.5, 1.5, 6.0, 7.0, 6.0, 9.0 };\r\n        Scanner kbd = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter a number&quot;);\r\n        double num = kbd.nextDouble();\r\n        if (num = don.length) {\r\n            System.out.println(&quot;The number you entered is in the Array&quot;);\r\n        } else {\r\n            System.out.println(&quot;The number you entered is not in the Array&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```","title":"Cannot convert double to boolean","body":"<p>Apologies if this is confusing, I'm still new to coding. I'm trying to prompt the user for a number and display if the number entered is or is not in the array. Can't really seem to find an answer.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Arrays3 {\n    public static void main(String[] args) {\n        double[] don = { 2.1, 3.2, 4.5, 6.0, 4.5, 1.5, 6.0, 7.0, 6.0, 9.0 };\n        Scanner kbd = new Scanner(System.in);\n\n        System.out.println(&quot;Enter a number&quot;);\n        double num = kbd.nextDouble();\n        if (num = don.length) {\n            System.out.println(&quot;The number you entered is in the Array&quot;);\n        } else {\n            System.out.println(&quot;The number you entered is not in the Array&quot;);\n        }\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","jakarta-ee"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1638370603,"post_id":70186207,"comment_id":124070507,"body_markdown":"This is probably opinion-based, and questions for tools and libraries are off-topic. I&#39;d do a web search for tools that can map my infrastructure.","body":"This is probably opinion-based, and questions for tools and libraries are off-topic. I&#39;d do a web search for tools that can map my infrastructure."}],"answers":[{"tags":[],"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638573753,"creation_date":1638573374,"answer_id":70221675,"question_id":70186207,"body_markdown":"If you have a flow with many components the best and most suitable way to keep trace of it is with [sequence diagrams](https://en.m.wikipedia.org/wiki/Sequence_diagram). They are ment just for that, to keep the ordered communication path between the different participant of a flow.\r\n\r\nThere are plenty of tools out there to build sequence diagrams, some of them are even online and you don&#39;t need to do graphic stuff, you just code them and the tool prints it for you.","title":"Best way to capture the flow","body":"<p>If you have a flow with many components the best and most suitable way to keep trace of it is with <a href=\"https://en.m.wikipedia.org/wiki/Sequence_diagram\" rel=\"nofollow noreferrer\">sequence diagrams</a>. They are ment just for that, to keep the ordered communication path between the different participant of a flow.</p>\n<p>There are plenty of tools out there to build sequence diagrams, some of them are even online and you don't need to do graphic stuff, you just code them and the tool prints it for you.</p>\n"}],"owner":{"account_id":10300892,"reputation":17,"user_id":7599667,"display_name":"user7599667"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70221675,"answer_count":1,"score":-1,"last_activity_date":1638573753,"creation_date":1638369697,"question_id":70186207,"body_markdown":"I am dealing with 30 micro rest services each having different flow.  I am also dealing with some EJB related service.  I am also dealing with scheduled job related flows as well. There are hundreds of stored procedures involved from database side. How to capture each flow so that i refreshes my memory when i visit same flow say after few days, weeks also flow keep evolving daily with changes? My mind works well with pictures than words. Any best practices you follow  around this. Thanks in advance","title":"Best way to capture the flow","body":"<p>I am dealing with 30 micro rest services each having different flow.  I am also dealing with some EJB related service.  I am also dealing with scheduled job related flows as well. There are hundreds of stored procedures involved from database side. How to capture each flow so that i refreshes my memory when i visit same flow say after few days, weeks also flow keep evolving daily with changes? My mind works well with pictures than words. Any best practices you follow  around this. Thanks in advance</p>\n"},{"tags":["java","linked-list","copy-constructor"],"comments":[{"owner":{"account_id":2811841,"reputation":1042,"user_id":2417922,"accept_rate":0,"display_name":"Mark Lavin"},"score":1,"creation_date":1638552164,"post_id":70218264,"comment_id":124127628,"body_markdown":"Your copy constructor is doing a &quot;sort of shallow copy&quot;, so that the actual list of nodes is not being copied, hence changes to &quot;another&quot; affect &quot;ls&quot;, too.   You need to do a &quot;deep copy&quot; where you copy each of the nodes in ls.","body":"Your copy constructor is doing a &quot;sort of shallow copy&quot;, so that the actual list of nodes is not being copied, hence changes to &quot;another&quot; affect &quot;ls&quot;, too.   You need to do a &quot;deep copy&quot; where you copy each of the nodes in ls."},{"owner":{"account_id":182885,"reputation":121,"user_id":417905,"display_name":"Matt Vickery"},"score":0,"creation_date":1638552376,"post_id":70218264,"comment_id":124127706,"body_markdown":"Hi, you&#39;ve created a new LinkedList, but you&#39;ve added Node object references from the existing LinkedList to the new one. Those existing Node objects will grow in both LinkedLists as the references are now shared.","body":"Hi, you&#39;ve created a new LinkedList, but you&#39;ve added Node object references from the existing LinkedList to the new one. Those existing Node objects will grow in both LinkedLists as the references are now shared."},{"owner":{"account_id":182885,"reputation":121,"user_id":417905,"display_name":"Matt Vickery"},"score":0,"creation_date":1638552951,"post_id":70218264,"comment_id":124127901,"body_markdown":"I&#39;d consider adding a clone method that returns a `Node` object. Start from the head `Node` and ask each connected `Node` to create a cloned copy of itself, link each `Node` and then finally return the copy of the head &#39;Node&#39;.","body":"I&#39;d consider adding a clone method that returns a <code>Node</code> object. Start from the head <code>Node</code> and ask each connected <code>Node</code> to create a cloned copy of itself, link each <code>Node</code> and then finally return the copy of the head &#39;Node&#39;."},{"owner":{"account_id":23537629,"reputation":3,"user_id":17582333,"display_name":"migo101"},"score":0,"creation_date":1638555713,"post_id":70218264,"comment_id":124128831,"body_markdown":"@MarkLavin Could you provide an example?","body":"@MarkLavin Could you provide an example?"}],"answers":[{"tags":[],"owner":{"account_id":2811841,"reputation":1042,"user_id":2417922,"accept_rate":0,"display_name":"Mark Lavin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638557834,"creation_date":1638557834,"answer_id":70219436,"question_id":70218264,"body_markdown":"Something like\r\n\r\n    public LinkedList(const LinkedList&amp; another) {\r\n        this-&gt;head = this-&gt;current = another.copy()\r\n    }\r\n\r\n    private LinkedList copy( const LinkedList&amp; another ) {\r\n        Node last_node = null;\r\n        Node new_first = null;\r\n        for ( Node next_node = another-&gt;head; next_node != null; \r\n              next_node = next_node-&gt;Next ) {\r\n            Node new_node = new Node( next_node );\r\n            if ( new_first == null )\r\n                new_first = new_node;\r\n            if ( last_node != null )\r\n                last_node.Next = new_node\r\n            last_node = next_node;\r\n         }\r\n         return new_first;\r\n    }\r\n\r\nNOTE that I also changed the signature of the copy constructor; in general,\r\nthe argument should be a ```const``` reference.  Also, my simple solution\r\ncontains a storage leak, since it isn&#39;t deleting the current nodes of &quot;this&quot; before copying from ```another```.\r\n             ","title":"How to properly copy a linked list using copy constructor in Java?","body":"<p>Something like</p>\n<pre><code>public LinkedList(const LinkedList&amp; another) {\n    this-&gt;head = this-&gt;current = another.copy()\n}\n\nprivate LinkedList copy( const LinkedList&amp; another ) {\n    Node last_node = null;\n    Node new_first = null;\n    for ( Node next_node = another-&gt;head; next_node != null; \n          next_node = next_node-&gt;Next ) {\n        Node new_node = new Node( next_node );\n        if ( new_first == null )\n            new_first = new_node;\n        if ( last_node != null )\n            last_node.Next = new_node\n        last_node = next_node;\n     }\n     return new_first;\n}\n</code></pre>\n<p>NOTE that I also changed the signature of the copy constructor; in general,\nthe argument should be a <code>const</code> reference.  Also, my simple solution\ncontains a storage leak, since it isn't deleting the current nodes of &quot;this&quot; before copying from <code>another</code>.</p>\n"},{"tags":[],"owner":{"account_id":10376193,"reputation":278,"user_id":7652300,"display_name":"Abenamor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638573743,"creation_date":1638573416,"answer_id":70221681,"question_id":70218264,"body_markdown":"Hello and welcome to stackoverflow community \r\n\r\nHere is a solution to your post: \r\n\r\nYou can modify the LinkedList constructor as below: \r\n\r\n        public LinkedList(LinkedList another) {\r\n            Node previous = another.head;\r\n            Node temp = null;\r\n            // represent a reference to the head of the new linkedList\r\n            Node first = null;\r\n        while (previous != null) {\r\n            Node node = new Node(previous.val);\r\n            if (first == null) {\r\n                first = node;\r\n                temp = first;\r\n            } else {\r\n                temp.next = node;\r\n                temp = temp.next;\r\n            }\r\n\r\n            previous = previous.next;\r\n        }\r\n\r\n            // set the head\r\n            this.head = first;\r\n            // Temp hold a reference of the last node of the another passed as parameter\r\n            this.current = temp;\r\n\r\n    }\r\n\r\n\r\nI added comments to the main method to show the linked list content before and after insertion: \r\n\r\n            public static void main(String [] args) {\r\n            LinkedList ls = new LinkedList();\r\n            ls.insert(5);\r\n            ls.insert(6);\r\n            ls.insert(7);\r\n            System.out.println(&quot;------------ begin display initial list ls&quot;);\r\n            ls.display();\r\n            System.out.println(&quot;------------ end display initial list ls&quot;);\r\n\r\n            LinkedList another = new LinkedList(ls);\r\n\r\n            System.out.println(&quot;------------ begin display another list before insert&quot;);\r\n            another.display();\r\n            System.out.println(&quot;------------ end display another list before insert&quot;);\r\n            System.out.println(&quot;------------ Insert 0 in another linked list&quot;);\r\n\r\n            another.insert(0);\r\n\r\n            System.out.println(&quot;------------ begin display another list after insert&quot;);\r\n            another.display();\r\n            System.out.println(&quot;------------ end display another list after insert&quot;);\r\n            System.out.println(&quot;--------Initial list must not be modified------------&quot;);\r\n            ls.display(); // expected output is 5 6 7\r\n            System.out.println(&quot;--------end------------&quot;);\r\n        }\r\n\r\n\r\n\r\n\r\n\r\nThis is the result in console \r\n\r\n     ------------ begin display initial list ls\r\n     5\r\n     6\r\n     7\r\n     ------------ end display initial list ls\r\n     ------------ begin display another list before insert\r\n     5\r\n     6\r\n     7\r\n     ------------ end display another list before insert\r\n     ------------ Insert 0 in another linked list\r\n     ------------ begin display another list after insert\r\n     5\r\n     6\r\n     7\r\n     0\r\n     ------------ end display another list after insert\r\n     --------Initial list must not be modified------------\r\n     5\r\n     6\r\n     7\r\n     --------end------------\r\n\r\n\r\nWe have the expected result.","title":"How to properly copy a linked list using copy constructor in Java?","body":"<p>Hello and welcome to stackoverflow community</p>\n<p>Here is a solution to your post:</p>\n<p>You can modify the LinkedList constructor as below:</p>\n<pre><code>    public LinkedList(LinkedList another) {\n        Node previous = another.head;\n        Node temp = null;\n        // represent a reference to the head of the new linkedList\n        Node first = null;\n    while (previous != null) {\n        Node node = new Node(previous.val);\n        if (first == null) {\n            first = node;\n            temp = first;\n        } else {\n            temp.next = node;\n            temp = temp.next;\n        }\n\n        previous = previous.next;\n    }\n\n        // set the head\n        this.head = first;\n        // Temp hold a reference of the last node of the another passed as parameter\n        this.current = temp;\n\n}\n</code></pre>\n<p>I added comments to the main method to show the linked list content before and after insertion:</p>\n<pre><code>        public static void main(String [] args) {\n        LinkedList ls = new LinkedList();\n        ls.insert(5);\n        ls.insert(6);\n        ls.insert(7);\n        System.out.println(&quot;------------ begin display initial list ls&quot;);\n        ls.display();\n        System.out.println(&quot;------------ end display initial list ls&quot;);\n\n        LinkedList another = new LinkedList(ls);\n\n        System.out.println(&quot;------------ begin display another list before insert&quot;);\n        another.display();\n        System.out.println(&quot;------------ end display another list before insert&quot;);\n        System.out.println(&quot;------------ Insert 0 in another linked list&quot;);\n\n        another.insert(0);\n\n        System.out.println(&quot;------------ begin display another list after insert&quot;);\n        another.display();\n        System.out.println(&quot;------------ end display another list after insert&quot;);\n        System.out.println(&quot;--------Initial list must not be modified------------&quot;);\n        ls.display(); // expected output is 5 6 7\n        System.out.println(&quot;--------end------------&quot;);\n    }\n</code></pre>\n<p>This is the result in console</p>\n<pre><code> ------------ begin display initial list ls\n 5\n 6\n 7\n ------------ end display initial list ls\n ------------ begin display another list before insert\n 5\n 6\n 7\n ------------ end display another list before insert\n ------------ Insert 0 in another linked list\n ------------ begin display another list after insert\n 5\n 6\n 7\n 0\n ------------ end display another list after insert\n --------Initial list must not be modified------------\n 5\n 6\n 7\n --------end------------\n</code></pre>\n<p>We have the expected result.</p>\n"}],"owner":{"account_id":23537629,"reputation":3,"user_id":17582333,"display_name":"migo101"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1015,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70219436,"answer_count":2,"score":0,"last_activity_date":1638573743,"creation_date":1638551794,"question_id":70218264,"body_markdown":"I can&#39;t properly use the copy constructor to make a copy of `LinkedList`. \r\n\r\nConsider this example:\r\n\r\n\r\n    public class LinkedList {\r\n    \t\r\n    \tpublic class Node {\r\n    \t\tNode next;\r\n    \t\tint val;\r\n    \t\tNode(int val) {\r\n    \t\t\tthis.val = val;\r\n    \t\t\tnext = null;\r\n    \t\t}\r\n    \t}\r\n    \tpublic Node head;\r\n    \tpublic Node current;\r\n    \tpublic LinkedList() {\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic LinkedList(LinkedList another) {\r\n    \t\tthis.head = another.head;\r\n    \t\tthis.current = another.current;\r\n    \t}\r\n    \t\r\n    \tpublic boolean empty() {\r\n    \t\treturn head == null;\r\n    \t}\r\n    \t\r\n    \tpublic void insert(int e) {\r\n    \t\r\n    \t\tif (empty()) {\r\n    \t\t\thead = current = new Node(e);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tNode currNode = new Node(e);\r\n    \t\tNode tmp = current;\r\n    \t\ttmp.next = currNode;\r\n    \t\tcurrent = currNode;\r\n    \t\t\r\n    \r\n    \t}\r\n    \t\r\n    \tpublic void display() {\r\n    \t\tNode currNode = head;\r\n    \t\twhile (currNode != null) {\r\n    \t\t\tSystem.out.println(currNode.val);\r\n    \t\t\tcurrNode = currNode.next;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nI made a copy of linked list using copy constructor, code in main is below:\r\n\r\n\r\n    public class Main {\r\n    \tpublic static void main(String [] args) {\r\n    \t\tLinkedList ls = new LinkedList();\r\n    \t\tls.insert(5);\r\n    \t\tls.insert(6);\r\n    \t\tls.insert(7);\r\n    \t\t\r\n    \t\tLinkedList another = new LinkedList(ls);\r\n    \t\t\r\n    \t\tanother.display();\r\n    \t\tanother.insert(0);\r\n    \t\tls.display(); // expected output is 5 6 7 \r\n    \t}\r\n    }\r\n\r\nThe output of the code is `5 6 7 5 7 6 0`, however I expected it to be `5 6 7` because I made copy, it won&#39;t affect `ls`. What&#39;s going in? How to fix that to get the expected output?\r\n","title":"How to properly copy a linked list using copy constructor in Java?","body":"<p>I can't properly use the copy constructor to make a copy of <code>LinkedList</code>.</p>\n<p>Consider this example:</p>\n<pre><code>public class LinkedList {\n    \n    public class Node {\n        Node next;\n        int val;\n        Node(int val) {\n            this.val = val;\n            next = null;\n        }\n    }\n    public Node head;\n    public Node current;\n    public LinkedList() {\n        \n    }\n    \n    \n    public LinkedList(LinkedList another) {\n        this.head = another.head;\n        this.current = another.current;\n    }\n    \n    public boolean empty() {\n        return head == null;\n    }\n    \n    public void insert(int e) {\n    \n        if (empty()) {\n            head = current = new Node(e);\n            return;\n        }\n        Node currNode = new Node(e);\n        Node tmp = current;\n        tmp.next = currNode;\n        current = currNode;\n        \n\n    }\n    \n    public void display() {\n        Node currNode = head;\n        while (currNode != null) {\n            System.out.println(currNode.val);\n            currNode = currNode.next;\n        }\n    }\n}\n</code></pre>\n<p>I made a copy of linked list using copy constructor, code in main is below:</p>\n<pre><code>public class Main {\n    public static void main(String [] args) {\n        LinkedList ls = new LinkedList();\n        ls.insert(5);\n        ls.insert(6);\n        ls.insert(7);\n        \n        LinkedList another = new LinkedList(ls);\n        \n        another.display();\n        another.insert(0);\n        ls.display(); // expected output is 5 6 7 \n    }\n}\n</code></pre>\n<p>The output of the code is <code>5 6 7 5 7 6 0</code>, however I expected it to be <code>5 6 7</code> because I made copy, it won't affect <code>ls</code>. What's going in? How to fix that to get the expected output?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23396639,"reputation":509,"user_id":17460546,"display_name":"Mana S"},"score":0,"creation_date":1638573983,"post_id":70221699,"comment_id":124133628,"body_markdown":"Can it be that there is a typo at int numberofDayy = 7; and it should be int numberofDays = 7;?","body":"Can it be that there is a typo at int numberofDayy = 7; and it should be int numberofDays = 7;?"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":1,"creation_date":1638574085,"post_id":70221699,"comment_id":124133649,"body_markdown":"Or rather, that a method `numberofDays()` is being called, but it is not defined anywhere. At least not in the code posted. The  incorrectly named `numberofDayy` variable isn&#39;t even used either way.","body":"Or rather, that a method <code>numberofDays()</code> is being called, but it is not defined anywhere. At least not in the code posted. The  incorrectly named <code>numberofDayy</code> variable isn&#39;t even used either way."},{"owner":{"account_id":10376193,"reputation":278,"user_id":7652300,"display_name":"Abenamor"},"score":0,"creation_date":1638574268,"post_id":70221699,"comment_id":124133669,"body_markdown":"Can you post the code of this method `numberofDays` ?","body":"Can you post the code of this method <code>numberofDays</code> ?"}],"owner":{"account_id":23538977,"reputation":27,"user_id":17583489,"display_name":"River Yoo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638573603,"creation_date":1638573603,"question_id":70221699,"body_markdown":"This program is to calculate the birthdays from percentages and days. The problem is it won&#39;t compile. It says there&#39;s an error on numberofDays which is undefined. What does that mean? And how to solve it. \r\n\r\n    import java.util.Scanner;\r\n    public class Birthdays {\r\n    public static int DAYS_YEAR = 366;\r\n\r\n    public static void main(String[] args) {\r\n        // Here are some lines that might save you a bit of time as you write your code:\r\n\r\n        Scanner cin = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Please enter the month: &quot;);\r\n        int currentMonth = cin.nextInt();\r\n        System.out.println(&quot;Please enter the day; &quot;);\r\n        int currentDay = cin.nextInt();\r\n        System.out.println(&quot;Please enter the year: &quot;);\r\n        int currentYear = cin.nextInt(); \r\n\r\n        int numberofDayy = 7;\r\n\r\n        int currentDays = numberofDays(currentMonth, currentDay, currentYear);\r\n        System.out.println(&quot;Today is &quot; + currentMonth + &quot;/&quot; + currentDay + &quot;/&quot; + currentYear + &quot; day # &quot; + currentDays);\r\n\r\n        System.out.println(&quot;What is the 1st person&#39;s birth month:&quot;);\r\n        int month1 = cin.nextInt();\r\n        System.out.println(&quot;What is the 1st person&#39;s birth day:&quot;);\r\n        int day1 = cin.nextInt();\r\n        System.out.println(&quot;What is the 1st person&#39;s birth year:&quot;);\r\n        int year1 = cin.nextInt();\r\n\r\n        int birthDays = numberofDays(month1, day1, year1);\r\n        double nextBirthday1 = birthDays - currentDays &gt;= 0 ? birthDays - currentDays: DAYS_YEAR - (currentDays - birthDays);\r\n        System.out.println(month1 + &quot;/&quot; + day1 + &quot;/&quot; + year1 + &quot;. Your next birthday is in &quot; + nextBirthday1 + &quot;day(s). That is &quot; + (nextBirthday1/DAYS_YEAR) * 100 + &quot; percent of a year away.&quot;);\r\n\r\n        System.out.println(&quot;What is the 2nd person&#39;s birth month:&quot;);\r\n        int month2 = cin.nextInt();\r\n        System.out.println(&quot;What is the 2nd person&#39;s birth day:&quot;);\r\n        int day2 = cin.nextInt();\r\n        System.out.println(&quot;What is the 2nd person&#39;s birth year:&quot;);\r\n        int year2 = cin.nextInt();\r\n\r\n        int birthDays1 = numberofDays(month2, day2, year2);\r\n        double nextBirthday2 = birthDays - currentDays &gt;= 0 ? birthDays - currentDays: DAYS_YEAR - (currentDays - birthDays);\r\n        System.out.println(month1 + &quot;/&quot; + day1 + &quot;/&quot; + year1 + &quot;. Your next birthday is in &quot; + nextBirthday2 + &quot;day(s). That is &quot; + (nextBirthday2/DAYS_YEAR) * 100 + &quot; percent of a year away.&quot;);\r\n\r\n\r\n    }\r\n}","title":"How to solve an error for undefined numberofDays","body":"<p>This program is to calculate the birthdays from percentages and days. The problem is it won't compile. It says there's an error on numberofDays which is undefined. What does that mean? And how to solve it.</p>\n<pre><code>import java.util.Scanner;\npublic class Birthdays {\npublic static int DAYS_YEAR = 366;\n\npublic static void main(String[] args) {\n    // Here are some lines that might save you a bit of time as you write your code:\n\n    Scanner cin = new Scanner(System.in);\n\n    System.out.println(&quot;Please enter the month: &quot;);\n    int currentMonth = cin.nextInt();\n    System.out.println(&quot;Please enter the day; &quot;);\n    int currentDay = cin.nextInt();\n    System.out.println(&quot;Please enter the year: &quot;);\n    int currentYear = cin.nextInt(); \n\n    int numberofDayy = 7;\n\n    int currentDays = numberofDays(currentMonth, currentDay, currentYear);\n    System.out.println(&quot;Today is &quot; + currentMonth + &quot;/&quot; + currentDay + &quot;/&quot; + currentYear + &quot; day # &quot; + currentDays);\n\n    System.out.println(&quot;What is the 1st person's birth month:&quot;);\n    int month1 = cin.nextInt();\n    System.out.println(&quot;What is the 1st person's birth day:&quot;);\n    int day1 = cin.nextInt();\n    System.out.println(&quot;What is the 1st person's birth year:&quot;);\n    int year1 = cin.nextInt();\n\n    int birthDays = numberofDays(month1, day1, year1);\n    double nextBirthday1 = birthDays - currentDays &gt;= 0 ? birthDays - currentDays: DAYS_YEAR - (currentDays - birthDays);\n    System.out.println(month1 + &quot;/&quot; + day1 + &quot;/&quot; + year1 + &quot;. Your next birthday is in &quot; + nextBirthday1 + &quot;day(s). That is &quot; + (nextBirthday1/DAYS_YEAR) * 100 + &quot; percent of a year away.&quot;);\n\n    System.out.println(&quot;What is the 2nd person's birth month:&quot;);\n    int month2 = cin.nextInt();\n    System.out.println(&quot;What is the 2nd person's birth day:&quot;);\n    int day2 = cin.nextInt();\n    System.out.println(&quot;What is the 2nd person's birth year:&quot;);\n    int year2 = cin.nextInt();\n\n    int birthDays1 = numberofDays(month2, day2, year2);\n    double nextBirthday2 = birthDays - currentDays &gt;= 0 ? birthDays - currentDays: DAYS_YEAR - (currentDays - birthDays);\n    System.out.println(month1 + &quot;/&quot; + day1 + &quot;/&quot; + year1 + &quot;. Your next birthday is in &quot; + nextBirthday2 + &quot;day(s). That is &quot; + (nextBirthday2/DAYS_YEAR) * 100 + &quot; percent of a year away.&quot;);\n\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","caching","persistence","ignite"],"answers":[{"tags":[],"owner":{"account_id":15624718,"reputation":2360,"user_id":11272685,"display_name":"Alexandr Shapkin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638573252,"creation_date":1638573252,"answer_id":70221664,"question_id":70209518,"body_markdown":"I think custom CacheStore might help you here, check this [Implementing Custom Cache Store][1] docs.\r\n\r\nAs the documentation suggests, it&#39;s better to start with `CacheStoreAdapter&lt;K, V&gt;` and implement the `load` and `write` methods just the way you like. \r\n\r\n  [1]: https://www.gridgain.com/docs/latest/developers-guide/persistence/custom-cache-store","title":"Different Data Models in In-Memory Cache and In Persistence Layer in Apache Ignite Data Grid","body":"<p>I think custom CacheStore might help you here, check this <a href=\"https://www.gridgain.com/docs/latest/developers-guide/persistence/custom-cache-store\" rel=\"nofollow noreferrer\">Implementing Custom Cache Store</a> docs.</p>\n<p>As the documentation suggests, it's better to start with <code>CacheStoreAdapter&lt;K, V&gt;</code> and implement the <code>load</code> and <code>write</code> methods just the way you like.</p>\n"}],"owner":{"account_id":5643501,"reputation":421,"user_id":4466455,"display_name":"bivrantoshakil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70221664,"answer_count":1,"score":0,"last_activity_date":1638573252,"creation_date":1638505456,"question_id":70209518,"body_markdown":"In apache ignite data grid, it has read-through and write through features that means if I update anything in in-memory layer, eventually the update will be written in persistence layer. It works perfectly if I have same data model in both of the in-memory and persistence layer.\r\nBut I want to have two different model in in-memory cache and persistence layer and want it to have data grid like behavior. If I update anything in the in-memory, I want to have this update written in specific part of persistence layer. \r\n\r\nI have gone through the documentation and found out about the custom **CacheStore** implementation but not sure how to achieve the above requirement.","title":"Different Data Models in In-Memory Cache and In Persistence Layer in Apache Ignite Data Grid","body":"<p>In apache ignite data grid, it has read-through and write through features that means if I update anything in in-memory layer, eventually the update will be written in persistence layer. It works perfectly if I have same data model in both of the in-memory and persistence layer.\nBut I want to have two different model in in-memory cache and persistence layer and want it to have data grid like behavior. If I update anything in the in-memory, I want to have this update written in specific part of persistence layer.</p>\n<p>I have gone through the documentation and found out about the custom <strong>CacheStore</strong> implementation but not sure how to achieve the above requirement.</p>\n"},{"tags":["java","discord","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":18158482,"reputation":134,"user_id":13210204,"display_name":"stefano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638573239,"creation_date":1638573239,"answer_id":70221662,"question_id":70125609,"body_markdown":"This will mostly depend on what database you&#39;re using. But because it&#39;s MongoDB, I&#39;ll go with that. \r\n\r\nTo connect to the MongoDB database, there are a few libraries that you can use. I suggest using the [MongoDB Default Library for Java][1]. Once that&#39;s done, you can use some of the [MongoDB BSON Types][2] (Specifically type 17). You can get the current time, and the time in the database and compare them to each other. From this time, you can get the relative time and how much time there is still left until a refill.\r\n\r\n\r\n  [1]: https://www.mongodb.com/java\r\n  [2]: https://docs.mongodb.com/manual/reference/bson-types/","title":"Trying to understand Timestamps in Java (Discord JDA &amp; Mongodb)","body":"<p>This will mostly depend on what database you're using. But because it's MongoDB, I'll go with that.</p>\n<p>To connect to the MongoDB database, there are a few libraries that you can use. I suggest using the <a href=\"https://www.mongodb.com/java\" rel=\"nofollow noreferrer\">MongoDB Default Library for Java</a>. Once that's done, you can use some of the <a href=\"https://docs.mongodb.com/manual/reference/bson-types/\" rel=\"nofollow noreferrer\">MongoDB BSON Types</a> (Specifically type 17). You can get the current time, and the time in the database and compare them to each other. From this time, you can get the relative time and how much time there is still left until a refill.</p>\n"}],"owner":{"account_id":23462364,"reputation":1,"user_id":17517039,"display_name":"kaizen4"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638573239,"creation_date":1637935214,"question_id":70125609,"body_markdown":"Please take a look at the image attached.\r\n\r\n![Discord Bot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JIu8Q.png\r\n\r\nIf you type in &quot;prefix + start&quot; the bot will count down and fill up your &quot;backpack&quot;.\r\nIf you type in &quot;prefix + collect&quot; it will collect all items from the &quot;backpack&quot; and reset the item count.\r\n\r\n\r\nI know how to set up a database and how to connect a discord bot to it. (mongodb, discord jda)\r\n\r\nStill, I don&#39;t understand how this was solved. They save an initial timestamp in the database and subtract the elapsed time? Maybe someone can help me ^^","title":"Trying to understand Timestamps in Java (Discord JDA &amp; Mongodb)","body":"<p>Please take a look at the image attached.</p>\n<p><img src=\"https://i.stack.imgur.com/JIu8Q.png\" alt=\"Discord Bot\" /></p>\n<p>If you type in &quot;prefix + start&quot; the bot will count down and fill up your &quot;backpack&quot;.\nIf you type in &quot;prefix + collect&quot; it will collect all items from the &quot;backpack&quot; and reset the item count.</p>\n<p>I know how to set up a database and how to connect a discord bot to it. (mongodb, discord jda)</p>\n<p>Still, I don't understand how this was solved. They save an initial timestamp in the database and subtract the elapsed time? Maybe someone can help me ^^</p>\n"},{"tags":["java","spring","amazon-elastic-beanstalk"],"comments":[{"owner":{"account_id":5131675,"reputation":368,"user_id":4111643,"accept_rate":100,"display_name":"CodeMonkey"},"score":0,"creation_date":1499990927,"post_id":45092653,"comment_id":77158038,"body_markdown":"Has it ever worked? If you revert to something that did work and upload does it fix it? 502 and degraded could mean anything, bad annotations, server config, database problems, etc etc.","body":"Has it ever worked? If you revert to something that did work and upload does it fix it? 502 and degraded could mean anything, bad annotations, server config, database problems, etc etc."},{"owner":{"account_id":10277496,"reputation":383,"user_id":8112008,"accept_rate":50,"display_name":"Jim"},"score":0,"creation_date":1499991195,"post_id":45092653,"comment_id":77158116,"body_markdown":"It runs locally and says deployed under status but that&#39;s all I know. Is there a way to see if it failed to deploy? I&#39;ve checked multiple logs and saw no errors.","body":"It runs locally and says deployed under status but that&#39;s all I know. Is there a way to see if it failed to deploy? I&#39;ve checked multiple logs and saw no errors."},{"owner":{"account_id":5131675,"reputation":368,"user_id":4111643,"accept_rate":100,"display_name":"CodeMonkey"},"score":0,"creation_date":1500067868,"post_id":45092653,"comment_id":77195518,"body_markdown":"have you looked at the logs?","body":"have you looked at the logs?"}],"answers":[{"tags":[],"owner":{"account_id":10277496,"reputation":383,"user_id":8112008,"accept_rate":50,"display_name":"Jim"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1500342265,"creation_date":1500342265,"answer_id":45156141,"question_id":45092653,"body_markdown":"So, it turned out that i was getting an error in my logs but i was not able to see them. I had to ignore all of the eb-something log files. I needed to be looking at the web-1.log. This file may be named different depending on your instance and your environment but this is where i could actually see my error. ","title":"AWS Elastic Beanstalk &quot;Impaired services on all instances.&quot;","body":"<p>So, it turned out that i was getting an error in my logs but i was not able to see them. I had to ignore all of the eb-something log files. I needed to be looking at the web-1.log. This file may be named different depending on your instance and your environment but this is where i could actually see my error. </p>\n"},{"tags":[],"owner":{"account_id":3542475,"reputation":1261,"user_id":2959200,"display_name":"Sjd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600266256,"creation_date":1600266256,"answer_id":63922163,"question_id":45092653,"body_markdown":"people who are finding their actual log can look up for this section in their EB log file.\r\n\r\n\r\n----------------------------------------\r\n/var/log/web.stdout.log\r\n----------------------------------------\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HALH1.png","title":"AWS Elastic Beanstalk &quot;Impaired services on all instances.&quot;","body":"<p>people who are finding their actual log can look up for this section in their EB log file.</p>\n<hr />\n<h2>/var/log/web.stdout.log</h2>\n<p><a href=\"https://i.stack.imgur.com/HALH1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HALH1.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":22494523,"reputation":21,"user_id":16691756,"display_name":"Matyas Greff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638572995,"creation_date":1638572409,"answer_id":70221567,"question_id":45092653,"body_markdown":"I had the same problem, with &quot;Impaired services on all instances.&quot;\r\n\r\nAs suggested above, I ssh&#39;d into the elastic beanstalk instance and looked at /var/log/web.stdout.log.\r\nAs I found there, my problem was that I was following a django tutorial and created a django config file with the WSGIPath pointing to the project name that was in the tutorial, but my actual project had a different name.\r\nI corrected the mistake, wiped the elastic beanstalk instance and set up the environment again from scratch.\r\nNo problems at all this time, everything turned green immediately.","title":"AWS Elastic Beanstalk &quot;Impaired services on all instances.&quot;","body":"<p>I had the same problem, with &quot;Impaired services on all instances.&quot;</p>\n<p>As suggested above, I ssh'd into the elastic beanstalk instance and looked at /var/log/web.stdout.log.\nAs I found there, my problem was that I was following a django tutorial and created a django config file with the WSGIPath pointing to the project name that was in the tutorial, but my actual project had a different name.\nI corrected the mistake, wiped the elastic beanstalk instance and set up the environment again from scratch.\nNo problems at all this time, everything turned green immediately.</p>\n"}],"owner":{"account_id":10277496,"reputation":383,"user_id":8112008,"accept_rate":50,"display_name":"Jim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7861,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":45156141,"answer_count":3,"score":3,"last_activity_date":1638572995,"creation_date":1499990606,"question_id":45092653,"body_markdown":"I have a spring service that I&#39;m trying to load load into AWS Beanstalk. When i create the environment and upload my .war file it just stays stuck on degraded. When i look through the logs for errors i cannot see any errors. Also when try and connect to my url, for example http://something.us-east-1.elasticbeanstalk.com/, i get a 502 error. I&#39;ve already looked at the documentation provided by amazon that states the red degraded message means that all/most of the requests to you page are failing. Any idea how i can find the issue? See the screenshot below for the Enhanced Health Overview. \r\n\r\n[1]: https://i.stack.imgur.com/0mqgx.png","title":"AWS Elastic Beanstalk &quot;Impaired services on all instances.&quot;","body":"<p>I have a spring service that I'm trying to load load into AWS Beanstalk. When i create the environment and upload my .war file it just stays stuck on degraded. When i look through the logs for errors i cannot see any errors. Also when try and connect to my url, for example <a href=\"http://something.us-east-1.elasticbeanstalk.com/\" rel=\"nofollow noreferrer\">http://something.us-east-1.elasticbeanstalk.com/</a>, i get a 502 error. I've already looked at the documentation provided by amazon that states the red degraded message means that all/most of the requests to you page are failing. Any idea how i can find the issue? See the screenshot below for the Enhanced Health Overview. </p>\n"},{"tags":["java","android","concurrency","jvm"],"comments":[{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":4,"creation_date":1638234134,"post_id":70163017,"comment_id":124029296,"body_markdown":"I asked the same question a few months ago: http://cs.oswego.edu/pipermail/concurrency-interest/2021-September/017422.html","body":"I asked the same question a few months ago: <a href=\"http://cs.oswego.edu/pipermail/concurrency-interest/2021-September/017422.html\" rel=\"nofollow noreferrer\">cs.oswego.edu/pipermail/concurrency-interest/2021-September/&zwnj;&#8203;&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5060604,"reputation":604,"user_id":4062350,"accept_rate":20,"display_name":"Chapman Flack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638572985,"creation_date":1638572985,"answer_id":70221637,"question_id":70163017,"body_markdown":"The comment from boneill, and the linked concurrency-interest mailing list response from Remi Forax, seem to contain the answer. The `MutableCallSite.syncAll` method really does not do what is advertised, but the behavior ends up being adequate because `MutableCallSite.setTarget` does _more_ than is advertised. So in the scheme\r\n\r\n```java\r\nfor ( i = 0; i &lt; sites.length; ++ i )\r\n  sites[i].setTarget(newTargets[i]);\r\nMutableCallSite.syncAll(sites);\r\n```\r\nthe necessary synchronization happens; it is just that most of the work happens before the `syncAll`. And likewise,\r\n\r\n```java\r\nSwitchPoint.invalidateAll(switchpoints);\r\n```\r\n(which is implemented as a loop just like the above, touching the `MutableCallSite` underlying each `SwitchPoint`) also the necessary work happens.\r\n\r\nAll is not perfect with this partially-implemented scheme, though: moving the heavy lifting from `syncAll` into `setTarget` looks like it sacrifices the advertised benefit of paying the `syncAll` cost just once after updating _n_ call site targets. In this implementation, that cost (`mark_dependent_nmethods` and `deoptimize_all_marked` by handshaking with all threads) happens _n_ times, but each time only handling the dependencies of one `CallSite`. Likewise for `SwitchPoint.invalidateAll` with an array of _n_ `SwitchPoint`s.\r\n\r\nI don&#39;t know why it&#39;s been left at this state of development since Java 7, but it looks like there is probably room for a nice performance boost if it ever gets implemented as originally documented.","title":"Does FIXME: NYI in MutableCallSite.syncAll mean not yet implemented?","body":"<p>The comment from boneill, and the linked concurrency-interest mailing list response from Remi Forax, seem to contain the answer. The <code>MutableCallSite.syncAll</code> method really does not do what is advertised, but the behavior ends up being adequate because <code>MutableCallSite.setTarget</code> does <em>more</em> than is advertised. So in the scheme</p>\n<pre class=\"lang-java prettyprint-override\"><code>for ( i = 0; i &lt; sites.length; ++ i )\n  sites[i].setTarget(newTargets[i]);\nMutableCallSite.syncAll(sites);\n</code></pre>\n<p>the necessary synchronization happens; it is just that most of the work happens before the <code>syncAll</code>. And likewise,</p>\n<pre class=\"lang-java prettyprint-override\"><code>SwitchPoint.invalidateAll(switchpoints);\n</code></pre>\n<p>(which is implemented as a loop just like the above, touching the <code>MutableCallSite</code> underlying each <code>SwitchPoint</code>) also the necessary work happens.</p>\n<p>All is not perfect with this partially-implemented scheme, though: moving the heavy lifting from <code>syncAll</code> into <code>setTarget</code> looks like it sacrifices the advertised benefit of paying the <code>syncAll</code> cost just once after updating <em>n</em> call site targets. In this implementation, that cost (<code>mark_dependent_nmethods</code> and <code>deoptimize_all_marked</code> by handshaking with all threads) happens <em>n</em> times, but each time only handling the dependencies of one <code>CallSite</code>. Likewise for <code>SwitchPoint.invalidateAll</code> with an array of <em>n</em> <code>SwitchPoint</code>s.</p>\n<p>I don't know why it's been left at this state of development since Java 7, but it looks like there is probably room for a nice performance boost if it ever gets implemented as originally documented.</p>\n"}],"owner":{"account_id":5060604,"reputation":604,"user_id":4062350,"accept_rate":20,"display_name":"Chapman Flack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1638572985,"creation_date":1638233441,"question_id":70163017,"body_markdown":"In `java.lang.invoke` there are two interesting constructs, `MutableCallSite` and `SwitchPoint`. They are described as offering a way to change their targets (to an arbitrary different target for a `MutableCallSite`, or to a predefined when-invalidated target for a `SwitchPoint`), with other threads guaranteed to pick up the update, but with reduced overhead for the uses of the MCS or SP when it hasn&#39;t been changed (reduced, compared to a check with synchronization effects on every use). The `SwitchPoint` documentation says it can be built over `MutableCallSite`, and in the OpenJDK sources on GitHub, it is. So the place to look for the magic is in `MutableCallSite.syncAll`.\r\n\r\nIn [the source for that method][syncall17], the magic seems to have three steps:\r\n\r\n* Step 1 is a `lazySet` (JMM effects of `setRelease`) on a private `AtomicInteger` that no other thread will ever read;\r\n* Step 2 looks at all of the passed `MutableCallSite` references to confirm none are null;\r\n* Step 3 is a comment: `// FIXME: NYI`\r\n\r\nTo an untrained eye, there seems to be real work left for that comment to do. ;)\r\n\r\nIt seems like the developers of Android saw that comment and [removed the method from Android][andrm] because they didn&#39;t want to advertise an unimplemented method (even though `MutableCallSite` *without* `syncAll` doesn&#39;t seem like a useful construct). Were they right?\r\n\r\nOn the other hand, it seems really unlikely to be so glaringly missing its functionality. It has been in Java since Java 7, and apparently important projects like Nashorn and JRuby have made heavy use of `MutableCallSite` and `SwitchPoint`. I have not stumbled on any comments about them being broken because of it.\r\n\r\nWhat&#39;s more, I understand that some implementations in the Java class library can look incomplete because parts of the magic are supplied by the JVM implementation. This seems like a prime example where that *could* be happening, but I haven&#39;t been able to find the details.\r\n\r\nDoes someone know the details? It would be good to know what the dependable behavior really is. The `syncAll` javadoc sounds very promising at first. Paraphrasing:\r\n\r\n1. its effect is to force all future readers of each call site&#39;s target to accept the most recently stored value\r\n2. it may (*may??*) block until all readers have (somehow) decached all previous versions\r\n3. reader threads may observe previous versions of the target until the `syncAll` call returns. (*Does this mean they* may not *do so after the `syncAll` call returns? And if so, wouldn&#39;t that imply #2 is really something stronger than &quot;may&quot;?*)\r\n4. it is &quot;likely to be expensive&quot; (as the trade-off for having `getTarget` be cheap; that&#39;s the magic part).\r\n\r\nBut later in the same javadoc, delving into JMM details, it says &quot;*If* (some other thread) T executes a synchronization action A after the volatile write&quot; ... *then* it must see the updated target.\r\n\r\nThat sounds a little ... less robust.\r\n\r\nIs this all based on some JVM implementation knowledge that places an upper bound on how long that can take after the `syncAll` returns? If so, can that upper bound be stated?\r\n\r\nIf there really is nothing missing and the thing works as advertised, would it be worthwhile to remove the `// FIXME: NYI` in the source (and maybe replace it with an explanation of what really happens)?\r\n\r\nFor more: [earlier version of this question][earl] posted on `mlvm-dev` list but didn&#39;t attract any answers.\r\n\r\n[syncall17]: https://github.com/openjdk/jdk17u/blob/master/src/java.base/share/classes/java/lang/invoke/MutableCallSite.java#L281\r\n[andrm]: https://android.googlesource.com/platform/libcore/+/17162a1%5E!/ojluni/src/main/java/java/lang/invoke/MutableCallSite.java\r\n[earl]: https://mail.openjdk.java.net/pipermail/mlvm-dev/2021-November/006906.html","title":"Does FIXME: NYI in MutableCallSite.syncAll mean not yet implemented?","body":"<p>In <code>java.lang.invoke</code> there are two interesting constructs, <code>MutableCallSite</code> and <code>SwitchPoint</code>. They are described as offering a way to change their targets (to an arbitrary different target for a <code>MutableCallSite</code>, or to a predefined when-invalidated target for a <code>SwitchPoint</code>), with other threads guaranteed to pick up the update, but with reduced overhead for the uses of the MCS or SP when it hasn't been changed (reduced, compared to a check with synchronization effects on every use). The <code>SwitchPoint</code> documentation says it can be built over <code>MutableCallSite</code>, and in the OpenJDK sources on GitHub, it is. So the place to look for the magic is in <code>MutableCallSite.syncAll</code>.</p>\n<p>In <a href=\"https://github.com/openjdk/jdk17u/blob/master/src/java.base/share/classes/java/lang/invoke/MutableCallSite.java#L281\" rel=\"nofollow noreferrer\">the source for that method</a>, the magic seems to have three steps:</p>\n<ul>\n<li>Step 1 is a <code>lazySet</code> (JMM effects of <code>setRelease</code>) on a private <code>AtomicInteger</code> that no other thread will ever read;</li>\n<li>Step 2 looks at all of the passed <code>MutableCallSite</code> references to confirm none are null;</li>\n<li>Step 3 is a comment: <code>// FIXME: NYI</code></li>\n</ul>\n<p>To an untrained eye, there seems to be real work left for that comment to do. ;)</p>\n<p>It seems like the developers of Android saw that comment and <a href=\"https://android.googlesource.com/platform/libcore/+/17162a1%5E!/ojluni/src/main/java/java/lang/invoke/MutableCallSite.java\" rel=\"nofollow noreferrer\">removed the method from Android</a> because they didn't want to advertise an unimplemented method (even though <code>MutableCallSite</code> <em>without</em> <code>syncAll</code> doesn't seem like a useful construct). Were they right?</p>\n<p>On the other hand, it seems really unlikely to be so glaringly missing its functionality. It has been in Java since Java 7, and apparently important projects like Nashorn and JRuby have made heavy use of <code>MutableCallSite</code> and <code>SwitchPoint</code>. I have not stumbled on any comments about them being broken because of it.</p>\n<p>What's more, I understand that some implementations in the Java class library can look incomplete because parts of the magic are supplied by the JVM implementation. This seems like a prime example where that <em>could</em> be happening, but I haven't been able to find the details.</p>\n<p>Does someone know the details? It would be good to know what the dependable behavior really is. The <code>syncAll</code> javadoc sounds very promising at first. Paraphrasing:</p>\n<ol>\n<li>its effect is to force all future readers of each call site's target to accept the most recently stored value</li>\n<li>it may (<em>may??</em>) block until all readers have (somehow) decached all previous versions</li>\n<li>reader threads may observe previous versions of the target until the <code>syncAll</code> call returns. (<em>Does this mean they</em> may not <em>do so after the <code>syncAll</code> call returns? And if so, wouldn't that imply #2 is really something stronger than &quot;may&quot;?</em>)</li>\n<li>it is &quot;likely to be expensive&quot; (as the trade-off for having <code>getTarget</code> be cheap; that's the magic part).</li>\n</ol>\n<p>But later in the same javadoc, delving into JMM details, it says &quot;<em>If</em> (some other thread) T executes a synchronization action A after the volatile write&quot; ... <em>then</em> it must see the updated target.</p>\n<p>That sounds a little ... less robust.</p>\n<p>Is this all based on some JVM implementation knowledge that places an upper bound on how long that can take after the <code>syncAll</code> returns? If so, can that upper bound be stated?</p>\n<p>If there really is nothing missing and the thing works as advertised, would it be worthwhile to remove the <code>// FIXME: NYI</code> in the source (and maybe replace it with an explanation of what really happens)?</p>\n<p>For more: <a href=\"https://mail.openjdk.java.net/pipermail/mlvm-dev/2021-November/006906.html\" rel=\"nofollow noreferrer\">earlier version of this question</a> posted on <code>mlvm-dev</code> list but didn't attract any answers.</p>\n"},{"tags":["java","android-source","aar"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1638871404,"post_id":70191498,"comment_id":124196920,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":6646279,"reputation":1234,"user_id":5130269,"display_name":"Mykola Khyliuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638572884,"creation_date":1638572884,"answer_id":70221630,"question_id":70191498,"body_markdown":"If you are using `Android.bp` this can be done via `android_library_import` module type ([link to soong spec][1]).\r\n\r\nAlso, if you try to grep the AOSP source tree, you will easily find many examples of its use, for example: [packages/apps/Settings/Android.bp][2]:\r\n\r\n    android_library_import {\r\n    name: &quot;contextualcards&quot;,\r\n    aars: [&quot;libs/contextualcards.aar&quot;],\r\n    }\r\n\r\n    android_library {\r\n    name: &quot;Settings-core&quot;,\r\n    ....   \r\n    srcs: [&quot;src/**/*.java&quot;],\r\n    static_libs: [\r\n        ...\r\n        &quot;contextualcards&quot;,\r\n        ...\r\n    }\r\n\r\n  [1]: https://ci.android.com/builds/submitted/7967930/linux/latest/raw/java.html#android_library_import\r\n  [2]: https://android.googlesource.com/platform/packages/apps/Settings/+/refs/heads/master/Android.bp#112","title":"How can I add a &quot;aar&quot; library to the AOSP?","body":"<p>If you are using <code>Android.bp</code> this can be done via <code>android_library_import</code> module type (<a href=\"https://ci.android.com/builds/submitted/7967930/linux/latest/raw/java.html#android_library_import\" rel=\"nofollow noreferrer\">link to soong spec</a>).</p>\n<p>Also, if you try to grep the AOSP source tree, you will easily find many examples of its use, for example: <a href=\"https://android.googlesource.com/platform/packages/apps/Settings/+/refs/heads/master/Android.bp#112\" rel=\"nofollow noreferrer\">packages/apps/Settings/Android.bp</a>:</p>\n<pre><code>android_library_import {\nname: &quot;contextualcards&quot;,\naars: [&quot;libs/contextualcards.aar&quot;],\n}\n\nandroid_library {\nname: &quot;Settings-core&quot;,\n....   \nsrcs: [&quot;src/**/*.java&quot;],\nstatic_libs: [\n    ...\n    &quot;contextualcards&quot;,\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":22619396,"reputation":11,"user_id":17553848,"display_name":"Markus Haas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638572884,"creation_date":1638394410,"question_id":70191498,"body_markdown":"I am building my own ROM and want to use a aar file Library in one system service.\r\n\r\nIs there any way this could be achieved?","title":"How can I add a &quot;aar&quot; library to the AOSP?","body":"<p>I am building my own ROM and want to use a aar file Library in one system service.</p>\n<p>Is there any way this could be achieved?</p>\n"},{"tags":["java","maven","intellij-idea","spark-java"],"answers":[{"tags":[],"owner":{"account_id":4826640,"reputation":25377,"user_id":3895960,"accept_rate":97,"display_name":"Dici"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634425395,"creation_date":1634425395,"answer_id":69600155,"question_id":69599748,"body_markdown":"I guess you didn&#39;t configure IntelliJ for Maven properly. Either your project is not a Maven project (as far as IntelliJ is concerned, even if the structure of the project is valid for Maven), or you&#39;re missing an IntelliJ plugin or something. Look at [IntelliJ&#39;s doc][1] on how to create and manage a Maven project. \r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/maven-support.html","title":"package spark does not exist","body":"<p>I guess you didn't configure IntelliJ for Maven properly. Either your project is not a Maven project (as far as IntelliJ is concerned, even if the structure of the project is valid for Maven), or you're missing an IntelliJ plugin or something. Look at <a href=\"https://www.jetbrains.com/help/idea/maven-support.html\" rel=\"nofollow noreferrer\">IntelliJ's doc</a> on how to create and manage a Maven project.</p>\n"},{"tags":[],"owner":{"account_id":16671105,"reputation":118,"user_id":12048520,"display_name":"RobbieS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634430877,"creation_date":1634430877,"answer_id":69600539,"question_id":69599748,"body_markdown":"The dependency package was completely wrong.  It was pointing at Apache Spark, not Spark Java.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sparkjava&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spark-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.9.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"package spark does not exist","body":"<p>The dependency package was completely wrong.  It was pointing at Apache Spark, not Spark Java.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sparkjava&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-core&lt;/artifactId&gt;\n    &lt;version&gt;2.9.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":16671105,"reputation":118,"user_id":12048520,"display_name":"RobbieS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638572707,"creation_date":1634420430,"question_id":69599748,"body_markdown":"I&#39;m just starting to learn Java.\r\n\r\nI am using IntelliJ to create a SparkJava (see: sparkjava.com) app using openjdk 17.  I followed the tutorial instructions outlined in &quot;Setting up Spark with Maven&quot; (https://sparkjava.com/tutorials/maven-setup).  I believe the instructions are very outdated because they did not work.  After some googling, I finally just arrived at the following code and POM.xml.  When I build the project, I get an error: `java: package spark does not exist`\r\n\r\nI don&#39;t know what to do.\r\n\r\n - I added the dependency to my POM.xml.   \r\n - I added the *apache.spark.core_2.13* library via Project Structure.\r\n\r\nI googled &quot;IntelliJ package does not exist&quot; but couldn&#39;t find a helpful answer.  Most everyone said to &quot;add the dependency to the POM&quot; but I&#39;ve already done that.\r\nI googled &quot;add package to Java project IntelliJ&quot; but after clicking a number of linkis, I couldn&#39;t find a helpful answer.  I tried a few of the suggestions, but none resolved this problem.\r\n\r\nI think I am missing something fundamental here, like somehow I&#39;m not telling IntelliJ where to find the spark code.\r\n\r\nsrc/main/java/Sparky.java\r\n```\r\nimport static spark.Spark.*;\r\n\r\npublic class Sparky {\r\n    public static void main(String[] args){\r\n        get(&quot;/hello&quot;, (req, res) -&gt; &quot;Hello World&quot;);\r\n    }\r\n}\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sparky&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-core --&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\n\r\n","title":"package spark does not exist","body":"<p>I'm just starting to learn Java.</p>\n<p>I am using IntelliJ to create a SparkJava (see: sparkjava.com) app using openjdk 17.  I followed the tutorial instructions outlined in &quot;Setting up Spark with Maven&quot; (<a href=\"https://sparkjava.com/tutorials/maven-setup\" rel=\"nofollow noreferrer\">https://sparkjava.com/tutorials/maven-setup</a>).  I believe the instructions are very outdated because they did not work.  After some googling, I finally just arrived at the following code and POM.xml.  When I build the project, I get an error: <code>java: package spark does not exist</code></p>\n<p>I don't know what to do.</p>\n<ul>\n<li>I added the dependency to my POM.xml.</li>\n<li>I added the <em>apache.spark.core_2.13</em> library via Project Structure.</li>\n</ul>\n<p>I googled &quot;IntelliJ package does not exist&quot; but couldn't find a helpful answer.  Most everyone said to &quot;add the dependency to the POM&quot; but I've already done that.\nI googled &quot;add package to Java project IntelliJ&quot; but after clicking a number of linkis, I couldn't find a helpful answer.  I tried a few of the suggestions, but none resolved this problem.</p>\n<p>I think I am missing something fundamental here, like somehow I'm not telling IntelliJ where to find the spark code.</p>\n<p>src/main/java/Sparky.java</p>\n<pre><code>import static spark.Spark.*;\n\npublic class Sparky {\n    public static void main(String[] args){\n        get(&quot;/hello&quot;, (req, res) -&gt; &quot;Hello World&quot;);\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;sparky&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-core --&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","apache-spark","gradle"],"answers":[{"tags":[],"owner":{"account_id":2301263,"reputation":441,"user_id":2021516,"display_name":"Paulo Moreira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638572201,"creation_date":1638572201,"answer_id":70221542,"question_id":70220116,"body_markdown":"The answer is: Spark 2.4.7 will use version 3.1.1 of hadoop-mapreduce-client-core\r\n\r\n&quot;Gradle resolves any dependency version conflicts by selecting the latest version found in the dependency graph&quot;\r\n\r\nhttps://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html\r\n\r\nE.G:\r\n\r\nhttps://mvnrepository.com/artifact/org.apache.spark/spark-core_2.11/2.4.7\r\n\r\ndepends on:\r\n\r\n- org.apache.commons:commons-math3:3.4.1\r\n- org.apache.hadoop:hadoop-common:2.6.5\r\n\r\norg.apache.hadoop:hadoop-common:2.6.5 depends on:\r\n\r\n- org.apache.commons:commons-math3:3.1.1\r\n\r\nThe result, gradle will use org.apache.commons:commons-math3:3.4.1 for both package.\r\n","title":"What means &quot;package url -&gt; 3.1.1&quot; in the runtime classpath?","body":"<p>The answer is: Spark 2.4.7 will use version 3.1.1 of hadoop-mapreduce-client-core</p>\n<p>&quot;Gradle resolves any dependency version conflicts by selecting the latest version found in the dependency graph&quot;</p>\n<p><a href=\"https://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html</a></p>\n<p>E.G:</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.apache.spark/spark-core_2.11/2.4.7\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.spark/spark-core_2.11/2.4.7</a></p>\n<p>depends on:</p>\n<ul>\n<li>org.apache.commons:commons-math3:3.4.1</li>\n<li>org.apache.hadoop:hadoop-common:2.6.5</li>\n</ul>\n<p>org.apache.hadoop:hadoop-common:2.6.5 depends on:</p>\n<ul>\n<li>org.apache.commons:commons-math3:3.1.1</li>\n</ul>\n<p>The result, gradle will use org.apache.commons:commons-math3:3.4.1 for both package.</p>\n"}],"owner":{"account_id":2301263,"reputation":441,"user_id":2021516,"display_name":"Paulo Moreira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638572201,"creation_date":1638562088,"question_id":70220116,"body_markdown":"What means &quot;org.apache.hadoop:hadoop-mapreduce-client-core:2.6.5 -&gt; 3.1.1&quot; in the classpath below? Spark 2.4.7 will use version 3.1.1 of hadoop-mapreduce-client-core?\r\n\r\n```\r\n$ gradlew dependencies --configuration runtimeClasspath\r\n\r\n&gt; Task :dependencies\r\n\r\nruntimeClasspath - Runtime classpath of source set &#39;main&#39;.\r\n\\--- org.apache.spark:spark-core_2.11:2.4.7\r\n     +--- org.apache.hadoop:hadoop-client:2.6.5\r\n     |    +--- org.apache.hadoop:hadoop-common:2.6.5\r\n     |    |    +--- org.apache.hadoop:hadoop-annotations:2.6.5 -&gt; 3.1.1\r\n     |    |    +--- com.google.guava:guava:11.0.2 -&gt; 16.0.1\r\n     |    +--- org.apache.hadoop:hadoop-mapreduce-client-app:2.6.5\r\n     |    |    +--- org.apache.hadoop:hadoop-mapreduce-client-common:2.6.5\r\n     |    |    |    +--- org.apache.hadoop:hadoop-yarn-common:2.6.5 -&gt; 3.1.1 (*)\r\n     |    +--- org.apache.hadoop:hadoop-mapreduce-client-core:2.6.5 -&gt; 3.1.1 (*)\r\n\r\n(*) - dependencies omitted (listed previously)\r\n```","title":"What means &quot;package url -&gt; 3.1.1&quot; in the runtime classpath?","body":"<p>What means &quot;org.apache.hadoop:hadoop-mapreduce-client-core:2.6.5 -&gt; 3.1.1&quot; in the classpath below? Spark 2.4.7 will use version 3.1.1 of hadoop-mapreduce-client-core?</p>\n<pre><code>$ gradlew dependencies --configuration runtimeClasspath\n\n&gt; Task :dependencies\n\nruntimeClasspath - Runtime classpath of source set 'main'.\n\\--- org.apache.spark:spark-core_2.11:2.4.7\n     +--- org.apache.hadoop:hadoop-client:2.6.5\n     |    +--- org.apache.hadoop:hadoop-common:2.6.5\n     |    |    +--- org.apache.hadoop:hadoop-annotations:2.6.5 -&gt; 3.1.1\n     |    |    +--- com.google.guava:guava:11.0.2 -&gt; 16.0.1\n     |    +--- org.apache.hadoop:hadoop-mapreduce-client-app:2.6.5\n     |    |    +--- org.apache.hadoop:hadoop-mapreduce-client-common:2.6.5\n     |    |    |    +--- org.apache.hadoop:hadoop-yarn-common:2.6.5 -&gt; 3.1.1 (*)\n     |    +--- org.apache.hadoop:hadoop-mapreduce-client-core:2.6.5 -&gt; 3.1.1 (*)\n\n(*) - dependencies omitted (listed previously)\n</code></pre>\n"},{"tags":["java","swing","jframe","jpanel"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1638573348,"post_id":70221444,"comment_id":124133543,"body_markdown":"Use a `CardLayout` which is **designed** for this sort of thing.","body":"Use a <code>CardLayout</code> which is <b>designed</b> for this sort of thing."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638575785,"post_id":70221444,"comment_id":124133930,"body_markdown":"You &quot;basic&quot; problem is, `JFrame` is a compound component.  That is, there are a verity of other components which make it&#39;s basic structure.  So `removeAll` is actually removing ALL those other components, which you really don&#39;t want to do.  You should, instead, be starting with `getContentPane().removeAll()`.  Having said that, I&#39;d be tempted to simplify the issue and take the frame out of the equation and have a &quot;master container&quot; which you used as the base container.  But without more details, I agree with Andrew, use a `CardLayout` instead","body":"You &quot;basic&quot; problem is, <code>JFrame</code> is a compound component.  That is, there are a verity of other components which make it&#39;s basic structure.  So <code>removeAll</code> is actually removing ALL those other components, which you really don&#39;t want to do.  You should, instead, be starting with <code>getContentPane().removeAll()</code>.  Having said that, I&#39;d be tempted to simplify the issue and take the frame out of the equation and have a &quot;master container&quot; which you used as the base container.  But without more details, I agree with Andrew, use a <code>CardLayout</code> instead"},{"owner":{"account_id":23539736,"reputation":21,"user_id":17584131,"display_name":"al3xb0y"},"score":0,"creation_date":1638621321,"post_id":70221444,"comment_id":124139643,"body_markdown":"Yeah I refactored my project with cardLayout and now it all works like butter, thank you :D","body":"Yeah I refactored my project with cardLayout and now it all works like butter, thank you :D"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638572143,"creation_date":1638572143,"answer_id":70221536,"question_id":70221444,"body_markdown":"Do `window.remove(panel);` instead of `window.removeAll()`:\r\n\r\ni.e.:\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class TestClass {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        JFrame window = new JFrame(&quot;Window&quot;);\r\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        window.setResizable(false);\r\n\r\n        JPanel panel = new JPanel();\r\n        panel.setLayout(new GridLayout(1,1));\r\n\r\n        JButton button = new JButton(&quot;Button&quot;);\r\n        button.addActionListener(e -&gt; windowPreparation(window, panel));\r\n\r\n        panel.add(button);\r\n\r\n        window.add(panel);\r\n        window.setSize(800, 600);\r\n        window.setVisible(true);\r\n    }\r\n\r\n    private static void windowPreparation(JFrame window, JPanel panel) {\r\n        window.remove(panel);\r\n        window.validate();\r\n        window.repaint();\r\n    }\r\n}\r\n```\r\n\r\nI stand to be corrected on why your original solution doesn&#39;t work, but I think it&#39;s because there are &quot;infrastructure&quot; `Component`s in a `JFrame` which aren&#39;t related to the components you have added.\r\n","title":"Java Swing how to clear a JFrame?","body":"<p>Do <code>window.remove(panel);</code> instead of <code>window.removeAll()</code>:</p>\n<p>i.e.:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class TestClass {\n\n    public static void main(String[] args) {\n\n        JFrame window = new JFrame(&quot;Window&quot;);\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        window.setResizable(false);\n\n        JPanel panel = new JPanel();\n        panel.setLayout(new GridLayout(1,1));\n\n        JButton button = new JButton(&quot;Button&quot;);\n        button.addActionListener(e -&gt; windowPreparation(window, panel));\n\n        panel.add(button);\n\n        window.add(panel);\n        window.setSize(800, 600);\n        window.setVisible(true);\n    }\n\n    private static void windowPreparation(JFrame window, JPanel panel) {\n        window.remove(panel);\n        window.validate();\n        window.repaint();\n    }\n}\n</code></pre>\n<p>I stand to be corrected on why your original solution doesn't work, but I think it's because there are &quot;infrastructure&quot; <code>Component</code>s in a <code>JFrame</code> which aren't related to the components you have added.</p>\n"}],"owner":{"account_id":23539736,"reputation":21,"user_id":17584131,"display_name":"al3xb0y"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1638572143,"creation_date":1638571429,"question_id":70221444,"body_markdown":"Unfortunately, I have not been able to find an answer to my problem anywhere. \r\n\r\nHere is my programme: \r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class TestClass {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            JFrame window = new JFrame(&quot;Window&quot;);\r\n            window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            window.setResizable(false);\r\n    \r\n            JPanel panel = new JPanel();\r\n            panel.setLayout(new GridLayout(1,1));\r\n    \r\n            JButton button = new JButton(&quot;Button&quot;);\r\n            button.addActionListener(e -&gt; windowPreparation(window));\r\n    \r\n            panel.add(button);\r\n    \r\n            window.add(panel);\r\n            window.setSize(800, 600);\r\n            window.setVisible(true);\r\n        }\r\n    \r\n        private static void windowPreparation(JFrame window) {\r\n            window.removeAll();\r\n            window.validate();\r\n            window.repaint();\r\n        }\r\n    }\r\n\r\n\r\nWhat I want to achieve: As soon as the button is pressed, the JFrame should be reset (I want to remove that JPanel with that Button) so that I can pass it to another class which then does other things with this JFrame. \r\nSo that this class can do this without problems, I would like to clear the JFrame beforehand. \r\nI have just tried it as it is written here in my code, the problem is that it just doesn&#39;t work, as soon as I press the button the window just freezes. Does anyone know what I am doing wrong?","title":"Java Swing how to clear a JFrame?","body":"<p>Unfortunately, I have not been able to find an answer to my problem anywhere.</p>\n<p>Here is my programme:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class TestClass {\n\n    public static void main(String[] args) {\n\n        JFrame window = new JFrame(&quot;Window&quot;);\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        window.setResizable(false);\n\n        JPanel panel = new JPanel();\n        panel.setLayout(new GridLayout(1,1));\n\n        JButton button = new JButton(&quot;Button&quot;);\n        button.addActionListener(e -&gt; windowPreparation(window));\n\n        panel.add(button);\n\n        window.add(panel);\n        window.setSize(800, 600);\n        window.setVisible(true);\n    }\n\n    private static void windowPreparation(JFrame window) {\n        window.removeAll();\n        window.validate();\n        window.repaint();\n    }\n}\n</code></pre>\n<p>What I want to achieve: As soon as the button is pressed, the JFrame should be reset (I want to remove that JPanel with that Button) so that I can pass it to another class which then does other things with this JFrame.\nSo that this class can do this without problems, I would like to clear the JFrame beforehand.\nI have just tried it as it is written here in my code, the problem is that it just doesn't work, as soon as I press the button the window just freezes. Does anyone know what I am doing wrong?</p>\n"},{"tags":["java","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":14956,"reputation":30470,"user_id":31141,"accept_rate":79,"display_name":"Marko"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1246962988,"creation_date":1246962988,"answer_id":1091578,"question_id":1091566,"body_markdown":"No, it is not possible.","title":"Is it possible to dynamically change maximum java heap size?","body":"<p>No, it is not possible.</p>\n"},{"tags":[],"owner":{"account_id":40186,"reputation":11308,"user_id":116371,"accept_rate":78,"display_name":"Umair Ahmed"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1246963067,"creation_date":1246963067,"answer_id":1091583,"question_id":1091566,"body_markdown":"Once the memory structure is fixed it cant be changed","title":"Is it possible to dynamically change maximum java heap size?","body":"<p>Once the memory structure is fixed it cant be changed</p>\n"}],"owner":{"account_id":8074,"reputation":44063,"user_id":14316,"accept_rate":53,"display_name":"pdeva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1360,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":1091578,"answer_count":2,"score":5,"last_activity_date":1638571977,"creation_date":1246962814,"question_id":1091566,"body_markdown":"I know you can set max heap size at startup using -Xmx but is it possible to change it dynamically during runtime?  \r\n\r\nIs there any tool or (undocumented) api which will allow me to do that?","title":"Is it possible to dynamically change maximum java heap size?","body":"<p>I know you can set max heap size at startup using -Xmx but is it possible to change it dynamically during runtime?  </p>\n\n<p>Is there any tool or (undocumented) api which will allow me to do that?</p>\n"},{"tags":["java","heap-memory"],"comments":[{"owner":{"account_id":28874,"reputation":12117,"user_id":2352432,"accept_rate":74,"display_name":"Pool"},"score":0,"creation_date":1244992744,"post_id":992991,"comment_id":801879,"body_markdown":"Duplicate of http://stackoverflow.com/questions/433406/how-to-get-the-max-sizes-of-the-heap-and-permgen-from-the-jvm ?","body":"Duplicate of <a href=\"http://stackoverflow.com/questions/433406/how-to-get-the-max-sizes-of-the-heap-and-permgen-from-the-jvm\" title=\"how to get the max sizes of the heap and permgen from the jvm\">stackoverflow.com/questions/433406/&hellip;</a> ?"},{"owner":{"account_id":105902,"reputation":3968,"user_id":282345,"accept_rate":88,"display_name":"asgs"},"score":0,"creation_date":1450633640,"post_id":992991,"comment_id":56509230,"body_markdown":"A non-programmatical way is to run the `jmap` utility available from your JDK. The syntax would be `jmap -heap &lt;pid&gt;`. The field `MaxHeapSize` indicates the `Xmx` value set on that Java process.","body":"A non-programmatical way is to run the <code>jmap</code> utility available from your JDK. The syntax would be <code>jmap -heap &lt;pid&gt;</code>. The field <code>MaxHeapSize</code> indicates the <code>Xmx</code> value set on that Java process."}],"answers":[{"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1244992762,"creation_date":1244992390,"answer_id":992994,"question_id":992991,"body_markdown":"There is a [`Runtime.maxMemory`][1], which the documentation says will return the maximum amount of memory the Java Virtual Machine will attempt to use, but it is not specific whether it is the maximum heap memory set when launching the JVM.\r\n\r\nJust as a test, I wrote the following program:\r\n\r\n    class MaxMemory {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(Runtime.getRuntime().maxMemory());\r\n    \t}\r\n    }\r\n\r\nThe results of the execution was the following:\r\n\r\n    C:\\coobird\\&gt;java -Xmx64m MaxMemory\r\n    66650112\r\n    \r\n    C:\\coobird\\&gt;java -Xmx128m MaxMemory\r\n    133234688\r\n\r\nThis is using Java SE 6 version 1.6.0_12 on Windows.\r\n\r\nAlthough the values are close to 64 MB (67,108,864 bytes) and 128 MB (134,217,728 bytes), they aren&#39;t exactly so.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Runtime.html#maxMemory()\r\n","title":"Read maximum heap space at runtime","body":"<p>There is a <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Runtime.html#maxMemory()\" rel=\"noreferrer\"><code>Runtime.maxMemory</code></a>, which the documentation says will return the maximum amount of memory the Java Virtual Machine will attempt to use, but it is not specific whether it is the maximum heap memory set when launching the JVM.</p>\n\n<p>Just as a test, I wrote the following program:</p>\n\n<pre><code>class MaxMemory {\n    public static void main(String[] args) {\n        System.out.println(Runtime.getRuntime().maxMemory());\n    }\n}\n</code></pre>\n\n<p>The results of the execution was the following:</p>\n\n<pre><code>C:\\coobird\\&gt;java -Xmx64m MaxMemory\n66650112\n\nC:\\coobird\\&gt;java -Xmx128m MaxMemory\n133234688\n</code></pre>\n\n<p>This is using Java SE 6 version 1.6.0_12 on Windows.</p>\n\n<p>Although the values are close to 64 MB (67,108,864 bytes) and 128 MB (134,217,728 bytes), they aren't exactly so.</p>\n"}],"owner":{"account_id":876735,"reputation":666,"user_id":96698,"accept_rate":81,"display_name":"D-Bug"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14016,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":992994,"answer_count":1,"score":21,"last_activity_date":1638571966,"creation_date":1244992204,"question_id":992991,"body_markdown":"As we all know, the `java -Xmx` option is used to set the maximum heap space available to a Java program. But is there a way for a Java program to read the value that has been set? Something like `System.getMaximumHeapSpace()` (which does not exist).\r\n\r\n\r\n \r\n\r\n","title":"Read maximum heap space at runtime","body":"<p>As we all know, the <code>java -Xmx</code> option is used to set the maximum heap space available to a Java program. But is there a way for a Java program to read the value that has been set? Something like <code>System.getMaximumHeapSpace()</code> (which does not exist).</p>\n"},{"tags":["java","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638571939,"creation_date":1638571939,"answer_id":70221504,"question_id":70221438,"body_markdown":"The [named parameters](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.named-parameters) in your query are missing a colon. It should be:\r\n\r\n```java\r\n@Query(&quot;SELECT e FROM EmployeeEntity e WHERE e.firstName like :firstName&quot;)\r\nList&lt;EmployeeEntity&gt; findByFirstName(@Param(&quot;firstName&quot;) String firstName);\r\n\r\n@Query(&quot;SELECT e FROM EmployeeEntity e WHERE e.id = :id&quot;)\r\nEmployeeEntity findById2(@Param(&quot;id&quot;) long id);\r\n```","title":"Why jpa custom query returns more results","body":"<p>The <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.named-parameters\" rel=\"nofollow noreferrer\">named parameters</a> in your query are missing a colon. It should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;SELECT e FROM EmployeeEntity e WHERE e.firstName like :firstName&quot;)\nList&lt;EmployeeEntity&gt; findByFirstName(@Param(&quot;firstName&quot;) String firstName);\n\n@Query(&quot;SELECT e FROM EmployeeEntity e WHERE e.id = :id&quot;)\nEmployeeEntity findById2(@Param(&quot;id&quot;) long id);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638571947,"creation_date":1638571947,"answer_id":70221507,"question_id":70221438,"body_markdown":"Without testing your code, try to use this,\r\n  \r\n    @Repository\r\n    public interface EmployeeRepository extends JpaRepository&lt;EmployeeEntity, Long&gt; {\r\n\r\n        @Query(&quot;SELECT e FROM EmployeeEntity e WHERE e.firstName like :firstName&quot;)\r\n        List&lt;EmployeeEntity&gt; findByFirstName(@Param(&quot;firstName&quot;) String firstName);\r\n\r\n        @Query(&quot;SELECT e FROM EmployeeEntity e WHERE e.id = :id&quot;)\r\n        EmployeeEntity findById2(@Param(&quot;id&quot;) long id);\r\n\r\n    }\r\n\r\nI added a character `:` before your JPQL variables.","title":"Why jpa custom query returns more results","body":"<p>Without testing your code, try to use this,</p>\n<pre><code>@Repository\npublic interface EmployeeRepository extends JpaRepository&lt;EmployeeEntity, Long&gt; {\n\n    @Query(&quot;SELECT e FROM EmployeeEntity e WHERE e.firstName like :firstName&quot;)\n    List&lt;EmployeeEntity&gt; findByFirstName(@Param(&quot;firstName&quot;) String firstName);\n\n    @Query(&quot;SELECT e FROM EmployeeEntity e WHERE e.id = :id&quot;)\n    EmployeeEntity findById2(@Param(&quot;id&quot;) long id);\n\n}\n</code></pre>\n<p>I added a character <code>:</code> before your JPQL variables.</p>\n"}],"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70221507,"answer_count":2,"score":2,"last_activity_date":1638571947,"creation_date":1638571379,"question_id":70221438,"body_markdown":" Spring boot has in memory DB H2. It has table and following data:-\r\n\r\n        [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;firstName&quot;: &quot;Lokesh&quot;,\r\n            &quot;lastName&quot;: &quot;Gupta&quot;,\r\n            &quot;email&quot;: &quot;howtodoinjava@gmail.com&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 2,\r\n            &quot;firstName&quot;: &quot;John&quot;,\r\n            &quot;lastName&quot;: &quot;Doe&quot;,\r\n            &quot;email&quot;: &quot;xyz@email.com&quot;\r\n        }\r\n    ]\r\n\r\nThis is my repository with custom jpa query:-\r\n\r\n    @Repository\r\n    public interface EmployeeRepository extends JpaRepository&lt;EmployeeEntity, Long&gt; {\r\n    \r\n        @Query(&quot;SELECT e FROM EmployeeEntity e WHERE e.firstName like firstName&quot;)\r\n        List&lt;EmployeeEntity&gt; findByFirstName(@Param(&quot;firstName&quot;) String firstName);\r\n    \r\n        @Query(&quot;SELECT e FROM EmployeeEntity e WHERE e.id = id&quot;)\r\n        EmployeeEntity findById2(@Param(&quot;id&quot;) long id);\r\n    \r\n    }\r\n\r\nService has following 2 method:-\r\n\r\n        public EmployeeEntity getEmployeeById2(Long id)  {\r\n        EmployeeEntity employee = repository.findById2(id);\r\n        return employee;\r\n    }\r\n    \r\n    public List&lt;EmployeeEntity&gt; findByFirstName(String firstName){\r\n        List&lt;EmployeeEntity&gt; employeeEntities = repository.findByFirstName(firstName);\r\n        return employeeEntities;\r\n    }\r\n\r\nController has this:-\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;EmployeeEntity&gt; getEmployeeById(@PathVariable(&quot;id&quot;) Long id)\r\n            throws RecordNotFoundException {\r\n        EmployeeEntity entity = service.getEmployeeById2(id);\r\n\r\n        return new ResponseEntity&lt;EmployeeEntity&gt;(entity, new HttpHeaders(), HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(value = &quot;/fname/{firstName}&quot;)\r\n    public List&lt;EmployeeEntity&gt; findByFirstName(@PathVariable(&quot;firstName&quot;) String firstName){\r\n        return service.findByFirstName(firstName);\r\n    }\r\n\r\n\r\nWhen I call findByFirstName. I got both EmployeeEntity.\r\n \r\nWhen I call getEmployeeById. I got error:-\r\n\r\n  &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;message&quot;: &quot;query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2&quot;,\r\n\r\nI don&#39;t know how to write jap custom query correctly so that it returns correct results. How do I get only 1 employee by first name or only 1 employee by it&#39;s id? \r\n","title":"Why jpa custom query returns more results","body":"<p>Spring boot has in memory DB H2. It has table and following data:-</p>\n<pre><code>    [\n    {\n        &quot;id&quot;: 1,\n        &quot;firstName&quot;: &quot;Lokesh&quot;,\n        &quot;lastName&quot;: &quot;Gupta&quot;,\n        &quot;email&quot;: &quot;howtodoinjava@gmail.com&quot;\n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;firstName&quot;: &quot;John&quot;,\n        &quot;lastName&quot;: &quot;Doe&quot;,\n        &quot;email&quot;: &quot;xyz@email.com&quot;\n    }\n]\n</code></pre>\n<p>This is my repository with custom jpa query:-</p>\n<pre><code>@Repository\npublic interface EmployeeRepository extends JpaRepository&lt;EmployeeEntity, Long&gt; {\n\n    @Query(&quot;SELECT e FROM EmployeeEntity e WHERE e.firstName like firstName&quot;)\n    List&lt;EmployeeEntity&gt; findByFirstName(@Param(&quot;firstName&quot;) String firstName);\n\n    @Query(&quot;SELECT e FROM EmployeeEntity e WHERE e.id = id&quot;)\n    EmployeeEntity findById2(@Param(&quot;id&quot;) long id);\n\n}\n</code></pre>\n<p>Service has following 2 method:-</p>\n<pre><code>    public EmployeeEntity getEmployeeById2(Long id)  {\n    EmployeeEntity employee = repository.findById2(id);\n    return employee;\n}\n\npublic List&lt;EmployeeEntity&gt; findByFirstName(String firstName){\n    List&lt;EmployeeEntity&gt; employeeEntities = repository.findByFirstName(firstName);\n    return employeeEntities;\n}\n</code></pre>\n<p>Controller has this:-</p>\n<pre><code>@GetMapping(&quot;/{id}&quot;)\npublic ResponseEntity&lt;EmployeeEntity&gt; getEmployeeById(@PathVariable(&quot;id&quot;) Long id)\n        throws RecordNotFoundException {\n    EmployeeEntity entity = service.getEmployeeById2(id);\n\n    return new ResponseEntity&lt;EmployeeEntity&gt;(entity, new HttpHeaders(), HttpStatus.OK);\n}\n\n@GetMapping(value = &quot;/fname/{firstName}&quot;)\npublic List&lt;EmployeeEntity&gt; findByFirstName(@PathVariable(&quot;firstName&quot;) String firstName){\n    return service.findByFirstName(firstName);\n}\n</code></pre>\n<p>When I call findByFirstName. I got both EmployeeEntity.</p>\n<p>When I call getEmployeeById. I got error:-</p>\n<p>&quot;status&quot;: 500,\n&quot;error&quot;: &quot;Internal Server Error&quot;,\n&quot;message&quot;: &quot;query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2&quot;,</p>\n<p>I don't know how to write jap custom query correctly so that it returns correct results. How do I get only 1 employee by first name or only 1 employee by it's id?</p>\n"},{"tags":["java","heap-memory"],"comments":[{"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1242753075,"post_id":883966,"comment_id":690731,"body_markdown":"What is the problem you are trying to solve? Can you quote #28 here?","body":"What is the problem you are trying to solve? Can you quote #28 here?"},{"owner":{"account_id":33289,"reputation":3888,"user_id":93085,"display_name":"Steven"},"score":1,"creation_date":1242753238,"post_id":883966,"comment_id":690742,"body_markdown":"You&#39;ve got an unneeded memory allocation at:\nlong subspiral[][]= new long[size - 2][size - 2];\nYour next line should just be:\nlong subspiral[][] = spiral(size - 2);","body":"You&#39;ve got an unneeded memory allocation at: long subspiral[][]= new long[size - 2][size - 2]; Your next line should just be: long subspiral[][] = spiral(size - 2);"},{"owner":{"account_id":38029,"reputation":3819,"user_id":108944,"accept_rate":88,"display_name":"Grantismo"},"score":0,"creation_date":1242754176,"post_id":883966,"comment_id":690825,"body_markdown":"Problem 28 is here: http://projecteuler.net/index.php?section=problems&amp;id=28\nThe final goal is to find the sum of the cross on a 1001 by 1001 spiral, but this heap overflowed at 100. I&#39;m going to try everyone&#39;s advice and report back.","body":"Problem 28 is here: <a href=\"http://projecteuler.net/index.php?section=problems&amp;id=28\" rel=\"nofollow noreferrer\">projecteuler.net/index.php?section=problems&amp;id=28</a> The final goal is to find the sum of the cross on a 1001 by 1001 spiral, but this heap overflowed at 100. I&#39;m going to try everyone&#39;s advice and report back."}],"answers":[{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1242753296,"creation_date":1242753296,"answer_id":884010,"question_id":883966,"body_markdown":"As a general piece of Project Euler advice, if your solution doesn&#39;t scale, there&#39;s almost certainly a better way to solve it.  If you&#39;ve used the same type of solution on an earlier problem you can go through the posts from other users on the earlier question to get ideas for solving the problem in different ways.","title":"Overcoming heap overflow issues","body":"<p>As a general piece of Project Euler advice, if your solution doesn't scale, there's almost certainly a better way to solve it.  If you've used the same type of solution on an earlier problem you can go through the posts from other users on the earlier question to get ideas for solving the problem in different ways.</p>\n"},{"tags":[],"owner":{"display_name":"user447688"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1242753858,"creation_date":1242753858,"answer_id":884048,"question_id":883966,"body_markdown":"Not familiar with the Euler problems, but the horror appears to be your continual allocation and re-allocation of what are basically throwaway intermediate spirals, as you call down recursively to the base case.\r\n\r\nRestructure so that you allocate your full spiral up front.  Then call your recursive function, passing your full spiral in as a parameter by reference, along with a &quot;level&quot; parameter, which will change with each recursive call.  E.g., initial call is with 100x100 spiral and level 100; next (recursive) call is with same spiral, by reference, and level 98.  Operations within the function will all be done on the one-and-only-allocated spiral.\r\n\r\nIn a nutshell:  allocate your data structure once, even if you operate on that data structure recursively.","title":"Overcoming heap overflow issues","body":"<p>Not familiar with the Euler problems, but the horror appears to be your continual allocation and re-allocation of what are basically throwaway intermediate spirals, as you call down recursively to the base case.</p>\n\n<p>Restructure so that you allocate your full spiral up front.  Then call your recursive function, passing your full spiral in as a parameter by reference, along with a \"level\" parameter, which will change with each recursive call.  E.g., initial call is with 100x100 spiral and level 100; next (recursive) call is with same spiral, by reference, and level 98.  Operations within the function will all be done on the one-and-only-allocated spiral.</p>\n\n<p>In a nutshell:  allocate your data structure once, even if you operate on that data structure recursively.</p>\n"},{"tags":[],"owner":{"account_id":1108,"reputation":9901,"user_id":1471,"accept_rate":64,"display_name":"Tim Frey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1242754106,"creation_date":1242754106,"answer_id":884065,"question_id":883966,"body_markdown":"The first problem I saw was a NegativeArraySizeException when running your program with SIZE = 100.  I guess this has something to do with how each recursive call is decreasing the size by 2.\r\n\r\nI believe that Steven&#39;s comment is right on the money.  You are allocating the size of the array, them making a recursive call.  This causes (SIZE - 1) number of arrays to be allocating, eating up all of your memory.  Removing that one line should prevent any memory from being allocated until necessary.","title":"Overcoming heap overflow issues","body":"<p>The first problem I saw was a NegativeArraySizeException when running your program with SIZE = 100.  I guess this has something to do with how each recursive call is decreasing the size by 2.</p>\n\n<p>I believe that Steven's comment is right on the money.  You are allocating the size of the array, them making a recursive call.  This causes (SIZE - 1) number of arrays to be allocating, eating up all of your memory.  Removing that one line should prevent any memory from being allocated until necessary.</p>\n"},{"tags":[],"owner":{"account_id":4812242,"reputation":55062,"user_id":3885376,"accept_rate":64,"display_name":"ROMANIA_engineer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417820410,"creation_date":1417820410,"answer_id":27326056,"question_id":883966,"body_markdown":"Here is a simplified solution that doesn&#39;t store a matrix:\r\n\r\n    public class P28 {\r\n    \r\n    \tprivate final static int N = 1001;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tint limit = (N + 1) / 2;\r\n    \t\tint sum = -3;\r\n    \t\tint first = 4;\r\n    \t\tint r = 20;\r\n    \t\tfor (int i = 1; i &lt;= limit; i++) {\r\n    \t\t\tsum += first;\r\n    \t\t\tfirst += r;\r\n    \t\t\tr += 32;\r\n    \t\t}\r\n    \t\tSystem.out.println(sum);\r\n    \t}\r\n    \r\n    }\r\n\r\n**Explanation:**\r\n\r\nStarting from `1` you can see 4 sums:\r\n\r\n* 1 + 3 + 13 + 31 + 57 + ...\r\n* 1 + 5 + 17 + 37 + 65 + ...\r\n* 1 + 7 + 21 + 43 + 73 + ...\r\n* 1 + 9 + 25 + 49 + 81 + ...\r\n\r\n`1` is added 4 times, this is why the default value for `sum` is `-3`.\r\n\r\nLet&#39;s gather those sums:\r\n\r\n* 4 + 24 + 76 + 160 + 276 + ...\r\n(this is why `first` is `4` and `r` is `20` = 24 - 4)\r\n\r\nYou can observe that `r` increases by `32` per step ( 24 - 4 = 32 + 76 - 24 = 32 + 32 + 160 - 76 = ... ) and the actual number (`first`) increases by `r`.","title":"Overcoming heap overflow issues","body":"<p>Here is a simplified solution that doesn't store a matrix:</p>\n\n<pre><code>public class P28 {\n\n    private final static int N = 1001;\n\n    public static void main(String[] args) {\n\n        int limit = (N + 1) / 2;\n        int sum = -3;\n        int first = 4;\n        int r = 20;\n        for (int i = 1; i &lt;= limit; i++) {\n            sum += first;\n            first += r;\n            r += 32;\n        }\n        System.out.println(sum);\n    }\n\n}\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Starting from <code>1</code> you can see 4 sums:</p>\n\n<ul>\n<li>1 + 3 + 13 + 31 + 57 + ...</li>\n<li>1 + 5 + 17 + 37 + 65 + ...</li>\n<li>1 + 7 + 21 + 43 + 73 + ...</li>\n<li>1 + 9 + 25 + 49 + 81 + ...</li>\n</ul>\n\n<p><code>1</code> is added 4 times, this is why the default value for <code>sum</code> is <code>-3</code>.</p>\n\n<p>Let's gather those sums:</p>\n\n<ul>\n<li>4 + 24 + 76 + 160 + 276 + ...\n(this is why <code>first</code> is <code>4</code> and <code>r</code> is <code>20</code> = 24 - 4)</li>\n</ul>\n\n<p>You can observe that <code>r</code> increases by <code>32</code> per step ( 24 - 4 = 32 + 76 - 24 = 32 + 32 + 160 - 76 = ... ) and the actual number (<code>first</code>) increases by <code>r</code>.</p>\n"}],"owner":{"account_id":38029,"reputation":3819,"user_id":108944,"accept_rate":88,"display_name":"Grantismo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":884048,"answer_count":4,"score":4,"last_activity_date":1638571945,"creation_date":1242752862,"question_id":883966,"body_markdown":"I tried to solve problems from Project Euler. I know my method would work logically (it returns answers to the small scale problem almost instantly). However, it scales horribly. I already attempted changing the .ini file, but to no avail.\r\n\r\nHere&#39;s my code:\r\n\r\n    public class Number28 {\r\n    \r\n    \tstatic int SIZE = 101; //this should be an odd number, i accidentally posted 100\r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tdouble start = System.currentTimeMillis();\r\n    \t\tlong spiral[][]= spiral(SIZE);\r\n    \t\tlong sum = 0;\r\n    \t\tfor(int i = 0; i &lt; SIZE; i++)\r\n    \t\t{\r\n    \t\t\tsum += spiral[i][i];\r\n    \t\t\tsum += spiral[i][SIZE - 1 - i];\r\n    \t\t}\r\n    \t\tSystem.out.println(sum - 1);\r\n    \t\tdouble time = System.currentTimeMillis() - start;\r\n    \t\tSystem.out.println(time);\r\n    \t\t\r\n    \t}\r\n    \tpublic static long[][] spiral(int size){\r\n    \t\tlong spiral[][]= new long[size][size];\r\n    \t\tif(size == 1){\r\n    \t\t\tspiral[0][0] = 1;\r\n    \t\t\treturn spiral;\r\n    \t\t}\r\n    \t\telse{\r\n    \t\t\tlong subspiral[][]= new long[size - 2][size - 2];\r\n    \t\t\tsubspiral = spiral(size - 2);\r\n    \t\t\tfor(int r = 0; r &lt; size - 2; r++){\r\n    \t\t\t\tfor(int c = 0; c &lt; size - 2; c++){\r\n    \t\t\t\t\tspiral[r + 1][c + 1] = subspiral[r][c];\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tlong counter = subspiral[0][size - 3];\r\n    \t\t\tfor(int r = 1; r &lt; size ; r++){\r\n    \t\t\t\tcounter++;\r\n    \t\t\t\tspiral[r][size - 1] = counter;\r\n    \t\t\t}\r\n    \t\t\tfor(int c = size - 2; c &gt;= 0; c--){\r\n    \t\t\t\tcounter++;\r\n    \t\t\t\tspiral[size - 1][c] = counter;\r\n    \t\t\t}\r\n    \t\t\tfor(int r = size - 2 ; r &gt;= 0 ; r--){\r\n    \t\t\t\tcounter++;\r\n    \t\t\t\tspiral[r][0] = counter;\r\n    \t\t\t}\r\n    \t\t\tfor(int c = 1; c &lt; size ; c++){\r\n    \t\t\t\tcounter++;\r\n    \t\t\t\tspiral[0][c] = counter;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\treturn spiral;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nHere&#39;s the edited code, worked like a gem:\r\n\r\n    public class Number28 {\r\n    \tstatic int SIZE = 1001;\r\n    \tstatic long spiral[][]= new long[SIZE][SIZE];\r\n    \t\r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tdouble start = System.currentTimeMillis();\r\n    \t\tlong spiral[][]= spiral(SIZE);\r\n    \t\tlong sum = 0;\r\n    \t\tfor(int i = 0; i &lt; SIZE; i++)\r\n    \t\t{\r\n    \t\t\tsum += spiral[i][i];\r\n    \t\t\tsum += spiral[i][SIZE - 1 - i];\r\n    \t\t}\r\n    \t\tSystem.out.println(sum - 1);\r\n    \t\tdouble time = System.currentTimeMillis() - start;\r\n    \t\tSystem.out.println(time);\r\n    \t\t\r\n    \t}\r\n    \tpublic static long[][] spiral(int size){\r\n    \t\tif(size == 1){\r\n    \t\t\tspiral[SIZE / 2][SIZE / 2] = 1;\r\n    \t\t\treturn spiral;\r\n    \t\t}\r\n    \t\telse{\r\n    \t\t\tlong subspiral[][]= spiral(size - 2);\r\n    \t\t\tint edge = (SIZE - size) / 2;\r\n    \t\t\tlong counter = subspiral[edge + 1][edge + size - 2];\r\n    \t\t\t\r\n    \t\t\t  for(int r = 1; r &lt; size ; r++){\r\n                      counter++;\r\n                      spiral[edge + r][edge + size - 1] = counter;\r\n              }\r\n              for(int c = size - 2; c &gt;= 0; c--){\r\n                      counter++;\r\n                      spiral[edge + size - 1][edge + c] = counter;\r\n              }\r\n              for(int r = size - 2 ; r &gt;= 0 ; r--){\r\n                      counter++;\r\n                      spiral[edge + r][edge] = counter;\r\n              }\r\n              for(int c = 1; c &lt; size ; c++){\r\n                      counter++;\r\n                      spiral[edge][edge + c] = counter;\r\n              }\r\n    \t\t\treturn spiral;\r\n    \t\t}\r\n    \t}\r\n    }","title":"Overcoming heap overflow issues","body":"<p>I tried to solve problems from Project Euler. I know my method would work logically (it returns answers to the small scale problem almost instantly). However, it scales horribly. I already attempted changing the .ini file, but to no avail.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>public class Number28 {\n\n    static int SIZE = 101; //this should be an odd number, i accidentally posted 100\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        double start = System.currentTimeMillis();\n        long spiral[][]= spiral(SIZE);\n        long sum = 0;\n        for(int i = 0; i &lt; SIZE; i++)\n        {\n            sum += spiral[i][i];\n            sum += spiral[i][SIZE - 1 - i];\n        }\n        System.out.println(sum - 1);\n        double time = System.currentTimeMillis() - start;\n        System.out.println(time);\n\n    }\n    public static long[][] spiral(int size){\n        long spiral[][]= new long[size][size];\n        if(size == 1){\n            spiral[0][0] = 1;\n            return spiral;\n        }\n        else{\n            long subspiral[][]= new long[size - 2][size - 2];\n            subspiral = spiral(size - 2);\n            for(int r = 0; r &lt; size - 2; r++){\n                for(int c = 0; c &lt; size - 2; c++){\n                    spiral[r + 1][c + 1] = subspiral[r][c];\n                }\n            }\n            long counter = subspiral[0][size - 3];\n            for(int r = 1; r &lt; size ; r++){\n                counter++;\n                spiral[r][size - 1] = counter;\n            }\n            for(int c = size - 2; c &gt;= 0; c--){\n                counter++;\n                spiral[size - 1][c] = counter;\n            }\n            for(int r = size - 2 ; r &gt;= 0 ; r--){\n                counter++;\n                spiral[r][0] = counter;\n            }\n            for(int c = 1; c &lt; size ; c++){\n                counter++;\n                spiral[0][c] = counter;\n            }\n\n            return spiral;\n        }\n    }\n}\n</code></pre>\n\n<p>Here's the edited code, worked like a gem:</p>\n\n<pre><code>public class Number28 {\n    static int SIZE = 1001;\n    static long spiral[][]= new long[SIZE][SIZE];\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        double start = System.currentTimeMillis();\n        long spiral[][]= spiral(SIZE);\n        long sum = 0;\n        for(int i = 0; i &lt; SIZE; i++)\n        {\n            sum += spiral[i][i];\n            sum += spiral[i][SIZE - 1 - i];\n        }\n        System.out.println(sum - 1);\n        double time = System.currentTimeMillis() - start;\n        System.out.println(time);\n\n    }\n    public static long[][] spiral(int size){\n        if(size == 1){\n            spiral[SIZE / 2][SIZE / 2] = 1;\n            return spiral;\n        }\n        else{\n            long subspiral[][]= spiral(size - 2);\n            int edge = (SIZE - size) / 2;\n            long counter = subspiral[edge + 1][edge + size - 2];\n\n              for(int r = 1; r &lt; size ; r++){\n                  counter++;\n                  spiral[edge + r][edge + size - 1] = counter;\n          }\n          for(int c = size - 2; c &gt;= 0; c--){\n                  counter++;\n                  spiral[edge + size - 1][edge + c] = counter;\n          }\n          for(int r = size - 2 ; r &gt;= 0 ; r--){\n                  counter++;\n                  spiral[edge + r][edge] = counter;\n          }\n          for(int c = 1; c &lt; size ; c++){\n                  counter++;\n                  spiral[edge][edge + c] = counter;\n          }\n            return spiral;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","oop","junit","equals","testcase"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1638569912,"post_id":70221227,"comment_id":124132840,"body_markdown":"You would create various instances of the class and then assert `obj1.equals(obj2)` is true or false, depending on the value you expect. Note your handling of `Integer` breaks the associativity contract of `equals` because `patron.equals(integer)` will not always equal `integer.equals(patron)`.","body":"You would create various instances of the class and then assert <code>obj1.equals(obj2)</code> is true or false, depending on the value you expect. Note your handling of <code>Integer</code> breaks the associativity contract of <code>equals</code> because <code>patron.equals(integer)</code> will not always equal <code>integer.equals(patron)</code>."},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":1,"creation_date":1638570309,"post_id":70221227,"comment_id":124132927,"body_markdown":"Generally speaking, things of different classes should not be considered equal.","body":"Generally speaking, things of different classes should not be considered equal."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1639071310,"post_id":70221227,"comment_id":124260905,"body_markdown":"Write the test just like for any other method. Call the method under test with some value, and compare the returned value to what you expect. `equals` is no different than any other method here.","body":"Write the test just like for any other method. Call the method under test with some value, and compare the returned value to what you expect. <code>equals</code> is no different than any other method here."}],"answers":[{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638571937,"creation_date":1638571937,"answer_id":70221503,"question_id":70221227,"body_markdown":"If you want to verify whether the contract for the `equals` and `hashCode` methods is met, I would suggest using [EqualsVerifier][1]. \r\n\r\nIf you don&#39;t want to use an external library, I would suggest taking a look at it to get an idea of what (and why) you need to test. It is a great source to learn about `equals` and `hashCode`.\r\n\r\nIt&#39;s very simple to write a test:\r\n\r\n    EqualsVerifier.forClass(Foo.class).verify();\r\n\r\nThere&#39;s also a less strict alternative:\r\n\r\n    EqualsVerifier.simple()\r\n                .forClass(Foo.class).verify();\r\n\r\nIt also has several options to suppress other warnings.\r\n\r\n  [1]: https://jqno.nl/equalsverifier/","title":"How to write a test case for an equals method","body":"<p>If you want to verify whether the contract for the <code>equals</code> and <code>hashCode</code> methods is met, I would suggest using <a href=\"https://jqno.nl/equalsverifier/\" rel=\"nofollow noreferrer\">EqualsVerifier</a>.</p>\n<p>If you don't want to use an external library, I would suggest taking a look at it to get an idea of what (and why) you need to test. It is a great source to learn about <code>equals</code> and <code>hashCode</code>.</p>\n<p>It's very simple to write a test:</p>\n<pre><code>EqualsVerifier.forClass(Foo.class).verify();\n</code></pre>\n<p>There's also a less strict alternative:</p>\n<pre><code>EqualsVerifier.simple()\n            .forClass(Foo.class).verify();\n</code></pre>\n<p>It also has several options to suppress other warnings.</p>\n"}],"owner":{"account_id":23252343,"reputation":1,"user_id":17339907,"display_name":"shlop37"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1638571937,"creation_date":1638569708,"question_id":70221227,"body_markdown":"How would I go about writing a test case for this equals method that compares ID numbers after it checks if an object is an &quot;Integer&quot; or &quot;Patron&quot;. \r\n\r\nHere is the method:\r\n```\r\npublic boolean equals(Object other) {\r\n   \r\n      boolean bool = false;\r\n      \r\n      if (other instanceof Patron) {\r\n         Patron patron = (Patron) other;\r\n         bool = this.idNumber == patron.idNumber;\r\n      } else if (other instanceof Integer) {\r\n         Integer id = (Integer) other;\r\n         bool = this.idNumber == id;\r\n      }\r\n      return bool;\r\n```","title":"How to write a test case for an equals method","body":"<p>How would I go about writing a test case for this equals method that compares ID numbers after it checks if an object is an &quot;Integer&quot; or &quot;Patron&quot;.</p>\n<p>Here is the method:</p>\n<pre><code>public boolean equals(Object other) {\n   \n      boolean bool = false;\n      \n      if (other instanceof Patron) {\n         Patron patron = (Patron) other;\n         bool = this.idNumber == patron.idNumber;\n      } else if (other instanceof Integer) {\n         Integer id = (Integer) other;\n         bool = this.idNumber == id;\n      }\n      return bool;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8199,"page":1793,"page_size":100}
