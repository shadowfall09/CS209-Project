{"items":[{"tags":["java","r","azure","jupyter-notebook","anaconda"],"comments":[{"owner":{"account_id":9132011,"reputation":1360,"user_id":6793245,"display_name":"orangeInk"},"score":0,"creation_date":1573823706,"post_id":58877431,"comment_id":104022987,"body_markdown":"I have limited experience with notebooks, know nothing about R, and have never even heard of `sparklyr` so take everything I say with a grain of salt, but: where do you launch Jupyter from? I would guess that for Jupyter to find the openjdk in your evironment you&#39;d have to launch Jupyter from *that* env, however your `conda create` command suggests that you&#39;re launching it from somewhere else.","body":"I have limited experience with notebooks, know nothing about R, and have never even heard of <code>sparklyr</code> so take everything I say with a grain of salt, but: where do you launch Jupyter from? I would guess that for Jupyter to find the openjdk in your evironment you&#39;d have to launch Jupyter from <i>that</i> env, however your <code>conda create</code> command suggests that you&#39;re launching it from somewhere else."},{"owner":{"account_id":6367136,"reputation":422,"user_id":5986779,"display_name":"Edgar"},"score":0,"creation_date":1573823964,"post_id":58877431,"comment_id":104023114,"body_markdown":"actually, the jupyter notebooks are launched from a dedicated service on the Azure cloud called &quot;Jupyter Lab&quot;. Since i create conda envs within this jupyter web browser gui, I guess it&#39;s part of the problem...","body":"actually, the jupyter notebooks are launched from a dedicated service on the Azure cloud called &quot;Jupyter Lab&quot;. Since i create conda envs within this jupyter web browser gui, I guess it&#39;s part of the problem..."},{"owner":{"account_id":277129,"reputation":69726,"user_id":570918,"accept_rate":94,"display_name":"merv"},"score":1,"creation_date":1573835274,"post_id":58877431,"comment_id":104029342,"body_markdown":"In the notebook, does `Sys.getenv(&quot;JAVA_HOME&quot;)` correctly point to the Java in the env? Are there any config options for `sparklyr` that allow setting the Java path?","body":"In the notebook, does <code>Sys.getenv(&quot;JAVA_HOME&quot;)</code> correctly point to the Java in the env? Are there any config options for <code>sparklyr</code> that allow setting the Java path?"}],"answers":[{"tags":[],"owner":{"account_id":6367136,"reputation":422,"user_id":5986779,"display_name":"Edgar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1573836803,"creation_date":1573836803,"answer_id":58881476,"question_id":58877431,"body_markdown":"@merv&#39;s comment put me on the right track:\r\n\r\nGet the current `JAVA_HOME`-path with `Sys.getenv(&quot;JAVA_HOME&quot;)` in the R console in the terminal within the environment: `&quot;/path/to/your/java&quot;`.\r\n\r\nIn the notebook with the corresponding environment kernel, use `Sys.setenv(JAVA_HOME=&quot;/path/to/your/java&quot;)` and go!","title":"How to use specific Java version from a conda environment inside of Jupyter notebook","body":"<p>@merv's comment put me on the right track:</p>\n\n<p>Get the current <code>JAVA_HOME</code>-path with <code>Sys.getenv(\"JAVA_HOME\")</code> in the R console in the terminal within the environment: <code>\"/path/to/your/java\"</code>.</p>\n\n<p>In the notebook with the corresponding environment kernel, use <code>Sys.setenv(JAVA_HOME=\"/path/to/your/java\")</code> and go!</p>\n"}],"owner":{"account_id":6367136,"reputation":422,"user_id":5986779,"display_name":"Edgar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10790,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58881476,"answer_count":1,"score":2,"last_activity_date":1633620335,"creation_date":1573822206,"question_id":58877431,"body_markdown":"My overall aim is to use `sparklyr` within an R Jupyter notebook on my Azure cloud service of Jupyter lab. I created a new conda environment with R, sparklyr and Java 8 (since this is the version supported by sparklyr) as follows:\r\n\r\n    conda create -n r_spark r=3.6 r-essentials r-irkernel openjdk=8 r-sparklyr\r\n    source activate r_spark\r\n    R\r\n    &gt; IRkernel::installspec(user=TRUE, name=&quot;rspark&quot;, displayname=&quot;R (Spark)&quot;) \r\n\r\nWhen I run R **within a terminal** session within this environment, everything works fine:\r\n\r\n    R\r\n    &gt; system(&quot;java -version&quot;)\r\n    openjdk version &quot;1.8.0_152-release&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_152-release-1056-b12)\r\n    OpenJDK 64-Bit Server VM (build 25.152-b12, mixed mode)\r\n    &gt; library(sparklyr)\r\n    &gt; sc &lt;- spark_connect(master=&quot;local&quot;)\r\n    * Using Spark: 2.3.3\r\n    Registered S3 method overwritten by &#39;openssl&#39;:\r\n      method      from\r\n      print.bytes Rcpp\r\n    &gt; spark_disconnect(sc)\r\n    NULL\r\n    &gt;\r\n\r\nHowever, when I do the same **within a notebook** with the very same &quot;R (Spark)&quot;-kernel, it uses Java openjdk version 11:\r\n\r\n    library(sparklyr)\r\n    sc &lt;- spark_connect(master=&quot;local&quot;)\r\n    Error in validate_java_version_line(master, version): Java version detected\r\n    but couldnt parse version from: openjdk version &quot;11.0.4&quot; 2019-07-16\r\n    Traceback: [...]\r\n\r\nFurthermore `system(&quot;java -version&quot;, intern=TRUE)` returns an empty result from within the notebook.\r\n\r\nHow can I tell the notebook to use the Java version from its environment?\r\n\r\n","title":"How to use specific Java version from a conda environment inside of Jupyter notebook","body":"<p>My overall aim is to use <code>sparklyr</code> within an R Jupyter notebook on my Azure cloud service of Jupyter lab. I created a new conda environment with R, sparklyr and Java 8 (since this is the version supported by sparklyr) as follows:</p>\n\n<pre><code>conda create -n r_spark r=3.6 r-essentials r-irkernel openjdk=8 r-sparklyr\nsource activate r_spark\nR\n&gt; IRkernel::installspec(user=TRUE, name=\"rspark\", displayname=\"R (Spark)\") \n</code></pre>\n\n<p>When I run R <strong>within a terminal</strong> session within this environment, everything works fine:</p>\n\n<pre><code>R\n&gt; system(\"java -version\")\nopenjdk version \"1.8.0_152-release\"\nOpenJDK Runtime Environment (build 1.8.0_152-release-1056-b12)\nOpenJDK 64-Bit Server VM (build 25.152-b12, mixed mode)\n&gt; library(sparklyr)\n&gt; sc &lt;- spark_connect(master=\"local\")\n* Using Spark: 2.3.3\nRegistered S3 method overwritten by 'openssl':\n  method      from\n  print.bytes Rcpp\n&gt; spark_disconnect(sc)\nNULL\n&gt;\n</code></pre>\n\n<p>However, when I do the same <strong>within a notebook</strong> with the very same \"R (Spark)\"-kernel, it uses Java openjdk version 11:</p>\n\n<pre><code>library(sparklyr)\nsc &lt;- spark_connect(master=\"local\")\nError in validate_java_version_line(master, version): Java version detected\nbut couldnt parse version from: openjdk version \"11.0.4\" 2019-07-16\nTraceback: [...]\n</code></pre>\n\n<p>Furthermore <code>system(\"java -version\", intern=TRUE)</code> returns an empty result from within the notebook.</p>\n\n<p>How can I tell the notebook to use the Java version from its environment?</p>\n"},{"tags":["java","testing","automation","selenium-webdriver","pageobjects"],"answers":[{"tags":[],"owner":{"account_id":1708399,"reputation":8104,"user_id":1566990,"accept_rate":67,"display_name":"James Dunn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1399581756,"creation_date":1399581756,"answer_id":23552121,"question_id":23532878,"body_markdown":"**Yes.**  The Page Object model simply creates objects that represent pages.  The only real difference between testing one application and testing multiple applications is ... more pages.  The number of web applications you are testing doesn&#39;t change the fact that each application has pages that can be represented by Page Objects in your code.","title":"Page Object Model for multiple web applications","body":"<p><strong>Yes.</strong>  The Page Object model simply creates objects that represent pages.  The only real difference between testing one application and testing multiple applications is ... more pages.  The number of web applications you are testing doesn't change the fact that each application has pages that can be represented by Page Objects in your code.</p>\n"},{"tags":[],"owner":{"account_id":8027063,"reputation":89,"user_id":6053575,"display_name":"Uchiha Suryajit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633073285,"creation_date":1633073285,"answer_id":69402062,"question_id":23532878,"body_markdown":"**Yes**, it is a very good idea to have POM for multiple web applications.\r\nI would suggest creating an Automation Framework that satisfies all your needs.\r\nYou can have a dedicated package named **&quot;page&quot;** under which you could have multiple packages for respective web applications. e.g. mentioned below\r\n     framework \r\n          1. data (Test Data management related stuff)\r\n          2. env (Test Env Management related stuff)\r\n          3. **page** -&gt; \r\n                **apps** -&gt; \r\n                    **app1** (Respective page classes for web-app1) -&gt; \r\n                    **app2** (Respective page classes for web-app2)\r\n          4. report\r\n          5. util\r\n\r\n\r\n\r\n ","title":"Page Object Model for multiple web applications","body":"<p><strong>Yes</strong>, it is a very good idea to have POM for multiple web applications.\nI would suggest creating an Automation Framework that satisfies all your needs.\nYou can have a dedicated package named <strong>&quot;page&quot;</strong> under which you could have multiple packages for respective web applications. e.g. mentioned below\nframework\n1. data (Test Data management related stuff)\n2. env (Test Env Management related stuff)\n3. <strong>page</strong> -&gt;\n<strong>apps</strong> -&gt;\n<strong>app1</strong> (Respective page classes for web-app1) -&gt;\n<strong>app2</strong> (Respective page classes for web-app2)\n4. report\n5. util</p>\n"}],"owner":{"account_id":4261264,"reputation":125,"user_id":3485570,"accept_rate":29,"display_name":"kumarabhishek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23552121,"answer_count":2,"score":1,"last_activity_date":1633620287,"creation_date":1399524106,"question_id":23532878,"body_markdown":"I am having a Test automation tool, now we are on to implement page object model for the automated testing of our web applications, as per my understanding page object model is good if you have only one application to test, but we are having multiple web applications to test.I just want to know is it really possible to create page object model for multiple web applications and the tool should be able to do the automated testing by using page object??","title":"Page Object Model for multiple web applications","body":"<p>I am having a Test automation tool, now we are on to implement page object model for the automated testing of our web applications, as per my understanding page object model is good if you have only one application to test, but we are having multiple web applications to test.I just want to know is it really possible to create page object model for multiple web applications and the tool should be able to do the automated testing by using page object??</p>\n"},{"tags":["java","sql","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":1,"creation_date":1633617903,"post_id":69483108,"comment_id":122812730,"body_markdown":"Try adding `@Param(&quot;main&quot;) ` i.e `searchWithoutFilters(@Param(&quot;main&quot;) String main)`","body":"Try adding <code>@Param(&quot;main&quot;) </code> i.e <code>searchWithoutFilters(@Param(&quot;main&quot;) String main)</code>"},{"owner":{"account_id":22970615,"reputation":83,"user_id":17099045,"display_name":"santocielo99"},"score":0,"creation_date":1633618258,"post_id":69483108,"comment_id":122812867,"body_markdown":"@Arnaud nope, still empty","body":"@Arnaud nope, still empty"},{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1633618777,"post_id":69483108,"comment_id":122813115,"body_markdown":"The `like` clause may be more tricky, see here : https://stackoverflow.com/questions/62034032/like-clause-in-jpa-native-sql-query","body":"The <code>like</code> clause may be more tricky, see here : <a href=\"https://stackoverflow.com/questions/62034032/like-clause-in-jpa-native-sql-query\" title=\"like clause in jpa native sql query\">stackoverflow.com/questions/62034032/&hellip;</a>"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1633619820,"post_id":69483108,"comment_id":122813611,"body_markdown":"Is `return null;` in your code intentional?","body":"Is <code>return null;</code> in your code intentional?"},{"owner":{"account_id":22970615,"reputation":83,"user_id":17099045,"display_name":"santocielo99"},"score":0,"creation_date":1633678366,"post_id":69483108,"comment_id":122828488,"body_markdown":"@talex Yes it was, a temporary thing to not get the &quot;this method must return whatever&quot; error until I was sure I had the list, btw problem solved","body":"@talex Yes it was, a temporary thing to not get the &quot;this method must return whatever&quot; error until I was sure I had the list, btw problem solved"}],"answers":[{"tags":[],"owner":{"account_id":2453943,"reputation":11,"user_id":2139576,"display_name":"AnMaD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633618298,"creation_date":1633618298,"answer_id":69483249,"question_id":69483108,"body_markdown":"Try changing the query &quot;:main&quot; to &quot;?1&quot; in both occurrences\r\n\r\n","title":"Why does my JpaRepository (spring-data-jpa) custom query return me an empty list?","body":"<p>Try changing the query &quot;:main&quot; to &quot;?1&quot; in both occurrences</p>\n"},{"tags":[],"owner":{"account_id":22970615,"reputation":83,"user_id":17099045,"display_name":"santocielo99"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633619773,"creation_date":1633619773,"answer_id":69483643,"question_id":69483108,"body_markdown":"Done, the Like clause on jpa repository kinda works like dodoo so I had to write it like this:\r\n\r\n    LIKE CONCAT(CONCAT(&#39;%&#39;, :main), &#39;%&#39;)\r\n(the sintax is correct only with oracle databases tho so be careful, for mySql and others write it like this:\r\n\r\n    LIKE CONCAT(&#39;%&#39;, :param, &#39;%&#39;)\r\n\r\nthanks @Arnaud","title":"Why does my JpaRepository (spring-data-jpa) custom query return me an empty list?","body":"<p>Done, the Like clause on jpa repository kinda works like dodoo so I had to write it like this:</p>\n<pre><code>LIKE CONCAT(CONCAT('%', :main), '%')\n</code></pre>\n<p>(the sintax is correct only with oracle databases tho so be careful, for mySql and others write it like this:</p>\n<pre><code>LIKE CONCAT('%', :param, '%')\n</code></pre>\n<p>thanks @Arnaud</p>\n"}],"owner":{"account_id":22970615,"reputation":83,"user_id":17099045,"display_name":"santocielo99"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69483643,"answer_count":2,"score":0,"last_activity_date":1633619773,"creation_date":1633617609,"question_id":69483108,"body_markdown":"i&#39;m trying to develop a webapp where users post their ads, I&#39;m currently working on the research an ad section, it&#39;s just a form that sends a search model (it has a string which is the text written on the search bar and some non-required filters) to the backend (spring boot), the backend gets the string and gives it to a JpaRepository method that should do a query on my oracle database and give me back the result set as a list of AdEntity, only problem is the list is always empty, this is the method: \r\n\r\n    @Query(value = &quot;select distinct a.ann_id, a.nome, a.autore, a.descrizione, a.prodotto, a.prezzo &quot;\r\n\t\t\t+ &quot;from annunci a, prodotti p &quot;\r\n\t\t\t+ &quot;where a.prodotto = p.prod_id  &quot;\r\n\t\t\t+ &quot;and (a.nome like &#39;%:main%&#39; or p.nome like &#39;%:main%&#39;)&quot;, nativeQuery = true)\r\n\tpublic List&lt;AnnuncioEntity&gt; searchWithoutFilters(String main);\r\n\r\nand this is where I call it:\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n\tpublic List&lt;FullAnnuncio&gt; searchAnnunci(@RequestBody SearchEntity search) {\r\n\t\tList&lt;AnnuncioEntity&gt; li = annuncioDAO.searchWithoutFilters(search.getMain());\r\n\t\treturn null;\r\n\t}\r\nThe li list is always empty (checked with debugger) and I have no idea how to fix it, I&#39;m sure the query works and produces the expected resultSet as I tried it on sqlDeveloper first, and no the string I get from search isn&#39;t null\r\n\r\nHelp pls I&#39;m new to these things as I&#39;m not even a junior programmer lmao","title":"Why does my JpaRepository (spring-data-jpa) custom query return me an empty list?","body":"<p>i'm trying to develop a webapp where users post their ads, I'm currently working on the research an ad section, it's just a form that sends a search model (it has a string which is the text written on the search bar and some non-required filters) to the backend (spring boot), the backend gets the string and gives it to a JpaRepository method that should do a query on my oracle database and give me back the result set as a list of AdEntity, only problem is the list is always empty, this is the method:</p>\n<pre><code>@Query(value = &quot;select distinct a.ann_id, a.nome, a.autore, a.descrizione, a.prodotto, a.prezzo &quot;\n        + &quot;from annunci a, prodotti p &quot;\n        + &quot;where a.prodotto = p.prod_id  &quot;\n        + &quot;and (a.nome like '%:main%' or p.nome like '%:main%')&quot;, nativeQuery = true)\npublic List&lt;AnnuncioEntity&gt; searchWithoutFilters(String main);\n</code></pre>\n<p>and this is where I call it:</p>\n<pre><code>@PostMapping(&quot;/&quot;)\npublic List&lt;FullAnnuncio&gt; searchAnnunci(@RequestBody SearchEntity search) {\n    List&lt;AnnuncioEntity&gt; li = annuncioDAO.searchWithoutFilters(search.getMain());\n    return null;\n}\n</code></pre>\n<p>The li list is always empty (checked with debugger) and I have no idea how to fix it, I'm sure the query works and produces the expected resultSet as I tried it on sqlDeveloper first, and no the string I get from search isn't null</p>\n<p>Help pls I'm new to these things as I'm not even a junior programmer lmao</p>\n"},{"tags":["java","sql","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":10363173,"reputation":303,"user_id":8694640,"display_name":"dope"},"score":1,"creation_date":1632347967,"post_id":69291275,"comment_id":122471166,"body_markdown":"How are you defining no longer used CarTypes in your code?","body":"How are you defining no longer used CarTypes in your code?"},{"owner":{"account_id":6120687,"reputation":363,"user_id":4774302,"display_name":"Zak FST"},"score":0,"creation_date":1632348278,"post_id":69291275,"comment_id":122471230,"body_markdown":"@dope no existing car uses the carType","body":"@dope no existing car uses the carType"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1632383413,"post_id":69291275,"comment_id":122478084,"body_markdown":"You could retrieve the *distinct* carType from all cars in the database.","body":"You could retrieve the <i>distinct</i> carType from all cars in the database."},{"owner":{"account_id":10363173,"reputation":303,"user_id":8694640,"display_name":"dope"},"score":0,"creation_date":1632680729,"post_id":69291275,"comment_id":122552564,"body_markdown":"@ZakFST Did you find any solution yet?","body":"@ZakFST Did you find any solution yet?"}],"answers":[{"tags":[],"owner":{"account_id":10363173,"reputation":303,"user_id":8694640,"display_name":"dope"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632399303,"creation_date":1632399303,"answer_id":69299816,"question_id":69291275,"body_markdown":"You have to write a custom query to get the actually used CarTypes data from the database.\r\n\r\n\r\n    @Query(\r\n      value = &quot;SELECT * FROM cartype t2 WHERE EXISTS (SELECT * FROM car as t1 WHERE t1.cartype = t2.id)&quot;, \r\n      nativeQuery = true)\r\n    List&lt;CarTypes&gt; findAllActiveCarTypes();","title":"Spring Data JPA: filter data based on used ManyToOne field","body":"<p>You have to write a custom query to get the actually used CarTypes data from the database.</p>\n<pre><code>@Query(\n  value = &quot;SELECT * FROM cartype t2 WHERE EXISTS (SELECT * FROM car as t1 WHERE t1.cartype = t2.id)&quot;, \n  nativeQuery = true)\nList&lt;CarTypes&gt; findAllActiveCarTypes();\n</code></pre>\n"}],"owner":{"account_id":6120687,"reputation":363,"user_id":4774302,"display_name":"Zak FST"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1633619685,"creation_date":1632344771,"question_id":69291275,"body_markdown":"I have an entity &quot;Car&quot; with &quot;CarType&quot; as @ManyToOne @joinColumn parameter:\r\n\r\nCar entity: \r\n\r\n    @Entity\r\n    public class Car implements serializable {\r\n      @Id\r\n      private Long id;\r\n\r\n      @ManyToOne(targetEntity = CarType.class)\r\n      private CarType carType;\r\n\r\n      ...\r\n    }\r\n\r\nCarType entity: \r\n\r\n    @Entity\r\n    public class CarType implements serializable {\r\n      @Id\r\n      private Long id;\r\n      private String name;\r\n      private String version;\r\n      \r\n      ...\r\n    }\r\n\r\nCarType repository:\r\n\r\n    @Repository\r\n    public interface CarType extends JpaRepository&lt;CarType, Long&gt; {\r\n       List&lt;CarType&gt; findAllOrderByNameAsc();\r\n\r\n    }\r\n\r\n\r\nUsers ask for CarTypes, I have already an api that returns all carTypes, but some of them are no longer used (no existing car uses the carType)\r\n\r\nis there any way to retrieve only &quot;actual&quot; used CarTypes using JpaRepository ?","title":"Spring Data JPA: filter data based on used ManyToOne field","body":"<p>I have an entity &quot;Car&quot; with &quot;CarType&quot; as @ManyToOne @joinColumn parameter:</p>\n<p>Car entity:</p>\n<pre><code>@Entity\npublic class Car implements serializable {\n  @Id\n  private Long id;\n\n  @ManyToOne(targetEntity = CarType.class)\n  private CarType carType;\n\n  ...\n}\n</code></pre>\n<p>CarType entity:</p>\n<pre><code>@Entity\npublic class CarType implements serializable {\n  @Id\n  private Long id;\n  private String name;\n  private String version;\n  \n  ...\n}\n</code></pre>\n<p>CarType repository:</p>\n<pre><code>@Repository\npublic interface CarType extends JpaRepository&lt;CarType, Long&gt; {\n   List&lt;CarType&gt; findAllOrderByNameAsc();\n\n}\n</code></pre>\n<p>Users ask for CarTypes, I have already an api that returns all carTypes, but some of them are no longer used (no existing car uses the carType)</p>\n<p>is there any way to retrieve only &quot;actual&quot; used CarTypes using JpaRepository ?</p>\n"},{"tags":["java","maven","jacoco","jacoco-maven-plugin","jacoco-plugin"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":4,"creation_date":1633619681,"post_id":69483577,"comment_id":122813533,"body_markdown":"What&#39;s wrong with the defaults?","body":"What&#39;s wrong with the defaults?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":3,"creation_date":1633619763,"post_id":69483577,"comment_id":122813577,"body_markdown":"Convention over configuration...keep the phases the jacoco maintainer think it&#39;s best...most of the time the do right...","body":"Convention over configuration...keep the phases the jacoco maintainer think it&#39;s best...most of the time the do right..."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1633620165,"post_id":69483577,"comment_id":122813760,"body_markdown":"As you&#39;ve done with `prepare-agent`, it&#39;s not necessary to specify a phase. If you don&#39;t, the plugin author will have defined a default phase. In most cases those defaults are what you want anyway","body":"As you&#39;ve done with <code>prepare-agent</code>, it&#39;s not necessary to specify a phase. If you don&#39;t, the plugin author will have defined a default phase. In most cases those defaults are what you want anyway"}],"owner":{"account_id":20654871,"reputation":236,"user_id":15164253,"display_name":"Victor Levin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633619628,"creation_date":1633619569,"question_id":69483577,"body_markdown":"What is the best way for using JaCoCo in Maven phases? I mean what&#39;s phase I should choose to run JaCoCo in my ci pipeline? `Test` phase or `verify`? What is the difference between the two types of using?\r\nI have three execution sections in my POM file.\r\n\r\n                 &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;report&lt;/id&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;target/jacoco-report&lt;/outputDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;check&lt;/id&gt;\r\n                        &lt;phase&gt;test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;check&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n\r\nAnd I don&#39;t understand how should I choose phase for each execuction section.","title":"What is the best way for using JaCoCo in Maven phases?","body":"<p>What is the best way for using JaCoCo in Maven phases? I mean what's phase I should choose to run JaCoCo in my ci pipeline? <code>Test</code> phase or <code>verify</code>? What is the difference between the two types of using?\nI have three execution sections in my POM file.</p>\n<pre><code>             &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-prepare-agent&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;report&lt;/id&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;report&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;target/jacoco-report&lt;/outputDirectory&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;check&lt;/id&gt;\n                    &lt;phase&gt;test&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;check&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n</code></pre>\n<p>And I don't understand how should I choose phase for each execuction section.</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633619283,"creation_date":1633619283,"answer_id":69483506,"question_id":69483275,"body_markdown":"Yes, performance will be improved. Let assume database provider don&#39;t do other things such as automatically optimize query.\r\n\r\n    Way 1: A left join B left join C inner join D\r\n    1.A left join B =&gt; Full records A\r\n    2.A left join C =&gt; Full records A\r\n    3.A inner join D =&gt; Partial A\r\n\r\n\r\n    Way 2: A inner join D left join B left join C\r\n    1.A inner join D =&gt; Partial A =&gt; A1( significantly improvement here)\r\n    2.A1 left join B =&gt; Full A1 \r\n    3.A1 left join C =&gt; Full A1\r\n\r\nAt step 1, way 2 have reduced the number of rows in DB =&gt; less records which are used for left join B and C.","title":"Performance improvement by priorities joining the tables","body":"<p>Yes, performance will be improved. Let assume database provider don't do other things such as automatically optimize query.</p>\n<pre><code>Way 1: A left join B left join C inner join D\n1.A left join B =&gt; Full records A\n2.A left join C =&gt; Full records A\n3.A inner join D =&gt; Partial A\n\n\nWay 2: A inner join D left join B left join C\n1.A inner join D =&gt; Partial A =&gt; A1( significantly improvement here)\n2.A1 left join B =&gt; Full A1 \n3.A1 left join C =&gt; Full A1\n</code></pre>\n<p>At step 1, way 2 have reduced the number of rows in DB =&gt; less records which are used for left join B and C.</p>\n"}],"owner":{"account_id":1227969,"reputation":1412,"user_id":1193179,"accept_rate":100,"display_name":"Mohammadreza Yektamaram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633619627,"creation_date":1633618410,"question_id":69483275,"body_markdown":"Have a performance question about joining tables in Kafka,\r\ncurrently the topology defined as the following code:\r\n\r\n```java\r\ntable1\r\n   .leftJoin(table2, Pair::with)\r\n   .leftJoin(table3, Pair::add)\r\n   .join(table4, (left) -&gt; left.getValue(0).getId() Triplet::add)\r\n   .leftJoin(table5, Quartet::add)\r\n   .leftJoin(table6, Quintet::add)\r\n```\r\nI just wanted to know if I move the **.join** before others, can be improved on the performance and speed of consuming the data? (like below code):\r\n\r\n```java\r\ntable1\r\n   .join(table4, (left) -&gt; left.getValue(0).getId() Pair::with)\r\n   .leftJoin(table2, Pair::add)\r\n   .leftJoin(table3, Triplet::add)\r\n   .leftJoin(table5, Quartet::add)\r\n   .leftJoin(table6, Quintet::add)\r\n```","title":"Performance improvement by priorities joining the tables","body":"<p>Have a performance question about joining tables in Kafka,\ncurrently the topology defined as the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>table1\n   .leftJoin(table2, Pair::with)\n   .leftJoin(table3, Pair::add)\n   .join(table4, (left) -&gt; left.getValue(0).getId() Triplet::add)\n   .leftJoin(table5, Quartet::add)\n   .leftJoin(table6, Quintet::add)\n</code></pre>\n<p>I just wanted to know if I move the <strong>.join</strong> before others, can be improved on the performance and speed of consuming the data? (like below code):</p>\n<pre class=\"lang-java prettyprint-override\"><code>table1\n   .join(table4, (left) -&gt; left.getValue(0).getId() Pair::with)\n   .leftJoin(table2, Pair::add)\n   .leftJoin(table3, Triplet::add)\n   .leftJoin(table5, Quartet::add)\n   .leftJoin(table6, Quintet::add)\n</code></pre>\n"},{"tags":["java","jvm","out-of-memory"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1633621338,"post_id":69483583,"comment_id":122814290,"body_markdown":"Sure, there are ways, e.g. running an OS process that checks memory consumption and triggers a dump (look at the command line tools available to your JVM, like `jstat`, `jmap`, `jcmd` etc.). Another option would be to use JMX to connect from a remote application or even use a local thread that periodically checks memory usage (e.g. using the methods in `Runtime`) and triggers the heap dump using the `HotSpotDiagnostic` class (if available in your JVM).","body":"Sure, there are ways, e.g. running an OS process that checks memory consumption and triggers a dump (look at the command line tools available to your JVM, like <code>jstat</code>, <code>jmap</code>, <code>jcmd</code> etc.). Another option would be to use JMX to connect from a remote application or even use a local thread that periodically checks memory usage (e.g. using the methods in <code>Runtime</code>) and triggers the heap dump using the <code>HotSpotDiagnostic</code> class (if available in your JVM)."}],"owner":{"account_id":6740288,"reputation":2238,"user_id":5193747,"accept_rate":47,"display_name":"Kamil W"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633619585,"creation_date":1633619585,"question_id":69483583,"body_markdown":"Is there any way to create heap dump when JVM memory consumption exceeds given threshold of MB?\r\n\r\nCan we somehow achieve it by adding additional flags to java command, or using some external library to run together with java process, or maybe we need to write some code which will perform such action?","title":"Create heap dump if memory usage exceed given threshold","body":"<p>Is there any way to create heap dump when JVM memory consumption exceeds given threshold of MB?</p>\n<p>Can we somehow achieve it by adding additional flags to java command, or using some external library to run together with java process, or maybe we need to write some code which will perform such action?</p>\n"},{"tags":["java","out-of-memory","heap-memory","jmeter-3.2","jmeter-maven-plugin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1632324505,"post_id":69201156,"comment_id":122462915,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":344910,"reputation":7321,"user_id":677518,"display_name":"Ardesco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633618818,"creation_date":1633618818,"answer_id":69483403,"question_id":69201156,"body_markdown":"Sounds like you have not configured enough xmx memory for the JMeter process.  You can set the amount of memory allocated to the process in the configuration settings for the plugin like this:\r\n\r\n    &lt;configuration&gt;\r\n      &lt;jMeterProcessJVMSettings&gt;\r\n        &lt;xms&gt;1024&lt;/xms&gt;\r\n        &lt;xmx&gt;1024&lt;/xmx&gt;\r\n        &lt;arguments&gt;\r\n          &lt;argument&gt;-Xprof&lt;/argument&gt;\r\n          &lt;argument&gt;-Xfuture&lt;/argument&gt;\r\n        &lt;/arguments&gt;\r\n      &lt;/jMeterProcessJVMSettings&gt;\r\n    &lt;/configuration&gt;\r\n\r\nLink to the wiki that describes this is: https://github.com/jmeter-maven-plugin/jmeter-maven-plugin/wiki/Configuring-the-jvm-that-the-jmeter-process-runs-in\r\n","title":"JMeter Java HEAP issue seen after finished test plan execution in Jmeter-maven-plugin","body":"<p>Sounds like you have not configured enough xmx memory for the JMeter process.  You can set the amount of memory allocated to the process in the configuration settings for the plugin like this:</p>\n<pre><code>&lt;configuration&gt;\n  &lt;jMeterProcessJVMSettings&gt;\n    &lt;xms&gt;1024&lt;/xms&gt;\n    &lt;xmx&gt;1024&lt;/xmx&gt;\n    &lt;arguments&gt;\n      &lt;argument&gt;-Xprof&lt;/argument&gt;\n      &lt;argument&gt;-Xfuture&lt;/argument&gt;\n    &lt;/arguments&gt;\n  &lt;/jMeterProcessJVMSettings&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Link to the wiki that describes this is: <a href=\"https://github.com/jmeter-maven-plugin/jmeter-maven-plugin/wiki/Configuring-the-jvm-that-the-jmeter-process-runs-in\" rel=\"nofollow noreferrer\">https://github.com/jmeter-maven-plugin/jmeter-maven-plugin/wiki/Configuring-the-jvm-that-the-jmeter-process-runs-in</a></p>\n"}],"owner":{"account_id":17023615,"reputation":37,"user_id":12315474,"display_name":"Sashin Sahasra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69483403,"answer_count":1,"score":1,"last_activity_date":1633618818,"creation_date":1631752767,"question_id":69201156,"body_markdown":"JMeter Test seems to finish fine.\r\n\r\nBut the next output after &quot;14:48:37 [info] Completed Test: FssBenchmark.jmx&quot; is missing because of the heap issue.\r\n\r\nNext lines should normally be,\r\n\r\n```\r\n[INFO] Test Results:\r\n[INFO]  \r\n[INFO] Tests Run: 1, Failures: 0\r\n```\r\n\r\n**Have increased heap to 2048.**\r\nHEAP issue.\r\n\r\n```\r\n[INFO] summary +      3 in 00:00:05 =    0.6/s Avg:  1651 Min:     1 Max:  2810 Err:     0 (0.00%) Active: 0 Started: 53 Finished: 53\r\n[INFO] summary =    100 in 00:03:15 =    0.5/s Avg:  3664 Min:     1 Max: 47594 Err:     0 (0.00%)\r\n[INFO] Tidying up ...    @ Wed Sep 15 18:33:06 UTC 2021 (1631730786136)\r\n[INFO] ... end of run\r\n[INFO] Completed Test: FssBenchmark.jmx\r\n[INFO]  \r\n[INFO] Executing test: FssStreamTest.jmx\r\n[INFO] Writing log file to: /integration-tests/target/jmeter/logs/FssStreamTest.jmx.log\r\n[INFO] WARNING: An illegal reflective access operation has occurred\r\n[INFO] WARNING: Illegal reflective access by com.thoughtworks.xstream.core.util.Fields (file:/integration-tests/target/jmeter/lib/xstream-1.4.9.jar) to field java.util.TreeMap.comparator\r\n[INFO] WARNING: Please consider reporting this to the maintainers of com.thoughtworks.xstream.core.util.Fields\r\n[INFO] WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n[INFO] WARNING: All illegal access operations will be denied in a future release\r\n[INFO] Creating summariser &lt;summary&gt;\r\n[INFO] Created the tree successfully using /integration-tests/target/jmeter/testFiles/FssStreamTest.jmx\r\n[INFO] Starting the test @ Wed Sep 15 18:33:07 UTC 2021 (1631730787166)\r\n[INFO] Waiting for possible Shutdown/StopTestNow/Heapdump message on port 4445\r\n[INFO] summary +     13 in 00:00:24 =    0.6/s Avg:  1721 Min:   534 Max:  3115 Err:     0 (0.00%) Active: 1 Started: 2 Finished: 1\r\n[INFO] summary +     10 in 00:00:13 =    0.8/s Avg:  1273 Min:   535 Max:  2804 Err:     0 (0.00%) Active: 0 Started: 4 Finished: 4\r\n[INFO] summary =     23 in 00:00:36 =    0.6/s Avg:  1526 Min:   534 Max:  3115 Err:     0 (0.00%)\r\n[INFO] Tidying up ...    @ Wed Sep 15 18:33:43 UTC 2021 (1631730823796)\r\n[INFO] ... end of run\r\n[INFO] Completed Test: FssStreamTest.jmx\r\n[INFO] \r\n[INFO] --- jmeter-maven-plugin:2.1.0:results (default-cli) @ integration-tests ---\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  04:37 min\r\n[INFO] Finished at: 2021-09-15T18:33:45Z\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Java heap space -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/OutOfMemoryError\r\n[INFO] Shutdown detected, destroying JMeter process...\r\n[INFO] Shutdown detected, destroying JMeter process...\r\n```","title":"JMeter Java HEAP issue seen after finished test plan execution in Jmeter-maven-plugin","body":"<p>JMeter Test seems to finish fine.</p>\n<p>But the next output after &quot;14:48:37 [info] Completed Test: FssBenchmark.jmx&quot; is missing because of the heap issue.</p>\n<p>Next lines should normally be,</p>\n<pre><code>[INFO] Test Results:\n[INFO]  \n[INFO] Tests Run: 1, Failures: 0\n</code></pre>\n<p><strong>Have increased heap to 2048.</strong>\nHEAP issue.</p>\n<pre><code>[INFO] summary +      3 in 00:00:05 =    0.6/s Avg:  1651 Min:     1 Max:  2810 Err:     0 (0.00%) Active: 0 Started: 53 Finished: 53\n[INFO] summary =    100 in 00:03:15 =    0.5/s Avg:  3664 Min:     1 Max: 47594 Err:     0 (0.00%)\n[INFO] Tidying up ...    @ Wed Sep 15 18:33:06 UTC 2021 (1631730786136)\n[INFO] ... end of run\n[INFO] Completed Test: FssBenchmark.jmx\n[INFO]  \n[INFO] Executing test: FssStreamTest.jmx\n[INFO] Writing log file to: /integration-tests/target/jmeter/logs/FssStreamTest.jmx.log\n[INFO] WARNING: An illegal reflective access operation has occurred\n[INFO] WARNING: Illegal reflective access by com.thoughtworks.xstream.core.util.Fields (file:/integration-tests/target/jmeter/lib/xstream-1.4.9.jar) to field java.util.TreeMap.comparator\n[INFO] WARNING: Please consider reporting this to the maintainers of com.thoughtworks.xstream.core.util.Fields\n[INFO] WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\n[INFO] WARNING: All illegal access operations will be denied in a future release\n[INFO] Creating summariser &lt;summary&gt;\n[INFO] Created the tree successfully using /integration-tests/target/jmeter/testFiles/FssStreamTest.jmx\n[INFO] Starting the test @ Wed Sep 15 18:33:07 UTC 2021 (1631730787166)\n[INFO] Waiting for possible Shutdown/StopTestNow/Heapdump message on port 4445\n[INFO] summary +     13 in 00:00:24 =    0.6/s Avg:  1721 Min:   534 Max:  3115 Err:     0 (0.00%) Active: 1 Started: 2 Finished: 1\n[INFO] summary +     10 in 00:00:13 =    0.8/s Avg:  1273 Min:   535 Max:  2804 Err:     0 (0.00%) Active: 0 Started: 4 Finished: 4\n[INFO] summary =     23 in 00:00:36 =    0.6/s Avg:  1526 Min:   534 Max:  3115 Err:     0 (0.00%)\n[INFO] Tidying up ...    @ Wed Sep 15 18:33:43 UTC 2021 (1631730823796)\n[INFO] ... end of run\n[INFO] Completed Test: FssStreamTest.jmx\n[INFO] \n[INFO] --- jmeter-maven-plugin:2.1.0:results (default-cli) @ integration-tests ---\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  04:37 min\n[INFO] Finished at: 2021-09-15T18:33:45Z\n[INFO] ------------------------------------------------------------------------\n[ERROR] Java heap space -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/OutOfMemoryError\n[INFO] Shutdown detected, destroying JMeter process...\n[INFO] Shutdown detected, destroying JMeter process...\n</code></pre>\n"},{"tags":["java","spring-jms","grpc-java","protobuf-java","jmstemplate"],"comments":[{"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"score":0,"creation_date":1633618969,"post_id":69483133,"comment_id":122813202,"body_markdown":"I&#39;m bookmarking this question! Seems like a very nice tool to have at some point. (with the fix from ~gary-russel below).","body":"I&#39;m bookmarking this question! Seems like a very nice tool to have at some point. (with the fix from ~gary-russel below)."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633618583,"creation_date":1633618583,"answer_id":69483323,"question_id":69483133,"body_markdown":"`new HelloProducer()`\r\n\r\nYou need to `@Autowire` the `HelloProducer` as well - you are creating a new instance (that is not managed by Spring, so it doesn&#39;t get any auto wiring).","title":"java grpc server for a bi-directional stream that connect activemq to push &amp; get message from activemq","body":"<p><code>new HelloProducer()</code></p>\n<p>You need to <code>@Autowire</code> the <code>HelloProducer</code> as well - you are creating a new instance (that is not managed by Spring, so it doesn't get any auto wiring).</p>\n"}],"owner":{"account_id":3145385,"reputation":883,"user_id":2659962,"display_name":"Akhilesh Pandey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69483323,"answer_count":1,"score":0,"last_activity_date":1633618583,"creation_date":1633617703,"question_id":69483133,"body_markdown":"I am trying to write a java grpc server for a bi-directional stream that connect activemq to push &amp; get message from activemq\r\n\r\nI am able to instantiate a Stream observer on the server. However the problem is once i get data from grpc client on invocation of the onNext function on the Server StreamObserver. I am trying to push the message in activemq using JMSTemplate .. I am getting jmsTemplate as null always . \r\n\r\nI am configuring JMSTemplate as below to create JMSTemplate, \r\n\r\n    @Configuration\r\n    @EnableJms\r\n    public class JmsConfig {\r\n    \r\n        @Bean\r\n        public DefaultJmsListenerContainerFactory jmsListenerContainerFactory(\r\n                ConnectionFactory connectionFactory) {\r\n    \r\n            DefaultJmsListenerContainerFactory factory\r\n                    = new DefaultJmsListenerContainerFactory();\r\n    \r\n            factory.setConnectionFactory(connectionFactory);\r\n            factory.setConcurrency(&quot;5-10&quot;);\r\n    \r\n            return factory;\r\n        }\r\n    }\r\n\r\n\r\napplication.yml\r\n\r\n    spring:\r\n      application-name: bidirectional-server\r\n      activemq:\r\n        broker-url: tcp://localhost:61616\r\n        user: admin\r\n        password: admin\r\n        packages.trust-all: true\r\n\r\nHelloService.java\r\n\r\n    @GrpcService\r\n\r\n    public class HelloService extends HelloServiceGrpc.HelloServiceImplBase {\r\n    \r\n        /**\r\n         * @param responseObserver\r\n         */\r\n        @Override\r\n        public StreamObserver&lt;HelloEnvelope&gt; transfer(StreamObserver&lt;HelloEnvelope&gt; responseObserver) {\r\n            return new TransferHelloRequestStreaming(responseObserver);\r\n        }\r\n    }\r\n\r\nTransferHelloRequestStreaming.java\r\n\r\n    @Slf4j\r\n    @Service\r\n    public class TransferHelloRequestStreaming implements StreamObserver&lt;HelloEnvelope&gt; {\r\n    \r\n    \r\n        private  StreamObserver&lt;HelloEnvelope&gt; transferHelloResponseStreamObserver;\r\n    \r\n        private HelloEnvelope transferHelloResponse = null;\r\n        public TransferMessageRequestStreaming() {\r\n        }\r\n        public TransferHelloRequestStreaming(StreamObserver&lt;HelloEnvelope&gt; transferHelloResponseStreamObserver) {\r\n            this.transferHelloResponseStreamObserver = transferHelloResponseStreamObserver;\r\n        }\r\n    \r\n        @Override\r\n        public void onNext(HelloEnvelope transferHelloRequest) {\r\n  \r\n       \r\n           new HelloProducer().sendTo(&quot;input&quot;,transferHelloRequest);\r\n    \r\n      \r\n        }\r\n    \r\n        @Override\r\n        public void onError(Throwable throwable) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onCompleted() {\r\n         this.transferHelloResponseStreamObserver.onCompleted();\r\n        }\r\n    \r\n    }\r\n\r\nHelloProducer.java\r\n\r\n    @Service\r\n    @Slf4j\r\n    public class HelloProducer {\r\n    \r\n      @Autowired\r\n      JmsTemplate jmsTemplate;\r\n    \r\n      public void sendTo(String destination, MessageEnvelope transferHelloRequest) {\r\n     \r\n        jmsTemplate.convertAndSend(destination, transferHelloRequest);\r\n    \r\n      }\r\n    }\r\n\r\n\r\nHelloService.proto\r\n\r\n    syntax = &quot;proto3&quot;;\r\n    \r\n    import &quot;google/protobuf/any.proto&quot;;\r\n    option java_multiple_files = true;\r\n    option java_outer_classname = &quot;HelloProto&quot;;\r\n    package com.server.grpcserver;\r\n    \r\n    service HelloService {\r\n      \r\n        rpc transfer(stream HelloEnvelope) returns\r\n            (stream HelloEnvelope) {\r\n        }\r\n    }\r\n    \r\n    message HelloEnvelope {\r\n        map&lt;string, google.protobuf.Any&gt; header =1;\r\n        bytes body =2;\r\n    }\r\n\r\n\r\n\r\nHere in the HelloProducer.java always i always get jmsTemplate as null. Once i get data from grpc client in the onNext() , i want to push the data in activeMQ. ","title":"java grpc server for a bi-directional stream that connect activemq to push &amp; get message from activemq","body":"<p>I am trying to write a java grpc server for a bi-directional stream that connect activemq to push &amp; get message from activemq</p>\n<p>I am able to instantiate a Stream observer on the server. However the problem is once i get data from grpc client on invocation of the onNext function on the Server StreamObserver. I am trying to push the message in activemq using JMSTemplate .. I am getting jmsTemplate as null always .</p>\n<p>I am configuring JMSTemplate as below to create JMSTemplate,</p>\n<pre><code>@Configuration\n@EnableJms\npublic class JmsConfig {\n\n    @Bean\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory(\n            ConnectionFactory connectionFactory) {\n\n        DefaultJmsListenerContainerFactory factory\n                = new DefaultJmsListenerContainerFactory();\n\n        factory.setConnectionFactory(connectionFactory);\n        factory.setConcurrency(&quot;5-10&quot;);\n\n        return factory;\n    }\n}\n</code></pre>\n<p>application.yml</p>\n<pre><code>spring:\n  application-name: bidirectional-server\n  activemq:\n    broker-url: tcp://localhost:61616\n    user: admin\n    password: admin\n    packages.trust-all: true\n</code></pre>\n<p>HelloService.java</p>\n<pre><code>@GrpcService\n\npublic class HelloService extends HelloServiceGrpc.HelloServiceImplBase {\n\n    /**\n     * @param responseObserver\n     */\n    @Override\n    public StreamObserver&lt;HelloEnvelope&gt; transfer(StreamObserver&lt;HelloEnvelope&gt; responseObserver) {\n        return new TransferHelloRequestStreaming(responseObserver);\n    }\n}\n</code></pre>\n<p>TransferHelloRequestStreaming.java</p>\n<pre><code>@Slf4j\n@Service\npublic class TransferHelloRequestStreaming implements StreamObserver&lt;HelloEnvelope&gt; {\n\n\n    private  StreamObserver&lt;HelloEnvelope&gt; transferHelloResponseStreamObserver;\n\n    private HelloEnvelope transferHelloResponse = null;\n    public TransferMessageRequestStreaming() {\n    }\n    public TransferHelloRequestStreaming(StreamObserver&lt;HelloEnvelope&gt; transferHelloResponseStreamObserver) {\n        this.transferHelloResponseStreamObserver = transferHelloResponseStreamObserver;\n    }\n\n    @Override\n    public void onNext(HelloEnvelope transferHelloRequest) {\n\n   \n       new HelloProducer().sendTo(&quot;input&quot;,transferHelloRequest);\n\n  \n    }\n\n    @Override\n    public void onError(Throwable throwable) {\n\n    }\n\n    @Override\n    public void onCompleted() {\n     this.transferHelloResponseStreamObserver.onCompleted();\n    }\n\n}\n</code></pre>\n<p>HelloProducer.java</p>\n<pre><code>@Service\n@Slf4j\npublic class HelloProducer {\n\n  @Autowired\n  JmsTemplate jmsTemplate;\n\n  public void sendTo(String destination, MessageEnvelope transferHelloRequest) {\n \n    jmsTemplate.convertAndSend(destination, transferHelloRequest);\n\n  }\n}\n</code></pre>\n<p>HelloService.proto</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\nimport &quot;google/protobuf/any.proto&quot;;\noption java_multiple_files = true;\noption java_outer_classname = &quot;HelloProto&quot;;\npackage com.server.grpcserver;\n\nservice HelloService {\n  \n    rpc transfer(stream HelloEnvelope) returns\n        (stream HelloEnvelope) {\n    }\n}\n\nmessage HelloEnvelope {\n    map&lt;string, google.protobuf.Any&gt; header =1;\n    bytes body =2;\n}\n</code></pre>\n<p>Here in the HelloProducer.java always i always get jmsTemplate as null. Once i get data from grpc client in the onNext() , i want to push the data in activeMQ.</p>\n"},{"tags":["java","android-studio","nullpointerexception"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1633618635,"post_id":69483185,"comment_id":122813044,"body_markdown":"Don&#39;t just repost the same question. If you don&#39;t think the linked post in your original question answers the question, edit your question to explain why not.","body":"Don&#39;t just repost the same question. If you don&#39;t think the linked post in your original question answers the question, edit your question to explain why not."}],"answers":[{"tags":[],"owner":{"account_id":6712727,"reputation":640,"user_id":5175581,"display_name":"Ewan Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633618513,"creation_date":1633618513,"answer_id":69483303,"question_id":69483185,"body_markdown":"The error message is saying that you attempted to call the .equals function from an null reference object. The only use of .equals that I could find in your code is on this line:\r\n                    \r\n    if(!user.getUid().equals(FirebaseAuth.getInstance().getUid()))\r\nThe user.**getUid().equals** is the culprit here. user.getUid() must be returning a null value. Try to find some documentation on this &#39;user&#39; object, and you may have more luck.","title":"Gettimg Error i.e (NullPointException) &#39;boolean java.lang.String.equals(java.lang.Object)&#39; on a null object reference can anyone help solving error","body":"<p>The error message is saying that you attempted to call the .equals function from an null reference object. The only use of .equals that I could find in your code is on this line:</p>\n<pre><code>if(!user.getUid().equals(FirebaseAuth.getInstance().getUid()))\n</code></pre>\n<p>The user.<strong>getUid().equals</strong> is the culprit here. user.getUid() must be returning a null value. Try to find some documentation on this 'user' object, and you may have more luck.</p>\n"}],"owner":{"account_id":22914459,"reputation":1,"user_id":17051266,"display_name":"chetan patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1633618588,"answer_count":1,"score":-2,"last_activity_date":1633618513,"creation_date":1633618007,"question_id":69483185,"body_markdown":"This is my logcat\r\n\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean java.lang.String.equals(java.lang.Object)&#39; on a null object reference\r\n\r\n        at com.chetan.mobchat.Activities.MainActivity$4.onDataChange(MainActivity.java:180)\r\n\r\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\r\n\r\n        at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\r\n\r\n        at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:257)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8218)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:626)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1016)\r\n\r\nThis is Code \r\n\r\ndatabase.getReference().child(&quot;users&quot;).addValueEventListener(new ValueEventListener() {\r\n\r\n            @Override\r\n\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                users.clear();\r\n\r\n                for(DataSnapshot snapshot1 : snapshot.getChildren()) {\r\n\r\n                    User user = snapshot1.getValue(User.class);\r\n\r\n                    if(!user.getUid().equals(FirebaseAuth.getInstance().getUid()))\r\n\r\n                        users.add(user);\r\n\r\n                }\r\n\r\n                binding.recyclerView.hideShimmerAdapter();\r\n\r\n                usersAdapter.notifyDataSetChanged();\r\n\r\n\r\n            }\r\n\r\n\r\n            @Override\r\n\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n\r\n            }\r\n\r\n        });\r\n\r\n\r\nCan Anyone help me in solving this error","title":"Gettimg Error i.e (NullPointException) &#39;boolean java.lang.String.equals(java.lang.Object)&#39; on a null object reference can anyone help solving error","body":"<p>This is my logcat</p>\n<p>java.lang.NullPointerException: Attempt to invoke virtual method 'boolean java.lang.String.equals(java.lang.Object)' on a null object reference</p>\n<pre><code>    at com.chetan.mobchat.Activities.MainActivity$4.onDataChange(MainActivity.java:180)\n\n    at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\n\n    at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\n\n    at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\n    at android.os.Handler.handleCallback(Handler.java:938)\n\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loop(Looper.java:257)\n    at android.app.ActivityThread.main(ActivityThread.java:8218)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:626)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1016)\n</code></pre>\n<p>This is Code</p>\n<p>database.getReference().child(&quot;users&quot;).addValueEventListener(new ValueEventListener() {</p>\n<pre><code>        @Override\n\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            users.clear();\n\n            for(DataSnapshot snapshot1 : snapshot.getChildren()) {\n\n                User user = snapshot1.getValue(User.class);\n\n                if(!user.getUid().equals(FirebaseAuth.getInstance().getUid()))\n\n                    users.add(user);\n\n            }\n\n            binding.recyclerView.hideShimmerAdapter();\n\n            usersAdapter.notifyDataSetChanged();\n\n\n        }\n\n\n        @Override\n\n        public void onCancelled(@NonNull DatabaseError error) {\n\n\n        }\n\n    });\n</code></pre>\n<p>Can Anyone help me in solving this error</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":1119443,"reputation":6044,"user_id":1108098,"accept_rate":73,"display_name":"jordiburgos"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1633618142,"creation_date":1633616679,"answer_id":69482890,"question_id":69482780,"body_markdown":"You can try to use this regex:\r\n\r\n    [^&lt;\\s]+\r\n\r\nAny char that is not &quot;&lt;&quot;, for 1 or more times.\r\n\r\n\r\nHere is the example to test it: https://regex101.com/r/9ptt15/2\r\n\r\nHowever, you can try to solve it without a regular expression:\r\n\r\n    boolean isValid = s != null &amp;&amp; !s.isEmpty() &amp;&amp; s.indexOf(&quot; &quot;) == -1 &amp;&amp; s.indexOf(&quot;&lt;&quot;) == -1;\r\n\r\n","title":"Regex NotBlank and doesnt contains &lt;","body":"<p>You can try to use this regex:</p>\n<pre><code>[^&lt;\\s]+\n</code></pre>\n<p>Any char that is not &quot;&lt;&quot;, for 1 or more times.</p>\n<p>Here is the example to test it: <a href=\"https://regex101.com/r/9ptt15/2\" rel=\"nofollow noreferrer\">https://regex101.com/r/9ptt15/2</a></p>\n<p>However, you can try to solve it without a regular expression:</p>\n<pre><code>boolean isValid = s != null &amp;&amp; !s.isEmpty() &amp;&amp; s.indexOf(&quot; &quot;) == -1 &amp;&amp; s.indexOf(&quot;&lt;&quot;) == -1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633617617,"creation_date":1633617027,"answer_id":69482972,"question_id":69482780,"body_markdown":"With regex, you can use\r\n```java\r\n\\A(?!\\s+\\z)[^&lt;]+\\z\r\n(?U)\\A(?!\\s+\\z)[^&lt;]+\\z\r\n```\r\nThe `(?U)` is only necessary when you expect any Unicode chars in the input.\r\n\r\nIn Java, when used with `matches`, the anchors on both ends are implicit:\r\n```java\r\ntext.matches(&quot;(?U)(?!\\\\s+\\\\z)[^&lt;]+&quot;)\r\n```\r\nThe regex in `matches` is executed once and requires the full string match. Here, it matches\r\n\r\n - `\\A`  - (implicit in `matches`) - start of string\r\n - `(?U)` - `Pattern.UNICODE_CHARACTER_CLASS` option enabled so that `\\s` could match any Unicode whitespaces\r\n - `(?!\\\\s+\\\\z)` - until the very end of string, there should be no one or more whitespaces\r\n - `[^&lt;]+` - one or more chars other than `&lt;` \r\n - `\\z` - (implicit in `matches`) - end of string.\r\n\r\nSee the [Java test][1]:\r\n```java\r\nString texts[]  = {&quot;Abc &lt;&lt;&quot;, &quot;     &quot;, &quot;&quot;, &quot;abc 123&quot;};\r\nPattern p = Pattern.compile(&quot;(?U)(?!\\\\s+\\\\z)[^&lt;]+&quot;);\r\nfor(String text : texts)\r\n{\r\n\tMatcher m = p.matcher(text);\r\n\tSystem.out.println(&quot;&#39;&quot; + text + &quot;&#39; =&gt; &quot; + m.matches());\r\n}\r\n```\r\nOutput:\r\n```java\r\n&#39;Abc &lt;&lt;&#39; =&gt; false\r\n&#39;     &#39; =&gt; false\r\n&#39;&#39; =&gt; false\r\n&#39;abc 123&#39; =&gt; true\r\n```\r\nSee an [online regex test][2]  (modified to fit the single multiline string demo environment so as not to cross over line boundaries.)\r\n\r\n\r\n  [1]: https://ideone.com/kKsy21\r\n  [2]: https://regex101.com/r/bYsUyI/1/","title":"Regex NotBlank and doesnt contains &lt;","body":"<p>With regex, you can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>\\A(?!\\s+\\z)[^&lt;]+\\z\n(?U)\\A(?!\\s+\\z)[^&lt;]+\\z\n</code></pre>\n<p>The <code>(?U)</code> is only necessary when you expect any Unicode chars in the input.</p>\n<p>In Java, when used with <code>matches</code>, the anchors on both ends are implicit:</p>\n<pre class=\"lang-java prettyprint-override\"><code>text.matches(&quot;(?U)(?!\\\\s+\\\\z)[^&lt;]+&quot;)\n</code></pre>\n<p>The regex in <code>matches</code> is executed once and requires the full string match. Here, it matches</p>\n<ul>\n<li><code>\\A</code>  - (implicit in <code>matches</code>) - start of string</li>\n<li><code>(?U)</code> - <code>Pattern.UNICODE_CHARACTER_CLASS</code> option enabled so that <code>\\s</code> could match any Unicode whitespaces</li>\n<li><code>(?!\\\\s+\\\\z)</code> - until the very end of string, there should be no one or more whitespaces</li>\n<li><code>[^&lt;]+</code> - one or more chars other than <code>&lt;</code></li>\n<li><code>\\z</code> - (implicit in <code>matches</code>) - end of string.</li>\n</ul>\n<p>See the <a href=\"https://ideone.com/kKsy21\" rel=\"nofollow noreferrer\">Java test</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String texts[]  = {&quot;Abc &lt;&lt;&quot;, &quot;     &quot;, &quot;&quot;, &quot;abc 123&quot;};\nPattern p = Pattern.compile(&quot;(?U)(?!\\\\s+\\\\z)[^&lt;]+&quot;);\nfor(String text : texts)\n{\n    Matcher m = p.matcher(text);\n    System.out.println(&quot;'&quot; + text + &quot;' =&gt; &quot; + m.matches());\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>'Abc &lt;&lt;' =&gt; false\n'     ' =&gt; false\n'' =&gt; false\n'abc 123' =&gt; true\n</code></pre>\n<p>See an <a href=\"https://regex101.com/r/bYsUyI/1/\" rel=\"nofollow noreferrer\">online regex test</a>  (modified to fit the single multiline string demo environment so as not to cross over line boundaries.)</p>\n"}],"owner":{"account_id":15567040,"reputation":71,"user_id":11230458,"display_name":"tooFastForSatan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69482972,"answer_count":2,"score":2,"last_activity_date":1633618142,"creation_date":1633616208,"question_id":69482780,"body_markdown":"I try to create a regex for a String which is NotBlank and cannot contain &quot;&lt;&quot;.\r\nMy question is what Im doing wrong thank you.\r\n```\r\n&quot;(\\\\A(?!\\\\s*\\\\Z))|([^&lt;]+)&quot;\r\n```\r\nEdit\r\nMaybe this way how to combine this regex\r\n```\r\n^[^&lt;]+$\r\n```\r\nwith this regex\r\n```\r\n\\\\A(?!\\\\s*\\\\Z).+\r\n```","title":"Regex NotBlank and doesnt contains &lt;","body":"<p>I try to create a regex for a String which is NotBlank and cannot contain &quot;&lt;&quot;.\nMy question is what Im doing wrong thank you.</p>\n<pre><code>&quot;(\\\\A(?!\\\\s*\\\\Z))|([^&lt;]+)&quot;\n</code></pre>\n<p>Edit\nMaybe this way how to combine this regex</p>\n<pre><code>^[^&lt;]+$\n</code></pre>\n<p>with this regex</p>\n<pre><code>\\\\A(?!\\\\s*\\\\Z).+\n</code></pre>\n"},{"tags":["java","annotations","tostring","lombok"],"comments":[{"owner":{"display_name":"user16979464"},"score":0,"creation_date":1633604801,"post_id":69479943,"comment_id":122806968,"body_markdown":"Does anybody else has no experience on Spring or Spring Boot?","body":"Does anybody else has no experience on Spring or Spring Boot?"},{"owner":{"display_name":"user16979464"},"score":0,"creation_date":1633605820,"post_id":69479943,"comment_id":122807320,"body_markdown":"@KarthikeyanVaithilingam CHICO? Any reply pls?","body":"@KarthikeyanVaithilingam CHICO? Any reply pls?"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1633607003,"post_id":69479943,"comment_id":122807728,"body_markdown":"The annotations are part of lombok, not spring or spring boot. These annotations are used to reduce the code and have default implementations if you have implemented the don&#39;t have the annotations. Note I&#39;m not the downvoter.","body":"The annotations are part of lombok, not spring or spring boot. These annotations are used to reduce the code and have default implementations if you have implemented the don&#39;t have the annotations. Note I&#39;m not the downvoter."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633604830,"creation_date":1633604830,"answer_id":69480049,"question_id":69479943,"body_markdown":" 1. Yes, you should implement them also in the child classes. The reason is that you have additional properties on them that should be taken into account on both `hashCode()` and `equals()`.\r\n 2. That is a matter of personal opinion. Some people like to have full control over the code, some are happy to write less code and rely on dependencies such as lombok. I would use the annotations. If you need something more complex, then you can always write the methods yourself.\r\n 3. If you have the annotation you shouldn&#39;t have the method implemented or your own, unless you want to avoid the annotation to do his job. Generally speaking, if you are ok with the annotations, you should stick to that. The important thing is to be consistent so that code is readable.","title":"Annotation or implementation for toString(), equals() and hashCode() methods?","body":"<ol>\n<li>Yes, you should implement them also in the child classes. The reason is that you have additional properties on them that should be taken into account on both <code>hashCode()</code> and <code>equals()</code>.</li>\n<li>That is a matter of personal opinion. Some people like to have full control over the code, some are happy to write less code and rely on dependencies such as lombok. I would use the annotations. If you need something more complex, then you can always write the methods yourself.</li>\n<li>If you have the annotation you shouldn't have the method implemented or your own, unless you want to avoid the annotation to do his job. Generally speaking, if you are ok with the annotations, you should stick to that. The important thing is to be consistent so that code is readable.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3229625,"reputation":99,"user_id":2725189,"display_name":"bluezealot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633606427,"creation_date":1633606427,"answer_id":69480406,"question_id":69479943,"body_markdown":"The annotations you are using like &quot;Getter Setter NoArgsConstructor ToString&quot; belong to lombok. \r\nIn your case, I think use lombok&#39;s @Data annotation is a better way. \r\n\r\n&gt; @Data is like having implicit @Getter, @Setter, @ToString,\r\n&gt; @EqualsAndHashCode and @RequiredArgsConstructor annotations on the\r\n&gt; class.\r\n\r\nNote that if your entity has superclass, then mostly you should set parameter callSuper=true to  @ToString and @EqualsAndHashCode.\r\nYou can refer [Lombok data][1] for further information.\r\n\r\n\r\n  [1]: https://projectlombok.org/features/Data","title":"Annotation or implementation for toString(), equals() and hashCode() methods?","body":"<p>The annotations you are using like &quot;Getter Setter NoArgsConstructor ToString&quot; belong to lombok.\nIn your case, I think use lombok's @Data annotation is a better way.</p>\n<blockquote>\n<p>@Data is like having implicit @Getter, @Setter, @ToString,\n@EqualsAndHashCode and @RequiredArgsConstructor annotations on the\nclass.</p>\n</blockquote>\n<p>Note that if your entity has superclass, then mostly you should set parameter callSuper=true to  @ToString and @EqualsAndHashCode.\nYou can refer <a href=\"https://projectlombok.org/features/Data\" rel=\"nofollow noreferrer\">Lombok data</a> for further information.</p>\n"}],"owner":{"display_name":"user16979464"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":558,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1633636519,"accepted_answer_id":69480049,"answer_count":2,"score":0,"last_activity_date":1633617926,"creation_date":1633604403,"question_id":69479943,"body_markdown":"I have seen the following implementation in a repository and I am confused:\r\n\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@ToString(callSuper = true)\r\n@NoArgsConstructor\r\npublic class Employee extends BaseEntity {\r\n\r\n    // properties\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return super.hashCode();\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object other) {\r\n        return super.equals(other);\r\n    }\r\n}\r\n``` \r\n\r\nMy questions are:\r\n\r\n1. Is it logical to implement these methods as they are already implemented in the base class? Is it unnecessary to implement `hashCode()`, `equals()` methods here and adding `@ToString(callSuper = true)` to the beginning of the entity class?\r\n\r\n2. For adding these methods in the entity, is it better to use annotation instead of adding 3-4 lines code for each method? \r\n\r\n3. I think there is a misuse regarding to these methods. Because 2 of them are implemented and one of them (`toString`) is added via annotation. I think all of them should be used in the same manner (all of them via annotation or all of them via implementation). Am I wrong? ","title":"Annotation or implementation for toString(), equals() and hashCode() methods?","body":"<p>I have seen the following implementation in a repository and I am confused:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@ToString(callSuper = true)\n@NoArgsConstructor\npublic class Employee extends BaseEntity {\n\n    // properties\n\n    @Override\n    public int hashCode() {\n        return super.hashCode();\n    }\n\n    @Override\n    public boolean equals(Object other) {\n        return super.equals(other);\n    }\n}\n</code></pre>\n<p>My questions are:</p>\n<ol>\n<li><p>Is it logical to implement these methods as they are already implemented in the base class? Is it unnecessary to implement <code>hashCode()</code>, <code>equals()</code> methods here and adding <code>@ToString(callSuper = true)</code> to the beginning of the entity class?</p>\n</li>\n<li><p>For adding these methods in the entity, is it better to use annotation instead of adding 3-4 lines code for each method?</p>\n</li>\n<li><p>I think there is a misuse regarding to these methods. Because 2 of them are implemented and one of them (<code>toString</code>) is added via annotation. I think all of them should be used in the same manner (all of them via annotation or all of them via implementation). Am I wrong?</p>\n</li>\n</ol>\n"},{"tags":["java","memory","memory-management","memory-leaks","garbage-collection"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1633615884,"post_id":69482302,"comment_id":122811794,"body_markdown":"You don&#39;t tell which jvm version you are using. Check documentation for that jre, you might be able to tweak the gc so it&#39;s collecting more eagerly.  Otherwise you will have to increase max heap memory.","body":"You don&#39;t tell which jvm version you are using. Check documentation for that jre, you might be able to tweak the gc so it&#39;s collecting more eagerly.  Otherwise you will have to increase max heap memory."},{"owner":{"account_id":19978855,"reputation":51,"user_id":16495298,"display_name":"Ailu Vee"},"score":0,"creation_date":1633617830,"post_id":69482302,"comment_id":122812705,"body_markdown":"@JustanotherJavaprogrammer Thanks for the reply. We use Java 8, now I add it to the question, is that data sufficient in this regard?\nRegarding what you say, I am going to look for it, but the fact that no log appears still generates doubts. Thanks.","body":"@JustanotherJavaprogrammer Thanks for the reply. We use Java 8, now I add it to the question, is that data sufficient in this regard? Regarding what you say, I am going to look for it, but the fact that no log appears still generates doubts. Thanks."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1633618008,"post_id":69482302,"comment_id":122812772,"body_markdown":"Show us your code.  There may be techniques like object pooling that can alleviate your problem, but we won&#39;t know unless we can see your code.  Read &quot;How to create a [mcve].&quot;","body":"Show us your code.  There may be techniques like object pooling that can alleviate your problem, but we won&#39;t know unless we can see your code.  Read &quot;How to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.&quot;"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1633621313,"post_id":69482302,"comment_id":122814280,"body_markdown":"Which specific version of Java 8 are you using? Earlier Java 8 versions (before 1.8.0_191) did not play nicely with containers...","body":"Which specific version of Java 8 are you using? Earlier Java 8 versions (before 1.8.0_191) did not play nicely with containers..."}],"owner":{"account_id":19978855,"reputation":51,"user_id":16495298,"display_name":"Ailu Vee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633617887,"creation_date":1633614142,"question_id":69482302,"body_markdown":"Apparently we have a problem with the Garbage Collector in our Java (8) application (in PROD, UAT, TEST). In the logs (I mean in general application/POD logs) we see error messages related to &#39;long gc&#39;, and &#39;out of memory&#39; due to heap space. Also, I see that in the PODs the memory usage never goes down, grows or stays, until it reaches a peak and dies. Locally I did heap dump and GC log analysis and everything looked normal (the GC was running and freeing up space. I tried to put the configuration to get logs from the GC in TEST environment, the fact is that no log was generated! Yes, the file was generated, with what I will now show below, but later, and despite the fact that we ran processes, nothing new appeared in the file. I do not understand if it may not be running, if I used the wrong parameters (enabling the logging) or how to face this. Thank you.\r\n```\r\nMemory: 4k page, physical 65789716k(2386800k free), swap 0k(0k free)\r\nCommandLine flags: -XX:InitialHeapSize=1052635456 -XX:MaxHeapSize=16842167296 -XX:+PrintGC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseParallelGC\r\nHeap\r\n PSYoungGen      total 300032K, used 20603K [0x0000000671600000, 0x0000000686480000, 0x00000007c0000000)\r\n  eden space 257536K, 8% used [0x0000000671600000,0x0000000672a1ed38,0x0000000681180000)\r\n  from space 42496K, 0% used [0x0000000683b00000,0x0000000683b00000,0x0000000686480000)\r\n  to   space 42496K, 0% used [0x0000000681180000,0x0000000681180000,0x0000000683b00000)\r\n ParOldGen       total 685568K, used 0K [0x00000003d4200000, 0x00000003fdf80000, 0x0000000671600000)\r\n  object space 685568K, 0% used [0x00000003d4200000,0x00000003d4200000,0x00000003fdf80000)\r\n Metaspace       used 3126K, capacity 4480K, committed 4480K, reserved 1056768K\r\n  class space    used 311K, capacity 384K, committed 384K, reserved 1048576K\r\n```","title":"Garbage Collector is not logging anything and we have memory issues","body":"<p>Apparently we have a problem with the Garbage Collector in our Java (8) application (in PROD, UAT, TEST). In the logs (I mean in general application/POD logs) we see error messages related to 'long gc', and 'out of memory' due to heap space. Also, I see that in the PODs the memory usage never goes down, grows or stays, until it reaches a peak and dies. Locally I did heap dump and GC log analysis and everything looked normal (the GC was running and freeing up space. I tried to put the configuration to get logs from the GC in TEST environment, the fact is that no log was generated! Yes, the file was generated, with what I will now show below, but later, and despite the fact that we ran processes, nothing new appeared in the file. I do not understand if it may not be running, if I used the wrong parameters (enabling the logging) or how to face this. Thank you.</p>\n<pre><code>Memory: 4k page, physical 65789716k(2386800k free), swap 0k(0k free)\nCommandLine flags: -XX:InitialHeapSize=1052635456 -XX:MaxHeapSize=16842167296 -XX:+PrintGC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseParallelGC\nHeap\n PSYoungGen      total 300032K, used 20603K [0x0000000671600000, 0x0000000686480000, 0x00000007c0000000)\n  eden space 257536K, 8% used [0x0000000671600000,0x0000000672a1ed38,0x0000000681180000)\n  from space 42496K, 0% used [0x0000000683b00000,0x0000000683b00000,0x0000000686480000)\n  to   space 42496K, 0% used [0x0000000681180000,0x0000000681180000,0x0000000683b00000)\n ParOldGen       total 685568K, used 0K [0x00000003d4200000, 0x00000003fdf80000, 0x0000000671600000)\n  object space 685568K, 0% used [0x00000003d4200000,0x00000003d4200000,0x00000003fdf80000)\n Metaspace       used 3126K, capacity 4480K, committed 4480K, reserved 1056768K\n  class space    used 311K, capacity 384K, committed 384K, reserved 1048576K\n</code></pre>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":19576572,"reputation":11,"user_id":14326532,"display_name":"Ali Elfateh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633617078,"creation_date":1633617078,"question_id":69482982,"body_markdown":" i&#39;ve just download android studio but failed to start and get this error\r\n\r\n    Internal error. Please refer to https://code.google.com/p/android/issues\r\n    \r\n    java.lang.ExceptionInInitializerError\r\n        at com.intellij.idea.StartupUtil.startApp(StartupUtil.java:296)\r\n        at com.intellij.idea.StartupUtil.prepareApp(StartupUtil.java:243)\r\n        at com.intellij.ide.plugins.MainRunner.lambda$start$1(MainRunner.java:41)\r\n        at java.base/java.lang.Thread.run(Thread.java:831)\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.awt.EventQueue.dispatchEvent(java.awt.AWTEvent) accessible: module java.desktop does not &quot;opens java.awt&quot; to unnamed module @76bb7203\r\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\r\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n        at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n        at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n        at com.intellij.util.ReflectionUtil.makeAccessible(ReflectionUtil.java:253)\r\n        at com.intellij.util.ReflectionUtil.getDeclaredMethod(ReflectionUtil.java:270)\r\n        at com.intellij.util.ui.EdtInvocationManager.&lt;clinit&gt;(EdtInvocationManager.java:33)\r\n        ... 4 more\r\n    \r\n    -----\r\n    Your JRE: 16.0.1+9-Ubuntu-1 aarch64 (Private Build)\r\n    /usr/lib/jvm/java-16-openjdk-arm64\r\n\r\n\r\n\r\nsearched but not found anything","title":"Android studio start Failed Internal error","body":"<p>i've just download android studio but failed to start and get this error</p>\n<pre><code>Internal error. Please refer to https://code.google.com/p/android/issues\n\njava.lang.ExceptionInInitializerError\n    at com.intellij.idea.StartupUtil.startApp(StartupUtil.java:296)\n    at com.intellij.idea.StartupUtil.prepareApp(StartupUtil.java:243)\n    at com.intellij.ide.plugins.MainRunner.lambda$start$1(MainRunner.java:41)\n    at java.base/java.lang.Thread.run(Thread.java:831)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.awt.EventQueue.dispatchEvent(java.awt.AWTEvent) accessible: module java.desktop does not &quot;opens java.awt&quot; to unnamed module @76bb7203\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n    at com.intellij.util.ReflectionUtil.makeAccessible(ReflectionUtil.java:253)\n    at com.intellij.util.ReflectionUtil.getDeclaredMethod(ReflectionUtil.java:270)\n    at com.intellij.util.ui.EdtInvocationManager.&lt;clinit&gt;(EdtInvocationManager.java:33)\n    ... 4 more\n\n-----\nYour JRE: 16.0.1+9-Ubuntu-1 aarch64 (Private Build)\n/usr/lib/jvm/java-16-openjdk-arm64\n</code></pre>\n<p>searched but not found anything</p>\n"},{"tags":["java","object","constructor"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1633617184,"post_id":69482916,"comment_id":122812418,"body_markdown":"If you are not using an IDE already i would recommend doing so to write your code. A good IDE like IntelliJ or Eclipse would have given you a warning on the line `nb = nb` telling you that `The assignment to variable nb has no effect`, which would have probably given you a hint of what is going wrong in your code.","body":"If you are not using an IDE already i would recommend doing so to write your code. A good IDE like IntelliJ or Eclipse would have given you a warning on the line <code>nb = nb</code> telling you that <code>The assignment to variable nb has no effect</code>, which would have probably given you a hint of what is going wrong in your code."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633616969,"creation_date":1633616969,"answer_id":69482959,"question_id":69482916,"body_markdown":"&gt; `nb = nb;`\r\n\r\nThis doesn&#39;t do anything. It sets nb to itself.\r\n\r\nYou have 2 completely, utterly unrelated variables here. One is called `int nb;` and is a field of your `Build` class. The other is a method parameter, by total coincidence also named `nb`.\r\n\r\nYou want to set the field, with the parameter value.\r\n\r\nYou have two options.\r\n\r\n1. Stop using the same name. The method param &#39;takes precedence&#39; (in java parlance: Shadows the field).\r\n\r\n2. Use `this.nb` which refers to the field: `this.nb = nb;`.\r\n\r\nThe second form is idiomatic java. Do that.\r\n","title":"How to access element from an object? java","body":"<blockquote>\n<p><code>nb = nb;</code></p>\n</blockquote>\n<p>This doesn't do anything. It sets nb to itself.</p>\n<p>You have 2 completely, utterly unrelated variables here. One is called <code>int nb;</code> and is a field of your <code>Build</code> class. The other is a method parameter, by total coincidence also named <code>nb</code>.</p>\n<p>You want to set the field, with the parameter value.</p>\n<p>You have two options.</p>\n<ol>\n<li><p>Stop using the same name. The method param 'takes precedence' (in java parlance: Shadows the field).</p>\n</li>\n<li><p>Use <code>this.nb</code> which refers to the field: <code>this.nb = nb;</code>.</p>\n</li>\n</ol>\n<p>The second form is idiomatic java. Do that.</p>\n"}],"owner":{"account_id":22754112,"reputation":97,"user_id":17036259,"display_name":"TheMathAI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1633627745,"accepted_answer_id":69482959,"answer_count":1,"score":-3,"last_activity_date":1633617010,"creation_date":1633616798,"question_id":69482916,"body_markdown":"I&#39;m new to programming and I&#39;m currently starting with java. I was wondering how to access elements of an object that I created. I thought I knew how but it doesn&#39;t seem to work. I&#39;m constructing an object inside an inner class from a method, not in the inner class. I was wondering if you could give me some hints why it is not working when I want to access the values of the object that was just created. I mean can access the values, but they should be different from 0. It&#39;s as if my constructor didn&#39;t pass back the values. I did put my program in debugging and the values that are passed to the constructor are 0 , 2, 2. Thank you.\r\n```\r\npublic class puzzle{\r\n\r\n       public class Build{\r\n\r\n             int nb, piece, length;\r\n\r\n             public Build(int nb, int piece, int length){\r\n                   //In debug I see that the values are passed, but when I print in the method the values printed are all 0.\r\n                   nb = nb;\r\n                   piece = piece;\r\n                   length = length;\r\n}\r\n\r\n}\r\n   public void rectangle(String book){\r\n   \r\n         //line of code where I do manipulations\r\n\r\n         Build box = new Build(beginning, tv, book.length());\r\n\r\n        System.out.println(box.nb);  \r\n        System.out.println(box.piece); //should print a value different then 0\r\n        System.out.println(box.length); //should print a value different then 0\r\n\r\n\r\n}\r\n\r\n}\r\n```\r\n","title":"How to access element from an object? java","body":"<p>I'm new to programming and I'm currently starting with java. I was wondering how to access elements of an object that I created. I thought I knew how but it doesn't seem to work. I'm constructing an object inside an inner class from a method, not in the inner class. I was wondering if you could give me some hints why it is not working when I want to access the values of the object that was just created. I mean can access the values, but they should be different from 0. It's as if my constructor didn't pass back the values. I did put my program in debugging and the values that are passed to the constructor are 0 , 2, 2. Thank you.</p>\n<pre><code>public class puzzle{\n\n       public class Build{\n\n             int nb, piece, length;\n\n             public Build(int nb, int piece, int length){\n                   //In debug I see that the values are passed, but when I print in the method the values printed are all 0.\n                   nb = nb;\n                   piece = piece;\n                   length = length;\n}\n\n}\n   public void rectangle(String book){\n   \n         //line of code where I do manipulations\n\n         Build box = new Build(beginning, tv, book.length());\n\n        System.out.println(box.nb);  \n        System.out.println(box.piece); //should print a value different then 0\n        System.out.println(box.length); //should print a value different then 0\n\n\n}\n\n}\n</code></pre>\n"},{"tags":["java","xml","parsing"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":1,"creation_date":1359390744,"post_id":14566596,"comment_id":20325459,"body_markdown":"What is the actual output you got?","body":"What is the actual output you got?"},{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1359390788,"post_id":14566596,"comment_id":20325489,"body_markdown":"At what line it throws NullPointerException?","body":"At what line it throws NullPointerException?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1359391011,"post_id":14566596,"comment_id":20325641,"body_markdown":"For wild cards you need XPath.","body":"For wild cards you need XPath."},{"owner":{"account_id":1090131,"reputation":1013,"user_id":1084933,"accept_rate":87,"display_name":"FreshBits"},"score":0,"creation_date":1359391043,"post_id":14566596,"comment_id":20325667,"body_markdown":"after getting staff1 tag i mean (john 465456433 gmail1 area1 city1) it throws null pointer exception on name field","body":"after getting staff1 tag i mean (john 465456433 gmail1 area1 city1) it throws null pointer exception on name field"}],"answers":[{"tags":[],"owner":{"account_id":1137016,"reputation":5916,"user_id":1121883,"display_name":"Liviu Stirb"},"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1550771272,"creation_date":1359391730,"answer_id":14566924,"question_id":14566596,"body_markdown":"      \r\n        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n        DocumentBuilder db = dbf.newDocumentBuilder();\r\n        Document dom = db.parse(&quot;file.xml&quot;);\r\n        Element docEle = dom.getDocumentElement();\r\n        NodeList nl = docEle.getChildNodes();\r\n        int length = nl.getLength();\r\n        for (int i = 0; i &lt; length; i++) {\r\n            if (nl.item(i).getNodeType() == Node.ELEMENT_NODE) {\r\n                Element el = (Element) nl.item(i);\r\n                if (el.getNodeName().contains(&quot;staff&quot;)) {\r\n                    String name = el.getElementsByTagName(&quot;name&quot;).item(0).getTextContent();\r\n                    String phone = el.getElementsByTagName(&quot;phone&quot;).item(0).getTextContent();\r\n                    String email = el.getElementsByTagName(&quot;email&quot;).item(0).getTextContent();\r\n                    String area = el.getElementsByTagName(&quot;area&quot;).item(0).getTextContent();\r\n                    String city = el.getElementsByTagName(&quot;city&quot;).item(0).getTextContent();\r\n                }\r\n            }\r\n        }\r\n\r\nIterate over all children and `nl.item(i).getNodeType() == Node.ELEMENT_NODE` is used to filter text nodes out. If there is nothing else in XML what remains are staff nodes.\r\n\r\nFor each node under stuff (name, phone, email, area, city)\r\n\r\n     el.getElementsByTagName(&quot;name&quot;).item(0).getTextContent(); \r\n\r\n`el.getElementsByTagName(&quot;name&quot;)` will extract the &quot;name&quot; nodes under stuff,\r\n`.item(0)` will get you the first node\r\nand `.getTextContent()` will get the text content inside. \r\n\r\n\r\n**Edit:** \r\nSince we have jackson I would do this in a different way. Define a pojo for the object:\r\n\r\n    public class Staff {\r\n        private String name;\r\n        private String phone;\r\n        private String email;\r\n        private String area;\r\n        private String city;\r\n    ...getters setters\r\n    }\r\n\r\nThen using jackson:\r\n\r\n        JsonNode root = new XmlMapper().readTree(xml.getBytes());\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        root.forEach(node -&gt; consume(node, mapper));\r\n\r\n\r\n\r\n    private void consume(JsonNode node, ObjectMapper mapper) {\r\n        try {\r\n            Staff staff = mapper.treeToValue(node, Staff.class);\r\n            //TODO your job with staff\r\n        } catch (JsonProcessingException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Loop through all elements in XML using NodeList","body":"<pre><code>    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n    DocumentBuilder db = dbf.newDocumentBuilder();\n    Document dom = db.parse(\"file.xml\");\n    Element docEle = dom.getDocumentElement();\n    NodeList nl = docEle.getChildNodes();\n    int length = nl.getLength();\n    for (int i = 0; i &lt; length; i++) {\n        if (nl.item(i).getNodeType() == Node.ELEMENT_NODE) {\n            Element el = (Element) nl.item(i);\n            if (el.getNodeName().contains(\"staff\")) {\n                String name = el.getElementsByTagName(\"name\").item(0).getTextContent();\n                String phone = el.getElementsByTagName(\"phone\").item(0).getTextContent();\n                String email = el.getElementsByTagName(\"email\").item(0).getTextContent();\n                String area = el.getElementsByTagName(\"area\").item(0).getTextContent();\n                String city = el.getElementsByTagName(\"city\").item(0).getTextContent();\n            }\n        }\n    }\n</code></pre>\n\n<p>Iterate over all children and <code>nl.item(i).getNodeType() == Node.ELEMENT_NODE</code> is used to filter text nodes out. If there is nothing else in XML what remains are staff nodes.</p>\n\n<p>For each node under stuff (name, phone, email, area, city)</p>\n\n<pre><code> el.getElementsByTagName(\"name\").item(0).getTextContent(); \n</code></pre>\n\n<p><code>el.getElementsByTagName(\"name\")</code> will extract the \"name\" nodes under stuff,\n<code>.item(0)</code> will get you the first node\nand <code>.getTextContent()</code> will get the text content inside. </p>\n\n<p><strong>Edit:</strong> \nSince we have jackson I would do this in a different way. Define a pojo for the object:</p>\n\n<pre><code>public class Staff {\n    private String name;\n    private String phone;\n    private String email;\n    private String area;\n    private String city;\n...getters setters\n}\n</code></pre>\n\n<p>Then using jackson:</p>\n\n<pre><code>    JsonNode root = new XmlMapper().readTree(xml.getBytes());\n    ObjectMapper mapper = new ObjectMapper();\n    root.forEach(node -&gt; consume(node, mapper));\n\n\n\nprivate void consume(JsonNode node, ObjectMapper mapper) {\n    try {\n        Staff staff = mapper.treeToValue(node, Staff.class);\n        //TODO your job with staff\n    } catch (JsonProcessingException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1744750,"reputation":483,"user_id":2964713,"display_name":"junhaotee"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1433592850,"creation_date":1433592850,"answer_id":30682706,"question_id":14566596,"body_markdown":"    public class XMLParser {\r\n       public static void main(String[] args){\r\n          try {\r\n             DocumentBuilder dBuilder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n             Document doc = dBuilder.parse(new File(&quot;xml input&quot;));\r\n             NodeList nl=doc.getDocumentElement().getChildNodes();\r\n             \r\n             for(int k=0;k&lt;nl.getLength();k++){\r\n                 printTags((Node)nl.item(k));\r\n             }\r\n          } catch (Exception e) {/*err handling*/}\r\n       }\r\n       \r\n       public static void printTags(Node nodes){\r\n           if(nodes.hasChildNodes()  || nodes.getNodeType()!=3){\r\n               System.out.println(nodes.getNodeName()+&quot; : &quot;+nodes.getTextContent());\r\n               NodeList nl=nodes.getChildNodes();\r\n               for(int j=0;j&lt;nl.getLength();j++)printTags(nl.item(j));\r\n           }\r\n       }\r\n    }\r\n\r\nRecursively loop through and print out all the xml child tags in the document, in case you don&#39;t have to change the code to handle dynamic changes in xml, provided it&#39;s a well formed xml.","title":"Loop through all elements in XML using NodeList","body":"<pre><code>public class XMLParser {\n   public static void main(String[] args){\n      try {\n         DocumentBuilder dBuilder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n         Document doc = dBuilder.parse(new File(\"xml input\"));\n         NodeList nl=doc.getDocumentElement().getChildNodes();\n\n         for(int k=0;k&lt;nl.getLength();k++){\n             printTags((Node)nl.item(k));\n         }\n      } catch (Exception e) {/*err handling*/}\n   }\n\n   public static void printTags(Node nodes){\n       if(nodes.hasChildNodes()  || nodes.getNodeType()!=3){\n           System.out.println(nodes.getNodeName()+\" : \"+nodes.getTextContent());\n           NodeList nl=nodes.getChildNodes();\n           for(int j=0;j&lt;nl.getLength();j++)printTags(nl.item(j));\n       }\n   }\n}\n</code></pre>\n\n<p>Recursively loop through and print out all the xml child tags in the document, in case you don't have to change the code to handle dynamic changes in xml, provided it's a well formed xml.</p>\n"},{"tags":[],"owner":{"account_id":7583571,"reputation":39,"user_id":5753490,"display_name":"Brian Funke"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1465565797,"creation_date":1465565797,"answer_id":37749709,"question_id":14566596,"body_markdown":"Here is another way to loop through XML elements using JDOM.\r\n\r\n            List&lt;Element&gt; nodeNodes = inputNode.getChildren();\r\n            if (nodeNodes != null) {\r\n                for (Element nodeNode : nodeNodes) {\r\n                    List&lt;Element&gt; elements = nodeNode.getChildren(elementName);\r\n                    if (elements != null) {\r\n                        elements.size();\r\n                        nodeNodes.removeAll(elements);\r\n                    }\r\n                }\r\n","title":"Loop through all elements in XML using NodeList","body":"<p>Here is another way to loop through XML elements using JDOM.</p>\n\n<pre><code>        List&lt;Element&gt; nodeNodes = inputNode.getChildren();\n        if (nodeNodes != null) {\n            for (Element nodeNode : nodeNodes) {\n                List&lt;Element&gt; elements = nodeNode.getChildren(elementName);\n                if (elements != null) {\n                    elements.size();\n                    nodeNodes.removeAll(elements);\n                }\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15687960,"reputation":1,"user_id":11320007,"display_name":"Erick Zambrano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633616665,"creation_date":1633616665,"answer_id":69482889,"question_id":14566596,"body_markdown":"    NodeList listaHijos = docEle.getChildNodes();\r\n            listaHijos = listaHijos.item(2).getChildNodes();\r\n            for (int i = 0; i &lt; listaHijos.getLength(); i++) {\r\n                eElement = (Element) listaHijos.item(i);\r\n                n2 = eElement.getChildNodes();\r\n                for (int j = 0; j &lt; n2.getLength(); j++) {\r\n                    System.out.println(&quot;elem:&quot; + n2.item(j).getNodeName() + &quot; :&quot; + n2.item(j).getTextContent() + &quot;j&quot; + j);\r\n                    if (n2.item(j).getNodeName().equals(&quot;detallesAdicionales&quot;)) {                                                                        \r\n                        eElement = (Element) n2.item(j);\r\n                        n6 = eElement.getChildNodes();\r\n                        System.out.println(&quot;todo: &quot; + n6.item(0).getAttributes().item(0) + n6.item(0).getAttributes().item(1));                        \r\n                        System.out.println(&quot;todo2: &quot; + n6.item(1).getAttributes().item(0) + n6.item(1).getAttributes().item(1));                        \r\n                        System.out.println(&quot;todo3: &quot; + n6.item(2).getAttributes().item(0) + n6.item(2).getAttributes().item(1));                        \r\n                        System.out.println(&quot;nombre: &quot; + n6.item(0).getAttributes().item(0).getTextContent());\r\n                        System.out.println(&quot;valor: &quot; + n6.item(0).getAttributes().item(1).getTextContent());\r\n                    }\r\n                }\r\n            }","title":"Loop through all elements in XML using NodeList","body":"<pre><code>NodeList listaHijos = docEle.getChildNodes();\n        listaHijos = listaHijos.item(2).getChildNodes();\n        for (int i = 0; i &lt; listaHijos.getLength(); i++) {\n            eElement = (Element) listaHijos.item(i);\n            n2 = eElement.getChildNodes();\n            for (int j = 0; j &lt; n2.getLength(); j++) {\n                System.out.println(&quot;elem:&quot; + n2.item(j).getNodeName() + &quot; :&quot; + n2.item(j).getTextContent() + &quot;j&quot; + j);\n                if (n2.item(j).getNodeName().equals(&quot;detallesAdicionales&quot;)) {                                                                        \n                    eElement = (Element) n2.item(j);\n                    n6 = eElement.getChildNodes();\n                    System.out.println(&quot;todo: &quot; + n6.item(0).getAttributes().item(0) + n6.item(0).getAttributes().item(1));                        \n                    System.out.println(&quot;todo2: &quot; + n6.item(1).getAttributes().item(0) + n6.item(1).getAttributes().item(1));                        \n                    System.out.println(&quot;todo3: &quot; + n6.item(2).getAttributes().item(0) + n6.item(2).getAttributes().item(1));                        \n                    System.out.println(&quot;nombre: &quot; + n6.item(0).getAttributes().item(0).getTextContent());\n                    System.out.println(&quot;valor: &quot; + n6.item(0).getAttributes().item(1).getTextContent());\n                }\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":1090131,"reputation":1013,"user_id":1084933,"accept_rate":87,"display_name":"FreshBits"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185534,"favorite_count":0,"down_vote_count":1,"up_vote_count":41,"accepted_answer_id":14566924,"answer_count":4,"score":40,"last_activity_date":1633616665,"creation_date":1359390700,"question_id":14566596,"body_markdown":"I want to loop through all elements in a piece of XML printing each one.  My problem is that I keep getting a null pointer exception after the `staff1` tag, i.e. `john 465456433 gmail1 area1 city1`\r\n\r\nThis my Java code to print all elements in an xml file:\r\n\r\n    File fXmlFile = new File(&quot;file.xml&quot;);\r\n    DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n    DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\r\n    Document doc = dBuilder.parse(fXmlFile);\r\n\t\t \r\n    doc.getDocumentElement().normalize();\r\n\t\t\t\r\n    System.out.println(&quot;Root element :&quot; + doc.getDocumentElement().getNodeName());\r\n\t\t\t\r\n    NodeList nList = doc.getElementsByTagName(&quot;*&quot;);\r\n\t\t \r\n    System.out.println(&quot;----------------------------&quot;);\r\n\t\t\t\r\n    Node n=null;\r\n    Element eElement=null;\r\n\t\t\t\r\n    for (int i = 0; i &lt; nList.getLength(); i++) {\t\t\t\r\n      System.out.println(nList.getLength());\t \r\n      n= nList.item(i);  \t\t\t\t\t\t   \r\n      System.out.println(&quot;\\nCurrent Element :&quot; + n.getNodeName());\r\n\t\t\t\t \r\n\t\t\t\t\r\n      if (n.getNodeType() == Node.ELEMENT_NODE) {\r\n        eElement = (Element) n.getChildNodes();\r\n        System.out.println(&quot;\\nCurrent Element :&quot; + n.getNodeName());\r\n        name = eElement.getElementsByTagName(&quot;name&quot;).item(i).getTextContent(); //here throws null pointer exception after printing staff1 tag\r\n        phone = eElement.getElementsByTagName(&quot;phone&quot;).item(i).getTextContent();\r\n        email = eElement.getElementsByTagName(&quot;email&quot;).item(i).getTextContent();\r\n        area = eElement.getElementsByTagName(&quot;area&quot;).item(i).getTextContent();\r\n        city = eElement.getElementsByTagName(&quot;city&quot;).item(i).getTextContent();\r\n      }\r\n      n.getNextSibling();\r\n    }\r\n\r\n\r\nXML File:\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;company&gt;\r\n      &lt;staff1&gt;\r\n        &lt;name&gt;john&lt;/name&gt;\r\n        &lt;phone&gt;465456433&lt;/phone&gt;\r\n        &lt;email&gt;gmail1&lt;/email&gt;\r\n        &lt;area&gt;area1&lt;/area&gt;\r\n        &lt;city&gt;city1&lt;/city&gt;\r\n      &lt;/staff1&gt;\r\n      &lt;staff2&gt;\r\n        &lt;name&gt;mary&lt;/name&gt;\r\n        &lt;phone&gt;4655556433&lt;/phone&gt;\r\n        &lt;email&gt;gmail2&lt;/email&gt;\r\n        &lt;area&gt;area2&lt;/area&gt;\r\n        &lt;city&gt;city2&lt;/city&gt;\r\n      &lt;/staff2&gt;\r\n      &lt;staff3&gt;\r\n        &lt;name&gt;furvi&lt;/name&gt;\r\n        &lt;phone&gt;4655433&lt;/phone&gt;\r\n        &lt;email&gt;gmail3&lt;/email&gt;\r\n        &lt;area&gt;area3&lt;/area&gt;\r\n        &lt;city&gt;city3&lt;/city&gt;\r\n      &lt;/staff3&gt;\r\n    &lt;/company&gt;\r\n\r\nExpected Output:\r\n\r\n    john\r\n    465456433\r\n    gmail1\r\n    area1\r\n    city1\r\n    mary\r\n    4655556433\r\n    gmail2\r\n    area2\r\n    city2\r\n    furvi\r\n    4655433\r\n    gmail3\r\n    area3\r\n    city3","title":"Loop through all elements in XML using NodeList","body":"<p>I want to loop through all elements in a piece of XML printing each one.  My problem is that I keep getting a null pointer exception after the <code>staff1</code> tag, i.e. <code>john 465456433 gmail1 area1 city1</code></p>\n\n<p>This my Java code to print all elements in an xml file:</p>\n\n<pre><code>File fXmlFile = new File(\"file.xml\");\nDocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\nDocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\nDocument doc = dBuilder.parse(fXmlFile);\n\ndoc.getDocumentElement().normalize();\n\nSystem.out.println(\"Root element :\" + doc.getDocumentElement().getNodeName());\n\nNodeList nList = doc.getElementsByTagName(\"*\");\n\nSystem.out.println(\"----------------------------\");\n\nNode n=null;\nElement eElement=null;\n\nfor (int i = 0; i &lt; nList.getLength(); i++) {           \n  System.out.println(nList.getLength());     \n  n= nList.item(i);                            \n  System.out.println(\"\\nCurrent Element :\" + n.getNodeName());\n\n\n  if (n.getNodeType() == Node.ELEMENT_NODE) {\n    eElement = (Element) n.getChildNodes();\n    System.out.println(\"\\nCurrent Element :\" + n.getNodeName());\n    name = eElement.getElementsByTagName(\"name\").item(i).getTextContent(); //here throws null pointer exception after printing staff1 tag\n    phone = eElement.getElementsByTagName(\"phone\").item(i).getTextContent();\n    email = eElement.getElementsByTagName(\"email\").item(i).getTextContent();\n    area = eElement.getElementsByTagName(\"area\").item(i).getTextContent();\n    city = eElement.getElementsByTagName(\"city\").item(i).getTextContent();\n  }\n  n.getNextSibling();\n}\n</code></pre>\n\n<p>XML File:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;company&gt;\n  &lt;staff1&gt;\n    &lt;name&gt;john&lt;/name&gt;\n    &lt;phone&gt;465456433&lt;/phone&gt;\n    &lt;email&gt;gmail1&lt;/email&gt;\n    &lt;area&gt;area1&lt;/area&gt;\n    &lt;city&gt;city1&lt;/city&gt;\n  &lt;/staff1&gt;\n  &lt;staff2&gt;\n    &lt;name&gt;mary&lt;/name&gt;\n    &lt;phone&gt;4655556433&lt;/phone&gt;\n    &lt;email&gt;gmail2&lt;/email&gt;\n    &lt;area&gt;area2&lt;/area&gt;\n    &lt;city&gt;city2&lt;/city&gt;\n  &lt;/staff2&gt;\n  &lt;staff3&gt;\n    &lt;name&gt;furvi&lt;/name&gt;\n    &lt;phone&gt;4655433&lt;/phone&gt;\n    &lt;email&gt;gmail3&lt;/email&gt;\n    &lt;area&gt;area3&lt;/area&gt;\n    &lt;city&gt;city3&lt;/city&gt;\n  &lt;/staff3&gt;\n&lt;/company&gt;\n</code></pre>\n\n<p>Expected Output:</p>\n\n<pre><code>john\n465456433\ngmail1\narea1\ncity1\nmary\n4655556433\ngmail2\narea2\ncity2\nfurvi\n4655433\ngmail3\narea3\ncity3\n</code></pre>\n"},{"tags":["java","jsp","servlets","jspdf","servlet-3.0"],"comments":[{"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"score":0,"creation_date":1633463571,"post_id":69456362,"comment_id":122765532,"body_markdown":"What is location of display.jsp?","body":"What is location of display.jsp?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1633477814,"post_id":69456362,"comment_id":122768883,"body_markdown":"Define &#39;I am getting null&#39;.","body":"Define &#39;I am getting null&#39;."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1633506714,"post_id":69456362,"comment_id":122774578,"body_markdown":"When doing `request.setAttribute(&quot;xxx&quot;, ...)`, access it as `${requestScope.xxx}` or `${requestScope[&#39;xxx&#39;]}` - [see here too](https://stackoverflow.com/questions/4912690/how-to-access-at-request-attributes-in-jsp).","body":"When doing <code>request.setAttribute(&quot;xxx&quot;, ...)</code>, access it as <code>${requestScope.xxx}</code> or <code>${requestScope[&#39;xxx&#39;]}</code> - <a href=\"https://stackoverflow.com/questions/4912690/how-to-access-at-request-attributes-in-jsp\">see here too</a>."},{"owner":{"account_id":21263148,"reputation":9,"user_id":15643713,"display_name":"firstuser"},"score":0,"creation_date":1633507434,"post_id":69456362,"comment_id":122774880,"body_markdown":"@user207421 null in the sense I am getting a blank page as my output","body":"@user207421 null in the sense I am getting a blank page as my output"},{"owner":{"account_id":21263148,"reputation":9,"user_id":15643713,"display_name":"firstuser"},"score":0,"creation_date":1633507550,"post_id":69456362,"comment_id":122774927,"body_markdown":"@NikosParaskevopoulos thankyou for your suggestion but still I am getting a blank page as the output I have attached a image in my question please check it","body":"@NikosParaskevopoulos thankyou for your suggestion but still I am getting a blank page as the output I have attached a image in my question please check it"},{"owner":{"account_id":21263148,"reputation":9,"user_id":15643713,"display_name":"firstuser"},"score":0,"creation_date":1633507855,"post_id":69456362,"comment_id":122775044,"body_markdown":"@Loc for your reference I have attached an image of the project explorer hope you find it helpful","body":"@Loc for your reference I have attached an image of the project explorer hope you find it helpful"},{"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"score":0,"creation_date":1633523479,"post_id":69456362,"comment_id":122781496,"body_markdown":"Try /display.jsp and see if it work. OR put display.jsp into WEB-INF folder then try /WEB-INF/display.jsp","body":"Try /display.jsp and see if it work. OR put display.jsp into WEB-INF folder then try /WEB-INF/display.jsp"},{"owner":{"account_id":21263148,"reputation":9,"user_id":15643713,"display_name":"firstuser"},"score":0,"creation_date":1633528049,"post_id":69456362,"comment_id":122783642,"body_markdown":"@Loc I am getting the following message : JSP file [/display.jsp] not found.  when I kept the display.jsp into  WEB-INF folder","body":"@Loc I am getting the following message : JSP file [/display.jsp] not found.  when I kept the display.jsp into  WEB-INF folder"},{"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"score":0,"creation_date":1633528335,"post_id":69456362,"comment_id":122783759,"body_markdown":"If you put display.jsp into WEB-INF, you have to use this path:  /WEB-INF/display.jsp","body":"If you put display.jsp into WEB-INF, you have to use this path:  /WEB-INF/display.jsp"},{"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"score":0,"creation_date":1633528407,"post_id":69456362,"comment_id":122783791,"body_markdown":"Don&#39;t touch service method, use doGet instead","body":"Don&#39;t touch service method, use doGet instead"},{"owner":{"account_id":21263148,"reputation":9,"user_id":15643713,"display_name":"firstuser"},"score":0,"creation_date":1633528631,"post_id":69456362,"comment_id":122783902,"body_markdown":"@Loc actually I want to forward the request and response to display.jsp from DemoServlet using Request Dispatcher and I want to pass the Student object from DemoServlet to display.jsp file and want to print the hashcode of the Student object in the web browser which was passed by the DemoServlet to display.jsp","body":"@Loc actually I want to forward the request and response to display.jsp from DemoServlet using Request Dispatcher and I want to pass the Student object from DemoServlet to display.jsp file and want to print the hashcode of the Student object in the web browser which was passed by the DemoServlet to display.jsp"},{"owner":{"account_id":21263148,"reputation":9,"user_id":15643713,"display_name":"firstuser"},"score":0,"creation_date":1633529001,"post_id":69456362,"comment_id":122784082,"body_markdown":"@Loc thanks for your suggestion to use doGet method even though I am using doGet method I am getting the blank page","body":"@Loc thanks for your suggestion to use doGet method even though I am using doGet method I am getting the blank page"},{"owner":{"account_id":21263148,"reputation":9,"user_id":15643713,"display_name":"firstuser"},"score":0,"creation_date":1633529081,"post_id":69456362,"comment_id":122784128,"body_markdown":"@Loc yes I am using /WEB-INF/display.jsp path when I use this path I am getting 404 error BTW thanks for your time","body":"@Loc yes I am using /WEB-INF/display.jsp path when I use this path I am getting 404 error BTW thanks for your time"}],"owner":{"account_id":21263148,"reputation":9,"user_id":15643713,"display_name":"firstuser"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633616390,"creation_date":1633462795,"question_id":69456362,"body_markdown":"I am getting blank page as output in my web browser when I run DemoServlet \r\n\r\nnote : I have used both doGet and doPost methods in my servlet instead of service method even though I am getting the same output.\r\n\r\nThe below is the following code  \r\n\r\n    public class Student_Class {\r\n    \r\n    \tint RollNo = 0;\r\n    \tString Name=&quot;&quot;;\r\n    \t\r\n    \tStudent_Class(int RollNo,String Name) {\r\n    \t\tthis.RollNo = RollNo;\r\n    \t\tthis.Name = Name;\r\n    \t}\r\n    \t\r\n    \tpublic int getRollNo() {\r\n    \t\treturn RollNo;\r\n    \t}\r\n    \t\r\n    \tpublic String getName() {\r\n    \t\treturn Name;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nthe above is my StudentClass\r\n\r\n\r\nI have created a servlet like below \r\n\r\n\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    \r\n    import jakarta.servlet.RequestDispatcher;\r\n    import jakarta.servlet.ServletException;\r\n    import jakarta.servlet.http.HttpServlet;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    \r\n    public class DemoServlet extends HttpServlet {\r\n    \r\n    \t@Override\r\n    \tprotected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\t\r\n    \t\tStudent_Class Student = new Student_Class(1,&quot;Name1&quot;);\r\n    \t\trequest.setAttribute(&quot;Student&quot;, Student);\r\n    \t\tRequestDispatcher rd = request.getRequestDispatcher(&quot;display.jsp&quot;);\r\n    \t\trd.forward(request, response);\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nand my jsp file is below the name of my jsp file is : display.jsp\r\n\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n        pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;%@ taglib prefix= &quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;Insert title here&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \t\t\r\n    \t${Student}\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nmy web.xml file is like below\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&gt;\r\n      &lt;display-name&gt;JSTL_Demo&lt;/display-name&gt;\r\n      &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\r\n      &lt;/welcome-file-list&gt;\r\n      &lt;servlet&gt;\r\n        &lt;description&gt;&lt;/description&gt;\r\n        &lt;display-name&gt;Demo&lt;/display-name&gt;\r\n        &lt;servlet-name&gt;Demo&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;Demo&lt;/servlet-class&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;Demo&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/Demo&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n      &lt;servlet&gt;\r\n        &lt;description&gt;&lt;/description&gt;\r\n        &lt;display-name&gt;DemoServlet&lt;/display-name&gt;\r\n        &lt;servlet-name&gt;DemoServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;DemoServlet&lt;/servlet-class&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;DemoServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/DemoServlet&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\nI am using tomcat 10.0.10 as my server and eclipse as my IDE \r\n\r\n\r\nplease help me I am a beginner and I don&#39;t know much about jsp and servlets correct me if I have done anything wrong\r\n\r\n[click here to see the output on my browser][1]\r\n\r\n\r\n[click here to see the project explorer][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v22u9.png\r\n  [2]: https://i.stack.imgur.com/jMdL1.png","title":"getting a blank page as output in my web browser when I run the following servlet","body":"<p>I am getting blank page as output in my web browser when I run DemoServlet</p>\n<p>note : I have used both doGet and doPost methods in my servlet instead of service method even though I am getting the same output.</p>\n<p>The below is the following code</p>\n<pre><code>public class Student_Class {\n\n    int RollNo = 0;\n    String Name=&quot;&quot;;\n    \n    Student_Class(int RollNo,String Name) {\n        this.RollNo = RollNo;\n        this.Name = Name;\n    }\n    \n    public int getRollNo() {\n        return RollNo;\n    }\n    \n    public String getName() {\n        return Name;\n    }\n    \n}\n</code></pre>\n<p>the above is my StudentClass</p>\n<p>I have created a servlet like below</p>\n<pre><code>import java.io.IOException;\nimport java.io.PrintWriter;\n\nimport jakarta.servlet.RequestDispatcher;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\npublic class DemoServlet extends HttpServlet {\n\n    @Override\n    protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        \n        Student_Class Student = new Student_Class(1,&quot;Name1&quot;);\n        request.setAttribute(&quot;Student&quot;, Student);\n        RequestDispatcher rd = request.getRequestDispatcher(&quot;display.jsp&quot;);\n        rd.forward(request, response);\n        \n    }\n}\n</code></pre>\n<p>and my jsp file is below the name of my jsp file is : display.jsp</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;%@ taglib prefix= &quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n        \n    ${Student}\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>my web.xml file is like below</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&gt;\n  &lt;display-name&gt;JSTL_Demo&lt;/display-name&gt;\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n  &lt;servlet&gt;\n    &lt;description&gt;&lt;/description&gt;\n    &lt;display-name&gt;Demo&lt;/display-name&gt;\n    &lt;servlet-name&gt;Demo&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;Demo&lt;/servlet-class&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;Demo&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/Demo&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n  &lt;servlet&gt;\n    &lt;description&gt;&lt;/description&gt;\n    &lt;display-name&gt;DemoServlet&lt;/display-name&gt;\n    &lt;servlet-name&gt;DemoServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;DemoServlet&lt;/servlet-class&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;DemoServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/DemoServlet&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>I am using tomcat 10.0.10 as my server and eclipse as my IDE</p>\n<p>please help me I am a beginner and I don't know much about jsp and servlets correct me if I have done anything wrong</p>\n<p><a href=\"https://i.stack.imgur.com/v22u9.png\" rel=\"nofollow noreferrer\">click here to see the output on my browser</a></p>\n<p><a href=\"https://i.stack.imgur.com/jMdL1.png\" rel=\"nofollow noreferrer\">click here to see the project explorer</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":6,"creation_date":1633615726,"post_id":69482635,"comment_id":122811711,"body_markdown":"You can just remove all the spaces in advance. I don&#39;t see why you would try and add them back in.","body":"You can just remove all the spaces in advance. I don&#39;t see why you would try and add them back in."},{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1633616041,"post_id":69482635,"comment_id":122811867,"body_markdown":"Can you give us an example of input with spaces?","body":"Can you give us an example of input with spaces?"},{"owner":{"account_id":17543200,"reputation":301,"user_id":12725011,"display_name":"bschellekens"},"score":1,"creation_date":1633616085,"post_id":69482635,"comment_id":122811894,"body_markdown":"If you are concerned with being able to print the original in your output but not consider it when evaluating if the word/phrase is a palindrome, just make a spaceless copy of it for evaluation and keep the original for your output.","body":"If you are concerned with being able to print the original in your output but not consider it when evaluating if the word/phrase is a palindrome, just make a spaceless copy of it for evaluation and keep the original for your output."},{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1633616369,"post_id":69482635,"comment_id":122812014,"body_markdown":"you can call `trim()` at `scnr.nextLine().trim()`; If you don&#39;t care about original input. Or if you do, you can make a copy of it and call `trim()` on that copy and process the copy.","body":"you can call <code>trim()</code> at <code>scnr.nextLine().trim()</code>; If you don&#39;t care about original input. Or if you do, you can make a copy of it and call <code>trim()</code> on that copy and process the copy."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1633616431,"post_id":69482635,"comment_id":122812039,"body_markdown":"@KunLun `trim()` only removes space at the start and end of the string, not space between words.","body":"@KunLun <code>trim()</code> only removes space at the start and end of the string, not space between words."},{"owner":{"account_id":2225355,"reputation":13693,"user_id":1964272,"accept_rate":92,"display_name":"Dropout"},"score":0,"creation_date":1633616780,"post_id":69482635,"comment_id":122812206,"body_markdown":"@FireStar629 please add an example of a String you are having an issue with.","body":"@FireStar629 please add an example of a String you are having an issue with."}],"answers":[{"tags":[],"owner":{"account_id":2225355,"reputation":13693,"user_id":1964272,"accept_rate":92,"display_name":"Dropout"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633616186,"creation_date":1633616186,"answer_id":69482775,"question_id":69482635,"body_markdown":"Unless you have very specific needs you can use a `StringBuilder` to reverse Strings, no need to handle it manually..\r\n\r\n    public class LabProgram {\r\n        public static void main(String[] args) {\r\n            \r\n            Scanner scnr = new Scanner(System.in);\r\n            String original = scnr.nextLine(); \r\n            \r\n            StringBuilder sb = new StringBuilder();\r\n            sb.append(original);\r\n            String reverse = sb.reverse().toString();\r\n\r\n            if (original.equals(reverse)){\r\n                System.out.println(&quot;palindrome: &quot; + original);\r\n            }else{\r\n                System.out.println(&quot;not a palindrome: &quot; + original);\r\n            }\r\n        }\r\n    }","title":"I&#39;m writing a code in Java to check if a string is a palindrome or not. However, the code breaks when spaces are involved","body":"<p>Unless you have very specific needs you can use a <code>StringBuilder</code> to reverse Strings, no need to handle it manually..</p>\n<pre><code>public class LabProgram {\n    public static void main(String[] args) {\n        \n        Scanner scnr = new Scanner(System.in);\n        String original = scnr.nextLine(); \n        \n        StringBuilder sb = new StringBuilder();\n        sb.append(original);\n        String reverse = sb.reverse().toString();\n\n        if (original.equals(reverse)){\n            System.out.println(&quot;palindrome: &quot; + original);\n        }else{\n            System.out.println(&quot;not a palindrome: &quot; + original);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22970580,"reputation":1,"user_id":17099015,"display_name":"FireStar629"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1633616329,"answer_count":1,"score":-2,"last_activity_date":1633616186,"creation_date":1633615622,"question_id":69482635,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class LabProgram {\r\n       public static void main(String[] args) {\r\n        Scanner scnr = new Scanner(System.in);\r\n        String original, reverse = &quot;&quot;;\r\n        original = scnr.nextLine();\r\n    \r\n        int length = original.length();\r\n    \r\n        for (int i = length - 1; i &gt;= 0; i--){\r\n          reverse = reverse + original.charAt(i);\r\n        }\r\n    \r\n        if (original.equals(reverse)){\r\n          System.out.println(&quot;palindrome: &quot; + original);\r\n        }\r\n        else{\r\n          System.out.println(&quot;not a palindrome: &quot; + original);\r\n        }\r\n       }\r\n    }\r\nI need to be able to consider strings that are more than 1 word that use spaces. I&#39;m not sure about how to first disregard the location of spaces, and then add them back in, in the correct location to properly test if the phrase is a palindrome.","title":"I&#39;m writing a code in Java to check if a string is a palindrome or not. However, the code breaks when spaces are involved","body":"<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n   public static void main(String[] args) {\n    Scanner scnr = new Scanner(System.in);\n    String original, reverse = &quot;&quot;;\n    original = scnr.nextLine();\n\n    int length = original.length();\n\n    for (int i = length - 1; i &gt;= 0; i--){\n      reverse = reverse + original.charAt(i);\n    }\n\n    if (original.equals(reverse)){\n      System.out.println(&quot;palindrome: &quot; + original);\n    }\n    else{\n      System.out.println(&quot;not a palindrome: &quot; + original);\n    }\n   }\n}\n</code></pre>\n<p>I need to be able to consider strings that are more than 1 word that use spaces. I'm not sure about how to first disregard the location of spaces, and then add them back in, in the correct location to properly test if the phrase is a palindrome.</p>\n"},{"tags":["java","compiler-construction","llvm","llvm-ir","graalvm"],"answers":[{"tags":[],"owner":{"account_id":3674304,"reputation":927,"user_id":3060725,"accept_rate":67,"display_name":"BoriS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633616154,"creation_date":1633616154,"answer_id":69482764,"question_id":69468666,"body_markdown":"Basically, you need to get yourself a GraalVM, and you can execute your LLVM bitcode file with\r\n\r\n    lli [LLI options] [GraalVM options] [polyglot options] &lt;bitcode file&gt; [program args]\r\n\r\nas per\r\nhttps://www.graalvm.org/reference-manual/llvm/\r\n\r\nThe `lli` launcher lives in the `bin` folder of the graalvm distribution.\r\n\r\nRegarding the format of the bitcode file the docs on https://www.graalvm.org/reference-manual/llvm/Compiling/ say\r\n\r\n&gt; While the\r\n&gt; GraalVM LLVM runtime can execute plain bitcode files, the preferred\r\n&gt; format is a native executable with embedded bitcode. The executable\r\n&gt; file formats differ on Linux and macOS. Linux by default uses ELF\r\n&gt; files. The bitcode is stored in a section called .llvmbc. The macOS\r\n&gt; platform uses Mach-O files. The bitcode is in the __bundle section of\r\n&gt; the __LLVM segment.\r\n\r\n","title":"How to execute llvm-ir in java","body":"<p>Basically, you need to get yourself a GraalVM, and you can execute your LLVM bitcode file with</p>\n<pre><code>lli [LLI options] [GraalVM options] [polyglot options] &lt;bitcode file&gt; [program args]\n</code></pre>\n<p>as per\n<a href=\"https://www.graalvm.org/reference-manual/llvm/\" rel=\"nofollow noreferrer\">https://www.graalvm.org/reference-manual/llvm/</a></p>\n<p>The <code>lli</code> launcher lives in the <code>bin</code> folder of the graalvm distribution.</p>\n<p>Regarding the format of the bitcode file the docs on <a href=\"https://www.graalvm.org/reference-manual/llvm/Compiling/\" rel=\"nofollow noreferrer\">https://www.graalvm.org/reference-manual/llvm/Compiling/</a> say</p>\n<blockquote>\n<p>While the\nGraalVM LLVM runtime can execute plain bitcode files, the preferred\nformat is a native executable with embedded bitcode. The executable\nfile formats differ on Linux and macOS. Linux by default uses ELF\nfiles. The bitcode is stored in a section called .llvmbc. The macOS\nplatform uses Mach-O files. The bitcode is in the __bundle section of\nthe __LLVM segment.</p>\n</blockquote>\n"}],"owner":{"account_id":21317358,"reputation":11,"user_id":15691013,"display_name":"Mark Blace"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633616154,"creation_date":1633534624,"question_id":69468666,"body_markdown":"I have written a compiler in java which can output llvm-ir. Now I would like to actually run the compiler somehow. I&#39;ve read about GraalVM and how it should be possible to run other languages which use LLVM inside of java, however, I couldn&#39;t find out how to run llvm-ir itself with it. I don&#39;t have to use GraalVM though, any suggested approach would be fine as long as it enables me to somehow execute that code. ","title":"How to execute llvm-ir in java","body":"<p>I have written a compiler in java which can output llvm-ir. Now I would like to actually run the compiler somehow. I've read about GraalVM and how it should be possible to run other languages which use LLVM inside of java, however, I couldn't find out how to run llvm-ir itself with it. I don't have to use GraalVM though, any suggested approach would be fine as long as it enables me to somehow execute that code.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4099584,"reputation":2238,"user_id":3365479,"accept_rate":80,"display_name":"madteapot"},"score":0,"creation_date":1629728679,"post_id":68892189,"comment_id":121757207,"body_markdown":"I am not sure I follow the question. What exactly is the problem?","body":"I am not sure I follow the question. What exactly is the problem?"},{"owner":{"account_id":18129219,"reputation":31,"user_id":13184491,"display_name":"Marcin B&#246;hm"},"score":0,"creation_date":1629729479,"post_id":68892189,"comment_id":121757578,"body_markdown":"@madteapot\nI need to create new constructor of LdapProperties with my own arguments instead of declared in application.properties, because standardAuthenticationUsers is a list and in application.properties I can do only something like this &quot;user, user1&quot;. I don&#39;t know if you now understand it right, a little hard to explain it with more clear way :P","body":"@madteapot I need to create new constructor of LdapProperties with my own arguments instead of declared in application.properties, because standardAuthenticationUsers is a list and in application.properties I can do only something like this &quot;user, user1&quot;. I don&#39;t know if you now understand it right, a little hard to explain it with more clear way :P"},{"owner":{"account_id":4099584,"reputation":2238,"user_id":3365479,"accept_rate":80,"display_name":"madteapot"},"score":0,"creation_date":1629733244,"post_id":68892189,"comment_id":121759080,"body_markdown":"Ok maybe I understand it slightly more. You want the field `standardAuthenticationUsers` always be populated via your database query and the fact that there is no setter for it doesn&#39;t make it simple? If you don&#39;t have control over the class `LdapProperties` then you can have some dummy username as property in the application.properties and then in your code instead of creating instance with new constructor you can add all the usernames via your query using the `list.add` method. i.e. `ldapProperties.getStandardAuthenticationUsers().add(&lt;user&gt;)`.","body":"Ok maybe I understand it slightly more. You want the field <code>standardAuthenticationUsers</code> always be populated via your database query and the fact that there is no setter for it doesn&#39;t make it simple? If you don&#39;t have control over the class <code>LdapProperties</code> then you can have some dummy username as property in the application.properties and then in your code instead of creating instance with new constructor you can add all the usernames via your query using the <code>list.add</code> method. i.e. <code>ldapProperties.getStandardAuthenticationUsers().add(&lt;user&gt;)</code>."}],"answers":[{"tags":[],"owner":{"account_id":18129219,"reputation":31,"user_id":13184491,"display_name":"Marcin B&#246;hm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1629798238,"creation_date":1629798238,"answer_id":68905281,"question_id":68892189,"body_markdown":"Ok, thanks to @madteapod I created code that works the way I wanted to.\r\n\r\n        @Autowired\r\n        LdapProperties ldapProperties;\r\n    \r\n        @Autowired\r\n        EntityManagerFactory entityManagerFactory;\r\n    \r\n        public void addAppUsersWithStandardAuth() {\r\n            EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n            TypedQuery&lt;User&gt; query = entityManager.createQuery(&quot;select u from User u where u.domain is null&quot;, User.class);\r\n            List&lt;String&gt; getUserListToString = query.getResultList().stream()\r\n                    .map(User::getUsername)\r\n                    .collect(Collectors.toList());\r\n    \r\n            if (!ldapProperties.getStandardAuthenticationUsers().equals(getUserListToString)) {\r\n                List&lt;String&gt; difference = getUserListToString.stream()\r\n                        .filter(element -&gt; !ldapProperties.getStandardAuthenticationUsers().contains(element))\r\n                        .collect(Collectors.toList());\r\n                ldapProperties.getStandardAuthenticationUsers().addAll(difference);\r\n                System.out.println(ldapProperties.getStandardAuthenticationUsers());\r\n            }\r\n        }","title":"Overriding class constructor created by @ConfigurationProperties with new constructor by @Autowired method","body":"<p>Ok, thanks to @madteapod I created code that works the way I wanted to.</p>\n<pre><code>    @Autowired\n    LdapProperties ldapProperties;\n\n    @Autowired\n    EntityManagerFactory entityManagerFactory;\n\n    public void addAppUsersWithStandardAuth() {\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\n        TypedQuery&lt;User&gt; query = entityManager.createQuery(&quot;select u from User u where u.domain is null&quot;, User.class);\n        List&lt;String&gt; getUserListToString = query.getResultList().stream()\n                .map(User::getUsername)\n                .collect(Collectors.toList());\n\n        if (!ldapProperties.getStandardAuthenticationUsers().equals(getUserListToString)) {\n            List&lt;String&gt; difference = getUserListToString.stream()\n                    .filter(element -&gt; !ldapProperties.getStandardAuthenticationUsers().contains(element))\n                    .collect(Collectors.toList());\n            ldapProperties.getStandardAuthenticationUsers().addAll(difference);\n            System.out.println(ldapProperties.getStandardAuthenticationUsers());\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":18129219,"reputation":31,"user_id":13184491,"display_name":"Marcin B&#246;hm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68905281,"answer_count":1,"score":0,"last_activity_date":1633616080,"creation_date":1629719533,"question_id":68892189,"body_markdown":"I have a problem with setting my own constructor of LdapProperties witch will overwrite this created by application.properties. Authors of framework did the class without setters what imo would make the answer very simple. Could someone explain me how to do it in the right way? I don&#39;t know what I am doing wrong.\r\n\r\nThe standardAuthenticationUsers is a list and it was my primary problem. I couldn&#39;t implement list to app property by using List&lt;String&gt; something. If I write for example #jmix.ldap.standardAuthenticationUsers = Dev1, admin - it works fine. \r\n\r\nI was forced to create my own constructor of LdapProperties because of this.\r\n\r\nLdapProperties:\r\n\r\n   \r\n\r\n     @ConfigurationProperties(prefix = &quot;jmix.ldap&quot;)\r\n        @ConstructorBinding\r\n        public class LdapProperties {\r\n            boolean enabled;\r\n            String userDetailsSource;\r\n            List&lt;String&gt; urls;\r\n            String baseDn;\r\n            String managerDn;\r\n            String managerPassword;\r\n            String userSearchBase;\r\n            String userSearchFilter;\r\n            String usernameAttribute;\r\n            String memberAttribute;\r\n    \r\n        String groupRoleAttribute;\r\n        String groupSearchBase;\r\n        boolean groupSearchSubtree;\r\n        String groupSearchFilter;\r\n    \r\n        //Active Directory\r\n        Boolean useActiveDirectoryConfiguration;\r\n        String activeDirectoryDomain;\r\n    \r\n        String groupForSynchronization;\r\n        Boolean synchronizeRoleAssignments;\r\n        Boolean synchronizeUserOnLogin;\r\n        List&lt;String&gt; defaultRoles;\r\n        List&lt;String&gt; standardAuthenticationUsers;\r\n    \r\n        public LdapProperties(@DefaultValue(&quot;true&quot;) boolean enabled,\r\n                              @DefaultValue(&quot;app&quot;) String userDetailsSource,\r\n                              List&lt;String&gt; urls,\r\n                              String baseDn,\r\n                              String managerDn,\r\n                              String managerPassword,\r\n                              @DefaultValue(&quot;&quot;) String userSearchBase,\r\n                              String userSearchFilter,\r\n                              @DefaultValue(&quot;uid&quot;) String usernameAttribute,\r\n                              @DefaultValue(&quot;uniqueMember&quot;) String memberAttribute,\r\n                              @DefaultValue(&quot;cn&quot;) String groupRoleAttribute,\r\n                              @DefaultValue(&quot;&quot;) String groupSearchBase,\r\n                              @DefaultValue(&quot;false&quot;) boolean groupSearchSubtree,\r\n                              @DefaultValue(&quot;(uniqueMember={0})&quot;) String groupSearchFilter,\r\n                              @DefaultValue(&quot;false&quot;) Boolean useActiveDirectoryConfiguration,\r\n                              String activeDirectoryDomain,\r\n                              String groupForSynchronization,\r\n                              @DefaultValue(&quot;true&quot;) Boolean synchronizeRoleAssignments,\r\n                              @DefaultValue(&quot;true&quot;) Boolean synchronizeUserOnLogin,\r\n                              @Nullable List&lt;String&gt; defaultRoles,\r\n                              @DefaultValue({&quot;admin&quot;, &quot;system&quot;}) List&lt;String&gt; standardAuthenticationUsers) {\r\n            this.enabled = enabled;\r\n            this.userDetailsSource = userDetailsSource;\r\n            this.urls = urls;\r\n            this.baseDn = baseDn;\r\n            this.managerDn = managerDn;\r\n            this.managerPassword = managerPassword;\r\n            this.userSearchBase = userSearchBase;\r\n            this.userSearchFilter = userSearchFilter;\r\n            this.usernameAttribute = usernameAttribute;\r\n            this.memberAttribute = memberAttribute;\r\n            this.groupRoleAttribute = groupRoleAttribute;\r\n            this.groupSearchBase = groupSearchBase;\r\n            this.groupSearchSubtree = groupSearchSubtree;\r\n            this.groupSearchFilter = groupSearchFilter;\r\n            this.useActiveDirectoryConfiguration = useActiveDirectoryConfiguration;\r\n            this.activeDirectoryDomain = activeDirectoryDomain;\r\n            this.groupForSynchronization = groupForSynchronization;\r\n            this.synchronizeRoleAssignments = synchronizeRoleAssignments;\r\n            this.synchronizeUserOnLogin = synchronizeUserOnLogin;\r\n            this.defaultRoles = defaultRoles == null ? Collections.emptyList() : defaultRoles;\r\n            this.standardAuthenticationUsers = standardAuthenticationUsers;\r\n        }\r\n    \r\n        public boolean isEnabled() {\r\n            return enabled;\r\n        }\r\n    \r\n        public String getUserDetailsSource() {\r\n            return userDetailsSource;\r\n        }\r\n    \r\n        public List&lt;String&gt; getUrls() {\r\n            return urls;\r\n        }\r\n    \r\n        public String getBaseDn() {\r\n            return baseDn;\r\n        }\r\n    \r\n        public String getManagerDn() {\r\n            return managerDn;\r\n        }\r\n    \r\n        public String getManagerPassword() {\r\n            return managerPassword;\r\n        }\r\n    \r\n        public String getUserSearchBase() {\r\n            return userSearchBase;\r\n        }\r\n    \r\n        public String getUserSearchFilter() {\r\n            return userSearchFilter;\r\n        }\r\n    \r\n        public String getUsernameAttribute() {\r\n            return usernameAttribute;\r\n        }\r\n    \r\n        public String getMemberAttribute() {\r\n            return memberAttribute;\r\n        }\r\n    \r\n        public String getGroupRoleAttribute() {\r\n            return groupRoleAttribute;\r\n        }\r\n    \r\n        public String getGroupSearchBase() {\r\n            return groupSearchBase;\r\n        }\r\n    \r\n        public boolean isGroupSearchSubtree() {\r\n            return groupSearchSubtree;\r\n        }\r\n    \r\n        public String getGroupSearchFilter() {\r\n            return groupSearchFilter;\r\n        }\r\n    \r\n        public String getActiveDirectoryDomain() {\r\n            return activeDirectoryDomain;\r\n        }\r\n    \r\n        public Boolean getUseActiveDirectoryConfiguration() {\r\n            return useActiveDirectoryConfiguration;\r\n        }\r\n    \r\n        public String getGroupForSynchronization() {\r\n            return groupForSynchronization;\r\n        }\r\n    \r\n        public Boolean getSynchronizeRoleAssignments() {\r\n            return synchronizeRoleAssignments;\r\n        }\r\n    \r\n        public Boolean getSynchronizeUserOnLogin() {\r\n            return synchronizeUserOnLogin;\r\n        }\r\n    \r\n        public List&lt;String&gt; getDefaultRoles() {\r\n            return defaultRoles;\r\n        }\r\n    \r\n        public List&lt;String&gt; getStandardAuthenticationUsers() {\r\n            return standardAuthenticationUsers;\r\n        }\r\n    }\r\n\r\n\r\nUserDetailsServiceLdapUserDetailsMapper:\r\n\r\n    public class UserDetailsServiceLdapUserDetailsMapper implements UserDetailsContextMapper {\r\n    \r\n        protected UserDetailsService userDetailsService;\r\n        protected LdapUserDetailsSynchronizationStrategy synchronizationStrategy;\r\n        protected LdapProperties ldapProperties;\r\n    \r\n    [...]\r\n    \r\n    @Autowired\r\n        public void setLdapProperties(LdapProperties ldapProperties) {\r\n            this.ldapProperties = ldapProperties;\r\n        }\r\n\r\n What I wanted to do: \r\n\r\n    @Component(&quot;sample_MyUserSynchronizationStrategy&quot;)\r\n    public class UserDetailsServiceLdapUserDetailsMapperImpl extends UserDetailsServiceLdapUserDetailsMapper {\r\n    \r\n        private EntityManagerFactory emf;\r\n    \r\n        public List&lt;User&gt; getUserList() {\r\n            EntityManager em = emf.createEntityManager();\r\n    \r\n            TypedQuery&lt;User&gt; query = em.createQuery(&quot;select u from User u where u.password is not null &quot;, User.class);\r\n            return query.getResultList();\r\n        }\r\n    \r\n        public List&lt;String&gt; standardAuthenticationUsers = getUserList().stream().map(User::getUsername).collect(Collectors.toList());\r\n    \r\n        @Override\r\n        public void setLdapProperties(LdapProperties ldapProperties) {\r\n            super.setLdapProperties(new LdapProperties(true,\r\n                    &quot;app&quot;,\r\n                    Collections.singletonList(&quot;ldap&quot;),\r\n                    &quot;baseDn&quot;,\r\n                    &quot;managerDn&quot;,\r\n                    &quot;password&quot;,\r\n                    &quot;&quot;,\r\n                    &quot;(&amp;(objectClass=user)(sAMAccountName={0}))&quot;,\r\n                    &quot;uid&quot;,\r\n                    &quot;uniqueMember&quot;,\r\n                    &quot;cn&quot;,\r\n                    &quot;&quot;,\r\n                    false,\r\n                    &quot;(uniqueMember={0})&quot;,\r\n                    true,\r\n                    &quot;ADDomain&quot;,\r\n                    &quot;&quot;,\r\n                    false,\r\n                    true,\r\n                    Collections.singletonList(&quot;ui-minimal&quot;),\r\n                    standardAuthenticationUsers));\r\n        }\r\n    }\r\n\r\n","title":"Overriding class constructor created by @ConfigurationProperties with new constructor by @Autowired method","body":"<p>I have a problem with setting my own constructor of LdapProperties witch will overwrite this created by application.properties. Authors of framework did the class without setters what imo would make the answer very simple. Could someone explain me how to do it in the right way? I don't know what I am doing wrong.</p>\n<p>The standardAuthenticationUsers is a list and it was my primary problem. I couldn't implement list to app property by using List something. If I write for example #jmix.ldap.standardAuthenticationUsers = Dev1, admin - it works fine.</p>\n<p>I was forced to create my own constructor of LdapProperties because of this.</p>\n<p>LdapProperties:</p>\n<pre><code> @ConfigurationProperties(prefix = &quot;jmix.ldap&quot;)\n    @ConstructorBinding\n    public class LdapProperties {\n        boolean enabled;\n        String userDetailsSource;\n        List&lt;String&gt; urls;\n        String baseDn;\n        String managerDn;\n        String managerPassword;\n        String userSearchBase;\n        String userSearchFilter;\n        String usernameAttribute;\n        String memberAttribute;\n\n    String groupRoleAttribute;\n    String groupSearchBase;\n    boolean groupSearchSubtree;\n    String groupSearchFilter;\n\n    //Active Directory\n    Boolean useActiveDirectoryConfiguration;\n    String activeDirectoryDomain;\n\n    String groupForSynchronization;\n    Boolean synchronizeRoleAssignments;\n    Boolean synchronizeUserOnLogin;\n    List&lt;String&gt; defaultRoles;\n    List&lt;String&gt; standardAuthenticationUsers;\n\n    public LdapProperties(@DefaultValue(&quot;true&quot;) boolean enabled,\n                          @DefaultValue(&quot;app&quot;) String userDetailsSource,\n                          List&lt;String&gt; urls,\n                          String baseDn,\n                          String managerDn,\n                          String managerPassword,\n                          @DefaultValue(&quot;&quot;) String userSearchBase,\n                          String userSearchFilter,\n                          @DefaultValue(&quot;uid&quot;) String usernameAttribute,\n                          @DefaultValue(&quot;uniqueMember&quot;) String memberAttribute,\n                          @DefaultValue(&quot;cn&quot;) String groupRoleAttribute,\n                          @DefaultValue(&quot;&quot;) String groupSearchBase,\n                          @DefaultValue(&quot;false&quot;) boolean groupSearchSubtree,\n                          @DefaultValue(&quot;(uniqueMember={0})&quot;) String groupSearchFilter,\n                          @DefaultValue(&quot;false&quot;) Boolean useActiveDirectoryConfiguration,\n                          String activeDirectoryDomain,\n                          String groupForSynchronization,\n                          @DefaultValue(&quot;true&quot;) Boolean synchronizeRoleAssignments,\n                          @DefaultValue(&quot;true&quot;) Boolean synchronizeUserOnLogin,\n                          @Nullable List&lt;String&gt; defaultRoles,\n                          @DefaultValue({&quot;admin&quot;, &quot;system&quot;}) List&lt;String&gt; standardAuthenticationUsers) {\n        this.enabled = enabled;\n        this.userDetailsSource = userDetailsSource;\n        this.urls = urls;\n        this.baseDn = baseDn;\n        this.managerDn = managerDn;\n        this.managerPassword = managerPassword;\n        this.userSearchBase = userSearchBase;\n        this.userSearchFilter = userSearchFilter;\n        this.usernameAttribute = usernameAttribute;\n        this.memberAttribute = memberAttribute;\n        this.groupRoleAttribute = groupRoleAttribute;\n        this.groupSearchBase = groupSearchBase;\n        this.groupSearchSubtree = groupSearchSubtree;\n        this.groupSearchFilter = groupSearchFilter;\n        this.useActiveDirectoryConfiguration = useActiveDirectoryConfiguration;\n        this.activeDirectoryDomain = activeDirectoryDomain;\n        this.groupForSynchronization = groupForSynchronization;\n        this.synchronizeRoleAssignments = synchronizeRoleAssignments;\n        this.synchronizeUserOnLogin = synchronizeUserOnLogin;\n        this.defaultRoles = defaultRoles == null ? Collections.emptyList() : defaultRoles;\n        this.standardAuthenticationUsers = standardAuthenticationUsers;\n    }\n\n    public boolean isEnabled() {\n        return enabled;\n    }\n\n    public String getUserDetailsSource() {\n        return userDetailsSource;\n    }\n\n    public List&lt;String&gt; getUrls() {\n        return urls;\n    }\n\n    public String getBaseDn() {\n        return baseDn;\n    }\n\n    public String getManagerDn() {\n        return managerDn;\n    }\n\n    public String getManagerPassword() {\n        return managerPassword;\n    }\n\n    public String getUserSearchBase() {\n        return userSearchBase;\n    }\n\n    public String getUserSearchFilter() {\n        return userSearchFilter;\n    }\n\n    public String getUsernameAttribute() {\n        return usernameAttribute;\n    }\n\n    public String getMemberAttribute() {\n        return memberAttribute;\n    }\n\n    public String getGroupRoleAttribute() {\n        return groupRoleAttribute;\n    }\n\n    public String getGroupSearchBase() {\n        return groupSearchBase;\n    }\n\n    public boolean isGroupSearchSubtree() {\n        return groupSearchSubtree;\n    }\n\n    public String getGroupSearchFilter() {\n        return groupSearchFilter;\n    }\n\n    public String getActiveDirectoryDomain() {\n        return activeDirectoryDomain;\n    }\n\n    public Boolean getUseActiveDirectoryConfiguration() {\n        return useActiveDirectoryConfiguration;\n    }\n\n    public String getGroupForSynchronization() {\n        return groupForSynchronization;\n    }\n\n    public Boolean getSynchronizeRoleAssignments() {\n        return synchronizeRoleAssignments;\n    }\n\n    public Boolean getSynchronizeUserOnLogin() {\n        return synchronizeUserOnLogin;\n    }\n\n    public List&lt;String&gt; getDefaultRoles() {\n        return defaultRoles;\n    }\n\n    public List&lt;String&gt; getStandardAuthenticationUsers() {\n        return standardAuthenticationUsers;\n    }\n}\n</code></pre>\n<p>UserDetailsServiceLdapUserDetailsMapper:</p>\n<pre><code>public class UserDetailsServiceLdapUserDetailsMapper implements UserDetailsContextMapper {\n\n    protected UserDetailsService userDetailsService;\n    protected LdapUserDetailsSynchronizationStrategy synchronizationStrategy;\n    protected LdapProperties ldapProperties;\n\n[...]\n\n@Autowired\n    public void setLdapProperties(LdapProperties ldapProperties) {\n        this.ldapProperties = ldapProperties;\n    }\n</code></pre>\n<p>What I wanted to do:</p>\n<pre><code>@Component(&quot;sample_MyUserSynchronizationStrategy&quot;)\npublic class UserDetailsServiceLdapUserDetailsMapperImpl extends UserDetailsServiceLdapUserDetailsMapper {\n\n    private EntityManagerFactory emf;\n\n    public List&lt;User&gt; getUserList() {\n        EntityManager em = emf.createEntityManager();\n\n        TypedQuery&lt;User&gt; query = em.createQuery(&quot;select u from User u where u.password is not null &quot;, User.class);\n        return query.getResultList();\n    }\n\n    public List&lt;String&gt; standardAuthenticationUsers = getUserList().stream().map(User::getUsername).collect(Collectors.toList());\n\n    @Override\n    public void setLdapProperties(LdapProperties ldapProperties) {\n        super.setLdapProperties(new LdapProperties(true,\n                &quot;app&quot;,\n                Collections.singletonList(&quot;ldap&quot;),\n                &quot;baseDn&quot;,\n                &quot;managerDn&quot;,\n                &quot;password&quot;,\n                &quot;&quot;,\n                &quot;(&amp;(objectClass=user)(sAMAccountName={0}))&quot;,\n                &quot;uid&quot;,\n                &quot;uniqueMember&quot;,\n                &quot;cn&quot;,\n                &quot;&quot;,\n                false,\n                &quot;(uniqueMember={0})&quot;,\n                true,\n                &quot;ADDomain&quot;,\n                &quot;&quot;,\n                false,\n                true,\n                Collections.singletonList(&quot;ui-minimal&quot;),\n                standardAuthenticationUsers));\n    }\n}\n</code></pre>\n"},{"tags":["java","file-io"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1632806866,"post_id":69356108,"comment_id":122585538,"body_markdown":"Is this text file supposed to be a (read-only) resource, or an (read-write) external file?","body":"Is this text file supposed to be a (read-only) resource, or an (read-write) external file?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1632806921,"post_id":69356108,"comment_id":122585553,"body_markdown":"Is the `src` folder in your root directory of your OS?","body":"Is the <code>src</code> folder in your root directory of your OS?"},{"owner":{"account_id":22642116,"reputation":41,"user_id":17021883,"display_name":"FoxVocs"},"score":0,"creation_date":1632807271,"post_id":69356108,"comment_id":122585651,"body_markdown":"@slaw I want to be able to read and write to/from this file","body":"@slaw I want to be able to read and write to/from this file"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":2,"creation_date":1632808467,"post_id":69356108,"comment_id":122585951,"body_markdown":"@FoxVocs if you want to read and write to a file do not keep it inside your application. Keep I an external folder where the user executing the application has read and write permission.","body":"@FoxVocs if you want to read and write to a file do not keep it inside your application. Keep I an external folder where the user executing the application has read and write permission."}],"answers":[{"tags":[],"owner":{"account_id":5907177,"reputation":990,"user_id":4648506,"display_name":"Tan Kim Loong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632807550,"creation_date":1632807550,"answer_id":69356329,"question_id":69356108,"body_markdown":"The way you want to do this is to keep the file in `src/main/resources` folder and use `ClassPathResource` class to find it. It&#39;s already [answered here][1]\r\n\r\nBasically just replace line 10 with this to get your file (Credits to the poster):\r\n\r\n```java\r\n  Resource resource = new ClassPathResource(&quot;jsonSchema.json&quot;);\r\n  FileInputStream file = new FileInputStream(resource.getFile());\r\n```\r\n\r\nExtra: If you want to share files in test folders, put the files in `src/test/resources` instead\r\n\r\n  [1]: https://stackoverflow.com/questions/44399422/read-file-from-resources-folder-in-spring-boot","title":"Accessing a txt file in the src folder","body":"<p>The way you want to do this is to keep the file in <code>src/main/resources</code> folder and use <code>ClassPathResource</code> class to find it. It's already <a href=\"https://stackoverflow.com/questions/44399422/read-file-from-resources-folder-in-spring-boot\">answered here</a></p>\n<p>Basically just replace line 10 with this to get your file (Credits to the poster):</p>\n<pre class=\"lang-java prettyprint-override\"><code>  Resource resource = new ClassPathResource(&quot;jsonSchema.json&quot;);\n  FileInputStream file = new FileInputStream(resource.getFile());\n</code></pre>\n<p>Extra: If you want to share files in test folders, put the files in <code>src/test/resources</code> instead</p>\n"},{"tags":[],"owner":{"account_id":4160832,"reputation":2487,"user_id":3410989,"display_name":"julien.giband"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633616066,"creation_date":1632812564,"answer_id":69357155,"question_id":69356108,"body_markdown":"As you wish to be able to read/write to this file, you should keep it external from your code. This means that your `BufferedReader` will have to be created from a filesystem path. Now there are several ways you could that, but you should preferably use `java.nio` API rather than the older `java.io.File`.\r\n\r\nI can see mainly 3 scenarios here:\r\n\r\n 1. Use a relative path from working directory `.`, that is your project&#39;s location (NOT `src`) when debuging from IDE, or right next to your jar once it has been made:\r\n```lang-java\r\ntry (BufferedReader br = Files.newBufferedReader(Paths.get(&quot;./test.txt&quot;), StandardCharsets.UTF_8)) {\r\n  //Do your stuff\r\n}\r\n```\r\nOr if your file&#39;s in `[projectDir]/pingus` (still NOT `src`)\r\n```lang-java\r\ntry (BufferedReader br = Files.newBufferedReader(Paths.get(&quot;./pingus/test.txt&quot;), StandardCharsets.UTF_8)) {\r\n  //Do your stuff\r\n}\r\n```\r\n*Note it will depend on where your application was launched from, but it&#39;s generally fine.*\r\n\r\n2. Use an absolute path generated from your code&#39;s storage location:\r\n\r\n[![Project directoory structure][1]][1]\r\n```lang-java\r\npackage pingus;\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.net.URISyntaxException;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\n\r\npublic class Pongus {\r\n\r\n  public static void main(String[] args) throws URISyntaxException, IOException {\r\n    //Find codebase directory\r\n    Path codebase = Paths.get(Pongus.class.getProtectionDomain().getCodeSource().getLocation().toURI());\r\n    Path absdir = codebase.getParent().normalize().toAbsolutePath();\r\n    System.out.println(&quot;Working from &quot; + absdir);\r\n    //Path to your file\r\n    Path txtFilePath = absdir.resolve(&quot;pingus/test.txt&quot;);\r\n    System.out.println(&quot;File path &quot; + txtFilePath);\r\n    //Read\r\n    try (BufferedReader rdr = Files.newBufferedReader(txtFilePath, StandardCharsets.UTF_8)) {\r\n      System.out.println(&quot;Printing first line:&quot;);\r\n      System.out.println(&quot;\\t&quot; + rdr.readLine());\r\n    }\r\n  }\r\n\r\n}\r\n```\r\n*Note this will definitely work when running from a jar. It will work during debugging using Eclipse in its default configuration, as `codebase` will initially point to the `bin` sub-folder in your project&#39;s path. It might not work with other IDE configurations where your compiled class can be stored elsewhere*\r\n\r\n3. Use an absolute path on your filesystem, either hard-coded or from some configuration.\r\n```lang-java\r\ntry (BufferedReader rdr = Files.newBufferedReader(Paths.get(&quot;C:\\\\mydirs\\\\pingus\\\\test.txt&quot;), StandardCharsets.UTF_8)) {\r\n  //Do your stuff\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/WYoaY.png","title":"Accessing a txt file in the src folder","body":"<p>As you wish to be able to read/write to this file, you should keep it external from your code. This means that your <code>BufferedReader</code> will have to be created from a filesystem path. Now there are several ways you could that, but you should preferably use <code>java.nio</code> API rather than the older <code>java.io.File</code>.</p>\n<p>I can see mainly 3 scenarios here:</p>\n<ol>\n<li>Use a relative path from working directory <code>.</code>, that is your project's location (NOT <code>src</code>) when debuging from IDE, or right next to your jar once it has been made:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>try (BufferedReader br = Files.newBufferedReader(Paths.get(&quot;./test.txt&quot;), StandardCharsets.UTF_8)) {\n  //Do your stuff\n}\n</code></pre>\n<p>Or if your file's in <code>[projectDir]/pingus</code> (still NOT <code>src</code>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (BufferedReader br = Files.newBufferedReader(Paths.get(&quot;./pingus/test.txt&quot;), StandardCharsets.UTF_8)) {\n  //Do your stuff\n}\n</code></pre>\n<p><em>Note it will depend on where your application was launched from, but it's generally fine.</em></p>\n<ol start=\"2\">\n<li>Use an absolute path generated from your code's storage location:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/WYoaY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WYoaY.png\" alt=\"Project directoory structure\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>package pingus;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.net.URISyntaxException;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\npublic class Pongus {\n\n  public static void main(String[] args) throws URISyntaxException, IOException {\n    //Find codebase directory\n    Path codebase = Paths.get(Pongus.class.getProtectionDomain().getCodeSource().getLocation().toURI());\n    Path absdir = codebase.getParent().normalize().toAbsolutePath();\n    System.out.println(&quot;Working from &quot; + absdir);\n    //Path to your file\n    Path txtFilePath = absdir.resolve(&quot;pingus/test.txt&quot;);\n    System.out.println(&quot;File path &quot; + txtFilePath);\n    //Read\n    try (BufferedReader rdr = Files.newBufferedReader(txtFilePath, StandardCharsets.UTF_8)) {\n      System.out.println(&quot;Printing first line:&quot;);\n      System.out.println(&quot;\\t&quot; + rdr.readLine());\n    }\n  }\n\n}\n</code></pre>\n<p><em>Note this will definitely work when running from a jar. It will work during debugging using Eclipse in its default configuration, as <code>codebase</code> will initially point to the <code>bin</code> sub-folder in your project's path. It might not work with other IDE configurations where your compiled class can be stored elsewhere</em></p>\n<ol start=\"3\">\n<li>Use an absolute path on your filesystem, either hard-coded or from some configuration.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>try (BufferedReader rdr = Files.newBufferedReader(Paths.get(&quot;C:\\\\mydirs\\\\pingus\\\\test.txt&quot;), StandardCharsets.UTF_8)) {\n  //Do your stuff\n}\n</code></pre>\n"}],"owner":{"account_id":22642116,"reputation":41,"user_id":17021883,"display_name":"FoxVocs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1762,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69357155,"answer_count":2,"score":1,"last_activity_date":1633616066,"creation_date":1632805835,"question_id":69356108,"body_markdown":"I just need to access a txt file. My File object constructor cannot find a txt file I had already created and placed in the src folder. I want to avoid typing in the entire file path, as this project will be used between multiple computers where writing a file path starting back at the local drive will not work. The given image shows the situation. The left has my file paths, the bottom has the specific error message, and the center holds my code u to this point.\r\n\r\nFrankly, I am just looking for what to put in the File constructor and not change code outside of it. However, any and all help would be appreciated.\r\n\r\n\r\n   https://i.stack.imgur.com/GoNgZ.png","title":"Accessing a txt file in the src folder","body":"<p>I just need to access a txt file. My File object constructor cannot find a txt file I had already created and placed in the src folder. I want to avoid typing in the entire file path, as this project will be used between multiple computers where writing a file path starting back at the local drive will not work. The given image shows the situation. The left has my file paths, the bottom has the specific error message, and the center holds my code u to this point.</p>\n<p>Frankly, I am just looking for what to put in the File constructor and not change code outside of it. However, any and all help would be appreciated.</p>\n<p><a href=\"https://i.stack.imgur.com/GoNgZ.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/GoNgZ.png</a></p>\n"},{"tags":["java","jquery","ajax","spring-mvc"],"comments":[{"owner":{"account_id":172549,"reputation":94806,"user_id":400654,"accept_rate":100,"display_name":"Kevin B"},"score":0,"creation_date":1633706205,"post_id":69482133,"comment_id":122839307,"body_markdown":"you can&#39;t put code inside a script tag with a src attribute.","body":"you can&#39;t put code inside a script tag with a src attribute."}],"answers":[{"tags":[],"owner":{"account_id":5542164,"reputation":1338,"user_id":4398276,"display_name":"Dula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633615950,"creation_date":1633615950,"answer_id":69482718,"question_id":69482133,"body_markdown":"Firstly, you can not use the same `&lt;script&gt;` tags to import jQuery and place your custom Javascript.\r\n\r\nYou have to use two separate `&lt;script&gt;` tags.\r\n\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js&quot; &gt;&lt;/script&gt;\r\n\r\n    &lt;script type=&quot;text/javascript&quot;&gt; // Here comes your custom JS code &lt;/script&gt;\r\n\r\n\r\nSecondly, you are not submitting the button. You have to write your script for the form submit action.\r\n\r\n    $(&quot;#myForm&quot;).submit(function (e) {\r\n            \r\n        e.preventDefault();\r\n        let url = $(&quot;#myForm&quot;).attr(&#39;action&#39;);\r\n\r\n        $.ajax({\r\n            method: &quot;get&quot;,\r\n            url: url,\r\n            dataType: &quot;json&quot;,\r\n            data: {filmName: $(&quot;#filmName&quot;).val()},\r\n            success: function (data) {\r\n                display(data);\r\n            }\r\n        });\r\n    });\r\n\r\n**Suggestion**:  \r\nSince you are firing an AJAX call and not reloading the page, you can add a simple button to the form and write your code to the button click function without risking a reload in some browsers.\r\n\r\n    &lt;button id=&quot;submitRequest&quot;&gt;SUBMIT&lt;/button&gt;\r\n\r\n    $(&quot;#submitRequest&quot;).click(function (e) { // Button click functions });","title":"When I use Ajax with spring controller it&#39;s redirected","body":"<p>Firstly, you can not use the same <code>&lt;script&gt;</code> tags to import jQuery and place your custom Javascript.</p>\n<p>You have to use two separate <code>&lt;script&gt;</code> tags.</p>\n<pre><code>&lt;script type=&quot;text/javascript&quot; src=&quot;http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js&quot; &gt;&lt;/script&gt;\n\n&lt;script type=&quot;text/javascript&quot;&gt; // Here comes your custom JS code &lt;/script&gt;\n</code></pre>\n<p>Secondly, you are not submitting the button. You have to write your script for the form submit action.</p>\n<pre><code>$(&quot;#myForm&quot;).submit(function (e) {\n        \n    e.preventDefault();\n    let url = $(&quot;#myForm&quot;).attr('action');\n\n    $.ajax({\n        method: &quot;get&quot;,\n        url: url,\n        dataType: &quot;json&quot;,\n        data: {filmName: $(&quot;#filmName&quot;).val()},\n        success: function (data) {\n            display(data);\n        }\n    });\n});\n</code></pre>\n<p><strong>Suggestion</strong>:<br />\nSince you are firing an AJAX call and not reloading the page, you can add a simple button to the form and write your code to the button click function without risking a reload in some browsers.</p>\n<pre><code>&lt;button id=&quot;submitRequest&quot;&gt;SUBMIT&lt;/button&gt;\n\n$(&quot;#submitRequest&quot;).click(function (e) { // Button click functions });\n</code></pre>\n"}],"owner":{"account_id":20298748,"reputation":13,"user_id":14888704,"display_name":"Влад Савостиков"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1633706255,"accepted_answer_id":69482718,"answer_count":1,"score":-1,"last_activity_date":1633615950,"creation_date":1633613458,"question_id":69482133,"body_markdown":"So, I trying to create a Spring MVC app like &quot;Cinema&quot; app.\r\nI&#39;m using RestController with Get method that produce JSON like response.\r\n\r\n    private SessionService sessionService;\r\n\r\n    public SessionController(SessionService sessionService) {\r\n        this.sessionService = sessionService;\r\n    }\r\n\r\n    @GetMapping(value = &quot;/test&quot;)\r\n    public String getSearchField() {\r\n        return &quot;sessionsSearching&quot;;\r\n    }\r\n\r\n\r\n    @GetMapping(value = &quot;/search&quot;, consumes = MediaType.ALL_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public @ResponseBody\r\n    String searching(@ModelAttribute(&quot;filmName&quot;)String request) {\r\n        List&lt;Session&gt; serviceResponse = sessionService.searchByRequest(request);\r\n        JSONArray sessionsJson = new JSONArray();\r\n        for (Session s : serviceResponse) {\r\n            JSONObject filmJson = new JSONObject();\r\n            filmJson.put(&quot;name&quot;, s.getFilm().getTitle());\r\n            JSONObject sessionJson = new JSONObject();\r\n            sessionJson.put(&quot;id&quot;, s.getId());\r\n            sessionJson.put(&quot;dateTime&quot;, s.getDate());\r\n            sessionJson.put(&quot;film&quot;, filmJson);\r\n            sessionsJson.add(sessionJson);\r\n        }\r\n        return sessionsJson.toJSONString();\r\n    }\r\n\r\nAnd I want search sessions and films without redirect.\r\nI&#39;m trying create Ajax with jQuery \r\n\r\n    &lt;body&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js&quot; &gt;\r\n        $(document).ready(function () {\r\n            $(&quot;#submitRequest&quot;).submit(function (e) {\r\n    \r\n                e.preventDefault();\r\n    \r\n                let url = $(this).attr(&#39;action&#39;);\r\n    \r\n                $.ajax({\r\n                    type: &quot;GET&quot;,\r\n                    url: url,\r\n                    dataType: &quot;json&quot;,\r\n                    data: {filmName: $(&quot;#filmName&quot;).val()},\r\n                    success: function (data) {\r\n                        display(data);\r\n                    }\r\n                });\r\n            })\r\n        })\r\n    &lt;/script&gt;\r\n    &lt;form action=&quot;/sessions/search&quot;&gt;\r\n        &lt;input name=&quot;filmName&quot; type=&quot;text&quot; placeholder=&quot;Search...&quot;&gt;\r\n        &lt;input type=&quot;submit&quot; id=&quot;submitRequest&quot;&gt;\r\n    &lt;/form&gt;\r\n    &lt;div&gt;\r\n        &lt;p id=&quot;result&quot;&gt;&lt;/p&gt;\r\n    &lt;/div&gt;\r\n    &lt;/body&gt;\r\n\r\n\r\nAnd when I load my html-page and put &quot;Avatar&quot; (for example) in search field - I&#39;m redirected on http://localhost:8080/sessions/search?filmName=Avatar with json-string on page\r\n\r\npls, help.","title":"When I use Ajax with spring controller it&#39;s redirected","body":"<p>So, I trying to create a Spring MVC app like &quot;Cinema&quot; app.\nI'm using RestController with Get method that produce JSON like response.</p>\n<pre><code>private SessionService sessionService;\n\npublic SessionController(SessionService sessionService) {\n    this.sessionService = sessionService;\n}\n\n@GetMapping(value = &quot;/test&quot;)\npublic String getSearchField() {\n    return &quot;sessionsSearching&quot;;\n}\n\n\n@GetMapping(value = &quot;/search&quot;, consumes = MediaType.ALL_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\npublic @ResponseBody\nString searching(@ModelAttribute(&quot;filmName&quot;)String request) {\n    List&lt;Session&gt; serviceResponse = sessionService.searchByRequest(request);\n    JSONArray sessionsJson = new JSONArray();\n    for (Session s : serviceResponse) {\n        JSONObject filmJson = new JSONObject();\n        filmJson.put(&quot;name&quot;, s.getFilm().getTitle());\n        JSONObject sessionJson = new JSONObject();\n        sessionJson.put(&quot;id&quot;, s.getId());\n        sessionJson.put(&quot;dateTime&quot;, s.getDate());\n        sessionJson.put(&quot;film&quot;, filmJson);\n        sessionsJson.add(sessionJson);\n    }\n    return sessionsJson.toJSONString();\n}\n</code></pre>\n<p>And I want search sessions and films without redirect.\nI'm trying create Ajax with jQuery</p>\n<pre><code>&lt;body&gt;\n&lt;script type=&quot;text/javascript&quot; src=&quot;http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js&quot; &gt;\n    $(document).ready(function () {\n        $(&quot;#submitRequest&quot;).submit(function (e) {\n\n            e.preventDefault();\n\n            let url = $(this).attr('action');\n\n            $.ajax({\n                type: &quot;GET&quot;,\n                url: url,\n                dataType: &quot;json&quot;,\n                data: {filmName: $(&quot;#filmName&quot;).val()},\n                success: function (data) {\n                    display(data);\n                }\n            });\n        })\n    })\n&lt;/script&gt;\n&lt;form action=&quot;/sessions/search&quot;&gt;\n    &lt;input name=&quot;filmName&quot; type=&quot;text&quot; placeholder=&quot;Search...&quot;&gt;\n    &lt;input type=&quot;submit&quot; id=&quot;submitRequest&quot;&gt;\n&lt;/form&gt;\n&lt;div&gt;\n    &lt;p id=&quot;result&quot;&gt;&lt;/p&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n<p>And when I load my html-page and put &quot;Avatar&quot; (for example) in search field - I'm redirected on http://localhost:8080/sessions/search?filmName=Avatar with json-string on page</p>\n<p>pls, help.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1827218,"reputation":8097,"user_id":1659588,"accept_rate":89,"display_name":"Dodge"},"score":2,"creation_date":1415113970,"post_id":26738464,"comment_id":42062952,"body_markdown":"what exactly do you mean by &quot;get a variable number of class instances into a spring context&quot;?","body":"what exactly do you mean by &quot;get a variable number of class instances into a spring context&quot;?"},{"owner":{"account_id":43232,"reputation":13925,"user_id":126280,"accept_rate":60,"display_name":"Cheetah"},"score":0,"creation_date":1415114204,"post_id":26738464,"comment_id":42063120,"body_markdown":"@Dodge - does my edit make more sense to you?","body":"@Dodge - does my edit make more sense to you?"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1415114747,"post_id":26738464,"comment_id":42063476,"body_markdown":"Why not create multiple `@Bean` methods?","body":"Why not create multiple <code>@Bean</code> methods?"},{"owner":{"account_id":1827218,"reputation":8097,"user_id":1659588,"accept_rate":89,"display_name":"Dodge"},"score":0,"creation_date":1415116055,"post_id":26738464,"comment_id":42064393,"body_markdown":"@Cheetah if i understand your intention correctly look at my answer.","body":"@Cheetah if i understand your intention correctly look at my answer."},{"owner":{"account_id":43232,"reputation":13925,"user_id":126280,"accept_rate":60,"display_name":"Cheetah"},"score":0,"creation_date":1415116652,"post_id":26738464,"comment_id":42064849,"body_markdown":"@SotiriosDelimanolis - see edit...I didn&#39;t make it clear that the bean count is directly linked to whats in the configuration. I dont know the bean count at compile time.","body":"@SotiriosDelimanolis - see edit...I didn&#39;t make it clear that the bean count is directly linked to whats in the configuration. I dont know the bean count at compile time."}],"answers":[{"tags":[],"owner":{"account_id":1827218,"reputation":8097,"user_id":1659588,"accept_rate":89,"display_name":"Dodge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415116662,"creation_date":1415116016,"answer_id":26739286,"question_id":26738464,"body_markdown":"I&#39;m not sure if I understood you correctly but I *believe* this is what you want.\r\n\r\n    public interface MyStuff {\r\n      void doSomething();\r\n    }\r\n    \r\n    @Scope(&quot;prototype&quot;) // 1\r\n    @Service(&quot;stuffA&quot;) // 2\r\n    public class MyStuffImpl_A implements MyStuff {\r\n      public void doSomething()\r\n      {\r\n         // do your stuff\r\n      }\r\n    }\r\n    \r\n    @Scope(&quot;prototype&quot;)\r\n    @Service(&quot;stuffB&quot;)\r\n    public class MyStuffImpl_B implements MyStuff {\r\n      public void doSomething()\r\n      {\r\n         // do your stuff the B way ;)\r\n      }\r\n    }\r\n\r\n\r\nnow you can do:\r\n\r\n\r\n    public class UseTheStuff {\r\n    \r\n      @Autowired\r\n      private Provider&lt;MyStuff&gt; stuffA; // 3\r\n    \r\n      @Autowired\r\n      private Provider&lt;MyStuff&gt; stuffB;  // 4\r\n    \r\n      public void doStuffWithTheProvider(){\r\n        MyStuff stuffA.get(); // 5\r\n        MyStuff stuffB.get(); // 6\r\n      }\r\n    }\r\n\r\n\r\n 1. tell spring to use this implementation as prototype\r\n 2. name this implementatnion of MyStuff: &quot;stuffA&quot;\r\n 3. get a Provider (the name &quot;stuffA&quot; tells spring to inject a MyStuffImpl_A provider)\r\n 4. get a Provider (the name &quot;stuffB&quot; tells spring to inject a MyStuffImpl_B provider)\r\n 5. use the provider to create an instance of MyStuffImpl_A\r\n 6. use the provider to create an instance of MyStuffImpl_B\r\n","title":"Create multiple beans from one method in @Configuration class","body":"<p>I'm not sure if I understood you correctly but I <em>believe</em> this is what you want.</p>\n\n<pre><code>public interface MyStuff {\n  void doSomething();\n}\n\n@Scope(\"prototype\") // 1\n@Service(\"stuffA\") // 2\npublic class MyStuffImpl_A implements MyStuff {\n  public void doSomething()\n  {\n     // do your stuff\n  }\n}\n\n@Scope(\"prototype\")\n@Service(\"stuffB\")\npublic class MyStuffImpl_B implements MyStuff {\n  public void doSomething()\n  {\n     // do your stuff the B way ;)\n  }\n}\n</code></pre>\n\n<p>now you can do:</p>\n\n<pre><code>public class UseTheStuff {\n\n  @Autowired\n  private Provider&lt;MyStuff&gt; stuffA; // 3\n\n  @Autowired\n  private Provider&lt;MyStuff&gt; stuffB;  // 4\n\n  public void doStuffWithTheProvider(){\n    MyStuff stuffA.get(); // 5\n    MyStuff stuffB.get(); // 6\n  }\n}\n</code></pre>\n\n<ol>\n<li>tell spring to use this implementation as prototype</li>\n<li>name this implementatnion of MyStuff: \"stuffA\"</li>\n<li>get a Provider (the name \"stuffA\" tells spring to inject a MyStuffImpl_A provider)</li>\n<li>get a Provider (the name \"stuffB\" tells spring to inject a MyStuffImpl_B provider)</li>\n<li>use the provider to create an instance of MyStuffImpl_A</li>\n<li>use the provider to create an instance of MyStuffImpl_B</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1415371926,"creation_date":1415128099,"answer_id":26743044,"question_id":26738464,"body_markdown":"If you don&#39;t need to have separate qualifiers and can Autowire as List&lt;MyType&gt; you can do this in Spring 4:\r\n\r\n    @Configuration\r\n    public MyConfigurationClass {\r\n \r\n        @Bean\r\n        public List&lt;MyType&gt; configure() {\r\n            //create your dynamical list here\r\n        }\r\n    }\r\n\r\nBut for Spring 3 (where generics were ignored) you would be safer to use:\r\n\r\n    @Configuration\r\n    public MyConfigurationClass {\r\n \r\n        @Bean\r\n        @Qualifier(&quot;mylist&quot;)\r\n        public List&lt;MyType&gt; configure() {\r\n            //create your dynamical list here\r\n        }\r\n    }\r\n\r\nand autowire:\r\n\r\n    @Autowired public MyClass(@Qualifier(&quot;mylist&quot;) List&lt;MyType&gt; types)\r\n\r\nWith this you wouldn&#39;t need to touch ApplicationContext instance directly. It&#39;s not considered as very good practice.\r\n\r\nEDIT:\r\n\r\nDid you try this?:\r\n\r\n\r\n    @Configuration\r\n    public class Config {\r\n    \r\n        @Bean\r\n        @Qualifier(&quot;tylist&quot;)\r\n        public Collection&lt;Ty&gt; tyList() {\r\n            return new ArrayList&lt;Ty&gt;() {{\r\n                this.add(new Ty()); // could be any number of Ty instances.\r\n            }};\r\n        }\r\n    \r\n        @Bean\r\n        public To to(@Qualifier(&quot;tylist&quot;) Collection&lt;Ty&gt; tylist) {\r\n            return new To();\r\n        }\r\n    }","title":"Create multiple beans from one method in @Configuration class","body":"<p>If you don't need to have separate qualifiers and can Autowire as List you can do this in Spring 4:</p>\n\n<pre><code>@Configuration\npublic MyConfigurationClass {\n\n    @Bean\n    public List&lt;MyType&gt; configure() {\n        //create your dynamical list here\n    }\n}\n</code></pre>\n\n<p>But for Spring 3 (where generics were ignored) you would be safer to use:</p>\n\n<pre><code>@Configuration\npublic MyConfigurationClass {\n\n    @Bean\n    @Qualifier(\"mylist\")\n    public List&lt;MyType&gt; configure() {\n        //create your dynamical list here\n    }\n}\n</code></pre>\n\n<p>and autowire:</p>\n\n<pre><code>@Autowired public MyClass(@Qualifier(\"mylist\") List&lt;MyType&gt; types)\n</code></pre>\n\n<p>With this you wouldn't need to touch ApplicationContext instance directly. It's not considered as very good practice.</p>\n\n<p>EDIT:</p>\n\n<p>Did you try this?:</p>\n\n<pre><code>@Configuration\npublic class Config {\n\n    @Bean\n    @Qualifier(\"tylist\")\n    public Collection&lt;Ty&gt; tyList() {\n        return new ArrayList&lt;Ty&gt;() {{\n            this.add(new Ty()); // could be any number of Ty instances.\n        }};\n    }\n\n    @Bean\n    public To to(@Qualifier(\"tylist\") Collection&lt;Ty&gt; tylist) {\n        return new To();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4678213,"reputation":2831,"user_id":3787777,"accept_rate":92,"display_name":"Coderino Javarino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633615898,"creation_date":1633615898,"answer_id":69482709,"question_id":26738464,"body_markdown":"I think it depends on where and how properties are read. If you read those properties using vanilla java, you could register bean definitions by implementing BeanFactoryPostProcessor. However, if the properties themselves come as a bean (eg. as a result of @ConfigurationProperties), I&#39;m somewhat confident you&#39;re out of luck. After googling for some time, I come to conclusion that the only robust solution is to refactor whole design, and instead of providing multiple MyType beans, provide single MyTypeProvider bean, which in turn would have a single method with signature `List&lt;MyType&gt; getStuff()`. Then, at the point where you had `List&lt;MyType&gt;` injected, inject `List&lt;MyTypeProvider&gt;` instead, and merge their results of `getStuff` into a single `List&lt;MyType&gt;`. Again, I know this is more of a workaround, but this the best I could find so far.","title":"Create multiple beans from one method in @Configuration class","body":"<p>I think it depends on where and how properties are read. If you read those properties using vanilla java, you could register bean definitions by implementing BeanFactoryPostProcessor. However, if the properties themselves come as a bean (eg. as a result of @ConfigurationProperties), I'm somewhat confident you're out of luck. After googling for some time, I come to conclusion that the only robust solution is to refactor whole design, and instead of providing multiple MyType beans, provide single MyTypeProvider bean, which in turn would have a single method with signature <code>List&lt;MyType&gt; getStuff()</code>. Then, at the point where you had <code>List&lt;MyType&gt;</code> injected, inject <code>List&lt;MyTypeProvider&gt;</code> instead, and merge their results of <code>getStuff</code> into a single <code>List&lt;MyType&gt;</code>. Again, I know this is more of a workaround, but this the best I could find so far.</p>\n"}],"owner":{"account_id":43232,"reputation":13925,"user_id":126280,"accept_rate":60,"display_name":"Cheetah"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10188,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1633615898,"creation_date":1415113572,"question_id":26738464,"body_markdown":"I am Spring for DI and am **NOT** using XML.\r\n\r\nBased on configuration (eg. an xml/properties file), I am looking to create a number of beans (exact number is determined by the configuration) of a specific type to put in my context so that they can be autowired into classes.\r\n\r\nI would autowire by: `@Autowired public MyClass(List&lt;MyType&gt; types)`\r\n\r\nI am looking at using an class annotated with `@Configuration`.\r\n\r\nSo I can do something like this:\r\n\r\n    @Configuration\r\n    public MyConfigurationClass {\r\n    \r\n    \t@Autowired\r\n    \tpublic void configure(ApplicationContext context) {\r\n    \t\t// register stuff here\r\n    \t}\r\n    }\r\n\r\n...but it doesn&#39;t &quot;feel&quot; right...\r\n\r\nWhat is the &quot;Spring&quot; way to achieve this?\r\n\r\nEDIT:\r\n\r\nImagine this code, where `To` and `Ty` are just empty class definitions.\r\n\r\n    @Configuration\r\n    public class Config {\r\n    \r\n        @Bean\r\n        public Collection&lt;Ty&gt; tyList() {\r\n            return new ArrayList&lt;Ty&gt;() {{\r\n                this.add(new Ty()); // could be any number of Ty instances.\r\n            }};\r\n        }\r\n    \r\n        @Bean\r\n        public To to(Collection&lt;Ty&gt; tylist) {\r\n            return new To();\r\n        }\r\n    }","title":"Create multiple beans from one method in @Configuration class","body":"<p>I am Spring for DI and am <strong>NOT</strong> using XML.</p>\n\n<p>Based on configuration (eg. an xml/properties file), I am looking to create a number of beans (exact number is determined by the configuration) of a specific type to put in my context so that they can be autowired into classes.</p>\n\n<p>I would autowire by: <code>@Autowired public MyClass(List&lt;MyType&gt; types)</code></p>\n\n<p>I am looking at using an class annotated with <code>@Configuration</code>.</p>\n\n<p>So I can do something like this:</p>\n\n<pre><code>@Configuration\npublic MyConfigurationClass {\n\n    @Autowired\n    public void configure(ApplicationContext context) {\n        // register stuff here\n    }\n}\n</code></pre>\n\n<p>...but it doesn't \"feel\" right...</p>\n\n<p>What is the \"Spring\" way to achieve this?</p>\n\n<p>EDIT:</p>\n\n<p>Imagine this code, where <code>To</code> and <code>Ty</code> are just empty class definitions.</p>\n\n<pre><code>@Configuration\npublic class Config {\n\n    @Bean\n    public Collection&lt;Ty&gt; tyList() {\n        return new ArrayList&lt;Ty&gt;() {{\n            this.add(new Ty()); // could be any number of Ty instances.\n        }};\n    }\n\n    @Bean\n    public To to(Collection&lt;Ty&gt; tylist) {\n        return new To();\n    }\n}\n</code></pre>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":21689387,"reputation":61,"user_id":16004210,"display_name":"helloWorld"},"score":0,"creation_date":1633614776,"post_id":69482399,"comment_id":122811264,"body_markdown":"I tried using get method but it&#39;s not even working.","body":"I tried using get method but it&#39;s not even working."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1633614823,"post_id":69482399,"comment_id":122811282,"body_markdown":"Explain _I can&#39;t access the getTh variable_. Why not? Do you get a compilation error? Which one?","body":"Explain <i>I can&#39;t access the getTh variable</i>. Why not? Do you get a compilation error? Which one?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1633614904,"post_id":69482399,"comment_id":122811319,"body_markdown":"Out of curiosity, do you expect `getTh` inside `calcSalary` to have the same value it has inside `display` from the parent class?","body":"Out of curiosity, do you expect <code>getTh</code> inside <code>calcSalary</code> to have the same value it has inside <code>display</code> from the parent class?"},{"owner":{"account_id":21689387,"reputation":61,"user_id":16004210,"display_name":"helloWorld"},"score":0,"creation_date":1633614959,"post_id":69482399,"comment_id":122811346,"body_markdown":"Yah, I can access I can&#39;t get its value, it doesn&#39;t show any error tho","body":"Yah, I can access I can&#39;t get its value, it doesn&#39;t show any error tho"},{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1633614973,"post_id":69482399,"comment_id":122811353,"body_markdown":"What exactly is the error? Or what code you execute with these 2 classes?","body":"What exactly is the error? Or what code you execute with these 2 classes?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1633615043,"post_id":69482399,"comment_id":122811392,"body_markdown":"@helloWorld that&#39;s not how inheritance works. You can&#39;t access the *value* the variable has in another instance, even if that other instance is of the parent class.","body":"@helloWorld that&#39;s not how inheritance works. You can&#39;t access the <i>value</i> the variable has in another instance, even if that other instance is of the parent class."},{"owner":{"account_id":21689387,"reputation":61,"user_id":16004210,"display_name":"helloWorld"},"score":0,"creation_date":1633615088,"post_id":69482399,"comment_id":122811413,"body_markdown":"@Federico klez Culloca, Yah indeed!","body":"@Federico klez Culloca, Yah indeed!"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1633615265,"post_id":69482399,"comment_id":122811491,"body_markdown":"Use in Function3 `protected double getTh;` so `getTh` is visible in `Function4`..","body":"Use in Function3 <code>protected double getTh;</code> so <code>getTh</code> is visible in <code>Function4</code>.."},{"owner":{"account_id":21689387,"reputation":61,"user_id":16004210,"display_name":"helloWorld"},"score":0,"creation_date":1633615446,"post_id":69482399,"comment_id":122811579,"body_markdown":"@user16320675 yeah I really need to have a function 4, my program requires to have an inheritance","body":"@user16320675 yeah I really need to have a function 4, my program requires to have an inheritance"}],"answers":[{"tags":[],"owner":{"account_id":15463355,"reputation":23,"user_id":11155415,"display_name":"Ben deVries"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633615798,"creation_date":1633615462,"answer_id":69482586,"question_id":69482399,"body_markdown":"What happens if you declare the variables `public`? By default in Java, variables are defined as package-private which means they are only visible to other classes in the same package, depending on how you have your project setup the 2 classes (function3 and function4) may be in different packages.\r\n\r\nAlso, as you progress through school (or learn on your own) you will discover that allowing a class to directly manipulate the variables in another can cause issues. S.O.L.I.D. is one of the current methodologies for designing useable and maintainable code. the O in solid means (among other things) that the `instance variables` of a class should not be able to be accessed by functions outside of the class. Instead you should design `accessors` and `mutators` (`getters` and `setters`), here is an example:\r\n\r\n```\r\npublic class function 3 {\r\n\r\n  private double Th;\r\n  private double Tt;\r\n  private double Ot;\r\n\r\n  public double getTh() { return Th; }\r\n  public void setTh(double newTh) { Th = newTh; }\r\n\r\n  public double getTt() { return Tt; }\r\n  public void setTt(double newTt) { Tt = newTt; }\r\n\r\n  public double getOt() { return Ot; }\r\n  public void setOt(double newOt) { Th = newOt; }\r\n\r\n}\r\n```\r\nThen if you want to get the value of Th you can call `&lt;instanceOfFunction3&gt;.getTh()`","title":"Java Subclass Doesn&#39;t Inherit its Parent&#39;s Variable","body":"<p>What happens if you declare the variables <code>public</code>? By default in Java, variables are defined as package-private which means they are only visible to other classes in the same package, depending on how you have your project setup the 2 classes (function3 and function4) may be in different packages.</p>\n<p>Also, as you progress through school (or learn on your own) you will discover that allowing a class to directly manipulate the variables in another can cause issues. S.O.L.I.D. is one of the current methodologies for designing useable and maintainable code. the O in solid means (among other things) that the <code>instance variables</code> of a class should not be able to be accessed by functions outside of the class. Instead you should design <code>accessors</code> and <code>mutators</code> (<code>getters</code> and <code>setters</code>), here is an example:</p>\n<pre><code>public class function 3 {\n\n  private double Th;\n  private double Tt;\n  private double Ot;\n\n  public double getTh() { return Th; }\n  public void setTh(double newTh) { Th = newTh; }\n\n  public double getTt() { return Tt; }\n  public void setTt(double newTt) { Tt = newTt; }\n\n  public double getOt() { return Ot; }\n  public void setOt(double newOt) { Th = newOt; }\n\n}\n</code></pre>\n<p>Then if you want to get the value of Th you can call <code>&lt;instanceOfFunction3&gt;.getTh()</code></p>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633615513,"creation_date":1633615513,"answer_id":69482606,"question_id":69482399,"body_markdown":"Subclasses cannot know, at runtime, about other instances of its parent class through inheritance alone\r\n\r\nSubclasses have their own variables that get inherited, but this is only the attributes themselves, not any defined runtime values.\r\n\r\nIf you want access to another instance, you need composition, not inheritance\r\n\r\n```\r\nclass function4 extends function3 {  // maybe not needed to extend anymore \r\n    public function4(function3 f) {\r\n        this.f3 = f;\r\n   } \r\n    function3 f3;\r\n```\r\n\r\nThen access `this.f3.getTh`","title":"Java Subclass Doesn&#39;t Inherit its Parent&#39;s Variable","body":"<p>Subclasses cannot know, at runtime, about other instances of its parent class through inheritance alone</p>\n<p>Subclasses have their own variables that get inherited, but this is only the attributes themselves, not any defined runtime values.</p>\n<p>If you want access to another instance, you need composition, not inheritance</p>\n<pre><code>class function4 extends function3 {  // maybe not needed to extend anymore \n    public function4(function3 f) {\n        this.f3 = f;\n   } \n    function3 f3;\n</code></pre>\n<p>Then access <code>this.f3.getTh</code></p>\n"}],"owner":{"account_id":21689387,"reputation":61,"user_id":16004210,"display_name":"helloWorld"},"comment_count":9,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":591,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1633682980,"answer_count":2,"score":-2,"last_activity_date":1633615798,"creation_date":1633614617,"question_id":69482399,"body_markdown":"I&#39;ve been working with my project and I having a problem inheriting parent class&#39; variable.\r\nHere&#39;s my code:\r\n\r\n        \r\n    class function3 {\r\n    \r\n        double getTh;\r\n        double getTt;\r\n        double getOt;\r\n        \r\n        public void display(String name, String id, double getTh, double getTt, double getOt) {\r\n    \r\n            this.getTh = getTh;\r\n            this.getTt = getTt;\r\n            this.getOt = getOt;\r\n            \r\n            System.out.println(&quot;SALARY INFORMATION&quot;);\r\n            System.out.println(&quot;-----------------------&quot;);\r\n            System.out.println(&quot;Employee Id       : &quot; + name);\r\n            System.out.println(&quot;Employee Name     : &quot; + id);\r\n            System.out.println(&quot;Number of hours   : &quot; + getTh);\r\n            System.out.println(&quot;Employee Tardiness: &quot; + getTt);\r\n            System.out.println(&quot;-----------------------&quot;);\r\n    \r\n            function4 displayTotal = new function4();\r\n            displayTotal.calcSalary(getOt);\r\n            displayTotal.displaySalary();\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n&lt;!-- --&gt;\r\n    \r\n    class function4 extends function3 {\r\n    \r\n        double overtimePay;\r\n        double weeklyIncome;\r\n        \r\n        public void calcSalary(double getOvertime) {\r\n    \r\n            overtimePay = getOvertime * 75.25;\r\n            weeklyIncome = getTh * 200.50;\r\n            \r\n            System.out.println(weeklyIncome);\r\n            \r\n        }\r\n    \r\n        public void displaySalary() {\r\n    \r\n            System.out.println(&quot;WEEEKLY SALARY&quot;);\r\n            System.out.println(&quot;-----------------------&quot;);\r\n            System.out.println(&quot;Overtime Pay : &quot; + overtimePay);\r\n            System.out.println(&quot;Weekly Income: &quot; + weeklyIncome);\r\n            System.out.println(&quot;Gross Income : &quot;);\r\n    \r\n        }\r\n    }\r\n\r\nNow my problem is, I can&#39;t access the getTh variable from function3 even if it&#39;s already extended. What should I do? ","title":"Java Subclass Doesn&#39;t Inherit its Parent&#39;s Variable","body":"<p>I've been working with my project and I having a problem inheriting parent class' variable.\nHere's my code:</p>\n<pre><code>class function3 {\n\n    double getTh;\n    double getTt;\n    double getOt;\n    \n    public void display(String name, String id, double getTh, double getTt, double getOt) {\n\n        this.getTh = getTh;\n        this.getTt = getTt;\n        this.getOt = getOt;\n        \n        System.out.println(&quot;SALARY INFORMATION&quot;);\n        System.out.println(&quot;-----------------------&quot;);\n        System.out.println(&quot;Employee Id       : &quot; + name);\n        System.out.println(&quot;Employee Name     : &quot; + id);\n        System.out.println(&quot;Number of hours   : &quot; + getTh);\n        System.out.println(&quot;Employee Tardiness: &quot; + getTt);\n        System.out.println(&quot;-----------------------&quot;);\n\n        function4 displayTotal = new function4();\n        displayTotal.calcSalary(getOt);\n        displayTotal.displaySalary();\n    }\n    \n    \n}\n</code></pre>\n\n<pre><code>class function4 extends function3 {\n\n    double overtimePay;\n    double weeklyIncome;\n    \n    public void calcSalary(double getOvertime) {\n\n        overtimePay = getOvertime * 75.25;\n        weeklyIncome = getTh * 200.50;\n        \n        System.out.println(weeklyIncome);\n        \n    }\n\n    public void displaySalary() {\n\n        System.out.println(&quot;WEEEKLY SALARY&quot;);\n        System.out.println(&quot;-----------------------&quot;);\n        System.out.println(&quot;Overtime Pay : &quot; + overtimePay);\n        System.out.println(&quot;Weekly Income: &quot; + weeklyIncome);\n        System.out.println(&quot;Gross Income : &quot;);\n\n    }\n}\n</code></pre>\n<p>Now my problem is, I can't access the getTh variable from function3 even if it's already extended. What should I do?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":22847345,"reputation":23,"user_id":16993504,"display_name":"Kenneth Arias"},"score":0,"creation_date":1633597386,"post_id":69478255,"comment_id":122803898,"body_markdown":"Take note that I will use that class to a JButton on that specific JFrame","body":"Take note that I will use that class to a JButton on that specific JFrame"},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":1,"creation_date":1633597656,"post_id":69478255,"comment_id":122804027,"body_markdown":"What have you tried?  Please see [ask].","body":"What have you tried?  Please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":22847345,"reputation":23,"user_id":16993504,"display_name":"Kenneth Arias"},"score":0,"creation_date":1633598295,"post_id":69478255,"comment_id":122804355,"body_markdown":"Every searchable method. I&#39;ve been searching for at least 5 hrs.","body":"Every searchable method. I&#39;ve been searching for at least 5 hrs."},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":0,"creation_date":1633599306,"post_id":69478255,"comment_id":122804824,"body_markdown":"While I&#39;m impressed that you&#39;ve stayed at it for 5 hours, it would help if you could post something you&#39;ve tried that ended up failing, along with your understanding of what the code is (or should be) doing.  Then we can clear up the root of the issue, which is likely a misunderstanding, rather than just handing you a solution.","body":"While I&#39;m impressed that you&#39;ve stayed at it for 5 hours, it would help if you could post something you&#39;ve tried that ended up failing, along with your understanding of what the code is (or should be) doing.  Then we can clear up the root of the issue, which is likely a misunderstanding, rather than just handing you a solution."},{"owner":{"account_id":22847345,"reputation":23,"user_id":16993504,"display_name":"Kenneth Arias"},"score":0,"creation_date":1633599823,"post_id":69478255,"comment_id":122805011,"body_markdown":"I tried using EditStudent frame = new EditStudent();\nframe.setVisible(false);\nbut it just ending up creating new JFrame and setting its vsibility to false.\nWhat I wanted to happen is to close the current JFrame in which when you click a JButton, controlled by a different class that implements ActionListener, will close.","body":"I tried using EditStudent frame = new EditStudent(); frame.setVisible(false); but it just ending up creating new JFrame and setting its vsibility to false. What I wanted to happen is to close the current JFrame in which when you click a JButton, controlled by a different class that implements ActionListener, will close."},{"owner":{"account_id":12256232,"reputation":617,"user_id":8945198,"display_name":"AP11"},"score":0,"creation_date":1633605608,"post_id":69478255,"comment_id":122807245,"body_markdown":"Well, then you have to pass the current `JFrame` to the controller, where you close it.","body":"Well, then you have to pass the current <code>JFrame</code> to the controller, where you close it."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633615785,"creation_date":1633614196,"answer_id":69482312,"question_id":69478255,"body_markdown":"&gt; Every searchable method. I&#39;ve been searching for at least 5 hrs.\r\n\r\nWell start with the basics of how to write an ActionListener. The code you posted doesn&#39;t even implement the `actionPerformed(...)` method so it won&#39;t even compile.\r\n\r\nRead the [Swing tutorial](https://docs.oracle.com/javase/tutorial/uiswing/TOC.html) for Swing basics. Maybe start with the section on `How to Use Lists`. The `ListDemo` code shows how to use an inner class to define an ActionListener.\r\n\r\nYour controller class makes no sense to me. You appear to be making it to complicated. For example why would you pass the button as a parameter but also make a new instance of the button in the class. \r\n\r\nAn ActionListener does NOT to define the button or have it passed as a parameter.\r\n\r\nAll you need to do is create the button where you add all other components to the frame. Then you add the ActionListener to your button.\r\n\r\nThen the the basic code in your ActionListener would be:\r\n\r\n    Window window = SwingUtilities.windowForComponent(event.getSource());\r\n    window.dispose();\r\n\r\nOnce you get that working and understand the basic concepts you may want to check out [Closing an Application](https://tips4java.wordpress.com/2009/05/01/closing-an-application/) which presents a simple API to create reusable code that can be used for any frame.","title":"How to close a JFrame on a class that implements ActionListener","body":"<blockquote>\n<p>Every searchable method. I've been searching for at least 5 hrs.</p>\n</blockquote>\n<p>Well start with the basics of how to write an ActionListener. The code you posted doesn't even implement the <code>actionPerformed(...)</code> method so it won't even compile.</p>\n<p>Read the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/TOC.html\" rel=\"nofollow noreferrer\">Swing tutorial</a> for Swing basics. Maybe start with the section on <code>How to Use Lists</code>. The <code>ListDemo</code> code shows how to use an inner class to define an ActionListener.</p>\n<p>Your controller class makes no sense to me. You appear to be making it to complicated. For example why would you pass the button as a parameter but also make a new instance of the button in the class.</p>\n<p>An ActionListener does NOT to define the button or have it passed as a parameter.</p>\n<p>All you need to do is create the button where you add all other components to the frame. Then you add the ActionListener to your button.</p>\n<p>Then the the basic code in your ActionListener would be:</p>\n<pre><code>Window window = SwingUtilities.windowForComponent(event.getSource());\nwindow.dispose();\n</code></pre>\n<p>Once you get that working and understand the basic concepts you may want to check out <a href=\"https://tips4java.wordpress.com/2009/05/01/closing-an-application/\" rel=\"nofollow noreferrer\">Closing an Application</a> which presents a simple API to create reusable code that can be used for any frame.</p>\n"}],"owner":{"account_id":22847345,"reputation":23,"user_id":16993504,"display_name":"Kenneth Arias"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69482312,"answer_count":1,"score":0,"last_activity_date":1633615785,"creation_date":1633597022,"question_id":69478255,"body_markdown":"I need to close a specific JFrame with another class that implements ActionListener\r\n\r\n```\r\npublic class EditStudent extends JFrame {\r\n    public static void main(String[] args) {\r\n    \tEventQueue.invokeLater(new Runnable() {\r\n    \t\tpublic void run() {\r\n    \t\t\ttry {\r\n    \t\t\t\tEditStudent frame = new EditStudent();\r\n    \t\t\t\tframe.setVisible(true);\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t});\t\r\n    }\r\n}\r\n```\r\nI will use this class to a JButton on that JFrame. (It&#39;s like a controller to a JButton)\r\n\r\n    public class EditFileController implements ActionListener {\r\n    \t@SuppressWarnings(&quot;unused&quot;)\r\n    \tprivate JButton btnEdit = new JButton();\r\n    \r\n    \tpublic EditFileController(JButton btnEdit) {\r\n    \t\tsuper();\r\n    \t\tEditStudent.btnEdit = btnEdit;\r\n    \t}\r\n    }\r\n\r\n","title":"How to close a JFrame on a class that implements ActionListener","body":"<p>I need to close a specific JFrame with another class that implements ActionListener</p>\n<pre><code>public class EditStudent extends JFrame {\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    EditStudent frame = new EditStudent();\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        }); \n    }\n}\n</code></pre>\n<p>I will use this class to a JButton on that JFrame. (It's like a controller to a JButton)</p>\n<pre><code>public class EditFileController implements ActionListener {\n    @SuppressWarnings(&quot;unused&quot;)\n    private JButton btnEdit = new JButton();\n\n    public EditFileController(JButton btnEdit) {\n        super();\n        EditStudent.btnEdit = btnEdit;\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","orm","lazy-loading","byte-code-enhancement"],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1610232385,"creation_date":1574106080,"answer_id":58921787,"question_id":58782057,"body_markdown":"The `enableAssociationManagement` only works from parent to child entities, not the other way around. So, it&#39;s not very useful. Better synchronize both ends of a bidirectional association using [add/remove methods](https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/).\r\n\r\nThe [`enableLazyInitialization`](https://vladmihalcea.com/the-best-way-to-lazy-load-entity-attributes-using-jpa-and-hibernate/) can be useful for lazy attributes, like fetching a parent-side `@OneToOne` association lazily, as by default, this one is fetched eagerly even when set to `FetchType.LAZY`.\r\n\r\nThe `enableDirtyTracking` setting is not needed if you make sure the Persistence Context never loads too many entities. You are better off reducing the Persistence Context size than using this setting.\r\n\r\nThe `enableExtendedEnhancement` setting allow a you to extends more than the entity classes, so bytecode enhancement can work even beyond calling getters and setters on entities. This setting is not recommended.\r\n\r\n\r\n","title":"Is it worth using the Hibernate Bytecode Enhancement mechanism?","body":"<p>The <code>enableAssociationManagement</code> only works from parent to child entities, not the other way around. So, it's not very useful. Better synchronize both ends of a bidirectional association using <a href=\"https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/\" rel=\"noreferrer\">add/remove methods</a>.</p>\n<p>The <a href=\"https://vladmihalcea.com/the-best-way-to-lazy-load-entity-attributes-using-jpa-and-hibernate/\" rel=\"noreferrer\"><code>enableLazyInitialization</code></a> can be useful for lazy attributes, like fetching a parent-side <code>@OneToOne</code> association lazily, as by default, this one is fetched eagerly even when set to <code>FetchType.LAZY</code>.</p>\n<p>The <code>enableDirtyTracking</code> setting is not needed if you make sure the Persistence Context never loads too many entities. You are better off reducing the Persistence Context size than using this setting.</p>\n<p>The <code>enableExtendedEnhancement</code> setting allow a you to extends more than the entity classes, so bytecode enhancement can work even beyond calling getters and setters on entities. This setting is not recommended.</p>\n"}],"owner":{"account_id":13526375,"reputation":597,"user_id":9758079,"display_name":"Sven M."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7903,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":58921787,"answer_count":1,"score":21,"last_activity_date":1633615579,"creation_date":1573322459,"question_id":58782057,"body_markdown":"I&#39;m currently reading Vlad Mihalcea&#39;s book [High-Performance Java Persistence][1]. \r\n\r\nIn the Bytecode Enhancement section, it is said that `enableDirtyTracking` can optimize performance with large amounts of data through replacing reflections.  But I&#39;m just wondering if there are any disadvantages?  \r\n\r\nUnfortunately, I couldn&#39;t find any or only very old information.\r\n\r\n``` lang-xml\r\n&lt;plugin&gt;\r\n   &lt;groupId&gt;org.hibernate.orm.tooling&lt;/groupId&gt;\r\n   &lt;artifactId&gt;hibernate-enhance-maven-plugin&lt;/artifactId&gt;\r\n   &lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n   &lt;executions&gt;\r\n      &lt;execution&gt;\r\n         &lt;configuration&gt;\r\n            &lt;failOnError&gt;true&lt;/failOnError&gt;\r\n            &lt;enableDirtyTracking&gt;true&lt;/enableDirtyTracking&gt;\r\n            &lt;enableLazyInitialization&gt;false&lt;/enableLazyInitialization&gt;\r\n            &lt;enableAssociationManagement&gt;false&lt;/enableAssociationManagement&gt;\r\n            &lt;enableExtendedEnhancement&gt;false&lt;/enableExtendedEnhancement&gt;\r\n         &lt;/configuration&gt;\r\n         &lt;goals&gt;\r\n            &lt;goal&gt;enhance&lt;/goal&gt;\r\n         &lt;/goals&gt;\r\n      &lt;/execution&gt;\r\n   &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\nAnd while doing further research in the Hibernate documentation I came across three more properties: \r\n\r\n- `enableLazyInitialization`, \r\n- `enableAssociationManagement`, \r\n- `enableExtendedEnhancement`. \r\n\r\nBut I can&#39;t find much about it on the internet.  \r\n\r\nIf I understood it correctly, `enableAssociationManagement` makes the independent handling of bidirectional relationships superfluous and replaces `enableLazyInitialization` like `enableDirtyTracking` Reflections? \r\n\r\nUnfortunately, I couldn&#39;t find anything about `enableExtendedEnhancement`. That&#39;s why I have the same question as above. Should I just use it? Or which disadvantages result from it?\r\n\r\n  [1]: https://vladmihalcea.com/books/high-performance-java-persistence/","title":"Is it worth using the Hibernate Bytecode Enhancement mechanism?","body":"<p>I'm currently reading Vlad Mihalcea's book <a href=\"https://vladmihalcea.com/books/high-performance-java-persistence/\" rel=\"noreferrer\">High-Performance Java Persistence</a>. </p>\n\n<p>In the Bytecode Enhancement section, it is said that <code>enableDirtyTracking</code> can optimize performance with large amounts of data through replacing reflections.  But I'm just wondering if there are any disadvantages?  </p>\n\n<p>Unfortunately, I couldn't find any or only very old information.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.hibernate.orm.tooling&lt;/groupId&gt;\n   &lt;artifactId&gt;hibernate-enhance-maven-plugin&lt;/artifactId&gt;\n   &lt;version&gt;${hibernate.version}&lt;/version&gt;\n   &lt;executions&gt;\n      &lt;execution&gt;\n         &lt;configuration&gt;\n            &lt;failOnError&gt;true&lt;/failOnError&gt;\n            &lt;enableDirtyTracking&gt;true&lt;/enableDirtyTracking&gt;\n            &lt;enableLazyInitialization&gt;false&lt;/enableLazyInitialization&gt;\n            &lt;enableAssociationManagement&gt;false&lt;/enableAssociationManagement&gt;\n            &lt;enableExtendedEnhancement&gt;false&lt;/enableExtendedEnhancement&gt;\n         &lt;/configuration&gt;\n         &lt;goals&gt;\n            &lt;goal&gt;enhance&lt;/goal&gt;\n         &lt;/goals&gt;\n      &lt;/execution&gt;\n   &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>And while doing further research in the Hibernate documentation I came across three more properties: </p>\n\n<ul>\n<li><code>enableLazyInitialization</code>, </li>\n<li><code>enableAssociationManagement</code>, </li>\n<li><code>enableExtendedEnhancement</code>. </li>\n</ul>\n\n<p>But I can't find much about it on the internet.  </p>\n\n<p>If I understood it correctly, <code>enableAssociationManagement</code> makes the independent handling of bidirectional relationships superfluous and replaces <code>enableLazyInitialization</code> like <code>enableDirtyTracking</code> Reflections? </p>\n\n<p>Unfortunately, I couldn't find anything about <code>enableExtendedEnhancement</code>. That's why I have the same question as above. Should I just use it? Or which disadvantages result from it?</p>\n"},{"tags":["java","spring","spring-integration","poller"],"answers":[{"tags":[],"owner":{"account_id":4950299,"reputation":192,"user_id":3984474,"display_name":"JBStonehenge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633615558,"creation_date":1630890274,"answer_id":69068252,"question_id":69064859,"body_markdown":"What I&#39;ve found out:\r\n\r\nYou might set the initialDelay of the poller. If your poller has a period of 5.000 milliseconds without an initial delay, it is working this way:\r\n\r\n    send -&gt; wait -&gt; send -&gt; wait  etc.\r\n\r\nIf you set the same 5.000 milliseconds as initial delay, it is working exactly as required:\r\n\r\n    wait -&gt; send -&gt; wait -&gt; send etc.\r\n\r\nThe initial delay is the second argument setting `p.fixedDelay(...)`. Then the `errorStateEntryPoint` polling channel adapter should be this:\r\n\r\n    @Bean\r\n    public IntegrationFlow errorStateEntryPoint() {\r\n        return IntegrationFlows.from(\r\n                () -&gt; new GenericMessage&lt;String&gt;(&quot;&quot;),\r\n                        e -&gt; e.poller(p -&gt; p.fixedDelay(ERROR_STATE_POLLING, ERROR_STATE_POLLING))\r\n                        .id(&quot;errorStateSourcePollingChannelAdapter&quot;)\r\n                        .autoStartup(false))\r\n                .channel(&quot;httpOutRequest&quot;)\r\n                .get();\r\n    }\r\n\r\nThat&#39;s it.\r\n","title":"Can I make a Poller start his cycle with WAIT after start() command?","body":"<p>What I've found out:</p>\n<p>You might set the initialDelay of the poller. If your poller has a period of 5.000 milliseconds without an initial delay, it is working this way:</p>\n<pre><code>send -&gt; wait -&gt; send -&gt; wait  etc.\n</code></pre>\n<p>If you set the same 5.000 milliseconds as initial delay, it is working exactly as required:</p>\n<pre><code>wait -&gt; send -&gt; wait -&gt; send etc.\n</code></pre>\n<p>The initial delay is the second argument setting <code>p.fixedDelay(...)</code>. Then the <code>errorStateEntryPoint</code> polling channel adapter should be this:</p>\n<pre><code>@Bean\npublic IntegrationFlow errorStateEntryPoint() {\n    return IntegrationFlows.from(\n            () -&gt; new GenericMessage&lt;String&gt;(&quot;&quot;),\n                    e -&gt; e.poller(p -&gt; p.fixedDelay(ERROR_STATE_POLLING, ERROR_STATE_POLLING))\n                    .id(&quot;errorStateSourcePollingChannelAdapter&quot;)\n                    .autoStartup(false))\n            .channel(&quot;httpOutRequest&quot;)\n            .get();\n}\n</code></pre>\n<p>That's it.</p>\n"}],"owner":{"account_id":4950299,"reputation":192,"user_id":3984474,"display_name":"JBStonehenge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69068252,"answer_count":1,"score":0,"last_activity_date":1633615558,"creation_date":1630856564,"question_id":69064859,"body_markdown":"In my Integration Flow I change from standard flow to an error flow in some error condition, stopping the `standardStateEntryPoint` and starting the `errorStateEntryPoint` via sending the start/stop command messages to the `Control Channel`.\r\n\r\nThe `errorStateEntryPoint` is this:\r\n    \r\n\t@Bean\r\n\tpublic IntegrationFlow errorStateEntryPoint() {\r\n\t\treturn IntegrationFlows.from(\r\n\t\t\t\t() -&gt; new GenericMessage&lt;String&gt;(&quot;&quot;),\r\n\t\t\t\t\t\te -&gt; e.poller(p -&gt; p.fixedDelay(ERROR_STATE_POLLING))\r\n\t\t\t\t\t\t.id(&quot;errorStateSourcePollingChannelAdapter&quot;)\r\n\t\t\t\t\t\t.autoStartup(false))\r\n\t\t\t\t.channel(&quot;httpOutRequest&quot;)\r\n\t\t\t\t.get();\r\n\t}\r\n\r\nIt has a `Poller` with a fixed delay of 5_000 ms. The recognized lifecycle when started is\r\n\r\n    send -&gt; wait -&gt; send -&gt; wait etc.\r\n\r\nIs it possible to have the inverse lifecycle, starting with the delay?\r\n\r\n    wait -&gt; send -&gt; wait -&gt; send etc.","title":"Can I make a Poller start his cycle with WAIT after start() command?","body":"<p>In my Integration Flow I change from standard flow to an error flow in some error condition, stopping the <code>standardStateEntryPoint</code> and starting the <code>errorStateEntryPoint</code> via sending the start/stop command messages to the <code>Control Channel</code>.</p>\n<p>The <code>errorStateEntryPoint</code> is this:</p>\n<pre><code>@Bean\npublic IntegrationFlow errorStateEntryPoint() {\n    return IntegrationFlows.from(\n            () -&gt; new GenericMessage&lt;String&gt;(&quot;&quot;),\n                    e -&gt; e.poller(p -&gt; p.fixedDelay(ERROR_STATE_POLLING))\n                    .id(&quot;errorStateSourcePollingChannelAdapter&quot;)\n                    .autoStartup(false))\n            .channel(&quot;httpOutRequest&quot;)\n            .get();\n}\n</code></pre>\n<p>It has a <code>Poller</code> with a fixed delay of 5_000 ms. The recognized lifecycle when started is</p>\n<pre><code>send -&gt; wait -&gt; send -&gt; wait etc.\n</code></pre>\n<p>Is it possible to have the inverse lifecycle, starting with the delay?</p>\n<pre><code>wait -&gt; send -&gt; wait -&gt; send etc.\n</code></pre>\n"},{"tags":["java","android","react-native","google-maps-android-api-2","react-native-component"],"comments":[{"owner":{"display_name":"user2711811"},"score":0,"creation_date":1632499872,"post_id":69318061,"comment_id":122517968,"body_markdown":"Just to clarify - is it a requirement that you must maintain the target zoom level throughout the map traverse?","body":"Just to clarify - is it a requirement that you must maintain the target zoom level throughout the map traverse?"},{"owner":{"account_id":2124341,"reputation":794,"user_id":1886914,"accept_rate":50,"display_name":"Kenny83"},"score":0,"creation_date":1632500748,"post_id":69318061,"comment_id":122518298,"body_markdown":"I&#39;m glad you asked! I wanted to mention this aspect of the problem but my WOT was already taller than the Sears Tower! :P What I&#39;d **really** like to do is have the same effect as Google Earth, i.e. zoom out to max height then back in to target height as the traversal occurs. I&#39;ve tried some simple test implementations of this idea, but they all failed abysmally. So I decided to simplify the problem and focus on the most important aspect first ;-)","body":"I&#39;m glad you asked! I wanted to mention this aspect of the problem but my WOT was already taller than the Sears Tower! :P What I&#39;d <b>really</b> like to do is have the same effect as Google Earth, i.e. zoom out to max height then back in to target height as the traversal occurs. I&#39;ve tried some simple test implementations of this idea, but they all failed abysmally. So I decided to simplify the problem and focus on the most important aspect first ;-)"},{"owner":{"display_name":"user2711811"},"score":2,"creation_date":1632500900,"post_id":69318061,"comment_id":122518347,"body_markdown":"The GE reference was exactly what I was thinking - the intent of this is to greatly reduce (exponentially) the tile rendering during the traverse.  If I recall - it has a bouncing ball effect - it is zooming out while traversing - so I&#39;m thinking you could add that to your &quot;series animator&quot; - change zoom (out) half-way there - and back in second half - but use the same executor concept you have.","body":"The GE reference was exactly what I was thinking - the intent of this is to greatly reduce (exponentially) the tile rendering during the traverse.  If I recall - it has a bouncing ball effect - it is zooming out while traversing - so I&#39;m thinking you could add that to your &quot;series animator&quot; - change zoom (out) half-way there - and back in second half - but use the same executor concept you have."},{"owner":{"account_id":2124341,"reputation":794,"user_id":1886914,"accept_rate":50,"display_name":"Kenny83"},"score":0,"creation_date":1632501322,"post_id":69318061,"comment_id":122518492,"body_markdown":"Hmm interesting...yes of course it would greatly reduce the amount of tile rending necessary; I can&#39;t believe I didn&#39;t realise that myself! *forehead slap* My brain kinda started to melt when I attempted to implement that effect though (LOL), so I decided to just move on. Now you&#39;ve made me realise that it will actually make the whole thing **immensely** faster, so it&#39;s worth trying again! Thanks! :D","body":"Hmm interesting...yes of course it would greatly reduce the amount of tile rending necessary; I can&#39;t believe I didn&#39;t realise that myself! <i>forehead slap</i> My brain kinda started to melt when I attempted to implement that effect though (LOL), so I decided to just move on. Now you&#39;ve made me realise that it will actually make the whole thing <b>immensely</b> faster, so it&#39;s worth trying again! Thanks! :D"}],"answers":[{"tags":[],"owner":{"display_name":"user2711811"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633615366,"creation_date":1633570692,"answer_id":69474443,"question_id":69318061,"body_markdown":"Here&#39;s my attempt using your utility frame player. \r\n\r\nA few notes:\r\n\r\n - The zoom value is interpolated based on the total steps (set at 500 here) and given the start and stop values.\r\n - A Google Maps utility is used to compute the next lat lng based on a fractional distance: `SphericalUtil.interpolate`.\r\n - The fractional distance should not be a linear function to reduce the introduction of new tiles.  In other words, at higher zooms (closer in) the camera moves in shorter distances and the amount of camera movement increases exponentially (center-to-center) while zooming out.  This requires a bit more explanation...\r\n - As you can see the traversal is split into two - reversing the exponential function of the distance movement.\r\n - The &quot;max&quot; zoom (bad name) which is the furthest out can be a function of the total distance - computed to encompass the whole path at the midpoint.  For now it&#39;s hard coded to 4 for this case.\r\n - Note the maps `animate` function *cannot* be used as it introduces its own bouncing ball effect *on each step* which is undesirable.  So given a fair number of steps the `move` function can be used.\r\n - This method attempts to minimize tile loading per step but ultimately the TileLoader is the limiting factor for viewing which cannot monitored (easily).\r\n\r\nanimateCameraToPosition\r\n=======================\r\n\r\n    // flag to control the animate callback (at completion).\r\n    boolean done = false;\r\n\r\n    private void animateCameraToPosition(LatLng targetLatLng, float targetZoom) {\r\n        CameraPosition currPosition = gMap.getCameraPosition();\r\n        LatLng currLatLng = currPosition.target;\r\n\r\n        //meters_per_pixel = 156543.03392 * Math.cos(latLng.lat() * Math.PI / 180) / Math.pow(2, zoom)\r\n        int maxSteps = 500;\r\n        // number of steps between start and midpoint and midpoint and end\r\n        int stepsMid = maxSteps / 2;\r\n\r\n        // current zoom\r\n        float initz = currPosition.zoom;\r\n        //TODO maximum zoom (can be computed from overall distance) such that entire path\r\n        //     is visible at midpoint.\r\n        float maxz = 4.0f;\r\n        float finalz = targetZoom;\r\n\r\n        CameraUpdateAnimator animator = new CameraUpdateAnimator(gMap, () -&gt; {\r\n            if (!done) {\r\n                gMap.animateCamera(CameraUpdateFactory.\r\n                        zoomTo(targetZoom), 5000, null);\r\n            }\r\n            done = true;\r\n\r\n        });\r\n\r\n        // loop from start to midpoint\r\n\r\n        for (int i = 0; i &lt; stepsMid; i++) {\r\n            // compute interpolated zoom (current --&gt; max) (linear)\r\n            float z = initz - ((initz - maxz) / stepsMid) * i;\r\n\r\n            // Compute fractional distance using an exponential function such that for the first\r\n            // half the fraction delta advances slowly and accelerates toward midpoint.\r\n            double ff = (i * (Math.pow(2,maxz) / Math.pow(2,z))) / maxSteps;\r\n\r\n            LatLng nextLatLng =\r\n                    SphericalUtil.interpolate(currLatLng, targetLatLng, ff);\r\n            animator.add(CameraUpdateFactory.newLatLngZoom(\r\n                    nextLatLng, z), false, 0);\r\n        }\r\n\r\n        // loop from midpoint to final\r\n        for (int i = 0; i &lt; stepsMid; i++) {\r\n            // compute interpolated zoom (current --&gt; max) (linear)\r\n            float z = maxz + ((finalz - maxz) / stepsMid) * i;\r\n            double ff = (maxSteps - ((i+stepsMid) * ( (Math.pow(2,maxz) / Math.pow(2,z)) ))) / (double)maxSteps;\r\n\r\n            LatLng nextLatLng =\r\n                    SphericalUtil.interpolate(currLatLng, targetLatLng, ff);\r\n\r\n            animator.add(CameraUpdateFactory.newLatLngZoom(\r\n                    nextLatLng, z), false, 0);\r\n        }\r\n\r\n        animator.add(CameraUpdateFactory.newLatLngZoom(\r\n                targetLatLng, targetZoom), true, 0);\r\n\r\n        //\r\n\r\n        animator.execute();\r\n    }\r\n\r\nTest Code\r\n=========\r\n\r\nI tested with these two points (and code) from Statue Of Liberty to a point on the west coast:\r\n\r\n    gMap.moveCamera(CameraUpdateFactory.newLatLngZoom(new LatLng(40.68924, -74.04454), 13.0f));\r\n\r\n    new Handler().postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                animateCameraToPosition(new LatLng(33.899832, -118.020450), 13.0f);\r\n            }\r\n        }, 5000);\r\n\r\n\r\nCameraUpdateAnimator Mods\r\n=========================\r\n\r\nI modified the camera update animator slightly:\r\n\r\n\r\n    public void execute() {\r\n        mMap.setOnCameraIdleListener(this);\r\n        executeNext();\r\n    }\r\n\r\n    private void executeNext() {\r\n        if (cameraUpdates.isEmpty()) {\r\n            mMap.setOnCameraIdleListener(mOnCameraIdleListener);\r\n            mOnCameraIdleListener.onCameraIdle();\r\n        } else {\r\n            final Animation animation = cameraUpdates.remove(0);\r\n            // This optimization is likely unnecessary since I think the\r\n            // postDelayed does the same on a delay of 0 - execute immediately.\r\n            if (animation.mDelay &gt; 0) {\r\n                new Handler().postDelayed(() -&gt; {\r\n                    if (animation.mAnimate) {\r\n                        mMap.animateCamera(animation.mCameraUpdate);\r\n                    } else {\r\n                        mMap.moveCamera(animation.mCameraUpdate);\r\n                    }\r\n                }, animation.mDelay);\r\n            } else {\r\n                if (animation.mAnimate) {\r\n                    mMap.animateCamera(animation.mCameraUpdate);\r\n                } else {\r\n                    mMap.moveCamera(animation.mCameraUpdate);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nBefore Sample\r\n=============\r\n\r\nUsing\r\n\r\n    // assume initial (40.68924, -74.04454) z=13.0f\r\n    gMap.animateCamera(CameraUpdateFactory.newLatLngZoom(new LatLng(33.899832,-118.020450), 13.0f), 30000, null);\r\n\r\n[&lt;img src=&quot;https://i.imgur.com/1gtWXk5.gif&quot; width=&quot;200&quot; height=&quot;355&quot; title=&quot;500 Steps&quot;&gt;](https://i.imgur.com/1gtWXk5.gif)\r\n\r\nAfter Samples\r\n=============\r\n\r\n_These are recorded from an emulator.  I also sideloaded onto my phone (Samsumg SM-G960U) with similar results (using 1000 steps 0 delay)._\r\n\r\n_So I don&#39;t think this meets your requirements entirely: there are some &quot;ambiguous tiles&quot; as they are brought in from the west._\r\n\r\nStatue of Liberty - to - somewhere near San Diego\r\n\r\n500 Steps 0 delay&lt;br/&gt; [&lt;img src=&quot;https://i.imgur.com/SSjK3T6.gif&quot; width=&quot;200&quot; height=&quot;355&quot; title=&quot;500 Steps&quot;&gt;](https://i.imgur.com/SSjK3T6.gif)\r\n\r\n100 Steps 0 delay&lt;br/&gt; [&lt;img src=&quot;https://i.imgur.com/NmE2bzg.gif&quot; width=&quot;200&quot; height=&quot;355&quot; title=&quot;100 Steps&quot;&gt;](https://i.imgur.com/NmE2bzg.gif)\r\n\r\n50 Steps 100MS delay&lt;br/&gt; [&lt;img src=&quot;https://i.imgur.com/XyIzeR3.gif&quot; width=&quot;200&quot; height=&quot;355&quot; title=&quot;100 Steps&quot;&gt;](https://i.imgur.com/XyIzeR3.gif)\r\n\r\n---\r\n\r\nDiagnostics\r\n===========\r\n\r\nIt is in some ways useful to have insight into what Maps is doing with tiles.  Insight can be provided by installing a simple `UrlTileProvider` and log the requests.  This implementation fetches the google tiles though they are lower resolution that is normally seen.\r\n\r\nTo do this the following is required:\r\n\r\n        // Turn off this base map and install diagnostic tile provider\r\n        gMap.setMapType(GoogleMap.MAP_TYPE_NONE);\r\n        gMap.addTileOverlay(new TileOverlayOptions().tileProvider(new MyTileProvider(256,256)).fadeIn(true));\r\n\r\nAnd define the diagnostic file provider\r\n\r\n    public class MyTileProvider extends UrlTileProvider {\r\n\r\n        public MyTileProvider(int i, int i1) {\r\n            super(i, i1);\r\n        }\r\n\r\n        @Override\r\n        public URL getTileUrl(int x, int y, int zoom) {\r\n\r\n            Log.i(&quot;tiles&quot;,&quot;x=&quot;+x+&quot; y=&quot;+y+&quot; zoom=&quot;+zoom);\r\n\r\n            try {\r\n                return new URL(&quot;http://mt1.google.com/vt/lyrs=m&amp;x=&quot;+x+&quot;&amp;y=&quot;+y+&quot;&amp;z=&quot;+zoom);\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nYou&#39;ll notice right away that tile layers are always defined in integral units (`int`).  The fractional zooms which are supplied in the zoom (e.g. `LatLngZoom` work strictly with the in-memory images - good to know.&#39;\r\n\r\nHere&#39;s a sample for completeness:\r\n\r\n    // initial zoom \r\n    x=2411 y=3080 zoom=13\r\n    x=2410 y=3080 zoom=13\r\n    x=2411 y=3081 zoom=13\r\n    x=2410 y=3081 zoom=13\r\n    x=2411 y=3079 zoom=13\r\n    x=2410 y=3079 zoom=13\r\n\r\nAnd at max:\r\n\r\n    x=9 y=12 zoom=5\r\n    x=8 y=12 zoom=5\r\n    x=9 y=11 zoom=5\r\n    x=8 y=11 zoom=5\r\n    x=8 y=13 zoom=5\r\n    x=9 y=13 zoom=5\r\n    x=7 y=12 zoom=5\r\n    x=7 y=11 zoom=5\r\n    x=7 y=13 zoom=5\r\n    x=8 y=10 zoom=5\r\n    x=9 y=10 zoom=5\r\n    x=7 y=10 zoom=5\r\n\r\nHere&#39;s a chart of the zooms (y-axis) at each invocation of tiler (x-axis).  Each zoom layer are _roughly_ the same count which imo is what is desired.  The full-out zoom appears twice as long because that&#39;s the midpoint repeating.  There are a few anomalies though which require explaining (e.g. at around 110).\r\n\r\nThis is a chart of &quot;zoom&quot; as logged by the tile provider.  So each x-axis point would represent a single tile fetch.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hhVKA.png","title":"Google Maps SDK for Android: Smoothly animating the camera to a new location, rendering all the tiles along the way","body":"<p>Here's my attempt using your utility frame player.</p>\n<p>A few notes:</p>\n<ul>\n<li>The zoom value is interpolated based on the total steps (set at 500 here) and given the start and stop values.</li>\n<li>A Google Maps utility is used to compute the next lat lng based on a fractional distance: <code>SphericalUtil.interpolate</code>.</li>\n<li>The fractional distance should not be a linear function to reduce the introduction of new tiles.  In other words, at higher zooms (closer in) the camera moves in shorter distances and the amount of camera movement increases exponentially (center-to-center) while zooming out.  This requires a bit more explanation...</li>\n<li>As you can see the traversal is split into two - reversing the exponential function of the distance movement.</li>\n<li>The &quot;max&quot; zoom (bad name) which is the furthest out can be a function of the total distance - computed to encompass the whole path at the midpoint.  For now it's hard coded to 4 for this case.</li>\n<li>Note the maps <code>animate</code> function <em>cannot</em> be used as it introduces its own bouncing ball effect <em>on each step</em> which is undesirable.  So given a fair number of steps the <code>move</code> function can be used.</li>\n<li>This method attempts to minimize tile loading per step but ultimately the TileLoader is the limiting factor for viewing which cannot monitored (easily).</li>\n</ul>\n<h1>animateCameraToPosition</h1>\n<pre><code>// flag to control the animate callback (at completion).\nboolean done = false;\n\nprivate void animateCameraToPosition(LatLng targetLatLng, float targetZoom) {\n    CameraPosition currPosition = gMap.getCameraPosition();\n    LatLng currLatLng = currPosition.target;\n\n    //meters_per_pixel = 156543.03392 * Math.cos(latLng.lat() * Math.PI / 180) / Math.pow(2, zoom)\n    int maxSteps = 500;\n    // number of steps between start and midpoint and midpoint and end\n    int stepsMid = maxSteps / 2;\n\n    // current zoom\n    float initz = currPosition.zoom;\n    //TODO maximum zoom (can be computed from overall distance) such that entire path\n    //     is visible at midpoint.\n    float maxz = 4.0f;\n    float finalz = targetZoom;\n\n    CameraUpdateAnimator animator = new CameraUpdateAnimator(gMap, () -&gt; {\n        if (!done) {\n            gMap.animateCamera(CameraUpdateFactory.\n                    zoomTo(targetZoom), 5000, null);\n        }\n        done = true;\n\n    });\n\n    // loop from start to midpoint\n\n    for (int i = 0; i &lt; stepsMid; i++) {\n        // compute interpolated zoom (current --&gt; max) (linear)\n        float z = initz - ((initz - maxz) / stepsMid) * i;\n\n        // Compute fractional distance using an exponential function such that for the first\n        // half the fraction delta advances slowly and accelerates toward midpoint.\n        double ff = (i * (Math.pow(2,maxz) / Math.pow(2,z))) / maxSteps;\n\n        LatLng nextLatLng =\n                SphericalUtil.interpolate(currLatLng, targetLatLng, ff);\n        animator.add(CameraUpdateFactory.newLatLngZoom(\n                nextLatLng, z), false, 0);\n    }\n\n    // loop from midpoint to final\n    for (int i = 0; i &lt; stepsMid; i++) {\n        // compute interpolated zoom (current --&gt; max) (linear)\n        float z = maxz + ((finalz - maxz) / stepsMid) * i;\n        double ff = (maxSteps - ((i+stepsMid) * ( (Math.pow(2,maxz) / Math.pow(2,z)) ))) / (double)maxSteps;\n\n        LatLng nextLatLng =\n                SphericalUtil.interpolate(currLatLng, targetLatLng, ff);\n\n        animator.add(CameraUpdateFactory.newLatLngZoom(\n                nextLatLng, z), false, 0);\n    }\n\n    animator.add(CameraUpdateFactory.newLatLngZoom(\n            targetLatLng, targetZoom), true, 0);\n\n    //\n\n    animator.execute();\n}\n</code></pre>\n<h1>Test Code</h1>\n<p>I tested with these two points (and code) from Statue Of Liberty to a point on the west coast:</p>\n<pre><code>gMap.moveCamera(CameraUpdateFactory.newLatLngZoom(new LatLng(40.68924, -74.04454), 13.0f));\n\nnew Handler().postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            animateCameraToPosition(new LatLng(33.899832, -118.020450), 13.0f);\n        }\n    }, 5000);\n</code></pre>\n<h1>CameraUpdateAnimator Mods</h1>\n<p>I modified the camera update animator slightly:</p>\n<pre><code>public void execute() {\n    mMap.setOnCameraIdleListener(this);\n    executeNext();\n}\n\nprivate void executeNext() {\n    if (cameraUpdates.isEmpty()) {\n        mMap.setOnCameraIdleListener(mOnCameraIdleListener);\n        mOnCameraIdleListener.onCameraIdle();\n    } else {\n        final Animation animation = cameraUpdates.remove(0);\n        // This optimization is likely unnecessary since I think the\n        // postDelayed does the same on a delay of 0 - execute immediately.\n        if (animation.mDelay &gt; 0) {\n            new Handler().postDelayed(() -&gt; {\n                if (animation.mAnimate) {\n                    mMap.animateCamera(animation.mCameraUpdate);\n                } else {\n                    mMap.moveCamera(animation.mCameraUpdate);\n                }\n            }, animation.mDelay);\n        } else {\n            if (animation.mAnimate) {\n                mMap.animateCamera(animation.mCameraUpdate);\n            } else {\n                mMap.moveCamera(animation.mCameraUpdate);\n            }\n        }\n    }\n}\n</code></pre>\n<h1>Before Sample</h1>\n<p>Using</p>\n<pre><code>// assume initial (40.68924, -74.04454) z=13.0f\ngMap.animateCamera(CameraUpdateFactory.newLatLngZoom(new LatLng(33.899832,-118.020450), 13.0f), 30000, null);\n</code></pre>\n<p><a href=\"https://i.imgur.com/1gtWXk5.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.imgur.com/1gtWXk5.gif\" width=\"200\" height=\"355\" title=\"500 Steps\"></a></p>\n<h1>After Samples</h1>\n<p><em>These are recorded from an emulator.  I also sideloaded onto my phone (Samsumg SM-G960U) with similar results (using 1000 steps 0 delay).</em></p>\n<p><em>So I don't think this meets your requirements entirely: there are some &quot;ambiguous tiles&quot; as they are brought in from the west.</em></p>\n<p>Statue of Liberty - to - somewhere near San Diego</p>\n<p>500 Steps 0 delay<br/> <a href=\"https://i.imgur.com/SSjK3T6.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.imgur.com/SSjK3T6.gif\" width=\"200\" height=\"355\" title=\"500 Steps\"></a></p>\n<p>100 Steps 0 delay<br/> <a href=\"https://i.imgur.com/NmE2bzg.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.imgur.com/NmE2bzg.gif\" width=\"200\" height=\"355\" title=\"100 Steps\"></a></p>\n<p>50 Steps 100MS delay<br/> <a href=\"https://i.imgur.com/XyIzeR3.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.imgur.com/XyIzeR3.gif\" width=\"200\" height=\"355\" title=\"100 Steps\"></a></p>\n<hr />\n<h1>Diagnostics</h1>\n<p>It is in some ways useful to have insight into what Maps is doing with tiles.  Insight can be provided by installing a simple <code>UrlTileProvider</code> and log the requests.  This implementation fetches the google tiles though they are lower resolution that is normally seen.</p>\n<p>To do this the following is required:</p>\n<pre><code>    // Turn off this base map and install diagnostic tile provider\n    gMap.setMapType(GoogleMap.MAP_TYPE_NONE);\n    gMap.addTileOverlay(new TileOverlayOptions().tileProvider(new MyTileProvider(256,256)).fadeIn(true));\n</code></pre>\n<p>And define the diagnostic file provider</p>\n<pre><code>public class MyTileProvider extends UrlTileProvider {\n\n    public MyTileProvider(int i, int i1) {\n        super(i, i1);\n    }\n\n    @Override\n    public URL getTileUrl(int x, int y, int zoom) {\n\n        Log.i(&quot;tiles&quot;,&quot;x=&quot;+x+&quot; y=&quot;+y+&quot; zoom=&quot;+zoom);\n\n        try {\n            return new URL(&quot;http://mt1.google.com/vt/lyrs=m&amp;x=&quot;+x+&quot;&amp;y=&quot;+y+&quot;&amp;z=&quot;+zoom);\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n            return null;\n        }\n\n    }\n}\n</code></pre>\n<p>You'll notice right away that tile layers are always defined in integral units (<code>int</code>).  The fractional zooms which are supplied in the zoom (e.g. <code>LatLngZoom</code> work strictly with the in-memory images - good to know.'</p>\n<p>Here's a sample for completeness:</p>\n<pre><code>// initial zoom \nx=2411 y=3080 zoom=13\nx=2410 y=3080 zoom=13\nx=2411 y=3081 zoom=13\nx=2410 y=3081 zoom=13\nx=2411 y=3079 zoom=13\nx=2410 y=3079 zoom=13\n</code></pre>\n<p>And at max:</p>\n<pre><code>x=9 y=12 zoom=5\nx=8 y=12 zoom=5\nx=9 y=11 zoom=5\nx=8 y=11 zoom=5\nx=8 y=13 zoom=5\nx=9 y=13 zoom=5\nx=7 y=12 zoom=5\nx=7 y=11 zoom=5\nx=7 y=13 zoom=5\nx=8 y=10 zoom=5\nx=9 y=10 zoom=5\nx=7 y=10 zoom=5\n</code></pre>\n<p>Here's a chart of the zooms (y-axis) at each invocation of tiler (x-axis).  Each zoom layer are <em>roughly</em> the same count which imo is what is desired.  The full-out zoom appears twice as long because that's the midpoint repeating.  There are a few anomalies though which require explaining (e.g. at around 110).</p>\n<p>This is a chart of &quot;zoom&quot; as logged by the tile provider.  So each x-axis point would represent a single tile fetch.</p>\n<p><a href=\"https://i.stack.imgur.com/hhVKA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hhVKA.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2124341,"reputation":794,"user_id":1886914,"accept_rate":50,"display_name":"Kenny83"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1557,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":69474443,"answer_count":1,"score":6,"last_activity_date":1633615366,"creation_date":1632499444,"question_id":69318061,"body_markdown":"### Background\r\nMany similar questions seem to have been asked on SO before (most notably https://stackoverflow.com/questions/58230401/android-google-maps-not-loading-the-map-when-using-googlemap-animatecamera and https://stackoverflow.com/questions/33837133/how-can-i-smoothly-pan-a-googlemap-in-android/33837696#33837696), but none of the answers or comments posted throughout those threads have given me a firm idea of how to do this.\r\n\r\nI initially thought that it would be as simple as just calling `animateCamera(CameraUpdateFactory.newLatLng(), duration, callback)` but like the OP of the first link above, all I get is a gray or very blurry map until the animation completes, **even if I slow it down to tens of seconds long!**\r\n\r\nI&#39;ve managed to find and implement [this helper class](https://github.com/antoniocarlon/MapUtils/blob/master/src/map/CameraUpdateAnimator.java) that does a nice job of allowing the tiles to render along the way, but even with a delay of 0, there is a noticeable lag between each animation.\r\n### Code\r\nOK, time for some code. Here&#39;s the (slightly-modified) helper class:\r\n```Java\r\npackage com.coopmeisterfresh.googlemaps.NativeModules;\r\n\r\nimport android.os.Handler;\r\n\r\nimport com.google.android.gms.maps.CameraUpdate;\r\nimport com.google.android.gms.maps.GoogleMap;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class CameraUpdateAnimator implements GoogleMap.OnCameraIdleListener {\r\n    private final GoogleMap mMap;\r\n    private final GoogleMap.OnCameraIdleListener mOnCameraIdleListener;\r\n\r\n    private final List&lt;Animation&gt; cameraUpdates = new ArrayList&lt;&gt;();\r\n\r\n    public CameraUpdateAnimator(GoogleMap map, GoogleMap.\r\n        OnCameraIdleListener onCameraIdleListener) {\r\n        mMap = map;\r\n        mOnCameraIdleListener = onCameraIdleListener;\r\n    }\r\n\r\n    public void add(CameraUpdate cameraUpdate, boolean animate, long delay) {\r\n        if (cameraUpdate != null) {\r\n            cameraUpdates.add(new Animation(cameraUpdate, animate, delay));\r\n        }\r\n    }\r\n\r\n    public void clear() {\r\n        cameraUpdates.clear();\r\n    }\r\n\r\n    public void execute() {\r\n        mMap.setOnCameraIdleListener(this);\r\n        executeNext();\r\n    }\r\n\r\n    private void executeNext() {\r\n        if (cameraUpdates.isEmpty()) {\r\n            mOnCameraIdleListener.onCameraIdle();\r\n        } else {\r\n            final Animation animation = cameraUpdates.remove(0);\r\n\r\n            new Handler().postDelayed(() -&gt; {\r\n                if (animation.mAnimate) {\r\n                    mMap.animateCamera(animation.mCameraUpdate);\r\n                } else {\r\n                    mMap.moveCamera(animation.mCameraUpdate);\r\n                }\r\n            }, animation.mDelay);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCameraIdle() {\r\n        executeNext();\r\n    }\r\n\r\n    private static class Animation {\r\n        private final CameraUpdate mCameraUpdate;\r\n        private final boolean mAnimate;\r\n        private final long mDelay;\r\n\r\n        public Animation(CameraUpdate cameraUpdate, boolean animate, long delay) {\r\n            mCameraUpdate = cameraUpdate;\r\n            mAnimate = animate;\r\n            mDelay = delay;\r\n        }\r\n    }\r\n}\r\n```\r\nAnd my code to implement it:\r\n```Java\r\n// This is actually a React Native Component class, but I doubt that should matter...?\r\npublic class NativeGoogleMap extends SimpleViewManager&lt;MapView&gt; implements\r\n    OnMapReadyCallback, OnRequestPermissionsResultCallback {\r\n\r\n    // ...Other unrelated methods removed for brevity\r\n\r\n    private void animateCameraToPosition(LatLng targetLatLng, float targetZoom) {\r\n        // googleMap is my GoogleMap instance variable; it\r\n        // gets properly initialised in another class method\r\n        CameraPosition currPosition = googleMap.getCameraPosition();\r\n        LatLng currLatLng = currPosition.target;\r\n        float currZoom = currPosition.zoom;\r\n\r\n        double latDelta = targetLatLng.latitude - currLatLng.latitude;\r\n        double lngDelta = targetLatLng.longitude - currLatLng.longitude;\r\n\r\n        double latInc = latDelta / 5;\r\n        double lngInc = lngDelta / 5;\r\n\r\n        float zoomInc = 0;\r\n        float minZoom = googleMap.getMinZoomLevel();\r\n        float maxZoom = googleMap.getMaxZoomLevel();\r\n\r\n        if (lngInc &gt; 15 &amp;&amp; currZoom &gt; minZoom) {\r\n            zoomInc = (minZoom - currZoom) / 5;\r\n        }\r\n\r\n        CameraUpdateAnimator animator = new CameraUpdateAnimator(googleMap,\r\n            () -&gt; googleMap.animateCamera(CameraUpdateFactory.zoomTo(\r\n            targetZoom), 5000, null));\r\n\r\n        for (double nextLat = currLatLng.latitude, nextLng = currLatLng.\r\n            longitude, nextZoom = currZoom; Math.abs(nextLng) &lt; Math.abs(\r\n            targetLatLng.longitude);) {\r\n            nextLat += latInc;\r\n            nextLng += lngInc;\r\n            nextZoom += zoomInc;\r\n\r\n            animator.add(CameraUpdateFactory.newLatLngZoom(new\r\n                LatLng(nextLat, nextLng), (float)nextZoom), true);\r\n        }\r\n\r\n        animator.execute();\r\n    }\r\n}\r\n```\r\n### Question\r\nIs there a better way to accomplish this seemingly-simple task? I&#39;m thinking that perhaps I need to move my animations to a worker thread or something; would that help?\r\n\r\nThanks for reading (I know it was an effort :P)!\r\n### Update 30/09/2021\r\nI&#39;ve updated the code above in line with Andy&#39;s suggestions in the comments and although it works (albeit with the same lag and rendering issues), the final algorithm will need to be a bit more complex since I want to zoom out to the longitudinal delta&#39;s half-way point, then back in as the journey continues.\r\n\r\nDoing all these calculations at once, as well as smoothly rendering all the necessary tiles **simultaneously**, seems to be way too much for the cheap mobile phone that I&#39;m testing on. Or is this a limitation of the API itself? In any case, how can I get all of this working **smoothly, without any lag whatsoever between queued animations?**","title":"Google Maps SDK for Android: Smoothly animating the camera to a new location, rendering all the tiles along the way","body":"<h3>Background</h3>\n<p>Many similar questions seem to have been asked on SO before (most notably <a href=\"https://stackoverflow.com/questions/58230401/android-google-maps-not-loading-the-map-when-using-googlemap-animatecamera\">android google maps not loading the map when using GoogleMap.AnimateCamera()</a> and <a href=\"https://stackoverflow.com/questions/33837133/how-can-i-smoothly-pan-a-googlemap-in-android/33837696#33837696\">How can I smoothly pan a GoogleMap in Android?</a>), but none of the answers or comments posted throughout those threads have given me a firm idea of how to do this.</p>\n<p>I initially thought that it would be as simple as just calling <code>animateCamera(CameraUpdateFactory.newLatLng(), duration, callback)</code> but like the OP of the first link above, all I get is a gray or very blurry map until the animation completes, <strong>even if I slow it down to tens of seconds long!</strong></p>\n<p>I've managed to find and implement <a href=\"https://github.com/antoniocarlon/MapUtils/blob/master/src/map/CameraUpdateAnimator.java\" rel=\"noreferrer\">this helper class</a> that does a nice job of allowing the tiles to render along the way, but even with a delay of 0, there is a noticeable lag between each animation.</p>\n<h3>Code</h3>\n<p>OK, time for some code. Here's the (slightly-modified) helper class:</p>\n<pre><code>package com.coopmeisterfresh.googlemaps.NativeModules;\n\nimport android.os.Handler;\n\nimport com.google.android.gms.maps.CameraUpdate;\nimport com.google.android.gms.maps.GoogleMap;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class CameraUpdateAnimator implements GoogleMap.OnCameraIdleListener {\n    private final GoogleMap mMap;\n    private final GoogleMap.OnCameraIdleListener mOnCameraIdleListener;\n\n    private final List&lt;Animation&gt; cameraUpdates = new ArrayList&lt;&gt;();\n\n    public CameraUpdateAnimator(GoogleMap map, GoogleMap.\n        OnCameraIdleListener onCameraIdleListener) {\n        mMap = map;\n        mOnCameraIdleListener = onCameraIdleListener;\n    }\n\n    public void add(CameraUpdate cameraUpdate, boolean animate, long delay) {\n        if (cameraUpdate != null) {\n            cameraUpdates.add(new Animation(cameraUpdate, animate, delay));\n        }\n    }\n\n    public void clear() {\n        cameraUpdates.clear();\n    }\n\n    public void execute() {\n        mMap.setOnCameraIdleListener(this);\n        executeNext();\n    }\n\n    private void executeNext() {\n        if (cameraUpdates.isEmpty()) {\n            mOnCameraIdleListener.onCameraIdle();\n        } else {\n            final Animation animation = cameraUpdates.remove(0);\n\n            new Handler().postDelayed(() -&gt; {\n                if (animation.mAnimate) {\n                    mMap.animateCamera(animation.mCameraUpdate);\n                } else {\n                    mMap.moveCamera(animation.mCameraUpdate);\n                }\n            }, animation.mDelay);\n        }\n    }\n\n    @Override\n    public void onCameraIdle() {\n        executeNext();\n    }\n\n    private static class Animation {\n        private final CameraUpdate mCameraUpdate;\n        private final boolean mAnimate;\n        private final long mDelay;\n\n        public Animation(CameraUpdate cameraUpdate, boolean animate, long delay) {\n            mCameraUpdate = cameraUpdate;\n            mAnimate = animate;\n            mDelay = delay;\n        }\n    }\n}\n</code></pre>\n<p>And my code to implement it:</p>\n<pre><code>// This is actually a React Native Component class, but I doubt that should matter...?\npublic class NativeGoogleMap extends SimpleViewManager&lt;MapView&gt; implements\n    OnMapReadyCallback, OnRequestPermissionsResultCallback {\n\n    // ...Other unrelated methods removed for brevity\n\n    private void animateCameraToPosition(LatLng targetLatLng, float targetZoom) {\n        // googleMap is my GoogleMap instance variable; it\n        // gets properly initialised in another class method\n        CameraPosition currPosition = googleMap.getCameraPosition();\n        LatLng currLatLng = currPosition.target;\n        float currZoom = currPosition.zoom;\n\n        double latDelta = targetLatLng.latitude - currLatLng.latitude;\n        double lngDelta = targetLatLng.longitude - currLatLng.longitude;\n\n        double latInc = latDelta / 5;\n        double lngInc = lngDelta / 5;\n\n        float zoomInc = 0;\n        float minZoom = googleMap.getMinZoomLevel();\n        float maxZoom = googleMap.getMaxZoomLevel();\n\n        if (lngInc &gt; 15 &amp;&amp; currZoom &gt; minZoom) {\n            zoomInc = (minZoom - currZoom) / 5;\n        }\n\n        CameraUpdateAnimator animator = new CameraUpdateAnimator(googleMap,\n            () -&gt; googleMap.animateCamera(CameraUpdateFactory.zoomTo(\n            targetZoom), 5000, null));\n\n        for (double nextLat = currLatLng.latitude, nextLng = currLatLng.\n            longitude, nextZoom = currZoom; Math.abs(nextLng) &lt; Math.abs(\n            targetLatLng.longitude);) {\n            nextLat += latInc;\n            nextLng += lngInc;\n            nextZoom += zoomInc;\n\n            animator.add(CameraUpdateFactory.newLatLngZoom(new\n                LatLng(nextLat, nextLng), (float)nextZoom), true);\n        }\n\n        animator.execute();\n    }\n}\n</code></pre>\n<h3>Question</h3>\n<p>Is there a better way to accomplish this seemingly-simple task? I'm thinking that perhaps I need to move my animations to a worker thread or something; would that help?</p>\n<p>Thanks for reading (I know it was an effort :P)!</p>\n<h3>Update 30/09/2021</h3>\n<p>I've updated the code above in line with Andy's suggestions in the comments and although it works (albeit with the same lag and rendering issues), the final algorithm will need to be a bit more complex since I want to zoom out to the longitudinal delta's half-way point, then back in as the journey continues.</p>\n<p>Doing all these calculations at once, as well as smoothly rendering all the necessary tiles <strong>simultaneously</strong>, seems to be way too much for the cheap mobile phone that I'm testing on. Or is this a limitation of the API itself? In any case, how can I get all of this working <strong>smoothly, without any lag whatsoever between queued animations?</strong></p>\n"},{"tags":["java","android","android-fragments","android-architecture-navigation","fragment-backstack"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1633494960,"post_id":69425822,"comment_id":122771368,"body_markdown":"In HomeFragment, what if you set the `isPopUpToInclusive` to `false` in `.setPopUpTo(R.id.nav_home, true).build()`.. I think setting it to true removes the home fragment from the back stack","body":"In HomeFragment, what if you set the <code>isPopUpToInclusive</code> to <code>false</code> in <code>.setPopUpTo(R.id.nav_home, true).build()</code>.. I think setting it to true removes the home fragment from the back stack"},{"owner":{"account_id":10358025,"reputation":2474,"user_id":7639296,"accept_rate":75,"display_name":"Dr Mido"},"score":0,"creation_date":1633517267,"post_id":69425822,"comment_id":122778905,"body_markdown":"@zain I tried false option but no change","body":"@zain I tried false option but no change"}],"answers":[{"tags":[],"owner":{"account_id":22796090,"reputation":26,"user_id":16949631,"display_name":"Roy Katz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633504710,"creation_date":1633504710,"answer_id":69461372,"question_id":69425822,"body_markdown":"you can try removing the fragment from the fragment manager like this:\r\n\r\n    Fragment fragmentByTag = getFragmentManager().\r\n                        findFragmentByTag(&quot;Old fragment tag&quot;);\r\n                if (fragmentByTag != null) {\r\n                    getFragmentManager().beginTransaction()\r\n                            .remove(fragmentByTag).commit();\r\n                }","title":"Navigate up from activity to fragment open the same fragment - Android Navigation Component","body":"<p>you can try removing the fragment from the fragment manager like this:</p>\n<pre><code>Fragment fragmentByTag = getFragmentManager().\n                    findFragmentByTag(&quot;Old fragment tag&quot;);\n            if (fragmentByTag != null) {\n                getFragmentManager().beginTransaction()\n                        .remove(fragmentByTag).commit();\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22386890,"reputation":31,"user_id":16599574,"display_name":"Shqipdon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633507293,"creation_date":1633507293,"answer_id":69461893,"question_id":69425822,"body_markdown":"**Why do you have to create another Activity?**\r\n\r\nThe default behaviour of the Navigation Component is to use one Activity and multiple Fragments.\r\n\r\nYou should create an adapter to show these datas on item and then implement on ItemClickListener interface to pass the selected item clicked from adapter to HomeFragment. From HomeFragment you can implement the interface and send the current clicked Item to DetailsFragment not DetailsActivity(which you have to change) , you can send it with args.\r\n\r\n**Do not use more than one Activity in the Navigation Component.**","title":"Navigate up from activity to fragment open the same fragment - Android Navigation Component","body":"<p><strong>Why do you have to create another Activity?</strong></p>\n<p>The default behaviour of the Navigation Component is to use one Activity and multiple Fragments.</p>\n<p>You should create an adapter to show these datas on item and then implement on ItemClickListener interface to pass the selected item clicked from adapter to HomeFragment. From HomeFragment you can implement the interface and send the current clicked Item to DetailsFragment not DetailsActivity(which you have to change) , you can send it with args.</p>\n<p><strong>Do not use more than one Activity in the Navigation Component.</strong></p>\n"},{"tags":[],"owner":{"account_id":4365428,"reputation":44,"user_id":4205927,"accept_rate":100,"display_name":"MML"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633614107,"creation_date":1633614107,"answer_id":69482291,"question_id":69425822,"body_markdown":"Try this solution \r\n&lt;br&gt;\r\n\r\n 1. Create new fragment `DetailsFragment` and move your code from `DetailsActivity` to it, &lt;br&gt; **Don&#39;t override `onSupportNavigateUp`**\r\n\r\n```\r\npublic class DetailsFragment extends Fragment {\r\n\r\n    private static final String TAG = &quot;DetailsFragment&quot;;\r\n\r\n    private FragmentDetailsBinding binding;\r\n\r\n    String url, title, content, youtubeThumbnailImageSrc, youTubeLink;\r\n    int youtubeThumbnailImageSetVisibility;\r\n    private PostViewModel postViewModel;\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull @NotNull View view, @Nullable @org.jetbrains.annotations.Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        postViewModel = new ViewModelProvider(this).get(PostViewModel.class);\r\n        Log.d(TAG, &quot;onCreate checkSavedFavoritesItems: &quot; + postFavoritesSavedId);\r\n\r\n\r\n        postItem = DetailsFragmentArgs.fromBundle(getArguments()).getPostItem();\r\n\r\n\r\n        final Document document = Jsoup.parse(postItem.getContent());\r\n//                    final Elements elements = document.select(&quot;img&quot;);\r\n\r\n        Element element = document.body();\r\n\r\n        for (Element e : element.getElementsByClass\r\n                (&quot;YOUTUBE-iframe-video&quot;)) {\r\n            youtubeThumbnailImageSrc = e.attr(&quot;data-thumbnail-src&quot;);\r\n            youTubeLink = e.attr(&quot;src&quot;);\r\n            Log.e(&quot;YouTube thumbnail&quot;, youtubeThumbnailImageSrc);\r\n            Log.e(&quot;Youtube link&quot;, youTubeLink);\r\n        }\r\n\r\n        if (youtubeThumbnailImageSrc == null) {\r\n            youtubeThumbnailImageSetVisibility = 8;\r\n        }\r\n\r\n        url = postItem.getUrl();\r\n        title = postItem.getTitle();\r\n        content = postItem.getContent();\r\n\r\n\r\n        //        blogImage = (ImageView) findViewById(R.id.blogImage);\r\n\r\n        setHasOptionsMenu(true);\r\n//        Objects.requireNonNull(getSupportActionBar()).setDisplayShowTitleEnabled(false);\r\n        Objects.requireNonNull( ((MainActivity) requireActivity())\r\n                .getSupportActionBar()).setDisplayHomeAsUpEnabled(true);\r\n//        getSupportActionBar().setDisplayShowHomeEnabled(true);\r\n\r\n        binding.progressBar.setVisibility(View.VISIBLE);\r\n\r\n        binding.titleTextView.setText(title);\r\n        binding.blogContent.setMovementMethod(LinkMovementMethod.getInstance());\r\n\r\n\r\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.LOLLIPOP) {\r\n            binding.fab.bringToFront();\r\n        }\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            binding.scrollView.setOnScrollChangeListener((v, scrollX, scrollY, oldScrollX, oldScrollY) -&gt; {\r\n                //   Log.d(&quot;ScrollView&quot;,&quot;scrollX_&quot;+scrollX+&quot;_scrollY_&quot;+scrollY+&quot;_oldScrollX_&quot;+oldScrollX+&quot;_oldScrollY_&quot;+oldScrollY);\r\n                if (scrollY &gt; 0 &amp;&amp; binding.fab.isShown()) {\r\n                    binding.fab.hide();\r\n                } else if (scrollY &lt; 22) {\r\n                    binding.fab.show();\r\n\r\n                }\r\n            });\r\n        } else {\r\n            binding.scrollView.getViewTreeObserver().addOnScrollChangedListener(() -&gt; {\r\n                int mScrollY = binding.scrollView.getScrollY();\r\n                if (mScrollY &gt; 0 &amp;&amp; binding.fab.isShown()) {\r\n                    binding.fab.hide();\r\n                } else if (mScrollY &lt; 22) {\r\n                    binding.fab.show();\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n        binding.fab.setOnClickListener(view2 -&gt; {\r\n            String shareContent = title + &quot;\\n&quot; + url;\r\n            Intent shareIntent = new Intent(Intent.ACTION_SEND);\r\n            shareIntent.setType(&quot;text/plain&quot;);\r\n            shareIntent.putExtra(Intent.EXTRA_TEXT, shareContent);\r\n            shareIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n\r\n            try {\r\n                startActivity(Intent.createChooser(shareIntent, title));\r\n            } catch (Exception exception) {\r\n                Log.e(TAG, &quot;onCreate: &quot; + exception);\r\n            }\r\n        });\r\n\r\n\r\n        //       String imageSrc = getIntent().getStringExtra(&quot;blogImage&quot;);\r\n        //       Glide.with(getApplicationContext()).load(imageSrc).into(blogImage);\r\n\r\n\r\n        binding.youtubeThumbnailImage.setVisibility(youtubeThumbnailImageSetVisibility);\r\n        binding.youtubeThumbnailImage.setAdjustViewBounds(true);\r\n        Picasso.get().load(youtubeThumbnailImageSrc).into(binding.youtubeThumbnailImage);\r\n\r\n        binding.youtubeThumbnailImage.setOnClickListener(view1 -&gt; {\r\n            Intent youTube = new Intent\r\n                    (Intent.ACTION_VIEW, Uri.parse(youTubeLink));\r\n            startActivity(youTube);\r\n        });\r\n\r\n\r\n        PicassoImageGetter imageGetter = new PicassoImageGetter(binding.blogContent, requireContext());\r\n        Spannable html;\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n            html = (Spannable) Html.fromHtml(content, Html.FROM_HTML_MODE_LEGACY, imageGetter, null);\r\n        } else {\r\n            html = (Spannable) Html.fromHtml(content, imageGetter, null);\r\n        }\r\n\r\n        binding.blogContent.setText(html);\r\n\r\n\r\n        binding.visitSite.setOnClickListener(view3 -&gt; openCustomTab(requireContext(), Uri.parse(url)));\r\n        binding.progressBar.setVisibility(View.GONE);\r\n    }\r\n\r\n    private Item postItem;\r\n    private boolean postFavoritesSaved = false;\r\n    private int postFavoritesSavedId = 0;\r\n    private MenuItem menuItem;\r\n\r\n    @Override\r\n    public View onCreateView(@NotNull LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        binding =  FragmentDetailsBinding.inflate(inflater, container, false);\r\n        return binding.getRoot();\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onCreateOptionsMenu(@NonNull Menu menu,\r\n                                    @NonNull MenuInflater inflater) {\r\n        super.onCreateOptionsMenu(menu, inflater);\r\n        inflater.inflate(R.menu.activity_details_menu, menu);\r\n        menuItem = menu.findItem(R.id.action_add_to_favorites);\r\n        checkSavedFavoritesItems(menuItem);\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        menuItem.setIcon(R.drawable.ic_favorite_border);\r\n    }\r\n\r\n    private void checkSavedFavoritesItems(MenuItem menuItem) {\r\n        postViewModel.getAllFavorites().observe(this, favoritesEntity -&gt; {\r\n            try {\r\n                for (FavoritesEntity savedPost: favoritesEntity) {\r\n                    if (savedPost.getItem().getId().equals(postItem.getId())) {\r\n                        menuItem.setIcon(R.drawable.ic_favorite);\r\n                        postFavoritesSavedId = savedPost.getId();\r\n                        Log.d(TAG, &quot;checkSavedFavoritesItems: &quot; + postFavoritesSavedId);\r\n                        postFavoritesSaved = true;\r\n                    }\r\n                }\r\n            } catch (Exception exception) {\r\n                Log.e(TAG, &quot;checkSavedFavoritesItems: &quot; + exception.getMessage());\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem menuItem) {\r\n\r\n        if (menuItem.getItemId() == R.id.action_add_to_favorites &amp;&amp; !postFavoritesSaved) {\r\n            saveTogFavorites(menuItem);\r\n        } else if (menuItem.getItemId() == R.id.action_add_to_favorites &amp;&amp; postFavoritesSaved) {\r\n            removePostFromFavorites(menuItem);\r\n        } else if (menuItem.getItemId() == R.id.action_share) {\r\n            ShareActionProvider shareActionProvider =\r\n                    (ShareActionProvider) MenuItemCompat.getActionProvider(menuItem);\r\n            shareActionProvider.setShareIntent(createShareIntent());\r\n            return true;\r\n        } else if (menuItem.getItemId() == R.id.copyTheLink) {\r\n            ClipboardManager clipboardManager = (ClipboardManager)\r\n                    requireActivity().getSystemService(Context.CLIPBOARD_SERVICE);\r\n            ClipData clipData = ClipData.newPlainText(&quot;link&quot;, url);\r\n            assert clipboardManager != null;\r\n            clipboardManager.setPrimaryClip(clipData);\r\n            Toast.makeText(requireContext(), getString(R.string.linkCopied), Toast.LENGTH_LONG).show();\r\n            return true;\r\n        }\r\n\r\n        return super.onOptionsItemSelected(menuItem);\r\n    }\r\n\r\n    private void saveTogFavorites(MenuItem menuItem) {\r\n        FavoritesEntity favoritesEntity = new FavoritesEntity(0,\r\n                postItem);\r\n\r\n        postViewModel.insertFavorites(favoritesEntity);\r\n        menuItem.setIcon(R.drawable.ic_favorite);\r\n        Snackbar.make(binding.getRoot(), &quot;Saved&quot;, Snackbar.LENGTH_LONG).show();\r\n        postFavoritesSaved = true;\r\n    }\r\n\r\n\r\n    private void removePostFromFavorites(MenuItem menuItem) {\r\n        FavoritesEntity favoritesEntity = new FavoritesEntity(postFavoritesSavedId,\r\n                postItem);\r\n\r\n        Log.d(TAG, &quot;checkSavedFavoritesItems: &quot; + postFavoritesSavedId);\r\n        postViewModel.deleteFavoritePost(favoritesEntity);\r\n        menuItem.setIcon(R.drawable.ic_favorite_border);\r\n        Snackbar.make(binding.getRoot(),\r\n                &quot;Post deleted from favorites&quot;, Snackbar.LENGTH_LONG).show();\r\n        postFavoritesSaved = false;\r\n    }\r\n```\r\n\r\n 2. add `DetailsFragment` to `nav_graph` and add argument to it `postItem` as Parcelable\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/mobile_navigation&quot;\r\n    app:startDestination=&quot;@id/nav_home&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_home&quot;\r\n        android:name=&quot;com.blogspot.abtallaldigital.ui.home.HomeFragment&quot;\r\n        android:label=&quot;@string/home&quot;\r\n        tools:layout=&quot;@layout/fragment_home&quot;&gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_nav_home_to_detailsFragment&quot;\r\n            app:destination=&quot;@id/detailsFragment&quot;\r\n            app:popUpTo=&quot;@id/nav_home&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_Accessory&quot;\r\n        android:name=&quot;com.blogspot.abtallaldigital.ui.accessory.AccessoryFragment&quot;\r\n        android:label=&quot;@string/accessory&quot;\r\n        tools:layout=&quot;@layout/fragment_accessory&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_nav_Accessory_to_detailsFragment&quot;\r\n            app:destination=&quot;@id/detailsFragment&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_Arcade&quot;\r\n        android:name=&quot;com.blogspot.abtallaldigital.ui.arcade.ArcadeFragment&quot;\r\n        android:label=&quot;@string/arcade&quot;\r\n        tools:layout=&quot;@layout/fragment_arcade&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_nav_Arcade_to_detailsFragment&quot;\r\n            app:destination=&quot;@id/detailsFragment&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_Fashion&quot;\r\n        android:name=&quot;com.blogspot.abtallaldigital.ui.fashion.FashionFragment&quot;\r\n        android:label=&quot;@string/fashion&quot;\r\n        tools:layout=&quot;@layout/fashion_fragment&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_nav_Fashion_to_detailsFragment&quot;\r\n            app:destination=&quot;@id/detailsFragment&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_Food&quot;\r\n        android:name=&quot;com.blogspot.abtallaldigital.ui.food.FoodFragment&quot;\r\n        android:label=&quot;@string/food&quot;\r\n        tools:layout=&quot;@layout/food_fragment&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_nav_Food_to_detailsFragment&quot;\r\n            app:destination=&quot;@id/detailsFragment&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_Heath&quot;\r\n        android:name=&quot;com.blogspot.abtallaldigital.ui.heath.HeathFragment&quot;\r\n        android:label=&quot;@string/heath&quot;\r\n        tools:layout=&quot;@layout/heath_fragment&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_nav_Heath_to_detailsFragment&quot;\r\n            app:destination=&quot;@id/detailsFragment&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_Lifestyle&quot;\r\n        android:name=&quot;com.blogspot.abtallaldigital.ui.lifestyle.LifestyleFragment&quot;\r\n        android:label=&quot;@string/lifestyle&quot;\r\n        tools:layout=&quot;@layout/lifestyle_fragment&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_nav_Lifestyle_to_detailsFragment&quot;\r\n            app:destination=&quot;@id/detailsFragment&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_Sports&quot;\r\n        android:name=&quot;com.blogspot.abtallaldigital.ui.sports.SportsFragment&quot;\r\n        android:label=&quot;@string/sports&quot;\r\n        tools:layout=&quot;@layout/sports_fragment&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_nav_Sports_to_detailsFragment&quot;\r\n            app:destination=&quot;@id/detailsFragment&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n    &lt;dialog\r\n        android:id=&quot;@+id/about&quot;\r\n        android:name=&quot;com.blogspot.abtallaldigital.ui.about.AboutFragment&quot;\r\n        android:label=&quot;about&quot;\r\n        tools:layout=&quot;@layout/about&quot; /&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/detailsFragment&quot;\r\n        android:name=&quot;com.blogspot.abtallaldigital.ui.DetailsFragment&quot;\r\n        android:label=&quot;Post details&quot;\r\n        tools:layout=&quot;@layout/fragment_details&quot; &gt;\r\n        &lt;argument\r\n            android:name=&quot;postItem&quot;\r\n            app:argType=&quot;com.blogspot.abtallaldigital.pojo.Item&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n&lt;/navigation&gt;\r\n```\r\n\r\n 3. Finally in HomeFragment write the navigation code with pass the parcelable item like this\r\n\r\n```\r\n@Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        navController = Navigation.findNavController(requireView());\r\n\r\n        binding.homeRecyclerView.addOnItemTouchListener(new RecyclerItemClickListener(requireContext(),\r\n                binding.homeRecyclerView, new RecyclerItemClickListener.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(View view, int position) {\r\n\r\n                Item item = itemArrayList.get(position);\r\n\r\n                if (Objects.requireNonNull(navController.getCurrentDestination()).getId() == R.id.nav_home) {\r\n                    Navigation.findNavController(requireView())\r\n                            .navigate(HomeFragmentDirections.actionNavHomeToDetailsFragment(item));\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onLongItemClick(View view, int position) {\r\n\r\n            }\r\n        }\r\n        ));\r\n    }\r\n```\r\n\r\nabout the toolbars issue you can choose either use the fragment custom toolbar or use the app theme toolbar not both, please let me know if soultion working","title":"Navigate up from activity to fragment open the same fragment - Android Navigation Component","body":"<p>Try this solution\n<br></p>\n<ol>\n<li>Create new fragment <code>DetailsFragment</code> and move your code from <code>DetailsActivity</code> to it, <br> <strong>Don't override <code>onSupportNavigateUp</code></strong></li>\n</ol>\n<pre><code>public class DetailsFragment extends Fragment {\n\n    private static final String TAG = &quot;DetailsFragment&quot;;\n\n    private FragmentDetailsBinding binding;\n\n    String url, title, content, youtubeThumbnailImageSrc, youTubeLink;\n    int youtubeThumbnailImageSetVisibility;\n    private PostViewModel postViewModel;\n\n    @Override\n    public void onViewCreated(@NonNull @NotNull View view, @Nullable @org.jetbrains.annotations.Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        postViewModel = new ViewModelProvider(this).get(PostViewModel.class);\n        Log.d(TAG, &quot;onCreate checkSavedFavoritesItems: &quot; + postFavoritesSavedId);\n\n\n        postItem = DetailsFragmentArgs.fromBundle(getArguments()).getPostItem();\n\n\n        final Document document = Jsoup.parse(postItem.getContent());\n//                    final Elements elements = document.select(&quot;img&quot;);\n\n        Element element = document.body();\n\n        for (Element e : element.getElementsByClass\n                (&quot;YOUTUBE-iframe-video&quot;)) {\n            youtubeThumbnailImageSrc = e.attr(&quot;data-thumbnail-src&quot;);\n            youTubeLink = e.attr(&quot;src&quot;);\n            Log.e(&quot;YouTube thumbnail&quot;, youtubeThumbnailImageSrc);\n            Log.e(&quot;Youtube link&quot;, youTubeLink);\n        }\n\n        if (youtubeThumbnailImageSrc == null) {\n            youtubeThumbnailImageSetVisibility = 8;\n        }\n\n        url = postItem.getUrl();\n        title = postItem.getTitle();\n        content = postItem.getContent();\n\n\n        //        blogImage = (ImageView) findViewById(R.id.blogImage);\n\n        setHasOptionsMenu(true);\n//        Objects.requireNonNull(getSupportActionBar()).setDisplayShowTitleEnabled(false);\n        Objects.requireNonNull( ((MainActivity) requireActivity())\n                .getSupportActionBar()).setDisplayHomeAsUpEnabled(true);\n//        getSupportActionBar().setDisplayShowHomeEnabled(true);\n\n        binding.progressBar.setVisibility(View.VISIBLE);\n\n        binding.titleTextView.setText(title);\n        binding.blogContent.setMovementMethod(LinkMovementMethod.getInstance());\n\n\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.LOLLIPOP) {\n            binding.fab.bringToFront();\n        }\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            binding.scrollView.setOnScrollChangeListener((v, scrollX, scrollY, oldScrollX, oldScrollY) -&gt; {\n                //   Log.d(&quot;ScrollView&quot;,&quot;scrollX_&quot;+scrollX+&quot;_scrollY_&quot;+scrollY+&quot;_oldScrollX_&quot;+oldScrollX+&quot;_oldScrollY_&quot;+oldScrollY);\n                if (scrollY &gt; 0 &amp;&amp; binding.fab.isShown()) {\n                    binding.fab.hide();\n                } else if (scrollY &lt; 22) {\n                    binding.fab.show();\n\n                }\n            });\n        } else {\n            binding.scrollView.getViewTreeObserver().addOnScrollChangedListener(() -&gt; {\n                int mScrollY = binding.scrollView.getScrollY();\n                if (mScrollY &gt; 0 &amp;&amp; binding.fab.isShown()) {\n                    binding.fab.hide();\n                } else if (mScrollY &lt; 22) {\n                    binding.fab.show();\n                }\n            });\n        }\n\n\n        binding.fab.setOnClickListener(view2 -&gt; {\n            String shareContent = title + &quot;\\n&quot; + url;\n            Intent shareIntent = new Intent(Intent.ACTION_SEND);\n            shareIntent.setType(&quot;text/plain&quot;);\n            shareIntent.putExtra(Intent.EXTRA_TEXT, shareContent);\n            shareIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\n\n            try {\n                startActivity(Intent.createChooser(shareIntent, title));\n            } catch (Exception exception) {\n                Log.e(TAG, &quot;onCreate: &quot; + exception);\n            }\n        });\n\n\n        //       String imageSrc = getIntent().getStringExtra(&quot;blogImage&quot;);\n        //       Glide.with(getApplicationContext()).load(imageSrc).into(blogImage);\n\n\n        binding.youtubeThumbnailImage.setVisibility(youtubeThumbnailImageSetVisibility);\n        binding.youtubeThumbnailImage.setAdjustViewBounds(true);\n        Picasso.get().load(youtubeThumbnailImageSrc).into(binding.youtubeThumbnailImage);\n\n        binding.youtubeThumbnailImage.setOnClickListener(view1 -&gt; {\n            Intent youTube = new Intent\n                    (Intent.ACTION_VIEW, Uri.parse(youTubeLink));\n            startActivity(youTube);\n        });\n\n\n        PicassoImageGetter imageGetter = new PicassoImageGetter(binding.blogContent, requireContext());\n        Spannable html;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n            html = (Spannable) Html.fromHtml(content, Html.FROM_HTML_MODE_LEGACY, imageGetter, null);\n        } else {\n            html = (Spannable) Html.fromHtml(content, imageGetter, null);\n        }\n\n        binding.blogContent.setText(html);\n\n\n        binding.visitSite.setOnClickListener(view3 -&gt; openCustomTab(requireContext(), Uri.parse(url)));\n        binding.progressBar.setVisibility(View.GONE);\n    }\n\n    private Item postItem;\n    private boolean postFavoritesSaved = false;\n    private int postFavoritesSavedId = 0;\n    private MenuItem menuItem;\n\n    @Override\n    public View onCreateView(@NotNull LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        binding =  FragmentDetailsBinding.inflate(inflater, container, false);\n        return binding.getRoot();\n    }\n\n\n    @Override\n    public void onCreateOptionsMenu(@NonNull Menu menu,\n                                    @NonNull MenuInflater inflater) {\n        super.onCreateOptionsMenu(menu, inflater);\n        inflater.inflate(R.menu.activity_details_menu, menu);\n        menuItem = menu.findItem(R.id.action_add_to_favorites);\n        checkSavedFavoritesItems(menuItem);\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        menuItem.setIcon(R.drawable.ic_favorite_border);\n    }\n\n    private void checkSavedFavoritesItems(MenuItem menuItem) {\n        postViewModel.getAllFavorites().observe(this, favoritesEntity -&gt; {\n            try {\n                for (FavoritesEntity savedPost: favoritesEntity) {\n                    if (savedPost.getItem().getId().equals(postItem.getId())) {\n                        menuItem.setIcon(R.drawable.ic_favorite);\n                        postFavoritesSavedId = savedPost.getId();\n                        Log.d(TAG, &quot;checkSavedFavoritesItems: &quot; + postFavoritesSavedId);\n                        postFavoritesSaved = true;\n                    }\n                }\n            } catch (Exception exception) {\n                Log.e(TAG, &quot;checkSavedFavoritesItems: &quot; + exception.getMessage());\n            }\n        });\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem menuItem) {\n\n        if (menuItem.getItemId() == R.id.action_add_to_favorites &amp;&amp; !postFavoritesSaved) {\n            saveTogFavorites(menuItem);\n        } else if (menuItem.getItemId() == R.id.action_add_to_favorites &amp;&amp; postFavoritesSaved) {\n            removePostFromFavorites(menuItem);\n        } else if (menuItem.getItemId() == R.id.action_share) {\n            ShareActionProvider shareActionProvider =\n                    (ShareActionProvider) MenuItemCompat.getActionProvider(menuItem);\n            shareActionProvider.setShareIntent(createShareIntent());\n            return true;\n        } else if (menuItem.getItemId() == R.id.copyTheLink) {\n            ClipboardManager clipboardManager = (ClipboardManager)\n                    requireActivity().getSystemService(Context.CLIPBOARD_SERVICE);\n            ClipData clipData = ClipData.newPlainText(&quot;link&quot;, url);\n            assert clipboardManager != null;\n            clipboardManager.setPrimaryClip(clipData);\n            Toast.makeText(requireContext(), getString(R.string.linkCopied), Toast.LENGTH_LONG).show();\n            return true;\n        }\n\n        return super.onOptionsItemSelected(menuItem);\n    }\n\n    private void saveTogFavorites(MenuItem menuItem) {\n        FavoritesEntity favoritesEntity = new FavoritesEntity(0,\n                postItem);\n\n        postViewModel.insertFavorites(favoritesEntity);\n        menuItem.setIcon(R.drawable.ic_favorite);\n        Snackbar.make(binding.getRoot(), &quot;Saved&quot;, Snackbar.LENGTH_LONG).show();\n        postFavoritesSaved = true;\n    }\n\n\n    private void removePostFromFavorites(MenuItem menuItem) {\n        FavoritesEntity favoritesEntity = new FavoritesEntity(postFavoritesSavedId,\n                postItem);\n\n        Log.d(TAG, &quot;checkSavedFavoritesItems: &quot; + postFavoritesSavedId);\n        postViewModel.deleteFavoritePost(favoritesEntity);\n        menuItem.setIcon(R.drawable.ic_favorite_border);\n        Snackbar.make(binding.getRoot(),\n                &quot;Post deleted from favorites&quot;, Snackbar.LENGTH_LONG).show();\n        postFavoritesSaved = false;\n    }\n</code></pre>\n<ol start=\"2\">\n<li>add <code>DetailsFragment</code> to <code>nav_graph</code> and add argument to it <code>postItem</code> as Parcelable</li>\n</ol>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/mobile_navigation&quot;\n    app:startDestination=&quot;@id/nav_home&quot;&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/nav_home&quot;\n        android:name=&quot;com.blogspot.abtallaldigital.ui.home.HomeFragment&quot;\n        android:label=&quot;@string/home&quot;\n        tools:layout=&quot;@layout/fragment_home&quot;&gt;\n        &lt;action\n            android:id=&quot;@+id/action_nav_home_to_detailsFragment&quot;\n            app:destination=&quot;@id/detailsFragment&quot;\n            app:popUpTo=&quot;@id/nav_home&quot; /&gt;\n    &lt;/fragment&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/nav_Accessory&quot;\n        android:name=&quot;com.blogspot.abtallaldigital.ui.accessory.AccessoryFragment&quot;\n        android:label=&quot;@string/accessory&quot;\n        tools:layout=&quot;@layout/fragment_accessory&quot; &gt;\n        &lt;action\n            android:id=&quot;@+id/action_nav_Accessory_to_detailsFragment&quot;\n            app:destination=&quot;@id/detailsFragment&quot; /&gt;\n    &lt;/fragment&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/nav_Arcade&quot;\n        android:name=&quot;com.blogspot.abtallaldigital.ui.arcade.ArcadeFragment&quot;\n        android:label=&quot;@string/arcade&quot;\n        tools:layout=&quot;@layout/fragment_arcade&quot; &gt;\n        &lt;action\n            android:id=&quot;@+id/action_nav_Arcade_to_detailsFragment&quot;\n            app:destination=&quot;@id/detailsFragment&quot; /&gt;\n    &lt;/fragment&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/nav_Fashion&quot;\n        android:name=&quot;com.blogspot.abtallaldigital.ui.fashion.FashionFragment&quot;\n        android:label=&quot;@string/fashion&quot;\n        tools:layout=&quot;@layout/fashion_fragment&quot; &gt;\n        &lt;action\n            android:id=&quot;@+id/action_nav_Fashion_to_detailsFragment&quot;\n            app:destination=&quot;@id/detailsFragment&quot; /&gt;\n    &lt;/fragment&gt;\n    &lt;fragment\n        android:id=&quot;@+id/nav_Food&quot;\n        android:name=&quot;com.blogspot.abtallaldigital.ui.food.FoodFragment&quot;\n        android:label=&quot;@string/food&quot;\n        tools:layout=&quot;@layout/food_fragment&quot; &gt;\n        &lt;action\n            android:id=&quot;@+id/action_nav_Food_to_detailsFragment&quot;\n            app:destination=&quot;@id/detailsFragment&quot; /&gt;\n    &lt;/fragment&gt;\n    &lt;fragment\n        android:id=&quot;@+id/nav_Heath&quot;\n        android:name=&quot;com.blogspot.abtallaldigital.ui.heath.HeathFragment&quot;\n        android:label=&quot;@string/heath&quot;\n        tools:layout=&quot;@layout/heath_fragment&quot; &gt;\n        &lt;action\n            android:id=&quot;@+id/action_nav_Heath_to_detailsFragment&quot;\n            app:destination=&quot;@id/detailsFragment&quot; /&gt;\n    &lt;/fragment&gt;\n    &lt;fragment\n        android:id=&quot;@+id/nav_Lifestyle&quot;\n        android:name=&quot;com.blogspot.abtallaldigital.ui.lifestyle.LifestyleFragment&quot;\n        android:label=&quot;@string/lifestyle&quot;\n        tools:layout=&quot;@layout/lifestyle_fragment&quot; &gt;\n        &lt;action\n            android:id=&quot;@+id/action_nav_Lifestyle_to_detailsFragment&quot;\n            app:destination=&quot;@id/detailsFragment&quot; /&gt;\n    &lt;/fragment&gt;\n    &lt;fragment\n        android:id=&quot;@+id/nav_Sports&quot;\n        android:name=&quot;com.blogspot.abtallaldigital.ui.sports.SportsFragment&quot;\n        android:label=&quot;@string/sports&quot;\n        tools:layout=&quot;@layout/sports_fragment&quot; &gt;\n        &lt;action\n            android:id=&quot;@+id/action_nav_Sports_to_detailsFragment&quot;\n            app:destination=&quot;@id/detailsFragment&quot; /&gt;\n    &lt;/fragment&gt;\n    &lt;dialog\n        android:id=&quot;@+id/about&quot;\n        android:name=&quot;com.blogspot.abtallaldigital.ui.about.AboutFragment&quot;\n        android:label=&quot;about&quot;\n        tools:layout=&quot;@layout/about&quot; /&gt;\n    &lt;fragment\n        android:id=&quot;@+id/detailsFragment&quot;\n        android:name=&quot;com.blogspot.abtallaldigital.ui.DetailsFragment&quot;\n        android:label=&quot;Post details&quot;\n        tools:layout=&quot;@layout/fragment_details&quot; &gt;\n        &lt;argument\n            android:name=&quot;postItem&quot;\n            app:argType=&quot;com.blogspot.abtallaldigital.pojo.Item&quot; /&gt;\n    &lt;/fragment&gt;\n&lt;/navigation&gt;\n</code></pre>\n<ol start=\"3\">\n<li>Finally in HomeFragment write the navigation code with pass the parcelable item like this</li>\n</ol>\n<pre><code>@Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        navController = Navigation.findNavController(requireView());\n\n        binding.homeRecyclerView.addOnItemTouchListener(new RecyclerItemClickListener(requireContext(),\n                binding.homeRecyclerView, new RecyclerItemClickListener.OnItemClickListener() {\n            @Override\n            public void onItemClick(View view, int position) {\n\n                Item item = itemArrayList.get(position);\n\n                if (Objects.requireNonNull(navController.getCurrentDestination()).getId() == R.id.nav_home) {\n                    Navigation.findNavController(requireView())\n                            .navigate(HomeFragmentDirections.actionNavHomeToDetailsFragment(item));\n                }\n\n            }\n\n            @Override\n            public void onLongItemClick(View view, int position) {\n\n            }\n        }\n        ));\n    }\n</code></pre>\n<p>about the toolbars issue you can choose either use the fragment custom toolbar or use the app theme toolbar not both, please let me know if soultion working</p>\n"}],"owner":{"account_id":10358025,"reputation":2474,"user_id":7639296,"accept_rate":75,"display_name":"Dr Mido"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1468,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1633614107,"creation_date":1633271625,"question_id":69425822,"body_markdown":"on this app, When I trying to navigate from `&quot;HomeFragment&quot;` to `&quot;DetailsActivity&quot;`then pressed back it&#39;s back to the same fragment and also the hamburger icon on click doesn&#39;t work\r\n\r\n&lt;a href=&quot;https://i.stack.imgur.com/8zzWl.jpg&quot;&gt;&lt;img src=&quot;https://i.imgur.com/4jYJTZE.gif&quot; title=&quot;source: imgur.com&quot; /&gt;&lt;/a&gt;\r\n\r\n**nav grpah**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/mobile_navigation&quot;\r\n    app:startDestination=&quot;@id/nav_home&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_home&quot;\r\n        android:name=&quot;com.blogspot.abtallaldigital.ui.home.HomeFragment&quot;\r\n        android:label=&quot;@string/home&quot;\r\n        tools:layout=&quot;@layout/fragment_home&quot;/&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_Accessory&quot;\r\n        android:name=&quot;com.blogspot.abtallaldigital.ui.accessory.AccessoryFragment&quot;\r\n        android:label=&quot;@string/accessory&quot;\r\n        tools:layout=&quot;@layout/fragment_accessory&quot; /&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_Arcade&quot;\r\n        android:name=&quot;com.blogspot.abtallaldigital.ui.arcade.ArcadeFragment&quot;\r\n        android:label=&quot;@string/arcade&quot;\r\n        tools:layout=&quot;@layout/fragment_arcade&quot; /&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_Fashion&quot;\r\n        android:name=&quot;com.blogspot.abtallaldigital.ui.fashion.FashionFragment&quot;\r\n        android:label=&quot;@string/fashion&quot;\r\n        tools:layout=&quot;@layout/fashion_fragment&quot; /&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_Food&quot;\r\n        android:name=&quot;com.blogspot.abtallaldigital.ui.food.FoodFragment&quot;\r\n        android:label=&quot;@string/food&quot;\r\n        tools:layout=&quot;@layout/food_fragment&quot; /&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_Heath&quot;\r\n        android:name=&quot;com.blogspot.abtallaldigital.ui.heath.HeathFragment&quot;\r\n        android:label=&quot;@string/heath&quot;\r\n        tools:layout=&quot;@layout/heath_fragment&quot; /&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_Lifestyle&quot;\r\n        android:name=&quot;com.blogspot.abtallaldigital.ui.lifestyle.LifestyleFragment&quot;\r\n        android:label=&quot;@string/lifestyle&quot;\r\n        tools:layout=&quot;@layout/lifestyle_fragment&quot; /&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_Sports&quot;\r\n        android:name=&quot;com.blogspot.abtallaldigital.ui.sports.SportsFragment&quot;\r\n        android:label=&quot;@string/sports&quot;\r\n        tools:layout=&quot;@layout/sports_fragment&quot; /&gt;\r\n    &lt;dialog\r\n        android:id=&quot;@+id/about&quot;\r\n        android:name=&quot;com.blogspot.abtallaldigital.ui.about.AboutFragment&quot;\r\n        android:label=&quot;about&quot;\r\n        tools:layout=&quot;@layout/about&quot; /&gt;\r\n    &lt;activity\r\n        android:id=&quot;@+id/detailsActivity&quot;\r\n        android:name=&quot;com.blogspot.abtallaldigital.ui.DetailsActivity&quot;\r\n        android:label=&quot;activity_details&quot;\r\n        tools:layout=&quot;@layout/activity_details&quot; /&gt;\r\n&lt;/navigation&gt;\r\n```\r\n\r\n**HomeFragment** navigtion code\r\n\r\n```\r\n@Override\r\n    public void onViewCreated(@NonNull @NotNull View view, @Nullable @org.jetbrains.annotations.Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        binding.homeRecyclerView.addOnItemTouchListener(new RecyclerItemClickListener(requireContext(),\r\n                binding.homeRecyclerView, new RecyclerItemClickListener.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(View view, int position) {\r\n\r\n                Item item = itemArrayList.get(position);\r\n                bundle.putParcelable(&quot;item&quot;,item);\r\n\r\n                Navigation.findNavController(requireView())\r\n                        .navigate(R.id.detailsActivity, bundle,\r\n                                new NavOptions.Builder()\r\n                                        .setPopUpTo(R.id.nav_home, true).build()\r\n                        );\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onLongItemClick(View view, int position) {\r\n\r\n            }\r\n        }\r\n        ));\r\n    }\r\n```\r\n\r\n**DetailsActivity**\r\n\r\n```\r\n@AndroidEntryPoint\r\npublic class DetailsActivity extends AppCompatActivity {\r\n\r\n    private static final String TAG = &quot;DetailsActivity&quot;;\r\n    private ActivityDetailsBinding binding;\r\n\r\n    String url, title, content, youtubeThumbnailImageSrc, youTubeLink;\r\n    int youtubeThumbnailImageSetVisibility;\r\n    private PostViewModel postViewModel;\r\n    private Item postItem;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityDetailsBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        postViewModel = new ViewModelProvider(this).get(PostViewModel.class);\r\n\r\n\r\n        postItem = getIntent().getParcelableExtra(&quot;item&quot;);\r\n\r\n\r\n        if (postItem != null) {\r\n\r\n            Log.d(TAG, &quot;onItemClick: item&quot; + postItem.getTitle());\r\n\r\n            final Document document = Jsoup.parse(postItem.getContent());\r\n//                    final Elements elements = document.select(&quot;img&quot;);\r\n\r\n\r\n            Element element = document.body();\r\n\r\n            for (Element e : element.getElementsByClass\r\n                    (&quot;YOUTUBE-iframe-video&quot;)) {\r\n                youtubeThumbnailImageSrc = e.attr(&quot;data-thumbnail-src&quot;);\r\n                youTubeLink = e.attr(&quot;src&quot;);\r\n                Log.e(&quot;YouTube thumbnail&quot;, youtubeThumbnailImageSrc);\r\n                Log.e(&quot;Youtube link&quot;, youTubeLink);\r\n            }\r\n\r\n            if (youtubeThumbnailImageSrc == null) {\r\n                youtubeThumbnailImageSetVisibility = 8;\r\n            }\r\n\r\n            url = postItem.getUrl();\r\n            title = postItem.getTitle();\r\n            content = postItem.getContent();\r\n\r\n\r\n        }\r\n\r\n\r\n//        blogImage = (ImageView) findViewById(R.id.blogImage);\r\n\r\n        setSupportActionBar(binding.toolbar);\r\n\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n        getSupportActionBar().setDisplayShowHomeEnabled(true);\r\n\r\n        binding.progressBar.setVisibility(View.VISIBLE);\r\n\r\n        binding.titleTextView.setText(title);\r\n        binding.blogContent.setMovementMethod(LinkMovementMethod.getInstance());\r\n\r\n\r\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.LOLLIPOP) {\r\n            binding.fab.bringToFront();\r\n        }\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            binding.scrollView.setOnScrollChangeListener((v, scrollX, scrollY, oldScrollX, oldScrollY) -&gt; {\r\n                //   Log.d(&quot;ScrollView&quot;,&quot;scrollX_&quot;+scrollX+&quot;_scrollY_&quot;+scrollY+&quot;_oldScrollX_&quot;+oldScrollX+&quot;_oldScrollY_&quot;+oldScrollY);\r\n                if (scrollY &gt; 0 &amp;&amp; binding.fab.isShown()) {\r\n                    binding.fab.hide();\r\n                } else if (scrollY &lt; 22) {\r\n                    binding.fab.show();\r\n\r\n                }\r\n            });\r\n        } else {\r\n            binding.scrollView.getViewTreeObserver().addOnScrollChangedListener(() -&gt; {\r\n                int mScrollY = binding.scrollView.getScrollY();\r\n                if (mScrollY &gt; 0 &amp;&amp; binding.fab.isShown()) {\r\n                    binding.fab.hide();\r\n                } else if (mScrollY &lt; 22) {\r\n                    binding.fab.show();\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n        binding.fab.setOnClickListener(view -&gt; {\r\n            String shareContent = title + &quot;\\n&quot; + url;\r\n            Intent shareIntent = new Intent(Intent.ACTION_SEND);\r\n            shareIntent.setType(&quot;text/plain&quot;);\r\n            shareIntent.putExtra(Intent.EXTRA_TEXT, shareContent);\r\n            shareIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n\r\n            try {\r\n                startActivity(Intent.createChooser(shareIntent, title));\r\n            } catch (Exception exception) {\r\n                Log.e(TAG, &quot;onCreate: &quot; + exception);\r\n            }\r\n        });\r\n\r\n\r\n        //       String imageSrc = getIntent().getStringExtra(&quot;blogImage&quot;);\r\n        //       Glide.with(getApplicationContext()).load(imageSrc).into(blogImage);\r\n\r\n\r\n        binding.youtubeThumbnailImage.setVisibility(youtubeThumbnailImageSetVisibility);\r\n        binding.youtubeThumbnailImage.setAdjustViewBounds(true);\r\n        Picasso.get().load(youtubeThumbnailImageSrc).into(binding.youtubeThumbnailImage);\r\n\r\n        binding.youtubeThumbnailImage.setOnClickListener(view -&gt; {\r\n            Intent youTube = new Intent\r\n                    (Intent.ACTION_VIEW, Uri.parse(youTubeLink));\r\n            startActivity(youTube);\r\n        });\r\n\r\n\r\n        PicassoImageGetter imageGetter = new PicassoImageGetter(binding.blogContent, this);\r\n        Spannable html;\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n            html = (Spannable) Html.fromHtml(content, Html.FROM_HTML_MODE_LEGACY, imageGetter, null);\r\n        } else {\r\n            html = (Spannable) Html.fromHtml(content, imageGetter, null);\r\n        }\r\n\r\n        binding.blogContent.setText(html);\r\n\r\n\r\n        binding.visitSite.setOnClickListener(view -&gt; openCustomTab(this, Uri.parse(url)));\r\n        binding.progressBar.setVisibility(View.GONE);\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.activity_details_menu, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n\r\n        if (item.getItemId() == R.id.action_add_to_favorites) {\r\n            saveTogFavorites(item);\r\n        } else if (item.getItemId() == R.id.action_share) {\r\n            ShareActionProvider shareActionProvider =\r\n                    (ShareActionProvider) MenuItemCompat.getActionProvider(item);\r\n            shareActionProvider.setShareIntent(createShareIntent());\r\n            return true;\r\n        } else if (item.getItemId() == R.id.copyTheLink) {\r\n            ClipboardManager clipboardManager = (ClipboardManager) getSystemService(CLIPBOARD_SERVICE);\r\n            ClipData clipData = ClipData.newPlainText(&quot;link&quot;, url);\r\n            clipboardManager.setPrimaryClip(clipData);\r\n            Toast.makeText(this, getString(R.string.linkCopied), Toast.LENGTH_LONG).show();\r\n            return true;\r\n        }\r\n\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    private void saveTogFavorites(MenuItem menuItem) {\r\n\r\n//        Bundle bundle = getIntent().getParcelableExtra(&quot;postList&quot;);\r\n\r\n\r\n        FavoritesEntity favoritesEntity = new FavoritesEntity(0,\r\n                postItem);\r\n\r\n        postViewModel.insertFavorites(favoritesEntity);\r\n        menuItem.setIcon(R.drawable.ic_favorite);\r\n\r\n        Snackbar.make(binding.getRoot(), &quot;Saved&quot;, Snackbar.LENGTH_LONG).show();\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean onSupportNavigateUp() {\r\n        onBackPressed();\r\n        return true;\r\n    }\r\n```\r\n\r\n**MainActivity**\r\n\r\n```\r\n\r\n@AndroidEntryPoint\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    private AppBarConfiguration mAppBarConfiguration;\r\n    public static Utils.DataStoreRepository DATA_STORE_REPOSITORY;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        ActivityMainBinding binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        DATA_STORE_REPOSITORY = new Utils.DataStoreRepository(this);\r\n\r\n        setSupportActionBar(binding.appBarMain.toolbar);\r\n        mAppBarConfiguration = new AppBarConfiguration.Builder(R.id.nav_home, R.id.nav_Accessory,\r\n                R.id.nav_Arcade, R.id.nav_Fashion,\r\n                R.id.nav_Food, R.id.nav_Heath,\r\n                R.id.nav_Lifestyle, R.id.nav_Sports, R.id.about)\r\n                .setOpenableLayout(binding.drawerLayout)\r\n                .build();\r\n\r\n\r\n        NavHostFragment navHostFragment = (NavHostFragment)\r\n                getSupportFragmentManager().findFragmentById(R.id.nav_host_fragment);\r\n\r\n        assert navHostFragment != null;\r\n        NavController navController = navHostFragment.getNavController();\r\n\r\n        NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\r\n        NavigationUI.setupWithNavController(binding.navView, navController);\r\n\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onSupportNavigateUp() {\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\r\n        return NavigationUI.navigateUp(navController, mAppBarConfiguration)\r\n                || super.onSupportNavigateUp();\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhile I searching for the solution of this issue, I saw the similar [question][1] and I use viewModel with `MutableLiveData` but not to handle the events\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/55539486/android-navigation-component-navigate-up-opens-the-same-fragment","title":"Navigate up from activity to fragment open the same fragment - Android Navigation Component","body":"<p>on this app, When I trying to navigate from <code>&quot;HomeFragment&quot;</code> to <code>&quot;DetailsActivity&quot;</code>then pressed back it's back to the same fragment and also the hamburger icon on click doesn't work</p>\n<p><a href=\"https://i.stack.imgur.com/8zzWl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.imgur.com/4jYJTZE.gif\" title=\"source: imgur.com\" /></a></p>\n<p><strong>nav grpah</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/mobile_navigation&quot;\n    app:startDestination=&quot;@id/nav_home&quot;&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/nav_home&quot;\n        android:name=&quot;com.blogspot.abtallaldigital.ui.home.HomeFragment&quot;\n        android:label=&quot;@string/home&quot;\n        tools:layout=&quot;@layout/fragment_home&quot;/&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/nav_Accessory&quot;\n        android:name=&quot;com.blogspot.abtallaldigital.ui.accessory.AccessoryFragment&quot;\n        android:label=&quot;@string/accessory&quot;\n        tools:layout=&quot;@layout/fragment_accessory&quot; /&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/nav_Arcade&quot;\n        android:name=&quot;com.blogspot.abtallaldigital.ui.arcade.ArcadeFragment&quot;\n        android:label=&quot;@string/arcade&quot;\n        tools:layout=&quot;@layout/fragment_arcade&quot; /&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/nav_Fashion&quot;\n        android:name=&quot;com.blogspot.abtallaldigital.ui.fashion.FashionFragment&quot;\n        android:label=&quot;@string/fashion&quot;\n        tools:layout=&quot;@layout/fashion_fragment&quot; /&gt;\n    &lt;fragment\n        android:id=&quot;@+id/nav_Food&quot;\n        android:name=&quot;com.blogspot.abtallaldigital.ui.food.FoodFragment&quot;\n        android:label=&quot;@string/food&quot;\n        tools:layout=&quot;@layout/food_fragment&quot; /&gt;\n    &lt;fragment\n        android:id=&quot;@+id/nav_Heath&quot;\n        android:name=&quot;com.blogspot.abtallaldigital.ui.heath.HeathFragment&quot;\n        android:label=&quot;@string/heath&quot;\n        tools:layout=&quot;@layout/heath_fragment&quot; /&gt;\n    &lt;fragment\n        android:id=&quot;@+id/nav_Lifestyle&quot;\n        android:name=&quot;com.blogspot.abtallaldigital.ui.lifestyle.LifestyleFragment&quot;\n        android:label=&quot;@string/lifestyle&quot;\n        tools:layout=&quot;@layout/lifestyle_fragment&quot; /&gt;\n    &lt;fragment\n        android:id=&quot;@+id/nav_Sports&quot;\n        android:name=&quot;com.blogspot.abtallaldigital.ui.sports.SportsFragment&quot;\n        android:label=&quot;@string/sports&quot;\n        tools:layout=&quot;@layout/sports_fragment&quot; /&gt;\n    &lt;dialog\n        android:id=&quot;@+id/about&quot;\n        android:name=&quot;com.blogspot.abtallaldigital.ui.about.AboutFragment&quot;\n        android:label=&quot;about&quot;\n        tools:layout=&quot;@layout/about&quot; /&gt;\n    &lt;activity\n        android:id=&quot;@+id/detailsActivity&quot;\n        android:name=&quot;com.blogspot.abtallaldigital.ui.DetailsActivity&quot;\n        android:label=&quot;activity_details&quot;\n        tools:layout=&quot;@layout/activity_details&quot; /&gt;\n&lt;/navigation&gt;\n</code></pre>\n<p><strong>HomeFragment</strong> navigtion code</p>\n<pre><code>@Override\n    public void onViewCreated(@NonNull @NotNull View view, @Nullable @org.jetbrains.annotations.Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        binding.homeRecyclerView.addOnItemTouchListener(new RecyclerItemClickListener(requireContext(),\n                binding.homeRecyclerView, new RecyclerItemClickListener.OnItemClickListener() {\n            @Override\n            public void onItemClick(View view, int position) {\n\n                Item item = itemArrayList.get(position);\n                bundle.putParcelable(&quot;item&quot;,item);\n\n                Navigation.findNavController(requireView())\n                        .navigate(R.id.detailsActivity, bundle,\n                                new NavOptions.Builder()\n                                        .setPopUpTo(R.id.nav_home, true).build()\n                        );\n\n            }\n\n            @Override\n            public void onLongItemClick(View view, int position) {\n\n            }\n        }\n        ));\n    }\n</code></pre>\n<p><strong>DetailsActivity</strong></p>\n<pre><code>@AndroidEntryPoint\npublic class DetailsActivity extends AppCompatActivity {\n\n    private static final String TAG = &quot;DetailsActivity&quot;;\n    private ActivityDetailsBinding binding;\n\n    String url, title, content, youtubeThumbnailImageSrc, youTubeLink;\n    int youtubeThumbnailImageSetVisibility;\n    private PostViewModel postViewModel;\n    private Item postItem;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityDetailsBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        postViewModel = new ViewModelProvider(this).get(PostViewModel.class);\n\n\n        postItem = getIntent().getParcelableExtra(&quot;item&quot;);\n\n\n        if (postItem != null) {\n\n            Log.d(TAG, &quot;onItemClick: item&quot; + postItem.getTitle());\n\n            final Document document = Jsoup.parse(postItem.getContent());\n//                    final Elements elements = document.select(&quot;img&quot;);\n\n\n            Element element = document.body();\n\n            for (Element e : element.getElementsByClass\n                    (&quot;YOUTUBE-iframe-video&quot;)) {\n                youtubeThumbnailImageSrc = e.attr(&quot;data-thumbnail-src&quot;);\n                youTubeLink = e.attr(&quot;src&quot;);\n                Log.e(&quot;YouTube thumbnail&quot;, youtubeThumbnailImageSrc);\n                Log.e(&quot;Youtube link&quot;, youTubeLink);\n            }\n\n            if (youtubeThumbnailImageSrc == null) {\n                youtubeThumbnailImageSetVisibility = 8;\n            }\n\n            url = postItem.getUrl();\n            title = postItem.getTitle();\n            content = postItem.getContent();\n\n\n        }\n\n\n//        blogImage = (ImageView) findViewById(R.id.blogImage);\n\n        setSupportActionBar(binding.toolbar);\n\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n        getSupportActionBar().setDisplayShowHomeEnabled(true);\n\n        binding.progressBar.setVisibility(View.VISIBLE);\n\n        binding.titleTextView.setText(title);\n        binding.blogContent.setMovementMethod(LinkMovementMethod.getInstance());\n\n\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.LOLLIPOP) {\n            binding.fab.bringToFront();\n        }\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            binding.scrollView.setOnScrollChangeListener((v, scrollX, scrollY, oldScrollX, oldScrollY) -&gt; {\n                //   Log.d(&quot;ScrollView&quot;,&quot;scrollX_&quot;+scrollX+&quot;_scrollY_&quot;+scrollY+&quot;_oldScrollX_&quot;+oldScrollX+&quot;_oldScrollY_&quot;+oldScrollY);\n                if (scrollY &gt; 0 &amp;&amp; binding.fab.isShown()) {\n                    binding.fab.hide();\n                } else if (scrollY &lt; 22) {\n                    binding.fab.show();\n\n                }\n            });\n        } else {\n            binding.scrollView.getViewTreeObserver().addOnScrollChangedListener(() -&gt; {\n                int mScrollY = binding.scrollView.getScrollY();\n                if (mScrollY &gt; 0 &amp;&amp; binding.fab.isShown()) {\n                    binding.fab.hide();\n                } else if (mScrollY &lt; 22) {\n                    binding.fab.show();\n                }\n            });\n        }\n\n\n        binding.fab.setOnClickListener(view -&gt; {\n            String shareContent = title + &quot;\\n&quot; + url;\n            Intent shareIntent = new Intent(Intent.ACTION_SEND);\n            shareIntent.setType(&quot;text/plain&quot;);\n            shareIntent.putExtra(Intent.EXTRA_TEXT, shareContent);\n            shareIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\n\n            try {\n                startActivity(Intent.createChooser(shareIntent, title));\n            } catch (Exception exception) {\n                Log.e(TAG, &quot;onCreate: &quot; + exception);\n            }\n        });\n\n\n        //       String imageSrc = getIntent().getStringExtra(&quot;blogImage&quot;);\n        //       Glide.with(getApplicationContext()).load(imageSrc).into(blogImage);\n\n\n        binding.youtubeThumbnailImage.setVisibility(youtubeThumbnailImageSetVisibility);\n        binding.youtubeThumbnailImage.setAdjustViewBounds(true);\n        Picasso.get().load(youtubeThumbnailImageSrc).into(binding.youtubeThumbnailImage);\n\n        binding.youtubeThumbnailImage.setOnClickListener(view -&gt; {\n            Intent youTube = new Intent\n                    (Intent.ACTION_VIEW, Uri.parse(youTubeLink));\n            startActivity(youTube);\n        });\n\n\n        PicassoImageGetter imageGetter = new PicassoImageGetter(binding.blogContent, this);\n        Spannable html;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n            html = (Spannable) Html.fromHtml(content, Html.FROM_HTML_MODE_LEGACY, imageGetter, null);\n        } else {\n            html = (Spannable) Html.fromHtml(content, imageGetter, null);\n        }\n\n        binding.blogContent.setText(html);\n\n\n        binding.visitSite.setOnClickListener(view -&gt; openCustomTab(this, Uri.parse(url)));\n        binding.progressBar.setVisibility(View.GONE);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.activity_details_menu, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n\n        if (item.getItemId() == R.id.action_add_to_favorites) {\n            saveTogFavorites(item);\n        } else if (item.getItemId() == R.id.action_share) {\n            ShareActionProvider shareActionProvider =\n                    (ShareActionProvider) MenuItemCompat.getActionProvider(item);\n            shareActionProvider.setShareIntent(createShareIntent());\n            return true;\n        } else if (item.getItemId() == R.id.copyTheLink) {\n            ClipboardManager clipboardManager = (ClipboardManager) getSystemService(CLIPBOARD_SERVICE);\n            ClipData clipData = ClipData.newPlainText(&quot;link&quot;, url);\n            clipboardManager.setPrimaryClip(clipData);\n            Toast.makeText(this, getString(R.string.linkCopied), Toast.LENGTH_LONG).show();\n            return true;\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n\n    private void saveTogFavorites(MenuItem menuItem) {\n\n//        Bundle bundle = getIntent().getParcelableExtra(&quot;postList&quot;);\n\n\n        FavoritesEntity favoritesEntity = new FavoritesEntity(0,\n                postItem);\n\n        postViewModel.insertFavorites(favoritesEntity);\n        menuItem.setIcon(R.drawable.ic_favorite);\n\n        Snackbar.make(binding.getRoot(), &quot;Saved&quot;, Snackbar.LENGTH_LONG).show();\n\n\n    }\n\n    @Override\n    public boolean onSupportNavigateUp() {\n        onBackPressed();\n        return true;\n    }\n</code></pre>\n<p><strong>MainActivity</strong></p>\n<pre><code>\n@AndroidEntryPoint\npublic class MainActivity extends AppCompatActivity {\n\n    @SuppressWarnings(&quot;unused&quot;)\n    private AppBarConfiguration mAppBarConfiguration;\n    public static Utils.DataStoreRepository DATA_STORE_REPOSITORY;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        ActivityMainBinding binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        DATA_STORE_REPOSITORY = new Utils.DataStoreRepository(this);\n\n        setSupportActionBar(binding.appBarMain.toolbar);\n        mAppBarConfiguration = new AppBarConfiguration.Builder(R.id.nav_home, R.id.nav_Accessory,\n                R.id.nav_Arcade, R.id.nav_Fashion,\n                R.id.nav_Food, R.id.nav_Heath,\n                R.id.nav_Lifestyle, R.id.nav_Sports, R.id.about)\n                .setOpenableLayout(binding.drawerLayout)\n                .build();\n\n\n        NavHostFragment navHostFragment = (NavHostFragment)\n                getSupportFragmentManager().findFragmentById(R.id.nav_host_fragment);\n\n        assert navHostFragment != null;\n        NavController navController = navHostFragment.getNavController();\n\n        NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\n        NavigationUI.setupWithNavController(binding.navView, navController);\n\n\n    }\n\n\n    @Override\n    public boolean onSupportNavigateUp() {\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\n        return NavigationUI.navigateUp(navController, mAppBarConfiguration)\n                || super.onSupportNavigateUp();\n    }\n\n}\n</code></pre>\n<p>While I searching for the solution of this issue, I saw the similar <a href=\"https://stackoverflow.com/questions/55539486/android-navigation-component-navigate-up-opens-the-same-fragment\">question</a> and I use viewModel with <code>MutableLiveData</code> but not to handle the events</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1633609585,"post_id":69481060,"comment_id":122808775,"body_markdown":"I don&#39;t know what you mean by &quot;raw code&quot; but since `collection.add` is expecting a `GrantedAuthority`, and `GrantedAuthority` has a single abstract method, the function defined by the lambda is inferred to be `GrantedAuthority::getAuthority`. i.e. the thing you&#39;re adding to that collection is a granted authority which always returns the role key of `user`, where `user` is presumably a field of this class (since you have haven&#39;t provided the definition)","body":"I don&#39;t know what you mean by &quot;raw code&quot; but since <code>collection.add</code> is expecting a <code>GrantedAuthority</code>, and <code>GrantedAuthority</code> has a single abstract method, the function defined by the lambda is inferred to be <code>GrantedAuthority::getAuthority</code>. i.e. the thing you&#39;re adding to that collection is a granted authority which always returns the role key of <code>user</code>, where <code>user</code> is presumably a field of this class (since you have haven&#39;t provided the definition)"}],"answers":[{"tags":[],"owner":{"account_id":22699957,"reputation":102,"user_id":16867530,"display_name":"nurmanbetov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633611029,"creation_date":1633609652,"answer_id":69481147,"question_id":69481060,"body_markdown":"There are some types of lambda expressions:\r\n\r\n 1. (int x, int y) -&gt; { return x + y; } \r\n 2. x -&gt; x * x\r\n 3. ( ) -&gt; x\r\n\r\nSo, your case is third one. It is used when you get no parameters as a method arguments and return a value. In your example, it just returns the value of `user.getRole().getKey());` and it added to the `Collection&lt;GrantedAuthority&gt;`","title":"How can rewrite about this java lambda expression?","body":"<p>There are some types of lambda expressions:</p>\n<ol>\n<li>(int x, int y) -&gt; { return x + y; }</li>\n<li>x -&gt; x * x</li>\n<li>( ) -&gt; x</li>\n</ol>\n<p>So, your case is third one. It is used when you get no parameters as a method arguments and return a value. In your example, it just returns the value of <code>user.getRole().getKey());</code> and it added to the <code>Collection&lt;GrantedAuthority&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633611422,"creation_date":1633611102,"answer_id":69481529,"question_id":69481060,"body_markdown":"The code is hard to follow because the collection is supposed to be a collection of `GrantedAuthority` objects. A `GrantedAuthority` is a single method `interface` with a `getAuthority()` function - https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/GrantedAuthority.html#getAuthority() \r\n\r\nSo what the code is trying to do here is create a single element collection with a `GrantedAuthority` whose `getAuthority` method returns the value of `user.getRole().getKey()` - whatever that happens to be in this context.\r\n\r\nYou might find it easier to think of there being a single-use class here:\r\n\r\n```\r\nGrantedAuthority theOneAuthority = new GrantedAuthority() {\r\n   String getAuthority() {\r\n      return user.getRole().getKey();\r\n   }\r\n}\r\nreturn List.of(theOneAuthority); // a single entry list\r\n```\r\n\r\nTo understand the above, however, you&#39;d need to understand the concept of an anonymous inner class - in other words a temporary type whose job it is to subclass an interface or other class to do something a particular method wants us to do.\r\n\r\nIn this instance, a lambda is a better alternative.\r\n\r\n```\r\n// as there&#39;s only one method, taking 0 parameters and returning string\r\n// then this 0 parameter string-returning lambda can BE a `GrantedAuthority`\r\nGrantedAuthority authFromLambda = () -&gt; user.getRole().getKey();\r\n```","title":"How can rewrite about this java lambda expression?","body":"<p>The code is hard to follow because the collection is supposed to be a collection of <code>GrantedAuthority</code> objects. A <code>GrantedAuthority</code> is a single method <code>interface</code> with a <code>getAuthority()</code> function - <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/GrantedAuthority.html#getAuthority()\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/GrantedAuthority.html#getAuthority()</a></p>\n<p>So what the code is trying to do here is create a single element collection with a <code>GrantedAuthority</code> whose <code>getAuthority</code> method returns the value of <code>user.getRole().getKey()</code> - whatever that happens to be in this context.</p>\n<p>You might find it easier to think of there being a single-use class here:</p>\n<pre><code>GrantedAuthority theOneAuthority = new GrantedAuthority() {\n   String getAuthority() {\n      return user.getRole().getKey();\n   }\n}\nreturn List.of(theOneAuthority); // a single entry list\n</code></pre>\n<p>To understand the above, however, you'd need to understand the concept of an anonymous inner class - in other words a temporary type whose job it is to subclass an interface or other class to do something a particular method wants us to do.</p>\n<p>In this instance, a lambda is a better alternative.</p>\n<pre><code>// as there's only one method, taking 0 parameters and returning string\n// then this 0 parameter string-returning lambda can BE a `GrantedAuthority`\nGrantedAuthority authFromLambda = () -&gt; user.getRole().getKey();\n</code></pre>\n"}],"owner":{"account_id":20018055,"reputation":86,"user_id":14673587,"display_name":"JB P"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1633613884,"accepted_answer_id":69481529,"answer_count":2,"score":0,"last_activity_date":1633614096,"creation_date":1633609303,"question_id":69481060,"body_markdown":"Currently I learn Springboot.\r\n\r\n```\r\n\t@Override\r\n\tpublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n\t\tCollection&lt;GrantedAuthority&gt; collection = new ArrayList&lt;GrantedAuthority&gt;();\r\n\t\tcollection.add(()-&gt; user.getRole().getKey());\r\n\t\treturn collection;\r\n\t}\r\n```\r\n\r\nIn this code \r\n```\r\ncollection.add(()-&gt; user.getRole().getKey());\r\n```\r\nI know this is lambda expression but I don&#39;t get raw code.\r\nThis is not my code.\r\nCould you let me know the raw code?","title":"How can rewrite about this java lambda expression?","body":"<p>Currently I learn Springboot.</p>\n<pre><code>    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        Collection&lt;GrantedAuthority&gt; collection = new ArrayList&lt;GrantedAuthority&gt;();\n        collection.add(()-&gt; user.getRole().getKey());\n        return collection;\n    }\n</code></pre>\n<p>In this code</p>\n<pre><code>collection.add(()-&gt; user.getRole().getKey());\n</code></pre>\n<p>I know this is lambda expression but I don't get raw code.\nThis is not my code.\nCould you let me know the raw code?</p>\n"},{"tags":["java","python","oracle","ui-automation","build-automation"],"comments":[{"owner":{"account_id":99309,"reputation":136264,"user_id":1832058,"display_name":"furas"},"score":1,"creation_date":1594792343,"post_id":62905879,"comment_id":111246258,"body_markdown":"if it use network connection then you can try to catch this connection, analyze it and create code which works the same - but it is hard work (`reverse engineering`). If you have GUI then you can use modules like [PyAutoGUI](https://pyautogui.readthedocs.io/en/latest/) to control mouse/keyboard and automatically click elements in GUI.","body":"if it use network connection then you can try to catch this connection, analyze it and create code which works the same - but it is hard work (<code>reverse engineering</code>). If you have GUI then you can use modules like <a href=\"https://pyautogui.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">PyAutoGUI</a> to control mouse/keyboard and automatically click elements in GUI."},{"owner":{"account_id":6156402,"reputation":83,"user_id":4799263,"display_name":"Turquase"},"score":1,"creation_date":1594820821,"post_id":62905879,"comment_id":111260846,"body_markdown":"You may ask to development team for the DB queries they use with API so that will help you run them with your excel. Even a small application would work out for you to read excel, send over query, and get the results.","body":"You may ask to development team for the DB queries they use with API so that will help you run them with your excel. Even a small application would work out for you to read excel, send over query, and get the results."}],"answers":[{"tags":[],"owner":{"account_id":22970306,"reputation":1,"user_id":17098794,"display_name":"Keith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633613325,"creation_date":1633613325,"answer_id":69482083,"question_id":62905879,"body_markdown":"The GUI (Oracle forms) does have it&#39;s limitations regardless of the ISV. Virtual Trader does have MJ Import to take spreadsheets or speak to them about providing REST API. Oracle ORDS has opened up a lot of opportunities for REST API&#39;s to be quickly developed and is free with the Database license. An alternative is to use a 3rd party like More4Apps to take Excel directly into the MJ Interface and kick off the import.","title":"Interaction with a non-Web Application with an API (Virtual Trader Specifically)","body":"<p>The GUI (Oracle forms) does have it's limitations regardless of the ISV. Virtual Trader does have MJ Import to take spreadsheets or speak to them about providing REST API. Oracle ORDS has opened up a lot of opportunities for REST API's to be quickly developed and is free with the Database license. An alternative is to use a 3rd party like More4Apps to take Excel directly into the MJ Interface and kick off the import.</p>\n"}],"owner":{"account_id":14370996,"reputation":900,"user_id":10380766,"display_name":"Hofbr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633613325,"creation_date":1594773190,"question_id":62905879,"body_markdown":"**TL;DR When an API is not available what resources does a programmer have to manipulate an application programmatically?**\r\n\r\nThe company I work for uses an application called [Virtual Trader][1] to help automate inter-company transactions. I&#39;m still learning a lot about it, but best I understand it so far its a 3rd party application that is installed on top of the Oracle database.\r\n\r\nEssentially, my question is when an API is not available what resources does a programmer have to manipulate an application programmatically?\r\n\r\nEssentially, the GUI is extremely tedious for logging journal entries. So much so , that we assemble all the formulas we need in an excel document and painfully copy and paste them as we put the automation into &quot;production&quot;.\r\n\r\nSo from a high level, how could I go about getting started just trying to manipulate VT without an API? Is there a general approach to this kind of problem?\r\n\r\n\r\n  [1]: https://www.virtualtrader.com/about","title":"Interaction with a non-Web Application with an API (Virtual Trader Specifically)","body":"<p><strong>TL;DR When an API is not available what resources does a programmer have to manipulate an application programmatically?</strong></p>\n<p>The company I work for uses an application called <a href=\"https://www.virtualtrader.com/about\" rel=\"nofollow noreferrer\">Virtual Trader</a> to help automate inter-company transactions. I'm still learning a lot about it, but best I understand it so far its a 3rd party application that is installed on top of the Oracle database.</p>\n<p>Essentially, my question is when an API is not available what resources does a programmer have to manipulate an application programmatically?</p>\n<p>Essentially, the GUI is extremely tedious for logging journal entries. So much so , that we assemble all the formulas we need in an excel document and painfully copy and paste them as we put the automation into &quot;production&quot;.</p>\n<p>So from a high level, how could I go about getting started just trying to manipulate VT without an API? Is there a general approach to this kind of problem?</p>\n"},{"tags":["java","jndi","websphere-8","corba","ejb-2.x"],"comments":[{"owner":{"account_id":6626438,"reputation":993,"user_id":5116519,"display_name":"Tracy"},"score":1,"creation_date":1632509798,"post_id":69319140,"comment_id":122521308,"body_markdown":"The EJB deployment code only needs to be regenerated if the bean interfaces have been modified or the signature of the bean implementation methods has changed.\n\nIf those have not changed, then likely the issue is the bean failed to start. Check the logs (Systemout.log and FFDC logs) for any other errors related to that EJB. The application may have started fine, but typically EJB initialization is deferred until first use, which is often the first time the bean is looked up.\n\nFinally, verify the logs contain a CNTR0167I message indicating the bean was bound in JNDI using the lookup name.","body":"The EJB deployment code only needs to be regenerated if the bean interfaces have been modified or the signature of the bean implementation methods has changed.  If those have not changed, then likely the issue is the bean failed to start. Check the logs (Systemout.log and FFDC logs) for any other errors related to that EJB. The application may have started fine, but typically EJB initialization is deferred until first use, which is often the first time the bean is looked up.  Finally, verify the logs contain a CNTR0167I message indicating the bean was bound in JNDI using the lookup name."},{"owner":{"account_id":15487039,"reputation":90,"user_id":11198814,"display_name":"Senior Coder"},"score":0,"creation_date":1633522940,"post_id":69319140,"comment_id":122781256,"body_markdown":"@Tracy Thank you for your prompt and very helpful response and apologies for my slow acknowledgement of the same! Yes the problem was due to the EJB not starting due to discrepancies in bean method signatures between the interface and implementation. The possible cause of the bean not being bound in JNDI can be ruled out as the error in that case would be nameNotFound.\n\nIf you re-post your comment as an answer I will mark it as the accepted answer.","body":"@Tracy Thank you for your prompt and very helpful response and apologies for my slow acknowledgement of the same! Yes the problem was due to the EJB not starting due to discrepancies in bean method signatures between the interface and implementation. The possible cause of the bean not being bound in JNDI can be ruled out as the error in that case would be nameNotFound.  If you re-post your comment as an answer I will mark it as the accepted answer."}],"answers":[{"tags":[],"owner":{"account_id":6626438,"reputation":993,"user_id":5116519,"display_name":"Tracy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633613247,"creation_date":1633613247,"answer_id":69482061,"question_id":69319140,"body_markdown":"The EJB deployment code only needs to be regenerated if the bean interfaces have been modified or the signature of the bean implementation methods has changed. If those have not changed, then likely the issue is the bean failed to start. Check the logs (Systemout.log and FFDC logs) for any other errors related to that EJB. The application may have started fine, but typically EJB initialization is deferred until first use, which is often the first time the bean is looked up. Finally, verify the logs contain a CNTR0167I message indicating the bean was bound in JNDI using the lookup name.","title":"WAS 8.5.5 ejb lookup produces invalid object reference com.ibm.ws.naming.util.InvalidObjectException","body":"<p>The EJB deployment code only needs to be regenerated if the bean interfaces have been modified or the signature of the bean implementation methods has changed. If those have not changed, then likely the issue is the bean failed to start. Check the logs (Systemout.log and FFDC logs) for any other errors related to that EJB. The application may have started fine, but typically EJB initialization is deferred until first use, which is often the first time the bean is looked up. Finally, verify the logs contain a CNTR0167I message indicating the bean was bound in JNDI using the lookup name.</p>\n"}],"owner":{"account_id":15487039,"reputation":90,"user_id":11198814,"display_name":"Senior Coder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":982,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69482061,"answer_count":1,"score":0,"last_activity_date":1633613247,"creation_date":1632505110,"question_id":69319140,"body_markdown":"```\r\ncom.ibm.ws.naming.util.InvalidObjectException: Some object reference in the name &quot;MyEJB&quot; relative to the context &quot;path/to/myserver&quot; is invalid. \r\nSome possible causes include a context binding in the name which refers to a destroyed context, or an object binding which contains an invalid EJBHome reference.\r\n[Root exception is org.omg.CORBA.INV_OBJREF: Could not resolve IOR string. vmcid: 0x0 minor code: 0 completed: No] \r\n```\r\nThe lookup of other ejbs in the app is working. The difference is the bean class of this ejb was modified and only the new class file was updated in the ear and the app was updated with this ear file in WAS admin console.\r\n\r\nDo I have to regenerate the deployment code(stub/tie etc) for the ejb?","title":"WAS 8.5.5 ejb lookup produces invalid object reference com.ibm.ws.naming.util.InvalidObjectException","body":"<pre><code>com.ibm.ws.naming.util.InvalidObjectException: Some object reference in the name &quot;MyEJB&quot; relative to the context &quot;path/to/myserver&quot; is invalid. \nSome possible causes include a context binding in the name which refers to a destroyed context, or an object binding which contains an invalid EJBHome reference.\n[Root exception is org.omg.CORBA.INV_OBJREF: Could not resolve IOR string. vmcid: 0x0 minor code: 0 completed: No] \n</code></pre>\n<p>The lookup of other ejbs in the app is working. The difference is the bean class of this ejb was modified and only the new class file was updated in the ear and the app was updated with this ear file in WAS admin console.</p>\n<p>Do I have to regenerate the deployment code(stub/tie etc) for the ejb?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1633608260,"post_id":69480727,"comment_id":122808206,"body_markdown":"And which part of this are you struggling with? Have you tried anything yet, and in which way did it not work as expected?","body":"And which part of this are you struggling with? Have you tried anything yet, and in which way did it not work as expected?"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1633608509,"post_id":69480727,"comment_id":122808306,"body_markdown":"@HadiJ actually, to get the same result (a list of lists) `map` is enough, no need for `flatMap`.","body":"@HadiJ actually, to get the same result (a list of lists) <code>map</code> is enough, no need for <code>flatMap</code>."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1633608860,"post_id":69480727,"comment_id":122808457,"body_markdown":"@alevidals do you already know [`Pattern.splitAsStream`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#splitAsStream(java.lang.CharSequence))? With this, you can avoid the intermediate array that is the result of `String.split`.","body":"@alevidals do you already know <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#splitAsStream(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>Pattern.splitAsStream</code></a>? With this, you can avoid the intermediate array that is the result of <code>String.split</code>."}],"answers":[{"tags":[],"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633610820,"creation_date":1633610428,"answer_id":69481364,"question_id":69480727,"body_markdown":"Using **@Hulk**&#39;s suggestion for `Pattern.splitAsStream`, you can replace your whole `for...loop` with:\r\n\r\n    res = lines.stream().map(l -&gt; Pattern.compile(&quot;,&quot;).splitAsStream(l).collect(Collectors.toList()))\r\n                .collect(Collectors.toList());\r\n\r\n`res` value is:\r\n\r\n    [[ejercicios, practica, propuesta], [cadena, recomendar, definir], [elemento, implementar, sol]]\r\n\r\nIf you want to &quot;flatten&quot; you List of Lists of Strings (`List&lt;List&lt;String&gt;&gt; res`) and make it just one List of Strings (`List&lt;String&gt;`)\r\n\r\nyou can use `flatMap` as:\r\n\r\n    List&lt;String res = lines.stream().flatMap(l -&gt; Pattern.compile(&quot;,&quot;).splitAsStream(l))\r\n                .collect(Collectors.toList());\r\n\r\nor even better as **@user16320675**\r\n  suggested:\r\n\r\n    res = lines.stream().flatMap(Pattern.compile(&quot;,&quot;)::splitAsStream)\r\n                .collect(Collectors.toList());\r\n\r\nthis outputs:\r\n\r\n    [ejercicios, practica, propuesta, cadena, recomendar, definir, elemento, implementar, sol]","title":"(JAVA) I need to convert this (actually using foreach) using to streams","body":"<p>Using <strong>@Hulk</strong>'s suggestion for <code>Pattern.splitAsStream</code>, you can replace your whole <code>for...loop</code> with:</p>\n<pre><code>res = lines.stream().map(l -&gt; Pattern.compile(&quot;,&quot;).splitAsStream(l).collect(Collectors.toList()))\n            .collect(Collectors.toList());\n</code></pre>\n<p><code>res</code> value is:</p>\n<pre><code>[[ejercicios, practica, propuesta], [cadena, recomendar, definir], [elemento, implementar, sol]]\n</code></pre>\n<p>If you want to &quot;flatten&quot; you List of Lists of Strings (<code>List&lt;List&lt;String&gt;&gt; res</code>) and make it just one List of Strings (<code>List&lt;String&gt;</code>)</p>\n<p>you can use <code>flatMap</code> as:</p>\n<pre><code>List&lt;String res = lines.stream().flatMap(l -&gt; Pattern.compile(&quot;,&quot;).splitAsStream(l))\n            .collect(Collectors.toList());\n</code></pre>\n<p>or even better as <strong>@user16320675</strong>\nsuggested:</p>\n<pre><code>res = lines.stream().flatMap(Pattern.compile(&quot;,&quot;)::splitAsStream)\n            .collect(Collectors.toList());\n</code></pre>\n<p>this outputs:</p>\n<pre><code>[ejercicios, practica, propuesta, cadena, recomendar, definir, elemento, implementar, sol]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15623101,"reputation":2772,"user_id":11271432,"display_name":"Cray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633613049,"creation_date":1633613049,"answer_id":69482019,"question_id":69480727,"body_markdown":"Use [Stream::map][1] to transform each line and [Stream::collect][2] to create a new list from the stream.\r\n\r\nReplacement for your code would be:\r\n\r\n    List&lt;List&lt;String&gt;&gt; res = lines.stream()\r\n      .map(line -&gt; {\r\n        List&lt;String&gt; aux = new ArrayList&lt;&gt;();\r\n        for (String element : line.split(&quot;,&quot;)) {\r\n          aux.add(element);\r\n        }\r\n        return aux;\r\n      })\r\n      .collect(Collectors.toList());\r\n\r\nBut we can simplify it by using [Arrays::asList][3] to create `List&lt;String&gt;` from `String[]` without writing the for loop.\r\n\r\n    List&lt;List&lt;String&gt;&gt; res = lines.stream()\r\n      .map(line -&gt; Arrays.asList(line.split(&quot;,&quot;)))\r\n      .collect(Collectors.toList());\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.stream.Collector-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#asList-T...-","title":"(JAVA) I need to convert this (actually using foreach) using to streams","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\">Stream::map</a> to transform each line and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.stream.Collector-\" rel=\"nofollow noreferrer\">Stream::collect</a> to create a new list from the stream.</p>\n<p>Replacement for your code would be:</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; res = lines.stream()\n  .map(line -&gt; {\n    List&lt;String&gt; aux = new ArrayList&lt;&gt;();\n    for (String element : line.split(&quot;,&quot;)) {\n      aux.add(element);\n    }\n    return aux;\n  })\n  .collect(Collectors.toList());\n</code></pre>\n<p>But we can simplify it by using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#asList-T...-\" rel=\"nofollow noreferrer\">Arrays::asList</a> to create <code>List&lt;String&gt;</code> from <code>String[]</code> without writing the for loop.</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; res = lines.stream()\n  .map(line -&gt; Arrays.asList(line.split(&quot;,&quot;)))\n  .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":20736924,"reputation":21,"user_id":15227590,"display_name":"alevidals"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1633613049,"creation_date":1633607856,"question_id":69480727,"body_markdown":"I need to convert this code using streams but I don&#39;t know how to do it.\r\n```Java\r\n\t\tList&lt;String&gt; lines = Files2.linesFromFile(ruta);\r\n\t\tList&lt;List&lt;String&gt;&gt; res = new ArrayList&lt;&gt;();\r\n\t\tfor (String line : lines) {\r\n\t\t\tList&lt;String&gt; aux = new ArrayList&lt;&gt;();\r\n\t\t\tfor (String element : line.split(&quot;,&quot;)) {\r\n\t\t\t\taux.add(element);\r\n\t\t\t}\r\n\t\t\tres.add(aux);\r\n\t\t}\r\n```\r\nIf I show the content of res I got:\r\n```\r\n[[ejercicios, practica, propuesta], [cadena, recomendar, definir], [elemento, implementar, sol], [ala, map, public, static]]\r\n```\r\nThe content of lines is:\r\n```\r\n[ejercicios,practica,propuesta, cadena,recomendar,definir, elemento,implementar,sol, ala,map,public,static]\r\n```\r\nAnd I need to get the same output using stream, can somebody help me?\r\nThanks in advance.","title":"(JAVA) I need to convert this (actually using foreach) using to streams","body":"<p>I need to convert this code using streams but I don't know how to do it.</p>\n<pre><code>        List&lt;String&gt; lines = Files2.linesFromFile(ruta);\n        List&lt;List&lt;String&gt;&gt; res = new ArrayList&lt;&gt;();\n        for (String line : lines) {\n            List&lt;String&gt; aux = new ArrayList&lt;&gt;();\n            for (String element : line.split(&quot;,&quot;)) {\n                aux.add(element);\n            }\n            res.add(aux);\n        }\n</code></pre>\n<p>If I show the content of res I got:</p>\n<pre><code>[[ejercicios, practica, propuesta], [cadena, recomendar, definir], [elemento, implementar, sol], [ala, map, public, static]]\n</code></pre>\n<p>The content of lines is:</p>\n<pre><code>[ejercicios,practica,propuesta, cadena,recomendar,definir, elemento,implementar,sol, ala,map,public,static]\n</code></pre>\n<p>And I need to get the same output using stream, can somebody help me?\nThanks in advance.</p>\n"},{"tags":["java","lombok","builder"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1633612600,"post_id":69481809,"comment_id":122810275,"body_markdown":"`Deposit.builder().lunch(request.getLounchName());` shouldn&#39;t you do something with the result of this? Like putting it in a variable?","body":"<code>Deposit.builder().lunch(request.getLounchName());</code> shouldn&#39;t you do something with the result of this? Like putting it in a variable?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1633615061,"post_id":69481809,"comment_id":122811402,"body_markdown":"Maybe a lambda, `.lunch(request::getLunchName)`, so only when high school, `getLunchName` is called (combinable with Optional). Everything else seems too complicated.","body":"Maybe a lambda, <code>.lunch(request::getLunchName)</code>, so only when high school, <code>getLunchName</code> is called (combinable with Optional). Everything else seems too complicated."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633613006,"creation_date":1633612672,"answer_id":69481914,"question_id":69481809,"body_markdown":"You shouldn&#39;t use an Optional type as a class field, generally only return types or wrappers to nullable return types. \r\n\r\nIf I understand the question, though, you&#39;re looking for this\r\n\r\n```\r\nUserSchool.Builder builder = UserSchool.builder()\r\n                .UserId(Long.valueOf(user.UserId.id))\r\n                .school(request.getUserSchool());\r\nif (condition) {\r\n   builder.lunch(..);\r\n}\r\nUserSchool userSchool = builder.build();\r\n```\r\n\r\nOr \r\n\r\n```\r\nString lunch = condition ? &quot;some value&quot; : null;\r\nUserSchool.Builder builder = UserSchool.builder()\r\n                .UserId(Long.valueOf(user.UserId.id))\r\n                .lunch(lunch)\r\n                .school(request.getUserSchool())\r\n               .build();\r\n```\r\n\r\nOr simply add a method to the class, not use a nullable field \r\n\r\n```\r\npublic Optional&lt;String&gt; getLunch() {\r\n    return condition ? Optional.of(&quot;some value&quot;) : Optional.empty();\r\n} \r\n```\r\n\r\nThe problem with the if statement before the builder is that you&#39;ve used some other builder, but never captured its return value to use later on ","title":"Condition based builder in Java","body":"<p>You shouldn't use an Optional type as a class field, generally only return types or wrappers to nullable return types.</p>\n<p>If I understand the question, though, you're looking for this</p>\n<pre><code>UserSchool.Builder builder = UserSchool.builder()\n                .UserId(Long.valueOf(user.UserId.id))\n                .school(request.getUserSchool());\nif (condition) {\n   builder.lunch(..);\n}\nUserSchool userSchool = builder.build();\n</code></pre>\n<p>Or</p>\n<pre><code>String lunch = condition ? &quot;some value&quot; : null;\nUserSchool.Builder builder = UserSchool.builder()\n                .UserId(Long.valueOf(user.UserId.id))\n                .lunch(lunch)\n                .school(request.getUserSchool())\n               .build();\n</code></pre>\n<p>Or simply add a method to the class, not use a nullable field</p>\n<pre><code>public Optional&lt;String&gt; getLunch() {\n    return condition ? Optional.of(&quot;some value&quot;) : Optional.empty();\n} \n</code></pre>\n<p>The problem with the if statement before the builder is that you've used some other builder, but never captured its return value to use later on</p>\n"}],"owner":{"account_id":4418961,"reputation":1927,"user_id":9347049,"display_name":"user9347049"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69481914,"answer_count":1,"score":0,"last_activity_date":1633613042,"creation_date":1633612242,"question_id":69481809,"body_markdown":"I have a field that needs to be checked. If the field matches put it to builder if not, don&#39;t put it to builder.\r\n\r\n    @Data\r\n    @Builder\r\n    public class UserSchool {\r\n        private final Long UserId;\r\n        private final String school;\r\n        private final Optional&lt;String&gt; lunch;\r\n    \r\n    }\r\n\r\nI need to check if user belongs to &quot;high school&quot;, then add parameter lunch to builder. If user doesn&#39;t belong to &quot;high school&quot; don&#39;t add parameter to builder.\r\n\r\n    if(user.school.name().equals(School.high_school.name())){\r\n                Deposit.builder()\r\n                        .lunch(request.getLounchName());\r\n            }\r\n    \r\n    UserSchool userSchool = UserSchool.builder()\r\n                    .UserId(Long.valueOf(user.UserId.id))\r\n                    .school(request.getUserSchool())\r\n                    .build();\r\n\r\nI have come up with this code above and lunch parameter is `null` although it should be there.\r\n\r\nWhen I add it to builder without if statement like this:\r\n\r\n    UserSchool userSchool = UserSchool.builder()\r\n                    .UserId(Long.valueOf(user.UserId.id))\r\n                    .school(request.getUserSchool())\r\n                    .lunch(request.getLounchName())\r\n                    .build();\r\n\r\nIt works but I need to be able to check condition.\r\nWhat am I missing?\r\n","title":"Condition based builder in Java","body":"<p>I have a field that needs to be checked. If the field matches put it to builder if not, don't put it to builder.</p>\n<pre><code>@Data\n@Builder\npublic class UserSchool {\n    private final Long UserId;\n    private final String school;\n    private final Optional&lt;String&gt; lunch;\n\n}\n</code></pre>\n<p>I need to check if user belongs to &quot;high school&quot;, then add parameter lunch to builder. If user doesn't belong to &quot;high school&quot; don't add parameter to builder.</p>\n<pre><code>if(user.school.name().equals(School.high_school.name())){\n            Deposit.builder()\n                    .lunch(request.getLounchName());\n        }\n\nUserSchool userSchool = UserSchool.builder()\n                .UserId(Long.valueOf(user.UserId.id))\n                .school(request.getUserSchool())\n                .build();\n</code></pre>\n<p>I have come up with this code above and lunch parameter is <code>null</code> although it should be there.</p>\n<p>When I add it to builder without if statement like this:</p>\n<pre><code>UserSchool userSchool = UserSchool.builder()\n                .UserId(Long.valueOf(user.UserId.id))\n                .school(request.getUserSchool())\n                .lunch(request.getLounchName())\n                .build();\n</code></pre>\n<p>It works but I need to be able to check condition.\nWhat am I missing?</p>\n"},{"tags":["java","thrift"],"comments":[{"owner":{"account_id":18143800,"reputation":870,"user_id":13197346,"display_name":"greeflas"},"score":0,"creation_date":1633541469,"post_id":69466477,"comment_id":122789484,"body_markdown":"Did you specify namespace for Java in tutorial.thrift?","body":"Did you specify namespace for Java in tutorial.thrift?"},{"owner":{"account_id":22959669,"reputation":1,"user_id":17089754,"display_name":"llunga"},"score":0,"creation_date":1633559376,"post_id":69466477,"comment_id":122795186,"body_markdown":"while I correct the classpath to compile the files below the gen-java folder...  it comes to the problem from IllegalArgument... it says cannot find a method of.main(String[]) ... which means compiles error","body":"while I correct the classpath to compile the files below the gen-java folder...  it comes to the problem from IllegalArgument... it says cannot find a method of.main(String[]) ... which means compiles error"}],"owner":{"account_id":22959669,"reputation":1,"user_id":17089754,"display_name":"llunga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633613026,"creation_date":1633526214,"question_id":69466477,"body_markdown":"while I execute the command like thrift -r --gen java tutorial.thrift; in the file tutorial.thrift I defined something like this.\r\n\r\n```\r\nexception IllegalArgument {\r\n  1: string message;\r\n}\r\n\r\n```\r\n\r\n\r\nthen generate gen-java.\r\n\r\nwhen I tried to write code... something wrong with the IllegalArgument...\r\n\r\nHow can I solve this? \r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VWUzc.png","title":"IllegalArgument error while generated by Thrift Compiler","body":"<p>while I execute the command like thrift -r --gen java tutorial.thrift; in the file tutorial.thrift I defined something like this.</p>\n<pre><code>exception IllegalArgument {\n  1: string message;\n}\n\n</code></pre>\n<p>then generate gen-java.</p>\n<p>when I tried to write code... something wrong with the IllegalArgument...</p>\n<p>How can I solve this?</p>\n<p><a href=\"https://i.stack.imgur.com/VWUzc.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","oop","inheritance"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1633612334,"post_id":69481750,"comment_id":122810139,"body_markdown":"`add` may overwrite `item` when swapping elements.","body":"<code>add</code> may overwrite <code>item</code> when swapping elements."},{"owner":{"account_id":1379656,"reputation":1313,"user_id":1312949,"accept_rate":75,"display_name":"Byron"},"score":1,"creation_date":1633612386,"post_id":69481750,"comment_id":122810163,"body_markdown":"I would suggest debugging to learn where your problem is, but as @ScottHunter says item is overridden straight away","body":"I would suggest debugging to learn where your problem is, but as @ScottHunter says item is overridden straight away"},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1633613040,"post_id":69481750,"comment_id":122810495,"body_markdown":"Also, when adding an item into `OrderedList` should not you keep it sorted and use binary search to identify the position where to insert the new `item`?  In current implementation you always re-sort the list when adding an element.","body":"Also, when adding an item into <code>OrderedList</code> should not you keep it sorted and use binary search to identify the position where to insert the new <code>item</code>?  In current implementation you always re-sort the list when adding an element."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1633613322,"post_id":69481750,"comment_id":122810632,"body_markdown":"If you *want* `add` to change `item` to be the value that goes at the end (which your call to `addLast` suggests), then your loop should be inserting `item` into the list where it needs to go, swapping it with the value currently in that position, and doing that across the list.","body":"If you <i>want</i> <code>add</code> to change <code>item</code> to be the value that goes at the end (which your call to <code>addLast</code> suggests), then your loop should be inserting <code>item</code> into the list where it needs to go, swapping it with the value currently in that position, and doing that across the list."},{"owner":{"account_id":20094471,"reputation":3,"user_id":14734281,"display_name":"Alex"},"score":0,"creation_date":1633613348,"post_id":69481750,"comment_id":122810641,"body_markdown":"@AlexRudenko So I should use another method that inserts the items instead of using the addLast()?","body":"@AlexRudenko So I should use another method that inserts the items instead of using the addLast()?"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1633613441,"post_id":69481750,"comment_id":122810673,"body_markdown":"`addLast` only makes sense when you are adding a value no smaller than all currently in the list.","body":"<code>addLast</code> only makes sense when you are adding a value no smaller than all currently in the list."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1633613545,"post_id":69481750,"comment_id":122810728,"body_markdown":"Note that `add` will not swap *anything* if the list is properly sorted, and will add the new value to the end, regardless of where it *should* go.    As @Byron says, debugging would have sown you this.","body":"Note that <code>add</code> will not swap <i>anything</i> if the list is properly sorted, and will add the new value to the end, regardless of where it <i>should</i> go.    As @Byron says, debugging would have sown you this."}],"owner":{"account_id":20094471,"reputation":3,"user_id":14734281,"display_name":"Alex"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633612998,"creation_date":1633611999,"question_id":69481750,"body_markdown":"here&#39;s the code for MyArrayList\r\n\r\n    public void addLast(int number){\r\n        if(!isFull())\r\n            doubleTheArray();\r\n            element[count++] = number;\r\n    }\r\n\r\nand here&#39;s the code for MyOrderedList\r\n\r\n    public void add(int item){\r\n        for(int i = 0; i &lt; count; i++){\r\n\r\n            for(int j = i+1; j &lt; count; j++){\r\n\r\n                if(element[i] &gt; element[j]){\r\n                    item = element[i];\r\n                    element[i] = element[j];\r\n                    element[j] = item; \r\n                }\r\n            }\r\n        }\r\n\r\n        addLast(item);            \r\n    }\r\n\r\nThis is the main method\r\n\r\n    public static void main(String [] args){\r\n        MyOrderedList oList = new MyOrderedList();\r\n\r\n        oList.add(3);\r\n        oList.add(5);\r\n        oList.add(2);\r\n        oList.add(4);\r\n        oList.add(7);\r\n        oList.add(8);\r\n        oList.add(10);\r\n        System.out.println(&quot;Ordered list of items: &quot;+ oList);\r\n    }\r\n\r\n\r\nCan anyone help me find out what&#39;s wrong? We&#39;re not allowed to use sort so I made a solution but 2 numbers are outputted twice in the main method for MyOrderedList. We have to add the elements at the right location. Or in ascending order for add(item). isFull() is boolean method that doubles (doubleTheArray()) the array size if it is true. ","title":"I am working on an assignment about ordered list in java. We&#39;re not allowed to use sort so I made a solution but 2 numbers are outputted twice","body":"<p>here's the code for MyArrayList</p>\n<pre><code>public void addLast(int number){\n    if(!isFull())\n        doubleTheArray();\n        element[count++] = number;\n}\n</code></pre>\n<p>and here's the code for MyOrderedList</p>\n<pre><code>public void add(int item){\n    for(int i = 0; i &lt; count; i++){\n\n        for(int j = i+1; j &lt; count; j++){\n\n            if(element[i] &gt; element[j]){\n                item = element[i];\n                element[i] = element[j];\n                element[j] = item; \n            }\n        }\n    }\n\n    addLast(item);            \n}\n</code></pre>\n<p>This is the main method</p>\n<pre><code>public static void main(String [] args){\n    MyOrderedList oList = new MyOrderedList();\n\n    oList.add(3);\n    oList.add(5);\n    oList.add(2);\n    oList.add(4);\n    oList.add(7);\n    oList.add(8);\n    oList.add(10);\n    System.out.println(&quot;Ordered list of items: &quot;+ oList);\n}\n</code></pre>\n<p>Can anyone help me find out what's wrong? We're not allowed to use sort so I made a solution but 2 numbers are outputted twice in the main method for MyOrderedList. We have to add the elements at the right location. Or in ascending order for add(item). isFull() is boolean method that doubles (doubleTheArray()) the array size if it is true.</p>\n"},{"tags":["java","velocity"],"answers":[{"tags":[],"owner":{"account_id":18961944,"reputation":3,"user_id":13837245,"display_name":"Drew Hibbard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633557252,"creation_date":1633557252,"answer_id":69473100,"question_id":69471958,"body_markdown":"Apparently you have to use the MathTool class for Velocity:\r\n```\r\n#set( $refArr = $reference.split(&#39;]&#39;,2) )\r\n&lt;li&gt;\r\n\t&lt;a href=$refArr.get(1).substring(1,$math.sub($refArr.get(1).length(),1))&gt;$refArr.get(0).substring(1)&lt;/a&gt;\r\n&lt;/li&gt;\r\n```","title":"Remove last character of string in Apache Velocity templating language not working","body":"<p>Apparently you have to use the MathTool class for Velocity:</p>\n<pre><code>#set( $refArr = $reference.split(']',2) )\n&lt;li&gt;\n    &lt;a href=$refArr.get(1).substring(1,$math.sub($refArr.get(1).length(),1))&gt;$refArr.get(0).substring(1)&lt;/a&gt;\n&lt;/li&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":365392,"reputation":4105,"user_id":710286,"display_name":"Claude Brisson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633612877,"creation_date":1633612877,"answer_id":69481958,"question_id":69471958,"body_markdown":"Your code should work in recent versions, otherwise you can do it in two steps:\r\n\r\n```\r\n#set($len = $refArr.get(1).length() - 1)\r\n&lt;a href=$refArr[1].substring(1,$len)&gt;$refArr[0].substring(1)&lt;/a&gt;\r\n```\r\n","title":"Remove last character of string in Apache Velocity templating language not working","body":"<p>Your code should work in recent versions, otherwise you can do it in two steps:</p>\n<pre><code>#set($len = $refArr.get(1).length() - 1)\n&lt;a href=$refArr[1].substring(1,$len)&gt;$refArr[0].substring(1)&lt;/a&gt;\n</code></pre>\n"}],"owner":{"account_id":18961944,"reputation":3,"user_id":13837245,"display_name":"Drew Hibbard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633612877,"creation_date":1633550044,"question_id":69471958,"body_markdown":"I am trying to convert markdown hyperlinks into html hyperlinks in the Apache Velocity template language (for Marketo). I am nearly there by splitting on &#39;]&#39; and then removing the first character from the remaining &#39;[link text&#39; piece, and the first and last characters from the remaining &#39;(url)&#39; piece. \r\n\r\nIt will let me remove the first character in each, but doesn&#39;t like my code for removing the last character. This is simple code so I don&#39;t know why it isn&#39;t working.\r\n\r\n```\r\n#set( $refArr = $reference.split(&#39;]&#39;,2) )\r\n&lt;li&gt;\r\n\t&lt;a href=$refArr[1].substring(1,$refArr[1].length()-1)&gt;$refArr[0].substring(1)&lt;/a&gt;\r\n&lt;/li&gt;\r\n```\r\n\r\nIt just doesn&#39;t like the &#39;-1&#39; part, see error. Velocity is supposed to have full Java method access, but it appears that it may be confusing Java for html.\r\n\r\n```\r\nCannot get email content- &lt;div&gt;An error occurred when procesing the email Body! &lt;/div&gt; &lt;p&gt;Encountered &quot;-1&quot; near&lt;/p&gt;\r\n```\r\n\r\nI&#39;ve also tried using regex with the replace method as well but that doesn&#39;t work either, whether with the &#39;(&#39; character escaped, double escaped, or not escaped.\r\n\r\n","title":"Remove last character of string in Apache Velocity templating language not working","body":"<p>I am trying to convert markdown hyperlinks into html hyperlinks in the Apache Velocity template language (for Marketo). I am nearly there by splitting on ']' and then removing the first character from the remaining '[link text' piece, and the first and last characters from the remaining '(url)' piece.</p>\n<p>It will let me remove the first character in each, but doesn't like my code for removing the last character. This is simple code so I don't know why it isn't working.</p>\n<pre><code>#set( $refArr = $reference.split(']',2) )\n&lt;li&gt;\n    &lt;a href=$refArr[1].substring(1,$refArr[1].length()-1)&gt;$refArr[0].substring(1)&lt;/a&gt;\n&lt;/li&gt;\n</code></pre>\n<p>It just doesn't like the '-1' part, see error. Velocity is supposed to have full Java method access, but it appears that it may be confusing Java for html.</p>\n<pre><code>Cannot get email content- &lt;div&gt;An error occurred when procesing the email Body! &lt;/div&gt; &lt;p&gt;Encountered &quot;-1&quot; near&lt;/p&gt;\n</code></pre>\n<p>I've also tried using regex with the replace method as well but that doesn't work either, whether with the '(' character escaped, double escaped, or not escaped.</p>\n"},{"tags":["java","spring","spring-boot","jersey","jax-rs"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1633611751,"post_id":69481595,"comment_id":122809842,"body_markdown":"First response no. Second response it depends if it is behind the DispatcherServlet or not (generally it is not, so no it will not work).","body":"First response no. Second response it depends if it is behind the DispatcherServlet or not (generally it is not, so no it will not work)."},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1633612189,"post_id":69481595,"comment_id":122810067,"body_markdown":"Is there any problem to put the Jax-RS behind dispatcher servlet ? Does not look to me as complicated?","body":"Is there any problem to put the Jax-RS behind dispatcher servlet ? Does not look to me as complicated?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1633626986,"post_id":69481595,"comment_id":122816570,"body_markdown":"It depends how one uses jax-rs, default is using a filter (IIRC) and that is quite impossible to put behind a servlet.","body":"It depends how one uses jax-rs, default is using a filter (IIRC) and that is quite impossible to put behind a servlet."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1633632072,"post_id":69481595,"comment_id":122818318,"body_markdown":"You will need to use a ContainerRequestFilter. You can inject the HttpServletRequest into it. And if you need the Method, you can inject [ResourceInfo](https://docs.oracle.com/javaee/7/api/javax/ws/rs/container/ResourceInfo.html). If you need to handle something post-request processing, you can use a ContainerResponseFilter.","body":"You will need to use a ContainerRequestFilter. You can inject the HttpServletRequest into it. And if you need the Method, you can inject <a href=\"https://docs.oracle.com/javaee/7/api/javax/ws/rs/container/ResourceInfo.html\" rel=\"nofollow noreferrer\">ResourceInfo</a>. If you need to handle something post-request processing, you can use a ContainerResponseFilter."}],"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633612812,"creation_date":1633611366,"question_id":69481595,"body_markdown":"I have a conbination of spring boot plus Java-RS rest controller. I am trying to figure out if spring HandlerInterceptor would work for Jax-rs rest controller?","title":"Will spring HandlerInterceptor work for Jax-RS rest controller inside spring boot application?","body":"<p>I have a conbination of spring boot plus Java-RS rest controller. I am trying to figure out if spring HandlerInterceptor would work for Jax-rs rest controller?</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":9073858,"reputation":2807,"user_id":6756090,"display_name":"slauth"},"score":1,"creation_date":1633529906,"post_id":69467410,"comment_id":122784551,"body_markdown":"Links (`&lt;a&gt;`) are always `GET`, forms can be `GET` or `POST`. To issue a `DELETE` you&#39;d have to use JavaScript (AJAX).","body":"Links (<code>&lt;a&gt;</code>) are always <code>GET</code>, forms can be <code>GET</code> or <code>POST</code>. To issue a <code>DELETE</code> you&#39;d have to use JavaScript (AJAX)."},{"owner":{"account_id":22426095,"reputation":37,"user_id":16632685,"display_name":"David"},"score":0,"creation_date":1633530337,"post_id":69467410,"comment_id":122784743,"body_markdown":"@slauth Thank you so much for the clarity of your explanation! It should be more referenced not loosing too much time on debugging. I&#39;ll try this out and get right back.","body":"@slauth Thank you so much for the clarity of your explanation! It should be more referenced not loosing too much time on debugging. I&#39;ll try this out and get right back."},{"owner":{"account_id":22426095,"reputation":37,"user_id":16632685,"display_name":"David"},"score":1,"creation_date":1633532409,"post_id":69467410,"comment_id":122785642,"body_markdown":"Thanks again to @slauth. What worked for me was Raphael Roussis&#39;s answer on the following link (thanks to him as well): https://stackoverflow.com/questions/38370011/thymeleaf-button-click-to-call-http-delete-method","body":"Thanks again to @slauth. What worked for me was Raphael Roussis&#39;s answer on the following link (thanks to him as well): <a href=\"https://stackoverflow.com/questions/38370011/thymeleaf-button-click-to-call-http-delete-method\" title=\"thymeleaf button click to call http delete method\">stackoverflow.com/questions/38370011/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633612710,"creation_date":1633612710,"answer_id":69481919,"question_id":69467410,"body_markdown":"HTML can only use GET or POST by default. Spring Boot and Thymeleaf support a workaround via the HiddenHttpMethodFilter. \r\n\r\nTo use it, you need to do 2 things:\r\n\r\n1) Add `th:method=&quot;delete&quot;` on your form:\r\n```\r\n&lt;form th:method=&quot;delete&quot; ... &gt;\r\n```\r\n\r\nThymeleaf will automatically insert a hidden input like this:\r\n\r\n```\r\n&lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;delete&quot; /&gt;\r\n```\r\n\r\n2. Enable the filter in Spring Boot. The easiest way is adding this to `application.properties`:\r\n\r\n```\r\nspring.mvc.hiddenmethod.filter.enabled=true\r\n```\r\n\r\n","title":"Why my Thymeleaf Delete Button does GET/POST instead of DELETE?","body":"<p>HTML can only use GET or POST by default. Spring Boot and Thymeleaf support a workaround via the HiddenHttpMethodFilter.</p>\n<p>To use it, you need to do 2 things:</p>\n<ol>\n<li>Add <code>th:method=&quot;delete&quot;</code> on your form:</li>\n</ol>\n<pre><code>&lt;form th:method=&quot;delete&quot; ... &gt;\n</code></pre>\n<p>Thymeleaf will automatically insert a hidden input like this:</p>\n<pre><code>&lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;delete&quot; /&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Enable the filter in Spring Boot. The easiest way is adding this to <code>application.properties</code>:</li>\n</ol>\n<pre><code>spring.mvc.hiddenmethod.filter.enabled=true\n</code></pre>\n"}],"owner":{"account_id":22426095,"reputation":37,"user_id":16632685,"display_name":"David"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":574,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633612710,"creation_date":1633529646,"question_id":69467410,"body_markdown":"My thymeleaf delete button is executing either a **GET** or a **POST** request without understanding why.\r\n\r\nI&#39;m using those starters:\r\n\r\n- *Spring Boot*\r\n- *Spring Security*\r\n- *Spring JPA*\r\n- *Spring Web*\r\n\r\nMy controller:\r\n\r\n    @Controller\r\n    public class UserController {\r\n\r\n    // [...]\r\n    \r\n    @DeleteMapping(&quot;/users/delete/{id}&quot;)\r\n        public String deleteUser(@PathVariable(&quot;id&quot;) Long id) {\r\n    \r\n            userDeletionService.deleteUserById(id);\r\n    \r\n            return &quot;redirect:/users/list&quot;;\r\n        }\r\n    }\r\n\r\nHere&#39;s the first tried button using an attribute(*user*) passed to the template:\r\n\r\n    &lt;a th:href=&quot;@{&#39;/users/delete/{id}&#39;(id=${user.id})}&quot; class=&quot;btn btn-danger btn-sm&quot;&gt;Delete&lt;/a&gt;\r\n\r\nFalling on **error 405** and we can notice that it did a **GET**:\r\n\r\n    DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /users/delete/18    \r\n    DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 405 METHOD_NOT_ALLOWED\r\n\r\nHere, I&#39;m trying a sedond button:\r\n\r\n    &lt;form action=&quot;#&quot; th:action=&quot;@{&#39;/users/delete/{id}&#39;(id=${user.id})}&quot; th:method=&quot;delete&quot; &gt;\r\n            &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;delete&quot; /&gt;\r\n            &lt;button type=&quot;submit&quot; id=&quot;submitButton&quot;&gt; &lt;/button&gt;\r\n    &lt;/form&gt;\r\n\r\nFalling again on error 405 but, this time, it did a **POST**:\r\n\r\n    DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /users/delete/18\r\n    DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 405 METHOD_NOT_ALLOWED","title":"Why my Thymeleaf Delete Button does GET/POST instead of DELETE?","body":"<p>My thymeleaf delete button is executing either a <strong>GET</strong> or a <strong>POST</strong> request without understanding why.</p>\n<p>I'm using those starters:</p>\n<ul>\n<li><em>Spring Boot</em></li>\n<li><em>Spring Security</em></li>\n<li><em>Spring JPA</em></li>\n<li><em>Spring Web</em></li>\n</ul>\n<p>My controller:</p>\n<pre><code>@Controller\npublic class UserController {\n\n// [...]\n\n@DeleteMapping(&quot;/users/delete/{id}&quot;)\n    public String deleteUser(@PathVariable(&quot;id&quot;) Long id) {\n\n        userDeletionService.deleteUserById(id);\n\n        return &quot;redirect:/users/list&quot;;\n    }\n}\n</code></pre>\n<p>Here's the first tried button using an attribute(<em>user</em>) passed to the template:</p>\n<pre><code>&lt;a th:href=&quot;@{'/users/delete/{id}'(id=${user.id})}&quot; class=&quot;btn btn-danger btn-sm&quot;&gt;Delete&lt;/a&gt;\n</code></pre>\n<p>Falling on <strong>error 405</strong> and we can notice that it did a <strong>GET</strong>:</p>\n<pre><code>DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /users/delete/18    \nDEBUG org.springframework.web.servlet.DispatcherServlet - Completed 405 METHOD_NOT_ALLOWED\n</code></pre>\n<p>Here, I'm trying a sedond button:</p>\n<pre><code>&lt;form action=&quot;#&quot; th:action=&quot;@{'/users/delete/{id}'(id=${user.id})}&quot; th:method=&quot;delete&quot; &gt;\n        &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;delete&quot; /&gt;\n        &lt;button type=&quot;submit&quot; id=&quot;submitButton&quot;&gt; &lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n<p>Falling again on error 405 but, this time, it did a <strong>POST</strong>:</p>\n<pre><code>DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /users/delete/18\nDEBUG org.springframework.web.servlet.DispatcherServlet - Completed 405 METHOD_NOT_ALLOWED\n</code></pre>\n"},{"tags":["java","solaris","jvm-arguments"],"answers":[{"tags":[],"owner":{"account_id":2219344,"reputation":2642,"user_id":1959181,"display_name":"Edgard Leal"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1481819951,"creation_date":1391092639,"answer_id":21459365,"question_id":21131855,"body_markdown":"Try running this code in a constructor of a servlet\r\n\r\n\r\n    System.setProperty(&quot;java.awt.headless&quot;, &quot;true&quot;); \r\n\r\nor \r\n\r\nUse this parameter in the startup script of the server:\r\n\r\n    -Djava.awt.headless=true\r\n&lt;hr&gt;\r\n\r\n&gt; Here is an example of this problem documented and explaned in [Apache POI][1] when you want to create a sheet with auto size columns.\r\n\r\n\r\n  [1]: https://poi.apache.org/spreadsheet/quick-guide.html#Autofit","title":"Could not initialize class sun.awt.X11GraphicsEnvironment on Solaris","body":"<p>Try running this code in a constructor of a servlet</p>\n\n<pre><code>System.setProperty(\"java.awt.headless\", \"true\"); \n</code></pre>\n\n<p>or </p>\n\n<p>Use this parameter in the startup script of the server:</p>\n\n<pre><code>-Djava.awt.headless=true\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>Here is an example of this problem documented and explaned in <a href=\"https://poi.apache.org/spreadsheet/quick-guide.html#Autofit\" rel=\"noreferrer\">Apache POI</a> when you want to create a sheet with auto size columns.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3858972,"reputation":541,"user_id":3197161,"display_name":"Deka"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1539005850,"creation_date":1392975962,"answer_id":21930692,"question_id":21131855,"body_markdown":"Solved the issue. It was my profile, where I have set my DISPLAY to one host, which is not alive. \nI have set it correctly and it worked.\n\n# `$ export DISPLAY=`\n\nOr\n# `$ unset DISPLAY`","title":"Could not initialize class sun.awt.X11GraphicsEnvironment on Solaris","body":"<p>Solved the issue. It was my profile, where I have set my DISPLAY to one host, which is not alive.\nI have set it correctly and it worked.</p>\n<h1><code>$ export DISPLAY=</code></h1>\n<p>Or</p>\n<h1><code>$ unset DISPLAY</code></h1>\n"},{"tags":[],"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1419925680,"creation_date":1419925680,"answer_id":27701516,"question_id":21131855,"body_markdown":"Actually, \r\n\r\n    -Djava.awt.headless=true\r\n\r\nDoes not *fix* the issue, it sidesteps it. The problem is the application you are trying to run want to run with a UI in XWindows. This error is saying the Java equivalent of &#39;dll not found&#39; or &#39;.so not found&#39;. The library required to actually do this isn&#39;t present in the JVM classpath you are using.\r\n\r\nThe problem is you&#39;re using OpenJDK (or some other version of Java like Jikes) and the awt was one of the parts of Java that could not be open sourced for licensing reasons. So, this class doesn&#39;t exist on purpose and never will in OpenJDK\r\n\r\nBy declaring \r\n\r\n    -Djava.awt.headless=true\r\n\r\nYou are making it run in commandline mode and not all apps can do this. In your case, you got away with with. The only way to **actually fix** this issue is to get that class and all it&#39;s dependent classes in your classpath. The simplest way to do that is to switch to the sun JRE.","title":"Could not initialize class sun.awt.X11GraphicsEnvironment on Solaris","body":"<p>Actually, </p>\n\n<pre><code>-Djava.awt.headless=true\n</code></pre>\n\n<p>Does not <em>fix</em> the issue, it sidesteps it. The problem is the application you are trying to run want to run with a UI in XWindows. This error is saying the Java equivalent of 'dll not found' or '.so not found'. The library required to actually do this isn't present in the JVM classpath you are using.</p>\n\n<p>The problem is you're using OpenJDK (or some other version of Java like Jikes) and the awt was one of the parts of Java that could not be open sourced for licensing reasons. So, this class doesn't exist on purpose and never will in OpenJDK</p>\n\n<p>By declaring </p>\n\n<pre><code>-Djava.awt.headless=true\n</code></pre>\n\n<p>You are making it run in commandline mode and not all apps can do this. In your case, you got away with with. The only way to <strong>actually fix</strong> this issue is to get that class and all it's dependent classes in your classpath. The simplest way to do that is to switch to the sun JRE.</p>\n"},{"tags":[],"owner":{"account_id":10250946,"reputation":1325,"user_id":7565209,"display_name":"Chenhai-胡晨海"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514930717,"creation_date":1514930717,"answer_id":48068483,"question_id":21131855,"body_markdown":"I had the same problem with my Linux server. I don&#39;t know what magic happened, the problem was fixed perfectly by installing Xorg on my Linux box.\r\n\r\n    sudo apt-get install xorg openbox","title":"Could not initialize class sun.awt.X11GraphicsEnvironment on Solaris","body":"<p>I had the same problem with my Linux server. I don't know what magic happened, the problem was fixed perfectly by installing Xorg on my Linux box.</p>\n\n<pre><code>sudo apt-get install xorg openbox\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4869614,"reputation":11,"user_id":3926603,"display_name":"chinnari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516357063,"creation_date":1516357063,"answer_id":48338737,"question_id":21131855,"body_markdown":"make sure you have not changed any hostname and after that this issue occured if this is the case then the problem is with hostname.","title":"Could not initialize class sun.awt.X11GraphicsEnvironment on Solaris","body":"<p>make sure you have not changed any hostname and after that this issue occured if this is the case then the problem is with hostname.</p>\n"},{"tags":[],"owner":{"account_id":3245970,"reputation":11,"user_id":2737538,"display_name":"user2737538"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569935454,"creation_date":1548917333,"answer_id":54454867,"question_id":21131855,"body_markdown":"Usually, the program starts to activate the headless mode, telling the program, now you have to work in Headless mode, don&#39;t expect the hardware to help, you have to be self-reliant, relying on the computing power of the system to simulate these features: \r\n\r\n    System.setProperty(&quot;java.awt.headless&quot;,&quot;true&quot;);\r\n    \r\nEdit the `${TOMCAT_HOME}/bin/catalina.sh` or `${TOMCAT_HOME}/bin/catalina.bat` file:\r\n    \r\nIn all similar code below: \r\n\r\n    &quot;$_RUNJAVA&quot; $JAVA_OPTS $CATALINA_OPTS \\ \r\n    -Djava.endorsed.dirs=&quot;$JAVA_ENDORSED_DIRS&quot; -classpath &quot;$CLASSPATH&quot; \\ \r\n    -Djava.security.manager \\ \r\n    -Djava.security.policy==&quot;$CATALINA_BASE&quot;/conf/catalina.policy \\ \r\n    -Dcatalina.base=&quot;$CATALINA_BASE&quot; \\ \r\n    -Dcatalina.home=&quot;$CATALINA_HOME&quot; \\ \r\n    -Djava.io.tmpdir=&quot;$CATALINA_TMPDIR&quot; \\\r\n\r\nAdd a sentence at the end:\r\n\r\n    -Djava.awt.headless=true \\\r\n    \r\nThe revised content is as follows:\r\n\r\n    Exec &quot;$_RUNJAVA&quot; $JAVA_OPTS $CATALINA_OPTS \\ \r\n    -Djava.endorsed.dirs=&quot;$JAVA_ENDORSED_DIRS&quot; -classpath &quot;$CLASSPATH&quot; \\ \r\n    -Dcatalina.base=&quot;$CATALINA_BASE&quot; \\ \r\n    -Dcatalina.home=&quot;$CATALINA_HOME&quot; \\ \r\n    -Djava.io.tmpdir=&quot;$CATALINA_TMPDIR&quot; \\ \r\n    -Djava.awt.headless=true \\\r\n    \r\nDirectly search for the line `-Djava.io.tmpdir=&quot;$CATALINA_TMPDIR&quot;` and add it under this line: \r\n    \r\n    -Djava.awt.headless=true \\\r\n    \r\nThere are a total of seven places, which can be solved after the restart. ","title":"Could not initialize class sun.awt.X11GraphicsEnvironment on Solaris","body":"<p>Usually, the program starts to activate the headless mode, telling the program, now you have to work in Headless mode, don't expect the hardware to help, you have to be self-reliant, relying on the computing power of the system to simulate these features: </p>\n\n<pre><code>System.setProperty(\"java.awt.headless\",\"true\");\n</code></pre>\n\n<p>Edit the <code>${TOMCAT_HOME}/bin/catalina.sh</code> or <code>${TOMCAT_HOME}/bin/catalina.bat</code> file:</p>\n\n<p>In all similar code below: </p>\n\n<pre><code>\"$_RUNJAVA\" $JAVA_OPTS $CATALINA_OPTS \\ \n-Djava.endorsed.dirs=\"$JAVA_ENDORSED_DIRS\" -classpath \"$CLASSPATH\" \\ \n-Djava.security.manager \\ \n-Djava.security.policy==\"$CATALINA_BASE\"/conf/catalina.policy \\ \n-Dcatalina.base=\"$CATALINA_BASE\" \\ \n-Dcatalina.home=\"$CATALINA_HOME\" \\ \n-Djava.io.tmpdir=\"$CATALINA_TMPDIR\" \\\n</code></pre>\n\n<p>Add a sentence at the end:</p>\n\n<pre><code>-Djava.awt.headless=true \\\n</code></pre>\n\n<p>The revised content is as follows:</p>\n\n<pre><code>Exec \"$_RUNJAVA\" $JAVA_OPTS $CATALINA_OPTS \\ \n-Djava.endorsed.dirs=\"$JAVA_ENDORSED_DIRS\" -classpath \"$CLASSPATH\" \\ \n-Dcatalina.base=\"$CATALINA_BASE\" \\ \n-Dcatalina.home=\"$CATALINA_HOME\" \\ \n-Djava.io.tmpdir=\"$CATALINA_TMPDIR\" \\ \n-Djava.awt.headless=true \\\n</code></pre>\n\n<p>Directly search for the line <code>-Djava.io.tmpdir=\"$CATALINA_TMPDIR\"</code> and add it under this line: </p>\n\n<pre><code>-Djava.awt.headless=true \\\n</code></pre>\n\n<p>There are a total of seven places, which can be solved after the restart. </p>\n"},{"tags":[],"owner":{"account_id":32670,"reputation":6689,"user_id":90802,"display_name":"charlie arehart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603528569,"creation_date":1603528569,"answer_id":64511492,"question_id":21131855,"body_markdown":"If the &quot;installer&quot; in question (which is failing with this error) may be in fact one based on install4j, note that **the simple solution is to use the -c flag**, so:\r\n\r\n    ./myinstaller.sh\r\n\r\nbecomes:\r\n\r\n    ./myinstaller.sh -c\r\n\r\nI had the same error as mentioned originally here, and on Linux rather than Solaris, and while there are many suggestions on the web, like those here and more, I lucked out that in my case it really was a simple as adding that -c.\r\n\r\nMore here: https://www.ej-technologies.com/resources/install4j/help/doc/installers/installerModes.html#console","title":"Could not initialize class sun.awt.X11GraphicsEnvironment on Solaris","body":"<p>If the &quot;installer&quot; in question (which is failing with this error) may be in fact one based on install4j, note that <strong>the simple solution is to use the -c flag</strong>, so:</p>\n<pre><code>./myinstaller.sh\n</code></pre>\n<p>becomes:</p>\n<pre><code>./myinstaller.sh -c\n</code></pre>\n<p>I had the same error as mentioned originally here, and on Linux rather than Solaris, and while there are many suggestions on the web, like those here and more, I lucked out that in my case it really was a simple as adding that -c.</p>\n<p>More here: <a href=\"https://www.ej-technologies.com/resources/install4j/help/doc/installers/installerModes.html#console\" rel=\"nofollow noreferrer\">https://www.ej-technologies.com/resources/install4j/help/doc/installers/installerModes.html#console</a></p>\n"},{"tags":[],"owner":{"account_id":2455144,"reputation":7303,"user_id":6337545,"display_name":"Vincent Gerris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633612560,"creation_date":1633612560,"answer_id":69481889,"question_id":21131855,"body_markdown":"The cause for this might be that the display variable you&#39;re using is not properly set. \r\nRun\r\n\r\n    echo $DISPLAY\r\n\r\nand make sure the output is correct.\r\n:0 is typical for the display on the machine if it&#39;s a desktop, if it&#39;s remote it&#39;s usually a hostname or IP and number like 1.2.3.4:0 .\r\n\r\nDepending on how in the code the existence of the DISPLAY is checked and used, you can unset it, that makes tools like Google Cloud Directory Sync continue without trying to start a graphical installer.\r\n\r\nIf that does not work for you because you need the set the proper display variable and rights (check xhost command).\r\nStart Xterm for example to see if it works.\r\n\r\nIn my case I was running the installer in docker and had to set it to the desktop IP where my docker host network was bound to :\r\n\r\n    export DISPLAY=10.11.211.211:0\r\n\r\nAfter that it worked for me.","title":"Could not initialize class sun.awt.X11GraphicsEnvironment on Solaris","body":"<p>The cause for this might be that the display variable you're using is not properly set.\nRun</p>\n<pre><code>echo $DISPLAY\n</code></pre>\n<p>and make sure the output is correct.\n:0 is typical for the display on the machine if it's a desktop, if it's remote it's usually a hostname or IP and number like 1.2.3.4:0 .</p>\n<p>Depending on how in the code the existence of the DISPLAY is checked and used, you can unset it, that makes tools like Google Cloud Directory Sync continue without trying to start a graphical installer.</p>\n<p>If that does not work for you because you need the set the proper display variable and rights (check xhost command).\nStart Xterm for example to see if it works.</p>\n<p>In my case I was running the installer in docker and had to set it to the desktop IP where my docker host network was bound to :</p>\n<pre><code>export DISPLAY=10.11.211.211:0\n</code></pre>\n<p>After that it worked for me.</p>\n"}],"owner":{"account_id":3858972,"reputation":541,"user_id":3197161,"display_name":"Deka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109398,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":8,"score":22,"last_activity_date":1633612560,"creation_date":1389772508,"question_id":21131855,"body_markdown":"I am running into this error while running my installer on a Solaris machine:\r\n\r\n    Installing...\r\n    -------------\r\n    \r\n     [==================|==================|==================|==================]\r\n     [---Invocation of this Java Application has caused an InvocationTargetException. This application will now exit. (LAX)\r\n    \r\n    Stack Trace:\r\n    java.lang.NoClassDefFoundError: Could not initialize class sun.awt.X11GraphicsEnvironment\r\n            at java.lang.Class.forName0(Native Method)\r\n            at java.lang.Class.forName(Class.java:186)\r\n            at java.awt.GraphicsEnvironment.createGE(GraphicsEnvironment.java:102)\r\n            at java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment(GraphicsEnvironment.java:81)\r\n            at sun.awt.X11FontManager.isHeadless(X11FontManager.java:487)\r\n            at sun.awt.X11FontManager.getFontPath(X11FontManager.java:767)\r\n            at sun.font.SunFontManager.getPlatformFontPath(SunFontManager.java:3288)\r\n            at sun.font.SunFontManager$11.run(SunFontManager.java:3314)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at sun.font.SunFontManager.loadFonts(SunFontManager.java:3310)\r\n            at sun.awt.X11FontManager.loadFonts(X11FontManager.java:439)\r\n            at sun.font.SunFontManager.findFont2D(SunFontManager.java:2347)\r\n            at sun.font.SunFontManager.findFont2D(SunFontManager.java:2285)\r\n            at java.awt.Font.getFont2D(Font.java:498)\r\n            at java.awt.Font.getFamily(Font.java:1187)\r\n            at java.awt.Font.getFamily_NoClientCode(Font.java:1161)\r\n            at java.awt.Font.getFamily(Font.java:1153)\r\n            at ZeroGrs.a(DashoA10*..)\r\n            at ZeroGrs.a(DashoA10*..)\r\n            at ZeroGrs.a(DashoA10*..)\r\n            at ZeroGrs.a(DashoA10*..)\r\n            at ZeroGrs.a(DashoA10*..)\r\n            at ZeroGrs.a(DashoA10*..)\r\n            at com.zerog.ia.installer.actions.InstallUninstaller.a(DashoA10*..)\r\n            at com.zerog.ia.installer.actions.InstallUninstaller.d(DashoA10*..)\r\n            at com.zerog.ia.installer.actions.InstallUninstaller.installSelf(DashoA10*..)\r\n            at com.zerog.ia.installer.InstallablePiece.install(DashoA10*..)\r\n            at com.zerog.ia.installer.actions.InstallDirectory.install(DashoA10*..)\r\n            at com.zerog.ia.installer.actions.InstallDirectory.install(DashoA10*..)\r\n            at com.zerog.ia.installer.InstallablePiece.install(DashoA10*..)\r\n            at com.zerog.ia.installer.GhostDirectory.install(DashoA10*..)\r\n            at com.zerog.ia.installer.InstallablePiece.install(DashoA10*..)\r\n            at com.zerog.ia.installer.Installer.install(DashoA10*..)\r\n            at com.zerog.ia.installer.LifeCycleManager.b(DashoA10*..)\r\n            at com.zerog.ia.installer.LifeCycleManager.a(DashoA10*..)\r\n            at com.zerog.ia.installer.Main.main(DashoA10*..)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:601)\r\n            at com.zerog.lax.LAX.launch(DashoA10*..)\r\n            at com.zerog.lax.LAX.main(DashoA10*..)\r\n\r\n\r\n\r\nI tried configuring `JAVA_OPTS` with `-Djava.awt.headless=true` but it doesn&#39;t work!\r\n\r\nAny has other solution to the issue?","title":"Could not initialize class sun.awt.X11GraphicsEnvironment on Solaris","body":"<p>I am running into this error while running my installer on a Solaris machine:</p>\n\n<pre><code>Installing...\n-------------\n\n [==================|==================|==================|==================]\n [---Invocation of this Java Application has caused an InvocationTargetException. This application will now exit. (LAX)\n\nStack Trace:\njava.lang.NoClassDefFoundError: Could not initialize class sun.awt.X11GraphicsEnvironment\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:186)\n        at java.awt.GraphicsEnvironment.createGE(GraphicsEnvironment.java:102)\n        at java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment(GraphicsEnvironment.java:81)\n        at sun.awt.X11FontManager.isHeadless(X11FontManager.java:487)\n        at sun.awt.X11FontManager.getFontPath(X11FontManager.java:767)\n        at sun.font.SunFontManager.getPlatformFontPath(SunFontManager.java:3288)\n        at sun.font.SunFontManager$11.run(SunFontManager.java:3314)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.font.SunFontManager.loadFonts(SunFontManager.java:3310)\n        at sun.awt.X11FontManager.loadFonts(X11FontManager.java:439)\n        at sun.font.SunFontManager.findFont2D(SunFontManager.java:2347)\n        at sun.font.SunFontManager.findFont2D(SunFontManager.java:2285)\n        at java.awt.Font.getFont2D(Font.java:498)\n        at java.awt.Font.getFamily(Font.java:1187)\n        at java.awt.Font.getFamily_NoClientCode(Font.java:1161)\n        at java.awt.Font.getFamily(Font.java:1153)\n        at ZeroGrs.a(DashoA10*..)\n        at ZeroGrs.a(DashoA10*..)\n        at ZeroGrs.a(DashoA10*..)\n        at ZeroGrs.a(DashoA10*..)\n        at ZeroGrs.a(DashoA10*..)\n        at ZeroGrs.a(DashoA10*..)\n        at com.zerog.ia.installer.actions.InstallUninstaller.a(DashoA10*..)\n        at com.zerog.ia.installer.actions.InstallUninstaller.d(DashoA10*..)\n        at com.zerog.ia.installer.actions.InstallUninstaller.installSelf(DashoA10*..)\n        at com.zerog.ia.installer.InstallablePiece.install(DashoA10*..)\n        at com.zerog.ia.installer.actions.InstallDirectory.install(DashoA10*..)\n        at com.zerog.ia.installer.actions.InstallDirectory.install(DashoA10*..)\n        at com.zerog.ia.installer.InstallablePiece.install(DashoA10*..)\n        at com.zerog.ia.installer.GhostDirectory.install(DashoA10*..)\n        at com.zerog.ia.installer.InstallablePiece.install(DashoA10*..)\n        at com.zerog.ia.installer.Installer.install(DashoA10*..)\n        at com.zerog.ia.installer.LifeCycleManager.b(DashoA10*..)\n        at com.zerog.ia.installer.LifeCycleManager.a(DashoA10*..)\n        at com.zerog.ia.installer.Main.main(DashoA10*..)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:601)\n        at com.zerog.lax.LAX.launch(DashoA10*..)\n        at com.zerog.lax.LAX.main(DashoA10*..)\n</code></pre>\n\n<p>I tried configuring <code>JAVA_OPTS</code> with <code>-Djava.awt.headless=true</code> but it doesn't work!</p>\n\n<p>Any has other solution to the issue?</p>\n"},{"tags":["java","amazon-web-services","https","amazon-elastic-beanstalk"],"comments":[{"owner":{"account_id":2104315,"reputation":27145,"user_id":1871033,"display_name":"CherryDT"},"score":0,"creation_date":1633612867,"post_id":69481851,"comment_id":122810387,"body_markdown":"You didn&#39;t show the contents of the rule. But the path pattern doesn&#39;t make sense, neither does the fact that you have two rules. Shouldn&#39;t there be just one rule without any special pattern that is attached to the listener on port 80 and executes a redirect?","body":"You didn&#39;t show the contents of the rule. But the path pattern doesn&#39;t make sense, neither does the fact that you have two rules. Shouldn&#39;t there be just one rule without any special pattern that is attached to the listener on port 80 and executes a redirect?"},{"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"score":0,"creation_date":1633667449,"post_id":69481851,"comment_id":122825785,"body_markdown":"@CherryDT: Appreciate your input. i am not clear what you meant by the content of the rules. I did not use any configuration file, all done through the web console. So i clicked on &quot;+ Add Rule&quot; and applied the same data as you see above into its fields.","body":"@CherryDT: Appreciate your input. i am not clear what you meant by the content of the rules. I did not use any configuration file, all done through the web console. So i clicked on &quot;+ Add Rule&quot; and applied the same data as you see above into its fields."},{"owner":{"account_id":2104315,"reputation":27145,"user_id":1871033,"display_name":"CherryDT"},"score":0,"creation_date":1633676472,"post_id":69481851,"comment_id":122827832,"body_markdown":"I&#39;m a bit confused, because rules have more settings than shown here. See this article for an example how correct https redirect rules in an ALB would look: https://mohitshrestha02.medium.com/redirect-http-and-www-requests-to-https-through-application-load-balancer-on-aws-ad11966c5218 - And the documentation for Beanstalk instead shows another method that _does_ use config files (which should be easier to deploy): https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/configuring-https-httpredirect.html","body":"I&#39;m a bit confused, because rules have more settings than shown here. See this article for an example how correct https redirect rules in an ALB would look: <a href=\"https://mohitshrestha02.medium.com/redirect-http-and-www-requests-to-https-through-application-load-balancer-on-aws-ad11966c5218\" rel=\"nofollow noreferrer\">mohitshrestha02.medium.com/&hellip;</a> - And the documentation for Beanstalk instead shows another method that <i>does</i> use config files (which should be easier to deploy): <a href=\"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/configuring-https-httpredirect.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/elasticbeanstalk/latest/dg/&hellip;</a>"}],"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633612418,"creation_date":1633612418,"question_id":69481851,"body_markdown":"I am using Elastic Beanstalk to deploy an application on Tomcat. I am using Application Load Balancer. I have used AWS Certificate Manager and generated a certificate, have a domain like app.example.com and I can access my application via https://app.example.com.\r\n\r\nHowever the app still accepts http requests. I need to force https.\r\n\r\nBelow are my application load balancer configurations.\r\n\r\nListeners\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nProcesses\r\n\r\n[![enter image description here][2]][2]\r\n\r\nRules\r\n\r\n[![enter image description here][3]][3]\r\n\r\nI have the same setting in another beanstalk and it works fine. What is wrong in here?\r\n\r\n  [1]: https://i.stack.imgur.com/1UB2s.png\r\n  [2]: https://i.stack.imgur.com/0OQxV.png\r\n  [3]: https://i.stack.imgur.com/o8uhE.png","title":"Not able to redirect HTTP to HTTPS in Elastic Beanstalk","body":"<p>I am using Elastic Beanstalk to deploy an application on Tomcat. I am using Application Load Balancer. I have used AWS Certificate Manager and generated a certificate, have a domain like app.example.com and I can access my application via <a href=\"https://app.example.com\" rel=\"nofollow noreferrer\">https://app.example.com</a>.</p>\n<p>However the app still accepts http requests. I need to force https.</p>\n<p>Below are my application load balancer configurations.</p>\n<p>Listeners</p>\n<p><a href=\"https://i.stack.imgur.com/1UB2s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1UB2s.png\" alt=\"enter image description here\" /></a></p>\n<p>Processes</p>\n<p><a href=\"https://i.stack.imgur.com/0OQxV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0OQxV.png\" alt=\"enter image description here\" /></a></p>\n<p>Rules</p>\n<p><a href=\"https://i.stack.imgur.com/o8uhE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o8uhE.png\" alt=\"enter image description here\" /></a></p>\n<p>I have the same setting in another beanstalk and it works fine. What is wrong in here?</p>\n"},{"tags":["java","properties","java.util.logging"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1633555477,"post_id":69472654,"comment_id":122794245,"body_markdown":"`mode != &quot;copy&quot;` is not how you do `String` comparison, use `String#equals` instead","body":"<code>mode != &quot;copy&quot;</code> is not how you do <code>String</code> comparison, use <code>String#equals</code> instead"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1633556075,"post_id":69472654,"comment_id":122794425,"body_markdown":"You shouldn&#39;t reference `src` with in your code.  If the files are contained within your application context, they are likely not going to be writable and can&#39;t be accessed as &quot;files&quot;","body":"You shouldn&#39;t reference <code>src</code> with in your code.  If the files are contained within your application context, they are likely not going to be writable and can&#39;t be accessed as &quot;files&quot;"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1633585064,"post_id":69472654,"comment_id":122799546,"body_markdown":"&quot;For some inputs&quot;: such as what? &quot;... the code is working incorrectly&quot;: such as how?","body":"&quot;For some inputs&quot;: such as what? &quot;... the code is working incorrectly&quot;: such as how?"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633598779,"creation_date":1633564320,"answer_id":69473875,"question_id":69472654,"body_markdown":"Don&#39;t compare `String`s with `==`. You should always use `equals()` instead. Read more at https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java.\r\n\r\nHaving said that, try the following:\r\n```java\r\npublic class Suffixing {\r\n    public static String PATH_TO_PROPERTIES = &quot;src/main/resources/config.properties&quot;;\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        FileInputStream fileInputStream;\r\n        Logger logging = Logger.getLogger(Suffixing.class.getName());\r\n        Properties prop = new Properties();\r\n\r\n        fileInputStream = new FileInputStream(PATH_TO_PROPERTIES);\r\n        prop.load(fileInputStream);\r\n        \r\n        String mode = prop.getProperty(&quot;mode&quot;);\r\n        String suffix = prop.getProperty(&quot;suffix&quot;);\r\n        String files = prop.getProperty(&quot;files&quot;);\r\n\r\n        File one = new File(&quot;D:/map/test/change.txt&quot;);\r\n        File two = new File(&quot;D:/map/test/further.txt&quot;);\r\n        File three = new File(&quot;D:/map/test/yandex.txt&quot;);\r\n        for (String file : files.split(&quot;:&quot;)) {\r\n            if (!Objects.equals(mode, &quot;copy&quot;)) {\r\n                logging.log(Level.SEVERE, &quot;Mode is not recognized: &quot; + mode);\r\n                fileInputStream.close();\r\n            } else if (prop.getProperty(suffix).isBlank()) {\r\n                logging.log(Level.SEVERE, &quot;No suffix is configured&quot;);\r\n                fileInputStream.close();\r\n            } else if (prop.getProperty(&quot;files&quot;).isBlank()) {\r\n                logging.log(Level.WARNING, &quot;No files are configured to be copied/moved&quot;);\r\n                fileInputStream.close();\r\n            } else if (!one.exists() || !two.exists() || !three.exists()) {\r\n                logging.log(Level.SEVERE, &quot;No such file: &quot;);\r\n            } else {\r\n                int at = file.indexOf(&#39;.&#39;);\r\n                String newFile = file.substring(0, at) + suffix + file.substring(at);\r\n                File dest = new File(&quot;D:/map/test&quot; + newFile);\r\n                logging.log(Level.INFO, prop.getProperty(&quot;files&quot;) + &quot;--&gt;&quot; + dest);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Adding a suffix to a file name before file extension","body":"<p>Don't compare <code>String</code>s with <code>==</code>. You should always use <code>equals()</code> instead. Read more at <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>.</p>\n<p>Having said that, try the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Suffixing {\n    public static String PATH_TO_PROPERTIES = &quot;src/main/resources/config.properties&quot;;\n\n    public static void main(String[] args) throws IOException {\n        FileInputStream fileInputStream;\n        Logger logging = Logger.getLogger(Suffixing.class.getName());\n        Properties prop = new Properties();\n\n        fileInputStream = new FileInputStream(PATH_TO_PROPERTIES);\n        prop.load(fileInputStream);\n        \n        String mode = prop.getProperty(&quot;mode&quot;);\n        String suffix = prop.getProperty(&quot;suffix&quot;);\n        String files = prop.getProperty(&quot;files&quot;);\n\n        File one = new File(&quot;D:/map/test/change.txt&quot;);\n        File two = new File(&quot;D:/map/test/further.txt&quot;);\n        File three = new File(&quot;D:/map/test/yandex.txt&quot;);\n        for (String file : files.split(&quot;:&quot;)) {\n            if (!Objects.equals(mode, &quot;copy&quot;)) {\n                logging.log(Level.SEVERE, &quot;Mode is not recognized: &quot; + mode);\n                fileInputStream.close();\n            } else if (prop.getProperty(suffix).isBlank()) {\n                logging.log(Level.SEVERE, &quot;No suffix is configured&quot;);\n                fileInputStream.close();\n            } else if (prop.getProperty(&quot;files&quot;).isBlank()) {\n                logging.log(Level.WARNING, &quot;No files are configured to be copied/moved&quot;);\n                fileInputStream.close();\n            } else if (!one.exists() || !two.exists() || !three.exists()) {\n                logging.log(Level.SEVERE, &quot;No such file: &quot;);\n            } else {\n                int at = file.indexOf('.');\n                String newFile = file.substring(0, at) + suffix + file.substring(at);\n                File dest = new File(&quot;D:/map/test&quot; + newFile);\n                logging.log(Level.INFO, prop.getProperty(&quot;files&quot;) + &quot;--&gt;&quot; + dest);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633611972,"creation_date":1633611546,"answer_id":69481640,"question_id":69472654,"body_markdown":"If you want to stop execution at first error, you would be better off by changing all the error logging like this:\r\n\r\n    logging.log(Level.SEVERE, &quot;Mode is not recognized: &quot; + mode);\r\n\r\nto throw RuntimeException (or whatever suitable exception class you pick) such as:\r\n\r\n    throw new RuntimeException(&quot;Mode is not recognized: &quot; + mode);\r\n\r\nYou should tidy your file handling, loading properties cleanly:\r\n\r\n    Properties prop = new Properties();\r\n    try(var in = new FileInputStream(PATH_TO_PROPERTIES)) {\r\n        prop.load(in);\r\n    }\r\n    String mode = prop.getProperty(&quot;mode&quot;);\r\n    String suffix = prop.getProperty(&quot;suffix&quot;);\r\n    String files = prop.getProperty(&quot;files&quot;);\r\n\r\nIt does not make sense to do all those checks inside the loop because they won&#39;t be executed unless &quot;files&quot; is set, so pull these out of the for loop:\r\n\r\n    if (!Objects.equals(mode, &quot;copy&quot;))\r\n        logging.log(Level.SEVERE, &quot;Mode is not recognized: &quot; + mode);\r\n    if (suffix == null || suffix.isBlank()) {\r\n        logging.log(Level.SEVERE, &quot;No suffix is configured&quot;);\r\n    }\r\n    if (files == null || files.isBlank()) {\r\n        logging.log(Level.WARNING, &quot;No files are configured to be copied/moved&quot;);\r\n    }\r\n\r\nIts not clear why you need one/two/three and this line if the files are read from config.properties:\r\n\r\n    if (!one.exists() || !two.exists() || !three.exists()) {\r\n         logging.log(Level.SEVERE, &quot;No such file: &quot;);\r\n\r\nThe loop over &quot;files&quot; should use `lastIndexOf()` in case there are dots in the directory names.\r\n\r\n    for (String file : files.split(&quot;:&quot;)) {\r\n        File f = new File(file);\r\n        if (!f.exists()) {\r\n            logging.log(Level.SEVERE, &quot;No such file: &quot;+f);\r\n        } else {\r\n            int at = file.lastIndexOf(&#39;.&#39;);\r\n            String newFile = file.substring(0, at) + &quot;-&quot; + suffix + file.substring(at);\r\n            File dest = new File(newFile);\r\n            logging.log(Level.INFO, f + &quot;--&gt;&quot; + dest);\r\n        }\r\n    }\r\n\r\nThe `split(&quot;:&quot;)` won&#39;t work for Windows paths with drive letters, but you have covered that issue in another [question][1].\r\n\r\n  [1]: https://stackoverflow.com/questions/69456499/substring-a-string-in-java","title":"Adding a suffix to a file name before file extension","body":"<p>If you want to stop execution at first error, you would be better off by changing all the error logging like this:</p>\n<pre><code>logging.log(Level.SEVERE, &quot;Mode is not recognized: &quot; + mode);\n</code></pre>\n<p>to throw RuntimeException (or whatever suitable exception class you pick) such as:</p>\n<pre><code>throw new RuntimeException(&quot;Mode is not recognized: &quot; + mode);\n</code></pre>\n<p>You should tidy your file handling, loading properties cleanly:</p>\n<pre><code>Properties prop = new Properties();\ntry(var in = new FileInputStream(PATH_TO_PROPERTIES)) {\n    prop.load(in);\n}\nString mode = prop.getProperty(&quot;mode&quot;);\nString suffix = prop.getProperty(&quot;suffix&quot;);\nString files = prop.getProperty(&quot;files&quot;);\n</code></pre>\n<p>It does not make sense to do all those checks inside the loop because they won't be executed unless &quot;files&quot; is set, so pull these out of the for loop:</p>\n<pre><code>if (!Objects.equals(mode, &quot;copy&quot;))\n    logging.log(Level.SEVERE, &quot;Mode is not recognized: &quot; + mode);\nif (suffix == null || suffix.isBlank()) {\n    logging.log(Level.SEVERE, &quot;No suffix is configured&quot;);\n}\nif (files == null || files.isBlank()) {\n    logging.log(Level.WARNING, &quot;No files are configured to be copied/moved&quot;);\n}\n</code></pre>\n<p>Its not clear why you need one/two/three and this line if the files are read from config.properties:</p>\n<pre><code>if (!one.exists() || !two.exists() || !three.exists()) {\n     logging.log(Level.SEVERE, &quot;No such file: &quot;);\n</code></pre>\n<p>The loop over &quot;files&quot; should use <code>lastIndexOf()</code> in case there are dots in the directory names.</p>\n<pre><code>for (String file : files.split(&quot;:&quot;)) {\n    File f = new File(file);\n    if (!f.exists()) {\n        logging.log(Level.SEVERE, &quot;No such file: &quot;+f);\n    } else {\n        int at = file.lastIndexOf('.');\n        String newFile = file.substring(0, at) + &quot;-&quot; + suffix + file.substring(at);\n        File dest = new File(newFile);\n        logging.log(Level.INFO, f + &quot;--&gt;&quot; + dest);\n    }\n}\n</code></pre>\n<p>The <code>split(&quot;:&quot;)</code> won't work for Windows paths with drive letters, but you have covered that issue in another <a href=\"https://stackoverflow.com/questions/69456499/substring-a-string-in-java\">question</a>.</p>\n"}],"owner":{"account_id":19608232,"reputation":25,"user_id":14351356,"display_name":"Petru Ciorba"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69481640,"answer_count":2,"score":0,"last_activity_date":1633611972,"creation_date":1633554410,"question_id":69472654,"body_markdown":"I need to create an application that adds some suffix to some file name before the file extension.\r\nThe application takes one obligatory argument - the path to a config file.\r\nI did a `config.properties` file whith `value/key:`\r\n\r\n`mode=copy` (keep the source file)\r\n`suffix=abc`\r\n`files=change.txt:further.txt:yandex.txt` (a list of files for suffixing. File paths are separated with column:.)\r\n\r\nFor log a message I use `java.util.logging`.\r\n\r\n- if mode from config is not recognized, log `Mode is not recognized: &lt;mod_input_value&gt;` at SEVERE level and stop the execution.\r\nExample: `Mode is not recognized: copi`\r\n- if suffix is not set, log `No suffix is configured` at SEVERE level and stop the execution.\r\n- if files are not specified, log `No files are configured to be copied/moved` at WARNING level and stop the execution.\r\n- if one of the specified files does not exist, log `No such file: &lt;file-path&gt;` at SEVERE level, but do not stop the processing of other files. Note that a file path in the message must contain not backslashes but forward slashes (&#39;/&#39;) to separate the path parts.\r\nExample: `No such file: src/test/resources/no-such-file.txt`\r\n- When copying a file, log `&lt;source-file&gt; -&gt; &lt;destination-file&gt;` at INFO level.\r\nNote, that file path in the message must contain  not backslashes but forward slashes (/) to separate path parts, not backslashes.\r\nExample: `src/test/resources/file.txt -&gt; src/test/resources/file-suffix.txt`\r\n \r\nI made the following code: \r\n\r\n        public class Suffixing {\r\n            public static String PATH_TO_PROPERTIES = &quot;src/main/resources/config.properties&quot;;\r\n        \r\n            public static void main(String[] args) throws IOException {\r\n        \r\n                FileInputStream fileInputStream;\r\n                Logger logging = Logger.getLogger(Suffixing.class.getName());\r\n                Properties prop = new Properties();\r\n        \r\n                fileInputStream = new FileInputStream(PATH_TO_PROPERTIES);\r\n                prop.load(fileInputStream);\r\n                \r\n                String mode = prop.getProperty(&quot;mode&quot;);\r\n                String suffix = prop.getProperty(&quot;suffix&quot;);\r\n                String files = prop.getProperty(&quot;files&quot;);\r\n    \r\n                File one = new File(&quot;D:/map/test/change.txt&quot;);\r\n                File two = new File(&quot;D:/map/test/further.txt&quot;);\r\n                File three = new File(&quot;D:/map/test/yandex.txt&quot;);\r\n                for (String file : files.split(&quot;:&quot;)) {\r\n        \r\n                    if (mode != &quot;copy&quot;) {\r\n                        logging.log(Level.SEVERE, &quot;Mode is not recognized: &quot; + mode);\r\n                        fileInputStream.close();\r\n                    } else if (prop.getProperty(suffix) == &quot;&quot;) {\r\n                        logging.log(Level.SEVERE, &quot;No suffix is configured&quot;);\r\n                        fileInputStream.close();\r\n                    } else if (prop.getProperty(&quot;files&quot;) == &quot;&quot;) {\r\n                        logging.log(Level.WARNING, &quot;No files are configured to be copied/moved&quot;);\r\n                        fileInputStream.close();\r\n                    } else if (!one.exists() || !two.exists() || !three.exists()) {\r\n                        logging.log(Level.SEVERE, &quot;No such file: &quot;);\r\n                    } else {\r\n        \r\n                        int at = file.indexOf(&#39;.&#39;);\r\n                        String newFile = file.substring(0, at) + suffix + file.substring(at);\r\n                        File dest = new File(&quot;D:/map/test&quot; + newFile);\r\n                        logging.log(Level.INFO, prop.getProperty(&quot;files&quot;) + &quot;--&gt;&quot; + dest);\r\n                    }\r\n                }\r\n        \r\n        \r\n            }\r\n        }\r\n\r\nFor some inputs the code is working incorrectly, what do I need to modify?\r\n","title":"Adding a suffix to a file name before file extension","body":"<p>I need to create an application that adds some suffix to some file name before the file extension.\nThe application takes one obligatory argument - the path to a config file.\nI did a <code>config.properties</code> file whith <code>value/key:</code></p>\n<p><code>mode=copy</code> (keep the source file)\n<code>suffix=abc</code>\n<code>files=change.txt:further.txt:yandex.txt</code> (a list of files for suffixing. File paths are separated with column:.)</p>\n<p>For log a message I use <code>java.util.logging</code>.</p>\n<ul>\n<li>if mode from config is not recognized, log <code>Mode is not recognized: &lt;mod_input_value&gt;</code> at SEVERE level and stop the execution.\nExample: <code>Mode is not recognized: copi</code></li>\n<li>if suffix is not set, log <code>No suffix is configured</code> at SEVERE level and stop the execution.</li>\n<li>if files are not specified, log <code>No files are configured to be copied/moved</code> at WARNING level and stop the execution.</li>\n<li>if one of the specified files does not exist, log <code>No such file: &lt;file-path&gt;</code> at SEVERE level, but do not stop the processing of other files. Note that a file path in the message must contain not backslashes but forward slashes ('/') to separate the path parts.\nExample: <code>No such file: src/test/resources/no-such-file.txt</code></li>\n<li>When copying a file, log <code>&lt;source-file&gt; -&gt; &lt;destination-file&gt;</code> at INFO level.\nNote, that file path in the message must contain  not backslashes but forward slashes (/) to separate path parts, not backslashes.\nExample: <code>src/test/resources/file.txt -&gt; src/test/resources/file-suffix.txt</code></li>\n</ul>\n<p>I made the following code:</p>\n<pre><code>    public class Suffixing {\n        public static String PATH_TO_PROPERTIES = &quot;src/main/resources/config.properties&quot;;\n    \n        public static void main(String[] args) throws IOException {\n    \n            FileInputStream fileInputStream;\n            Logger logging = Logger.getLogger(Suffixing.class.getName());\n            Properties prop = new Properties();\n    \n            fileInputStream = new FileInputStream(PATH_TO_PROPERTIES);\n            prop.load(fileInputStream);\n            \n            String mode = prop.getProperty(&quot;mode&quot;);\n            String suffix = prop.getProperty(&quot;suffix&quot;);\n            String files = prop.getProperty(&quot;files&quot;);\n\n            File one = new File(&quot;D:/map/test/change.txt&quot;);\n            File two = new File(&quot;D:/map/test/further.txt&quot;);\n            File three = new File(&quot;D:/map/test/yandex.txt&quot;);\n            for (String file : files.split(&quot;:&quot;)) {\n    \n                if (mode != &quot;copy&quot;) {\n                    logging.log(Level.SEVERE, &quot;Mode is not recognized: &quot; + mode);\n                    fileInputStream.close();\n                } else if (prop.getProperty(suffix) == &quot;&quot;) {\n                    logging.log(Level.SEVERE, &quot;No suffix is configured&quot;);\n                    fileInputStream.close();\n                } else if (prop.getProperty(&quot;files&quot;) == &quot;&quot;) {\n                    logging.log(Level.WARNING, &quot;No files are configured to be copied/moved&quot;);\n                    fileInputStream.close();\n                } else if (!one.exists() || !two.exists() || !three.exists()) {\n                    logging.log(Level.SEVERE, &quot;No such file: &quot;);\n                } else {\n    \n                    int at = file.indexOf('.');\n                    String newFile = file.substring(0, at) + suffix + file.substring(at);\n                    File dest = new File(&quot;D:/map/test&quot; + newFile);\n                    logging.log(Level.INFO, prop.getProperty(&quot;files&quot;) + &quot;--&gt;&quot; + dest);\n                }\n            }\n    \n    \n        }\n    }\n</code></pre>\n<p>For some inputs the code is working incorrectly, what do I need to modify?</p>\n"},{"tags":["java","windows","eclipse"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1481789650,"post_id":41159302,"comment_id":69519695,"body_markdown":"*.p2 is not existing and all my *.eclipse folders are 60 byte. i have no clue what your problem could be","body":"*.p2 is not existing and all my *.eclipse folders are 60 byte. i have no clue what your problem could be"},{"owner":{"account_id":412504,"reputation":512,"user_id":7014948,"display_name":"Peter Gelderbloem"},"score":0,"creation_date":1481789947,"post_id":41159302,"comment_id":69519827,"body_markdown":"Have you tried specifying the user.home property to point to the directory on commandline?","body":"Have you tried specifying the user.home property to point to the directory on commandline?"},{"owner":{"account_id":9842892,"reputation":418,"user_id":7291399,"display_name":"Scarfe"},"score":0,"creation_date":1481791825,"post_id":41159302,"comment_id":69520819,"body_markdown":"@XtremeBaumer Unfortunately because .p2 is the bundle pool, as soon as you download any package such as Maven / JUnit etc, the p2 folder quickly fills up.","body":"@XtremeBaumer Unfortunately because .p2 is the bundle pool, as soon as you download any package such as Maven / JUnit etc, the p2 folder quickly fills up."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1481792040,"post_id":41159302,"comment_id":69520933,"body_markdown":"i am using maven and p2 still does not exist","body":"i am using maven and p2 still does not exist"}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1481790881,"creation_date":1481790881,"answer_id":41159665,"question_id":41159302,"body_markdown":"The .p2 directory is where the Oomph installer puts everything it installs.\r\n\r\nYou can download &#39;package&#39; installs which have a lot of pre-installed things which will be in the install directory wherever you put it.\r\n\r\nPackage installs are at https://www.eclipse.org/downloads/eclipse-packages/ \r\n\r\nFor completeness I will also mention that there are also some package installs at http://download.eclipse.org/eclipse/downloads/ These are very minimal builds of Eclipse and don&#39;t include the Oomph installer at all. Everything you install using these builds will be put in the install directory.\r\n","title":"Move Eclipse installation to a folder outside of the user profile?","body":"<p>The .p2 directory is where the Oomph installer puts everything it installs.</p>\n\n<p>You can download 'package' installs which have a lot of pre-installed things which will be in the install directory wherever you put it.</p>\n\n<p>Package installs are at <a href=\"https://www.eclipse.org/downloads/eclipse-packages/\" rel=\"nofollow noreferrer\">https://www.eclipse.org/downloads/eclipse-packages/</a> </p>\n\n<p>For completeness I will also mention that there are also some package installs at <a href=\"http://download.eclipse.org/eclipse/downloads/\" rel=\"nofollow noreferrer\">http://download.eclipse.org/eclipse/downloads/</a> These are very minimal builds of Eclipse and don't include the Oomph installer at all. Everything you install using these builds will be put in the install directory.</p>\n"}],"owner":{"account_id":9842892,"reputation":418,"user_id":7291399,"display_name":"Scarfe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1647,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":41159665,"answer_count":1,"score":3,"last_activity_date":1633611892,"creation_date":1481789493,"question_id":41159302,"body_markdown":"Upon installing the Eclipse IDE, a number of hidden folders are created (for example `.p2` and `.eclipse`) under the user profile on the C: drive. \r\n\r\nThe problem I am having is that our user profiles at work are limited in size, and these folders exceed the limited amount. \r\n\r\nIf you attempt to move a folder to another location such as an external drive or network drive, Eclipse fails to start. I have tried searching for a config file whereby I could reappoint the file location, but have been unable to find anything of the sort. I presume it is set on initial installation.\r\n\r\nSo what I&#39;m asking is - is it possible to move the location of `.p2` (and potentially other hidden Eclipse installation folders), or is Eclipse dependant upon being installed into the user profile?\r\n\r\nMany Thanks,\r\nDan.","title":"Move Eclipse installation to a folder outside of the user profile?","body":"<p>Upon installing the Eclipse IDE, a number of hidden folders are created (for example <code>.p2</code> and <code>.eclipse</code>) under the user profile on the C: drive. </p>\n\n<p>The problem I am having is that our user profiles at work are limited in size, and these folders exceed the limited amount. </p>\n\n<p>If you attempt to move a folder to another location such as an external drive or network drive, Eclipse fails to start. I have tried searching for a config file whereby I could reappoint the file location, but have been unable to find anything of the sort. I presume it is set on initial installation.</p>\n\n<p>So what I'm asking is - is it possible to move the location of <code>.p2</code> (and potentially other hidden Eclipse installation folders), or is Eclipse dependant upon being installed into the user profile?</p>\n\n<p>Many Thanks,\nDan.</p>\n"},{"tags":["java","android","xml","drawable"],"answers":[{"tags":[],"owner":{"account_id":1786537,"reputation":6209,"user_id":1627904,"accept_rate":72,"display_name":"Kosh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1633611865,"creation_date":1373991094,"answer_id":17681713,"question_id":17680743,"body_markdown":"  \r\n\r\n    String folder = &quot;/sdcard/Pictures/MyAppFolder&quot;;\r\n\r\n    void save(){  \r\n        Imageview  view = (ImageView)findViewById(R.id.cachesView);\r\n        view.buildDrawingCache(); \r\n        Bitmap yourBitmap = view.getDrawingCache();  \r\n        final File myDir = new File(folder);\r\n    \tmyDir.mkdirs();\r\n    \tfinal Random generator = new Random();\r\n    \tint n = 10000;\r\n    \tn = generator.nextInt(n);\r\n    \tfinal String fname = &quot;StyleMe-&quot; + n + &quot;.png&quot;;\r\n    \tFile file = new File(myDir, fname);\r\n    \tif (file.exists()) {\r\n            FileOutputStream out = new FileOutputStream(file);\r\n    \t\tyourBitmap.compress(CompressFormat.JPEG, 100, out);\r\n    \t\tout.flush();\r\n    \t\tout.close();\r\n    \t\tsendBroadcast(\r\n    \t\t    new Intent(Intent.ACTION_MEDIA_MOUNTED,\r\n    \t\t    Uri.parse(&quot;file://&quot;+ Environment.getExternalStorageDirectory()))\r\n    \t\t); // this will refresh the gallery app.\r\n    \t\tToast.makeText(getApplication(), &quot;Image Saved&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n\r\n\r\nplease see \r\n-------\r\nadd this method in your class and on click button put \r\n\r\n    save();\r\n","title":"How to save image from drawable resource to sd card?","body":"<pre><code>String folder = &quot;/sdcard/Pictures/MyAppFolder&quot;;\n\nvoid save(){  \n    Imageview  view = (ImageView)findViewById(R.id.cachesView);\n    view.buildDrawingCache(); \n    Bitmap yourBitmap = view.getDrawingCache();  \n    final File myDir = new File(folder);\n    myDir.mkdirs();\n    final Random generator = new Random();\n    int n = 10000;\n    n = generator.nextInt(n);\n    final String fname = &quot;StyleMe-&quot; + n + &quot;.png&quot;;\n    File file = new File(myDir, fname);\n    if (file.exists()) {\n        FileOutputStream out = new FileOutputStream(file);\n        yourBitmap.compress(CompressFormat.JPEG, 100, out);\n        out.flush();\n        out.close();\n        sendBroadcast(\n            new Intent(Intent.ACTION_MEDIA_MOUNTED,\n            Uri.parse(&quot;file://&quot;+ Environment.getExternalStorageDirectory()))\n        ); // this will refresh the gallery app.\n        Toast.makeText(getApplication(), &quot;Image Saved&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<h2>please see</h2>\n<p>add this method in your class and on click button put</p>\n<pre><code>save();\n</code></pre>\n"}],"owner":{"account_id":2570653,"reputation":1042,"user_id":2229473,"accept_rate":49,"display_name":"marjanbaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2438,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":17681713,"answer_count":1,"score":0,"last_activity_date":1633611865,"creation_date":1373988393,"question_id":17680743,"body_markdown":"So, i have a view like on the image below. Plus I will add a Save button. You can also see my XML file. I am using this code to load image from drawable folder by pressing the next and previous buttons:\r\n\r\n\r\n    public void onClick(View v) {\r\n    \t\tswitch (v.getId()){\r\n    \t\t\r\n    \t\tcase R.id.bNext:\r\n    \t\t\ta++;\r\n    \t\t\tsetImage(a);\r\n    \t\t\tbreak;\r\n    \t\tcase R.id.bPrevious:\r\n    \t        if(a&gt;0)\r\n    \t        {\r\n    \t            a--;\r\n    \t            setImage(a);  \r\n    \t            break;\r\n    \t        }\r\n    \t\t}\r\n    \t}\r\n    \tprivate void setImage(int a){\r\n    \t\tif (a == 0)\r\n            {\r\n    \t\tslika.setImageResource(R.drawable.l2);\r\n    \t\ta = 1;\r\n            }\r\n    \t\telse if (a == 1)\r\n            {\r\n    \t\tslika.setImageResource(R.drawable.l3);\r\n    \t\ta = 2;\r\n            }\r\n    \t\telse if (a == 2)\r\n            {\r\n    \t\tslika.setImageResource(R.drawable.l4);\r\n    \t\ta = 3;\r\n            }\r\n    \t\telse if (a == 3)\r\n            {\r\n    \t\tslika.setImageResource(R.drawable.l5);\r\n    \t\ta = 4;\r\n            }\r\n    \t\telse if (a == 4)\r\n            {\r\n    \t\tslika.setImageResource(R.drawable.l6);\r\n    \t\ta = 5;\r\n            }\r\n    .\r\n    .\r\n    .\r\n    .\r\n    .\r\n    \t\telse if (a == 55)\r\n            {\r\n    \t\tslika.setImageResource(R.drawable.l57);\r\n    \t\ta = 56;\r\n            }\r\n            }\r\n\r\n\r\nI need to save the image that is currently on the screen. I found some answers on stackoverflow, but those are all for specific image with known name. I don&#39;t know what image a user will want to save.\r\n\r\n\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/s7Tcn.png\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;RelativeLayout  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;fill_parent&quot;\r\n            android:gravity=&quot;center&quot;&gt;\r\n            \r\n                    &lt;ImageView\r\n                android:id=&quot;@+id/imageView1&quot;\r\n                android:layout_width=&quot;fill_parent&quot;\r\n                android:layout_height=&quot;fill_parent&quot;\r\n                android:layout_centerHorizontal=&quot;true&quot;/&gt;\r\n            \r\n            &lt;Button\r\n                android:id=&quot;@+id/bMenu&quot;\r\n                android:layout_width=&quot;80dp&quot;\r\n                android:layout_height=&quot;35dp&quot;\r\n                android:layout_alignParentBottom=&quot;true&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;\r\n                android:layout_marginLeft=&quot;120dp&quot;\r\n                android:background=&quot;@drawable/buttons&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:padding=&quot;0dp&quot;\r\n                android:text=&quot;Menu&quot;\r\n                android:textColor=&quot;#ffffff&quot;\r\n                android:textSize=&quot;23dp&quot; /&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/bNext&quot;\r\n                android:layout_width=&quot;80dp&quot;\r\n                android:layout_height=&quot;35dp&quot;\r\n                android:layout_alignParentBottom=&quot;true&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;\r\n                android:layout_marginLeft=&quot;220dp&quot;\r\n                android:background=&quot;@drawable/buttons&quot;\r\n                android:padding=&quot;0dp&quot;\r\n                android:text=&quot;Next&quot;\r\n                android:textSize=&quot;23dp&quot;\r\n                android:textColor=&quot;#ffffff&quot; /&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/bPrevious&quot;\r\n                android:layout_width=&quot;80dp&quot;\r\n                android:layout_height=&quot;35dp&quot;\r\n                android:layout_alignParentBottom=&quot;true&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;\r\n                android:layout_marginLeft=&quot;20dp&quot;\r\n                android:background=&quot;@drawable/buttons&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:padding=&quot;0dp&quot;\r\n                android:text=&quot;Previous&quot;\r\n                android:textColor=&quot;#ffffff&quot;\r\n                android:textSize=&quot;23dp&quot; /&gt;\r\n    \r\n        &lt;/RelativeLayout&gt;\r\n","title":"How to save image from drawable resource to sd card?","body":"<p>So, i have a view like on the image below. Plus I will add a Save button. You can also see my XML file. I am using this code to load image from drawable folder by pressing the next and previous buttons:</p>\n\n<pre><code>public void onClick(View v) {\n        switch (v.getId()){\n\n        case R.id.bNext:\n            a++;\n            setImage(a);\n            break;\n        case R.id.bPrevious:\n            if(a&gt;0)\n            {\n                a--;\n                setImage(a);  \n                break;\n            }\n        }\n    }\n    private void setImage(int a){\n        if (a == 0)\n        {\n        slika.setImageResource(R.drawable.l2);\n        a = 1;\n        }\n        else if (a == 1)\n        {\n        slika.setImageResource(R.drawable.l3);\n        a = 2;\n        }\n        else if (a == 2)\n        {\n        slika.setImageResource(R.drawable.l4);\n        a = 3;\n        }\n        else if (a == 3)\n        {\n        slika.setImageResource(R.drawable.l5);\n        a = 4;\n        }\n        else if (a == 4)\n        {\n        slika.setImageResource(R.drawable.l6);\n        a = 5;\n        }\n.\n.\n.\n.\n.\n        else if (a == 55)\n        {\n        slika.setImageResource(R.drawable.l57);\n        a = 56;\n        }\n        }\n</code></pre>\n\n<p>I need to save the image that is currently on the screen. I found some answers on stackoverflow, but those are all for specific image with known name. I don't know what image a user will want to save.</p>\n\n<p><img src=\"https://i.stack.imgur.com/s7Tcn.png\" alt=\"enter image description here\"></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;RelativeLayout  xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"fill_parent\"\n        android:gravity=\"center\"&gt;\n\n                &lt;ImageView\n            android:id=\"@+id/imageView1\"\n            android:layout_width=\"fill_parent\"\n            android:layout_height=\"fill_parent\"\n            android:layout_centerHorizontal=\"true\"/&gt;\n\n        &lt;Button\n            android:id=\"@+id/bMenu\"\n            android:layout_width=\"80dp\"\n            android:layout_height=\"35dp\"\n            android:layout_alignParentBottom=\"true\"\n            android:layout_marginBottom=\"10dp\"\n            android:layout_marginLeft=\"120dp\"\n            android:background=\"@drawable/buttons\"\n            android:gravity=\"center\"\n            android:padding=\"0dp\"\n            android:text=\"Menu\"\n            android:textColor=\"#ffffff\"\n            android:textSize=\"23dp\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/bNext\"\n            android:layout_width=\"80dp\"\n            android:layout_height=\"35dp\"\n            android:layout_alignParentBottom=\"true\"\n            android:layout_marginBottom=\"10dp\"\n            android:layout_marginLeft=\"220dp\"\n            android:background=\"@drawable/buttons\"\n            android:padding=\"0dp\"\n            android:text=\"Next\"\n            android:textSize=\"23dp\"\n            android:textColor=\"#ffffff\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/bPrevious\"\n            android:layout_width=\"80dp\"\n            android:layout_height=\"35dp\"\n            android:layout_alignParentBottom=\"true\"\n            android:layout_marginBottom=\"10dp\"\n            android:layout_marginLeft=\"20dp\"\n            android:background=\"@drawable/buttons\"\n            android:gravity=\"center\"\n            android:padding=\"0dp\"\n            android:text=\"Previous\"\n            android:textColor=\"#ffffff\"\n            android:textSize=\"23dp\" /&gt;\n\n    &lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","xml","apache-camel","apache-karaf"],"answers":[{"tags":[],"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633611832,"creation_date":1633611832,"answer_id":69481717,"question_id":69348101,"body_markdown":"For starters you&#39;ve configured your dropbox endpoint incorrectly. The URI for dropbox component is `dropbox://[operation]?[options]` not `camel-dropbox`. Also dropbox has no query parameter named `message`.\r\n\r\n```xml\r\n&lt;endpoint id=&quot;sender&quot; uri=&quot;dropbox://put&quot;&gt;\r\n    &lt;property key=&quot;accessToken&quot; value=&quot;xxxxxx&quot;/&gt;\r\n    &lt;property key=&quot;clientIdentifier&quot; value=&quot;xxxxxx&quot;/&gt;\r\n    &lt;property key=&quot;remotePath&quot; value=&quot;/root/folder1&quot;/&gt;\r\n&lt;/endpoint&gt;\r\n```\r\n\r\nThen during test you could test the route with something like\r\n\r\n```java\r\n@Test\r\npublic void testRoute() throws Exception \r\n{\r\n\r\n    context.getRouteDefinition(&quot;timerToLog&quot;).adviceWith(context, new AdviceWithRouteBuilder(){\r\n\r\n        @Override\r\n        public void configure() throws Exception {\r\n            \r\n            replaceFromWith(&quot;direct:start&quot;);\r\n            weaveByToUri(&quot;ref:*&quot;)\r\n                .replace()\r\n                .to(&quot;mock:result&quot;);\r\n        }\r\n    });\r\n\r\n    context.start();        \r\n\r\n    MockEndpoint resultMockEndpoint = getMockEndpoint(&quot;mock:result&quot;);\r\n    resultMockEndpoint.expectedMessageCount(1);\r\n    resultMockEndpoint.message(0).body().isEqualTo(&quot;Hello world&quot;);\r\n\r\n    template.sendBody(&quot;direct:start&quot;, &quot;Hello world&quot;);\r\n\r\n    resultMockEndpoint.assertIsSatisfied();\r\n}  \r\n```\r\n\r\nSince we are using advice with remember to override method isUseAdviceWith and start your CamelContext manually during each test. \r\n\r\n```java\r\n@Override\r\npublic boolean isUseAdviceWith() {\r\n    return true;\r\n}\r\n```","title":"Error: Unable to start container for blueprint bundle null/0.0.0 , due to which application is shutting down/timeout before its execution start","body":"<p>For starters you've configured your dropbox endpoint incorrectly. The URI for dropbox component is <code>dropbox://[operation]?[options]</code> not <code>camel-dropbox</code>. Also dropbox has no query parameter named <code>message</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;endpoint id=&quot;sender&quot; uri=&quot;dropbox://put&quot;&gt;\n    &lt;property key=&quot;accessToken&quot; value=&quot;xxxxxx&quot;/&gt;\n    &lt;property key=&quot;clientIdentifier&quot; value=&quot;xxxxxx&quot;/&gt;\n    &lt;property key=&quot;remotePath&quot; value=&quot;/root/folder1&quot;/&gt;\n&lt;/endpoint&gt;\n</code></pre>\n<p>Then during test you could test the route with something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testRoute() throws Exception \n{\n\n    context.getRouteDefinition(&quot;timerToLog&quot;).adviceWith(context, new AdviceWithRouteBuilder(){\n\n        @Override\n        public void configure() throws Exception {\n            \n            replaceFromWith(&quot;direct:start&quot;);\n            weaveByToUri(&quot;ref:*&quot;)\n                .replace()\n                .to(&quot;mock:result&quot;);\n        }\n    });\n\n    context.start();        \n\n    MockEndpoint resultMockEndpoint = getMockEndpoint(&quot;mock:result&quot;);\n    resultMockEndpoint.expectedMessageCount(1);\n    resultMockEndpoint.message(0).body().isEqualTo(&quot;Hello world&quot;);\n\n    template.sendBody(&quot;direct:start&quot;, &quot;Hello world&quot;);\n\n    resultMockEndpoint.assertIsSatisfied();\n}  \n</code></pre>\n<p>Since we are using advice with remember to override method isUseAdviceWith and start your CamelContext manually during each test.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean isUseAdviceWith() {\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":22873218,"reputation":1,"user_id":17015930,"display_name":"Rashid Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633611832,"creation_date":1632751665,"question_id":69348101,"body_markdown":"**JAVA**\r\n\r\nAs you can see I have added below piece of code from Blueprint JUnit test-case class **BlueprintRouteTest.java** by which I can retrieve the messages from camel component classes via blueprint-bean.xml, but while executing this code as JUnit its getting shutdown since container for blueprint bundle is unable to start.\r\n        \r\n    package com.sap.dropbox;\r\n    \r\n    import java.util.concurrent.TimeUnit;\r\n    import org.apache.camel.Exchange;\r\n    import org.apache.camel.ExchangePattern;\r\n    import org.apache.camel.Message;\r\n    import org.apache.camel.Produce;\r\n    import org.apache.camel.ProducerTemplate;\r\n    import org.apache.camel.builder.AdviceWithRouteBuilder;\r\n    import org.apache.camel.builder.RouteBuilder;\r\n    import org.apache.camel.component.mock.MockEndpoint;\r\n    import org.apache.camel.impl.DefaultExchange;\r\n    import org.apache.camel.test.blueprint.CamelBlueprintTestSupport;\r\n    import org.junit.Test;\r\n    \r\n    public class BlueprintRouteTest extends CamelBlueprintTestSupport \r\n      \r\n      {\r\n       \t\r\n        @Produce(uri = &quot;camel-dropbox&quot;)\r\n    \tprotected ProducerTemplate inputEndpoint;\r\n    \r\n    \t@Override\r\n    \tprotected String getBlueprintDescriptor()\r\n        {\r\n    \t\treturn &quot;/OSGI-INF/blueprint/blueprint-bean.xml&quot;;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected String getBundleFilter()\r\n        {\r\n    \t\treturn &quot;(!(Bundle-SymbolicName=camel-dropbox.camelDropbox))&quot;;\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void testRoute() throws Exception \r\n    \t{\r\n    \t  context.getRouteDefinition(&quot;timerToLog&quot;).adviceWith(context, new \r\n          AdviceWithRouteBuilder() \r\n        {\r\n    \t\t@Override\r\n    \t\tpublic void configure() throws Exception\r\n             {\r\n    \t\t\tmockEndpointsAndSkip(&quot;camel-dropbox&quot;);\r\n    \t\t\tcontext.getShutdownStrategy().setTimeout(5000);\r\n    \t\t\tcontext.getShutdownStrategy().setTimeUnit(TimeUnit.SECONDS);\r\n    \t\t\t\r\n             }\r\n   \t });\r\n    \r\n    \t\tString request = &quot;Login Hello&quot;;\r\n    \t\tExchange senderExchange = new DefaultExchange(context, ExchangePattern.InOut);\r\n    \t\tsenderExchange.getIn().setBody(request);\r\n    \t\tExchange exchange = inputEndpoint.send(senderExchange);\r\n    \t\tMessage input = exchange.getIn();\r\n    \t\tString output = input.getBody(String.class);\r\n    \t\tSystem.out.println(&quot;SAP Test cases  &quot; + output);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n**blueprint-bean.xml**\r\n\r\nAs you can see below I have added **blueprint-bean.xml** content which shows how I am navigating to camel component classes via **blueprint-bean.xml**.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;blueprint xmlns=&quot;http://www.osgi.org/xmlns/blueprint/v1.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \t xmlns:cxf=&quot;http://cxf.apache.org/blueprint/core&quot;\r\n    \txmlns:cm=&quot;http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0&quot;\r\n    \txsi:schemaLocation=&quot;\r\n    http://www.osgi.org/xmlns/blueprint/v1.0.0 \r\n    https://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd\r\n    http://camel.apache.org/schema/blueprint http://camel.apache.org/schema/blueprint/camel- \r\n    blueprint.xsd\r\n    http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0 \r\n    http://aries.apache.org/schemas/blueprint-cm/blueprint-cm-1.1.0.xsd&quot;&gt;\r\n    \r\n    \t&lt;!-- &lt;cm:property-placeholder persistent-id=&quot;HelloBean&quot; update-strategy=&quot;reload&quot;&gt; \r\n    \t\t&lt;cm:default-properties&gt; &lt;cm:property name=&quot;greeting&quot; value=&quot;Hi from Camel&quot; \r\n    \t\t/&gt; &lt;/cm:default-properties&gt; &lt;/cm:property-placeholder&gt; \r\n    \t\t\r\n    \t\t&lt;bean id=&quot;helloBean&quot; \r\n    \t\tclass=&quot;com.sap.dropbox.HelloBean&quot;&gt; &lt;property name=&quot;say&quot; value=&quot;${​​​greeting}​​​&quot; \r\n    \t\t/&gt; &lt;/bean&gt; --&gt;\r\n    \t\t\r\n    \t&lt;camelContext id=&quot;blueprint-bean-context&quot; \r\n         xmlns=&quot;http://camel.apache.org/schema/blueprint&quot;&gt;\r\n    \t\r\n    \t&lt;endpoint id=&quot;sender&quot; uri=&quot;camel-dropbox&quot;&gt;\r\n    \t\t&lt;property key=&quot;message&quot; value=&quot;login successfully&quot; /&gt;\r\n    \t&lt;/endpoint&gt;\r\n    \t\r\n    \t&lt;route id=&quot;timerToLog&quot; &gt;\r\n    \t\t    &lt;!-- &lt;reference id=&quot;timerToLog&quot; interface=&quot;org.apache.camel.spi.ComponentResolver&quot; \r\n         timeout=&quot;30000&quot;/&gt; --&gt;\r\n    \t\t\t&lt;!--  &lt;from uri=&quot;timer:foo?period=5000&quot;/&gt;--&gt;\r\n    \t\t\t&lt;!-- &lt;setBody&gt; &lt;method ref=&quot;helloBean&quot; method=&quot;hello&quot; /&gt; &lt;/setBody&gt; --&gt;\r\n    \t\t\t&lt;from uri=&quot;timer:foo?period=6000s&amp;amp;delay=50s&quot; /&gt;\r\n    \t\t\t&lt;to uri=&quot;ref:sender&quot; /&gt;\r\n    \t&lt;/route&gt;\r\n    \t\r\n    \t&lt;/camelContext&gt;\r\n    &lt;/blueprint&gt;\r\n\r\n\r\n**Error from Eclipse Console**\r\n\r\nThis is the issue I am getting when I am executing **BlueprintRouteTest.java** class as JUnit Test since its unable to start container for blueprint bundle due to which application is shutting down before the execution start &amp; throws along **IndexOutOfBoundsException &amp; NullPointer Exception**.\r\n\r\n    [                          main] CamelBlueprintHelper           INFO  Using Blueprint XML file: /C:/Users/rashid.khan/OneDrive%20-%20HCL%20Technologies%20Ltd/Documents/eclipse/camelDropbox/target/classes/OSGI-INF/blueprint/blueprint-bean.xml\r\n    Sep 27, 2021 5:45:18 PM org.ops4j.pax.swissbox.tinybundles.core.metadata.RawBuilder run\r\n    INFO: Copy thread finished.\r\n    Sep 27, 2021 5:45:18 PM org.ops4j.pax.swissbox.tinybundles.core.metadata.RawBuilder run\r\n    INFO: Copy thread finished.\r\n    [         Blueprint Extender: 1] BlueprintContainerImpl         INFO  Blueprint bundle BlueprintRouteTest/1.0.0 is waiting for namespace handlers [http://camel.apache.org/schema/blueprint]\r\n    [         Blueprint Extender: 1] BlueprintContainerImpl         ERROR Unable to start container for blueprint bundle null/0.0.0\r\n    java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n    \tat java.util.ArrayList.rangeCheck(ArrayList.java:659) ~[?:1.8.0_291]\r\n    \tat java.util.ArrayList.get(ArrayList.java:435) ~[?:1.8.0_291]\r\n    \tat org.apache.aries.blueprint.container.BlueprintContainerImpl.readDirectives(BlueprintContainerImpl.java:218) ~[org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\r\n    \tat org.apache.aries.blueprint.container.BlueprintContainerImpl.doRun(BlueprintContainerImpl.java:304) [org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\r\n    \tat org.apache.aries.blueprint.container.BlueprintContainerImpl.run(BlueprintContainerImpl.java:278) [org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_291]\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_291]\r\n    \tat org.apache.aries.blueprint.container.ExecutorServiceWrapper.run(ExecutorServiceWrapper.java:106) [org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\r\n    \tat org.apache.aries.blueprint.utils.threading.impl.DiscardableRunnable.run(DiscardableRunnable.java:45) [org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_291]\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_291]\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_291]\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_291]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_291]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_291]\r\n    \tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_291]\r\n    [                          main] Activator                      INFO  Camel activator starting\r\n    [         Blueprint Extender: 1] BlueprintContainerImpl         INFO  Blueprint bundle org.apache.aries.blueprint.cm/1.3.0 has been started\r\n    [         Blueprint Extender: 3] BlueprintContainerImpl         INFO  Blueprint bundle org.apache.aries.blueprint.core/1.10.0 has been started\r\n    [         Blueprint Extender: 2] BlueprintContainerImpl         INFO  Blueprint bundle org.apache.camel.camel-blueprint/2.24.2 has been started\r\n    [                          main] Activator                      INFO  Camel activator started\r\n    [                          main] BlueprintEventDispatcher       WARN  Listener caused an exception, will be ignored\r\n    java.util.concurrent.ExecutionException: java.lang.NullPointerException\r\n    \tat java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[?:1.8.0_291]\r\n    \tat java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[?:1.8.0_291]\r\n    \tat java.util.concurrent.AbstractExecutorService.doInvokeAny(AbstractExecutorService.java:193) ~[?:1.8.0_291]\r\n    \tat java.util.concurrent.AbstractExecutorService.invokeAny(AbstractExecutorService.java:225) ~[?:1.8.0_291]\r\n    \tat org.apache.aries.blueprint.utils.threading.ScheduledExecutorServiceWrapper$4.call(ScheduledExecutorServiceWrapper.java:185) ~[org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\r\n    \tat org.apache.aries.blueprint.utils.threading.ScheduledExecutorServiceWrapper$15.call(ScheduledExecutorServiceWrapper.java:446) ~[org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\r\n    \tat org.apache.aries.blueprint.utils.threading.RWLock.runReadOperation(RWLock.java:33) ~[org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\r\n    \tat org.apache.aries.blueprint.utils.threading.ScheduledExecutorServiceWrapper.runUnlessShutdown(ScheduledExecutorServiceWrapper.java:443) ~[org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\r\n    \tat org.apache.aries.blueprint.utils.threading.ScheduledExecutorServiceWrapper.invokeAny(ScheduledExecutorServiceWrapper.java:180) ~[org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\r\n    \tat org.apache.aries.blueprint.container.BlueprintEventDispatcher.callListener(BlueprintEventDispatcher.java:188) [org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\r\n    \tat org.apache.aries.blueprint.container.BlueprintEventDispatcher.sendInitialEvents(BlueprintEventDispatcher.java:119) [org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\r\n    \tat org.apache.aries.blueprint.container.BlueprintEventDispatcher.access$100(BlueprintEventDispatcher.java:62) [org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\r\n    \tat org.apache.aries.blueprint.container.BlueprintEventDispatcher$2.addingService(BlueprintEventDispatcher.java:98) [org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\r\n    \tat org.apache.aries.blueprint.container.BlueprintEventDispatcher$2.addingService(BlueprintEventDispatcher.java:93) [org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\r\n    \tat org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:941) [org.apache.felix.connect-0.2.0.jar:?]\r\n    \tat org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:870) [org.apache.felix.connect-0.2.0.jar:?]\r\n    \tat org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:256) [org.apache.felix.connect-0.2.0.jar:?]\r\n    \tat org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:229) [org.apache.felix.connect-0.2.0.jar:?]\r\n    \tat org.osgi.util.tracker.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:901) [org.apache.felix.connect-0.2.0.jar:?]\r\n    \tat org.apache.felix.connect.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:852) [org.apache.felix.connect-0.2.0.jar:?]\r\n    \tat org.apache.felix.connect.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:775) [org.apache.felix.connect-0.2.0.jar:?]\r\n    \tat org.apache.felix.connect.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:594) [org.apache.felix.connect-0.2.0.jar:?]\r\n    \tat org.apache.felix.connect.PojoSR$1.serviceChanged(PojoSR.java:78) [org.apache.felix.connect-0.2.0.jar:?]\r\n    \tat org.apache.felix.connect.felix.framework.ServiceRegistry.registerService(ServiceRegistry.java:130) [org.apache.felix.connect-0.2.0.jar:?]\r\n    \tat org.apache.felix.connect.PojoSRBundleContext.registerService(PojoSRBundleContext.java:97) [org.apache.felix.connect-0.2.0.jar:?]\r\n    \tat org.apache.felix.connect.PojoSRBundleContext.registerService(PojoSRBundleContext.java:384) [org.apache.felix.connect-0.2.0.jar:?]\r\n    \tat org.apache.camel.test.blueprint.CamelBlueprintHelper.waitForBlueprintContainer(CamelBlueprintHelper.java:338) [camel-test-blueprint-2.24.2.jar:2.24.2]\r\n    \tat org.apache.camel.test.blueprint.CamelBlueprintTestSupport.createBundleContext(CamelBlueprintTestSupport.java:174) [camel-test-blueprint-2.24.2.jar:2.24.2]\r\n    \tat org.apache.camel.test.blueprint.CamelBlueprintTestSupport.setUp(CamelBlueprintTestSupport.java:248) [camel-test-blueprint-2.24.2.jar:2.24.2]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_291]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_291]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_291]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_291]\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24) [junit-4.12.jar:4.12]\r\n    \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.12.jar:4.12]\r\n    \tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55) [junit-4.12.jar:4.12]\r\n    \tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55) [junit-4.12.jar:4.12]\r\n    \tat org.junit.rules.RunRules.evaluate(RunRules.java:20) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86) [.cp/:?]\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) [.cp/:?]\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:538) [.cp/:?]\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:760) [.cp/:?]\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:460) [.cp/:?]\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:206) [.cp/:?]\r\n    Caused by: java.lang.NullPointerException\r\n    \tat org.apache.camel.test.blueprint.CamelBlueprintHelper$2.blueprintEvent(CamelBlueprintHelper.java:341) ~[camel-test-blueprint-2.24.2.jar:2.24.2]\r\n    \tat org.apache.aries.blueprint.container.BlueprintEventDispatcher$3.call(BlueprintEventDispatcher.java:190) ~[org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\r\n    \tat org.apache.aries.blueprint.container.BlueprintEventDispatcher$3.call(BlueprintEventDispatcher.java:188) ~[org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_291]\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_291]\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_291]\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_291]\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_291]\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) ~[?:1.8.0_291]\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) ~[?:1.8.0_291]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_291]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_291]\r\n    \tat java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_291]\r\n    [         Blueprint Extender: 1] BlueprintCamelStateService     INFO  Karaf BundleStateService not accessible. Bundle state won&#39;t reflect Camel context state\r\n    [         Blueprint Extender: 1] BlueprintContainerImpl         INFO  Blueprint bundle BlueprintRouteTest/1.0.0 has been started\r\n    [                          main] BlueprintRouteTest             INFO  ********************************************************************************\r\n    [ Blueprint Event Dispatcher: 1] BlueprintCamelContext          INFO  Attempting to start CamelContext: blueprint-bean-context\r\n    [                          main] BlueprintRouteTest             INFO  Testing: testRoute(com.sap.dropbox.BlueprintRouteTest)\r\n    [                          main] BlueprintRouteTest             INFO  ********************************************************************************\r\n    [                          main] BlueprintRouteTest             INFO  Skipping starting CamelContext as system property skipStartingCamelContext is set to be true.\r\n    [                          main] BlueprintCamelContext          INFO  Apache Camel 2.24.2 (CamelContext: blueprint-bean-context) is starting\r\n    [                          main] ManagedManagementStrategy      INFO  JMX is enabled\r\n    [                          main] BlueprintCamelContext          INFO  StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html\r\n    [                          main] BlueprintCamelContext          INFO  Route: timerToLog started and consuming from: timer://foo?delay=50s&amp;period=6000s\r\n    [                          main] BlueprintCamelContext          INFO  Total 1 routes, of which 1 are started\r\n    [                          main] BlueprintCamelContext          INFO  Apache Camel 2.24.2 (CamelContext: blueprint-bean-context) started in 0.229 seconds\r\n    [                          main] ceptSendToMockEndpointStrategy INFO  Adviced endpoint [camel-dropbox] with mock endpoint [mock:camel-dropbox]\r\n    [                          main] DefaultShutdownStrategy        INFO  Starting to graceful shutdown 1 routes (timeout 5000 seconds)\r\n    [text) thread #2 - ShutdownTask] DefaultShutdownStrategy        INFO  Route: timerToLog shutdown complete, was consuming from: timer://foo?delay=50s&amp;period=6000s\r\n    [                          main] DefaultShutdownStrategy        INFO  Graceful shutdown of 1 routes completed in 0 seconds\r\n    [                          main] BlueprintCamelContext          INFO  Route: timerToLog is stopped, was consuming from: timer://foo?delay=50s&amp;period=6000s\r\n    [                          main] BlueprintCamelContext          INFO  Route: timerToLog is shutdown and removed, was consuming from: timer://foo?delay=50s&amp;period=6000s\r\n    [                          main] RouteDefinition                INFO  AdviceWith route after: Route(timerToLog)[[From[timer:foo?period=6000s&amp;delay=50s]] -&gt; [To[ref:sender]]]\r\n    [                          main] RouteDefinition                INFO  Adviced route before/after as XML:\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;route xmlns=&quot;http://camel.apache.org/schema/spring&quot; customId=&quot;true&quot; id=&quot;timerToLog&quot;&gt;\r\n        &lt;from uri=&quot;timer:foo?period=6000s&amp;amp;delay=50s&quot;/&gt;\r\n        &lt;to id=&quot;to1&quot; uri=&quot;ref:sender&quot;/&gt;\r\n    &lt;/route&gt;\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;route xmlns=&quot;http://camel.apache.org/schema/spring&quot; customId=&quot;true&quot; id=&quot;timerToLog&quot;&gt;\r\n        &lt;from uri=&quot;timer:foo?period=6000s&amp;amp;delay=50s&quot;/&gt;\r\n        &lt;to id=&quot;to1&quot; uri=&quot;ref:sender&quot;/&gt;\r\n    &lt;/route&gt;\r\n    \r\n    [                          main] BlueprintCamelContext          INFO  Route: timerToLog started and consuming from: timer://foo?delay=50s&amp;period=6000s\r\n     Dropbox Producer message from blueprint xml: $$: Login Hello\r\n    SAP Test cases  Login Hello\r\n    [                          main] BlueprintRouteTest             INFO  ********************************************************************************\r\n    [                          main] BlueprintRouteTest             INFO  Testing done: testRoute(com.sap.dropbox.BlueprintRouteTest)\r\n    [                          main] BlueprintRouteTest             INFO  Took: 0.555 seconds (555 millis)\r\n    [                          main] BlueprintRouteTest             INFO  ********************************************************************************\r\n    [                          main] BlueprintCamelContext          INFO  Apache Camel 2.24.2 (CamelContext: blueprint-bean-context) is shutting down\r\n    [                          main] DefaultShutdownStrategy        INFO  Starting to graceful shutdown 1 routes (timeout 5000 seconds)\r\n    [text) thread #2 - ShutdownTask] DefaultShutdownStrategy        INFO  Route: timerToLog shutdown complete, was consuming from: timer://foo?delay=50s&amp;period=6000s\r\n    [                          main] DefaultShutdownStrategy        INFO  Graceful shutdown of 1 routes completed in 0 seconds\r\n    [                          main] BlueprintCamelContext          INFO  Apache Camel 2.24.2 (CamelContext: blueprint-bean-context) uptime 0.568 seconds\r\n    [                          main] BlueprintCamelContext          INFO  Apache Camel 2.24.2 (CamelContext: blueprint-bean-context) is shutdown in 0.014 seconds\r\n\r\n","title":"Error: Unable to start container for blueprint bundle null/0.0.0 , due to which application is shutting down/timeout before its execution start","body":"<p><strong>JAVA</strong></p>\n<p>As you can see I have added below piece of code from Blueprint JUnit test-case class <strong>BlueprintRouteTest.java</strong> by which I can retrieve the messages from camel component classes via blueprint-bean.xml, but while executing this code as JUnit its getting shutdown since container for blueprint bundle is unable to start.</p>\n<pre><code>package com.sap.dropbox;\n\nimport java.util.concurrent.TimeUnit;\nimport org.apache.camel.Exchange;\nimport org.apache.camel.ExchangePattern;\nimport org.apache.camel.Message;\nimport org.apache.camel.Produce;\nimport org.apache.camel.ProducerTemplate;\nimport org.apache.camel.builder.AdviceWithRouteBuilder;\nimport org.apache.camel.builder.RouteBuilder;\nimport org.apache.camel.component.mock.MockEndpoint;\nimport org.apache.camel.impl.DefaultExchange;\nimport org.apache.camel.test.blueprint.CamelBlueprintTestSupport;\nimport org.junit.Test;\n\npublic class BlueprintRouteTest extends CamelBlueprintTestSupport \n  \n  {\n    \n    @Produce(uri = &quot;camel-dropbox&quot;)\n    protected ProducerTemplate inputEndpoint;\n\n    @Override\n    protected String getBlueprintDescriptor()\n    {\n        return &quot;/OSGI-INF/blueprint/blueprint-bean.xml&quot;;\n    }\n\n    @Override\n    protected String getBundleFilter()\n    {\n        return &quot;(!(Bundle-SymbolicName=camel-dropbox.camelDropbox))&quot;;\n    }\n\n    @Test\n    public void testRoute() throws Exception \n    {\n      context.getRouteDefinition(&quot;timerToLog&quot;).adviceWith(context, new \n      AdviceWithRouteBuilder() \n    {\n        @Override\n        public void configure() throws Exception\n         {\n            mockEndpointsAndSkip(&quot;camel-dropbox&quot;);\n            context.getShutdownStrategy().setTimeout(5000);\n            context.getShutdownStrategy().setTimeUnit(TimeUnit.SECONDS);\n            \n         }\n });\n\n        String request = &quot;Login Hello&quot;;\n        Exchange senderExchange = new DefaultExchange(context, ExchangePattern.InOut);\n        senderExchange.getIn().setBody(request);\n        Exchange exchange = inputEndpoint.send(senderExchange);\n        Message input = exchange.getIn();\n        String output = input.getBody(String.class);\n        System.out.println(&quot;SAP Test cases  &quot; + output);\n        \n    }\n\n}\n</code></pre>\n<p><strong>blueprint-bean.xml</strong></p>\n<p>As you can see below I have added <strong>blueprint-bean.xml</strong> content which shows how I am navigating to camel component classes via <strong>blueprint-bean.xml</strong>.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;blueprint xmlns=&quot;http://www.osgi.org/xmlns/blueprint/v1.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xmlns:cxf=&quot;http://cxf.apache.org/blueprint/core&quot;\n    xmlns:cm=&quot;http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0&quot;\n    xsi:schemaLocation=&quot;\nhttp://www.osgi.org/xmlns/blueprint/v1.0.0 \nhttps://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd\nhttp://camel.apache.org/schema/blueprint http://camel.apache.org/schema/blueprint/camel- \nblueprint.xsd\nhttp://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0 \nhttp://aries.apache.org/schemas/blueprint-cm/blueprint-cm-1.1.0.xsd&quot;&gt;\n\n    &lt;!-- &lt;cm:property-placeholder persistent-id=&quot;HelloBean&quot; update-strategy=&quot;reload&quot;&gt; \n        &lt;cm:default-properties&gt; &lt;cm:property name=&quot;greeting&quot; value=&quot;Hi from Camel&quot; \n        /&gt; &lt;/cm:default-properties&gt; &lt;/cm:property-placeholder&gt; \n        \n        &lt;bean id=&quot;helloBean&quot; \n        class=&quot;com.sap.dropbox.HelloBean&quot;&gt; &lt;property name=&quot;say&quot; value=&quot;${​​​greeting}​​​&quot; \n        /&gt; &lt;/bean&gt; --&gt;\n        \n    &lt;camelContext id=&quot;blueprint-bean-context&quot; \n     xmlns=&quot;http://camel.apache.org/schema/blueprint&quot;&gt;\n    \n    &lt;endpoint id=&quot;sender&quot; uri=&quot;camel-dropbox&quot;&gt;\n        &lt;property key=&quot;message&quot; value=&quot;login successfully&quot; /&gt;\n    &lt;/endpoint&gt;\n    \n    &lt;route id=&quot;timerToLog&quot; &gt;\n            &lt;!-- &lt;reference id=&quot;timerToLog&quot; interface=&quot;org.apache.camel.spi.ComponentResolver&quot; \n     timeout=&quot;30000&quot;/&gt; --&gt;\n            &lt;!--  &lt;from uri=&quot;timer:foo?period=5000&quot;/&gt;--&gt;\n            &lt;!-- &lt;setBody&gt; &lt;method ref=&quot;helloBean&quot; method=&quot;hello&quot; /&gt; &lt;/setBody&gt; --&gt;\n            &lt;from uri=&quot;timer:foo?period=6000s&amp;amp;delay=50s&quot; /&gt;\n            &lt;to uri=&quot;ref:sender&quot; /&gt;\n    &lt;/route&gt;\n    \n    &lt;/camelContext&gt;\n&lt;/blueprint&gt;\n</code></pre>\n<p><strong>Error from Eclipse Console</strong></p>\n<p>This is the issue I am getting when I am executing <strong>BlueprintRouteTest.java</strong> class as JUnit Test since its unable to start container for blueprint bundle due to which application is shutting down before the execution start &amp; throws along <strong>IndexOutOfBoundsException &amp; NullPointer Exception</strong>.</p>\n<pre><code>[                          main] CamelBlueprintHelper           INFO  Using Blueprint XML file: /C:/Users/rashid.khan/OneDrive%20-%20HCL%20Technologies%20Ltd/Documents/eclipse/camelDropbox/target/classes/OSGI-INF/blueprint/blueprint-bean.xml\nSep 27, 2021 5:45:18 PM org.ops4j.pax.swissbox.tinybundles.core.metadata.RawBuilder run\nINFO: Copy thread finished.\nSep 27, 2021 5:45:18 PM org.ops4j.pax.swissbox.tinybundles.core.metadata.RawBuilder run\nINFO: Copy thread finished.\n[         Blueprint Extender: 1] BlueprintContainerImpl         INFO  Blueprint bundle BlueprintRouteTest/1.0.0 is waiting for namespace handlers [http://camel.apache.org/schema/blueprint]\n[         Blueprint Extender: 1] BlueprintContainerImpl         ERROR Unable to start container for blueprint bundle null/0.0.0\njava.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n    at java.util.ArrayList.rangeCheck(ArrayList.java:659) ~[?:1.8.0_291]\n    at java.util.ArrayList.get(ArrayList.java:435) ~[?:1.8.0_291]\n    at org.apache.aries.blueprint.container.BlueprintContainerImpl.readDirectives(BlueprintContainerImpl.java:218) ~[org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\n    at org.apache.aries.blueprint.container.BlueprintContainerImpl.doRun(BlueprintContainerImpl.java:304) [org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\n    at org.apache.aries.blueprint.container.BlueprintContainerImpl.run(BlueprintContainerImpl.java:278) [org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_291]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_291]\n    at org.apache.aries.blueprint.container.ExecutorServiceWrapper.run(ExecutorServiceWrapper.java:106) [org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\n    at org.apache.aries.blueprint.utils.threading.impl.DiscardableRunnable.run(DiscardableRunnable.java:45) [org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_291]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_291]\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_291]\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_291]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_291]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_291]\n    at java.lang.Thread.run(Thread.java:748) [?:1.8.0_291]\n[                          main] Activator                      INFO  Camel activator starting\n[         Blueprint Extender: 1] BlueprintContainerImpl         INFO  Blueprint bundle org.apache.aries.blueprint.cm/1.3.0 has been started\n[         Blueprint Extender: 3] BlueprintContainerImpl         INFO  Blueprint bundle org.apache.aries.blueprint.core/1.10.0 has been started\n[         Blueprint Extender: 2] BlueprintContainerImpl         INFO  Blueprint bundle org.apache.camel.camel-blueprint/2.24.2 has been started\n[                          main] Activator                      INFO  Camel activator started\n[                          main] BlueprintEventDispatcher       WARN  Listener caused an exception, will be ignored\njava.util.concurrent.ExecutionException: java.lang.NullPointerException\n    at java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[?:1.8.0_291]\n    at java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[?:1.8.0_291]\n    at java.util.concurrent.AbstractExecutorService.doInvokeAny(AbstractExecutorService.java:193) ~[?:1.8.0_291]\n    at java.util.concurrent.AbstractExecutorService.invokeAny(AbstractExecutorService.java:225) ~[?:1.8.0_291]\n    at org.apache.aries.blueprint.utils.threading.ScheduledExecutorServiceWrapper$4.call(ScheduledExecutorServiceWrapper.java:185) ~[org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\n    at org.apache.aries.blueprint.utils.threading.ScheduledExecutorServiceWrapper$15.call(ScheduledExecutorServiceWrapper.java:446) ~[org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\n    at org.apache.aries.blueprint.utils.threading.RWLock.runReadOperation(RWLock.java:33) ~[org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\n    at org.apache.aries.blueprint.utils.threading.ScheduledExecutorServiceWrapper.runUnlessShutdown(ScheduledExecutorServiceWrapper.java:443) ~[org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\n    at org.apache.aries.blueprint.utils.threading.ScheduledExecutorServiceWrapper.invokeAny(ScheduledExecutorServiceWrapper.java:180) ~[org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\n    at org.apache.aries.blueprint.container.BlueprintEventDispatcher.callListener(BlueprintEventDispatcher.java:188) [org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\n    at org.apache.aries.blueprint.container.BlueprintEventDispatcher.sendInitialEvents(BlueprintEventDispatcher.java:119) [org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\n    at org.apache.aries.blueprint.container.BlueprintEventDispatcher.access$100(BlueprintEventDispatcher.java:62) [org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\n    at org.apache.aries.blueprint.container.BlueprintEventDispatcher$2.addingService(BlueprintEventDispatcher.java:98) [org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\n    at org.apache.aries.blueprint.container.BlueprintEventDispatcher$2.addingService(BlueprintEventDispatcher.java:93) [org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\n    at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:941) [org.apache.felix.connect-0.2.0.jar:?]\n    at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:870) [org.apache.felix.connect-0.2.0.jar:?]\n    at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:256) [org.apache.felix.connect-0.2.0.jar:?]\n    at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:229) [org.apache.felix.connect-0.2.0.jar:?]\n    at org.osgi.util.tracker.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:901) [org.apache.felix.connect-0.2.0.jar:?]\n    at org.apache.felix.connect.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:852) [org.apache.felix.connect-0.2.0.jar:?]\n    at org.apache.felix.connect.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:775) [org.apache.felix.connect-0.2.0.jar:?]\n    at org.apache.felix.connect.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:594) [org.apache.felix.connect-0.2.0.jar:?]\n    at org.apache.felix.connect.PojoSR$1.serviceChanged(PojoSR.java:78) [org.apache.felix.connect-0.2.0.jar:?]\n    at org.apache.felix.connect.felix.framework.ServiceRegistry.registerService(ServiceRegistry.java:130) [org.apache.felix.connect-0.2.0.jar:?]\n    at org.apache.felix.connect.PojoSRBundleContext.registerService(PojoSRBundleContext.java:97) [org.apache.felix.connect-0.2.0.jar:?]\n    at org.apache.felix.connect.PojoSRBundleContext.registerService(PojoSRBundleContext.java:384) [org.apache.felix.connect-0.2.0.jar:?]\n    at org.apache.camel.test.blueprint.CamelBlueprintHelper.waitForBlueprintContainer(CamelBlueprintHelper.java:338) [camel-test-blueprint-2.24.2.jar:2.24.2]\n    at org.apache.camel.test.blueprint.CamelBlueprintTestSupport.createBundleContext(CamelBlueprintTestSupport.java:174) [camel-test-blueprint-2.24.2.jar:2.24.2]\n    at org.apache.camel.test.blueprint.CamelBlueprintTestSupport.setUp(CamelBlueprintTestSupport.java:248) [camel-test-blueprint-2.24.2.jar:2.24.2]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_291]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_291]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_291]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_291]\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24) [junit-4.12.jar:4.12]\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.12.jar:4.12]\n    at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55) [junit-4.12.jar:4.12]\n    at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55) [junit-4.12.jar:4.12]\n    at org.junit.rules.RunRules.evaluate(RunRules.java:20) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) [junit-4.12.jar:4.12]\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86) [.cp/:?]\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) [.cp/:?]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:538) [.cp/:?]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:760) [.cp/:?]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:460) [.cp/:?]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:206) [.cp/:?]\nCaused by: java.lang.NullPointerException\n    at org.apache.camel.test.blueprint.CamelBlueprintHelper$2.blueprintEvent(CamelBlueprintHelper.java:341) ~[camel-test-blueprint-2.24.2.jar:2.24.2]\n    at org.apache.aries.blueprint.container.BlueprintEventDispatcher$3.call(BlueprintEventDispatcher.java:190) ~[org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\n    at org.apache.aries.blueprint.container.BlueprintEventDispatcher$3.call(BlueprintEventDispatcher.java:188) ~[org.apache.aries.blueprint.core-1.10.0.jar:1.10.0]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_291]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_291]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_291]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_291]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_291]\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) ~[?:1.8.0_291]\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) ~[?:1.8.0_291]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_291]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_291]\n    at java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_291]\n[         Blueprint Extender: 1] BlueprintCamelStateService     INFO  Karaf BundleStateService not accessible. Bundle state won't reflect Camel context state\n[         Blueprint Extender: 1] BlueprintContainerImpl         INFO  Blueprint bundle BlueprintRouteTest/1.0.0 has been started\n[                          main] BlueprintRouteTest             INFO  ********************************************************************************\n[ Blueprint Event Dispatcher: 1] BlueprintCamelContext          INFO  Attempting to start CamelContext: blueprint-bean-context\n[                          main] BlueprintRouteTest             INFO  Testing: testRoute(com.sap.dropbox.BlueprintRouteTest)\n[                          main] BlueprintRouteTest             INFO  ********************************************************************************\n[                          main] BlueprintRouteTest             INFO  Skipping starting CamelContext as system property skipStartingCamelContext is set to be true.\n[                          main] BlueprintCamelContext          INFO  Apache Camel 2.24.2 (CamelContext: blueprint-bean-context) is starting\n[                          main] ManagedManagementStrategy      INFO  JMX is enabled\n[                          main] BlueprintCamelContext          INFO  StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html\n[                          main] BlueprintCamelContext          INFO  Route: timerToLog started and consuming from: timer://foo?delay=50s&amp;period=6000s\n[                          main] BlueprintCamelContext          INFO  Total 1 routes, of which 1 are started\n[                          main] BlueprintCamelContext          INFO  Apache Camel 2.24.2 (CamelContext: blueprint-bean-context) started in 0.229 seconds\n[                          main] ceptSendToMockEndpointStrategy INFO  Adviced endpoint [camel-dropbox] with mock endpoint [mock:camel-dropbox]\n[                          main] DefaultShutdownStrategy        INFO  Starting to graceful shutdown 1 routes (timeout 5000 seconds)\n[text) thread #2 - ShutdownTask] DefaultShutdownStrategy        INFO  Route: timerToLog shutdown complete, was consuming from: timer://foo?delay=50s&amp;period=6000s\n[                          main] DefaultShutdownStrategy        INFO  Graceful shutdown of 1 routes completed in 0 seconds\n[                          main] BlueprintCamelContext          INFO  Route: timerToLog is stopped, was consuming from: timer://foo?delay=50s&amp;period=6000s\n[                          main] BlueprintCamelContext          INFO  Route: timerToLog is shutdown and removed, was consuming from: timer://foo?delay=50s&amp;period=6000s\n[                          main] RouteDefinition                INFO  AdviceWith route after: Route(timerToLog)[[From[timer:foo?period=6000s&amp;delay=50s]] -&gt; [To[ref:sender]]]\n[                          main] RouteDefinition                INFO  Adviced route before/after as XML:\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;route xmlns=&quot;http://camel.apache.org/schema/spring&quot; customId=&quot;true&quot; id=&quot;timerToLog&quot;&gt;\n    &lt;from uri=&quot;timer:foo?period=6000s&amp;amp;delay=50s&quot;/&gt;\n    &lt;to id=&quot;to1&quot; uri=&quot;ref:sender&quot;/&gt;\n&lt;/route&gt;\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;route xmlns=&quot;http://camel.apache.org/schema/spring&quot; customId=&quot;true&quot; id=&quot;timerToLog&quot;&gt;\n    &lt;from uri=&quot;timer:foo?period=6000s&amp;amp;delay=50s&quot;/&gt;\n    &lt;to id=&quot;to1&quot; uri=&quot;ref:sender&quot;/&gt;\n&lt;/route&gt;\n\n[                          main] BlueprintCamelContext          INFO  Route: timerToLog started and consuming from: timer://foo?delay=50s&amp;period=6000s\n Dropbox Producer message from blueprint xml: $$: Login Hello\nSAP Test cases  Login Hello\n[                          main] BlueprintRouteTest             INFO  ********************************************************************************\n[                          main] BlueprintRouteTest             INFO  Testing done: testRoute(com.sap.dropbox.BlueprintRouteTest)\n[                          main] BlueprintRouteTest             INFO  Took: 0.555 seconds (555 millis)\n[                          main] BlueprintRouteTest             INFO  ********************************************************************************\n[                          main] BlueprintCamelContext          INFO  Apache Camel 2.24.2 (CamelContext: blueprint-bean-context) is shutting down\n[                          main] DefaultShutdownStrategy        INFO  Starting to graceful shutdown 1 routes (timeout 5000 seconds)\n[text) thread #2 - ShutdownTask] DefaultShutdownStrategy        INFO  Route: timerToLog shutdown complete, was consuming from: timer://foo?delay=50s&amp;period=6000s\n[                          main] DefaultShutdownStrategy        INFO  Graceful shutdown of 1 routes completed in 0 seconds\n[                          main] BlueprintCamelContext          INFO  Apache Camel 2.24.2 (CamelContext: blueprint-bean-context) uptime 0.568 seconds\n[                          main] BlueprintCamelContext          INFO  Apache Camel 2.24.2 (CamelContext: blueprint-bean-context) is shutdown in 0.014 seconds\n</code></pre>\n"},{"tags":["java","spring-boot","microservices","log4j2","cross-cutting-concerns"],"owner":{"account_id":22929774,"reputation":11,"user_id":17064290,"display_name":"Saurabh kumar Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633611636,"creation_date":1633611636,"question_id":69481664,"body_markdown":"I want to override some configuration programmatically for the default in my common library that should be automatically loaded by other spring boot application loading it.\r\nHow should I approach it. \r\nWhat I have tried is \r\n\r\n    \r\n    @Plugin(name = &quot;CustomConfigurationFactory&quot;, category = ConfigurationFactory.CATEGORY)\r\n    @Order(50)\r\n    public class CustomConfigurationFactory extends ConfigurationFactory {\r\n    static Configuration createConfiguration(final String name, ConfigurationBuilder&lt;BuiltConfiguration&gt; builder) {\r\n            builder.setConfigurationName(name);\r\n            builder.setStatusLevel(Level.DEBUG);\r\n            builder.add(builder.newFilter(&quot;ThresholdFilter&quot;, Filter.Result.ACCEPT, Filter.Result.NEUTRAL).\r\n                    addAttribute(&quot;level&quot;, Level.DEBUG));\r\n            AppenderComponentBuilder appenderBuilder = builder.newAppender(&quot;Stdout&quot;, &quot;CONSOLE&quot;).\r\n                    addAttribute(&quot;target&quot;, ConsoleAppender.Target.SYSTEM_OUT);\r\n            appenderBuilder.add(builder.newLayout(&quot;PatternLayout&quot;).\r\n                    addAttribute(&quot;pattern&quot;, &quot;%d [%t]&quot;));\r\n            appenderBuilder.add(builder.newFilter(&quot;MarkerFilter&quot;, Filter.Result.DENY,\r\n                    Filter.Result.NEUTRAL).addAttribute(&quot;marker&quot;, &quot;FLOW&quot;));\r\n            builder.add(appenderBuilder);\r\n            builder.add(builder.newLogger(&quot;org.apache.logging.log4j&quot;, Level.DEBUG).\r\n                    add(builder.newAppenderRef(&quot;Stdout&quot;)).\r\n                    addAttribute(&quot;additivity&quot;, false));\r\n            builder.add(builder.newRootLogger(Level.DEBUG).add(builder.newAppenderRef(&quot;Stdout&quot;)));\r\n            return builder.build();\r\n        }\r\n    \r\n        @Override\r\n        public Configuration getConfiguration(final LoggerContext loggerContext, final ConfigurationSource source) {\r\n            return getConfiguration(loggerContext, source.toString(),null);\r\n        }\r\n    \r\n        @Override\r\n        public Configuration getConfiguration(final LoggerContext loggerContext, final String name, final URI configLocation) {\r\n            ConfigurationBuilder&lt;BuiltConfiguration&gt; builder = newConfigurationBuilder();\r\n            return createConfiguration(name, builder);\r\n        }\r\n    \r\n        @Override\r\n        protected String[] getSupportedTypes() {\r\n            return new String[] {&quot;*&quot;};\r\n        }\r\n    }\r\nBut it is not loading the configuration automatically\r\nAny help will be appreciated.\r\n\r\n","title":"Is the configuration in the log4j2.xml file overrided by using the programmatic configuration?","body":"<p>I want to override some configuration programmatically for the default in my common library that should be automatically loaded by other spring boot application loading it.\nHow should I approach it.\nWhat I have tried is</p>\n<pre><code>@Plugin(name = &quot;CustomConfigurationFactory&quot;, category = ConfigurationFactory.CATEGORY)\n@Order(50)\npublic class CustomConfigurationFactory extends ConfigurationFactory {\nstatic Configuration createConfiguration(final String name, ConfigurationBuilder&lt;BuiltConfiguration&gt; builder) {\n        builder.setConfigurationName(name);\n        builder.setStatusLevel(Level.DEBUG);\n        builder.add(builder.newFilter(&quot;ThresholdFilter&quot;, Filter.Result.ACCEPT, Filter.Result.NEUTRAL).\n                addAttribute(&quot;level&quot;, Level.DEBUG));\n        AppenderComponentBuilder appenderBuilder = builder.newAppender(&quot;Stdout&quot;, &quot;CONSOLE&quot;).\n                addAttribute(&quot;target&quot;, ConsoleAppender.Target.SYSTEM_OUT);\n        appenderBuilder.add(builder.newLayout(&quot;PatternLayout&quot;).\n                addAttribute(&quot;pattern&quot;, &quot;%d [%t]&quot;));\n        appenderBuilder.add(builder.newFilter(&quot;MarkerFilter&quot;, Filter.Result.DENY,\n                Filter.Result.NEUTRAL).addAttribute(&quot;marker&quot;, &quot;FLOW&quot;));\n        builder.add(appenderBuilder);\n        builder.add(builder.newLogger(&quot;org.apache.logging.log4j&quot;, Level.DEBUG).\n                add(builder.newAppenderRef(&quot;Stdout&quot;)).\n                addAttribute(&quot;additivity&quot;, false));\n        builder.add(builder.newRootLogger(Level.DEBUG).add(builder.newAppenderRef(&quot;Stdout&quot;)));\n        return builder.build();\n    }\n\n    @Override\n    public Configuration getConfiguration(final LoggerContext loggerContext, final ConfigurationSource source) {\n        return getConfiguration(loggerContext, source.toString(),null);\n    }\n\n    @Override\n    public Configuration getConfiguration(final LoggerContext loggerContext, final String name, final URI configLocation) {\n        ConfigurationBuilder&lt;BuiltConfiguration&gt; builder = newConfigurationBuilder();\n        return createConfiguration(name, builder);\n    }\n\n    @Override\n    protected String[] getSupportedTypes() {\n        return new String[] {&quot;*&quot;};\n    }\n}\n</code></pre>\n<p>But it is not loading the configuration automatically\nAny help will be appreciated.</p>\n"},{"tags":["java","dependency-injection","jersey","jersey-2.0","hk2"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1631609857,"post_id":69174467,"comment_id":122262259,"body_markdown":"Please add the code where `ClassA` is instantiated.","body":"Please add the code where <code>ClassA</code> is instantiated."},{"owner":{"account_id":3127411,"reputation":1667,"user_id":2646022,"accept_rate":83,"display_name":"utarid"},"score":0,"creation_date":1631621443,"post_id":69174467,"comment_id":122267233,"body_markdown":"Hi @TimMoore, I created ClassA like this on another class : `IClassA classA = new ClassA()`. is this enough for you ?","body":"Hi @TimMoore, I created ClassA like this on another class : <code>IClassA classA = new ClassA()</code>. is this enough for you ?"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1631631080,"post_id":69174467,"comment_id":122271749,"body_markdown":"That&#39;s not how dependency injection works. You needs to let the container create the instance.","body":"That&#39;s not how dependency injection works. You needs to let the container create the instance."},{"owner":{"account_id":3127411,"reputation":1667,"user_id":2646022,"accept_rate":83,"display_name":"utarid"},"score":0,"creation_date":1631633462,"post_id":69174467,"comment_id":122272997,"body_markdown":"thanks @PaulSamsotha, classB is not null if I use injecton to create classA. But I need multiple instances of ClassA class. I got always same object with injection. so how can I do this ?","body":"thanks @PaulSamsotha, classB is not null if I use injecton to create classA. But I need multiple instances of ClassA class. I got always same object with injection. so how can I do this ?"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1631637127,"post_id":69174467,"comment_id":122274566,"body_markdown":"How are you getting the instance? Please show relevant code","body":"How are you getting the instance? Please show relevant code"},{"owner":{"account_id":3127411,"reputation":1667,"user_id":2646022,"accept_rate":83,"display_name":"utarid"},"score":0,"creation_date":1631639539,"post_id":69174467,"comment_id":122275434,"body_markdown":"Normally I get different instance of ClassA by using `IClassA classA = new ClassA();`. But I get same object always when I use dependency injection. I want to create different ClassA objects and use dependency injection in ClassA. But I cannot find a way ?","body":"Normally I get different instance of ClassA by using <code>IClassA classA = new ClassA();</code>. But I get same object always when I use dependency injection. I want to create different ClassA objects and use dependency injection in ClassA. But I cannot find a way ?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1631793376,"post_id":69174467,"comment_id":122321539,"body_markdown":"As other commenters have pointed out @user4757345, `new ClassA()` doesn&#39;t invoke the dependency injection mechanism. You&#39;ll need to create your instance using the dependency injector. It sounds like your question is really about how to do that and get a new instance each time. Please update your question to show how you&#39;ve attempted to do that.","body":"As other commenters have pointed out @user4757345, <code>new ClassA()</code> doesn&#39;t invoke the dependency injection mechanism. You&#39;ll need to create your instance using the dependency injector. It sounds like your question is really about how to do that and get a new instance each time. Please update your question to show how you&#39;ve attempted to do that."}],"answers":[{"tags":[],"owner":{"account_id":3683657,"reputation":2364,"user_id":3067964,"display_name":"jwells131313"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633611544,"creation_date":1633611544,"answer_id":69481638,"question_id":69174467,"body_markdown":"You have bound ClassB in the Singleton scope (which means hk2 will only create one of them).  Instead, bind ClassB into the PerLookup scope.  Then also inject a javax.inject.Provider&lt;ClassB&gt;.  Every time you call the get method of Provider you should get a new instance of ClassB","title":"Injected object with hk2 returns null","body":"<p>You have bound ClassB in the Singleton scope (which means hk2 will only create one of them).  Instead, bind ClassB into the PerLookup scope.  Then also inject a javax.inject.Provider.  Every time you call the get method of Provider you should get a new instance of ClassB</p>\n"}],"owner":{"account_id":3127411,"reputation":1667,"user_id":2646022,"accept_rate":83,"display_name":"utarid"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633611544,"creation_date":1631608290,"question_id":69174467,"body_markdown":"I am trying to use `hk2` dependency injection in `jersey` application. I have a class named `ClassA` implements `IClassA` interface. I want to use dependency injection for `ClassB` object in `ClassA` : \r\n\r\n    package com.example.test\r\n    \r\n    public class ClassA implements IClassA {\r\n        @Inject\r\n        ClassB classB;\r\n    \r\n        @Override\r\n        public void method() {\r\n            classB.doSomething();\r\n        }\r\n    }\r\n\r\nClassB :\r\n\r\n    package com.example.test\r\n    \r\n    public class ClassB {\r\n    \r\n        public void doSomething() {\r\n        }\r\n    }\r\n\r\nI created ResourceConfig class.\r\n\r\n    package com.example.test.di\r\n    public class App extends ResourceConfig {\r\n    \r\n        public App() {\r\n            register(new MyApplicationBinder());\r\n            packages(true, new String[]{&quot;com.example.test&quot;});\r\n        }\r\n    }\r\n\r\nI created AbstractBinder class.\r\n\r\n    package com.example.test.di\r\n    public class MyApplicationBinder extends AbstractBinder {\r\n    \r\n        @Override\r\n        protected void configure() {\r\n            bind(ClassB.class).to(ClassB.class).in(Singleton.class);\r\n        }\r\n    }\r\n\r\nI addded Application to `web.xml`\r\n\r\n    &lt;init-param&gt;\r\n        &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\r\n        &lt;param-value&gt;com.example.test.di.App&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n\r\nI created ClassA object like this :\r\n\r\n    IClassA classA = new ClassA();\r\n    classA.method(); //--&gt; classB is null\r\n\r\nMy problem is `classB` object is always null in `ClassA`. I cannot find what is wrong.\r\nThanks.","title":"Injected object with hk2 returns null","body":"<p>I am trying to use <code>hk2</code> dependency injection in <code>jersey</code> application. I have a class named <code>ClassA</code> implements <code>IClassA</code> interface. I want to use dependency injection for <code>ClassB</code> object in <code>ClassA</code> :</p>\n<pre><code>package com.example.test\n\npublic class ClassA implements IClassA {\n    @Inject\n    ClassB classB;\n\n    @Override\n    public void method() {\n        classB.doSomething();\n    }\n}\n</code></pre>\n<p>ClassB :</p>\n<pre><code>package com.example.test\n\npublic class ClassB {\n\n    public void doSomething() {\n    }\n}\n</code></pre>\n<p>I created ResourceConfig class.</p>\n<pre><code>package com.example.test.di\npublic class App extends ResourceConfig {\n\n    public App() {\n        register(new MyApplicationBinder());\n        packages(true, new String[]{&quot;com.example.test&quot;});\n    }\n}\n</code></pre>\n<p>I created AbstractBinder class.</p>\n<pre><code>package com.example.test.di\npublic class MyApplicationBinder extends AbstractBinder {\n\n    @Override\n    protected void configure() {\n        bind(ClassB.class).to(ClassB.class).in(Singleton.class);\n    }\n}\n</code></pre>\n<p>I addded Application to <code>web.xml</code></p>\n<pre><code>&lt;init-param&gt;\n    &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\n    &lt;param-value&gt;com.example.test.di.App&lt;/param-value&gt;\n&lt;/init-param&gt;\n</code></pre>\n<p>I created ClassA object like this :</p>\n<pre><code>IClassA classA = new ClassA();\nclassA.method(); //--&gt; classB is null\n</code></pre>\n<p>My problem is <code>classB</code> object is always null in <code>ClassA</code>. I cannot find what is wrong.\nThanks.</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1633611706,"post_id":69481565,"comment_id":122809819,"body_markdown":"Have you tried to look for [`Name`s](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Name.html) in the workbook / sheets?","body":"Have you tried to look for <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Name.html\" rel=\"nofollow noreferrer\"><code>Name</code>s</a> in the workbook / sheets?"},{"owner":{"account_id":13885968,"reputation":1,"user_id":10025093,"display_name":"Simon Rieu"},"score":1,"creation_date":1633684972,"post_id":69481565,"comment_id":122830846,"body_markdown":"I ended up doing that using getNames on the workbook and passing a sheet number to retrieve the name associated to the sheet thanks for you answer","body":"I ended up doing that using getNames on the workbook and passing a sheet number to retrieve the name associated to the sheet thanks for you answer"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1633685551,"post_id":69481565,"comment_id":122831078,"body_markdown":"I actually only left a comment. If you got a solution, you can answer your question yourself. Best would be a brief description and some code examples. That would add value for future readers and may even provide some reputation for you.","body":"I actually only left a comment. If you got a solution, you can answer your question yourself. Best would be a brief description and some code examples. That would add value for future readers and may even provide some reputation for you."}],"owner":{"account_id":13885968,"reputation":1,"user_id":10025093,"display_name":"Simon Rieu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633611246,"creation_date":1633611246,"question_id":69481565,"body_markdown":"I have a excel file (XLSX) I want to read with Apache POI with many sheets. I want to filter these sheets to read only the ones where a named range is defined let&#39;s say &quot;section1&quot; on the sheet.\r\n\r\nFor instance lets say there  5 sheets in the workbook and 3 of them have defined a local named range &quot;section1&quot; only these are relevant. I did not find how to that in Apache Poi we can only retrieve all names from the workbook.\r\n\r\n What I want is iterate throught each relevant sheet and read the section for each one.","title":"Retrieve &quot;Local&quot; Named Range From sheet (not workbook) Apache POI","body":"<p>I have a excel file (XLSX) I want to read with Apache POI with many sheets. I want to filter these sheets to read only the ones where a named range is defined let's say &quot;section1&quot; on the sheet.</p>\n<p>For instance lets say there  5 sheets in the workbook and 3 of them have defined a local named range &quot;section1&quot; only these are relevant. I did not find how to that in Apache Poi we can only retrieve all names from the workbook.</p>\n<p>What I want is iterate throught each relevant sheet and read the section for each one.</p>\n"},{"tags":["java","maven","selenium-webdriver"],"owner":{"account_id":18406896,"reputation":11,"user_id":13830961,"display_name":"Zaid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633610756,"creation_date":1632959858,"question_id":69384552,"body_markdown":"I am using maven to run some tests locally. Same code runs on my friends machine normally but on mine the browser opens and closes immediately with no errors. Tried looking online for some answers but didn&#39;t find anything useful. I think the issue is in the pom.xml file. Does any one have any idea how to fix it? \r\n\r\nMy pom.xml file: \r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;orbTesting&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;orbTesting&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;orbTesting&lt;/name&gt;\r\n\t&lt;description&gt;Selenium tests for orb&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;timestamp&gt;${maven.build.timestamp}&lt;/timestamp&gt;\r\n\t\t&lt;maven.build.timestamp.format&gt;yyyy_MM_dd_HH_mm&lt;/maven.build.timestamp.format&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-jvm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.5&lt;/version&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.sourceforge.cobertura&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cobertura&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-jvm-deps&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-reporting&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gherkin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.12.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.2-beta&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tools&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t\t&lt;systemPath&gt;${env.JAVA_HOME}/lib/tools.jar&lt;/systemPath&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.14.0 &lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0rc2&lt;/version&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.14.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.8.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20090211&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.vimalselvam&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-extentsreport&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\r\n\t\t&lt;plugins&gt;\r\n\r\n\r\n\t\t\t&lt;!-- create a complete jar for testing in other environments --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;test-jar&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\r\n\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;\r\n\t\t\t\t\t\t\t\ttest.java.com.testsCases.TestRunnerTest\r\n\t\t\t\t\t\t\t&lt;/mainClass&gt;\r\n\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t\t&lt;descriptors&gt;\r\n\t\t\t\t\t\t&lt;descriptor&gt;src/main/assembly/test-jar-with-dependencies.xml&lt;/descriptor&gt;\r\n\t\t\t\t\t&lt;/descriptors&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\r\n\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;transformers&gt;\r\n\t\t\t\t\t\t\t\t&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;mainClass&gt;cucumber.api.cli.Main&lt;/mainClass&gt;\r\n\t\t\t\t\t\t\t\t&lt;/transformer&gt;\r\n\t\t\t\t\t\t\t&lt;/transformers&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t\t&lt;compilerArgument&gt;-Werror&lt;/compilerArgument&gt;\r\n\r\n\t\t\t\t\t&lt;systemPropertyVariables&gt;\r\n\t\t\t\t\t\t&lt;property&gt;\r\n\t\t\t\t\t\t\t&lt;name&gt;browser&lt;/name&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;${browser}&lt;/value&gt;\r\n\t\t\t\t\t\t&lt;/property&gt;\r\n&lt;!--\t\t\t\t\t\t&lt;property&gt;--&gt;\r\n&lt;!--\t\t\t\t\t\t\t&lt;name&gt;cloud_config&lt;/name&gt;--&gt;\r\n&lt;!--\t\t\t\t\t\t\t&lt;value&gt;${cloud_config}&lt;/value&gt;--&gt;\r\n&lt;!--\t\t\t\t\t\t&lt;/property&gt;--&gt;\r\n\t\t\t\t\t&lt;/systemPropertyVariables&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;test-jar&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;systemPropertyVariables&gt;\r\n\t\t\t\t\t\t&lt;environment&gt;${env}&lt;/environment&gt;\r\n\t\t\t\t\t&lt;/systemPropertyVariables&gt;\r\n\t\t\t\t\t&lt;!-- &lt;parallel&gt;methods&lt;/parallel&gt; --&gt;\r\n\t\t\t\t\t&lt;!-- &lt;threadCount&gt;4&lt;/threadCount&gt; --&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;execution&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;checkBuildResult&gt;false&lt;/checkBuildResult&gt;\r\n\t\t\t\t\t\t\t&lt;projectName&gt;${project.artifactId}&lt;/projectName&gt;\r\n\t\t\t\t\t\t\t&lt;buildNumber&gt;${project.build}&lt;/buildNumber&gt;\r\n\t\t\t\t\t\t\t&lt;parallelTesting&gt;true&lt;/parallelTesting&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;target/cucumber-report/${timestamp}&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;cucumberOutput&gt;target/cucumber-report/&lt;/cucumberOutput&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t&lt;/plugins&gt;\r\n\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"selenium - browser opens and closes immediately","body":"<p>I am using maven to run some tests locally. Same code runs on my friends machine normally but on mine the browser opens and closes immediately with no errors. Tried looking online for some answers but didn't find anything useful. I think the issue is in the pom.xml file. Does any one have any idea how to fix it?</p>\n<p>My pom.xml file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;orbTesting&lt;/groupId&gt;\n    &lt;artifactId&gt;orbTesting&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;orbTesting&lt;/name&gt;\n    &lt;description&gt;Selenium tests for orb&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;timestamp&gt;${maven.build.timestamp}&lt;/timestamp&gt;\n        &lt;maven.build.timestamp.format&gt;yyyy_MM_dd_HH_mm&lt;/maven.build.timestamp.format&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-jvm&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.cobertura&lt;/groupId&gt;\n            &lt;artifactId&gt;cobertura&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-jvm-deps&lt;/artifactId&gt;\n            &lt;version&gt;1.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-reporting&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\n            &lt;version&gt;2.12.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2-beta&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun&lt;/groupId&gt;\n            &lt;artifactId&gt;tools&lt;/artifactId&gt;\n            &lt;version&gt;1.6.0&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${env.JAVA_HOME}/lib/tools.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;3.14.0 &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;2.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium&lt;/artifactId&gt;\n            &lt;version&gt;2.0rc2&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n            &lt;version&gt;3.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20090211&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vimalselvam&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-extentsreport&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n\n        &lt;plugins&gt;\n\n\n            &lt;!-- create a complete jar for testing in other environments --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n\n\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;\n                                test.java.com.testsCases.TestRunnerTest\n                            &lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptors&gt;\n                        &lt;descriptor&gt;src/main/assembly/test-jar-with-dependencies.xml&lt;/descriptor&gt;\n                    &lt;/descriptors&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n\n\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;cucumber.api.cli.Main&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;compilerArgument&gt;-Werror&lt;/compilerArgument&gt;\n\n                    &lt;systemPropertyVariables&gt;\n                        &lt;property&gt;\n                            &lt;name&gt;browser&lt;/name&gt;\n                            &lt;value&gt;${browser}&lt;/value&gt;\n                        &lt;/property&gt;\n&lt;!--                        &lt;property&gt;--&gt;\n&lt;!--                            &lt;name&gt;cloud_config&lt;/name&gt;--&gt;\n&lt;!--                            &lt;value&gt;${cloud_config}&lt;/value&gt;--&gt;\n&lt;!--                        &lt;/property&gt;--&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.7.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;environment&gt;${env}&lt;/environment&gt;\n                    &lt;/systemPropertyVariables&gt;\n                    &lt;!-- &lt;parallel&gt;methods&lt;/parallel&gt; --&gt;\n                    &lt;!-- &lt;threadCount&gt;4&lt;/threadCount&gt; --&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\n                &lt;version&gt;1.0.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;execution&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;checkBuildResult&gt;false&lt;/checkBuildResult&gt;\n                            &lt;projectName&gt;${project.artifactId}&lt;/projectName&gt;\n                            &lt;buildNumber&gt;${project.build}&lt;/buildNumber&gt;\n                            &lt;parallelTesting&gt;true&lt;/parallelTesting&gt;\n                            &lt;outputDirectory&gt;target/cucumber-report/${timestamp}&lt;/outputDirectory&gt;\n                            &lt;cucumberOutput&gt;target/cucumber-report/&lt;/cucumberOutput&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","ipv6"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1528925500,"post_id":50846451,"comment_id":88696648,"body_markdown":"According to what specific rules are you considering those invalid?","body":"According to what specific rules are you considering those invalid?"},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":1,"creation_date":1528934090,"post_id":50846451,"comment_id":88699004,"body_markdown":"@SotiriosDelimanolis, according to RFC 4291. See my answer below.","body":"@SotiriosDelimanolis, according to RFC 4291. See my answer below."}],"answers":[{"tags":[],"owner":{"account_id":5136045,"reputation":1601,"user_id":4114782,"accept_rate":11,"display_name":"Duston"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1528926594,"creation_date":1528926594,"answer_id":50846795,"question_id":50846451,"body_markdown":"Looking at the source code, it looks like it breaks the string into characters, then for each it does a bit operation to add the bits to the final result and then shifts left 4 bits and continues until it either hits a : or the result goes over 0xFFFF.  (http://www.docjar.com/html/api/sun/net/util/IPAddressUtil.java.html lines 170 through 180).  Since the characters are all zeroes, obviously it will never exceed 0xFFFF, so it never hits that limit.  \r\n\r\nI also read RFC2373 and said leading zeroes are optional, but it doesn&#39;t explicitly put a limit on how many are permissible.  I&#39;d say it&#39;s a bug, but (IMHO) only for someone being pedantic.\r\n","title":"Inet6Address valid for invalid IPv6 Address","body":"<p>Looking at the source code, it looks like it breaks the string into characters, then for each it does a bit operation to add the bits to the final result and then shifts left 4 bits and continues until it either hits a : or the result goes over 0xFFFF.  (<a href=\"http://www.docjar.com/html/api/sun/net/util/IPAddressUtil.java.html\" rel=\"nofollow noreferrer\">http://www.docjar.com/html/api/sun/net/util/IPAddressUtil.java.html</a> lines 170 through 180).  Since the characters are all zeroes, obviously it will never exceed 0xFFFF, so it never hits that limit.  </p>\n\n<p>I also read RFC2373 and said leading zeroes are optional, but it doesn't explicitly put a limit on how many are permissible.  I'd say it's a bug, but (IMHO) only for someone being pedantic.</p>\n"},{"tags":[],"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1528932508,"creation_date":1528932508,"answer_id":50847665,"question_id":50846451,"body_markdown":"Based on the most current RFCs regarding the valid text representations of IPv6 addresses, you have encountered a bug, or a poor interpretation of IPv6 address text representation. The most current RFC for IPv6 address architecture is [*RFC 4291, IP Version 6 Addressing Architecture*][1]. That RFC has [Section 2.2. Text Representation of Addresses][2] that says (note that the limit is four hexadecimal digits):\r\n\r\n&gt; 2.2. Text Representation of Addresses\r\n&gt; \r\n&gt; There are three conventional forms for representing IPv6 addresses as\r\n&gt; text strings:\r\n&gt; \r\n&gt;    1. The preferred form is x:x:x:x:x:x:x:x, where the &#39;x&#39;s are **one to\r\n&gt;       four hexadecimal digits** of the eight 16-bit pieces of the address.\r\n&gt;       Examples:\r\n&gt; \r\n&gt;          ABCD:EF01:2345:6789:ABCD:EF01:2345:6789\r\n&gt; \r\n&gt;          2001:DB8:0:0:8:800:200C:417A\r\n&gt; \r\n&gt;       Note that it is not necessary to write the leading zeros in an\r\n&gt;       individual field, but there must be at least one numeral in every\r\n&gt;       field (except for the case described in 2.).\r\n&gt; \r\n&gt;    2. Due to some methods of allocating certain styles of IPv6\r\n&gt;       addresses, it will be common for addresses to contain long strings\r\n&gt;       of zero bits. In order to make writing addresses containing zero\r\n&gt;       bits easier, a special syntax is available to compress the zeros.\r\n&gt;       The use of &quot;::&quot; indicates one or more groups of 16 bits of zeros.\r\n&gt;       The &quot;::&quot; can only appear once in an address. The &quot;::&quot; can also be\r\n&gt;       used to compress leading or trailing zeros in an address.\r\n&gt; \r\n&gt;       For example, the following addresses\r\n&gt; \r\n&gt;          2001:DB8:0:0:8:800:200C:417A   a unicast address\r\n&gt;          FF01:0:0:0:0:0:0:101           a multicast address\r\n&gt;          0:0:0:0:0:0:0:1                the loopback address\r\n&gt;          0:0:0:0:0:0:0:0                the unspecified address\r\n&gt; \r\n&gt;       may be represented as\r\n&gt; \r\n&gt;          2001:DB8::8:800:200C:417A      a unicast address\r\n&gt;          FF01::101                      a multicast address\r\n&gt;          ::1                            the loopback address\r\n&gt;          ::                             the unspecified address\r\n&gt; \r\n&gt;    3. An alternative form that is sometimes more convenient when dealing\r\n&gt;       with a mixed environment of IPv4 and IPv6 nodes is\r\n&gt;       x:x:x:x:x:x:d.d.d.d, where the &#39;x&#39;s are the hexadecimal values of\r\n&gt;       the six high-order 16-bit pieces of the address, and the &#39;d&#39;s are\r\n&gt;       the decimal values of the four low-order 8-bit pieces of the\r\n&gt;       address (standard IPv4 representation). Examples:\r\n&gt; \r\n&gt;          0:0:0:0:0:0:13.1.68.3\r\n&gt;          0:0:0:0:0:FFFF:129.144.52.38\r\n&gt; \r\n&gt;       or in compressed form:\r\n&gt; \r\n&gt;          ::13.1.68.3\r\n&gt;          ::FFFF:129.144.52.38\r\n\r\nSince RFC 4291 demands that there be no more than four hexadecimal characters per 16-bit field, it would be incorrect to consider any IPv6 address text representation with more than four hexadecimal characters in a 16-bit field to be valid.\r\n\r\n---\r\n\r\nRFC 4291 was updated by [*RFC 5952, A Recommendation for IPv6 Address Text Representation*][3], which further limited a proper representation in Section [4.1. Handling Leading Zeros][4] in a 16-Bit Field to no leading zeros:\r\n\r\n&gt; 4.1. Handling Leading Zeros in a 16-Bit Field\r\n&gt; \r\n&gt;    Leading zeros MUST be suppressed. For example, 2001:0db8::0001 is\r\n&gt; not acceptable and must be represented as 2001:db8::1. A single 16-bit 0000 field MUST be represented as 0.\r\n\r\nRFC 5952 Also requires the compressed format where more than one consecutive 16-bit field must be compressed to `::`:\r\n\r\n&gt; 4.2. &quot;::&quot; Usage\r\n&gt; \r\n&gt; 4.2.1. Shorten as Much as Possible\r\n&gt; \r\n&gt;    The use of the symbol &quot;::&quot; MUST be used to its maximum capability.\r\n&gt; For example, 2001:db8:0:0:0:0:2:1 must be shortened to 2001:db8::2:1.\r\n&gt; Likewise, 2001:db8::0:1 is not acceptable, because the symbol &quot;::&quot;\r\n&gt; could have been used to produce a shorter representation 2001:db8::1.\r\n&gt; \r\n&gt; 4.2.2. Handling One 16-Bit 0 Field\r\n&gt; \r\n&gt;    The symbol &quot;::&quot; MUST NOT be used to shorten just one 16-bit 0\r\n&gt; field. For example, the representation 2001:db8:0:1:1:1:1:1 is\r\n&gt; correct, but 2001:db8::1:1:1:1:1 is not correct.\r\n&gt; \r\n&gt; 4.2.3. Choice in Placement of &quot;::&quot;\r\n&gt; \r\n&gt;    When there is an alternative choice in the placement of a &quot;::&quot;, the\r\n&gt; longest run of consecutive 16-bit 0 fields MUST be shortened (i.e.,\r\n&gt; the sequence with three consecutive zero fields is shortened in 2001:\r\n&gt; 0:0:1:0:0:0:1). When the length of the consecutive 16-bit 0 fields\r\n&gt; are equal (i.e., 2001:db8:0:0:1:0:0:1), the first sequence of zero\r\n&gt; bits MUST be shortened.  For example, 2001:db8::1:0:0:1 is correct\r\n&gt; representation.\r\n\r\nBasically, RFC 5952 is also requiring you to accept any valid RFC 4291 format, but you should only output any RFC 5952 formatted IPv6 text representation:\r\n\r\n&gt; 4. A Recommendation for IPv6 Text Representation\r\n&gt; \r\n&gt;    A recommendation for a canonical text representation format of IPv6\r\n&gt; addresses is presented in this section. The recommendation in this\r\n&gt; document is one that complies fully with [RFC4291], is implemented by\r\n&gt; various operating systems, and is human friendly. The recommendation\r\n&gt; in this section SHOULD be followed by systems when generating an\r\n&gt; address to be represented as text, but all implementations MUST\r\n&gt; accept and be able to handle any legitimate [RFC4291] format. It is\r\n&gt; advised that humans also follow these recommendations when spelling\r\n&gt; an address.\r\n\r\n\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc4291\r\n  [2]: https://www.rfc-editor.org/rfc/rfc4291#section-2.2\r\n  [3]: https://www.rfc-editor.org/rfc/rfc5952\r\n  [4]: https://www.rfc-editor.org/rfc/rfc5952#section-4.1","title":"Inet6Address valid for invalid IPv6 Address","body":"<p>Based on the most current RFCs regarding the valid text representations of IPv6 addresses, you have encountered a bug, or a poor interpretation of IPv6 address text representation. The most current RFC for IPv6 address architecture is <a href=\"https://www.rfc-editor.org/rfc/rfc4291\" rel=\"nofollow noreferrer\"><em>RFC 4291, IP Version 6 Addressing Architecture</em></a>. That RFC has <a href=\"https://www.rfc-editor.org/rfc/rfc4291#section-2.2\" rel=\"nofollow noreferrer\">Section 2.2. Text Representation of Addresses</a> that says (note that the limit is four hexadecimal digits):</p>\n<blockquote>\n<p>2.2. Text Representation of Addresses</p>\n<p>There are three conventional forms for representing IPv6 addresses as\ntext strings:</p>\n<ol>\n<li><p>The preferred form is x:x:x:x:x:x:x:x, where the 'x's are <strong>one to\nfour hexadecimal digits</strong> of the eight 16-bit pieces of the address.\nExamples:</p>\n<p>ABCD:EF01:2345:6789:ABCD:EF01:2345:6789</p>\n<p>2001:DB8:0:0:8:800:200C:417A</p>\n<p>Note that it is not necessary to write the leading zeros in an\nindividual field, but there must be at least one numeral in every\nfield (except for the case described in 2.).</p>\n</li>\n<li><p>Due to some methods of allocating certain styles of IPv6\naddresses, it will be common for addresses to contain long strings\nof zero bits. In order to make writing addresses containing zero\nbits easier, a special syntax is available to compress the zeros.\nThe use of &quot;::&quot; indicates one or more groups of 16 bits of zeros.\nThe &quot;::&quot; can only appear once in an address. The &quot;::&quot; can also be\nused to compress leading or trailing zeros in an address.</p>\n<p>For example, the following addresses</p>\n<p>2001:DB8:0:0:8:800:200C:417A   a unicast address\nFF01:0:0:0:0:0:0:101           a multicast address\n0:0:0:0:0:0:0:1                the loopback address\n0:0:0:0:0:0:0:0                the unspecified address</p>\n<p>may be represented as</p>\n<p>2001:DB8::8:800:200C:417A      a unicast address\nFF01::101                      a multicast address\n::1                            the loopback address\n::                             the unspecified address</p>\n</li>\n<li><p>An alternative form that is sometimes more convenient when dealing\nwith a mixed environment of IPv4 and IPv6 nodes is\nx:x:x:x:x:x:d.d.d.d, where the 'x's are the hexadecimal values of\nthe six high-order 16-bit pieces of the address, and the 'd's are\nthe decimal values of the four low-order 8-bit pieces of the\naddress (standard IPv4 representation). Examples:</p>\n<p>0:0:0:0:0:0:13.1.68.3\n0:0:0:0:0:FFFF:129.144.52.38</p>\n<p>or in compressed form:</p>\n<p>::13.1.68.3\n::FFFF:129.144.52.38</p>\n</li>\n</ol>\n</blockquote>\n<p>Since RFC 4291 demands that there be no more than four hexadecimal characters per 16-bit field, it would be incorrect to consider any IPv6 address text representation with more than four hexadecimal characters in a 16-bit field to be valid.</p>\n<hr />\n<p>RFC 4291 was updated by <a href=\"https://www.rfc-editor.org/rfc/rfc5952\" rel=\"nofollow noreferrer\"><em>RFC 5952, A Recommendation for IPv6 Address Text Representation</em></a>, which further limited a proper representation in Section <a href=\"https://www.rfc-editor.org/rfc/rfc5952#section-4.1\" rel=\"nofollow noreferrer\">4.1. Handling Leading Zeros</a> in a 16-Bit Field to no leading zeros:</p>\n<blockquote>\n<p>4.1. Handling Leading Zeros in a 16-Bit Field</p>\n<p>Leading zeros MUST be suppressed. For example, 2001:0db8::0001 is\nnot acceptable and must be represented as 2001:db8::1. A single 16-bit 0000 field MUST be represented as 0.</p>\n</blockquote>\n<p>RFC 5952 Also requires the compressed format where more than one consecutive 16-bit field must be compressed to <code>::</code>:</p>\n<blockquote>\n<p>4.2. &quot;::&quot; Usage</p>\n<p>4.2.1. Shorten as Much as Possible</p>\n<p>The use of the symbol &quot;::&quot; MUST be used to its maximum capability.\nFor example, 2001:db8:0:0:0:0:2:1 must be shortened to 2001:db8::2:1.\nLikewise, 2001:db8::0:1 is not acceptable, because the symbol &quot;::&quot;\ncould have been used to produce a shorter representation 2001:db8::1.</p>\n<p>4.2.2. Handling One 16-Bit 0 Field</p>\n<p>The symbol &quot;::&quot; MUST NOT be used to shorten just one 16-bit 0\nfield. For example, the representation 2001:db8:0:1:1:1:1:1 is\ncorrect, but 2001:db8::1:1:1:1:1 is not correct.</p>\n<p>4.2.3. Choice in Placement of &quot;::&quot;</p>\n<p>When there is an alternative choice in the placement of a &quot;::&quot;, the\nlongest run of consecutive 16-bit 0 fields MUST be shortened (i.e.,\nthe sequence with three consecutive zero fields is shortened in 2001:\n0:0:1:0:0:0:1). When the length of the consecutive 16-bit 0 fields\nare equal (i.e., 2001:db8:0:0:1:0:0:1), the first sequence of zero\nbits MUST be shortened.  For example, 2001:db8::1:0:0:1 is correct\nrepresentation.</p>\n</blockquote>\n<p>Basically, RFC 5952 is also requiring you to accept any valid RFC 4291 format, but you should only output any RFC 5952 formatted IPv6 text representation:</p>\n<blockquote>\n<ol start=\"4\">\n<li><p>A Recommendation for IPv6 Text Representation</p>\n<p>A recommendation for a canonical text representation format of IPv6\naddresses is presented in this section. The recommendation in this\ndocument is one that complies fully with [RFC4291], is implemented by\nvarious operating systems, and is human friendly. The recommendation\nin this section SHOULD be followed by systems when generating an\naddress to be represented as text, but all implementations MUST\naccept and be able to handle any legitimate [RFC4291] format. It is\nadvised that humans also follow these recommendations when spelling\nan address.</p>\n</li>\n</ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2985037,"reputation":57,"user_id":2534092,"display_name":"Lohith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633610342,"creation_date":1633610342,"answer_id":69481333,"question_id":50846451,"body_markdown":"I Checked the documentation of the class java.net.Inet6Address, It Says only the [rfc2373][1] is considered. This means the API is outdated and must be upgraded to consider the latest recommendation of IETF for IPv6 Text Representation.\r\n\r\n\r\n  [1]: https://www.ietf.org/rfc/rfc2373.txt","title":"Inet6Address valid for invalid IPv6 Address","body":"<p>I Checked the documentation of the class java.net.Inet6Address, It Says only the <a href=\"https://www.ietf.org/rfc/rfc2373.txt\" rel=\"nofollow noreferrer\">rfc2373</a> is considered. This means the API is outdated and must be upgraded to consider the latest recommendation of IETF for IPv6 Text Representation.</p>\n"}],"owner":{"account_id":2985037,"reputation":57,"user_id":2534092,"display_name":"Lohith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3039,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":50847665,"answer_count":3,"score":1,"last_activity_date":1633610342,"creation_date":1528924904,"question_id":50846451,"body_markdown":"I&#39;m using `java.net.Inet6Address` to validate if an input string is a valid **IPv6 address** or not.\r\n\r\nHere is my code snippet:\r\n\r\n    public static boolean isValidIPv6ddress(String address) {\r\n        if (address.isEmpty()) {\r\n            return false;\r\n        }\r\n        try {\r\n            Object res = InetAddress.getByName(address);\r\n            return res instanceof Inet6Address;\r\n        } catch (final UnknownHostException ex) {\r\n            return false;\r\n        }\r\n    }\r\n\r\nUnfortunately the above method returns `true` even for the following inputs which are **invalid**:\r\n\r\n    System.out.println(isValidIPv6ddress(&quot;2A00:17C8:50C:0000:0000:0000:0000:00001&quot;));\r\n    System.out.println(isValidIPv6ddress(&quot;2A00:17C8:50C:0000:0000:00000000000000:0000:00001&quot;));\r\n    System.out.println(isValidIPv6ddress(&quot;2A00:17C8:50C:00001235:0000:00000000000000:0000:00001&quot;));\r\n\r\nDoes the API **ignore leading zeroes**? Or is there a **bug** in the API?","title":"Inet6Address valid for invalid IPv6 Address","body":"<p>I'm using <code>java.net.Inet6Address</code> to validate if an input string is a valid <strong>IPv6 address</strong> or not.</p>\n\n<p>Here is my code snippet:</p>\n\n<pre><code>public static boolean isValidIPv6ddress(String address) {\n    if (address.isEmpty()) {\n        return false;\n    }\n    try {\n        Object res = InetAddress.getByName(address);\n        return res instanceof Inet6Address;\n    } catch (final UnknownHostException ex) {\n        return false;\n    }\n}\n</code></pre>\n\n<p>Unfortunately the above method returns <code>true</code> even for the following inputs which are <strong>invalid</strong>:</p>\n\n<pre><code>System.out.println(isValidIPv6ddress(\"2A00:17C8:50C:0000:0000:0000:0000:00001\"));\nSystem.out.println(isValidIPv6ddress(\"2A00:17C8:50C:0000:0000:00000000000000:0000:00001\"));\nSystem.out.println(isValidIPv6ddress(\"2A00:17C8:50C:00001235:0000:00000000000000:0000:00001\"));\n</code></pre>\n\n<p>Does the API <strong>ignore leading zeroes</strong>? Or is there a <strong>bug</strong> in the API?</p>\n"},{"tags":["java","gradle"],"owner":{"account_id":255011,"reputation":5242,"user_id":534773,"display_name":"Julien H. - SonarSource Team"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633609893,"creation_date":1633609893,"question_id":69481204,"body_markdown":"We were previously using this snippet in our `build.gradle.kts` file to remove a dependency that was added to the `compileClasspath` by another plugin:\r\n\r\n```kotlin\r\nproject.afterEvaluate {\r\n    sourceSets {\r\n        main {\r\n            compileClasspath -= files(the_jar_to_remove)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWe are now trying to migrate from Gradle 6.8 to 7.2 and this seems to have no effect anymore. When the `javaCompile` task runs, I can see that the JAR is still there in the classpath (using `--debug`).\r\n\r\nIs there any way to achieve the same thing with Gradle 7.0?\r\n\r\nFYI, this &quot;trick&quot; was found [here][1] and [here][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/43512061/removing-a-jar-in-sourcesets-main-runtimeclasspath\r\n  [2]: https://github.com/JetBrains/gradle-intellij-plugin/issues/310","title":"Gradle 7.0 migration: how to remove a JAR from compileClasspath","body":"<p>We were previously using this snippet in our <code>build.gradle.kts</code> file to remove a dependency that was added to the <code>compileClasspath</code> by another plugin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>project.afterEvaluate {\n    sourceSets {\n        main {\n            compileClasspath -= files(the_jar_to_remove)\n        }\n    }\n}\n</code></pre>\n<p>We are now trying to migrate from Gradle 6.8 to 7.2 and this seems to have no effect anymore. When the <code>javaCompile</code> task runs, I can see that the JAR is still there in the classpath (using <code>--debug</code>).</p>\n<p>Is there any way to achieve the same thing with Gradle 7.0?</p>\n<p>FYI, this &quot;trick&quot; was found <a href=\"https://stackoverflow.com/questions/43512061/removing-a-jar-in-sourcesets-main-runtimeclasspath\">here</a> and <a href=\"https://github.com/JetBrains/gradle-intellij-plugin/issues/310\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":["java","maven","pitest"],"answers":[{"tags":[],"owner":{"account_id":246243,"reputation":9164,"user_id":520275,"accept_rate":83,"display_name":"Gonzalo Matheu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1569514269,"creation_date":1569514269,"answer_id":58120848,"question_id":58120665,"body_markdown":"There is no native way of skipping a plugin execution, but there are least 2 workarounds:\r\n\r\n* First, is adding a property to override execution **phase**:\r\n\r\nDefine a property `pitPhase` with default value as the default phase of plugin execution.\r\n\r\nThen in plugin configuration:\r\n\r\n    &lt;execution&gt;\r\n       &lt;phase&gt;${pitPhase}&lt;/phase&gt;\r\n       ...\r\n    &lt;/execution&gt;\r\n\r\nAfter that, when you want to skip execution `mvn -DskipPit=pitPhase package`\r\n\r\n\r\n* The other alternative is to add a [Maven profile][1] with the plugin execution \r\n\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-profiles.html","title":"Skip running PITest in maven build","body":"<p>There is no native way of skipping a plugin execution, but there are least 2 workarounds:</p>\n\n<ul>\n<li>First, is adding a property to override execution <strong>phase</strong>:</li>\n</ul>\n\n<p>Define a property <code>pitPhase</code> with default value as the default phase of plugin execution.</p>\n\n<p>Then in plugin configuration:</p>\n\n<pre><code>&lt;execution&gt;\n   &lt;phase&gt;${pitPhase}&lt;/phase&gt;\n   ...\n&lt;/execution&gt;\n</code></pre>\n\n<p>After that, when you want to skip execution <code>mvn -DskipPit=pitPhase package</code></p>\n\n<ul>\n<li>The other alternative is to add a <a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">Maven profile</a> with the plugin execution </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7146900,"reputation":95,"user_id":5462310,"display_name":"SebastianJ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615548484,"creation_date":1615548484,"answer_id":66599061,"question_id":58120665,"body_markdown":"The execution of Pitests can be skipped in Maven.\r\n\r\nIn your pom.xml:\r\n1) Set in general properties:\r\n```\r\n\r\n&lt;properties&gt; \r\n       &lt;pitest.execution.skip&gt;true&lt;/pitest.execution.skip&gt; \r\n&lt;/properties&gt;\r\n```\r\n\r\n\r\n2) Set in the plugin:\r\n\r\n```\r\n &lt;plugin&gt;\r\n         &lt;groupId&gt;org.pitest&lt;/groupId&gt;\r\n         &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\r\n         &lt;version&gt;Your_Version&lt;/version&gt;\r\n         &lt;configuration&gt;\r\n            &lt;skip&gt;${pitest.execution.skip}&lt;/skip&gt;\r\n         &lt;/configuration&gt;\r\n &lt;/plugin&gt;\r\n```","title":"Skip running PITest in maven build","body":"<p>The execution of Pitests can be skipped in Maven.</p>\n<p>In your pom.xml:</p>\n<ol>\n<li>Set in general properties:</li>\n</ol>\n<pre><code>\n&lt;properties&gt; \n       &lt;pitest.execution.skip&gt;true&lt;/pitest.execution.skip&gt; \n&lt;/properties&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Set in the plugin:</li>\n</ol>\n<pre><code> &lt;plugin&gt;\n         &lt;groupId&gt;org.pitest&lt;/groupId&gt;\n         &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\n         &lt;version&gt;Your_Version&lt;/version&gt;\n         &lt;configuration&gt;\n            &lt;skip&gt;${pitest.execution.skip}&lt;/skip&gt;\n         &lt;/configuration&gt;\n &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633609821,"creation_date":1633609821,"answer_id":69481184,"question_id":58120665,"body_markdown":"Since 1.4.11 there is the option `skipPitest`.  See here: https://github.com/hcoles/pitest/releases/tag/pitest-parent-1.4.11\r\n\r\nSo you do: `-DskipPitest`","title":"Skip running PITest in maven build","body":"<p>Since 1.4.11 there is the option <code>skipPitest</code>.  See here: <a href=\"https://github.com/hcoles/pitest/releases/tag/pitest-parent-1.4.11\" rel=\"nofollow noreferrer\">https://github.com/hcoles/pitest/releases/tag/pitest-parent-1.4.11</a></p>\n<p>So you do: <code>-DskipPitest</code></p>\n"}],"owner":{"account_id":10061027,"reputation":33,"user_id":7437708,"display_name":"RyderSchoon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3480,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58120848,"answer_count":3,"score":3,"last_activity_date":1633609821,"creation_date":1569513568,"question_id":58120665,"body_markdown":"I&#39;m trying to run a maven build from command line and exclude PITest from running any mutations. Currently the reports are failing and we need to be able to give a parameter to ignore running the mutation tests or ignore the results and continue the build\r\n\r\nI&#39;ve running with some parameters like `mvn package -Dpit.report=true` \r\n\r\nor `mvn package -Dmaven.report.skip=true`\r\n\r\nThis is the PITest setup in my pom\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.pitest&lt;/groupId&gt;\r\n        &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.10&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;timestampedReports&gt;false&lt;/timestampedReports&gt;\r\n            &lt;mutationThreshold&gt;95&lt;/mutationThreshold&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;report&lt;/id&gt;\r\n                &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;mutationCoverage&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThe problem is that is is still running PITest and causing the build to fail","title":"Skip running PITest in maven build","body":"<p>I'm trying to run a maven build from command line and exclude PITest from running any mutations. Currently the reports are failing and we need to be able to give a parameter to ignore running the mutation tests or ignore the results and continue the build</p>\n\n<p>I've running with some parameters like <code>mvn package -Dpit.report=true</code> </p>\n\n<p>or <code>mvn package -Dmaven.report.skip=true</code></p>\n\n<p>This is the PITest setup in my pom</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.pitest&lt;/groupId&gt;\n    &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\n    &lt;version&gt;1.1.10&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;timestampedReports&gt;false&lt;/timestampedReports&gt;\n        &lt;mutationThreshold&gt;95&lt;/mutationThreshold&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;report&lt;/id&gt;\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;mutationCoverage&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>The problem is that is is still running PITest and causing the build to fail</p>\n"},{"tags":["java","spring-boot","integration-testing","integration","wiremock"],"comments":[{"owner":{"account_id":1379656,"reputation":1313,"user_id":1312949,"accept_rate":75,"display_name":"Byron"},"score":0,"creation_date":1633612869,"post_id":69481127,"comment_id":122810390,"body_markdown":"Just a guess but your test is reaching out to dates-service-svc and your mock is listening on localhost?","body":"Just a guess but your test is reaching out to dates-service-svc and your mock is listening on localhost?"},{"owner":{"account_id":2211298,"reputation":174,"user_id":1953066,"display_name":"Omar Abo Elsoud"},"score":0,"creation_date":1633626233,"post_id":69481127,"comment_id":122816341,"body_markdown":"yes , I think the mock is listening on the localwhereas  the HTTP client is trying to send the request to actual data-service-svc . the request suppose to pass by the WireMock server and returned the mocked response , but this is not case","body":"yes , I think the mock is listening on the localwhereas  the HTTP client is trying to send the request to actual data-service-svc . the request suppose to pass by the WireMock server and returned the mocked response , but this is not case"},{"owner":{"account_id":2211298,"reputation":174,"user_id":1953066,"display_name":"Omar Abo Elsoud"},"score":0,"creation_date":1633626712,"post_id":69481127,"comment_id":122816489,"body_markdown":"@Byron as I mentioned , I issued the request from the post man using *http://localhost:8084//__admin/{requestURL} and I received a reply from WireMock","body":"@Byron as I mentioned , I issued the request from the post man using *<a href=\"http://localhost:8084//__admin/\" rel=\"nofollow noreferrer\">localhost:8084//__admin</a>{requestURL} and I received a reply from WireMock"}],"owner":{"account_id":2211298,"reputation":174,"user_id":1953066,"display_name":"Omar Abo Elsoud"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2029,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633609549,"creation_date":1633609549,"question_id":69481127,"body_markdown":"I am writing integration test to mock external local service called **dates-service-svc**  which actually runs on port 8081 . I am using wireMock to mock the service and HTTP client to issue a request to **dates-services-svc** , but the requests issued by HTTP client doesn&#39;t hit the wireMock . and raises an &quot;connection refused &quot; exception  . \r\nwhen the test case finish its execution . the logs says \r\n\r\n&gt; Requests received: [ ]\r\n\r\nOn the other hand ,I issued the request using the post man . wireMock replies with that **The requested URL matches the stub registered**\r\n\r\nI configured the wireMock as following\r\n\r\n```\r\n@Rule\r\n    public WireMockRule wireMockServer = new WireMockRule(new WireMockConfiguration().port(8084)\r\n            .notifier(new ConsoleNotifier(true)));\r\n```\r\n\r\n```\r\n@Before\r\n    public void setUp() {\r\n        wireMockServer.start();\r\n        WireMock.configureFor(&quot;localhost&quot;, 8084);\r\n    }\r\n```\r\n\r\n\r\n\r\n```\r\n    @AfterEach\r\n    public void afterEach() {\r\n        wireMockServer.resetAll();\r\n    }\r\n\r\n    @After\r\n    public void tearUp() {\r\n        wireMockServer.stop();\r\n    }\r\n```\r\n\r\n\r\nI created very simple test cases to just test whether WireMock works fine or not .here it is \r\n```\r\n @Test\r\n    public  void testWireMock()\r\n    {\r\n        try {\r\n\r\n            configureFor(&quot;localhost&quot;, 8084);\r\n            stubFor(any(urlEqualTo(&quot;/v1/service1/local-dates/&quot;))\r\n                    .willReturn(aResponse().withStatus(200).withBody(&quot;hello wireMOck&quot;)));;\r\n         \r\n            String datesEndPoint = &quot;https://dates-service-svc/v1/service1/local-dates/&quot;;\r\n      HttpClient client = HttpClient.newBuilder()\r\n                    .version(HttpClient.Version.HTTP_1_1)\r\n                    .followRedirects(HttpClient.Redirect.NORMAL)\r\n                    .connectTimeout(Duration.ofSeconds(20))\r\n                    .build();\r\n            URI uri = new URIBuilder(paymentDatesEndPoint)     \r\n                    .build();\r\n            HttpRequest request = HttpRequest.newBuilder()\r\n                    .GET()\r\n                    .uri(uri)\r\n                    .build();\r\n            HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n            List&lt;ServeEvent&gt; allServeEvents = getAllServeEvents();\r\n            List&lt;LoggedRequest&gt; requests = findAll(getRequestedFor(urlMatching(&quot;/v1/.*&quot;)));\r\n            verify(getRequestedFor(urlEqualTo(&quot;/v1/service1/local-dates/&quot;)));\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            Assertions.fail(e);\r\n//            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n```\r\n\r\nlogs \r\n\r\n&gt; 021-10-07 14:01:57.710 Verbose logging enabled 2021-10-07 14:01:57.861\r\n&gt; INFO 7407 --- [           main] wiremock.org.eclipse.jetty.util.log   \r\n&gt; : Logging initialized @22479ms to\r\n&gt; wiremock.org.eclipse.jetty.util.log.Slf4jLog 2021-10-07 14:01:58.034 \r\n&gt; INFO 7407 --- [           main] w.org.eclipse.jetty.server.Server     \r\n&gt; : jetty-9.4.30.v20200611; built: 2020-06-11T12:34:51.929Z; git:\r\n&gt; 271836e4c1f4612f12b7bb13ef5a92a927634b0d; jvm 11.0.12+8-LTS-237\r\n&gt; 2021-10-07 14:01:58.050  INFO 7407 --- [           main]\r\n&gt; w.o.e.j.server.handler.ContextHandler    : Started\r\n&gt; w.o.e.j.s.ServletContextHandler@47e2a158{/__admin,null,AVAILABLE}\r\n&gt; 2021-10-07 14:01:58.057  INFO 7407 --- [           main]\r\n&gt; w.o.e.j.server.handler.ContextHandler    : Started\r\n&gt; w.o.e.j.s.ServletContextHandler@65dce54c{/,null,AVAILABLE} 2021-10-07\r\n&gt; 14:01:58.076  INFO 7407 --- [           main]\r\n&gt; w.o.e.jetty.server.AbstractConnector     : Started\r\n&gt; NetworkTrafficServerConnector@61186191{HTTP/1.1,\r\n&gt; (http/1.1)}{0.0.0.0:8084} 2021-10-07 14:01:58.076  INFO 7407 --- [    \r\n&gt; main] w.org.eclipse.jetty.server.Server        : Started @22695ms\r\n&gt; 2021-10-07 14:01:58.875  INFO 7407 --- [p1096402541-143]\r\n&gt; w.o.e.j.s.h.ContextHandler.__admin       : RequestHandlerClass from\r\n&gt; context returned\r\n&gt; com.github.tomakehurst.wiremock.http.AdminRequestHandler. Normalized\r\n&gt; mapped under returned &#39;null&#39; 2021-10-07 14:01:58.897 Admin request\r\n&gt; received:\r\n&gt; 127.0.0.1 - POST /mappings\r\n&gt; \r\n&gt; Connection: [keep-alive] User-Agent: [Apache-HttpClient/4.5.12\r\n&gt; (Java/11.0.12)] Host: [localhost:8084] Content-Length: [264]\r\n&gt; Content-Type: [text/plain; charset=UTF-8] {   &quot;id&quot; :\r\n&gt; &quot;e149540c-33bf-4b39-8d56-5653fb77cdd9&quot;,   &quot;request&quot; : {\r\n&gt;     &quot;url&quot; : &quot;/v1/service1/local-dates/&quot;,\r\n&gt;     &quot;method&quot; : &quot;ANY&quot;   },   &quot;response&quot; : {\r\n&gt;     &quot;status&quot; : 200,\r\n&gt;     &quot;body&quot; : &quot;hello wireMOck&quot;   },   &quot;uuid&quot; : &quot;e149540c-33bf-4b39-8d56-5653fb77cdd9&quot; }\r\n&gt; \r\n&gt; 2021-10-07 14:01:59.141  INFO 7407 --- [           main]\r\n&gt; w.o.e.jetty.server.AbstractConnector     : Stopped\r\n&gt; NetworkTrafficServerConnector@61186191{HTTP/1.1,\r\n&gt; (http/1.1)}{0.0.0.0:8084} 2021-10-07 14:01:59.142  INFO 7407 --- [    \r\n&gt; main] w.o.e.j.server.handler.ContextHandler    : Stopped\r\n&gt; w.o.e.j.s.ServletContextHandler@65dce54c{/,null,UNAVAILABLE}\r\n&gt; 2021-10-07 14:01:59.143  INFO 7407 --- [           main]\r\n&gt; w.o.e.j.server.handler.ContextHandler    : Stopped\r\n&gt; w.o.e.j.s.ServletContextHandler@47e2a158{/__admin,null,UNAVAILABLE}\r\n&gt; \r\n&gt; org.opentest4j.AssertionFailedError \tat\r\n&gt; org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:47) \tat\r\n&gt; org.junit.jupiter.api.Assertions.fail(Assertions.java:140) \tat\r\n&gt; com.sympl.txn.handler.TxnHandlerControllerIntegrationTests.testWireMock(TxnHandlerControllerIntegrationTests.java:229)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) \tat\r\n&gt; org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n&gt; \tat\r\n&gt; org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n&gt; \tat\r\n&gt; org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n&gt; \tat\r\n&gt; org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n&gt; \tat\r\n&gt; org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)\r\n&gt; \tat\r\n&gt; org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)\r\n&gt; \tat\r\n&gt; org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n&gt; \tat\r\n&gt; org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\r\n&gt; \tat\r\n&gt; org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n&gt; \tat\r\n&gt; org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n&gt; \tat\r\n&gt; com.github.tomakehurst.wiremock.junit.WireMockRule$1.evaluate(WireMockRule.java:79)\r\n&gt; \tat\r\n&gt; org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n&gt; \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366) \tat\r\n&gt; org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\r\n&gt; \tat\r\n&gt; org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n&gt; \tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331) \tat\r\n&gt; org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79) \tat\r\n&gt; org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329) \tat\r\n&gt; org.junit.runners.ParentRunner.access$100(ParentRunner.java:66) \tat\r\n&gt; org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293) \tat\r\n&gt; org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n&gt; \tat\r\n&gt; org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n&gt; \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n&gt; \tat org.junit.runners.ParentRunner.run(ParentRunner.java:413) \tat\r\n&gt; org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n&gt; \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137) \tat\r\n&gt; com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n&gt; \tat\r\n&gt; com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n&gt; \tat\r\n&gt; com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n&gt; \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n&gt; Caused by: java.net.ConnectException \tat\r\n&gt; java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:561)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:119)\r\n&gt; \tat\r\n&gt; com.sympl.txn.handler.TxnHandlerControllerIntegrationTests.testWireMock(TxnHandlerControllerIntegrationTests.java:222)\r\n&gt; \t... 34 more Caused by: java.net.ConnectException \tat\r\n&gt; java.net.http/jdk.internal.net.http.common.Utils.toConnectException(Utils.java:971)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.PlainHttpConnection.connectAsync(PlainHttpConnection.java:179)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.AsyncSSLConnection.connectAsync(AsyncSSLConnection.java:56)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.Http1Exchange.sendHeadersAsync(Http1Exchange.java:237)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.Exchange.lambda$responseAsyncImpl0$8(Exchange.java:435)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.Exchange.checkFor407(Exchange.java:367)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.Exchange.lambda$responseAsyncImpl0$9(Exchange.java:439)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:930)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.CompletableFuture.uniHandleStage(CompletableFuture.java:946)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.CompletableFuture.handle(CompletableFuture.java:2266)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.Exchange.responseAsyncImpl0(Exchange.java:439)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.Exchange.responseAsyncImpl(Exchange.java:343)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.Exchange.responseAsync(Exchange.java:335)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.MultiExchange.responseAsyncImpl(MultiExchange.java:347)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.MultiExchange.lambda$responseAsyncImpl$7(MultiExchange.java:384)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:930)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.CompletableFuture.uniHandleStage(CompletableFuture.java:946)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.CompletableFuture.handle(CompletableFuture.java:2266)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.MultiExchange.responseAsyncImpl(MultiExchange.java:374)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.MultiExchange.lambda$responseAsync0$2(MultiExchange.java:293)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1072)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1705)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.HttpClientImpl$DelegatingExecutor.execute(HttpClientImpl.java:153)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.CompletableFuture.completeAsync(CompletableFuture.java:2591)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.MultiExchange.responseAsync(MultiExchange.java:246)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.HttpClientImpl.sendAsync(HttpClientImpl.java:632)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:540)\r\n&gt; \t... 36 more Caused by: java.nio.channels.UnresolvedAddressException\r\n&gt; \tat java.base/sun.nio.ch.Net.checkAddress(Net.java:130) \tat\r\n&gt; java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:675)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.PlainHttpConnection.lambda$connectAsync$0(PlainHttpConnection.java:165)\r\n&gt; \tat java.base/java.security.AccessController.doPrivileged(Native\r\n&gt; Method) \tat\r\n&gt; java.net.http/jdk.internal.net.http.PlainHttpConnection.connectAsync(PlainHttpConnection.java:167)\r\n&gt; \t... 62 more\r\n\r\nI tried the solutions below:\r\n\r\n - The solution proposed by @P.Raber in this [thread][1] \r\n - I used `WireMockServer` instead of `WireMockRule`\r\n - I removed ConfigureFor() and put it again \r\n - I configured the wirkmock to start on the same port as the external local service runs (this would sound so dump but I am running out of solutions ) ; however this also  made no difference . it still fails \r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69116881/wiremock-does-not-receive-any-requests\r\n\r\n","title":"WireMock doesn&#39;t receive the HTTP request issued by HTTP client","body":"<p>I am writing integration test to mock external local service called <strong>dates-service-svc</strong>  which actually runs on port 8081 . I am using wireMock to mock the service and HTTP client to issue a request to <strong>dates-services-svc</strong> , but the requests issued by HTTP client doesn't hit the wireMock . and raises an &quot;connection refused &quot; exception  .\nwhen the test case finish its execution . the logs says</p>\n<blockquote>\n<p>Requests received: [ ]</p>\n</blockquote>\n<p>On the other hand ,I issued the request using the post man . wireMock replies with that <strong>The requested URL matches the stub registered</strong></p>\n<p>I configured the wireMock as following</p>\n<pre><code>@Rule\n    public WireMockRule wireMockServer = new WireMockRule(new WireMockConfiguration().port(8084)\n            .notifier(new ConsoleNotifier(true)));\n</code></pre>\n<pre><code>@Before\n    public void setUp() {\n        wireMockServer.start();\n        WireMock.configureFor(&quot;localhost&quot;, 8084);\n    }\n</code></pre>\n<pre><code>    @AfterEach\n    public void afterEach() {\n        wireMockServer.resetAll();\n    }\n\n    @After\n    public void tearUp() {\n        wireMockServer.stop();\n    }\n</code></pre>\n<p>I created very simple test cases to just test whether WireMock works fine or not .here it is</p>\n<pre><code> @Test\n    public  void testWireMock()\n    {\n        try {\n\n            configureFor(&quot;localhost&quot;, 8084);\n            stubFor(any(urlEqualTo(&quot;/v1/service1/local-dates/&quot;))\n                    .willReturn(aResponse().withStatus(200).withBody(&quot;hello wireMOck&quot;)));;\n         \n            String datesEndPoint = &quot;https://dates-service-svc/v1/service1/local-dates/&quot;;\n      HttpClient client = HttpClient.newBuilder()\n                    .version(HttpClient.Version.HTTP_1_1)\n                    .followRedirects(HttpClient.Redirect.NORMAL)\n                    .connectTimeout(Duration.ofSeconds(20))\n                    .build();\n            URI uri = new URIBuilder(paymentDatesEndPoint)     \n                    .build();\n            HttpRequest request = HttpRequest.newBuilder()\n                    .GET()\n                    .uri(uri)\n                    .build();\n            HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n            List&lt;ServeEvent&gt; allServeEvents = getAllServeEvents();\n            List&lt;LoggedRequest&gt; requests = findAll(getRequestedFor(urlMatching(&quot;/v1/.*&quot;)));\n            verify(getRequestedFor(urlEqualTo(&quot;/v1/service1/local-dates/&quot;)));\n        }\n        catch (Exception e)\n        {\n            Assertions.fail(e);\n//            System.out.println(e.getMessage());\n        }\n    }\n</code></pre>\n<p>logs</p>\n<blockquote>\n<p>021-10-07 14:01:57.710 Verbose logging enabled 2021-10-07 14:01:57.861\nINFO 7407 --- [           main] wiremock.org.eclipse.jetty.util.log<br />\n: Logging initialized @22479ms to\nwiremock.org.eclipse.jetty.util.log.Slf4jLog 2021-10-07 14:01:58.034\nINFO 7407 --- [           main] w.org.eclipse.jetty.server.Server<br />\n: jetty-9.4.30.v20200611; built: 2020-06-11T12:34:51.929Z; git:\n271836e4c1f4612f12b7bb13ef5a92a927634b0d; jvm 11.0.12+8-LTS-237\n2021-10-07 14:01:58.050  INFO 7407 --- [           main]\nw.o.e.j.server.handler.ContextHandler    : Started\nw.o.e.j.s.ServletContextHandler@47e2a158{/__admin,null,AVAILABLE}\n2021-10-07 14:01:58.057  INFO 7407 --- [           main]\nw.o.e.j.server.handler.ContextHandler    : Started\nw.o.e.j.s.ServletContextHandler@65dce54c{/,null,AVAILABLE} 2021-10-07\n14:01:58.076  INFO 7407 --- [           main]\nw.o.e.jetty.server.AbstractConnector     : Started\nNetworkTrafficServerConnector@61186191{HTTP/1.1,\n(http/1.1)}{0.0.0.0:8084} 2021-10-07 14:01:58.076  INFO 7407 --- [<br />\nmain] w.org.eclipse.jetty.server.Server        : Started @22695ms\n2021-10-07 14:01:58.875  INFO 7407 --- [p1096402541-143]\nw.o.e.j.s.h.ContextHandler.__admin       : RequestHandlerClass from\ncontext returned\ncom.github.tomakehurst.wiremock.http.AdminRequestHandler. Normalized\nmapped under returned 'null' 2021-10-07 14:01:58.897 Admin request\nreceived:\n127.0.0.1 - POST /mappings</p>\n<p>Connection: [keep-alive] User-Agent: [Apache-HttpClient/4.5.12\n(Java/11.0.12)] Host: [localhost:8084] Content-Length: [264]\nContent-Type: [text/plain; charset=UTF-8] {   &quot;id&quot; :\n&quot;e149540c-33bf-4b39-8d56-5653fb77cdd9&quot;,   &quot;request&quot; : {\n&quot;url&quot; : &quot;/v1/service1/local-dates/&quot;,\n&quot;method&quot; : &quot;ANY&quot;   },   &quot;response&quot; : {\n&quot;status&quot; : 200,\n&quot;body&quot; : &quot;hello wireMOck&quot;   },   &quot;uuid&quot; : &quot;e149540c-33bf-4b39-8d56-5653fb77cdd9&quot; }</p>\n<p>2021-10-07 14:01:59.141  INFO 7407 --- [           main]\nw.o.e.jetty.server.AbstractConnector     : Stopped\nNetworkTrafficServerConnector@61186191{HTTP/1.1,\n(http/1.1)}{0.0.0.0:8084} 2021-10-07 14:01:59.142  INFO 7407 --- [<br />\nmain] w.o.e.j.server.handler.ContextHandler    : Stopped\nw.o.e.j.s.ServletContextHandler@65dce54c{/,null,UNAVAILABLE}\n2021-10-07 14:01:59.143  INFO 7407 --- [           main]\nw.o.e.j.server.handler.ContextHandler    : Stopped\nw.o.e.j.s.ServletContextHandler@47e2a158{/__admin,null,UNAVAILABLE}</p>\n<p>org.opentest4j.AssertionFailedError   at\norg.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:47)     at\norg.junit.jupiter.api.Assertions.fail(Assertions.java:140)    at\ncom.sympl.txn.handler.TxnHandlerControllerIntegrationTests.testWireMock(TxnHandlerControllerIntegrationTests.java:229)\nat\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)   at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)   at\norg.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\nat\norg.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat\norg.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\nat\norg.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\nat\norg.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)\nat\norg.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)\nat\norg.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\nat\norg.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\nat\norg.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\nat\norg.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\nat\ncom.github.tomakehurst.wiremock.junit.WireMockRule$1.evaluate(WireMockRule.java:79)\nat\norg.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)    at\norg.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\nat\norg.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\nat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)  at\norg.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)   at\norg.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)     at\norg.junit.runners.ParentRunner.access$100(ParentRunner.java:66)   at\norg.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)  at\norg.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\nat\norg.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\nat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:413)    at\norg.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)   at\ncom.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\nat\ncom.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\nat\ncom.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: java.net.ConnectException  at\njava.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:561)\nat\njava.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:119)\nat\ncom.sympl.txn.handler.TxnHandlerControllerIntegrationTests.testWireMock(TxnHandlerControllerIntegrationTests.java:222)\n... 34 more Caused by: java.net.ConnectException    at\njava.net.http/jdk.internal.net.http.common.Utils.toConnectException(Utils.java:971)\nat\njava.net.http/jdk.internal.net.http.PlainHttpConnection.connectAsync(PlainHttpConnection.java:179)\nat\njava.net.http/jdk.internal.net.http.AsyncSSLConnection.connectAsync(AsyncSSLConnection.java:56)\nat\njava.net.http/jdk.internal.net.http.Http1Exchange.sendHeadersAsync(Http1Exchange.java:237)\nat\njava.net.http/jdk.internal.net.http.Exchange.lambda$responseAsyncImpl0$8(Exchange.java:435)\nat\njava.net.http/jdk.internal.net.http.Exchange.checkFor407(Exchange.java:367)\nat\njava.net.http/jdk.internal.net.http.Exchange.lambda$responseAsyncImpl0$9(Exchange.java:439)\nat\njava.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:930)\nat\njava.base/java.util.concurrent.CompletableFuture.uniHandleStage(CompletableFuture.java:946)\nat\njava.base/java.util.concurrent.CompletableFuture.handle(CompletableFuture.java:2266)\nat\njava.net.http/jdk.internal.net.http.Exchange.responseAsyncImpl0(Exchange.java:439)\nat\njava.net.http/jdk.internal.net.http.Exchange.responseAsyncImpl(Exchange.java:343)\nat\njava.net.http/jdk.internal.net.http.Exchange.responseAsync(Exchange.java:335)\nat\njava.net.http/jdk.internal.net.http.MultiExchange.responseAsyncImpl(MultiExchange.java:347)\nat\njava.net.http/jdk.internal.net.http.MultiExchange.lambda$responseAsyncImpl$7(MultiExchange.java:384)\nat\njava.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:930)\nat\njava.base/java.util.concurrent.CompletableFuture.uniHandleStage(CompletableFuture.java:946)\nat\njava.base/java.util.concurrent.CompletableFuture.handle(CompletableFuture.java:2266)\nat\njava.net.http/jdk.internal.net.http.MultiExchange.responseAsyncImpl(MultiExchange.java:374)\nat\njava.net.http/jdk.internal.net.http.MultiExchange.lambda$responseAsync0$2(MultiExchange.java:293)\nat\njava.base/java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1072)\nat\njava.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\nat\njava.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1705)\nat\njava.net.http/jdk.internal.net.http.HttpClientImpl$DelegatingExecutor.execute(HttpClientImpl.java:153)\nat\njava.base/java.util.concurrent.CompletableFuture.completeAsync(CompletableFuture.java:2591)\nat\njava.net.http/jdk.internal.net.http.MultiExchange.responseAsync(MultiExchange.java:246)\nat\njava.net.http/jdk.internal.net.http.HttpClientImpl.sendAsync(HttpClientImpl.java:632)\nat\njava.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:540)\n... 36 more Caused by: java.nio.channels.UnresolvedAddressException\nat java.base/sun.nio.ch.Net.checkAddress(Net.java:130)  at\njava.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:675)\nat\njava.net.http/jdk.internal.net.http.PlainHttpConnection.lambda$connectAsync$0(PlainHttpConnection.java:165)\nat java.base/java.security.AccessController.doPrivileged(Native\nMethod)   at\njava.net.http/jdk.internal.net.http.PlainHttpConnection.connectAsync(PlainHttpConnection.java:167)\n... 62 more</p>\n</blockquote>\n<p>I tried the solutions below:</p>\n<ul>\n<li>The solution proposed by @P.Raber in this <a href=\"https://stackoverflow.com/questions/69116881/wiremock-does-not-receive-any-requests\">thread</a></li>\n<li>I used <code>WireMockServer</code> instead of <code>WireMockRule</code></li>\n<li>I removed ConfigureFor() and put it again</li>\n<li>I configured the wirkmock to start on the same port as the external local service runs (this would sound so dump but I am running out of solutions ) ; however this also  made no difference . it still fails</li>\n</ul>\n"},{"tags":["java","arrays","java.util.scanner"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1633593367,"post_id":69477367,"comment_id":122802163,"body_markdown":"You mean `String[] myArray = { studentId, studentName }` ? Or else what do you mean?","body":"You mean <code>String[] myArray = { studentId, studentName }</code> ? Or else what do you mean?"},{"owner":{"account_id":21795935,"reputation":115,"user_id":16095512,"display_name":"sha sha"},"score":0,"creation_date":1633594131,"post_id":69477367,"comment_id":122802468,"body_markdown":"I mean i want to use Scanner to store values to this `String[] myArray = { studentId, studentName }` array.","body":"I mean i want to use Scanner to store values to this <code>String[] myArray = { studentId, studentName }</code> array."},{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":1,"creation_date":1633594354,"post_id":69477367,"comment_id":122802566,"body_markdown":"you can use loop for arrays, or taking whole line as one input and use split()","body":"you can use loop for arrays, or taking whole line as one input and use split()"}],"answers":[{"tags":[],"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633594862,"creation_date":1633594560,"answer_id":69477661,"question_id":69477367,"body_markdown":"taking whole line as one input and splitting them. If input is seperated by comma, use `split(&quot;,&quot;)` or if seperated by space, use `split(&quot; &quot;)`\r\n````\r\nString input = sc.nextLine();\r\nString[] myArray = input.split(&quot; &quot;);\r\n````\r\n````\r\ninput : \r\nR123 Ravi \r\n\r\nmyArray will become {&quot;R123&quot;,&quot;Ravi&quot;}\r\n````\r\n","title":"how to store String values in array using scanner","body":"<p>taking whole line as one input and splitting them. If input is seperated by comma, use <code>split(&quot;,&quot;)</code> or if seperated by space, use <code>split(&quot; &quot;)</code></p>\n<pre><code>String input = sc.nextLine();\nString[] myArray = input.split(&quot; &quot;);\n</code></pre>\n<pre><code>input : \nR123 Ravi \n\nmyArray will become {&quot;R123&quot;,&quot;Ravi&quot;}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18544976,"reputation":241,"user_id":13512579,"display_name":"Navneet Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633594654,"creation_date":1633594654,"answer_id":69477683,"question_id":69477367,"body_markdown":"Try using BufferedReader\r\n\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n    System.out.println(&quot;Enter StudentID,StudentName&quot;);\r\n    String[] arr = br.readLine.trim().split(&quot;,&quot;);\r\n\r\nKeep in mind\r\n 1.  While inputs provide studentid and studentname as comma separated (you can change it if you want as per you requirement).\r\n 2.  You need to import java.io.*;\r\n 3.  This throws exception. So you can either add throws IO Exception with your main method or put all this in try catch.\r\n\r\n\r\n   Input\r\n\r\n    101, Virat","title":"how to store String values in array using scanner","body":"<p>Try using BufferedReader</p>\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\nSystem.out.println(&quot;Enter StudentID,StudentName&quot;);\nString[] arr = br.readLine.trim().split(&quot;,&quot;);\n</code></pre>\n<p>Keep in mind</p>\n<ol>\n<li>While inputs provide studentid and studentname as comma separated (you can change it if you want as per you requirement).</li>\n<li>You need to import java.io.*;</li>\n<li>This throws exception. So you can either add throws IO Exception with your main method or put all this in try catch.</li>\n</ol>\n<p>Input</p>\n<pre><code>101, Virat\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3024120,"reputation":3293,"user_id":2564509,"display_name":"djm.im"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633595711,"creation_date":1633595368,"answer_id":69477852,"question_id":69477367,"body_markdown":"Something like this \r\n\r\n    // short version\r\n    String[] myArray = new String[]{\r\n            studentId,\r\n            studentName\r\n    };\r\n    System.out.println(Arrays.toString(myArray));\r\n    \r\n    // adding one by one\r\n    String[] myArray1 = new String[2];\r\n    myArray1[0] = studentId;\r\n    myArray1[1] = studentName;\r\n    System.out.println(Arrays.toString(myArray1));\r\n","title":"how to store String values in array using scanner","body":"<p>Something like this</p>\n<pre><code>// short version\nString[] myArray = new String[]{\n        studentId,\n        studentName\n};\nSystem.out.println(Arrays.toString(myArray));\n\n// adding one by one\nString[] myArray1 = new String[2];\nmyArray1[0] = studentId;\nmyArray1[1] = studentName;\nSystem.out.println(Arrays.toString(myArray1));\n</code></pre>\n"}],"owner":{"account_id":21795935,"reputation":115,"user_id":16095512,"display_name":"sha sha"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":624,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1633694273,"accepted_answer_id":69477852,"answer_count":3,"score":0,"last_activity_date":1633608899,"creation_date":1633593207,"question_id":69477367,"body_markdown":"I want to input studentId and studentName using Scanner and store these values to a array/s. \r\n\r\n    System.out.print(&quot;Enter StudentId :&quot;);\r\n    String studentId = input.nextLine();\r\n   \r\n    System.out.print(&quot;Enter StudentName :&quot;);\r\n    String studentName = input.nextLine();\r\n\r\nCan I store these values(not a single value) to a array?","title":"how to store String values in array using scanner","body":"<p>I want to input studentId and studentName using Scanner and store these values to a array/s.</p>\n<pre><code>System.out.print(&quot;Enter StudentId :&quot;);\nString studentId = input.nextLine();\n\nSystem.out.print(&quot;Enter StudentName :&quot;);\nString studentName = input.nextLine();\n</code></pre>\n<p>Can I store these values(not a single value) to a array?</p>\n"},{"tags":["java","ssl","certificate","keystore"],"answers":[{"tags":[],"owner":{"account_id":63571,"reputation":14881,"user_id":188107,"accept_rate":63,"display_name":"musiKk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1308224352,"creation_date":1308224352,"answer_id":6371213,"question_id":6370745,"body_markdown":"You can have a keystore with as many certificates and keys as you like.\r\n\r\nIf there are multiple certificates in a keystore a client uses as its truststore, all certificates are being looked at until one is found that fits. You can look at the preinstalled certificates, they are in &lt;JAVA_HOME&gt;/lib/security/cacerts. It&#39;s just a big collection of root CAs&#39; certificates.\r\n\r\nRegarding the keys I don&#39;t know. I&#39;d reckon the client uses a key that is signed by the same CA as the certificate that is provided by the server and if there are multiple, the first is used. But I can&#39;t say that for sure.","title":"Can we load multiple Certificates &amp; Keys in a Key Store?","body":"<p>You can have a keystore with as many certificates and keys as you like.</p>\n\n<p>If there are multiple certificates in a keystore a client uses as its truststore, all certificates are being looked at until one is found that fits. You can look at the preinstalled certificates, they are in /lib/security/cacerts. It's just a big collection of root CAs' certificates.</p>\n\n<p>Regarding the keys I don't know. I'd reckon the client uses a key that is signed by the same CA as the certificate that is provided by the server and if there are multiple, the first is used. But I can't say that for sure.</p>\n"},{"tags":[],"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1308225150,"creation_date":1308225150,"answer_id":6371359,"question_id":6370745,"body_markdown":"Although this depends on the KeyStore type, generally, you can store multiple private keys and certificates in a single store.\r\n\r\nWhich key and certificate combination is used for a Java-based server will depend on how the application was implemented. A number of applications let you select a given certificate using the *alias* name. The key and certificate getters in [KeyStore][1] take an `alias` parameter to make this choice. Usually, when this is not specified in the configuration, the application or framework will use the first suitable one it finds based on the `KeyStore.aliases()` enumeration.\r\n\r\nTomcat, for example, uses the `keyAlias` attribute in its [Connector configuration][2]:\r\n\r\n&gt; keyAlias: The alias used to for the server\r\n&gt; certificate in the keystore. If not\r\n&gt; specified the first key read in the\r\n&gt; keystore will be used.\r\n\r\nRegarding key pairs, some KeyStores (again, depending on the type) can be used to store `SecretKey`s (e.g. DES), that is shared keys, as well as public-private key pairs.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/security/KeyStore.html\r\n  [2]: http://tomcat.apache.org/tomcat-6.0-doc/config/http.html#SSL_Support","title":"Can we load multiple Certificates &amp; Keys in a Key Store?","body":"<p>Although this depends on the KeyStore type, generally, you can store multiple private keys and certificates in a single store.</p>\n\n<p>Which key and certificate combination is used for a Java-based server will depend on how the application was implemented. A number of applications let you select a given certificate using the <em>alias</em> name. The key and certificate getters in <a href=\"http://download.oracle.com/javase/6/docs/api/java/security/KeyStore.html\" rel=\"noreferrer\">KeyStore</a> take an <code>alias</code> parameter to make this choice. Usually, when this is not specified in the configuration, the application or framework will use the first suitable one it finds based on the <code>KeyStore.aliases()</code> enumeration.</p>\n\n<p>Tomcat, for example, uses the <code>keyAlias</code> attribute in its <a href=\"http://tomcat.apache.org/tomcat-6.0-doc/config/http.html#SSL_Support\" rel=\"noreferrer\">Connector configuration</a>:</p>\n\n<blockquote>\n  <p>keyAlias: The alias used to for the server\n  certificate in the keystore. If not\n  specified the first key read in the\n  keystore will be used.</p>\n</blockquote>\n\n<p>Regarding key pairs, some KeyStores (again, depending on the type) can be used to store <code>SecretKey</code>s (e.g. DES), that is shared keys, as well as public-private key pairs.</p>\n"}],"owner":{"account_id":84526,"reputation":24333,"user_id":236222,"accept_rate":92,"display_name":"Jay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77710,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":6371359,"answer_count":2,"score":38,"last_activity_date":1633608868,"creation_date":1308222142,"question_id":6370745,"body_markdown":"Can we load multiple Certificates &amp; Keys in a Key Store? \r\n\r\nIs it always required to load only Pairs (i.e. Certificates &amp; Keys together)?\r\n\r\nIf a Key Store has multiple Certificates and Keys, which one will get selected when Java SSL tries to establish connection as a Server?\r\n\r\n","title":"Can we load multiple Certificates &amp; Keys in a Key Store?","body":"<p>Can we load multiple Certificates &amp; Keys in a Key Store? </p>\n\n<p>Is it always required to load only Pairs (i.e. Certificates &amp; Keys together)?</p>\n\n<p>If a Key Store has multiple Certificates and Keys, which one will get selected when Java SSL tries to establish connection as a Server?</p>\n"},{"tags":["java","android","phone-call"],"answers":[{"tags":[],"owner":{"account_id":30362,"reputation":54951,"user_id":82788,"accept_rate":80,"display_name":"matiash"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1404507856,"creation_date":1404507856,"answer_id":24580712,"question_id":24580508,"body_markdown":"The `ITelephony` interface is internal, so you cannot get a standard reference to it. You *could* use reflection all the way, i.e.\r\n\r\n    TelephonyManager tm = (TelephonyManager) getSystemService(TELEPHONY_SERVICE);\r\n\r\n    Method m1 = tm.getClass().getDeclaredMethod(&quot;getITelephony&quot;);\r\n    m1.setAccessible(true);\r\n    Object iTelephony = m1.invoke(tm);\r\n\r\n    Method m2 = iTelephony.getClass().getDeclaredMethod(&quot;silenceRinger&quot;); \r\n    Method m3 = iTelephony.getClass().getDeclaredMethod(&quot;endCall&quot;); \r\n\r\n    m2.invoke(iTelephony);\r\n    m3.invoke(iTelephony);\r\n\r\nBut either way those methods need the `MODIFY_PHONE_STATE` permission, which can only be granted to system apps. So I&#39;m afraid it won&#39;t work anyway.","title":"How to import com.android.internal.telephony.ITelephony to the Android application","body":"<p>The <code>ITelephony</code> interface is internal, so you cannot get a standard reference to it. You <em>could</em> use reflection all the way, i.e.</p>\n\n<pre><code>TelephonyManager tm = (TelephonyManager) getSystemService(TELEPHONY_SERVICE);\n\nMethod m1 = tm.getClass().getDeclaredMethod(\"getITelephony\");\nm1.setAccessible(true);\nObject iTelephony = m1.invoke(tm);\n\nMethod m2 = iTelephony.getClass().getDeclaredMethod(\"silenceRinger\"); \nMethod m3 = iTelephony.getClass().getDeclaredMethod(\"endCall\"); \n\nm2.invoke(iTelephony);\nm3.invoke(iTelephony);\n</code></pre>\n\n<p>But either way those methods need the <code>MODIFY_PHONE_STATE</code> permission, which can only be granted to system apps. So I'm afraid it won't work anyway.</p>\n"},{"tags":[],"owner":{"account_id":7706546,"reputation":46,"user_id":5837324,"display_name":"Jacks Nogueira"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532104884,"creation_date":1532104884,"answer_id":51447053,"question_id":24580508,"body_markdown":"For kotlin:\r\n\r\n     val tm = context.getSystemService(Context.TELEPHONY_SERVICE) as TelephonyManager\r\n     val m1 = tm::class.java.getDeclaredMethod(&quot;getITelephony&quot;)\r\n     m1.setAccessible(true)\r\n     val telephonyService = m1.invoke(tm)\r\n     val m2 = telephonyService::class.java.getDeclaredMethod(&quot;silenceRinger&quot;)\r\n     val m3 = telephonyService::class.java.getDeclaredMethod(&quot;endCall&quot;)\r\n    \r\n     m2.invoke(telephonyService)\r\n     m3.invoke(telephonyService)","title":"How to import com.android.internal.telephony.ITelephony to the Android application","body":"<p>For kotlin:</p>\n\n<pre><code> val tm = context.getSystemService(Context.TELEPHONY_SERVICE) as TelephonyManager\n val m1 = tm::class.java.getDeclaredMethod(\"getITelephony\")\n m1.setAccessible(true)\n val telephonyService = m1.invoke(tm)\n val m2 = telephonyService::class.java.getDeclaredMethod(\"silenceRinger\")\n val m3 = telephonyService::class.java.getDeclaredMethod(\"endCall\")\n\n m2.invoke(telephonyService)\n m3.invoke(telephonyService)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1396252,"reputation":8947,"user_id":1325942,"accept_rate":56,"display_name":"Ali Imran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633608697,"creation_date":1633608697,"answer_id":69480917,"question_id":24580508,"body_markdown":"For Android API 28 and above you can use the following code\r\n\r\n     TelecomManager telecomManager = (TelecomManager) context.getSystemService(Context.TELECOM_SERVICE);\r\n            if (ActivityCompat.checkSelfPermission(context, Manifest.permission.ANSWER_PHONE_CALLS) != PackageManager.PERMISSION_GRANTED) {\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\r\n                    telecomManager.endCall();\r\n                }\r\n              \r\n            }else{\r\n           //Ask for permission here\r\n           }\r\n\r\nAlso add this permission in your app manifest file\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ANSWER_PHONE_CALLS&quot; /&gt;","title":"How to import com.android.internal.telephony.ITelephony to the Android application","body":"<p>For Android API 28 and above you can use the following code</p>\n<pre><code> TelecomManager telecomManager = (TelecomManager) context.getSystemService(Context.TELECOM_SERVICE);\n        if (ActivityCompat.checkSelfPermission(context, Manifest.permission.ANSWER_PHONE_CALLS) != PackageManager.PERMISSION_GRANTED) {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\n                telecomManager.endCall();\n            }\n          \n        }else{\n       //Ask for permission here\n       }\n</code></pre>\n<p>Also add this permission in your app manifest file</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ANSWER_PHONE_CALLS&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":1138466,"reputation":17496,"user_id":1123020,"accept_rate":60,"display_name":"Yoda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24983,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":24580712,"answer_count":3,"score":10,"last_activity_date":1633608697,"creation_date":1404506229,"question_id":24580508,"body_markdown":"I want to hang up incoming call I detect it and then I want to hang it up.\r\n\r\nThe problem is that this: `com.android.internal.telephony.ITelephony` is not resolved.\r\n\r\nI tried to adding package `com.android.internal.telephony` to my application and create interface:\r\n\r\n    package com.android.internal.telephony;\r\n    \r\n    public interface ITelephony {      \r\n    \r\n        boolean endCall();     \r\n    \r\n        void answerRingingCall();      \r\n    \r\n        void silenceRinger(); \r\n    \r\n    }\r\n\r\nbut the call is not ended.\r\n\r\nHere I detect call, display toast(it is displayed) then try to hang up but as I said first there was no `com.android.internal.telephony.ITelephony` before I created that package:\r\n\r\n\r\n    private class CallStateListener extends PhoneStateListener {\r\n    \t\t@Override\r\n    \t\tpublic void onCallStateChanged(int state, String incomingNumber) {\r\n    \t\t\tswitch (state) {\r\n    \t\t\tcase TelephonyManager.CALL_STATE_RINGING:\r\n    \t\t\t\t// called when someone is ringing to this phone\r\n    \t\t\t\tToast.makeText(ctx, &quot;Incoming: &quot; + incomingNumber, Toast.LENGTH_LONG).show();\r\n    \t\t\t\t try{\r\n    \t\t\t\t\t    TelephonyManager tm = (TelephonyManager) ctx.getSystemService(Context.TELEPHONY_SERVICE);\r\n    \t\t\t\t\t    Class c = Class.forName(tm.getClass().getName());\r\n    \t\t\t\t\t    Method m = c.getDeclaredMethod(&quot;getITelephony&quot;);\r\n    \t\t\t\t\t    com.android.internal.telephony.ITelephony telephonyService = (com.android.internal.telephony.ITelephony) m.invoke(tm);  \r\n    \t\t\t\t\t    \r\n    \t\t\t\t\t    telephonyService = (com.android.internal.telephony.ITelephony) m.invoke(tm);\r\n    \t\t\t\t\t    telephonyService.silenceRinger();\r\n    \t\t\t\t\t    telephonyService.endCall();\r\n    \t\t\t\t\t}catch (Exception e) {\r\n    \t\t\t\t\t    e.printStackTrace();\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\n\r\n\r\nMy Manifest and permissions:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.a&quot;\r\n        android:versionCode=&quot;1&quot;\r\n        android:versionName=&quot;1.0&quot; &gt;\r\n    \r\n        &lt;uses-sdk\r\n            android:minSdkVersion=&quot;17&quot;\r\n            android:targetSdkVersion=&quot;17&quot; /&gt;\r\n    \t&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.PROCESS_OUTGOING_CALLS&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@drawable/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/AppTheme&quot; &gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:label=&quot;@string/app_name&quot; &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n             &lt;service\r\n                android:name=&quot;.CallDetectService&quot;\r\n                android:enabled=&quot;true&quot;\r\n                android:exported=&quot;false&quot; &gt;\r\n            &lt;/service&gt;\r\n        &lt;/application&gt;\r\n        \r\n        \r\n    \r\n    &lt;/manifest&gt;\r\n\r\n\r\n","title":"How to import com.android.internal.telephony.ITelephony to the Android application","body":"<p>I want to hang up incoming call I detect it and then I want to hang it up.</p>\n\n<p>The problem is that this: <code>com.android.internal.telephony.ITelephony</code> is not resolved.</p>\n\n<p>I tried to adding package <code>com.android.internal.telephony</code> to my application and create interface:</p>\n\n<pre><code>package com.android.internal.telephony;\n\npublic interface ITelephony {      \n\n    boolean endCall();     \n\n    void answerRingingCall();      \n\n    void silenceRinger(); \n\n}\n</code></pre>\n\n<p>but the call is not ended.</p>\n\n<p>Here I detect call, display toast(it is displayed) then try to hang up but as I said first there was no <code>com.android.internal.telephony.ITelephony</code> before I created that package:</p>\n\n<pre><code>private class CallStateListener extends PhoneStateListener {\n        @Override\n        public void onCallStateChanged(int state, String incomingNumber) {\n            switch (state) {\n            case TelephonyManager.CALL_STATE_RINGING:\n                // called when someone is ringing to this phone\n                Toast.makeText(ctx, \"Incoming: \" + incomingNumber, Toast.LENGTH_LONG).show();\n                 try{\n                        TelephonyManager tm = (TelephonyManager) ctx.getSystemService(Context.TELEPHONY_SERVICE);\n                        Class c = Class.forName(tm.getClass().getName());\n                        Method m = c.getDeclaredMethod(\"getITelephony\");\n                        com.android.internal.telephony.ITelephony telephonyService = (com.android.internal.telephony.ITelephony) m.invoke(tm);  \n\n                        telephonyService = (com.android.internal.telephony.ITelephony) m.invoke(tm);\n                        telephonyService.silenceRinger();\n                        telephonyService.endCall();\n                    }catch (Exception e) {\n                        e.printStackTrace();\n\n                    }\n                break;\n            }\n        }\n    }\n</code></pre>\n\n<p>My Manifest and permissions:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.a\"\n    android:versionCode=\"1\"\n    android:versionName=\"1.0\" &gt;\n\n    &lt;uses-sdk\n        android:minSdkVersion=\"17\"\n        android:targetSdkVersion=\"17\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.PROCESS_OUTGOING_CALLS\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.CALL_PHONE\" /&gt;\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@drawable/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:theme=\"@style/AppTheme\" &gt;\n        &lt;activity\n            android:name=\".MainActivity\"\n            android:label=\"@string/app_name\" &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n         &lt;service\n            android:name=\".CallDetectService\"\n            android:enabled=\"true\"\n            android:exported=\"false\" &gt;\n        &lt;/service&gt;\n    &lt;/application&gt;\n\n\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","logging","methods","reflection","reflections"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":4,"creation_date":1633608769,"post_id":69480904,"comment_id":122808415,"body_markdown":"It&#39;s not possible via reflection. You&#39;re accessing the *definition* of the method. The definition of the method says nothing about any specific invocation.","body":"It&#39;s not possible via reflection. You&#39;re accessing the <i>definition</i> of the method. The definition of the method says nothing about any specific invocation."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1633609730,"post_id":69480904,"comment_id":122808848,"body_markdown":"That’s a weird question. All your code is doing, most notably `getClass().getEnclosingMethod()` and `method.getParameters()` **is** Reflection. If that’s not Reflection, what are you calling Reflection then? If you want a solution truly without Reflection, `System.out.println(&quot;method1: param1=&quot;+param1);` does the job.","body":"That’s a weird question. All your code is doing, most notably <code>getClass().getEnclosingMethod()</code> and <code>method.getParameters()</code> <b>is</b> Reflection. If that’s not Reflection, what are you calling Reflection then? If you want a solution truly without Reflection, <code>System.out.println(&quot;method1: param1=&quot;+param1);</code> does the job."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1633624294,"post_id":69480904,"comment_id":122815532,"body_markdown":"Pretty sure the way you&#39;re trying to do it is outright impossible.  You&#39;d probably have to do it by messing with the bytecode.","body":"Pretty sure the way you&#39;re trying to do it is outright impossible.  You&#39;d probably have to do it by messing with the bytecode."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1633630676,"post_id":69480904,"comment_id":122817811,"body_markdown":"Well, while not &quot;impossible&quot;, it would involve the use of some hidden, unsupported APIs[.](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/LiveStackFrame.java#L34) And writing a Java Agent is easier and better supported. It would also probably yield better performance.","body":"Well, while not &quot;impossible&quot;, it would involve the use of some hidden, unsupported APIs<a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/LiveStackFrame.java#L34\" rel=\"nofollow noreferrer\">.</a> And writing a Java Agent is easier and better supported. It would also probably yield better performance."},{"owner":{"account_id":17504779,"reputation":468,"user_id":12694268,"display_name":"Harshad Panmand"},"score":0,"creation_date":1633673155,"post_id":69480904,"comment_id":122826877,"body_markdown":"My bad, getEnclosingMethod() is internally using reflection.\nBasically I want to write an annotation which will log the method name and its parameter value.","body":"My bad, getEnclosingMethod() is internally using reflection. Basically I want to write an annotation which will log the method name and its parameter value."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1633688080,"post_id":69480904,"comment_id":122832058,"body_markdown":"Annotations don’t do anything. Annotations are like parameters or configuration file entries. You need actual software, e.g. an annotation processor, that does the job.","body":"Annotations don’t do anything. Annotations are like parameters or configuration file entries. You need actual software, e.g. an annotation processor, that does the job."}],"owner":{"account_id":17504779,"reputation":468,"user_id":12694268,"display_name":"Harshad Panmand"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633608631,"creation_date":1633608631,"question_id":69480904,"body_markdown":"I would like to create new **annotation** for logging method name and method&#39;s parameter value. \r\n\r\nI&#39;m using the below code to retrieve the method parameter information without using &#39;java reflection&#39;(because its too costly).\r\n\r\n        public void method1(String param1) {\r\n\r\n        Method method = new Object() {}.getClass().getEnclosingMethod();\r\n\r\n        System.out.printf(method.getName() + &quot; : &quot;);\r\n\r\n        Parameter[] parameters = method.getParameters();\r\n        for (Parameter parameter : parameters) {\r\n            System.out.printf(parameter.toString());\r\n        }\r\n    }\r\n\r\nits output is :\r\n\r\n&gt; method1 : java.lang.String arg0 \r\n\r\nHere I&#39;m getting parameter type and its name.\r\n**I want to retrieve parameter value**\r\n\r\nI had tried @Loggable annotation of https://aspects.jcabi.com/ and that is not working.\r\n\r\n@Loggable references: (https://aspects.jcabi.com/annotation-loggable.html) (https://aspects.jcabi.com/apidocs-0.22.6/com/jcabi/aspects/Loggable.html)","title":"How to get values of current method without using reflection in java","body":"<p>I would like to create new <strong>annotation</strong> for logging method name and method's parameter value.</p>\n<p>I'm using the below code to retrieve the method parameter information without using 'java reflection'(because its too costly).</p>\n<pre><code>    public void method1(String param1) {\n\n    Method method = new Object() {}.getClass().getEnclosingMethod();\n\n    System.out.printf(method.getName() + &quot; : &quot;);\n\n    Parameter[] parameters = method.getParameters();\n    for (Parameter parameter : parameters) {\n        System.out.printf(parameter.toString());\n    }\n}\n</code></pre>\n<p>its output is :</p>\n<blockquote>\n<p>method1 : java.lang.String arg0</p>\n</blockquote>\n<p>Here I'm getting parameter type and its name.\n<strong>I want to retrieve parameter value</strong></p>\n<p>I had tried @Loggable annotation of <a href=\"https://aspects.jcabi.com/\" rel=\"nofollow noreferrer\">https://aspects.jcabi.com/</a> and that is not working.</p>\n<p>@Loggable references: (<a href=\"https://aspects.jcabi.com/annotation-loggable.html\" rel=\"nofollow noreferrer\">https://aspects.jcabi.com/annotation-loggable.html</a>) (<a href=\"https://aspects.jcabi.com/apidocs-0.22.6/com/jcabi/aspects/Loggable.html\" rel=\"nofollow noreferrer\">https://aspects.jcabi.com/apidocs-0.22.6/com/jcabi/aspects/Loggable.html</a>)</p>\n"},{"tags":["java","colors"],"answers":[{"tags":[],"owner":{"account_id":10435953,"reputation":472,"user_id":16399667,"display_name":"bumbread"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633608360,"creation_date":1633607879,"answer_id":69480733,"question_id":69480494,"body_markdown":"The `float` components are in the range of `[0.0, 1.0]`. You are adding the scaled RGB components together and then casting them to `int`:\r\n\r\n```\r\nrgb[0] = rgb[1] = rgb[2] = (int)(0.299 * rgb[0] + 0.587 * rgb[1] + 0.114 * rgb[2]);\r\n                            ^^^ Cast to int\r\n```\r\n\r\nYou would get the color black if all of the values in the `rgb` array are zero. This is most likely because the cast to int truncates the resulting floating-point values down to zero. Since `rgb` is an array of floats, you should cast result to `float`.\r\n\r\n```\r\nrgb[0] = rgb[1] = rgb[2] =  (float)(0.299 * rgb[0] + 0.587 * rgb[1] + 0.114 * rgb[2]);\r\n                           ^ Key change, cast to float\r\n```\r\n\r\n","title":"How to convert RGB color to grayscale in Java","body":"<p>The <code>float</code> components are in the range of <code>[0.0, 1.0]</code>. You are adding the scaled RGB components together and then casting them to <code>int</code>:</p>\n<pre><code>rgb[0] = rgb[1] = rgb[2] = (int)(0.299 * rgb[0] + 0.587 * rgb[1] + 0.114 * rgb[2]);\n                            ^^^ Cast to int\n</code></pre>\n<p>You would get the color black if all of the values in the <code>rgb</code> array are zero. This is most likely because the cast to int truncates the resulting floating-point values down to zero. Since <code>rgb</code> is an array of floats, you should cast result to <code>float</code>.</p>\n<pre><code>rgb[0] = rgb[1] = rgb[2] =  (float)(0.299 * rgb[0] + 0.587 * rgb[1] + 0.114 * rgb[2]);\n                           ^ Key change, cast to float\n</code></pre>\n"}],"owner":{"account_id":21588784,"reputation":55,"user_id":15918774,"display_name":"anirudhc1229"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69480733,"answer_count":1,"score":0,"last_activity_date":1633608360,"creation_date":1633606787,"question_id":69480494,"body_markdown":"I&#39;m trying to create a method that converts a given java.awt.Color color to grayscale. Here&#39;s what I have right now:\r\n\r\n```\r\npublic Color gs(Color col) {\r\n        if (grayScale) {\r\n            float[] rgb = col.getRGBColorComponents(new float[3]);\r\n            rgb[0] = rgb[1] = rgb[2] = (int)(0.299 * rgb[0] + 0.587 * rgb[1] + 0.114 * rgb[2]);\r\n            col = new Color(rgb[0], rgb[1], rgb[2]);\r\n        }\r\n        return col;\r\n}\r\n```\r\nHowever, when I call this method, it seems to be returning the color black every single time, regardless of the input color. How do I fix this?","title":"How to convert RGB color to grayscale in Java","body":"<p>I'm trying to create a method that converts a given java.awt.Color color to grayscale. Here's what I have right now:</p>\n<pre><code>public Color gs(Color col) {\n        if (grayScale) {\n            float[] rgb = col.getRGBColorComponents(new float[3]);\n            rgb[0] = rgb[1] = rgb[2] = (int)(0.299 * rgb[0] + 0.587 * rgb[1] + 0.114 * rgb[2]);\n            col = new Color(rgb[0], rgb[1], rgb[2]);\n        }\n        return col;\n}\n</code></pre>\n<p>However, when I call this method, it seems to be returning the color black every single time, regardless of the input color. How do I fix this?</p>\n"},{"tags":["java","jar","devops","production"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1633601365,"post_id":69479266,"comment_id":122805659,"body_markdown":"Hello and welcome. About your deadline that you mentioned in your original question, please read [this](https://meta.stackoverflow.com/questions/326569/under-what-circumstances-may-i-add-urgent-or-other-similar-phrases-to-my-quest)","body":"Hello and welcome. About your deadline that you mentioned in your original question, please read <a href=\"https://meta.stackoverflow.com/questions/326569/under-what-circumstances-may-i-add-urgent-or-other-similar-phrases-to-my-quest\">this</a>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1633601735,"post_id":69479266,"comment_id":122805809,"body_markdown":"Anyway, you should [edit] your question to include the results of your research and why they don&#39;t fit your situation. For example, why can&#39;t you use [Spring Cloud Config](https://cloud.spring.io/spring-cloud-config/reference/html/) or [Vault](https://www.vaultproject.io/)?","body":"Anyway, you should <a href=\"https://stackoverflow.com/posts/69479266/edit\">edit</a> your question to include the results of your research and why they don&#39;t fit your situation. For example, why can&#39;t you use <a href=\"https://cloud.spring.io/spring-cloud-config/reference/html/\" rel=\"nofollow noreferrer\">Spring Cloud Config</a> or <a href=\"https://www.vaultproject.io/\" rel=\"nofollow noreferrer\">Vault</a>?"},{"owner":{"account_id":20537026,"reputation":31,"user_id":15072866,"display_name":"thisisnotrealname"},"score":0,"creation_date":1633633657,"post_id":69479266,"comment_id":122818867,"body_markdown":"I&#39;ve found what i&#39;ve been looking for, thanks for the input!","body":"I&#39;ve found what i&#39;ve been looking for, thanks for the input!"}],"answers":[{"tags":[],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633608140,"creation_date":1633608140,"answer_id":69480797,"question_id":69479266,"body_markdown":"You can manage many configurations on spring-boot for each enviromment ( local, prd, hom, test... )\r\n\r\ncheck this https://stackoverflow.com/a/68012400/7505687\r\n\r\n\r\nOr you can work on each vars in .proporties overriding all values as your PRD enviromment vars are added.\r\n\r\neg. in `application.properties`\r\n```properties\r\nvar.same-config-on-proporties=${ENV_VALUE_FROM_ENVIROMMENT:default-value-if-not-passed-from-env}\r\n\r\n```","title":"Best way to use configuration file in production","body":"<p>You can manage many configurations on spring-boot for each enviromment ( local, prd, hom, test... )</p>\n<p>check this <a href=\"https://stackoverflow.com/a/68012400/7505687\">https://stackoverflow.com/a/68012400/7505687</a></p>\n<p>Or you can work on each vars in .proporties overriding all values as your PRD enviromment vars are added.</p>\n<p>eg. in <code>application.properties</code></p>\n<pre><code>var.same-config-on-proporties=${ENV_VALUE_FROM_ENVIROMMENT:default-value-if-not-passed-from-env}\n\n</code></pre>\n"}],"owner":{"account_id":20537026,"reputation":31,"user_id":15072866,"display_name":"thisisnotrealname"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633608140,"creation_date":1633601237,"question_id":69479266,"body_markdown":"I&#39;m currently working on a java project.\r\nI already built the JAR for the project, and this JAR uses some properties files that have credentials for third party services in them.\r\nSo this program reads the configuration files from &quot;src/main/resources&quot;. But I don&#39;t think this is the best way to bring it to production since the properties files have credentials.\r\n\r\nMy question is, what is the state of the art to deploy a JAR to production server that reads properties files that have credentials in them?\r\n\r\n1. Do I just put the properties files in &quot;src/main/resources&quot; like I did and it&#39;s enough? Is it safe enough?\r\n2. Or should I not actually push the properties files with credentials in production and there is a better way to do that?\r\n\r\n[directory][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tXUbl.png","title":"Best way to use configuration file in production","body":"<p>I'm currently working on a java project.\nI already built the JAR for the project, and this JAR uses some properties files that have credentials for third party services in them.\nSo this program reads the configuration files from &quot;src/main/resources&quot;. But I don't think this is the best way to bring it to production since the properties files have credentials.</p>\n<p>My question is, what is the state of the art to deploy a JAR to production server that reads properties files that have credentials in them?</p>\n<ol>\n<li>Do I just put the properties files in &quot;src/main/resources&quot; like I did and it's enough? Is it safe enough?</li>\n<li>Or should I not actually push the properties files with credentials in production and there is a better way to do that?</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/tXUbl.png\" rel=\"nofollow noreferrer\">directory</a></p>\n"},{"tags":["java","xml","spring","logging","profile"],"answers":[{"tags":[],"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633607985,"creation_date":1633607985,"answer_id":69480761,"question_id":69480420,"body_markdown":"    logging.config=classpath:log4j.xml\r\n\r\nI write it from spring properties documentation. You can configure by logging.config property. You can only write property to application.properties file","title":"how to remove xml file from one of the spring profiles","body":"<pre><code>logging.config=classpath:log4j.xml\n</code></pre>\n<p>I write it from spring properties documentation. You can configure by logging.config property. You can only write property to application.properties file</p>\n"}],"owner":{"account_id":22609560,"reputation":41,"user_id":16789960,"display_name":"Олександр Житарюк"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633607985,"creation_date":1633606496,"question_id":69480420,"body_markdown":"So I want to remove my log42.xml from one spring profile. How can I do this? I try to find some info in internet but it was no success. I know that I can map my xml to properties file, but I want to have xml file. This is my file main goal to have one profile for writing logs to Console other for File just for learning. This is my file code:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;log4j:configuration xmlns:log4j=&#39;http://jakarta.apache.org/log4j/&#39;\r\n                     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                     xsi:schemaLocation=&quot;http://jakarta.apache.org/log4j/ http://jakarta.apache.org/log4j/ &quot;&gt;\r\n\r\n    &lt;Properties&gt;\r\n        &lt;property name=&quot;FILE_PATTERN&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%-5level] %logger{0} %X{akkaSource} %msg%n&quot;/&gt;\r\n        &lt;property name=&quot;LOGS_BASE_DIRECTORY&quot; value=&quot;logs&quot;/&gt;\r\n        &lt;property name=&quot;BASE_DIR&quot; value=&quot;logs&quot;/&gt;\r\n    &lt;/Properties&gt;\r\n\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;CONSOLE&quot; target=&quot;SYSTEM_OUT&quot;/&gt;\r\n\r\n        &lt;RollingFile name=&quot;SERVICE&quot; fileName=&quot;logs/service.log&quot;\r\n                     filePattern=&quot;${LOGS_BASE_DIRECTORY}/archived/$${date:yyyy-MM}/service-%d{yyyy-MM-dd-HH-mm}-%i.log.gz&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;${FILE_PATTERN}&lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n        &lt;/RollingFile&gt;\r\n\r\n        &lt;RollingFile name=&quot;CONTROLLER&quot; fileName=&quot;logs/controller.log&quot;\r\n                     filePattern=&quot;${LOGS_BASE_DIRECTORY}/archived/$${date:yyyy-MM}/service-%d{yyyy-MM-dd-HH-mm}-%i.log.gz&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;${FILE_PATTERN}&lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n\r\n            &lt;DefaultRolloverStrategy&gt;\r\n                &lt;Delete basePath=&quot;${BASE_DIR}&quot; maxDepth=&quot;2&quot;&gt;\r\n                    &lt;IfLastModified age=&quot;3D&quot;/&gt;\r\n                &lt;/Delete&gt;\r\n            &lt;/DefaultRolloverStrategy&gt;\r\n        &lt;/RollingFile&gt;\r\n\r\n        &lt;RollingFile name=&quot;KAFKA&quot; fileName=&quot;logs/kafka.log&quot;\r\n                     filePattern=&quot;${LOGS_BASE_DIRECTORY}/archived/$${date:yyyy-MM}/service-%d{yyyy-MM-dd-HH-mm}-%i.log.gz&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;${FILE_PATTERN}&lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n\r\n            &lt;DefaultRolloverStrategy&gt;\r\n                &lt;Delete basePath=&quot;${BASE_DIR}&quot; maxDepth=&quot;2&quot;&gt;\r\n                    &lt;IfLastModified age=&quot;3D&quot;/&gt;\r\n                &lt;/Delete&gt;\r\n            &lt;/DefaultRolloverStrategy&gt;\r\n        &lt;/RollingFile&gt;\r\n\r\n        &lt;RollingFile name=&quot;HIBERNATE&quot; fileName=&quot;logs/hibernate.log&quot;\r\n                     filePattern=&quot;${LOGS_BASE_DIRECTORY}/archived/$${date:yyyy-MM}/service-%d{yyyy-MM-dd-HH-mm}-%i.log.gz&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;${FILE_PATTERN}&lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n\r\n            &lt;DefaultRolloverStrategy&gt;\r\n                &lt;Delete basePath=&quot;${BASE_DIR}&quot; maxDepth=&quot;2&quot;&gt;\r\n                    &lt;IfLastModified age=&quot;3D&quot;/&gt;\r\n                &lt;/Delete&gt;\r\n            &lt;/DefaultRolloverStrategy&gt;\r\n        &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n    &lt;Loggers&gt;\r\n        &lt;Logger name=&quot;ua.zhytariuk.planningsystem.controller&quot; level=&quot;info&quot;&gt;\r\n            &lt;appender-ref ref=&quot;CONTROLLER&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n\r\n        &lt;Logger name=&quot;ua.zhytariuk.planningsystem.exception&quot; level=&quot;error&quot;&gt;\r\n            &lt;appender-ref ref=&quot;SERVICE&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n\r\n\r\n        &lt;Logger name=&quot;ua.zhytariuk.planningsystem.aspect.ServiceLoggingAspect&quot; level=&quot;trace&quot;&gt;\r\n            &lt;appender-ref ref=&quot;SERVICE&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n\r\n        &lt;Logger name=&quot;ua.zhytariuk.planningsystem.broker.kafka&quot; level=&quot;debug&quot;&gt;\r\n            &lt;appender-ref ref=&quot;KAFKA&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n\r\n        &lt;Logger name=&quot;org.hibernate&quot; level=&quot;debug&quot;&gt;\r\n            &lt;appender-ref ref=&quot;HIBERNATE&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n\r\n        &lt;root&gt;\r\n            &lt;level value=&quot;debug&quot;/&gt;\r\n        &lt;/root&gt;\r\n    &lt;/Loggers&gt;\r\n\r\n&lt;/log4j:configuration&gt;\r\n\r\n``` ","title":"how to remove xml file from one of the spring profiles","body":"<p>So I want to remove my log42.xml from one spring profile. How can I do this? I try to find some info in internet but it was no success. I know that I can map my xml to properties file, but I want to have xml file. This is my file main goal to have one profile for writing logs to Console other for File just for learning. This is my file code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;log4j:configuration xmlns:log4j='http://jakarta.apache.org/log4j/'\n                     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n                     xsi:schemaLocation=&quot;http://jakarta.apache.org/log4j/ http://jakarta.apache.org/log4j/ &quot;&gt;\n\n    &lt;Properties&gt;\n        &lt;property name=&quot;FILE_PATTERN&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%-5level] %logger{0} %X{akkaSource} %msg%n&quot;/&gt;\n        &lt;property name=&quot;LOGS_BASE_DIRECTORY&quot; value=&quot;logs&quot;/&gt;\n        &lt;property name=&quot;BASE_DIR&quot; value=&quot;logs&quot;/&gt;\n    &lt;/Properties&gt;\n\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;CONSOLE&quot; target=&quot;SYSTEM_OUT&quot;/&gt;\n\n        &lt;RollingFile name=&quot;SERVICE&quot; fileName=&quot;logs/service.log&quot;\n                     filePattern=&quot;${LOGS_BASE_DIRECTORY}/archived/$${date:yyyy-MM}/service-%d{yyyy-MM-dd-HH-mm}-%i.log.gz&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;${FILE_PATTERN}&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot;/&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n\n        &lt;RollingFile name=&quot;CONTROLLER&quot; fileName=&quot;logs/controller.log&quot;\n                     filePattern=&quot;${LOGS_BASE_DIRECTORY}/archived/$${date:yyyy-MM}/service-%d{yyyy-MM-dd-HH-mm}-%i.log.gz&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;${FILE_PATTERN}&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot;/&gt;\n            &lt;/Policies&gt;\n\n            &lt;DefaultRolloverStrategy&gt;\n                &lt;Delete basePath=&quot;${BASE_DIR}&quot; maxDepth=&quot;2&quot;&gt;\n                    &lt;IfLastModified age=&quot;3D&quot;/&gt;\n                &lt;/Delete&gt;\n            &lt;/DefaultRolloverStrategy&gt;\n        &lt;/RollingFile&gt;\n\n        &lt;RollingFile name=&quot;KAFKA&quot; fileName=&quot;logs/kafka.log&quot;\n                     filePattern=&quot;${LOGS_BASE_DIRECTORY}/archived/$${date:yyyy-MM}/service-%d{yyyy-MM-dd-HH-mm}-%i.log.gz&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;${FILE_PATTERN}&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot;/&gt;\n            &lt;/Policies&gt;\n\n            &lt;DefaultRolloverStrategy&gt;\n                &lt;Delete basePath=&quot;${BASE_DIR}&quot; maxDepth=&quot;2&quot;&gt;\n                    &lt;IfLastModified age=&quot;3D&quot;/&gt;\n                &lt;/Delete&gt;\n            &lt;/DefaultRolloverStrategy&gt;\n        &lt;/RollingFile&gt;\n\n        &lt;RollingFile name=&quot;HIBERNATE&quot; fileName=&quot;logs/hibernate.log&quot;\n                     filePattern=&quot;${LOGS_BASE_DIRECTORY}/archived/$${date:yyyy-MM}/service-%d{yyyy-MM-dd-HH-mm}-%i.log.gz&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;${FILE_PATTERN}&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot;/&gt;\n            &lt;/Policies&gt;\n\n            &lt;DefaultRolloverStrategy&gt;\n                &lt;Delete basePath=&quot;${BASE_DIR}&quot; maxDepth=&quot;2&quot;&gt;\n                    &lt;IfLastModified age=&quot;3D&quot;/&gt;\n                &lt;/Delete&gt;\n            &lt;/DefaultRolloverStrategy&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;ua.zhytariuk.planningsystem.controller&quot; level=&quot;info&quot;&gt;\n            &lt;appender-ref ref=&quot;CONTROLLER&quot;/&gt;\n        &lt;/Logger&gt;\n\n        &lt;Logger name=&quot;ua.zhytariuk.planningsystem.exception&quot; level=&quot;error&quot;&gt;\n            &lt;appender-ref ref=&quot;SERVICE&quot;/&gt;\n        &lt;/Logger&gt;\n\n\n        &lt;Logger name=&quot;ua.zhytariuk.planningsystem.aspect.ServiceLoggingAspect&quot; level=&quot;trace&quot;&gt;\n            &lt;appender-ref ref=&quot;SERVICE&quot;/&gt;\n        &lt;/Logger&gt;\n\n        &lt;Logger name=&quot;ua.zhytariuk.planningsystem.broker.kafka&quot; level=&quot;debug&quot;&gt;\n            &lt;appender-ref ref=&quot;KAFKA&quot;/&gt;\n        &lt;/Logger&gt;\n\n        &lt;Logger name=&quot;org.hibernate&quot; level=&quot;debug&quot;&gt;\n            &lt;appender-ref ref=&quot;HIBERNATE&quot;/&gt;\n        &lt;/Logger&gt;\n\n        &lt;root&gt;\n            &lt;level value=&quot;debug&quot;/&gt;\n        &lt;/root&gt;\n    &lt;/Loggers&gt;\n\n&lt;/log4j:configuration&gt;\n\n</code></pre>\n"},{"tags":["java","arraylist","getter"],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633075167,"creation_date":1632992620,"answer_id":69389363,"question_id":69389144,"body_markdown":"```\r\npublic String[] getCourses() {\r\n    return Arrays.toString(coursesList);\r\n}\r\n```\r\n\r\n`Arrays.toString` returns a `String`, not a `String[]`. If you want to return a `String`, change the return type to `String`.\r\n\r\n```\r\npublic String getCourses() {\r\n    return Arrays.toString(coursesList);\r\n}\r\n```\r\n\r\nIf you want to return a single-element array, containing the string representation of `coursesList`, you can wrap the `String` in an array:\r\n\r\n```\r\npublic String[] getCourses() {\r\n    return new String[]{Arrays.toString(coursesList)};\r\n}\r\n```\r\n\r\nIf you want to return the array, just return the array:\r\n\r\n```\r\npublic String[] getCourses() {\r\n    return coursesList;\r\n}\r\n```\r\n\r\nOr, more safely, return a defensive copy of the array (to prevent the caller changing the internal array):\r\n\r\n```\r\npublic String[] getCourses() {\r\n    return Arrays.copyOf(coursesList, coursesList.length);\r\n}\r\n```","title":"How to print array contents with a getter?","body":"<pre><code>public String[] getCourses() {\n    return Arrays.toString(coursesList);\n}\n</code></pre>\n<p><code>Arrays.toString</code> returns a <code>String</code>, not a <code>String[]</code>. If you want to return a <code>String</code>, change the return type to <code>String</code>.</p>\n<pre><code>public String getCourses() {\n    return Arrays.toString(coursesList);\n}\n</code></pre>\n<p>If you want to return a single-element array, containing the string representation of <code>coursesList</code>, you can wrap the <code>String</code> in an array:</p>\n<pre><code>public String[] getCourses() {\n    return new String[]{Arrays.toString(coursesList)};\n}\n</code></pre>\n<p>If you want to return the array, just return the array:</p>\n<pre><code>public String[] getCourses() {\n    return coursesList;\n}\n</code></pre>\n<p>Or, more safely, return a defensive copy of the array (to prevent the caller changing the internal array):</p>\n<pre><code>public String[] getCourses() {\n    return Arrays.copyOf(coursesList, coursesList.length);\n}\n</code></pre>\n"}],"owner":{"account_id":22745561,"reputation":1,"user_id":16906397,"display_name":"Geri Glazer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633607837,"creation_date":1632991797,"question_id":69389144,"body_markdown":"I&#39;m trying to print contents of an array stored inside an ArrayList . \r\n\r\nMy constructor parameters are (String,String,String,String[], String, String).\r\n\r\nWhen creating _add._ function to the arrayList the contents are stored in the _String[]_ parameter.\r\n\r\nBut when using a _getter_ method to return the String[], it launches an error: &quot;Type mismatch: cannot convert from String to String[]&quot;. \r\n\r\nEclipse solution is to change getter method to String, but then the _add._ function doesn&#39;t work because the parameter should be String[].\r\n\r\nAlso all the _.toString_, _.clone_, etc, returns memory location not array contents.\r\nDesperate for help!!\r\nHere is part of my code:\r\n```java\r\n    public class NewRegandLogin {\r\n\t\r\n\t    private String alumniFirstName; \r\n\t    private String alumniLastName;\r\n\t    private String alumniId;\r\n    \tprivate  Scanner scanner = new Scanner(System.in);\r\n\t    private String linkedInPage;\r\n    \tstatic ArrayList&lt;NewRegandLogin&gt; loginInformation = new ArrayList&lt;&gt;();\r\n\t    private  String alumniIdImput;\r\n    \tprivate  String passwordImput;\r\n    \tprivate String permanentPasword;\r\n\t    private String[] coursesList;\r\n\t\r\n\t    public NewRegandLogin(String alumniFirstName, String alumniLastName,String alumniId, String[] coursesList, String linkedInPage, String permanentPasword) {\r\n\t\t    this.alumniFirstName=alumniFirstName;\r\n\t\t    this.alumniLastName = alumniLastName;\r\n\t\t    this.alumniId = alumniId;\r\n\t\t    this.coursesList = coursesList;\r\n\t\t    this.linkedInPage = linkedInPage;\r\n\t\t    this.permanentPasword = permanentPasword;\t\t\r\n    \t}\r\n\t\t\r\n\t    public void setAlumniCourses() {\r\n\t\t\r\n\t\t    coursesList = new String[10];\r\n\t\t\t\r\n\t\t    for (int i=0; i &lt; coursesList.length; i++) {\r\n\t\t    \tif(coursesList[i]==null) {\r\n\t\t\t    \tSystem.out.println(&quot;Completed Course Name: &quot;);\r\n\t\t\t    \tcoursesList[i]=scanner.next();\r\n\t\t\t    }\r\n\t\t\t    if(coursesList[i].equals(&quot;s&quot;) || coursesList[i].equals(&quot;S&quot;)) {\r\n\t\t\t    \tbreak;\r\n\t\t    \t}\r\n\t    \t}\r\n\t    }\r\n\t\r\n\t    public String[] getCourses() {\r\n\t    \treturn Arrays.toString(coursesList);\r\n\t    }\r\n```\r\nmain\r\n```\r\npublic class Main {\r\n\t\r\n\tstatic NewRegandLogin newRegAndLogin = new NewRegandLogin(null, null, null, null, null, null);\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tSystem.out.println(&quot;Please make a list of completed Courses: (Enter S to stop adding courses) &quot;);\r\n\t\tnewRegAndLogin.setAlumniCourses();\r\n\t\tloginInformation.add(newRegAndLogin);\r\n\t\tprintAlumniProfile();\r\n\t\t}\r\n\t\t\t\r\n\tpublic static void printAlumniProfile() {\r\n\t\tfor (int i = 0; i&lt;NewRegandLogin.loginInformation.size();i++) {\r\n\t\t\tSystem.out.println(((i+1)+&quot;-&quot;+ NewRegandLogin.loginInformation.get(i)));\r\n\t\t\tSystem.out.println();\r\n\t\t}\t\t\t\r\n\t}\r\n}\r\n```\r\nOutput:\r\n`1-Alumni Name: Geri Glazer`\r\n`Alumni ID: geri.glazer.she-codes`\r\n`Courses completed: [Ljava.lang.String;@3dd3bcd`\r\n\r\n","title":"How to print array contents with a getter?","body":"<p>I'm trying to print contents of an array stored inside an ArrayList .</p>\n<p>My constructor parameters are (String,String,String,String[], String, String).</p>\n<p>When creating <em>add.</em> function to the arrayList the contents are stored in the <em>String[]</em> parameter.</p>\n<p>But when using a <em>getter</em> method to return the String[], it launches an error: &quot;Type mismatch: cannot convert from String to String[]&quot;.</p>\n<p>Eclipse solution is to change getter method to String, but then the <em>add.</em> function doesn't work because the parameter should be String[].</p>\n<p>Also all the <em>.toString</em>, <em>.clone</em>, etc, returns memory location not array contents.\nDesperate for help!!\nHere is part of my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class NewRegandLogin {\n    \n        private String alumniFirstName; \n        private String alumniLastName;\n        private String alumniId;\n        private  Scanner scanner = new Scanner(System.in);\n        private String linkedInPage;\n        static ArrayList&lt;NewRegandLogin&gt; loginInformation = new ArrayList&lt;&gt;();\n        private  String alumniIdImput;\n        private  String passwordImput;\n        private String permanentPasword;\n        private String[] coursesList;\n    \n        public NewRegandLogin(String alumniFirstName, String alumniLastName,String alumniId, String[] coursesList, String linkedInPage, String permanentPasword) {\n            this.alumniFirstName=alumniFirstName;\n            this.alumniLastName = alumniLastName;\n            this.alumniId = alumniId;\n            this.coursesList = coursesList;\n            this.linkedInPage = linkedInPage;\n            this.permanentPasword = permanentPasword;       \n        }\n        \n        public void setAlumniCourses() {\n        \n            coursesList = new String[10];\n            \n            for (int i=0; i &lt; coursesList.length; i++) {\n                if(coursesList[i]==null) {\n                    System.out.println(&quot;Completed Course Name: &quot;);\n                    coursesList[i]=scanner.next();\n                }\n                if(coursesList[i].equals(&quot;s&quot;) || coursesList[i].equals(&quot;S&quot;)) {\n                    break;\n                }\n            }\n        }\n    \n        public String[] getCourses() {\n            return Arrays.toString(coursesList);\n        }\n</code></pre>\n<p>main</p>\n<pre><code>public class Main {\n    \n    static NewRegandLogin newRegAndLogin = new NewRegandLogin(null, null, null, null, null, null);\n\n    public static void main(String[] args) {\n\n        System.out.println(&quot;Please make a list of completed Courses: (Enter S to stop adding courses) &quot;);\n        newRegAndLogin.setAlumniCourses();\n        loginInformation.add(newRegAndLogin);\n        printAlumniProfile();\n        }\n            \n    public static void printAlumniProfile() {\n        for (int i = 0; i&lt;NewRegandLogin.loginInformation.size();i++) {\n            System.out.println(((i+1)+&quot;-&quot;+ NewRegandLogin.loginInformation.get(i)));\n            System.out.println();\n        }           \n    }\n}\n</code></pre>\n<p>Output:\n<code>1-Alumni Name: Geri Glazer</code>\n<code>Alumni ID: geri.glazer.she-codes</code>\n<code>Courses completed: [Ljava.lang.String;@3dd3bcd</code></p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":1,"creation_date":1470120930,"post_id":38713575,"comment_id":64803925,"body_markdown":"Please post your existing log4j2.xml You need to configure loggers accordingly and attach appenders to them. Also see log4j2 [configuration documentation](http://logging.apache.org/log4j/2.x/manual/configuration.html#Loggers).","body":"Please post your existing log4j2.xml You need to configure loggers accordingly and attach appenders to them. Also see log4j2 <a href=\"http://logging.apache.org/log4j/2.x/manual/configuration.html#Loggers\" rel=\"nofollow noreferrer\">configuration documentation</a>."},{"owner":{"account_id":6395485,"reputation":736,"user_id":4959976,"display_name":"Rajas Gujarathi"},"score":0,"creation_date":1470122303,"post_id":38713575,"comment_id":64804751,"body_markdown":"Posted the log4j2.xml","body":"Posted the log4j2.xml"}],"answers":[{"tags":[],"owner":{"account_id":8798032,"reputation":171,"user_id":6575294,"display_name":"bilgec"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1470121988,"creation_date":1470121988,"answer_id":38713935,"question_id":38713575,"body_markdown":"From [Log4J Manual][1]:\r\n\r\nAdding a specific logger for a class: (you can refer to packages here too)\r\n\r\n    &lt;Logger name=&quot;org.apache.logging.log4j.test2&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n      &lt;AppenderRef ref=&quot;File&quot;/&gt;\r\n    &lt;/Logger&gt;\r\n\r\nAdding a specific appender:\r\n\r\n    &lt;Appender type=&quot;File&quot; name=&quot;File&quot; fileName=&quot;${filename}&quot;&gt;\r\n      &lt;Layout type=&quot;PatternLayout&quot;&gt;\r\n        &lt;Pattern&gt;%d %p %C{1.} [%t] %m%n&lt;/Pattern&gt;\r\n      &lt;/Layout&gt;\r\n    &lt;/Appender&gt;\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/configuration.html","title":"Apache Log4j2 package specific logging using log4j2.xml","body":"<p>From <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"noreferrer\">Log4J Manual</a>:</p>\n\n<p>Adding a specific logger for a class: (you can refer to packages here too)</p>\n\n<pre><code>&lt;Logger name=\"org.apache.logging.log4j.test2\" level=\"debug\" additivity=\"false\"&gt;\n  &lt;AppenderRef ref=\"File\"/&gt;\n&lt;/Logger&gt;\n</code></pre>\n\n<p>Adding a specific appender:</p>\n\n<pre><code>&lt;Appender type=\"File\" name=\"File\" fileName=\"${filename}\"&gt;\n  &lt;Layout type=\"PatternLayout\"&gt;\n    &lt;Pattern&gt;%d %p %C{1.} [%t] %m%n&lt;/Pattern&gt;\n  &lt;/Layout&gt;\n&lt;/Appender&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6395485,"reputation":736,"user_id":4959976,"display_name":"Rajas Gujarathi"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1470123727,"creation_date":1470123727,"answer_id":38714531,"question_id":38713575,"body_markdown":"Just answered the question.\r\n\r\n&gt; log4j2.xml\r\n\r\n    \r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef level=&quot;DEBUG&quot; ref=&quot;CONSOLE&quot; /&gt;\r\n         &lt;/Root&gt;\r\n        &lt;Logger name=&quot;com.pkg.test.logging.method&quot; level=&quot;DEBUG&quot;\r\n            additivity=&quot;false&quot;&gt;\r\n            &lt;Appender-ref ref=&quot;fileAppender&quot; level=&quot;DEBUG&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n    \r\n    &lt;/Loggers&gt;\r\n    \r\n    &lt;Appenders&gt;\r\n    \r\n        &lt;Console name=&quot;CONSOLE&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout\r\n                pattern=&quot;%highlight{[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} %c{1}: %L - %msg%n%throwable}&quot; /&gt;\r\n        &lt;/Console&gt;\r\n    \r\n        &lt;RollingFile name=&quot;fileAppender&quot; fileName=&quot;./log.log&quot;\r\n            filePattern=&quot;./log-%d{yyyy-MM-dd}.log&quot;&gt;\r\n            &lt;PatternLayout\r\n                pattern=&quot;%highlight{[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} %c{1}: %L - %msg%n}&quot; /&gt;\r\n            &lt;Policies&gt;\r\n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot;\r\n                    modulate=&quot;true&quot; /&gt;\r\n            &lt;/Policies&gt;\r\n        &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n\r\nRemoved the ` &lt;AppenderRef level=&quot;DEBUG&quot; ref=&quot;fileAppender&quot; /&gt;` from root logger. Thus it started logging logs based on packages.","title":"Apache Log4j2 package specific logging using log4j2.xml","body":"<p>Just answered the question.</p>\n\n<blockquote>\n  <p>log4j2.xml</p>\n</blockquote>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Loggers&gt;\n    &lt;Root level=\"DEBUG\" additivity=\"false\"&gt;\n        &lt;AppenderRef level=\"DEBUG\" ref=\"CONSOLE\" /&gt;\n     &lt;/Root&gt;\n    &lt;Logger name=\"com.pkg.test.logging.method\" level=\"DEBUG\"\n        additivity=\"false\"&gt;\n        &lt;Appender-ref ref=\"fileAppender\" level=\"DEBUG\" /&gt;\n    &lt;/Logger&gt;\n\n&lt;/Loggers&gt;\n\n&lt;Appenders&gt;\n\n    &lt;Console name=\"CONSOLE\" target=\"SYSTEM_OUT\"&gt;\n        &lt;PatternLayout\n            pattern=\"%highlight{[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} %c{1}: %L - %msg%n%throwable}\" /&gt;\n    &lt;/Console&gt;\n\n    &lt;RollingFile name=\"fileAppender\" fileName=\"./log.log\"\n        filePattern=\"./log-%d{yyyy-MM-dd}.log\"&gt;\n        &lt;PatternLayout\n            pattern=\"%highlight{[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} %c{1}: %L - %msg%n}\" /&gt;\n        &lt;Policies&gt;\n            &lt;TimeBasedTriggeringPolicy interval=\"1\"\n                modulate=\"true\" /&gt;\n        &lt;/Policies&gt;\n    &lt;/RollingFile&gt;\n&lt;/Appenders&gt;\n</code></pre>\n\n<p>Removed the <code>&lt;AppenderRef level=\"DEBUG\" ref=\"fileAppender\" /&gt;</code> from root logger. Thus it started logging logs based on packages.</p>\n"},{"tags":[],"owner":{"account_id":1765805,"reputation":5354,"user_id":1611714,"display_name":"Binita Bharati"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633607541,"creation_date":1633607149,"answer_id":69480578,"question_id":38713575,"body_markdown":"The `&lt;Loggers&gt;` section of the config looks correct. But, if all other logs not belonging to the expected package is also getting logged, it is the `Root` logger which is responsible for these logs, and not the package level logger. It may not be active because of the way you are creating the logger instance in your code. E.g: If one is using `slf4j` to create the logger instance, then this is how we would need to create the logger instance:\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    Logger logger = LoggerFactory.getLogger(Test.class);\r\n\r\nIf one gets the logger instance using - `Logger logger = LoggerFactory.getLogger(&quot;Test&quot;)` then, the config will not work as expected. \r\n\r\nAlso, another answer mentioned that the solution was to remove the `fileAppender` that the package logger was using from the root logger. This, in fact, is not a problem. You are free to use the same appenders in root and package level logger. My answer in context of `log4j-api 2.14.1`","title":"Apache Log4j2 package specific logging using log4j2.xml","body":"<p>The <code>&lt;Loggers&gt;</code> section of the config looks correct. But, if all other logs not belonging to the expected package is also getting logged, it is the <code>Root</code> logger which is responsible for these logs, and not the package level logger. It may not be active because of the way you are creating the logger instance in your code. E.g: If one is using <code>slf4j</code> to create the logger instance, then this is how we would need to create the logger instance:</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nLogger logger = LoggerFactory.getLogger(Test.class);\n</code></pre>\n<p>If one gets the logger instance using - <code>Logger logger = LoggerFactory.getLogger(&quot;Test&quot;)</code> then, the config will not work as expected.</p>\n<p>Also, another answer mentioned that the solution was to remove the <code>fileAppender</code> that the package logger was using from the root logger. This, in fact, is not a problem. You are free to use the same appenders in root and package level logger. My answer in context of <code>log4j-api 2.14.1</code></p>\n"}],"owner":{"account_id":6395485,"reputation":736,"user_id":4959976,"display_name":"Rajas Gujarathi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38447,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":38714531,"answer_count":3,"score":23,"last_activity_date":1633607541,"creation_date":1470120741,"question_id":38713575,"body_markdown":"I am using log4j2. But the problem that I am facing is that it logs all logs. I want to ... log from specific package to a specific file &amp; other package to another file. I am using log4j2.xml for configuration.\r\nPlease can someone help? \r\n\r\n\r\n\r\n&gt; log4j2.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;ALL&quot;&gt;\r\n\r\n\t&lt;Loggers&gt;\r\n\t\t&lt;Root level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;\r\n\t\t\t&lt;AppenderRef level=&quot;DEBUG&quot; ref=&quot;CONSOLE&quot; /&gt;\r\n\t\t\t&lt;AppenderRef level=&quot;DEBUG&quot; ref=&quot;fileAppender&quot; /&gt;\r\n\t\t&lt;/Root&gt;\r\n\t\t&lt;Logger name=&quot;com.pkg.test.logging.method&quot; level=&quot;DEBUG&quot;\r\n\t\t\tadditivity=&quot;false&quot;&gt;\r\n\t\t\t&lt;Appender-ref ref=&quot;fileAppender&quot; level=&quot;DEBUG&quot; /&gt;\r\n\t\t&lt;/Logger&gt;\r\n\r\n\t&lt;/Loggers&gt;\r\n\r\n\t&lt;Appenders&gt;\r\n\r\n\t\t&lt;Console name=&quot;CONSOLE&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n\t\t\t&lt;PatternLayout\r\n\t\t\t\tpattern=&quot;%highlight{[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} %c{1}: %L - %msg%n%throwable}&quot; /&gt;\r\n\t\t&lt;/Console&gt;\r\n\r\n\t\t&lt;RollingFile name=&quot;fileAppender&quot; fileName=&quot;./log.log&quot;\r\n\t\t\tfilePattern=&quot;./log-%d{yyyy-MM-dd}.log&quot;&gt;\r\n\t\t\t&lt;PatternLayout\r\n\t\t\t\tpattern=&quot;%highlight{[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} %c{1}: %L - %msg%n}&quot; /&gt;\r\n\t\t\t&lt;Policies&gt;\r\n\t\t\t\t&lt;TimeBasedTriggeringPolicy interval=&quot;1&quot;\r\n\t\t\t\t\tmodulate=&quot;true&quot; /&gt;\r\n\t\t\t&lt;/Policies&gt;\r\n\t\t&lt;/RollingFile&gt;\r\n\t&lt;/Appenders&gt;\r\n&lt;/Configuration&gt;\r\n\r\n\r\n","title":"Apache Log4j2 package specific logging using log4j2.xml","body":"<p>I am using log4j2. But the problem that I am facing is that it logs all logs. I want to ... log from specific package to a specific file &amp; other package to another file. I am using log4j2.xml for configuration.\nPlease can someone help? </p>\n\n<blockquote>\n  <p>log4j2.xml</p>\n</blockquote>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;Loggers&gt;\n    &lt;Root level=\"DEBUG\" additivity=\"false\"&gt;\n        &lt;AppenderRef level=\"DEBUG\" ref=\"CONSOLE\" /&gt;\n        &lt;AppenderRef level=\"DEBUG\" ref=\"fileAppender\" /&gt;\n    &lt;/Root&gt;\n    &lt;Logger name=\"com.pkg.test.logging.method\" level=\"DEBUG\"\n        additivity=\"false\"&gt;\n        &lt;Appender-ref ref=\"fileAppender\" level=\"DEBUG\" /&gt;\n    &lt;/Logger&gt;\n\n&lt;/Loggers&gt;\n\n&lt;Appenders&gt;\n\n    &lt;Console name=\"CONSOLE\" target=\"SYSTEM_OUT\"&gt;\n        &lt;PatternLayout\n            pattern=\"%highlight{[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} %c{1}: %L - %msg%n%throwable}\" /&gt;\n    &lt;/Console&gt;\n\n    &lt;RollingFile name=\"fileAppender\" fileName=\"./log.log\"\n        filePattern=\"./log-%d{yyyy-MM-dd}.log\"&gt;\n        &lt;PatternLayout\n            pattern=\"%highlight{[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} %c{1}: %L - %msg%n}\" /&gt;\n        &lt;Policies&gt;\n            &lt;TimeBasedTriggeringPolicy interval=\"1\"\n                modulate=\"true\" /&gt;\n        &lt;/Policies&gt;\n    &lt;/RollingFile&gt;\n&lt;/Appenders&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1868145,"reputation":2268,"user_id":1691152,"display_name":"yurloc"},"score":0,"creation_date":1633517034,"post_id":69359306,"comment_id":122778797,"body_markdown":"Hosted image URLs often become stale and unavailable, breaking future ability to read the post.","body":"Hosted image URLs often become stale and unavailable, breaking future ability to read the post."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1633608320,"post_id":69359306,"comment_id":122808236,"body_markdown":"So you have two screen devices and you claim that `insets.bottom` should be different for each device. Do you know what the values should be?","body":"So you have two screen devices and you claim that <code>insets.bottom</code> should be different for each device. Do you know what the values should be?"},{"owner":{"account_id":22872789,"reputation":1,"user_id":17015570,"display_name":"Slash by Zero"},"score":0,"creation_date":1633704157,"post_id":69359306,"comment_id":122838421,"body_markdown":"A quick look at this picture, wich is also linked to in the post, should explain it! \nhttps://imgur.com/a/gjwOKyg","body":"A quick look at this picture, wich is also linked to in the post, should explain it!  <a href=\"https://imgur.com/a/gjwOKyg\" rel=\"nofollow noreferrer\">imgur.com/a/gjwOKyg</a>"}],"owner":{"account_id":22872789,"reputation":1,"user_id":17015570,"display_name":"Slash by Zero"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633607268,"creation_date":1632821986,"question_id":69359306,"body_markdown":"Im trying to make a Window that adjusts its size to the screen.\r\nTo make it more clear what isn&#39;t working i&#39;ve made this test Code.\r\n\r\n    public static void main(String[] args){\r\n        GraphicsEnvironment ge=GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n        GraphicsDevice[] screenDevices=ge.getScreenDevices();\r\n        for(int i=0;i&lt;screenDevices.length;i++)\r\n        {\r\n            Rectangle2D b=screenDevices[i].getDefaultConfiguration().getBounds();\r\n            Insets insets = Toolkit.getDefaultToolkit().getScreenInsets(screenDevices[i].getDefaultConfiguration());\r\n            System.out.println(screenDevices[i].getIDstring()+&quot;: &quot;+insets.bottom);\r\n        }\r\n    }\r\n\r\n[Heres the result of running the code][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zmwUC.png","title":"Toolkit.getDefaultToolkit().getScreenInsets(GraphicsConfiguration gc) always returns insets of main Monitor","body":"<p>Im trying to make a Window that adjusts its size to the screen.\nTo make it more clear what isn't working i've made this test Code.</p>\n<pre><code>public static void main(String[] args){\n    GraphicsEnvironment ge=GraphicsEnvironment.getLocalGraphicsEnvironment();\n    GraphicsDevice[] screenDevices=ge.getScreenDevices();\n    for(int i=0;i&lt;screenDevices.length;i++)\n    {\n        Rectangle2D b=screenDevices[i].getDefaultConfiguration().getBounds();\n        Insets insets = Toolkit.getDefaultToolkit().getScreenInsets(screenDevices[i].getDefaultConfiguration());\n        System.out.println(screenDevices[i].getIDstring()+&quot;: &quot;+insets.bottom);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/zmwUC.png\" rel=\"nofollow noreferrer\">Heres the result of running the code</a></p>\n"},{"tags":["java","input","console"],"answers":[{"tags":[],"owner":{"account_id":30864,"reputation":5441,"user_id":84416,"accept_rate":88,"display_name":"Chris W. Rea"},"down_vote_count":0,"up_vote_count":68,"is_accepted":true,"score":68,"last_activity_date":1505520558,"creation_date":1246405171,"answer_id":1066647,"question_id":1066318,"body_markdown":"What you want to do is put the console into &quot;raw&quot; mode (line editing bypassed and no enter key required) as opposed to &quot;cooked&quot; mode (line editing with enter key required.)  On UNIX systems, the &#39;stty&#39; command can change modes.\r\n\r\nNow, with respect to Java... see [Non blocking console input in Python and Java][1].  Excerpt:\r\n\r\n&gt; If your program must be console based,\r\n&gt; you have to switch your terminal out\r\n&gt; of line mode into character mode, and\r\n&gt; remember to restore it before your\r\n&gt; program quits. There is no portable\r\n&gt; way to do this across operating\r\n&gt; systems.\r\n\r\nOne of the suggestions is to use JNI.  Again, that&#39;s not very portable.  Another suggestion at the end of the thread, and in common with the post above, is to look at using [jCurses][2].\r\n\r\n  [1]: http://www.darkcoding.net/software/non-blocking-console-io-is-not-possible/\r\n  [2]: http://sourceforge.net/projects/javacurses/","title":"How to read a single char from the console in Java (as the user types it)?","body":"<p>What you want to do is put the console into \"raw\" mode (line editing bypassed and no enter key required) as opposed to \"cooked\" mode (line editing with enter key required.)  On UNIX systems, the 'stty' command can change modes.</p>\n\n<p>Now, with respect to Java... see <a href=\"http://www.darkcoding.net/software/non-blocking-console-io-is-not-possible/\" rel=\"noreferrer\">Non blocking console input in Python and Java</a>.  Excerpt:</p>\n\n<blockquote>\n  <p>If your program must be console based,\n  you have to switch your terminal out\n  of line mode into character mode, and\n  remember to restore it before your\n  program quits. There is no portable\n  way to do this across operating\n  systems.</p>\n</blockquote>\n\n<p>One of the suggestions is to use JNI.  Again, that's not very portable.  Another suggestion at the end of the thread, and in common with the post above, is to look at using <a href=\"http://sourceforge.net/projects/javacurses/\" rel=\"noreferrer\">jCurses</a>.</p>\n"},{"tags":[],"owner":{"account_id":21591,"reputation":15417,"user_id":52573,"accept_rate":85,"display_name":"nes1983"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1554398404,"creation_date":1311957393,"answer_id":6876253,"question_id":1066318,"body_markdown":"You need to knock your console into raw mode. There is no built-in platform-independent way of getting there. [jCurses][1] might be interesting, though.\r\n\r\nOn a Unix system, this might work:\r\n\r\n    String[] cmd = {&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;stty raw &lt;/dev/tty&quot;};\r\n    Runtime.getRuntime().exec(cmd).waitFor();\r\n\r\n[For example, if you want to take into account the time between keystrokes, here&#39;s sample code to get there.][2]\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/javacurses/\r\n  [2]: https://web.archive.org/web/20161108171332/http://li367-160.members.linode.com/nikoschwarz/how-to-take-the-time-between-keystrokes-into-account-when-making-a-key-1/","title":"How to read a single char from the console in Java (as the user types it)?","body":"<p>You need to knock your console into raw mode. There is no built-in platform-independent way of getting there. <a href=\"http://sourceforge.net/projects/javacurses/\" rel=\"noreferrer\">jCurses</a> might be interesting, though.</p>\n\n<p>On a Unix system, this might work:</p>\n\n<pre><code>String[] cmd = {\"/bin/sh\", \"-c\", \"stty raw &lt;/dev/tty\"};\nRuntime.getRuntime().exec(cmd).waitFor();\n</code></pre>\n\n<p><a href=\"https://web.archive.org/web/20161108171332/http://li367-160.members.linode.com/nikoschwarz/how-to-take-the-time-between-keystrokes-into-account-when-making-a-key-1/\" rel=\"noreferrer\">For example, if you want to take into account the time between keystrokes, here's sample code to get there.</a></p>\n"},{"tags":[],"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1426002408,"creation_date":1317501477,"answer_id":7622834,"question_id":1066318,"body_markdown":"There is no portable way to read raw characters from a Java console.\r\n\r\nSome platform-dependent workarounds have been presented above. But to be really portable, you&#39;d have to abandon console mode and use a windowing mode, e.g. AWT or Swing.","title":"How to read a single char from the console in Java (as the user types it)?","body":"<p>There is no portable way to read raw characters from a Java console.</p>\n\n<p>Some platform-dependent workarounds have been presented above. But to be really portable, you'd have to abandon console mode and use a windowing mode, e.g. AWT or Swing.</p>\n"},{"tags":[],"owner":{"account_id":134817,"reputation":5210,"user_id":337221,"display_name":"Christian d&#39;Heureuse"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1503421105,"creation_date":1430606121,"answer_id":30008252,"question_id":1066318,"body_markdown":"I have written a Java class [RawConsoleInput](http://www.source-code.biz/snippets/java/RawConsoleInput) that uses [JNA](http://en.wikipedia.org/wiki/Java_Native_Access) to call operating system functions of Windows and Unix/Linux.\r\n\r\n - On Windows it uses `_kbhit()` and `_getwch()` from msvcrt.dll.\r\n - On Unix it uses `tcsetattr()` to switch the console to non-canonical mode, `System.in.available()` to check whether data is available and `System.in.read()` to read bytes from the console. A `CharsetDecoder` is used to convert bytes to characters.\r\n\r\nIt supports non-blocking input and mixing raw mode and normal line mode input.","title":"How to read a single char from the console in Java (as the user types it)?","body":"<p>I have written a Java class <a href=\"http://www.source-code.biz/snippets/java/RawConsoleInput\" rel=\"noreferrer\">RawConsoleInput</a> that uses <a href=\"http://en.wikipedia.org/wiki/Java_Native_Access\" rel=\"noreferrer\">JNA</a> to call operating system functions of Windows and Unix/Linux.</p>\n\n<ul>\n<li>On Windows it uses <code>_kbhit()</code> and <code>_getwch()</code> from msvcrt.dll.</li>\n<li>On Unix it uses <code>tcsetattr()</code> to switch the console to non-canonical mode, <code>System.in.available()</code> to check whether data is available and <code>System.in.read()</code> to read bytes from the console. A <code>CharsetDecoder</code> is used to convert bytes to characters.</li>\n</ul>\n\n<p>It supports non-blocking input and mixing raw mode and normal line mode input.</p>\n"},{"tags":[],"owner":{"account_id":23045,"reputation":4040,"user_id":57461,"accept_rate":55,"display_name":"Pod"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1511963026,"creation_date":1511963026,"answer_id":47554285,"question_id":1066318,"body_markdown":"Use [jline3](https://github.com/jline/jline3):\r\n\r\nExample:\r\n\r\n    Terminal terminal = TerminalBuilder.builder()\r\n        .jna(true)\r\n        .system(true)\r\n        .build();\r\n\r\n    // raw mode means we get keypresses rather than line buffered input\r\n    terminal.enterRawMode();\r\n    reader = terminal .reader();\r\n    ...\r\n    int read = reader.read();\r\n    ....\r\n    reader.close();\r\n    terminal.close();","title":"How to read a single char from the console in Java (as the user types it)?","body":"<p>Use <a href=\"https://github.com/jline/jline3\" rel=\"noreferrer\">jline3</a>:</p>\n\n<p>Example:</p>\n\n<pre><code>Terminal terminal = TerminalBuilder.builder()\n    .jna(true)\n    .system(true)\n    .build();\n\n// raw mode means we get keypresses rather than line buffered input\nterminal.enterRawMode();\nreader = terminal .reader();\n...\nint read = reader.read();\n....\nreader.close();\nterminal.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21205847,"reputation":11,"user_id":15595478,"display_name":"ewing"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618012998,"creation_date":1618012998,"answer_id":67029637,"question_id":1066318,"body_markdown":"I&#39; ve done it using jcurses...\r\n\r\n```\r\nimport jcurses.system.InputChar;\r\nimport jcurses.system.Toolkit;\r\n\r\n//(works best on the local machine when run through screen)\r\npublic class readchar3 {\r\n\tpublic static void main (String[] args)\r\n\t\t{\r\n\t\t\tString st;\r\n\t\t\tchar ch;\r\n\t\t\tint i;\r\n\t\t\tst = &quot;&quot;;\r\n\t\t\tch = &#39; &#39;;\r\n\t\t\ti = 0;\r\n\t\t\twhile (true)\r\n\t\t\t\t{\r\n      \t\t\t\t\tInputChar c = Toolkit.readCharacter();\r\n\t\t\t\t\tch = c.getCharacter();\r\n\t\t\t\t\ti = (int) ch;\r\n\t\t\t\t\tSystem.out.print (&quot;you typed &quot; + ch + &quot;(&quot; + i + &quot;)\\n\\r&quot;);\r\n\t\t\t\t\t// break on &#39;#&#39;\r\n\t\t\t\t\tif (ch == &#39;#&#39;) break;\r\n\t\t\t\t}\r\n\t\t\tSystem.out.println (&quot;Programm wird beendet. Verarbeitung kann beginnen.&quot;);\r\n\t\t}\r\n}\r\n```","title":"How to read a single char from the console in Java (as the user types it)?","body":"<p>I' ve done it using jcurses...</p>\n<pre><code>import jcurses.system.InputChar;\nimport jcurses.system.Toolkit;\n\n//(works best on the local machine when run through screen)\npublic class readchar3 {\n    public static void main (String[] args)\n        {\n            String st;\n            char ch;\n            int i;\n            st = &quot;&quot;;\n            ch = ' ';\n            i = 0;\n            while (true)\n                {\n                        InputChar c = Toolkit.readCharacter();\n                    ch = c.getCharacter();\n                    i = (int) ch;\n                    System.out.print (&quot;you typed &quot; + ch + &quot;(&quot; + i + &quot;)\\n\\r&quot;);\n                    // break on '#'\n                    if (ch == '#') break;\n                }\n            System.out.println (&quot;Programm wird beendet. Verarbeitung kann beginnen.&quot;);\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22057724,"reputation":34,"user_id":16320916,"display_name":"simu XD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633607115,"creation_date":1633607115,"answer_id":69480574,"question_id":1066318,"body_markdown":"[See This][1]\r\n\r\nIt calls _getch() function from c to read a single char without hitting Enter\r\n\r\n\r\n  [1]: https://github.com/devlinuxuser/Jkey/tree/main","title":"How to read a single char from the console in Java (as the user types it)?","body":"<p><a href=\"https://github.com/devlinuxuser/Jkey/tree/main\" rel=\"nofollow noreferrer\">See This</a></p>\n<p>It calls _getch() function from c to read a single char without hitting Enter</p>\n"}],"owner":{"account_id":26963,"reputation":35564,"user_id":70616,"accept_rate":74,"display_name":"victor hugo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164809,"favorite_count":0,"down_vote_count":0,"up_vote_count":137,"accepted_answer_id":1066647,"answer_count":7,"score":137,"last_activity_date":1633607115,"creation_date":1246399361,"question_id":1066318,"body_markdown":"Is there an easy way to read a single char from the console as the user is typing it in Java? Is it possible? I&#39;ve tried with these methods but they all wait for the user to press *enter* key:\r\n    \r\n    char tmp = (char) System.in.read();\r\n    char tmp = (char) new InputStreamReader(System.in).read ();\r\n    char tmp = (char) System.console().reader().read();           // Java 6\r\n\r\nI&#39;m starting to think that System.in is not aware of the user input until *enter* is pressed.","title":"How to read a single char from the console in Java (as the user types it)?","body":"<p>Is there an easy way to read a single char from the console as the user is typing it in Java? Is it possible? I've tried with these methods but they all wait for the user to press <em>enter</em> key:</p>\n\n<pre><code>char tmp = (char) System.in.read();\nchar tmp = (char) new InputStreamReader(System.in).read ();\nchar tmp = (char) System.console().reader().read();           // Java 6\n</code></pre>\n\n<p>I'm starting to think that System.in is not aware of the user input until <em>enter</em> is pressed.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1464357195,"post_id":37485080,"comment_id":62466841,"body_markdown":"Hardware isn&#39;t present, but it can be emulated. That&#39;s how most developers test their apps without a physical device","body":"Hardware isn&#39;t present, but it can be emulated. That&#39;s how most developers test their apps without a physical device"},{"owner":{"account_id":179148,"reputation":3563,"user_id":411604,"accept_rate":69,"display_name":"antonio081014"},"score":1,"creation_date":1464370844,"post_id":37485080,"comment_id":62475171,"body_markdown":"You just blew out of my mind. You could probably create a PC application with mobile-like UI.","body":"You just blew out of my mind. You could probably create a PC application with mobile-like UI."}],"answers":[{"tags":[],"owner":{"account_id":8516472,"reputation":343,"user_id":6384831,"display_name":"Deletescape"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1464369522,"creation_date":1464356966,"answer_id":37485200,"question_id":37485080,"body_markdown":"No there is no direct way of doing that. The only ways of doing it are by using an emulator like for example the one included in the Android SDK (Android Studio) or Bluestacks.\r\n\r\nEDIT: But there is no way to run android apps without an emulator unless you want to write the dalvik vm for every cpu architecture yourself!\r\n\r\nEDIT2: Quoting @XavierFalempin from the comments section:\r\n\r\n&gt; There was also ARC welder on chrome to run some android apps. [developer.chrome.com/apps/getstarted_arc][1]\r\n\r\n\r\n  [1]: http://developer.chrome.com/apps/getstarted_arc","title":"Can I run an android app on pc without emulator?","body":"<p>No there is no direct way of doing that. The only ways of doing it are by using an emulator like for example the one included in the Android SDK (Android Studio) or Bluestacks.</p>\n\n<p>EDIT: But there is no way to run android apps without an emulator unless you want to write the dalvik vm for every cpu architecture yourself!</p>\n\n<p>EDIT2: Quoting @XavierFalempin from the comments section:</p>\n\n<blockquote>\n  <p>There was also ARC welder on chrome to run some android apps. <a href=\"http://developer.chrome.com/apps/getstarted_arc\" rel=\"nofollow\">developer.chrome.com/apps/getstarted_arc</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2050082,"reputation":4441,"user_id":1829281,"display_name":"Andrii Kovalchuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595588008,"creation_date":1595588008,"answer_id":63072136,"question_id":37485080,"body_markdown":"On Linux yes: https://anbox.io/\r\n\r\nI checked win,mac support - there is no support and there is not plans for that. \r\n\r\nBut running Ubuntu in VirtualBox is not a problem :) ","title":"Can I run an android app on pc without emulator?","body":"<p>On Linux yes: <a href=\"https://anbox.io/\" rel=\"nofollow noreferrer\">https://anbox.io/</a></p>\n<p>I checked win,mac support - there is no support and there is not plans for that.</p>\n<p>But running Ubuntu in VirtualBox is not a problem :)</p>\n"},{"tags":[],"owner":{"account_id":22969369,"reputation":1,"user_id":17097975,"display_name":"Yashvardhan Jaiswal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633606915,"creation_date":1633606915,"answer_id":69480523,"question_id":37485080,"body_markdown":"In order to run android apps on pc without any emulator you will need to install any Android based OS on your PC which will remove the emulation part and just run the apps directly on the PC and as a result you will get better performance. I would suggest you to try Prime OS as the development for this OS is going pretty well and you can post your query on their forums in order to get your issues resolved asap. They have 3 separate variants for old, newer and newest chipsets which makes it compatible with most of the systems. You can download it from here : https://www.primeos.in/download","title":"Can I run an android app on pc without emulator?","body":"<p>In order to run android apps on pc without any emulator you will need to install any Android based OS on your PC which will remove the emulation part and just run the apps directly on the PC and as a result you will get better performance. I would suggest you to try Prime OS as the development for this OS is going pretty well and you can post your query on their forums in order to get your issues resolved asap. They have 3 separate variants for old, newer and newest chipsets which makes it compatible with most of the systems. You can download it from here : <a href=\"https://www.primeos.in/download\" rel=\"nofollow noreferrer\">https://www.primeos.in/download</a></p>\n"}],"owner":{"account_id":1822913,"reputation":559,"user_id":1656527,"accept_rate":82,"display_name":"Shreyans jain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4110,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":37485200,"answer_count":3,"score":1,"last_activity_date":1633606915,"creation_date":1464356635,"question_id":37485080,"body_markdown":"Suppose I wanted to build a PC application but instead of that I&#39;d make an Android app which does not access mobile only APIs. Can I run something like that on my PC? Do that by like running dalvik vm on a pc and then running the app in that?\r\nIs there another way to run an app on PC apart from using an emulator?","title":"Can I run an android app on pc without emulator?","body":"<p>Suppose I wanted to build a PC application but instead of that I'd make an Android app which does not access mobile only APIs. Can I run something like that on my PC? Do that by like running dalvik vm on a pc and then running the app in that?\nIs there another way to run an app on PC apart from using an emulator?</p>\n"},{"tags":["java","thread-safety","executorservice","callable"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633606101,"creation_date":1633605744,"answer_id":69480254,"question_id":69468935,"body_markdown":"It hard to tell without seeing more code of the tasks. This is one possible scenario for the closed stream. The javadoc for `executorService.shutdown();` says:\r\n\r\n    This method does not wait for previously submitted tasks to complete execution.\r\n\r\nIf your first task take longer than 4 seconds to run you will get `TimeoutException` when calling `futureOne.get(4, TimeUnit.SECONDS)` which you don&#39;t catch so it leads to your own try with resource closing the FileInputStream. However the second callable might still be running in the executor service so could get this `java.io.IOException: Stream Closed` exception.\r\n\r\nYou could fix by using `future.get()` which blocks on first task completion, but it sounds like you don&#39;t want this, so it&#39;s better to cleanly shut down your service thread. \r\n\r\nTry adding `executorService.awaitTermination(long timeout, TimeUnit unit)` after `shutdown()` and catch the `TimeoutException` and handle appropriately to ensure the second task exits cleanly in this timeout/error situation, such as using latch or flags to notify to end the task.","title":"Submitting FileInputStream via ExecutorService","body":"<p>It hard to tell without seeing more code of the tasks. This is one possible scenario for the closed stream. The javadoc for <code>executorService.shutdown();</code> says:</p>\n<pre><code>This method does not wait for previously submitted tasks to complete execution.\n</code></pre>\n<p>If your first task take longer than 4 seconds to run you will get <code>TimeoutException</code> when calling <code>futureOne.get(4, TimeUnit.SECONDS)</code> which you don't catch so it leads to your own try with resource closing the FileInputStream. However the second callable might still be running in the executor service so could get this <code>java.io.IOException: Stream Closed</code> exception.</p>\n<p>You could fix by using <code>future.get()</code> which blocks on first task completion, but it sounds like you don't want this, so it's better to cleanly shut down your service thread.</p>\n<p>Try adding <code>executorService.awaitTermination(long timeout, TimeUnit unit)</code> after <code>shutdown()</code> and catch the <code>TimeoutException</code> and handle appropriately to ensure the second task exits cleanly in this timeout/error situation, such as using latch or flags to notify to end the task.</p>\n"}],"owner":{"account_id":2639396,"reputation":447,"user_id":2283392,"display_name":"FullStack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633606101,"creation_date":1633535765,"question_id":69468935,"body_markdown":"After using [this][1] as a guide I&#39;m trying to send a FileInputStream to two APIs concurrently, if either of them fails we error out.\r\nI have two [callable][2]s\r\n\r\n        private void submitCallablesWithExecutor(final FileInputStream content)\r\n            throws InterruptedException, ExecutionException, TimeoutException {\r\n        ExecutorService executorService = null;\r\n\r\n        try {\r\n            executorService = Executors.newFixedThreadPool(5);\r\n            //send to api1\r\n            final Future&lt;String&gt; futureOne = executorService.submit(new Callable&lt;String&gt;() {\r\n                @Override\r\n                public String call() throws Exception {\r\n                    final String returnedValue = implOne.storeContent(content)\r\n                    return returnedValue;\r\n                }\r\n            });\r\n            //send to api2\r\n            final Future&lt;String&gt; futureTwo = executorService.submit(new Callable&lt;String&gt;() {\r\n                @Override\r\n                public String call() throws Exception {\r\n                    final String returnedValue = implTwo.storeContent(content);\r\n                    return returnedValue;\r\n                }\r\n            });\r\n\r\n            final String valueOne = futureOne.get(4, TimeUnit.SECONDS);\r\n            final String valueTwo = futureTwo.get(4, TimeUnit.SECONDS);\r\n        } finally {\r\n            executorService.shutdown();\r\n        }\r\n    }\r\n\r\nwithin api2s implementation it tries to calculate the filesize with the below method \r\n\r\n        protected Long calculateFilesize(InputStream data) throws StoreException {\r\n        try {\r\n            return (long) data.available();\r\n        } catch (IOException e) {\r\n            LOGGER.error(&quot;Error determining filesize of InputStream&quot;);\r\n            throw new StoreException( e);\r\n        }\r\n    }\r\n\r\nI get the following error during data.available()\r\n\r\n&gt; java.io.IOException: Stream Closed\r\n\r\nI suspect at some point the stream is being closed and at this point it fails to read it.\r\nAny advice would be highly appreciated.\r\n\r\nIt&#39;s worth noting that the method that calls submitCallablesWithExecutor(content) is surrounded with a [try with resource][3]. I wonder if it&#39;s auto closing the Stream?\r\n\r\n        try (final FileInputStream content = new FileInputStream(tmpFile)) {\r\n        submitCallablesWithExecutor(content)\r\n        }\r\n\r\n \r\n\r\n\r\n  [1]: https://github.com/briansjavablog/multi-threading-with-executorservice/blob/master/src/main/java/com/briansjavablog/concurrency/threads/ExecutorServiceCallableSample.java\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"Submitting FileInputStream via ExecutorService","body":"<p>After using <a href=\"https://github.com/briansjavablog/multi-threading-with-executorservice/blob/master/src/main/java/com/briansjavablog/concurrency/threads/ExecutorServiceCallableSample.java\" rel=\"nofollow noreferrer\">this</a> as a guide I'm trying to send a FileInputStream to two APIs concurrently, if either of them fails we error out.\nI have two <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html\" rel=\"nofollow noreferrer\">callable</a>s</p>\n<pre><code>    private void submitCallablesWithExecutor(final FileInputStream content)\n        throws InterruptedException, ExecutionException, TimeoutException {\n    ExecutorService executorService = null;\n\n    try {\n        executorService = Executors.newFixedThreadPool(5);\n        //send to api1\n        final Future&lt;String&gt; futureOne = executorService.submit(new Callable&lt;String&gt;() {\n            @Override\n            public String call() throws Exception {\n                final String returnedValue = implOne.storeContent(content)\n                return returnedValue;\n            }\n        });\n        //send to api2\n        final Future&lt;String&gt; futureTwo = executorService.submit(new Callable&lt;String&gt;() {\n            @Override\n            public String call() throws Exception {\n                final String returnedValue = implTwo.storeContent(content);\n                return returnedValue;\n            }\n        });\n\n        final String valueOne = futureOne.get(4, TimeUnit.SECONDS);\n        final String valueTwo = futureTwo.get(4, TimeUnit.SECONDS);\n    } finally {\n        executorService.shutdown();\n    }\n}\n</code></pre>\n<p>within api2s implementation it tries to calculate the filesize with the below method</p>\n<pre><code>    protected Long calculateFilesize(InputStream data) throws StoreException {\n    try {\n        return (long) data.available();\n    } catch (IOException e) {\n        LOGGER.error(&quot;Error determining filesize of InputStream&quot;);\n        throw new StoreException( e);\n    }\n}\n</code></pre>\n<p>I get the following error during data.available()</p>\n<blockquote>\n<p>java.io.IOException: Stream Closed</p>\n</blockquote>\n<p>I suspect at some point the stream is being closed and at this point it fails to read it.\nAny advice would be highly appreciated.</p>\n<p>It's worth noting that the method that calls submitCallablesWithExecutor(content) is surrounded with a <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try with resource</a>. I wonder if it's auto closing the Stream?</p>\n<pre><code>    try (final FileInputStream content = new FileInputStream(tmpFile)) {\n    submitCallablesWithExecutor(content)\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","rabbitmq","mqtt","esp8266"],"comments":[{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1633605471,"post_id":69479584,"comment_id":122807198,"body_markdown":"Asking for links to guides or tutorials is explicitly off topic for Stack Overflow. Please read the [doc](https://stackoverflow.com/help/how-to-ask) on what a good SO question needs, then [edit](https://stackoverflow.com/posts/69479584/edit) the question to show what you&#39;ve tried and somebody may be able to help you fix it.","body":"Asking for links to guides or tutorials is explicitly off topic for Stack Overflow. Please read the <a href=\"https://stackoverflow.com/help/how-to-ask\">doc</a> on what a good SO question needs, then <a href=\"https://stackoverflow.com/posts/69479584/edit\">edit</a> the question to show what you&#39;ve tried and somebody may be able to help you fix it."},{"owner":{"account_id":17275164,"reputation":103,"user_id":12509947,"display_name":"rimi reza duity"},"score":0,"creation_date":1633606120,"post_id":69479584,"comment_id":122807446,"body_markdown":"The question is edited.","body":"The question is edited."},{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1633606824,"post_id":69479584,"comment_id":122807668,"body_markdown":"You are still going to need to provide more context to your question. There is not enough here. Under normal circumstances you do not need to tell the broker about the clientid, but they do need to be globally unique (every device needs it&#39;s own unique clientid, hard coding it like that is a bad idea unless there will only ever be one client)","body":"You are still going to need to provide more context to your question. There is not enough here. Under normal circumstances you do not need to tell the broker about the clientid, but they do need to be globally unique (every device needs it&#39;s own unique clientid, hard coding it like that is a bad idea unless there will only ever be one client)"}],"owner":{"account_id":17275164,"reputation":103,"user_id":12509947,"display_name":"rimi reza duity"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1633606088,"creation_date":1633602692,"question_id":69479584,"body_markdown":"I am new to Rabbitmq. \r\nI want to implement a Spring boot server that gets messages from ESP8266 using MQTT protocol. For this purpose, I am using Rabbitmq as a broker server, but failed to configure ESP8266(using Arduino IDE) to make it publish messages to Rabbitmq. \r\n\r\nI am using `PubSubClient`.\r\n\r\n    WiFiClient espClient;    \r\n    PubSubClient client(mqtt_server, 1883, callback, espClient);\r\nBut I am confused about the clientId part, where or how to declare the clientId in Rabbitmq MQTT? \r\n\r\n    client.connect(&quot;ESP8266&quot;, mqtt_user, mqtt_pass);\r\n\r\n\r\n","title":"Publish Messages that are sent from ESP8266 to a Spring boot Java Server using Rabbitmq MQTT","body":"<p>I am new to Rabbitmq.\nI want to implement a Spring boot server that gets messages from ESP8266 using MQTT protocol. For this purpose, I am using Rabbitmq as a broker server, but failed to configure ESP8266(using Arduino IDE) to make it publish messages to Rabbitmq.</p>\n<p>I am using <code>PubSubClient</code>.</p>\n<pre><code>WiFiClient espClient;    \nPubSubClient client(mqtt_server, 1883, callback, espClient);\n</code></pre>\n<p>But I am confused about the clientId part, where or how to declare the clientId in Rabbitmq MQTT?</p>\n<pre><code>client.connect(&quot;ESP8266&quot;, mqtt_user, mqtt_pass);\n</code></pre>\n"},{"tags":["java","generics","get","set"],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633605894,"creation_date":1633599233,"answer_id":69478783,"question_id":69478117,"body_markdown":"You can use the **Java Upper Bound Generics** for example you can write a super class where you put an inherited or abstract get and set methods  :\r\n\r\n\r\n      private &lt;T extends ApplicationController&gt; T checkBusinessEntityTypeCode(String checkDtKdt, T kdtCode, T dtCode){.... }\r\n\r\n\r\nApplicationController is our Superclass (can be an interface) , all &quot;T&quot; classes inherit from it so all references from any T can call the get and set methods .\r\n\r\nJust be carefull you need to read more about upper and lower bound generics before using it , using bounds with Collections make the collections immutables with many other tricks ...\r\n\r\n**Link to Oracle documentation** : https://docs.oracle.com/javase/tutorial/java/generics/bounded.html\r\n\r\n\r\n**you can read This answer from StackOverFlow :**\r\n\r\nhttps://stackoverflow.com/questions/30292959/understanding-bounded-generics-in-java-what-is-the-point\r\n\r\n\r\n      ---------------------------------------------------\r\n\r\nYour code compile in my IDE and i can call methods of GvtApplicationController with the reference kdtCode(compile time) :\r\n\r\n\t    private &lt;T extends GvtApplicationController&gt; T checkBusinessEntityTypeCode(String checkDtKdt, T kdtCode, T dtCode) {\r\n\t    if (kdtCode != null &amp;&amp; dtCode != null) {\r\n\t    \tkdtCode.getCurrentVersionPath();\r\n\t    }\r\n\t\treturn dtCode;\r\n\t    }\r\n\r\n\r\n**Example :**\r\n \r\n\r\n    abstract class Person{\r\n\tpublic abstract String getName();\r\n    }\r\n    class Student extends Person{\r\n \t@Override\r\n\tpublic String getName() {\r\n \t\treturn &quot;MyName&quot;;\r\n\t}\r\n    }\r\n    class GenericsBounder{\r\n\tpublic static&lt;T extends Person&gt; String showName(T t){\r\n\t\treturn t.getName();\r\n \t}\r\n    }\r\n    public class  Bounder{\r\n    public static void main(String[] args) {\r\n    String s=\tGenericsBounder.showName(new Student());\r\n    System.out.println(s);\r\n    }\r\n    }\r\n\r\n**Output :**\r\n\r\n      |MyName\r\n","title":"How to use set() method for T type","body":"<p>You can use the <strong>Java Upper Bound Generics</strong> for example you can write a super class where you put an inherited or abstract get and set methods  :</p>\n<pre><code>  private &lt;T extends ApplicationController&gt; T checkBusinessEntityTypeCode(String checkDtKdt, T kdtCode, T dtCode){.... }\n</code></pre>\n<p>ApplicationController is our Superclass (can be an interface) , all &quot;T&quot; classes inherit from it so all references from any T can call the get and set methods .</p>\n<p>Just be carefull you need to read more about upper and lower bound generics before using it , using bounds with Collections make the collections immutables with many other tricks ...</p>\n<p><strong>Link to Oracle documentation</strong> : <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/bounded.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/generics/bounded.html</a></p>\n<p><strong>you can read This answer from StackOverFlow :</strong></p>\n<p><a href=\"https://stackoverflow.com/questions/30292959/understanding-bounded-generics-in-java-what-is-the-point\">Understanding bounded generics in java. What is the point?</a></p>\n<pre><code>  ---------------------------------------------------\n</code></pre>\n<p>Your code compile in my IDE and i can call methods of GvtApplicationController with the reference kdtCode(compile time) :</p>\n<pre><code>    private &lt;T extends GvtApplicationController&gt; T checkBusinessEntityTypeCode(String checkDtKdt, T kdtCode, T dtCode) {\n    if (kdtCode != null &amp;&amp; dtCode != null) {\n        kdtCode.getCurrentVersionPath();\n    }\n    return dtCode;\n    }\n</code></pre>\n<p><strong>Example :</strong></p>\n<pre><code>abstract class Person{\npublic abstract String getName();\n}\nclass Student extends Person{\n@Override\npublic String getName() {\n    return &quot;MyName&quot;;\n}\n}\nclass GenericsBounder{\npublic static&lt;T extends Person&gt; String showName(T t){\n    return t.getName();\n}\n}\npublic class  Bounder{\npublic static void main(String[] args) {\nString s=   GenericsBounder.showName(new Student());\nSystem.out.println(s);\n}\n}\n</code></pre>\n<p><strong>Output :</strong></p>\n<pre><code>  |MyName\n</code></pre>\n"}],"owner":{"account_id":20962427,"reputation":25,"user_id":15401560,"display_name":"Vitaliy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69478783,"answer_count":1,"score":0,"last_activity_date":1633605894,"creation_date":1633596439,"question_id":69478117,"body_markdown":"I work with XML doc. There are a lot of similar tags and methods in my programm. All they do the same things but all they return and have as parameters different objects. Inside this method I check two String. So, can use T instead different objects. All this objects not connected. For example, I want to do the following:\r\n\r\n        private &lt;T&gt; T checkBusinessEntityTypeCode(CheckDtKdt checkDtKdt, T kdtCode, T dtCode) {\r\n        if (kdtCode != null &amp;&amp; dtCode != null) {\r\n            if (StringUtils.compare(kdtCode..getValue(), dtCode.getValue()) != 0) {\r\n                checkFieldsDtKdtService.save14Graph(checkDtKdt, dtCode.getValue(), kdtCode.getValue());\r\n                dtCode.setValue(kdtCode.getValue());\r\n            }\r\n            if (StringUtils.compare(kdtCode.getCodeListId(), dtCode.getCodeListId()) != 0) {\r\n                checkFieldsDtKdtService.save14Graph(checkDtKdt, dtCode.getCodeListId(), kdtCode.getCodeListId());\r\n                dtCode.setCodeListId(kdtCode.getCodeListId());\r\n            }\r\n        }\r\n    }\r\n\r\nOf course, this code doesn&#39;t work. Because of get() and set() method. Can I use something like that?","title":"How to use set() method for T type","body":"<p>I work with XML doc. There are a lot of similar tags and methods in my programm. All they do the same things but all they return and have as parameters different objects. Inside this method I check two String. So, can use T instead different objects. All this objects not connected. For example, I want to do the following:</p>\n<pre><code>    private &lt;T&gt; T checkBusinessEntityTypeCode(CheckDtKdt checkDtKdt, T kdtCode, T dtCode) {\n    if (kdtCode != null &amp;&amp; dtCode != null) {\n        if (StringUtils.compare(kdtCode..getValue(), dtCode.getValue()) != 0) {\n            checkFieldsDtKdtService.save14Graph(checkDtKdt, dtCode.getValue(), kdtCode.getValue());\n            dtCode.setValue(kdtCode.getValue());\n        }\n        if (StringUtils.compare(kdtCode.getCodeListId(), dtCode.getCodeListId()) != 0) {\n            checkFieldsDtKdtService.save14Graph(checkDtKdt, dtCode.getCodeListId(), kdtCode.getCodeListId());\n            dtCode.setCodeListId(kdtCode.getCodeListId());\n        }\n    }\n}\n</code></pre>\n<p>Of course, this code doesn't work. Because of get() and set() method. Can I use something like that?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":0,"creation_date":1269027844,"post_id":2476203,"comment_id":2471865,"body_markdown":"@willpowerforever: which OS? If you&#39;re profiling on a Linux development server if may be possible to modify the underlying timer that Linux is using for gettimeofday() when System.nanoTime() is called. There are several reasons to allow a &#39;pluggable timer source&#39;: at one point the Linux kernel devs noticed (in 2006?) that TSC was broken, then more recent CPUs came with an HPET (high precision timer) offering consistent readings (and maybe faster?) across cores etc. In any case: the time taken by System.nanotime depends on the underlying hardware and how the OS is configured.","body":"@willpowerforever: which OS? If you&#39;re profiling on a Linux development server if may be possible to modify the underlying timer that Linux is using for gettimeofday() when System.nanoTime() is called. There are several reasons to allow a &#39;pluggable timer source&#39;: at one point the Linux kernel devs noticed (in 2006?) that TSC was broken, then more recent CPUs came with an HPET (high precision timer) offering consistent readings (and maybe faster?) across cores etc. In any case: the time taken by System.nanotime depends on the underlying hardware and how the OS is configured."}],"answers":[{"tags":[],"owner":{"account_id":13508,"reputation":30347,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1268992563,"creation_date":1268992563,"answer_id":2476287,"question_id":2476203,"body_markdown":"A practical suggestion: Instead of putting the call to System.nanoTime() inside the method, put it outside the loop that calls this method. \r\n\r\nHowever, there is a deeper point here: you are saying that you have a method(s) that is called many times and that adding two System.nanoTimes() calls to this method makes it incredibly slow. From the data that you provided your method is 35,000 times faster than a couple of Systme.nanoTime() calls (12500000s/350s = ~35,000). \r\n\r\nThis is a pretty fast method. It runs in less than a Nano. I don&#39;t think you&#39;ll be able to make it any faster. The only performance gains that are waiting for you are those that are based on reducing the number of times this method is called (and not by making the individual method faster). \r\n\r\nIs it possible that the data is not accurate?\r\n\r\n","title":"java System.nanoTime is really slow. Is it possible to implement a high performance java profiler?","body":"<p>A practical suggestion: Instead of putting the call to System.nanoTime() inside the method, put it outside the loop that calls this method. </p>\n\n<p>However, there is a deeper point here: you are saying that you have a method(s) that is called many times and that adding two System.nanoTimes() calls to this method makes it incredibly slow. From the data that you provided your method is 35,000 times faster than a couple of Systme.nanoTime() calls (12500000s/350s = ~35,000). </p>\n\n<p>This is a pretty fast method. It runs in less than a Nano. I don't think you'll be able to make it any faster. The only performance gains that are waiting for you are those that are based on reducing the number of times this method is called (and not by making the individual method faster). </p>\n\n<p>Is it possible that the data is not accurate?</p>\n"},{"tags":[],"owner":{"account_id":110096,"reputation":962,"user_id":2200067,"accept_rate":60,"display_name":"David"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1268999545,"creation_date":1268994269,"answer_id":2476441,"question_id":2476203,"body_markdown":"What OS are you using? Windows, Linux or Solaris? Single or multiple CPU?\r\n\r\nSystem.nanoTime() is just about the lowest-overhead you&#39;re going to get. Its speed depends on what OS you&#39;re running:\r\n\r\nOn Windows it calls QueryPerformanceCounter(), on Linux it uses gettimeofday(), and on Solaris it uses gethrtime().\r\n\r\nThe fastest of these is probably the Solaris gethrtime() - it doesn&#39;t have the overheard of a regular OS system call. Even so, it is reckoned to take &quot;a few hundred nanoseconds&quot; on a 300Mhz UltraSPARC box. So 500ns sounds about the right range. You might get faster timings using DTrace, but that&#39;s not something I&#39;ve used.\r\n\r\nSadly, using profiling tools incurs an overhead. But do you really need to run through 12.5 BILLION method call invocations (according to your numbers) to profile your code? ","title":"java System.nanoTime is really slow. Is it possible to implement a high performance java profiler?","body":"<p>What OS are you using? Windows, Linux or Solaris? Single or multiple CPU?</p>\n\n<p>System.nanoTime() is just about the lowest-overhead you're going to get. Its speed depends on what OS you're running:</p>\n\n<p>On Windows it calls QueryPerformanceCounter(), on Linux it uses gettimeofday(), and on Solaris it uses gethrtime().</p>\n\n<p>The fastest of these is probably the Solaris gethrtime() - it doesn't have the overheard of a regular OS system call. Even so, it is reckoned to take \"a few hundred nanoseconds\" on a 300Mhz UltraSPARC box. So 500ns sounds about the right range. You might get faster timings using DTrace, but that's not something I've used.</p>\n\n<p>Sadly, using profiling tools incurs an overhead. But do you really need to run through 12.5 BILLION method call invocations (according to your numbers) to profile your code? </p>\n"},{"tags":[],"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1269026282,"creation_date":1269026282,"answer_id":2480003,"question_id":2476203,"body_markdown":"If you want profiling, use a profiler, which will hook into the JVM quasi-magically using JVMTI, without needing to jam nanoTime() calls into code.\r\n\r\nIf you want microbenchmarking, just loop many many times so that when you divide the result by that number, the nanoTime() overhead all but disappears.\r\n","title":"java System.nanoTime is really slow. Is it possible to implement a high performance java profiler?","body":"<p>If you want profiling, use a profiler, which will hook into the JVM quasi-magically using JVMTI, without needing to jam nanoTime() calls into code.</p>\n\n<p>If you want microbenchmarking, just loop many many times so that when you divide the result by that number, the nanoTime() overhead all but disappears.</p>\n"},{"tags":[],"owner":{"account_id":601855,"reputation":221,"user_id":297918,"display_name":"Paul Mclachlan"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1269070348,"creation_date":1269070348,"answer_id":2482313,"question_id":2476203,"body_markdown":"I&#39;ve spent 10 years working on commercial Java performance profilers, for use in both development and production.\n\nThe short answer is - yes, you&#39;re right.  You can&#39;t pull that off.  And even if you could, putting anything but trivial instrumentation into a method that is called so frequently can:\n\n - Change the way the JIT treats the code, thus\n - skewing your performance numbers in hard to predict (but generally not useful, from a performance tuning standpoint) ways.\n\n   (and lets not get started on how making a system call in what is basically a tight assembly loop after the JIT is done with it affects all the fancy optimizations the CPU might otherwise be able to do in terms of prefetches, causing an otherwise unnecessary context switch and flushing your L1 cache, etc, etc)\n\nIt&#39;s OK to instrument slow (or maybe &#39;infrequently called&#39; would be better?) methods.  You can get away with instrumenting, for example, a lot of the JDBC API to catch database issues.\n\nFor actual performance tuning of actual Java code (as opposed to stuff Java calls into, like the network, filesystem, database, ...), instrumentation just isn&#39;t really the way to go.  You get more understandable results, but no-one has done line-level instrumentation for performance tuning for probably 7 years now - same reasons.\n\nInstead, commercial profilers use &quot;sampling&quot; technology - they periodically take a stack trace.  JVMTI has some nice calls that make it pretty cheap to do so every few ms.  Then you assume all the time between stack traces was spent on the new stack (which, obviously, isn&#39;t true, but statistically, it produces accurate results over a not-stupidly-short measurement period) - and you&#39;ve got yourself some actionable performance numbers without crazy overhead or any kind of observer effect.\n","title":"java System.nanoTime is really slow. Is it possible to implement a high performance java profiler?","body":"<p>I've spent 10 years working on commercial Java performance profilers, for use in both development and production.</p>\n<p>The short answer is - yes, you're right.  You can't pull that off.  And even if you could, putting anything but trivial instrumentation into a method that is called so frequently can:</p>\n<ul>\n<li><p>Change the way the JIT treats the code, thus</p>\n</li>\n<li><p>skewing your performance numbers in hard to predict (but generally not useful, from a performance tuning standpoint) ways.</p>\n<p>(and lets not get started on how making a system call in what is basically a tight assembly loop after the JIT is done with it affects all the fancy optimizations the CPU might otherwise be able to do in terms of prefetches, causing an otherwise unnecessary context switch and flushing your L1 cache, etc, etc)</p>\n</li>\n</ul>\n<p>It's OK to instrument slow (or maybe 'infrequently called' would be better?) methods.  You can get away with instrumenting, for example, a lot of the JDBC API to catch database issues.</p>\n<p>For actual performance tuning of actual Java code (as opposed to stuff Java calls into, like the network, filesystem, database, ...), instrumentation just isn't really the way to go.  You get more understandable results, but no-one has done line-level instrumentation for performance tuning for probably 7 years now - same reasons.</p>\n<p>Instead, commercial profilers use &quot;sampling&quot; technology - they periodically take a stack trace.  JVMTI has some nice calls that make it pretty cheap to do so every few ms.  Then you assume all the time between stack traces was spent on the new stack (which, obviously, isn't true, but statistically, it produces accurate results over a not-stupidly-short measurement period) - and you've got yourself some actionable performance numbers without crazy overhead or any kind of observer effect.</p>\n"},{"tags":[],"owner":{"account_id":6795959,"reputation":21,"user_id":5231250,"display_name":"dave"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1439693992,"creation_date":1439678617,"answer_id":32030111,"question_id":2476203,"body_markdown":"&gt;And the overhead of System.nanoTime in total is: 500 ns * 25,000,000,000 = 500 * 25000 s = 12500000s.\r\n\r\nBy my arithmetic:\r\n\r\n    500 nS * 25,000,000,000 =  12500 S.\r\n\r\nBecause:\r\n\r\n    (500 * 10^-9) * (25 * 10^9) = 500 * 25\r\n\r\n\r\n","title":"java System.nanoTime is really slow. Is it possible to implement a high performance java profiler?","body":"<blockquote>\n  <p>And the overhead of System.nanoTime in total is: 500 ns * 25,000,000,000 = 500 * 25000 s = 12500000s.</p>\n</blockquote>\n\n<p>By my arithmetic:</p>\n\n<pre><code>500 nS * 25,000,000,000 =  12500 S.\n</code></pre>\n\n<p>Because:</p>\n\n<pre><code>(500 * 10^-9) * (25 * 10^9) = 500 * 25\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2892776,"reputation":3221,"user_id":2481153,"display_name":"HungNM2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633605606,"creation_date":1633605606,"answer_id":69480224,"question_id":2476203,"body_markdown":"I tested with this:\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    \tlong total = 0;\r\n    \t\r\n    \tfor (int i = 0; i &lt; 1000; i++) {\r\n    \t\tlong timeNano1 = System.nanoTime();\t\t\r\n    \t\tlong timeNano2 = System.nanoTime();\r\n    \t\tSystem.out.println(&quot;timeNano2 - timeNano1 = &quot; + (timeNano2 -timeNano1)); \r\n    \t\t\r\n    \t\ttotal += timeNano2 -timeNano1; \r\n    \t}\r\n    \t\r\n    \tdouble avarage = (double)total/1000;\r\n    \tSystem.out.println(&quot;=================== average = &quot;+ avarage);\r\n    \r\n    }\r\n\r\n**the results:**\r\n\r\nmin(timeNano2 - timeNano1) = 0ns\r\n\r\nmax(timeNano2 - timeNano1) = 249800ns =~ 0.25ms &lt; 1ms\r\n\r\naverage = 227.3 ns\r\n\r\n\r\n","title":"java System.nanoTime is really slow. Is it possible to implement a high performance java profiler?","body":"<p>I tested with this:</p>\n<pre><code>public static void main(String[] args) {\n\n    long total = 0;\n    \n    for (int i = 0; i &lt; 1000; i++) {\n        long timeNano1 = System.nanoTime();     \n        long timeNano2 = System.nanoTime();\n        System.out.println(&quot;timeNano2 - timeNano1 = &quot; + (timeNano2 -timeNano1)); \n        \n        total += timeNano2 -timeNano1; \n    }\n    \n    double avarage = (double)total/1000;\n    System.out.println(&quot;=================== average = &quot;+ avarage);\n\n}\n</code></pre>\n<p><strong>the results:</strong></p>\n<p>min(timeNano2 - timeNano1) = 0ns</p>\n<p>max(timeNano2 - timeNano1) = 249800ns =~ 0.25ms &lt; 1ms</p>\n<p>average = 227.3 ns</p>\n"}],"owner":{"display_name":"willpowerforever"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5374,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":6,"score":6,"last_activity_date":1633605606,"creation_date":1268991432,"question_id":2476203,"body_markdown":"I did a test and found the overhead of a function call to System.nanoTime() is at least 500 ns on my machine. \r\n\r\nSeemed that it is very hard to have a high performance java profiler.\r\nFor enterprise software, suppose a function takes about 350 seconds and has 12,500,000,000 times of method calls. Therefore, the number of calls to System.nanoTime() is:\r\n12,500,000,000 * 2 = 25,000,000,000 (one for start timestamp, one for end timestamp)\r\nAnd the overhead of System.nanoTime in total is:\r\n500 ns * 25,000,000,000 = 500 * 25000 s = 12500000s.\r\n\r\nNote: all data from real case.\r\n\r\nAny better way to acquire the timestamp?\r\n","title":"java System.nanoTime is really slow. Is it possible to implement a high performance java profiler?","body":"<p>I did a test and found the overhead of a function call to System.nanoTime() is at least 500 ns on my machine. </p>\n\n<p>Seemed that it is very hard to have a high performance java profiler.\nFor enterprise software, suppose a function takes about 350 seconds and has 12,500,000,000 times of method calls. Therefore, the number of calls to System.nanoTime() is:\n12,500,000,000 * 2 = 25,000,000,000 (one for start timestamp, one for end timestamp)\nAnd the overhead of System.nanoTime in total is:\n500 ns * 25,000,000,000 = 500 * 25000 s = 12500000s.</p>\n\n<p>Note: all data from real case.</p>\n\n<p>Any better way to acquire the timestamp?</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1633451336,"post_id":69454088,"comment_id":122761271,"body_markdown":"The easiest, clearest and probably best way to do this is to provide a separate endpoint for each type of request.","body":"The easiest, clearest and probably best way to do this is to provide a separate endpoint for each type of request."},{"owner":{"account_id":18095182,"reputation":63,"user_id":13705907,"display_name":"junior_java_develop"},"score":0,"creation_date":1633451393,"post_id":69454088,"comment_id":122761299,"body_markdown":"Hi @RobertHarvey! Thanks for your answer, but it&#39;s impossible :(","body":"Hi @RobertHarvey! Thanks for your answer, but it&#39;s impossible :("}],"answers":[{"tags":[],"owner":{"account_id":18095182,"reputation":63,"user_id":13705907,"display_name":"junior_java_develop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633604801,"creation_date":1633604801,"answer_id":69480041,"question_id":69454088,"body_markdown":"Solution:\r\nI add the ```@RequestHeaders HttpHeaders httpHeaders``` into the method arguments and it gives me the opportunity to check out all the HTTP headers. \r\nEach HTTP request has at least one required for my task header: content-type or accept. \r\nSo, it works for me and my problem. \r\nHope anyone can also use it.","title":"Content negotiation. Request, response support JSON and XML","body":"<p>Solution:\nI add the <code>@RequestHeaders HttpHeaders httpHeaders</code> into the method arguments and it gives me the opportunity to check out all the HTTP headers.\nEach HTTP request has at least one required for my task header: content-type or accept.\nSo, it works for me and my problem.\nHope anyone can also use it.</p>\n"}],"owner":{"account_id":18095182,"reputation":63,"user_id":13705907,"display_name":"junior_java_develop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69480041,"answer_count":1,"score":0,"last_activity_date":1633604801,"creation_date":1633451073,"question_id":69454088,"body_markdown":"I faced the problem with content negotiation and I&#39;m trying to solve it, but don&#39;t know exactly how.\r\nSo, I have endpoint:\r\n```\r\n @PostMapping(value = &quot;/v2/transaction&quot;, consumes = MediaType.ALL_VALUE, produces = {&quot;application/xml&quot;, &quot;application/json&quot;})\r\n    public @ResponseBody\r\n    ResponseEntity&lt;TransactionResponse&gt; executeTransaction(@RequestBody TransactionRequest request) {\r\n\r\n        printerService.printRequestLog(request);\r\n\r\n        TransactionResponse response = null;\r\n        try {\r\n            response = bhnProcessingService.processTransaction(request);\r\n        } catch (GsStatusCodeException gse) {\r\n            Map&lt;String, String&gt; responseMap = gse.getResponseMap();\r\n            response = gsStatusCodeException.gsStatusCodeExceptionHandling(responseMap, request);\r\n            bhnResponseService.save(bhnResponseMapper.dtoToEntity(response));\r\n            printerService.printResponseLog(response);\r\n            return ResponseEntity.ok(response);\r\n        }\r\n        printerService.printResponseLog(response);\r\n        return ResponseEntity.ok(response);\r\n    }\r\n```\r\nI know that ```consumes``` and ```produces``` are not necessary, but it&#39;s project-style syntaxis, so I kept it as it is. \r\nThere is the request:\r\n```\r\n@XmlRootElement(name = &quot;request&quot;)\r\n@JsonRootName(&quot;request&quot;)\r\npublic class TransactionRequest implements Serializable {\r\n\r\n    private static final long serialVersionUID = -4928904121335557260L;\r\n\r\n    public BhnHeader header = new BhnHeader();\r\n    public BhnTransaction transaction = new BhnTransaction();\r\n\r\n}\r\n```\r\nThe incoming request needs to be converted to another object (simple DTO) and sent via SOAP to the side server. Then, when I have a response from the SOAP server, outgoing DTO I convert back to the object with type same as the request and sent to the request initiator. If a request was ```JSON``` then the response should be ```JSON```, same with ```XML```. And I don&#39;t know how to do it. I found a couple of guides, but they all include Spring MVC. Something like:\r\n```\r\n@Configuration\r\n@EnableWebMvc\r\npublic class RestApiApplication extends WebMvcConfigurerAdapter {\r\n\r\n@Override\r\npublic void configureContentNegotiation(ContentNegotiationConfigurer configurer) {\r\n\r\n   configurer.favorPathExtension(false).\r\n   favorParameter(true).\r\n   ignoreAcceptHeader(false).\r\n   useJaf(false).\r\n   defaultContentType(MediaType.APPLICATION_XML).\r\n   mediaType(&quot;xml&quot;, MediaType.APPLICATION_XML).\r\n   mediaType(&quot;json&quot;, MediaType.APPLICATION_JSON);\r\n}\r\n```\r\n\r\nSee the pom.xml:\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.0&lt;/version&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring-boot.starter.web.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring-boot.starter.ws.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.oxm.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jackson-dataformat.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring-boot.data.jpa.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring-boot.starter.test}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${commons-lang3.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.ws.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--Mapper--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.sf.dozer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;dozer&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.5.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;&lt;!--todo replace because it too old lib--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--Database MsSql--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;9.4.0.jre8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.4.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;liquibase-groovy-dsl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;wsdl4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;wsdl4j&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n            &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.6&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;xjc&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;xjc&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;schemaDirectory&gt;src/main/resources/schemas&lt;/schemaDirectory&gt;\r\n\t\t\t\t\t&lt;schemaFiles&gt;CPAMOPP.xsd&lt;/schemaFiles&gt;\r\n\t\t\t\t\t&lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;\r\n\t\t\t\t\t&lt;packageName&gt;ch.loyalty.amopp.jaxb&lt;/packageName&gt;\r\n\t\t\t\t\t&lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;add-source&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;add-source&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;sources&gt;\r\n\t\t\t\t\t\t\t\t&lt;source&gt;${basedir}/target/generated-sources&lt;/source&gt;\r\n\t\t\t\t\t\t\t&lt;/sources&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.5.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;finalName&gt;transactionManagement&lt;/finalName&gt;\r\n\t&lt;/build&gt;\r\n```\r\nCan you please give me any advice on how to solve that problem? Appreciate it!\r\nP.S. don&#39;t mean about hardcode. As usually happens: the deadline was yesterday...","title":"Content negotiation. Request, response support JSON and XML","body":"<p>I faced the problem with content negotiation and I'm trying to solve it, but don't know exactly how.\nSo, I have endpoint:</p>\n<pre><code> @PostMapping(value = &quot;/v2/transaction&quot;, consumes = MediaType.ALL_VALUE, produces = {&quot;application/xml&quot;, &quot;application/json&quot;})\n    public @ResponseBody\n    ResponseEntity&lt;TransactionResponse&gt; executeTransaction(@RequestBody TransactionRequest request) {\n\n        printerService.printRequestLog(request);\n\n        TransactionResponse response = null;\n        try {\n            response = bhnProcessingService.processTransaction(request);\n        } catch (GsStatusCodeException gse) {\n            Map&lt;String, String&gt; responseMap = gse.getResponseMap();\n            response = gsStatusCodeException.gsStatusCodeExceptionHandling(responseMap, request);\n            bhnResponseService.save(bhnResponseMapper.dtoToEntity(response));\n            printerService.printResponseLog(response);\n            return ResponseEntity.ok(response);\n        }\n        printerService.printResponseLog(response);\n        return ResponseEntity.ok(response);\n    }\n</code></pre>\n<p>I know that <code>consumes</code> and <code>produces</code> are not necessary, but it's project-style syntaxis, so I kept it as it is.\nThere is the request:</p>\n<pre><code>@XmlRootElement(name = &quot;request&quot;)\n@JsonRootName(&quot;request&quot;)\npublic class TransactionRequest implements Serializable {\n\n    private static final long serialVersionUID = -4928904121335557260L;\n\n    public BhnHeader header = new BhnHeader();\n    public BhnTransaction transaction = new BhnTransaction();\n\n}\n</code></pre>\n<p>The incoming request needs to be converted to another object (simple DTO) and sent via SOAP to the side server. Then, when I have a response from the SOAP server, outgoing DTO I convert back to the object with type same as the request and sent to the request initiator. If a request was <code>JSON</code> then the response should be <code>JSON</code>, same with <code>XML</code>. And I don't know how to do it. I found a couple of guides, but they all include Spring MVC. Something like:</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class RestApiApplication extends WebMvcConfigurerAdapter {\n\n@Override\npublic void configureContentNegotiation(ContentNegotiationConfigurer configurer) {\n\n   configurer.favorPathExtension(false).\n   favorParameter(true).\n   ignoreAcceptHeader(false).\n   useJaf(false).\n   defaultContentType(MediaType.APPLICATION_XML).\n   mediaType(&quot;xml&quot;, MediaType.APPLICATION_XML).\n   mediaType(&quot;json&quot;, MediaType.APPLICATION_JSON);\n}\n</code></pre>\n<p>See the pom.xml:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.starter.web.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.starter.ws.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\n            &lt;version&gt;${spring.oxm.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n            &lt;version&gt;${jackson-dataformat.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.data.jpa.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.starter.test}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\n            &lt;version&gt;${spring.ws.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--Mapper--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.dozer&lt;/groupId&gt;\n            &lt;artifactId&gt;dozer&lt;/artifactId&gt;\n            &lt;version&gt;5.5.1&lt;/version&gt;\n        &lt;/dependency&gt;&lt;!--todo replace because it too old lib--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;1.4.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--Database MsSql--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;9.4.0.jre8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n            &lt;version&gt;4.4.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-groovy-dsl&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;wsdl4j&lt;/groupId&gt;\n            &lt;artifactId&gt;wsdl4j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;xjc&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;xjc&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;schemaDirectory&gt;src/main/resources/schemas&lt;/schemaDirectory&gt;\n                    &lt;schemaFiles&gt;CPAMOPP.xsd&lt;/schemaFiles&gt;\n                    &lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;\n                    &lt;packageName&gt;ch.loyalty.amopp.jaxb&lt;/packageName&gt;\n                    &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;add-source&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;add-source&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sources&gt;\n                                &lt;source&gt;${basedir}/target/generated-sources&lt;/source&gt;\n                            &lt;/sources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;finalName&gt;transactionManagement&lt;/finalName&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>Can you please give me any advice on how to solve that problem? Appreciate it!\nP.S. don't mean about hardcode. As usually happens: the deadline was yesterday...</p>\n"},{"tags":["java","web-services","soap"],"comments":[{"owner":{"account_id":5421563,"reputation":5502,"user_id":4315049,"accept_rate":57,"display_name":"robjwilkins"},"score":0,"creation_date":1498475558,"post_id":44758321,"comment_id":76497302,"body_markdown":"would be helpful if you posted the error","body":"would be helpful if you posted the error"},{"owner":{"account_id":4535602,"reputation":215,"user_id":3684893,"display_name":"semvdwal"},"score":0,"creation_date":1498480655,"post_id":44758321,"comment_id":76500360,"body_markdown":"Did you verify that the SSL certificate for the soap service is trusted?","body":"Did you verify that the SSL certificate for the soap service is trusted?"},{"owner":{"account_id":10558978,"reputation":19,"user_id":7779321,"display_name":"Shiv Pratap"},"score":0,"creation_date":1498481718,"post_id":44758321,"comment_id":76501089,"body_markdown":"@robjwilkins i just added the error i am getting","body":"@robjwilkins i just added the error i am getting"},{"owner":{"account_id":10558978,"reputation":19,"user_id":7779321,"display_name":"Shiv Pratap"},"score":0,"creation_date":1498481865,"post_id":44758321,"comment_id":76501197,"body_markdown":"@semvdwal ssl certificate is self signed and thats why it is giving me error \nIs there a way i can somehow send request to server","body":"@semvdwal ssl certificate is self signed and thats why it is giving me error  Is there a way i can somehow send request to server"},{"owner":{"account_id":10558978,"reputation":19,"user_id":7779321,"display_name":"Shiv Pratap"},"score":0,"creation_date":1498482748,"post_id":44758321,"comment_id":76501802,"body_markdown":"To read the content of url I used TrustManager class and X509Certificate but in this case i am not able to send request to server as certificate is not trusted.","body":"To read the content of url I used TrustManager class and X509Certificate but in this case i am not able to send request to server as certificate is not trusted."}],"answers":[{"tags":[],"owner":{"account_id":5421563,"reputation":5502,"user_id":4315049,"accept_rate":57,"display_name":"robjwilkins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1498482271,"creation_date":1498482271,"answer_id":44760476,"question_id":44758321,"body_markdown":"Have you had a look at this article:\r\nhttps://confluence.atlassian.com/kb/unable-to-connect-to-ssl-services-due-to-pkix-path-building-failed-779355358.html\r\n\r\nsuggests there is a problem either with the cert, or the truststore.  If its self-signed you need to generate a truststore and tell your process to use that when calling the service","title":"calling soap web service with https from java","body":"<p>Have you had a look at this article:\n<a href=\"https://confluence.atlassian.com/kb/unable-to-connect-to-ssl-services-due-to-pkix-path-building-failed-779355358.html\" rel=\"nofollow noreferrer\">https://confluence.atlassian.com/kb/unable-to-connect-to-ssl-services-due-to-pkix-path-building-failed-779355358.html</a></p>\n\n<p>suggests there is a problem either with the cert, or the truststore.  If its self-signed you need to generate a truststore and tell your process to use that when calling the service</p>\n"},{"tags":[],"owner":{"account_id":19717386,"reputation":19,"user_id":14436537,"display_name":"metadevj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633604669,"creation_date":1633604669,"answer_id":69480007,"question_id":44758321,"body_markdown":"Please note that trusting all certificates is not recommended. Don&#39;t do this, unless you really know what you&#39;re doing.\r\n\r\nDepending on your requirements, u might need to disable both Certificate Validation and Hostname validation by setting setDefaultHostnameVerifier as well.\r\n\r\nUse at own risk, not recommended to disable SSL checks and might affect the whole JVM.\r\n\r\n```\r\n// Set HTTPS/SSL Trust All Certs and Hosts Params\r\nfinal boolean isHttps = soapEndPointUri.toLowerCase().startsWith(&quot;https&quot;);\r\nif (isHttps) {\r\n  try {\r\n    // Create a trust manager that does not validate certificate chains\r\n    final TrustManager[] trustAllCerts =\r\n      new TrustManager[] {\r\n        new X509TrustManager() {\r\n          @Override\r\n          public void checkClientTrusted(\r\n            java.security.cert.X509Certificate[] chain, String authType) {}\r\n\r\n          @Override\r\n          public void checkServerTrusted(\r\n            java.security.cert.X509Certificate[] chain, String authType) {}\r\n\r\n          @Override\r\n          public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n            return new java.security.cert.X509Certificate[] {};\r\n          }\r\n        }\r\n      };\r\n\r\n    // Install the all-trusting trust manager\r\n    final SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n    sslContext.init(null, trustAllCerts, new java.security.SecureRandom());\r\n    // Create a ssl socket factory with our all-trusting manager\r\n    final SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\r\n    HttpsURLConnection.setDefaultSSLSocketFactory(sslSocketFactory);\r\n    HttpsURLConnection.setDefaultHostnameVerifier((hostname, session) -&gt; true);\r\n\r\n  } catch (NoSuchAlgorithmException e) {\r\n    e.printStackTrace();\r\n  } catch (KeyManagementException e) {\r\n    e.printStackTrace();\r\n  }\r\n}\r\n\r\n// Create SOAP Connection\r\nSOAPConnectionFactory soapConnectionFactory = SOAPConnectionFactory.newInstance();\r\nsoapConnection = soapConnectionFactory.createConnection();\r\n\r\n// Do SOAP Call\r\nsoapResponse = soapConnection.call(soapMessage, soapEndPointUri);\r\n```\r\n    \r\n\r\n","title":"calling soap web service with https from java","body":"<p>Please note that trusting all certificates is not recommended. Don't do this, unless you really know what you're doing.</p>\n<p>Depending on your requirements, u might need to disable both Certificate Validation and Hostname validation by setting setDefaultHostnameVerifier as well.</p>\n<p>Use at own risk, not recommended to disable SSL checks and might affect the whole JVM.</p>\n<pre><code>// Set HTTPS/SSL Trust All Certs and Hosts Params\nfinal boolean isHttps = soapEndPointUri.toLowerCase().startsWith(&quot;https&quot;);\nif (isHttps) {\n  try {\n    // Create a trust manager that does not validate certificate chains\n    final TrustManager[] trustAllCerts =\n      new TrustManager[] {\n        new X509TrustManager() {\n          @Override\n          public void checkClientTrusted(\n            java.security.cert.X509Certificate[] chain, String authType) {}\n\n          @Override\n          public void checkServerTrusted(\n            java.security.cert.X509Certificate[] chain, String authType) {}\n\n          @Override\n          public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n            return new java.security.cert.X509Certificate[] {};\n          }\n        }\n      };\n\n    // Install the all-trusting trust manager\n    final SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\n    sslContext.init(null, trustAllCerts, new java.security.SecureRandom());\n    // Create a ssl socket factory with our all-trusting manager\n    final SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\n    HttpsURLConnection.setDefaultSSLSocketFactory(sslSocketFactory);\n    HttpsURLConnection.setDefaultHostnameVerifier((hostname, session) -&gt; true);\n\n  } catch (NoSuchAlgorithmException e) {\n    e.printStackTrace();\n  } catch (KeyManagementException e) {\n    e.printStackTrace();\n  }\n}\n\n// Create SOAP Connection\nSOAPConnectionFactory soapConnectionFactory = SOAPConnectionFactory.newInstance();\nsoapConnection = soapConnectionFactory.createConnection();\n\n// Do SOAP Call\nsoapResponse = soapConnection.call(soapMessage, soapEndPointUri);\n</code></pre>\n"}],"owner":{"account_id":10558978,"reputation":19,"user_id":7779321,"display_name":"Shiv Pratap"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44760476,"answer_count":2,"score":0,"last_activity_date":1633604669,"creation_date":1498475187,"question_id":44758321,"body_markdown":"I am trying to call a SOAP webservice from java, these are third part web services which can be http or https\r\nFor me this example https://stackoverflow.com/a/15942217/2145530 works fine.\r\nBut I need to call https webservice also which is throwing me exception.\r\n\r\nPlase Help\r\n\r\n    com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection post\r\n    SEVERE: SAAJ0009: Message send failed\r\n    Error occurred while sending SOAP Request to Server\r\n    com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Message send failed\r\n\tat com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection.call(Unknown Source)\r\n\tat com.adnate.wsdlparse.WsdlParse.main(WsdlParse.java:23)\r\n    Caused by: com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Message send failed\r\n\tat com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection.post(Unknown Source)\r\n\t... 2 more\r\n    Caused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat sun.security.ssl.Alerts.getSSLException(Unknown Source)\r\n\tat sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\r\n\tat sun.security.ssl.Handshaker.fatalSE(Unknown Source)\r\n\tat sun.security.ssl.Handshaker.fatalSE(Unknown Source)\r\n\tat sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\r\n\tat sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\r\n\tat sun.security.ssl.Handshaker.processLoop(Unknown Source)\r\n\tat sun.security.ssl.Handshaker.process_record(Unknown Source)\r\n\tat sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\r\n\tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(Unknown Source)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(Unknown Source)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(Unknown Source)\r\n\t... 3 more\r\n    Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat sun.security.validator.PKIXValidator.doBuild(Unknown Source)\r\n\tat sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\r\n\tat sun.security.validator.Validator.validate(Unknown Source)\r\n\tat sun.security.ssl.X509TrustManagerImpl.validate(Unknown Source)\r\n\tat sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\r\n\tat sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source)\r\n\t... 16 more\r\n    Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat sun.security.provider.certpath.SunCertPathBuilder.build(Unknown Source)\r\n\tat sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown Source)\r\n\tat java.security.cert.CertPathBuilder.build(Unknown Source)\r\n\t... 22 more\r\n    CAUSE:\r\n    com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Message send failed\r\n\tat com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection.post(Unknown Source)\r\n\tat com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection.call(Unknown Source)\r\n\tat com.adnate.wsdlparse.WsdlParse.main(WsdlParse.java:23)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat sun.security.ssl.Alerts.getSSLException(Unknown Source)\r\n\tat sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\r\n\tat sun.security.ssl.Handshaker.fatalSE(Unknown Source)\r\n\tat sun.security.ssl.Handshaker.fatalSE(Unknown Source)\r\n\tat sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\r\n\tat sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\r\n\tat sun.security.ssl.Handshaker.processLoop(Unknown Source)\r\n\tat sun.security.ssl.Handshaker.process_record(Unknown Source)\r\n\tat sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\r\n\tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(Unknown Source)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(Unknown Source)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(Unknown Source)\r\n\t... 3 more\r\n    Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat sun.security.validator.PKIXValidator.doBuild(Unknown Source)\r\n\tat sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\r\n\tat sun.security.validator.Validator.validate(Unknown Source)\r\n\tat sun.security.ssl.X509TrustManagerImpl.validate(Unknown Source)\r\n\tat sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\r\n\tat sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source)\r\n\t... 16 more\r\n","title":"calling soap web service with https from java","body":"<p>I am trying to call a SOAP webservice from java, these are third part web services which can be http or https\nFor me this example <a href=\"https://stackoverflow.com/a/15942217/2145530\">https://stackoverflow.com/a/15942217/2145530</a> works fine.\nBut I need to call https webservice also which is throwing me exception.</p>\n\n<p>Plase Help</p>\n\n<pre><code>com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection post\nSEVERE: SAAJ0009: Message send failed\nError occurred while sending SOAP Request to Server\ncom.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Message send failed\nat com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection.call(Unknown Source)\nat com.adnate.wsdlparse.WsdlParse.main(WsdlParse.java:23)\nCaused by: com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Message send failed\nat com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection.post(Unknown Source)\n... 2 more\nCaused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat sun.security.ssl.Alerts.getSSLException(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\nat sun.security.ssl.Handshaker.fatalSE(Unknown Source)\nat sun.security.ssl.Handshaker.fatalSE(Unknown Source)\nat sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\nat sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\nat sun.security.ssl.Handshaker.processLoop(Unknown Source)\nat sun.security.ssl.Handshaker.process_record(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\nat sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\nat sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(Unknown Source)\nat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(Unknown Source)\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(Unknown Source)\n... 3 more\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat sun.security.validator.PKIXValidator.doBuild(Unknown Source)\nat sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\nat sun.security.validator.Validator.validate(Unknown Source)\nat sun.security.ssl.X509TrustManagerImpl.validate(Unknown Source)\nat sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\nat sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source)\n... 16 more\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat sun.security.provider.certpath.SunCertPathBuilder.build(Unknown Source)\nat sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown Source)\nat java.security.cert.CertPathBuilder.build(Unknown Source)\n... 22 more\nCAUSE:\ncom.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Message send failed\nat com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection.post(Unknown Source)\nat com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection.call(Unknown Source)\nat com.adnate.wsdlparse.WsdlParse.main(WsdlParse.java:23)\nCaused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat sun.security.ssl.Alerts.getSSLException(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\nat sun.security.ssl.Handshaker.fatalSE(Unknown Source)\nat sun.security.ssl.Handshaker.fatalSE(Unknown Source)\nat sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\nat sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\nat sun.security.ssl.Handshaker.processLoop(Unknown Source)\nat sun.security.ssl.Handshaker.process_record(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\nat sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\nat sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(Unknown Source)\nat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(Unknown Source)\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(Unknown Source)\n... 3 more\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat sun.security.validator.PKIXValidator.doBuild(Unknown Source)\nat sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\nat sun.security.validator.Validator.validate(Unknown Source)\nat sun.security.ssl.X509TrustManagerImpl.validate(Unknown Source)\nat sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\nat sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source)\n... 16 more\n</code></pre>\n"},{"tags":["java","android","date","timezone","simpledateformat"],"comments":[{"owner":{"account_id":1567608,"reputation":524,"user_id":1456046,"accept_rate":100,"display_name":"Deepak kumar Jha"},"score":1,"creation_date":1358147312,"post_id":14314426,"comment_id":19896644,"body_markdown":"Date class do not have a specified time zone format.","body":"Date class do not have a specified time zone format."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438189,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1358147087,"creation_date":1358147043,"answer_id":14314436,"question_id":14314426,"body_markdown":"&gt; How could i get a Date class Object having Date in IST format instead of GMT...\r\n\r\nYou can&#39;t. `Date` doesn&#39;t have a format *or* a time zone. It simply represents a number of  milliseconds since the Unix epoch of midnight on January 1st 1970 UTC. Instead, [`Date.toString()`][1] *always* uses the default time zone.\r\n\r\nTo use a specific format and time zone, use [`DateFormat`][2] instead of `Date.toString()`. You can set the time zone with [`DateFormat.setTimeZone()`][3] and then convert a `Date` to a `String` using [`DateFormat.format()`][4]. `DateFormat` itself has some factory methods for creation, or you can use [`SimpleDateFormat`][5] if you want to specify a particular pattern.\r\n\r\nAs Abu says, [Joda Time][6] *is* a much better date/time API than the built-in one, although for just formatting a date/time the standard library doesn&#39;t do a bad job. Just note that `DateFormat` and its subclasses are generally *not* thread-safe.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Date.html#toString%28%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html#setTimeZone%28java.util.TimeZone%29\r\n  [4]: http://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html#format%28java.util.Date%29\r\n  [5]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\r\n  [6]: http://joda-time.sf.net","title":"How to Parse Date from GMT TimeZone to IST TimeZone and Vice Versa in android","body":"<blockquote>\n  <p>How could i get a Date class Object having Date in IST format instead of GMT...</p>\n</blockquote>\n\n<p>You can't. <code>Date</code> doesn't have a format <em>or</em> a time zone. It simply represents a number of  milliseconds since the Unix epoch of midnight on January 1st 1970 UTC. Instead, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Date.html#toString%28%29\" rel=\"nofollow\"><code>Date.toString()</code></a> <em>always</em> uses the default time zone.</p>\n\n<p>To use a specific format and time zone, use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html\" rel=\"nofollow\"><code>DateFormat</code></a> instead of <code>Date.toString()</code>. You can set the time zone with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html#setTimeZone%28java.util.TimeZone%29\" rel=\"nofollow\"><code>DateFormat.setTimeZone()</code></a> and then convert a <code>Date</code> to a <code>String</code> using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html#format%28java.util.Date%29\" rel=\"nofollow\"><code>DateFormat.format()</code></a>. <code>DateFormat</code> itself has some factory methods for creation, or you can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow\"><code>SimpleDateFormat</code></a> if you want to specify a particular pattern.</p>\n\n<p>As Abu says, <a href=\"http://joda-time.sf.net\" rel=\"nofollow\">Joda Time</a> <em>is</em> a much better date/time API than the built-in one, although for just formatting a date/time the standard library doesn't do a bad job. Just note that <code>DateFormat</code> and its subclasses are generally <em>not</em> thread-safe.</p>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1358149159,"creation_date":1358147386,"answer_id":14314481,"question_id":14314426,"body_markdown":"Date does not have any time zone. It is just a holder of the number of milliseconds since January 1, 1970, 00:00:00 GMT. Take the same DateFormat that you used for parsing, set IST timezone and format your date as in the following example\r\n \r\n\t\tDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;);\r\n\t\tDate date = sdf.parse(&quot;2013-01-09T19:32:49.103+05:30&quot;); \r\n\t\tsdf.setTimeZone(TimeZone.getTimeZone(&quot;IST&quot;));\r\n\t\tSystem.out.println(sdf.format(date));\r\n\r\noutput \r\n\r\n    2013-01-09T19:32:49.103+05:30\r\n\r\nNote that `XX`X pattern is used for ISO 8601 time zone (-08:00) since 1.7. If you are in 1.6 try `Z`. See SimpleDateFormat API for details of format patterns","title":"How to Parse Date from GMT TimeZone to IST TimeZone and Vice Versa in android","body":"<p>Date does not have any time zone. It is just a holder of the number of milliseconds since January 1, 1970, 00:00:00 GMT. Take the same DateFormat that you used for parsing, set IST timezone and format your date as in the following example</p>\n\n<pre><code>    DateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSSXXX\");\n    Date date = sdf.parse(\"2013-01-09T19:32:49.103+05:30\"); \n    sdf.setTimeZone(TimeZone.getTimeZone(\"IST\"));\n    System.out.println(sdf.format(date));\n</code></pre>\n\n<p>output </p>\n\n<pre><code>2013-01-09T19:32:49.103+05:30\n</code></pre>\n\n<p>Note that <code>XX</code>X pattern is used for ISO 8601 time zone (-08:00) since 1.7. If you are in 1.6 try <code>Z</code>. See SimpleDateFormat API for details of format patterns</p>\n"},{"tags":[],"owner":{"account_id":940357,"reputation":1777,"user_id":968532,"accept_rate":50,"display_name":"Kalpesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1408520769,"creation_date":1408520769,"answer_id":25399353,"question_id":14314426,"body_markdown":"You can do this simply by use of Calender class. Please check below snippets:\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n\tcalendar.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n\tcalendar.setTimeInMillis(&lt;--time stamp--&gt;);\r\n    //calendar.setTime(&lt;--date object of gmt date--&gt;); \r\n\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;MMM dd, yyyy &#39;at&#39; hh:mm a&quot;);\r\n\tsdf.setTimeZone(TimeZone.getDefault());\r\n\tString result=sdf.format(calendar.getTime()); ","title":"How to Parse Date from GMT TimeZone to IST TimeZone and Vice Versa in android","body":"<p>You can do this simply by use of Calender class. Please check below snippets:</p>\n\n<pre><code>Calendar calendar = Calendar.getInstance();\ncalendar.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\ncalendar.setTimeInMillis(&lt;--time stamp--&gt;);\n//calendar.setTime(&lt;--date object of gmt date--&gt;); \nSimpleDateFormat sdf = new SimpleDateFormat(\"MMM dd, yyyy 'at' hh:mm a\");\nsdf.setTimeZone(TimeZone.getDefault());\nString result=sdf.format(calendar.getTime()); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1481000420,"creation_date":1481000420,"answer_id":40988136,"question_id":14314426,"body_markdown":"# tl;dr\r\n\r\n    OffsetDateTime.parse( &quot;2013-01-09T19:32:49.103+05:30&quot; )  // Parsed.\r\n                  .toInstant()                               // Adjusted to UTC.\r\n\r\nSee [live code in IdeOne.com][1].\r\n\r\n# ISO 8601\r\n\r\nYour input string of `2013-01-09T19:32:49.103+05:30` happen to be in standard ISO 8601 format. The `+05:30` at the end indicates an [offset-from-UTC][2] of five and a half hours ahead, used in India.\r\n\r\n# java.time\r\n\r\nYou are using troublesome old date-time classes, now legacy, supplanted by the java.time classes.\r\n\r\nThe java.time classes happen to use ISO 8601 formats by default when parsing/generating Strings representing date-time values. So no need to specify a formatting pattern at all.\r\n\r\nAs your input represents a moment on the timeline with an offset-from-UTC, we parse as a [`OffsetDateTime`][3] object.\r\n\r\n    OffsetDateTime odt = OffsetDateTime.parse( &quot;2013-01-09T19:32:49.103+05:30&quot; );\r\n\r\n&gt;odt.toString(): 2013-01-09T19:32:49.103+05:30\r\n\r\nTo obtain a simple object in [UTC][4] value, extract an `Instant`. This `Instant` class is a basic building-block class of java.time. The [`Instant`](http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) class represents a moment on the timeline in [UTC](https://en.wikipedia.org/wiki/Coordinated_Universal_Time) with a resolution of [nanoseconds](https://en.wikipedia.org/wiki/Nanosecond) (up to nine (9) digits of a decimal fraction). \r\n\r\nYou can think of [`OffsetDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html) as an `Instant` plus a [`ZoneOffset`](https://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html). \r\n\r\n    Instant instant = odt.toInstant();  // UTC.\r\n\r\nWhen calling `toString`, a `String` object is generated in standard ISO 8601 format. The `Z` on the end is short for `Zulu` and means UTC.\r\n\r\n&gt;instant.toString(): 2013-01-09T14:02:49.103Z\r\n\r\nAn `Instant` is limited in various ways such as when generating Strings in various formats. So you may want to work with an `OffsetDateTime` adjusted into [UTC][4] as its offset; an offset-of-zero, in other words. The `ZoneOffset` class holds a constant for UTC, [`ZoneOffset.UTC`][5].\r\n\r\n    OffsetDateTime odtUtc = odt.withOffsetSameInstant( ZoneOffset.UTC );\r\n\r\nYou can also apply an offset (or time zone) to an `Instant`. Call [`atOffset`][6] or `atZone`.\r\n\r\nThe `Instant` class is the basic building-block class of java.time. Likely to be used often in your code as best practice is to do most of your work in UTC. \r\n\r\n    OffsetDateTime odt = instant.atOffset( ZoneOffset.ofHoursMinutes( 5 , 30 ) );\r\n\r\n# Time zone\r\n\r\nNote that an offset-from-UTC is *not* a time zone. A time zone is an offset *plus* a set of rules, past and present, for handling anomalies such as [Daylight Saving Time (DST)][7]. So a time zone is always preferable to a mere offset if you are indeed sure of the correct zone.\r\n\r\nSpecify a [proper time zone name](https://en.wikipedia.org/wiki/List_of_tz_zones_by_name) in the format of `continent/region`, such as [`America/Montreal`](https://en.wikipedia.org/wiki/America/Montreal), [`Africa/Casablanca`](https://en.wikipedia.org/wiki/Africa/Casablanca), or `Pacific/Auckland`. Never use the 3-4 letter abbreviation such as `EST` or `IST` as they are *not* true time zones, not standardized, and not even unique(!). \r\n\r\nIf you know the intended time zone, apply a `ZoneId` to get a `ZonedDateTime` object. But never assume without verifying with the source of your input data. Many different zones may share a particular offset. For example, in the case of our input here, the offset `+05:30` happens to be used today in both India (`Asia/Kolkata`) and Sri Lanka (`Asia/Colombo`). Those two time zones may have different rules for different anomalies in their past, present, or future.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Asia/Kolkata&quot; );\r\n    ZonedDateTime zdt = odt.atZoneSameInstant( z );\r\n\r\nThe `toString` method of `ZonedDateTime` extends standard ISO 8601 format in a wise way by appending the name of the time zone is square brackets. In this case, `[Asia/Kolkata]`.\r\n\r\n&gt;zdt.toString(): 2013-01-09T19:32:49.103+05:30[Asia/Kolkata]\r\n\r\n\r\n----------\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to java.time.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8) and [**SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - The [*ThreeTenABP*](https://github.com/JakeWharton/ThreeTenABP) project adapts ***ThreeTen-Backport*** (mentioned above) for Android specifically.\r\n  - See [*How to use…*](https://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: http://ideone.com/9Vet9I\r\n  [2]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\r\n  [4]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html#UTC\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#atOffset-java.time.ZoneOffset-\r\n  [7]: https://en.wikipedia.org/wiki/Daylight_saving_time","title":"How to Parse Date from GMT TimeZone to IST TimeZone and Vice Versa in android","body":"<h1>tl;dr</h1>\n\n<pre><code>OffsetDateTime.parse( \"2013-01-09T19:32:49.103+05:30\" )  // Parsed.\n              .toInstant()                               // Adjusted to UTC.\n</code></pre>\n\n<p>See <a href=\"http://ideone.com/9Vet9I\" rel=\"nofollow noreferrer\">live code in IdeOne.com</a>.</p>\n\n<h1>ISO 8601</h1>\n\n<p>Your input string of <code>2013-01-09T19:32:49.103+05:30</code> happen to be in standard ISO 8601 format. The <code>+05:30</code> at the end indicates an <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"nofollow noreferrer\">offset-from-UTC</a> of five and a half hours ahead, used in India.</p>\n\n<h1>java.time</h1>\n\n<p>You are using troublesome old date-time classes, now legacy, supplanted by the java.time classes.</p>\n\n<p>The java.time classes happen to use ISO 8601 formats by default when parsing/generating Strings representing date-time values. So no need to specify a formatting pattern at all.</p>\n\n<p>As your input represents a moment on the timeline with an offset-from-UTC, we parse as a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a> object.</p>\n\n<pre><code>OffsetDateTime odt = OffsetDateTime.parse( \"2013-01-09T19:32:49.103+05:30\" );\n</code></pre>\n\n<blockquote>\n  <p>odt.toString(): 2013-01-09T19:32:49.103+05:30</p>\n</blockquote>\n\n<p>To obtain a simple object in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a> value, extract an <code>Instant</code>. This <code>Instant</code> class is a basic building-block class of java.time. The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> class represents a moment on the timeline in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a> with a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow noreferrer\">nanoseconds</a> (up to nine (9) digits of a decimal fraction). </p>\n\n<p>You can think of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a> as an <code>Instant</code> plus a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html\" rel=\"nofollow noreferrer\"><code>ZoneOffset</code></a>. </p>\n\n<pre><code>Instant instant = odt.toInstant();  // UTC.\n</code></pre>\n\n<p>When calling <code>toString</code>, a <code>String</code> object is generated in standard ISO 8601 format. The <code>Z</code> on the end is short for <code>Zulu</code> and means UTC.</p>\n\n<blockquote>\n  <p>instant.toString(): 2013-01-09T14:02:49.103Z</p>\n</blockquote>\n\n<p>An <code>Instant</code> is limited in various ways such as when generating Strings in various formats. So you may want to work with an <code>OffsetDateTime</code> adjusted into <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a> as its offset; an offset-of-zero, in other words. The <code>ZoneOffset</code> class holds a constant for UTC, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html#UTC\" rel=\"nofollow noreferrer\"><code>ZoneOffset.UTC</code></a>.</p>\n\n<pre><code>OffsetDateTime odtUtc = odt.withOffsetSameInstant( ZoneOffset.UTC );\n</code></pre>\n\n<p>You can also apply an offset (or time zone) to an <code>Instant</code>. Call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#atOffset-java.time.ZoneOffset-\" rel=\"nofollow noreferrer\"><code>atOffset</code></a> or <code>atZone</code>.</p>\n\n<p>The <code>Instant</code> class is the basic building-block class of java.time. Likely to be used often in your code as best practice is to do most of your work in UTC. </p>\n\n<pre><code>OffsetDateTime odt = instant.atOffset( ZoneOffset.ofHoursMinutes( 5 , 30 ) );\n</code></pre>\n\n<h1>Time zone</h1>\n\n<p>Note that an offset-from-UTC is <em>not</em> a time zone. A time zone is an offset <em>plus</em> a set of rules, past and present, for handling anomalies such as <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"nofollow noreferrer\">Daylight Saving Time (DST)</a>. So a time zone is always preferable to a mere offset if you are indeed sure of the correct zone.</p>\n\n<p>Specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" rel=\"nofollow noreferrer\">proper time zone name</a> in the format of <code>continent/region</code>, such as <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"nofollow noreferrer\"><code>America/Montreal</code></a>, <a href=\"https://en.wikipedia.org/wiki/Africa/Casablanca\" rel=\"nofollow noreferrer\"><code>Africa/Casablanca</code></a>, or <code>Pacific/Auckland</code>. Never use the 3-4 letter abbreviation such as <code>EST</code> or <code>IST</code> as they are <em>not</em> true time zones, not standardized, and not even unique(!). </p>\n\n<p>If you know the intended time zone, apply a <code>ZoneId</code> to get a <code>ZonedDateTime</code> object. But never assume without verifying with the source of your input data. Many different zones may share a particular offset. For example, in the case of our input here, the offset <code>+05:30</code> happens to be used today in both India (<code>Asia/Kolkata</code>) and Sri Lanka (<code>Asia/Colombo</code>). Those two time zones may have different rules for different anomalies in their past, present, or future.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"Asia/Kolkata\" );\nZonedDateTime zdt = odt.atZoneSameInstant( z );\n</code></pre>\n\n<p>The <code>toString</code> method of <code>ZonedDateTime</code> extends standard ISO 8601 format in a wise way by appending the name of the time zone is square brackets. In this case, <code>[Asia/Kolkata]</code>.</p>\n\n<blockquote>\n  <p>zdt.toString(): 2013-01-09T19:32:49.103+05:30[Asia/Kolkata]</p>\n</blockquote>\n\n<hr>\n\n<h1>About java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to java.time.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>SE 9</strong></a> and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>The <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em>ThreeTenABP</em></a> project adapts <strong><em>ThreeTen-Backport</em></strong> (mentioned above) for Android specifically.</li>\n<li>See <a href=\"https://stackoverflow.com/q/38922754/642706\"><em>How to use…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"}],"owner":{"account_id":1968357,"reputation":982,"user_id":1768001,"accept_rate":53,"display_name":"Amritpal Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78243,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":14314481,"answer_count":4,"score":15,"last_activity_date":1633604650,"creation_date":1358146913,"question_id":14314426,"body_markdown":"I am working on a project that fetches Date/Time from backend in `IST`(Indian standard Time) as shown `&quot;2013-01-09T19:32:49.103+05:30&quot;`. However when i parse it using following DateFormat \r\n\r\n\r\n    DateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;);\r\n\r\nfollowed by parsing..\r\n\r\n\r\n    Date date = sdf.parse(&quot;2013-01-09T19:32:49.103+05:30&quot;);\r\n\r\n\r\n    System.out.println(&quot;XYZ ==============&gt;&quot;+date);\r\n\r\nits Displaying date in GMT format as output i.e\r\n\r\n\r\n    Wed Jan 09 14:02:49 GMT+00:00 2013.\r\n\r\nI have tried it using TimeZone class as..\r\n\r\n    TimeZone timeZone=TimeZone.getTimeZone(&quot;IST&quot;);\r\n    sdf.setTimeZone(timeZone);\r\n\r\nbut no effect..\r\n\r\nHow could i get a `Date` class Object having Date in `IST` format instead of GMT...\r\n\r\nPlease provide an appropriate solution..\r\n\r\n\r\n**EDIT:**\r\n\r\nThis is how Code Looks Like:\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;);\r\n    \r\n    TimeZone timeZone=TimeZone.getTimeZone(&quot;IST&quot;);\r\n    sdf.setTimeZone(timeZone);\r\n    \t\t\t\t\t\r\n    Date date = sdf.parse(&quot;2013-01-09T19:32:49.103+05:30&quot;);\r\n    String formattedDate=sdf.format(date);\r\n    \t\t\t\t\t\r\n    System.out.println(&quot;XYZ ==============&gt;&quot;+formattedDate);\r\n\r\n\r\n","title":"How to Parse Date from GMT TimeZone to IST TimeZone and Vice Versa in android","body":"<p>I am working on a project that fetches Date/Time from backend in <code>IST</code>(Indian standard Time) as shown <code>\"2013-01-09T19:32:49.103+05:30\"</code>. However when i parse it using following DateFormat </p>\n\n<pre><code>DateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\");\n</code></pre>\n\n<p>followed by parsing..</p>\n\n<pre><code>Date date = sdf.parse(\"2013-01-09T19:32:49.103+05:30\");\n\n\nSystem.out.println(\"XYZ ==============&gt;\"+date);\n</code></pre>\n\n<p>its Displaying date in GMT format as output i.e</p>\n\n<pre><code>Wed Jan 09 14:02:49 GMT+00:00 2013.\n</code></pre>\n\n<p>I have tried it using TimeZone class as..</p>\n\n<pre><code>TimeZone timeZone=TimeZone.getTimeZone(\"IST\");\nsdf.setTimeZone(timeZone);\n</code></pre>\n\n<p>but no effect..</p>\n\n<p>How could i get a <code>Date</code> class Object having Date in <code>IST</code> format instead of GMT...</p>\n\n<p>Please provide an appropriate solution..</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>This is how Code Looks Like:</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\");\n\nTimeZone timeZone=TimeZone.getTimeZone(\"IST\");\nsdf.setTimeZone(timeZone);\n\nDate date = sdf.parse(\"2013-01-09T19:32:49.103+05:30\");\nString formattedDate=sdf.format(date);\n\nSystem.out.println(\"XYZ ==============&gt;\"+formattedDate);\n</code></pre>\n"},{"tags":["java","verification","one-time-password"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1633589565,"post_id":69476589,"comment_id":122800808,"body_markdown":"`oTpFromImput.equals(oTp(8))` what does `oTp(8)` return?","body":"<code>oTpFromImput.equals(oTp(8))</code> what does <code>oTp(8)</code> return?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1633590760,"post_id":69476589,"comment_id":122801194,"body_markdown":"Please [edit] that into your question, don&#39;t use comments for long pieces of code.","body":"Please <a href=\"https://stackoverflow.com/posts/69476589/edit\">edit</a> that into your question, don&#39;t use comments for long pieces of code."},{"owner":{"account_id":22745561,"reputation":1,"user_id":16906397,"display_name":"Geri Glazer"},"score":0,"creation_date":1633590868,"post_id":69476589,"comment_id":122801237,"body_markdown":"you are right please look updated code","body":"you are right please look updated code"},{"owner":{"account_id":1478725,"reputation":1728,"user_id":1388513,"accept_rate":57,"display_name":"Ravi Kumar Gupta"},"score":0,"creation_date":1633591080,"post_id":69476589,"comment_id":122801324,"body_markdown":"If you&#39;re trying equals, you should try Array.equals(arr1, arr2)","body":"If you&#39;re trying equals, you should try Array.equals(arr1, arr2)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1633591301,"post_id":69476589,"comment_id":122801397,"body_markdown":"`isPasswordCorrect=false` should be `isPasswordCorrect == false` or (better) `!isPasswordCorrect`.  The `=` operator is **assignment**.","body":"<code>isPasswordCorrect=false</code> should be <code>isPasswordCorrect == false</code> or (better) <code>!isPasswordCorrect</code>.  The <code>=</code> operator is <b>assignment</b>."},{"owner":{"account_id":22745561,"reputation":1,"user_id":16906397,"display_name":"Geri Glazer"},"score":0,"creation_date":1633591960,"post_id":69476589,"comment_id":122801634,"body_markdown":"when changing to `!isPasswordCorrect` there is a syntax error:  assert expected before this token","body":"when changing to <code>!isPasswordCorrect</code> there is a syntax error:  assert expected before this token"}],"answers":[{"tags":[],"owner":{"account_id":14262450,"reputation":6108,"user_id":10302746,"display_name":"Lev M."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633591236,"creation_date":1633591236,"answer_id":69476953,"question_id":69476589,"body_markdown":"It seems you built a guessing game, not an OTP verification code.\r\n\r\nYou first read the OTP from user, and only then randomly generate one to copare to it.\r\n\r\nBasically, you code expects the user to guess a random 8 character password that has not been created you, which is basically impossible...\r\n\r\nYou need to generate to OTP first, show it to the user, then ask them to input it.","title":"How to verify OTP in Java using simple loop?","body":"<p>It seems you built a guessing game, not an OTP verification code.</p>\n<p>You first read the OTP from user, and only then randomly generate one to copare to it.</p>\n<p>Basically, you code expects the user to guess a random 8 character password that has not been created you, which is basically impossible...</p>\n<p>You need to generate to OTP first, show it to the user, then ask them to input it.</p>\n"},{"tags":[],"owner":{"account_id":12595970,"reputation":9,"user_id":17094579,"display_name":"xPeter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633592693,"creation_date":1633592693,"answer_id":69477253,"question_id":69476589,"body_markdown":"I see your logic code is generate OTP code after User input. It seem so wierd bro.\r\n\r\nWhenever you call `oTp(8)` function will generate new OTP.\r\n\r\nUse should generate OTP first then store somewhere, then User input and compare it.","title":"How to verify OTP in Java using simple loop?","body":"<p>I see your logic code is generate OTP code after User input. It seem so wierd bro.</p>\n<p>Whenever you call <code>oTp(8)</code> function will generate new OTP.</p>\n<p>Use should generate OTP first then store somewhere, then User input and compare it.</p>\n"},{"tags":[],"owner":{"account_id":18544976,"reputation":241,"user_id":13512579,"display_name":"Navneet Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633593399,"creation_date":1633593399,"answer_id":69477406,"question_id":69476589,"body_markdown":"You need to store the generated otp somewhere. Then compare it with the input otp. Right now you are comparing it with the otp(8). And otp(8) always returns a new otp.","title":"How to verify OTP in Java using simple loop?","body":"<p>You need to store the generated otp somewhere. Then compare it with the input otp. Right now you are comparing it with the otp(8). And otp(8) always returns a new otp.</p>\n"}],"owner":{"account_id":22745561,"reputation":1,"user_id":16906397,"display_name":"Geri Glazer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2940,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1633604574,"creation_date":1633589413,"question_id":69476589,"body_markdown":"I&#39;m a Java beginner and my project consists of creating a simple program to register users for an alumni center. The process creates an ID and then provides the new user with an *OTP*. Next is the login (Enter ID:, Enter OTP: ).\r\n\r\nMy *OTP* verification method is not working. It seems to be a problem with the IF.equals declaration, the process jumps straight to the ELSE condition.\r\n\r\nAny suggestions why?\r\n\r\nHere is my code:\r\n```\r\nclass Main {\r\n\tstatic NewRegandLogin newRegAndLogin = new NewRegandLogin(null, null, null, null, null, null);\r\n\tstatic ArrayList&lt;NewRegandLogin&gt; loginInformation = new ArrayList&lt;&gt;();\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tSystem.out.println(&quot;        WELCOME TO THE ALUMNI SHE-CODES SYSTEM        &quot;);\r\n\t\tSystem.out.println(&quot;_________________________________\\n   - New Alumni registration - \\n&quot;);\r\n\t\tSystem.out.println(&quot;&quot;);\r\n\t\tnewRegAndLogin.registerNewGrad();\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;_________________________________&quot;);\r\n\t\tSystem.out.println();\t\r\n\t\tSystem.out.println(&quot;Your new Alumni ID is: &quot;  + newRegAndLogin.getAlumniId());\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;Your temporary password is:&quot;);\r\n\t\tSystem.out.println(newRegAndLogin.oTp(8));\r\n\t\tloginInformation.add(newRegAndLogin);\r\n\t\tSystem.out.println(&quot;_________________________________&quot;);\r\n\t\tSystem.out.println(&quot;_________________________________\\n   - Alumni Login - \\n&quot;);\r\n\t\tSystem.out.println(&quot;&quot;);\r\n\t\tnewRegAndLogin.login();\r\n\t\tSystem.out.println(&quot;&quot;);\t\r\n\t\tSystem.out.println(&quot;Please make a list of completed Courses: --&gt;Enter &#39;S&#39; to stop adding courses&lt;--&quot;);\r\n\t\tnewRegAndLogin.setAlumniCourses();\r\n\t\tSystem.out.println(&quot;_________________________________&quot;);\r\n\t\tnewRegAndLogin.setLinkedInPage();\r\n\t\tloginInformation.add(newRegAndLogin);\r\n\t\t//printAlumniProfile();\r\n\t\tSystem.out.println(&quot;_________________________________&quot;);\r\n\t\tnewRegAndLogin.jobOffer();\r\n\t\t}\r\n```\r\n```\r\nvoid login() {\r\n    System.out.print(&quot;ID: &quot;);\r\n\talumniIdImput = scanner.nextLine();\r\n\tidVerification();\r\n\tdo {\r\n\t\tSystem.out.println(&quot;Password (OTP if logging in for the first time): &quot;);\r\n\t\tpasswordImput = scanner.nextLine();\r\n\t\toTpFromImput = passwordImput.toCharArray();\r\n\t\toTpVerification();\r\n\t} while (isPasswordCorrect=false);\r\n\r\nvoid oTpVerification() {\r\n\tisPasswordCorrect = false;\r\n\tif (oTpFromImput.equals(oTp(8))) {\r\n\t\tisPasswordCorrect = true;\r\n\t\tSystem.out.println(&quot;Logging In.....&quot;);\r\n\t}else {\r\n\t\tisPasswordCorrect = false;\r\n\t\tSystem.out.println(&quot;Incorrect password.\\nPlease enter valid password: 8 alpha numeric \r\n                               characters(Aa,123,@,#,$,%)&quot;);\r\n\t}\t\r\n}\r\n```\r\nThis is the oTp method\r\n\r\n```\r\nchar[] oTp (int length) {\t\t\r\n\t\tString capitalChars = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n\t\tString smallChars = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n\t\tString numbers = &quot;0123456789&quot;;\r\n\t\tString symbols = &quot;!@#$%^&amp;*_-=+/.?&lt;&gt;&quot;;\r\n\t\t\t\t\r\n\t\tString values = capitalChars + smallChars + numbers + symbols;\r\n\t\t\t\t\r\n\t\tRandom oneTimePassword = new Random();\r\n\t\tchar[] password = new char[length];\r\n\t\t\t\t\r\n\t\tfor(int i = 0; i&lt;length;i++) {\r\n\t\t\tpassword[i] = values.charAt(oneTimePassword.nextInt(values.length()));\r\n\t\t}\r\n\t\treturn password;\r\n\t}\r\n```","title":"How to verify OTP in Java using simple loop?","body":"<p>I'm a Java beginner and my project consists of creating a simple program to register users for an alumni center. The process creates an ID and then provides the new user with an <em>OTP</em>. Next is the login (Enter ID:, Enter OTP: ).</p>\n<p>My <em>OTP</em> verification method is not working. It seems to be a problem with the IF.equals declaration, the process jumps straight to the ELSE condition.</p>\n<p>Any suggestions why?</p>\n<p>Here is my code:</p>\n<pre><code>class Main {\n    static NewRegandLogin newRegAndLogin = new NewRegandLogin(null, null, null, null, null, null);\n    static ArrayList&lt;NewRegandLogin&gt; loginInformation = new ArrayList&lt;&gt;();\n    public static void main(String[] args) {\n\n        System.out.println(&quot;        WELCOME TO THE ALUMNI SHE-CODES SYSTEM        &quot;);\n        System.out.println(&quot;_________________________________\\n   - New Alumni registration - \\n&quot;);\n        System.out.println(&quot;&quot;);\n        newRegAndLogin.registerNewGrad();\n        System.out.println();\n        System.out.println(&quot;_________________________________&quot;);\n        System.out.println();   \n        System.out.println(&quot;Your new Alumni ID is: &quot;  + newRegAndLogin.getAlumniId());\n        System.out.println();\n        System.out.println(&quot;Your temporary password is:&quot;);\n        System.out.println(newRegAndLogin.oTp(8));\n        loginInformation.add(newRegAndLogin);\n        System.out.println(&quot;_________________________________&quot;);\n        System.out.println(&quot;_________________________________\\n   - Alumni Login - \\n&quot;);\n        System.out.println(&quot;&quot;);\n        newRegAndLogin.login();\n        System.out.println(&quot;&quot;); \n        System.out.println(&quot;Please make a list of completed Courses: --&gt;Enter 'S' to stop adding courses&lt;--&quot;);\n        newRegAndLogin.setAlumniCourses();\n        System.out.println(&quot;_________________________________&quot;);\n        newRegAndLogin.setLinkedInPage();\n        loginInformation.add(newRegAndLogin);\n        //printAlumniProfile();\n        System.out.println(&quot;_________________________________&quot;);\n        newRegAndLogin.jobOffer();\n        }\n</code></pre>\n<pre><code>void login() {\n    System.out.print(&quot;ID: &quot;);\n    alumniIdImput = scanner.nextLine();\n    idVerification();\n    do {\n        System.out.println(&quot;Password (OTP if logging in for the first time): &quot;);\n        passwordImput = scanner.nextLine();\n        oTpFromImput = passwordImput.toCharArray();\n        oTpVerification();\n    } while (isPasswordCorrect=false);\n\nvoid oTpVerification() {\n    isPasswordCorrect = false;\n    if (oTpFromImput.equals(oTp(8))) {\n        isPasswordCorrect = true;\n        System.out.println(&quot;Logging In.....&quot;);\n    }else {\n        isPasswordCorrect = false;\n        System.out.println(&quot;Incorrect password.\\nPlease enter valid password: 8 alpha numeric \n                               characters(Aa,123,@,#,$,%)&quot;);\n    }   \n}\n</code></pre>\n<p>This is the oTp method</p>\n<pre><code>char[] oTp (int length) {       \n        String capitalChars = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n        String smallChars = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\n        String numbers = &quot;0123456789&quot;;\n        String symbols = &quot;!@#$%^&amp;*_-=+/.?&lt;&gt;&quot;;\n                \n        String values = capitalChars + smallChars + numbers + symbols;\n                \n        Random oneTimePassword = new Random();\n        char[] password = new char[length];\n                \n        for(int i = 0; i&lt;length;i++) {\n            password[i] = values.charAt(oneTimePassword.nextInt(values.length()));\n        }\n        return password;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633604540,"creation_date":1633604540,"answer_id":69479970,"question_id":69478693,"body_markdown":"Your Maven configuration is packaging your multi-release classes in the root of the jar. This means that they&#39;re loaded by the system class loader. The system class loader cannot see any of the dependencies packaged in `BOOT-INF/lib` so `SpringApplication` cannot be loaded.\r\n\r\nYou need to configure your app to package the multi-release classes beneath `BOOT-INF/classes`. One way to do that is to configure the compile task&#39;s output directory:\r\n\r\n```\r\n&lt;execution&gt;\r\n    &lt;id&gt;compile-java-11&lt;/id&gt;\r\n    &lt;phase&gt;compile&lt;/phase&gt;\r\n    &lt;goals&gt;\r\n        &lt;goal&gt;compile&lt;/goal&gt;\r\n    &lt;/goals&gt;\r\n    &lt;configuration&gt;\r\n        &lt;release&gt;11&lt;/release&gt;\r\n        &lt;compileSourceRoots&gt;\r\n            &lt;compileSourceRoot&gt;${project.basedir}/src/main/java&lt;/compileSourceRoot&gt;\r\n        &lt;/compileSourceRoots&gt;\r\n        &lt;outputDirectory&gt;${project.build.outputDirectory}/BOOT-INF/classes/&lt;/outputDirectory&gt;\r\n        &lt;multiReleaseOutput&gt;true&lt;/multiReleaseOutput&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/execution&gt;\r\n```\r\n\r\nIf you do a clean build after making this change, the Java 11-specific class will now be packaged beneath `BOOT-INF/classes/META-INF/versions/11/`. As a result, it&#39;ll be loaded by Spring Boot&#39;s class loader and will be able to access classes from the jars packaged in `BOOT-INF/lib`.\r\n\r\nThis feels like something that Spring Boot&#39;s Maven plugin should take care of for you. I&#39;ve opened https://github.com/spring-projects/spring-boot/issues/28234.","title":"ClassNotFoundException while running spring boot multi release jar with java 11","body":"<p>Your Maven configuration is packaging your multi-release classes in the root of the jar. This means that they're loaded by the system class loader. The system class loader cannot see any of the dependencies packaged in <code>BOOT-INF/lib</code> so <code>SpringApplication</code> cannot be loaded.</p>\n<p>You need to configure your app to package the multi-release classes beneath <code>BOOT-INF/classes</code>. One way to do that is to configure the compile task's output directory:</p>\n<pre><code>&lt;execution&gt;\n    &lt;id&gt;compile-java-11&lt;/id&gt;\n    &lt;phase&gt;compile&lt;/phase&gt;\n    &lt;goals&gt;\n        &lt;goal&gt;compile&lt;/goal&gt;\n    &lt;/goals&gt;\n    &lt;configuration&gt;\n        &lt;release&gt;11&lt;/release&gt;\n        &lt;compileSourceRoots&gt;\n            &lt;compileSourceRoot&gt;${project.basedir}/src/main/java&lt;/compileSourceRoot&gt;\n        &lt;/compileSourceRoots&gt;\n        &lt;outputDirectory&gt;${project.build.outputDirectory}/BOOT-INF/classes/&lt;/outputDirectory&gt;\n        &lt;multiReleaseOutput&gt;true&lt;/multiReleaseOutput&gt;\n    &lt;/configuration&gt;\n&lt;/execution&gt;\n</code></pre>\n<p>If you do a clean build after making this change, the Java 11-specific class will now be packaged beneath <code>BOOT-INF/classes/META-INF/versions/11/</code>. As a result, it'll be loaded by Spring Boot's class loader and will be able to access classes from the jars packaged in <code>BOOT-INF/lib</code>.</p>\n<p>This feels like something that Spring Boot's Maven plugin should take care of for you. I've opened <a href=\"https://github.com/spring-projects/spring-boot/issues/28234\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/28234</a>.</p>\n"}],"owner":{"account_id":12492126,"reputation":65,"user_id":9093334,"display_name":"utkarsh jha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69479970,"answer_count":1,"score":3,"last_activity_date":1633604540,"creation_date":1633598870,"question_id":69478693,"body_markdown":"While trying to run the spring boot application (with multi release jar) against different versions of java [java 8 (default)  and java 11]\r\n\r\nThe project is running fine when ran with Java 8. However, upon running the application with java 11 getting ClassNotFoundException\r\n\r\n\r\nThe Project Structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\npom.xml\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; \r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;start.class&gt;com.example.demo.DemoApplication&lt;/start.class&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.inq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;touchsocial-stress-testing&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0-SNAPSHOT&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;toolchains&gt;\r\n\t\t\t\t\t\t&lt;jdk&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;zulu-11&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/jdk&gt;\r\n\t\t\t\t\t&lt;/toolchains&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;toolchain&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;default-compile&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;release&gt;8&lt;/release&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;compile-java-11&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;release&gt;11&lt;/release&gt;\r\n\t\t\t\t\t\t\t&lt;compileSourceRoots&gt;\r\n\t\t\t\t\t\t\t\t&lt;compileSourceRoot&gt;${project.basedir}/src/main/java&lt;/compileSourceRoot&gt;\r\n\t\t\t\t\t\t\t&lt;/compileSourceRoots&gt;\r\n\t\t\t\t\t\t\t&lt;multiReleaseOutput&gt;true&lt;/multiReleaseOutput&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;manifestEntries&gt;\r\n\t\t\t\t\t\t\t&lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\r\n\t\t\t\t\t\t&lt;/manifestEntries&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;mainClass&gt;${start.class}&lt;/mainClass&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nafter adding the \\&lt;start-class\\&gt; mentioned in [this answer][2] the build is successful\r\n\r\nBut, on Running the jar on java 11 getting ClassNotFoundException\r\n\r\n[![enter image description here][3]][3]\r\n\r\nfor java 8 (java_home), everything seems fine\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n\r\n*Note: For POC purpose the contents of both the DemoApplication.java is exactly the same*\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6cv31.png\r\n  [2]: https://stackoverflow.com/a/69409550/9093334\r\n  [3]: https://i.stack.imgur.com/J8pIj.png\r\n  [4]: https://i.stack.imgur.com/59DRt.png","title":"ClassNotFoundException while running spring boot multi release jar with java 11","body":"<p>While trying to run the spring boot application (with multi release jar) against different versions of java [java 8 (default)  and java 11]</p>\n<p>The project is running fine when ran with Java 8. However, upon running the application with java 11 getting ClassNotFoundException</p>\n<p>The Project Structure:</p>\n<p><a href=\"https://i.stack.imgur.com/6cv31.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6cv31.png\" alt=\"enter image description here\" /></a></p>\n<p>pom.xml</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.5&lt;/version&gt;\n    &lt;relativePath/&gt; \n&lt;/parent&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;demo&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;demo&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;start.class&gt;com.example.demo.DemoApplication&lt;/start.class&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.inq&lt;/groupId&gt;\n        &lt;artifactId&gt;touchsocial-stress-testing&lt;/artifactId&gt;\n        &lt;version&gt;4.0-SNAPSHOT&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;toolchains&gt;\n                    &lt;jdk&gt;\n                        &lt;version&gt;zulu-11&lt;/version&gt;\n                    &lt;/jdk&gt;\n                &lt;/toolchains&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;toolchain&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-compile&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;release&gt;8&lt;/release&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;compile-java-11&lt;/id&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;release&gt;11&lt;/release&gt;\n                        &lt;compileSourceRoots&gt;\n                            &lt;compileSourceRoot&gt;${project.basedir}/src/main/java&lt;/compileSourceRoot&gt;\n                        &lt;/compileSourceRoots&gt;\n                        &lt;multiReleaseOutput&gt;true&lt;/multiReleaseOutput&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifestEntries&gt;\n                        &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\n                    &lt;/manifestEntries&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;${start.class}&lt;/mainClass&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>after adding the &lt;start-class&gt; mentioned in <a href=\"https://stackoverflow.com/a/69409550/9093334\">this answer</a> the build is successful</p>\n<p>But, on Running the jar on java 11 getting ClassNotFoundException</p>\n<p><a href=\"https://i.stack.imgur.com/J8pIj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J8pIj.png\" alt=\"enter image description here\" /></a></p>\n<p>for java 8 (java_home), everything seems fine</p>\n<p><a href=\"https://i.stack.imgur.com/59DRt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/59DRt.png\" alt=\"enter image description here\" /></a></p>\n<p><em>Note: For POC purpose the contents of both the DemoApplication.java is exactly the same</em></p>\n"},{"tags":["java","logging","log4j","google-kubernetes-engine"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1633353010,"post_id":69435830,"comment_id":122729410,"body_markdown":"How specifically didn&#39;t it work?  Is the problem that it is not doing proper JSON quoting?","body":"How specifically didn&#39;t it work?  Is the problem that it is not doing proper JSON quoting?"},{"owner":{"account_id":19327118,"reputation":31,"user_id":14129527,"display_name":"ss2712"},"score":0,"creation_date":1633372695,"post_id":69435830,"comment_id":122737639,"body_markdown":"yes logs were still plain tetx lines not json format","body":"yes logs were still plain tetx lines not json format"}],"answers":[{"tags":[],"owner":{"account_id":21378870,"reputation":888,"user_id":15745126,"display_name":"Goli Nikitha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633414131,"creation_date":1633414131,"answer_id":69445587,"question_id":69435830,"body_markdown":"If you are using Google Cloud Platform then there is a direct way to get the logs in JSON format:\r\n\r\n 1. Go to Navigation menu in console and select Cloud Logging.\r\n 2. In Cloud Logging, We have  Query results getting displayed. In Query\r\n    results, there is a button called Actions with a down arrow.\r\n 3. Click the down arrow then we get some options, Select Download logs.\r\n 4. We get a popup there, In the format select JSON and click Download.\r\n 5. If you want more logs to be converted to JSON format check [Exporting\r\n    logs][1].\r\n 6. To get logs in a particular time frame, Click on the last 7 days\r\n    icon on the top right side in the console and select the custom time\r\n    range.\r\n\r\n**NOTE**:If you are not using GCP\r\n\r\nPlease have a look at this [similar issue.][2]\r\n\r\n\r\n  [1]: https://cloud.google.com/logging/docs/routing/overview\r\n  [2]: https://stackoverflow.com/questions/29387007/does-log4j-support-json-format","title":"Json logs using log4j","body":"<p>If you are using Google Cloud Platform then there is a direct way to get the logs in JSON format:</p>\n<ol>\n<li>Go to Navigation menu in console and select Cloud Logging.</li>\n<li>In Cloud Logging, We have  Query results getting displayed. In Query\nresults, there is a button called Actions with a down arrow.</li>\n<li>Click the down arrow then we get some options, Select Download logs.</li>\n<li>We get a popup there, In the format select JSON and click Download.</li>\n<li>If you want more logs to be converted to JSON format check <a href=\"https://cloud.google.com/logging/docs/routing/overview\" rel=\"nofollow noreferrer\">Exporting\nlogs</a>.</li>\n<li>To get logs in a particular time frame, Click on the last 7 days\nicon on the top right side in the console and select the custom time\nrange.</li>\n</ol>\n<p><strong>NOTE</strong>:If you are not using GCP</p>\n<p>Please have a look at this <a href=\"https://stackoverflow.com/questions/29387007/does-log4j-support-json-format\">similar issue.</a></p>\n"}],"owner":{"account_id":19327118,"reputation":31,"user_id":14129527,"display_name":"ss2712"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633604176,"creation_date":1633349723,"question_id":69435830,"body_markdown":"Hi am trying to convert my plaintext logs to json format. I used log4j for logging framework in the application.\r\nI tried this cofiguration in log4j.properities\r\n```\r\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.stdout.encoding=UTF-8\r\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.stdout.layout.ConversionPattern={&quot;debug_level&quot;:&quot;%p&quot;,&quot;debug_timestamp&quot;:&quot;%d{ISO8601}&quot;,&quot;debug_thread&quot;:&quot;%t&quot;,&quot;debug_file&quot;:&quot;%F&quot;, &quot;debug_line&quot;:&quot;%L&quot;,&quot;debug_message&quot;:&quot;%m&quot;}%n\r\n```\r\n\r\nBut it didn&#39;t worked.\r\n\r\nCan anyone help how can I use json template in log4j\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PfNv1.png","title":"Json logs using log4j","body":"<p>Hi am trying to convert my plaintext logs to json format. I used log4j for logging framework in the application.\nI tried this cofiguration in log4j.properities</p>\n<pre><code>log4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.encoding=UTF-8\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern={&quot;debug_level&quot;:&quot;%p&quot;,&quot;debug_timestamp&quot;:&quot;%d{ISO8601}&quot;,&quot;debug_thread&quot;:&quot;%t&quot;,&quot;debug_file&quot;:&quot;%F&quot;, &quot;debug_line&quot;:&quot;%L&quot;,&quot;debug_message&quot;:&quot;%m&quot;}%n\n</code></pre>\n<p>But it didn't worked.</p>\n<p>Can anyone help how can I use json template in log4j</p>\n<p><a href=\"https://i.stack.imgur.com/PfNv1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PfNv1.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1633603166,"post_id":69478917,"comment_id":122806373,"body_markdown":"Can you update your question with some information about why you want to make this change? Are you moving from Spring Boot to plain Spring Framework or is there another reason for not using `@SpringBootTest` any more?","body":"Can you update your question with some information about why you want to make this change? Are you moving from Spring Boot to plain Spring Framework or is there another reason for not using <code>@SpringBootTest</code> any more?"},{"owner":{"account_id":12898501,"reputation":590,"user_id":9328115,"display_name":"Yuri Molodyko"},"score":0,"creation_date":1633603809,"post_id":69478917,"comment_id":122806593,"body_markdown":"I do it, because if i use SpringBootTest + ContextConfiguration create conflict, so this is reason why i want to replace SpringBootTest","body":"I do it, because if i use SpringBootTest + ContextConfiguration create conflict, so this is reason why i want to replace SpringBootTest"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1633604592,"post_id":69478917,"comment_id":122806887,"body_markdown":"If you&#39;re still using Spring Boot, I think you&#39;d be better addressing that conflict rather than ditching `@SpringBootTest`.","body":"If you&#39;re still using Spring Boot, I think you&#39;d be better addressing that conflict rather than ditching <code>@SpringBootTest</code>."}],"answers":[{"tags":[],"owner":{"account_id":384931,"reputation":1111,"user_id":741765,"display_name":"tsachev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633600253,"creation_date":1633600253,"answer_id":69479053,"question_id":69478917,"body_markdown":"It really depends on what you are trying to achieve.\r\nBut one of the effects of using `SpringBootTest.WebEnviroment.RANDOM_PORT` is to actually set the property `server.port` to 0.\r\n","title":"How to replace @SpringBootTest on @ContextConfiguration (Java Spring)?","body":"<p>It really depends on what you are trying to achieve.\nBut one of the effects of using <code>SpringBootTest.WebEnviroment.RANDOM_PORT</code> is to actually set the property <code>server.port</code> to 0.</p>\n"}],"owner":{"account_id":12898501,"reputation":590,"user_id":9328115,"display_name":"Yuri Molodyko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633604035,"creation_date":1633599718,"question_id":69478917,"body_markdown":"I have the test class, with @SpringBootTest:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringBootTest(webEnviroment = SpringBootTest.WebEnviroment.RANDOM_PORT, classes = App.class)\r\n    public class MyTest {\r\n    ...\r\n    }\r\nI need to replace @SpringBootTest, on @ContextConfiguration, and i do it:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = &quot;my.xml&quot;, initializers = MyTest.MockJee.class)\r\n    public class MyTest {\r\n    ...\r\n    }\r\nBut @SpringBootTest has parameter, which @ContextConfigruration hasn&#39;t:\r\n\r\n    webEnviroment = SpringBootTest.WebEnviroment.RANDOM_PORT\r\nSo if i can join @SpringBootTest and @ContextConfiguration, it will be nice. But SpringBootTest + ContextConfiguration create conflict (they create context both), so this is reason why i want to replace SpringBootTest.\r\nQuestion: How to make like this:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = &quot;my.xml&quot;, initializers = MyTest.MockJee.class, webEnviroment = SpringBootTest.WebEnviroment.RANDOM_PORT)\r\n    public class MyTest {\r\n    ...\r\n    }","title":"How to replace @SpringBootTest on @ContextConfiguration (Java Spring)?","body":"<p>I have the test class, with @SpringBootTest:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringBootTest(webEnviroment = SpringBootTest.WebEnviroment.RANDOM_PORT, classes = App.class)\npublic class MyTest {\n...\n}\n</code></pre>\n<p>I need to replace @SpringBootTest, on @ContextConfiguration, and i do it:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = &quot;my.xml&quot;, initializers = MyTest.MockJee.class)\npublic class MyTest {\n...\n}\n</code></pre>\n<p>But @SpringBootTest has parameter, which @ContextConfigruration hasn't:</p>\n<pre><code>webEnviroment = SpringBootTest.WebEnviroment.RANDOM_PORT\n</code></pre>\n<p>So if i can join @SpringBootTest and @ContextConfiguration, it will be nice. But SpringBootTest + ContextConfiguration create conflict (they create context both), so this is reason why i want to replace SpringBootTest.\nQuestion: How to make like this:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = &quot;my.xml&quot;, initializers = MyTest.MockJee.class, webEnviroment = SpringBootTest.WebEnviroment.RANDOM_PORT)\npublic class MyTest {\n...\n}\n</code></pre>\n"},{"tags":["java","java.util.scanner","txt"],"comments":[{"owner":{"account_id":6802147,"reputation":1168,"user_id":5952575,"display_name":"ant"},"score":2,"creation_date":1633553834,"post_id":69472529,"comment_id":122793746,"body_markdown":"The Scanner class has a [`useDelimiter`](https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#useDelimiter-java.lang.String-) method that seems like it would be useful, here.","body":"The Scanner class has a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#useDelimiter-java.lang.String-\" rel=\"nofollow noreferrer\"><code>useDelimiter</code></a> method that seems like it would be useful, here."},{"owner":{"account_id":22266993,"reputation":897,"user_id":16497617,"display_name":"Maneesha Indrachapa"},"score":0,"creation_date":1633553836,"post_id":69472529,"comment_id":122793747,"body_markdown":"try with `BufferedReader` and this answers your question https://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java","body":"try with <code>BufferedReader</code> and this answers your question <a href=\"https://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java\" title=\"reading a plain text file in java\">stackoverflow.com/questions/4716503/&hellip;</a>"},{"owner":{"account_id":1060282,"reputation":1236,"user_id":3452058,"display_name":"Janos Vinceller"},"score":0,"creation_date":1633554232,"post_id":69472529,"comment_id":122793886,"body_markdown":"My recommendation: hook up a List instead of Array and every time you read in another line, you send that line into a method that splits it into numbers and add all those to the existing List. At the end of the day you&#39;ll get a full list of all the numbers. And if you only have one line so what?","body":"My recommendation: hook up a List instead of Array and every time you read in another line, you send that line into a method that splits it into numbers and add all those to the existing List. At the end of the day you&#39;ll get a full list of all the numbers. And if you only have one line so what?"},{"owner":{"account_id":17543200,"reputation":301,"user_id":12725011,"display_name":"bschellekens"},"score":1,"creation_date":1633554989,"post_id":69472529,"comment_id":122794098,"body_markdown":"The line &quot;String data = myReader.nextLine();&quot; reads the line, which means that on the next line, &quot;myReader.hasNextLine()&quot; will return false and the contents of your while loop never runs. Either change the former line to &quot;String data;&quot; or instantiate the String inside the loop.","body":"The line &quot;String data = myReader.nextLine();&quot; reads the line, which means that on the next line, &quot;myReader.hasNextLine()&quot; will return false and the contents of your while loop never runs. Either change the former line to &quot;String data;&quot; or instantiate the String inside the loop."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1633556808,"post_id":69472529,"comment_id":122794610,"body_markdown":"Do what bschellekens says and also instead of `System.out.print(values);` do `System.out.print(Arrays.toString(values));`","body":"Do what bschellekens says and also instead of <code>System.out.print(values);</code> do <code>System.out.print(Arrays.toString(values));</code>"}],"answers":[{"tags":[],"owner":{"account_id":1060282,"reputation":1236,"user_id":3452058,"display_name":"Janos Vinceller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633556002,"creation_date":1633555347,"answer_id":69472819,"question_id":69472529,"body_markdown":"I&#39;d do it something like this without too much error handling or complex stuff. This is tested with a one line cars.txt and a more than one line cars.txt. Have fun with it!\r\n\r\n    import java.io.File;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n\r\n    public class Main {\r\n        public static void main(String args[]) throws Exception {\r\n\r\n            File cars = new File(&quot;cars.txt&quot;);\r\n            List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\r\n\r\n            Scanner myReader = new Scanner(cars);\r\n\r\n            while (myReader.hasNextLine()) {\r\n                processLine(myReader.nextLine(), numbers);\r\n            }\r\n\r\n            myReader.close();\r\n\r\n            System.out.println(Arrays.deepToString(numbers.toArray()));\r\n        }\r\n\r\n        private static void processLine(String oneline, List&lt;Integer&gt; numbers) {\r\n            String values[] = oneline.split(&quot;,&quot;);\r\n            Arrays.stream(values).forEach((value) -&gt; numbers.add(Integer.parseInt(value.trim())));\r\n        }\r\n    }\r\n\r\nOr maybe for beginners this would be better to look at:\r\n\r\n    import java.io.File;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n\r\n    public class Main {\r\n        public static void main(String args[]) throws Exception {\r\n            File cars = new File(&quot;cars.txt&quot;);\r\n            List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\r\n\r\n            Scanner myReader = new Scanner(cars);\r\n\r\n            while (myReader.hasNextLine()) {\r\n                processLine(myReader.nextLine(), numbers);\r\n            }\r\n\r\n            myReader.close();\r\n\r\n            System.out.println(Arrays.deepToString(numbers.toArray()));\r\n        }\r\n\r\n        private static void processLine(String oneline, List&lt;Integer&gt; numbers) {\r\n            String numbersAsStrings[] = oneline.split(&quot;,&quot;);\r\n            for (int loopIndex = 0; loopIndex &lt; numbersAsStrings.length; loopIndex++) {\r\n                String oneNumberAsString = numbersAsStrings[loopIndex].trim();\r\n                Integer oneNumber = Integer.parseInt(oneNumberAsString);\r\n                numbers.add(oneNumber);\r\n            }\r\n        }\r\n    }","title":"How to read in values from a single line in a txt file","body":"<p>I'd do it something like this without too much error handling or complex stuff. This is tested with a one line cars.txt and a more than one line cars.txt. Have fun with it!</p>\n<pre><code>import java.io.File;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String args[]) throws Exception {\n\n        File cars = new File(&quot;cars.txt&quot;);\n        List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\n\n        Scanner myReader = new Scanner(cars);\n\n        while (myReader.hasNextLine()) {\n            processLine(myReader.nextLine(), numbers);\n        }\n\n        myReader.close();\n\n        System.out.println(Arrays.deepToString(numbers.toArray()));\n    }\n\n    private static void processLine(String oneline, List&lt;Integer&gt; numbers) {\n        String values[] = oneline.split(&quot;,&quot;);\n        Arrays.stream(values).forEach((value) -&gt; numbers.add(Integer.parseInt(value.trim())));\n    }\n}\n</code></pre>\n<p>Or maybe for beginners this would be better to look at:</p>\n<pre><code>import java.io.File;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String args[]) throws Exception {\n        File cars = new File(&quot;cars.txt&quot;);\n        List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\n\n        Scanner myReader = new Scanner(cars);\n\n        while (myReader.hasNextLine()) {\n            processLine(myReader.nextLine(), numbers);\n        }\n\n        myReader.close();\n\n        System.out.println(Arrays.deepToString(numbers.toArray()));\n    }\n\n    private static void processLine(String oneline, List&lt;Integer&gt; numbers) {\n        String numbersAsStrings[] = oneline.split(&quot;,&quot;);\n        for (int loopIndex = 0; loopIndex &lt; numbersAsStrings.length; loopIndex++) {\n            String oneNumberAsString = numbersAsStrings[loopIndex].trim();\n            Integer oneNumber = Integer.parseInt(oneNumberAsString);\n            numbers.add(oneNumber);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7464049,"reputation":57,"user_id":5674315,"display_name":"etoygar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633603836,"creation_date":1633556444,"answer_id":69472982,"question_id":69472529,"body_markdown":"\t  \r\nAnother example. BufferedReader, try-with-resources, and stream.\r\n\r\n        File file = new File(&quot;src/defaultpackage/cars.txt&quot;);\r\n\r\n\t\ttry (BufferedReader br = new BufferedReader(new FileReader(file))) {\r\n\r\n\t\t\tString line = null;\r\n\r\n\t\t\twhile ((line = br.readLine()) != null) {\r\n\r\n                String[] arr = line.split(&quot;,&quot;);\r\n\r\n\t\t\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\r\n\t\t\t\t\tSystem.out.println(arr[i]);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;end of file&quot;);","title":"How to read in values from a single line in a txt file","body":"<p>Another example. BufferedReader, try-with-resources, and stream.</p>\n<pre><code>    File file = new File(&quot;src/defaultpackage/cars.txt&quot;);\n\n    try (BufferedReader br = new BufferedReader(new FileReader(file))) {\n\n        String line = null;\n\n        while ((line = br.readLine()) != null) {\n\n            String[] arr = line.split(&quot;,&quot;);\n\n            for (int i = 0; i &lt; arr.length; i++) {\n\n                System.out.println(arr[i]);\n\n            }\n\n        }\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    System.out.println(&quot;end of file&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633558427,"creation_date":1633558427,"answer_id":69473265,"question_id":69472529,"body_markdown":"&gt;How to read in values from a single line in a txt file\r\n\r\nI would do it like this.\r\n- `[\\\\s+,]+` - use a delimiter of any mix of whitespace and commas (including multiple commas). \r\n```\r\ntry (Scanner myReader = new Scanner(new File(&quot;f:/cars.txt&quot;))) {\r\n     myReader.useDelimiter(Pattern.compile(&quot;[\\\\s+,]+&quot;));\r\n     while (myReader.hasNextInt()) {\r\n       System.out.println(myReader.nextInt());\r\n     }\r\n} catch (IOException ioe) {\r\n\t ioe.printStackTrace();\r\n}\r\n\r\n\r\n  ","title":"How to read in values from a single line in a txt file","body":"<blockquote>\n<p>How to read in values from a single line in a txt file</p>\n</blockquote>\n<p>I would do it like this.</p>\n<ul>\n<li><code>[\\\\s+,]+</code> - use a delimiter of any mix of whitespace and commas (including multiple commas).</li>\n</ul>\n<pre><code>try (Scanner myReader = new Scanner(new File(&quot;f:/cars.txt&quot;))) {\n     myReader.useDelimiter(Pattern.compile(&quot;[\\\\s+,]+&quot;));\n     while (myReader.hasNextInt()) {\n       System.out.println(myReader.nextInt());\n     }\n} catch (IOException ioe) {\n     ioe.printStackTrace();\n}\n\n\n  \n</code></pre>\n"}],"owner":{"account_id":22577551,"reputation":11,"user_id":16762753,"display_name":"Aman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1633559679,"answer_count":3,"score":0,"last_activity_date":1633603836,"creation_date":1633553541,"question_id":69472529,"body_markdown":"so I am trying to read and split the following data up into an array. However, the txt file only has one line. \r\n\r\n1, 5, 3, 7, 9, 5, 3, 1, 9, 5, 7, 3, 7, 5, 9, 1, 3, 5\r\n\r\nAnd I am not sure if I am correctly doing it with my code.\r\n\r\n```\r\n try { \r\n      File cars = new File(&quot;cars.txt&quot;);\r\n      Scanner myReader = new Scanner(cars);\r\n      String data = myReader.nextLine();\r\n      while (myReader.hasNextLine()) {\r\n        data = myReader.nextLine();\r\n        String values[] = data.split(&quot;,&quot;);\r\n        System.out.print(values);\r\n      }\r\n```\r\n","title":"How to read in values from a single line in a txt file","body":"<p>so I am trying to read and split the following data up into an array. However, the txt file only has one line.</p>\n<p>1, 5, 3, 7, 9, 5, 3, 1, 9, 5, 7, 3, 7, 5, 9, 1, 3, 5</p>\n<p>And I am not sure if I am correctly doing it with my code.</p>\n<pre><code> try { \n      File cars = new File(&quot;cars.txt&quot;);\n      Scanner myReader = new Scanner(cars);\n      String data = myReader.nextLine();\n      while (myReader.hasNextLine()) {\n        data = myReader.nextLine();\n        String values[] = data.split(&quot;,&quot;);\n        System.out.print(values);\n      }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":197773,"reputation":944,"user_id":442050,"accept_rate":58,"display_name":"Akvel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633603649,"creation_date":1633601827,"answer_id":69479397,"question_id":69391251,"body_markdown":"My workaround\r\n\r\n \r\n\r\n    @Autowired\r\n    HealthEndpointProperties healthEndpointProperties;\r\n\r\n    @Autowired\r\n    ApplicationContext applicationContext;\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        Set&lt;String&gt; healthContributors = applicationContext.getBeansOfType(HealthContributor.class).keySet().stream()\r\n                .map(HealthContributorNameFactory.INSTANCE)\r\n                .collect(Collectors.toSet());\r\n\r\n        healthEndpointProperties.getGroup().values().stream()\r\n                .flatMap(it -&gt; it.getInclude().stream())\r\n                .forEach(it -&gt; {\r\n                    if (!healthContributors.contains(it)) {\r\n                        throw new IllegalArgumentException(&quot;Unknown health indicator &quot; + it);\r\n                    }\r\n                });\r\n    }\r\n    ","title":"Check that all HealthIndicator avaliable on application startup","body":"<p>My workaround</p>\n<pre><code>@Autowired\nHealthEndpointProperties healthEndpointProperties;\n\n@Autowired\nApplicationContext applicationContext;\n\n@PostConstruct\npublic void init() {\n    Set&lt;String&gt; healthContributors = applicationContext.getBeansOfType(HealthContributor.class).keySet().stream()\n            .map(HealthContributorNameFactory.INSTANCE)\n            .collect(Collectors.toSet());\n\n    healthEndpointProperties.getGroup().values().stream()\n            .flatMap(it -&gt; it.getInclude().stream())\n            .forEach(it -&gt; {\n                if (!healthContributors.contains(it)) {\n                    throw new IllegalArgumentException(&quot;Unknown health indicator &quot; + it);\n                }\n            });\n}\n</code></pre>\n"}],"owner":{"account_id":197773,"reputation":944,"user_id":442050,"accept_rate":58,"display_name":"Akvel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633603649,"creation_date":1633000556,"question_id":69391251,"body_markdown":"Currently, Actuator doesn&#39;t check that all indicators in groups available in context, it also skips not existing indicators while runtime checks.\r\n\r\nFor example, application.yaml - if I describe *checkServiceUnknown*\r\n```\r\nmanagement:\r\n  endpoint:\r\n    health:\r\n      group:\r\n        readiness:\r\n          include: checkService1, checkServiceUnknown\r\n```\r\n\r\nIt just skip *checkServiceUnknown* in HealthEndpointSupport. It happens because it loop by NamedContributor, not by group members:\r\n```\r\nfor (NamedContributor&lt;C&gt; namedContributor : namedContributors) {\r\n\t\t\tString name = namedContributor.getName();\r\n\t\t\tC contributor = namedContributor.getContributor();\r\n\t\t\tif (group.isMember(name) || isNested) {\r\n...\r\n```\r\n\r\nHow to check that all described indicators really will be called/available on Spring startup?\r\n","title":"Check that all HealthIndicator avaliable on application startup","body":"<p>Currently, Actuator doesn't check that all indicators in groups available in context, it also skips not existing indicators while runtime checks.</p>\n<p>For example, application.yaml - if I describe <em>checkServiceUnknown</em></p>\n<pre><code>management:\n  endpoint:\n    health:\n      group:\n        readiness:\n          include: checkService1, checkServiceUnknown\n</code></pre>\n<p>It just skip <em>checkServiceUnknown</em> in HealthEndpointSupport. It happens because it loop by NamedContributor, not by group members:</p>\n<pre><code>for (NamedContributor&lt;C&gt; namedContributor : namedContributors) {\n            String name = namedContributor.getName();\n            C contributor = namedContributor.getContributor();\n            if (group.isMember(name) || isNested) {\n...\n</code></pre>\n<p>How to check that all described indicators really will be called/available on Spring startup?</p>\n"},{"tags":["java","mongodb","apache-spark","intellij-idea","connection-string"],"comments":[{"owner":{"account_id":15760184,"reputation":225,"user_id":11372097,"display_name":"Antonio Miranda"},"score":1,"creation_date":1633526166,"post_id":69463543,"comment_id":122782769,"body_markdown":"It seems the typical dependency version error... have you any more mongo dependency than mongo-spark-connector ?","body":"It seems the typical dependency version error... have you any more mongo dependency than mongo-spark-connector ?"},{"owner":{"account_id":3292048,"reputation":101,"user_id":2770125,"display_name":"Rarm"},"score":0,"creation_date":1633532942,"post_id":69463543,"comment_id":122785882,"body_markdown":"Thanks for the comment, updated question with the other dependency versions in the project. Btw, found a similar question with a possible answer: https://stackoverflow.com/questions/47979345/mongodb-spark-connector-issue \nI&#39;ll try that","body":"Thanks for the comment, updated question with the other dependency versions in the project. Btw, found a similar question with a possible answer: <a href=\"https://stackoverflow.com/questions/47979345/mongodb-spark-connector-issue\" title=\"mongodb spark connector issue\">stackoverflow.com/questions/47979345/&hellip;</a>  I&#39;ll try that"},{"owner":{"account_id":3292048,"reputation":101,"user_id":2770125,"display_name":"Rarm"},"score":0,"creation_date":1633603648,"post_id":69463543,"comment_id":122806533,"body_markdown":"it works, I&#39;ll answer my own question :)","body":"it works, I&#39;ll answer my own question :)"}],"answers":[{"tags":[],"owner":{"account_id":3292048,"reputation":101,"user_id":2770125,"display_name":"Rarm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633603608,"creation_date":1633603608,"answer_id":69479787,"question_id":69463543,"body_markdown":"Finally the solution provided here: https://stackoverflow.com/questions/47979345/mongodb-spark-connector-issue \r\n\r\nworks! \r\n\r\nI used the latest version:  mongo-java-driver-3.12.10","title":"While trying to connect to MongoDB got exception Class ConnectionString not found","body":"<p>Finally the solution provided here: <a href=\"https://stackoverflow.com/questions/47979345/mongodb-spark-connector-issue\">mongodb spark connector issue</a></p>\n<p>works!</p>\n<p>I used the latest version:  mongo-java-driver-3.12.10</p>\n"}],"owner":{"account_id":3292048,"reputation":101,"user_id":2770125,"display_name":"Rarm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":827,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69479787,"answer_count":1,"score":1,"last_activity_date":1633603608,"creation_date":1633514273,"question_id":69463543,"body_markdown":"I am trying to connect to MongoDB to write a collection. The spark session was created correctly but whe I try to insert the data into Mongo I get an error in:\r\n\r\n    MongoSpark.write(stringPeriodosDataframe).option(&quot;collection&quot;, &quot;periodos&quot;).mode(&quot;overwrite&quot;).save();\r\n\r\n\r\nthe Exception I got:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/mongodb/ConnectionString\r\n    \tat com.mongodb.spark.config.MongoCompanionConfig$$anonfun$4.apply(MongoCompanionConfig.scala:278)\r\n    \tat com.mongodb.spark.config.MongoCompanionConfig$$anonfun$4.apply(MongoCompanionConfig.scala:278)\r\n    \tat scala.util.Try$.apply(Try.scala:192)\r\n    \tat com.mongodb.spark.config.MongoCompanionConfig$class.connectionString(MongoCompanionConfig.scala:278)\r\n    \tat com.mongodb.spark.config.WriteConfig$.connectionString(WriteConfig.scala:37)\r\n    \tat com.mongodb.spark.config.WriteConfig$.apply(WriteConfig.scala:209)\r\n    \tat com.mongodb.spark.config.WriteConfig$.apply(WriteConfig.scala:37)\r\n    \tat com.mongodb.spark.config.MongoCompanionConfig$class.apply(MongoCompanionConfig.scala:124)\r\n    \tat com.mongodb.spark.config.WriteConfig$.apply(WriteConfig.scala:37)\r\n    \tat com.mongodb.spark.config.MongoCompanionConfig$class.apply(MongoCompanionConfig.scala:113)\r\n    \tat com.mongodb.spark.config.WriteConfig$.apply(WriteConfig.scala:37)\r\n    \tat com.mongodb.spark.sql.DefaultSource.createRelation(DefaultSource.scala:81)\r\n    \tat org.apache.spark.sql.execution.datasources.SaveIntoDataSourceCommand.run(SaveIntoDataSourceCommand.scala:46)\r\n    \tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:70)\r\n    \tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:68)\r\n    \tat org.apache.spark.sql.execution.command.ExecutedCommandExec.doExecute(commands.scala:86)\r\n    \tat org.apache.spark.sql.execution.SparkPlan$$anonfun$execute$1.apply(SparkPlan.scala:131)\r\n    \tat org.apache.spark.sql.execution.SparkPlan$$anonfun$execute$1.apply(SparkPlan.scala:127)\r\n    \tat org.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:155)\r\n    \tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:152)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:127)\r\n    \tat org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:80)\r\n    \tat org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:80)\r\n    \tat org.apache.spark.sql.DataFrameWriter$$anonfun$runCommand$1.apply(DataFrameWriter.scala:654)\r\n    \tat org.apache.spark.sql.DataFrameWriter$$anonfun$runCommand$1.apply(DataFrameWriter.scala:654)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:77)\r\n    \tat org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:654)\r\n    \tat org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:273)\r\n    \tat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:267)\r\n    \tat com.santander.espana.CargarPeriodos.insertCollectionPeriodoDataframe(CargarPeriodos.java:117)\r\n    \tat com.santander.espana.CargarPeriodos.build(CargarPeriodos.java:71)\r\n    \tat com.santander.espana.MainCargaPeriodos.init(MainCargaPeriodos.java:38)\r\n    \tat com.santander.espana.Prueba.main(Prueba.java:50)\r\n    Caused by: java.lang.ClassNotFoundException: com.mongodb.ConnectionString\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \t... 34 more\r\n    Disconnected from the target VM, address: &#39;127.0.0.1:60130&#39;, transport: &#39;socket&#39;\r\n    \r\n    Process finished with exit code 1\r\n\r\n\r\n\r\n\r\nVersions:\r\n\r\nmongo-spark-connector_2.11-2.3.0   \r\nJava 1.8   \r\nIntelliJ 2021 1.2 Community   \r\nSpark library versions 2.11   \r\n\r\nother dependency versions I am using: \r\n\r\nhadoop 2.7, \r\nspark 2.3.0, \r\njava driver 2.7, \r\nspark catalyst,core,hive,sql ....all 2.11:2.3.0, \r\nscala scala-library:2.11.12 \r\n\r\nMongoDB 4.0.16\r\n\r\n\r\nStuck with this, any help is more than welcome\r\n\r\nThanks!","title":"While trying to connect to MongoDB got exception Class ConnectionString not found","body":"<p>I am trying to connect to MongoDB to write a collection. The spark session was created correctly but whe I try to insert the data into Mongo I get an error in:</p>\n<pre><code>MongoSpark.write(stringPeriodosDataframe).option(&quot;collection&quot;, &quot;periodos&quot;).mode(&quot;overwrite&quot;).save();\n</code></pre>\n<p>the Exception I got:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/mongodb/ConnectionString\n    at com.mongodb.spark.config.MongoCompanionConfig$$anonfun$4.apply(MongoCompanionConfig.scala:278)\n    at com.mongodb.spark.config.MongoCompanionConfig$$anonfun$4.apply(MongoCompanionConfig.scala:278)\n    at scala.util.Try$.apply(Try.scala:192)\n    at com.mongodb.spark.config.MongoCompanionConfig$class.connectionString(MongoCompanionConfig.scala:278)\n    at com.mongodb.spark.config.WriteConfig$.connectionString(WriteConfig.scala:37)\n    at com.mongodb.spark.config.WriteConfig$.apply(WriteConfig.scala:209)\n    at com.mongodb.spark.config.WriteConfig$.apply(WriteConfig.scala:37)\n    at com.mongodb.spark.config.MongoCompanionConfig$class.apply(MongoCompanionConfig.scala:124)\n    at com.mongodb.spark.config.WriteConfig$.apply(WriteConfig.scala:37)\n    at com.mongodb.spark.config.MongoCompanionConfig$class.apply(MongoCompanionConfig.scala:113)\n    at com.mongodb.spark.config.WriteConfig$.apply(WriteConfig.scala:37)\n    at com.mongodb.spark.sql.DefaultSource.createRelation(DefaultSource.scala:81)\n    at org.apache.spark.sql.execution.datasources.SaveIntoDataSourceCommand.run(SaveIntoDataSourceCommand.scala:46)\n    at org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:70)\n    at org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:68)\n    at org.apache.spark.sql.execution.command.ExecutedCommandExec.doExecute(commands.scala:86)\n    at org.apache.spark.sql.execution.SparkPlan$$anonfun$execute$1.apply(SparkPlan.scala:131)\n    at org.apache.spark.sql.execution.SparkPlan$$anonfun$execute$1.apply(SparkPlan.scala:127)\n    at org.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:155)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n    at org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:152)\n    at org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:127)\n    at org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:80)\n    at org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:80)\n    at org.apache.spark.sql.DataFrameWriter$$anonfun$runCommand$1.apply(DataFrameWriter.scala:654)\n    at org.apache.spark.sql.DataFrameWriter$$anonfun$runCommand$1.apply(DataFrameWriter.scala:654)\n    at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:77)\n    at org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:654)\n    at org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:273)\n    at org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:267)\n    at com.santander.espana.CargarPeriodos.insertCollectionPeriodoDataframe(CargarPeriodos.java:117)\n    at com.santander.espana.CargarPeriodos.build(CargarPeriodos.java:71)\n    at com.santander.espana.MainCargaPeriodos.init(MainCargaPeriodos.java:38)\n    at com.santander.espana.Prueba.main(Prueba.java:50)\nCaused by: java.lang.ClassNotFoundException: com.mongodb.ConnectionString\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 34 more\nDisconnected from the target VM, address: '127.0.0.1:60130', transport: 'socket'\n\nProcess finished with exit code 1\n</code></pre>\n<p>Versions:</p>\n<p>mongo-spark-connector_2.11-2.3.0<br />\nJava 1.8<br />\nIntelliJ 2021 1.2 Community<br />\nSpark library versions 2.11</p>\n<p>other dependency versions I am using:</p>\n<p>hadoop 2.7,\nspark 2.3.0,\njava driver 2.7,\nspark catalyst,core,hive,sql ....all 2.11:2.3.0,\nscala scala-library:2.11.12</p>\n<p>MongoDB 4.0.16</p>\n<p>Stuck with this, any help is more than welcome</p>\n<p>Thanks!</p>\n"},{"tags":["java","clojure","compilation"],"answers":[{"tags":[],"owner":{"account_id":916263,"reputation":369,"user_id":5592612,"display_name":"souenzzo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597237040,"creation_date":1597237040,"answer_id":63377027,"question_id":63376869,"body_markdown":"`clj` will not do that.\r\n\r\n`lein` do a lot of things that are out-of-scope for `clj` command line.\r\n\r\nYou may find some library that do that, then you can call `clj -m lib-that-compiles-java`","title":"Compiling Java sources with Clojure deps.edn","body":"<p><code>clj</code> will not do that.</p>\n<p><code>lein</code> do a lot of things that are out-of-scope for <code>clj</code> command line.</p>\n<p>You may find some library that do that, then you can call <code>clj -m lib-that-compiles-java</code></p>\n"},{"tags":[],"owner":{"account_id":18010296,"reputation":807,"user_id":13090146,"display_name":"dorab"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597249848,"creation_date":1597249848,"answer_id":63380925,"question_id":63376869,"body_markdown":"Without knowing more about your context ...\r\n\r\nThe &quot;best&quot; way to do this currently, is to separate your Java and Clojure sources into two projects.  In the Java project, create a jar with the compiled classes (using standard Java tools - perhaps `make` and `javac`) and install the jar into your local maven repo. Then add the jar file as a dependency in the `deps.edn` of your Clojure project.\r\n\r\nYou might also be able to use the jar directly, without installing locally, by using the `local/root` feature in `deps.edn`.  See the [Deps Rationale][1] for how to do that.\r\n\r\nAnother way would be to arrange to have the Java sources compiled into a `classes` sub-directory of your combined (Java / Clojure) project and then add the `classes` directory to the `:paths` key in your `deps.edn`. The creation of the class files will (again) have to be done with Java tools or shell scripts - outside of `clj`.\r\n\r\nThere are some recent developments in `clj` that may make this easier in the future.\r\n\r\n\r\n  [1]: https://clojure.org/reference/deps_and_cli","title":"Compiling Java sources with Clojure deps.edn","body":"<p>Without knowing more about your context ...</p>\n<p>The &quot;best&quot; way to do this currently, is to separate your Java and Clojure sources into two projects.  In the Java project, create a jar with the compiled classes (using standard Java tools - perhaps <code>make</code> and <code>javac</code>) and install the jar into your local maven repo. Then add the jar file as a dependency in the <code>deps.edn</code> of your Clojure project.</p>\n<p>You might also be able to use the jar directly, without installing locally, by using the <code>local/root</code> feature in <code>deps.edn</code>.  See the <a href=\"https://clojure.org/reference/deps_and_cli\" rel=\"nofollow noreferrer\">Deps Rationale</a> for how to do that.</p>\n<p>Another way would be to arrange to have the Java sources compiled into a <code>classes</code> sub-directory of your combined (Java / Clojure) project and then add the <code>classes</code> directory to the <code>:paths</code> key in your <code>deps.edn</code>. The creation of the class files will (again) have to be done with Java tools or shell scripts - outside of <code>clj</code>.</p>\n<p>There are some recent developments in <code>clj</code> that may make this easier in the future.</p>\n"},{"tags":[],"owner":{"account_id":384931,"reputation":1111,"user_id":741765,"display_name":"tsachev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633602453,"creation_date":1633602453,"answer_id":69479515,"question_id":63376869,"body_markdown":"You can now do that with [clojure.tools.build](https://clojure.org/guides/tools_build#_mixed_java_clojure_build)","title":"Compiling Java sources with Clojure deps.edn","body":"<p>You can now do that with <a href=\"https://clojure.org/guides/tools_build#_mixed_java_clojure_build\" rel=\"nofollow noreferrer\">clojure.tools.build</a></p>\n"}],"owner":{"account_id":68104,"reputation":28073,"user_id":198927,"accept_rate":55,"display_name":"Petrus Theron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1639,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1633602453,"creation_date":1597236484,"question_id":63376869,"body_markdown":"How do I configure my Clojure CLI `deps.edn` file to compile Java source files along with my `.clj` Clojure source files?\r\n\r\nI found [badigeon](https://github.com/EwenG/badigeon) which can compile Java sources, but I&#39;m struggling to use in my simple project.","title":"Compiling Java sources with Clojure deps.edn","body":"<p>How do I configure my Clojure CLI <code>deps.edn</code> file to compile Java source files along with my <code>.clj</code> Clojure source files?</p>\n<p>I found <a href=\"https://github.com/EwenG/badigeon\" rel=\"nofollow noreferrer\">badigeon</a> which can compile Java sources, but I'm struggling to use in my simple project.</p>\n"},{"tags":["java","try-catch","try-catch-finally","finally","try-finally"],"answers":[{"tags":[],"owner":{"account_id":8958141,"reputation":78,"user_id":6681755,"display_name":"Technobabel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633601224,"creation_date":1633601224,"answer_id":69479262,"question_id":69478627,"body_markdown":"Maybe an asynchronous approach would be fitting here, like...\r\n\r\n    ExecutorService executor = Executors.newFixedThreadPool(10);\r\n    public List methodHitByAPI() {\r\n        List returnValue = doSomething();\r\n        executor.submit(()-&gt;finishProcess(returnValue));\r\n        return returnValue;\r\n    }\r\n\r\nThe returnValue would be returned immediately but the finishProcess will be executed in an separated thread.","title":"How to return try block value in java even before finally block start executing?","body":"<p>Maybe an asynchronous approach would be fitting here, like...</p>\n<pre><code>ExecutorService executor = Executors.newFixedThreadPool(10);\npublic List methodHitByAPI() {\n    List returnValue = doSomething();\n    executor.submit(()-&gt;finishProcess(returnValue));\n    return returnValue;\n}\n</code></pre>\n<p>The returnValue would be returned immediately but the finishProcess will be executed in an separated thread.</p>\n"}],"owner":{"account_id":14826909,"reputation":135,"user_id":10707595,"display_name":"Indra Neel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69479262,"answer_count":1,"score":0,"last_activity_date":1633601224,"creation_date":1633598616,"question_id":69478627,"body_markdown":"I have code snippet in java like\r\n\r\n```\r\nInt methodHitByAPI() {\r\n     List returnValue = doSomething();\r\n     return returnValue;\r\n     finishProcess(returnValue);\r\n}\r\n```\r\nMy doubt is that i wanted to execute doSomething() (this method was hit by a post api call from UI) and then return the response immediately and then execute finishProcess() . The finishProcess() is a very large process and frontend can&#39;t wait till it completes(HTTP time out). But one point to note here is that it&#39;s enough for frontend to execute doSomething() and it has no work to do with finishProcess(returnValue); So how can i send the response to UI quick without having any issues with finishProcess(returnValue); executing finishProcess(returnValue) is a must on backend but had no work with frontend\r\n\r\nI had tried this\r\n\r\n```\r\ntry {\r\n    returnValue = doSomething();\r\n    return returnValue;\r\n}\r\nfinally {\r\n     finishProcess(returnValue);\r\n}\r\n\r\n```\r\n\r\nbut still \r\n\r\n``` \r\nreturn returnValue;\r\n```\r\n\r\nis executed only after finishProcess(returnValue);\r\n\r\n\r\nWhat is the solution for this?\r\n\r\n**Note** : We might send the return value to frontend and call another APi call to finishProcess(). But it&#39;s not the case ","title":"How to return try block value in java even before finally block start executing?","body":"<p>I have code snippet in java like</p>\n<pre><code>Int methodHitByAPI() {\n     List returnValue = doSomething();\n     return returnValue;\n     finishProcess(returnValue);\n}\n</code></pre>\n<p>My doubt is that i wanted to execute doSomething() (this method was hit by a post api call from UI) and then return the response immediately and then execute finishProcess() . The finishProcess() is a very large process and frontend can't wait till it completes(HTTP time out). But one point to note here is that it's enough for frontend to execute doSomething() and it has no work to do with finishProcess(returnValue); So how can i send the response to UI quick without having any issues with finishProcess(returnValue); executing finishProcess(returnValue) is a must on backend but had no work with frontend</p>\n<p>I had tried this</p>\n<pre><code>try {\n    returnValue = doSomething();\n    return returnValue;\n}\nfinally {\n     finishProcess(returnValue);\n}\n\n</code></pre>\n<p>but still</p>\n<pre><code>return returnValue;\n</code></pre>\n<p>is executed only after finishProcess(returnValue);</p>\n<p>What is the solution for this?</p>\n<p><strong>Note</strong> : We might send the return value to frontend and call another APi call to finishProcess(). But it's not the case</p>\n"},{"tags":["java","spring-boot","axon"],"comments":[{"owner":{"account_id":2491374,"reputation":2992,"user_id":2168752,"display_name":"Milen Dyankov"},"score":0,"creation_date":1633102435,"post_id":69405491,"comment_id":122679270,"body_markdown":"Please specify which version of AxonFramework do you use. Also, please provide more details about what you intend to do, what you expect to happen, and what is not working.","body":"Please specify which version of AxonFramework do you use. Also, please provide more details about what you intend to do, what you expect to happen, and what is not working."},{"owner":{"account_id":7030924,"reputation":2068,"user_id":5386668,"display_name":"lch"},"score":0,"creation_date":1633333403,"post_id":69405491,"comment_id":122721826,"body_markdown":"@MilenDyankov hope it&#39;s clearer now","body":"@MilenDyankov hope it&#39;s clearer now"},{"owner":{"account_id":215690,"reputation":1398,"user_id":470477,"display_name":"Bill Horvath"},"score":0,"creation_date":1633375505,"post_id":69405491,"comment_id":122738466,"body_markdown":"The documentation suggests you need to implement a custom ContentTypeConverter. https://docs.axoniq.io/reference-guide/axon-framework/events/event-serialization#contenttypeconverters See esp. the second paragraph.","body":"The documentation suggests you need to implement a custom ContentTypeConverter. <a href=\"https://docs.axoniq.io/reference-guide/axon-framework/events/event-serialization#contenttypeconverters\" rel=\"nofollow noreferrer\">docs.axoniq.io/reference-guide/axon-framework/events/&hellip;</a> See esp. the second paragraph."},{"owner":{"account_id":7333742,"reputation":485,"user_id":5585819,"display_name":"KDW"},"score":0,"creation_date":1633542691,"post_id":69405491,"comment_id":122789924,"body_markdown":"Did you try to find inspiration in the source code of the framework? Perhaps https://github.com/AxonFramework/AxonFramework/tree/master/messaging/src/main/java/org/axonframework/serialization/xml might help you..","body":"Did you try to find inspiration in the source code of the framework? Perhaps <a href=\"https://github.com/AxonFramework/AxonFramework/tree/master/messaging/src/main/java/org/axonframework/serialization/xml\" rel=\"nofollow noreferrer\">github.com/AxonFramework/AxonFramework/tree/master/messaging&zwnj;&#8203;/&hellip;</a> might help you.."},{"owner":{"account_id":2552081,"reputation":7045,"user_id":2215649,"display_name":"Steven"},"score":1,"creation_date":1633600170,"post_id":69405491,"comment_id":122805180,"body_markdown":"Although it&#39;s a little late for that now, I&#39;d still want to add this bit. IT would&#39;ve been best not to contain the Event object in your Saga. Instead, just pull the fields you need from the event. That way, you wouldn&#39;t couple Saga instances with Event versions. Maybe something to look into in the future.","body":"Although it&#39;s a little late for that now, I&#39;d still want to add this bit. IT would&#39;ve been best not to contain the Event object in your Saga. Instead, just pull the fields you need from the event. That way, you wouldn&#39;t couple Saga instances with Event versions. Maybe something to look into in the future."}],"answers":[{"tags":[],"owner":{"account_id":5601961,"reputation":1870,"user_id":4437909,"display_name":"Lucas Campos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633601059,"creation_date":1633511392,"answer_id":69462848,"question_id":69405491,"body_markdown":"I have to say that Axon 2 is not something I have experience with but let me try to help you nonetheless.\r\n\r\nAs I can find on the docs, Axon provide an example of how to write an upcaster [here](https://legacy-docs.axoniq.io/reference-guide/v/2.4/repositories-and-event-stores.html#event-upcasting) using the correct 2.4 documentation link.\r\n\r\nWhat is not clear for me, based on your question, is if you are using the `JavaSerializer` or an `XStreamSerializer` (or `JacksonSerializer` to make it complete).\r\n\r\nIn the case you are using `XML`, the docs will provide you an example of an upcaster. What is good to mention (and check) is that you can also look into `xStream.ignoreUnknownElements()` which will make your Serializer lenient meaning it won&#39;t fail when trying to deserialize something which contains an attribute it does not know (very useful I would say).\r\n\r\nIf you are using `JSON`, you also have the `FAIL_ON_UNKNOWN_PROPERTIES` &quot;feature&quot; that can be disabled in this case to make it lenient.\r\n\r\nMaking your serializers lenient seems to be the correct route if you ask me. If you really need to add a default/derived value to the new field, than the upcaster route is the one you should pick.\r\n\r\nKR,\r\n\r\n---\r\n\r\nEdit 1: triggered by the comment given by Steven, this led me to add this edit and ask you how long do you expect this Saga to live. Now that I noticed the Event is part of your Saga, I would rather write a new Saga that does not contains the Event as part of it but just fields not coupling it to any specific Event.","title":"Convert Byte[] to xml","body":"<p>I have to say that Axon 2 is not something I have experience with but let me try to help you nonetheless.</p>\n<p>As I can find on the docs, Axon provide an example of how to write an upcaster <a href=\"https://legacy-docs.axoniq.io/reference-guide/v/2.4/repositories-and-event-stores.html#event-upcasting\" rel=\"nofollow noreferrer\">here</a> using the correct 2.4 documentation link.</p>\n<p>What is not clear for me, based on your question, is if you are using the <code>JavaSerializer</code> or an <code>XStreamSerializer</code> (or <code>JacksonSerializer</code> to make it complete).</p>\n<p>In the case you are using <code>XML</code>, the docs will provide you an example of an upcaster. What is good to mention (and check) is that you can also look into <code>xStream.ignoreUnknownElements()</code> which will make your Serializer lenient meaning it won't fail when trying to deserialize something which contains an attribute it does not know (very useful I would say).</p>\n<p>If you are using <code>JSON</code>, you also have the <code>FAIL_ON_UNKNOWN_PROPERTIES</code> &quot;feature&quot; that can be disabled in this case to make it lenient.</p>\n<p>Making your serializers lenient seems to be the correct route if you ask me. If you really need to add a default/derived value to the new field, than the upcaster route is the one you should pick.</p>\n<p>KR,</p>\n<hr />\n<p>Edit 1: triggered by the comment given by Steven, this led me to add this edit and ask you how long do you expect this Saga to live. Now that I noticed the Event is part of your Saga, I would rather write a new Saga that does not contains the Event as part of it but just fields not coupling it to any specific Event.</p>\n"}],"owner":{"account_id":7030924,"reputation":2068,"user_id":5386668,"display_name":"lch"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1232,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1633601059,"creation_date":1633089298,"question_id":69405491,"body_markdown":"I&#39;m using `Axon` `2.4.6`.\r\nI have a Saga the payload of which was serialized in binary using `XStreamSerializer`.\r\n\r\nThe saga looks like this:\r\n\r\n    public class MySaga extends AbstractAnnotatedSaga {\r\n        ...\r\n        private MyEvent myEvent;\r\n        ...\r\n    }\r\n\r\nIt contains one event which is the initialize event of the related aggregate object.\r\n\r\nRight now I&#39;m having is a deserialization problem because I changed `MyEvent` by adding one property to it.\r\nI figured out a workaround to this by adding the serialize id that the deserializer is expecting, however this solution might not be the best since I&#39;m on production data right now and would be nice if I was able to somehow upcast the sagas.\r\n\r\nSo what I intend to do is create a custom serializer that extends `JavaSerializer` and tweak the `SerializedObject&lt;S&gt;` that is coming in. The problem is that the SerializedObject&lt;S&gt; is in hex/binary so I need a way to convert it in to an `org.dom4j` object for instance so I could add the missing property and then be able to deserialize it in to MySaga.\r\n\r\nI tried several approaches like\r\n\r\n    ByteArrayInputStream bos = new ByteArrayInputStream((byte [])serializedObject.getData());\r\n\r\n\r\nor `new XStream();`\r\n\r\nbut they all go from the binary representation straight to the object deserialization, what I need is to get the dom4j or even xml conversion first.\r\nI can&#39;t figure out how to do it.","title":"Convert Byte[] to xml","body":"<p>I'm using <code>Axon</code> <code>2.4.6</code>.\nI have a Saga the payload of which was serialized in binary using <code>XStreamSerializer</code>.</p>\n<p>The saga looks like this:</p>\n<pre><code>public class MySaga extends AbstractAnnotatedSaga {\n    ...\n    private MyEvent myEvent;\n    ...\n}\n</code></pre>\n<p>It contains one event which is the initialize event of the related aggregate object.</p>\n<p>Right now I'm having is a deserialization problem because I changed <code>MyEvent</code> by adding one property to it.\nI figured out a workaround to this by adding the serialize id that the deserializer is expecting, however this solution might not be the best since I'm on production data right now and would be nice if I was able to somehow upcast the sagas.</p>\n<p>So what I intend to do is create a custom serializer that extends <code>JavaSerializer</code> and tweak the <code>SerializedObject&lt;S&gt;</code> that is coming in. The problem is that the SerializedObject is in hex/binary so I need a way to convert it in to an <code>org.dom4j</code> object for instance so I could add the missing property and then be able to deserialize it in to MySaga.</p>\n<p>I tried several approaches like</p>\n<pre><code>ByteArrayInputStream bos = new ByteArrayInputStream((byte [])serializedObject.getData());\n</code></pre>\n<p>or <code>new XStream();</code></p>\n<p>but they all go from the binary representation straight to the object deserialization, what I need is to get the dom4j or even xml conversion first.\nI can't figure out how to do it.</p>\n"},{"tags":["java","spring","stack-trace","cglib"],"answers":[{"tags":[],"owner":{"account_id":3883582,"reputation":32684,"user_id":3215527,"accept_rate":40,"display_name":"wero"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1491857193,"creation_date":1447058674,"answer_id":33605316,"question_id":33605246,"body_markdown":"`$` is an allowed character in class names. \r\n\r\nThe name `SimpleDetectorPersistenceService$$EnhancerBySpringCGLIB$$66303639` hints that it is a class which was dynamically generated at runtime by Spring framework using CGLIB.\r\n\r\nThey use `$$` and a numeric offset to make this class name unique to avoid conflicts with existing classes.\r\n\r\nThe string `(&lt;generated&gt;)` in the stracktrace too was generated by [CGLIB][1]:&lt;br&gt;\r\nWhen CGLIB creates a class at runtime it uses `&lt;generated&gt;` as placeholder for the name of the source file. The stacktrace then simply prints this string instead of the real source file and line number.\r\n\r\n\r\n  [1]: https://github.com/cglib/cglib","title":"What does $$ and &lt;generated&gt; mean in Java stacktrace?","body":"<p><code>$</code> is an allowed character in class names. </p>\n\n<p>The name <code>SimpleDetectorPersistenceService$$EnhancerBySpringCGLIB$$66303639</code> hints that it is a class which was dynamically generated at runtime by Spring framework using CGLIB.</p>\n\n<p>They use <code>$$</code> and a numeric offset to make this class name unique to avoid conflicts with existing classes.</p>\n\n<p>The string <code>(&lt;generated&gt;)</code> in the stracktrace too was generated by <a href=\"https://github.com/cglib/cglib\" rel=\"noreferrer\">CGLIB</a>:<br>\nWhen CGLIB creates a class at runtime it uses <code>&lt;generated&gt;</code> as placeholder for the name of the source file. The stacktrace then simply prints this string instead of the real source file and line number.</p>\n"}],"owner":{"account_id":1017505,"reputation":2745,"user_id":1028741,"accept_rate":60,"display_name":"user1028741"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12786,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":33605316,"answer_count":1,"score":26,"last_activity_date":1633600759,"creation_date":1447058463,"question_id":33605246,"body_markdown":"I often get stacktraces like this one (please see the arrow for the confusing line):\r\n\r\n    org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [PRIMARY]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n                    at org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:164)\r\n                    at org.springframework.orm.hibernate5.HibernateTransactionManager.convertHibernateAccessException(HibernateTransactionManager.java:741)\r\n                    at org.springframework.orm.hibernate5.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:589)\r\n                    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761)\r\n                    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730)\r\n                    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:485)\r\n                    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:291)\r\n                    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n                    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n                    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)\r\n    ---------&gt;      at com.panpwr.admin.services.detector.SimpleDetectorPersistenceService$$EnhancerBySpringCGLIB$$66303639.saveComplexRuleAndActionTemplates(&lt;generated&gt;)\r\n                    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n                    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    ...\r\n    ...\r\n    ...\r\n\r\n\r\nWhat does the `$$` sign mean, and what is the &#39;generated&#39; in this line?\r\n`com.panpwr.admin.services.detector.SimpleDetectorPersistenceService$$EnhancerBySpringCGLIB$$66303639.saveComplexRuleAndActionTemplates(&lt;generated&gt;)` \r\n\r\nAnd why does it only say the executed method but not the line number in it?\r\n\r\n","title":"What does $$ and &lt;generated&gt; mean in Java stacktrace?","body":"<p>I often get stacktraces like this one (please see the arrow for the confusing line):</p>\n<pre><code>org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [PRIMARY]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\n                at org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:164)\n                at org.springframework.orm.hibernate5.HibernateTransactionManager.convertHibernateAccessException(HibernateTransactionManager.java:741)\n                at org.springframework.orm.hibernate5.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:589)\n                at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761)\n                at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730)\n                at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:485)\n                at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:291)\n                at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n                at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n                at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)\n---------&gt;      at com.panpwr.admin.services.detector.SimpleDetectorPersistenceService$$EnhancerBySpringCGLIB$$66303639.saveComplexRuleAndActionTemplates(&lt;generated&gt;)\n                at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n                at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n...\n...\n...\n</code></pre>\n<p>What does the <code>$$</code> sign mean, and what is the 'generated' in this line?\n<code>com.panpwr.admin.services.detector.SimpleDetectorPersistenceService$$EnhancerBySpringCGLIB$$66303639.saveComplexRuleAndActionTemplates(&lt;generated&gt;)</code></p>\n<p>And why does it only say the executed method but not the line number in it?</p>\n"},{"tags":["java","scala","messaging","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":113266,"reputation":62487,"user_id":298389,"accept_rate":100,"display_name":"om-nom-nom"},"score":0,"creation_date":1438541731,"post_id":31775003,"comment_id":51481030,"body_markdown":"1. starting from 0.8.2 [you can commit offsets to kafka](https://cwiki.apache.org/confluence/display/KAFKA/Committing+and+fetching+consumer+offsets+in+Kafka) (zk is still used widely though) 2. yes, and it&#39;s fundamental problem (mind *exactly once processing*) 3. your zk session will expire (and if you have many consumers in group message may be rebalanced away from the original consumer). Frankly speaking kafka doesn&#39;t sound like a good fit if you have 1 message per day","body":"1. starting from 0.8.2 <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/Committing+and+fetching+consumer+offsets+in+Kafka\" rel=\"nofollow noreferrer\">you can commit offsets to kafka</a> (zk is still used widely though) 2. yes, and it&#39;s fundamental problem (mind <i>exactly once processing</i>) 3. your zk session will expire (and if you have many consumers in group message may be rebalanced away from the original consumer). Frankly speaking kafka doesn&#39;t sound like a good fit if you have 1 message per day"},{"owner":{"account_id":2321169,"reputation":9855,"user_id":2036867,"accept_rate":64,"display_name":"Nimrod007"},"score":0,"creation_date":1438542201,"post_id":31775003,"comment_id":51481194,"body_markdown":"i have many messages (lets say ~10k rpm), but in some cases i want to delay the message consumption (for example to have a delayed retry mechanism after some message process fails). if a rebalance occurs this will still work, the new consumer will delay the message","body":"i have many messages (lets say ~10k rpm), but in some cases i want to delay the message consumption (for example to have a delayed retry mechanism after some message process fails). if a rebalance occurs this will still work, the new consumer will delay the message"},{"owner":{"account_id":113266,"reputation":62487,"user_id":298389,"accept_rate":100,"display_name":"om-nom-nom"},"score":0,"creation_date":1438543877,"post_id":31775003,"comment_id":51481686,"body_markdown":"in this case you will end up with message being scheduled on many consumers: A consumes message 1, schedules it to run in 24h, **do not** commit offset and session is expired. B kicks in, consumes the very same message, schedules it to run in 24h, ... ultimately, this will spread like a virus. If you **do** commit message, it may be lost in case of faulty consumer, you can pick whichever is prefered for you (personally I would go for later one, it simplifies semantics). Is it an option to have kinda busy waiting?","body":"in this case you will end up with message being scheduled on many consumers: A consumes message 1, schedules it to run in 24h, <b>do not</b> commit offset and session is expired. B kicks in, consumes the very same message, schedules it to run in 24h, ... ultimately, this will spread like a virus. If you <b>do</b> commit message, it may be lost in case of faulty consumer, you can pick whichever is prefered for you (personally I would go for later one, it simplifies semantics). Is it an option to have kinda busy waiting?"},{"owner":{"account_id":2321169,"reputation":9855,"user_id":2036867,"accept_rate":64,"display_name":"Nimrod007"},"score":0,"creation_date":1438544375,"post_id":31775003,"comment_id":51481807,"body_markdown":"i dont schedule to run in 24 hours. i check the time it was submitted (its part of the message) and check the current time and see if 24 hours have passed. this way it wont &quot;spread&quot; like a virus and will be consumed. how can i set the session not to expire ?","body":"i dont schedule to run in 24 hours. i check the time it was submitted (its part of the message) and check the current time and see if 24 hours have passed. this way it wont &quot;spread&quot; like a virus and will be consumed. how can i set the session not to expire ?"},{"owner":{"account_id":113266,"reputation":62487,"user_id":298389,"accept_rate":100,"display_name":"om-nom-nom"},"score":1,"creation_date":1438545027,"post_id":31775003,"comment_id":51481987,"body_markdown":"there is `zookeeper.session.timeout.ms` parameter, which by default set to 6 seconds, but setting it to extreme value sounds like abuse of technology (zk would not be able to track which consumers are actualy died because of that).","body":"there is <code>zookeeper.session.timeout.ms</code> parameter, which by default set to 6 seconds, but setting it to extreme value sounds like abuse of technology (zk would not be able to track which consumers are actualy died because of that)."},{"owner":{"account_id":1455702,"reputation":15682,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1438789302,"post_id":31775003,"comment_id":51595704,"body_markdown":"https://en.wikipedia.org/wiki/Busy_waiting","body":"<a href=\"https://en.wikipedia.org/wiki/Busy_waiting\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Busy_waiting</a>"},{"owner":{"account_id":145593,"reputation":20491,"user_id":355499,"accept_rate":81,"display_name":"Emil L"},"score":0,"creation_date":1439953832,"post_id":31775003,"comment_id":52067642,"body_markdown":"If the message shouldn&#39;t be processed in such a long time as 24 hours Why not consume the message immediately after sticking it in some persistent storage? Then have a background task that (an akka actor perhaps since you are using Scala) that checks if it should process any new messages based on the time passed.","body":"If the message shouldn&#39;t be processed in such a long time as 24 hours Why not consume the message immediately after sticking it in some persistent storage? Then have a background task that (an akka actor perhaps since you are using Scala) that checks if it should process any new messages based on the time passed."},{"owner":{"account_id":2321169,"reputation":9855,"user_id":2036867,"accept_rate":64,"display_name":"Nimrod007"},"score":0,"creation_date":1439964184,"post_id":31775003,"comment_id":52070808,"body_markdown":"@EmilH - in trying not to introduce more complexity into the solution, DB writs can fail after consume from kafka, akka(jvm) can die with messages in mailboxes. but its a valid solution","body":"@EmilH - in trying not to introduce more complexity into the solution, DB writs can fail after consume from kafka, akka(jvm) can die with messages in mailboxes. but its a valid solution"},{"owner":{"account_id":1609777,"reputation":1063,"user_id":1489121,"display_name":"Krzysztof Tomaszewski"},"score":0,"creation_date":1579608036,"post_id":31775003,"comment_id":105815330,"body_markdown":"Kafka is not a message queue and the requirement you have is handled by message queue solutions. Search for &quot;delivery delay&quot; - something present in JMS 2.0.","body":"Kafka is not a message queue and the requirement you have is handled by message queue solutions. Search for &quot;delivery delay&quot; - something present in JMS 2.0."}],"answers":[{"tags":[],"owner":{"account_id":145593,"reputation":20491,"user_id":355499,"accept_rate":81,"display_name":"Emil L"},"down_vote_count":1,"up_vote_count":26,"is_accepted":true,"score":25,"last_activity_date":1632242709,"creation_date":1440062606,"answer_id":32114387,"question_id":31775003,"body_markdown":"One way to go about this would be to use a different topic where you push all messages that are to be delayed. If all delayed messages should be processed after the same time delay this will be fairly straight forward:\r\n\r\n    while(it.hasNext()) {\r\n        val message = it.next().message()\r\n        \r\n        if(shouldBeDelayed(message)) {\r\n            val delay = 24 hours\r\n            val delayTo = getCurrentTime() + delay\r\n            putMessageOnDelayedQueue(message, delay, delayTo)\r\n        }\r\n        else {\r\n           process(message)\r\n        }\r\n\r\n        consumer.commitOffset()\r\n    }\r\n\r\n\r\nAll regular messages will now be processed as soon as possible while those that need a delay gets put on another topic. \r\n\r\nThe nice thing is that we know that the message at the head of the delayed topic is the one that should be processed first since its delayTo value will be the smallest. Therefore we can set up another consumer that reads the head message, checks if the timestamp is in the past and if so processes the message and commits the offset. If not it does not commit the offset and instead just sleeps until that time:\r\n\r\n    while(it.hasNext()) {\r\n        val delayedMessage = it.peek().message()\r\n        if(delayedMessage.delayTo &lt; getCurrentTime()) {\r\n            val readMessage = it.next().message\r\n            process(readMessage.originalMessage)\r\n            consumer.commitOffset()\r\n        } else {\r\n            delayProcessingUntil(delayedMessage.delayTo)\r\n        }\r\n    }\r\n\r\nIn case there are different delay times you could partition the topic on the delay (e.g. 24 hours, 12 hours, 6 hours). If the delay time is more dynamic than that it becomes a bit more complex. You could solve it by introducing having two delay topics. Read all messages off delay topic `A` and process all the messages whose `delayTo` value are in the past. Among the others you just find the one with the closest `delayTo` and then put them on topic `B`. Sleep until the closest one should be processed and do it all in reverse, i.e. process messages from topic `B` and put the once that shouldn&#39;t yet be proccessed back on topic `A`.\r\n\r\nTo answer your specific questions (some have been addressed in the comments to your question)\r\n\r\n&gt; 1. Commit each offset might slow ZK down\r\n\r\nYou could consider switching to storing the offset in Kafka (a feature available from 0.8.2, check out `offsets.storage` property in consumer config)\r\n\r\n&gt; 2. Can consumer.commitOffsets throw an exception? if yes, I will consume the same message twice (can solve with idempotent messages)\r\n\r\nI believe it can, if it is not able to communicate with the offset storage for instance. Using idempotent messages solves this problem though, as you say.\r\n\r\n&gt; 3. Problem waiting long time without committing the offset, for example delay period is 24 hours, will get next from iterator, sleep for 24 hours, process and commit (ZK session timeout?)\r\n\r\nThis won&#39;t be a problem with the above outlined solution unless the processing of the message itself takes more than the session timeout.\r\n    \r\n&gt; 4. How can ZK session keep-alive without commit new offsets? (setting a hive zookeeper.session.timeout.ms can resolve in dead consumer without recognizing it)\r\n\r\nAgain with the above you shouldn&#39;t need to set a long session timeout.\r\n\r\n&gt; 5. Any other problems I&#39;m missing?\r\n\r\nThere always are ;)","title":"Kafka - Delayed Queue implementation using high level consumer","body":"<p>One way to go about this would be to use a different topic where you push all messages that are to be delayed. If all delayed messages should be processed after the same time delay this will be fairly straight forward:</p>\n<pre><code>while(it.hasNext()) {\n    val message = it.next().message()\n    \n    if(shouldBeDelayed(message)) {\n        val delay = 24 hours\n        val delayTo = getCurrentTime() + delay\n        putMessageOnDelayedQueue(message, delay, delayTo)\n    }\n    else {\n       process(message)\n    }\n\n    consumer.commitOffset()\n}\n</code></pre>\n<p>All regular messages will now be processed as soon as possible while those that need a delay gets put on another topic.</p>\n<p>The nice thing is that we know that the message at the head of the delayed topic is the one that should be processed first since its delayTo value will be the smallest. Therefore we can set up another consumer that reads the head message, checks if the timestamp is in the past and if so processes the message and commits the offset. If not it does not commit the offset and instead just sleeps until that time:</p>\n<pre><code>while(it.hasNext()) {\n    val delayedMessage = it.peek().message()\n    if(delayedMessage.delayTo &lt; getCurrentTime()) {\n        val readMessage = it.next().message\n        process(readMessage.originalMessage)\n        consumer.commitOffset()\n    } else {\n        delayProcessingUntil(delayedMessage.delayTo)\n    }\n}\n</code></pre>\n<p>In case there are different delay times you could partition the topic on the delay (e.g. 24 hours, 12 hours, 6 hours). If the delay time is more dynamic than that it becomes a bit more complex. You could solve it by introducing having two delay topics. Read all messages off delay topic <code>A</code> and process all the messages whose <code>delayTo</code> value are in the past. Among the others you just find the one with the closest <code>delayTo</code> and then put them on topic <code>B</code>. Sleep until the closest one should be processed and do it all in reverse, i.e. process messages from topic <code>B</code> and put the once that shouldn't yet be proccessed back on topic <code>A</code>.</p>\n<p>To answer your specific questions (some have been addressed in the comments to your question)</p>\n<blockquote>\n<ol>\n<li>Commit each offset might slow ZK down</li>\n</ol>\n</blockquote>\n<p>You could consider switching to storing the offset in Kafka (a feature available from 0.8.2, check out <code>offsets.storage</code> property in consumer config)</p>\n<blockquote>\n<ol start=\"2\">\n<li>Can consumer.commitOffsets throw an exception? if yes, I will consume the same message twice (can solve with idempotent messages)</li>\n</ol>\n</blockquote>\n<p>I believe it can, if it is not able to communicate with the offset storage for instance. Using idempotent messages solves this problem though, as you say.</p>\n<blockquote>\n<ol start=\"3\">\n<li>Problem waiting long time without committing the offset, for example delay period is 24 hours, will get next from iterator, sleep for 24 hours, process and commit (ZK session timeout?)</li>\n</ol>\n</blockquote>\n<p>This won't be a problem with the above outlined solution unless the processing of the message itself takes more than the session timeout.</p>\n<blockquote>\n<ol start=\"4\">\n<li>How can ZK session keep-alive without commit new offsets? (setting a hive zookeeper.session.timeout.ms can resolve in dead consumer without recognizing it)</li>\n</ol>\n</blockquote>\n<p>Again with the above you shouldn't need to set a long session timeout.</p>\n<blockquote>\n<ol start=\"5\">\n<li>Any other problems I'm missing?</li>\n</ol>\n</blockquote>\n<p>There always are ;)</p>\n"},{"tags":[],"owner":{"account_id":344176,"reputation":2206,"user_id":676344,"accept_rate":43,"display_name":"nucatus"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1474624341,"creation_date":1474624341,"answer_id":39657817,"question_id":31775003,"body_markdown":"I would suggest another route in your cases. \r\n\r\nIt doesn&#39;t make sense to address the waiting time in the main thread of the consumer. This will be an anti-pattern in how the queues are used. Conceptually, you need to process the messages as fastest as possible and keep the queue at a low loading factor.\r\n\r\nInstead, I would use a scheduler that will schedule jobs for each message you are need to delay. This way you can process the queue and create asynchronous jobs that will be triggered at predefined points in time. \r\n\r\nThe downfall of using this technique is that it is sensible to the status of the JVM that holds the scheduled jobs in memory. If that JVM fails, you loose the scheduled jobs and you don&#39;t know if the task was or was not executed. \r\n\r\nThere are scheduler implementations, though that can be configured to run in a cluster environment, thus keeping you safe from JVM crashes. \r\n\r\nTake a look at this java scheduling framework: http://www.quartz-scheduler.org/ ","title":"Kafka - Delayed Queue implementation using high level consumer","body":"<p>I would suggest another route in your cases. </p>\n\n<p>It doesn't make sense to address the waiting time in the main thread of the consumer. This will be an anti-pattern in how the queues are used. Conceptually, you need to process the messages as fastest as possible and keep the queue at a low loading factor.</p>\n\n<p>Instead, I would use a scheduler that will schedule jobs for each message you are need to delay. This way you can process the queue and create asynchronous jobs that will be triggered at predefined points in time. </p>\n\n<p>The downfall of using this technique is that it is sensible to the status of the JVM that holds the scheduled jobs in memory. If that JVM fails, you loose the scheduled jobs and you don't know if the task was or was not executed. </p>\n\n<p>There are scheduler implementations, though that can be configured to run in a cluster environment, thus keeping you safe from JVM crashes. </p>\n\n<p>Take a look at this java scheduling framework: <a href=\"http://www.quartz-scheduler.org/\" rel=\"nofollow\">http://www.quartz-scheduler.org/</a> </p>\n"},{"tags":[],"owner":{"account_id":3382635,"reputation":551,"user_id":3705186,"accept_rate":67,"display_name":"Dhyan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1491316454,"creation_date":1491316454,"answer_id":43210252,"question_id":31775003,"body_markdown":"Use Tibco EMS or other JMS Queue&#39;s. They have retry delay built in . Kafka may not be the right design choice for what you are doing","title":"Kafka - Delayed Queue implementation using high level consumer","body":"<p>Use Tibco EMS or other JMS Queue's. They have retry delay built in . Kafka may not be the right design choice for what you are doing</p>\n"},{"tags":[],"owner":{"account_id":301693,"reputation":827,"user_id":609597,"accept_rate":50,"display_name":"softwarevamp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516933546,"creation_date":1516875731,"answer_id":48440537,"question_id":31775003,"body_markdown":"Keyed-list on schedule or its redis alternative may be best approaches.","title":"Kafka - Delayed Queue implementation using high level consumer","body":"<p>Keyed-list on schedule or its redis alternative may be best approaches.</p>\n"},{"tags":[],"owner":{"account_id":1621401,"reputation":126,"user_id":1497854,"display_name":"Dennis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633600572,"creation_date":1633600572,"answer_id":69479130,"question_id":31775003,"body_markdown":"We had the same issue during one of our tasks. Although, eventually, it was solved without using delayed queues, but when exploring the solution, the best approach we found was to use `pause` and `resume` functionality provided by the `KafkaConsumer` API. This approach and its motivation is perfectly described here: https://medium.com/naukri-engineering/retry-mechanism-and-delay-queues-in-apache-kafka-528a6524f722","title":"Kafka - Delayed Queue implementation using high level consumer","body":"<p>We had the same issue during one of our tasks. Although, eventually, it was solved without using delayed queues, but when exploring the solution, the best approach we found was to use <code>pause</code> and <code>resume</code> functionality provided by the <code>KafkaConsumer</code> API. This approach and its motivation is perfectly described here: <a href=\"https://medium.com/naukri-engineering/retry-mechanism-and-delay-queues-in-apache-kafka-528a6524f722\" rel=\"nofollow noreferrer\">https://medium.com/naukri-engineering/retry-mechanism-and-delay-queues-in-apache-kafka-528a6524f722</a></p>\n"}],"owner":{"account_id":2321169,"reputation":9855,"user_id":2036867,"accept_rate":64,"display_name":"Nimrod007"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43660,"favorite_count":0,"down_vote_count":1,"up_vote_count":31,"accepted_answer_id":32114387,"answer_count":5,"score":30,"last_activity_date":1633600572,"creation_date":1438539007,"question_id":31775003,"body_markdown":"Want to implement a delayed consumer using the high level consumer api \r\n\r\nmain idea:\r\n\r\n - produce messages by key (each msg contains creation timestamp) this makes sure that each partition has ordered messages by produced time.\r\n - auto.commit.enable=false (will explicitly commit after each message process)\r\n - consume a message\r\n - check message timestamp and check if enough time has passed\r\n - process message (this operation will never fail)\r\n - commit 1 offset\r\n\r\n        while (it.hasNext()) {\r\n          val msg = it.next().message()\r\n          //checks timestamp in msg to see delay period exceeded\r\n          while (!delayedPeriodPassed(msg)) { \r\n             waitSomeTime() //Thread.sleep or something....\r\n          }\r\n          //certain that the msg was delayed and can now be handled\r\n          Try { process(msg) } //the msg process will never fail the consumer\r\n          consumer.commitOffsets //commit each msg\r\n        }\r\n\r\n\r\nsome concerns about this implementation:\r\n\r\n 1. commit each offset might slow ZK down\r\n 2. can consumer.commitOffsets throw an exception? if yes i will consume the same message twice (can solve with idempotent messages)\r\n 3. problem waiting long time without committing the offset, for example delay period is 24 hours, will get next from iterator, sleep for 24 hours, process and commit (ZK session timeout ?)\r\n 4. how can ZK session keep-alive without commit new offsets ? (setting a hive zookeeper.session.timeout.ms can resolve in dead consumer without recognising it)\r\n 5. any other problems im missing?\r\n\r\nThanks!","title":"Kafka - Delayed Queue implementation using high level consumer","body":"<p>Want to implement a delayed consumer using the high level consumer api </p>\n\n<p>main idea:</p>\n\n<ul>\n<li>produce messages by key (each msg contains creation timestamp) this makes sure that each partition has ordered messages by produced time.</li>\n<li>auto.commit.enable=false (will explicitly commit after each message process)</li>\n<li>consume a message</li>\n<li>check message timestamp and check if enough time has passed</li>\n<li>process message (this operation will never fail)</li>\n<li><p>commit 1 offset</p>\n\n<pre><code>while (it.hasNext()) {\n  val msg = it.next().message()\n  //checks timestamp in msg to see delay period exceeded\n  while (!delayedPeriodPassed(msg)) { \n     waitSomeTime() //Thread.sleep or something....\n  }\n  //certain that the msg was delayed and can now be handled\n  Try { process(msg) } //the msg process will never fail the consumer\n  consumer.commitOffsets //commit each msg\n}\n</code></pre></li>\n</ul>\n\n<p>some concerns about this implementation:</p>\n\n<ol>\n<li>commit each offset might slow ZK down</li>\n<li>can consumer.commitOffsets throw an exception? if yes i will consume the same message twice (can solve with idempotent messages)</li>\n<li>problem waiting long time without committing the offset, for example delay period is 24 hours, will get next from iterator, sleep for 24 hours, process and commit (ZK session timeout ?)</li>\n<li>how can ZK session keep-alive without commit new offsets ? (setting a hive zookeeper.session.timeout.ms can resolve in dead consumer without recognising it)</li>\n<li>any other problems im missing?</li>\n</ol>\n\n<p>Thanks!</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1633576616,"post_id":69474879,"comment_id":122798074,"body_markdown":"The code is out of context, but, based on `public class Circle {`, I wouldn&#39;t say you&#39;re using an actual &quot;factory&quot; pattern, as a &quot;factory&quot; would return a base representation, the implementation details been unimportant.  Like a `Car`, but the factory could produce a `Ford` or `Tesla`, but they are still a instance of `Car`","body":"The code is out of context, but, based on <code>public class Circle {</code>, I wouldn&#39;t say you&#39;re using an actual &quot;factory&quot; pattern, as a &quot;factory&quot; would return a base representation, the implementation details been unimportant.  Like a <code>Car</code>, but the factory could produce a <code>Ford</code> or <code>Tesla</code>, but they are still a instance of <code>Car</code>"},{"owner":{"account_id":22965318,"reputation":1,"user_id":17094454,"display_name":"Billu12"},"score":0,"creation_date":1633577774,"post_id":69474879,"comment_id":122798254,"body_markdown":"I have updated the Codes let me know if that helps","body":"I have updated the Codes let me know if that helps"},{"owner":{"account_id":1455702,"reputation":15682,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1633618095,"post_id":69474879,"comment_id":122812815,"body_markdown":"It seems very strange to write some code and assume it&#39;s a pattern. Firstly, you don&#39;t need to use any pattern to write code. Secondly, if you want to learn about patterns, then why not study patterns? There are plenty of books, videos, blogs, etc. where you don&#39;t need to guess. Thirdly, patterns are not a good way to learn programming, IMO. They are not a beginner/introductory topic. Knowing how to code _without_ patterns is more valuable than knowing patterns. Patterns are secondary.","body":"It seems very strange to write some code and assume it&#39;s a pattern. Firstly, you don&#39;t need to use any pattern to write code. Secondly, if you want to learn about patterns, then why not study patterns? There are plenty of books, videos, blogs, etc. where you don&#39;t need to guess. Thirdly, patterns are not a good way to learn programming, IMO. They are not a beginner/introductory topic. Knowing how to code <i>without</i> patterns is more valuable than knowing patterns. Patterns are secondary."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633600372,"creation_date":1633580846,"answer_id":69475460,"question_id":69474879,"body_markdown":"A &quot;factory&quot; creates &quot;something&quot;, the important thing in this context is, you don&#39;t care &quot;how&quot; it&#39;s created, only that it conforms to the specified type.\r\n\r\nFor example, you have a `ShapeFactory` which can create different shapes, you don&#39;t care &quot;how&quot; those shapes are defined or implemented, only that they conform to the notion of a &quot;shape&quot;\r\n\r\nSo, lets start with a basic concept...\r\n    \r\n    public interface Shape {\r\n        public void paint(Graphics2D g2d);\r\n    }\r\n\r\nThis just defines a basic concept and states that it can be painted.\r\n\r\nNext, we need something to create those shapes...\r\n    \r\n    public class ShapeFactory {\r\n        \r\n        enum ShapeType {\r\n            CIRCLE, RECTANGE, SQUARE;\r\n        }\r\n        \r\n        public static Shape create(ShapeType type, int x, int y, int width, int height, Color storkeColor, Color fillColor) {\r\n            return null;\r\n        }\r\n        \r\n    }\r\n\r\nOk, as it stands, that&#39;s pretty boring, it&#39;s only ever going to return `null` right now, but this gives us a basic contract.\r\n\r\n&quot;Please factory, create me shape of the specified type, within the specified bounds, with the specified colors&quot;\r\n\r\nNow, as I said, the implementation is unimportant, to the caller, and we could have a dynamic factory which could delegate the creation to other factories which could create shapes differently based on a wide ranging set of needs ... but that&#39;s getting ahead of ourselves.\r\n\r\nLet&#39;s go about creating some actual shapes...\r\n\r\n    public abstract class AbstractShape implements Shape {\r\n\r\n        private int x;\r\n        private int y;\r\n        private int width;\r\n        private int height;\r\n        \r\n        private Color storkeColor;\r\n        private Color fillColor;\r\n\r\n        public AbstractShape(Color storkeColor, Color fillColor) {\r\n            this.storkeColor = storkeColor;\r\n            this.fillColor = fillColor;\r\n        }\r\n\r\n        public AbstractShape(int x, int y, int width, int height, Color storkeColor, Color fillColor) {\r\n            this(storkeColor, fillColor);\r\n            this.x = x;\r\n            this.y = y;\r\n            this.width = width;\r\n            this.height = height;\r\n        }\r\n\r\n        public int getX() {\r\n            return x;\r\n        }\r\n\r\n        public int getY() {\r\n            return y;\r\n        }\r\n\r\n        public int getWidth() {\r\n            return width;\r\n        }\r\n\r\n        public int getHeight() {\r\n            return height;\r\n        }\r\n\r\n        protected void setX(int x) {\r\n            this.x = x;\r\n        }\r\n\r\n        protected void setY(int y) {\r\n            this.y = y;\r\n        }\r\n\r\n        protected void setWidth(int width) {\r\n            this.width = width;\r\n        }\r\n\r\n        protected void setHeight(int height) {\r\n            this.height = height;\r\n        }\r\n\r\n        public Color getStorkeColor() {\r\n            return storkeColor;\r\n        }\r\n\r\n        public Color getFillColor() {\r\n            return fillColor;\r\n        }\r\n\r\n        @Override\r\n        public void paint(Graphics2D g2d) {\r\n            Graphics2D g = (Graphics2D) g2d.create();\r\n            Color storkeColor = getStorkeColor();\r\n            Color fillColor = getFillColor();\r\n            \r\n            if (fillColor != null) {\r\n                g.setColor(fillColor);\r\n                paintFilled(g);\r\n            }\r\n            \r\n            if (storkeColor != null) {\r\n                g.setColor(storkeColor);\r\n                paintStroked(g);\r\n            }\r\n            g.dispose();\r\n        }\r\n        \r\n        abstract protected void paintFilled(Graphics2D g2d);\r\n        abstract protected void paintStroked(Graphics2D g2d);\r\n        \r\n    }\r\n    \r\n    public class CircleShape extends AbstractShape {\r\n\r\n        public CircleShape(int x, int y, int width, int height, Color storkeColor, Color fillColor) {\r\n            super(storkeColor, fillColor);\r\n            int size = Math.min(width, height);\r\n            x = x + ((width - size) / 2);\r\n            y = y + ((height - size) / 2);\r\n            \r\n            setX(x);\r\n            setY(y);\r\n            setWidth(size);\r\n            setHeight(size);\r\n        }\r\n\r\n        @Override\r\n        protected void paintFilled(Graphics2D g2d) {\r\n            g2d.fillOval(getX(), getY(), getWidth(), getHeight());\r\n        }\r\n\r\n        @Override\r\n        protected void paintStroked(Graphics2D g2d) {\r\n            g2d.drawOval(getX(), getY(), getWidth(), getHeight());\r\n        }\r\n        \r\n    }\r\n           \r\n    public class SquareShape extends AbstractShape {\r\n\r\n        public SquareShape(int x, int y, int width, int height, Color storkeColor, Color fillColor) {\r\n            super(storkeColor, fillColor);\r\n            int size = Math.min(width, height);\r\n            x = x + ((width - size) / 2);\r\n            y = y + ((height - size) / 2);\r\n            \r\n            setX(x);\r\n            setY(y);\r\n            setWidth(size);\r\n            setHeight(size);\r\n        }\r\n\r\n        @Override\r\n        protected void paintFilled(Graphics2D g2d) {\r\n            g2d.fillRect(getX(), getY(), getWidth(), getHeight());\r\n        }\r\n\r\n        @Override\r\n        protected void paintStroked(Graphics2D g2d) {\r\n            g2d.drawRect(getX(), getY(), getWidth(), getHeight());\r\n        }\r\n        \r\n    }\r\n           \r\n    public class RectagleShape extends AbstractShape {\r\n\r\n        public RectagleShape(int x, int y, int width, int height, Color storkeColor, Color fillColor) {\r\n            super(x, y, width, height, storkeColor, fillColor);\r\n        }\r\n\r\n        @Override\r\n        protected void paintFilled(Graphics2D g2d) {\r\n            g2d.fillRect(getX(), getY(), getWidth(), getHeight());\r\n        }\r\n\r\n        @Override\r\n        protected void paintStroked(Graphics2D g2d) {\r\n            g2d.drawRect(getX(), getY(), getWidth(), getHeight());\r\n        }\r\n        \r\n    }\r\n\r\nI always like a `abstract` class to carry the &quot;common&quot; functionality and to help make life a little simpler.\r\n\r\nThe important thing here is to note that both `CircleShape` and `SquareShape`, by their nature are, well, square (they have equal width and height).  So, in this implementation, I define them to fit within the middle of the specified bounds - this is a &quot;implementation&quot; detail.\r\n\r\n&quot;But isn&#39;t that what I&#39;m doing you?&quot; you ask.  Well, no, not really.  When you call `shape.getS()`, for example, it&#39;s return a concrete class, which I assume has the same properties as the last object created by it, otherwise it will move all over the place.\r\n\r\nInstead, what I&#39;m doing is allowing you to define the properties you want the shape to have and then making it.\r\n\r\nYou want a cake?  Sure, pass me the ingredients and I&#39;ll make you  a cake, you still end up with a cake, but depending on the ingredients it&#39;s a different &quot;type&quot; of cake.\r\n\r\nSo, based on the above, we could do something like...\r\n\r\n[![All your shape belong to us][1]][1]\r\n\r\n    public class TestPane extends JPanel {\r\n        \r\n        private List&lt;Shape&gt; shapes = new ArrayList&lt;&gt;(25);\r\n        \r\n        public TestPane() {\r\n            shapes.add(ShapeFactory.create(ShapeFactory.ShapeType.CIRCLE, 10, 10, 200, 100, Color.RED, Color.BLUE));\r\n            shapes.add(ShapeFactory.create(ShapeFactory.ShapeType.RECTANGE, 10, 120, 200, 100, Color.BLUE, Color.GREEN));\r\n            shapes.add(ShapeFactory.create(ShapeFactory.ShapeType.SQUARE, 10, 240, 200, 100, Color.GREEN, Color.YELLOW));\r\n        }\r\n\r\n        @Override\r\n        public Dimension getPreferredSize() {\r\n            return new Dimension(220, 350);\r\n        }\r\n        \r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            Graphics2D g2d = (Graphics2D) g.create();\r\n            for (Shape shape : shapes) {\r\n                shape.paint(g2d);\r\n            }\r\n            g2d.dispose();\r\n        }\r\n        \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8tWxK.png\r\n\r\nI could have made the `ShapeFactory` with dedicated `createCircle`, `createRectangle` and `createSquare` methods, I could have had them return `interfaces` of `Circle`, `Square` and `Rectangle` (and I would have based those of `Shape` because I&#39;m like that) and it would still be a factory.\r\n\r\nOne of things to keep in mind is, a &quot;factory&quot; should be implementation independent.  I should be able to make use of &quot;different&quot; shape factories to get different effects, but at the end of the day, they&#39;d still just be generating `Shape`s\r\n\r\nRemember, a factory will take something and it will create something from it.","title":"Looking at YouTube and google I created Code for a simple Jpanel with Button However What the videos don&#39;t tell me is what Design patterns am i using","body":"<p>A &quot;factory&quot; creates &quot;something&quot;, the important thing in this context is, you don't care &quot;how&quot; it's created, only that it conforms to the specified type.</p>\n<p>For example, you have a <code>ShapeFactory</code> which can create different shapes, you don't care &quot;how&quot; those shapes are defined or implemented, only that they conform to the notion of a &quot;shape&quot;</p>\n<p>So, lets start with a basic concept...</p>\n<pre><code>public interface Shape {\n    public void paint(Graphics2D g2d);\n}\n</code></pre>\n<p>This just defines a basic concept and states that it can be painted.</p>\n<p>Next, we need something to create those shapes...</p>\n<pre><code>public class ShapeFactory {\n    \n    enum ShapeType {\n        CIRCLE, RECTANGE, SQUARE;\n    }\n    \n    public static Shape create(ShapeType type, int x, int y, int width, int height, Color storkeColor, Color fillColor) {\n        return null;\n    }\n    \n}\n</code></pre>\n<p>Ok, as it stands, that's pretty boring, it's only ever going to return <code>null</code> right now, but this gives us a basic contract.</p>\n<p>&quot;Please factory, create me shape of the specified type, within the specified bounds, with the specified colors&quot;</p>\n<p>Now, as I said, the implementation is unimportant, to the caller, and we could have a dynamic factory which could delegate the creation to other factories which could create shapes differently based on a wide ranging set of needs ... but that's getting ahead of ourselves.</p>\n<p>Let's go about creating some actual shapes...</p>\n<pre><code>public abstract class AbstractShape implements Shape {\n\n    private int x;\n    private int y;\n    private int width;\n    private int height;\n    \n    private Color storkeColor;\n    private Color fillColor;\n\n    public AbstractShape(Color storkeColor, Color fillColor) {\n        this.storkeColor = storkeColor;\n        this.fillColor = fillColor;\n    }\n\n    public AbstractShape(int x, int y, int width, int height, Color storkeColor, Color fillColor) {\n        this(storkeColor, fillColor);\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public int getWidth() {\n        return width;\n    }\n\n    public int getHeight() {\n        return height;\n    }\n\n    protected void setX(int x) {\n        this.x = x;\n    }\n\n    protected void setY(int y) {\n        this.y = y;\n    }\n\n    protected void setWidth(int width) {\n        this.width = width;\n    }\n\n    protected void setHeight(int height) {\n        this.height = height;\n    }\n\n    public Color getStorkeColor() {\n        return storkeColor;\n    }\n\n    public Color getFillColor() {\n        return fillColor;\n    }\n\n    @Override\n    public void paint(Graphics2D g2d) {\n        Graphics2D g = (Graphics2D) g2d.create();\n        Color storkeColor = getStorkeColor();\n        Color fillColor = getFillColor();\n        \n        if (fillColor != null) {\n            g.setColor(fillColor);\n            paintFilled(g);\n        }\n        \n        if (storkeColor != null) {\n            g.setColor(storkeColor);\n            paintStroked(g);\n        }\n        g.dispose();\n    }\n    \n    abstract protected void paintFilled(Graphics2D g2d);\n    abstract protected void paintStroked(Graphics2D g2d);\n    \n}\n\npublic class CircleShape extends AbstractShape {\n\n    public CircleShape(int x, int y, int width, int height, Color storkeColor, Color fillColor) {\n        super(storkeColor, fillColor);\n        int size = Math.min(width, height);\n        x = x + ((width - size) / 2);\n        y = y + ((height - size) / 2);\n        \n        setX(x);\n        setY(y);\n        setWidth(size);\n        setHeight(size);\n    }\n\n    @Override\n    protected void paintFilled(Graphics2D g2d) {\n        g2d.fillOval(getX(), getY(), getWidth(), getHeight());\n    }\n\n    @Override\n    protected void paintStroked(Graphics2D g2d) {\n        g2d.drawOval(getX(), getY(), getWidth(), getHeight());\n    }\n    \n}\n       \npublic class SquareShape extends AbstractShape {\n\n    public SquareShape(int x, int y, int width, int height, Color storkeColor, Color fillColor) {\n        super(storkeColor, fillColor);\n        int size = Math.min(width, height);\n        x = x + ((width - size) / 2);\n        y = y + ((height - size) / 2);\n        \n        setX(x);\n        setY(y);\n        setWidth(size);\n        setHeight(size);\n    }\n\n    @Override\n    protected void paintFilled(Graphics2D g2d) {\n        g2d.fillRect(getX(), getY(), getWidth(), getHeight());\n    }\n\n    @Override\n    protected void paintStroked(Graphics2D g2d) {\n        g2d.drawRect(getX(), getY(), getWidth(), getHeight());\n    }\n    \n}\n       \npublic class RectagleShape extends AbstractShape {\n\n    public RectagleShape(int x, int y, int width, int height, Color storkeColor, Color fillColor) {\n        super(x, y, width, height, storkeColor, fillColor);\n    }\n\n    @Override\n    protected void paintFilled(Graphics2D g2d) {\n        g2d.fillRect(getX(), getY(), getWidth(), getHeight());\n    }\n\n    @Override\n    protected void paintStroked(Graphics2D g2d) {\n        g2d.drawRect(getX(), getY(), getWidth(), getHeight());\n    }\n    \n}\n</code></pre>\n<p>I always like a <code>abstract</code> class to carry the &quot;common&quot; functionality and to help make life a little simpler.</p>\n<p>The important thing here is to note that both <code>CircleShape</code> and <code>SquareShape</code>, by their nature are, well, square (they have equal width and height).  So, in this implementation, I define them to fit within the middle of the specified bounds - this is a &quot;implementation&quot; detail.</p>\n<p>&quot;But isn't that what I'm doing you?&quot; you ask.  Well, no, not really.  When you call <code>shape.getS()</code>, for example, it's return a concrete class, which I assume has the same properties as the last object created by it, otherwise it will move all over the place.</p>\n<p>Instead, what I'm doing is allowing you to define the properties you want the shape to have and then making it.</p>\n<p>You want a cake?  Sure, pass me the ingredients and I'll make you  a cake, you still end up with a cake, but depending on the ingredients it's a different &quot;type&quot; of cake.</p>\n<p>So, based on the above, we could do something like...</p>\n<p><a href=\"https://i.stack.imgur.com/8tWxK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8tWxK.png\" alt=\"All your shape belong to us\" /></a></p>\n<pre><code>public class TestPane extends JPanel {\n    \n    private List&lt;Shape&gt; shapes = new ArrayList&lt;&gt;(25);\n    \n    public TestPane() {\n        shapes.add(ShapeFactory.create(ShapeFactory.ShapeType.CIRCLE, 10, 10, 200, 100, Color.RED, Color.BLUE));\n        shapes.add(ShapeFactory.create(ShapeFactory.ShapeType.RECTANGE, 10, 120, 200, 100, Color.BLUE, Color.GREEN));\n        shapes.add(ShapeFactory.create(ShapeFactory.ShapeType.SQUARE, 10, 240, 200, 100, Color.GREEN, Color.YELLOW));\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(220, 350);\n    }\n    \n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2d = (Graphics2D) g.create();\n        for (Shape shape : shapes) {\n            shape.paint(g2d);\n        }\n        g2d.dispose();\n    }\n    \n}\n</code></pre>\n<p>I could have made the <code>ShapeFactory</code> with dedicated <code>createCircle</code>, <code>createRectangle</code> and <code>createSquare</code> methods, I could have had them return <code>interfaces</code> of <code>Circle</code>, <code>Square</code> and <code>Rectangle</code> (and I would have based those of <code>Shape</code> because I'm like that) and it would still be a factory.</p>\n<p>One of things to keep in mind is, a &quot;factory&quot; should be implementation independent.  I should be able to make use of &quot;different&quot; shape factories to get different effects, but at the end of the day, they'd still just be generating <code>Shape</code>s</p>\n<p>Remember, a factory will take something and it will create something from it.</p>\n"}],"owner":{"account_id":22965318,"reputation":1,"user_id":17094454,"display_name":"Billu12"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633600372,"creation_date":1633575030,"question_id":69474879,"body_markdown":"I created an application which allows instantiating shapes which can be circle rectangle or anything and used sorting technique (Bubble Sort) to sort the six shapes based on interfaces. \r\n\r\nThe problem is I am not familiar with Design patterns and what patterns are being used- I am new so i followed youtube videos and played around with it and it worked. \r\n\r\nI have 1 main class where I have \r\nMAIN : \r\n\r\n    public class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tJButton btnLoadShapes, btnSortShapes;\r\n\t\t\r\n\t\tbtnLoadShapes = new JButton(&quot;Load Shapes&quot;);\r\n\t\tbtnLoadShapes.setBounds(150, 10, 150, 30);\r\n\t\t\r\n\t\tbtnSortShapes = new JButton(&quot;Sort Shapes&quot;);\r\n\t\tbtnSortShapes.setBounds(310, 10, 150, 30);\r\n\t\t\r\n\t\t\r\n\t\tJPanel panelShapes = new JPanel() {\r\n\t\t\tpublic void paintComponent(Graphics g) {\r\n\t\t\t\tGraphics2D g2d = (Graphics2D) g;\r\n\t\t\t\t\r\n\t\t\t\tShape shape = new Shape();\r\n\t\t\t\tg2d.setColor(Color.RED);\r\n\t\t\t\tSquare s = shape.getS();\r\n\t\t\t\r\n\t\t\t\tg2d.fillRect(s.getX(),s.getY(),s.getWidth(), s.getHeight());\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tg2d.setColor(Color.BLUE);\r\n\t\t\t\tCircle c = shape.getC();\r\n\t\t\t\tg2d.fillOval(c.getX(),c.getY(), c.getWidth(), c.getHeight());\r\n\t\t\t\t\r\n\t\t\t\tg2d.setColor(new Color(131, 21, 1));\r\n\t\t\t\tRectangle r = shape.getR();\r\n\t\t\t\tg2d.fillRect(r.getX(), r.getY(), r.getWidth(), r.getHeight());\r\n\t\t\t\t\r\n\t\t\t\tg2d.setColor(Color.PINK);\r\n\t\t\t\tCircle C1 = shape.getC1();\r\n\t\t\t\tg2d.fillOval(C1.getX(),C1.getY(), C1.getWidth(), C1.getHeight());\r\n\t\t\t\t\r\n\t\t\t\tg2d.setColor(Color.green);\r\n\t\t\t\tSquare S1 = shape.getS1();\r\n\t\t\t\tg2d.fillRect(S1.getX(),S1.getY(),S1.getWidth(), S1.getHeight());\r\n\t\t\t\t\r\n\t\t\t\tg2d.setColor(Color.magenta);\r\n\t\t\t\tRectangle r2 = shape.getR2();\r\n\t\t\t\tg2d.fillRect(r2.getX(),r2.getY(),r2.getWidth(), r2.getHeight());\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t} \r\n\r\n\t\t};\r\n\t\t\r\n\t\tpanelShapes.setBounds(10, 50, 560, 500);\r\n\t\tpanelShapes.setBorder(BorderFactory.createLineBorder(Color.BLACK));\r\n\t\tpanelShapes.setVisible(false);\r\n\t\t\r\n\t\tbtnLoadShapes.addActionListener(new ActionListener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tpanelShapes.setVisible(true);\r\n\t\t\t}\r\n\t\t});\r\n\r\nand i have created 3 different classes Circle Rectangle and Square - from which i call for rectangle = shape.getC(); \r\nFor example \r\npublic class Circle {\r\n\tprivate int x, y, width, height;\r\n\t\r\n\tpublic Circle(int x, int y, int width, int height) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\t}\r\n\r\n\tpublic int getX() {\r\n\t\treturn x;\r\n\t}\r\n\r\n\tpublic void setX(int x) {\r\n\t\tthis.x = x;\r\n\t}\r\n\r\n\tpublic int getY() {\r\n\t\treturn y;\r\n\t}\r\n\r\n\tpublic void setY(int y) {\r\n\t\tthis.y = y;\r\n\t}\r\n\r\n\tpublic int getWidth() {\r\n\t\treturn width;\r\n\t}\r\n\r\n\tpublic void setWidth(int width) {\r\n\t\tthis.width = width;\r\n\t}\r\n\r\n\tpublic int getHeight() {\r\n\t\treturn height;\r\n\t}\r\n\r\n\tpublic void setHeight(int height) {\r\n\t\tthis.height = height;\r\n\t}\r\n\t\r\n}\r\n\r\nNow the lastly I created 2 more classes called Shape and Sorting \r\nwhere in shape i intiated public shape s = new Square with dimensions and set getters and setters and lastly i used sorting technique.\r\n\r\nCan someone help me understand what are the design patterns that are being used here? \r\n( I assume that Factory method is being used = since i defined main (* interface) and created subclasses ( Shapes rectangle circle) to instantiate. \r\n\r\nSorry if i sound out the place- I am just trying to understand and learn it. ","title":"Looking at YouTube and google I created Code for a simple Jpanel with Button However What the videos don&#39;t tell me is what Design patterns am i using","body":"<p>I created an application which allows instantiating shapes which can be circle rectangle or anything and used sorting technique (Bubble Sort) to sort the six shapes based on interfaces.</p>\n<p>The problem is I am not familiar with Design patterns and what patterns are being used- I am new so i followed youtube videos and played around with it and it worked.</p>\n<p>I have 1 main class where I have\nMAIN :</p>\n<pre><code>public class Main {\npublic static void main(String[] args) {\n    JButton btnLoadShapes, btnSortShapes;\n    \n    btnLoadShapes = new JButton(&quot;Load Shapes&quot;);\n    btnLoadShapes.setBounds(150, 10, 150, 30);\n    \n    btnSortShapes = new JButton(&quot;Sort Shapes&quot;);\n    btnSortShapes.setBounds(310, 10, 150, 30);\n    \n    \n    JPanel panelShapes = new JPanel() {\n        public void paintComponent(Graphics g) {\n            Graphics2D g2d = (Graphics2D) g;\n            \n            Shape shape = new Shape();\n            g2d.setColor(Color.RED);\n            Square s = shape.getS();\n        \n            g2d.fillRect(s.getX(),s.getY(),s.getWidth(), s.getHeight());\n        \n            \n            g2d.setColor(Color.BLUE);\n            Circle c = shape.getC();\n            g2d.fillOval(c.getX(),c.getY(), c.getWidth(), c.getHeight());\n            \n            g2d.setColor(new Color(131, 21, 1));\n            Rectangle r = shape.getR();\n            g2d.fillRect(r.getX(), r.getY(), r.getWidth(), r.getHeight());\n            \n            g2d.setColor(Color.PINK);\n            Circle C1 = shape.getC1();\n            g2d.fillOval(C1.getX(),C1.getY(), C1.getWidth(), C1.getHeight());\n            \n            g2d.setColor(Color.green);\n            Square S1 = shape.getS1();\n            g2d.fillRect(S1.getX(),S1.getY(),S1.getWidth(), S1.getHeight());\n            \n            g2d.setColor(Color.magenta);\n            Rectangle r2 = shape.getR2();\n            g2d.fillRect(r2.getX(),r2.getY(),r2.getWidth(), r2.getHeight());\n            \n            \n            \n            \n            \n        } \n\n    };\n    \n    panelShapes.setBounds(10, 50, 560, 500);\n    panelShapes.setBorder(BorderFactory.createLineBorder(Color.BLACK));\n    panelShapes.setVisible(false);\n    \n    btnLoadShapes.addActionListener(new ActionListener() {\n        \n        @Override\n        public void actionPerformed(ActionEvent e) {\n            panelShapes.setVisible(true);\n        }\n    });\n</code></pre>\n<p>and i have created 3 different classes Circle Rectangle and Square - from which i call for rectangle = shape.getC();\nFor example\npublic class Circle {\nprivate int x, y, width, height;</p>\n<pre><code>public Circle(int x, int y, int width, int height) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n}\n\npublic int getX() {\n    return x;\n}\n\npublic void setX(int x) {\n    this.x = x;\n}\n\npublic int getY() {\n    return y;\n}\n\npublic void setY(int y) {\n    this.y = y;\n}\n\npublic int getWidth() {\n    return width;\n}\n\npublic void setWidth(int width) {\n    this.width = width;\n}\n\npublic int getHeight() {\n    return height;\n}\n\npublic void setHeight(int height) {\n    this.height = height;\n}\n</code></pre>\n<p>}</p>\n<p>Now the lastly I created 2 more classes called Shape and Sorting\nwhere in shape i intiated public shape s = new Square with dimensions and set getters and setters and lastly i used sorting technique.</p>\n<p>Can someone help me understand what are the design patterns that are being used here?\n( I assume that Factory method is being used = since i defined main (* interface) and created subclasses ( Shapes rectangle circle) to instantiate.</p>\n<p>Sorry if i sound out the place- I am just trying to understand and learn it.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3696638,"reputation":1927,"user_id":3077801,"accept_rate":91,"display_name":"Junbang Huang"},"score":0,"creation_date":1494125200,"post_id":43827319,"comment_id":74692299,"body_markdown":"you can use `break`","body":"you can use <code>break</code>"},{"owner":{"account_id":2421927,"reputation":1760,"user_id":2185573,"accept_rate":76,"display_name":"Arunav Sanyal"},"score":0,"creation_date":1494125632,"post_id":43827319,"comment_id":74692350,"body_markdown":"So you necessarily want a break condition of a keyboard stroke?","body":"So you necessarily want a break condition of a keyboard stroke?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1494125694,"post_id":43827319,"comment_id":74692356,"body_markdown":"This question is unclear.  Are asking how to break out of a loop, or how to get the the user to tell you went to break out os a loop?  What sort of program is this?  A console app with no GUI?  A console app with a GUI?  A Webapp?  A JavaFX app?  and Android app?  a Java ME app?  Something else?","body":"This question is unclear.  Are asking how to break out of a loop, or how to get the the user to tell you went to break out os a loop?  What sort of program is this?  A console app with no GUI?  A console app with a GUI?  A Webapp?  A JavaFX app?  and Android app?  a Java ME app?  Something else?"},{"owner":{"account_id":8701790,"reputation":15,"user_id":6511365,"display_name":"Davidh3"},"score":0,"creation_date":1494125973,"post_id":43827319,"comment_id":74692392,"body_markdown":"Sorry. It&#39;s just a simple program. Nothing fancy. Pure text and no GUI. I want to exit out of the program during a random unsolicited time.","body":"Sorry. It&#39;s just a simple program. Nothing fancy. Pure text and no GUI. I want to exit out of the program during a random unsolicited time."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1494125993,"post_id":43827319,"comment_id":74692394,"body_markdown":"*&quot;My question is more of a &quot;Can I make a program when I input an unsolicited input that can abruptly end the program?&quot;* - How about tell the about you tell us what your Question is ... not what it is like :-).   Because the answer to *that* question is &quot;Yes you can&quot;.","body":"<i>&quot;My question is more of a &quot;Can I make a program when I input an unsolicited input that can abruptly end the program?&quot;</i> - How about tell the about you tell us what your Question is ... not what it is like :-).   Because the answer to <i>that</i> question is &quot;Yes you can&quot;."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1494126153,"post_id":43827319,"comment_id":74692410,"body_markdown":"*&quot;I want to exit out of the program during a **random unsolicited time**.&quot;* - Man ... that is a complete contradiction of what you asked in the question.","body":"<i>&quot;I want to exit out of the program during a <b>random unsolicited time</b>.&quot;</i> - Man ... that is a complete contradiction of what you asked in the question."},{"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":0,"creation_date":1494127678,"post_id":43827319,"comment_id":74692611,"body_markdown":"Assume that you can, try something, and ask about that if you get stuck. Please see: [Why is &quot;Is it possible to...&quot; a poorly worded question?](https://softwareengineering.meta.stackexchange.com/questions/7273/why-is-is-it-possible-to-a-poorly-worded-question/7274)","body":"Assume that you can, try something, and ask about that if you get stuck. Please see: <a href=\"https://softwareengineering.meta.stackexchange.com/questions/7273/why-is-is-it-possible-to-a-poorly-worded-question/7274\">Why is &quot;Is it possible to...&quot; a poorly worded question?</a>"},{"owner":{"account_id":7812376,"reputation":725,"user_id":5908201,"accept_rate":76,"display_name":"Nasser Tahani"},"score":0,"creation_date":1494128981,"post_id":43827319,"comment_id":74692779,"body_markdown":"It is better to search google and avoid asking question like that here.","body":"It is better to search google and avoid asking question like that here."}],"answers":[{"tags":[],"owner":{"account_id":10484709,"reputation":641,"user_id":7728642,"display_name":"Rahul Chowdhury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494125384,"creation_date":1494125384,"answer_id":43827345,"question_id":43827319,"body_markdown":"A simple break would do. Calling break exits the loop.  \r\n\r\n    while(true) {\r\n      \r\n      if(conditionMet){ \r\n          break;\r\n      }\r\n \r\n    }","title":"How To Exit Infinite Loop Without Pausing Java","body":"<p>A simple break would do. Calling break exits the loop.  </p>\n\n<pre><code>while(true) {\n\n  if(conditionMet){ \n      break;\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10054602,"reputation":80,"user_id":7433246,"display_name":"Garrett Nix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494125388,"creation_date":1494125388,"answer_id":43827347,"question_id":43827319,"body_markdown":"You can break any loop using `break;`.\r\nIf your program is already listening for keyboard input, you just need to put that break command inside a conditional statement that checks for the desired input.","title":"How To Exit Infinite Loop Without Pausing Java","body":"<p>You can break any loop using <code>break;</code>.\nIf your program is already listening for keyboard input, you just need to put that break command inside a conditional statement that checks for the desired input.</p>\n"},{"tags":[],"owner":{"account_id":8440460,"reputation":16742,"user_id":6849682,"accept_rate":33,"display_name":"bigbounty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494125728,"creation_date":1494125728,"answer_id":43827371,"question_id":43827319,"body_markdown":"You can use System.exit() OR break\r\nThe java.lang.System.exit() method terminates the currently running Java Virtual Machine.\r\n\r\nFor example,\r\n\r\n`// A Java program to demonstrate working of exit()`\r\n\r\n`import java.util.*;\r\n`\r\n`import java.lang.*;`\r\n\r\n`class Test`\r\n\r\n`{`\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        int arr[] = {1, 2, 3, 4, 5, 6, 7, 8};\r\n \r\n        for (int i = 0; i &lt; arr.length; i++)\r\n        {\r\n            if (arr[i] &gt;= 5)\r\n            {\r\n                System.out.println(&quot;exit...&quot;);\r\n \r\n                // Terminate JVM\r\n                System.exit(0);\r\n            }\r\n            else\r\n                System.out.println(&quot;arr[&quot;+i+&quot;] = &quot; +\r\n                                  arr[i]);\r\n        }\r\n        System.out.println(&quot;End of Program&quot;);\r\n    }\r\n`}`\r\n\r\nThis stops execution when it excounters System.exit().\r\n\r\nWhen you use break statement,the control doesn&#39;t terminate the program,it comes out of the loop\r\n\r\n`while(true){\r\n//Critical task\r\nbreak;\r\n}`\r\n","title":"How To Exit Infinite Loop Without Pausing Java","body":"<p>You can use System.exit() OR break\nThe java.lang.System.exit() method terminates the currently running Java Virtual Machine.</p>\n\n<p>For example,</p>\n\n<p><code>// A Java program to demonstrate working of exit()</code></p>\n\n<p><code>import java.util.*;\n</code>\n<code>import java.lang.*;</code></p>\n\n<p><code>class Test</code></p>\n\n<p><code>{</code></p>\n\n<pre><code>public static void main(String[] args)\n{\n    int arr[] = {1, 2, 3, 4, 5, 6, 7, 8};\n\n    for (int i = 0; i &lt; arr.length; i++)\n    {\n        if (arr[i] &gt;= 5)\n        {\n            System.out.println(\"exit...\");\n\n            // Terminate JVM\n            System.exit(0);\n        }\n        else\n            System.out.println(\"arr[\"+i+\"] = \" +\n                              arr[i]);\n    }\n    System.out.println(\"End of Program\");\n}\n</code></pre>\n\n<p><code>}</code></p>\n\n<p>This stops execution when it excounters System.exit().</p>\n\n<p>When you use break statement,the control doesn't terminate the program,it comes out of the loop</p>\n\n<p><code>while(true){\n//Critical task\nbreak;\n}</code></p>\n"},{"tags":[],"owner":{"account_id":4607472,"reputation":396,"user_id":3736529,"display_name":"gauravsheohar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633600335,"creation_date":1633600335,"answer_id":69479078,"question_id":43827319,"body_markdown":"Below work around may help, especially for &quot;for(;;)&quot; infinite loop.\r\n\r\n            // instance variable\r\n    \t\tStudentRegistration stRegistration = new StudentRegistration();\r\n    \t\t// to get user inputs\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tfor(;;) {\t\t\t\t\r\n    \t\t\tSystem.out.println(&quot;\\nEnter Student ID :&quot;);\r\n    \t\t\tstRegistration.toSetStudentID(sc.nextInt());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcatch(Exception e) {\r\n    \t\t\t\r\n    \t\t}\r\n\r\n","title":"How To Exit Infinite Loop Without Pausing Java","body":"<p>Below work around may help, especially for &quot;for(;;)&quot; infinite loop.</p>\n<pre><code>        // instance variable\n        StudentRegistration stRegistration = new StudentRegistration();\n        // to get user inputs\n        Scanner sc = new Scanner(System.in);\n        \n        try {\n            for(;;) {               \n            System.out.println(&quot;\\nEnter Student ID :&quot;);\n            stRegistration.toSetStudentID(sc.nextInt());\n            }\n        }\n        catch(Exception e) {\n            \n        }\n</code></pre>\n"}],"owner":{"account_id":8701790,"reputation":15,"user_id":6511365,"display_name":"Davidh3"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16197,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":4,"score":-2,"last_activity_date":1633600335,"creation_date":1494125062,"question_id":43827319,"body_markdown":"I have a Java program that automates a long list of tasks and it pauses for 15 seconds after each completed task then restarts. Is there a way to end this program by entering any keystrokes from the user? I don&#39;t want to have to ask the user if they want to end the program and have to stop and ask every so often as the user is not going to be around to respond. I know you can press &quot;Control + C&quot; to stop the program while in the command prompt but is there a more elegant way than this?\r\nThe program is something like this:\r\n\r\n    while(true) {\r\n    // automatic task code\r\n    }\r\nThank You\r\n\r\n**Edit* My question is more of a &quot;Can I make a program when I input an unsolicited input that can abruptly end the program?&quot;","title":"How To Exit Infinite Loop Without Pausing Java","body":"<p>I have a Java program that automates a long list of tasks and it pauses for 15 seconds after each completed task then restarts. Is there a way to end this program by entering any keystrokes from the user? I don't want to have to ask the user if they want to end the program and have to stop and ask every so often as the user is not going to be around to respond. I know you can press \"Control + C\" to stop the program while in the command prompt but is there a more elegant way than this?\nThe program is something like this:</p>\n\n<pre><code>while(true) {\n// automatic task code\n}\n</code></pre>\n\n<p>Thank You</p>\n\n<p>**Edit* My question is more of a \"Can I make a program when I input an unsolicited input that can abruptly end the program?\"</p>\n"},{"tags":["java","listview"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":3,"creation_date":1633599789,"post_id":69478712,"comment_id":122804999,"body_markdown":"No. `retainAll` returns a boolean on which you can&#39;t call `size()`. You could use  `return stream().filter(..).count()` but I think that is not what you are asking about.","body":"No. <code>retainAll</code> returns a boolean on which you can&#39;t call <code>size()</code>. You could use  <code>return stream().filter(..).count()</code> but I think that is not what you are asking about."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1633600174,"post_id":69478712,"comment_id":122805183,"body_markdown":"What&#39;s so bad about having this in multiple lines? It&#39;s easier to read that way... However, note that your code has (probably unexpected) side effects: `retainAll()` removes any elements not in the list and this would also remove those elements from the map since the key set is backed by the map.","body":"What&#39;s so bad about having this in multiple lines? It&#39;s easier to read that way... However, note that your code has (probably unexpected) side effects: <code>retainAll()</code> removes any elements not in the list and this would also remove those elements from the map since the key set is backed by the map."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1633600143,"creation_date":1633600143,"answer_id":69479029,"question_id":69478712,"body_markdown":"This code does not work fine.\r\n\r\n`retainAll` will delete all the keys that aren&#39;t in `names`. `.keySet()` __does not__ return a copy. It returns a different view. __Deleting elements from what `.keySet()` returns deletes them from the original map!__\r\n\r\nThus, this code will give the right answer... and will have corrupted your phonebook as well.\r\n\r\nIf you must use `retainAll`, you&#39;d have to make a copy. No, there is no way to chain the `size()` call.\r\n\r\nBut, making a copy is silly here. You really just want to, well, count names. This code does not mangle the original phone book and is far faster:\r\n\r\n```\r\nint count = 0;\r\nfor (String n : names) if (phoneBook.containsKey(n)) count++;\r\nreturn count;\r\n```\r\n\r\nIt also shows the folly of &#39;worrying about lines&#39;. That code above is 3 lines and is plausibly readable as is. Certainly a ton of folks that do use lambdas would put the exact same &#39;semantic load&#39; on a single line. But that is not a particularly commonly employed code style. At some point you&#39;re more &#39;measuring the efficacy of your code style&#39; than actually measuring the complexity of your code. You also see extremes that serve no purpose and make code harder to read: A `.stream().map()` etc operation that does 18 different things, all piled on a single huge line, and some clown going: HA! See! shorter!\r\n\r\nKeep the characteristics of your data structures in mind. `list.contains(n)` takes time that scales up with how large the list is. `map.containsKey(n)`, or `set.contains(n)`, that takes constant time (or in case of `TreeMap`, that takes time that scales with `log2(n)`, but remember that `log2(1_000_000)` is still only a few tens of loops. log scaling is doable by computers even for humongous inputs.\r\n\r\nHence, the above code is relatively fast, but if you flip it around:\r\n\r\n```\r\nfor (String n : phoneBook.keySet()) if (names.contains(n)) count++;\r\n```\r\n\r\nthat would grow to be very slow indeed, especially if `names` is large.\r\n","title":"Add size() to keySet() after retainAll on one line","body":"<p>This code does not work fine.</p>\n<p><code>retainAll</code> will delete all the keys that aren't in <code>names</code>. <code>.keySet()</code> <strong>does not</strong> return a copy. It returns a different view. <strong>Deleting elements from what <code>.keySet()</code> returns deletes them from the original map!</strong></p>\n<p>Thus, this code will give the right answer... and will have corrupted your phonebook as well.</p>\n<p>If you must use <code>retainAll</code>, you'd have to make a copy. No, there is no way to chain the <code>size()</code> call.</p>\n<p>But, making a copy is silly here. You really just want to, well, count names. This code does not mangle the original phone book and is far faster:</p>\n<pre><code>int count = 0;\nfor (String n : names) if (phoneBook.containsKey(n)) count++;\nreturn count;\n</code></pre>\n<p>It also shows the folly of 'worrying about lines'. That code above is 3 lines and is plausibly readable as is. Certainly a ton of folks that do use lambdas would put the exact same 'semantic load' on a single line. But that is not a particularly commonly employed code style. At some point you're more 'measuring the efficacy of your code style' than actually measuring the complexity of your code. You also see extremes that serve no purpose and make code harder to read: A <code>.stream().map()</code> etc operation that does 18 different things, all piled on a single huge line, and some clown going: HA! See! shorter!</p>\n<p>Keep the characteristics of your data structures in mind. <code>list.contains(n)</code> takes time that scales up with how large the list is. <code>map.containsKey(n)</code>, or <code>set.contains(n)</code>, that takes constant time (or in case of <code>TreeMap</code>, that takes time that scales with <code>log2(n)</code>, but remember that <code>log2(1_000_000)</code> is still only a few tens of loops. log scaling is doable by computers even for humongous inputs.</p>\n<p>Hence, the above code is relatively fast, but if you flip it around:</p>\n<pre><code>for (String n : phoneBook.keySet()) if (names.contains(n)) count++;\n</code></pre>\n<p>that would grow to be very slow indeed, especially if <code>names</code> is large.</p>\n"}],"owner":{"account_id":4404941,"reputation":121,"user_id":4161113,"display_name":"CuriousIndeed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69479029,"answer_count":1,"score":-1,"last_activity_date":1633600143,"creation_date":1633598936,"question_id":69478712,"body_markdown":"I&#39;m experimenting with views. Is there a possibility to write the size() method on the second last line without useing lambdas?? As follows:\r\n\r\n    eintraege.retainAll(Arrays.asList(names)).size(); // Does not work\r\n\r\n\r\n    public static int countNames(Map&lt;String, PhoneNumber&gt; phoneBook,\r\n                                 String[] names) {\r\n        Set&lt;String&gt; eintraege = phoneBook.keySet();\r\n        eintraege.retainAll(Arrays.asList(names));  \r\n        return eintraege.size();  // Works fine\r\n    }\r\n\r\n","title":"Add size() to keySet() after retainAll on one line","body":"<p>I'm experimenting with views. Is there a possibility to write the size() method on the second last line without useing lambdas?? As follows:</p>\n<pre><code>eintraege.retainAll(Arrays.asList(names)).size(); // Does not work\n\n\npublic static int countNames(Map&lt;String, PhoneNumber&gt; phoneBook,\n                             String[] names) {\n    Set&lt;String&gt; eintraege = phoneBook.keySet();\n    eintraege.retainAll(Arrays.asList(names));  \n    return eintraege.size();  // Works fine\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-profiles"],"answers":[{"tags":[],"owner":{"account_id":9073858,"reputation":2807,"user_id":6756090,"display_name":"slauth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633600123,"creation_date":1633598592,"answer_id":69478621,"question_id":69478373,"body_markdown":"Here&#39;s an example from [the docs](https://docs.spring.io/spring-boot/docs/2.5.5/reference/html/features.html#features.external-config.files):\r\n\r\n```lang-shell\r\n$ java -jar myproject.jar --spring.config.location=\\\r\n    optional:classpath:/default.properties,\\\r\n    optional:classpath:/override.properties\r\n```\r\n\r\nYou could also define this in your code before starting Spring Boot:\r\n\r\n```lang-java\r\npublic static void main(String[] args) {\r\n    System.setProperty(&quot;spring.config.location&quot;, &quot;optional:classpath:/default.properties,optional:classpath:/override.properties&quot;);\r\n    SpringApplication.run(Application.class, args);\r\n}\r\n```\r\n\r\n----------\r\n\r\nTo use custom prefixes for your app specific properties you can define `@ConfigurationProperties` class(es):\r\n\r\n```lang-java\r\n@Data\r\n@ConfigurationProperties(prefix = &quot;app.mapper&quot;)\r\npublic class MapperProperties {\r\n\r\n    private String foo;\r\n}\r\n```\r\n\r\nand use it in any component:\r\n\r\n```lang-java\r\n@Component\r\n@RequiredArgsConstructor\r\n@EnableConfigurationProperties\r\npublic class YourComponent {\r\n    \r\n    private final MapperProperties properties;\r\n}\r\n```\r\n","title":"Read Multiple Properties File using spring profiles in Spring Boot","body":"<p>Here's an example from <a href=\"https://docs.spring.io/spring-boot/docs/2.5.5/reference/html/features.html#features.external-config.files\" rel=\"nofollow noreferrer\">the docs</a>:</p>\n<pre class=\"lang-shell prettyprint-override\"><code>$ java -jar myproject.jar --spring.config.location=\\\n    optional:classpath:/default.properties,\\\n    optional:classpath:/override.properties\n</code></pre>\n<p>You could also define this in your code before starting Spring Boot:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    System.setProperty(&quot;spring.config.location&quot;, &quot;optional:classpath:/default.properties,optional:classpath:/override.properties&quot;);\n    SpringApplication.run(Application.class, args);\n}\n</code></pre>\n<hr />\n<p>To use custom prefixes for your app specific properties you can define <code>@ConfigurationProperties</code> class(es):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@ConfigurationProperties(prefix = &quot;app.mapper&quot;)\npublic class MapperProperties {\n\n    private String foo;\n}\n</code></pre>\n<p>and use it in any component:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\n@EnableConfigurationProperties\npublic class YourComponent {\n    \n    private final MapperProperties properties;\n}\n</code></pre>\n"}],"owner":{"account_id":3140433,"reputation":1296,"user_id":2655988,"accept_rate":30,"display_name":"Nishit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633600123,"creation_date":1633597596,"question_id":69478373,"body_markdown":"I am trying to load 2 properties file in spring boot. \r\nOne of them contains the metadata (Database connection and other such properties). The other contains business logic (mapping between upstream and downstream Entity. This mapping is different in Dev and Prod, hence can&#39;t have a single resource file for these).\r\n\r\nI want to use Spring Profiles for different environments (Dev, Stage, Prod).\r\nSo, I created 3 different folders in `src/main/resources` 1 for each environment.\r\nUsing spring profies, I am aware how to have env specific application-env.properties file. However, I am unable to move forward on how to use the same for my use case. \r\n\r\nPS : Not adding any code snippet, because the question doesn&#39;t require one.","title":"Read Multiple Properties File using spring profiles in Spring Boot","body":"<p>I am trying to load 2 properties file in spring boot.\nOne of them contains the metadata (Database connection and other such properties). The other contains business logic (mapping between upstream and downstream Entity. This mapping is different in Dev and Prod, hence can't have a single resource file for these).</p>\n<p>I want to use Spring Profiles for different environments (Dev, Stage, Prod).\nSo, I created 3 different folders in <code>src/main/resources</code> 1 for each environment.\nUsing spring profies, I am aware how to have env specific application-env.properties file. However, I am unable to move forward on how to use the same for my use case.</p>\n<p>PS : Not adding any code snippet, because the question doesn't require one.</p>\n"},{"tags":["java","mysql","spring","spring-mybatis","druid"],"answers":[{"tags":[],"owner":{"account_id":7251738,"reputation":555,"user_id":5531763,"display_name":"Ashwini Rao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518587921,"creation_date":1518587921,"answer_id":48780570,"question_id":48779015,"body_markdown":"It is very important to understand the connection pool that is being used.\r\n\r\nThe information provided regarding different DB types are kinda insufficient, but here is my initial analysis and some important pointers that would help :\r\n\r\n1)If you are using spring data jpa or starter jpa ,you are most probably using tomcat connection pool by default.\r\n\r\nHere is some more details (A good read):https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-sql.html\r\n\r\nBtw, also an easy way to check this is in the logs, you will see org.apache.tomcat.jdbc.pool.* logs.\r\n\r\n2) Secondly ,if it is as stated in #1 ,the connection pool properties could be applied via in application.properties :\r\n\r\n    spring.datasource.tomcat.min-idle=1\r\n    spring.datasource.tomcat.validation-query= select 1\r\n    spring.datasource.tomcat.validation-interval=30000\r\n    spring.datasource.tomcat.remove-abandoned-timeout=120\r\n    spring.datasource.tomcat.remove-abandoned=true\r\n    spring.datasource.tomcat.log-abandoned=true\r\n\r\n3) Last, but a very important thing to note is the datasource type :\r\n\r\n    spring.datasource.type=com.alibaba.druid.pool.DruidDataSource\r\n\r\nHaven&#39;t actually tried it ,but i believe the properties you are using in application.properties are being applied to tomcat pool, which am not sure, if it is being even used or not in the application (insufficient info).\r\n\r\nRegardless, coming back to the issue at hand, you would have to take a look at the actual Datasource configuration which would &quot;actually&quot; be applied to your tx connection , take a look at the below class for actual properties being used: \r\n\r\nhttps://github.com/alibaba/druid/blob/master/src/main/java/com/alibaba/druid/pool/DruidDataSource.java\r\n\r\nalso you can give the below test kinda properties a shot : \r\n\r\nhttps://github.com/alibaba/druid/blob/master/druid-spring-boot-starter/src/test/resources/application.properties\r\n\r\n    #Druid 数据源配置，继承spring.datasource.* 配置，相同则覆盖\r\n    spring.datasource.druid.initial-size=2\r\n    spring.datasource.druid.max-active=30\r\n    spring.datasource.druid.min-idle=2\r\n    spring.datasource.druid.max-wait=1234\r\n    spring.datasource.druid.pool-prepared-statements=true\r\n    spring.datasource.druid.max-pool-prepared-statement-per-connection-size=5\r\n    #spring.datasource.druid.max-open-prepared-statements= #等价于上面的max-pool-prepared-statement-per-connection-size\r\n    spring.datasource.druid.validation-query=select 1\r\n    spring.datasource.druid.validation-query-timeout=1\r\n    spring.datasource.druid.test-on-borrow=true\r\n    spring.datasource.druid.test-on-return=true\r\n\r\nHope that helps!!","title":"Error while extracting DatabaseMetaData; nested exception is com.mysql.jdbc.exceptions.jdbc4. No operations allowed after connection closed","body":"<p>It is very important to understand the connection pool that is being used.</p>\n\n<p>The information provided regarding different DB types are kinda insufficient, but here is my initial analysis and some important pointers that would help :</p>\n\n<p>1)If you are using spring data jpa or starter jpa ,you are most probably using tomcat connection pool by default.</p>\n\n<p>Here is some more details (A good read):<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-sql.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-sql.html</a></p>\n\n<p>Btw, also an easy way to check this is in the logs, you will see org.apache.tomcat.jdbc.pool.* logs.</p>\n\n<p>2) Secondly ,if it is as stated in #1 ,the connection pool properties could be applied via in application.properties :</p>\n\n<pre><code>spring.datasource.tomcat.min-idle=1\nspring.datasource.tomcat.validation-query= select 1\nspring.datasource.tomcat.validation-interval=30000\nspring.datasource.tomcat.remove-abandoned-timeout=120\nspring.datasource.tomcat.remove-abandoned=true\nspring.datasource.tomcat.log-abandoned=true\n</code></pre>\n\n<p>3) Last, but a very important thing to note is the datasource type :</p>\n\n<pre><code>spring.datasource.type=com.alibaba.druid.pool.DruidDataSource\n</code></pre>\n\n<p>Haven't actually tried it ,but i believe the properties you are using in application.properties are being applied to tomcat pool, which am not sure, if it is being even used or not in the application (insufficient info).</p>\n\n<p>Regardless, coming back to the issue at hand, you would have to take a look at the actual Datasource configuration which would \"actually\" be applied to your tx connection , take a look at the below class for actual properties being used: </p>\n\n<p><a href=\"https://github.com/alibaba/druid/blob/master/src/main/java/com/alibaba/druid/pool/DruidDataSource.java\" rel=\"nofollow noreferrer\">https://github.com/alibaba/druid/blob/master/src/main/java/com/alibaba/druid/pool/DruidDataSource.java</a></p>\n\n<p>also you can give the below test kinda properties a shot : </p>\n\n<p><a href=\"https://github.com/alibaba/druid/blob/master/druid-spring-boot-starter/src/test/resources/application.properties\" rel=\"nofollow noreferrer\">https://github.com/alibaba/druid/blob/master/druid-spring-boot-starter/src/test/resources/application.properties</a></p>\n\n<pre><code>#Druid 数据源配置，继承spring.datasource.* 配置，相同则覆盖\nspring.datasource.druid.initial-size=2\nspring.datasource.druid.max-active=30\nspring.datasource.druid.min-idle=2\nspring.datasource.druid.max-wait=1234\nspring.datasource.druid.pool-prepared-statements=true\nspring.datasource.druid.max-pool-prepared-statement-per-connection-size=5\n#spring.datasource.druid.max-open-prepared-statements= #等价于上面的max-pool-prepared-statement-per-connection-size\nspring.datasource.druid.validation-query=select 1\nspring.datasource.druid.validation-query-timeout=1\nspring.datasource.druid.test-on-borrow=true\nspring.datasource.druid.test-on-return=true\n</code></pre>\n\n<p>Hope that helps!!</p>\n"},{"tags":[],"owner":{"account_id":10958622,"reputation":871,"user_id":8052616,"display_name":"taichi_tiger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519635639,"creation_date":1519635639,"answer_id":48984705,"question_id":48779015,"body_markdown":"The exception was not occurred again after I canceled the redis operation before database connection. I am not sure whether there are any relations between them. It is very strange. There must be some real reason which I don&#39;t find out.","title":"Error while extracting DatabaseMetaData; nested exception is com.mysql.jdbc.exceptions.jdbc4. No operations allowed after connection closed","body":"<p>The exception was not occurred again after I canceled the redis operation before database connection. I am not sure whether there are any relations between them. It is very strange. There must be some real reason which I don't find out.</p>\n"}],"owner":{"account_id":10958622,"reputation":871,"user_id":8052616,"display_name":"taichi_tiger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15384,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1633599468,"creation_date":1518577560,"question_id":48779015,"body_markdown":"I have a scheduled task running every 20 minutes which was configured through &quot;@Scheduled(cron = &quot;0 0/20 * * * ?&quot;)&quot; based on spring boot. During this task, I need to search some data from mysql and then save them into redis. The following are my configure of database:\r\n\r\n    mybatis.configuration.map-underscore-to-camel-case=true\r\n    spring.datasource.type=com.alibaba.druid.pool.DruidDataSource\r\n    #spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    spring.datasource.initialSize=1\r\n    spring.datasource.minIdle=1\r\n    spring.datasource.maxActive=20\r\n    spring.datasource.maxWait=60000\r\n    spring.datasource.timeBetweenEvictionRunsMillis=60000\r\n    spring.datasource.minEvictableIdleTimeMillis=300000\r\n    spring.datasource.validationQuery=SELECT &#39;x&#39;\r\n    spring.datasource.testWhileIdle=true\r\n    spring.datasource.testOnBorrow=false\r\n    spring.datasource.testOnReturn=false\r\n    spring.datasource.poolPreparedStatements=true\r\n    spring.datasource.maxPoolPreparedStatementPerConnectionSize=20\r\n    spring.datasource.filters=stat,wall,slf4j\r\n    spring.datasource.initialize=false\r\n\r\nThe mysql version is v5.7.19. My mysql-connector-java version is 5.1.41. My druid version is 1.0.29. JDK is 18.\r\n\r\nMy problem is my scheduled task only can execute successfully sometimes. For example, my application runs 24 hours. There must be one or two times failed executing tasks. But I have another scheduled task which runs every 10 minutes, need to connect to the same mysql through the same configuration and it is successful every time.\r\nWhen the task failed, the log information are:\r\n\r\n    2018-02-14 02:20:00,003 [pool-5-thread-1] INFO  c.x.r.b.r.provider.YourFavoriates Method:executeItemInfoUpdateTaskRun Line:359 - Host IP 10.189.145.64: Scheduled task(executeItemInfoUpdateTask) is begining to save the available skuId information of all storeId from mysql to cache.\r\n    2018-02-14 02:20:00,026 [pool-5-thread-1] INFO  o.s.b.f.xml.XmlBeanDefinitionReader Method:loadBeanDefinitions Line:317 - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]\r\n    2018-02-14 02:20:00,060 [pool-5-thread-1] INFO  o.s.j.support.SQLErrorCodesFactory Method:&lt;init&gt; Line:127 - SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase, Hana]\r\n    2018-02-14 02:20:00,067 [pool-5-thread-1] WARN  o.s.j.support.SQLErrorCodesFactory Method:getErrorCodes Line:218 - Error while extracting database name - falling back to empty error codes\r\n    org.springframework.jdbc.support.MetaDataAccessException: Error while extracting DatabaseMetaData; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed.\r\n    \tat org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:342)\r\n    \tat org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366)\r\n    \tat org.springframework.jdbc.support.SQLErrorCodesFactory.getErrorCodes(SQLErrorCodesFactory.java:212)\r\n    \tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.setDataSource(SQLErrorCodeSQLExceptionTranslator.java:134)\r\n    \tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.&lt;init&gt;(SQLErrorCodeSQLExceptionTranslator.java:97)\r\n    \tat org.mybatis.spring.MyBatisExceptionTranslator.initExceptionTranslator(MyBatisExceptionTranslator.java:87)\r\n    \tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:72)\r\n    \tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:446)\r\n    \tat com.sun.proxy.$Proxy86.selectOne(Unknown Source)\r\n    \tat org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:166)\r\n    \tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:82)\r\n    \tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)\r\n    \tat com.sun.proxy.$Proxy87.countForQueryAvailableSku(Unknown Source)\r\n    \tat com.xstore.recommend.biz.recommend.provider.YourFavoriates.getAvailableItems(YourFavoriates.java:68)\r\n    \tat com.xstore.recommend.biz.recommend.provider.YourFavoriates.executeItemInfoUpdateTaskRun(YourFavoriates.java:360)\r\n    \tat com.xstore.recommend.biz.recommend.provider.YourFavoriates.executeItemInfoUpdateTask(YourFavoriates.java:467)\r\n    \tat sun.reflect.GeneratedMethodAccessor126.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\r\n    \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n    \tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed.\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:422)\r\n    \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\r\n    \tat com.mysql.jdbc.Util.getInstance(Util.java:408)\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:918)\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:897)\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:886)\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:860)\r\n    \tat com.mysql.jdbc.ConnectionImpl.throwConnectionClosedException(ConnectionImpl.java:1198)\r\n    \tat com.mysql.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:1193)\r\n    \tat com.mysql.jdbc.ConnectionImpl.getMetaData(ConnectionImpl.java:2903)\r\n    \tat com.mysql.jdbc.ConnectionImpl.getMetaData(ConnectionImpl.java:2898)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126)\r\n    \tat org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108)\r\n    \tat org.apache.tomcat.jdbc.pool.interceptor.AbstractCreateStatementInterceptor.invoke(AbstractCreateStatementInterceptor.java:70)\r\n    \tat org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108)\r\n    \tat org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81)\r\n    \tat com.sun.proxy.$Proxy118.getMetaData(Unknown Source)\r\n    \tat org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:331)\r\n    \t... 28 common frames omitted\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 31,199,913 milliseconds ago.  The last packet sent successfully to the server was 31,199,929 milliseconds ago. is longer than the server configured value of &#39;wait_timeout&#39;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#39;autoReconnect=true&#39; to avoid this problem.\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:422)\r\n    \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\r\n    \tat com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:989)\r\n    \tat com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3746)\r\n    \tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2509)\r\n    \tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\r\n    \tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)\r\n    \tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\r\n    \tat com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\r\n    \tat sun.reflect.GeneratedMethodAccessor119.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:138)\r\n    \tat com.sun.proxy.$Proxy119.execute(Unknown Source)\r\n    \tat org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:63)\r\n    \tat org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)\r\n    \tat org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)\r\n    \tat org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)\r\n    \tat org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)\r\n    \tat org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)\r\n    \tat org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)\r\n    \tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)\r\n    \tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)\r\n    \tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:77)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)\r\n    \t... 21 common frames omitted\r\n    Caused by: java.net.SocketException: 断开的管道\r\n    \tat java.net.SocketOutputStream.socketWrite0(Native Method)\r\n    \tat java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:109)\r\n    \tat java.net.SocketOutputStream.write(SocketOutputStream.java:153)\r\n    \tat java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)\r\n    \tat java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)\r\n    \tat com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3728)\r\n    \t... 46 common frames omitted\r\n    2018-02-14 02:20:00,069 [pool-5-thread-1] ERROR c.x.r.b.r.provider.YourFavoriates Method:executeItemInfoUpdateTask Line:469 - Exception while executing executeItemInfoUpdateTaskRun.\r\n    org.springframework.dao.RecoverableDataAccessException: \r\n    ### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 31,199,913 milliseconds ago.  The last packet sent successfully to the server was 31,199,929 milliseconds ago. is longer than the server configured value of &#39;wait_timeout&#39;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#39;autoReconnect=true&#39; to avoid this problem.\r\n    ### The error may exist in URL [jar:file:/home/export/App/intelligenceRS.man.7fresh.com/WEB-INF/lib/xstore-intelligence-service-1.0.0-SNAPSHOT.jar!/mapper/popMd/PopMdMapper.xml]\r\n    ### The error may involve defaultParameterMap\r\n    ### The error occurred while setting parameters\r\n    ### SQL: select count(1) from search_base_data where           isIgnoreSearchVisible = 0 and has_stock = 1 and search_invisible = 1\r\n    ### Cause: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 31,199,913 milliseconds ago.  The last packet sent successfully to the server was 31,199,929 milliseconds ago. is longer than the server configured value of &#39;wait_timeout&#39;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#39;autoReconnect=true&#39; to avoid this problem.\r\n    ; SQL []; The last packet successfully received from the server was 31,199,913 milliseconds ago.  The last packet sent successfully to the server was 31,199,929 milliseconds ago. is longer than the server configured value of &#39;wait_timeout&#39;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#39;autoReconnect=true&#39; to avoid this problem.; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 31,199,913 milliseconds ago.  The last packet sent successfully to the server was 31,199,929 milliseconds ago. is longer than the server configured value of &#39;wait_timeout&#39;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#39;autoReconnect=true&#39; to avoid this problem.\r\n    \tat org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:98)\r\n    \tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\r\n    \tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)\r\n    \tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)\r\n    \tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:446)\r\n    \tat com.sun.proxy.$Proxy86.selectOne(Unknown Source)\r\n    \tat org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:166)\r\n    \tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:82)\r\n    \tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)\r\n    \tat com.sun.proxy.$Proxy87.countForQueryAvailableSku(Unknown Source)\r\n    \tat com.xstore.recommend.biz.recommend.provider.YourFavoriates.getAvailableItems(YourFavoriates.java:68)\r\n    \tat com.xstore.recommend.biz.recommend.provider.YourFavoriates.executeItemInfoUpdateTaskRun(YourFavoriates.java:360)\r\n    \tat com.xstore.recommend.biz.recommend.provider.YourFavoriates.executeItemInfoUpdateTask(YourFavoriates.java:467)\r\n    \tat sun.reflect.GeneratedMethodAccessor126.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\r\n    \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n    \tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 31,199,913 milliseconds ago.  The last packet sent successfully to the server was 31,199,929 milliseconds ago. is longer than the server configured value of &#39;wait_timeout&#39;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#39;autoReconnect=true&#39; to avoid this problem.\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:422)\r\n    \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\r\n    \tat com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:989)\r\n    \tat com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3746)\r\n    \tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2509)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\r\n    \tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)\r\n    \tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\r\n    \tat com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\r\n    \tat sun.reflect.GeneratedMethodAccessor119.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:138)\r\n    \tat com.sun.proxy.$Proxy119.execute(Unknown Source)\r\n    \tat org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:63)\r\n    \tat org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)\r\n    \tat org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)\r\n    \tat org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)\r\n    \tat org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)\r\n    \tat org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)\r\n    \tat org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)\r\n    \tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)\r\n    \tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)\r\n    \tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:77)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)\r\n    \t... 21 common frames omitted\r\n    Caused by: java.net.SocketException: 断开的管道\r\n    \tat java.net.SocketOutputStream.socketWrite0(Native Method)\r\n    \tat java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:109)\r\n    \tat java.net.SocketOutputStream.write(SocketOutputStream.java:153)\r\n    \tat java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)\r\n    \tat java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)\r\n    \tat com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3728)\r\n    \t... 46 common frames omitted\r\n\r\nWhat is the real reason? I search the answer from the Internet. Many peple said to change the testOnBorrow to true, or extend the mysql connection timeout, etc. These answer cannot meet my problem. So, help me, please. I have been beset by this problem for a week.","title":"Error while extracting DatabaseMetaData; nested exception is com.mysql.jdbc.exceptions.jdbc4. No operations allowed after connection closed","body":"<p>I have a scheduled task running every 20 minutes which was configured through \"@Scheduled(cron = \"0 0/20 * * * ?\")\" based on spring boot. During this task, I need to search some data from mysql and then save them into redis. The following are my configure of database:</p>\n\n<pre><code>mybatis.configuration.map-underscore-to-camel-case=true\nspring.datasource.type=com.alibaba.druid.pool.DruidDataSource\n#spring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.datasource.initialSize=1\nspring.datasource.minIdle=1\nspring.datasource.maxActive=20\nspring.datasource.maxWait=60000\nspring.datasource.timeBetweenEvictionRunsMillis=60000\nspring.datasource.minEvictableIdleTimeMillis=300000\nspring.datasource.validationQuery=SELECT 'x'\nspring.datasource.testWhileIdle=true\nspring.datasource.testOnBorrow=false\nspring.datasource.testOnReturn=false\nspring.datasource.poolPreparedStatements=true\nspring.datasource.maxPoolPreparedStatementPerConnectionSize=20\nspring.datasource.filters=stat,wall,slf4j\nspring.datasource.initialize=false\n</code></pre>\n\n<p>The mysql version is v5.7.19. My mysql-connector-java version is 5.1.41. My druid version is 1.0.29. JDK is 18.</p>\n\n<p>My problem is my scheduled task only can execute successfully sometimes. For example, my application runs 24 hours. There must be one or two times failed executing tasks. But I have another scheduled task which runs every 10 minutes, need to connect to the same mysql through the same configuration and it is successful every time.\nWhen the task failed, the log information are:</p>\n\n<pre><code>2018-02-14 02:20:00,003 [pool-5-thread-1] INFO  c.x.r.b.r.provider.YourFavoriates Method:executeItemInfoUpdateTaskRun Line:359 - Host IP 10.189.145.64: Scheduled task(executeItemInfoUpdateTask) is begining to save the available skuId information of all storeId from mysql to cache.\n2018-02-14 02:20:00,026 [pool-5-thread-1] INFO  o.s.b.f.xml.XmlBeanDefinitionReader Method:loadBeanDefinitions Line:317 - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]\n2018-02-14 02:20:00,060 [pool-5-thread-1] INFO  o.s.j.support.SQLErrorCodesFactory Method:&lt;init&gt; Line:127 - SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase, Hana]\n2018-02-14 02:20:00,067 [pool-5-thread-1] WARN  o.s.j.support.SQLErrorCodesFactory Method:getErrorCodes Line:218 - Error while extracting database name - falling back to empty error codes\norg.springframework.jdbc.support.MetaDataAccessException: Error while extracting DatabaseMetaData; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed.\n    at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:342)\n    at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366)\n    at org.springframework.jdbc.support.SQLErrorCodesFactory.getErrorCodes(SQLErrorCodesFactory.java:212)\n    at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.setDataSource(SQLErrorCodeSQLExceptionTranslator.java:134)\n    at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.&lt;init&gt;(SQLErrorCodeSQLExceptionTranslator.java:97)\n    at org.mybatis.spring.MyBatisExceptionTranslator.initExceptionTranslator(MyBatisExceptionTranslator.java:87)\n    at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:72)\n    at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:446)\n    at com.sun.proxy.$Proxy86.selectOne(Unknown Source)\n    at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:166)\n    at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:82)\n    at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)\n    at com.sun.proxy.$Proxy87.countForQueryAvailableSku(Unknown Source)\n    at com.xstore.recommend.biz.recommend.provider.YourFavoriates.getAvailableItems(YourFavoriates.java:68)\n    at com.xstore.recommend.biz.recommend.provider.YourFavoriates.executeItemInfoUpdateTaskRun(YourFavoriates.java:360)\n    at com.xstore.recommend.biz.recommend.provider.YourFavoriates.executeItemInfoUpdateTask(YourFavoriates.java:467)\n    at sun.reflect.GeneratedMethodAccessor126.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed.\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:422)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n    at com.mysql.jdbc.Util.getInstance(Util.java:408)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:918)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:897)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:886)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:860)\n    at com.mysql.jdbc.ConnectionImpl.throwConnectionClosedException(ConnectionImpl.java:1198)\n    at com.mysql.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:1193)\n    at com.mysql.jdbc.ConnectionImpl.getMetaData(ConnectionImpl.java:2903)\n    at com.mysql.jdbc.ConnectionImpl.getMetaData(ConnectionImpl.java:2898)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126)\n    at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108)\n    at org.apache.tomcat.jdbc.pool.interceptor.AbstractCreateStatementInterceptor.invoke(AbstractCreateStatementInterceptor.java:70)\n    at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108)\n    at org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81)\n    at com.sun.proxy.$Proxy118.getMetaData(Unknown Source)\n    at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:331)\n    ... 28 common frames omitted\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 31,199,913 milliseconds ago.  The last packet sent successfully to the server was 31,199,929 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:422)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n    at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:989)\n    at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3746)\n    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2509)\n    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\n    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)\n    at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\n    at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\n    at sun.reflect.GeneratedMethodAccessor119.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:138)\n    at com.sun.proxy.$Proxy119.execute(Unknown Source)\n    at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:63)\n    at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)\n    at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)\n    at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)\n    at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)\n    at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)\n    at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:77)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)\n    ... 21 common frames omitted\nCaused by: java.net.SocketException: 断开的管道\n    at java.net.SocketOutputStream.socketWrite0(Native Method)\n    at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:109)\n    at java.net.SocketOutputStream.write(SocketOutputStream.java:153)\n    at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)\n    at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)\n    at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3728)\n    ... 46 common frames omitted\n2018-02-14 02:20:00,069 [pool-5-thread-1] ERROR c.x.r.b.r.provider.YourFavoriates Method:executeItemInfoUpdateTask Line:469 - Exception while executing executeItemInfoUpdateTaskRun.\norg.springframework.dao.RecoverableDataAccessException: \n### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 31,199,913 milliseconds ago.  The last packet sent successfully to the server was 31,199,929 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.\n### The error may exist in URL [jar:file:/home/export/App/intelligenceRS.man.7fresh.com/WEB-INF/lib/xstore-intelligence-service-1.0.0-SNAPSHOT.jar!/mapper/popMd/PopMdMapper.xml]\n### The error may involve defaultParameterMap\n### The error occurred while setting parameters\n### SQL: select count(1) from search_base_data where           isIgnoreSearchVisible = 0 and has_stock = 1 and search_invisible = 1\n### Cause: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 31,199,913 milliseconds ago.  The last packet sent successfully to the server was 31,199,929 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.\n; SQL []; The last packet successfully received from the server was 31,199,913 milliseconds ago.  The last packet sent successfully to the server was 31,199,929 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 31,199,913 milliseconds ago.  The last packet sent successfully to the server was 31,199,929 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.\n    at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:98)\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)\n    at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)\n    at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:446)\n    at com.sun.proxy.$Proxy86.selectOne(Unknown Source)\n    at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:166)\n    at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:82)\n    at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)\n    at com.sun.proxy.$Proxy87.countForQueryAvailableSku(Unknown Source)\n    at com.xstore.recommend.biz.recommend.provider.YourFavoriates.getAvailableItems(YourFavoriates.java:68)\n    at com.xstore.recommend.biz.recommend.provider.YourFavoriates.executeItemInfoUpdateTaskRun(YourFavoriates.java:360)\n    at com.xstore.recommend.biz.recommend.provider.YourFavoriates.executeItemInfoUpdateTask(YourFavoriates.java:467)\n    at sun.reflect.GeneratedMethodAccessor126.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 31,199,913 milliseconds ago.  The last packet sent successfully to the server was 31,199,929 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:422)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n    at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:989)\n    at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3746)\n    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2509)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\n    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)\n    at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\n    at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\n    at sun.reflect.GeneratedMethodAccessor119.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:138)\n    at com.sun.proxy.$Proxy119.execute(Unknown Source)\n    at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:63)\n    at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)\n    at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)\n    at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)\n    at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)\n    at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)\n    at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:77)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)\n    ... 21 common frames omitted\nCaused by: java.net.SocketException: 断开的管道\n    at java.net.SocketOutputStream.socketWrite0(Native Method)\n    at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:109)\n    at java.net.SocketOutputStream.write(SocketOutputStream.java:153)\n    at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)\n    at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)\n    at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3728)\n    ... 46 common frames omitted\n</code></pre>\n\n<p>What is the real reason? I search the answer from the Internet. Many peple said to change the testOnBorrow to true, or extend the mysql connection timeout, etc. These answer cannot meet my problem. So, help me, please. I have been beset by this problem for a week.</p>\n"},{"tags":["java","android","locale","iso"],"answers":[{"tags":[],"owner":{"account_id":8969293,"reputation":4110,"user_id":6688493,"display_name":"touhid udoy"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1573736929,"creation_date":1573736588,"answer_id":58857452,"question_id":58857222,"body_markdown":"2nd parameter of Locale constructor needs a ISO2 code, not ISO3. You need to first map ISO3 to ISO2 and then get country name.\r\n\r\nThis possibly the worst case solution, I don&#39;t know any better solution, but its works.\r\n\r\n    String[] languages = Locale.getISOLanguages();\r\n    Map&lt;String, Locale&gt; localeMap = new HashMap&lt;String, Locale&gt;(languages.length);\r\n    for (String language : languages) {\r\n        Locale locale = new Locale(language);\r\n        localeMap.put(locale.getISO3Language(), locale);\r\n    }\r\n    Locale locale = new Locale(&quot;&quot;,localeMap(&quot;FRA&quot;));\r\n    Log.e(&quot;loc&quot;,&quot;&quot;+locale.getDisplayCountry());\r\n\r\n\r\n    \r\n","title":"Convert ISO3 country code to whole country name, Android","body":"<p>2nd parameter of Locale constructor needs a ISO2 code, not ISO3. You need to first map ISO3 to ISO2 and then get country name.</p>\n\n<p>This possibly the worst case solution, I don't know any better solution, but its works.</p>\n\n<pre><code>String[] languages = Locale.getISOLanguages();\nMap&lt;String, Locale&gt; localeMap = new HashMap&lt;String, Locale&gt;(languages.length);\nfor (String language : languages) {\n    Locale locale = new Locale(language);\n    localeMap.put(locale.getISO3Language(), locale);\n}\nLocale locale = new Locale(\"\",localeMap(\"FRA\"));\nLog.e(\"loc\",\"\"+locale.getDisplayCountry());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19878904,"reputation":186,"user_id":14563324,"display_name":"hitesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633598865,"creation_date":1633598865,"answer_id":69478689,"question_id":58857222,"body_markdown":"In kotlin you can do below: \r\n\r\n```\r\nobject CountryCodeConverter {\r\n    private val countryCodes: MutableList&lt;CountryCode&gt;\r\n\r\n    fun iso3CountryCodeToIso2CountryCode(iso3CountryCode: String?): String? {\r\n        return countryCodes.find { it.iso3CountryCode == iso3CountryCode }?.locale?.country\r\n    }\r\n    \r\n    fun getCountry(iso3CountryCode: String?): String? {\r\n        return countryCodes.find { it.iso3CountryCode == iso3CountryCode }?.locale?.displayCountry\r\n    }\r\n\r\n    init {\r\n        countryCodes = ArrayList()\r\n        countryCodes.addAll(Locale.getISOCountries().map {country-&gt;\r\n            val locale = Locale(&quot;&quot;, country)\r\n            CountryCode(\r\n                locale.isO3Country.toUpperCase(),\r\n                locale\r\n            )\r\n        })\r\n    }\r\n}\r\n\r\ndata class CountryCode (\r\n    val iso3CountryCode: String,\r\n    val locale: Locale\r\n)\r\n\r\n```","title":"Convert ISO3 country code to whole country name, Android","body":"<p>In kotlin you can do below:</p>\n<pre><code>object CountryCodeConverter {\n    private val countryCodes: MutableList&lt;CountryCode&gt;\n\n    fun iso3CountryCodeToIso2CountryCode(iso3CountryCode: String?): String? {\n        return countryCodes.find { it.iso3CountryCode == iso3CountryCode }?.locale?.country\n    }\n    \n    fun getCountry(iso3CountryCode: String?): String? {\n        return countryCodes.find { it.iso3CountryCode == iso3CountryCode }?.locale?.displayCountry\n    }\n\n    init {\n        countryCodes = ArrayList()\n        countryCodes.addAll(Locale.getISOCountries().map {country-&gt;\n            val locale = Locale(&quot;&quot;, country)\n            CountryCode(\n                locale.isO3Country.toUpperCase(),\n                locale\n            )\n        })\n    }\n}\n\ndata class CountryCode (\n    val iso3CountryCode: String,\n    val locale: Locale\n)\n\n</code></pre>\n"}],"owner":{"account_id":3558575,"reputation":2459,"user_id":2971619,"accept_rate":50,"display_name":"Kristiyan Varbanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633598865,"creation_date":1573735827,"question_id":58857222,"body_markdown":"I need to convert country iso3 code for example FRA to France is it possible? I tried with:`\r\nLocale locale = new Locale(&quot;FRA&quot;) or Locale locale = new Locale(&quot;&quot;,&quot;FRA&quot;)\r\nlocale.getDisplayCountry()`\r\nbut return empty String.","title":"Convert ISO3 country code to whole country name, Android","body":"<p>I need to convert country iso3 code for example FRA to France is it possible? I tried with:<code>\nLocale locale = new Locale(\"FRA\") or Locale locale = new Locale(\"\",\"FRA\")\nlocale.getDisplayCountry()</code>\nbut return empty String.</p>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"display_name":"user330315"},"score":2,"creation_date":1633588233,"post_id":69476015,"comment_id":122800388,"body_markdown":"&quot;*basically a new update of the value.*&quot; - why not use `UPDATE` then?","body":"&quot;<i>basically a new update of the value.</i>&quot; - why not use <code>UPDATE</code> then?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1633693745,"post_id":69476015,"comment_id":122834160,"body_markdown":"You basically have a big syntax error, because you&#39;re trying to mash two statements together as a single statement. The JDBC API is designed to execute individual statements, and even drivers that support executing multiple statements at once, at minimum require you to separate those statements with a terminator character (usually `;`).","body":"You basically have a big syntax error, because you&#39;re trying to mash two statements together as a single statement. The JDBC API is designed to execute individual statements, and even drivers that support executing multiple statements at once, at minimum require you to separate those statements with a terminator character (usually <code>;</code>)."}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633589226,"creation_date":1633589226,"answer_id":69476551,"question_id":69476015,"body_markdown":"Why not use `UPDATE` to perform the action that you want?\r\n\r\nAnyways if you want to continue with the same logic as above...\r\n\r\nI would suggest separating your query in 2. It&#39;s cleaner and more understandable.\r\n\r\nExample:\r\n\r\n```java\r\npublic int insertMiles(UUID id, Miles miles) {\r\n\r\n    String deleteQuery = &quot; DELETE FROM account_type &quot; +\r\n            &quot; WHERE person_Id = ?&quot;;\r\n\r\n    String insertQuery = &quot; INSERT INTO account_type (&quot; +\r\n            &quot; acc_id, &quot; +\r\n            &quot; person_Id, &quot; +\r\n            &quot; created_at, &quot; +\r\n            &quot; acc_miles) &quot; +\r\n            &quot;VALUES (?, ?, ?, ?)&quot;;\r\n    \r\n    int totalMiles = miles.getMiles();\r\n    totalMiles = totalMiles + miles.getMiles();\r\n    \r\n    int deleted = jdbcTemplate.update(deleteQuery, miles.getPersonID());\r\n    int inserted = jdbcTemplate.update(insertQuery, id, miles.getPersonID(), miles.getCreated_date(), totalMiles );\r\n    \r\n    \r\n    // RETURN ONE OF THEM\r\n    return deleted;\r\n    return inserted; \r\n}\r\n```\r\n\r\nYou could also separate your queries with a `;` and try doing the update again. But I doubt that that would work.","title":"Deleting and Inserting at the same time","body":"<p>Why not use <code>UPDATE</code> to perform the action that you want?</p>\n<p>Anyways if you want to continue with the same logic as above...</p>\n<p>I would suggest separating your query in 2. It's cleaner and more understandable.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int insertMiles(UUID id, Miles miles) {\n\n    String deleteQuery = &quot; DELETE FROM account_type &quot; +\n            &quot; WHERE person_Id = ?&quot;;\n\n    String insertQuery = &quot; INSERT INTO account_type (&quot; +\n            &quot; acc_id, &quot; +\n            &quot; person_Id, &quot; +\n            &quot; created_at, &quot; +\n            &quot; acc_miles) &quot; +\n            &quot;VALUES (?, ?, ?, ?)&quot;;\n    \n    int totalMiles = miles.getMiles();\n    totalMiles = totalMiles + miles.getMiles();\n    \n    int deleted = jdbcTemplate.update(deleteQuery, miles.getPersonID());\n    int inserted = jdbcTemplate.update(insertQuery, id, miles.getPersonID(), miles.getCreated_date(), totalMiles );\n    \n    \n    // RETURN ONE OF THEM\n    return deleted;\n    return inserted; \n}\n</code></pre>\n<p>You could also separate your queries with a <code>;</code> and try doing the update again. But I doubt that that would work.</p>\n"}],"owner":{"account_id":19198563,"reputation":11,"user_id":14026909,"display_name":"Jacques Cilliers"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1633702227,"answer_count":1,"score":1,"last_activity_date":1633598743,"creation_date":1633585650,"question_id":69476015,"body_markdown":"```java\r\npublic int insertMiles(UUID id, Miles miles) {\r\n\r\n        String sql = &quot;&quot; +\r\n                &quot; DELETE FROM account_type &quot; +\r\n                &quot; WHERE person_Id = ?&quot; +\r\n\r\n                &quot; INSERT INTO account_type (&quot; +\r\n                &quot; acc_id, &quot; +\r\n                &quot; person_Id, &quot; +\r\n                &quot; created_at, &quot; +\r\n                &quot; acc_miles) &quot; +\r\n                &quot;VALUES (?, ?, ?, ?)&quot;;\r\n        int totalMiles = miles.getMiles();\r\n        totalMiles = totalMiles + miles.getMiles();\r\n        return jdbcTemplate.update(\r\n                sql,\r\n                miles.getPersonID(),\r\n                id,\r\n                miles.getPersonID(),\r\n                miles.getCreated_date(),\r\n                totalMiles\r\n        );\r\n```\r\nI want to delete a value specific to its id and then insert the new value after adding the two together, basically a new update of the value. Please help, this is the query I got but doesn&#39;t seem to work.","title":"Deleting and Inserting at the same time","body":"<pre class=\"lang-java prettyprint-override\"><code>public int insertMiles(UUID id, Miles miles) {\n\n        String sql = &quot;&quot; +\n                &quot; DELETE FROM account_type &quot; +\n                &quot; WHERE person_Id = ?&quot; +\n\n                &quot; INSERT INTO account_type (&quot; +\n                &quot; acc_id, &quot; +\n                &quot; person_Id, &quot; +\n                &quot; created_at, &quot; +\n                &quot; acc_miles) &quot; +\n                &quot;VALUES (?, ?, ?, ?)&quot;;\n        int totalMiles = miles.getMiles();\n        totalMiles = totalMiles + miles.getMiles();\n        return jdbcTemplate.update(\n                sql,\n                miles.getPersonID(),\n                id,\n                miles.getPersonID(),\n                miles.getCreated_date(),\n                totalMiles\n        );\n</code></pre>\n<p>I want to delete a value specific to its id and then insert the new value after adding the two together, basically a new update of the value. Please help, this is the query I got but doesn't seem to work.</p>\n"},{"tags":["java","spring","spring-boot","model-view-controller","hide"],"comments":[{"owner":{"account_id":1088907,"reputation":1550,"user_id":1083981,"display_name":"nurisezgin"},"score":1,"creation_date":1633548344,"post_id":69470864,"comment_id":122791955,"body_markdown":"Hi Matthew, maybe I misunderstood what you&#39;re looking for. My suggestion would be you better look at spring security which has been designed such cases.","body":"Hi Matthew, maybe I misunderstood what you&#39;re looking for. My suggestion would be you better look at spring security which has been designed such cases."},{"owner":{"account_id":22962352,"reputation":1,"user_id":17091993,"display_name":"Matthew Palmer"},"score":0,"creation_date":1633548554,"post_id":69470864,"comment_id":122792032,"body_markdown":"Hi there! My goal is to allow CORS to access data from my API, but I don&#39;t want the API data to be viewed in the browser directly from that API call. Spring security works great for a lot of things, but I haven&#39;t found anything that can block direct viewing of a request in the browser. i.e. ... I don&#39;t want to go to `localhost:9000/employee/all` and see the response at the API route.","body":"Hi there! My goal is to allow CORS to access data from my API, but I don&#39;t want the API data to be viewed in the browser directly from that API call. Spring security works great for a lot of things, but I haven&#39;t found anything that can block direct viewing of a request in the browser. i.e. ... I don&#39;t want to go to <code>localhost:9000&#47;employee&#47;all</code> and see the response at the API route."}],"answers":[{"tags":[],"owner":{"account_id":22878324,"reputation":362,"user_id":17020280,"display_name":"GabeRAMturn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633545321,"creation_date":1633545321,"answer_id":69471010,"question_id":69470864,"body_markdown":"If your frontend is currently handling authentication, i‘d suggest moving to Springs Authenticationserice. That way you could prevent unauthenticated users from accessing that specific API endpoint.","title":"How do I hide a Spring Boot &quot;GET&quot; API request from the public in a browser?","body":"<p>If your frontend is currently handling authentication, i‘d suggest moving to Springs Authenticationserice. That way you could prevent unauthenticated users from accessing that specific API endpoint.</p>\n"},{"tags":[],"owner":{"account_id":8099234,"reputation":31,"user_id":6102713,"display_name":"Sital Sitoula"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633548432,"creation_date":1633548432,"answer_id":69471637,"question_id":69470864,"body_markdown":"You can use OAuth to register clients(frontend/postman/whatever you are using to test the API) that can access your resource server, but it might be overkill. For now, if you worry someone can view your API by typing it in the address bar(if that is your question) then you can allow access for authenticated users only.    ","title":"How do I hide a Spring Boot &quot;GET&quot; API request from the public in a browser?","body":"<p>You can use OAuth to register clients(frontend/postman/whatever you are using to test the API) that can access your resource server, but it might be overkill. For now, if you worry someone can view your API by typing it in the address bar(if that is your question) then you can allow access for authenticated users only.</p>\n"},{"tags":[],"owner":{"account_id":22941670,"reputation":21,"user_id":17074317,"display_name":"Deepak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633598644,"creation_date":1633598644,"answer_id":69478634,"question_id":69470864,"body_markdown":"If you want to restrict usage and make it inconvenient for abusers to call your API, you can issue a token on page load (CSRF token) and require that token to be present in the request to the API - that way the API will be callable from a browser that initiated a page load.\r\n\r\nYou can refer this link https://security.stackexchange.com/questions/246434/how-can-i-ensure-my-api-is-only-called-by-my-client ","title":"How do I hide a Spring Boot &quot;GET&quot; API request from the public in a browser?","body":"<p>If you want to restrict usage and make it inconvenient for abusers to call your API, you can issue a token on page load (CSRF token) and require that token to be present in the request to the API - that way the API will be callable from a browser that initiated a page load.</p>\n<p>You can refer this link <a href=\"https://security.stackexchange.com/questions/246434/how-can-i-ensure-my-api-is-only-called-by-my-client\">https://security.stackexchange.com/questions/246434/how-can-i-ensure-my-api-is-only-called-by-my-client</a></p>\n"}],"owner":{"account_id":22962352,"reputation":1,"user_id":17091993,"display_name":"Matthew Palmer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1633598644,"creation_date":1633544668,"question_id":69470864,"body_markdown":"As the question states, my goal is to hide a GET route in **Spring Boot** from being accessed from the public. I originally took a CORS approach, but that doesn&#39;t solve the actual **view** problem. Pretty much anyone could go to, say... `https://my-api-url.com/employee/all` and see a JSON record of all employees in my database.\r\n\r\n**END GOAL:** I only want my front-end to have access to my API for displaying that information to an authorized user who is signed in, but I do NOT want just anyone to have access to the API. CORS policy can handle the ajax requests, but it doesn&#39;t seem like I can stop the overall viewing of the GET url.\r\n\r\nHow can I solve this problem?","title":"How do I hide a Spring Boot &quot;GET&quot; API request from the public in a browser?","body":"<p>As the question states, my goal is to hide a GET route in <strong>Spring Boot</strong> from being accessed from the public. I originally took a CORS approach, but that doesn't solve the actual <strong>view</strong> problem. Pretty much anyone could go to, say... <code>https://my-api-url.com/employee/all</code> and see a JSON record of all employees in my database.</p>\n<p><strong>END GOAL:</strong> I only want my front-end to have access to my API for displaying that information to an authorized user who is signed in, but I do NOT want just anyone to have access to the API. CORS policy can handle the ajax requests, but it doesn't seem like I can stop the overall viewing of the GET url.</p>\n<p>How can I solve this problem?</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1633598244,"post_id":69478435,"comment_id":122804331,"body_markdown":"Remove those `sourceName:` etc... you&#39;re not supposed to write the parameter name. So `evaluateString(scriptable, data, &quot;javascript&quot;, 1, null).toString()`","body":"Remove those <code>sourceName:</code> etc... you&#39;re not supposed to write the parameter name. So <code>evaluateString(scriptable, data, &quot;javascript&quot;, 1, null).toString()</code>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633951799,"post_id":69478435,"comment_id":122888643,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633598575,"creation_date":1633598575,"answer_id":69478614,"question_id":69478435,"body_markdown":"Java doesn&#39;t &#39;do&#39; named parameters. `someMethod(param1Name: param1Value)` just isn&#39;t java. You are seeing it, though - see that `regex:` thing in your `replaceAll` calls a few lines up? But that&#39;s not _code_. That is intellij annotating your source file for you. That `regex:` isn&#39;t in your source file (and if it was, it wouldn&#39;t compile - that isn&#39;t java), it&#39;s intellij rendering your source file in a fancy fashion, to make it easier to read.\r\n\r\nThus, remove `lineno:` and `securityDomain:`.\r\n\r\nNB: It&#39;s clearly not working here. That `regex:` should have tipped you off. replaceAll is wrong here. You should use `replace`. `replace` __also__ replaces all occurrences. `replaceAll` is regexp based, `replace` isn&#39;t. These aren&#39;t regexps.\r\n","title":"Can&#39;t resolve method of &#39;enter&#39; in &#39;Context&#39;","body":"<p>Java doesn't 'do' named parameters. <code>someMethod(param1Name: param1Value)</code> just isn't java. You are seeing it, though - see that <code>regex:</code> thing in your <code>replaceAll</code> calls a few lines up? But that's not <em>code</em>. That is intellij annotating your source file for you. That <code>regex:</code> isn't in your source file (and if it was, it wouldn't compile - that isn't java), it's intellij rendering your source file in a fancy fashion, to make it easier to read.</p>\n<p>Thus, remove <code>lineno:</code> and <code>securityDomain:</code>.</p>\n<p>NB: It's clearly not working here. That <code>regex:</code> should have tipped you off. replaceAll is wrong here. You should use <code>replace</code>. <code>replace</code> <strong>also</strong> replaces all occurrences. <code>replaceAll</code> is regexp based, <code>replace</code> isn't. These aren't regexps.</p>\n"}],"owner":{"account_id":22951089,"reputation":1,"user_id":17082357,"display_name":"I&#39;m Noob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633598575,"creation_date":1633597896,"question_id":69478435,"body_markdown":"Actually I am trying to resolve those red line characters but I haven&#39;t find out any way to resolve. I have tried to import some js and rhino files but it&#39;s not working.\r\n\r\nI have tried to import the : \r\n`import org.mozilla.javascript.context` but this file is not importing to the ide.\r\n\r\nI hope I will find a better solution.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/vSSDo.png","title":"Can&#39;t resolve method of &#39;enter&#39; in &#39;Context&#39;","body":"<p>Actually I am trying to resolve those red line characters but I haven't find out any way to resolve. I have tried to import some js and rhino files but it's not working.</p>\n<p>I have tried to import the :\n<code>import org.mozilla.javascript.context</code> but this file is not importing to the ide.</p>\n<p>I hope I will find a better solution.</p>\n<p><a href=\"https://i.stack.imgur.com/vSSDo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vSSDo.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","validation"],"comments":[{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":2,"creation_date":1633523044,"post_id":69465618,"comment_id":122781307,"body_markdown":"And how you supposed to make Spring know how *exactly* passed String should be validated?","body":"And how you supposed to make Spring know how <i>exactly</i> passed String should be validated?"},{"owner":{"account_id":15567040,"reputation":71,"user_id":11230458,"display_name":"tooFastForSatan"},"score":0,"creation_date":1633523574,"post_id":69465618,"comment_id":122781546,"body_markdown":"The code is an example to understand the sense of it. I have an Entity where i use a lot of annoation like Pattern, NotNull, NotBlank etc. If I use the Valid annotation I say spring that he needs to check the fields in the Entity. He is doing that but not in the case above when Im first hitting oldPutConctact endpoint with an setEmail and then putContact. If I&#39;m hitting only putContact endpoint the Valid annotation is considered.","body":"The code is an example to understand the sense of it. I have an Entity where i use a lot of annoation like Pattern, NotNull, NotBlank etc. If I use the Valid annotation I say spring that he needs to check the fields in the Entity. He is doing that but not in the case above when Im first hitting oldPutConctact endpoint with an setEmail and then putContact. If I&#39;m hitting only putContact endpoint the Valid annotation is considered."},{"owner":{"account_id":15567040,"reputation":71,"user_id":11230458,"display_name":"tooFastForSatan"},"score":0,"creation_date":1633523695,"post_id":69465618,"comment_id":122781606,"body_markdown":"Test are already done but this is the one case when the test didnt pass and I dont understand why the VAlid annotation is not executed","body":"Test are already done but this is the one case when the test didnt pass and I dont understand why the VAlid annotation is not executed"},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1633523921,"post_id":69465618,"comment_id":122781711,"body_markdown":"Show the full model class you pass to `putContact` endpoint, or at least it&#39;s essential part (email)","body":"Show the full model class you pass to <code>putContact</code> endpoint, or at least it&#39;s essential part (email)"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1633539635,"post_id":69465618,"comment_id":122788767,"body_markdown":"How should spring validate the entity if all it has is a `String`? Your method signature takes a `String` **not** your entity (this `putContact(@RequestBody @Valid String contact)` is what you posted!). If that is just a typo remove the `javax.validation` dependency you have and add `spring-boot-starter-validation`. Finally the internal call won&#39;t execute the `@Valid` as that is part of the request processing which you bypass here, when used with `@Validated` it won&#39;t work either as that uses AOP and thus proxies for which it doesn&#39;t pass through the proxy with an internal method call.","body":"How should spring validate the entity if all it has is a <code>String</code>? Your method signature takes a <code>String</code> <b>not</b> your entity (this <code>putContact(@RequestBody @Valid String contact)</code> is what you posted!). If that is just a typo remove the <code>javax.validation</code> dependency you have and add <code>spring-boot-starter-validation</code>. Finally the internal call won&#39;t execute the <code>@Valid</code> as that is part of the request processing which you bypass here, when used with <code>@Validated</code> it won&#39;t work either as that uses AOP and thus proxies for which it doesn&#39;t pass through the proxy with an internal method call."}],"answers":[{"tags":[],"owner":{"account_id":3229625,"reputation":99,"user_id":2725189,"display_name":"bluezealot"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1633580342,"creation_date":1633523926,"answer_id":69465878,"question_id":69465618,"body_markdown":"Firstly you should define the validation rule for your parameters.\r\nFor example(Note the **NotBlank** annotation):\r\n\r\n    @Entity\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private long id;\r\n    \r\n        @NotBlank(message = &quot;Name is mandatory&quot;)\r\n        private String name;\r\n    \r\n        @NotBlank(message = &quot;Email is mandatory&quot;)\r\n        private String email;\r\n    \r\n        // standard constructors / setters / getters / toString\r\n        \r\n    }\r\n\r\nThen you can use the valid annotation in rest api controller.\r\nLike this:\r\n\r\n    @RestController\r\n    public class UserController {\r\n\r\n        @PostMapping(&quot;/users&quot;)\r\n        ResponseEntity&lt;String&gt; addUser(@Valid @RequestBody User user) {\r\n            // persisting the user\r\n            return ResponseEntity.ok(&quot;User is valid&quot;);\r\n        }\r\n    \r\n        // standard constructors / other methods\r\n    \r\n    }\r\n\r\nYou may not define the validation rule. So spring doesn’t know how to validate the parameter.\r\n\r\nPlease refer to [Spring validation][1] for further information.\r\n\r\n----By reading the comment from @nusia, add the following description.\r\n\r\nFrom the sample code &quot;public String putContact(@RequestBody @Valid String contact)&quot;, I can&#39;t see where you define the @NotBlank annotation to parameter String contact, or did you mean the type of argument &quot;contact&quot; is not string? If the type of &quot;contact&quot; is a defined entity and its email field has the NotBlank annotation. Then calling your new endpoint &quot;putContact&quot; from HTTP PUT request will fire the spring validation, but if you mean you call the new method &quot;putContact&quot;  from your old method &quot;oldPutContact&quot; the spring validation will not be fired, the reason is similar to [Call spring annotation method from same class][2].\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-bean-validation\r\n  [2]: https://stackoverflow.com/questions/3423972/spring-transaction-method-call-by-the-method-within-the-same-class-does-not-wo","title":"Spring - @Valid not working after calling method","body":"<p>Firstly you should define the validation rule for your parameters.\nFor example(Note the <strong>NotBlank</strong> annotation):</p>\n<pre><code>@Entity\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    @NotBlank(message = &quot;Name is mandatory&quot;)\n    private String name;\n\n    @NotBlank(message = &quot;Email is mandatory&quot;)\n    private String email;\n\n    // standard constructors / setters / getters / toString\n    \n}\n</code></pre>\n<p>Then you can use the valid annotation in rest api controller.\nLike this:</p>\n<pre><code>@RestController\npublic class UserController {\n\n    @PostMapping(&quot;/users&quot;)\n    ResponseEntity&lt;String&gt; addUser(@Valid @RequestBody User user) {\n        // persisting the user\n        return ResponseEntity.ok(&quot;User is valid&quot;);\n    }\n\n    // standard constructors / other methods\n\n}\n</code></pre>\n<p>You may not define the validation rule. So spring doesn’t know how to validate the parameter.</p>\n<p>Please refer to <a href=\"https://www.baeldung.com/spring-boot-bean-validation\" rel=\"nofollow noreferrer\">Spring validation</a> for further information.</p>\n<p>----By reading the comment from @nusia, add the following description.</p>\n<p>From the sample code &quot;public String putContact(@RequestBody @Valid String contact)&quot;, I can't see where you define the @NotBlank annotation to parameter String contact, or did you mean the type of argument &quot;contact&quot; is not string? If the type of &quot;contact&quot; is a defined entity and its email field has the NotBlank annotation. Then calling your new endpoint &quot;putContact&quot; from HTTP PUT request will fire the spring validation, but if you mean you call the new method &quot;putContact&quot;  from your old method &quot;oldPutContact&quot; the spring validation will not be fired, the reason is similar to <a href=\"https://stackoverflow.com/questions/3423972/spring-transaction-method-call-by-the-method-within-the-same-class-does-not-wo\">Call spring annotation method from same class</a>.</p>\n"}],"owner":{"account_id":15567040,"reputation":71,"user_id":11230458,"display_name":"tooFastForSatan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1229,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69465878,"answer_count":1,"score":0,"last_activity_date":1633598528,"creation_date":1633522855,"question_id":69465618,"body_markdown":"I wrote example of endpoints to understand the meaning of my question.\r\n\r\nI realised that my tests didnt pass due to the `@Valid` annotation. \r\n\r\nEg. I got two endpoints if someone is hitting the old one there is a need to check if Email is set becuase it has a `@NotBlank` annotation.\r\nBut when I&#39;m asking my endpoint with a set email the `@Valid` is not executed I realised that after doing tests with invalid data. And I cannot set the `@Valid`  in the `oldPutContact` because there are some contacts without email.\r\n\r\nMy question is why `putContact` didn&#39;t execute the `@Valid` annotation.\r\n```\r\n    @PutMapping(value = &quot;/contact/{contactid}&quot;, )\r\n    public String oldPutContact(@RequestBody Contact contact)\r\n        if(StringUtils.isBlank(contact.getEmail())){\r\n            contact.setEmail(&quot;randomEmail@ups.cm&quot;) ;\r\n        }\r\n        return putContact(contact);\r\n    }\r\n    @PutMapping(value = &quot;/contact/update/{contactid}&quot;)\r\n    public String putContact(@RequestBody @Valid Contact contact) {\r\n        contactService.updateContact(contact);\r\n    }\r\n```\r\nImagine Contact Entity looks like this \r\n```\r\n @Builder(toBuilder=true)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Contact {\r\n\r\n        private static final String SOME_PATTERN = &quot;&quot;;\r\n       private static final String SOME_EMAIL_PATTERN = &quot;&quot;;\r\n        private static final String SOME_PATTERN2 = &quot;&quot;;\r\n      \r\n        @NotBlank\r\n        private String id;\r\n\r\n        @NotNull\r\n        private Boolean isActive;\r\n\r\n        @NotBlank\r\n        @Pattern(regexp = SOME_PATTERN)\r\n        private String name;\r\n\r\n        @NotBlank\r\n        @Pattern(regexp = SOME_PATTERN)\r\n        private String surname;\r\n        \r\n       @NotBlank\r\n        @Email(regexp = SOME_EMAIL_PATTERN)\r\n        private String email;\r\n\r\n        @NotBlank\r\n        @Pattern(regexp = SOME_PATTERN2)\r\n        private String telephone;\r\n\r\n    }\r\n```\r\n","title":"Spring - @Valid not working after calling method","body":"<p>I wrote example of endpoints to understand the meaning of my question.</p>\n<p>I realised that my tests didnt pass due to the <code>@Valid</code> annotation.</p>\n<p>Eg. I got two endpoints if someone is hitting the old one there is a need to check if Email is set becuase it has a <code>@NotBlank</code> annotation.\nBut when I'm asking my endpoint with a set email the <code>@Valid</code> is not executed I realised that after doing tests with invalid data. And I cannot set the <code>@Valid</code>  in the <code>oldPutContact</code> because there are some contacts without email.</p>\n<p>My question is why <code>putContact</code> didn't execute the <code>@Valid</code> annotation.</p>\n<pre><code>    @PutMapping(value = &quot;/contact/{contactid}&quot;, )\n    public String oldPutContact(@RequestBody Contact contact)\n        if(StringUtils.isBlank(contact.getEmail())){\n            contact.setEmail(&quot;randomEmail@ups.cm&quot;) ;\n        }\n        return putContact(contact);\n    }\n    @PutMapping(value = &quot;/contact/update/{contactid}&quot;)\n    public String putContact(@RequestBody @Valid Contact contact) {\n        contactService.updateContact(contact);\n    }\n</code></pre>\n<p>Imagine Contact Entity looks like this</p>\n<pre><code> @Builder(toBuilder=true)\n    @Data\n    @AllArgsConstructor\n    @NoArgsConstructor\n    public class Contact {\n\n        private static final String SOME_PATTERN = &quot;&quot;;\n       private static final String SOME_EMAIL_PATTERN = &quot;&quot;;\n        private static final String SOME_PATTERN2 = &quot;&quot;;\n      \n        @NotBlank\n        private String id;\n\n        @NotNull\n        private Boolean isActive;\n\n        @NotBlank\n        @Pattern(regexp = SOME_PATTERN)\n        private String name;\n\n        @NotBlank\n        @Pattern(regexp = SOME_PATTERN)\n        private String surname;\n        \n       @NotBlank\n        @Email(regexp = SOME_EMAIL_PATTERN)\n        private String email;\n\n        @NotBlank\n        @Pattern(regexp = SOME_PATTERN2)\n        private String telephone;\n\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15964714,"reputation":33,"user_id":11520725,"display_name":"EpicAshman"},"score":0,"creation_date":1633597057,"post_id":69478250,"comment_id":122803753,"body_markdown":"I am also trying not to use a massive inefficient else-if statement","body":"I am also trying not to use a massive inefficient else-if statement"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":3,"creation_date":1633597253,"post_id":69478250,"comment_id":122803833,"body_markdown":"Two `int[]` arrays with the same values will not compare equal with `==`. See [Comparing two integer arrays in Java](https://stackoverflow.com/q/14897366/3890632)","body":"Two <code>int[]</code> arrays with the same values will not compare equal with <code>==</code>. See <a href=\"https://stackoverflow.com/q/14897366/3890632\">Comparing two integer arrays in Java</a>"},{"owner":{"account_id":15964714,"reputation":33,"user_id":11520725,"display_name":"EpicAshman"},"score":0,"creation_date":1633597616,"post_id":69478250,"comment_id":122804007,"body_markdown":"@khelwood So in theory would be able to make multiples of the Array.equals() statements to make it work or can I use all of the indexes as parameters at once?","body":"@khelwood So in theory would be able to make multiples of the Array.equals() statements to make it work or can I use all of the indexes as parameters at once?"},{"owner":{"account_id":12256232,"reputation":617,"user_id":8945198,"display_name":"AP11"},"score":0,"creation_date":1633597783,"post_id":69478250,"comment_id":122804093,"body_markdown":"Wouldn&#39;t it be just better to hold all your _game objects_ in a `List` and before you spawn your object, check if any object already has the position *[x, y]*?","body":"Wouldn&#39;t it be just better to hold all your <i>game objects</i> in a <code>List</code> and before you spawn your object, check if any object already has the position <i>[x, y]</i>?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1633597897,"post_id":69478250,"comment_id":122804155,"body_markdown":"Your current loop only compares each `allObject` element to the next element. You could use a nested loop to compare every int[] to every other int[] with Arrays.equals(). That&#39;s O(N&#178;) unless you want to change your data structure.","body":"Your current loop only compares each <code>allObject</code> element to the next element. You could use a nested loop to compare every int[] to every other int[] with Arrays.equals(). That&#39;s O(N&#178;) unless you want to change your data structure."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633598279,"creation_date":1633598279,"answer_id":69478542,"question_id":69478250,"body_markdown":"Arrays in java are quite low-level things. You should probably use them here (it&#39;s a game, and `List&lt;Integer&gt;` is vastly less efficient than `int[]`. Maybe Project Valhalla will change that, but it&#39;ll be quite a few years before PV makes it into main java, so that&#39;s no solution and probably you can&#39;t afford to wait until it is). But, be aware of that.\r\n\r\nThey are objects. Thus, `allObject[i]`, which returns the `int[]` at position `i`, is an object reference, and `==` between object references just compares __the reference__.\r\n\r\nImagine a newspaper. I&#39;m the paperboy and I thus have 2 identical newspapers in my hands. I show you both of them and ask you: Hey, are these two equal?\r\n\r\nPhilosophically, two answers are available, both are equally correct, it&#39;s just a matter of perspective:\r\n\r\n* Yes: Both newspapers have the same number of pages and each page has the same letters. They are identical.\r\n* No: They are two different objects. Had you given me a newspaper right now and then later asked me: Hey, is this newspaper the same one as what I showed you before - then I might say &#39;yes&#39;, but 2 different newspapers clearly aren&#39;t identical.\r\n\r\nIn java, `==` is like __the latter one__. Let&#39;s see it in practice: (Copy this code over, compile it, run it, play around with it):\r\n\r\n```\r\nint[] a = new int[] {1, 2, 3};\r\nint[] b = new int[] {1, 2, 3};\r\nSystem.out.println(a == b); // prints false\r\nSystem.out.println(Arrays.equals(a, b)); // prints true\r\n```\r\n\r\nThe utility method `equals(int[] a, int[] b)` from the `java.util.Arrays` class will get you the first notion (2 separate int arrays are equal if they are the same size and contain the same int at every position).\r\n\r\nPresumably you want `Arrays.equals(allObjects[i], allObjects[i + 1])` here.\r\n\r\nAlso note that your method does this:\r\n\r\n* It goes through each adjacent pair of objects, where &#39;an object&#39; is defined by an int array. So, if you have `[A, B, C, D]` where each letter is an int array, your code first compares `A`/`B`, then compares `B`/`C`, and then compares `C`/`D`.\r\n* The moment it hits a pair that is equal, it returns true.\r\n* It returns false only if every consecutive pair is non-equal.\r\n* In particular, if A and B are equal but B and C are not, it still returns true.\r\n* It never compares A and C.\r\n\r\nThis doesn&#39;t appear to match what you wrote. You said: \r\n\r\n&gt; So I have attempted to write a function to check if all of the game objects don&#39;t have the same position.\r\n\r\nIf you want to check if __all__ objects are identical, flip the loop around. You want to `return false` immediately if any consecutive pair is non-equal, and `return true;` at the end of the loop, which you only get to if _every_ pair-wise comparison concluded: These 2 are equal.\r\n\r\nIf you want to check merely if any 2 objects are identical, then your code as written doesn&#39;t work either. What if A and C are identical, after all?\r\n\r\nDoing a cross-cut comparison gets pricey if you have a lot of objects (if you have 100 objects, you need 100+99+98+97+.... comparisons, i.e. `0.5 * n * n` objects. The time you need to do this grows squared relative to the number of objects in the system). There are efficient ways to do this, for example, if you can establish a strict sorting order, or using hashmaps. However, `int[]` is not a suitable data type on its own for such jobs, as `int[]` does not have a `hashCode()` implementation that is suitable for this task, and doesn&#39;t have an `equals()` that is suitable either. You&#39;d have to do quite a bit more work.\r\n\r\nIf you never have more than, say, 1000 objects, a double loop is probably okay.\r\n","title":"Function to check object coordinates to see if they are in the same place","body":"<p>Arrays in java are quite low-level things. You should probably use them here (it's a game, and <code>List&lt;Integer&gt;</code> is vastly less efficient than <code>int[]</code>. Maybe Project Valhalla will change that, but it'll be quite a few years before PV makes it into main java, so that's no solution and probably you can't afford to wait until it is). But, be aware of that.</p>\n<p>They are objects. Thus, <code>allObject[i]</code>, which returns the <code>int[]</code> at position <code>i</code>, is an object reference, and <code>==</code> between object references just compares <strong>the reference</strong>.</p>\n<p>Imagine a newspaper. I'm the paperboy and I thus have 2 identical newspapers in my hands. I show you both of them and ask you: Hey, are these two equal?</p>\n<p>Philosophically, two answers are available, both are equally correct, it's just a matter of perspective:</p>\n<ul>\n<li>Yes: Both newspapers have the same number of pages and each page has the same letters. They are identical.</li>\n<li>No: They are two different objects. Had you given me a newspaper right now and then later asked me: Hey, is this newspaper the same one as what I showed you before - then I might say 'yes', but 2 different newspapers clearly aren't identical.</li>\n</ul>\n<p>In java, <code>==</code> is like <strong>the latter one</strong>. Let's see it in practice: (Copy this code over, compile it, run it, play around with it):</p>\n<pre><code>int[] a = new int[] {1, 2, 3};\nint[] b = new int[] {1, 2, 3};\nSystem.out.println(a == b); // prints false\nSystem.out.println(Arrays.equals(a, b)); // prints true\n</code></pre>\n<p>The utility method <code>equals(int[] a, int[] b)</code> from the <code>java.util.Arrays</code> class will get you the first notion (2 separate int arrays are equal if they are the same size and contain the same int at every position).</p>\n<p>Presumably you want <code>Arrays.equals(allObjects[i], allObjects[i + 1])</code> here.</p>\n<p>Also note that your method does this:</p>\n<ul>\n<li>It goes through each adjacent pair of objects, where 'an object' is defined by an int array. So, if you have <code>[A, B, C, D]</code> where each letter is an int array, your code first compares <code>A</code>/<code>B</code>, then compares <code>B</code>/<code>C</code>, and then compares <code>C</code>/<code>D</code>.</li>\n<li>The moment it hits a pair that is equal, it returns true.</li>\n<li>It returns false only if every consecutive pair is non-equal.</li>\n<li>In particular, if A and B are equal but B and C are not, it still returns true.</li>\n<li>It never compares A and C.</li>\n</ul>\n<p>This doesn't appear to match what you wrote. You said:</p>\n<blockquote>\n<p>So I have attempted to write a function to check if all of the game objects don't have the same position.</p>\n</blockquote>\n<p>If you want to check if <strong>all</strong> objects are identical, flip the loop around. You want to <code>return false</code> immediately if any consecutive pair is non-equal, and <code>return true;</code> at the end of the loop, which you only get to if <em>every</em> pair-wise comparison concluded: These 2 are equal.</p>\n<p>If you want to check merely if any 2 objects are identical, then your code as written doesn't work either. What if A and C are identical, after all?</p>\n<p>Doing a cross-cut comparison gets pricey if you have a lot of objects (if you have 100 objects, you need 100+99+98+97+.... comparisons, i.e. <code>0.5 * n * n</code> objects. The time you need to do this grows squared relative to the number of objects in the system). There are efficient ways to do this, for example, if you can establish a strict sorting order, or using hashmaps. However, <code>int[]</code> is not a suitable data type on its own for such jobs, as <code>int[]</code> does not have a <code>hashCode()</code> implementation that is suitable for this task, and doesn't have an <code>equals()</code> that is suitable either. You'd have to do quite a bit more work.</p>\n<p>If you never have more than, say, 1000 objects, a double loop is probably okay.</p>\n"}],"owner":{"account_id":15964714,"reputation":33,"user_id":11520725,"display_name":"EpicAshman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633598279,"creation_date":1633597004,"question_id":69478250,"body_markdown":"Hi I have started to write a console monster game for my A Level CS Class. I have hit a road block because sometimes when I run my game, some objects are not appearing and I have deduced that is due to the objects having the same coordinates. So I have attempted to write a function to check if all of the game objects don&#39;t have the same position. All objects have a position (x,y) and the allObjects is a 2d array that I have assigned all of the objects starting positions.\r\n\r\n```\r\nprivate static boolean checkObjects(int[][] allObjects){\r\n        int upperBound = allObjects.length;\r\n        for(int i = 0; i &lt; upperBound -1 ; i++){\r\n            if(allObjects[i] == allObjects[i+1]){\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n```","title":"Function to check object coordinates to see if they are in the same place","body":"<p>Hi I have started to write a console monster game for my A Level CS Class. I have hit a road block because sometimes when I run my game, some objects are not appearing and I have deduced that is due to the objects having the same coordinates. So I have attempted to write a function to check if all of the game objects don't have the same position. All objects have a position (x,y) and the allObjects is a 2d array that I have assigned all of the objects starting positions.</p>\n<pre><code>private static boolean checkObjects(int[][] allObjects){\n        int upperBound = allObjects.length;\n        for(int i = 0; i &lt; upperBound -1 ; i++){\n            if(allObjects[i] == allObjects[i+1]){\n                return true;\n            }\n        }\n        return false;\n    }\n</code></pre>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1633595387,"post_id":69477784,"comment_id":122803015,"body_markdown":"Depends on what `A`, `B` and `C` are, and what the exception is/means. In other words, there&#39;s no one-size-fits-all answer.","body":"Depends on what <code>A</code>, <code>B</code> and <code>C</code> are, and what the exception is/means. In other words, there&#39;s no one-size-fits-all answer."},{"owner":{"account_id":1244297,"reputation":4258,"user_id":1206062,"accept_rate":55,"display_name":"Harshavardhan Konakanchi"},"score":0,"creation_date":1633595435,"post_id":69477784,"comment_id":122803031,"body_markdown":"Should throw the exception at C() and B() both then you will be able to handle it in A()","body":"Should throw the exception at C() and B() both then you will be able to handle it in A()"},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1633595538,"post_id":69477784,"comment_id":122803071,"body_markdown":"It&#39;s usually referred as &quot;rethrow&quot;-ing an exception, you can find numerous topic if you search for it.","body":"It&#39;s usually referred as &quot;rethrow&quot;-ing an exception, you can find numerous topic if you search for it."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1633596604,"post_id":69477784,"comment_id":122803540,"body_markdown":"In general you should not `catch(Exception e)` at all. You should catch exactly and only the exceptions that the compiler forces you to catch, plus maybe some very carefully chosen `RuntimeException`s or `Error`s at sites where you really know what the hell is going on.","body":"In general you should not <code>catch(Exception e)</code> at all. You should catch exactly and only the exceptions that the compiler forces you to catch, plus maybe some very carefully chosen <code>RuntimeException</code>s or <code>Error</code>s at sites where you really know what the hell is going on."},{"owner":{"account_id":14707984,"reputation":25,"user_id":12904800,"display_name":"Sami Şahin"},"score":0,"creation_date":1633597641,"post_id":69477784,"comment_id":122804024,"body_markdown":"@tevemadar I tried searching first of course but couldn&#39;t find an example like mine where first and third has catch but middle one doesn&#39;t. Thanks for the term tho, didn&#39;t think about that.","body":"@tevemadar I tried searching first of course but couldn&#39;t find an example like mine where first and third has catch but middle one doesn&#39;t. Thanks for the term tho, didn&#39;t think about that."},{"owner":{"account_id":14707984,"reputation":25,"user_id":12904800,"display_name":"Sami Şahin"},"score":0,"creation_date":1633597657,"post_id":69477784,"comment_id":122804028,"body_markdown":"@user207421 Thanks for the reminder but this was just for example.","body":"@user207421 Thanks for the reminder but this was just for example."}],"answers":[{"tags":[],"owner":{"account_id":1598303,"reputation":12302,"user_id":1479895,"accept_rate":78,"display_name":"Anton Belev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633595589,"creation_date":1633595589,"answer_id":69477906,"question_id":69477784,"body_markdown":"When you do \r\n\r\n    public void C(){\r\n        try{\r\n            some_stuff();\r\n        }\r\n        catch(Exception e){\r\n            log.error(e)\r\n        }\r\n    }\r\n\r\nThis will handle the exception at this point. You will log it and disregard the exception. If you want to log and propagate it up, you need to re-throw it from the `catch` clause.\r\n\r\nSince Exception is checked (as far as I remember) you need to change the method signature to indicate that you are throwing this from `C`.\r\n\r\nAt `B` you don&#39;t need to handle it, you can just change the method signature to indicate the method throws Exception.\r\n\r\nRead more on Java checked vs unchecked exceptions for example here [enter link description here][1]\r\n\r\n\r\n  [1]: https://howtodoinjava.com/java/exception-handling/checked-vs-unchecked-exceptions-in-java/\r\n\r\nFinally if you want to propagate to `A` the code will look like this:\r\n\r\n\r\n    public void A(){\r\n        try{\r\n            B();\r\n        }\r\n        catch(Exception e){\r\n            log.error(e);\r\n        }\r\n    }\r\n    \r\n    public void B() throws Exception{\r\n        C();\r\n    }\r\n    \r\n    public void C() throws Exception{\r\n        try{\r\n            some_stuff();\r\n        }\r\n        catch(Exception e){\r\n            log.error(e)\r\n            throw e;\r\n        }\r\n    }","title":"Exception handling in nested methods with more than 2 levels deep","body":"<p>When you do</p>\n<pre><code>public void C(){\n    try{\n        some_stuff();\n    }\n    catch(Exception e){\n        log.error(e)\n    }\n}\n</code></pre>\n<p>This will handle the exception at this point. You will log it and disregard the exception. If you want to log and propagate it up, you need to re-throw it from the <code>catch</code> clause.</p>\n<p>Since Exception is checked (as far as I remember) you need to change the method signature to indicate that you are throwing this from <code>C</code>.</p>\n<p>At <code>B</code> you don't need to handle it, you can just change the method signature to indicate the method throws Exception.</p>\n<p>Read more on Java checked vs unchecked exceptions for example here <a href=\"https://howtodoinjava.com/java/exception-handling/checked-vs-unchecked-exceptions-in-java/\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n<p>Finally if you want to propagate to <code>A</code> the code will look like this:</p>\n<pre><code>public void A(){\n    try{\n        B();\n    }\n    catch(Exception e){\n        log.error(e);\n    }\n}\n\npublic void B() throws Exception{\n    C();\n}\n\npublic void C() throws Exception{\n    try{\n        some_stuff();\n    }\n    catch(Exception e){\n        log.error(e)\n        throw e;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17352297,"reputation":2252,"user_id":12570528,"display_name":"Gregor Zurowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633595681,"creation_date":1633595681,"answer_id":69477934,"question_id":69477784,"body_markdown":"You are handling the exception in the `catch` block, therefore it will not be further propagated to the caller. This is independent of whether you are logging it or doing anything else with it. If you want want to propagate it to the caller, you would need to re-throw it:\r\n\r\n```\r\n[...]\r\ncatch (Exception e) {\r\n   // do something\r\n   throw e;\r\n}\r\n```\r\n\r\nHow you handle exceptions depends on the design of your code.","title":"Exception handling in nested methods with more than 2 levels deep","body":"<p>You are handling the exception in the <code>catch</code> block, therefore it will not be further propagated to the caller. This is independent of whether you are logging it or doing anything else with it. If you want want to propagate it to the caller, you would need to re-throw it:</p>\n<pre><code>[...]\ncatch (Exception e) {\n   // do something\n   throw e;\n}\n</code></pre>\n<p>How you handle exceptions depends on the design of your code.</p>\n"}],"owner":{"account_id":14707984,"reputation":25,"user_id":12904800,"display_name":"Sami Şahin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69477906,"answer_count":2,"score":1,"last_activity_date":1633598271,"creation_date":1633595049,"question_id":69477784,"body_markdown":"Let&#39;s say we have nested methods A, B and C like below:\r\n\r\n```\r\npublic void A(){\r\n    try{\r\n        B();\r\n    }\r\n    catch(Exception e){\r\n        log.error(e);\r\n    }\r\n}\r\n\r\npublic void B(){\r\n    C();\r\n}\r\n\r\npublic void C(){\r\n    try{\r\n        some_stuff();\r\n    }\r\n    catch(Exception e){\r\n        log.error(e)\r\n    }\r\n}\r\n```\r\nSince I catch the exception at C() and handle it with only logging, and there isn&#39;t any catch in B(), do I catch the exception at A()?\r\n\r\nOr should I throw the exception at C() and add a try catch at B() to be able to handle it in A()?","title":"Exception handling in nested methods with more than 2 levels deep","body":"<p>Let's say we have nested methods A, B and C like below:</p>\n<pre><code>public void A(){\n    try{\n        B();\n    }\n    catch(Exception e){\n        log.error(e);\n    }\n}\n\npublic void B(){\n    C();\n}\n\npublic void C(){\n    try{\n        some_stuff();\n    }\n    catch(Exception e){\n        log.error(e)\n    }\n}\n</code></pre>\n<p>Since I catch the exception at C() and handle it with only logging, and there isn't any catch in B(), do I catch the exception at A()?</p>\n<p>Or should I throw the exception at C() and add a try catch at B() to be able to handle it in A()?</p>\n"},{"tags":["java","image","swing","embedded-resource"],"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1626458308,"post_id":68412410,"comment_id":120907602,"body_markdown":"Can you add to your question&#39;s post the tree structure of the files of interest (such as classes and images)? For example, where is *directory.jpg* located in relation to the classpath?","body":"Can you add to your question&#39;s post the tree structure of the files of interest (such as classes and images)? For example, where is <i>directory.jpg</i> located in relation to the classpath?"},{"owner":{"account_id":21709395,"reputation":162,"user_id":16021237,"display_name":"GalliadII"},"score":0,"creation_date":1626472323,"post_id":68412410,"comment_id":120911489,"body_markdown":"I am using Inteliji. And I just made this path up, since it is located inside my resources folder. i used the path &quot;src/Projectname/Pictures/picture.jpg&quot;. \nthe &quot;Pictures&quot; folder is located in &quot;Projectfolder/Pictures&quot; and is assigned to be the resource folder.","body":"I am using Inteliji. And I just made this path up, since it is located inside my resources folder. i used the path &quot;src/Projectname/Pictures/picture.jpg&quot;.  the &quot;Pictures&quot; folder is located in &quot;Projectfolder/Pictures&quot; and is assigned to be the resource folder."}],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1626460373,"creation_date":1626460373,"answer_id":68413797,"question_id":68412410,"body_markdown":" 1. `label.setIcon(new ImageIcon(&quot;URL/copied/from/directory.jpg&quot;));`&lt;br&gt;This could not work, as the `String` should represent a `File` rather than a `URL`, but important point here, don&#39;t share with us &#39;something like&#39; the code or `String` being used. Share the **actual *copy/pasted*** text. \r\n 2. `label.setIcon(new ImageIcon(getClass().getResource(&quot;URL/copied/from/directory.jpg&quot;)));`&lt;br&gt;This tries to do too much in one line. Break it down. Use `getResource(..)` to get an `URL` (**print out the URL**). Use the URL to form an `Icon`, check it&#39;s not `null`. Use the icon to create the label.\r\n3. `getClass().getResource.read(&quot;URL/copied/from/directory.jpg&quot;);`&lt;br&gt;Of course this would not compile, but the statement *&quot;One problem I have with the code examples in other similar questions is that I cannot tell which part of the code is syntax and which is not.&quot;* is especially telling. It is .. Java 101 to be able to read a compiler error and either solve it or form a specific question about solving it. OTOH creating a cross-platform GUI using embedded resources is somewhat more advanced than Java 101. Perhaps you should set this project aside for a while and practice Java basics until you are familiar with them.\r\n\r\nIf you would like to try and continue with solving *this* problem, please post a short but complete code example based on the 2nd approach (the only one which made sense). \r\n\r\nBut to provide help, we&#39;ll need to know at least the package name of the class in which this code is called from (the &#39;short but complete example&#39; will reveal that), and the directory structure of the project itself (at least showing the paths to the class and the image).","title":"getClass().getResource(..) makes image icon suddenly null","body":"<ol>\n<li><code>label.setIcon(new ImageIcon(&quot;URL/copied/from/directory.jpg&quot;));</code><br>This could not work, as the <code>String</code> should represent a <code>File</code> rather than a <code>URL</code>, but important point here, don't share with us 'something like' the code or <code>String</code> being used. Share the <strong>actual <em>copy/pasted</em></strong> text.</li>\n<li><code>label.setIcon(new ImageIcon(getClass().getResource(&quot;URL/copied/from/directory.jpg&quot;)));</code><br>This tries to do too much in one line. Break it down. Use <code>getResource(..)</code> to get an <code>URL</code> (<strong>print out the URL</strong>). Use the URL to form an <code>Icon</code>, check it's not <code>null</code>. Use the icon to create the label.</li>\n<li><code>getClass().getResource.read(&quot;URL/copied/from/directory.jpg&quot;);</code><br>Of course this would not compile, but the statement <em>&quot;One problem I have with the code examples in other similar questions is that I cannot tell which part of the code is syntax and which is not.&quot;</em> is especially telling. It is .. Java 101 to be able to read a compiler error and either solve it or form a specific question about solving it. OTOH creating a cross-platform GUI using embedded resources is somewhat more advanced than Java 101. Perhaps you should set this project aside for a while and practice Java basics until you are familiar with them.</li>\n</ol>\n<p>If you would like to try and continue with solving <em>this</em> problem, please post a short but complete code example based on the 2nd approach (the only one which made sense).</p>\n<p>But to provide help, we'll need to know at least the package name of the class in which this code is called from (the 'short but complete example' will reveal that), and the directory structure of the project itself (at least showing the paths to the class and the image).</p>\n"}],"owner":{"account_id":21709395,"reputation":162,"user_id":16021237,"display_name":"GalliadII"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":68413797,"answer_count":1,"score":-1,"last_activity_date":1633597494,"creation_date":1626453076,"question_id":68412410,"body_markdown":"I have been reading a lot of questions related to this problem on this website. But somehow, none of the suggested answers worked. \r\n\r\nI want to use images in my java program. I build the .java file today for the first time, but the images won&#39;t apply to the finished build. I tried a lot. \r\n`getClass.getResource()`, the Class loader, reassigning my resource folder, moving the images, switching the images, different types of URLs, but I run into one of 2 problems either way:\r\n\r\nI either get the above problem, when my code for the line is:\r\n\r\n    label.setIcon(new ImageIcon(&quot;URL/copied/from/directory.jpg&quot;));\r\n\r\nor, when I do something like this:\r\n\r\n    label.setIcon(new ImageIcon(getClass().getResource(&quot;URL/copied/from/directory.jpg&quot;)));\r\n\r\nThen I get a warning, which states this URL might be null. \r\n\r\nwhen I use `getClass().getResource.read(&quot;URL/copied/from/directory.jpg&quot;);` I actually get a compiling error with the same issue. \r\n\r\nI am really not sure what is wrong with the code or the URL. One problem I have with the code examples in other similar questions is that I cannot tell which part of the code is syntax and which is not. \r\n\r\nAs requested here is the original code:\r\n\r\n    climateImageLabel.setIcon(new ImageIcon(getClass().getResource(&quot;src/DSA_Wildnistool/Pictures/KEIN BILD.jpg&quot;)));\r\n\r\n","title":"getClass().getResource(..) makes image icon suddenly null","body":"<p>I have been reading a lot of questions related to this problem on this website. But somehow, none of the suggested answers worked.</p>\n<p>I want to use images in my java program. I build the .java file today for the first time, but the images won't apply to the finished build. I tried a lot.\n<code>getClass.getResource()</code>, the Class loader, reassigning my resource folder, moving the images, switching the images, different types of URLs, but I run into one of 2 problems either way:</p>\n<p>I either get the above problem, when my code for the line is:</p>\n<pre><code>label.setIcon(new ImageIcon(&quot;URL/copied/from/directory.jpg&quot;));\n</code></pre>\n<p>or, when I do something like this:</p>\n<pre><code>label.setIcon(new ImageIcon(getClass().getResource(&quot;URL/copied/from/directory.jpg&quot;)));\n</code></pre>\n<p>Then I get a warning, which states this URL might be null.</p>\n<p>when I use <code>getClass().getResource.read(&quot;URL/copied/from/directory.jpg&quot;);</code> I actually get a compiling error with the same issue.</p>\n<p>I am really not sure what is wrong with the code or the URL. One problem I have with the code examples in other similar questions is that I cannot tell which part of the code is syntax and which is not.</p>\n<p>As requested here is the original code:</p>\n<pre><code>climateImageLabel.setIcon(new ImageIcon(getClass().getResource(&quot;src/DSA_Wildnistool/Pictures/KEIN BILD.jpg&quot;)));\n</code></pre>\n"},{"tags":["java","return","cannot-find-symbol"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":4,"creation_date":1621902154,"post_id":67680242,"comment_id":119628185,"body_markdown":"probably `String FirstName = weidenFirstName();` ?","body":"probably <code>String FirstName = weidenFirstName();</code> ?"},{"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"score":0,"creation_date":1621902463,"post_id":67680242,"comment_id":119628223,"body_markdown":"Does that even compile ? If not you should include the error messages.","body":"Does that even compile ? If not you should include the error messages."},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1621904524,"post_id":67680242,"comment_id":119628508,"body_markdown":"Set a breakpoint and see what firstNames.get(r) returns.","body":"Set a breakpoint and see what firstNames.get(r) returns."}],"answers":[{"tags":[],"owner":{"account_id":6456898,"reputation":26,"user_id":5001979,"display_name":"Tomn Nguyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1621931305,"creation_date":1621905002,"answer_id":67680508,"question_id":67680242,"body_markdown":"If you want to get the value from `weidenFirstName()` in `NPC()` method, you need to assign a new String equal to the returned value from `weidenFirstName()` then assign that value equal to String `FirstName` in `NPC()` method. So you need to do like this in `NPC()` method:\r\n\r\n```java\r\npublic void NPC() {\r\n    String generatedFirstName = weidenFirstName();\r\n    String FirstName = generatedFirstName;\r\n}\r\n```\r\n\r\n\r\nIn NPC() method, if you just want to assign the value `FirstName` equal to the random value from `weidenFirstName()` method then you do above. If you want to return the String value from it then you can do like below:\r\n\r\n```java\r\npublic String NPC() {\r\n    String generatedFirstName= weidenFirstName();\r\n    String FirstName = generatedFirstName;\r\n    return FirstName;\r\n}\r\n```\r\n","title":"Java: &quot;cannot find symbol&quot; of a return value","body":"<p>If you want to get the value from <code>weidenFirstName()</code> in <code>NPC()</code> method, you need to assign a new String equal to the returned value from <code>weidenFirstName()</code> then assign that value equal to String <code>FirstName</code> in <code>NPC()</code> method. So you need to do like this in <code>NPC()</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void NPC() {\n    String generatedFirstName = weidenFirstName();\n    String FirstName = generatedFirstName;\n}\n</code></pre>\n<p>In NPC() method, if you just want to assign the value <code>FirstName</code> equal to the random value from <code>weidenFirstName()</code> method then you do above. If you want to return the String value from it then you can do like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String NPC() {\n    String generatedFirstName= weidenFirstName();\n    String FirstName = generatedFirstName;\n    return FirstName;\n}\n</code></pre>\n"}],"owner":{"account_id":21709395,"reputation":162,"user_id":16021237,"display_name":"GalliadII"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":684,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":67680508,"answer_count":1,"score":-3,"last_activity_date":1633597325,"creation_date":1621902001,"question_id":67680242,"body_markdown":"I set up a variable that I want returned, but it does not work. \r\nThe goal of this method is to create a random name generator which can be expanded as I see fit. \r\nBut it does not return the `generatedFirstName` String. I looked through my notes over and over, but I can&#39;t find the error. Here is the code of the method:\r\n\r\n    public String weidenFirstName() {\r\n        ArrayList&lt;String&gt; firstNames = new ArrayList&lt;String&gt;();\r\n        firstNames.add(&quot;Ailfir&quot;);\r\n        //long list of more ArrayList elements\r\n        firstNames.add(&quot;Yann&quot;);\r\n\r\n        Random firstNamesRandom = new Random();\r\n        int r = firstNamesRandom.nextInt(firstNames.size());\r\n        String generatedFirstName = firstNames.get(r);\r\n\r\n        return generatedFirstName;\r\n    }\r\n\r\nAnd here is the constructor that is supposed to execute the method and then save the generatedFirstName as another variable so it does not get deleted when the code is run for another object. \r\n\r\n    public NPC() {\r\n        weidenFirstName();\r\n        String FirstName = generatedFirstName;\r\n    }\r\n\r\nI get the error: `java: cannot find symbol` in the line where the `firstName` String is set. And Inteliji also marks that variable as the source of the error. \r\n\r\nThe solution was simple. The return value of the method does not get stored in a variable. Thus the program cannot utilize it. \r\nTo fix this I needed to do either this:\r\n```\r\n public NPC() {\r\n        String FirstName = weidenFirstName();;\r\n    }\r\n```\r\nor this:\r\n```\r\n public NPC() {\r\n        generatedFirstName = weidenFirstName();\r\n        String FirstName = generatedFirstName;\r\n    }\r\n```\r\nThe return value of a method IS a value. The method weidenFirstName() IS a String. Also setting generatedFirstName in the method equal to something and then let the Method return void would have worked. ","title":"Java: &quot;cannot find symbol&quot; of a return value","body":"<p>I set up a variable that I want returned, but it does not work.\nThe goal of this method is to create a random name generator which can be expanded as I see fit.\nBut it does not return the <code>generatedFirstName</code> String. I looked through my notes over and over, but I can't find the error. Here is the code of the method:</p>\n<pre><code>public String weidenFirstName() {\n    ArrayList&lt;String&gt; firstNames = new ArrayList&lt;String&gt;();\n    firstNames.add(&quot;Ailfir&quot;);\n    //long list of more ArrayList elements\n    firstNames.add(&quot;Yann&quot;);\n\n    Random firstNamesRandom = new Random();\n    int r = firstNamesRandom.nextInt(firstNames.size());\n    String generatedFirstName = firstNames.get(r);\n\n    return generatedFirstName;\n}\n</code></pre>\n<p>And here is the constructor that is supposed to execute the method and then save the generatedFirstName as another variable so it does not get deleted when the code is run for another object.</p>\n<pre><code>public NPC() {\n    weidenFirstName();\n    String FirstName = generatedFirstName;\n}\n</code></pre>\n<p>I get the error: <code>java: cannot find symbol</code> in the line where the <code>firstName</code> String is set. And Inteliji also marks that variable as the source of the error.</p>\n<p>The solution was simple. The return value of the method does not get stored in a variable. Thus the program cannot utilize it.\nTo fix this I needed to do either this:</p>\n<pre><code> public NPC() {\n        String FirstName = weidenFirstName();;\n    }\n</code></pre>\n<p>or this:</p>\n<pre><code> public NPC() {\n        generatedFirstName = weidenFirstName();\n        String FirstName = generatedFirstName;\n    }\n</code></pre>\n<p>The return value of a method IS a value. The method weidenFirstName() IS a String. Also setting generatedFirstName in the method equal to something and then let the Method return void would have worked.</p>\n"},{"tags":["java","pentaho"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1632915438,"post_id":69375552,"comment_id":122620853,"body_markdown":"I&#39;d guess it&#39;s some kind of block or endless loop - maybe try to get a thread dump for the application and analyze that (what is it doing) or use tools like jconsole or visualvm to monitor the JVM.","body":"I&#39;d guess it&#39;s some kind of block or endless loop - maybe try to get a thread dump for the application and analyze that (what is it doing) or use tools like jconsole or visualvm to monitor the JVM."},{"owner":{"account_id":5654200,"reputation":195,"user_id":4473866,"accept_rate":100,"display_name":"Yuriy T."},"score":0,"creation_date":1632980556,"post_id":69375552,"comment_id":122640320,"body_markdown":"tried to use visualvm , but haven&#39;t found anything suspicious...","body":"tried to use visualvm , but haven&#39;t found anything suspicious..."}],"answers":[{"tags":[],"owner":{"account_id":5654200,"reputation":195,"user_id":4473866,"accept_rate":100,"display_name":"Yuriy T."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633597027,"creation_date":1633597027,"answer_id":69478257,"question_id":69375552,"body_markdown":"So, after investigation, found a solution - problem wasn&#39;t in java or pentaho as such, issue was in Microsoft security update.\r\nBasically this solves issue: \r\nhttps://www.bleepingcomputer.com/news/microsoft/windows-10-emergency-update-resolves-kb5005565-app-freezes-crashes/\r\n\r\n","title":"Pentaho DI - Java Platform SE binary is not responding","body":"<p>So, after investigation, found a solution - problem wasn't in java or pentaho as such, issue was in Microsoft security update.\nBasically this solves issue:\n<a href=\"https://www.bleepingcomputer.com/news/microsoft/windows-10-emergency-update-resolves-kb5005565-app-freezes-crashes/\" rel=\"nofollow noreferrer\">https://www.bleepingcomputer.com/news/microsoft/windows-10-emergency-update-resolves-kb5005565-app-freezes-crashes/</a></p>\n"}],"owner":{"account_id":5654200,"reputation":195,"user_id":4473866,"accept_rate":100,"display_name":"Yuriy T."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69478257,"answer_count":1,"score":0,"last_activity_date":1633597027,"creation_date":1632915118,"question_id":69375552,"body_markdown":"Hoping if anyone could help with such issue.\r\n\r\nI wanted to use pentaho, but that pentaho is not opening (spoon.bat) - it&#39;s freezing after main UI is loaded - and I cannot do anything - connect to repo, tool just freezes and then crashes with mentioned in header error. \r\nintersting, that this happened also at work server (through remote desktop) - so in both machines - my private (version 8.3) and work server (version 9.0) stopped working. \r\nInteresting, that on work server version 7.0 continues to work as usual. Problem starts when using version 7.1+, then this error happens. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nI had all necessary system variables (well previously pentaho was working without any issues).\r\n\r\nWhat I did currently: \r\n1)I tried to install openJDK, AdoptDJK, oracle JDK 8 (and switching JAVA_HOME) , but none of these helped - same &quot;stopped working&quot;.\r\n2)\r\nI tried to reinstall whole java (uninstalled,rebooted etc.) - nothing helped\r\n3) played with variables - was reading on other forums to add other system variables - used different, _JAVA_OPTIONS etc. - nothing helped\r\n4) downloaded different versions of pentaho - same freeze. \r\n5) checked graphic card updates - everything is set as latest\r\n6) was changing different parameters in spoon.bat (like memory etc.), no result.\r\n7) cleaned Java cache\r\n8) cleaned pentaho cache...\r\n\r\nI have a feeling that there is or some app blocking Pentaho or some corporate driver updates happened that for some reason affected usage of Java Platform... \r\n\r\nWhat I&#39;m missing? What is different between version 7.0 and 7.1/8.3/9.0/9.2?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WGNRQ.png","title":"Pentaho DI - Java Platform SE binary is not responding","body":"<p>Hoping if anyone could help with such issue.</p>\n<p>I wanted to use pentaho, but that pentaho is not opening (spoon.bat) - it's freezing after main UI is loaded - and I cannot do anything - connect to repo, tool just freezes and then crashes with mentioned in header error.\nintersting, that this happened also at work server (through remote desktop) - so in both machines - my private (version 8.3) and work server (version 9.0) stopped working.\nInteresting, that on work server version 7.0 continues to work as usual. Problem starts when using version 7.1+, then this error happens.</p>\n<p><a href=\"https://i.stack.imgur.com/WGNRQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WGNRQ.png\" alt=\"enter image description here\" /></a></p>\n<p>I had all necessary system variables (well previously pentaho was working without any issues).</p>\n<p>What I did currently:\n1)I tried to install openJDK, AdoptDJK, oracle JDK 8 (and switching JAVA_HOME) , but none of these helped - same &quot;stopped working&quot;.\n2)\nI tried to reinstall whole java (uninstalled,rebooted etc.) - nothing helped\n3) played with variables - was reading on other forums to add other system variables - used different, _JAVA_OPTIONS etc. - nothing helped\n4) downloaded different versions of pentaho - same freeze.\n5) checked graphic card updates - everything is set as latest\n6) was changing different parameters in spoon.bat (like memory etc.), no result.\n7) cleaned Java cache\n8) cleaned pentaho cache...</p>\n<p>I have a feeling that there is or some app blocking Pentaho or some corporate driver updates happened that for some reason affected usage of Java Platform...</p>\n<p>What I'm missing? What is different between version 7.0 and 7.1/8.3/9.0/9.2?</p>\n"},{"tags":["java","spring-boot","elasticsearch"],"comments":[{"owner":{"account_id":14326900,"reputation":15577,"user_id":10348758,"display_name":"ESCoder"},"score":0,"creation_date":1633596072,"post_id":69477995,"comment_id":122803302,"body_markdown":"based on the above sample index data, what is your expected search result ?","body":"based on the above sample index data, what is your expected search result ?"},{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":0,"creation_date":1633596236,"post_id":69477995,"comment_id":122803371,"body_markdown":"I have correct a line in the java code portion.  I want to exclude documents which have `noteType=&#39;system-generated&#39;` values","body":"I have correct a line in the java code portion.  I want to exclude documents which have <code>noteType=&#39;system-generated&#39;</code> values"},{"owner":{"account_id":14326900,"reputation":15577,"user_id":10348758,"display_name":"ESCoder"},"score":0,"creation_date":1633596273,"post_id":69477995,"comment_id":122803381,"body_markdown":"that means your expected search result is the second document ?","body":"that means your expected search result is the second document ?"},{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":0,"creation_date":1633596383,"post_id":69477995,"comment_id":122803436,"body_markdown":"yes, I want to fetch only the second doc","body":"yes, I want to fetch only the second doc"},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":1,"creation_date":1633596454,"post_id":69477995,"comment_id":122803471,"body_markdown":"Note that none of the two documents have `projectId: 96` and none have the `projectId` field at all","body":"Note that none of the two documents have <code>projectId: 96</code> and none have the <code>projectId</code> field at all"},{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":0,"creation_date":1633596954,"post_id":69477995,"comment_id":122803701,"body_markdown":"@Val, corrected, thanks for that","body":"@Val, corrected, thanks for that"}],"answers":[{"tags":[],"owner":{"account_id":14326900,"reputation":15577,"user_id":10348758,"display_name":"ESCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633596508,"creation_date":1633596508,"answer_id":69478129,"question_id":69477995,"body_markdown":"If only the `must_not` part of the query is used (excluding the `must` part)\r\n\r\n\r\n    {\r\n      &quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n          &quot;must_not&quot;: [\r\n            {\r\n              &quot;term&quot;: {\r\n                &quot;noteType.keyword&quot;: {\r\n                  &quot;value&quot;: &quot;SYSTEM_GENERATED&quot;,\r\n                  &quot;boost&quot;: 1.0\r\n                }\r\n              }\r\n            }\r\n          ],\r\n          &quot;adjust_pure_negative&quot;: true,\r\n          &quot;boost&quot;: 1.0\r\n        }\r\n      }\r\n    }\r\n\r\nThe search result is similar to what you expect to get\r\n\r\n    &quot;hits&quot;: [\r\n          {\r\n            &quot;_index&quot;: &quot;69477995&quot;,\r\n            &quot;_type&quot;: &quot;_doc&quot;,\r\n            &quot;_id&quot;: &quot;2&quot;,\r\n            &quot;_score&quot;: 0.0,\r\n            &quot;_source&quot;: {\r\n              &quot;createTime&quot;: &quot;2021-09-26T15:54:08.373&quot;,\r\n              &quot;createTimeInMs&quot;: 1632650048373,\r\n              &quot;createdBy&quot;: &quot;test&quot;,\r\n              &quot;editTime&quot;: &quot;2021-09-26T15:54:08.373&quot;,\r\n              &quot;editTimeInMs&quot;: 1632650048373,\r\n              &quot;editedBy&quot;: &quot;test&quot;,\r\n              &quot;versionId&quot;: 1,\r\n              &quot;id&quot;: &quot;18&quot;,\r\n              &quot;note&quot;: &quot;note-1, simple note &quot;,\r\n              &quot;organizationId&quot;: &quot;28&quot;,\r\n              &quot;accessLevel&quot;: &quot;PUBLIC&quot;,\r\n              &quot;status&quot;: &quot;ACTIVE&quot;,\r\n              &quot;taskId&quot;: &quot;5&quot;,\r\n              &quot;userId&quot;: 129\r\n            }\r\n          }\r\n        ]","title":"must_not is not giving expected result in Elasticsearch for empty field","body":"<p>If only the <code>must_not</code> part of the query is used (excluding the <code>must</code> part)</p>\n<pre><code>{\n  &quot;query&quot;: {\n    &quot;bool&quot;: {\n      &quot;must_not&quot;: [\n        {\n          &quot;term&quot;: {\n            &quot;noteType.keyword&quot;: {\n              &quot;value&quot;: &quot;SYSTEM_GENERATED&quot;,\n              &quot;boost&quot;: 1.0\n            }\n          }\n        }\n      ],\n      &quot;adjust_pure_negative&quot;: true,\n      &quot;boost&quot;: 1.0\n    }\n  }\n}\n</code></pre>\n<p>The search result is similar to what you expect to get</p>\n<pre><code>&quot;hits&quot;: [\n      {\n        &quot;_index&quot;: &quot;69477995&quot;,\n        &quot;_type&quot;: &quot;_doc&quot;,\n        &quot;_id&quot;: &quot;2&quot;,\n        &quot;_score&quot;: 0.0,\n        &quot;_source&quot;: {\n          &quot;createTime&quot;: &quot;2021-09-26T15:54:08.373&quot;,\n          &quot;createTimeInMs&quot;: 1632650048373,\n          &quot;createdBy&quot;: &quot;test&quot;,\n          &quot;editTime&quot;: &quot;2021-09-26T15:54:08.373&quot;,\n          &quot;editTimeInMs&quot;: 1632650048373,\n          &quot;editedBy&quot;: &quot;test&quot;,\n          &quot;versionId&quot;: 1,\n          &quot;id&quot;: &quot;18&quot;,\n          &quot;note&quot;: &quot;note-1, simple note &quot;,\n          &quot;organizationId&quot;: &quot;28&quot;,\n          &quot;accessLevel&quot;: &quot;PUBLIC&quot;,\n          &quot;status&quot;: &quot;ACTIVE&quot;,\n          &quot;taskId&quot;: &quot;5&quot;,\n          &quot;userId&quot;: 129\n        }\n      }\n    ]\n</code></pre>\n"}],"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633596761,"creation_date":1633595933,"question_id":69477995,"body_markdown":"This is my sample es index document:\r\n\r\n    &quot;hits&quot; : [\r\n       {\r\n        &quot;_index&quot; : &quot;project_note&quot;,\r\n        &quot;_type&quot; : &quot;project_note&quot;,\r\n        &quot;_id&quot; : &quot;19&quot;,\r\n        &quot;_score&quot; : 1.0,\r\n        &quot;_source&quot; : {\r\n          &quot;createTime&quot; : &quot;2021-10-04T13:43:55.330&quot;,\r\n          &quot;createTimeInMs&quot; : 1633333435330,\r\n          &quot;createdBy&quot; : &quot;test&quot;,\r\n          &quot;editTime&quot; : &quot;2021-10-04T13:43:55.330&quot;,\r\n          &quot;editTimeInMs&quot; : 1633333435330,\r\n          &quot;editedBy&quot; : &quot;test&quot;,\r\n          &quot;versionId&quot; : 1,\r\n          &quot;id&quot; : &quot;19&quot;,\r\n          &quot;organizationId&quot; : &quot;28&quot;,\r\n          &quot;accessLevel&quot; : &quot;PUBLIC&quot;,\r\n          &quot;status&quot; : &quot;ACTIVE&quot;,\r\n          &quot;projectId&quot; : &quot;95&quot;,\r\n          &quot;userId&quot; : 129,\r\n          &quot;noteType&quot; : &quot;SYSTEM_GENERATED&quot;,\r\n          &quot;projectDemographicLogId&quot; : &quot;1&quot;\r\n        },\r\n       {\r\n        &quot;_index&quot; : &quot;project_note&quot;,\r\n        &quot;_type&quot; : &quot;project_note&quot;,\r\n        &quot;_id&quot; : &quot;19&quot;,\r\n        &quot;_score&quot; : 1.0,\r\n        &quot;_source&quot; : {\r\n          &quot;createTime&quot; : &quot;2021-10-04T13:43:55.330&quot;,\r\n          &quot;createTimeInMs&quot; : 1633333435330,\r\n          &quot;createdBy&quot; : &quot;test&quot;,\r\n          &quot;editTime&quot; : &quot;2021-10-04T13:43:55.330&quot;,\r\n          &quot;editTimeInMs&quot; : 1633333435330,\r\n          &quot;editedBy&quot; : &quot;test&quot;,\r\n          &quot;versionId&quot; : 1,\r\n          &quot;id&quot; : &quot;19&quot;,\r\n          &quot;organizationId&quot; : &quot;28&quot;,\r\n          &quot;accessLevel&quot; : &quot;PUBLIC&quot;,\r\n          &quot;status&quot; : &quot;ACTIVE&quot;,\r\n          &quot;projectId&quot; : &quot;95&quot;,\r\n          &quot;userId&quot; : 129\r\n         \r\n        }\r\n    ]\r\n\r\nIn the first doc, it has `noteType` but in the second, I don&#39;t have that field stored in db.\r\nI want to exclude  the documents where noteType==null or noteType is absent.\r\nBut, I am getting only the docs which have `noteType=&quot;SYSTEM_GENERATED&quot;`\r\n\r\nMy approach:\r\n\r\n    {\r\n      &quot;query&quot;:\r\n      {\r\n      &quot;bool&quot; : {\r\n        &quot;must&quot; : [\r\n          {\r\n            &quot;term&quot; : {\r\n              &quot;projectId&quot; : {\r\n                &quot;value&quot; : &quot;95&quot;,\r\n                &quot;boost&quot; : 1.0\r\n              }\r\n            }\r\n          },\r\n          {\r\n            &quot;range&quot; : {\r\n              &quot;createTimeInMs&quot; : {\r\n                &quot;from&quot; : null,\r\n                &quot;to&quot; : 1633594455000,\r\n                &quot;include_lower&quot; : true,\r\n                &quot;include_upper&quot; : true,\r\n                &quot;boost&quot; : 1.0\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        &quot;must_not&quot; : [\r\n          {\r\n            &quot;term&quot; : {\r\n              &quot;noteType&quot; : {\r\n                &quot;value&quot; : &quot;SYSTEM_GENERATED&quot;,\r\n                &quot;boost&quot; : 1.0\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        &quot;adjust_pure_negative&quot; : true,\r\n        &quot;boost&quot; : 1.0\r\n      }\r\n    }\r\n      \r\n    }\r\n\r\nEquivalent java code:\r\n\r\n      BoolQueryBuilder queryBuilder= QueryBuilders.boolQuery();\r\n                   queryBuilder.must(QueryBuilders.termQuery(&quot;projectId&quot;, requestInfo.getProjectId()));\r\n                   queryBuilder.must(rangeQuery(&quot;createTimeInMs&quot;).lte(requestInfo.getCreateTimeInMs()));\r\n    \r\n                   if(!requestInfo.isIncludeLog()) {\r\n                     \r\n                       queryBuilder.mustNot(QueryBuilders.termQuery(&quot;noteType&quot;, Defs.SYSTEM_NOTE_TYPE));\r\n                     \r\n                   }\r\n\r\n","title":"must_not is not giving expected result in Elasticsearch for empty field","body":"<p>This is my sample es index document:</p>\n<pre><code>&quot;hits&quot; : [\n   {\n    &quot;_index&quot; : &quot;project_note&quot;,\n    &quot;_type&quot; : &quot;project_note&quot;,\n    &quot;_id&quot; : &quot;19&quot;,\n    &quot;_score&quot; : 1.0,\n    &quot;_source&quot; : {\n      &quot;createTime&quot; : &quot;2021-10-04T13:43:55.330&quot;,\n      &quot;createTimeInMs&quot; : 1633333435330,\n      &quot;createdBy&quot; : &quot;test&quot;,\n      &quot;editTime&quot; : &quot;2021-10-04T13:43:55.330&quot;,\n      &quot;editTimeInMs&quot; : 1633333435330,\n      &quot;editedBy&quot; : &quot;test&quot;,\n      &quot;versionId&quot; : 1,\n      &quot;id&quot; : &quot;19&quot;,\n      &quot;organizationId&quot; : &quot;28&quot;,\n      &quot;accessLevel&quot; : &quot;PUBLIC&quot;,\n      &quot;status&quot; : &quot;ACTIVE&quot;,\n      &quot;projectId&quot; : &quot;95&quot;,\n      &quot;userId&quot; : 129,\n      &quot;noteType&quot; : &quot;SYSTEM_GENERATED&quot;,\n      &quot;projectDemographicLogId&quot; : &quot;1&quot;\n    },\n   {\n    &quot;_index&quot; : &quot;project_note&quot;,\n    &quot;_type&quot; : &quot;project_note&quot;,\n    &quot;_id&quot; : &quot;19&quot;,\n    &quot;_score&quot; : 1.0,\n    &quot;_source&quot; : {\n      &quot;createTime&quot; : &quot;2021-10-04T13:43:55.330&quot;,\n      &quot;createTimeInMs&quot; : 1633333435330,\n      &quot;createdBy&quot; : &quot;test&quot;,\n      &quot;editTime&quot; : &quot;2021-10-04T13:43:55.330&quot;,\n      &quot;editTimeInMs&quot; : 1633333435330,\n      &quot;editedBy&quot; : &quot;test&quot;,\n      &quot;versionId&quot; : 1,\n      &quot;id&quot; : &quot;19&quot;,\n      &quot;organizationId&quot; : &quot;28&quot;,\n      &quot;accessLevel&quot; : &quot;PUBLIC&quot;,\n      &quot;status&quot; : &quot;ACTIVE&quot;,\n      &quot;projectId&quot; : &quot;95&quot;,\n      &quot;userId&quot; : 129\n     \n    }\n]\n</code></pre>\n<p>In the first doc, it has <code>noteType</code> but in the second, I don't have that field stored in db.\nI want to exclude  the documents where noteType==null or noteType is absent.\nBut, I am getting only the docs which have <code>noteType=&quot;SYSTEM_GENERATED&quot;</code></p>\n<p>My approach:</p>\n<pre><code>{\n  &quot;query&quot;:\n  {\n  &quot;bool&quot; : {\n    &quot;must&quot; : [\n      {\n        &quot;term&quot; : {\n          &quot;projectId&quot; : {\n            &quot;value&quot; : &quot;95&quot;,\n            &quot;boost&quot; : 1.0\n          }\n        }\n      },\n      {\n        &quot;range&quot; : {\n          &quot;createTimeInMs&quot; : {\n            &quot;from&quot; : null,\n            &quot;to&quot; : 1633594455000,\n            &quot;include_lower&quot; : true,\n            &quot;include_upper&quot; : true,\n            &quot;boost&quot; : 1.0\n          }\n        }\n      }\n    ],\n    &quot;must_not&quot; : [\n      {\n        &quot;term&quot; : {\n          &quot;noteType&quot; : {\n            &quot;value&quot; : &quot;SYSTEM_GENERATED&quot;,\n            &quot;boost&quot; : 1.0\n          }\n        }\n      }\n    ],\n    &quot;adjust_pure_negative&quot; : true,\n    &quot;boost&quot; : 1.0\n  }\n}\n  \n}\n</code></pre>\n<p>Equivalent java code:</p>\n<pre><code>  BoolQueryBuilder queryBuilder= QueryBuilders.boolQuery();\n               queryBuilder.must(QueryBuilders.termQuery(&quot;projectId&quot;, requestInfo.getProjectId()));\n               queryBuilder.must(rangeQuery(&quot;createTimeInMs&quot;).lte(requestInfo.getCreateTimeInMs()));\n\n               if(!requestInfo.isIncludeLog()) {\n                 \n                   queryBuilder.mustNot(QueryBuilders.termQuery(&quot;noteType&quot;, Defs.SYSTEM_NOTE_TYPE));\n                 \n               }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8029,"page":1963,"page_size":100}
