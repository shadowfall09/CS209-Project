{"items":[{"tags":["java","rhapsody"],"comments":[{"owner":{"account_id":3823236,"reputation":141,"user_id":3170782,"accept_rate":56,"display_name":"bjenkins001"},"score":0,"creation_date":1689338852,"post_id":76680267,"comment_id":135203151,"body_markdown":"Appropriate package statement??","body":"Appropriate package statement??"}],"owner":{"account_id":28987435,"reputation":1,"user_id":22203991,"display_name":"PHo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689257011,"creation_date":1689257011,"question_id":76680267,"body_markdown":"I am fairly new to writing Java Plugins for Rhapsody and I have a problem implementing my Plugins into Rhapsody. I tested implementing plugins from former colleagues which worked so I tried building my code and .hep up like they did which always ended in the same exception. I ended up trying to just write a base program which simply puts out that it initialized when i start rhapsody. \r\n\r\n\r\n    package com.abcd.rhapsody.plugins;\r\n\r\n    import com.telelogic.rhapsody.core.IRPApplication;\r\n    import com.telelogic.rhapsody.core.IRPProject;\r\n    import com.telelogic.rhapsody.core.RPUserPlugin;\r\n\r\n    public class TestPlugin extends RPUserPlugin {\r\n    \tprotected IRPApplication m_rhpApplication = null;\r\n\tprotected IRPProject m_rhpProject = null;\r\n\t\r\n\t@Override\r\n\tpublic void RhpPluginInit(IRPApplication rpyApplication) {\r\n\t\tm_rhpApplication = rpyApplication;\r\n\t\tm_rhpProject = m_rhpApplication.activeProject();\r\n\t\tm_rhpApplication.writeToOutputWindow(&quot;Log&quot;, &quot;Testplugin fully loaded. \\n&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void RhpPluginInvokeItem() {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void OnMenuItemSelect(String menuItem) {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void OnTrigger(String trigger) {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean RhpPluginCleanup() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void RhpPluginFinalCleanup() {\r\n\t}\r\n\r\n    }\r\n\r\n\r\nI try implementing it with the following .hep:\r\n\r\n\r\n    [Helpers]\r\n    numberOfElements=2\r\n\r\n    name1=TestPlugin\r\n    JavaMainClass1=com.abcd.rhapsody.plugins.TestPlugin\r\n    JavaClassPath1=Helper\\TestPlugin6.jar\r\n    isPlugin1=1\r\n    isVisible1=1\r\n\r\n    name2=Test\\PluginTest\r\n    isPluginCommand2=1\r\n    command2=TestPlugin\r\n    applicableTo2=Project,Package,Basic,Intermediate,Application\r\n    isVisible2=1\r\n\r\n\r\nI tried everything i could find so far with changes in the .hep, jre versions and so on. \r\n\r\nI always end up with the following Message in the log:\r\n\r\n    PLUGIN MESSAGE: Exception while loading Plugin com.abcd.rhapsody.plugins.TestPlugin\r\n    java.lang.ClassNotFoundException: com.abcd.rhapsody.plugins.TestPlugin\r\n\r\n\tat java.lang.Class.forNameImpl(Native Method)\r\n\r\n\tat java.lang.Class.forName(Class.java:407)\r\n\r\n\tat com.telelogic.rhapsody.core.JavaPluginsManager.loadPlugin(Unknown Source)\r\n\r\n\r\n     2  plugin classpaths: \r\n    Helper\\TestPlugin6.jar\r\n    Helper\\TestPlugin6.jar\r\n\r\n\r\nI dont really know why the log shows 2 plugin classpaths since for my understanding I only set one classpath even though the 2 classpaths are the same path.\r\n\r\nI&#39;m open to try whatever solution could work so thanks in advance for any advice.","title":"Loading Plugin into Rhapsody ends in ClassNotFoundException","body":"<p>I am fairly new to writing Java Plugins for Rhapsody and I have a problem implementing my Plugins into Rhapsody. I tested implementing plugins from former colleagues which worked so I tried building my code and .hep up like they did which always ended in the same exception. I ended up trying to just write a base program which simply puts out that it initialized when i start rhapsody.</p>\n<pre><code>package com.abcd.rhapsody.plugins;\n\nimport com.telelogic.rhapsody.core.IRPApplication;\nimport com.telelogic.rhapsody.core.IRPProject;\nimport com.telelogic.rhapsody.core.RPUserPlugin;\n\npublic class TestPlugin extends RPUserPlugin {\n    protected IRPApplication m_rhpApplication = null;\nprotected IRPProject m_rhpProject = null;\n\n@Override\npublic void RhpPluginInit(IRPApplication rpyApplication) {\n    m_rhpApplication = rpyApplication;\n    m_rhpProject = m_rhpApplication.activeProject();\n    m_rhpApplication.writeToOutputWindow(&quot;Log&quot;, &quot;Testplugin fully loaded. \\n&quot;);\n}\n\n@Override\npublic void RhpPluginInvokeItem() {\n}\n\n@Override\npublic void OnMenuItemSelect(String menuItem) {\n}\n\n@Override\npublic void OnTrigger(String trigger) {\n}\n\n@Override\npublic boolean RhpPluginCleanup() {\n    return true;\n}\n\n@Override\npublic void RhpPluginFinalCleanup() {\n}\n\n}\n</code></pre>\n<p>I try implementing it with the following .hep:</p>\n<pre><code>[Helpers]\nnumberOfElements=2\n\nname1=TestPlugin\nJavaMainClass1=com.abcd.rhapsody.plugins.TestPlugin\nJavaClassPath1=Helper\\TestPlugin6.jar\nisPlugin1=1\nisVisible1=1\n\nname2=Test\\PluginTest\nisPluginCommand2=1\ncommand2=TestPlugin\napplicableTo2=Project,Package,Basic,Intermediate,Application\nisVisible2=1\n</code></pre>\n<p>I tried everything i could find so far with changes in the .hep, jre versions and so on.</p>\n<p>I always end up with the following Message in the log:</p>\n<pre><code>PLUGIN MESSAGE: Exception while loading Plugin com.abcd.rhapsody.plugins.TestPlugin\njava.lang.ClassNotFoundException: com.abcd.rhapsody.plugins.TestPlugin\n\nat java.lang.Class.forNameImpl(Native Method)\n\nat java.lang.Class.forName(Class.java:407)\n\nat com.telelogic.rhapsody.core.JavaPluginsManager.loadPlugin(Unknown Source)\n\n\n 2  plugin classpaths: \nHelper\\TestPlugin6.jar\nHelper\\TestPlugin6.jar\n</code></pre>\n<p>I dont really know why the log shows 2 plugin classpaths since for my understanding I only set one classpath even though the 2 classpaths are the same path.</p>\n<p>I'm open to try whatever solution could work so thanks in advance for any advice.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":24528098,"reputation":26,"user_id":18440308,"display_name":"Hamza Brinsi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689256851,"creation_date":1689256586,"answer_id":76680203,"question_id":76680173,"body_markdown":"   ```````` public class SecondAPICallService {\r\n\r\n    @Async\r\n    public CompletableFuture&lt;String&gt; makeSecondApiCall(String firstAPICallId) {\r\n        // Make the second API call\r\n        CompletableFuture&lt;String&gt; future = new CompletableFuture&lt;&gt;();\r\n        // Perform the second API call asynchronously\r\n        // Once you obtain the second API call ID, complete the CompletableFuture\r\n        // with the second API call ID value\r\n        // For example:\r\n        String secondId = // Obtain the second API call ID\r\n        future.complete(secondId);\r\n        return future;\r\n    }\r\n}\r\n\r\n\r\n\r\npublic class FirstAPICallService {\r\n\r\n    @Autowired\r\n    SecondAPICallService secondAPICallService;\r\n\r\n    @Autowired\r\n    DatabaseService dbService;  \r\n\r\n    public Response makeApiCall(String firstAPICallId) {\r\n        Response response = webClient.post(..);\r\n        String id = response.getId();\r\n        \r\n        // Perform the second API call asynchronously\r\n        CompletableFuture&lt;String&gt; secondAPICallId = secondAPICallService.makeSecondApiCall(id);\r\n        \r\n        // Register a callback function to be executed when the second API call completes\r\n        secondAPICallId.thenAcceptAsync(secondId -&gt; {\r\n            // Save the IDs to the database\r\n            dbService.save(id, secondId);\r\n        });\r\n        \r\n        return response;\r\n    }\r\n}\r\n`````````","title":"Make an Asynch call that needs to store ids to database without blocking","body":"<pre><code>\n @Async\n public CompletableFuture&lt;String&gt; makeSecondApiCall(String firstAPICallId) {\n     // Make the second API call\n     CompletableFuture&lt;String&gt; future = new CompletableFuture&lt;&gt;();\n     // Perform the second API call asynchronously\n     // Once you obtain the second API call ID, complete the CompletableFuture\n     // with the second API call ID value\n     // For example:\n     String secondId = // Obtain the second API call ID\n     future.complete(secondId);\n     return future;\n }\n}\n\n\n\npublic class FirstAPICallService {\n\n @Autowired\n SecondAPICallService secondAPICallService;\n\n @Autowired\n DatabaseService dbService;  \n\n public Response makeApiCall(String firstAPICallId) {\n     Response response = webClient.post(..);\n     String id = response.getId();\n     \n     // Perform the second API call asynchronously\n     CompletableFuture&lt;String&gt; secondAPICallId = secondAPICallService.makeSecondApiCall(id);\n     \n     // Register a callback function to be executed when the second API call completes\n     secondAPICallId.thenAcceptAsync(secondId -&gt; {\n         // Save the IDs to the database\n         dbService.save(id, secondId);\n     });\n     \n     return response;\n }\n}\n</code></pre>\n"}],"owner":{"account_id":28107709,"reputation":111,"user_id":21476047,"display_name":"user21476047"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76680203,"answer_count":1,"score":0,"last_activity_date":1689256851,"creation_date":1689256410,"question_id":76680173,"body_markdown":"I am using Spring `@Asynch`. I have a scenrio where I have to make two API calls. One API call opens a new thread via @Async since the caller doesn&#39;t care about this API call and only cares about the first API call. However, both these API calls return back ids that I want to store into the database. How will I go about accomplishing this? Since the storing of the database depends on both the ids it will block my intent of opening a new thread.\r\n\r\n    public class SecondAPICallService {\r\n\r\n\t    @Asynch\r\n\t    public CompletableFuture&lt;String&gt; makeSecondApiCall(String firstAPICallId) {\r\n\t\t   var secondAPICallId = webClient.post(firstAPICallId, ...);\r\n\t\t   return  CompletableFuture.completedFuture(secondAPICallId);\r\n\t    }\r\n    }\r\n\r\n    public class FirstAPICallService {\r\n\r\n\t    @Autowire\r\n\t    SecondAPICallService secondAPICallService;\r\n\t\r\n\t    @Autowire\r\n\t    DatabaseService dbService;\t\r\n\t\r\n\t    public Response makeApiCall(String firstAPICallId) {\r\n\t\t   Response response = webClient.post(..);\r\n\t\t   String id = response.getId();\r\n\t\t   CompletableFuture&lt;String&gt; secondAPICallId = secondAPICallService.makeSecondApiCall(id);\r\n\t\t   // This here blocks my thread with .get but not sure what to do since I need to store in db\r\n           String secondId = secondAPICallId.get();\r\n\t\t   dbService.save(id, secondId);\t\t\r\n\t\t   return response;\r\n\t   }\r\n    }\r\n\r\n---\r\n\r\n    @Configuration\r\n    @EnableAsync\r\n    public class AsyncConfiguration {\r\n    \r\n        @Bean(name = &quot;asyncExecutor&quot;)\r\n        public Executor asyncExecutor() {\r\n            ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n            executor.setCorePoolSize(3);\r\n            executor.setMaxPoolSize(3);\r\n            executor.setQueueCapacity(100);\r\n            executor.setThreadNamePrefix(&quot;AsynchThread-&quot;);\r\n            executor.initialize();\r\n            return executor;\r\n        }\r\n    }\r\n\r\n","title":"Make an Asynch call that needs to store ids to database without blocking","body":"<p>I am using Spring <code>@Asynch</code>. I have a scenrio where I have to make two API calls. One API call opens a new thread via @Async since the caller doesn't care about this API call and only cares about the first API call. However, both these API calls return back ids that I want to store into the database. How will I go about accomplishing this? Since the storing of the database depends on both the ids it will block my intent of opening a new thread.</p>\n<pre><code>public class SecondAPICallService {\n\n    @Asynch\n    public CompletableFuture&lt;String&gt; makeSecondApiCall(String firstAPICallId) {\n       var secondAPICallId = webClient.post(firstAPICallId, ...);\n       return  CompletableFuture.completedFuture(secondAPICallId);\n    }\n}\n\npublic class FirstAPICallService {\n\n    @Autowire\n    SecondAPICallService secondAPICallService;\n\n    @Autowire\n    DatabaseService dbService;  \n\n    public Response makeApiCall(String firstAPICallId) {\n       Response response = webClient.post(..);\n       String id = response.getId();\n       CompletableFuture&lt;String&gt; secondAPICallId = secondAPICallService.makeSecondApiCall(id);\n       // This here blocks my thread with .get but not sure what to do since I need to store in db\n       String secondId = secondAPICallId.get();\n       dbService.save(id, secondId);        \n       return response;\n   }\n}\n</code></pre>\n<hr />\n<pre><code>@Configuration\n@EnableAsync\npublic class AsyncConfiguration {\n\n    @Bean(name = &quot;asyncExecutor&quot;)\n    public Executor asyncExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(3);\n        executor.setMaxPoolSize(3);\n        executor.setQueueCapacity(100);\n        executor.setThreadNamePrefix(&quot;AsynchThread-&quot;);\n        executor.initialize();\n        return executor;\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","debezium"],"comments":[{"owner":{"account_id":101001,"reputation":119798,"user_id":271959,"display_name":"Frank Heikens"},"score":0,"creation_date":1689253122,"post_id":76679245,"comment_id":135189197,"body_markdown":"Could you share your configuration of PostgreSQL and Debezium? UPDATE is logged as UPDATE when using logical replication.","body":"Could you share your configuration of PostgreSQL and Debezium? UPDATE is logged as UPDATE when using logical replication."},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1689253710,"post_id":76679245,"comment_id":135189361,"body_markdown":"Great question, I think it happens due to HOT optimizations: https://www.postgresql.org/docs/current/storage-hot.html. Not sure exactly what&#39;s the fix there, but you may look at `tombstones delete` properties","body":"Great question, I think it happens due to HOT optimizations: <a href=\"https://www.postgresql.org/docs/current/storage-hot.html\" rel=\"nofollow noreferrer\">postgresql.org/docs/current/storage-hot.html</a>. Not sure exactly what&#39;s the fix there, but you may look at <code>tombstones delete</code> properties"},{"owner":{"account_id":101001,"reputation":119798,"user_id":271959,"display_name":"Frank Heikens"},"score":0,"creation_date":1689254267,"post_id":76679245,"comment_id":135189480,"body_markdown":"@yahorbarkouski Why would HOT change an UPDATE statement into an DELETE and INSERT? That would definitely hit the indexes while the purpose of HOT is to avoid any write on the indexes.","body":"@yahorbarkouski Why would HOT change an UPDATE statement into an DELETE and INSERT? That would definitely hit the indexes while the purpose of HOT is to avoid any write on the indexes."},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":1,"creation_date":1689255230,"post_id":76679245,"comment_id":135189761,"body_markdown":"My bad, I meant to say &quot;due to missing&quot;, not &quot;due to&quot;. My initial assumption is that if an update operation changes a column that is part of the index, it results in a delete operation for the old indexed value and an insert for the new one, but if it is appliable for hot, debezium may consider it as a single update instead. Please correct me if I&#39;m wrong","body":"My bad, I meant to say &quot;due to missing&quot;, not &quot;due to&quot;. My initial assumption is that if an update operation changes a column that is part of the index, it results in a delete operation for the old indexed value and an insert for the new one, but if it is appliable for hot, debezium may consider it as a single update instead. Please correct me if I&#39;m wrong"},{"owner":{"account_id":2554674,"reputation":596,"user_id":6585764,"accept_rate":40,"display_name":"Fran&#231;ois-David Lessard"},"score":0,"creation_date":1689258560,"post_id":76679245,"comment_id":135190688,"body_markdown":"Interesting note: I use Spring Boot JPA Repository with a native query for this .... and initially I did not understand why this update  query was always failing  IF I did not add the &quot;@Transactional annotation&quot;.  Without the &quot;@Transactional&quot; annotation it would  Spring Boot(or postgres) would give me the following error message &quot;Executing an update/delete query&quot;","body":"Interesting note: I use Spring Boot JPA Repository with a native query for this .... and initially I did not understand why this update  query was always failing  IF I did not add the &quot;@Transactional annotation&quot;.  Without the &quot;@Transactional&quot; annotation it would  Spring Boot(or postgres) would give me the following error message &quot;Executing an update/delete query&quot;"}],"owner":{"account_id":2554674,"reputation":596,"user_id":6585764,"accept_rate":40,"display_name":"Fran&#231;ois-David Lessard"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1689256744,"creation_date":1689250351,"question_id":76679245,"body_markdown":"I&#39;ve noticed that some SQL Update queries in Postgres are logged as 2 DML queries (a delete query and a second insert query). \r\n\r\n - Does anyone knows why Postgres is doing this (transforming an UPDATE to 2 DML statements DELETE+INSERT) ? \r\n - Is there a way to force Postgres (or Debezium) to log this as an update statement ?\r\n\r\nCould it be related to the fact that the query updates a field that is part of a foreign key and a constraint unique index ?\r\n\r\nRegards\r\n\r\n\r\n**More Info:**\r\n\r\nThe query is updating a table field that is part of a foreign key and another unique constraint\r\n\r\n\r\n**Query:**\r\n```\r\n  UDDATE Table1 \r\n  SET table2_id = :destinationTable2Id \r\n  WHERE \r\n  Table3_id IN (:table3Ids) AND \r\n  Table2_id = :sourceTable2Id AND \r\n  deleted_date is null\r\n```\r\n\r\n**Table:** \r\n\r\nTable1(id, table2_id, table3_id, deleted_date, ...) \r\n\r\n - with foreign keys constraints on table2_id, table3_id  \r\n - and unique constraints that include table2_id and table3_id and others\r\n\r\n**Relationships:**\r\n\r\nTable2 one-to-many --&gt; Table1 &lt;-- one-to-many Table3\r\n","title":"Debezium Postgres some Update sql DML queries are logged as Delete + Insert Queries","body":"<p>I've noticed that some SQL Update queries in Postgres are logged as 2 DML queries (a delete query and a second insert query).</p>\n<ul>\n<li>Does anyone knows why Postgres is doing this (transforming an UPDATE to 2 DML statements DELETE+INSERT) ?</li>\n<li>Is there a way to force Postgres (or Debezium) to log this as an update statement ?</li>\n</ul>\n<p>Could it be related to the fact that the query updates a field that is part of a foreign key and a constraint unique index ?</p>\n<p>Regards</p>\n<p><strong>More Info:</strong></p>\n<p>The query is updating a table field that is part of a foreign key and another unique constraint</p>\n<p><strong>Query:</strong></p>\n<pre><code>  UDDATE Table1 \n  SET table2_id = :destinationTable2Id \n  WHERE \n  Table3_id IN (:table3Ids) AND \n  Table2_id = :sourceTable2Id AND \n  deleted_date is null\n</code></pre>\n<p><strong>Table:</strong></p>\n<p>Table1(id, table2_id, table3_id, deleted_date, ...)</p>\n<ul>\n<li>with foreign keys constraints on table2_id, table3_id</li>\n<li>and unique constraints that include table2_id and table3_id and others</li>\n</ul>\n<p><strong>Relationships:</strong></p>\n<p>Table2 one-to-many --&gt; Table1 &lt;-- one-to-many Table3</p>\n"},{"tags":["java","json","spring-boot","post","json-schema-validator"],"answers":[{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1592794502,"creation_date":1592704746,"answer_id":62493650,"question_id":62493160,"body_markdown":"&gt; How to validate a JSON input by user during a POST request using a\r\n&gt; specified schema (we have to validate the JSON data each time it is\r\n&gt; received through the POST request)?\r\n\r\nAdd the annotation `@Valid`(from `javax.validation.valid`), like so:\r\n\r\n    public Animal createConfig(@Valid @RequestBody Animal ani) {\r\n\r\nOn your Animal **DTO**, add annotations on the field(s) that you want to be validated, example:\r\n\r\n    public class Animal implements Serializable {\r\n        ...\r\n    \r\n        @Size(max = 10)\r\n        @NotBlank\r\n        private String name;\r\n    \r\n        ... \r\n    }\r\n\r\nWhen Spring Boot finds an argument annotated with @Valid, it bootstraps Hibernate Validator(JSR 380 implementation) and ask it to perform bean validation.\r\n\r\nWhen the validation fails, Spring Boot throws a `MethodArgumentNotValidException`.&lt;br&gt;&lt;br&gt;\r\n\r\n&gt; Also, how to actually extract data entered by the user form a post\r\n&gt; request?\r\n\r\nUse the getter method on your Animal POJO. Example:\r\n\r\n    String name = ani.getName();\r\n\r\n&lt;br&gt;&lt;br&gt;\r\n**UPDATE:**\r\n\r\n&gt; Also, if I have a json like: {&quot;hype&quot;: {&quot;key1&quot;:&quot;value1&quot;} }… then how\r\n&gt; can I access value1 in hype.key1?\r\n\r\n    @RestController\r\n    public class Main {\r\n    \t@PostMapping(&quot;/all-configs&quot;)\r\n    \tpublic void createConfig(@Valid @RequestBody Animal ani) {\r\n    \t\tMap&lt;String, String&gt; hype = ani.getHype();\r\n    \t\tSystem.out.println(hype.get(&quot;key1&quot;));\r\n    \t}\r\n    }\r\n    \r\n    public class Animal implements Serializable {\r\n    \tprivate Map&lt;String, String&gt; hype;\r\n    \r\n    \tpublic Map&lt;String, String&gt; getHype() {\r\n    \t\treturn hype;\r\n    \t}\r\n    \r\n    \tpublic void setHype(Map&lt;String, String&gt; hype) {\r\n    \t\tthis.hype = hype;\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n&gt; value1","title":"JSON schema validation while executing POST request and reading POST data entered by user using spring boot rest api","body":"<blockquote>\n<p>How to validate a JSON input by user during a POST request using a\nspecified schema (we have to validate the JSON data each time it is\nreceived through the POST request)?</p>\n</blockquote>\n<p>Add the annotation <code>@Valid</code>(from <code>javax.validation.valid</code>), like so:</p>\n<pre><code>public Animal createConfig(@Valid @RequestBody Animal ani) {\n</code></pre>\n<p>On your Animal <strong>DTO</strong>, add annotations on the field(s) that you want to be validated, example:</p>\n<pre><code>public class Animal implements Serializable {\n    ...\n\n    @Size(max = 10)\n    @NotBlank\n    private String name;\n\n    ... \n}\n</code></pre>\n<p>When Spring Boot finds an argument annotated with @Valid, it bootstraps Hibernate Validator(JSR 380 implementation) and ask it to perform bean validation.</p>\n<p>When the validation fails, Spring Boot throws a <code>MethodArgumentNotValidException</code>.<br><br></p>\n<blockquote>\n<p>Also, how to actually extract data entered by the user form a post\nrequest?</p>\n</blockquote>\n<p>Use the getter method on your Animal POJO. Example:</p>\n<pre><code>String name = ani.getName();\n</code></pre>\n<p><br><br>\n<strong>UPDATE:</strong></p>\n<blockquote>\n<p>Also, if I have a json like: {&quot;hype&quot;: {&quot;key1&quot;:&quot;value1&quot;} }… then how\ncan I access value1 in hype.key1?</p>\n</blockquote>\n<pre><code>@RestController\npublic class Main {\n    @PostMapping(&quot;/all-configs&quot;)\n    public void createConfig(@Valid @RequestBody Animal ani) {\n        Map&lt;String, String&gt; hype = ani.getHype();\n        System.out.println(hype.get(&quot;key1&quot;));\n    }\n}\n\npublic class Animal implements Serializable {\n    private Map&lt;String, String&gt; hype;\n\n    public Map&lt;String, String&gt; getHype() {\n        return hype;\n    }\n\n    public void setHype(Map&lt;String, String&gt; hype) {\n        this.hype = hype;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>value1</p>\n</blockquote>\n"}],"owner":{"account_id":18887719,"reputation":5,"user_id":13778743,"display_name":"catCoder69"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2906,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62493650,"answer_count":1,"score":0,"last_activity_date":1689256505,"creation_date":1592698809,"question_id":62493160,"body_markdown":"How to validate (using a specified schema) a **JSON input** by the user during a **POST request using a specified schema** (we have to validate the JSON data each time it is received through the POST request)? Also, how to actually extract data entered by the user from a post request? I did the following to **extract data entered by the user**:\r\n\r\n    @PostMapping(&quot;/all-configs&quot;)\r\n    public Animal createConfig( @RequestBody Animal ani) {\r\n    try {\r\n        System.out.println(ani);//output: net.company.sprinboot.model.Animal@110e19d9\r\n        System.out.println(ani.toString());//output: net.company.sprinboot.model.Animal@110e19d9\r\n        String str = ani.toString();\r\n        System.out.println(str);//output: net.company.sprinboot.model.Animal@110e19d9\r\n    }\r\n\r\nHow can I actually read the JSON data entered by the user in the post request?","title":"JSON schema validation while executing POST request and reading POST data entered by user using spring boot rest api","body":"<p>How to validate (using a specified schema) a <strong>JSON input</strong> by the user during a <strong>POST request using a specified schema</strong> (we have to validate the JSON data each time it is received through the POST request)? Also, how to actually extract data entered by the user from a post request? I did the following to <strong>extract data entered by the user</strong>:</p>\n<pre><code>@PostMapping(&quot;/all-configs&quot;)\npublic Animal createConfig( @RequestBody Animal ani) {\ntry {\n    System.out.println(ani);//output: net.company.sprinboot.model.Animal@110e19d9\n    System.out.println(ani.toString());//output: net.company.sprinboot.model.Animal@110e19d9\n    String str = ani.toString();\n    System.out.println(str);//output: net.company.sprinboot.model.Animal@110e19d9\n}\n</code></pre>\n<p>How can I actually read the JSON data entered by the user in the post request?</p>\n"},{"tags":["java","url"],"comments":[{"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":1,"creation_date":1412334805,"post_id":26177749,"comment_id":41043565,"body_markdown":"Related: [A good library to do URL Query String manipulation in Java](http://stackoverflow.com/q/218608)","body":"Related: <a href=\"http://stackoverflow.com/q/218608\">A good library to do URL Query String manipulation in Java</a>"},{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":0,"creation_date":1412597479,"post_id":26177749,"comment_id":41113555,"body_markdown":"@Mridang Agarwalla Does my answer solve your problem? Let me know if you require any more information.","body":"@Mridang Agarwalla Does my answer solve your problem? Let me know if you require any more information."},{"owner":{"account_id":410277,"reputation":24594,"user_id":782034,"accept_rate":72,"display_name":"Nick Grealy"},"score":0,"creation_date":1492059336,"post_id":26177749,"comment_id":73829302,"body_markdown":"Possible duplicate of [What is the idiomatic way to compose a URL or URI in Java?](http://stackoverflow.com/questions/883136/what-is-the-idiomatic-way-to-compose-a-url-or-uri-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/883136/what-is-the-idiomatic-way-to-compose-a-url-or-uri-in-java\">What is the idiomatic way to compose a URL or URI in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"down_vote_count":9,"up_vote_count":80,"is_accepted":true,"score":71,"last_activity_date":1591127414,"creation_date":1412334913,"answer_id":26177982,"question_id":26177749,"body_markdown":"This can be done by using the [java.net.URI][1] class to construct a new instance using the parts from an existing one, this should ensure it conforms to URI syntax.\r\n\r\nThe query part will either be null or an existing string, so you can decide to append another parameter with &amp; or start a new query.\r\n\r\n    public class StackOverflow26177749 {\r\n    \r\n    \tpublic static URI appendUri(String uri, String appendQuery) throws URISyntaxException {\r\n    \t\tURI oldUri = new URI(uri);\r\n    \t\t\r\n    \t\tString newQuery = oldUri.getQuery();\r\n    \t\tif (newQuery == null) {\r\n    \t\t\tnewQuery = appendQuery;\r\n    \t\t} else {\r\n    \t\t\tnewQuery += &quot;&amp;&quot; + appendQuery;\t\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn new URI(oldUri.getScheme(), oldUri.getAuthority(),\r\n    \t\t\t\toldUri.getPath(), newQuery, oldUri.getFragment());\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tSystem.out.println(appendUri(&quot;http://example.com&quot;, &quot;name=John&quot;));\r\n    \t\tSystem.out.println(appendUri(&quot;http://example.com#fragment&quot;, &quot;name=John&quot;));\r\n    \t\tSystem.out.println(appendUri(&quot;http://example.com?email=john.doe@email.com&quot;, &quot;name=John&quot;));\r\n    \t\tSystem.out.println(appendUri(&quot;http://example.com?email=john.doe@email.com#fragment&quot;, &quot;name=John&quot;));\r\n    \t}\r\n    }\r\n\r\nShorter alternative\r\n\r\n    public static URI appendUri(String uri, String appendQuery) throws URISyntaxException {\r\n        URI oldUri = new URI(uri);\r\n        return new URI(oldUri.getScheme(), oldUri.getAuthority(), oldUri.getPath(),\r\n                oldUri.getQuery() == null ? appendQuery : oldUri.getQuery() + &quot;&amp;&quot; + appendQuery, oldUri.getFragment());\r\n    }\r\n\r\nOutput\r\n\r\n    http://example.com?name=John\r\n    http://example.com?name=John#fragment\r\n    http://example.com?email=john.doe@email.com&amp;name=John\r\n    http://example.com?email=john.doe@email.com&amp;name=John#fragment\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/net/URI.html","title":"How can I append a query parameter to an existing URL?","body":"<p>This can be done by using the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/net/URI.html\" rel=\"noreferrer\">java.net.URI</a> class to construct a new instance using the parts from an existing one, this should ensure it conforms to URI syntax.</p>\n\n<p>The query part will either be null or an existing string, so you can decide to append another parameter with &amp; or start a new query.</p>\n\n<pre><code>public class StackOverflow26177749 {\n\n    public static URI appendUri(String uri, String appendQuery) throws URISyntaxException {\n        URI oldUri = new URI(uri);\n\n        String newQuery = oldUri.getQuery();\n        if (newQuery == null) {\n            newQuery = appendQuery;\n        } else {\n            newQuery += \"&amp;\" + appendQuery;  \n        }\n\n        return new URI(oldUri.getScheme(), oldUri.getAuthority(),\n                oldUri.getPath(), newQuery, oldUri.getFragment());\n    }\n\n    public static void main(String[] args) throws Exception {\n        System.out.println(appendUri(\"http://example.com\", \"name=John\"));\n        System.out.println(appendUri(\"http://example.com#fragment\", \"name=John\"));\n        System.out.println(appendUri(\"http://example.com?email=john.doe@email.com\", \"name=John\"));\n        System.out.println(appendUri(\"http://example.com?email=john.doe@email.com#fragment\", \"name=John\"));\n    }\n}\n</code></pre>\n\n<p>Shorter alternative</p>\n\n<pre><code>public static URI appendUri(String uri, String appendQuery) throws URISyntaxException {\n    URI oldUri = new URI(uri);\n    return new URI(oldUri.getScheme(), oldUri.getAuthority(), oldUri.getPath(),\n            oldUri.getQuery() == null ? appendQuery : oldUri.getQuery() + \"&amp;\" + appendQuery, oldUri.getFragment());\n}\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>http://example.com?name=John\nhttp://example.com?name=John#fragment\nhttp://example.com?email=john.doe@email.com&amp;name=John\nhttp://example.com?email=john.doe@email.com&amp;name=John#fragment\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1886487,"reputation":396547,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1412334997,"creation_date":1412334997,"answer_id":26178003,"question_id":26177749,"body_markdown":"Use the [`URI`][1] class.\r\n\r\nCreate a new `URI` with your existing `String` to &quot;break it up&quot; to parts, and instantiate another one to assemble the modified url:\r\n\r\n    URI u = new URI(&quot;http://example.com?email=john@email.com&amp;name=John#fragment&quot;);\r\n    \r\n    // Modify the query: append your new parameter\r\n    StringBuilder sb = new StringBuilder(u.getQuery() == null ? &quot;&quot; : u.getQuery());\r\n    if (sb.length() &gt; 0)\r\n        sb.append(&#39;&amp;&#39;);\r\n    sb.append(URLEncoder.encode(&quot;paramName&quot;, &quot;UTF-8&quot;));\r\n    sb.append(&#39;=&#39;);\r\n    sb.append(URLEncoder.encode(&quot;paramValue&quot;, &quot;UTF-8&quot;));\r\n\r\n    // Build the new url with the modified query:\r\n    URI u2 = new URI(u.getScheme(), u.getAuthority(), u.getPath(),\r\n        sb.toString(), u.getFragment());\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/net/URI.html","title":"How can I append a query parameter to an existing URL?","body":"<p>Use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/net/URI.html\" rel=\"noreferrer\"><code>URI</code></a> class.</p>\n\n<p>Create a new <code>URI</code> with your existing <code>String</code> to \"break it up\" to parts, and instantiate another one to assemble the modified url:</p>\n\n<pre><code>URI u = new URI(\"http://example.com?email=john@email.com&amp;name=John#fragment\");\n\n// Modify the query: append your new parameter\nStringBuilder sb = new StringBuilder(u.getQuery() == null ? \"\" : u.getQuery());\nif (sb.length() &gt; 0)\n    sb.append('&amp;');\nsb.append(URLEncoder.encode(\"paramName\", \"UTF-8\"));\nsb.append('=');\nsb.append(URLEncoder.encode(\"paramValue\", \"UTF-8\"));\n\n// Build the new url with the modified query:\nURI u2 = new URI(u.getScheme(), u.getAuthority(), u.getPath(),\n    sb.toString(), u.getFragment());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":410277,"reputation":24594,"user_id":782034,"accept_rate":72,"display_name":"Nick Grealy"},"down_vote_count":0,"up_vote_count":238,"is_accepted":false,"score":238,"last_activity_date":1492059201,"creation_date":1462498007,"answer_id":37062788,"question_id":26177749,"body_markdown":"There are plenty of libraries that can help you with URI building (don&#39;t reinvent the wheel). Here are three to get you started:\r\n\r\n----------\r\n### [Java EE 7][1]\r\n\r\n&lt;!-- lang: lang-java --&gt;\r\n\r\n    import javax.ws.rs.core.UriBuilder;\r\n    ...\r\n    return UriBuilder.fromUri(url).queryParam(key, value).build();\r\n\r\n\r\n----------\r\n### [org.apache.httpcomponents:httpclient:4.5.2][2]\r\n\r\n&lt;!-- lang: lang-java --&gt;\r\n\r\n    import org.apache.http.client.utils.URIBuilder;\r\n    ...\r\n    return new URIBuilder(url).addParameter(key, value).build();\r\n\r\n\r\n----------\r\n\r\n\r\n### [org.springframework:spring-web:4.2.5.RELEASE][3]\r\n\r\n&lt;!-- lang: lang-java --&gt;\r\n\r\n    import org.springframework.web.util.UriComponentsBuilder;\r\n    ...\r\n    return UriComponentsBuilder.fromUriString(url).queryParam(key, value).build().toUri();\r\n\r\n\r\n----------\r\n**See also:** [GIST &gt; URI Builder Tests][4]\r\n\r\n\r\n  [1]: http://search.maven.org/#artifactdetails%7Cjavax%7Cjavaee-api%7C7.0%7Cjar\r\n  [2]: http://search.maven.org/#artifactdetails%7Corg.apache.httpcomponents%7Chttpclient%7C4.5.2%7Cjar\r\n  [3]: http://search.maven.org/#artifactdetails%7Corg.springframework%7Cspring-web%7C4.2.5.RELEASE%7Cjar\r\n  [4]: https://gist.github.com/nickgrealy/b4f35bf5e5e5a444aff20c4616b51513","title":"How can I append a query parameter to an existing URL?","body":"<p>There are plenty of libraries that can help you with URI building (don't reinvent the wheel). Here are three to get you started:</p>\n\n<hr>\n\n<h3><a href=\"http://search.maven.org/#artifactdetails%7Cjavax%7Cjavaee-api%7C7.0%7Cjar\" rel=\"noreferrer\">Java EE 7</a></h3>\n\n\n\n<pre><code>import javax.ws.rs.core.UriBuilder;\n...\nreturn UriBuilder.fromUri(url).queryParam(key, value).build();\n</code></pre>\n\n<hr>\n\n<h3><a href=\"http://search.maven.org/#artifactdetails%7Corg.apache.httpcomponents%7Chttpclient%7C4.5.2%7Cjar\" rel=\"noreferrer\">org.apache.httpcomponents:httpclient:4.5.2</a></h3>\n\n\n\n<pre><code>import org.apache.http.client.utils.URIBuilder;\n...\nreturn new URIBuilder(url).addParameter(key, value).build();\n</code></pre>\n\n<hr>\n\n<h3><a href=\"http://search.maven.org/#artifactdetails%7Corg.springframework%7Cspring-web%7C4.2.5.RELEASE%7Cjar\" rel=\"noreferrer\">org.springframework:spring-web:4.2.5.RELEASE</a></h3>\n\n\n\n<pre><code>import org.springframework.web.util.UriComponentsBuilder;\n...\nreturn UriComponentsBuilder.fromUriString(url).queryParam(key, value).build().toUri();\n</code></pre>\n\n<hr>\n\n<p><strong>See also:</strong> <a href=\"https://gist.github.com/nickgrealy/b4f35bf5e5e5a444aff20c4616b51513\" rel=\"noreferrer\">GIST > URI Builder Tests</a></p>\n"},{"tags":[],"owner":{"account_id":1710488,"reputation":1120,"user_id":1568663,"accept_rate":60,"display_name":"tryp"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1541763660,"creation_date":1541763660,"answer_id":53225089,"question_id":26177749,"body_markdown":"I suggest an improvement of the Adam&#39;s answer accepting HashMap as parameter\r\n\r\n    /**\r\n     * Append parameters to given url\r\n     * @param url\r\n     * @param parameters\r\n     * @return new String url with given parameters\r\n     * @throws URISyntaxException\r\n     */\r\n    public static String appendToUrl(String url, HashMap&lt;String, String&gt; parameters) throws URISyntaxException\r\n    {\r\n        URI uri = new URI(url);\r\n        String query = uri.getQuery();\r\n\r\n        StringBuilder builder = new StringBuilder();\r\n\r\n        if (query != null)\r\n        \tbuilder.append(query);\r\n\r\n        for (Map.Entry&lt;String, String&gt; entry: parameters.entrySet())\r\n        {\r\n            String keyValueParam = entry.getKey() + &quot;=&quot; + entry.getValue();\r\n            if (!builder.toString().isEmpty())\r\n                builder.append(&quot;&amp;&quot;);\r\n\r\n            builder.append(keyValueParam);\r\n        }\r\n        \r\n        URI newUri = new URI(uri.getScheme(), uri.getAuthority(), uri.getPath(), builder.toString(), uri.getFragment());\r\n        return newUri.toString();\r\n    }","title":"How can I append a query parameter to an existing URL?","body":"<p>I suggest an improvement of the Adam's answer accepting HashMap as parameter</p>\n\n<pre><code>/**\n * Append parameters to given url\n * @param url\n * @param parameters\n * @return new String url with given parameters\n * @throws URISyntaxException\n */\npublic static String appendToUrl(String url, HashMap&lt;String, String&gt; parameters) throws URISyntaxException\n{\n    URI uri = new URI(url);\n    String query = uri.getQuery();\n\n    StringBuilder builder = new StringBuilder();\n\n    if (query != null)\n        builder.append(query);\n\n    for (Map.Entry&lt;String, String&gt; entry: parameters.entrySet())\n    {\n        String keyValueParam = entry.getKey() + \"=\" + entry.getValue();\n        if (!builder.toString().isEmpty())\n            builder.append(\"&amp;\");\n\n        builder.append(keyValueParam);\n    }\n\n    URI newUri = new URI(uri.getScheme(), uri.getAuthority(), uri.getPath(), builder.toString(), uri.getFragment());\n    return newUri.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2050082,"reputation":4441,"user_id":1829281,"display_name":"Andrii Kovalchuk"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1549296494,"creation_date":1549296494,"answer_id":54520002,"question_id":26177749,"body_markdown":"Kotlin &amp; clean, so you don&#39;t have to refactor before code review:\r\n\r\n\r\n\r\n    private fun addQueryParameters(url: String?): String? {\r\n            val uri = URI(url)\r\n    \r\n            val queryParams = StringBuilder(uri.query.orEmpty())\r\n            if (queryParams.isNotEmpty())\r\n                queryParams.append(&#39;&amp;&#39;)\r\n    \r\n            queryParams.append(URLEncoder.encode(&quot;$QUERY_PARAM=$param&quot;, Xml.Encoding.UTF_8.name))\r\n            return URI(uri.scheme, uri.authority, uri.path, queryParams.toString(), uri.fragment).toString()\r\n        }","title":"How can I append a query parameter to an existing URL?","body":"<p>Kotlin &amp; clean, so you don't have to refactor before code review:</p>\n\n<pre><code>private fun addQueryParameters(url: String?): String? {\n        val uri = URI(url)\n\n        val queryParams = StringBuilder(uri.query.orEmpty())\n        if (queryParams.isNotEmpty())\n            queryParams.append('&amp;')\n\n        queryParams.append(URLEncoder.encode(\"$QUERY_PARAM=$param\", Xml.Encoding.UTF_8.name))\n        return URI(uri.scheme, uri.authority, uri.path, queryParams.toString(), uri.fragment).toString()\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6095021,"reputation":9,"user_id":4756111,"display_name":"Ananth George"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1579225220,"creation_date":1579225220,"answer_id":59780141,"question_id":26177749,"body_markdown":"An update to Adam&#39;s answer considering tryp&#39;s answer too. Don&#39;t have to instantiate a String in the loop.\r\n\r\n    public static URI appendUri(String uri, Map&lt;String, String&gt; parameters) throws URISyntaxException {\r\n        URI oldUri = new URI(uri);\r\n        StringBuilder queries = new StringBuilder();\r\n\r\n        for(Map.Entry&lt;String, String&gt; query: parameters.entrySet()) {\r\n    \t\tqueries.append( &quot;&amp;&quot; + query.getKey()+&quot;=&quot;+query.getValue());\r\n    \t}\r\n\r\n        String newQuery = oldUri.getQuery();\r\n        if (newQuery == null) {\r\n            newQuery = queries.substring(1);\r\n        } else {\r\n        \tnewQuery += queries.toString();\r\n        }\r\n\r\n        URI newUri = new URI(oldUri.getScheme(), oldUri.getAuthority(),\r\n                oldUri.getPath(), newQuery, oldUri.getFragment());\r\n\r\n        return newUri;\r\n    }","title":"How can I append a query parameter to an existing URL?","body":"<p>An update to Adam's answer considering tryp's answer too. Don't have to instantiate a String in the loop.</p>\n\n<pre><code>public static URI appendUri(String uri, Map&lt;String, String&gt; parameters) throws URISyntaxException {\n    URI oldUri = new URI(uri);\n    StringBuilder queries = new StringBuilder();\n\n    for(Map.Entry&lt;String, String&gt; query: parameters.entrySet()) {\n        queries.append( \"&amp;\" + query.getKey()+\"=\"+query.getValue());\n    }\n\n    String newQuery = oldUri.getQuery();\n    if (newQuery == null) {\n        newQuery = queries.substring(1);\n    } else {\n        newQuery += queries.toString();\n    }\n\n    URI newUri = new URI(oldUri.getScheme(), oldUri.getAuthority(),\n            oldUri.getPath(), newQuery, oldUri.getFragment());\n\n    return newUri;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3381873,"reputation":79,"user_id":2838754,"display_name":"satyendra"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1599136453,"creation_date":1599136453,"answer_id":63723801,"question_id":26177749,"body_markdown":"For android, Use:\r\nhttps://developer.android.com/reference/android/net/Uri#buildUpon()\r\n\r\n   \r\n\r\n    URI oldUri = new URI(uri);\r\n    Uri.Builder builder = oldUri.buildUpon();\r\n     builder.appendQueryParameter(&quot;newParameter&quot;, &quot;dummyvalue&quot;);\r\n     Uri newUri =  builder.build();\r\n\r\n","title":"How can I append a query parameter to an existing URL?","body":"<p>For android, Use:\n<a href=\"https://developer.android.com/reference/android/net/Uri#buildUpon()\" rel=\"noreferrer\">https://developer.android.com/reference/android/net/Uri#buildUpon()</a></p>\n<pre><code>URI oldUri = new URI(uri);\nUri.Builder builder = oldUri.buildUpon();\n builder.appendQueryParameter(&quot;newParameter&quot;, &quot;dummyvalue&quot;);\n Uri newUri =  builder.build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13443062,"reputation":1312,"user_id":9699754,"display_name":"Divyanshu Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688623117,"creation_date":1672312373,"answer_id":74950389,"question_id":26177749,"body_markdown":"For Android, use this function to append a new parameter to your existing URI.\r\n\r\n**Java** \r\n\r\n```java\r\nprivate Uri appendUriParameter(Uri uri, String key, String newValue) {\r\n  final Set&lt;String&gt; params = uri.getQueryParameterNames();\r\n  final Uri.Builder newUri = uri.buildUpon().clearQuery();\r\n  for (String param : params) {\r\n    newUri.appendQueryParameter(param, uri.getQueryParameter(param));\r\n  }\r\n  newUri.appendQueryParameter(key, newValue);\r\n\r\n  return newUri.build();\r\n}\r\n```\r\n\r\n**Kotlin**\r\n\r\n    private fun appendUriParameter(uri: Uri, key: String, newValue: String) {\r\n        val params = uri.queryParameterNames()\r\n        val newUri = uri.buildUpon().clearQuery()\r\n        for (param in params) {\r\n            newUri.appendQueryParameter(param, uri.queryParameter(param))\r\n        }\r\n        return newUri.appendQueryParameter(key, newValue)\r\n    }","title":"How can I append a query parameter to an existing URL?","body":"<p>For Android, use this function to append a new parameter to your existing URI.</p>\n<p><strong>Java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>private Uri appendUriParameter(Uri uri, String key, String newValue) {\n  final Set&lt;String&gt; params = uri.getQueryParameterNames();\n  final Uri.Builder newUri = uri.buildUpon().clearQuery();\n  for (String param : params) {\n    newUri.appendQueryParameter(param, uri.getQueryParameter(param));\n  }\n  newUri.appendQueryParameter(key, newValue);\n\n  return newUri.build();\n}\n</code></pre>\n<p><strong>Kotlin</strong></p>\n<pre><code>private fun appendUriParameter(uri: Uri, key: String, newValue: String) {\n    val params = uri.queryParameterNames()\n    val newUri = uri.buildUpon().clearQuery()\n    for (param in params) {\n        newUri.appendQueryParameter(param, uri.queryParameter(param))\n    }\n    return newUri.appendQueryParameter(key, newValue)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6525396,"reputation":1941,"user_id":5695585,"display_name":"Enrico Bianchi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684445167,"creation_date":1684328861,"answer_id":76272460,"question_id":26177749,"body_markdown":"Using lambda and [StringJoiner][1], code can be more concise:\r\n\r\n```\r\npublic static URI appendUri(String url, Map&lt;String, String&gt; parameters) throws URISyntaxException {\r\n    final var uri = new URI(url);\r\n    final var sj = new StringJoiner(&quot;&amp;&quot;);\r\n\r\n    parameters.forEach((name, value) -&gt; sj.add(name + &quot;=&quot; + value));\r\n    final var query = uri.getQuery() == null ? sj.toString() : sj.length() &gt; 0 ? uri.getQuery() + &quot;&amp;&quot; + sj : uri.getQuery();\r\n\r\n    return new URI(uri.getScheme(), uri.getUserInfo(), uri.getHost(), uri.getPort(), uri.getPath(), query, uri.getFragment());\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html","title":"How can I append a query parameter to an existing URL?","body":"<p>Using lambda and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html\" rel=\"nofollow noreferrer\">StringJoiner</a>, code can be more concise:</p>\n<pre><code>public static URI appendUri(String url, Map&lt;String, String&gt; parameters) throws URISyntaxException {\n    final var uri = new URI(url);\n    final var sj = new StringJoiner(&quot;&amp;&quot;);\n\n    parameters.forEach((name, value) -&gt; sj.add(name + &quot;=&quot; + value));\n    final var query = uri.getQuery() == null ? sj.toString() : sj.length() &gt; 0 ? uri.getQuery() + &quot;&amp;&quot; + sj : uri.getQuery();\n\n    return new URI(uri.getScheme(), uri.getUserInfo(), uri.getHost(), uri.getPort(), uri.getPath(), query, uri.getFragment());\n}\n</code></pre>\n"}],"owner":{"account_id":115919,"reputation":43529,"user_id":304151,"accept_rate":81,"display_name":"Mridang Agarwalla"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215802,"favorite_count":0,"down_vote_count":0,"up_vote_count":93,"accepted_answer_id":26177982,"answer_count":9,"score":93,"last_activity_date":1689255552,"creation_date":1412333945,"question_id":26177749,"body_markdown":"I&#39;d like to append key-value pair as a query parameter to an existing URL. While I could do this by checking for the existence of whether the URL has a query part or a fragment part and doing the append by jumping though a bunch of if-clauses but I was wondering if there was clean way if doing this through the Apache Commons libraries or something equivalent.\r\n\r\n`http://example.com` would be `http://example.com?name=John`\r\n\r\n`http://example.com#fragment` would be `http://example.com?name=John#fragment`\r\n\r\n`http://example.com?email=john.doe@email.com` would be `http://example.com?email=john.doe@email.com&amp;name=John`\r\n\r\n`http://example.com?email=john.doe@email.com#fragment` would be `http://example.com?email=john.doe@email.com&amp;name=John#fragment`\r\n\r\nI&#39;ve run this scenario many times before and I&#39;d like to do this without breaking the URL in any way.","title":"How can I append a query parameter to an existing URL?","body":"<p>I'd like to append key-value pair as a query parameter to an existing URL. While I could do this by checking for the existence of whether the URL has a query part or a fragment part and doing the append by jumping though a bunch of if-clauses but I was wondering if there was clean way if doing this through the Apache Commons libraries or something equivalent.</p>\n\n<p><code>http://example.com</code> would be <code>http://example.com?name=John</code></p>\n\n<p><code>http://example.com#fragment</code> would be <code>http://example.com?name=John#fragment</code></p>\n\n<p><code>http://example.com?email=john.doe@email.com</code> would be <code>http://example.com?email=john.doe@email.com&amp;name=John</code></p>\n\n<p><code>http://example.com?email=john.doe@email.com#fragment</code> would be <code>http://example.com?email=john.doe@email.com&amp;name=John#fragment</code></p>\n\n<p>I've run this scenario many times before and I'd like to do this without breaking the URL in any way.</p>\n"},{"tags":["java","annotations","java-bytecode-asm"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1689359105,"post_id":76679708,"comment_id":135207629,"body_markdown":"The concept that “`@NotNull` is present … on the field … via another annotation” does not exist in Java. Tools processing annotations may implement such a logic but since you’re the one implementing the tool, it’s on you to check whether `MyAnnotation`  has been annotated with `@NotNull` which is what actually has been done on the language level and bytecode level. There is no way around reading and parsing the class file of `MyAnnotation` to find out whether the `@NotNull` annotation is present.","body":"The concept that “<code>@NotNull</code> is present … on the field … via another annotation” does not exist in Java. Tools processing annotations may implement such a logic but since you’re the one implementing the tool, it’s on you to check whether <code>MyAnnotation</code>  has been annotated with <code>@NotNull</code> which is what actually has been done on the language level and bytecode level. There is no way around reading and parsing the class file of <code>MyAnnotation</code> to find out whether the <code>@NotNull</code> annotation is present."}],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689255512,"creation_date":1689254123,"answer_id":76679787,"question_id":76679708,"body_markdown":"Your example basically doesn&#39;t work because you&#39;re only checking if the @NotNull annotation is directly present on the field, but not handling the real case, where @NotNull is a meta-annotation. You might try to use the explicit custom `AnnotationVisitor` instead:\r\n```kotlin\r\noverride fun visitField(\r\n    access: Int,\r\n    name: String,\r\n    descriptor: String,\r\n    signature: String?,\r\n    value: Any?\r\n): FieldVisitor {\r\n    val fieldVisitor = super.visitField(access, name, descriptor, signature, value)\r\n\r\n    return object : FieldVisitor(Opcodes.ASM9, fieldVisitor) {\r\n        var hasNotNullAnnotation = false\r\n\r\n        override fun visitAnnotation(descriptor: String, visible: Boolean): AnnotationVisitor {\r\n            val av = super.visitAnnotation(descriptor, visible)\r\n\r\n            return object : AnnotationVisitor(ASM9, av) {\r\n                override fun visitAnnotation(name: String, descriptor: String): AnnotationVisitor {\r\n                    if (descriptor.contains(notNullAnnotation.descriptor)) {\r\n                        hasNotNullAnnotation = true\r\n                    }\r\n                    return this\r\n                }\r\n            }\r\n        }\r\n\r\n        override fun visitEnd() {\r\n            System.out.println(&quot;hasNotNullAnnotation: &quot; + hasNotNullAnnotation); \r\n            super.visitEnd()\r\n        }\r\n    }\r\n}\r\n```","title":"Using Java ASM library to manipulate bytecode at build time, how can I check if an annotation on a field contains other specific annotations?","body":"<p>Your example basically doesn't work because you're only checking if the @NotNull annotation is directly present on the field, but not handling the real case, where @NotNull is a meta-annotation. You might try to use the explicit custom <code>AnnotationVisitor</code> instead:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun visitField(\n    access: Int,\n    name: String,\n    descriptor: String,\n    signature: String?,\n    value: Any?\n): FieldVisitor {\n    val fieldVisitor = super.visitField(access, name, descriptor, signature, value)\n\n    return object : FieldVisitor(Opcodes.ASM9, fieldVisitor) {\n        var hasNotNullAnnotation = false\n\n        override fun visitAnnotation(descriptor: String, visible: Boolean): AnnotationVisitor {\n            val av = super.visitAnnotation(descriptor, visible)\n\n            return object : AnnotationVisitor(ASM9, av) {\n                override fun visitAnnotation(name: String, descriptor: String): AnnotationVisitor {\n                    if (descriptor.contains(notNullAnnotation.descriptor)) {\n                        hasNotNullAnnotation = true\n                    }\n                    return this\n                }\n            }\n        }\n\n        override fun visitEnd() {\n            System.out.println(&quot;hasNotNullAnnotation: &quot; + hasNotNullAnnotation); \n            super.visitEnd()\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689255512,"creation_date":1689253549,"question_id":76679708,"body_markdown":"`SampleClass` has a field, that is annotated with `MyAnnotation`.\r\n\r\nI can detect that `MyAnnotation` is present on the field `name` using `ASM` visitor pattern, but unsure how to check if `@NotNull` is part of `MyAnnotation`.\r\n\r\nHow can I detect if `@NotNull` is present either directly on the field or via another annotation?\r\n\r\n```\r\nimport jakarta.validation.constraints.NotNull;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\npublic class SampleClass {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @MyAnnotation(&quot;John&quot;)\r\n    public String name;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n}\r\n```\r\n\r\n`MyAnnotation.java`:\r\n\r\n```\r\nimport jakarta.validation.constraints.NotNull;\r\n\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@NotNull\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.FIELD, ElementType.ANNOTATION_TYPE, ElementType.METHOD})\r\npublic @interface MyAnnotation {\r\n    String value() default &quot;&quot;;\r\n}\r\n```\r\n\r\nGradle build script:\r\n\r\n```\r\nimport org.objectweb.asm.*\r\nimport org.objectweb.asm.Opcodes.ASM9\r\nimport java.util.*\r\n\r\n\r\nplugins {\r\n    java\r\n}\r\n\r\ngroup &quot;org.example&quot;\r\nversion &quot;1.0-SNAPSHOT&quot;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;org.ow2.asm:asm:9.5&quot;)\r\n    implementation(&quot;jakarta.persistence:jakarta.persistence-api:2.2.3&quot;)\r\n    implementation(&quot;jakarta.validation:jakarta.validation-api:3.0.0&quot;)\r\n}\r\n\r\nbuildscript {\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath(&quot;org.ow2.asm:asm:9.5&quot;)\r\n        classpath(&quot;jakarta.persistence:jakarta.persistence-api:2.2.3&quot;)\r\n        classpath(&quot;jakarta.validation:jakarta.validation-api:3.0.0&quot;)\r\n    }\r\n}\r\n\r\ntasks.compileJava {\r\n    doLast {\r\n\r\n        val notNullAnnotation = Type.getType(&quot;Ljakarta/validation/constraints/NotNull&quot;)\r\n\r\n        val classReader = ClassReader(file(&quot;build/classes/java/main/org/example/SampleClass.class&quot;).readBytes())\r\n        val classWriter = ClassWriter(classReader, ClassWriter.COMPUTE_MAXS)\r\n\r\n        classReader.accept(object : ClassVisitor(ASM9, classWriter) {\r\n            var isEntity = false\r\n\r\n            override fun visit(\r\n                version: Int,\r\n                access: Int,\r\n                name: String,\r\n                signature: String?,\r\n                superName: String?,\r\n                interfaces: Array&lt;out String&gt;?\r\n            ) {\r\n                super.visit(version, access, name, signature, superName, interfaces)\r\n            }\r\n\r\n            override fun visitField(\r\n                access: Int,\r\n                name: String,\r\n                descriptor: String,\r\n                signature: String?,\r\n                value: Any?\r\n            ): FieldVisitor {\r\n                val fieldVisitor = super.visitField(access, name, descriptor, signature, value)\r\n\r\n                return object : FieldVisitor(Opcodes.ASM9, fieldVisitor) {\r\n                    var hasNotNullAnnotation = false\r\n\r\n                    override fun visitAnnotation(descriptor: String, visible: Boolean): AnnotationVisitor {\r\n\r\n                        val av = super.visitAnnotation(descriptor, visible)\r\n\r\n                        if (descriptor.contains(notNullAnnotation.descriptor)) {\r\n                            hasNotNullAnnotation = true\r\n                        }\r\n                    }\r\n\r\n                    override fun visitEnd() {\r\n\r\n                        System.out.println(&quot;hasNotNullAnnotation: &quot; + hasNotNullAnnotation); // always false\r\n\r\n                        super.visitEnd()\r\n                    }\r\n                }\r\n            }\r\n        }, 0)\r\n\r\n        file(&quot;build/classes/java/main/org/example/SampleClass.class&quot;).writeBytes(classWriter.toByteArray())\r\n    }\r\n}\r\n\r\nval asmConfiguration = project.configurations.getByName(&quot;implementation&quot;)\r\ntasks.compileJava {\r\n\r\n    doLast {\r\n        asmConfiguration\r\n    }\r\n}\r\n```","title":"Using Java ASM library to manipulate bytecode at build time, how can I check if an annotation on a field contains other specific annotations?","body":"<p><code>SampleClass</code> has a field, that is annotated with <code>MyAnnotation</code>.</p>\n<p>I can detect that <code>MyAnnotation</code> is present on the field <code>name</code> using <code>ASM</code> visitor pattern, but unsure how to check if <code>@NotNull</code> is part of <code>MyAnnotation</code>.</p>\n<p>How can I detect if <code>@NotNull</code> is present either directly on the field or via another annotation?</p>\n<pre><code>import jakarta.validation.constraints.NotNull;\n\nimport javax.persistence.*;\n\n@Entity\npublic class SampleClass {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @MyAnnotation(&quot;John&quot;)\n    public String name;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p><code>MyAnnotation.java</code>:</p>\n<pre><code>import jakarta.validation.constraints.NotNull;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@NotNull\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.FIELD, ElementType.ANNOTATION_TYPE, ElementType.METHOD})\npublic @interface MyAnnotation {\n    String value() default &quot;&quot;;\n}\n</code></pre>\n<p>Gradle build script:</p>\n<pre><code>import org.objectweb.asm.*\nimport org.objectweb.asm.Opcodes.ASM9\nimport java.util.*\n\n\nplugins {\n    java\n}\n\ngroup &quot;org.example&quot;\nversion &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;org.ow2.asm:asm:9.5&quot;)\n    implementation(&quot;jakarta.persistence:jakarta.persistence-api:2.2.3&quot;)\n    implementation(&quot;jakarta.validation:jakarta.validation-api:3.0.0&quot;)\n}\n\nbuildscript {\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(&quot;org.ow2.asm:asm:9.5&quot;)\n        classpath(&quot;jakarta.persistence:jakarta.persistence-api:2.2.3&quot;)\n        classpath(&quot;jakarta.validation:jakarta.validation-api:3.0.0&quot;)\n    }\n}\n\ntasks.compileJava {\n    doLast {\n\n        val notNullAnnotation = Type.getType(&quot;Ljakarta/validation/constraints/NotNull&quot;)\n\n        val classReader = ClassReader(file(&quot;build/classes/java/main/org/example/SampleClass.class&quot;).readBytes())\n        val classWriter = ClassWriter(classReader, ClassWriter.COMPUTE_MAXS)\n\n        classReader.accept(object : ClassVisitor(ASM9, classWriter) {\n            var isEntity = false\n\n            override fun visit(\n                version: Int,\n                access: Int,\n                name: String,\n                signature: String?,\n                superName: String?,\n                interfaces: Array&lt;out String&gt;?\n            ) {\n                super.visit(version, access, name, signature, superName, interfaces)\n            }\n\n            override fun visitField(\n                access: Int,\n                name: String,\n                descriptor: String,\n                signature: String?,\n                value: Any?\n            ): FieldVisitor {\n                val fieldVisitor = super.visitField(access, name, descriptor, signature, value)\n\n                return object : FieldVisitor(Opcodes.ASM9, fieldVisitor) {\n                    var hasNotNullAnnotation = false\n\n                    override fun visitAnnotation(descriptor: String, visible: Boolean): AnnotationVisitor {\n\n                        val av = super.visitAnnotation(descriptor, visible)\n\n                        if (descriptor.contains(notNullAnnotation.descriptor)) {\n                            hasNotNullAnnotation = true\n                        }\n                    }\n\n                    override fun visitEnd() {\n\n                        System.out.println(&quot;hasNotNullAnnotation: &quot; + hasNotNullAnnotation); // always false\n\n                        super.visitEnd()\n                    }\n                }\n            }\n        }, 0)\n\n        file(&quot;build/classes/java/main/org/example/SampleClass.class&quot;).writeBytes(classWriter.toByteArray())\n    }\n}\n\nval asmConfiguration = project.configurations.getByName(&quot;implementation&quot;)\ntasks.compileJava {\n\n    doLast {\n        asmConfiguration\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-mediacodec","audiotrack","mediaextractor"],"answers":[{"tags":[],"owner":{"account_id":5376192,"reputation":9447,"user_id":4283005,"display_name":"dev.bmax"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689255154,"creation_date":1689255154,"answer_id":76679944,"question_id":76677416,"body_markdown":"The audio is compressed using the Advanced Audio Coding (AAC) compression. You can see it from this line: \r\n`mime: audio/mp4a-latm`. \r\n\r\nBut you are not decoding it. The `MediaExtractor` reads compressed samples while the `AudioTrack` expects decoded data (`AudioFormat.ENCODING_PCM_16BIT` in your case).\r\n\r\nYou can use the [MediaCodec API][1] to decode the audio buffers that `MediaExtractor` reads. \r\n\r\nBy the way, you will not need to copy the decoded buffers into an array, just pass them to the `AudioTrack` as is.\r\n\r\nAlternatively, you could detect the correct encoding and specify it when you set the `AudioTrack` up. See [here][2] and [here][3]. \r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/media/MediaCodec\r\n  [2]: https://developer.android.com/reference/android/media/AudioFormat.Builder#setEncoding(int)\r\n  [3]: https://developer.android.com/reference/android/media/AudioTrack.Builder","title":"Audio sample not playing as expected on android11","body":"<p>The audio is compressed using the Advanced Audio Coding (AAC) compression. You can see it from this line:\n<code>mime: audio/mp4a-latm</code>.</p>\n<p>But you are not decoding it. The <code>MediaExtractor</code> reads compressed samples while the <code>AudioTrack</code> expects decoded data (<code>AudioFormat.ENCODING_PCM_16BIT</code> in your case).</p>\n<p>You can use the <a href=\"https://developer.android.com/reference/android/media/MediaCodec\" rel=\"nofollow noreferrer\">MediaCodec API</a> to decode the audio buffers that <code>MediaExtractor</code> reads.</p>\n<p>By the way, you will not need to copy the decoded buffers into an array, just pass them to the <code>AudioTrack</code> as is.</p>\n<p>Alternatively, you could detect the correct encoding and specify it when you set the <code>AudioTrack</code> up. See <a href=\"https://developer.android.com/reference/android/media/AudioFormat.Builder#setEncoding(int)\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://developer.android.com/reference/android/media/AudioTrack.Builder\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":14859796,"reputation":93,"user_id":10731025,"display_name":"EinStyn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76679944,"answer_count":1,"score":2,"last_activity_date":1689255154,"creation_date":1689237319,"question_id":76677416,"body_markdown":"I am trying to extract and play audio samples from a video file in Android 11. However, I have followed some tutorials from the official documentation, but it still doesn&#39;t work. All I get is noise for a shorter duration of the audio. Please check the code I am using to achieve this:\r\n\r\n```\r\n\r\n// This is how I get the audio samples\r\npublic ArrayList&lt;byte[]&gt; getAudio() {\r\n    int index = 0;\r\n    ArrayList&lt;byte[]&gt; audio = new ArrayList&lt;&gt;();\r\n    ByteBuffer buffer = ByteBuffer.allocateDirect(format.getInteger(MediaFormat.KEY_MAX_INPUT_SIZE));\r\n\r\n    for (;;) {\r\n        int size = extractor.readSampleData(buffer, 0);\r\n        total_size += size;\r\n        if (size &lt; 0) { // no more data to read\r\n            break;\r\n        }\r\n\r\n        for (int i = 0; i &lt; size / 2; i++) {\r\n            byte[] sample = new byte[2];\r\n            for (int j = 0; j &lt; sample.length; j++) {\r\n                sample[j] = buffer.get();\r\n            }\r\n            audio.add(sample);\r\n        }\r\n        extractor.advance();\r\n    }\r\n    return audio;\r\n}\r\n\r\nLog.d(&quot;AudioTest&quot;, &quot;total audio data size in bytes: &quot; + total_size);\r\n\r\n// This is how I play the audio\r\nint SIZE = AudioTrack.getMinBufferSize(48000, AudioFormat.CHANNEL_OUT_MONO, AudioFormat.ENCODING_PCM_16BIT);\r\nAudioTrack track = new AudioTrack(AudioManager.STREAM_MUSIC, 48000, AudioFormat.CHANNEL_OUT_MONO, AudioFormat.ENCODING_PCM_16BIT, SIZE, AudioTrack.MODE_STREAM);\r\nArrayList&lt;byte[]&gt; audio = getAudio();\r\nlong start = System.currentTimeMillis();\r\n\r\ntrack.play();\r\nbyte[] data = new byte[audio.size() * 2];\r\nfor (int i = 0, k = 0; i &lt; audio.size(); i++) {\r\n    byte[] sample = audio.get(i);\r\n    for (int j = 0; j &lt; sample.length; j++, k++) {\r\n        data[k] = sample[j];\r\n    }\r\n}\r\ntrack.write(data, 0, data.length);\r\n\r\nlong duration = System.currentTimeMillis() - start;\r\nLog.d(&quot;AudioTest&quot;, &quot;that took: &quot; + (duration / 1000) + &quot;s&quot;);\r\n\r\n\r\n```\r\n\r\nI am facing an issue where my audio plays random noise for only 5 seconds. The `getAudio()` method retrieves only 487,831 bytes from the 15-second video file. Here are the details of the video file:\r\n\r\nFrames: \r\n- has-sdtp: 1\r\n- track-id: 1\r\n- level: 2048\r\n- mime: video/avc\r\n- frame-count: 461\r\n- profile: 8\r\n- language: und\r\n- color-standard: 1\r\n- display-width: 1920\r\n- track-fourcc: 828601953\r\n- csd-1: java.nio.HeapByteBuffer[pos=0 lim=9 cap=9]\r\n- color-transfer: 3\r\n- durationUs: 15,382,033\r\n- display-height: 1080\r\n- width: 1920\r\n- color-range: 2\r\n- max-input-size: 3,145,748\r\n- frame-rate: 30\r\n- height: 1080\r\n- csd-0: java.nio.HeapByteBuffer[pos=0 lim=33 cap=33]\r\n\r\nSamples:\r\n- max-bitrate: 262,664\r\n- isDMCMMExtractor: 1\r\n- sample-rate: 48,000\r\n- track-id: 2\r\n- mime: audio/mp4a-latm\r\n- profile: 2\r\n- language: und\r\n- aac-profile: 2\r\n- track-fourcc: -1\r\n- encoder-delay: 0\r\n- durationUs: 15,402,666\r\n- channel-count: 2\r\n- bits-per-sample: 16\r\n- encoder-padding: 48\r\n- max-input-size: 524,308\r\n- csd-0: java.nio.HeapByteBuffer[pos=0 lim=2 cap=2]\r\n\r\nAny help would be highly appreciated.\r\n\r\nThank you.\r\n\r\n\r\n","title":"Audio sample not playing as expected on android11","body":"<p>I am trying to extract and play audio samples from a video file in Android 11. However, I have followed some tutorials from the official documentation, but it still doesn't work. All I get is noise for a shorter duration of the audio. Please check the code I am using to achieve this:</p>\n<pre><code>\n// This is how I get the audio samples\npublic ArrayList&lt;byte[]&gt; getAudio() {\n    int index = 0;\n    ArrayList&lt;byte[]&gt; audio = new ArrayList&lt;&gt;();\n    ByteBuffer buffer = ByteBuffer.allocateDirect(format.getInteger(MediaFormat.KEY_MAX_INPUT_SIZE));\n\n    for (;;) {\n        int size = extractor.readSampleData(buffer, 0);\n        total_size += size;\n        if (size &lt; 0) { // no more data to read\n            break;\n        }\n\n        for (int i = 0; i &lt; size / 2; i++) {\n            byte[] sample = new byte[2];\n            for (int j = 0; j &lt; sample.length; j++) {\n                sample[j] = buffer.get();\n            }\n            audio.add(sample);\n        }\n        extractor.advance();\n    }\n    return audio;\n}\n\nLog.d(&quot;AudioTest&quot;, &quot;total audio data size in bytes: &quot; + total_size);\n\n// This is how I play the audio\nint SIZE = AudioTrack.getMinBufferSize(48000, AudioFormat.CHANNEL_OUT_MONO, AudioFormat.ENCODING_PCM_16BIT);\nAudioTrack track = new AudioTrack(AudioManager.STREAM_MUSIC, 48000, AudioFormat.CHANNEL_OUT_MONO, AudioFormat.ENCODING_PCM_16BIT, SIZE, AudioTrack.MODE_STREAM);\nArrayList&lt;byte[]&gt; audio = getAudio();\nlong start = System.currentTimeMillis();\n\ntrack.play();\nbyte[] data = new byte[audio.size() * 2];\nfor (int i = 0, k = 0; i &lt; audio.size(); i++) {\n    byte[] sample = audio.get(i);\n    for (int j = 0; j &lt; sample.length; j++, k++) {\n        data[k] = sample[j];\n    }\n}\ntrack.write(data, 0, data.length);\n\nlong duration = System.currentTimeMillis() - start;\nLog.d(&quot;AudioTest&quot;, &quot;that took: &quot; + (duration / 1000) + &quot;s&quot;);\n\n\n</code></pre>\n<p>I am facing an issue where my audio plays random noise for only 5 seconds. The <code>getAudio()</code> method retrieves only 487,831 bytes from the 15-second video file. Here are the details of the video file:</p>\n<p>Frames:</p>\n<ul>\n<li>has-sdtp: 1</li>\n<li>track-id: 1</li>\n<li>level: 2048</li>\n<li>mime: video/avc</li>\n<li>frame-count: 461</li>\n<li>profile: 8</li>\n<li>language: und</li>\n<li>color-standard: 1</li>\n<li>display-width: 1920</li>\n<li>track-fourcc: 828601953</li>\n<li>csd-1: java.nio.HeapByteBuffer[pos=0 lim=9 cap=9]</li>\n<li>color-transfer: 3</li>\n<li>durationUs: 15,382,033</li>\n<li>display-height: 1080</li>\n<li>width: 1920</li>\n<li>color-range: 2</li>\n<li>max-input-size: 3,145,748</li>\n<li>frame-rate: 30</li>\n<li>height: 1080</li>\n<li>csd-0: java.nio.HeapByteBuffer[pos=0 lim=33 cap=33]</li>\n</ul>\n<p>Samples:</p>\n<ul>\n<li>max-bitrate: 262,664</li>\n<li>isDMCMMExtractor: 1</li>\n<li>sample-rate: 48,000</li>\n<li>track-id: 2</li>\n<li>mime: audio/mp4a-latm</li>\n<li>profile: 2</li>\n<li>language: und</li>\n<li>aac-profile: 2</li>\n<li>track-fourcc: -1</li>\n<li>encoder-delay: 0</li>\n<li>durationUs: 15,402,666</li>\n<li>channel-count: 2</li>\n<li>bits-per-sample: 16</li>\n<li>encoder-padding: 48</li>\n<li>max-input-size: 524,308</li>\n<li>csd-0: java.nio.HeapByteBuffer[pos=0 lim=2 cap=2]</li>\n</ul>\n<p>Any help would be highly appreciated.</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring-boot","jpastreamer"],"answers":[{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689255137,"creation_date":1689196387,"answer_id":76674473,"question_id":76674061,"body_markdown":"Reading their documentation, and the gradle integration, I think you are simply lacking the annotation processor: \r\n\r\n    dependencies {\r\n        compile &quot;com.speedment.jpastreamer:jpastreamer-core:version&quot;\r\n        annotationProcessor &quot;com.speedment.jpastreamer:fieldgenerator-standard:version&quot;\r\n    }\r\n\r\nTo fix your problem, you probably just need to add an annotation processor: https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html\r\n\r\n    &lt;plugin&gt;\r\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;annotationProcessorPaths&gt;\r\n          &lt;path&gt;\r\n            &lt;groupId&gt;com.speedment.jpastreamer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fieldgenerator-standard&lt;/artifactId&gt;\r\n            &lt;version&gt;${jpastream.version}&lt;/version&gt;\r\n          &lt;/path&gt;\r\n        &lt;/annotationProcessorPaths&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nYou may also, if it works, create a [pull request][1] to fix the README.\r\n\r\n\r\n  [1]: https://github.com/speedment/jpa-streamer#maven","title":"Spring Boot with the usage of jpaStreamer $ issue - Cannot resolve symbol &#39;User$&#39;","body":"<p>Reading their documentation, and the gradle integration, I think you are simply lacking the annotation processor:</p>\n<pre><code>dependencies {\n    compile &quot;com.speedment.jpastreamer:jpastreamer-core:version&quot;\n    annotationProcessor &quot;com.speedment.jpastreamer:fieldgenerator-standard:version&quot;\n}\n</code></pre>\n<p>To fix your problem, you probably just need to add an annotation processor: <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html</a></p>\n<pre><code>&lt;plugin&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;annotationProcessorPaths&gt;\n      &lt;path&gt;\n        &lt;groupId&gt;com.speedment.jpastreamer&lt;/groupId&gt;\n        &lt;artifactId&gt;fieldgenerator-standard&lt;/artifactId&gt;\n        &lt;version&gt;${jpastream.version}&lt;/version&gt;\n      &lt;/path&gt;\n    &lt;/annotationProcessorPaths&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>You may also, if it works, create a <a href=\"https://github.com/speedment/jpa-streamer#maven\" rel=\"nofollow noreferrer\">pull request</a> to fix the README.</p>\n"},{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689247721,"creation_date":1689247721,"answer_id":76678872,"question_id":76674061,"body_markdown":"I fixed the issue. It caused by the version of `jpastream.version`. After I defined it as `3.0.3` in pom.xml, the problem disappeared.\r\n\r\n\r\n\r\n    &lt;jpastream.version&gt;3.0.3&lt;/jpastream.version&gt;","title":"Spring Boot with the usage of jpaStreamer $ issue - Cannot resolve symbol &#39;User$&#39;","body":"<p>I fixed the issue. It caused by the version of <code>jpastream.version</code>. After I defined it as <code>3.0.3</code> in pom.xml, the problem disappeared.</p>\n<pre><code>&lt;jpastream.version&gt;3.0.3&lt;/jpastream.version&gt;\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76678872,"answer_count":2,"score":0,"last_activity_date":1689255137,"creation_date":1689191776,"question_id":76674061,"body_markdown":"I tried to implement an example of Spring Boot with the usage of `jpaStreamer`. I use `Intellij Idea` to handle with it. I have a problem in `jpaStreamer.stream`.\r\n\r\n\r\nHere are the dependencies shown below\r\n\r\n    &lt;jpastream.version&gt;1.1.4&lt;/jpastream.version&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.speedment.jpastreamer&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jpastreamer-core&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${jpastream.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.speedment.jpastreamer.integration.spring&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-jpastreamer-autoconfigure&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${jpastream.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nHere is the sample method of UserService shown below\r\n\r\n    public List&lt;User&gt; findAllForJpaStreamer() {\r\n       return jpaStreamer.stream(User.class).\r\n              sorted(User$.id).\r\n              collect(Collectors.toList());\r\n    }\r\n\r\nI get this error message shown below\r\n\r\n    Cannot resolve symbol &#39;User$&#39;\r\n\r\nHere is the screenshot shown below\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow can I fix it?\r\n\r\n\r\nHere is the repo : [Link][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LTYWL.png\r\n  [2]: https://i.stack.imgur.com/mlxXI.png\r\n  [3]: https://github.com/Rapter1990/jpastreamer","title":"Spring Boot with the usage of jpaStreamer $ issue - Cannot resolve symbol &#39;User$&#39;","body":"<p>I tried to implement an example of Spring Boot with the usage of <code>jpaStreamer</code>. I use <code>Intellij Idea</code> to handle with it. I have a problem in <code>jpaStreamer.stream</code>.</p>\n<p>Here are the dependencies shown below</p>\n<pre><code>&lt;jpastream.version&gt;1.1.4&lt;/jpastream.version&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.speedment.jpastreamer&lt;/groupId&gt;\n    &lt;artifactId&gt;jpastreamer-core&lt;/artifactId&gt;\n    &lt;version&gt;${jpastream.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.speedment.jpastreamer.integration.spring&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-jpastreamer-autoconfigure&lt;/artifactId&gt;\n    &lt;version&gt;${jpastream.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is the sample method of UserService shown below</p>\n<pre><code>public List&lt;User&gt; findAllForJpaStreamer() {\n   return jpaStreamer.stream(User.class).\n          sorted(User$.id).\n          collect(Collectors.toList());\n}\n</code></pre>\n<p>I get this error message shown below</p>\n<pre><code>Cannot resolve symbol 'User$'\n</code></pre>\n<p>Here is the screenshot shown below</p>\n<p><a href=\"https://i.stack.imgur.com/LTYWL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LTYWL.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/mlxXI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mlxXI.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I fix it?</p>\n<p>Here is the repo : <a href=\"https://github.com/Rapter1990/jpastreamer\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","datetime","clojure"],"answers":[{"tags":[],"owner":{"account_id":83469,"reputation":9224,"user_id":234009,"display_name":"robert_x44"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1461801783,"creation_date":1294515516,"answer_id":4635747,"question_id":4635680,"body_markdown":"There is a [Clojure-wrapper library for Joda-Time][1].  Or you&#39;ll have to use java interop with the standard Java API.\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/clj-time/clj-time","title":"What is the best way to get date and time in Clojure?","body":"<p>There is a <a href=\"https://github.com/clj-time/clj-time\" rel=\"nofollow noreferrer\">Clojure-wrapper library for Joda-Time</a>.  Or you'll have to use java interop with the standard Java API.</p>\n"},{"tags":[],"owner":{"account_id":238081,"reputation":9438,"user_id":506721,"accept_rate":89,"display_name":"Goran Jovic"},"down_vote_count":1,"up_vote_count":58,"is_accepted":true,"score":57,"last_activity_date":1294518698,"creation_date":1294518698,"answer_id":4635979,"question_id":4635680,"body_markdown":"If all you need is to get the current time and date for your logger, then this function is OK:\r\n\r\n     (defn now [] (new java.util.Date))\r\n\r\nNow that you mentioned this, it would be useful to have support for immutable Date objects.","title":"What is the best way to get date and time in Clojure?","body":"<p>If all you need is to get the current time and date for your logger, then this function is OK:</p>\n\n<pre><code> (defn now [] (new java.util.Date))\n</code></pre>\n\n<p>Now that you mentioned this, it would be useful to have support for immutable Date objects.</p>\n"},{"tags":[],"owner":{"account_id":57917,"reputation":9331,"user_id":173497,"accept_rate":58,"display_name":"Kenny Evitt"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1461801418,"creation_date":1364700962,"answer_id":15726071,"question_id":4635680,"body_markdown":"With [clj-time](https://github.com/clj-time/clj-time), the Clojure library that wraps the Java Joda Time library, you could use code like the following:\r\n\r\n    (require &#39;[clj-time.core :as time])\r\n    (require &#39;[clj-time.format :as time-format])\r\n\r\n    (time/now) =&gt; #&lt;DateTime 2013-03-31T03:23:47.328Z&gt;\r\n\r\n    (def time-formatter (time-format/formatters :basic-date-time))  ;; ISO 8601 UTC format\r\n    (time-format/unparse custom-formatter (date-time 2010 10 3)) =&gt; &quot;20101003T000000.000Z&quot;\r\n\r\nOne benefit of Joda Time (and hence clj-time) is that new releases support new changes to time zones.","title":"What is the best way to get date and time in Clojure?","body":"<p>With <a href=\"https://github.com/clj-time/clj-time\" rel=\"noreferrer\">clj-time</a>, the Clojure library that wraps the Java Joda Time library, you could use code like the following:</p>\n\n<pre><code>(require '[clj-time.core :as time])\n(require '[clj-time.format :as time-format])\n\n(time/now) =&gt; #&lt;DateTime 2013-03-31T03:23:47.328Z&gt;\n\n(def time-formatter (time-format/formatters :basic-date-time))  ;; ISO 8601 UTC format\n(time-format/unparse custom-formatter (date-time 2010 10 3)) =&gt; \"20101003T000000.000Z\"\n</code></pre>\n\n<p>One benefit of Joda Time (and hence clj-time) is that new releases support new changes to time zones.</p>\n"},{"tags":[],"owner":{"account_id":189383,"reputation":4209,"user_id":428691,"accept_rate":40,"display_name":"&#201;dipo F&#233;derle"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1451137447,"creation_date":1451137447,"answer_id":34471898,"question_id":4635680,"body_markdown":"If you dont need nothing more advanced, just use Java classes.\r\n\r\n```(.format (java.text.SimpleDateFormat. &quot;MM/dd/yyyy&quot;) (new java.util.Date))```","title":"What is the best way to get date and time in Clojure?","body":"<p>If you dont need nothing more advanced, just use Java classes.</p>\n\n<p><code>(.format (java.text.SimpleDateFormat. \"MM/dd/yyyy\") (new java.util.Date))</code></p>\n"},{"tags":[],"owner":{"account_id":187340,"reputation":19497,"user_id":425313,"accept_rate":88,"display_name":"Brad Koch"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1540317407,"creation_date":1458149958,"answer_id":36043033,"question_id":4635680,"body_markdown":"Java 1.8 added the [java.time](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) package to the core JDK to clean up many of the [frustrations](http://www.oracle.com/technetwork/articles/java/jf14-date-time-2125367.html) with the state of date &amp; time in Java.  Since java.time is now a widely available part of core Java with a much improved API, I would encourage you to give it the first look when writing new date &amp; time code.\r\n\r\nHere&#39;s how you can retrieve the current date and time:\r\n\r\n    (java.time.LocalDateTime/now)","title":"What is the best way to get date and time in Clojure?","body":"<p>Java 1.8 added the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> package to the core JDK to clean up many of the <a href=\"http://www.oracle.com/technetwork/articles/java/jf14-date-time-2125367.html\" rel=\"noreferrer\">frustrations</a> with the state of date &amp; time in Java.  Since java.time is now a widely available part of core Java with a much improved API, I would encourage you to give it the first look when writing new date &amp; time code.</p>\n\n<p>Here's how you can retrieve the current date and time:</p>\n\n<pre><code>(java.time.LocalDateTime/now)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":514472,"reputation":1855,"user_id":1762872,"display_name":"practicalli-john"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689254810,"creation_date":1689253127,"answer_id":76679641,"question_id":4635680,"body_markdown":"`java.time` is available in Java 8 onward and is a relatively straight forward approach to creating a time stamp for logs\r\n\r\n`java.time` namespace is included in Clojure by default, so available without the need for a `require expression.\r\n\r\n```clojure\r\n(java.time.LocalDate/now)\r\n```\r\n\r\nEvaluating this expression returns a Java Time object which should work with most log frameworks\r\n\r\n```\r\n#object[java.time.LocalDate 0x5814b4fb &quot;2023-07-13&quot;]\r\n```\r\n\r\nFor example, in [mulog](https://github.com/BrunoBonacci/mulog) the following event log includes a date-time stamp\r\n\r\n```clojure\r\n(ns practicalli.gameboard.system\r\n  &quot;Service component lifecycle management&quot;\r\n  (:gen-class)\r\n  (:require\r\n   [com.brunobonacci.mulog :as mulog]))\r\n\r\n(mulog/log \r\n  ::log-publish-component\r\n  :local-time (java.time.LocalDateTime/now))\r\n```\r\n\r\n&gt; NOTE: change the namespace to match the file name or add a suitable require to your namespace and copy the mulog/log expression","title":"What is the best way to get date and time in Clojure?","body":"<p><code>java.time</code> is available in Java 8 onward and is a relatively straight forward approach to creating a time stamp for logs</p>\n<p><code>java.time</code> namespace is included in Clojure by default, so available without the need for a `require expression.</p>\n<pre class=\"lang-clj prettyprint-override\"><code>(java.time.LocalDate/now)\n</code></pre>\n<p>Evaluating this expression returns a Java Time object which should work with most log frameworks</p>\n<pre><code>#object[java.time.LocalDate 0x5814b4fb &quot;2023-07-13&quot;]\n</code></pre>\n<p>For example, in <a href=\"https://github.com/BrunoBonacci/mulog\" rel=\"nofollow noreferrer\">mulog</a> the following event log includes a date-time stamp</p>\n<pre class=\"lang-clj prettyprint-override\"><code>(ns practicalli.gameboard.system\n  &quot;Service component lifecycle management&quot;\n  (:gen-class)\n  (:require\n   [com.brunobonacci.mulog :as mulog]))\n\n(mulog/log \n  ::log-publish-component\n  :local-time (java.time.LocalDateTime/now))\n</code></pre>\n<blockquote>\n<p>NOTE: change the namespace to match the file name or add a suitable require to your namespace and copy the mulog/log expression</p>\n</blockquote>\n"}],"owner":{"account_id":226674,"reputation":18875,"user_id":487855,"accept_rate":90,"display_name":"Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44461,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":4635979,"answer_count":6,"score":50,"last_activity_date":1689254810,"creation_date":1294514629,"question_id":4635680,"body_markdown":"I need to log some events on a Clojure Client-Server scenario, but it seems to me that Clojure does not provide a date/time function. Can any one confirm this or I am missing something here?! If I am correct then I need to use java interop, right?","title":"What is the best way to get date and time in Clojure?","body":"<p>I need to log some events on a Clojure Client-Server scenario, but it seems to me that Clojure does not provide a date/time function. Can any one confirm this or I am missing something here?! If I am correct then I need to use java interop, right?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1689254427,"post_id":76679789,"comment_id":135189524,"body_markdown":"Maybe set the return type to `Supplier&lt;Integer&gt;` or something instead of `int`? See: [Package java.util.function](https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html) for more types of interfaces.","body":"Maybe set the return type to <code>Supplier&lt;Integer&gt;</code> or something instead of <code>int</code>? See: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html\" rel=\"nofollow noreferrer\">Package java.util.function</a> for more types of interfaces."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689254828,"post_id":76679789,"comment_id":135189628,"body_markdown":"In other words, you&#39;re assigning the number variable to a function here, so the return statement isn&#39;t being ran at all, therefore the type cannot be int","body":"In other words, you&#39;re assigning the number variable to a function here, so the return statement isn&#39;t being ran at all, therefore the type cannot be int"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689254331,"creation_date":1689254331,"answer_id":76679817,"question_id":76679789,"body_markdown":"The lambda needs an explicit type in this context. You could cast it to [`IntSupplier`](https://docs.oracle.com/javase/8/docs/api/java/util/function/IntSupplier.html) and call its `getAsInt` method to get the return value.\r\n\r\n```java\r\nint number = ((IntSupplier) () -&gt; 1).getAsInt();\r\n```","title":"Set value of variable to return value of expression","body":"<p>The lambda needs an explicit type in this context. You could cast it to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/IntSupplier.html\" rel=\"nofollow noreferrer\"><code>IntSupplier</code></a> and call its <code>getAsInt</code> method to get the return value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int number = ((IntSupplier) () -&gt; 1).getAsInt();\n</code></pre>\n"}],"owner":{"account_id":28637956,"reputation":1,"user_id":21927723,"display_name":"Tamion"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1689255111,"answer_count":1,"score":-2,"last_activity_date":1689254516,"creation_date":1689254136,"question_id":76679789,"body_markdown":"So i am trying to set the value of a variable to the return value of an expression like lambda, Runnable or Callable. Is there any way of doing this in java?\r\n\r\ni tried doing something like this:\r\n```\r\nint number = () -&gt; {\r\n   return 1;\r\n};\r\n```\r\nbut it just shows me a syntax error in Intellij","title":"Set value of variable to return value of expression","body":"<p>So i am trying to set the value of a variable to the return value of an expression like lambda, Runnable or Callable. Is there any way of doing this in java?</p>\n<p>i tried doing something like this:</p>\n<pre><code>int number = () -&gt; {\n   return 1;\n};\n</code></pre>\n<p>but it just shows me a syntax error in Intellij</p>\n"},{"tags":["java","spring-boot","azure","microsoft-graph-api"],"comments":[{"owner":{"account_id":19892464,"reputation":11448,"user_id":14574199,"display_name":"Tiny Wang"},"score":0,"creation_date":1649049863,"post_id":71732015,"comment_id":126768586,"body_markdown":"You may try to follow [this sample](https://github.com/Azure-Samples/ms-identity-java-spring-tutorial/tree/main/1-Authentication/sign-in)","body":"You may try to follow <a href=\"https://github.com/Azure-Samples/ms-identity-java-spring-tutorial/tree/main/1-Authentication/sign-in\" rel=\"nofollow noreferrer\">this sample</a>"},{"owner":{"account_id":16295817,"reputation":11,"user_id":11768090,"display_name":"fewqfeqfewfqwf"},"score":1,"creation_date":1649639284,"post_id":71732015,"comment_id":126919354,"body_markdown":"After studying its code, it works for me, thanks","body":"After studying its code, it works for me, thanks"}],"answers":[{"tags":[],"owner":{"account_id":23997029,"reputation":589,"user_id":17982436,"display_name":"Mehtab Siddique"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689254323,"creation_date":1649334035,"answer_id":71782095,"question_id":71732015,"body_markdown":"This might not answer your question exactly, but as mentioned in the DOCs you can Redeem a code for an access token with the two ways mentioned in the DOC, that is the\r\n\r\n1)Request an access token with a client_secret-\r\n\r\n[https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-access-token-with-a-client_secret][1]\r\n\r\n2)Request an access token with a certificate credential-\r\n\r\n[https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-access-token-with-a-certificate-credential][2]\r\ncan you try this , hope this helps.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-access-token-with-a-client_secret\r\n  [2]: https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-access-token-with-a-certificate-credential","title":"Failed to acquire token with authorization code using Microsoft graph API with Java Spring","body":"<p>This might not answer your question exactly, but as mentioned in the DOCs you can Redeem a code for an access token with the two ways mentioned in the DOC, that is the</p>\n<p>1)Request an access token with a client_secret-</p>\n<p><a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-access-token-with-a-client_secret\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-access-token-with-a-client_secret</a></p>\n<p>2)Request an access token with a certificate credential-</p>\n<p><a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-access-token-with-a-certificate-credential\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-access-token-with-a-certificate-credential</a>\ncan you try this , hope this helps.</p>\n"}],"owner":{"account_id":16295817,"reputation":11,"user_id":11768090,"display_name":"fewqfeqfewfqwf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1864,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689254323,"creation_date":1649046327,"question_id":71732015,"body_markdown":"I have followed the guide in microsoft docs and successfully acquire the authorization code when I directly put the URL in the browser. But if I start the Spring application and do the same action, it will say: [invalid_request]. So I have done the following: I get the authorization code before start the Spring application and then run the Spring application with the following code:\r\n\r\n    final AuthorizationCodeCredential authCodeCredential = new AuthorizationCodeCredentialBuilder()\r\n                .clientId(&quot;1234&quot;)\r\n                .clientSecret(&quot;4567&quot;) //required for web apps, do not set for native apps\r\n                .authorizationCode(&quot;abcd12345&quot;)\r\n                .redirectUrl(&quot;http://localhost:8080/login/oauth2/code/azure&quot;)\r\n                .build();\r\n\r\n    //        List&lt;String&gt; scopes = Arrays.asList(&quot;https://graph.microsoft.com/mail.read&quot;.split(&quot;,&quot;));\r\n            List&lt;String&gt; scopes = Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;.split(&quot;,&quot;));\r\n\r\n        final TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes, authCodeCredential);\r\n\r\n        final GraphServiceClient graphClient =\r\n                GraphServiceClient\r\n                        .builder()\r\n                        .authenticationProvider(tokenCredentialAuthProvider)\r\n                        .buildClient();\r\n\r\n\r\n        Message message = new Message();\r\n        message.subject = &quot;Meet for lunch?&quot;;\r\n        ItemBody body = new ItemBody();\r\n        body.contentType = BodyType.TEXT;\r\n        body.content = &quot;The new cafeteria is open.&quot;;\r\n        message.body = body;\r\n        LinkedList&lt;Recipient&gt; toRecipientsList = new LinkedList&lt;Recipient&gt;();\r\n        Recipient toRecipients = new Recipient();\r\n        EmailAddress emailAddress = new EmailAddress();\r\n        emailAddress.address = &quot;opoiuiotqq@gmail.com&quot;;\r\n        toRecipients.emailAddress = emailAddress;\r\n        toRecipientsList.add(toRecipients);\r\n        message.toRecipients = toRecipientsList;\r\n\r\n        boolean saveToSentItems = false;\r\n\r\n        graphClient.me()\r\n                .sendMail(UserSendMailParameterSet\r\n                        .newBuilder()\r\n                        .withMessage(message)\r\n                        .withSaveToSentItems(saveToSentItems)\r\n                        .build())\r\n                .buildRequest()\r\n                .post();\r\n\r\nIt just pops an error message: ERROR com.azure.identity.AuthorizationCodeCredential - Azure Identity =&gt; ERROR in getToken() call for scopes [https://graph.microsoft.com/.default]: Failed to acquire token with authorization code. \r\n\r\nSo I think is it related to the problem that I mentioned at the begining. Here is the guide:\r\nhttps://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-authorization-code","title":"Failed to acquire token with authorization code using Microsoft graph API with Java Spring","body":"<p>I have followed the guide in microsoft docs and successfully acquire the authorization code when I directly put the URL in the browser. But if I start the Spring application and do the same action, it will say: [invalid_request]. So I have done the following: I get the authorization code before start the Spring application and then run the Spring application with the following code:</p>\n<pre><code>final AuthorizationCodeCredential authCodeCredential = new AuthorizationCodeCredentialBuilder()\n            .clientId(&quot;1234&quot;)\n            .clientSecret(&quot;4567&quot;) //required for web apps, do not set for native apps\n            .authorizationCode(&quot;abcd12345&quot;)\n            .redirectUrl(&quot;http://localhost:8080/login/oauth2/code/azure&quot;)\n            .build();\n\n//        List&lt;String&gt; scopes = Arrays.asList(&quot;https://graph.microsoft.com/mail.read&quot;.split(&quot;,&quot;));\n        List&lt;String&gt; scopes = Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;.split(&quot;,&quot;));\n\n    final TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes, authCodeCredential);\n\n    final GraphServiceClient graphClient =\n            GraphServiceClient\n                    .builder()\n                    .authenticationProvider(tokenCredentialAuthProvider)\n                    .buildClient();\n\n\n    Message message = new Message();\n    message.subject = &quot;Meet for lunch?&quot;;\n    ItemBody body = new ItemBody();\n    body.contentType = BodyType.TEXT;\n    body.content = &quot;The new cafeteria is open.&quot;;\n    message.body = body;\n    LinkedList&lt;Recipient&gt; toRecipientsList = new LinkedList&lt;Recipient&gt;();\n    Recipient toRecipients = new Recipient();\n    EmailAddress emailAddress = new EmailAddress();\n    emailAddress.address = &quot;opoiuiotqq@gmail.com&quot;;\n    toRecipients.emailAddress = emailAddress;\n    toRecipientsList.add(toRecipients);\n    message.toRecipients = toRecipientsList;\n\n    boolean saveToSentItems = false;\n\n    graphClient.me()\n            .sendMail(UserSendMailParameterSet\n                    .newBuilder()\n                    .withMessage(message)\n                    .withSaveToSentItems(saveToSentItems)\n                    .build())\n            .buildRequest()\n            .post();\n</code></pre>\n<p>It just pops an error message: ERROR com.azure.identity.AuthorizationCodeCredential - Azure Identity =&gt; ERROR in getToken() call for scopes [https://graph.microsoft.com/.default]: Failed to acquire token with authorization code.</p>\n<p>So I think is it related to the problem that I mentioned at the begining. Here is the guide:\n<a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-authorization-code\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-authorization-code</a></p>\n"},{"tags":["java","android","azure","android-studio","azure-mobile-services"],"answers":[{"tags":[],"owner":{"account_id":6439164,"reputation":23644,"user_id":4989676,"display_name":"Peter Pan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442462154,"creation_date":1442462154,"answer_id":32622336,"question_id":32619066,"body_markdown":"Per my experience, the exception &quot;NoClassDefFoundError&quot; means your project missing a dependency library jar file. At here, your project miss gson.jar file.\r\n\r\nYou can download a zip file &quot;azuresdk-android-2.0.3.zip&quot; from the section &quot;Mobile&quot; -&gt; &quot;Android install&quot; of the page https://azure.microsoft.com/en-us/downloads/. After decompress the zip file to a directory, you can find the &quot;gson-2.2.2.jar&quot; file and other dependency jar files in the directory &quot;azuresdk-android-2.0.3/mobileservices&quot;.\r\n\r\nThen you can import these jar library files into directory &quot;libs&quot; of your project to resolve the issue. Please refer to the SO thread https://stackoverflow.com/questions/16779959/android-studio-importing-external-library-jar to learn how to import external library/jar.\r\n\r\nBest Regards. ","title":"Connecting Azure to Android Studios","body":"<p>Per my experience, the exception \"NoClassDefFoundError\" means your project missing a dependency library jar file. At here, your project miss gson.jar file.</p>\n\n<p>You can download a zip file \"azuresdk-android-2.0.3.zip\" from the section \"Mobile\" -> \"Android install\" of the page <a href=\"https://azure.microsoft.com/en-us/downloads/\" rel=\"nofollow noreferrer\">https://azure.microsoft.com/en-us/downloads/</a>. After decompress the zip file to a directory, you can find the \"gson-2.2.2.jar\" file and other dependency jar files in the directory \"azuresdk-android-2.0.3/mobileservices\".</p>\n\n<p>Then you can import these jar library files into directory \"libs\" of your project to resolve the issue. Please refer to the SO thread <a href=\"https://stackoverflow.com/questions/16779959/android-studio-importing-external-library-jar\">Android Studio - Importing external Library/Jar</a> to learn how to import external library/jar.</p>\n\n<p>Best Regards. </p>\n"},{"tags":[],"owner":{"account_id":6919785,"reputation":203,"user_id":5312823,"accept_rate":45,"display_name":"semiColon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1442565542,"creation_date":1442565542,"answer_id":32647533,"question_id":32619066,"body_markdown":"I have solved the problem by updating the .jar file. Although the Microsoft documentation told me to get:\r\n\r\n    &#39;gson:2.2.2&#39;\r\n\r\nThis version does not work. Instead I downloaded a newer version:\r\n\r\n    &#39;gson:2.3.1&#39;\r\n\r\nThis .jar file solves the issue","title":"Connecting Azure to Android Studios","body":"<p>I have solved the problem by updating the .jar file. Although the Microsoft documentation told me to get:</p>\n\n<pre><code>'gson:2.2.2'\n</code></pre>\n\n<p>This version does not work. Instead I downloaded a newer version:</p>\n\n<pre><code>'gson:2.3.1'\n</code></pre>\n\n<p>This .jar file solves the issue</p>\n"}],"owner":{"account_id":6919785,"reputation":203,"user_id":5312823,"accept_rate":45,"display_name":"semiColon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2566,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32647533,"answer_count":2,"score":0,"last_activity_date":1689254277,"creation_date":1442438922,"question_id":32619066,"body_markdown":"I am trying to connect Azure to Android Studios. I have followed the tutorial on Azure and created a mobile service. It then gave me some code to add to my app so that they are connected. However, the code is throwing an exception which I cannot figure out. I have searched the internet from head to toe and cannot find an answer. I think it has something to do with the dependencies or the way the library was imported (which was by pasting a jar file into the libs folder and adding a dependency).\r\n\r\nThe code throwing causing the exception (provided by Azure):\r\n\r\n    try {\r\n            mClient = new MobileServiceClient(\r\n                    &quot;https://atm.azure-mobile.net/&quot;,\r\n                    &quot;JWjetFMUVaAXzHmqDVqhkkRhTGGjeW70&quot;,\r\n                    this\r\n            );\r\n            Item item = new Item();\r\n            item.Text = &quot;Awesome item&quot;;\r\n            mClient.getTable(Item.class).insert(item, new TableOperationCallback&lt;Item&gt;() {\r\n                public void onCompleted(Item entity, Exception exception, ServiceFilterResponse response) {\r\n                    if (exception == null) {\r\n                        // Insert succeeded\r\n                        Toast.makeText(context, &quot;WOOHOO&quot;, Toast.LENGTH_LONG).show();\r\n                    } else {\r\n                        // Insert failed\r\n                        Toast.makeText(context, &quot;FAILED&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        catch(MalformedURLException d) {\r\n        }\r\n\r\n\r\nThe exception:\r\n\r\n    java.lang.NoClassDefFoundError: com.google.gson.GsonBuilder\r\n            at com.microsoft.windowsazure.mobileservices.MobileServiceClient.createMobileServiceGsonBuilder(MobileServiceClient.java:192)\r\n            at com.microsoft.windowsazure.mobileservices.MobileServiceClient.&lt;init&gt;(MobileServiceClient.java:179)\r\n            at com.microsoft.windowsazure.mobileservices.MobileServiceClient.&lt;init&gt;(MobileServiceClient.java:158)\r\n            at com.atmlocator.hooper.kenneth.atmlocator.HomeActivity.onCreate(HomeActivity.java:218)\r\n            at android.app.Activity.performCreate(Activity.java:5047)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1094)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2051)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2112)\r\n            at android.app.ActivityThread.access$700(ActivityThread.java:139)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1223)\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)\r\n            at android.os.Looper.loop(Looper.java:137)\r\n            at android.app.ActivityThread.main(ActivityThread.java:4917)\r\n            at java.lang.reflect.Method.invokeNative(Native Method)\r\n            at java.lang.reflect.Method.invoke(Method.java:511)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:997)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:764)\r\n            at dalvik.system.NativeStart.main(Native Method)\r\n    \r\n\r\n","title":"Connecting Azure to Android Studios","body":"<p>I am trying to connect Azure to Android Studios. I have followed the tutorial on Azure and created a mobile service. It then gave me some code to add to my app so that they are connected. However, the code is throwing an exception which I cannot figure out. I have searched the internet from head to toe and cannot find an answer. I think it has something to do with the dependencies or the way the library was imported (which was by pasting a jar file into the libs folder and adding a dependency).</p>\n\n<p>The code throwing causing the exception (provided by Azure):</p>\n\n<pre><code>try {\n        mClient = new MobileServiceClient(\n                \"https://atm.azure-mobile.net/\",\n                \"JWjetFMUVaAXzHmqDVqhkkRhTGGjeW70\",\n                this\n        );\n        Item item = new Item();\n        item.Text = \"Awesome item\";\n        mClient.getTable(Item.class).insert(item, new TableOperationCallback&lt;Item&gt;() {\n            public void onCompleted(Item entity, Exception exception, ServiceFilterResponse response) {\n                if (exception == null) {\n                    // Insert succeeded\n                    Toast.makeText(context, \"WOOHOO\", Toast.LENGTH_LONG).show();\n                } else {\n                    // Insert failed\n                    Toast.makeText(context, \"FAILED\", Toast.LENGTH_LONG).show();\n                }\n            }\n        });\n    }\n    catch(MalformedURLException d) {\n    }\n</code></pre>\n\n<p>The exception:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: com.google.gson.GsonBuilder\n        at com.microsoft.windowsazure.mobileservices.MobileServiceClient.createMobileServiceGsonBuilder(MobileServiceClient.java:192)\n        at com.microsoft.windowsazure.mobileservices.MobileServiceClient.&lt;init&gt;(MobileServiceClient.java:179)\n        at com.microsoft.windowsazure.mobileservices.MobileServiceClient.&lt;init&gt;(MobileServiceClient.java:158)\n        at com.atmlocator.hooper.kenneth.atmlocator.HomeActivity.onCreate(HomeActivity.java:218)\n        at android.app.Activity.performCreate(Activity.java:5047)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1094)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2051)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2112)\n        at android.app.ActivityThread.access$700(ActivityThread.java:139)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1223)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:137)\n        at android.app.ActivityThread.main(ActivityThread.java:4917)\n        at java.lang.reflect.Method.invokeNative(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:511)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:997)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:764)\n        at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1689237409,"post_id":76677315,"comment_id":135185774,"body_markdown":"You shouldn&#39;t care.  `paintComponent` could be called any number of times for any number of reasons.  It&#39;s up to the `RepaintManager` to make the decision of when and what should be repainted.  You just need to respond to it (via the `paintComponent` method).  It&#39;s unlikely that you component is been painted when it&#39;s constructed, as it won&#39;t have been attached to a native peer (or realised on the screen).  It&#39;s more likely that it&#39;s been repainted because it&#39;s been added to a container and/or the container is been laid out (ie the components bounds have changed)","body":"You shouldn&#39;t care.  <code>paintComponent</code> could be called any number of times for any number of reasons.  It&#39;s up to the <code>RepaintManager</code> to make the decision of when and what should be repainted.  You just need to respond to it (via the <code>paintComponent</code> method).  It&#39;s unlikely that you component is been painted when it&#39;s constructed, as it won&#39;t have been attached to a native peer (or realised on the screen).  It&#39;s more likely that it&#39;s been repainted because it&#39;s been added to a container and/or the container is been laid out (ie the components bounds have changed)"},{"owner":{"account_id":25112514,"reputation":47,"user_id":18961975,"display_name":"Alexandru Lolea"},"score":0,"creation_date":1689329961,"post_id":76677315,"comment_id":135201370,"body_markdown":"I understand that it&#39;s not my job to know when paintComponent is called, I was just wondering how is the apple not on (0,0) and if there is any method inside startGame() that triggers it. Thank you for the response!","body":"I understand that it&#39;s not my job to know when paintComponent is called, I was just wondering how is the apple not on (0,0) and if there is any method inside startGame() that triggers it. Thank you for the response!"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1689330141,"post_id":76677315,"comment_id":135201403,"body_markdown":"*&quot;I was just wondering how is the apple not on (0,0)&quot;* - Because `newApple` randomise the position, which is called by `startGame` which is called by (I assume) the constructor - remember there is a disconnect between creating a component and adding it to a container and the time the component gets painted - but I&#39;m making a lot of guesses as you&#39;ve provided an out-of-context code snippet which I&#39;m assuming is all related","body":"<i>&quot;I was just wondering how is the apple not on (0,0)&quot;</i> - Because <code>newApple</code> randomise the position, which is called by <code>startGame</code> which is called by (I assume) the constructor - remember there is a disconnect between creating a component and adding it to a container and the time the component gets painted - but I&#39;m making a lot of guesses as you&#39;ve provided an out-of-context code snippet which I&#39;m assuming is all related"}],"owner":{"account_id":25112514,"reputation":47,"user_id":18961975,"display_name":"Alexandru Lolea"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689254021,"creation_date":1689236408,"question_id":76677315,"body_markdown":"I am currently working on a Snake game, programmed in Java. For some reason, the `paintComponent` method is called twice and I don&#39;t understand why that is the case.\r\n\r\n    GamePanelMultiplayer() {\r\n        random = new Random();\r\n        this.setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\r\n        this.setBackground(Color.black);\r\n        this.setFocusable(true);\r\n        this.addKeyListener(new MyKeyAdapter());\r\n        startGame();\r\n    }\r\n\r\n    public void startGame(){\r\n        newApple();\r\n        running = true;\r\n        timer = new Timer(DELAY, this);\r\n        timer.start();\r\n    }\r\n\r\n    // sets the coordinates for the new apple.\r\n    public void newApple(){\r\n        appleX = random.nextInt(SCREEN_WIDTH/UNIT_SIZE)*UNIT_SIZE;\r\n        appleY = random.nextInt(SCREEN_HEIGHT/UNIT_SIZE)*UNIT_SIZE;\r\n    }\r\n\r\n    public void paintComponent(Graphics g){\r\n        super.paintComponent(g);\r\n        g.setColor(Color.darkGray);\r\n        draw(g);\r\n    }\r\n\r\n    public void draw(Graphics g){\r\n        System.out.println(&quot;Draw has been called&quot;);\r\n        if(running) {\r\n            //  drawing the matrix to help visualize the game area\r\n            for(int i=0; i&lt;=SCREEN_HEIGHT/UNIT_SIZE; i++) {\r\n                g.drawLine(i*UNIT_SIZE, 0, i*UNIT_SIZE, SCREEN_HEIGHT);\r\n                g.drawLine(0, i*UNIT_SIZE, SCREEN_WIDTH, i*UNIT_SIZE);\r\n            }\r\n\r\n            //  drawing the apple\r\n            g.setColor(Color.red);\r\n            g.fillOval(appleX, appleY, UNIT_SIZE, UNIT_SIZE);\r\n        }\r\n    }\r\n\r\nI know that the first call to `paintComponent` is triggered by the background change in the constructor function. The second call is made somewhere inside `startGame()`, since after running the program, the apple coordinates are updated, meaning that `paintComponent` is called sometime after `newApple()`.\r\n\r\nThank you for taking some time to help a fellow programmer out ^^!\r\n","title":"&#39;paintComponent()&#39; method is triggered twice","body":"<p>I am currently working on a Snake game, programmed in Java. For some reason, the <code>paintComponent</code> method is called twice and I don't understand why that is the case.</p>\n<pre><code>GamePanelMultiplayer() {\n    random = new Random();\n    this.setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\n    this.setBackground(Color.black);\n    this.setFocusable(true);\n    this.addKeyListener(new MyKeyAdapter());\n    startGame();\n}\n\npublic void startGame(){\n    newApple();\n    running = true;\n    timer = new Timer(DELAY, this);\n    timer.start();\n}\n\n// sets the coordinates for the new apple.\npublic void newApple(){\n    appleX = random.nextInt(SCREEN_WIDTH/UNIT_SIZE)*UNIT_SIZE;\n    appleY = random.nextInt(SCREEN_HEIGHT/UNIT_SIZE)*UNIT_SIZE;\n}\n\npublic void paintComponent(Graphics g){\n    super.paintComponent(g);\n    g.setColor(Color.darkGray);\n    draw(g);\n}\n\npublic void draw(Graphics g){\n    System.out.println(&quot;Draw has been called&quot;);\n    if(running) {\n        //  drawing the matrix to help visualize the game area\n        for(int i=0; i&lt;=SCREEN_HEIGHT/UNIT_SIZE; i++) {\n            g.drawLine(i*UNIT_SIZE, 0, i*UNIT_SIZE, SCREEN_HEIGHT);\n            g.drawLine(0, i*UNIT_SIZE, SCREEN_WIDTH, i*UNIT_SIZE);\n        }\n\n        //  drawing the apple\n        g.setColor(Color.red);\n        g.fillOval(appleX, appleY, UNIT_SIZE, UNIT_SIZE);\n    }\n}\n</code></pre>\n<p>I know that the first call to <code>paintComponent</code> is triggered by the background change in the constructor function. The second call is made somewhere inside <code>startGame()</code>, since after running the program, the apple coordinates are updated, meaning that <code>paintComponent</code> is called sometime after <code>newApple()</code>.</p>\n<p>Thank you for taking some time to help a fellow programmer out ^^!</p>\n"},{"tags":["java","rest","spring-mvc","spring-boot","json-schema-validator"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1453132279,"post_id":34858709,"comment_id":57456840,"body_markdown":"AFAIK the only thing that can do a json schema validation is the project: https://github.com/fge/json-schema-validator which is now looking for a new maintainer. Take a look at it.","body":"AFAIK the only thing that can do a json schema validation is the project: <a href=\"https://github.com/fge/json-schema-validator\" rel=\"nofollow noreferrer\">github.com/fge/json-schema-validator</a> which is now looking for a new maintainer. Take a look at it."},{"owner":{"account_id":92159,"reputation":116,"user_id":252690,"display_name":"user252690"},"score":0,"creation_date":1459435462,"post_id":34858709,"comment_id":60295155,"body_markdown":"see also http://bolerio.github.io/mjson/","body":"see also <a href=\"http://bolerio.github.io/mjson/\" rel=\"nofollow noreferrer\">bolerio.github.io/mjson</a>"}],"answers":[{"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1646678328,"creation_date":1453148247,"answer_id":34863335,"question_id":34858709,"body_markdown":"If you take a look at [JSON schema site][1], there are only two libraries for validation in Java.\r\n\r\n1. The one that Jorge Campos suggested is mature, but looking for new maintainer: https://github.com/fge/json-schema-validator\r\n2. Second one is relatively new: http://github.com/everit-org/json-schema\r\n\r\nI was recently in situation where I had to choose one or the other and I picked first option. It is being used also by [Rest Assured][2] library under the hood.\r\n\r\n\r\n  [1]: http://json-schema.org/implementations.html\r\n  [2]: https://github.com/jayway/rest-assured","title":"Json schema validation in Spring REST APIs","body":"<p>If you take a look at <a href=\"http://json-schema.org/implementations.html\" rel=\"nofollow noreferrer\">JSON schema site</a>, there are only two libraries for validation in Java.</p>\n<ol>\n<li>The one that Jorge Campos suggested is mature, but looking for new maintainer: <a href=\"https://github.com/fge/json-schema-validator\" rel=\"nofollow noreferrer\">https://github.com/fge/json-schema-validator</a></li>\n<li>Second one is relatively new: <a href=\"http://github.com/everit-org/json-schema\" rel=\"nofollow noreferrer\">http://github.com/everit-org/json-schema</a></li>\n</ol>\n<p>I was recently in situation where I had to choose one or the other and I picked first option. It is being used also by <a href=\"https://github.com/jayway/rest-assured\" rel=\"nofollow noreferrer\">Rest Assured</a> library under the hood.</p>\n"},{"tags":[],"owner":{"account_id":5545729,"reputation":39,"user_id":4400538,"display_name":"Ankush Puri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562634158,"creation_date":1562634158,"answer_id":56944146,"question_id":34858709,"body_markdown":"You can also look at Rest Assured Json Schema validator\r\n\r\nhttps://www.baeldung.com/rest-assured-json-schema","title":"Json schema validation in Spring REST APIs","body":"<p>You can also look at Rest Assured Json Schema validator</p>\n\n<p><a href=\"https://www.baeldung.com/rest-assured-json-schema\" rel=\"nofollow noreferrer\">https://www.baeldung.com/rest-assured-json-schema</a></p>\n"},{"tags":[],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689253943,"creation_date":1689253943,"answer_id":76679760,"question_id":34858709,"body_markdown":"As of 2023, the following JSON schema validator library seems to be a good fit:\r\nhttps://github.com/networknt/json-schema-validator\r\n\r\n&gt; This is a Java implementation of the JSON Schema Core Draft v4, v6,\r\n&gt; v7, v2019-09 and v2020-12(partial) specification for JSON schema\r\n&gt; validation. In addition, it also works for OpenAPI 3.0\r\n&gt; request/response validation with some configuration flags.\r\n\r\nAnd there is one more validator library which looks promising but YMMV:\r\nhttps://github.com/openapi-processor/openapi-parser","title":"Json schema validation in Spring REST APIs","body":"<p>As of 2023, the following JSON schema validator library seems to be a good fit:\n<a href=\"https://github.com/networknt/json-schema-validator\" rel=\"nofollow noreferrer\">https://github.com/networknt/json-schema-validator</a></p>\n<blockquote>\n<p>This is a Java implementation of the JSON Schema Core Draft v4, v6,\nv7, v2019-09 and v2020-12(partial) specification for JSON schema\nvalidation. In addition, it also works for OpenAPI 3.0\nrequest/response validation with some configuration flags.</p>\n</blockquote>\n<p>And there is one more validator library which looks promising but YMMV:\n<a href=\"https://github.com/openapi-processor/openapi-parser\" rel=\"nofollow noreferrer\">https://github.com/openapi-processor/openapi-parser</a></p>\n"}],"owner":{"account_id":3604927,"reputation":217,"user_id":3007325,"accept_rate":75,"display_name":"Alec"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35211,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":34863335,"answer_count":3,"score":15,"last_activity_date":1689253943,"creation_date":1453131995,"question_id":34858709,"body_markdown":"I’m building a REST API using Spring Boot and  [jackson-module-jsonSchema] (https://github.com/FasterXML/jackson-module-jsonSchema) for JSON schema generation.\r\nI’m looking the best  way to validate  the request JSON payload arriving to my APIs endpoints (Spring controllers)  against the defined JSON schema defined for the exposed resource, validation includes check required fields , format , min and max values, etc.. everything we can validate against the schema.\r\n\r\nSeems jackson json schema module is useful for schema generation but not for validation, am I right? \r\nAny suggestion on how to achieve what I’m trying to do? \r\n","title":"Json schema validation in Spring REST APIs","body":"<p>I’m building a REST API using Spring Boot and  [jackson-module-jsonSchema] (<a href=\"https://github.com/FasterXML/jackson-module-jsonSchema\" rel=\"noreferrer\">https://github.com/FasterXML/jackson-module-jsonSchema</a>) for JSON schema generation.\nI’m looking the best  way to validate  the request JSON payload arriving to my APIs endpoints (Spring controllers)  against the defined JSON schema defined for the exposed resource, validation includes check required fields , format , min and max values, etc.. everything we can validate against the schema.</p>\n\n<p>Seems jackson json schema module is useful for schema generation but not for validation, am I right? \nAny suggestion on how to achieve what I’m trying to do? </p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1549455402,"post_id":54553196,"comment_id":95906629,"body_markdown":"Why do you put an absolute path on -Dfile, but not on -DpomFile?","body":"Why do you put an absolute path on -Dfile, but not on -DpomFile?"},{"owner":{"account_id":1574741,"reputation":1753,"user_id":1461517,"accept_rate":47,"display_name":"Steerpike"},"score":0,"creation_date":1549459013,"post_id":54553196,"comment_id":95908840,"body_markdown":"thank you - just a typo - now corrected","body":"thank you - just a typo - now corrected"},{"owner":{"account_id":1076737,"reputation":622,"user_id":1074714,"display_name":"nsawaya"},"score":0,"creation_date":1549459563,"post_id":54553196,"comment_id":95909156,"body_markdown":"isn&#39;t a backslash missing after resources?","body":"isn&#39;t a backslash missing after resources?"},{"owner":{"account_id":1574741,"reputation":1753,"user_id":1461517,"accept_rate":47,"display_name":"Steerpike"},"score":0,"creation_date":1549459630,"post_id":54553196,"comment_id":95909204,"body_markdown":"added - thank you - again, a typo but the issue persists","body":"added - thank you - again, a typo but the issue persists"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1549459795,"post_id":54553196,"comment_id":95909294,"body_markdown":"Are you sure the pom file has an `.xml` extension?","body":"Are you sure the pom file has an <code>.xml</code> extension?"},{"owner":{"account_id":1574741,"reputation":1753,"user_id":1461517,"accept_rate":47,"display_name":"Steerpike"},"score":0,"creation_date":1549461132,"post_id":54553196,"comment_id":95910100,"body_markdown":"@Henry good spot! but sadly, still no joy","body":"@Henry good spot! but sadly, still no joy"}],"answers":[{"tags":[],"owner":{"account_id":11424364,"reputation":539,"user_id":8374909,"display_name":"Clover"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549456049,"creation_date":1549456049,"answer_id":54553657,"question_id":54553196,"body_markdown":"Try removing double quotes and as @Meier said, add absolute path\r\n\r\nSample:\r\n\r\n    mvn install:install-file -Dfile=C:/webApp/web-core-app/resources/web-core-3.1.17-SNAPSHOT.jar -DpomFile=path/to/your/xml/web-core-3.1.17-SNAPSHOT.pom.xml","title":"Manually install a jar in my local Maven repo","body":"<p>Try removing double quotes and as @Meier said, add absolute path</p>\n\n<p>Sample:</p>\n\n<pre><code>mvn install:install-file -Dfile=C:/webApp/web-core-app/resources/web-core-3.1.17-SNAPSHOT.jar -DpomFile=path/to/your/xml/web-core-3.1.17-SNAPSHOT.pom.xml\n</code></pre>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1689253794,"creation_date":1549459622,"answer_id":54554761,"question_id":54553196,"body_markdown":"It seems likely that you are not able to consistently enter the long path to the files in question,\r\nsince you appear to have done it wrong twice already in the text of your question.\r\n\r\nTry this:\r\n\r\n  1. make a temporary directory somewhere on your local disk.  Lets call it c:\\tmp\r\n  1. Copy the jar file and the pom file to the c:\\tmp directory.\r\n  1. Run the command to load it into Maven from the c:\\tmp directory.\r\n\r\nHere are some example commands (long commands wrapped to make reading easier):\r\n\r\n    c:\r\n    cd \\tmp\r\n    mvn install:install-file -Dfile=web-core-3.1.17-SNAPSHOT.jar\r\n    -DpomFile=web-core-3.1.17-SNAPSHOT.pom.xml\r\n\r\nHere is a [Link To Some Helpful Maven Info][1]\r\n\r\nHere is a nutty suggestion:\r\nIf the web-core*.jar file was built by you using maven,\r\nthen in the web-core*.jar project directory,\r\nrun the following command to have Maven install it in the local repo:\r\n\r\n    mvn install\r\n\r\n[1]:https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html","title":"Manually install a jar in my local Maven repo","body":"<p>It seems likely that you are not able to consistently enter the long path to the files in question,\nsince you appear to have done it wrong twice already in the text of your question.</p>\n<p>Try this:</p>\n<ol>\n<li>make a temporary directory somewhere on your local disk.  Lets call it c:\\tmp</li>\n<li>Copy the jar file and the pom file to the c:\\tmp directory.</li>\n<li>Run the command to load it into Maven from the c:\\tmp directory.</li>\n</ol>\n<p>Here are some example commands (long commands wrapped to make reading easier):</p>\n<pre><code>c:\ncd \\tmp\nmvn install:install-file -Dfile=web-core-3.1.17-SNAPSHOT.jar\n-DpomFile=web-core-3.1.17-SNAPSHOT.pom.xml\n</code></pre>\n<p>Here is a <a href=\"https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\" rel=\"nofollow noreferrer\">Link To Some Helpful Maven Info</a></p>\n<p>Here is a nutty suggestion:\nIf the web-core*.jar file was built by you using maven,\nthen in the web-core*.jar project directory,\nrun the following command to have Maven install it in the local repo:</p>\n<pre><code>mvn install\n</code></pre>\n"}],"owner":{"account_id":1574741,"reputation":1753,"user_id":1461517,"accept_rate":47,"display_name":"Steerpike"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54554761,"answer_count":2,"score":1,"last_activity_date":1689253794,"creation_date":1549454485,"question_id":54553196,"body_markdown":"I have a project which has a dependency on a locally stored .jar file.\r\nThis .jar file contains core dependencies for the module I need to work on.\r\nThe jar has it&#39;s own pom file. \r\n\r\nI&#39;m using Windows and IntelliJ. \r\n\r\nI&#39;m trying to import the jar into my local .m2 repo as follows:\r\n\r\n    mvn install:install-file\r\n    &quot;-Dfile=C:/webApp/web-core-app/resources/web-core-3.1.17-SNAPSHOT.jar&quot;\r\n    &quot;-DpomFile=C:/webApp/web-core-app/resources/web-core-3.1.17-SNAPSHOT.pom&quot;\r\n\r\nI keep getting the following error:\r\n\r\n&gt; &quot;The system cannot find the file specified&quot;\r\n\r\nThis is probably an obvious one but I&#39;ve tried all sorts of options.\r\nCan anyone give me a nudge?","title":"Manually install a jar in my local Maven repo","body":"<p>I have a project which has a dependency on a locally stored .jar file.\nThis .jar file contains core dependencies for the module I need to work on.\nThe jar has it's own pom file. </p>\n\n<p>I'm using Windows and IntelliJ. </p>\n\n<p>I'm trying to import the jar into my local .m2 repo as follows:</p>\n\n<pre><code>mvn install:install-file\n\"-Dfile=C:/webApp/web-core-app/resources/web-core-3.1.17-SNAPSHOT.jar\"\n\"-DpomFile=C:/webApp/web-core-app/resources/web-core-3.1.17-SNAPSHOT.pom\"\n</code></pre>\n\n<p>I keep getting the following error:</p>\n\n<blockquote>\n  <p>\"The system cannot find the file specified\"</p>\n</blockquote>\n\n<p>This is probably an obvious one but I've tried all sorts of options.\nCan anyone give me a nudge?</p>\n"},{"tags":["java","selenium-webdriver","xpath","css-selectors","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689197889,"creation_date":1689197356,"answer_id":76674567,"question_id":76674539,"body_markdown":"To click on the element &lt;kbd&gt;Accept All Cookies&lt;/kbd&gt; you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_elementToBeClickable()_](https://stackoverflow.com/a/63301869/7429447) and you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- Using _cssSelector_:\r\n\r\n\t  driver.get(&quot;https://www.sugarcrm.com/au/request-demo/&quot;);\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;button#CybotCookiebotDialogBodyLevelButtonLevelOptinAllowAll&quot;))).click();\r\n           \t\r\n- Using _xpath_:\r\n\r\n\t  driver.get(&quot;https://www.sugarcrm.com/au/request-demo/&quot;);\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[@id=&#39;CybotCookiebotDialogBodyLevelButtonLevelOptinAllowAll&#39;]&quot;))).click();\r\n\r\n- Browser snapshot:\r\n\r\n![sugarcrm.com](https://i.stack.imgur.com/0xF78.png)","title":"Popup consent obstructing my selenium script from completing the test","body":"<p>To click on the element <kbd>Accept All Cookies</kbd> you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em>elementToBeClickable()</em></a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>driver.get(&quot;https://www.sugarcrm.com/au/request-demo/&quot;);\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;button#CybotCookiebotDialogBodyLevelButtonLevelOptinAllowAll&quot;))).click();\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>driver.get(&quot;https://www.sugarcrm.com/au/request-demo/&quot;);\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[@id='CybotCookiebotDialogBodyLevelButtonLevelOptinAllowAll']&quot;))).click();\n</code></pre>\n</li>\n<li><p>Browser snapshot:</p>\n</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/0xF78.png\" alt=\"sugarcrm.com\" /></p>\n"}],"owner":{"account_id":20871669,"reputation":57,"user_id":15331462,"display_name":"taerese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76674567,"answer_count":1,"score":3,"last_activity_date":1689253789,"creation_date":1689197006,"question_id":76674539,"body_markdown":"I am a newbie to selenium automation and I am trying to run this test script. Unfortunately, a cookie consent kept popping up which I believe is obstructing my script from completing. How do I perse the condition to accept the cookie in my script.\r\n\r\n```\r\nFirefoxDriverManager.getInstance().setup();\r\nFirefoxDriver driver = new FirefoxDriver();\r\ndriver.get(&quot;https://www.sugarcrm.com/au/request-demo/&quot;);\r\ndriver.manage().window().maximize();\r\nWebElement ddown = driver.findElement(By.name(&quot;firstname&quot;));\r\nSelect select = new Select(ddown); \r\nselect.selectByValue(&quot;level1&quot;);\r\nselect.selectByVisibleText(&quot;101 - 250 employees&quot;);\r\nselect.selectByIndex(5);\r\n```\r\nI do not know how to instruct the script to accept or deny the cookie consent.","title":"Popup consent obstructing my selenium script from completing the test","body":"<p>I am a newbie to selenium automation and I am trying to run this test script. Unfortunately, a cookie consent kept popping up which I believe is obstructing my script from completing. How do I perse the condition to accept the cookie in my script.</p>\n<pre><code>FirefoxDriverManager.getInstance().setup();\nFirefoxDriver driver = new FirefoxDriver();\ndriver.get(&quot;https://www.sugarcrm.com/au/request-demo/&quot;);\ndriver.manage().window().maximize();\nWebElement ddown = driver.findElement(By.name(&quot;firstname&quot;));\nSelect select = new Select(ddown); \nselect.selectByValue(&quot;level1&quot;);\nselect.selectByVisibleText(&quot;101 - 250 employees&quot;);\nselect.selectByIndex(5);\n</code></pre>\n<p>I do not know how to instruct the script to accept or deny the cookie consent.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"score":0,"creation_date":1689318941,"post_id":76679726,"comment_id":135199288,"body_markdown":"In your case the type is always mandatory in the Json, otherwise a serialize - deserialize will not work even with the concrete sub classes. If you want to avoid the type prop, you could assign it to the interface or abstract class. Otherwise you could use a custom Deserializer. If you need help on that, let me know","body":"In your case the type is always mandatory in the Json, otherwise a serialize - deserialize will not work even with the concrete sub classes. If you want to avoid the type prop, you could assign it to the interface or abstract class. Otherwise you could use a custom Deserializer. If you need help on that, let me know"}],"owner":{"account_id":27980139,"reputation":23,"user_id":21368032,"display_name":"Ymrik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689253656,"creation_date":1689253656,"question_id":76679726,"body_markdown":"I ran into a problem with JSON Inheritance. I have an interface and several implementations. I wanted to implement a mechanism in which Jackson would determine which class to deserialize JSON to, based on the field that I pass in this JSON file. For these purposes, I used @JsonTypeInfo and @JsonSubTypes. \r\n\r\nHowever, having implemented this mechanism, I found that now when trying to deserialize any child class, the ObjectMapper requires specifying the field &quot;type&quot; in JSON file, even when a child class is specified.\r\n\r\nIt turns out that using Json inheritance breaks the usual mechanism of deserialization of JSON files, because now I can&#39;t deserialize proper JSON in the usual way. And I wouldn&#39;t want that at all.\r\n\r\nI would like the field &quot;type&quot; to be required only when I try to deserialize to the interface.\r\n\r\nMaybe you know any additional configuration that can help me solve this problem? \r\n\r\nHope this example will be useful.\r\n\r\n```\r\n@JsonTypeInfo( use = JsonTypeInfo.Id.NAME,  include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\r\n@JsonSubTypes({@JsonSubTypes.Type(value = Dog.class, name = &quot;dog&quot;), @JsonSubTypes.Type(value = Cat.class, name = &quot;cat&quot;)})\r\npublic abstract class Animal {\r\n    private String sound;\r\n\r\n    public String getSound() {\r\n        return sound;\r\n    }\r\n\r\n    public void setSound(String sound) {\r\n        this.sound = sound;\r\n    }\r\n}\r\n\r\npublic class Dog extends Animal {\r\n}\r\n\r\npublic class Cat extends Animal {\r\n}\r\n\r\npublic static void main(String[] args) throws IOException {\r\n        Animal animal = new ObjectMapper().readValue(&quot;{ \\&quot;type\\&quot;: \\&quot;cat\\&quot;, \\&quot;sound\\&quot;: \\&quot;mew\\&quot; }&quot;, Animal.class); // everything ok\r\n        System.out.println(animal.getSound());\r\n\r\n        Cat cat = new ObjectMapper().readValue(&quot;{ \\&quot;sound\\&quot;: \\&quot;mew\\&quot; }&quot;, Cat.class); // exception\r\n        System.out.println(cat.getSound()); \r\n    }\r\n}\r\n```\r\n\r\n\r\nI found that you can set objectMapper.configure(USE_BASE_TYPE_AS_DEFAULT_SIMPLE, true). With this setting, ObjectMapper tries to use a standard deserializer if the type field is not specified. But I would like to know if there is a solution that does not require additional configuration of ObjectMapper?","title":"Perform standard deserialization when a child class is specified. JSON Inheritance","body":"<p>I ran into a problem with JSON Inheritance. I have an interface and several implementations. I wanted to implement a mechanism in which Jackson would determine which class to deserialize JSON to, based on the field that I pass in this JSON file. For these purposes, I used @JsonTypeInfo and @JsonSubTypes.</p>\n<p>However, having implemented this mechanism, I found that now when trying to deserialize any child class, the ObjectMapper requires specifying the field &quot;type&quot; in JSON file, even when a child class is specified.</p>\n<p>It turns out that using Json inheritance breaks the usual mechanism of deserialization of JSON files, because now I can't deserialize proper JSON in the usual way. And I wouldn't want that at all.</p>\n<p>I would like the field &quot;type&quot; to be required only when I try to deserialize to the interface.</p>\n<p>Maybe you know any additional configuration that can help me solve this problem?</p>\n<p>Hope this example will be useful.</p>\n<pre><code>@JsonTypeInfo( use = JsonTypeInfo.Id.NAME,  include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\n@JsonSubTypes({@JsonSubTypes.Type(value = Dog.class, name = &quot;dog&quot;), @JsonSubTypes.Type(value = Cat.class, name = &quot;cat&quot;)})\npublic abstract class Animal {\n    private String sound;\n\n    public String getSound() {\n        return sound;\n    }\n\n    public void setSound(String sound) {\n        this.sound = sound;\n    }\n}\n\npublic class Dog extends Animal {\n}\n\npublic class Cat extends Animal {\n}\n\npublic static void main(String[] args) throws IOException {\n        Animal animal = new ObjectMapper().readValue(&quot;{ \\&quot;type\\&quot;: \\&quot;cat\\&quot;, \\&quot;sound\\&quot;: \\&quot;mew\\&quot; }&quot;, Animal.class); // everything ok\n        System.out.println(animal.getSound());\n\n        Cat cat = new ObjectMapper().readValue(&quot;{ \\&quot;sound\\&quot;: \\&quot;mew\\&quot; }&quot;, Cat.class); // exception\n        System.out.println(cat.getSound()); \n    }\n}\n</code></pre>\n<p>I found that you can set objectMapper.configure(USE_BASE_TYPE_AS_DEFAULT_SIMPLE, true). With this setting, ObjectMapper tries to use a standard deserializer if the type field is not specified. But I would like to know if there is a solution that does not require additional configuration of ObjectMapper?</p>\n"},{"tags":["java","sharepoint","sharepoint-online","sharepoint-rest-api"],"comments":[{"owner":{"account_id":12183213,"reputation":599,"user_id":8894067,"display_name":"jimas13"},"score":0,"creation_date":1673034730,"post_id":75031632,"comment_id":132414649,"body_markdown":"How much far down the tree of subsites from the root site of a SharePoint site collection are you trying to create a subsite? How many leaf levels are there ?","body":"How much far down the tree of subsites from the root site of a SharePoint site collection are you trying to create a subsite? How many leaf levels are there ?"},{"owner":{"account_id":23196169,"reputation":13,"user_id":17291771,"display_name":"Feri"},"score":0,"creation_date":1673173526,"post_id":75031632,"comment_id":132434836,"body_markdown":"All sub-sitee are on the top. There are 13000 sub-site now, and we need about 50000 sub-sites.\nhttps://x.sharepoint.com/sites/ROOT/SS-000001,\nhttps://x.sharepoint.com/sites/ROOT/SS-000002,\n...\nhttps://x.sharepoint.com/sites/ROOT/SS-013000, etc","body":"All sub-sitee are on the top. There are 13000 sub-site now, and we need about 50000 sub-sites. <a href=\"https://x.sharepoint.com/sites/ROOT/SS-000001\" rel=\"nofollow noreferrer\">x.sharepoint.com/sites/ROOT/SS-000001</a>, <a href=\"https://x.sharepoint.com/sites/ROOT/SS-000002\" rel=\"nofollow noreferrer\">x.sharepoint.com/sites/ROOT/SS-000002</a>, ... <a href=\"https://x.sharepoint.com/sites/ROOT/SS-013000\" rel=\"nofollow noreferrer\">x.sharepoint.com/sites/ROOT/SS-013000</a>, etc"}],"answers":[{"tags":[],"owner":{"account_id":12183213,"reputation":599,"user_id":8894067,"display_name":"jimas13"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673184759,"creation_date":1673184759,"answer_id":75048147,"question_id":75031632,"body_markdown":"Well, according to the general guidelines that Microsoft has released in terms of SharePoint Architecture, [it is stated pretty clearly in the Service Limits that the Sub-Sites of a Site Collection should not exceed 2000 in amount, and that metric is per Site Collection][1].\r\n\r\nNow given the fact that you have created 13.000 Sub-Sites and wish to have, around 50.000 under one Site Collection at the end, as you mentioned in the comments, your problems of long-waiting REST calls are explained by the reasoning that you might have stretched the Content Database to a point where writing any new lines to it might take a really long time.\r\n\r\nSince the problem is located at the SharePoint level and, in addition, since you do not have access to view the logs, the only next step that you can take is open a ticket from your tenant and have the support take a look at your issues. \r\n\r\nAlthough, there is a good possibility that their reply will be the same, that you have exceed the suggested amount of subsites and should thin it a bit by either splitting the Sub-Sites among different Site Collections or using a different architecture.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/office365/servicedescriptions/sharepoint-online-service-description/sharepoint-online-limits#subsites","title":"Sub-Site creation delays via REST API method","body":"<p>Well, according to the general guidelines that Microsoft has released in terms of SharePoint Architecture, <a href=\"https://learn.microsoft.com/en-us/office365/servicedescriptions/sharepoint-online-service-description/sharepoint-online-limits#subsites\" rel=\"nofollow noreferrer\">it is stated pretty clearly in the Service Limits that the Sub-Sites of a Site Collection should not exceed 2000 in amount, and that metric is per Site Collection</a>.</p>\n<p>Now given the fact that you have created 13.000 Sub-Sites and wish to have, around 50.000 under one Site Collection at the end, as you mentioned in the comments, your problems of long-waiting REST calls are explained by the reasoning that you might have stretched the Content Database to a point where writing any new lines to it might take a really long time.</p>\n<p>Since the problem is located at the SharePoint level and, in addition, since you do not have access to view the logs, the only next step that you can take is open a ticket from your tenant and have the support take a look at your issues.</p>\n<p>Although, there is a good possibility that their reply will be the same, that you have exceed the suggested amount of subsites and should thin it a bit by either splitting the Sub-Sites among different Site Collections or using a different architecture.</p>\n"}],"owner":{"account_id":23196169,"reputation":13,"user_id":17291771,"display_name":"Feri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75048147,"answer_count":1,"score":1,"last_activity_date":1689253290,"creation_date":1673012115,"question_id":75031632,"body_markdown":"I need to create SharePoint Sub-Sites under a Site Collection from a Java application. \r\n\r\nThe first set of Sub-Sites were created in a few seconds per Sub-Site(parent Site). As more and more subpages are being created, the process gets slower and slower. \r\n\r\nNow a sub-site is created in 150 seconds and I cannot figure out why.\r\n\r\n    String json = \r\n    {\r\n      &quot;parameters&quot;: {\r\n        &quot;__metadata&quot;:{\r\n          &quot;type&quot;:&quot;SP.WebInfoCreationInformation&quot;\r\n        }, \r\n        &quot;Title&quot;:&quot;TITLE&quot;,\r\n    \t&quot;Url&quot;:&quot;URL&quot;,\r\n    \t&quot;Description&quot;:&quot;DESCRIPTION&quot;, \r\n    \t&quot;WebTemplate&quot;:&quot;STS&quot;,\r\n    \t&quot;Language&quot;:&quot;1038&quot;,\r\n    \t&quot;UseUniquePermissions&quot;:&quot;false&quot;\r\n        }\r\n    }\r\n    HttpPost post = new HttpPost(&quot;http://x.sharepoint.com/sites/x/_api/web/webinfos/add&quot;);\r\n    post.setHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n    post.setHeader(&quot;Accept&quot;, &quot;application/json;odata=verbose&quot;);\r\n    post.setHeader(&quot;Content-Type&quot;, &quot;application/json;odata=verbose&quot;);\r\n    post.setEntity(new StringEntity(json, &quot;UTF-8&quot;));\r\n    httpclient.execute(post);\r\n\r\nThe last row is processed for a duration of 150 seconds. \r\n\r\nThanks in advance if anyone can help me with what is causing the slowdown.\r\n\r\n","title":"Sub-Site creation delays via REST API method","body":"<p>I need to create SharePoint Sub-Sites under a Site Collection from a Java application.</p>\n<p>The first set of Sub-Sites were created in a few seconds per Sub-Site(parent Site). As more and more subpages are being created, the process gets slower and slower.</p>\n<p>Now a sub-site is created in 150 seconds and I cannot figure out why.</p>\n<pre><code>String json = \n{\n  &quot;parameters&quot;: {\n    &quot;__metadata&quot;:{\n      &quot;type&quot;:&quot;SP.WebInfoCreationInformation&quot;\n    }, \n    &quot;Title&quot;:&quot;TITLE&quot;,\n    &quot;Url&quot;:&quot;URL&quot;,\n    &quot;Description&quot;:&quot;DESCRIPTION&quot;, \n    &quot;WebTemplate&quot;:&quot;STS&quot;,\n    &quot;Language&quot;:&quot;1038&quot;,\n    &quot;UseUniquePermissions&quot;:&quot;false&quot;\n    }\n}\nHttpPost post = new HttpPost(&quot;http://x.sharepoint.com/sites/x/_api/web/webinfos/add&quot;);\npost.setHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\npost.setHeader(&quot;Accept&quot;, &quot;application/json;odata=verbose&quot;);\npost.setHeader(&quot;Content-Type&quot;, &quot;application/json;odata=verbose&quot;);\npost.setEntity(new StringEntity(json, &quot;UTF-8&quot;));\nhttpclient.execute(post);\n</code></pre>\n<p>The last row is processed for a duration of 150 seconds.</p>\n<p>Thanks in advance if anyone can help me with what is causing the slowdown.</p>\n"},{"tags":["java","mysql","spring-boot","jpa","liquibase"],"answers":[{"tags":[],"owner":{"account_id":3345492,"reputation":4077,"user_id":2810730,"display_name":"Oleksii Zghurskyi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1548717961,"creation_date":1548717961,"answer_id":54411756,"question_id":54407376,"body_markdown":"There are 2 different problems [in the repo][1]:\r\n\r\n 1. Wrong location of application.yml. Move it from root to\r\n    src/main/resources \r\n 2. Nested property in TroubleshootingConfig.Machine\r\n    has null value, because of this bean &quot;authInfo&quot; is not created and context initialization fails. Here is the reference on how [Spring Boot Configuration Binding][2] works.\r\n\r\n\r\n  [1]: https://github.com/bitbythecron/spring-boot-troubleshooting\r\n  [2]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-Configuration-Binding","title":"Liquibase not executing for Spring Boot/MySQL app","body":"<p>There are 2 different problems <a href=\"https://github.com/bitbythecron/spring-boot-troubleshooting\" rel=\"nofollow noreferrer\">in the repo</a>:</p>\n\n<ol>\n<li>Wrong location of application.yml. Move it from root to\nsrc/main/resources </li>\n<li>Nested property in TroubleshootingConfig.Machine\nhas null value, because of this bean \"authInfo\" is not created and context initialization fails. Here is the reference on how <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-Configuration-Binding\" rel=\"nofollow noreferrer\">Spring Boot Configuration Binding</a> works.</li>\n</ol>\n"}],"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2283,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54411756,"answer_count":1,"score":1,"last_activity_date":1689252885,"creation_date":1548696831,"question_id":54407376,"body_markdown":"Spring Boot 1.5.8 and Java 8 here. I&#39;ve followed all the Spring Boot &amp; Liquibase guides and I can&#39;t seem to get Liquibase to work.\r\n\r\nHere is a link to a [GitHub repo](https://github.com/bitbythecron/spring-boot-troubleshooting/tree/feature/liquibase-issue) for reproducing the issue exactly, but here&#39;s the scoop:\r\n\r\nI have the following MySQL v8 database that gets created like so ahead of time (before the app runs):\r\n\r\n    CREATE DATABASE IF NOT EXISTS troubleshooting_db CHARACTER SET utf8 COLLATE utf8_general_ci;\r\n\r\nI have the following `src/main/resources/db/changelog` files:\r\n\r\n    db.changelog-master.yaml:\r\n    ===\r\n    databaseChangeLog:\r\n    - include:\r\n      file: db/changelog/1-setup.sql\r\n\r\n    1-setup.sql:\r\n    ===\r\n    --liquibase formatted sql\r\n\r\n    --changeset troubleshooting:1 dbms:mysql\r\n    -- LOOKUPS\r\n    CREATE TABLE IF NOT EXISTS metric_range_categories (\r\n        metric_range_category_id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,\r\n        metric_range_category_ref_id VARCHAR(36) NOT NULL,\r\n        metric_range_category_name VARCHAR(250) NOT NULL,\r\n        metric_range_category_label VARCHAR(250) NOT NULL,\r\n        metric_range_category_description VARCHAR(500) NOT NULL,\r\n\r\n        CONSTRAINT pk_metric_range_categories PRIMARY KEY (metric_range_category_id),\r\n\r\n        INDEX idx_metric_range_categories_metric_range_category_ref_id (metric_range_category_ref_id),\r\n        INDEX idx_metric_range_categories_metric_range_category_label (metric_range_category_label),\r\n\r\n        CONSTRAINT uc_metric_range_categories_metric_range_category_ref_id UNIQUE (metric_range_category_ref_id),\r\n        CONSTRAINT uc_metric_range_categories_metric_range_category_name UNIQUE (metric_range_category_name),\r\n        CONSTRAINT uc_metric_range_categories_metric_range_category_label UNIQUE (metric_range_category_label)\r\n    );\r\n\r\n    -- Lots of other CREATE TABLE statements down here...\r\n\r\nAnd the following JPA-annotated entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;metric_range_categories&quot;)\r\n    @AttributeOverrides({\r\n            @AttributeOverride(name = &quot;id&quot;, column = @Column(name = &quot;metric_range_category_id&quot;)),\r\n            @AttributeOverride(name = &quot;refId&quot;, column = @Column(name = &quot;metric_range_category_ref_id&quot;)),\r\n            @AttributeOverride(name = &quot;name&quot;, column = @Column(name = &quot;metric_range_category_name&quot;)),\r\n            @AttributeOverride(name = &quot;label&quot;, column = @Column(name = &quot;metric_range_category_label&quot;)),\r\n            @AttributeOverride(name = &quot;description&quot;, column = @Column(name = &quot;metric_range_category_description&quot;))\r\n    })\r\n    public class MetricRangeCategory extends BaseLookup {\r\n        public MetricRangeCategory() {\r\n        }\r\n\r\n        public MetricRangeCategory(Long id, String refId, String name, String label, String description) {\r\n            super(id, refId, name, label, description);\r\n        }\r\n    }\r\n\r\nAt runtime I get the following exception:\r\n\r\n    Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [metric_range_categories]\r\n    \tat org.hibernate.tool.schema.internal.SchemaValidatorImpl.validateTable(SchemaValidatorImpl.java:67)\r\n    \tat org.hibernate.tool.schema.internal.SchemaValidatorImpl.doValidation(SchemaValidatorImpl.java:50)\r\n    \tat org.hibernate.tool.hbm2ddl.SchemaValidator.validate(SchemaValidator.java:91)\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:475)\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:444)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:879)\r\n    \t... 29 common frames omitted\r\n\r\n\r\nSo when it starts up, Liquibase **does not excute/engage** and so Hibernate JPA validation fails because its looking for a table that doesn&#39;t exist (because Liquibase never kicked in and did its job!). Any ideas as to where I&#39;m going awry? Why isn&#39;t Liquibase kicking in?","title":"Liquibase not executing for Spring Boot/MySQL app","body":"<p>Spring Boot 1.5.8 and Java 8 here. I've followed all the Spring Boot &amp; Liquibase guides and I can't seem to get Liquibase to work.</p>\n\n<p>Here is a link to a <a href=\"https://github.com/bitbythecron/spring-boot-troubleshooting/tree/feature/liquibase-issue\" rel=\"nofollow noreferrer\">GitHub repo</a> for reproducing the issue exactly, but here's the scoop:</p>\n\n<p>I have the following MySQL v8 database that gets created like so ahead of time (before the app runs):</p>\n\n<pre><code>CREATE DATABASE IF NOT EXISTS troubleshooting_db CHARACTER SET utf8 COLLATE utf8_general_ci;\n</code></pre>\n\n<p>I have the following <code>src/main/resources/db/changelog</code> files:</p>\n\n<pre><code>db.changelog-master.yaml:\n===\ndatabaseChangeLog:\n- include:\n  file: db/changelog/1-setup.sql\n\n1-setup.sql:\n===\n--liquibase formatted sql\n\n--changeset troubleshooting:1 dbms:mysql\n-- LOOKUPS\nCREATE TABLE IF NOT EXISTS metric_range_categories (\n    metric_range_category_id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,\n    metric_range_category_ref_id VARCHAR(36) NOT NULL,\n    metric_range_category_name VARCHAR(250) NOT NULL,\n    metric_range_category_label VARCHAR(250) NOT NULL,\n    metric_range_category_description VARCHAR(500) NOT NULL,\n\n    CONSTRAINT pk_metric_range_categories PRIMARY KEY (metric_range_category_id),\n\n    INDEX idx_metric_range_categories_metric_range_category_ref_id (metric_range_category_ref_id),\n    INDEX idx_metric_range_categories_metric_range_category_label (metric_range_category_label),\n\n    CONSTRAINT uc_metric_range_categories_metric_range_category_ref_id UNIQUE (metric_range_category_ref_id),\n    CONSTRAINT uc_metric_range_categories_metric_range_category_name UNIQUE (metric_range_category_name),\n    CONSTRAINT uc_metric_range_categories_metric_range_category_label UNIQUE (metric_range_category_label)\n);\n\n-- Lots of other CREATE TABLE statements down here...\n</code></pre>\n\n<p>And the following JPA-annotated entity:</p>\n\n<pre><code>@Entity\n@Table(name = \"metric_range_categories\")\n@AttributeOverrides({\n        @AttributeOverride(name = \"id\", column = @Column(name = \"metric_range_category_id\")),\n        @AttributeOverride(name = \"refId\", column = @Column(name = \"metric_range_category_ref_id\")),\n        @AttributeOverride(name = \"name\", column = @Column(name = \"metric_range_category_name\")),\n        @AttributeOverride(name = \"label\", column = @Column(name = \"metric_range_category_label\")),\n        @AttributeOverride(name = \"description\", column = @Column(name = \"metric_range_category_description\"))\n})\npublic class MetricRangeCategory extends BaseLookup {\n    public MetricRangeCategory() {\n    }\n\n    public MetricRangeCategory(Long id, String refId, String name, String label, String description) {\n        super(id, refId, name, label, description);\n    }\n}\n</code></pre>\n\n<p>At runtime I get the following exception:</p>\n\n<pre><code>Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [metric_range_categories]\n    at org.hibernate.tool.schema.internal.SchemaValidatorImpl.validateTable(SchemaValidatorImpl.java:67)\n    at org.hibernate.tool.schema.internal.SchemaValidatorImpl.doValidation(SchemaValidatorImpl.java:50)\n    at org.hibernate.tool.hbm2ddl.SchemaValidator.validate(SchemaValidator.java:91)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:475)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:444)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:879)\n    ... 29 common frames omitted\n</code></pre>\n\n<p>So when it starts up, Liquibase <strong>does not excute/engage</strong> and so Hibernate JPA validation fails because its looking for a table that doesn't exist (because Liquibase never kicked in and did its job!). Any ideas as to where I'm going awry? Why isn't Liquibase kicking in?</p>\n"},{"tags":["java","json","serialization"],"answers":[{"tags":[],"owner":{"account_id":208094,"reputation":6180,"user_id":458368,"accept_rate":64,"display_name":"JOTN"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1290558160,"creation_date":1290558160,"answer_id":4262410,"question_id":4262390,"body_markdown":"Use the .toString() method of JSONObject to get the text.","title":"How to serialize JSON object in java","body":"<p>Use the .toString() method of JSONObject to get the text.</p>\n"},{"tags":[],"owner":{"account_id":93911,"reputation":5846,"user_id":256717,"accept_rate":80,"display_name":"Fakrudeen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1305182068,"creation_date":1305182068,"answer_id":5974199,"question_id":4262390,"body_markdown":"Have a look at [Gson][1] library. It does nice JSON to object mapping and serialization.\r\n\r\n\r\n  [1]: http://code.google.com/p/google-gson","title":"How to serialize JSON object in java","body":"<p>Have a look at <a href=\"http://code.google.com/p/google-gson\">Gson</a> library. It does nice JSON to object mapping and serialization.</p>\n"},{"tags":[],"owner":{"account_id":965148,"reputation":1823,"user_id":988704,"accept_rate":50,"display_name":"Roberto Andrade"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363734573,"creation_date":1363734573,"answer_id":15512256,"question_id":4262390,"body_markdown":"In the case you&#39;d still want Java built-in serialization without having to resort to marshal your JSON object into string notation, one thing you could do is extend JSONObject and JSONArray from org.json and just implement Serializable.\r\n\r\nThen you can use your own versions of JSONObject and JSONArray across the board instead of the originals.\r\n\r\nMake sure you define all constructors on your subclasses and call their super() counterparts as well as implement specific methods that return the parent types such as getJSONObject() and getJSONArray() from properties.","title":"How to serialize JSON object in java","body":"<p>In the case you'd still want Java built-in serialization without having to resort to marshal your JSON object into string notation, one thing you could do is extend JSONObject and JSONArray from org.json and just implement Serializable.</p>\n\n<p>Then you can use your own versions of JSONObject and JSONArray across the board instead of the originals.</p>\n\n<p>Make sure you define all constructors on your subclasses and call their super() counterparts as well as implement specific methods that return the parent types such as getJSONObject() and getJSONArray() from properties.</p>\n"},{"tags":[],"owner":{"account_id":83041,"reputation":6021,"user_id":233076,"accept_rate":97,"display_name":"Carlos"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1408104856,"creation_date":1408104856,"answer_id":25326211,"question_id":4262390,"body_markdown":"Late answer, but I was searching for this myself and I have found a solution. Just to clarify, my problem was that my class contained a org.json.JSONobject, and it couldn&#39;t be serialized, which is a necessary step to pass objects in Android Bundle objects.\r\n\r\n 1. Add the keyword **transient** to the field.\r\n 2. Provide the functions writeObject and readObject for the serializer to call. This looks like an override function, but actually isn&#39;t decorated with @Override.\r\n\r\nLike this:\r\n\r\n    private void writeObject(ObjectOutputStream oos) throws IOException{\r\n    \toos.defaultWriteObject();\r\n    \toos.writeChars(_jsonObject.toString());\r\n    }\r\n    \r\n    private void readObject(ObjectInputStream ois) throws ClassNotFoundException, IOException {\r\n        ois.defaultReadObject();\r\n        loadJSON(ois.readUTF());\r\n    }\r\n 3. In the loadJSON function, you call the JSONObject constructor that takes a string, and assign it to the transient field.\r\n\r\nI found this to be far easier than replacing the library.","title":"How to serialize JSON object in java","body":"<p>Late answer, but I was searching for this myself and I have found a solution. Just to clarify, my problem was that my class contained a org.json.JSONobject, and it couldn't be serialized, which is a necessary step to pass objects in Android Bundle objects.</p>\n\n<ol>\n<li>Add the keyword <strong>transient</strong> to the field.</li>\n<li>Provide the functions writeObject and readObject for the serializer to call. This looks like an override function, but actually isn't decorated with @Override.</li>\n</ol>\n\n<p>Like this:</p>\n\n<pre><code>private void writeObject(ObjectOutputStream oos) throws IOException{\n    oos.defaultWriteObject();\n    oos.writeChars(_jsonObject.toString());\n}\n\nprivate void readObject(ObjectInputStream ois) throws ClassNotFoundException, IOException {\n    ois.defaultReadObject();\n    loadJSON(ois.readUTF());\n}\n</code></pre>\n\n<p>3. In the loadJSON function, you call the JSONObject constructor that takes a string, and assign it to the transient field.</p>\n\n<p>I found this to be far easier than replacing the library.</p>\n"}],"owner":{"account_id":799309,"reputation":91,"user_id":503795,"accept_rate":0,"display_name":"XXX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56712,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1689252784,"creation_date":1290557938,"question_id":4262390,"body_markdown":"Hi I am using Voldemort to store my data. My key is a word and values are number of occurrence of the word and the URL. For example:\r\n\r\n    key :question\r\n    value: 10, www.stackoverflow.com\r\n\r\nI am using Json object to put my values. \r\nMy code looks like this\r\n\r\n```lang-java\r\nimport org.json.JSONObject;\r\nimport com.metaparadigm.jsonrpc.JSONSerializer;\r\nimport voldemort.client.ClientConfig;\r\nimport voldemort.client.SocketStoreClientFactory;\r\nimport voldemort.client.StoreClient;\r\nimport voldemort.client.StoreClientFactory;\r\n\r\npublic class ClientExample { \r\n  public static void main (String [] args) { \r\n\tString bootstrapUrl = &quot;tcp://localhost:6666&quot;;\r\n\r\n\tClientConfig cc = new ClientConfig (); \r\n\tcc.setBootstrapUrls (bootstrapUrl); \r\n\tString[] valuePair = new String[2];\r\n\tint val = 1;\r\n\tStoreClientFactory factory = new SocketStoreClientFactory (cc); \r\n\tStoreClient client = factory.getStoreClient(&quot;test&quot;); \r\n\tJSONObject json = new JSONObject(); \r\n\tjson.put(&quot;occurence&quot;,val); \r\n\tjson.put(&quot;url&quot;, &quot;www.cnn.com&quot;); \r\n\tclient.put(&quot;foo&quot;, json); \r\n  } \r\n} \r\n```\r\n\r\nAnd my store.xml looks like this\r\n\r\n```xml\r\n&lt;stores&gt; \r\n  &lt;store&gt; \r\n\t&lt;name&gt;test&lt;/name&gt; \r\n\t&lt;persistence&gt;bdb&lt;/persistence&gt; \r\n\t&lt;routing&gt;client&lt;/routing&gt; \r\n\t&lt;replication-factor&gt;1&lt;/replication-factor&gt; \r\n\t&lt;required-reads&gt;1&lt;/required-reads&gt; \r\n\t&lt;required-writes&gt;1&lt;/required-writes&gt; \r\n\t&lt;key-serializer&gt; \r\n\t  &lt;type&gt;string&lt;/type&gt; \r\n\t&lt;/key-serializer&gt; \r\n\t&lt;value-serializer&gt; \r\n\t  &lt;type&gt;java-serialization&lt;/type&gt; \r\n\t &lt;schema-info&gt;&quot;Compount Types&quot;&lt;/schema-info&gt; \r\n\t&lt;/value-serializer&gt; \r\n  &lt;/store&gt; \r\n&lt;/stores&gt; \r\n```\r\n\r\nWhile i was trying to run the code i am getting following exception:\r\n**\r\n\r\n&gt;Exception in thread &quot;main&quot;\r\n&gt; **voldemort.serialization.SerializationException:\r\n&gt; java.io.NotSerializableException:**\r\n&gt; org.json.JSONObject  at\r\n&gt; voldemort.serialization.ObjectSerializer.toBytes(ObjectSerializer.java:47)\r\n&gt;  at\r\n&gt; voldemort.store.serialized.SerializingStore.put(SerializingStore.java:109)\r\n&gt;  at\r\n&gt; voldemort.store.DelegatingStore.put(DelegatingStore.java:68)\r\n&gt;  at\r\n&gt; voldemort.client.DefaultStoreClient.put(DefaultStoreClient.java:208)\r\n&gt;  at\r\n&gt; voldemort.client.DefaultStoreClient.put(DefaultStoreClient.java:193)\r\n&gt;  at\r\n&gt; ClientExample.main(ClientExample.java:27)\r\n&gt; Caused by:\r\n&gt; java.io.NotSerializableException:\r\n&gt; org.json.JSONObject  at\r\n&gt; java.io.ObjectOutputStream.writeObject0(Unknown\r\n&gt; Source)  at\r\n&gt; java.io.ObjectOutputStream.writeObject(Unknown\r\n&gt; Source)  at\r\n&gt; voldemort.serialization.ObjectSerializer.toBytes(ObjectSerializer.java:44)\r\n\r\n**\r\n\r\nCould you please tell me how to serialize JSON object.Thanks in advance. ","title":"How to serialize JSON object in java","body":"<p>Hi I am using Voldemort to store my data. My key is a word and values are number of occurrence of the word and the URL. For example:</p>\n<pre><code>key :question\nvalue: 10, www.stackoverflow.com\n</code></pre>\n<p>I am using Json object to put my values.\nMy code looks like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.json.JSONObject;\nimport com.metaparadigm.jsonrpc.JSONSerializer;\nimport voldemort.client.ClientConfig;\nimport voldemort.client.SocketStoreClientFactory;\nimport voldemort.client.StoreClient;\nimport voldemort.client.StoreClientFactory;\n\npublic class ClientExample { \n  public static void main (String [] args) { \n    String bootstrapUrl = &quot;tcp://localhost:6666&quot;;\n\n    ClientConfig cc = new ClientConfig (); \n    cc.setBootstrapUrls (bootstrapUrl); \n    String[] valuePair = new String[2];\n    int val = 1;\n    StoreClientFactory factory = new SocketStoreClientFactory (cc); \n    StoreClient client = factory.getStoreClient(&quot;test&quot;); \n    JSONObject json = new JSONObject(); \n    json.put(&quot;occurence&quot;,val); \n    json.put(&quot;url&quot;, &quot;www.cnn.com&quot;); \n    client.put(&quot;foo&quot;, json); \n  } \n} \n</code></pre>\n<p>And my store.xml looks like this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;stores&gt; \n  &lt;store&gt; \n    &lt;name&gt;test&lt;/name&gt; \n    &lt;persistence&gt;bdb&lt;/persistence&gt; \n    &lt;routing&gt;client&lt;/routing&gt; \n    &lt;replication-factor&gt;1&lt;/replication-factor&gt; \n    &lt;required-reads&gt;1&lt;/required-reads&gt; \n    &lt;required-writes&gt;1&lt;/required-writes&gt; \n    &lt;key-serializer&gt; \n      &lt;type&gt;string&lt;/type&gt; \n    &lt;/key-serializer&gt; \n    &lt;value-serializer&gt; \n      &lt;type&gt;java-serialization&lt;/type&gt; \n     &lt;schema-info&gt;&quot;Compount Types&quot;&lt;/schema-info&gt; \n    &lt;/value-serializer&gt; \n  &lt;/store&gt; \n&lt;/stores&gt; \n</code></pre>\n<p>While i was trying to run the code i am getting following exception:\n**</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot;\n<strong>voldemort.serialization.SerializationException:\njava.io.NotSerializableException:</strong>\norg.json.JSONObject  at\nvoldemort.serialization.ObjectSerializer.toBytes(ObjectSerializer.java:47)\nat\nvoldemort.store.serialized.SerializingStore.put(SerializingStore.java:109)\nat\nvoldemort.store.DelegatingStore.put(DelegatingStore.java:68)\nat\nvoldemort.client.DefaultStoreClient.put(DefaultStoreClient.java:208)\nat\nvoldemort.client.DefaultStoreClient.put(DefaultStoreClient.java:193)\nat\nClientExample.main(ClientExample.java:27)\nCaused by:\njava.io.NotSerializableException:\norg.json.JSONObject  at\njava.io.ObjectOutputStream.writeObject0(Unknown\nSource)  at\njava.io.ObjectOutputStream.writeObject(Unknown\nSource)  at\nvoldemort.serialization.ObjectSerializer.toBytes(ObjectSerializer.java:44)</p>\n</blockquote>\n<p>**</p>\n<p>Could you please tell me how to serialize JSON object.Thanks in advance.</p>\n"},{"tags":["java","azure","azureservicebus"],"answers":[{"tags":[],"owner":{"account_id":28158497,"reputation":695,"user_id":21518858,"display_name":"Balaji"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689252248,"creation_date":1689252248,"answer_id":76679528,"question_id":76677763,"body_markdown":"- `ServiceBusClientBuilder` is used to create a `ServiceBusSenderClient` instance. The `buildClient()` method is invoked to build the client. The resulting `sender` variable is of type `ServiceBusSenderClient`, which provides a **synchronous** programming model for sending messages to the Service Bus queue specified by the `queue`.\r\n- When you use `ServiceBusSenderClient` to send a message, the calling thread will be blocked until the message is sent and a response is received from the Service Bus service.\r\n\r\nIf you use maven dependency please check as given below.\r\n\r\n**Dependencies:**\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;!-- Azure Messaging Service Bus --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n        &lt;artifactId&gt;azure-messaging-servicebus&lt;/artifactId&gt;\r\n        &lt;version&gt;7.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Azure Identity --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.azure.identity&lt;/groupId&gt;\r\n        &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Azure Core --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n        &lt;artifactId&gt;azure-core&lt;/artifactId&gt;\r\n        &lt;version&gt;1.17.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- Azure Logging Dependencies (optional) --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n        &lt;artifactId&gt;azure-core-logger-slf4j&lt;/artifactId&gt;\r\n        &lt;version&gt;1.17.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.32&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nHere you can explore more content for your requirement.\r\n**[ServiceBusSenderClient](https://learn.microsoft.com/en-us/dotnet/api/azure.messaging.servicebus.servicebusclient?view=azure-dotnet)**\r\n\r\n**Here is the asynchronous approach:** \r\n\r\n- `ServiceBusSenderAsyncClient` is an asynchronous client that provides non-blocking methods for sending messages to a Service Bus entity.\r\n\r\n- In Java,  `ServiceBusSenderAsyncClient` class extends the `java.lang.Object` class, which is the root of the class hierarchy. That means `ServiceBusSenderAsyncClient`  will inherits the basic functionalities provided by the `java.lang.Object` class, such as the `toString()`, `hashCode()`, and `equals()` methods.\r\n\r\nI tried a sample application use the `ServiceBusSenderAsyncClient` class to send a message to a Service Bus entity asynchronously. For the dependencies check above.\r\n\r\n```java\r\nimport com.azure.messaging.servicebus.ServiceBusSenderAsyncClient;\r\nimport com.azure.messaging.servicebus.ServiceBusMessage;\r\n\r\npublic class ServiceBusSenderExample {\r\n    public static void main(String[] args) {\r\n        // Create an instance of the ServiceBusSenderAsyncClient\r\n        ServiceBusSenderAsyncClient senderClient = new ServiceBusSenderAsyncClient(&quot;&lt;connectionString&gt;&quot;, &quot;&lt;queueOrTopicName&gt;&quot;);\r\n\r\n        // Create a message\r\n        ServiceBusMessage message = new ServiceBusMessage(&quot;Hello, Service Bus!&quot;);\r\n\r\n        // Send the message asynchronously\r\n        senderClient.sendMessage(message).subscribe(\r\n            messageId -&gt; {\r\n                System.out.println(&quot;Message sent successfully. MessageId: &quot; + messageId);\r\n            },\r\n            error -&gt; {\r\n                System.err.println(&quot;Error occurred while sending the message: &quot; + error);\r\n            },\r\n            () -&gt; {\r\n                System.out.println(&quot;Message sending complete.&quot;);\r\n            }\r\n        );\r\n    }\r\n}\r\n```\r\n- Non-blocking behavior and want to leverage the benefits of asynchronous programming, you can use [`ServiceBusSenderAsyncClient`](https://learn.microsoft.com/en-us/java/api/com.azure.messaging.servicebus.servicebussenderasyncclient?view=azure-java-stable) check on the link for more information.\r\n\r\n","title":"What is the difference between ServiceBusSenderClient and ServiceBusSenderAsyncClient in Azure Service Bus?","body":"<ul>\n<li><code>ServiceBusClientBuilder</code> is used to create a <code>ServiceBusSenderClient</code> instance. The <code>buildClient()</code> method is invoked to build the client. The resulting <code>sender</code> variable is of type <code>ServiceBusSenderClient</code>, which provides a <strong>synchronous</strong> programming model for sending messages to the Service Bus queue specified by the <code>queue</code>.</li>\n<li>When you use <code>ServiceBusSenderClient</code> to send a message, the calling thread will be blocked until the message is sent and a response is received from the Service Bus service.</li>\n</ul>\n<p>If you use maven dependency please check as given below.</p>\n<p><strong>Dependencies:</strong></p>\n<pre><code>&lt;dependencies&gt;\n    &lt;!-- Azure Messaging Service Bus --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-messaging-servicebus&lt;/artifactId&gt;\n        &lt;version&gt;7.7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Azure Identity --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.azure.identity&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\n        &lt;version&gt;1.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Azure Core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-core&lt;/artifactId&gt;\n        &lt;version&gt;1.17.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- Azure Logging Dependencies (optional) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-core-logger-slf4j&lt;/artifactId&gt;\n        &lt;version&gt;1.17.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.7.32&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Here you can explore more content for your requirement.\n<strong><a href=\"https://learn.microsoft.com/en-us/dotnet/api/azure.messaging.servicebus.servicebusclient?view=azure-dotnet\" rel=\"nofollow noreferrer\">ServiceBusSenderClient</a></strong></p>\n<p><strong>Here is the asynchronous approach:</strong></p>\n<ul>\n<li><p><code>ServiceBusSenderAsyncClient</code> is an asynchronous client that provides non-blocking methods for sending messages to a Service Bus entity.</p>\n</li>\n<li><p>In Java,  <code>ServiceBusSenderAsyncClient</code> class extends the <code>java.lang.Object</code> class, which is the root of the class hierarchy. That means <code>ServiceBusSenderAsyncClient</code>  will inherits the basic functionalities provided by the <code>java.lang.Object</code> class, such as the <code>toString()</code>, <code>hashCode()</code>, and <code>equals()</code> methods.</p>\n</li>\n</ul>\n<p>I tried a sample application use the <code>ServiceBusSenderAsyncClient</code> class to send a message to a Service Bus entity asynchronously. For the dependencies check above.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.azure.messaging.servicebus.ServiceBusSenderAsyncClient;\nimport com.azure.messaging.servicebus.ServiceBusMessage;\n\npublic class ServiceBusSenderExample {\n    public static void main(String[] args) {\n        // Create an instance of the ServiceBusSenderAsyncClient\n        ServiceBusSenderAsyncClient senderClient = new ServiceBusSenderAsyncClient(&quot;&lt;connectionString&gt;&quot;, &quot;&lt;queueOrTopicName&gt;&quot;);\n\n        // Create a message\n        ServiceBusMessage message = new ServiceBusMessage(&quot;Hello, Service Bus!&quot;);\n\n        // Send the message asynchronously\n        senderClient.sendMessage(message).subscribe(\n            messageId -&gt; {\n                System.out.println(&quot;Message sent successfully. MessageId: &quot; + messageId);\n            },\n            error -&gt; {\n                System.err.println(&quot;Error occurred while sending the message: &quot; + error);\n            },\n            () -&gt; {\n                System.out.println(&quot;Message sending complete.&quot;);\n            }\n        );\n    }\n}\n</code></pre>\n<ul>\n<li>Non-blocking behavior and want to leverage the benefits of asynchronous programming, you can use <a href=\"https://learn.microsoft.com/en-us/java/api/com.azure.messaging.servicebus.servicebussenderasyncclient?view=azure-java-stable\" rel=\"nofollow noreferrer\"><code>ServiceBusSenderAsyncClient</code></a> check on the link for more information.</li>\n</ul>\n"}],"owner":{"account_id":14610742,"reputation":45,"user_id":10552302,"display_name":"SrigandanS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76679528,"answer_count":1,"score":0,"last_activity_date":1689252248,"creation_date":1689239727,"question_id":76677763,"body_markdown":"I want to know the difference between SenderClient and AsynSenderClient in Azure Service Bus. What is the difference in the below 2 code snippets?\r\n\r\n*Snippet 1:*\r\n```\r\nServiceBusSenderClient sender = new ServiceBusClientBuilder()\r\n    .connectionString(&quot;&lt;&lt; CONNECTION STRING FOR THE SERVICE BUS NAMESPACE &gt;&gt;&quot;)\r\n    .sender()\r\n    .queueName(&quot;&lt;&lt; QUEUE NAME &gt;&gt;&quot;)\r\n    .buildClient();\r\n```\r\n\r\n*Snippet 2:*\r\n```\r\nServiceBusSenderAsyncClient sender = new ServiceBusClientBuilder()\r\n    .connectionString(&quot;&lt;&lt; CONNECTION STRING FOR THE SERVICE BUS NAMESPACE &gt;&gt;&quot;)\r\n    .sender()\r\n    .queueName(&quot;&lt;&lt; QUEUE NAME &gt;&gt;&quot;)\r\n    .buildAsyncClient();\r\n```","title":"What is the difference between ServiceBusSenderClient and ServiceBusSenderAsyncClient in Azure Service Bus?","body":"<p>I want to know the difference between SenderClient and AsynSenderClient in Azure Service Bus. What is the difference in the below 2 code snippets?</p>\n<p><em>Snippet 1:</em></p>\n<pre><code>ServiceBusSenderClient sender = new ServiceBusClientBuilder()\n    .connectionString(&quot;&lt;&lt; CONNECTION STRING FOR THE SERVICE BUS NAMESPACE &gt;&gt;&quot;)\n    .sender()\n    .queueName(&quot;&lt;&lt; QUEUE NAME &gt;&gt;&quot;)\n    .buildClient();\n</code></pre>\n<p><em>Snippet 2:</em></p>\n<pre><code>ServiceBusSenderAsyncClient sender = new ServiceBusClientBuilder()\n    .connectionString(&quot;&lt;&lt; CONNECTION STRING FOR THE SERVICE BUS NAMESPACE &gt;&gt;&quot;)\n    .sender()\n    .queueName(&quot;&lt;&lt; QUEUE NAME &gt;&gt;&quot;)\n    .buildAsyncClient();\n</code></pre>\n"},{"tags":["java","nested","static","inner-classes"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1689252320,"post_id":76679517,"comment_id":135188947,"body_markdown":"`x++` returns the value of `x` before the increment. You probably want `++x` and `++y`.","body":"<code>x++</code> returns the value of <code>x</code> before the increment. You probably want <code>++x</code> and <code>++y</code>."}],"owner":{"account_id":28963202,"reputation":1,"user_id":22185276,"display_name":"Aled"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689252392,"answer_count":0,"score":0,"last_activity_date":1689252154,"creation_date":1689252154,"question_id":76679517,"body_markdown":"I have the following problem from nested classes category and I do not understand why the printed values for the 3 variables is the same 3131 and not 3131, 3132, 3133?\r\n\r\n\r\n    class X\r\n    {\r\n    static int x = 3131;\r\n     \r\n    static class Y\r\n    {\r\n        static int y = x++;\r\n         \r\n        static class Z\r\n        {\r\n            static int z = y++;\r\n        }\r\n        }\r\n      }\r\n \r\n     public class MainClass\r\n      {\r\n     public static void main(String[] args)\r\n     {\r\n        System.out.println(X.x);\r\n         \r\n        System.out.println(X.Y.y);\r\n         \r\n        System.out.println(X.Y.Z.z);\r\n         }\r\n      }","title":"Assigning values to static members","body":"<p>I have the following problem from nested classes category and I do not understand why the printed values for the 3 variables is the same 3131 and not 3131, 3132, 3133?</p>\n<pre><code>class X\n{\nstatic int x = 3131;\n \nstatic class Y\n{\n    static int y = x++;\n     \n    static class Z\n    {\n        static int z = y++;\n    }\n    }\n  }\n\n public class MainClass\n  {\n public static void main(String[] args)\n {\n    System.out.println(X.x);\n     \n    System.out.println(X.Y.y);\n     \n    System.out.println(X.Y.Z.z);\n     }\n  }\n</code></pre>\n"},{"tags":["java","android","android-audiomanager","android-12"],"comments":[{"owner":{"account_id":276236,"reputation":18430,"user_id":569558,"accept_rate":93,"display_name":"sdabet"},"score":0,"creation_date":1689252202,"post_id":75630773,"comment_id":135188921,"body_markdown":"Have you found a solution ?","body":"Have you found a solution ?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689322020,"post_id":75630773,"comment_id":135199834,"body_markdown":"@sdabet Imagine you download an app that uses audio, and plug in your headphones so that you know you won&#39;t disturb anyone around you. Then that app suddenly starts using the speaker anyway. Does that sound like something Android should allow?","body":"@sdabet Imagine you download an app that uses audio, and plug in your headphones so that you know you won&#39;t disturb anyone around you. Then that app suddenly starts using the speaker anyway. Does that sound like something Android should allow?"},{"owner":{"account_id":276236,"reputation":18430,"user_id":569558,"accept_rate":93,"display_name":"sdabet"},"score":0,"creation_date":1689407734,"post_id":75630773,"comment_id":135211721,"body_markdown":"@Jorn If a permission is requested for that, why not.","body":"@Jorn If a permission is requested for that, why not."},{"owner":{"account_id":10120648,"reputation":317,"user_id":7477675,"display_name":"anshajkhare"},"score":0,"creation_date":1689843611,"post_id":75630773,"comment_id":135271750,"body_markdown":"Have you seen this answer yet?\nhttps://stackoverflow.com/a/71062507/7477675","body":"Have you seen this answer yet? <a href=\"https://stackoverflow.com/a/71062507/7477675\">stackoverflow.com/a/71062507/7477675</a>"}],"owner":{"account_id":21097527,"reputation":41,"user_id":15508161,"display_name":"paertopeer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1689252139,"creation_date":1677868957,"question_id":75630773,"body_markdown":"I have to keep the Audio Speaker even if my headset is plugged into my device using AudioManager, but when wrote this code the AudioManager automatically switched to normal mode after 6 sec.\r\nThere is another way to do this on android 12?\r\n\r\n```\r\npublic void onCreate() {\r\n     m_amAudioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\r\n     m_amAudioManager.setMode(AudioManager.MODE_IN_COMMUNICATION);\r\n     if (android.os.Build.VERSION.SDK_INT \\&gt;= android.os.Build.VERSION_CODES.S) {\r\n         setCommunicationDevice(AudioDeviceInfo.TYPE_WIRED_HEADSET);\r\n     } else {\r\n         m_amAudioManager.setSpeakerphoneOn(true);\r\n     }\r\n}\r\n```\r\n\r\n```\r\n@RequiresApi(api = Build.VERSION_CODES.S)\r\npublic void setCommunicationDevice(Integer targetDeviceType) {\r\n    List&lt;AudioDeviceInfo&gt; devices = m_amAudioManager.getAvailableCommunicationDevices();\r\n    for (AudioDeviceInfo device: devices) {\r\n        if (device.getType() == targetDeviceType) {\r\n            boolean result = m_amAudioManager.setCommunicationDevice(device);\r\n        }\r\n    }\r\n}\r\n```","title":"How to switch to speaker when my headphone is plugged on Android","body":"<p>I have to keep the Audio Speaker even if my headset is plugged into my device using AudioManager, but when wrote this code the AudioManager automatically switched to normal mode after 6 sec.\nThere is another way to do this on android 12?</p>\n<pre><code>public void onCreate() {\n     m_amAudioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\n     m_amAudioManager.setMode(AudioManager.MODE_IN_COMMUNICATION);\n     if (android.os.Build.VERSION.SDK_INT \\&gt;= android.os.Build.VERSION_CODES.S) {\n         setCommunicationDevice(AudioDeviceInfo.TYPE_WIRED_HEADSET);\n     } else {\n         m_amAudioManager.setSpeakerphoneOn(true);\n     }\n}\n</code></pre>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.S)\npublic void setCommunicationDevice(Integer targetDeviceType) {\n    List&lt;AudioDeviceInfo&gt; devices = m_amAudioManager.getAvailableCommunicationDevices();\n    for (AudioDeviceInfo device: devices) {\n        if (device.getType() == targetDeviceType) {\n            boolean result = m_amAudioManager.setCommunicationDevice(device);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","networking","udp","port"],"answers":[{"tags":[],"owner":{"account_id":1535535,"reputation":582,"user_id":1431696,"display_name":"wardd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1353539862,"creation_date":1353539862,"answer_id":13503629,"question_id":13503604,"body_markdown":"With multiple clients and one server, you could have all clients send data to the same port on the server. The server would read all information from one socket (which is reading data on that port). Each client that sends data can send metadata along with each payload identifying the user, so the server can discern which received packet belongs to who. I actually think that you can already see the address that a packet comes from using built in functionality however. You could use these addresses to identify different clients, however down the road you might need a more robust solution to make your implementation more secure.","title":"Java - Using multiple datagramSockets and ports","body":"<p>With multiple clients and one server, you could have all clients send data to the same port on the server. The server would read all information from one socket (which is reading data on that port). Each client that sends data can send metadata along with each payload identifying the user, so the server can discern which received packet belongs to who. I actually think that you can already see the address that a packet comes from using built in functionality however. You could use these addresses to identify different clients, however down the road you might need a more robust solution to make your implementation more secure.</p>\n"},{"tags":[],"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689252095,"creation_date":1689252095,"answer_id":76679507,"question_id":13503604,"body_markdown":"As suggested in wardd&#39;s comments, there might be a session protocol.\r\n\r\nEasy version:\r\n 1. The client sends a connect message to the server socket \r\n 2. The server instantiates a new socket for the session with random port (bound to port 0)\r\n 3. The server sends an accept message on the new socket\r\n 4. The client receives the new port / socket with the accept message\r\n 5. the session continues with the session private sockets\r\n\r\nFor more security, there might be a unique session id for the handshake (used in step 4.), the handshake messages might be authenticated or even asymmetrically encrypted, as it is done in TLS.\r\n","title":"Java - Using multiple datagramSockets and ports","body":"<p>As suggested in wardd's comments, there might be a session protocol.</p>\n<p>Easy version:</p>\n<ol>\n<li>The client sends a connect message to the server socket</li>\n<li>The server instantiates a new socket for the session with random port (bound to port 0)</li>\n<li>The server sends an accept message on the new socket</li>\n<li>The client receives the new port / socket with the accept message</li>\n<li>the session continues with the session private sockets</li>\n</ol>\n<p>For more security, there might be a unique session id for the handshake (used in step 4.), the handshake messages might be authenticated or even asymmetrically encrypted, as it is done in TLS.</p>\n"}],"owner":{"account_id":1478219,"reputation":14007,"user_id":1388116,"accept_rate":85,"display_name":"dumazy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":848,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":13503629,"answer_count":2,"score":2,"last_activity_date":1689252095,"creation_date":1353539702,"question_id":13503604,"body_markdown":"I&#39;m working on a multi-client/single-server application that uses UDP to communicate.\r\nThe reason for this is that I&#39;m using multicasts and I&#39;m streaming audio.\r\n\r\nI haven&#39;t got a lot of experience in UDP/TCP and I&#39;m not really sure if it&#39;s okay that I&#39;m using several `DatagramSockets` with several different ports.\r\nI have a couple of different objects that I need to send from one device to another, therefor I&#39;m using one port for each type of object.\r\n\r\nIs this okay? I already am using about 7 different ports now.\r\nHow can I use as minimum ports as possible?","title":"Java - Using multiple datagramSockets and ports","body":"<p>I'm working on a multi-client/single-server application that uses UDP to communicate.\nThe reason for this is that I'm using multicasts and I'm streaming audio.</p>\n\n<p>I haven't got a lot of experience in UDP/TCP and I'm not really sure if it's okay that I'm using several <code>DatagramSockets</code> with several different ports.\nI have a couple of different objects that I need to send from one device to another, therefor I'm using one port for each type of object.</p>\n\n<p>Is this okay? I already am using about 7 different ports now.\nHow can I use as minimum ports as possible?</p>\n"},{"tags":["java","exception","jmeter","performance-testing","loadrunner"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689251978,"creation_date":1689251978,"answer_id":76679486,"question_id":76679272,"body_markdown":"I guess you&#39;re trying to run JMeter on Windows. If this is the case consider the following steps:\r\n\r\n1. Increase [ephemeral ports range][1]\r\n2. Decrease the [maximum time the connection spends in TIME_WAIT state][2]\r\n3. Increase the [maximum number of network connections if it&#39;s below 200](3)\r\n\r\nIf you cannot do any of these due to lack of administrative permissions - the only option would be get more machines and run your JMeter test in [distributed mode][3]\r\n\r\n\r\n  [1]: https://www.ibm.com/docs/en/filenet-p8-platform/5.2.1?topic=listener-windows\r\n  [2]: https://www.ibm.com/docs/en/filenet-p8-platform/5.5.x?topic=system-recycling-tcp-connections-microsoft-windows-operating\r\n  [3]: https://www.blazemeter.com/blog/distributed-testing-in-jmeter","title":"Non HTTP response code: java.net.BindException Response message during load test in JMeter","body":"<p>I guess you're trying to run JMeter on Windows. If this is the case consider the following steps:</p>\n<ol>\n<li>Increase <a href=\"https://www.ibm.com/docs/en/filenet-p8-platform/5.2.1?topic=listener-windows\" rel=\"nofollow noreferrer\">ephemeral ports range</a></li>\n<li>Decrease the <a href=\"https://www.ibm.com/docs/en/filenet-p8-platform/5.5.x?topic=system-recycling-tcp-connections-microsoft-windows-operating\" rel=\"nofollow noreferrer\">maximum time the connection spends in TIME_WAIT state</a></li>\n<li>Increase the maximum number of network connections if it's below 200</li>\n</ol>\n<p>If you cannot do any of these due to lack of administrative permissions - the only option would be get more machines and run your JMeter test in <a href=\"https://www.blazemeter.com/blog/distributed-testing-in-jmeter\" rel=\"nofollow noreferrer\">distributed mode</a></p>\n"}],"owner":{"account_id":17678570,"reputation":130,"user_id":12833058,"display_name":"vaibhavnayan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76679486,"answer_count":1,"score":0,"last_activity_date":1689251978,"creation_date":1689250522,"question_id":76679272,"body_markdown":"I want to do a load test with **1500VU** in **JMeter** but I am **NOT** able to ramp up more than **1000VU**.\r\n\r\nI did some R&amp;D and used two LGs (LG1 with 2 cores CPU and LG2 with 4 cores CPU) and I observed using LG1, I am able to ramp up upto 1000VU with 100% CPU usage(no exceptions), but LG2 starts throwing &quot;**Non HTTP response code: java.net.BindException&quot;** even after 600VU.\r\n\r\nEven though the config is high for LG2 than LG1, LG1 is performing better.\r\n\r\nCan anyone help to answer below two issues:\r\n1) Why LG2 is throwing BindException and what&#39;s the solution for that? \r\n2) Why LG2 with 4core is not able to ramp up more than LG1 with 2core?","title":"Non HTTP response code: java.net.BindException Response message during load test in JMeter","body":"<p>I want to do a load test with <strong>1500VU</strong> in <strong>JMeter</strong> but I am <strong>NOT</strong> able to ramp up more than <strong>1000VU</strong>.</p>\n<p>I did some R&amp;D and used two LGs (LG1 with 2 cores CPU and LG2 with 4 cores CPU) and I observed using LG1, I am able to ramp up upto 1000VU with 100% CPU usage(no exceptions), but LG2 starts throwing &quot;<strong>Non HTTP response code: java.net.BindException&quot;</strong> even after 600VU.</p>\n<p>Even though the config is high for LG2 than LG1, LG1 is performing better.</p>\n<p>Can anyone help to answer below two issues:</p>\n<ol>\n<li>Why LG2 is throwing BindException and what's the solution for that?</li>\n<li>Why LG2 with 4core is not able to ramp up more than LG1 with 2core?</li>\n</ol>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1514412547,"post_id":7271186,"comment_id":82966881,"body_markdown":"Which Tomcat version?","body":"Which Tomcat version?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1517041376,"post_id":7271186,"comment_id":83941480,"body_markdown":"And how do you know it is not working?","body":"And how do you know it is not working?"},{"owner":{"account_id":302899,"reputation":1158,"user_id":611526,"display_name":"Bruno Bossola"},"score":0,"creation_date":1517139401,"post_id":7271186,"comment_id":83964403,"body_markdown":"&quot;Which Tomcat version?&quot;\nAs you can see from the date, this happened in 2011. It&#39;s difficult for me, as of today, 7 years back. to recall the tomcat version, but as you can see from my answer down there, the buffer size was carved into the code, and there was no way to set it up trough configuration.","body":"&quot;Which Tomcat version?&quot; As you can see from the date, this happened in 2011. It&#39;s difficult for me, as of today, 7 years back. to recall the tomcat version, but as you can see from my answer down there, the buffer size was carved into the code, and there was no way to set it up trough configuration."},{"owner":{"account_id":302899,"reputation":1158,"user_id":611526,"display_name":"Bruno Bossola"},"score":0,"creation_date":1517139485,"post_id":7271186,"comment_id":83964434,"body_markdown":"&quot;how do you know it&#39;s not working?&quot; Well, as you probably know, you will get a chunked response as the server is unable to compute the length in advance without buffering it.","body":"&quot;how do you know it&#39;s not working?&quot; Well, as you probably know, you will get a chunked response as the server is unable to compute the length in advance without buffering it."}],"answers":[{"tags":[],"owner":{"account_id":302899,"reputation":1158,"user_id":611526,"display_name":"Bruno Bossola"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1315833569,"creation_date":1315833569,"answer_id":7388514,"question_id":7271186,"body_markdown":"So no way to fix this apparently. Took a look at the code, but apparently the buffer is contructed with a default size carved into the code.\r\n\r\nSo, the only way to solve this, is to use Response::setBufferSize() from your code.","title":"How do I set Tomcat response buffer size through configuration?","body":"<p>So no way to fix this apparently. Took a look at the code, but apparently the buffer is contructed with a default size carved into the code.</p>\n\n<p>So, the only way to solve this, is to use Response::setBufferSize() from your code.</p>\n"},{"tags":[],"owner":{"account_id":7913310,"reputation":21,"user_id":5976638,"display_name":"Steve"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1456346875,"creation_date":1456343628,"answer_id":35611759,"question_id":7271186,"body_markdown":"Try the following setting in connector: `socketBuffer=&quot;64000&quot;`\r\n","title":"How do I set Tomcat response buffer size through configuration?","body":"<p>Try the following setting in connector: <code>socketBuffer=\"64000\"</code></p>\n"},{"tags":[],"owner":{"account_id":6715798,"reputation":79,"user_id":5177674,"display_name":"Awadhesh Verma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1508825622,"creation_date":1508825622,"answer_id":46903367,"question_id":7271186,"body_markdown":"To use &quot;socket.appWriteBufSize&quot; and &quot;socket.appReadBufSize&quot; attribute, your connector must be NIO connector. Change the value of &quot;protocol&quot; attribute from &quot;HTTP/1.1&quot; to &quot;org.apache.coyote.http11.Http11NioProtocol&quot;.  ","title":"How do I set Tomcat response buffer size through configuration?","body":"<p>To use \"socket.appWriteBufSize\" and \"socket.appReadBufSize\" attribute, your connector must be NIO connector. Change the value of \"protocol\" attribute from \"HTTP/1.1\" to \"org.apache.coyote.http11.Http11NioProtocol\".  </p>\n"},{"tags":[],"owner":{"account_id":11114244,"reputation":1,"user_id":8158999,"display_name":"Marek W"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689251690,"creation_date":1689251657,"answer_id":76679444,"question_id":7271186,"body_markdown":"Here is solution, set in application.properties:\r\n\r\nserver.tomcat.max-http-response-header-size=16KB # or your value","title":"How do I set Tomcat response buffer size through configuration?","body":"<p>Here is solution, set in application.properties:</p>\n<p>server.tomcat.max-http-response-header-size=16KB # or your value</p>\n"}],"owner":{"account_id":302899,"reputation":1158,"user_id":611526,"display_name":"Bruno Bossola"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18080,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":4,"score":4,"last_activity_date":1689251690,"creation_date":1314884494,"question_id":7271186,"body_markdown":"I want to change through configuration (afaik server.xml) the default response buffer size. The documentation states that this is possible using the &quot;bufferSize&quot; attribute inside the &quot;Connector&quot; element but this is not working. I also tried to change &quot;socket.appWriteBufSize&quot; and &quot;socket.appReadBufSize&quot; but no luck:\r\n\r\n    &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; \r\n               \tconnectionTimeout=&quot;20000&quot;\r\n\t\tbufferSize=&quot;64000&quot; \r\n\t\tmaxHttpHeaderSize=&quot;64000&quot;\r\n\t\tsocket.appWriteBufSize=&quot;64000&quot;\r\n\t\tsocket.appReadBufSize=&quot;64000&quot;\r\n\t\tredirectPort=&quot;8443&quot; /&gt;\r\n\r\nNote that if I change the response size from my java code (httpResponse.setBufferSize(64000)) it will work, but for good reason I want to use the standard tomcat configuration mechanism.\r\n\r\nAll tests were done using a freshly downloaded Tomcat.\r\n","title":"How do I set Tomcat response buffer size through configuration?","body":"<p>I want to change through configuration (afaik server.xml) the default response buffer size. The documentation states that this is possible using the \"bufferSize\" attribute inside the \"Connector\" element but this is not working. I also tried to change \"socket.appWriteBufSize\" and \"socket.appReadBufSize\" but no luck:</p>\n\n<pre><code>&lt;Connector port=\"8080\" protocol=\"HTTP/1.1\" \n            connectionTimeout=\"20000\"\n    bufferSize=\"64000\" \n    maxHttpHeaderSize=\"64000\"\n    socket.appWriteBufSize=\"64000\"\n    socket.appReadBufSize=\"64000\"\n    redirectPort=\"8443\" /&gt;\n</code></pre>\n\n<p>Note that if I change the response size from my java code (httpResponse.setBufferSize(64000)) it will work, but for good reason I want to use the standard tomcat configuration mechanism.</p>\n\n<p>All tests were done using a freshly downloaded Tomcat.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":2,"creation_date":1689252397,"post_id":76679443,"comment_id":135188969,"body_markdown":"What is that function meant to do?","body":"What is that function meant to do?"},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1689260054,"post_id":76679443,"comment_id":135191094,"body_markdown":"Disclaimer: This is my view only :: From the above it seems to me that the above could be better done with method overloading. If the &#39;function&#39; has three variant which handles input of different types, the design would be cleaner. Inheritance is useful to process parts of the class hierarchy which can be commonly handled.","body":"Disclaimer: This is my view only :: From the above it seems to me that the above could be better done with method overloading. If the &#39;function&#39; has three variant which handles input of different types, the design would be cleaner. Inheritance is useful to process parts of the class hierarchy which can be commonly handled."}],"owner":{"account_id":13132920,"reputation":101,"user_id":9486920,"display_name":"Amit_dash_234"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689251651,"creation_date":1689251651,"question_id":76679443,"body_markdown":"I have a function like this \r\n\r\n    public void function(operand left, operand right){}\r\n\r\nThe operand is an interface and different classes can inherit from it, the interface has a method called \r\n \r\n    int getIdentity()\r\n\r\nIt returns an int, right now there are three classes that inherit it real, imaginary and complex. And they return the following ints from the `getIdentity()` method REAL = 1, IMAG = 2, COMPLEX = 3.\r\n\r\nIn the method `function` I handle it like this :\r\n\r\n    switch(left.getIdentity()){\r\n        case REAL -&gt; {\r\n            switch(right.getIdentity()){\r\n                case REAL -&gt; {\r\n                    //unique case handle\r\n                }\r\n                case IMAG -&gt; {\r\n                    //unique case handle\r\n                }\r\n                case COMPLEX -&gt; {\r\n                    //unique case handle\r\n                }\r\n            }\r\n        }\r\n        case IMAG -&gt; {\r\n            switch(right.getIdentity()){\r\n                case REAL -&gt; {\r\n                    //unique case handle\r\n                }\r\n                case IMAG -&gt; {\r\n                    //unique case handle\r\n                }\r\n                case COMPLEX -&gt; {\r\n                    //unique case handle\r\n                }\r\n            }\r\n        }\r\n        case COMPLEX -&gt; {\r\n            switch(right.getIdentity()){\r\n                case REAL -&gt; {\r\n                    //unique case handle\r\n                }\r\n                case IMAG -&gt; {\r\n                    //unique case handle\r\n                }\r\n                case COMPLEX -&gt; {\r\n                    //unique case handle\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAs its clear, it&#39;s very tiresome to check for all possible unique combinations, as more classes will inherit from this interface, testing the unique combinations will become even more tiresome. So I was wondering if there&#39;s a more efficient way to handle this type of situations.","title":"How to handle multiple states of objects efficiently","body":"<p>I have a function like this</p>\n<pre><code>public void function(operand left, operand right){}\n</code></pre>\n<p>The operand is an interface and different classes can inherit from it, the interface has a method called</p>\n<pre><code>int getIdentity()\n</code></pre>\n<p>It returns an int, right now there are three classes that inherit it real, imaginary and complex. And they return the following ints from the <code>getIdentity()</code> method REAL = 1, IMAG = 2, COMPLEX = 3.</p>\n<p>In the method <code>function</code> I handle it like this :</p>\n<pre><code>switch(left.getIdentity()){\n    case REAL -&gt; {\n        switch(right.getIdentity()){\n            case REAL -&gt; {\n                //unique case handle\n            }\n            case IMAG -&gt; {\n                //unique case handle\n            }\n            case COMPLEX -&gt; {\n                //unique case handle\n            }\n        }\n    }\n    case IMAG -&gt; {\n        switch(right.getIdentity()){\n            case REAL -&gt; {\n                //unique case handle\n            }\n            case IMAG -&gt; {\n                //unique case handle\n            }\n            case COMPLEX -&gt; {\n                //unique case handle\n            }\n        }\n    }\n    case COMPLEX -&gt; {\n        switch(right.getIdentity()){\n            case REAL -&gt; {\n                //unique case handle\n            }\n            case IMAG -&gt; {\n                //unique case handle\n            }\n            case COMPLEX -&gt; {\n                //unique case handle\n            }\n        }\n    }\n}\n</code></pre>\n<p>As its clear, it's very tiresome to check for all possible unique combinations, as more classes will inherit from this interface, testing the unique combinations will become even more tiresome. So I was wondering if there's a more efficient way to handle this type of situations.</p>\n"},{"tags":["java","android-asynctask"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1689251769,"post_id":76679399,"comment_id":135188817,"body_markdown":"Note that your `AsyncTaskExecutorService.getHandler()` method is not thread safe.","body":"Note that your <code>AsyncTaskExecutorService.getHandler()</code> method is not thread safe."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1689252712,"post_id":76679399,"comment_id":135189057,"body_markdown":"It does not make sense to declare a parameter of type `Void`, because this class cannot be instantiated or subclassed. The only argument that matches it is `null`.  In particular, `Void` is not a superclass of `Params`, so you cannot override a method that accepts a `Params` parameter with one that accepts a `Void`.  Nor anyway can you pass an argument of type `String` to a parameter of type `Void` (or type `Params`).  If you&#39;re looking for a parameter type compatible with arguments of all reference types then that is `Object`.","body":"It does not make sense to declare a parameter of type <code>Void</code>, because this class cannot be instantiated or subclassed. The only argument that matches it is <code>null</code>.  In particular, <code>Void</code> is not a superclass of <code>Params</code>, so you cannot override a method that accepts a <code>Params</code> parameter with one that accepts a <code>Void</code>.  Nor anyway can you pass an argument of type <code>String</code> to a parameter of type <code>Void</code> (or type <code>Params</code>).  If you&#39;re looking for a parameter type compatible with arguments of all reference types then that is <code>Object</code>."},{"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"score":0,"creation_date":1689252718,"post_id":76679399,"comment_id":135189058,"body_markdown":"Maybe shall I just have to simplify that abstract class just calling directly the ‵execute()‵ without using ‵handler‵ , neither ‵preExecute‵ or ‵ProgressUpdate‵ or ‵publishProgress‵ since i just need to elaborate a origin string I pass?...","body":"Maybe shall I just have to simplify that abstract class just calling directly the ‵execute()‵ without using ‵handler‵ , neither ‵preExecute‵ or ‵ProgressUpdate‵ or ‵publishProgress‵ since i just need to elaborate a origin string I pass?..."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1689253158,"post_id":76679399,"comment_id":135189205,"body_markdown":"I think you would probably be best off writing something specific to your intended use, instead of trying to mimic `AsyncTask` in its full generality.","body":"I think you would probably be best off writing something specific to your intended use, instead of trying to mimic <code>AsyncTask</code> in its full generality."},{"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"score":0,"creation_date":1689331802,"post_id":76679399,"comment_id":135201661,"body_markdown":"Hello @JohnBollinger , thank you for your suggest, I simplified the abstract class and moved it in separate .java file so also the class that extends the abstract class is moved in a separate .java file and it works like a charm without any notices of deprecation... thanks again!!!","body":"Hello @JohnBollinger , thank you for your suggest, I simplified the abstract class and moved it in separate .java file so also the class that extends the abstract class is moved in a separate .java file and it works like a charm without any notices of deprecation... thanks again!!!"}],"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689251399,"creation_date":1689251399,"question_id":76679399,"body_markdown":"Since Android 11 `AsyncTask` is deprecated so I implemented in a separate .java file this `AsyncExecutorService` abstract class:\r\n\r\n    public abstract class AsyncTaskExecutorService&lt;Params, Progress, Result&gt; {\r\n        private ExecutorService executor;\r\n        private android.os.Handler handler;\r\n    \r\n        protected AsyncTaskExecutorService() {\r\n            executor = Executors.newSingleThreadExecutor(r -&gt; {\r\n                Thread t = new Thread(r);\r\n                t.setDaemon(true);\r\n                return t;\r\n            });\r\n        }\r\n    \r\n        public ExecutorService getExecutor() {  return executor;  }\r\n    \r\n        public Handler getHandler() {\r\n            if (handler == null) {\r\n                synchronized (AsyncTaskExecutorService.class) {\r\n                    handler = new Handler(Looper.getMainLooper()) {\r\n                    };\r\n                }\r\n            }\r\n            return handler;\r\n        }\r\n    \r\n        protected void onPreExecute() { }\r\n    \r\n        protected abstract String doInBackground(Params params);\r\n    \r\n        protected abstract void onPostExecute(String result);\r\n    \r\n        protected void onProgressUpdate(@NotNull Progress value) { }\r\n    \r\n        public void publishProgress(@NotNull Progress value) {  getHandler().post(() -&gt; onProgressUpdate(value));  }\r\n    \r\n        public void execute() { execute(null); }\r\n    \r\n        public void execute(Params params) {\r\n            getHandler().post(() -&gt; {\r\n                onPreExecute();\r\n                executor.execute(() -&gt; {\r\n                    String result = doInBackground(params);\r\n                    getHandler().post(() -&gt; onPostExecute(result));\r\n                });\r\n            });\r\n        }\r\n    \r\n        public void shutDown() {\r\n            if (executor != null) {\r\n                executor.shutdownNow();\r\n            }\r\n        }\r\n    \r\n        public boolean isCancelled() { return executor == null || executor.isTerminated() || executor.isShutdown(); }\r\n    }\r\n\r\nso I modified my ex-AsyncTask class into:\r\n\r\n    public class retrieveMyString extends AsyncTaskExecutorService &lt;Object, Void, String&gt; {   **&lt;--- ERROR: Class &#39;retrieveMyString&#39; must either be declared abstract or implement abstract method &#39;doInBackground(Params)&#39; in &#39;AsyncTaskExecutorService&#39;**\r\n    \r\n    \r\n    \tprivate String myString;\r\n        private String data;\r\n        private String hostName;\t\r\n    \r\n        public retrieveMyString(String passedData, Context passedContext) {\r\n            data = passedData;\r\n            mContext = passedContext;\r\n        }\r\n    \r\n        @Override **&lt;---- ERROR: Method does not override method from its superclass**\r\n        protected String doInBackground(Void params) {\r\n    \t\t[...]\r\n    \t\t\r\n    \t\treturn myString;\r\n    \t}\r\n    \r\n        @Override\r\n        protected void onPostExecute(String returnedmyString) {\r\n            //super.onPostExecute(returnedmyString);\r\n        }\r\n    \t\r\n    }\r\n\r\nand with this class I try just to obtain a string in the moment of its declaration:\r\n\r\n    retrieveMyString retrieveOwnString = new retrieveMyString(StringToResolve, getContext());\r\n\r\nshall I have just to change all Params params to String in the abstract class or shall I have to threat that params as String to work to obtain a string? Thanks to all in advance!! Cheers! ","title":"Passing or declaring variable of AsyncExecutorService in right way","body":"<p>Since Android 11 <code>AsyncTask</code> is deprecated so I implemented in a separate .java file this <code>AsyncExecutorService</code> abstract class:</p>\n<pre><code>public abstract class AsyncTaskExecutorService&lt;Params, Progress, Result&gt; {\n    private ExecutorService executor;\n    private android.os.Handler handler;\n\n    protected AsyncTaskExecutorService() {\n        executor = Executors.newSingleThreadExecutor(r -&gt; {\n            Thread t = new Thread(r);\n            t.setDaemon(true);\n            return t;\n        });\n    }\n\n    public ExecutorService getExecutor() {  return executor;  }\n\n    public Handler getHandler() {\n        if (handler == null) {\n            synchronized (AsyncTaskExecutorService.class) {\n                handler = new Handler(Looper.getMainLooper()) {\n                };\n            }\n        }\n        return handler;\n    }\n\n    protected void onPreExecute() { }\n\n    protected abstract String doInBackground(Params params);\n\n    protected abstract void onPostExecute(String result);\n\n    protected void onProgressUpdate(@NotNull Progress value) { }\n\n    public void publishProgress(@NotNull Progress value) {  getHandler().post(() -&gt; onProgressUpdate(value));  }\n\n    public void execute() { execute(null); }\n\n    public void execute(Params params) {\n        getHandler().post(() -&gt; {\n            onPreExecute();\n            executor.execute(() -&gt; {\n                String result = doInBackground(params);\n                getHandler().post(() -&gt; onPostExecute(result));\n            });\n        });\n    }\n\n    public void shutDown() {\n        if (executor != null) {\n            executor.shutdownNow();\n        }\n    }\n\n    public boolean isCancelled() { return executor == null || executor.isTerminated() || executor.isShutdown(); }\n}\n</code></pre>\n<p>so I modified my ex-AsyncTask class into:</p>\n<pre><code>public class retrieveMyString extends AsyncTaskExecutorService &lt;Object, Void, String&gt; {   **&lt;--- ERROR: Class 'retrieveMyString' must either be declared abstract or implement abstract method 'doInBackground(Params)' in 'AsyncTaskExecutorService'**\n\n\n    private String myString;\n    private String data;\n    private String hostName;    \n\n    public retrieveMyString(String passedData, Context passedContext) {\n        data = passedData;\n        mContext = passedContext;\n    }\n\n    @Override **&lt;---- ERROR: Method does not override method from its superclass**\n    protected String doInBackground(Void params) {\n        [...]\n        \n        return myString;\n    }\n\n    @Override\n    protected void onPostExecute(String returnedmyString) {\n        //super.onPostExecute(returnedmyString);\n    }\n    \n}\n</code></pre>\n<p>and with this class I try just to obtain a string in the moment of its declaration:</p>\n<pre><code>retrieveMyString retrieveOwnString = new retrieveMyString(StringToResolve, getContext());\n</code></pre>\n<p>shall I have just to change all Params params to String in the abstract class or shall I have to threat that params as String to work to obtain a string? Thanks to all in advance!! Cheers!</p>\n"},{"tags":["java","latitude-longitude","geotools"],"answers":[{"tags":[],"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1496156581,"creation_date":1496131096,"answer_id":44256659,"question_id":44249945,"body_markdown":"Your output circle is valid, it just happens to exceed the diameter of the Earth&#39;s surface so your GIS may have issues drawing it! The problem is that you are mixing degrees and meters indiscriminately and GeoTools has no clue what you want it to do.\r\n\r\nYou need to add some information about the coordinate reference system of the point to the program, and if that projection is geographic (i.e. in degrees), transform the problem to a projection that is in meters. \r\n\r\n    public Geometry bufferPoint(Measure&lt;Double, Length&gt; distance, CoordinateReferenceSystem origCRS, Geometry geom) {\r\n        Geometry pGeom = geom;\r\n        MathTransform toTransform, fromTransform = null;\r\n        // reproject the geometry to a local projection\r\n        Unit&lt;Length&gt; unit = distance.getUnit();\r\n        if (!(origCRS instanceof ProjectedCRS)) {\r\n    \r\n          double x = geom.getCoordinate().x;\r\n          double y = geom.getCoordinate().y;\r\n    \r\n          String code = &quot;AUTO:42001,&quot; + x + &quot;,&quot; + y;\r\n          // System.out.println(code);\r\n          CoordinateReferenceSystem auto;\r\n          try {\r\n            auto = CRS.decode(code);\r\n            toTransform = CRS.findMathTransform(DefaultGeographicCRS.WGS84, auto);\r\n            fromTransform = CRS.findMathTransform(auto, DefaultGeographicCRS.WGS84);\r\n            pGeom = JTS.transform(geom, toTransform);\r\n            unit = SI.METER;\r\n          } catch (MismatchedDimensionException | TransformException | FactoryException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n          }\r\n    \r\n        } else {\r\n          unit = (Unit&lt;Length&gt;) origCRS.getCoordinateSystem().getAxis(0).getUnit();\r\n          \r\n        }\r\n        \r\n        \r\n        // buffer\r\n        Geometry out = pGeom.buffer(distance.doubleValue(unit));\r\n        Geometry retGeom = out;\r\n        // reproject the geometry to the original projection\r\n        if (!(origCRS instanceof ProjectedCRS)) {\r\n          try {\r\n            retGeom = JTS.transform(out, fromTransform);\r\n    \r\n          } catch (MismatchedDimensionException | TransformException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n          }\r\n        }\r\n        return retGeom;\r\n      }\r\n\r\n \r\n\r\n`AUTO:42001,x,y` is a special projection centred on the point `x,y` in meters that allows us to use the JTS [`buffer`][1] method which is easier than the circle operation you are using.\r\n\r\nFor your inputs this gives me an ellipse over New York, note this is expected and is due to the distorting effects of using unprojected Lat/Lon coordinates on a curved Earth.\r\n\r\nYou can call it using:\r\n\r\n    //Measure&lt;Double, Length&gt; dist = Measure.valueOf(50.0, SI.KILOMETER);\r\n    Measure&lt;Double, Length&gt; dist = Measure.valueOf(1.0, NonSI.MILE);\r\n    GeometryFactory gf = new GeometryFactory();\r\n    Point p = gf.createPoint(new Coordinate(-73.87,40.84));\r\n    buf.bufferPoint(dist, DefaultGeographicCRS.WGS84, p);\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://locationtech.github.io/jts/javadoc/index.html?org/locationtech/jts/operation/buffer/BufferOp.html\r\n  [2]: https://i.stack.imgur.com/cveQl.png","title":"How to use GeometricShapeFactory in geoTools to create a Circle on map","body":"<p>Your output circle is valid, it just happens to exceed the diameter of the Earth's surface so your GIS may have issues drawing it! The problem is that you are mixing degrees and meters indiscriminately and GeoTools has no clue what you want it to do.</p>\n\n<p>You need to add some information about the coordinate reference system of the point to the program, and if that projection is geographic (i.e. in degrees), transform the problem to a projection that is in meters. </p>\n\n<pre><code>public Geometry bufferPoint(Measure&lt;Double, Length&gt; distance, CoordinateReferenceSystem origCRS, Geometry geom) {\n    Geometry pGeom = geom;\n    MathTransform toTransform, fromTransform = null;\n    // reproject the geometry to a local projection\n    Unit&lt;Length&gt; unit = distance.getUnit();\n    if (!(origCRS instanceof ProjectedCRS)) {\n\n      double x = geom.getCoordinate().x;\n      double y = geom.getCoordinate().y;\n\n      String code = \"AUTO:42001,\" + x + \",\" + y;\n      // System.out.println(code);\n      CoordinateReferenceSystem auto;\n      try {\n        auto = CRS.decode(code);\n        toTransform = CRS.findMathTransform(DefaultGeographicCRS.WGS84, auto);\n        fromTransform = CRS.findMathTransform(auto, DefaultGeographicCRS.WGS84);\n        pGeom = JTS.transform(geom, toTransform);\n        unit = SI.METER;\n      } catch (MismatchedDimensionException | TransformException | FactoryException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n      }\n\n    } else {\n      unit = (Unit&lt;Length&gt;) origCRS.getCoordinateSystem().getAxis(0).getUnit();\n\n    }\n\n\n    // buffer\n    Geometry out = pGeom.buffer(distance.doubleValue(unit));\n    Geometry retGeom = out;\n    // reproject the geometry to the original projection\n    if (!(origCRS instanceof ProjectedCRS)) {\n      try {\n        retGeom = JTS.transform(out, fromTransform);\n\n      } catch (MismatchedDimensionException | TransformException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n      }\n    }\n    return retGeom;\n  }\n</code></pre>\n\n<p><code>AUTO:42001,x,y</code> is a special projection centred on the point <code>x,y</code> in meters that allows us to use the JTS <a href=\"https://locationtech.github.io/jts/javadoc/index.html?org/locationtech/jts/operation/buffer/BufferOp.html\" rel=\"nofollow noreferrer\"><code>buffer</code></a> method which is easier than the circle operation you are using.</p>\n\n<p>For your inputs this gives me an ellipse over New York, note this is expected and is due to the distorting effects of using unprojected Lat/Lon coordinates on a curved Earth.</p>\n\n<p>You can call it using:</p>\n\n<pre><code>//Measure&lt;Double, Length&gt; dist = Measure.valueOf(50.0, SI.KILOMETER);\nMeasure&lt;Double, Length&gt; dist = Measure.valueOf(1.0, NonSI.MILE);\nGeometryFactory gf = new GeometryFactory();\nPoint p = gf.createPoint(new Coordinate(-73.87,40.84));\nbuf.bufferPoint(dist, DefaultGeographicCRS.WGS84, p);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/cveQl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cveQl.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":11179471,"reputation":621,"user_id":8203923,"display_name":"Jared"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1539786261,"creation_date":1539785953,"answer_id":52857147,"question_id":44249945,"body_markdown":"  \r\n        double latitude = 40.689234d;\r\n        double longitude = -74.044598d;\r\n        double diameterInMeters = 2000d; //2km\r\n\r\n        GeometricShapeFactory shapeFactory = new GeometricShapeFactory();\r\n        shapeFactory.setNumPoints(64); // adjustable\r\n        shapeFactory.setCentre(new Coordinate(latitude, longitude));\r\n        // Length in meters of 1&#176; of latitude = always 111.32 km\r\n        shapeFactory.setWidth(diameterInMeters/111320d);\r\n        // Length in meters of 1&#176; of longitude = 40075 km * cos( latitude ) / 360\r\n        shapeFactory.setHeight(diameterInMeters / (40075000 * Math.cos(Math.toRadians(latitude)) / 360));\r\n\r\n        Polygon circle = shapeFactory.createEllipse();\r\n\r\n![result](https://i.stack.imgur.com/lfzyC.png)","title":"How to use GeometricShapeFactory in geoTools to create a Circle on map","body":"<pre><code>    double latitude = 40.689234d;\n    double longitude = -74.044598d;\n    double diameterInMeters = 2000d; //2km\n\n    GeometricShapeFactory shapeFactory = new GeometricShapeFactory();\n    shapeFactory.setNumPoints(64); // adjustable\n    shapeFactory.setCentre(new Coordinate(latitude, longitude));\n    // Length in meters of 1° of latitude = always 111.32 km\n    shapeFactory.setWidth(diameterInMeters/111320d);\n    // Length in meters of 1° of longitude = 40075 km * cos( latitude ) / 360\n    shapeFactory.setHeight(diameterInMeters / (40075000 * Math.cos(Math.toRadians(latitude)) / 360));\n\n    Polygon circle = shapeFactory.createEllipse();\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/lfzyC.png\" alt=\"result\"></p>\n"},{"tags":[],"owner":{"account_id":1886834,"reputation":528,"user_id":1705880,"accept_rate":50,"display_name":"Sparm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689250743,"creation_date":1689250743,"answer_id":76679311,"question_id":44249945,"body_markdown":"If you just want a pretty circle on a flat map, this worked for me:\r\n\r\n    \r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.geotools.geojson.geom.GeometryJSON;\r\n    import org.locationtech.jts.geom.Coordinate;\r\n    import org.locationtech.jts.geom.Geometry;\r\n    import org.locationtech.jts.geom.GeometryFactory;\r\n    import org.locationtech.jts.geom.Point;\r\n    import org.locationtech.jts.geom.PrecisionModel;\r\n    \r\n    \r\n    public class GeoUtils {\r\n    \r\n        public class GeoCoordDTO {\r\n            float lat;\r\n    \r\n            public float getLat() {\r\n                return lat;\r\n            }\r\n    \r\n            float lon;\r\n    \r\n            public float getLon() {\r\n                return lon;\r\n            }\r\n        }\r\n    \r\n        public static String createGeoJsonCircle(\r\n            GeoCoordDTO g1,\r\n            double radiusInKm\r\n        ) throws IOException {\r\n            Geometry shape = new GeometryFactory().createMultiPoint(createCircle(64, g1, radiusInKm).toArray(new Point[] {}));\r\n            GeometryJSON g = new GeometryJSON(17);\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            g.write(shape, baos);\r\n            return baos.toString();\r\n        }\r\n    \r\n        private static double toRadians(float angleInDegrees) {\r\n            return (angleInDegrees * Math.PI) / 180;\r\n        }\r\n    \r\n        private static double toDegrees(double angleInRadians) {\r\n            return (angleInRadians * 180) / Math.PI;\r\n        }\r\n    \r\n    \r\n        private static Point createPoint(\r\n            GeoCoordDTO c1,\r\n            double distance,\r\n            double bearing\r\n        ) {\r\n            int earthRadius = 6378137;\r\n            double lat1 = toRadians(c1.getLat());\r\n            double lon1 = toRadians(c1.getLon());\r\n            double dByR = distance / earthRadius;\r\n            double lat = Math.asin(Math.sin(lat1) * Math.cos(dByR) + Math.cos(lat1) * Math.sin(dByR) * Math.cos(bearing));\r\n            double lon = lon1 + Math.atan2(Math.sin(bearing) * Math.sin(dByR) * Math.cos(lat1), Math.cos(dByR) - Math.sin(lat1) * Math.sin(lat));\r\n            return new Point(new Coordinate(toDegrees(lon), toDegrees(lat)), new PrecisionModel(PrecisionModel.FLOATING), 0);\r\n        }\r\n    \r\n        private static List&lt;Point&gt; createCircle(\r\n            int noOfPoints,\r\n            GeoCoordDTO g1,\r\n            double radiusInKm\r\n        ) {\r\n            List&lt;Point&gt; coordinates = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; noOfPoints; ++i) {\r\n                coordinates.add(createPoint(g1, radiusInKm * 1000, (2 * Math.PI * -i) / noOfPoints));\r\n            }\r\n            coordinates.add(coordinates.get(0));\r\n            return coordinates;\r\n        }\r\n    }\r\n","title":"How to use GeometricShapeFactory in geoTools to create a Circle on map","body":"<p>If you just want a pretty circle on a flat map, this worked for me:</p>\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.geotools.geojson.geom.GeometryJSON;\nimport org.locationtech.jts.geom.Coordinate;\nimport org.locationtech.jts.geom.Geometry;\nimport org.locationtech.jts.geom.GeometryFactory;\nimport org.locationtech.jts.geom.Point;\nimport org.locationtech.jts.geom.PrecisionModel;\n\n\npublic class GeoUtils {\n\n    public class GeoCoordDTO {\n        float lat;\n\n        public float getLat() {\n            return lat;\n        }\n\n        float lon;\n\n        public float getLon() {\n            return lon;\n        }\n    }\n\n    public static String createGeoJsonCircle(\n        GeoCoordDTO g1,\n        double radiusInKm\n    ) throws IOException {\n        Geometry shape = new GeometryFactory().createMultiPoint(createCircle(64, g1, radiusInKm).toArray(new Point[] {}));\n        GeometryJSON g = new GeometryJSON(17);\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        g.write(shape, baos);\n        return baos.toString();\n    }\n\n    private static double toRadians(float angleInDegrees) {\n        return (angleInDegrees * Math.PI) / 180;\n    }\n\n    private static double toDegrees(double angleInRadians) {\n        return (angleInRadians * 180) / Math.PI;\n    }\n\n\n    private static Point createPoint(\n        GeoCoordDTO c1,\n        double distance,\n        double bearing\n    ) {\n        int earthRadius = 6378137;\n        double lat1 = toRadians(c1.getLat());\n        double lon1 = toRadians(c1.getLon());\n        double dByR = distance / earthRadius;\n        double lat = Math.asin(Math.sin(lat1) * Math.cos(dByR) + Math.cos(lat1) * Math.sin(dByR) * Math.cos(bearing));\n        double lon = lon1 + Math.atan2(Math.sin(bearing) * Math.sin(dByR) * Math.cos(lat1), Math.cos(dByR) - Math.sin(lat1) * Math.sin(lat));\n        return new Point(new Coordinate(toDegrees(lon), toDegrees(lat)), new PrecisionModel(PrecisionModel.FLOATING), 0);\n    }\n\n    private static List&lt;Point&gt; createCircle(\n        int noOfPoints,\n        GeoCoordDTO g1,\n        double radiusInKm\n    ) {\n        List&lt;Point&gt; coordinates = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; noOfPoints; ++i) {\n            coordinates.add(createPoint(g1, radiusInKm * 1000, (2 * Math.PI * -i) / noOfPoints));\n        }\n        coordinates.add(coordinates.get(0));\n        return coordinates;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":194080,"reputation":998,"user_id":436183,"accept_rate":75,"display_name":"Jeryl Cook"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7820,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44256659,"answer_count":3,"score":1,"last_activity_date":1689250743,"creation_date":1496089823,"question_id":44249945,"body_markdown":"I am currently using the below code to create a GeoJson Polygon. this gives me a bad circle which is not valid...\r\n\r\n\r\nin this case `RADIUS = 1609.34`  , which is 1 mile in meters.\r\n\r\n\t\t\tpublic \tGeoJsonPolygon createRadiusPolygon(  Point point,double RADIUS) {\t\t\r\n\t \r\n\t\t\t\t  GeometricShapeFactory shapeFactory = new GeometricShapeFactory();\r\n\t\t\t\t  shapeFactory.setNumPoints(32);\r\n\t\t\t\t  shapeFactory.setCentre(new com.vividsolutions.jts.geom.Coordinate(point.getX(), point.getY()));\r\n\t\t\t\t  shapeFactory.setSize(RADIUS * 2);\r\n\t\t\t\t  com.vividsolutions.jts.geom.Geometry circle = shapeFactory.createCircle();\r\n\t\t\t\t  List&lt;Point&gt; points = new ArrayList&lt;Point&gt;();\r\n\t\t\t\t\tfor (com.vividsolutions.jts.geom.Coordinate coordinate : circle.getCoordinates()) {\r\n\t\t\t\t\t\tPoint lngLatAtl = new Point(coordinate.x, coordinate.y);\r\n\t\t\t\t\t\tpoints.add(lngLatAtl);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tCollections.reverse(points);\r\n\t\t\t\t\treturn new GeoJsonPolygon(points);\r\n\t\t\t\t}\r\n\r\n\r\nreferenced:\r\nhttp://docs.geotools.org/stable/userguide/library/jts/geometry.html\r\n\r\n\r\ncurrently if i use Point(-73.87,40.84)  RADIUS = 1609.34, i get the below link.\r\nhttps://gist.githubusercontent.com/VanitySoft/56c4ce0f5c1c7e7fe0461ed46fd5ed11/raw/94544750a140d81780ebe9206395a21ab88bb1f7/circle\r\n\r\n===SOLVED== from @Ian answer:\r\nUsing method in his answer. RADIUS is in miles, to get the Circle used to create the GeoJson.\r\n\r\n    ...\r\n      com.vividsolutions.jts.geom.Point jtsPoint =  new GeometryFactory().createPoint(new com.vividsolutions.jts.geom.Coordinate(point.getY(), point.getX()));\r\n    \t\t\t      javax.measure.Measure measure = Measure.valueOf(RADIUS, NonSI.MILE);\r\n    \t\t\t\t  com.vividsolutions.jts.geom.Geometry circle = createCircleRadis(measure,CRS.decode(&quot;epsg:4326&quot;),jtsPoint );\r\n    ...\r\n\r\n...\r\n\t\t\t\t ","title":"How to use GeometricShapeFactory in geoTools to create a Circle on map","body":"<p>I am currently using the below code to create a GeoJson Polygon. this gives me a bad circle which is not valid...</p>\n\n<p>in this case <code>RADIUS = 1609.34</code>  , which is 1 mile in meters.</p>\n\n<pre><code>        public  GeoJsonPolygon createRadiusPolygon(  Point point,double RADIUS) {       \n\n              GeometricShapeFactory shapeFactory = new GeometricShapeFactory();\n              shapeFactory.setNumPoints(32);\n              shapeFactory.setCentre(new com.vividsolutions.jts.geom.Coordinate(point.getX(), point.getY()));\n              shapeFactory.setSize(RADIUS * 2);\n              com.vividsolutions.jts.geom.Geometry circle = shapeFactory.createCircle();\n              List&lt;Point&gt; points = new ArrayList&lt;Point&gt;();\n                for (com.vividsolutions.jts.geom.Coordinate coordinate : circle.getCoordinates()) {\n                    Point lngLatAtl = new Point(coordinate.x, coordinate.y);\n                    points.add(lngLatAtl);\n                }\n                Collections.reverse(points);\n                return new GeoJsonPolygon(points);\n            }\n</code></pre>\n\n<p>referenced:\n<a href=\"http://docs.geotools.org/stable/userguide/library/jts/geometry.html\" rel=\"nofollow noreferrer\">http://docs.geotools.org/stable/userguide/library/jts/geometry.html</a></p>\n\n<p>currently if i use Point(-73.87,40.84)  RADIUS = 1609.34, i get the below link.\n<a href=\"https://gist.githubusercontent.com/VanitySoft/56c4ce0f5c1c7e7fe0461ed46fd5ed11/raw/94544750a140d81780ebe9206395a21ab88bb1f7/circle\" rel=\"nofollow noreferrer\">https://gist.githubusercontent.com/VanitySoft/56c4ce0f5c1c7e7fe0461ed46fd5ed11/raw/94544750a140d81780ebe9206395a21ab88bb1f7/circle</a></p>\n\n<p>===SOLVED== from @Ian answer:\nUsing method in his answer. RADIUS is in miles, to get the Circle used to create the GeoJson.</p>\n\n<pre><code>...\n  com.vividsolutions.jts.geom.Point jtsPoint =  new GeometryFactory().createPoint(new com.vividsolutions.jts.geom.Coordinate(point.getY(), point.getX()));\n                  javax.measure.Measure measure = Measure.valueOf(RADIUS, NonSI.MILE);\n                  com.vividsolutions.jts.geom.Geometry circle = createCircleRadis(measure,CRS.decode(\"epsg:4326\"),jtsPoint );\n...\n</code></pre>\n\n<p>...</p>\n"},{"tags":["java","state","dapr"],"answers":[{"tags":[],"owner":{"account_id":2070337,"reputation":63,"user_id":1844976,"display_name":"J.S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689248493,"creation_date":1689248493,"answer_id":76678989,"question_id":76479833,"body_markdown":"According to https://github.com/dapr/java-sdk/issues/627:\r\n\r\nIt is not possible to set the TTL via the Java SDK. The default approach is to set it via the component configuration though. In any way, being able to utilize TTL depends on the state store you are using. See the TTL column here: https://docs.dapr.io/reference/components-reference/supported-state-stores/","title":"Cannot set TTl in a dapr state via Java SDK","body":"<p>According to <a href=\"https://github.com/dapr/java-sdk/issues/627\" rel=\"nofollow noreferrer\">https://github.com/dapr/java-sdk/issues/627</a>:</p>\n<p>It is not possible to set the TTL via the Java SDK. The default approach is to set it via the component configuration though. In any way, being able to utilize TTL depends on the state store you are using. See the TTL column here: <a href=\"https://docs.dapr.io/reference/components-reference/supported-state-stores/\" rel=\"nofollow noreferrer\">https://docs.dapr.io/reference/components-reference/supported-state-stores/</a></p>\n"},{"tags":[],"owner":{"account_id":21739251,"reputation":179,"user_id":16046846,"display_name":"Konstantinos K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689250513,"creation_date":1689250513,"answer_id":76679270,"question_id":76479833,"body_markdown":"You need to try something like the above:\r\n\r\n    import java.net.URI;\r\n    import java.net.http.HttpClient;\r\n    import java.net.http.HttpRequest;\r\n    import java.net.http.HttpResponse;\r\n    \r\n    public class DaprStateTTLExample {\r\n        private static final String DAPR_SIDECAR_HTTP_PORT = &quot;3500&quot;;\r\n        private static final String STATE_STORE_NAME = &quot;your-state-store-name&quot;;\r\n        private static final String KEY = &quot;your-state-key&quot;;\r\n        private static final String BASE_URL = &quot;http://localhost:&quot; + DAPR_SIDECAR_HTTP_PORT + &quot;/v1.0/state/&quot;;\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            // Set the TTL to 60 seconds (adjust as needed)\r\n            int ttlInSeconds = 60;\r\n    \r\n            // Create the state object\r\n            YourStateObject state = new YourStateObject();\r\n            state.setSomeProperty(&quot;some value&quot;);\r\n    \r\n            // Convert the state object to JSON\r\n            String stateJson = YourJsonSerializer.serialize(state);\r\n    \r\n            // Create the HTTP client\r\n            HttpClient httpClient = HttpClient.newHttpClient();\r\n    \r\n            // Build the request\r\n            String url = BASE_URL + STATE_STORE_NAME;\r\n            String payload = String.format(&quot;[{\\&quot;key\\&quot;: \\&quot;%s\\&quot;, \\&quot;value\\&quot;: %s, \\&quot;options\\&quot;: {\\&quot;ttlInSeconds\\&quot;: %d}}]&quot;, KEY, stateJson, ttlInSeconds);\r\n            HttpRequest request = HttpRequest.newBuilder()\r\n                    .uri(URI.create(url))\r\n                    .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                    .POST(HttpRequest.BodyPublishers.ofString(payload))\r\n                    .build();\r\n    \r\n            // Send the request\r\n            HttpResponse&lt;String&gt; response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());\r\n    \r\n            // Check the response\r\n            if (response.statusCode() == 200) {\r\n                System.out.println(&quot;State saved successfully with TTL&quot;);\r\n            } else {\r\n                System.out.println(&quot;Failed to save state with TTL. Error: &quot; + response.body());\r\n            }\r\n        }\r\n    \r\n        // YourStateObject represents the structure of your state\r\n        static class YourStateObject {\r\n            private String someProperty;\r\n    \r\n            public String getSomeProperty() {\r\n                return someProperty;\r\n            }\r\n    \r\n            public void setSomeProperty(String someProperty) {\r\n                this.someProperty = someProperty;\r\n            }\r\n        }\r\n    \r\n        // YourJsonSerializer represents your JSON serialization logic\r\n        static class YourJsonSerializer {\r\n            public static String serialize(Object obj) {\r\n                // Implement your JSON serialization logic here\r\n                return &quot;&quot;;\r\n            }\r\n        }\r\n    }","title":"Cannot set TTl in a dapr state via Java SDK","body":"<p>You need to try something like the above:</p>\n<pre><code>import java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\n\npublic class DaprStateTTLExample {\n    private static final String DAPR_SIDECAR_HTTP_PORT = &quot;3500&quot;;\n    private static final String STATE_STORE_NAME = &quot;your-state-store-name&quot;;\n    private static final String KEY = &quot;your-state-key&quot;;\n    private static final String BASE_URL = &quot;http://localhost:&quot; + DAPR_SIDECAR_HTTP_PORT + &quot;/v1.0/state/&quot;;\n\n    public static void main(String[] args) throws Exception {\n        // Set the TTL to 60 seconds (adjust as needed)\n        int ttlInSeconds = 60;\n\n        // Create the state object\n        YourStateObject state = new YourStateObject();\n        state.setSomeProperty(&quot;some value&quot;);\n\n        // Convert the state object to JSON\n        String stateJson = YourJsonSerializer.serialize(state);\n\n        // Create the HTTP client\n        HttpClient httpClient = HttpClient.newHttpClient();\n\n        // Build the request\n        String url = BASE_URL + STATE_STORE_NAME;\n        String payload = String.format(&quot;[{\\&quot;key\\&quot;: \\&quot;%s\\&quot;, \\&quot;value\\&quot;: %s, \\&quot;options\\&quot;: {\\&quot;ttlInSeconds\\&quot;: %d}}]&quot;, KEY, stateJson, ttlInSeconds);\n        HttpRequest request = HttpRequest.newBuilder()\n                .uri(URI.create(url))\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .POST(HttpRequest.BodyPublishers.ofString(payload))\n                .build();\n\n        // Send the request\n        HttpResponse&lt;String&gt; response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());\n\n        // Check the response\n        if (response.statusCode() == 200) {\n            System.out.println(&quot;State saved successfully with TTL&quot;);\n        } else {\n            System.out.println(&quot;Failed to save state with TTL. Error: &quot; + response.body());\n        }\n    }\n\n    // YourStateObject represents the structure of your state\n    static class YourStateObject {\n        private String someProperty;\n\n        public String getSomeProperty() {\n            return someProperty;\n        }\n\n        public void setSomeProperty(String someProperty) {\n            this.someProperty = someProperty;\n        }\n    }\n\n    // YourJsonSerializer represents your JSON serialization logic\n    static class YourJsonSerializer {\n        public static String serialize(Object obj) {\n            // Implement your JSON serialization logic here\n            return &quot;&quot;;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13330056,"reputation":105,"user_id":10281042,"display_name":"lone wolf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689250513,"creation_date":1686811823,"question_id":76479833,"body_markdown":"Is there any way to set the ttl for a state in dapr for Java SDK? \r\n\r\nThe `DaprClient.save()` method does not accept a state object. I could not even find a way to set the TTl through `StateOptions` class.\r\n\r\nCan anyone help me with this?","title":"Cannot set TTl in a dapr state via Java SDK","body":"<p>Is there any way to set the ttl for a state in dapr for Java SDK?</p>\n<p>The <code>DaprClient.save()</code> method does not accept a state object. I could not even find a way to set the TTl through <code>StateOptions</code> class.</p>\n<p>Can anyone help me with this?</p>\n"},{"tags":["java","if-statement","conditional-statements","talend"],"answers":[{"tags":[],"owner":{"account_id":25273694,"reputation":35,"user_id":19102680,"display_name":"Onyx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689250336,"creation_date":1689250336,"answer_id":76679242,"question_id":76678922,"body_markdown":"Never mind, for the moment i will do something else... I can do what i want by doing an other if statement after it, for example : \r\n\r\n```\r\nif (&quot;D45&quot;.equals(input_row.Code_direction)) {\r\n    output_row.Saisie_manuelle_O_pour_Oui_sinon_rien = &quot;O&quot;;\r\n}\r\n\r\nif (&quot;CHEF DE SERVICE&quot;.equals(input_row.Fonction_libelle) || &quot;CHEF DE SERVICE ADJOINT&quot;.equals(input_row.Fonction_libelle)) {\r\n    output_row.Saisie_manuelle_O_pour_Oui_sinon_rien = &quot;&quot;;\r\n}\r\n```\r\n\r\nThis is not very clean but it&#39;s working ! I&#39;ll continue like this for the moment.","title":"Talend, If Statement with subconditions","body":"<p>Never mind, for the moment i will do something else... I can do what i want by doing an other if statement after it, for example :</p>\n<pre><code>if (&quot;D45&quot;.equals(input_row.Code_direction)) {\n    output_row.Saisie_manuelle_O_pour_Oui_sinon_rien = &quot;O&quot;;\n}\n\nif (&quot;CHEF DE SERVICE&quot;.equals(input_row.Fonction_libelle) || &quot;CHEF DE SERVICE ADJOINT&quot;.equals(input_row.Fonction_libelle)) {\n    output_row.Saisie_manuelle_O_pour_Oui_sinon_rien = &quot;&quot;;\n}\n</code></pre>\n<p>This is not very clean but it's working ! I'll continue like this for the moment.</p>\n"}],"owner":{"account_id":25273694,"reputation":35,"user_id":19102680,"display_name":"Onyx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76679242,"answer_count":1,"score":0,"last_activity_date":1689250336,"creation_date":1689248077,"question_id":76678922,"body_markdown":"I&#39;m working on a Talend job where i need to insert informations in a column depending of informations to another column. For example, the target here is to insert &quot;O&quot; into &quot;Saisie_manuelle_O_pour_Oui_sinon_rien&quot; if &quot;Code_direction&quot; equals &quot;D45&quot; and &quot;Fonction_libelle&quot; not equals CHEF DE SERVICE or &quot;Fonction_Libelle&quot; not equals CHEF DE SERVICE ADJOINT. \r\n\r\nFor the moment i tried this : \r\n\r\n```\r\nif (&quot;D45&quot;.equals(input_row.Code_direction) &amp;&amp; (!(&quot;CHEF DE SERVICE&quot;.equals(input_row.Fonction_libelle) &amp;&amp; !&quot;CHEF DE SERVICE ADJOINT&quot;.equals(input_row.Fonction_libelle))) {\r\n    output_row.Saisie_manuelle_O_pour_Oui_sinon_rien = &quot;O&quot;;}\r\n```\r\n\r\nIt work but not 100%. It put &quot;O&quot; everywhere where &quot;Code_direction&quot; = &quot;D45&quot; even if Fonction_libelle not equal CHEF DE SERVICE OR CHEF DE SERVICE ADJOINT...\r\n\r\nI think i did something wrong but i&#39;m not able to see what...\r\n\r\nAny help will be very appreciated ! \r\n","title":"Talend, If Statement with subconditions","body":"<p>I'm working on a Talend job where i need to insert informations in a column depending of informations to another column. For example, the target here is to insert &quot;O&quot; into &quot;Saisie_manuelle_O_pour_Oui_sinon_rien&quot; if &quot;Code_direction&quot; equals &quot;D45&quot; and &quot;Fonction_libelle&quot; not equals CHEF DE SERVICE or &quot;Fonction_Libelle&quot; not equals CHEF DE SERVICE ADJOINT.</p>\n<p>For the moment i tried this :</p>\n<pre><code>if (&quot;D45&quot;.equals(input_row.Code_direction) &amp;&amp; (!(&quot;CHEF DE SERVICE&quot;.equals(input_row.Fonction_libelle) &amp;&amp; !&quot;CHEF DE SERVICE ADJOINT&quot;.equals(input_row.Fonction_libelle))) {\n    output_row.Saisie_manuelle_O_pour_Oui_sinon_rien = &quot;O&quot;;}\n</code></pre>\n<p>It work but not 100%. It put &quot;O&quot; everywhere where &quot;Code_direction&quot; = &quot;D45&quot; even if Fonction_libelle not equal CHEF DE SERVICE OR CHEF DE SERVICE ADJOINT...</p>\n<p>I think i did something wrong but i'm not able to see what...</p>\n<p>Any help will be very appreciated !</p>\n"},{"tags":["java","android","android-intent","capacitor","google-pay"],"comments":[{"owner":{"account_id":5107195,"reputation":602,"user_id":4094935,"accept_rate":50,"display_name":"Richard Shergold"},"score":0,"creation_date":1689251209,"post_id":76679204,"comment_id":135188691,"body_markdown":"I got it working - I had to change the code to PaymentData paymentData = PaymentData.getFromIntent(data);\n                String token = paymentData.toJson();\n                    JSObject result = new JSObject();\n                    result.put(&quot;paymentToken&quot;, token);","body":"I got it working - I had to change the code to PaymentData paymentData = PaymentData.getFromIntent(data);                 String token = paymentData.toJson();                     JSObject result = new JSObject();                     result.put(&quot;paymentToken&quot;, token);"}],"owner":{"account_id":5107195,"reputation":602,"user_id":4094935,"accept_rate":50,"display_name":"Richard Shergold"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689250070,"creation_date":1689250070,"question_id":76679204,"body_markdown":"I&#39;m writing my first custom Capacitor plugin for my Ionic app - the plugin needs to present the user with a GooglePay screen where they will select their payment card, the plugin needs to then return to the Ionic app with the payment data.  I have almost got this working but I&#39;m struggling with the final part - extracting the payment data from the intent.\r\n\r\nMy code is shown below.  When the handlePaymentActivityResult method runs I return the paymentData to my Ionic app as a JSObject with a key of &quot;paymentToken&quot; but what I see when I then display it is:\r\n\r\n    {&quot;paymentToken&quot;;&quot;com.google.android.gms.wallet.PaymentData@1e64707&quot;}\r\n\r\nthis is obviously not correct - I would be expecting an encrypted paymentToken amongst other things.  What am I doing wrong?  (I&#39;m not a Java or native Android developer - that might be obvious!)\r\n\r\n    @PluginMethod\r\n        public void requestPayment(PluginCall call) {\r\n            currentCall = call;\r\n    \r\n            if (activity == null) {\r\n                call.reject(&quot;Activity is null&quot;);\r\n                return;\r\n            }\r\n    \r\n            String paymentDataRequestJsonString = &quot;&quot;&quot;\r\n                    {\r\n                        &quot;apiVersion&quot;: 2,\r\n                        &quot;apiVersionMinor&quot;: 0,\r\n                        &quot;allowedPaymentMethods&quot;: [\r\n                        {\r\n                            &quot;type&quot;: &quot;CARD&quot;,\r\n                            &quot;parameters&quot;: {\r\n                                &quot;allowedAuthMethods&quot;: [&quot;PAN_ONLY&quot;, &quot;CRYPTOGRAM_3DS&quot;],\r\n                                &quot;allowedCardNetworks&quot;: [&quot;VISA&quot;, &quot;MASTERCARD&quot;],\r\n                                &quot;billingAddressRequired&quot;: true,\r\n                                &quot;billingAddressParameters&quot;: {\r\n                                    &quot;format&quot;: &quot;FULL&quot;,\r\n                                    &quot;phoneNumberRequired&quot;: true\r\n                            }\r\n                    },\r\n                        &quot;tokenizationSpecification&quot;: {\r\n                            &quot;type&quot;: &quot;PAYMENT_GATEWAY&quot;,\r\n                                &quot;parameters&quot;: {\r\n                                    &quot;gateway&quot;: &quot;barclayssmartpayadvance&quot;,\r\n                                    &quot;gatewayMerchantId&quot;: &quot;xxxxxxxxxxxx&quot;\r\n                                }\r\n                            }\r\n                        }\r\n                    ],\r\n                    &quot;transactionInfo&quot;: {\r\n                    &quot;totalPrice&quot;: &quot;10.00&quot;,\r\n                    &quot;totalPriceStatus&quot;: &quot;FINAL&quot;,\r\n                     &quot;currencyCode&quot;: &quot;USD&quot;\r\n                },\r\n                &quot;merchantInfo&quot;: {\r\n                    &quot;merchantId&quot;: &quot;&quot;,\r\n                    &quot;merchantName&quot;: &quot;Example Merchant&quot;\r\n                }\r\n            }&quot;&quot;&quot;;\r\n    \r\n            try {\r\n                JSONObject paymentDataRequestJson = new JSONObject(paymentDataRequestJsonString);\r\n                PaymentDataRequest paymentDataRequest = PaymentDataRequest.fromJson(paymentDataRequestJson.toString());\r\n                AutoResolveHelper.resolveTask(\r\n                    paymentsClient.loadPaymentData(paymentDataRequest),\r\n                    activity,\r\n                    LOAD_PAYMENT_DATA_REQUEST_CODE\r\n            );\r\n                // Use the paymentDataRequest object as needed\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n                // Handle the JSON parsing error\r\n            }\r\n        }\r\n    \r\n        private PaymentsClient createPaymentsClient(Activity activity) {\r\n            Wallet.WalletOptions walletOptions = new Wallet.WalletOptions.Builder()\r\n                    .setEnvironment(WalletConstants.ENVIRONMENT_TEST)\r\n                    .build();\r\n    \r\n            return Wallet.getPaymentsClient(activity, walletOptions);\r\n        }\r\n    \r\n        public void handlePaymentActivityResult(int requestCode, int resultCode, Intent data) {\r\n    \r\n            if (requestCode == LOAD_PAYMENT_DATA_REQUEST_CODE) {\r\n                if (resultCode == Activity.RESULT_OK) {\r\n                    Log.d(&quot;handlePaymentActivity&quot;, &quot;PAYMENT&quot;);\r\n                    PaymentData paymentData = PaymentData.getFromIntent(data);\r\n    \r\n                        JSObject result = new JSObject();\r\n                        result.put(&quot;paymentToken&quot;, paymentData);\r\n    \r\n                        // Resolve the stored plugin call with the payment token\r\n                        if (currentCall != null) {\r\n                            currentCall.resolve(result);\r\n                            currentCall = null; // Reset the stored call\r\n                        }\r\n    \r\n                } else if (resultCode == Activity.RESULT_CANCELED) {\r\n                    Log.d(&quot;handlePaymentActivity&quot;, &quot;CANCELLED&quot;);\r\n                    // Reject the stored plugin call\r\n                    if (currentCall != null) {\r\n                        currentCall.reject(&quot;Payment canceled&quot;);\r\n                        currentCall = null; // Reset the stored call\r\n                    }\r\n                } else if (resultCode == AutoResolveHelper.RESULT_ERROR) {\r\n                    Log.d(&quot;handlePaymentActivity&quot;, &quot;ERROR&quot;);\r\n                    // An error occurred during the payment process\r\n                    Status status = AutoResolveHelper.getStatusFromIntent(data);\r\n                    String errorMessage = status != null ? status.getStatusMessage() : &quot;Unknown error occurred&quot;;\r\n    \r\n                    // Reject the stored plugin call with the error message\r\n                    if (currentCall != null) {\r\n                        currentCall.reject(&quot;Payment error: &quot; + errorMessage);\r\n                        currentCall = null; // Reset the stored call\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n","title":"Getting GooglePay Payment Data from intent","body":"<p>I'm writing my first custom Capacitor plugin for my Ionic app - the plugin needs to present the user with a GooglePay screen where they will select their payment card, the plugin needs to then return to the Ionic app with the payment data.  I have almost got this working but I'm struggling with the final part - extracting the payment data from the intent.</p>\n<p>My code is shown below.  When the handlePaymentActivityResult method runs I return the paymentData to my Ionic app as a JSObject with a key of &quot;paymentToken&quot; but what I see when I then display it is:</p>\n<pre><code>{&quot;paymentToken&quot;;&quot;com.google.android.gms.wallet.PaymentData@1e64707&quot;}\n</code></pre>\n<p>this is obviously not correct - I would be expecting an encrypted paymentToken amongst other things.  What am I doing wrong?  (I'm not a Java or native Android developer - that might be obvious!)</p>\n<pre><code>@PluginMethod\n    public void requestPayment(PluginCall call) {\n        currentCall = call;\n\n        if (activity == null) {\n            call.reject(&quot;Activity is null&quot;);\n            return;\n        }\n\n        String paymentDataRequestJsonString = &quot;&quot;&quot;\n                {\n                    &quot;apiVersion&quot;: 2,\n                    &quot;apiVersionMinor&quot;: 0,\n                    &quot;allowedPaymentMethods&quot;: [\n                    {\n                        &quot;type&quot;: &quot;CARD&quot;,\n                        &quot;parameters&quot;: {\n                            &quot;allowedAuthMethods&quot;: [&quot;PAN_ONLY&quot;, &quot;CRYPTOGRAM_3DS&quot;],\n                            &quot;allowedCardNetworks&quot;: [&quot;VISA&quot;, &quot;MASTERCARD&quot;],\n                            &quot;billingAddressRequired&quot;: true,\n                            &quot;billingAddressParameters&quot;: {\n                                &quot;format&quot;: &quot;FULL&quot;,\n                                &quot;phoneNumberRequired&quot;: true\n                        }\n                },\n                    &quot;tokenizationSpecification&quot;: {\n                        &quot;type&quot;: &quot;PAYMENT_GATEWAY&quot;,\n                            &quot;parameters&quot;: {\n                                &quot;gateway&quot;: &quot;barclayssmartpayadvance&quot;,\n                                &quot;gatewayMerchantId&quot;: &quot;xxxxxxxxxxxx&quot;\n                            }\n                        }\n                    }\n                ],\n                &quot;transactionInfo&quot;: {\n                &quot;totalPrice&quot;: &quot;10.00&quot;,\n                &quot;totalPriceStatus&quot;: &quot;FINAL&quot;,\n                 &quot;currencyCode&quot;: &quot;USD&quot;\n            },\n            &quot;merchantInfo&quot;: {\n                &quot;merchantId&quot;: &quot;&quot;,\n                &quot;merchantName&quot;: &quot;Example Merchant&quot;\n            }\n        }&quot;&quot;&quot;;\n\n        try {\n            JSONObject paymentDataRequestJson = new JSONObject(paymentDataRequestJsonString);\n            PaymentDataRequest paymentDataRequest = PaymentDataRequest.fromJson(paymentDataRequestJson.toString());\n            AutoResolveHelper.resolveTask(\n                paymentsClient.loadPaymentData(paymentDataRequest),\n                activity,\n                LOAD_PAYMENT_DATA_REQUEST_CODE\n        );\n            // Use the paymentDataRequest object as needed\n        } catch (JSONException e) {\n            e.printStackTrace();\n            // Handle the JSON parsing error\n        }\n    }\n\n    private PaymentsClient createPaymentsClient(Activity activity) {\n        Wallet.WalletOptions walletOptions = new Wallet.WalletOptions.Builder()\n                .setEnvironment(WalletConstants.ENVIRONMENT_TEST)\n                .build();\n\n        return Wallet.getPaymentsClient(activity, walletOptions);\n    }\n\n    public void handlePaymentActivityResult(int requestCode, int resultCode, Intent data) {\n\n        if (requestCode == LOAD_PAYMENT_DATA_REQUEST_CODE) {\n            if (resultCode == Activity.RESULT_OK) {\n                Log.d(&quot;handlePaymentActivity&quot;, &quot;PAYMENT&quot;);\n                PaymentData paymentData = PaymentData.getFromIntent(data);\n\n                    JSObject result = new JSObject();\n                    result.put(&quot;paymentToken&quot;, paymentData);\n\n                    // Resolve the stored plugin call with the payment token\n                    if (currentCall != null) {\n                        currentCall.resolve(result);\n                        currentCall = null; // Reset the stored call\n                    }\n\n            } else if (resultCode == Activity.RESULT_CANCELED) {\n                Log.d(&quot;handlePaymentActivity&quot;, &quot;CANCELLED&quot;);\n                // Reject the stored plugin call\n                if (currentCall != null) {\n                    currentCall.reject(&quot;Payment canceled&quot;);\n                    currentCall = null; // Reset the stored call\n                }\n            } else if (resultCode == AutoResolveHelper.RESULT_ERROR) {\n                Log.d(&quot;handlePaymentActivity&quot;, &quot;ERROR&quot;);\n                // An error occurred during the payment process\n                Status status = AutoResolveHelper.getStatusFromIntent(data);\n                String errorMessage = status != null ? status.getStatusMessage() : &quot;Unknown error occurred&quot;;\n\n                // Reject the stored plugin call with the error message\n                if (currentCall != null) {\n                    currentCall.reject(&quot;Payment error: &quot; + errorMessage);\n                    currentCall = null; // Reset the stored call\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","amazon-sqs","quarkus"],"owner":{"account_id":17363929,"reputation":51,"user_id":19168643,"display_name":"Зарицкий Алексей"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689249953,"creation_date":1689249953,"question_id":76679190,"body_markdown":"For Quarkus there is an extension for AMAZON SQS: https://quarkus.io/extensions/io.quarkiverse.amazonservices/quarkus-amazon-sqs. I followed documentation guide to configure producer and consumer of messages (https://docs.quarkiverse.io/quarkus-amazon-services/dev/amazon-sqs.html). But in that example, consumption of message is triggered by GET method:\r\n\r\n```\r\n@GET\r\n    public List&lt;Quark&gt; receive() {\r\n        List&lt;Message&gt; messages = sqs.receiveMessage(m -&gt; m.maxNumberOfMessages(10).queueUrl(queueUrl)).messages();\r\n\r\n        return messages.stream()\r\n                .map(Message::body)\r\n                .map(this::toQuark)\r\n                .collect(Collectors.toList());\r\n    }\r\n```\r\n\r\nIs there any way to make this extension to trigger message read as soon as it comes to the consumer (like in other message brokers e.g. RabbitMQ)? Spring has annotation @SqsListener, but quarkus unfortunately lacks it. I understand that I can use loop to check, but it is very bad for performance. \r\nThank you in advance for any suggestions\r\n\r\n\r\nAlso I know that there is a library for AMAZON SQS on pure java (https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/getting-started.html) which seems to have such capability, but it is too low-level and I&#39;d prefer to avoid using it. ","title":"Quarkus Amazon SQS client with message listener","body":"<p>For Quarkus there is an extension for AMAZON SQS: <a href=\"https://quarkus.io/extensions/io.quarkiverse.amazonservices/quarkus-amazon-sqs\" rel=\"nofollow noreferrer\">https://quarkus.io/extensions/io.quarkiverse.amazonservices/quarkus-amazon-sqs</a>. I followed documentation guide to configure producer and consumer of messages (<a href=\"https://docs.quarkiverse.io/quarkus-amazon-services/dev/amazon-sqs.html\" rel=\"nofollow noreferrer\">https://docs.quarkiverse.io/quarkus-amazon-services/dev/amazon-sqs.html</a>). But in that example, consumption of message is triggered by GET method:</p>\n<pre><code>@GET\n    public List&lt;Quark&gt; receive() {\n        List&lt;Message&gt; messages = sqs.receiveMessage(m -&gt; m.maxNumberOfMessages(10).queueUrl(queueUrl)).messages();\n\n        return messages.stream()\n                .map(Message::body)\n                .map(this::toQuark)\n                .collect(Collectors.toList());\n    }\n</code></pre>\n<p>Is there any way to make this extension to trigger message read as soon as it comes to the consumer (like in other message brokers e.g. RabbitMQ)? Spring has annotation @SqsListener, but quarkus unfortunately lacks it. I understand that I can use loop to check, but it is very bad for performance.\nThank you in advance for any suggestions</p>\n<p>Also I know that there is a library for AMAZON SQS on pure java (<a href=\"https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/getting-started.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/getting-started.html</a>) which seems to have such capability, but it is too low-level and I'd prefer to avoid using it.</p>\n"},{"tags":["java","csv","txt","export-to-text"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":7,"creation_date":1689249388,"post_id":76679076,"comment_id":135188353,"body_markdown":"so many possibilities.... maybe you should include a [mre] in the question - otherwise expect only more or less wild guesses (e.g. forgetting to close or/and flush the file)","body":"so many possibilities.... maybe you should include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in the question - otherwise expect only more or less wild guesses (e.g. forgetting to close or/and flush the file)"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":4,"creation_date":1689249708,"post_id":76679076,"comment_id":135188412,"body_markdown":"We need to see the code, otherwise we could just guess what the problem is…","body":"We need to see the code, otherwise we could just guess what the problem is…"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1689257686,"post_id":76679076,"comment_id":135190433,"body_markdown":"Just a guess: If the program suddenly stops running before it is supposed to, there should be some sort of error message. There is mistake I often see in code posted on Stack Overflow: The programmer has code to `catch` an exception, but the interior of the catch block has no code. In other words, the exception is ignored. If you have catch blocks that ignore the exception, try changing them to do something with the exception. Doing this might be a good lesson in debugging.","body":"Just a guess: If the program suddenly stops running before it is supposed to, there should be some sort of error message. There is mistake I often see in code posted on Stack Overflow: The programmer has code to <code>catch</code> an exception, but the interior of the catch block has no code. In other words, the exception is ignored. If you have catch blocks that ignore the exception, try changing them to do something with the exception. Doing this might be a good lesson in debugging."}],"answers":[{"tags":[],"owner":{"account_id":6466355,"reputation":488,"user_id":5008145,"display_name":"NorthernSky"},"down_vote_count":2,"up_vote_count":4,"is_accepted":true,"score":2,"last_activity_date":1689249700,"creation_date":1689249700,"answer_id":76679148,"question_id":76679076,"body_markdown":"One possible reason is that you are not closing your FileWriter after use.\r\nInstead of this structure:\r\n\r\n        var fileWriter = new FileWriter(&quot;filename.txt&quot;);\r\n        // use fileWriter here\r\n\r\nTry doing it like this:\r\n\r\n        try (var fileWriter = new FileWriter(&quot;filename.txt&quot;)) {\r\n            // use fileWriter here\r\n        }\r\n\r\nThe try-with-resources statement will then automatically close your writer.","title":"Java program is not printing to the end","body":"<p>One possible reason is that you are not closing your FileWriter after use.\nInstead of this structure:</p>\n<pre><code>    var fileWriter = new FileWriter(&quot;filename.txt&quot;);\n    // use fileWriter here\n</code></pre>\n<p>Try doing it like this:</p>\n<pre><code>    try (var fileWriter = new FileWriter(&quot;filename.txt&quot;)) {\n        // use fileWriter here\n    }\n</code></pre>\n<p>The try-with-resources statement will then automatically close your writer.</p>\n"}],"owner":{"account_id":29009765,"reputation":11,"user_id":22221491,"display_name":"Paweł Piotrowski"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1689249702,"accepted_answer_id":76679148,"answer_count":1,"score":-1,"last_activity_date":1689249700,"creation_date":1689249155,"question_id":76679076,"body_markdown":"Hi I have an issue with my simple app. It is printing from csv file some text to the txt file it is working well, but not to the end, It stops at like 90% and ends. It doesn&#39;t matter how many rows are in the csv file it stops like in half of model and ends\r\n\r\nI was increasing and decrasing number of rows, tried to print models in console and it worked, i am using Filewrtitter ","title":"Java program is not printing to the end","body":"<p>Hi I have an issue with my simple app. It is printing from csv file some text to the txt file it is working well, but not to the end, It stops at like 90% and ends. It doesn't matter how many rows are in the csv file it stops like in half of model and ends</p>\n<p>I was increasing and decrasing number of rows, tried to print models in console and it worked, i am using Filewrtitter</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":1126136,"reputation":17393,"user_id":1113392,"display_name":"A4L"},"score":3,"creation_date":1411934452,"post_id":26089026,"comment_id":40880870,"body_markdown":"What&#39;s the point of `out.close();` ?","body":"What&#39;s the point of <code>out.close();</code> ?"},{"owner":{"account_id":322000,"reputation":4993,"user_id":641159,"display_name":"C&#233;dric Couralet"},"score":0,"creation_date":1411934515,"post_id":26089026,"comment_id":40880893,"body_markdown":"what link did you use to the html page with the form? Did you try a direct link to your servlet?","body":"what link did you use to the html page with the form? Did you try a direct link to your servlet?"},{"owner":{"account_id":4702721,"reputation":13,"user_id":3805878,"display_name":"user3805878"},"score":0,"creation_date":1411937413,"post_id":26089026,"comment_id":40881812,"body_markdown":"Well I thought i did link to the servlet with form &#39;action=&quot;week01_03servlet&quot;&#39;","body":"Well I thought i did link to the servlet with form &#39;action=&quot;week01_03servlet&quot;&#39;"},{"owner":{"account_id":3148532,"reputation":8619,"user_id":2662489,"accept_rate":88,"display_name":"developerwjk"},"score":0,"creation_date":1412032644,"post_id":26089026,"comment_id":40919575,"body_markdown":"You have a try with no catch...you need to catch the error and print to a log or something so you&#39;ll know what&#39;s going on....in fact, does a try with no catch even actually compile?","body":"You have a try with no catch...you need to catch the error and print to a log or something so you&#39;ll know what&#39;s going on....in fact, does a try with no catch even actually compile?"}],"answers":[{"tags":[],"owner":{"account_id":5011623,"reputation":145,"user_id":4824857,"accept_rate":50,"display_name":"Philippe G."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486491852,"creation_date":1486491852,"answer_id":42097211,"question_id":26089026,"body_markdown":"The reason why this servlet does not works is because of the `out.close()` instruction that is at the begining of the `processRequest()` method. \r\n\r\n    System.out.println(&quot;Hello&quot;);\r\n    response.setContentType(&quot;text/html;charset=UTF-8&quot;);\r\n    PrintWriter out = response.getWriter();\r\n    String userString = request.getParameter(&quot;userString&quot;);\r\n    **out.close();**\r\n\r\nit prematurely closes the PrintWriter that is used to send a response to the client. So the client get only a reponse with a HTTP `header content-type: &quot;text/html;charset=UTF-8&quot;` but with a empty body.\r\n\r\n","title":"Java Servlet Blank Page After Button Submit","body":"<p>The reason why this servlet does not works is because of the <code>out.close()</code> instruction that is at the begining of the <code>processRequest()</code> method. </p>\n\n<pre><code>System.out.println(\"Hello\");\nresponse.setContentType(\"text/html;charset=UTF-8\");\nPrintWriter out = response.getWriter();\nString userString = request.getParameter(\"userString\");\n**out.close();**\n</code></pre>\n\n<p>it prematurely closes the PrintWriter that is used to send a response to the client. So the client get only a reponse with a HTTP <code>header content-type: \"text/html;charset=UTF-8\"</code> but with a empty body.</p>\n"},{"tags":[],"owner":{"account_id":8168334,"reputation":352,"user_id":6149791,"display_name":"Chunko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486492720,"creation_date":1486492720,"answer_id":42097445,"question_id":26089026,"body_markdown":"I agree with Philippe G, the issue is likely the premature out.close()\r\n\r\nYou&#39;ve printed a message to the console prior to that but may not ever see it. The output may not be gong where you expect due to logging configuration, and also System.out may be buffered and not be written out till some time later.\r\n\r\nYou should generally switch this kind of system.out.println to use System.err.println instead, and make sure the output is not going off somewhere to either a log file, or being discarded completely by the container","title":"Java Servlet Blank Page After Button Submit","body":"<p>I agree with Philippe G, the issue is likely the premature out.close()</p>\n\n<p>You've printed a message to the console prior to that but may not ever see it. The output may not be gong where you expect due to logging configuration, and also System.out may be buffered and not be written out till some time later.</p>\n\n<p>You should generally switch this kind of system.out.println to use System.err.println instead, and make sure the output is not going off somewhere to either a log file, or being discarded completely by the container</p>\n"},{"tags":[],"owner":{"account_id":15746518,"reputation":31,"user_id":11362260,"display_name":"B&#225;lint &#193;ts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566061981,"creation_date":1566061981,"answer_id":57538374,"question_id":26089026,"body_markdown":"Use redirect in the end of the doPost.\r\n\r\n    response.sendRedirect(&quot;/yourpage&quot;);","title":"Java Servlet Blank Page After Button Submit","body":"<p>Use redirect in the end of the doPost.</p>\n\n<pre><code>response.sendRedirect(\"/yourpage\");\n</code></pre>\n"}],"owner":{"account_id":4702721,"reputation":13,"user_id":3805878,"display_name":"user3805878"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1959,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1689249341,"creation_date":1411934138,"question_id":26089026,"body_markdown":"I&#39;ve come to a brain lock with this basically, after the user clicks Submit it goes to a blank page it doesn&#39;t even get to the servlet. I put a `System.out.println` to test if it reaches the servlet but it doesn&#39;t.\r\nHere is the web.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;servlet03&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;servlets.Week01_03&lt;/servlet-class&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;servlet03&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/week01_03servlet&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n        &lt;session-config&gt;\r\n            &lt;session-timeout&gt;\r\n                30\r\n            &lt;/session-timeout&gt;\r\n        &lt;/session-config&gt;\r\n        &lt;welcome-file-list&gt;\r\n            &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n        &lt;/welcome-file-list&gt;\r\n    &lt;/web-app&gt;\r\n\r\nHere is the servlet\r\n\r\n    package servlets;\r\n    \r\n    import java.io.*;\r\n    import javax.servlet.*;\r\n    import javax.servlet.http.*;\r\n    \r\n    public class Week01_03 extends HttpServlet\r\n    {\r\n        protected void processRequest(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException\r\n        {\r\n            System.out.println(&quot;Hello&quot;);\r\n            response.setContentType(&quot;text/html;charset=UTF-8&quot;);\r\n            PrintWriter out = response.getWriter();\r\n            String userString = request.getParameter(&quot;userString&quot;);\r\n            out.close();\r\n    \r\n            char[] vowel = {&#39;a&#39;, &#39;e&#39;, &#39;i&#39;, &#39;o&#39;, &#39;u&#39;};\r\n            int[] count = {0, 0, 0, 0, 0};\r\n    \r\n            for (int i = 0; i &lt; userString.length(); i++)\r\n            {\r\n                switch (userString.charAt(i))\r\n                {\r\n                    case &#39;a&#39;:\r\n                    case &#39;A&#39;:\r\n                        count[0]++;\r\n                        break;\r\n                    case &#39;e&#39;:\r\n                    case &#39;E&#39;:\r\n                        count[1]++;\r\n                        break;\r\n                    case &#39;i&#39;:\r\n                    case &#39;I&#39;:\r\n                        count[2]++;\r\n                        break;\r\n                    case &#39;o&#39;:\r\n                    case &#39;O&#39;:\r\n                        count[3]++;\r\n                        break;\r\n                    case &#39;u&#39;:\r\n                    case &#39;U&#39;:\r\n                        count[4]++;\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n    \r\n            try\r\n            {\r\n                out.println(&quot;&lt;html&gt;&quot;);\r\n                out.println(&quot;&lt;head&gt;&quot;);\r\n                out.println(&quot;&lt;title&gt;Servlet Week01_03&lt;/title&gt;&quot;);\r\n                out.println(&quot;&lt;link rel=\\&quot;stylesheet\\&quot; type=\\&quot;text/css\\&quot; href=\\&quot;Week01_02.css\\&quot;&gt;&quot;);\r\n                out.println(&quot;&lt;/head&gt;&quot;);\r\n                out.println(&quot;&lt;body&gt;&quot;);\r\n                out.println(&quot;&lt;h1&gt;Servlet Week 01, Exercise 03&lt;/h1&gt;&quot;);\r\n                out.println(&quot;&lt;p class=\\&quot;inline\\&quot;&gt;You typed: &#39;&lt;pre class=\\&quot;inline\\&quot;&gt;&quot; +\r\n                            userString + &quot;&lt;/pre&gt;&#39;&lt;/p&gt;&quot;);\r\n                out.println(&quot;&lt;h3&gt;Vowel usage:&lt;/h3&gt;&quot;);\r\n                out.println(&quot;&lt;table&gt;&quot;);\r\n                for (int i = 0; i &lt; vowel.length; i++)\r\n                {\r\n                    out.println(&quot;&lt;tr&quot; + (i%2==0 ? &quot; class=\\&quot;shaded\\&quot;&quot; : &quot;&quot;) + &quot;&gt;&quot; +\r\n                                &quot;&lt;td&gt;&#39;&quot; + vowel[i] +\r\n                                &quot;&#39;&lt;/td&gt;&lt;td&gt;&quot; + count[i] +\r\n                                &quot;&lt;/td&gt;&lt;/tr&gt;&quot;);\r\n                }\r\n    \r\n                out.println(&quot;&lt;/table&gt;&quot;);\r\n                out.println(&quot;&lt;/body&gt;&quot;);\r\n                out.println(&quot;&lt;/html&gt;&quot;);\r\n            }\r\n            finally\r\n            {\r\n                out.close();\r\n            }\r\n        }\r\n    \r\n        // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;HttpServlet methods. Click on the + sign on the left to edit the code.&quot;&gt;\r\n        /** \r\n         * Handles the HTTP &lt;code&gt;GET&lt;/code&gt; method.\r\n         * @param request servlet request\r\n         * @param response servlet response\r\n         * @throws javax.servlet.ServletException\r\n         * @throws java.io.IOException\r\n         */\r\n        @Override\r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException\r\n        {\r\n            processRequest(request, response);\r\n        }\r\n    \r\n        /** \r\n         * Handles the HTTP &lt;code&gt;POST&lt;/code&gt; method.\r\n         * @param request servlet request\r\n         * @param response servlet response\r\n         * @throws javax.servlet.ServletException\r\n         * @throws java.io.IOException\r\n         */\r\n        @Override\r\n        protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException\r\n        {\r\n            processRequest(request, response);\r\n        }\r\n    \r\n        /** \r\n         * Returns a short description of the servlet.\r\n         */\r\n        public String getServletInfo()\r\n        {\r\n            return &quot;Short description&quot;;\r\n        }// &lt;/editor-fold&gt;\r\n    }\r\n\r\nHere is the html\r\n\r\n    &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;title&gt;Week 01, Exercise 03&lt;/title&gt;\r\n            &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;Week01_03.css&quot;&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;h1&gt;Week 01, Exercise 03&lt;/h1&gt;\r\n            &lt;form action=&quot;week01_03servlet&quot; method=&quot;post&quot;&gt;\r\n                &lt;p&gt;Type some text in the box:\r\n                &lt;input type=&quot;text&quot; name=&quot;userString&quot;&gt;&lt;/p&gt;\r\n                \r\n                &lt;p&gt;and then click the button, \r\n                    and I&#39;ll tell you the frequency of vowel usage:\r\n                &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;&lt;/p&gt;\r\n            &lt;/form&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n","title":"Java Servlet Blank Page After Button Submit","body":"<p>I've come to a brain lock with this basically, after the user clicks Submit it goes to a blank page it doesn't even get to the servlet. I put a <code>System.out.println</code> to test if it reaches the servlet but it doesn't.\nHere is the web.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app version=\"2.5\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;servlet03&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;servlets.Week01_03&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;servlet03&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/week01_03servlet&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;\n            30\n        &lt;/session-timeout&gt;\n    &lt;/session-config&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>Here is the servlet</p>\n\n<pre><code>package servlets;\n\nimport java.io.*;\nimport javax.servlet.*;\nimport javax.servlet.http.*;\n\npublic class Week01_03 extends HttpServlet\n{\n    protected void processRequest(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException\n    {\n        System.out.println(\"Hello\");\n        response.setContentType(\"text/html;charset=UTF-8\");\n        PrintWriter out = response.getWriter();\n        String userString = request.getParameter(\"userString\");\n        out.close();\n\n        char[] vowel = {'a', 'e', 'i', 'o', 'u'};\n        int[] count = {0, 0, 0, 0, 0};\n\n        for (int i = 0; i &lt; userString.length(); i++)\n        {\n            switch (userString.charAt(i))\n            {\n                case 'a':\n                case 'A':\n                    count[0]++;\n                    break;\n                case 'e':\n                case 'E':\n                    count[1]++;\n                    break;\n                case 'i':\n                case 'I':\n                    count[2]++;\n                    break;\n                case 'o':\n                case 'O':\n                    count[3]++;\n                    break;\n                case 'u':\n                case 'U':\n                    count[4]++;\n                    break;\n                default:\n                    break;\n            }\n        }\n\n        try\n        {\n            out.println(\"&lt;html&gt;\");\n            out.println(\"&lt;head&gt;\");\n            out.println(\"&lt;title&gt;Servlet Week01_03&lt;/title&gt;\");\n            out.println(\"&lt;link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"Week01_02.css\\\"&gt;\");\n            out.println(\"&lt;/head&gt;\");\n            out.println(\"&lt;body&gt;\");\n            out.println(\"&lt;h1&gt;Servlet Week 01, Exercise 03&lt;/h1&gt;\");\n            out.println(\"&lt;p class=\\\"inline\\\"&gt;You typed: '&lt;pre class=\\\"inline\\\"&gt;\" +\n                        userString + \"&lt;/pre&gt;'&lt;/p&gt;\");\n            out.println(\"&lt;h3&gt;Vowel usage:&lt;/h3&gt;\");\n            out.println(\"&lt;table&gt;\");\n            for (int i = 0; i &lt; vowel.length; i++)\n            {\n                out.println(\"&lt;tr\" + (i%2==0 ? \" class=\\\"shaded\\\"\" : \"\") + \"&gt;\" +\n                            \"&lt;td&gt;'\" + vowel[i] +\n                            \"'&lt;/td&gt;&lt;td&gt;\" + count[i] +\n                            \"&lt;/td&gt;&lt;/tr&gt;\");\n            }\n\n            out.println(\"&lt;/table&gt;\");\n            out.println(\"&lt;/body&gt;\");\n            out.println(\"&lt;/html&gt;\");\n        }\n        finally\n        {\n            out.close();\n        }\n    }\n\n    // &lt;editor-fold defaultstate=\"collapsed\" desc=\"HttpServlet methods. Click on the + sign on the left to edit the code.\"&gt;\n    /** \n     * Handles the HTTP &lt;code&gt;GET&lt;/code&gt; method.\n     * @param request servlet request\n     * @param response servlet response\n     * @throws javax.servlet.ServletException\n     * @throws java.io.IOException\n     */\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException\n    {\n        processRequest(request, response);\n    }\n\n    /** \n     * Handles the HTTP &lt;code&gt;POST&lt;/code&gt; method.\n     * @param request servlet request\n     * @param response servlet response\n     * @throws javax.servlet.ServletException\n     * @throws java.io.IOException\n     */\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException\n    {\n        processRequest(request, response);\n    }\n\n    /** \n     * Returns a short description of the servlet.\n     */\n    public String getServletInfo()\n    {\n        return \"Short description\";\n    }// &lt;/editor-fold&gt;\n}\n</code></pre>\n\n<p>Here is the html</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Week 01, Exercise 03&lt;/title&gt;\n        &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"Week01_03.css\"&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Week 01, Exercise 03&lt;/h1&gt;\n        &lt;form action=\"week01_03servlet\" method=\"post\"&gt;\n            &lt;p&gt;Type some text in the box:\n            &lt;input type=\"text\" name=\"userString\"&gt;&lt;/p&gt;\n\n            &lt;p&gt;and then click the button, \n                and I'll tell you the frequency of vowel usage:\n            &lt;input type=\"submit\" value=\"Submit\"&gt;&lt;/p&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","hibernate-spatial"],"answers":[{"tags":[],"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484324512,"creation_date":1484324512,"answer_id":41639081,"question_id":41424990,"body_markdown":"I tested same with Mysql Spatial and retrieving the data by applying query using Specifications. I could retrieve the spatial data. \r\n\r\nHere are the few Pointers you can try with.\r\n\r\n 1. Make sure you&#39;ve set the dialect which supports Spatial Query and types.\r\n\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.spatial.dialect.mysql.MySQL56InnoDBSpatialDialect\r\n\r\n 2. No need to define Column definition.\r\n   \r\n&lt;span/&gt;\r\n  Remove `columnDefinition=&quot;geometry(Point,4326)`\r\n\r\n\r\n","title":"Spring Java JPA: Using specification with hibernate spatial","body":"<p>I tested same with Mysql Spatial and retrieving the data by applying query using Specifications. I could retrieve the spatial data. </p>\n\n<p>Here are the few Pointers you can try with.</p>\n\n<ol>\n<li><p>Make sure you've set the dialect which supports Spatial Query and types.</p>\n\n<p>spring.jpa.properties.hibernate.dialect=org.hibernate.spatial.dialect.mysql.MySQL56InnoDBSpatialDialect</p></li>\n<li><p>No need to define Column definition.</p></li>\n</ol>\n\n<p>\n  Remove <code>columnDefinition=\"geometry(Point,4326)</code></p>\n"}],"owner":{"account_id":4711004,"reputation":343,"user_id":3811504,"accept_rate":56,"display_name":"Cerebres"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1654,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689249320,"creation_date":1483352716,"question_id":41424990,"body_markdown":"I am using Spring Boot for a project I&#39;m working on using spatial data. For the spatial data I&#39;m using Hibernate Spatial. This is the configuration for my entity:\r\n\r\n    @Column(name=&quot;LOCATION&quot;,columnDefinition=&quot;geometry(Point,4326)&quot;)\r\n\tprivate Point location;\r\n\r\nWhere `Point` is of the class `com.vividsolutions.jts.geom.Point`. This also includes a getter and setter.\r\n\r\nWhen retrieving this entity with a normal `repository.findOne(&quot;id&quot;)` this also includes the location in my result, mapped to a Point. However, I need to have some dynamic query system later on in the system. So therefore I also query data with a class that inherits from `org.springframework.data.jpa.domain.Specification`. When using this specification, the location is always `null`. The SQL debug information shows me that the location is retrieved from the database, but for some reason, this is not mapped to my entity object.\r\n\r\nMy spring-boot version is 1.4.0.RELEASE. The data is coming from a mysql database.\r\n\r\nAny help to retrieve geometry data with the use of a `Specification` will be greatly appreciated.","title":"Spring Java JPA: Using specification with hibernate spatial","body":"<p>I am using Spring Boot for a project I'm working on using spatial data. For the spatial data I'm using Hibernate Spatial. This is the configuration for my entity:</p>\n\n<pre><code>@Column(name=\"LOCATION\",columnDefinition=\"geometry(Point,4326)\")\nprivate Point location;\n</code></pre>\n\n<p>Where <code>Point</code> is of the class <code>com.vividsolutions.jts.geom.Point</code>. This also includes a getter and setter.</p>\n\n<p>When retrieving this entity with a normal <code>repository.findOne(\"id\")</code> this also includes the location in my result, mapped to a Point. However, I need to have some dynamic query system later on in the system. So therefore I also query data with a class that inherits from <code>org.springframework.data.jpa.domain.Specification</code>. When using this specification, the location is always <code>null</code>. The SQL debug information shows me that the location is retrieved from the database, but for some reason, this is not mapped to my entity object.</p>\n\n<p>My spring-boot version is 1.4.0.RELEASE. The data is coming from a mysql database.</p>\n\n<p>Any help to retrieve geometry data with the use of a <code>Specification</code> will be greatly appreciated.</p>\n"},{"tags":["java","android","react-native","gradle"],"comments":[{"owner":{"account_id":367578,"reputation":3080,"user_id":713861,"accept_rate":72,"display_name":"GreenSaguaro"},"score":0,"creation_date":1689137426,"post_id":76663263,"comment_id":135168827,"body_markdown":"It would help a lot if your share your whole Gradle file in your question.","body":"It would help a lot if your share your whole Gradle file in your question."}],"answers":[{"tags":[],"owner":{"account_id":20706345,"reputation":169,"user_id":15204127,"display_name":"Manish Singh Chouhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689249292,"creation_date":1689249292,"answer_id":76679094,"question_id":76663263,"body_markdown":"You can achieve this by first navigating to : **&#39;android\\app\\src\\main** folder in your app and there create a folder named assets , so hence while bundling react native will create the index.android.bundle in **android\\app\\src\\main\\assets** folder.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OvRbO.png\r\n\r\nSometimes the folder is also present so you can **delete** this and can just create with the new folder name **assets**. \r\n\r\nHope this will help. ","title":"Got an error when build APK in android studio (Cannot invoke &quot;java.io.File.equals(Object)&quot; because &quot;current&quot; is null)","body":"<p>You can achieve this by first navigating to : <strong>'android\\app\\src\\main</strong> folder in your app and there create a folder named assets , so hence while bundling react native will create the index.android.bundle in <strong>android\\app\\src\\main\\assets</strong> folder.</p>\n<p><a href=\"https://i.stack.imgur.com/OvRbO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OvRbO.png\" alt=\"enter image description here\" /></a></p>\n<p>Sometimes the folder is also present so you can <strong>delete</strong> this and can just create with the new folder name <strong>assets</strong>.</p>\n<p>Hope this will help.</p>\n"}],"owner":{"account_id":17541756,"reputation":111,"user_id":12723803,"display_name":"HendyCrcs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689249292,"creation_date":1689087184,"question_id":76663263,"body_markdown":"When build APK through an Android Studio, i got an error said\r\n\r\n```\r\n&gt; Task :app:mergeReleaseAssets FAILED\r\nExecution failed for task &#39;:app:mergeReleaseAssets&#39;.\r\n&gt; Cannot invoke &quot;java.io.File.equals(Object)&quot; because &quot;current&quot; is null\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n&gt; Get more help at https://help.gradle.org.\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\nFor more on this, please refer to https://docs.gradle.org/8.2.1/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.\r\nBUILD FAILED in 48s\r\n76 actionable tasks: 65 executed, 11 up-to-date\r\n\r\n```\r\n\r\n[![error build android][1]][1]\r\n\r\nmy project structure\r\n\r\n[![gradle][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1weAN.png\r\n  [2]: https://i.stack.imgur.com/BbPKR.png\r\n\r\nis there any wrong with my configuration, I&#39;m using React Native ver: \r\n```\r\n&quot;dependencies&quot;: {\r\n    &quot;react&quot;: &quot;18.2.0&quot;,\r\n    &quot;react-native&quot;: &quot;0.72.1&quot;,\r\n    &quot;react-native-webview&quot;: &quot;^11.23.0&quot;\r\n  },\r\n```","title":"Got an error when build APK in android studio (Cannot invoke &quot;java.io.File.equals(Object)&quot; because &quot;current&quot; is null)","body":"<p>When build APK through an Android Studio, i got an error said</p>\n<pre><code>&gt; Task :app:mergeReleaseAssets FAILED\nExecution failed for task ':app:mergeReleaseAssets'.\n&gt; Cannot invoke &quot;java.io.File.equals(Object)&quot; because &quot;current&quot; is null\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n&gt; Get more help at https://help.gradle.org.\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\nFor more on this, please refer to https://docs.gradle.org/8.2.1/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.\nBUILD FAILED in 48s\n76 actionable tasks: 65 executed, 11 up-to-date\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/1weAN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1weAN.png\" alt=\"error build android\" /></a></p>\n<p>my project structure</p>\n<p><a href=\"https://i.stack.imgur.com/BbPKR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BbPKR.png\" alt=\"gradle\" /></a></p>\n<p>is there any wrong with my configuration, I'm using React Native ver:</p>\n<pre><code>&quot;dependencies&quot;: {\n    &quot;react&quot;: &quot;18.2.0&quot;,\n    &quot;react-native&quot;: &quot;0.72.1&quot;,\n    &quot;react-native-webview&quot;: &quot;^11.23.0&quot;\n  },\n</code></pre>\n"},{"tags":["java","android","kotlin","mobile","retrofit2"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1689252064,"post_id":76679082,"comment_id":135188887,"body_markdown":"You [do not need to create a copy of the content to upload it](https://stackoverflow.com/questions/56308559/create-a-file-from-a-photo-uri-on-android?r=Saves_AllUserSaves).","body":"You <a href=\"https://stackoverflow.com/questions/56308559/create-a-file-from-a-photo-uri-on-android?r=Saves_AllUserSaves\">do not need to create a copy of the content to upload it</a>."}],"owner":{"account_id":29009818,"reputation":1,"user_id":22221540,"display_name":"Suhail Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689249182,"creation_date":1689249182,"question_id":76679082,"body_markdown":"I am making a project which involves getting images from camera/gallery and uploading them through retrofit.\r\n\r\nHere is the code for the AdCreateActivity\r\n\r\n\r\n```\r\npackage com.example.campusolx.activites\r\n\r\nimport AdapterImagePicked\r\nimport android.Manifest\r\nimport android.app.Activity\r\nimport android.app.ProgressDialog\r\nimport android.content.ContentValues\r\nimport android.content.Context\r\nimport android.content.Intent\r\nimport android.net.Uri\r\nimport android.os.Build\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.os.Environment\r\nimport android.provider.MediaStore\r\nimport android.util.Log\r\nimport android.view.Menu\r\nimport android.view.WindowManager\r\nimport android.widget.ImageView\r\nimport android.widget.PopupMenu\r\nimport android.widget.Toast\r\nimport androidx.activity.result.contract.ActivityResultContracts\r\nimport com.example.campusolx.RetrofitInstance\r\nimport com.example.campusolx.databinding.ActivityAdCreateBinding\r\nimport com.example.campusolx.dataclass.CreateProductRequest\r\nimport com.example.campusolx.dataclass.CreateProductResponse\r\nimport com.example.campusolx.dataclass.Image\r\nimport com.example.campusolx.dataclass.Product\r\nimport com.example.campusolx.dataclass.UploadProductImageResponse\r\nimport com.example.campusolx.interfaces.ProductApi\r\nimport com.example.campusolx.models.ModelImagePicked\r\nimport com.example.campusolx.utils.Utils\r\nimport retrofit2.Callback\r\nimport okhttp3.MediaType.Companion.toMediaTypeOrNull\r\nimport okhttp3.MultipartBody\r\nimport okhttp3.RequestBody\r\nimport okhttp3.RequestBody.Companion.asRequestBody\r\nimport okhttp3.RequestBody.Companion.toRequestBody\r\nimport retrofit2.Call\r\nimport retrofit2.Response\r\nimport java.io.Console\r\nimport java.io.File\r\nimport java.io.FileOutputStream\r\nimport java.io.IOException\r\nimport java.io.InputStream\r\n\r\nclass AdCreateActivity : AppCompatActivity() {\r\n\r\n    private lateinit var binding: ActivityAdCreateBinding\r\n    private lateinit var progressDialog: ProgressDialog\r\n    private lateinit var productApi: ProductApi\r\n    private var imageUri: Uri? = null\r\n    private lateinit var imagePickedArrayList: ArrayList&lt;ModelImagePicked&gt;\r\n    private lateinit var adapterImagePicked: AdapterImagePicked\r\n    private lateinit var accessToken: String\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = ActivityAdCreateBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n\r\n        supportActionBar?.hide()\r\n\r\n        window.setFlags(\r\n            WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n            WindowManager.LayoutParams.FLAG_FULLSCREEN\r\n        )\r\n\r\n        binding.toolBarBackBtn.setOnClickListener {\r\n            onBackPressed()\r\n        }\r\n\r\n        progressDialog = ProgressDialog(this)\r\n        progressDialog.setTitle(&quot;Please Wait&quot;)\r\n        progressDialog.setCanceledOnTouchOutside(false)\r\n\r\n        val retrofit = RetrofitInstance.getRetrofitInstance()\r\n        productApi = retrofit.create(ProductApi::class.java)\r\n\r\n        val sharedPreference = getSharedPreferences(&quot;Account_Details&quot;, Context.MODE_PRIVATE)\r\n        accessToken = &quot;Bearer &quot; + sharedPreference.getString(&quot;accessToken&quot;, &quot;&quot;) ?: &quot;&quot;\r\n\r\n        binding.toolBarBackBtn.setOnClickListener {\r\n            onBackPressed()\r\n        }\r\n\r\n        imagePickedArrayList = ArrayList()\r\n        loadImages()\r\n\r\n        binding.addImage.setOnClickListener {\r\n            showImagePickOptions()\r\n        }\r\n\r\n        binding.postAdBtn.setOnClickListener {\r\n            uploadImages()\r\n        }\r\n    }\r\n\r\n    private fun loadImages() {\r\n        adapterImagePicked = AdapterImagePicked(this, imagePickedArrayList)\r\n\r\n        adapterImagePicked.setOnImageLoadedListener(object :\r\n            AdapterImagePicked.OnImageLoadedListener {\r\n            override fun onImageLoaded(imageUri: Uri, imageView: ImageView) {\r\n                // Handle the image loaded event here\r\n                // You can perform any necessary actions on the loaded image\r\n            }\r\n        })\r\n\r\n        binding.imagesRv.adapter = adapterImagePicked\r\n    }\r\n\r\n    private fun showImagePickOptions() {\r\n        val popupMenu = PopupMenu(this, binding.addImage)\r\n        popupMenu.menu.add(Menu.NONE, 1, 1, &quot;Camera&quot;)\r\n        popupMenu.menu.add(Menu.NONE, 2, 2, &quot;Gallery&quot;)\r\n        popupMenu.show()\r\n\r\n        popupMenu.setOnMenuItemClickListener { item -&gt;\r\n            when (item.itemId) {\r\n                1 -&gt; {\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\r\n                        val cameraPermissions = arrayOf(Manifest.permission.CAMERA)\r\n                        requestCameraPermission.launch(cameraPermissions)\r\n                    } else {\r\n                        val cameraPermissions = arrayOf(\r\n                            Manifest.permission.CAMERA,\r\n                            Manifest.permission.WRITE_EXTERNAL_STORAGE\r\n                        )\r\n                        requestCameraPermission.launch(cameraPermissions)\r\n                    }\r\n                }\r\n                2 -&gt; {\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\r\n                        pickImageGallery()\r\n                    } else {\r\n                        val storagePermission = Manifest.permission.WRITE_EXTERNAL_STORAGE\r\n                        requestStoragePermission.launch(storagePermission)\r\n                    }\r\n                }\r\n            }\r\n            true\r\n        }\r\n    }\r\n\r\n    private val requestStoragePermission =\r\n        registerForActivityResult(ActivityResultContracts.RequestPermission()) { isGranted -&gt;\r\n            if (isGranted) {\r\n                pickImageGallery()\r\n            } else {\r\n                Utils.toast(this, &quot;Storage Permission Denied&quot;)\r\n            }\r\n        }\r\n\r\n    private val requestCameraPermission =\r\n        registerForActivityResult(ActivityResultContracts.RequestMultiplePermissions()) { result -&gt;\r\n            var areAllGranted = true\r\n            for (isGranted in result.values) {\r\n                areAllGranted = areAllGranted &amp;&amp; isGranted\r\n            }\r\n            if (areAllGranted) {\r\n                pickImageCamera()\r\n            } else {\r\n                Utils.toast(this, &quot;Camera or Storage Permissions Both Denied&quot;)\r\n            }\r\n        }\r\n\r\n    private fun pickImageGallery() {\r\n        val intent = Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI)\r\n        galleryActivityResultLauncher.launch(intent)\r\n    }\r\n\r\n    private fun pickImageCamera() {\r\n        val contentValues = ContentValues()\r\n        contentValues.put(MediaStore.Images.Media.TITLE, &quot;TEMP_IMAGE_TITLE&quot;)\r\n        contentValues.put(MediaStore.Images.Media.DESCRIPTION, &quot;TEMP_IMAGE_DESCRIPTION&quot;)\r\n        imageUri =\r\n            contentResolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues)\r\n        val intent = Intent(MediaStore.ACTION_IMAGE_CAPTURE)\r\n        intent.putExtra(MediaStore.EXTRA_OUTPUT, imageUri)\r\n        cameraActivityResultLauncher.launch(intent)\r\n    }\r\n\r\n    private val galleryActivityResultLauncher =\r\n        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result -&gt;\r\n            if (result.resultCode == Activity.RESULT_OK) {\r\n                val data = result.data\r\n                imageUri = data?.data\r\n                Log.d(&quot;AdCreateActivity&quot;, &quot;Gallery Image URI: $imageUri&quot;) // Log the gallery image URI\r\n                val timestamp = &quot;${Utils.getTimestamp()}&quot;\r\n                val modelImagePicked = ModelImagePicked(timestamp, imageUri, null, false)\r\n                imagePickedArrayList.add(modelImagePicked)\r\n                adapterImagePicked.notifyDataSetChanged()\r\n            } else {\r\n                Utils.toast(this, &quot;Cancelled..!&quot;)\r\n            }\r\n        }\r\n\r\n    private val cameraActivityResultLauncher =\r\n        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result -&gt;\r\n            if (result.resultCode == Activity.RESULT_OK) {\r\n                Log.d(&quot;AdCreateActivity&quot;, &quot;Camera Image URI: $imageUri&quot;) // Log the camera image URI\r\n                val timestamp = &quot;${Utils.getTimestamp()}&quot;\r\n                val modelImagePicked = ModelImagePicked(timestamp, imageUri, null, false)\r\n                imagePickedArrayList.add(modelImagePicked)\r\n                adapterImagePicked.notifyDataSetChanged()\r\n            } else {\r\n                Utils.toast(this, &quot;Cancelled!&quot;)\r\n            }\r\n        }\r\n\r\n\r\n\r\n    private fun validateData() {\r\n        val brand = binding.brandEt.text.toString().trim()\r\n        val category = binding.categoryAct.text.toString().trim()\r\n        val price = binding.priceEt.text.toString().trim()\r\n        val title = binding.titleEt.text.toString().trim()\r\n        val description = binding.descEt.text.toString().trim()\r\n\r\n        if (category.isEmpty()) {\r\n            binding.categoryAct.error = &quot;Choose Category&quot;\r\n            binding.categoryAct.requestFocus()\r\n        } else if (title.isEmpty()) {\r\n            binding.titleEt.error = &quot;Enter Title&quot;\r\n            binding.titleEt.requestFocus()\r\n        } else if (description.isEmpty()) {\r\n            binding.descEt.error = &quot;Enter Description&quot;\r\n            binding.descEt.requestFocus()\r\n        } else {\r\n            // Handle the validation logic here\r\n        }\r\n    }\r\n\r\n    private fun uploadImages() {\r\n        val imageParts = mutableListOf&lt;MultipartBody.Part&gt;()\r\n\r\n        for (modelImagePicked in imagePickedArrayList) {\r\n            val imageUri = modelImagePicked.imageUri\r\n            if (imageUri != null) {\r\n                contentResolver.openInputStream(imageUri)?.use { inputStream -&gt;\r\n                    val tempFile = createTempFile(this, &quot;temp_image&quot;, &quot;jpg&quot;)\r\n                    copyStreamToFile(inputStream, tempFile)\r\n\r\n                    val requestFile: RequestBody = tempFile.asRequestBody(&quot;image/*&quot;.toMediaTypeOrNull())\r\n                    val imagePart = MultipartBody.Part.createFormData(\r\n                        &quot;image&quot;,\r\n                        tempFile.name,\r\n                        requestFile\r\n                    )\r\n                    imageParts.add(imagePart)\r\n\r\n                    // Log image details\r\n                    Log.d(&quot;UploadImages&quot;, &quot;Image URI: $imageUri&quot;)\r\n                    Log.d(&quot;UploadImages&quot;, &quot;Image File Type: image/*&quot;)\r\n                    Log.d(&quot;UploadImages&quot;, &quot;Image File Size: ${tempFile.length() / 1024} KB&quot;)\r\n\r\n                    // Delete the temporary file\r\n                    tempFile.delete()\r\n                } ?: Log.e(&quot;UploadImages&quot;, &quot;Failed to open image input stream&quot;)\r\n            }\r\n        }\r\n\r\n        if (imageParts.isNotEmpty()) {\r\n            productApi.uploadProductImage(accessToken, imageParts)\r\n                .enqueue(object : Callback&lt;UploadProductImageResponse&gt; {\r\n                    override fun onResponse(\r\n                        call: Call&lt;UploadProductImageResponse&gt;,\r\n                        response: Response&lt;UploadProductImageResponse&gt;\r\n                    ) {\r\n                        if (response.isSuccessful) {\r\n                            val responseBody = response.body()\r\n                            if (responseBody != null) {\r\n                                val imageResponses = responseBody.images\r\n                                val uploadedImages = imageResponses.map { imageResponse -&gt;\r\n                                    Image(imageResponse.publicId, imageResponse.url)\r\n                                }\r\n                                if (uploadedImages.isNotEmpty()) {\r\n                                    // Handle the case of successful image upload\r\n                                    // You can perform further actions with the uploaded images\r\n                                    Log.d(&quot;W&quot;, &quot;Successful&quot;)\r\n\r\n                                } else {\r\n                                    Log.e(&quot;UploadImages&quot;, &quot;Failed to upload images&quot;)\r\n                                }\r\n                            } else {\r\n                                Log.e(&quot;UploadImages&quot;, &quot;Failed to parse response body&quot;)\r\n                            }\r\n                        } else {\r\n                            Log.e(\r\n                                &quot;UploadImages&quot;,\r\n                                &quot;Failed to upload images. Response code: ${response.code()}&quot;\r\n                            )\r\n                        }\r\n                    }\r\n\r\n                    override fun onFailure(call: Call&lt;UploadProductImageResponse&gt;, t: Throwable) {\r\n                        Log.e(&quot;UploadImages&quot;, &quot;Failed to upload images: ${t.message}&quot;)\r\n                    }\r\n                })\r\n        } else {\r\n            // Handle the case where no images were selected\r\n            Log.e(&quot;UploadImages&quot;, &quot;No images selected for upload&quot;)\r\n        }\r\n    }\r\n\r\n    @Throws(IOException::class)\r\n    private fun createTempFile(context: Context, fileName: String, extension: String): File {\r\n        val cacheDir = context.cacheDir\r\n        return File.createTempFile(fileName, &quot;.$extension&quot;, cacheDir)\r\n    }\r\n\r\n\r\n    private fun copyStreamToFile(inputStream: InputStream, outputFile: File) {\r\n        inputStream.use { input -&gt;\r\n            val outputStream = FileOutputStream(outputFile)\r\n            outputStream.use { output -&gt;\r\n                val buffer = ByteArray(4 * 1024) // buffer size\r\n                while (true) {\r\n                    val byteCount = input.read(buffer)\r\n                    if (byteCount &lt; 0) break\r\n                    output.write(buffer, 0, byteCount)\r\n                }\r\n                output.flush()\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n//    private fun postAd() {\r\n//        progressDialog.setMessage(&quot;Publishing Ad&quot;)\r\n//        progressDialog.show()\r\n//\r\n//        val adData = CreateProductRequest(\r\n//            name = title,\r\n//            description = description,\r\n//            category = category,\r\n//            prices = price.toInt(),\r\n//            images = emptyList()\r\n//        )\r\n//\r\n//        productApi.createProduct(accessToken = accessToken, request = adData).enqueue(object :\r\n//            Callback&lt;Product&gt; {\r\n//            override fun onResponse(call: Call&lt;Product&gt;, response: Response&lt;Product&gt;) {\r\n//                Utils.toast(this@AdCreateActivity, &quot;${accessToken}&quot;)\r\n//                progressDialog.dismiss()\r\n//                if (response.isSuccessful) {\r\n//                    // API request successful, process the response\r\n//                    val adId = response.body()?._id\r\n//                    if (adId != null) {\r\n//                        uploadImages(adId)\r\n//                    } else {\r\n//                        Utils.toast(this@AdCreateActivity, &quot;Failed to get Ad ID&quot;)\r\n//                    }\r\n//                } else {\r\n//                    // API request failed, handle the error\r\n//                    val errorBody = response.errorBody()?.string()\r\n//                    val errorMessage = if (errorBody.isNullOrEmpty()) {\r\n//                        response.message()\r\n//                    } else {\r\n//                        // Parse the error body to extract the specific error message\r\n//                        // Use appropriate JSON parsing library like Gson or Moshi\r\n//                        // Example: val errorResponse = Gson().fromJson(errorBody, ErrorResponse::class.java)\r\n//                        //         val errorMessage = errorResponse.message\r\n//                        // Replace ErrorResponse with your actual error response data class\r\n//                        &quot;Failed to post ad: $errorBody&quot;\r\n//                    }\r\n//                    Utils.toast(this@AdCreateActivity, errorMessage)\r\n//                }\r\n//            }\r\n//\r\n//            override fun onFailure(call: Call&lt;Product&gt;, t: Throwable) {\r\n//                progressDialog.dismiss()\r\n//                Utils.toast(this@AdCreateActivity, &quot;Failed to post ad: ${t.message}&quot;)\r\n//            }\r\n//        })\r\n//    }\r\n//\r\n//\r\n//\r\n//\r\n//    private fun uploadImages(adId: String) {\r\n//        val uploadedImages = mutableListOf&lt;String&gt;()\r\n//\r\n//        for (modelImagePicked in imagePickedArrayList) {\r\n//            val imageUri = modelImagePicked.imageUri\r\n//            if (imageUri != null) {\r\n//                val imageFile = File(imageUri.path)\r\n//                val requestBody = RequestBody.create(&quot;image/*&quot;.toMediaTypeOrNull(), imageFile)\r\n//                val imagePart =\r\n//                    MultipartBody.Part.createFormData(&quot;image&quot;, imageFile.name, requestBody)\r\n//\r\n//                // Log the upload image request\r\n//                Utils.toast(this@AdCreateActivity,&quot;Upload Image Request: adId=$adId, imageFile=${imageFile.name}&quot;)\r\n//\r\n//                productApi.uploadProductImage(accessToken, imagePart)\r\n//                    .enqueue(object : Callback&lt;UploadProductImageResponse&gt; {\r\n//                        override fun onResponse(\r\n//                            call: Call&lt;UploadProductImageResponse&gt;,\r\n//                            response: Response&lt;UploadProductImageResponse&gt;\r\n//                        ) {\r\n//                            if (response.isSuccessful) {\r\n//                                val uploadedImage = response.body()?.images?.get(0)\r\n//                                if (uploadedImage != null) {\r\n//                                    uploadedImages.add(uploadedImage.url)\r\n//\r\n//                                    if (uploadedImages.size == imagePickedArrayList.size) {\r\n//                                        val adData = CreateProductRequest(\r\n//                                            name = title,\r\n//                                            description = description,\r\n//                                            category = category,\r\n//                                            prices = price.toInt(),\r\n//                                            images = uploadedImages.map { url -&gt;\r\n//                                                Image(publicId = uploadedImage.publicId, url = url)\r\n//                                            }\r\n//                                        )\r\n//                                        updateAdWithImages(adId, adData)\r\n//                                    }\r\n//                                } else {\r\n//                                    Utils.toast(this@AdCreateActivity, &quot;Failed to upload images&quot;)\r\n//                                }\r\n//                            } else {\r\n//                                Utils.toast(this@AdCreateActivity, &quot;Failed to upload images&quot;)\r\n//                            }\r\n//                        }\r\n//\r\n//                        override fun onFailure(\r\n//                            call: Call&lt;UploadProductImageResponse&gt;,\r\n//                            t: Throwable\r\n//                        ) {\r\n//                            Utils.toast(\r\n//                                this@AdCreateActivity,\r\n//                                &quot;Failed to upload images: ${t.message}&quot;\r\n//                            )\r\n//                        }\r\n//                    })\r\n//            }\r\n//        }\r\n//    }\r\n\r\n\r\n//    private fun updateAdWithImages(adId: String, adData: CreateProductRequest) {\r\n//        productApi.updateProduct(accessToken = accessToken, id = adId, request = adData).enqueue(object : Callback&lt;Product&gt; {\r\n//            override fun onResponse(call: Call&lt;Product&gt;, response: Response&lt;Product&gt;) {\r\n//                progressDialog.dismiss()\r\n//                if (response.isSuccessful) {\r\n//                    Utils.toast(this@AdCreateActivity, &quot;Ad posted successfully&quot;)\r\n//                    onBackPressed()\r\n//                } else {\r\n//                    Utils.toast(this@AdCreateActivity, &quot;Failed to update ad with images&quot;)\r\n//                }\r\n//            }\r\n//\r\n//            override fun onFailure(call: Call&lt;Product&gt;, t: Throwable) {\r\n//                progressDialog.dismiss()\r\n//                Utils.toast(this@AdCreateActivity, &quot;Failed to update ad with images: ${t.message}&quot;)\r\n//            }\r\n//        })\r\n//}\r\n//    }\r\n\r\n\r\n\r\n  \r\n\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\nThe error occurs when attempting to upload the images selected by the user. It seems that the file path or directory is not being found correctly. I have tried to debug the code, and the log messages show the correct image URI and file type. However, when creating a temporary file and copying the image data, the error is encountered.\r\n\r\nI would appreciate any insights or suggestions on how to resolve this issue. Thank you in advance!","title":"Error &quot;File path/directory not found&quot; when trying to upload images using Retrofit in my android application","body":"<p>I am making a project which involves getting images from camera/gallery and uploading them through retrofit.</p>\n<p>Here is the code for the AdCreateActivity</p>\n<pre><code>package com.example.campusolx.activites\n\nimport AdapterImagePicked\nimport android.Manifest\nimport android.app.Activity\nimport android.app.ProgressDialog\nimport android.content.ContentValues\nimport android.content.Context\nimport android.content.Intent\nimport android.net.Uri\nimport android.os.Build\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.os.Environment\nimport android.provider.MediaStore\nimport android.util.Log\nimport android.view.Menu\nimport android.view.WindowManager\nimport android.widget.ImageView\nimport android.widget.PopupMenu\nimport android.widget.Toast\nimport androidx.activity.result.contract.ActivityResultContracts\nimport com.example.campusolx.RetrofitInstance\nimport com.example.campusolx.databinding.ActivityAdCreateBinding\nimport com.example.campusolx.dataclass.CreateProductRequest\nimport com.example.campusolx.dataclass.CreateProductResponse\nimport com.example.campusolx.dataclass.Image\nimport com.example.campusolx.dataclass.Product\nimport com.example.campusolx.dataclass.UploadProductImageResponse\nimport com.example.campusolx.interfaces.ProductApi\nimport com.example.campusolx.models.ModelImagePicked\nimport com.example.campusolx.utils.Utils\nimport retrofit2.Callback\nimport okhttp3.MediaType.Companion.toMediaTypeOrNull\nimport okhttp3.MultipartBody\nimport okhttp3.RequestBody\nimport okhttp3.RequestBody.Companion.asRequestBody\nimport okhttp3.RequestBody.Companion.toRequestBody\nimport retrofit2.Call\nimport retrofit2.Response\nimport java.io.Console\nimport java.io.File\nimport java.io.FileOutputStream\nimport java.io.IOException\nimport java.io.InputStream\n\nclass AdCreateActivity : AppCompatActivity() {\n\n    private lateinit var binding: ActivityAdCreateBinding\n    private lateinit var progressDialog: ProgressDialog\n    private lateinit var productApi: ProductApi\n    private var imageUri: Uri? = null\n    private lateinit var imagePickedArrayList: ArrayList&lt;ModelImagePicked&gt;\n    private lateinit var adapterImagePicked: AdapterImagePicked\n    private lateinit var accessToken: String\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ActivityAdCreateBinding.inflate(layoutInflater)\n        setContentView(binding.root)\n\n        supportActionBar?.hide()\n\n        window.setFlags(\n            WindowManager.LayoutParams.FLAG_FULLSCREEN,\n            WindowManager.LayoutParams.FLAG_FULLSCREEN\n        )\n\n        binding.toolBarBackBtn.setOnClickListener {\n            onBackPressed()\n        }\n\n        progressDialog = ProgressDialog(this)\n        progressDialog.setTitle(&quot;Please Wait&quot;)\n        progressDialog.setCanceledOnTouchOutside(false)\n\n        val retrofit = RetrofitInstance.getRetrofitInstance()\n        productApi = retrofit.create(ProductApi::class.java)\n\n        val sharedPreference = getSharedPreferences(&quot;Account_Details&quot;, Context.MODE_PRIVATE)\n        accessToken = &quot;Bearer &quot; + sharedPreference.getString(&quot;accessToken&quot;, &quot;&quot;) ?: &quot;&quot;\n\n        binding.toolBarBackBtn.setOnClickListener {\n            onBackPressed()\n        }\n\n        imagePickedArrayList = ArrayList()\n        loadImages()\n\n        binding.addImage.setOnClickListener {\n            showImagePickOptions()\n        }\n\n        binding.postAdBtn.setOnClickListener {\n            uploadImages()\n        }\n    }\n\n    private fun loadImages() {\n        adapterImagePicked = AdapterImagePicked(this, imagePickedArrayList)\n\n        adapterImagePicked.setOnImageLoadedListener(object :\n            AdapterImagePicked.OnImageLoadedListener {\n            override fun onImageLoaded(imageUri: Uri, imageView: ImageView) {\n                // Handle the image loaded event here\n                // You can perform any necessary actions on the loaded image\n            }\n        })\n\n        binding.imagesRv.adapter = adapterImagePicked\n    }\n\n    private fun showImagePickOptions() {\n        val popupMenu = PopupMenu(this, binding.addImage)\n        popupMenu.menu.add(Menu.NONE, 1, 1, &quot;Camera&quot;)\n        popupMenu.menu.add(Menu.NONE, 2, 2, &quot;Gallery&quot;)\n        popupMenu.show()\n\n        popupMenu.setOnMenuItemClickListener { item -&gt;\n            when (item.itemId) {\n                1 -&gt; {\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\n                        val cameraPermissions = arrayOf(Manifest.permission.CAMERA)\n                        requestCameraPermission.launch(cameraPermissions)\n                    } else {\n                        val cameraPermissions = arrayOf(\n                            Manifest.permission.CAMERA,\n                            Manifest.permission.WRITE_EXTERNAL_STORAGE\n                        )\n                        requestCameraPermission.launch(cameraPermissions)\n                    }\n                }\n                2 -&gt; {\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\n                        pickImageGallery()\n                    } else {\n                        val storagePermission = Manifest.permission.WRITE_EXTERNAL_STORAGE\n                        requestStoragePermission.launch(storagePermission)\n                    }\n                }\n            }\n            true\n        }\n    }\n\n    private val requestStoragePermission =\n        registerForActivityResult(ActivityResultContracts.RequestPermission()) { isGranted -&gt;\n            if (isGranted) {\n                pickImageGallery()\n            } else {\n                Utils.toast(this, &quot;Storage Permission Denied&quot;)\n            }\n        }\n\n    private val requestCameraPermission =\n        registerForActivityResult(ActivityResultContracts.RequestMultiplePermissions()) { result -&gt;\n            var areAllGranted = true\n            for (isGranted in result.values) {\n                areAllGranted = areAllGranted &amp;&amp; isGranted\n            }\n            if (areAllGranted) {\n                pickImageCamera()\n            } else {\n                Utils.toast(this, &quot;Camera or Storage Permissions Both Denied&quot;)\n            }\n        }\n\n    private fun pickImageGallery() {\n        val intent = Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI)\n        galleryActivityResultLauncher.launch(intent)\n    }\n\n    private fun pickImageCamera() {\n        val contentValues = ContentValues()\n        contentValues.put(MediaStore.Images.Media.TITLE, &quot;TEMP_IMAGE_TITLE&quot;)\n        contentValues.put(MediaStore.Images.Media.DESCRIPTION, &quot;TEMP_IMAGE_DESCRIPTION&quot;)\n        imageUri =\n            contentResolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues)\n        val intent = Intent(MediaStore.ACTION_IMAGE_CAPTURE)\n        intent.putExtra(MediaStore.EXTRA_OUTPUT, imageUri)\n        cameraActivityResultLauncher.launch(intent)\n    }\n\n    private val galleryActivityResultLauncher =\n        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result -&gt;\n            if (result.resultCode == Activity.RESULT_OK) {\n                val data = result.data\n                imageUri = data?.data\n                Log.d(&quot;AdCreateActivity&quot;, &quot;Gallery Image URI: $imageUri&quot;) // Log the gallery image URI\n                val timestamp = &quot;${Utils.getTimestamp()}&quot;\n                val modelImagePicked = ModelImagePicked(timestamp, imageUri, null, false)\n                imagePickedArrayList.add(modelImagePicked)\n                adapterImagePicked.notifyDataSetChanged()\n            } else {\n                Utils.toast(this, &quot;Cancelled..!&quot;)\n            }\n        }\n\n    private val cameraActivityResultLauncher =\n        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result -&gt;\n            if (result.resultCode == Activity.RESULT_OK) {\n                Log.d(&quot;AdCreateActivity&quot;, &quot;Camera Image URI: $imageUri&quot;) // Log the camera image URI\n                val timestamp = &quot;${Utils.getTimestamp()}&quot;\n                val modelImagePicked = ModelImagePicked(timestamp, imageUri, null, false)\n                imagePickedArrayList.add(modelImagePicked)\n                adapterImagePicked.notifyDataSetChanged()\n            } else {\n                Utils.toast(this, &quot;Cancelled!&quot;)\n            }\n        }\n\n\n\n    private fun validateData() {\n        val brand = binding.brandEt.text.toString().trim()\n        val category = binding.categoryAct.text.toString().trim()\n        val price = binding.priceEt.text.toString().trim()\n        val title = binding.titleEt.text.toString().trim()\n        val description = binding.descEt.text.toString().trim()\n\n        if (category.isEmpty()) {\n            binding.categoryAct.error = &quot;Choose Category&quot;\n            binding.categoryAct.requestFocus()\n        } else if (title.isEmpty()) {\n            binding.titleEt.error = &quot;Enter Title&quot;\n            binding.titleEt.requestFocus()\n        } else if (description.isEmpty()) {\n            binding.descEt.error = &quot;Enter Description&quot;\n            binding.descEt.requestFocus()\n        } else {\n            // Handle the validation logic here\n        }\n    }\n\n    private fun uploadImages() {\n        val imageParts = mutableListOf&lt;MultipartBody.Part&gt;()\n\n        for (modelImagePicked in imagePickedArrayList) {\n            val imageUri = modelImagePicked.imageUri\n            if (imageUri != null) {\n                contentResolver.openInputStream(imageUri)?.use { inputStream -&gt;\n                    val tempFile = createTempFile(this, &quot;temp_image&quot;, &quot;jpg&quot;)\n                    copyStreamToFile(inputStream, tempFile)\n\n                    val requestFile: RequestBody = tempFile.asRequestBody(&quot;image/*&quot;.toMediaTypeOrNull())\n                    val imagePart = MultipartBody.Part.createFormData(\n                        &quot;image&quot;,\n                        tempFile.name,\n                        requestFile\n                    )\n                    imageParts.add(imagePart)\n\n                    // Log image details\n                    Log.d(&quot;UploadImages&quot;, &quot;Image URI: $imageUri&quot;)\n                    Log.d(&quot;UploadImages&quot;, &quot;Image File Type: image/*&quot;)\n                    Log.d(&quot;UploadImages&quot;, &quot;Image File Size: ${tempFile.length() / 1024} KB&quot;)\n\n                    // Delete the temporary file\n                    tempFile.delete()\n                } ?: Log.e(&quot;UploadImages&quot;, &quot;Failed to open image input stream&quot;)\n            }\n        }\n\n        if (imageParts.isNotEmpty()) {\n            productApi.uploadProductImage(accessToken, imageParts)\n                .enqueue(object : Callback&lt;UploadProductImageResponse&gt; {\n                    override fun onResponse(\n                        call: Call&lt;UploadProductImageResponse&gt;,\n                        response: Response&lt;UploadProductImageResponse&gt;\n                    ) {\n                        if (response.isSuccessful) {\n                            val responseBody = response.body()\n                            if (responseBody != null) {\n                                val imageResponses = responseBody.images\n                                val uploadedImages = imageResponses.map { imageResponse -&gt;\n                                    Image(imageResponse.publicId, imageResponse.url)\n                                }\n                                if (uploadedImages.isNotEmpty()) {\n                                    // Handle the case of successful image upload\n                                    // You can perform further actions with the uploaded images\n                                    Log.d(&quot;W&quot;, &quot;Successful&quot;)\n\n                                } else {\n                                    Log.e(&quot;UploadImages&quot;, &quot;Failed to upload images&quot;)\n                                }\n                            } else {\n                                Log.e(&quot;UploadImages&quot;, &quot;Failed to parse response body&quot;)\n                            }\n                        } else {\n                            Log.e(\n                                &quot;UploadImages&quot;,\n                                &quot;Failed to upload images. Response code: ${response.code()}&quot;\n                            )\n                        }\n                    }\n\n                    override fun onFailure(call: Call&lt;UploadProductImageResponse&gt;, t: Throwable) {\n                        Log.e(&quot;UploadImages&quot;, &quot;Failed to upload images: ${t.message}&quot;)\n                    }\n                })\n        } else {\n            // Handle the case where no images were selected\n            Log.e(&quot;UploadImages&quot;, &quot;No images selected for upload&quot;)\n        }\n    }\n\n    @Throws(IOException::class)\n    private fun createTempFile(context: Context, fileName: String, extension: String): File {\n        val cacheDir = context.cacheDir\n        return File.createTempFile(fileName, &quot;.$extension&quot;, cacheDir)\n    }\n\n\n    private fun copyStreamToFile(inputStream: InputStream, outputFile: File) {\n        inputStream.use { input -&gt;\n            val outputStream = FileOutputStream(outputFile)\n            outputStream.use { output -&gt;\n                val buffer = ByteArray(4 * 1024) // buffer size\n                while (true) {\n                    val byteCount = input.read(buffer)\n                    if (byteCount &lt; 0) break\n                    output.write(buffer, 0, byteCount)\n                }\n                output.flush()\n            }\n        }\n    }\n\n}\n\n//    private fun postAd() {\n//        progressDialog.setMessage(&quot;Publishing Ad&quot;)\n//        progressDialog.show()\n//\n//        val adData = CreateProductRequest(\n//            name = title,\n//            description = description,\n//            category = category,\n//            prices = price.toInt(),\n//            images = emptyList()\n//        )\n//\n//        productApi.createProduct(accessToken = accessToken, request = adData).enqueue(object :\n//            Callback&lt;Product&gt; {\n//            override fun onResponse(call: Call&lt;Product&gt;, response: Response&lt;Product&gt;) {\n//                Utils.toast(this@AdCreateActivity, &quot;${accessToken}&quot;)\n//                progressDialog.dismiss()\n//                if (response.isSuccessful) {\n//                    // API request successful, process the response\n//                    val adId = response.body()?._id\n//                    if (adId != null) {\n//                        uploadImages(adId)\n//                    } else {\n//                        Utils.toast(this@AdCreateActivity, &quot;Failed to get Ad ID&quot;)\n//                    }\n//                } else {\n//                    // API request failed, handle the error\n//                    val errorBody = response.errorBody()?.string()\n//                    val errorMessage = if (errorBody.isNullOrEmpty()) {\n//                        response.message()\n//                    } else {\n//                        // Parse the error body to extract the specific error message\n//                        // Use appropriate JSON parsing library like Gson or Moshi\n//                        // Example: val errorResponse = Gson().fromJson(errorBody, ErrorResponse::class.java)\n//                        //         val errorMessage = errorResponse.message\n//                        // Replace ErrorResponse with your actual error response data class\n//                        &quot;Failed to post ad: $errorBody&quot;\n//                    }\n//                    Utils.toast(this@AdCreateActivity, errorMessage)\n//                }\n//            }\n//\n//            override fun onFailure(call: Call&lt;Product&gt;, t: Throwable) {\n//                progressDialog.dismiss()\n//                Utils.toast(this@AdCreateActivity, &quot;Failed to post ad: ${t.message}&quot;)\n//            }\n//        })\n//    }\n//\n//\n//\n//\n//    private fun uploadImages(adId: String) {\n//        val uploadedImages = mutableListOf&lt;String&gt;()\n//\n//        for (modelImagePicked in imagePickedArrayList) {\n//            val imageUri = modelImagePicked.imageUri\n//            if (imageUri != null) {\n//                val imageFile = File(imageUri.path)\n//                val requestBody = RequestBody.create(&quot;image/*&quot;.toMediaTypeOrNull(), imageFile)\n//                val imagePart =\n//                    MultipartBody.Part.createFormData(&quot;image&quot;, imageFile.name, requestBody)\n//\n//                // Log the upload image request\n//                Utils.toast(this@AdCreateActivity,&quot;Upload Image Request: adId=$adId, imageFile=${imageFile.name}&quot;)\n//\n//                productApi.uploadProductImage(accessToken, imagePart)\n//                    .enqueue(object : Callback&lt;UploadProductImageResponse&gt; {\n//                        override fun onResponse(\n//                            call: Call&lt;UploadProductImageResponse&gt;,\n//                            response: Response&lt;UploadProductImageResponse&gt;\n//                        ) {\n//                            if (response.isSuccessful) {\n//                                val uploadedImage = response.body()?.images?.get(0)\n//                                if (uploadedImage != null) {\n//                                    uploadedImages.add(uploadedImage.url)\n//\n//                                    if (uploadedImages.size == imagePickedArrayList.size) {\n//                                        val adData = CreateProductRequest(\n//                                            name = title,\n//                                            description = description,\n//                                            category = category,\n//                                            prices = price.toInt(),\n//                                            images = uploadedImages.map { url -&gt;\n//                                                Image(publicId = uploadedImage.publicId, url = url)\n//                                            }\n//                                        )\n//                                        updateAdWithImages(adId, adData)\n//                                    }\n//                                } else {\n//                                    Utils.toast(this@AdCreateActivity, &quot;Failed to upload images&quot;)\n//                                }\n//                            } else {\n//                                Utils.toast(this@AdCreateActivity, &quot;Failed to upload images&quot;)\n//                            }\n//                        }\n//\n//                        override fun onFailure(\n//                            call: Call&lt;UploadProductImageResponse&gt;,\n//                            t: Throwable\n//                        ) {\n//                            Utils.toast(\n//                                this@AdCreateActivity,\n//                                &quot;Failed to upload images: ${t.message}&quot;\n//                            )\n//                        }\n//                    })\n//            }\n//        }\n//    }\n\n\n//    private fun updateAdWithImages(adId: String, adData: CreateProductRequest) {\n//        productApi.updateProduct(accessToken = accessToken, id = adId, request = adData).enqueue(object : Callback&lt;Product&gt; {\n//            override fun onResponse(call: Call&lt;Product&gt;, response: Response&lt;Product&gt;) {\n//                progressDialog.dismiss()\n//                if (response.isSuccessful) {\n//                    Utils.toast(this@AdCreateActivity, &quot;Ad posted successfully&quot;)\n//                    onBackPressed()\n//                } else {\n//                    Utils.toast(this@AdCreateActivity, &quot;Failed to update ad with images&quot;)\n//                }\n//            }\n//\n//            override fun onFailure(call: Call&lt;Product&gt;, t: Throwable) {\n//                progressDialog.dismiss()\n//                Utils.toast(this@AdCreateActivity, &quot;Failed to update ad with images: ${t.message}&quot;)\n//            }\n//        })\n//}\n//    }\n\n\n\n  \n\n\n\n</code></pre>\n<p>The error occurs when attempting to upload the images selected by the user. It seems that the file path or directory is not being found correctly. I have tried to debug the code, and the log messages show the correct image URI and file type. However, when creating a temporary file and copying the image data, the error is encountered.</p>\n<p>I would appreciate any insights or suggestions on how to resolve this issue. Thank you in advance!</p>\n"},{"tags":["java","android","carousel","swipe"],"owner":{"account_id":29009746,"reputation":1,"user_id":22221476,"display_name":"benjamin demartin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689249055,"creation_date":1689249055,"question_id":76679062,"body_markdown":"I am trying to use a Carousel to show different picture. the carousel is in a MotionLayout and the animation are working fine (swipe right and left to navigate and swipe up to remove the item) but when removing the item on a swipe up from the list given to the Carousel.Adapter, the carousel is not updated. When doing a carousel.refresh() it is updated but laggy and some picture are invisible until I scroll again.\r\n\r\nlayout :\r\n\r\n```\r\n\r\n&lt;androidx.constraintlayout.motion.widget.MotionLayout\r\n    android:id=&quot;@+id/motionLayout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;450dp&quot;\r\n    android:layout_marginBottom=&quot;40dp&quot;\r\n    app:layoutDescription=&quot;@xml/fragment_background_scene&quot;\r\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/cardView00&quot;\r\n        android:layout_width=&quot;180dp&quot;\r\n        android:layout_height=&quot;320dp&quot;\r\n        app:cardCornerRadius=&quot;8dp&quot;\r\n        android:elevation=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView00&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@color/black&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n            /&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/cardView0&quot;\r\n        android:layout_width=&quot;180dp&quot;\r\n        android:layout_height=&quot;320dp&quot;\r\n        app:cardCornerRadius=&quot;8dp&quot;\r\n        android:layout_margin=&quot;5dp&quot;\r\n        android:elevation=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/imageView0&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:background=&quot;@color/black&quot;\r\n                    android:scaleType=&quot;centerCrop&quot;\r\n                    /&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/cardView1&quot;\r\n        android:layout_width=&quot;180dp&quot;\r\n        android:layout_height=&quot;320dp&quot;\r\n        app:cardCornerRadius=&quot;8dp&quot;\r\n        android:layout_margin=&quot;5dp&quot;\r\n        android:elevation=&quot;10dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView1&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@color/blue&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n            /&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/cardView2&quot;\r\n        android:layout_width=&quot;180dp&quot;\r\n        android:layout_height=&quot;320dp&quot;\r\n        app:cardCornerRadius=&quot;8dp&quot;\r\n        android:layout_margin=&quot;5dp&quot;\r\n        android:elevation=&quot;10dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView2&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@color/yellow&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n            /&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/cardView3&quot;\r\n        android:layout_width=&quot;180dp&quot;\r\n        android:layout_height=&quot;320dp&quot;\r\n        app:cardCornerRadius=&quot;8dp&quot;\r\n        android:layout_margin=&quot;5dp&quot;\r\n        android:elevation=&quot;10dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView3&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@color/light_blue&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n            /&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/cardView4&quot;\r\n        android:layout_width=&quot;180dp&quot;\r\n        android:layout_height=&quot;320dp&quot;\r\n        app:cardCornerRadius=&quot;8dp&quot;\r\n        android:layout_margin=&quot;5dp&quot;\r\n        android:elevation=&quot;10dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView4&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@color/pink&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n            /&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/cardView5&quot;\r\n        android:layout_width=&quot;180dp&quot;\r\n        android:layout_height=&quot;320dp&quot;\r\n        app:cardCornerRadius=&quot;8dp&quot;\r\n        android:layout_margin=&quot;5dp&quot;\r\n        android:elevation=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView5&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@color/black&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n\r\n            /&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n    &lt;androidx.constraintlayout.helper.widget.Carousel\r\n        android:id=&quot;@+id/carousel&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:carousel_backwardTransition=&quot;@+id/backward&quot;\r\n        app:carousel_firstView=&quot;@+id/cardView2&quot;\r\n        app:carousel_forwardTransition=&quot;@+id/forward&quot;\r\n        app:carousel_nextState=&quot;@+id/next&quot;\r\n        app:carousel_previousState=&quot;@+id/previous&quot;\r\n        app:constraint_referenced_ids=&quot;cardView00, cardView0,cardView1,cardView2, cardView3, cardView4, cardView5&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.motion.widget.MotionLayout&gt;\r\n```\r\n\r\nTransition :\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;MotionScene\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:motion=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;Transition\r\n        motion:constraintSetStart=&quot;@id/start&quot;\r\n        motion:constraintSetEnd=&quot;@+id/next&quot;\r\n        motion:duration=&quot;1000&quot;\r\n        android:id=&quot;@+id/forward&quot;&gt;\r\n\r\n        &lt;OnSwipe\r\n            motion:dragDirection=&quot;dragLeft&quot;\r\n            motion:touchAnchorSide=&quot;left&quot; /&gt;\r\n    &lt;/Transition&gt;\r\n\r\n    &lt;Transition\r\n        motion:constraintSetStart=&quot;@+id/start&quot;\r\n        motion:constraintSetEnd=&quot;@+id/previous&quot;\r\n        android:id=&quot;@+id/backward&quot;&gt;\r\n\r\n        &lt;OnSwipe\r\n            motion:dragDirection=&quot;dragRight&quot;\r\n            motion:touchAnchorSide=&quot;right&quot; /&gt;\r\n\r\n    &lt;/Transition&gt;\r\n\r\n    &lt;Transition\r\n        motion:constraintSetStart=&quot;@+id/start&quot;\r\n        motion:constraintSetEnd=&quot;@+id/after&quot;\r\n        motion:duration=&quot;10000&quot;&gt;\r\n        &lt;OnSwipe\r\n            motion:touchAnchorId=&quot;@id/cardView2&quot;\r\n            motion:dragDirection=&quot;dragUp&quot;\r\n            motion:touchAnchorSide=&quot;bottom&quot;/&gt;\r\n    &lt;/Transition&gt;\r\n\r\n\r\n    &lt;ConstraintSet android:id=&quot;@+id/previous&quot;&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView00&quot;\r\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;-150dp&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            android:alpha=&quot;1&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView0&quot;\r\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;-80dp&quot;\r\n            android:elevation=&quot;1dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView1&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;0dp&quot;\r\n            android:elevation=&quot;2dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView2&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;80dp&quot;\r\n            android:elevation=&quot;1dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView3&quot;\r\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;150dp&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView4&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;200dp&quot;\r\n            android:alpha=&quot;0&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView5&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;200dp&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            android:alpha=&quot;0&quot;\r\n            /&gt;\r\n    &lt;/ConstraintSet&gt;\r\n\r\n    &lt;ConstraintSet android:id=&quot;@+id/start&quot;&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView00&quot;\r\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;-200dp&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            android:alpha=&quot;0&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/imageView0&quot;&gt;\r\n            &lt;CustomAttribute\r\n                motion:attributeName=&quot;Saturation&quot;\r\n                motion:customFloatValue=&quot;0&quot; /&gt;\r\n        &lt;/Constraint&gt;\r\n\r\n\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView0&quot;\r\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;-150dp&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView1&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;-80dp&quot;\r\n            android:elevation=&quot;1dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView2&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:elevation=&quot;2dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView3&quot;\r\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;80dp&quot;\r\n            android:elevation=&quot;1dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView4&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;150dp&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView5&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;200dp&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            android:alpha=&quot;0&quot;\r\n            /&gt;\r\n    &lt;/ConstraintSet&gt;\r\n\r\n    &lt;ConstraintSet android:id=&quot;@+id/next&quot;&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView00&quot;\r\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;-200dp&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            android:alpha=&quot;0&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView0&quot;\r\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:alpha=&quot;0&quot;\r\n            android:layout_marginStart=&quot;-200dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView1&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;-150dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView2&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;-80dp&quot;\r\n            android:elevation=&quot;1dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView3&quot;\r\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;0dp&quot;\r\n            android:elevation=&quot;2dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView4&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;80dp&quot;\r\n            android:elevation=&quot;1dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView5&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;150dp&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            android:alpha=&quot;1&quot;\r\n            /&gt;\r\n    &lt;/ConstraintSet&gt;\r\n\r\n    &lt;ConstraintSet android:id=&quot;@+id/after&quot;&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView00&quot;\r\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;-200dp&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            android:alpha=&quot;0&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView0&quot;\r\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;-150dp&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView1&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;-80dp&quot;\r\n            android:elevation=&quot;1dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView2&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginBottom=&quot;200dp&quot;\r\n            android:elevation=&quot;3dp&quot;\r\n            android:alpha=&quot;0&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView3&quot;\r\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;0dp&quot;\r\n            android:elevation=&quot;2dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView4&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;80dp&quot;\r\n            android:elevation=&quot;1dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView5&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;150dp&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            android:alpha=&quot;1&quot;\r\n            /&gt;\r\n    &lt;/ConstraintSet&gt;\r\n\r\n\r\n&lt;/MotionScene&gt;\r\n```\r\n\r\nMaijn.java\r\n\r\n```\r\npackage com.example.wordpaper.ui.background;\r\n\r\nimport static android.app.Activity.RESULT_OK;\r\n\r\nimport android.content.ClipData;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.HorizontalScrollView;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.constraintlayout.helper.widget.Carousel;\r\nimport androidx.constraintlayout.motion.widget.MotionLayout;\r\nimport androidx.core.view.GravityCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport com.example.wordpaper.R;\r\nimport com.example.wordpaper.database.AppDatabase;\r\nimport com.example.wordpaper.database.Background;\r\nimport com.example.wordpaper.databinding.FragmentBackgroundBinding;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n\r\npublic class BackgroundFragment extends Fragment {\r\n\r\n    private FragmentBackgroundBinding binding;\r\n\r\n    private AppDatabase appDatabase;\r\n\r\n    private FloatingActionButton hamburger;\r\n    private Button button;\r\n\r\n    private Carousel carousel;\r\n    private MotionLayout motionLayout;\r\n    private HorizontalScrollView backgroundScrollView;\r\n    private LinearLayout scrollLinearLayout;\r\n\r\n\r\n    int images[] = {\r\n            R.drawable.square,\r\n            R.drawable.oval,\r\n            R.drawable.pencil,\r\n            R.drawable.sunset\r\n    };\r\n    int numImages = images.length;\r\n\r\n    int pastels[] = {\r\n            R.drawable.pastel_blue,\r\n            R.drawable.pastel_green,\r\n            R.drawable.pastel_orange,\r\n            R.drawable.pastel_pink,\r\n            R.drawable.pastel_purple,\r\n            R.drawable.pastel_red\r\n    };\r\n    int numPastel = pastels.length;\r\n\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n\r\n        binding = FragmentBackgroundBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();\r\n\r\n        button = binding.buttonImage;\r\n\r\n        carousel = binding.carousel;\r\n        motionLayout = binding.motionLayout;\r\n\r\n\r\n        setupCarousel();\r\n\r\n        images[] = {\r\n            R.drawable.square,\r\n            R.drawable.oval,\r\n            R.drawable.pencil\r\n            };\r\n            numImages = images.length;\r\n\r\n            carousel.refresh()\r\n\r\n        return root;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n\r\n    private void setupCarousel(){\r\n        if(carousel == null){\r\n            return;\r\n        }\r\n\r\n        carousel.setAdapter(new Carousel.Adapter() {\r\n            @Override\r\n            public int count() {\r\n                return numImages;\r\n            }\r\n\r\n            @Override\r\n            public void populate(View view, int index) {\r\n                if (view instanceof CardView){\r\n                    CardView cardView = (CardView) view;\r\n                    ImageView imageView = (ImageView) cardView.getChildAt(0);\r\n                    imageView.setImageResource(images[index]);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onNewItem(int index) {\r\n\r\n                if (button != null) {\r\n                    if (index == carousel.getCount() - 1) {\r\n                        button.setText(&quot;&quot; + index);\r\n                    }\r\n                    if (index == 0) {\r\n                        button.setText(&quot;&quot; + index);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nI tried to use recylcer.Adapter but didnt work, I tried modifying the transition and the layout but didn&#39;t work either","title":"How to modify the dataset in a androidx Carousel in android studio (java)?","body":"<p>I am trying to use a Carousel to show different picture. the carousel is in a MotionLayout and the animation are working fine (swipe right and left to navigate and swipe up to remove the item) but when removing the item on a swipe up from the list given to the Carousel.Adapter, the carousel is not updated. When doing a carousel.refresh() it is updated but laggy and some picture are invisible until I scroll again.</p>\n<p>layout :</p>\n<pre><code>\n&lt;androidx.constraintlayout.motion.widget.MotionLayout\n    android:id=&quot;@+id/motionLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;450dp&quot;\n    android:layout_marginBottom=&quot;40dp&quot;\n    app:layoutDescription=&quot;@xml/fragment_background_scene&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardView00&quot;\n        android:layout_width=&quot;180dp&quot;\n        android:layout_height=&quot;320dp&quot;\n        app:cardCornerRadius=&quot;8dp&quot;\n        android:elevation=&quot;0dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView00&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@color/black&quot;\n            android:scaleType=&quot;centerCrop&quot;\n            /&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardView0&quot;\n        android:layout_width=&quot;180dp&quot;\n        android:layout_height=&quot;320dp&quot;\n        app:cardCornerRadius=&quot;8dp&quot;\n        android:layout_margin=&quot;5dp&quot;\n        android:elevation=&quot;0dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/imageView0&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:background=&quot;@color/black&quot;\n                    android:scaleType=&quot;centerCrop&quot;\n                    /&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardView1&quot;\n        android:layout_width=&quot;180dp&quot;\n        android:layout_height=&quot;320dp&quot;\n        app:cardCornerRadius=&quot;8dp&quot;\n        android:layout_margin=&quot;5dp&quot;\n        android:elevation=&quot;10dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView1&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@color/blue&quot;\n            android:scaleType=&quot;centerCrop&quot;\n            /&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardView2&quot;\n        android:layout_width=&quot;180dp&quot;\n        android:layout_height=&quot;320dp&quot;\n        app:cardCornerRadius=&quot;8dp&quot;\n        android:layout_margin=&quot;5dp&quot;\n        android:elevation=&quot;10dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView2&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@color/yellow&quot;\n            android:scaleType=&quot;centerCrop&quot;\n            /&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardView3&quot;\n        android:layout_width=&quot;180dp&quot;\n        android:layout_height=&quot;320dp&quot;\n        app:cardCornerRadius=&quot;8dp&quot;\n        android:layout_margin=&quot;5dp&quot;\n        android:elevation=&quot;10dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView3&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@color/light_blue&quot;\n            android:scaleType=&quot;centerCrop&quot;\n            /&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardView4&quot;\n        android:layout_width=&quot;180dp&quot;\n        android:layout_height=&quot;320dp&quot;\n        app:cardCornerRadius=&quot;8dp&quot;\n        android:layout_margin=&quot;5dp&quot;\n        android:elevation=&quot;10dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView4&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@color/pink&quot;\n            android:scaleType=&quot;centerCrop&quot;\n            /&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardView5&quot;\n        android:layout_width=&quot;180dp&quot;\n        android:layout_height=&quot;320dp&quot;\n        app:cardCornerRadius=&quot;8dp&quot;\n        android:layout_margin=&quot;5dp&quot;\n        android:elevation=&quot;0dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView5&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@color/black&quot;\n            android:scaleType=&quot;centerCrop&quot;\n\n            /&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;androidx.constraintlayout.helper.widget.Carousel\n        android:id=&quot;@+id/carousel&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:carousel_backwardTransition=&quot;@+id/backward&quot;\n        app:carousel_firstView=&quot;@+id/cardView2&quot;\n        app:carousel_forwardTransition=&quot;@+id/forward&quot;\n        app:carousel_nextState=&quot;@+id/next&quot;\n        app:carousel_previousState=&quot;@+id/previous&quot;\n        app:constraint_referenced_ids=&quot;cardView00, cardView0,cardView1,cardView2, cardView3, cardView4, cardView5&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.motion.widget.MotionLayout&gt;\n</code></pre>\n<p>Transition :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;MotionScene\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:motion=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;Transition\n        motion:constraintSetStart=&quot;@id/start&quot;\n        motion:constraintSetEnd=&quot;@+id/next&quot;\n        motion:duration=&quot;1000&quot;\n        android:id=&quot;@+id/forward&quot;&gt;\n\n        &lt;OnSwipe\n            motion:dragDirection=&quot;dragLeft&quot;\n            motion:touchAnchorSide=&quot;left&quot; /&gt;\n    &lt;/Transition&gt;\n\n    &lt;Transition\n        motion:constraintSetStart=&quot;@+id/start&quot;\n        motion:constraintSetEnd=&quot;@+id/previous&quot;\n        android:id=&quot;@+id/backward&quot;&gt;\n\n        &lt;OnSwipe\n            motion:dragDirection=&quot;dragRight&quot;\n            motion:touchAnchorSide=&quot;right&quot; /&gt;\n\n    &lt;/Transition&gt;\n\n    &lt;Transition\n        motion:constraintSetStart=&quot;@+id/start&quot;\n        motion:constraintSetEnd=&quot;@+id/after&quot;\n        motion:duration=&quot;10000&quot;&gt;\n        &lt;OnSwipe\n            motion:touchAnchorId=&quot;@id/cardView2&quot;\n            motion:dragDirection=&quot;dragUp&quot;\n            motion:touchAnchorSide=&quot;bottom&quot;/&gt;\n    &lt;/Transition&gt;\n\n\n    &lt;ConstraintSet android:id=&quot;@+id/previous&quot;&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView00&quot;\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;-150dp&quot;\n            android:elevation=&quot;0dp&quot;\n            android:alpha=&quot;1&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView0&quot;\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;-80dp&quot;\n            android:elevation=&quot;1dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView1&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;0dp&quot;\n            android:elevation=&quot;2dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView2&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;80dp&quot;\n            android:elevation=&quot;1dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView3&quot;\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;150dp&quot;\n            android:elevation=&quot;0dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView4&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;200dp&quot;\n            android:alpha=&quot;0&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView5&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;200dp&quot;\n            android:elevation=&quot;0dp&quot;\n            android:alpha=&quot;0&quot;\n            /&gt;\n    &lt;/ConstraintSet&gt;\n\n    &lt;ConstraintSet android:id=&quot;@+id/start&quot;&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView00&quot;\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;-200dp&quot;\n            android:elevation=&quot;0dp&quot;\n            android:alpha=&quot;0&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/imageView0&quot;&gt;\n            &lt;CustomAttribute\n                motion:attributeName=&quot;Saturation&quot;\n                motion:customFloatValue=&quot;0&quot; /&gt;\n        &lt;/Constraint&gt;\n\n\n        &lt;Constraint\n            android:id=&quot;@+id/cardView0&quot;\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;-150dp&quot;\n            android:elevation=&quot;0dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView1&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;-80dp&quot;\n            android:elevation=&quot;1dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView2&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:elevation=&quot;2dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView3&quot;\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;80dp&quot;\n            android:elevation=&quot;1dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView4&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;150dp&quot;\n            android:elevation=&quot;0dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView5&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;200dp&quot;\n            android:elevation=&quot;0dp&quot;\n            android:alpha=&quot;0&quot;\n            /&gt;\n    &lt;/ConstraintSet&gt;\n\n    &lt;ConstraintSet android:id=&quot;@+id/next&quot;&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView00&quot;\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;-200dp&quot;\n            android:elevation=&quot;0dp&quot;\n            android:alpha=&quot;0&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView0&quot;\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:alpha=&quot;0&quot;\n            android:layout_marginStart=&quot;-200dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView1&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;-150dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView2&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;-80dp&quot;\n            android:elevation=&quot;1dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView3&quot;\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;0dp&quot;\n            android:elevation=&quot;2dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView4&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;80dp&quot;\n            android:elevation=&quot;1dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView5&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;150dp&quot;\n            android:elevation=&quot;0dp&quot;\n            android:alpha=&quot;1&quot;\n            /&gt;\n    &lt;/ConstraintSet&gt;\n\n    &lt;ConstraintSet android:id=&quot;@+id/after&quot;&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView00&quot;\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;-200dp&quot;\n            android:elevation=&quot;0dp&quot;\n            android:alpha=&quot;0&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView0&quot;\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;-150dp&quot;\n            android:elevation=&quot;0dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView1&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;-80dp&quot;\n            android:elevation=&quot;1dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView2&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginBottom=&quot;200dp&quot;\n            android:elevation=&quot;3dp&quot;\n            android:alpha=&quot;0&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView3&quot;\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;0dp&quot;\n            android:elevation=&quot;2dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView4&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;80dp&quot;\n            android:elevation=&quot;1dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView5&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;150dp&quot;\n            android:elevation=&quot;0dp&quot;\n            android:alpha=&quot;1&quot;\n            /&gt;\n    &lt;/ConstraintSet&gt;\n\n\n&lt;/MotionScene&gt;\n</code></pre>\n<p>Maijn.java</p>\n<pre><code>package com.example.wordpaper.ui.background;\n\nimport static android.app.Activity.RESULT_OK;\n\nimport android.content.ClipData;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.HorizontalScrollView;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.cardview.widget.CardView;\nimport androidx.constraintlayout.helper.widget.Carousel;\nimport androidx.constraintlayout.motion.widget.MotionLayout;\nimport androidx.core.view.GravityCompat;\nimport androidx.drawerlayout.widget.DrawerLayout;\nimport androidx.fragment.app.Fragment;\n\nimport com.example.wordpaper.R;\nimport com.example.wordpaper.database.AppDatabase;\nimport com.example.wordpaper.database.Background;\nimport com.example.wordpaper.databinding.FragmentBackgroundBinding;\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\n\npublic class BackgroundFragment extends Fragment {\n\n    private FragmentBackgroundBinding binding;\n\n    private AppDatabase appDatabase;\n\n    private FloatingActionButton hamburger;\n    private Button button;\n\n    private Carousel carousel;\n    private MotionLayout motionLayout;\n    private HorizontalScrollView backgroundScrollView;\n    private LinearLayout scrollLinearLayout;\n\n\n    int images[] = {\n            R.drawable.square,\n            R.drawable.oval,\n            R.drawable.pencil,\n            R.drawable.sunset\n    };\n    int numImages = images.length;\n\n    int pastels[] = {\n            R.drawable.pastel_blue,\n            R.drawable.pastel_green,\n            R.drawable.pastel_orange,\n            R.drawable.pastel_pink,\n            R.drawable.pastel_purple,\n            R.drawable.pastel_red\n    };\n    int numPastel = pastels.length;\n\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n\n        binding = FragmentBackgroundBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        button = binding.buttonImage;\n\n        carousel = binding.carousel;\n        motionLayout = binding.motionLayout;\n\n\n        setupCarousel();\n\n        images[] = {\n            R.drawable.square,\n            R.drawable.oval,\n            R.drawable.pencil\n            };\n            numImages = images.length;\n\n            carousel.refresh()\n\n        return root;\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n\n    private void setupCarousel(){\n        if(carousel == null){\n            return;\n        }\n\n        carousel.setAdapter(new Carousel.Adapter() {\n            @Override\n            public int count() {\n                return numImages;\n            }\n\n            @Override\n            public void populate(View view, int index) {\n                if (view instanceof CardView){\n                    CardView cardView = (CardView) view;\n                    ImageView imageView = (ImageView) cardView.getChildAt(0);\n                    imageView.setImageResource(images[index]);\n                }\n            }\n\n            @Override\n            public void onNewItem(int index) {\n\n                if (button != null) {\n                    if (index == carousel.getCount() - 1) {\n                        button.setText(&quot;&quot; + index);\n                    }\n                    if (index == 0) {\n                        button.setText(&quot;&quot; + index);\n                    }\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>I tried to use recylcer.Adapter but didnt work, I tried modifying the transition and the layout but didn't work either</p>\n"},{"tags":["java","spring","http-headers","interceptor"],"comments":[{"owner":{"account_id":178596,"reputation":10817,"user_id":410677,"accept_rate":78,"display_name":"kuhajeyan"},"score":0,"creation_date":1476298241,"post_id":40005435,"comment_id":67290362,"body_markdown":"you should be able to modify request at preHandle() in HandlerInterceptorAdapter","body":"you should be able to modify request at preHandle() in HandlerInterceptorAdapter"},{"owner":{"account_id":4447819,"reputation":1717,"user_id":3620642,"accept_rate":71,"display_name":"tallkid24"},"score":2,"creation_date":1476300147,"post_id":40005435,"comment_id":67291449,"body_markdown":"@kuhajeyan I don&#39;t see a way that you can actually modify the request in the interceptor since it doesn&#39;t actually return the request object. Maybe I&#39;m missing something?","body":"@kuhajeyan I don&#39;t see a way that you can actually modify the request in the interceptor since it doesn&#39;t actually return the request object. Maybe I&#39;m missing something?"}],"answers":[{"tags":[],"owner":{"account_id":178596,"reputation":10817,"user_id":410677,"accept_rate":78,"display_name":"kuhajeyan"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1476428517,"creation_date":1476428517,"answer_id":40036905,"question_id":40005435,"body_markdown":"\r\n    public class YourInterceptor extends HandlerInterceptorAdapter {\t\r\n    \r\n    \t@Override\r\n    \tpublic boolean preHandle(HttpServletRequest request,\r\n    \t\t\tHttpServletResponse response, Object handler) throws Exception {\r\n    \t\tSomeModel model = new SomeModel();\r\n    \t\trequest.setAttribute(&quot;someValue&quot;, model );\r\n            request.addHeader(&quot;xxx&quot;,&quot;asecret&quot;);\r\n    \t\t\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n        @Override\r\n    \tpublic void postHandle(HttpServletRequest request,\r\n    \t\t\tHttpServletResponse response, Object handler,\r\n    \t\t\tModelAndView modelAndView) throws Exception {\r\n    \t\t//...\r\n             response.addHeader(&quot;dummy-header, &quot;dummy-value&quot;);\r\n    \t}\r\n    \r\n        @Override\r\n    \tpublic void afterCompletion(HttpServletRequest request,\r\n    \t\t\tHttpServletResponse response, Object handler, Exception ex)\r\n    \t\t\tthrows Exception {\r\n    \t\tSomeModel model = (Long) request.getAttribute(&quot;someValue&quot;);\r\n    \t\t\r\n    \t}\r\n    \r\n    }","title":"How to add HttpServletRequest headers in HandlerInterceptorAdapter?","body":"<pre><code>public class YourInterceptor extends HandlerInterceptorAdapter {    \n\n    @Override\n    public boolean preHandle(HttpServletRequest request,\n            HttpServletResponse response, Object handler) throws Exception {\n        SomeModel model = new SomeModel();\n        request.setAttribute(\"someValue\", model );\n        request.addHeader(\"xxx\",\"asecret\");\n\n        return true;\n    }\n\n    @Override\n    public void postHandle(HttpServletRequest request,\n            HttpServletResponse response, Object handler,\n            ModelAndView modelAndView) throws Exception {\n        //...\n         response.addHeader(\"dummy-header, \"dummy-value\");\n    }\n\n    @Override\n    public void afterCompletion(HttpServletRequest request,\n            HttpServletResponse response, Object handler, Exception ex)\n            throws Exception {\n        SomeModel model = (Long) request.getAttribute(\"someValue\");\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5711291,"reputation":1437,"user_id":4513218,"display_name":"Walterwhites"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1575929086,"creation_date":1575929086,"answer_id":59257350,"question_id":40005435,"body_markdown":"HttpServletRequest type objects are read only, to do that you should:\r\n\r\n-&gt; create a class which extends HttpServletRequestWrapper (to add some behaviours, decorator pattern) \r\n\r\n    final public class MutableHttpServletRequest extends HttpServletRequestWrapper {\r\n    \r\n        private final Map&lt;String, String&gt; customHeaders;\r\n    \r\n        public MutableHttpServletRequest(HttpServletRequest request){\r\n            super(request);\r\n            this.customHeaders = new HashMap&lt;String, String&gt;();\r\n        }\r\n    \r\n        public void putHeader(String name, String value){\r\n            this.customHeaders.put(name, value);\r\n        }\r\n    \r\n        public String getHeader(String name) {\r\n            String headerValue = customHeaders.get(name);\r\n    \r\n            if (headerValue != null){\r\n                return headerValue;\r\n            }\r\n            return ((HttpServletRequest) getRequest()).getHeader(name);\r\n        }\r\n    \r\n        public Enumeration&lt;String&gt; getHeaderNames() {\r\n            Set&lt;String&gt; set = new HashSet&lt;String&gt;(customHeaders.keySet());\r\n    \r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            Enumeration&lt;String&gt; e = ((HttpServletRequest) getRequest()).getHeaderNames();\r\n            while (e.hasMoreElements()) {\r\n                String n = e.nextElement();\r\n                set.add(n);\r\n            }\r\n            return Collections.enumeration(set);\r\n        }\r\n    }\r\n\r\n-&gt; create your filter class\r\n\r\n    public class CustomGatewayFilter implements Filter {\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response,\r\n                             FilterChain chain) throws IOException, ServletException {\r\n            HttpServletRequest req = (HttpServletRequest) request;\r\n            MutableHttpServletRequest mutableRequest = new MutableHttpServletRequest(req);\r\n            mutableRequest.putHeader(&quot;referer&quot;, &quot;custom value&quot;);\r\n            chain.doFilter(mutableRequest, response);\r\n        }\r\n    }\r\n\r\n\r\n-&gt; and in your config class add\r\n\r\n     .and().addFilterAfter(new CustomGatewayFilter(), ConcurrentSessionFilter.class)\r\n\r\n","title":"How to add HttpServletRequest headers in HandlerInterceptorAdapter?","body":"<p>HttpServletRequest type objects are read only, to do that you should:</p>\n\n<p>-> create a class which extends HttpServletRequestWrapper (to add some behaviours, decorator pattern) </p>\n\n<pre><code>final public class MutableHttpServletRequest extends HttpServletRequestWrapper {\n\n    private final Map&lt;String, String&gt; customHeaders;\n\n    public MutableHttpServletRequest(HttpServletRequest request){\n        super(request);\n        this.customHeaders = new HashMap&lt;String, String&gt;();\n    }\n\n    public void putHeader(String name, String value){\n        this.customHeaders.put(name, value);\n    }\n\n    public String getHeader(String name) {\n        String headerValue = customHeaders.get(name);\n\n        if (headerValue != null){\n            return headerValue;\n        }\n        return ((HttpServletRequest) getRequest()).getHeader(name);\n    }\n\n    public Enumeration&lt;String&gt; getHeaderNames() {\n        Set&lt;String&gt; set = new HashSet&lt;String&gt;(customHeaders.keySet());\n\n        @SuppressWarnings(\"unchecked\")\n        Enumeration&lt;String&gt; e = ((HttpServletRequest) getRequest()).getHeaderNames();\n        while (e.hasMoreElements()) {\n            String n = e.nextElement();\n            set.add(n);\n        }\n        return Collections.enumeration(set);\n    }\n}\n</code></pre>\n\n<p>-> create your filter class</p>\n\n<pre><code>public class CustomGatewayFilter implements Filter {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response,\n                         FilterChain chain) throws IOException, ServletException {\n        HttpServletRequest req = (HttpServletRequest) request;\n        MutableHttpServletRequest mutableRequest = new MutableHttpServletRequest(req);\n        mutableRequest.putHeader(\"referer\", \"custom value\");\n        chain.doFilter(mutableRequest, response);\n    }\n}\n</code></pre>\n\n<p>-> and in your config class add</p>\n\n<pre><code> .and().addFilterAfter(new CustomGatewayFilter(), ConcurrentSessionFilter.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8740804,"reputation":19,"user_id":6537945,"display_name":"Timothy Ward"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689248524,"creation_date":1689248524,"answer_id":76678997,"question_id":40005435,"body_markdown":"The example from http://wilddiary.com/adding-custom-headers-java-httpservletrequest/ doesn&#39;t seem to work for me with Tomcat 9.  I know it gets into the filter because I send the values I want to stdout and I know if I comment chain.doFilter line, then the page is blank because I&#39;m not writing out any headers.","title":"How to add HttpServletRequest headers in HandlerInterceptorAdapter?","body":"<p>The example from <a href=\"http://wilddiary.com/adding-custom-headers-java-httpservletrequest/\" rel=\"nofollow noreferrer\">http://wilddiary.com/adding-custom-headers-java-httpservletrequest/</a> doesn't seem to work for me with Tomcat 9.  I know it gets into the filter because I send the values I want to stdout and I know if I comment chain.doFilter line, then the page is blank because I'm not writing out any headers.</p>\n"}],"owner":{"account_id":4447819,"reputation":1717,"user_id":3620642,"accept_rate":71,"display_name":"tallkid24"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14508,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1689248524,"creation_date":1476295475,"question_id":40005435,"body_markdown":"I&#39;m trying to add a Authorization header to my request as a temporary workaround while we are switching environments. I&#39;m trying to handle it in a interceptor that extends HandlerInterceptorAdapter.\r\n\r\nI used the MutableHttpServletRequest class made [here](http://wilddiary.com/adding-custom-headers-java-httpservletrequest/) in order to be able to add the header to the request, but it doesn&#39;t seem like there is any way you can actually modify the returned request in the interceptor. Any ideas?\r\n\r\nEDIT: Or would I have to do this in a filter?","title":"How to add HttpServletRequest headers in HandlerInterceptorAdapter?","body":"<p>I'm trying to add a Authorization header to my request as a temporary workaround while we are switching environments. I'm trying to handle it in a interceptor that extends HandlerInterceptorAdapter.</p>\n\n<p>I used the MutableHttpServletRequest class made <a href=\"http://wilddiary.com/adding-custom-headers-java-httpservletrequest/\" rel=\"noreferrer\">here</a> in order to be able to add the header to the request, but it doesn't seem like there is any way you can actually modify the returned request in the interceptor. Any ideas?</p>\n\n<p>EDIT: Or would I have to do this in a filter?</p>\n"},{"tags":["java","android","android-studio","android-fragments","documentation"],"answers":[{"tags":[],"owner":{"account_id":21965714,"reputation":1,"user_id":16242997,"display_name":"Ark"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1623929324,"creation_date":1623929324,"answer_id":68018423,"question_id":68018322,"body_markdown":"I think you might be right about the minimum api.\r\nAccording to the docs to use the androidx package you need to be api 28 or higher\r\n\r\nhttps://developer.android.com/jetpack/androidx\r\n","title":"Can&#39;t find method getFragment() in my FragmentContainerView object","body":"<p>I think you might be right about the minimum api.\nAccording to the docs to use the androidx package you need to be api 28 or higher</p>\n<p><a href=\"https://developer.android.com/jetpack/androidx\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx</a></p>\n"},{"tags":[],"owner":{"account_id":4423551,"reputation":83,"user_id":3602683,"display_name":"Sam Pengilly"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1624232437,"creation_date":1624232437,"answer_id":68060889,"question_id":68018322,"body_markdown":"It has been added from 1.4.0-alpha01 (https://developer.android.com/jetpack/androidx/releases/fragment#1.4.0-alpha01)\r\n\r\nIf you are on a lower version it won&#39;t be there.","title":"Can&#39;t find method getFragment() in my FragmentContainerView object","body":"<p>It has been added from 1.4.0-alpha01 (<a href=\"https://developer.android.com/jetpack/androidx/releases/fragment#1.4.0-alpha01\" rel=\"noreferrer\">https://developer.android.com/jetpack/androidx/releases/fragment#1.4.0-alpha01</a>)</p>\n<p>If you are on a lower version it won't be there.</p>\n"},{"tags":[],"owner":{"account_id":5292766,"reputation":576,"user_id":4224811,"accept_rate":100,"display_name":"Gabriel Vasconcelos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641483074,"creation_date":1641483074,"answer_id":70609511,"question_id":68018322,"body_markdown":"As stated by Sam, the method `getFragment()` wasn&#39;t added to `FragmentContainerView` until 1.4.0 alpha versions.\r\n\r\nHowever, as per [documentation][1]:\r\n&gt;This method grabs the `Fragment` whose view was most recently added to the container. This may used as an alternative to calling `FragmentManager.findFragmentById` and passing in the `FragmentContainerView`&#39;s id.\r\n\r\nTherefore, the alternative here is to simply do it as you would with the `&lt;fragment /&gt;` tag:\r\n\r\n```java\r\nSupportMapFragment smf = (SupportMapFragment) getSupportFragmentManager()\r\n        .findFragmentById(R.id.identifications_map_view);\r\n```\r\n\r\nAnd things would work just as well.\r\n\r\n  [1]: https://developer.android.com/reference/androidx/fragment/app/FragmentContainerView#getFragment()","title":"Can&#39;t find method getFragment() in my FragmentContainerView object","body":"<p>As stated by Sam, the method <code>getFragment()</code> wasn't added to <code>FragmentContainerView</code> until 1.4.0 alpha versions.</p>\n<p>However, as per <a href=\"https://developer.android.com/reference/androidx/fragment/app/FragmentContainerView#getFragment()\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>This method grabs the <code>Fragment</code> whose view was most recently added to the container. This may used as an alternative to calling <code>FragmentManager.findFragmentById</code> and passing in the <code>FragmentContainerView</code>'s id.</p>\n</blockquote>\n<p>Therefore, the alternative here is to simply do it as you would with the <code>&lt;fragment /&gt;</code> tag:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SupportMapFragment smf = (SupportMapFragment) getSupportFragmentManager()\n        .findFragmentById(R.id.identifications_map_view);\n</code></pre>\n<p>And things would work just as well.</p>\n"},{"tags":[],"owner":{"account_id":3344114,"reputation":1188,"user_id":2809617,"accept_rate":67,"display_name":"Alexmelyon"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1682084431,"creation_date":1657017125,"answer_id":72867930,"question_id":68018322,"body_markdown":"When you use `androidx.fragment.app.Fragment` try this:\r\n```\r\n&lt;androidx.fragment.app.FragmentContainerView\r\n    android:id=&quot;@+id/fragment_container&quot;\r\n    android:name=&quot;com.example.YourFragment&quot;\r\n    android:tag=&quot;custom_tag&quot;\r\n    tools:layout=&quot;@layout/your_fragment_layout&quot; /&gt;\r\n```\r\nAnd get this fragment instance by:\r\n```\r\nchildFragmentManager.findFragmentByTag(&quot;custom_tag&quot;)\r\n```\r\nUPD: In some cases it doesn&#39;t work. I don&#39;t know why. Try this:\r\n```\r\nbinding.fragmentContainer.getFragment&lt;YourFragment&gt;()\r\n```","title":"Can&#39;t find method getFragment() in my FragmentContainerView object","body":"<p>When you use <code>androidx.fragment.app.Fragment</code> try this:</p>\n<pre><code>&lt;androidx.fragment.app.FragmentContainerView\n    android:id=&quot;@+id/fragment_container&quot;\n    android:name=&quot;com.example.YourFragment&quot;\n    android:tag=&quot;custom_tag&quot;\n    tools:layout=&quot;@layout/your_fragment_layout&quot; /&gt;\n</code></pre>\n<p>And get this fragment instance by:</p>\n<pre><code>childFragmentManager.findFragmentByTag(&quot;custom_tag&quot;)\n</code></pre>\n<p>UPD: In some cases it doesn't work. I don't know why. Try this:</p>\n<pre><code>binding.fragmentContainer.getFragment&lt;YourFragment&gt;()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10118305,"reputation":21,"user_id":7476209,"display_name":"Oleg Dontsov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689248461,"creation_date":1689248461,"answer_id":76678984,"question_id":68018322,"body_markdown":"For kotlin use: \r\n\r\n    val smf = supportFragmentManager.findFragmentById(R.id.identifications_map_view) as SupportMapFragment","title":"Can&#39;t find method getFragment() in my FragmentContainerView object","body":"<p>For kotlin use:</p>\n<pre><code>val smf = supportFragmentManager.findFragmentById(R.id.identifications_map_view) as SupportMapFragment\n</code></pre>\n"}],"owner":{"account_id":13904202,"reputation":121,"user_id":10184022,"display_name":"DrMontorsi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5647,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":5,"score":12,"last_activity_date":1689248461,"creation_date":1623928954,"question_id":68018322,"body_markdown":"In the XML I have\r\n\r\n    &lt;androidx.fragment.app.FragmentContainerView\r\n        android:id=&quot;@+id/identifications_map_view&quot;\r\n        android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\nI would like to get the Fragment from the View. The [documentation](https://developer.android.com/reference/androidx/fragment/app/FragmentContainerView#getFragment()) suggests to use\r\n\r\n```\r\nFragmentContainerView fcv = findViewById(R.id.identifications_map_view);\r\nSupportMapFragment smf = fcv.getFragment()\r\n```\r\n\r\nBut Android Studio cannot resolve symbol, and if I CTRL+Click the &quot;FragmentContainerView&quot; it doesn&#39;t show getFragment() when i search with CTRL+F.\r\n\r\nI know there is another way to get the Fragment but I was wondering why I can&#39;t do it this way. I guess there is some problem with the version, because I seem to have an older version of the class than the documentation&#39;s, for example there is also an extra constructor that uses the FragmentManager, nowhere to be found in the documentation. \r\nCould it even be minimum API problem? I have 24.\r\n\r\nThanks.","title":"Can&#39;t find method getFragment() in my FragmentContainerView object","body":"<p>In the XML I have</p>\n<pre><code>&lt;androidx.fragment.app.FragmentContainerView\n    android:id=&quot;@+id/identifications_map_view&quot;\n    android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\n    android:visibility=&quot;gone&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot; /&gt;\n</code></pre>\n<p>I would like to get the Fragment from the View. The <a href=\"https://developer.android.com/reference/androidx/fragment/app/FragmentContainerView#getFragment()\" rel=\"noreferrer\">documentation</a> suggests to use</p>\n<pre><code>FragmentContainerView fcv = findViewById(R.id.identifications_map_view);\nSupportMapFragment smf = fcv.getFragment()\n</code></pre>\n<p>But Android Studio cannot resolve symbol, and if I CTRL+Click the &quot;FragmentContainerView&quot; it doesn't show getFragment() when i search with CTRL+F.</p>\n<p>I know there is another way to get the Fragment but I was wondering why I can't do it this way. I guess there is some problem with the version, because I seem to have an older version of the class than the documentation's, for example there is also an extra constructor that uses the FragmentManager, nowhere to be found in the documentation.\nCould it even be minimum API problem? I have 24.</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","hibernate"],"owner":{"account_id":24580148,"reputation":27,"user_id":18485406,"display_name":"maxime Lassort"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689248381,"creation_date":1689248381,"question_id":76678973,"body_markdown":"I have a native query who take multi criteria and sort. \r\nIt work well for the profile but when i do the same for company my query return duplicates items cause theire are multiple line for one user in my company table \r\nmy code : \r\n```` \r\nStringBuilder sql = new StringBuilder(\r\n                &quot;SELECT DISTINCT u.id, u.nom, u.prenom, u.email, u.id_profil, p.code, c.name FROM exploitation.utilisateur u&quot;);\r\n        sql.append(&quot; inner join exploitation.profil p on p.id = u.id_profil&quot;);\r\n        sql.append(&quot; left join exploitation.company c on c.id_utilisateur = u.id&quot;);\r\n        sql.append(&quot; WHERE 1=1&quot;);\r\n\r\nswitch (utilisateurRequest.getTris().colonne()) {\r\n            case &quot;nom&quot;, &quot;prenom&quot;, &quot;email&quot;:\r\n                sql.append(String.format(&quot; ORDER BY u.%s %s &quot;,\r\n                                         utilisateurRequest.getTris().colonne(),\r\n                                         utilisateurRequest.getTris().ordre().toLowerCase()));\r\n                break;\r\n            case &quot;profils&quot;:\r\n                sql.append(String.format(&quot; ORDER BY p.code %s&quot;, utilisateurRequest.getTris().ordre().toLowerCase()));\r\n                break;\r\n            case &quot;gestionnaire&quot;:\r\n                sql.append(String.format(&quot; ORDER BY c.name %s&quot;, utilisateurRequest.getTris().ordre().toLowerCase()));\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n````\r\n\r\nmy user table contain a foreign key to profil, but does not contain any reference to the company table.\r\n````\r\n+--------------------+\r\n| User               |\r\n+--------------------+\r\n| id                 |\r\n| name               |\r\n| id_profil          |\r\n| ...                |\r\n+--------------------+\r\n\r\n+--------------------+\r\n| Company            |\r\n+--------------------+\r\n| id                 |\r\n| id_user            |\r\n| name               |\r\n+--------------------+\r\n\r\n/// user \r\n  @OneToMany(mappedBy = &quot;utilisateurEntity&quot;, cascade = CascadeType.ALL)\r\n  private List&lt;UtilisateurGestionnaireEntity&gt; utilisateurGestionnaire;\r\n/// company \r\n @ManyToOne\r\n    @JoinColumn(name = &quot;id_utilisateur&quot;, referencedColumnName = &quot;id&quot;)\r\n    private UtilisateurEntity utilisateurEntity;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n```` \r\nI can&#39;t transform my list to a set because i need the list size for pagination\r\n\r\n```` \r\nquery.setFirstResult((pageNumber - 1) * pageSize);\r\nquery.setMaxResults(pageSize);\r\nList&lt;UtilisateurEntity&gt; list = query.getResultList();````","title":"Query return duplicate items JPA nativeQuerry","body":"<p>I have a native query who take multi criteria and sort.\nIt work well for the profile but when i do the same for company my query return duplicates items cause theire are multiple line for one user in my company table\nmy code :</p>\n<pre><code>StringBuilder sql = new StringBuilder(\n                &quot;SELECT DISTINCT u.id, u.nom, u.prenom, u.email, u.id_profil, p.code, c.name FROM exploitation.utilisateur u&quot;);\n        sql.append(&quot; inner join exploitation.profil p on p.id = u.id_profil&quot;);\n        sql.append(&quot; left join exploitation.company c on c.id_utilisateur = u.id&quot;);\n        sql.append(&quot; WHERE 1=1&quot;);\n\nswitch (utilisateurRequest.getTris().colonne()) {\n            case &quot;nom&quot;, &quot;prenom&quot;, &quot;email&quot;:\n                sql.append(String.format(&quot; ORDER BY u.%s %s &quot;,\n                                         utilisateurRequest.getTris().colonne(),\n                                         utilisateurRequest.getTris().ordre().toLowerCase()));\n                break;\n            case &quot;profils&quot;:\n                sql.append(String.format(&quot; ORDER BY p.code %s&quot;, utilisateurRequest.getTris().ordre().toLowerCase()));\n                break;\n            case &quot;gestionnaire&quot;:\n                sql.append(String.format(&quot; ORDER BY c.name %s&quot;, utilisateurRequest.getTris().ordre().toLowerCase()));\n                break;\n            default:\n                break;\n        }\n</code></pre>\n<p>my user table contain a foreign key to profil, but does not contain any reference to the company table.</p>\n<pre><code>+--------------------+\n| User               |\n+--------------------+\n| id                 |\n| name               |\n| id_profil          |\n| ...                |\n+--------------------+\n\n+--------------------+\n| Company            |\n+--------------------+\n| id                 |\n| id_user            |\n| name               |\n+--------------------+\n\n/// user \n  @OneToMany(mappedBy = &quot;utilisateurEntity&quot;, cascade = CascadeType.ALL)\n  private List&lt;UtilisateurGestionnaireEntity&gt; utilisateurGestionnaire;\n/// company \n @ManyToOne\n    @JoinColumn(name = &quot;id_utilisateur&quot;, referencedColumnName = &quot;id&quot;)\n    private UtilisateurEntity utilisateurEntity;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n</code></pre>\n<p>I can't transform my list to a set because i need the list size for pagination</p>\n<pre><code>query.setFirstResult((pageNumber - 1) * pageSize);\nquery.setMaxResults(pageSize);\nList&lt;UtilisateurEntity&gt; list = query.getResultList();````\n</code></pre>\n"},{"tags":["java","vaadin"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1688731725,"post_id":76636685,"comment_id":135116800,"body_markdown":"Did you do a production build?\nhttps://vaadin.com/docs/latest/production/production-build Had the build\nany errors?","body":"Did you do a production build? <a href=\"https://vaadin.com/docs/latest/production/production-build\" rel=\"nofollow noreferrer\">vaadin.com/docs/latest/production/production-build</a> Had the build any errors?"},{"owner":{"account_id":28916647,"reputation":51,"user_id":22148475,"display_name":"jruizj74"},"score":0,"creation_date":1688732215,"post_id":76636685,"comment_id":135116915,"body_markdown":"Yes, I did a production build and prepare-frontend and build-frontend had not any errors.","body":"Yes, I did a production build and prepare-frontend and build-frontend had not any errors."},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1689053920,"post_id":76636685,"comment_id":135154723,"body_markdown":"And others vaadin component one would consdier &quot;core&quot;, let&#39;s say Button, are just fine?","body":"And others vaadin component one would consdier &quot;core&quot;, let&#39;s say Button, are just fine?"},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1689053962,"post_id":76636685,"comment_id":135154728,"body_markdown":"Do you have anything odd in the dev-console in your browser once the\nbroken site loads?","body":"Do you have anything odd in the dev-console in your browser once the broken site loads?"},{"owner":{"account_id":28916647,"reputation":51,"user_id":22148475,"display_name":"jruizj74"},"score":0,"creation_date":1689067831,"post_id":76636685,"comment_id":135157295,"body_markdown":"We  have realised that adding @Uses annotation to the view the components are displayed.","body":"We  have realised that adding @Uses annotation to the view the components are displayed."}],"answers":[{"tags":[],"owner":{"account_id":28916647,"reputation":51,"user_id":22148475,"display_name":"jruizj74"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1689248279,"creation_date":1689068662,"answer_id":76660660,"question_id":76636685,"body_markdown":"We register the routes dynamically using a code like the following:\r\n`RouteConfiguration.forSessionScope().setRoute(&quot;home&quot;, HomeView.class, MainLayout.class);`\r\n\r\n\r\nwhere `MainLayout.class` extends the `AppLayout`\r\n\r\nThe problem is that the components used in `HomeView.class` and not used in `MainLayout.class` are not displayed. \r\n\r\nWe had to add the annotation `@Uses` to `MainLayout.class` with the components, for example:\r\n\r\n   `@Uses(ComboBox.class)`\r\n\r\nand now all components are displayed properly.\r\n\r\nOther solution is to use the property `&lt;optimizeBundle&gt;false&lt;/optimizeBundle&gt;` in the `build-frontend` goal of the pom.xml\r\n\r\nThis behaviour is very odd beacause in Vaadin 22 the application worked fine without the `@Uses` annotation.\r\n\r\n","title":"Some Vaadin components not rendered after upgrading from v22 to v24","body":"<p>We register the routes dynamically using a code like the following:\n<code>RouteConfiguration.forSessionScope().setRoute(&quot;home&quot;, HomeView.class, MainLayout.class);</code></p>\n<p>where <code>MainLayout.class</code> extends the <code>AppLayout</code></p>\n<p>The problem is that the components used in <code>HomeView.class</code> and not used in <code>MainLayout.class</code> are not displayed.</p>\n<p>We had to add the annotation <code>@Uses</code> to <code>MainLayout.class</code> with the components, for example:</p>\n<p><code>@Uses(ComboBox.class)</code></p>\n<p>and now all components are displayed properly.</p>\n<p>Other solution is to use the property <code>&lt;optimizeBundle&gt;false&lt;/optimizeBundle&gt;</code> in the <code>build-frontend</code> goal of the pom.xml</p>\n<p>This behaviour is very odd beacause in Vaadin 22 the application worked fine without the <code>@Uses</code> annotation.</p>\n"}],"owner":{"account_id":28916647,"reputation":51,"user_id":22148475,"display_name":"jruizj74"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76660660,"answer_count":1,"score":2,"last_activity_date":1689248279,"creation_date":1688730114,"question_id":76636685,"body_markdown":"After upgrading from Vaadin 22 to 24 some built-in components like combo-box o grid are not displaying in an application that worked properly with Vaadin 22.\r\nWe are using:\r\n\r\n- Vaadin 24.1.1 with npn, Vite and production mode.\r\n- Spring Boot 3.1.1\r\n\r\n  The logs of the application shows this messages:\r\n\r\n```\r\n2023-07-07T10:58:56.045+02:00 ERROR 3404 --- [http-nio-9012-exec-9] c.v.flow.component.internal.UIInternals  : The component class com.vaadin.flow.component.combobox.ComboBox includes &#39;@vaadin/combo-box/src/vaadin-combo-box.js&#39; but this file was not included when creating the production bundle. The component will not work properly. Check that you have a reference to the component and that you are not using it only through reflection. If needed add a @Uses(ComboBox.class) where it is used.\r\n2023-07-07T12:55:41.395+02:00 ERROR 19744 --- [http-nio-9012-exec-2] c.v.flow.component.internal.UIInternals  : The component class com.vaadin.flow.component.details.Details includes &#39;@vaadin/details/src/vaadin-details.js&#39; but this file was not included when creating the production bundle. The component will not work properly. Check that you have a reference to the component and that you are not using it only through reflection. If needed add a @Uses(Details.class) where it is used.\r\n```\r\n\r\nAnd the source code of the generated page has a empty label of vaadin-combo-box:\r\n\r\n```\r\n&lt;vaadin-combo-box&gt;&lt;/vaadin-combo-box&gt;\r\n```\r\n\r\nWe have deleted node_modules and fronted directories generated by Vaadin several times but nothing changes. Can anyboy help us?","title":"Some Vaadin components not rendered after upgrading from v22 to v24","body":"<p>After upgrading from Vaadin 22 to 24 some built-in components like combo-box o grid are not displaying in an application that worked properly with Vaadin 22.\nWe are using:</p>\n<ul>\n<li><p>Vaadin 24.1.1 with npn, Vite and production mode.</p>\n</li>\n<li><p>Spring Boot 3.1.1</p>\n<p>The logs of the application shows this messages:</p>\n</li>\n</ul>\n<pre><code>2023-07-07T10:58:56.045+02:00 ERROR 3404 --- [http-nio-9012-exec-9] c.v.flow.component.internal.UIInternals  : The component class com.vaadin.flow.component.combobox.ComboBox includes '@vaadin/combo-box/src/vaadin-combo-box.js' but this file was not included when creating the production bundle. The component will not work properly. Check that you have a reference to the component and that you are not using it only through reflection. If needed add a @Uses(ComboBox.class) where it is used.\n2023-07-07T12:55:41.395+02:00 ERROR 19744 --- [http-nio-9012-exec-2] c.v.flow.component.internal.UIInternals  : The component class com.vaadin.flow.component.details.Details includes '@vaadin/details/src/vaadin-details.js' but this file was not included when creating the production bundle. The component will not work properly. Check that you have a reference to the component and that you are not using it only through reflection. If needed add a @Uses(Details.class) where it is used.\n</code></pre>\n<p>And the source code of the generated page has a empty label of vaadin-combo-box:</p>\n<pre><code>&lt;vaadin-combo-box&gt;&lt;/vaadin-combo-box&gt;\n</code></pre>\n<p>We have deleted node_modules and fronted directories generated by Vaadin several times but nothing changes. Can anyboy help us?</p>\n"},{"tags":["java","wildfly","server-sent-events","undertow"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1689265335,"post_id":76678909,"comment_id":135192482,"body_markdown":"It sounds like you should be using the `SseBroadcaster` instead of trying to hold onto `SseEventSinks`. You may find this example helpful https://github.com/resteasy/resteasy-examples/tree/main/contacts.","body":"It sounds like you should be using the <code>SseBroadcaster</code> instead of trying to hold onto <code>SseEventSinks</code>. You may find this example helpful <a href=\"https://github.com/resteasy/resteasy-examples/tree/main/contacts\" rel=\"nofollow noreferrer\">github.com/resteasy/resteasy-examples/tree/main/contacts</a>."}],"owner":{"account_id":24910343,"reputation":1,"user_id":18779957,"display_name":"Johan Steenkamp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689247996,"creation_date":1689247996,"question_id":76678909,"body_markdown":"I am currently playing around with Server-Sent Events in Wildfly and sending such events to a browser via EventSource. Everything works fine, but if an SSE connection is left idle for two minutes then Wildfly closes the connection when I try to send stuff over the connection, with the following exception:\r\n\r\n\r\n```\r\n2023-07-11 15:22:00,282 ERROR [io.undertow.request.io] (default I/O-12) UT005088: Failed to execute ServletOutputStream.closeAsync() on IO thread: java.nio.channels.ClosedChannelException\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.conduits.ChunkedStreamSinkConduit.doWrite(ChunkedStreamSinkConduit.java:134)\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.conduits.ChunkedStreamSinkConduit.write(ChunkedStreamSinkConduit.java:128)\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.conduits.ChunkedStreamSinkConduit.write(ChunkedStreamSinkConduit.java:220)\r\n\tat org.jboss.xnio@3.8.9.Final//org.xnio.conduits.Conduits.writeFinalBasic(Conduits.java:149)\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.conduits.ChunkedStreamSinkConduit.writeFinal(ChunkedStreamSinkConduit.java:228)\r\n\tat org.jboss.xnio@3.8.9.Final//org.xnio.conduits.ConduitStreamSinkChannel.writeFinal(ConduitStreamSinkChannel.java:114)\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.channels.DetachableStreamSinkChannel.writeFinal(DetachableStreamSinkChannel.java:211)\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.server.HttpServerExchange$WriteDispatchChannel.writeFinal(HttpServerExchange.java:2198)\r\n\tat io.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.ServletOutputStreamImpl.flushBufferAsync(ServletOutputStreamImpl.java:422)\r\n\tat io.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.ServletOutputStreamImpl.closeAsync(ServletOutputStreamImpl.java:689)\r\n\tat io.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.ServletOutputStreamImpl$1.run(ServletOutputStreamImpl.java:662)\r\n\tat org.jboss.xnio.nio@3.8.9.Final//org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)\r\n\tat org.jboss.xnio.nio@3.8.9.Final//org.xnio.nio.WorkerThread.run(WorkerThread.java:479)\r\n\r\n2023-07-11 15:22:00,283 ERROR [za.co.ejb.session.esa.EsaSseService] (EJB default - 2) java.nio.channels.ClosedChannelException: java.util.concurrent.CompletionException: java.nio.channels.ClosedChannelException\r\n\tat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)\r\n\tat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:994)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniExceptionallyStage(CompletableFuture.java:1008)\r\n\tat java.base/java.util.concurrent.CompletableFuture.exceptionally(CompletableFuture.java:2396)\r\n\tat java.base/java.util.concurrent.CompletableFuture.exceptionally(CompletableFuture.java:144)\r\n\tat org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.providers.sse.SseEventOutputImpl.internalWriteEvent(SseEventOutputImpl.java:278)\r\n\tat org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.providers.sse.SseEventOutputImpl.send(SseEventOutputImpl.java:207)\r\n\tat deployment.Test.war//za.co.ejb.session.misc.SseClientRegistry.send(SseClientRegistry.java:58)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\r\n\tat org.jboss.as.weld.ejb@28.0.1.Final//org.jboss.as.weld.ejb.DelegatingInterceptorInvocationContext.proceed(DelegatingInterceptorInvocationContext.java:92)\r\n\tat org.jboss.weld.core@5.1.0.Final//org.jboss.weld.interceptor.proxy.WeldInvocationContextImpl.interceptorChainCompleted(WeldInvocationContextImpl.java:107)\r\n\tat org.jboss.weld.core@5.1.0.Final//org.jboss.weld.interceptor.proxy.WeldInvocationContextImpl.proceed(WeldInvocationContextImpl.java:126)\r\n\tat org.hibernate.validator.cdi@8.0.0.Final//org.hibernate.validator.cdi.internal.interceptor.ValidationInterceptor.validateMethodInvocation(ValidationInterceptor.java:79)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.jboss.weld.core@5.1.0.Final//org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)\r\n\tat org.jboss.weld.core@5.1.0.Final//org.jboss.weld.interceptor.proxy.WeldInvocationContextImpl.invokeNext(WeldInvocationContextImpl.java:92)\r\n\tat org.jboss.weld.core@5.1.0.Final//org.jboss.weld.interceptor.proxy.WeldInvocationContextImpl.proceed(WeldInvocationContextImpl.java:124)\r\n\tat org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.InterceptorImpl.intercept(InterceptorImpl.java:105)\r\n\tat org.jboss.as.weld.ejb@28.0.1.Final//org.jboss.as.weld.ejb.DelegatingInterceptorInvocationContext.proceed(DelegatingInterceptorInvocationContext.java:82)\r\n\tat org.jboss.as.weld.ejb@28.0.1.Final//org.jboss.as.weld.interceptors.EjbComponentInterceptorSupport.delegateInterception(EjbComponentInterceptorSupport.java:60)\r\n\tat org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:77)\r\n\tat org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:89)\r\n\tat org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:102)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.singleton.SingletonComponentInstanceAssociationInterceptor.processInvocation(SingletonComponentInstanceAssociationInterceptor.java:53)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:56)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:201)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:392)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:160)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\r\n\tat org.jboss.weld.core@5.1.0.Final//org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)\r\n\tat org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.security.IdentityOutflowInterceptor.processInvocation(IdentityOutflowInterceptor.java:73)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.security.SecurityDomainInterceptor.processInvocation(SecurityDomainInterceptor.java:44)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.singleton.ContainerManagedConcurrencyInterceptor.processInvocation(ContainerManagedConcurrencyInterceptor.java:106)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)\r\n\tat org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:633)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:191)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.security.IdentityInterceptor.lambda$processInvocation$0(IdentityInterceptor.java:47)\r\n\tat org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.SecurityIdentity.runAsFunctionEx(SecurityIdentity.java:421)\r\n\tat org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\r\n\tat org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.Scoped.runAsSupplierEx(Scoped.java:229)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.security.IdentityInterceptor.processInvocation(IdentityInterceptor.java:47)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:81)\r\n\tat deployment.Test.war//za.co.ejb.session.misc.SseClientRegistry$$$view69.send(Unknown Source)\r\n\tat deployment.Test.war//za.co.ejb.session.esa.EsaSseService.send(EsaSseService.java:36)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\r\n\tat org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:79)\r\n\tat org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:89)\r\n\tat org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:102)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.singleton.SingletonComponentInstanceAssociationInterceptor.processInvocation(SingletonComponentInstanceAssociationInterceptor.java:53)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:56)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:254)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.requiresNew(CMTTxInterceptor.java:416)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:158)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\r\n\tat org.jboss.weld.core@5.1.0.Final//org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)\r\n\tat org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.security.IdentityOutflowInterceptor.processInvocation(IdentityOutflowInterceptor.java:73)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.security.SecurityDomainInterceptor.processInvocation(SecurityDomainInterceptor.java:44)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)\r\n\tat org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:633)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:191)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.LogDiagnosticContextRecoveryInterceptor.processInvocation(LogDiagnosticContextRecoveryInterceptor.java:82)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.AsyncFutureInterceptorFactory$1.lambda$processInvocation$0(AsyncFutureInterceptorFactory.java:83)\r\n\tat org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.SecurityIdentity.runAsFunctionEx(SecurityIdentity.java:421)\r\n\tat org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\r\n\tat org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.AsyncFutureInterceptorFactory$1$1.runInvocation(AsyncFutureInterceptorFactory.java:92)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.AsyncInvocationTask.run(AsyncInvocationTask.java:81)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\nCaused by: java.nio.channels.ClosedChannelException\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.conduits.WriteTimeoutStreamSinkConduit.handleWriteTimeout(WriteTimeoutStreamSinkConduit.java:102)\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.conduits.WriteTimeoutStreamSinkConduit.write(WriteTimeoutStreamSinkConduit.java:117)\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:652)\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.conduits.ChunkedStreamSinkConduit.doWrite(ChunkedStreamSinkConduit.java:166)\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.conduits.ChunkedStreamSinkConduit.write(ChunkedStreamSinkConduit.java:128)\r\n\tat org.jboss.xnio@3.8.9.Final//org.xnio.conduits.ConduitStreamSinkChannel.write(ConduitStreamSinkChannel.java:150)\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.channels.DetachableStreamSinkChannel.write(DetachableStreamSinkChannel.java:240)\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.server.HttpServerExchange$WriteDispatchChannel.write(HttpServerExchange.java:2205)\r\n\tat io.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.ServletOutputStreamImpl.flushInternal(ServletOutputStreamImpl.java:523)\r\n\tat io.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.ServletOutputStreamImpl.flush(ServletOutputStreamImpl.java:479)\r\n\tat org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$WrappedServletOutputStream.flush(HttpServletResponseWrapper.java:626)\r\n\tat org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$DeferredOutputStream.flush(HttpServletResponseWrapper.java:263)\r\n\tat org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$FlushOperation.doWork(HttpServletResponseWrapper.java:160)\r\n\tat org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$AsyncOperation.work(HttpServletResponseWrapper.java:58)\r\n\tat org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$DeferredOutputStream.flushQueue(HttpServletResponseWrapper.java:331)\r\n\tat org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$DeferredOutputStream.queue(HttpServletResponseWrapper.java:313)\r\n\tat org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$DeferredOutputStream.asyncFlush(HttpServletResponseWrapper.java:274)\r\n\tat org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.providers.sse.SseEventOutputImpl.lambda$internalWriteEvent$5(SseEventOutputImpl.java:277)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187)\r\n\tat java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2341)\r\n\tat java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:144)\r\n\tat org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.providers.sse.SseEventOutputImpl.internalWriteEvent(SseEventOutputImpl.java:277)\r\n\t... 155 more\r\n```\r\nFrom the looks of it, it seems that this caused by some timeout setting in Undertow which I believe is around a minute.\r\n\r\nDoes anyone know specifically how to increase the timeout for SSE connections? The default timeout in undertow is probably perfect for normal REST calls. However, for SSE connections, especially if you are going to have a 100 open them open at a time, or more, the constant dropping and reconnection every minute or doesn&#39;t sound very effective.\r\n\r\nHere is my defined endpoint:\r\n\r\n```\r\n    @GET\r\n    @Path(&quot;publish/{token}&quot;)\r\n    @Produces(SERVER_SENT_EVENTS)\r\n    public void sseProcessed(@PathParam(&quot;token&quot;) final String token,\r\n                             @Context final SseEventSink sink) {\r\n        sseClientRegistry.add(Integer.parseInt(token), sink);\r\n    }\r\n```\r\n\r\n\r\nsseClientRegistry is also from my code, where we keep a list of current SSE connections. If parts of the system trigger evenets, sseClientRegistry handles that and send the message to the appropriate connection.\r\n\r\nThis mechanism works ok, apart from the premature connection close due to a timeout","title":"Increasing timeout for Server-Sent Events (SSE) connections in Wildfly","body":"<p>I am currently playing around with Server-Sent Events in Wildfly and sending such events to a browser via EventSource. Everything works fine, but if an SSE connection is left idle for two minutes then Wildfly closes the connection when I try to send stuff over the connection, with the following exception:</p>\n<pre><code>2023-07-11 15:22:00,282 ERROR [io.undertow.request.io] (default I/O-12) UT005088: Failed to execute ServletOutputStream.closeAsync() on IO thread: java.nio.channels.ClosedChannelException\n    at io.undertow.core@2.3.6.Final//io.undertow.conduits.ChunkedStreamSinkConduit.doWrite(ChunkedStreamSinkConduit.java:134)\n    at io.undertow.core@2.3.6.Final//io.undertow.conduits.ChunkedStreamSinkConduit.write(ChunkedStreamSinkConduit.java:128)\n    at io.undertow.core@2.3.6.Final//io.undertow.conduits.ChunkedStreamSinkConduit.write(ChunkedStreamSinkConduit.java:220)\n    at org.jboss.xnio@3.8.9.Final//org.xnio.conduits.Conduits.writeFinalBasic(Conduits.java:149)\n    at io.undertow.core@2.3.6.Final//io.undertow.conduits.ChunkedStreamSinkConduit.writeFinal(ChunkedStreamSinkConduit.java:228)\n    at org.jboss.xnio@3.8.9.Final//org.xnio.conduits.ConduitStreamSinkChannel.writeFinal(ConduitStreamSinkChannel.java:114)\n    at io.undertow.core@2.3.6.Final//io.undertow.channels.DetachableStreamSinkChannel.writeFinal(DetachableStreamSinkChannel.java:211)\n    at io.undertow.core@2.3.6.Final//io.undertow.server.HttpServerExchange$WriteDispatchChannel.writeFinal(HttpServerExchange.java:2198)\n    at io.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.ServletOutputStreamImpl.flushBufferAsync(ServletOutputStreamImpl.java:422)\n    at io.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.ServletOutputStreamImpl.closeAsync(ServletOutputStreamImpl.java:689)\n    at io.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.ServletOutputStreamImpl$1.run(ServletOutputStreamImpl.java:662)\n    at org.jboss.xnio.nio@3.8.9.Final//org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)\n    at org.jboss.xnio.nio@3.8.9.Final//org.xnio.nio.WorkerThread.run(WorkerThread.java:479)\n\n2023-07-11 15:22:00,283 ERROR [za.co.ejb.session.esa.EsaSseService] (EJB default - 2) java.nio.channels.ClosedChannelException: java.util.concurrent.CompletionException: java.nio.channels.ClosedChannelException\n    at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)\n    at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)\n    at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:994)\n    at java.base/java.util.concurrent.CompletableFuture.uniExceptionallyStage(CompletableFuture.java:1008)\n    at java.base/java.util.concurrent.CompletableFuture.exceptionally(CompletableFuture.java:2396)\n    at java.base/java.util.concurrent.CompletableFuture.exceptionally(CompletableFuture.java:144)\n    at org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.providers.sse.SseEventOutputImpl.internalWriteEvent(SseEventOutputImpl.java:278)\n    at org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.providers.sse.SseEventOutputImpl.send(SseEventOutputImpl.java:207)\n    at deployment.Test.war//za.co.ejb.session.misc.SseClientRegistry.send(SseClientRegistry.java:58)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\n    at org.jboss.as.weld.ejb@28.0.1.Final//org.jboss.as.weld.ejb.DelegatingInterceptorInvocationContext.proceed(DelegatingInterceptorInvocationContext.java:92)\n    at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.interceptor.proxy.WeldInvocationContextImpl.interceptorChainCompleted(WeldInvocationContextImpl.java:107)\n    at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.interceptor.proxy.WeldInvocationContextImpl.proceed(WeldInvocationContextImpl.java:126)\n    at org.hibernate.validator.cdi@8.0.0.Final//org.hibernate.validator.cdi.internal.interceptor.ValidationInterceptor.validateMethodInvocation(ValidationInterceptor.java:79)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)\n    at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.interceptor.proxy.WeldInvocationContextImpl.invokeNext(WeldInvocationContextImpl.java:92)\n    at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.interceptor.proxy.WeldInvocationContextImpl.proceed(WeldInvocationContextImpl.java:124)\n    at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.InterceptorImpl.intercept(InterceptorImpl.java:105)\n    at org.jboss.as.weld.ejb@28.0.1.Final//org.jboss.as.weld.ejb.DelegatingInterceptorInvocationContext.proceed(DelegatingInterceptorInvocationContext.java:82)\n    at org.jboss.as.weld.ejb@28.0.1.Final//org.jboss.as.weld.interceptors.EjbComponentInterceptorSupport.delegateInterception(EjbComponentInterceptorSupport.java:60)\n    at org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:77)\n    at org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:89)\n    at org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:102)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.singleton.SingletonComponentInstanceAssociationInterceptor.processInvocation(SingletonComponentInstanceAssociationInterceptor.java:53)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:56)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:201)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:392)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:160)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\n    at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)\n    at org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.security.IdentityOutflowInterceptor.processInvocation(IdentityOutflowInterceptor.java:73)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.security.SecurityDomainInterceptor.processInvocation(SecurityDomainInterceptor.java:44)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.singleton.ContainerManagedConcurrencyInterceptor.processInvocation(ContainerManagedConcurrencyInterceptor.java:106)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)\n    at org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:633)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:191)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.security.IdentityInterceptor.lambda$processInvocation$0(IdentityInterceptor.java:47)\n    at org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.SecurityIdentity.runAsFunctionEx(SecurityIdentity.java:421)\n    at org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\n    at org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.Scoped.runAsSupplierEx(Scoped.java:229)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.security.IdentityInterceptor.processInvocation(IdentityInterceptor.java:47)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:81)\n    at deployment.Test.war//za.co.ejb.session.misc.SseClientRegistry$$$view69.send(Unknown Source)\n    at deployment.Test.war//za.co.ejb.session.esa.EsaSseService.send(EsaSseService.java:36)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\n    at org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:79)\n    at org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:89)\n    at org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:102)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.singleton.SingletonComponentInstanceAssociationInterceptor.processInvocation(SingletonComponentInstanceAssociationInterceptor.java:53)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:56)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:254)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.requiresNew(CMTTxInterceptor.java:416)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:158)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\n    at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)\n    at org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.security.IdentityOutflowInterceptor.processInvocation(IdentityOutflowInterceptor.java:73)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.security.SecurityDomainInterceptor.processInvocation(SecurityDomainInterceptor.java:44)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)\n    at org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:633)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:191)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.LogDiagnosticContextRecoveryInterceptor.processInvocation(LogDiagnosticContextRecoveryInterceptor.java:82)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.AsyncFutureInterceptorFactory$1.lambda$processInvocation$0(AsyncFutureInterceptorFactory.java:83)\n    at org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.SecurityIdentity.runAsFunctionEx(SecurityIdentity.java:421)\n    at org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\n    at org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.AsyncFutureInterceptorFactory$1$1.runInvocation(AsyncFutureInterceptorFactory.java:92)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.AsyncInvocationTask.run(AsyncInvocationTask.java:81)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at java.base/java.lang.Thread.run(Thread.java:1623)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\nCaused by: java.nio.channels.ClosedChannelException\n    at io.undertow.core@2.3.6.Final//io.undertow.conduits.WriteTimeoutStreamSinkConduit.handleWriteTimeout(WriteTimeoutStreamSinkConduit.java:102)\n    at io.undertow.core@2.3.6.Final//io.undertow.conduits.WriteTimeoutStreamSinkConduit.write(WriteTimeoutStreamSinkConduit.java:117)\n    at io.undertow.core@2.3.6.Final//io.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:652)\n    at io.undertow.core@2.3.6.Final//io.undertow.conduits.ChunkedStreamSinkConduit.doWrite(ChunkedStreamSinkConduit.java:166)\n    at io.undertow.core@2.3.6.Final//io.undertow.conduits.ChunkedStreamSinkConduit.write(ChunkedStreamSinkConduit.java:128)\n    at org.jboss.xnio@3.8.9.Final//org.xnio.conduits.ConduitStreamSinkChannel.write(ConduitStreamSinkChannel.java:150)\n    at io.undertow.core@2.3.6.Final//io.undertow.channels.DetachableStreamSinkChannel.write(DetachableStreamSinkChannel.java:240)\n    at io.undertow.core@2.3.6.Final//io.undertow.server.HttpServerExchange$WriteDispatchChannel.write(HttpServerExchange.java:2205)\n    at io.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.ServletOutputStreamImpl.flushInternal(ServletOutputStreamImpl.java:523)\n    at io.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.ServletOutputStreamImpl.flush(ServletOutputStreamImpl.java:479)\n    at org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$WrappedServletOutputStream.flush(HttpServletResponseWrapper.java:626)\n    at org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$DeferredOutputStream.flush(HttpServletResponseWrapper.java:263)\n    at org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$FlushOperation.doWork(HttpServletResponseWrapper.java:160)\n    at org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$AsyncOperation.work(HttpServletResponseWrapper.java:58)\n    at org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$DeferredOutputStream.flushQueue(HttpServletResponseWrapper.java:331)\n    at org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$DeferredOutputStream.queue(HttpServletResponseWrapper.java:313)\n    at org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$DeferredOutputStream.asyncFlush(HttpServletResponseWrapper.java:274)\n    at org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.providers.sse.SseEventOutputImpl.lambda$internalWriteEvent$5(SseEventOutputImpl.java:277)\n    at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187)\n    at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2341)\n    at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:144)\n    at org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.providers.sse.SseEventOutputImpl.internalWriteEvent(SseEventOutputImpl.java:277)\n    ... 155 more\n</code></pre>\n<p>From the looks of it, it seems that this caused by some timeout setting in Undertow which I believe is around a minute.</p>\n<p>Does anyone know specifically how to increase the timeout for SSE connections? The default timeout in undertow is probably perfect for normal REST calls. However, for SSE connections, especially if you are going to have a 100 open them open at a time, or more, the constant dropping and reconnection every minute or doesn't sound very effective.</p>\n<p>Here is my defined endpoint:</p>\n<pre><code>    @GET\n    @Path(&quot;publish/{token}&quot;)\n    @Produces(SERVER_SENT_EVENTS)\n    public void sseProcessed(@PathParam(&quot;token&quot;) final String token,\n                             @Context final SseEventSink sink) {\n        sseClientRegistry.add(Integer.parseInt(token), sink);\n    }\n</code></pre>\n<p>sseClientRegistry is also from my code, where we keep a list of current SSE connections. If parts of the system trigger evenets, sseClientRegistry handles that and send the message to the appropriate connection.</p>\n<p>This mechanism works ok, apart from the premature connection close due to a timeout</p>\n"},{"tags":["python","java","csv","opencsv"],"answers":[{"tags":[],"owner":{"account_id":17167076,"reputation":80,"user_id":12425131,"display_name":"ambrustorok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689247882,"creation_date":1689247882,"answer_id":76678893,"question_id":76678781,"body_markdown":"If they will always have exactly 1 shared column and you want to merge the records (lines) that have the same value in that column, then the following code might help you: \r\n\r\n```python\r\nimport pandas as pd\r\n\r\ndef merge_csv_files(first_file_path, second_file_path, output_file_path):\r\n    first_df = pd.read_csv(first_file_path)\r\n    second_df = pd.read_csv(second_file_path)\r\n\r\n    shared_column = set(first_df.columns) &amp; set(second_df.columns)\r\n    # look for exactly 1 shared column\r\n    if len(shared_column) != 1:\r\n        raise ValueError(&quot;The CSV files do not have exactly one shared column.&quot;)\r\n    shared_column = shared_column.pop()\r\n\r\n    merged_df = pd.merge(first_df, second_df, on=shared_column, how=&#39;inner&#39;)\r\n\r\n    merged_df.to_csv(output_file_path, index=False)\r\n\r\nfirst_file_path = &#39;first.csv&#39;\r\nsecond_file_path = &#39;second.csv&#39;\r\noutput_file_path = &#39;third.csv&#39;\r\n\r\nmerge_csv_files(first_file_path, second_file_path, output_file_path)\r\n```","title":"Merge 2 csv files by common column","body":"<p>If they will always have exactly 1 shared column and you want to merge the records (lines) that have the same value in that column, then the following code might help you:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import pandas as pd\n\ndef merge_csv_files(first_file_path, second_file_path, output_file_path):\n    first_df = pd.read_csv(first_file_path)\n    second_df = pd.read_csv(second_file_path)\n\n    shared_column = set(first_df.columns) &amp; set(second_df.columns)\n    # look for exactly 1 shared column\n    if len(shared_column) != 1:\n        raise ValueError(&quot;The CSV files do not have exactly one shared column.&quot;)\n    shared_column = shared_column.pop()\n\n    merged_df = pd.merge(first_df, second_df, on=shared_column, how='inner')\n\n    merged_df.to_csv(output_file_path, index=False)\n\nfirst_file_path = 'first.csv'\nsecond_file_path = 'second.csv'\noutput_file_path = 'third.csv'\n\nmerge_csv_files(first_file_path, second_file_path, output_file_path)\n</code></pre>\n"}],"owner":{"account_id":26892682,"reputation":3,"user_id":20471188,"display_name":"Razvan Aga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76678893,"answer_count":1,"score":-2,"last_activity_date":1689247882,"creation_date":1689247178,"question_id":76678781,"body_markdown":"I have 2 csv files first.csv and second.csv. They both have a shared column.\r\n\r\nExample:\r\nfirst : a b c d\r\nsecond: x y a z\r\n\r\nI have to create a third csv file that looks like this:\r\nthird : a b c d x y z\r\n\r\nThe files do not have the same number of entries, I must only merge the lines that share the same column.\r\nAlso the paths of the 3 csv files must be sent as parameters.\r\n\r\nI was trying to do this in Java but Python would also work!\r\n\r\nI don&#39;t really know what I should do :(","title":"Merge 2 csv files by common column","body":"<p>I have 2 csv files first.csv and second.csv. They both have a shared column.</p>\n<p>Example:\nfirst : a b c d\nsecond: x y a z</p>\n<p>I have to create a third csv file that looks like this:\nthird : a b c d x y z</p>\n<p>The files do not have the same number of entries, I must only merge the lines that share the same column.\nAlso the paths of the 3 csv files must be sent as parameters.</p>\n<p>I was trying to do this in Java but Python would also work!</p>\n<p>I don't really know what I should do :(</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"score":0,"creation_date":1383666257,"post_id":19713479,"comment_id":134567477,"body_markdown":"I was looking for an HTML to PDF renderer. We were using iText. I was looking to do same with Apache PDFBox. But, it looks like it cannot be done. I can either use [Apache FOP](http://xmlgraphics.apache.org/fop/) or continue using iText. Here is the iText solution if anyone is interested:\nhttps://stackoverflow.com/questions/14359810/java-render-xml-document-as-pdf/19792259#19792259 If you are looking for a solution for merging using PDF box, here it is [Merge pdf files using Apache pdf box](http://www.skill-guru.com/blog/2013/11/05/merging-pdf-using-apache-pdfbox/)","body":"I was looking for an HTML to PDF renderer. We were using iText. I was looking to do same with Apache PDFBox. But, it looks like it cannot be done. I can either use <a href=\"http://xmlgraphics.apache.org/fop/\" rel=\"nofollow noreferrer\">Apache FOP</a> or continue using iText. Here is the iText solution if anyone is interested: <a href=\"https://stackoverflow.com/questions/14359810/java-render-xml-document-as-pdf/19792259#19792259\" title=\"java render xml document as pdf\">stackoverflow.com/questions/14359810/&hellip;</a> If you are looking for a solution for merging using PDF box, here it is <a href=\"http://www.skill-guru.com/blog/2013/11/05/merging-pdf-using-apache-pdfbox/\" rel=\"nofollow noreferrer\">Merge pdf files using Apache pdf box</a>"}],"answers":[{"tags":[],"owner":{"account_id":455917,"reputation":6566,"user_id":854386,"accept_rate":86,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1605046076,"creation_date":1605046076,"answer_id":64777489,"question_id":19713479,"body_markdown":"[Open HTML to PDF library][1] uses PDFBox under the hood and hides all the conversion complexity.\r\n\r\n\r\nUsage is quite simple:\r\n```\r\ntry (OutputStream os = new FileOutputStream(&quot;/Users/me/output.pdf&quot;)) {\r\n    PdfRendererBuilder builder = new PdfRendererBuilder();\r\n    builder.withUri(&quot;file:////Users/me/input.html&quot;);\r\n    builder.toStream(os);\r\n    builder.run();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/danfickle/openhtmltopdf","title":"How to create a PDF file from HTML using PDFBox?","body":"<p><a href=\"https://github.com/danfickle/openhtmltopdf\" rel=\"noreferrer\">Open HTML to PDF library</a> uses PDFBox under the hood and hides all the conversion complexity.</p>\n<p>Usage is quite simple:</p>\n<pre><code>try (OutputStream os = new FileOutputStream(&quot;/Users/me/output.pdf&quot;)) {\n    PdfRendererBuilder builder = new PdfRendererBuilder();\n    builder.withUri(&quot;file:////Users/me/input.html&quot;);\n    builder.toStream(os);\n    builder.run();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4007848,"reputation":101,"user_id":3302084,"display_name":"thmarx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1625053627,"creation_date":1625053627,"answer_id":68194148,"question_id":19713479,"body_markdown":"maybe a little late, but if the itext license is an issue for you, maybe LibrePdf is an option for you:\r\nhttps://github.com/LibrePDF/OpenPDF\r\n\r\nIt&#39;s based on the iText LGPL Code.","title":"How to create a PDF file from HTML using PDFBox?","body":"<p>maybe a little late, but if the itext license is an issue for you, maybe LibrePdf is an option for you:\n<a href=\"https://github.com/LibrePDF/OpenPDF\" rel=\"nofollow noreferrer\">https://github.com/LibrePDF/OpenPDF</a></p>\n<p>It's based on the iText LGPL Code.</p>\n"},{"tags":[],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681480074,"creation_date":1681480074,"answer_id":76015793,"question_id":19713479,"body_markdown":"As of 2023, it is strange that nothing can be quickly googled with \r\n&quot;PDFBox html to pdf Java example&quot;, and [PDFBox examples are just empty][1], so I guess most developers don&#39;t use [Apache PDFBox][2] directly.\r\n\r\nInstead there are [examples][3] to use\r\n\r\n[openhtml][4] API to use PDFBox\r\n\r\nor \r\n\r\nalternative [flyingsaucer][5] API to use [OpenPDF][6] (e.g. [1][7], [2][8]),  \r\nwhere OpenPDF is fully open iText continuation.\r\n\r\n\r\n  [1]: https://pdfbox.apache.org/2.0/examples.html\r\n  [2]: https://pdfbox.apache.org/\r\n  [3]: https://www.baeldung.com/java-html-to-pdf\r\n  [4]: https://github.com/danfickle/openhtmltopdf\r\n  [5]: https://github.com/flyingsaucerproject/flyingsaucer\r\n  [6]: https://github.com/LibrePDF/OpenPDF\r\n  [7]: https://programmersnotes.com/2020/02/how-to-convert-html-to-pdf-in-java/\r\n  [8]: https://medium.com/javarevisited/html-to-pdf-in-java-using-flying-saucer-f73b70d9014d","title":"How to create a PDF file from HTML using PDFBox?","body":"<p>As of 2023, it is strange that nothing can be quickly googled with\n&quot;PDFBox html to pdf Java example&quot;, and <a href=\"https://pdfbox.apache.org/2.0/examples.html\" rel=\"nofollow noreferrer\">PDFBox examples are just empty</a>, so I guess most developers don't use <a href=\"https://pdfbox.apache.org/\" rel=\"nofollow noreferrer\">Apache PDFBox</a> directly.</p>\n<p>Instead there are <a href=\"https://www.baeldung.com/java-html-to-pdf\" rel=\"nofollow noreferrer\">examples</a> to use</p>\n<p><a href=\"https://github.com/danfickle/openhtmltopdf\" rel=\"nofollow noreferrer\">openhtml</a> API to use PDFBox</p>\n<p>or</p>\n<p>alternative <a href=\"https://github.com/flyingsaucerproject/flyingsaucer\" rel=\"nofollow noreferrer\">flyingsaucer</a> API to use <a href=\"https://github.com/LibrePDF/OpenPDF\" rel=\"nofollow noreferrer\">OpenPDF</a> (e.g. <a href=\"https://programmersnotes.com/2020/02/how-to-convert-html-to-pdf-in-java/\" rel=\"nofollow noreferrer\">1</a>, <a href=\"https://medium.com/javarevisited/html-to-pdf-in-java-using-flying-saucer-f73b70d9014d\" rel=\"nofollow noreferrer\">2</a>),<br />\nwhere OpenPDF is fully open iText continuation.</p>\n"},{"tags":[],"owner":{"account_id":21686615,"reputation":21,"user_id":16001968,"display_name":"Hannah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689247608,"creation_date":1689247608,"answer_id":76678849,"question_id":19713479,"body_markdown":"Just wanted to add / warn for anyone else finding this in 2023 that openhtmltopdf currently has the mantainer uncontactable, though some seem like they may be mantaining a fork (see [this issue](https://github.com/danfickle/openhtmltopdf/issues/921)!), while flying saucer isn&#39;t mantained either (see [this discussion](https://groups.google.com/g/flying-saucer-users/c/LJQOzkaHC7Y)! and [this one](https://groups.google.com/g/flying-saucer-users/c/ySI8HrLI70A)! on the google group).","title":"How to create a PDF file from HTML using PDFBox?","body":"<p>Just wanted to add / warn for anyone else finding this in 2023 that openhtmltopdf currently has the mantainer uncontactable, though some seem like they may be mantaining a fork (see <a href=\"https://github.com/danfickle/openhtmltopdf/issues/921\" rel=\"nofollow noreferrer\">this issue</a>!), while flying saucer isn't mantained either (see <a href=\"https://groups.google.com/g/flying-saucer-users/c/LJQOzkaHC7Y\" rel=\"nofollow noreferrer\">this discussion</a>! and <a href=\"https://groups.google.com/g/flying-saucer-users/c/ySI8HrLI70A\" rel=\"nofollow noreferrer\">this one</a>! on the google group).</p>\n"}],"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81788,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":4,"score":20,"last_activity_date":1689247608,"creation_date":1383242068,"question_id":19713479,"body_markdown":"I am trying to create a PDF from HTML content. \r\n\r\n\r\n\tpublic byte[] generatePdf(final XhtmlPDFGenerationRequest request) {\r\n\r\n\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\tPDDocument document = new PDDocument();\r\n\t\tInputStream stream = new ByteArrayInputStream(request.getContent()\r\n\t\t\t\t.getBytes());\r\n\r\n\t\tPDStream pdstream = new PDStream(document, stream);\r\n\t\tdocument.save(baos);\r\n\t\tdocument.close();\r\n\t\treturn this.toByteArray(baos);\r\n\t\t\t\r\n\t}\r\n\r\n\r\nWhen I take this `byte[]` and save to a file, the file is blank. I am using `PDStream` to embed the input stream into the document\r\n\r\nFrom the http://pdfbox.apache.org/apidocs/\r\n\r\n    public PDStream(PDDocument doc,\r\n                    InputStream str)\r\n             throws IOException\r\n\r\nReads all data from the input stream and embeds it into the document, this will close the `InputStream`.","title":"How to create a PDF file from HTML using PDFBox?","body":"<p>I am trying to create a PDF from HTML content. </p>\n\n<pre><code>public byte[] generatePdf(final XhtmlPDFGenerationRequest request) {\n\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    PDDocument document = new PDDocument();\n    InputStream stream = new ByteArrayInputStream(request.getContent()\n            .getBytes());\n\n    PDStream pdstream = new PDStream(document, stream);\n    document.save(baos);\n    document.close();\n    return this.toByteArray(baos);\n\n}\n</code></pre>\n\n<p>When I take this <code>byte[]</code> and save to a file, the file is blank. I am using <code>PDStream</code> to embed the input stream into the document</p>\n\n<p>From the <a href=\"http://pdfbox.apache.org/apidocs/\" rel=\"noreferrer\">http://pdfbox.apache.org/apidocs/</a></p>\n\n<pre><code>public PDStream(PDDocument doc,\n                InputStream str)\n         throws IOException\n</code></pre>\n\n<p>Reads all data from the input stream and embeds it into the document, this will close the <code>InputStream</code>.</p>\n"},{"tags":["java","mongodb","reactive","mongotemplate"],"answers":[{"tags":[],"owner":{"account_id":25295091,"reputation":124,"user_id":19120390,"display_name":"Ajaj Ali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688664489,"creation_date":1688664489,"answer_id":76631244,"question_id":76630376,"body_markdown":"From your question i just understood that you want to update status of those 2 objects \r\n`persons`, `animals` by criteria of `or`.\r\n\r\n ```JAVA\r\nQuery query = Query.query(new Criteria().orOperator(\r\n                Criteria.where(&quot;items.persons.city&quot;).is(&quot;your value&quot;),\r\n                        Criteria.where(&quot;items.persons.color&quot;).is(&quot;your value&quot;),\r\n                        Criteria.where(&quot;items.animals.city&quot;).is(&quot;your value&quot;),\r\n                        Criteria.where(&quot;items.animals.color&quot;).is(&quot;your value&quot;)\r\n        ));\r\n        Update update = new Update().set(&quot;items.$.status&quot;, &quot;9&quot;);\r\n mongoTemplate.updateFirst(query, update, &quot;Your class name&quot;);\r\n```","title":"Monogodb: update element of array of objects with criterias","body":"<p>From your question i just understood that you want to update status of those 2 objects\n<code>persons</code>, <code>animals</code> by criteria of <code>or</code>.</p>\n<pre><code>Query query = Query.query(new Criteria().orOperator(\n               Criteria.where(&quot;items.persons.city&quot;).is(&quot;your value&quot;),\n                       Criteria.where(&quot;items.persons.color&quot;).is(&quot;your value&quot;),\n                       Criteria.where(&quot;items.animals.city&quot;).is(&quot;your value&quot;),\n                       Criteria.where(&quot;items.animals.color&quot;).is(&quot;your value&quot;)\n       ));\n       Update update = new Update().set(&quot;items.$.status&quot;, &quot;9&quot;);\nmongoTemplate.updateFirst(query, update, &quot;Your class name&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23392712,"reputation":201,"user_id":17457184,"display_name":"Rajesh Senapati"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689247527,"creation_date":1689247048,"answer_id":76678756,"question_id":76630376,"body_markdown":"I hope it will help you\r\n\r\n    {\r\n    $or: [\r\n    {\r\n      &quot;items.persons.color&quot;: &quot;red&quot;\r\n    },\r\n    {\r\n      &quot;items.animals.color&quot;: &quot;red&quot;\r\n    }\r\n    ]\r\n    },\r\n    {\r\n    $set: {\r\n    &quot;items.persons.$[elem].status&quot;: &quot;7&quot;,\r\n    &quot;items.animals.$[elem].status&quot;: &quot;7&quot;\r\n    }\r\n    },\r\n    {\r\n     arrayFilters: [\r\n    {\r\n      &quot;elem.color&quot;: &quot;red&quot;\r\n    }\r\n    ]\r\n    })\r\nfor only color\r\nex- https://mongoplayground.net/p/UTLAVWQ884V\r\n\r\nfor both color and city \r\nex- https://mongoplayground.net/p/qRdi2c1VDQg","title":"Monogodb: update element of array of objects with criterias","body":"<p>I hope it will help you</p>\n<pre><code>{\n$or: [\n{\n  &quot;items.persons.color&quot;: &quot;red&quot;\n},\n{\n  &quot;items.animals.color&quot;: &quot;red&quot;\n}\n]\n},\n{\n$set: {\n&quot;items.persons.$[elem].status&quot;: &quot;7&quot;,\n&quot;items.animals.$[elem].status&quot;: &quot;7&quot;\n}\n},\n{\n arrayFilters: [\n{\n  &quot;elem.color&quot;: &quot;red&quot;\n}\n]\n})\n</code></pre>\n<p>for only color\nex- <a href=\"https://mongoplayground.net/p/UTLAVWQ884V\" rel=\"nofollow noreferrer\">https://mongoplayground.net/p/UTLAVWQ884V</a></p>\n<p>for both color and city\nex- <a href=\"https://mongoplayground.net/p/qRdi2c1VDQg\" rel=\"nofollow noreferrer\">https://mongoplayground.net/p/qRdi2c1VDQg</a></p>\n"}],"owner":{"account_id":14783499,"reputation":178,"user_id":10676421,"display_name":"Marius Danciu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1689247527,"creation_date":1688656990,"question_id":76630376,"body_markdown":"I have this document:\r\n\r\n    {\r\n      &quot;id&quot; : &quot;001&quot;,\r\n      &quot;items&quot; : {\r\n        &quot;persons&quot; : [ \r\n            {\r\n                &quot;city&quot; : &quot;London&quot;,\r\n                &quot;color&quot; : &quot;red&quot;,\r\n                &quot;status&quot; : &quot;1&quot;\r\n            }, \r\n            {\r\n                &quot;city&quot; : &quot;Paris&quot;,\r\n                &quot;color&quot; : &quot;blue&quot;,\r\n                &quot;status&quot; : &quot;0&quot;\r\n            }\r\n         ],\r\n        &quot;animals&quot; : [ \r\n            {\r\n                &quot;city&quot; : &quot;Luton&quot;,\r\n                &quot;color&quot; : &quot;red&quot;,\r\n                &quot;status&quot; : &quot;1&quot;\r\n            }, \r\n            {\r\n                &quot;city&quot; : &quot;London&quot;,\r\n                &quot;color&quot; : &quot;red&quot;,\r\n                &quot;status&quot; : &quot;0&quot;\r\n            }\r\n         ]\r\n    }\r\n\r\nIn java, or at least direcly in mongo, I need to update the status of persons and animals to a new value for each item in those arrays who meets the criteria of city and/or color from input.\r\n*Status is obligatory, city and color are not obligatory.*\r\n\r\nEx: \r\n\r\ninput **city=London**, **color=red** and **status=9** will result in:\r\n\r\n    {\r\n      &quot;id&quot; : &quot;001&quot;,\r\n      &quot;items&quot; : {\r\n        &quot;persons&quot; : [ \r\n            {\r\n                &quot;city&quot; : &quot;London&quot;,\r\n                &quot;color&quot; : &quot;red&quot;,\r\n                &quot;status&quot; : &quot;9&quot;\r\n            }, \r\n            {\r\n                &quot;city&quot; : &quot;Paris&quot;,\r\n                &quot;color&quot; : &quot;blue&quot;,\r\n                &quot;status&quot; : &quot;0&quot;\r\n            }\r\n         ],\r\n        &quot;animals&quot; : [ \r\n            {\r\n                &quot;city&quot; : &quot;Luton&quot;,\r\n                &quot;color&quot; : &quot;red&quot;,\r\n                &quot;status&quot; : &quot;1&quot;\r\n            }, \r\n            {\r\n                &quot;city&quot; : &quot;London&quot;,\r\n                &quot;color&quot; : &quot;red&quot;,\r\n                &quot;status&quot; : &quot;9&quot;\r\n            }\r\n         ]\r\n    }\r\n\r\ninput **color=red** and **status=7** will result in:\r\n\r\n    {\r\n      &quot;id&quot; : &quot;001&quot;,\r\n      &quot;items&quot; : {\r\n        &quot;persons&quot; : [ \r\n            {\r\n                &quot;city&quot; : &quot;London&quot;,\r\n                &quot;color&quot; : &quot;red&quot;,\r\n                &quot;status&quot; : &quot;7&quot;\r\n            }, \r\n            {\r\n                &quot;city&quot; : &quot;Paris&quot;,\r\n                &quot;color&quot; : &quot;blue&quot;,\r\n                &quot;status&quot; : &quot;0&quot;\r\n            }\r\n         ],\r\n        &quot;animals&quot; : [ \r\n            {\r\n                &quot;city&quot; : &quot;Luton&quot;,\r\n                &quot;color&quot; : &quot;red&quot;,\r\n                &quot;status&quot; : &quot;7&quot;\r\n            }, \r\n            {\r\n                &quot;city&quot; : &quot;London&quot;,\r\n                &quot;color&quot; : &quot;red&quot;,\r\n                &quot;status&quot; : &quot;7&quot;\r\n            }\r\n         ]\r\n    }\r\n\r\nI tried a lot of things, but nothing works. If somebody can came with a solution is great, but I will be satisfied with a piece of advice to guide me to solve this matter.","title":"Monogodb: update element of array of objects with criterias","body":"<p>I have this document:</p>\n<pre><code>{\n  &quot;id&quot; : &quot;001&quot;,\n  &quot;items&quot; : {\n    &quot;persons&quot; : [ \n        {\n            &quot;city&quot; : &quot;London&quot;,\n            &quot;color&quot; : &quot;red&quot;,\n            &quot;status&quot; : &quot;1&quot;\n        }, \n        {\n            &quot;city&quot; : &quot;Paris&quot;,\n            &quot;color&quot; : &quot;blue&quot;,\n            &quot;status&quot; : &quot;0&quot;\n        }\n     ],\n    &quot;animals&quot; : [ \n        {\n            &quot;city&quot; : &quot;Luton&quot;,\n            &quot;color&quot; : &quot;red&quot;,\n            &quot;status&quot; : &quot;1&quot;\n        }, \n        {\n            &quot;city&quot; : &quot;London&quot;,\n            &quot;color&quot; : &quot;red&quot;,\n            &quot;status&quot; : &quot;0&quot;\n        }\n     ]\n}\n</code></pre>\n<p>In java, or at least direcly in mongo, I need to update the status of persons and animals to a new value for each item in those arrays who meets the criteria of city and/or color from input.\n<em>Status is obligatory, city and color are not obligatory.</em></p>\n<p>Ex:</p>\n<p>input <strong>city=London</strong>, <strong>color=red</strong> and <strong>status=9</strong> will result in:</p>\n<pre><code>{\n  &quot;id&quot; : &quot;001&quot;,\n  &quot;items&quot; : {\n    &quot;persons&quot; : [ \n        {\n            &quot;city&quot; : &quot;London&quot;,\n            &quot;color&quot; : &quot;red&quot;,\n            &quot;status&quot; : &quot;9&quot;\n        }, \n        {\n            &quot;city&quot; : &quot;Paris&quot;,\n            &quot;color&quot; : &quot;blue&quot;,\n            &quot;status&quot; : &quot;0&quot;\n        }\n     ],\n    &quot;animals&quot; : [ \n        {\n            &quot;city&quot; : &quot;Luton&quot;,\n            &quot;color&quot; : &quot;red&quot;,\n            &quot;status&quot; : &quot;1&quot;\n        }, \n        {\n            &quot;city&quot; : &quot;London&quot;,\n            &quot;color&quot; : &quot;red&quot;,\n            &quot;status&quot; : &quot;9&quot;\n        }\n     ]\n}\n</code></pre>\n<p>input <strong>color=red</strong> and <strong>status=7</strong> will result in:</p>\n<pre><code>{\n  &quot;id&quot; : &quot;001&quot;,\n  &quot;items&quot; : {\n    &quot;persons&quot; : [ \n        {\n            &quot;city&quot; : &quot;London&quot;,\n            &quot;color&quot; : &quot;red&quot;,\n            &quot;status&quot; : &quot;7&quot;\n        }, \n        {\n            &quot;city&quot; : &quot;Paris&quot;,\n            &quot;color&quot; : &quot;blue&quot;,\n            &quot;status&quot; : &quot;0&quot;\n        }\n     ],\n    &quot;animals&quot; : [ \n        {\n            &quot;city&quot; : &quot;Luton&quot;,\n            &quot;color&quot; : &quot;red&quot;,\n            &quot;status&quot; : &quot;7&quot;\n        }, \n        {\n            &quot;city&quot; : &quot;London&quot;,\n            &quot;color&quot; : &quot;red&quot;,\n            &quot;status&quot; : &quot;7&quot;\n        }\n     ]\n}\n</code></pre>\n<p>I tried a lot of things, but nothing works. If somebody can came with a solution is great, but I will be satisfied with a piece of advice to guide me to solve this matter.</p>\n"},{"tags":["java","web-services","tomcat","web-applications","intellij-idea"],"comments":[{"owner":{"account_id":7411429,"reputation":78038,"user_id":5638630,"accept_rate":88,"display_name":"Krunal"},"score":3,"creation_date":1592218636,"post_id":19068977,"comment_id":110336614,"body_markdown":"None of these answers, work for me. Did you find exact solution.","body":"None of these answers, work for me. Did you find exact solution."}],"answers":[{"tags":[],"owner":{"account_id":365711,"reputation":11256,"user_id":710802,"accept_rate":37,"display_name":"bond"},"down_vote_count":3,"up_vote_count":75,"is_accepted":false,"score":72,"last_activity_date":1389134396,"creation_date":1389134396,"answer_id":20983480,"question_id":19068977,"body_markdown":"To fix this you need add your machine name in the /etc/hosts file to point to localhost(127.0.0.1).\r\n\r\nYou can find your machine name by running the following command:\r\n\r\n    $ hostname\r\n    macbook-pro\r\n\r\nFrom the output above you know your hostname is &quot;macbook-pro&quot;. \r\nEdit &quot;/etc/hosts&quot; file and add that name at the end of line that lists 127.0.0.1\r\n\r\n    127.0.0.1 localhost macbook-pro\r\n\r\nSave the file.\r\n\r\nNow you IntelliJ should be able to start your server.\r\n","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>To fix this you need add your machine name in the /etc/hosts file to point to localhost(127.0.0.1).</p>\n\n<p>You can find your machine name by running the following command:</p>\n\n<pre><code>$ hostname\nmacbook-pro\n</code></pre>\n\n<p>From the output above you know your hostname is \"macbook-pro\". \nEdit \"/etc/hosts\" file and add that name at the end of line that lists 127.0.0.1</p>\n\n<pre><code>127.0.0.1 localhost macbook-pro\n</code></pre>\n\n<p>Save the file.</p>\n\n<p>Now you IntelliJ should be able to start your server.</p>\n"},{"tags":[],"owner":{"account_id":4280608,"reputation":31,"user_id":3500103,"display_name":"Beth"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1396658717,"creation_date":1396658717,"answer_id":22875224,"question_id":19068977,"body_markdown":"This appears to be a problem with the way mac is handling reading the /etc/hosts file.   See for example http://youtrack.jetbrains.com/issue/IDEA-96865\r\n\r\nAdding the hostname to the hosts file as bond described should not be required, but it does solve the problem.   ","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>This appears to be a problem with the way mac is handling reading the /etc/hosts file.   See for example <a href=\"http://youtrack.jetbrains.com/issue/IDEA-96865\" rel=\"nofollow\">http://youtrack.jetbrains.com/issue/IDEA-96865</a></p>\n\n<p>Adding the hostname to the hosts file as bond described should not be required, but it does solve the problem.   </p>\n"},{"tags":[],"owner":{"account_id":4910019,"reputation":49,"user_id":3955556,"accept_rate":75,"display_name":"cagigas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416407244,"creation_date":1416407244,"answer_id":27019353,"question_id":19068977,"body_markdown":"I solve this problem adding the environment variables JAVA_HOME(C:\\Program Files\\Java\\jdkx.x.x_xx) and JRE_HOME.\r\n","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>I solve this problem adding the environment variables JAVA_HOME(C:\\Program Files\\Java\\jdkx.x.x_xx) and JRE_HOME.</p>\n"},{"tags":[],"owner":{"account_id":1986063,"reputation":391,"user_id":1781257,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1419355754,"creation_date":1419355754,"answer_id":27625218,"question_id":19068977,"body_markdown":"This error came to me when I configured (wrong) 3 Gb memory where there was none. IntelliJ does shows the real error message (Could not reserve enough space for object heap) in the Output frame. \r\nI was confused, and attracted by the message in the Event Log, which is to be ignored in this case.","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>This error came to me when I configured (wrong) 3 Gb memory where there was none. IntelliJ does shows the real error message (Could not reserve enough space for object heap) in the Output frame. \nI was confused, and attracted by the message in the Event Log, which is to be ignored in this case.</p>\n"},{"tags":[],"owner":{"account_id":1593041,"reputation":179,"user_id":1475944,"display_name":"Trideep Gogoi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1424900686,"creation_date":1424900686,"answer_id":28730256,"question_id":19068977,"body_markdown":"FYI Under certain network conditions your hostname may change or be incorrect. If you are on a mac the following will let you set your hostname fairly permanently:\r\n\r\n    sudo scutil --set HostName correct-name","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>FYI Under certain network conditions your hostname may change or be incorrect. If you are on a mac the following will let you set your hostname fairly permanently:</p>\n\n<pre><code>sudo scutil --set HostName correct-name\n</code></pre>\n"},{"tags":[],"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431023505,"creation_date":1431023505,"answer_id":30109016,"question_id":19068977,"body_markdown":"On top pointing my hostname to 127.0.0.1 in hosts (just run `hostname` in cmd to get it) as well as doing what David GC mentioned, for me the error cleared and debugging worked when I went into the tomcat configuration and changed the debugging startup script from `startup.bat` (which was just my monkeying around) back to the `catalina.bat start` default.","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>On top pointing my hostname to 127.0.0.1 in hosts (just run <code>hostname</code> in cmd to get it) as well as doing what David GC mentioned, for me the error cleared and debugging worked when I went into the tomcat configuration and changed the debugging startup script from <code>startup.bat</code> (which was just my monkeying around) back to the <code>catalina.bat start</code> default.</p>\n"},{"tags":[],"owner":{"account_id":5113689,"reputation":145,"user_id":4099563,"accept_rate":30,"display_name":"vasil todorov"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1439324358,"creation_date":1439324358,"answer_id":31951216,"question_id":19068977,"body_markdown":"I added my hostname to /etc/hosts on localhost.\r\nAdded JAVA_HOME\r\nbut still it showed the same error. In the console, there was output:\r\n\r\n    Unable to start as CATALINA_BASE contains a colon (:) character\r\n\r\nI solved the problem by going to Edit configurations -&gt; Startup/Connection -&gt; changing CATALINA_BASE value to the tomcat installation folder. Before that, it was\r\n\r\n    CATALINA_BASE:   C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\r\n\r\nwhich can&#39;t be correct on a linux machine ;)","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>I added my hostname to /etc/hosts on localhost.\nAdded JAVA_HOME\nbut still it showed the same error. In the console, there was output:</p>\n\n<pre><code>Unable to start as CATALINA_BASE contains a colon (:) character\n</code></pre>\n\n<p>I solved the problem by going to Edit configurations -> Startup/Connection -> changing CATALINA_BASE value to the tomcat installation folder. Before that, it was</p>\n\n<pre><code>CATALINA_BASE:   C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\n</code></pre>\n\n<p>which can't be correct on a linux machine ;)</p>\n"},{"tags":[],"owner":{"account_id":1232244,"reputation":3690,"user_id":1196562,"accept_rate":79,"display_name":"Johannes Staehlin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1440362936,"creation_date":1440362936,"answer_id":32171393,"question_id":19068977,"body_markdown":"None of the answers above worked for me. In the end I figured out it was an configuration error (I used the android SDK and not Java SDK for compilation).\r\n\r\nGot to \r\n[Right Click on Project] --&gt; Open Module Settings --&gt; Module --&gt; [Dependendecies] and make sure you have configured and selected the Java SDK (not the android java sdk)","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>None of the answers above worked for me. In the end I figured out it was an configuration error (I used the android SDK and not Java SDK for compilation).</p>\n\n<p>Got to \n[Right Click on Project] --> Open Module Settings --> Module --> [Dependendecies] and make sure you have configured and selected the Java SDK (not the android java sdk)</p>\n"},{"tags":[],"owner":{"account_id":1548520,"reputation":65,"user_id":1441442,"display_name":"fxlex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1448121475,"creation_date":1448121475,"answer_id":33845466,"question_id":19068977,"body_markdown":"My problem was that tomcat 8 and higher are not compatible with java 6. Changing to java 7 solved it.","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>My problem was that tomcat 8 and higher are not compatible with java 6. Changing to java 7 solved it.</p>\n"},{"tags":[],"owner":{"account_id":6590599,"reputation":123,"user_id":5091911,"display_name":"user5091911"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1450856191,"creation_date":1450856191,"answer_id":34430818,"question_id":19068977,"body_markdown":"I meet this question when i use intellij 15.0,then i update to 15.02 version. after that, I edit configurations and reset the Default JRE to my own JRE.It works well for me; ","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>I meet this question when i use intellij 15.0,then i update to 15.02 version. after that, I edit configurations and reset the Default JRE to my own JRE.It works well for me; </p>\n"},{"tags":[],"owner":{"account_id":224004,"reputation":4938,"user_id":483588,"accept_rate":71,"display_name":"Ujjwal Singh"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1463598313,"creation_date":1463598313,"answer_id":37308138,"question_id":19068977,"body_markdown":"See that the tomcat you are using is compatible with the Java version. For me the issue was Tomcat-9 required Java-8. If you have a older version of Java, you could use Tomcat-7 to test.","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>See that the tomcat you are using is compatible with the Java version. For me the issue was Tomcat-9 required Java-8. If you have a older version of Java, you could use Tomcat-7 to test.</p>\n"},{"tags":[],"owner":{"account_id":9695682,"reputation":21,"user_id":7192193,"display_name":"Ronald Manrique"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479781186,"creation_date":1479781186,"answer_id":40732802,"question_id":19068977,"body_markdown":"I added the following VM Options and it worked for me:\r\n\r\n    -Dcom.sun.management.jmxremote= \r\n    -Dcom.sun.management.jmxremote.port=1099 \r\n    -Dcom.sun.management.jmxremote.authenticate=false \r\n    -Dcom.sun.management.jmxremote.ssl=false","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>I added the following VM Options and it worked for me:</p>\n\n<pre><code>-Dcom.sun.management.jmxremote= \n-Dcom.sun.management.jmxremote.port=1099 \n-Dcom.sun.management.jmxremote.authenticate=false \n-Dcom.sun.management.jmxremote.ssl=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4716379,"reputation":1255,"user_id":3901138,"accept_rate":41,"display_name":"Park JongBum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492394151,"creation_date":1492394151,"answer_id":43444139,"question_id":19068977,"body_markdown":"I had the same problem of &quot;Unable to ping server at localhost:1099&quot; while I was using intellij 2016 version. \r\n\r\nHowever, as soon as I upgraded it to 2017 version(Ultimate 2017.1) which is installed using &quot;ideaIU-2017.1.exe&quot; the problem disappeared.","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>I had the same problem of \"Unable to ping server at localhost:1099\" while I was using intellij 2016 version. </p>\n\n<p>However, as soon as I upgraded it to 2017 version(Ultimate 2017.1) which is installed using \"ideaIU-2017.1.exe\" the problem disappeared.</p>\n"},{"tags":[],"owner":{"account_id":9187605,"reputation":543,"user_id":6829195,"display_name":"Yushan ZHANG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522057782,"creation_date":1496164636,"answer_id":44268247,"question_id":19068977,"body_markdown":"I had this issue when running `Tomcat 6.0.53` on `Mac OS Sierra` with `Intellij IDEA` to deploy `Spring` projects.\r\nThis problem was solved after **changing the Tomcat version to the &#39;tar.gz&#39;** one from official site. It seems the &#39;zip&#39; one is for windows.","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>I had this issue when running <code>Tomcat 6.0.53</code> on <code>Mac OS Sierra</code> with <code>Intellij IDEA</code> to deploy <code>Spring</code> projects.\nThis problem was solved after <strong>changing the Tomcat version to the 'tar.gz'</strong> one from official site. It seems the 'zip' one is for windows.</p>\n"},{"tags":[],"owner":{"account_id":4002732,"reputation":1960,"user_id":3298327,"accept_rate":81,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1498636432,"creation_date":1498636432,"answer_id":44796664,"question_id":19068977,"body_markdown":"I had similar issue when I entered very big port here:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut when I corrected it to something smaller which is in offset range:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7Dt6j.png\r\n  [2]: https://i.stack.imgur.com/gXFxU.png\r\n\r\n\r\nIssue was resolved.","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>I had similar issue when I entered very big port here:\n<a href=\"https://i.stack.imgur.com/7Dt6j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Dt6j.png\" alt=\"enter image description here\"></a></p>\n\n<p>But when I corrected it to something smaller which is in offset range:\n<a href=\"https://i.stack.imgur.com/gXFxU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gXFxU.png\" alt=\"enter image description here\"></a></p>\n\n<p>Issue was resolved.</p>\n"},{"tags":[],"owner":{"account_id":10358720,"reputation":1,"user_id":7639820,"display_name":"Nagarohith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507712572,"creation_date":1507712572,"answer_id":46684101,"question_id":19068977,"body_markdown":"I had same issue and my mistake was, I was trying to start tomcat server with incompatible version of JDK and installed Apache tomcat server. In my case I had installed JDK 7 with Apache tomcat 9. For Apache 9 JDK should be &gt;= 8.\r\n\r\nFor compatibility check this https://tomcat.apache.org/whichversion.html ","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>I had same issue and my mistake was, I was trying to start tomcat server with incompatible version of JDK and installed Apache tomcat server. In my case I had installed JDK 7 with Apache tomcat 9. For Apache 9 JDK should be >= 8.</p>\n\n<p>For compatibility check this <a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/whichversion.html</a> </p>\n"},{"tags":[],"owner":{"account_id":11786666,"reputation":321,"user_id":8624114,"display_name":"ArsTV"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1528126211,"creation_date":1528126211,"answer_id":50684071,"question_id":19068977,"body_markdown":"I had same problem. In &quot;Edit Configurations..&quot; -&gt; &quot;Tomcat Server&quot; I changed JRE from &quot;Default&quot; to my current version with SDK directory address (like C:\\Program Files\\Java\\jdk1.8.0_121\\jre)\r\n\r\nMy Tomcat version is 8.5.31 ","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>I had same problem. In \"Edit Configurations..\" -> \"Tomcat Server\" I changed JRE from \"Default\" to my current version with SDK directory address (like C:\\Program Files\\Java\\jdk1.8.0_121\\jre)</p>\n\n<p>My Tomcat version is 8.5.31 </p>\n"},{"tags":[],"owner":{"account_id":3130595,"reputation":615,"user_id":2648478,"accept_rate":67,"display_name":"Pavlo Zvarych"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554792304,"creation_date":1554792304,"answer_id":55586624,"question_id":19068977,"body_markdown":"Setting project&#39;s SDK in IntelliJ (File &gt; Project Structure &gt; Project:Project SDK) worked for me","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>Setting project's SDK in IntelliJ (File > Project Structure > Project:Project SDK) worked for me</p>\n"},{"tags":[],"owner":{"account_id":13145379,"reputation":403,"user_id":9495573,"display_name":"pvma"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1567572583,"creation_date":1567572583,"answer_id":57781668,"question_id":19068977,"body_markdown":"For those who encounter this when you just recently updated IntelliJ (In my case 2019.2).\r\n\r\nI am using JBoss server so i tried to run standalone.bat in the command line and I saw the real issue on the console.\r\n\r\nIt can be different to yours, but in my case I saw:\r\n```\r\nfailure description: &quot;WFLYSRV0137: No deployment content with\r\n```\r\n\r\nAnd on that error I was able to fix this by removing the items (war or ear) inside the ```&lt;deployments/&gt;``` node in my standalone.xml\r\n\r\nHope this helps for those using JBoss+IntelliJ","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>For those who encounter this when you just recently updated IntelliJ (In my case 2019.2).</p>\n\n<p>I am using JBoss server so i tried to run standalone.bat in the command line and I saw the real issue on the console.</p>\n\n<p>It can be different to yours, but in my case I saw:</p>\n\n<pre><code>failure description: \"WFLYSRV0137: No deployment content with\n</code></pre>\n\n<p>And on that error I was able to fix this by removing the items (war or ear) inside the <code>&lt;deployments/&gt;</code> node in my standalone.xml</p>\n\n<p>Hope this helps for those using JBoss+IntelliJ</p>\n"},{"tags":[],"owner":{"account_id":959042,"reputation":1491,"user_id":983803,"accept_rate":65,"display_name":"3xCh1_23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578434859,"creation_date":1578434859,"answer_id":59636748,"question_id":19068977,"body_markdown":"For me, it was a much different solution since it was running on a virtualbox, so I had to edit the hosts file and add the virtualbox as a localhost\r\n\r\n    127.0.0.1 VirtualBox-blahblah","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>For me, it was a much different solution since it was running on a virtualbox, so I had to edit the hosts file and add the virtualbox as a localhost</p>\n\n<pre><code>127.0.0.1 VirtualBox-blahblah\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1313096,"reputation":1762,"user_id":1260651,"accept_rate":0,"display_name":"Miklos Krivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606698853,"creation_date":1606698853,"answer_id":65066946,"question_id":19068977,"body_markdown":"In windows environment just check the PATH environment variable if Oracle JRE runtime refreshed the path and put himself at the very beginning of the path. In this case even if the JAVA_HOME AND JRE_HOME points to the correct JDK, the JRE will have precedence. And this case IntelliJ will not start Tomcat instance with the mentioned error message.","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>In windows environment just check the PATH environment variable if Oracle JRE runtime refreshed the path and put himself at the very beginning of the path. In this case even if the JAVA_HOME AND JRE_HOME points to the correct JDK, the JRE will have precedence. And this case IntelliJ will not start Tomcat instance with the mentioned error message.</p>\n"},{"tags":[],"owner":{"account_id":14663522,"reputation":475,"user_id":10590001,"display_name":"Tal Hakmon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609844689,"creation_date":1609844689,"answer_id":65577657,"question_id":19068977,"body_markdown":"If you are using java 7 then make sure you have Tomcat 7\r\n\r\nbrew install tomcat@7\r\n\r\nand update run configuration to Tomcat 7 \r\n\r\nTomcat 9 is working with java 8","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>If you are using java 7 then make sure you have Tomcat 7</p>\n<p>brew install tomcat@7</p>\n<p>and update run configuration to Tomcat 7</p>\n<p>Tomcat 9 is working with java 8</p>\n"},{"tags":[],"owner":{"account_id":13249082,"reputation":33,"user_id":9567156,"display_name":"Minchul Joh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617328427,"creation_date":1617328427,"answer_id":66913566,"question_id":19068977,"body_markdown":"I&#39;m leaving an answer for the jboss user.\r\n\r\nIf any of the people experiencing this error are using jboss, make sure the JBOSS_HOME location is correct.","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>I'm leaving an answer for the jboss user.</p>\n<p>If any of the people experiencing this error are using jboss, make sure the JBOSS_HOME location is correct.</p>\n"},{"tags":[],"owner":{"account_id":120805,"reputation":2012,"user_id":313447,"accept_rate":67,"display_name":"yggdraa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623169169,"creation_date":1623165891,"answer_id":67890005,"question_id":19068977,"body_markdown":"If your tomcat contains file setenv.sh ([YOUR_CATALINA_HOME]/bin/setenv.sh) it may redefine the JAVA_OPTS variable that JIdea uses to set up JMX, so you have to add them there:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: bash --&gt;\r\n\r\n    export JAVA_OPTS =&quot;$JAVA_OPTS &lt;whatever was in setenv.sh&gt;&quot;\r\n    echo $JAVA_OPTS\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>If your tomcat contains file setenv.sh ([YOUR_CATALINA_HOME]/bin/setenv.sh) it may redefine the JAVA_OPTS variable that JIdea uses to set up JMX, so you have to add them there:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>export JAVA_OPTS =&quot;$JAVA_OPTS &lt;whatever was in setenv.sh&gt;&quot;\necho $JAVA_OPTS\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7916122,"reputation":81,"user_id":5978490,"display_name":"Shobana T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630041206,"creation_date":1630041206,"answer_id":68948313,"question_id":19068977,"body_markdown":"If we have the installed the compatible tomcat version for the application JAVA jdk version, we can resolve this issue easily.\r\n\r\nIn my case, when I am using Tomcat 10.1.0.M4 with JAVA JDK 1.8 I faced this issue. When I downgrade my tomcat version to 9.0.41, the issue resolved for me.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nYou can find the compatible tomcat version for the JAVA JDK here..\r\nhttp://tomcat.apache.org/whichversion.html\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UryvM.png\r\n  [2]: https://i.stack.imgur.com/BaAND.png","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>If we have the installed the compatible tomcat version for the application JAVA jdk version, we can resolve this issue easily.</p>\n<p>In my case, when I am using Tomcat 10.1.0.M4 with JAVA JDK 1.8 I faced this issue. When I downgrade my tomcat version to 9.0.41, the issue resolved for me.</p>\n<p><a href=\"https://i.stack.imgur.com/UryvM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UryvM.png\" alt=\"enter image description here\" /></a></p>\n<p>You can find the compatible tomcat version for the JAVA JDK here..\n<a href=\"http://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">http://tomcat.apache.org/whichversion.html</a></p>\n<p><a href=\"https://i.stack.imgur.com/BaAND.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BaAND.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":11847624,"reputation":941,"user_id":8669765,"display_name":"Shashank Bodkhe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648699792,"creation_date":1648699792,"answer_id":71686796,"question_id":19068977,"body_markdown":"Below is the error I observed :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OTEdg.png\r\n\r\nto resolve, in my case, I exit intelliJ and renamed folder &quot;.idea&quot; to &quot;.idea_old&quot; (so that I don&#39;t loose old config) and restarted intelliJ, It created a new &quot;.idea&quot; folder and I provided new tomcat configuration. On running tomcat this issue was removed. ","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>Below is the error I observed :</p>\n<p><a href=\"https://i.stack.imgur.com/OTEdg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OTEdg.png\" alt=\"enter image description here\" /></a></p>\n<p>to resolve, in my case, I exit intelliJ and renamed folder &quot;.idea&quot; to &quot;.idea_old&quot; (so that I don't loose old config) and restarted intelliJ, It created a new &quot;.idea&quot; folder and I provided new tomcat configuration. On running tomcat this issue was removed.</p>\n"},{"tags":[],"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679646812,"creation_date":1679646812,"answer_id":75831470,"question_id":19068977,"body_markdown":"It&#39;s already in comment mentioned by @lia ant but I think it should be an answer. \r\n\r\n    Application Server was not connected before run configuration stop, reason:\r\n               Unable to ping server at localhost:1099\r\n\r\nthis can happen because of typo in `VM options` in `Edit Configurations...`\r\n\r\n[![screenshot with field which can cause error][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Fv9gN.png","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>It's already in comment mentioned by @lia ant but I think it should be an answer.</p>\n<pre><code>Application Server was not connected before run configuration stop, reason:\n           Unable to ping server at localhost:1099\n</code></pre>\n<p>this can happen because of typo in <code>VM options</code> in <code>Edit Configurations...</code></p>\n<p><a href=\"https://i.stack.imgur.com/Fv9gN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fv9gN.png\" alt=\"screenshot with field which can cause error\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2907036,"reputation":11,"user_id":2492066,"display_name":"user2492066"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686311762,"creation_date":1686311762,"answer_id":76439983,"question_id":19068977,"body_markdown":"In my case it was due java version issues[changed 1.8 version only with compatible with tomcat 9] just changing the version and pointing to correct one solved the issues.","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>In my case it was due java version issues[changed 1.8 version only with compatible with tomcat 9] just changing the version and pointing to correct one solved the issues.</p>\n"},{"tags":[],"owner":{"account_id":14398481,"reputation":11,"user_id":10400992,"display_name":"MrG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689247516,"creation_date":1689247516,"answer_id":76678837,"question_id":19068977,"body_markdown":"just you need to check ,is it your tomcat version support your java or not\r\nfor example jdk 1.8 didn&#39;t support tomcat 10.1. you should downgrade your tomcat version to 9","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>just you need to check ,is it your tomcat version support your java or not\nfor example jdk 1.8 didn't support tomcat 10.1. you should downgrade your tomcat version to 9</p>\n"}],"owner":{"account_id":1089354,"reputation":5218,"user_id":1084353,"accept_rate":52,"display_name":"Popcorn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129364,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"answer_count":29,"score":77,"last_activity_date":1689247516,"creation_date":1380385092,"question_id":19068977,"body_markdown":"I&#39;m trying to make a simple web app in IntelliJ by following this tutorial:\r\nhttp://wiki.jetbrains.net/intellij/Creating_a_simple_Web_application_for_Tomcat_in_IntelliJ_IDEA_12\r\n\r\nI believe my Tomcat is installed correctly since I see the tomcat pictures when I go to \r\n`http://localhost:8080/`\r\n\r\nI&#39;ve followed all the steps up until the part it tells me to run `index.jsp`, at which point I get the error:\r\n\r\n    Error: Exception thrown by the agent : java.net.MalformedURLException: Local host name unknown: java.net.UnknownHostException: nodename nor servname provided, or not known\r\n\r\nI see this in the log:\r\n\r\n    Application Server was not connected before run configuration stop, reason:\r\n               Unable to ping server at localhost:1099\r\n\r\nThis 1099 comes from the JMX port in Run -&gt; Edit Configurations.\r\n\r\nHow do I fix this?","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>I'm trying to make a simple web app in IntelliJ by following this tutorial:\n<a href=\"http://wiki.jetbrains.net/intellij/Creating_a_simple_Web_application_for_Tomcat_in_IntelliJ_IDEA_12\" rel=\"noreferrer\">http://wiki.jetbrains.net/intellij/Creating_a_simple_Web_application_for_Tomcat_in_IntelliJ_IDEA_12</a></p>\n\n<p>I believe my Tomcat is installed correctly since I see the tomcat pictures when I go to \n<code>http://localhost:8080/</code></p>\n\n<p>I've followed all the steps up until the part it tells me to run <code>index.jsp</code>, at which point I get the error:</p>\n\n<pre><code>Error: Exception thrown by the agent : java.net.MalformedURLException: Local host name unknown: java.net.UnknownHostException: nodename nor servname provided, or not known\n</code></pre>\n\n<p>I see this in the log:</p>\n\n<pre><code>Application Server was not connected before run configuration stop, reason:\n           Unable to ping server at localhost:1099\n</code></pre>\n\n<p>This 1099 comes from the JMX port in Run -> Edit Configurations.</p>\n\n<p>How do I fix this?</p>\n"},{"tags":["java","android","android-studio","kotlin","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689091879,"creation_date":1689091879,"answer_id":76663916,"question_id":76663685,"body_markdown":"Android handles files differently from a desktop JVM app. You must package the files in either your resources (`\\app\\src\\main\\res\\raw`) or assets (`\\app\\src\\main\\assets`), and then retrieve them either through `resources.openRawResource()` or `assets.open()` respectively. You will not be using direct file paths. Your local directories are not part of the packaged app installed on the device or emulator. You can only get InputStreams.\r\n\r\nDocumentation: [Resources](https://developer.android.com/guide/topics/resources/providing-resources) and [Assets](https://developer.android.com/reference/android/content/res/AssetManager)","title":"Why java function does not work in android studio but can work in intellij idea using kotlin language and gradle script","body":"<p>Android handles files differently from a desktop JVM app. You must package the files in either your resources (<code>\\app\\src\\main\\res\\raw</code>) or assets (<code>\\app\\src\\main\\assets</code>), and then retrieve them either through <code>resources.openRawResource()</code> or <code>assets.open()</code> respectively. You will not be using direct file paths. Your local directories are not part of the packaged app installed on the device or emulator. You can only get InputStreams.</p>\n<p>Documentation: <a href=\"https://developer.android.com/guide/topics/resources/providing-resources\" rel=\"nofollow noreferrer\">Resources</a> and <a href=\"https://developer.android.com/reference/android/content/res/AssetManager\" rel=\"nofollow noreferrer\">Assets</a></p>\n"},{"tags":[],"owner":{"account_id":20131348,"reputation":37,"user_id":14763592,"display_name":"beginner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689247455,"creation_date":1689247455,"answer_id":76678828,"question_id":76663685,"body_markdown":"    import android.content.Context\r\n\r\n    class Program(val context: Context, val id:Int){\r\n        val fileContent=getContent()\r\n\r\n        private fun getContent(): String {\r\n            try {\r\n                val input = context.resources.openRawResource(id)\r\n                val size=input.available()\r\n                val buffer=ByteArray(size)\r\n                input.read(buffer)\r\n                input.close()\r\n                return String(buffer,Charsets.UTF_8)\r\n            }\r\n            catch(e:Exception){\r\n                e.printStackTrace()\r\n                return &quot;&quot;\r\n            } \r\n        }\r\n    }\r\n\r\nThanks to this https://www.geeksforgeeks.org/how-to-read-a-text-file-in-android/ it taught me how to use `InputStream` to read a file.\r\n\r\nI thought I will need to cast `InputStream` to `FileInputStream` because it is abstract class. In C++, we never can use abstract class unless we inherit from that abstact class an overriding the appropriate function.\r\n\r\nBut this time in java/kotlin, we can do it straight away.","title":"Why java function does not work in android studio but can work in intellij idea using kotlin language and gradle script","body":"<pre><code>import android.content.Context\n\nclass Program(val context: Context, val id:Int){\n    val fileContent=getContent()\n\n    private fun getContent(): String {\n        try {\n            val input = context.resources.openRawResource(id)\n            val size=input.available()\n            val buffer=ByteArray(size)\n            input.read(buffer)\n            input.close()\n            return String(buffer,Charsets.UTF_8)\n        }\n        catch(e:Exception){\n            e.printStackTrace()\n            return &quot;&quot;\n        } \n    }\n}\n</code></pre>\n<p>Thanks to this <a href=\"https://www.geeksforgeeks.org/how-to-read-a-text-file-in-android/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/how-to-read-a-text-file-in-android/</a> it taught me how to use <code>InputStream</code> to read a file.</p>\n<p>I thought I will need to cast <code>InputStream</code> to <code>FileInputStream</code> because it is abstract class. In C++, we never can use abstract class unless we inherit from that abstact class an overriding the appropriate function.</p>\n<p>But this time in java/kotlin, we can do it straight away.</p>\n"}],"owner":{"account_id":20131348,"reputation":37,"user_id":14763592,"display_name":"beginner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76663916,"answer_count":2,"score":0,"last_activity_date":1689247455,"creation_date":1689090156,"question_id":76663685,"body_markdown":"I am using Microsoft operating system. Below are my code.\r\nThis one is written in android studio. Here I use `${project_name}\\app\\src\\main\\res` as the \r\n`resources root` directory. I use the same package for the two classes declared below.\r\n\r\n    import java.nio.charset.Charset\r\n    import java.nio.file.Files\r\n    import java.nio.file.Paths\r\n\r\n    class Parser(fileName:String){\r\n         val fileName=fileName\r\n         val fileContent=getContent()\r\n    \r\n    fun getContent():String{\r\n        val encoded= Files.readAllBytes(Paths.get(&quot;.&quot;,fileName))\r\n        //here relative path is the `res` folder in android studio \r\n        return String(encoded, Charset.defaultCharset())\r\n        }\r\n    }\r\n\r\n    import androidx.appcompat.app.AppCompatActivity\r\n    import android.os.Bundle\r\n    import android.widget.TextView\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        val parser=Parser(&quot;default.vert&quot;)\r\n        findViewById&lt;TextView&gt;(R.id.tv_test).also {\r\n            it.text=parser.fileContent\r\n            }\r\n        }\r\n    }\r\n\r\nit says:\r\n\r\n`java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.test/com.example.test.MainActivity}: java.nio.file.NoSuchFileException: ./default.vert`\r\n\r\nBut in intellij idea community edition:\r\n\r\nBasically the same code is used but with slightly different file path, because I mark one of \r\nthe folders to become the default `resources root` directory:\r\n\r\n    import java.nio.charset.Charset\r\n    import java.nio.file.Files\r\n    import java.nio.file.Paths\r\n\r\n    class Parser(fileName:String){\r\n        val fileName=fileName\r\n        val fileContent=getContent()\r\n        fun getContent():String{\r\n            val encoded= \r\n            Files.readAllBytes(Paths.get(&quot;.&quot;,&quot;src&quot;,&quot;main&quot;,&quot;resources&quot;,fileName))\r\n            //here I used the most top level directory (maybe the scientific term is `root` \r\n            //but I am not sure)in the project which was named `Test`.\r\n            return String(encoded, Charset.defaultCharset())\r\n            }\r\n        }\r\n\r\n    fun main(){\r\n        val parser=Parser(&quot;test.vert&quot;)\r\n        print(parser.fileContent)\r\n    }\r\n\r\nand it prints the content:\r\n\r\n    layout (location=0) in vec4 vPosition;\r\n\r\n    void main(){\r\n\t    gl_Position=vPosition;\r\n    }\r\n\r\n**How can I make the code run in Android studio too ? using kotlin**\r\n\r\nI have tried absolute path as well such as:\r\n`c:\\\\users\\\\${user_name}\\\\..until_the_file\\\\default.vert` \r\nbut still got `exception` fileNotFoundException from android studio.","title":"Why java function does not work in android studio but can work in intellij idea using kotlin language and gradle script","body":"<p>I am using Microsoft operating system. Below are my code.\nThis one is written in android studio. Here I use <code>${project_name}\\app\\src\\main\\res</code> as the\n<code>resources root</code> directory. I use the same package for the two classes declared below.</p>\n<pre><code>import java.nio.charset.Charset\nimport java.nio.file.Files\nimport java.nio.file.Paths\n\nclass Parser(fileName:String){\n     val fileName=fileName\n     val fileContent=getContent()\n\nfun getContent():String{\n    val encoded= Files.readAllBytes(Paths.get(&quot;.&quot;,fileName))\n    //here relative path is the `res` folder in android studio \n    return String(encoded, Charset.defaultCharset())\n    }\n}\n\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.TextView\n\nclass MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    val parser=Parser(&quot;default.vert&quot;)\n    findViewById&lt;TextView&gt;(R.id.tv_test).also {\n        it.text=parser.fileContent\n        }\n    }\n}\n</code></pre>\n<p>it says:</p>\n<p><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.test/com.example.test.MainActivity}: java.nio.file.NoSuchFileException: ./default.vert</code></p>\n<p>But in intellij idea community edition:</p>\n<p>Basically the same code is used but with slightly different file path, because I mark one of\nthe folders to become the default <code>resources root</code> directory:</p>\n<pre><code>import java.nio.charset.Charset\nimport java.nio.file.Files\nimport java.nio.file.Paths\n\nclass Parser(fileName:String){\n    val fileName=fileName\n    val fileContent=getContent()\n    fun getContent():String{\n        val encoded= \n        Files.readAllBytes(Paths.get(&quot;.&quot;,&quot;src&quot;,&quot;main&quot;,&quot;resources&quot;,fileName))\n        //here I used the most top level directory (maybe the scientific term is `root` \n        //but I am not sure)in the project which was named `Test`.\n        return String(encoded, Charset.defaultCharset())\n        }\n    }\n\nfun main(){\n    val parser=Parser(&quot;test.vert&quot;)\n    print(parser.fileContent)\n}\n</code></pre>\n<p>and it prints the content:</p>\n<pre><code>layout (location=0) in vec4 vPosition;\n\nvoid main(){\n    gl_Position=vPosition;\n}\n</code></pre>\n<p><strong>How can I make the code run in Android studio too ? using kotlin</strong></p>\n<p>I have tried absolute path as well such as:\n<code>c:\\\\users\\\\${user_name}\\\\..until_the_file\\\\default.vert</code>\nbut still got <code>exception</code> fileNotFoundException from android studio.</p>\n"},{"tags":["java","image","javafx","byte","javafx-8"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689196495,"post_id":76673774,"comment_id":135180973,"body_markdown":"For context, this is a follow-up question to [JavaFX exception on setImage in a loop problem](https://stackoverflow.com/questions/76629736/javafx-exception-on-setimage-in-a-loop-problem).","body":"For context, this is a follow-up question to <a href=\"https://stackoverflow.com/questions/76629736/javafx-exception-on-setimage-in-a-loop-problem\">JavaFX exception on setImage in a loop problem</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689197279,"post_id":76673774,"comment_id":135181094,"body_markdown":"*&quot;after a few seconds, the program starts crashing&quot;* -&gt; I couldn&#39;t replicate this.  I tried running the example code with OpenJDK 20.0.1 and JavaFX 20.0.1 on OS X 13.4.1 on a 2019 MacBook Pro.  The application was still running fine, with no exception, after ten minutes.  It could be that the issue may be resolved for you by upgrading to a modern version of the JRE and JavaFX.  The optimizations mentioned in [DuncG&#39;s answer](https://stackoverflow.com/users/4712734/duncg), and perhaps some others, are probably good ideas to implement as well.","body":"<i>&quot;after a few seconds, the program starts crashing&quot;</i> -&gt; I couldn&#39;t replicate this.  I tried running the example code with OpenJDK 20.0.1 and JavaFX 20.0.1 on OS X 13.4.1 on a 2019 MacBook Pro.  The application was still running fine, with no exception, after ten minutes.  It could be that the issue may be resolved for you by upgrading to a modern version of the JRE and JavaFX.  The optimizations mentioned in <a href=\"https://stackoverflow.com/users/4712734/duncg\">DuncG&#39;s answer</a>, and perhaps some others, are probably good ideas to implement as well."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689212396,"post_id":76673774,"comment_id":135182573,"body_markdown":"*&quot;by enabling `-Dprism.verbose=true`, I can get more information about the problem. I discovered that the console keeps outputting: `Growing pool D3D Vram Pool target to 524,167,168`&quot;* -&gt; With that setting, I do not receive such console log messages on my setup (there are no logs in my console related to the &quot;D3D Vram Pool&quot;), which makes sense because OS X doesn&#39;t use D3D. It is possible that your issue is Windows system related, though I currently don&#39;t have a test system available to try that.","body":"<i>&quot;by enabling <code>-Dprism.verbose=true</code>, I can get more information about the problem. I discovered that the console keeps outputting: <code>Growing pool D3D Vram Pool target to 524,167,168</code>&quot;</i> -&gt; With that setting, I do not receive such console log messages on my setup (there are no logs in my console related to the &quot;D3D Vram Pool&quot;), which makes sense because OS X doesn&#39;t use D3D. It is possible that your issue is Windows system related, though I currently don&#39;t have a test system available to try that."},{"owner":{"account_id":22184938,"reputation":11,"user_id":16428000,"display_name":"Finn"},"score":0,"creation_date":1689230943,"post_id":76673774,"comment_id":135184504,"body_markdown":"That&#39;s very interesting, yes as I said when I enabled the &quot;-Dprism.order=sw&quot; option, and thus also use a different (rendering?), I also had no problems with it, very strange, I also changed the computer in the meantime to test, but even if it should be a windows problem, why does the System.gc(); call then fix the whole thing","body":"That&#39;s very interesting, yes as I said when I enabled the &quot;-Dprism.order=sw&quot; option, and thus also use a different (rendering?), I also had no problems with it, very strange, I also changed the computer in the meantime to test, but even if it should be a windows problem, why does the System.gc(); call then fix the whole thing"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689232902,"post_id":76673774,"comment_id":135184864,"body_markdown":"`-Dprism.order=sw` is software rendering.  It uses the CPU, not the GPU and the Direct3D system.  So there is no hardware rendering and there is no texture memory limit on a graphics card involved, only a limit on the actual main memory available to the system (which can be paged to disk).  But software rendering on a modern system, is not optimal, it is slower and numerous rendering features such as effects and 3D are disabled in that mode, which is why it is not the standard option.","body":"<code>-Dprism.order=sw</code> is software rendering.  It uses the CPU, not the GPU and the Direct3D system.  So there is no hardware rendering and there is no texture memory limit on a graphics card involved, only a limit on the actual main memory available to the system (which can be paged to disk).  But software rendering on a modern system, is not optimal, it is slower and numerous rendering features such as effects and 3D are disabled in that mode, which is why it is not the standard option."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689247130,"post_id":76673774,"comment_id":135187876,"body_markdown":"*&quot;even if it should be a windows problem, why does the System.gc(); call then fix the whole thing&quot;* -&gt; Could be an issue with the obsolete version of JavaFX you are using which may be fixed in later versions.  Could be an issue specific to Direct3D resource management in JavaFX.  Could be an issue with your graphics card driver.  Could be numerous things.  You would need to debug it on a platform that exhibits the issue to determine the root cause.  Better to use modern software and write code that avoids the issue IMO.","body":"<i>&quot;even if it should be a windows problem, why does the System.gc(); call then fix the whole thing&quot;</i> -&gt; Could be an issue with the obsolete version of JavaFX you are using which may be fixed in later versions.  Could be an issue specific to Direct3D resource management in JavaFX.  Could be an issue with your graphics card driver.  Could be numerous things.  You would need to debug it on a platform that exhibits the issue to determine the root cause.  Better to use modern software and write code that avoids the issue IMO."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689402244,"post_id":76673774,"comment_id":135211319,"body_markdown":"I can&#39;t replicate your exception.  I found an older Windows Laptop, which uses `Intel(R) UHD Graphics 620`, which is low-end integrated graphics on the CPU.  I downloaded an old Oracle JDK 8 edition `1.8.0_371-b11`.  I enabled prism debug.  I added benchmarking to each runlater call.  The awt robot and ImageIO you use is quite slow, taking about half a second per frame.  So the limiter with the CountDownLatch recommended by DuncG is absolutely necessary or you will flood the JavaFX runLater queue and the AWT robot and eventually kill the app.","body":"I can&#39;t replicate your exception.  I found an older Windows Laptop, which uses <code>Intel(R) UHD Graphics 620</code>, which is low-end integrated graphics on the CPU.  I downloaded an old Oracle JDK 8 edition <code>1.8.0_371-b11</code>.  I enabled prism debug.  I added benchmarking to each runlater call.  The awt robot and ImageIO you use is quite slow, taking about half a second per frame.  So the limiter with the CountDownLatch recommended by DuncG is absolutely necessary or you will flood the JavaFX runLater queue and the AWT robot and eventually kill the app."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689402410,"post_id":76673774,"comment_id":135211328,"body_markdown":"But even still, with or without DuncG&#39;s fix, it won&#39;t crash quickly (within a few minutes, I didn&#39;t try longer) for me.  Without the latch limiter it will update very slowly as it is starts trying to take lots of simultaneous screenshots, but it doesn&#39;t die.  With the latch limiter, it will update each half second, the prism debug will output that it grows the Vram (which as I noted before, I believe is a normal thing for it to do), eventually the Vram on my system gets up to about 535K, then stops growing, and the app continues running.  For clean shutdown I made the thread a daemon thread.","body":"But even still, with or without DuncG&#39;s fix, it won&#39;t crash quickly (within a few minutes, I didn&#39;t try longer) for me.  Without the latch limiter it will update very slowly as it is starts trying to take lots of simultaneous screenshots, but it doesn&#39;t die.  With the latch limiter, it will update each half second, the prism debug will output that it grows the Vram (which as I noted before, I believe is a normal thing for it to do), eventually the Vram on my system gets up to about 535K, then stops growing, and the app continues running.  For clean shutdown I made the thread a daemon thread."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689247131,"creation_date":1689194024,"answer_id":76674266,"question_id":76673774,"body_markdown":"It&#39;s not possible for me to test this, but the code you have is flawed because this line puts a task into the `Platform` JavaFXUI thread every 100ms, but you have no idea whether the `Platform` task finished before you queue up another task:\r\n\r\n    Platform.runLater(() -&gt; { ... });\r\n    Thread.sleep(100);\r\n\r\nIf the action takes over 100ms you will start to get a lot of backed up tasks in the UI thread, and then JavaFX will not have a chance to repaint the image properly after each new `setImage` making the use of more calls to `Platform.runLater` pointless because you never see the newer image on screen before your code tries to replace it. The app will become jerky / unresponsive when this starts to occur, and you will get memory issues with a large backlog.\r\n\r\nA simple way to fix this is to change the while loop to wait for each item in the `runLater` call, one way would be with `CountDownLatch`:\r\n\r\n    while (true) {\r\n        CountDownLatch done = new CountDownLatch(1);\r\n        Platform.runLater(() -&gt; {\r\n            try {\r\n                imageView.setImage(new Image(new ByteArrayInputStream(robotScreenshot(&quot;jpg&quot;))));\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                System.exit(-1);\r\n            }\r\n            done.countDown();\r\n        });\r\n\r\n        try {\r\n            done.await();\r\n            Thread.sleep(100);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n            System.exit(-1);\r\n        }\r\n    }\r\n\r\nIn addition, it is better to have as much processing outside of the JavaFX UI thread so try moving the screen grab out of the `Platform.runLater` call and diff byte[] with previous and only submit new task for `setImage` when the new image is changed.\r\n","title":"JavaFX bug with fast setImage call","body":"<p>It's not possible for me to test this, but the code you have is flawed because this line puts a task into the <code>Platform</code> JavaFXUI thread every 100ms, but you have no idea whether the <code>Platform</code> task finished before you queue up another task:</p>\n<pre><code>Platform.runLater(() -&gt; { ... });\nThread.sleep(100);\n</code></pre>\n<p>If the action takes over 100ms you will start to get a lot of backed up tasks in the UI thread, and then JavaFX will not have a chance to repaint the image properly after each new <code>setImage</code> making the use of more calls to <code>Platform.runLater</code> pointless because you never see the newer image on screen before your code tries to replace it. The app will become jerky / unresponsive when this starts to occur, and you will get memory issues with a large backlog.</p>\n<p>A simple way to fix this is to change the while loop to wait for each item in the <code>runLater</code> call, one way would be with <code>CountDownLatch</code>:</p>\n<pre><code>while (true) {\n    CountDownLatch done = new CountDownLatch(1);\n    Platform.runLater(() -&gt; {\n        try {\n            imageView.setImage(new Image(new ByteArrayInputStream(robotScreenshot(&quot;jpg&quot;))));\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.exit(-1);\n        }\n        done.countDown();\n    });\n\n    try {\n        done.await();\n        Thread.sleep(100);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n        System.exit(-1);\n    }\n}\n</code></pre>\n<p>In addition, it is better to have as much processing outside of the JavaFX UI thread so try moving the screen grab out of the <code>Platform.runLater</code> call and diff byte[] with previous and only submit new task for <code>setImage</code> when the new image is changed.</p>\n"}],"owner":{"account_id":22184938,"reputation":11,"user_id":16428000,"display_name":"Finn"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689247131,"creation_date":1689189048,"question_id":76673774,"body_markdown":"I&#39;m using Java 8 with JavaFX from Oracle, and I want to create a desktop remote app where the client continuously sends images as byte[] over sockets to the server. The server receives these images and displays them as an image in an ImageView. However, after a few seconds, the program starts crashing, and I get this exception: \r\n`java.lang.NullPointerException at com.sun.prism.d3d.D3DTexture.getContext(D3DTexture.java:84) \r\nat com.sun.prism.d3d.D3DTexture.update(D3DTexture.java:207) \r\nat com.sun.prism.d3d.D3DTexture.update(D3DTexture.java:151)...`\r\n\r\nAfter a lot of googling, I found out that by enabling &quot;-Dprism.verbose=true,&quot; I can get more information about the problem. I discovered that the console keeps outputting:\r\n`Growing pool D3D Vram Pool target to 524,167,168 \r\nGrowing pool D3D Vram Pool target to 524,167,168 \r\nGrowing pool D3D Vram Pool target to 535,226,368...`\r\n\r\nalways with a larger number. This output becomes even faster if, for example, I resize the window in which the ImageView is located, even if the ImageView itself doesn&#39;t change in size, which doesn&#39;t make sense to me.\r\n\r\nAfter some testing, I added a &quot;System.gc();&quot; call after each &quot;setImage();&quot; method call of the ImageView, and suddenly it works without any issues. There is no more &quot;growing pool&quot; log, and the program no longer crashes with the aforementioned NullPointerException. However, continuously calling &quot;System.gc();&quot; is not a solution for me as it severely impacts the performance of the program, and it&#39;s generally recommended to avoid it. Besides, Java should handle this automatically.\r\n\r\nAnother thing that worked was setting &quot;-Dprism.order=sw -Xmx1024m&quot; in the VM options. However, this caused the entire UI to be relatively buggy, so it&#39;s not a solution for me either.\r\n\r\nTo trigger the garbage collector, I also tried calling &quot;setImage(null);&quot; every time, hoping that the garbage collector would &quot;clean up.&quot; Unfortunately, this didn&#39;t help at all.\r\n\r\nI have created a code example that indirectly reproduces the same issue.\r\n\r\nCode-Example: \r\n\r\n```\r\npackage example;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport java.awt.*;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\n\r\npublic class Main extends Application {\r\n\r\n    private ImageView imageView;\r\n    private Button button;\r\n\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        primaryStage.setTitle(&quot;ImageView Example&quot;);\r\n\r\n        button = new Button(&quot;Start&quot;);\r\n        button.setOnAction(e -&gt; start());\r\n\r\n        imageView = new ImageView();\r\n        imageView.setFitWidth(720);\r\n        imageView.setFitHeight(480);\r\n\r\n        VBox root = new VBox();\r\n        root.setAlignment(Pos.CENTER);\r\n        root.getChildren().addAll(imageView, button);\r\n\r\n        Scene scene = new Scene(root, 720, 510);\r\n\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n    private void start() {\r\n        button.setDisable(true);\r\n        new Thread(() -&gt; {\r\n            while (true) {\r\n                Platform.runLater(() -&gt; {\r\n                    try {\r\n                        imageView.setImage(new Image(new ByteArrayInputStream(robotScreenshot(&quot;jpg&quot;))));\r\n//System.gc(); &lt;- would fix the &quot;bug&quot; but is not a option for me\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                        System.exit(-1);\r\n                    }\r\n                });\r\n\r\n                try {\r\n                    Thread.sleep(100);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                    System.exit(-1);\r\n                }\r\n            }\r\n        }).start();\r\n    }\r\n\r\n    private static final GraphicsDevice graphicDevice = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[0];\r\n\r\n    public static byte[] robotScreenshot(String format) throws Exception {\r\n        Rectangle rectangle = graphicDevice.getDefaultConfiguration().getBounds();\r\n        BufferedImage bufferedImage = new Robot().createScreenCapture(rectangle);\r\n\r\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n        ImageIO.write(bufferedImage, format.toLowerCase(), byteArrayOutputStream);\r\n        return byteArrayOutputStream.toByteArray();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\nI tried various approaches to resolve the issue with the growing D3D VRAM pool in JavaFX. Initially, I enabled the &quot;-Dprism.verbose=true&quot; option to gather more information about the problem. My expectation was to identify the cause of the crash and find a solution. However, I discovered that the console continuously displayed messages indicating the growth of the VRAM pool with increasingly larger numbers.\r\n\r\nTo address the issue, I experimented with using &quot;System.gc();&quot; after each &quot;setImage();&quot; method call in the ImageView. Surprisingly, this temporarily resolved the problem. However, I realized that constantly triggering the garbage collector negatively impacted the program&#39;s performance, which was not a viable long-term solution.\r\n\r\nI also attempted setting the VM options to &quot;-Dprism.order=sw -Xmx1024m,&quot; but this led to UI bugs, making it unsuitable as a resolution.\r\n\r\nAdditionally, I tried calling &quot;setImage(null);&quot; instead of &quot;System.gc();&quot; to trigger the garbage collector, but it had no effect on the issue.\r\n\r\nIn summary, despite my attempts to mitigate the growing VRAM pool problem, I have yet to find a satisfactory solution that maintains the program&#39;s performance while avoiding the NullPointerException and excessive memory usage.","title":"JavaFX bug with fast setImage call","body":"<p>I'm using Java 8 with JavaFX from Oracle, and I want to create a desktop remote app where the client continuously sends images as byte[] over sockets to the server. The server receives these images and displays them as an image in an ImageView. However, after a few seconds, the program starts crashing, and I get this exception:\n<code>java.lang.NullPointerException at com.sun.prism.d3d.D3DTexture.getContext(D3DTexture.java:84)  at com.sun.prism.d3d.D3DTexture.update(D3DTexture.java:207)  at com.sun.prism.d3d.D3DTexture.update(D3DTexture.java:151)...</code></p>\n<p>After a lot of googling, I found out that by enabling &quot;-Dprism.verbose=true,&quot; I can get more information about the problem. I discovered that the console keeps outputting:\n<code>Growing pool D3D Vram Pool target to 524,167,168  Growing pool D3D Vram Pool target to 524,167,168  Growing pool D3D Vram Pool target to 535,226,368...</code></p>\n<p>always with a larger number. This output becomes even faster if, for example, I resize the window in which the ImageView is located, even if the ImageView itself doesn't change in size, which doesn't make sense to me.</p>\n<p>After some testing, I added a &quot;System.gc();&quot; call after each &quot;setImage();&quot; method call of the ImageView, and suddenly it works without any issues. There is no more &quot;growing pool&quot; log, and the program no longer crashes with the aforementioned NullPointerException. However, continuously calling &quot;System.gc();&quot; is not a solution for me as it severely impacts the performance of the program, and it's generally recommended to avoid it. Besides, Java should handle this automatically.</p>\n<p>Another thing that worked was setting &quot;-Dprism.order=sw -Xmx1024m&quot; in the VM options. However, this caused the entire UI to be relatively buggy, so it's not a solution for me either.</p>\n<p>To trigger the garbage collector, I also tried calling &quot;setImage(null);&quot; every time, hoping that the garbage collector would &quot;clean up.&quot; Unfortunately, this didn't help at all.</p>\n<p>I have created a code example that indirectly reproduces the same issue.</p>\n<p>Code-Example:</p>\n<pre><code>package example;\n\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport javax.imageio.ImageIO;\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\n\npublic class Main extends Application {\n\n    private ImageView imageView;\n    private Button button;\n\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        primaryStage.setTitle(&quot;ImageView Example&quot;);\n\n        button = new Button(&quot;Start&quot;);\n        button.setOnAction(e -&gt; start());\n\n        imageView = new ImageView();\n        imageView.setFitWidth(720);\n        imageView.setFitHeight(480);\n\n        VBox root = new VBox();\n        root.setAlignment(Pos.CENTER);\n        root.getChildren().addAll(imageView, button);\n\n        Scene scene = new Scene(root, 720, 510);\n\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    private void start() {\n        button.setDisable(true);\n        new Thread(() -&gt; {\n            while (true) {\n                Platform.runLater(() -&gt; {\n                    try {\n                        imageView.setImage(new Image(new ByteArrayInputStream(robotScreenshot(&quot;jpg&quot;))));\n//System.gc(); &lt;- would fix the &quot;bug&quot; but is not a option for me\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                        System.exit(-1);\n                    }\n                });\n\n                try {\n                    Thread.sleep(100);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                    System.exit(-1);\n                }\n            }\n        }).start();\n    }\n\n    private static final GraphicsDevice graphicDevice = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[0];\n\n    public static byte[] robotScreenshot(String format) throws Exception {\n        Rectangle rectangle = graphicDevice.getDefaultConfiguration().getBounds();\n        BufferedImage bufferedImage = new Robot().createScreenCapture(rectangle);\n\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n        ImageIO.write(bufferedImage, format.toLowerCase(), byteArrayOutputStream);\n        return byteArrayOutputStream.toByteArray();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>I tried various approaches to resolve the issue with the growing D3D VRAM pool in JavaFX. Initially, I enabled the &quot;-Dprism.verbose=true&quot; option to gather more information about the problem. My expectation was to identify the cause of the crash and find a solution. However, I discovered that the console continuously displayed messages indicating the growth of the VRAM pool with increasingly larger numbers.</p>\n<p>To address the issue, I experimented with using &quot;System.gc();&quot; after each &quot;setImage();&quot; method call in the ImageView. Surprisingly, this temporarily resolved the problem. However, I realized that constantly triggering the garbage collector negatively impacted the program's performance, which was not a viable long-term solution.</p>\n<p>I also attempted setting the VM options to &quot;-Dprism.order=sw -Xmx1024m,&quot; but this led to UI bugs, making it unsuitable as a resolution.</p>\n<p>Additionally, I tried calling &quot;setImage(null);&quot; instead of &quot;System.gc();&quot; to trigger the garbage collector, but it had no effect on the issue.</p>\n<p>In summary, despite my attempts to mitigate the growing VRAM pool problem, I have yet to find a satisfactory solution that maintains the program's performance while avoiding the NullPointerException and excessive memory usage.</p>\n"},{"tags":["java","spring","spring-boot","resttemplate","objectmapper"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1689191316,"post_id":76672871,"comment_id":135180171,"body_markdown":"How does the output indicate anything about the type? It&#39;s just the `toString()` of the list, and of whatever type V the list contains.","body":"How does the output indicate anything about the type? It&#39;s just the <code>toString()</code> of the list, and of whatever type V the list contains."},{"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"score":0,"creation_date":1689242288,"post_id":76672871,"comment_id":135186856,"body_markdown":"it should log like this. if there is a typed list\n[partyMapResponseDTO(id=12345, value=null, settlement_group_id=82, code=test)]","body":"it should log like this. if there is a typed list [partyMapResponseDTO(id=12345, value=null, settlement_group_id=82, code=test)]"},{"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"score":0,"creation_date":1689242323,"post_id":76672871,"comment_id":135186866,"body_markdown":"Don&#39;t see the reason, why this been marked down???????????????","body":"Don&#39;t see the reason, why this been marked down???????????????"}],"answers":[{"tags":[],"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689247070,"creation_date":1689247070,"answer_id":76678760,"question_id":76672871,"body_markdown":"Solved this:\r\n\r\n     private &lt;T&gt; List&lt;T&gt; getObjectList(final String json, final Class&lt;T&gt; cls) throws JsonProcessingException {\r\n        ObjectMapper objectMapper=new ObjectMapper();\r\n        return objectMapper\r\n                .readValue(json, objectMapper.getTypeFactory()\r\n                        .constructCollectionType(ArrayList.class, cls));\r\n      }\r\n\r\n    List&lt;V&gt; objectList = getObjectList(response.getBody(), type);\r\n    log.info(&quot;returned object new method {}&quot;, objectList);\r\n\r\n**Log:**\r\n\r\n     returned object new method [PartyMapResponseDTO(id=31193, value=80954, settlement_group_id=72, code=GOL)]","title":"Generic List object mapper","body":"<p>Solved this:</p>\n<pre><code> private &lt;T&gt; List&lt;T&gt; getObjectList(final String json, final Class&lt;T&gt; cls) throws JsonProcessingException {\n    ObjectMapper objectMapper=new ObjectMapper();\n    return objectMapper\n            .readValue(json, objectMapper.getTypeFactory()\n                    .constructCollectionType(ArrayList.class, cls));\n  }\n\nList&lt;V&gt; objectList = getObjectList(response.getBody(), type);\nlog.info(&quot;returned object new method {}&quot;, objectList);\n</code></pre>\n<p><strong>Log:</strong></p>\n<pre><code> returned object new method [PartyMapResponseDTO(id=31193, value=80954, settlement_group_id=72, code=GOL)]\n</code></pre>\n"}],"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76678760,"answer_count":1,"score":-2,"last_activity_date":1689247070,"creation_date":1689180784,"question_id":76672871,"body_markdown":"I am trying to get a generic list from object mapper but it not retunning a type specific list.\r\n\r\n        public &lt;T,V&gt; List&lt;V&gt; invokeService(T request, String url,Class&lt;V&gt; type) {\r\n    \r\n        HttpEntity requestEntity = new HttpEntity&lt;&gt;(sdsRequest, headers);\r\n          ResponseEntity&lt;String&gt;  response= restTemplate.exchange(returnURI,HttpMethod.POST,requestEntity,String.class);\r\n\r\n      ObjectMapper objectMapper=new ObjectMapper();\r\n      ObjectReader objectReader = objectMapper.reader().forType(new TypeReference&lt;List&lt;V&gt;&gt;(){});\r\n      try {\r\n        List&lt;V&gt; list = objectReader.readValue(response.getBody());\r\n        log.info(&quot;returned value {}&quot;,list );\r\n        return list;\r\n      } catch (JsonProcessingException e) {\r\n        throw new RuntimeException(e);\r\n      }\r\n    }\r\n\r\n**Outout** \r\n\r\n    returned value [{settlement_group_id=72, id=3142193, value=812954, code=GO}]\r\n\r\nAs we can see in the output. It is getting converted to List but not of a particular type.\r\n\r\n\r\n**Exception:**\r\n\r\n    java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.service.dtos.PartyMapResponseDTO (java.util.LinkedHashMap is in module java.base of loader &#39;bootstrap&#39;; com.service.dtos.PartyMapResponseDTO is in unnamed module of loader &#39;app&#39;)","title":"Generic List object mapper","body":"<p>I am trying to get a generic list from object mapper but it not retunning a type specific list.</p>\n<pre><code>    public &lt;T,V&gt; List&lt;V&gt; invokeService(T request, String url,Class&lt;V&gt; type) {\n\n    HttpEntity requestEntity = new HttpEntity&lt;&gt;(sdsRequest, headers);\n      ResponseEntity&lt;String&gt;  response= restTemplate.exchange(returnURI,HttpMethod.POST,requestEntity,String.class);\n\n  ObjectMapper objectMapper=new ObjectMapper();\n  ObjectReader objectReader = objectMapper.reader().forType(new TypeReference&lt;List&lt;V&gt;&gt;(){});\n  try {\n    List&lt;V&gt; list = objectReader.readValue(response.getBody());\n    log.info(&quot;returned value {}&quot;,list );\n    return list;\n  } catch (JsonProcessingException e) {\n    throw new RuntimeException(e);\n  }\n}\n</code></pre>\n<p><strong>Outout</strong></p>\n<pre><code>returned value [{settlement_group_id=72, id=3142193, value=812954, code=GO}]\n</code></pre>\n<p>As we can see in the output. It is getting converted to List but not of a particular type.</p>\n<p><strong>Exception:</strong></p>\n<pre><code>java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.service.dtos.PartyMapResponseDTO (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.service.dtos.PartyMapResponseDTO is in unnamed module of loader 'app')\n</code></pre>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":1471892,"reputation":9718,"user_id":1383240,"accept_rate":38,"display_name":"NiVeR"},"score":0,"creation_date":1539800944,"post_id":52861277,"comment_id":92637264,"body_markdown":"http://interactivepython.org/runestone/static/pythonds/BasicDS/InfixPrefixandPostfixExpressions.html","body":"<a href=\"http://interactivepython.org/runestone/static/pythonds/BasicDS/InfixPrefixandPostfixExpressions.html\" rel=\"nofollow noreferrer\">interactivepython.org/runestone/static/pythonds/BasicDS/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539833330,"creation_date":1539833330,"answer_id":52866588,"question_id":52861277,"body_markdown":"The algorithm to evaluate a postfix expression is pretty simple. The idea is that you push operands onto the stack until you encounter an operator. Then you pop two operands off the stack, apply the operand, and push the result back onto the stack. When you&#39;re done, the final result is on the stack.\r\n\r\nFor example, given the postfix expression `4 5 + 3 *`:\r\n\r\n 1. Read &#39;4&#39;. It&#39;s an operand, so push it onto the stack. Stack contains `[4]`.\r\n 2. Read &#39;5&#39;. It&#39;s an operand, so push it onto the stack. Stack contains `[5,4]`.\r\n 3. Read &#39;+&#39;. It&#39;s an operator. Pop 5 and 4 from the stack. Stack contains `[]`.\r\n 4. Add 5 and 4, giving 9. Push it onto the stack. Stack contains `[9]`.\r\n 5. Read &#39;3&#39;. It&#39;s an operand, so push it onto the stack. Stack contains `[3,9]`.\r\n 6. Read &#39;*&#39;. It&#39;s an operator. Pop 3 and 9 from the stack. Stack contains `[]`.\r\n 7. Multiply 9 and 3, giving 27. Push it onto the stack. Stack contains `[27]`.\r\n 8. You&#39;ve reached the end of input. Pop result from stack.\r\n\r\nIf at any time there aren&#39;t enough operands on the stack, then there&#39;s an error. If at the end of input, you have more than one value on the stack, then there&#39;s an error.\r\n","title":"Write a Java program to evaluate an expression in postfix notation - Data Structures and Algorithms class","body":"<p>The algorithm to evaluate a postfix expression is pretty simple. The idea is that you push operands onto the stack until you encounter an operator. Then you pop two operands off the stack, apply the operand, and push the result back onto the stack. When you're done, the final result is on the stack.</p>\n\n<p>For example, given the postfix expression <code>4 5 + 3 *</code>:</p>\n\n<ol>\n<li>Read '4'. It's an operand, so push it onto the stack. Stack contains <code>[4]</code>.</li>\n<li>Read '5'. It's an operand, so push it onto the stack. Stack contains <code>[5,4]</code>.</li>\n<li>Read '+'. It's an operator. Pop 5 and 4 from the stack. Stack contains <code>[]</code>.</li>\n<li>Add 5 and 4, giving 9. Push it onto the stack. Stack contains <code>[9]</code>.</li>\n<li>Read '3'. It's an operand, so push it onto the stack. Stack contains <code>[3,9]</code>.</li>\n<li>Read '*'. It's an operator. Pop 3 and 9 from the stack. Stack contains <code>[]</code>.</li>\n<li>Multiply 9 and 3, giving 27. Push it onto the stack. Stack contains <code>[27]</code>.</li>\n<li>You've reached the end of input. Pop result from stack.</li>\n</ol>\n\n<p>If at any time there aren't enough operands on the stack, then there's an error. If at the end of input, you have more than one value on the stack, then there's an error.</p>\n"},{"tags":[],"owner":{"account_id":28033874,"reputation":1,"user_id":21412618,"display_name":"Sujal R. Rabadiya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689247023,"creation_date":1689247023,"answer_id":76678752,"question_id":52861277,"body_markdown":"[Program for evaluation of post-fix Expression using Stack.\r\n  [1]: https://i.stack.imgur.com/rEhaF.png\r\n  [2]: https://i.stack.imgur.com/xN8dt.png","title":"Write a Java program to evaluate an expression in postfix notation - Data Structures and Algorithms class","body":"<p>[Program for evaluation of post-fix Expression using Stack.\n[1]: https://i.stack.imgur.com/rEhaF.png\n[2]: https://i.stack.imgur.com/xN8dt.png</p>\n"}],"owner":{"account_id":14565177,"reputation":11,"user_id":10520145,"display_name":"user10520145"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1689247023,"creation_date":1539800354,"question_id":52861277,"body_markdown":"This is a Data Structures and Algorithms class assignment. I don&#39;t want the answer, I just need some help on where to even begin. The teacher recites from the book, which is some help, but not much. There is base code below with a space that I am meant to fill in. Thank you for any help you can give me. \r\n\r\n\r\nStacks are used by compilers to evaluate expressions and generate machine-language code. Humans generally write expressions like 3 + 4 and 7 / 9, in which the operator (+ or / here) is written between its operands. This is called inﬁx notation. To evaluate a complex inﬁx expression, a compiler would ﬁrst convert the expression to postﬁx notation, in which the operator is written to the right of its two operands. The preceding inﬁx expressions would appear in postﬁx notation as 3 4 + and 7 9 /, respectively. You are required to write a Java program to evaluate an expression in postﬁx notation and display the result. Assume that an expression ONLY contains parentheses, single-digit integers (as operands) and the following operators: “+”, “-”, “*”, “/”, “%”. The expressions in inﬁx notation are given in the ﬁle InﬁxExpressions.txt. The corresponding expressions in postﬁx notation are given in the ﬁle PostﬁxExpressions.txt. Your program should read the expressions from the ﬁle PostﬁxExpressions.txt, evaluate each postﬁx expression, and display the result in a tabular report. The partial Java program is given in the ﬁle PostﬁxEvaluator.java. Fill in the missing code in PostﬁxEvaluator.java to make the program complete and work properly. The test driver is given in the ﬁle TestDriver.java. You are required to create a package named labs.lab3 to include all the classes. The sample output of the program is given in the ﬁle SampleOutput.txt.\r\n\r\nInfix expressions:\r\n\r\n    1 + 2 - 3 + 4 - 5\r\n    1 * 2 * 3 / 2 / 3\r\n    1 + 2 * 3 - 4 / 2\r\n    1 * 2 + 3 - 4 / 5\r\n    1 + 2 * 4 % 3 + 4\r\n    ( 1 + 2 ) * 3 - 4 / 2\r\n    5 * ( 4 + 3 ) - 2 / 1\r\n    ( ( 1 + 2 ) * 3 - 4 ) / 2\r\n    ( 5 + 4 % 3 - 2 ) / 2\r\n    1 + 2 * 4 / ( 2 + 2 )\r\n\r\nPostfix expressions:\r\n\r\n    1 2 + 3 - 4 + 5 -\r\n    1 2 * 3 * 2 / 3 /\r\n    1 2 3 * + 4 2 / -\r\n    1 2 * 3 + 4 5 / -\r\n    1 2 4 * 3 % + 4 +\r\n    1 2 + 3 * 4 2 / -\r\n    5 4 3 + * 2 1 / -\r\n    1 2 + 3 * 4 - 2 /\r\n    5 4 3 % + 2 - 2 /\r\n    1 2 4 * 2 2 + / +\r\n\r\nSample Output:\r\n\r\n    Postfix Expression            Evaluation Result             \r\n    1 2 + 3 - 4 + 5 -             -1                            \r\n    1 2 * 3 * 2 / 3 /             1                             \r\n    1 2 3 * + 4 2 / -             5                             \r\n    1 2 * 3 + 4 5 / -             5                             \r\n    1 2 4 * 3 % + 4 +             7                             \r\n    1 2 + 3 * 4 2 / -             7                             \r\n    5 4 3 + * 2 1 / -             33                            \r\n    1 2 + 3 * 4 - 2 /             2                             \r\n    5 4 3 % + 2 - 2 /             2                             \r\n    1 2 4 * 2 2 + / +             3                    \r\n\r\nPartial Code:\r\n\r\n    package labs.lab3;\r\n    \r\n    import java.util.Stack;\r\n    import java.util.EmptyStackException;\r\n    \r\n    public class PostfixEvaluator\r\n    {\r\n    \tprivate Stack&lt;Integer&gt; stack;\r\n    \tprivate String expression;\r\n    \r\n    \tpublic PostfixEvaluator(String e)\r\n    \t{\r\n    \t\tstack = new Stack&lt;Integer&gt;();\r\n    \t\texpression = e;\r\n    \t}\r\n    \r\n            // Evaluate the postfix expression and return the evaluation result\r\n    \tpublic int Evaluate()\r\n    \t{\r\n    \t  /* Missing code start here */\r\n    \r\n    \r\n    \r\n              /* Missing code end here */\r\n    \t}\r\n    \r\n    \t// Perform an operation on the two operands\r\n    \tpublic int Calculate(int operand1, int operand2, char operation)\r\n    \t{\r\n    \t\tint result = 0;\r\n    \r\n    \t\tswitch (operation)\r\n    \t\t{\r\n    \t\tcase &#39;+&#39;:\r\n    \t\t\tresult = operand1 + operand2;\r\n    \t\t\tbreak;\r\n    \t\tcase &#39;-&#39;:\r\n    \t\t\tresult = operand1 - operand2;\r\n    \t\t\tbreak;\r\n    \t\tcase &#39;/&#39;:\r\n    \t\t\tresult = operand1 / operand2;\r\n    \t\t\tbreak;\r\n    \t\tcase &#39;*&#39;:\r\n    \t\t\tresult = operand1 * operand2;\r\n    \t\t\tbreak;\r\n    \t\tcase &#39;%&#39;:\r\n    \t\t\tresult = operand1 % operand2;\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Write a Java program to evaluate an expression in postfix notation - Data Structures and Algorithms class","body":"<p>This is a Data Structures and Algorithms class assignment. I don't want the answer, I just need some help on where to even begin. The teacher recites from the book, which is some help, but not much. There is base code below with a space that I am meant to fill in. Thank you for any help you can give me. </p>\n\n<p>Stacks are used by compilers to evaluate expressions and generate machine-language code. Humans generally write expressions like 3 + 4 and 7 / 9, in which the operator (+ or / here) is written between its operands. This is called inﬁx notation. To evaluate a complex inﬁx expression, a compiler would ﬁrst convert the expression to postﬁx notation, in which the operator is written to the right of its two operands. The preceding inﬁx expressions would appear in postﬁx notation as 3 4 + and 7 9 /, respectively. You are required to write a Java program to evaluate an expression in postﬁx notation and display the result. Assume that an expression ONLY contains parentheses, single-digit integers (as operands) and the following operators: “+”, “-”, “*”, “/”, “%”. The expressions in inﬁx notation are given in the ﬁle InﬁxExpressions.txt. The corresponding expressions in postﬁx notation are given in the ﬁle PostﬁxExpressions.txt. Your program should read the expressions from the ﬁle PostﬁxExpressions.txt, evaluate each postﬁx expression, and display the result in a tabular report. The partial Java program is given in the ﬁle PostﬁxEvaluator.java. Fill in the missing code in PostﬁxEvaluator.java to make the program complete and work properly. The test driver is given in the ﬁle TestDriver.java. You are required to create a package named labs.lab3 to include all the classes. The sample output of the program is given in the ﬁle SampleOutput.txt.</p>\n\n<p>Infix expressions:</p>\n\n<pre><code>1 + 2 - 3 + 4 - 5\n1 * 2 * 3 / 2 / 3\n1 + 2 * 3 - 4 / 2\n1 * 2 + 3 - 4 / 5\n1 + 2 * 4 % 3 + 4\n( 1 + 2 ) * 3 - 4 / 2\n5 * ( 4 + 3 ) - 2 / 1\n( ( 1 + 2 ) * 3 - 4 ) / 2\n( 5 + 4 % 3 - 2 ) / 2\n1 + 2 * 4 / ( 2 + 2 )\n</code></pre>\n\n<p>Postfix expressions:</p>\n\n<pre><code>1 2 + 3 - 4 + 5 -\n1 2 * 3 * 2 / 3 /\n1 2 3 * + 4 2 / -\n1 2 * 3 + 4 5 / -\n1 2 4 * 3 % + 4 +\n1 2 + 3 * 4 2 / -\n5 4 3 + * 2 1 / -\n1 2 + 3 * 4 - 2 /\n5 4 3 % + 2 - 2 /\n1 2 4 * 2 2 + / +\n</code></pre>\n\n<p>Sample Output:</p>\n\n<pre><code>Postfix Expression            Evaluation Result             \n1 2 + 3 - 4 + 5 -             -1                            \n1 2 * 3 * 2 / 3 /             1                             \n1 2 3 * + 4 2 / -             5                             \n1 2 * 3 + 4 5 / -             5                             \n1 2 4 * 3 % + 4 +             7                             \n1 2 + 3 * 4 2 / -             7                             \n5 4 3 + * 2 1 / -             33                            \n1 2 + 3 * 4 - 2 /             2                             \n5 4 3 % + 2 - 2 /             2                             \n1 2 4 * 2 2 + / +             3                    \n</code></pre>\n\n<p>Partial Code:</p>\n\n<pre><code>package labs.lab3;\n\nimport java.util.Stack;\nimport java.util.EmptyStackException;\n\npublic class PostfixEvaluator\n{\n    private Stack&lt;Integer&gt; stack;\n    private String expression;\n\n    public PostfixEvaluator(String e)\n    {\n        stack = new Stack&lt;Integer&gt;();\n        expression = e;\n    }\n\n        // Evaluate the postfix expression and return the evaluation result\n    public int Evaluate()\n    {\n      /* Missing code start here */\n\n\n\n          /* Missing code end here */\n    }\n\n    // Perform an operation on the two operands\n    public int Calculate(int operand1, int operand2, char operation)\n    {\n        int result = 0;\n\n        switch (operation)\n        {\n        case '+':\n            result = operand1 + operand2;\n            break;\n        case '-':\n            result = operand1 - operand2;\n            break;\n        case '/':\n            result = operand1 / operand2;\n            break;\n        case '*':\n            result = operand1 * operand2;\n            break;\n        case '%':\n            result = operand1 % operand2;\n            break;\n        }\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":["java","oop","selenium-webdriver","automation","build-automation"],"comments":[{"owner":{"account_id":14522278,"reputation":433,"user_id":10489626,"display_name":"Success Shrestha"},"score":0,"creation_date":1689239712,"post_id":76676178,"comment_id":135186255,"body_markdown":"So you have one remove button that delete the rows? Or does each row have the remove button?","body":"So you have one remove button that delete the rows? Or does each row have the remove button?"},{"owner":{"account_id":17367766,"reputation":3,"user_id":12582507,"display_name":"sarath k"},"score":0,"creation_date":1689251008,"post_id":76676178,"comment_id":135188651,"body_markdown":"yes i have multiple rows with remove btn and current code is working with delete the only one remove button .my question is to delete the all the rows remote button until the table size equal to zero","body":"yes i have multiple rows with remove btn and current code is working with delete the only one remove button .my question is to delete the all the rows remote button until the table size equal to zero"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689263629,"post_id":76676178,"comment_id":135192016,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689246470,"creation_date":1689246470,"answer_id":76678679,"question_id":76676178,"body_markdown":"Probably you should search from root element from each row. \r\nIt looks like you are trying to click on the same element in your loop each time.\r\n\r\nTry this\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n     List&lt;WebElement&gt; rows = driver.findElements(rowsXpath);\r\n            // For loop follows\r\n     for (WebElement element: rows) {\r\n                // Access individual elements this way:\r\n                WebElement deleteButton = element.findElement(deleteButtonXpath);\r\n                deleteButton.click();\r\n                // there I suggest to add some wait for rows amount to be decreased\r\n    }`\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Unable to delete all the records from table but its deleting only one record using selenium java","body":"<p>Probably you should search from root element from each row.\nIt looks like you are trying to click on the same element in your loop each time.</p>\n<p>Try this</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> List&lt;WebElement&gt; rows = driver.findElements(rowsXpath);\n        // For loop follows\n for (WebElement element: rows) {\n            // Access individual elements this way:\n            WebElement deleteButton = element.findElement(deleteButtonXpath);\n            deleteButton.click();\n            // there I suggest to add some wait for rows amount to be decreased\n}`</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":17367766,"reputation":3,"user_id":12582507,"display_name":"sarath k"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76678679,"answer_count":1,"score":0,"last_activity_date":1689246470,"creation_date":1689226053,"question_id":76676178,"body_markdown":"Trying to delete remove button after adding the products\r\nused for loop to delete the records one by one before signout the testcase \r\n\r\nBut its deleting only one record ,i would like to delete the records until its reach to table count zero \r\n\r\n\r\n       ` List&lt;WebElement&gt; rows = driver.findElements(xpath);\r\n            // For loop follows\r\n            for (int i = 0; i &lt; rows.size(); i++) {\r\n                // Access individual elements this way:\r\n                WebElement deleteButton = driver.findElement(xpath);\r\n                deleteButton.click();\r\n            }`","title":"Unable to delete all the records from table but its deleting only one record using selenium java","body":"<p>Trying to delete remove button after adding the products\nused for loop to delete the records one by one before signout the testcase</p>\n<p>But its deleting only one record ,i would like to delete the records until its reach to table count zero</p>\n<pre><code>   ` List&lt;WebElement&gt; rows = driver.findElements(xpath);\n        // For loop follows\n        for (int i = 0; i &lt; rows.size(); i++) {\n            // Access individual elements this way:\n            WebElement deleteButton = driver.findElement(xpath);\n            deleteButton.click();\n        }`\n</code></pre>\n"},{"tags":["java","generics","reflection","methodhandle","lambda-metafactory"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1689212248,"post_id":76675352,"comment_id":135182565,"body_markdown":"What is &quot;the following error&quot;? You seem to have forgot to include that.","body":"What is &quot;the following error&quot;? You seem to have forgot to include that."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689246334,"creation_date":1689214194,"answer_id":76675474,"question_id":76675352,"body_markdown":"What you are doing is inherently not type safe. How do you ensure that `interfaces.get(0)` can process a `ChildOne`? What if it takes a `ChildTwo` instead?\r\n\r\nThis is why you are not allowed to pass `childOne` to `interfaces.get(0).process`. `interfaces.get(0)` is a `ProcessInterface&lt;Something&gt;`, but you don&#39;t know what `Something` is. It could be `ChildOne`, or `ChildTwo`. This is what the type `ProcessInterface&lt;? extends AbstractParent&gt;` *means*. See also [PECS](https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super).\r\n\r\nIf `Something` were actually `ChildTwo`, then passing a `ChildOne` will not work at all. The implementing method does not know how to deal with that. In fact, you can only safely pass `null` to `process`.\r\n\r\nSo let&#39;s suppose the user&#39;s of your library are responsible for ensuring that type safety, and that you are sure that this is always safe.\r\n\r\nIn that case, cast `generate`&#39;s return value to `List&lt;ProcessorInterface&lt;AbstractParent&gt;&gt;`:\r\n\r\n    List&lt;ProcessInterface&lt;AbstractParent&gt;&gt; interfaces = \r\n        (List&lt;ProcessInterface&lt;AbstractParent&gt;&gt;)(Object)generate(GeneralProcessor.class);\r\n\r\n(You can change the return type of `generate` to this type, if you really want.)\r\n\r\n`ProcessInterface&lt;AbstractParent&gt;` is a type that you can pass all kinds of `AbstractParent`s to its `process` method. In fact, since type safety is gone at this point, it doesn&#39;t matter which exact type you cast to, as long as it can take any `AbstractParent`.\r\n\r\nNow if you happen to pass the wrong type of instance to `process`, a `ClassCastException` will be thrown.\r\n\r\nAs for your `LambdaMetafactory`, you should pass the method type of the *interface method* for the fourth argument of `metafactory`, not the implementing method&#39;s method type.\r\n\r\n```\r\nCallSite callSite = LambdaMetafactory.metafactory(lookup,\r\n        &quot;process&quot;,\r\n        MethodType.methodType(ProcessInterface.class),\r\n        // this should be the interface method&#39;s type\r\n        MethodType.methodType(String.class, AbstractParent.class, String.class),\r\n        handle,\r\n        handle.type());\r\n```\r\n\r\n","title":"LambdaMetaFactory with Generic Static Methods?","body":"<p>What you are doing is inherently not type safe. How do you ensure that <code>interfaces.get(0)</code> can process a <code>ChildOne</code>? What if it takes a <code>ChildTwo</code> instead?</p>\n<p>This is why you are not allowed to pass <code>childOne</code> to <code>interfaces.get(0).process</code>. <code>interfaces.get(0)</code> is a <code>ProcessInterface&lt;Something&gt;</code>, but you don't know what <code>Something</code> is. It could be <code>ChildOne</code>, or <code>ChildTwo</code>. This is what the type <code>ProcessInterface&lt;? extends AbstractParent&gt;</code> <em>means</em>. See also <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">PECS</a>.</p>\n<p>If <code>Something</code> were actually <code>ChildTwo</code>, then passing a <code>ChildOne</code> will not work at all. The implementing method does not know how to deal with that. In fact, you can only safely pass <code>null</code> to <code>process</code>.</p>\n<p>So let's suppose the user's of your library are responsible for ensuring that type safety, and that you are sure that this is always safe.</p>\n<p>In that case, cast <code>generate</code>'s return value to <code>List&lt;ProcessorInterface&lt;AbstractParent&gt;&gt;</code>:</p>\n<pre><code>List&lt;ProcessInterface&lt;AbstractParent&gt;&gt; interfaces = \n    (List&lt;ProcessInterface&lt;AbstractParent&gt;&gt;)(Object)generate(GeneralProcessor.class);\n</code></pre>\n<p>(You can change the return type of <code>generate</code> to this type, if you really want.)</p>\n<p><code>ProcessInterface&lt;AbstractParent&gt;</code> is a type that you can pass all kinds of <code>AbstractParent</code>s to its <code>process</code> method. In fact, since type safety is gone at this point, it doesn't matter which exact type you cast to, as long as it can take any <code>AbstractParent</code>.</p>\n<p>Now if you happen to pass the wrong type of instance to <code>process</code>, a <code>ClassCastException</code> will be thrown.</p>\n<p>As for your <code>LambdaMetafactory</code>, you should pass the method type of the <em>interface method</em> for the fourth argument of <code>metafactory</code>, not the implementing method's method type.</p>\n<pre><code>CallSite callSite = LambdaMetafactory.metafactory(lookup,\n        &quot;process&quot;,\n        MethodType.methodType(ProcessInterface.class),\n        // this should be the interface method's type\n        MethodType.methodType(String.class, AbstractParent.class, String.class),\n        handle,\n        handle.type());\n</code></pre>\n"}],"owner":{"account_id":25945482,"reputation":25,"user_id":22080814,"display_name":"TypeMonkey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76675474,"answer_count":1,"score":1,"last_activity_date":1689246334,"creation_date":1689211810,"question_id":76675352,"body_markdown":"So I&#39;m creating a library that allows users to pass a `Class&lt;?&gt;` and collect all static methods with a specific annotation (and other criteria, such as a certain parameter count and types) and convert them into lambda `FunctionalInterfaces` that my library will use internally for processing.\r\n\r\nFor example:\r\n\r\nSay I have the following class tree:\r\n\r\n\r\n```\r\npublic abstract class AbstractParent {\r\n  \r\n  public String sayHi() {\r\n    return getClass().getName() + &quot; instance says hi!&quot;;\r\n  }\r\n\r\n}\r\n```\r\n\r\nwith subclasses:\r\n\r\n\r\n```\r\npublic class ChildOne extends AbstractParent {\r\n\r\n  public int childOneSpecialMethod() {\r\n    return 2558445;\r\n  }\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class ChildTwo extends AbstractParent {\r\n\r\n  public int childTwoSpecialMethod() {\r\n    return 484848;\r\n  }\r\n  \r\n}\r\n```\r\n\r\nMy library allows for users to annotate a class&#39;s static methods with the following annotation:\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.METHOD)\r\npublic @interface ProcessAnnotation {}\r\n```\r\n\r\nwith the following rules: the static method first parameter be an instance of `AbstractParent`, and its second parameter must be a `String`, and must return a `String`. So, something like this:\r\n\r\n```\r\npublic class GeneralProcessor {\r\n  \r\n  @ProcessAnnotation\r\n  public static String easyProcessing(ChildOne one, String otherArg) {\r\n    //Some code\r\n    System.out.println(&quot; === In processing for ChildOne types&quot;);\r\n    return otherArg + one.toString();\r\n  }\r\n\r\n  @ProcessAnnotation\r\n  public static String easyProcessing(ChildTwo two, String otherArg) {\r\n    //Some code\r\n    System.out.println(&quot; === In processing for ChildTwo types&quot;);\r\n    return otherArg + two.toString();\r\n  }\r\n}\r\n```\r\n\r\nOn the library-side of things, I want to collect all these methods so that I can use them for some processing while doing it in a relatively fast manner and I found that `MethodHandles` and `LambdaMetaFactory` is the best way to do this.\r\n\r\nSpecifically, I want to invoke these collected methods using my own `FunctionalInterface` :\r\n\r\n\r\n```\r\n@FunctionalInterface\r\npublic interface ProcessInterface&lt;T extends AbstractParent&gt; {\r\n  \r\n  public String process(T obj, String extraArg);\r\n}\r\n```\r\n\r\n\r\n\r\nSo far, what I&#39;ve tried is something like this:\r\n\r\n\r\n```\r\npublic static List&lt;ProcessInterface&lt;? extends AbstractParent&gt;&gt; generate(Class&lt;?&gt; targetClass) throws Throwable {\r\n    ArrayList&lt;ProcessInterface&lt;? extends AbstractParent&gt;&gt; processors = new ArrayList&lt;&gt;();\r\n\r\n    for (Method method : targetClass.getDeclaredMethods()) {\r\n      if (method.isAnnotationPresent(ProcessAnnotation.class) &amp;&amp;\r\n          method.getParameterCount() == 2 &amp;&amp; \r\n          AbstractParent.class.isAssignableFrom(method.getParameterTypes()[0]) &amp;&amp;\r\n          method.getParameterTypes()[1] == String.class) {\r\n        \r\n        MethodHandles.Lookup lookup = MethodHandles.lookup();\r\n        MethodHandle handle = lookup.unreflect(method);\r\n        CallSite callSite = LambdaMetafactory.metafactory(lookup, \r\n                                                          &quot;process&quot;, \r\n                                                          MethodType.methodType(ProcessInterface.class), \r\n                                                          MethodType.methodType(String.class, \r\n                                                                                method.getParameterTypes()[0],\r\n                                                                                String.class), \r\n                                                          handle, \r\n                                                          handle.type());\r\n\r\n        ProcessInterface&lt;? extends AbstractParent&gt; func = (ProcessInterface&lt;? extends AbstractParent&gt;) callSite.getTarget().invoke();\r\n        processors.add(func);\r\n      }\r\n    }\r\n\r\n    return processors;\r\n  }\r\n```\r\n\r\nHowever, I get the following error when I actually invoke the lambda. For example:\r\n\r\n\r\n```\r\nList&lt;ProcessInterface&lt;? extends AbstractParent&gt;&gt; interfaces = generate(GeneralProcessor.class);\r\n\r\nChildOne childOne = new ChildOne();\r\ninterfaces.get(0).process(childOne, &quot;&quot;);\r\n```\r\n\r\nIs there a fix to do this? Or maybe even a better way to achieve this?\r\n","title":"LambdaMetaFactory with Generic Static Methods?","body":"<p>So I'm creating a library that allows users to pass a <code>Class&lt;?&gt;</code> and collect all static methods with a specific annotation (and other criteria, such as a certain parameter count and types) and convert them into lambda <code>FunctionalInterfaces</code> that my library will use internally for processing.</p>\n<p>For example:</p>\n<p>Say I have the following class tree:</p>\n<pre><code>public abstract class AbstractParent {\n  \n  public String sayHi() {\n    return getClass().getName() + &quot; instance says hi!&quot;;\n  }\n\n}\n</code></pre>\n<p>with subclasses:</p>\n<pre><code>public class ChildOne extends AbstractParent {\n\n  public int childOneSpecialMethod() {\n    return 2558445;\n  }\n}\n</code></pre>\n<pre><code>public class ChildTwo extends AbstractParent {\n\n  public int childTwoSpecialMethod() {\n    return 484848;\n  }\n  \n}\n</code></pre>\n<p>My library allows for users to annotate a class's static methods with the following annotation:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface ProcessAnnotation {}\n</code></pre>\n<p>with the following rules: the static method first parameter be an instance of <code>AbstractParent</code>, and its second parameter must be a <code>String</code>, and must return a <code>String</code>. So, something like this:</p>\n<pre><code>public class GeneralProcessor {\n  \n  @ProcessAnnotation\n  public static String easyProcessing(ChildOne one, String otherArg) {\n    //Some code\n    System.out.println(&quot; === In processing for ChildOne types&quot;);\n    return otherArg + one.toString();\n  }\n\n  @ProcessAnnotation\n  public static String easyProcessing(ChildTwo two, String otherArg) {\n    //Some code\n    System.out.println(&quot; === In processing for ChildTwo types&quot;);\n    return otherArg + two.toString();\n  }\n}\n</code></pre>\n<p>On the library-side of things, I want to collect all these methods so that I can use them for some processing while doing it in a relatively fast manner and I found that <code>MethodHandles</code> and <code>LambdaMetaFactory</code> is the best way to do this.</p>\n<p>Specifically, I want to invoke these collected methods using my own <code>FunctionalInterface</code> :</p>\n<pre><code>@FunctionalInterface\npublic interface ProcessInterface&lt;T extends AbstractParent&gt; {\n  \n  public String process(T obj, String extraArg);\n}\n</code></pre>\n<p>So far, what I've tried is something like this:</p>\n<pre><code>public static List&lt;ProcessInterface&lt;? extends AbstractParent&gt;&gt; generate(Class&lt;?&gt; targetClass) throws Throwable {\n    ArrayList&lt;ProcessInterface&lt;? extends AbstractParent&gt;&gt; processors = new ArrayList&lt;&gt;();\n\n    for (Method method : targetClass.getDeclaredMethods()) {\n      if (method.isAnnotationPresent(ProcessAnnotation.class) &amp;&amp;\n          method.getParameterCount() == 2 &amp;&amp; \n          AbstractParent.class.isAssignableFrom(method.getParameterTypes()[0]) &amp;&amp;\n          method.getParameterTypes()[1] == String.class) {\n        \n        MethodHandles.Lookup lookup = MethodHandles.lookup();\n        MethodHandle handle = lookup.unreflect(method);\n        CallSite callSite = LambdaMetafactory.metafactory(lookup, \n                                                          &quot;process&quot;, \n                                                          MethodType.methodType(ProcessInterface.class), \n                                                          MethodType.methodType(String.class, \n                                                                                method.getParameterTypes()[0],\n                                                                                String.class), \n                                                          handle, \n                                                          handle.type());\n\n        ProcessInterface&lt;? extends AbstractParent&gt; func = (ProcessInterface&lt;? extends AbstractParent&gt;) callSite.getTarget().invoke();\n        processors.add(func);\n      }\n    }\n\n    return processors;\n  }\n</code></pre>\n<p>However, I get the following error when I actually invoke the lambda. For example:</p>\n<pre><code>List&lt;ProcessInterface&lt;? extends AbstractParent&gt;&gt; interfaces = generate(GeneralProcessor.class);\n\nChildOne childOne = new ChildOne();\ninterfaces.get(0).process(childOne, &quot;&quot;);\n</code></pre>\n<p>Is there a fix to do this? Or maybe even a better way to achieve this?</p>\n"},{"tags":["java","android"],"owner":{"account_id":19996675,"reputation":43,"user_id":14656577,"display_name":"matt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689246312,"creation_date":1689246312,"question_id":76678659,"body_markdown":"I am trying to change the locale of the app at runtime, using [the official android guide](https://developer.android.com/guide/topics/resources/app-languages#androidx-impl), while handling the locale configuration changes manually to avoid the main activity recreation. But there is a compound view that has a custom `labelText` attribute, which I need to update with a new localized string on every configuration change:\r\n\r\n```java\r\npublic class SomeScreen extends Fragment {\r\n    private TextInputCustom phoneField; // custom compound view\r\n    private Button buttonEn;\r\n    private Button buttonDe;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        // ...  (inflate view, etc...)\r\n        \r\n        buttonEn = view.findViewById(R.id.buttonEn);\r\n        buttonEn.setOnClickListener(view1 -&gt; {\r\n            LocaleListCompat appLocale = LocaleListCompat.forLanguageTags(&quot;en&quot;);\r\n            AppCompatDelegate.setApplicationLocales(appLocale);\r\n        });\r\n\r\n        buttonDe = view.findViewById(R.id.buttonDe);\r\n        buttonDe.setOnClickListener(view1 -&gt; {\r\n            LocaleListCompat appLocale = LocaleListCompat.forLanguageTags(&quot;de&quot;);\r\n            AppCompatDelegate.setApplicationLocales(appLocale);\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onConfigurationChanged(Configuration newConfig) {\r\n        super.onConfigurationChanged(newConfig);\r\n        phoneField.onConfigurationChanged(newConfig);\r\n    }\r\n\r\n    // ...\r\n}\r\n```\r\n\r\n```java\r\npublic class TextInputCustom extends ConstraintLayout {\r\n    private TextView label;\r\n    private @Nullable AttributeSet attributeSet;\r\n\r\n    public TextInputCustom(Context context, @Nullable AttributeSet attrs) {\r\n        super(context, attrs);\r\n        this.attributeSet = attrs;\r\n        init(context);\r\n    }\r\n\r\n    @Override\r\n    public void onConfigurationChanged(Configuration newConfig) {\r\n        super.onConfigurationChanged(newConfig);\r\n\r\n        TypedArray typedArray = getContext().obtainStyledAttributes(attributeSet, R.styleable.TextInputCustom);\r\n        String labelText = typedArray.getString(R.styleable.TextInputCustom_labelText);\r\n        //     ^^^\r\n        label.setText(labelText);\r\n        typedArray.recycle();\r\n    }\r\n    \r\n    // ...\r\n}\r\n```\r\n\r\nThe problem is that `labelText` obtained from `typedArray` always returns `null` in the `onConfigurationChanged` method. Debugger shows that `getContext().obtainStyledAttributes(...)` returns wrong or zero values. \r\nIs there a way to get attribute values from xml layout of a component during configuration change? So that I could specify string in the layout like so:\r\n```xml\r\n    &lt;TextInputCustom\r\n        app:labelText=&quot;@string/password&quot;\r\n        ...\r\n    /&gt;\r\n```\r\n\r\nversions:\r\n- targetSdk: 33\r\n- minSdk: 16\r\n- `androidx.appcompat:appcompat:1.6.1`\r\n- `com.google.android.material:material:1.6.0`","title":"How can I get styled attributes in onConfigurationChanged()?","body":"<p>I am trying to change the locale of the app at runtime, using <a href=\"https://developer.android.com/guide/topics/resources/app-languages#androidx-impl\" rel=\"nofollow noreferrer\">the official android guide</a>, while handling the locale configuration changes manually to avoid the main activity recreation. But there is a compound view that has a custom <code>labelText</code> attribute, which I need to update with a new localized string on every configuration change:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SomeScreen extends Fragment {\n    private TextInputCustom phoneField; // custom compound view\n    private Button buttonEn;\n    private Button buttonDe;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        // ...  (inflate view, etc...)\n        \n        buttonEn = view.findViewById(R.id.buttonEn);\n        buttonEn.setOnClickListener(view1 -&gt; {\n            LocaleListCompat appLocale = LocaleListCompat.forLanguageTags(&quot;en&quot;);\n            AppCompatDelegate.setApplicationLocales(appLocale);\n        });\n\n        buttonDe = view.findViewById(R.id.buttonDe);\n        buttonDe.setOnClickListener(view1 -&gt; {\n            LocaleListCompat appLocale = LocaleListCompat.forLanguageTags(&quot;de&quot;);\n            AppCompatDelegate.setApplicationLocales(appLocale);\n        });\n\n        return view;\n    }\n\n    @Override\n    public void onConfigurationChanged(Configuration newConfig) {\n        super.onConfigurationChanged(newConfig);\n        phoneField.onConfigurationChanged(newConfig);\n    }\n\n    // ...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class TextInputCustom extends ConstraintLayout {\n    private TextView label;\n    private @Nullable AttributeSet attributeSet;\n\n    public TextInputCustom(Context context, @Nullable AttributeSet attrs) {\n        super(context, attrs);\n        this.attributeSet = attrs;\n        init(context);\n    }\n\n    @Override\n    public void onConfigurationChanged(Configuration newConfig) {\n        super.onConfigurationChanged(newConfig);\n\n        TypedArray typedArray = getContext().obtainStyledAttributes(attributeSet, R.styleable.TextInputCustom);\n        String labelText = typedArray.getString(R.styleable.TextInputCustom_labelText);\n        //     ^^^\n        label.setText(labelText);\n        typedArray.recycle();\n    }\n    \n    // ...\n}\n</code></pre>\n<p>The problem is that <code>labelText</code> obtained from <code>typedArray</code> always returns <code>null</code> in the <code>onConfigurationChanged</code> method. Debugger shows that <code>getContext().obtainStyledAttributes(...)</code> returns wrong or zero values.\nIs there a way to get attribute values from xml layout of a component during configuration change? So that I could specify string in the layout like so:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;TextInputCustom\n        app:labelText=&quot;@string/password&quot;\n        ...\n    /&gt;\n</code></pre>\n<p>versions:</p>\n<ul>\n<li>targetSdk: 33</li>\n<li>minSdk: 16</li>\n<li><code>androidx.appcompat:appcompat:1.6.1</code></li>\n<li><code>com.google.android.material:material:1.6.0</code></li>\n</ul>\n"},{"tags":["java","android","kotlin","bluetooth"],"comments":[{"owner":{"account_id":15318806,"reputation":774,"user_id":11051950,"display_name":"bautista"},"score":0,"creation_date":1559737031,"post_id":56458582,"comment_id":99511987,"body_markdown":"Are you looking for code samples or a general approach?","body":"Are you looking for code samples or a general approach?"},{"owner":{"account_id":15941481,"reputation":301,"user_id":11503193,"display_name":"MarkWang"},"score":0,"creation_date":1559812680,"post_id":56458582,"comment_id":99539345,"body_markdown":"@bautista I want to find the code samples.\n\nAnd I found the using A2dp disconnect and reconnect can switch the activity of audio, I hope to find the smarter code samples.","body":"@bautista I want to find the code samples.  And I found the using A2dp disconnect and reconnect can switch the activity of audio, I hope to find the smarter code samples."}],"answers":[{"tags":[],"owner":{"account_id":9987648,"reputation":21,"user_id":7388221,"display_name":"Krešimir Turkalj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689245858,"creation_date":1566925572,"answer_id":57679349,"question_id":56458582,"body_markdown":"[Documentation][1] says it can only be connected to a single A2DP device at a time, so you should be able to switch between devices by connecting to device you want to use.\r\nYou can connect to device by using [BluetoothSockets][2]. \r\n\r\n\r\nEDIT:\r\nI found other solutions, one which I find reliable. Both of them rely on method reflections.\r\n\r\nFirst one is from this [post][3].\r\n\r\n 1. Get BluetoothA2dp proxy from serviceListener\r\n\r\n  ```\r\n    bluetoothManager.adapter.getProfileProxy(this, serviceListener, BluetoothProfile.A2DP)\r\n\r\n    private val serviceListener = object : BluetoothProfile.ServiceListener {\r\n        override fun onServiceDisconnected(profile: Int) {\r\n            if (profile == BluetoothProfile.A2DP) {\r\n                bluetoothA2dp = null\r\n            }\r\n        }\r\n\r\n        override fun onServiceConnected(profile: Int, proxy: BluetoothProfile?) {\r\n            if (profile == BluetoothProfile.A2DP) {\r\n                handler.post(btSearchRunnable)\r\n                bluetoothA2dp = proxy as BluetoothA2dp\r\n            }\r\n        }\r\n    }\r\n```\r\n 2. Get &quot;connect&quot; method from reflection.\r\n```\r\nprivate val connect = BluetoothA2dp::class.java.getDeclaredMethod(&quot;connect&quot;,BluetoothDevice::class.java)\r\n```\r\n 3. Invoke method with proxy as first argument and device as second.\r\n\r\n ``` \r\n connect.invoke(bluetoothA2dp,device)\r\n ```\r\n\r\nOther method used reflection to get `createRfcommSocket` to circumvent issue with one parameter which you can&#39;t normally access. I can post a link to it, but a problem I had with it is that always lagged main thread, always threw me an error and connected unpredictably.\r\n\r\n  [1]: https://developer.android.com/reference/android/bluetooth/BluetoothA2dp.html\r\n  [2]: https://developer.android.com/guide/topics/connectivity/bluetooth#ConnectDevices\r\n  [3]: https://stackoverflow.com/a/18397935/7388221","title":"How to switching audio between Bluetooth audio devices on android using programmatically","body":"<p><a href=\"https://developer.android.com/reference/android/bluetooth/BluetoothA2dp.html\" rel=\"nofollow noreferrer\">Documentation</a> says it can only be connected to a single A2DP device at a time, so you should be able to switch between devices by connecting to device you want to use.\nYou can connect to device by using <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth#ConnectDevices\" rel=\"nofollow noreferrer\">BluetoothSockets</a>.</p>\n<p>EDIT:\nI found other solutions, one which I find reliable. Both of them rely on method reflections.</p>\n<p>First one is from this <a href=\"https://stackoverflow.com/a/18397935/7388221\">post</a>.</p>\n<ol>\n<li>Get BluetoothA2dp proxy from serviceListener</li>\n</ol>\n<pre><code>  bluetoothManager.adapter.getProfileProxy(this, serviceListener, BluetoothProfile.A2DP)\n\n  private val serviceListener = object : BluetoothProfile.ServiceListener {\n      override fun onServiceDisconnected(profile: Int) {\n          if (profile == BluetoothProfile.A2DP) {\n              bluetoothA2dp = null\n          }\n      }\n\n      override fun onServiceConnected(profile: Int, proxy: BluetoothProfile?) {\n          if (profile == BluetoothProfile.A2DP) {\n              handler.post(btSearchRunnable)\n              bluetoothA2dp = proxy as BluetoothA2dp\n          }\n      }\n  }\n</code></pre>\n<ol start=\"2\">\n<li>Get &quot;connect&quot; method from reflection.</li>\n</ol>\n<pre><code>private val connect = BluetoothA2dp::class.java.getDeclaredMethod(&quot;connect&quot;,BluetoothDevice::class.java)\n</code></pre>\n<ol start=\"3\">\n<li>Invoke method with proxy as first argument and device as second.</li>\n</ol>\n<pre><code>connect.invoke(bluetoothA2dp,device)\n</code></pre>\n<p>Other method used reflection to get <code>createRfcommSocket</code> to circumvent issue with one parameter which you can't normally access. I can post a link to it, but a problem I had with it is that always lagged main thread, always threw me an error and connected unpredictably.</p>\n"}],"owner":{"account_id":15941481,"reputation":301,"user_id":11503193,"display_name":"MarkWang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2743,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689245858,"creation_date":1559729971,"question_id":56458582,"body_markdown":"It&#39;s let me confused for a long time.\r\n\r\nI have two bt audio devices connected on android phone, and I want to switch specific bt audio device using programmatically.\r\n\r\nI search keyword about a2dp, media router and audioManager than seems can&#39;t do this thing... \r\n\r\nI only way found the function is:\r\n\r\nBT devices=&gt; A and B connected on an Android phone.\r\nAnd right now the media play to A and I want to switch to B\r\n\r\nStep1: A, B unpair on Android phone.\r\n\r\nStep2: A pair on Android phone.\r\n\r\nStep3: B pair on Android phone.\r\n\r\nThe media play output is B,\r\n\r\nseems lastest pair Bluetooth device is media play output.\r\n\r\n\r\nCan anyone give me some advice or direction? \r\nThanks, guys","title":"How to switching audio between Bluetooth audio devices on android using programmatically","body":"<p>It's let me confused for a long time.</p>\n\n<p>I have two bt audio devices connected on android phone, and I want to switch specific bt audio device using programmatically.</p>\n\n<p>I search keyword about a2dp, media router and audioManager than seems can't do this thing... </p>\n\n<p>I only way found the function is:</p>\n\n<p>BT devices=> A and B connected on an Android phone.\nAnd right now the media play to A and I want to switch to B</p>\n\n<p>Step1: A, B unpair on Android phone.</p>\n\n<p>Step2: A pair on Android phone.</p>\n\n<p>Step3: B pair on Android phone.</p>\n\n<p>The media play output is B,</p>\n\n<p>seems lastest pair Bluetooth device is media play output.</p>\n\n<p>Can anyone give me some advice or direction? \nThanks, guys</p>\n"},{"tags":["java","spring-boot","microservices","keycloak","spring-resttemplate"],"answers":[{"tags":[],"owner":{"account_id":25295091,"reputation":124,"user_id":19120390,"display_name":"Ajaj Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689245528,"creation_date":1689244981,"answer_id":76678470,"question_id":76678357,"body_markdown":"If your `restTemplate` is null,you can simply inject `RestTemplate` through constructor or `@Autowired` annotation.\r\n\r\n```JAVA\r\n@Autowired\r\nprivate RestTemplate restTemplate;\r\n```\r\n\r\nor\r\n\r\n```JAVA\r\npublic class YourClass{\r\n\r\nprivate final RestTemplate restTemplate;\r\n\r\npublic YourClass(RestTemplate restTemplate){\r\nthis.restTemplate=restTemplate;\r\n}\r\n\r\n}\r\n```\r\n\r\n","title":"Cannot invoke&quot;org.springframework.web.client.RestTemplate.getForEntity(String, java.lang.Class, Object[])&quot;&quot;this.restTemplate&quot;null","body":"<p>If your <code>restTemplate</code> is null,you can simply inject <code>RestTemplate</code> through constructor or <code>@Autowired</code> annotation.</p>\n<pre><code>@Autowired\nprivate RestTemplate restTemplate;\n</code></pre>\n<p>or</p>\n<pre><code>public class YourClass{\n\nprivate final RestTemplate restTemplate;\n\npublic YourClass(RestTemplate restTemplate){\nthis.restTemplate=restTemplate;\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":24800295,"reputation":5,"user_id":18682737,"display_name":"Nouhaila Khaouti"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":789,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1689255233,"accepted_answer_id":76678470,"answer_count":1,"score":-1,"last_activity_date":1689245528,"creation_date":1689244089,"question_id":76678357,"body_markdown":"i&#39;m working on an tokenValidationInterceptor , where a request for token validation is send to an other micro-service which communicate with keycloak and send an ok status or unautorazed status , then i add some logic to the prehandle function and that&#39;s all , when i try to test it, i get this error :\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.client.RestTemplate.getForEntity(String, java.lang.Class, Object[])&quot; because &quot;this.restTemplate&quot; is null\r\n``` \r\nTokenValidationInterceptor prehandle method\r\n```\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n        String token = request.getHeader(HttpHeaders.AUTHORIZATION);\r\n        String verificationUrl = &quot;http://localhost:8090/user/info?token=&quot; + token;\r\n        ResponseEntity&lt;Boolean&gt; verificationResponse = restTemplate.getForEntity(verificationUrl, Boolean.class);\r\n        if (verificationResponse.getStatusCode() == HttpStatus.OK &amp;&amp; verificationResponse.getBody() != null &amp;&amp; verificationResponse.getBody()) {\r\n            return true;\r\n        } else {\r\n            response.setStatus(HttpStatus.UNAUTHORIZED.value());\r\n            return false;\r\n        }\r\n    }\r\n```\r\n\r\nAppconfig \r\n\r\n```\r\n@Configuration\r\npublic class AppConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addInterceptors(InterceptorRegistry registry) {\r\n        registry.addInterceptor( new TokenValidationInterceptor());\r\n    }\r\n\r\n    @Bean\r\n    public RestTemplate restTemplate() {\r\n        return new RestTemplate();\r\n    }\r\n\r\n}\r\n```\r\nand for the tokenValidation in the other micro-service\r\n\r\n```\r\npublic ResponseEntity&lt;?&gt; verifyToken(String token) {\r\n            String keycloakUrl = &quot;http://localhost:8080/auth/realms/lbv-realm/protocol/openid-connect/userinfo&quot;;\r\n            if (token != null) {\r\n                HttpHeaders headers = new HttpHeaders();\r\n                headers.setBearerAuth(token);\r\n                HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\r\n                RestTemplate restTemplate = new RestTemplate();\r\n                try {\r\n                    ResponseEntity&lt;String&gt; response = restTemplate.exchange(keycloakUrl, HttpMethod.GET, requestEntity, String.class);\r\n                    HttpStatusCode statusCode = response.getStatusCode();\r\n                    if (statusCode.is2xxSuccessful()) {\r\n                        return ResponseEntity.status(HttpStatus.OK).body(true);\r\n                    } else {\r\n                        return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(false);\r\n                    }\r\n                } catch (Exception ex) {\r\n                    return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(false);\r\n                }\r\n            } else {\r\n                return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(false);\r\n            }\r\n    }\r\n```","title":"Cannot invoke&quot;org.springframework.web.client.RestTemplate.getForEntity(String, java.lang.Class, Object[])&quot;&quot;this.restTemplate&quot;null","body":"<p>i'm working on an tokenValidationInterceptor , where a request for token validation is send to an other micro-service which communicate with keycloak and send an ok status or unautorazed status , then i add some logic to the prehandle function and that's all , when i try to test it, i get this error :</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.client.RestTemplate.getForEntity(String, java.lang.Class, Object[])&quot; because &quot;this.restTemplate&quot; is null\n</code></pre>\n<p>TokenValidationInterceptor prehandle method</p>\n<pre><code>    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        String token = request.getHeader(HttpHeaders.AUTHORIZATION);\n        String verificationUrl = &quot;http://localhost:8090/user/info?token=&quot; + token;\n        ResponseEntity&lt;Boolean&gt; verificationResponse = restTemplate.getForEntity(verificationUrl, Boolean.class);\n        if (verificationResponse.getStatusCode() == HttpStatus.OK &amp;&amp; verificationResponse.getBody() != null &amp;&amp; verificationResponse.getBody()) {\n            return true;\n        } else {\n            response.setStatus(HttpStatus.UNAUTHORIZED.value());\n            return false;\n        }\n    }\n</code></pre>\n<p>Appconfig</p>\n<pre><code>@Configuration\npublic class AppConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor( new TokenValidationInterceptor());\n    }\n\n    @Bean\n    public RestTemplate restTemplate() {\n        return new RestTemplate();\n    }\n\n}\n</code></pre>\n<p>and for the tokenValidation in the other micro-service</p>\n<pre><code>public ResponseEntity&lt;?&gt; verifyToken(String token) {\n            String keycloakUrl = &quot;http://localhost:8080/auth/realms/lbv-realm/protocol/openid-connect/userinfo&quot;;\n            if (token != null) {\n                HttpHeaders headers = new HttpHeaders();\n                headers.setBearerAuth(token);\n                HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\n                RestTemplate restTemplate = new RestTemplate();\n                try {\n                    ResponseEntity&lt;String&gt; response = restTemplate.exchange(keycloakUrl, HttpMethod.GET, requestEntity, String.class);\n                    HttpStatusCode statusCode = response.getStatusCode();\n                    if (statusCode.is2xxSuccessful()) {\n                        return ResponseEntity.status(HttpStatus.OK).body(true);\n                    } else {\n                        return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(false);\n                    }\n                } catch (Exception ex) {\n                    return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(false);\n                }\n            } else {\n                return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(false);\n            }\n    }\n</code></pre>\n"},{"tags":["java","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":1575381,"reputation":12553,"user_id":1461984,"display_name":"pinepain"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1447860447,"creation_date":1374008335,"answer_id":17686861,"question_id":17684848,"body_markdown":"With AMQP protocol (including RabbitMQ implementation) you can&#39;t get such info with 100% guarantee.\r\n\r\nThe closest number to messages count is messages count returned with `queue.declare-ok` ([`AMQP.Queue.DeclareOk`](https://www.rabbitmq.com/releases/rabbitmq-java-client/v3.5.6/rabbitmq-java-client-javadoc-3.5.6/com/rabbitmq/client/AMQP.Queue.DeclareOk.html) in java AMQP client library).\r\n\r\nWhilst messages count you receive with `queue.declare-ok` may match exact messages number enqueues, you can&#39;t rely on it as it doesn&#39;t count messages which waiting acknowledges or published to queue during transaction but not committed yet.\r\n\r\nIt really depends what kind of precission do you need.\r\n\r\nAs to enqueued messages body, you may want to manually extract all messages in queue, view their body and put them back to queue. This is the only way to do what you want.\r\n\r\nYou can get some information about messages count with [Management Plugin](http://www.rabbitmq.com/management.html), [RabbitMQ Management HTTP API](http://hg.rabbitmq.com/rabbitmq-management/raw-file/3646dee55e02/priv/www-api/help.html) and [rabbitmqctl](http://www.rabbitmq.com/man/rabbitmqctl.1.man.html) util (see list_queues, list_channels).\r\n\r\nYou can&#39;t get total published messages count since queue was created and I think nobody implement such stats while it useless (FYI, with messages flow in average 10k per second you will not even reach uint64 in a few thousand years).","title":"RabbitMQ - Get total count of messages enqueued","body":"<p>With AMQP protocol (including RabbitMQ implementation) you can't get such info with 100% guarantee.</p>\n\n<p>The closest number to messages count is messages count returned with <code>queue.declare-ok</code> (<a href=\"https://www.rabbitmq.com/releases/rabbitmq-java-client/v3.5.6/rabbitmq-java-client-javadoc-3.5.6/com/rabbitmq/client/AMQP.Queue.DeclareOk.html\" rel=\"noreferrer\"><code>AMQP.Queue.DeclareOk</code></a> in java AMQP client library).</p>\n\n<p>Whilst messages count you receive with <code>queue.declare-ok</code> may match exact messages number enqueues, you can't rely on it as it doesn't count messages which waiting acknowledges or published to queue during transaction but not committed yet.</p>\n\n<p>It really depends what kind of precission do you need.</p>\n\n<p>As to enqueued messages body, you may want to manually extract all messages in queue, view their body and put them back to queue. This is the only way to do what you want.</p>\n\n<p>You can get some information about messages count with <a href=\"http://www.rabbitmq.com/management.html\" rel=\"noreferrer\">Management Plugin</a>, <a href=\"http://hg.rabbitmq.com/rabbitmq-management/raw-file/3646dee55e02/priv/www-api/help.html\" rel=\"noreferrer\">RabbitMQ Management HTTP API</a> and <a href=\"http://www.rabbitmq.com/man/rabbitmqctl.1.man.html\" rel=\"noreferrer\">rabbitmqctl</a> util (see list_queues, list_channels).</p>\n\n<p>You can't get total published messages count since queue was created and I think nobody implement such stats while it useless (FYI, with messages flow in average 10k per second you will not even reach uint64 in a few thousand years).</p>\n"},{"tags":[],"owner":{"account_id":4155696,"reputation":151,"user_id":3407051,"display_name":"Giumbix"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1400591712,"creation_date":1400590473,"answer_id":23760454,"question_id":17684848,"body_markdown":"    AMQP.Queue.DeclareOk dok = channel.queueDeclare(QUEUE_NAME, true, false, false, queueArgs);\r\n    dok.getMessageCount();","title":"RabbitMQ - Get total count of messages enqueued","body":"<pre><code>AMQP.Queue.DeclareOk dok = channel.queueDeclare(QUEUE_NAME, true, false, false, queueArgs);\ndok.getMessageCount();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2338750,"reputation":2396,"user_id":2050511,"display_name":"Hemant Thorat"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1689245439,"creation_date":1495715438,"answer_id":44180635,"question_id":17684848,"body_markdown":"To access queue details via http api,\r\n\r\n`http://public-domain-name:15672/api/queues/%2f/queue_name`\r\n\r\nTo access queue details via command from localhost cli promt,\r\n\r\n`curl -i -u guest_uname:guest_password http://localhost:15672/api/queues/%2f/queue_name`\r\n\r\nWhere, \r\n&#39;%2f&#39; is default vhost `/`. (%2f URL encoding of `/` character)\r\n\r\n[NOTE - As mentioned in comment, management plugin needs to be enabled.]","title":"RabbitMQ - Get total count of messages enqueued","body":"<p>To access queue details via http api,</p>\n<p><code>http://public-domain-name:15672/api/queues/%2f/queue_name</code></p>\n<p>To access queue details via command from localhost cli promt,</p>\n<p><code>curl -i -u guest_uname:guest_password http://localhost:15672/api/queues/%2f/queue_name</code></p>\n<p>Where,\n'%2f' is default vhost <code>/</code>. (%2f URL encoding of <code>/</code> character)</p>\n<p>[NOTE - As mentioned in comment, management plugin needs to be enabled.]</p>\n"}],"owner":{"account_id":2682683,"reputation":291,"user_id":2317698,"accept_rate":86,"display_name":"Code Geass"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53684,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":17686861,"answer_count":3,"score":16,"last_activity_date":1689245439,"creation_date":1374001185,"question_id":17684848,"body_markdown":"I have a Java client which monitors RabbitMQ queue. I am able to get the count of messages currently in queue with this code\r\n\r\n    @Resource\r\n\tRabbitAdmin rabbitAdmin;\r\n    ..........\r\n\r\n    DeclareOk declareOk = rabbitAdmin.getRabbitTemplate().execute(new ChannelCallback&lt;DeclareOk&gt;() {\r\n\t        public DeclareOk doInRabbit(Channel channel) throws Exception {\r\n\t            return channel.queueDeclarePassive(&quot;test.pending&quot;);\r\n\t        }\r\n\t    });\r\n\t     return declareOk.getMessageCount();\r\n\r\nI want to get some more additional details like  - \r\n\r\n 1. Message body of currently enqueued items.\r\n 2. Total number of messages that was enqueued in the queue since the queue was created.\r\n\r\nIs there any way to retrieve these data in Java client? \r\n\r\n\r\n\r\n ","title":"RabbitMQ - Get total count of messages enqueued","body":"<p>I have a Java client which monitors RabbitMQ queue. I am able to get the count of messages currently in queue with this code</p>\n\n<pre><code>@Resource\nRabbitAdmin rabbitAdmin;\n..........\n\nDeclareOk declareOk = rabbitAdmin.getRabbitTemplate().execute(new ChannelCallback&lt;DeclareOk&gt;() {\n        public DeclareOk doInRabbit(Channel channel) throws Exception {\n            return channel.queueDeclarePassive(\"test.pending\");\n        }\n    });\n     return declareOk.getMessageCount();\n</code></pre>\n\n<p>I want to get some more additional details like  - </p>\n\n<ol>\n<li>Message body of currently enqueued items.</li>\n<li>Total number of messages that was enqueued in the queue since the queue was created.</li>\n</ol>\n\n<p>Is there any way to retrieve these data in Java client? </p>\n"},{"tags":["java","eclipse","selenium","drag-and-drop","testng-eclipse"],"answers":[{"tags":[],"owner":{"account_id":26052796,"reputation":1,"user_id":19755674,"display_name":"talvi8942"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661874718,"creation_date":1661449747,"answer_id":73491792,"question_id":73476047,"body_markdown":"To anyone who needs a solution, you can use: \r\n\r\n    action.moveToElement(element);\r\n    \r\n    action.keyDown(Keys.LEFT_CONTROL).click().build().perform();\r\n\r\nThis worked for me.\r\n","title":"Selenium chrome driver hangs while using action.dragAndDrop ( waiting for physical mouse movment )","body":"<p>To anyone who needs a solution, you can use:</p>\n<pre><code>action.moveToElement(element);\n\naction.keyDown(Keys.LEFT_CONTROL).click().build().perform();\n</code></pre>\n<p>This worked for me.</p>\n"}],"owner":{"account_id":26052796,"reputation":1,"user_id":19755674,"display_name":"talvi8942"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689244709,"creation_date":1661355626,"question_id":73476047,"body_markdown":"I am trying to use drag and drop action on this site https://app.involve.me/ \r\n\r\nThe steps I am doing are :\r\n1. login to the site \r\n2. creating a new project from scratch \r\n3. Try to drag and drop an item from the list on the right side( no matter what item).\r\nevery time I drag item selenium will hang until I move my physical mouse and only then \r\nselenium will continue the test \r\n\r\nI use TestNG with selenium 4.3.0\r\n \r\n[selenium hangs][1]\r\n\r\n**my code:** \r\n\r\npublic void dragAndDropCleanPage(String imageName) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\tWebElement to = driver.findElement(By.cssSelector(&quot;[class=&#39;e-target-dropzone vcentered bgfixed center-center&#39;]&quot;));\r\n\t\t\tList&lt;WebElement&gt; listOfImages = imageList;\r\n\t\t\tfor(WebElement el : listOfImages ) {\r\n\t\t\t\tWebElement text = el.findElement(By.cssSelector(&quot;[class=&#39;v-title&#39;] p&quot;));\r\n\t\t\t\tif(getText(text).equalsIgnoreCase(imageName)){\r\n\t\t\t\t\tWebElement drag = el;\r\n\t\t\t\t\tActions act = new Actions(driver);\r\n\t\t\t\t\tact.clickAndHold(drag)\r\n\t\t\t\t\t.pause(Duration.ofSeconds(1))\r\n\t\t\t\t\t.moveToElement(to)\r\n\t\t\t\t\t.pause(Duration.ofSeconds(1))\r\n\t\t\t\t\t.moveByOffset(0,1)\r\n\t\t\t\t\t.pause(Duration.ofSeconds(1))\r\n\t\t\t\t\t.release(to)\r\n\t\t\t\t\t.pause(Duration.ofSeconds(1))\r\n\t\t\t\t\t.build().perform();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Did not find the requested item&quot;);\r\n\t\t}\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bNeIP.png\r\n\r\nthis is the loop I use to pick the right item by name ( I use pageFactory for finding elements )\r\n\r\nI tried all solutions - action drag and drop javascript executer, etc...\r\n\r\nif someone will be able to solve my problem it will be great \r\nthanks. ","title":"Selenium chrome driver hangs while using action.dragAndDrop ( waiting for physical mouse movment )","body":"<p>I am trying to use drag and drop action on this site <a href=\"https://app.involve.me/\" rel=\"nofollow noreferrer\">https://app.involve.me/</a></p>\n<p>The steps I am doing are :</p>\n<ol>\n<li>login to the site</li>\n<li>creating a new project from scratch</li>\n<li>Try to drag and drop an item from the list on the right side( no matter what item).\nevery time I drag item selenium will hang until I move my physical mouse and only then\nselenium will continue the test</li>\n</ol>\n<p>I use TestNG with selenium 4.3.0</p>\n<p><a href=\"https://i.stack.imgur.com/bNeIP.png\" rel=\"nofollow noreferrer\">selenium hangs</a></p>\n<p><strong>my code:</strong></p>\n<p>public void dragAndDropCleanPage(String imageName) {</p>\n<pre><code>    try {\n        WebElement to = driver.findElement(By.cssSelector(&quot;[class='e-target-dropzone vcentered bgfixed center-center']&quot;));\n        List&lt;WebElement&gt; listOfImages = imageList;\n        for(WebElement el : listOfImages ) {\n            WebElement text = el.findElement(By.cssSelector(&quot;[class='v-title'] p&quot;));\n            if(getText(text).equalsIgnoreCase(imageName)){\n                WebElement drag = el;\n                Actions act = new Actions(driver);\n                act.clickAndHold(drag)\n                .pause(Duration.ofSeconds(1))\n                .moveToElement(to)\n                .pause(Duration.ofSeconds(1))\n                .moveByOffset(0,1)\n                .pause(Duration.ofSeconds(1))\n                .release(to)\n                .pause(Duration.ofSeconds(1))\n                .build().perform();\n                break;\n            }\n        }\n    }catch (Exception e) {\n        System.out.println(&quot;Did not find the requested item&quot;);\n    }\n</code></pre>\n<p>this is the loop I use to pick the right item by name ( I use pageFactory for finding elements )</p>\n<p>I tried all solutions - action drag and drop javascript executer, etc...</p>\n<p>if someone will be able to solve my problem it will be great\nthanks.</p>\n"},{"tags":["java","spring","junit","mockito"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1689222478,"post_id":76675532,"comment_id":135183387,"body_markdown":"Does `fullPath` resolve to the same value each time? Try debugging it.","body":"Does <code>fullPath</code> resolve to the same value each time? Try debugging it."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1689231790,"post_id":76675532,"comment_id":135184651,"body_markdown":"Why do you spy on `BaseTest`? You are not verifying anything on it.","body":"Why do you spy on <code>BaseTest</code>? You are not verifying anything on it."},{"owner":{"account_id":4072699,"reputation":25,"user_id":3345162,"display_name":"user591"},"score":0,"creation_date":1689244483,"post_id":76675532,"comment_id":135187248,"body_markdown":"@knittl Even we remove spy on BaseTest, it won&#39;t work","body":"@knittl Even we remove spy on BaseTest, it won&#39;t work"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1689245940,"post_id":76675532,"comment_id":135187583,"body_markdown":"@user591 wait, I&#39;m confused now. You are extending `BaseTest`. Why are you instantiating an instance of the base class in the child class? Either you extend or you compose. You can&#39;t do both (well, obviously you can; but you shouldn&#39;t)","body":"@user591 wait, I&#39;m confused now. You are extending <code>BaseTest</code>. Why are you instantiating an instance of the base class in the child class? Either you extend or you compose. You can&#39;t do both (well, obviously you can; but you shouldn&#39;t)"}],"owner":{"account_id":4072699,"reputation":25,"user_id":3345162,"display_name":"user591"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689244536,"creation_date":1689215560,"question_id":76675532,"body_markdown":"Use Case: I want to load some dummy data from a json file using parent method in mockito.\r\nWhen **initialize** method of parent class is invoked, **Files.exists** returns false whereas when I debug **initialize** method using main method it works. \r\n\r\n     //child class\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class UPIPreNotifyServiceTest extends BaseTest {\r\n        @Mock\r\n        private ISubscriptionContractv2Dao iSubscriptionContractv2Dao;\r\n    \r\n        @Test\r\n        public void testPreNotifyService() {\r\n            BaseTest baseTest = new BaseTest();\r\n            JsonElement jsonElement = baseTest.initialize();\r\n            JsonElement element = this.jsonObject.get(&quot;contract_with_active_status&quot;);\r\n            SubscriptionContractv2 subscriptionContractv2 = new Gson().fromJson(element,SubscriptionContractv2.class);\r\n            String subsPaymode = subscriptionContractv2.getSubsPaymentMode();\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\n    //Parent class\r\n    @Slf4j\r\n    public class BaseTest {\r\n        public JsonObject jsonObject;\r\n        private static String FILE_NAME = &quot;/subscription/src/test/jsonObject.json&quot;;\r\n    \r\n        public JsonObject initialize() {\r\n            try {\r\n                String workingDir = System.getProperty(&quot;user.dir&quot;);\r\n                String fullPath = workingDir + FILE_NAME;\r\n                if(Files.exists(Paths.get(fullPath))) { // It always gives me false but when i call this piece of code using main method this works\r\n                    JsonParser parser = new JsonParser();\r\n                    JsonReader reader = new JsonReader(new FileReader(fullPath));\r\n                    this.jsonObject = parser.parse(reader).getAsJsonObject();\r\n                    return jsonObject;\r\n                }\r\n            } catch (FileNotFoundException e) {\r\n                log.error(&quot;File not found with name: {}&quot;,FILE_NAME);\r\n            } catch (Throwable e) {\r\n                log.error(&quot;Exception occurred while loading json file&quot;,e);\r\n            }\r\n            return null;\r\n        }\r\n    }","title":"Why Files.exist() method not working in MockitoJUnitRunner","body":"<p>Use Case: I want to load some dummy data from a json file using parent method in mockito.\nWhen <strong>initialize</strong> method of parent class is invoked, <strong>Files.exists</strong> returns false whereas when I debug <strong>initialize</strong> method using main method it works.</p>\n<pre><code> //child class\n@RunWith(MockitoJUnitRunner.class)\npublic class UPIPreNotifyServiceTest extends BaseTest {\n    @Mock\n    private ISubscriptionContractv2Dao iSubscriptionContractv2Dao;\n\n    @Test\n    public void testPreNotifyService() {\n        BaseTest baseTest = new BaseTest();\n        JsonElement jsonElement = baseTest.initialize();\n        JsonElement element = this.jsonObject.get(&quot;contract_with_active_status&quot;);\n        SubscriptionContractv2 subscriptionContractv2 = new Gson().fromJson(element,SubscriptionContractv2.class);\n        String subsPaymode = subscriptionContractv2.getSubsPaymentMode();\n\n    }\n}\n\n\n\n//Parent class\n@Slf4j\npublic class BaseTest {\n    public JsonObject jsonObject;\n    private static String FILE_NAME = &quot;/subscription/src/test/jsonObject.json&quot;;\n\n    public JsonObject initialize() {\n        try {\n            String workingDir = System.getProperty(&quot;user.dir&quot;);\n            String fullPath = workingDir + FILE_NAME;\n            if(Files.exists(Paths.get(fullPath))) { // It always gives me false but when i call this piece of code using main method this works\n                JsonParser parser = new JsonParser();\n                JsonReader reader = new JsonReader(new FileReader(fullPath));\n                this.jsonObject = parser.parse(reader).getAsJsonObject();\n                return jsonObject;\n            }\n        } catch (FileNotFoundException e) {\n            log.error(&quot;File not found with name: {}&quot;,FILE_NAME);\n        } catch (Throwable e) {\n            log.error(&quot;Exception occurred while loading json file&quot;,e);\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","tomcat"],"owner":{"account_id":19504418,"reputation":1,"user_id":14269770,"display_name":"KJ4 Saeko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689244390,"creation_date":1689244390,"question_id":76678396,"body_markdown":"I&#39;ve a spring boot app deployed on an external linux server. \r\n\r\nWhen I tried to run this app , I used netstat -tulpn to check \r\n\r\n    0 :::8081                 :::*                    LISTEN      xxx/java\r\n\r\nI can see that the tomcat in this app is running well. \r\n\r\nMy question is, how can I redirect the localhost url&#39;s to test.webapp.test.fr (for example) on my windows browser ? (assuming that roots/proxy are open) \r\n\r\napplication.properties : \r\n\r\n    server.port=8081\r\n    server.servlet.context-path=/ui-web\r\n    classic-url=http://localhost:8080/webclient\r\n    authentication-url=http://localhost:8080/webclient\r\n    data-url=http://localhost:8082/data-web\r\n    base-url=http://localhost:8082/data-web\r\n\r\nThank you for help\r\n\r\n\r\n\r\n\r\n","title":"Deploy spring boot web app on external linux server and access on windows browser","body":"<p>I've a spring boot app deployed on an external linux server.</p>\n<p>When I tried to run this app , I used netstat -tulpn to check</p>\n<pre><code>0 :::8081                 :::*                    LISTEN      xxx/java\n</code></pre>\n<p>I can see that the tomcat in this app is running well.</p>\n<p>My question is, how can I redirect the localhost url's to test.webapp.test.fr (for example) on my windows browser ? (assuming that roots/proxy are open)</p>\n<p>application.properties :</p>\n<pre><code>server.port=8081\nserver.servlet.context-path=/ui-web\nclassic-url=http://localhost:8080/webclient\nauthentication-url=http://localhost:8080/webclient\ndata-url=http://localhost:8082/data-web\nbase-url=http://localhost:8082/data-web\n</code></pre>\n<p>Thank you for help</p>\n"},{"tags":["java","android","animation","android-fragments"],"comments":[{"owner":{"account_id":359338,"reputation":918,"user_id":700693,"accept_rate":79,"display_name":"Evren Ozturk"},"score":0,"creation_date":1405496061,"post_id":22682790,"comment_id":38445032,"body_markdown":"Did you found any answer? I have the same problem and no solution so far...","body":"Did you found any answer? I have the same problem and no solution so far..."},{"owner":{"account_id":1816933,"reputation":504,"user_id":1651851,"accept_rate":45,"display_name":"Siruk Viktor"},"score":0,"creation_date":1405761074,"post_id":22682790,"comment_id":38565290,"body_markdown":"@PsyCoder unfortunately unable to quickly and elegantly solve this problem - lack of time had to use multiple containers for one fragment manager - it&#39;s certainly a bad practice and dirty work","body":"@PsyCoder unfortunately unable to quickly and elegantly solve this problem - lack of time had to use multiple containers for one fragment manager - it&#39;s certainly a bad practice and dirty work"},{"owner":{"account_id":2161209,"reputation":7482,"user_id":1915323,"accept_rate":42,"display_name":"Dory"},"score":0,"creation_date":1421048066,"post_id":22682790,"comment_id":44194708,"body_markdown":"How did you solve this problem, please guide more.","body":"How did you solve this problem, please guide more."}],"answers":[{"tags":[],"owner":{"account_id":3219379,"reputation":158,"user_id":2717178,"display_name":"Dima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395911523,"creation_date":1395911523,"answer_id":22682881,"question_id":22682790,"body_markdown":"something like Zoom-out page transformer?? http://developer.android.com/training/animation/screen-slide.html","title":"FragmentTransaction animation - show enter fragment above exit fragment","body":"<p>something like Zoom-out page transformer?? <a href=\"http://developer.android.com/training/animation/screen-slide.html\" rel=\"nofollow\">http://developer.android.com/training/animation/screen-slide.html</a></p>\n"},{"tags":[],"owner":{"account_id":1320290,"reputation":301,"user_id":1266274,"display_name":"TienDC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397129886,"creation_date":1397129886,"answer_id":22986956,"question_id":22682790,"body_markdown":"I think you could try the following approach as a work around.\r\n\r\n\r\n    fragmentTr.setCustomAnimations(enter, exit);\r\n    fragmentTr.hide(currentFragment);\r\n    fragmentTr.add(containerId, newFragment, &quot;aTag&quot;);\r\n    fragmentTr.show(newFragment);\r\n    fragmentTr.commit();\r\n\r\nDo not use replace(). I tried the above approach, and it worked.\r\nHope this helps.","title":"FragmentTransaction animation - show enter fragment above exit fragment","body":"<p>I think you could try the following approach as a work around.</p>\n\n<pre><code>fragmentTr.setCustomAnimations(enter, exit);\nfragmentTr.hide(currentFragment);\nfragmentTr.add(containerId, newFragment, \"aTag\");\nfragmentTr.show(newFragment);\nfragmentTr.commit();\n</code></pre>\n\n<p>Do not use replace(). I tried the above approach, and it worked.\nHope this helps.</p>\n"},{"tags":[],"owner":{"account_id":8898152,"reputation":1,"user_id":6642400,"display_name":"EastWood Yang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473705572,"creation_date":1469676469,"answer_id":38626592,"question_id":22682790,"body_markdown":"    ViewCompat.setTranslation(getView, 100.f);\r\n\r\nlook for https://stackoverflow.com/a/33816251/6642400","title":"FragmentTransaction animation - show enter fragment above exit fragment","body":"<pre><code>ViewCompat.setTranslation(getView, 100.f);\n</code></pre>\n\n<p>look for <a href=\"https://stackoverflow.com/a/33816251/6642400\">https://stackoverflow.com/a/33816251/6642400</a></p>\n"},{"tags":[],"owner":{"account_id":15988224,"reputation":49,"user_id":19224324,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689244174,"creation_date":1689244174,"answer_id":76678367,"question_id":22682790,"body_markdown":"I haved a similar situation. Here is my solution \r\n\r\nhttps://stackoverflow.com/questions/76671341/incoming-fragment-must-to-be-displayed-above-the-outgoing-fragment\r\n\r\nNeed to hide first current fragment.","title":"FragmentTransaction animation - show enter fragment above exit fragment","body":"<p>I haved a similar situation. Here is my solution</p>\n<p><a href=\"https://stackoverflow.com/questions/76671341/incoming-fragment-must-to-be-displayed-above-the-outgoing-fragment\">Incoming fragment must to be displayed above the outgoing fragment</a></p>\n<p>Need to hide first current fragment.</p>\n"}],"owner":{"account_id":1816933,"reputation":504,"user_id":1651851,"accept_rate":45,"display_name":"Siruk Viktor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1870,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1689244174,"creation_date":1395911313,"question_id":22682790,"body_markdown":"When you use are examined animation shift fragments (outgoing fragment has a longer duration than the animation comes fragment) faced with the fact that the fragment comes time animation falls under the outgoing fragment - I expected it to be animated over the outgoing fragment. Who knows how to achieve the desired effect it?\r\n\r\nfirst fragment add:\r\n\r\n    fragmentManager.beginTransaction().add(R.id.frame_layout_fragments_container, new FragmentHome(), &quot;home&quot;).commit();\r\n\r\nreplace fragment:\r\n\r\n    fragmentManager.beginTransaction().setCustomAnimations(R.anim.forward_show, R.anim.forward_hide, R.anim.back_show, R.anim.back_hide).replace(R.id.frame_layout_fragments_container, fragment, fragmentName).commit();\r\n\r\nsimple illustrations\r\n\r\nnow I have:\r\n![enter image description here][1]\r\n\r\nwhat I need:\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/w97H6.png\r\n  [2]: http://i.stack.imgur.com/WjI89.png","title":"FragmentTransaction animation - show enter fragment above exit fragment","body":"<p>When you use are examined animation shift fragments (outgoing fragment has a longer duration than the animation comes fragment) faced with the fact that the fragment comes time animation falls under the outgoing fragment - I expected it to be animated over the outgoing fragment. Who knows how to achieve the desired effect it?</p>\n\n<p>first fragment add:</p>\n\n<pre><code>fragmentManager.beginTransaction().add(R.id.frame_layout_fragments_container, new FragmentHome(), \"home\").commit();\n</code></pre>\n\n<p>replace fragment:</p>\n\n<pre><code>fragmentManager.beginTransaction().setCustomAnimations(R.anim.forward_show, R.anim.forward_hide, R.anim.back_show, R.anim.back_hide).replace(R.id.frame_layout_fragments_container, fragment, fragmentName).commit();\n</code></pre>\n\n<p>simple illustrations</p>\n\n<p>now I have:\n<img src=\"https://i.stack.imgur.com/w97H6.png\" alt=\"enter image description here\"></p>\n\n<p>what I need:\n<img src=\"https://i.stack.imgur.com/WjI89.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","hash","ant","md5","checksum"],"comments":[{"owner":{"account_id":93866,"reputation":76253,"user_id":256618,"display_name":"Mark O&#39;Connor"},"score":0,"creation_date":1423346429,"post_id":28384784,"comment_id":45113361,"body_markdown":"Write a script that collects together all the individual checksum files.","body":"Write a script that collects together all the individual checksum files."}],"answers":[{"tags":[],"owner":{"account_id":452928,"reputation":988,"user_id":849644,"accept_rate":53,"display_name":"It&#39;s Leto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1423393618,"creation_date":1423393618,"answer_id":28393221,"question_id":28384784,"body_markdown":"Based on Mark&#39;s comment to the original question, I managed to put the following ant script together (note that ant-contrib is needed, at least version 0.6):\r\n\r\n\t\t\r\n\r\n    &lt;for param=&quot;file&quot;&gt;\r\n        &lt;path&gt;\r\n            &lt;fileset dir=&quot;${dist}/.&quot; /&gt;\r\n        &lt;/path&gt;\r\n        &lt;sequential&gt;\r\n            &lt;local name=&quot;md5&quot; /&gt;\r\n            &lt;local name=&quot;relativeFile&quot; /&gt;\r\n\r\n            &lt;checksum file=&quot;@{file}&quot; algorithm=&quot;md5&quot; format=&quot;MD5SUM&quot; property=&quot;md5&quot;/&gt;\r\n            &lt;property name=&quot;relativeFile&quot; location=&quot;@{file}&quot; basedir=&quot;${dist}&quot; relative=&quot;true&quot; /&gt;\r\n            &lt;echo file=&quot;checksums.md5&quot; append=&quot;true&quot;&gt;${md5} *${relativeFile}\r\n    &lt;/echo&gt;\r\n        &lt;/sequential&gt;\r\n    &lt;/for&gt;\r\n\r\n\r\nThis script iterates (`for`) over a path/fileset in my dist-directory (all distribution files, so the files ready for deployment) and uses the `&lt;checksum../&gt;`task to calcuate the checksum for each file, writing the MD5 hash into `md5`.\r\n\r\nNote that it is important to set `md5` and `relativeFile` as &quot;local&quot; via the `&lt;local... /&gt;` task, so the property can be re-set within that for-loop.\r\n\r\nThe `&lt;property name=&quot;relativeFile&quot;... /&gt;` task converts the absolute file paths (`@{file}`) to relative ones based on my dist-directory (`${dist}`).\r\n\r\nLast, the `&lt;echo... /&gt;` task  writes / appends the md5 hash and the filename in the MD5-format to the &quot;checksums.md5&quot; file (note that your script should delete that file before the for-loop, because `echo` does append new entries (`append=&quot;true&quot;`).\r\n\r\nThe indentation of the code is correct: the last `&lt;/echo&gt;` must be at &quot;depth 0&quot; indentation, so no whitespaces or tabs get written to the outputfile.\r\n","title":"Ant / checksum: How to generate one .md5 file for several files (resulting in md5-file with multiple lines)","body":"<p>Based on Mark's comment to the original question, I managed to put the following ant script together (note that ant-contrib is needed, at least version 0.6):</p>\n\n<pre><code>&lt;for param=\"file\"&gt;\n    &lt;path&gt;\n        &lt;fileset dir=\"${dist}/.\" /&gt;\n    &lt;/path&gt;\n    &lt;sequential&gt;\n        &lt;local name=\"md5\" /&gt;\n        &lt;local name=\"relativeFile\" /&gt;\n\n        &lt;checksum file=\"@{file}\" algorithm=\"md5\" format=\"MD5SUM\" property=\"md5\"/&gt;\n        &lt;property name=\"relativeFile\" location=\"@{file}\" basedir=\"${dist}\" relative=\"true\" /&gt;\n        &lt;echo file=\"checksums.md5\" append=\"true\"&gt;${md5} *${relativeFile}\n&lt;/echo&gt;\n    &lt;/sequential&gt;\n&lt;/for&gt;\n</code></pre>\n\n<p>This script iterates (<code>for</code>) over a path/fileset in my dist-directory (all distribution files, so the files ready for deployment) and uses the <code>&lt;checksum../&gt;</code>task to calcuate the checksum for each file, writing the MD5 hash into <code>md5</code>.</p>\n\n<p>Note that it is important to set <code>md5</code> and <code>relativeFile</code> as \"local\" via the <code>&lt;local... /&gt;</code> task, so the property can be re-set within that for-loop.</p>\n\n<p>The <code>&lt;property name=\"relativeFile\"... /&gt;</code> task converts the absolute file paths (<code>@{file}</code>) to relative ones based on my dist-directory (<code>${dist}</code>).</p>\n\n<p>Last, the <code>&lt;echo... /&gt;</code> task  writes / appends the md5 hash and the filename in the MD5-format to the \"checksums.md5\" file (note that your script should delete that file before the for-loop, because <code>echo</code> does append new entries (<code>append=\"true\"</code>).</p>\n\n<p>The indentation of the code is correct: the last <code>&lt;/echo&gt;</code> must be at \"depth 0\" indentation, so no whitespaces or tabs get written to the outputfile.</p>\n"},{"tags":[],"owner":{"account_id":1642242,"reputation":1062,"user_id":1514467,"accept_rate":83,"display_name":"rednoah"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1434399219,"creation_date":1434399219,"answer_id":30854192,"question_id":28384784,"body_markdown":"You can use the checksum task to create the checksum files for each file and then the concat task to combine them into one file.\r\n\r\n\t\t&lt;checksum algorithm=&quot;SHA-256&quot; fileext=&quot;.sha256&quot; format=&quot;MD5SUM&quot; todir=&quot;${dir.cache}/sha/${version}&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;${dir.release}&quot; /&gt;\r\n\t\t&lt;/checksum&gt;\r\n\t\t&lt;concat destfile=&quot;${dir.release}/DIGEST.sha256sum&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;${dir.cache}/sha/${version}&quot; /&gt;\r\n\t\t&lt;/concat&gt;\r\n","title":"Ant / checksum: How to generate one .md5 file for several files (resulting in md5-file with multiple lines)","body":"<p>You can use the checksum task to create the checksum files for each file and then the concat task to combine them into one file.</p>\n\n<pre><code>    &lt;checksum algorithm=\"SHA-256\" fileext=\".sha256\" format=\"MD5SUM\" todir=\"${dir.cache}/sha/${version}\"&gt;\n        &lt;fileset dir=\"${dir.release}\" /&gt;\n    &lt;/checksum&gt;\n    &lt;concat destfile=\"${dir.release}/DIGEST.sha256sum\"&gt;\n        &lt;fileset dir=\"${dir.cache}/sha/${version}\" /&gt;\n    &lt;/concat&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1627501,"reputation":43,"user_id":1502707,"display_name":"Karthik_Rajendiran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689243816,"creation_date":1689243816,"answer_id":76678324,"question_id":28384784,"body_markdown":"Ant CheckSUm task can be combined with Apache Ant Contrib Plugin.\r\n\r\nAnt Contrib Plugin has `foreach` tag for achieving /iterating list of files in directory \r\n\r\n **1. Define Ant Contrib.**\r\n \r\n\r\n    &lt;taskdef resource=&quot;net/sf/antcontrib/antlib.xml&quot;&gt;\r\n        &lt;classpath&gt;`&lt;br/&gt;\r\n            &lt;pathelement location=&quot;${lib.dir}/ant-contrib.jar&quot; /&gt;\r\n        &lt;/classpath&gt;`\r\n    &lt;/taskdef&gt;`\r\n\r\n \r\n**2. For Each- File in Directory to Generate CheckSum For** \r\n\r\n    \r\n    &lt;target name=&quot;checksum:config&quot; description=&quot;To generate checksum&quot;&gt;\r\n      &lt;foreach target=&quot;do:checksum&quot; param=&quot;srcFile&quot; inheritall=&quot;true&quot;&gt;\r\n        &lt;path&gt;\r\n          &lt;fileset dir=&quot;${appconfig1.dir}&quot; casesensitive=&quot;yes&quot;&gt;\r\n            &lt;include name=&quot;**/*.template&quot; /&gt;\r\n           &lt;include name=&quot;**/*.properties&quot; /&gt;\r\n            &lt;/fileset&gt;\r\n        &lt;/path&gt;\r\n      &lt;/foreach&gt;\r\n    &lt;/target&gt;\r\n\r\nNote: appConfig1.dir - Is the Directory in which Files to be scanned are kept\r\n\r\n**3. Calculating Checksum and adding to single File**\r\n\r\n \r\n\r\n    &lt;target name=&quot;do:checksum&quot;&gt;\r\n      &lt;echo message=&quot;File Found ${srcFile}&quot; /&gt;\r\n      &lt;checksum file=&quot;${srcFile}&quot; algorithm=&quot;SHA-256&quot; fileext=&quot;.SHA256&quot; /&gt;\r\n      &lt;loadfile property=&quot;checkSumFileContent&quot; srcfile=&quot;${srcFile}.SHA256&quot; /&gt;\r\n      &lt;basename property=&quot;fileName&quot; file=&quot;${srcFile}.SHA256&quot; suffix=&quot;.SHA256&quot; /&gt;\r\n      &lt;echo file=&quot;ConsolidatedFileS.txt.SHA256&quot; append=&quot;true&quot;&gt; ${fileName} - ${checkSumFileContent} &lt;/echo&gt;\r\n    &lt;/target&gt;\r\n\r\n\r\n","title":"Ant / checksum: How to generate one .md5 file for several files (resulting in md5-file with multiple lines)","body":"<p>Ant CheckSUm task can be combined with Apache Ant Contrib Plugin.</p>\n<p>Ant Contrib Plugin has <code>foreach</code> tag for achieving /iterating list of files in directory</p>\n<p><strong>1. Define Ant Contrib.</strong></p>\n<pre><code>&lt;taskdef resource=&quot;net/sf/antcontrib/antlib.xml&quot;&gt;\n    &lt;classpath&gt;`&lt;br/&gt;\n        &lt;pathelement location=&quot;${lib.dir}/ant-contrib.jar&quot; /&gt;\n    &lt;/classpath&gt;`\n&lt;/taskdef&gt;`\n</code></pre>\n<p><strong>2. For Each- File in Directory to Generate CheckSum For</strong></p>\n<pre><code>&lt;target name=&quot;checksum:config&quot; description=&quot;To generate checksum&quot;&gt;\n  &lt;foreach target=&quot;do:checksum&quot; param=&quot;srcFile&quot; inheritall=&quot;true&quot;&gt;\n    &lt;path&gt;\n      &lt;fileset dir=&quot;${appconfig1.dir}&quot; casesensitive=&quot;yes&quot;&gt;\n        &lt;include name=&quot;**/*.template&quot; /&gt;\n       &lt;include name=&quot;**/*.properties&quot; /&gt;\n        &lt;/fileset&gt;\n    &lt;/path&gt;\n  &lt;/foreach&gt;\n&lt;/target&gt;\n</code></pre>\n<p>Note: appConfig1.dir - Is the Directory in which Files to be scanned are kept</p>\n<p><strong>3. Calculating Checksum and adding to single File</strong></p>\n<pre><code>&lt;target name=&quot;do:checksum&quot;&gt;\n  &lt;echo message=&quot;File Found ${srcFile}&quot; /&gt;\n  &lt;checksum file=&quot;${srcFile}&quot; algorithm=&quot;SHA-256&quot; fileext=&quot;.SHA256&quot; /&gt;\n  &lt;loadfile property=&quot;checkSumFileContent&quot; srcfile=&quot;${srcFile}.SHA256&quot; /&gt;\n  &lt;basename property=&quot;fileName&quot; file=&quot;${srcFile}.SHA256&quot; suffix=&quot;.SHA256&quot; /&gt;\n  &lt;echo file=&quot;ConsolidatedFileS.txt.SHA256&quot; append=&quot;true&quot;&gt; ${fileName} - ${checkSumFileContent} &lt;/echo&gt;\n&lt;/target&gt;\n</code></pre>\n"}],"owner":{"account_id":452928,"reputation":988,"user_id":849644,"accept_rate":53,"display_name":"It&#39;s Leto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3988,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1689243816,"creation_date":1423327951,"question_id":28384784,"body_markdown":"Is it possible to let Ant generate one .md5 file for several files including sub-directories, resulting in a single md5-file with multiple lines (each line contains a checksum and the filename with it&#39;s relative path)?\r\n\r\nIn the past, I used the Ant checksum task for only single files:\r\n\r\n    &lt;checksum algorithm=&quot;md5&quot; format=&quot;MD5SUM&quot; file=&quot;${distFile}&quot;&gt;\r\n\r\nI recently tried this:\r\n\r\n    &lt;checksum algorithm=&quot;md5&quot; format=&quot;MD5SUM&quot;&gt;\r\n        &lt;fileset dir=&quot;.&quot; /&gt;\r\n    &lt;/checksum&gt;\r\n\r\nBut the above Ant task generates one single .md5-file for each file listed by &lt;fileset.. /&gt;.\r\n\r\nMy goal is to have only one .md5-file with multiple lines containing the checksum and filenames (with relative paths).\r\n\r\nThanks a lot for your help!","title":"Ant / checksum: How to generate one .md5 file for several files (resulting in md5-file with multiple lines)","body":"<p>Is it possible to let Ant generate one .md5 file for several files including sub-directories, resulting in a single md5-file with multiple lines (each line contains a checksum and the filename with it's relative path)?</p>\n\n<p>In the past, I used the Ant checksum task for only single files:</p>\n\n<pre><code>&lt;checksum algorithm=\"md5\" format=\"MD5SUM\" file=\"${distFile}\"&gt;\n</code></pre>\n\n<p>I recently tried this:</p>\n\n<pre><code>&lt;checksum algorithm=\"md5\" format=\"MD5SUM\"&gt;\n    &lt;fileset dir=\".\" /&gt;\n&lt;/checksum&gt;\n</code></pre>\n\n<p>But the above Ant task generates one single .md5-file for each file listed by .</p>\n\n<p>My goal is to have only one .md5-file with multiple lines containing the checksum and filenames (with relative paths).</p>\n\n<p>Thanks a lot for your help!</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":29002890,"reputation":26,"user_id":22216118,"display_name":"Sophia Martin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689242772,"creation_date":1689242772,"answer_id":76678199,"question_id":76678091,"body_markdown":"If the output screen is showing &quot;Update Available&quot; and the buttons and content of the dialog is not clearly visible, it might be due to changes in the default styling of AlertDialogs in Android 13.\r\nTo ensure that buttons and content is displayed properly you can try applying a custom theme to the AlertDialog. By applying a custom theme, you can customize the appearance and style of the AlertDialog to ensure that it displays correctly in Android 13 and matches the overall look and feel of your app.\r\n","title":"Alert Dialog not showing properly Android 13","body":"<p>If the output screen is showing &quot;Update Available&quot; and the buttons and content of the dialog is not clearly visible, it might be due to changes in the default styling of AlertDialogs in Android 13.\nTo ensure that buttons and content is displayed properly you can try applying a custom theme to the AlertDialog. By applying a custom theme, you can customize the appearance and style of the AlertDialog to ensure that it displays correctly in Android 13 and matches the overall look and feel of your app.</p>\n"}],"owner":{"account_id":14967827,"reputation":143,"user_id":10805570,"display_name":"Zibran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76678199,"answer_count":1,"score":0,"last_activity_date":1689242772,"creation_date":1689242005,"question_id":76678091,"body_markdown":"&gt; Hello dear developers! , I&#39;m having an issue with an Alert Dialog not showing properly in Android 13 using Java for Android development. Has anyone else encountered this problem or have any insights on how to resolve it? Any help would be greatly appreciated! \r\n\r\n \r\n\r\n        private void showOptionalUpdateDialog() {\r\n            if (!isFinishing()) {\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n                builder.setTitle(&quot;Update Available&quot;)\r\n                        .setMessage(&quot;A new version of the app is available. Do you want to update?&quot;)\r\n                        .setPositiveButton(&quot;Update&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialog, int which) {\r\n                                redirectToAppStore();\r\n                            }\r\n                        })\r\n                        .setNegativeButton(&quot;Not Now&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialog, int which) {\r\n                                // Handle &quot;Not Now&quot; button click\r\n                                Log.e(&quot;NotNow&quot;, &quot;click&quot;);\r\n                                Intent intent = new Intent(Splash.this, MainActivity.class);\r\n                                startActivity(intent);\r\n                                finish();\r\n                            }\r\n                        })\r\n                        .setCancelable(false);\r\n    \r\n                AlertDialog dialog = builder.create();\r\n                dialog.show();\r\n    \r\n              \r\n            }\r\n        }\r\n\r\n&gt; This is the Output screenshot :\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EDLCU.png","title":"Alert Dialog not showing properly Android 13","body":"<blockquote>\n<p>Hello dear developers! , I'm having an issue with an Alert Dialog not showing properly in Android 13 using Java for Android development. Has anyone else encountered this problem or have any insights on how to resolve it? Any help would be greatly appreciated!</p>\n</blockquote>\n<pre><code>    private void showOptionalUpdateDialog() {\n        if (!isFinishing()) {\n            AlertDialog.Builder builder = new AlertDialog.Builder(this);\n            builder.setTitle(&quot;Update Available&quot;)\n                    .setMessage(&quot;A new version of the app is available. Do you want to update?&quot;)\n                    .setPositiveButton(&quot;Update&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialog, int which) {\n                            redirectToAppStore();\n                        }\n                    })\n                    .setNegativeButton(&quot;Not Now&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialog, int which) {\n                            // Handle &quot;Not Now&quot; button click\n                            Log.e(&quot;NotNow&quot;, &quot;click&quot;);\n                            Intent intent = new Intent(Splash.this, MainActivity.class);\n                            startActivity(intent);\n                            finish();\n                        }\n                    })\n                    .setCancelable(false);\n\n            AlertDialog dialog = builder.create();\n            dialog.show();\n\n          \n        }\n    }\n</code></pre>\n<blockquote>\n<p>This is the Output screenshot :\n<a href=\"https://i.stack.imgur.com/EDLCU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EDLCU.png\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data"],"answers":[{"tags":[],"owner":{"account_id":7506464,"reputation":222,"user_id":5702818,"accept_rate":67,"display_name":"Leo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1470609988,"creation_date":1470609988,"answer_id":38819243,"question_id":38819112,"body_markdown":"As the error implies:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Database name must not be empty\r\n    at org.springframework.util.Assert.hasText(Assert.java:168) ~[spring-core-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n\r\nYou must set the database name to be used by your application. Or if it is set in here:\r\n\r\n    My applicaiton.yml file\r\n\r\nIf not, its a typo error on the filename.\r\n\r\nSince you&#39;re already using Spring boot, why not use the spring properties for mongodb?\r\n\r\nfor ver 3.0 driver\r\n\r\n    spring.data.mongodb.uri=mongodb://user:secret@localhost:12345\r\n\r\nfor ver 2.x driver\r\n\r\n    spring.data.mongodb.host=localhost\r\n    spring.data.mongodb.port=27017\r\n\r\nMore info here http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-nosql.html","title":"Spring Boot setting up MongoDB repository","body":"<p>As the error implies:</p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: Database name must not be empty\nat org.springframework.util.Assert.hasText(Assert.java:168) ~[spring-core-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n</code></pre>\n\n<p>You must set the database name to be used by your application. Or if it is set in here:</p>\n\n<pre><code>My applicaiton.yml file\n</code></pre>\n\n<p>If not, its a typo error on the filename.</p>\n\n<p>Since you're already using Spring boot, why not use the spring properties for mongodb?</p>\n\n<p>for ver 3.0 driver</p>\n\n<pre><code>spring.data.mongodb.uri=mongodb://user:secret@localhost:12345\n</code></pre>\n\n<p>for ver 2.x driver</p>\n\n<pre><code>spring.data.mongodb.host=localhost\nspring.data.mongodb.port=27017\n</code></pre>\n\n<p>More info here <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-nosql.html\" rel=\"noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-nosql.html</a></p>\n"},{"tags":[],"owner":{"account_id":7877121,"reputation":481,"user_id":5952543,"display_name":"Bruno Carvalho"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1610555873,"creation_date":1610555873,"answer_id":65706102,"question_id":38819112,"body_markdown":"This property in application.properties solved for me:\r\n\r\n    spring.data.mongodb.database=my-database-name","title":"Spring Boot setting up MongoDB repository","body":"<p>This property in application.properties solved for me:</p>\n<pre><code>spring.data.mongodb.database=my-database-name\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22492933,"reputation":247,"user_id":16690419,"display_name":"code99"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689242659,"creation_date":1689242659,"answer_id":76678182,"question_id":38819112,"body_markdown":"If someone is using `Spring Boot 3.1.0`, they can still run into this same issue even if they have set `spring.data.mongodb.database` config in the `application.properties`. \r\n\r\nThis is caused by a bug in `Spring Boot v3.1.0` and can be resolved by upgrading Spring Boot version to `3.1.1`.\r\n\r\nAccording to [these release notes][1], in Spring Boot v3.1.0 the auto-configuration for Spring Data MongoDB ignores `spring.data.mongodb.database` config property when `spring.data.mongodb.uri` has been set\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/releases/tag/v3.1.1","title":"Spring Boot setting up MongoDB repository","body":"<p>If someone is using <code>Spring Boot 3.1.0</code>, they can still run into this same issue even if they have set <code>spring.data.mongodb.database</code> config in the <code>application.properties</code>.</p>\n<p>This is caused by a bug in <code>Spring Boot v3.1.0</code> and can be resolved by upgrading Spring Boot version to <code>3.1.1</code>.</p>\n<p>According to <a href=\"https://github.com/spring-projects/spring-boot/releases/tag/v3.1.1\" rel=\"nofollow noreferrer\">these release notes</a>, in Spring Boot v3.1.0 the auto-configuration for Spring Data MongoDB ignores <code>spring.data.mongodb.database</code> config property when <code>spring.data.mongodb.uri</code> has been set</p>\n"}],"owner":{"account_id":236909,"reputation":8312,"user_id":504717,"accept_rate":56,"display_name":"Em Ae"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27926,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":38819243,"answer_count":3,"score":8,"last_activity_date":1689242659,"creation_date":1470608668,"question_id":38819112,"body_markdown":"I am trying to setup MongoDB repository for CRUD operation in my spring-boot rest app. Here is what i have so far\r\n\r\nMy `applicaiton.yml` file\r\n\r\n    server:\r\n      data:\r\n        mongodb: localhost\r\n        port: 27017\r\n        database: dbname\r\n\r\nMy `DbConfiguration` class\r\n\r\n    @Configuration\r\n    @EnableMongoRepositories(&quot;com.package.path.to.repository&quot;)\r\n    @Import(value = MongoAutoConfiguration.class)\r\n    public class DbConfiguration extends AbstractMongoConfiguration {\r\n    \r\n        private final Logger log = LoggerFactory.getLogger(DbConfiguration.class);\r\n    \r\n        @Autowired\r\n        private Mongo mongo;\r\n    \r\n        @Autowired\r\n        private MongoProperties mongoProperties;\r\n    \r\n        @Bean\r\n        public ValidatingMongoEventListener validatingMongoEventListener() {\r\n            return new ValidatingMongoEventListener(validator());\r\n        }\r\n    \r\n        @Bean\r\n        public LocalValidatorFactoryBean validator() {\r\n            return new LocalValidatorFactoryBean();\r\n        }\r\n    \r\n        @Override\r\n        protected String getDatabaseName() {\r\n            return mongoProperties.getDatabase();\r\n        }\r\n    \r\n        @Override\r\n        public Mongo mongo() throws Exception {\r\n            return mongo;\r\n        }\r\n    }\r\n\r\nThen I have my `Document` class\r\n\r\n    @Document(collection = &quot;T_BOOK&quot;)\r\n    public class Book implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Id\r\n        private String id;\r\n    \r\n        @NotNull\r\n        @Size(min = 5, max = 100)\r\n        @Field(&quot;name&quot;)\r\n        private String name;\r\n    \r\n        @NotNull\r\n        @Field(&quot;publisher&quot;)\r\n        private String publisher;\r\n        //more methods and setters/getters\r\n    }\r\n\r\n\r\nMy `Repository` Class\r\n\r\n    package com.package.path.to.repository;\r\n    \r\n    import org.springframework.data.mongodb.repository.MongoRepository;\r\n    \r\n    import java.util.List;\r\n    \r\n    public interface BookRepository extends MongoRepository&lt;Book, String&gt; {\r\n        Book findOneById(String id);\r\n    \r\n        List&lt;Book&gt; findAll();\r\n    \r\n        void delete(Book b);\r\n    \r\n        void deleteAll();\r\n    }\r\n\r\nand finally, the `service` class\r\n\r\n\r\n    @Service\r\n    public class BookService {\r\n        @Autowired\r\n        private BookRepository bookRepository;\r\n    \r\n        public List&lt;Book&gt; findAll() {\r\n            return bookRepository.findAll();\r\n        }\r\n    \r\n        public Book findById(String id) {\r\n            return bookRepository.findOneById(id);\r\n        }\r\n    \r\n        public Book save(Book book) {\r\n            return bookRepository.save(book);\r\n        }\r\n    \r\n        public void delete(Book book) {\r\n            bookRepository.delete(book);\r\n        }\r\n    \r\n        public void deleteAll() {\r\n            bookRepository.deleteAll();\r\n        }\r\n    \r\n    }\r\n\r\nWhen i start the application, I get an error that unable to `autowire bookRepository` ... here is full exception\r\n\r\n**Error Log**\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;bookService&#39;: Unsatisfied dependency expressed through field &#39;bookRepository&#39;: Error creating bean with name &#39;bookRepository&#39;: Cannot resolve reference to bean &#39;mongoTemplate&#39; while setting bean property &#39;mongoOperations&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mongoTemplate&#39; defined in class path resource [com/project/path/to/config/DbConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.core.MongoTemplate]: Factory method &#39;mongoTemplate&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mongoDbFactory&#39; defined in class path resource [com/project/path/to/config/DbConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.MongoDbFactory]: Factory method &#39;mongoDbFactory&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Database name must not be empty; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;bookRepository&#39;: Cannot resolve reference to bean &#39;mongoTemplate&#39; while setting bean property &#39;mongoOperations&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mongoTemplate&#39; defined in class path resource [com/project/path/to/config/DbConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.core.MongoTemplate]: Factory method &#39;mongoTemplate&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mongoDbFactory&#39; defined in class path resource [com/project/path/to/config/DbConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.MongoDbFactory]: Factory method &#39;mongoDbFactory&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Database name must not be empty\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:569) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:349) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:776) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:861) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:541) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.4.1.BUILD-20160802.221845-8.jar:1.4.1.BUILD-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-1.4.1.BUILD-20160802.221845-8.jar:1.4.1.BUILD-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:369) [spring-boot-1.4.1.BUILD-20160802.221845-8.jar:1.4.1.BUILD-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:313) [spring-boot-1.4.1.BUILD-20160802.221845-8.jar:1.4.1.BUILD-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1185) [spring-boot-1.4.1.BUILD-20160802.221845-8.jar:1.4.1.BUILD-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1174) [spring-boot-1.4.1.BUILD-20160802.221845-8.jar:1.4.1.BUILD-SNAPSHOT]\r\n    \tat com.project.path.to.FitbitApiApplication.main(FitbitApiApplication.java:14) [classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_73]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_73]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_73]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_73]\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:140) [idea_rt.jar:na]\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;bookRepository&#39;: Cannot resolve reference to bean &#39;mongoTemplate&#39; while setting bean property &#39;mongoOperations&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mongoTemplate&#39; defined in class path resource [com/project/path/to/config/DbConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.core.MongoTemplate]: Factory method &#39;mongoTemplate&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mongoDbFactory&#39; defined in class path resource [com/project/path/to/config/DbConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.MongoDbFactory]: Factory method &#39;mongoDbFactory&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Database name must not be empty\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1481) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1226) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:207) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1214) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1054) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1019) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:566) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \t... 24 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mongoTemplate&#39; defined in class path resource [com/project/path/to/config/DbConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.core.MongoTemplate]: Factory method &#39;mongoTemplate&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mongoDbFactory&#39; defined in class path resource [com/project/path/to/config/DbConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.MongoDbFactory]: Factory method &#39;mongoDbFactory&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Database name must not be empty\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \t... 38 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.core.MongoTemplate]: Factory method &#39;mongoTemplate&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mongoDbFactory&#39; defined in class path resource [com/project/path/to/config/DbConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.MongoDbFactory]: Factory method &#39;mongoDbFactory&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Database name must not be empty\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \t... 47 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mongoDbFactory&#39; defined in class path resource [com/project/path/to/config/DbConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.MongoDbFactory]: Factory method &#39;mongoDbFactory&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Database name must not be empty\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:381) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat com.project.path.to.config.DbConfiguration$$EnhancerBySpringCGLIB$$a5249a29.mongoDbFactory(&lt;generated&gt;) ~[classes/:na]\r\n    \tat org.springframework.data.mongodb.config.AbstractMongoConfiguration.mongoTemplate(AbstractMongoConfiguration.java:100) ~[spring-data-mongodb-1.9.2.RELEASE.jar:na]\r\n    \tat com.project.path.to.config.DbConfiguration$$EnhancerBySpringCGLIB$$a5249a29.CGLIB$mongoTemplate$15(&lt;generated&gt;) ~[classes/:na]\r\n    \tat com.project.path.to.config.DbConfiguration$$EnhancerBySpringCGLIB$$a5249a29$$FastClassBySpringCGLIB$$8792e3ee.invoke(&lt;generated&gt;) ~[classes/:na]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:356) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat com.project.path.to.config.DbConfiguration$$EnhancerBySpringCGLIB$$a5249a29.mongoTemplate(&lt;generated&gt;) ~[classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_73]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_73]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_73]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_73]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \t... 48 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.MongoDbFactory]: Factory method &#39;mongoDbFactory&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Database name must not be empty\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \t... 69 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: Database name must not be empty\r\n    \tat org.springframework.util.Assert.hasText(Assert.java:168) ~[spring-core-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.data.mongodb.core.SimpleMongoDbFactory.&lt;init&gt;(SimpleMongoDbFactory.java:142) ~[spring-data-mongodb-1.9.2.RELEASE.jar:na]\r\n    \tat org.springframework.data.mongodb.core.SimpleMongoDbFactory.&lt;init&gt;(SimpleMongoDbFactory.java:93) ~[spring-data-mongodb-1.9.2.RELEASE.jar:na]\r\n    \tat org.springframework.data.mongodb.config.AbstractMongoConfiguration.mongoDbFactory(AbstractMongoConfiguration.java:114) ~[spring-data-mongodb-1.9.2.RELEASE.jar:na]\r\n    \tat com.project.path.to.config.DbConfiguration$$EnhancerBySpringCGLIB$$a5249a29.CGLIB$mongoDbFactory$5(&lt;generated&gt;) ~[classes/:na]\r\n    \tat com.project.path.to.config.DbConfiguration$$EnhancerBySpringCGLIB$$a5249a29$$FastClassBySpringCGLIB$$8792e3ee.invoke(&lt;generated&gt;) ~[classes/:na]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:356) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat com.project.path.to.config.DbConfiguration$$EnhancerBySpringCGLIB$$a5249a29.mongoDbFactory(&lt;generated&gt;) ~[classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_73]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_73]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_73]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_73]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \t... 70 common frames omitted\r\n\r\n","title":"Spring Boot setting up MongoDB repository","body":"<p>I am trying to setup MongoDB repository for CRUD operation in my spring-boot rest app. Here is what i have so far</p>\n\n<p>My <code>applicaiton.yml</code> file</p>\n\n<pre><code>server:\n  data:\n    mongodb: localhost\n    port: 27017\n    database: dbname\n</code></pre>\n\n<p>My <code>DbConfiguration</code> class</p>\n\n<pre><code>@Configuration\n@EnableMongoRepositories(\"com.package.path.to.repository\")\n@Import(value = MongoAutoConfiguration.class)\npublic class DbConfiguration extends AbstractMongoConfiguration {\n\n    private final Logger log = LoggerFactory.getLogger(DbConfiguration.class);\n\n    @Autowired\n    private Mongo mongo;\n\n    @Autowired\n    private MongoProperties mongoProperties;\n\n    @Bean\n    public ValidatingMongoEventListener validatingMongoEventListener() {\n        return new ValidatingMongoEventListener(validator());\n    }\n\n    @Bean\n    public LocalValidatorFactoryBean validator() {\n        return new LocalValidatorFactoryBean();\n    }\n\n    @Override\n    protected String getDatabaseName() {\n        return mongoProperties.getDatabase();\n    }\n\n    @Override\n    public Mongo mongo() throws Exception {\n        return mongo;\n    }\n}\n</code></pre>\n\n<p>Then I have my <code>Document</code> class</p>\n\n<pre><code>@Document(collection = \"T_BOOK\")\npublic class Book implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    private String id;\n\n    @NotNull\n    @Size(min = 5, max = 100)\n    @Field(\"name\")\n    private String name;\n\n    @NotNull\n    @Field(\"publisher\")\n    private String publisher;\n    //more methods and setters/getters\n}\n</code></pre>\n\n<p>My <code>Repository</code> Class</p>\n\n<pre><code>package com.package.path.to.repository;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\nimport java.util.List;\n\npublic interface BookRepository extends MongoRepository&lt;Book, String&gt; {\n    Book findOneById(String id);\n\n    List&lt;Book&gt; findAll();\n\n    void delete(Book b);\n\n    void deleteAll();\n}\n</code></pre>\n\n<p>and finally, the <code>service</code> class</p>\n\n<pre><code>@Service\npublic class BookService {\n    @Autowired\n    private BookRepository bookRepository;\n\n    public List&lt;Book&gt; findAll() {\n        return bookRepository.findAll();\n    }\n\n    public Book findById(String id) {\n        return bookRepository.findOneById(id);\n    }\n\n    public Book save(Book book) {\n        return bookRepository.save(book);\n    }\n\n    public void delete(Book book) {\n        bookRepository.delete(book);\n    }\n\n    public void deleteAll() {\n        bookRepository.deleteAll();\n    }\n\n}\n</code></pre>\n\n<p>When i start the application, I get an error that unable to <code>autowire bookRepository</code> ... here is full exception</p>\n\n<p><strong>Error Log</strong></p>\n\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bookService': Unsatisfied dependency expressed through field 'bookRepository': Error creating bean with name 'bookRepository': Cannot resolve reference to bean 'mongoTemplate' while setting bean property 'mongoOperations'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongoTemplate' defined in class path resource [com/project/path/to/config/DbConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.core.MongoTemplate]: Factory method 'mongoTemplate' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongoDbFactory' defined in class path resource [com/project/path/to/config/DbConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.MongoDbFactory]: Factory method 'mongoDbFactory' threw exception; nested exception is java.lang.IllegalArgumentException: Database name must not be empty; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'bookRepository': Cannot resolve reference to bean 'mongoTemplate' while setting bean property 'mongoOperations'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongoTemplate' defined in class path resource [com/project/path/to/config/DbConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.core.MongoTemplate]: Factory method 'mongoTemplate' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongoDbFactory' defined in class path resource [com/project/path/to/config/DbConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.MongoDbFactory]: Factory method 'mongoDbFactory' threw exception; nested exception is java.lang.IllegalArgumentException: Database name must not be empty\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:569) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:349) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:776) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:861) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:541) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.4.1.BUILD-20160802.221845-8.jar:1.4.1.BUILD-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-1.4.1.BUILD-20160802.221845-8.jar:1.4.1.BUILD-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:369) [spring-boot-1.4.1.BUILD-20160802.221845-8.jar:1.4.1.BUILD-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:313) [spring-boot-1.4.1.BUILD-20160802.221845-8.jar:1.4.1.BUILD-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1185) [spring-boot-1.4.1.BUILD-20160802.221845-8.jar:1.4.1.BUILD-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1174) [spring-boot-1.4.1.BUILD-20160802.221845-8.jar:1.4.1.BUILD-SNAPSHOT]\n    at com.project.path.to.FitbitApiApplication.main(FitbitApiApplication.java:14) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_73]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_73]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_73]\n    at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_73]\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:140) [idea_rt.jar:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'bookRepository': Cannot resolve reference to bean 'mongoTemplate' while setting bean property 'mongoOperations'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongoTemplate' defined in class path resource [com/project/path/to/config/DbConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.core.MongoTemplate]: Factory method 'mongoTemplate' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongoDbFactory' defined in class path resource [com/project/path/to/config/DbConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.MongoDbFactory]: Factory method 'mongoDbFactory' threw exception; nested exception is java.lang.IllegalArgumentException: Database name must not be empty\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1481) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1226) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:207) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1214) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1054) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1019) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:566) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    ... 24 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongoTemplate' defined in class path resource [com/project/path/to/config/DbConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.core.MongoTemplate]: Factory method 'mongoTemplate' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongoDbFactory' defined in class path resource [com/project/path/to/config/DbConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.MongoDbFactory]: Factory method 'mongoDbFactory' threw exception; nested exception is java.lang.IllegalArgumentException: Database name must not be empty\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    ... 38 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.core.MongoTemplate]: Factory method 'mongoTemplate' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongoDbFactory' defined in class path resource [com/project/path/to/config/DbConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.MongoDbFactory]: Factory method 'mongoDbFactory' threw exception; nested exception is java.lang.IllegalArgumentException: Database name must not be empty\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    ... 47 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongoDbFactory' defined in class path resource [com/project/path/to/config/DbConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.MongoDbFactory]: Factory method 'mongoDbFactory' threw exception; nested exception is java.lang.IllegalArgumentException: Database name must not be empty\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:381) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at com.project.path.to.config.DbConfiguration$$EnhancerBySpringCGLIB$$a5249a29.mongoDbFactory(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.data.mongodb.config.AbstractMongoConfiguration.mongoTemplate(AbstractMongoConfiguration.java:100) ~[spring-data-mongodb-1.9.2.RELEASE.jar:na]\n    at com.project.path.to.config.DbConfiguration$$EnhancerBySpringCGLIB$$a5249a29.CGLIB$mongoTemplate$15(&lt;generated&gt;) ~[classes/:na]\n    at com.project.path.to.config.DbConfiguration$$EnhancerBySpringCGLIB$$a5249a29$$FastClassBySpringCGLIB$$8792e3ee.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:356) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at com.project.path.to.config.DbConfiguration$$EnhancerBySpringCGLIB$$a5249a29.mongoTemplate(&lt;generated&gt;) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_73]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_73]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_73]\n    at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_73]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    ... 48 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.MongoDbFactory]: Factory method 'mongoDbFactory' threw exception; nested exception is java.lang.IllegalArgumentException: Database name must not be empty\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    ... 69 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Database name must not be empty\n    at org.springframework.util.Assert.hasText(Assert.java:168) ~[spring-core-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.data.mongodb.core.SimpleMongoDbFactory.&lt;init&gt;(SimpleMongoDbFactory.java:142) ~[spring-data-mongodb-1.9.2.RELEASE.jar:na]\n    at org.springframework.data.mongodb.core.SimpleMongoDbFactory.&lt;init&gt;(SimpleMongoDbFactory.java:93) ~[spring-data-mongodb-1.9.2.RELEASE.jar:na]\n    at org.springframework.data.mongodb.config.AbstractMongoConfiguration.mongoDbFactory(AbstractMongoConfiguration.java:114) ~[spring-data-mongodb-1.9.2.RELEASE.jar:na]\n    at com.project.path.to.config.DbConfiguration$$EnhancerBySpringCGLIB$$a5249a29.CGLIB$mongoDbFactory$5(&lt;generated&gt;) ~[classes/:na]\n    at com.project.path.to.config.DbConfiguration$$EnhancerBySpringCGLIB$$a5249a29$$FastClassBySpringCGLIB$$8792e3ee.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:356) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at com.project.path.to.config.DbConfiguration$$EnhancerBySpringCGLIB$$a5249a29.mongoDbFactory(&lt;generated&gt;) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_73]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_73]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_73]\n    at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_73]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    ... 70 common frames omitted\n</code></pre>\n"},{"tags":["java","sql","jdbc","prepared-statement"],"comments":[{"owner":{"account_id":12917,"reputation":22601,"user_id":25688,"accept_rate":85,"display_name":"Ken Liu"},"score":1,"creation_date":1267736490,"post_id":2382532,"comment_id":2359933,"body_markdown":"If you&#39;re writing straight JDBC code, I&#39;d highly recommend looking at Apache commons-dbutils http://commons.apache.org/dbutils/. It simplifies JDBC code greatly.","body":"If you&#39;re writing straight JDBC code, I&#39;d highly recommend looking at Apache commons-dbutils <a href=\"http://commons.apache.org/dbutils/\" rel=\"nofollow noreferrer\">commons.apache.org/dbutils</a>. It simplifies JDBC code greatly."},{"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"score":4,"creation_date":1267737819,"post_id":2382532,"comment_id":2360128,"body_markdown":"Dupe: http://stackoverflow.com/questions/218113/logging-preparedstatements-in-java","body":"Dupe: <a href=\"http://stackoverflow.com/questions/218113/logging-preparedstatements-in-java\" title=\"logging preparedstatements in java\">stackoverflow.com/questions/218113/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":46833,"reputation":396593,"user_id":138475,"display_name":"Pascal MARTIN"},"down_vote_count":3,"up_vote_count":205,"is_accepted":true,"score":202,"last_activity_date":1474569279,"creation_date":1267735272,"answer_id":2382561,"question_id":2382532,"body_markdown":"Using prepared statements, there is no &quot;SQL query&quot; :\r\n\r\n - You have a statement, containing placeholders\r\n   - it is sent to the DB server\r\n   - and prepared there\r\n   - which means the SQL statement is &quot;analysed&quot;, parsed, some data-structure representing it is prepared in memory\r\n - And, then, you have bound variables\r\n   - which are sent to the server\r\n   - and the prepared statement is executed -- working on those data\r\n\r\nBut there is no re-construction of an actual real SQL query -- neither on the Java side, nor on the database side.\r\n\r\nSo, there is no way to get the prepared statement&#39;s SQL -- as there is no such SQL.\r\n\r\n&lt;br&gt;\r\nFor debugging purpose, the solutions are either to :\r\n\r\n - Ouput the code of the statement, with the placeholders and the list of data\r\n - Or to &quot;build&quot; some SQL query &quot;by hand&quot;.","title":"How can I get the SQL of a PreparedStatement?","body":"<p>Using prepared statements, there is no \"SQL query\" :</p>\n\n<ul>\n<li>You have a statement, containing placeholders\n\n<ul>\n<li>it is sent to the DB server</li>\n<li>and prepared there</li>\n<li>which means the SQL statement is \"analysed\", parsed, some data-structure representing it is prepared in memory</li>\n</ul></li>\n<li>And, then, you have bound variables\n\n<ul>\n<li>which are sent to the server</li>\n<li>and the prepared statement is executed -- working on those data</li>\n</ul></li>\n</ul>\n\n<p>But there is no re-construction of an actual real SQL query -- neither on the Java side, nor on the database side.</p>\n\n<p>So, there is no way to get the prepared statement's SQL -- as there is no such SQL.</p>\n\n<p><br>\nFor debugging purpose, the solutions are either to :</p>\n\n<ul>\n<li>Ouput the code of the statement, with the placeholders and the list of data</li>\n<li>Or to \"build\" some SQL query \"by hand\".</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":98468,"reputation":1082,"user_id":266523,"display_name":"sidereal"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1267735418,"creation_date":1267735418,"answer_id":2382580,"question_id":2382532,"body_markdown":"To do this you need a JDBC Connection and/or driver that supports logging the sql at a low level.\r\n\r\nTake a look at &lt;a href=&quot;http://code.google.com/p/log4jdbc/&quot;&gt;log4jdbc&lt;/a&gt;","title":"How can I get the SQL of a PreparedStatement?","body":"<p>To do this you need a JDBC Connection and/or driver that supports logging the sql at a low level.</p>\n\n<p>Take a look at <a href=\"http://code.google.com/p/log4jdbc/\" rel=\"nofollow noreferrer\">log4jdbc</a></p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1439578824,"creation_date":1267735488,"answer_id":2382587,"question_id":2382532,"body_markdown":"It&#39;s nowhere definied in the JDBC API contract, but if you&#39;re lucky, the JDBC driver in question may return the complete SQL by just calling `PreparedStatement#toString()`. I.e.\r\n\r\n    System.out.println(preparedStatement);\r\n\r\nAt least MySQL 5.x and PostgreSQL 8.x JDBC drivers support it. However, most other JDBC drivers doesn&#39;t support it. If you have such one, then your best bet is using [Log4jdbc][1] or [P6Spy][2]. \r\n\r\nAlternatively, you can also write a generic function which takes a `Connection`, a SQL string and the statement values and returns a `PreparedStatement` after logging the SQL string and the values. Kickoff example:\r\n\r\n    public static PreparedStatement prepareStatement(Connection connection, String sql, Object... values) throws SQLException {\r\n        PreparedStatement preparedStatement = connection.prepareStatement(sql);\r\n        for (int i = 0; i &lt; values.length; i++) {\r\n            preparedStatement.setObject(i + 1, values[i]);\r\n        }\r\n        logger.debug(sql + &quot; &quot; + Arrays.asList(values));\r\n        return preparedStatement;\r\n    }\r\n\r\nand use it as \r\n\r\n    try {\r\n        connection = database.getConnection();\r\n        preparedStatement = prepareStatement(connection, SQL, values);\r\n        resultSet = preparedStatement.executeQuery();\r\n        // ...\r\n\r\nAnother alternative is to implement a custom `PreparedStatement` which wraps (decorates) the *real* `PreparedStatement` on construction and overrides all the methods so that it calls the methods of the *real* `PreparedStatement` and collects the values in all the `setXXX()` methods and lazily constructs the &quot;actual&quot; SQL string whenever one of the `executeXXX()` methods is called (quite a work, but most IDE&#39;s provides autogenerators for decorator methods, Eclipse does). Finally just use it instead. That&#39;s also basically what P6Spy and consorts already do under the hoods.\r\n\r\n\r\n  [1]: https://github.com/arthurblake/log4jdbc\r\n  [2]: https://github.com/p6spy/p6spy","title":"How can I get the SQL of a PreparedStatement?","body":"<p>It's nowhere definied in the JDBC API contract, but if you're lucky, the JDBC driver in question may return the complete SQL by just calling <code>PreparedStatement#toString()</code>. I.e.</p>\n\n<pre><code>System.out.println(preparedStatement);\n</code></pre>\n\n<p>At least MySQL 5.x and PostgreSQL 8.x JDBC drivers support it. However, most other JDBC drivers doesn't support it. If you have such one, then your best bet is using <a href=\"https://github.com/arthurblake/log4jdbc\" rel=\"noreferrer\">Log4jdbc</a> or <a href=\"https://github.com/p6spy/p6spy\" rel=\"noreferrer\">P6Spy</a>. </p>\n\n<p>Alternatively, you can also write a generic function which takes a <code>Connection</code>, a SQL string and the statement values and returns a <code>PreparedStatement</code> after logging the SQL string and the values. Kickoff example:</p>\n\n<pre><code>public static PreparedStatement prepareStatement(Connection connection, String sql, Object... values) throws SQLException {\n    PreparedStatement preparedStatement = connection.prepareStatement(sql);\n    for (int i = 0; i &lt; values.length; i++) {\n        preparedStatement.setObject(i + 1, values[i]);\n    }\n    logger.debug(sql + \" \" + Arrays.asList(values));\n    return preparedStatement;\n}\n</code></pre>\n\n<p>and use it as </p>\n\n<pre><code>try {\n    connection = database.getConnection();\n    preparedStatement = prepareStatement(connection, SQL, values);\n    resultSet = preparedStatement.executeQuery();\n    // ...\n</code></pre>\n\n<p>Another alternative is to implement a custom <code>PreparedStatement</code> which wraps (decorates) the <em>real</em> <code>PreparedStatement</code> on construction and overrides all the methods so that it calls the methods of the <em>real</em> <code>PreparedStatement</code> and collects the values in all the <code>setXXX()</code> methods and lazily constructs the \"actual\" SQL string whenever one of the <code>executeXXX()</code> methods is called (quite a work, but most IDE's provides autogenerators for decorator methods, Eclipse does). Finally just use it instead. That's also basically what P6Spy and consorts already do under the hoods.</p>\n"},{"tags":[],"owner":{"account_id":23460,"reputation":176846,"user_id":58808,"accept_rate":78,"display_name":"Ionuț G. Stan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1267735599,"creation_date":1267735599,"answer_id":2382596,"question_id":2382532,"body_markdown":"If you&#39;re using MySQL you can log the queries using [MySQL&#39;s query log][1]. I don&#39;t know if other vendors provide this feature, but chances are they do.\r\n\r\n\r\n  [1]: http://dev.mysql.com/doc/refman/5.1/en/query-log.html","title":"How can I get the SQL of a PreparedStatement?","body":"<p>If you're using MySQL you can log the queries using <a href=\"http://dev.mysql.com/doc/refman/5.1/en/query-log.html\" rel=\"nofollow noreferrer\">MySQL's query log</a>. I don't know if other vendors provide this feature, but chances are they do.</p>\n"},{"tags":[],"owner":{"account_id":1241257,"reputation":3660,"user_id":1203805,"accept_rate":84,"display_name":"userlond"},"down_vote_count":2,"up_vote_count":42,"is_accepted":false,"score":40,"last_activity_date":1455930330,"creation_date":1412652570,"answer_id":26228133,"question_id":2382532,"body_markdown":"I&#39;m using Java 8, JDBC driver with MySQL connector v. 5.1.31.\r\n\r\nI may get real SQL string using this method:\r\n\r\n\t// 1. make connection somehow, it&#39;s conn variable\r\n\t// 2. make prepered statement template\r\n\tPreparedStatement stmt = conn.prepareStatement(\r\n\t\t&quot;INSERT INTO oc_manufacturer&quot; +\r\n\t\t&quot; SET&quot; +\r\n\t\t&quot; manufacturer_id = ?,&quot; +\r\n\t\t&quot; name = ?,&quot; +\r\n\t\t&quot; sort_order=0;&quot;\r\n\t);\r\n\t// 3. fill template\r\n\tstmt.setInt(1, 23);\r\n\tstmt.setString(2, &#39;Google&#39;);\r\n\t// 4. print sql string\r\n\tSystem.out.println(((JDBC4PreparedStatement)stmt).asSql());\r\n\r\nSo it returns smth like this:\r\n\r\n    INSERT INTO oc_manufacturer SET manufacturer_id = 23, name = &#39;Google&#39;, sort_order=0;","title":"How can I get the SQL of a PreparedStatement?","body":"<p>I'm using Java 8, JDBC driver with MySQL connector v. 5.1.31.</p>\n\n<p>I may get real SQL string using this method:</p>\n\n<pre><code>// 1. make connection somehow, it's conn variable\n// 2. make prepered statement template\nPreparedStatement stmt = conn.prepareStatement(\n    \"INSERT INTO oc_manufacturer\" +\n    \" SET\" +\n    \" manufacturer_id = ?,\" +\n    \" name = ?,\" +\n    \" sort_order=0;\"\n);\n// 3. fill template\nstmt.setInt(1, 23);\nstmt.setString(2, 'Google');\n// 4. print sql string\nSystem.out.println(((JDBC4PreparedStatement)stmt).asSql());\n</code></pre>\n\n<p>So it returns smth like this:</p>\n\n<pre><code>INSERT INTO oc_manufacturer SET manufacturer_id = 23, name = 'Google', sort_order=0;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2706954,"reputation":1072,"user_id":2336352,"display_name":"Elad Stern"},"down_vote_count":2,"up_vote_count":28,"is_accepted":false,"score":26,"last_activity_date":1424792568,"creation_date":1420629295,"answer_id":27818204,"question_id":2382532,"body_markdown":"If you&#39;re executing the query and expecting a `ResultSet` (you are in this scenario, at least) then you can simply call `ResultSet`&#39;s `getStatement()` like so:\r\n\r\n    ResultSet rs = pstmt.executeQuery();\r\n    String executedQuery = rs.getStatement().toString();\r\n\r\nThe variable `executedQuery` will contain the statement that was used to create the `ResultSet`.\r\n\r\nNow, I realize this question is quite old, but I hope this helps someone..","title":"How can I get the SQL of a PreparedStatement?","body":"<p>If you're executing the query and expecting a <code>ResultSet</code> (you are in this scenario, at least) then you can simply call <code>ResultSet</code>'s <code>getStatement()</code> like so:</p>\n\n<pre><code>ResultSet rs = pstmt.executeQuery();\nString executedQuery = rs.getStatement().toString();\n</code></pre>\n\n<p>The variable <code>executedQuery</code> will contain the statement that was used to create the <code>ResultSet</code>.</p>\n\n<p>Now, I realize this question is quite old, but I hope this helps someone..</p>\n"},{"tags":[],"owner":{"account_id":7792094,"reputation":1,"user_id":5894649,"display_name":"Hobson"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1454841166,"creation_date":1454841166,"answer_id":35252336,"question_id":2382532,"body_markdown":"Simply function:\r\n\r\n    public static String getSQL (Statement stmt){\r\n        String tempSQL = stmt.toString();\r\n\r\n        //please cut everything before sql from statement\r\n        //javadb...: \r\n        int i1 = tempSQL.indexOf(&quot;:&quot;)+2;\r\n        tempSQL = tempSQL.substring(i1);\r\n\r\n        return tempSQL;\r\n    }\r\n\r\n\r\nIt&#39;s fine aswell for preparedStatement.\r\n\r\n\r\n\r\n","title":"How can I get the SQL of a PreparedStatement?","body":"<p>Simply function:</p>\n\n<pre><code>public static String getSQL (Statement stmt){\n    String tempSQL = stmt.toString();\n\n    //please cut everything before sql from statement\n    //javadb...: \n    int i1 = tempSQL.indexOf(\":\")+2;\n    tempSQL = tempSQL.substring(i1);\n\n    return tempSQL;\n}\n</code></pre>\n\n<p>It's fine aswell for preparedStatement.</p>\n"},{"tags":[],"owner":{"account_id":5613,"reputation":1143,"user_id":2046272,"display_name":"Diego Tercero"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1466613083,"creation_date":1466613083,"answer_id":37973702,"question_id":2382532,"body_markdown":"I&#39;m using Oralce 11g and couldn&#39;t manage to get the final SQL from the PreparedStatement. After reading @Pascal MARTIN answer I understand why. \r\n\r\nI just abandonned the idea of using PreparedStatement and used a simple text formatter which fitted my needs. Here&#39;s my example:\r\n\r\n    //I jump to the point after connexion has been made ...\r\n    java.sql.Statement stmt = cnx.createStatement();\r\n    String sqlTemplate = &quot;SELECT * FROM Users WHERE Id IN ({0})&quot;;\r\n    String sqlInParam = &quot;21,34,3434,32&quot;; //some random ids\r\n    String sqlFinalSql = java.text.MesssageFormat(sqlTemplate,sqlInParam);\r\n    System.out.println(&quot;SQL : &quot; + sqlFinalSql);\r\n    rsRes = stmt.executeQuery(sqlFinalSql);\r\n\r\nYou figure out the sqlInParam can be built dynamically in a (for,while) loop I just made it plain simple to get to the point of using the MessageFormat class to serve as a string template formater for the SQL query.","title":"How can I get the SQL of a PreparedStatement?","body":"<p>I'm using Oralce 11g and couldn't manage to get the final SQL from the PreparedStatement. After reading @Pascal MARTIN answer I understand why. </p>\n\n<p>I just abandonned the idea of using PreparedStatement and used a simple text formatter which fitted my needs. Here's my example:</p>\n\n<pre><code>//I jump to the point after connexion has been made ...\njava.sql.Statement stmt = cnx.createStatement();\nString sqlTemplate = \"SELECT * FROM Users WHERE Id IN ({0})\";\nString sqlInParam = \"21,34,3434,32\"; //some random ids\nString sqlFinalSql = java.text.MesssageFormat(sqlTemplate,sqlInParam);\nSystem.out.println(\"SQL : \" + sqlFinalSql);\nrsRes = stmt.executeQuery(sqlFinalSql);\n</code></pre>\n\n<p>You figure out the sqlInParam can be built dynamically in a (for,while) loop I just made it plain simple to get to the point of using the MessageFormat class to serve as a string template formater for the SQL query.</p>\n"},{"tags":[],"owner":{"display_name":"user3349710"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481607537,"creation_date":1481607537,"answer_id":41114358,"question_id":2382532,"body_markdown":"I implemented the following code for printing SQL from PrepareStatement\r\n\r\n\r\n    public void printSqlStatement(PreparedStatement preparedStatement, String sql) throws SQLException{\r\n    \t\tString[] sqlArrya= new String[preparedStatement.getParameterMetaData().getParameterCount()];\r\n    \t\ttry {\r\n    \t\t\t   Pattern pattern = Pattern.compile(&quot;\\\\?&quot;);\r\n    \t\t\t   Matcher matcher = pattern.matcher(sql);\r\n    \t\t\t   StringBuffer sb = new StringBuffer();\r\n    \t\t\t   int indx = 1;  // Parameter begin with index 1\r\n    \t\t\t   while (matcher.find()) {\r\n    \t\t\t matcher.appendReplacement(sb,String.valueOf(sqlArrya[indx]));\r\n    \t\t\t   }\r\n    \t\t\t   matcher.appendTail(sb);\r\n    \t\t\t  System.out.println(&quot;Executing Query [&quot; + sb.toString() + &quot;] with Database[&quot; + &quot;] ...&quot;);\r\n    \t\t\t   } catch (Exception ex) {\r\n    \t\t\t\t   System.out.println(&quot;Executing Query [&quot; + sql + &quot;] with Database[&quot; +  &quot;] ...&quot;);\r\n    \t\t\t}\r\n    \t\t\r\n    \t}","title":"How can I get the SQL of a PreparedStatement?","body":"<p>I implemented the following code for printing SQL from PrepareStatement</p>\n\n<pre><code>public void printSqlStatement(PreparedStatement preparedStatement, String sql) throws SQLException{\n        String[] sqlArrya= new String[preparedStatement.getParameterMetaData().getParameterCount()];\n        try {\n               Pattern pattern = Pattern.compile(\"\\\\?\");\n               Matcher matcher = pattern.matcher(sql);\n               StringBuffer sb = new StringBuffer();\n               int indx = 1;  // Parameter begin with index 1\n               while (matcher.find()) {\n             matcher.appendReplacement(sb,String.valueOf(sqlArrya[indx]));\n               }\n               matcher.appendTail(sb);\n              System.out.println(\"Executing Query [\" + sb.toString() + \"] with Database[\" + \"] ...\");\n               } catch (Exception ex) {\n                   System.out.println(\"Executing Query [\" + sql + \"] with Database[\" +  \"] ...\");\n            }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8751392,"reputation":487,"user_id":6544491,"display_name":"Harsh Maheswari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507131543,"creation_date":1507131543,"answer_id":46568874,"question_id":2382532,"body_markdown":" Code Snippet to convert SQL PreparedStaments with the list of arguments. It works for me\r\n\r\n     \r\n      /**\r\n        \t * \r\n        \t * formatQuery Utility function which will convert SQL\r\n        \t * \r\n        \t * @param sql\r\n        \t * @param arguments\r\n        \t * @return\r\n        \t */\r\n        \tpublic static String formatQuery(final String sql, Object... arguments) {\r\n        \t\tif (arguments != null &amp;&amp; arguments.length &lt;= 0) {\r\n        \t\t\treturn sql;\r\n        \t\t}\r\n        \t\tString query = sql;\r\n        \t\tint count = 0;\r\n        \t\twhile (query.matches(&quot;(.*)\\\\?(.*)&quot;)) {\r\n        \t\t\tquery = query.replaceFirst(&quot;\\\\?&quot;, &quot;{&quot; + count + &quot;}&quot;);\r\n        \t\t\tcount++;\r\n        \t\t}\r\n        \t\tString formatedString = java.text.MessageFormat.format(query, arguments);\r\n        \t\treturn formatedString;\r\n        \t}","title":"How can I get the SQL of a PreparedStatement?","body":"<p>Code Snippet to convert SQL PreparedStaments with the list of arguments. It works for me</p>\n\n<pre><code>  /**\n         * \n         * formatQuery Utility function which will convert SQL\n         * \n         * @param sql\n         * @param arguments\n         * @return\n         */\n        public static String formatQuery(final String sql, Object... arguments) {\n            if (arguments != null &amp;&amp; arguments.length &lt;= 0) {\n                return sql;\n            }\n            String query = sql;\n            int count = 0;\n            while (query.matches(\"(.*)\\\\?(.*)\")) {\n                query = query.replaceFirst(\"\\\\?\", \"{\" + count + \"}\");\n                count++;\n            }\n            String formatedString = java.text.MessageFormat.format(query, arguments);\n            return formatedString;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3551933,"reputation":3290,"user_id":2966603,"accept_rate":36,"display_name":"RichardK"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1507281215,"creation_date":1507281215,"answer_id":46602331,"question_id":2382532,"body_markdown":"I&#39;ve extracted my sql from PreparedStatement using preparedStatement.toString() In my case toString() returns String like this:\r\n\r\n    org.hsqldb.jdbc.JDBCPreparedStatement@7098b907[sql=[INSERT INTO \r\n    TABLE_NAME(COLUMN_NAME, COLUMN_NAME, COLUMN_NAME) VALUES(?, ?, ?)],\r\n    parameters=[[value], [value], [value]]]\r\n\r\nNow I&#39;ve created a method (Java 8), which is using regex to extract both query and values and put them into map:\r\n\r\n    private Map&lt;String, String&gt; extractSql(PreparedStatement preparedStatement) {\r\n        Map&lt;String, String&gt; extractedParameters = new HashMap&lt;&gt;();\r\n        Pattern pattern = Pattern.compile(&quot;.*\\\\[sql=\\\\[(.*)],\\\\sparameters=\\\\[(.*)]].*&quot;);\r\n        Matcher matcher = pattern.matcher(preparedStatement.toString());\r\n        while (matcher.find()) {\r\n          extractedParameters.put(&quot;query&quot;, matcher.group(1));\r\n          extractedParameters.put(&quot;values&quot;, Stream.of(matcher.group(2).split(&quot;,&quot;))\r\n              .map(line -&gt; line.replaceAll(&quot;(\\\\[|])&quot;, &quot;&quot;))\r\n              .collect(Collectors.joining(&quot;, &quot;)));\r\n        }\r\n        return extractedParameters;\r\n      }\r\n\r\nThis method returns map where we have key-value pairs:\r\n\r\n    &quot;query&quot; -&gt; &quot;INSERT INTO TABLE_NAME(COLUMN_NAME, COLUMN_NAME, COLUMN_NAME) VALUES(?, ?, ?)&quot;\r\n    &quot;values&quot; -&gt; &quot;value,  value,  value&quot;\r\n\r\nNow - if you want values as list you can just simply use: \r\n\r\n    List&lt;String&gt; values = Stream.of(yourExtractedParametersMap.get(&quot;values&quot;).split(&quot;,&quot;))\r\n        .collect(Collectors.toList());\r\n\r\nIf your preparedStatement.toString() is different than in my case it&#39;s just a matter of &quot;adjusting&quot; regex.","title":"How can I get the SQL of a PreparedStatement?","body":"<p>I've extracted my sql from PreparedStatement using preparedStatement.toString() In my case toString() returns String like this:</p>\n\n<pre><code>org.hsqldb.jdbc.JDBCPreparedStatement@7098b907[sql=[INSERT INTO \nTABLE_NAME(COLUMN_NAME, COLUMN_NAME, COLUMN_NAME) VALUES(?, ?, ?)],\nparameters=[[value], [value], [value]]]\n</code></pre>\n\n<p>Now I've created a method (Java 8), which is using regex to extract both query and values and put them into map:</p>\n\n<pre><code>private Map&lt;String, String&gt; extractSql(PreparedStatement preparedStatement) {\n    Map&lt;String, String&gt; extractedParameters = new HashMap&lt;&gt;();\n    Pattern pattern = Pattern.compile(\".*\\\\[sql=\\\\[(.*)],\\\\sparameters=\\\\[(.*)]].*\");\n    Matcher matcher = pattern.matcher(preparedStatement.toString());\n    while (matcher.find()) {\n      extractedParameters.put(\"query\", matcher.group(1));\n      extractedParameters.put(\"values\", Stream.of(matcher.group(2).split(\",\"))\n          .map(line -&gt; line.replaceAll(\"(\\\\[|])\", \"\"))\n          .collect(Collectors.joining(\", \")));\n    }\n    return extractedParameters;\n  }\n</code></pre>\n\n<p>This method returns map where we have key-value pairs:</p>\n\n<pre><code>\"query\" -&gt; \"INSERT INTO TABLE_NAME(COLUMN_NAME, COLUMN_NAME, COLUMN_NAME) VALUES(?, ?, ?)\"\n\"values\" -&gt; \"value,  value,  value\"\n</code></pre>\n\n<p>Now - if you want values as list you can just simply use: </p>\n\n<pre><code>List&lt;String&gt; values = Stream.of(yourExtractedParametersMap.get(\"values\").split(\",\"))\n    .collect(Collectors.toList());\n</code></pre>\n\n<p>If your preparedStatement.toString() is different than in my case it's just a matter of \"adjusting\" regex.</p>\n"},{"tags":[],"owner":{"account_id":232328,"reputation":1581,"user_id":497087,"accept_rate":71,"display_name":"user497087"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1535376244,"creation_date":1535376244,"answer_id":52040441,"question_id":2382532,"body_markdown":"Very late :) but you can get the original SQL from an OraclePreparedStatementWrapper by\r\n\r\n    ((OraclePreparedStatementWrapper) preparedStatement).getOriginalSql();\r\n","title":"How can I get the SQL of a PreparedStatement?","body":"<p>Very late :) but you can get the original SQL from an OraclePreparedStatementWrapper by</p>\n\n<pre><code>((OraclePreparedStatementWrapper) preparedStatement).getOriginalSql();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1588425158,"creation_date":1540549208,"answer_id":53006570,"question_id":2382532,"body_markdown":"Using **PostgreSQL 9.6.x** with official Java driver `42.2.4`:\r\n    \r\n    ...myPreparedStatement.execute...\r\n    myPreparedStatement.toString()\r\n\r\nWill show the SQL with the `?` already replaced, which is what I was looking for.\r\nJust added this answer to cover the postgres case.\r\n\r\nI would never have thought it could be so simple.","title":"How can I get the SQL of a PreparedStatement?","body":"<p>Using <strong>PostgreSQL 9.6.x</strong> with official Java driver <code>42.2.4</code>:</p>\n\n<pre><code>...myPreparedStatement.execute...\nmyPreparedStatement.toString()\n</code></pre>\n\n<p>Will show the SQL with the <code>?</code> already replaced, which is what I was looking for.\nJust added this answer to cover the postgres case.</p>\n\n<p>I would never have thought it could be so simple.</p>\n"},{"tags":[],"owner":{"account_id":27335876,"reputation":1,"user_id":20847318,"display_name":"南龍貓"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671799748,"creation_date":1671799748,"answer_id":74899824,"question_id":2382532,"body_markdown":"You can try to use javaagent to print SQL:\r\n\r\n```\r\n\r\npublic class Main {\r\n\r\n    private static final String mybatisPath = &quot;org.apache.ibatis.executor.statement.PreparedStatementHandler&quot;;\r\n    private static final String mybatisMethod = &quot;parameterize&quot;;\r\n    private static final String sqlPath = &quot;java.sql.Statement&quot;;\r\n\r\n\r\n    public static void premain(String arg, Instrumentation instrumentation) {\r\n\r\n        instrumentation.addTransformer(new ClassFileTransformer() {\r\n            @Override\r\n            public byte[] transform(\r\n                    ClassLoader loader,\r\n                    String className,\r\n                    Class&lt;?&gt; classBeingRedefined,\r\n                    ProtectionDomain protectionDomain,\r\n                    byte[] classfileBuffer) throws IllegalClassFormatException {\r\n\r\n                if (!mybatisPath.replaceAll(&quot;\\\\.&quot;, &quot;/&quot;).equals(className)) {\r\n                    return null;\r\n                }\r\n                ClassPool pool = new ClassPool();\r\n                pool.appendClassPath(new LoaderClassPath(loader));\r\n                pool.appendSystemPath();\r\n\r\n                try {\r\n                    CtClass ctClass = pool.get(mybatisPath);\r\n                    CtMethod method = ctClass.getDeclaredMethod(mybatisMethod, new CtClass[]{pool.get(sqlPath)});\r\n                    method.insertAfter(&quot;cn.wjhub.Main#printSQL($1)&quot;);\r\n\r\n                    return ctClass.toBytecode();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return null;\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * printSQL\r\n     *\r\n     * @param statement statement\r\n     */\r\n    private void printSQL(Statement statement) {\r\n        String sqlSource = statement.toString();\r\n        System.out.println(sqlSource);\r\n    }\r\n}\r\n```","title":"How can I get the SQL of a PreparedStatement?","body":"<p>You can try to use javaagent to print SQL:</p>\n<pre><code>\npublic class Main {\n\n    private static final String mybatisPath = &quot;org.apache.ibatis.executor.statement.PreparedStatementHandler&quot;;\n    private static final String mybatisMethod = &quot;parameterize&quot;;\n    private static final String sqlPath = &quot;java.sql.Statement&quot;;\n\n\n    public static void premain(String arg, Instrumentation instrumentation) {\n\n        instrumentation.addTransformer(new ClassFileTransformer() {\n            @Override\n            public byte[] transform(\n                    ClassLoader loader,\n                    String className,\n                    Class&lt;?&gt; classBeingRedefined,\n                    ProtectionDomain protectionDomain,\n                    byte[] classfileBuffer) throws IllegalClassFormatException {\n\n                if (!mybatisPath.replaceAll(&quot;\\\\.&quot;, &quot;/&quot;).equals(className)) {\n                    return null;\n                }\n                ClassPool pool = new ClassPool();\n                pool.appendClassPath(new LoaderClassPath(loader));\n                pool.appendSystemPath();\n\n                try {\n                    CtClass ctClass = pool.get(mybatisPath);\n                    CtMethod method = ctClass.getDeclaredMethod(mybatisMethod, new CtClass[]{pool.get(sqlPath)});\n                    method.insertAfter(&quot;cn.wjhub.Main#printSQL($1)&quot;);\n\n                    return ctClass.toBytecode();\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n                return null;\n            }\n        });\n    }\n\n    /**\n     * printSQL\n     *\n     * @param statement statement\n     */\n    private void printSQL(Statement statement) {\n        String sqlSource = statement.toString();\n        System.out.println(sqlSource);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11790704,"reputation":11,"user_id":8626941,"display_name":"Valerio Benatti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689242344,"creation_date":1689242344,"answer_id":76678144,"question_id":2382532,"body_markdown":"with Oracle:\r\n\r\n    public static String getSQLFromPreparedStatement(PreparedStatement preparedStatement) {\r\n        if (preparedStatement instanceof OraclePreparedStatement) {\r\n            OraclePreparedStatement oraclePreparedStatement = (OraclePreparedStatement) preparedStatement;\r\n            try {\r\n                return oraclePreparedStatement.getOriginalSql();\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n\r\n","title":"How can I get the SQL of a PreparedStatement?","body":"<p>with Oracle:</p>\n<pre><code>public static String getSQLFromPreparedStatement(PreparedStatement preparedStatement) {\n    if (preparedStatement instanceof OraclePreparedStatement) {\n        OraclePreparedStatement oraclePreparedStatement = (OraclePreparedStatement) preparedStatement;\n        try {\n            return oraclePreparedStatement.getOriginalSql();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":95258,"reputation":80673,"user_id":259541,"accept_rate":81,"display_name":"froadie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321644,"favorite_count":0,"down_vote_count":1,"up_vote_count":193,"accepted_answer_id":2382561,"answer_count":15,"score":192,"last_activity_date":1689242344,"creation_date":1267734947,"question_id":2382532,"body_markdown":"I have a general Java method with the following method signature:\r\n\r\n    private static ResultSet runSQLResultSet(String sql, Object... queryParams)\r\n\r\nIt opens a connection, builds a `PreparedStatement` using the sql statement and the parameters in the `queryParams` variable length array, runs it, caches the `ResultSet` (in a `CachedRowSetImpl`), closes the connection, and returns the cached result set.\r\n\r\nI have exception handling in the method that logs errors. I log the sql statement as part of the log since it&#39;s very helpful for debugging. My problem is that logging the String variable `sql` logs the template statement with ?&#39;s instead of actual values. I want to log the *actual* statement that was executed (or tried to execute).\r\n\r\nSo... Is there any way to get the actual SQL statement that will be run by a `PreparedStatement`? (*Without* building it myself. If I can&#39;t find a way to access the `PreparedStatement&#39;s` SQL, I&#39;ll probably end up building it myself in my `catch`es.)\r\n\r\n","title":"How can I get the SQL of a PreparedStatement?","body":"<p>I have a general Java method with the following method signature:</p>\n\n<pre><code>private static ResultSet runSQLResultSet(String sql, Object... queryParams)\n</code></pre>\n\n<p>It opens a connection, builds a <code>PreparedStatement</code> using the sql statement and the parameters in the <code>queryParams</code> variable length array, runs it, caches the <code>ResultSet</code> (in a <code>CachedRowSetImpl</code>), closes the connection, and returns the cached result set.</p>\n\n<p>I have exception handling in the method that logs errors. I log the sql statement as part of the log since it's very helpful for debugging. My problem is that logging the String variable <code>sql</code> logs the template statement with ?'s instead of actual values. I want to log the <em>actual</em> statement that was executed (or tried to execute).</p>\n\n<p>So... Is there any way to get the actual SQL statement that will be run by a <code>PreparedStatement</code>? (<em>Without</em> building it myself. If I can't find a way to access the <code>PreparedStatement's</code> SQL, I'll probably end up building it myself in my <code>catch</code>es.)</p>\n"},{"tags":["java","spring","quartz-scheduler","spring-framework-beans"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689242072,"post_id":75862860,"comment_id":135186804,"body_markdown":"No it didn&#39;t. It always supported just 6 (as it also says in the documentation -&gt; *The pattern is a list of six single space-separated fields: representing second, minute, hour, day, month, weekday* from the documentation of `CronSequenceGenerator`.","body":"No it didn&#39;t. It always supported just 6 (as it also says in the documentation -&gt; <i>The pattern is a list of six single space-separated fields: representing second, minute, hour, day, month, weekday</i> from the documentation of <code>CronSequenceGenerator</code>."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689242300,"creation_date":1689242300,"answer_id":76678136,"question_id":75862860,"body_markdown":"The `CronSequenceGenerator` never supported 7 fields it has ever only supported 6 fields even since it inception in [Spring 3][1]. \r\n\r\n&gt; The pattern is a list of six single space-separated fields: representing second, minute, hour, day, month, weekday. Month and weekday names can be given as the first three letters of the English names.\r\n\r\nThis comes from the documentation of the `CronSequenceGenerator` in Spring 3, and it remained the same more or less throughout the current version. \r\n\r\nAnother thing you misunderstood is that there is a dependency on Quartz, there isn&#39;t, the code parses it itself and doesn&#39;t use anything quartz related. \r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/3.0.x/javadoc-api/org/springframework/scheduling/support/CronSequenceGenerator.html\r\n","title":"Spring CronExpression - Why remove support for year field?","body":"<p>The <code>CronSequenceGenerator</code> never supported 7 fields it has ever only supported 6 fields even since it inception in <a href=\"https://docs.spring.io/spring-framework/docs/3.0.x/javadoc-api/org/springframework/scheduling/support/CronSequenceGenerator.html\" rel=\"nofollow noreferrer\">Spring 3</a>.</p>\n<blockquote>\n<p>The pattern is a list of six single space-separated fields: representing second, minute, hour, day, month, weekday. Month and weekday names can be given as the first three letters of the English names.</p>\n</blockquote>\n<p>This comes from the documentation of the <code>CronSequenceGenerator</code> in Spring 3, and it remained the same more or less throughout the current version.</p>\n<p>Another thing you misunderstood is that there is a dependency on Quartz, there isn't, the code parses it itself and doesn't use anything quartz related.</p>\n"}],"owner":{"account_id":15874551,"reputation":101,"user_id":11454171,"display_name":"Gayathry S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1689242300,"creation_date":1679983948,"question_id":75862860,"body_markdown":"I have an application in spring boot, so naturally I used [CronExpression](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronExpression.html) which spring itself provides. But now I am starting to wonder - the old class [CronSequenceGenerator](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronSequenceGenerator.html) was able to support cron expressions that has 7 fields(including year) and they depreciated it in favour of CronExpression.I understand they were moving away from an extra dependency on quartz. But why would they do it without supporting year too? I mean when compared to unix crons, they support and handle seconds field. The same way, couldn&#39;t they have supported year too?\r\nIs there a reason why not having year field is better?","title":"Spring CronExpression - Why remove support for year field?","body":"<p>I have an application in spring boot, so naturally I used <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronExpression.html\" rel=\"nofollow noreferrer\">CronExpression</a> which spring itself provides. But now I am starting to wonder - the old class <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronSequenceGenerator.html\" rel=\"nofollow noreferrer\">CronSequenceGenerator</a> was able to support cron expressions that has 7 fields(including year) and they depreciated it in favour of CronExpression.I understand they were moving away from an extra dependency on quartz. But why would they do it without supporting year too? I mean when compared to unix crons, they support and handle seconds field. The same way, couldn't they have supported year too?\nIs there a reason why not having year field is better?</p>\n"},{"tags":["java","postgresql","keycloak","infinispan"],"answers":[{"tags":[],"owner":{"account_id":23889990,"reputation":31,"user_id":17889771,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689242298,"creation_date":1689242298,"answer_id":76678135,"question_id":76661708,"body_markdown":"I have solved the problem myself. The cause why sessions tables were empty was that Keycloak prevents saving cached entities when infinispan is used as its local cache. \r\nIt adds some flags that skip saving data. See: [CacheDecorators class here][1]\r\n\r\nSo there are two ways to solve this. Either to use external instance of Infinispan and make Keycloak to use it, either patch the CacheDecorators class to turn off adding the SKIP_CACHE_STORE flags. I have chosen the second way. I assembled my own version of keycloak-model-infinispan.jar and mounted it into the Keycloak container. \r\nThanks to Thomas Darimont [and his solution][2]\r\n\r\n\r\n  [1]: https://github.com/keycloak/keycloak/blob/f22fbd97d37b6675c2225b5f665e4e59d28a51f3/model/infinispan/src/main/java/org/keycloak/models/sessions/infinispan/CacheDecorators.java#L53\r\n  [2]: https://groups.google.com/g/keycloak-dev/c/sOBzG76f2FE","title":"Infinispan doesn&#39;t write any sessions in JDBC persisted cache in Keycloak 21.0.2","body":"<p>I have solved the problem myself. The cause why sessions tables were empty was that Keycloak prevents saving cached entities when infinispan is used as its local cache.\nIt adds some flags that skip saving data. See: <a href=\"https://github.com/keycloak/keycloak/blob/f22fbd97d37b6675c2225b5f665e4e59d28a51f3/model/infinispan/src/main/java/org/keycloak/models/sessions/infinispan/CacheDecorators.java#L53\" rel=\"nofollow noreferrer\">CacheDecorators class here</a></p>\n<p>So there are two ways to solve this. Either to use external instance of Infinispan and make Keycloak to use it, either patch the CacheDecorators class to turn off adding the SKIP_CACHE_STORE flags. I have chosen the second way. I assembled my own version of keycloak-model-infinispan.jar and mounted it into the Keycloak container.\nThanks to Thomas Darimont <a href=\"https://groups.google.com/g/keycloak-dev/c/sOBzG76f2FE\" rel=\"nofollow noreferrer\">and his solution</a></p>\n"}],"owner":{"account_id":23889990,"reputation":31,"user_id":17889771,"display_name":"Nick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76678135,"answer_count":1,"score":1,"last_activity_date":1689242298,"creation_date":1689076438,"question_id":76661708,"body_markdown":"I&#39;m trying to configure database-persisted sessions in Keycloak 21.0.2\r\nI have created my custom settings file for infinispan cache cache-ispn-jdbc-persistence.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;infinispan\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;urn:infinispan:config:14.0 http://www.infinispan.org/schemas/infinispan-config-14.xsd&quot;\r\n        xmlns=&quot;urn:infinispan:config:14.0&quot;&gt;\r\n\r\n    &lt;cache-container name=&quot;keycloak&quot;&gt;\r\n        &lt;transport lock-timeout=&quot;60000&quot; /&gt;\r\n        &lt;local-cache name=&quot;realms&quot;&gt;\r\n            &lt;encoding&gt;\r\n                &lt;key media-type=&quot;application/x-java-object&quot;/&gt;\r\n                &lt;value media-type=&quot;application/x-java-object&quot;/&gt;\r\n            &lt;/encoding&gt;\r\n            &lt;memory max-count=&quot;10000&quot;/&gt;\r\n        &lt;/local-cache&gt;\r\n        &lt;local-cache name=&quot;users&quot;&gt;\r\n            &lt;encoding&gt;\r\n                &lt;key media-type=&quot;application/x-java-object&quot;/&gt;\r\n                &lt;value media-type=&quot;application/x-java-object&quot;/&gt;\r\n            &lt;/encoding&gt;\r\n            &lt;memory max-count=&quot;10000&quot;/&gt;\r\n        &lt;/local-cache&gt;\r\n        &lt;distributed-cache name=&quot;sessions&quot; owners=&quot;2&quot;&gt;\r\n            &lt;expiration /&gt;\r\n            &lt;persistence passivation=&quot;false&quot;&gt;\r\n                &lt;string-keyed-jdbc-store\r\n                        xmlns=&quot;urn:infinispan:config:store:jdbc:14.0&quot;\r\n                        dialect=&quot;POSTGRES&quot;\r\n                        shared=&quot;true&quot;\r\n                        segmented=&quot;false&quot;\r\n                        purge=&quot;false&quot;\r\n                        preload=&quot;true&quot;&gt;\r\n                    &lt;connection-pool\r\n                            connection-url=&quot;jdbc:postgresql://postgres:5432/keycloak?ApplicationName=keycloak-ispn&quot;\r\n                            username=&quot;dbuser&quot;\r\n                            password=&quot;dbpwd&quot;\r\n                            driver=&quot;org.postgresql.Driver&quot;/&gt;\r\n                    &lt;string-keyed-table create-on-start=&quot;true&quot; fetch-size=&quot;10000&quot; prefix=&quot;ispn&quot;&gt;\r\n                        &lt;id-column name=&quot;id&quot; type=&quot;VARCHAR(255)&quot; /&gt;\r\n                        &lt;data-column name=&quot;datum&quot; type=&quot;BYTEA&quot; /&gt;\r\n                        &lt;timestamp-column name=&quot;timestamp&quot; type=&quot;BIGINT&quot; /&gt;\r\n                    &lt;/string-keyed-table&gt;\r\n                &lt;/string-keyed-jdbc-store&gt;\r\n            &lt;/persistence&gt;\r\n        &lt;/distributed-cache&gt;\r\n        &lt;distributed-cache name=&quot;clientSessions&quot; owners=&quot;2&quot;&gt;\r\n            &lt;expiration /&gt;\r\n            &lt;persistence passivation=&quot;false&quot;&gt;\r\n                &lt;string-keyed-jdbc-store\r\n                        xmlns=&quot;urn:infinispan:config:store:jdbc:14.0&quot;\r\n                        dialect=&quot;POSTGRES&quot;\r\n                        shared=&quot;true&quot;\r\n                        segmented=&quot;false&quot;\r\n                        purge=&quot;false&quot;\r\n                        preload=&quot;true&quot;&gt;\r\n                    &lt;connection-pool\r\n                            connection-url=&quot;jdbc:postgresql://postgres:5432/keycloak?ApplicationName=keycloak-ispn&quot;\r\n                            username=&quot;dbuser&quot;\r\n                            password=&quot;dppwd&quot;\r\n                            driver=&quot;org.postgresql.Driver&quot;/&gt;\r\n                    &lt;string-keyed-table create-on-start=&quot;true&quot; fetch-size=&quot;10000&quot; prefix=&quot;ispn&quot;&gt;\r\n                        &lt;id-column name=&quot;id&quot; type=&quot;VARCHAR(255)&quot; /&gt;\r\n                        &lt;data-column name=&quot;datum&quot; type=&quot;BYTEA&quot; /&gt;\r\n                        &lt;timestamp-column name=&quot;timestamp&quot; type=&quot;BIGINT&quot; /&gt;\r\n                    &lt;/string-keyed-table&gt;\r\n                &lt;/string-keyed-jdbc-store&gt;\r\n            &lt;/persistence&gt;\r\n        &lt;/distributed-cache&gt;\r\n        &lt;distributed-cache name=&quot;authenticationSessions&quot; owners=&quot;2&quot;&gt;\r\n            &lt;expiration lifespan=&quot;-1&quot;/&gt;\r\n        &lt;/distributed-cache&gt;\r\n        &lt;distributed-cache name=&quot;offlineSessions&quot; owners=&quot;2&quot;&gt;\r\n            &lt;expiration lifespan=&quot;-1&quot;/&gt;\r\n        &lt;/distributed-cache&gt;\r\n        &lt;distributed-cache name=&quot;offlineClientSessions&quot; owners=&quot;2&quot;&gt;\r\n            &lt;expiration lifespan=&quot;-1&quot;/&gt;\r\n        &lt;/distributed-cache&gt;\r\n        &lt;distributed-cache name=&quot;loginFailures&quot; owners=&quot;2&quot;&gt;\r\n            &lt;expiration lifespan=&quot;-1&quot;/&gt;\r\n        &lt;/distributed-cache&gt;\r\n        &lt;local-cache name=&quot;authorization&quot;&gt;\r\n            &lt;encoding&gt;\r\n                &lt;key media-type=&quot;application/x-java-object&quot;/&gt;\r\n                &lt;value media-type=&quot;application/x-java-object&quot;/&gt;\r\n            &lt;/encoding&gt;\r\n            &lt;memory max-count=&quot;10000&quot;/&gt;\r\n        &lt;/local-cache&gt;\r\n        &lt;replicated-cache name=&quot;work&quot;&gt;\r\n            &lt;expiration lifespan=&quot;-1&quot;/&gt;\r\n        &lt;/replicated-cache&gt;\r\n        &lt;local-cache name=&quot;keys&quot;&gt;\r\n            &lt;encoding&gt;\r\n                &lt;key media-type=&quot;application/x-java-object&quot;/&gt;\r\n                &lt;value media-type=&quot;application/x-java-object&quot;/&gt;\r\n            &lt;/encoding&gt;\r\n            &lt;expiration max-idle=&quot;3600000&quot;/&gt;\r\n            &lt;memory max-count=&quot;1000&quot;/&gt;\r\n        &lt;/local-cache&gt;\r\n        &lt;distributed-cache name=&quot;actionTokens&quot; owners=&quot;2&quot;&gt;\r\n            &lt;encoding&gt;\r\n                &lt;key media-type=&quot;application/x-java-object&quot;/&gt;\r\n                &lt;value media-type=&quot;application/x-java-object&quot;/&gt;\r\n            &lt;/encoding&gt;\r\n            &lt;expiration max-idle=&quot;-1&quot; lifespan=&quot;-1&quot; interval=&quot;300000&quot;/&gt;\r\n            &lt;memory max-count=&quot;-1&quot;/&gt;\r\n        &lt;/distributed-cache&gt;\r\n    &lt;/cache-container&gt;\r\n&lt;/infinispan&gt;\r\n\r\n```\r\n\r\n\r\n\r\nIt creates following tables: ispn_clientSessions, ispn_clientSessions_META, ispn_sessions, ispn_sessions_META. The *_META tables store some data. However when I log in as admin in Keycloak ispn_clientSessions and ispn_sessions are staying emty. Also nothing is stored after logout. Restarting the Keycloak causes session destruction. \r\n\r\nPlease help me to figure out why sessions are not saved.","title":"Infinispan doesn&#39;t write any sessions in JDBC persisted cache in Keycloak 21.0.2","body":"<p>I'm trying to configure database-persisted sessions in Keycloak 21.0.2\nI have created my custom settings file for infinispan cache cache-ispn-jdbc-persistence.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;infinispan\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;urn:infinispan:config:14.0 http://www.infinispan.org/schemas/infinispan-config-14.xsd&quot;\n        xmlns=&quot;urn:infinispan:config:14.0&quot;&gt;\n\n    &lt;cache-container name=&quot;keycloak&quot;&gt;\n        &lt;transport lock-timeout=&quot;60000&quot; /&gt;\n        &lt;local-cache name=&quot;realms&quot;&gt;\n            &lt;encoding&gt;\n                &lt;key media-type=&quot;application/x-java-object&quot;/&gt;\n                &lt;value media-type=&quot;application/x-java-object&quot;/&gt;\n            &lt;/encoding&gt;\n            &lt;memory max-count=&quot;10000&quot;/&gt;\n        &lt;/local-cache&gt;\n        &lt;local-cache name=&quot;users&quot;&gt;\n            &lt;encoding&gt;\n                &lt;key media-type=&quot;application/x-java-object&quot;/&gt;\n                &lt;value media-type=&quot;application/x-java-object&quot;/&gt;\n            &lt;/encoding&gt;\n            &lt;memory max-count=&quot;10000&quot;/&gt;\n        &lt;/local-cache&gt;\n        &lt;distributed-cache name=&quot;sessions&quot; owners=&quot;2&quot;&gt;\n            &lt;expiration /&gt;\n            &lt;persistence passivation=&quot;false&quot;&gt;\n                &lt;string-keyed-jdbc-store\n                        xmlns=&quot;urn:infinispan:config:store:jdbc:14.0&quot;\n                        dialect=&quot;POSTGRES&quot;\n                        shared=&quot;true&quot;\n                        segmented=&quot;false&quot;\n                        purge=&quot;false&quot;\n                        preload=&quot;true&quot;&gt;\n                    &lt;connection-pool\n                            connection-url=&quot;jdbc:postgresql://postgres:5432/keycloak?ApplicationName=keycloak-ispn&quot;\n                            username=&quot;dbuser&quot;\n                            password=&quot;dbpwd&quot;\n                            driver=&quot;org.postgresql.Driver&quot;/&gt;\n                    &lt;string-keyed-table create-on-start=&quot;true&quot; fetch-size=&quot;10000&quot; prefix=&quot;ispn&quot;&gt;\n                        &lt;id-column name=&quot;id&quot; type=&quot;VARCHAR(255)&quot; /&gt;\n                        &lt;data-column name=&quot;datum&quot; type=&quot;BYTEA&quot; /&gt;\n                        &lt;timestamp-column name=&quot;timestamp&quot; type=&quot;BIGINT&quot; /&gt;\n                    &lt;/string-keyed-table&gt;\n                &lt;/string-keyed-jdbc-store&gt;\n            &lt;/persistence&gt;\n        &lt;/distributed-cache&gt;\n        &lt;distributed-cache name=&quot;clientSessions&quot; owners=&quot;2&quot;&gt;\n            &lt;expiration /&gt;\n            &lt;persistence passivation=&quot;false&quot;&gt;\n                &lt;string-keyed-jdbc-store\n                        xmlns=&quot;urn:infinispan:config:store:jdbc:14.0&quot;\n                        dialect=&quot;POSTGRES&quot;\n                        shared=&quot;true&quot;\n                        segmented=&quot;false&quot;\n                        purge=&quot;false&quot;\n                        preload=&quot;true&quot;&gt;\n                    &lt;connection-pool\n                            connection-url=&quot;jdbc:postgresql://postgres:5432/keycloak?ApplicationName=keycloak-ispn&quot;\n                            username=&quot;dbuser&quot;\n                            password=&quot;dppwd&quot;\n                            driver=&quot;org.postgresql.Driver&quot;/&gt;\n                    &lt;string-keyed-table create-on-start=&quot;true&quot; fetch-size=&quot;10000&quot; prefix=&quot;ispn&quot;&gt;\n                        &lt;id-column name=&quot;id&quot; type=&quot;VARCHAR(255)&quot; /&gt;\n                        &lt;data-column name=&quot;datum&quot; type=&quot;BYTEA&quot; /&gt;\n                        &lt;timestamp-column name=&quot;timestamp&quot; type=&quot;BIGINT&quot; /&gt;\n                    &lt;/string-keyed-table&gt;\n                &lt;/string-keyed-jdbc-store&gt;\n            &lt;/persistence&gt;\n        &lt;/distributed-cache&gt;\n        &lt;distributed-cache name=&quot;authenticationSessions&quot; owners=&quot;2&quot;&gt;\n            &lt;expiration lifespan=&quot;-1&quot;/&gt;\n        &lt;/distributed-cache&gt;\n        &lt;distributed-cache name=&quot;offlineSessions&quot; owners=&quot;2&quot;&gt;\n            &lt;expiration lifespan=&quot;-1&quot;/&gt;\n        &lt;/distributed-cache&gt;\n        &lt;distributed-cache name=&quot;offlineClientSessions&quot; owners=&quot;2&quot;&gt;\n            &lt;expiration lifespan=&quot;-1&quot;/&gt;\n        &lt;/distributed-cache&gt;\n        &lt;distributed-cache name=&quot;loginFailures&quot; owners=&quot;2&quot;&gt;\n            &lt;expiration lifespan=&quot;-1&quot;/&gt;\n        &lt;/distributed-cache&gt;\n        &lt;local-cache name=&quot;authorization&quot;&gt;\n            &lt;encoding&gt;\n                &lt;key media-type=&quot;application/x-java-object&quot;/&gt;\n                &lt;value media-type=&quot;application/x-java-object&quot;/&gt;\n            &lt;/encoding&gt;\n            &lt;memory max-count=&quot;10000&quot;/&gt;\n        &lt;/local-cache&gt;\n        &lt;replicated-cache name=&quot;work&quot;&gt;\n            &lt;expiration lifespan=&quot;-1&quot;/&gt;\n        &lt;/replicated-cache&gt;\n        &lt;local-cache name=&quot;keys&quot;&gt;\n            &lt;encoding&gt;\n                &lt;key media-type=&quot;application/x-java-object&quot;/&gt;\n                &lt;value media-type=&quot;application/x-java-object&quot;/&gt;\n            &lt;/encoding&gt;\n            &lt;expiration max-idle=&quot;3600000&quot;/&gt;\n            &lt;memory max-count=&quot;1000&quot;/&gt;\n        &lt;/local-cache&gt;\n        &lt;distributed-cache name=&quot;actionTokens&quot; owners=&quot;2&quot;&gt;\n            &lt;encoding&gt;\n                &lt;key media-type=&quot;application/x-java-object&quot;/&gt;\n                &lt;value media-type=&quot;application/x-java-object&quot;/&gt;\n            &lt;/encoding&gt;\n            &lt;expiration max-idle=&quot;-1&quot; lifespan=&quot;-1&quot; interval=&quot;300000&quot;/&gt;\n            &lt;memory max-count=&quot;-1&quot;/&gt;\n        &lt;/distributed-cache&gt;\n    &lt;/cache-container&gt;\n&lt;/infinispan&gt;\n\n</code></pre>\n<p>It creates following tables: ispn_clientSessions, ispn_clientSessions_META, ispn_sessions, ispn_sessions_META. The *_META tables store some data. However when I log in as admin in Keycloak ispn_clientSessions and ispn_sessions are staying emty. Also nothing is stored after logout. Restarting the Keycloak causes session destruction.</p>\n<p>Please help me to figure out why sessions are not saved.</p>\n"},{"tags":["java","tomcat","jsf"],"comments":[{"owner":{"account_id":29006127,"reputation":1,"user_id":22218616,"display_name":"Lucas Minni"},"score":0,"creation_date":1689376243,"post_id":76675252,"comment_id":135209946,"body_markdown":"I moved the .jar files to the folder lib and downgradaded the tomcat 9.0 version. Now its all working. Thanks !!","body":"I moved the .jar files to the folder lib and downgradaded the tomcat 9.0 version. Now its all working. Thanks !!"}],"owner":{"account_id":29006127,"reputation":1,"user_id":22218616,"display_name":"Lucas Minni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689242176,"answer_count":0,"score":0,"last_activity_date":1689242247,"creation_date":1689209287,"question_id":76675252,"body_markdown":"When trying to deploy my JSF project i&#39;m receiving the following error:\r\n\r\n`SEVERE: Servlet [Faces Servlet] in web application [/projetojsf] threw load() exception java.lang.ClassNotFoundException: javax.faces.webapp.FacesServlet \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1437) \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1245) \tat org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:490) \tat org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:472) \tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:142) \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:865) \tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:805) \tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4633) \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4926) \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846) \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241) \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:919) \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) \tat org.apache.catalina.startup.Catalina.start(Catalina.java:795) \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347) \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)`\r\n\r\nI&#39;ve already tried to manually put the .jar files into the lib folder, but when I do it, I receive another error:\r\n\r\nServer Tomcat v10.1 Server at localhost failed to start.\r\n\r\nCan someone please help me?\r\n\r\nI&#39;m expecting to deploy the tomcat project so I can work with JSF","title":"JSF and Tomcat - Cant deploy","body":"<p>When trying to deploy my JSF project i'm receiving the following error:</p>\n<p><code>SEVERE: Servlet [Faces Servlet] in web application [/projetojsf] threw load() exception java.lang.ClassNotFoundException: javax.faces.webapp.FacesServlet  at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1437)  at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1245)  at org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:490)   at org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:472)    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:142)     at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:865)   at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:805)  at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4633)    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4926)    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)     at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328)  at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318)  at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)   at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)  at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)  at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)     at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)   at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)     at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328)  at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318)  at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)   at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)  at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)  at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)     at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)   at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)     at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)     at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)     at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:919)   at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)     at org.apache.catalina.startup.Catalina.start(Catalina.java:795)    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)     at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)     at java.base/java.lang.reflect.Method.invoke(Method.java:568)   at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)  at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)</code></p>\n<p>I've already tried to manually put the .jar files into the lib folder, but when I do it, I receive another error:</p>\n<p>Server Tomcat v10.1 Server at localhost failed to start.</p>\n<p>Can someone please help me?</p>\n<p>I'm expecting to deploy the tomcat project so I can work with JSF</p>\n"},{"tags":["java","android","json","okhttp","json-server"],"comments":[{"owner":{"account_id":9210813,"reputation":433,"user_id":6844062,"accept_rate":67,"display_name":"sigillum_conf"},"score":0,"creation_date":1478897727,"post_id":40554639,"comment_id":68350265,"body_markdown":"aw man I&#39;m going to get another tumbleweed...","body":"aw man I&#39;m going to get another tumbleweed..."},{"owner":{"account_id":413213,"reputation":35885,"user_id":786718,"accept_rate":87,"display_name":"DeeV"},"score":0,"creation_date":1478898037,"post_id":40554639,"comment_id":68350411,"body_markdown":"Have you been able to make requests to the server using a browser or PostMan?","body":"Have you been able to make requests to the server using a browser or PostMan?"},{"owner":{"account_id":413213,"reputation":35885,"user_id":786718,"accept_rate":87,"display_name":"DeeV"},"score":1,"creation_date":1478898121,"post_id":40554639,"comment_id":68350439,"body_markdown":"Oh, wait.  Is this server on the phone?  localhost will only go to servers on the phone which is more difficult.  You need to link to the network IP.","body":"Oh, wait.  Is this server on the phone?  localhost will only go to servers on the phone which is more difficult.  You need to link to the network IP."},{"owner":{"account_id":9210813,"reputation":433,"user_id":6844062,"accept_rate":67,"display_name":"sigillum_conf"},"score":0,"creation_date":1478898227,"post_id":40554639,"comment_id":68350489,"body_markdown":"@DeeV indeed, It works on both postman as well as on the browser. Heck, it even works with a Python script I made to test it out.","body":"@DeeV indeed, It works on both postman as well as on the browser. Heck, it even works with a Python script I made to test it out."},{"owner":{"account_id":413213,"reputation":35885,"user_id":786718,"accept_rate":87,"display_name":"DeeV"},"score":3,"creation_date":1478898355,"post_id":40554639,"comment_id":68350531,"body_markdown":"On an Android Emulator, you should be able to link to running servers on your computer if you go to `10.0.2.2` instead of `localhost`.  Otherwise, if you&#39;re on a phone, you need to point it to the IP address in your local network, and it needs to be on the same wifi as your computer, and you need to remove whatever firewall may be blocking you.","body":"On an Android Emulator, you should be able to link to running servers on your computer if you go to <code>10.0.2.2</code> instead of <code>localhost</code>.  Otherwise, if you&#39;re on a phone, you need to point it to the IP address in your local network, and it needs to be on the same wifi as your computer, and you need to remove whatever firewall may be blocking you."},{"owner":{"account_id":9210813,"reputation":433,"user_id":6844062,"accept_rate":67,"display_name":"sigillum_conf"},"score":0,"creation_date":1478899271,"post_id":40554639,"comment_id":68350884,"body_markdown":"Made te change to 10.0.2.2 and now it is `http://10.0.2.2/create` but I am still not able to connect(gives a 404 now). I am working with the emulator at the moment. It is still not working but I learned something new. Thanks DeeV let&#39;s see if any other suggestions arise","body":"Made te change to 10.0.2.2 and now it is <code>http:&#47;&#47;10.0.2.2&#47;create</code> but I am still not able to connect(gives a 404 now). I am working with the emulator at the moment. It is still not working but I learned something new. Thanks DeeV let&#39;s see if any other suggestions arise"},{"owner":{"account_id":413213,"reputation":35885,"user_id":786718,"accept_rate":87,"display_name":"DeeV"},"score":1,"creation_date":1478899346,"post_id":40554639,"comment_id":68350908,"body_markdown":"You need the port too.","body":"You need the port too."},{"owner":{"account_id":9210813,"reputation":433,"user_id":6844062,"accept_rate":67,"display_name":"sigillum_conf"},"score":0,"creation_date":1478899457,"post_id":40554639,"comment_id":68350945,"body_markdown":"ah! that was silly. Many thanks!","body":"ah! that was silly. Many thanks!"}],"answers":[{"tags":[],"owner":{"account_id":5324275,"reputation":11,"user_id":4246733,"display_name":"Mohammad Zakir Pervez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689241446,"creation_date":1689241446,"answer_id":76678012,"question_id":40554639,"body_markdown":"You can bypass all you localhost call using a [Http Toolkit][1] without doing any changes. It will help you to bypass all your localhost calls to your device or emulator.\r\n\r\n\r\n  [1]: https://httptoolkit.com/","title":"Using npm json-server with Android studio","body":"<p>You can bypass all you localhost call using a <a href=\"https://httptoolkit.com/\" rel=\"nofollow noreferrer\">Http Toolkit</a> without doing any changes. It will help you to bypass all your localhost calls to your device or emulator.</p>\n"}],"owner":{"account_id":9210813,"reputation":433,"user_id":6844062,"accept_rate":67,"display_name":"sigillum_conf"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1204,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689241446,"creation_date":1478891455,"question_id":40554639,"body_markdown":"I have set a local npm json server using the mentioned tool which will return a very simple get request much like the one shown in the example say:\r\n\r\n    {\r\n      &quot;posts&quot;: [\r\n        { &quot;id&quot;: 1, &quot;title&quot;: &quot;json-server&quot;, &quot;author&quot;: &quot;typicode&quot; }\r\n      ],\r\n      &quot;comments&quot;: [\r\n        { &quot;id&quot;: 1, &quot;body&quot;: &quot;some comment&quot;, &quot;postId&quot;: 1 }\r\n      ],\r\n      &quot;profile&quot;: { &quot;name&quot;: &quot;typicode&quot; }\r\n    }\r\n\r\nAll permissions have been set in Android studio regarding internet permissions(which for something this simple it is all I need) and I am using a small okhttp script that makes the asynchronous request to the contents of the url, this is made inside a fragment( thus the use of `getActivity()`)\r\n\r\n    public void testAsyncCreate() {\r\n    \r\n            OkHttpClient client  = new OkHttpClient();\r\n            // no request body necessary since this is going to be handled via the get request as a testing purpose\r\n    \r\n            Request request = new Request.Builder()\r\n                    .url(&quot;http://localhost:3004/create&quot;)\r\n                    .build();\r\n    \r\n            Call call = client.newCall(request);\r\n    \r\n            call.enqueue(new Callback() {\r\n                @Override\r\n                public void onFailure(Call call, IOException e) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onResponse(Call call, Response response) throws IOException {\r\n    \r\n                    try {\r\n    \r\n                        final String jsonData = response.body().string(); // the exception is caught at this point\r\n                        getActivity().runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                Log.d(TAG,jsonData);\r\n                            }\r\n                        });\r\n    \r\n    \r\n    \r\n                    }catch(IOException e) {\r\n    \r\n                    }\r\n    \r\n                }\r\n            });\r\n        }\r\n\r\nThe request is made as soon as the &quot;user&quot; clicks a button. Thus far, my only response from this is:\r\n\r\n    No Network Security Config specified, using patform default\r\n\r\nWhich is quite interesting considering that the same request using a NON local server (for example get request made to the poke api) returns the body of the json content as intended)\r\n\r\nAt this point I am sure that it was to do with the fact that it is a local environment. And thus far I can&#39;t find specific documentation with details regarding testing on local environments. Debugging returns tag=null as soon as the `call.enqueue()` portion begins as well.","title":"Using npm json-server with Android studio","body":"<p>I have set a local npm json server using the mentioned tool which will return a very simple get request much like the one shown in the example say:</p>\n\n<pre><code>{\n  \"posts\": [\n    { \"id\": 1, \"title\": \"json-server\", \"author\": \"typicode\" }\n  ],\n  \"comments\": [\n    { \"id\": 1, \"body\": \"some comment\", \"postId\": 1 }\n  ],\n  \"profile\": { \"name\": \"typicode\" }\n}\n</code></pre>\n\n<p>All permissions have been set in Android studio regarding internet permissions(which for something this simple it is all I need) and I am using a small okhttp script that makes the asynchronous request to the contents of the url, this is made inside a fragment( thus the use of <code>getActivity()</code>)</p>\n\n<pre><code>public void testAsyncCreate() {\n\n        OkHttpClient client  = new OkHttpClient();\n        // no request body necessary since this is going to be handled via the get request as a testing purpose\n\n        Request request = new Request.Builder()\n                .url(\"http://localhost:3004/create\")\n                .build();\n\n        Call call = client.newCall(request);\n\n        call.enqueue(new Callback() {\n            @Override\n            public void onFailure(Call call, IOException e) {\n\n            }\n\n            @Override\n            public void onResponse(Call call, Response response) throws IOException {\n\n                try {\n\n                    final String jsonData = response.body().string(); // the exception is caught at this point\n                    getActivity().runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            Log.d(TAG,jsonData);\n                        }\n                    });\n\n\n\n                }catch(IOException e) {\n\n                }\n\n            }\n        });\n    }\n</code></pre>\n\n<p>The request is made as soon as the \"user\" clicks a button. Thus far, my only response from this is:</p>\n\n<pre><code>No Network Security Config specified, using patform default\n</code></pre>\n\n<p>Which is quite interesting considering that the same request using a NON local server (for example get request made to the poke api) returns the body of the json content as intended)</p>\n\n<p>At this point I am sure that it was to do with the fact that it is a local environment. And thus far I can't find specific documentation with details regarding testing on local environments. Debugging returns tag=null as soon as the <code>call.enqueue()</code> portion begins as well.</p>\n"},{"tags":["java","android","android-fragments","transactions"],"comments":[{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1689178968,"post_id":76671341,"comment_id":135177829,"body_markdown":"Can you provide your animation files?","body":"Can you provide your animation files?"}],"answers":[{"tags":[],"owner":{"account_id":15988224,"reputation":49,"user_id":19224324,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689241359,"creation_date":1689241359,"answer_id":76678000,"question_id":76671341,"body_markdown":"I finally managed to find the following solution\r\n\r\n            Fragment currentFragment = getSupportFragmentManager().findFragmentById(R.id.frag_container);\r\n            FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\r\n            transaction.setCustomAnimations(R.anim.open_next, R.anim.close_main, R.anim.open_main, R.anim.close_next);\r\n            transaction.add(R.id.frag_container, new Activity_SendTrack(), &quot;newFragment&quot;);\r\n            if (currentFragment != null) {\r\n                transaction.hide(currentFragment);\r\n            }\r\n            transaction.addToBackStack(&quot;Activity_Fragment&quot;);\r\n            transaction.commit();","title":"Incoming fragment must to be displayed above the outgoing fragment","body":"<p>I finally managed to find the following solution</p>\n<pre><code>        Fragment currentFragment = getSupportFragmentManager().findFragmentById(R.id.frag_container);\n        FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\n        transaction.setCustomAnimations(R.anim.open_next, R.anim.close_main, R.anim.open_main, R.anim.close_next);\n        transaction.add(R.id.frag_container, new Activity_SendTrack(), &quot;newFragment&quot;);\n        if (currentFragment != null) {\n            transaction.hide(currentFragment);\n        }\n        transaction.addToBackStack(&quot;Activity_Fragment&quot;);\n        transaction.commit();\n</code></pre>\n"}],"owner":{"account_id":15988224,"reputation":49,"user_id":19224324,"display_name":"Nick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76678000,"answer_count":1,"score":0,"last_activity_date":1689241359,"creation_date":1689169951,"question_id":76671341,"body_markdown":"I&#39;m trying to replace a fragment from a container with another fragment. for this I use this code:\r\n\r\n\r\n     FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\r\n        transaction.setCustomAnimations(R.anim.open_next, R.anim.close_next, R.anim.open_main, R.anim.close_next);\r\n        transaction.replace(R.id.frag_container, new Activity_SendTrack(), &quot;newFragment&quot;);\r\n        transaction.addToBackStack(&quot;Activity_Fragment2&quot;);\r\n        transaction.commit();\r\n\r\nEverything goes perfectly with one exception, the incoming fragment is animated below the outgoing fragment. I want the new incoming fragment to be displayed above the outgoing fragment. how can i solve the problem?","title":"Incoming fragment must to be displayed above the outgoing fragment","body":"<p>I'm trying to replace a fragment from a container with another fragment. for this I use this code:</p>\n<pre><code> FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\n    transaction.setCustomAnimations(R.anim.open_next, R.anim.close_next, R.anim.open_main, R.anim.close_next);\n    transaction.replace(R.id.frag_container, new Activity_SendTrack(), &quot;newFragment&quot;);\n    transaction.addToBackStack(&quot;Activity_Fragment2&quot;);\n    transaction.commit();\n</code></pre>\n<p>Everything goes perfectly with one exception, the incoming fragment is animated below the outgoing fragment. I want the new incoming fragment to be displayed above the outgoing fragment. how can i solve the problem?</p>\n"},{"tags":["javascript","java","html","server","java-17"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1689242107,"post_id":76677918,"comment_id":135186811,"body_markdown":"Have you tried using an ip instead of localhost, like 127.0.0.1? Probably won&#39;t make a difference but I&#39;ve had systems that just didn&#39;t feel like resolving localhost correctly before.","body":"Have you tried using an ip instead of localhost, like 127.0.0.1? Probably won&#39;t make a difference but I&#39;ve had systems that just didn&#39;t feel like resolving localhost correctly before."},{"owner":{"account_id":14900619,"reputation":9,"user_id":10759557,"display_name":"Shubhangi Khose"},"score":0,"creation_date":1689242154,"post_id":76677918,"comment_id":135186827,"body_markdown":"i.e. here i am getting error from line no. 1 of client.js that is, from const socket = new WebSocket(&#39;ws://localhost:8000/&#39;);                      Here i am using JBOSS server, let me know whats the wrong with the above code and how to fix it","body":"i.e. here i am getting error from line no. 1 of client.js that is, from const socket = new WebSocket(&#39;ws://localhost:8000/&#39;);                      Here i am using JBOSS server, let me know whats the wrong with the above code and how to fix it"},{"owner":{"account_id":14900619,"reputation":9,"user_id":10759557,"display_name":"Shubhangi Khose"},"score":0,"creation_date":1689242286,"post_id":76677918,"comment_id":135186853,"body_markdown":"@OHGODSPIDERS, i tried with an IP address, it shows same error!!!","body":"@OHGODSPIDERS, i tried with an IP address, it shows same error!!!"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":4,"creation_date":1689245916,"post_id":76677918,"comment_id":135187577,"body_markdown":"WebSocket is a protocol on top of some transport, usually TCP. You can&#39;t simply connect a websocket to a plain socket and expect it to work. See [MDN](https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_a_WebSocket_server_in_Java) for some simple beginning of an implementation.","body":"WebSocket is a protocol on top of some transport, usually TCP. You can&#39;t simply connect a websocket to a plain socket and expect it to work. See <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_a_WebSocket_server_in_Java\" rel=\"nofollow noreferrer\">MDN</a> for some simple beginning of an implementation."},{"owner":{"account_id":14900619,"reputation":9,"user_id":10759557,"display_name":"Shubhangi Khose"},"score":0,"creation_date":1689858627,"post_id":76677918,"comment_id":135274922,"body_markdown":"Could you please give me some more details.?","body":"Could you please give me some more details.?"}],"owner":{"account_id":14900619,"reputation":9,"user_id":10759557,"display_name":"Shubhangi Khose"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689241118,"creation_date":1689240864,"question_id":76677918,"body_markdown":"&gt;\\`**client.js:1** \\*\\***WebSocket connection to &#39;ws://localhost:8000/&#39; failed**: \\*\\*\r\n  (anonymous)\t@\tclient.js:1\r\n  **client.js:25 WebSocket error:**\r\n  Event {isTrusted: true, type: &#39;error&#39;, target: WebSocket, currentTarget: WebSocket, eventPhase: 2, …}\r\n  (anonymous)\t@\tclient.js:25\r\n  error (async)\t\t\r\n  (anonymous)\t@\tclient.js:24\r\n\r\nI can see the connection gets closed before receiving a response. How can I fix this error? Can someone help me on this? \r\n\r\nHere is my source code:\r\n\r\nJavaServerMod.java\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStreamWriter;\r\n    import java.io.PrintWriter;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n\r\n    public class JavaServerMod {\r\n      public static void main(String[] args) throws IOException {\r\n        ServerSocket serverSocket = new ServerSocket(8000);\r\n        System.out.println(&quot;Server started. Listening on port 8000...&quot;);\r\n\r\n        while (true) {\r\n          Socket clientSocket = serverSocket.accept();\r\n          System.out.println(&quot;Client connected: &quot; + clientSocket.getInetAddress());\r\n\r\n          BufferedReader reader = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n          PrintWriter writer = new PrintWriter(new OutputStreamWriter(clientSocket.getOutputStream()), true);\r\n\r\n          String request = reader.readLine();\r\n          System.out.println(&quot;Received request: &quot; + request);\r\n\r\n          // Process the request and prepare the response\r\n          String response = &quot;Hello from Java!&quot;;\r\n          System.out.println(&quot;Response written successfully from java side: &quot; + response);\r\n\r\n          // Send the response back to the client\r\n          writer.println(&quot;HTTP/1.1 200 OK&quot;);\r\n          writer.println(&quot;Content-Type: text/plain&quot;);\r\n          writer.println(&quot;Content-Length: &quot; + response.length());\r\n          writer.println();\r\n          writer.println(response);\r\n          writer.flush();\r\n\r\n          // Close the client socket\r\n          //clientSocket.close();\r\n        }\r\n      }\r\n    }\r\n\r\nclient.js \r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const socket = new WebSocket(&#39;ws://localhost:8000/&#39;);\r\n    //const socket = new WebSocket(&#39;http://localhost:8000/&#39;);\r\n    // const socket = new WebSocket(&#39;ws://localhost:8080&#39;)\r\n    console.log(socket);\r\n\r\n    socket.addEventListener(&#39;open&#39;, function(event) {\r\n      console.log(&#39;Connection established.&#39;);\r\n\r\n      // Send a request to the server\r\n      socket.send(&#39;Hello from JavaScript!&#39;);\r\n    });\r\n\r\n    socket.addEventListener(&#39;message&#39;, function(event) {\r\n      console.log(&#39;Received response:&#39;, event.data);\r\n\r\n      // Close the connection after receiving the response\r\n      socket.close();\r\n    });\r\n\r\n    socket.addEventListener(&#39;close&#39;, function(event) {\r\n      console.log(&#39;Connection closed.&#39;, event.data);\r\n    });\r\n\r\n    socket.addEventListener(&#39;error&#39;, function(event) {\r\n      console.error(&#39;WebSocket error:&#39;, event);\r\n    });\r\n\r\n","title":"I am trying to establish connection between java 17 and javascript using socket, but getting below error","body":"<blockquote>\n<p>`<strong>client.js:1</strong> **<strong>WebSocket connection to 'ws://localhost:8000/' failed</strong>: **\n(anonymous)   @   client.js:1\n<strong>client.js:25 WebSocket error:</strong>\nEvent {isTrusted: true, type: 'error', target: WebSocket, currentTarget: WebSocket, eventPhase: 2, …}\n(anonymous)   @   client.js:25\nerror (async)<br />\n(anonymous)   @   client.js:24</p>\n</blockquote>\n<p>I can see the connection gets closed before receiving a response. How can I fix this error? Can someone help me on this?</p>\n<p>Here is my source code:</p>\n<p>JavaServerMod.java</p>\n<pre class=\"lang-js prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.io.PrintWriter;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class JavaServerMod {\n  public static void main(String[] args) throws IOException {\n    ServerSocket serverSocket = new ServerSocket(8000);\n    System.out.println(&quot;Server started. Listening on port 8000...&quot;);\n\n    while (true) {\n      Socket clientSocket = serverSocket.accept();\n      System.out.println(&quot;Client connected: &quot; + clientSocket.getInetAddress());\n\n      BufferedReader reader = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n      PrintWriter writer = new PrintWriter(new OutputStreamWriter(clientSocket.getOutputStream()), true);\n\n      String request = reader.readLine();\n      System.out.println(&quot;Received request: &quot; + request);\n\n      // Process the request and prepare the response\n      String response = &quot;Hello from Java!&quot;;\n      System.out.println(&quot;Response written successfully from java side: &quot; + response);\n\n      // Send the response back to the client\n      writer.println(&quot;HTTP/1.1 200 OK&quot;);\n      writer.println(&quot;Content-Type: text/plain&quot;);\n      writer.println(&quot;Content-Length: &quot; + response.length());\n      writer.println();\n      writer.println(response);\n      writer.flush();\n\n      // Close the client socket\n      //clientSocket.close();\n    }\n  }\n}\n</code></pre>\n<p>client.js</p>\n<pre class=\"lang-js prettyprint-override\"><code>const socket = new WebSocket('ws://localhost:8000/');\n//const socket = new WebSocket('http://localhost:8000/');\n// const socket = new WebSocket('ws://localhost:8080')\nconsole.log(socket);\n\nsocket.addEventListener('open', function(event) {\n  console.log('Connection established.');\n\n  // Send a request to the server\n  socket.send('Hello from JavaScript!');\n});\n\nsocket.addEventListener('message', function(event) {\n  console.log('Received response:', event.data);\n\n  // Close the connection after receiving the response\n  socket.close();\n});\n\nsocket.addEventListener('close', function(event) {\n  console.log('Connection closed.', event.data);\n});\n\nsocket.addEventListener('error', function(event) {\n  console.error('WebSocket error:', event);\n});\n</code></pre>\n"},{"tags":["java","maven","dependencies","maven-plugin","dependency-management"],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599562696,"creation_date":1599562696,"answer_id":63792489,"question_id":63791716,"body_markdown":"Your POMs look correct. \r\n\r\n`reflections` is a transitive dependency that should be drawn automatically by Maven.\r\n\r\nIf you cannot see it, have a look at `mvn dependency:tree`. It should be listed there. \r\n\r\nMaybe your IDE is showing nonsense. ","title":"Nested dependency inclusion using maven without creating shaded jar","body":"<p>Your POMs look correct.</p>\n<p><code>reflections</code> is a transitive dependency that should be drawn automatically by Maven.</p>\n<p>If you cannot see it, have a look at <code>mvn dependency:tree</code>. It should be listed there.</p>\n<p>Maybe your IDE is showing nonsense.</p>\n"},{"tags":[],"owner":{"account_id":8596176,"reputation":186,"user_id":6439134,"display_name":"enesgonez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689240872,"creation_date":1689240872,"answer_id":76677920,"question_id":63791716,"body_markdown":"Try this without dependency management\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;utility-library&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;Utility&lt;/name&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;core-library&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt; ","title":"Nested dependency inclusion using maven without creating shaded jar","body":"<p>Try this without dependency management</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.demo&lt;/groupId&gt;\n&lt;artifactId&gt;utility-library&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;Utility&lt;/name&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.demo&lt;/groupId&gt;\n        &lt;artifactId&gt;core-library&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n \n"}],"owner":{"account_id":8501246,"reputation":666,"user_id":6374123,"accept_rate":75,"display_name":"vsbehere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1303,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1689240872,"creation_date":1599559899,"question_id":63791716,"body_markdown":"I have created **two maven projects**. Below are pom files of both projects;\r\n\r\n1. **core-library** - \r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;core-library&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Core&lt;/name&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.reflections&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;reflections&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.9.12&lt;/version&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.reflections&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reflections&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n2. **utility-library** - \r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;utility-library&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Utility&lt;/name&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;core-library&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;core-library&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt; \r\n```\r\n\r\n\r\nNow the core-library have some external dependencies e.g. org.reflections:reflections etc. So my expectation is when I add core-library to the utility-library, these external dependencies should automatically get added to dependency tree of utility-library.\r\n\r\nBut in actual, these nested dependencies are not getting included in dependency tree of utility-library.\r\n\r\nBelow is the output when I run `mvn dependency:tree` on utility-library\r\n\r\n     --- maven-dependency-plugin:2.8:tree (default-cli) @ utility-library ---\r\n    [INFO] com.demo:utility-library:jar:0.0.1-SNAPSHOT\r\n    [INFO] +- com.demo:core-library:jar:0.0.1-SNAPSHOT:compile\r\n    INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nI tried solution from [this][1] stack overflow question, but the problem is not solved yet.\r\n\r\nCan someone please help me with this?\r\n\r\nP.S. - I have to achieve this nested dependency inclusion without creating a fat/shaded/uber jar as it increses the actual jar size and I also want to further use utility-library as a maven dependency in other project.\r\n\r\n**UPDATE:** \r\nWhen I tried building utility-library with -X (enable debug logs) flag, I got following errors, \r\n\r\n    [WARNING] The POM for com.demo:core-library:jar:0.0.1-SNAPSHOT is invalid, transitive dependencies (if any) will not be available: 3 problems were encountered while building the effective model for com.demo:core-library:0.0.1-SNAPSHOT\r\n    [ERROR] Invalid packaging for parent POM com.demo:core-library:0.0.1-SNAPSHOT, must be &quot;pom&quot; but is &quot;jar&quot; @\r\n    [ERROR] Invalid packaging for parent POMcom.demo:core-library:0.0.1-SNAPSHOT, must be &quot;pom&quot; but is &quot;jar&quot; @\r\n    [FATAL] The parents form a cycle: com.demo:core-library:0.0.1-SNAPSHOT -&gt; com.demo:core-library:0.0.1-SNAPSHOT @ \r\n\r\n  [1]: https://stackoverflow.com/questions/40351486/why-are-my-nested-maven-dependencies-not-showing-up-when-compiling","title":"Nested dependency inclusion using maven without creating shaded jar","body":"<p>I have created <strong>two maven projects</strong>. Below are pom files of both projects;</p>\n<ol>\n<li><strong>core-library</strong> -</li>\n</ol>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.demo&lt;/groupId&gt;\n    &lt;artifactId&gt;core-library&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Core&lt;/name&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.reflections&lt;/groupId&gt;\n                &lt;artifactId&gt;reflections&lt;/artifactId&gt;\n                &lt;version&gt;0.9.12&lt;/version&gt;\n                &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.reflections&lt;/groupId&gt;\n            &lt;artifactId&gt;reflections&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<ol start=\"2\">\n<li><strong>utility-library</strong> -</li>\n</ol>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.demo&lt;/groupId&gt;\n    &lt;artifactId&gt;utility-library&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Utility&lt;/name&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.demo&lt;/groupId&gt;\n                &lt;artifactId&gt;core-library&lt;/artifactId&gt;\n                &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.demo&lt;/groupId&gt;\n            &lt;artifactId&gt;core-library&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt; \n</code></pre>\n<p>Now the core-library have some external dependencies e.g. org.reflections:reflections etc. So my expectation is when I add core-library to the utility-library, these external dependencies should automatically get added to dependency tree of utility-library.</p>\n<p>But in actual, these nested dependencies are not getting included in dependency tree of utility-library.</p>\n<p>Below is the output when I run <code>mvn dependency:tree</code> on utility-library</p>\n<pre><code> --- maven-dependency-plugin:2.8:tree (default-cli) @ utility-library ---\n[INFO] com.demo:utility-library:jar:0.0.1-SNAPSHOT\n[INFO] +- com.demo:core-library:jar:0.0.1-SNAPSHOT:compile\nINFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>I tried solution from <a href=\"https://stackoverflow.com/questions/40351486/why-are-my-nested-maven-dependencies-not-showing-up-when-compiling\">this</a> stack overflow question, but the problem is not solved yet.</p>\n<p>Can someone please help me with this?</p>\n<p>P.S. - I have to achieve this nested dependency inclusion without creating a fat/shaded/uber jar as it increses the actual jar size and I also want to further use utility-library as a maven dependency in other project.</p>\n<p><strong>UPDATE:</strong>\nWhen I tried building utility-library with -X (enable debug logs) flag, I got following errors,</p>\n<pre><code>[WARNING] The POM for com.demo:core-library:jar:0.0.1-SNAPSHOT is invalid, transitive dependencies (if any) will not be available: 3 problems were encountered while building the effective model for com.demo:core-library:0.0.1-SNAPSHOT\n[ERROR] Invalid packaging for parent POM com.demo:core-library:0.0.1-SNAPSHOT, must be &quot;pom&quot; but is &quot;jar&quot; @\n[ERROR] Invalid packaging for parent POMcom.demo:core-library:0.0.1-SNAPSHOT, must be &quot;pom&quot; but is &quot;jar&quot; @\n[FATAL] The parents form a cycle: com.demo:core-library:0.0.1-SNAPSHOT -&gt; com.demo:core-library:0.0.1-SNAPSHOT @ \n</code></pre>\n"},{"tags":["java","spring","jdbctemplate","jdbcnamedparametertemplate"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689239772,"post_id":76677725,"comment_id":135186269,"body_markdown":"You are using `NamedParameterJdbcTemplate` but are not using named parameters. Another thing which is important is which database are you using? Finally could you be more clear on **what** isn&#39;t working? No batch update? No updates at all?","body":"You are using <code>NamedParameterJdbcTemplate</code> but are not using named parameters. Another thing which is important is which database are you using? Finally could you be more clear on <b>what</b> isn&#39;t working? No batch update? No updates at all?"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689240618,"creation_date":1689240618,"answer_id":76677882,"question_id":76677725,"body_markdown":"You are using `NamedParameterJdbcTemplate` but are not using names in your query. You should have something like this. \r\n\r\n```java\r\nMap&lt;String, Long&gt; row1 = Map.of(&quot;id&quot;, 1L);\r\nMap&lt;String, Long&gt; row2 = Map.of(&quot;id&quot;, 2L);\r\n\r\nSqlParameterSource  batch = SqlParameterSourceUtils.createBatch(List.of(row1, row2);\r\n\r\nString updateQuery = &quot;update product set status = &#39;P&#39; where id = :id&quot;;\r\nnamedParameterJDBCTemplate.batchUpdate(updateQuery, batch)\r\n```\r\n\r\nor don&#39;t use `NamedParameterJdbcTemplate` but just a regular `JdbcTemplate`. \r\n\r\n```java\r\nList&lt;Object[]&gt; ids = List.of(new Object[] {1L}, new Object[] {2L});\r\nString updateQuery = &quot;update product set status = &#39;P&#39; where id = ?&quot;;\r\njdbcTemplate.batchUpdate(updateQuery, ids)\r\n```\r\n\r\nor, if the list of ids isn&#39;t too large use `NamedParameterJdbcTemplate` with an `IN` clause instead of a batch update. \r\n\r\n```\r\nList&lt;Long&gt; ids = List.of(1L, 2L);\r\n\r\nString updateQuery = &quot;update product set status = &#39;P&#39; where id in (:ids)&quot;;\r\nnamedParameterJDBCTemplate.update(updateQuery, Map.of(&quot;ids&quot;, ids));\r\n```\r\n\r\n","title":"How to update a column of table for bulk records using namedParameterJDBCTemplate batchUpdate?","body":"<p>You are using <code>NamedParameterJdbcTemplate</code> but are not using names in your query. You should have something like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Long&gt; row1 = Map.of(&quot;id&quot;, 1L);\nMap&lt;String, Long&gt; row2 = Map.of(&quot;id&quot;, 2L);\n\nSqlParameterSource  batch = SqlParameterSourceUtils.createBatch(List.of(row1, row2);\n\nString updateQuery = &quot;update product set status = 'P' where id = :id&quot;;\nnamedParameterJDBCTemplate.batchUpdate(updateQuery, batch)\n</code></pre>\n<p>or don't use <code>NamedParameterJdbcTemplate</code> but just a regular <code>JdbcTemplate</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Object[]&gt; ids = List.of(new Object[] {1L}, new Object[] {2L});\nString updateQuery = &quot;update product set status = 'P' where id = ?&quot;;\njdbcTemplate.batchUpdate(updateQuery, ids)\n</code></pre>\n<p>or, if the list of ids isn't too large use <code>NamedParameterJdbcTemplate</code> with an <code>IN</code> clause instead of a batch update.</p>\n<pre><code>List&lt;Long&gt; ids = List.of(1L, 2L);\n\nString updateQuery = &quot;update product set status = 'P' where id in (:ids)&quot;;\nnamedParameterJDBCTemplate.update(updateQuery, Map.of(&quot;ids&quot;, ids));\n</code></pre>\n"}],"owner":{"account_id":14507866,"reputation":231,"user_id":10479172,"display_name":"coder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689240618,"creation_date":1689239497,"question_id":76677725,"body_markdown":"I want update a column of table for bulk records. How can i do that using NamedParameterJdbcTemplate\r\n\r\n    List&lt;Long&gt; ids = new ArrayList();\r\n    ids.add(1);\r\n    ids.add(2);\r\n    \r\n    String updateQuery = &quot;update product set status = &#39;P&#39; where id = ?&quot;;\r\n    SqlParameterSource  batch = SqlParameterSourceUtils.createBatch(ids.toArray());\r\n    \r\n    namedParameterJDBCTemplate.batchUpdate(updateQuery, batch)\r\n\r\n\r\nHowever, the above is not working. Please advise","title":"How to update a column of table for bulk records using namedParameterJDBCTemplate batchUpdate?","body":"<p>I want update a column of table for bulk records. How can i do that using NamedParameterJdbcTemplate</p>\n<pre><code>List&lt;Long&gt; ids = new ArrayList();\nids.add(1);\nids.add(2);\n\nString updateQuery = &quot;update product set status = 'P' where id = ?&quot;;\nSqlParameterSource  batch = SqlParameterSourceUtils.createBatch(ids.toArray());\n\nnamedParameterJDBCTemplate.batchUpdate(updateQuery, batch)\n</code></pre>\n<p>However, the above is not working. Please advise</p>\n"},{"tags":["java","android","xml","xml-parsing"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1689180436,"post_id":76672674,"comment_id":135178099,"body_markdown":"I would save the InputStream data to a file and then the file for anomalies in a hex editor.","body":"I would save the InputStream data to a file and then the file for anomalies in a hex editor."}],"answers":[{"tags":[],"owner":{"account_id":2037888,"reputation":753,"user_id":1819767,"accept_rate":45,"display_name":"1011 1110"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689185107,"creation_date":1689185107,"answer_id":76673349,"question_id":76672674,"body_markdown":"its supposed to be parser.next()\r\n\r\nnot parser.nextTag()","title":"Android Java XMLParser issue","body":"<p>its supposed to be parser.next()</p>\n<p>not parser.nextTag()</p>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689185692,"creation_date":1689185692,"answer_id":76673414,"question_id":76672674,"body_markdown":"I tested your xml and your code and I got different exception (but maybe the xml is differently formatted):\r\n\r\n&gt; org.xmlpull.v1.XmlPullParserException: unexpected type (position:TEXT CA@3:19 in java.io.InputStreamReader@8152fb6) \r\n\r\nwhich is : \r\n\r\n    &lt;country&gt;CA&lt;/country&gt;\r\n\r\nit originates from the `parser.nextTag();` call which in documentation has:\r\n\r\n&gt; Call next() and return event if it is START_TAG or END_TAG otherwise throw an exception. It will skip whitespace TEXT before actual tag if any.\r\n\r\nin the case of `&lt;country&gt;` tag you consume &lt;country&gt; tag, but then call nextTag() which expect either START or END or whitespace TEXT but finds TEXT with actuall text: CA. Which is what the exception message is saying.\r\n\r\nOne solution is to skip the TEXT in country and timezone tags:\r\n\r\n    else if (loopTag.equals(&quot;country&quot;)) {\r\n        parser.next();\r\n     } else if (loopTag.equals(&quot;timezone&quot;)) {\r\n         parser.next();\r\n     }\r\n\r\nthe other is to use parser.next instead of parser.nextTag.","title":"Android Java XMLParser issue","body":"<p>I tested your xml and your code and I got different exception (but maybe the xml is differently formatted):</p>\n<blockquote>\n<p>org.xmlpull.v1.XmlPullParserException: unexpected type (position:TEXT CA@3:19 in java.io.InputStreamReader@8152fb6)</p>\n</blockquote>\n<p>which is :</p>\n<pre><code>&lt;country&gt;CA&lt;/country&gt;\n</code></pre>\n<p>it originates from the <code>parser.nextTag();</code> call which in documentation has:</p>\n<blockquote>\n<p>Call next() and return event if it is START_TAG or END_TAG otherwise throw an exception. It will skip whitespace TEXT before actual tag if any.</p>\n</blockquote>\n<p>in the case of <code>&lt;country&gt;</code> tag you consume  tag, but then call nextTag() which expect either START or END or whitespace TEXT but finds TEXT with actuall text: CA. Which is what the exception message is saying.</p>\n<p>One solution is to skip the TEXT in country and timezone tags:</p>\n<pre><code>else if (loopTag.equals(&quot;country&quot;)) {\n    parser.next();\n } else if (loopTag.equals(&quot;timezone&quot;)) {\n     parser.next();\n }\n</code></pre>\n<p>the other is to use parser.next instead of parser.nextTag.</p>\n"}],"owner":{"account_id":2037888,"reputation":753,"user_id":1819767,"accept_rate":45,"display_name":"1011 1110"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76673414,"answer_count":2,"score":0,"last_activity_date":1689240447,"creation_date":1689179121,"question_id":76672674,"body_markdown":"Im outsourcing to openweathermap API to retrieve results.\r\n\r\nI then loop through the results and then it crashes when it hits the &quot;timezone&quot; tag.\r\n\r\nHere is the code:\r\n\r\n    URL url = new URL(&quot;https://api.openweathermap.org/data/2.5/weather?q=toronto,ca&amp;APPID=***&amp;mode=xml&amp;units=metric&quot;);\r\n    HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n    conn.setReadTimeout(10000 /* milliseconds */);\r\n    conn.setConnectTimeout(15000 /* milliseconds */);\r\n    conn.setRequestMethod(&quot;GET&quot;);\r\n    conn.setDoInput(true);\r\n    // Starts the query.\r\n    conn.connect();\r\n    InputStream is = conn.getInputStream();\r\n\r\n    XmlPullParser parser = Xml.newPullParser();\r\n    parser.setFeature(XmlPullParser.FEATURE_PROCESS_NAMESPACES, false);\r\n    parser.setInput(is, null);\r\n\r\n    while (parser.getEventType() != XmlPullParser.END_DOCUMENT) {\r\n        if(parser.getEventType() == XmlPullParser.START_TAG) {\r\n            String loopTag = parser.getName();\r\n            Log.i(&quot;weather&quot;, loopTag);\r\n            if (loopTag.equals(&quot;temperature&quot;)) {\r\n                min = parser.getAttributeValue(null, &quot;min&quot;);\r\n                max = parser.getAttributeValue(null, &quot;max&quot;);\r\n                curr = parser.getAttributeValue(null, &quot;value&quot;);\r\n            } else if (loopTag.equals(&quot;weather&quot;)) {\r\n                icon = parser.getAttributeValue(null, &quot;icon&quot;);\r\n            }\r\n        }\r\n        parser.nextTag();\r\n    }\r\n\r\nThe xml trying to retrieve data:\r\n\r\n    &lt;current&gt;\r\n        &lt;city id=&quot;6167865&quot; name=&quot;Toronto&quot;&gt;\r\n           &lt;coord lon=&quot;-79.4163&quot; lat=&quot;43.7001&quot;/&gt;\r\n           &lt;country&gt;CA&lt;/country&gt;\r\n           &lt;timezone&gt;-14400&lt;/timezone&gt;\r\n           &lt;sun rise=&quot;2023-07-12T09:46:54&quot; set=&quot;2023-07-13T00:59:13&quot;/&gt;\r\n        &lt;/city&gt;\r\n        &lt;temperature value=&quot;20.57&quot; min=&quot;19.15&quot; max=&quot;21.94&quot; unit=&quot;celsius&quot;/&gt;\r\n        &lt;feels_like value=&quot;20.28&quot; unit=&quot;celsius&quot;/&gt;\r\n        &lt;humidity value=&quot;61&quot; unit=&quot;%&quot;/&gt;\r\n        &lt;pressure value=&quot;1013&quot; unit=&quot;hPa&quot;/&gt;\r\n        &lt;wind&gt;\r\n            &lt;speed value=&quot;1.79&quot; unit=&quot;m/s&quot; name=&quot;Light breeze&quot;/&gt;\r\n            &lt;gusts value=&quot;4.47&quot;/&gt;\r\n            &lt;direction value=&quot;314&quot; code=&quot;NW&quot; name=&quot;Northwest&quot;/&gt;\r\n        &lt;/wind&gt;\r\n        &lt;clouds value=&quot;98&quot; name=&quot;overcast clouds&quot;/&gt;\r\n        &lt;visibility value=&quot;10000&quot;/&gt;\r\n        &lt;precipitation mode=&quot;no&quot;/&gt;\r\n        &lt;weather number=&quot;804&quot; value=&quot;overcast clouds&quot; icon=&quot;04d&quot;/&gt;\r\n        &lt;lastupdate value=&quot;2023-07-12T15:07:14&quot;/&gt;\r\n    &lt;/current&gt;\r\n\r\nI&#39;ve been able to log the names as can be seen in the `while` loop:\r\nI log out:\r\n\r\n- current\r\n- city\r\n- coord\r\n- country\r\n\r\nThen it errors out with:\r\n\r\n&gt; Caused by: java.lang.RuntimeException:\r\n&gt; org.xmlpull.v1.XmlPullParserException: unexpected type (position:TEXT\r\n&gt; CA@2:99 in java.io.InputStreamReader@59ac190)\r\n\r\nI&#39;ve read somewhere that if the xml is in UTF-8 BOM it can cause this issue. But I don&#39;t think it is the case here.\r\n\r\nWhat could be the issue here?","title":"Android Java XMLParser issue","body":"<p>Im outsourcing to openweathermap API to retrieve results.</p>\n<p>I then loop through the results and then it crashes when it hits the &quot;timezone&quot; tag.</p>\n<p>Here is the code:</p>\n<pre><code>URL url = new URL(&quot;https://api.openweathermap.org/data/2.5/weather?q=toronto,ca&amp;APPID=***&amp;mode=xml&amp;units=metric&quot;);\nHttpURLConnection conn = (HttpURLConnection) url.openConnection();\nconn.setReadTimeout(10000 /* milliseconds */);\nconn.setConnectTimeout(15000 /* milliseconds */);\nconn.setRequestMethod(&quot;GET&quot;);\nconn.setDoInput(true);\n// Starts the query.\nconn.connect();\nInputStream is = conn.getInputStream();\n\nXmlPullParser parser = Xml.newPullParser();\nparser.setFeature(XmlPullParser.FEATURE_PROCESS_NAMESPACES, false);\nparser.setInput(is, null);\n\nwhile (parser.getEventType() != XmlPullParser.END_DOCUMENT) {\n    if(parser.getEventType() == XmlPullParser.START_TAG) {\n        String loopTag = parser.getName();\n        Log.i(&quot;weather&quot;, loopTag);\n        if (loopTag.equals(&quot;temperature&quot;)) {\n            min = parser.getAttributeValue(null, &quot;min&quot;);\n            max = parser.getAttributeValue(null, &quot;max&quot;);\n            curr = parser.getAttributeValue(null, &quot;value&quot;);\n        } else if (loopTag.equals(&quot;weather&quot;)) {\n            icon = parser.getAttributeValue(null, &quot;icon&quot;);\n        }\n    }\n    parser.nextTag();\n}\n</code></pre>\n<p>The xml trying to retrieve data:</p>\n<pre><code>&lt;current&gt;\n    &lt;city id=&quot;6167865&quot; name=&quot;Toronto&quot;&gt;\n       &lt;coord lon=&quot;-79.4163&quot; lat=&quot;43.7001&quot;/&gt;\n       &lt;country&gt;CA&lt;/country&gt;\n       &lt;timezone&gt;-14400&lt;/timezone&gt;\n       &lt;sun rise=&quot;2023-07-12T09:46:54&quot; set=&quot;2023-07-13T00:59:13&quot;/&gt;\n    &lt;/city&gt;\n    &lt;temperature value=&quot;20.57&quot; min=&quot;19.15&quot; max=&quot;21.94&quot; unit=&quot;celsius&quot;/&gt;\n    &lt;feels_like value=&quot;20.28&quot; unit=&quot;celsius&quot;/&gt;\n    &lt;humidity value=&quot;61&quot; unit=&quot;%&quot;/&gt;\n    &lt;pressure value=&quot;1013&quot; unit=&quot;hPa&quot;/&gt;\n    &lt;wind&gt;\n        &lt;speed value=&quot;1.79&quot; unit=&quot;m/s&quot; name=&quot;Light breeze&quot;/&gt;\n        &lt;gusts value=&quot;4.47&quot;/&gt;\n        &lt;direction value=&quot;314&quot; code=&quot;NW&quot; name=&quot;Northwest&quot;/&gt;\n    &lt;/wind&gt;\n    &lt;clouds value=&quot;98&quot; name=&quot;overcast clouds&quot;/&gt;\n    &lt;visibility value=&quot;10000&quot;/&gt;\n    &lt;precipitation mode=&quot;no&quot;/&gt;\n    &lt;weather number=&quot;804&quot; value=&quot;overcast clouds&quot; icon=&quot;04d&quot;/&gt;\n    &lt;lastupdate value=&quot;2023-07-12T15:07:14&quot;/&gt;\n&lt;/current&gt;\n</code></pre>\n<p>I've been able to log the names as can be seen in the <code>while</code> loop:\nI log out:</p>\n<ul>\n<li>current</li>\n<li>city</li>\n<li>coord</li>\n<li>country</li>\n</ul>\n<p>Then it errors out with:</p>\n<blockquote>\n<p>Caused by: java.lang.RuntimeException:\norg.xmlpull.v1.XmlPullParserException: unexpected type (position:TEXT\nCA@2:99 in java.io.InputStreamReader@59ac190)</p>\n</blockquote>\n<p>I've read somewhere that if the xml is in UTF-8 BOM it can cause this issue. But I don't think it is the case here.</p>\n<p>What could be the issue here?</p>\n"},{"tags":["java","android","android-studio","kotlin","lint"],"owner":{"account_id":15205694,"reputation":31,"user_id":10972220,"display_name":"MChak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689239644,"creation_date":1689239644,"question_id":76677747,"body_markdown":"I am getting the following error :\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:libraries:shared:lintDevDebug&#39;.\r\n    &gt;                 Lint found errors in the project; aborting build.\r\n      \r\n                      Fix the issues identified by lint, or create a baseline to see only new errors:\r\n                      ```\r\n                      android {\r\n                          lint {\r\n                              baseline = file(&quot;lint-baseline.xml&quot;)\r\n                          }\r\n                      }\r\n                      ```\r\n      \r\n                      For more details, see https://developer.android.com/studio/write/lint#snapshot\r\n      \r\n                      Lint found 9 errors, 0 warnings (19 errors filtered by baseline lint-baseline.xml). First failure:\r\n      \r\n      C:\\Users\\cloudtest\\.gradle\\caches\\modules-2\\files-2.1\\net.java.dev.jna\\jna\\5.6.0\\XXXXXXXXXXXXXXXX\\jna-5.6.0.jar: Error: Invalid package reference in library; not included in Android: java.awt. Referenced from com.sun.jna.Native.AWT. [InvalidPackage]\r\n      \r\n\r\nNot sure how to deal with it. I don&#39;t understand fully what is causing this issue so could not take a step to fix it. Will share more details if required. Thanks.","title":"Lint error : Package not included in Android: java.awt. Referenced from com.sun.jna.Native.AWT","body":"<p>I am getting the following error :</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':libraries:shared:lintDevDebug'.\n&gt;                 Lint found errors in the project; aborting build.\n  \n                  Fix the issues identified by lint, or create a baseline to see only new errors:\n                  ```\n                  android {\n                      lint {\n                          baseline = file(&quot;lint-baseline.xml&quot;)\n                      }\n                  }\n                  ```\n  \n                  For more details, see https://developer.android.com/studio/write/lint#snapshot\n  \n                  Lint found 9 errors, 0 warnings (19 errors filtered by baseline lint-baseline.xml). First failure:\n  \n  C:\\Users\\cloudtest\\.gradle\\caches\\modules-2\\files-2.1\\net.java.dev.jna\\jna\\5.6.0\\XXXXXXXXXXXXXXXX\\jna-5.6.0.jar: Error: Invalid package reference in library; not included in Android: java.awt. Referenced from com.sun.jna.Native.AWT. [InvalidPackage]\n  \n</code></pre>\n<p>Not sure how to deal with it. I don't understand fully what is causing this issue so could not take a step to fix it. Will share more details if required. Thanks.</p>\n"},{"tags":["java","conditional-statements","talend"],"answers":[{"tags":[],"owner":{"account_id":8809828,"reputation":2512,"user_id":6583204,"display_name":"Corentin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689238942,"creation_date":1689238942,"answer_id":76677650,"question_id":76677632,"body_markdown":"Try with .equals() instead of ==\r\n\r\n    if (&quot;DIRECTEUR&quot;.equals(input_row.Fonction_libelle)) {\r\n     output_row.Directeur_Oui_Non = &quot;Oui&quot;;}\r\n     else {output_row.Directeur_Oui_Non = &quot;Non&quot;;}\r\n\r\n&quot;==&quot; is not recommended to compare strings\r\n","title":"Talend (if, else) in tJavaRow module","body":"<p>Try with .equals() instead of ==</p>\n<pre><code>if (&quot;DIRECTEUR&quot;.equals(input_row.Fonction_libelle)) {\n output_row.Directeur_Oui_Non = &quot;Oui&quot;;}\n else {output_row.Directeur_Oui_Non = &quot;Non&quot;;}\n</code></pre>\n<p>&quot;==&quot; is not recommended to compare strings</p>\n"}],"owner":{"account_id":25273694,"reputation":35,"user_id":19102680,"display_name":"Onyx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76677650,"answer_count":1,"score":0,"last_activity_date":1689238942,"creation_date":1689238844,"question_id":76677632,"body_markdown":"I&#39;m trying to add informations in one column by using tJavaRow module and using conditional expression. The target here is simple. If &quot;Fonction_libelle&quot; column containt &quot;DIRECTEUR&quot; information, add in &quot;Directeur_Oui_Non&quot; column &quot;Oui&quot; else add &quot;Non&quot;. I tried this : \r\n\r\n```\r\nif (input_row.Fonction_libelle == &quot;DIRECTEUR&quot;) { output_row.Directeur_Oui_Non = &quot;Oui&quot;;} else {output_row.Directeur_Oui_Non = &quot;Non&quot;;}\r\n```\r\n\r\nThe output of this is i&#39;ve got &quot;Non&quot; everywhere but there are some &quot;DIRECTEUR&quot; in &quot;Fonction_libelle&quot; column. Of course there is something wrong but i&#39;m not able to see what...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KrxQl.png\r\n\r\n\r\nAny help would be very appreciated !","title":"Talend (if, else) in tJavaRow module","body":"<p>I'm trying to add informations in one column by using tJavaRow module and using conditional expression. The target here is simple. If &quot;Fonction_libelle&quot; column containt &quot;DIRECTEUR&quot; information, add in &quot;Directeur_Oui_Non&quot; column &quot;Oui&quot; else add &quot;Non&quot;. I tried this :</p>\n<pre><code>if (input_row.Fonction_libelle == &quot;DIRECTEUR&quot;) { output_row.Directeur_Oui_Non = &quot;Oui&quot;;} else {output_row.Directeur_Oui_Non = &quot;Non&quot;;}\n</code></pre>\n<p>The output of this is i've got &quot;Non&quot; everywhere but there are some &quot;DIRECTEUR&quot; in &quot;Fonction_libelle&quot; column. Of course there is something wrong but i'm not able to see what...</p>\n<p><a href=\"https://i.stack.imgur.com/KrxQl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KrxQl.png\" alt=\"enter image description here\" /></a></p>\n<p>Any help would be very appreciated !</p>\n"},{"tags":["java","facebook-android-sdk","facebook-conversions-api"],"owner":{"account_id":29008596,"reputation":1,"user_id":22220545,"display_name":"Arsen Taliunov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689238795,"creation_date":1689238795,"question_id":76677621,"body_markdown":"I have an android game, where i want to initialize Facebook SDK to track installs. However, I do not understand, what information will be recorded by Facebook and how would i identify the install in Facebook. Is it advertizer_id? How can i access this advertizer_id inside the app then? Will i be able to send info to facebook using conversions api, referring to this advertizer_id or i need another id for that? Thank you!\r\n\r\nI have tried to init Facebook SDK inside app and the only info i received is that the app was installed in my developer account. ","title":"Facebook Ads Indexing","body":"<p>I have an android game, where i want to initialize Facebook SDK to track installs. However, I do not understand, what information will be recorded by Facebook and how would i identify the install in Facebook. Is it advertizer_id? How can i access this advertizer_id inside the app then? Will i be able to send info to facebook using conversions api, referring to this advertizer_id or i need another id for that? Thank you!</p>\n<p>I have tried to init Facebook SDK inside app and the only info i received is that the app was installed in my developer account.</p>\n"},{"tags":["java","spring-boot","logback"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689229877,"post_id":76676492,"comment_id":135184336,"body_markdown":"They aren&#39;t regular properties so they aren&#39;t loaded. You would need to explicitly add them as a property source either by an `EnvironmentPostProcessor` or an `@PropertySource`.","body":"They aren&#39;t regular properties so they aren&#39;t loaded. You would need to explicitly add them as a property source either by an <code>EnvironmentPostProcessor</code> or an <code>@PropertySource</code>."}],"answers":[{"tags":[],"owner":{"account_id":6989048,"reputation":36,"user_id":5358956,"display_name":"Praveen Patel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689238215,"creation_date":1689238215,"answer_id":76677539,"question_id":76676492,"body_markdown":" In your Spring Boot application, make sure that the build-info.properties file is being loaded as a property source. This can be done by adding the following entry to your application.properties\r\n\r\n    spring.config.name=application,build-info\r\n    spring.config.location=classpath:/,classpath:/META-INF/\r\n\r\nOnce the build properties are loaded as normal Spring properties, you can use them in your logback-spring.xml configuration file by referencing them using the ${propertyKey} syntax.\r\n\r\nlike example-: \r\n\r\n    &lt;configuration&gt;\r\n       &lt;property resource=&quot;META-INF/build-info.properties&quot; /&gt;\r\n\r\n       &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n           &lt;!-- Use the build property in the appender configuration --&gt;\r\n           &lt;encoder pattern=&quot;${build.version} - %msg%n&quot; /&gt;\r\n       &lt;/appender&gt;\r\n\r\n       &lt;root level=&quot;INFO&quot;&gt;\r\n           &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n       &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\nIn this example, the ${build.version} property is accessed from the build-info.properties file and used within the &lt;encoder&gt; configuration.\r\n\r\n","title":"How to access Spring Boot`s build properties as normal Spring properties?","body":"<p>In your Spring Boot application, make sure that the build-info.properties file is being loaded as a property source. This can be done by adding the following entry to your application.properties</p>\n<pre><code>spring.config.name=application,build-info\nspring.config.location=classpath:/,classpath:/META-INF/\n</code></pre>\n<p>Once the build properties are loaded as normal Spring properties, you can use them in your logback-spring.xml configuration file by referencing them using the ${propertyKey} syntax.</p>\n<p>like example-:</p>\n<pre><code>&lt;configuration&gt;\n   &lt;property resource=&quot;META-INF/build-info.properties&quot; /&gt;\n\n   &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n       &lt;!-- Use the build property in the appender configuration --&gt;\n       &lt;encoder pattern=&quot;${build.version} - %msg%n&quot; /&gt;\n   &lt;/appender&gt;\n\n   &lt;root level=&quot;INFO&quot;&gt;\n       &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n   &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>In this example, the ${build.version} property is accessed from the build-info.properties file and used within the  configuration.</p>\n"}],"owner":{"account_id":449410,"reputation":3835,"user_id":844177,"accept_rate":71,"display_name":"Oliver"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76677539,"answer_count":1,"score":0,"last_activity_date":1689238215,"creation_date":1689229705,"question_id":76676492,"body_markdown":"I would like to use the build properties in `/META-INF/build-info.properties` as normal Spring properties, so that I am able to use them in via `spring-property` in my Logback configuration `logback-spring.xml`. \r\n\r\nI was already able to use them, but something changed...\r\n\r\n* The properties file `/META-INF/build-info.properties` is there.\r\n* I am able get the bean `BuildProperties` as bean with the correct values.\r\n* The build properties are not registred in the application context as property sources?\r\n\r\nDoes someone knows, how to use the build properties like normal Spring properties in my `logback-spring.xml`?\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;configuration&gt;\r\n\r\n  &lt;springProperty scope=&quot;context&quot; name=&quot;application&quot; source=&quot;build.name&quot;/&gt;\r\n  &lt;springProperty scope=&quot;context&quot; name=&quot;version&quot; source=&quot;build.version&quot;/&gt;\r\n```","title":"How to access Spring Boot`s build properties as normal Spring properties?","body":"<p>I would like to use the build properties in <code>/META-INF/build-info.properties</code> as normal Spring properties, so that I am able to use them in via <code>spring-property</code> in my Logback configuration <code>logback-spring.xml</code>.</p>\n<p>I was already able to use them, but something changed...</p>\n<ul>\n<li>The properties file <code>/META-INF/build-info.properties</code> is there.</li>\n<li>I am able get the bean <code>BuildProperties</code> as bean with the correct values.</li>\n<li>The build properties are not registred in the application context as property sources?</li>\n</ul>\n<p>Does someone knows, how to use the build properties like normal Spring properties in my <code>logback-spring.xml</code>?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;configuration&gt;\n\n  &lt;springProperty scope=&quot;context&quot; name=&quot;application&quot; source=&quot;build.name&quot;/&gt;\n  &lt;springProperty scope=&quot;context&quot; name=&quot;version&quot; source=&quot;build.version&quot;/&gt;\n</code></pre>\n"},{"tags":["java","hibernate","db2","odbc"],"comments":[{"owner":{"account_id":11306067,"reputation":11409,"user_id":8290634,"display_name":"mao"},"score":1,"creation_date":1689241107,"post_id":76677509,"comment_id":135186600,"body_markdown":"Use the db2jcc4.jar driver (jdbc driver) to allow hibernate to communicate with Db2. This combination is well known. It&#39;s possible to have a zero-install version of the IBM supplied jdbc driver, if you do not already have that driver on your development environment.  __BUT__ you need to know which Db2-server flavour is your target , Z/OS, i-series,  linux/unix/windows/cloud, because only the first two Z/OS and i-series require an additional client-side license (unless server-side licensing is enabled).","body":"Use the db2jcc4.jar driver (jdbc driver) to allow hibernate to communicate with Db2. This combination is well known. It&#39;s possible to have a zero-install version of the IBM supplied jdbc driver, if you do not already have that driver on your development environment.  <b>BUT</b> you need to know which Db2-server flavour is your target , Z/OS, i-series,  linux/unix/windows/cloud, because only the first two Z/OS and i-series require an additional client-side license (unless server-side licensing is enabled)."},{"owner":{"account_id":494473,"reputation":22029,"user_id":2933177,"accept_rate":50,"display_name":"Charles"},"score":0,"creation_date":1689255715,"post_id":76677509,"comment_id":135189889,"body_markdown":"@mao there is no license requirement for JDBC to IBM i via the [JTOpen aka jt400](https://github.com/IBM/JTOpen) driver","body":"@mao there is no license requirement for JDBC to IBM i via the <a href=\"https://github.com/IBM/JTOpen\" rel=\"nofollow noreferrer\">JTOpen aka jt400</a> driver"}],"owner":{"account_id":28812002,"reputation":1,"user_id":22066494,"display_name":"Barbary"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689238079,"creation_date":1689238008,"question_id":76677509,"body_markdown":"Actually, I must connect my application to an IBM Db2 database where I&#39;ll have to read and write data. However, I can&#39;t change Java for another langage that would connect to an ODBC connection easly.\r\n\r\nI saw that a possible bridge between JDBC and ODBC could be used, but I can&#39;t install new drivers, and so on, on my dev environment.\r\n\r\nMaybe it exists an easy solution to connect it to hibernate ? But the documentations on internet are realy low.\r\n\r\n(I&#39;m using java 8, with springboot 2.7.5)","title":"How to connect hibernate with IBM Db2 ODBC database, is it possible?","body":"<p>Actually, I must connect my application to an IBM Db2 database where I'll have to read and write data. However, I can't change Java for another langage that would connect to an ODBC connection easly.</p>\n<p>I saw that a possible bridge between JDBC and ODBC could be used, but I can't install new drivers, and so on, on my dev environment.</p>\n<p>Maybe it exists an easy solution to connect it to hibernate ? But the documentations on internet are realy low.</p>\n<p>(I'm using java 8, with springboot 2.7.5)</p>\n"},{"tags":["java","android","uuencode"],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1376183552,"creation_date":1376183552,"answer_id":18167819,"question_id":18166072,"body_markdown":"The only libraries that I&#39;m aware of for UUEncoding are Oracle&#39;s, which ships with Java SDK (and is not replicated in the Android SDK), and the one in Ant. \r\n\r\nI&#39;m guessing that you&#39;re not going to want to include the Ant library in your Android application.\r\n\r\nI did find source for Sun/Oracle&#39;s UUEncoder at http://www.docjar.com/html/api/sun/misc/UUEncoder.java.html\r\n\r\nIt&#39;s GPL2 licensed, so if you feel that your software can meet the demands of that license, you could just copy the source for that one class into your application.\r\n\r\nFailing that, you could implement the algorithm yourself.\r\nSee, for example, http://www.herongyang.com/encoding/UUEncode-Algorithm.html  ","title":"How to UUEncode in android","body":"<p>The only libraries that I'm aware of for UUEncoding are Oracle's, which ships with Java SDK (and is not replicated in the Android SDK), and the one in Ant. </p>\n\n<p>I'm guessing that you're not going to want to include the Ant library in your Android application.</p>\n\n<p>I did find source for Sun/Oracle's UUEncoder at <a href=\"http://www.docjar.com/html/api/sun/misc/UUEncoder.java.html\" rel=\"nofollow\">http://www.docjar.com/html/api/sun/misc/UUEncoder.java.html</a></p>\n\n<p>It's GPL2 licensed, so if you feel that your software can meet the demands of that license, you could just copy the source for that one class into your application.</p>\n\n<p>Failing that, you could implement the algorithm yourself.\nSee, for example, <a href=\"http://www.herongyang.com/encoding/UUEncode-Algorithm.html\" rel=\"nofollow\">http://www.herongyang.com/encoding/UUEncode-Algorithm.html</a>  </p>\n"}],"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1383,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":18167819,"answer_count":1,"score":0,"last_activity_date":1689237882,"creation_date":1376166639,"question_id":18166072,"body_markdown":"Using which libraries, I can UUENcode some binary in Android java? I just couldn&#39;t find any UUEncoder api available in java for android.\r\n\r\nDoes anybody know such an api?","title":"How to UUEncode in android","body":"<p>Using which libraries, I can UUENcode some binary in Android java? I just couldn't find any UUEncoder api available in java for android.</p>\n\n<p>Does anybody know such an api?</p>\n"},{"tags":["java","java-native-interface","quarkus","maven-surefire-plugin","testcontainers"],"owner":{"account_id":25139816,"reputation":11,"user_id":18986258,"display_name":"Jan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689237871,"creation_date":1689237164,"question_id":76677395,"body_markdown":"I am using Quarkus to write a Java application that processes IP camera streams and infers with deep learning models. For this application, I am using native libraries (.so files located in /opt/) and their corresponding Java Wrappers. Also, I need to run a License client in order to use said SDKs.\r\n\r\nI got everything setup on my local machine and mvn quarkus:dev is working fine.\r\nHowever, after upgrading from Quarkus 2.16.5.Final to 3.2.0.Final, the tests are not working anymore.\r\n\r\nBefore `mvn test` did work, `mvn quarkus:test` did not work, crashing the JVM while initalizing the native SDK with JNI.\r\n\r\n    com.sun.jna.Native.invokeLong(Lcom/sun/jna/Function;JI[Ljava/lang/Object;)\r\n    j  com.sun.jna.Function.invoke([Ljava/lang/Object;Ljava/lang/Class;ZI)Ljava/lang/Object;+243\r\n    \r\n    j  com.sun.jna.Function.invoke(Ljava/lang/reflect/Method;[Ljava/lang/Class;Ljava/lang/Class;[Ljava/lang/Object;Ljava/util/Map;)Ljava/lang/Object;+271\r\n    \r\n    j  com.sun.jna.Library$Handler.invoke(Ljava/lang/Object;Ljava/lang/reflect/Method;[Ljava/lang/Object;)Ljava/lang/Object;+390\r\n    \r\n    j  jdk.proxy5.$Proxy152.FRInitialize(Ljava/lang/String;)Lcom/sun/jna/NativeLong;+16 jdk.proxy5\r\n\r\n\r\nAfter upgrading Quarkus, `mvn test` does also not work.\r\n\r\nDisabling all devservices do not use Testcontainers does not work (crashing the JVM).\r\nUsing Testcontainers does not work because it is either crashing the JVM as well or I receive a license error, because obviously the license client is not present in the container.\r\n\r\n**So, how do I set a base-image for the test-containers used by Quarkus (that includes all libraries, dependencies, etc)?** In fact, I am already building a Container for deployment that includes every dependency and is working fine.\r\n\r\n\r\nI am completely lost and the Quarkus documentation is not helping.\r\n\r\n\r\nI tried setting:\r\n`quarkus.test.container-image\r\nquarkus.jib.jvm-image`\r\ndifferent surefire-plugin version (3.0.0-M7, 3.1.2)\r\n\r\nBut `mvn quarkus:test` is still using `testcontainers/ryuk:0.5.1`\r\n\r\nIf I run `mvn test` and use the latest surefire-plugin version 3.1.2, I get:\r\n\r\n    [ERROR] Error occurred in starting fork, check output in log\r\n    [ERROR] Process Exit Code: 134\r\n    Corrupted channel by directly writing to native stream in forked JVM \r\n\r\nAnd a Buffer Overflow error.\r\n","title":"How to set a base image for Testcontainer for Quarkus tests for native library support?","body":"<p>I am using Quarkus to write a Java application that processes IP camera streams and infers with deep learning models. For this application, I am using native libraries (.so files located in /opt/) and their corresponding Java Wrappers. Also, I need to run a License client in order to use said SDKs.</p>\n<p>I got everything setup on my local machine and mvn quarkus:dev is working fine.\nHowever, after upgrading from Quarkus 2.16.5.Final to 3.2.0.Final, the tests are not working anymore.</p>\n<p>Before <code>mvn test</code> did work, <code>mvn quarkus:test</code> did not work, crashing the JVM while initalizing the native SDK with JNI.</p>\n<pre><code>com.sun.jna.Native.invokeLong(Lcom/sun/jna/Function;JI[Ljava/lang/Object;)\nj  com.sun.jna.Function.invoke([Ljava/lang/Object;Ljava/lang/Class;ZI)Ljava/lang/Object;+243\n\nj  com.sun.jna.Function.invoke(Ljava/lang/reflect/Method;[Ljava/lang/Class;Ljava/lang/Class;[Ljava/lang/Object;Ljava/util/Map;)Ljava/lang/Object;+271\n\nj  com.sun.jna.Library$Handler.invoke(Ljava/lang/Object;Ljava/lang/reflect/Method;[Ljava/lang/Object;)Ljava/lang/Object;+390\n\nj  jdk.proxy5.$Proxy152.FRInitialize(Ljava/lang/String;)Lcom/sun/jna/NativeLong;+16 jdk.proxy5\n</code></pre>\n<p>After upgrading Quarkus, <code>mvn test</code> does also not work.</p>\n<p>Disabling all devservices do not use Testcontainers does not work (crashing the JVM).\nUsing Testcontainers does not work because it is either crashing the JVM as well or I receive a license error, because obviously the license client is not present in the container.</p>\n<p><strong>So, how do I set a base-image for the test-containers used by Quarkus (that includes all libraries, dependencies, etc)?</strong> In fact, I am already building a Container for deployment that includes every dependency and is working fine.</p>\n<p>I am completely lost and the Quarkus documentation is not helping.</p>\n<p>I tried setting:\n<code>quarkus.test.container-image quarkus.jib.jvm-image</code>\ndifferent surefire-plugin version (3.0.0-M7, 3.1.2)</p>\n<p>But <code>mvn quarkus:test</code> is still using <code>testcontainers/ryuk:0.5.1</code></p>\n<p>If I run <code>mvn test</code> and use the latest surefire-plugin version 3.1.2, I get:</p>\n<pre><code>[ERROR] Error occurred in starting fork, check output in log\n[ERROR] Process Exit Code: 134\nCorrupted channel by directly writing to native stream in forked JVM \n</code></pre>\n<p>And a Buffer Overflow error.</p>\n"},{"tags":["java","spring","quartz-scheduler"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1689237205,"post_id":76677318,"comment_id":135185740,"body_markdown":"you could have a @Scheduled method that runs at 5am. It [gets all currently executing jobs](http://www.quartz-scheduler.org/api/2.3.0/org/quartz/Scheduler.html#getCurrentlyExecutingJobs--), for each job, get the job key and call the [scheduler.interrupt(JobKey)](http://www.quartz-scheduler.org/api/2.3.0/org/quartz/Scheduler.html#interrupt-org.quartz.JobKey-)? Also, if a job must end at 5, isnt it unnecessary to start a job at 5?","body":"you could have a @Scheduled method that runs at 5am. It <a href=\"http://www.quartz-scheduler.org/api/2.3.0/org/quartz/Scheduler.html#getCurrentlyExecutingJobs--\" rel=\"nofollow noreferrer\">gets all currently executing jobs</a>, for each job, get the job key and call the <a href=\"http://www.quartz-scheduler.org/api/2.3.0/org/quartz/Scheduler.html#interrupt-org.quartz.JobKey-\" rel=\"nofollow noreferrer\">scheduler.interrupt(JobKey)</a>? Also, if a job must end at 5, isnt it unnecessary to start a job at 5?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1689237205,"post_id":76677318,"comment_id":135185741,"body_markdown":"You could save the job ids and schedule a job at 5AM to stop those, which are still running. About how to gracefully stop the job, you can check [How to interrupt or stop currently running quartz job?](https://stackoverflow.com/questions/7159080/how-to-interrupt-or-stop-currently-running-quartz-job).","body":"You could save the job ids and schedule a job at 5AM to stop those, which are still running. About how to gracefully stop the job, you can check <a href=\"https://stackoverflow.com/questions/7159080/how-to-interrupt-or-stop-currently-running-quartz-job\">How to interrupt or stop currently running quartz job?</a>."}],"owner":{"account_id":2198896,"reputation":1375,"user_id":1943863,"accept_rate":100,"display_name":"Valeriy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689237200,"creation_date":1689236489,"question_id":76677318,"body_markdown":"Quartz job works by trigger `0 0 19-5 * * ?` (every hour from 7:00 PM to 5:00 AM). Process may take a long time, more than 1 hour. Cron expression is a part of external configuration. How to graceful stop Quartz job after 5:00 AM if process continue works?\r\n\r\nEven if we start last iteration at 4:00 AM, there is no guarantee that it will be completed in 1 hour. Also if we start the last iteration at 3:00 AM, there is no guarantee that it will complete in 2 hours.","title":"Quartz job works at night. How to stop its work during the day if the process has not completed?","body":"<p>Quartz job works by trigger <code>0 0 19-5 * * ?</code> (every hour from 7:00 PM to 5:00 AM). Process may take a long time, more than 1 hour. Cron expression is a part of external configuration. How to graceful stop Quartz job after 5:00 AM if process continue works?</p>\n<p>Even if we start last iteration at 4:00 AM, there is no guarantee that it will be completed in 1 hour. Also if we start the last iteration at 3:00 AM, there is no guarantee that it will complete in 2 hours.</p>\n"},{"tags":["java","arrays","postgresql","hibernate","nhibernate-criteria"],"comments":[{"owner":{"account_id":6331664,"reputation":526,"user_id":4916419,"accept_rate":71,"display_name":"AyoubMK"},"score":0,"creation_date":1594387409,"post_id":62834917,"comment_id":111116553,"body_markdown":"Can you add Java code of the criteria ?","body":"Can you add Java code of the criteria ?"}],"answers":[{"tags":[],"owner":{"account_id":3091204,"reputation":319,"user_id":2617244,"display_name":"Vivek Dhiman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594400092,"creation_date":1594400092,"answer_id":62838972,"question_id":62834917,"body_markdown":"I have found the solution which can be specific to postgres using ***criteriaBuilder.function()***. It resolved my issue.\r\n\r\n```\r\nString value = &quot;abc&quot;; // anything\r\ncriteriaBuilder.equal(criteriaBuilder.literal(value), criteriaBuilder.function(&quot;any&quot;, String.class, root.get(name)));\r\n```","title":"Hibernate IN/ANY with custom converter in Criteria","body":"<p>I have found the solution which can be specific to postgres using <em><strong>criteriaBuilder.function()</strong></em>. It resolved my issue.</p>\n<pre><code>String value = &quot;abc&quot;; // anything\ncriteriaBuilder.equal(criteriaBuilder.literal(value), criteriaBuilder.function(&quot;any&quot;, String.class, root.get(name)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2617457,"reputation":33,"user_id":2266229,"display_name":"Alex A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689237170,"creation_date":1689237170,"answer_id":76677397,"question_id":62834917,"body_markdown":"I had applied the solution below to column of ENUM type with help of @Vivek Dhiman answer. While building criteria:\r\n\r\n\r\nBefore: \r\n\r\n    builder.equal(from.get(&quot;columnName&quot;), criteria.getValue());\r\n\r\nAfter:\r\n\r\n    builder.equal(from.get(&quot;columnName&quot;), HttpMethod.valueOf(criteria.getValue()));\r\n\r\nColumn\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;column_name&quot;)\r\n    private HttpMethod columnName;\r\n\r\nBuilder:\r\n\r\n    CriteriaBuilder builder = entityManager.getCriteriaBuilder();\r\n","title":"Hibernate IN/ANY with custom converter in Criteria","body":"<p>I had applied the solution below to column of ENUM type with help of @Vivek Dhiman answer. While building criteria:</p>\n<p>Before:</p>\n<pre><code>builder.equal(from.get(&quot;columnName&quot;), criteria.getValue());\n</code></pre>\n<p>After:</p>\n<pre><code>builder.equal(from.get(&quot;columnName&quot;), HttpMethod.valueOf(criteria.getValue()));\n</code></pre>\n<p>Column</p>\n<pre><code>@Enumerated(EnumType.STRING)\n@Column(name = &quot;column_name&quot;)\nprivate HttpMethod columnName;\n</code></pre>\n<p>Builder:</p>\n<pre><code>CriteriaBuilder builder = entityManager.getCriteriaBuilder();\n</code></pre>\n"}],"owner":{"account_id":3091204,"reputation":319,"user_id":2617244,"display_name":"Vivek Dhiman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1689237170,"creation_date":1594386185,"question_id":62834917,"body_markdown":"I have a simple model say \r\n\r\n```\r\n    class A {\r\n        @Type(type = &quot;com.vivek.persistence.ListAsSQLArrayUserType&quot;)\r\n    \t@Column(name = &quot;string_array&quot;, columnDefinition = &quot;text[]&quot;)\r\n        List&lt;String&gt; stringArray;\r\n    }\r\n```\r\n\r\nNow I want to search any item exists in the stringArray Column.\r\nI can do this simply using sql native query :\r\n```\r\nselect * from A WHERE &#39;abc&#39; = any(string_array)\r\n```\r\n\r\nBut I am not able to figure out any way through Hibernate Criteria API.\r\nI have tried ***IN predicate*** but it simply do not work and return empty result. \r\nAny help would be appreciated.\r\n\r\n\r\n","title":"Hibernate IN/ANY with custom converter in Criteria","body":"<p>I have a simple model say</p>\n<pre><code>    class A {\n        @Type(type = &quot;com.vivek.persistence.ListAsSQLArrayUserType&quot;)\n        @Column(name = &quot;string_array&quot;, columnDefinition = &quot;text[]&quot;)\n        List&lt;String&gt; stringArray;\n    }\n</code></pre>\n<p>Now I want to search any item exists in the stringArray Column.\nI can do this simply using sql native query :</p>\n<pre><code>select * from A WHERE 'abc' = any(string_array)\n</code></pre>\n<p>But I am not able to figure out any way through Hibernate Criteria API.\nI have tried <em><strong>IN predicate</strong></em> but it simply do not work and return empty result.\nAny help would be appreciated.</p>\n"},{"tags":["java","maven","plugins","artifactory"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1688481936,"post_id":76613637,"comment_id":135078419,"body_markdown":"The whole approach sounds like a bad idea. If you want to build an artifact from a list of other modules, add an additional module to build and deploy that artifact and make sure it depends on the other modules.","body":"The whole approach sounds like a bad idea. If you want to build an artifact from a list of other modules, add an additional module to build and deploy that artifact and make sure it depends on the other modules."},{"owner":{"account_id":5854227,"reputation":83,"user_id":4612034,"display_name":"Redar"},"score":0,"creation_date":1688483221,"post_id":76613637,"comment_id":135078697,"body_markdown":"It is not an option when there are multiple repositories. I wanted to create a common plugin that could be used on different repos","body":"It is not an option when there are multiple repositories. I wanted to create a common plugin that could be used on different repos"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1688487255,"post_id":76613637,"comment_id":135079480,"body_markdown":"`to attach a file to the root project.` ... the root project does not have code in it ... and only a single artifact which is the pom itself. Can you please exaplain exactly what kind of problem you are trying to solve? I don&#39;t understand your comment either... where is the relationship to repositories?","body":"<code>to attach a file to the root project.</code> ... the root project does not have code in it ... and only a single artifact which is the pom itself. Can you please exaplain exactly what kind of problem you are trying to solve? I don&#39;t understand your comment either... where is the relationship to repositories?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1688490849,"post_id":76613637,"comment_id":135080058,"body_markdown":"if you have multiple such projects in different git repos, you need to add a module to all of them. Building a plugin like you said will probably not work.","body":"if you have multiple such projects in different git repos, you need to add a module to all of them. Building a plugin like you said will probably not work."}],"answers":[{"tags":[],"owner":{"account_id":5854227,"reputation":83,"user_id":4612034,"display_name":"Redar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689236536,"creation_date":1689236536,"answer_id":76677319,"question_id":76613637,"body_markdown":"In case someone stumps upon this problem. Here is a possible solution:\r\n\r\nFirstly, the plugin must run on **&#39;install&#39;** phase. When plugin runs on the first project which is the top level in a multimodule project, create an empty file and attach it to that project. This file will get published to the artifactory. At the end, when the plugin is run on last submodule, you have to get the attached artifacts of the top level project and locate that file inside the artifactory (either local .m2 or another artifactory environment). Once you find it, you can **replace initial file** with the actual one.\r\n\r\nIn other words, you create a mock file and attach it as an artifact to the top level project. It gets published to the artifactory on **install** phase. Then it gets replaced with the real one in that artifactory. Attaching file to the root project, allows Artifactory management systems to see this file on deployment.\r\n\r\nThis allows having a single plugin that can collect the generated data from all submodules and produce an artifact for the root project at the end.\r\n\r\nPS: You do not want to delete an artifact for a project that was already built. This will cause problems with Artifactory deployment later on.","title":"Maven Plugin - attach artifact to the root on a multi-module project","body":"<p>In case someone stumps upon this problem. Here is a possible solution:</p>\n<p>Firstly, the plugin must run on <strong>'install'</strong> phase. When plugin runs on the first project which is the top level in a multimodule project, create an empty file and attach it to that project. This file will get published to the artifactory. At the end, when the plugin is run on last submodule, you have to get the attached artifacts of the top level project and locate that file inside the artifactory (either local .m2 or another artifactory environment). Once you find it, you can <strong>replace initial file</strong> with the actual one.</p>\n<p>In other words, you create a mock file and attach it as an artifact to the top level project. It gets published to the artifactory on <strong>install</strong> phase. Then it gets replaced with the real one in that artifactory. Attaching file to the root project, allows Artifactory management systems to see this file on deployment.</p>\n<p>This allows having a single plugin that can collect the generated data from all submodules and produce an artifact for the root project at the end.</p>\n<p>PS: You do not want to delete an artifact for a project that was already built. This will cause problems with Artifactory deployment later on.</p>\n"}],"owner":{"account_id":5854227,"reputation":83,"user_id":4612034,"display_name":"Redar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689236536,"creation_date":1688480912,"question_id":76613637,"body_markdown":"I am building a Java Maven Plugin that is supposed to attach a file to the root project. This is done on the last project by the reactor order to make sure all files were compiled and ready to be picked up. The root project is always built first.\r\nIn other words, each project generates a file in it&#39;s target directory and at the end I want to combine file contents from each project into a single file and attach it as an artifact to the multi-module root project. Phew... This plugin is used in *compile* phase. And the artifact is attached using:\r\n\r\n```java\r\nprivate void attachArtifact() throws MojoExecutionException {\r\n    String docExtension = &quot;html&quot;; // It can be any extension\r\n\r\n    MavenProject rootProject = mavenSession.getTopLevelProject();\r\n    projectHelper.attachArtifact(rootProject, docExtension, &quot;doc-classifier&quot;, new File(&quot;target/files/info.html&quot;));\r\n    // File with relative path is generated under root project\r\n    // Expecting artifact to be attached to the root project...\r\n}\r\n```\r\n\r\nThe plugin is skipped on intermediary modules and works only on last project (by reactor order). What I observed is that when I use *mavenProject* (i.e. currently building project) instead of *.getTopLevelProject()*, the artifact is successfully attached and performing a clean install causes this file to appear on local .m2 repository.\r\n\r\nBut if I try to attach the file to the root project (while execution is on the last child module), it does not get copied to the local .m2 repo. I suppose I do not have a way to attach an artifact to already built project? How can I overcome this?","title":"Maven Plugin - attach artifact to the root on a multi-module project","body":"<p>I am building a Java Maven Plugin that is supposed to attach a file to the root project. This is done on the last project by the reactor order to make sure all files were compiled and ready to be picked up. The root project is always built first.\nIn other words, each project generates a file in it's target directory and at the end I want to combine file contents from each project into a single file and attach it as an artifact to the multi-module root project. Phew... This plugin is used in <em>compile</em> phase. And the artifact is attached using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void attachArtifact() throws MojoExecutionException {\n    String docExtension = &quot;html&quot;; // It can be any extension\n\n    MavenProject rootProject = mavenSession.getTopLevelProject();\n    projectHelper.attachArtifact(rootProject, docExtension, &quot;doc-classifier&quot;, new File(&quot;target/files/info.html&quot;));\n    // File with relative path is generated under root project\n    // Expecting artifact to be attached to the root project...\n}\n</code></pre>\n<p>The plugin is skipped on intermediary modules and works only on last project (by reactor order). What I observed is that when I use <em>mavenProject</em> (i.e. currently building project) instead of <em>.getTopLevelProject()</em>, the artifact is successfully attached and performing a clean install causes this file to appear on local .m2 repository.</p>\n<p>But if I try to attach the file to the root project (while execution is on the last child module), it does not get copied to the local .m2 repo. I suppose I do not have a way to attach an artifact to already built project? How can I overcome this?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","jsp"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1689236285,"post_id":76677243,"comment_id":135185536,"body_markdown":"Everything is not fine else it would have worked. `/webapp/WEB-INF/views/` is wrong. remove the `/webapp` part that is just a placeholder for the ending result. Also I would strongly recommend **not to use JSP** but something like Thymeleaf. JSP works with embedded tomcat but with limitations and only if you create a WAR file.","body":"Everything is not fine else it would have worked. <code>&#47;webapp&#47;WEB-INF&#47;views&#47;</code> is wrong. remove the <code>&#47;webapp</code> part that is just a placeholder for the ending result. Also I would strongly recommend <b>not to use JSP</b> but something like Thymeleaf. JSP works with embedded tomcat but with limitations and only if you create a WAR file."},{"owner":{"account_id":17575245,"reputation":1,"user_id":12750148,"display_name":"Aditya Kumar Singh"},"score":0,"creation_date":1689238022,"post_id":76677243,"comment_id":135185895,"body_markdown":"I didn&#39;t add webapp at first but it wasn&#39;t working then too so i added webapp hoping that it would work. Yea maybe i&#39;ll switch to Thymeleaf i&#39;ve been stuck with this error for 2 days.","body":"I didn&#39;t add webapp at first but it wasn&#39;t working then too so i added webapp hoping that it would work. Yea maybe i&#39;ll switch to Thymeleaf i&#39;ve been stuck with this error for 2 days."}],"answers":[{"tags":[],"owner":{"account_id":16450692,"reputation":574,"user_id":11884183,"display_name":"Felix Schildmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689236382,"creation_date":1689236382,"answer_id":76677309,"question_id":76677243,"body_markdown":"Including the `webapp` directory in your path is not necessary.\r\n\r\nJust set your properties to:\r\n\r\n    spring.mvc.view.prefix=/WEB-INF/views/\r\n\r\n","title":"Spring not able to find my JSP file even though everything is absolutely fine","body":"<p>Including the <code>webapp</code> directory in your path is not necessary.</p>\n<p>Just set your properties to:</p>\n<pre><code>spring.mvc.view.prefix=/WEB-INF/views/\n</code></pre>\n"}],"owner":{"account_id":17575245,"reputation":1,"user_id":12750148,"display_name":"Aditya Kumar Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689236382,"creation_date":1689235864,"question_id":76677243,"body_markdown":"I got whitelabel error page while returing my jsp file because spring isn&#39;t able to find it. I referred everywhere did everything that was mentioned still wasn&#39;t able to resolve the error.\r\nThings i tried: \r\n1) Putting my jsp file in webapp folder inside WEB-INF\r\n2) Added tomcat embed jasper in pom.xml\r\n3) I&#39;ve made sure the mapping is correct by adding @ResponseBody.\r\n\r\nI tried to make a simple controller class to return a simple jsp file.\r\n```\r\n@Controller\r\npublic class sayHelloContainer {\r\n\r\n    @RequestMapping(&quot;/hello&quot;)\r\n    public String hello() {\r\n        return &quot;hello&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nBut no matter what i do i always get this error. \r\n```\r\n&quot;Path with &quot;WEB-INF&quot; or &quot;META-INF&quot;: [webapp/WEB-INF/views/hello.jsp]&quot;\r\nResource not found\r\nExiting from &quot;FORWARD&quot; dispatch, status 404\r\n```\r\nI know it means it can&#39;t find my JSP file but according to me everything is fine.\r\n\r\nHere&#39;s my `application.properties`\r\n```\r\nspring.mvc.view.prefix=/webapp/WEB-INF/views/\r\nspring.mvc.view.suffix=.jsp\r\nlogging.level.org.springframework=debug\r\n```\r\n\r\nHere&#39;s my file structure \r\n[enter image description here](https://i.stack.imgur.com/6Fu5C.png)\r\n\r\nAnd here&#39;s my pom.xml\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t&lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;optional&gt;true&lt;/optional&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Spring not able to find my JSP file even though everything is absolutely fine","body":"<p>I got whitelabel error page while returing my jsp file because spring isn't able to find it. I referred everywhere did everything that was mentioned still wasn't able to resolve the error.\nThings i tried:</p>\n<ol>\n<li>Putting my jsp file in webapp folder inside WEB-INF</li>\n<li>Added tomcat embed jasper in pom.xml</li>\n<li>I've made sure the mapping is correct by adding @ResponseBody.</li>\n</ol>\n<p>I tried to make a simple controller class to return a simple jsp file.</p>\n<pre><code>@Controller\npublic class sayHelloContainer {\n\n    @RequestMapping(&quot;/hello&quot;)\n    public String hello() {\n        return &quot;hello&quot;;\n    }\n}\n\n</code></pre>\n<p>But no matter what i do i always get this error.</p>\n<pre><code>&quot;Path with &quot;WEB-INF&quot; or &quot;META-INF&quot;: [webapp/WEB-INF/views/hello.jsp]&quot;\nResource not found\nExiting from &quot;FORWARD&quot; dispatch, status 404\n</code></pre>\n<p>I know it means it can't find my JSP file but according to me everything is fine.</p>\n<p>Here's my <code>application.properties</code></p>\n<pre><code>spring.mvc.view.prefix=/webapp/WEB-INF/views/\nspring.mvc.view.suffix=.jsp\nlogging.level.org.springframework=debug\n</code></pre>\n<p>Here's my file structure\n<a href=\"https://i.stack.imgur.com/6Fu5C.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>And here's my pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android","encryption","sha1","sensitive-data"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1689231099,"post_id":76676403,"comment_id":135184522,"body_markdown":"SHA-1 key are you talking about? Do you want to implement certificate pinning for a HTTPS connection or do you want to check the certificate of at APK signature or what else. Depending on where the SHA-1 comes from the storage also can change.","body":"SHA-1 key are you talking about? Do you want to implement certificate pinning for a HTTPS connection or do you want to check the certificate of at APK signature or what else. Depending on where the SHA-1 comes from the storage also can change."},{"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"score":0,"creation_date":1689231715,"post_id":76676403,"comment_id":135184635,"body_markdown":"@Robert - I want that SHA-1 should not be accessible by any unauthorized authority?","body":"@Robert - I want that SHA-1 should not be accessible by any unauthorized authority?"},{"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"score":0,"creation_date":1689232470,"post_id":76676403,"comment_id":135184769,"body_markdown":"@Robert -  In values.xml file all sensitive info is stored like google_api, Firebase details so I need to  store it more securely. How can I do it?","body":"@Robert -  In values.xml file all sensitive info is stored like google_api, Firebase details so I need to  store it more securely. How can I do it?"}],"answers":[{"tags":[],"owner":{"account_id":19808680,"reputation":63,"user_id":14508072,"display_name":"sandeep-prabhakula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689233222,"creation_date":1689233222,"answer_id":76676896,"question_id":76676403,"body_markdown":"In your default config block in ` build.gradle` file do the following changes:\r\n\r\n**Step 1:**\r\n```\r\ndefaultConfig {\r\n       ...\r\n\r\n        Properties properties = new Properties()\r\n        properties.load(project.rootProject.file(&quot;local.properties&quot;).newDataInputStream())\r\n        buildConfigField &quot;String&quot;,&quot;SHA1&quot;, &quot;\\&quot;${properties.getProperty(&quot;SHA1&quot;)}\\&quot;&quot;\r\n        buildConfigField &quot;String&quot;,&quot;SHA256&quot;,&quot;\\&quot;${properties.getProperty(&quot;SHA256&quot;)}\\&quot;&quot;\r\n    }\r\n```\r\n**Step-2**\r\n\r\ncreate `SHA1=your_SHA1_key`properties in local.properties\r\n\r\ncreate `SHA256=your_SHA256_key`properties in local.properties\r\n\r\n**Step-3**\r\n\r\nrebuild the project after completing the above process\r\n\r\nyou can access your SHA1 key using `BuildConfig.SHA1`","title":"Android Studio - how to securely store SHA-1 key in app","body":"<p>In your default config block in <code> build.gradle</code> file do the following changes:</p>\n<p><strong>Step 1:</strong></p>\n<pre><code>defaultConfig {\n       ...\n\n        Properties properties = new Properties()\n        properties.load(project.rootProject.file(&quot;local.properties&quot;).newDataInputStream())\n        buildConfigField &quot;String&quot;,&quot;SHA1&quot;, &quot;\\&quot;${properties.getProperty(&quot;SHA1&quot;)}\\&quot;&quot;\n        buildConfigField &quot;String&quot;,&quot;SHA256&quot;,&quot;\\&quot;${properties.getProperty(&quot;SHA256&quot;)}\\&quot;&quot;\n    }\n</code></pre>\n<p><strong>Step-2</strong></p>\n<p>create <code>SHA1=your_SHA1_key</code>properties in local.properties</p>\n<p>create <code>SHA256=your_SHA256_key</code>properties in local.properties</p>\n<p><strong>Step-3</strong></p>\n<p>rebuild the project after completing the above process</p>\n<p>you can access your SHA1 key using <code>BuildConfig.SHA1</code></p>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689236285,"creation_date":1689236285,"answer_id":76677294,"question_id":76676403,"body_markdown":"Code from https://gist.github.com/JosiasSena/3bf4ca59777f7dedcaf41a495d96d984 encrypts and decrypts text using your app key. To use it you should first run your app, with calling encrypt on your secret text. Log the encrypted string to logcat. Then read it from logcat and put this string in your source code. Before using this string, you should call decrypt on it and then you can use it later in your code. **Remember** **to remove the code you used to encrypt your string - it was only temporary.**\r\n\r\nYou can play with this code using this example application:\r\n\r\nhttps://github.com/luskan/EncryptDecryptApp\r\n\r\nIn MainActivity change SAMPLE_ALIAS to whatever you want.\r\n\r\nEncryption is done with this code:\r\n \r\n            String textToEncrypt = &quot;Your Secret&quot;; // not encrypted yet\r\n            final byte[] encryptedTextArray = encryptor\r\n                    .encryptText(SAMPLE_ALIAS, textToEncrypt);\r\n            String encryptedText = Base64.encodeToString(encryptedTextArray, Base64.DEFAULT);\r\n\r\n\r\nand decryption will look as follows:\r\n\r\n            String encryptedText = &quot;TAxdnTHhyEC34x510mMxqt2nAMrv7dMXWDjr&quot;;\r\n            byte[] encryptedBytes = Base64.decode(encryptedText, Base64.DEFAULT);\r\n            String decryptedText = decryptor\r\n                    .decryptData(SAMPLE_ALIAS, encryptedBytes, encryptor.getIv());\r\n\r\nNote, that on each encryption the encryptedText will be different - this is a correct behaviour.","title":"Android Studio - how to securely store SHA-1 key in app","body":"<p>Code from <a href=\"https://gist.github.com/JosiasSena/3bf4ca59777f7dedcaf41a495d96d984\" rel=\"nofollow noreferrer\">https://gist.github.com/JosiasSena/3bf4ca59777f7dedcaf41a495d96d984</a> encrypts and decrypts text using your app key. To use it you should first run your app, with calling encrypt on your secret text. Log the encrypted string to logcat. Then read it from logcat and put this string in your source code. Before using this string, you should call decrypt on it and then you can use it later in your code. <strong>Remember</strong> <strong>to remove the code you used to encrypt your string - it was only temporary.</strong></p>\n<p>You can play with this code using this example application:</p>\n<p><a href=\"https://github.com/luskan/EncryptDecryptApp\" rel=\"nofollow noreferrer\">https://github.com/luskan/EncryptDecryptApp</a></p>\n<p>In MainActivity change SAMPLE_ALIAS to whatever you want.</p>\n<p>Encryption is done with this code:</p>\n<pre><code>        String textToEncrypt = &quot;Your Secret&quot;; // not encrypted yet\n        final byte[] encryptedTextArray = encryptor\n                .encryptText(SAMPLE_ALIAS, textToEncrypt);\n        String encryptedText = Base64.encodeToString(encryptedTextArray, Base64.DEFAULT);\n</code></pre>\n<p>and decryption will look as follows:</p>\n<pre><code>        String encryptedText = &quot;TAxdnTHhyEC34x510mMxqt2nAMrv7dMXWDjr&quot;;\n        byte[] encryptedBytes = Base64.decode(encryptedText, Base64.DEFAULT);\n        String decryptedText = decryptor\n                .decryptData(SAMPLE_ALIAS, encryptedBytes, encryptor.getIv());\n</code></pre>\n<p>Note, that on each encryption the encryptedText will be different - this is a correct behaviour.</p>\n"}],"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1689236285,"creation_date":1689228781,"question_id":76676403,"body_markdown":"I have an android native app and for security reasons now the client says to encrypt SHA-1 key. I checked for the app for generated certificates it shows SHA-1 SHA-256 and MD5. How do I store it all securedly? I referred to these examples but confused about the implementation.In the entire app I looked I am unable to figure out how can I get and store it?In values.xml file all sensitive info is stored like google_api, Firebase details so I need to  store it more securely. How can I do it?\r\n\r\n   [Links referred][1]\r\n\r\n\r\n[Links referred][2]\r\n\r\n\r\n[Google developers][3]\r\n\r\n\r\n  [1]: https://gist.github.com/JosiasSena/3bf4ca59777f7dedcaf41a495d96d984\r\n  [2]: https://medium.com/@josiassena/using-the-android-keystore-system-to-store-sensitive-information-3a56175a454b\r\n  [3]: https://developer.android.com/training/articles/keystore","title":"Android Studio - how to securely store SHA-1 key in app","body":"<p>I have an android native app and for security reasons now the client says to encrypt SHA-1 key. I checked for the app for generated certificates it shows SHA-1 SHA-256 and MD5. How do I store it all securedly? I referred to these examples but confused about the implementation.In the entire app I looked I am unable to figure out how can I get and store it?In values.xml file all sensitive info is stored like google_api, Firebase details so I need to  store it more securely. How can I do it?</p>\n<p><a href=\"https://gist.github.com/JosiasSena/3bf4ca59777f7dedcaf41a495d96d984\" rel=\"nofollow noreferrer\">Links referred</a></p>\n<p><a href=\"https://medium.com/@josiassena/using-the-android-keystore-system-to-store-sensitive-information-3a56175a454b\" rel=\"nofollow noreferrer\">Links referred</a></p>\n<p><a href=\"https://developer.android.com/training/articles/keystore\" rel=\"nofollow noreferrer\">Google developers</a></p>\n"},{"tags":["java","spring-boot","postgis","hibernate-6.x","hibernate-types"],"answers":[{"tags":[],"owner":{"account_id":7194111,"reputation":105,"user_id":5493469,"display_name":"Urman Ratneshwar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683287821,"creation_date":1683287821,"answer_id":76181937,"question_id":76180848,"body_markdown":"After exploring the repository for hibernate-types on github for the same issue. I found the answer for one of the existing raised issues by the author:\r\n\r\n&gt; You&#39;re using the wrong Hypersistence Utils dependency.\r\nForHibernate ORM core version 6.1.7.Final, you need to use hypersistence-utils-hibernate-60.\r\n\r\nLink to issue : [https://github.com/vladmihalcea/hypersistence-utils/issues/626][1]\r\n\r\n\r\n  [1]: https://github.com/vladmihalcea/hypersistence-utils/issues/626","title":"SpringBoot 3, PostGIS:: com.vladmihalcea.hibernate.type.basic.NullableCharacterType does not define or inherit","body":"<p>After exploring the repository for hibernate-types on github for the same issue. I found the answer for one of the existing raised issues by the author:</p>\n<blockquote>\n<p>You're using the wrong Hypersistence Utils dependency.\nForHibernate ORM core version 6.1.7.Final, you need to use hypersistence-utils-hibernate-60.</p>\n</blockquote>\n<p>Link to issue : <a href=\"https://github.com/vladmihalcea/hypersistence-utils/issues/626\" rel=\"nofollow noreferrer\">https://github.com/vladmihalcea/hypersistence-utils/issues/626</a></p>\n"},{"tags":[],"owner":{"account_id":7619751,"reputation":6003,"user_id":5778099,"accept_rate":53,"display_name":"Nestor Milyaev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689236266,"creation_date":1689166834,"answer_id":76670871,"question_id":76180848,"body_markdown":"My ${version} of \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n        &lt;version&gt;${versioin}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nworks all the way to 2.14.x without any `hypersistence` libraries. \r\n\r\nAlternatively, a combo of:\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-types-60&lt;/artifactId&gt;\r\n            &lt;version&gt;2.21.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.hypersistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hypersistence-utils-hibernate-60&lt;/artifactId&gt;\r\n            &lt;version&gt;3.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nWorks. I&#39;m guessing you need to use the same versioin suffix on both libraries (-60) in my case\r\n","title":"SpringBoot 3, PostGIS:: com.vladmihalcea.hibernate.type.basic.NullableCharacterType does not define or inherit","body":"<p>My ${version} of</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n    &lt;version&gt;${versioin}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>works all the way to 2.14.x without any <code>hypersistence</code> libraries.</p>\n<p>Alternatively, a combo of:</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-types-60&lt;/artifactId&gt;\n        &lt;version&gt;2.21.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.hypersistence&lt;/groupId&gt;\n        &lt;artifactId&gt;hypersistence-utils-hibernate-60&lt;/artifactId&gt;\n        &lt;version&gt;3.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Works. I'm guessing you need to use the same versioin suffix on both libraries (-60) in my case</p>\n"}],"owner":{"account_id":7194111,"reputation":105,"user_id":5493469,"display_name":"Urman Ratneshwar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2592,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76181937,"answer_count":2,"score":0,"last_activity_date":1689236266,"creation_date":1683279617,"question_id":76180848,"body_markdown":"I am trying to migrate my current spring boot 2 application to 3. I am using PostGIS (I have not set explicit dialect so it uses **org.hibernate.dialect.PostgreSQLDialect**), along with a few jsonb columns. While trying to start up the application after making the necessary changes, I am getting the below error: \r\n\r\n    Caused by: java.lang.AbstractMethodError: Receiver class com.vladmihalcea.hibernate.type.basic.NullableCharacterType does not define or inherit an implementation of the resolved method &#39;org.hibernate.type.descriptor.jdbc.JdbcType getJdbcType()&#39; of interface org.hibernate.type.BasicType.\r\n\tat org.hibernate.type.BasicTypeRegistry.applyOrOverwriteEntry(BasicTypeRegistry.java:252) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.type.BasicTypeRegistry.register(BasicTypeRegistry.java:239) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.type.BasicTypeRegistry.register(BasicTypeRegistry.java:223) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.model.TypeContributions.contributeType(TypeContributions.java:56) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat com.vladmihalcea.hibernate.type.HibernateTypesContributor.contributeType(HibernateTypesContributor.java:118) ~[hibernate-types-52-2.21.1.jar:na]\r\n\tat com.vladmihalcea.hibernate.type.HibernateTypesContributor.contribute(HibernateTypesContributor.java:96) ~[hibernate-types-52-2.21.1.jar:na]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:390) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:143) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.8.jar:6.0.8]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.8.jar:6.0.8]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.8.jar:6.0.8]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.8.jar:6.0.8]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\t... 103 common frames omitted\r\nBelow is my pom:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;test&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t&lt;name&gt;test&lt;/name&gt;\r\n    \t&lt;description&gt;test&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-integration-core&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.18.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.17.3&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;20230227&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.vladmihalcea/hibernate-types-52 --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.21.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-module-jakarta-xmlbind-annotations&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-gcp-starter-pubsub&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-envers --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-envers&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-spatial --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.2.2.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.1.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.1.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.8.9&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.project-lombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;17&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;17&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;0.8.9&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;report&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nIn my POJO, I&#39;m using below columns among others:\r\n\r\n    @jakarta.validation.constraints.NotNull(message = &quot;`geometry` is a required field&quot;)\r\n    @jakarta.persistence.Column(name = &quot;geometry&quot;, nullable = false)\r\n    private org.locationtech.jts.geom.Geometry geometry;\r\n    \r\n    @org.hibernate.annotations.JdbcTypeCode(org.hibernate.type.SqlTypes.JSON)\r\n    @jakarta.persistence.Column(columnDefinition = &quot;jsonb&quot;)\r\n    private Map&lt;String, String&gt; test = new HashMap&lt;&gt;();\r\n\r\n","title":"SpringBoot 3, PostGIS:: com.vladmihalcea.hibernate.type.basic.NullableCharacterType does not define or inherit","body":"<p>I am trying to migrate my current spring boot 2 application to 3. I am using PostGIS (I have not set explicit dialect so it uses <strong>org.hibernate.dialect.PostgreSQLDialect</strong>), along with a few jsonb columns. While trying to start up the application after making the necessary changes, I am getting the below error:</p>\n<pre><code>Caused by: java.lang.AbstractMethodError: Receiver class com.vladmihalcea.hibernate.type.basic.NullableCharacterType does not define or inherit an implementation of the resolved method 'org.hibernate.type.descriptor.jdbc.JdbcType getJdbcType()' of interface org.hibernate.type.BasicType.\nat org.hibernate.type.BasicTypeRegistry.applyOrOverwriteEntry(BasicTypeRegistry.java:252) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.type.BasicTypeRegistry.register(BasicTypeRegistry.java:239) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.type.BasicTypeRegistry.register(BasicTypeRegistry.java:223) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.boot.model.TypeContributions.contributeType(TypeContributions.java:56) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat com.vladmihalcea.hibernate.type.HibernateTypesContributor.contributeType(HibernateTypesContributor.java:118) ~[hibernate-types-52-2.21.1.jar:na]\nat com.vladmihalcea.hibernate.type.HibernateTypesContributor.contribute(HibernateTypesContributor.java:96) ~[hibernate-types-52-2.21.1.jar:na]\nat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:390) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:143) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.8.jar:6.0.8]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.8.jar:6.0.8]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.8.jar:6.0.8]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.8.jar:6.0.8]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.8.jar:6.0.8]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.8.jar:6.0.8]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.8.jar:6.0.8]\n... 103 common frames omitted\n</code></pre>\n<p>Below is my pom:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;name&gt;test&lt;/name&gt;\n    &lt;description&gt;test&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-integration-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n                    &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;1.18.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;1.17.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20230227&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/com.vladmihalcea/hibernate-types-52 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n            &lt;version&gt;2.21.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-module-jakarta-xmlbind-annotations&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter-pubsub&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-envers --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-envers&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-spatial --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\n            &lt;version&gt;6.2.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n            &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\n            &lt;version&gt;0.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n            &lt;version&gt;7.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.8.9&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n                &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.project-lombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.9&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>In my POJO, I'm using below columns among others:</p>\n<pre><code>@jakarta.validation.constraints.NotNull(message = &quot;`geometry` is a required field&quot;)\n@jakarta.persistence.Column(name = &quot;geometry&quot;, nullable = false)\nprivate org.locationtech.jts.geom.Geometry geometry;\n\n@org.hibernate.annotations.JdbcTypeCode(org.hibernate.type.SqlTypes.JSON)\n@jakarta.persistence.Column(columnDefinition = &quot;jsonb&quot;)\nprivate Map&lt;String, String&gt; test = new HashMap&lt;&gt;();\n</code></pre>\n"},{"tags":["java","xml","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1689175217,"post_id":76671010,"comment_id":135177057,"body_markdown":"Debug code and tell us which instruction is failing?  Try removing : @RequestMapping(&quot;/*&quot;)","body":"Debug code and tell us which instruction is failing?  Try removing : @RequestMapping(&quot;/*&quot;)"},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1689237895,"post_id":76671010,"comment_id":135185867,"body_markdown":"can&#39;t debug anything cause it doesnt hit the endpoint - tried removing that but didnt do anything","body":"can&#39;t debug anything cause it doesnt hit the endpoint - tried removing that but didnt do anything"},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1689238237,"post_id":76671010,"comment_id":135185942,"body_markdown":"See following : https://www.baeldung.com/spring-mvc-404-error","body":"See following : <a href=\"https://www.baeldung.com/spring-mvc-404-error\" rel=\"nofollow noreferrer\">baeldung.com/spring-mvc-404-error</a>"},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1689245525,"post_id":76671010,"comment_id":135187500,"body_markdown":"managed to get it working now - will upload answer when i get time","body":"managed to get it working now - will upload answer when i get time"}],"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689236264,"creation_date":1689167740,"question_id":76671010,"body_markdown":"I can&#39;t figure out what is wrong with my setup in my app. The app loads fine with no errors and the login page works. It is once the user logs in and tries to access the home endpoint that it crashes and i am met with a \r\n\r\n&gt; No mapping for GET /app-name/secure/home\r\n\r\nthe jsp file is located in WEB-INF/jsp/secure/home/view.jsp\r\n\r\nCan anyone spot what is wrong with my setup? i am struggling to understand what is going wrong.\r\n\r\nHere is my **home controller** \r\n``` \r\n@SecureController\r\n@RequestMapping(&quot;/home&quot;)\r\npublic class HomeController {\r\n\r\n\t@Autowired\r\n\tpublic HomeController() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\t@ModelAttribute(&quot;userInformation&quot;)\r\n\tpublic SystemUserDetailsDto getUserDetails() {\r\n\t\tString username = UserInfoHolder.getUserInfo().getUsername();\r\n\t\treturn username;\r\n\t}\r\n\r\n\t@GetMapping\r\n\tpublic String handle() {\r\n\t\treturn &quot;home/view&quot;;\r\n\t}\r\n}\r\n```\r\nthis is my **defaultSecureController implementation**\r\n\r\n```\r\n@SecureController\r\n@RequestMapping(&quot;/*&quot;)\r\npublic class DefaultSecureController {\r\n\r\n    private String servletContext = &quot;secure/&quot;;\r\n\r\n    @RequestMapping\r\n    public String handle(HttpServletRequest request) {\r\n        return request.getRequestURI().substring(request.getRequestURI().lastIndexOf(servletContext) + servletContext.length());\r\n    }\r\n} \r\n```\r\nthis is the **secure-servlet.xml** \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\t   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t   xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\t   xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\t   xsi:schemaLocation=&quot;\r\nhttp://www.springframework.org/schema/mvc\r\nhttp://www.springframework.org/schema/mvc/spring-mvc.xsd\r\nhttp://www.springframework.org/schema/beans\r\nhttp://www.springframework.org/schema/beans/spring-beans.xsd\r\nhttp://www.springframework.org/schema/context\r\nhttp://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n\r\n\r\n    &lt;context:component-scan base-package=&quot;com.app.web.mvc&quot;&gt;\r\n        &lt;context:include-filter type=&quot;annotation&quot; expression=&quot;com.app.web.mvc.SecureController&quot; /&gt;\r\n    &lt;/context:component-scan&gt;\r\n    &lt;mvc:annotation-driven /&gt;\r\n    \r\n    &lt;mvc:interceptors&gt;\r\n    \t&lt;mvc:interceptor&gt;\r\n    \t\t&lt;mvc:mapping path=&quot;/**&quot; /&gt;\r\n    \t\t&lt;bean class=&quot;com.app.application.core.userinfo.UserInfoInterceptor&quot; /&gt;\r\n    \t&lt;/mvc:interceptor&gt;\r\n    \t&lt;mvc:interceptor&gt;\r\n    \t\t&lt;mvc:mapping path=&quot;/**&quot; /&gt;\r\n    \t\t&lt;bean class=&quot;com.app.web.interceptor.SessionTimeoutInterceptor&quot;&gt;\r\n    \t\t\t&lt;!-- Preempt the default session timeout by 5 seconds to allow interceptor to work --&gt;\r\n    \t\t\t&lt;property name=&quot;sessionMaxInactiveIntervalPreempt&quot; value=&quot;5&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;timeoutMapping&quot; value=&quot;/app/public/login?expired=true&quot; /&gt;\r\n    \t\t&lt;/bean&gt;\r\n    \t&lt;/mvc:interceptor&gt;\r\n    &lt;/mvc:interceptors&gt;\r\n    \r\n\t&lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n\t    &lt;property name=&quot;order&quot; value=&quot;2&quot; /&gt;\r\n\t    &lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.JstlView&quot; /&gt;\r\n\t    &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/secure/&quot; /&gt;\r\n\t    &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\t&lt;bean id=&quot;exceptionHandler&quot; class=&quot;com.app.web.mvc.ExceptionHandler&quot;&gt;\r\n\t\t&lt;property name=&quot;exceptionView&quot; value=&quot;displayError&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n&lt;/beans&gt;\r\n```\r\nand this is the servlet configuration in my **web.xml**\r\n```\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;secure&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;/WEB-INF/spring/secure-servlet.xml&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;secure&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/secure/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\t\r\n```","title":"No mapping for GET secure/home - spring mvc","body":"<p>I can't figure out what is wrong with my setup in my app. The app loads fine with no errors and the login page works. It is once the user logs in and tries to access the home endpoint that it crashes and i am met with a</p>\n<blockquote>\n<p>No mapping for GET /app-name/secure/home</p>\n</blockquote>\n<p>the jsp file is located in WEB-INF/jsp/secure/home/view.jsp</p>\n<p>Can anyone spot what is wrong with my setup? i am struggling to understand what is going wrong.</p>\n<p>Here is my <strong>home controller</strong></p>\n<pre><code>@SecureController\n@RequestMapping(&quot;/home&quot;)\npublic class HomeController {\n\n    @Autowired\n    public HomeController() {\n        super();\n    }\n\n    @ModelAttribute(&quot;userInformation&quot;)\n    public SystemUserDetailsDto getUserDetails() {\n        String username = UserInfoHolder.getUserInfo().getUsername();\n        return username;\n    }\n\n    @GetMapping\n    public String handle() {\n        return &quot;home/view&quot;;\n    }\n}\n</code></pre>\n<p>this is my <strong>defaultSecureController implementation</strong></p>\n<pre><code>@SecureController\n@RequestMapping(&quot;/*&quot;)\npublic class DefaultSecureController {\n\n    private String servletContext = &quot;secure/&quot;;\n\n    @RequestMapping\n    public String handle(HttpServletRequest request) {\n        return request.getRequestURI().substring(request.getRequestURI().lastIndexOf(servletContext) + servletContext.length());\n    }\n} \n</code></pre>\n<p>this is the <strong>secure-servlet.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xsi:schemaLocation=&quot;\nhttp://www.springframework.org/schema/mvc\nhttp://www.springframework.org/schema/mvc/spring-mvc.xsd\nhttp://www.springframework.org/schema/beans\nhttp://www.springframework.org/schema/beans/spring-beans.xsd\nhttp://www.springframework.org/schema/context\nhttp://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\n\n\n    &lt;context:component-scan base-package=&quot;com.app.web.mvc&quot;&gt;\n        &lt;context:include-filter type=&quot;annotation&quot; expression=&quot;com.app.web.mvc.SecureController&quot; /&gt;\n    &lt;/context:component-scan&gt;\n    &lt;mvc:annotation-driven /&gt;\n    \n    &lt;mvc:interceptors&gt;\n        &lt;mvc:interceptor&gt;\n            &lt;mvc:mapping path=&quot;/**&quot; /&gt;\n            &lt;bean class=&quot;com.app.application.core.userinfo.UserInfoInterceptor&quot; /&gt;\n        &lt;/mvc:interceptor&gt;\n        &lt;mvc:interceptor&gt;\n            &lt;mvc:mapping path=&quot;/**&quot; /&gt;\n            &lt;bean class=&quot;com.app.web.interceptor.SessionTimeoutInterceptor&quot;&gt;\n                &lt;!-- Preempt the default session timeout by 5 seconds to allow interceptor to work --&gt;\n                &lt;property name=&quot;sessionMaxInactiveIntervalPreempt&quot; value=&quot;5&quot; /&gt;\n                &lt;property name=&quot;timeoutMapping&quot; value=&quot;/app/public/login?expired=true&quot; /&gt;\n            &lt;/bean&gt;\n        &lt;/mvc:interceptor&gt;\n    &lt;/mvc:interceptors&gt;\n    \n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;order&quot; value=&quot;2&quot; /&gt;\n        &lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.JstlView&quot; /&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/secure/&quot; /&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;exceptionHandler&quot; class=&quot;com.app.web.mvc.ExceptionHandler&quot;&gt;\n        &lt;property name=&quot;exceptionView&quot; value=&quot;displayError&quot; /&gt;\n    &lt;/bean&gt;\n    \n&lt;/beans&gt;\n</code></pre>\n<p>and this is the servlet configuration in my <strong>web.xml</strong></p>\n<pre><code>    &lt;servlet&gt;\n        &lt;servlet-name&gt;secure&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring/secure-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;secure&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/secure/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;  \n</code></pre>\n"},{"tags":["java","dependency-injection","guice"],"comments":[{"owner":{"account_id":106062,"reputation":31478,"user_id":282706,"accept_rate":80,"display_name":"Finbarr"},"score":0,"creation_date":1301596587,"post_id":5504555,"comment_id":6247888,"body_markdown":"You suggest that your example is simplified - perhaps showing a more detailed example would inspire a better response?","body":"You suggest that your example is simplified - perhaps showing a more detailed example would inspire a better response?"}],"answers":[{"tags":[],"owner":{"account_id":342550,"reputation":3620,"user_id":673759,"accept_rate":100,"display_name":"David H. Clements"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1301608288,"creation_date":1301596564,"answer_id":5504627,"question_id":5504555,"body_markdown":"What is the problem with initializing the module just by calling &lt;code&gt;new MyModule(d)&lt;/code&gt; or by creating a &lt;code&gt;Provider`&lt;Something`&gt;&lt;/code&gt; that has an injected &lt;code&gt;Injector&lt;/code&gt;?  Those would appear to be the standard ways of handling this sort of problem.  As has been mentioned, you can also use &lt;code&gt;@Provides&lt;/code&gt; methods with arguments.\r\n\r\nIf the dependency is optional then you can create the module and then call a setter to initialize the value if needed (e.g., &lt;code&gt; com.google.inject.persist.jpa.JpaPersistModule&lt;/code&gt; does this with properties, while using &lt;code&gt;new JpaPersistModule(String)&lt;/code&gt; to load the correct configuration).\r\n\r\nOtherwise I suppose it might be possible to do so (and then call &lt;code&gt;createChildInjector(Modules... modules)&lt;/code&gt;), but I&#39;d almost always prefer one of the other approaches to that one.","title":"Guice: is it possible to inject modules?","body":"<p>What is the problem with initializing the module just by calling <code>new MyModule(d)</code> or by creating a <code>Provider<code>&lt;Something</code>></code> that has an injected <code>Injector</code>?  Those would appear to be the standard ways of handling this sort of problem.  As has been mentioned, you can also use <code>@Provides</code> methods with arguments.</p>\n\n<p>If the dependency is optional then you can create the module and then call a setter to initialize the value if needed (e.g., <code> com.google.inject.persist.jpa.JpaPersistModule</code> does this with properties, while using <code>new JpaPersistModule(String)</code> to load the correct configuration).</p>\n\n<p>Otherwise I suppose it might be possible to do so (and then call <code>createChildInjector(Modules... modules)</code>), but I'd almost always prefer one of the other approaches to that one.</p>\n"},{"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1301598047,"creation_date":1301598047,"answer_id":5504903,"question_id":5504555,"body_markdown":"`@Provides` methods can take dependencies as parameters just like parameters to an `@Inject` annotated constructor or method:\r\n\r\n    @Provides Something provideSomething(Dependency d) {\r\n       return new Something(d); // or whatever\r\n    }\r\n\r\nThis is documented [here][1], though perhaps it could be made to stand out more.\r\n\r\n\r\n  [1]: http://code.google.com/p/google-guice/wiki/ProvidesMethods","title":"Guice: is it possible to inject modules?","body":"<p><code>@Provides</code> methods can take dependencies as parameters just like parameters to an <code>@Inject</code> annotated constructor or method:</p>\n\n<pre><code>@Provides Something provideSomething(Dependency d) {\n   return new Something(d); // or whatever\n}\n</code></pre>\n\n<p>This is documented <a href=\"http://code.google.com/p/google-guice/wiki/ProvidesMethods\">here</a>, though perhaps it could be made to stand out more.</p>\n"},{"tags":[],"owner":{"account_id":367966,"reputation":93,"user_id":714472,"display_name":"CJC"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1359680295,"creation_date":1303186381,"answer_id":5711513,"question_id":5504555,"body_markdown":"The question is already well answered, but I just wanted to add a variation to Colin&#39;s example:\r\n\r\n    class MyModule extends AbstractModule { \r\n      public void configure() {\r\n        bind(Something.class).toProvider(new Provider&lt;Something&gt;() {\r\n           @Inject Dependency d;\r\n           Something get() { return d.buildSomething(); }\r\n        }\r\n      }\r\n    }\r\n\r\nThe @Provides method approach is clearer than what I have above for this simple case, but I&#39;ve found that instantiating an actual Provider can be useful in some situations too.  Something I stole from the mailing list; wouldn&#39;t have occurred to me on my own ;)","title":"Guice: is it possible to inject modules?","body":"<p>The question is already well answered, but I just wanted to add a variation to Colin's example:</p>\n\n<pre><code>class MyModule extends AbstractModule { \n  public void configure() {\n    bind(Something.class).toProvider(new Provider&lt;Something&gt;() {\n       @Inject Dependency d;\n       Something get() { return d.buildSomething(); }\n    }\n  }\n}\n</code></pre>\n\n<p>The @Provides method approach is clearer than what I have above for this simple case, but I've found that instantiating an actual Provider can be useful in some situations too.  Something I stole from the mailing list; wouldn't have occurred to me on my own ;)</p>\n"},{"tags":[],"owner":{"account_id":37161,"reputation":7215,"user_id":106189,"accept_rate":89,"display_name":"Jim Hurne"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1350758915,"creation_date":1350758915,"answer_id":12991580,"question_id":5504555,"body_markdown":"Using a provider or @Provides methods are great if you need a dependency to manually construct an object. However, what if you need something to help you decide how to configure the bindings themselves? It turns out you can use Guice to create (and configure) your module. \r\n\r\nHere is a (contrived) example.  First, the module we want to configure:\r\n\r\n    /**\r\n     * Creates a binding for a Set&lt;String&gt; which represents the food in a pantry.\r\n     */\r\n    public class PantryModule extends AbstractModule {\r\n      private final boolean addCheese;\r\n    \r\n      @Inject\r\n      public ConditionalModule(@Named(&quot;addCheese&quot;) boolean addCheese) {\r\n        this.addCheese = addCheese;\r\n      }\r\n    \r\n      @Override\r\n      protected void configure() {\r\n        Multibinder&lt;String&gt; pantryBinder = Multibinder\r\n          .newSetBinder(binder(), String.class);\r\n    \r\n        pantryBinder.addBinding().toInstance(&quot;milk&quot;);\r\n    \r\n        if (addCheese) {\r\n          pantryBinder.addBinding().toInstance(&quot;cheese&quot;);\r\n        }\r\n    \r\n        pantryBinder.addBinding().toInstance(&quot;bread&quot;);\r\n      }\r\n    }\r\n\r\nThe PantryModule expects a boolean value to be injected to decide whether or not it should include cheese in the pantry.\r\n\r\nNext, we&#39;ll use Guice to configure the module:\r\n\r\n    // Here we use an anonymous class as the &quot;configuring&quot; module. In real life, you would \r\n    // probably use a standalone module.\r\n    Injector injector = Guice.createInjector(new AbstractModule() {\r\n      @Override\r\n      protected void configure() {\r\n        // No cheese please!\r\n        bindConstant().annotatedWith(Names.named(&quot;addCheese&quot;)).to(false);\r\n        bind(PantryModule.class);\r\n      }\r\n    });\r\n    \r\n    Module configuredConditionalModule = injector.getInstance(PantryModule.class);\r\n\r\nNow that we have a configured module, we&#39;ll update our injector to use it...\r\n\r\n    //...continued from last snippet...\r\n    injector = injector.createChildInjector(configuredConditionalModule);\r\n\r\nAnd finally we&#39;ll get the set of strings that represent our pantry:\r\n\r\n    //...continued from last snippet...\r\n    Set&lt;String&gt; pantry = injector.getInstance(new Key&lt;Set&lt;String&gt;&gt;() {});\r\n    \r\n    for (String food : pantry) {\r\n      System.out.println(food);\r\n    }\r\n\r\nIf you put all the pieces together in a main method and run it, you&#39;ll get the following output:\r\n\r\n    milk\r\n    bread\r\n\r\nIf you change the binding to the &quot;addCheese&quot; boolean to true, you&#39;ll get:\r\n\r\n    milk\r\n    cheese\r\n    bread\r\n\r\nThis technique is cool, but probably only useful when you have control over the Injector instance and only when the module requires complex dependencies. Nonethless, I found a real need for this on a real project at work. If I did, then someone else might too.\r\n\r\n","title":"Guice: is it possible to inject modules?","body":"<p>Using a provider or @Provides methods are great if you need a dependency to manually construct an object. However, what if you need something to help you decide how to configure the bindings themselves? It turns out you can use Guice to create (and configure) your module. </p>\n\n<p>Here is a (contrived) example.  First, the module we want to configure:</p>\n\n<pre><code>/**\n * Creates a binding for a Set&lt;String&gt; which represents the food in a pantry.\n */\npublic class PantryModule extends AbstractModule {\n  private final boolean addCheese;\n\n  @Inject\n  public ConditionalModule(@Named(\"addCheese\") boolean addCheese) {\n    this.addCheese = addCheese;\n  }\n\n  @Override\n  protected void configure() {\n    Multibinder&lt;String&gt; pantryBinder = Multibinder\n      .newSetBinder(binder(), String.class);\n\n    pantryBinder.addBinding().toInstance(\"milk\");\n\n    if (addCheese) {\n      pantryBinder.addBinding().toInstance(\"cheese\");\n    }\n\n    pantryBinder.addBinding().toInstance(\"bread\");\n  }\n}\n</code></pre>\n\n<p>The PantryModule expects a boolean value to be injected to decide whether or not it should include cheese in the pantry.</p>\n\n<p>Next, we'll use Guice to configure the module:</p>\n\n<pre><code>// Here we use an anonymous class as the \"configuring\" module. In real life, you would \n// probably use a standalone module.\nInjector injector = Guice.createInjector(new AbstractModule() {\n  @Override\n  protected void configure() {\n    // No cheese please!\n    bindConstant().annotatedWith(Names.named(\"addCheese\")).to(false);\n    bind(PantryModule.class);\n  }\n});\n\nModule configuredConditionalModule = injector.getInstance(PantryModule.class);\n</code></pre>\n\n<p>Now that we have a configured module, we'll update our injector to use it...</p>\n\n<pre><code>//...continued from last snippet...\ninjector = injector.createChildInjector(configuredConditionalModule);\n</code></pre>\n\n<p>And finally we'll get the set of strings that represent our pantry:</p>\n\n<pre><code>//...continued from last snippet...\nSet&lt;String&gt; pantry = injector.getInstance(new Key&lt;Set&lt;String&gt;&gt;() {});\n\nfor (String food : pantry) {\n  System.out.println(food);\n}\n</code></pre>\n\n<p>If you put all the pieces together in a main method and run it, you'll get the following output:</p>\n\n<pre><code>milk\nbread\n</code></pre>\n\n<p>If you change the binding to the \"addCheese\" boolean to true, you'll get:</p>\n\n<pre><code>milk\ncheese\nbread\n</code></pre>\n\n<p>This technique is cool, but probably only useful when you have control over the Injector instance and only when the module requires complex dependencies. Nonethless, I found a real need for this on a real project at work. If I did, then someone else might too.</p>\n"}],"owner":{"account_id":324442,"reputation":2438,"user_id":645016,"accept_rate":62,"display_name":"sxc731"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19593,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":5504903,"answer_count":4,"score":25,"last_activity_date":1689235919,"creation_date":1301596183,"question_id":5504555,"body_markdown":"I have a `Module` that requires some arbitrary `Depedency`.  Is there a way Modules themselves can be injected?  I realize this is a bit of a chicken and egg situation...\r\n\r\nExample:\r\n\r\n    public class MyModule implements Module {\r\n\r\n        private final Dependency d;\r\n\r\n        @Inject public MyModule(Dependency d) {\r\n            this.d = d;\r\n        }\r\n\r\n        public void configure(Binder b) { }\r\n\r\n        @Provides Something provideSomething() {\r\n            return new SomethingImpl(d);\r\n        }\r\n    }\r\n\r\nI suppose in this case the solution would be to turn the `@Provides` method into a full-fledged `Provider&lt;Something&gt;` class.  This is clearly a simplified example; the code I&#39;m dealing with has many such `@Provides` methods so cutting them each into individual `Provider&lt;...&gt;` classes and introducing a module to configure them adds a fair amount of clutter - and I thought Guice was all about reducing boilerplate?\r\n\r\nPerhaps it&#39;s a reflection of my relative noobyness to Guice but I&#39;ve come across a fair few cases where I&#39;ve been tempted to do the above.  I must be missing something...","title":"Guice: is it possible to inject modules?","body":"<p>I have a <code>Module</code> that requires some arbitrary <code>Depedency</code>.  Is there a way Modules themselves can be injected?  I realize this is a bit of a chicken and egg situation...</p>\n<p>Example:</p>\n<pre><code>public class MyModule implements Module {\n\n    private final Dependency d;\n\n    @Inject public MyModule(Dependency d) {\n        this.d = d;\n    }\n\n    public void configure(Binder b) { }\n\n    @Provides Something provideSomething() {\n        return new SomethingImpl(d);\n    }\n}\n</code></pre>\n<p>I suppose in this case the solution would be to turn the <code>@Provides</code> method into a full-fledged <code>Provider&lt;Something&gt;</code> class.  This is clearly a simplified example; the code I'm dealing with has many such <code>@Provides</code> methods so cutting them each into individual <code>Provider&lt;...&gt;</code> classes and introducing a module to configure them adds a fair amount of clutter - and I thought Guice was all about reducing boilerplate?</p>\n<p>Perhaps it's a reflection of my relative noobyness to Guice but I've come across a fair few cases where I've been tempted to do the above.  I must be missing something...</p>\n"},{"tags":["java","android","android-file","android-contentresolver"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1689189265,"post_id":76672702,"comment_id":135179868,"body_markdown":"You cannot take persistable uri permission with ACTION_GET_CONTENT. Use ACTION_OPEN_DOCUMENT instead.","body":"You cannot take persistable uri permission with ACTION_GET_CONTENT. Use ACTION_OPEN_DOCUMENT instead."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1689189346,"post_id":76672702,"comment_id":135179885,"body_markdown":"`With the XML Uri, a temporary File (the XML) is created` That makes no sense. Even if you manage you got no read permission. Use the uri to open the file.","body":"<code>With the XML Uri, a temporary File (the XML) is created</code> That makes no sense. Even if you manage you got no read permission. Use the uri to open the file."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1689189450,"post_id":76672702,"comment_id":135179902,"body_markdown":"`It looks like it&#39;s just for one file, not the whole directory of &quot;myProject&quot;` Of course. You selected a file. Select directories with ACTION_OPEN_DOCUMENT_TREE.","body":"<code>It looks like it&#39;s just for one file, not the whole directory of &quot;myProject&quot;</code> Of course. You selected a file. Select directories with ACTION_OPEN_DOCUMENT_TREE."},{"owner":{"account_id":11509536,"reputation":135,"user_id":8434822,"display_name":"Vento"},"score":0,"creation_date":1689235755,"post_id":76672702,"comment_id":135185421,"body_markdown":"@blackapps Yeap, sorry, I forgot to mention that I already tried that. I&#39;m gonna edit. \nFor the Temporary `File` it&#39;s because the app was designed to handle a `File` type (in several other parts of the code), that&#39;s why I need to handle it like that.\nAny approach aside from adding `ACTION_OPEN_DOCUMENT_TREE`?\nThank you!","body":"@blackapps Yeap, sorry, I forgot to mention that I already tried that. I&#39;m gonna edit.  For the Temporary <code>File</code> it&#39;s because the app was designed to handle a <code>File</code> type (in several other parts of the code), that&#39;s why I need to handle it like that. Any approach aside from adding <code>ACTION_OPEN_DOCUMENT_TREE</code>? Thank you!"}],"owner":{"account_id":11509536,"reputation":135,"user_id":8434822,"display_name":"Vento"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689235896,"creation_date":1689179279,"question_id":76672702,"body_markdown":"Let me explain...\r\n\r\n**WHAT THE APP DOES**\r\n\r\n1. An app allows the user to select an XML file from phone storage.\r\n2. The XML is opened through an `ACTION_GET_CONTENT` (changed that to `ACTION_OPEN_DOCUMENT`) Intent. With the XML Uri, a temporary `File` (the XML) is created in order for the app to read its contents (the app was prepared to receive and process Files not Uris.\r\n3. Among the XML data, there&#39;s an audio file path, which is always located where the XML was, such: \r\n  - XML path: *myStorage/myProject/example.xml*\r\n  - Audio file: *myStorage/myProject/audio/audioSample.mp3*\r\n4. After reading all the XML data, the user opens a new fragment where there&#39;s a MediaPlayer that has to play the &quot;audioSample.mp3&quot; file. \r\n5. The Media player was using some *app internal assets **path** as audio test files, like `&quot;content://&quot; + &quot;com.my.app/&quot; + &quot;audio/audioSample.mp3&quot;`.  The MediaPlayer also has a method that, instead of a &quot;path string (as shown)&quot;, can use a &quot;Uri&quot; to play media. \r\n\r\n**THE PROBLEM**\r\n- I&#39;ve been unable to play the media when loaded from outside internal assets\r\n\r\n**WHAT I TRIED**\r\n- Using the Uri and Path string options of the MediaPlayer\r\n- Hardcoding the Absolute Path string of the &quot;audioSample&quot;\r\n- Creating a new Uri from the XML original Uri, such as &quot;content://interalStorage/myProject:audio/audioSample.mp3&quot; \r\n- Encoding the last part of that Uri path (as I checked what system&#39;s Uri path looks like if the user selects the audioFile instead of the XML file)\r\n- Just copying that system Uri path of the audio file and hardcode it\r\n- When I finally got the correct (or what I think is correct) Uri path, like above, I got a `No persistable permission grants found for UID 10476 and Uri content://com.android.externalstorage.documents/document/primary:myProject/audio/audioSample.mp3`. Now, I looked that up and saw the `takePersistableUriPermission` option, but:\r\n1. It does not work well with `fileChooserResultLauncher` instead of old, deprecated, `onActivityResult`.\r\n2. It looks like it&#39;s just for one file, not the whole directory of &quot;myProject&quot;; so there&#39;s the option of `ACTION_OPEN_DOCUMENT_TREE`. \r\n\r\n\r\nAny other approach aside from `ACTION_OPEN_DOCUMENT_TREE`? \r\nPS: Can I include that in the Intent or I must ask the user twice (one for selecting the XML the other for the Directory as a whole)?","title":"Open file in Android app based on Uri path","body":"<p>Let me explain...</p>\n<p><strong>WHAT THE APP DOES</strong></p>\n<ol>\n<li>An app allows the user to select an XML file from phone storage.</li>\n<li>The XML is opened through an <code>ACTION_GET_CONTENT</code> (changed that to <code>ACTION_OPEN_DOCUMENT</code>) Intent. With the XML Uri, a temporary <code>File</code> (the XML) is created in order for the app to read its contents (the app was prepared to receive and process Files not Uris.</li>\n<li>Among the XML data, there's an audio file path, which is always located where the XML was, such:</li>\n</ol>\n<ul>\n<li>XML path: <em>myStorage/myProject/example.xml</em></li>\n<li>Audio file: <em>myStorage/myProject/audio/audioSample.mp3</em></li>\n</ul>\n<ol start=\"4\">\n<li>After reading all the XML data, the user opens a new fragment where there's a MediaPlayer that has to play the &quot;audioSample.mp3&quot; file.</li>\n<li>The Media player was using some *app internal assets <strong>path</strong> as audio test files, like <code>&quot;content://&quot; + &quot;com.my.app/&quot; + &quot;audio/audioSample.mp3&quot;</code>.  The MediaPlayer also has a method that, instead of a &quot;path string (as shown)&quot;, can use a &quot;Uri&quot; to play media.</li>\n</ol>\n<p><strong>THE PROBLEM</strong></p>\n<ul>\n<li>I've been unable to play the media when loaded from outside internal assets</li>\n</ul>\n<p><strong>WHAT I TRIED</strong></p>\n<ul>\n<li>Using the Uri and Path string options of the MediaPlayer</li>\n<li>Hardcoding the Absolute Path string of the &quot;audioSample&quot;</li>\n<li>Creating a new Uri from the XML original Uri, such as &quot;content://interalStorage/myProject:audio/audioSample.mp3&quot;</li>\n<li>Encoding the last part of that Uri path (as I checked what system's Uri path looks like if the user selects the audioFile instead of the XML file)</li>\n<li>Just copying that system Uri path of the audio file and hardcode it</li>\n<li>When I finally got the correct (or what I think is correct) Uri path, like above, I got a <code>No persistable permission grants found for UID 10476 and Uri content://com.android.externalstorage.documents/document/primary:myProject/audio/audioSample.mp3</code>. Now, I looked that up and saw the <code>takePersistableUriPermission</code> option, but:</li>\n</ul>\n<ol>\n<li>It does not work well with <code>fileChooserResultLauncher</code> instead of old, deprecated, <code>onActivityResult</code>.</li>\n<li>It looks like it's just for one file, not the whole directory of &quot;myProject&quot;; so there's the option of <code>ACTION_OPEN_DOCUMENT_TREE</code>.</li>\n</ol>\n<p>Any other approach aside from <code>ACTION_OPEN_DOCUMENT_TREE</code>?\nPS: Can I include that in the Intent or I must ask the user twice (one for selecting the XML the other for the Directory as a whole)?</p>\n"},{"tags":["java","jframe","jdatechooser"],"answers":[{"tags":[],"owner":{"account_id":12925501,"reputation":171,"user_id":9346402,"display_name":"tobi1805"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689235663,"creation_date":1689235663,"answer_id":76677213,"question_id":76676992,"body_markdown":"I suppose you want to read just the year from the JDateChooser.\r\n\r\nTo do this easily, use the `getDate()` method of the JDateChooser. It will return an instance of [`java.util.Date`][1]. You can then use the method [`getYear()`][2] to get the year of type `int`\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html#getYear()","title":"problems with JDateChooser","body":"<p>I suppose you want to read just the year from the JDateChooser.</p>\n<p>To do this easily, use the <code>getDate()</code> method of the JDateChooser. It will return an instance of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>. You can then use the method <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html#getYear()\" rel=\"nofollow noreferrer\"><code>getYear()</code></a> to get the year of type <code>int</code></p>\n"}],"owner":{"account_id":28304862,"reputation":57,"user_id":21643028,"display_name":"MsLaus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689235663,"creation_date":1689233965,"question_id":76676992,"body_markdown":"I just started my first complex java program, which is a bank system program. I want to check if    the user is an adult or not. I added a JDateChooser to the frame, i can choose a date, but my problem is  that i can not take only the year.\r\n\r\n    `import com.toedter.calendar.JDateChooser;\r\n     import javax.swing.*;\r\n     import java.awt.*;\r\n     import java.awt.event.*;\r\n     import java.util.*;\r\n \r\n     JDateChooser dateChooser = new JDateChooser();\r\n     public boolean isAdult() {\r\n\r\n                Date date = new Date();\r\n                int currentYear = date.getYear();\r\n                int clientYear;\r\n\r\n                if (dateChooser.toString().length() &gt; 4) {\r\n                    clientYear =         Integer.parseInt(dateChooser.toString().substring(dateChooser.toString().length() - 4));\r\n                    System.out.println(clientYear);\r\n                } else {\r\n                    clientYear = Integer.parseInt(date.toString());\r\n                }\r\n                int age = currentYear - clientYear;\r\n                if (age &lt; 18) {\r\n                    return false;\r\n                } else return true;\r\n            }``","title":"problems with JDateChooser","body":"<p>I just started my first complex java program, which is a bank system program. I want to check if    the user is an adult or not. I added a JDateChooser to the frame, i can choose a date, but my problem is  that i can not take only the year.</p>\n<pre><code>`import com.toedter.calendar.JDateChooser;\n import javax.swing.*;\n import java.awt.*;\n import java.awt.event.*;\n import java.util.*;\n\n JDateChooser dateChooser = new JDateChooser();\n public boolean isAdult() {\n\n            Date date = new Date();\n            int currentYear = date.getYear();\n            int clientYear;\n\n            if (dateChooser.toString().length() &gt; 4) {\n                clientYear =         Integer.parseInt(dateChooser.toString().substring(dateChooser.toString().length() - 4));\n                System.out.println(clientYear);\n            } else {\n                clientYear = Integer.parseInt(date.toString());\n            }\n            int age = currentYear - clientYear;\n            if (age &lt; 18) {\n                return false;\n            } else return true;\n        }``\n</code></pre>\n"},{"tags":["java","dependency-injection","aop","cdi","jboss-weld"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1494744935,"post_id":2652126,"comment_id":74952893,"body_markdown":"FYI, [CDI 2](http://cdi-spec.org) is out, as of 2017-04. See: [JSR 365: Contexts and Dependency Injection for JavaTM 2.0](https://jcp.org/en/jsr/detail?id=365). [Weld 3](http://weld.cdi-spec.org) is the Reference Implementation.","body":"FYI, <a href=\"http://cdi-spec.org\" rel=\"nofollow noreferrer\">CDI 2</a> is out, as of 2017-04. See: <a href=\"https://jcp.org/en/jsr/detail?id=365\" rel=\"nofollow noreferrer\">JSR 365: Contexts and Dependency Injection for JavaTM 2.0</a>. <a href=\"http://weld.cdi-spec.org\" rel=\"nofollow noreferrer\">Weld 3</a> is the Reference Implementation."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1271415871,"creation_date":1271415871,"answer_id":2652365,"question_id":2652126,"body_markdown":"CDI (Weld) hasn&#39;t yet been used widely, so a comparison is hard to make. A few points:\r\n\r\n- CDI has been designed with integration with EJB3, JSF and other JavaEE standards in mind. CDI has the so called portable extensions which allow third-party libraries to integrate with the lifecycle and internal functioning of a CDI implementation\r\n- CDI has been designed with all possible corner-cases in mind so it is likely that it covers everything you need. Spring, Guice and Seam evolved to such a state, while CDI uses the experience from these three.\r\n- in my opinion, CDI interceptors will not be able to meet all the demands that Spring AOP has met. Perhaps the same goes for Guice AOP. You can&#39;t define an interceptor using AspectJ syntax.\r\n- the lack of xml definitions is both an advantage and a disadvantage and some people (rightly in some cases) prefer xml configuration.\r\n- the extended use of qualifier annotations will (in my opinion) generate some big messes if not used carefully.","title":"Google Guice vs. JSR-299 CDI / Weld","body":"<p>CDI (Weld) hasn't yet been used widely, so a comparison is hard to make. A few points:</p>\n\n<ul>\n<li>CDI has been designed with integration with EJB3, JSF and other JavaEE standards in mind. CDI has the so called portable extensions which allow third-party libraries to integrate with the lifecycle and internal functioning of a CDI implementation</li>\n<li>CDI has been designed with all possible corner-cases in mind so it is likely that it covers everything you need. Spring, Guice and Seam evolved to such a state, while CDI uses the experience from these three.</li>\n<li>in my opinion, CDI interceptors will not be able to meet all the demands that Spring AOP has met. Perhaps the same goes for Guice AOP. You can't define an interceptor using AspectJ syntax.</li>\n<li>the lack of xml definitions is both an advantage and a disadvantage and some people (rightly in some cases) prefer xml configuration.</li>\n<li>the extended use of qualifier annotations will (in my opinion) generate some big messes if not used carefully.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7046,"reputation":4518,"user_id":12039,"accept_rate":89,"display_name":"Kariem"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1273585546,"creation_date":1273585546,"answer_id":2811188,"question_id":2652126,"body_markdown":"Before trying to answer your question, let me just add an important piece of information: [JSR 330][1] (`@Inject`) was standardized by Guice and Spring projects ([announcement from May 2009][2]) and is being [reused in JSR 299][3]. This covers basic DI mechanisms in terms of declaring an injection point.\r\n\r\nNow, back to the question - with the disclaimer that I have far more experience with Spring than with Guice.\r\n\r\n**Enterprise capabilities in Weld**\r\n\r\n- [Alternative configuration mechanisms][4] have a very clean design in JSR-299 and allow for configuration mechanisms outside of the Java code (`beans.xml`).\r\n- [Events][events] are a very powerful thing and fit nicely with JMS. I just found an [Event Bus for Guice][5], but I cannot say how that compares.\r\n- [Portable extensions][6] are an SPI that can be used to integrate with existing technology or wrap legacy code in a clean way.\r\n\r\n**Advantages / Disadvantages**\r\n\r\n*Note: I will try to add a few items here later, but this answer is already longer than I had expected, sorry.*\r\n\r\n- **Weld/CDI**\r\n     - *Standardization*: If something is standardized and there is a good implementation, a lot of people will be using it. Example: [Built-in scopes][7] in Weld provide a few more scopes than [Guice][8] or [Spring][9]. All of these can be extended, but application frameworks will rather rely on standard scopes if they are being used by a large community.\r\n     - *Container support*: this is similar to the previous item, but a major argument for adoption. Major open source application servers, such as Glassfish and JBoss 6 provide CDI support (see [here][10]).\r\n\r\n- **Guice/Spring**\r\n     - *Actual application*: Most of the existing applications will be using Guice/Spring already. Spring/Guice have always built on standards and provided new capabilities where no standards existed or could not be used. If you follow with the respective best-practices, the framework will help you make your application standards-based and clean.\r\n\r\n**AOP and Interceptors**\r\n\r\nThis is a very heavily discussed topic, and I cannot favor one over the other. Both mechanisms are very powerful but require at least a minimum understanding of the application&#39;s architecture. Also have look at [Decorators][11] and the previously referenced [Events][events]. It is best to go with the right tool, but don&#39;t forget that if a developer has to work with one of these mechanisms it is a good thing if he/she understands the concept.\r\n\r\n**Performance**\r\n\r\nUnfortunately I could not look into this yet, but there are a few rules I try to follow, especially when using a framework that gives you a lot of functionality without you noticing it:\r\n\r\n- Whenever possible, prefer a single wiring step over multiple lookups at runtime.\r\n- If possible, do all the wiring on application initialization.\r\n- Any interception step or AOP proxy adds a few method calls to the stack.\r\n\r\n\r\n  [events]: http://docs.jboss.org/weld/reference/1.0.1-Final/en-US/html/events.html\r\n\r\n\r\n  [1]: http://jcp.org/en/jsr/detail?id=330 (Dependency Injection for Java)\r\n  [2]: http://googlecode.blogspot.com/2009/05/javaxinjectinject.html\r\n  [3]: http://relation.to/Bloggers/JSR299ProposedFinalDraft2 (JSR 299 Proposed Final Draft 2)\r\n  [4]: http://docs.jboss.org/weld/reference/1.0.1-Final/en-US/html/injection.html#alternatives\r\n  [5]: http://guts.kenai.com/guts-events/dependencies.html\r\n  [6]: http://docs.jboss.org/weld/reference/1.0.1-Final/en-US/html/extend.html\r\n  [7]: http://docs.jboss.org/weld/reference/1.0.1-Final/en-US/html/scopescontexts.html#d0e1766\r\n  [8]: http://code.google.com/p/google-guice/wiki/Scopes (Scopes in Google Guice)\r\n  [9]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/beans.html#beans-factory-scopes (Bean scopes in Spring)\r\n  [10]: http://docs.jboss.org/weld/reference/1.0.1-Final/en-US/html/environments.html (Application servers and environments supported by Weld)\r\n  [11]: http://docs.jboss.org/weld/reference/1.0.1-Final/en-US/html/decorators.html\r\n","title":"Google Guice vs. JSR-299 CDI / Weld","body":"<p>Before trying to answer your question, let me just add an important piece of information: <a href=\"http://jcp.org/en/jsr/detail?id=330\" rel=\"noreferrer\" title=\"Dependency Injection for Java\">JSR 330</a> (<code>@Inject</code>) was standardized by Guice and Spring projects (<a href=\"http://googlecode.blogspot.com/2009/05/javaxinjectinject.html\" rel=\"noreferrer\">announcement from May 2009</a>) and is being <a href=\"http://relation.to/Bloggers/JSR299ProposedFinalDraft2\" rel=\"noreferrer\" title=\"JSR 299 Proposed Final Draft 2\">reused in JSR 299</a>. This covers basic DI mechanisms in terms of declaring an injection point.</p>\n\n<p>Now, back to the question - with the disclaimer that I have far more experience with Spring than with Guice.</p>\n\n<p><strong>Enterprise capabilities in Weld</strong></p>\n\n<ul>\n<li><a href=\"http://docs.jboss.org/weld/reference/1.0.1-Final/en-US/html/injection.html#alternatives\" rel=\"noreferrer\">Alternative configuration mechanisms</a> have a very clean design in JSR-299 and allow for configuration mechanisms outside of the Java code (<code>beans.xml</code>).</li>\n<li><a href=\"http://docs.jboss.org/weld/reference/1.0.1-Final/en-US/html/events.html\" rel=\"noreferrer\">Events</a> are a very powerful thing and fit nicely with JMS. I just found an <a href=\"http://guts.kenai.com/guts-events/dependencies.html\" rel=\"noreferrer\">Event Bus for Guice</a>, but I cannot say how that compares.</li>\n<li><a href=\"http://docs.jboss.org/weld/reference/1.0.1-Final/en-US/html/extend.html\" rel=\"noreferrer\">Portable extensions</a> are an SPI that can be used to integrate with existing technology or wrap legacy code in a clean way.</li>\n</ul>\n\n<p><strong>Advantages / Disadvantages</strong></p>\n\n<p><em>Note: I will try to add a few items here later, but this answer is already longer than I had expected, sorry.</em></p>\n\n<ul>\n<li><p><strong>Weld/CDI</strong></p>\n\n<ul>\n<li><em>Standardization</em>: If something is standardized and there is a good implementation, a lot of people will be using it. Example: <a href=\"http://docs.jboss.org/weld/reference/1.0.1-Final/en-US/html/scopescontexts.html#d0e1766\" rel=\"noreferrer\">Built-in scopes</a> in Weld provide a few more scopes than <a href=\"http://code.google.com/p/google-guice/wiki/Scopes\" rel=\"noreferrer\" title=\"Scopes in Google Guice\">Guice</a> or <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/beans.html#beans-factory-scopes\" rel=\"noreferrer\" title=\"Bean scopes in Spring\">Spring</a>. All of these can be extended, but application frameworks will rather rely on standard scopes if they are being used by a large community.</li>\n<li><em>Container support</em>: this is similar to the previous item, but a major argument for adoption. Major open source application servers, such as Glassfish and JBoss 6 provide CDI support (see <a href=\"http://docs.jboss.org/weld/reference/1.0.1-Final/en-US/html/environments.html\" rel=\"noreferrer\" title=\"Application servers and environments supported by Weld\">here</a>).</li>\n</ul></li>\n<li><p><strong>Guice/Spring</strong></p>\n\n<ul>\n<li><em>Actual application</em>: Most of the existing applications will be using Guice/Spring already. Spring/Guice have always built on standards and provided new capabilities where no standards existed or could not be used. If you follow with the respective best-practices, the framework will help you make your application standards-based and clean.</li>\n</ul></li>\n</ul>\n\n<p><strong>AOP and Interceptors</strong></p>\n\n<p>This is a very heavily discussed topic, and I cannot favor one over the other. Both mechanisms are very powerful but require at least a minimum understanding of the application's architecture. Also have look at <a href=\"http://docs.jboss.org/weld/reference/1.0.1-Final/en-US/html/decorators.html\" rel=\"noreferrer\">Decorators</a> and the previously referenced <a href=\"http://docs.jboss.org/weld/reference/1.0.1-Final/en-US/html/events.html\" rel=\"noreferrer\">Events</a>. It is best to go with the right tool, but don't forget that if a developer has to work with one of these mechanisms it is a good thing if he/she understands the concept.</p>\n\n<p><strong>Performance</strong></p>\n\n<p>Unfortunately I could not look into this yet, but there are a few rules I try to follow, especially when using a framework that gives you a lot of functionality without you noticing it:</p>\n\n<ul>\n<li>Whenever possible, prefer a single wiring step over multiple lookups at runtime.</li>\n<li>If possible, do all the wiring on application initialization.</li>\n<li>Any interception step or AOP proxy adds a few method calls to the stack.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":146838,"reputation":9497,"user_id":357556,"accept_rate":77,"display_name":"Jan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1375736015,"creation_date":1288959657,"answer_id":4105776,"question_id":2652126,"body_markdown":"Another differentiator is that CDI is very Java EE oriented.  It provides a mechanism to **glue** the different **Java EE subsystems** together.\r\n\r\nIe. By annotating a bean with `@Named(&quot;book&quot;)`, the bean becomes known in the unified EL (Expression Language) as &#39;`book`&#39;.\r\n\r\nThen you can use it in a JSF page for instance:\r\n\r\n\t\t&lt;h:outputLabel value=&quot;Book title:&quot; for=&quot;bookTitle&quot;/&gt;\r\n\t\t&lt;h:outputText id=&quot;bookTile&quot; value=&quot;#{book.title}&quot;/&gt;","title":"Google Guice vs. JSR-299 CDI / Weld","body":"<p>Another differentiator is that CDI is very Java EE oriented.  It provides a mechanism to <strong>glue</strong> the different <strong>Java EE subsystems</strong> together.</p>\n\n<p>Ie. By annotating a bean with <code>@Named(\"book\")</code>, the bean becomes known in the unified EL (Expression Language) as '<code>book</code>'.</p>\n\n<p>Then you can use it in a JSF page for instance:</p>\n\n<pre><code>    &lt;h:outputLabel value=\"Book title:\" for=\"bookTitle\"/&gt;\n    &lt;h:outputText id=\"bookTile\" value=\"#{book.title}\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1689235596,"creation_date":1292871774,"answer_id":4492898,"question_id":2652126,"body_markdown":"Edit 2023-07-13: Now a decade later the world has moved towards small, self contained deployments which mean that your program brings its own web server so you are not dependent on being deployed inside an application server and using what it provides (CDI in this answer). If so, you should not think of CDI (unless it is a hard requirement) but instead strongly consider spring boot which provides the bits and pieces you need, and very good documentation.  \r\n\r\n\r\n——-\r\n\r\n\r\n\r\nThe most important feature CDI has opposed to Guice, is that it is a _standard_ part of Java EE 6.  \r\n\r\nThe importance of this cannot be underestimated, as it means that CDI is the DI-standard you should use when coding web applications.\r\n\r\nA while back I had a look at the technologies to be able to determine how we could have a standard core distribution - suitably prepared - where we could add extra modules at will which could override existing functionality without having to change the core modules.  I.e. add an extra jar, and the functionality activates automatically. \r\n\r\nIt turned out that the best way for us to do this for a code base used in both desktop and web applications, was to use JSR-330 annotations for our code, and then use either CDI or  Guice (SVN, coming real soon now in 3.0) as the engine. \r\n\r\nAfter a few projects I&#39;ve found that I like the Guice configuration best instead of the opaque magic happening in Weld.  Additionally I found that the way to do what we want as described above with Weld, I have to mark the class in the extra jar as @Alternative, and then mention in beans.xml that I want the alternative class enforced (and that is not robust against refactoring).\r\n\r\nBut, all in all,  JSR-330 allows us to do something which was very tedious and fragile before (because `new` binds so extremely tightly), and that is a great win.  I can strongly recommend looking into DI if you have any need like this.\r\n\r\n","title":"Google Guice vs. JSR-299 CDI / Weld","body":"<p>Edit 2023-07-13: Now a decade later the world has moved towards small, self contained deployments which mean that your program brings its own web server so you are not dependent on being deployed inside an application server and using what it provides (CDI in this answer). If so, you should not think of CDI (unless it is a hard requirement) but instead strongly consider spring boot which provides the bits and pieces you need, and very good documentation.</p>\n<p>——-</p>\n<p>The most important feature CDI has opposed to Guice, is that it is a <em>standard</em> part of Java EE 6.</p>\n<p>The importance of this cannot be underestimated, as it means that CDI is the DI-standard you should use when coding web applications.</p>\n<p>A while back I had a look at the technologies to be able to determine how we could have a standard core distribution - suitably prepared - where we could add extra modules at will which could override existing functionality without having to change the core modules.  I.e. add an extra jar, and the functionality activates automatically.</p>\n<p>It turned out that the best way for us to do this for a code base used in both desktop and web applications, was to use JSR-330 annotations for our code, and then use either CDI or  Guice (SVN, coming real soon now in 3.0) as the engine.</p>\n<p>After a few projects I've found that I like the Guice configuration best instead of the opaque magic happening in Weld.  Additionally I found that the way to do what we want as described above with Weld, I have to mark the class in the extra jar as @Alternative, and then mention in beans.xml that I want the alternative class enforced (and that is not robust against refactoring).</p>\n<p>But, all in all,  JSR-330 allows us to do something which was very tedious and fragile before (because <code>new</code> binds so extremely tightly), and that is a great win.  I can strongly recommend looking into DI if you have any need like this.</p>\n"},{"tags":[],"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1525899874,"creation_date":1383052706,"answer_id":19659350,"question_id":2652126,"body_markdown":"[CDI for Guice users][1] is a nice comparison. \r\n\r\n\r\n  [1]: https://web.archive.org/web/20170317112947/http://jglue.org/2011/11/29/cdi-for-guice-users/","title":"Google Guice vs. JSR-299 CDI / Weld","body":"<p><a href=\"https://web.archive.org/web/20170317112947/http://jglue.org/2011/11/29/cdi-for-guice-users/\" rel=\"nofollow noreferrer\">CDI for Guice users</a> is a nice comparison. </p>\n"},{"tags":[],"owner":{"account_id":11806574,"reputation":51,"user_id":8638905,"display_name":"beni_koch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1540275485,"creation_date":1540275485,"answer_id":52942305,"question_id":2652126,"body_markdown":"I have used Guice in an AWS Lambda serverless application. AWS recommends using Guice or Dagger over Spring in a Lambda function. See [AWS Lambda best practices][1]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/best-practices.html\r\n\r\nThe primary reason is that Guice and Dagger are smaller frameworks and have faster start up time, which is essential in Lambda.\r\n\r\nAlthough the OP hasn&#39;t mentioned Spring, both Spring and CDI/weld are meant for enterprise level applications, which often require additional features that these frameworks provide. Hence for smaller applications, which only require DI, Guice or Dagger would be optimal.","title":"Google Guice vs. JSR-299 CDI / Weld","body":"<p>I have used Guice in an AWS Lambda serverless application. AWS recommends using Guice or Dagger over Spring in a Lambda function. See <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/best-practices.html\" rel=\"nofollow noreferrer\">AWS Lambda best practices</a></p>\n\n<p>The primary reason is that Guice and Dagger are smaller frameworks and have faster start up time, which is essential in Lambda.</p>\n\n<p>Although the OP hasn't mentioned Spring, both Spring and CDI/weld are meant for enterprise level applications, which often require additional features that these frameworks provide. Hence for smaller applications, which only require DI, Guice or Dagger would be optimal.</p>\n"}],"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23797,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"answer_count":6,"score":63,"last_activity_date":1689235596,"creation_date":1271413357,"question_id":2652126,"body_markdown":"Weld, the JSR-299 Contexts and Dependency Injection reference implementation, considers itself as a kind of successor of Spring and Guice. \r\n\r\n&gt; CDI was influenced by a number of existing Java frameworks, including Seam, Guice and Spring. However, CDI has its own, very distinct, character: more typesafe than Seam, more stateful and less XML-centric than Spring, more web and enterprise-application capable than Guice. But it couldn&#39;t have been any of these without inspiration from the frameworks mentioned and lots of collaboration and hard work by the JSR-299 Expert Group (EG).\r\n\r\nhttp://docs.jboss.org/weld/reference/latest/en-US/html/1.html\r\n\r\nWhat makes Weld more capable for enterprise application compared to Guice? Are there any advantages or disadvantages compared to Guice? What do you think about Guice AOP compared to Weld interceptors? What about performance?\r\n\r\n**My choice**\r\n\r\nIn the end I decided to use Guice because I like the clean programming model which comes almost without annotations besides @Inject by default. It is much easier to use external libs with Guice than with CDI. AOP is also pretty simple with Guice.","title":"Google Guice vs. JSR-299 CDI / Weld","body":"<p>Weld, the JSR-299 Contexts and Dependency Injection reference implementation, considers itself as a kind of successor of Spring and Guice. </p>\n\n<blockquote>\n  <p>CDI was influenced by a number of existing Java frameworks, including Seam, Guice and Spring. However, CDI has its own, very distinct, character: more typesafe than Seam, more stateful and less XML-centric than Spring, more web and enterprise-application capable than Guice. But it couldn't have been any of these without inspiration from the frameworks mentioned and lots of collaboration and hard work by the JSR-299 Expert Group (EG).</p>\n</blockquote>\n\n<p><a href=\"http://docs.jboss.org/weld/reference/latest/en-US/html/1.html\" rel=\"noreferrer\">http://docs.jboss.org/weld/reference/latest/en-US/html/1.html</a></p>\n\n<p>What makes Weld more capable for enterprise application compared to Guice? Are there any advantages or disadvantages compared to Guice? What do you think about Guice AOP compared to Weld interceptors? What about performance?</p>\n\n<p><strong>My choice</strong></p>\n\n<p>In the end I decided to use Guice because I like the clean programming model which comes almost without annotations besides @Inject by default. It is much easier to use external libs with Guice than with CDI. AOP is also pretty simple with Guice.</p>\n"},{"tags":["java","sql","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":23657270,"reputation":21,"user_id":17685341,"display_name":"Alexy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689235309,"creation_date":1689235309,"answer_id":76677177,"question_id":76676830,"body_markdown":"Date operations is limited in JPA, but you could use Java methods.\r\n\r\nService :\r\n\r\n    int numberOfDays = 10;\r\n    LocalDateTime dateTimeMinusTenDays = LocalDateTime.now().minusDays(numberOfDays);\r\n \r\n    repository.delete(dateTimeMinusTenDays);\r\n\r\n  Repository :\r\n\r\n    @Query(&quot;DELETE FROM TABLE t WHERE lastChange &gt; :startingLimitDateTime&quot;)\r\n    void delete(@Param(&quot;startingLimitDateTime&quot;) LocalDateTime startingLimitDateTime);\r\n\r\n(It requires to change lastChange type to a `java.time.LocalDateTime`)","title":"jpa and hibernate compare timestamp to a certain number of day","body":"<p>Date operations is limited in JPA, but you could use Java methods.</p>\n<p>Service :</p>\n<pre><code>int numberOfDays = 10;\nLocalDateTime dateTimeMinusTenDays = LocalDateTime.now().minusDays(numberOfDays);\n\nrepository.delete(dateTimeMinusTenDays);\n</code></pre>\n<p>Repository :</p>\n<pre><code>@Query(&quot;DELETE FROM TABLE t WHERE lastChange &gt; :startingLimitDateTime&quot;)\nvoid delete(@Param(&quot;startingLimitDateTime&quot;) LocalDateTime startingLimitDateTime);\n</code></pre>\n<p>(It requires to change lastChange type to a <code>java.time.LocalDateTime</code>)</p>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689235309,"creation_date":1689232698,"question_id":76676830,"body_markdown":"I want to delete some rows after some days in jpa. \r\n```\r\n@Repository\r\npublic interface JpaTableRepository extends JpaRepository&lt;TableEntity, String&gt;\r\n{\r\n   @Query(&quot;DELETE FROM TABLE t WHERE lastChange &gt; :numberOfDays&quot;)\r\n   void delete(@Param(&quot;numberOfDays&quot;) int numberOfDays);\r\n}\r\n```\r\n\r\n`numberOfDays` may be 10 Days. While `numberOfDays`is a int, `lastChange` is a TimeStamp (datetime).\r\n \r\n```\r\n@Entity(name = &quot;Table&quot;)\r\npublic class TableEntity\r\n{\r\n   @Id\r\n   private String id;\r\n   @UpdateTimestamp\r\n   private Timestamp lastChange;\r\n}\r\n```","title":"jpa and hibernate compare timestamp to a certain number of day","body":"<p>I want to delete some rows after some days in jpa.</p>\n<pre><code>@Repository\npublic interface JpaTableRepository extends JpaRepository&lt;TableEntity, String&gt;\n{\n   @Query(&quot;DELETE FROM TABLE t WHERE lastChange &gt; :numberOfDays&quot;)\n   void delete(@Param(&quot;numberOfDays&quot;) int numberOfDays);\n}\n</code></pre>\n<p><code>numberOfDays</code> may be 10 Days. While <code>numberOfDays</code>is a int, <code>lastChange</code> is a TimeStamp (datetime).</p>\n<pre><code>@Entity(name = &quot;Table&quot;)\npublic class TableEntity\n{\n   @Id\n   private String id;\n   @UpdateTimestamp\n   private Timestamp lastChange;\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","network-programming","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":6836018,"reputation":803,"user_id":5257981,"display_name":"kaweesha"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1606907516,"creation_date":1606906347,"answer_id":65106632,"question_id":64873842,"body_markdown":"You can get this done using `LoggingPreferences` and `ChromeOptions`\r\n\r\nimports\r\n\r\n    import org.json.simple.JSONObject;\r\n    import org.json.simple.parser.JSONParser;\r\n    import org.json.simple.parser.ParseException;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    import org.openqa.selenium.logging.LogEntries;\r\n    import org.openqa.selenium.logging.LogEntry;\r\n    import org.openqa.selenium.logging.LogType;\r\n    import org.openqa.selenium.logging.LoggingPreferences;\r\n    import org.openqa.selenium.remote.CapabilityType;\r\n\r\nHere We get Json String which contain data about the  in log records. I use `json-simple` library to convert the received json String to JSONObject.\r\n\r\n    LoggingPreferences preferences = new LoggingPreferences();\r\n    preferences.enable(LogType.PERFORMANCE, Level.ALL);\r\n\r\n    ChromeOptions option = new ChromeOptions();\r\n    option.setCapability(CapabilityType.LOGGING_PREFS, preferences);\r\n    option.setCapability(&quot;goog:loggingPrefs&quot;, preferences);\r\n    option.addArguments();\r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;chrome_driver_path&quot;);\r\n\r\n    ChromeDriver chromeDriver = new ChromeDriver(option);\r\n    chromeDriver.manage().window().maximize();\r\n    this.driver = chromeDriver;\r\n    \r\n    \r\n    driver.get(&quot;website_url&quot;);\r\n\r\n    LogEntries logs = driver.manage().logs().get(LogType.PERFORMANCE);\r\n    for (LogEntry entry : logs) {\r\n        JSONParser parser = new JSONParser();\r\n        JSONObject jsonObject = null;\r\n        try {\r\n            jsonObject = (JSONObject) parser.parse(entry.getMessage());\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n        JSONObject messageObject = (JSONObject) jsonObject.get(&quot;message&quot;);\r\n        System.out.println(messageObject.toJSONString());\r\n        // You can do the required processing to messageObject\r\n    }\r\n\r\n\r\nYou can filter the type of network calls from logs using `type` (XHR, Script, Stylesheet) in the json String.\r\n\r\n    for (LogEntry entry : logs) {\r\n       if(entry.toString().contains(&quot;\\&quot;type\\&quot;:\\&quot;XHR\\&quot;&quot;)) {\r\n       }\r\n    }\r\n\r\n","title":"Capture network traffic using selenium webdriver java 4.0v","body":"<p>You can get this done using <code>LoggingPreferences</code> and <code>ChromeOptions</code></p>\n<p>imports</p>\n<pre><code>import org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.parser.ParseException;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.logging.LogEntries;\nimport org.openqa.selenium.logging.LogEntry;\nimport org.openqa.selenium.logging.LogType;\nimport org.openqa.selenium.logging.LoggingPreferences;\nimport org.openqa.selenium.remote.CapabilityType;\n</code></pre>\n<p>Here We get Json String which contain data about the  in log records. I use <code>json-simple</code> library to convert the received json String to JSONObject.</p>\n<pre><code>LoggingPreferences preferences = new LoggingPreferences();\npreferences.enable(LogType.PERFORMANCE, Level.ALL);\n\nChromeOptions option = new ChromeOptions();\noption.setCapability(CapabilityType.LOGGING_PREFS, preferences);\noption.setCapability(&quot;goog:loggingPrefs&quot;, preferences);\noption.addArguments();\n\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;chrome_driver_path&quot;);\n\nChromeDriver chromeDriver = new ChromeDriver(option);\nchromeDriver.manage().window().maximize();\nthis.driver = chromeDriver;\n\n\ndriver.get(&quot;website_url&quot;);\n\nLogEntries logs = driver.manage().logs().get(LogType.PERFORMANCE);\nfor (LogEntry entry : logs) {\n    JSONParser parser = new JSONParser();\n    JSONObject jsonObject = null;\n    try {\n        jsonObject = (JSONObject) parser.parse(entry.getMessage());\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n    JSONObject messageObject = (JSONObject) jsonObject.get(&quot;message&quot;);\n    System.out.println(messageObject.toJSONString());\n    // You can do the required processing to messageObject\n}\n</code></pre>\n<p>You can filter the type of network calls from logs using <code>type</code> (XHR, Script, Stylesheet) in the json String.</p>\n<pre><code>for (LogEntry entry : logs) {\n   if(entry.toString().contains(&quot;\\&quot;type\\&quot;:\\&quot;XHR\\&quot;&quot;)) {\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22213238,"reputation":131,"user_id":16452042,"display_name":"MarkUs"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1626321638,"creation_date":1626321638,"answer_id":68387740,"question_id":64873842,"body_markdown":"Here&#39;s a simple example using the new DevTools protocol (CDP) available from Selenium 4\r\n(this code uses the Beta-4 version and CDP for Chrome 91 )\r\n\r\n            \t:\r\n    import org.openqa.selenium.devtools.DevTools;\r\n    import org.openqa.selenium.devtools.v91.network.*;\r\n            \t:\r\n            \t\r\n      \tDevTools devTools = ((ChromiumDriver) driver).getDevTools();\r\n       \tdevTools.createSession();\r\n       \tdevTools.send(Network.enable(Optional.empty(), Optional.empty(), Optional.empty()));\r\n        \r\n       \tdevTools.addListener(Network.requestWillBeSent(), entry -&gt; {\r\n        \t\t\tSystem.out.println(&quot;Request (id) URL      : (&quot; + entry.getRequestId() + &quot;) &quot; \r\n        \t\t\t\t\t+ entry.getRequest().getUrl()\r\n        \t\t\t\t\t+ &quot; (&quot; + entry.getRequest().getMethod() + &quot;)&quot;);\r\n        \t\t});\r\n        \r\n       \tdevTools.addListener(Network.responseReceived(), entry -&gt; {\r\n        \t\t\tSystem.out.println(&quot;Response (Req id) URL : (&quot; + entry.getRequestId() + &quot;) &quot; \r\n        \t\t\t\t\t+ entry.getResponse().getUrl()\r\n        \t\t\t\t\t+ &quot; (&quot; + entry.getResponse().getStatus() + &quot;)&quot;);\r\n        \t\t}); \r\n        \r\n       \tdriver.get(&quot;someurl&quot;);  // on so on ... \r\n\r\n        \r\n \r\n\r\n\r\n\r\n","title":"Capture network traffic using selenium webdriver java 4.0v","body":"<p>Here's a simple example using the new DevTools protocol (CDP) available from Selenium 4\n(this code uses the Beta-4 version and CDP for Chrome 91 )</p>\n<pre><code>            :\nimport org.openqa.selenium.devtools.DevTools;\nimport org.openqa.selenium.devtools.v91.network.*;\n            :\n            \n    DevTools devTools = ((ChromiumDriver) driver).getDevTools();\n    devTools.createSession();\n    devTools.send(Network.enable(Optional.empty(), Optional.empty(), Optional.empty()));\n    \n    devTools.addListener(Network.requestWillBeSent(), entry -&gt; {\n                System.out.println(&quot;Request (id) URL      : (&quot; + entry.getRequestId() + &quot;) &quot; \n                        + entry.getRequest().getUrl()\n                        + &quot; (&quot; + entry.getRequest().getMethod() + &quot;)&quot;);\n            });\n    \n    devTools.addListener(Network.responseReceived(), entry -&gt; {\n                System.out.println(&quot;Response (Req id) URL : (&quot; + entry.getRequestId() + &quot;) &quot; \n                        + entry.getResponse().getUrl()\n                        + &quot; (&quot; + entry.getResponse().getStatus() + &quot;)&quot;);\n            }); \n    \n    driver.get(&quot;someurl&quot;);  // on so on ... \n\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14054596,"reputation":145,"user_id":10152345,"display_name":"Max Kuznietsov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1635337130,"creation_date":1635337130,"answer_id":69738556,"question_id":64873842,"body_markdown":"Using Selenium 4 you can get requests URL and Response URLs and more.\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n    &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n    &lt;version&gt;4.3.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nUsing this snippet you will get all requests and responses.\r\n\r\n```\r\n\r\n\t@BeforeEach\r\n\tpublic void setUp() {\r\n\t\tWebDriverManager.chromedriver().setup();\r\n\t\tthis.chromeDriver = new ChromeDriver();\r\n\t\tdevTools = chromeDriver.getDevTools();\r\n\t\tdevTools.createSession();\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void getRequestsAndResponseUrls() throws InterruptedException {\r\n\t\tdevTools.send(new Command&lt;&gt;(&quot;Network.enable&quot;, ImmutableMap.of()));\r\n;\r\n\t\tdevTools.addListener(Network.responseReceived(), l -&gt; {\r\n\t\t\tSystem.out.print(&quot;Response URL: &quot;);\r\n\t\t\tSystem.out.println(l.getResponse().getUrl());\r\n\t\t});\r\n\t\tdevTools.addListener(Network.requestWillBeSent(), l -&gt; {\r\n\t\t\tSystem.out.print(&quot;Request URL: &quot;);\r\n\t\t\tSystem.out.println(l.getRequest().getUrl());\r\n\t\t});\r\n\r\n\t\tchromeDriver.get(&quot;https://edition.cnn.com/&quot;);\r\n\r\n\t\t// While Thread.sleep you you will see requests and responses appearing in console. \r\n\t\tThread.sleep(10000);\r\n\t}\r\n```\r\n\r\nEnjoy.","title":"Capture network traffic using selenium webdriver java 4.0v","body":"<p>Using Selenium 4 you can get requests URL and Response URLs and more.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n    &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n    &lt;version&gt;4.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Using this snippet you will get all requests and responses.</p>\n<pre><code>\n    @BeforeEach\n    public void setUp() {\n        WebDriverManager.chromedriver().setup();\n        this.chromeDriver = new ChromeDriver();\n        devTools = chromeDriver.getDevTools();\n        devTools.createSession();\n    }\n\n    @Test\n    public void getRequestsAndResponseUrls() throws InterruptedException {\n        devTools.send(new Command&lt;&gt;(&quot;Network.enable&quot;, ImmutableMap.of()));\n;\n        devTools.addListener(Network.responseReceived(), l -&gt; {\n            System.out.print(&quot;Response URL: &quot;);\n            System.out.println(l.getResponse().getUrl());\n        });\n        devTools.addListener(Network.requestWillBeSent(), l -&gt; {\n            System.out.print(&quot;Request URL: &quot;);\n            System.out.println(l.getRequest().getUrl());\n        });\n\n        chromeDriver.get(&quot;https://edition.cnn.com/&quot;);\n\n        // While Thread.sleep you you will see requests and responses appearing in console. \n        Thread.sleep(10000);\n    }\n</code></pre>\n<p>Enjoy.</p>\n"}],"owner":{"account_id":17779804,"reputation":65,"user_id":12911216,"display_name":"Raclos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13176,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":65106632,"answer_count":3,"score":4,"last_activity_date":1689234898,"creation_date":1605610439,"question_id":64873842,"body_markdown":"I would like to capture the network traffic generated in a Chromedriver window.\r\nI have found out that it can be done using selenium 4.0 DevTools utility but I can&#180;t find how to or a good documentation.\r\n\r\nhttps://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/devtools/DevTools.html\r\n\r\nIs there an easiest way to do? Thanks\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xw1yC.png","title":"Capture network traffic using selenium webdriver java 4.0v","body":"<p>I would like to capture the network traffic generated in a Chromedriver window.\nI have found out that it can be done using selenium 4.0 DevTools utility but I can´t find how to or a good documentation.</p>\n<p><a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/devtools/DevTools.html\" rel=\"nofollow noreferrer\">https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/devtools/DevTools.html</a></p>\n<p>Is there an easiest way to do? Thanks</p>\n<p><a href=\"https://i.stack.imgur.com/xw1yC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xw1yC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-ndk","android-vectordrawable","animatedvectordrawable"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1689237466,"post_id":76677060,"comment_id":135185782,"body_markdown":"Does it have to be XML specifically, or could your native code do methods calls on a [`Path`](https://developer.android.com/reference/android/graphics/Path) object? Or maybe have the native code generate some custom intermediate format and let some java/kotlin handle all interaction with the `Path`.","body":"Does it have to be XML specifically, or could your native code do methods calls on a <a href=\"https://developer.android.com/reference/android/graphics/Path\" rel=\"nofollow noreferrer\"><code>Path</code></a> object? Or maybe have the native code generate some custom intermediate format and let some java/kotlin handle all interaction with the <code>Path</code>."},{"owner":{"account_id":1594256,"reputation":1,"user_id":1476851,"display_name":"user1476851"},"score":0,"creation_date":1689255327,"post_id":76677060,"comment_id":135189782,"body_markdown":"I&#39;d prefer these to be in vector form so that zooming in wouldn&#39;t cause loss of quality, but I&#39;ll investigate your idea, thanks a lot Michael!.Did also occur to me earlier in the morning that I could setup an HTML canvas an use real SVG. Will also investigate this option.","body":"I&#39;d prefer these to be in vector form so that zooming in wouldn&#39;t cause loss of quality, but I&#39;ll investigate your idea, thanks a lot Michael!.Did also occur to me earlier in the morning that I could setup an HTML canvas an use real SVG. Will also investigate this option."},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1689256120,"post_id":76677060,"comment_id":135190025,"body_markdown":"A `Path` would still be vector graphics, it would just be done programatically rather than using a static file. E.g. the `M` command in SVG would become a `moveTo` call on the `Path` object, a `C` command would become a `cubicTo` call, etc.","body":"A <code>Path</code> would still be vector graphics, it would just be done programatically rather than using a static file. E.g. the <code>M</code> command in SVG would become a <code>moveTo</code> call on the <code>Path</code> object, a <code>C</code> command would become a <code>cubicTo</code> call, etc."},{"owner":{"account_id":1594256,"reputation":1,"user_id":1476851,"display_name":"user1476851"},"score":0,"creation_date":1689283442,"post_id":76677060,"comment_id":135195735,"body_markdown":"Oh, I didn&#39;t know Path was vector graphics!. And what would be better, to have my library giving a canvas already drawn as output, so that I&#39;d just need to receive it from the java side to be shown?, or giving as output drawing instructions of some sort I could use from java to build the canvas? I guess the latter because drawing from C (I&#39;d still need to use jni calls) would be slower than the former?","body":"Oh, I didn&#39;t know Path was vector graphics!. And what would be better, to have my library giving a canvas already drawn as output, so that I&#39;d just need to receive it from the java side to be shown?, or giving as output drawing instructions of some sort I could use from java to build the canvas? I guess the latter because drawing from C (I&#39;d still need to use jni calls) would be slower than the former?"}],"owner":{"account_id":1594256,"reputation":1,"user_id":1476851,"display_name":"user1476851"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689234569,"creation_date":1689234569,"question_id":76677060,"body_markdown":"I&#39;m in the development of an android app that needs to show VectorDrawables in a dynamic fashion, so I wrote a C library that outputs these for me based on an input string.\r\n\r\nI also integrated the usual hello world NDK sample from within my project, that gradle compiles as a shared library and includes in the bundle so that I can access it from java at runtime, meaning to be replaced by my library&#39;s code next.\r\n\r\nDuring the next phase of my research to fully integrate it from within my app, I found out working with VectorDrawables in a dynamic fashion is not something as trivial as I originally thought.\r\n\r\nWhat options do I have in 2023? I&#39;ve seen vector-compat and VectorMaster projects, accessing the inners of AnimatedVectorDrawables through reflection (I don&#39;t need animations, plus that I&#39;d prefer avoiding reflections if possible), some other answers here regarding trying to load these as streams at runtime, and little else.\r\n\r\nMy library currently outputs VectorDrawables as regular XML files (that I have thoroughly tested to be valid), but I could investigate on how to compile these to binary to feed my application if needed. After all this is all a personal project and I do not intend to support any older androids or devices other than mine.\r\n\r\nThe need for dynamic VectorDrawables is actually a requirement for me, though, as there are so many combinations that storing these as individual resources is not an option.\r\n\r\nHas anybody out there done this and can offer some advice, share some tips, or even show some example code?\r\n\r\nWhat I&#39;ve tried block: I have written and refined the library to the point where these VectorDrawables fully comply with the requirements, which include being valid for me on every possible case, and giving output XML files my app can can (statically) load and show at runtime.","title":"About dynamic generation and loading of VectorDrawables","body":"<p>I'm in the development of an android app that needs to show VectorDrawables in a dynamic fashion, so I wrote a C library that outputs these for me based on an input string.</p>\n<p>I also integrated the usual hello world NDK sample from within my project, that gradle compiles as a shared library and includes in the bundle so that I can access it from java at runtime, meaning to be replaced by my library's code next.</p>\n<p>During the next phase of my research to fully integrate it from within my app, I found out working with VectorDrawables in a dynamic fashion is not something as trivial as I originally thought.</p>\n<p>What options do I have in 2023? I've seen vector-compat and VectorMaster projects, accessing the inners of AnimatedVectorDrawables through reflection (I don't need animations, plus that I'd prefer avoiding reflections if possible), some other answers here regarding trying to load these as streams at runtime, and little else.</p>\n<p>My library currently outputs VectorDrawables as regular XML files (that I have thoroughly tested to be valid), but I could investigate on how to compile these to binary to feed my application if needed. After all this is all a personal project and I do not intend to support any older androids or devices other than mine.</p>\n<p>The need for dynamic VectorDrawables is actually a requirement for me, though, as there are so many combinations that storing these as individual resources is not an option.</p>\n<p>Has anybody out there done this and can offer some advice, share some tips, or even show some example code?</p>\n<p>What I've tried block: I have written and refined the library to the point where these VectorDrawables fully comply with the requirements, which include being valid for me on every possible case, and giving output XML files my app can can (statically) load and show at runtime.</p>\n"},{"tags":["java","sql-server","sqlconnection"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":3,"creation_date":1683883459,"post_id":76234528,"comment_id":134437928,"body_markdown":"Have you tried using less backslashes? It&#39;s usually `ServerNameOrIpAddress\\InstanceName` when connecting from SSMS or a CLI tool, so you should only need two backslashes in a Java string.","body":"Have you tried using less backslashes? It&#39;s usually <code>ServerNameOrIpAddress\\InstanceName</code> when connecting from SSMS or a CLI tool, so you should only need two backslashes in a Java string."}],"answers":[{"tags":[],"owner":{"account_id":1598760,"reputation":998,"user_id":1480275,"accept_rate":90,"display_name":"jMarcel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689234256,"creation_date":1689234256,"answer_id":76677022,"question_id":76234528,"body_markdown":"You should inform the instante name :\r\n\r\n````jdbc:sqlserver://DESKTOP-4HE4VKM;instanceName=SQLEXPRESS;DatabaseName=payroll;integratedSecurity=true;encrypt=false````","title":"Resolve SQL server connection error: com.microsoft.sqlserver.jdbc.SQLServerException: The connection to the host failed","body":"<p>You should inform the instante name :</p>\n<p><code>jdbc:sqlserver://DESKTOP-4HE4VKM;instanceName=SQLEXPRESS;DatabaseName=payroll;integratedSecurity=true;encrypt=false</code></p>\n"}],"owner":{"account_id":26578688,"reputation":1,"user_id":20203656,"display_name":"User123851"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689234256,"creation_date":1683880517,"question_id":76234528,"body_markdown":"```\r\npackage payroll;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\n\r\npublic class tables {\r\n\t public static void main(String[] args) throws ClassNotFoundException, SQLException{\r\n\r\n\t        Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n\t        String connectionUrl = &quot;jdbc:sqlserver://DESKTOP-4HE4VKM\\\\\\\\SQLEXPRESS;DatabaseName=payroll;integratedSecurity=true;encrypt=false;&quot;;\r\n\r\n\t        try (Connection connect = DriverManager.getConnection(connectionUrl); Statement st = connect.createStatement();)\r\n\t        {\r\n\r\n\t            ResultSet rs = st.executeQuery(&quot;select from EMPLOYEE&quot;);\r\n\r\n\t            while (rs.next()) {\r\n\r\n\t                System.out.println (rs.getString((&quot;EmpName&quot;)));\r\n\t        }\r\n\r\n\t    }\r\n\t        catch (SQLException e)\r\n\t        {\r\n\t            System.out.println (&quot;Error&quot;);\r\n\t            e.printStackTrace();\r\n\t        }\r\n\r\n}\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n&gt; com.microsoft.sqlserver.jdbc.SQLServerException: The connection to the host DESKTOP-4HE4VKM, named instance \\sqlexpress failed. Error: &quot;java.net.SocketTimeoutException: Receive timed out&quot;. Verify the server and instance names and check that no firewall is blocking UDP traffic to port 1434. For SQL Server 2005 or later, verify that the SQL Server Browser Service is running on the host.\r\n\r\nFor some reason I keep getting this error and I am not really sure how to resolve this.","title":"Resolve SQL server connection error: com.microsoft.sqlserver.jdbc.SQLServerException: The connection to the host failed","body":"<pre><code>package payroll;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class tables {\n     public static void main(String[] args) throws ClassNotFoundException, SQLException{\n\n            Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n            String connectionUrl = &quot;jdbc:sqlserver://DESKTOP-4HE4VKM\\\\\\\\SQLEXPRESS;DatabaseName=payroll;integratedSecurity=true;encrypt=false;&quot;;\n\n            try (Connection connect = DriverManager.getConnection(connectionUrl); Statement st = connect.createStatement();)\n            {\n\n                ResultSet rs = st.executeQuery(&quot;select from EMPLOYEE&quot;);\n\n                while (rs.next()) {\n\n                    System.out.println (rs.getString((&quot;EmpName&quot;)));\n            }\n\n        }\n            catch (SQLException e)\n            {\n                System.out.println (&quot;Error&quot;);\n                e.printStackTrace();\n            }\n\n}\n}\n</code></pre>\n<blockquote>\n<p>com.microsoft.sqlserver.jdbc.SQLServerException: The connection to the host DESKTOP-4HE4VKM, named instance \\sqlexpress failed. Error: &quot;java.net.SocketTimeoutException: Receive timed out&quot;. Verify the server and instance names and check that no firewall is blocking UDP traffic to port 1434. For SQL Server 2005 or later, verify that the SQL Server Browser Service is running on the host.</p>\n</blockquote>\n<p>For some reason I keep getting this error and I am not really sure how to resolve this.</p>\n"},{"tags":["java","spring-data-jpa","jpa-2.1"],"answers":[{"tags":[],"owner":{"account_id":20525751,"reputation":949,"user_id":15064224,"display_name":"Issa Khodadadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688797900,"creation_date":1688797900,"answer_id":76641672,"question_id":76640607,"body_markdown":"**you didn&#39;t do anything wrong!**\r\n\r\nwhen you are using the `InheritanceType.TABLE_PER_CLASS` you cannot directly specify the name of the table for the Parent entity. The name of the parent table is typically derived from the name of the parent entity class.","title":"JPA: Inheritance.TABLE_PER_CLASS set parent table name","body":"<p><strong>you didn't do anything wrong!</strong></p>\n<p>when you are using the <code>InheritanceType.TABLE_PER_CLASS</code> you cannot directly specify the name of the table for the Parent entity. The name of the parent table is typically derived from the name of the parent entity class.</p>\n"},{"tags":[],"owner":{"account_id":11383036,"reputation":526,"user_id":8345434,"accept_rate":62,"display_name":"Thanthla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689233883,"creation_date":1689233883,"answer_id":76676985,"question_id":76640607,"body_markdown":"As usual, the problem was in front of the keyboard... me. \r\n\r\nSolution for anyone having the same issue and don&#39;t want to waste as much time:\r\n\r\nIn the strategy `InheritanceType.TABLE_PER_CLASS` there is **NO** parent table. All attributes of the parent class are directly stored in the child tables. So, if there is no parent table, it can not be renamed!\r\n\r\nBut why was it listed in my database? Before choosing `InheritanceType.TABLE_PER_CLASS` I tried differed strategies like `InheritanceType.JOINED` which in deed creates a parent table. Using the property `spring.jpa.hibernate.ddl-auto=create` for development, I assumed the database will always match my java implementation (https://stackoverflow.com/a/1689769/8345434). However, `create` only drops data and **not** tables which are no longer part of the implementation. Thus, after each application restart I so the old table which was no langer part of the application. \r\n \r\n     Schema |  Name  |  Typ  |  Creation Date  \r\n    --------+--------+-------+-----------------\r\n     public | parent | Table | a long time ago \r\n     public | bar    | Table | now","title":"JPA: Inheritance.TABLE_PER_CLASS set parent table name","body":"<p>As usual, the problem was in front of the keyboard... me.</p>\n<p>Solution for anyone having the same issue and don't want to waste as much time:</p>\n<p>In the strategy <code>InheritanceType.TABLE_PER_CLASS</code> there is <strong>NO</strong> parent table. All attributes of the parent class are directly stored in the child tables. So, if there is no parent table, it can not be renamed!</p>\n<p>But why was it listed in my database? Before choosing <code>InheritanceType.TABLE_PER_CLASS</code> I tried differed strategies like <code>InheritanceType.JOINED</code> which in deed creates a parent table. Using the property <code>spring.jpa.hibernate.ddl-auto=create</code> for development, I assumed the database will always match my java implementation (<a href=\"https://stackoverflow.com/a/1689769/8345434\">https://stackoverflow.com/a/1689769/8345434</a>). However, <code>create</code> only drops data and <strong>not</strong> tables which are no longer part of the implementation. Thus, after each application restart I so the old table which was no langer part of the application.</p>\n<pre><code> Schema |  Name  |  Typ  |  Creation Date  \n--------+--------+-------+-----------------\n public | parent | Table | a long time ago \n public | bar    | Table | now\n</code></pre>\n"}],"owner":{"account_id":11383036,"reputation":526,"user_id":8345434,"accept_rate":62,"display_name":"Thanthla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76676985,"answer_count":2,"score":0,"last_activity_date":1689233883,"creation_date":1688770267,"question_id":76640607,"body_markdown":"I use `InheritanceType.TABLE_PER_CLASS`. Somehow I can define the name of the child table, but not of the parent table.\r\n\r\n```\r\n@Entity\r\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n@Table(name=&quot;foo&quot;)\r\npublic class Parent {\r\n    ...\r\n}\r\n\r\n@Entity\r\n@Table(name=&quot;bar&quot;)\r\npublic class Child extends Parent {\r\n    ...\r\n}\r\n```\r\n\r\nResults in:\r\n\r\n```\r\n Schema |  Name  |  Typ   \r\n--------+----------------\r\n public | parent | Table  \r\n public | bar    | Table \r\n\r\n```\r\n\r\nWhat am I doing wrong?","title":"JPA: Inheritance.TABLE_PER_CLASS set parent table name","body":"<p>I use <code>InheritanceType.TABLE_PER_CLASS</code>. Somehow I can define the name of the child table, but not of the parent table.</p>\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\n@Table(name=&quot;foo&quot;)\npublic class Parent {\n    ...\n}\n\n@Entity\n@Table(name=&quot;bar&quot;)\npublic class Child extends Parent {\n    ...\n}\n</code></pre>\n<p>Results in:</p>\n<pre><code> Schema |  Name  |  Typ   \n--------+----------------\n public | parent | Table  \n public | bar    | Table \n\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","spring-boot","kotlin","jackson","yaml"],"comments":[{"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"score":3,"creation_date":1689253765,"post_id":76676978,"comment_id":135189372,"body_markdown":"`yamlMapper.enable(DeserializationFeature.FAIL_ON_READING_DUP_TREE_KEY );` but I don&#39;t know how to write it in Kotlin.","body":"<code>yamlMapper.enable(DeserializationFeature.FAIL_ON_READING_DUP&zwnj;&#8203;_TREE_KEY );</code> but I don&#39;t know how to write it in Kotlin."},{"owner":{"account_id":2070337,"reputation":63,"user_id":1844976,"display_name":"J.S."},"score":0,"creation_date":1689323133,"post_id":76676978,"comment_id":135200056,"body_markdown":"Thanks, @flyx, this works! Strange that Jackson allows reading invalid structures per default. I&#39;m wondering what other flags I have to manually set to achieve a thorough format checking (without considering the data nor my data structure yet).","body":"Thanks, @flyx, this works! Strange that Jackson allows reading invalid structures per default. I&#39;m wondering what other flags I have to manually set to achieve a thorough format checking (without considering the data nor my data structure yet)."},{"owner":{"account_id":2070337,"reputation":63,"user_id":1844976,"display_name":"J.S."},"score":0,"creation_date":1689323784,"post_id":76676978,"comment_id":135200189,"body_markdown":"Note: This only works with `readTree` (or other ways of reading into tree). Reading into an object like in my MRE isn&#39;t affected by this flag. The general problems stays the same. (Of course, I can solve it in my actual code now, by first parsing into a tree and then an object.)","body":"Note: This only works with <code>readTree</code> (or other ways of reading into tree). Reading into an object like in my MRE isn&#39;t affected by this flag. The general problems stays the same. (Of course, I can solve it in my actual code now, by first parsing into a tree and then an object.)"},{"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"score":1,"creation_date":1689324156,"post_id":76676978,"comment_id":135200248,"body_markdown":"Jackson uses SnakeYAML for parsing, which has a [setAllowDuplicateKeys](https://www.javadoc.io/doc/org.yaml/snakeyaml/1.33/org/yaml/snakeyaml/LoaderOptions.html#setAllowDuplicateKeys-boolean-) which is enabled by default possibly for backwards compatibility with YAML 1.1. Afaik Jackson doesn&#39;t expose this so you can&#39;t set it if you use Jackson&#39;s API, however SnakeYAML also can deserialize into class instances so that&#39;s probably the better API to use if you need fine-tuning.","body":"Jackson uses SnakeYAML for parsing, which has a <a href=\"https://www.javadoc.io/doc/org.yaml/snakeyaml/1.33/org/yaml/snakeyaml/LoaderOptions.html#setAllowDuplicateKeys-boolean-\" rel=\"nofollow noreferrer\">setAllowDuplicateKeys</a> which is enabled by default possibly for backwards compatibility with YAML 1.1. Afaik Jackson doesn&#39;t expose this so you can&#39;t set it if you use Jackson&#39;s API, however SnakeYAML also can deserialize into class instances so that&#39;s probably the better API to use if you need fine-tuning."}],"owner":{"account_id":2070337,"reputation":63,"user_id":1844976,"display_name":"J.S."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689233811,"creation_date":1689233811,"question_id":76676978,"body_markdown":"I want to parse YAML content and \r\n\r\n- check whether the basic format rules are honored and\r\n- check that the given structure matches my data class structure.\r\n\r\n\r\nI know at least the YAML parser used by Spring Boot to read the application settings can throw such errors: https://stackoverflow.com/questions/74704616/found-duplicate-key-in-application-yml\r\n\r\nBut, given an invalid YAML and read by a (simplified) code like:\r\n\r\n``` lang-yaml\r\nlistblock:\r\n  - name: &quot;a&quot;\r\n\r\nlistblock:  # DUPLICATE KEY!\r\n  - name: &quot;b&quot;\r\n    optional: &quot;b optional&quot;\r\n```\r\n\r\n``` lang-kotlin\r\n    val yamlMapper = YAMLMapper().apply {\r\n        registerKotlinModule()\r\n    }\r\n\r\n    @Test\r\n    fun `yaml into jsonNode`() {\r\n        val jsonNode = yamlMapper.readTree(invalidFile)\r\n    }\r\n```\r\n\r\nNo exception are thrown. The result is just containing the second `listblock`&#39;s content.\r\n\r\nTo address my second sub-question: Even when using a data class structure, like:\r\n\r\n``` lang-kotlin\r\ndata class ObjectDto(val listblock: List&lt;ListElement&gt;)\r\n\r\ndata class ListElement(val name: String, val optional: String?)\r\n```\r\n\r\nAnd read the YAML content like:\r\n\r\n``` lang-kotlin\r\n        val result = yamlMapper.readValue&lt;ObjectDto&gt;(invalidFile.readText())\r\n```\r\n\r\nThere are still no problems occurring.\r\n\r\nPlease, check my MRE here: https://github.com/jakesmolka/jackson-yaml-problem/blob/main/src/test/kotlin/com/example/jacksonyamlproblem/JacksonYamlProblemApplicationTests.kt\r\n","title":"How to make sure Jackson is complaining when reading invalid YAML?","body":"<p>I want to parse YAML content and</p>\n<ul>\n<li>check whether the basic format rules are honored and</li>\n<li>check that the given structure matches my data class structure.</li>\n</ul>\n<p>I know at least the YAML parser used by Spring Boot to read the application settings can throw such errors: <a href=\"https://stackoverflow.com/questions/74704616/found-duplicate-key-in-application-yml\">Found duplicate key in application.yml</a></p>\n<p>But, given an invalid YAML and read by a (simplified) code like:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>listblock:\n  - name: &quot;a&quot;\n\nlistblock:  # DUPLICATE KEY!\n  - name: &quot;b&quot;\n    optional: &quot;b optional&quot;\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    val yamlMapper = YAMLMapper().apply {\n        registerKotlinModule()\n    }\n\n    @Test\n    fun `yaml into jsonNode`() {\n        val jsonNode = yamlMapper.readTree(invalidFile)\n    }\n</code></pre>\n<p>No exception are thrown. The result is just containing the second <code>listblock</code>'s content.</p>\n<p>To address my second sub-question: Even when using a data class structure, like:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class ObjectDto(val listblock: List&lt;ListElement&gt;)\n\ndata class ListElement(val name: String, val optional: String?)\n</code></pre>\n<p>And read the YAML content like:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>        val result = yamlMapper.readValue&lt;ObjectDto&gt;(invalidFile.readText())\n</code></pre>\n<p>There are still no problems occurring.</p>\n<p>Please, check my MRE here: <a href=\"https://github.com/jakesmolka/jackson-yaml-problem/blob/main/src/test/kotlin/com/example/jacksonyamlproblem/JacksonYamlProblemApplicationTests.kt\" rel=\"nofollow noreferrer\">https://github.com/jakesmolka/jackson-yaml-problem/blob/main/src/test/kotlin/com/example/jacksonyamlproblem/JacksonYamlProblemApplicationTests.kt</a></p>\n"},{"tags":["java","spring-boot","swagger-ui","openapi","springdoc"],"comments":[{"owner":{"account_id":28877964,"reputation":581,"user_id":22118035,"display_name":"Dhruman Desai"},"score":0,"creation_date":1688465061,"post_id":76611168,"comment_id":135074708,"body_markdown":"Have to create a class for swagger configuration?","body":"Have to create a class for swagger configuration?"},{"owner":{"account_id":12402759,"reputation":1,"user_id":9039205,"display_name":"msal"},"score":0,"creation_date":1688466323,"post_id":76611168,"comment_id":135074956,"body_markdown":"yes i created a class but i think as it says in the doc it&#39;s not mandatory","body":"yes i created a class but i think as it says in the doc it&#39;s not mandatory"},{"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"score":0,"creation_date":1688468097,"post_id":76611168,"comment_id":135075305,"body_markdown":"What is the version of Spring boot you are using ?","body":"What is the version of Spring boot you are using ?"},{"owner":{"account_id":12402759,"reputation":1,"user_id":9039205,"display_name":"msal"},"score":0,"creation_date":1688471089,"post_id":76611168,"comment_id":135075935,"body_markdown":"I am using 3.0.1","body":"I am using 3.0.1"}],"answers":[{"tags":[],"owner":{"account_id":2564637,"reputation":881,"user_id":2225044,"display_name":"MPhil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689232905,"creation_date":1689232905,"answer_id":76676859,"question_id":76611168,"body_markdown":"I had the same issue after updating to spring 3. \r\n\r\nI added this dependency to the openapi-starter:\r\n\r\n    implementation &quot;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.1.0&quot;\r\n    implementation &quot;io.swagger.core.v3:swagger-annotations:2.2.15&quot;\r\n\r\nHope this is working for you.","title":"Springboot and Swagger UI 500 error Schema.requiredMode()&#39;","body":"<p>I had the same issue after updating to spring 3.</p>\n<p>I added this dependency to the openapi-starter:</p>\n<pre><code>implementation &quot;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.1.0&quot;\nimplementation &quot;io.swagger.core.v3:swagger-annotations:2.2.15&quot;\n</code></pre>\n<p>Hope this is working for you.</p>\n"}],"owner":{"account_id":12402759,"reputation":1,"user_id":9039205,"display_name":"msal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689232905,"creation_date":1688462771,"question_id":76611168,"body_markdown":"I am trying to connect my Spring Boot to Swagger UI. I am using this dependency: \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n     &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n     &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n     &lt;version&gt;2.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nWhen I try to access Swagger UI through /swagger-ui/index.html I get a 500 error:\r\n \r\n\r\n![](https://i.stack.imgur.com/xTZwA.png)\r\n\r\n\r\nThe current configuration in `application.yaml` I have:\r\n```yaml\r\nspringdoc:\r\n  api-docs:\r\n    path: &quot;/api-docs&quot;\r\n```\r\nConfig:\r\n```import org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport io.swagger.v3.oas.annotations.OpenAPIDefinition;\r\nimport io.swagger.v3.oas.models.OpenAPI;\r\nimport io.swagger.v3.oas.models.info.Info;\r\n\r\n@OpenAPIDefinition\r\n@Configuration\r\npublic class SpringdocConfig {\r\n    \r\n    @Bean\r\n    public OpenAPI baseOpenAPI() {\r\n        return new OpenAPI().info(new Info().title(&quot;Dashboard API&quot;).version(&quot;1.0.0&quot;).description(&quot;Dashboard API&quot;));\r\n    }\r\n\r\n}\r\n```\r\nError:\r\n```\r\n\r\n2023-07-04T11:15:18.312+02:00 DEBUG 33532 --- [-nio-443-exec-8] o.s.web.servlet.DispatcherServlet        : Failed to complete request: jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: &#39;io.swagger.v3.oas.annotations.media.Schema$RequiredMode io.swagger.v3.oas.annotations.media.Schema.requiredMode()&#39;\r\n2023-07-04T11:15:18.313+02:00 ERROR 33532 --- [-nio-443-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed: java.lang.NoSuchMethodError: &#39;io.swagger.v3.oas.annotations.media.Schema$RequiredMode io.swagger.v3.oas.annotations.media.Schema.requiredMode()&#39;] with root cause\r\n\r\njava.lang.NoSuchMethodError: &#39;io.swagger.v3.oas.annotations.media.Schema$RequiredMode io.swagger.v3.oas.annotations.media.Schema.requiredMode()&#39;\r\n        at org.springdoc.core.configuration.SpringDocRequiredModule$RespectSchemaRequiredAnnotationIntrospector.hasRequiredMarker(SpringDocRequiredModule.java:52) ~[springdoc-openapi-starter-common-2.1.0.jar:2.1.0]\r\n        at com.fasterxml.jackson.databind.introspect.AnnotationIntrospectorPair.hasRequiredMarker(AnnotationIntrospectorPair.java:319) ~[jackson-databind-2.14.1.jar:2.14.1]    \r\n        at com.fasterxml.jackson.databind.introspect.POJOPropertyBuilder.getMetadata(POJOPropertyBuilder.java:230) ~[jackson-databind-2.14.1.jar:2.14.1]\r\n        at com.fasterxml.jackson.databind.introspect.POJOPropertiesCollector._anyIndexed(POJOPropertiesCollector.java:1240) ~[jackson-databind-2.14.1.jar:2.14.1]\r\n```\r\n\r\nI expect to see the endpoints of my controllers in Swagger UI.","title":"Springboot and Swagger UI 500 error Schema.requiredMode()&#39;","body":"<p>I am trying to connect my Spring Boot to Swagger UI. I am using this dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n     &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n     &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n     &lt;version&gt;2.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>When I try to access Swagger UI through /swagger-ui/index.html I get a 500 error:</p>\n<p><img src=\"https://i.stack.imgur.com/xTZwA.png\" alt=\"\" /></p>\n<p>The current configuration in <code>application.yaml</code> I have:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>springdoc:\n  api-docs:\n    path: &quot;/api-docs&quot;\n</code></pre>\n<p>Config:</p>\n<pre><code>import org.springframework.context.annotation.Configuration;\n\nimport io.swagger.v3.oas.annotations.OpenAPIDefinition;\nimport io.swagger.v3.oas.models.OpenAPI;\nimport io.swagger.v3.oas.models.info.Info;\n\n@OpenAPIDefinition\n@Configuration\npublic class SpringdocConfig {\n    \n    @Bean\n    public OpenAPI baseOpenAPI() {\n        return new OpenAPI().info(new Info().title(&quot;Dashboard API&quot;).version(&quot;1.0.0&quot;).description(&quot;Dashboard API&quot;));\n    }\n\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>\n2023-07-04T11:15:18.312+02:00 DEBUG 33532 --- [-nio-443-exec-8] o.s.web.servlet.DispatcherServlet        : Failed to complete request: jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'io.swagger.v3.oas.annotations.media.Schema$RequiredMode io.swagger.v3.oas.annotations.media.Schema.requiredMode()'\n2023-07-04T11:15:18.313+02:00 ERROR 33532 --- [-nio-443-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed: java.lang.NoSuchMethodError: 'io.swagger.v3.oas.annotations.media.Schema$RequiredMode io.swagger.v3.oas.annotations.media.Schema.requiredMode()'] with root cause\n\njava.lang.NoSuchMethodError: 'io.swagger.v3.oas.annotations.media.Schema$RequiredMode io.swagger.v3.oas.annotations.media.Schema.requiredMode()'\n        at org.springdoc.core.configuration.SpringDocRequiredModule$RespectSchemaRequiredAnnotationIntrospector.hasRequiredMarker(SpringDocRequiredModule.java:52) ~[springdoc-openapi-starter-common-2.1.0.jar:2.1.0]\n        at com.fasterxml.jackson.databind.introspect.AnnotationIntrospectorPair.hasRequiredMarker(AnnotationIntrospectorPair.java:319) ~[jackson-databind-2.14.1.jar:2.14.1]    \n        at com.fasterxml.jackson.databind.introspect.POJOPropertyBuilder.getMetadata(POJOPropertyBuilder.java:230) ~[jackson-databind-2.14.1.jar:2.14.1]\n        at com.fasterxml.jackson.databind.introspect.POJOPropertiesCollector._anyIndexed(POJOPropertiesCollector.java:1240) ~[jackson-databind-2.14.1.jar:2.14.1]\n</code></pre>\n<p>I expect to see the endpoints of my controllers in Swagger UI.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9681,"page":311,"page_size":100}
