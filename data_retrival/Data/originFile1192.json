{"items":[{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657658749,"creation_date":1657658749,"answer_id":72958187,"question_id":72958066,"body_markdown":"Case 3) You need an if statement against the ID\r\n\r\n    System.out.println(&quot;Enter the customer&#39;s ID: &quot;);\r\n    int identify = input.nextInt();\r\n    \r\n    for (int i = 0; i &lt; companyLog.size(); i++) {\r\n         CompanyData cd = companyLog.get(i);\r\n         // match specific customer id with an id in the companyLog array\r\n         if (cd.id == identify) {\r\n             // print the specific customer&#39;s data: customer id, customer name, and total sales\r\n             cd.printData();\r\n         }\r\n    }\r\n\r\nCase 4) You can input a range as a string rather than a float `0-100`, then `split(&quot;-&quot;)` the string, then cast each part to a float... Or you can input two floats for a low then a high. \r\n\r\nThe comments in the code say nothing about ordering the output. \r\n\r\n    //prompts the user for the lowest and highest total sales\r\n    System.out.println(&quot;Enter a sales range? (low): &quot;);\r\n    float low = input.nextFloat();\r\n    System.out.println(&quot;Enter a sales range? (high): &quot;);\r\n    float high = input.nextFloat();\r\n    \r\n    for (int i = 0; i &lt; companyLog.size(); i++) {\r\n         CompanyData cd = companyLog.get(i);\r\n         if (cd.sales &gt;= low &amp;&amp; cd.sales &lt; high) {\r\n             // print the specific customer&#39;s data: customer id, customer name, and total sales\r\n             cd.printData();\r\n         }\r\n    }\r\n","title":"How do I print an element from an array by asking for user input? (matching input with elements in the array)","body":"<p>Case 3) You need an if statement against the ID</p>\n<pre><code>System.out.println(&quot;Enter the customer's ID: &quot;);\nint identify = input.nextInt();\n\nfor (int i = 0; i &lt; companyLog.size(); i++) {\n     CompanyData cd = companyLog.get(i);\n     // match specific customer id with an id in the companyLog array\n     if (cd.id == identify) {\n         // print the specific customer's data: customer id, customer name, and total sales\n         cd.printData();\n     }\n}\n</code></pre>\n<p>Case 4) You can input a range as a string rather than a float <code>0-100</code>, then <code>split(&quot;-&quot;)</code> the string, then cast each part to a float... Or you can input two floats for a low then a high.</p>\n<p>The comments in the code say nothing about ordering the output.</p>\n<pre><code>//prompts the user for the lowest and highest total sales\nSystem.out.println(&quot;Enter a sales range? (low): &quot;);\nfloat low = input.nextFloat();\nSystem.out.println(&quot;Enter a sales range? (high): &quot;);\nfloat high = input.nextFloat();\n\nfor (int i = 0; i &lt; companyLog.size(); i++) {\n     CompanyData cd = companyLog.get(i);\n     if (cd.sales &gt;= low &amp;&amp; cd.sales &lt; high) {\n         // print the specific customer's data: customer id, customer name, and total sales\n         cd.printData();\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11988367,"reputation":540,"user_id":8772274,"display_name":"Nahuel Giani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657658765,"creation_date":1657658765,"answer_id":72958193,"question_id":72958066,"body_markdown":"Maybe you can do some like that in the case 3:\r\n\r\n    case 3: {\r\n\r\n        System.out.println(&quot;Enter the customer&#39;s ID: &quot;);\r\n        int identify = input.nextInt();\r\n        companyLog.get(identify).printData();\r\n\r\n        break;\r\n    }\r\n\r\nI give you some advice\r\n\r\n1) The &#39;break&#39; sentence must be into the case\r\n2) You don&#39;t need &#39;for&#39; in this case because you know the client id","title":"How do I print an element from an array by asking for user input? (matching input with elements in the array)","body":"<p>Maybe you can do some like that in the case 3:</p>\n<pre><code>case 3: {\n\n    System.out.println(&quot;Enter the customer's ID: &quot;);\n    int identify = input.nextInt();\n    companyLog.get(identify).printData();\n\n    break;\n}\n</code></pre>\n<p>I give you some advice</p>\n<ol>\n<li>The 'break' sentence must be into the case</li>\n<li>You don't need 'for' in this case because you know the client id</li>\n</ol>\n"}],"owner":{"account_id":25793637,"reputation":13,"user_id":19537279,"display_name":"Justin Anton Porter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72958187,"answer_count":2,"score":-1,"last_activity_date":1657667874,"creation_date":1657658032,"question_id":72958066,"body_markdown":"*Case 3* and *Case 4* - How do I print an element from an array by asking for user input? (matching input with elements in the array)\r\n\r\nAlso how do I grab user input as an integer range (e.g 1 - 4) and display it in order? (e.g element 1, element 2, element 3, element 4)\r\n\r\n\r\n------------------------------------------------------------------------------------------\r\n\r\n\r\n    import java.util.Scanner;\r\n    import java.util.ArrayList;\r\n    \r\n    // ----- OBJECT TYPE 1 ----- //\r\n    public class project {\r\n    \t\r\n    \t// ----- OBJECT 1 [ main method ] ----- //\r\n    \tpublic static void main(String[]args) {\r\n    \t\t\r\n    \t\tScanner input = new Scanner(System.in);\r\n    \t\t\r\n    \t\tArrayList&lt;CustomerData&gt; companyLog = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\t\r\n    \t\tboolean cycleMenu = true;\r\n    \t\twhile (cycleMenu) {\r\n    \t\t\tSystem.out.println(&quot;THE MENU&quot;);\r\n    \t\t\tSystem.out.println(&quot;------------- \\n&quot;);\r\n    \t\t\tSystem.out.println(&quot;1: Add New Customers&quot;);\r\n    \t\t\tSystem.out.println(&quot;2: Display All Customers&quot;);\r\n    \t\t\tSystem.out.println(&quot;3: Retrieve Specific Customer Data&quot;);\r\n    \t\t\tSystem.out.println(&quot;4: Retrieve Customer Total Sales Range&quot;);\r\n    \t\t\tSystem.out.println(&quot;9: Exit&quot;);\r\n    \t\t\t\r\n    \t\t\t//Add new customer - prompts the user for customer data: customer name, customer id, and total sales\r\n    \t\t\tint responses = input.nextInt();\r\n    \t\t\tswitch (responses) {\r\n    \t\t\t\tcase 1: {\r\n    \t\t\t\t\t//Load customers’ data - Prompt user for the number of customers to be loaded\r\n    \t\t\t\t\tSystem.out.println(&quot;What is the number of customers?: &quot;);\r\n    \t\t\t\t\tint cycle = input.nextInt();\r\n    \t\t\t\t\tfor (int i = 0; i &lt; cycle; i++) {\r\n    \t\t\t\t\t\tcompanyLog.add(new CustomerData());\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} break;\r\n    \t\t\t\tcase 2: {\r\n    \t\t\t\t\t//re = results | Display ALL customers\r\n    \t\t\t\t\tfor (CustomerData re : companyLog) {\r\n    \t\t\t\t\t\tre.printData();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} break;\r\n    \t\t\t\t//Retrieve specific customer&#39;s data:\r\n    \t\t\t\tcase 3: {\r\n    \t\t\t\t\t//prompts the user for the customer id\r\n    \t\t\t\t\tSystem.out.println(&quot;Enter the customer&#39;s ID: &quot;);\r\n    \t\t\t\t\tint identify = input.nextInt();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t//match specific customer id with an id in the companyLog array\r\n    \t\t\t\t\tfor (int i = 0; i &lt; identify; i++) {\r\n    \t\t\t\t\t\t//print the specific customer&#39;s data: customer id, customer name, and total sales\r\n                             companyLog.get(identify);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} break;\r\n    \t\t\t\t//Retrieve customers with total sales based on the range:\r\n    \t\t\t\tcase 4: {\r\n    \t\t\t\t\t//prompts the user for the lowest and highest total sales\r\n    \t\t\t\t\tSystem.out.println(&quot;Enter a sales range?: &quot;);\r\n    \t\t\t\t\tfloat range = input.nextFloat();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t//match lowest and highest sales to companyLog array\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t//print all customers with total sales in that range from companyLog array\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\r\n    \t\t\t\t} break;\r\n    \t\t\t\tcase 9: {\r\n    \t\t\t\t\t//Exit\r\n    \t\t\t\t\tSystem.out.println(&quot;\\n&quot; + &quot;You have exited the Java program. Goodbye! :)&quot;);\r\n    \t\t\t\t\tcycleMenu = false;\r\n    \t\t\t\t} break;\r\n    \t\t\t\t}\r\n    \t\t\t}\t\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    // ----- OBJECT TYPE 2 ----- //\r\n    class CustomerData {\r\n    \t\r\n    \tString names;\r\n    \tfloat sales;\r\n    \tint id;\r\n    \t\r\n    \t// ----- OBJECT 1 ----- //\r\n    \tpublic CustomerData() {\r\n    \t\t\r\n    \t\tScanner input = new Scanner(System.in);\r\n    \t\t\r\n    \t\t//Prompts for each customer&#39;s name\r\n    \t\tSystem.out.println(&quot;\\n What is this customers name?: \\n&quot;);\r\n    \t\tnames = input.next();\r\n    \t\t\r\n    \t\t//Customer id (5 digit number)\r\n    \t\tSystem.out.println(&quot;\\n Please enter this customer&#39;s 5-digit id number.: \\n&quot;);\r\n    \t\tid = input.nextInt();\r\n    \t\t\r\n    \t\t//Total sales\r\n    \t\tSystem.out.println(&quot;\\n What is this customer&#39;s sales total?: \\n&quot;);\r\n    \t\tsales = input.nextFloat();\r\n    \t\t\r\n    \t\tthis.names = names;\r\n    \t\tthis.id = id;\r\n    \t\tthis.sales = sales;\r\n    \t}\r\n    \t\r\n    \t// ----- OBJECT 2 ----- //\r\n    \tpublic void printData() {\r\n    \t\t\r\n    \t\t//Display all customers - displays each customer&#39;s data to the console, one customer per line\r\n    \t\tSystem.out.println(&quot;Customer: &quot; + this.names + &quot;\\n&quot;);\r\n    \t\tSystem.out.println(&quot;ID: &quot; + this.id + &quot;\\n&quot;);\r\n    \t\tSystem.out.println(&quot;Sales Total: &quot; + this.sales + &quot;\\n&quot;);\r\n    \t}\r\n    }\r\n\r\n","title":"How do I print an element from an array by asking for user input? (matching input with elements in the array)","body":"<p><em>Case 3</em> and <em>Case 4</em> - How do I print an element from an array by asking for user input? (matching input with elements in the array)</p>\n<p>Also how do I grab user input as an integer range (e.g 1 - 4) and display it in order? (e.g element 1, element 2, element 3, element 4)</p>\n<hr />\n<pre><code>import java.util.Scanner;\nimport java.util.ArrayList;\n\n// ----- OBJECT TYPE 1 ----- //\npublic class project {\n    \n    // ----- OBJECT 1 [ main method ] ----- //\n    public static void main(String[]args) {\n        \n        Scanner input = new Scanner(System.in);\n        \n        ArrayList&lt;CustomerData&gt; companyLog = new ArrayList&lt;&gt;();\n        \n        \n        boolean cycleMenu = true;\n        while (cycleMenu) {\n            System.out.println(&quot;THE MENU&quot;);\n            System.out.println(&quot;------------- \\n&quot;);\n            System.out.println(&quot;1: Add New Customers&quot;);\n            System.out.println(&quot;2: Display All Customers&quot;);\n            System.out.println(&quot;3: Retrieve Specific Customer Data&quot;);\n            System.out.println(&quot;4: Retrieve Customer Total Sales Range&quot;);\n            System.out.println(&quot;9: Exit&quot;);\n            \n            //Add new customer - prompts the user for customer data: customer name, customer id, and total sales\n            int responses = input.nextInt();\n            switch (responses) {\n                case 1: {\n                    //Load customers’ data - Prompt user for the number of customers to be loaded\n                    System.out.println(&quot;What is the number of customers?: &quot;);\n                    int cycle = input.nextInt();\n                    for (int i = 0; i &lt; cycle; i++) {\n                        companyLog.add(new CustomerData());\n                    }\n                } break;\n                case 2: {\n                    //re = results | Display ALL customers\n                    for (CustomerData re : companyLog) {\n                        re.printData();\n                    }\n                } break;\n                //Retrieve specific customer's data:\n                case 3: {\n                    //prompts the user for the customer id\n                    System.out.println(&quot;Enter the customer's ID: &quot;);\n                    int identify = input.nextInt();\n                    \n                    //match specific customer id with an id in the companyLog array\n                    for (int i = 0; i &lt; identify; i++) {\n                        //print the specific customer's data: customer id, customer name, and total sales\n                         companyLog.get(identify);\n                    }\n                } break;\n                //Retrieve customers with total sales based on the range:\n                case 4: {\n                    //prompts the user for the lowest and highest total sales\n                    System.out.println(&quot;Enter a sales range?: &quot;);\n                    float range = input.nextFloat();\n                    \n                    //match lowest and highest sales to companyLog array\n                    \n                    \n                    //print all customers with total sales in that range from companyLog array\n                    \n                    \n                } break;\n                case 9: {\n                    //Exit\n                    System.out.println(&quot;\\n&quot; + &quot;You have exited the Java program. Goodbye! :)&quot;);\n                    cycleMenu = false;\n                } break;\n                }\n            }   \n        }\n    }\n\n\n// ----- OBJECT TYPE 2 ----- //\nclass CustomerData {\n    \n    String names;\n    float sales;\n    int id;\n    \n    // ----- OBJECT 1 ----- //\n    public CustomerData() {\n        \n        Scanner input = new Scanner(System.in);\n        \n        //Prompts for each customer's name\n        System.out.println(&quot;\\n What is this customers name?: \\n&quot;);\n        names = input.next();\n        \n        //Customer id (5 digit number)\n        System.out.println(&quot;\\n Please enter this customer's 5-digit id number.: \\n&quot;);\n        id = input.nextInt();\n        \n        //Total sales\n        System.out.println(&quot;\\n What is this customer's sales total?: \\n&quot;);\n        sales = input.nextFloat();\n        \n        this.names = names;\n        this.id = id;\n        this.sales = sales;\n    }\n    \n    // ----- OBJECT 2 ----- //\n    public void printData() {\n        \n        //Display all customers - displays each customer's data to the console, one customer per line\n        System.out.println(&quot;Customer: &quot; + this.names + &quot;\\n&quot;);\n        System.out.println(&quot;ID: &quot; + this.id + &quot;\\n&quot;);\n        System.out.println(&quot;Sales Total: &quot; + this.sales + &quot;\\n&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1206541,"reputation":2037,"user_id":1176037,"accept_rate":67,"display_name":"Alan Deep"},"score":0,"creation_date":1533948867,"post_id":51795358,"comment_id":90548524,"body_markdown":"You got the idea wrong dear.\n\n`listView.getItems().add(list)` where list is a `List` or `ObservableList`.\n\nPlus you cannot convert `observablelist` to `listview,` `listview` is a `View`, something you can see on the UI.\n\nIf you can show us the stacktrace we can help you more","body":"You got the idea wrong dear.  <code>listView.getItems().add(list)</code> where list is a <code>List</code> or <code>ObservableList</code>.  Plus you cannot convert <code>observablelist</code> to <code>listview,</code> <code>listview</code> is a <code>View</code>, something you can see on the UI.  If you can show us the stacktrace we can help you more"},{"owner":{"account_id":14133436,"reputation":21,"user_id":10210725,"display_name":"M. Fahim"},"score":0,"creation_date":1533958317,"post_id":51795358,"comment_id":90549659,"body_markdown":"The code is exactly how the book explains the issue (to show the element of string array in a ListView). Is there any other way to import the elements of an array in listview?","body":"The code is exactly how the book explains the issue (to show the element of string array in a ListView). Is there any other way to import the elements of an array in listview?"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657666828,"creation_date":1657666828,"answer_id":72959200,"question_id":51795358,"body_markdown":"For reference, a tab&#39;s [`setContent()`][1] method accepts _any_ [`Node`][2], including a [`ListView`][3].\r\n\r\n[![image][4]][4]\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.ListView;\r\nimport javafx.scene.control.Tab;\r\nimport javafx.scene.control.TabPane;\r\nimport javafx.stage.Stage;\r\n\r\n/**\r\n * @see https://stackoverflow.com/q/51795358/230513\r\n */\r\npublic class TabList extends Application {\r\n\r\n    private Tab createTab(String title) {\r\n        String[] temp = {&quot;Book&quot;, &quot;Notebook&quot;, &quot;Pen&quot;, &quot;Pencil&quot;};\r\n        ObservableList&lt;String&gt; strList = FXCollections.observableArrayList(temp);\r\n        ListView&lt;String&gt; listView = new ListView&lt;&gt;(strList);\r\n        Tab tab = new Tab(title);\r\n        tab.setContent(listView);\r\n        return tab;\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        TabPane tabPane = new TabPane();\r\n        tabPane.getTabs().add(createTab(&quot;Manager&quot;));\r\n        tabPane.getTabs().add(createTab(&quot;Employee&quot;));\r\n        stage.setScene(new Scene(tabPane));\r\n        stage.setTitle(&quot;ListView in Tab&quot;);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/Tab.html#setContent(javafx.scene.Node)\r\n  [2]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html\r\n  [3]: https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/ListView.html\r\n  [4]: https://i.stack.imgur.com/W7BE6.png","title":"I am trying to put the content an String to ListView","body":"<p>For reference, a tab's <a href=\"https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/Tab.html#setContent(javafx.scene.Node)\" rel=\"nofollow noreferrer\"><code>setContent()</code></a> method accepts <em>any</em> <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html\" rel=\"nofollow noreferrer\"><code>Node</code></a>, including a <a href=\"https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/ListView.html\" rel=\"nofollow noreferrer\"><code>ListView</code></a>.</p>\n<p><a href=\"https://i.stack.imgur.com/W7BE6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W7BE6.png\" alt=\"image\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ListView;\nimport javafx.scene.control.Tab;\nimport javafx.scene.control.TabPane;\nimport javafx.stage.Stage;\n\n/**\n * @see https://stackoverflow.com/q/51795358/230513\n */\npublic class TabList extends Application {\n\n    private Tab createTab(String title) {\n        String[] temp = {&quot;Book&quot;, &quot;Notebook&quot;, &quot;Pen&quot;, &quot;Pencil&quot;};\n        ObservableList&lt;String&gt; strList = FXCollections.observableArrayList(temp);\n        ListView&lt;String&gt; listView = new ListView&lt;&gt;(strList);\n        Tab tab = new Tab(title);\n        tab.setContent(listView);\n        return tab;\n    }\n\n    @Override\n    public void start(Stage stage) {\n        TabPane tabPane = new TabPane();\n        tabPane.getTabs().add(createTab(&quot;Manager&quot;));\n        tabPane.getTabs().add(createTab(&quot;Employee&quot;));\n        stage.setScene(new Scene(tabPane));\n        stage.setTitle(&quot;ListView in Tab&quot;);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14133436,"reputation":21,"user_id":10210725,"display_name":"M. Fahim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657666828,"creation_date":1533946336,"question_id":51795358,"body_markdown":"I am trying to put the content an String to ListView. After running the code, the object of ListView contains null. I am not sure where is the problem? any help please!! Not to forget that employee it an object of Tap class which is located in TabLayout.\r\n\r\n    //Step 1. Create and initialize the array.\r\n    String[] temp = {&quot;Book&quot;, &quot;Notebook&quot;, &quot;pen&quot;, &quot;pencil&quot;};\r\n\r\n    //Step 2. Convert the array to ObservablList\r\n    ObservableList&lt;String&gt; strList = FXCollections.observableArrayList(temp);\r\n\r\n    //Step 3. Convert the ObservableList to ListView\r\n    ListView&lt;String&gt; listView = new ListView&lt;&gt;(strList);\r\n\r\n    //Step 4. Add the content of ListView to the employee Tap. \r\n    employee.setContent(listView);\r\n\r\nThe except is thrown when step 4 is executed. I think this happens because of step 3. The object of the elements ListView are null. \r\n\r\n","title":"I am trying to put the content an String to ListView","body":"<p>I am trying to put the content an String to ListView. After running the code, the object of ListView contains null. I am not sure where is the problem? any help please!! Not to forget that employee it an object of Tap class which is located in TabLayout.</p>\n\n<pre><code>//Step 1. Create and initialize the array.\nString[] temp = {\"Book\", \"Notebook\", \"pen\", \"pencil\"};\n\n//Step 2. Convert the array to ObservablList\nObservableList&lt;String&gt; strList = FXCollections.observableArrayList(temp);\n\n//Step 3. Convert the ObservableList to ListView\nListView&lt;String&gt; listView = new ListView&lt;&gt;(strList);\n\n//Step 4. Add the content of ListView to the employee Tap. \nemployee.setContent(listView);\n</code></pre>\n\n<p>The except is thrown when step 4 is executed. I think this happens because of step 3. The object of the elements ListView are null. </p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch","resthighlevelclient"],"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657666678,"creation_date":1657657071,"question_id":72957939,"body_markdown":"I am having an issue trying to implement optimistic locking when executing a document upsert.\r\n\r\nI followed all the guides, however I am getting the following error:\r\n\r\n    Validation Failed: 1: compare and write operations can not be used with upsert;\r\n\r\nI can trace this error back to this [validate][1] method, however I cannot find an explanation as to why this cannot be done nor HOW to do an upsert without running into conflicts.\r\n\r\n\r\nHere&#39;s where I am getting the error in my code:\r\n\r\n    private UpdateResponse doAction(UUID esId, List&lt;Comment&gt; comments, dSeqNoPrimaryTerm seqPrimNo, String indexName) {\r\n            UpdateResponse response = null;\r\n            Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n            params.put(&quot;comments&quot;, comments);\r\n            Builder builder = UpdateQuery\r\n                    .builder(esId.toString())\r\n                    .withDocAsUpsert(true)\r\n                    .withDocument(Document.from(params))\r\n                    .withRefresh(Refresh.True);\r\n            if (seqPrimNo != null) {\r\n                builder.withIfSeqNo((int) seqPrimNo.getSequenceNumber());\r\n                builder.withIfPrimaryTerm((int) seqPrimNo.getPrimaryTerm());\r\n            }\r\n            UpdateQuery query = builder.build();\r\n            response = elasticsearchTemplate.update(query, IndexCoordinates.of(indexName));  // &lt;-- ERRORS HERE\r\n            return response;\r\n        }\r\n\r\nDoes that mean that we cannot do optimistic locking when doing an upsert?  What am I missing?\r\n\r\n\r\n  [1]: https://github.com/elastic/elasticsearch/blob/master/server/src/main/java/org/elasticsearch/action/update/UpdateRequest.java#L175","title":"Avoiding conflicts with elastic upsert","body":"<p>I am having an issue trying to implement optimistic locking when executing a document upsert.</p>\n<p>I followed all the guides, however I am getting the following error:</p>\n<pre><code>Validation Failed: 1: compare and write operations can not be used with upsert;\n</code></pre>\n<p>I can trace this error back to this <a href=\"https://github.com/elastic/elasticsearch/blob/master/server/src/main/java/org/elasticsearch/action/update/UpdateRequest.java#L175\" rel=\"nofollow noreferrer\">validate</a> method, however I cannot find an explanation as to why this cannot be done nor HOW to do an upsert without running into conflicts.</p>\n<p>Here's where I am getting the error in my code:</p>\n<pre><code>private UpdateResponse doAction(UUID esId, List&lt;Comment&gt; comments, dSeqNoPrimaryTerm seqPrimNo, String indexName) {\n        UpdateResponse response = null;\n        Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n        params.put(&quot;comments&quot;, comments);\n        Builder builder = UpdateQuery\n                .builder(esId.toString())\n                .withDocAsUpsert(true)\n                .withDocument(Document.from(params))\n                .withRefresh(Refresh.True);\n        if (seqPrimNo != null) {\n            builder.withIfSeqNo((int) seqPrimNo.getSequenceNumber());\n            builder.withIfPrimaryTerm((int) seqPrimNo.getPrimaryTerm());\n        }\n        UpdateQuery query = builder.build();\n        response = elasticsearchTemplate.update(query, IndexCoordinates.of(indexName));  // &lt;-- ERRORS HERE\n        return response;\n    }\n</code></pre>\n<p>Does that mean that we cannot do optimistic locking when doing an upsert?  What am I missing?</p>\n"},{"tags":["java","mapping","mapstruct","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657666440,"creation_date":1657666440,"answer_id":72959160,"question_id":72948391,"body_markdown":"**Objects definition:**\r\n```java\r\npublic class EntityA {\r\n\r\n    private String id;\r\n\r\n    private String anotherField;\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getAnotherField() {\r\n        return anotherField;\r\n    }\r\n}\r\n\r\npublic class ABC {\r\n    private final ObjectXYZ identification;\r\n    private final String anotherField;\r\n\r\n    public ABC(ObjectXYZ identification, String anotherField) {\r\n        this.identification = identification;\r\n        this.anotherField = anotherField;\r\n    }\r\n\r\n    public String getAnotherField() {\r\n        return anotherField;\r\n    }\r\n\r\n    public ObjectXYZ getIdentification() {\r\n        return identification;\r\n    }\r\n}\r\n\r\npublic class ObjectXYZ\r\n{\r\n    private  String identification;\r\n\r\n    public ObjectXYZ(String identification) {\r\n        this.identification = identification;\r\n    }\r\n\r\n    public String getIdentification() {\r\n        return identification;\r\n    }\r\n}\r\n```\r\n**Mapper:**\r\n&lt;br&gt;Mapstruct automatically determines the methods or constructors for mapping, you need just specify the right target\\source properties.\r\n```java\r\n@Mapper\r\npublic interface ObjectMapper\r\n{\r\n    @Mapping(target = &quot;identification&quot;, source = &quot;entity.id&quot;)\r\n    @Mapping(target = &quot;anotherField&quot;, source = &quot;entity.anotherField&quot;)\r\n    ABC toABC(EntityA entity);\r\n\r\n    @Mapping(target = &quot;identification&quot;, source = &quot;identification&quot;)\r\n    ObjectXYZ toObjectXYZ(String identification);\r\n}\r\n```\r\n**Generated code:**\r\n```java\r\npublic class ObjectMapperImpl implements ObjectMapper {\r\n\r\n    @Override\r\n    public ABC toABC(EntityA entity) {\r\n        if ( entity == null ) {\r\n            return null;\r\n        }\r\n\r\n        ObjectXYZ identification = null;\r\n        String anotherField = null;\r\n\r\n        identification = toObjectXYZ( entity.getId() );\r\n        anotherField = entity.getAnotherField();\r\n\r\n        ABC aBC = new ABC( identification, anotherField );\r\n\r\n        return aBC;\r\n    }\r\n\r\n    @Override\r\n    public ObjectXYZ toObjectXYZ(String identification) {\r\n        if ( identification == null ) {\r\n            return null;\r\n        }\r\n\r\n        String identification1 = null;\r\n\r\n        identification1 = identification;\r\n\r\n        ObjectXYZ objectXYZ = new ObjectXYZ( identification1 );\r\n\r\n        return objectXYZ;\r\n    }\r\n}\r\n```","title":"Mapstruct convert field to object field","body":"<p><strong>Objects definition:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EntityA {\n\n    private String id;\n\n    private String anotherField;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getAnotherField() {\n        return anotherField;\n    }\n}\n\npublic class ABC {\n    private final ObjectXYZ identification;\n    private final String anotherField;\n\n    public ABC(ObjectXYZ identification, String anotherField) {\n        this.identification = identification;\n        this.anotherField = anotherField;\n    }\n\n    public String getAnotherField() {\n        return anotherField;\n    }\n\n    public ObjectXYZ getIdentification() {\n        return identification;\n    }\n}\n\npublic class ObjectXYZ\n{\n    private  String identification;\n\n    public ObjectXYZ(String identification) {\n        this.identification = identification;\n    }\n\n    public String getIdentification() {\n        return identification;\n    }\n}\n</code></pre>\n<p><strong>Mapper:</strong>\n<br>Mapstruct automatically determines the methods or constructors for mapping, you need just specify the right target\\source properties.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface ObjectMapper\n{\n    @Mapping(target = &quot;identification&quot;, source = &quot;entity.id&quot;)\n    @Mapping(target = &quot;anotherField&quot;, source = &quot;entity.anotherField&quot;)\n    ABC toABC(EntityA entity);\n\n    @Mapping(target = &quot;identification&quot;, source = &quot;identification&quot;)\n    ObjectXYZ toObjectXYZ(String identification);\n}\n</code></pre>\n<p><strong>Generated code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ObjectMapperImpl implements ObjectMapper {\n\n    @Override\n    public ABC toABC(EntityA entity) {\n        if ( entity == null ) {\n            return null;\n        }\n\n        ObjectXYZ identification = null;\n        String anotherField = null;\n\n        identification = toObjectXYZ( entity.getId() );\n        anotherField = entity.getAnotherField();\n\n        ABC aBC = new ABC( identification, anotherField );\n\n        return aBC;\n    }\n\n    @Override\n    public ObjectXYZ toObjectXYZ(String identification) {\n        if ( identification == null ) {\n            return null;\n        }\n\n        String identification1 = null;\n\n        identification1 = identification;\n\n        ObjectXYZ objectXYZ = new ObjectXYZ( identification1 );\n\n        return objectXYZ;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2907,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72959160,"answer_count":1,"score":3,"last_activity_date":1657666440,"creation_date":1657610113,"question_id":72948391,"body_markdown":"I want to map two object with mapStruct\r\n```\r\npublic class EntityA\r\n{\r\n\r\n   @Id\r\n   private String id;\r\n   @Column\r\n   private String anotherField\r\n```\r\n\r\nThe second object with an object a paramter\r\n```\r\npublic class ABC\r\n{\r\n   private final ObjectXYZ identification;\r\n   // another fields\r\n```\r\n\r\n```\r\npublic class ObjectXYZ \r\n{\r\n   private final String identification;\r\n```\r\n\r\nMy Mapper:\r\n```\r\n@Mapper\r\npublic interface ObjectMapper\r\n{\r\n   @Mapping(target = &quot;identification&quot;, source = &quot;identification&quot;, qualifiedByName = &quot;ObjectXYZ&quot;)\r\n   ABC toABC(EntityA entity);\r\n\r\n   EntityA toEntityA(Material material);\r\n\r\n   @Named(&quot;ObjectXYZ&quot;)\r\n   @Mapping(target = &quot;identification&quot;, source = &quot;identification&quot;)\r\n   ObjectXYZ toObjectXYZ(String identification);\r\n}\r\n```\r\n\r\nhow can i map the `EntityA.id` to `ABC.identification.identification`","title":"Mapstruct convert field to object field","body":"<p>I want to map two object with mapStruct</p>\n<pre><code>public class EntityA\n{\n\n   @Id\n   private String id;\n   @Column\n   private String anotherField\n</code></pre>\n<p>The second object with an object a paramter</p>\n<pre><code>public class ABC\n{\n   private final ObjectXYZ identification;\n   // another fields\n</code></pre>\n<pre><code>public class ObjectXYZ \n{\n   private final String identification;\n</code></pre>\n<p>My Mapper:</p>\n<pre><code>@Mapper\npublic interface ObjectMapper\n{\n   @Mapping(target = &quot;identification&quot;, source = &quot;identification&quot;, qualifiedByName = &quot;ObjectXYZ&quot;)\n   ABC toABC(EntityA entity);\n\n   EntityA toEntityA(Material material);\n\n   @Named(&quot;ObjectXYZ&quot;)\n   @Mapping(target = &quot;identification&quot;, source = &quot;identification&quot;)\n   ObjectXYZ toObjectXYZ(String identification);\n}\n</code></pre>\n<p>how can i map the <code>EntityA.id</code> to <code>ABC.identification.identification</code></p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1657666488,"post_id":72959116,"comment_id":128863956,"body_markdown":"You can certainly just use the diamond syntax on the RHS.","body":"You can certainly just use the diamond syntax on the RHS."},{"owner":{"account_id":14486057,"reputation":264,"user_id":10463949,"display_name":"rostIvan"},"score":0,"creation_date":1657666709,"post_id":72959116,"comment_id":128863999,"body_markdown":"@DavidConrad, I agree. But is there any sense to ever use &quot;new ArrayList&lt;IOException&gt;()&quot; or &quot;new ArrayList&lt;Exception&gt;()&quot; instead of diamond operator?","body":"@DavidConrad, I agree. But is there any sense to ever use &quot;new ArrayList&lt;IOException&gt;()&quot; or &quot;new ArrayList&lt;Exception&gt;()&quot; instead of diamond operator?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1657667088,"post_id":72959116,"comment_id":128864057,"body_markdown":"There&#39;s no difference. You can only write `null` to `list1` and read `Object` from `list2`.","body":"There&#39;s no difference. You can only write <code>null</code> to <code>list1</code> and read <code>Object</code> from <code>list2</code>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1657667724,"post_id":72959116,"comment_id":128864161,"body_markdown":"I can&#39;t see any reason to.","body":"I can&#39;t see any reason to."}],"owner":{"account_id":14486057,"reputation":264,"user_id":10463949,"display_name":"rostIvan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657665942,"creation_date":1657665942,"question_id":72959116,"body_markdown":"See code snippet below\r\n\r\n    List&lt;? extends Exception&gt; list1 = new ArrayList&lt;IOException&gt;();\r\n    List&lt;? super IOException&gt; list2 = new ArrayList&lt;Exception&gt;();\r\n\r\nIs there any real usecase to have `new ArrayList&lt;IOException&gt;()` and `new ArrayList&lt;Exception&gt;()` on the right side and how this could be helpful?","title":"Java Generics: Lower and Upper Bound wildcards usecase for different formal type parameter","body":"<p>See code snippet below</p>\n<pre><code>List&lt;? extends Exception&gt; list1 = new ArrayList&lt;IOException&gt;();\nList&lt;? super IOException&gt; list2 = new ArrayList&lt;Exception&gt;();\n</code></pre>\n<p>Is there any real usecase to have <code>new ArrayList&lt;IOException&gt;()</code> and <code>new ArrayList&lt;Exception&gt;()</code> on the right side and how this could be helpful?</p>\n"},{"tags":["java","sql","java-8","sql-server-2016","mssql-jdbc"],"comments":[{"owner":{"account_id":8932929,"reputation":16462,"user_id":6664872,"display_name":"cronoik"},"score":0,"creation_date":1555112013,"post_id":55660297,"comment_id":98009439,"body_markdown":"Welcome to Stackoverflow. Please add the code you have used to create the SQLServerBulkCopy object.","body":"Welcome to Stackoverflow. Please add the code you have used to create the SQLServerBulkCopy object."},{"owner":{"account_id":15734524,"reputation":21,"user_id":11353947,"display_name":"Nagesh Rachakonda"},"score":0,"creation_date":1555338066,"post_id":55660297,"comment_id":98065368,"body_markdown":"I used the standard call...\n\nEdited in the main post...","body":"I used the standard call...  Edited in the main post..."}],"answers":[{"tags":[],"owner":{"account_id":18773779,"reputation":41,"user_id":13690038,"display_name":"Lucas Pereira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657665040,"creation_date":1657665040,"answer_id":72959037,"question_id":55660297,"body_markdown":"I had a similar issue. Originally code would throw exception:\r\n\r\n```\r\n...\r\nConnection connection = Manager.getInstance().getConnection();\r\nSQLServerBulkCopy bulkCopy =  new SQLServerBulkCopy(connection);\r\n```\r\n\r\nChanged to fix\r\n\r\n```\r\nConnection connection = Manager.getInstance().getConnection().getMetaData().getConnection();\r\nSQLServerBulkCopy bulkCopy =  new SQLServerBulkCopy(connection);\r\n\r\n```\r\n\r\n","title":"Connection error while creating SQLServerBulkCopy object in java","body":"<p>I had a similar issue. Originally code would throw exception:</p>\n<pre><code>...\nConnection connection = Manager.getInstance().getConnection();\nSQLServerBulkCopy bulkCopy =  new SQLServerBulkCopy(connection);\n</code></pre>\n<p>Changed to fix</p>\n<pre><code>Connection connection = Manager.getInstance().getConnection().getMetaData().getConnection();\nSQLServerBulkCopy bulkCopy =  new SQLServerBulkCopy(connection);\n\n</code></pre>\n"}],"owner":{"account_id":15734524,"reputation":21,"user_id":11353947,"display_name":"Nagesh Rachakonda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":857,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1657665040,"creation_date":1555109047,"question_id":55660297,"body_markdown":"Receiving following error upon creating SQLServerBulkCopy object:\r\n```\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: Destination connection must be a connection from the Microsoft JDBC Driver for SQL Server.\r\n```\r\n\r\n - Using 2016 SQL Server;  \r\n - connecting using SQL Authentication;  \r\n - Using mssql-jdbc-6.4.0.jre8.jar and JRE 1.8 versions.\r\n\r\nThe connection was successful but the SQLServerBulkCopy object creation is failing. Not sure why the connection is not an instance of SQLServerConnection.\r\n\r\nCode used to create the connection and SQLServerBulkCopy object:\r\n\r\n```\r\n    \r\n    public static Connection getConnection() throws Exception\r\n    {\r\n    \tString connectionUrl = &quot;jdbc:sqlserver://&quot; + serverName + &quot;:1433;database=&quot; + databaseName\r\n    \t\t\t+ &quot;;user=xxxxxx;password=yyyyyyy&quot;;\r\n    \t\r\n    \tConnection connection = null;\r\n    \t\r\n    \ttry\r\n    \t{\r\n    \t\tDriverManager.registerDriver(new com.microsoft.sqlserver.jdbc.SQLServerDriver());\r\n    \t\tconnection = DriverManager.getConnection(connectionUrl);\r\n    \t}\r\n    \tcatch (Exception e)\r\n    \t{\r\n    \t\tthrow new ODSException(&quot;Unable to create connection to SQL Server.&quot;, e);\r\n    \t}\r\n    \t\r\n    \treturn connection;\r\n    }\r\n    \r\n    private void executeBCP() throws ODSException {\r\n    \t//Create a Connection and SQLServerBulkCopy objects\r\n    \ttry (Connection connection = JDBCUtil.getConnection();\r\n    \t\t\tSQLServerBulkCopy bulkCopy = new SQLServerBulkCopy(connection))\r\n    \t{\r\n    \t\tboolean prevAutoCommit = connection.getAutoCommit();\r\n    \t\tconnection.setAutoCommit(false);\r\n    \r\n    //further code...\r\n    \r\n    \t}\r\n    \tcatch (SQLException e)\r\n    \t{\r\n    \t\tbcpLogger.error(e);\r\n    \t\t\r\n    \t\tthrow new ODSException(&quot;Error bulk copying data to SQL Server.&quot;, e);\r\n    \t}\r\n\r\n```\r\n\r\nFrom SQLServerBulkCopy source code, I see the constructor has the following code:\r\n```\r\n    public SQLServerBulkCopy(Connection connection) throws SQLServerException {\r\n            loggerExternal.entering(loggerClassName, &quot;SQLServerBulkCopy&quot;, connection);\r\n            if (null == connection || !(connection instanceof SQLServerConnection)) {\r\n                SQLServerException.makeFromDriverError(null, null, SQLServerException.getErrString(&quot;R_invalidDestConnection&quot;), null, false);\r\n            }\r\n```\r\n\r\n\r\n","title":"Connection error while creating SQLServerBulkCopy object in java","body":"<p>Receiving following error upon creating SQLServerBulkCopy object:</p>\n\n<pre><code>com.microsoft.sqlserver.jdbc.SQLServerException: Destination connection must be a connection from the Microsoft JDBC Driver for SQL Server.\n</code></pre>\n\n<ul>\n<li>Using 2016 SQL Server;  </li>\n<li>connecting using SQL Authentication;  </li>\n<li>Using mssql-jdbc-6.4.0.jre8.jar and JRE 1.8 versions.</li>\n</ul>\n\n<p>The connection was successful but the SQLServerBulkCopy object creation is failing. Not sure why the connection is not an instance of SQLServerConnection.</p>\n\n<p>Code used to create the connection and SQLServerBulkCopy object:</p>\n\n<pre><code>\n    public static Connection getConnection() throws Exception\n    {\n        String connectionUrl = \"jdbc:sqlserver://\" + serverName + \":1433;database=\" + databaseName\n                + \";user=xxxxxx;password=yyyyyyy\";\n\n        Connection connection = null;\n\n        try\n        {\n            DriverManager.registerDriver(new com.microsoft.sqlserver.jdbc.SQLServerDriver());\n            connection = DriverManager.getConnection(connectionUrl);\n        }\n        catch (Exception e)\n        {\n            throw new ODSException(\"Unable to create connection to SQL Server.\", e);\n        }\n\n        return connection;\n    }\n\n    private void executeBCP() throws ODSException {\n        //Create a Connection and SQLServerBulkCopy objects\n        try (Connection connection = JDBCUtil.getConnection();\n                SQLServerBulkCopy bulkCopy = new SQLServerBulkCopy(connection))\n        {\n            boolean prevAutoCommit = connection.getAutoCommit();\n            connection.setAutoCommit(false);\n\n    //further code...\n\n        }\n        catch (SQLException e)\n        {\n            bcpLogger.error(e);\n\n            throw new ODSException(\"Error bulk copying data to SQL Server.\", e);\n        }\n\n</code></pre>\n\n<p>From SQLServerBulkCopy source code, I see the constructor has the following code:</p>\n\n<pre><code>    public SQLServerBulkCopy(Connection connection) throws SQLServerException {\n            loggerExternal.entering(loggerClassName, \"SQLServerBulkCopy\", connection);\n            if (null == connection || !(connection instanceof SQLServerConnection)) {\n                SQLServerException.makeFromDriverError(null, null, SQLServerException.getErrString(\"R_invalidDestConnection\"), null, false);\n            }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1657664924,"creation_date":1657664924,"answer_id":72959024,"question_id":72943493,"body_markdown":"The two cases you&#39;re looking for can be handled with a combination of `AuthenticationEntryPoint`s applied at different levels, one for the `BearerTokenAuthenticationFilter` and a second for the filter chain. For example:\r\n\r\n```java\r\n@Bean\r\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    http\r\n        .authorizeHttpRequests((authorize) -&gt; authorize\r\n            .anyRequest().authenticated()\r\n        )\r\n        .oauth2ResourceServer((oauth2) -&gt; oauth2\r\n            .jwt(Customizer.withDefaults())\r\n            .authenticationEntryPoint((request, response, exception) -&gt; {\r\n                System.out.println(&quot;Authentication failed&quot;);\r\n                BearerTokenAuthenticationEntryPoint delegate = new BearerTokenAuthenticationEntryPoint();\r\n                delegate.commence(request, response, exception);\r\n            })\r\n        )\r\n        .exceptionHandling((exceptions) -&gt; exceptions\r\n            .authenticationEntryPoint((request, response, exception) -&gt; {\r\n                System.out.println(&quot;Authentication is required&quot;);\r\n                BearerTokenAuthenticationEntryPoint delegate = new BearerTokenAuthenticationEntryPoint();\r\n                delegate.commence(request, response, exception);\r\n            })\r\n        );\r\n\r\n    return http.build();\r\n}\r\n```\r\n\r\nThe reason it works this way is that the `BearerTokenAuthenticationFilter` is not invoked when no bearer token is present. In that case, the entire filter chain is tried and no valid authentication is found. This would be the normal &quot;Authentication is required&quot; scenario for Spring Security.\r\n\r\nHowever, in the case of an present but invalid token, the `BearerTokenAuthenticationFilter` needs to validate the token to determine that it failed, and uses its own `AuthenticationFailureHandler` for this case. But the failure handler simply delegates to a specific `AuthenticationEntryPoint` by default, which is the one configured above for the &quot;Authentication failed&quot; case.\r\n\r\nIf you want to override the failure handler to do something else (though you may not have to after trying the above), you can do so with an `ObjectPostProcessor`. For example:\r\n\r\n```java\r\n@Bean\r\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    http\r\n        .oauth2ResourceServer((oauth2) -&gt; oauth2\r\n            .jwt(Customizer.withDefaults())\r\n            .withObjectPostProcessor(new ObjectPostProcessor&lt;BearerTokenAuthenticationFilter&gt;() {\r\n                @Override\r\n                public &lt;O extends BearerTokenAuthenticationFilter&gt; O postProcess(O filter) {\r\n                    filter.setAuthenticationFailureHandler((request, response, exception) -&gt; {\r\n                        System.out.println(&quot;Authentication failed (and is being handled in a custom way)&quot;);\r\n                        BearerTokenAuthenticationEntryPoint delegate = new BearerTokenAuthenticationEntryPoint();\r\n                        delegate.commence(request, response, exception);\r\n                    });\r\n                    return filter;\r\n                }\r\n            })\r\n        );\r\n\r\n    return http.build();\r\n}\r\n```","title":"How to set authentication failure handler on BearerTokenAuthenticationFilter?","body":"<p>The two cases you're looking for can be handled with a combination of <code>AuthenticationEntryPoint</code>s applied at different levels, one for the <code>BearerTokenAuthenticationFilter</code> and a second for the filter chain. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n        .authorizeHttpRequests((authorize) -&gt; authorize\n            .anyRequest().authenticated()\n        )\n        .oauth2ResourceServer((oauth2) -&gt; oauth2\n            .jwt(Customizer.withDefaults())\n            .authenticationEntryPoint((request, response, exception) -&gt; {\n                System.out.println(&quot;Authentication failed&quot;);\n                BearerTokenAuthenticationEntryPoint delegate = new BearerTokenAuthenticationEntryPoint();\n                delegate.commence(request, response, exception);\n            })\n        )\n        .exceptionHandling((exceptions) -&gt; exceptions\n            .authenticationEntryPoint((request, response, exception) -&gt; {\n                System.out.println(&quot;Authentication is required&quot;);\n                BearerTokenAuthenticationEntryPoint delegate = new BearerTokenAuthenticationEntryPoint();\n                delegate.commence(request, response, exception);\n            })\n        );\n\n    return http.build();\n}\n</code></pre>\n<p>The reason it works this way is that the <code>BearerTokenAuthenticationFilter</code> is not invoked when no bearer token is present. In that case, the entire filter chain is tried and no valid authentication is found. This would be the normal &quot;Authentication is required&quot; scenario for Spring Security.</p>\n<p>However, in the case of an present but invalid token, the <code>BearerTokenAuthenticationFilter</code> needs to validate the token to determine that it failed, and uses its own <code>AuthenticationFailureHandler</code> for this case. But the failure handler simply delegates to a specific <code>AuthenticationEntryPoint</code> by default, which is the one configured above for the &quot;Authentication failed&quot; case.</p>\n<p>If you want to override the failure handler to do something else (though you may not have to after trying the above), you can do so with an <code>ObjectPostProcessor</code>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n        .oauth2ResourceServer((oauth2) -&gt; oauth2\n            .jwt(Customizer.withDefaults())\n            .withObjectPostProcessor(new ObjectPostProcessor&lt;BearerTokenAuthenticationFilter&gt;() {\n                @Override\n                public &lt;O extends BearerTokenAuthenticationFilter&gt; O postProcess(O filter) {\n                    filter.setAuthenticationFailureHandler((request, response, exception) -&gt; {\n                        System.out.println(&quot;Authentication failed (and is being handled in a custom way)&quot;);\n                        BearerTokenAuthenticationEntryPoint delegate = new BearerTokenAuthenticationEntryPoint();\n                        delegate.commence(request, response, exception);\n                    });\n                    return filter;\n                }\n            })\n        );\n\n    return http.build();\n}\n</code></pre>\n"}],"owner":{"account_id":2939498,"reputation":3137,"user_id":2517719,"accept_rate":67,"display_name":"Floegipoky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3984,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72959024,"answer_count":1,"score":1,"last_activity_date":1657664924,"creation_date":1657566479,"question_id":72943493,"body_markdown":"I am able to create the filter chain with `http.oauth2ResourceServer().jwt()` and I&#39;ve also set `spring.security.oauth2.resourceserver.jwt.issuer-uri`. It is able to authenticate requests. However, I also need to do custom logging in the case of an authentication failure. The approach I&#39;m taking is to use a custom authentication entry point to handle when no bearer token is present, combined with a custom `BearerTokenAuthenticationFilter.authenticationFailureHandler` to handle an invalid token. I&#39;m open to other approaches to satisfy this goal.\r\n\r\nI am able to configure a custom authentication entry point to handle the case where no token is present:\r\n\r\n    // in WebSecurityConfigurerAdapter::configure\r\n    http\r\n        .exceptionHandling()\r\n        .authenticationEntryPoint((request, response, exception) -&gt; { /* ... */ });\r\n\r\nHowever I haven&#39;t found a way to access the BearerTokenAuthenticationFilter. The best I&#39;ve been able to come up with is to new up a second configured the way I want it, but this is not appealing to me because the server ends up doing extra work with every successfully authenticated request:\r\n\r\n    // in WebSecurityConfigurerAdapter::configure\r\n    var filter = new BearerTokenAuthenticationFilter(authenticationManagerBean());\r\n    filter.setAuthenticationFailureHandler(new JwtAuthenticationFailureHandler());\r\n    http.addFilterBefore(tokenAuth, BearerTokenAuthenticationFilter.class);\r\n    // my filter runs first\r\n\r\nSurely there is some way to set this property in the filter that spring security creates? Ideally it would be exposed by `OAuth2ResourceServerConfigurer`, but that only offers `accessDeniedHandler`.\r\n\r\nI&#39;ve tried accessing either the filter itself or the DefaultSecurityFilterChain as a bean, but they don&#39;t exist as beans in the application context. I found [this answer][1] which suggests configuring a bean in `spring-servlet.xml` and running it through a post processor. The idea of a BeanPostProcessor seems promising to me however I wasn&#39;t able to get it to work, because after modifying `spring-servlet.xml` as suggested the bean still doesn&#39;t exist. I can&#39;t use `getBean` to find it and it&#39;s not seen by the `BeanPostProcessor`:\r\n\r\n    &lt;http name=&quot;filterChain&quot;&gt;\r\n\r\n  [1]: https://stackoverflow.com/a/14244442/2517719","title":"How to set authentication failure handler on BearerTokenAuthenticationFilter?","body":"<p>I am able to create the filter chain with <code>http.oauth2ResourceServer().jwt()</code> and I've also set <code>spring.security.oauth2.resourceserver.jwt.issuer-uri</code>. It is able to authenticate requests. However, I also need to do custom logging in the case of an authentication failure. The approach I'm taking is to use a custom authentication entry point to handle when no bearer token is present, combined with a custom <code>BearerTokenAuthenticationFilter.authenticationFailureHandler</code> to handle an invalid token. I'm open to other approaches to satisfy this goal.</p>\n<p>I am able to configure a custom authentication entry point to handle the case where no token is present:</p>\n<pre><code>// in WebSecurityConfigurerAdapter::configure\nhttp\n    .exceptionHandling()\n    .authenticationEntryPoint((request, response, exception) -&gt; { /* ... */ });\n</code></pre>\n<p>However I haven't found a way to access the BearerTokenAuthenticationFilter. The best I've been able to come up with is to new up a second configured the way I want it, but this is not appealing to me because the server ends up doing extra work with every successfully authenticated request:</p>\n<pre><code>// in WebSecurityConfigurerAdapter::configure\nvar filter = new BearerTokenAuthenticationFilter(authenticationManagerBean());\nfilter.setAuthenticationFailureHandler(new JwtAuthenticationFailureHandler());\nhttp.addFilterBefore(tokenAuth, BearerTokenAuthenticationFilter.class);\n// my filter runs first\n</code></pre>\n<p>Surely there is some way to set this property in the filter that spring security creates? Ideally it would be exposed by <code>OAuth2ResourceServerConfigurer</code>, but that only offers <code>accessDeniedHandler</code>.</p>\n<p>I've tried accessing either the filter itself or the DefaultSecurityFilterChain as a bean, but they don't exist as beans in the application context. I found <a href=\"https://stackoverflow.com/a/14244442/2517719\">this answer</a> which suggests configuring a bean in <code>spring-servlet.xml</code> and running it through a post processor. The idea of a BeanPostProcessor seems promising to me however I wasn't able to get it to work, because after modifying <code>spring-servlet.xml</code> as suggested the bean still doesn't exist. I can't use <code>getBean</code> to find it and it's not seen by the <code>BeanPostProcessor</code>:</p>\n<pre><code>&lt;http name=&quot;filterChain&quot;&gt;\n</code></pre>\n"},{"tags":["java","java-11","localdatetime"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1657663933,"post_id":72958845,"comment_id":128863474,"body_markdown":"Start by converting to LocalTime, and just compare to 8am etc.  No need to create the special LocalDateTimes.","body":"Start by converting to LocalTime, and just compare to 8am etc.  No need to create the special LocalDateTimes."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657664439,"creation_date":1657664439,"answer_id":72958963,"question_id":72958845,"body_markdown":"How about a little helper to make the comparisons easier:\r\n\r\n    private static &lt;C extends Comparable&lt;? super C&gt;&gt; boolean isBetween(C value, C start, C end) {\r\n        return value.compareTo(start) &gt;= 0 &amp;&amp; value.compareTo(end) &lt; 0;\r\n    }\r\n    \r\n    static boolean duringWorkingHours(LocalDateTime dateTime) {\r\n        LocalTime time = dateTime.toLocalTime();\r\n    \r\n        switch (dateTime.getDayOfWeek()) {\r\n            case SUNDAY:\r\n                return false;\r\n            case SATURDAY:\r\n                return isBetween(time, LocalTime.parse(&quot;08:00&quot;), LocalTime.parse(&quot;14:00&quot;));\r\n            default:\r\n                return isBetween(time, LocalTime.parse(&quot;08:00&quot;), LocalTime.parse(&quot;12:30&quot;))\r\n                    || isBetween(time, LocalTime.parse(&quot;14:00&quot;), LocalTime.parse(&quot;18:00&quot;));\r\n        }\r\n    }","title":"Clean way to check if a LocalDateTime is in a given range (working hours of some business)","body":"<p>How about a little helper to make the comparisons easier:</p>\n<pre><code>private static &lt;C extends Comparable&lt;? super C&gt;&gt; boolean isBetween(C value, C start, C end) {\n    return value.compareTo(start) &gt;= 0 &amp;&amp; value.compareTo(end) &lt; 0;\n}\n\nstatic boolean duringWorkingHours(LocalDateTime dateTime) {\n    LocalTime time = dateTime.toLocalTime();\n\n    switch (dateTime.getDayOfWeek()) {\n        case SUNDAY:\n            return false;\n        case SATURDAY:\n            return isBetween(time, LocalTime.parse(&quot;08:00&quot;), LocalTime.parse(&quot;14:00&quot;));\n        default:\n            return isBetween(time, LocalTime.parse(&quot;08:00&quot;), LocalTime.parse(&quot;12:30&quot;))\n                || isBetween(time, LocalTime.parse(&quot;14:00&quot;), LocalTime.parse(&quot;18:00&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24515002,"reputation":179,"user_id":18428894,"display_name":"bbKing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72958963,"answer_count":1,"score":0,"last_activity_date":1657664439,"creation_date":1657663305,"question_id":72958845,"body_markdown":"I need to check if a given LocalDateTime is during the opening hours of a business, which are \r\n\r\nMonday - Friday, 8:00 - 12:30 and 14:00 - 18:00\r\n\r\nSaturday, 8:00 - 14:00\r\n\r\nI have the below method to do so, but I find it too cumbersome for such a simple requirement. Is there an eleganter way to make it cleaner and more readable? May be using some Java 8 lambda magic :-) ?\r\n\r\n    static boolean duringWorkingHours(LocalDateTime dateTime){\r\n        //MO - FR 08:00 - 12:30\r\n        //MO - FR 14:00 - 18:00\r\n        //SA      08:00 - 14:00\r\n\r\n        LocalDateTime morningStart   = dateTime.with(LocalTime.of(8,0));\r\n        LocalDateTime morningEnd     = dateTime.with(LocalTime.of(12,30));\r\n        LocalDateTime afternoonStart = dateTime.with(LocalTime.of(14,0));\r\n        LocalDateTime afternoonEnd   = dateTime.with(LocalTime.of(18,0));\r\n\r\n        LocalDateTime saturdayStart  = dateTime.with(LocalTime.of(8,0));\r\n        LocalDateTime saturdayEnd    = dateTime.with(LocalTime.of(14,0));\r\n\r\n        Set&lt;DayOfWeek&gt; weekDays      = Set.of(DayOfWeek.MONDAY, DayOfWeek.TUESDAY, DayOfWeek.WEDNESDAY, DayOfWeek.THURSDAY,DayOfWeek.FRIDAY);\r\n\r\n        boolean isWeekDay       = weekDays.contains(dateTime.getDayOfWeek());\r\n        boolean isSaturday      = dateTime.getDayOfWeek() == DayOfWeek.SATURDAY;\r\n\r\n        boolean isMorning       = (dateTime.isEqual(morningStart) || dateTime.isEqual(morningEnd))\r\n                || (dateTime.isAfter(morningStart) &amp;&amp; dateTime.isBefore(morningEnd));\r\n\r\n        boolean isAfternoon     = (dateTime.isEqual(afternoonStart) || dateTime.isEqual(afternoonEnd))\r\n                || (dateTime.isAfter(afternoonStart) &amp;&amp; dateTime.isBefore(afternoonEnd));\r\n\r\n        boolean isSaturdayRange = (dateTime.isEqual(saturdayStart) || dateTime.isEqual(saturdayEnd))\r\n                || (dateTime.isAfter(saturdayStart) &amp;&amp; dateTime.isBefore(saturdayEnd));\r\n\r\n        return (isWeekDay &amp;&amp; isMorning) || (isWeekDay &amp;&amp; isAfternoon) || (isSaturday &amp;&amp; isSaturdayRange);\r\n    }","title":"Clean way to check if a LocalDateTime is in a given range (working hours of some business)","body":"<p>I need to check if a given LocalDateTime is during the opening hours of a business, which are</p>\n<p>Monday - Friday, 8:00 - 12:30 and 14:00 - 18:00</p>\n<p>Saturday, 8:00 - 14:00</p>\n<p>I have the below method to do so, but I find it too cumbersome for such a simple requirement. Is there an eleganter way to make it cleaner and more readable? May be using some Java 8 lambda magic :-) ?</p>\n<pre><code>static boolean duringWorkingHours(LocalDateTime dateTime){\n    //MO - FR 08:00 - 12:30\n    //MO - FR 14:00 - 18:00\n    //SA      08:00 - 14:00\n\n    LocalDateTime morningStart   = dateTime.with(LocalTime.of(8,0));\n    LocalDateTime morningEnd     = dateTime.with(LocalTime.of(12,30));\n    LocalDateTime afternoonStart = dateTime.with(LocalTime.of(14,0));\n    LocalDateTime afternoonEnd   = dateTime.with(LocalTime.of(18,0));\n\n    LocalDateTime saturdayStart  = dateTime.with(LocalTime.of(8,0));\n    LocalDateTime saturdayEnd    = dateTime.with(LocalTime.of(14,0));\n\n    Set&lt;DayOfWeek&gt; weekDays      = Set.of(DayOfWeek.MONDAY, DayOfWeek.TUESDAY, DayOfWeek.WEDNESDAY, DayOfWeek.THURSDAY,DayOfWeek.FRIDAY);\n\n    boolean isWeekDay       = weekDays.contains(dateTime.getDayOfWeek());\n    boolean isSaturday      = dateTime.getDayOfWeek() == DayOfWeek.SATURDAY;\n\n    boolean isMorning       = (dateTime.isEqual(morningStart) || dateTime.isEqual(morningEnd))\n            || (dateTime.isAfter(morningStart) &amp;&amp; dateTime.isBefore(morningEnd));\n\n    boolean isAfternoon     = (dateTime.isEqual(afternoonStart) || dateTime.isEqual(afternoonEnd))\n            || (dateTime.isAfter(afternoonStart) &amp;&amp; dateTime.isBefore(afternoonEnd));\n\n    boolean isSaturdayRange = (dateTime.isEqual(saturdayStart) || dateTime.isEqual(saturdayEnd))\n            || (dateTime.isAfter(saturdayStart) &amp;&amp; dateTime.isBefore(saturdayEnd));\n\n    return (isWeekDay &amp;&amp; isMorning) || (isWeekDay &amp;&amp; isAfternoon) || (isSaturday &amp;&amp; isSaturdayRange);\n}\n</code></pre>\n"},{"tags":["java","json","mongodb"],"comments":[{"owner":{"account_id":181514,"reputation":9905,"user_id":415559,"accept_rate":73,"display_name":"barrypicker"},"score":0,"creation_date":1657661480,"post_id":72958497,"comment_id":128862901,"body_markdown":"Sorry, your end game is unclear.  Could you please provide a JSON example of what you want as the end result?","body":"Sorry, your end game is unclear.  Could you please provide a JSON example of what you want as the end result?"},{"owner":{"account_id":22262032,"reputation":29,"user_id":16493329,"display_name":"New CS Developer"},"score":0,"creation_date":1657662000,"post_id":72958497,"comment_id":128863016,"body_markdown":"@barrypicker I updated the question for better clarification with the JSON expected output","body":"@barrypicker I updated the question for better clarification with the JSON expected output"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1657688454,"post_id":72958497,"comment_id":128867162,"body_markdown":"You can use the `com.mongodb.client.model.Updates.pushEach` to add a `List&lt;Document&gt;` (array of players) to team document in an _update_ operation.","body":"You can use the <code>com.mongodb.client.model.Updates.pushEach</code> to add a <code>List&lt;Document&gt;</code> (array of players) to team document in an <i>update</i> operation."}],"answers":[{"tags":[],"owner":{"account_id":181514,"reputation":9905,"user_id":415559,"accept_rate":73,"display_name":"barrypicker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657663298,"creation_date":1657662941,"answer_id":72958801,"question_id":72958497,"body_markdown":"I think you want to update an existing record, right?  I mean, you have a teamCollection record but without any players, and you want to add players to an existing team&#39;s record, correct?  If so, how about this?\r\n\r\n**addTeamPlayer()**\r\n\r\n    public static Document addTeamPlayer() throws IOException {\r\n        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);\r\n        MongoDatabase db = mongoClient.getDatabase(&quot;teamDB&quot;);\r\n        MongoCollection&lt;Document&gt; col = db.getCollection(&quot;teamCollection&quot;);\r\n            \r\n        BufferedReader bfn = new BufferedReader(new InputStreamReader(System.in));\r\n            \r\n        Random rand = new Random();\r\n        int rand_int = rand.nextInt(25);\r\n    \r\n        System.out.println(&quot;Player name: &quot;);\r\n        String playerInput = bfn.readLine();\r\n            \r\n        System.out.println(&quot;Age: &quot;);\r\n        int ageInput = Integer.parseInt(bfn.readLine());\r\n            \r\n        System.out.println(&quot;Position: &quot;);\r\n        String positionInput = bfn.readLine();\r\n            \r\n        System.out.println(&quot;Ranking: &quot;);\r\n        int rankingInput = Integer.parseInt(bfn.readLine());\r\n            \r\n        Document playerDoc = new Document(&quot;player_id&quot;, Integer.toString(rand_int));\r\n        playerDoc.append(&quot;player_name&quot;, playerInput)\r\n            .append(&quot;age&quot;, ageInput)\r\n            .append(&quot;position&quot;, positionInput)\r\n            .append(&quot;ranking&quot;, rankingInput);\r\n            \r\n        org.bson.conversions.Bson filter = new org.bson.Document(); //com.mongodb.client.model.Filters.eq(&quot;_id&quot;, 1);\r\n\t\torg.bson.conversions.Bson update = com.mongodb.client.model.Updates.push(&quot;players&quot;, playerDoc);\r\n\r\n\t\tcom.mongodb.client.model.FindOneAndUpdateOptions options = new com.mongodb.client.model.FindOneAndUpdateOptions().returnDocument(com.mongodb.client.model.ReturnDocument.AFTER);\r\n\t\torg.bson.Document result = col.findOneAndUpdate(filter, update, options);\r\n\t\tSystem.out.println(result.toJson());\r\n            \r\n        return playerDoc;\r\n    }\r\n\r\n**Explanation**\r\n\r\nThe strategy is to use the `push` operator.  This is an array based operator.  It&#39;s use signifies the database should append to an array.\r\n\r\nIn my example the find filter is empty (simply a new document).  This will find and update any arbitrary record.  If you want to update a specific record you can add a filter to specify.  I have included (but commented out) the code to specify a filter.\r\n\r\nSee MongoDB documentation online at https://www.mongodb.com/docs/drivers/java/sync/current/fundamentals/crud/write-operations/embedded-arrays/\r\n\r\nI could imaging you have a parameter in the method `addTeamPlayer` that is the id of the record you wish to update.  If so, you could create a filter and find the specific team to append a player to.\r\n","title":"Java Program to add an array to an existing object in mongoDB","body":"<p>I think you want to update an existing record, right?  I mean, you have a teamCollection record but without any players, and you want to add players to an existing team's record, correct?  If so, how about this?</p>\n<p><strong>addTeamPlayer()</strong></p>\n<pre><code>public static Document addTeamPlayer() throws IOException {\n    MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);\n    MongoDatabase db = mongoClient.getDatabase(&quot;teamDB&quot;);\n    MongoCollection&lt;Document&gt; col = db.getCollection(&quot;teamCollection&quot;);\n        \n    BufferedReader bfn = new BufferedReader(new InputStreamReader(System.in));\n        \n    Random rand = new Random();\n    int rand_int = rand.nextInt(25);\n\n    System.out.println(&quot;Player name: &quot;);\n    String playerInput = bfn.readLine();\n        \n    System.out.println(&quot;Age: &quot;);\n    int ageInput = Integer.parseInt(bfn.readLine());\n        \n    System.out.println(&quot;Position: &quot;);\n    String positionInput = bfn.readLine();\n        \n    System.out.println(&quot;Ranking: &quot;);\n    int rankingInput = Integer.parseInt(bfn.readLine());\n        \n    Document playerDoc = new Document(&quot;player_id&quot;, Integer.toString(rand_int));\n    playerDoc.append(&quot;player_name&quot;, playerInput)\n        .append(&quot;age&quot;, ageInput)\n        .append(&quot;position&quot;, positionInput)\n        .append(&quot;ranking&quot;, rankingInput);\n        \n    org.bson.conversions.Bson filter = new org.bson.Document(); //com.mongodb.client.model.Filters.eq(&quot;_id&quot;, 1);\n    org.bson.conversions.Bson update = com.mongodb.client.model.Updates.push(&quot;players&quot;, playerDoc);\n\n    com.mongodb.client.model.FindOneAndUpdateOptions options = new com.mongodb.client.model.FindOneAndUpdateOptions().returnDocument(com.mongodb.client.model.ReturnDocument.AFTER);\n    org.bson.Document result = col.findOneAndUpdate(filter, update, options);\n    System.out.println(result.toJson());\n        \n    return playerDoc;\n}\n</code></pre>\n<p><strong>Explanation</strong></p>\n<p>The strategy is to use the <code>push</code> operator.  This is an array based operator.  It's use signifies the database should append to an array.</p>\n<p>In my example the find filter is empty (simply a new document).  This will find and update any arbitrary record.  If you want to update a specific record you can add a filter to specify.  I have included (but commented out) the code to specify a filter.</p>\n<p>See MongoDB documentation online at <a href=\"https://www.mongodb.com/docs/drivers/java/sync/current/fundamentals/crud/write-operations/embedded-arrays/\" rel=\"nofollow noreferrer\">https://www.mongodb.com/docs/drivers/java/sync/current/fundamentals/crud/write-operations/embedded-arrays/</a></p>\n<p>I could imaging you have a parameter in the method <code>addTeamPlayer</code> that is the id of the record you wish to update.  If so, you could create a filter and find the specific team to append a player to.</p>\n"}],"owner":{"account_id":22262032,"reputation":29,"user_id":16493329,"display_name":"New CS Developer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72958801,"answer_count":1,"score":0,"last_activity_date":1657663298,"creation_date":1657660687,"question_id":72958497,"body_markdown":"I am creating a program that allows a user to insert a team, the size of the team and player data. The code works, but not in the way that I want it to. I want the program to add an array of &quot;players&quot; and to add data to the database for each player in the array according to team size. So if a user inputs 2 team players, there are 2 objects in the array &quot;players&quot;. My program only records only one team player and I&#39;m not sure how to record all of the team players in an array for my database. My code is below: \r\n\r\n**addTeamPlayer()**\r\n```\r\npublic static Document addTeamPlayer() throws IOException {\r\n    MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);\r\n    MongoDatabase db = mongoClient.getDatabase(&quot;teamDB&quot;);\r\n    MongoCollection&lt;Document&gt; col = db.getCollection(&quot;teamCollection&quot;);\r\n    \t\r\n    BufferedReader bfn = new BufferedReader(new InputStreamReader(System.in));\r\n    \t\r\n    Random rand = new Random();\r\n    int rand_int = rand.nextInt(25);\r\n\r\n    System.out.println(&quot;Player name: &quot;);\r\n   \tString playerInput = bfn.readLine();\r\n    \t\r\n   \tSystem.out.println(&quot;Age: &quot;);\r\n   \tint ageInput = Integer.parseInt(bfn.readLine());\r\n    \t\r\n   \tSystem.out.println(&quot;Position: &quot;);\r\n   \tString positionInput = bfn.readLine();\r\n    \t\r\n   \tSystem.out.println(&quot;Ranking: &quot;);\r\n   \tint rankingInput = Integer.parseInt(bfn.readLine());\r\n    \t\r\n   \tDocument playerDoc = new Document(&quot;player_id&quot;, Integer.toString(rand_int));\r\n\tplayerDoc.append(&quot;player_name&quot;, playerInput)\r\n\t\t.append(&quot;age&quot;, ageInput)\r\n\t\t.append(&quot;position&quot;, positionInput)\r\n\t\t.append(&quot;ranking&quot;, rankingInput);\r\n    \t\r\n\t//col.insertOne(playerDoc);\r\n\t\t\r\n   \treturn playerDoc;\r\n}\r\n```\r\n**addTeam()**\r\n```\r\n    public static Document addTeam() throws IOException {\r\n    \t\r\n    \tMongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);\r\n    \tMongoDatabase db = mongoClient.getDatabase(&quot;teamDB&quot;);\r\n    \tMongoCollection&lt;Document&gt; col = db.getCollection(&quot;teamCollection&quot;);\r\n    \t\r\n    \tBufferedReader bfn = new BufferedReader(new InputStreamReader(System.in));\r\n    \t\r\n    \tRandom rand = new Random();\r\n    \tint rand_int = rand.nextInt(25);\r\n    \t\r\n    \tSystem.out.println(&quot;Team name: &quot;);\r\n    \tString teamInput = bfn.readLine();\r\n    \tSystem.out.println(&quot;How many players: &quot;);\r\n    \tint teamSize = Integer.parseInt(bfn.readLine());\r\n    \t\r\n    \tDocument teamDoc = new Document(&quot;_id&quot;, new ObjectId());\r\n    \tSystem.out.println(&quot;Team name: &quot;);\r\n\t\tteamDoc.append(&quot;team_id&quot;, Integer.toString(rand_int))\r\n\t\t\t.append(&quot;team_name&quot;, teamInput).toString();\r\n\t\t\r\n\t\tfor(int i = 1; i &lt;= teamSize; i++) {\r\n\t\t\tSystem.out.println(&quot;Player &quot; + i + &quot;--&quot;);\r\n\t\t\tteamDoc.append(&quot;players&quot;, addTeamPlayer());\r\n\t\t}\r\n\t\t\r\n\t\tcol.insertOne(teamDoc);\r\n\t\t\r\n\t\treturn teamDoc;\r\n    }\r\n```\r\n**JSON Expected Output**\r\n```\r\n{\r\n\t  &quot;_id&quot;: {\r\n\t    &quot;$oid&quot;: &quot;62cde01f3e99574b06e59d19&quot;\r\n\t  },\r\n\t  &quot;team_id&quot;: &quot;11&quot;,\r\n\t  &quot;team_name&quot;: &quot;Seahawks&quot;,\r\n\t  &quot;players&quot;: [\r\n\t    {\r\n\t    &quot;player_id&quot;: &quot;0&quot;,\r\n\t    &quot;player_name&quot;: &quot;Joe Brown&quot;,\r\n\t    &quot;age&quot;: 23,\r\n\t    &quot;position&quot;: &quot;Tight End&quot;,\r\n\t    &quot;ranking&quot;: 5\r\n\t    },\r\n\t    {\r\n\t\t&quot;player_id&quot;: &quot;0&quot;,\r\n\t\t&quot;player_name&quot;: &quot;Joe Brown&quot;,\r\n\t\t&quot;age&quot;: 23,\r\n\t\t&quot;position&quot;: &quot;Tight End&quot;,\r\n\t\t&quot;ranking&quot;: 5\r\n\t\t}\r\n\t  ]\r\n}\r\n```","title":"Java Program to add an array to an existing object in mongoDB","body":"<p>I am creating a program that allows a user to insert a team, the size of the team and player data. The code works, but not in the way that I want it to. I want the program to add an array of &quot;players&quot; and to add data to the database for each player in the array according to team size. So if a user inputs 2 team players, there are 2 objects in the array &quot;players&quot;. My program only records only one team player and I'm not sure how to record all of the team players in an array for my database. My code is below:</p>\n<p><strong>addTeamPlayer()</strong></p>\n<pre><code>public static Document addTeamPlayer() throws IOException {\n    MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);\n    MongoDatabase db = mongoClient.getDatabase(&quot;teamDB&quot;);\n    MongoCollection&lt;Document&gt; col = db.getCollection(&quot;teamCollection&quot;);\n        \n    BufferedReader bfn = new BufferedReader(new InputStreamReader(System.in));\n        \n    Random rand = new Random();\n    int rand_int = rand.nextInt(25);\n\n    System.out.println(&quot;Player name: &quot;);\n    String playerInput = bfn.readLine();\n        \n    System.out.println(&quot;Age: &quot;);\n    int ageInput = Integer.parseInt(bfn.readLine());\n        \n    System.out.println(&quot;Position: &quot;);\n    String positionInput = bfn.readLine();\n        \n    System.out.println(&quot;Ranking: &quot;);\n    int rankingInput = Integer.parseInt(bfn.readLine());\n        \n    Document playerDoc = new Document(&quot;player_id&quot;, Integer.toString(rand_int));\n    playerDoc.append(&quot;player_name&quot;, playerInput)\n        .append(&quot;age&quot;, ageInput)\n        .append(&quot;position&quot;, positionInput)\n        .append(&quot;ranking&quot;, rankingInput);\n        \n    //col.insertOne(playerDoc);\n        \n    return playerDoc;\n}\n</code></pre>\n<p><strong>addTeam()</strong></p>\n<pre><code>    public static Document addTeam() throws IOException {\n        \n        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);\n        MongoDatabase db = mongoClient.getDatabase(&quot;teamDB&quot;);\n        MongoCollection&lt;Document&gt; col = db.getCollection(&quot;teamCollection&quot;);\n        \n        BufferedReader bfn = new BufferedReader(new InputStreamReader(System.in));\n        \n        Random rand = new Random();\n        int rand_int = rand.nextInt(25);\n        \n        System.out.println(&quot;Team name: &quot;);\n        String teamInput = bfn.readLine();\n        System.out.println(&quot;How many players: &quot;);\n        int teamSize = Integer.parseInt(bfn.readLine());\n        \n        Document teamDoc = new Document(&quot;_id&quot;, new ObjectId());\n        System.out.println(&quot;Team name: &quot;);\n        teamDoc.append(&quot;team_id&quot;, Integer.toString(rand_int))\n            .append(&quot;team_name&quot;, teamInput).toString();\n        \n        for(int i = 1; i &lt;= teamSize; i++) {\n            System.out.println(&quot;Player &quot; + i + &quot;--&quot;);\n            teamDoc.append(&quot;players&quot;, addTeamPlayer());\n        }\n        \n        col.insertOne(teamDoc);\n        \n        return teamDoc;\n    }\n</code></pre>\n<p><strong>JSON Expected Output</strong></p>\n<pre><code>{\n      &quot;_id&quot;: {\n        &quot;$oid&quot;: &quot;62cde01f3e99574b06e59d19&quot;\n      },\n      &quot;team_id&quot;: &quot;11&quot;,\n      &quot;team_name&quot;: &quot;Seahawks&quot;,\n      &quot;players&quot;: [\n        {\n        &quot;player_id&quot;: &quot;0&quot;,\n        &quot;player_name&quot;: &quot;Joe Brown&quot;,\n        &quot;age&quot;: 23,\n        &quot;position&quot;: &quot;Tight End&quot;,\n        &quot;ranking&quot;: 5\n        },\n        {\n        &quot;player_id&quot;: &quot;0&quot;,\n        &quot;player_name&quot;: &quot;Joe Brown&quot;,\n        &quot;age&quot;: 23,\n        &quot;position&quot;: &quot;Tight End&quot;,\n        &quot;ranking&quot;: 5\n        }\n      ]\n}\n</code></pre>\n"},{"tags":["java","macos","maven","homebrew"],"answers":[{"tags":[],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1521979906,"creation_date":1521979906,"answer_id":49475685,"question_id":49298780,"body_markdown":"For this you have to enable the jenv maven plugin. From the [documentation](https://github.com/gcuisinier/jenv#plugins):\r\n\r\n&gt;Let&#39;s say you want Maven to use the JDK activated with Jenv, not the &gt;default JAVA_HOME configuration. You need to activate Jenv&#39;s maven plugin.\r\n\r\n    $ jenv enable-plugin maven\r\n    maven plugin activated\r\n\r\n&gt;Note: The enable-plugin functionality is system wide not local to the shell, or temporary - you only need to do each one once.","title":"java_home still pointing to the latest version of java after launching jenv","body":"<p>For this you have to enable the jenv maven plugin. From the <a href=\"https://github.com/gcuisinier/jenv#plugins\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>Let's say you want Maven to use the JDK activated with Jenv, not the >default JAVA_HOME configuration. You need to activate Jenv's maven plugin.</p>\n</blockquote>\n\n<pre><code>$ jenv enable-plugin maven\nmaven plugin activated\n</code></pre>\n\n<blockquote>\n  <p>Note: The enable-plugin functionality is system wide not local to the shell, or temporary - you only need to do each one once.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10882153,"reputation":128,"user_id":8000686,"display_name":"SanjoS30"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657663279,"creation_date":1657663279,"answer_id":72958842,"question_id":49298780,"body_markdown":"Make sure maven is not using this file to set JAVA_HOME\r\n\r\n~/.mavenrc\r\n\r\nIf so, delete it and make sure that java_home is set elsewhere (either using jenv or explicitly setting JAVA_HOME as per your need.","title":"java_home still pointing to the latest version of java after launching jenv","body":"<p>Make sure maven is not using this file to set JAVA_HOME</p>\n<p>~/.mavenrc</p>\n<p>If so, delete it and make sure that java_home is set elsewhere (either using jenv or explicitly setting JAVA_HOME as per your need.</p>\n"}],"owner":{"account_id":2522819,"reputation":2434,"user_id":2192829,"accept_rate":49,"display_name":"Bertuz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1178,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1657663279,"creation_date":1521114780,"question_id":49298780,"body_markdown":"I have installed several versions of the JDK with brew cask:\r\n\r\n    MacBook-Pro:bin myusername$ brew cask list\r\n    java                                                        java8                                                       soapui\r\n\r\nAnd set the default one to be java8:\r\n\r\n    MacBook-Pro:bin myusername$ jenv global\r\n    1.8.0.162\r\n\r\nbut when I lanuch maven it does not found `$JAVA_HOME` and fallbacks to using `java_home`:\r\n\r\n    MacBook-Pro:bin myusername$ /usr/libexec/java_home\r\n    /Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home\r\n\r\nThe maven script: \r\n\r\n    #!/bin/bash\r\n    JAVA_HOME=&quot;${JAVA_HOME:-$(/usr/libexec/java_home)}&quot; exec &quot;/usr/local/Cellar/maven@3.2/3.2.5/libexec/bin/mvn&quot; &quot;$@&quot;\r\n\r\nI could change the `mvn` script but if I can fix the `JAVA_HOME` issue it would be really much better. Any hints? ","title":"java_home still pointing to the latest version of java after launching jenv","body":"<p>I have installed several versions of the JDK with brew cask:</p>\n\n<pre><code>MacBook-Pro:bin myusername$ brew cask list\njava                                                        java8                                                       soapui\n</code></pre>\n\n<p>And set the default one to be java8:</p>\n\n<pre><code>MacBook-Pro:bin myusername$ jenv global\n1.8.0.162\n</code></pre>\n\n<p>but when I lanuch maven it does not found <code>$JAVA_HOME</code> and fallbacks to using <code>java_home</code>:</p>\n\n<pre><code>MacBook-Pro:bin myusername$ /usr/libexec/java_home\n/Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home\n</code></pre>\n\n<p>The maven script: </p>\n\n<pre><code>#!/bin/bash\nJAVA_HOME=\"${JAVA_HOME:-$(/usr/libexec/java_home)}\" exec \"/usr/local/Cellar/maven@3.2/3.2.5/libexec/bin/mvn\" \"$@\"\n</code></pre>\n\n<p>I could change the <code>mvn</code> script but if I can fix the <code>JAVA_HOME</code> issue it would be really much better. Any hints? </p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-sdk","aws-sdk-java-2.0"],"answers":[{"tags":[],"owner":{"account_id":8481338,"reputation":268,"user_id":6360955,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657661807,"creation_date":1657661807,"answer_id":72958643,"question_id":72957723,"body_markdown":"I am not aware of a multi-file upload mode in Amazon S3.\r\n\r\nAnother way is to **zip** the files and upload one big file, where you will benefit from multipart uploads. Then you let a **Lambda function**, triggered by the upload of a zip in your bucket, **unzip automatically** the files for you.\r\n\r\nFurther description of alternatives and a code example for the zip &amp; unzip strategy can be found [here][1]. \r\n\r\n\r\n  [1]: https://princekfrancis.medium.com/multiple-file-upload-into-amazon-s3-bucket-9888d51001bb","title":"Java AWS S3 SDK2 how to perform async bulk operations","body":"<p>I am not aware of a multi-file upload mode in Amazon S3.</p>\n<p>Another way is to <strong>zip</strong> the files and upload one big file, where you will benefit from multipart uploads. Then you let a <strong>Lambda function</strong>, triggered by the upload of a zip in your bucket, <strong>unzip automatically</strong> the files for you.</p>\n<p>Further description of alternatives and a code example for the zip &amp; unzip strategy can be found <a href=\"https://princekfrancis.medium.com/multiple-file-upload-into-amazon-s3-bucket-9888d51001bb\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657661833,"creation_date":1657661833,"answer_id":72958651,"question_id":72957723,"body_markdown":"You could use [`S3TransferManager`](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/transfer/s3/S3TransferManager.html) which is the implementation of [`TransferManager`](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/transfer/TransferManager.html) library [adjusted for AWS Java SDK v2](https://aws.amazon.com/blogs/developer/introducing-amazon-s3-transfer-manager-in-the-aws-sdk-for-java-2-x/). `S3TransferManager` provides bulk uploads by using multiple threads. \r\n\r\nKeep in mind that in case of S3 you are paying for each `PUT` request. Each file upload will constitute at least one PUT request. Even if you are using something like `uploadDirectory` from the `S3TransferManager`, you will still pay for after each file. ","title":"Java AWS S3 SDK2 how to perform async bulk operations","body":"<p>You could use <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/transfer/s3/S3TransferManager.html\" rel=\"nofollow noreferrer\"><code>S3TransferManager</code></a> which is the implementation of <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/transfer/TransferManager.html\" rel=\"nofollow noreferrer\"><code>TransferManager</code></a> library <a href=\"https://aws.amazon.com/blogs/developer/introducing-amazon-s3-transfer-manager-in-the-aws-sdk-for-java-2-x/\" rel=\"nofollow noreferrer\">adjusted for AWS Java SDK v2</a>. <code>S3TransferManager</code> provides bulk uploads by using multiple threads.</p>\n<p>Keep in mind that in case of S3 you are paying for each <code>PUT</code> request. Each file upload will constitute at least one PUT request. Even if you are using something like <code>uploadDirectory</code> from the <code>S3TransferManager</code>, you will still pay for after each file.</p>\n"}],"owner":{"account_id":10230140,"reputation":659,"user_id":7551211,"display_name":"user7551211"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1657661833,"creation_date":1657655787,"question_id":72957723,"body_markdown":"I&#39;d like to perform bulk operations within S3 asynchronously. For some reason, I could not find a way of doing that in the new SDK2 client built by AWS. I currently use the [S3AsyncClient][1]&#39;s `putObject` method for uploading files, but I&#39;d like to do that in batches for performance improvements. The same applies to downloading files. I&#39;ve read about multipart uploads but I did not understand if that&#39;s what I&#39;m looking for, since my files are relatively small and I don&#39;t need a multipart upload. I How can I perform a multi-file upload?\r\n\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3AsyncClient.html","title":"Java AWS S3 SDK2 how to perform async bulk operations","body":"<p>I'd like to perform bulk operations within S3 asynchronously. For some reason, I could not find a way of doing that in the new SDK2 client built by AWS. I currently use the <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3AsyncClient.html\" rel=\"nofollow noreferrer\">S3AsyncClient</a>'s <code>putObject</code> method for uploading files, but I'd like to do that in batches for performance improvements. The same applies to downloading files. I've read about multipart uploads but I did not understand if that's what I'm looking for, since my files are relatively small and I don't need a multipart upload. I How can I perform a multi-file upload?</p>\n"},{"tags":["java","encryption","public-key-encryption","java-security","ecdh"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1657675512,"post_id":72958635,"comment_id":128865329,"body_markdown":"ECDH is not an encryption algorithm. You can _combine_ it with a symmetric cipher, and that&#39;s what ECIES does, but SunEC (and other usual Sun./Oracle/OpenJDK providers) doesn&#39;t implement ECIES.","body":"ECDH is not an encryption algorithm. You can <i>combine</i> it with a symmetric cipher, and that&#39;s what ECIES does, but SunEC (and other usual Sun./Oracle/OpenJDK providers) doesn&#39;t implement ECIES."},{"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"score":0,"creation_date":1657676653,"post_id":72958635,"comment_id":128865491,"body_markdown":"Gotcha! thx :) What cipher would you recommend for encrypting and decrypting a string with EC?","body":"Gotcha! thx :) What cipher would you recommend for encrypting and decrypting a string with EC?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1657712389,"post_id":72958635,"comment_id":128874355,"body_markdown":"No, you&#39;d still use ECIES. ECIES is just basically DH with the public key of the receiver, and an ephemeral key pair for each message. You derive the secret key using normal DH key agreement, encrypt the message with it, *and attach the public key* with the encrypted message, and destroy the private key. The receiver can now perform the same DH key agreement which generates the same secret key, and decrypt. Key agreement and symmetric encryption both **are** part of the standard set of implemented algorithms. By the way, the `getInstance(&quot;EC&quot;, &quot;SunEC&quot;)` is better just as `getInstance(&quot;EC&quot;)`.","body":"No, you&#39;d still use ECIES. ECIES is just basically DH with the public key of the receiver, and an ephemeral key pair for each message. You derive the secret key using normal DH key agreement, encrypt the message with it, <i>and attach the public key</i> with the encrypted message, and destroy the private key. The receiver can now perform the same DH key agreement which generates the same secret key, and decrypt. Key agreement and symmetric encryption both <b>are</b> part of the standard set of implemented algorithms. By the way, the <code>getInstance(&quot;EC&quot;, &quot;SunEC&quot;)</code> is better just as <code>getInstance(&quot;EC&quot;)</code>."},{"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"score":0,"creation_date":1657759900,"post_id":72958635,"comment_id":128889517,"body_markdown":"@Maarten Bodewes Oh! Understood. I was originally using RSA, because for the purposes of this question, I was going to generate a public key (that remains static), and use it to encrypt logs incoming to my API, should there be an exception/attack. However, in the case that my database is breached, only I am able to recover the logs. I am not using symmetrical encryption, because, obviously it would require keeping the key on the server itself (which may be breached). I stopped using RSA due to how computationally intensive it is to encrypt, so I was wondering what is a much faster alternative?","body":"@Maarten Bodewes Oh! Understood. I was originally using RSA, because for the purposes of this question, I was going to generate a public key (that remains static), and use it to encrypt logs incoming to my API, should there be an exception/attack. However, in the case that my database is breached, only I am able to recover the logs. I am not using symmetrical encryption, because, obviously it would require keeping the key on the server itself (which may be breached). I stopped using RSA due to how computationally intensive it is to encrypt, so I was wondering what is a much faster alternative?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1657786165,"post_id":72958635,"comment_id":128894540,"body_markdown":"Not sure if that&#39;s going to work; RSA public key operations are relatively fast compared to other asymmetric primitives. It&#39;s the key generation that is very slow and unpredictable (finding primes) and private key operations are slow as well. But encryption just uses public keys, so it should be fast even compared to e.g. ECIES.","body":"Not sure if that&#39;s going to work; RSA public key operations are relatively fast compared to other asymmetric primitives. It&#39;s the key generation that is very slow and unpredictable (finding primes) and private key operations are slow as well. But encryption just uses public keys, so it should be fast even compared to e.g. ECIES."}],"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657661776,"creation_date":1657661776,"question_id":72958635,"body_markdown":"I am using this code to generate my private and public key (using Java), and I need to use it to encrypt and decrypt strings:\r\n\r\n    KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;EC&quot;, &quot;SunEC&quot;);\r\n    ECGenParameterSpec ecParameterSpec = new ECGenParameterSpec(&quot;secp256r1&quot;);\r\n    keyPairGenerator.initialize(ecParameterSpec);\r\n    KeyPair ecdhKeyPair = keyPairGenerator.genKeyPair();\r\n    PrivateKey privateKey = ecdhKeyPair.getPrivate();\r\n    PublicKey publicKey = ecdhKeyPair.getPublic();\r\n\r\nAssuming I have a string I want to encrypt and decrypt using the public key, how do I do that? I have been looking all around, and I cant seem to find the answer. Really, I am looking for the 2 functions that look like this:\r\n\r\n    public String encryptString(PublicKey publicKey, String stringToEncrypt){\r\n    }\r\n\r\nand \r\n\r\n    public String decryptString(PrivateKey privateKey, String stringToDecrypt){\r\n    }\r\n\r\nThanks guys!","title":"ECDH sunEC Encryption and Decryption for String Value","body":"<p>I am using this code to generate my private and public key (using Java), and I need to use it to encrypt and decrypt strings:</p>\n<pre><code>KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;EC&quot;, &quot;SunEC&quot;);\nECGenParameterSpec ecParameterSpec = new ECGenParameterSpec(&quot;secp256r1&quot;);\nkeyPairGenerator.initialize(ecParameterSpec);\nKeyPair ecdhKeyPair = keyPairGenerator.genKeyPair();\nPrivateKey privateKey = ecdhKeyPair.getPrivate();\nPublicKey publicKey = ecdhKeyPair.getPublic();\n</code></pre>\n<p>Assuming I have a string I want to encrypt and decrypt using the public key, how do I do that? I have been looking all around, and I cant seem to find the answer. Really, I am looking for the 2 functions that look like this:</p>\n<pre><code>public String encryptString(PublicKey publicKey, String stringToEncrypt){\n}\n</code></pre>\n<p>and</p>\n<pre><code>public String decryptString(PrivateKey privateKey, String stringToDecrypt){\n}\n</code></pre>\n<p>Thanks guys!</p>\n"},{"tags":["java","string","swap"],"comments":[{"owner":{"account_id":13062,"reputation":21722,"user_id":26039,"accept_rate":82,"display_name":"Eran"},"score":1,"creation_date":1377852728,"post_id":18528697,"comment_id":27249018,"body_markdown":"You do know that variables are just references, which could be optimized away by the compiler, right?","body":"You do know that variables are just references, which could be optimized away by the compiler, right?"},{"owner":{"account_id":271693,"reputation":7924,"user_id":562363,"accept_rate":59,"display_name":"Absurd-Mind"},"score":1,"creation_date":1377852790,"post_id":18528697,"comment_id":27249053,"body_markdown":"Why do you want to eliminate the third variable?","body":"Why do you want to eliminate the third variable?"},{"owner":{"account_id":263445,"reputation":7542,"user_id":549010,"accept_rate":65,"display_name":"Roger"},"score":1,"creation_date":1377852806,"post_id":18528697,"comment_id":27249060,"body_markdown":"concat with a &#39;special&#39; separator, then split again.","body":"concat with a &#39;special&#39; separator, then split again."},{"owner":{"account_id":2395376,"reputation":2753,"user_id":2094270,"accept_rate":44,"display_name":"Aashray"},"score":0,"creation_date":1377853008,"post_id":18528697,"comment_id":27249158,"body_markdown":"If you guys didn&#39;t notice, the variables are string.","body":"If you guys didn&#39;t notice, the variables are string."},{"owner":{"account_id":1634848,"reputation":4777,"user_id":1508629,"accept_rate":53,"display_name":"commit"},"score":0,"creation_date":1377853023,"post_id":18528697,"comment_id":27249169,"body_markdown":"Should appriciate this question as it is something about logic","body":"Should appriciate this question as it is something about logic"},{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1377862379,"post_id":18528697,"comment_id":27254347,"body_markdown":"Im struggling to see a point to this question, other than some weird thing he got asked in an interview...","body":"Im struggling to see a point to this question, other than some weird thing he got asked in an interview..."},{"owner":{"account_id":2282546,"reputation":399,"user_id":2007313,"accept_rate":0,"display_name":"ARJUN"},"score":0,"creation_date":1415275366,"post_id":18528697,"comment_id":42135750,"body_markdown":"Check this [Write a Program to Swap two variables or number](http://www.msccomputerscience.com/2013/01/swapping-using-temporary-or-third.html&quot;&gt;&lt;b&gt;Write). You can find almost all the methods of swapping.","body":"Check this <a href=\"http://www.msccomputerscience.com/2013/01/swapping-using-temporary-or-third.html&quot;&gt;&lt;b&gt;Write\" rel=\"nofollow noreferrer\">Write a Program to Swap two variables or number</a>. You can find almost all the methods of swapping."}],"answers":[{"tags":[],"owner":{"account_id":1634848,"reputation":4777,"user_id":1508629,"accept_rate":53,"display_name":"commit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473993876,"creation_date":1377853075,"answer_id":18528857,"question_id":18528697,"body_markdown":"Here you go. Try this:\r\n\r\n    String a = &quot;one&quot;;\r\n    String b = &quot;two&quot;;\r\n    //String temp=null;\r\n    int i = a.length();\r\n    a += b;\r\n    b = a.substring(0, i);\r\n    a = a.substring(i, a.length());\r\n    System.out.println(a + &quot; &quot; + b);\r\n\r\nTake any value in as string in a variable. It will be swap.\r\n","title":"How to swap two string variables in Java without using a third variable","body":"<p>Here you go. Try this:</p>\n\n<pre><code>String a = \"one\";\nString b = \"two\";\n//String temp=null;\nint i = a.length();\na += b;\nb = a.substring(0, i);\na = a.substring(i, a.length());\nSystem.out.println(a + \" \" + b);\n</code></pre>\n\n<p>Take any value in as string in a variable. It will be swap.</p>\n"},{"tags":[],"owner":{"account_id":2153533,"reputation":773,"user_id":1909242,"accept_rate":100,"display_name":"Jj Tuibeo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1473994291,"creation_date":1377853088,"answer_id":18528861,"question_id":18528697,"body_markdown":"For strings:\r\n\r\n    String a = &quot;one&quot;\r\n    String b = &quot;two&quot;\r\n\r\n    a = a + b;\r\n    b = a.replace(b, &quot;&quot;);\r\n    a = a.replace(b, &quot;&quot;);\r\n","title":"How to swap two string variables in Java without using a third variable","body":"<p>For strings:</p>\n\n<pre><code>String a = \"one\"\nString b = \"two\"\n\na = a + b;\nb = a.replace(b, \"\");\na = a.replace(b, \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1306560,"reputation":6829,"user_id":1255453,"accept_rate":68,"display_name":"Husman"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1473993952,"creation_date":1377853246,"answer_id":18528910,"question_id":18528697,"body_markdown":"    String a=&quot;one&quot;;\r\n    String b=&quot;two&quot;;\r\n    \r\n    a = a.concat(&quot;#&quot; + b);\r\n    b = a.split(&quot;#&quot;)[0];\r\n    a = a.split(&quot;#&quot;)[1];\r\n\r\nThis will work as long as your string doesn&#39;t contain the # character in them. Feel free to use any other character instead.\r\n \r\nYou could use a possible Unicode character, like &quot;\\u001E&quot; instead of the #.\r\n","title":"How to swap two string variables in Java without using a third variable","body":"<pre><code>String a=\"one\";\nString b=\"two\";\n\na = a.concat(\"#\" + b);\nb = a.split(\"#\")[0];\na = a.split(\"#\")[1];\n</code></pre>\n\n<p>This will work as long as your string doesn't contain the # character in them. Feel free to use any other character instead.</p>\n\n<p>You could use a possible Unicode character, like \"\\u001E\" instead of the #.</p>\n"},{"tags":[],"owner":{"account_id":2401660,"reputation":7686,"user_id":2099208,"display_name":"Ankur Lathi"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1473994002,"creation_date":1377853284,"answer_id":18528928,"question_id":18528697,"body_markdown":"Do it like this without using a third variable:\r\n\r\n    String a = &quot;one&quot;;\r\n    String b = &quot;two&quot;;\r\n\r\n    a = a + b;\r\n    b = a.substring(0, (a.length() - b.length()));\r\n    a = a.substring(b.length());\r\n\r\n    System.out.println(&quot;a = &quot; + a);\r\n    System.out.println(&quot;b = &quot; + b);\r\n","title":"How to swap two string variables in Java without using a third variable","body":"<p>Do it like this without using a third variable:</p>\n\n<pre><code>String a = \"one\";\nString b = \"two\";\n\na = a + b;\nb = a.substring(0, (a.length() - b.length()));\na = a.substring(b.length());\n\nSystem.out.println(\"a = \" + a);\nSystem.out.println(\"b = \" + b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2799653,"reputation":568,"user_id":2408112,"accept_rate":50,"display_name":"Praveen P Moolekandathil"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1473994056,"creation_date":1377853288,"answer_id":18528930,"question_id":18528697,"body_markdown":"The simplest way is given below:\r\n\r\n    String a = &quot;one&quot;;\r\n    String b = &quot;two&quot;;\r\n    System.out.println(&quot;Before swap: &quot; a + &quot; &quot; + b);\r\n    int len = a.length();\r\n    a = a + b;\r\n    b = a.substring(0, len);\r\n    a = a.substring(len);\r\n    System.out.println(&quot;After swap: &quot; a + &quot; &quot; + b);\r\n","title":"How to swap two string variables in Java without using a third variable","body":"<p>The simplest way is given below:</p>\n\n<pre><code>String a = \"one\";\nString b = \"two\";\nSystem.out.println(\"Before swap: \" a + \" \" + b);\nint len = a.length();\na = a + b;\nb = a.substring(0, len);\na = a.substring(len);\nSystem.out.println(\"After swap: \" a + \" \" + b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":188605,"reputation":5059,"user_id":427413,"accept_rate":71,"display_name":"marcus"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1380575274,"creation_date":1380575274,"answer_id":19103860,"question_id":18528697,"body_markdown":"// taken from this answer: https://stackoverflow.com/a/16826296/427413\r\n\r\n    String returnFirst(String x, String y) {\r\n        return x;\r\n    }\r\n\r\n    String a = &quot;one&quot;\r\n    String b = &quot;two&quot;\r\n    a = returnFirst(b, b = a); // If this is confusing try reading as a=b; b=a;\r\n\r\nThis works because the Java language guarantees (Java Language Specification, Java SE 7 Edition, section 15.12.4.2) that all arguments are evaluated from left to right (unlike some other languages, where the order of evaluation is undefined), so the execution order is:\r\n\r\n 1. The original value of `b` is evaluated in order to be passed as the first argument to the function\r\n 2. The expression `b = a` is evaluated, and the result (the new value of `b`) is passed as the second argument to the function\r\n 3. The function executes, returning the original value of `b` and ignoring its new value\r\n 4. You assing the result to `a`\r\n 5. Now the values have been swapped and you didn&#39;t need to declare `temp`. The parameter `x` works as `temp`, but it looks cleaner because you define the function once and you can use it everywhere.","title":"How to swap two string variables in Java without using a third variable","body":"<p>// taken from this answer: <a href=\"https://stackoverflow.com/a/16826296/427413\">https://stackoverflow.com/a/16826296/427413</a></p>\n\n<pre><code>String returnFirst(String x, String y) {\n    return x;\n}\n\nString a = \"one\"\nString b = \"two\"\na = returnFirst(b, b = a); // If this is confusing try reading as a=b; b=a;\n</code></pre>\n\n<p>This works because the Java language guarantees (Java Language Specification, Java SE 7 Edition, section 15.12.4.2) that all arguments are evaluated from left to right (unlike some other languages, where the order of evaluation is undefined), so the execution order is:</p>\n\n<ol>\n<li>The original value of <code>b</code> is evaluated in order to be passed as the first argument to the function</li>\n<li>The expression <code>b = a</code> is evaluated, and the result (the new value of <code>b</code>) is passed as the second argument to the function</li>\n<li>The function executes, returning the original value of <code>b</code> and ignoring its new value</li>\n<li>You assing the result to <code>a</code></li>\n<li>Now the values have been swapped and you didn't need to declare <code>temp</code>. The parameter <code>x</code> works as <code>temp</code>, but it looks cleaner because you define the function once and you can use it everywhere.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4627850,"reputation":43,"user_id":3751118,"display_name":"Couchcamote"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1403072601,"creation_date":1403071364,"answer_id":24278096,"question_id":18528697,"body_markdown":"    public class SwapStringVariable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tString a = &quot;test&quot;;\r\n    \t\tString b = &quot;paper&quot;;\r\n    \t\t\r\n    \t\ta = a + b;\r\n    \t\tb = a.substring(0, a.length()  - b.length());\r\n    \t\ta = a.substring(b.length(), a.length());\r\n    \t\t\t\t\r\n    \t\tSystem.out.println(a + &quot; &quot; + b);\r\n    \t\t\t\t\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to swap two string variables in Java without using a third variable","body":"<pre><code>public class SwapStringVariable {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        String a = \"test\";\n        String b = \"paper\";\n\n        a = a + b;\n        b = a.substring(0, a.length()  - b.length());\n        a = a.substring(b.length(), a.length());\n\n        System.out.println(a + \" \" + b);\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3037926,"reputation":133,"user_id":2575575,"display_name":"armysheng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473994233,"creation_date":1412146577,"answer_id":26135717,"question_id":18528697,"body_markdown":" - Actually, the code in your question did not swap String a,b.\r\n\r\n   You should see this issue:\r\n   *https://stackoverflow.com/questions/3698323/swap-two-strings-in-java-by-passing-them-to-a-utility-function-but-without-ret*\r\n\r\n - And Java is passing by value:\r\n   *https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value*\r\n","title":"How to swap two string variables in Java without using a third variable","body":"<ul>\n<li><p>Actually, the code in your question did not swap String a,b.</p>\n\n<p>You should see this issue:\n<em><a href=\"https://stackoverflow.com/questions/3698323/swap-two-strings-in-java-by-passing-them-to-a-utility-function-but-without-ret\">Swap two strings in Java, by passing them to a utility function, but without returning objects or using wrapper classes</a></em></p></li>\n<li><p>And Java is passing by value:\n<em><a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a></em></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3241989,"reputation":165,"user_id":2734752,"display_name":"troy"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1473994367,"creation_date":1443296900,"answer_id":32801314,"question_id":18528697,"body_markdown":"[Jj Tuibeo&#39;s solution][1] works if you add replaceFirst() and use a [regular expression][2]:\r\n\r\n    a += b;\r\n    b = a.replaceFirst(b + &quot;$&quot;, &quot;&quot;);\r\n    a = a.replaceFirst(&quot;^&quot; + b, &quot;&quot;);\r\n\r\n  [1]: https://stackoverflow.com/questions/18528697/how-to-swap-two-string-variables-in-java-without-using-a-third-variable/18528861#18528861\r\n  [2]: http://en.wikipedia.org/wiki/Regular_expression\r\n","title":"How to swap two string variables in Java without using a third variable","body":"<p><a href=\"https://stackoverflow.com/questions/18528697/how-to-swap-two-string-variables-in-java-without-using-a-third-variable/18528861#18528861\">Jj Tuibeo's solution</a> works if you add replaceFirst() and use a <a href=\"http://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">regular expression</a>:</p>\n\n<pre><code>a += b;\nb = a.replaceFirst(b + \"$\", \"\");\na = a.replaceFirst(\"^\" + b, \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2171374,"reputation":21,"user_id":1923270,"display_name":"Nirav Dhinoja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453900950,"creation_date":1453900950,"answer_id":35038578,"question_id":18528697,"body_markdown":"    String str1 = &quot;first&quot;;\r\n    String str2 = &quot;second&quot;;\r\n    \r\n    str1 = str2+str1;\r\n    str2 = str1.substring(str2.length(),str1.length());\r\n    str1 = str1.substring(0,(str1.length() - str2.length()));\r\n    \r\n    System.out.println(str1);\r\n    System.out.println(str2);\r\n\r\n","title":"How to swap two string variables in Java without using a third variable","body":"<pre><code>String str1 = \"first\";\nString str2 = \"second\";\n\nstr1 = str2+str1;\nstr2 = str1.substring(str2.length(),str1.length());\nstr1 = str1.substring(0,(str1.length() - str2.length()));\n\nSystem.out.println(str1);\nSystem.out.println(str2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4710787,"reputation":1246,"user_id":3811345,"accept_rate":75,"display_name":"Krishnamoorthy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496989913,"creation_date":1496989913,"answer_id":44450803,"question_id":18528697,"body_markdown":"For String\r\nMethod 1:\r\n\r\n    public class SwapWithoutThirdVar{  \r\n    public static void main (String args[]){    \r\n     String s1 =&quot;one&quot;;\r\n     String s2 =&quot;two&quot;;\r\n     s1= s1+s2;\r\n     s2 = s1.substring(0,(s1.length()-s2.length()));\r\n     s1 = s1.substring(s2.length()); \r\n     System.out.println(&quot;s1 == &quot;+ s1);\r\n     System.out.println(&quot;s2 == &quot;+ s2);\r\n\r\n    }\r\n    }\r\n\r\nMethod 2:\r\n\r\n    public class SwapWithoutThirdVar\r\n    {\r\n    public static void main (String[] args) throws java.lang.Exception\r\n     {\r\n     String s1 = &quot;one&quot;;            \r\n     String s2 =&quot;two&quot;;          \r\n     s1=s2+s1;\r\n     s2=s1.replace(s2,&quot;&quot;);\r\n     s1=s1.replace(s2,&quot;&quot;);         \r\n     System.out.println(&quot;S1 : &quot;+s1); \r\n     System.out.println(&quot;S2 : &quot;+s2);\r\n      }\r\n    }\r\n\r\n\r\n\r\nFor Integers\r\n\r\npublic class SwapWithoutThirdVar {\r\n \r\n    public static void main(String a[]){\r\n        int x = 10;\r\n        int y = 20;       \r\n        x = x+y;\r\n        y=x-y;\r\n        x=x-y;\r\n        System.out.println(&quot;After swap:&quot;);\r\n        System.out.println(&quot;x value: &quot;+x);\r\n        System.out.println(&quot;y value: &quot;+y);\r\n    }\r\n    }\r\n\r\n","title":"How to swap two string variables in Java without using a third variable","body":"<p>For String\nMethod 1:</p>\n\n<pre><code>public class SwapWithoutThirdVar{  \npublic static void main (String args[]){    \n String s1 =\"one\";\n String s2 =\"two\";\n s1= s1+s2;\n s2 = s1.substring(0,(s1.length()-s2.length()));\n s1 = s1.substring(s2.length()); \n System.out.println(\"s1 == \"+ s1);\n System.out.println(\"s2 == \"+ s2);\n\n}\n}\n</code></pre>\n\n<p>Method 2:</p>\n\n<pre><code>public class SwapWithoutThirdVar\n{\npublic static void main (String[] args) throws java.lang.Exception\n {\n String s1 = \"one\";            \n String s2 =\"two\";          \n s1=s2+s1;\n s2=s1.replace(s2,\"\");\n s1=s1.replace(s2,\"\");         \n System.out.println(\"S1 : \"+s1); \n System.out.println(\"S2 : \"+s2);\n  }\n}\n</code></pre>\n\n<p>For Integers</p>\n\n<p>public class SwapWithoutThirdVar {</p>\n\n<pre><code>public static void main(String a[]){\n    int x = 10;\n    int y = 20;       \n    x = x+y;\n    y=x-y;\n    x=x-y;\n    System.out.println(\"After swap:\");\n    System.out.println(\"x value: \"+x);\n    System.out.println(\"y value: \"+y);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12041724,"reputation":7,"user_id":8808433,"display_name":"sandeep kumar sahoo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1519479743,"creation_date":1519474176,"answer_id":48962701,"question_id":18528697,"body_markdown":"    public class ex{\r\n        public static void main(String[] args){\r\n            \r\n            String s1=&quot;abc&quot;;\r\n            String s2=&quot;def&quot;;\r\n            \r\n            System.out.println(s1);\r\n            System.out.println(s2);\r\n            \r\n            s3=s2.replaceAll(s1,s2=s1);\r\n            \r\n            System.out.println(s1);\r\n            System.out.println(s2);\r\n            \r\n        }\r\n    }","title":"How to swap two string variables in Java without using a third variable","body":"<pre><code>public class ex{\n    public static void main(String[] args){\n\n        String s1=\"abc\";\n        String s2=\"def\";\n\n        System.out.println(s1);\n        System.out.println(s2);\n\n        s3=s2.replaceAll(s1,s2=s1);\n\n        System.out.println(s1);\n        System.out.println(s2);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4281721,"reputation":1308,"user_id":3500874,"accept_rate":40,"display_name":"Aishu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521787809,"creation_date":1521787809,"answer_id":49443944,"question_id":18528697,"body_markdown":"You can do in this way.\r\n\r\n\t\r\n\r\n    public static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\tString a = &quot;one&quot;;\r\n    \t\tString b = &quot;two&quot;;\r\n    \t\t\r\n    \t\tSystem.out.println(a);\r\n    \t\tSystem.out.println(b);\r\n    \t\t\r\n    \t\ta = a+b;\r\n    \t\tb = &quot;&quot;;\r\n\r\n    \t\tSystem.out.println(&quot;*************&quot;);\r\n    \t\t b = a.substring(0, 3);\r\n    \t\t a = a.substring(3, 6);\r\n    \t\t \r\n    \t\t System.out.println(a);\r\n    \t\t System.out.println(b);\r\n    \r\n    \t}","title":"How to swap two string variables in Java without using a third variable","body":"<p>You can do in this way.</p>\n\n<pre><code>public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        String a = \"one\";\n        String b = \"two\";\n\n        System.out.println(a);\n        System.out.println(b);\n\n        a = a+b;\n        b = \"\";\n\n        System.out.println(\"*************\");\n         b = a.substring(0, 3);\n         a = a.substring(3, 6);\n\n         System.out.println(a);\n         System.out.println(b);\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13356487,"reputation":1,"user_id":9639834,"display_name":"Aaftab Alam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523600059,"creation_date":1523600059,"answer_id":49810402,"question_id":18528697,"body_markdown":"package com.core;\r\n\r\npublic class SwappingNoTemp {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString a = &quot;java&quot;;\r\n\t\tString b = &quot;c&quot;;\r\n\r\n\t\ta = a + b;\r\n\r\n\t\tb = a.substring(0, a.length() - b.length());\r\n\t\ta = a.substring(b.length());\r\n\r\n\t\tSystem.out.println(&quot;swapping is a..&quot; + a);\r\n\t\tSystem.out.println(&quot;swapping  is b..&quot; + b);\r\n\r\n\t}\r\n\r\n}\r\n","title":"How to swap two string variables in Java without using a third variable","body":"<p>package com.core;</p>\n\n<p>public class SwappingNoTemp {</p>\n\n<pre><code>public static void main(String[] args) {\n\n    String a = \"java\";\n    String b = \"c\";\n\n    a = a + b;\n\n    b = a.substring(0, a.length() - b.length());\n    a = a.substring(b.length());\n\n    System.out.println(\"swapping is a..\" + a);\n    System.out.println(\"swapping  is b..\" + b);\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":8533629,"reputation":29,"user_id":6396276,"display_name":"Rahul Pyasi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526473874,"creation_date":1526473874,"answer_id":50371033,"question_id":18528697,"body_markdown":"    String name = &quot;george&quot;;\r\n    String name2 = &quot;mark&quot;;\r\n    System.out.println(name+&quot; &quot;+name2);\r\n    System.out.println(name.substring(name.length()) + name2 +  &quot; &quot;+ name );\r\n     \r\n\r\nHere substring(); method returns empty string. hence , names can be appended. \r\n","title":"How to swap two string variables in Java without using a third variable","body":"<pre><code>String name = \"george\";\nString name2 = \"mark\";\nSystem.out.println(name+\" \"+name2);\nSystem.out.println(name.substring(name.length()) + name2 +  \" \"+ name );\n</code></pre>\n\n<p>Here substring(); method returns empty string. hence , names can be appended. </p>\n"},{"tags":[],"owner":{"account_id":12369307,"reputation":9,"user_id":9020146,"display_name":"Inderjeet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565981416,"creation_date":1565980979,"answer_id":57529636,"question_id":18528697,"body_markdown":" \r\n\r\n    String a = &quot;one&quot;;//creates &quot;one&quot; object on heap\r\n    String b = &quot;two&quot;;// creates &quot;two&quot; object on heap\r\n    System.out.printf(&quot;a is %s , b is %s%n&quot;,a,b);\r\n    a = &quot;two&quot;;// will not create new &quot;two&quot; object &amp; now a is pointing to &quot;two&quot; object\r\n    b = &quot;one&quot;;// will not create new &quot;one&quot; object &amp; now b is pointing to &quot;one&quot; object\r\n    System.out.printf(&quot;a is %s , b is %s%n&quot;,a,b);","title":"How to swap two string variables in Java without using a third variable","body":"<pre><code>String a = \"one\";//creates \"one\" object on heap\nString b = \"two\";// creates \"two\" object on heap\nSystem.out.printf(\"a is %s , b is %s%n\",a,b);\na = \"two\";// will not create new \"two\" object &amp; now a is pointing to \"two\" object\nb = \"one\";// will not create new \"one\" object &amp; now b is pointing to \"one\" object\nSystem.out.printf(\"a is %s , b is %s%n\",a,b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15275609,"reputation":1,"user_id":11021425,"display_name":"Mahek Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588891251,"creation_date":1588864490,"answer_id":61661343,"question_id":18528697,"body_markdown":" You can also do this by using a temp variable but in a different way:\r\n\r\n    String a = &quot;one&quot;\r\n    String b = &quot;two&quot;\r\n    String temp = null;\r\n    \r\n    temp=a.concat(b);\r\n    b=temp.substring(0,a.length());\r\n    a=temp.substring(a.length(),temp.length());\r\n\r\n    System.out.println(&quot;After Swapping A:&quot;+a+&quot;B:&quot;+b);","title":"How to swap two string variables in Java without using a third variable","body":"<p>You can also do this by using a temp variable but in a different way:</p>\n\n<pre><code>String a = \"one\"\nString b = \"two\"\nString temp = null;\n\ntemp=a.concat(b);\nb=temp.substring(0,a.length());\na=temp.substring(a.length(),temp.length());\n\nSystem.out.println(\"After Swapping A:\"+a+\"B:\"+b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19639296,"reputation":1,"user_id":14375811,"display_name":"munchkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601577608,"creation_date":1601577608,"answer_id":64161413,"question_id":18528697,"body_markdown":"I&#39;d just like to point out, just in case anyone looks through this thread. There is no way of swapping two strings without using a third variable. In the java examples, since strings are immutable, a=a+b creates a third string, and doesn&#39;t reassign a. Doing the reverseString, creates a new variable, but this time on the stack frame as the program goes into a new scope. The use of Xor swapping might work, but Strings are immutable in java, and so xor swaps will also create a temporary variable. So in fact, unless the language enables you to reassign to the same memory space, it isn&#39;t possible to swap strings without creating new variables.","title":"How to swap two string variables in Java without using a third variable","body":"<p>I'd just like to point out, just in case anyone looks through this thread. There is no way of swapping two strings without using a third variable. In the java examples, since strings are immutable, a=a+b creates a third string, and doesn't reassign a. Doing the reverseString, creates a new variable, but this time on the stack frame as the program goes into a new scope. The use of Xor swapping might work, but Strings are immutable in java, and so xor swaps will also create a temporary variable. So in fact, unless the language enables you to reassign to the same memory space, it isn't possible to swap strings without creating new variables.</p>\n"},{"tags":[],"owner":{"account_id":12882612,"reputation":1,"user_id":9317186,"display_name":"Ralf Scholl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657661619,"creation_date":1657661619,"answer_id":72958614,"question_id":18528697,"body_markdown":"Swap with a multidimension assignment:\r\n\r\n    var a = &quot;one&quot;;\r\n    var b = &quot;two&quot;;\r\n    console.log(&quot;a =&quot;,a);\r\n    console.log(&quot;b =&quot;,b);\r\n    a = [b, b = a][0];\r\n    console.log(&quot;after swap a =&quot;,a);\r\n    console.log(&quot;after swap b =&quot;,b);","title":"How to swap two string variables in Java without using a third variable","body":"<p>Swap with a multidimension assignment:</p>\n<pre><code>var a = &quot;one&quot;;\nvar b = &quot;two&quot;;\nconsole.log(&quot;a =&quot;,a);\nconsole.log(&quot;b =&quot;,b);\na = [b, b = a][0];\nconsole.log(&quot;after swap a =&quot;,a);\nconsole.log(&quot;after swap b =&quot;,b);\n</code></pre>\n"}],"owner":{"account_id":1338923,"reputation":1513,"user_id":1281029,"accept_rate":65,"display_name":"user1281029"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61983,"favorite_count":0,"down_vote_count":3,"up_vote_count":23,"answer_count":19,"score":20,"last_activity_date":1657661619,"creation_date":1377852585,"question_id":18528697,"body_markdown":"How do I swap two string variables in Java without using a third variable, i.e. the temp variable?\r\n\r\n    String a = &quot;one&quot;\r\n    String b = &quot;two&quot;\r\n    String temp = null;\r\n    temp = a;\r\n    a = b;\r\n    b = temp;\r\n\r\nBut here there is a third variable. We need to eliminate the use of the third variable.\r\n","title":"How to swap two string variables in Java without using a third variable","body":"<p>How do I swap two string variables in Java without using a third variable, i.e. the temp variable?</p>\n\n<pre><code>String a = \"one\"\nString b = \"two\"\nString temp = null;\ntemp = a;\na = b;\nb = temp;\n</code></pre>\n\n<p>But here there is a third variable. We need to eliminate the use of the third variable.</p>\n"},{"tags":["java","date","if-statement","localdatetime"],"comments":[{"owner":{"account_id":11988367,"reputation":540,"user_id":8772274,"display_name":"Nahuel Giani"},"score":0,"creation_date":1657657298,"post_id":72957794,"comment_id":128861793,"body_markdown":"a.getFinFecha() is a Timestamp?","body":"a.getFinFecha() is a Timestamp?"},{"owner":{"account_id":25733635,"reputation":11,"user_id":19488787,"display_name":"Sergio"},"score":0,"creation_date":1657657595,"post_id":72957794,"comment_id":128861875,"body_markdown":"Nope, it is a Date","body":"Nope, it is a Date"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1657658098,"post_id":72957794,"comment_id":128862033,"body_markdown":"`a.getFinFecha().getDate() - 7` looks wrong to me.  You&#39;re just subtracting 7 from the day number of the date, without considering the month or year.","body":"<code>a.getFinFecha().getDate() - 7</code> looks wrong to me.  You&#39;re just subtracting 7 from the day number of the date, without considering the month or year."},{"owner":{"account_id":11988367,"reputation":540,"user_id":8772274,"display_name":"Nahuel Giani"},"score":0,"creation_date":1657658214,"post_id":72957794,"comment_id":128862060,"body_markdown":"I think that works Sergio. I tried it with the date 30/08/2022 and the result is 3","body":"I think that works Sergio. I tried it with the date 30/08/2022 and the result is 3"},{"owner":{"account_id":25733635,"reputation":11,"user_id":19488787,"display_name":"Sergio"},"score":0,"creation_date":1657658814,"post_id":72957794,"comment_id":128862248,"body_markdown":"That&#39;s actually true Nahuel, try it with the date 12/08/2022, it does not work.","body":"That&#39;s actually true Nahuel, try it with the date 12/08/2022, it does not work."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1657659038,"post_id":72957794,"comment_id":128862305,"body_markdown":"So can you please clarify?  When  `getFinFecha()` is `12/8/2022`, what result do you expect, and what result do you actually get?  And what is the actual local date and time when you&#39;re getting that result (I don&#39;t know your timezone)?","body":"So can you please clarify?  When  <code>getFinFecha()</code> is <code>12&#47;8&#47;2022</code>, what result do you expect, and what result do you actually get?  And what is the actual local date and time when you&#39;re getting that result (I don&#39;t know your timezone)?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1657659398,"post_id":72957794,"comment_id":128862415,"body_markdown":"(I&#39;m assuming that when you said 12/08/2022, you meant 12 August, not 8 December).","body":"(I&#39;m assuming that when you said 12/08/2022, you meant 12 August, not 8 December)."}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657661483,"creation_date":1657661483,"answer_id":72958599,"question_id":72957794,"body_markdown":"&gt; I had to use Timestamp.valueOf so I could transform LocalDateTime to Date \r\n\r\nNo, you hadn&#39;t and you shoudn&#39;t. Avoid using deprecated methods like `getDate()` and make use of the `java.time` API. The simplest solution could be to convert the `Date` returned by `a.getFinFecha()` to `LocalDateTime` and compare according to your requierments:\r\n\r\n    private int yourMethod() {\r\n        Instant instant        = Instant.ofEpochMilli(a.getFinFecha().getTime());\r\n        LocalDateTime finFecha = LocalDateTime.ofInstant(instant, ZoneOffset.UTC); // or use appropriate offset for your use case\r\n        \r\n        if (LocalDateTime.now().isAfter(finFecha)) {\r\n            return 1;\r\n        } else if (LocalDateTime.now().isAfter(finFecha.minusDays(7))) {\r\n            return 2;\r\n        } else {\r\n            return 3;\r\n        }\r\n    }","title":"Problem comparing dates with if statement","body":"<blockquote>\n<p>I had to use Timestamp.valueOf so I could transform LocalDateTime to Date</p>\n</blockquote>\n<p>No, you hadn't and you shoudn't. Avoid using deprecated methods like <code>getDate()</code> and make use of the <code>java.time</code> API. The simplest solution could be to convert the <code>Date</code> returned by <code>a.getFinFecha()</code> to <code>LocalDateTime</code> and compare according to your requierments:</p>\n<pre><code>private int yourMethod() {\n    Instant instant        = Instant.ofEpochMilli(a.getFinFecha().getTime());\n    LocalDateTime finFecha = LocalDateTime.ofInstant(instant, ZoneOffset.UTC); // or use appropriate offset for your use case\n    \n    if (LocalDateTime.now().isAfter(finFecha)) {\n        return 1;\n    } else if (LocalDateTime.now().isAfter(finFecha.minusDays(7))) {\n        return 2;\n    } else {\n        return 3;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25733635,"reputation":11,"user_id":19488787,"display_name":"Sergio"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72958599,"answer_count":1,"score":-2,"last_activity_date":1657661483,"creation_date":1657656140,"question_id":72957794,"body_markdown":"I&#39;ve got a problem comparing.\r\n\r\nThe second &quot;if&quot; is always fulfilled even if the second condition of the &quot;if&quot; is false.\r\n\r\nFirst, I had to use Timestamp.valueOf so I could transform LocalDateTime to Date (&quot;a&quot; is a type of data &quot;Date&quot;). What i want to do is compare if the current time is greater than a predetermined time (a.getFinFecha()), if so, return 1. If the current time is greater or equal to the predetermined time (a.getFinFecha()) less seven days and is lower than the pretermined date, I want to return 2. Else (which means if the current time is lower than a.getFinFecha() and lower than a.getFinFecha() less 7 days) return 3. The object I&#39;m passing is lower than the pretermined date less 7 days and it returns 2. Never returns 3.\r\n\r\n    if (java.sql.Timestamp.valueOf(LocalDateTime.now()).compareTo(a.getFinFecha()) &gt; 0) {\r\n                return 1;\r\n            } else if (java.sql.Timestamp.valueOf(LocalDateTime.now()).getDate() &gt;= (a.getFinFecha().getDate() - 7) &amp;&amp; java.sql.Timestamp.valueOf(LocalDateTime.now()).compareTo(a.getFinFecha()) &lt;= 0) {\r\n                return 2;\r\n            } else {\r\n                return 3;\r\n            }","title":"Problem comparing dates with if statement","body":"<p>I've got a problem comparing.</p>\n<p>The second &quot;if&quot; is always fulfilled even if the second condition of the &quot;if&quot; is false.</p>\n<p>First, I had to use Timestamp.valueOf so I could transform LocalDateTime to Date (&quot;a&quot; is a type of data &quot;Date&quot;). What i want to do is compare if the current time is greater than a predetermined time (a.getFinFecha()), if so, return 1. If the current time is greater or equal to the predetermined time (a.getFinFecha()) less seven days and is lower than the pretermined date, I want to return 2. Else (which means if the current time is lower than a.getFinFecha() and lower than a.getFinFecha() less 7 days) return 3. The object I'm passing is lower than the pretermined date less 7 days and it returns 2. Never returns 3.</p>\n<pre><code>if (java.sql.Timestamp.valueOf(LocalDateTime.now()).compareTo(a.getFinFecha()) &gt; 0) {\n            return 1;\n        } else if (java.sql.Timestamp.valueOf(LocalDateTime.now()).getDate() &gt;= (a.getFinFecha().getDate() - 7) &amp;&amp; java.sql.Timestamp.valueOf(LocalDateTime.now()).compareTo(a.getFinFecha()) &lt;= 0) {\n            return 2;\n        } else {\n            return 3;\n        }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","response","option-type"],"answers":[{"tags":[],"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657661251,"creation_date":1657656616,"answer_id":72957880,"question_id":72956410,"body_markdown":"From my comment above  - *You are mixing concerns. Service is supposed to only care about business logic (e.g. not HTTP Status codes). That&#39;s controller&#39;s job. Use of Optional is correct, but the Response return type from service layer is not. Also errors like Not Found are automatically handled by a Rest Controller in Spring boot if a resource is not found. If you want to add custom logic and prepare generic responses, include a proper exception handling e.g. @ControllerAdvice (which allows you reuse exceptions for controllers).*\r\n\r\nAs an example, one of the solutions would be to throw `NoSuchElementException`. \r\nThis is illustrative and would apply if you want to handle other such situations (e.g. null pointers, internal server error, authentication errors in a more custom manner) in a generic manner.\r\n\r\n    public Employee findByEmail(String email) {\r\n        return employeeRepository.findByEmail(email) //assuming findByEmail is returning an Optional&lt;Employee&gt;, otherwise - simply use a null check.\r\n                .orElseThrow(NoSuchElementException::new)\r\n    }\r\n\r\nInside @ControllerAdvice class\r\n\r\n      @ExceptionHandler(NoSuchElementException.class)\r\n      @ResponseBody\r\n      @Order(Ordered.HIGHEST_PRECEDENCE)\r\n      public final ResponseEntity&lt;APIResponseErrorContainer&gt; handleNotFound(\r\n          NoSuchElementException ex) {\r\n    // log exception here if you wish to\r\n        return new ResponseEntity&lt;&gt;(createCustomResponseBody(),  HttpStatus.NOT_FOUND);\r\n      }","title":"Generic response for @RestController in Spring Boot?","body":"<p>From my comment above  - <em>You are mixing concerns. Service is supposed to only care about business logic (e.g. not HTTP Status codes). That's controller's job. Use of Optional is correct, but the Response return type from service layer is not. Also errors like Not Found are automatically handled by a Rest Controller in Spring boot if a resource is not found. If you want to add custom logic and prepare generic responses, include a proper exception handling e.g. @ControllerAdvice (which allows you reuse exceptions for controllers).</em></p>\n<p>As an example, one of the solutions would be to throw <code>NoSuchElementException</code>.\nThis is illustrative and would apply if you want to handle other such situations (e.g. null pointers, internal server error, authentication errors in a more custom manner) in a generic manner.</p>\n<pre><code>public Employee findByEmail(String email) {\n    return employeeRepository.findByEmail(email) //assuming findByEmail is returning an Optional&lt;Employee&gt;, otherwise - simply use a null check.\n            .orElseThrow(NoSuchElementException::new)\n}\n</code></pre>\n<p>Inside @ControllerAdvice class</p>\n<pre><code>  @ExceptionHandler(NoSuchElementException.class)\n  @ResponseBody\n  @Order(Ordered.HIGHEST_PRECEDENCE)\n  public final ResponseEntity&lt;APIResponseErrorContainer&gt; handleNotFound(\n      NoSuchElementException ex) {\n// log exception here if you wish to\n    return new ResponseEntity&lt;&gt;(createCustomResponseBody(),  HttpStatus.NOT_FOUND);\n  }\n</code></pre>\n"}],"owner":{"display_name":"user19249066"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1334,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1657661251,"creation_date":1657647857,"question_id":72956410,"body_markdown":"In my Spring Boot app, I just use `Optional` for the first time and after examining several projects and topics, now I am trying to build an approach as shown below: \r\n\r\n&lt;br/&gt;\r\n\r\n***Repository:***\r\n\r\n```\r\nOptional&lt;Employee&gt; findByEmail(String email);\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n\r\n***Service:*** \r\n\r\n```\r\npublic Response findByEmail(String email) {\r\n    return employeeRepository.findByEmail(email)\r\n            // if record is found, I think no need to return status or message\r\n            .map(e -&gt; Response.builder().data(e).build()) \r\n            .orElseGet(() -&gt; Response.builder().status(404)\r\n                .data(null).message(&quot;Not found!&quot;).build());\r\n}\r\n```\r\n&lt;br/&gt;\r\n\r\n***Response:*** \r\n\r\n\r\n```\r\n@Data\r\n@Builder\r\npublic class Response {\r\n    private int status;\r\n    private Object data;\r\n    private String message;\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n***Controller:*** \r\n\r\n```\r\n@GetMapping(&quot;/employees/{email}&quot;)\r\npublic ResponseEntity&lt;Response&gt; findByEmail(@PathVariable String email) {\r\n    final Response response = employeeService.findByEmail(email);\r\n    return ResponseEntity\r\n            .status(response.getStatus())\r\n\r\n            .body(response.getMessage(), response.getData()); \r\n            // throws &quot;Expected 1 arguments but found 2&quot; error\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n\r\nHere is the points that I need to be clarified:\r\n\r\n**1.** Is this a proper approach to use a common response for all the `Optional` types in a Spring Boot app? If not, how should I change it (I want to return a common response from the Service)?  \r\n\r\n**2.** How to fix the *throws &quot;Expected 1 arguments but found 2&quot;* error in the Controller?  ","title":"Generic response for @RestController in Spring Boot?","body":"<p>In my Spring Boot app, I just use <code>Optional</code> for the first time and after examining several projects and topics, now I am trying to build an approach as shown below:</p>\n<br/>\n<p><em><strong>Repository:</strong></em></p>\n<pre><code>Optional&lt;Employee&gt; findByEmail(String email);\n</code></pre>\n<br/>\n<p><em><strong>Service:</strong></em></p>\n<pre><code>public Response findByEmail(String email) {\n    return employeeRepository.findByEmail(email)\n            // if record is found, I think no need to return status or message\n            .map(e -&gt; Response.builder().data(e).build()) \n            .orElseGet(() -&gt; Response.builder().status(404)\n                .data(null).message(&quot;Not found!&quot;).build());\n}\n</code></pre>\n<br/>\n<p><em><strong>Response:</strong></em></p>\n<pre><code>@Data\n@Builder\npublic class Response {\n    private int status;\n    private Object data;\n    private String message;\n}\n</code></pre>\n<br/>\n<p><em><strong>Controller:</strong></em></p>\n<pre><code>@GetMapping(&quot;/employees/{email}&quot;)\npublic ResponseEntity&lt;Response&gt; findByEmail(@PathVariable String email) {\n    final Response response = employeeService.findByEmail(email);\n    return ResponseEntity\n            .status(response.getStatus())\n\n            .body(response.getMessage(), response.getData()); \n            // throws &quot;Expected 1 arguments but found 2&quot; error\n}\n</code></pre>\n<br/>\n<p>Here is the points that I need to be clarified:</p>\n<p><strong>1.</strong> Is this a proper approach to use a common response for all the <code>Optional</code> types in a Spring Boot app? If not, how should I change it (I want to return a common response from the Service)?</p>\n<p><strong>2.</strong> How to fix the <em>throws &quot;Expected 1 arguments but found 2&quot;</em> error in the Controller?</p>\n"},{"tags":["java","mysql","sql-server"],"comments":[{"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"score":3,"creation_date":1657661889,"post_id":72958559,"comment_id":128862985,"body_markdown":"You need to contain your problem in a minimal viable way.  In its current state, its too much text and code for anyone to read.  People are more motivated to answer if they see a &quot;conceptual&quot; question.","body":"You need to contain your problem in a minimal viable way.  In its current state, its too much text and code for anyone to read.  People are more motivated to answer if they see a &quot;conceptual&quot; question."},{"owner":{"account_id":21706727,"reputation":1201,"user_id":16019058,"display_name":"Shmiel"},"score":0,"creation_date":1657664063,"post_id":72958559,"comment_id":128863498,"body_markdown":"MySQL &lt;&gt; SQL-Server","body":"MySQL &lt;&gt; SQL-Server"}],"owner":{"account_id":25379095,"reputation":33,"user_id":19191756,"display_name":"IgorArnaut"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657661133,"creation_date":1657661133,"question_id":72958559,"body_markdown":"I am trying to implement a rezervation of a table.\r\n\r\nA page has a combo-box of tables and input fields. I choose a table, pick a date, enter a number of customers and press *Proceed*. Then it sends me to a page with input fields. I input information about a customer and add him to the list. I can also add more customers. If it&#39;s enough, I press *Reserve*.\r\n\r\nIt&#39;s supposed to show a page telling me that it was successful, but instead I get:\r\n```\r\njava.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`mydb`.`Upis`, CONSTRAINT `fk_Upis_Musterija1` FOREIGN KEY (`idMusterija`) REFERENCES `Musterija` (`idMusterija`))\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3375) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3908) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3290) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2425) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.21.jar:5.3.21]\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-5.3.21.jar:5.3.21]\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.21.jar:5.3.21]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-5.3.21.jar:5.3.21]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-5.3.21.jar:5.3.21]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.21.jar:5.3.21]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.21.jar:5.3.21]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.1.jar:2.7.1]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.21.jar:5.3.21]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.21.jar:5.3.21]\r\n\tat jdk.proxy8/jdk.proxy8.$Proxy170.save(Unknown Source) ~[na:na]\r\n\tat com.example.demo.controller.RezervacijaController.rezervisi(RezervacijaController.java:92) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.64.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.64.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\nSQL scripts and tables:\r\n```\r\nCREATE TABLE `Musterija` (\r\n  `idMusterija` int NOT NULL AUTO_INCREMENT,\r\n  `ime` varchar(20) NOT NULL,\r\n  `prezime` varchar(50) NOT NULL,\r\n  `adresa` varchar(100) NOT NULL,\r\n  `email` varchar(200) NOT NULL,\r\n  `brTelefona` varchar(20) NOT NULL,\r\n  PRIMARY KEY (`idMusterija`)\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;\r\n\r\nCREATE TABLE `Upis` (\r\n  `idRezervacija` int NOT NULL,\r\n  `idMusterija` int NOT NULL,\r\n  KEY `fk_Upis_Musterija1_idx` (`idMusterija`),\r\n  KEY `fk_Upis_Rezervacija1_idx` (`idRezervacija`),\r\n  CONSTRAINT `fk_Upis_Musterija1` FOREIGN KEY (`idMusterija`) REFERENCES `Musterija` (`idMusterija`),\r\n  CONSTRAINT `fk_Upis_Rezervacija1` FOREIGN KEY (`idRezervacija`) REFERENCES `Rezervacija` (`idRezervacija`)\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;\r\n\r\nCREATE TABLE `Rezervacija` (\r\n  `idRezervacija` int NOT NULL AUTO_INCREMENT,\r\n  `brMusterija` int NOT NULL,\r\n  `datumRezervacije` datetime NOT NULL,\r\n  `cenaRezervacije` double NOT NULL,\r\n  `idSto` int NOT NULL,\r\n  `idUser` int NOT NULL,\r\n  PRIMARY KEY (`idRezervacija`),\r\n  KEY `fk_Rezervacija_Sto1_idx` (`idSto`),\r\n  KEY `fk_Rezervacija_User1_idx` (`idUser`),\r\n  CONSTRAINT `fk_Rezervacija_Sto1` FOREIGN KEY (`idSto`) REFERENCES `Sto` (`idSto`),\r\n  CONSTRAINT `fk_Rezervacija_User1` FOREIGN KEY (`idUser`) REFERENCES `User` (`idUser`)\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;\r\n```\r\n[![tables][2]][2]\r\n\r\nRezervacija.java:\r\n```\r\n@Entity\r\n@NamedQuery(name=&quot;Rezervacija.findAll&quot;, query=&quot;SELECT r FROM Rezervacija r&quot;)\r\npublic class Rezervacija implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate int idRezervacija;\r\n\r\n\tprivate int brMusterija;\r\n\r\n\tprivate double cenaRezervacije;\r\n\r\n\t@Temporal(TemporalType.TIMESTAMP)\r\n\tprivate Date datumRezervacije;\r\n\r\n\t//bi-directional many-to-many association to Musterija\r\n\t@ManyToMany\r\n\t@JoinTable(\r\n\t\tname=&quot;Upis&quot;\r\n\t\t, joinColumns={\r\n\t\t\t@JoinColumn(name=&quot;idRezervacija&quot;)\r\n\t\t\t}\r\n\t\t, inverseJoinColumns={\r\n\t\t\t@JoinColumn(name=&quot;idMusterija&quot;)\r\n\t\t\t}\r\n\t\t)\r\n\tprivate List&lt;Musterija&gt; musterijas;\r\n\r\n\t//bi-directional many-to-one association to Sto\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;idSto&quot;)\r\n\tprivate Sto sto;\r\n\r\n\t//bi-directional many-to-one association to User\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;idUser&quot;)\r\n\tprivate User user;\r\n\r\n\t//bi-directional many-to-one association to Upis\r\n\t@OneToMany(mappedBy=&quot;rezervacija&quot;)\r\n\tprivate List&lt;Upis&gt; upis;\r\n\r\n\tpublic Rezervacija() {\r\n\t}\r\n\r\n\tpublic int getIdRezervacija() {\r\n\t\treturn this.idRezervacija;\r\n\t}\r\n\r\n\tpublic void setIdRezervacija(int idRezervacija) {\r\n\t\tthis.idRezervacija = idRezervacija;\r\n\t}\r\n\r\n\tpublic int getBrMusterija() {\r\n\t\treturn this.brMusterija;\r\n\t}\r\n\r\n\tpublic void setBrMusterija(int brMusterija) {\r\n\t\tthis.brMusterija = brMusterija;\r\n\t}\r\n\r\n\tpublic double getCenaRezervacije() {\r\n\t\treturn this.cenaRezervacije;\r\n\t}\r\n\r\n\tpublic void setCenaRezervacije(double cenaRezervacije) {\r\n\t\tthis.cenaRezervacije = cenaRezervacije;\r\n\t}\r\n\r\n\tpublic Date getDatumRezervacije() {\r\n\t\treturn this.datumRezervacije;\r\n\t}\r\n\r\n\tpublic void setDatumRezervacije(Date datumRezervacije) {\r\n\t\tthis.datumRezervacije = datumRezervacije;\r\n\t}\r\n\r\n\tpublic List&lt;Musterija&gt; getMusterijas() {\r\n\t\treturn this.musterijas;\r\n\t}\r\n\r\n\tpublic void setMusterijas(List&lt;Musterija&gt; musterijas) {\r\n\t\tthis.musterijas = musterijas;\r\n\t}\r\n\r\n\tpublic Sto getSto() {\r\n\t\treturn this.sto;\r\n\t}\r\n\r\n\tpublic void setSto(Sto sto) {\r\n\t\tthis.sto = sto;\r\n\t}\r\n\r\n\tpublic User getUser() {\r\n\t\treturn this.user;\r\n\t}\r\n\r\n\tpublic void setUser(User user) {\r\n\t\tthis.user = user;\r\n\t}\r\n\r\n\tpublic List&lt;Upis&gt; getUpis() {\r\n\t\treturn this.upis;\r\n\t}\r\n\r\n\tpublic void setUpis(List&lt;Upis&gt; upis) {\r\n\t\tthis.upis = upis;\r\n\t}\r\n\r\n\tpublic Upis addUpi(Upis upi) {\r\n\t\tgetUpis().add(upi);\r\n\t\tupi.setRezervacija(this);\r\n\r\n\t\treturn upi;\r\n\t}\r\n\r\n\tpublic Upis removeUpi(Upis upi) {\r\n\t\tgetUpis().remove(upi);\r\n\t\tupi.setRezervacija(null);\r\n\r\n\t\treturn upi;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nSto.java:\r\n```\r\n@Entity\r\n@NamedQuery(name=&quot;Sto.findAll&quot;, query=&quot;SELECT s FROM Sto s&quot;)\r\npublic class Sto implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate int idSto;\r\n\r\n\tprivate int brMesta;\r\n\r\n\t//bi-directional many-to-one association to Rezervacija\r\n\t@OneToMany(mappedBy=&quot;sto&quot;)\r\n\tprivate List&lt;Rezervacija&gt; rezervacijas;\r\n\r\n\tpublic Sto() {\r\n\t}\r\n\r\n\tpublic int getIdSto() {\r\n\t\treturn this.idSto;\r\n\t}\r\n\r\n\tpublic void setIdSto(int idSto) {\r\n\t\tthis.idSto = idSto;\r\n\t}\r\n\r\n\tpublic int getBrMesta() {\r\n\t\treturn this.brMesta;\r\n\t}\r\n\r\n\tpublic void setBrMesta(int brMesta) {\r\n\t\tthis.brMesta = brMesta;\r\n\t}\r\n\r\n\tpublic List&lt;Rezervacija&gt; getRezervacijas() {\r\n\t\treturn this.rezervacijas;\r\n\t}\r\n\r\n\tpublic void setRezervacijas(List&lt;Rezervacija&gt; rezervacijas) {\r\n\t\tthis.rezervacijas = rezervacijas;\r\n\t}\r\n\r\n\tpublic Rezervacija addRezervacija(Rezervacija rezervacija) {\r\n\t\tgetRezervacijas().add(rezervacija);\r\n\t\trezervacija.setSto(this);\r\n\r\n\t\treturn rezervacija;\r\n\t}\r\n\r\n\tpublic Rezervacija removeRezervacija(Rezervacija rezervacija) {\r\n\t\tgetRezervacijas().remove(rezervacija);\r\n\t\trezervacija.setSto(null);\r\n\r\n\t\treturn rezervacija;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nUpis.java:\r\n```\r\n@Entity\r\n@NamedQuery(name=&quot;Upis.findAll&quot;, query=&quot;SELECT u FROM Upis u&quot;)\r\npublic class Upis implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@EmbeddedId\r\n\tprivate UpisPK id;\r\n\r\n\t//bi-directional many-to-one association to Musterija\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;idMusterija&quot;, insertable = false, updatable = false)\r\n\tprivate Musterija musterija;\r\n\r\n\t//bi-directional many-to-one association to Rezervacija\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;idRezervacija&quot;, insertable = false, updatable = false)\r\n\tprivate Rezervacija rezervacija;\r\n\r\n\tpublic Upis() {\r\n\t}\r\n\r\n\tpublic UpisPK getId() {\r\n\t\treturn this.id;\r\n\t}\r\n\r\n\tpublic void setId(UpisPK id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic Musterija getMusterija() {\r\n\t\treturn this.musterija;\r\n\t}\r\n\r\n\tpublic void setMusterija(Musterija musterija) {\r\n\t\tthis.musterija = musterija;\r\n\t}\r\n\r\n\tpublic Rezervacija getRezervacija() {\r\n\t\treturn this.rezervacija;\r\n\t}\r\n\r\n\tpublic void setRezervacija(Rezervacija rezervacija) {\r\n\t\tthis.rezervacija = rezervacija;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nUpisPK.java:\r\n```\r\n@Embeddable\r\npublic class UpisPK implements Serializable {\r\n\t//default serial version id, required for serializable classes.\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Column(insertable=false, updatable=false)\r\n\tprivate int idRezervacija;\r\n\r\n\t@Column(insertable=false, updatable=false)\r\n\tprivate int idMusterija;\r\n\r\n\tpublic UpisPK() {\r\n\t}\r\n\tpublic int getIdRezervacija() {\r\n\t\treturn this.idRezervacija;\r\n\t}\r\n\tpublic void setIdRezervacija(int idRezervacija) {\r\n\t\tthis.idRezervacija = idRezervacija;\r\n\t}\r\n\tpublic int getIdMusterija() {\r\n\t\treturn this.idMusterija;\r\n\t}\r\n\tpublic void setIdMusterija(int idMusterija) {\r\n\t\tthis.idMusterija = idMusterija;\r\n\t}\r\n\r\n\tpublic boolean equals(Object other) {\r\n\t\tif (this == other) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (!(other instanceof UpisPK)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tUpisPK castOther = (UpisPK)other;\r\n\t\treturn \r\n\t\t\t(this.idRezervacija == castOther.idRezervacija)\r\n\t\t\t&amp;&amp; (this.idMusterija == castOther.idMusterija);\r\n\t}\r\n\r\n\tpublic int hashCode() {\r\n\t\tfinal int prime = 31;\r\n\t\tint hash = 17;\r\n\t\thash = hash * prime + this.idRezervacija;\r\n\t\thash = hash * prime + this.idMusterija;\r\n\t\t\r\n\t\treturn hash;\r\n\t}\r\n}\r\n```\r\n\r\nMusterija.java:\r\n```\r\n@Entity\r\n@NamedQuery(name=&quot;Musterija.findAll&quot;, query=&quot;SELECT m FROM Musterija m&quot;)\r\npublic class Musterija implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate int idMusterija;\r\n\r\n\tprivate String adresa;\r\n\r\n\tprivate String brTelefona;\r\n\r\n\tprivate String email;\r\n\r\n\tprivate String ime;\r\n\r\n\tprivate String prezime;\r\n\r\n\t//bi-directional many-to-one association to Narudzbina\r\n\t@OneToMany(mappedBy=&quot;musterija&quot;)\r\n\tprivate List&lt;Narudzbina&gt; narudzbinas;\r\n\r\n\t//bi-directional many-to-many association to Rezervacija\r\n\t@ManyToMany(mappedBy=&quot;musterijas&quot;)\r\n\tprivate List&lt;Rezervacija&gt; rezervacijas;\r\n\r\n\t//bi-directional many-to-one association to Upis\r\n\t@OneToMany(mappedBy=&quot;musterija&quot;)\r\n\tprivate List&lt;Upis&gt; upis;\r\n\r\n\tpublic Musterija() {\r\n\t}\r\n\r\n\tpublic int getIdMusterija() {\r\n\t\treturn this.idMusterija;\r\n\t}\r\n\r\n\tpublic void setIdMusterija(int idMusterija) {\r\n\t\tthis.idMusterija = idMusterija;\r\n\t}\r\n\r\n\tpublic String getAdresa() {\r\n\t\treturn this.adresa;\r\n\t}\r\n\r\n\tpublic void setAdresa(String adresa) {\r\n\t\tthis.adresa = adresa;\r\n\t}\r\n\r\n\tpublic String getBrTelefona() {\r\n\t\treturn this.brTelefona;\r\n\t}\r\n\r\n\tpublic void setBrTelefona(String brTelefona) {\r\n\t\tthis.brTelefona = brTelefona;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn this.email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic String getIme() {\r\n\t\treturn this.ime;\r\n\t}\r\n\r\n\tpublic void setIme(String ime) {\r\n\t\tthis.ime = ime;\r\n\t}\r\n\r\n\tpublic String getPrezime() {\r\n\t\treturn this.prezime;\r\n\t}\r\n\r\n\tpublic void setPrezime(String prezime) {\r\n\t\tthis.prezime = prezime;\r\n\t}\r\n\r\n\tpublic List&lt;Narudzbina&gt; getNarudzbinas() {\r\n\t\treturn this.narudzbinas;\r\n\t}\r\n\r\n\tpublic void setNarudzbinas(List&lt;Narudzbina&gt; narudzbinas) {\r\n\t\tthis.narudzbinas = narudzbinas;\r\n\t}\r\n\r\n\tpublic Narudzbina addNarudzbina(Narudzbina narudzbina) {\r\n\t\tgetNarudzbinas().add(narudzbina);\r\n\t\tnarudzbina.setMusterija(this);\r\n\r\n\t\treturn narudzbina;\r\n\t}\r\n\r\n\tpublic Narudzbina removeNarudzbina(Narudzbina narudzbina) {\r\n\t\tgetNarudzbinas().remove(narudzbina);\r\n\t\tnarudzbina.setMusterija(null);\r\n\r\n\t\treturn narudzbina;\r\n\t}\r\n\r\n\tpublic List&lt;Rezervacija&gt; getRezervacijas() {\r\n\t\treturn this.rezervacijas;\r\n\t}\r\n\r\n\tpublic void setRezervacijas(List&lt;Rezervacija&gt; rezervacijas) {\r\n\t\tthis.rezervacijas = rezervacijas;\r\n\t}\r\n\r\n\tpublic List&lt;Upis&gt; getUpis() {\r\n\t\treturn this.upis;\r\n\t}\r\n\r\n\tpublic void setUpis(List&lt;Upis&gt; upis) {\r\n\t\tthis.upis = upis;\r\n\t}\r\n\r\n\tpublic Upis addUpi(Upis upi) {\r\n\t\tgetUpis().add(upi);\r\n\t\tupi.setMusterija(this);\r\n\r\n\t\treturn upi;\r\n\t}\r\n\r\n\tpublic Upis removeUpi(Upis upi) {\r\n\t\tgetUpis().remove(upi);\r\n\t\tupi.setMusterija(null);\r\n\r\n\t\treturn upi;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nRezervacijaController.java:\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/rezervacije&quot;)\r\npublic class RezervacijaController {\r\n\r\n\t@Autowired\r\n\tRezervacijaRepository rr;\r\n\t@Autowired\r\n\tMusterijaRepository mr;\r\n\t@Autowired\r\n\tStoRepository sr;\r\n\t@Autowired\r\n\tUpisRepository ur;\r\n\r\n\t@GetMapping(value = &quot;popuniStolove&quot;)\r\n\tpublic String popuniStolove(HttpServletRequest request) {\r\n\t\tList&lt;Sto&gt; stolovi = sr.findAll();\r\n\t\trequest.setAttribute(&quot;stolovi&quot;, stolovi);\r\n\t\treturn &quot;rezervacijaStola&quot;;\r\n\t}\r\n\t\r\n\t@PostMapping(value = &quot;unesiRezervaciju&quot;)\r\n\tpublic String unesiRezervaciju(Integer brMusterija, Date datum, Sto sto, HttpServletRequest request) {\r\n\t\tRezervacija r = new Rezervacija();\r\n\t\tr.setBrMusterija(brMusterija);\r\n\t\tr.setCenaRezervacije(800.0 * brMusterija);\r\n\t\tr.setDatumRezervacije(datum);\r\n\t\tsto.addRezervacija(r);\r\n\t\tsr.updateSto(sto);\r\n\t\t\r\n\t\tList&lt;Musterija&gt; musterije = new ArrayList&lt;Musterija&gt;();\r\n\t\trequest.getSession().setAttribute(&quot;musterije&quot;, musterije);\r\n\t\trequest.getSession().setAttribute(&quot;rezervacija&quot;, r);\r\n\t\treturn &quot;unosMusterija&quot;;\r\n\t}\r\n\t\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t@PostMapping(value = &quot;/dodajMusteriju&quot;)\r\n\tpublic String dodajMusteriju(String ime, String prezime, String adresa, String email, String brTelefona, HttpServletRequest request) {\r\n\t\tList&lt;Musterija&gt; musterije = (ArrayList&lt;Musterija&gt;) request.getSession().getAttribute(&quot;musterije&quot;);\r\n\t\tMusterija m = new Musterija();\r\n\t\tm.setIme(ime);\r\n\t\tm.setPrezime(prezime);\r\n\t\tm.setAdresa(adresa);\r\n\t\tm.setEmail(email);\r\n\t\tm.setBrTelefona(brTelefona);\r\n\t\tmusterije.add(m);\r\n\t\trequest.setAttribute(&quot;musterije&quot;, musterije);\r\n\t\treturn &quot;unosMusterija&quot;;\r\n\t}\r\n\t\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t@PostMapping(value = &quot;rezervisi&quot;)\r\n\tpublic String rezervisi(HttpServletRequest request) {\r\n\t\tRezervacija r = (Rezervacija) request.getSession().getAttribute(&quot;rezervacija&quot;);\r\n\t\tList&lt;Musterija&gt; musterije = (ArrayList&lt;Musterija&gt;) request.getSession().getAttribute(&quot;musterije&quot;);\r\n\t\t\r\n\t\tfor (Musterija m : musterije) {\r\n\t\t\tUpis upis = new Upis();\r\n\t\t\tUpisPK uPK = new UpisPK();\r\n\t\t\tuPK.setIdMusterija(m.getIdMusterija());\r\n\t\t\tuPK.setIdRezervacija(r.getIdRezervacija());\r\n\t\t\tupis.setId(uPK);\r\n\t\t\tur.save(upis);\r\n\t\t\tmr.save(m);\r\n\t\t}\r\n\t\t\r\n\t\trr.save(r);\r\n\t\treturn &quot;uspehRezervacija&quot;;\r\n\t}\r\n\t\r\n\t@InitBinder\r\n\tpublic void initBinder(WebDataBinder binder) {\r\n\t    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\t    sdf.setLenient(true);\r\n\t    binder.registerCustomEditor(Date.class, new CustomDateEditor(sdf, true));\r\n\t}\r\n\r\n}\r\n```\r\n\r\nRepositories:\r\n```\r\npublic interface UpisRepository extends JpaRepository&lt;Upis, UpisPK&gt; {\r\n\r\n}\r\n```\r\n```\r\n@Repository\r\n@Transactional\r\npublic class StoRepoSpecificImpl implements StoRepoSpecific {\r\n\r\n\t@PersistenceContext\r\n\tEntityManager em;\r\n\r\n\t@Override\r\n\tpublic void updateSto(Sto sto) {\r\n\t\ttry {\r\n\t\t\tem.merge(sto);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n```\r\npublic interface StoRepoSpecific {\r\n\r\n\tpublic void updateSto(Sto sto);\r\n\t\r\n}\r\n```\r\n```\r\npublic interface StoRepository extends JpaRepository&lt;Sto, Integer&gt;, StoRepoSpecific {\r\n\r\n}\r\n```\r\n\r\nYou can see my public [project][1] on Github.\r\n\r\n  [1]: https://github.com/IgorArnaut/MIS-Picerija\r\n  [2]: https://i.stack.imgur.com/AnVrT.png","title":"I get &quot;Cannot add or update a child row: a foreign key constraint fails&quot; for some reason","body":"<p>I am trying to implement a rezervation of a table.</p>\n<p>A page has a combo-box of tables and input fields. I choose a table, pick a date, enter a number of customers and press <em>Proceed</em>. Then it sends me to a page with input fields. I input information about a customer and add him to the list. I can also add more customers. If it's enough, I press <em>Reserve</em>.</p>\n<p>It's supposed to show a page telling me that it was successful, but instead I get:</p>\n<pre><code>java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`mydb`.`Upis`, CONSTRAINT `fk_Upis_Musterija1` FOREIGN KEY (`idMusterija`) REFERENCES `Musterija` (`idMusterija`))\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3375) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3908) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3290) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2425) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.21.jar:5.3.21]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-5.3.21.jar:5.3.21]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.21.jar:5.3.21]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-5.3.21.jar:5.3.21]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-5.3.21.jar:5.3.21]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.1.jar:2.7.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.21.jar:5.3.21]\n    at jdk.proxy8/jdk.proxy8.$Proxy170.save(Unknown Source) ~[na:na]\n    at com.example.demo.controller.RezervacijaController.rezervisi(RezervacijaController.java:92) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.64.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.64.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>SQL scripts and tables:</p>\n<pre><code>CREATE TABLE `Musterija` (\n  `idMusterija` int NOT NULL AUTO_INCREMENT,\n  `ime` varchar(20) NOT NULL,\n  `prezime` varchar(50) NOT NULL,\n  `adresa` varchar(100) NOT NULL,\n  `email` varchar(200) NOT NULL,\n  `brTelefona` varchar(20) NOT NULL,\n  PRIMARY KEY (`idMusterija`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;\n\nCREATE TABLE `Upis` (\n  `idRezervacija` int NOT NULL,\n  `idMusterija` int NOT NULL,\n  KEY `fk_Upis_Musterija1_idx` (`idMusterija`),\n  KEY `fk_Upis_Rezervacija1_idx` (`idRezervacija`),\n  CONSTRAINT `fk_Upis_Musterija1` FOREIGN KEY (`idMusterija`) REFERENCES `Musterija` (`idMusterija`),\n  CONSTRAINT `fk_Upis_Rezervacija1` FOREIGN KEY (`idRezervacija`) REFERENCES `Rezervacija` (`idRezervacija`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;\n\nCREATE TABLE `Rezervacija` (\n  `idRezervacija` int NOT NULL AUTO_INCREMENT,\n  `brMusterija` int NOT NULL,\n  `datumRezervacije` datetime NOT NULL,\n  `cenaRezervacije` double NOT NULL,\n  `idSto` int NOT NULL,\n  `idUser` int NOT NULL,\n  PRIMARY KEY (`idRezervacija`),\n  KEY `fk_Rezervacija_Sto1_idx` (`idSto`),\n  KEY `fk_Rezervacija_User1_idx` (`idUser`),\n  CONSTRAINT `fk_Rezervacija_Sto1` FOREIGN KEY (`idSto`) REFERENCES `Sto` (`idSto`),\n  CONSTRAINT `fk_Rezervacija_User1` FOREIGN KEY (`idUser`) REFERENCES `User` (`idUser`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/AnVrT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AnVrT.png\" alt=\"tables\" /></a></p>\n<p>Rezervacija.java:</p>\n<pre><code>@Entity\n@NamedQuery(name=&quot;Rezervacija.findAll&quot;, query=&quot;SELECT r FROM Rezervacija r&quot;)\npublic class Rezervacija implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private int idRezervacija;\n\n    private int brMusterija;\n\n    private double cenaRezervacije;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date datumRezervacije;\n\n    //bi-directional many-to-many association to Musterija\n    @ManyToMany\n    @JoinTable(\n        name=&quot;Upis&quot;\n        , joinColumns={\n            @JoinColumn(name=&quot;idRezervacija&quot;)\n            }\n        , inverseJoinColumns={\n            @JoinColumn(name=&quot;idMusterija&quot;)\n            }\n        )\n    private List&lt;Musterija&gt; musterijas;\n\n    //bi-directional many-to-one association to Sto\n    @ManyToOne\n    @JoinColumn(name=&quot;idSto&quot;)\n    private Sto sto;\n\n    //bi-directional many-to-one association to User\n    @ManyToOne\n    @JoinColumn(name=&quot;idUser&quot;)\n    private User user;\n\n    //bi-directional many-to-one association to Upis\n    @OneToMany(mappedBy=&quot;rezervacija&quot;)\n    private List&lt;Upis&gt; upis;\n\n    public Rezervacija() {\n    }\n\n    public int getIdRezervacija() {\n        return this.idRezervacija;\n    }\n\n    public void setIdRezervacija(int idRezervacija) {\n        this.idRezervacija = idRezervacija;\n    }\n\n    public int getBrMusterija() {\n        return this.brMusterija;\n    }\n\n    public void setBrMusterija(int brMusterija) {\n        this.brMusterija = brMusterija;\n    }\n\n    public double getCenaRezervacije() {\n        return this.cenaRezervacije;\n    }\n\n    public void setCenaRezervacije(double cenaRezervacije) {\n        this.cenaRezervacije = cenaRezervacije;\n    }\n\n    public Date getDatumRezervacije() {\n        return this.datumRezervacije;\n    }\n\n    public void setDatumRezervacije(Date datumRezervacije) {\n        this.datumRezervacije = datumRezervacije;\n    }\n\n    public List&lt;Musterija&gt; getMusterijas() {\n        return this.musterijas;\n    }\n\n    public void setMusterijas(List&lt;Musterija&gt; musterijas) {\n        this.musterijas = musterijas;\n    }\n\n    public Sto getSto() {\n        return this.sto;\n    }\n\n    public void setSto(Sto sto) {\n        this.sto = sto;\n    }\n\n    public User getUser() {\n        return this.user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    public List&lt;Upis&gt; getUpis() {\n        return this.upis;\n    }\n\n    public void setUpis(List&lt;Upis&gt; upis) {\n        this.upis = upis;\n    }\n\n    public Upis addUpi(Upis upi) {\n        getUpis().add(upi);\n        upi.setRezervacija(this);\n\n        return upi;\n    }\n\n    public Upis removeUpi(Upis upi) {\n        getUpis().remove(upi);\n        upi.setRezervacija(null);\n\n        return upi;\n    }\n\n}\n</code></pre>\n<p>Sto.java:</p>\n<pre><code>@Entity\n@NamedQuery(name=&quot;Sto.findAll&quot;, query=&quot;SELECT s FROM Sto s&quot;)\npublic class Sto implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private int idSto;\n\n    private int brMesta;\n\n    //bi-directional many-to-one association to Rezervacija\n    @OneToMany(mappedBy=&quot;sto&quot;)\n    private List&lt;Rezervacija&gt; rezervacijas;\n\n    public Sto() {\n    }\n\n    public int getIdSto() {\n        return this.idSto;\n    }\n\n    public void setIdSto(int idSto) {\n        this.idSto = idSto;\n    }\n\n    public int getBrMesta() {\n        return this.brMesta;\n    }\n\n    public void setBrMesta(int brMesta) {\n        this.brMesta = brMesta;\n    }\n\n    public List&lt;Rezervacija&gt; getRezervacijas() {\n        return this.rezervacijas;\n    }\n\n    public void setRezervacijas(List&lt;Rezervacija&gt; rezervacijas) {\n        this.rezervacijas = rezervacijas;\n    }\n\n    public Rezervacija addRezervacija(Rezervacija rezervacija) {\n        getRezervacijas().add(rezervacija);\n        rezervacija.setSto(this);\n\n        return rezervacija;\n    }\n\n    public Rezervacija removeRezervacija(Rezervacija rezervacija) {\n        getRezervacijas().remove(rezervacija);\n        rezervacija.setSto(null);\n\n        return rezervacija;\n    }\n\n}\n</code></pre>\n<p>Upis.java:</p>\n<pre><code>@Entity\n@NamedQuery(name=&quot;Upis.findAll&quot;, query=&quot;SELECT u FROM Upis u&quot;)\npublic class Upis implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @EmbeddedId\n    private UpisPK id;\n\n    //bi-directional many-to-one association to Musterija\n    @ManyToOne\n    @JoinColumn(name=&quot;idMusterija&quot;, insertable = false, updatable = false)\n    private Musterija musterija;\n\n    //bi-directional many-to-one association to Rezervacija\n    @ManyToOne\n    @JoinColumn(name=&quot;idRezervacija&quot;, insertable = false, updatable = false)\n    private Rezervacija rezervacija;\n\n    public Upis() {\n    }\n\n    public UpisPK getId() {\n        return this.id;\n    }\n\n    public void setId(UpisPK id) {\n        this.id = id;\n    }\n\n    public Musterija getMusterija() {\n        return this.musterija;\n    }\n\n    public void setMusterija(Musterija musterija) {\n        this.musterija = musterija;\n    }\n\n    public Rezervacija getRezervacija() {\n        return this.rezervacija;\n    }\n\n    public void setRezervacija(Rezervacija rezervacija) {\n        this.rezervacija = rezervacija;\n    }\n\n}\n</code></pre>\n<p>UpisPK.java:</p>\n<pre><code>@Embeddable\npublic class UpisPK implements Serializable {\n    //default serial version id, required for serializable classes.\n    private static final long serialVersionUID = 1L;\n\n    @Column(insertable=false, updatable=false)\n    private int idRezervacija;\n\n    @Column(insertable=false, updatable=false)\n    private int idMusterija;\n\n    public UpisPK() {\n    }\n    public int getIdRezervacija() {\n        return this.idRezervacija;\n    }\n    public void setIdRezervacija(int idRezervacija) {\n        this.idRezervacija = idRezervacija;\n    }\n    public int getIdMusterija() {\n        return this.idMusterija;\n    }\n    public void setIdMusterija(int idMusterija) {\n        this.idMusterija = idMusterija;\n    }\n\n    public boolean equals(Object other) {\n        if (this == other) {\n            return true;\n        }\n        if (!(other instanceof UpisPK)) {\n            return false;\n        }\n        UpisPK castOther = (UpisPK)other;\n        return \n            (this.idRezervacija == castOther.idRezervacija)\n            &amp;&amp; (this.idMusterija == castOther.idMusterija);\n    }\n\n    public int hashCode() {\n        final int prime = 31;\n        int hash = 17;\n        hash = hash * prime + this.idRezervacija;\n        hash = hash * prime + this.idMusterija;\n        \n        return hash;\n    }\n}\n</code></pre>\n<p>Musterija.java:</p>\n<pre><code>@Entity\n@NamedQuery(name=&quot;Musterija.findAll&quot;, query=&quot;SELECT m FROM Musterija m&quot;)\npublic class Musterija implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private int idMusterija;\n\n    private String adresa;\n\n    private String brTelefona;\n\n    private String email;\n\n    private String ime;\n\n    private String prezime;\n\n    //bi-directional many-to-one association to Narudzbina\n    @OneToMany(mappedBy=&quot;musterija&quot;)\n    private List&lt;Narudzbina&gt; narudzbinas;\n\n    //bi-directional many-to-many association to Rezervacija\n    @ManyToMany(mappedBy=&quot;musterijas&quot;)\n    private List&lt;Rezervacija&gt; rezervacijas;\n\n    //bi-directional many-to-one association to Upis\n    @OneToMany(mappedBy=&quot;musterija&quot;)\n    private List&lt;Upis&gt; upis;\n\n    public Musterija() {\n    }\n\n    public int getIdMusterija() {\n        return this.idMusterija;\n    }\n\n    public void setIdMusterija(int idMusterija) {\n        this.idMusterija = idMusterija;\n    }\n\n    public String getAdresa() {\n        return this.adresa;\n    }\n\n    public void setAdresa(String adresa) {\n        this.adresa = adresa;\n    }\n\n    public String getBrTelefona() {\n        return this.brTelefona;\n    }\n\n    public void setBrTelefona(String brTelefona) {\n        this.brTelefona = brTelefona;\n    }\n\n    public String getEmail() {\n        return this.email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getIme() {\n        return this.ime;\n    }\n\n    public void setIme(String ime) {\n        this.ime = ime;\n    }\n\n    public String getPrezime() {\n        return this.prezime;\n    }\n\n    public void setPrezime(String prezime) {\n        this.prezime = prezime;\n    }\n\n    public List&lt;Narudzbina&gt; getNarudzbinas() {\n        return this.narudzbinas;\n    }\n\n    public void setNarudzbinas(List&lt;Narudzbina&gt; narudzbinas) {\n        this.narudzbinas = narudzbinas;\n    }\n\n    public Narudzbina addNarudzbina(Narudzbina narudzbina) {\n        getNarudzbinas().add(narudzbina);\n        narudzbina.setMusterija(this);\n\n        return narudzbina;\n    }\n\n    public Narudzbina removeNarudzbina(Narudzbina narudzbina) {\n        getNarudzbinas().remove(narudzbina);\n        narudzbina.setMusterija(null);\n\n        return narudzbina;\n    }\n\n    public List&lt;Rezervacija&gt; getRezervacijas() {\n        return this.rezervacijas;\n    }\n\n    public void setRezervacijas(List&lt;Rezervacija&gt; rezervacijas) {\n        this.rezervacijas = rezervacijas;\n    }\n\n    public List&lt;Upis&gt; getUpis() {\n        return this.upis;\n    }\n\n    public void setUpis(List&lt;Upis&gt; upis) {\n        this.upis = upis;\n    }\n\n    public Upis addUpi(Upis upi) {\n        getUpis().add(upi);\n        upi.setMusterija(this);\n\n        return upi;\n    }\n\n    public Upis removeUpi(Upis upi) {\n        getUpis().remove(upi);\n        upi.setMusterija(null);\n\n        return upi;\n    }\n\n}\n</code></pre>\n<p>RezervacijaController.java:</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/rezervacije&quot;)\npublic class RezervacijaController {\n\n    @Autowired\n    RezervacijaRepository rr;\n    @Autowired\n    MusterijaRepository mr;\n    @Autowired\n    StoRepository sr;\n    @Autowired\n    UpisRepository ur;\n\n    @GetMapping(value = &quot;popuniStolove&quot;)\n    public String popuniStolove(HttpServletRequest request) {\n        List&lt;Sto&gt; stolovi = sr.findAll();\n        request.setAttribute(&quot;stolovi&quot;, stolovi);\n        return &quot;rezervacijaStola&quot;;\n    }\n    \n    @PostMapping(value = &quot;unesiRezervaciju&quot;)\n    public String unesiRezervaciju(Integer brMusterija, Date datum, Sto sto, HttpServletRequest request) {\n        Rezervacija r = new Rezervacija();\n        r.setBrMusterija(brMusterija);\n        r.setCenaRezervacije(800.0 * brMusterija);\n        r.setDatumRezervacije(datum);\n        sto.addRezervacija(r);\n        sr.updateSto(sto);\n        \n        List&lt;Musterija&gt; musterije = new ArrayList&lt;Musterija&gt;();\n        request.getSession().setAttribute(&quot;musterije&quot;, musterije);\n        request.getSession().setAttribute(&quot;rezervacija&quot;, r);\n        return &quot;unosMusterija&quot;;\n    }\n    \n    @SuppressWarnings(&quot;unchecked&quot;)\n    @PostMapping(value = &quot;/dodajMusteriju&quot;)\n    public String dodajMusteriju(String ime, String prezime, String adresa, String email, String brTelefona, HttpServletRequest request) {\n        List&lt;Musterija&gt; musterije = (ArrayList&lt;Musterija&gt;) request.getSession().getAttribute(&quot;musterije&quot;);\n        Musterija m = new Musterija();\n        m.setIme(ime);\n        m.setPrezime(prezime);\n        m.setAdresa(adresa);\n        m.setEmail(email);\n        m.setBrTelefona(brTelefona);\n        musterije.add(m);\n        request.setAttribute(&quot;musterije&quot;, musterije);\n        return &quot;unosMusterija&quot;;\n    }\n    \n    @SuppressWarnings(&quot;unchecked&quot;)\n    @PostMapping(value = &quot;rezervisi&quot;)\n    public String rezervisi(HttpServletRequest request) {\n        Rezervacija r = (Rezervacija) request.getSession().getAttribute(&quot;rezervacija&quot;);\n        List&lt;Musterija&gt; musterije = (ArrayList&lt;Musterija&gt;) request.getSession().getAttribute(&quot;musterije&quot;);\n        \n        for (Musterija m : musterije) {\n            Upis upis = new Upis();\n            UpisPK uPK = new UpisPK();\n            uPK.setIdMusterija(m.getIdMusterija());\n            uPK.setIdRezervacija(r.getIdRezervacija());\n            upis.setId(uPK);\n            ur.save(upis);\n            mr.save(m);\n        }\n        \n        rr.save(r);\n        return &quot;uspehRezervacija&quot;;\n    }\n    \n    @InitBinder\n    public void initBinder(WebDataBinder binder) {\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n        sdf.setLenient(true);\n        binder.registerCustomEditor(Date.class, new CustomDateEditor(sdf, true));\n    }\n\n}\n</code></pre>\n<p>Repositories:</p>\n<pre><code>public interface UpisRepository extends JpaRepository&lt;Upis, UpisPK&gt; {\n\n}\n</code></pre>\n<pre><code>@Repository\n@Transactional\npublic class StoRepoSpecificImpl implements StoRepoSpecific {\n\n    @PersistenceContext\n    EntityManager em;\n\n    @Override\n    public void updateSto(Sto sto) {\n        try {\n            em.merge(sto);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<pre><code>public interface StoRepoSpecific {\n\n    public void updateSto(Sto sto);\n    \n}\n</code></pre>\n<pre><code>public interface StoRepository extends JpaRepository&lt;Sto, Integer&gt;, StoRepoSpecific {\n\n}\n</code></pre>\n<p>You can see my public <a href=\"https://github.com/IgorArnaut/MIS-Picerija\" rel=\"nofollow noreferrer\">project</a> on Github.</p>\n"},{"tags":["java","aem","parent","groovy-console"],"answers":[{"tags":[],"owner":{"account_id":1503775,"reputation":18065,"user_id":1407656,"accept_rate":81,"display_name":"toniedzwiedz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657660620,"creation_date":1657577854,"answer_id":72945204,"question_id":72942828,"body_markdown":"The idiomatic way to find the `Page` containing a resource would be via [`PageManager#getContainingPage`](https://developer.adobe.com/experience-manager/reference-materials/6-4/javadoc/com/day/cq/wcm/api/PageManager.html#getContainingPage-org.apache.sling.api.resource.Resource-).\r\n\r\nOnce you&#39;ve got a `Page` object, you can read the relevant title. Keep in mind that there are a few options to choose from:\r\n- [`title`](https://developer.adobe.com/experience-manager/reference-materials/6-4/javadoc/com/day/cq/wcm/api/Page.html#getTitle--)\r\n- [`pageTitle`](https://developer.adobe.com/experience-manager/reference-materials/6-4/javadoc/com/day/cq/wcm/api/Page.html#getPageTitle--)\r\n- [`navigationTitle`](https://developer.adobe.com/experience-manager/reference-materials/6-4/javadoc/com/day/cq/wcm/api/Page.html#getNavigationTitle--)\r\n\r\nThey can map to different dialog fields in the Page properties and certain components may use them differently, sometimes using fallbacks from one to another in case a value is absent. Same goes for different page-level components which may or may not allow authors to set a given property.\r\n\r\nThe exact use should be [pretty clear if you use AEM Core Components](https://github.com/adobe/aem-core-wcm-components/pull/834/files) but custom components may need a bit of investigation, especially if you&#39;re dealing with a long-lived codebase.\r\n\r\nIf none of the titles is a good fit, you could use the [`name` of the page](https://developer.adobe.com/experience-manager/reference-materials/6-5/javadoc/com/day/cq/wcm/api/Page.html#getName--) which should match its node name in the repository.\r\n\r\nThe `PageManager` itself should be available as a [default binding in the Groovy console, under `pageManager`](https://github.com/CID15/aem-groovy-console/blob/0efb96bef6239a46fa9c2664fbb68e21a56213c8/bundle/src/main/groovy/org/cid15/aem/groovy/console/extension/impl/DefaultBindingExtensionProvider.groovy#L43). Alternatively, it can be adapted from a `ResourceResolver`, e.g. if you need some custom permissions.","title":"How to find parent node with specific name?","body":"<p>The idiomatic way to find the <code>Page</code> containing a resource would be via <a href=\"https://developer.adobe.com/experience-manager/reference-materials/6-4/javadoc/com/day/cq/wcm/api/PageManager.html#getContainingPage-org.apache.sling.api.resource.Resource-\" rel=\"nofollow noreferrer\"><code>PageManager#getContainingPage</code></a>.</p>\n<p>Once you've got a <code>Page</code> object, you can read the relevant title. Keep in mind that there are a few options to choose from:</p>\n<ul>\n<li><a href=\"https://developer.adobe.com/experience-manager/reference-materials/6-4/javadoc/com/day/cq/wcm/api/Page.html#getTitle--\" rel=\"nofollow noreferrer\"><code>title</code></a></li>\n<li><a href=\"https://developer.adobe.com/experience-manager/reference-materials/6-4/javadoc/com/day/cq/wcm/api/Page.html#getPageTitle--\" rel=\"nofollow noreferrer\"><code>pageTitle</code></a></li>\n<li><a href=\"https://developer.adobe.com/experience-manager/reference-materials/6-4/javadoc/com/day/cq/wcm/api/Page.html#getNavigationTitle--\" rel=\"nofollow noreferrer\"><code>navigationTitle</code></a></li>\n</ul>\n<p>They can map to different dialog fields in the Page properties and certain components may use them differently, sometimes using fallbacks from one to another in case a value is absent. Same goes for different page-level components which may or may not allow authors to set a given property.</p>\n<p>The exact use should be <a href=\"https://github.com/adobe/aem-core-wcm-components/pull/834/files\" rel=\"nofollow noreferrer\">pretty clear if you use AEM Core Components</a> but custom components may need a bit of investigation, especially if you're dealing with a long-lived codebase.</p>\n<p>If none of the titles is a good fit, you could use the <a href=\"https://developer.adobe.com/experience-manager/reference-materials/6-5/javadoc/com/day/cq/wcm/api/Page.html#getName--\" rel=\"nofollow noreferrer\"><code>name</code> of the page</a> which should match its node name in the repository.</p>\n<p>The <code>PageManager</code> itself should be available as a <a href=\"https://github.com/CID15/aem-groovy-console/blob/0efb96bef6239a46fa9c2664fbb68e21a56213c8/bundle/src/main/groovy/org/cid15/aem/groovy/console/extension/impl/DefaultBindingExtensionProvider.groovy#L43\" rel=\"nofollow noreferrer\">default binding in the Groovy console, under <code>pageManager</code></a>. Alternatively, it can be adapted from a <code>ResourceResolver</code>, e.g. if you need some custom permissions.</p>\n"}],"owner":{"account_id":24216315,"reputation":1,"user_id":18172141,"display_name":"alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657660620,"creation_date":1657562471,"question_id":72942828,"body_markdown":"    def query = SQLQuery() &lt;- my sql query\r\n    def result = query.execute()\r\n    result.nodes.each{node -&gt; \r\n        node.setProperty(JcrConstants.JCR_TITLE, &quot;new3&quot;)\r\n\r\nI found all components with a certain resource type using groovy consoly, and I need to replace their titles with the titles of the pages in which this component is located.\r\nI need to use parent node named `jcr:content`\r\n\r\nInstead of &quot;new3&quot; i can use `node.getParent().getParent().getParent().getProperty(&quot;jcr:title&quot;)`,but pages can have different structures. So, how to find parent node by name ?","title":"How to find parent node with specific name?","body":"<pre><code>def query = SQLQuery() &lt;- my sql query\ndef result = query.execute()\nresult.nodes.each{node -&gt; \n    node.setProperty(JcrConstants.JCR_TITLE, &quot;new3&quot;)\n</code></pre>\n<p>I found all components with a certain resource type using groovy consoly, and I need to replace their titles with the titles of the pages in which this component is located.\nI need to use parent node named <code>jcr:content</code></p>\n<p>Instead of &quot;new3&quot; i can use <code>node.getParent().getParent().getParent().getProperty(&quot;jcr:title&quot;)</code>,but pages can have different structures. So, how to find parent node by name ?</p>\n"},{"tags":["java","gpx","jenetics"],"answers":[{"tags":[],"owner":{"account_id":464675,"reputation":834,"user_id":868337,"display_name":"Franz Wilhelmst&#246;tter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657660417,"creation_date":1657575220,"answer_id":72944894,"question_id":72944526,"body_markdown":"If you pause your run, your watch should create a new  track-segment, like\r\n```xml\r\n&lt;trk&gt;\r\n\t&lt;trkseg&gt;\r\n\t\t&lt;trkpt lat=&quot;48.19949341&quot; lon=&quot;16.40377444&quot;&gt;&lt;/trkpt&gt;\r\n\t\t&lt;trkpt lat=&quot;48.19948359&quot; lon=&quot;16.40371021&quot;&gt;&lt;/trkpt&gt;\r\n\t\t...\r\n\t&lt;/trkseg&gt;\r\n\t&lt;trkseg&gt;\r\n\t\t&lt;trkpt lat=&quot;48.19949341&quot; lon=&quot;16.40377444&quot;&gt;&lt;/trkpt&gt;\r\n\t\t&lt;trkpt lat=&quot;48.19948359&quot; lon=&quot;16.40371021&quot;&gt;&lt;/trkpt&gt;\r\n\t\t...\r\n\t&lt;/trkseg&gt;\t\r\n&lt;/trk&gt;\r\n```\r\n\r\nThe JPX library lets you access the track-segments via `Gpx -&gt; getTracks -&gt; getTrackSegments`. In your example your watch should have created one track with two track-segments. The track-segments will contain the track-points before and after the stop.\r\n\r\n**Update: TrackSegment collector**\r\n\r\nThe following code lets you collect way-points into track-segments.\r\n```java\r\nimport static java.lang.String.format;\r\n\r\nimport java.io.IOException;\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.stream.Collector;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\nimport io.jenetics.jpx.GPX;\r\nimport io.jenetics.jpx.Track;\r\nimport io.jenetics.jpx.TrackSegment;\r\nimport io.jenetics.jpx.WayPoint;\r\n\r\npublic final class TrackSegments {\r\n    private TrackSegments() {\r\n    }\r\n\r\n    /**\r\n     * Return a new collector, which collects a given way point list into a list\r\n     * of {@link TrackSegment}s. All way points without a timestamp are filtered\r\n     * out. A new segment is created if the timestamp of two consecutive points\r\n     * are greater than the give {@code maxGap} duration. Each segment will\r\n     * contain at least {@code minSegmentSize} points.\r\n     *\r\n     * @param maxGap the maximal allowed gap between two points within a\r\n     *        track segment. If two points exceed the given gap, a new segment\r\n     *        is created.\r\n     * @param minSegmentSize the minimal number of way points a segment must\r\n     *        consist\r\n     * @return a new track segment collector\r\n     * @throws NullPointerException if the given {@code maxGap} is {@code null}\r\n     * @throws IllegalArgumentException if the {@code maxGap} or\r\n     *         {@code minSegmentSize} is negative\r\n     */\r\n    public static Collector&lt;WayPoint, ?, List&lt;TrackSegment&gt;&gt;\r\n    toTrackSegments(final Duration maxGap, final int minSegmentSize) {\r\n        if (maxGap.isNegative()) {\r\n            throw new IllegalArgumentException(format(\r\n                &quot;The maximal allowed point gap must not be negative: %s&quot;,\r\n                maxGap\r\n            ));\r\n        }\r\n        if (minSegmentSize &lt; 1) {\r\n            throw new IllegalArgumentException(format(\r\n                &quot;The minimal track segment size must be greater 0, but was %d.&quot;,\r\n                minSegmentSize\r\n            ));\r\n        }\r\n\r\n        return Collectors.collectingAndThen(\r\n            Collectors.toList(),\r\n            points -&gt; toTrackSegments(points, maxGap, minSegmentSize)\r\n        );\r\n    }\r\n\r\n    private static List&lt;TrackSegment&gt; toTrackSegments(\r\n        final List&lt;WayPoint&gt; points,\r\n        final Duration gap,\r\n        final int minSegmentSize\r\n    ) {\r\n        final List&lt;WayPoint&gt; wps = points.stream()\r\n            .filter(wp -&gt; wp.getTime().isPresent())\r\n            .toList();\r\n\r\n        if (wps.size() &lt; minSegmentSize) {\r\n            return List.of();\r\n        }\r\n\r\n        final List&lt;TrackSegment&gt; segments = new ArrayList&lt;&gt;();\r\n        Instant last = wps.get(0).getTime().orElseThrow();\r\n        TrackSegment.Builder segment = TrackSegment.builder();\r\n\r\n        for (final WayPoint point : wps) {\r\n            final Instant zdt = point.getTime().orElseThrow();\r\n\r\n            if (last.plusNanos(gap.toNanos()).isAfter(zdt)) {\r\n                segment.addPoint(point);\r\n            } else {\r\n                if (segment.points().size() &gt;= minSegmentSize) {\r\n                    segments.add(segment.build());\r\n                }\r\n                segment = TrackSegment.builder();\r\n            }\r\n\r\n            last = zdt;\r\n        }\r\n\r\n        if (segment.points().size() &gt;= minSegmentSize) {\r\n            segments.add(segment.build());\r\n        }\r\n\r\n        return segments;\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        final GPX gpx = GPX.Reader.DEFAULT.read(&quot;some_file.gpx&quot;);\r\n\r\n        final Stream&lt;WayPoint&gt; points = gpx.tracks()\r\n            .flatMap(Track::segments)\r\n            .flatMap(TrackSegment::points);\r\n\r\n        final List&lt;TrackSegment&gt; segments = points\r\n            .collect(toTrackSegments(Duration.ofMinutes(1), 10));\r\n    }\r\n\r\n}\r\n```","title":"Jenetics jpx. Read gpx file and time when watch was stopped","body":"<p>If you pause your run, your watch should create a new  track-segment, like</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;trk&gt;\n    &lt;trkseg&gt;\n        &lt;trkpt lat=&quot;48.19949341&quot; lon=&quot;16.40377444&quot;&gt;&lt;/trkpt&gt;\n        &lt;trkpt lat=&quot;48.19948359&quot; lon=&quot;16.40371021&quot;&gt;&lt;/trkpt&gt;\n        ...\n    &lt;/trkseg&gt;\n    &lt;trkseg&gt;\n        &lt;trkpt lat=&quot;48.19949341&quot; lon=&quot;16.40377444&quot;&gt;&lt;/trkpt&gt;\n        &lt;trkpt lat=&quot;48.19948359&quot; lon=&quot;16.40371021&quot;&gt;&lt;/trkpt&gt;\n        ...\n    &lt;/trkseg&gt;   \n&lt;/trk&gt;\n</code></pre>\n<p>The JPX library lets you access the track-segments via <code>Gpx -&gt; getTracks -&gt; getTrackSegments</code>. In your example your watch should have created one track with two track-segments. The track-segments will contain the track-points before and after the stop.</p>\n<p><strong>Update: TrackSegment collector</strong></p>\n<p>The following code lets you collect way-points into track-segments.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.lang.String.format;\n\nimport java.io.IOException;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.Collector;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\nimport io.jenetics.jpx.GPX;\nimport io.jenetics.jpx.Track;\nimport io.jenetics.jpx.TrackSegment;\nimport io.jenetics.jpx.WayPoint;\n\npublic final class TrackSegments {\n    private TrackSegments() {\n    }\n\n    /**\n     * Return a new collector, which collects a given way point list into a list\n     * of {@link TrackSegment}s. All way points without a timestamp are filtered\n     * out. A new segment is created if the timestamp of two consecutive points\n     * are greater than the give {@code maxGap} duration. Each segment will\n     * contain at least {@code minSegmentSize} points.\n     *\n     * @param maxGap the maximal allowed gap between two points within a\n     *        track segment. If two points exceed the given gap, a new segment\n     *        is created.\n     * @param minSegmentSize the minimal number of way points a segment must\n     *        consist\n     * @return a new track segment collector\n     * @throws NullPointerException if the given {@code maxGap} is {@code null}\n     * @throws IllegalArgumentException if the {@code maxGap} or\n     *         {@code minSegmentSize} is negative\n     */\n    public static Collector&lt;WayPoint, ?, List&lt;TrackSegment&gt;&gt;\n    toTrackSegments(final Duration maxGap, final int minSegmentSize) {\n        if (maxGap.isNegative()) {\n            throw new IllegalArgumentException(format(\n                &quot;The maximal allowed point gap must not be negative: %s&quot;,\n                maxGap\n            ));\n        }\n        if (minSegmentSize &lt; 1) {\n            throw new IllegalArgumentException(format(\n                &quot;The minimal track segment size must be greater 0, but was %d.&quot;,\n                minSegmentSize\n            ));\n        }\n\n        return Collectors.collectingAndThen(\n            Collectors.toList(),\n            points -&gt; toTrackSegments(points, maxGap, minSegmentSize)\n        );\n    }\n\n    private static List&lt;TrackSegment&gt; toTrackSegments(\n        final List&lt;WayPoint&gt; points,\n        final Duration gap,\n        final int minSegmentSize\n    ) {\n        final List&lt;WayPoint&gt; wps = points.stream()\n            .filter(wp -&gt; wp.getTime().isPresent())\n            .toList();\n\n        if (wps.size() &lt; minSegmentSize) {\n            return List.of();\n        }\n\n        final List&lt;TrackSegment&gt; segments = new ArrayList&lt;&gt;();\n        Instant last = wps.get(0).getTime().orElseThrow();\n        TrackSegment.Builder segment = TrackSegment.builder();\n\n        for (final WayPoint point : wps) {\n            final Instant zdt = point.getTime().orElseThrow();\n\n            if (last.plusNanos(gap.toNanos()).isAfter(zdt)) {\n                segment.addPoint(point);\n            } else {\n                if (segment.points().size() &gt;= minSegmentSize) {\n                    segments.add(segment.build());\n                }\n                segment = TrackSegment.builder();\n            }\n\n            last = zdt;\n        }\n\n        if (segment.points().size() &gt;= minSegmentSize) {\n            segments.add(segment.build());\n        }\n\n        return segments;\n    }\n\n    public static void main(String[] args) throws IOException {\n        final GPX gpx = GPX.Reader.DEFAULT.read(&quot;some_file.gpx&quot;);\n\n        final Stream&lt;WayPoint&gt; points = gpx.tracks()\n            .flatMap(Track::segments)\n            .flatMap(TrackSegment::points);\n\n        final List&lt;TrackSegment&gt; segments = points\n            .collect(toTrackSegments(Duration.ofMinutes(1), 10));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4910838,"reputation":357,"user_id":3956189,"accept_rate":30,"display_name":"Gilles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657660417,"creation_date":1657572585,"question_id":72944526,"body_markdown":"I am using jenetics jpx to read GPX files in java. That&#39;s works well.\r\nThe gpx files are taken from my watch, from running sessions.\r\nI am reading the track points and would like to know if there is a way to determine, in the GPX file, when the watch was stopped for a break.\r\nEx: if I run for 15minutes then stop the watch for 5 minutes, then start it again and run for 15minutes the parsing of the gpx file will give me 35 minutes.\r\nBut I want to record 30 minutes.\r\n\r\nDo you know if it is possible to detect this?","title":"Jenetics jpx. Read gpx file and time when watch was stopped","body":"<p>I am using jenetics jpx to read GPX files in java. That's works well.\nThe gpx files are taken from my watch, from running sessions.\nI am reading the track points and would like to know if there is a way to determine, in the GPX file, when the watch was stopped for a break.\nEx: if I run for 15minutes then stop the watch for 5 minutes, then start it again and run for 15minutes the parsing of the gpx file will give me 35 minutes.\nBut I want to record 30 minutes.</p>\n<p>Do you know if it is possible to detect this?</p>\n"},{"tags":["java","operating-system","jvm","webassembly","wasi"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1623755861,"post_id":67985166,"comment_id":120163432,"body_markdown":"When you use Java, you can see the standard library as the system interface. You could call this a &quot;virtual operating system&quot;, although that&#39;s not how people commonly name it. Your question is one of those &quot;word game&quot; questions that gets asked sometimes - people sometimes assume that technical terms always have very exact meanings (which isn&#39;t so) and then get lost in the exact definition of a term. So: Conceptually the Java std lib and the WASI sys interface are similar, but don&#39;t get too hung up on the exact correspondence and differences.","body":"When you use Java, you can see the standard library as the system interface. You could call this a &quot;virtual operating system&quot;, although that&#39;s not how people commonly name it. Your question is one of those &quot;word game&quot; questions that gets asked sometimes - people sometimes assume that technical terms always have very exact meanings (which isn&#39;t so) and then get lost in the exact definition of a term. So: Conceptually the Java std lib and the WASI sys interface are similar, but don&#39;t get too hung up on the exact correspondence and differences."},{"owner":{"account_id":15894846,"reputation":649,"user_id":11468868,"display_name":"prohit"},"score":0,"creation_date":1623761009,"post_id":67985166,"comment_id":120165629,"body_markdown":"Thanks for your clarification. I&#39;m wondering how they differ in implementations. In WASI, supported functions that use system resources get compiled to their corresponding WASI counterpart. They are then provided from a WASI conform runtime, that is platform/os specific. How is it in Java? Do JVMs interpret methods that use std libs in the same abstract way and translate them to platform/os specific instructions?","body":"Thanks for your clarification. I&#39;m wondering how they differ in implementations. In WASI, supported functions that use system resources get compiled to their corresponding WASI counterpart. They are then provided from a WASI conform runtime, that is platform/os specific. How is it in Java? Do JVMs interpret methods that use std libs in the same abstract way and translate them to platform/os specific instructions?"}],"owner":{"account_id":15894846,"reputation":649,"user_id":11468868,"display_name":"prohit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":759,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1657659852,"creation_date":1623755498,"question_id":67985166,"body_markdown":"My question is if the JVM actually provides a virtual operating system too, similar to how WASI does. \r\n\r\nAs for my understand WASM and JVM are both virtual machines, providing an environment to execute some bytecode. Their aim is to abstract the *machine layer*, thus CPU (architecture) and its&#39; ISA. \r\n\r\nWASM itself has no access to other system resources (fs, networking, ...) because of it&#39;s sandbox design. That&#39;s where WASI, as an extension to WASM, provides an abstract *operating system layer*, so that system resources can be accessed.\r\n\r\nFor Java applications, I can use native (Java) APIs, such as java.io/java.nio or java.net, directly on the JVM.\r\n\r\nI understand that both approaches handle security differently. E.g. I do not need to provide access to a file myself to a Java application, but as with WASI I do need to. My question is rather if they conceptually provide similar levels of abstractions in case of the OS.\r\n\r\nsource to WASI: https://hacks.mozilla.org/2019/03/standardizing-wasi-a-webassembly-system-interface/\r\n\r\nEDIT: We continued discussing in the WASI repository. https://github.com/WebAssembly/WASI/issues/439","title":"WASI and JVM - OS Abstraction","body":"<p>My question is if the JVM actually provides a virtual operating system too, similar to how WASI does.</p>\n<p>As for my understand WASM and JVM are both virtual machines, providing an environment to execute some bytecode. Their aim is to abstract the <em>machine layer</em>, thus CPU (architecture) and its' ISA.</p>\n<p>WASM itself has no access to other system resources (fs, networking, ...) because of it's sandbox design. That's where WASI, as an extension to WASM, provides an abstract <em>operating system layer</em>, so that system resources can be accessed.</p>\n<p>For Java applications, I can use native (Java) APIs, such as java.io/java.nio or java.net, directly on the JVM.</p>\n<p>I understand that both approaches handle security differently. E.g. I do not need to provide access to a file myself to a Java application, but as with WASI I do need to. My question is rather if they conceptually provide similar levels of abstractions in case of the OS.</p>\n<p>source to WASI: <a href=\"https://hacks.mozilla.org/2019/03/standardizing-wasi-a-webassembly-system-interface/\" rel=\"nofollow noreferrer\">https://hacks.mozilla.org/2019/03/standardizing-wasi-a-webassembly-system-interface/</a></p>\n<p>EDIT: We continued discussing in the WASI repository. <a href=\"https://github.com/WebAssembly/WASI/issues/439\" rel=\"nofollow noreferrer\">https://github.com/WebAssembly/WASI/issues/439</a></p>\n"},{"tags":["java","spring","spring-boot","rest","spring-mvc"],"comments":[{"owner":{"display_name":"user19522422"},"score":0,"creation_date":1657655174,"post_id":72957432,"comment_id":128861120,"body_markdown":"Does anybody else never used a generic approach for these return types in Spring Boot?","body":"Does anybody else never used a generic approach for these return types in Spring Boot?"}],"answers":[{"tags":[],"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657659421,"creation_date":1657655827,"answer_id":72957728,"question_id":72957432,"body_markdown":"Specific ExceptionHandler: \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/products&quot;)\r\n    public class ProductController {\r\n    \r\n      @Autowierd private ProductService productService; \r\n      \r\n      @GetMapping(&quot;/{code}&quot;)\r\n      public ResponseEntity&lt;Product&gt; findByCode(@PathVariable String code) {\r\n        return productService.findByCode(code).map(ResponseEntity::ok).orElseThrow(() -&gt; NoContentException::new);\r\n      }\r\n    \r\n       @ExceptionHandler(NoContentException.class)\r\n       public ResponseEntity handleNoContent(NoContentException e) {\r\n         return ResponseEntity.status(HttpStatus.NO_CONTENT).body(new ResponseMessage(&quot;No data&quot;));\r\n       }\r\n    }\r\n\r\nOr Common ExceptionHandler :\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/products&quot;)\r\n    public class ProductController {\r\n    \r\n      @Autowierd private ProductService productService; \r\n      \r\n      @GetMapping(&quot;/{code}&quot;)\r\n      public ResponseEntity&lt;Product&gt; findByCode(@PathVariable String code) {\r\n        return productService.findByCode(code).map(ResponseEntity::ok).orElseThrow(() -&gt; NoContentException::new);\r\n      }\r\n    }\r\n\r\nPlus : \r\n\r\n    @ControllerAdvice\r\n    public class CommonExceptionHandler extends ResponseEntityExceptionHandler {\r\n    \r\n       @ExceptionHandler(MaxUploadSizeExceededException.class)\r\n       public ResponseEntity handleMaxSizeException(MaxUploadSizeExceededException e) {\r\n         return ResponseEntity.status(HttpStatus.EXPECTATION_FAILED).body(new ResponseMessage(&quot;Too large!&quot;));\r\n       }\r\n\r\n       @ExceptionHandler(NoContentException.class)\r\n       public ResponseEntity handleNoContent(NoContentException e) {\r\n         return ResponseEntity.status(HttpStatus.NO_CONTENT).body(new ResponseMessage(&quot;No data&quot;));\r\n       }\r\n    }","title":"Best way to return ResponseEntity with data, empty and error in Spring Boot?","body":"<p>Specific ExceptionHandler:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/products&quot;)\npublic class ProductController {\n\n  @Autowierd private ProductService productService; \n  \n  @GetMapping(&quot;/{code}&quot;)\n  public ResponseEntity&lt;Product&gt; findByCode(@PathVariable String code) {\n    return productService.findByCode(code).map(ResponseEntity::ok).orElseThrow(() -&gt; NoContentException::new);\n  }\n\n   @ExceptionHandler(NoContentException.class)\n   public ResponseEntity handleNoContent(NoContentException e) {\n     return ResponseEntity.status(HttpStatus.NO_CONTENT).body(new ResponseMessage(&quot;No data&quot;));\n   }\n}\n</code></pre>\n<p>Or Common ExceptionHandler :</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/products&quot;)\npublic class ProductController {\n\n  @Autowierd private ProductService productService; \n  \n  @GetMapping(&quot;/{code}&quot;)\n  public ResponseEntity&lt;Product&gt; findByCode(@PathVariable String code) {\n    return productService.findByCode(code).map(ResponseEntity::ok).orElseThrow(() -&gt; NoContentException::new);\n  }\n}\n</code></pre>\n<p>Plus :</p>\n<pre><code>@ControllerAdvice\npublic class CommonExceptionHandler extends ResponseEntityExceptionHandler {\n\n   @ExceptionHandler(MaxUploadSizeExceededException.class)\n   public ResponseEntity handleMaxSizeException(MaxUploadSizeExceededException e) {\n     return ResponseEntity.status(HttpStatus.EXPECTATION_FAILED).body(new ResponseMessage(&quot;Too large!&quot;));\n   }\n\n   @ExceptionHandler(NoContentException.class)\n   public ResponseEntity handleNoContent(NoContentException e) {\n     return ResponseEntity.status(HttpStatus.NO_CONTENT).body(new ResponseMessage(&quot;No data&quot;));\n   }\n}\n</code></pre>\n"}],"owner":{"display_name":"user19522422"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657659421,"creation_date":1657653997,"question_id":72957432,"body_markdown":"I am trying to implement a generic approach that can be used for each return types from Service to Controller in my Spring Boot app. After searching and reading several threads and articles, I see that I need an approach with `@ControllerAdvice` and `@ExceptionHandler` annotations. \r\n\r\nFor exception, I created the following class:\r\n\r\n\r\n```\r\n@ControllerAdvice\r\npublic class FileUploadException extends ResponseEntityExceptionHandler {\r\n\r\n    @SuppressWarnings(&quot;rawtypes&quot;)\r\n    @ExceptionHandler(MaxUploadSizeExceededException.class)\r\n    public ResponseEntity handleMaxSizeException(MaxUploadSizeExceededException e) {\r\n        return ResponseEntity.status(HttpStatus.EXPECTATION_FAILED)\r\n                   .body(new ResponseMessage(&quot;Too large!&quot;));\r\n    }\r\n}\r\n```\r\n\r\nHowever, I am not sure if it is ok and how I should treat `Optional.empty()` results in my Service and Controller. So, could you please suggest me a proper approach or give an example that is used for exception, result with data and result with `Optional.empty()` ? \r\n\r\nPlease note that I have the following articles, but they are too old and I am not sure if these approach are still good or there is a better approach with the new versions of Spring Boot, etc? \r\n\r\n[Guide to Spring Boot REST API Error Handling](https://www.toptal.com/java/spring-boot-rest-api-error-handling)\r\n\r\n[Exception Handling in Spring MVC](https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc)\r\n","title":"Best way to return ResponseEntity with data, empty and error in Spring Boot?","body":"<p>I am trying to implement a generic approach that can be used for each return types from Service to Controller in my Spring Boot app. After searching and reading several threads and articles, I see that I need an approach with <code>@ControllerAdvice</code> and <code>@ExceptionHandler</code> annotations.</p>\n<p>For exception, I created the following class:</p>\n<pre><code>@ControllerAdvice\npublic class FileUploadException extends ResponseEntityExceptionHandler {\n\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    @ExceptionHandler(MaxUploadSizeExceededException.class)\n    public ResponseEntity handleMaxSizeException(MaxUploadSizeExceededException e) {\n        return ResponseEntity.status(HttpStatus.EXPECTATION_FAILED)\n                   .body(new ResponseMessage(&quot;Too large!&quot;));\n    }\n}\n</code></pre>\n<p>However, I am not sure if it is ok and how I should treat <code>Optional.empty()</code> results in my Service and Controller. So, could you please suggest me a proper approach or give an example that is used for exception, result with data and result with <code>Optional.empty()</code> ?</p>\n<p>Please note that I have the following articles, but they are too old and I am not sure if these approach are still good or there is a better approach with the new versions of Spring Boot, etc?</p>\n<p><a href=\"https://www.toptal.com/java/spring-boot-rest-api-error-handling\" rel=\"nofollow noreferrer\">Guide to Spring Boot REST API Error Handling</a></p>\n<p><a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"nofollow noreferrer\">Exception Handling in Spring MVC</a></p>\n"},{"tags":["java","frameworks","microservices","profile","micronaut"],"answers":[{"tags":[],"owner":{"account_id":4129849,"reputation":3184,"user_id":3388069,"display_name":"Sascha Frinken"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1553145645,"creation_date":1537133317,"answer_id":52358532,"question_id":52357548,"body_markdown":"You can set active environment(s) either by *system property* **`micronaut.environments`** (`java -Dmicronaut.environments=foo,bar -jar myapp.jar`) or by *environment variable* **`MICRONAUT_ENVIRONMENTS`**.\r\n\r\nSee Documentation: https://docs.micronaut.io/snapshot/guide/index.html#environments","title":"How to specify a profile in a Micronaut application?","body":"<p>You can set active environment(s) either by <em>system property</em> <strong><code>micronaut.environments</code></strong> (<code>java -Dmicronaut.environments=foo,bar -jar myapp.jar</code>) or by <em>environment variable</em> <strong><code>MICRONAUT_ENVIRONMENTS</code></strong>.</p>\n\n<p>See Documentation: <a href=\"https://docs.micronaut.io/snapshot/guide/index.html#environments\" rel=\"noreferrer\">https://docs.micronaut.io/snapshot/guide/index.html#environments</a></p>\n"},{"tags":[],"owner":{"account_id":9288521,"reputation":128,"user_id":6897598,"display_name":"BazSTR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643409791,"creation_date":1643409791,"answer_id":70901081,"question_id":52357548,"body_markdown":"Here is my example of how to build and run Micronaut using environment variables and CMD in Win 10 with prod profile:\r\n\r\n    gradlew clean build -x test -x integrationTest\r\n    set MICRONAUT_ENVIRONMENTS=prod\r\n    echo %MICRONAUT_ENVIRONMENTS%\r\n    java -jar build/libs/app.jar \r\n\r\nDon&#39;t forget to check the environment in the console log after starting. Search for: &quot;Environment(s): \t[prod]&quot;.\r\n\r\nSolution with system property (java -Dmicronaut.environments=foo,bar -jar myapp.jar) does not work for me, but under Ubuntu/Mac it works fine.\r\nI&#39;m using micronautVersion=2.4.4","title":"How to specify a profile in a Micronaut application?","body":"<p>Here is my example of how to build and run Micronaut using environment variables and CMD in Win 10 with prod profile:</p>\n<pre><code>gradlew clean build -x test -x integrationTest\nset MICRONAUT_ENVIRONMENTS=prod\necho %MICRONAUT_ENVIRONMENTS%\njava -jar build/libs/app.jar \n</code></pre>\n<p>Don't forget to check the environment in the console log after starting. Search for: &quot;Environment(s):   [prod]&quot;.</p>\n<p>Solution with system property (java -Dmicronaut.environments=foo,bar -jar myapp.jar) does not work for me, but under Ubuntu/Mac it works fine.\nI'm using micronautVersion=2.4.4</p>\n"},{"tags":[],"owner":{"account_id":402778,"reputation":1452,"user_id":770134,"accept_rate":75,"display_name":"fieldju"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657659314,"creation_date":1657659314,"answer_id":72958279,"question_id":52357548,"body_markdown":"If you are trying to do this with gradle and the run task, you can take the following approach.\r\n\r\n***build.gradle***\r\n\r\n    run {\r\n        systemProperties([\r\n            &#39;micronaut.environments&#39;: &#39;local&#39;\r\n        ])\r\n    }\r\n\r\nThis by default will read from `application.yaml` and `application-local.yaml`","title":"How to specify a profile in a Micronaut application?","body":"<p>If you are trying to do this with gradle and the run task, you can take the following approach.</p>\n<p><em><strong>build.gradle</strong></em></p>\n<pre><code>run {\n    systemProperties([\n        'micronaut.environments': 'local'\n    ])\n}\n</code></pre>\n<p>This by default will read from <code>application.yaml</code> and <code>application-local.yaml</code></p>\n"}],"owner":{"account_id":11955858,"reputation":171,"user_id":8748244,"display_name":"tomas lingotti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20889,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":3,"score":14,"last_activity_date":1657659314,"creation_date":1537125034,"question_id":52357548,"body_markdown":"I want to specify different types of configs depending on the environment that I will deploy the app. Like in Spring-boot in the yml file we can set the profile, I want to know if there is a way to do it in Micronaut.\r\n","title":"How to specify a profile in a Micronaut application?","body":"<p>I want to specify different types of configs depending on the environment that I will deploy the app. Like in Spring-boot in the yml file we can set the profile, I want to know if there is a way to do it in Micronaut.</p>\n"},{"tags":["java","android","firebase","kotlin","firebase-authentication"],"owner":{"account_id":6933704,"reputation":761,"user_id":5322411,"accept_rate":60,"display_name":"No Name"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1657659253,"creation_date":1657652916,"question_id":72957262,"body_markdown":"I&#39;m trying to re-authorize a user after changing the password. \r\nBut I am getting this error \r\n\r\n&gt; The custom token format is incorrect. Please check the documentation\r\n\r\nWhat could be wrong?\r\n\r\n\r\nI don&#39;t have a server. I use Firebase Database\r\nI do every step in order:\r\n\r\n1) Change the password first\r\n2) I update the token\r\n3) I use a token for `re-authorization`\r\n\r\nstill getting this error.\r\n\r\n\r\nSometimes I get an error, something like \r\n\r\n&gt; You need to log in to change your password\r\n\r\nbut I&#39;m already logged in. \r\nThen I logout and login, and try to change the password again, but I get the error again `The custom token format is incorrect`.\r\n\r\n\r\nHere is the code for `re-authorization`, what is wrong?\r\n\r\n\r\n    private fun updatePassword(newPassword: String): Single&lt;Boolean&gt; {\r\n        return Single.create { emitter -&gt;\r\n            Firebase.auth.currentUser?.updatePassword(newPassword)\r\n                ?.addOnCompleteListener { task -&gt;\r\n                    if (task.isSuccessful) {\r\n                        emitter.onSuccess(true)\r\n                    } else {\r\n                        emitter.onSuccess(false)\r\n                    }\r\n                }\r\n        }\r\n    }\r\n\r\n    private fun getNewToken(): Single&lt;String&gt; {\r\n        return Single.create { emitter -&gt;\r\n            Firebase.auth.getAccessToken(true)\r\n                .addOnCompleteListener { task -&gt;\r\n                    if (task.isSuccessful) {\r\n                        val token = task.result.token\r\n                        emitter.onSuccess(token!!)\r\n                    } else {\r\n                        emitter.onError(Throwable(&quot;Error when refresh Token&quot;))\r\n                    }\r\n                }\r\n        }\r\n    }\r\n\r\n    private fun reAuthenticate(tokenId: String): Completable {\r\n        return Completable.create { emitter -&gt;\r\n            Firebase.auth.signInWithCustomToken(tokenId)\r\n                .addOnCompleteListener {\r\n                    if (it.isSuccessful) {\r\n                        emitter.onComplete()\r\n                    } else {\r\n                        emitter.onError(Throwable(&quot;Error&quot;))\r\n                    }\r\n                }\r\n        }\r\n    }\r\n\r\n    private fun checkReAuthenticate() {\r\n        val newPassword = &quot;pass12345&quot;\r\n\r\n        updatePassword(newPassword)\r\n            .flatMap {\r\n                getNewToken()\r\n            }\r\n            .flatMapCompletable { token -&gt;\r\n                reAuthenticate(token)\r\n            }\r\n            .subscribe(\r\n                {\r\n                    print(&quot;Success ReAuthenticated&quot;)\r\n                },\r\n                {\r\n                    print(&quot;Error when ReAuthenticate&quot;)\r\n                }\r\n            )\r\n    }","title":"Firebase Auth Error: The custom token format is incorrect. Please check the documentation","body":"<p>I'm trying to re-authorize a user after changing the password.\nBut I am getting this error</p>\n<blockquote>\n<p>The custom token format is incorrect. Please check the documentation</p>\n</blockquote>\n<p>What could be wrong?</p>\n<p>I don't have a server. I use Firebase Database\nI do every step in order:</p>\n<ol>\n<li>Change the password first</li>\n<li>I update the token</li>\n<li>I use a token for <code>re-authorization</code></li>\n</ol>\n<p>still getting this error.</p>\n<p>Sometimes I get an error, something like</p>\n<blockquote>\n<p>You need to log in to change your password</p>\n</blockquote>\n<p>but I'm already logged in.\nThen I logout and login, and try to change the password again, but I get the error again <code>The custom token format is incorrect</code>.</p>\n<p>Here is the code for <code>re-authorization</code>, what is wrong?</p>\n<pre><code>private fun updatePassword(newPassword: String): Single&lt;Boolean&gt; {\n    return Single.create { emitter -&gt;\n        Firebase.auth.currentUser?.updatePassword(newPassword)\n            ?.addOnCompleteListener { task -&gt;\n                if (task.isSuccessful) {\n                    emitter.onSuccess(true)\n                } else {\n                    emitter.onSuccess(false)\n                }\n            }\n    }\n}\n\nprivate fun getNewToken(): Single&lt;String&gt; {\n    return Single.create { emitter -&gt;\n        Firebase.auth.getAccessToken(true)\n            .addOnCompleteListener { task -&gt;\n                if (task.isSuccessful) {\n                    val token = task.result.token\n                    emitter.onSuccess(token!!)\n                } else {\n                    emitter.onError(Throwable(&quot;Error when refresh Token&quot;))\n                }\n            }\n    }\n}\n\nprivate fun reAuthenticate(tokenId: String): Completable {\n    return Completable.create { emitter -&gt;\n        Firebase.auth.signInWithCustomToken(tokenId)\n            .addOnCompleteListener {\n                if (it.isSuccessful) {\n                    emitter.onComplete()\n                } else {\n                    emitter.onError(Throwable(&quot;Error&quot;))\n                }\n            }\n    }\n}\n\nprivate fun checkReAuthenticate() {\n    val newPassword = &quot;pass12345&quot;\n\n    updatePassword(newPassword)\n        .flatMap {\n            getNewToken()\n        }\n        .flatMapCompletable { token -&gt;\n            reAuthenticate(token)\n        }\n        .subscribe(\n            {\n                print(&quot;Success ReAuthenticated&quot;)\n            },\n            {\n                print(&quot;Error when ReAuthenticate&quot;)\n            }\n        )\n}\n</code></pre>\n"},{"tags":["java","bufferedreader","read-write"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1657634252,"post_id":72953547,"comment_id":128853878,"body_markdown":"A little off-topic but: any reason to avoid simple ssh or the various rcon (remote console) options already integrated into the server?","body":"A little off-topic but: any reason to avoid simple ssh or the various rcon (remote console) options already integrated into the server?"},{"owner":{"account_id":12370191,"reputation":49,"user_id":9020730,"display_name":"goldarm5"},"score":0,"creation_date":1657635028,"post_id":72953547,"comment_id":128854149,"body_markdown":"@Rogue Fruther along the line this is going to be the foundation of a discordbot and website to manage the server. Im playing with a few friends, who are not all that into using ssh or rcon, so I want to build an easy to use solution to manage the server. Also there would be functionality integrated like editing the server.properties file amongst other things thats a bit more tedious with just ssh/rcon. And ultimately this seemed like a good project for me to just do some programming.","body":"@Rogue Fruther along the line this is going to be the foundation of a discordbot and website to manage the server. Im playing with a few friends, who are not all that into using ssh or rcon, so I want to build an easy to use solution to manage the server. Also there would be functionality integrated like editing the server.properties file amongst other things thats a bit more tedious with just ssh/rcon. And ultimately this seemed like a good project for me to just do some programming."},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1657636413,"post_id":72953547,"comment_id":128854710,"body_markdown":"I wonder if this isn&#39;t a windows/linux thing?  https://developers.redhat.com/blog/2021/05/06/why-windows-and-linux-line-endings-dont-line-up-and-how-to-fix-it#:~:text=to%20line%20endings-,Back%20to%20line%20endings,on%20the%20other%2C%20hilarity%20ensues.","body":"I wonder if this isn&#39;t a windows/linux thing?  <a href=\"https://developers.redhat.com/blog/2021/05/06/why-windows-and-linux-line-endings-dont-line-up-and-how-to-fix-it#:~:text=to%20line%20endings-,Back%20to%20line%20endings,on%20the%20other%2C%20hilarity%20ensues\" rel=\"nofollow noreferrer\">developers.redhat.com/blog/2021/05/06/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":12370191,"reputation":49,"user_id":9020730,"display_name":"goldarm5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657659112,"creation_date":1657659112,"answer_id":72958247,"question_id":72953547,"body_markdown":"BufferedReade.readLine() reads until either the next linefeed or the end of file.\r\n\r\nSo when reading this file:\r\n```\r\n[......]\r\n[21:34:31] [Server thread/INFO]: [removed] left the game\r\n```\r\n BufferedReader gives the following output:\r\n```\r\n[......]\r\ninit: [21:34:31] [Server thread/INFO]: [removed] left the game\r\ninit: null\r\n```\r\n&quot;init: &quot; was only added for debug purposes.\r\nWhen appending \r\n```\r\nxx\r\nghasjdkhajs\r\n```\r\nSo the end of the file looks like this:\r\n```\r\n[21:34:31] [Server thread/INFO]: [removed] left the gamexx\r\nghasjdkhajs\r\n```\r\nThis leads to the following output:\r\n```\r\npclimlp: xx\r\naddNewLogLine: xx\r\nthread: xx\r\n```\r\n\r\nSo BufferedReader was at the end of the file which was directly after\r\n```\r\nleft the game\r\n```\r\nSo when adding\r\n```\r\nxx\\r\\nghasjdkhajs\r\n```\r\nthe BufferedReader reads until the next linefeed. If there wasnt the &quot;xx&quot; added there would simply be nothing before the next linefeed, so the BufferedReader would return &quot;&quot; like in the question.","title":"BufferedReader reading empty lines instead of newly added lines","body":"<p>BufferedReade.readLine() reads until either the next linefeed or the end of file.</p>\n<p>So when reading this file:</p>\n<pre><code>[......]\n[21:34:31] [Server thread/INFO]: [removed] left the game\n</code></pre>\n<p>BufferedReader gives the following output:</p>\n<pre><code>[......]\ninit: [21:34:31] [Server thread/INFO]: [removed] left the game\ninit: null\n</code></pre>\n<p>&quot;init: &quot; was only added for debug purposes.\nWhen appending</p>\n<pre><code>xx\nghasjdkhajs\n</code></pre>\n<p>So the end of the file looks like this:</p>\n<pre><code>[21:34:31] [Server thread/INFO]: [removed] left the gamexx\nghasjdkhajs\n</code></pre>\n<p>This leads to the following output:</p>\n<pre><code>pclimlp: xx\naddNewLogLine: xx\nthread: xx\n</code></pre>\n<p>So BufferedReader was at the end of the file which was directly after</p>\n<pre><code>left the game\n</code></pre>\n<p>So when adding</p>\n<pre><code>xx\\r\\nghasjdkhajs\n</code></pre>\n<p>the BufferedReader reads until the next linefeed. If there wasnt the &quot;xx&quot; added there would simply be nothing before the next linefeed, so the BufferedReader would return &quot;&quot; like in the question.</p>\n"}],"owner":{"account_id":12370191,"reputation":49,"user_id":9020730,"display_name":"goldarm5"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72958247,"answer_count":1,"score":1,"last_activity_date":1657659112,"creation_date":1657634177,"question_id":72953547,"body_markdown":"Im currently working on a application to manage a remote minecraft server and the first thing Im working on is observing the messages in the minecraft console. Im doing this by observing the latest.log textfile in which the minecraft server copies its output. The log messages are added each in a newline, so the basic workflow for monitoring is:\r\n\r\n```\r\nstart -&gt; read all existing lines of latest.log -&gt; watch for file change notifications on latest.log -&gt; \r\nread newly added line(s) -&gt; wait for next file change notification\r\n```\r\n\r\nIve implemented the following class to do this:\r\n\r\n```\r\npublic class McServerService {\r\n\t\r\n\t\r\n\t\r\n\tprivate String directory;\r\n\t\r\n\t\r\n\tprivate List&lt;String&gt; currentLog;\r\n\t\t\r\n\tprivate Thread logObserverThread;\r\n\tprivate PropertyChangeSupport pcsupport;\r\n\t\r\n\t\r\n\tpublic McServerService (String directory) {\r\n\t\tthis.currentLog = new ArrayList&lt;String&gt;();\r\n\t\tthis.directory = directory;\r\n\t\tthis.pcsupport = new PropertyChangeSupport(this);\r\n\t}\r\n\t\r\n\tpublic void startWatching ()  {\r\n\t\tthis.logObserverThread = new Thread(new LogObserverThreadImpl(this.directory));\r\n\t\tthis.logObserverThread.start();\r\n\t}\r\n\t\r\n\tpublic void addNewLogLine (String newLogLine) {\r\n\t\tthis.pcsupport.firePropertyChange(&quot;currentLog&quot;, this.currentLog, newLogLine);\r\n\t\tthis.currentLog.add(newLogLine);\r\n\t\tSystem.out.println(&quot;addNewLogLine: &quot; + newLogLine);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void addPropertyChangeListener (PropertyChangeListener pcl) {\r\n\t\tthis.pcsupport.addPropertyChangeListener(pcl);\r\n\t}\r\n\t\r\n\tpublic void removePropertyChangeListener (PropertyChangeListener pcl) {\r\n\t\tthis.pcsupport.removePropertyChangeListener(pcl);\r\n\t}\r\n\t\r\n\t\r\n\t\t\r\n\tprivate class LogObserverThreadImpl implements Runnable {\r\n\t\t\r\n\t\tBufferedReader br;\r\n\t\tWatchService watchService;\r\n\t\t\r\n\t\tprivate LogObserverThreadImpl (String directory) {\r\n\t\t\ttry {\r\n\t\t\t\tthis.br = new BufferedReader(new java.io.FileReader(directory + &quot;\\\\&quot; + &quot;latest.log&quot;));\r\n\t\t\t\tString nextLine = this.br.readLine();\r\n\t\t\t\twhile (nextLine != null) {\r\n\t\t\t\t\tMcServerService.this.currentLog.add(nextLine);\r\n\t\t\t\t\tSystem.out.println(&quot;init: &quot; + nextLine);\r\n\t\t\t\t\tthis.br.mark(2048);\r\n\t\t\t\t\tnextLine = this.br.readLine();\r\n\t\t\t\t\tSystem.out.println(&quot;init: &quot; + nextLine);\r\n\t\t\t\t}\r\n\t\t\t\tthis.br.reset();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tPath path = Paths.get(directory);\r\n\t\t\ttry {\r\n\t\t\t\tSystem.out.println(&quot;entered try&quot;);\r\n\t\t\t\tthis.watchService = FileSystems.getDefault().newWatchService();\r\n\t\t\t\tpath.register(watchService, StandardWatchEventKinds.ENTRY_CREATE, StandardWatchEventKinds.ENTRY_MODIFY);\r\n\t\t\t\tWatchKey key;\r\n\t\t\t\twhile ((key = this.watchService.take()) != null) {\r\n\t\t\t\t    for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\r\n\t\t\t\t    \tif (event.context().toString().equals(&quot;latest.log&quot;)) {\r\n\t\t\t\t    \t\tString line = this.br.readLine();\r\n\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t * if (line.equalsIgnoreCase(&quot;&quot;)) { line = this.br.readLine(); }\r\n\t\t\t\t\t\t\t */\r\n\t\t\t\t    \t\tMcServerService.this.addNewLogLine(line);\r\n\t\t\t\t    \t\tSystem.out.println(&quot;thread: &quot; + line);\r\n\t\t\t\t    \t}\r\n\t\t            }\r\n\t\t\t\t    key.reset();\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(&quot;after while&quot;);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\r\n\t\r\n\t\r\n}\r\n```\r\n\r\nThe existing latest.log textfile is read as exspected with all its lines and then ends on null, but when adding the two lines \r\n```\r\ngadhsjlhgadsjlkh\r\njlhkadshljhads\r\n```\r\n\r\nand saving the file after each line, the output looks like this:\r\n```\r\ninit: null //&quot;last&quot; line of existing file\r\nentered try\r\n//now adding the two lines\r\npclimlp: \r\naddNewLogLine: \r\nthread: \r\npclimlp: gadhsjlhgadsjlkh\r\naddNewLogLine: gadhsjlhgadsjlkh\r\nthread: gadhsjlhgadsjlkh\r\n```\r\n\r\nThe problem is solved by uncommenting the equals check for &quot;&quot; in:\r\n```\r\nwhile ((key = this.watchService.take()) != null) {\r\n\t\t\t\t    for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\r\n\t\t\t\t    \tif (event.context().toString().equals(&quot;latest.log&quot;)) {\r\n\t\t\t\t    \t\tString line = this.br.readLine();\r\n\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t * if (line.equalsIgnoreCase(&quot;&quot;)) { line = this.br.readLine(); }\r\n\t\t\t\t\t\t\t */\r\n\t\t\t\t    \t\tMcServerService.this.addNewLogLine(line);\r\n\t\t\t\t    \t\tSystem.out.println(&quot;thread: &quot; + line);\r\n\t\t\t\t    \t}\r\n\t\t            }\r\n\t\t\t\t    key.reset();\r\n\t\t\t\t}\r\n```\r\n\r\nBut why is the BufferedReder reading empty lines there in the first place? Id understand null if the BufferedReader isnt updated yet, but why empty lines? Also if I manually save the file again (without adding more lines or anything), the BufferedReader will read the line it hasnt read before fine and is not skipping it. Can someone explain what happens there to cause this behaviour?","title":"BufferedReader reading empty lines instead of newly added lines","body":"<p>Im currently working on a application to manage a remote minecraft server and the first thing Im working on is observing the messages in the minecraft console. Im doing this by observing the latest.log textfile in which the minecraft server copies its output. The log messages are added each in a newline, so the basic workflow for monitoring is:</p>\n<pre><code>start -&gt; read all existing lines of latest.log -&gt; watch for file change notifications on latest.log -&gt; \nread newly added line(s) -&gt; wait for next file change notification\n</code></pre>\n<p>Ive implemented the following class to do this:</p>\n<pre><code>public class McServerService {\n    \n    \n    \n    private String directory;\n    \n    \n    private List&lt;String&gt; currentLog;\n        \n    private Thread logObserverThread;\n    private PropertyChangeSupport pcsupport;\n    \n    \n    public McServerService (String directory) {\n        this.currentLog = new ArrayList&lt;String&gt;();\n        this.directory = directory;\n        this.pcsupport = new PropertyChangeSupport(this);\n    }\n    \n    public void startWatching ()  {\n        this.logObserverThread = new Thread(new LogObserverThreadImpl(this.directory));\n        this.logObserverThread.start();\n    }\n    \n    public void addNewLogLine (String newLogLine) {\n        this.pcsupport.firePropertyChange(&quot;currentLog&quot;, this.currentLog, newLogLine);\n        this.currentLog.add(newLogLine);\n        System.out.println(&quot;addNewLogLine: &quot; + newLogLine);\n        \n    }\n    \n    public void addPropertyChangeListener (PropertyChangeListener pcl) {\n        this.pcsupport.addPropertyChangeListener(pcl);\n    }\n    \n    public void removePropertyChangeListener (PropertyChangeListener pcl) {\n        this.pcsupport.removePropertyChangeListener(pcl);\n    }\n    \n    \n        \n    private class LogObserverThreadImpl implements Runnable {\n        \n        BufferedReader br;\n        WatchService watchService;\n        \n        private LogObserverThreadImpl (String directory) {\n            try {\n                this.br = new BufferedReader(new java.io.FileReader(directory + &quot;\\\\&quot; + &quot;latest.log&quot;));\n                String nextLine = this.br.readLine();\n                while (nextLine != null) {\n                    McServerService.this.currentLog.add(nextLine);\n                    System.out.println(&quot;init: &quot; + nextLine);\n                    this.br.mark(2048);\n                    nextLine = this.br.readLine();\n                    System.out.println(&quot;init: &quot; + nextLine);\n                }\n                this.br.reset();\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n\n        @Override\n        public void run() {\n            Path path = Paths.get(directory);\n            try {\n                System.out.println(&quot;entered try&quot;);\n                this.watchService = FileSystems.getDefault().newWatchService();\n                path.register(watchService, StandardWatchEventKinds.ENTRY_CREATE, StandardWatchEventKinds.ENTRY_MODIFY);\n                WatchKey key;\n                while ((key = this.watchService.take()) != null) {\n                    for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\n                        if (event.context().toString().equals(&quot;latest.log&quot;)) {\n                            String line = this.br.readLine();\n                            /*\n                             * if (line.equalsIgnoreCase(&quot;&quot;)) { line = this.br.readLine(); }\n                             */\n                            McServerService.this.addNewLogLine(line);\n                            System.out.println(&quot;thread: &quot; + line);\n                        }\n                    }\n                    key.reset();\n                }\n                System.out.println(&quot;after while&quot;);\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            } catch (InterruptedException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n        \n    }\n    \n    \n\n    \n    \n}\n</code></pre>\n<p>The existing latest.log textfile is read as exspected with all its lines and then ends on null, but when adding the two lines</p>\n<pre><code>gadhsjlhgadsjlkh\njlhkadshljhads\n</code></pre>\n<p>and saving the file after each line, the output looks like this:</p>\n<pre><code>init: null //&quot;last&quot; line of existing file\nentered try\n//now adding the two lines\npclimlp: \naddNewLogLine: \nthread: \npclimlp: gadhsjlhgadsjlkh\naddNewLogLine: gadhsjlhgadsjlkh\nthread: gadhsjlhgadsjlkh\n</code></pre>\n<p>The problem is solved by uncommenting the equals check for &quot;&quot; in:</p>\n<pre><code>while ((key = this.watchService.take()) != null) {\n                    for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\n                        if (event.context().toString().equals(&quot;latest.log&quot;)) {\n                            String line = this.br.readLine();\n                            /*\n                             * if (line.equalsIgnoreCase(&quot;&quot;)) { line = this.br.readLine(); }\n                             */\n                            McServerService.this.addNewLogLine(line);\n                            System.out.println(&quot;thread: &quot; + line);\n                        }\n                    }\n                    key.reset();\n                }\n</code></pre>\n<p>But why is the BufferedReder reading empty lines there in the first place? Id understand null if the BufferedReader isnt updated yet, but why empty lines? Also if I manually save the file again (without adding more lines or anything), the BufferedReader will read the line it hasnt read before fine and is not skipping it. Can someone explain what happens there to cause this behaviour?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1657658525,"post_id":72958095,"comment_id":128862166,"body_markdown":"Null is not the same as empty. `String.valueOf(null)` returns `&quot;null&quot;`.","body":"Null is not the same as empty. <code>String.valueOf(null)</code> returns <code>&quot;null&quot;</code>."},{"owner":{"account_id":4248662,"reputation":843,"user_id":3476492,"accept_rate":89,"display_name":"01000001"},"score":1,"creation_date":1657658629,"post_id":72958095,"comment_id":128862198,"body_markdown":"@shmosel System.out.println(String.valueOf(null)); throws a NullPointerException","body":"@shmosel System.out.println(String.valueOf(null)); throws a NullPointerException"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1657658818,"post_id":72958095,"comment_id":128862251,"body_markdown":"My bad, it&#39;s calling the wrong overload. Try `String.valueOf((String)null)`.","body":"My bad, it&#39;s calling the wrong overload. Try <code>String.valueOf((String)null)</code>."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1657659228,"post_id":72958095,"comment_id":128862363,"body_markdown":"*I had assumed that uninitialized short value would result in empty String...* You don&#39;t have to assume; it&#39;s spelled out in the docs: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#valueOf-java.lang.Object-","body":"<i>I had assumed that uninitialized short value would result in empty String...</i> You don&#39;t have to assume; it&#39;s spelled out in the docs: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#valueOf-java.lang.Object-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":4248662,"reputation":843,"user_id":3476492,"accept_rate":89,"display_name":"01000001"},"score":1,"creation_date":1657659481,"post_id":72958095,"comment_id":128862435,"body_markdown":"@KlitosKyriacou yes https://stackoverflow.com/a/33891982/3476492","body":"@KlitosKyriacou yes <a href=\"https://stackoverflow.com/a/33891982/3476492\">stackoverflow.com/a/33891982/3476492</a>"}],"owner":{"account_id":4248662,"reputation":843,"user_id":3476492,"accept_rate":89,"display_name":"01000001"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657659520,"answer_count":0,"score":0,"last_activity_date":1657659100,"creation_date":1657658237,"question_id":72958095,"body_markdown":"With this class:\r\n\r\n    public class ShortValue {\r\n    \r\n    \tprivate Short code;\r\n    \r\n    \tpublic Short getCode() {\r\n    \t\treturn code;\r\n    \t}\r\n    \r\n    \tpublic void setCode(Short code) {\r\n    \t\tthis.code = code;\r\n    \t}\r\n    }\r\n\r\nBelow code:\r\n\r\n\t\tShortValue s = new ShortValue();\r\n\t\tString test = String.valueOf(s.getCode());\r\n\t\tSystem.out.println(&quot;value: &quot; + test + &quot;, length: &quot; +  test.length());\r\n\t\tSystem.out.println(s.getCode());\r\nwill output: \r\n\r\n    value: null, length: 4\r\n    null\r\n\r\nMeaning actual string &quot;null&quot; is being created here from empty short value.\r\n\r\nIs this intentional that empty short value returns a non empty String? What is the purpose of this in Java?\r\n\r\nI am not complaining about the behavior though. Intuitively or naively, I had assumed that uninitialized short value would result in empty String if I get a String value from it where needed, but instead it returned string &quot;null&quot;, so I am only trying to see where this would make sense or if it is largely a part of some default behavior of JVM that I am not aware of.\r\n\r\n","title":"Empty/NULL Short value in object, returns non-empty String, is this intended?","body":"<p>With this class:</p>\n<pre><code>public class ShortValue {\n\n    private Short code;\n\n    public Short getCode() {\n        return code;\n    }\n\n    public void setCode(Short code) {\n        this.code = code;\n    }\n}\n</code></pre>\n<p>Below code:</p>\n<pre><code>    ShortValue s = new ShortValue();\n    String test = String.valueOf(s.getCode());\n    System.out.println(&quot;value: &quot; + test + &quot;, length: &quot; +  test.length());\n    System.out.println(s.getCode());\n</code></pre>\n<p>will output:</p>\n<pre><code>value: null, length: 4\nnull\n</code></pre>\n<p>Meaning actual string &quot;null&quot; is being created here from empty short value.</p>\n<p>Is this intentional that empty short value returns a non empty String? What is the purpose of this in Java?</p>\n<p>I am not complaining about the behavior though. Intuitively or naively, I had assumed that uninitialized short value would result in empty String if I get a String value from it where needed, but instead it returned string &quot;null&quot;, so I am only trying to see where this would make sense or if it is largely a part of some default behavior of JVM that I am not aware of.</p>\n"},{"tags":["java","arrays","sorting","integer"],"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":2,"creation_date":1657654905,"post_id":72957508,"comment_id":128861035,"body_markdown":"Do you know how to sort an array normally? Do you know how to identify an odd number? What did you try? Show at least your code for sorting the array completely please, as an [mre]. Then describe what has you stuck with the other requirements. Doing this will avoid the impression that you just hope for somebody to do your work for you. https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions","body":"Do you know how to sort an array normally? Do you know how to identify an odd number? What did you try? Show at least your code for sorting the array completely please, as an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Then describe what has you stuck with the other requirements. Doing this will avoid the impression that you just hope for somebody to do your work for you. <a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\" title=\"how do i ask and answer homework questions\">meta.stackoverflow.com/questions/334822/&hellip;</a>"},{"owner":{"account_id":25614854,"reputation":11,"user_id":19387613,"display_name":"Noah Solomon"},"score":0,"creation_date":1657655805,"post_id":72957508,"comment_id":128861340,"body_markdown":"Done. Here is what I have right now ^","body":"Done. Here is what I have right now ^"},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1657656928,"post_id":72957508,"comment_id":128861677,"body_markdown":"And what has you now stuck? What does not work as desired?","body":"And what has you now stuck? What does not work as desired?"}],"answers":[{"tags":[],"owner":{"account_id":25784351,"reputation":162,"user_id":19529459,"display_name":"Volt4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657655985,"creation_date":1657655985,"answer_id":72957757,"question_id":72957508,"body_markdown":"Here is a nifty solution using the ```Stream``` API. \r\n```\r\npublic static int[] sortOdds(int[] a) {\r\n    var sortedOdds = Arrays.stream(a).filter(v -&gt; v % 2 == 1).sorted().toArray();\r\n    for (int i = 0, s = 0; i &lt; a.length; i++) {\r\n        if (a[i] % 2 == 1) {\r\n            a[i] = sortedOdds[s];\r\n            s++;\r\n        }\r\n    }\r\n    return a; // A return here is kind of redundant but whatever.\r\n}\r\n```\r\nHowever, as @Yunnosch mentioned, this really isnt a good question for stack overflow. This feels like a homework question, and if it is I doubt any professor would accept the solution above since it uses ```sorted()``` instead of actually implementing a sorting algorithm.","title":"Sort odd numbers in Array of even and odd numbers","body":"<p>Here is a nifty solution using the <code>Stream</code> API.</p>\n<pre><code>public static int[] sortOdds(int[] a) {\n    var sortedOdds = Arrays.stream(a).filter(v -&gt; v % 2 == 1).sorted().toArray();\n    for (int i = 0, s = 0; i &lt; a.length; i++) {\n        if (a[i] % 2 == 1) {\n            a[i] = sortedOdds[s];\n            s++;\n        }\n    }\n    return a; // A return here is kind of redundant but whatever.\n}\n</code></pre>\n<p>However, as @Yunnosch mentioned, this really isnt a good question for stack overflow. This feels like a homework question, and if it is I doubt any professor would accept the solution above since it uses <code>sorted()</code> instead of actually implementing a sorting algorithm.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657659092,"creation_date":1657656171,"answer_id":72957797,"question_id":72957508,"body_markdown":"- First, write a sort routine to sort normally in ascending order.  If you don&#39;t know how to do that, you can do a web search for `bubble sort`, `selection sort`, etc. but the first two are easily implemented.\r\n- Once you have that working, simply modify the sort to work only on odd numbers.\r\n\r\nIt is not necessary to presort any or all of the array and then manipulate the values afterwards (although the cost of filtering and and sorting a smaller array in preparation may have performance benefits over sorting a larger array)\r\n ","title":"Sort odd numbers in Array of even and odd numbers","body":"<ul>\n<li>First, write a sort routine to sort normally in ascending order.  If you don't know how to do that, you can do a web search for <code>bubble sort</code>, <code>selection sort</code>, etc. but the first two are easily implemented.</li>\n<li>Once you have that working, simply modify the sort to work only on odd numbers.</li>\n</ul>\n<p>It is not necessary to presort any or all of the array and then manipulate the values afterwards (although the cost of filtering and and sorting a smaller array in preparation may have performance benefits over sorting a larger array)</p>\n"}],"owner":{"account_id":25614854,"reputation":11,"user_id":19387613,"display_name":"Noah Solomon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":708,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":72957757,"answer_count":2,"score":-3,"last_activity_date":1657659092,"creation_date":1657654487,"question_id":72957508,"body_markdown":"I need to sort the odd numbers in the inputted array. So we do nothing with the even numbers in the array but we sort the odd numbers in ascending order\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(sortArray(new int[]{1, 5, 2, 7, 3}));\r\n    }\r\n    public static int[] sortArray(int[] array) {\r\n        List&lt;Integer&gt; odds = new ArrayList&lt;&gt;();\r\n        for (int elmnt : array) {\r\n            if (elmnt % 2 != 0) {\r\n                odds.add(elmnt);\r\n            }\r\n        }\r\n        odds.stream().sorted();\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            if (array[i] %2 != 0){\r\n                for (int j = 0; j &lt; odds.size(); j++) {\r\n                    array[i] = odds.get(j);\r\n                }\r\n            }\r\n        }\r\n        return array;\r\n    }\r\nin this example, the array should turn into:\r\n[1, 3, 2, 5, 7]\r\n\r\nhow can I do this?","title":"Sort odd numbers in Array of even and odd numbers","body":"<p>I need to sort the odd numbers in the inputted array. So we do nothing with the even numbers in the array but we sort the odd numbers in ascending order</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(sortArray(new int[]{1, 5, 2, 7, 3}));\n}\npublic static int[] sortArray(int[] array) {\n    List&lt;Integer&gt; odds = new ArrayList&lt;&gt;();\n    for (int elmnt : array) {\n        if (elmnt % 2 != 0) {\n            odds.add(elmnt);\n        }\n    }\n    odds.stream().sorted();\n    for (int i = 0; i &lt; array.length; i++) {\n        if (array[i] %2 != 0){\n            for (int j = 0; j &lt; odds.size(); j++) {\n                array[i] = odds.get(j);\n            }\n        }\n    }\n    return array;\n}\n</code></pre>\n<p>in this example, the array should turn into:\n[1, 3, 2, 5, 7]</p>\n<p>how can I do this?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":0,"creation_date":1657473614,"post_id":72930189,"comment_id":128813162,"body_markdown":"Can you upload the code where you are injecting and using the repo?","body":"Can you upload the code where you are injecting and using the repo?"},{"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"score":0,"creation_date":1657474282,"post_id":72930189,"comment_id":128813316,"body_markdown":"@AnthonyAccioly I added the information you requested","body":"@AnthonyAccioly I added the information you requested"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1657476759,"post_id":72930189,"comment_id":128813805,"body_markdown":"Does it print &quot;I got constructed&quot;? Are you missing something fundamental?","body":"Does it print &quot;I got constructed&quot;? Are you missing something fundamental?"},{"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"score":0,"creation_date":1657479870,"post_id":72930189,"comment_id":128814412,"body_markdown":"It prints &quot;I got constructed&quot;","body":"It prints &quot;I got constructed&quot;"},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":0,"creation_date":1657485386,"post_id":72930189,"comment_id":128815462,"body_markdown":"I still can&#39;t see where you are calling `findAllContainingName`. Can you update the code?","body":"I still can&#39;t see where you are calling <code>findAllContainingName</code>. Can you update the code?"},{"owner":{"account_id":10944927,"reputation":491,"user_id":8043392,"display_name":"Shivaji Pote"},"score":0,"creation_date":1657487390,"post_id":72930189,"comment_id":128815830,"body_markdown":"You should also add entity classes. Or minimum reproducible example would be even better","body":"You should also add entity classes. Or minimum reproducible example would be even better"},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":0,"creation_date":1657495156,"post_id":72930189,"comment_id":128816866,"body_markdown":"What happens if instead of injecting `Registry` you inject  `PineappleServiceRepository` into the controller and call `findAllContainingName` directly on it?","body":"What happens if instead of injecting <code>Registry</code> you inject  <code>PineappleServiceRepository</code> into the controller and call <code>findAllContainingName</code> directly on it?"},{"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"score":0,"creation_date":1657537204,"post_id":72930189,"comment_id":128825583,"body_markdown":"@AnthonyAccioly the error persists","body":"@AnthonyAccioly the error persists"},{"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"score":0,"creation_date":1657537506,"post_id":72930189,"comment_id":128825693,"body_markdown":"@ShivajiPote I added the entity classes","body":"@ShivajiPote I added the entity classes"},{"owner":{"account_id":10944927,"reputation":491,"user_id":8043392,"display_name":"Shivaji Pote"},"score":0,"creation_date":1657572681,"post_id":72930189,"comment_id":128838476,"body_markdown":"I was trying to reproduce your issue with above classes but I am getting error `No property &#39;findAllContainingName&#39; found for type &#39;PineappleServiceEntity&#39;`.  So I wanted to check PineappleServiceEntity properties. Can you add them?","body":"I was trying to reproduce your issue with above classes but I am getting error <code>No property &#39;findAllContainingName&#39; found for type &#39;PineappleServiceEntity&#39;</code>.  So I wanted to check PineappleServiceEntity properties. Can you add them?"},{"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"score":0,"creation_date":1657574764,"post_id":72930189,"comment_id":128839006,"body_markdown":"@ShivajiPote This is the same error I am getting, which I thought was a result of Spring Boot not recognizing my custom interface/ class and instead referring to the Spring Boot construct based of off function name, that is why I ignored it. I checked, the `PineappleServiceEntity` has no further properties. It is however intended that other inheritors or `ServiceEntity` would have such functionality. Thank you for looking it this","body":"@ShivajiPote This is the same error I am getting, which I thought was a result of Spring Boot not recognizing my custom interface/ class and instead referring to the Spring Boot construct based of off function name, that is why I ignored it. I checked, the <code>PineappleServiceEntity</code> has no further properties. It is however intended that other inheritors or <code>ServiceEntity</code> would have such functionality. Thank you for looking it this"},{"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"score":0,"creation_date":1657579934,"post_id":72930189,"comment_id":128840049,"body_markdown":"Note: I confirmed that Spring auto function generation is the origin of the property not found error, by changing the function name to findAllByName which then allowed Spring to run, however it still didn’t call my method, it merely used the auto generated one.","body":"Note: I confirmed that Spring auto function generation is the origin of the property not found error, by changing the function name to findAllByName which then allowed Spring to run, however it still didn’t call my method, it merely used the auto generated one."}],"answers":[{"tags":[],"owner":{"account_id":10944927,"reputation":491,"user_id":8043392,"display_name":"Shivaji Pote"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1657657475,"creation_date":1657657475,"answer_id":72957998,"question_id":72930189,"body_markdown":"So I was able to reproduce your problem and fix it. Issue with your code is that your `PineappleServiceRepository` is not extending `ServiceRepositoryCustom` directly. It seems your repository needs to implement it directly if you are accessing custom repository methods from that repository. I got that idea from [this][1] post. \r\n\r\nSo to fix your issue, either remove `PineappleServiceRepository`(as you don&#39;t have any properties in PineappleEntity) and use `ServiceRepository` to call that custom method or make `PineappleServiceRepository` extend `ServiceRepositoryCustom`. \r\n\r\nI have pushed changes to [GitHub][2] with fix. You can take a look. If you want to keep `PineappleServiceRepository` and access custom method using this repository, let me know, I can update code.\r\n\r\n\r\n  [1]: https://vladmihalcea.com/custom-spring-data-repository/\r\n  [2]: https://github.com/spote87/stackoverflow/tree/main/jpa/q72930189","title":"Custom Repository Implementation is not being recognized","body":"<p>So I was able to reproduce your problem and fix it. Issue with your code is that your <code>PineappleServiceRepository</code> is not extending <code>ServiceRepositoryCustom</code> directly. It seems your repository needs to implement it directly if you are accessing custom repository methods from that repository. I got that idea from <a href=\"https://vladmihalcea.com/custom-spring-data-repository/\" rel=\"nofollow noreferrer\">this</a> post.</p>\n<p>So to fix your issue, either remove <code>PineappleServiceRepository</code>(as you don't have any properties in PineappleEntity) and use <code>ServiceRepository</code> to call that custom method or make <code>PineappleServiceRepository</code> extend <code>ServiceRepositoryCustom</code>.</p>\n<p>I have pushed changes to <a href=\"https://github.com/spote87/stackoverflow/tree/main/jpa/q72930189\" rel=\"nofollow noreferrer\">GitHub</a> with fix. You can take a look. If you want to keep <code>PineappleServiceRepository</code> and access custom method using this repository, let me know, I can update code.</p>\n"}],"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":618,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72957998,"answer_count":1,"score":1,"last_activity_date":1657657475,"creation_date":1657471309,"question_id":72930189,"body_markdown":"I am currently working on a project where I have created the following custom Repository:\r\n```java\r\npublic interface ServiceRepository&lt;T extends ServiceEntity&gt; extends JpaRepository&lt;T, UUID&gt;, ServiceRepositoryCustom {\r\n}\r\n\r\npublic interface ServiceRepositoryCustom {\r\n    List&lt;ServiceEntity&gt; findAllContainingName(String query);\r\n}\r\n\r\n@Repository(&quot;Repo&quot;)\r\npublic class ServiceRepositoryCustomImpl implements ServiceRepositoryCustom {\r\n\r\n\r\n    private final EntityManager em;\r\n\r\n    public ServiceRepositoryCustomImpl(EntityManager em) {\r\n        System.out.println(&quot;I got constructed&quot;);\r\n        this.em = em;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;ServiceEntity&gt; findAllContainingName(String name) {\r\n        System.out.println(&quot;I got called with: &quot; + name);\r\n        CriteriaBuilder cb = em.getCriteriaBuilder();\r\n        CriteriaQuery&lt;ServiceEntity&gt; cq = cb.createQuery(ServiceEntity.class);\r\n\r\n        Root&lt;ServiceEntity&gt; serviceEntity = cq.from(ServiceEntity.class);\r\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n\r\n        if(name != null)  {\r\n            // predicates.add(cb.equal(serviceEntity.get(&quot;name&quot;), name));\r\n            predicates.add(cb.like(serviceEntity.get(&quot;name&quot;), name + &quot;%&quot;));\r\n        }\r\n        cq.where(predicates.toArray(predicates.toArray(new Predicate[0])));\r\n\r\n        return em.createQuery(cq).getResultList();\r\n    }\r\n}\r\n```\r\nThe print statement &quot;I got called with: &quot; never gets called. So for whatever reason Spring Boot is not running the method through my custom implementation.\r\n\r\nAny suggestions? Any help is much appreciated\r\n\r\nEdit:\r\nHere is the code that injects and uses the Repository in question\r\n```java\r\n@Repository\r\npublic interface PineappleServiceRepository extends ServiceRepository&lt;PineappleServiceEntity&gt; {\r\n}\r\n\r\n@Component(&quot;Registry&quot;)\r\n@DependsOn({&quot;Context&quot;, &quot;Repo&quot;})\r\npublic class Registry {\r\n    private final List&lt;ServiceRepository&lt;? extends ServiceEntity&gt;&gt; serviceRepositories = new ArrayList&lt;&gt;();\r\n\r\n    public Registry(PineappleServiceRepository pineappleServiceRepository) {\r\n        this.serviceRepositories.add(pineappleServiceRepository);\r\n    }\r\n}\r\n```\r\nEdit 2:\r\nThe code prints &quot;I got constructed&quot;\r\n\r\nEdit 3:\r\nClass where `findAllContainingName` is called\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/test&quot;)\r\n@DependsOn(&quot;Registry&quot;)\r\npublic class ServiceController {\r\n\r\n    private final Registry registry;\r\n\r\n    public ServiceController(@NotNull Registry registry) {\r\n        this.registry = registry;\r\n    }\r\n\r\n    @GetMapping(&quot;&quot;)\r\n    List&lt;ServiceEntity&gt; all(@RequestParam(&quot;q&quot;) String query) {\r\n        return getAllServices(query);\r\n    }\r\n\r\n    private @NotNull List&lt;ServiceEntity&gt; getAllServices(String query) {\r\n        List&lt;ServiceEntity&gt; response = new ArrayList&lt;&gt;();\r\n        for(ServiceRepository&lt;? extends ServiceEntity&gt; repo: this.registry.getServiceRepositories()){\r\n             response.addAll(repo.findAllContainingName(query));\r\n        }\r\n        return response;\r\n    }\r\n}\r\n```\r\nEdit 4: \r\n\r\nHere the entities:\r\n```java\r\n@Entity\r\n@Table(name = &quot;services&quot;)\r\npublic abstract class ServiceEntity {\r\n\r\n    protected @Id\r\n    UUID id = UUID.randomUUID();\r\n    protected String name;\r\n\r\n    // Constructor + Getters and Setters\r\n}\r\n\r\n@Entity\r\npublic class PineappleServiceEntity extends ServiceEntity {\r\n    // Additional Properties, matching Constructors, Getters and Setters\r\n}\r\n","title":"Custom Repository Implementation is not being recognized","body":"<p>I am currently working on a project where I have created the following custom Repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ServiceRepository&lt;T extends ServiceEntity&gt; extends JpaRepository&lt;T, UUID&gt;, ServiceRepositoryCustom {\n}\n\npublic interface ServiceRepositoryCustom {\n    List&lt;ServiceEntity&gt; findAllContainingName(String query);\n}\n\n@Repository(&quot;Repo&quot;)\npublic class ServiceRepositoryCustomImpl implements ServiceRepositoryCustom {\n\n\n    private final EntityManager em;\n\n    public ServiceRepositoryCustomImpl(EntityManager em) {\n        System.out.println(&quot;I got constructed&quot;);\n        this.em = em;\n    }\n\n    @Override\n    public List&lt;ServiceEntity&gt; findAllContainingName(String name) {\n        System.out.println(&quot;I got called with: &quot; + name);\n        CriteriaBuilder cb = em.getCriteriaBuilder();\n        CriteriaQuery&lt;ServiceEntity&gt; cq = cb.createQuery(ServiceEntity.class);\n\n        Root&lt;ServiceEntity&gt; serviceEntity = cq.from(ServiceEntity.class);\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n\n        if(name != null)  {\n            // predicates.add(cb.equal(serviceEntity.get(&quot;name&quot;), name));\n            predicates.add(cb.like(serviceEntity.get(&quot;name&quot;), name + &quot;%&quot;));\n        }\n        cq.where(predicates.toArray(predicates.toArray(new Predicate[0])));\n\n        return em.createQuery(cq).getResultList();\n    }\n}\n</code></pre>\n<p>The print statement &quot;I got called with: &quot; never gets called. So for whatever reason Spring Boot is not running the method through my custom implementation.</p>\n<p>Any suggestions? Any help is much appreciated</p>\n<p>Edit:\nHere is the code that injects and uses the Repository in question</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface PineappleServiceRepository extends ServiceRepository&lt;PineappleServiceEntity&gt; {\n}\n\n@Component(&quot;Registry&quot;)\n@DependsOn({&quot;Context&quot;, &quot;Repo&quot;})\npublic class Registry {\n    private final List&lt;ServiceRepository&lt;? extends ServiceEntity&gt;&gt; serviceRepositories = new ArrayList&lt;&gt;();\n\n    public Registry(PineappleServiceRepository pineappleServiceRepository) {\n        this.serviceRepositories.add(pineappleServiceRepository);\n    }\n}\n</code></pre>\n<p>Edit 2:\nThe code prints &quot;I got constructed&quot;</p>\n<p>Edit 3:\nClass where <code>findAllContainingName</code> is called</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/test&quot;)\n@DependsOn(&quot;Registry&quot;)\npublic class ServiceController {\n\n    private final Registry registry;\n\n    public ServiceController(@NotNull Registry registry) {\n        this.registry = registry;\n    }\n\n    @GetMapping(&quot;&quot;)\n    List&lt;ServiceEntity&gt; all(@RequestParam(&quot;q&quot;) String query) {\n        return getAllServices(query);\n    }\n\n    private @NotNull List&lt;ServiceEntity&gt; getAllServices(String query) {\n        List&lt;ServiceEntity&gt; response = new ArrayList&lt;&gt;();\n        for(ServiceRepository&lt;? extends ServiceEntity&gt; repo: this.registry.getServiceRepositories()){\n             response.addAll(repo.findAllContainingName(query));\n        }\n        return response;\n    }\n}\n</code></pre>\n<p>Edit 4:</p>\n<p>Here the entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;services&quot;)\npublic abstract class ServiceEntity {\n\n    protected @Id\n    UUID id = UUID.randomUUID();\n    protected String name;\n\n    // Constructor + Getters and Setters\n}\n\n@Entity\npublic class PineappleServiceEntity extends ServiceEntity {\n    // Additional Properties, matching Constructors, Getters and Setters\n}\n</code></pre>\n"},{"tags":["java","unit-testing","intellij-idea","junit5"],"answers":[{"tags":[],"owner":{"account_id":11416432,"reputation":578,"user_id":8369150,"display_name":"Halil Sahin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657589890,"creation_date":1657589890,"answer_id":72946201,"question_id":72946009,"body_markdown":"For compare to String expressions you have to use assertEqual function.\r\nUsage: \r\n\r\n    assertEqual(String1, String2);","title":"JUnit 5 a very simple test keeps resolving on Undefined","body":"<p>For compare to String expressions you have to use assertEqual function.\nUsage:</p>\n<pre><code>assertEqual(String1, String2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657591308,"creation_date":1657591308,"answer_id":72946300,"question_id":72946009,"body_markdown":"# `Assertions`, not `Assert`\r\n\r\nNo `Assert` class in JUnit Jupiter.\r\n\r\nUse [`Assertions`][1] class.\r\n\r\n    org.junit.jupiter.api.Assertions.assertTrue( new String( &quot;ss&quot; ).equals( &quot;ss&quot; ) );\r\n\r\n&gt;Tests passed: 1 of 1\r\n\r\nFor less typing, use static import. \r\n\r\n```java\r\npackage work.basil.example.squarematrix;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\nclass SquareMatrixTest\r\n{\r\n    @Test\r\n    void report ( )\r\n    {\r\n        assertTrue( new String( &quot;ss&quot; ).equals( &quot;ss&quot; ) );\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html","title":"JUnit 5 a very simple test keeps resolving on Undefined","body":"<h1><code>Assertions</code>, not <code>Assert</code></h1>\n<p>No <code>Assert</code> class in JUnit Jupiter.</p>\n<p>Use <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html\" rel=\"nofollow noreferrer\"><code>Assertions</code></a> class.</p>\n<pre><code>org.junit.jupiter.api.Assertions.assertTrue( new String( &quot;ss&quot; ).equals( &quot;ss&quot; ) );\n</code></pre>\n<blockquote>\n<p>Tests passed: 1 of 1</p>\n</blockquote>\n<p>For less typing, use static import.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.squarematrix;\n\nimport org.junit.jupiter.api.Test;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nclass SquareMatrixTest\n{\n    @Test\n    void report ( )\n    {\n        assertTrue( new String( &quot;ss&quot; ).equals( &quot;ss&quot; ) );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":383265,"reputation":33,"user_id":739003,"accept_rate":0,"display_name":"vargashj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1657657360,"creation_date":1657587477,"question_id":72946009,"body_markdown":"How is this possible Thanks for your help\r\n\r\nI am on Intellij Community 2022 and I cant believe this Assert is failing. \r\n\r\nAssert.assertTrue(new String(&quot;ss&quot;).equals(&quot;ss&quot;)) -- this fails\r\nAssert.assertTrue(new String(&quot;ss&quot;).matches(&quot;ss&quot;)) -- this fails\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I19mu.png","title":"JUnit 5 a very simple test keeps resolving on Undefined","body":"<p>How is this possible Thanks for your help</p>\n<p>I am on Intellij Community 2022 and I cant believe this Assert is failing.</p>\n<p>Assert.assertTrue(new String(&quot;ss&quot;).equals(&quot;ss&quot;)) -- this fails\nAssert.assertTrue(new String(&quot;ss&quot;).matches(&quot;ss&quot;)) -- this fails</p>\n<p><a href=\"https://i.stack.imgur.com/I19mu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I19mu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","integration-testing"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657657294,"creation_date":1657657294,"answer_id":72957970,"question_id":72952687,"body_markdown":"I&#39;m confused. What do you want to test?\r\n\r\nThe sample you link is achieving controller unit-testing with mockmvc. \r\n\r\nThey use an annotation which loads security context. As a consequence test security context must be configured for the request to reach controller endpoint. \r\n\r\nI don&#39;t see any security rules on your service (@PreAuthorize or something) =&gt; you don&#39;t need any security context, just don&#39;t load security config.\r\n\r\nIf you add security rules you want to unit test, load security config and setup test security context (either explicitly or with something like https://github.com/ch4mpy/spring-addons/tree/master/samples/webmvc-jwtauthenticationtoken/src/test/java/com/c4_soft/springaddons/samples/webmvc_jwtauthenticationtoken)\r\n\r\nThe call to external service is a complete different story: the external service is running with a different security context than the one attached to your tested service thread). Either:\r\n- `@MockBean RestTemplate` (and configure mock for the Rest call your service is issuing) =&gt; unit test\r\n- ensure test configuration for RestTemplate and external service points to the same started authorization server, load rest template config, auto wire RestTemplate as normal and let it issue request for real to actual external service (which must be started too) =&gt; integration test.\r\n\r\nYou should not start with integration test. Unit test are for more stable and easier to maintain. ","title":"How do I write an integration test for a REST API secured with OAuth2 in JUnit5?","body":"<p>I'm confused. What do you want to test?</p>\n<p>The sample you link is achieving controller unit-testing with mockmvc.</p>\n<p>They use an annotation which loads security context. As a consequence test security context must be configured for the request to reach controller endpoint.</p>\n<p>I don't see any security rules on your service (@PreAuthorize or something) =&gt; you don't need any security context, just don't load security config.</p>\n<p>If you add security rules you want to unit test, load security config and setup test security context (either explicitly or with something like <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/webmvc-jwtauthenticationtoken/src/test/java/com/c4_soft/springaddons/samples/webmvc_jwtauthenticationtoken\" rel=\"nofollow noreferrer\">https://github.com/ch4mpy/spring-addons/tree/master/samples/webmvc-jwtauthenticationtoken/src/test/java/com/c4_soft/springaddons/samples/webmvc_jwtauthenticationtoken</a>)</p>\n<p>The call to external service is a complete different story: the external service is running with a different security context than the one attached to your tested service thread). Either:</p>\n<ul>\n<li><code>@MockBean RestTemplate</code> (and configure mock for the Rest call your service is issuing) =&gt; unit test</li>\n<li>ensure test configuration for RestTemplate and external service points to the same started authorization server, load rest template config, auto wire RestTemplate as normal and let it issue request for real to actual external service (which must be started too) =&gt; integration test.</li>\n</ul>\n<p>You should not start with integration test. Unit test are for more stable and easier to maintain.</p>\n"}],"owner":{"account_id":24443293,"reputation":29,"user_id":18366663,"display_name":"xorax12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657657294,"creation_date":1657630484,"question_id":72952687,"body_markdown":"I have a client service like this,\r\n\r\n    @Service\r\n    public class PersonClientService {\r\n      private final String EXTERNAL_API;\r\n      private RestTemplate restTemplate;\r\n    \r\n      @Autowired\r\n      public PersonClientService(RestTemplate restTemplate, @Value(&quot;${person.url}&quot;) String apiUrl) {\r\n        this.restTemplate = restTemplate;\r\n        EXTERNAL_API = apiUrl\r\n      }\r\n   \r\n      public ResponseDTO createData(PersonDTO personDTO) throws Exception {\r\n        try {\r\n          HttpEntity&lt;PersonDTO&gt; input = new HttpEntity&lt;&gt;(personDTO);\r\n          ResponseEntity&lt;ResponseDTO&gt; restponseDTO = restTemplate.exchange(EXTERNAL_API, HttpMethod.POST, input, ResponseDTO.class);\r\n          return responseDTO.getBody();\r\n        } catch(Exception e) {\r\n          //catch exception\r\n        }\r\n      }\r\n    }\r\n\r\nNow the rest template here that I am using is secured with OAuth2 implementation and it is using `client_id` and `secret` with `grant_type` as `client_credentials` to generate a token and then using this token as header to call the `EXTERNAL_API`\r\n\r\nI am following this guide here but it&#39;s not really helpful since it is using JUnit4 and I am on JUnit5: https://www.baeldung.com/oauth-api-testing-with-spring-mvc","title":"How do I write an integration test for a REST API secured with OAuth2 in JUnit5?","body":"<p>I have a client service like this,</p>\n<pre><code>@Service\npublic class PersonClientService {\n  private final String EXTERNAL_API;\n  private RestTemplate restTemplate;\n\n  @Autowired\n  public PersonClientService(RestTemplate restTemplate, @Value(&quot;${person.url}&quot;) String apiUrl) {\n    this.restTemplate = restTemplate;\n    EXTERNAL_API = apiUrl\n  }\n\n  public ResponseDTO createData(PersonDTO personDTO) throws Exception {\n    try {\n      HttpEntity&lt;PersonDTO&gt; input = new HttpEntity&lt;&gt;(personDTO);\n      ResponseEntity&lt;ResponseDTO&gt; restponseDTO = restTemplate.exchange(EXTERNAL_API, HttpMethod.POST, input, ResponseDTO.class);\n      return responseDTO.getBody();\n    } catch(Exception e) {\n      //catch exception\n    }\n  }\n}\n</code></pre>\n<p>Now the rest template here that I am using is secured with OAuth2 implementation and it is using <code>client_id</code> and <code>secret</code> with <code>grant_type</code> as <code>client_credentials</code> to generate a token and then using this token as header to call the <code>EXTERNAL_API</code></p>\n<p>I am following this guide here but it's not really helpful since it is using JUnit4 and I am on JUnit5: <a href=\"https://www.baeldung.com/oauth-api-testing-with-spring-mvc\" rel=\"nofollow noreferrer\">https://www.baeldung.com/oauth-api-testing-with-spring-mvc</a></p>\n"},{"tags":["java","jpeg","extract","mov"],"comments":[{"owner":{"account_id":1593148,"reputation":9800,"user_id":1519458,"accept_rate":67,"display_name":"Nuri Tasdemir"},"score":1,"creation_date":1364773223,"post_id":15735716,"comment_id":22357663,"body_markdown":"Probably I am asking the question in a wrong way. I do not play the video file (on screen). I just want to read and process it as a file and get a sample frame from it and save this sample frame as a jpeg","body":"Probably I am asking the question in a wrong way. I do not play the video file (on screen). I just want to read and process it as a file and get a sample frame from it and save this sample frame as a jpeg"},{"owner":{"account_id":1575857,"reputation":15730,"user_id":1462337,"accept_rate":82,"display_name":"rhashimoto"},"score":0,"creation_date":1364774345,"post_id":15735716,"comment_id":22357884,"body_markdown":"Here&#39;s a [similar question](http://stackoverflow.com/questions/11808815/how-to-get-the-the-single-images-of-an-mp4-movie-in-java) that doesn&#39;t look like it got a complete answer but might get you started.","body":"Here&#39;s a <a href=\"http://stackoverflow.com/questions/11808815/how-to-get-the-the-single-images-of-an-mp4-movie-in-java\">similar question</a> that doesn&#39;t look like it got a complete answer but might get you started."},{"owner":{"account_id":1593148,"reputation":9800,"user_id":1519458,"accept_rate":67,"display_name":"Nuri Tasdemir"},"score":2,"creation_date":1364780016,"post_id":15735716,"comment_id":22358933,"body_markdown":"I did it using Xoggler. I gave the link for the code in the answer section","body":"I did it using Xoggler. I gave the link for the code in the answer section"}],"answers":[{"tags":[],"owner":{"account_id":1501890,"reputation":1892,"user_id":1406264,"accept_rate":96,"display_name":"DRastislav"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1364772989,"creation_date":1364772989,"answer_id":15735809,"question_id":15735716,"body_markdown":"maybe this will help you: \r\n\r\n    Buffer buf = frameGrabber.grabFrame();\r\n    // Convert frame to an buffered image so it can be processed and saved\r\n    Image img = (new BufferToImage((VideoFormat) buf.getFormat()).createImage(buf));\r\n    buffImg = new BufferedImage(img.getWidth(this), img.getHeight(this), BufferedImage.TYPE_INT_RGB);\r\n    //TODO saving the buffImg\r\n\r\nfor more informations: \r\n\r\nhttps://stackoverflow.com/questions/1078689/how-to-take-single-snapshots-from-a-webcam","title":"How can I get a frame sample (jpeg) from a video (mov)","body":"<p>maybe this will help you: </p>\n\n<pre><code>Buffer buf = frameGrabber.grabFrame();\n// Convert frame to an buffered image so it can be processed and saved\nImage img = (new BufferToImage((VideoFormat) buf.getFormat()).createImage(buf));\nbuffImg = new BufferedImage(img.getWidth(this), img.getHeight(this), BufferedImage.TYPE_INT_RGB);\n//TODO saving the buffImg\n</code></pre>\n\n<p>for more informations: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/1078689/how-to-take-single-snapshots-from-a-webcam\">How to take single snapshots from a webcam?</a></p>\n"},{"tags":[],"owner":{"account_id":1593148,"reputation":9800,"user_id":1519458,"accept_rate":67,"display_name":"Nuri Tasdemir"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1364790143,"creation_date":1364779897,"answer_id":15736494,"question_id":15735716,"body_markdown":"Xuggler does the job. They even give a sample code which does exactly what I need. Link is below\r\n\r\nhttp://xuggle.googlecode.com/svn/trunk/java/xuggle-xuggler/src/com/xuggle/mediatool/demos/DecodeAndCaptureFrames.java\r\n\r\nAnd I&#39;ve modified the code in this link such that it saves only the first frame of the video.\r\n\r\n\r\n    import javax.imageio.ImageIO;\r\n    \r\n    import java.io.File;\r\n    \r\n    import java.awt.image.BufferedImage;\r\n    \r\n    import com.xuggle.mediatool.IMediaReader;\r\n    import com.xuggle.mediatool.MediaListenerAdapter;\r\n    import com.xuggle.mediatool.ToolFactory;\r\n    import com.xuggle.mediatool.event.IVideoPictureEvent;\r\n    import com.xuggle.xuggler.Global;\r\n    \r\n    /**\r\n     *  * @author aclarke\r\n     *    @author trebor\r\n     */\r\n    \r\n    public class DecodeAndCaptureFrames extends MediaListenerAdapter\r\n    {\r\n      private int mVideoStreamIndex = -1;\r\n      private boolean gotFirst = false;\r\n      private String saveFile;\r\n      private Exception e;\r\n      /** Construct a DecodeAndCaptureFrames which reads and captures\r\n       * frames from a video file.\r\n       * \r\n       * @param filename the name of the media file to read\r\n       */\r\n    \r\n      public DecodeAndCaptureFrames(String videoFile, String saveFile)throws Exception\r\n      {\r\n        // create a media reader for processing video\r\n        this.saveFile = saveFile;\r\n        this.e = null;\r\n         IMediaReader reader = ToolFactory.makeReader(videoFile);\r\n        \r\n        // stipulate that we want BufferedImages created in BGR 24bit color space\r\n        reader.setBufferedImageTypeToGenerate(BufferedImage.TYPE_3BYTE_BGR);\r\n    \r\n        \r\n        // note that DecodeAndCaptureFrames is derived from\r\n        // MediaReader.ListenerAdapter and thus may be added as a listener\r\n        // to the MediaReader. DecodeAndCaptureFrames implements\r\n        // onVideoPicture().\r\n    \r\n        reader.addListener(this);\r\n    \r\n        // read out the contents of the media file, note that nothing else\r\n        // happens here.  action happens in the onVideoPicture() method\r\n        // which is called when complete video pictures are extracted from\r\n        // the media source\r\n    \r\n          while (reader.readPacket() == null &amp;&amp; !gotFirst);\r\n          \r\n          if (e != null)\r\n              throw e;\r\n      }\r\n      \r\n     \r\n    \r\n      /** \r\n       * Called after a video frame has been decoded from a media stream.\r\n       * Optionally a BufferedImage version of the frame may be passed\r\n       * if the calling {@link IMediaReader} instance was configured to\r\n       * create BufferedImages.\r\n       * \r\n       * This method blocks, so return quickly.\r\n       */\r\n    \r\n      public void onVideoPicture(IVideoPictureEvent event)\r\n      {\r\n        try\r\n        {\r\n          // if the stream index does not match the selected stream index,\r\n          // then have a closer look\r\n          \r\n          if (event.getStreamIndex() != mVideoStreamIndex)\r\n          {\r\n            // if the selected video stream id is not yet set, go ahead an\r\n            // select this lucky video stream\r\n            \r\n            if (-1 == mVideoStreamIndex)\r\n              mVideoStreamIndex = event.getStreamIndex();\r\n            \r\n            // otherwise return, no need to show frames from this video stream\r\n            \r\n            else\r\n              return;\r\n          }\r\n          \r\n          ImageIO.write(event.getImage(), &quot;jpg&quot;, new File(saveFile));\r\n          gotFirst = true;\r\n         \r\n        }\r\n        catch (Exception e)\r\n        {\r\n          this.e = e;\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"How can I get a frame sample (jpeg) from a video (mov)","body":"<p>Xuggler does the job. They even give a sample code which does exactly what I need. Link is below</p>\n\n<p><a href=\"http://xuggle.googlecode.com/svn/trunk/java/xuggle-xuggler/src/com/xuggle/mediatool/demos/DecodeAndCaptureFrames.java\" rel=\"noreferrer\">http://xuggle.googlecode.com/svn/trunk/java/xuggle-xuggler/src/com/xuggle/mediatool/demos/DecodeAndCaptureFrames.java</a></p>\n\n<p>And I've modified the code in this link such that it saves only the first frame of the video.</p>\n\n<pre><code>import javax.imageio.ImageIO;\n\nimport java.io.File;\n\nimport java.awt.image.BufferedImage;\n\nimport com.xuggle.mediatool.IMediaReader;\nimport com.xuggle.mediatool.MediaListenerAdapter;\nimport com.xuggle.mediatool.ToolFactory;\nimport com.xuggle.mediatool.event.IVideoPictureEvent;\nimport com.xuggle.xuggler.Global;\n\n/**\n *  * @author aclarke\n *    @author trebor\n */\n\npublic class DecodeAndCaptureFrames extends MediaListenerAdapter\n{\n  private int mVideoStreamIndex = -1;\n  private boolean gotFirst = false;\n  private String saveFile;\n  private Exception e;\n  /** Construct a DecodeAndCaptureFrames which reads and captures\n   * frames from a video file.\n   * \n   * @param filename the name of the media file to read\n   */\n\n  public DecodeAndCaptureFrames(String videoFile, String saveFile)throws Exception\n  {\n    // create a media reader for processing video\n    this.saveFile = saveFile;\n    this.e = null;\n     IMediaReader reader = ToolFactory.makeReader(videoFile);\n\n    // stipulate that we want BufferedImages created in BGR 24bit color space\n    reader.setBufferedImageTypeToGenerate(BufferedImage.TYPE_3BYTE_BGR);\n\n\n    // note that DecodeAndCaptureFrames is derived from\n    // MediaReader.ListenerAdapter and thus may be added as a listener\n    // to the MediaReader. DecodeAndCaptureFrames implements\n    // onVideoPicture().\n\n    reader.addListener(this);\n\n    // read out the contents of the media file, note that nothing else\n    // happens here.  action happens in the onVideoPicture() method\n    // which is called when complete video pictures are extracted from\n    // the media source\n\n      while (reader.readPacket() == null &amp;&amp; !gotFirst);\n\n      if (e != null)\n          throw e;\n  }\n\n\n\n  /** \n   * Called after a video frame has been decoded from a media stream.\n   * Optionally a BufferedImage version of the frame may be passed\n   * if the calling {@link IMediaReader} instance was configured to\n   * create BufferedImages.\n   * \n   * This method blocks, so return quickly.\n   */\n\n  public void onVideoPicture(IVideoPictureEvent event)\n  {\n    try\n    {\n      // if the stream index does not match the selected stream index,\n      // then have a closer look\n\n      if (event.getStreamIndex() != mVideoStreamIndex)\n      {\n        // if the selected video stream id is not yet set, go ahead an\n        // select this lucky video stream\n\n        if (-1 == mVideoStreamIndex)\n          mVideoStreamIndex = event.getStreamIndex();\n\n        // otherwise return, no need to show frames from this video stream\n\n        else\n          return;\n      }\n\n      ImageIO.write(event.getImage(), \"jpg\", new File(saveFile));\n      gotFirst = true;\n\n    }\n    catch (Exception e)\n    {\n      this.e = e;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":171115,"reputation":3305,"user_id":398316,"accept_rate":91,"display_name":"Maghoumi"},"down_vote_count":1,"up_vote_count":72,"is_accepted":false,"score":71,"last_activity_date":1657656812,"creation_date":1393626836,"answer_id":22107132,"question_id":15735716,"body_markdown":"I know that the original question is solved, nevertheless, I am posting this answer in case anyone else got stuck like I did.  \r\n\r\nSince yesterday, I have tried everything, and I mean everything to do this. All available Java libraries are either out of date, not maintained anymore or lack any kind of usable documentation (seriously??!?!)  \r\n\r\nI tried JFM (old and useless), JCodec (no documentation whatsoever), JJMpeg (looks promising but is very difficult and cumbersome to use due to lack of Java-class documentation), OpenCV auto-Java builds and a few bunch of other libraries that I cannot remember.  \r\n\r\nFinally, I decided to take a look at [JavaCV][1]&#39;s ([Github link][2]) classes and voila! It contains FFMPEG bindings with detailed documentations.\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.bytedeco&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;javacv&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nTurns out there is a very easy way to extract video frames from a video file to a `BufferedImage` and by extension a JPEG file. The class FFmpegFrameGrabber could be easily used for grabbing individual frames and converting them to `BufferedImage`. A code sample is as follows:\r\n\r\n    FFmpegFrameGrabber g = new FFmpegFrameGrabber(&quot;textures/video/anim.mp4&quot;);\r\n    g.start();\r\n\r\n    Java2DFrameConverter converter = new Java2DFrameConverter();\r\n    \r\n    for (int i = 0 ; i &lt; 50 ; i++) {\r\n        \r\n        Frame frame = g.grabImage(); // It is important to use grabImage() to get a frame that can be turned into a BufferedImage\r\n\r\n        BufferedImage bi = converter.convert(frame);\r\n\r\n    \tImageIO.write(bi, &quot;png&quot;, new File(&quot;frame-dump/video-frame-&quot; + System.currentTimeMillis() + &quot;.png&quot;));\r\n    }\r\n    \r\n    g.stop();\r\n\r\nBasically, this code dumps the first 50 frames of the video and saves them as a PNG file. The good thing is that the internal seek function, works on actual frames not keyframes (a problem that I had with JCodec)\r\n\r\nYou can refer to the JavaCV&#39;s homepage to find out more about other classes that can be used for capturing frames from WebCams etc. Hope this answer helps :-)\r\n\r\n\r\n  [1]: https://code.google.com/p/javacv/\r\n  [2]: https://github.com/bytedeco/javacv","title":"How can I get a frame sample (jpeg) from a video (mov)","body":"<p>I know that the original question is solved, nevertheless, I am posting this answer in case anyone else got stuck like I did.</p>\n<p>Since yesterday, I have tried everything, and I mean everything to do this. All available Java libraries are either out of date, not maintained anymore or lack any kind of usable documentation (seriously??!?!)</p>\n<p>I tried JFM (old and useless), JCodec (no documentation whatsoever), JJMpeg (looks promising but is very difficult and cumbersome to use due to lack of Java-class documentation), OpenCV auto-Java builds and a few bunch of other libraries that I cannot remember.</p>\n<p>Finally, I decided to take a look at <a href=\"https://code.google.com/p/javacv/\" rel=\"nofollow noreferrer\">JavaCV</a>'s (<a href=\"https://github.com/bytedeco/javacv\" rel=\"nofollow noreferrer\">Github link</a>) classes and voila! It contains FFMPEG bindings with detailed documentations.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.bytedeco&lt;/groupId&gt;\n    &lt;artifactId&gt;javacv&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Turns out there is a very easy way to extract video frames from a video file to a <code>BufferedImage</code> and by extension a JPEG file. The class FFmpegFrameGrabber could be easily used for grabbing individual frames and converting them to <code>BufferedImage</code>. A code sample is as follows:</p>\n<pre><code>FFmpegFrameGrabber g = new FFmpegFrameGrabber(&quot;textures/video/anim.mp4&quot;);\ng.start();\n\nJava2DFrameConverter converter = new Java2DFrameConverter();\n\nfor (int i = 0 ; i &lt; 50 ; i++) {\n    \n    Frame frame = g.grabImage(); // It is important to use grabImage() to get a frame that can be turned into a BufferedImage\n\n    BufferedImage bi = converter.convert(frame);\n\n    ImageIO.write(bi, &quot;png&quot;, new File(&quot;frame-dump/video-frame-&quot; + System.currentTimeMillis() + &quot;.png&quot;));\n}\n\ng.stop();\n</code></pre>\n<p>Basically, this code dumps the first 50 frames of the video and saves them as a PNG file. The good thing is that the internal seek function, works on actual frames not keyframes (a problem that I had with JCodec)</p>\n<p>You can refer to the JavaCV's homepage to find out more about other classes that can be used for capturing frames from WebCams etc. Hope this answer helps :-)</p>\n"},{"tags":[],"owner":{"account_id":2815364,"reputation":4577,"user_id":2420599,"display_name":"Gabriel Archanjo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404474613,"creation_date":1404474613,"answer_id":24573630,"question_id":15735716,"body_markdown":"Below it is shown the essential code to request frames from media files.\r\n\r\nFor the complete source code and video demo:&lt;br/&gt;\r\n[&quot;Media File Processing&quot;][1] example using **Marvin Framework**..\r\n\r\n    public class MediaFileExample implements Runnable{\r\n\r\n        private MarvinVideoInterface    videoAdapter;\r\n        private MarvinImage             videoFrame;\r\n\r\n        public MediaFileExample(){\r\n            try{\r\n                // Create the VideoAdapter used to load the video file\r\n                videoAdapter = new MarvinJavaCVAdapter();\r\n                videoAdapter.loadResource(&quot;./res/snooker.wmv&quot;);\r\n\r\n                // Start the thread for requesting the video frames \r\n                new Thread(this).start();\r\n            }\r\n            catch(MarvinVideoInterfaceException e){e.printStackTrace();}\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            try{\r\n                while(true){\r\n                    // Request a video frame\r\n                    videoFrame = videoAdapter.getFrame();\r\n                }\r\n            }catch(MarvinVideoInterfaceException e){e.printStackTrace();}\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            MediaFileExample m = new MediaFileExample();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://marvinproject.sourceforge.net/en/examples/mediaFile.html","title":"How can I get a frame sample (jpeg) from a video (mov)","body":"<p>Below it is shown the essential code to request frames from media files.</p>\n\n<p>For the complete source code and video demo:<br/>\n<a href=\"http://marvinproject.sourceforge.net/en/examples/mediaFile.html\" rel=\"nofollow\">\"Media File Processing\"</a> example using <strong>Marvin Framework</strong>..</p>\n\n<pre><code>public class MediaFileExample implements Runnable{\n\n    private MarvinVideoInterface    videoAdapter;\n    private MarvinImage             videoFrame;\n\n    public MediaFileExample(){\n        try{\n            // Create the VideoAdapter used to load the video file\n            videoAdapter = new MarvinJavaCVAdapter();\n            videoAdapter.loadResource(\"./res/snooker.wmv\");\n\n            // Start the thread for requesting the video frames \n            new Thread(this).start();\n        }\n        catch(MarvinVideoInterfaceException e){e.printStackTrace();}\n    }\n\n    @Override\n    public void run() {\n        try{\n            while(true){\n                // Request a video frame\n                videoFrame = videoAdapter.getFrame();\n            }\n        }catch(MarvinVideoInterfaceException e){e.printStackTrace();}\n    }\n\n    public static void main(String[] args) {\n        MediaFileExample m = new MediaFileExample();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5952056,"reputation":71,"user_id":4679744,"display_name":"kousik Mridha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1426824474,"creation_date":1426652427,"answer_id":29114068,"question_id":15735716,"body_markdown":"\r\n\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import javax.imageio.ImageIO;\r\n    import org.bytedeco.javacpp.opencv_core.IplImage;\r\n    import org.bytedeco.javacv.FFmpegFrameGrabber;\r\n    import org.bytedeco.javacv.FrameGrabber.Exception;\r\n    \r\n    public class Read{\r\n    \tpublic static void main(String []args) throws IOException, Exception\r\n    \t{\r\n    \t\tFFmpegFrameGrabber frameGrabber = new FFmpegFrameGrabber(&quot;C:/Users/Digilog/Downloads/Test.mp4&quot;);\r\n    \t\tframeGrabber.start();\r\n    \t\tIplImage i;\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\ti = frameGrabber.grab();\r\n    \t\t\tBufferedImage  bi = i.getBufferedImage();\r\n    \t\t\tImageIO.write(bi,&quot;png&quot;, new File(&quot;D:/Img.png&quot;));\r\n    \t\t\tframeGrabber.stop();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t \r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n","title":"How can I get a frame sample (jpeg) from a video (mov)","body":"<pre><code>import java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\nimport org.bytedeco.javacpp.opencv_core.IplImage;\nimport org.bytedeco.javacv.FFmpegFrameGrabber;\nimport org.bytedeco.javacv.FrameGrabber.Exception;\n\npublic class Read{\n    public static void main(String []args) throws IOException, Exception\n    {\n        FFmpegFrameGrabber frameGrabber = new FFmpegFrameGrabber(\"C:/Users/Digilog/Downloads/Test.mp4\");\n        frameGrabber.start();\n        IplImage i;\n        try {\n\n            i = frameGrabber.grab();\n            BufferedImage  bi = i.getBufferedImage();\n            ImageIO.write(bi,\"png\", new File(\"D:/Img.png\"));\n            frameGrabber.stop();\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4973546,"reputation":28157,"user_id":4009451,"accept_rate":87,"display_name":"smeeb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1471139437,"creation_date":1471139437,"answer_id":38938497,"question_id":15735716,"body_markdown":"Here&#39;s how with [BoofCV](https://github.com/lessthanoptimal/BoofCV/):\r\n\r\n    String fileName = UtilIO.pathExample(&quot;tracking/chipmunk.mjpeg&quot;);\r\n\r\n    MediaManager media = DefaultMediaManager.INSTANCE;\r\n\r\n    ConfigBackgroundBasic configBasic = new ConfigBackgroundBasic(30, 0.005f);\r\n    ImageType imageType = ImageType.single(GrayF32.class);\r\n    BackgroundModelMoving background = FactoryBackgroundModel.movingBasic(configBasic, new PointTransformHomography_F32(), imageType);\r\n\r\n    SimpleImageSequence video = media.openVideo(fileName, background.getImageType());\r\n\r\n    ImageBase nextFrame;\r\n    while(video.hasNext()) {\r\n        nextFrame = video.next();\r\n        \r\n        // Now do something with it...\r\n    }","title":"How can I get a frame sample (jpeg) from a video (mov)","body":"<p>Here's how with <a href=\"https://github.com/lessthanoptimal/BoofCV/\" rel=\"nofollow\">BoofCV</a>:</p>\n\n<pre><code>String fileName = UtilIO.pathExample(\"tracking/chipmunk.mjpeg\");\n\nMediaManager media = DefaultMediaManager.INSTANCE;\n\nConfigBackgroundBasic configBasic = new ConfigBackgroundBasic(30, 0.005f);\nImageType imageType = ImageType.single(GrayF32.class);\nBackgroundModelMoving background = FactoryBackgroundModel.movingBasic(configBasic, new PointTransformHomography_F32(), imageType);\n\nSimpleImageSequence video = media.openVideo(fileName, background.getImageType());\n\nImageBase nextFrame;\nwhile(video.hasNext()) {\n    nextFrame = video.next();\n\n    // Now do something with it...\n}\n</code></pre>\n"}],"owner":{"account_id":1593148,"reputation":9800,"user_id":1519458,"accept_rate":67,"display_name":"Nuri Tasdemir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66145,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":15736494,"answer_count":6,"score":28,"last_activity_date":1657656812,"creation_date":1364772280,"question_id":15735716,"body_markdown":"I want to get a frame sample (jpeg) from a video file (mov) with java. Is there an easy way to do this. When I search in google all I can find is to make mov from multiple jpgs. I dont know maybe I cannot find the right keywords.","title":"How can I get a frame sample (jpeg) from a video (mov)","body":"<p>I want to get a frame sample (jpeg) from a video file (mov) with java. Is there an easy way to do this. When I search in google all I can find is to make mov from multiple jpgs. I dont know maybe I cannot find the right keywords.</p>\n"},{"tags":["java","groovy"],"answers":[{"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657656729,"creation_date":1657656729,"answer_id":72957892,"question_id":72955522,"body_markdown":"it&#39;s a strange request and i&#39;d fix it in place where you are generating input text\r\n\r\nhowever seems each new-line that you want to remove prepended with a backslash `\\`\r\n```\r\ninput.replaceAll(&quot;&lt;[^&gt;]*&gt;&quot;,&quot;&quot;)\r\n     .replaceAll(&quot;\\\\\\\\[\\\\r\\\\n]+&quot;,&quot;&quot;) // backslach+newline -&gt; empty\r\n     .replaceAll(&quot;\\\\|[\\\\r\\\\n]+&quot;,&quot;|&quot;) // pipe+newline -&gt; pipe\r\n```\r\n\r\n","title":"Removing backslash and newline character within one column","body":"<p>it's a strange request and i'd fix it in place where you are generating input text</p>\n<p>however seems each new-line that you want to remove prepended with a backslash <code>\\</code></p>\n<pre><code>input.replaceAll(&quot;&lt;[^&gt;]*&gt;&quot;,&quot;&quot;)\n     .replaceAll(&quot;\\\\\\\\[\\\\r\\\\n]+&quot;,&quot;&quot;) // backslach+newline -&gt; empty\n     .replaceAll(&quot;\\\\|[\\\\r\\\\n]+&quot;,&quot;|&quot;) // pipe+newline -&gt; pipe\n</code></pre>\n"}],"owner":{"account_id":3393838,"reputation":207,"user_id":2848031,"accept_rate":64,"display_name":"user2848031"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72957892,"answer_count":1,"score":0,"last_activity_date":1657656729,"creation_date":1657643275,"question_id":72955522,"body_markdown":"I&#39;m getting text string html along with backslash and newline character. I can easily remove html tags using `.replaceAll(&quot;&lt;[^&gt;]*&gt;&quot;,&quot;&quot;)` but still \\ and new line character still exists. So, again i tried to `replaceAll(&quot;\\\\r\\\\n|\\\\r|\\\\n&quot;,&quot;&quot;)` but removing end of line characters.\r\n\r\nInput String:\r\n\r\n    test1|test2|test3|test4|test5\r\n    testa|testB|testc|testd|teste\r\n    test11|test22|\r\n    &lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; id=&quot;master_tbl&quot;&gt;\\\r\n    &lt;tbody&gt;\\\r\n    &lt;tr id=&quot;master_cr&quot;&gt;\\\r\n    &lt;td&gt;\\\r\n    &lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; id=&quot;master_DefaultContent_rts_s3801_tbl&quot;&gt;\\\r\n    &lt;tbody&gt;\\\r\n    &lt;tr id=&quot;master_DefaultContent_rts_s3801_cr&quot;&gt;\\\r\n    &lt;td&gt;\\\r\n    &lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; id=&quot;master_DefaultContent_rts_s3801_ctl03&quot; width=&quot;100%&quot;&gt;\\\r\n    &lt;tbody&gt;\\\r\n    &lt;tr&gt;\\\r\n    &lt;td&gt;&lt;span id=&quot;master_DefaultContent_rts_s3801_f25914c&quot;&gt;test33&lt;/span&gt;&lt;/td&gt;\\\r\n    &lt;/tr&gt;\\\r\n    &lt;/tbody&gt;\\\r\n    &lt;/table&gt;\\\r\n    &lt;/td&gt;\\\r\n    &lt;/tr&gt;\\\r\n    &lt;/tbody&gt;\\\r\n    &lt;/table&gt;\\\r\n    &lt;/td&gt;\\\r\n    &lt;/tr&gt;\\\r\n    &lt;/tbody&gt;\\\r\n    &lt;/table&gt;|test44|test55\r\n    test66|test77|test88|test99|test00\r\n\r\nExpected output string:\r\n\r\n    test1|test2|test3|test4|test5\r\n    testa|testB|testc|testd|teste\r\n    test11|test22|test33|test44|test55\r\n    test66|test77|test88|test99|test00","title":"Removing backslash and newline character within one column","body":"<p>I'm getting text string html along with backslash and newline character. I can easily remove html tags using <code>.replaceAll(&quot;&lt;[^&gt;]*&gt;&quot;,&quot;&quot;)</code> but still \\ and new line character still exists. So, again i tried to <code>replaceAll(&quot;\\\\r\\\\n|\\\\r|\\\\n&quot;,&quot;&quot;)</code> but removing end of line characters.</p>\n<p>Input String:</p>\n<pre><code>test1|test2|test3|test4|test5\ntesta|testB|testc|testd|teste\ntest11|test22|\n&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; id=&quot;master_tbl&quot;&gt;\\\n&lt;tbody&gt;\\\n&lt;tr id=&quot;master_cr&quot;&gt;\\\n&lt;td&gt;\\\n&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; id=&quot;master_DefaultContent_rts_s3801_tbl&quot;&gt;\\\n&lt;tbody&gt;\\\n&lt;tr id=&quot;master_DefaultContent_rts_s3801_cr&quot;&gt;\\\n&lt;td&gt;\\\n&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; id=&quot;master_DefaultContent_rts_s3801_ctl03&quot; width=&quot;100%&quot;&gt;\\\n&lt;tbody&gt;\\\n&lt;tr&gt;\\\n&lt;td&gt;&lt;span id=&quot;master_DefaultContent_rts_s3801_f25914c&quot;&gt;test33&lt;/span&gt;&lt;/td&gt;\\\n&lt;/tr&gt;\\\n&lt;/tbody&gt;\\\n&lt;/table&gt;\\\n&lt;/td&gt;\\\n&lt;/tr&gt;\\\n&lt;/tbody&gt;\\\n&lt;/table&gt;\\\n&lt;/td&gt;\\\n&lt;/tr&gt;\\\n&lt;/tbody&gt;\\\n&lt;/table&gt;|test44|test55\ntest66|test77|test88|test99|test00\n</code></pre>\n<p>Expected output string:</p>\n<pre><code>test1|test2|test3|test4|test5\ntesta|testB|testc|testd|teste\ntest11|test22|test33|test44|test55\ntest66|test77|test88|test99|test00\n</code></pre>\n"},{"tags":["java","json","post","rest-assured","rest-assured-jsonpath"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1657666599,"post_id":72957706,"comment_id":128863980,"body_markdown":"You should log the RA request and find out what is the difference between RA and Postman. Because your request is `bad request` meaning some key-value is wrong, the response is HTML, starting with `&lt;` character --&gt; RA throws JSON Exception while parsing it.","body":"You should log the RA request and find out what is the difference between RA and Postman. Because your request is <code>bad request</code> meaning some key-value is wrong, the response is HTML, starting with <code>&lt;</code> character --&gt; RA throws JSON Exception while parsing it."},{"owner":{"account_id":15371775,"reputation":514,"user_id":11089623,"display_name":"cheparsky"},"score":0,"creation_date":1658779308,"post_id":72957706,"comment_id":129132132,"body_markdown":"1) `Lexing failed on line: 1, column: 1, while reading &#39;&lt;&#39;, no possible valid JSON` - looks like you get XML in response, not JSON; 2) add whole error stack trace when you get `400 bad request`; 3) Postman add some additional headers, e.g. `Content-Type` header, check it","body":"1) <code>Lexing failed on line: 1, column: 1, while reading &#39;&lt;&#39;, no possible valid JSON</code> - looks like you get XML in response, not JSON; 2) add whole error stack trace when you get <code>400 bad request</code>; 3) Postman add some additional headers, e.g. <code>Content-Type</code> header, check it"}],"owner":{"account_id":4113062,"reputation":435,"user_id":3375417,"accept_rate":0,"display_name":"wheelerlc64"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657655700,"creation_date":1657655700,"question_id":72957706,"body_markdown":"Currently I am getting the below error when trying to perform a post Request in Rest Assured and looking to get the &quot;tokenId&quot; from the response body:\r\n\r\n```\r\nio.restassured.path.json.exception.JsonPathException: Failed to parse the JSON document\r\n\r\n\tat io.restassured.path.json.JsonPath$ExceptionCatcher.invoke(JsonPath.java:1002)\r\n\tat io.restassured.path.json.JsonPath$4.doParseWith(JsonPath.java:967)\r\n\tat io.restassured.path.json.JsonPath$JsonParser.parseWith(JsonPath.java:1047)\r\n\tat io.restassured.path.json.JsonPath.get(JsonPath.java:202)\r\n\tat io.restassured.path.json.JsonPath.getString(JsonPath.java:352)\r\n\tat com.restassured.oauth.AuthenticateSetup.authenticationSetup(AuthenticateSetup.java:39)\r\n\tat com.restassured.runner.TestRunner.testNgBeforeSuite(TestRunner.java:31)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:59)\r\n\tat org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:458)\r\n\tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:222)\r\n\tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:142)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:401)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:364)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:84)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1208)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1137)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1049)\r\n\tat org.testng.TestNG.run(TestNG.java:1017)\r\n\tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n\tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\nCaused by: groovy.json.JsonException: Lexing failed on line: 1, column: 1, while reading &#39;&lt;&#39;, no possible valid JSON value or punctuation could be recognized.\r\n\tat groovy.json.JsonLexer.nextToken(JsonLexer.java:86)\r\n\tat groovy.json.JsonLexer$nextToken.call(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:130)\r\n\tat io.restassured.internal.path.json.ConfigurableJsonSlurper.parse(ConfigurableJsonSlurper.groovy:97)\r\n\tat io.restassured.internal.path.json.ConfigurableJsonSlurper$parse.callCurrent(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:185)\r\n\tat io.restassured.internal.path.json.ConfigurableJsonSlurper.parseText(ConfigurableJsonSlurper.groovy:83)\r\n\tat io.restassured.path.json.JsonPath$4$1.method(JsonPath.java:965)\r\n\tat io.restassured.path.json.JsonPath$ExceptionCatcher.invoke(JsonPath.java:1000)\r\n\t... 25 more\r\n```\r\n\r\nThe code I have is as seen below:\r\n\r\n\r\n```\r\npublic class AuthenticateSetup {\r\n\r\n    public static Response response;\r\n    public static String responseString;\r\n    public static ReadPropertyFile urlProperties;\r\n\r\n    public void authenticationSetup() throws JsonException {\r\n\r\n        urlProperties = new ReadPropertyFile(&quot;./src/test/resources/Url.properties&quot;);\r\n        RestAssured.baseURI = urlProperties.getProperty(&quot;devAuthBaseUrl&quot;);\r\n        response = given()\r\n                .config(RestAssured.config().encoderConfig(encoderConfig().encodeContentTypeAs(&quot;*/*&quot;, ContentType.JSON)))\r\n                //.contentType(ContentType.ANY)\r\n                .param(&quot;authIndexType&quot;, &quot;service&quot;)\r\n                .param(&quot;authIndexValue&quot;, &quot;ldapService&quot;)\r\n                .header(&quot;host&quot;, RestAssured.baseURI)\r\n                .header(&quot;X-OpenAM-Username&quot;,urlProperties.getProperty(&quot;contactId&quot;))\r\n                .header(&quot;X-OpenAM-Password&quot;,urlProperties.getProperty(&quot;contactPwd&quot;))\r\n                .header(&quot;Accept-API-Version&quot;,&quot;resource=2.0,protocol=1.0&quot;)\r\n                .when()\r\n                .post(urlProperties.getProperty(&quot;devVGWAuthenticateUrl&quot;))\r\n                .then()\r\n//                .assertThat()\r\n//                .statusCode(200)\r\n                .extract().response();\r\n\r\n        System.out.println(&quot;The response is &quot; + response);\r\n        String tokenId = response.jsonPath().getString(&quot;tokenId&quot;);\r\n        System.out.println(&quot;The token id is &quot; + tokenId);\r\n\t}\r\n}\r\n```\r\n\r\nAt first I was getting an encoding error so I added the config.  Below is the postman request that works just fine in postman:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIs there any reason I am unable to parse the JSON?  Also if I turn on the .assertThat().statuscode(200) call I am getting a 400 error for bad request.  Any help would be appreciated as I&#39;m unsure where to go from here.\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Cx1DJ.png","title":"Rest Assured - Unable to parse JSON Document when doing a POST request with params and headers","body":"<p>Currently I am getting the below error when trying to perform a post Request in Rest Assured and looking to get the &quot;tokenId&quot; from the response body:</p>\n<pre><code>io.restassured.path.json.exception.JsonPathException: Failed to parse the JSON document\n\n    at io.restassured.path.json.JsonPath$ExceptionCatcher.invoke(JsonPath.java:1002)\n    at io.restassured.path.json.JsonPath$4.doParseWith(JsonPath.java:967)\n    at io.restassured.path.json.JsonPath$JsonParser.parseWith(JsonPath.java:1047)\n    at io.restassured.path.json.JsonPath.get(JsonPath.java:202)\n    at io.restassured.path.json.JsonPath.getString(JsonPath.java:352)\n    at com.restassured.oauth.AuthenticateSetup.authenticationSetup(AuthenticateSetup.java:39)\n    at com.restassured.runner.TestRunner.testNgBeforeSuite(TestRunner.java:31)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\n    at org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:59)\n    at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:458)\n    at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:222)\n    at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:142)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:401)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:364)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:84)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1208)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1137)\n    at org.testng.TestNG.runSuites(TestNG.java:1049)\n    at org.testng.TestNG.run(TestNG.java:1017)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\nCaused by: groovy.json.JsonException: Lexing failed on line: 1, column: 1, while reading '&lt;', no possible valid JSON value or punctuation could be recognized.\n    at groovy.json.JsonLexer.nextToken(JsonLexer.java:86)\n    at groovy.json.JsonLexer$nextToken.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:130)\n    at io.restassured.internal.path.json.ConfigurableJsonSlurper.parse(ConfigurableJsonSlurper.groovy:97)\n    at io.restassured.internal.path.json.ConfigurableJsonSlurper$parse.callCurrent(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:185)\n    at io.restassured.internal.path.json.ConfigurableJsonSlurper.parseText(ConfigurableJsonSlurper.groovy:83)\n    at io.restassured.path.json.JsonPath$4$1.method(JsonPath.java:965)\n    at io.restassured.path.json.JsonPath$ExceptionCatcher.invoke(JsonPath.java:1000)\n    ... 25 more\n</code></pre>\n<p>The code I have is as seen below:</p>\n<pre><code>public class AuthenticateSetup {\n\n    public static Response response;\n    public static String responseString;\n    public static ReadPropertyFile urlProperties;\n\n    public void authenticationSetup() throws JsonException {\n\n        urlProperties = new ReadPropertyFile(&quot;./src/test/resources/Url.properties&quot;);\n        RestAssured.baseURI = urlProperties.getProperty(&quot;devAuthBaseUrl&quot;);\n        response = given()\n                .config(RestAssured.config().encoderConfig(encoderConfig().encodeContentTypeAs(&quot;*/*&quot;, ContentType.JSON)))\n                //.contentType(ContentType.ANY)\n                .param(&quot;authIndexType&quot;, &quot;service&quot;)\n                .param(&quot;authIndexValue&quot;, &quot;ldapService&quot;)\n                .header(&quot;host&quot;, RestAssured.baseURI)\n                .header(&quot;X-OpenAM-Username&quot;,urlProperties.getProperty(&quot;contactId&quot;))\n                .header(&quot;X-OpenAM-Password&quot;,urlProperties.getProperty(&quot;contactPwd&quot;))\n                .header(&quot;Accept-API-Version&quot;,&quot;resource=2.0,protocol=1.0&quot;)\n                .when()\n                .post(urlProperties.getProperty(&quot;devVGWAuthenticateUrl&quot;))\n                .then()\n//                .assertThat()\n//                .statusCode(200)\n                .extract().response();\n\n        System.out.println(&quot;The response is &quot; + response);\n        String tokenId = response.jsonPath().getString(&quot;tokenId&quot;);\n        System.out.println(&quot;The token id is &quot; + tokenId);\n    }\n}\n</code></pre>\n<p>At first I was getting an encoding error so I added the config.  Below is the postman request that works just fine in postman:</p>\n<p><a href=\"https://i.stack.imgur.com/Cx1DJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cx1DJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there any reason I am unable to parse the JSON?  Also if I turn on the .assertThat().statuscode(200) call I am getting a 400 error for bad request.  Any help would be appreciated as I'm unsure where to go from here.</p>\n"},{"tags":["java","spring","querydsl"],"owner":{"account_id":2449433,"reputation":627,"user_id":2280645,"accept_rate":96,"display_name":"KenobiBastila"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":566,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1657655058,"creation_date":1657655058,"question_id":72957612,"body_markdown":"**Overview**\r\n\r\nUsing QueryDSL, its possible to derive queries from the attributes contained in a Request query string. For example:\r\n\r\n    ?firstname=Dave&amp;lastname=Matthews\r\n\r\nThis query would search for users with firstname equal to Dave and Last name equal to matthews.\r\n\r\n\r\n\r\n**Problem**\r\n\r\nHow do you use the LIKE operator? For example, suppose I want to fetch a list of users that have the lastname containing the word &quot;Matt&quot;. Ive read solutions that propose to bind the fields and instead of using equals, use contains in all of them. This does solve the problem but creates another as it replaces the EQUAL operator. Other proposed solutions is to customize every repository with every possible field of the class, as in : https://stackoverflow.com/questions/65250550/querydsl-web-with-contains\r\n\r\n\r\n\r\n\r\n\r\n**Current solution**\r\n\r\nThe current solution I have is to search using equals, it does not solve the problem. It does not work with LIKE, CONTAINS, or anything of the sort. So basically I have the method below:\r\n\r\n      @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\n      String index(Model model, \r\n              @QuerydslPredicate(root = User.class) Predicate predicate,    \r\n              Pageable pageable) {\r\n    \r\n        model.addAttribute(&quot;users&quot;, repository.findAll(predicate, pageable));\r\n    \r\n        return &quot;index&quot;;\r\n      }\r\n\r\n\r\n\r\n\r\n\r\n\r\n**Another Topic in Stackoverflow**\r\n\r\nThe following topic\r\n\r\n https://stackoverflow.com/questions/48378013/how-can-you-use-different-operators-with-querydsl-web\r\n\r\nApproach a similar issue however using another operators as example. The proposed solution by the user Geert Graat, is to use the library Spring Data QueryDSL Value Operators, which can be found at : https://bitbucket.org/gt_tech/spring-data-querydsl-value-operators/src/master/\r\n\r\nHowever, some questions remain:\r\n\r\nA) Is it still valid to 2022?\r\n\r\nB) Is this the only and proper solution? \r\n\r\n\r\n**References**\r\n\r\nhttps://www.logicbig.com/tutorials/spring-framework/spring-data/query-dsl-web-support.html\r\n\r\nhttps://www.logicbig.com/tutorials/spring-framework/spring-data/web-query-dsl-collection-properties.html\r\n\r\nhttps://gt-tech.bitbucket.io/spring-data-querydsl-value-operators/README.html\r\n\r\nhttps://bitbucket.org/gt_tech/spring-data-querydsl-value-operators/src/master/\r\n\r\nhttps://docs.spring.io/spring-data/jpa/docs/current/reference/html/#core.web.type-safe","title":"How to use Like Operator with QueryDSL-Web?","body":"<p><strong>Overview</strong></p>\n<p>Using QueryDSL, its possible to derive queries from the attributes contained in a Request query string. For example:</p>\n<pre><code>?firstname=Dave&amp;lastname=Matthews\n</code></pre>\n<p>This query would search for users with firstname equal to Dave and Last name equal to matthews.</p>\n<p><strong>Problem</strong></p>\n<p>How do you use the LIKE operator? For example, suppose I want to fetch a list of users that have the lastname containing the word &quot;Matt&quot;. Ive read solutions that propose to bind the fields and instead of using equals, use contains in all of them. This does solve the problem but creates another as it replaces the EQUAL operator. Other proposed solutions is to customize every repository with every possible field of the class, as in : <a href=\"https://stackoverflow.com/questions/65250550/querydsl-web-with-contains\">Querydsl web with contains</a></p>\n<p><strong>Current solution</strong></p>\n<p>The current solution I have is to search using equals, it does not solve the problem. It does not work with LIKE, CONTAINS, or anything of the sort. So basically I have the method below:</p>\n<pre><code>  @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\n  String index(Model model, \n          @QuerydslPredicate(root = User.class) Predicate predicate,    \n          Pageable pageable) {\n\n    model.addAttribute(&quot;users&quot;, repository.findAll(predicate, pageable));\n\n    return &quot;index&quot;;\n  }\n</code></pre>\n<p><strong>Another Topic in Stackoverflow</strong></p>\n<p>The following topic</p>\n<p><a href=\"https://stackoverflow.com/questions/48378013/how-can-you-use-different-operators-with-querydsl-web\">How can you use different operators with QueryDSL Web?</a></p>\n<p>Approach a similar issue however using another operators as example. The proposed solution by the user Geert Graat, is to use the library Spring Data QueryDSL Value Operators, which can be found at : <a href=\"https://bitbucket.org/gt_tech/spring-data-querydsl-value-operators/src/master/\" rel=\"nofollow noreferrer\">https://bitbucket.org/gt_tech/spring-data-querydsl-value-operators/src/master/</a></p>\n<p>However, some questions remain:</p>\n<p>A) Is it still valid to 2022?</p>\n<p>B) Is this the only and proper solution?</p>\n<p><strong>References</strong></p>\n<p><a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-data/query-dsl-web-support.html\" rel=\"nofollow noreferrer\">https://www.logicbig.com/tutorials/spring-framework/spring-data/query-dsl-web-support.html</a></p>\n<p><a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-data/web-query-dsl-collection-properties.html\" rel=\"nofollow noreferrer\">https://www.logicbig.com/tutorials/spring-framework/spring-data/web-query-dsl-collection-properties.html</a></p>\n<p><a href=\"https://gt-tech.bitbucket.io/spring-data-querydsl-value-operators/README.html\" rel=\"nofollow noreferrer\">https://gt-tech.bitbucket.io/spring-data-querydsl-value-operators/README.html</a></p>\n<p><a href=\"https://bitbucket.org/gt_tech/spring-data-querydsl-value-operators/src/master/\" rel=\"nofollow noreferrer\">https://bitbucket.org/gt_tech/spring-data-querydsl-value-operators/src/master/</a></p>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#core.web.type-safe\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#core.web.type-safe</a></p>\n"},{"tags":["java","oracle","jpa","jdbc","eclipselink"],"answers":[{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1274744906,"creation_date":1274744906,"answer_id":2901142,"question_id":2899888,"body_markdown":"`v$session.program` is a JDBC connection property, but `Persistence.createEntityManagerFactory` gets persistence unit properties. There is no direct way to pass arbitrary JDBC property into entity manager. \r\n\r\nHowever, in EclipseLink you can use `SessionCustomizer`:\r\n\r\n    public class ProgramCustomizer extends SessionCustomizer {\r\n        @Override\r\n        public void customize(Session s) throws Exception {\r\n            s.getDatasourceLogin().setProperty(&quot;v$session.program&quot;, &quot;Customers&quot;);\r\n            super.customize(s);\r\n        }\r\n    }\r\n\r\n-\r\n\r\n    emProperties.put(PersistenceUnitProperties.SESSION_CUSTOMIZER, &quot;ProgramCustomizer&quot;); ","title":"How to set application name with JPA (EclipseLink)?","body":"<p><code>v$session.program</code> is a JDBC connection property, but <code>Persistence.createEntityManagerFactory</code> gets persistence unit properties. There is no direct way to pass arbitrary JDBC property into entity manager. </p>\n\n<p>However, in EclipseLink you can use <code>SessionCustomizer</code>:</p>\n\n<pre><code>public class ProgramCustomizer extends SessionCustomizer {\n    @Override\n    public void customize(Session s) throws Exception {\n        s.getDatasourceLogin().setProperty(\"v$session.program\", \"Customers\");\n        super.customize(s);\n    }\n}\n</code></pre>\n\n<p>-</p>\n\n<pre><code>emProperties.put(PersistenceUnitProperties.SESSION_CUSTOMIZER, \"ProgramCustomizer\"); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":12026001,"reputation":487,"user_id":8797928,"display_name":"Gmugra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657102483,"creation_date":1657102483,"answer_id":72881715,"question_id":2899888,"body_markdown":"You can achive that without `SessionCustomizer` in `persistence.xml`:\r\n\r\n    &lt;property name=&quot;eclipselink.jdbc.property.v$session.program&quot; value=&quot;Customers&quot; /&gt;\r\n\r\nFYI: https://www.eclipse.org/eclipselink/documentation/2.7/jpa/extensions/persistenceproperties_ref.htm#CIHHJHHD","title":"How to set application name with JPA (EclipseLink)?","body":"<p>You can achive that without <code>SessionCustomizer</code> in <code>persistence.xml</code>:</p>\n<pre><code>&lt;property name=&quot;eclipselink.jdbc.property.v$session.program&quot; value=&quot;Customers&quot; /&gt;\n</code></pre>\n<p>FYI: <a href=\"https://www.eclipse.org/eclipselink/documentation/2.7/jpa/extensions/persistenceproperties_ref.htm#CIHHJHHD\" rel=\"nofollow noreferrer\">https://www.eclipse.org/eclipselink/documentation/2.7/jpa/extensions/persistenceproperties_ref.htm#CIHHJHHD</a></p>\n"}],"owner":{"account_id":133380,"reputation":199,"user_id":1159612,"accept_rate":64,"display_name":"Alvaro Castro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":976,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":2901142,"answer_count":2,"score":1,"last_activity_date":1657654964,"creation_date":1274731202,"question_id":2899888,"body_markdown":"hello everybody i am using JPA with EclipseLink and oracle as DB and i need to set the property **v$session of jdbc4** it  allows to set an identification name to the application for auditing purposes but i had no lucky setting it up....i have been trying through entitiyManager following the example in this page: http://wiki.eclipse.org/Configuring_a_EclipseLink_JPA_Application_(ELUG) it does not show any error but does not set the application name at all... when i see the audit in oracle it is not being audited with the name i set by code &quot;Customers&quot; but with OS_program_name=JDBC Thin Client it means that the property in the code is not being set properly and i have no idea where the issue is, the code i am using is the following :\r\n\r\n        emProperties.put(&quot;v$session.program&quot;,&quot;Customers&quot;);\r\n        factory=Persistence.createEntityManagerFactory(&quot;clients&quot;,emProperties);\r\n        em=factory.createEntityManager(emProperties);        \r\n        em.merge(clients);\r\n\r\n\r\ndoes anybody know how to do it or any idea....\r\n\r\nthanks.-","title":"How to set application name with JPA (EclipseLink)?","body":"<p>hello everybody i am using JPA with EclipseLink and oracle as DB and i need to set the property <strong>v$session of jdbc4</strong> it  allows to set an identification name to the application for auditing purposes but i had no lucky setting it up....i have been trying through entitiyManager following the example in this page: <a href=\"http://wiki.eclipse.org/Configuring_a_EclipseLink_JPA_Application_(ELUG)\" rel=\"nofollow noreferrer\">http://wiki.eclipse.org/Configuring_a_EclipseLink_JPA_Application_(ELUG)</a> it does not show any error but does not set the application name at all... when i see the audit in oracle it is not being audited with the name i set by code \"Customers\" but with OS_program_name=JDBC Thin Client it means that the property in the code is not being set properly and i have no idea where the issue is, the code i am using is the following :</p>\n\n<pre><code>    emProperties.put(\"v$session.program\",\"Customers\");\n    factory=Persistence.createEntityManagerFactory(\"clients\",emProperties);\n    em=factory.createEntityManager(emProperties);        \n    em.merge(clients);\n</code></pre>\n\n<p>does anybody know how to do it or any idea....</p>\n\n<p>thanks.-</p>\n"},{"tags":["java","android","canvas","graphics","drawing"],"answers":[{"tags":[],"owner":{"account_id":12438275,"reputation":1057,"user_id":9057721,"display_name":"Style-7"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657654619,"creation_date":1657654619,"answer_id":72957532,"question_id":72951357,"body_markdown":"This is possible by magic method of `canvas` `drawBitmapMesh`.\r\n\r\nThis is example from my project:\r\n\r\n    static void Draw( Canvas canvas, Rect rt, Ini ini ){\r\n        final int sections = 256;\r\n        Point size = new Point();\r\n        float[] verts = Mesh.GetVertices( rt, sections, ini, size );\r\n        canvas.drawBitmapMesh( ini.bm, size.x, size.y, verts, 0, null, 0, null );\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TNxWF.png\r\n","title":"how to draw prespctive image in android canvas","body":"<p>This is possible by magic method of <code>canvas</code> <code>drawBitmapMesh</code>.</p>\n<p>This is example from my project:</p>\n<pre><code>static void Draw( Canvas canvas, Rect rt, Ini ini ){\n    final int sections = 256;\n    Point size = new Point();\n    float[] verts = Mesh.GetVertices( rt, sections, ini, size );\n    canvas.drawBitmapMesh( ini.bm, size.x, size.y, verts, 0, null, 0, null );\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/TNxWF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TNxWF.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":21461018,"reputation":40,"user_id":15811766,"display_name":"Star4Droid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72957532,"answer_count":1,"score":0,"last_activity_date":1657654619,"creation_date":1657624186,"question_id":72951357,"body_markdown":"i have searched about how to draw prespctive image in canvas like in the picture but i dont find anything thing. if its not possible using canvas, how i can make something like it? \r\n[![image][1]][1]\r\n\r\ni find this:-\r\n```\r\nBitmap bitmap1=BitmapFactory.decodeResource(getResources(), R.drawable.img1);\r\nBitmap bitmap2=BitmapFactory.decodeResource(getResources(), R.drawable.img1);\r\nPaint paint = new Paint();\r\npaint.setAntiAlias(true);\r\nCanvas canvas = new Canvas(resultingImage);\r\nPath path=new Path();\r\npath.moveTo(0,0);\r\nfloat mm=1000;\r\npath.lineTo(mm,0);\r\npath.lineTo(mm, mm);\r\npath.lineTo(0, mm);\r\npath.lineTo(0,0);\r\ncanvas.drawPath(path, paint);\r\n\r\npaint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.SRC_IN));\r\ncanvas.drawBitmap(bitmap2, 0, 0, paint);\r\nimg.setImageBitmap(resultingImage);\r\n```\r\nbut this cut the image.\r\n\r\n  [1]: https://i.stack.imgur.com/ajiBy.jpg","title":"how to draw prespctive image in android canvas","body":"<p>i have searched about how to draw prespctive image in canvas like in the picture but i dont find anything thing. if its not possible using canvas, how i can make something like it?\n<a href=\"https://i.stack.imgur.com/ajiBy.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ajiBy.jpg\" alt=\"image\" /></a></p>\n<p>i find this:-</p>\n<pre><code>Bitmap bitmap1=BitmapFactory.decodeResource(getResources(), R.drawable.img1);\nBitmap bitmap2=BitmapFactory.decodeResource(getResources(), R.drawable.img1);\nPaint paint = new Paint();\npaint.setAntiAlias(true);\nCanvas canvas = new Canvas(resultingImage);\nPath path=new Path();\npath.moveTo(0,0);\nfloat mm=1000;\npath.lineTo(mm,0);\npath.lineTo(mm, mm);\npath.lineTo(0, mm);\npath.lineTo(0,0);\ncanvas.drawPath(path, paint);\n\npaint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.SRC_IN));\ncanvas.drawBitmap(bitmap2, 0, 0, paint);\nimg.setImageBitmap(resultingImage);\n</code></pre>\n<p>but this cut the image.</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"score":0,"creation_date":1370528728,"post_id":16955588,"comment_id":24500491,"body_markdown":"After that update: What is the goal that you want to achieve?","body":"After that update: What is the goal that you want to achieve?"},{"owner":{"account_id":1750224,"reputation":11501,"user_id":1599479,"accept_rate":83,"display_name":"Alex"},"score":0,"creation_date":1370528772,"post_id":16955588,"comment_id":24500521,"body_markdown":"@Uwe Plonus if method setFieldX invoked then fieldX should be marked to be updated later.","body":"@Uwe Plonus if method setFieldX invoked then fieldX should be marked to be updated later."},{"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"score":0,"creation_date":1370528947,"post_id":16955588,"comment_id":24500647,"body_markdown":"Why do you want to update it later? What is the reason for this? When we know what you want to achieve we can help you better. In the given example no one sees why you want to do this.","body":"Why do you want to update it later? What is the reason for this? When we know what you want to achieve we can help you better. In the given example no one sees why you want to do this."},{"owner":{"account_id":1750224,"reputation":11501,"user_id":1599479,"accept_rate":83,"display_name":"Alex"},"score":0,"creation_date":1370529158,"post_id":16955588,"comment_id":24500803,"body_markdown":"@Uwe Plonus Update database having detached object for selected fields only and to know which fields should be updated as well.","body":"@Uwe Plonus Update database having detached object for selected fields only and to know which fields should be updated as well."},{"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"score":0,"creation_date":1370541885,"post_id":16955588,"comment_id":24508552,"body_markdown":"Eh. I&#39;m going to chock this up to your requirement not making sense. If at a later date the pseudo-entity is to be committed to the database, it should be committed as a whole to prevent corruption. Just a thought. Have you heard of JPA?","body":"Eh. I&#39;m going to chock this up to your requirement not making sense. If at a later date the pseudo-entity is to be committed to the database, it should be committed as a whole to prevent corruption. Just a thought. Have you heard of JPA?"},{"owner":{"account_id":1750224,"reputation":11501,"user_id":1599479,"accept_rate":83,"display_name":"Alex"},"score":1,"creation_date":1370560706,"post_id":16955588,"comment_id":24517459,"body_markdown":"@Tim Bender I will try to explain clear. This is Dto (not domain object). I need to copy only those fields to domain object which were changed (at late stage). At early stage I don&#39;t want to get stored object and compare to it. I just want to collect information to know what to change later. E.g. recognise NULL value from changes and NULL value as default value.","body":"@Tim Bender I will try to explain clear. This is Dto (not domain object). I need to copy only those fields to domain object which were changed (at late stage). At early stage I don&#39;t want to get stored object and compare to it. I just want to collect information to know what to change later. E.g. recognise NULL value from changes and NULL value as default value."},{"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"score":0,"creation_date":1370565934,"post_id":16955588,"comment_id":24518725,"body_markdown":"Sounds like a changeset or audit log akin to a modern DCVS or RDBMS.","body":"Sounds like a changeset or audit log akin to a modern DCVS or RDBMS."}],"answers":[{"tags":[],"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1370502012,"creation_date":1370502012,"answer_id":16955663,"question_id":16955588,"body_markdown":"Sounds like you want the [Observer][1]/[Observable][2] pattern. Basically a state listener registers (observes) with the `myClass` object to receive a notification when something changes.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Observer.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Observable.html","title":"Java object, changed fields listener, design-pattern","body":"<p>Sounds like you want the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Observer.html\" rel=\"nofollow\">Observer</a>/<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Observable.html\" rel=\"nofollow\">Observable</a> pattern. Basically a state listener registers (observes) with the <code>myClass</code> object to receive a notification when something changes.</p>\n"},{"tags":[],"owner":{"account_id":2637729,"reputation":21771,"user_id":2282011,"accept_rate":90,"display_name":"Devolus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1370531908,"creation_date":1370502066,"answer_id":16955679,"question_id":16955588,"body_markdown":"That&#39;s hard to say, because we don&#39;t know why you need to monitor the fields and what neds to be done with the changes.\r\n\r\nOne thing you could do is to add listeners to your object (Observer pattern), so that classes, interested in the changes, can get notified about it. This of course works only if you have access to the interested classes and can modify them accordingly.\r\n\r\nIf you have no access and anybody can call your methods, you might have to go via reflection. If you need a better answer, you must give more details.\r\n\r\n**Update**\r\n\r\nSince you only want to keep track of it internaly via setters, then you can simply put in your setter, whatever you need to keep track of the changes. One solution could be to create a separate class, which stores the changes. So whenever you do some update, you call the tracker class and tell it the information you want to keep track of, like old value, new value, timestamp, whatever.\r\n","title":"Java object, changed fields listener, design-pattern","body":"<p>That's hard to say, because we don't know why you need to monitor the fields and what neds to be done with the changes.</p>\n\n<p>One thing you could do is to add listeners to your object (Observer pattern), so that classes, interested in the changes, can get notified about it. This of course works only if you have access to the interested classes and can modify them accordingly.</p>\n\n<p>If you have no access and anybody can call your methods, you might have to go via reflection. If you need a better answer, you must give more details.</p>\n\n<p><strong>Update</strong></p>\n\n<p>Since you only want to keep track of it internaly via setters, then you can simply put in your setter, whatever you need to keep track of the changes. One solution could be to create a separate class, which stores the changes. So whenever you do some update, you call the tracker class and tell it the information you want to keep track of, like old value, new value, timestamp, whatever.</p>\n"},{"tags":[],"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1370502136,"creation_date":1370502136,"answer_id":16955693,"question_id":16955588,"body_markdown":"I think what you are searching the a `java.bean.PropertyChangeListener` which is the Observer-Pattern in Java.\r\n\r\nBasically you add code to all setters to call the method in the `PropertyChangeListener` to inform all observers that the value is changed.\r\n\r\nThis is the normal Java way.","title":"Java object, changed fields listener, design-pattern","body":"<p>I think what you are searching the a <code>java.bean.PropertyChangeListener</code> which is the Observer-Pattern in Java.</p>\n\n<p>Basically you add code to all setters to call the method in the <code>PropertyChangeListener</code> to inform all observers that the value is changed.</p>\n\n<p>This is the normal Java way.</p>\n"},{"tags":[],"owner":{"account_id":968830,"reputation":17562,"user_id":991778,"accept_rate":78,"display_name":"sanbhat"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1370502675,"creation_date":1370502675,"answer_id":16955851,"question_id":16955588,"body_markdown":"If you want to implement using conventional design-pattern approach, I would recommend using [Observer Pattern][1]\r\n\r\nHave a Listener for set field event of your class\r\n\r\n    public interface FieldListener {\r\n    \r\n    \tpublic void fieldValueChanged(String fieldName, Object newValue);\r\n    }\r\n\r\nMake a class implement this listener (Observer)\r\n\r\n    public class SampleObserver implements FieldListener {\r\n    \r\n    \t@Override\r\n    \tpublic void fieldValueChanged(String fieldName, Object newValue) {\r\n    \t\tSystem.out.println(fieldName + &quot; - got set with value - &quot; + newValue);\r\n    \t}\r\n    \r\n    }\r\n\r\nhave a place-holder for your listeners in the Observable class (in your case `MyClass`) and whenever the set method gets called, just fire the event.\r\n\r\n    public class MyClass {\r\n    \t\r\n    \tList&lt;FieldListener&gt; listeners = new ArrayList&lt;FieldListener&gt;(); // the placeholder for listeners\r\n    \r\n    \tprivate String field1;\r\n    \tprivate String field2;\r\n    \t\r\n    \t/**\r\n    \t * @param field1 the field1 to set\r\n    \t */\r\n    \tpublic void setField1(String field1) {\r\n    \t\tfireEvent(&quot;field1&quot;, field1);\r\n    \t\tthis.field1 = field1;\r\n    \t}\r\n    \t/**\r\n    \t * @param field2 the field2 to set\r\n    \t */\r\n    \tpublic void setField2(String field2) {\r\n    \t\tfireEvent(&quot;field2&quot;, field2);\r\n    \t\tthis.field2 = field2;\r\n    \t}\r\n    \t\r\n    \tpublic void addListener(FieldListener l) {\r\n    \t\tif(l != null) listeners.add(l);\r\n    \t}\r\n    \t\r\n    \tpublic void fireEvent(String fieldName, Object newValue) {\r\n    \t\tfor(FieldListener l : listeners) {\r\n    \t\t\tl.fieldValueChanged(fieldName, newValue);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String [] args) {\r\n    \t\tMyClass m = new MyClass();\r\n    \t\tm.addListener(new SampleObserver());\r\n    \t\tm.setField1(&quot;s&quot;);\r\n    \t\tm.setField2(&quot;v&quot;);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n  [1]: http://sourcemaking.com/design_patterns/observer","title":"Java object, changed fields listener, design-pattern","body":"<p>If you want to implement using conventional design-pattern approach, I would recommend using <a href=\"http://sourcemaking.com/design_patterns/observer\" rel=\"noreferrer\">Observer Pattern</a></p>\n\n<p>Have a Listener for set field event of your class</p>\n\n<pre><code>public interface FieldListener {\n\n    public void fieldValueChanged(String fieldName, Object newValue);\n}\n</code></pre>\n\n<p>Make a class implement this listener (Observer)</p>\n\n<pre><code>public class SampleObserver implements FieldListener {\n\n    @Override\n    public void fieldValueChanged(String fieldName, Object newValue) {\n        System.out.println(fieldName + \" - got set with value - \" + newValue);\n    }\n\n}\n</code></pre>\n\n<p>have a place-holder for your listeners in the Observable class (in your case <code>MyClass</code>) and whenever the set method gets called, just fire the event.</p>\n\n<pre><code>public class MyClass {\n\n    List&lt;FieldListener&gt; listeners = new ArrayList&lt;FieldListener&gt;(); // the placeholder for listeners\n\n    private String field1;\n    private String field2;\n\n    /**\n     * @param field1 the field1 to set\n     */\n    public void setField1(String field1) {\n        fireEvent(\"field1\", field1);\n        this.field1 = field1;\n    }\n    /**\n     * @param field2 the field2 to set\n     */\n    public void setField2(String field2) {\n        fireEvent(\"field2\", field2);\n        this.field2 = field2;\n    }\n\n    public void addListener(FieldListener l) {\n        if(l != null) listeners.add(l);\n    }\n\n    public void fireEvent(String fieldName, Object newValue) {\n        for(FieldListener l : listeners) {\n            l.fieldValueChanged(fieldName, newValue);\n        }\n    }\n\n    public static void main(String [] args) {\n        MyClass m = new MyClass();\n        m.addListener(new SampleObserver());\n        m.setField1(\"s\");\n        m.setField2(\"v\");\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1076269,"reputation":357,"user_id":1074348,"accept_rate":67,"display_name":"Jeffrey P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657654609,"creation_date":1657654609,"answer_id":72957530,"question_id":16955588,"body_markdown":"I realize I am late to the party and that the other answers here are valid, but I wanted to offer an alternative that might be simpler for anyone else that comes looking.\r\n\r\nMy suggestion is to use `Optional` for your fields but not for your getters/setters. In this way anything that is not `Optional.empty()` has been changed/updated.\r\n\r\n    import java.util.Optional;\r\n    \r\n    public class MyClass\r\n    {\r\n        private Optional&lt;String&gt; field1 = Optional.empty();\r\n        private Optional&lt;String&gt; field2 = Optional.empty();\r\n        private Optional&lt;String&gt; field3 = Optional.empty();\r\n    \r\n        public String getField1()\r\n        {\r\n            return field1.orElse(null);\r\n        }\r\n    \r\n        public void setField1(String value)\r\n        {\r\n            field1 = Optional.ofNullable(value);\r\n        }\r\n    \r\n        public String getField2()\r\n        {\r\n            return field2.orElse(null);\r\n        }\r\n    \r\n        public void setField2(String value)\r\n        {\r\n            field2 = Optional.ofNullable(value);\r\n        }\r\n    \r\n        public String getField3()\r\n        {\r\n            return field3.orElse(null);\r\n        }\r\n    \r\n        public void setField3(String value)\r\n        {\r\n            field3 = Optional.ofNullable(value);\r\n        }\r\n    }\r\n","title":"Java object, changed fields listener, design-pattern","body":"<p>I realize I am late to the party and that the other answers here are valid, but I wanted to offer an alternative that might be simpler for anyone else that comes looking.</p>\n<p>My suggestion is to use <code>Optional</code> for your fields but not for your getters/setters. In this way anything that is not <code>Optional.empty()</code> has been changed/updated.</p>\n<pre><code>import java.util.Optional;\n\npublic class MyClass\n{\n    private Optional&lt;String&gt; field1 = Optional.empty();\n    private Optional&lt;String&gt; field2 = Optional.empty();\n    private Optional&lt;String&gt; field3 = Optional.empty();\n\n    public String getField1()\n    {\n        return field1.orElse(null);\n    }\n\n    public void setField1(String value)\n    {\n        field1 = Optional.ofNullable(value);\n    }\n\n    public String getField2()\n    {\n        return field2.orElse(null);\n    }\n\n    public void setField2(String value)\n    {\n        field2 = Optional.ofNullable(value);\n    }\n\n    public String getField3()\n    {\n        return field3.orElse(null);\n    }\n\n    public void setField3(String value)\n    {\n        field3 = Optional.ofNullable(value);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1750224,"reputation":11501,"user_id":1599479,"accept_rate":83,"display_name":"Alex"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15614,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":16955851,"answer_count":5,"score":6,"last_activity_date":1657654609,"creation_date":1370501757,"question_id":16955588,"body_markdown":"There is a class:\r\n\r\n    public class MyClass {\r\n    private String field1;\r\n    private String field2;\r\n    private String field3;\r\n    // getters, setters\r\n    }\r\n\r\nThen we update some fields\r\n\r\n    MyClass myClass = new MyClass();\r\n    myClass.setField1(&quot;field1&quot;);\r\n    myClass.setField2(null);\r\n\r\nHow can I know which fields of MyClass were tried to be changed (invoked, in the example above field1 and field2)?  \r\nWhat is the best solution for that? Maybe some design-pattern?  \r\nOne option is to create `HashSet` of changed fields for this object as an additional property and update it inside each setter but it does not seem nice.  \r\nShould it be something like Proxy object which will be intercept all method calls (i.e. setXXX()) (through Java reflection?) or anything else?  \r\n\r\n**UPDATE**  \r\nIt seems that each setter should invoke some inner method what does not seem nice as I said. And I don&#39;t need to notify any other objects about changes. I would like to store all states in this object and have access to these changes later.  \r\nIn details: if method setFieldX invoked then fieldX should be marked to be updated later  \r\nP.S. All fields have different names.  \r\nAny other solutions except reflection (I want to populate object via pure setter)?","title":"Java object, changed fields listener, design-pattern","body":"<p>There is a class:</p>\n\n<pre><code>public class MyClass {\nprivate String field1;\nprivate String field2;\nprivate String field3;\n// getters, setters\n}\n</code></pre>\n\n<p>Then we update some fields</p>\n\n<pre><code>MyClass myClass = new MyClass();\nmyClass.setField1(\"field1\");\nmyClass.setField2(null);\n</code></pre>\n\n<p>How can I know which fields of MyClass were tried to be changed (invoked, in the example above field1 and field2)?<br>\nWhat is the best solution for that? Maybe some design-pattern?<br>\nOne option is to create <code>HashSet</code> of changed fields for this object as an additional property and update it inside each setter but it does not seem nice.<br>\nShould it be something like Proxy object which will be intercept all method calls (i.e. setXXX()) (through Java reflection?) or anything else?  </p>\n\n<p><strong>UPDATE</strong><br>\nIt seems that each setter should invoke some inner method what does not seem nice as I said. And I don't need to notify any other objects about changes. I would like to store all states in this object and have access to these changes later.<br>\nIn details: if method setFieldX invoked then fieldX should be marked to be updated later<br>\nP.S. All fields have different names.<br>\nAny other solutions except reflection (I want to populate object via pure setter)?</p>\n"},{"tags":["java","database","sqlite","intellij-idea","jdbc"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1657628103,"post_id":72951766,"comment_id":128851253,"body_markdown":"How do yo include Sqlite jdbc driver dependency into the project?","body":"How do yo include Sqlite jdbc driver dependency into the project?"},{"owner":{"account_id":22715958,"reputation":1,"user_id":16881217,"display_name":"user16881217"},"score":0,"creation_date":1657634151,"post_id":72951766,"comment_id":128853826,"body_markdown":"File -&gt; Project Structure -&gt; Modules -&gt; Dependencies -&gt; + Jar/Library (tried both) -&gt; Apply","body":"File -&gt; Project Structure -&gt; Modules -&gt; Dependencies -&gt; + Jar/Library (tried both) -&gt; Apply"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1657697496,"post_id":72951766,"comment_id":128869288,"body_markdown":"In a Gradle-based project you must not change the project structure settings, including the dependencies in the IDE UI settings. Instead, you should make corresponding configuration in the Gradle build file.","body":"In a Gradle-based project you must not change the project structure settings, including the dependencies in the IDE UI settings. Instead, you should make corresponding configuration in the Gradle build file."}],"answers":[{"tags":[],"owner":{"account_id":22715958,"reputation":1,"user_id":16881217,"display_name":"user16881217"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657654347,"creation_date":1657654347,"answer_id":72957490,"question_id":72951766,"body_markdown":"Managed to fix it by adding\r\n\r\n\r\n\timplementation(&#39;org.xerial:sqlite-jdbc&#39;)\r\n\r\nTo the build.gradle file under dependencies","title":"Intellij cant find Sqlite JDBC","body":"<p>Managed to fix it by adding</p>\n<pre><code>implementation('org.xerial:sqlite-jdbc')\n</code></pre>\n<p>To the build.gradle file under dependencies</p>\n"}],"owner":{"account_id":22715958,"reputation":1,"user_id":16881217,"display_name":"user16881217"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657654347,"creation_date":1657626264,"question_id":72951766,"body_markdown":"Im trying to connect to a sqlite database but for some reason intellij won&#39;t detect the driver. I have added it to my libraries and as a dependecy for my module and intellij even autofills the import but when building it gives the error &quot;error: package org.sqlite does not exist&quot;\r\n\r\n[This person seemed to have the same issue][1] and for me it also worked about a week ago and now all of the sudden it decided not to work anymore. Could someone please help me?\r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/community/posts/208382565-org-sqlite-JDBC-will-not-be-found","title":"Intellij cant find Sqlite JDBC","body":"<p>Im trying to connect to a sqlite database but for some reason intellij won't detect the driver. I have added it to my libraries and as a dependecy for my module and intellij even autofills the import but when building it gives the error &quot;error: package org.sqlite does not exist&quot;</p>\n<p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/208382565-org-sqlite-JDBC-will-not-be-found\" rel=\"nofollow noreferrer\">This person seemed to have the same issue</a> and for me it also worked about a week ago and now all of the sudden it decided not to work anymore. Could someone please help me?</p>\n"},{"tags":["java","amazon-web-services","performance","amazon-s3","outputstream"],"comments":[{"owner":{"account_id":4143297,"reputation":393,"user_id":3397816,"accept_rate":0,"display_name":"Trinopoty"},"score":2,"creation_date":1581612634,"post_id":60212728,"comment_id":106503615,"body_markdown":"An OutputStream is used for reading data from a source and an InputStream is used for writing data to a target. What you&#39;re trying to do does not make sense. Use the InputStream.","body":"An OutputStream is used for reading data from a source and an InputStream is used for writing data to a target. What you&#39;re trying to do does not make sense. Use the InputStream."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":2,"creation_date":1581625105,"post_id":60212728,"comment_id":106509339,"body_markdown":"@Trinopot the OutputStream has `write` methods, that&#39;s what you use (indirectly) when you use  `System.out.println()` https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/io/OutputStream.html","body":"@Trinopot the OutputStream has <code>write</code> methods, that&#39;s what you use (indirectly) when you use  <code>System.out.println()</code> <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/io/OutputStream.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/13/docs/api/java.base/java/io&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":4143297,"reputation":393,"user_id":3397816,"accept_rate":0,"display_name":"Trinopoty"},"score":2,"creation_date":1581680727,"post_id":60212728,"comment_id":106526819,"body_markdown":"Oh yeah. Guess I got it inverted.","body":"Oh yeah. Guess I got it inverted."}],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1581612990,"creation_date":1581612990,"answer_id":60212985,"question_id":60212728,"body_markdown":"You can take a look at AWS SDK [Performing Operations on an Amazon S3 Object](https://docs.aws.amazon.com/sdk-for-java/v2/developer-guide/examples-s3-objects.html#upload-object)\r\n\r\n    ...\r\n    S3Client s3;\r\n    ...\r\n    // Put Object\r\n    s3.putObject(bucket,object);","title":"How to create a java OutputStream for an S3 object and write value to it?","body":"<p>You can take a look at AWS SDK <a href=\"https://docs.aws.amazon.com/sdk-for-java/v2/developer-guide/examples-s3-objects.html#upload-object\" rel=\"nofollow noreferrer\">Performing Operations on an Amazon S3 Object</a></p>\n\n<pre><code>...\nS3Client s3;\n...\n// Put Object\ns3.putObject(bucket,object);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1885290,"reputation":3234,"user_id":1704634,"display_name":"blagerweij"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1603493320,"creation_date":1603493320,"answer_id":64508183,"question_id":60212728,"body_markdown":"It&#39;s possible to create an S3OutputStream which wraps the AmazonS3 client. See this gist for the implementation:\r\n https://gist.github.com/blagerweij/ad1dbb7ee2fff8bcffd372815ad310eb \r\nIt automatically detects large files, and uses multi-part transfers when required. It uses a byte-array for buffering, the size of that buffer depends on your use case. (default is 10MB)\r\n\r\nFor example:\r\n```\r\n   final S3Client s3Client = AmazonS3ClientBuilder.defaultClient();\r\n   final OutputStream out = new S3OutputStream(s3Client, &quot;bucket&quot;, &quot;path/file.ext&quot;);\r\n```","title":"How to create a java OutputStream for an S3 object and write value to it?","body":"<p>It's possible to create an S3OutputStream which wraps the AmazonS3 client. See this gist for the implementation:\n<a href=\"https://gist.github.com/blagerweij/ad1dbb7ee2fff8bcffd372815ad310eb\" rel=\"nofollow noreferrer\">https://gist.github.com/blagerweij/ad1dbb7ee2fff8bcffd372815ad310eb</a>\nIt automatically detects large files, and uses multi-part transfers when required. It uses a byte-array for buffering, the size of that buffer depends on your use case. (default is 10MB)</p>\n<p>For example:</p>\n<pre><code>   final S3Client s3Client = AmazonS3ClientBuilder.defaultClient();\n   final OutputStream out = new S3OutputStream(s3Client, &quot;bucket&quot;, &quot;path/file.ext&quot;);\n</code></pre>\n"}],"owner":{"account_id":333447,"reputation":1186,"user_id":1062597,"accept_rate":54,"display_name":"Arun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11611,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1657654332,"creation_date":1581612104,"question_id":60212728,"body_markdown":"Existing ways of adding content to an S3 file using methods in AmazonS3 class are\r\n\r\n - by putObject with an InputStream\r\n - Creating a local file with content and uploading it to S3.\r\n\r\nIs there a way an OutputStream can be created for an existing S3 object to which values from a list can be written into? I see there are no APIs for doing so.\r\n\r\n","title":"How to create a java OutputStream for an S3 object and write value to it?","body":"<p>Existing ways of adding content to an S3 file using methods in AmazonS3 class are</p>\n\n<ul>\n<li>by putObject with an InputStream</li>\n<li>Creating a local file with content and uploading it to S3.</li>\n</ul>\n\n<p>Is there a way an OutputStream can be created for an existing S3 object to which values from a list can be written into? I see there are no APIs for doing so.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":10676540,"reputation":655,"user_id":15087622,"display_name":"mashuptwice"},"score":1,"creation_date":1657652418,"post_id":72957182,"comment_id":128860271,"body_markdown":"What did you try so far?","body":"What did you try so far?"},{"owner":{"account_id":3991492,"reputation":133,"user_id":3290283,"display_name":"Avatar Girase"},"score":0,"creation_date":1657653151,"post_id":72957182,"comment_id":128860532,"body_markdown":"I tried --&gt; \\b(\\d)\\3+\\b a and /(\\d)\\1{2,1}/ but looks didnt help","body":"I tried --&gt; \\b(\\d)\\3+\\b a and /(\\d)\\1{2,1}/ but looks didnt help"}],"answers":[{"tags":[],"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657653843,"creation_date":1657653319,"answer_id":72957317,"question_id":72957182,"body_markdown":"For this one try e.g.\r\n\r\n    ^(?:8|(\\d)(?!\\1\\1))\\d{9,24}$\r\n\r\n[Here is the demo at regex101][1]\r\n\r\nThe first character is either `8` or any digit that&#39;s not followed two times by [itself][2].  \r\nLength requirement is reduced by one as we already match one digit at the start.\r\n\r\n\r\n  [1]: https://regex101.com/r/g0q0b9/1\r\n  [2]: https://www.regular-expressions.info/backref.html","title":"Regex to stop user from entering first three repeated digit except 888","body":"<p>For this one try e.g.</p>\n<pre><code>^(?:8|(\\d)(?!\\1\\1))\\d{9,24}$\n</code></pre>\n<p><a href=\"https://regex101.com/r/g0q0b9/1\" rel=\"nofollow noreferrer\">Here is the demo at regex101</a></p>\n<p>The first character is either <code>8</code> or any digit that's not followed two times by <a href=\"https://www.regular-expressions.info/backref.html\" rel=\"nofollow noreferrer\">itself</a>.<br />\nLength requirement is reduced by one as we already match one digit at the start.</p>\n"}],"owner":{"account_id":3991492,"reputation":133,"user_id":3290283,"display_name":"Avatar Girase"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657653843,"creation_date":1657652394,"question_id":72957182,"body_markdown":"I need help in stopping a user from entering a phone number that has repeated first three digit except 888. \r\n\r\n   Phone number should  be between 10 digits to 25 digits. \r\n\r\nExample. \r\nGood Data\r\n\r\n88876565451 \r\n7687987555\r\n\r\nBad Data\r\n666879876577\r\n4448765654567\r\nI tried --&gt; \\b(\\d)\\3+\\b but looks that is not right.","title":"Regex to stop user from entering first three repeated digit except 888","body":"<p>I need help in stopping a user from entering a phone number that has repeated first three digit except 888.</p>\n<p>Phone number should  be between 10 digits to 25 digits.</p>\n<p>Example.\nGood Data</p>\n<p>88876565451\n7687987555</p>\n<p>Bad Data\n666879876577\n4448765654567\nI tried --&gt; \\b(\\d)\\3+\\b but looks that is not right.</p>\n"},{"tags":["java","jpa","eclipselink","connection-pooling","dropwizard"],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657653695,"creation_date":1657208833,"answer_id":72900781,"question_id":72892366,"body_markdown":"You might try looking at `getTotalNumberOfConnections()` and subtracting `getConnectionsAvailable()` which should give you the number of connections in use on a pool. Depending on the pool, you shouldn&#39;t see too much change; read connections and connections in general are lazily fetched from pools to ensure they are not held on longer than necessary, so your polling would have to be very frequent to catch usage. \r\n\r\nYou can take a look at the source for the classes [ConnectionPool.java][1] and [ReadConnectionPool.java][2] to get an idea of what to look for and use, and you might also look at the [EclipseLink performance profiler][3] but you can probably tell there isn&#39;t a lot of investment in areas that might help gather connection statistics. I believe the thinking was that most looking for those options would pick an external datasource for pooling; I&#39;d suggest you look into using [Oracle UCP][4] or some other pool that EclipseLink can use which has plenty of statistics tracking mechanisms built in.\r\n\r\nTo pass in your own instance, you can use the `jakarta.persistence.nonJtaDataSource` or `javax.persistence.nonJtaDataSource` persistence property to pass in the instance directly, or give a name if you are in a container environment that EclipseLink can look up in JNDI.\r\n\r\n\r\n  [1]: https://github.com/eclipse-ee4j/eclipselink/blob/master/foundation/org.eclipse.persistence.core/src/main/java/org/eclipse/persistence/sessions/server/ConnectionPool.java\r\n  [2]: https://github.com/eclipse-ee4j/eclipselink/blob/master/foundation/org.eclipse.persistence.core/src/main/java/org/eclipse/persistence/sessions/server/ReadConnectionPool.java\r\n  [3]: https://www.eclipse.org/eclipselink/documentation/2.6/solutions/performance002.htm\r\n  [4]: https://docs.oracle.com/cd/E11882_01/java.112/e12265/intro.htm#BABHFGCA","title":"How to obtain JPA Connection Pool Statistics in EclipseLink?","body":"<p>You might try looking at <code>getTotalNumberOfConnections()</code> and subtracting <code>getConnectionsAvailable()</code> which should give you the number of connections in use on a pool. Depending on the pool, you shouldn't see too much change; read connections and connections in general are lazily fetched from pools to ensure they are not held on longer than necessary, so your polling would have to be very frequent to catch usage.</p>\n<p>You can take a look at the source for the classes <a href=\"https://github.com/eclipse-ee4j/eclipselink/blob/master/foundation/org.eclipse.persistence.core/src/main/java/org/eclipse/persistence/sessions/server/ConnectionPool.java\" rel=\"nofollow noreferrer\">ConnectionPool.java</a> and <a href=\"https://github.com/eclipse-ee4j/eclipselink/blob/master/foundation/org.eclipse.persistence.core/src/main/java/org/eclipse/persistence/sessions/server/ReadConnectionPool.java\" rel=\"nofollow noreferrer\">ReadConnectionPool.java</a> to get an idea of what to look for and use, and you might also look at the <a href=\"https://www.eclipse.org/eclipselink/documentation/2.6/solutions/performance002.htm\" rel=\"nofollow noreferrer\">EclipseLink performance profiler</a> but you can probably tell there isn't a lot of investment in areas that might help gather connection statistics. I believe the thinking was that most looking for those options would pick an external datasource for pooling; I'd suggest you look into using <a href=\"https://docs.oracle.com/cd/E11882_01/java.112/e12265/intro.htm#BABHFGCA\" rel=\"nofollow noreferrer\">Oracle UCP</a> or some other pool that EclipseLink can use which has plenty of statistics tracking mechanisms built in.</p>\n<p>To pass in your own instance, you can use the <code>jakarta.persistence.nonJtaDataSource</code> or <code>javax.persistence.nonJtaDataSource</code> persistence property to pass in the instance directly, or give a name if you are in a container environment that EclipseLink can look up in JNDI.</p>\n"}],"owner":{"account_id":15490816,"reputation":102,"user_id":13673276,"display_name":"Lakshan Chathuranga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72900781,"answer_count":1,"score":1,"last_activity_date":1657653747,"creation_date":1657168889,"question_id":72892366,"body_markdown":"I am currently working on Dropwizard framework project with **EclipseLink JPA**. I need to get connection pool statistics such as the number of active connections, the total number of connections, etc. I tried with the below method, but it always shows the same data. Please help me in solving this problem.\r\n\r\n```\r\nEntityManager entityManager = (EntityManager) unitOfWorkI.getContext();\r\nServerSession serverSession = entityManager.unwrap(ServerSession.class);\r\n\r\nfor (Map.Entry&lt;String, ConnectionPool&gt; entry: serverSession.getConnectionPools().entrySet()) {\r\n    System.out.println(&quot;Connection Pool Name: &quot; + entry.getKey());\r\n    System.out.println(&quot;Min number of Connections: &quot; + entry.getValue().getMinNumberOfConnections());\r\n    System.out.println(&quot;Max number of Connections: &quot; + entry.getValue().getMaxNumberOfConnections());\r\n    System.out.println(&quot;Connections in use: &quot; + (entry.getValue().getMaxNumberOfConnections() - entry.getValue().getConnectionsAvailable().size()));\r\n}\r\n\r\nentityManager.close();\r\n```","title":"How to obtain JPA Connection Pool Statistics in EclipseLink?","body":"<p>I am currently working on Dropwizard framework project with <strong>EclipseLink JPA</strong>. I need to get connection pool statistics such as the number of active connections, the total number of connections, etc. I tried with the below method, but it always shows the same data. Please help me in solving this problem.</p>\n<pre><code>EntityManager entityManager = (EntityManager) unitOfWorkI.getContext();\nServerSession serverSession = entityManager.unwrap(ServerSession.class);\n\nfor (Map.Entry&lt;String, ConnectionPool&gt; entry: serverSession.getConnectionPools().entrySet()) {\n    System.out.println(&quot;Connection Pool Name: &quot; + entry.getKey());\n    System.out.println(&quot;Min number of Connections: &quot; + entry.getValue().getMinNumberOfConnections());\n    System.out.println(&quot;Max number of Connections: &quot; + entry.getValue().getMaxNumberOfConnections());\n    System.out.println(&quot;Connections in use: &quot; + (entry.getValue().getMaxNumberOfConnections() - entry.getValue().getConnectionsAvailable().size()));\n}\n\nentityManager.close();\n</code></pre>\n"},{"tags":["java","android","android-studio","serialization"],"answers":[{"tags":[],"owner":{"account_id":22666965,"reputation":33,"user_id":16839187,"display_name":"Shogery"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657653545,"creation_date":1657653545,"answer_id":72957352,"question_id":72954039,"body_markdown":"Solved it. Something about saving the text as a CharSequence instead of a String was causing the error. If someone has an explanation as to why that would be an issue that would be fantastic.\r\n\r\n```\r\npackage com.learn.myapplication;\r\n\r\n\r\nimport android.content.Context;\r\nimport android.content.SharedPreferences;\r\nimport android.util.Log;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.ArrayList;\r\nimport java.util.HashSet;\r\n\r\npublic class Note implements Serializable {\r\n\r\n    private String nt_title;\r\n    private CharSequence nt_text; // Changed to String\r\n    private final String nt_created;\r\n    private Bubble nt_bubble;\r\n\r\n    public Note(Context context, Bubble bubble){\r\n        this.nt_bubble = bubble;\r\n        this.nt_created = Utility.DateAndTimeNow();\r\n        this.nt_serial = ReturnSerial(context);\r\n        this.nt_title = &quot;&quot;;\r\n        this.nt_text = &quot;&quot;;\r\n    }\r\n\r\n    public Note(Context context, Bubble bubble, CharSequence text){ //Changed to String\r\n        this.nt_bubble = bubble;\r\n        this.nt_created = Utility.DateAndTimeNow();\r\n        this.nt_serial = ReturnSerial(context);\r\n        this.nt_title = &quot;&quot;;\r\n        this.nt_text = text;\r\n    }\r\n\r\n    public String getTitle(){ return nt_title; }\r\n\r\n    public CharSequence getText(){ return nt_text; } // Changed To String\r\n\r\n    public String getCreated(){ return nt_created; }\r\n\r\n    public Bubble getBubble(){ return nt_bubble; }\r\n\r\n    public boolean setTitle(String title){ this.nt_title = title; return true;}\r\n\r\n    public boolean setText(CharSequence text){ this.nt_text = text; return true;}\r\n\r\n    public boolean setBubble(Bubble bubble){ this.nt_bubble = bubble; return true; }\r\n\r\n}\r\n\r\n```","title":"java.io.NotSerializableException: androidx.emoji2.text.SpannableBuilder?","body":"<p>Solved it. Something about saving the text as a CharSequence instead of a String was causing the error. If someone has an explanation as to why that would be an issue that would be fantastic.</p>\n<pre><code>package com.learn.myapplication;\n\n\nimport android.content.Context;\nimport android.content.SharedPreferences;\nimport android.util.Log;\n\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.HashSet;\n\npublic class Note implements Serializable {\n\n    private String nt_title;\n    private CharSequence nt_text; // Changed to String\n    private final String nt_created;\n    private Bubble nt_bubble;\n\n    public Note(Context context, Bubble bubble){\n        this.nt_bubble = bubble;\n        this.nt_created = Utility.DateAndTimeNow();\n        this.nt_serial = ReturnSerial(context);\n        this.nt_title = &quot;&quot;;\n        this.nt_text = &quot;&quot;;\n    }\n\n    public Note(Context context, Bubble bubble, CharSequence text){ //Changed to String\n        this.nt_bubble = bubble;\n        this.nt_created = Utility.DateAndTimeNow();\n        this.nt_serial = ReturnSerial(context);\n        this.nt_title = &quot;&quot;;\n        this.nt_text = text;\n    }\n\n    public String getTitle(){ return nt_title; }\n\n    public CharSequence getText(){ return nt_text; } // Changed To String\n\n    public String getCreated(){ return nt_created; }\n\n    public Bubble getBubble(){ return nt_bubble; }\n\n    public boolean setTitle(String title){ this.nt_title = title; return true;}\n\n    public boolean setText(CharSequence text){ this.nt_text = text; return true;}\n\n    public boolean setBubble(Bubble bubble){ this.nt_bubble = bubble; return true; }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":22666965,"reputation":33,"user_id":16839187,"display_name":"Shogery"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657653545,"creation_date":1657636385,"question_id":72954039,"body_markdown":"I just started running into an error that I just don&#39;t understand. I&#39;m making a note editor app and the resulting error occurs after I try to save my data in the editor activity. Usually, this save method works just fine but in this particular context it causes an issue.\r\n\r\nHere are the related code blocks:\r\n```\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.text.Editable;\r\nimport android.text.TextWatcher;\r\nimport android.view.Menu;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\npublic class NoteEditorActivity extends AppCompatActivity {\r\n\r\n    private int noteId;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_note_editor);\r\n\r\n        EditText editText = findViewById(R.id.et_NoteText);\r\n        EditText editTitle = findViewById(R.id.et_NoteTitle);\r\n        Intent intent = getIntent();\r\n        noteId = intent.getIntExtra(&quot;noteId&quot;, -1);\r\n\r\n        editText.setText(State.St.st_current.getNote(noteId).getText());\r\n        editTitle.setText(State.St.st_current.getNote(noteId).getTitle());\r\n\r\n        editText.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n                UpdateText(charSequence);\r\n            }\r\n\r\n        });\r\n\r\n        editTitle.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n                UpdateTitle(String.valueOf(charSequence));\r\n            }\r\n        });\r\n    }\r\n\r\n    private void UpdateText(CharSequence text){\r\n        State.St.st_current.getNote(noteId).setText(text);\r\n    }\r\n\r\n    private void UpdateTitle(String title){\r\n        State.St.st_current.getNote(noteId).setTitle(title);\r\n    }\r\n\r\n    private void BackUp(){\r\n        Utility.ManageData.SaveState(getApplicationContext(), State.St);\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class Utility {\r\n    public static class ManageData {\r\n\r\n        public static void SaveState(Context context, State state){\r\n            String dir = context.getFilesDir().getAbsolutePath();\r\n            dir += &quot;/state&quot;;\r\n            File path = new File(dir);\r\n            try{\r\n                FileOutputStream outStream = new FileOutputStream(path);\r\n                ObjectOutputStream objectOut = new ObjectOutputStream(outStream);\r\n                objectOut.writeObject(state);\r\n                outStream.close();\r\n                objectOut.close();\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        public static State LoadState(Context context) {\r\n            String dir = context.getFilesDir().getAbsolutePath();\r\n            dir += &quot;/state&quot;;\r\n            File path = new File(dir);\r\n            try {\r\n                FileInputStream inStream = new FileInputStream(path);\r\n                ObjectInputStream objectIn = new ObjectInputStream(inStream);\r\n                State state = (State) objectIn.readObject();\r\n                inStream.close();\r\n                objectIn.close();\r\n                return state;\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } catch (ClassNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class State implements Serializable {\r\n\r\n    public static State St;\r\n\r\n    public ArrayList&lt;Bubble&gt; st_bubbles;\r\n    public Bubble st_current;\r\n\r\n    public State(){\r\n        st_bubbles = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public ArrayList&lt;Bubble&gt; getBubbles() { return st_bubbles; }\r\n    public Bubble getBubble(String name) {\r\n        for(int i = 0; i &lt; st_bubbles.size(); i ++){\r\n            if(st_bubbles.get(i).getName().equals(name)) return st_bubbles.get(i);\r\n        }\r\n        return null;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAlso all contained objects are also serializable.\r\n\r\nAnd here are all the related error codes.\r\n\r\n\r\n2022-07-12 07:20:57.196 28080-28080/com.learn.myapplication W/System.err: java.io.NotSerializableException: androidx.emoji2.text.SpannableBuilder\r\n2022-07-12 07:20:57.196 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1240)\r\n2022-07-12 07:20:57.196 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1604)\r\n2022-07-12 07:20:57.196 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1565)\r\n2022-07-12 07:20:57.196 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1488)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1234)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:354)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.util.ArrayList.writeObject(ArrayList.java:762)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.lang.reflect.Method.invoke(Native Method)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1036)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1552)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1488)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1234)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1604)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1565)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1488)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1234)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1604)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1565)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1488)\r\n2022-07-12 07:20:57.198 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1234)\r\n2022-07-12 07:20:57.198 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:354)\r\n2022-07-12 07:20:57.198 28080-28080/com.learn.myapplication W/System.err:     at com.learn.myapplication.Utility$ManageData.SaveState(Utility.java:34)","title":"java.io.NotSerializableException: androidx.emoji2.text.SpannableBuilder?","body":"<p>I just started running into an error that I just don't understand. I'm making a note editor app and the resulting error occurs after I try to save my data in the editor activity. Usually, this save method works just fine but in this particular context it causes an issue.</p>\n<p>Here are the related code blocks:</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.text.Editable;\nimport android.text.TextWatcher;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\npublic class NoteEditorActivity extends AppCompatActivity {\n\n    private int noteId;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_note_editor);\n\n        EditText editText = findViewById(R.id.et_NoteText);\n        EditText editTitle = findViewById(R.id.et_NoteTitle);\n        Intent intent = getIntent();\n        noteId = intent.getIntExtra(&quot;noteId&quot;, -1);\n\n        editText.setText(State.St.st_current.getNote(noteId).getText());\n        editTitle.setText(State.St.st_current.getNote(noteId).getTitle());\n\n        editText.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n                UpdateText(charSequence);\n            }\n\n        });\n\n        editTitle.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n                UpdateTitle(String.valueOf(charSequence));\n            }\n        });\n    }\n\n    private void UpdateText(CharSequence text){\n        State.St.st_current.getNote(noteId).setText(text);\n    }\n\n    private void UpdateTitle(String title){\n        State.St.st_current.getNote(noteId).setTitle(title);\n    }\n\n    private void BackUp(){\n        Utility.ManageData.SaveState(getApplicationContext(), State.St);\n    }\n}\n</code></pre>\n<pre><code>public class Utility {\n    public static class ManageData {\n\n        public static void SaveState(Context context, State state){\n            String dir = context.getFilesDir().getAbsolutePath();\n            dir += &quot;/state&quot;;\n            File path = new File(dir);\n            try{\n                FileOutputStream outStream = new FileOutputStream(path);\n                ObjectOutputStream objectOut = new ObjectOutputStream(outStream);\n                objectOut.writeObject(state);\n                outStream.close();\n                objectOut.close();\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n        public static State LoadState(Context context) {\n            String dir = context.getFilesDir().getAbsolutePath();\n            dir += &quot;/state&quot;;\n            File path = new File(dir);\n            try {\n                FileInputStream inStream = new FileInputStream(path);\n                ObjectInputStream objectIn = new ObjectInputStream(inStream);\n                State state = (State) objectIn.readObject();\n                inStream.close();\n                objectIn.close();\n                return state;\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            } catch (IOException e) {\n                e.printStackTrace();\n            } catch (ClassNotFoundException e) {\n                e.printStackTrace();\n            }\n            return null;\n        }\n    }\n}\n</code></pre>\n<pre><code>public class State implements Serializable {\n\n    public static State St;\n\n    public ArrayList&lt;Bubble&gt; st_bubbles;\n    public Bubble st_current;\n\n    public State(){\n        st_bubbles = new ArrayList&lt;&gt;();\n    }\n\n    public ArrayList&lt;Bubble&gt; getBubbles() { return st_bubbles; }\n    public Bubble getBubble(String name) {\n        for(int i = 0; i &lt; st_bubbles.size(); i ++){\n            if(st_bubbles.get(i).getName().equals(name)) return st_bubbles.get(i);\n        }\n        return null;\n    }\n\n}\n</code></pre>\n<p>Also all contained objects are also serializable.</p>\n<p>And here are all the related error codes.</p>\n<p>2022-07-12 07:20:57.196 28080-28080/com.learn.myapplication W/System.err: java.io.NotSerializableException: androidx.emoji2.text.SpannableBuilder\n2022-07-12 07:20:57.196 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1240)\n2022-07-12 07:20:57.196 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1604)\n2022-07-12 07:20:57.196 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1565)\n2022-07-12 07:20:57.196 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1488)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1234)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:354)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.util.ArrayList.writeObject(ArrayList.java:762)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.lang.reflect.Method.invoke(Native Method)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1036)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1552)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1488)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1234)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1604)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1565)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1488)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1234)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1604)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1565)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1488)\n2022-07-12 07:20:57.198 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1234)\n2022-07-12 07:20:57.198 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:354)\n2022-07-12 07:20:57.198 28080-28080/com.learn.myapplication W/System.err:     at com.learn.myapplication.Utility$ManageData.SaveState(Utility.java:34)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1657653441,"post_id":72956597,"comment_id":128860625,"body_markdown":"`native` is an implementation detail - it just means a method is not implemented in Java.","body":"<code>native</code> is an implementation detail - it just means a method is not implemented in Java."}],"answers":[{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657650664,"creation_date":1657650664,"answer_id":72956886,"question_id":72956597,"body_markdown":"Say you defined `enum MyEnum`.\r\n\r\nThat must be static, because you want to access all values with `MyEnum.values()`.\r\n\r\nAnd as `values()` must be static it cannot use the generic parameter (`enum MyEnum extends Enum&lt;MyEnum&gt;`).\r\n\r\nSo don&#39;t define an interface for your enums with a method named `values`. Find another appropriate name.","title":"Why is the values()-method in an enum static and implicit, and not defined as native?","body":"<p>Say you defined <code>enum MyEnum</code>.</p>\n<p>That must be static, because you want to access all values with <code>MyEnum.values()</code>.</p>\n<p>And as <code>values()</code> must be static it cannot use the generic parameter (<code>enum MyEnum extends Enum&lt;MyEnum&gt;</code>).</p>\n<p>So don't define an interface for your enums with a method named <code>values</code>. Find another appropriate name.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657653385,"creation_date":1657653385,"answer_id":72957325,"question_id":72956597,"body_markdown":"It has to be `static`: Because... that&#39;s the point of the method. Given an enum _type_, let&#39;s say `CardSuit`, you&#39;d want to invoke `CardSuit.values()`, not `CardSuit.SPADES.values()`, that makes no sense.\r\n\r\nIt cannot be `native`: `native`, specifically, means: &quot;The actual code for this method is defined in C&quot; (or at any rate, in a natively compiled file that has been `.loadLibrary`ied in, or has been auto-loaded in by the JVM itself). The implementation of the `values()` method isn&#39;t done &#39;in C&#39;.\r\n\r\n&gt; I have an interface that is exclusively implemented by enums, but because the implicit method is static, i can&#39;t even define values() in that interface.\r\n\r\nStatic methods don&#39;t &#39;do&#39; inheritance. They live outside of it. It makes the most sense to think of static methods as not participating in the type system at all; they must be written inside types _only_ because java&#39;s namespacing system piggybacks on the type system. They cannot be inherited, you can&#39;t override them. The definition of `final` on a `static` method is daft (a holdover from the Java 1.0 specs that aren&#39;t worth fixing at this point).\r\n\r\nWhy do you think the much-derided concept of the `Factory` exists? That&#39;s taking the &#39;class&#39; concept and making a separate type hierarchy for that concept, so that you can have an instance that represents the class: You have, say, a `Person` class, as well as a `PersonFactory` class. An _instance_ of `PersonFactory` is a lot like the concept `Person.class`, except `Person.class` cannot &#39;do&#39; inheritance, and static methods cannot be interfaced or overridden in any way. Whereas with the factory stuff, the actual factory _is_ an instance, thus the relevant methods _can be_ instance methods, and thus you can have em implement interfaces and the like.\r\n\r\nAt any rate, given that `values()` is static and doesn&#39;t make sense as non-static, defining an interface that your enums are meant to implement just does not make sense. At best, the factory equivalent for your enums could implement it: `values()` is a question you ask of the entire type itself. Which __is not__ what interface methods are for! Interface methods are questions you can ask __of a specific instance of the type__.","title":"Why is the values()-method in an enum static and implicit, and not defined as native?","body":"<p>It has to be <code>static</code>: Because... that's the point of the method. Given an enum <em>type</em>, let's say <code>CardSuit</code>, you'd want to invoke <code>CardSuit.values()</code>, not <code>CardSuit.SPADES.values()</code>, that makes no sense.</p>\n<p>It cannot be <code>native</code>: <code>native</code>, specifically, means: &quot;The actual code for this method is defined in C&quot; (or at any rate, in a natively compiled file that has been <code>.loadLibrary</code>ied in, or has been auto-loaded in by the JVM itself). The implementation of the <code>values()</code> method isn't done 'in C'.</p>\n<blockquote>\n<p>I have an interface that is exclusively implemented by enums, but because the implicit method is static, i can't even define values() in that interface.</p>\n</blockquote>\n<p>Static methods don't 'do' inheritance. They live outside of it. It makes the most sense to think of static methods as not participating in the type system at all; they must be written inside types <em>only</em> because java's namespacing system piggybacks on the type system. They cannot be inherited, you can't override them. The definition of <code>final</code> on a <code>static</code> method is daft (a holdover from the Java 1.0 specs that aren't worth fixing at this point).</p>\n<p>Why do you think the much-derided concept of the <code>Factory</code> exists? That's taking the 'class' concept and making a separate type hierarchy for that concept, so that you can have an instance that represents the class: You have, say, a <code>Person</code> class, as well as a <code>PersonFactory</code> class. An <em>instance</em> of <code>PersonFactory</code> is a lot like the concept <code>Person.class</code>, except <code>Person.class</code> cannot 'do' inheritance, and static methods cannot be interfaced or overridden in any way. Whereas with the factory stuff, the actual factory <em>is</em> an instance, thus the relevant methods <em>can be</em> instance methods, and thus you can have em implement interfaces and the like.</p>\n<p>At any rate, given that <code>values()</code> is static and doesn't make sense as non-static, defining an interface that your enums are meant to implement just does not make sense. At best, the factory equivalent for your enums could implement it: <code>values()</code> is a question you ask of the entire type itself. Which <strong>is not</strong> what interface methods are for! Interface methods are questions you can ask <strong>of a specific instance of the type</strong>.</p>\n"}],"owner":{"account_id":23646042,"reputation":447,"user_id":18197654,"display_name":"xtay2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72957325,"answer_count":2,"score":4,"last_activity_date":1657653385,"creation_date":1657648865,"question_id":72956597,"body_markdown":"This question is similar to [this][1] one, but I&#39;m not satisfied with its answer.\r\nWhy is the values()-method of every enum in Java implicit and static? Couldn&#39;t it just be defined as:\r\n\r\n    public final native T[] values();\r\n\r\nI have an interface that is exclusively implemented by enums, but because the implicit method is static, i can&#39;t even define values() in that interface.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15452703/why-the-static-methods-values-and-valueof-in-enum-are-added-by-the-compiler","title":"Why is the values()-method in an enum static and implicit, and not defined as native?","body":"<p>This question is similar to <a href=\"https://stackoverflow.com/questions/15452703/why-the-static-methods-values-and-valueof-in-enum-are-added-by-the-compiler\">this</a> one, but I'm not satisfied with its answer.\nWhy is the values()-method of every enum in Java implicit and static? Couldn't it just be defined as:</p>\n<pre><code>public final native T[] values();\n</code></pre>\n<p>I have an interface that is exclusively implemented by enums, but because the implicit method is static, i can't even define values() in that interface.</p>\n"},{"tags":["java","append","filewriter","truncation"],"comments":[{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":2,"creation_date":1657629487,"post_id":72952388,"comment_id":128851837,"body_markdown":"to open a file in append mode, but, if the file already exists, override its contents - does this even make sense?","body":"to open a file in append mode, but, if the file already exists, override its contents - does this even make sense?"},{"owner":{"account_id":3628239,"reputation":115,"user_id":7646049,"display_name":"Evgeny Kuznetsov"},"score":0,"creation_date":1657631010,"post_id":72952388,"comment_id":128852433,"body_markdown":"@aran I open a file for writing, I call ```write``` several times during program life cycle to append some content. What can I do else? If I do not specify ```true``` as a second argument in ```FileWriter``` constructor it overrides my file on every call of ```write```. Am I wrong?","body":"@aran I open a file for writing, I call <code>write</code> several times during program life cycle to append some content. What can I do else? If I do not specify <code>true</code> as a second argument in <code>FileWriter</code> constructor it overrides my file on every call of <code>write</code>. Am I wrong?"},{"owner":{"account_id":25660167,"reputation":89,"user_id":19426256,"display_name":"Drishti Jain"},"score":1,"creation_date":1657631806,"post_id":72952388,"comment_id":128852785,"body_markdown":"@EvgenyKuznetsov Please tell us what behaviour you want in the following situations: **Case 1: File already exists and is empty**  _Case 2: File already exists and has some data in it._ **Case 3: File does not exist.**","body":"@EvgenyKuznetsov Please tell us what behaviour you want in the following situations: <b>Case 1: File already exists and is empty</b>  <i>Case 2: File already exists and has some data in it.</i> <b>Case 3: File does not exist.</b>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1657632089,"post_id":72952388,"comment_id":128852928,"body_markdown":"“if the file already exists, override its contents” is literally the opposite of appending to a file.  Edit your question and show some short examples of file contents before and after your ideal theoretical code runs.","body":"“if the file already exists, override its contents” is literally the opposite of appending to a file.  Edit your question and show some short examples of file contents before and after your ideal theoretical code runs."},{"owner":{"account_id":3628239,"reputation":115,"user_id":7646049,"display_name":"Evgeny Kuznetsov"},"score":0,"creation_date":1657632577,"post_id":72952388,"comment_id":128853170,"body_markdown":"I have changed the question a bit, is it clear now what am I trying to do?","body":"I have changed the question a bit, is it clear now what am I trying to do?"}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657653320,"creation_date":1657636884,"answer_id":72954170,"question_id":72952388,"body_markdown":"This code should do the job according to your description from the question:\r\n\r\n```java\r\npublic final class Writer \r\n{\r\n  private static final Set&lt;String&gt; m_AppendMarkers = new HashMap&lt;&gt;();\r\n\r\n  public static void write( final String message, final String destinationPath ) \r\n  {\r\n    final var append = m_AppendMarkers.contains( destinationPath );\r\n    try( final var fw = new FileWriter( destinationPath, append );\r\n      final var bw = new BufferedWriter( fw ) )\r\n    {\r\n      bw.write( message );\r\n      bw.newLine();\r\n      m_AppendMarkers.add( destinationPath );\r\n    } \r\n    catch( final IOException e ) \r\n    {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe set will be empty at each restart of the program, therefore `Set::contains` will return `false` for the first attempt to write to the given file; for further attempts, the path to the file was added to the set and the contains check will give you `true`, so further lines will be appended.\r\n\r\nBut to be honest, although this works, you should consider a different design! So it is not a good idea to open and close a file for each and every new line you write to it.\r\n\r\nAlso working with a static method is not good design (and that is the reason why you need the `Set` instead of a simple `boolean` flag).\r\n\r\nTo do it right (or at least a bit better) try this:\r\n\r\n```java\r\npublic class YourProgram\r\n{\r\n  private static class Writer implements AutoClosable\r\n  {\r\n    private final String m_DestinationPath;\r\n    private final StringJoiner m_Buffer ) = new StringJoiner( &quot;\\n&quot;, &quot;&quot;, &quot;\\n&quot; );\r\n\r\n    public Writer( final String destinationPath )\r\n    {\r\n      m_DestinationPath = destinationPath;\r\n    }\r\n\r\n    @Overwrite\r\n    public final void close() throws IOException\r\n    {\r\n      try( final var writer = new BufferedWriter( new FileWriter( m_DestinationPath, false ) ) )\r\n      {\r\n        writer.write( m_Buffer.toString() );\r\n      }\r\n    } \r\n\r\n    public static void write( final String message )\r\n    {\r\n      m_Buffer.add( message );\r\n    }\r\n  }\r\n  //  class Writer\r\n\r\n  private static Writer m_Writer;\r\n\r\n  public static final void main( final String... args )\r\n  {\r\n    try( var w = new Writer( &quot;TheNameOfYourOutputFile&quot; ) )\r\n    {\r\n      m_Writer = w;\r\n\r\n      // Your code goes here …\r\n      …\r\n    }\r\n    catch( final IOException e )\r\n    {\r\n      err.println( &quot;Failed to write the output file&quot; );\r\n      e.printStackTrace( err );\r\n    }\r\n    catch( final Throwable t )\r\n    {\r\n      err.println( &quot;Unhandled exception&quot; );\r\n      t.printStackTrace( err );\r\n    }\r\n  }\r\n}\r\n// class YourProgram\r\n```\r\nError handling was omitted to keep readability.\r\n\r\n\r\nAs long as you do not attempt to write several GigaBytes of data, this should work much more smoothly than the other design. Ok, it is not crash-save, nothing will be written to the output file if the program will be killed externally.","title":"Opening a file in append mode but truncating the file if not empty in JAVA 11","body":"<p>This code should do the job according to your description from the question:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Writer \n{\n  private static final Set&lt;String&gt; m_AppendMarkers = new HashMap&lt;&gt;();\n\n  public static void write( final String message, final String destinationPath ) \n  {\n    final var append = m_AppendMarkers.contains( destinationPath );\n    try( final var fw = new FileWriter( destinationPath, append );\n      final var bw = new BufferedWriter( fw ) )\n    {\n      bw.write( message );\n      bw.newLine();\n      m_AppendMarkers.add( destinationPath );\n    } \n    catch( final IOException e ) \n    {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>The set will be empty at each restart of the program, therefore <code>Set::contains</code> will return <code>false</code> for the first attempt to write to the given file; for further attempts, the path to the file was added to the set and the contains check will give you <code>true</code>, so further lines will be appended.</p>\n<p>But to be honest, although this works, you should consider a different design! So it is not a good idea to open and close a file for each and every new line you write to it.</p>\n<p>Also working with a static method is not good design (and that is the reason why you need the <code>Set</code> instead of a simple <code>boolean</code> flag).</p>\n<p>To do it right (or at least a bit better) try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class YourProgram\n{\n  private static class Writer implements AutoClosable\n  {\n    private final String m_DestinationPath;\n    private final StringJoiner m_Buffer ) = new StringJoiner( &quot;\\n&quot;, &quot;&quot;, &quot;\\n&quot; );\n\n    public Writer( final String destinationPath )\n    {\n      m_DestinationPath = destinationPath;\n    }\n\n    @Overwrite\n    public final void close() throws IOException\n    {\n      try( final var writer = new BufferedWriter( new FileWriter( m_DestinationPath, false ) ) )\n      {\n        writer.write( m_Buffer.toString() );\n      }\n    } \n\n    public static void write( final String message )\n    {\n      m_Buffer.add( message );\n    }\n  }\n  //  class Writer\n\n  private static Writer m_Writer;\n\n  public static final void main( final String... args )\n  {\n    try( var w = new Writer( &quot;TheNameOfYourOutputFile&quot; ) )\n    {\n      m_Writer = w;\n\n      // Your code goes here …\n      …\n    }\n    catch( final IOException e )\n    {\n      err.println( &quot;Failed to write the output file&quot; );\n      e.printStackTrace( err );\n    }\n    catch( final Throwable t )\n    {\n      err.println( &quot;Unhandled exception&quot; );\n      t.printStackTrace( err );\n    }\n  }\n}\n// class YourProgram\n</code></pre>\n<p>Error handling was omitted to keep readability.</p>\n<p>As long as you do not attempt to write several GigaBytes of data, this should work much more smoothly than the other design. Ok, it is not crash-save, nothing will be written to the output file if the program will be killed externally.</p>\n"}],"owner":{"account_id":3628239,"reputation":115,"user_id":7646049,"display_name":"Evgeny Kuznetsov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72954170,"answer_count":1,"score":-1,"last_activity_date":1657653320,"creation_date":1657629179,"question_id":72952388,"body_markdown":"I would like to create a result.csv file if it does not exist, then I call ```write``` several times and append corresponding messages one by a call. \r\n\r\nBut If the file already exists and contain something before the run of the program, I would like to erase its contents and then begin to append corresponding messages .\r\n\r\nI have tried the following: \r\n```\r\npublic final class Writer {\r\n    public static void write(String message, String destinationPath) {\r\n        try (FileWriter fw = new FileWriter(destinationPath, true);\r\n             BufferedWriter bw = new BufferedWriter(fw)\r\n        ) {\r\n            bw.write(message);\r\n            bw.newLine();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nBut, as you may guess, when I run the program over and over it just appends new line on existing ones not erasing what was inside before the program was ran.\r\n\r\nthe call of ```write``` is done like: \r\n\r\n``` studentNamesAndIds.values().forEach(id -&gt; Writer.write(id+&quot;,&quot;+ DecideGrade.softLookUp(id, studentIdsAndGrades),writeFilePath));```\r\n\r\nWhat should I change to get the result I mentioned at the beginning?\r\n\r\nP.S. If I were declaring ```new FileWriter(destinationPath)``` without the second argument ```true``` then every call of ```write``` would erase the content of my file, I would withe the last line inside.  ","title":"Opening a file in append mode but truncating the file if not empty in JAVA 11","body":"<p>I would like to create a result.csv file if it does not exist, then I call <code>write</code> several times and append corresponding messages one by a call.</p>\n<p>But If the file already exists and contain something before the run of the program, I would like to erase its contents and then begin to append corresponding messages .</p>\n<p>I have tried the following:</p>\n<pre><code>public final class Writer {\n    public static void write(String message, String destinationPath) {\n        try (FileWriter fw = new FileWriter(destinationPath, true);\n             BufferedWriter bw = new BufferedWriter(fw)\n        ) {\n            bw.write(message);\n            bw.newLine();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p>But, as you may guess, when I run the program over and over it just appends new line on existing ones not erasing what was inside before the program was ran.</p>\n<p>the call of <code>write</code> is done like:</p>\n<p><code> studentNamesAndIds.values().forEach(id -&gt; Writer.write(id+&quot;,&quot;+ DecideGrade.softLookUp(id, studentIdsAndGrades),writeFilePath));</code></p>\n<p>What should I change to get the result I mentioned at the beginning?</p>\n<p>P.S. If I were declaring <code>new FileWriter(destinationPath)</code> without the second argument <code>true</code> then every call of <code>write</code> would erase the content of my file, I would withe the last line inside.</p>\n"},{"tags":["java","java-ee-6","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1657652724,"creation_date":1338723628,"answer_id":10870006,"question_id":10869977,"body_markdown":"These classes ([*JSR 311: JAX-RS: The JavaTM API for RESTful Web Services*](http://jcp.org/en/jsr/detail?id=311)) are not part of the JDK. You need to include appropriate JAR file to your CLASSPATH. You can find the API e.g. in [maven repository](https://repo1.maven.org/maven2/javax/ws/rs/jsr311-api/1.1.1/).\r\n\r\nAlso check out [tag:apache-cxf], [tag:jersey] (reference implementation), [tag:Resteasy] from JBoss, [tag:restlet] and few other JAX-RS implementations.","title":"Can&#39;t find javax.ws.rs package in jdk","body":"<p>These classes (<a href=\"http://jcp.org/en/jsr/detail?id=311\" rel=\"nofollow noreferrer\"><em>JSR 311: JAX-RS: The JavaTM API for RESTful Web Services</em></a>) are not part of the JDK. You need to include appropriate JAR file to your CLASSPATH. You can find the API e.g. in <a href=\"https://repo1.maven.org/maven2/javax/ws/rs/jsr311-api/1.1.1/\" rel=\"nofollow noreferrer\">maven repository</a>.</p>\n<p>Also check out <a href=\"/questions/tagged/apache-cxf\" class=\"post-tag\" title=\"show questions tagged &#39;apache-cxf&#39;\" rel=\"tag\">apache-cxf</a>, <a href=\"/questions/tagged/jersey\" class=\"post-tag\" title=\"show questions tagged &#39;jersey&#39;\" rel=\"tag\">jersey</a> (reference implementation), <a href=\"/questions/tagged/resteasy\" class=\"post-tag\" title=\"show questions tagged &#39;resteasy&#39;\" rel=\"tag\">resteasy</a> from JBoss, <a href=\"/questions/tagged/restlet\" class=\"post-tag\" title=\"show questions tagged &#39;restlet&#39;\" rel=\"tag\">restlet</a> and few other JAX-RS implementations.</p>\n"},{"tags":[],"owner":{"account_id":6198597,"reputation":188,"user_id":4829183,"display_name":"orientchen1978"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1429887622,"creation_date":1429887622,"answer_id":29850869,"question_id":10869977,"body_markdown":"Try:\r\nhttp://download.oracle.com/otndocs/jcp/jaxrs-2_0_rev_A-mrel-spec/index.html\r\n\r\nDownload: javax.ws.rs-api-2.0.rev.A.jar\r\n\r\nThen add to your Project Properties(YourProjectName)-&gt;Libraries-&gt;Add JAR/Folder","title":"Can&#39;t find javax.ws.rs package in jdk","body":"<p>Try:\n<a href=\"http://download.oracle.com/otndocs/jcp/jaxrs-2_0_rev_A-mrel-spec/index.html\">http://download.oracle.com/otndocs/jcp/jaxrs-2_0_rev_A-mrel-spec/index.html</a></p>\n\n<p>Download: javax.ws.rs-api-2.0.rev.A.jar</p>\n\n<p>Then add to your Project Properties(YourProjectName)->Libraries->Add JAR/Folder</p>\n"},{"tags":[],"owner":{"account_id":2347162,"reputation":10955,"user_id":2057089,"display_name":"Gene"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1563892457,"creation_date":1462489413,"answer_id":37061675,"question_id":10869977,"body_markdown":"It doesn&#39;t matter what your JDK is set to. \r\n\r\nGo here= http://www.java2s.com/Code/Jar/j/Downloadjavaxwsrsjar.htm\r\n\r\nOr type in &quot;Download javax.ws.rs&quot; into Google. \r\n\r\nDownload “javax.ws/javax.ws.rs.jar.zip”\r\n\r\n[![enter image description here][1]][1]\r\n\r\nUnzip to your desktop. The resulting file should be a jar file.\r\nOpen your project preferences and add it as external jar.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nSelect your javax.ws.rs.jar file from your Desktop. \r\n\r\nClick “Apply” and then “OK”. \r\n\r\nNow you should be able to use the javax.ws.rs libraries. You can test it by typing &quot;import javax.ws.rs.GET;&quot; in one of your Java classes.  \r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/evMtX.png\r\n  [2]: http://i.stack.imgur.com/clfoI.png\r\n  [3]: http://i.stack.imgur.com/CWvJW.png","title":"Can&#39;t find javax.ws.rs package in jdk","body":"<p>It doesn't matter what your JDK is set to. </p>\n\n<p>Go here= <a href=\"http://www.java2s.com/Code/Jar/j/Downloadjavaxwsrsjar.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/Jar/j/Downloadjavaxwsrsjar.htm</a></p>\n\n<p>Or type in \"Download javax.ws.rs\" into Google. </p>\n\n<p>Download “javax.ws/javax.ws.rs.jar.zip”</p>\n\n<p><a href=\"https://i.stack.imgur.com/evMtX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/evMtX.png\" alt=\"enter image description here\"></a></p>\n\n<p>Unzip to your desktop. The resulting file should be a jar file.\nOpen your project preferences and add it as external jar.</p>\n\n<p><a href=\"https://i.stack.imgur.com/clfoI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/clfoI.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/CWvJW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CWvJW.png\" alt=\"enter image description here\"></a></p>\n\n<p>Select your javax.ws.rs.jar file from your Desktop. </p>\n\n<p>Click “Apply” and then “OK”. </p>\n\n<p>Now you should be able to use the javax.ws.rs libraries. You can test it by typing \"import javax.ws.rs.GET;\" in one of your Java classes.  </p>\n"}],"owner":{"account_id":1047162,"reputation":4175,"user_id":1051927,"accept_rate":77,"display_name":"narek.gevorgyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88336,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":10870006,"answer_count":3,"score":36,"last_activity_date":1657652724,"creation_date":1338723370,"question_id":10869977,"body_markdown":"I&#39;m trying to get into JAX-RS.\r\nMy project jdk is set to 1.7.03.\r\nDoes there have to be definitions of annotations for JAX-RS(javax.ws.rs)?\r\nIf not, where I can find them?","title":"Can&#39;t find javax.ws.rs package in jdk","body":"<p>I'm trying to get into JAX-RS.\nMy project jdk is set to 1.7.03.\nDoes there have to be definitions of annotations for JAX-RS(javax.ws.rs)?\nIf not, where I can find them?</p>\n"},{"tags":["java","unit-testing","archunit"],"answers":[{"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650393229,"creation_date":1650393229,"answer_id":71929710,"question_id":71926009,"body_markdown":"I don&#39;t think that [ArchUnit&#39;s JUnit 4 &amp; 5 support](https://www.archunit.org/userguide/html/000_Index.html#_junit_4_5_support) – in the current version 0.23.1 – allows for dynamic packages configured via an `application.properties`.\r\n\r\nBut instead of using `@AnalyzeClasses`, you can always just invoke [`new ClassFileImporter().import`](https://javadoc.io/doc/com.tngtech.archunit/archunit/latest/com/tngtech/archunit/core/importer/ClassFileImporter.html)… and pass any dynamic runtime values you like.  \r\n(Note that ArchUnit&#39;s JUnit support also introduces a clever cache to reuse imported `JavaClasses` by multiple `@ArchTest`s, but storing `JavaClasses` in a static field  may be also good enough.)","title":"Use ArchUnit As Adapter to Run Architecture Test Based on External AnalyzeClasses","body":"<p>I don't think that <a href=\"https://www.archunit.org/userguide/html/000_Index.html#_junit_4_5_support\" rel=\"nofollow noreferrer\">ArchUnit's JUnit 4 &amp; 5 support</a> – in the current version 0.23.1 – allows for dynamic packages configured via an <code>application.properties</code>.</p>\n<p>But instead of using <code>@AnalyzeClasses</code>, you can always just invoke <a href=\"https://javadoc.io/doc/com.tngtech.archunit/archunit/latest/com/tngtech/archunit/core/importer/ClassFileImporter.html\" rel=\"nofollow noreferrer\"><code>new ClassFileImporter().import</code></a>… and pass any dynamic runtime values you like.<br />\n(Note that ArchUnit's JUnit support also introduces a clever cache to reuse imported <code>JavaClasses</code> by multiple <code>@ArchTest</code>s, but storing <code>JavaClasses</code> in a static field  may be also good enough.)</p>\n"},{"tags":[],"owner":{"account_id":2987995,"reputation":859,"user_id":2536277,"accept_rate":75,"display_name":"pete83"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657652292,"creation_date":1657652292,"answer_id":72957164,"question_id":71926009,"body_markdown":"This actually should be possible using a custom `LocationProvider` within `@AnalyzeClasses`. E.g.\r\n\r\n```\r\n\r\n@AnalyzeClasses(locations = ApplicationPropertiesLocationProvider.class)\r\npublic class ExampleTest {\r\n  // ...\r\n}\r\n\r\nclass ApplicationPropertiesLocationProvider implements LocationProvider {\r\n  @Override\r\n  public Set&lt;Location&gt; get(Class&lt;?&gt; testClass) {\r\n    String packageToScan = readFromApplicationProperties();\r\n    return Locations.ofPackage(packageToScan);\r\n  }\r\n}\r\n```\r\n\r\nBut be aware of caching limitations! The caching mechanism assumes that your `LocationProvider` is &quot;idempotent&quot;, i.e. it always returns the same locations. The caching mechanism will only take the type of the `LocationProvider` into consideration as cache key. This should not be a problem for a static `application.properties` as source though.","title":"Use ArchUnit As Adapter to Run Architecture Test Based on External AnalyzeClasses","body":"<p>This actually should be possible using a custom <code>LocationProvider</code> within <code>@AnalyzeClasses</code>. E.g.</p>\n<pre><code>\n@AnalyzeClasses(locations = ApplicationPropertiesLocationProvider.class)\npublic class ExampleTest {\n  // ...\n}\n\nclass ApplicationPropertiesLocationProvider implements LocationProvider {\n  @Override\n  public Set&lt;Location&gt; get(Class&lt;?&gt; testClass) {\n    String packageToScan = readFromApplicationProperties();\n    return Locations.ofPackage(packageToScan);\n  }\n}\n</code></pre>\n<p>But be aware of caching limitations! The caching mechanism assumes that your <code>LocationProvider</code> is &quot;idempotent&quot;, i.e. it always returns the same locations. The caching mechanism will only take the type of the <code>LocationProvider</code> into consideration as cache key. This should not be a problem for a static <code>application.properties</code> as source though.</p>\n"}],"owner":{"account_id":2031219,"reputation":2191,"user_id":1814867,"accept_rate":50,"display_name":"Mandar Pandit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657652292,"creation_date":1650375788,"question_id":71926009,"body_markdown":"I am trying to do one example with ```ArchUnit``` where passing the **AnalyzeClasses** can be dynamic based on for which Adapter Application the test need run.\r\n\r\nFor Example:\r\n\r\n    @AnalyzeClasses(packages = &quot;${archtest.scan.package}&quot;, importOptions = { ImportOption.DoNotIncludeTests.class, ImportOption.DoNotIncludeJars.class })\r\n    public class ArchitectureTests {\r\n    \r\n    }\r\n\r\nAnd from ```application.properties``` file it should allow to pass the packages to analyze dynamically,  so any application using this Application as Jar library can provide the scan classes in its properties file. As below.\r\n\r\n    archtest.scan.package=com.example.pkgname\r\n\r\nI am not sure what is the right way to pick up the dynamic value from property and pass that into ```@AnalyzeClasses``` Annotation. I am looking for some help or any example in this regard.\r\n\r\n ","title":"Use ArchUnit As Adapter to Run Architecture Test Based on External AnalyzeClasses","body":"<p>I am trying to do one example with <code>ArchUnit</code> where passing the <strong>AnalyzeClasses</strong> can be dynamic based on for which Adapter Application the test need run.</p>\n<p>For Example:</p>\n<pre><code>@AnalyzeClasses(packages = &quot;${archtest.scan.package}&quot;, importOptions = { ImportOption.DoNotIncludeTests.class, ImportOption.DoNotIncludeJars.class })\npublic class ArchitectureTests {\n\n}\n</code></pre>\n<p>And from <code>application.properties</code> file it should allow to pass the packages to analyze dynamically,  so any application using this Application as Jar library can provide the scan classes in its properties file. As below.</p>\n<pre><code>archtest.scan.package=com.example.pkgname\n</code></pre>\n<p>I am not sure what is the right way to pick up the dynamic value from property and pass that into <code>@AnalyzeClasses</code> Annotation. I am looking for some help or any example in this regard.</p>\n"},{"tags":["java","testng","junit5"],"answers":[{"tags":[],"owner":{"account_id":14377484,"reputation":44,"user_id":10385597,"display_name":"toolateitsme"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657651276,"creation_date":1657651276,"answer_id":72956991,"question_id":72956793,"body_markdown":"Please, read a guide about Dynamic tests - https://junit.org/junit5/docs/current/user-guide/#writing-tests-dynamic-tests-examples\r\n\r\nAlso, dynamic tests can be parameterized (like data providers) with Sources - https://junit.org/junit5/docs/current/user-guide/#writing-tests-dynamic-tests-uri-test-source read this part of guide","title":"TestNG @Factory analog in JUnit 5","body":"<p>Please, read a guide about Dynamic tests - <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-dynamic-tests-examples\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#writing-tests-dynamic-tests-examples</a></p>\n<p>Also, dynamic tests can be parameterized (like data providers) with Sources - <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-dynamic-tests-uri-test-source\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#writing-tests-dynamic-tests-uri-test-source</a> read this part of guide</p>\n"}],"owner":{"account_id":16546803,"reputation":1,"user_id":11956137,"display_name":"Aleksandr Kireev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657651276,"creation_date":1657650089,"question_id":72956793,"body_markdown":"In TestNG we can annotate test class constructor @Factory annotation and specify data provider for this factory like this:\r\n\r\n    @Factory(dataProvider = &quot;dataProviderName&quot;)\r\nAnd TestNG create instance of test class for each object returned by data provider.\r\nIn JUnit 5 I didn&#39;t found feature exactly like that. My question is, how I can reproduce that behavior in JUnit 5?\r\n\r\nThanks in advance for your help","title":"TestNG @Factory analog in JUnit 5","body":"<p>In TestNG we can annotate test class constructor @Factory annotation and specify data provider for this factory like this:</p>\n<pre><code>@Factory(dataProvider = &quot;dataProviderName&quot;)\n</code></pre>\n<p>And TestNG create instance of test class for each object returned by data provider.\nIn JUnit 5 I didn't found feature exactly like that. My question is, how I can reproduce that behavior in JUnit 5?</p>\n<p>Thanks in advance for your help</p>\n"},{"tags":["java","annotations","archunit"],"comments":[{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1605789865,"post_id":64699060,"comment_id":114763354,"body_markdown":"Can&#39;t find something about parameters neither frankly.. strange.. maybe it&#39;s missing.","body":"Can&#39;t find something about parameters neither frankly.. strange.. maybe it&#39;s missing."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":2,"creation_date":1614788774,"post_id":64699060,"comment_id":117493491,"body_markdown":"It seems this is currently not possible. See https://github.com/TNG/ArchUnit/issues/113 for the relevant issue.","body":"It seems this is currently not possible. See <a href=\"https://github.com/TNG/ArchUnit/issues/113\" rel=\"nofollow noreferrer\">github.com/TNG/ArchUnit/issues/113</a> for the relevant issue."}],"answers":[{"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1626130082,"creation_date":1626130082,"answer_id":68354598,"question_id":64699060,"body_markdown":"You can always fall back to the Reflection API:\r\n```java\r\nArchRule rule = methods()\r\n    .that().areDeclaredInClassesThat().areInterfaces()\r\n    .and().areDeclaredInClassesThat().areAnnotatedWith(ComponentInterface.class)\r\n    .should(haveAllParametersAnnotatedWith(Input.class));\r\n\r\nArchCondition&lt;JavaMethod&gt; haveAllParametersAnnotatedWith(Class&lt;? extends Annotation&gt; annotationClass) {\r\n  return new ArchCondition&lt;JavaMethod&gt;(&quot;have all parameters annotated with @&quot; + annotationClass.getSimpleName()) {\r\n    @Override\r\n    public void check(JavaMethod method, ConditionEvents events) {\r\n      boolean areAllParametersAnnotated = true;\r\n      for (Annotation[] parameterAnnotations : method.reflect().getParameterAnnotations()) {\r\n        boolean isParameterAnnotated = false;\r\n        for (Annotation annotation : parameterAnnotations) {\r\n          if (annotation.annotationType().equals(annotationClass)) {\r\n            isParameterAnnotated = true;\r\n          }\r\n        }\r\n        areAllParametersAnnotated &amp;= isParameterAnnotated;\r\n      }\r\n      String message = (areAllParametersAnnotated ? &quot;&quot; : &quot;not &quot;)\r\n          + &quot;all parameters of &quot; + method.getDescription()\r\n          + &quot; are annotated with @&quot; + annotationClass.getSimpleName();\r\n      events.add(new SimpleConditionEvent(method, areAllParametersAnnotated, message));\r\n    }\r\n  };\r\n}\r\n```","title":"ArchUnit - ensure method parameters are annotated","body":"<p>You can always fall back to the Reflection API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArchRule rule = methods()\n    .that().areDeclaredInClassesThat().areInterfaces()\n    .and().areDeclaredInClassesThat().areAnnotatedWith(ComponentInterface.class)\n    .should(haveAllParametersAnnotatedWith(Input.class));\n\nArchCondition&lt;JavaMethod&gt; haveAllParametersAnnotatedWith(Class&lt;? extends Annotation&gt; annotationClass) {\n  return new ArchCondition&lt;JavaMethod&gt;(&quot;have all parameters annotated with @&quot; + annotationClass.getSimpleName()) {\n    @Override\n    public void check(JavaMethod method, ConditionEvents events) {\n      boolean areAllParametersAnnotated = true;\n      for (Annotation[] parameterAnnotations : method.reflect().getParameterAnnotations()) {\n        boolean isParameterAnnotated = false;\n        for (Annotation annotation : parameterAnnotations) {\n          if (annotation.annotationType().equals(annotationClass)) {\n            isParameterAnnotated = true;\n          }\n        }\n        areAllParametersAnnotated &amp;= isParameterAnnotated;\n      }\n      String message = (areAllParametersAnnotated ? &quot;&quot; : &quot;not &quot;)\n          + &quot;all parameters of &quot; + method.getDescription()\n          + &quot; are annotated with @&quot; + annotationClass.getSimpleName();\n      events.add(new SimpleConditionEvent(method, areAllParametersAnnotated, message));\n    }\n  };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2987995,"reputation":859,"user_id":2536277,"accept_rate":75,"display_name":"pete83"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657651223,"creation_date":1657651223,"answer_id":72956981,"question_id":64699060,"body_markdown":"Note that the information is meanwhile available (but not added to the fluent API yet) -&gt; https://github.com/TNG/ArchUnit/pull/701\r\n\r\nYou can achieve it with e.g. a custom `ArchCondition`\r\n\r\n```\r\nmethods()\r\n  ...\r\n  .should(haveParametersAnnotatedWith(Input.class))\r\n\r\n// ...\r\n\r\nprivate ArchCondition&lt;JavaMethod&gt; haveParametersAnnotatedWith(\r\n  Class&lt;? extends Annotation&gt; annotationType\r\n) {\r\n  return new ArchCondition&lt;JavaMethod&gt;(\r\n    &quot;have parameters annotated with @&quot; + annotationType.getSimpleName()\r\n  ) {\r\n    @Override\r\n    public void check(JavaMethod method, ConditionEvents events) {\r\n      method.getParameters().stream()\r\n        .filter(parameter -&gt; !parameter.isAnnotatedWith(annotationType))\r\n        .forEach(parameter -&gt; events.add(SimpleConditionEvent.violated(method,\r\n          parameter.getDescription() + &quot; is not annotated with @&quot; + annotationType.getSimpleName())));\r\n    }\r\n  };\r\n}\r\n```","title":"ArchUnit - ensure method parameters are annotated","body":"<p>Note that the information is meanwhile available (but not added to the fluent API yet) -&gt; <a href=\"https://github.com/TNG/ArchUnit/pull/701\" rel=\"nofollow noreferrer\">https://github.com/TNG/ArchUnit/pull/701</a></p>\n<p>You can achieve it with e.g. a custom <code>ArchCondition</code></p>\n<pre><code>methods()\n  ...\n  .should(haveParametersAnnotatedWith(Input.class))\n\n// ...\n\nprivate ArchCondition&lt;JavaMethod&gt; haveParametersAnnotatedWith(\n  Class&lt;? extends Annotation&gt; annotationType\n) {\n  return new ArchCondition&lt;JavaMethod&gt;(\n    &quot;have parameters annotated with @&quot; + annotationType.getSimpleName()\n  ) {\n    @Override\n    public void check(JavaMethod method, ConditionEvents events) {\n      method.getParameters().stream()\n        .filter(parameter -&gt; !parameter.isAnnotatedWith(annotationType))\n        .forEach(parameter -&gt; events.add(SimpleConditionEvent.violated(method,\n          parameter.getDescription() + &quot; is not annotated with @&quot; + annotationType.getSimpleName())));\n    }\n  };\n}\n</code></pre>\n"}],"owner":{"account_id":26752,"reputation":761,"user_id":69888,"accept_rate":50,"display_name":"manuna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2499,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":68354598,"answer_count":2,"score":4,"last_activity_date":1657651223,"creation_date":1604585926,"question_id":64699060,"body_markdown":"I&#39;m trying to write an ArchUnit test rule, which should ensure that interfaces annotated with ```@ComponentInterface``` annotation have method parameters annotated with ```@Input``` annotation.\r\nLike this:\r\n\r\n```\r\nArchRule rule =\r\n        methods()\r\n            .that()\r\n            .areDeclaredInClassesThat()\r\n            .areInterfaces()\r\n            .and()\r\n            .areDeclaredInClassesThat()\r\n            .areAnnotatedWith(ComponentInterface.class)\r\n            .should()\r\n            .haveRawParameterTypes(\r\n                allElements(CanBeAnnotated.Predicates.annotatedWith(Input.class)));\r\n```\r\nThe interface looks like this:\r\n```\r\n@ComponentInterface\r\npublic interface AdminComponent {\r\n  void login(@Input(name = &quot;loginString&quot;) String loginString);\r\n}\r\n```\r\nBut the test fails with an error like this:\r\n```Method &lt; com.some.package.AdminComponent.login(java.lang.String)&gt; does not have raw parameter types all elements annotated with @Input in (AdminComponent.java:0)```\r\n\r\nHow should the rule look like to work properly in this case?\r\n\r\n\r\nP.S. After doing some debug, it turned out that _haveRawParameterTypes_ checks if parameter types (classes) are annotated, not the method parameters itself. So it looks at _String_ class and finds out, that it is not annotated with _@Input_. Good to know, but it doesn&#39;t solve the problem.","title":"ArchUnit - ensure method parameters are annotated","body":"<p>I'm trying to write an ArchUnit test rule, which should ensure that interfaces annotated with <code>@ComponentInterface</code> annotation have method parameters annotated with <code>@Input</code> annotation.\nLike this:</p>\n<pre><code>ArchRule rule =\n        methods()\n            .that()\n            .areDeclaredInClassesThat()\n            .areInterfaces()\n            .and()\n            .areDeclaredInClassesThat()\n            .areAnnotatedWith(ComponentInterface.class)\n            .should()\n            .haveRawParameterTypes(\n                allElements(CanBeAnnotated.Predicates.annotatedWith(Input.class)));\n</code></pre>\n<p>The interface looks like this:</p>\n<pre><code>@ComponentInterface\npublic interface AdminComponent {\n  void login(@Input(name = &quot;loginString&quot;) String loginString);\n}\n</code></pre>\n<p>But the test fails with an error like this:\n<code>Method &lt; com.some.package.AdminComponent.login(java.lang.String)&gt; does not have raw parameter types all elements annotated with @Input in (AdminComponent.java:0)</code></p>\n<p>How should the rule look like to work properly in this case?</p>\n<p>P.S. After doing some debug, it turned out that <em>haveRawParameterTypes</em> checks if parameter types (classes) are annotated, not the method parameters itself. So it looks at <em>String</em> class and finds out, that it is not annotated with <em>@Input</em>. Good to know, but it doesn't solve the problem.</p>\n"},{"tags":["java","android","image","android-studio","sharing"],"comments":[{"owner":{"account_id":17869190,"reputation":1204,"user_id":12980866,"display_name":"Shreemaan Abhishek"},"score":0,"creation_date":1596106978,"post_id":62838312,"comment_id":111707947,"body_markdown":"could you please add the stacktrace from the logcat so I can know where is the error coming from?","body":"could you please add the stacktrace from the logcat so I can know where is the error coming from?"},{"owner":{"account_id":17869190,"reputation":1204,"user_id":12980866,"display_name":"Shreemaan Abhishek"},"score":0,"creation_date":1596107056,"post_id":62838312,"comment_id":111707978,"body_markdown":"and are you getting the null pointer exception when click some button?","body":"and are you getting the null pointer exception when click some button?"},{"owner":{"account_id":17673717,"reputation":75,"user_id":12829226,"display_name":"life4"},"score":0,"creation_date":1596123246,"post_id":62838312,"comment_id":111716854,"body_markdown":"i fixed with recyclerview","body":"i fixed with recyclerview"},{"owner":{"account_id":17869190,"reputation":1204,"user_id":12980866,"display_name":"Shreemaan Abhishek"},"score":0,"creation_date":1596160985,"post_id":62838312,"comment_id":111730443,"body_markdown":"Then please share your answer and accept your own answer as the correct one :)\\","body":"Then please share your answer and accept your own answer as the correct one :)\\"}],"answers":[{"tags":[],"owner":{"account_id":17869190,"reputation":1204,"user_id":12980866,"display_name":"Shreemaan Abhishek"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1596100367,"creation_date":1594429686,"answer_id":62844139,"question_id":62838312,"body_markdown":"Call startActivity inside onItemClickListener. You will have to insert the logic that gets the location of Image inside the clickListener, attach that path as extra to the intent.\r\n","title":"Giving share option to the grid images","body":"<p>Call startActivity inside onItemClickListener. You will have to insert the logic that gets the location of Image inside the clickListener, attach that path as extra to the intent.</p>\n"}],"owner":{"account_id":17673717,"reputation":75,"user_id":12829226,"display_name":"life4"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657651041,"creation_date":1594397613,"question_id":62838312,"body_markdown":"i am creating an application which i want share images to any social platform. i used a grid view successfully . i want to add a social share function to the applications which get the image location and share to the social platform. i tried this method from https://stackoverflow.com/a/21848647/4294399\r\n  \r\n\r\n    BitmapDrawable bm = (BitmapDrawable) yourImageView.getDrawable();\r\n    Bitmap mysharebmp = bm.getBitmap();\r\n     String path = Images.Media.insertImage(getContentResolver(),\r\n                    mysharebmp, &quot;MyImage&quot;, null);\r\n    Uri uri = Uri.parse(path);\r\n    Intent sharingIntent = new Intent(Intent.ACTION_SEND);\r\n    sharingIntent.setType(&quot;image/png&quot;);\r\n    sharingIntent.putExtra(Intent.EXTRA_STREAM, uri);\r\n    startActivity(Intent.createChooser(sharingIntent,\r\n                    &quot;Share image using&quot;));\r\n    \r\nit&#39;s giving fatal error how can i share image when the click from gridView ? I&#39;m getting \r\n\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;android.graphics.drawable.Drawable android.widget.ImageView.getDrawable()&#39; on a null object reference`` i&#39;m getting this error\r\n\r\n\r\n\r\n        gridView = (GridView) findViewById(R.id.gridView);\r\n        list = new ArrayList&lt;&gt;();\r\n        adapter = new FoodListAdapter(this, R.layout.food_items, list);\r\n        gridView.setAdapter(adapter);\r\n\r\n        // get all data from sqlite\r\n        Cursor cursor = MainActivity.sqLiteHelper.getData(&quot;SELECT * FROM FOOD&quot;);\r\n        list.clear();\r\n        while (cursor.moveToNext()) {\r\n            int id = cursor.getInt(0);\r\n            String name = cursor.getString(1);\r\n            String price = cursor.getString(2);\r\n            byte[] image = cursor.getBlob(3);\r\n\r\n            list.add(new Food(name, price, image, id));\r\n        }\r\n        adapter.notifyDataSetChanged();\r\n        gridView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                    \r\n            }\r\n        });\r\n        @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n\r\n        if(requestCode == 888){\r\n            if(grantResults.length &gt;0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\r\n                Intent intent = new Intent(Intent.ACTION_PICK);\r\n                intent.setType(&quot;image/*&quot;);\r\n                startActivityForResult(intent, 888);\r\n            }\r\n            else {\r\n                Toast.makeText(getApplicationContext(), &quot;You don&#39;t have permission to access file location!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            return;\r\n        }\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n\r\n        if(requestCode == 888 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null){\r\n            Uri uri = data.getData();\r\n            try {\r\n                InputStream inputStream = getContentResolver().openInputStream(uri);\r\n                Bitmap bitmap = BitmapFactory.decodeStream(inputStream);\r\n                imageViewFood.setImageBitmap(bitmap);\r\n\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n","title":"Giving share option to the grid images","body":"<p>i am creating an application which i want share images to any social platform. i used a grid view successfully . i want to add a social share function to the applications which get the image location and share to the social platform. i tried this method from <a href=\"https://stackoverflow.com/a/21848647/4294399\">https://stackoverflow.com/a/21848647/4294399</a></p>\n<pre><code>BitmapDrawable bm = (BitmapDrawable) yourImageView.getDrawable();\nBitmap mysharebmp = bm.getBitmap();\n String path = Images.Media.insertImage(getContentResolver(),\n                mysharebmp, &quot;MyImage&quot;, null);\nUri uri = Uri.parse(path);\nIntent sharingIntent = new Intent(Intent.ACTION_SEND);\nsharingIntent.setType(&quot;image/png&quot;);\nsharingIntent.putExtra(Intent.EXTRA_STREAM, uri);\nstartActivity(Intent.createChooser(sharingIntent,\n                &quot;Share image using&quot;));\n</code></pre>\n<p>it's giving fatal error how can i share image when the click from gridView ? I'm getting</p>\n<p>java.lang.NullPointerException: Attempt to invoke virtual method 'android.graphics.drawable.Drawable android.widget.ImageView.getDrawable()' on a null object reference`` i'm getting this error</p>\n<pre><code>    gridView = (GridView) findViewById(R.id.gridView);\n    list = new ArrayList&lt;&gt;();\n    adapter = new FoodListAdapter(this, R.layout.food_items, list);\n    gridView.setAdapter(adapter);\n\n    // get all data from sqlite\n    Cursor cursor = MainActivity.sqLiteHelper.getData(&quot;SELECT * FROM FOOD&quot;);\n    list.clear();\n    while (cursor.moveToNext()) {\n        int id = cursor.getInt(0);\n        String name = cursor.getString(1);\n        String price = cursor.getString(2);\n        byte[] image = cursor.getBlob(3);\n\n        list.add(new Food(name, price, image, id));\n    }\n    adapter.notifyDataSetChanged();\n    gridView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                \n        }\n    });\n    @Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n\n    if(requestCode == 888){\n        if(grantResults.length &gt;0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\n            Intent intent = new Intent(Intent.ACTION_PICK);\n            intent.setType(&quot;image/*&quot;);\n            startActivityForResult(intent, 888);\n        }\n        else {\n            Toast.makeText(getApplicationContext(), &quot;You don't have permission to access file location!&quot;, Toast.LENGTH_SHORT).show();\n        }\n        return;\n    }\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n\n    if(requestCode == 888 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null){\n        Uri uri = data.getData();\n        try {\n            InputStream inputStream = getContentResolver().openInputStream(uri);\n            Bitmap bitmap = BitmapFactory.decodeStream(inputStream);\n            imageViewFood.setImageBitmap(bitmap);\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n\n    super.onActivityResult(requestCode, resultCode, data);\n}\n</code></pre>\n"},{"tags":["java","android","react-native","kotlin","momentjs"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1657648532,"post_id":72947719,"comment_id":128859088,"body_markdown":"*I have tried every possible solution on stactoverflow but the exception occur while parsing the date string.* It should not (of course). Please show us the code you have tried and paste the exact exception message you are getting, and I am sure we can help you out. You may also link to the answers where you got that code from.","body":"<i>I have tried every possible solution on stactoverflow but the exception occur while parsing the date string.</i> It should not (of course). Please show us the code you have tried and paste the exact exception message you are getting, and I am sure we can help you out. You may also link to the answers where you got that code from."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1657650535,"post_id":72947719,"comment_id":128859663,"body_markdown":"`Jul-07-2022 01:47 pm` looks a bit off standard to me. Unless you have very specific requirements, you should prefer giving your user Java’s built-in localized format. For example (in Java) `LocalDateTime.parse(&quot;2022-07-07T08:17:12.117000&quot;) .atOffset(ZoneOffset.UTC) .atZoneSameInstant(ZoneId.of(&quot;Asia/Kolkata&quot;)) .format(DateTimeFormatter.ofLocalizedDateTime(FormatStyle.MEDIUM, FormatStyle.SHORT).withLocale(Locale.forLanguageTag(&quot;en-IN&quot;)))` gives `07-Jul-2022, 1:47 pm`. It’s pretty close, isn’t it?","body":"<code>Jul-07-2022 01:47 pm</code> looks a bit off standard to me. Unless you have very specific requirements, you should prefer giving your user Java’s built-in localized format. For example (in Java) <code>LocalDateTime.parse(&quot;2022-07-07T08:17:12.117000&quot;) .atOffset(ZoneOffset.UTC) .atZoneSameInstant(ZoneId.of(&quot;Asia&#47;Kolkata&quot;)) .format(DateTimeFormatter.ofLocalizedDateTime(FormatStyle.ME&zwnj;&#8203;DIUM, FormatStyle.SHORT).withLocale(Locale.forLanguageTag(&quot;en-IN&quot;)&zwnj;&#8203;))</code> gives <code>07-Jul-2022, 1:47 pm</code>. It’s pretty close, isn’t it?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1657650679,"post_id":72947719,"comment_id":128859717,"body_markdown":"The bonus is that when you leave out the call to `withLocale()`, the user’s locale will be used, and audiences with different cultural backgrounds will all be happy.","body":"The bonus is that when you leave out the call to <code>withLocale()</code>, the user’s locale will be used, and audiences with different cultural backgrounds will all be happy."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1657650979,"post_id":72947719,"comment_id":128859815,"body_markdown":"More about parsing your string (without getting any exception) in [this answer](https://stackoverflow.com/a/67935390/5772882) and [this one](https://stackoverflow.com/a/54023929/5772882).","body":"More about parsing your string (without getting any exception) in <a href=\"https://stackoverflow.com/a/67935390/5772882\">this answer</a> and <a href=\"https://stackoverflow.com/a/54023929/5772882\">this one</a>."}],"answers":[{"tags":[],"owner":{"account_id":19707612,"reputation":93,"user_id":14428899,"display_name":"Abhi"},"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1657606049,"creation_date":1657606049,"answer_id":72947720,"question_id":72947719,"body_markdown":"In JAVA \r\n```\r\npublic String TimeConverter(String date) throws ParseException {\r\n        String dateStr = date;\r\n        try {\r\n            @SuppressLint(&quot;SimpleDateFormat&quot;) SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\n            formatter.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n            Date value = formatter.parse(dateStr);\r\n            @SuppressLint(&quot;SimpleDateFormat&quot;) SimpleDateFormat dateformatter = new SimpleDateFormat(&quot;MMM-dd-yyyy hh:mm a&quot;);\r\n            dateformatter.setTimeZone(TimeZone.getDefault());\r\n            dateStr = dateformatter.format(value);\r\n        } catch (Exception e) {\r\n            dateStr = &quot;00-00-0000 00:00&quot;;\r\n        }\r\n        return dateStr;\r\n    }\r\n\r\n```\r\n\r\nIn Kotlin\r\n```\r\nfun main() {\r\n    var newdate = &quot;2022-07-07T08:17:12.117000&quot;;\r\n    try {\r\n\r\n        val formatter = SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;)\r\n\r\n        formatter.timeZone = TimeZone.getTimeZone(&quot;UTC&quot;)\r\n        val value = formatter.parse(newdate.toString())\r\n        val dateFormatter = SimpleDateFormat(&quot;MMM-dd-yyyy hh:mm a&quot;) //this format changeable\r\n        dateFormatter.timeZone = TimeZone.getDefault()\r\n        newdate = dateFormatter.format(value)\r\n        //Log.d(&quot;ourDate&quot;, ourDate);\r\n    } catch (e: Exception) {\r\n        newdate = &quot;00-00-0000 00:00&quot;\r\n    }\r\n    println(newdate)\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n*May this help!\r\nI have been keep digging for this that&#39;s why i want to share so that it can help someone like me.*\r\n**Just remember to change the simple date format pattern according to your date pattern.**","title":"Convert UTC date string like &quot;2022-07-07T08:17:12.117000&quot; to your local Timezone in Kotlin and Java. Alternative to Moment library available in react","body":"<p>In JAVA</p>\n<pre><code>public String TimeConverter(String date) throws ParseException {\n        String dateStr = date;\n        try {\n            @SuppressLint(&quot;SimpleDateFormat&quot;) SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;);\n            formatter.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\n            Date value = formatter.parse(dateStr);\n            @SuppressLint(&quot;SimpleDateFormat&quot;) SimpleDateFormat dateformatter = new SimpleDateFormat(&quot;MMM-dd-yyyy hh:mm a&quot;);\n            dateformatter.setTimeZone(TimeZone.getDefault());\n            dateStr = dateformatter.format(value);\n        } catch (Exception e) {\n            dateStr = &quot;00-00-0000 00:00&quot;;\n        }\n        return dateStr;\n    }\n\n</code></pre>\n<p>In Kotlin</p>\n<pre><code>fun main() {\n    var newdate = &quot;2022-07-07T08:17:12.117000&quot;;\n    try {\n\n        val formatter = SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;)\n\n        formatter.timeZone = TimeZone.getTimeZone(&quot;UTC&quot;)\n        val value = formatter.parse(newdate.toString())\n        val dateFormatter = SimpleDateFormat(&quot;MMM-dd-yyyy hh:mm a&quot;) //this format changeable\n        dateFormatter.timeZone = TimeZone.getDefault()\n        newdate = dateFormatter.format(value)\n        //Log.d(&quot;ourDate&quot;, ourDate);\n    } catch (e: Exception) {\n        newdate = &quot;00-00-0000 00:00&quot;\n    }\n    println(newdate)\n}\n\n\n</code></pre>\n<p><em>May this help!\nI have been keep digging for this that's why i want to share so that it can help someone like me.</em>\n<strong>Just remember to change the simple date format pattern according to your date pattern.</strong></p>\n"},{"tags":[],"owner":{"account_id":23040778,"reputation":780,"user_id":17158981,"display_name":"Ionut"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657650744,"creation_date":1657610064,"answer_id":72948384,"question_id":72947719,"body_markdown":"In Kotlin, using the new `Time` library this is how i would do it.\r\n\r\nAlso don&#39;t forget to change the pattern strings to match your specific case. In your case the string pattern should be `val dateTimePattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS&quot;`, but please check other approaches if it does not match.\r\n \r\n\r\n    fun formatDateTime(dateString: String): String {\r\n        //change this to match your specific string\r\n        val dateTimePattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;\r\n    \r\n        val formatter = DateTimeFormatter.ofPattern(dateTimePattern).withZone(\r\n            ZoneOffset.UTC\r\n        )\r\n        val timeFormatter = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;)\r\n        val dateFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)\r\n        // \\u00A0 is used to prevent the view from breaking line between &quot;10:10&quot; and &quot;PM&quot;\r\n        val dateTime =\r\n            ZonedDateTime.parse(dateString, formatter).withZoneSameInstant(ZoneId.systemDefault())\r\n        val eventDateString = dateTime.format(dateFormatter)\r\n    \r\n        val formattedTime = dateTime.format(timeFormatter)\r\n            .replace(&quot; &quot;, &quot;\\u00A0&quot;)\r\n    \r\n        return &quot;$eventDateString $formattedTime&quot;\r\n    }\r\n\r\nThis [question][1] is a more complete discussion around this topic for anyone interested.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8405087/what-is-this-date-format-2011-08-12t201746-384z","title":"Convert UTC date string like &quot;2022-07-07T08:17:12.117000&quot; to your local Timezone in Kotlin and Java. Alternative to Moment library available in react","body":"<p>In Kotlin, using the new <code>Time</code> library this is how i would do it.</p>\n<p>Also don't forget to change the pattern strings to match your specific case. In your case the string pattern should be <code>val dateTimePattern = &quot;yyyy-MM-dd'T'HH:mm:ss.SSSSSS&quot;</code>, but please check other approaches if it does not match.</p>\n<pre><code>fun formatDateTime(dateString: String): String {\n    //change this to match your specific string\n    val dateTimePattern = &quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;\n\n    val formatter = DateTimeFormatter.ofPattern(dateTimePattern).withZone(\n        ZoneOffset.UTC\n    )\n    val timeFormatter = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;)\n    val dateFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)\n    // \\u00A0 is used to prevent the view from breaking line between &quot;10:10&quot; and &quot;PM&quot;\n    val dateTime =\n        ZonedDateTime.parse(dateString, formatter).withZoneSameInstant(ZoneId.systemDefault())\n    val eventDateString = dateTime.format(dateFormatter)\n\n    val formattedTime = dateTime.format(timeFormatter)\n        .replace(&quot; &quot;, &quot;\\u00A0&quot;)\n\n    return &quot;$eventDateString $formattedTime&quot;\n}\n</code></pre>\n<p>This <a href=\"https://stackoverflow.com/questions/8405087/what-is-this-date-format-2011-08-12t201746-384z\">question</a> is a more complete discussion around this topic for anyone interested.</p>\n"}],"owner":{"account_id":19707612,"reputation":93,"user_id":14428899,"display_name":"Abhi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2974,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":72947720,"answer_count":2,"score":0,"last_activity_date":1657650744,"creation_date":1657606049,"question_id":72947719,"body_markdown":"I have used the moment library to convert the date string in my local timezone in react but i have to implement the same in android but the problem is moment library is not available for java/kotlin.\r\nI have tried every possible solution on stactoverflow but the exception occur while parsing the date string.\r\nFormat of the string is:\r\n`2022-07-07T08:17:12.117000\r\n`\r\nand want the output:\r\n\r\n`\r\nJul-07-2022 01:47 pm\r\n`\r\n\r\n","title":"Convert UTC date string like &quot;2022-07-07T08:17:12.117000&quot; to your local Timezone in Kotlin and Java. Alternative to Moment library available in react","body":"<p>I have used the moment library to convert the date string in my local timezone in react but i have to implement the same in android but the problem is moment library is not available for java/kotlin.\nI have tried every possible solution on stactoverflow but the exception occur while parsing the date string.\nFormat of the string is:\n<code>2022-07-07T08:17:12.117000 </code>\nand want the output:</p>\n<p><code>Jul-07-2022 01:47 pm</code></p>\n"},{"tags":["java","amazon-s3","aws-lambda","aws-java-sdk","aws-event-bridge"],"answers":[{"tags":[],"owner":{"account_id":1048512,"reputation":1671,"user_id":1052979,"accept_rate":43,"display_name":"StFS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648121324,"creation_date":1648121324,"answer_id":71601671,"question_id":71576949,"body_markdown":"I found this issue:\r\nhttps://github.com/aws/aws-lambda-java-libs/issues/109\r\n\r\nSo it seems clear to me that the Event Bridge events have a format of their own which is not currently supported by the Java SDK event library but it&#39;s being worked on.\r\n\r\nHowever, the Event Bridge event is defining the top level elements in the JSON message I&#39;m receiving, but I&#39;m still a bit unclear on what the format inside the &quot;details&quot; element is for my S3 ObjectCreated event is and whether there exists some class in the Java SDK somewhere that I can use for that.","title":"Map EventBridge JSON for an S3 event to a Java object","body":"<p>I found this issue:\n<a href=\"https://github.com/aws/aws-lambda-java-libs/issues/109\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-lambda-java-libs/issues/109</a></p>\n<p>So it seems clear to me that the Event Bridge events have a format of their own which is not currently supported by the Java SDK event library but it's being worked on.</p>\n<p>However, the Event Bridge event is defining the top level elements in the JSON message I'm receiving, but I'm still a bit unclear on what the format inside the &quot;details&quot; element is for my S3 ObjectCreated event is and whether there exists some class in the Java SDK somewhere that I can use for that.</p>\n"},{"tags":[],"owner":{"account_id":18366375,"reputation":1,"user_id":13377316,"display_name":"Harpreet Siddhu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657650590,"creation_date":1657650590,"answer_id":72956878,"question_id":71576949,"body_markdown":"Check out this post - \r\n[Link][1]\r\n\r\n  [1]: https://stackoverflow.com/questions/309424/how-do-i-read-convert-an-inputstream-into-a-string-in-java?rq=1\r\n\r\n        Configuration conf =\r\n                Configuration\r\n                        .defaultConfiguration()\r\n                        .setOptions(Option.DEFAULT_PATH_LEAF_TO_NULL, Option.SUPPRESS_EXCEPTIONS);\r\n        DocumentContext document = JsonPath.using(conf).parse(input);\r\n        String bucketName  = document.read(&quot;$.detail.bucket.name&quot;);\r\n        String objectKey = document.read(&quot;detail.object.key&quot;);\r\n        s3BucketInfo.put(CLAIMS_S3_BUCKET_NAME, bucketName);\r\n        s3BucketInfo.put(CLAIMS_S3_SOURCE_OBJECT_KEY, objectKey);","title":"Map EventBridge JSON for an S3 event to a Java object","body":"<p>Check out this post -\n<a href=\"https://stackoverflow.com/questions/309424/how-do-i-read-convert-an-inputstream-into-a-string-in-java?rq=1\">Link</a></p>\n<pre><code>    Configuration conf =\n            Configuration\n                    .defaultConfiguration()\n                    .setOptions(Option.DEFAULT_PATH_LEAF_TO_NULL, Option.SUPPRESS_EXCEPTIONS);\n    DocumentContext document = JsonPath.using(conf).parse(input);\n    String bucketName  = document.read(&quot;$.detail.bucket.name&quot;);\n    String objectKey = document.read(&quot;detail.object.key&quot;);\n    s3BucketInfo.put(CLAIMS_S3_BUCKET_NAME, bucketName);\n    s3BucketInfo.put(CLAIMS_S3_SOURCE_OBJECT_KEY, objectKey);\n</code></pre>\n"}],"owner":{"account_id":1048512,"reputation":1671,"user_id":1052979,"accept_rate":43,"display_name":"StFS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1774,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1657650590,"creation_date":1647972385,"question_id":71576949,"body_markdown":"I currently have an S3 bucket configured to enable EventBridge events and I have an EventBridge rule that triggers a step function that in turn triggers a lambda.\r\n\r\nI want to map the input I&#39;m getting in the lambda to one of the event classes in the AWS Java SDK (com.amazonaws:aws-lambda-java-events) but I&#39;m not having much luck.\r\n\r\nHere is the signature of my lambda in my Java code:\r\n\r\n```java\r\npublic class DeviceAssociationLambda implements RequestHandler&lt;S3Event, OutputObject&gt; {\r\n    @Override\r\n    public OutputObject handleRequest(S3Event input, Context context) {\r\n```\r\n\r\nWhen my step function invokes this lambda, it&#39;s sending a payload that looks like this:\r\n\r\n```json\r\n{\r\n  &quot;version&quot;: &quot;0&quot;,\r\n  &quot;id&quot;: &quot;e31fcb40-aa08-11ec-b909-0242ac120002&quot;,\r\n  &quot;detail-type&quot;: &quot;Object Created&quot;,\r\n  &quot;source&quot;: &quot;aws.s3&quot;,\r\n  &quot;account&quot;: &quot;123456789098&quot;,\r\n  &quot;time&quot;: &quot;2022-03-22T17:07:44Z&quot;,\r\n  &quot;region&quot;: &quot;eu-central-1&quot;,\r\n  &quot;resources&quot;: [\r\n    &quot;arn:aws:s3:::my-test-bucket&quot;\r\n  ],\r\n  &quot;detail&quot;: {\r\n    &quot;version&quot;: &quot;0&quot;,\r\n    &quot;bucket&quot;: {\r\n      &quot;name&quot;: &quot;my-test-bucket&quot;\r\n    },\r\n    &quot;object&quot;: {\r\n      &quot;key&quot;: &quot;foo/bar.json&quot;,\r\n      &quot;size&quot;: 685,\r\n      &quot;etag&quot;: &quot;af87c63487cc2ff6323e67ddd234f44&quot;,\r\n      &quot;sequencer&quot;: &quot;00827F2232287F2343&quot;\r\n    },\r\n    &quot;request-id&quot;: &quot;LK63256WW7E66YCC4&quot;,\r\n    &quot;requester&quot;: &quot;123456789098&quot;,\r\n    &quot;source-ip-address&quot;: &quot;123.123.123.123&quot;,\r\n    &quot;reason&quot;: &quot;PutObject&quot;\r\n  }\r\n}\r\n```\r\n\r\nAfter trying to debug this, I see that the S3Event parameter into my lambda is always empty. This is probably because it is expecting the input JSON in some different format (probably this: https://docs.aws.amazon.com/AmazonS3/latest/userguide/notification-content-structure.html)\r\n\r\nSo, my question is, is there any standard event object in the Java SDK that would handle the JSON I&#39;m getting from EventBridge? I can, of course, manipulate the JSON a bit in the step function, such as limiting the lambda input to the &quot;detail&quot; block if that helps.\r\n\r\nOr will I just have to create my own input class that maps to this JSON structure that I&#39;m getting as input?","title":"Map EventBridge JSON for an S3 event to a Java object","body":"<p>I currently have an S3 bucket configured to enable EventBridge events and I have an EventBridge rule that triggers a step function that in turn triggers a lambda.</p>\n<p>I want to map the input I'm getting in the lambda to one of the event classes in the AWS Java SDK (com.amazonaws:aws-lambda-java-events) but I'm not having much luck.</p>\n<p>Here is the signature of my lambda in my Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DeviceAssociationLambda implements RequestHandler&lt;S3Event, OutputObject&gt; {\n    @Override\n    public OutputObject handleRequest(S3Event input, Context context) {\n</code></pre>\n<p>When my step function invokes this lambda, it's sending a payload that looks like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;version&quot;: &quot;0&quot;,\n  &quot;id&quot;: &quot;e31fcb40-aa08-11ec-b909-0242ac120002&quot;,\n  &quot;detail-type&quot;: &quot;Object Created&quot;,\n  &quot;source&quot;: &quot;aws.s3&quot;,\n  &quot;account&quot;: &quot;123456789098&quot;,\n  &quot;time&quot;: &quot;2022-03-22T17:07:44Z&quot;,\n  &quot;region&quot;: &quot;eu-central-1&quot;,\n  &quot;resources&quot;: [\n    &quot;arn:aws:s3:::my-test-bucket&quot;\n  ],\n  &quot;detail&quot;: {\n    &quot;version&quot;: &quot;0&quot;,\n    &quot;bucket&quot;: {\n      &quot;name&quot;: &quot;my-test-bucket&quot;\n    },\n    &quot;object&quot;: {\n      &quot;key&quot;: &quot;foo/bar.json&quot;,\n      &quot;size&quot;: 685,\n      &quot;etag&quot;: &quot;af87c63487cc2ff6323e67ddd234f44&quot;,\n      &quot;sequencer&quot;: &quot;00827F2232287F2343&quot;\n    },\n    &quot;request-id&quot;: &quot;LK63256WW7E66YCC4&quot;,\n    &quot;requester&quot;: &quot;123456789098&quot;,\n    &quot;source-ip-address&quot;: &quot;123.123.123.123&quot;,\n    &quot;reason&quot;: &quot;PutObject&quot;\n  }\n}\n</code></pre>\n<p>After trying to debug this, I see that the S3Event parameter into my lambda is always empty. This is probably because it is expecting the input JSON in some different format (probably this: <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/notification-content-structure.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/userguide/notification-content-structure.html</a>)</p>\n<p>So, my question is, is there any standard event object in the Java SDK that would handle the JSON I'm getting from EventBridge? I can, of course, manipulate the JSON a bit in the step function, such as limiting the lambda input to the &quot;detail&quot; block if that helps.</p>\n<p>Or will I just have to create my own input class that maps to this JSON structure that I'm getting as input?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"score":0,"creation_date":1657649762,"post_id":72956713,"comment_id":128859449,"body_markdown":"Please add your code as text and not as image","body":"Please add your code as text and not as image"}],"answers":[{"tags":[],"owner":{"account_id":25792782,"reputation":11,"user_id":19536572,"display_name":"Ethan Rajkumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657650135,"creation_date":1657650047,"answer_id":72956787,"question_id":72956713,"body_markdown":"This is because the line of code that displays the question (line 13) uses the `System.out.println()` function, which, in addition to the text displayed, appends a newline character. This sends any further text onto the next line in the console. Replacing the function with the `System.out.print()` function removes this behavior.","title":"The insertion point is skipping a line","body":"<p>This is because the line of code that displays the question (line 13) uses the <code>System.out.println()</code> function, which, in addition to the text displayed, appends a newline character. This sends any further text onto the next line in the console. Replacing the function with the <code>System.out.print()</code> function removes this behavior.</p>\n"},{"tags":[],"owner":{"account_id":18546973,"reputation":43,"user_id":13514082,"display_name":"Nemika Hajbour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657650132,"creation_date":1657650132,"answer_id":72956801,"question_id":72956713,"body_markdown":"That&#39;s because you&#39;re using `System.out.println` when asking the user if they enjoy life.\r\n\r\nSimply change the function to `System.out.print` like the rest so you can input your answer in the same line.\r\n\r\n```java\r\nSystem.out.print(name + &quot; you are &quot; + age + &quot;?&quot; + &quot; Do you enjoy life: &quot; );\r\n```","title":"The insertion point is skipping a line","body":"<p>That's because you're using <code>System.out.println</code> when asking the user if they enjoy life.</p>\n<p>Simply change the function to <code>System.out.print</code> like the rest so you can input your answer in the same line.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.print(name + &quot; you are &quot; + age + &quot;?&quot; + &quot; Do you enjoy life: &quot; );\n</code></pre>\n"}],"owner":{"account_id":25762941,"reputation":1,"user_id":19513540,"display_name":"kollet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1657650135,"creation_date":1657649623,"question_id":72956713,"body_markdown":"This is my first week of coding and I am unsure of why when I go to ask &quot;Do you enjoy life&quot;, it forces me to type the answer on the next line.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class messing {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner keyboardInput = new Scanner(System.in);\r\n        System.out.print(&quot;Enter Your Name: &quot;);\r\n        String name = keyboardInput.nextLine();\r\n\r\n        System.out.print(&quot;How old are you: &quot;);\r\n        int age = keyboardInput.nextInt();\r\n        System.out.println(name + &quot; you are &quot; + age + &quot;?&quot; + &quot; Do you enjoy life: &quot; );\r\n\r\n        String enjoy = keyboardInput.next();\r\n        System.out.print(enjoy + &quot;?&quot;);\r\n   }\r\n}\r\n```\r\n\r\n","title":"The insertion point is skipping a line","body":"<p>This is my first week of coding and I am unsure of why when I go to ask &quot;Do you enjoy life&quot;, it forces me to type the answer on the next line.</p>\n<pre><code>import java.util.Scanner;\n\npublic class messing {\n\n    public static void main(String[] args) {\n\n        Scanner keyboardInput = new Scanner(System.in);\n        System.out.print(&quot;Enter Your Name: &quot;);\n        String name = keyboardInput.nextLine();\n\n        System.out.print(&quot;How old are you: &quot;);\n        int age = keyboardInput.nextInt();\n        System.out.println(name + &quot; you are &quot; + age + &quot;?&quot; + &quot; Do you enjoy life: &quot; );\n\n        String enjoy = keyboardInput.next();\n        System.out.print(enjoy + &quot;?&quot;);\n   }\n}\n</code></pre>\n"},{"tags":["java","activemq","messagebroker","broker"],"answers":[{"tags":[],"owner":{"account_id":8072204,"reputation":4156,"user_id":6084589,"display_name":"Matt Pavlovich"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1475852155,"creation_date":1475852155,"answer_id":39920227,"question_id":39915818,"body_markdown":"Those EOFExceptions indicate a client connects to the broker, then disconnects without cleanly closing the connection. Typical culprits include tcp/ip monitoring agents and incorrectly coded clients.","title":"WARNING as java.io.EOFException when ActiveMQ starts","body":"<p>Those EOFExceptions indicate a client connects to the broker, then disconnects without cleanly closing the connection. Typical culprits include tcp/ip monitoring agents and incorrectly coded clients.</p>\n"},{"tags":[],"owner":{"account_id":954184,"reputation":5177,"user_id":979772,"accept_rate":73,"display_name":"divinedragon"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1657650012,"creation_date":1476430251,"answer_id":40037445,"question_id":39915818,"body_markdown":"This `WARNING` comes because the way [`networkConnector`][1] works and configured. I had posted this on the [ActiveMQ users mailing list][2].\r\n\r\nWhen `networkConnector` is used ActiveMQ tries to connect to the broker configured. In my case I was trying to self-connect to the broker and that is why it was rejecting the connection. The same was pointed by Tim in the community.\r\n\r\n&gt; I&#39;ve never tried configuring a broker with a static networkConnector connected to itself (why would I, it&#39;s a useless configuration), but it wouldn&#39;t surprise me if the broker rejected that self-connection, which could result in the EOFException you saw.  It&#39;s also possible that there&#39;s something wrong with your SSL configuration as you suggested; there&#39;s no good way in a mailing list discussion to check whether your truststore trusts your keystore and the certs are being presented properly since that&#39;s all about the binary content and you shouldn&#39;t be sharing that publicly, but you could test the SSL configuration by setting up two brokers (in a test environment) that each have their JMS_X_SITE_CSV_URL pointed at each other.  If that configuration gives you EOFExceptions, then switch to using the tcp transport and see what happens.  If you get errors with the ssl transport but not the tcp one, there&#39;s a good chance it&#39;s something wrong with your keys.\r\n&gt; \r\n&gt; As far as the current configuration (where you have a broker whose only networkConnection is a static:ssl: one to itself), it&#39;s not a useful configuration (having a networkConnector to yourself serves no purpose), and you proved early on in this discussion that removing it removes the WARN log line that you&#39;re concerned about.  So I disagree with your statement that &quot;I feel the configuration still seems fine.&quot;  Either switch to something that serves the purpose you said you&#39;re trying to achieve (like the discovery: transport instead of the static: transport, or like listing your cross-site servers if you&#39;re going to continue using the static: transport) or take it out and eliminate the WARN line.\r\n\r\nSo, `networkConnector` is essentially of no use if it is a single broker system. It makes more sense in multi-broker deployments and then all the brokers are configured, except the self on each broker separately.\r\n\r\nTo still make the `networkConnector` configuration to work in single broker deployment, the value I had to set was - `url=&quot;static://(ssl://divinedragonbox:7031)...&quot;`(Hostname instead of IP Address or `localhost`). That gets rid of the `WARNING` which comes.\r\n\r\n\r\n  [1]: http://activemq.apache.org/networks-of-brokers.html\r\n  [2]: https://lists.apache.org/thread/npcjk37jk7of8xg92xcc869skrw3tj3g","title":"WARNING as java.io.EOFException when ActiveMQ starts","body":"<p>This <code>WARNING</code> comes because the way <a href=\"http://activemq.apache.org/networks-of-brokers.html\" rel=\"nofollow noreferrer\"><code>networkConnector</code></a> works and configured. I had posted this on the <a href=\"https://lists.apache.org/thread/npcjk37jk7of8xg92xcc869skrw3tj3g\" rel=\"nofollow noreferrer\">ActiveMQ users mailing list</a>.</p>\n<p>When <code>networkConnector</code> is used ActiveMQ tries to connect to the broker configured. In my case I was trying to self-connect to the broker and that is why it was rejecting the connection. The same was pointed by Tim in the community.</p>\n<blockquote>\n<p>I've never tried configuring a broker with a static networkConnector connected to itself (why would I, it's a useless configuration), but it wouldn't surprise me if the broker rejected that self-connection, which could result in the EOFException you saw.  It's also possible that there's something wrong with your SSL configuration as you suggested; there's no good way in a mailing list discussion to check whether your truststore trusts your keystore and the certs are being presented properly since that's all about the binary content and you shouldn't be sharing that publicly, but you could test the SSL configuration by setting up two brokers (in a test environment) that each have their JMS_X_SITE_CSV_URL pointed at each other.  If that configuration gives you EOFExceptions, then switch to using the tcp transport and see what happens.  If you get errors with the ssl transport but not the tcp one, there's a good chance it's something wrong with your keys.</p>\n<p>As far as the current configuration (where you have a broker whose only networkConnection is a static:ssl: one to itself), it's not a useful configuration (having a networkConnector to yourself serves no purpose), and you proved early on in this discussion that removing it removes the WARN log line that you're concerned about.  So I disagree with your statement that &quot;I feel the configuration still seems fine.&quot;  Either switch to something that serves the purpose you said you're trying to achieve (like the discovery: transport instead of the static: transport, or like listing your cross-site servers if you're going to continue using the static: transport) or take it out and eliminate the WARN line.</p>\n</blockquote>\n<p>So, <code>networkConnector</code> is essentially of no use if it is a single broker system. It makes more sense in multi-broker deployments and then all the brokers are configured, except the self on each broker separately.</p>\n<p>To still make the <code>networkConnector</code> configuration to work in single broker deployment, the value I had to set was - <code>url=&quot;static://(ssl://divinedragonbox:7031)...&quot;</code>(Hostname instead of IP Address or <code>localhost</code>). That gets rid of the <code>WARNING</code> which comes.</p>\n"}],"owner":{"account_id":954184,"reputation":5177,"user_id":979772,"accept_rate":73,"display_name":"divinedragon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38549,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":40037445,"answer_count":2,"score":13,"last_activity_date":1657650132,"creation_date":1475838655,"question_id":39915818,"body_markdown":"I am trying to start the ActiveMQ 5.11 and I see a `WARNING` as below:\r\n```\r\nWARN | Transport Connection to: tcp://127.0.0.1:40890 failed: java.io.EOFException\r\n```\r\nMy `activemq.xml` is as below:\r\n```xml\r\n&lt;transportConnectors&gt;\r\n    &lt;transportConnector name=&quot;openwire&quot; uri=&quot;tcp://0.0.0.0:${JMS_PORT}&quot; /&gt;\r\n    &lt;transportConnector name=&quot;stomp&quot; uri=&quot;stomp://0.0.0.0:${JMS_STOMP_PORT}&quot;/&gt;\r\n    &lt;transportConnector name=&quot;ssl&quot; uri=&quot;ssl://0.0.0.0:${JMS_SSL_PORT}&quot;/&gt;\r\n&lt;/transportConnectors&gt;\r\n\r\n&lt;sslContext&gt;\r\n    &lt;sslContext\r\n        keyStore=&quot;file:${JMS_KEY_STORE}&quot;\r\n        keyStorePassword=&quot;${JMS_KEY_STORE_PASSWORD}&quot;\r\n        trustStore=&quot;file:${JMS_TRUST_STORE}&quot;\r\n        trustStorePassword=&quot;${JMS_TRUST_STORE_PASSWORD}&quot;\r\n    /&gt;\r\n&lt;/sslContext&gt;\r\n\r\n&lt;networkConnectors&gt;\r\n    &lt;networkConnector \r\n        name=&quot;host1 and host2&quot; \r\n        uri=&quot;static://(${JMS_X_SITE_CSV_URL})?wireFormat=ssl&amp;amp;wireFormat.maxInactivityDuration=30000&quot;\r\n        dynamicOnly=&quot;true&quot;\r\n        suppressDuplicateQueueSubscriptions = &quot;true&quot;\r\n        networkTTL=&quot;1&quot;\r\n    /&gt;\r\n&lt;/networkConnectors&gt;\r\n```\r\nHere is the entire console log for this:\r\n```\r\nJava Runtime: Oracle Corporation 1.7.0_05 /usr/java/jdk1.7.0_05/jre\r\n  Heap sizes: current=1004928k  free=994439k  max=1004928k\r\n    JVM args: -Xmx1G -Dorg.apache.activemq.UseDedicatedTaskRunner=true -Djava.util.logging.config.file=logging.properties -Djava.security.auth.login.config=/home/dragon/activemq/conf/login.config -Dcom.sun.management.jmxremote -Djava.io.tmpdir=/home/dragon/activemq/tmp -Dactivemq.classpath=/home/dragon/activemq/conf; -Dactivemq.home=/home/dragon/activemq -Dactivemq.base=/home/dragon/activemq -Dactivemq.conf=/home/dragon/activemq/conf -Dactivemq.data=/home/dragon/activemq/data\r\nExtensions classpath:\r\n  [/home/dragon/activemq/lib,/home/dragon/activemq/lib/camel,/home/dragon/activemq/lib/optional,/home/dragon/activemq/lib/web,/home/dragon/activemq/lib/extra]\r\nACTIVEMQ_HOME: /home/dragon/activemq\r\nACTIVEMQ_BASE: /home/dragon/activemq\r\nACTIVEMQ_CONF: /home/dragon/activemq/conf\r\nACTIVEMQ_DATA: /home/dragon/activemq/data\r\nLoading message broker from: xbean:activemq.xml\r\n INFO | Refreshing org.apache.activemq.xbean.XBeanBrokerFactory$1@a842913: startup date [Fri Oct 07 08:14:02 IST 2016]; root of context hierarchy\r\n INFO | PListStore:[/home/dragon/activemq/data/divinedragonbox/tmp_storage] started\r\n INFO | Using Persistence Adapter: KahaDBPersistenceAdapter[/home/dragon/jms_store]\r\n INFO | JMX consoles can connect to service:jmx:rmi:///jndi/rmi://localhost:15526/jmxrmi\r\n INFO | KahaDB is version 5\r\n INFO | Recovering from the journal ...\r\n INFO | Recovery replayed 76 operations from the journal in 0.032 seconds.\r\n INFO | Apache ActiveMQ 5.11.1 (divinedragonbox, ID:divinedragonbox-60914-1475824445361-0:1) is starting\r\n INFO | Listening for connections at: tcp://divinedragonbox:15511\r\n INFO | Connector openwire started\r\n INFO | Listening for connections at: stomp://divinedragonbox:15512\r\n INFO | Connector stomp started\r\n INFO | Listening for connections at: ssl://divinedragonbox:15571\r\n INFO | Connector ssl started\r\n INFO | Establishing network connection from vm://divinedragonbox?async=false&amp;network=true to ssl://localhost:15571\r\n INFO | Connector vm://divinedragonbox started\r\n INFO | Network Connector DiscoveryNetworkConnector:host1 and host2:BrokerService[divinedragonbox] started\r\n INFO | Apache ActiveMQ 5.11.1 (divinedragonbox, ID:divinedragonbox-60914-1475824445361-0:1) started\r\n INFO | For help or more information please see: http://activemq.apache.org\r\n INFO | divinedragonbox Shutting down\r\n INFO | Connector vm://divinedragonbox stopped\r\n INFO | divinedragonbox bridge to Unknown stopped\r\n WARN | Transport Connection to: tcp://127.0.0.1:40890 failed: java.io.EOFException\r\n INFO | ActiveMQ WebConsole available at http://localhost:15521/\r\n INFO | Initializing Spring FrameworkServlet &#39;dispatcher&#39;\r\n INFO | jolokia-agent: No access restrictor found at classpath:/jolokia-access.xml, access to all MBeans is allowed\r\n```\r\nI enabled the TRACE for the messages and I got the following snippets of exceptions in the log file.\r\n```\r\n2016-10-07 08:15:45,378 | TRACE | Execute[ActiveMQ ForwardingBridge StopTask] runnable: org.apache.activemq.network.DemandForwardingBridgeSupport$4@b3f451d | org.apache.activemq.thread.TaskRunnerFactory | ActiveMQ BrokerService[divinedragonbox] Task-4\r\n2016-10-07 08:15:45,378 | TRACE | Created and running thread[ActiveMQ ForwardingBridge StopTask-5]: Thread[ActiveMQ ForwardingBridge StopTask-5,5,main] | org.apache.activemq.thread.TaskRunnerFactory | ActiveMQ BrokerService[divinedragonbox] Task-4\r\n2016-10-07 08:15:45,379 | DEBUG | Caught exception sending shutdown | org.apache.activemq.network.DemandForwardingBridgeSupport | ActiveMQ ForwardingBridge StopTask-5\r\norg.apache.activemq.transport.TransportDisposedIOException: Transport disposed.\r\n    at org.apache.activemq.transport.vm.VMTransport.oneway(VMTransport.java:82)[activemq-broker-5.11.1.jar:5.11.1]\r\n    at org.apache.activemq.transport.MutexTransport.oneway(MutexTransport.java:68)[activemq-client-5.11.1.jar:5.11.1]\r\n    at org.apache.activemq.transport.ResponseCorrelator.oneway(ResponseCorrelator.java:60)[activemq-client-5.11.1.jar:5.11.1]\r\n    at org.apache.activemq.network.DemandForwardingBridgeSupport$4.run(DemandForwardingBridgeSupport.java:288)[activemq-broker-5.11.1.jar:5.11.1]\r\n    at java.lang.Thread.run(Thread.java:722)[:1.7.0_05]\r\n2016-10-07 08:15:45,380 | DEBUG | Stopping transport ssl://localhost/127.0.0.1:15571 | org.apache.activemq.transport.tcp.TcpTransport | ActiveMQ BrokerService[divinedragonbox] Task-4\r\n2016-10-07 08:15:45,381 | DEBUG | Initialized TaskRunnerFactory[ActiveMQ Task] using ExecutorService: null | org.apache.activemq.thread.TaskRunnerFactory | ActiveMQ BrokerService[divinedragonbox] Task-4\r\n2016-10-07 08:15:45,381 | TRACE | Execute[ActiveMQ Task] runnable: org.apache.activemq.transport.tcp.TcpTransport$1@a1848dc | org.apache.activemq.thread.TaskRunnerFactory | ActiveMQ BrokerService[divinedragonbox] Task-4\r\n2016-10-07 08:15:45,381 | TRACE | Created and running thread[ActiveMQ Task-1]: Thread[ActiveMQ Task-1,5,main] | org.apache.activemq.thread.TaskRunnerFactory | ActiveMQ BrokerService[divinedragonbox] Task-4\r\n2016-10-07 08:15:45,382 | TRACE | Closing socket 2a9a5d77[TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA: Socket[addr=localhost/127.0.0.1,port=15571,localport=40999]] | org.apache.activemq.transport.tcp.TcpTransport | ActiveMQ Task-1\r\n2016-10-07 08:15:45,383 | DEBUG | Closed socket 2a9a5d77[TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA: Socket[addr=localhost/127.0.0.1,port=15571,localport=40999]] | org.apache.activemq.transport.tcp.TcpTransport | ActiveMQ Task-1\r\n2016-10-07 08:15:45,384 | INFO  | divinedragonbox bridge to Unknown stopped | org.apache.activemq.network.DemandForwardingBridgeSupport | ActiveMQ BrokerService[divinedragonbox] Task-4\r\n2016-10-07 08:15:45,384 | TRACE | serviceLocalException: disposed true ex | org.apache.activemq.network.DemandForwardingBridgeSupport | ActiveMQ BrokerService[divinedragonbox] Task-4\r\norg.apache.activemq.transport.TransportDisposedIOException: peer (vm://divinedragonbox#1) stopped.\r\n    at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:207)[activemq-broker-5.11.1.jar:5.11.1]\r\n    at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:65)[activemq-client-5.11.1.jar:5.11.1]\r\n    at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:65)[activemq-client-5.11.1.jar:5.11.1]\r\n    at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)[activemq-client-5.11.1.jar:5.11.1]\r\n    at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1151)[activemq-broker-5.11.1.jar:5.11.1]\r\n    at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1117)[activemq-broker-5.11.1.jar:5.11.1]\r\n    at java.lang.Thread.run(Thread.java:722)[:1.7.0_05]\r\n2016-10-07 08:15:45,384 | DEBUG | Stopped transport: vm://divinedragonbox#0 | org.apache.activemq.broker.TransportConnection | ActiveMQ BrokerService[divinedragonbox] Task-4\r\n2016-10-07 08:15:45,384 | TRACE | Shutdown timeout: 1 task: Transport Connection to: vm://divinedragonbox#0 | org.apache.activemq.thread.DedicatedTaskRunner | ActiveMQ BrokerService[divinedragonbox] Task-4\r\n2016-10-07 08:15:45,385 | TRACE | Run task done: Transport Connection to: vm://divinedragonbox#0 | org.apache.activemq.thread.DedicatedTaskRunner | ActiveMQ Connection Dispatcher: vm://divinedragonbox#0\r\n2016-10-07 08:15:45,385 | DEBUG | Connection Stopped: vm://divinedragonbox#0 | org.apache.activemq.broker.TransportConnection | ActiveMQ BrokerService[divinedragonbox] Task-4\r\n2016-10-07 08:15:45,385 | TRACE | Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@dfe196a[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] with await termination: 0 millis | org.apache.activemq.util.ThreadPoolUtils | ActiveMQ Transport: ssl:///127.0.0.1:40999\r\n2016-10-07 08:15:45,385 | DEBUG | Shutting down VM connectors for broker: divinedragonbox | org.apache.activemq.transport.vm.VMTransportFactory | triggerStartAsyncNetworkBridgeCreation: remoteBroker=ssl://localhost/127.0.0.1:15571, localBroker= vm://divinedragonbox#0\r\n2016-10-07 08:15:45,385 | INFO  | Connector vm://divinedragonbox stopped | org.apache.activemq.broker.TransportConnector | triggerStartAsyncNetworkBridgeCreation: remoteBroker=ssl://localhost/127.0.0.1:15571, localBroker= vm://divinedragonbox#0\r\n2016-10-07 08:15:45,400 | DEBUG | Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@dfe196a[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.001 seconds. | org.apache.activemq.util.ThreadPoolUtils | ActiveMQ Transport: ssl:///127.0.0.1:40999\r\n2016-10-07 08:15:45,400 | DEBUG | Transport Connection to: tcp://127.0.0.1:40999 failed: java.io.EOFException | org.apache.activemq.broker.TransportConnection.Transport | ActiveMQ Transport: ssl:///127.0.0.1:40999\r\njava.io.EOFException\r\n    at java.io.DataInputStream.readInt(DataInputStream.java:392)[:1.7.0_05]\r\n    at org.apache.activemq.openwire.OpenWireFormat.unmarshal(OpenWireFormat.java:258)[activemq-client-5.11.1.jar:5.11.1]\r\n    at org.apache.activemq.transport.tcp.TcpTransport.readCommand(TcpTransport.java:221)[activemq-client-5.11.1.jar:5.11.1]\r\n    at org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:213)[activemq-client-5.11.1.jar:5.11.1]\r\n    at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:196)[activemq-client-5.11.1.jar:5.11.1]\r\n    at java.lang.Thread.run(Thread.java:722)[:1.7.0_05]\r\n2016-10-07 08:15:45,401 | DEBUG | Unregistering MBean org.apache.activemq:type=Broker,brokerName=divinedragonbox,connector=clientConnectors,connectorName=ssl,connectionViewType=remoteAddress,connectionName=tcp_//127.0.0.1_40999 | org.apache.activemq.broker.jmx.ManagementContext | ActiveMQ Transport: ssl:///127.0.0.1:40999\r\n2016-10-07 08:15:45,401 | TRACE | Execute[ActiveMQ BrokerService[divinedragonbox] Task] runnable: org.apache.activemq.broker.TransportConnection$4@5039f4d3 | org.apache.activemq.thread.TaskRunnerFactory | ActiveMQ Transport: ssl:///127.0.0.1:40999\r\n2016-10-07 08:15:45,401 | TRACE | Created and running thread[ActiveMQ BrokerService[divinedragonbox] Task-6]: Thread[ActiveMQ BrokerService[divinedragonbox] Task-6,8,main] | org.apache.activemq.thread.TaskRunnerFactory | ActiveMQ Transport: ssl:///127.0.0.1:40999\r\n```\r\nCan somebody tell me why are these exceptions thrown? I can provide the entire log file if anybody needs for a deeper look.","title":"WARNING as java.io.EOFException when ActiveMQ starts","body":"<p>I am trying to start the ActiveMQ 5.11 and I see a <code>WARNING</code> as below:</p>\n<pre><code>WARN | Transport Connection to: tcp://127.0.0.1:40890 failed: java.io.EOFException\n</code></pre>\n<p>My <code>activemq.xml</code> is as below:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;transportConnectors&gt;\n    &lt;transportConnector name=&quot;openwire&quot; uri=&quot;tcp://0.0.0.0:${JMS_PORT}&quot; /&gt;\n    &lt;transportConnector name=&quot;stomp&quot; uri=&quot;stomp://0.0.0.0:${JMS_STOMP_PORT}&quot;/&gt;\n    &lt;transportConnector name=&quot;ssl&quot; uri=&quot;ssl://0.0.0.0:${JMS_SSL_PORT}&quot;/&gt;\n&lt;/transportConnectors&gt;\n\n&lt;sslContext&gt;\n    &lt;sslContext\n        keyStore=&quot;file:${JMS_KEY_STORE}&quot;\n        keyStorePassword=&quot;${JMS_KEY_STORE_PASSWORD}&quot;\n        trustStore=&quot;file:${JMS_TRUST_STORE}&quot;\n        trustStorePassword=&quot;${JMS_TRUST_STORE_PASSWORD}&quot;\n    /&gt;\n&lt;/sslContext&gt;\n\n&lt;networkConnectors&gt;\n    &lt;networkConnector \n        name=&quot;host1 and host2&quot; \n        uri=&quot;static://(${JMS_X_SITE_CSV_URL})?wireFormat=ssl&amp;amp;wireFormat.maxInactivityDuration=30000&quot;\n        dynamicOnly=&quot;true&quot;\n        suppressDuplicateQueueSubscriptions = &quot;true&quot;\n        networkTTL=&quot;1&quot;\n    /&gt;\n&lt;/networkConnectors&gt;\n</code></pre>\n<p>Here is the entire console log for this:</p>\n<pre><code>Java Runtime: Oracle Corporation 1.7.0_05 /usr/java/jdk1.7.0_05/jre\n  Heap sizes: current=1004928k  free=994439k  max=1004928k\n    JVM args: -Xmx1G -Dorg.apache.activemq.UseDedicatedTaskRunner=true -Djava.util.logging.config.file=logging.properties -Djava.security.auth.login.config=/home/dragon/activemq/conf/login.config -Dcom.sun.management.jmxremote -Djava.io.tmpdir=/home/dragon/activemq/tmp -Dactivemq.classpath=/home/dragon/activemq/conf; -Dactivemq.home=/home/dragon/activemq -Dactivemq.base=/home/dragon/activemq -Dactivemq.conf=/home/dragon/activemq/conf -Dactivemq.data=/home/dragon/activemq/data\nExtensions classpath:\n  [/home/dragon/activemq/lib,/home/dragon/activemq/lib/camel,/home/dragon/activemq/lib/optional,/home/dragon/activemq/lib/web,/home/dragon/activemq/lib/extra]\nACTIVEMQ_HOME: /home/dragon/activemq\nACTIVEMQ_BASE: /home/dragon/activemq\nACTIVEMQ_CONF: /home/dragon/activemq/conf\nACTIVEMQ_DATA: /home/dragon/activemq/data\nLoading message broker from: xbean:activemq.xml\n INFO | Refreshing org.apache.activemq.xbean.XBeanBrokerFactory$1@a842913: startup date [Fri Oct 07 08:14:02 IST 2016]; root of context hierarchy\n INFO | PListStore:[/home/dragon/activemq/data/divinedragonbox/tmp_storage] started\n INFO | Using Persistence Adapter: KahaDBPersistenceAdapter[/home/dragon/jms_store]\n INFO | JMX consoles can connect to service:jmx:rmi:///jndi/rmi://localhost:15526/jmxrmi\n INFO | KahaDB is version 5\n INFO | Recovering from the journal ...\n INFO | Recovery replayed 76 operations from the journal in 0.032 seconds.\n INFO | Apache ActiveMQ 5.11.1 (divinedragonbox, ID:divinedragonbox-60914-1475824445361-0:1) is starting\n INFO | Listening for connections at: tcp://divinedragonbox:15511\n INFO | Connector openwire started\n INFO | Listening for connections at: stomp://divinedragonbox:15512\n INFO | Connector stomp started\n INFO | Listening for connections at: ssl://divinedragonbox:15571\n INFO | Connector ssl started\n INFO | Establishing network connection from vm://divinedragonbox?async=false&amp;network=true to ssl://localhost:15571\n INFO | Connector vm://divinedragonbox started\n INFO | Network Connector DiscoveryNetworkConnector:host1 and host2:BrokerService[divinedragonbox] started\n INFO | Apache ActiveMQ 5.11.1 (divinedragonbox, ID:divinedragonbox-60914-1475824445361-0:1) started\n INFO | For help or more information please see: http://activemq.apache.org\n INFO | divinedragonbox Shutting down\n INFO | Connector vm://divinedragonbox stopped\n INFO | divinedragonbox bridge to Unknown stopped\n WARN | Transport Connection to: tcp://127.0.0.1:40890 failed: java.io.EOFException\n INFO | ActiveMQ WebConsole available at http://localhost:15521/\n INFO | Initializing Spring FrameworkServlet 'dispatcher'\n INFO | jolokia-agent: No access restrictor found at classpath:/jolokia-access.xml, access to all MBeans is allowed\n</code></pre>\n<p>I enabled the TRACE for the messages and I got the following snippets of exceptions in the log file.</p>\n<pre><code>2016-10-07 08:15:45,378 | TRACE | Execute[ActiveMQ ForwardingBridge StopTask] runnable: org.apache.activemq.network.DemandForwardingBridgeSupport$4@b3f451d | org.apache.activemq.thread.TaskRunnerFactory | ActiveMQ BrokerService[divinedragonbox] Task-4\n2016-10-07 08:15:45,378 | TRACE | Created and running thread[ActiveMQ ForwardingBridge StopTask-5]: Thread[ActiveMQ ForwardingBridge StopTask-5,5,main] | org.apache.activemq.thread.TaskRunnerFactory | ActiveMQ BrokerService[divinedragonbox] Task-4\n2016-10-07 08:15:45,379 | DEBUG | Caught exception sending shutdown | org.apache.activemq.network.DemandForwardingBridgeSupport | ActiveMQ ForwardingBridge StopTask-5\norg.apache.activemq.transport.TransportDisposedIOException: Transport disposed.\n    at org.apache.activemq.transport.vm.VMTransport.oneway(VMTransport.java:82)[activemq-broker-5.11.1.jar:5.11.1]\n    at org.apache.activemq.transport.MutexTransport.oneway(MutexTransport.java:68)[activemq-client-5.11.1.jar:5.11.1]\n    at org.apache.activemq.transport.ResponseCorrelator.oneway(ResponseCorrelator.java:60)[activemq-client-5.11.1.jar:5.11.1]\n    at org.apache.activemq.network.DemandForwardingBridgeSupport$4.run(DemandForwardingBridgeSupport.java:288)[activemq-broker-5.11.1.jar:5.11.1]\n    at java.lang.Thread.run(Thread.java:722)[:1.7.0_05]\n2016-10-07 08:15:45,380 | DEBUG | Stopping transport ssl://localhost/127.0.0.1:15571 | org.apache.activemq.transport.tcp.TcpTransport | ActiveMQ BrokerService[divinedragonbox] Task-4\n2016-10-07 08:15:45,381 | DEBUG | Initialized TaskRunnerFactory[ActiveMQ Task] using ExecutorService: null | org.apache.activemq.thread.TaskRunnerFactory | ActiveMQ BrokerService[divinedragonbox] Task-4\n2016-10-07 08:15:45,381 | TRACE | Execute[ActiveMQ Task] runnable: org.apache.activemq.transport.tcp.TcpTransport$1@a1848dc | org.apache.activemq.thread.TaskRunnerFactory | ActiveMQ BrokerService[divinedragonbox] Task-4\n2016-10-07 08:15:45,381 | TRACE | Created and running thread[ActiveMQ Task-1]: Thread[ActiveMQ Task-1,5,main] | org.apache.activemq.thread.TaskRunnerFactory | ActiveMQ BrokerService[divinedragonbox] Task-4\n2016-10-07 08:15:45,382 | TRACE | Closing socket 2a9a5d77[TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA: Socket[addr=localhost/127.0.0.1,port=15571,localport=40999]] | org.apache.activemq.transport.tcp.TcpTransport | ActiveMQ Task-1\n2016-10-07 08:15:45,383 | DEBUG | Closed socket 2a9a5d77[TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA: Socket[addr=localhost/127.0.0.1,port=15571,localport=40999]] | org.apache.activemq.transport.tcp.TcpTransport | ActiveMQ Task-1\n2016-10-07 08:15:45,384 | INFO  | divinedragonbox bridge to Unknown stopped | org.apache.activemq.network.DemandForwardingBridgeSupport | ActiveMQ BrokerService[divinedragonbox] Task-4\n2016-10-07 08:15:45,384 | TRACE | serviceLocalException: disposed true ex | org.apache.activemq.network.DemandForwardingBridgeSupport | ActiveMQ BrokerService[divinedragonbox] Task-4\norg.apache.activemq.transport.TransportDisposedIOException: peer (vm://divinedragonbox#1) stopped.\n    at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:207)[activemq-broker-5.11.1.jar:5.11.1]\n    at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:65)[activemq-client-5.11.1.jar:5.11.1]\n    at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:65)[activemq-client-5.11.1.jar:5.11.1]\n    at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)[activemq-client-5.11.1.jar:5.11.1]\n    at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1151)[activemq-broker-5.11.1.jar:5.11.1]\n    at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1117)[activemq-broker-5.11.1.jar:5.11.1]\n    at java.lang.Thread.run(Thread.java:722)[:1.7.0_05]\n2016-10-07 08:15:45,384 | DEBUG | Stopped transport: vm://divinedragonbox#0 | org.apache.activemq.broker.TransportConnection | ActiveMQ BrokerService[divinedragonbox] Task-4\n2016-10-07 08:15:45,384 | TRACE | Shutdown timeout: 1 task: Transport Connection to: vm://divinedragonbox#0 | org.apache.activemq.thread.DedicatedTaskRunner | ActiveMQ BrokerService[divinedragonbox] Task-4\n2016-10-07 08:15:45,385 | TRACE | Run task done: Transport Connection to: vm://divinedragonbox#0 | org.apache.activemq.thread.DedicatedTaskRunner | ActiveMQ Connection Dispatcher: vm://divinedragonbox#0\n2016-10-07 08:15:45,385 | DEBUG | Connection Stopped: vm://divinedragonbox#0 | org.apache.activemq.broker.TransportConnection | ActiveMQ BrokerService[divinedragonbox] Task-4\n2016-10-07 08:15:45,385 | TRACE | Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@dfe196a[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] with await termination: 0 millis | org.apache.activemq.util.ThreadPoolUtils | ActiveMQ Transport: ssl:///127.0.0.1:40999\n2016-10-07 08:15:45,385 | DEBUG | Shutting down VM connectors for broker: divinedragonbox | org.apache.activemq.transport.vm.VMTransportFactory | triggerStartAsyncNetworkBridgeCreation: remoteBroker=ssl://localhost/127.0.0.1:15571, localBroker= vm://divinedragonbox#0\n2016-10-07 08:15:45,385 | INFO  | Connector vm://divinedragonbox stopped | org.apache.activemq.broker.TransportConnector | triggerStartAsyncNetworkBridgeCreation: remoteBroker=ssl://localhost/127.0.0.1:15571, localBroker= vm://divinedragonbox#0\n2016-10-07 08:15:45,400 | DEBUG | Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@dfe196a[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.001 seconds. | org.apache.activemq.util.ThreadPoolUtils | ActiveMQ Transport: ssl:///127.0.0.1:40999\n2016-10-07 08:15:45,400 | DEBUG | Transport Connection to: tcp://127.0.0.1:40999 failed: java.io.EOFException | org.apache.activemq.broker.TransportConnection.Transport | ActiveMQ Transport: ssl:///127.0.0.1:40999\njava.io.EOFException\n    at java.io.DataInputStream.readInt(DataInputStream.java:392)[:1.7.0_05]\n    at org.apache.activemq.openwire.OpenWireFormat.unmarshal(OpenWireFormat.java:258)[activemq-client-5.11.1.jar:5.11.1]\n    at org.apache.activemq.transport.tcp.TcpTransport.readCommand(TcpTransport.java:221)[activemq-client-5.11.1.jar:5.11.1]\n    at org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:213)[activemq-client-5.11.1.jar:5.11.1]\n    at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:196)[activemq-client-5.11.1.jar:5.11.1]\n    at java.lang.Thread.run(Thread.java:722)[:1.7.0_05]\n2016-10-07 08:15:45,401 | DEBUG | Unregistering MBean org.apache.activemq:type=Broker,brokerName=divinedragonbox,connector=clientConnectors,connectorName=ssl,connectionViewType=remoteAddress,connectionName=tcp_//127.0.0.1_40999 | org.apache.activemq.broker.jmx.ManagementContext | ActiveMQ Transport: ssl:///127.0.0.1:40999\n2016-10-07 08:15:45,401 | TRACE | Execute[ActiveMQ BrokerService[divinedragonbox] Task] runnable: org.apache.activemq.broker.TransportConnection$4@5039f4d3 | org.apache.activemq.thread.TaskRunnerFactory | ActiveMQ Transport: ssl:///127.0.0.1:40999\n2016-10-07 08:15:45,401 | TRACE | Created and running thread[ActiveMQ BrokerService[divinedragonbox] Task-6]: Thread[ActiveMQ BrokerService[divinedragonbox] Task-6,8,main] | org.apache.activemq.thread.TaskRunnerFactory | ActiveMQ Transport: ssl:///127.0.0.1:40999\n</code></pre>\n<p>Can somebody tell me why are these exceptions thrown? I can provide the entire log file if anybody needs for a deeper look.</p>\n"},{"tags":["java","postgresql","hibernate","jpa","querydsl"],"answers":[{"tags":[],"owner":{"account_id":25574604,"reputation":11,"user_id":19354339,"display_name":"Paul C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657649975,"creation_date":1657649975,"answer_id":72956774,"question_id":72941132,"body_markdown":"I finally found a solution to my issue. \r\n\r\nMy QueryDSL use Hibernate v5.6 that doesn&#39;t support `LEAST` and `GREATEST` postgres functions for the moment. \r\n\r\nTo make it available, just create a `PostgresCustomDialect` that extends the default `PostgresDialect` as follow: \r\n\r\n```\r\npublic class PostgresCustomDialect extends PostgisDialect {\r\n\r\n    public PostgresCustomDialect() {\r\n        super();\r\n\r\n        registerFunction(\r\n                &quot;least&quot;,\r\n                new StandardSQLFunction(&quot;least&quot;, StandardBasicTypes.DOUBLE)\r\n        );\r\n\r\n        registerFunction(\r\n                &quot;greatest&quot;,\r\n                new StandardSQLFunction(&quot;greatest&quot;, StandardBasicTypes.DOUBLE)\r\n        );\r\n    }\r\n\r\n}\r\n\r\n``` \r\n\r\nAnd update your hibernate config to target your custom dialect :\r\n\r\n```\r\nhibernate:\r\n        dialect: com.path.to.your.hibernate.PostgresCustomDialect\r\n```\r\n\r\nAnd now, your function is available on the queryDSL context ! \r\n\r\nUse it as follow:\r\n\r\n```\r\nNumberExpression&lt;Double&gt; distance = Expressions.numberTemplate(\r\n   Double.class, &quot;least({0})&quot;,\r\n   Expressions.list(\r\n      qEntity.point.distance(pointA),\r\n      qEntity.point.distance(pointB)\r\n   )\r\n)\r\n\r\nquery.select(distance).from(qEntity);\r\n-- select the shortest distance between (entityPoint-pointA) and (entityPoint-pointB) \r\n\r\n```\r\n\r\n","title":"How to use LEAST / GREATER functions in QueryDSL?","body":"<p>I finally found a solution to my issue.</p>\n<p>My QueryDSL use Hibernate v5.6 that doesn't support <code>LEAST</code> and <code>GREATEST</code> postgres functions for the moment.</p>\n<p>To make it available, just create a <code>PostgresCustomDialect</code> that extends the default <code>PostgresDialect</code> as follow:</p>\n<pre><code>public class PostgresCustomDialect extends PostgisDialect {\n\n    public PostgresCustomDialect() {\n        super();\n\n        registerFunction(\n                &quot;least&quot;,\n                new StandardSQLFunction(&quot;least&quot;, StandardBasicTypes.DOUBLE)\n        );\n\n        registerFunction(\n                &quot;greatest&quot;,\n                new StandardSQLFunction(&quot;greatest&quot;, StandardBasicTypes.DOUBLE)\n        );\n    }\n\n}\n\n</code></pre>\n<p>And update your hibernate config to target your custom dialect :</p>\n<pre><code>hibernate:\n        dialect: com.path.to.your.hibernate.PostgresCustomDialect\n</code></pre>\n<p>And now, your function is available on the queryDSL context !</p>\n<p>Use it as follow:</p>\n<pre><code>NumberExpression&lt;Double&gt; distance = Expressions.numberTemplate(\n   Double.class, &quot;least({0})&quot;,\n   Expressions.list(\n      qEntity.point.distance(pointA),\n      qEntity.point.distance(pointB)\n   )\n)\n\nquery.select(distance).from(qEntity);\n-- select the shortest distance between (entityPoint-pointA) and (entityPoint-pointB) \n\n</code></pre>\n"}],"owner":{"account_id":25574604,"reputation":11,"user_id":19354339,"display_name":"Paul C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657649975,"creation_date":1657553902,"question_id":72941132,"body_markdown":"I&#39;m looking for use LEAST / GREATER functions in a QueryDSL fashion way (like in Postgres: https://www.postgresql.org/docs/current/functions-conditional.html#FUNCTIONS-GREATEST-LEAST). \r\n\r\nMy issue is to select the minimal distance between several given double expressions:\r\n\r\n```\r\nNumberExpression&lt;Double&gt; minimal = least(exp1, exp2, ..., expN);\r\nquery.select(minimal);\r\n```\r\n\r\nIn the deep, my use case is to select the minimal distance between two spatial points: \r\n\r\n```\r\nJPAQuery&lt;Tuple&gt; query = new JPAQuery&lt;&gt;(this.entityManager);\r\nNumberExpression&lt;Double&gt; distance = leastFunctionToFind(\r\n                qEntity.point.distance(pointA),\r\n                qEntity.point.distance(pointB)\r\n        );\r\nquery.select(distance);\r\n```\r\n\r\n---\r\nI think the `entityManager.getCriteriaBuilder().least()` doesn&#39;t work for my use case because it takes only one parameter. \r\n\r\n(`LEAST` not to be confused with the `MIN` operator: https://www.postgresql.org/docs/8.0/functions-aggregate.html, used to aggregate rows)","title":"How to use LEAST / GREATER functions in QueryDSL?","body":"<p>I'm looking for use LEAST / GREATER functions in a QueryDSL fashion way (like in Postgres: <a href=\"https://www.postgresql.org/docs/current/functions-conditional.html#FUNCTIONS-GREATEST-LEAST\" rel=\"nofollow noreferrer\">https://www.postgresql.org/docs/current/functions-conditional.html#FUNCTIONS-GREATEST-LEAST</a>).</p>\n<p>My issue is to select the minimal distance between several given double expressions:</p>\n<pre><code>NumberExpression&lt;Double&gt; minimal = least(exp1, exp2, ..., expN);\nquery.select(minimal);\n</code></pre>\n<p>In the deep, my use case is to select the minimal distance between two spatial points:</p>\n<pre><code>JPAQuery&lt;Tuple&gt; query = new JPAQuery&lt;&gt;(this.entityManager);\nNumberExpression&lt;Double&gt; distance = leastFunctionToFind(\n                qEntity.point.distance(pointA),\n                qEntity.point.distance(pointB)\n        );\nquery.select(distance);\n</code></pre>\n<hr />\n<p>I think the <code>entityManager.getCriteriaBuilder().least()</code> doesn't work for my use case because it takes only one parameter.</p>\n<p>(<code>LEAST</code> not to be confused with the <code>MIN</code> operator: <a href=\"https://www.postgresql.org/docs/8.0/functions-aggregate.html\" rel=\"nofollow noreferrer\">https://www.postgresql.org/docs/8.0/functions-aggregate.html</a>, used to aggregate rows)</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"score":3,"creation_date":1523034130,"post_id":49697610,"comment_id":86408425,"body_markdown":"`poi-3.17.jar` `poi-ooxml-3.11.jar`  That immediately stands out as a problem to me.","body":"<code>poi-3.17.jar</code> <code>poi-ooxml-3.11.jar</code>  That immediately stands out as a problem to me."},{"owner":{"account_id":11606331,"reputation":429,"user_id":8501925,"accept_rate":60,"display_name":"Fancypants753"},"score":0,"creation_date":1523034178,"post_id":49697610,"comment_id":86408449,"body_markdown":"ok, except literally every stackexchange page says to have these","body":"ok, except literally every stackexchange page says to have these"},{"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"score":2,"creation_date":1523034215,"post_id":49697610,"comment_id":86408469,"body_markdown":"I&#39;m sure they mention to have matching versions of these jars.","body":"I&#39;m sure they mention to have matching versions of these jars."},{"owner":{"account_id":11606331,"reputation":429,"user_id":8501925,"accept_rate":60,"display_name":"Fancypants753"},"score":0,"creation_date":1523034312,"post_id":49697610,"comment_id":86408512,"body_markdown":"do you mean the versions have to be matching? In that case then apache is just trash for not packaging everything correctly","body":"do you mean the versions have to be matching? In that case then apache is just trash for not packaging everything correctly"},{"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"score":1,"creation_date":1523034605,"post_id":49697610,"comment_id":86408644,"body_markdown":"While I understand your frustration with your error, I&#39;m not sure how you wound up with two different version of jars that _are_ packaged together.  Please see the [download page](https://poi.apache.org/download.html).","body":"While I understand your frustration with your error, I&#39;m not sure how you wound up with two different version of jars that <i>are</i> packaged together.  Please see the <a href=\"https://poi.apache.org/download.html\" rel=\"nofollow noreferrer\">download page</a>."},{"owner":{"account_id":11606331,"reputation":429,"user_id":8501925,"accept_rate":60,"display_name":"Fancypants753"},"score":0,"creation_date":1523034830,"post_id":49697610,"comment_id":86408774,"body_markdown":"how do I fix this? Do I downgrade poi to 3.11?","body":"how do I fix this? Do I downgrade poi to 3.11?"},{"owner":{"account_id":11606331,"reputation":429,"user_id":8501925,"accept_rate":60,"display_name":"Fancypants753"},"score":0,"creation_date":1523034916,"post_id":49697610,"comment_id":86408824,"body_markdown":"Alright ill redownload and see because i extracted my files from the binary files, and it came with 3.17 poi and 3.11 ooxml","body":"Alright ill redownload and see because i extracted my files from the binary files, and it came with 3.17 poi and 3.11 ooxml"},{"owner":{"account_id":11606331,"reputation":429,"user_id":8501925,"accept_rate":60,"display_name":"Fancypants753"},"score":0,"creation_date":1523035000,"post_id":49697610,"comment_id":86408866,"body_markdown":"ok i got 3.17 ooxml and now im getting another error. Ill just make a new post for that. I appreciate your help and sorrfy for frustration","body":"ok i got 3.17 ooxml and now im getting another error. Ill just make a new post for that. I appreciate your help and sorrfy for frustration"}],"answers":[{"tags":[],"owner":{"account_id":11606331,"reputation":429,"user_id":8501925,"accept_rate":60,"display_name":"Fancypants753"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1523035325,"creation_date":1523035325,"answer_id":49698081,"question_id":49697610,"body_markdown":"Ok, so as rgettman explained, I had to update my poi-ooxml-3.11.jar to poi-ooxml-3.17.jar, which can be done by just redownloading the binary source file and extracting the .zip file. After both were updated, I got another error, and this was fixed by adding the commons-collections4-4.1.jar and poi-ooxml-schemas-3.17.jar. After adding these dependencies, my code ran. Hope this helps anyone in the future.","title":"Apache POI java.lang.NoSuchMethodError","body":"<p>Ok, so as rgettman explained, I had to update my poi-ooxml-3.11.jar to poi-ooxml-3.17.jar, which can be done by just redownloading the binary source file and extracting the .zip file. After both were updated, I got another error, and this was fixed by adding the commons-collections4-4.1.jar and poi-ooxml-schemas-3.17.jar. After adding these dependencies, my code ran. Hope this helps anyone in the future.</p>\n"},{"tags":[],"owner":{"account_id":17589330,"reputation":61,"user_id":12761507,"display_name":"Demipo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1611247935,"creation_date":1611247935,"answer_id":65832062,"question_id":49697610,"body_markdown":"1. If you are to use **poi** jar and **poi-ooxml** jar, ensure they are same version.\r\n2. You can also try out  **poi-ooxml** jar without **poi jar**.\r\n\r\n ","title":"Apache POI java.lang.NoSuchMethodError","body":"<ol>\n<li>If you are to use <strong>poi</strong> jar and <strong>poi-ooxml</strong> jar, ensure they are same version.</li>\n<li>You can also try out  <strong>poi-ooxml</strong> jar without <strong>poi jar</strong>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1302546,"reputation":2286,"user_id":1252174,"accept_rate":39,"display_name":"ken4ward"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644936515,"creation_date":1644936515,"answer_id":71128483,"question_id":49697610,"body_markdown":"This issue has to be fixed by the apache team. In any way, the quick workaround as mentioned by @Fancypants753 is to make sure that the jars are of the same version. If any of them is different, definitely this issue would occur. I recently ran into it today and stumbled upon this SO question. \r\n\r\nIn my case, I have to downgrade from 5.2.0 to 4.1.2\r\n\r\nBefore, I was running these dependencies\r\n\r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n                &lt;version&gt;4.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nBut now, I was forced to downgrade to 4.1.2 to make sure all are of the same version, and because the latest version at this moment for poi-ooxml-schemas is 4.1.2, I cannot run a version higher than this for others.\r\n\r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n                &lt;version&gt;4.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n","title":"Apache POI java.lang.NoSuchMethodError","body":"<p>This issue has to be fixed by the apache team. In any way, the quick workaround as mentioned by @Fancypants753 is to make sure that the jars are of the same version. If any of them is different, definitely this issue would occur. I recently ran into it today and stumbled upon this SO question.</p>\n<p>In my case, I have to downgrade from 5.2.0 to 4.1.2</p>\n<p>Before, I was running these dependencies</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n            &lt;version&gt;4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>But now, I was forced to downgrade to 4.1.2 to make sure all are of the same version, and because the latest version at this moment for poi-ooxml-schemas is 4.1.2, I cannot run a version higher than this for others.</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n            &lt;version&gt;4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1000240,"reputation":27,"user_id":7907880,"display_name":"user7907880"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657649306,"creation_date":1657649306,"answer_id":72956669,"question_id":49697610,"body_markdown":"Make sure that the version displaying under the maven dependencies, and the pom.xml have the same version number. ","title":"Apache POI java.lang.NoSuchMethodError","body":"<p>Make sure that the version displaying under the maven dependencies, and the pom.xml have the same version number.</p>\n"}],"owner":{"account_id":11606331,"reputation":429,"user_id":8501925,"accept_rate":60,"display_name":"Fancypants753"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19731,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":49698081,"answer_count":4,"score":3,"last_activity_date":1657649306,"creation_date":1523033397,"question_id":49697610,"body_markdown":"My code is below:\r\n\r\n     import java.util.*;\r\n     import java.io.FileInputStream;\r\n     import java.io.FileNotFoundException;\r\n     import java.io.InputStream;\r\n     import java.io.IOException;\r\n\r\n     import org.apache.poi.ss.usermodel.Cell;\r\n     import org.apache.poi.ss.usermodel.Row;\r\n     import org.apache.poi.xssf.usermodel.*;\r\n\r\n     public class ExcelRead{\r\n\r\n         public static void main(String[] args){\r\n            String docName = &quot;C:\\\\Users\\\\Name\\\\Desktop\\\\excelExample.xlsx&quot;;\r\n            try{\r\n                InputStream xlsxDoc = new FileInputStream(docName);\r\n                XSSFWorkbook wb = new XSSFWorkbook(xlsxDoc);\r\n                XSSFSheet sheet = wb.getSheetAt(0);\r\n                System.out.println(sheet.getSheetName());          \r\n            }\r\n            catch(Exception e){  \r\n                e.printStackTrace();\r\n            }\r\n         }\r\n    }\r\n\r\nAnd the error code I get is:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: \r\n    org.apache.poi.util.POILogger.log(ILjava/lang/Object;)V\r\n\tat org.apache.poi.openxml4j.opc.PackageRelationshipCollection.parseRelationshipsPart(PackageRelationshipCollection.java:313)\r\n\tat org.apache.poi.openxml4j.opc.PackageRelationshipCollection.&lt;init&gt;(PackageRelationshipCollection.java:163)\r\n\tat org.apache.poi.openxml4j.opc.PackageRelationshipCollection.&lt;init&gt;(PackageRelationshipCollection.java:131)\r\n\tat org.apache.poi.openxml4j.opc.PackagePart.loadRelationships(PackagePart.java:559)\r\n\tat org.apache.poi.openxml4j.opc.PackagePart.&lt;init&gt;(PackagePart.java:112)\r\n\tat org.apache.poi.openxml4j.opc.PackagePart.&lt;init&gt;(PackagePart.java:83)\r\n\tat org.apache.poi.openxml4j.opc.PackagePart.&lt;init&gt;(PackagePart.java:128)\r\n\tat org.apache.poi.openxml4j.opc.ZipPackagePart.&lt;init&gt;(ZipPackagePart.java:78)\r\n\tat org.apache.poi.openxml4j.opc.ZipPackage.getPartsImpl(ZipPackage.java:243)\r\n\tat org.apache.poi.openxml4j.opc.OPCPackage.getParts(OPCPackage.java:673)\r\n\tat org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:274)\r\n\tat org.apache.poi.util.PackageHelper.open(PackageHelper.java:37)\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:258)\r\n\tat AristocratProject_1.ExcelRead.main\r\n\r\nThe dependencies for Apache that I have added to my netbeans library are:\r\n\r\n    poi-3.17.jar\r\n    poi-ooxml-3.11.jar\r\n    xmlbeans-2.6.0.jar\r\n\r\nAnd from here I pretty much have no idea what to do. Can anyone tell me if my code is wrong or what other dependencies I need?","title":"Apache POI java.lang.NoSuchMethodError","body":"<p>My code is below:</p>\n\n<pre><code> import java.util.*;\n import java.io.FileInputStream;\n import java.io.FileNotFoundException;\n import java.io.InputStream;\n import java.io.IOException;\n\n import org.apache.poi.ss.usermodel.Cell;\n import org.apache.poi.ss.usermodel.Row;\n import org.apache.poi.xssf.usermodel.*;\n\n public class ExcelRead{\n\n     public static void main(String[] args){\n        String docName = \"C:\\\\Users\\\\Name\\\\Desktop\\\\excelExample.xlsx\";\n        try{\n            InputStream xlsxDoc = new FileInputStream(docName);\n            XSSFWorkbook wb = new XSSFWorkbook(xlsxDoc);\n            XSSFSheet sheet = wb.getSheetAt(0);\n            System.out.println(sheet.getSheetName());          \n        }\n        catch(Exception e){  \n            e.printStackTrace();\n        }\n     }\n}\n</code></pre>\n\n<p>And the error code I get is:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoSuchMethodError: \norg.apache.poi.util.POILogger.log(ILjava/lang/Object;)V\nat org.apache.poi.openxml4j.opc.PackageRelationshipCollection.parseRelationshipsPart(PackageRelationshipCollection.java:313)\nat org.apache.poi.openxml4j.opc.PackageRelationshipCollection.&lt;init&gt;(PackageRelationshipCollection.java:163)\nat org.apache.poi.openxml4j.opc.PackageRelationshipCollection.&lt;init&gt;(PackageRelationshipCollection.java:131)\nat org.apache.poi.openxml4j.opc.PackagePart.loadRelationships(PackagePart.java:559)\nat org.apache.poi.openxml4j.opc.PackagePart.&lt;init&gt;(PackagePart.java:112)\nat org.apache.poi.openxml4j.opc.PackagePart.&lt;init&gt;(PackagePart.java:83)\nat org.apache.poi.openxml4j.opc.PackagePart.&lt;init&gt;(PackagePart.java:128)\nat org.apache.poi.openxml4j.opc.ZipPackagePart.&lt;init&gt;(ZipPackagePart.java:78)\nat org.apache.poi.openxml4j.opc.ZipPackage.getPartsImpl(ZipPackage.java:243)\nat org.apache.poi.openxml4j.opc.OPCPackage.getParts(OPCPackage.java:673)\nat org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:274)\nat org.apache.poi.util.PackageHelper.open(PackageHelper.java:37)\nat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:258)\nat AristocratProject_1.ExcelRead.main\n</code></pre>\n\n<p>The dependencies for Apache that I have added to my netbeans library are:</p>\n\n<pre><code>poi-3.17.jar\npoi-ooxml-3.11.jar\nxmlbeans-2.6.0.jar\n</code></pre>\n\n<p>And from here I pretty much have no idea what to do. Can anyone tell me if my code is wrong or what other dependencies I need?</p>\n"},{"tags":["java","spring","maven","netbeans"],"answers":[{"tags":[],"owner":{"account_id":1570462,"reputation":74,"user_id":1458263,"display_name":"gauravoli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483994735,"creation_date":1483994735,"answer_id":41556637,"question_id":41550884,"body_markdown":"Update you project.\r\nBy doing Alt + F5 and then select your project then click Ok\r\n\r\nElse right click on your project -&gt; Maven -&gt; Update Project.\r\nMake sure you are connected to the internet to download all these spring dependencies. ","title":"Import org.springframework in a maven project","body":"<p>Update you project.\nBy doing Alt + F5 and then select your project then click Ok</p>\n\n<p>Else right click on your project -> Maven -> Update Project.\nMake sure you are connected to the internet to download all these spring dependencies. </p>\n"},{"tags":[],"owner":{"account_id":8277997,"reputation":1415,"user_id":6223518,"accept_rate":58,"display_name":"Dave Pateral"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1484122636,"creation_date":1484122636,"answer_id":41585787,"question_id":41550884,"body_markdown":"It seems that you just create a maven project in NetBeans. The maven dependencies you declared in `pom.xml` will be downloaded and listed in the `Dependencies` folder. \r\n\r\nRight click on `Dependencies` folder and click on `Download Declared Dependencies` to reload the dependency. If still failed, you may need to check your maven proxy in `setting.xml`.","title":"Import org.springframework in a maven project","body":"<p>It seems that you just create a maven project in NetBeans. The maven dependencies you declared in <code>pom.xml</code> will be downloaded and listed in the <code>Dependencies</code> folder. </p>\n\n<p>Right click on <code>Dependencies</code> folder and click on <code>Download Declared Dependencies</code> to reload the dependency. If still failed, you may need to check your maven proxy in <code>setting.xml</code>.</p>\n"},{"tags":[],"owner":{"account_id":1808207,"reputation":101,"user_id":1644819,"display_name":"pcomitz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657648894,"creation_date":1657648894,"answer_id":72956602,"question_id":41550884,"body_markdown":"I had the same problems. I added the following to the pom: \r\n\r\n\r\n     &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n     &lt;/parent&gt;\r\n\r\nIt seems to work ....","title":"Import org.springframework in a maven project","body":"<p>I had the same problems. I added the following to the pom:</p>\n<pre><code> &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.1&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n &lt;/parent&gt;\n</code></pre>\n<p>It seems to work ....</p>\n"}],"owner":{"account_id":9852622,"reputation":77,"user_id":7298210,"accept_rate":33,"display_name":"Maver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2115,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":41585787,"answer_count":3,"score":-1,"last_activity_date":1657648894,"creation_date":1483974263,"question_id":41550884,"body_markdown":"I am learning Spring in maven environment. I am using netbeans.\r\n\r\npom.xml\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.davidsalter.cookbook&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springMavenTest&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.4.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nAnd *spring.context-4.3.4.RELEASE.jar* appears under **Dependencies**. Under **Java Dependencies** i only have JDK1.8.\r\n\r\nWhen i have to configure my beans in a java class using @Configuration and @Bean annotations i can&#39;t import *org.springframework*. \r\n","title":"Import org.springframework in a maven project","body":"<p>I am learning Spring in maven environment. I am using netbeans.</p>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.davidsalter.cookbook&lt;/groupId&gt;\n&lt;artifactId&gt;springMavenTest&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;4.3.4.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>And <em>spring.context-4.3.4.RELEASE.jar</em> appears under <strong>Dependencies</strong>. Under <strong>Java Dependencies</strong> i only have JDK1.8.</p>\n\n<p>When i have to configure my beans in a java class using @Configuration and @Bean annotations i can't import <em>org.springframework</em>. </p>\n"},{"tags":["java","google-cloud-platform","google-cloud-storage","google-cloud-dataflow","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":3830132,"reputation":1318,"user_id":3175889,"display_name":"ningk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657648637,"creation_date":1657648637,"answer_id":72956544,"question_id":72955917,"body_markdown":"It seems that there are a few improvements you can apply:\r\n\r\n- Your pipeline always reads the file from yesterday. So you don&#39;t need a runtime parameter (and the usage of ValueProvider in your example is not right since it&#39;s not used as a runtime parameter provided by a pipeline option).\r\n  - If you do need to set an arbitrary date, you&#39;ll have to follow the [example](https://beam.apache.org/documentation/patterns/pipeline-options/#retroactively-logging-runtime-parameters) to create a pipeline option.\r\n  ```java\r\n  public interface MyOptions extends PipelineOptions {\r\n    @Description(&quot;Date in yyyy-MM-dd&quot;)\r\n    @Default.String(&quot;2022-01-01&quot;)\r\n    ValueProvider&lt;String&gt; getDateValue();\r\n\r\n    void setDateValue(ValueProvider&lt;String&gt; value);\r\n  }\r\n  ```\r\n  Then use it in your DoFns.\r\n  ```\r\n  ...\r\n  @ProcessElement\r\n  public void process(ProcessContext c) {\r\n    MyOptions ops = c.getPipelineOptions().as(MyOptions.class);\r\n    // Use it.\r\n    ...(ops.getDateValue())\r\n  }\r\n  ...\r\n  ```\r\n  When you start a job, you have to provide the pipeline option of that arbitrary date just like when you set any other PipelineOptions.\r\n  \r\n- You can always get yesterday&#39;s date by https://stackoverflow.com/questions/11425236/get-yesterdays-date-using-date.\r\n  \r\n  ```java\r\n  Instant now = Instant.now();\r\n  Instant yesterday = now.minus(1, ChronoUnit.DAYS);\r\n  ```\r\n  and then use it directly in your pipeline.","title":"Read from dynamic GCS bucket partitioned by date using Apache Beam and Dataflow","body":"<p>It seems that there are a few improvements you can apply:</p>\n<ul>\n<li><p>Your pipeline always reads the file from yesterday. So you don't need a runtime parameter (and the usage of ValueProvider in your example is not right since it's not used as a runtime parameter provided by a pipeline option).</p>\n<ul>\n<li>If you do need to set an arbitrary date, you'll have to follow the <a href=\"https://beam.apache.org/documentation/patterns/pipeline-options/#retroactively-logging-runtime-parameters\" rel=\"nofollow noreferrer\">example</a> to create a pipeline option.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyOptions extends PipelineOptions {\n  @Description(&quot;Date in yyyy-MM-dd&quot;)\n  @Default.String(&quot;2022-01-01&quot;)\n  ValueProvider&lt;String&gt; getDateValue();\n\n  void setDateValue(ValueProvider&lt;String&gt; value);\n}\n</code></pre>\n<p>Then use it in your DoFns.</p>\n<pre><code>...\n@ProcessElement\npublic void process(ProcessContext c) {\n  MyOptions ops = c.getPipelineOptions().as(MyOptions.class);\n  // Use it.\n  ...(ops.getDateValue())\n}\n...\n</code></pre>\n<p>When you start a job, you have to provide the pipeline option of that arbitrary date just like when you set any other PipelineOptions.</p>\n</li>\n<li><p>You can always get yesterday's date by <a href=\"https://stackoverflow.com/questions/11425236/get-yesterdays-date-using-date\">Get yesterday&#39;s date using Date</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Instant now = Instant.now();\nInstant yesterday = now.minus(1, ChronoUnit.DAYS);\n</code></pre>\n<p>and then use it directly in your pipeline.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":17212280,"reputation":31,"user_id":12461261,"display_name":"mikeWazowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657648637,"creation_date":1657645164,"question_id":72955917,"body_markdown":"Right now I&#39;m sending failed records from an API call to a GCS bucket thats partitioned by day\r\n\r\nex: \r\n\r\n    gs://path/to/file/2022/07/01\r\n    \r\n    gs://path/to/file/2022/07/02\r\n\r\netc..\r\n\r\nFrom there, I would like to schedule a batch job to retry these failed records the next day using Apache Beam and Dataflow. The issue is that the date at the end of the GCS path is only added when the initial template was uploaded to GCP and remains fixed at that date regardless of when you run the job similar to [this][1] and [this][2]. I&#39;m using a ValueProvider but I cannot figure out a work around for this. \r\n\r\nI&#39;ve found that when I run the pipeline locally, everything works great, but in Dataflow, only the DoFns within the expand function actually get run. \r\n\r\nEssentially what I&#39;m doing here is:\r\n1. getting the initial gcs path and appending current date minus 24 hours to the end in `fileMatch`\r\n2. calling FileIO.readMatches() to convert each `match()` to a `ReadableFile`\r\n3. calling MatchGCSFiles which contains the exact code below that uses the value providers to get the current date and append to the GCS path. I did this to override the existing path because this was the only way to get it to work as I thought I understood a DoFn cannot take in empty input (still learning Beam) \r\n4. call `FileIO.readMatches()` again to convert the new `match()` to a new `ReadableFile` then call the API. \r\n\r\n        String dateFormat = &quot;yyyy/MM/dd&quot;;\r\n            ValueProvider&lt;String&gt; date =\r\n                new ValueProvider&lt;String&gt;() {\r\n                  @Override\r\n                  public String get() {\r\n                    String currentDate = Instant.now().minus(86400000).toDateTime(DateTimeZone.UTC).toString(dateFormat);\r\n                    return currentDate;\r\n                  }\r\n    \r\n                  @Override\r\n                  public boolean isAccessible() {\r\n                    return true;\r\n                  }\r\n                };\r\n            ValueProvider&lt;String&gt; gcsPathWithDate =\r\n                new ValueProvider&lt;String&gt;() {\r\n                  @Override\r\n                  public String get() {\r\n                    return String.format(&quot;%s/%s/*/*.json&quot;, gcsPathPrefix, date.get());\r\n                  }\r\n    \r\n                  @Override\r\n                  public boolean isAccessible() {\r\n                    return true;\r\n                  }\r\n                };\r\n            fileMatch = FileIO.match().filepattern(gcsPathWithDate.get());\r\n          }\r\n    \r\n          PCollectionTuple mixedPColl =\r\n              input\r\n                  .getPipeline()\r\n                  .apply(&quot;File match&quot;, fileMatch)\r\n                  .apply(&quot;applying read matches&quot;, FileIO.readMatches())\r\n                  .apply(&quot;matching files&quot;, ParDo.of(new MatchGCSFiles()))\r\n                  .apply(&quot;applying read matches&quot;, FileIO.readMatches()). //problem here\r\n                  .apply(&quot;Read failed events from GCS&quot;, ParDo.of(new ReadFromGCS()))\r\n                  .apply(//call API)...\r\n\r\nThe problem is in the second FileIO.readMatches(), the return type does not match:\r\nreason: no instance(s) of type variable(s) exist so that PCollection&lt;Match&gt; conforms to PCollection&lt;Metadata&gt;\r\n\r\nI&#39;ve tried different work arounds for this but none seem to work. \r\n\r\nIs there another/better way to dynamically add/replace the date in the GCS path? I&#39;m still learning Beam so if I&#39;m doing something wrong please let me know. \r\n\r\nThanks in advance. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/63780742/how-to-create-a-beam-template-with-current-date-as-an-input-updated-daily-cre\r\n  [2]: https://stackoverflow.com/questions/63587987/passing-in-date-as-a-runtime-argument-in-google-dataflow-template","title":"Read from dynamic GCS bucket partitioned by date using Apache Beam and Dataflow","body":"<p>Right now I'm sending failed records from an API call to a GCS bucket thats partitioned by day</p>\n<p>ex:</p>\n<pre><code>gs://path/to/file/2022/07/01\n\ngs://path/to/file/2022/07/02\n</code></pre>\n<p>etc..</p>\n<p>From there, I would like to schedule a batch job to retry these failed records the next day using Apache Beam and Dataflow. The issue is that the date at the end of the GCS path is only added when the initial template was uploaded to GCP and remains fixed at that date regardless of when you run the job similar to <a href=\"https://stackoverflow.com/questions/63780742/how-to-create-a-beam-template-with-current-date-as-an-input-updated-daily-cre\">this</a> and <a href=\"https://stackoverflow.com/questions/63587987/passing-in-date-as-a-runtime-argument-in-google-dataflow-template\">this</a>. I'm using a ValueProvider but I cannot figure out a work around for this.</p>\n<p>I've found that when I run the pipeline locally, everything works great, but in Dataflow, only the DoFns within the expand function actually get run.</p>\n<p>Essentially what I'm doing here is:</p>\n<ol>\n<li><p>getting the initial gcs path and appending current date minus 24 hours to the end in <code>fileMatch</code></p>\n</li>\n<li><p>calling FileIO.readMatches() to convert each <code>match()</code> to a <code>ReadableFile</code></p>\n</li>\n<li><p>calling MatchGCSFiles which contains the exact code below that uses the value providers to get the current date and append to the GCS path. I did this to override the existing path because this was the only way to get it to work as I thought I understood a DoFn cannot take in empty input (still learning Beam)</p>\n</li>\n<li><p>call <code>FileIO.readMatches()</code> again to convert the new <code>match()</code> to a new <code>ReadableFile</code> then call the API.</p>\n<pre><code> String dateFormat = &quot;yyyy/MM/dd&quot;;\n     ValueProvider&lt;String&gt; date =\n         new ValueProvider&lt;String&gt;() {\n           @Override\n           public String get() {\n             String currentDate = Instant.now().minus(86400000).toDateTime(DateTimeZone.UTC).toString(dateFormat);\n             return currentDate;\n           }\n\n           @Override\n           public boolean isAccessible() {\n             return true;\n           }\n         };\n     ValueProvider&lt;String&gt; gcsPathWithDate =\n         new ValueProvider&lt;String&gt;() {\n           @Override\n           public String get() {\n             return String.format(&quot;%s/%s/*/*.json&quot;, gcsPathPrefix, date.get());\n           }\n\n           @Override\n           public boolean isAccessible() {\n             return true;\n           }\n         };\n     fileMatch = FileIO.match().filepattern(gcsPathWithDate.get());\n   }\n\n   PCollectionTuple mixedPColl =\n       input\n           .getPipeline()\n           .apply(&quot;File match&quot;, fileMatch)\n           .apply(&quot;applying read matches&quot;, FileIO.readMatches())\n           .apply(&quot;matching files&quot;, ParDo.of(new MatchGCSFiles()))\n           .apply(&quot;applying read matches&quot;, FileIO.readMatches()). //problem here\n           .apply(&quot;Read failed events from GCS&quot;, ParDo.of(new ReadFromGCS()))\n           .apply(//call API)...\n</code></pre>\n</li>\n</ol>\n<p>The problem is in the second FileIO.readMatches(), the return type does not match:\nreason: no instance(s) of type variable(s) exist so that PCollection conforms to PCollection</p>\n<p>I've tried different work arounds for this but none seem to work.</p>\n<p>Is there another/better way to dynamically add/replace the date in the GCS path? I'm still learning Beam so if I'm doing something wrong please let me know.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","comparator","priority-queue"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1657647631,"post_id":72956278,"comment_id":128858815,"body_markdown":"Your mistake is rooted in the assumption that elements inside the `PriorityQueue` are stored in the sorted order, which is not true. Have a look https://stackoverflow.com/questions/1795527/how-is-the-java-priority-queue-supposed-to-work","body":"Your mistake is rooted in the assumption that elements inside the <code>PriorityQueue</code> are stored in the sorted order, which is not true. Have a look <a href=\"https://stackoverflow.com/questions/1795527/how-is-the-java-priority-queue-supposed-to-work\" title=\"how is the java priority queue supposed to work\">stackoverflow.com/questions/1795527/&hellip;</a>"},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1657649073,"post_id":72956278,"comment_id":128859243,"body_markdown":"@AlexanderIvanchenko But OP has added a comparator during instantiation.","body":"@AlexanderIvanchenko But OP has added a comparator during instantiation."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1657650295,"post_id":72956278,"comment_id":128859585,"body_markdown":"@nice_dev If we remove the queue it would be `[6, 5][3, 4][1, 2]` and OP says: *&quot;I expect this to be added as `{6,5}, {3,4}, {1,2}`&quot;. They also say: *&quot;But it is adding as {6,5}, {1,2}, {3,4}&quot;* it&#39;s the order of iterating over the queue via iterator.","body":"@nice_dev If we remove the queue it would be <code>[6, 5][3, 4][1, 2]</code> and OP says: <i>&quot;I expect this to be added as <code>{6,5}, {3,4}, {1,2}</code>&quot;. They also say: *&quot;But it is adding as {6,5}, {1,2}, {3,4}&quot;</i> it&#39;s the order of iterating over the queue via iterator."},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1657650754,"post_id":72956278,"comment_id":128859744,"body_markdown":"@AlexanderIvanchenko You mean he checked via pq.toString() and not by iterating over the queue?","body":"@AlexanderIvanchenko You mean he checked via pq.toString() and not by iterating over the queue?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1657652616,"post_id":72956278,"comment_id":128860348,"body_markdown":"@nice_dev I mean that iterator would give the following order `[6, 5][1, 2][3, 4]` which OP feel confused about. The question is incomplete because it lacks the code which produce the output (I&#39;ve used `pq.forEach(arr -&gt; System.out.print(Arrays.toString(arr)));`).","body":"@nice_dev I mean that iterator would give the following order <code>[6, 5][1, 2][3, 4]</code> which OP feel confused about. The question is incomplete because it lacks the code which produce the output (I&#39;ve used <code>pq.forEach(arr -&gt; System.out.print(Arrays.toString(arr)));</code>)."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1657652739,"post_id":72956278,"comment_id":128860393,"body_markdown":"@nice_dev I also interpret this phrase *I am creating a priority queue and using comparator to make sure things are **storing** in descending order* as an evidence of misconception on how Heap data structure and `PriorityQueue`, its implementation works. Sense OP expect elements to be **stored** in sorted order.","body":"@nice_dev I also interpret this phrase <i>I am creating a priority queue and using comparator to make sure things are <b>storing</b> in descending order</i> as an evidence of misconception on how Heap data structure and <code>PriorityQueue</code>, its implementation works. Sense OP expect elements to be <b>stored</b> in sorted order."}],"answers":[{"tags":[],"owner":{"account_id":15123194,"reputation":126,"user_id":10913399,"display_name":"Arsegg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657648229,"creation_date":1657648229,"answer_id":72956474,"question_id":72956278,"body_markdown":"Try to traverse queue:\r\n```\r\nwhile (!pq.isEmpty()) {\r\n  System.out.println(Arrays.toString(pq.poll()));\r\n}\r\n```\r\n```\r\n[6, 5]\r\n[3, 4]\r\n[1, 2]\r\n```","title":"Priority Queue Comparator 2d Array descending order","body":"<p>Try to traverse queue:</p>\n<pre><code>while (!pq.isEmpty()) {\n  System.out.println(Arrays.toString(pq.poll()));\n}\n</code></pre>\n<pre><code>[6, 5]\n[3, 4]\n[1, 2]\n</code></pre>\n"}],"owner":{"account_id":2273311,"reputation":499,"user_id":2000189,"accept_rate":84,"display_name":"user2000189"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72956474,"answer_count":1,"score":-1,"last_activity_date":1657648229,"creation_date":1657647195,"question_id":72956278,"body_markdown":"I am creating a priority queue and using comparator to make sure things are storing in descending order, but end of the day it does not store the values in descending order.\r\n\r\n        int[][] a = {{1,2},{6,5},{3,4}};\r\n        PriorityQueue&lt;int[]&gt; pq = new PriorityQueue&lt;&gt;(new Comparator&lt;int[]&gt;() {\r\n        \t\t\t@Override\r\n        \t\t\tpublic int compare(int[] o1, int[] o2) {\r\n        \t\t\t\tint s1 = (int) (Math.pow(o1[0], 2) + Math.pow(o1[1],2));\r\n        \t\t\t\tint s2 = (int) (Math.pow(o2[0], 2) + Math.pow(o2[1],2));\r\n        \t\t\t\treturn Integer.compare(s2, s1);\r\n    //Also tried Integer.compare(s1, s2); it returns in ascending order\r\n        \t\t\t}\r\n        \t\t});\r\n\r\nWhen I am adding the values to priorityQueue, I expect this to be added as {6,5}, {3,4}, {1,2}. But it is adding as {6,5}, {1,2}, {3,4}.\r\n\r\n    for(int i=0; i&lt;a.length;i++) {\r\n    \t\t\tpq.add(a[i]);\r\n    \t\t}\r\nWhat is the mistake am doing above?","title":"Priority Queue Comparator 2d Array descending order","body":"<p>I am creating a priority queue and using comparator to make sure things are storing in descending order, but end of the day it does not store the values in descending order.</p>\n<pre><code>    int[][] a = {{1,2},{6,5},{3,4}};\n    PriorityQueue&lt;int[]&gt; pq = new PriorityQueue&lt;&gt;(new Comparator&lt;int[]&gt;() {\n                @Override\n                public int compare(int[] o1, int[] o2) {\n                    int s1 = (int) (Math.pow(o1[0], 2) + Math.pow(o1[1],2));\n                    int s2 = (int) (Math.pow(o2[0], 2) + Math.pow(o2[1],2));\n                    return Integer.compare(s2, s1);\n//Also tried Integer.compare(s1, s2); it returns in ascending order\n                }\n            });\n</code></pre>\n<p>When I am adding the values to priorityQueue, I expect this to be added as {6,5}, {3,4}, {1,2}. But it is adding as {6,5}, {1,2}, {3,4}.</p>\n<pre><code>for(int i=0; i&lt;a.length;i++) {\n            pq.add(a[i]);\n        }\n</code></pre>\n<p>What is the mistake am doing above?</p>\n"},{"tags":["java","php","php-java-bridge"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1657648674,"post_id":72956472,"comment_id":128859119,"body_markdown":"Unless you are very experienced don’t mix languages like this.  There may be a lot of pain down that path.  What is the actual problem that you think this will solve?","body":"Unless you are very experienced don’t mix languages like this.  There may be a lot of pain down that path.  What is the actual problem that you think this will solve?"},{"owner":{"account_id":20454159,"reputation":1,"user_id":19536460,"display_name":"Mauricio Perez"},"score":0,"creation_date":1657652751,"post_id":72956472,"comment_id":128860399,"body_markdown":"Hi @Thorbj&#248;rnRavnAndersen, ok I got your idea, but what I&#39;m trying to solve is generate a PDF Report from Jaspersoft Studio that I made, and from a library from PHP I&#39;m not able to do it, because it generates me a lot of errors.","body":"Hi @Thorbj&#248;rnRavnAndersen, ok I got your idea, but what I&#39;m trying to solve is generate a PDF Report from Jaspersoft Studio that I made, and from a library from PHP I&#39;m not able to do it, because it generates me a lot of errors."}],"owner":{"account_id":20454159,"reputation":1,"user_id":19536460,"display_name":"Mauricio Perez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657648224,"creation_date":1657648224,"question_id":72956472,"body_markdown":"I&#39;m here trying to deal with how to place the JavaBridge package that I downloaded, into my PHP project to start using its classes contained (for example to require into my php file the java.inc class). I have been trying to suit it for my application project. I will be pending for any response from you all! beforehand I thank you for your help!","title":"How do I place files of JavaBridge for my PHP Project?","body":"<p>I'm here trying to deal with how to place the JavaBridge package that I downloaded, into my PHP project to start using its classes contained (for example to require into my php file the java.inc class). I have been trying to suit it for my application project. I will be pending for any response from you all! beforehand I thank you for your help!</p>\n"},{"tags":["java","performance","variables","memory"],"comments":[{"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"score":0,"creation_date":1657649592,"post_id":72956453,"comment_id":128859409,"body_markdown":"`bar` is simply a variable that holds the reference to the return of `foo.getBar()`.  Assigning a new variable for an already existing reference is not expensive, unless you are doing that 1000s of times and/or holding these references in an unwanted manner (that they don&#39;t get garbage collected and cause memory leak).  Otherwise, there would be literally no performance difference between the two approaches for any practical purposes.  You might want to do that and check the readings with a profiler.  You will only start noticing a difference if you do that in a loop for 1000s of times.","body":"<code>bar</code> is simply a variable that holds the reference to the return of <code>foo.getBar()</code>.  Assigning a new variable for an already existing reference is not expensive, unless you are doing that 1000s of times and/or holding these references in an unwanted manner (that they don&#39;t get garbage collected and cause memory leak).  Otherwise, there would be literally no performance difference between the two approaches for any practical purposes.  You might want to do that and check the readings with a profiler.  You will only start noticing a difference if you do that in a loop for 1000s of times."},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1657650320,"post_id":72956453,"comment_id":128859596,"body_markdown":"That makes no different because the compiler does a lot of optimizations. If ```bar``` is not used in the further code, no extra memory will be allocated.","body":"That makes no different because the compiler does a lot of optimizations. If <code>bar</code> is not used in the further code, no extra memory will be allocated."}],"owner":{"account_id":10526668,"reputation":3195,"user_id":10426052,"display_name":"Baterka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657648104,"creation_date":1657648104,"question_id":72956453,"body_markdown":"Is there any performance difference (or memory usage difference at least) in Java when I access class property trough getter vs. when I assign value from getter into new variable and then access it?\r\n\r\nThis is simple example:\r\n```java\r\nclass Foo {\r\n    String bar = &quot;bar&quot;;\r\n\r\n    public String getBar() {\r\n        return property;\r\n    }\r\n}\r\n\r\n\r\nFoo foo = new Foo();\r\n\r\n// Accessing value directly\r\nSystem.out.println(foo.getBar());\r\n\r\n// Accessing it trough &quot;middleman&quot; variable\r\nString bar = foo.getBar();\r\nSystem.out.println(bar);\r\n```\r\n\r\nI suppose that until Java compiler see that I am not changing value of `bar`, it will ignore the variable and generates the code in a way that it will be same as first example? Or I am wrong?","title":"Performance difference between accesing properties with getters vs assigning it to variable and then accesing it","body":"<p>Is there any performance difference (or memory usage difference at least) in Java when I access class property trough getter vs. when I assign value from getter into new variable and then access it?</p>\n<p>This is simple example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Foo {\n    String bar = &quot;bar&quot;;\n\n    public String getBar() {\n        return property;\n    }\n}\n\n\nFoo foo = new Foo();\n\n// Accessing value directly\nSystem.out.println(foo.getBar());\n\n// Accessing it trough &quot;middleman&quot; variable\nString bar = foo.getBar();\nSystem.out.println(bar);\n</code></pre>\n<p>I suppose that until Java compiler see that I am not changing value of <code>bar</code>, it will ignore the variable and generates the code in a way that it will be same as first example? Or I am wrong?</p>\n"},{"tags":["java","spring","spring-boot","rest","crud"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1657623571,"post_id":72951173,"comment_id":128849621,"body_markdown":"I very much doubt there is one spring-boot service out there that has everything in the controller","body":"I very much doubt there is one spring-boot service out there that has everything in the controller"}],"answers":[{"tags":[],"owner":{"account_id":25781655,"reputation":109,"user_id":19527184,"display_name":"gaurav jha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657624470,"creation_date":1657624470,"answer_id":72951418,"question_id":72951173,"body_markdown":"you can mark your logic class with `@Service` and use that for example you can make a AuthService and use it like\r\n\r\n    @Service\r\n    public class AuthService{\r\n          public returnType login(){\r\n    //Logic\r\n     }\r\n    }\r\n\r\nand  use this like\r\n\r\n     @RestController\r\n     public class AuthController {\r\n         \r\n         AuthService authService;\r\n        \r\n        @RequestMapping(value = &quot;/register&quot;, method = RequestMethod.POST)\r\n        @ResponseStatus(HttpStatus.CREATED)\r\n        public void register(@Valid @RequestBody UserDTO newUser) {\r\n           authService.login();\r\n        }\r\n     }\r\n\r\n","title":"Spring Boot | Using a separate file for logic","body":"<p>you can mark your logic class with <code>@Service</code> and use that for example you can make a AuthService and use it like</p>\n<pre><code>@Service\npublic class AuthService{\n      public returnType login(){\n//Logic\n }\n}\n</code></pre>\n<p>and  use this like</p>\n<pre><code> @RestController\n public class AuthController {\n     \n     AuthService authService;\n    \n    @RequestMapping(value = &quot;/register&quot;, method = RequestMethod.POST)\n    @ResponseStatus(HttpStatus.CREATED)\n    public void register(@Valid @RequestBody UserDTO newUser) {\n       authService.login();\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25660167,"reputation":89,"user_id":19426256,"display_name":"Drishti Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657624881,"creation_date":1657624881,"answer_id":72951490,"question_id":72951173,"body_markdown":"You can write your business logic in a new separate file at service layer.\r\nSuppose you name it as `AuthService` and you mark it with *annotation @Service*.\r\n```\r\n@Service\r\npublic class AuthService{\r\n}\r\n```\r\n\r\nYou can then Autowire it in your controller class.\r\n\r\n```\r\n@RestController\r\npublic class AuthController {\r\n\r\n    @Autowired\r\n    AuthService authService;\r\n    \r\n    @RequestMapping(value = &quot;/register&quot;, method = RequestMethod.POST)\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public void register(@Valid @RequestBody UserDTO newUser) {\r\n       // here I call the register function from AuthLogic\r\n    }\r\n }\r\n","title":"Spring Boot | Using a separate file for logic","body":"<p>You can write your business logic in a new separate file at service layer.\nSuppose you name it as <code>AuthService</code> and you mark it with <em>annotation @Service</em>.</p>\n<pre><code>@Service\npublic class AuthService{\n}\n</code></pre>\n<p>You can then Autowire it in your controller class.</p>\n<pre><code>@RestController\npublic class AuthController {\n\n    @Autowired\n    AuthService authService;\n    \n    @RequestMapping(value = &quot;/register&quot;, method = RequestMethod.POST)\n    @ResponseStatus(HttpStatus.CREATED)\n    public void register(@Valid @RequestBody UserDTO newUser) {\n       // here I call the register function from AuthLogic\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25788871,"reputation":44,"user_id":19533238,"display_name":"Ravi Kiran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657647887,"creation_date":1657624959,"answer_id":72951504,"question_id":72951173,"body_markdown":"There is no specific layout or code structure for Spring Boot Projects. However, there are some best practices followed by developers that will help us too. You can divide your project into layers like service layer, entity layer, and repository layer.\r\n\r\n1. We use the entity layer to write all model and POJO classes. We annotate them with `@Entity`.\r\n\r\n2. We use `@Repository` to indicate that this is a repository interface that is used to do some basic `CRUD` operations.\r\n*Sidenote:-* You don&#39;t have to write @Repository for classes that implement or interfaces that extends Repository interfaces provided by Spring Boot framework.\r\n\r\n3. We use `@Service` to say that this is the service class where your all business logic will be present.\r\n\r\n4. We use the controller layer to receive HTTP requests and send back HTTP Responses or views.\r\n\r\nYou can learn and understand more from [here][1]\r\n\r\n\r\nYou can refer to this Image to understand the structure\r\n[project structure][2]\r\n\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/spring-boot-code-structure/\r\n  [2]: https://i.stack.imgur.com/dudv8.png","title":"Spring Boot | Using a separate file for logic","body":"<p>There is no specific layout or code structure for Spring Boot Projects. However, there are some best practices followed by developers that will help us too. You can divide your project into layers like service layer, entity layer, and repository layer.</p>\n<ol>\n<li><p>We use the entity layer to write all model and POJO classes. We annotate them with <code>@Entity</code>.</p>\n</li>\n<li><p>We use <code>@Repository</code> to indicate that this is a repository interface that is used to do some basic <code>CRUD</code> operations.\n<em>Sidenote:-</em> You don't have to write @Repository for classes that implement or interfaces that extends Repository interfaces provided by Spring Boot framework.</p>\n</li>\n<li><p>We use <code>@Service</code> to say that this is the service class where your all business logic will be present.</p>\n</li>\n<li><p>We use the controller layer to receive HTTP requests and send back HTTP Responses or views.</p>\n</li>\n</ol>\n<p>You can learn and understand more from <a href=\"https://www.geeksforgeeks.org/spring-boot-code-structure/\" rel=\"nofollow noreferrer\">here</a></p>\n<p>You can refer to this Image to understand the structure\n<a href=\"https://i.stack.imgur.com/dudv8.png\" rel=\"nofollow noreferrer\">project structure</a></p>\n"},{"tags":[],"owner":{"account_id":378848,"reputation":202,"user_id":731842,"accept_rate":25,"display_name":"user731842"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657625452,"creation_date":1657625452,"answer_id":72951604,"question_id":72951173,"body_markdown":"Using separate files, or classes more importantly, is very recommended in Spring, and I assume most other languages.\r\n\r\nThe `@Bean` annotation on `AuthLogic.java` is unneeded and I think may cause startup or compilation errors.\r\n\r\nI would change the name of AuthLogic to AuthLogicImpl, create an interface named AuthLogic with the method signature `void register()`, and have AuthLogicImpl implement AuthLogic. Then you can create a constructor for `AuthController` which accepts and AuthLogic parameter and sets it to a private field (note using the interface not the implementation in the constructor).\r\n\r\nAt the core of Spring is the IoC container. This container holds &quot;beans&quot; that can be injected or autowired into other beans. These beans are an instance of their class and can be used by other beans. Remember Spring uses the singleton pattern, so your beans should be stateless. This allows Spring to handle the application startup for you, so you don&#39;t need to write a ton of code creating all the different services/classes and wiring them together, it&#39;s all automagically done for you.\r\n\r\nThere are two key annoitations that you appear to be confused about:\r\n\r\n`@Component` Putting this above a class will create an instance of that class (a bean) and put it into the IoC container. Other beans can access this by accepting the original beans interface in its constructor. So if I put `@Component` above my class `FooImpl` which implements `Foo`, then I can create a class, `BarImpl` with the constructor `public BarImpl(Foo foo) {this.foo = foo}` and `BarImpl` can use any public method of Foo (which will use FooImpl&#39;s implementation).\r\n\r\n`@Bean` this is to be put on a method of a class that is annotated with `@Configuration`. This tells Spring that this method should be run at startup, and this method will return a bean that Spring should add to the IoC container. This is a popular way of configuring a bean that requires some parameters, such as the bean that manages the connection to a third party service or datastore, especially when that there is a little bit of logic that needs to go into creating the bean.\r\n\r\nNote that the above is very broad, and there are some specifics if you need to dig deep into the spring framework, so there will be more clarification in the Spring documentation or you dig into some established Spring project. However it should suffice to answer the broad question of what is going on with @Component and @Bean.","title":"Spring Boot | Using a separate file for logic","body":"<p>Using separate files, or classes more importantly, is very recommended in Spring, and I assume most other languages.</p>\n<p>The <code>@Bean</code> annotation on <code>AuthLogic.java</code> is unneeded and I think may cause startup or compilation errors.</p>\n<p>I would change the name of AuthLogic to AuthLogicImpl, create an interface named AuthLogic with the method signature <code>void register()</code>, and have AuthLogicImpl implement AuthLogic. Then you can create a constructor for <code>AuthController</code> which accepts and AuthLogic parameter and sets it to a private field (note using the interface not the implementation in the constructor).</p>\n<p>At the core of Spring is the IoC container. This container holds &quot;beans&quot; that can be injected or autowired into other beans. These beans are an instance of their class and can be used by other beans. Remember Spring uses the singleton pattern, so your beans should be stateless. This allows Spring to handle the application startup for you, so you don't need to write a ton of code creating all the different services/classes and wiring them together, it's all automagically done for you.</p>\n<p>There are two key annoitations that you appear to be confused about:</p>\n<p><code>@Component</code> Putting this above a class will create an instance of that class (a bean) and put it into the IoC container. Other beans can access this by accepting the original beans interface in its constructor. So if I put <code>@Component</code> above my class <code>FooImpl</code> which implements <code>Foo</code>, then I can create a class, <code>BarImpl</code> with the constructor <code>public BarImpl(Foo foo) {this.foo = foo}</code> and <code>BarImpl</code> can use any public method of Foo (which will use FooImpl's implementation).</p>\n<p><code>@Bean</code> this is to be put on a method of a class that is annotated with <code>@Configuration</code>. This tells Spring that this method should be run at startup, and this method will return a bean that Spring should add to the IoC container. This is a popular way of configuring a bean that requires some parameters, such as the bean that manages the connection to a third party service or datastore, especially when that there is a little bit of logic that needs to go into creating the bean.</p>\n<p>Note that the above is very broad, and there are some specifics if you need to dig deep into the spring framework, so there will be more clarification in the Spring documentation or you dig into some established Spring project. However it should suffice to answer the broad question of what is going on with @Component and @Bean.</p>\n"}],"owner":{"account_id":16993744,"reputation":35,"user_id":12292724,"display_name":"Sergey Dyakov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":799,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72951490,"answer_count":4,"score":1,"last_activity_date":1657647887,"creation_date":1657623392,"question_id":72951173,"body_markdown":"I am writing a small CRUD in Spring and Java. And I want to use a separate file for writing logic, this is very convenient for me, I did this when developing with NestJS. I have a few questions, is it correct to do this in Spring, or should I do everything inside a function in the controller. And if I write logic in a separate file, I should mark the logic class as &lt;kbd&gt;@Component&lt;/kbd&gt; and the functions inside it as &lt;kbd&gt;@Bean&lt;/kbd&gt;, right? I am new to Spring and as I understand it, I have to do this in order for the application to work correctly and my functions to be in the application context.\r\n\r\n*AuthLogic.java*\r\n\r\n    @Component\r\n    public class AuthLogic {\r\n       @Bean\r\n       public void register() {\r\n           // code ... \r\n       }\r\n    }\r\n   \r\n*AuthController.java*\r\n\r\n     @RestController\r\n     public class AuthController {\r\n        @RequestMapping(value = &quot;/register&quot;, method = RequestMethod.POST)\r\n        @ResponseStatus(HttpStatus.CREATED)\r\n        public void register(@Valid @RequestBody UserDTO newUser) {\r\n           // here I call the register function from AuthLogic\r\n        }\r\n     }","title":"Spring Boot | Using a separate file for logic","body":"<p>I am writing a small CRUD in Spring and Java. And I want to use a separate file for writing logic, this is very convenient for me, I did this when developing with NestJS. I have a few questions, is it correct to do this in Spring, or should I do everything inside a function in the controller. And if I write logic in a separate file, I should mark the logic class as <kbd>@Component</kbd> and the functions inside it as <kbd>@Bean</kbd>, right? I am new to Spring and as I understand it, I have to do this in order for the application to work correctly and my functions to be in the application context.</p>\n<p><em>AuthLogic.java</em></p>\n<pre><code>@Component\npublic class AuthLogic {\n   @Bean\n   public void register() {\n       // code ... \n   }\n}\n</code></pre>\n<p><em>AuthController.java</em></p>\n<pre><code> @RestController\n public class AuthController {\n    @RequestMapping(value = &quot;/register&quot;, method = RequestMethod.POST)\n    @ResponseStatus(HttpStatus.CREATED)\n    public void register(@Valid @RequestBody UserDTO newUser) {\n       // here I call the register function from AuthLogic\n    }\n }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17972150,"reputation":276,"user_id":14567528,"display_name":"Bob th"},"score":0,"creation_date":1657649366,"post_id":72956415,"comment_id":128859354,"body_markdown":"This might be a silly question from me, but why use an Enum and not a HashMap&lt;Character, Character&gt;?","body":"This might be a silly question from me, but why use an Enum and not a HashMap&lt;Character, Character&gt;?"},{"owner":{"account_id":13403207,"reputation":17,"user_id":9672039,"display_name":"Noble amar-ninja Gamer"},"score":0,"creation_date":1657652829,"post_id":72956415,"comment_id":128860424,"body_markdown":"Thank you for your comment, your solution is valid but has the same drawbacks that I mentioned it in my question. Further, when implementing your solution, we have to add all characters manually, I thought of Enum to do it in a more abstract way.","body":"Thank you for your comment, your solution is valid but has the same drawbacks that I mentioned it in my question. Further, when implementing your solution, we have to add all characters manually, I thought of Enum to do it in a more abstract way."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1657657631,"post_id":72956415,"comment_id":128861892,"body_markdown":"One solution might be to create a text file with the conversion characters.  Your code would read the text file and create the `Map`.  Yes, you have to manually create the text files for each language, but once they&#39;re made, they can be reused.","body":"One solution might be to create a text file with the conversion characters.  Your code would read the text file and create the <code>Map</code>.  Yes, you have to manually create the text files for each language, but once they&#39;re made, they can be reused."},{"owner":{"account_id":13403207,"reputation":17,"user_id":9672039,"display_name":"Noble amar-ninja Gamer"},"score":0,"creation_date":1657661855,"post_id":72956415,"comment_id":128862976,"body_markdown":"Thank you for the idea, but your solution still will not solve drawback [1] which I mentioned. Just to clarify the drawback, suppose I input the text in Arabic &quot;لامشؤن&quot;, it will be ambiguous because it has two different mappings: 1- black. 2- ghlack. And the program will output it as &quot;ghlack&quot;.  (As it goes character by character). Because as I mentioned, &quot;لا&quot; can be written in 2 ways using the keyboard. Hence this solution won&#39;t work with a language that has a letter to be written in two different ways.","body":"Thank you for the idea, but your solution still will not solve drawback [1] which I mentioned. Just to clarify the drawback, suppose I input the text in Arabic &quot;لامشؤن&quot;, it will be ambiguous because it has two different mappings: 1- black. 2- ghlack. And the program will output it as &quot;ghlack&quot;.  (As it goes character by character). Because as I mentioned, &quot;لا&quot; can be written in 2 ways using the keyboard. Hence this solution won&#39;t work with a language that has a letter to be written in two different ways."},{"owner":{"account_id":17972150,"reputation":276,"user_id":14567528,"display_name":"Bob th"},"score":0,"creation_date":1657669005,"post_id":72956415,"comment_id":128864353,"body_markdown":"You could just make the `HashMap` output an `ArrayList` value with the different possible outcomes. And I&#39;m not quite sure why &quot;mapping special characters is overwhelming&quot;; you can just use `HashMap.getOrDefault`","body":"You could just make the <code>HashMap</code> output an <code>ArrayList</code> value with the different possible outcomes. And I&#39;m not quite sure why &quot;mapping special characters is overwhelming&quot;; you can just use <code>HashMap.getOrDefault</code>"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1657688798,"post_id":72956415,"comment_id":128867220,"body_markdown":"I&#39;m wondering why the operating system&#39;s input method is not enough. On Windows you can switch between multiple input methods with the mouse or by pressing Shift-Alt. So why all this coding for only one application?","body":"I&#39;m wondering why the operating system&#39;s input method is not enough. On Windows you can switch between multiple input methods with the mouse or by pressing Shift-Alt. So why all this coding for only one application?"},{"owner":{"account_id":13403207,"reputation":17,"user_id":9672039,"display_name":"Noble amar-ninja Gamer"},"score":0,"creation_date":1657953904,"post_id":72956415,"comment_id":128936581,"body_markdown":"Exactly @HiranChaudhuri, I need a way to do it directly by the OS, and not doing it manually like this.","body":"Exactly @HiranChaudhuri, I need a way to do it directly by the OS, and not doing it manually like this."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1658049734,"post_id":72956415,"comment_id":128950796,"body_markdown":"@Nobleamar-ninjaGamer But what you are coding and asking for is how to program something similar in Java. You should then close this question and raise one how to switch the OS input method programmatically.","body":"@Nobleamar-ninjaGamer But what you are coding and asking for is how to program something similar in Java. You should then close this question and raise one how to switch the OS input method programmatically."}],"owner":{"account_id":13403207,"reputation":17,"user_id":9672039,"display_name":"Noble amar-ninja Gamer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657647880,"creation_date":1657647880,"question_id":72956415,"body_markdown":"I&#39;m aware of possible duplicates [How does the Google &quot;Did you mean?&quot; Algorithm work?][1] \r\nHowever, my problem is not related to Translation, Transliteration, or spelling corrector.\r\n\r\nI am developing an application in Java that ***maps the English keyboard keys to the same corresponding Arabic key***. \r\n\r\nThe best working example is Google&#39;s &quot;**Did you mean**&quot; algorithm:\r\n\r\n- **Write in Arabic** &quot;صاشف هس فاهس؟&quot;\r\n- **Google will give the result**: &quot;Did you mean: what is this?&quot;\r\n\r\nAn example is given [here][2].\r\n\r\nI have done this solution manually by making Enum with a map as follows: \r\n\r\n    package com.something.commands.text.model.enums;\r\n    \r\n    import lombok.Getter;\r\n    \r\n    import java.util.HashMap;\r\n    \r\n    @Getter\r\n    public enum EKeyAlphabet {\r\n    \r\n        Q(&quot;q&quot;, &quot;ض&quot;),\r\n        W(&quot;w&quot;, &quot;ص&quot;),\r\n        E(&quot;e&quot;, &quot;ث&quot;),\r\n        R(&quot;r&quot;, &quot;ق&quot;),\r\n        T(&quot;t&quot;, &quot;ف&quot;),\r\n        Y(&quot;y&quot;, &quot;غ&quot;),\r\n        U(&quot;u&quot;, &quot;ع&quot;),\r\n        I(&quot;i&quot;, &quot;ه&quot;),\r\n        O(&quot;o&quot;,&quot;خ&quot;),\r\n        P(&quot;p&quot;, &quot;ح&quot;),\r\n        LEFT_CURLY(&quot;{&quot;, &quot;ج&quot;),\r\n        RIGHT_CURLY(&quot;}&quot;, &quot;د&quot;),\r\n        A(&quot;a&quot;, &quot;ش&quot;),\r\n        S(&quot;s&quot;, &quot;س&quot;),\r\n        D(&quot;d&quot;, &quot;ي&quot;),\r\n        F(&quot;f&quot;, &quot;ب&quot;),\r\n        G(&quot;g&quot;, &quot;ل&quot;),\r\n        H(&quot;h&quot;, &quot;ا&quot;),\r\n        J(&quot;j&quot;, &quot;ت&quot;),\r\n        K(&quot;k&quot;, &quot;ن&quot;),\r\n        L(&quot;l&quot;, &quot;م&quot;),\r\n        SEMICOLON(&quot;;&quot;, &quot;ك&quot;),\r\n        COLON(&quot;&#39;&quot;, &quot;ط&quot;),\r\n        Z(&quot;z&quot;, &quot;ئ&quot;),\r\n        X(&quot;x&quot;, &quot;ء&quot;),\r\n        C(&quot;c&quot;, &quot;ؤ&quot;),\r\n        V(&quot;v&quot;, &quot;ر&quot;),\r\n        B(&quot;b&quot;, &quot;لا&quot;),\r\n        N(&quot;n&quot;, &quot;ى&quot;),\r\n        M(&quot;m&quot;, &quot;ة&quot;),\r\n        COMMA(&quot;,&quot;, &quot;و&quot;),\r\n        DOT(&quot;.&quot;, &quot;ز&quot;),\r\n        SLASH(&quot;//&quot;, &quot;ظ&quot;),\r\n        TICK(&quot;`&quot;, &quot;ذ&quot;)\r\n    \r\n        ;\r\n    \r\n    \r\n    \r\n        private String enAlpha;\r\n        private String arAlpha;\r\n        private static HashMap&lt;String, String&gt; map;\r\n    \r\n        EKeyAlphabet(String enAlpha, String arAlpha){\r\n           this.enAlpha = enAlpha;\r\n           this.arAlpha = arAlpha;\r\n        }\r\n    \r\n        public static String getEnAlpha(String arAlpha){\r\n            if(map == null){\r\n                initializeMap();\r\n            }\r\n            if(map.containsKey(arAlpha)){\r\n                return map.get(arAlpha);\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        private static void initializeMap(){\r\n            map = new HashMap&lt;&gt;();\r\n            for (EKeyAlphabet alphabet: EKeyAlphabet.values()){\r\n                map.put(alphabet.getArAlpha(), alphabet.getEnAlpha());\r\n            }\r\n        }\r\n    }\r\nHowever, this solution has drawbacks: \r\n\r\n 1. **There are some possibilities of ambiguous mapping between characters** (i.e.: &quot;لا&quot; can be produced by pressing &quot;g&quot; then &quot;h&quot; keyboard keys in Arabic Windows language, or can be produced directly by pressing &quot;b&quot; **ONLY**).\r\n 2. **Mapping special characters like** &quot;إ&quot;, &quot; ً&quot;, &quot; ِ&quot;, etc. is **overwhelming**.\r\n\r\nSo, in conclusion:\r\n\r\n 1. **Is there any third-party library or API that does that?**\r\n 2. **Is it possible to accomplish this solution by converting the Unicode?** \r\n 3. **Is it possible to do it in most languages** (i.e.: not only English -&gt; Arabic).\r\n\r\n  [1]: https://stackoverflow.com/questions/307291/how-does-the-google-did-you-mean-algorithm-work\r\n  [2]: https://i.stack.imgur.com/fElPE.png","title":"Map English keyboard keys to corresponding Arabic and vice versa in Java","body":"<p>I'm aware of possible duplicates <a href=\"https://stackoverflow.com/questions/307291/how-does-the-google-did-you-mean-algorithm-work\">How does the Google &quot;Did you mean?&quot; Algorithm work?</a>\nHowever, my problem is not related to Translation, Transliteration, or spelling corrector.</p>\n<p>I am developing an application in Java that <em><strong>maps the English keyboard keys to the same corresponding Arabic key</strong></em>.</p>\n<p>The best working example is Google's &quot;<strong>Did you mean</strong>&quot; algorithm:</p>\n<ul>\n<li><strong>Write in Arabic</strong> &quot;صاشف هس فاهس؟&quot;</li>\n<li><strong>Google will give the result</strong>: &quot;Did you mean: what is this?&quot;</li>\n</ul>\n<p>An example is given <a href=\"https://i.stack.imgur.com/fElPE.png\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I have done this solution manually by making Enum with a map as follows:</p>\n<pre><code>package com.something.commands.text.model.enums;\n\nimport lombok.Getter;\n\nimport java.util.HashMap;\n\n@Getter\npublic enum EKeyAlphabet {\n\n    Q(&quot;q&quot;, &quot;ض&quot;),\n    W(&quot;w&quot;, &quot;ص&quot;),\n    E(&quot;e&quot;, &quot;ث&quot;),\n    R(&quot;r&quot;, &quot;ق&quot;),\n    T(&quot;t&quot;, &quot;ف&quot;),\n    Y(&quot;y&quot;, &quot;غ&quot;),\n    U(&quot;u&quot;, &quot;ع&quot;),\n    I(&quot;i&quot;, &quot;ه&quot;),\n    O(&quot;o&quot;,&quot;خ&quot;),\n    P(&quot;p&quot;, &quot;ح&quot;),\n    LEFT_CURLY(&quot;{&quot;, &quot;ج&quot;),\n    RIGHT_CURLY(&quot;}&quot;, &quot;د&quot;),\n    A(&quot;a&quot;, &quot;ش&quot;),\n    S(&quot;s&quot;, &quot;س&quot;),\n    D(&quot;d&quot;, &quot;ي&quot;),\n    F(&quot;f&quot;, &quot;ب&quot;),\n    G(&quot;g&quot;, &quot;ل&quot;),\n    H(&quot;h&quot;, &quot;ا&quot;),\n    J(&quot;j&quot;, &quot;ت&quot;),\n    K(&quot;k&quot;, &quot;ن&quot;),\n    L(&quot;l&quot;, &quot;م&quot;),\n    SEMICOLON(&quot;;&quot;, &quot;ك&quot;),\n    COLON(&quot;'&quot;, &quot;ط&quot;),\n    Z(&quot;z&quot;, &quot;ئ&quot;),\n    X(&quot;x&quot;, &quot;ء&quot;),\n    C(&quot;c&quot;, &quot;ؤ&quot;),\n    V(&quot;v&quot;, &quot;ر&quot;),\n    B(&quot;b&quot;, &quot;لا&quot;),\n    N(&quot;n&quot;, &quot;ى&quot;),\n    M(&quot;m&quot;, &quot;ة&quot;),\n    COMMA(&quot;,&quot;, &quot;و&quot;),\n    DOT(&quot;.&quot;, &quot;ز&quot;),\n    SLASH(&quot;//&quot;, &quot;ظ&quot;),\n    TICK(&quot;`&quot;, &quot;ذ&quot;)\n\n    ;\n\n\n\n    private String enAlpha;\n    private String arAlpha;\n    private static HashMap&lt;String, String&gt; map;\n\n    EKeyAlphabet(String enAlpha, String arAlpha){\n       this.enAlpha = enAlpha;\n       this.arAlpha = arAlpha;\n    }\n\n    public static String getEnAlpha(String arAlpha){\n        if(map == null){\n            initializeMap();\n        }\n        if(map.containsKey(arAlpha)){\n            return map.get(arAlpha);\n        }\n        return null;\n    }\n\n    private static void initializeMap(){\n        map = new HashMap&lt;&gt;();\n        for (EKeyAlphabet alphabet: EKeyAlphabet.values()){\n            map.put(alphabet.getArAlpha(), alphabet.getEnAlpha());\n        }\n    }\n}\n</code></pre>\n<p>However, this solution has drawbacks:</p>\n<ol>\n<li><strong>There are some possibilities of ambiguous mapping between characters</strong> (i.e.: &quot;لا&quot; can be produced by pressing &quot;g&quot; then &quot;h&quot; keyboard keys in Arabic Windows language, or can be produced directly by pressing &quot;b&quot; <strong>ONLY</strong>).</li>\n<li><strong>Mapping special characters like</strong> &quot;إ&quot;, &quot; ً&quot;, &quot; ِ&quot;, etc. is <strong>overwhelming</strong>.</li>\n</ol>\n<p>So, in conclusion:</p>\n<ol>\n<li><strong>Is there any third-party library or API that does that?</strong></li>\n<li><strong>Is it possible to accomplish this solution by converting the Unicode?</strong></li>\n<li><strong>Is it possible to do it in most languages</strong> (i.e.: not only English -&gt; Arabic).</li>\n</ol>\n"},{"tags":["java","elasticsearch","apache-flink","flink-streaming","elasticsearch-7"],"answers":[{"tags":[],"owner":{"account_id":21886042,"reputation":1703,"user_id":16173669,"display_name":"Martijn Visser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657647860,"creation_date":1657647860,"answer_id":72956411,"question_id":72876465,"body_markdown":"There&#39;s no immediate solution. Flink&#39;s Elasticsearch connector uses the RestHighLevelClient. The compatibility mode was only added to version 7.17, but Elastic has relicenses that client to an incompatible SSPL license. That prevents the current Flink implementation from upgrading. You can track https://issues.apache.org/jira/browse/FLINK-26088 for adding proper support for Elasticsearch 8, though there has been no volunteer yet to pick it up. ","title":"How to use setApiCompatibilityMode in Elasticsearch7 sink for Flink Streaming Job","body":"<p>There's no immediate solution. Flink's Elasticsearch connector uses the RestHighLevelClient. The compatibility mode was only added to version 7.17, but Elastic has relicenses that client to an incompatible SSPL license. That prevents the current Flink implementation from upgrading. You can track <a href=\"https://issues.apache.org/jira/browse/FLINK-26088\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/FLINK-26088</a> for adding proper support for Elasticsearch 8, though there has been no volunteer yet to pick it up.</p>\n"}],"owner":{"account_id":21395608,"reputation":3,"user_id":15758714,"display_name":"santiar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":657,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72956411,"answer_count":1,"score":0,"last_activity_date":1657647860,"creation_date":1657063500,"question_id":72876465,"body_markdown":"I have a flink streaming job that saves proccessed data to an elasticsearch version 8 cluster, unfortunately I am using flink version 1.13.6 which still uses the elasticsearch version 7 sinks. So I get a parsing error when trying to save data. \r\n\r\nI have two options, either delete my current cluster and set up an elasticsearch 7 cluster or enable compatibility mode for the sink. \r\n\r\nI can&#39;t delete my cluster because I have a large amount of important data that would take forever to recover, and since snapshots don&#39;t work from higher to lower versions that leaves me with the second option. \r\n\r\nI searched online and found this: https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-compatibility.html.\r\n\r\nThe problem is I don&#39;t know where to enable that. Here is my code: \r\n\r\n```\r\nimport java.io.Serializable;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport org.apache.flink.api.common.functions.RuntimeContext;\r\nimport org.apache.flink.api.java.tuple.Tuple4;\r\nimport org.apache.flink.shaded.jackson2.com.fasterxml.jackson.core.JsonProcessingException;\r\nimport org.apache.flink.shaded.jackson2.com.fasterxml.jackson.databind.ObjectMapper;\r\nimport org.apache.flink.streaming.connectors.elasticsearch.ActionRequestFailureHandler;\r\nimport org.apache.flink.streaming.connectors.elasticsearch.ElasticsearchSinkFunction;\r\nimport org.apache.flink.streaming.connectors.elasticsearch.RequestIndexer;\r\nimport org.apache.flink.streaming.connectors.elasticsearch7.ElasticsearchSink;\r\nimport org.apache.flink.streaming.connectors.elasticsearch7.RestClientFactory;\r\nimport org.apache.flink.util.ExceptionUtils;\r\nimport org.apache.http.HttpHost;\r\nimport org.apache.http.auth.AuthScope;\r\nimport org.apache.http.auth.UsernamePasswordCredentials;\r\nimport org.apache.http.client.CredentialsProvider;\r\nimport org.apache.http.impl.client.BasicCredentialsProvider;\r\nimport org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\r\nimport org.elasticsearch.ElasticsearchParseException;\r\nimport org.elasticsearch.action.ActionRequest;\r\nimport org.elasticsearch.action.index.IndexRequest;\r\nimport org.elasticsearch.client.Requests;\r\nimport org.elasticsearch.client.RestClientBuilder;\r\nimport org.elasticsearch.common.util.concurrent.EsRejectedExecutionException;\r\n\r\npublic class ElasticMemberSink implements Serializable {\r\n\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate transient ElasticsearchSink.Builder&lt;Tuple4&lt;String, Integer, Integer, Integer&gt;&gt; memberEsSinkBuilder;\r\n\r\n\tpublic ElasticMemberSink(List&lt;HttpHost&gt; httpHosts, String elasticPassword) {\r\n\t\t// create member sink\r\n\t\tmemberEsSinkBuilder = new ElasticsearchSink.Builder&lt;&gt;(httpHosts,\r\n\t\t\t\tnew ElasticsearchSinkFunction&lt;Tuple4&lt;String, Integer, Integer, Integer&gt;&gt;() {\r\n\r\n\t\t\t\t\tpublic IndexRequest createIndexRequest(Tuple4&lt;String, Integer, Integer, Integer&gt; memberSummaryTuple)\r\n\t\t\t\t\t\t\tthrows JsonProcessingException {\r\n\t\t\t\t\t\tDate date = new Date();\r\n\t\t\t\t\t\tMap&lt;String, Object&gt; json = new HashMap&lt;&gt;();\r\n\r\n\t\t\t\t\t\tjson.put(&quot;serverId&quot;, memberSummaryTuple.f0);\r\n\t\t\t\t\t\tjson.put(&quot;date&quot;, String.valueOf(date.getTime()));\r\n\t\t\t\t\t\tjson.put(&quot;numLeft&quot;, memberSummaryTuple.f1);\r\n\t\t\t\t\t\tjson.put(&quot;numJoined&quot;, memberSummaryTuple.f2);\r\n\t\t\t\t\t\tjson.put(&quot;memberCount&quot;, memberSummaryTuple.f3);\r\n\r\n\t\t\t\t\t\treturn Requests.indexRequest().index(&quot;prod-members&quot;).type(&quot;_doc&quot;).source(json);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void process(Tuple4&lt;String, Integer, Integer, Integer&gt; memberSummaryTuple, RuntimeContext ctx,\r\n\t\t\t\t\t\t\tRequestIndexer indexer) {\r\n\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tindexer.add(createIndexRequest(memberSummaryTuple));\r\n\t\t\t\t\t\t} catch (JsonProcessingException e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t// set RestClientFactory to provide authentication\r\n\t\tif(elasticPassword != null) {\r\n\t\t\tmemberEsSinkBuilder.setRestClientFactory(restClientBuilder -&gt; {\r\n\t\t\t\trestClientBuilder.setHttpClientConfigCallback(new RestClientBuilder.HttpClientConfigCallback() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\r\n\r\n\t\t\t\t\t\t// elasticsearch username and password\r\n\t\t\t\t\t\tCredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n\t\t\t\t\t\tcredentialsProvider.setCredentials(AuthScope.ANY,\r\n\t\t\t\t\t\t\t\tnew UsernamePasswordCredentials(&quot;elastic&quot;, elasticPassword));\r\n\r\n\t\t\t\t\t\treturn httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// set number of events to be seen before writing to Elasticsearch\r\n\t\tmemberEsSinkBuilder.setBulkFlushMaxActions(1);\r\n\r\n\t\t// handle failing elasticsearch requests\r\n\t\tmemberEsSinkBuilder.setFailureHandler(new ActionRequestFailureHandler() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onFailure(ActionRequest action, Throwable failure, int restStatusCode, RequestIndexer indexer)\r\n\t\t\t\t\tthrows Throwable {\r\n\r\n\t\t\t\tif (ExceptionUtils.findThrowable(failure, EsRejectedExecutionException.class).isPresent()) {\r\n\t\t\t\t\t// full queue; re-add document for indexing\r\n\t\t\t\t\tindexer.add(action);\r\n\t\t\t\t} else if (ExceptionUtils.findThrowable(failure, ElasticsearchParseException.class).isPresent()) {\r\n\t\t\t\t\t// malformed document; simply drop request without failing sink\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// for all other failures, fail the sink\r\n\t\t\t\t\t// here the failure is simply rethrown, but users can also choose to throw\r\n\t\t\t\t\t// custom exceptions\r\n\t\t\t\t\tthrow failure;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tpublic ElasticsearchSink.Builder&lt;Tuple4&lt;String, Integer, Integer, Integer&gt;&gt; getSinkBuilder() {\r\n\t\treturn memberEsSinkBuilder;\r\n\t}\r\n}\r\n\r\n\r\n\r\n```","title":"How to use setApiCompatibilityMode in Elasticsearch7 sink for Flink Streaming Job","body":"<p>I have a flink streaming job that saves proccessed data to an elasticsearch version 8 cluster, unfortunately I am using flink version 1.13.6 which still uses the elasticsearch version 7 sinks. So I get a parsing error when trying to save data.</p>\n<p>I have two options, either delete my current cluster and set up an elasticsearch 7 cluster or enable compatibility mode for the sink.</p>\n<p>I can't delete my cluster because I have a large amount of important data that would take forever to recover, and since snapshots don't work from higher to lower versions that leaves me with the second option.</p>\n<p>I searched online and found this: <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-compatibility.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-compatibility.html</a>.</p>\n<p>The problem is I don't know where to enable that. Here is my code:</p>\n<pre><code>import java.io.Serializable;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.apache.flink.api.common.functions.RuntimeContext;\nimport org.apache.flink.api.java.tuple.Tuple4;\nimport org.apache.flink.shaded.jackson2.com.fasterxml.jackson.core.JsonProcessingException;\nimport org.apache.flink.shaded.jackson2.com.fasterxml.jackson.databind.ObjectMapper;\nimport org.apache.flink.streaming.connectors.elasticsearch.ActionRequestFailureHandler;\nimport org.apache.flink.streaming.connectors.elasticsearch.ElasticsearchSinkFunction;\nimport org.apache.flink.streaming.connectors.elasticsearch.RequestIndexer;\nimport org.apache.flink.streaming.connectors.elasticsearch7.ElasticsearchSink;\nimport org.apache.flink.streaming.connectors.elasticsearch7.RestClientFactory;\nimport org.apache.flink.util.ExceptionUtils;\nimport org.apache.http.HttpHost;\nimport org.apache.http.auth.AuthScope;\nimport org.apache.http.auth.UsernamePasswordCredentials;\nimport org.apache.http.client.CredentialsProvider;\nimport org.apache.http.impl.client.BasicCredentialsProvider;\nimport org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\nimport org.elasticsearch.ElasticsearchParseException;\nimport org.elasticsearch.action.ActionRequest;\nimport org.elasticsearch.action.index.IndexRequest;\nimport org.elasticsearch.client.Requests;\nimport org.elasticsearch.client.RestClientBuilder;\nimport org.elasticsearch.common.util.concurrent.EsRejectedExecutionException;\n\npublic class ElasticMemberSink implements Serializable {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n    private transient ElasticsearchSink.Builder&lt;Tuple4&lt;String, Integer, Integer, Integer&gt;&gt; memberEsSinkBuilder;\n\n    public ElasticMemberSink(List&lt;HttpHost&gt; httpHosts, String elasticPassword) {\n        // create member sink\n        memberEsSinkBuilder = new ElasticsearchSink.Builder&lt;&gt;(httpHosts,\n                new ElasticsearchSinkFunction&lt;Tuple4&lt;String, Integer, Integer, Integer&gt;&gt;() {\n\n                    public IndexRequest createIndexRequest(Tuple4&lt;String, Integer, Integer, Integer&gt; memberSummaryTuple)\n                            throws JsonProcessingException {\n                        Date date = new Date();\n                        Map&lt;String, Object&gt; json = new HashMap&lt;&gt;();\n\n                        json.put(&quot;serverId&quot;, memberSummaryTuple.f0);\n                        json.put(&quot;date&quot;, String.valueOf(date.getTime()));\n                        json.put(&quot;numLeft&quot;, memberSummaryTuple.f1);\n                        json.put(&quot;numJoined&quot;, memberSummaryTuple.f2);\n                        json.put(&quot;memberCount&quot;, memberSummaryTuple.f3);\n\n                        return Requests.indexRequest().index(&quot;prod-members&quot;).type(&quot;_doc&quot;).source(json);\n                    }\n\n                    @Override\n                    public void process(Tuple4&lt;String, Integer, Integer, Integer&gt; memberSummaryTuple, RuntimeContext ctx,\n                            RequestIndexer indexer) {\n\n                        try {\n                            indexer.add(createIndexRequest(memberSummaryTuple));\n                        } catch (JsonProcessingException e) {\n                            e.printStackTrace();\n                        }\n\n                    }\n                });\n\n        // set RestClientFactory to provide authentication\n        if(elasticPassword != null) {\n            memberEsSinkBuilder.setRestClientFactory(restClientBuilder -&gt; {\n                restClientBuilder.setHttpClientConfigCallback(new RestClientBuilder.HttpClientConfigCallback() {\n                    @Override\n                    public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\n\n                        // elasticsearch username and password\n                        CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n                        credentialsProvider.setCredentials(AuthScope.ANY,\n                                new UsernamePasswordCredentials(&quot;elastic&quot;, elasticPassword));\n\n                        return httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);\n                    }\n                });\n            });\n        }\n\n        // set number of events to be seen before writing to Elasticsearch\n        memberEsSinkBuilder.setBulkFlushMaxActions(1);\n\n        // handle failing elasticsearch requests\n        memberEsSinkBuilder.setFailureHandler(new ActionRequestFailureHandler() {\n            @Override\n            public void onFailure(ActionRequest action, Throwable failure, int restStatusCode, RequestIndexer indexer)\n                    throws Throwable {\n\n                if (ExceptionUtils.findThrowable(failure, EsRejectedExecutionException.class).isPresent()) {\n                    // full queue; re-add document for indexing\n                    indexer.add(action);\n                } else if (ExceptionUtils.findThrowable(failure, ElasticsearchParseException.class).isPresent()) {\n                    // malformed document; simply drop request without failing sink\n                } else {\n                    // for all other failures, fail the sink\n                    // here the failure is simply rethrown, but users can also choose to throw\n                    // custom exceptions\n                    throw failure;\n                }\n            }\n        });\n    }\n\n    public ElasticsearchSink.Builder&lt;Tuple4&lt;String, Integer, Integer, Integer&gt;&gt; getSinkBuilder() {\n        return memberEsSinkBuilder;\n    }\n}\n\n\n\n</code></pre>\n"},{"tags":["java","oauth-2.0","office365","jakarta-mail"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1657628597,"post_id":72952080,"comment_id":128851461,"body_markdown":"Does this answer your question? [What is the simplest example of Spring OAuth2 with Java configuration?](https://stackoverflow.com/questions/30088677/what-is-the-simplest-example-of-spring-oauth2-with-java-configuration)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30088677/what-is-the-simplest-example-of-spring-oauth2-with-java-configuration\">What is the simplest example of Spring OAuth2 with Java configuration?</a>"},{"owner":{"account_id":18058577,"reputation":1,"user_id":13126275,"display_name":"Sumit Tokas"},"score":0,"creation_date":1657647650,"post_id":72952080,"comment_id":128858820,"body_markdown":"We are not using Spring. It is some legacy project that uses Java 7 and Struts","body":"We are not using Spring. It is some legacy project that uses Java 7 and Struts"}],"owner":{"account_id":18058577,"reputation":1,"user_id":13126275,"display_name":"Sumit Tokas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":600,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657647795,"creation_date":1657627786,"question_id":72952080,"body_markdown":"I have a Web Application in which one of the module was used for sending emails from the application to the clients. It was using basic authentication for sending emails but now there is a requirement for implementing OAuth2 Authentication in the process. I am new to this mailing and Authentication stuff. I would be really grateful if someone could explain me where to start and what process should i folllow.\r\nIt is a legacy project and we are not using Spring. Instead, we are using Struts 1.2 with Java 7.\r\n\r\nCurrent JavaMail properties are : \r\n```\r\nmailProperties.put(&quot;mail.smtp.host&quot;, host);\r\nmailProperties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\nmailProperties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\nmailProperties.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\nmailProperties.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n```","title":"OAuth 2 Flow for Office365 SMTP and JavaMail","body":"<p>I have a Web Application in which one of the module was used for sending emails from the application to the clients. It was using basic authentication for sending emails but now there is a requirement for implementing OAuth2 Authentication in the process. I am new to this mailing and Authentication stuff. I would be really grateful if someone could explain me where to start and what process should i folllow.\nIt is a legacy project and we are not using Spring. Instead, we are using Struts 1.2 with Java 7.</p>\n<p>Current JavaMail properties are :</p>\n<pre><code>mailProperties.put(&quot;mail.smtp.host&quot;, host);\nmailProperties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\nmailProperties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\nmailProperties.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\nmailProperties.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n</code></pre>\n"},{"tags":["java","spring","package"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1657643244,"post_id":72955467,"comment_id":128857266,"body_markdown":"Do you know about Java packages and their meaning in a technical sense?","body":"Do you know about Java packages and their meaning in a technical sense?"}],"answers":[{"tags":[],"owner":{"account_id":5600723,"reputation":649,"user_id":4437074,"display_name":"Ashutosh Srivastav"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1657643392,"creation_date":1657643392,"answer_id":72955553,"question_id":72955467,"body_markdown":"Package is nothing but a group of classes. You want to categorize your classes basis their respective purposes. If it&#39;s just for self-learning, your package structure should be like \r\n\r\n    org.novak.sample.service.*\r\n\r\nThis package should contain all Services, not anything else.","title":"What is basic package structure in the project for Java?","body":"<p>Package is nothing but a group of classes. You want to categorize your classes basis their respective purposes. If it's just for self-learning, your package structure should be like</p>\n<pre><code>org.novak.sample.service.*\n</code></pre>\n<p>This package should contain all Services, not anything else.</p>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657647605,"creation_date":1657645813,"answer_id":72956028,"question_id":72955467,"body_markdown":"I will start by recommending reading about [Packages in Java][1].\r\n\r\nIn a nutshell, packages are folders. They are used for storing (mainly) classes, but other entities can be stored in packages as well. For example, text files, pictures, etc. In Java, there is no hard set rule that state that only classes must be stored in packages. That said, this is typically not the way projects are structured.\r\n\r\nOne of the most important functions of packages is to provide namespace for classes. Consider two classes named `Table`. One is a table containing data and the other is a table used to put stuff on top of; for example a dining table. This means that `Table` will have to different meanings. Operating Systems will not allow for two files with the same name to exist in the same folder. Therefore, you need to put them in two folders (packages). In the code, you can break ambiguity by declaring the objects using the class&#39; fully-qualified name. For example,\r\n```\r\nmyproject.furniture.Table diningTable = new myproject.furniture.Table();\r\nmyproject.data.Table dataTable = new myproject.data.Table dataTable();\r\n```\r\n\r\nThere is also access protection with packages by using default access modifier (no modifier). For example:\r\n```\r\npackage myproject\r\n\r\nclass PackagePrivateClass {\r\n    // class contents omitted\r\n}\r\n```\r\nNotice that this class is not `public`. In Java, this means that ***this class is visible to other classes in the same package only***. Not even classes in sub-packages will have access.\r\n\r\nIn summary, packages provide namespace, physical organization, and access protection.\r\n\r\nThe second thing you should be familiarized with is the best practices with regards to naming your packages. Organizations tend to have packages structured with the domain first, then the main system the code is part of, then subsystems, etc. Before providing examples, here is an article about [Package Naming][2] from Oracle.\r\n\r\n - *java.awt* =&gt; Contains all of the classes for creating user interfaces and for painting graphics and images. AWT stands for *Abstract Window Toolkit*\r\n\r\nWhen you see the package name, it gives developers and idea what type of classes can be found inside. This will help looking for functions when you are not familiarized with the API (which in turn will help you learning the API much faster). Imagine how hard would be to learn Java if all classes were in the same folder. Imagine how hard will be to figure out what the project does if meaningful names are not used. In the example above, it is kind of easy to figure how what to expect out of classes in the *java.awt* package.\r\n\r\nI was hoping to give you more examples, but I am out of time. Maybe later I will return and write more about this.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/package/packages.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/package/namingpkgs.html","title":"What is basic package structure in the project for Java?","body":"<p>I will start by recommending reading about <a href=\"https://docs.oracle.com/javase/tutorial/java/package/packages.html\" rel=\"nofollow noreferrer\">Packages in Java</a>.</p>\n<p>In a nutshell, packages are folders. They are used for storing (mainly) classes, but other entities can be stored in packages as well. For example, text files, pictures, etc. In Java, there is no hard set rule that state that only classes must be stored in packages. That said, this is typically not the way projects are structured.</p>\n<p>One of the most important functions of packages is to provide namespace for classes. Consider two classes named <code>Table</code>. One is a table containing data and the other is a table used to put stuff on top of; for example a dining table. This means that <code>Table</code> will have to different meanings. Operating Systems will not allow for two files with the same name to exist in the same folder. Therefore, you need to put them in two folders (packages). In the code, you can break ambiguity by declaring the objects using the class' fully-qualified name. For example,</p>\n<pre><code>myproject.furniture.Table diningTable = new myproject.furniture.Table();\nmyproject.data.Table dataTable = new myproject.data.Table dataTable();\n</code></pre>\n<p>There is also access protection with packages by using default access modifier (no modifier). For example:</p>\n<pre><code>package myproject\n\nclass PackagePrivateClass {\n    // class contents omitted\n}\n</code></pre>\n<p>Notice that this class is not <code>public</code>. In Java, this means that <em><strong>this class is visible to other classes in the same package only</strong></em>. Not even classes in sub-packages will have access.</p>\n<p>In summary, packages provide namespace, physical organization, and access protection.</p>\n<p>The second thing you should be familiarized with is the best practices with regards to naming your packages. Organizations tend to have packages structured with the domain first, then the main system the code is part of, then subsystems, etc. Before providing examples, here is an article about <a href=\"https://docs.oracle.com/javase/tutorial/java/package/namingpkgs.html\" rel=\"nofollow noreferrer\">Package Naming</a> from Oracle.</p>\n<ul>\n<li><em>java.awt</em> =&gt; Contains all of the classes for creating user interfaces and for painting graphics and images. AWT stands for <em>Abstract Window Toolkit</em></li>\n</ul>\n<p>When you see the package name, it gives developers and idea what type of classes can be found inside. This will help looking for functions when you are not familiarized with the API (which in turn will help you learning the API much faster). Imagine how hard would be to learn Java if all classes were in the same folder. Imagine how hard will be to figure out what the project does if meaningful names are not used. In the example above, it is kind of easy to figure how what to expect out of classes in the <em>java.awt</em> package.</p>\n<p>I was hoping to give you more examples, but I am out of time. Maybe later I will return and write more about this.</p>\n"}],"owner":{"account_id":23727935,"reputation":117,"user_id":17747601,"display_name":"m_novak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657647670,"creation_date":1657642985,"question_id":72955467,"body_markdown":"I&#39;m trying to learn some basics of Java and Spring. Recently I came across some beginner project and one of the first steps was to create a Spring Initializr thanks to its website, where everything is clear to me. The next step was to create a basic package structure in the project: model, controller, repository, config, service.\r\n\r\nCould someone explain me what exactly is meant by creating these packages after creating a new project? I tried to look up the information myself, but unfortunately I couldn&#39;t find an answer anywhere.","title":"What is basic package structure in the project for Java?","body":"<p>I'm trying to learn some basics of Java and Spring. Recently I came across some beginner project and one of the first steps was to create a Spring Initializr thanks to its website, where everything is clear to me. The next step was to create a basic package structure in the project: model, controller, repository, config, service.</p>\n<p>Could someone explain me what exactly is meant by creating these packages after creating a new project? I tried to look up the information myself, but unfortunately I couldn't find an answer anywhere.</p>\n"},{"tags":["java","macos","installation","install4j"],"comments":[{"owner":{"display_name":"user9593800"},"score":0,"creation_date":1657114577,"post_id":72873174,"comment_id":128732713,"body_markdown":"Another detial. This error does not occur on windows. It is only on MacOS Monterey Version 12.3.1","body":"Another detial. This error does not occur on windows. It is only on MacOS Monterey Version 12.3.1"},{"owner":{"account_id":10246530,"reputation":111,"user_id":7562156,"display_name":"Pavel Spicak"},"score":0,"creation_date":1657273966,"post_id":72873174,"comment_id":128776962,"body_markdown":"I have the exact same error on MacOS Monterey 12.4","body":"I have the exact same error on MacOS Monterey 12.4"},{"owner":{"display_name":"user9593800"},"score":0,"creation_date":1657557819,"post_id":72873174,"comment_id":128833892,"body_markdown":"@PavelSpicak I was able to resolve the problem with an early release version of install4j v9.0.8","body":"@PavelSpicak I was able to resolve the problem with an early release version of install4j v9.0.8"}],"answers":[{"tags":[],"owner":{"account_id":10246530,"reputation":111,"user_id":7562156,"display_name":"Pavel Spicak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657647548,"creation_date":1657647548,"answer_id":72956351,"question_id":72873174,"body_markdown":"I got answer from support:\r\n\r\n\r\nTo work around this issue, you can execute\r\n\r\nrm &quot;$HOME/Library/Application Support/install4j/v9/config.xml&quot;\r\n\r\nto start fresh.\r\n","title":"Install4J is stuck at Evaluation Key Expired dialogue has no options and user cannot advance past message","body":"<p>I got answer from support:</p>\n<p>To work around this issue, you can execute</p>\n<p>rm &quot;$HOME/Library/Application Support/install4j/v9/config.xml&quot;</p>\n<p>to start fresh.</p>\n"}],"owner":{"display_name":"user9593800"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1657647548,"creation_date":1657040788,"question_id":72873174,"body_markdown":"I am attempting to add a new key for the evaluation but the Swing Dialogue does not provide any radio buttons next to the text. I am using Mac OS 12.3.1 . I&#39;ve attempted to use the command line, but get the same pop-up dialogue message. Has anyone had the same problem. Is there a work around?\r\n\r\n[![install4j key expired message with no options][1]][1]\r\n\r\nThis is likely a Mac OS vs Java version issue. Install4j does not have any issues on my older Mac using 10.13. \r\n\r\nThere are no error messages printed in the output. Any advice on how to work around this issue?\r\n\r\nedit: Solution --\r\n\r\nThe early release of install4j-v9.0.8 resolved the problem. \r\n\r\n\r\n\r\nI was able to print the output from the CLI using a previous post. I added the following: \r\n\r\n         /appDir$ INSTALL4J_LOG=yes install4j.app/Contents/MacOS/JavaApplicationStub\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LOglI.png","title":"Install4J is stuck at Evaluation Key Expired dialogue has no options and user cannot advance past message","body":"<p>I am attempting to add a new key for the evaluation but the Swing Dialogue does not provide any radio buttons next to the text. I am using Mac OS 12.3.1 . I've attempted to use the command line, but get the same pop-up dialogue message. Has anyone had the same problem. Is there a work around?</p>\n<p><a href=\"https://i.stack.imgur.com/LOglI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LOglI.png\" alt=\"install4j key expired message with no options\" /></a></p>\n<p>This is likely a Mac OS vs Java version issue. Install4j does not have any issues on my older Mac using 10.13.</p>\n<p>There are no error messages printed in the output. Any advice on how to work around this issue?</p>\n<p>edit: Solution --</p>\n<p>The early release of install4j-v9.0.8 resolved the problem.</p>\n<p>I was able to print the output from the CLI using a previous post. I added the following:</p>\n<pre><code>     /appDir$ INSTALL4J_LOG=yes install4j.app/Contents/MacOS/JavaApplicationStub\n</code></pre>\n"},{"tags":["java","openssl","keytool","pkcs#12"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1657015325,"post_id":72867216,"comment_id":128703532,"body_markdown":"Have you tried `-srcstorepass pass:changeit`?","body":"Have you tried <code>-srcstorepass pass:changeit</code>?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1657019209,"post_id":72867216,"comment_id":128704830,"body_markdown":"Add `-J-showversion -v` to the `keytool -importkeystore` command(s) to confirm what you&#39;re running and get more complete error info (especially the &#39;Caused by:&#39; section of the stacktrace). And confirm the metadata shown by `openssl pkcs12 -info -noout` especially if it is PBES2, PBKDF2, and hmacwithSHA256.","body":"Add <code>-J-showversion -v</code> to the <code>keytool -importkeystore</code> command(s) to confirm what you&#39;re running and get more complete error info (especially the &#39;Caused by:&#39; section of the stacktrace). And confirm the metadata shown by <code>openssl pkcs12 -info -noout</code> especially if it is PBES2, PBKDF2, and hmacwithSHA256."},{"owner":{"account_id":9809045,"reputation":41,"user_id":7267860,"display_name":"P1B0"},"score":0,"creation_date":1657024820,"post_id":72867216,"comment_id":128706860,"body_markdown":"@dave_thompson_085, thank you for your response. This makes me think I have also seen this:\nhttps://ec.europa.eu/digital-building-blocks/wikis/display/CEKB/Could+not+load+keystore%3A+keystore+password+was+incorrect+with+java+1.8.301+for+Domibus+running+on+open+jdk\nI have tried adding ```-J-Dkeystore.pkcs12.legacy```, but this did not work.\nI am updating the question with the output of your commands.","body":"@dave_thompson_085, thank you for your response. This makes me think I have also seen this: <a href=\"https://ec.europa.eu/digital-building-blocks/wikis/display/CEKB/Could+not+load+keystore%3A+keystore+password+was+incorrect+with+java+1.8.301+for+Domibus+running+on+open+jdk\" rel=\"nofollow noreferrer\">ec.europa.eu/digital-building-blocks/wikis/display/CEKB/&hellip;</a> I have tried adding <code>-J-Dkeystore.pkcs12.legacy</code>, but this did not work. I am updating the question with the output of your commands."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1657061551,"post_id":72867216,"comment_id":128718790,"body_markdown":"Okay, stacktrace shows this is NOT a password/encryption problem such as the one in the previous Q; **it&#39;s the _input_ certificate(s?)** (which OpenSSL doesn&#39;t check strictly), and indeed you need to look there. Someone might have confused the fact that (at least for SSL/TLS) a leaf cert can have _Subject_ empty if SAN is present, but not _Issuer_, and if this is selfsigned Issuer and Subject must be the same. `keystore.pkcs12.legacy` only matters when Java/keytool is _creating_ the PKCS12, not reading it.","body":"Okay, stacktrace shows this is NOT a password/encryption problem such as the one in the previous Q; <b>it&#39;s the <i>input</i> certificate(s?)</b> (which OpenSSL doesn&#39;t check strictly), and indeed you need to look there. Someone might have confused the fact that (at least for SSL/TLS) a leaf cert can have <i>Subject</i> empty if SAN is present, but not <i>Issuer</i>, and if this is selfsigned Issuer and Subject must be the same. <code>keystore.pkcs12.legacy</code> only matters when Java/keytool is <i>creating</i> the PKCS12, not reading it."},{"owner":{"account_id":9809045,"reputation":41,"user_id":7267860,"display_name":"P1B0"},"score":0,"creation_date":1657112045,"post_id":72867216,"comment_id":128731557,"body_markdown":"Yes, thank you. The certificates involved are generated by cert-manager, from a self-signed issuer. I&#39;m going to dig from there : https://github.com/cert-manager/cert-manager/issues/3634","body":"Yes, thank you. The certificates involved are generated by cert-manager, from a self-signed issuer. I&#39;m going to dig from there : <a href=\"https://github.com/cert-manager/cert-manager/issues/3634\" rel=\"nofollow noreferrer\">github.com/cert-manager/cert-manager/issues/3634</a>"}],"answers":[{"tags":[],"owner":{"account_id":9809045,"reputation":41,"user_id":7267860,"display_name":"P1B0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657647445,"creation_date":1657647445,"answer_id":72956335,"question_id":72867216,"body_markdown":"Thanks to the comment by @dave_thompson_085, I could use the `-J-showversion` flag to the `keytool -importkeystore` command, and get a useful message from that Java tool.\r\n\r\nAs you can see from the backtrace in my post, the resulting message `keystore password was incorrect` was the result of a deeper `Empty issuer DN not allowed in X509Certificates` exception... The error message was very misleading and made me lose time.\r\n\r\nMy problem came from how the issuer for my keycloak certificate was declared. I have referred to the [cert-manager documentation][1], fixed my issue, and keycloak finally accepted my PEM as input to create a keystore.\r\n\r\nThanks and best regards,\r\n\r\nPierre\r\n\r\n\r\n  [1]: https://cert-manager.io/docs/configuration/selfsigned/#bootstrapping-ca-issuers","title":"Java keytool yields &quot;keystore password was incorrect&quot; when trying to import a PKCS12 to JKS","body":"<p>Thanks to the comment by @dave_thompson_085, I could use the <code>-J-showversion</code> flag to the <code>keytool -importkeystore</code> command, and get a useful message from that Java tool.</p>\n<p>As you can see from the backtrace in my post, the resulting message <code>keystore password was incorrect</code> was the result of a deeper <code>Empty issuer DN not allowed in X509Certificates</code> exception... The error message was very misleading and made me lose time.</p>\n<p>My problem came from how the issuer for my keycloak certificate was declared. I have referred to the <a href=\"https://cert-manager.io/docs/configuration/selfsigned/#bootstrapping-ca-issuers\" rel=\"nofollow noreferrer\">cert-manager documentation</a>, fixed my issue, and keycloak finally accepted my PEM as input to create a keystore.</p>\n<p>Thanks and best regards,</p>\n<p>Pierre</p>\n"}],"owner":{"account_id":9809045,"reputation":41,"user_id":7267860,"display_name":"P1B0"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4425,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1657647445,"creation_date":1657014044,"question_id":72867216,"body_markdown":"I know this issue looks like a known one (many questions on this here), several bugs have been reported on different JDK versions and the situation has been very well summarized in this post:\r\nhttps://stackoverflow.com/a/72501767\r\n\r\nI happen to fall in what I think is another case, not yet answered. I must be doing something wrong, but I cannot see what.\r\n\r\nI have a certificate and a private key in PEM format, and I want to create a JKS from that. I have read that the JKS format might not be needed anymore, but I do not control that part.\r\n\r\nI process the files in command line. Things go like this, nothing special nor esoteric:\r\n```\r\nopenssl pkcs12 -export -in cert.crt -passout pass:changeit -inkey pkey.key -out keystore.p12\r\n\r\nkeytool -importkeystore -srckeystore  keystore.p12 -srcstoretype PKCS12 -srcstorepass changeit -deststorepass changeit -destkeystore keystore.jks\r\n```\r\n\r\nI get:\r\n```\r\nImporting keystore keystore.p12 to keystore.jks...\r\nkeytool error: java.io.IOException: keystore password was incorrect\r\n```\r\n\r\nNow, the thing is that I have tried that with many versions of the JDK, and it never succeeds.\r\n\r\nFacts:\r\n- the input files are both correct (checked with ```openssl x509 -in cert.crt -text -noout``` and ```openssl rsa -in pkey.key -text -noout```)\r\n- the generated PKCS12 can be checked with openssl : ```openssl pkcs12 -in keystore.p12 -info -noout -passin pass:changeit```\r\n- Ubuntu 22.04, openssl v3 (```OpenSSL 3.0.2 15 Mar 2022 (Library: OpenSSL 3.0.2 15 Mar 2022```)\r\n\r\nFrom that point, I thought I stumbled on the known JDK issue.\r\n\r\nI have tried with those versions, *all fail with the exact same message*:\r\n- openjdk version &quot;11.0.15&quot; 2022-04-19\r\n- openjdk version &quot;17.0.3&quot; 2022-04-19\r\n- openjdk version &quot;18-ea&quot; 2022-03-22\r\n\r\nFinally, I could also try with the following combo: openssl 1.1.1n + openjdk 11.0.15, yields same error.\r\nAll the JDK I have tried are above version 11.0.12.\r\n\r\nI am stuck and desperate, have spent far too much time on this.\r\n(For the record, I try to set up the bitnami keycloak chart with an existing secret containing PEM certificates, and the container responsible for importing it fails. I have tried to do the same thing manually, and here I am).\r\n\r\n\r\nEdit:\r\n\r\nThanks dave_thompson_085 for the suggestion. Here is the backtrace of the keytool error:\r\n```\r\njava.io.IOException: keystore password was incorrect\r\n\tat java.base/sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2158)\r\n\tat java.base/sun.security.util.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:226)\r\n\tat java.base/java.security.KeyStore.load(KeyStore.java:1503)\r\n\tat java.base/sun.security.tools.keytool.Main.loadSourceKeyStore(Main.java:2319)\r\n\tat java.base/sun.security.tools.keytool.Main.doCommands(Main.java:1234)\r\n\tat java.base/sun.security.tools.keytool.Main.run(Main.java:416)\r\n\tat java.base/sun.security.tools.keytool.Main.main(Main.java:409)\r\nCaused by: java.security.UnrecoverableKeyException: failed to decrypt safe contents entry: java.security.cert.CertificateParsingException: Empty issuer DN not allowed in X509Certificates\r\n```\r\n\r\nand the output of openssl pkcs12 -info:\r\n```\r\nMAC: sha256, Iteration 2048\r\nMAC length: 32, salt length: 8\r\nPKCS7 Encrypted data: PBES2, PBKDF2, AES-256-CBC, Iteration 2048, PRF hmacWithSHA256\r\nCertificate bag\r\nPKCS7 Data\r\nShrouded Keybag: PBES2, PBKDF2, AES-256-CBC, Iteration 2048, PRF hmacWithSHA256\r\n```\r\n\r\nI am going to follow the path shown by that evil-looking ```java.security.cert.CertificateParsingException: Empty issuer DN not allowed in X509Certificates``` message...","title":"Java keytool yields &quot;keystore password was incorrect&quot; when trying to import a PKCS12 to JKS","body":"<p>I know this issue looks like a known one (many questions on this here), several bugs have been reported on different JDK versions and the situation has been very well summarized in this post:\n<a href=\"https://stackoverflow.com/a/72501767\">https://stackoverflow.com/a/72501767</a></p>\n<p>I happen to fall in what I think is another case, not yet answered. I must be doing something wrong, but I cannot see what.</p>\n<p>I have a certificate and a private key in PEM format, and I want to create a JKS from that. I have read that the JKS format might not be needed anymore, but I do not control that part.</p>\n<p>I process the files in command line. Things go like this, nothing special nor esoteric:</p>\n<pre><code>openssl pkcs12 -export -in cert.crt -passout pass:changeit -inkey pkey.key -out keystore.p12\n\nkeytool -importkeystore -srckeystore  keystore.p12 -srcstoretype PKCS12 -srcstorepass changeit -deststorepass changeit -destkeystore keystore.jks\n</code></pre>\n<p>I get:</p>\n<pre><code>Importing keystore keystore.p12 to keystore.jks...\nkeytool error: java.io.IOException: keystore password was incorrect\n</code></pre>\n<p>Now, the thing is that I have tried that with many versions of the JDK, and it never succeeds.</p>\n<p>Facts:</p>\n<ul>\n<li>the input files are both correct (checked with <code>openssl x509 -in cert.crt -text -noout</code> and <code>openssl rsa -in pkey.key -text -noout</code>)</li>\n<li>the generated PKCS12 can be checked with openssl : <code>openssl pkcs12 -in keystore.p12 -info -noout -passin pass:changeit</code></li>\n<li>Ubuntu 22.04, openssl v3 (<code>OpenSSL 3.0.2 15 Mar 2022 (Library: OpenSSL 3.0.2 15 Mar 2022</code>)</li>\n</ul>\n<p>From that point, I thought I stumbled on the known JDK issue.</p>\n<p>I have tried with those versions, <em>all fail with the exact same message</em>:</p>\n<ul>\n<li>openjdk version &quot;11.0.15&quot; 2022-04-19</li>\n<li>openjdk version &quot;17.0.3&quot; 2022-04-19</li>\n<li>openjdk version &quot;18-ea&quot; 2022-03-22</li>\n</ul>\n<p>Finally, I could also try with the following combo: openssl 1.1.1n + openjdk 11.0.15, yields same error.\nAll the JDK I have tried are above version 11.0.12.</p>\n<p>I am stuck and desperate, have spent far too much time on this.\n(For the record, I try to set up the bitnami keycloak chart with an existing secret containing PEM certificates, and the container responsible for importing it fails. I have tried to do the same thing manually, and here I am).</p>\n<p>Edit:</p>\n<p>Thanks dave_thompson_085 for the suggestion. Here is the backtrace of the keytool error:</p>\n<pre><code>java.io.IOException: keystore password was incorrect\n    at java.base/sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2158)\n    at java.base/sun.security.util.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:226)\n    at java.base/java.security.KeyStore.load(KeyStore.java:1503)\n    at java.base/sun.security.tools.keytool.Main.loadSourceKeyStore(Main.java:2319)\n    at java.base/sun.security.tools.keytool.Main.doCommands(Main.java:1234)\n    at java.base/sun.security.tools.keytool.Main.run(Main.java:416)\n    at java.base/sun.security.tools.keytool.Main.main(Main.java:409)\nCaused by: java.security.UnrecoverableKeyException: failed to decrypt safe contents entry: java.security.cert.CertificateParsingException: Empty issuer DN not allowed in X509Certificates\n</code></pre>\n<p>and the output of openssl pkcs12 -info:</p>\n<pre><code>MAC: sha256, Iteration 2048\nMAC length: 32, salt length: 8\nPKCS7 Encrypted data: PBES2, PBKDF2, AES-256-CBC, Iteration 2048, PRF hmacWithSHA256\nCertificate bag\nPKCS7 Data\nShrouded Keybag: PBES2, PBKDF2, AES-256-CBC, Iteration 2048, PRF hmacWithSHA256\n</code></pre>\n<p>I am going to follow the path shown by that evil-looking <code>java.security.cert.CertificateParsingException: Empty issuer DN not allowed in X509Certificates</code> message...</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1657611925,"post_id":72948496,"comment_id":128845658,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1657625544,"post_id":72948496,"comment_id":128850293,"body_markdown":"The Oracle tutorial [Sound](https://docs.oracle.com/javase/tutorial/sound/index.html) might help you.  Adding sound to a Swing application is not a simple process.  You don&#39;t want to block the [Event Dispatch Thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html) playing sound.","body":"The Oracle tutorial <a href=\"https://docs.oracle.com/javase/tutorial/sound/index.html\" rel=\"nofollow noreferrer\">Sound</a> might help you.  Adding sound to a Swing application is not a simple process.  You don&#39;t want to block the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a> playing sound."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1657633241,"post_id":72948496,"comment_id":128853470,"body_markdown":"See: https://stackoverflow.com/questions/64509691/how-can-i-add-some-sound-to-my-java-jframe/64509714#64509714 for a simple example.","body":"See: <a href=\"https://stackoverflow.com/questions/64509691/how-can-i-add-some-sound-to-my-java-jframe/64509714#64509714\" title=\"how can i add some sound to my java jframe\">stackoverflow.com/questions/64509691/&hellip;</a> for a simple example."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1657647365,"post_id":72948496,"comment_id":128858725,"body_markdown":"This [example](https://stackoverflow.com/a/17767350/230513) illustrates using `javax.sound.midi`. If this is not a duplicate, please [edit] your question to include a [mre] that shows your revised approach.","body":"This <a href=\"https://stackoverflow.com/a/17767350/230513\">example</a> illustrates using <code>javax.sound.midi</code>. If this is not a duplicate, please <a href=\"https://stackoverflow.com/posts/72948496/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach."}],"answers":[{"tags":[],"owner":{"account_id":15735948,"reputation":31,"user_id":11354897,"display_name":"Sarmad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657612476,"creation_date":1657612419,"answer_id":72948805,"question_id":72948496,"body_markdown":"All you need to do is implement an `OnTouchListener`\r\n\r\n on the button and use the `AudioManager.playSoundEffect()` public method. Code is shown below:\r\n\r\n    AudioManager am = (AudioManager)getSystemService(Context.AUDIO_SERVICE);\r\n    float vol = 0.5; //This will be half of the default system sound\r\n    am.playSoundEffect(AudioManager.FX_KEY_CLICK, vol);","title":"How can i add button sound for a swing calculator project","body":"<p>All you need to do is implement an <code>OnTouchListener</code></p>\n<p>on the button and use the <code>AudioManager.playSoundEffect()</code> public method. Code is shown below:</p>\n<pre><code>AudioManager am = (AudioManager)getSystemService(Context.AUDIO_SERVICE);\nfloat vol = 0.5; //This will be half of the default system sound\nam.playSoundEffect(AudioManager.FX_KEY_CLICK, vol);\n</code></pre>\n"}],"owner":{"account_id":25787703,"reputation":1,"user_id":19532222,"display_name":"Ajais Vraj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1657647388,"answer_count":1,"score":-2,"last_activity_date":1657647406,"creation_date":1657610692,"question_id":72948496,"body_markdown":"I am building a simple calculator project in Java using *Swing* and I want to play a sound when the user clicks on the buttons in the app. I don&#39;t know how to achieve this.","title":"How can i add button sound for a swing calculator project","body":"<p>I am building a simple calculator project in Java using <em>Swing</em> and I want to play a sound when the user clicks on the buttons in the app. I don't know how to achieve this.</p>\n"},{"tags":["java","class","java-time"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1657644547,"post_id":72955762,"comment_id":128857740,"body_markdown":"Yes. It&#39;s called the &quot;factory pattern&quot;, because of your &quot;Please Explain&quot; I suspect his is homework.","body":"Yes. It&#39;s called the &quot;factory pattern&quot;, because of your &quot;Please Explain&quot; I suspect his is homework."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1657644724,"post_id":72955762,"comment_id":128857796,"body_markdown":"@matt: It&#39;s not clear what &quot;Yes&quot; is in reference to, but if it&#39;s intended to answer &quot;Can we initialize any class object by using static method inside it?&quot; then the answer is &quot;no&quot;, not &quot;yes&quot;.","body":"@matt: It&#39;s not clear what &quot;Yes&quot; is in reference to, but if it&#39;s intended to answer &quot;Can we initialize any class object by using static method inside it?&quot; then the answer is &quot;no&quot;, not &quot;yes&quot;."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1657644821,"post_id":72955762,"comment_id":128857836,"body_markdown":"@JonSkeet why not? If you can edit a class to create a static method, then you can have that method return an instance of the class.","body":"@JonSkeet why not? If you can edit a class to create a static method, then you can have that method return an instance of the class."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1657644885,"post_id":72955762,"comment_id":128857857,"body_markdown":"@matt: But you **can&#39;t** edit every class. If the answer is &quot;yes&quot; then how do you propose to create an instance of java.lang.Math by using one of its static methods, for example? My reading of the question is that the OP was under the impression that the use of a static method *implicitly* created an instance, and that&#39;s just not the case.","body":"@matt: But you <b>can&#39;t</b> edit every class. If the answer is &quot;yes&quot; then how do you propose to create an instance of java.lang.Math by using one of its static methods, for example? My reading of the question is that the OP was under the impression that the use of a static method <i>implicitly</i> created an instance, and that&#39;s just not the case."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1657644993,"post_id":72955762,"comment_id":128857890,"body_markdown":"If I can write a static method on Math then I can just `Math getMath(){ return new Math();}` even though it&#39;s useless. Of course Math doesn&#39;t have a static method that returns a Math.","body":"If I can write a static method on Math then I can just <code>Math getMath(){ return new Math();}</code> even though it&#39;s useless. Of course Math doesn&#39;t have a static method that returns a Math."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1657654009,"post_id":72955762,"comment_id":128860780,"body_markdown":"&quot;If I can write a static method on Math&quot; - but you can&#39;t. That&#39;s my point. You can only use static methods to create an instance of the class if either you can add that static method yourself *or* if it&#39;s already provided. That doesn&#39;t cover &quot;any class&quot; (i.e. it doesn&#39;t apply to all classes), and it&#39;s not something that&#39;s just magic due to static methods. It&#39;s something you can choose to do.","body":"&quot;If I can write a static method on Math&quot; - but you can&#39;t. That&#39;s my point. You can only use static methods to create an instance of the class if either you can add that static method yourself <i>or</i> if it&#39;s already provided. That doesn&#39;t cover &quot;any class&quot; (i.e. it doesn&#39;t apply to all classes), and it&#39;s not something that&#39;s just magic due to static methods. It&#39;s something you can choose to do."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657644591,"creation_date":1657644591,"answer_id":72955804,"question_id":72955762,"body_markdown":"No, it&#39;s because `LocalTime.now()` is *designed* to create an instance of `LocalTime`. It will be calling the constructor internally.\r\n\r\nCompare that with (say) `Math.cos()` which returns a `double`. That doesn&#39;t create an instance of `java.lang.Math`.\r\n\r\nStatic methods which create (or at least return) instances of the type they&#39;re declared in are sometimes called *factory methods*. It&#39;s a pretty common pattern, but there&#39;s nothing about static methods that *automatically* creates an instance of the declaring type.","title":"Can we initialize any class object by using static method inside it","body":"<p>No, it's because <code>LocalTime.now()</code> is <em>designed</em> to create an instance of <code>LocalTime</code>. It will be calling the constructor internally.</p>\n<p>Compare that with (say) <code>Math.cos()</code> which returns a <code>double</code>. That doesn't create an instance of <code>java.lang.Math</code>.</p>\n<p>Static methods which create (or at least return) instances of the type they're declared in are sometimes called <em>factory methods</em>. It's a pretty common pattern, but there's nothing about static methods that <em>automatically</em> creates an instance of the declaring type.</p>\n"},{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657647314,"creation_date":1657647314,"answer_id":72956311,"question_id":72955762,"body_markdown":"Yes it is possibile to use static methods to create new objects. Generally to create a new instance using a static method you can do something similar to that:\r\n\r\n    public class MyClass {\r\n        public static MyClass createInstance() {\r\n            return new MyClass();\r\n        }\r\n\r\n        ...\r\n    }\r\n\r\nThis approach is useful for some design pattern that creates objects under certain conditions. For example the singleton pattern that must ensure that there is only one instance for a particular class has an implementation that can be something similar to:\r\n\r\n    public class MySingleton {\r\n       private static MySingleton instance;\r\n \r\n       // A private constructor can not be called from outside that class\r\n       private MySingleton() {\r\n       }\r\n\r\n       public static MySingleton getInstance() {\r\n          if (instance == null) {\r\n             instance = new MySingleton();\r\n          }\r\n          return instance;\r\n       }\r\n    }\r\n\r\nThere are also other implementations for the singleton that can be more efficient or useful in different contexts (for example double check with synchronized block) but this is a simple and useful example to show how to use a static method to create instances of a class.\r\n\r\nOther design patterns using a similar approach using a static method to create instances are:\r\n\r\n- abstract factory\r\n- factory method\r\n- building \r\n- double checked locking (a particular version of the singleton working in multithread environments)\r\n","title":"Can we initialize any class object by using static method inside it","body":"<p>Yes it is possibile to use static methods to create new objects. Generally to create a new instance using a static method you can do something similar to that:</p>\n<pre><code>public class MyClass {\n    public static MyClass createInstance() {\n        return new MyClass();\n    }\n\n    ...\n}\n</code></pre>\n<p>This approach is useful for some design pattern that creates objects under certain conditions. For example the singleton pattern that must ensure that there is only one instance for a particular class has an implementation that can be something similar to:</p>\n<pre><code>public class MySingleton {\n   private static MySingleton instance;\n\n   // A private constructor can not be called from outside that class\n   private MySingleton() {\n   }\n\n   public static MySingleton getInstance() {\n      if (instance == null) {\n         instance = new MySingleton();\n      }\n      return instance;\n   }\n}\n</code></pre>\n<p>There are also other implementations for the singleton that can be more efficient or useful in different contexts (for example double check with synchronized block) but this is a simple and useful example to show how to use a static method to create instances of a class.</p>\n<p>Other design patterns using a similar approach using a static method to create instances are:</p>\n<ul>\n<li>abstract factory</li>\n<li>factory method</li>\n<li>building</li>\n<li>double checked locking (a particular version of the singleton working in multithread environments)</li>\n</ul>\n"}],"owner":{"account_id":25788702,"reputation":1,"user_id":19533094,"display_name":"Dr. Tre"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":920,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657647314,"creation_date":1657644419,"question_id":72955762,"body_markdown":"I have seen that for initializing an object class we use constructor of the class or constructor of subclass of it. \r\n\r\nlike for a class Abc we use, \r\n`Abc object = new Abc()`; \r\n\r\n\r\n    LocalTime t = LocalTime.now();\r\n    System.out.println(t);\r\n\r\nbut here we are initializing object t of class LocalTime using LocalTime.now which is static function of class and object is returning that return value of that static method only. And new hasn&#39;t been used as well. Can we initialize any class object by using static method inside it? Please Explain. \r\n\r\n        \r\n","title":"Can we initialize any class object by using static method inside it","body":"<p>I have seen that for initializing an object class we use constructor of the class or constructor of subclass of it.</p>\n<p>like for a class Abc we use,\n<code>Abc object = new Abc()</code>;</p>\n<pre><code>LocalTime t = LocalTime.now();\nSystem.out.println(t);\n</code></pre>\n<p>but here we are initializing object t of class LocalTime using LocalTime.now which is static function of class and object is returning that return value of that static method only. And new hasn't been used as well. Can we initialize any class object by using static method inside it? Please Explain.</p>\n"},{"tags":["java","maven","spring-boot"],"comments":[{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":0,"creation_date":1568901541,"post_id":58012654,"comment_id":102429616,"body_markdown":"Use the debug mode to see if there is any additional information","body":"Use the debug mode to see if there is any additional information"}],"answers":[{"tags":[],"owner":{"account_id":5469830,"reputation":729,"user_id":4349519,"display_name":"trisek"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1568902708,"creation_date":1568902708,"answer_id":58013106,"question_id":58012654,"body_markdown":"You can simply do something like this:\r\n\r\n```\r\nimport org.springframework.beans.BeansException;\r\nimport org.springframework.beans.factory.config.BeanFactoryPostProcessor;\r\nimport org.springframework.beans.factory.config.ConfigurableListableBeanFactory;\r\nimport org.springframework.context.ApplicationContextException;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.Ordered;\r\nimport org.springframework.core.PriorityOrdered;\r\nimport org.springframework.core.env.Environment;\r\n\r\n@Configuration\r\npublic class VerifierBean implements BeanFactoryPostProcessor, PriorityOrdered {\r\n\r\n   @Override public void postProcessBeanFactory(ConfigurableListableBeanFactory configurableListableBeanFactory) throws BeansException {\r\n      final Environment environment = configurableListableBeanFactory.getBean(Environment.class);\r\n\r\n      if(environment.getProperty(&quot;property1.something&quot;) == null) {\r\n         throw new ApplicationContextException(&quot;Missing property on context bootstrap&quot; + &quot; property1.something&quot;);\r\n      }\r\n   }\r\n\r\n   @Override public int getOrder() {\r\n      return Ordered.HIGHEST_PRECEDENCE;\r\n   }\r\n}\r\n```\r\n\r\nAnd you will see something like this in console:\r\n\r\n```\r\n[  restartedMain] o.s.boot.SpringApplication : Application run failed\r\n\r\norg.springframework.context.ApplicationContextException: Missing property on context bootstrap property1.something\r\n```","title":"Check if the environment variable is set run time spring boot","body":"<p>You can simply do something like this:</p>\n\n<pre><code>import org.springframework.beans.BeansException;\nimport org.springframework.beans.factory.config.BeanFactoryPostProcessor;\nimport org.springframework.beans.factory.config.ConfigurableListableBeanFactory;\nimport org.springframework.context.ApplicationContextException;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.Ordered;\nimport org.springframework.core.PriorityOrdered;\nimport org.springframework.core.env.Environment;\n\n@Configuration\npublic class VerifierBean implements BeanFactoryPostProcessor, PriorityOrdered {\n\n   @Override public void postProcessBeanFactory(ConfigurableListableBeanFactory configurableListableBeanFactory) throws BeansException {\n      final Environment environment = configurableListableBeanFactory.getBean(Environment.class);\n\n      if(environment.getProperty(\"property1.something\") == null) {\n         throw new ApplicationContextException(\"Missing property on context bootstrap\" + \" property1.something\");\n      }\n   }\n\n   @Override public int getOrder() {\n      return Ordered.HIGHEST_PRECEDENCE;\n   }\n}\n</code></pre>\n\n<p>And you will see something like this in console:</p>\n\n<pre><code>[  restartedMain] o.s.boot.SpringApplication : Application run failed\n\norg.springframework.context.ApplicationContextException: Missing property on context bootstrap property1.something\n</code></pre>\n"}],"owner":{"account_id":13817343,"reputation":117,"user_id":9973656,"display_name":"lisa andrews markitks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3377,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1657647147,"creation_date":1568901244,"question_id":58012654,"body_markdown":"My springBoot application uses some environment variables that are set on my clients, I set them in my application.properties and everything is working as expected.\r\nAll clients use the same variables.\r\nNow a question has arisen, there is the possibility of a particular customer having or not a certain variable set. You will only need to configure the variable on some clients.\r\nThe idea is to have only one code for everyone but if I try to upload the application with a variable in its properties that doesn&#39;t exist in the application:\r\n\r\n    Unsatisfied dependency expressed through field &#39;config&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;configClass&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;X&#39; in value &quot; ${INFO}&quot;\r\n\r\nIs there any way to check if a variable is set and only if I get its contents?","title":"Check if the environment variable is set run time spring boot","body":"<p>My springBoot application uses some environment variables that are set on my clients, I set them in my application.properties and everything is working as expected.\nAll clients use the same variables.\nNow a question has arisen, there is the possibility of a particular customer having or not a certain variable set. You will only need to configure the variable on some clients.\nThe idea is to have only one code for everyone but if I try to upload the application with a variable in its properties that doesn't exist in the application:</p>\n\n<pre><code>Unsatisfied dependency expressed through field 'config'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'configClass': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'X' in value \" ${INFO}\"\n</code></pre>\n\n<p>Is there any way to check if a variable is set and only if I get its contents?</p>\n"},{"tags":["java","apache-spark","log4j","slf4j","java-11"],"owner":{"account_id":13701246,"reputation":21,"user_id":9886323,"display_name":"Andy Garg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657646995,"creation_date":1657644431,"question_id":72955767,"body_markdown":"Some background :\r\nMy application (Apache Spark) was throwing an exception \r\n&quot;Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: tlm&quot;.\r\n\r\nI found a solution to it in https://www.slf4j.org/codes.html. Search for &quot;java.lang.NoSuchFieldError&quot;.\r\n\r\nAs per suggestion, I replaced the slf4j binding I was using which is slf4j-log4j12 with slf4j-reload4j. But now my application can no longer do logging with log4j. No logs are appearing.\r\n\r\nhere is what I have in application jars dir (related to log4j) :\r\n\r\n \r\n\r\n - slf4j-reload4j-1.7.36.jar  \r\n - slf4j-api-1.7.36.jar \r\n - reload4j-1.2.18.3.jar .  \r\n   -logging-interceptor-3.12.12.jar \r\n   -jcl-over-slf4j-1.7.36.jar\r\n\r\nCan somebody suggest what&#39;s wrong ? I can&#39;t back it out the binding since it will bring back the exception. Appreciate any pointers on this . Thanks.","title":"Logging not working after replacing the slf4j binding from slf4j-log4j12 -&gt; slf4j-reload4j","body":"<p>Some background :\nMy application (Apache Spark) was throwing an exception\n&quot;Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: tlm&quot;.</p>\n<p>I found a solution to it in <a href=\"https://www.slf4j.org/codes.html\" rel=\"nofollow noreferrer\">https://www.slf4j.org/codes.html</a>. Search for &quot;java.lang.NoSuchFieldError&quot;.</p>\n<p>As per suggestion, I replaced the slf4j binding I was using which is slf4j-log4j12 with slf4j-reload4j. But now my application can no longer do logging with log4j. No logs are appearing.</p>\n<p>here is what I have in application jars dir (related to log4j) :</p>\n<ul>\n<li>slf4j-reload4j-1.7.36.jar</li>\n<li>slf4j-api-1.7.36.jar</li>\n<li>reload4j-1.2.18.3.jar .<br />\n-logging-interceptor-3.12.12.jar\n-jcl-over-slf4j-1.7.36.jar</li>\n</ul>\n<p>Can somebody suggest what's wrong ? I can't back it out the binding since it will bring back the exception. Appreciate any pointers on this . Thanks.</p>\n"},{"tags":["java","gradle","manifest.mf"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":3,"creation_date":1656254276,"post_id":72760817,"comment_id":128521725,"body_markdown":"Why do you care? Manifests use format based on 822 (and thus MIME) and the order of attributes within a section is ignored, except Manifest-Version and Signature-Version (if used) must be first; see https://docs.oracle.com/en/java/javase/17/docs/specs/jar/jar.html#notes-on-manifest-and-signature-files bullet 3.","body":"Why do you care? Manifests use format based on 822 (and thus MIME) and the order of attributes within a section is ignored, except Manifest-Version and Signature-Version (if used) must be first; see <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/jar/jar.html#notes-on-manifest-and-signature-files\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/specs/jar/&hellip;</a> bullet 3."}],"answers":[{"tags":[],"owner":{"account_id":980057,"reputation":7528,"user_id":1000011,"accept_rate":52,"display_name":"opticyclic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657646980,"creation_date":1657646980,"answer_id":72956239,"question_id":72760817,"body_markdown":"This is a bug in gradle https://github.com/gradle/gradle/issues/2295.\r\n\r\nYou can work around it by creating your own `MANIFEST.MF` as a file and then copying it into the jar with something like this:\r\n\r\n    task addManifest(dependsOn: jar) {\r\n        zip {\r\n            archiveExtension = &#39;jar&#39;\r\n            //Include the content of the original jar.\r\n            from zipTree(&#39;build/libs/jarname.jar&#39;).matching {\r\n                //But leave out the manifest file we want to replace.\r\n                exclude &#39;META-INF/MANIFEST.MF&#39;\r\n            }\r\n            //Then add our manifest file with the same name to replace it.\r\n            into(&#39;META-INF&#39;) {\r\n                from &#39;build/MANIFEST.MF&#39;\r\n            }\r\n        }\r\n        //Replace the original jar file with the modified one.\r\n        copy {\r\n            from &quot;$buildDir/distributions&quot;\r\n            into &quot;$buildDir/libs&quot;      \r\n\r\n        }\r\n    }","title":"Content of MANIFEST.MF file is not in correct order","body":"<p>This is a bug in gradle <a href=\"https://github.com/gradle/gradle/issues/2295\" rel=\"nofollow noreferrer\">https://github.com/gradle/gradle/issues/2295</a>.</p>\n<p>You can work around it by creating your own <code>MANIFEST.MF</code> as a file and then copying it into the jar with something like this:</p>\n<pre><code>task addManifest(dependsOn: jar) {\n    zip {\n        archiveExtension = 'jar'\n        //Include the content of the original jar.\n        from zipTree('build/libs/jarname.jar').matching {\n            //But leave out the manifest file we want to replace.\n            exclude 'META-INF/MANIFEST.MF'\n        }\n        //Then add our manifest file with the same name to replace it.\n        into('META-INF') {\n            from 'build/MANIFEST.MF'\n        }\n    }\n    //Replace the original jar file with the modified one.\n    copy {\n        from &quot;$buildDir/distributions&quot;\n        into &quot;$buildDir/libs&quot;      \n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1657646980,"creation_date":1656239885,"question_id":72760817,"body_markdown":"java 1.8\r\n\r\nGradle 7\r\n\r\nIn my build.gradle\r\n\r\n    plugins {\r\n        id &#39;application&#39;\r\n        id &quot;com.nocwriter.runsql&quot; version &quot;1.0.3&quot;\r\n        id &#39;idea&#39;\r\n    }\r\n    \r\n    \r\n    ext {\r\n        distributeVersionNumber = &quot;1.2.5&quot;\r\n        distributeOsFamily = &quot;win&quot;\r\n        distributeVersionType = &quot;Lite&quot;\r\n        vendorName = &quot;SomeCompany&quot;\r\n        vendorURL = &quot;www.some_host.com&quot;\r\n        projectShortName = &quot;myApp&quot;\r\n        projectFullName = &quot;My Application&quot;\r\n        javaMainClass = &quot;${group}.Main&quot;\r\n        xml2SqlConverterMainClass = &quot;${group}.dict.XML2SQLConverter&quot;\r\n        sqlStrategy = &quot;${group}.db.SQLiteStrategy&quot;\r\n        buildResources = &quot;${buildDir}/resources&quot;\r\n        buildResourcesMain = &quot;${buildResources}/main&quot;\r\n        buildResourcesDbSqlitePath = &quot;${buildResourcesMain}/db/sqlite&quot;\r\n        distArchiveFileName = &quot;${projectShortName}-${version}-${distributeVersionType}-${distributeOsFamily}&quot;\r\n    }\r\n    \r\n    \r\n    jar {\r\n        exclude(&quot;db&quot;)\r\n        exclude(&quot;scripts&quot;)\r\n        archiveFileName = &quot;${projectShortName}.jar&quot;\r\n        manifest {\r\n            attributes(\r\n                    &quot;Manifest-Version&quot;: &quot;1.0&quot;,\r\n                    &quot;Created-By&quot;: &quot;Gradle ${gradle.gradleVersion}&quot;,\r\n                    &quot;Built-By&quot;: System.properties[&quot;user.name&quot;],\r\n                    &quot;Built-On&quot;: new java.text.SimpleDateFormat(&quot;dd.MM.yyyy&#39;T&#39;HH:mm:ss&quot;).format(new Date()),\r\n                    //&quot;Build-Revision&quot;: versioning.info.commit,\r\n                    &quot;Build-Jdk&quot;: &quot;${System.properties[&quot;java.version&quot;]} (${System.properties[&quot;java.vendor&quot;]} ${System.properties[&quot;java.vm.version&quot;]})&quot;,\r\n                    &quot;Build-OS&quot;: &quot;${System.properties[&quot;os.name&quot;]} ${System.properties[&quot;os.arch&quot;]} ${System.properties[&quot;os.version&quot;]}&quot;,\r\n                    &quot;Implementation-Title&quot;: &quot;${projectFullName}&quot;,\r\n                    &quot;Implementation-Version&quot;: &quot;${distributeVersionNumber}-${distributeVersionType}&quot;,\r\n                    &quot;Implementation-Vendor&quot;: &quot;$vendorName&quot;,\r\n                    &quot;Implementation-Vendor-URL&quot;: &quot;$vendorURL&quot;,\r\n                    &quot;Sealed&quot;: &quot;true&quot;,\r\n                    &quot;Project-Type&quot;: &quot;application&quot;,\r\n                    &quot;Main-Class&quot;: &quot;$javaMainClass&quot;,\r\n                    &quot;SplashScreen-Image&quot;: &quot;images/splash.png&quot;,\r\n                    &quot;Class-Path&quot;: configurations.runtimeClasspath.collect { it.getName() }.join(&quot; &quot;))\r\n        }\r\n    }\r\n\r\n\r\n\r\nCreate  distribute like this:\r\n\r\n    gradle distZip\r\n\r\nOk. It&#39;s create distribution of my application. But in my application jar has `MANINFEST.MF` file with the next content:\r\n\r\n\r\n\r\n \r\n\r\n       Manifest-Version: 1.0\r\n        Implementation-Title: My Application\r\n        Implementation-Version: 1.2.5-Lite\r\n        Built-By: alexei\r\n        Sealed: true\r\n        Class-Path: ssp-0.5.7.jar log4j-1.2.17.jar jcalendar-1.4.jar sqlite-jd\r\n         bc-3.36.0.3.jar commons-net-3.6.jar\r\n        Built-On: 26.06.2022T13:30:25\r\n        Project-Type: application\r\n        Implementation-Vendor: Some Company\r\n        Implementation-Vendor-URL: www.some_host.com\r\n        Main-Class: com.mycompany.myapp.Main\r\n        Build-OS: Windows 7 amd64 6.1\r\n        Created-By: Gradle 7.3\r\n        Build-Jdk: 1.8.0_231 (Oracle Corporation 25.231-b11)\r\n        SplashScreen-Image: images/splash.png\r\n\r\n\r\n\r\nSo the question is: Why order of fields in `MANIFEST.MF` is not same as in `build.gradle`?\r\n\r\nI need order just like in `build.gradle`","title":"Content of MANIFEST.MF file is not in correct order","body":"<p>java 1.8</p>\n<p>Gradle 7</p>\n<p>In my build.gradle</p>\n<pre><code>plugins {\n    id 'application'\n    id &quot;com.nocwriter.runsql&quot; version &quot;1.0.3&quot;\n    id 'idea'\n}\n\n\next {\n    distributeVersionNumber = &quot;1.2.5&quot;\n    distributeOsFamily = &quot;win&quot;\n    distributeVersionType = &quot;Lite&quot;\n    vendorName = &quot;SomeCompany&quot;\n    vendorURL = &quot;www.some_host.com&quot;\n    projectShortName = &quot;myApp&quot;\n    projectFullName = &quot;My Application&quot;\n    javaMainClass = &quot;${group}.Main&quot;\n    xml2SqlConverterMainClass = &quot;${group}.dict.XML2SQLConverter&quot;\n    sqlStrategy = &quot;${group}.db.SQLiteStrategy&quot;\n    buildResources = &quot;${buildDir}/resources&quot;\n    buildResourcesMain = &quot;${buildResources}/main&quot;\n    buildResourcesDbSqlitePath = &quot;${buildResourcesMain}/db/sqlite&quot;\n    distArchiveFileName = &quot;${projectShortName}-${version}-${distributeVersionType}-${distributeOsFamily}&quot;\n}\n\n\njar {\n    exclude(&quot;db&quot;)\n    exclude(&quot;scripts&quot;)\n    archiveFileName = &quot;${projectShortName}.jar&quot;\n    manifest {\n        attributes(\n                &quot;Manifest-Version&quot;: &quot;1.0&quot;,\n                &quot;Created-By&quot;: &quot;Gradle ${gradle.gradleVersion}&quot;,\n                &quot;Built-By&quot;: System.properties[&quot;user.name&quot;],\n                &quot;Built-On&quot;: new java.text.SimpleDateFormat(&quot;dd.MM.yyyy'T'HH:mm:ss&quot;).format(new Date()),\n                //&quot;Build-Revision&quot;: versioning.info.commit,\n                &quot;Build-Jdk&quot;: &quot;${System.properties[&quot;java.version&quot;]} (${System.properties[&quot;java.vendor&quot;]} ${System.properties[&quot;java.vm.version&quot;]})&quot;,\n                &quot;Build-OS&quot;: &quot;${System.properties[&quot;os.name&quot;]} ${System.properties[&quot;os.arch&quot;]} ${System.properties[&quot;os.version&quot;]}&quot;,\n                &quot;Implementation-Title&quot;: &quot;${projectFullName}&quot;,\n                &quot;Implementation-Version&quot;: &quot;${distributeVersionNumber}-${distributeVersionType}&quot;,\n                &quot;Implementation-Vendor&quot;: &quot;$vendorName&quot;,\n                &quot;Implementation-Vendor-URL&quot;: &quot;$vendorURL&quot;,\n                &quot;Sealed&quot;: &quot;true&quot;,\n                &quot;Project-Type&quot;: &quot;application&quot;,\n                &quot;Main-Class&quot;: &quot;$javaMainClass&quot;,\n                &quot;SplashScreen-Image&quot;: &quot;images/splash.png&quot;,\n                &quot;Class-Path&quot;: configurations.runtimeClasspath.collect { it.getName() }.join(&quot; &quot;))\n    }\n}\n</code></pre>\n<p>Create  distribute like this:</p>\n<pre><code>gradle distZip\n</code></pre>\n<p>Ok. It's create distribution of my application. But in my application jar has <code>MANINFEST.MF</code> file with the next content:</p>\n<pre><code>   Manifest-Version: 1.0\n    Implementation-Title: My Application\n    Implementation-Version: 1.2.5-Lite\n    Built-By: alexei\n    Sealed: true\n    Class-Path: ssp-0.5.7.jar log4j-1.2.17.jar jcalendar-1.4.jar sqlite-jd\n     bc-3.36.0.3.jar commons-net-3.6.jar\n    Built-On: 26.06.2022T13:30:25\n    Project-Type: application\n    Implementation-Vendor: Some Company\n    Implementation-Vendor-URL: www.some_host.com\n    Main-Class: com.mycompany.myapp.Main\n    Build-OS: Windows 7 amd64 6.1\n    Created-By: Gradle 7.3\n    Build-Jdk: 1.8.0_231 (Oracle Corporation 25.231-b11)\n    SplashScreen-Image: images/splash.png\n</code></pre>\n<p>So the question is: Why order of fields in <code>MANIFEST.MF</code> is not same as in <code>build.gradle</code>?</p>\n<p>I need order just like in <code>build.gradle</code></p>\n"},{"tags":["java","android","service","foreground"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1657593984,"post_id":72946472,"comment_id":128842082,"body_markdown":"Services don&#39;t last forever.  If you need that, you need a different OS instead of Android.  A service, including a foreground service, can be killed at any time.  Foreground services are given more leniency, but you can&#39;t count on them forever.","body":"Services don&#39;t last forever.  If you need that, you need a different OS instead of Android.  A service, including a foreground service, can be killed at any time.  Foreground services are given more leniency, but you can&#39;t count on them forever."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1658344038,"post_id":72946472,"comment_id":129031290,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25786173,"reputation":1,"user_id":19530953,"display_name":"Khorshed Alam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657646335,"creation_date":1657593389,"question_id":72946472,"body_markdown":"I need a help. How do you run foreground service in Chinese phones? I&#39;ve followed documentations of android and it worked on other phones like samsung smoothly. But Failed In Xiaomi, Vivo. \r\nNote: I have no memory leaks in my code. \r\nIn Xiaomi I have whitelisted the app and put no restrictions on battery. But still doesn&#39;t work. It worked for only 2-3 hours. Then got stopped by OS. \r\nProvide a solution in Java or Guide me in your words. Thank you","title":"Foreground Service is getting stopped after few hours by OS (Redmi note 8)","body":"<p>I need a help. How do you run foreground service in Chinese phones? I've followed documentations of android and it worked on other phones like samsung smoothly. But Failed In Xiaomi, Vivo.\nNote: I have no memory leaks in my code.\nIn Xiaomi I have whitelisted the app and put no restrictions on battery. But still doesn't work. It worked for only 2-3 hours. Then got stopped by OS.\nProvide a solution in Java or Guide me in your words. Thank you</p>\n"},{"tags":["java","android","image","resize","image-resizing"],"comments":[{"owner":{"account_id":2327976,"reputation":1765,"user_id":2042002,"accept_rate":80,"display_name":"Sanwal Singh"},"score":0,"creation_date":1480755548,"post_id":40945666,"comment_id":69102450,"body_markdown":"Use Picasso for this, it very easy and helpful","body":"Use Picasso for this, it very easy and helpful"},{"owner":{"account_id":9188125,"reputation":289,"user_id":6829548,"accept_rate":62,"display_name":"Joy"},"score":0,"creation_date":1480771319,"post_id":40945666,"comment_id":69106309,"body_markdown":"Use BitmapFactory.Options for resize images.@Mohsen Morshedi","body":"Use BitmapFactory.Options for resize images.@Mohsen Morshedi"}],"answers":[{"tags":[],"owner":{"account_id":1972221,"reputation":16711,"user_id":1770868,"accept_rate":95,"display_name":"Ahmad Aghazadeh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480770993,"creation_date":1480770993,"answer_id":40948162,"question_id":40945666,"body_markdown":"Hi you can use for image download,resizing and Scaling\r\n\r\n[Glide][1] Or [Picasso][2]\r\n\r\n\r\n  [1]: https://futurestud.io/tutorials/glide-image-resizing-scaling\r\n  [2]: https://futurestud.io/tutorials/picasso-image-resizing-scaling-and-fit","title":"ImageResizer library for android","body":"<p>Hi you can use for image download,resizing and Scaling</p>\n\n<p><a href=\"https://futurestud.io/tutorials/glide-image-resizing-scaling\" rel=\"nofollow noreferrer\">Glide</a> Or <a href=\"https://futurestud.io/tutorials/picasso-image-resizing-scaling-and-fit\" rel=\"nofollow noreferrer\">Picasso</a></p>\n"}],"owner":{"account_id":5939514,"reputation":183,"user_id":4671301,"accept_rate":62,"display_name":"Mohsen Morshedi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1997,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657646198,"creation_date":1480752701,"question_id":40945666,"body_markdown":"I&#39;m developing an android application that needs to pick an image from gallery or camera and put it on MainActivity. Also, i want the user to can resize and move this image in MainActivity.\r\n\r\nIs there any library to do that?","title":"ImageResizer library for android","body":"<p>I'm developing an android application that needs to pick an image from gallery or camera and put it on MainActivity. Also, i want the user to can resize and move this image in MainActivity.</p>\n\n<p>Is there any library to do that?</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1657642028,"post_id":72955036,"comment_id":128856875,"body_markdown":"Try looking at [Query Methods](https://docs.spring.io/spring-data/data-jpa/docs/current/reference/html/#jpa.query-methods).","body":"Try looking at <a href=\"https://docs.spring.io/spring-data/data-jpa/docs/current/reference/html/#jpa.query-methods\" rel=\"nofollow noreferrer\">Query Methods</a>."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1657642472,"post_id":72955036,"comment_id":128857025,"body_markdown":"Since you&#39;re using Spring data you could also keep using those SQL statements on your repositories or convert them to [JPQL](https://en.wikibooks.org/wiki/Java_Persistence/JPQL). When using query methods have a look at the [`@Query` documentation](https://docs.spring.io/spring-data/data-jpa/docs/current/reference/html/#jpa.query-methods.at-query)  which already provides an example for a `like` expression. Then just add the rest like you&#39;d do in SQL.","body":"Since you&#39;re using Spring data you could also keep using those SQL statements on your repositories or convert them to <a href=\"https://en.wikibooks.org/wiki/Java_Persistence/JPQL\" rel=\"nofollow noreferrer\">JPQL</a>. When using query methods have a look at the <a href=\"https://docs.spring.io/spring-data/data-jpa/docs/current/reference/html/#jpa.query-methods.at-query\" rel=\"nofollow noreferrer\"><code>@Query</code> documentation</a>  which already provides an example for a <code>like</code> expression. Then just add the rest like you&#39;d do in SQL."}],"answers":[{"tags":[],"owner":{"account_id":23136359,"reputation":274,"user_id":17240540,"display_name":"Puneet Kundliya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657645998,"creation_date":1657645998,"answer_id":72956068,"question_id":72955036,"body_markdown":"You can use the following below query to work with. Also native query true help you run the native SQL query. If you are providing the parameter through the method argument then use this query.\r\n\r\n    @Query(value = &quot;SELECT * FROM Customers WHERE (CustomerName LIKE %:cname% OR Address LIKE %:add%) AND Country = :country AND City = :city&quot;,nativeQuery = true)\r\n    List&lt;Customers&gt; getListCustomers(@Param(&quot;cname&quot;)String CustomerName,@Param(&quot;add&quot;) String Address, @Param(&quot;country&quot;) String, @Param(&quot;city&quot;)String City)\r\n\r\nIf you are hardcoding the fields then you can directly use your query in JPA.\r\n\r\nFor more understanding regarding the JPA query go through this [link][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-data-jpa-query","title":"JPA Multiple Like and AND clasues","body":"<p>You can use the following below query to work with. Also native query true help you run the native SQL query. If you are providing the parameter through the method argument then use this query.</p>\n<pre><code>@Query(value = &quot;SELECT * FROM Customers WHERE (CustomerName LIKE %:cname% OR Address LIKE %:add%) AND Country = :country AND City = :city&quot;,nativeQuery = true)\nList&lt;Customers&gt; getListCustomers(@Param(&quot;cname&quot;)String CustomerName,@Param(&quot;add&quot;) String Address, @Param(&quot;country&quot;) String, @Param(&quot;city&quot;)String City)\n</code></pre>\n<p>If you are hardcoding the fields then you can directly use your query in JPA.</p>\n<p>For more understanding regarding the JPA query go through this <a href=\"https://www.baeldung.com/spring-data-jpa-query\" rel=\"nofollow noreferrer\">link</a></p>\n"}],"owner":{"account_id":333191,"reputation":921,"user_id":658913,"accept_rate":25,"display_name":"CR Sardar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657645998,"creation_date":1657640755,"question_id":72955036,"body_markdown":"I am new to JPA, how Can I convert bellow SQL statement to JPA statement?\r\n\r\n    SELECT * FROM Customers WHERE (CustomerName LIKE &#39;%Chitta%&#39; OR Address LIKE &#39;%Permanent%&#39;) AND Country = &quot;UK&quot; AND City = &quot;London&quot;;\r\n\r\nMy Customers table has following attributes -\r\n\r\n    CustomerID, CustomerName ContactName, Address, City, PostalCode, Country\r\n\r\nI am using \r\n\r\n&gt; &quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;","title":"JPA Multiple Like and AND clasues","body":"<p>I am new to JPA, how Can I convert bellow SQL statement to JPA statement?</p>\n<pre><code>SELECT * FROM Customers WHERE (CustomerName LIKE '%Chitta%' OR Address LIKE '%Permanent%') AND Country = &quot;UK&quot; AND City = &quot;London&quot;;\n</code></pre>\n<p>My Customers table has following attributes -</p>\n<pre><code>CustomerID, CustomerName ContactName, Address, City, PostalCode, Country\n</code></pre>\n<p>I am using</p>\n<blockquote>\n<p>&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;</p>\n</blockquote>\n"},{"tags":["java","android","kotlin","http-live-streaming"],"comments":[{"owner":{"account_id":2453953,"reputation":1876,"user_id":2139586,"accept_rate":69,"display_name":"jack_the_beast"},"score":0,"creation_date":1657631295,"post_id":70320650,"comment_id":128852562,"body_markdown":"did you managed to solve it? I have the same problem","body":"did you managed to solve it? I have the same problem"},{"owner":{"account_id":1087775,"reputation":42376,"user_id":1083093,"accept_rate":67,"display_name":"Devrath"},"score":0,"creation_date":1657645894,"post_id":70320650,"comment_id":128858211,"body_markdown":"@jack_the_beast. Check my answer !","body":"@jack_the_beast. Check my answer !"}],"answers":[{"tags":[],"owner":{"account_id":1087775,"reputation":42376,"user_id":1083093,"accept_rate":67,"display_name":"Devrath"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657645853,"creation_date":1657645853,"answer_id":72956037,"question_id":70320650,"body_markdown":"***I ended up using the MP4 preview itself*** \r\n\r\n - Anyone looking for something similar and check [this --&gt; link][1]\r\n - I have not to use the above link but maybe it will help\r\n\r\n  [1]: https://github.com/wseemann/FFmpegMediaMetadataRetriever","title":"How to get the preview image from HLS(live stream) data source","body":"<p><em><strong>I ended up using the MP4 preview itself</strong></em></p>\n<ul>\n<li>Anyone looking for something similar and check <a href=\"https://github.com/wseemann/FFmpegMediaMetadataRetriever\" rel=\"nofollow noreferrer\">this --&gt; link</a></li>\n<li>I have not to use the above link but maybe it will help</li>\n</ul>\n"}],"owner":{"account_id":1087775,"reputation":42376,"user_id":1083093,"accept_rate":67,"display_name":"Devrath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1657645853,"creation_date":1639278486,"question_id":70320650,"body_markdown":" - I have 2 data sources one is `MP4` and another `HLS`\r\n - Both data sources are stored on the server\r\n - I am able to generate the preview from an MP4 source using a metadata\r\n   retriever\r\n\r\n***code to get a preview from mp4***\r\n\r\n    val metaDataRetriever = MediaMetadataRetriever()\r\n    metaDataRetriever.setDataSource(url,HashMap())\r\n\r\n    val timeInMilliSecond = 20000\r\n\r\n    val request = Glide.with(context)\r\n        .load(metaDataRetriever.getFrameAtTime(timeInMilliSecond))\r\n        .override(thumbNailWidth, height)\r\n        .centerCrop()\r\n\r\n - But If I give the HLS data source, I am not able to get the preview\r\n\r\n**Question**: How to get the preview image from `HLS` data source","title":"How to get the preview image from HLS(live stream) data source","body":"<ul>\n<li>I have 2 data sources one is <code>MP4</code> and another <code>HLS</code></li>\n<li>Both data sources are stored on the server</li>\n<li>I am able to generate the preview from an MP4 source using a metadata\nretriever</li>\n</ul>\n<p><em><strong>code to get a preview from mp4</strong></em></p>\n<pre><code>val metaDataRetriever = MediaMetadataRetriever()\nmetaDataRetriever.setDataSource(url,HashMap())\n\nval timeInMilliSecond = 20000\n\nval request = Glide.with(context)\n    .load(metaDataRetriever.getFrameAtTime(timeInMilliSecond))\n    .override(thumbNailWidth, height)\n    .centerCrop()\n</code></pre>\n<ul>\n<li>But If I give the HLS data source, I am not able to get the preview</li>\n</ul>\n<p><strong>Question</strong>: How to get the preview image from <code>HLS</code> data source</p>\n"},{"tags":["java","string","algorithm"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1657630772,"post_id":72952671,"comment_id":128852340,"body_markdown":"res is zero when you start. Each time you analyze a substring, you re-assign it between the maximum of itself and the length of the analyzed substring. Hence res will always be increasing, from 0 to the longest substring, and that&#39;s what you return at the end of the iteration.","body":"res is zero when you start. Each time you analyze a substring, you re-assign it between the maximum of itself and the length of the analyzed substring. Hence res will always be increasing, from 0 to the longest substring, and that&#39;s what you return at the end of the iteration."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1657632378,"post_id":72952671,"comment_id":128853067,"body_markdown":"`checkRepetition` is a poor choice of method name. If it returns `true` does it mean it has found repetitions or it has no repetitions? I can&#39;t tell from the name; I can only tell by studying the code. It should be named `hasAllCharactersUnique`. Note also that it will crash with any characters with code larger than 127.","body":"<code>checkRepetition</code> is a poor choice of method name. If it returns <code>true</code> does it mean it has found repetitions or it has no repetitions? I can&#39;t tell from the name; I can only tell by studying the code. It should be named <code>hasAllCharactersUnique</code>. Note also that it will crash with any characters with code larger than 127."}],"answers":[{"tags":[],"owner":{"account_id":1507181,"reputation":13906,"user_id":1410303,"accept_rate":40,"display_name":"SomeDude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657643528,"creation_date":1657631480,"answer_id":72952884,"question_id":72952671,"body_markdown":"*but how is Math.max being used to output the correct substring?*\r\n\r\nMath.max is used to only get the maximum length and not the substring itself. To get the maximum length substring you need to create a string variable and update it accordingly as:\r\n\r\n    if (j-i+1 &gt; res) {\r\n       res = j-i+1\r\n       maxString = s.subsring(i, j+1)\r\n    }\r\n\r\n*And how is the check repetition function actually checking each individual character for the match?*\r\n\r\nLook at `int[] chars = new int[128]` and `chars[c]++`\r\n\r\nThe second part increments the number of times a character occurs in a string. \r\n\r\nFor example in your input string lets say the character &#39;z&#39; appears twice then the `chars` array at the location 122 is incremented because the character &#39;z&#39; is equivalent to integer 122 in ascii table. So if chars[122] &gt; 1, then there is a repetition of &#39;z&#39;. Simple. That&#39;s what the next block\r\n\r\n    if(chars[c] &gt; 1){\r\n       return false;\r\n    }\r\n\r\nis doing.","title":"Finding the Length of the Longest Substring without repeating characters","body":"<p><em>but how is Math.max being used to output the correct substring?</em></p>\n<p>Math.max is used to only get the maximum length and not the substring itself. To get the maximum length substring you need to create a string variable and update it accordingly as:</p>\n<pre><code>if (j-i+1 &gt; res) {\n   res = j-i+1\n   maxString = s.subsring(i, j+1)\n}\n</code></pre>\n<p><em>And how is the check repetition function actually checking each individual character for the match?</em></p>\n<p>Look at <code>int[] chars = new int[128]</code> and <code>chars[c]++</code></p>\n<p>The second part increments the number of times a character occurs in a string.</p>\n<p>For example in your input string lets say the character 'z' appears twice then the <code>chars</code> array at the location 122 is incremented because the character 'z' is equivalent to integer 122 in ascii table. So if chars[122] &gt; 1, then there is a repetition of 'z'. Simple. That's what the next block</p>\n<pre><code>if(chars[c] &gt; 1){\n   return false;\n}\n</code></pre>\n<p>is doing.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657645312,"creation_date":1657634274,"answer_id":72953570,"question_id":72952671,"body_markdown":"Your current, brute-force solution generates indices of each and every substring and then checks whether it contains repeated characters. \r\n\r\nBy doing so, you are repeating the same calculations multiple time. Instead of revisiting the same parts of the string over and over, we can perform this check only once and then reuse the results.\r\n\r\nI don&#39;t know if there are some constraints regarding the input in this challenge, but creation of an array of length `128` seems fishy because it exceeds the range of digits and lower-case/upper-case English letters. If you print on the console characters that correspond to let&#39;s say `0`, `10` and `127` you will not see anything meaningful on the console.\r\n\r\nAnd overall time complexity is quadratic **O(n ^ 2)** (considering the time complexity of the method `checkRepetition()` to be constant because it can perform at most `128` iterations).\r\n\r\nThis problem can be solved in a linear time **O(n)**.\r\n\r\nAnd it doesn&#39;t require any assumptions. The algorithm introduced below is based on the suggestion by *@Andrey B. Panfilov* provided in the comments.\r\n\r\nTo find the longest substring not containing characters that are repeated withing the substring, we need to iterate over the given string and store previously encountered characters for a current non-repeated substring. For that, we can use a `HashSet` (denoted as `seen`).\r\n\r\nWe also need to maintain an index pointing to the beginning of the current substring (denoted as `left`).\r\n\r\nWhile iterating, we are trying to incorporate every new character to the current substring, and if `seen.add()` would return `false` that means that we&#39;ve hit a duplicate, and it means that we&#39;ve done with the previous substring. Now we need to move the `left` index to the right to position one index beyond the previous occurrence of the character at the end of the current substring (at the index `right`). While moving the `left` index we also have to remove corresponding characters `str.charAt(left)` from the set.\r\n\r\nTo store the maximum length of the non-repeated substring we need to maintain a variable which has to be updated at the end of each iteration.\r\n\r\nThat&#39;s how it can be implemented:\r\n\r\n    public static int lengthOfLongestSubstring(String str) {\r\n        \r\n        Set&lt;Character&gt; seen = new HashSet&lt;&gt;();\r\n        \r\n        int left = 0;\r\n        int maxSub = 0;\r\n        \r\n        for(int right = 0; right &lt; str.length(); right++) {\r\n            char next =  str.charAt(right);\r\n            \r\n            if (!seen.add(next)) {\r\n                while (str.charAt(left) != next) {\r\n                    seen.remove(str.charAt(left++));\r\n                }\r\n                left++;\r\n            }\r\n            \r\n            maxSub = Math.max(right + 1 - left, maxSub);\r\n        }\r\n        return maxSub;\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(lengthOfLongestSubstring(&quot;&quot;));              // 0\r\n        System.out.println(lengthOfLongestSubstring(&quot;a&quot;));             // 1\r\n        System.out.println(lengthOfLongestSubstring(&quot;aa&quot;));            // 1\r\n        System.out.println(lengthOfLongestSubstring(&quot;abc&quot;));           // 3\r\n        System.out.println(lengthOfLongestSubstring(&quot;abccb&quot;));         // 3\r\n        System.out.println(lengthOfLongestSubstring(&quot;abccfghijklhl&quot;)); // 8\r\n    }\r\n\r\n*Output:*\r\n```\r\n0   // &quot;&quot;\r\n1   // &quot;a&quot;\r\n1   // &quot;aa&quot;\r\n3   // &quot;abc&quot;\r\n3   // &quot;abccb&quot;\r\n8   // &quot;abccfghijklhl&quot;\r\n```","title":"Finding the Length of the Longest Substring without repeating characters","body":"<p>Your current, brute-force solution generates indices of each and every substring and then checks whether it contains repeated characters.</p>\n<p>By doing so, you are repeating the same calculations multiple time. Instead of revisiting the same parts of the string over and over, we can perform this check only once and then reuse the results.</p>\n<p>I don't know if there are some constraints regarding the input in this challenge, but creation of an array of length <code>128</code> seems fishy because it exceeds the range of digits and lower-case/upper-case English letters. If you print on the console characters that correspond to let's say <code>0</code>, <code>10</code> and <code>127</code> you will not see anything meaningful on the console.</p>\n<p>And overall time complexity is quadratic <strong>O(n ^ 2)</strong> (considering the time complexity of the method <code>checkRepetition()</code> to be constant because it can perform at most <code>128</code> iterations).</p>\n<p>This problem can be solved in a linear time <strong>O(n)</strong>.</p>\n<p>And it doesn't require any assumptions. The algorithm introduced below is based on the suggestion by <em>@Andrey B. Panfilov</em> provided in the comments.</p>\n<p>To find the longest substring not containing characters that are repeated withing the substring, we need to iterate over the given string and store previously encountered characters for a current non-repeated substring. For that, we can use a <code>HashSet</code> (denoted as <code>seen</code>).</p>\n<p>We also need to maintain an index pointing to the beginning of the current substring (denoted as <code>left</code>).</p>\n<p>While iterating, we are trying to incorporate every new character to the current substring, and if <code>seen.add()</code> would return <code>false</code> that means that we've hit a duplicate, and it means that we've done with the previous substring. Now we need to move the <code>left</code> index to the right to position one index beyond the previous occurrence of the character at the end of the current substring (at the index <code>right</code>). While moving the <code>left</code> index we also have to remove corresponding characters <code>str.charAt(left)</code> from the set.</p>\n<p>To store the maximum length of the non-repeated substring we need to maintain a variable which has to be updated at the end of each iteration.</p>\n<p>That's how it can be implemented:</p>\n<pre><code>public static int lengthOfLongestSubstring(String str) {\n    \n    Set&lt;Character&gt; seen = new HashSet&lt;&gt;();\n    \n    int left = 0;\n    int maxSub = 0;\n    \n    for(int right = 0; right &lt; str.length(); right++) {\n        char next =  str.charAt(right);\n        \n        if (!seen.add(next)) {\n            while (str.charAt(left) != next) {\n                seen.remove(str.charAt(left++));\n            }\n            left++;\n        }\n        \n        maxSub = Math.max(right + 1 - left, maxSub);\n    }\n    return maxSub;\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(lengthOfLongestSubstring(&quot;&quot;));              // 0\n    System.out.println(lengthOfLongestSubstring(&quot;a&quot;));             // 1\n    System.out.println(lengthOfLongestSubstring(&quot;aa&quot;));            // 1\n    System.out.println(lengthOfLongestSubstring(&quot;abc&quot;));           // 3\n    System.out.println(lengthOfLongestSubstring(&quot;abccb&quot;));         // 3\n    System.out.println(lengthOfLongestSubstring(&quot;abccfghijklhl&quot;)); // 8\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>0   // &quot;&quot;\n1   // &quot;a&quot;\n1   // &quot;aa&quot;\n3   // &quot;abc&quot;\n3   // &quot;abccb&quot;\n8   // &quot;abccfghijklhl&quot;\n</code></pre>\n"}],"owner":{"account_id":21130885,"reputation":1,"user_id":15535257,"display_name":"Mark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657645312,"creation_date":1657630412,"question_id":72952671,"body_markdown":"I kind of have an understanding of this algorithm as a whole, but how is Math.max being used to output the correct substring?\r\n\r\nAnd how is the check repetition function actually checking each individual character for the match?\r\n\r\n    public class Solution {\r\n        public int lengthOfLongestSubstring(String s) {\r\n            \r\n             int n = s.length();\r\n             int res = 0;\r\n                for(int i = 0; i &lt; n; i++){\r\n                    for(int j = i; j &lt; n; j++){\r\n                        if(checkRepetition(s,i,j)){\r\n                            res = Math.max(res, j - i + 1);\r\n                        }\r\n                    }\r\n                }\r\n            return res;\r\n        }\r\n        \r\n        private boolean checkRepetition(String s,int start,int end){\r\n            int []chars = new int [128];\r\n            \r\n                for(int i = start; i &lt;= end; i++){\r\n                    char c = s.charAt(i);\r\n                    chars[c]++;\r\n                    \r\n                    if(chars[c] &gt; 1){\r\n                        return false;\r\n                    }\r\n                }\r\n            return true;\r\n        }\r\n    }","title":"Finding the Length of the Longest Substring without repeating characters","body":"<p>I kind of have an understanding of this algorithm as a whole, but how is Math.max being used to output the correct substring?</p>\n<p>And how is the check repetition function actually checking each individual character for the match?</p>\n<pre><code>public class Solution {\n    public int lengthOfLongestSubstring(String s) {\n        \n         int n = s.length();\n         int res = 0;\n            for(int i = 0; i &lt; n; i++){\n                for(int j = i; j &lt; n; j++){\n                    if(checkRepetition(s,i,j)){\n                        res = Math.max(res, j - i + 1);\n                    }\n                }\n            }\n        return res;\n    }\n    \n    private boolean checkRepetition(String s,int start,int end){\n        int []chars = new int [128];\n        \n            for(int i = start; i &lt;= end; i++){\n                char c = s.charAt(i);\n                chars[c]++;\n                \n                if(chars[c] &gt; 1){\n                    return false;\n                }\n            }\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","maven","osgi","equinox"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1657647405,"post_id":72955936,"comment_id":128858738,"body_markdown":"Maybe I misunderstand a thing but using a an non OSGi in a usual project is just done by defining it as a dependency... I don&#39;t understand the point of &quot;run configuration&quot;? Running from command line or as a test?","body":"Maybe I misunderstand a thing but using a an non OSGi in a usual project is just done by defining it as a dependency... I don&#39;t understand the point of &quot;run configuration&quot;? Running from command line or as a test?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1657691058,"post_id":72955936,"comment_id":128867624,"body_markdown":"The target platform that is used by an _OSGi Framework_ run configuration can be configured in the preferences _Plug-in Development &gt; Target Platform_. You can also create a new _Target Definition_ file. If its content change, it has to be reloaded. This can be done in the preferences _Plug-in Development &gt; Target Platform_ by hitting the _Reload_ button.","body":"The target platform that is used by an <i>OSGi Framework</i> run configuration can be configured in the preferences <i>Plug-in Development &gt; Target Platform</i>. You can also create a new <i>Target Definition</i> file. If its content change, it has to be reloaded. This can be done in the preferences <i>Plug-in Development &gt; Target Platform</i> by hitting the <i>Reload</i> button."},{"owner":{"account_id":245105,"reputation":770,"user_id":518404,"accept_rate":71,"display_name":"Quintonn"},"score":0,"creation_date":1657736050,"post_id":72955936,"comment_id":128883718,"body_markdown":"khmarbaise, the OSGi project is not not a maven project and doesn&#39;t have a pom file or dependencies. I want to add a bundle that is a maven project. The run configuration is how I run the application from Eclipse","body":"khmarbaise, the OSGi project is not not a maven project and doesn&#39;t have a pom file or dependencies. I want to add a bundle that is a maven project. The run configuration is how I run the application from Eclipse"}],"owner":{"account_id":245105,"reputation":770,"user_id":518404,"accept_rate":71,"display_name":"Quintonn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657645287,"creation_date":1657645287,"question_id":72955936,"body_markdown":"I am developing OSGi bundles for an application.  \r\nAnd to test it, I am able to run the full application from Eclipse.  \r\nI set the working directory to a folder that contains a JRE and also a folder with plugins (bundles) that make up the core software I&#39;m running.  \r\n\r\nThen when I go to run configurations in Eclipse, it shows any bundles I&#39;ve made as well as the bundles under a &quot;Target Platform&quot; section. \r\n\r\nAll of this is **without** Maven.  \r\n\r\nThe OSGi framework being used is equinox. And I can see the command being executed by Eclipse basically points to the equinox jar and a config file with all the locations and directories in it etc.  \r\n\r\nNow what I want to do, is add a bundle I made using Maven.  \r\nBut the Maven bundle does not show up in the run configuration as an available Bundle.  \r\n\r\nI suspect it&#39;s because the manifest.mf file doesn&#39;t exist for the maven project.  \r\nIt gets generated by the maven build.  \r\n\r\nIf I manually copy the maven built artifact into my running osgi&#39;s bundles folder it is picked up and included and works, but that&#39;s quite a manual process.  \r\n\r\nIs there a way to get Eclipse to include the Maven bundles in my **non-maven** OSGi run configuration?","title":"How to add Maven Bundle to Eclipse OSGi run configuration","body":"<p>I am developing OSGi bundles for an application.<br />\nAnd to test it, I am able to run the full application from Eclipse.<br />\nI set the working directory to a folder that contains a JRE and also a folder with plugins (bundles) that make up the core software I'm running.</p>\n<p>Then when I go to run configurations in Eclipse, it shows any bundles I've made as well as the bundles under a &quot;Target Platform&quot; section.</p>\n<p>All of this is <strong>without</strong> Maven.</p>\n<p>The OSGi framework being used is equinox. And I can see the command being executed by Eclipse basically points to the equinox jar and a config file with all the locations and directories in it etc.</p>\n<p>Now what I want to do, is add a bundle I made using Maven.<br />\nBut the Maven bundle does not show up in the run configuration as an available Bundle.</p>\n<p>I suspect it's because the manifest.mf file doesn't exist for the maven project.<br />\nIt gets generated by the maven build.</p>\n<p>If I manually copy the maven built artifact into my running osgi's bundles folder it is picked up and included and works, but that's quite a manual process.</p>\n<p>Is there a way to get Eclipse to include the Maven bundles in my <strong>non-maven</strong> OSGi run configuration?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657645187,"creation_date":1657645187,"answer_id":72955921,"question_id":72955715,"body_markdown":"Validate yourself the input:\r\n\r\n    System.out.print(&quot;Please say wheather you are an internationanal or Local student by typing I or L respectively&quot;);\r\n    char t=input.next().charAt(0);\r\n    while(!t.equals(&quot;L&quot;) &amp;&amp; !t.equals(&quot;I&quot;)) {\r\n           System.out.print(&quot;Please say wheather you are an internationanal or Local student by typing I or L respectively&quot;);\r\n           t=input.next().charAt(0);\r\n    }","title":"Is there a way to take a specific character input from the user and make so that an error occurs if that specific character is not entered","body":"<p>Validate yourself the input:</p>\n<pre><code>System.out.print(&quot;Please say wheather you are an internationanal or Local student by typing I or L respectively&quot;);\nchar t=input.next().charAt(0);\nwhile(!t.equals(&quot;L&quot;) &amp;&amp; !t.equals(&quot;I&quot;)) {\n       System.out.print(&quot;Please say wheather you are an internationanal or Local student by typing I or L respectively&quot;);\n       t=input.next().charAt(0);\n}\n</code></pre>\n"}],"owner":{"account_id":23421325,"reputation":1,"user_id":17481487,"display_name":"Kaylon Haven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657645187,"creation_date":1657644216,"question_id":72955715,"body_markdown":"I am currently trying to get user input of a character to state whether they are L for local or I for international.By having them input a specific character however the issue i am running into is that for the character input I can input more than just a character for exapmle a string or an integer when it should just be a character \r\n\r\n\r\n      public static void main(String[] args) {\r\n        \r\n        Scanner input = new Scanner(System.in);\r\n        double electrical_e_cost = 850.53;\r\n        double mechanical_eng_cost =895.25;\r\n        double petroleum_eng_cost = 450.67;\r\n        double computer_eng_cost = 921.14;   \r\n        int studentcount = 10;\r\n        int idnumber []=new int[10];\r\n        String[] studentname = new String[2];\r\n        int courseamount[]=new int [10];\r\n        char stype []=new char[10];\r\n        char coursetype []=new char[10];\r\n        \r\n        \r\n         \r\n        for(int i=0; i&lt;idnumber.length;i++)\r\n       {  \r\n         \r\n           System.out.println(&quot;Enter Name &quot;);\r\n           studentname[i]=input.next();\r\n            \r\n            System.out.println(&quot;Please enter Student ID number &quot;);\r\n            idnumber[i]= input.nextInt();\r\n            \r\n            System.out.print(&quot;Please say wheather you are an internationanal or Local student by typing I or L respectively&quot;);\r\n            char t=input.next().charAt(0);\r\n            \r\n            System.out.println(&quot;Please enter the course type either E,M,P,C &quot;);\r\n             coursetype[i] =input.next().charAt(0);\r\n            \r\n            System.out.println(&quot;Please enter The course amount  &quot;);\r\n            courseamount[i]= input.nextInt();\r\n            \r\n            \r\n            \r\n                     \r\n       } \r\n    }\r\n    \r\n}","title":"Is there a way to take a specific character input from the user and make so that an error occurs if that specific character is not entered","body":"<p>I am currently trying to get user input of a character to state whether they are L for local or I for international.By having them input a specific character however the issue i am running into is that for the character input I can input more than just a character for exapmle a string or an integer when it should just be a character</p>\n<pre><code>  public static void main(String[] args) {\n    \n    Scanner input = new Scanner(System.in);\n    double electrical_e_cost = 850.53;\n    double mechanical_eng_cost =895.25;\n    double petroleum_eng_cost = 450.67;\n    double computer_eng_cost = 921.14;   \n    int studentcount = 10;\n    int idnumber []=new int[10];\n    String[] studentname = new String[2];\n    int courseamount[]=new int [10];\n    char stype []=new char[10];\n    char coursetype []=new char[10];\n    \n    \n     \n    for(int i=0; i&lt;idnumber.length;i++)\n   {  \n     \n       System.out.println(&quot;Enter Name &quot;);\n       studentname[i]=input.next();\n        \n        System.out.println(&quot;Please enter Student ID number &quot;);\n        idnumber[i]= input.nextInt();\n        \n        System.out.print(&quot;Please say wheather you are an internationanal or Local student by typing I or L respectively&quot;);\n        char t=input.next().charAt(0);\n        \n        System.out.println(&quot;Please enter the course type either E,M,P,C &quot;);\n         coursetype[i] =input.next().charAt(0);\n        \n        System.out.println(&quot;Please enter The course amount  &quot;);\n        courseamount[i]= input.nextInt();\n        \n        \n        \n                 \n   } \n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","cardview"],"answers":[{"tags":[],"owner":{"account_id":11416432,"reputation":578,"user_id":8369150,"display_name":"Halil Sahin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657644907,"creation_date":1657644907,"answer_id":72955872,"question_id":72955765,"body_markdown":"You have to use `setCardBackgroundColor` not `getCardBackgroundColor`. Then your code should be:\r\n\r\n    holder.voice_item.setCardBackgroundColor(Color.RED);","title":"Java - getCardBackgroundColor - color for CardView","body":"<p>You have to use <code>setCardBackgroundColor</code> not <code>getCardBackgroundColor</code>. Then your code should be:</p>\n<pre><code>holder.voice_item.setCardBackgroundColor(Color.RED);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6000411,"reputation":992,"user_id":4713861,"display_name":"Samad Talukder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657645120,"creation_date":1657645120,"answer_id":72955910,"question_id":72955765,"body_markdown":"You can try this code:\r\n\r\n    holder.voice_item.setCardBackgroundColor(ContextCompat.getColor(this, R.color.here_put_your_color));","title":"Java - getCardBackgroundColor - color for CardView","body":"<p>You can try this code:</p>\n<pre><code>holder.voice_item.setCardBackgroundColor(ContextCompat.getColor(this, R.color.here_put_your_color));\n</code></pre>\n"}],"owner":{"account_id":19211404,"reputation":79,"user_id":14037141,"display_name":"Chad Davis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72955872,"answer_count":2,"score":1,"last_activity_date":1657645120,"creation_date":1657644429,"question_id":72955765,"body_markdown":"Can you help me with my code? I am changing the color of the item based on the information from the database, and now I wanted to transfer the color to the CardView, but I don&#39;t know what the notation should look like, because this code tells me that the Color.RED write is wrong. Will you help me?\r\n\r\n     @Override\r\n    protected void onBindViewHolder(@NonNull holder holder, int position, @NonNull \r\n    VoiceModel model) {\r\n\r\n        holder.tvvoiceName.setText(model.getName());\r\n        holder.tvvoiceTime.setText(model.getTime());\r\n        if(model.getPremium() == 1) holder.voice_item.getCardBackgroundColor(Color.RED);","title":"Java - getCardBackgroundColor - color for CardView","body":"<p>Can you help me with my code? I am changing the color of the item based on the information from the database, and now I wanted to transfer the color to the CardView, but I don't know what the notation should look like, because this code tells me that the Color.RED write is wrong. Will you help me?</p>\n<pre><code> @Override\nprotected void onBindViewHolder(@NonNull holder holder, int position, @NonNull \nVoiceModel model) {\n\n    holder.tvvoiceName.setText(model.getName());\n    holder.tvvoiceTime.setText(model.getTime());\n    if(model.getPremium() == 1) holder.voice_item.getCardBackgroundColor(Color.RED);\n</code></pre>\n"},{"tags":["java","encryption","bouncycastle"],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657644961,"creation_date":1657611870,"answer_id":72948715,"question_id":72944988,"body_markdown":"When using a password, OpenSSL stores the ciphertext in a specific format, namely the ASCII encoding of `Salted__`, followed by the 8 bytes salt, then the actual ciphertext.\r\n\r\nDuring decryption, the salt must not be randomly generated (as it is done in the posted code), otherwise the wrong key and IV will be derived. Instead, the salt must be determined from the metadata of the ciphertext. Also the use of the stream classes must be fixed:\r\n\r\n```java\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.nio.charset.StandardCharsets;\r\nimport org.bouncycastle.crypto.digests.MD5Digest;\r\nimport org.bouncycastle.crypto.engines.AESEngine;\r\nimport org.bouncycastle.crypto.generators.OpenSSLPBEParametersGenerator;\r\nimport org.bouncycastle.crypto.io.CipherInputStream;\r\nimport org.bouncycastle.crypto.modes.CBCBlockCipher;\r\nimport org.bouncycastle.crypto.paddings.PaddedBufferedBlockCipher;\r\nimport org.bouncycastle.crypto.params.ParametersWithIV; \r\n\r\n...\r\n\r\nString inputPath = &quot;...&quot;;\t// path to enc file\r\nString outputPath = &quot;...&quot;;\t// path to dec file\r\nString passwordStr = &quot;...&quot;;\r\n\r\n// Decrypt with AES-256, CBC using streams\r\ntry (FileInputStream fis = new FileInputStream(inputPath)){\r\n\r\n\t// Determine salt from OpenSSL format\r\n\tfis.readNBytes(8); // Skip prefix Salted__\r\n\tbyte[] salt = fis.readNBytes(8); // Read salt\r\n\t\r\n\t// Derive 32 bytes key (AES_256) and 16 bytes IV via EVP_BytesToKey()\r\n\tbyte[] password = passwordStr.getBytes(StandardCharsets.UTF_8);\r\n\tOpenSSLPBEParametersGenerator pbeGenerator = new OpenSSLPBEParametersGenerator(new MD5Digest()); // SHA256 as of v1.1.0 (if in OpenSSL the default digest is applied)\r\n\tpbeGenerator.init(password, salt);\r\n\tParametersWithIV parameters = (ParametersWithIV) pbeGenerator.generateDerivedParameters(256, 128); // keySize, ivSize in bits\r\n\t\r\n\t// Decrypt chunkwise (for large data)\r\n\tPaddedBufferedBlockCipher cipher = new PaddedBufferedBlockCipher(new CBCBlockCipher(new AESEngine()));\r\n\tcipher.init(false, parameters);\r\n\ttry (CipherInputStream cis = new CipherInputStream(fis, cipher);\r\n\t\t FileOutputStream fos = new FileOutputStream(outputPath)) {\r\n\t\tint bytesRead = -1;\r\n\t\tbyte[] buffer = new byte[64 * 1024 * 1024]; // chunksize, e.g. 64 MiB\r\n\t\twhile ((bytesRead = cis.read(buffer)) != -1) {\r\n            fos.write(buffer, 0, bytesRead);\r\n        }\t\t\t\t\r\n\t}\r\n}\r\n```\r\n\r\nThis is functionally equivalent to the OpenSSL statement:\r\n\r\n```none\r\nopenssl enc -d -aes256 -k &lt;passpharse&gt; -in &lt;enc file&gt; -out &lt;dec file&gt;\r\n```\r\n\r\nNote that OpenSSL applied MD5 as digest by default in earlier versions and SHA256 as of v.1.1.0. Code and OpenSSL statement must use the same digest for compatibility.&lt;br&gt;\r\nIn the code the digest is explicitly specified, in the OpenSSL statement it can be explicitly set via the *-md* option so that matching is possible on both sides.&lt;br&gt;\r\nKeep in mind that `EVP_BytesToKey()`, which is used by default by OpenSSL for key derivation, is deemed insecure nowadays.\r\n\r\n----------\r\n\r\nAddition regarding Java 8: For Java 8, e.g. the following implementation can be applied for the determination of the salt:\r\n\r\n```java\r\nint i = 0;\r\nbyte[] firstBlock = new byte[16]; \r\nwhile (i &lt; firstBlock.length) {\r\n    i += fis.read(firstBlock, i, firstBlock.length - i);\r\n}\r\nbyte[] salt = Arrays.copyOfRange(firstBlock, 8, 16);\r\n```\r\n\r\nThe loop is necessary because [`read(byte[],int,int)`][3], unlike `readNBytes(int)`, does *not guarantee* that the buffer is *completely filled* (considering here the non-EOF and non-error case).\r\n\r\nIf you omit the loop (which means using the equivalent [`read(byte[])`][2]), the code will still run for those JVMs which also fill the buffer completely. Since this applies to the most common JVMs for small buffer sizes the code will mostly work, see the comment by dave_thompson_085. However, this is not guaranteed for *any* JVM and is therefore less robust (though probably not by much).\r\n\r\n[2]: https://docs.oracle.com/javase/8/docs/api/java/io/FileInputStream.html#read-byte:A-\r\n[3]: https://docs.oracle.com/javase/8/docs/api/java/io/FileInputStream.html#read-byte:A-int-int-\r\n","title":"Java AES Decryption with keyFile using BouncyCastle SSL","body":"<p>When using a password, OpenSSL stores the ciphertext in a specific format, namely the ASCII encoding of <code>Salted__</code>, followed by the 8 bytes salt, then the actual ciphertext.</p>\n<p>During decryption, the salt must not be randomly generated (as it is done in the posted code), otherwise the wrong key and IV will be derived. Instead, the salt must be determined from the metadata of the ciphertext. Also the use of the stream classes must be fixed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.nio.charset.StandardCharsets;\nimport org.bouncycastle.crypto.digests.MD5Digest;\nimport org.bouncycastle.crypto.engines.AESEngine;\nimport org.bouncycastle.crypto.generators.OpenSSLPBEParametersGenerator;\nimport org.bouncycastle.crypto.io.CipherInputStream;\nimport org.bouncycastle.crypto.modes.CBCBlockCipher;\nimport org.bouncycastle.crypto.paddings.PaddedBufferedBlockCipher;\nimport org.bouncycastle.crypto.params.ParametersWithIV; \n\n...\n\nString inputPath = &quot;...&quot;;   // path to enc file\nString outputPath = &quot;...&quot;;  // path to dec file\nString passwordStr = &quot;...&quot;;\n\n// Decrypt with AES-256, CBC using streams\ntry (FileInputStream fis = new FileInputStream(inputPath)){\n\n    // Determine salt from OpenSSL format\n    fis.readNBytes(8); // Skip prefix Salted__\n    byte[] salt = fis.readNBytes(8); // Read salt\n    \n    // Derive 32 bytes key (AES_256) and 16 bytes IV via EVP_BytesToKey()\n    byte[] password = passwordStr.getBytes(StandardCharsets.UTF_8);\n    OpenSSLPBEParametersGenerator pbeGenerator = new OpenSSLPBEParametersGenerator(new MD5Digest()); // SHA256 as of v1.1.0 (if in OpenSSL the default digest is applied)\n    pbeGenerator.init(password, salt);\n    ParametersWithIV parameters = (ParametersWithIV) pbeGenerator.generateDerivedParameters(256, 128); // keySize, ivSize in bits\n    \n    // Decrypt chunkwise (for large data)\n    PaddedBufferedBlockCipher cipher = new PaddedBufferedBlockCipher(new CBCBlockCipher(new AESEngine()));\n    cipher.init(false, parameters);\n    try (CipherInputStream cis = new CipherInputStream(fis, cipher);\n         FileOutputStream fos = new FileOutputStream(outputPath)) {\n        int bytesRead = -1;\n        byte[] buffer = new byte[64 * 1024 * 1024]; // chunksize, e.g. 64 MiB\n        while ((bytesRead = cis.read(buffer)) != -1) {\n            fos.write(buffer, 0, bytesRead);\n        }               \n    }\n}\n</code></pre>\n<p>This is functionally equivalent to the OpenSSL statement:</p>\n<pre class=\"lang-none prettyprint-override\"><code>openssl enc -d -aes256 -k &lt;passpharse&gt; -in &lt;enc file&gt; -out &lt;dec file&gt;\n</code></pre>\n<p>Note that OpenSSL applied MD5 as digest by default in earlier versions and SHA256 as of v.1.1.0. Code and OpenSSL statement must use the same digest for compatibility.<br>\nIn the code the digest is explicitly specified, in the OpenSSL statement it can be explicitly set via the <em>-md</em> option so that matching is possible on both sides.<br>\nKeep in mind that <code>EVP_BytesToKey()</code>, which is used by default by OpenSSL for key derivation, is deemed insecure nowadays.</p>\n<hr />\n<p>Addition regarding Java 8: For Java 8, e.g. the following implementation can be applied for the determination of the salt:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 0;\nbyte[] firstBlock = new byte[16]; \nwhile (i &lt; firstBlock.length) {\n    i += fis.read(firstBlock, i, firstBlock.length - i);\n}\nbyte[] salt = Arrays.copyOfRange(firstBlock, 8, 16);\n</code></pre>\n<p>The loop is necessary because <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/FileInputStream.html#read-byte:A-int-int-\" rel=\"nofollow noreferrer\"><code>read(byte[],int,int)</code></a>, unlike <code>readNBytes(int)</code>, does <em>not guarantee</em> that the buffer is <em>completely filled</em> (considering here the non-EOF and non-error case).</p>\n<p>If you omit the loop (which means using the equivalent <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/FileInputStream.html#read-byte:A-\" rel=\"nofollow noreferrer\"><code>read(byte[])</code></a>), the code will still run for those JVMs which also fill the buffer completely. Since this applies to the most common JVMs for small buffer sizes the code will mostly work, see the comment by dave_thompson_085. However, this is not guaranteed for <em>any</em> JVM and is therefore less robust (though probably not by much).</p>\n"}],"owner":{"account_id":25784511,"reputation":129,"user_id":19529591,"display_name":"RoxaneFelton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":599,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":72948715,"answer_count":1,"score":2,"last_activity_date":1657644961,"creation_date":1657576110,"question_id":72944988,"body_markdown":"I am trying to write a Java code decrypt a file encrypted with AES256 using BouncyCastle compatible with OpenSSL decryption.\r\n\r\n**s_key is the file provided which contains the key that will be used to encrypt and decrypt**\r\n\r\nSteps to be done: 1 - Read the key file 2 - Use the key provided to decrypt file inputfilename\r\n\r\nBelow I have use so far but I am getting error:\r\n\r\n    import java.io.*;\r\n    import java.nio.charset.StandardCharsets;\r\n    \r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.SecureRandom;\r\n    \r\n    import org.apache.commons.io.FileUtils;\r\n    import org.bouncycastle.crypto.digests.MD5Digest;\r\n    import org.bouncycastle.crypto.engines.AESEngine;\r\n    import org.bouncycastle.crypto.generators.OpenSSLPBEParametersGenerator;\r\n    import org.bouncycastle.crypto.io.CipherOutputStream;\r\n    import org.bouncycastle.crypto.modes.CBCBlockCipher;\r\n    import org.bouncycastle.crypto.paddings.PaddedBufferedBlockCipher;\r\n    import org.bouncycastle.crypto.params.ParametersWithIV;\r\n    \r\n    import javax.crypto.NoSuchPaddingException;\r\n    \r\n    \r\n    public class test5_encrypt {\r\n    \r\n        public static void main(String[] args) throws IOException, NoSuchPaddingException, NoSuchAlgorithmException {\r\n    \r\n    \r\n            File file = new File(&quot;/home/roxane/key&quot;);\r\n            String passwordStr = FileUtils.readFileToString(file, &quot;UTF-8&quot;);\r\n    \r\n            String outputPath = &quot;/home/roxane/test1&quot;;\r\n            String inputPath = &quot;/home/roxane/test&quot;;\r\n    \r\n    \r\n            SecureRandom random = new SecureRandom();\r\n            byte salt[] = new byte[8];\r\n            random.nextBytes(salt);\r\n    \r\n    // Derive 32 bytes key (AES_256) and 16 bytes IV\r\n            byte[] password = passwordStr.getBytes(StandardCharsets.UTF_8);\r\n            OpenSSLPBEParametersGenerator pbeGenerator = new OpenSSLPBEParametersGenerator(new MD5Digest()); // SHA256 as of v1.1.0 (if in OpenSSL the default digest is applied)\r\n            pbeGenerator.init(password, salt);\r\n            ParametersWithIV parameters = (ParametersWithIV) pbeGenerator.generateDerivedParameters(256, 128);// keySize, ivSize in bits\r\n            System.out.println(parameters.getIV());\r\n    \r\n    \r\n    // Decrypt with AES-256\r\n            try (FileOutputStream fos = new FileOutputStream(outputPath)) {\r\n    \r\n               // Encrypt chunkwise (for large data)\r\n                PaddedBufferedBlockCipher cipher = new PaddedBufferedBlockCipher(new CBCBlockCipher(new AESEngine()));\r\n                cipher.init(false, parameters);\r\n                try (FileInputStream fis = new FileInputStream(inputPath);\r\n                     CipherOutputStream cos = new CipherOutputStream(fos, cipher)) {\r\n                    int bytesRead = -1;\r\n                    byte[] buffer = new byte[64 * 1024 * 1024];\r\n                    while ((bytesRead = fis.read(buffer)) != -1) {\r\n                        cos.write(buffer, 0, bytesRead);\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n    \r\n            }\r\n    \r\n    \r\n        }\r\n    }\r\n\r\nError:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: org.bouncycastle.crypto.io.InvalidCipherTextIOException: Error finalising cipher data\r\n\tat decrypt.test5_encrypt.main(test5_encrypt.java:61)\r\nCaused by: org.bouncycastle.crypto.io.InvalidCipherTextIOException: Error finalising cipher data\r\n\tat org.bouncycastle.crypto.io.CipherOutputStream.close(Unknown Source)\r\n\tat decrypt.test5_encrypt.main(test5_encrypt.java:59)\r\nCaused by: org.bouncycastle.crypto.InvalidCipherTextException: pad block corrupted\r\n```\r\n\r\n","title":"Java AES Decryption with keyFile using BouncyCastle SSL","body":"<p>I am trying to write a Java code decrypt a file encrypted with AES256 using BouncyCastle compatible with OpenSSL decryption.</p>\n<p><strong>s_key is the file provided which contains the key that will be used to encrypt and decrypt</strong></p>\n<p>Steps to be done: 1 - Read the key file 2 - Use the key provided to decrypt file inputfilename</p>\n<p>Below I have use so far but I am getting error:</p>\n<pre><code>import java.io.*;\nimport java.nio.charset.StandardCharsets;\n\nimport java.security.NoSuchAlgorithmException;\nimport java.security.SecureRandom;\n\nimport org.apache.commons.io.FileUtils;\nimport org.bouncycastle.crypto.digests.MD5Digest;\nimport org.bouncycastle.crypto.engines.AESEngine;\nimport org.bouncycastle.crypto.generators.OpenSSLPBEParametersGenerator;\nimport org.bouncycastle.crypto.io.CipherOutputStream;\nimport org.bouncycastle.crypto.modes.CBCBlockCipher;\nimport org.bouncycastle.crypto.paddings.PaddedBufferedBlockCipher;\nimport org.bouncycastle.crypto.params.ParametersWithIV;\n\nimport javax.crypto.NoSuchPaddingException;\n\n\npublic class test5_encrypt {\n\n    public static void main(String[] args) throws IOException, NoSuchPaddingException, NoSuchAlgorithmException {\n\n\n        File file = new File(&quot;/home/roxane/key&quot;);\n        String passwordStr = FileUtils.readFileToString(file, &quot;UTF-8&quot;);\n\n        String outputPath = &quot;/home/roxane/test1&quot;;\n        String inputPath = &quot;/home/roxane/test&quot;;\n\n\n        SecureRandom random = new SecureRandom();\n        byte salt[] = new byte[8];\n        random.nextBytes(salt);\n\n// Derive 32 bytes key (AES_256) and 16 bytes IV\n        byte[] password = passwordStr.getBytes(StandardCharsets.UTF_8);\n        OpenSSLPBEParametersGenerator pbeGenerator = new OpenSSLPBEParametersGenerator(new MD5Digest()); // SHA256 as of v1.1.0 (if in OpenSSL the default digest is applied)\n        pbeGenerator.init(password, salt);\n        ParametersWithIV parameters = (ParametersWithIV) pbeGenerator.generateDerivedParameters(256, 128);// keySize, ivSize in bits\n        System.out.println(parameters.getIV());\n\n\n// Decrypt with AES-256\n        try (FileOutputStream fos = new FileOutputStream(outputPath)) {\n\n           // Encrypt chunkwise (for large data)\n            PaddedBufferedBlockCipher cipher = new PaddedBufferedBlockCipher(new CBCBlockCipher(new AESEngine()));\n            cipher.init(false, parameters);\n            try (FileInputStream fis = new FileInputStream(inputPath);\n                 CipherOutputStream cos = new CipherOutputStream(fos, cipher)) {\n                int bytesRead = -1;\n                byte[] buffer = new byte[64 * 1024 * 1024];\n                while ((bytesRead = fis.read(buffer)) != -1) {\n                    cos.write(buffer, 0, bytesRead);\n                }\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n\n        }\n\n\n    }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: org.bouncycastle.crypto.io.InvalidCipherTextIOException: Error finalising cipher data\n    at decrypt.test5_encrypt.main(test5_encrypt.java:61)\nCaused by: org.bouncycastle.crypto.io.InvalidCipherTextIOException: Error finalising cipher data\n    at org.bouncycastle.crypto.io.CipherOutputStream.close(Unknown Source)\n    at decrypt.test5_encrypt.main(test5_encrypt.java:59)\nCaused by: org.bouncycastle.crypto.InvalidCipherTextException: pad block corrupted\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":342531,"reputation":254999,"user_id":673730,"accept_rate":89,"display_name":"Luchian Grigore"},"score":2,"creation_date":1315308286,"post_id":7319072,"comment_id":8822698,"body_markdown":"Does it skip the if statement or evaluates the condition to false and skips System.exit(0); ?","body":"Does it skip the if statement or evaluates the condition to false and skips System.exit(0); ?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1315308473,"post_id":7319072,"comment_id":8822748,"body_markdown":"I&#39;m just gonna vote for every answer. We&#39;ve all basically said the same thing :)","body":"I&#39;m just gonna vote for every answer. We&#39;ve all basically said the same thing :)"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1315308668,"creation_date":1315308277,"answer_id":7319097,"question_id":7319072,"body_markdown":"You&#39;re comparing two string references for *identity*, not whether they refer to *equal* strings. It&#39;s not *skipping* the `if` statement - it&#39;s evaluating the condition, and finding that it&#39;s false, so it&#39;s not going into the body. Try this:\r\n\r\n    if (input.equals(&quot;x&quot;))\r\n\r\nOr if `input` might be null and you don&#39;t want that to cause an exception:\r\n\r\n    if (&quot;x&quot;.equals(input))\r\n\r\nThis isn&#39;t just true of strings - whenever you have `==`, it will compare the values of the two expressions... and if those values are references, it simply compares whether those two references are equal, i.e. whether they refer to the same object. `equals`, on the other hand, is applied polymorphically - so the object it&#39;s called on can determine what constitutes equality for that class.\r\n\r\nAs another example:\r\n\r\n    Integer x = new Integer(1000);\r\n    Integer y = new Integer(1000);\r\n\r\n    System.out.println(x == y); // false\r\n    System.out.println(x.equals(y)); // true\r\n","title":"Java if statement is skipped","body":"<p>You're comparing two string references for <em>identity</em>, not whether they refer to <em>equal</em> strings. It's not <em>skipping</em> the <code>if</code> statement - it's evaluating the condition, and finding that it's false, so it's not going into the body. Try this:</p>\n\n<pre><code>if (input.equals(\"x\"))\n</code></pre>\n\n<p>Or if <code>input</code> might be null and you don't want that to cause an exception:</p>\n\n<pre><code>if (\"x\".equals(input))\n</code></pre>\n\n<p>This isn't just true of strings - whenever you have <code>==</code>, it will compare the values of the two expressions... and if those values are references, it simply compares whether those two references are equal, i.e. whether they refer to the same object. <code>equals</code>, on the other hand, is applied polymorphically - so the object it's called on can determine what constitutes equality for that class.</p>\n\n<p>As another example:</p>\n\n<pre><code>Integer x = new Integer(1000);\nInteger y = new Integer(1000);\n\nSystem.out.println(x == y); // false\nSystem.out.println(x.equals(y)); // true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1315308296,"creation_date":1315308296,"answer_id":7319100,"question_id":7319072,"body_markdown":"You need to use `.equals()`, not `==`.\r\n\r\nUsing `==` will *always* fail: Unlike javascript, in java `==` tests if the two operands are the *same exact object*, which they aren&#39;t (one is a String constant, the other was user input)\r\n\r\n`.equals()` test if the two objects &quot;have the same value&quot; (class-dependant implementation).","title":"Java if statement is skipped","body":"<p>You need to use <code>.equals()</code>, not <code>==</code>.</p>\n\n<p>Using <code>==</code> will <em>always</em> fail: Unlike javascript, in java <code>==</code> tests if the two operands are the <em>same exact object</em>, which they aren't (one is a String constant, the other was user input)</p>\n\n<p><code>.equals()</code> test if the two objects \"have the same value\" (class-dependant implementation).</p>\n"},{"tags":[],"owner":{"account_id":132562,"reputation":1066,"user_id":333331,"accept_rate":69,"display_name":"Polymorphix"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1315308424,"creation_date":1315308305,"answer_id":7319101,"question_id":7319072,"body_markdown":"Try using \r\n\r\n    &quot;x&quot;.equals(input)\r\n\r\n`==` tests whether they refer to the same object not the content of the string.\r\n","title":"Java if statement is skipped","body":"<p>Try using </p>\n\n<pre><code>\"x\".equals(input)\n</code></pre>\n\n<p><code>==</code> tests whether they refer to the same object not the content of the string.</p>\n"},{"tags":[],"owner":{"account_id":429324,"reputation":8238,"user_id":812149,"accept_rate":100,"display_name":"S.L. Barth is on codidact.com"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1315308310,"creation_date":1315308310,"answer_id":7319103,"question_id":7319072,"body_markdown":"This is a classic. Don&#39;t use &quot;==&quot; for comparing Strings, use String.equals().","title":"Java if statement is skipped","body":"<p>This is a classic. Don't use \"==\" for comparing Strings, use String.equals().</p>\n"},{"tags":[],"owner":{"account_id":307760,"reputation":13890,"user_id":619252,"display_name":"Gabriel Negut"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1315308322,"creation_date":1315308322,"answer_id":7319106,"question_id":7319072,"body_markdown":"Do not use `==` for comparing strings, use `equals`.\r\n\r\n    if(input.equals(&quot;x&quot;))\r\n        System.exit(0);","title":"Java if statement is skipped","body":"<p>Do not use <code>==</code> for comparing strings, use <code>equals</code>.</p>\n\n<pre><code>if(input.equals(\"x\"))\n    System.exit(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":183777,"reputation":4897,"user_id":419377,"accept_rate":97,"display_name":"Vaandu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1315308328,"creation_date":1315308328,"answer_id":7319108,"question_id":7319072,"body_markdown":"Try `&quot;X&quot;.equals(input)`. For String comparison use equals method. ","title":"Java if statement is skipped","body":"<p>Try <code>\"X\".equals(input)</code>. For String comparison use equals method. </p>\n"},{"tags":[],"owner":{"account_id":893887,"reputation":2079,"user_id":931607,"accept_rate":88,"display_name":"java_mouse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1318611676,"creation_date":1318611676,"answer_id":7771027,"question_id":7319072,"body_markdown":"Use == for comparing primitives and object references.\r\n\r\nequals for content comparisons(provided it is implemented). String has the equals implemented for content comparison and you should use that.","title":"Java if statement is skipped","body":"<p>Use == for comparing primitives and object references.</p>\n\n<p>equals for content comparisons(provided it is implemented). String has the equals implemented for content comparison and you should use that.</p>\n"}],"owner":{"account_id":887435,"reputation":47,"user_id":926531,"accept_rate":20,"display_name":"Benji"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3548,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":7319103,"answer_count":7,"score":0,"last_activity_date":1657644757,"creation_date":1315308145,"question_id":7319072,"body_markdown":"In the following Java code, the if statement conditional does not evaluate to true and its block is skipped.\r\n\r\n    public void options(String input)\r\n    {\r\n        if(input == &quot;x&quot;)\r\n            System.exit(0);\r\n    }\r\n\r\nInput has the right value, so why is the System.exit(0) skipped?","title":"Java if statement is skipped","body":"<p>In the following Java code, the if statement conditional does not evaluate to true and its block is skipped.</p>\n\n<pre><code>public void options(String input)\n{\n    if(input == \"x\")\n        System.exit(0);\n}\n</code></pre>\n\n<p>Input has the right value, so why is the System.exit(0) skipped?</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"score":0,"creation_date":1653241083,"post_id":72339527,"comment_id":127797818,"body_markdown":"try to use `toString()` for enum value. It should work.","body":"try to use <code>toString()</code> for enum value. It should work."},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1653259762,"post_id":72339527,"comment_id":127801309,"body_markdown":"Could you please provide an example how do you use specification and execute query with this specification?","body":"Could you please provide an example how do you use specification and execute query with this specification?"}],"answers":[{"tags":[],"owner":{"account_id":17484901,"reputation":90,"user_id":12678146,"display_name":"Aman Agarwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653289044,"creation_date":1653240930,"answer_id":72339907,"question_id":72339527,"body_markdown":"Try doing this:\r\n\r\n    Specification&lt;OrdineProd&gt; = (root, query, qb) -&gt;\r\n                qb.equal(root.get(&quot;stato&quot;), StOrdine.SCHEDULATO.name);","title":"JPA Specification for Enum","body":"<p>Try doing this:</p>\n<pre><code>Specification&lt;OrdineProd&gt; = (root, query, qb) -&gt;\n            qb.equal(root.get(&quot;stato&quot;), StOrdine.SCHEDULATO.name);\n</code></pre>\n"}],"owner":{"account_id":8964938,"reputation":749,"user_id":6686007,"display_name":"Roberto Petrilli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72339907,"answer_count":1,"score":0,"last_activity_date":1657644720,"creation_date":1653237929,"question_id":72339527,"body_markdown":"My JPA Entity as an Enum field\r\n\r\n\t@Table(name=&quot;zsrb_ordini_prod&quot;)\r\n\t@Entity\r\n\t@JsonIgnoreProperties(ignoreUnknown = true)\r\n\tpublic class OrdineProd implements Serializable {\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t\tpublic Long idOrdineProd;\r\n\t\r\n        ...\r\n\t\r\n\t\t@Enumerated(EnumType.STRING)\r\n\t\tpublic StOrdine stato = StOrdine.CREATO;\r\n\r\n        ...\r\n    }\r\n\r\nWhere \r\n\r\n    public enum StOrdine {\r\n        CREATO,\r\n        SCHEDULATO,\r\n        CONFERMATO,\r\n        SCARTATO\r\n    }\r\n\r\nIf I add a where condition with a specification\r\n\r\n    Specification&lt;OrdineProd&gt; = (root, query, qb)-&gt;\r\n\t\t\t\t\tqb.equal(root.get(&quot;stato&quot;), StOrdine.SCHEDULATO);\r\n\r\n\r\n\tjava.lang.IllegalArgumentException: Parameter value [SCHEDULATO] did not match expected type [imp.srb.progettazione.ordProd.StOrdine (n/a)]\r\n\t\tat org.hibernate.query.spi.QueryParameterBindingValidator.validate(QueryParameterBindingValidator.java:54) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n\t\tat org.hibernate.query.spi.QueryParameterBindingValidator.validate(QueryParameterBindingValidator.java:27) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n\t...\r\n\t\t\r\n\r\nwhat is the correct way to include Enums into Specification queries?\r\n\r\n","title":"JPA Specification for Enum","body":"<p>My JPA Entity as an Enum field</p>\n<pre><code>@Table(name=&quot;zsrb_ordini_prod&quot;)\n@Entity\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class OrdineProd implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public Long idOrdineProd;\n\n    ...\n\n    @Enumerated(EnumType.STRING)\n    public StOrdine stato = StOrdine.CREATO;\n\n    ...\n}\n</code></pre>\n<p>Where</p>\n<pre><code>public enum StOrdine {\n    CREATO,\n    SCHEDULATO,\n    CONFERMATO,\n    SCARTATO\n}\n</code></pre>\n<p>If I add a where condition with a specification</p>\n<pre><code>Specification&lt;OrdineProd&gt; = (root, query, qb)-&gt;\n                qb.equal(root.get(&quot;stato&quot;), StOrdine.SCHEDULATO);\n\n\njava.lang.IllegalArgumentException: Parameter value [SCHEDULATO] did not match expected type [imp.srb.progettazione.ordProd.StOrdine (n/a)]\n    at org.hibernate.query.spi.QueryParameterBindingValidator.validate(QueryParameterBindingValidator.java:54) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.query.spi.QueryParameterBindingValidator.validate(QueryParameterBindingValidator.java:27) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n...\n    \n</code></pre>\n<p>what is the correct way to include Enums into Specification queries?</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":2710015,"reputation":1652,"user_id":2338687,"accept_rate":39,"display_name":"omriman12"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613374706,"creation_date":1613374706,"answer_id":66204225,"question_id":66196943,"body_markdown":"Well i guess they made some change in the jar of 2.7.0 because changing to pulsar-functions-local-runner 2.6.0 solve the issue","title":"Maven - Invalid signature file digest for Manifest main attributes","body":"<p>Well i guess they made some change in the jar of 2.7.0 because changing to pulsar-functions-local-runner 2.6.0 solve the issue</p>\n"},{"tags":[],"owner":{"account_id":4262789,"reputation":4632,"user_id":3486720,"accept_rate":36,"display_name":"Apurva Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657644580,"creation_date":1657644580,"answer_id":72955801,"question_id":66196943,"body_markdown":"Remove pulsar-client from maven, and add pulsar-common. pulsar-common has the pulsar-client-api. There is a serious conflict between pulsar-client and pulsar-common.\r\n\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.pulsar&lt;/groupId&gt;\r\n          &lt;artifactId&gt;pulsar-common&lt;/artifactId&gt;\r\n          &lt;version&gt;${pulsar.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.pulsar&lt;/groupId&gt;\r\n          &lt;artifactId&gt;pulsar-functions-api&lt;/artifactId&gt;\r\n          &lt;version&gt;${pulsar.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.pulsar&lt;/groupId&gt;\r\n          &lt;artifactId&gt;pulsar-functions-local-runner&lt;/artifactId&gt;\r\n          &lt;version&gt;${pulsar.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;!--    &lt;dependency&gt;--&gt;\r\n    &lt;!--      &lt;groupId&gt;org.apache.pulsar&lt;/groupId&gt;--&gt;\r\n    &lt;!--      &lt;artifactId&gt;pulsar-client&lt;/artifactId&gt;--&gt;\r\n    &lt;!--      &lt;version&gt;${pulsar.version}&lt;/version&gt;--&gt;\r\n    &lt;!--    &lt;/dependency&gt;--&gt;","title":"Maven - Invalid signature file digest for Manifest main attributes","body":"<p>Remove pulsar-client from maven, and add pulsar-common. pulsar-common has the pulsar-client-api. There is a serious conflict between pulsar-client and pulsar-common.</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.pulsar&lt;/groupId&gt;\n      &lt;artifactId&gt;pulsar-common&lt;/artifactId&gt;\n      &lt;version&gt;${pulsar.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.pulsar&lt;/groupId&gt;\n      &lt;artifactId&gt;pulsar-functions-api&lt;/artifactId&gt;\n      &lt;version&gt;${pulsar.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.pulsar&lt;/groupId&gt;\n      &lt;artifactId&gt;pulsar-functions-local-runner&lt;/artifactId&gt;\n      &lt;version&gt;${pulsar.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;!--    &lt;dependency&gt;--&gt;\n&lt;!--      &lt;groupId&gt;org.apache.pulsar&lt;/groupId&gt;--&gt;\n&lt;!--      &lt;artifactId&gt;pulsar-client&lt;/artifactId&gt;--&gt;\n&lt;!--      &lt;version&gt;${pulsar.version}&lt;/version&gt;--&gt;\n&lt;!--    &lt;/dependency&gt;--&gt;\n</code></pre>\n"}],"owner":{"account_id":2710015,"reputation":1652,"user_id":2338687,"accept_rate":39,"display_name":"omriman12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1657644580,"creation_date":1613316647,"question_id":66196943,"body_markdown":"New to java and Maven. \r\n\r\nWhen trying to add dependancy to the package `pulsar-functions-local-runner` I am getting an error:\r\n\r\n`Failed to execute goal org.apache.maven.plugins:maven-assembly-plugin:2.2-beta-5:assembly (make-assembly) on project java-function: Execution make-assembly of goal org.apache.maven.plugins:maven-assembly-plugin:2.2-beta-5:assembly failed: Invalid signature file digest for Manifest main attributes`\r\n\r\nUsing maven `3.6.3`.\r\n\r\nI am after 3 hours of searching the web, what am I missing?\r\n\r\n\r\nThis is my `pom.xml` file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t\t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t\t&lt;groupId&gt;java-function&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;java-function&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.pulsar&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;pulsar-functions-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.pulsar&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;pulsar-functions-local-runner&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;sourceDirectory&gt;src/&lt;/sourceDirectory&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;                \r\n\t\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n\t\t\t\t\t\t&lt;descriptorRefs&gt;\r\n\t\t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t\t\t\t&lt;/descriptorRefs&gt;\r\n\t\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;org.example.test.ExclamationFunction&lt;/mainClass&gt;\r\n\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;id&gt;make-assembly&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;assembly&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\r\n\t&lt;/project&gt;","title":"Maven - Invalid signature file digest for Manifest main attributes","body":"<p>New to java and Maven.</p>\n<p>When trying to add dependancy to the package <code>pulsar-functions-local-runner</code> I am getting an error:</p>\n<p><code>Failed to execute goal org.apache.maven.plugins:maven-assembly-plugin:2.2-beta-5:assembly (make-assembly) on project java-function: Execution make-assembly of goal org.apache.maven.plugins:maven-assembly-plugin:2.2-beta-5:assembly failed: Invalid signature file digest for Manifest main attributes</code></p>\n<p>Using maven <code>3.6.3</code>.</p>\n<p>I am after 3 hours of searching the web, what am I missing?</p>\n<p>This is my <code>pom.xml</code> file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;java-function&lt;/groupId&gt;\n    &lt;artifactId&gt;java-function&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pulsar&lt;/groupId&gt;\n            &lt;artifactId&gt;pulsar-functions-api&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pulsar&lt;/groupId&gt;\n            &lt;artifactId&gt;pulsar-functions-local-runner&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src/&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;                \n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                    &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;org.example.test.ExclamationFunction&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;assembly&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","azure"],"answers":[{"tags":[],"owner":{"account_id":23585381,"reputation":837,"user_id":17623897,"display_name":"SuryasriKamini-MT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657644516,"creation_date":1657644516,"answer_id":72955789,"question_id":72952936,"body_markdown":"- If you don&#39;t add the `@ComponentScan` annotation, your main class won&#39;t scan the package of  services and won&#39;t initialise the beans.\r\n- Bean hasn&#39;t been created, therefore Spring is unable to inject it. By using the annotation `@EnableJpaRepositories(basePackages=&#39;pl.springBootStarter.app&#39;)` on any of your configuration classes or classes annotated with `@SpringBootApplication`, you must instruct Spring to produce implementation of defined repository interfaces. That may solve your issue.\r\n- Altering the spring boot version may also help to fix the problem.\r\n\r\n","title":"I am trying to create Microsoft azuer database and create table. What is this error &quot;type &#39;that could not be found.&quot;","body":"<ul>\n<li>If you don't add the <code>@ComponentScan</code> annotation, your main class won't scan the package of  services and won't initialise the beans.</li>\n<li>Bean hasn't been created, therefore Spring is unable to inject it. By using the annotation <code>@EnableJpaRepositories(basePackages='pl.springBootStarter.app')</code> on any of your configuration classes or classes annotated with <code>@SpringBootApplication</code>, you must instruct Spring to produce implementation of defined repository interfaces. That may solve your issue.</li>\n<li>Altering the spring boot version may also help to fix the problem.</li>\n</ul>\n"}],"owner":{"account_id":21091791,"reputation":45,"user_id":15503530,"display_name":"tricks. com"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657644516,"creation_date":1657631689,"question_id":72952936,"body_markdown":"I am trying to create a Microsoft azure database and create a table. But indicate an error after running the program.\r\n\r\n**Employee**\r\n\r\n   \r\n\r\n     package com.javatechie.azuresql;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Component\r\n    public class Employee {\r\n        @Id\r\n        @GeneratedValue\r\n        private int id;\r\n        private String name;\r\n        private  String dept;\r\n        private long salary;\r\n    }\r\n\r\n**EmployeeRepository**\r\n\r\n    package com.javatechie.azuresql;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public interface EmployeeRepository extends JpaRepository&lt;Employee,Integer&gt; {\r\n    }\r\n\r\n**SpringbootAzuresqlApplication (main)**\r\n\r\n    package com.javatechie.azuresql;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.List;\r\n    \r\n    @SpringBootApplication\r\n    @RestController\r\n    public class SpringbootAzuresqlApplication {\r\n    \r\n    \t@Autowired\r\n    \tprivate EmployeeRepository repository;\r\n    \r\n    \t@PostMapping(&quot;/employee&quot;)\r\n    \tpublic Employee addEmployee(@RequestBody Employee employee){\r\n    \t\treturn repository.save(employee);\r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;/employees&quot;)\r\n    \tpublic List&lt;Employee&gt; getEmployees(){\r\n    \t\treturn repository.findAll();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SpringbootAzuresqlApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n**application.yml**\r\n\r\n \r\n\r\n       spring:\r\n      datasource:\r\n        url: jdbc:jdbc:sqlserver://javatechi.database.windows.net:1433;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;loginTimeout=30;\r\n        username: javatechi\r\n        password: password.123\r\n      jpa:\r\n        show-sql: true\r\n        hibernate:\r\n          ddl-auto: update\r\n          dialect: org.hibernate.dialect.SQLServer2012Dialect\r\n    \r\n    server:\r\n      port: 9191\r\n\r\n**pom.xml**\r\n\r\n  \r\n\r\n      &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.javatechie&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;springboot-azuresql&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;springboot-azure-sql&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.webjars.npm&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;table&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.4.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n**this is an error**\r\n\r\n&gt; Description:\r\n&gt; \r\n&gt; Field repository in\r\n&gt; com.javatechie.azuresql.SpringbootAzuresqlApplication required a bean\r\n&gt; of type &#39;com.javatechie.azuresql.EmployeeRepository&#39; that could not be\r\n&gt; found.\r\n&gt; \r\n&gt; The injection point has the following annotations:\r\n&gt; \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n&gt; \r\n&gt; \r\n&gt; Action:\r\n&gt; \r\n&gt; Consider defining a bean of type\r\n&gt; &#39;com.javatechie.azuresql.EmployeeRepository&#39; in your configuration.\r\n\r\n  [1]: https://i.stack.imgur.com/mtMNL.png\r\n\r\n","title":"I am trying to create Microsoft azuer database and create table. What is this error &quot;type &#39;that could not be found.&quot;","body":"<p>I am trying to create a Microsoft azure database and create a table. But indicate an error after running the program.</p>\n<p><strong>Employee</strong></p>\n<pre><code> package com.javatechie.azuresql;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.springframework.stereotype.Component;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Component\npublic class Employee {\n    @Id\n    @GeneratedValue\n    private int id;\n    private String name;\n    private  String dept;\n    private long salary;\n}\n</code></pre>\n<p><strong>EmployeeRepository</strong></p>\n<pre><code>package com.javatechie.azuresql;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic interface EmployeeRepository extends JpaRepository&lt;Employee,Integer&gt; {\n}\n</code></pre>\n<p><strong>SpringbootAzuresqlApplication (main)</strong></p>\n<pre><code>package com.javatechie.azuresql;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@SpringBootApplication\n@RestController\npublic class SpringbootAzuresqlApplication {\n\n    @Autowired\n    private EmployeeRepository repository;\n\n    @PostMapping(&quot;/employee&quot;)\n    public Employee addEmployee(@RequestBody Employee employee){\n        return repository.save(employee);\n    }\n\n    @GetMapping(&quot;/employees&quot;)\n    public List&lt;Employee&gt; getEmployees(){\n        return repository.findAll();\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringbootAzuresqlApplication.class, args);\n    }\n\n}\n</code></pre>\n<p><strong>application.yml</strong></p>\n<pre><code>   spring:\n  datasource:\n    url: jdbc:jdbc:sqlserver://javatechi.database.windows.net:1433;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;loginTimeout=30;\n    username: javatechi\n    password: password.123\n  jpa:\n    show-sql: true\n    hibernate:\n      ddl-auto: update\n      dialect: org.hibernate.dialect.SQLServer2012Dialect\n\nserver:\n  port: 9191\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.javatechie&lt;/groupId&gt;\n    &lt;artifactId&gt;springboot-azuresql&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;springboot-azure-sql&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars.npm&lt;/groupId&gt;\n            &lt;artifactId&gt;table&lt;/artifactId&gt;\n            &lt;version&gt;5.4.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>this is an error</strong></p>\n<blockquote>\n<p>Description:</p>\n<p>Field repository in\ncom.javatechie.azuresql.SpringbootAzuresqlApplication required a bean\nof type 'com.javatechie.azuresql.EmployeeRepository' that could not be\nfound.</p>\n<p>The injection point has the following annotations:</p>\n<ul>\n<li>@org.springframework.beans.factory.annotation.Autowired(required=true)</li>\n</ul>\n<p>Action:</p>\n<p>Consider defining a bean of type\n'com.javatechie.azuresql.EmployeeRepository' in your configuration.</p>\n</blockquote>\n"},{"tags":["java","rest","unit-testing","cucumber"],"comments":[{"owner":{"account_id":5600723,"reputation":649,"user_id":4437074,"display_name":"Ashutosh Srivastav"},"score":0,"creation_date":1657643604,"post_id":72955370,"comment_id":128857411,"body_markdown":"If it&#39;s Spring, you dont have to do anything. Spring itself tries to convert the type as per what you&#39;ve defined. If it fails, an exception will be thrown.","body":"If it&#39;s Spring, you dont have to do anything. Spring itself tries to convert the type as per what you&#39;ve defined. If it fails, an exception will be thrown."},{"owner":{"account_id":24136874,"reputation":91,"user_id":18103650,"display_name":"Laplas"},"score":0,"creation_date":1657646452,"post_id":72955370,"comment_id":128858405,"body_markdown":"No, I&#39;m just an example. The bottom line is that there is a situation where I need to do a check to make sure that all the fields received have the right type.","body":"No, I&#39;m just an example. The bottom line is that there is a situation where I need to do a check to make sure that all the fields received have the right type."}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657644413,"creation_date":1657644413,"answer_id":72955760,"question_id":72955370,"body_markdown":"You can use [Rest Assured][1]\r\n\r\nSay you have this endpoint: https://mocki.io/v1/0f2701f8-46ab-48b5-9584-7e58da29498d\r\n\r\nthat returns:\r\n\r\n```\r\n{\r\n  &quot;pay&quot;: 1000\r\n}\r\n```\r\n\r\nThen your code could be:\r\n\r\n```java\r\npublic static void main(String[] args) throws URISyntaxException {\r\n    System.out.println(RestAssured\r\n            .get(new URI(&quot;https://mocki.io/v1/0f2701f8-46ab-48b5-9584-7e58da29498d&quot;))\r\n            .jsonPath()\r\n            .get(&quot;pay&quot;) instanceof Integer);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/io.rest-assured/rest-assured/5.1.1","title":"REST. Checking the type of incoming field","body":"<p>You can use <a href=\"https://mvnrepository.com/artifact/io.rest-assured/rest-assured/5.1.1\" rel=\"nofollow noreferrer\">Rest Assured</a></p>\n<p>Say you have this endpoint: <a href=\"https://mocki.io/v1/0f2701f8-46ab-48b5-9584-7e58da29498d\" rel=\"nofollow noreferrer\">https://mocki.io/v1/0f2701f8-46ab-48b5-9584-7e58da29498d</a></p>\n<p>that returns:</p>\n<pre><code>{\n  &quot;pay&quot;: 1000\n}\n</code></pre>\n<p>Then your code could be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws URISyntaxException {\n    System.out.println(RestAssured\n            .get(new URI(&quot;https://mocki.io/v1/0f2701f8-46ab-48b5-9584-7e58da29498d&quot;))\n            .jsonPath()\n            .get(&quot;pay&quot;) instanceof Integer);\n}\n</code></pre>\n"}],"owner":{"account_id":24136874,"reputation":91,"user_id":18103650,"display_name":"Laplas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72955760,"answer_count":1,"score":0,"last_activity_date":1657644413,"creation_date":1657642488,"question_id":72955370,"body_markdown":"how can I check the field type of the incoming response to the REST request.\r\n\r\nFor example, I receive an answer with the \r\n&quot;pay&quot; field:&quot;1000&quot; \r\nI want to check that the incoming field, its value is of type int\r\nWhat verification methods are there?","title":"REST. Checking the type of incoming field","body":"<p>how can I check the field type of the incoming response to the REST request.</p>\n<p>For example, I receive an answer with the\n&quot;pay&quot; field:&quot;1000&quot;\nI want to check that the incoming field, its value is of type int\nWhat verification methods are there?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657616757,"post_id":72949636,"comment_id":128847272,"body_markdown":"Because it isn&#39;t the same object. They are equal but not the same object.","body":"Because it isn&#39;t the same object. They are equal but not the same object."},{"owner":{"account_id":18013206,"reputation":31,"user_id":13092300,"display_name":"Forever"},"score":0,"creation_date":1657617512,"post_id":72949636,"comment_id":128847559,"body_markdown":"They are not the same object? Like my code, I think they are point to the `Test.name`. they should be the same object.","body":"They are not the same object? Like my code, I think they are point to the <code>Test.name</code>. they should be the same object."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657619278,"post_id":72949636,"comment_id":128848133,"body_markdown":"I suggest you take a look with the decompiler. `name` is a constant, where `name()` is the attribute of an annotation. It will use a copy of the constant not a reference (if it would use a reference they would have the same hashCode wouldn&#39;t they).","body":"I suggest you take a look with the decompiler. <code>name</code> is a constant, where <code>name()</code> is the attribute of an annotation. It will use a copy of the constant not a reference (if it would use a reference they would have the same hashCode wouldn&#39;t they)."},{"owner":{"account_id":18013206,"reputation":31,"user_id":13092300,"display_name":"Forever"},"score":0,"creation_date":1657629336,"post_id":72949636,"comment_id":128851763,"body_markdown":"Thranks, I have take a look with JetBrain&#39;s decoplier , and I also have used JetBrain&#39;s &#39;Show Bytecode&#39; .  But I do not find `copy` was used.","body":"Thranks, I have take a look with JetBrain&#39;s decoplier , and I also have used JetBrain&#39;s &#39;Show Bytecode&#39; .  But I do not find <code>copy</code> was used."},{"owner":{"account_id":18013206,"reputation":31,"user_id":13092300,"display_name":"Forever"},"score":0,"creation_date":1657629872,"post_id":72949636,"comment_id":128851984,"body_markdown":"And I do want to know why the annotation&#39;s default value do not use Java’s String Constant Pool.","body":"And I do want to know why the annotation&#39;s default value do not use Java’s String Constant Pool."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657631721,"post_id":72949636,"comment_id":128852749,"body_markdown":"Where I was mentioning decompiler I was referring to `javap` which can show the generated bytecode, which makes this clear. This is probably somewhere in the language spec (or a miss) that is should clone/copy the value. In case of a mutable value if it was shared this would lead to issues.","body":"Where I was mentioning decompiler I was referring to <code>javap</code> which can show the generated bytecode, which makes this clear. This is probably somewhere in the language spec (or a miss) that is should clone/copy the value. In case of a mutable value if it was shared this would lead to issues."}],"answers":[{"tags":[],"owner":{"display_name":"user19443549"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657644383,"creation_date":1657644383,"answer_id":72955755,"question_id":72949636,"body_markdown":"That is because System.identityHashCode() method doesn&#39;t returns the actual hashcode, it just returns the hashcode based on object class&#39;s implementation not actual object specific.\r\nTry below and you will see the same hashcode value-\r\n\r\n    System.out.println(Test.name.hashCode());\r\n    System.out.println(ReflectUtil.getField(Question.class, &quot;demo&quot;).getAnnotation(Test.class).name().hashCode());\r\n\r\nAlso for more understanding try overriding hashcode method in your Question class like below-\r\n\r\n        public int hashCode(){\r\n        return 1;\r\n        }\r\n\r\nThen when you will call hashcode() method on any Question class object it will always give you 1 but System.identityHashCode() method still will give you some random values.","title":"Java Annotation&#39;s default Objects are different","body":"<p>That is because System.identityHashCode() method doesn't returns the actual hashcode, it just returns the hashcode based on object class's implementation not actual object specific.\nTry below and you will see the same hashcode value-</p>\n<pre><code>System.out.println(Test.name.hashCode());\nSystem.out.println(ReflectUtil.getField(Question.class, &quot;demo&quot;).getAnnotation(Test.class).name().hashCode());\n</code></pre>\n<p>Also for more understanding try overriding hashcode method in your Question class like below-</p>\n<pre><code>    public int hashCode(){\n    return 1;\n    }\n</code></pre>\n<p>Then when you will call hashcode() method on any Question class object it will always give you 1 but System.identityHashCode() method still will give you some random values.</p>\n"}],"owner":{"account_id":18013206,"reputation":31,"user_id":13092300,"display_name":"Forever"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657686304,"answer_count":1,"score":0,"last_activity_date":1657644383,"creation_date":1657616473,"question_id":72949636,"body_markdown":"I could not understand Java&#39;s annotation&#39;s default value.\r\n\r\nThis is my code:\r\n\r\n    import cn.hutool.core.util.ReflectUtil;\r\n    \r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    public class Question {\r\n    \r\n        @Retention(RetentionPolicy.RUNTIME)\r\n        @Target(ElementType.FIELD)\r\n        @interface Test {\r\n    \r\n            String name = &quot;123&quot;;\r\n    \r\n            String name() default name;\r\n    \r\n        }\r\n    \r\n        @Test\r\n        private final String demo = null;\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(System.identityHashCode(Test.name));\r\n            System.out.println(System.identityHashCode(\r\n                    ReflectUtil.getField(Question.class, &quot;demo&quot;).getAnnotation(Test.class).name())\r\n            );\r\n        }\r\n    }\r\n\r\nThe result is:\r\n\r\n    1147985808\r\n    1789447862\r\n\r\nWhy is the same object&#39;s system hashCode different?","title":"Java Annotation&#39;s default Objects are different","body":"<p>I could not understand Java's annotation's default value.</p>\n<p>This is my code:</p>\n<pre><code>import cn.hutool.core.util.ReflectUtil;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\npublic class Question {\n\n    @Retention(RetentionPolicy.RUNTIME)\n    @Target(ElementType.FIELD)\n    @interface Test {\n\n        String name = &quot;123&quot;;\n\n        String name() default name;\n\n    }\n\n    @Test\n    private final String demo = null;\n\n    public static void main(String[] args) {\n        System.out.println(System.identityHashCode(Test.name));\n        System.out.println(System.identityHashCode(\n                ReflectUtil.getField(Question.class, &quot;demo&quot;).getAnnotation(Test.class).name())\n        );\n    }\n}\n</code></pre>\n<p>The result is:</p>\n<pre><code>1147985808\n1789447862\n</code></pre>\n<p>Why is the same object's system hashCode different?</p>\n"},{"tags":["java","mysql","reactjs","spring-boot","jpa"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1657642756,"post_id":72955363,"comment_id":128857115,"body_markdown":"Doesn&#39;t the employee table contain individual employees? If so, what should that average salary be? Would it be the same value for _all_ employees in which case putting it into that table would be bad design? Or would it be per employe in which case I&#39;d ask about the difference to `salary`?","body":"Doesn&#39;t the employee table contain individual employees? If so, what should that average salary be? Would it be the same value for <i>all</i> employees in which case putting it into that table would be bad design? Or would it be per employe in which case I&#39;d ask about the difference to <code>salary</code>?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1657642843,"post_id":72955363,"comment_id":128857148,"body_markdown":"Questions on your skills so far: do you know how to query a JPA repository to read employees? Do you know how to update employees? Do you know how to calculate average values in Java?","body":"Questions on your skills so far: do you know how to query a JPA repository to read employees? Do you know how to update employees? Do you know how to calculate average values in Java?"}],"owner":{"account_id":23864588,"reputation":1,"user_id":17867115,"display_name":"Paul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657644266,"creation_date":1657642434,"question_id":72955363,"body_markdown":"I have my employee model that has JPA columns defined for the MYSQL db. I have defined my columns for the db, and the constructor. here is how the Employee model looks like: \r\n\r\n    package employeeapps.com.example.EmployeeTracker.model;\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.Set;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;employees&quot;)\r\n    public class Employee {\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long id;\r\n    \r\n    \r\n        @Column(name = &quot;company_id&quot;)\r\n        private Integer companyId;\r\n    \r\n        @Column(name = &quot;first_name&quot;)\r\n        private String firstName;\r\n    \r\n        @Column(name = &quot;last_name&quot;)\r\n        private String lastName;\r\n    \r\n        @Column(name= &quot;address&quot;)\r\n        private String address;\r\n    \r\n        @Column(name= &quot;salary&quot;)\r\n        private Integer salary;\r\n    \r\n        @Column(name = &quot;email_id&quot;)\r\n        private String emailId;\r\n    \r\n    \r\n        //Company is one and has many employees\r\n    //name represents id of company in company entity and referencedColumnName represents company_id in the employee entity.\r\n    //    @ManyToOne(targetEntity = Company.class)\r\n    //    @JoinColumn(name=&quot;id&quot;, referencedColumnName=&quot;company_id&quot;)\r\n    //    private Set&lt;Company&gt; company;\r\n    \r\n    \r\n        //default constructor\r\n        public Employee(){\r\n    \r\n        }\r\n    \r\n        //create a public constructor with the appropriate parameters to be able to create a new instance of an employee\r\n        public Employee(String firstName, String lastName, String emailId, String address, Integer salary, Integer companyId){\r\n            super();\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.emailId = emailId;\r\n            this.salary = salary;\r\n            this.address = address;\r\n            this.companyId = companyId;\r\n        }\r\n    \r\n        //define methods\r\n        //long data type because could be a very long numerical  data\r\n        public long getId() {\r\n            return id;\r\n        }\r\n        public void setId(long companyId){\r\n            this.id = id;\r\n        }\r\n        public String getFirstName(){\r\n            return firstName;\r\n        }\r\n        public void setFirstName(String firstName){\r\n            this.firstName = firstName;\r\n        }\r\n        public String getLastName(){\r\n            return lastName;\r\n        }\r\n        public void setLastName(String lastName){\r\n            this.lastName = lastName;\r\n        }\r\n        public String getEmailId(){\r\n            return emailId;\r\n        }\r\n        public void setEmailId(String emailId){\r\n            this.emailId = emailId;\r\n        }\r\n        public void setCompanyId(Integer companyId){\r\n            this.companyId= companyId;\r\n        }\r\n        public Integer getCompanyId(){\r\n            return companyId;\r\n        }\r\n        public void setAddress(String address){\r\n            this.address = address;\r\n        }\r\n        public String getAddress(){return address;}\r\n    \r\n        public void setSalary(Integer salary){\r\n            this.salary = salary;\r\n        }\r\n        public Integer getSalary(){return salary;}\r\n    }\r\nemployee JPA Repository\r\n\r\n    package employeeapps.com.example.EmployeeTracker.repository;\r\n    \r\n    import employeeapps.com.example.EmployeeTracker.model.Company;\r\n    import employeeapps.com.example.EmployeeTracker.model.Employee;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    \r\n    //JPA has methods like ById findbyId FindAll         long is the primary key\r\n    @Repository\r\n    public interface employeeRepository extends JpaRepository&lt;Employee,  Long&gt;{\r\n    }\r\n\r\nI am trying to figure out how to create a method or function where I can display, in a new column, the average **salary** for the employee table using javascript\r\n\r\nHere is how my employeeList looks which fetched the mysql data using axios and setEmployee as the data from my backend. \r\n\r\n    import React, { useEffect, useState } from &quot;react&quot;;\r\n    import EmployeeService from &quot;../service/EmployeeService&quot;;\r\n    import { Link } from &quot;react-router-dom&quot;;\r\n    \r\n    const EmployeeList = () =&gt; {\r\n      const [employees, setEmployees] = useState([]);\r\n    \r\n    \r\n    useEffect(() =&gt; {\r\n    EmployeeService.getEmmployees().then((res) =&gt; {\r\n        setEmployees(res.data)\r\n    })\r\n    }, [employees])\r\n    \r\n    \r\n    \r\n    const editEmployee = (id) =&gt; {\r\n        window.location.assign(`/update-employees/${id}`)\r\n    }\r\n    \r\n    const deleteEmployee = (id) =&gt; {\r\n        //rest API Call\r\n        EmployeeService.deleteEmployee(id).then((res) =&gt; {\r\n            //filter out of the employees array\r\n            employees.filter(employee =&gt; employee.id !== employee)\r\n        })\r\n    }\r\n      return (\r\n       \r\n        &lt;div className=&quot;row&quot;&gt;\r\n        \r\n          &lt;h2 className=&quot;text-center employee-title&quot;&gt; Employees&lt;/h2&gt;\r\n          &lt;div className=&quot;add-employee-link&quot;&gt;\r\n          &lt;Link to=&quot;/add-employees&quot;&gt;\r\n           &lt;button&gt; Add Employee&lt;/button&gt;\r\n          &lt;/Link&gt;\r\n          &lt;/div&gt;\r\n          &lt;div className=&quot;row d-flex justify-content-center &quot;&gt;\r\n            &lt;table className=&quot;table table-striped table-bordered&quot;&gt;\r\n              &lt;thead&gt;\r\n                &lt;tr&gt;\r\n                &lt;th&gt;Company ID&lt;/th&gt;\r\n                  &lt;th&gt;First Name&lt;/th&gt;\r\n                  &lt;th&gt;Last Name&lt;/th&gt;\r\n                  &lt;th&gt;Employee Email&lt;/th&gt;\r\n                  &lt;th&gt;Employee Address&lt;/th&gt;\r\n                  &lt;th&gt;Salary&lt;/th&gt;\r\n                  &lt;th&gt;Actions&lt;/th&gt;\r\n                &lt;/tr&gt;\r\n              &lt;/thead&gt;\r\n    \r\n              &lt;tbody&gt;\r\n                {employees.map((employee) =&gt; (\r\n                  &lt;tr key={employee.id}&gt;\r\n                    &lt;td&gt;{employee.companyId}&lt;/td&gt;\r\n                    &lt;td&gt;{employee.firstName}&lt;/td&gt;\r\n                    &lt;td&gt;{employee.lastName}&lt;/td&gt;\r\n                    &lt;td&gt;{employee.emailId}&lt;/td&gt;\r\n                    &lt;td&gt;{employee.address}&lt;/td&gt;\r\n                    &lt;td&gt;{employee.salary}&lt;/td&gt;\r\n                   \r\n                    &lt;td&gt;\r\n                        &lt;button onClick={() =&gt; editEmployee(employee.id)} className=&quot;update-btn&quot;&gt;Update&lt;/button&gt;\r\n                        &lt;button onClick={() =&gt; deleteEmployee(employee.id)} className=&quot;delete-btn&quot; style={{marginLeft: &#39;2%&#39;}}&gt;Delete&lt;/button&gt;\r\n                    &lt;/td&gt;\r\n                  &lt;/tr&gt;\r\n                ))}\r\n              &lt;/tbody&gt;\r\n            &lt;/table&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      );\r\n    };\r\n    \r\n    export default EmployeeList;\r\n\r\n\r\n\r\n","title":"Java Method to get Average Salary or Javascript","body":"<p>I have my employee model that has JPA columns defined for the MYSQL db. I have defined my columns for the db, and the constructor. here is how the Employee model looks like:</p>\n<pre><code>package employeeapps.com.example.EmployeeTracker.model;\n\nimport javax.persistence.*;\nimport java.util.Set;\n\n@Entity\n@Table(name = &quot;employees&quot;)\npublic class Employee {\n\n\n\n\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n\n    @Column(name = &quot;company_id&quot;)\n    private Integer companyId;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name= &quot;address&quot;)\n    private String address;\n\n    @Column(name= &quot;salary&quot;)\n    private Integer salary;\n\n    @Column(name = &quot;email_id&quot;)\n    private String emailId;\n\n\n    //Company is one and has many employees\n//name represents id of company in company entity and referencedColumnName represents company_id in the employee entity.\n//    @ManyToOne(targetEntity = Company.class)\n//    @JoinColumn(name=&quot;id&quot;, referencedColumnName=&quot;company_id&quot;)\n//    private Set&lt;Company&gt; company;\n\n\n    //default constructor\n    public Employee(){\n\n    }\n\n    //create a public constructor with the appropriate parameters to be able to create a new instance of an employee\n    public Employee(String firstName, String lastName, String emailId, String address, Integer salary, Integer companyId){\n        super();\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.emailId = emailId;\n        this.salary = salary;\n        this.address = address;\n        this.companyId = companyId;\n    }\n\n    //define methods\n    //long data type because could be a very long numerical  data\n    public long getId() {\n        return id;\n    }\n    public void setId(long companyId){\n        this.id = id;\n    }\n    public String getFirstName(){\n        return firstName;\n    }\n    public void setFirstName(String firstName){\n        this.firstName = firstName;\n    }\n    public String getLastName(){\n        return lastName;\n    }\n    public void setLastName(String lastName){\n        this.lastName = lastName;\n    }\n    public String getEmailId(){\n        return emailId;\n    }\n    public void setEmailId(String emailId){\n        this.emailId = emailId;\n    }\n    public void setCompanyId(Integer companyId){\n        this.companyId= companyId;\n    }\n    public Integer getCompanyId(){\n        return companyId;\n    }\n    public void setAddress(String address){\n        this.address = address;\n    }\n    public String getAddress(){return address;}\n\n    public void setSalary(Integer salary){\n        this.salary = salary;\n    }\n    public Integer getSalary(){return salary;}\n}\n</code></pre>\n<p>employee JPA Repository</p>\n<pre><code>package employeeapps.com.example.EmployeeTracker.repository;\n\nimport employeeapps.com.example.EmployeeTracker.model.Company;\nimport employeeapps.com.example.EmployeeTracker.model.Employee;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n\n//JPA has methods like ById findbyId FindAll         long is the primary key\n@Repository\npublic interface employeeRepository extends JpaRepository&lt;Employee,  Long&gt;{\n}\n</code></pre>\n<p>I am trying to figure out how to create a method or function where I can display, in a new column, the average <strong>salary</strong> for the employee table using javascript</p>\n<p>Here is how my employeeList looks which fetched the mysql data using axios and setEmployee as the data from my backend.</p>\n<pre><code>import React, { useEffect, useState } from &quot;react&quot;;\nimport EmployeeService from &quot;../service/EmployeeService&quot;;\nimport { Link } from &quot;react-router-dom&quot;;\n\nconst EmployeeList = () =&gt; {\n  const [employees, setEmployees] = useState([]);\n\n\nuseEffect(() =&gt; {\nEmployeeService.getEmmployees().then((res) =&gt; {\n    setEmployees(res.data)\n})\n}, [employees])\n\n\n\nconst editEmployee = (id) =&gt; {\n    window.location.assign(`/update-employees/${id}`)\n}\n\nconst deleteEmployee = (id) =&gt; {\n    //rest API Call\n    EmployeeService.deleteEmployee(id).then((res) =&gt; {\n        //filter out of the employees array\n        employees.filter(employee =&gt; employee.id !== employee)\n    })\n}\n  return (\n   \n    &lt;div className=&quot;row&quot;&gt;\n    \n      &lt;h2 className=&quot;text-center employee-title&quot;&gt; Employees&lt;/h2&gt;\n      &lt;div className=&quot;add-employee-link&quot;&gt;\n      &lt;Link to=&quot;/add-employees&quot;&gt;\n       &lt;button&gt; Add Employee&lt;/button&gt;\n      &lt;/Link&gt;\n      &lt;/div&gt;\n      &lt;div className=&quot;row d-flex justify-content-center &quot;&gt;\n        &lt;table className=&quot;table table-striped table-bordered&quot;&gt;\n          &lt;thead&gt;\n            &lt;tr&gt;\n            &lt;th&gt;Company ID&lt;/th&gt;\n              &lt;th&gt;First Name&lt;/th&gt;\n              &lt;th&gt;Last Name&lt;/th&gt;\n              &lt;th&gt;Employee Email&lt;/th&gt;\n              &lt;th&gt;Employee Address&lt;/th&gt;\n              &lt;th&gt;Salary&lt;/th&gt;\n              &lt;th&gt;Actions&lt;/th&gt;\n            &lt;/tr&gt;\n          &lt;/thead&gt;\n\n          &lt;tbody&gt;\n            {employees.map((employee) =&gt; (\n              &lt;tr key={employee.id}&gt;\n                &lt;td&gt;{employee.companyId}&lt;/td&gt;\n                &lt;td&gt;{employee.firstName}&lt;/td&gt;\n                &lt;td&gt;{employee.lastName}&lt;/td&gt;\n                &lt;td&gt;{employee.emailId}&lt;/td&gt;\n                &lt;td&gt;{employee.address}&lt;/td&gt;\n                &lt;td&gt;{employee.salary}&lt;/td&gt;\n               \n                &lt;td&gt;\n                    &lt;button onClick={() =&gt; editEmployee(employee.id)} className=&quot;update-btn&quot;&gt;Update&lt;/button&gt;\n                    &lt;button onClick={() =&gt; deleteEmployee(employee.id)} className=&quot;delete-btn&quot; style={{marginLeft: '2%'}}&gt;Delete&lt;/button&gt;\n                &lt;/td&gt;\n              &lt;/tr&gt;\n            ))}\n          &lt;/tbody&gt;\n        &lt;/table&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  );\n};\n\nexport default EmployeeList;\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1657645297,"post_id":72955677,"comment_id":128857992,"body_markdown":"Your `getUtab2ViewController()` method loads an FXML file, which creates a copy of the UI defined in that file, and then gets the controller for that UI. But then you never display that UI, so when you call `updatePage(…)` it will update a text field that isn’t displayed. I’m guessing (and without a [mre] I have to guess) that elsewhere in your code you are loading and displaying that FXML. You need to get the controller that’s created when you load the FXML *and display it*. See https://stackoverflow.com/q/14187963/2189127","body":"Your <code>getUtab2ViewController()</code> method loads an FXML file, which creates a copy of the UI defined in that file, and then gets the controller for that UI. But then you never display that UI, so when you call <code>updatePage(…)</code> it will update a text field that isn’t displayed. I’m guessing (and without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> I have to guess) that elsewhere in your code you are loading and displaying that FXML. You need to get the controller that’s created when you load the FXML <i>and display it</i>. See <a href=\"https://stackoverflow.com/q/14187963/2189127\">stackoverflow.com/q/14187963/2189127</a>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1657645402,"post_id":72955677,"comment_id":128858036,"body_markdown":"A better solution might be to use an MVC approach. See https://stackoverflow.com/q/32342864/2189127","body":"A better solution might be to use an MVC approach. See <a href=\"https://stackoverflow.com/q/32342864/2189127\">stackoverflow.com/q/32342864/2189127</a>"}],"owner":{"account_id":1798338,"reputation":1,"user_id":18419164,"display_name":"super2442804"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657645315,"answer_count":0,"score":0,"last_activity_date":1657644089,"creation_date":1657643997,"question_id":72955677,"body_markdown":"I&#39;m trying to get access fields of one controller from another controller, but I&#39;m not having much luck. Basically,  I have a Tabpane with two tabs, each of which has its own controller.  I have a button on the first tab and a text field on the other. On clicking the button, it should add text to the text field.\r\n\r\nI&#39;ve read some of the ways to fix the problem on here, but none of them worked. Any advice would be greatly appreciated.\r\n\r\nhttps://stackoverflow.com/questions/10751271/accessing-fxml-controller-class\r\n\r\nhttps://stackoverflow.com/questions/9717852/how-to-pass-object-created-in-fxml-controller1-to-controller2-of-inner-fxml-cont/10718683#10718683\r\n\r\nAnd some google pages\r\n\r\n**Tab controllers**\r\n\r\nUtab1ViewController\r\n\r\n    package com.example.myproject;\r\n    \r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.Parent;\r\n    \r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n    \r\n    public class Utab1ViewController implements Initializable {\r\n    \r\n        private Utab2ViewController utab2ViewCtrl;\r\n        private Utab2ViewController getUtab2ViewCtrl() throws Exception {\r\n            if(utab2ViewCtrl == null) {\r\n                FXMLLoader loader = new FXMLLoader();\r\n                Parent root = loader.load(getClass().getResource(&quot;utab2-view.fxml&quot;).openStream());\r\n                utab2ViewCtrl = (Utab2ViewController) loader.getController();\r\n            }\r\n    \r\n            return utab2ViewCtrl;\r\n        }\r\n    \r\n        @FXML\r\n        private void onClickEvent() {\r\n            try {\r\n                getUtab2ViewCtrl().updatePage(&quot;test1&quot;);\r\n                System.out.println(&quot;test&quot;);\r\n            }catch(Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n        @Override\r\n        public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        }\r\n    }\r\n\r\nUtab2ViewController\r\n\r\n    package com.example.myproject;\r\n    \r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.control.TextField;\r\n    \r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n    \r\n    public class Utab2ViewController implements Initializable {\r\n    \r\n        @FXML private TextField txtMessage;\r\n    \r\n        public void updatePage(String str) {\r\n            txtMessage.setText(str);\r\n        }\r\n    \r\n        @Override\r\n        public void initialize(URL url, ResourceBundle resourceBundle) {\r\n    \r\n        }\r\n    }\r\n\r\n**FXML files**\r\n\r\nutab1-view.fxml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n\r\n    &lt;AnchorPane prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot; fx:controller=&quot;com.example.nhsbsajavafx.Utab1ViewController&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;Button fx:id=&quot;cmdHello&quot; layoutX=&quot;248.0&quot; layoutY=&quot;188.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;Hello!&quot; onMouseClicked=&quot;#onClickEvent&quot;/&gt;\r\n       &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\nutab2-view.fxml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.TextField?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    \r\n    &lt;AnchorPane prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot;  xmlns=&quot;http://javafx.com/javafx&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot; fx:controller=&quot;com.example.nhsbsajavafx.Utab2ViewController&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;TextField fx:id=&quot;txtMessage&quot; layoutX=&quot;226.0&quot; layoutY=&quot;125.0&quot; /&gt;\r\n       &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\n","title":"Getting data from one controller to another","body":"<p>I'm trying to get access fields of one controller from another controller, but I'm not having much luck. Basically,  I have a Tabpane with two tabs, each of which has its own controller.  I have a button on the first tab and a text field on the other. On clicking the button, it should add text to the text field.</p>\n<p>I've read some of the ways to fix the problem on here, but none of them worked. Any advice would be greatly appreciated.</p>\n<p><a href=\"https://stackoverflow.com/questions/10751271/accessing-fxml-controller-class\">Accessing FXML controller class</a></p>\n<p><a href=\"https://stackoverflow.com/questions/9717852/how-to-pass-object-created-in-fxml-controller1-to-controller2-of-inner-fxml-cont/10718683#10718683\">How to pass object created in FXML Controller1 to Controller2 of inner FXML control</a></p>\n<p>And some google pages</p>\n<p><strong>Tab controllers</strong></p>\n<p>Utab1ViewController</p>\n<pre><code>package com.example.myproject;\n\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.scene.Parent;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\npublic class Utab1ViewController implements Initializable {\n\n    private Utab2ViewController utab2ViewCtrl;\n    private Utab2ViewController getUtab2ViewCtrl() throws Exception {\n        if(utab2ViewCtrl == null) {\n            FXMLLoader loader = new FXMLLoader();\n            Parent root = loader.load(getClass().getResource(&quot;utab2-view.fxml&quot;).openStream());\n            utab2ViewCtrl = (Utab2ViewController) loader.getController();\n        }\n\n        return utab2ViewCtrl;\n    }\n\n    @FXML\n    private void onClickEvent() {\n        try {\n            getUtab2ViewCtrl().updatePage(&quot;test1&quot;);\n            System.out.println(&quot;test&quot;);\n        }catch(Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n    }\n}\n</code></pre>\n<p>Utab2ViewController</p>\n<pre><code>package com.example.myproject;\n\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.TextField;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\npublic class Utab2ViewController implements Initializable {\n\n    @FXML private TextField txtMessage;\n\n    public void updatePage(String str) {\n        txtMessage.setText(str);\n    }\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n\n    }\n}\n</code></pre>\n<p><strong>FXML files</strong></p>\n<p>utab1-view.fxml</p>\n\n\n\n<pre><code>&lt;AnchorPane prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot; fx:controller=&quot;com.example.nhsbsajavafx.Utab1ViewController&quot;&gt;\n   &lt;children&gt;\n      &lt;Button fx:id=&quot;cmdHello&quot; layoutX=&quot;248.0&quot; layoutY=&quot;188.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;Hello!&quot; onMouseClicked=&quot;#onClickEvent&quot;/&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>utab2-view.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot;  xmlns=&quot;http://javafx.com/javafx&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot; fx:controller=&quot;com.example.nhsbsajavafx.Utab2ViewController&quot;&gt;\n   &lt;children&gt;\n      &lt;TextField fx:id=&quot;txtMessage&quot; layoutX=&quot;226.0&quot; layoutY=&quot;125.0&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","option-type"],"answers":[{"tags":[],"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657619966,"creation_date":1657619106,"answer_id":72950257,"question_id":72949928,"body_markdown":"**repository:**\r\nNo change\r\n\r\n    Optional&lt;Product&gt; findByCode(String code);\r\n\r\n**service:**\r\n`.orElseGet(Optional::empty);` &lt;= Useless\r\n\r\n    public Optional&lt;Product&gt; findByCode(String code) {\r\n        return productRepository.findByCode(code);\r\n    }\r\n\r\n**controller:**\r\n\r\n    @GetMapping(&quot;/products/{code}&quot;)\r\n    public ResponseEntity&lt;Product&gt; findByCode(@PathVariable String code) {\r\n        return productService.findByCode(code).map(ResponseEntity::ok).orElseGet(() -&gt; ResponseEntity.noContent().build());\r\n    }\r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Using Optional&lt;T&gt; in Spring Boot Service &amp; Controller?","body":"<p><strong>repository:</strong>\nNo change</p>\n<pre><code>Optional&lt;Product&gt; findByCode(String code);\n</code></pre>\n<p><strong>service:</strong>\n<code>.orElseGet(Optional::empty);</code> &lt;= Useless</p>\n<pre><code>public Optional&lt;Product&gt; findByCode(String code) {\n    return productRepository.findByCode(code);\n}\n</code></pre>\n<p><strong>controller:</strong></p>\n<pre><code>@GetMapping(&quot;/products/{code}&quot;)\npublic ResponseEntity&lt;Product&gt; findByCode(@PathVariable String code) {\n    return productService.findByCode(code).map(ResponseEntity::ok).orElseGet(() -&gt; ResponseEntity.noContent().build());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25788871,"reputation":44,"user_id":19533238,"display_name":"Ravi Kiran"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1657644018,"creation_date":1657619380,"answer_id":72950325,"question_id":72949928,"body_markdown":"Generally `Optional&lt;T&gt;` was introduced to avoid working with null values. If we really want to assign a non-existing value to a variable we should use `Optional&lt;T&gt;` so that we can prevent null pointer exceptions. And it is not mandatory to add it to a controller. You can do something like this if we don&#39;t want to give `Optional&lt;T&gt;` to the controller:\r\n\r\n    @GetMapping(&quot;/products/{code}&quot;)\r\n    public ResponseEntity&lt;Product&gt; findByCode(@PathVariable String code){\r\n        Optional&lt;Product&gt; products=productService.findProductById(String);\r\n        if(products.isPresent()){\r\n            Product product=products.get();\r\n            return new ResponseEntity&lt;&gt;(product,HttpStatus.OK);\r\n        }\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n    }\r\n\r\nAnd you can make your service method like this:\r\n```\r\npublic Optional&lt;Product&gt; findProductByCode(String code) {\r\n    return productRepository.findProductByCode(code);\r\n}\r\n```","title":"Using Optional&lt;T&gt; in Spring Boot Service &amp; Controller?","body":"<p>Generally <code>Optional&lt;T&gt;</code> was introduced to avoid working with null values. If we really want to assign a non-existing value to a variable we should use <code>Optional&lt;T&gt;</code> so that we can prevent null pointer exceptions. And it is not mandatory to add it to a controller. You can do something like this if we don't want to give <code>Optional&lt;T&gt;</code> to the controller:</p>\n<pre><code>@GetMapping(&quot;/products/{code}&quot;)\npublic ResponseEntity&lt;Product&gt; findByCode(@PathVariable String code){\n    Optional&lt;Product&gt; products=productService.findProductById(String);\n    if(products.isPresent()){\n        Product product=products.get();\n        return new ResponseEntity&lt;&gt;(product,HttpStatus.OK);\n    }\n    return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n}\n</code></pre>\n<p>And you can make your service method like this:</p>\n<pre><code>public Optional&lt;Product&gt; findProductByCode(String code) {\n    return productRepository.findProductByCode(code);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657619783,"creation_date":1657619783,"answer_id":72950413,"question_id":72949928,"body_markdown":"You don&#39;t return an optional from endpoints, you return the entity or dto. You could use the optional like that:\r\n```\r\n@GetMapping(&quot;/products/{code}&quot;)\r\npublic ResponseEntity&lt;Product&gt; findByCode(@PathVariable String code) {\r\n  Optional&lt;Product&gt; product = productService.findByCode(code);\r\n  return product.map(ResponseEntity::ok).orElseGet(() -&gt; ResponseEntity.noContent().build());\r\n}\r\n```\r\nFew notes about your code:\r\n\r\n 1. Your service does not make much sense - `.orElseGet(Optional::empty)` is pointless, if the optional is empty, return empty optional. You can just do:\r\n```\r\nreturn productRepository.findByCode(code);\r\n```\r\nand that&#39;s all.\r\n\r\n 2. It makes no sense to return code [no content(204)][1] when the requested resource is not found. The logical response code would be [not found(404)][2]. For your code, like this:\r\n```\r\nreturn product.map(ResponseEntity::ok).orElseGet(() -&gt; ResponseEntity.notFound().build());\r\n```\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/204\r\n  [2]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404","title":"Using Optional&lt;T&gt; in Spring Boot Service &amp; Controller?","body":"<p>You don't return an optional from endpoints, you return the entity or dto. You could use the optional like that:</p>\n<pre><code>@GetMapping(&quot;/products/{code}&quot;)\npublic ResponseEntity&lt;Product&gt; findByCode(@PathVariable String code) {\n  Optional&lt;Product&gt; product = productService.findByCode(code);\n  return product.map(ResponseEntity::ok).orElseGet(() -&gt; ResponseEntity.noContent().build());\n}\n</code></pre>\n<p>Few notes about your code:</p>\n<ol>\n<li>Your service does not make much sense - <code>.orElseGet(Optional::empty)</code> is pointless, if the optional is empty, return empty optional. You can just do:</li>\n</ol>\n<pre><code>return productRepository.findByCode(code);\n</code></pre>\n<p>and that's all.</p>\n<ol start=\"2\">\n<li>It makes no sense to return code <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/204\" rel=\"nofollow noreferrer\">no content(204)</a> when the requested resource is not found. The logical response code would be <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404\" rel=\"nofollow noreferrer\">not found(404)</a>. For your code, like this:</li>\n</ol>\n<pre><code>return product.map(ResponseEntity::ok).orElseGet(() -&gt; ResponseEntity.notFound().build());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25781655,"reputation":109,"user_id":19527184,"display_name":"gaurav jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657622129,"creation_date":1657622129,"answer_id":72950933,"question_id":72949928,"body_markdown":"You don&#39;t need to pass Optional to Controller as a return type.\r\nwhen you don&#39;t even need to declare service method as return type optional.\r\nwhen you use the orElseGet method like\r\n\r\n    productRepository.findByCode(code)\r\n                .orElseGet(Optional::empty);\r\n\r\nyou are converting your result to product data if it&#39;s  available or to empty data type of product. You can  declare your service method as:\r\n\r\n    public Product findByCode(String code) {\r\n        return productRepository.findByCode(code)\r\n                .orElseGet(Optional::empty);\r\n    }\r\n\r\n\r\nand your controller as:\r\n\r\n\r\n    @GetMapping(&quot;/products/{code}&quot;)\r\n    public ResponseEntity&lt;Product&gt; findByCode(@PathVariable String code) {\r\n    \r\n        Product product = productService.findByCode(code);\r\n        if (product.isPresent()) {\r\n            return new ResponseEntity&lt;&gt;(product, HttpStatus.OK);\r\n        }\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n    }\r\n\r\nBut if you want to return the optional type then you should remove orElseGet from service method and make it like:\r\n\r\n    public Optional&lt;Product&gt; findByCode(String code) {\r\n        return productRepository.findByCode(code)\r\n    }\r\n\r\n","title":"Using Optional&lt;T&gt; in Spring Boot Service &amp; Controller?","body":"<p>You don't need to pass Optional to Controller as a return type.\nwhen you don't even need to declare service method as return type optional.\nwhen you use the orElseGet method like</p>\n<pre><code>productRepository.findByCode(code)\n            .orElseGet(Optional::empty);\n</code></pre>\n<p>you are converting your result to product data if it's  available or to empty data type of product. You can  declare your service method as:</p>\n<pre><code>public Product findByCode(String code) {\n    return productRepository.findByCode(code)\n            .orElseGet(Optional::empty);\n}\n</code></pre>\n<p>and your controller as:</p>\n<pre><code>@GetMapping(&quot;/products/{code}&quot;)\npublic ResponseEntity&lt;Product&gt; findByCode(@PathVariable String code) {\n\n    Product product = productService.findByCode(code);\n    if (product.isPresent()) {\n        return new ResponseEntity&lt;&gt;(product, HttpStatus.OK);\n    }\n    return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n}\n</code></pre>\n<p>But if you want to return the optional type then you should remove orElseGet from service method and make it like:</p>\n<pre><code>public Optional&lt;Product&gt; findByCode(String code) {\n    return productRepository.findByCode(code)\n}\n</code></pre>\n"}],"owner":{"display_name":"user19522422"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1975,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1657644018,"creation_date":1657617579,"question_id":72949928,"body_markdown":"I use `Optional` in my Spring Boot project, but I am not sure if I also need to pass it to Controller as return type. So, could you pls clarify me about the following issues? \r\n\r\nHere is the example code to describe my question better:\r\n\r\n\r\n**repository:**\r\n\r\n```\r\nOptional&lt;Product&gt; findByCode(String code);\r\n```\r\n\r\n&lt;br/&gt; \r\n\r\n**service:**\r\n\r\n```\r\npublic Optional&lt;Product&gt; findByCode(String code) {\r\n    return productRepository.findByCode(code)\r\n            .orElseGet(Optional::empty);\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n**controller:**\r\n\r\n```\r\n@GetMapping(&quot;/products/{code}&quot;)\r\npublic ResponseEntity&lt;Optional&lt;Product&gt;&gt; findByCode(@PathVariable String code) {\r\n\r\n    Optional&lt;Product&gt; product = productService.findByCode(code);\r\n    if (product.isPresent()) {\r\n        return new ResponseEntity&lt;&gt;(product, HttpStatus.OK);\r\n    }\r\n    return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n**1.** I think we use `Optional`, when the result may be empty. For example, in the previous situation, there may be no product for the given code. Is that all, or may there be some other common examples that make us to use of  `Optional`?\r\n\r\n**2.** In the given example, I try to use something in the service method, but it is not working. But I really have no idea if I should use  `Optional` as return value to the Controller. So, could you give a proper service and Controller method example for this service method?\r\n\r\n\r\n\r\n\r\n","title":"Using Optional&lt;T&gt; in Spring Boot Service &amp; Controller?","body":"<p>I use <code>Optional</code> in my Spring Boot project, but I am not sure if I also need to pass it to Controller as return type. So, could you pls clarify me about the following issues?</p>\n<p>Here is the example code to describe my question better:</p>\n<p><strong>repository:</strong></p>\n<pre><code>Optional&lt;Product&gt; findByCode(String code);\n</code></pre>\n<br/> \n<p><strong>service:</strong></p>\n<pre><code>public Optional&lt;Product&gt; findByCode(String code) {\n    return productRepository.findByCode(code)\n            .orElseGet(Optional::empty);\n}\n</code></pre>\n<br/>\n<p><strong>controller:</strong></p>\n<pre><code>@GetMapping(&quot;/products/{code}&quot;)\npublic ResponseEntity&lt;Optional&lt;Product&gt;&gt; findByCode(@PathVariable String code) {\n\n    Optional&lt;Product&gt; product = productService.findByCode(code);\n    if (product.isPresent()) {\n        return new ResponseEntity&lt;&gt;(product, HttpStatus.OK);\n    }\n    return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n}\n</code></pre>\n<br/>\n<p><strong>1.</strong> I think we use <code>Optional</code>, when the result may be empty. For example, in the previous situation, there may be no product for the given code. Is that all, or may there be some other common examples that make us to use of  <code>Optional</code>?</p>\n<p><strong>2.</strong> In the given example, I try to use something in the service method, but it is not working. But I really have no idea if I should use  <code>Optional</code> as return value to the Controller. So, could you give a proper service and Controller method example for this service method?</p>\n"},{"tags":["java","opencsv"],"answers":[{"tags":[],"owner":{"account_id":1377583,"reputation":1,"user_id":1311276,"display_name":"RunnersReign"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657643486,"creation_date":1657643486,"answer_id":72955571,"question_id":72946459,"body_markdown":"I found that there was a hidden character within my csv file. After testing with a new file it worked as expected. ","title":"OpenCSV not seeing column that is present in CSV file","body":"<p>I found that there was a hidden character within my csv file. After testing with a new file it worked as expected.</p>\n"}],"owner":{"account_id":1377583,"reputation":1,"user_id":1311276,"display_name":"RunnersReign"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":942,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657643486,"creation_date":1657593211,"question_id":72946459,"body_markdown":"I am attempting to use OpenCSV to read a CSV into a POJO. When I attempt to parse the CSV I get the following error:\r\n\r\n    Header is missing required fields [LAST NAME]. The list of headers encountered is [Last Name,First Name,User Name,Email,Roles].\r\n\r\nI am unsure why this error is occurring since the &#39;Last Name&#39; column is present in the CSV file. \r\n\r\nThe CSV is: \r\n```\r\nLast Name,First Name,User Name,Email,Roles\r\nTest1,Test2,Test3,Test4,Test5\r\n```\r\n\r\nThe POJO class is: \r\n```java\r\n@NoArgsConstructor\r\n@Getter\r\npublic class SimpleUser {\r\n    @CsvBindByName(column = &quot;First Name&quot;, required = true)\r\n    private String firstName;\r\n\r\n    @CsvBindByName(column = &quot;Last Name&quot;, required = true)\r\n    private String lastName;\r\n\r\n    @CsvBindByName(column = &quot;Email&quot;, required = true)\r\n    private String email;\r\n\r\n    @CsvBindByName(column = &quot;User Name&quot;, required = true)\r\n    private String userName;\r\n\r\n    @CsvBindAndSplitByName(column = &quot;Roles&quot;, elementType = Double.class, collectionType = LinkedList.class)\r\n    private List&lt;String&gt; roles;\r\n}\r\n```\r\n\r\nThe OpenCSV code is:\r\n```java\r\nprivate List&lt;SimpleUser&gt; getCsvUsersFromCsv(String fileLocation) {\r\n    MappingStrategy&lt;SimpleUser&gt; strategy = new FuzzyMappingStrategyBuilder&lt;SimpleUser&gt;().build();\r\n    strategy.setType(SimpleUser.class);\r\n\r\n    try (Reader reader = new FileReader(fileLocation)) {\r\n        return new CsvToBeanBuilder(reader)\r\n                .withMappingStrategy(strategy)\r\n                .build()\r\n                .parse();\r\n    }\r\n}\r\n```\r\nAbove I used the FuzzyMappingStrategyBuilder just to see if it would change anything but did not. \r\n\r\nAny help would be appreciated. \r\n\r\nI am using OpenCSV version 5.5 with Java 8.","title":"OpenCSV not seeing column that is present in CSV file","body":"<p>I am attempting to use OpenCSV to read a CSV into a POJO. When I attempt to parse the CSV I get the following error:</p>\n<pre><code>Header is missing required fields [LAST NAME]. The list of headers encountered is [Last Name,First Name,User Name,Email,Roles].\n</code></pre>\n<p>I am unsure why this error is occurring since the 'Last Name' column is present in the CSV file.</p>\n<p>The CSV is:</p>\n<pre><code>Last Name,First Name,User Name,Email,Roles\nTest1,Test2,Test3,Test4,Test5\n</code></pre>\n<p>The POJO class is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\n@Getter\npublic class SimpleUser {\n    @CsvBindByName(column = &quot;First Name&quot;, required = true)\n    private String firstName;\n\n    @CsvBindByName(column = &quot;Last Name&quot;, required = true)\n    private String lastName;\n\n    @CsvBindByName(column = &quot;Email&quot;, required = true)\n    private String email;\n\n    @CsvBindByName(column = &quot;User Name&quot;, required = true)\n    private String userName;\n\n    @CsvBindAndSplitByName(column = &quot;Roles&quot;, elementType = Double.class, collectionType = LinkedList.class)\n    private List&lt;String&gt; roles;\n}\n</code></pre>\n<p>The OpenCSV code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;SimpleUser&gt; getCsvUsersFromCsv(String fileLocation) {\n    MappingStrategy&lt;SimpleUser&gt; strategy = new FuzzyMappingStrategyBuilder&lt;SimpleUser&gt;().build();\n    strategy.setType(SimpleUser.class);\n\n    try (Reader reader = new FileReader(fileLocation)) {\n        return new CsvToBeanBuilder(reader)\n                .withMappingStrategy(strategy)\n                .build()\n                .parse();\n    }\n}\n</code></pre>\n<p>Above I used the FuzzyMappingStrategyBuilder just to see if it would change anything but did not.</p>\n<p>Any help would be appreciated.</p>\n<p>I am using OpenCSV version 5.5 with Java 8.</p>\n"},{"tags":["java","spring-boot","performance","tomcat","centos"],"comments":[{"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"score":0,"creation_date":1657643767,"post_id":72955519,"comment_id":128857481,"body_markdown":"When the application runs locally, does it use the same amount of memory ?","body":"When the application runs locally, does it use the same amount of memory ?"},{"owner":{"account_id":13013853,"reputation":93,"user_id":9405876,"display_name":"Maz"},"score":0,"creation_date":1657643922,"post_id":72955519,"comment_id":128857526,"body_markdown":"Yes, the configuration is the same for both profiles and the production server even has more physical RAM assigned.","body":"Yes, the configuration is the same for both profiles and the production server even has more physical RAM assigned."},{"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"score":0,"creation_date":1657644163,"post_id":72955519,"comment_id":128857613,"body_markdown":"Sorry, I didn&#39;t mean configuration, but actual consumption. The JVM may be given a 12g heap, but would not necessarily use all of it, if it doesn&#39;t need it.","body":"Sorry, I didn&#39;t mean configuration, but actual consumption. The JVM may be given a 12g heap, but would not necessarily use all of it, if it doesn&#39;t need it."},{"owner":{"account_id":13013853,"reputation":93,"user_id":9405876,"display_name":"Maz"},"score":0,"creation_date":1657644443,"post_id":72955519,"comment_id":128857694,"body_markdown":"I just run the TOP command on the local server (I mean the Linux one with the WAR builds) and it gives back these results: https://imgur.com/a/JGjmutc\n\nApparently it is using a greater percentage of memory (but it has less allocated memory) but the CPU usage is the same, am I wrong?","body":"I just run the TOP command on the local server (I mean the Linux one with the WAR builds) and it gives back these results: <a href=\"https://imgur.com/a/JGjmutc\" rel=\"nofollow noreferrer\">imgur.com/a/JGjmutc</a>  Apparently it is using a greater percentage of memory (but it has less allocated memory) but the CPU usage is the same, am I wrong?"},{"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"score":0,"creation_date":1657644993,"post_id":72955519,"comment_id":128857889,"body_markdown":"On the contrary, I would say it uses less memory (I read 4,5g on this picture). Have you searched for a possible memoy leak, or something that would cause the garbage collector to activate to frequently ?","body":"On the contrary, I would say it uses less memory (I read 4,5g on this picture). Have you searched for a possible memoy leak, or something that would cause the garbage collector to activate to frequently ?"},{"owner":{"account_id":13013853,"reputation":93,"user_id":9405876,"display_name":"Maz"},"score":0,"creation_date":1657645138,"post_id":72955519,"comment_id":128857940,"body_markdown":"Not at all, would you mind sharing some resources I could use to start my research?","body":"Not at all, would you mind sharing some resources I could use to start my research?"},{"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"score":0,"creation_date":1657645599,"post_id":72955519,"comment_id":128858111,"body_markdown":"You should start with a profiler : https://www.baeldung.com/java-profilers","body":"You should start with a profiler : <a href=\"https://www.baeldung.com/java-profilers\" rel=\"nofollow noreferrer\">baeldung.com/java-profilers</a>"}],"owner":{"account_id":13013853,"reputation":93,"user_id":9405876,"display_name":"Maz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657643262,"creation_date":1657643262,"question_id":72955519,"body_markdown":"I have a **Spring Boot web application** that gets compiled into **WAR** files and executed on the production server.\r\n\r\nThe application works normally locally (*localhost*) and in our internal Linux server but when it comes to the production environment it&#39;s really really slow.\r\n\r\nBefore going further I have to specify that our entire application runs inside an Internal network (so the slowness may actually be related to the connection of the network but for security reasons I can&#39;t ping to test the actual speed of the connection so I just have to assume the problem comes from the application until I&#39;ve tried basically everything).\r\n\r\nI tried incrementing the heap size both in the pom.xml and server-side when I execute the .war files:\r\n\r\npom.xml for the backend:\r\n```\r\n            &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;profiles&gt;\r\n\t\t\t\t\t\t&lt;profile&gt;prod&lt;/profile&gt;\r\n\t\t\t\t\t\t&lt;profile&gt;sit&lt;/profile&gt;\r\n\t\t\t\t\t\t&lt;profile&gt;preprod&lt;/profile&gt;\r\n\t\t\t\t\t\t&lt;profile&gt;uat&lt;/profile&gt;\r\n\t\t\t\t\t&lt;/profiles&gt;\r\n\t\t\t\t\t&lt;jvmArguments&gt;\r\n\t\t\t\t\t\t-Xms8096m\r\n\t\t\t\t\t\t-Xmx12144m\r\n\t\t\t\t\t&lt;/jvmArguments&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n``` \r\n\r\nserver commands to execute the WAR files:\r\n```\r\njava -Xmx12192 -Xms80192 &lt;frontend&gt;.war\r\njava -Xmx12192 -Xms80192 &lt;backend&gt;.war\r\n```\r\n\r\nWhen I run TOP on the actual server I get these results:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QBHoO.jpg\r\n\r\nSo after trying to increase the heap size someone told me it may be a problem related to the queries but that wouldn&#39;t explain why those queries run much much faster on the local server (which also works with WAR files).\r\n\r\nIs there anything more I can do before assuming the problem is related to the Internal network rather than the application itself?\r\n\r\nThe production server runs on CentOS 8 and I can&#39;t install packages because in the Internal Network I have no Internet access.","title":"Spring Boot application with embedded Tomcat server way too slow","body":"<p>I have a <strong>Spring Boot web application</strong> that gets compiled into <strong>WAR</strong> files and executed on the production server.</p>\n<p>The application works normally locally (<em>localhost</em>) and in our internal Linux server but when it comes to the production environment it's really really slow.</p>\n<p>Before going further I have to specify that our entire application runs inside an Internal network (so the slowness may actually be related to the connection of the network but for security reasons I can't ping to test the actual speed of the connection so I just have to assume the problem comes from the application until I've tried basically everything).</p>\n<p>I tried incrementing the heap size both in the pom.xml and server-side when I execute the .war files:</p>\n<p>pom.xml for the backend:</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;profiles&gt;\n                        &lt;profile&gt;prod&lt;/profile&gt;\n                        &lt;profile&gt;sit&lt;/profile&gt;\n                        &lt;profile&gt;preprod&lt;/profile&gt;\n                        &lt;profile&gt;uat&lt;/profile&gt;\n                    &lt;/profiles&gt;\n                    &lt;jvmArguments&gt;\n                        -Xms8096m\n                        -Xmx12144m\n                    &lt;/jvmArguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>server commands to execute the WAR files:</p>\n<pre><code>java -Xmx12192 -Xms80192 &lt;frontend&gt;.war\njava -Xmx12192 -Xms80192 &lt;backend&gt;.war\n</code></pre>\n<p>When I run TOP on the actual server I get these results:\n<a href=\"https://i.stack.imgur.com/QBHoO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QBHoO.jpg\" alt=\"enter image description here\" /></a></p>\n<p>So after trying to increase the heap size someone told me it may be a problem related to the queries but that wouldn't explain why those queries run much much faster on the local server (which also works with WAR files).</p>\n<p>Is there anything more I can do before assuming the problem is related to the Internal network rather than the application itself?</p>\n<p>The production server runs on CentOS 8 and I can't install packages because in the Internal Network I have no Internet access.</p>\n"},{"tags":["java","spring","maven","crud","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":15832854,"reputation":707,"user_id":11423630,"display_name":"Shubham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582627988,"creation_date":1582627988,"answer_id":60392944,"question_id":60392120,"body_markdown":"I think mapstruct jar is not correct otherwise it will dynamicaaaly at runtime it will convert entity to dto and dto to entity. But if You dont want to use mapstruct you can do that conversion manually By giving implemetation of methods like this.\r\n\r\n    @Override\r\n\tpublic ProductDTO toProductDTO(Products products) {\r\n\t\tif (products == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tProductDTO productDTO = new ProductDTO();\r\n\t\tproductDTO.setName(products.getName());\r\n\t\tproductDTO.setDescription(products.getDescription());\r\n\t\tproductDTO.setPrice(products.getPrice());\r\n\t\treturn productDTO;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic List&lt;ProductDTO&gt; toProductDTOs(List&lt;Products&gt; products) {\r\n\r\n\t\tif (products == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tList&lt;ProductDTO&gt; listproductdto = new ArrayList&lt;ProductDTO&gt;();\r\n\t\tfor (Products eachproducts : products) {\r\n\t\t\tlistproductdto.add(toProductDTO(eachproducts));\r\n\t\t}\r\n\t\treturn listproductdto;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Products toProduct(ProductDTO productDTO) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tif (productDTO == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tProducts products = new Products();\r\n\t\tproducts.setName(productDTO.getName());\r\n\t\tproducts.setPrice(productDTO.getPrice());\r\n\t\tproducts.setDescription(productDTO.getDescription());\r\n\t\treturn products;\r\n\t}\r\nFor more details u can check my sample i also tried same example. from here[enter link description here][1]\r\n\r\n\r\n  [1]: https://github.com/imchakreshtiwari/mapstruct","title":"MAPSTRUCT - Field mapperDTO in CustomerServiceImpl required a bean of type &#39;com.howtodoinjava.demo.mapper.MapperDTO&#39; that could not be found","body":"<p>I think mapstruct jar is not correct otherwise it will dynamicaaaly at runtime it will convert entity to dto and dto to entity. But if You dont want to use mapstruct you can do that conversion manually By giving implemetation of methods like this.</p>\n\n<pre><code>@Override\npublic ProductDTO toProductDTO(Products products) {\n    if (products == null) {\n        return null;\n    }\n    ProductDTO productDTO = new ProductDTO();\n    productDTO.setName(products.getName());\n    productDTO.setDescription(products.getDescription());\n    productDTO.setPrice(products.getPrice());\n    return productDTO;\n}\n\n@Override\npublic List&lt;ProductDTO&gt; toProductDTOs(List&lt;Products&gt; products) {\n\n    if (products == null) {\n        return null;\n    }\n    List&lt;ProductDTO&gt; listproductdto = new ArrayList&lt;ProductDTO&gt;();\n    for (Products eachproducts : products) {\n        listproductdto.add(toProductDTO(eachproducts));\n    }\n    return listproductdto;\n}\n\n@Override\npublic Products toProduct(ProductDTO productDTO) {\n    // TODO Auto-generated method stub\n    if (productDTO == null) {\n        return null;\n    }\n    Products products = new Products();\n    products.setName(productDTO.getName());\n    products.setPrice(productDTO.getPrice());\n    products.setDescription(productDTO.getDescription());\n    return products;\n}\n</code></pre>\n\n<p>For more details u can check my sample i also tried same example. from here<a href=\"https://github.com/imchakreshtiwari/mapstruct\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n"},{"tags":[],"owner":{"account_id":10162463,"reputation":501,"user_id":7505487,"display_name":"Rohit Naik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582628731,"creation_date":1582628731,"answer_id":60393160,"question_id":60392120,"body_markdown":"Use\r\n \r\n\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n          &lt;version&gt;1.3.1.Final&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n          &lt;version&gt;1.3.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nand on compiling please check, if the map struct has generated the MapperDTOImpl class in the target","title":"MAPSTRUCT - Field mapperDTO in CustomerServiceImpl required a bean of type &#39;com.howtodoinjava.demo.mapper.MapperDTO&#39; that could not be found","body":"<p>Use</p>\n\n<pre><code>   &lt;dependency&gt;\n      &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n      &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n      &lt;version&gt;1.3.1.Final&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n      &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n      &lt;version&gt;1.3.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>and on compiling please check, if the map struct has generated the MapperDTOImpl class in the target</p>\n"},{"tags":[],"owner":{"account_id":14520809,"reputation":501,"user_id":10488529,"display_name":"Dickson the developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657643210,"creation_date":1657643210,"answer_id":72955509,"question_id":60392120,"body_markdown":"If you are coming to this question on a later date, this is how I solved the issue:\r\n\r\nAdd `@Mapper(componentModel = &quot;spring&quot;)` to the mapper class.\r\n\r\n**To add this configuration as default**, I added the following in `build.gradle` \r\n\r\n    tasks.withType(JavaCompile) {\r\n    options.with {\r\n        encoding = UTF_8.toString()\r\n        compilerArgs = [&#39;-Amapstruct.defaultComponentModel=spring&#39;]\r\n    }\r\n    }\r\n\r\n**OR** in maven:\r\n \r\n\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;1.8&lt;/source&gt;\r\n                &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;annotationProcessorPaths&gt;\r\n                    &lt;path&gt;\r\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.3.1.Final&lt;/version&gt;\r\n                    &lt;/path&gt;\r\n                &lt;/annotationProcessorPaths&gt;\r\n                &lt;compilerArgs&gt;\r\n                    &lt;compilerArg&gt;\r\n                        -Amapstruct.defaultComponentModel=spring\r\n                    &lt;/compilerArg&gt;\r\n                &lt;/compilerArgs&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\nI hope this helps someone!\r\n","title":"MAPSTRUCT - Field mapperDTO in CustomerServiceImpl required a bean of type &#39;com.howtodoinjava.demo.mapper.MapperDTO&#39; that could not be found","body":"<p>If you are coming to this question on a later date, this is how I solved the issue:</p>\n<p>Add <code>@Mapper(componentModel = &quot;spring&quot;)</code> to the mapper class.</p>\n<p><strong>To add this configuration as default</strong>, I added the following in <code>build.gradle</code></p>\n<pre><code>tasks.withType(JavaCompile) {\noptions.with {\n    encoding = UTF_8.toString()\n    compilerArgs = ['-Amapstruct.defaultComponentModel=spring']\n}\n}\n</code></pre>\n<p><strong>OR</strong> in maven:</p>\n<pre><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n            &lt;annotationProcessorPaths&gt;\n                &lt;path&gt;\n                    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                    &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                    &lt;version&gt;1.3.1.Final&lt;/version&gt;\n                &lt;/path&gt;\n            &lt;/annotationProcessorPaths&gt;\n            &lt;compilerArgs&gt;\n                &lt;compilerArg&gt;\n                    -Amapstruct.defaultComponentModel=spring\n                &lt;/compilerArg&gt;\n            &lt;/compilerArgs&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<p>I hope this helps someone!</p>\n"}],"owner":{"account_id":10745676,"reputation":29,"user_id":7907095,"display_name":"Sweet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1657643210,"creation_date":1582625542,"question_id":60392120,"body_markdown":"I&#39;m building a crud application with the use of api rest and I&#39;m going to use the mapstruct library but I can&#39;t. when I try to map the data returned by reading on the database with a custom object I get the following error\r\n\r\ncould you help me solve this problem? I get the following error\r\n\r\nAPPLICATION FAILED TO START\r\n\r\nDescription:\r\n\r\nField mapperDTO in com.howtodoinjava.demo.service.CustomerServiceImpl required a bean of type &#39;com.howtodoinjava.demo.mapper.MapperDTO&#39; that could not be found.\r\n\r\nThe injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.howtodoinjava.demo.mapper.MapperDTO&#39; in your configuration.\r\n\r\n\r\n\r\n\r\nmy files\r\n\r\npom.xml\r\n\r\n\r\n \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven- \r\n          4.0.0.xsd&quot;&gt;\r\n            &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n            &lt;groupId&gt;com.howtodoinjava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;name&gt;demo&lt;/name&gt;\r\n            &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n            &lt;parent&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n            &lt;/parent&gt;\r\n    \r\n            &lt;properties&gt;\r\n                &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n                &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n                &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n                &lt;org.mapstruct.version&gt;1.3.1.Final&lt;/org.mapstruct.version&gt;\r\n                &lt;org.projectlombok.version&gt;1.18.10&lt;/org.projectlombok.version&gt;\r\n                &lt;m2e.apt.activation&gt;jdt_apt&lt;/m2e.apt.activation&gt;\r\n            &lt;/properties&gt;\r\n    \r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;!-- &lt;dependency&gt; --&gt;\r\n                &lt;!-- &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt; --&gt;\r\n                &lt;!-- &lt;artifactId&gt;json-path&lt;/artifactId&gt; --&gt;\r\n                &lt;!-- &lt;scope&gt;test&lt;/scope&gt; --&gt;\r\n                &lt;!-- &lt;/dependency&gt; --&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.hateoas&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-hateoas&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.ibm.db2&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jcc&lt;/artifactId&gt;\r\n                    &lt;version&gt;11.5.0.0&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;!-- lombok --&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                    &lt;scope&gt;provided&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n                &lt;!-- Map strunct --&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.3.1.Final&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct-jdk8 --&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.3.1.Final&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n                &lt;!-- json logback --&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.1.5&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.1.5&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n                &lt;!-- swagger --&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.9.2&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.9.2&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n                &lt;!-- Utility --&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.6&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n                &lt;!-- Test --&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                    &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;de.bwaldvogel&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mongo-java-server&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.16.0&lt;/version&gt;\r\n                    &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n            &lt;/dependencies&gt;\r\n    \r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;annotationProcessorPaths&gt;\r\n                                &lt;path&gt;\r\n                                    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                                    &lt;version&gt;1.3.1.Final&lt;/version&gt;\r\n                                &lt;/path&gt;\r\n                                &lt;path&gt;\r\n                                    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                                    &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\r\n                                &lt;/path&gt;\r\n                            &lt;/annotationProcessorPaths&gt;\r\n        &lt;!--                    &lt;compilerArgs&gt; --&gt;\r\n        &lt;!--                        &lt;arg&gt;-Amapstruct.defaultComponentModel=spring&lt;/arg&gt; --&gt;\r\n        &lt;!--                    &lt;/compilerArgs&gt; --&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n    \r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;/plugin&gt;\r\n    \r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n    \r\n        &lt;/project&gt;\r\n\r\n\r\nMapperDTO.java\r\n\r\n    @Mapper(componentModel=&quot;spring&quot;)\r\n    /*Durante la compilazione, MapStruct generer&#224; un&#39;implementazione di questa interfaccia.*/\r\n    public interface MapperDTO {\r\n    \r\n        //MapperDTO INSTANCE = Mappers.getMapper(MapperDTO.class);\r\n    \r\n        Customer customerDTOtoCustomer(CustomerDTO customerDTO);\r\n    \r\n        CustomerDTO customertoCustomerDTO(Customer customer);\r\n    }\r\n\r\nServiceImpl.java\r\n    \r\n    @Autowired\r\n        private MapperDTO mapperDTO;\r\n    \r\n        @Override\r\n        public Customer getCustomerById(Integer id) throws RecordNotFoundException {\r\n            Optional&lt;CustomerDTO&gt; utentiEntity = repository.findById(id);\r\n                try {\r\n                    if (utentiEntity.isPresent()) {\r\n                        return mapperDTO.customerDTOtoCustomer(utentiEntity.get());\r\n                    } else {\r\n                        throw new RecordNotFoundException(&quot;No entity record exist for given id&quot;);\r\n                    }\r\n                }\r\n                catch (Exception e ) {\r\n                    log.error(&quot; message  &quot; +e.getMessage(),e);\r\n                }\r\n                return null;\r\n        }\r\n\r\ndemoapplication.java\r\n\r\n\r\n    @SpringBootApplication(scanBasePackages=&quot;com.howtodoinjava.demo&quot;)\r\n    @EnableJpaRepositories (basePackages=&quot;com.howtodoinjava.demo.repository&quot;)\r\n    @EntityScan(basePackages=&quot;com.howtodoinjava.demo.modelDTO&quot;)\r\n    @ComponentScan({&quot;com.howtodoinjava.demo.service&quot;,&quot;com.howtodoinjava.demo.controller&quot;, &quot;com.howtodoinjava.demo.mapper&quot;})\r\n    \r\n    public class DemoApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DemoApplication.class, args);\r\n        }\r\n    \r\n    }\r\n","title":"MAPSTRUCT - Field mapperDTO in CustomerServiceImpl required a bean of type &#39;com.howtodoinjava.demo.mapper.MapperDTO&#39; that could not be found","body":"<p>I'm building a crud application with the use of api rest and I'm going to use the mapstruct library but I can't. when I try to map the data returned by reading on the database with a custom object I get the following error</p>\n\n<p>could you help me solve this problem? I get the following error</p>\n\n<p>APPLICATION FAILED TO START</p>\n\n<p>Description:</p>\n\n<p>Field mapperDTO in com.howtodoinjava.demo.service.CustomerServiceImpl required a bean of type 'com.howtodoinjava.demo.mapper.MapperDTO' that could not be found.</p>\n\n<p>The injection point has the following annotations: - @org.springframework.beans.factory.annotation.Autowired(required=true)</p>\n\n<p>Action:</p>\n\n<p>Consider defining a bean of type 'com.howtodoinjava.demo.mapper.MapperDTO' in your configuration.</p>\n\n<p>my files</p>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven- \n      4.0.0.xsd\"&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n        &lt;groupId&gt;com.howtodoinjava&lt;/groupId&gt;\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n        &lt;name&gt;demo&lt;/name&gt;\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n        &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n        &lt;/parent&gt;\n\n        &lt;properties&gt;\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\n            &lt;org.mapstruct.version&gt;1.3.1.Final&lt;/org.mapstruct.version&gt;\n            &lt;org.projectlombok.version&gt;1.18.10&lt;/org.projectlombok.version&gt;\n            &lt;m2e.apt.activation&gt;jdt_apt&lt;/m2e.apt.activation&gt;\n        &lt;/properties&gt;\n\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;!-- &lt;dependency&gt; --&gt;\n            &lt;!-- &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt; --&gt;\n            &lt;!-- &lt;artifactId&gt;json-path&lt;/artifactId&gt; --&gt;\n            &lt;!-- &lt;scope&gt;test&lt;/scope&gt; --&gt;\n            &lt;!-- &lt;/dependency&gt; --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.hateoas&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-hateoas&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.ibm.db2&lt;/groupId&gt;\n                &lt;artifactId&gt;jcc&lt;/artifactId&gt;\n                &lt;version&gt;11.5.0.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;!-- lombok --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- Map strunct --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n                &lt;version&gt;1.3.1.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct-jdk8 --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;\n                &lt;version&gt;1.3.1.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- json logback --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n                &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\n                &lt;version&gt;0.1.5&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n                &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\n                &lt;version&gt;0.1.5&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- swagger --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n                &lt;version&gt;2.9.2&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n                &lt;version&gt;2.9.2&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- Utility --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- Test --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;de.bwaldvogel&lt;/groupId&gt;\n                &lt;artifactId&gt;mongo-java-server&lt;/artifactId&gt;\n                &lt;version&gt;1.16.0&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n        &lt;/dependencies&gt;\n\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;annotationProcessorPaths&gt;\n                            &lt;path&gt;\n                                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                                &lt;version&gt;1.3.1.Final&lt;/version&gt;\n                            &lt;/path&gt;\n                            &lt;path&gt;\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                                &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\n                            &lt;/path&gt;\n                        &lt;/annotationProcessorPaths&gt;\n    &lt;!--                    &lt;compilerArgs&gt; --&gt;\n    &lt;!--                        &lt;arg&gt;-Amapstruct.defaultComponentModel=spring&lt;/arg&gt; --&gt;\n    &lt;!--                    &lt;/compilerArgs&gt; --&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n\n    &lt;/project&gt;\n</code></pre>\n\n<p>MapperDTO.java</p>\n\n<pre><code>@Mapper(componentModel=\"spring\")\n/*Durante la compilazione, MapStruct genererà un'implementazione di questa interfaccia.*/\npublic interface MapperDTO {\n\n    //MapperDTO INSTANCE = Mappers.getMapper(MapperDTO.class);\n\n    Customer customerDTOtoCustomer(CustomerDTO customerDTO);\n\n    CustomerDTO customertoCustomerDTO(Customer customer);\n}\n</code></pre>\n\n<p>ServiceImpl.java</p>\n\n<pre><code>@Autowired\n    private MapperDTO mapperDTO;\n\n    @Override\n    public Customer getCustomerById(Integer id) throws RecordNotFoundException {\n        Optional&lt;CustomerDTO&gt; utentiEntity = repository.findById(id);\n            try {\n                if (utentiEntity.isPresent()) {\n                    return mapperDTO.customerDTOtoCustomer(utentiEntity.get());\n                } else {\n                    throw new RecordNotFoundException(\"No entity record exist for given id\");\n                }\n            }\n            catch (Exception e ) {\n                log.error(\" message  \" +e.getMessage(),e);\n            }\n            return null;\n    }\n</code></pre>\n\n<p>demoapplication.java</p>\n\n<pre><code>@SpringBootApplication(scanBasePackages=\"com.howtodoinjava.demo\")\n@EnableJpaRepositories (basePackages=\"com.howtodoinjava.demo.repository\")\n@EntityScan(basePackages=\"com.howtodoinjava.demo.modelDTO\")\n@ComponentScan({\"com.howtodoinjava.demo.service\",\"com.howtodoinjava.demo.controller\", \"com.howtodoinjava.demo.mapper\"})\n\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","postgresql","spring-data-jpa"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1657638378,"post_id":72954440,"comment_id":128855488,"body_markdown":"This question should include more details and clarify the problem.","body":"This question should include more details and clarify the problem."},{"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"score":0,"creation_date":1657638980,"post_id":72954440,"comment_id":128855737,"body_markdown":"If `startValue` is a MIN it will by design ignore null values, what to do with that would depend on how you&#39;re doing aggregation. There is no `endValue` in your query. Without the full query and some sample data to play around with it&#39;s hard to say anything beyond that.","body":"If <code>startValue</code> is a MIN it will by design ignore null values, what to do with that would depend on how you&#39;re doing aggregation. There is no <code>endValue</code> in your query. Without the full query and some sample data to play around with it&#39;s hard to say anything beyond that."},{"owner":{"account_id":5064710,"reputation":709,"user_id":4065074,"display_name":"Naga Budigam"},"score":0,"creation_date":1657643806,"post_id":72954440,"comment_id":128857492,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":25301977,"reputation":31,"user_id":19126107,"display_name":"Massnissa BELAID"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657640406,"creation_date":1657640406,"answer_id":72954968,"question_id":72954440,"body_markdown":"The rows containing null value in the doubleValue column are not found because the MIN function does not take the null value into account.\r\n\r\npossible resolution for this problem : https://stackoverflow.com/questions/21286215/how-can-i-include-null-values-in-a-min-or-max","title":"Can&#39;t get nulls values using java query to Postgresql","body":"<p>The rows containing null value in the doubleValue column are not found because the MIN function does not take the null value into account.</p>\n<p>possible resolution for this problem : <a href=\"https://stackoverflow.com/questions/21286215/how-can-i-include-null-values-in-a-min-or-max\">How can I include null values in a MIN or MAX?</a></p>\n"}],"owner":{"account_id":25791289,"reputation":1,"user_id":19535325,"display_name":"Dmitry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657643113,"creation_date":1657638076,"question_id":72954440,"body_markdown":"Query in repository:\r\n```java\r\n@Query(&quot;SELECT r.type AS roomType, r.name AS roomName, r.number AS roomNumber, MIN(mm.doubleValue) AS startValue \r\n         FROM Measurement AS mm \r\n         LEFT JOIN mm.meter AS m \r\n         LEFT JOIN m.room AS r ...)\r\n    methodNameRepository(String name, ...){}\r\n```\r\n \r\nI get all objects with all non-null fields:\r\n```json\r\n[\r\n  {\r\n    &quot;roomType&quot;: &quot;FLAT&quot;,\r\n    &quot;roomNumber&quot;: 1,\r\n    &quot;roomName&quot;: &quot;Flat&quot;,\r\n    &quot;startValue&quot;: 20,\r\n    &quot;endDate&quot;: &quot;2022-07-01T20:59:00&quot;,\r\n    &quot;endValue&quot;: 23\r\n  },\r\n  ...\r\n]\r\n```\r\nI must get objects with some null fields, like this:\r\n```json\r\n[\r\n  {\r\n    &quot;roomType&quot;: &quot;FLAT&quot;,\r\n    &quot;roomNumber&quot;: 1,\r\n    &quot;roomName&quot;: &quot;Flat&quot;,\r\n    &quot;startValue&quot;: null,\r\n    &quot;endDate&quot;: &quot;2022-07-05T20:59:00&quot;,\r\n    &quot;endValue&quot;: 28\r\n  },\r\n  {\r\n    &quot;roomType&quot;: &quot;FLAT&quot;,\r\n    &quot;roomNumber&quot;: 1,\r\n    &quot;roomName&quot;: &quot;Flat&quot;,\r\n    &quot;startValue&quot;: null,\r\n    &quot;endDate&quot;: &quot;2022-07-12T20:59:00&quot;,\r\n    &quot;endValue&quot;: null\r\n  },\r\n  ...\r\n]\r\n```","title":"Can&#39;t get nulls values using java query to Postgresql","body":"<p>Query in repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;SELECT r.type AS roomType, r.name AS roomName, r.number AS roomNumber, MIN(mm.doubleValue) AS startValue \n         FROM Measurement AS mm \n         LEFT JOIN mm.meter AS m \n         LEFT JOIN m.room AS r ...)\n    methodNameRepository(String name, ...){}\n</code></pre>\n<p>I get all objects with all non-null fields:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;roomType&quot;: &quot;FLAT&quot;,\n    &quot;roomNumber&quot;: 1,\n    &quot;roomName&quot;: &quot;Flat&quot;,\n    &quot;startValue&quot;: 20,\n    &quot;endDate&quot;: &quot;2022-07-01T20:59:00&quot;,\n    &quot;endValue&quot;: 23\n  },\n  ...\n]\n</code></pre>\n<p>I must get objects with some null fields, like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;roomType&quot;: &quot;FLAT&quot;,\n    &quot;roomNumber&quot;: 1,\n    &quot;roomName&quot;: &quot;Flat&quot;,\n    &quot;startValue&quot;: null,\n    &quot;endDate&quot;: &quot;2022-07-05T20:59:00&quot;,\n    &quot;endValue&quot;: 28\n  },\n  {\n    &quot;roomType&quot;: &quot;FLAT&quot;,\n    &quot;roomNumber&quot;: 1,\n    &quot;roomName&quot;: &quot;Flat&quot;,\n    &quot;startValue&quot;: null,\n    &quot;endDate&quot;: &quot;2022-07-12T20:59:00&quot;,\n    &quot;endValue&quot;: null\n  },\n  ...\n]\n</code></pre>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1657634241,"post_id":72953411,"comment_id":128853872,"body_markdown":"`yourLocalDateTime.plusDays(1)`","body":"<code>yourLocalDateTime.plusDays(1)</code>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1657634433,"post_id":72953411,"comment_id":128853942,"body_markdown":"Have you tried to use startAfter() on the Query object?","body":"Have you tried to use startAfter() on the Query object?"},{"owner":{"account_id":2825991,"reputation":2000,"user_id":2428631,"display_name":"McPringle"},"score":0,"creation_date":1657637013,"post_id":72953411,"comment_id":128854971,"body_markdown":"Just a hint: No need to add Joda Time to your project. Since 1.8 Java has had its own powerful Date &amp; Time API inspired by Joda Time.","body":"Just a hint: No need to add Joda Time to your project. Since 1.8 Java has had its own powerful Date &amp; Time API inspired by Joda Time."},{"owner":{"account_id":2825991,"reputation":2000,"user_id":2428631,"display_name":"McPringle"},"score":0,"creation_date":1657637150,"post_id":72953411,"comment_id":128855024,"body_markdown":"Sorry, another hint: Why do you store it as a String? Firestore does support timestamps.","body":"Sorry, another hint: Why do you store it as a String? Firestore does support timestamps."},{"owner":{"account_id":6767435,"reputation":39,"user_id":5211997,"display_name":"Alula48"},"score":0,"creation_date":1657690904,"post_id":72953411,"comment_id":128867595,"body_markdown":"@McPringle my superior wanted to keep it that way, but I insisted to change it. I&#39;ll try the Java 1.8 Date.","body":"@McPringle my superior wanted to keep it that way, but I insisted to change it. I&#39;ll try the Java 1.8 Date."}],"answers":[{"tags":[],"owner":{"display_name":"user19443549"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657642846,"creation_date":1657642846,"answer_id":72955438,"question_id":72953411,"body_markdown":"In LocalDateTime class, such method names are isAfter and isBefore, but you cant use Date class object as method parameter. You will have to use LocalDate or LocalDateTime object. below is the method snippet from LocalDateTime class for your ref-\r\n\r\n    public boolean isAfter(ChronoLocalDateTime&lt;?&gt; other) {\r\n        if (other instanceof LocalDateTime) {\r\n            return compareTo0((LocalDateTime) other) &gt; 0;\r\n        }\r\n        return ChronoLocalDateTime.super.isAfter(other);\r\n    }","title":"Joda LocalDate -- How to check if it&#39;s been 24 hours since an event","body":"<p>In LocalDateTime class, such method names are isAfter and isBefore, but you cant use Date class object as method parameter. You will have to use LocalDate or LocalDateTime object. below is the method snippet from LocalDateTime class for your ref-</p>\n<pre><code>public boolean isAfter(ChronoLocalDateTime&lt;?&gt; other) {\n    if (other instanceof LocalDateTime) {\n        return compareTo0((LocalDateTime) other) &gt; 0;\n    }\n    return ChronoLocalDateTime.super.isAfter(other);\n}\n</code></pre>\n"}],"owner":{"account_id":6767435,"reputation":39,"user_id":5211997,"display_name":"Alula48"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657642846,"creation_date":1657633690,"question_id":72953411,"body_markdown":"Description: I&#39;m making a mobile app for a client where inventory can be recorded, but two inventory records can&#39;t happen within 24 hours of each other.\r\n\r\nApproach: I&#39;m storing the inventory along with the date on Firestore as a string with format &quot;dd/MM/yyyy hh:mm:ss&quot; at the conclusion of the process.\r\n\r\n    data class PastInventoryItem(\r\n    var username: String = &quot;&quot;,\r\n    var date: String = &quot;&quot;,\r\n    var countedquantity: ArrayList&lt;Material&gt; = arrayListOf()) : FireStoreData()\r\n\r\n\r\n----------\r\n\r\n\r\n    private boolean checkIf24HourReached() {\r\n        db.collection(&quot;Project&quot;).document(Prefs.getString(&quot;ManageID&quot;,\r\n                GlobalObject.FIRESTORE_ID))\r\n                .collection(&quot;inventoryMode&quot;)\r\n                .document(GlobalObject.INVENTORY_MODE_ID)\r\n                .get()\r\n                .addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\r\n                    @Override\r\n                    public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                        PastInventoryItem pastInventoryItem = documentSnapshot.toObject(PastInventoryItem.class);\r\n                        if(pastInventoryItem.getDate().isEmpty()){\r\n                            proceedWithInventoryMode();\r\n                        }\r\n\r\n                        LocalDateTime date = new LocalDateTime(pastInventoryItem.getDate());\r\n                        Date today = DateFormat.getDateTimeInstance().getCalendar().getTime();\r\n\r\n                        Date twentyfourhoursbefore = DateFormat.getDateTimeInstance().getCalendar().getTime();\r\n                        twentyfourhoursbefore.setTime(twentyfourhoursbefore.getTime() - (24 * 60 * 60 * 1000));\r\n\r\n                        return !(date.after(twentyfourhoursbefore) &amp;&amp; date.before(today));\r\n                    }\r\n                });\r\n\r\n    }\r\n\r\nProblem: This code does not compile because the &quot;after&quot; and &quot;before&quot; methods are from **Java.Util.Date**. Is there any way to get a string and check if it&#39;s been 24 hours since a **LocalDate** value?","title":"Joda LocalDate -- How to check if it&#39;s been 24 hours since an event","body":"<p>Description: I'm making a mobile app for a client where inventory can be recorded, but two inventory records can't happen within 24 hours of each other.</p>\n<p>Approach: I'm storing the inventory along with the date on Firestore as a string with format &quot;dd/MM/yyyy hh:mm:ss&quot; at the conclusion of the process.</p>\n<pre><code>data class PastInventoryItem(\nvar username: String = &quot;&quot;,\nvar date: String = &quot;&quot;,\nvar countedquantity: ArrayList&lt;Material&gt; = arrayListOf()) : FireStoreData()\n</code></pre>\n<hr />\n<pre><code>private boolean checkIf24HourReached() {\n    db.collection(&quot;Project&quot;).document(Prefs.getString(&quot;ManageID&quot;,\n            GlobalObject.FIRESTORE_ID))\n            .collection(&quot;inventoryMode&quot;)\n            .document(GlobalObject.INVENTORY_MODE_ID)\n            .get()\n            .addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\n                @Override\n                public void onSuccess(DocumentSnapshot documentSnapshot) {\n                    PastInventoryItem pastInventoryItem = documentSnapshot.toObject(PastInventoryItem.class);\n                    if(pastInventoryItem.getDate().isEmpty()){\n                        proceedWithInventoryMode();\n                    }\n\n                    LocalDateTime date = new LocalDateTime(pastInventoryItem.getDate());\n                    Date today = DateFormat.getDateTimeInstance().getCalendar().getTime();\n\n                    Date twentyfourhoursbefore = DateFormat.getDateTimeInstance().getCalendar().getTime();\n                    twentyfourhoursbefore.setTime(twentyfourhoursbefore.getTime() - (24 * 60 * 60 * 1000));\n\n                    return !(date.after(twentyfourhoursbefore) &amp;&amp; date.before(today));\n                }\n            });\n\n}\n</code></pre>\n<p>Problem: This code does not compile because the &quot;after&quot; and &quot;before&quot; methods are from <strong>Java.Util.Date</strong>. Is there any way to get a string and check if it's been 24 hours since a <strong>LocalDate</strong> value?</p>\n"},{"tags":["java","ssl","client-certificates"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1657642983,"post_id":72955414,"comment_id":128857185,"body_markdown":"You would have to get and provide that certificate information in any case so there&#39;s not much difference from adding it to the keystore to providing it &quot;on the fly&quot;. If you want to distribute your application it could bring its own keystore and point Java to it in the JVM parameters. How do add a certificate to the keystore depends on the Java version though, e.g. there was a change from Java 7 to 8 and I&#39;m not sure there were others after that. So what Java version are you using?","body":"You would have to get and provide that certificate information in any case so there&#39;s not much difference from adding it to the keystore to providing it &quot;on the fly&quot;. If you want to distribute your application it could bring its own keystore and point Java to it in the JVM parameters. How do add a certificate to the keystore depends on the Java version though, e.g. there was a change from Java 7 to 8 and I&#39;m not sure there were others after that. So what Java version are you using?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1657643077,"post_id":72955414,"comment_id":128857220,"body_markdown":"Btw, you don&#39;t need to add the site&#39;s certificate to the keystore. You could add the intermediate or root certificate as well which might help with other sites too. It&#39;s basically a chain of certificates which are used to sign and verify other certificates so if you trust one cert (by adding it to keystore) then all certs certified with it directly or indirectly are trusted as well. More info can be found here (also how to add the cert): https://medium.com/expedia-group-tech/how-to-import-public-certificates-into-javas-truststore-from-a-browser-a35e49a806dc","body":"Btw, you don&#39;t need to add the site&#39;s certificate to the keystore. You could add the intermediate or root certificate as well which might help with other sites too. It&#39;s basically a chain of certificates which are used to sign and verify other certificates so if you trust one cert (by adding it to keystore) then all certs certified with it directly or indirectly are trusted as well. More info can be found here (also how to add the cert): <a href=\"https://medium.com/expedia-group-tech/how-to-import-public-certificates-into-javas-truststore-from-a-browser-a35e49a806dc\" rel=\"nofollow noreferrer\">medium.com/expedia-group-tech/&hellip;</a>"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1657643810,"post_id":72955414,"comment_id":128857494,"body_markdown":"Do you mean you don&#39;t want to have to have any certificate (whether it&#39;s the server&#39;s, or a certificate authority that can validate the server&#39;s) stored locally? Effectively, you want to trust any server to which you connect, and not use TLS protocol to authenticate that it is the legitimate service?","body":"Do you mean you don&#39;t want to have to have any certificate (whether it&#39;s the server&#39;s, or a certificate authority that can validate the server&#39;s) stored locally? Effectively, you want to trust any server to which you connect, and not use TLS protocol to authenticate that it is the legitimate service?"},{"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"score":0,"creation_date":1657644252,"post_id":72955414,"comment_id":128857641,"body_markdown":"Currently using Java 8.","body":"Currently using Java 8."},{"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"score":0,"creation_date":1657644459,"post_id":72955414,"comment_id":128857704,"body_markdown":"@erikson - No, I&#39;m not trying to bypass the process, just wondering if there was a way to do without having to store in a keystore.","body":"@erikson - No, I&#39;m not trying to bypass the process, just wondering if there was a way to do without having to store in a keystore."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1657646854,"post_id":72955414,"comment_id":128858556,"body_markdown":"Let start at the beginning. You&#39;ve received an error (basically) saying the certificate the peer presented cannot be verified. Do you think that&#39;s a mistake? Why do you think it&#39;s a mistake and not, say, an attempted man-in-the-middle (MiTM) attack?","body":"Let start at the beginning. You&#39;ve received an error (basically) saying the certificate the peer presented cannot be verified. Do you think that&#39;s a mistake? Why do you think it&#39;s a mistake and not, say, an attempted man-in-the-middle (MiTM) attack?"}],"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657642716,"creation_date":1657642716,"question_id":72955414,"body_markdown":"I&#39;ll start out by saying that security certificates in general are still pretty much a black box to me.\r\n\r\nI&#39;m writing a simple Spring Boot Java application that is attempting to access a REST service. I believe I have the plumbing set up correctly, but am running into a security issue related to certificates (or maybe lack thereof). When I execute my call, I get an exception that boils down to the following:\r\n\r\n    Caused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nI have searched the web, including SO and found tons of posts and responses. From what I can tell, the predominant solution is that I need to add the cert of the site I&#39;m attempting to access to the Java keystore via the `keytool` utility that is part of the JRE. The exact process to follow (up to date for any changes in the tool and the cert data files themselves) is a little unclear. (If anyone can point to an up-to-date process that would be great.)\r\n\r\nWhat I really would like to know is: Is there an alternative to the solution mentioned? Is there a way to provide the certificate information to the Java application &quot;on the fly&quot; without having to store it in the Java keystore?\r\n","title":"Is there a way to provide certificate information &quot;on the fly&quot; to a Java application?","body":"<p>I'll start out by saying that security certificates in general are still pretty much a black box to me.</p>\n<p>I'm writing a simple Spring Boot Java application that is attempting to access a REST service. I believe I have the plumbing set up correctly, but am running into a security issue related to certificates (or maybe lack thereof). When I execute my call, I get an exception that boils down to the following:</p>\n<pre><code>Caused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>I have searched the web, including SO and found tons of posts and responses. From what I can tell, the predominant solution is that I need to add the cert of the site I'm attempting to access to the Java keystore via the <code>keytool</code> utility that is part of the JRE. The exact process to follow (up to date for any changes in the tool and the cert data files themselves) is a little unclear. (If anyone can point to an up-to-date process that would be great.)</p>\n<p>What I really would like to know is: Is there an alternative to the solution mentioned? Is there a way to provide the certificate information to the Java application &quot;on the fly&quot; without having to store it in the Java keystore?</p>\n"},{"tags":["java","netcdf","unidata","netcdf-java"],"answers":[{"tags":[],"owner":{"account_id":25792022,"reputation":11,"user_id":19535931,"display_name":"Hailey Johnson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657642600,"creation_date":1657642600,"answer_id":72955391,"question_id":72953005,"body_markdown":"It is not possible to create a `NetcdfFile` object in memory with the netCDF-Java library, because there&#39;s no in-memory implementation of the underlying `RandomAccessFile`. \r\nYou could use a temp file as the location, e.g. `java.io.File.createTempFile()`.\r\n","title":"How to create netcdfFile without location ? JAVA","body":"<p>It is not possible to create a <code>NetcdfFile</code> object in memory with the netCDF-Java library, because there's no in-memory implementation of the underlying <code>RandomAccessFile</code>.\nYou could use a temp file as the location, e.g. <code>java.io.File.createTempFile()</code>.</p>\n"}],"owner":{"account_id":19576477,"reputation":85,"user_id":14326456,"display_name":"Fab83i"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657642600,"creation_date":1657632022,"question_id":72953005,"body_markdown":"I am trying to convert a product into netcdf object. \r\ni am using unidata library. \r\n\r\nWhat i want to do is return a netcdf object into xml response. \r\n\r\nIn fact, I create `NetcdfFileWriter` with method \r\n\r\n&gt; createNew()\r\n\r\n. But a location is mandatory. I do not want to save the file somewhere because what i want is return it into xml response.\r\n\r\nMy method is now returning `NetcdfFile` created with the method above. But i still have a file on my disk that i do not want.\r\n\r\nHave you an idea ? ","title":"How to create netcdfFile without location ? JAVA","body":"<p>I am trying to convert a product into netcdf object.\ni am using unidata library.</p>\n<p>What i want to do is return a netcdf object into xml response.</p>\n<p>In fact, I create <code>NetcdfFileWriter</code> with method</p>\n<blockquote>\n<p>createNew()</p>\n</blockquote>\n<p>. But a location is mandatory. I do not want to save the file somewhere because what i want is return it into xml response.</p>\n<p>My method is now returning <code>NetcdfFile</code> created with the method above. But i still have a file on my disk that i do not want.</p>\n<p>Have you an idea ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1657638124,"post_id":72943673,"comment_id":128855383,"body_markdown":"The [specification for jarfiles](https://docs.oracle.com/javase/7/docs/technotes/guides/jar/jar.html#Main_Attributes) covers quite a few example attributes, though the link provided is for Java 7.","body":"The <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/jar/jar.html#Main_Attributes\" rel=\"nofollow noreferrer\">specification for jarfiles</a> covers quite a few example attributes, though the link provided is for Java 7."},{"owner":{"account_id":980057,"reputation":7528,"user_id":1000011,"accept_rate":52,"display_name":"opticyclic"},"score":0,"creation_date":1657642008,"post_id":72943673,"comment_id":128856869,"body_markdown":"That sounds like a reasonable answer","body":"That sounds like a reasonable answer"}],"owner":{"account_id":980057,"reputation":7528,"user_id":1000011,"accept_rate":52,"display_name":"opticyclic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":0,"score":4,"last_activity_date":1657642041,"creation_date":1657567570,"question_id":72943673,"body_markdown":"When creating a manifest file in a jar you can put in any key-value pairs as long as they don&#39;t break length or character requirements.\r\n\r\nAre there any conventions on the items that are commonly in manifests though?\r\nNames/ordering etc?\r\n\r\ne.g. `Implementation-Title` and `Implementation-Version` seem pretty standard.\r\nA build date also seems quite common but is there a convention for it? e.g. `Build-Date` vs `Build-Timestamp`?\r\n\r\nI&#39;m building it by hand in this case, so the reason for this question is that I&#39;m wondering if any build tool (like Maven for instance) has set any conventions in the same way that the convention of `src/main/java` has come about.","title":"Does a Java manifest have a defined/conventional set of attributes?","body":"<p>When creating a manifest file in a jar you can put in any key-value pairs as long as they don't break length or character requirements.</p>\n<p>Are there any conventions on the items that are commonly in manifests though?\nNames/ordering etc?</p>\n<p>e.g. <code>Implementation-Title</code> and <code>Implementation-Version</code> seem pretty standard.\nA build date also seems quite common but is there a convention for it? e.g. <code>Build-Date</code> vs <code>Build-Timestamp</code>?</p>\n<p>I'm building it by hand in this case, so the reason for this question is that I'm wondering if any build tool (like Maven for instance) has set any conventions in the same way that the convention of <code>src/main/java</code> has come about.</p>\n"},{"tags":["java","algorithm","graphics","java-2d"],"answers":[{"tags":[],"owner":{"account_id":10450,"reputation":172558,"user_id":19750,"accept_rate":100,"display_name":"Josh Lee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1268686384,"creation_date":1268686384,"answer_id":2450398,"question_id":2443661,"body_markdown":"This is the kind of thing you want to use a library for, most likely the [Java 2D API](http://java.sun.com/docs/books/tutorial/2d/). It includes facilities for fills, strokes, transforms, and filters. Its model is similar to many libraries in that you trace out a path with operators `moveTo` and `lineTo` or `curveTo`, which are abstracted in shapes like `Ellipse2D`; and then you fill or stroke the resultant path with a paint operator. I highly recommend reading the Java 2D tutorial and understanding how the different parts fit together.\r\n\r\nI would take roughly the following steps to create this drawing:\r\n\r\n* Compute the final dimensions of the rotated ellipse after blurring.\r\n* Create a `BuferredImage` of that size and call its `createGraphics` method to acquire a drawing context.\r\n * Rotate the graphics object\r\n * Draw the ellipse\r\n * Fill it with black\r\n* Implement the Gaussian blur filter. This is not built in to the API, but it includes a framework for doing filters called `ConvolveOp`, and [you can find](http://www.jhlabs.com/ip/blurring.html) an algorithm for computing the Gaussian kernel in Java.\r\n* Apply the filter to the image, and then return the results.\r\n\r\nAnother option might be Apache’s [Batik](http://xmlgraphics.apache.org/batik/) SVG library, since you can declaratively express the drawing you want (including transformations and filters) and have it rasterized for you.","title":"Algorithm to create an image of an elliptical brush?","body":"<p>This is the kind of thing you want to use a library for, most likely the <a href=\"http://java.sun.com/docs/books/tutorial/2d/\" rel=\"nofollow noreferrer\">Java 2D API</a>. It includes facilities for fills, strokes, transforms, and filters. Its model is similar to many libraries in that you trace out a path with operators <code>moveTo</code> and <code>lineTo</code> or <code>curveTo</code>, which are abstracted in shapes like <code>Ellipse2D</code>; and then you fill or stroke the resultant path with a paint operator. I highly recommend reading the Java 2D tutorial and understanding how the different parts fit together.</p>\n\n<p>I would take roughly the following steps to create this drawing:</p>\n\n<ul>\n<li>Compute the final dimensions of the rotated ellipse after blurring.</li>\n<li>Create a <code>BuferredImage</code> of that size and call its <code>createGraphics</code> method to acquire a drawing context.\n\n<ul>\n<li>Rotate the graphics object</li>\n<li>Draw the ellipse</li>\n<li>Fill it with black</li>\n</ul></li>\n<li>Implement the Gaussian blur filter. This is not built in to the API, but it includes a framework for doing filters called <code>ConvolveOp</code>, and <a href=\"http://www.jhlabs.com/ip/blurring.html\" rel=\"nofollow noreferrer\">you can find</a> an algorithm for computing the Gaussian kernel in Java.</li>\n<li>Apply the filter to the image, and then return the results.</li>\n</ul>\n\n<p>Another option might be Apache’s <a href=\"http://xmlgraphics.apache.org/batik/\" rel=\"nofollow noreferrer\">Batik</a> SVG library, since you can declaratively express the drawing you want (including transformations and filters) and have it rasterized for you.</p>\n"},{"tags":[],"owner":{"account_id":1034,"reputation":4235,"user_id":1370,"accept_rate":89,"display_name":"eplawless"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657641689,"creation_date":1278227629,"answer_id":3174013,"question_id":2443661,"body_markdown":"An extremely useful list of formulas for an ellipse can be found here: [Link](http://xahlee.info/SpecialPlaneCurves_dir/Ellipse_dir/ellipse.html)\r\n\r\nThink about what each formula implies about an individual pixel in your bitmap (whether it&#39;s in/out of the ellipse, whether it&#39;s near the edge) and which properties would be useful to you.","title":"Algorithm to create an image of an elliptical brush?","body":"<p>An extremely useful list of formulas for an ellipse can be found here: <a href=\"http://xahlee.info/SpecialPlaneCurves_dir/Ellipse_dir/ellipse.html\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Think about what each formula implies about an individual pixel in your bitmap (whether it's in/out of the ellipse, whether it's near the edge) and which properties would be useful to you.</p>\n"}],"owner":{"account_id":50894,"reputation":1634,"user_id":151915,"accept_rate":84,"display_name":"juan2raid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1657641689,"creation_date":1268598877,"question_id":2443661,"body_markdown":"I need to be able to accept elliptical(computed) brush parameters such as spacing, hardness, roundness, angle and diameter and then compute a bitmap image based on those attributes.\r\n\r\nDoes anyone know the algorithm(or where I can find it) to do this?  I have limited experience in graphics programming and I have been unable to find it so far.","title":"Algorithm to create an image of an elliptical brush?","body":"<p>I need to be able to accept elliptical(computed) brush parameters such as spacing, hardness, roundness, angle and diameter and then compute a bitmap image based on those attributes.</p>\n\n<p>Does anyone know the algorithm(or where I can find it) to do this?  I have limited experience in graphics programming and I have been unable to find it so far.</p>\n"},{"tags":["java","spring","redis","spring-data-redis"],"answers":[{"tags":[],"owner":{"account_id":1523925,"reputation":6521,"user_id":1422818,"display_name":"Christoph Strobl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398672032,"creation_date":1398672032,"answer_id":23335582,"question_id":21664487,"body_markdown":"Up to SD Redis 1.2 you will have to take care of tansaction handling yourself using [TransactionSynchronisationManager](http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/transaction/support/TransactionSynchronizationManager.html)\r\n\r\nThe snipplet above could then look something like this:\r\n\r\n    public String addUser(String name, String password) {\r\n        \r\n        String uid = String.valueOf(userIdCounter.incrementAndGet());\r\n\r\n        // start the transaction\r\n        template.multi(); \r\n\r\n        // register synchronisation\r\n        if(TransactionSynchronisationManager.isActualTransactionActive()) {\r\n            TransactionSynchronisationManager.registerSynchronisation(new TransactionSynchronizationAdapter()) {\r\n\r\n                @Override\r\n                public void afterCompletion(int status) {\r\n                    switch(status) {\r\n                        case STATUS_COMMITTED : template.exec(); break;\r\n                        case STATUS_ROLLED_BACK : template.discard(); break;\r\n                        default : template.discard(); \r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        BoundHashOperations&lt;String, String, String&gt; userOps = template.boundHashOps(KeyUtils.uid(uid));\r\n        userOps.put(&quot;name&quot;, name);\r\n        userOps.put(&quot;pass&quot;, password);\r\n        valueOps.set(KeyUtils.user(name), uid);\r\n\r\n        users.addFirst(name);\r\n\r\n        return addAuth(name);\r\n    }\r\n\r\nPlease note that once in multi, read operations will also be part of the transaction which means you&#39;ll likely not be able to read data from redis server. \r\nThe setup might differ form the above one as you could want to additionally call `WATCH`. Further on you&#39;ll also have to take care of multiple callbacks do not sending `MULTI` and/or `EXEC` more than once. \r\n\r\nThe upcoming 1.3 RELEASE of Spring Data Redis will ship with support for spring managed transactions in a way of taking care of `MULTi|EXEC|DISCARD` plus allowing read operations (on already existing keys) while transaction synchronization is active. You could already give the BUILD-SNAPSHOT a spin and turn this on by setting `template.setEnableTransactionSupport(true)`.","title":"How to implement transaction in Spring Data Redis in a clean way?","body":"<p>Up to SD Redis 1.2 you will have to take care of tansaction handling yourself using <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/transaction/support/TransactionSynchronizationManager.html\" rel=\"nofollow\">TransactionSynchronisationManager</a></p>\n\n<p>The snipplet above could then look something like this:</p>\n\n<pre><code>public String addUser(String name, String password) {\n\n    String uid = String.valueOf(userIdCounter.incrementAndGet());\n\n    // start the transaction\n    template.multi(); \n\n    // register synchronisation\n    if(TransactionSynchronisationManager.isActualTransactionActive()) {\n        TransactionSynchronisationManager.registerSynchronisation(new TransactionSynchronizationAdapter()) {\n\n            @Override\n            public void afterCompletion(int status) {\n                switch(status) {\n                    case STATUS_COMMITTED : template.exec(); break;\n                    case STATUS_ROLLED_BACK : template.discard(); break;\n                    default : template.discard(); \n                }\n            }\n        }\n    }\n\n    BoundHashOperations&lt;String, String, String&gt; userOps = template.boundHashOps(KeyUtils.uid(uid));\n    userOps.put(\"name\", name);\n    userOps.put(\"pass\", password);\n    valueOps.set(KeyUtils.user(name), uid);\n\n    users.addFirst(name);\n\n    return addAuth(name);\n}\n</code></pre>\n\n<p>Please note that once in multi, read operations will also be part of the transaction which means you'll likely not be able to read data from redis server. \nThe setup might differ form the above one as you could want to additionally call <code>WATCH</code>. Further on you'll also have to take care of multiple callbacks do not sending <code>MULTI</code> and/or <code>EXEC</code> more than once. </p>\n\n<p>The upcoming 1.3 RELEASE of Spring Data Redis will ship with support for spring managed transactions in a way of taking care of <code>MULTi|EXEC|DISCARD</code> plus allowing read operations (on already existing keys) while transaction synchronization is active. You could already give the BUILD-SNAPSHOT a spin and turn this on by setting <code>template.setEnableTransactionSupport(true)</code>.</p>\n"},{"tags":[],"owner":{"account_id":19468856,"reputation":51,"user_id":15116471,"display_name":"parsa ahani"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657641636,"creation_date":1657641636,"answer_id":72955205,"question_id":21664487,"body_markdown":"&gt; By default, RedisTemplate does not participate in managed Spring\r\n&gt; transactions. If you want RedisTemplate to make use of Redis\r\n&gt; transaction when using @Transactional or TransactionTemplate, you need\r\n&gt; to be explicitly enable transaction support for each RedisTemplate by\r\n&gt; setting setEnableTransactionSupport(true). Enabling transaction\r\n&gt; support binds RedisConnection to the current transaction backed by a\r\n&gt; ThreadLocal. If the transaction finishes without errors, the Redis\r\n&gt; transaction gets commited with EXEC, otherwise rolled back with\r\n&gt; DISCARD. Redis transactions are batch-oriented. Commands issued during\r\n&gt; an ongoing transaction are queued and only applied when committing the\r\n&gt; transaction.\r\n&gt; \r\n&gt; Spring Data Redis distinguishes between read-only and write commands\r\n&gt; in an ongoing transaction. Read-only commands, such as KEYS, are piped\r\n&gt; to a fresh (non-thread-bound) RedisConnection to allow reads. Write\r\n&gt; commands are queued by RedisTemplate and applied upon commit.\r\n\r\nhttps://docs.spring.io/spring-data/data-redis/docs/current/reference/html/#tx.spring","title":"How to implement transaction in Spring Data Redis in a clean way?","body":"<blockquote>\n<p>By default, RedisTemplate does not participate in managed Spring\ntransactions. If you want RedisTemplate to make use of Redis\ntransaction when using @Transactional or TransactionTemplate, you need\nto be explicitly enable transaction support for each RedisTemplate by\nsetting setEnableTransactionSupport(true). Enabling transaction\nsupport binds RedisConnection to the current transaction backed by a\nThreadLocal. If the transaction finishes without errors, the Redis\ntransaction gets commited with EXEC, otherwise rolled back with\nDISCARD. Redis transactions are batch-oriented. Commands issued during\nan ongoing transaction are queued and only applied when committing the\ntransaction.</p>\n<p>Spring Data Redis distinguishes between read-only and write commands\nin an ongoing transaction. Read-only commands, such as KEYS, are piped\nto a fresh (non-thread-bound) RedisConnection to allow reads. Write\ncommands are queued by RedisTemplate and applied upon commit.</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-data/data-redis/docs/current/reference/html/#tx.spring\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/data-redis/docs/current/reference/html/#tx.spring</a></p>\n"}],"owner":{"account_id":920765,"reputation":2524,"user_id":952511,"accept_rate":78,"display_name":"sinujohn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19318,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1657641636,"creation_date":1391977177,"question_id":21664487,"body_markdown":"I am following RetwisJ tutorial available [here][1]. In this I don&#39;t think Redis transactions are implemented. For example, in the following function, if some exception occurs in between, the data will be left in an inconsistent state.\r\nI want to know how a function like the following can be implemented in **Spring Data Redis** as a single transaction:  \r\n\r\n    public String addUser(String name, String password) {\r\n    \t\tString uid = String.valueOf(userIdCounter.incrementAndGet());\r\n    \r\n    \t\t// save user as hash\r\n    \t\t// uid -&gt; user\r\n    \t\tBoundHashOperations&lt;String, String, String&gt; userOps = template.boundHashOps(KeyUtils.uid(uid));\r\n    \t\tuserOps.put(&quot;name&quot;, name);\r\n    \t\tuserOps.put(&quot;pass&quot;, password);\r\n    \t\tvalueOps.set(KeyUtils.user(name), uid);\r\n    \r\n    \t\tusers.addFirst(name);\r\n    \t\treturn addAuth(name);\r\n    \t}\r\n\r\nHere `userIdCounter`, `valueOps` and `users` are initialized in the constructor. I have come across [this][2] in the documentation(section 4.8), but I can&#39;t figure out how to fit that into this function where some variables are initialized outside the function(please don&#39;t tell I have to initialize these variables in each and every function where I need transactions!).  \r\n\r\n**PS:** Also is there any `@Transaction` annotation or transaction manager available for Spring Data Redis?\r\n\r\n**UPDATE:** I have tried using `MULTI`, `EXEC`. The code which I have written is for another project, but when its applied to this problem it&#39;ll be as follows:\r\n\r\n    public String addMyUser(String name, String password) {\r\n    \t\tString uid = String.valueOf(userIdCounter.incrementAndGet());\r\n    \t\ttemplate.execute(new SessionCallback&lt;Object&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic &lt;K, V&gt; Object execute(RedisOperations&lt;K, V&gt; operations)\r\n    \t\t\t\t\tthrows DataAccessException {\r\n    \t\t\t\toperations.multi();\r\n    \t\t\t\tgetUserOps(operations, KeyUtils.uid(uid)).put(&quot;name&quot;, name);\r\n    \t\t\t\tgetUserOps(operations, KeyUtils.uid(uid)).put(&quot;pass&quot;, password);\r\n    \t\t\t\tgetValueOps(operations).set(KeyUtils.user(name), uid);\r\n    \t\t\t\tgetUserList(operations, KeyUtils.users()).leftPush(name);\r\n    \t\t\t\toperations.exec();\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\treturn addAuth(name);\r\n    \t}\r\n    \tprivate ValueOperations&lt;String, String&gt; getValueOps(RedisOperations operations) {\r\n    \t\treturn operations.opsForValue();\r\n    \t}\r\n    \tprivate BoundHashOperations&lt;String, String, String&gt; getUserOps(RedisOperations operations, String key) {\r\n    \t\treturn operations.boundHashOps(key);\r\n    \t}\r\n    \tprivate BoundListOperations&lt;String, String&gt; getUserList(RedisOperations operations, String key) {\r\n    \t\treturn operations.boundListOps(key);\r\n    \t}\r\n\r\nPlease tell whether this way of using `MULTI`, `EXEC` is recommended or not.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/data-keyvalue/examples/retwisj/current/\r\n  [2]: http://docs.spring.io/spring-data/redis/docs/current/reference/html/redis.html","title":"How to implement transaction in Spring Data Redis in a clean way?","body":"<p>I am following RetwisJ tutorial available <a href=\"http://docs.spring.io/spring-data/data-keyvalue/examples/retwisj/current/\" rel=\"noreferrer\">here</a>. In this I don't think Redis transactions are implemented. For example, in the following function, if some exception occurs in between, the data will be left in an inconsistent state.\nI want to know how a function like the following can be implemented in <strong>Spring Data Redis</strong> as a single transaction:  </p>\n\n<pre><code>public String addUser(String name, String password) {\n        String uid = String.valueOf(userIdCounter.incrementAndGet());\n\n        // save user as hash\n        // uid -&gt; user\n        BoundHashOperations&lt;String, String, String&gt; userOps = template.boundHashOps(KeyUtils.uid(uid));\n        userOps.put(\"name\", name);\n        userOps.put(\"pass\", password);\n        valueOps.set(KeyUtils.user(name), uid);\n\n        users.addFirst(name);\n        return addAuth(name);\n    }\n</code></pre>\n\n<p>Here <code>userIdCounter</code>, <code>valueOps</code> and <code>users</code> are initialized in the constructor. I have come across <a href=\"http://docs.spring.io/spring-data/redis/docs/current/reference/html/redis.html\" rel=\"noreferrer\">this</a> in the documentation(section 4.8), but I can't figure out how to fit that into this function where some variables are initialized outside the function(please don't tell I have to initialize these variables in each and every function where I need transactions!).  </p>\n\n<p><strong>PS:</strong> Also is there any <code>@Transaction</code> annotation or transaction manager available for Spring Data Redis?</p>\n\n<p><strong>UPDATE:</strong> I have tried using <code>MULTI</code>, <code>EXEC</code>. The code which I have written is for another project, but when its applied to this problem it'll be as follows:</p>\n\n<pre><code>public String addMyUser(String name, String password) {\n        String uid = String.valueOf(userIdCounter.incrementAndGet());\n        template.execute(new SessionCallback&lt;Object&gt;() {\n            @Override\n            public &lt;K, V&gt; Object execute(RedisOperations&lt;K, V&gt; operations)\n                    throws DataAccessException {\n                operations.multi();\n                getUserOps(operations, KeyUtils.uid(uid)).put(\"name\", name);\n                getUserOps(operations, KeyUtils.uid(uid)).put(\"pass\", password);\n                getValueOps(operations).set(KeyUtils.user(name), uid);\n                getUserList(operations, KeyUtils.users()).leftPush(name);\n                operations.exec();\n                return null;\n            }\n        });\n        return addAuth(name);\n    }\n    private ValueOperations&lt;String, String&gt; getValueOps(RedisOperations operations) {\n        return operations.opsForValue();\n    }\n    private BoundHashOperations&lt;String, String, String&gt; getUserOps(RedisOperations operations, String key) {\n        return operations.boundHashOps(key);\n    }\n    private BoundListOperations&lt;String, String&gt; getUserList(RedisOperations operations, String key) {\n        return operations.boundListOps(key);\n    }\n</code></pre>\n\n<p>Please tell whether this way of using <code>MULTI</code>, <code>EXEC</code> is recommended or not.</p>\n"},{"tags":["java","android","firebase-realtime-database","searchview"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1657633410,"post_id":72953222,"comment_id":128853538,"body_markdown":"&quot;Questions seeking debugging help (&#39;**why isn&#39;t this code working?**&#39;) must include the desired behavior, a *specific problem or error* and *the shortest code necessary* to reproduce it **in the question itself**. Questions without **a clear problem statement** are not useful to other readers. See: [How to create a Minimal, Complete, and Verifiable example.](http://stackoverflow.com/help/mcve)&quot;","body":"&quot;Questions seeking debugging help (&#39;<b>why isn&#39;t this code working?</b>&#39;) must include the desired behavior, a <i>specific problem or error</i> and <i>the shortest code necessary</i> to reproduce it <b>in the question itself</b>. Questions without <b>a clear problem statement</b> are not useful to other readers. See: <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example.</a>&quot;"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1657636879,"post_id":72953222,"comment_id":128854918,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":25790640,"reputation":1,"user_id":19534767,"display_name":"quier ou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657641443,"creation_date":1657632961,"question_id":72953222,"body_markdown":"My search function is an exact copy of these videos (the first link has a gDrive source code in its description):\r\n\r\n - [How to search in Firebase database Android][1]  ([Google Drive code](https://drive.google.com/file/d/1oB_9ljVSfoLkuUGwgDqIYsporzU5BkWy/view))\r\n - [3. How to Search in Firebase Database in Android][2]\r\n\r\nProblem :\r\nrecycleView gives out no item after using searchView, the code should have worked since there is 2 videos about it. However, even by downloading their source code I couldn&#39;t get it to work.\r\n\r\nhttps://stackoverflow.com/questions/66250023/all-itmes-disappear-when-try-use-searchview-in-recyclerview\r\n\r\nI think my issue is similar enough to this, however I don&#39;t really understand how it would work on my project since my adapter is different than their adapter (mine is pretty much a clone from the videos, doesn&#39;t use list).\r\n\r\nif possible please try to fix the issue by referencing the first video source code.\r\n\r\nMain Activity :\r\n```java\r\n\r\n    public class MainActivity extends AppCompatActivity\r\n    {\r\n       RecyclerView recview;\r\n       myadapter adapter;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            setTitle(&quot;&quot;);\r\n    \r\n            recview=(RecyclerView)findViewById(R.id.recview);\r\n            recview.setLayoutManager(new LinearLayoutManager(this));\r\n    \r\n            FirebaseRecyclerOptions&lt;model&gt; options =\r\n                    new FirebaseRecyclerOptions.Builder&lt;model&gt;()\r\n                            .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;students&quot;), model.class)\r\n                            .build();\r\n    \r\n            adapter=new myadapter(options);\r\n            recview.setAdapter(adapter);\r\n        }\r\n    \r\n        @Override\r\n        protected void onStart() {\r\n            super.onStart();\r\n            adapter.startListening();\r\n        }\r\n    \r\n        @Override\r\n        protected void onStop() {\r\n            super.onStop();\r\n            adapter.stopListening();\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu)\r\n        {\r\n             getMenuInflater().inflate(R.menu.searchmenu,menu);\r\n    \r\n             MenuItem item=menu.findItem(R.id.search);\r\n    \r\n             SearchView searchView=(SearchView)item.getActionView();\r\n    \r\n             searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n                 @Override\r\n                 public boolean onQueryTextSubmit(String s) {\r\n                     processsearch(s);\r\n                     return false;\r\n                 }\r\n    \r\n                 @Override\r\n                 public boolean onQueryTextChange(String s) {\r\n                     processsearch(s);\r\n                     return false;\r\n                 }\r\n             });\r\n    \r\n            return super.onCreateOptionsMenu(menu);\r\n        }\r\n    \r\n        private void processsearch(String s)\r\n        {\r\n            FirebaseRecyclerOptions&lt;model&gt; options =\r\n                    new FirebaseRecyclerOptions.Builder&lt;model&gt;()\r\n                            .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;students&quot;).orderByChild(&quot;course&quot;).startAt(s).endAt(s+&quot;\\uf8ff&quot;), model.class)\r\n                            .build();\r\n    \r\n            adapter=new myadapter(options);\r\n            adapter.startListening();\r\n            recview.setAdapter(adapter);\r\n    \r\n        }\r\n    }\r\n\r\n```\r\n\r\nAdapter :\r\n```java\r\n\r\n    public class myadapter extends FirebaseRecyclerAdapter&lt;model,myadapter.myviewholder&gt;\r\n    {\r\n        public myadapter(@NonNull FirebaseRecyclerOptions&lt;model&gt; options) {\r\n            super(options);\r\n        }\r\n    \r\n        @Override\r\n        protected void onBindViewHolder(@NonNull myviewholder holder, int position, @NonNull model model)\r\n        {\r\n           holder.name.setText(model.getName());\r\n           holder.course.setText(model.getCourse());\r\n           holder.email.setText(model.getEmail());\r\n           Glide.with(holder.img.getContext()).load(model.getPurl()).into(holder.img);\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public myviewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)\r\n        {\r\n           View view= LayoutInflater.from(parent.getContext()).inflate(R.layout.singlerow,parent,false);\r\n           return new myviewholder(view);\r\n        }\r\n    \r\n    \r\n        class myviewholder extends RecyclerView.ViewHolder\r\n        {\r\n            CircleImageView img;\r\n            TextView name,course,email;\r\n            public myviewholder(@NonNull View itemView)\r\n            {\r\n                super(itemView);\r\n                img=(CircleImageView)itemView.findViewById(R.id.img1);\r\n                name=(TextView)itemView.findViewById(R.id.nametext);\r\n                course=(TextView)itemView.findViewById(R.id.coursetext);\r\n                email=(TextView)itemView.findViewById(R.id.emailtext);\r\n            }\r\n        }\r\n    }\r\n\r\n```\r\n  [1]: https://www.youtube.com/watch?v=Pr4Jz5Lc5pM\r\n  [2]: https://www.youtube.com/watch?v=LOntdh36lZY","title":"Searching makes my RecycleView disappear, already used EditText and SearchView","body":"<p>My search function is an exact copy of these videos (the first link has a gDrive source code in its description):</p>\n<ul>\n<li><a href=\"https://www.youtube.com/watch?v=Pr4Jz5Lc5pM\" rel=\"nofollow noreferrer\">How to search in Firebase database Android</a>  (<a href=\"https://drive.google.com/file/d/1oB_9ljVSfoLkuUGwgDqIYsporzU5BkWy/view\" rel=\"nofollow noreferrer\">Google Drive code</a>)</li>\n<li><a href=\"https://www.youtube.com/watch?v=LOntdh36lZY\" rel=\"nofollow noreferrer\">3. How to Search in Firebase Database in Android</a></li>\n</ul>\n<p>Problem :\nrecycleView gives out no item after using searchView, the code should have worked since there is 2 videos about it. However, even by downloading their source code I couldn't get it to work.</p>\n<p><a href=\"https://stackoverflow.com/questions/66250023/all-itmes-disappear-when-try-use-searchview-in-recyclerview\">All itmes disappear when try use searchview in recyclerview?</a></p>\n<p>I think my issue is similar enough to this, however I don't really understand how it would work on my project since my adapter is different than their adapter (mine is pretty much a clone from the videos, doesn't use list).</p>\n<p>if possible please try to fix the issue by referencing the first video source code.</p>\n<p>Main Activity :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    public class MainActivity extends AppCompatActivity\n    {\n       RecyclerView recview;\n       myadapter adapter;\n    \n    \n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n            setTitle(&quot;&quot;);\n    \n            recview=(RecyclerView)findViewById(R.id.recview);\n            recview.setLayoutManager(new LinearLayoutManager(this));\n    \n            FirebaseRecyclerOptions&lt;model&gt; options =\n                    new FirebaseRecyclerOptions.Builder&lt;model&gt;()\n                            .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;students&quot;), model.class)\n                            .build();\n    \n            adapter=new myadapter(options);\n            recview.setAdapter(adapter);\n        }\n    \n        @Override\n        protected void onStart() {\n            super.onStart();\n            adapter.startListening();\n        }\n    \n        @Override\n        protected void onStop() {\n            super.onStop();\n            adapter.stopListening();\n        }\n    \n    \n        @Override\n        public boolean onCreateOptionsMenu(Menu menu)\n        {\n             getMenuInflater().inflate(R.menu.searchmenu,menu);\n    \n             MenuItem item=menu.findItem(R.id.search);\n    \n             SearchView searchView=(SearchView)item.getActionView();\n    \n             searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n                 @Override\n                 public boolean onQueryTextSubmit(String s) {\n                     processsearch(s);\n                     return false;\n                 }\n    \n                 @Override\n                 public boolean onQueryTextChange(String s) {\n                     processsearch(s);\n                     return false;\n                 }\n             });\n    \n            return super.onCreateOptionsMenu(menu);\n        }\n    \n        private void processsearch(String s)\n        {\n            FirebaseRecyclerOptions&lt;model&gt; options =\n                    new FirebaseRecyclerOptions.Builder&lt;model&gt;()\n                            .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;students&quot;).orderByChild(&quot;course&quot;).startAt(s).endAt(s+&quot;\\uf8ff&quot;), model.class)\n                            .build();\n    \n            adapter=new myadapter(options);\n            adapter.startListening();\n            recview.setAdapter(adapter);\n    \n        }\n    }\n\n</code></pre>\n<p>Adapter :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    public class myadapter extends FirebaseRecyclerAdapter&lt;model,myadapter.myviewholder&gt;\n    {\n        public myadapter(@NonNull FirebaseRecyclerOptions&lt;model&gt; options) {\n            super(options);\n        }\n    \n        @Override\n        protected void onBindViewHolder(@NonNull myviewholder holder, int position, @NonNull model model)\n        {\n           holder.name.setText(model.getName());\n           holder.course.setText(model.getCourse());\n           holder.email.setText(model.getEmail());\n           Glide.with(holder.img.getContext()).load(model.getPurl()).into(holder.img);\n        }\n    \n        @NonNull\n        @Override\n        public myviewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)\n        {\n           View view= LayoutInflater.from(parent.getContext()).inflate(R.layout.singlerow,parent,false);\n           return new myviewholder(view);\n        }\n    \n    \n        class myviewholder extends RecyclerView.ViewHolder\n        {\n            CircleImageView img;\n            TextView name,course,email;\n            public myviewholder(@NonNull View itemView)\n            {\n                super(itemView);\n                img=(CircleImageView)itemView.findViewById(R.id.img1);\n                name=(TextView)itemView.findViewById(R.id.nametext);\n                course=(TextView)itemView.findViewById(R.id.coursetext);\n                email=(TextView)itemView.findViewById(R.id.emailtext);\n            }\n        }\n    }\n\n</code></pre>\n"},{"tags":["java","jtable","project"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1657641370,"post_id":72955084,"comment_id":128856631,"body_markdown":"Iterate through existing cells and test if they contain rows you&#39;re attempting to add","body":"Iterate through existing cells and test if they contain rows you&#39;re attempting to add"},{"owner":{"account_id":25791801,"reputation":1,"user_id":19535742,"display_name":"Ryukendo"},"score":0,"creation_date":1657641592,"post_id":72955084,"comment_id":128856713,"body_markdown":"I&#39;ve tried looping them but i am maybe doing wrong. Can you help me?","body":"I&#39;ve tried looping them but i am maybe doing wrong. Can you help me?"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":2,"creation_date":1657641609,"post_id":72955084,"comment_id":128856719,"body_markdown":"Show what you have tried","body":"Show what you have tried"},{"owner":{"account_id":25791801,"reputation":1,"user_id":19535742,"display_name":"Ryukendo"},"score":0,"creation_date":1657642998,"post_id":72955084,"comment_id":128857191,"body_markdown":"i ran a while loop to end of table like and then compared the strings. i can&#39;t do it. Can you tell me?","body":"i ran a while loop to end of table like and then compared the strings. i can&#39;t do it. Can you tell me?"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1657643230,"post_id":72955084,"comment_id":128857258,"body_markdown":"Try keeping a static array with all the data added. You can go through the array to see if there are duplicates before adding to the table.","body":"Try keeping a static array with all the data added. You can go through the array to see if there are duplicates before adding to the table."},{"owner":{"account_id":25791801,"reputation":1,"user_id":19535742,"display_name":"Ryukendo"},"score":0,"creation_date":1657644097,"post_id":72955084,"comment_id":128857594,"body_markdown":"@Alias but how? can you just show me the syntax? I&#39;m sorry for bothering but its just I&#39;m new to java...","body":"@Alias but how? can you just show me the syntax? I&#39;m sorry for bothering but its just I&#39;m new to java..."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1657647664,"post_id":72955084,"comment_id":128858823,"body_markdown":"@AliasCartellano, the TableModel already holds all the data. There is no need to duplicate the data by also holding it in an Array.","body":"@AliasCartellano, the TableModel already holds all the data. There is no need to duplicate the data by also holding it in an Array."},{"owner":{"account_id":25791801,"reputation":1,"user_id":19535742,"display_name":"Ryukendo"},"score":0,"creation_date":1657648112,"post_id":72955084,"comment_id":128858962,"body_markdown":"so what&#39;s the solution, do you know? @camickr","body":"so what&#39;s the solution, do you know? @camickr"},{"owner":{"account_id":25791801,"reputation":1,"user_id":19535742,"display_name":"Ryukendo"},"score":0,"creation_date":1657716272,"post_id":72955084,"comment_id":128875930,"body_markdown":"Anyone knows anything...??","body":"Anyone knows anything...??"}],"owner":{"account_id":25791801,"reputation":1,"user_id":19535742,"display_name":"Ryukendo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657641161,"creation_date":1657641010,"question_id":72955084,"body_markdown":"```java\r\nprivate void jButton4ActionPerformed(java.awt.event.ActionEvent evt) /Button Click/\r\n {                                         \r\n        \r\n\r\n        DefaultTableModel dt=(DefaultTableModel) jTable1.getModel();  /Table Model /\r\n\r\n        String tn=jname.getSelectedItem().toString();\r\n        String jf=jfrom.getSelectedItem().toString();\r\n        String jt=jto.getSelectedItem().toString();\r\n        String jm=jtime.getText();\r\n        \r\n         String Data[]={tn,jf,jt,jm};                  \r\n         dt.addRow(Data);\r\n}\r\n```\r\n\r\nThis is my code for pressing ADD Button.\r\nwhen i press add the duplicate values are also added in new row.\r\ni want only new values to be stored in new row and want to show the error if the same values are inputted.\r\n\r\nCan someone kindly help me with this? will there be a loop or some function?\r\nPlease Help!\r\n\r\n\r\n\r\n\r\n","title":"How to stop adding duplicate rows in java JTable?","body":"<pre class=\"lang-java prettyprint-override\"><code>private void jButton4ActionPerformed(java.awt.event.ActionEvent evt) /Button Click/\n {                                         \n        \n\n        DefaultTableModel dt=(DefaultTableModel) jTable1.getModel();  /Table Model /\n\n        String tn=jname.getSelectedItem().toString();\n        String jf=jfrom.getSelectedItem().toString();\n        String jt=jto.getSelectedItem().toString();\n        String jm=jtime.getText();\n        \n         String Data[]={tn,jf,jt,jm};                  \n         dt.addRow(Data);\n}\n</code></pre>\n<p>This is my code for pressing ADD Button.\nwhen i press add the duplicate values are also added in new row.\ni want only new values to be stored in new row and want to show the error if the same values are inputted.</p>\n<p>Can someone kindly help me with this? will there be a loop or some function?\nPlease Help!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8800,"page":1192,"page_size":100}
