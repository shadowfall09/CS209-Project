{"items":[{"tags":["java","spring-boot","enums","spring-bean","method-reference"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1660952603,"post_id":73422396,"comment_id":129663113,"body_markdown":"@user16320675 This discussion seem to be fruitless, we both know the topic. I don&#39;t recall that anywhere in [**JLS**](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.13) anywhere in the left part of the *method reference* has been referred as an *argument*. Firstly, it might create a confusion with *type arguments* which can be provided in square brackets `&lt;Type&gt;` in front of the right part.","body":"@user16320675 This discussion seem to be fruitless, we both know the topic. I don&#39;t recall that anywhere in <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.13\" rel=\"nofollow noreferrer\"><b>JLS</b></a> anywhere in the left part of the <i>method reference</i> has been referred as an <i>argument</i>. Firstly, it might create a confusion with <i>type arguments</i> which can be provided in square brackets <code>&lt;Type&gt;</code> in front of the right part."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1660952619,"post_id":73422396,"comment_id":129663119,"body_markdown":"@user16320675 Secondly, even we decide to call it argument it doesn&#39;t seem to intuitive to mix it with arguments of the Functional interface, since they should be provided at different stages, declaration of the *method reference* and *method reference* is being used. Does it make sense?","body":"@user16320675 Secondly, even we decide to call it argument it doesn&#39;t seem to intuitive to mix it with arguments of the Functional interface, since they should be provided at different stages, declaration of the <i>method reference</i> and <i>method reference</i> is being used. Does it make sense?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660956313,"creation_date":1660945159,"answer_id":73422493,"question_id":73422396,"body_markdown":"You either have to provide an instance of `Foo` or make method `doAction()` to be `static`, otherwise you can&#39;t access it. Precisely as the error message tells you.\r\n\r\nSo you have two options:\r\n* Provide an instance (for instance via constructor of enum), which judging by the signature of `doAction()` seem to be unnecessary because there&#39;s nothing that points that this method depends somehow on the state of `Foo` instance (unless you&#39;re not going to use some properties of `Foo` in the body of the method which is omitted).\r\n* Add a `static` modifier to the declaration of `doAction()`.\r\n\r\nThe later fix is trivial, here&#39;s a way to apply the first one:\r\n\r\n    private enum MyEnum {\r\n        TGD410(new Foo()); // instance of Foo is provided while initializing enum-member\r\n        \r\n        private MyLambda myLambda;\r\n        \r\n        MyEnum(Foo foo) {\r\n            this.myLambda = foo::doAction;\r\n        }\r\n        \r\n        public void execute(String str1, String str2) {\r\n            myLambda.apply(str1, str2);\r\n        }\r\n    }\r\n_________________________\r\n\r\n&lt;h1&gt;Update&lt;/h1&gt;\r\n\r\nSince clarification that `Foo` is actually a **Bean** in the **Spring Context** changes the question drastically, the answer requires an addition.\r\n\r\nIn not possible to inject `Foo` into the enum directly. There&#39;s a dirty and convoluted workaround with a *static nested class* annotated with `@Component`, having a method annotated with `@PostConstruct` responsible for initialization of the enum-constants (for more detail see [*this question*](https://stackoverflow.com/questions/16318454/inject-bean-into-enum)).\r\n\r\nFrom the perspective of clean coding, it&#39;s better to keep enums free from heavy logic and avoid making them dependent on the state of other objects.\r\n\r\nI&#39;m still suggesting making referenced behavior static, if it&#39;s not feasible, here&#39;s another option on how to avoid tight dependency between enum-members and `Foo`. We can achieve it by introducing an intermediate map `Map&lt;MyEnum,MyLambda&gt;` and extracting the method `execute()` outside of the enum:\r\n\r\n```\r\n@Component\r\npublic class Foo {\r\n    \r\n    private enum MyEnum {\r\n        TGD410\r\n    }\r\n    \r\n    private final Map&lt;MyEnum, MyLambda&gt; enumToLambda = Map.of(\r\n        MyEnum.TGD410, this::doAction\r\n    );\r\n    \r\n    public void execute(MyEnum myEnum, String str1, String str2) {\r\n        enumToLambda.get(myEnum).apply(str1, str2);\r\n    }\r\n    \r\n    public void doAction(String str1, String str2) {\r\n    \r\n    }\r\n    \r\n    @FunctionalInterface\r\n    public interface MyLambda{\r\n        void apply(String str1, String str2);\r\n    }\r\n}\r\n```","title":"How to call lambda from Enum constructor","body":"<p>You either have to provide an instance of <code>Foo</code> or make method <code>doAction()</code> to be <code>static</code>, otherwise you can't access it. Precisely as the error message tells you.</p>\n<p>So you have two options:</p>\n<ul>\n<li>Provide an instance (for instance via constructor of enum), which judging by the signature of <code>doAction()</code> seem to be unnecessary because there's nothing that points that this method depends somehow on the state of <code>Foo</code> instance (unless you're not going to use some properties of <code>Foo</code> in the body of the method which is omitted).</li>\n<li>Add a <code>static</code> modifier to the declaration of <code>doAction()</code>.</li>\n</ul>\n<p>The later fix is trivial, here's a way to apply the first one:</p>\n<pre><code>private enum MyEnum {\n    TGD410(new Foo()); // instance of Foo is provided while initializing enum-member\n    \n    private MyLambda myLambda;\n    \n    MyEnum(Foo foo) {\n        this.myLambda = foo::doAction;\n    }\n    \n    public void execute(String str1, String str2) {\n        myLambda.apply(str1, str2);\n    }\n}\n</code></pre>\n<hr />\n<h1>Update</h1>\n<p>Since clarification that <code>Foo</code> is actually a <strong>Bean</strong> in the <strong>Spring Context</strong> changes the question drastically, the answer requires an addition.</p>\n<p>In not possible to inject <code>Foo</code> into the enum directly. There's a dirty and convoluted workaround with a <em>static nested class</em> annotated with <code>@Component</code>, having a method annotated with <code>@PostConstruct</code> responsible for initialization of the enum-constants (for more detail see <a href=\"https://stackoverflow.com/questions/16318454/inject-bean-into-enum\"><em>this question</em></a>).</p>\n<p>From the perspective of clean coding, it's better to keep enums free from heavy logic and avoid making them dependent on the state of other objects.</p>\n<p>I'm still suggesting making referenced behavior static, if it's not feasible, here's another option on how to avoid tight dependency between enum-members and <code>Foo</code>. We can achieve it by introducing an intermediate map <code>Map&lt;MyEnum,MyLambda&gt;</code> and extracting the method <code>execute()</code> outside of the enum:</p>\n<pre><code>@Component\npublic class Foo {\n    \n    private enum MyEnum {\n        TGD410\n    }\n    \n    private final Map&lt;MyEnum, MyLambda&gt; enumToLambda = Map.of(\n        MyEnum.TGD410, this::doAction\n    );\n    \n    public void execute(MyEnum myEnum, String str1, String str2) {\n        enumToLambda.get(myEnum).apply(str1, str2);\n    }\n    \n    public void doAction(String str1, String str2) {\n    \n    }\n    \n    @FunctionalInterface\n    public interface MyLambda{\n        void apply(String str1, String str2);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1660981231,"creation_date":1660944329,"question_id":73422396,"body_markdown":"I&#39;m trying to set up a enum where each Enum value has a custom method to be called.  However, it tells me that the method must be static.  Is there a way to reference a non-static method?\r\n\r\nMy code looks like this\r\n\r\n```\r\npublic class Foo {\r\n\r\n    private enum MyEnum {\r\n        TGD410(Foo::doAction);\r\n\r\n        private MyLambda myLambda;\r\n\r\n        MyEnum(MyLambda myLambda) {\r\n            this.myLambda = myLambda;\r\n        }\r\n\r\n        public void execute(String str1, String str2) {\r\n            myLambda.apply(str1, str2);\r\n\r\n        }\r\n    }\r\n\r\n    public void doAction(String str1, String str2) {\r\n\r\n    }\r\n\r\n    @FunctionalInterface\r\n    public interface MyLambda{\r\n        void apply(String str1, String str2);\r\n    }\r\n}\r\n\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EM6qo.png\r\n\r\n\r\nIs there some other way to do what I want to do?  I think I need to pass in a reference to the Foo object, but not sure how to specify that, since `this` refers to the Enum\r\n\r\n## Update\r\nUpdating to clarify that I&#39;m using Springboot.  Foo is a bean.  The method in questions uses some other injected values, which is why it can&#39;t be static.\r\n\r\nI&#39;m considering just not using a Lambda and instead putting my method in another POJO (which implements some common interface), which *can* be instantiated","title":"How to call lambda from Enum constructor","body":"<p>I'm trying to set up a enum where each Enum value has a custom method to be called.  However, it tells me that the method must be static.  Is there a way to reference a non-static method?</p>\n<p>My code looks like this</p>\n<pre><code>public class Foo {\n\n    private enum MyEnum {\n        TGD410(Foo::doAction);\n\n        private MyLambda myLambda;\n\n        MyEnum(MyLambda myLambda) {\n            this.myLambda = myLambda;\n        }\n\n        public void execute(String str1, String str2) {\n            myLambda.apply(str1, str2);\n\n        }\n    }\n\n    public void doAction(String str1, String str2) {\n\n    }\n\n    @FunctionalInterface\n    public interface MyLambda{\n        void apply(String str1, String str2);\n    }\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/EM6qo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EM6qo.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there some other way to do what I want to do?  I think I need to pass in a reference to the Foo object, but not sure how to specify that, since <code>this</code> refers to the Enum</p>\n<h2>Update</h2>\n<p>Updating to clarify that I'm using Springboot.  Foo is a bean.  The method in questions uses some other injected values, which is why it can't be static.</p>\n<p>I'm considering just not using a Lambda and instead putting my method in another POJO (which implements some common interface), which <em>can</em> be instantiated</p>\n"},{"tags":["java","python","pycharm","jvm"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1595962459,"post_id":63140920,"comment_id":111654285,"body_markdown":"What&#39;s the full path of your IntelliJ is installed? Copy and paste the text -- don&#39;t post pictures.","body":"What&#39;s the full path of your IntelliJ is installed? Copy and paste the text -- don&#39;t post pictures."}],"answers":[{"tags":[],"owner":{"account_id":11215277,"reputation":1139,"user_id":8228122,"display_name":"Luke B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595962459,"creation_date":1595962459,"answer_id":63140983,"question_id":63140920,"body_markdown":"Inside your installation folder of PyCharm, you are probably missing the `idea.properties` file. I tried moving mine and I got the same error as you.\r\n\r\nThe path to the file was `C:\\Program Files\\JetBrains\\PyCharm 2020.1.4\\bin` for me.","title":"Pycharm - Internal Startup issue -java.lang.RuntimeException: Could not find installation home path","body":"<p>Inside your installation folder of PyCharm, you are probably missing the <code>idea.properties</code> file. I tried moving mine and I got the same error as you.</p>\n<p>The path to the file was <code>C:\\Program Files\\JetBrains\\PyCharm 2020.1.4\\bin</code> for me.</p>\n"},{"tags":[],"owner":{"account_id":12246186,"reputation":264,"user_id":8937772,"display_name":"Mehrdad Masoumi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660979930,"creation_date":1660979930,"answer_id":73424786,"question_id":63140920,"body_markdown":"The reason for this problem is a conflict between more than one product of Jetbrains. Please create a simple &quot;idea.properties&quot; file in the bin directory. If the problem not solved copy file from PHPstorm bin directory","title":"Pycharm - Internal Startup issue -java.lang.RuntimeException: Could not find installation home path","body":"<p>The reason for this problem is a conflict between more than one product of Jetbrains. Please create a simple &quot;idea.properties&quot; file in the bin directory. If the problem not solved copy file from PHPstorm bin directory</p>\n"}],"owner":{"account_id":8771794,"reputation":331,"user_id":6558340,"display_name":"Yugendhar Anveshra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3230,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1660979930,"creation_date":1595962196,"question_id":63140920,"body_markdown":"Internal Startup issue -java.lang.RuntimeException: Could not find installation home path . Please make sure bin/idea.properties is present in the installation directory\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nJ0dv.png\r\n\r\n\r\nI have path and java_home variables setup\r\n**Java_home** points to ** C:\\Program Files\\Java\\jdk1.8.0_251\\ **\r\n\r\n","title":"Pycharm - Internal Startup issue -java.lang.RuntimeException: Could not find installation home path","body":"<p>Internal Startup issue -java.lang.RuntimeException: Could not find installation home path . Please make sure bin/idea.properties is present in the installation directory</p>\n<p><a href=\"https://i.stack.imgur.com/nJ0dv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nJ0dv.png\" alt=\"enter image description here\" /></a></p>\n<p>I have path and java_home variables setup\n<strong>Java_home</strong> points to ** C:\\Program Files\\Java\\jdk1.8.0_251\\ **</p>\n"},{"tags":["java","android","gradle","flutter-test"],"comments":[{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":0,"creation_date":1660946426,"post_id":73420398,"comment_id":129662080,"body_markdown":"you&#39;re missing &quot;\\&quot; after &quot;C:\\&quot; , It should be &quot;C:\\\\&quot; with the escape character.","body":"you&#39;re missing &quot;\\&quot; after &quot;C:\\&quot; , It should be &quot;C:\\\\&quot; with the escape character."}],"answers":[{"tags":[],"owner":{"account_id":20870509,"reputation":49,"user_id":15330587,"display_name":"Shubham Chakraborty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660979429,"creation_date":1660979429,"answer_id":73424749,"question_id":73420398,"body_markdown":"Uninstall the JDK and then reinstall JDK from the below mentioned site.\r\n\r\n`https://www.oracle.com/java/technologies/downloads/`\r\n\r\nOr\r\n\r\n    click on File -&gt; click on Project Structure\r\n\r\n    [![[1]: https://i.stack.imgur.com/97fbe.png][1]][1]\r\n\r\n     -&gt; click on SDK Location\r\n\r\n    [![[1]: https://i.stack.imgur.com/YbBNQ.png][1]][1]\r\n\r\n     -&gt; click on Gradle JDK and select the JDK\r\n\r\n    [![[1]: https://i.stack.imgur.com/cvnuK.png][1]][1]\r\n\r\n  ","title":"Value &#39;C:Program Files\\Java\\jdk-17.0.2&#39; given for org.gradle.java.home Gradle property is invalid (Java home supplied is invalid)","body":"<p>Uninstall the JDK and then reinstall JDK from the below mentioned site.</p>\n<p><code>https://www.oracle.com/java/technologies/downloads/</code></p>\n<p>Or</p>\n<pre><code>click on File -&gt; click on Project Structure\n\n[![[1]: https://i.stack.imgur.com/97fbe.png][1]][1]\n\n -&gt; click on SDK Location\n\n[![[1]: https://i.stack.imgur.com/YbBNQ.png][1]][1]\n\n -&gt; click on Gradle JDK and select the JDK\n\n[![[1]: https://i.stack.imgur.com/cvnuK.png][1]][1]\n</code></pre>\n"}],"owner":{"account_id":26109901,"reputation":3,"user_id":19804006,"display_name":"Ankit Laller"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":538,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1660979429,"creation_date":1660930560,"question_id":73420398,"body_markdown":"```\r\norg.gradle.jvmargs=-Xmx1536M\r\nandroid.useAndroidX=true\r\nandroid.enableJetifier=true\r\norg.gradle.java.home=C:\\Program Files\\\\Java\\\\jdk-17.0.2\r\n```\r\n","title":"Value &#39;C:Program Files\\Java\\jdk-17.0.2&#39; given for org.gradle.java.home Gradle property is invalid (Java home supplied is invalid)","body":"<pre><code>org.gradle.jvmargs=-Xmx1536M\nandroid.useAndroidX=true\nandroid.enableJetifier=true\norg.gradle.java.home=C:\\Program Files\\\\Java\\\\jdk-17.0.2\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1932818,"reputation":46083,"user_id":1741864,"display_name":"sampson-chen"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1353864178,"creation_date":1353861285,"answer_id":13553026,"question_id":13553009,"body_markdown":"**Update:** \r\n\r\n- As Maxim pointed out, using [HashMap][1] would be a more appropriate choice than [Hashtable][2] here.\r\n- The assumption here is that you are not concerned with concurrency. If synchronized access is needed, use [ConcurrentHashMap][3] instead.\r\n\r\n&lt;hr&gt;\r\n\r\nYou can use a [HashMap][4] to count the occurrences of each unique element in your double array, and that would:\r\n\r\n- Run in linear **O(n)** time, and \r\n- Require **O(n)** space\r\n\r\n**Psuedo code** would be something like this:\r\n\r\n- Iterate through all of the elements of your array once: **O(n)**\r\n  - For each element visited, check to see if its key already exists in the HashMap: **O(1), amortized**\r\n    - If it does not (first time seeing this element), then add it to your HashMap as [key: this element, value: 1]. **O(1)**\r\n    - If it does exist, then increment the value corresponding to the key by 1. **O(1), amortized**\r\n- Having finished building your HashMap, iterate through the map and find the key with the highest associated value - and that&#39;s the element with the highest occurrence. **O(n)**\r\n\r\n**A partial code solution** to give you an idea how to use HashMap:\r\n\r\n    import java.util.HashMap;\r\n    ...\r\n    \r\n        HashMap hm = new HashMap();\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            Double key = new Double(array[i]);\r\n            if ( hm.containsKey(key) ) {\r\n                value = hm.get(key);\r\n                hm.put(key, value + 1);\r\n            } else {\r\n                hm.put(key, 1);\r\n            }\r\n        }\r\n\r\nI&#39;ll leave as an exercise for how to iterate through the HashMap afterwards to find the key with the highest value; but if you get stuck, just add another comment and I&#39;ll get you more hints =)\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html\r\n  [2]: http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Hashtable.html\r\n  [3]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/ConcurrentHashMap.html\r\n  [4]: http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html","title":"Find the element with highest occurrences in an array [java]","body":"<p><strong>Update:</strong> </p>\n\n<ul>\n<li>As Maxim pointed out, using <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html\" rel=\"noreferrer\">HashMap</a> would be a more appropriate choice than <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Hashtable.html\" rel=\"noreferrer\">Hashtable</a> here.</li>\n<li>The assumption here is that you are not concerned with concurrency. If synchronized access is needed, use <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"noreferrer\">ConcurrentHashMap</a> instead.</li>\n</ul>\n\n<hr>\n\n<p>You can use a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html\" rel=\"noreferrer\">HashMap</a> to count the occurrences of each unique element in your double array, and that would:</p>\n\n<ul>\n<li>Run in linear <strong>O(n)</strong> time, and </li>\n<li>Require <strong>O(n)</strong> space</li>\n</ul>\n\n<p><strong>Psuedo code</strong> would be something like this:</p>\n\n<ul>\n<li>Iterate through all of the elements of your array once: <strong>O(n)</strong>\n<ul>\n<li>For each element visited, check to see if its key already exists in the HashMap: <strong>O(1), amortized</strong></li>\n<li>If it does not (first time seeing this element), then add it to your HashMap as [key: this element, value: 1]. <strong>O(1)</strong></li>\n<li>If it does exist, then increment the value corresponding to the key by 1. <strong>O(1), amortized</strong></li>\n</ul></li>\n<li>Having finished building your HashMap, iterate through the map and find the key with the highest associated value - and that's the element with the highest occurrence. <strong>O(n)</strong></li>\n</ul>\n\n<p><strong>A partial code solution</strong> to give you an idea how to use HashMap:</p>\n\n<pre><code>import java.util.HashMap;\n...\n\n    HashMap hm = new HashMap();\n    for (int i = 0; i &lt; array.length; i++) {\n        Double key = new Double(array[i]);\n        if ( hm.containsKey(key) ) {\n            value = hm.get(key);\n            hm.put(key, value + 1);\n        } else {\n            hm.put(key, 1);\n        }\n    }\n</code></pre>\n\n<p>I'll leave as an exercise for how to iterate through the HashMap afterwards to find the key with the highest value; but if you get stuck, just add another comment and I'll get you more hints =)</p>\n"},{"tags":[],"owner":{"account_id":1790949,"reputation":77601,"user_id":1631379,"accept_rate":80,"display_name":"Maxim Shoustin"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1353862522,"creation_date":1353861737,"answer_id":13553089,"question_id":13553009,"body_markdown":"Use `Collections.frequency` option:\r\n\r\n     List&lt;String&gt; list = Arrays.asList(&quot;1&quot;, &quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;5&quot;,&quot;5&quot;,&quot;12&quot;,&quot;12&quot;,&quot;12&quot;,&quot;12&quot;,&quot;12&quot;,&quot;12&quot;,&quot;12&quot;,&quot;12&quot;,&quot;12&quot;,&quot;12&quot;,&quot;8&quot;);\r\n\t\t  int max = 0;\r\n\t\t  int curr = 0;\r\n\t\t  String currKey =  null;\r\n\t\t  Set&lt;String&gt; unique = new HashSet&lt;String&gt;(list);\r\n\r\n\t\t      for (String key : unique) {\r\n\t\t            curr = Collections.frequency(list, key);\r\n\r\n\t\t           if(max &lt; curr){\r\n\t\t             max = curr;\r\n\t\t             currKey = key;\r\n\t\t            }\r\n\t\t        }\r\n\t\t      \r\n\t\t      System.out.println(&quot;The number &quot;  + currKey + &quot; happens &quot; + max + &quot; times&quot;);\r\n\r\nOutput:\r\n\r\n`The number 12 happens 10 times`","title":"Find the element with highest occurrences in an array [java]","body":"<p>Use <code>Collections.frequency</code> option:</p>\n\n<pre><code> List&lt;String&gt; list = Arrays.asList(\"1\", \"1\",\"1\",\"1\",\"1\",\"1\",\"5\",\"5\",\"12\",\"12\",\"12\",\"12\",\"12\",\"12\",\"12\",\"12\",\"12\",\"12\",\"8\");\n      int max = 0;\n      int curr = 0;\n      String currKey =  null;\n      Set&lt;String&gt; unique = new HashSet&lt;String&gt;(list);\n\n          for (String key : unique) {\n                curr = Collections.frequency(list, key);\n\n               if(max &lt; curr){\n                 max = curr;\n                 currKey = key;\n                }\n            }\n\n          System.out.println(\"The number \"  + currKey + \" happens \" + max + \" times\");\n</code></pre>\n\n<p>Output:</p>\n\n<p><code>The number 12 happens 10 times</code></p>\n"},{"tags":[],"owner":{"account_id":1910852,"reputation":19108,"user_id":1724702,"accept_rate":80,"display_name":"Sachin Joseph"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1353861829,"creation_date":1353861829,"answer_id":13553103,"question_id":13553009,"body_markdown":"I will suggest another method. I don&#39;t know if this would work faster or not.\r\n\r\nQuick sort the array. Use the built in Arrays.sort(&lt;arrayname&gt;) method.\r\n\r\nNow compare the adjacent elements. \r\nConsider this example:\r\n\r\n1 1 1 1 4 4 4 4 4 4 4 4 4 4 4 4 9 9 9 10 10 10 29 29 29 29 29 29\r\n\r\nWhen the adjacent elements are not equal, you can stop counting that element.","title":"Find the element with highest occurrences in an array [java]","body":"<p>I will suggest another method. I don't know if this would work faster or not.</p>\n\n<p>Quick sort the array. Use the built in Arrays.sort() method.</p>\n\n<p>Now compare the adjacent elements. \nConsider this example:</p>\n\n<p>1 1 1 1 4 4 4 4 4 4 4 4 4 4 4 4 9 9 9 10 10 10 29 29 29 29 29 29</p>\n\n<p>When the adjacent elements are not equal, you can stop counting that element.</p>\n"},{"tags":[],"owner":{"account_id":11304561,"reputation":11,"user_id":8289562,"display_name":"Tarun Jadhav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502199956,"creation_date":1499785560,"answer_id":45038280,"question_id":13553009,"body_markdown":"    public static void main(String[] args) {\r\n    \r\n       int n;\r\n    \r\n       int[] arr;\r\n    \r\n        Scanner in = new Scanner(System.in);\r\n        System.out.println(&quot;Enter Length of Array&quot;);\r\n        n = in.nextInt();\r\n        arr = new int[n];\r\n        System.out.println(&quot;Enter Elements in array&quot;); \r\n    \r\n        for (int i = 0; i &lt; n; i++) {\r\n            arr[i] = in.nextInt();\r\n        }\r\n    \r\n        int greatest = arr[0];\r\n    \r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            if (arr[i] &gt; greatest) {\r\n                greatest = arr[i];\r\n            }\r\n    \r\n        } \r\n    \r\n        System.out.println(&quot;Greatest Number &quot; + greatest);\r\n    \r\n        int count = 0;\r\n    \r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            if (greatest == arr[i]) {\r\n                count++;\r\n            }\r\n        }\r\n    \r\n        System.out.println(&quot;Number of Occurance of &quot; + greatest + &quot;:&quot; + count + &quot; times&quot;);\r\n    \r\n        in.close();\r\n    }","title":"Find the element with highest occurrences in an array [java]","body":"<pre><code>public static void main(String[] args) {\n\n   int n;\n\n   int[] arr;\n\n    Scanner in = new Scanner(System.in);\n    System.out.println(\"Enter Length of Array\");\n    n = in.nextInt();\n    arr = new int[n];\n    System.out.println(\"Enter Elements in array\"); \n\n    for (int i = 0; i &lt; n; i++) {\n        arr[i] = in.nextInt();\n    }\n\n    int greatest = arr[0];\n\n    for (int i = 0; i &lt; arr.length; i++) {\n        if (arr[i] &gt; greatest) {\n            greatest = arr[i];\n        }\n\n    } \n\n    System.out.println(\"Greatest Number \" + greatest);\n\n    int count = 0;\n\n    for (int i = 0; i &lt; arr.length; i++) {\n        if (greatest == arr[i]) {\n            count++;\n        }\n    }\n\n    System.out.println(\"Number of Occurance of \" + greatest + \":\" + count + \" times\");\n\n    in.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7813980,"reputation":7,"user_id":5909317,"display_name":"Ashish Jadhav"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1507264751,"creation_date":1507264751,"answer_id":46598382,"question_id":13553009,"body_markdown":"You can solve this problem in one loop with without using HashMap or any other data structure in O(1) space complexity.\r\n\r\nInitialize two variables count = 0 and max = 0 (or Integer.MIN_VALUE if you have negative numbers in your array)\r\n\r\nThe idea is you will scan through the array and check the current number,\r\n \r\n- if it is less than your current max...then do nothing\r\n- if it is equal to your max ...then increment the count variable\r\n- if it is greater than your max..then update max to current number and set count to 1\r\n\r\nCode:\r\n\r\n\r\n    int max = 0, count = 0;\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n        int num = array[i];\r\n        if (num == max) {\r\n            count++;\r\n        } else if (num &gt; max) {\r\n            max = num;\r\n            count = 1;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    ","title":"Find the element with highest occurrences in an array [java]","body":"<p>You can solve this problem in one loop with without using HashMap or any other data structure in O(1) space complexity.</p>\n\n<p>Initialize two variables count = 0 and max = 0 (or Integer.MIN_VALUE if you have negative numbers in your array)</p>\n\n<p>The idea is you will scan through the array and check the current number,</p>\n\n<ul>\n<li>if it is less than your current max...then do nothing</li>\n<li>if it is equal to your max ...then increment the count variable</li>\n<li>if it is greater than your max..then update max to current number and set count to 1</li>\n</ul>\n\n<p>Code:</p>\n\n<pre><code>int max = 0, count = 0;\nfor (int i = 0; i &lt; array.length; i++) {\n    int num = array[i];\n    if (num == max) {\n        count++;\n    } else if (num &gt; max) {\n        max = num;\n        count = 1;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1297214,"reputation":965,"user_id":1247963,"accept_rate":88,"display_name":"codechefvaibhavkashyap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509038637,"creation_date":1509038637,"answer_id":46960330,"question_id":13553009,"body_markdown":"In continuation to the pseudo-code what you&#39;ve written try the below written code:-\r\n\r\n    public static void fetchFrequency(int[] arry) {\r\n    \t\tMap&lt;Integer, Integer&gt; newMap = new TreeMap&lt;Integer, Integer&gt;(Collections.reverseOrder());\r\n    \t\tint num = 0;\r\n    \t\tint count = 0;\r\n    \t\tfor (int i = 0; i &lt; arry.length; i++) {\r\n    \t\t\tif (newMap.containsKey(arry[i])) {\r\n    \t\t\t\tcount = newMap.get(arry[i]);\r\n    \t\t\t\tnewMap.put(arry[i], ++count);\r\n    \t\t\t} else {\r\n    \t\t\t\tnewMap.put(arry[i], 1);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSet&lt;Entry&lt;Integer, Integer&gt;&gt; set = newMap.entrySet();\r\n    \t\tList&lt;Entry&lt;Integer, Integer&gt;&gt; list = new ArrayList&lt;Entry&lt;Integer, Integer&gt;&gt;(set);\r\n    \t\tCollections.sort(list, new Comparator&lt;Map.Entry&lt;Integer, Integer&gt;&gt;() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic int compare(Entry&lt;Integer, Integer&gt; o1, Entry&lt;Integer, Integer&gt; o2) {\r\n    \t\t\t\treturn (o2.getValue()).compareTo(o1.getValue());\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tfor (Map.Entry&lt;Integer, Integer&gt; entry : list) {\r\n    \t\t\tSystem.out.println(entry.getKey() + &quot; ==== &quot; + entry.getValue());\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\t//return num;\r\n    \t}\r\n\r\n","title":"Find the element with highest occurrences in an array [java]","body":"<p>In continuation to the pseudo-code what you've written try the below written code:-</p>\n\n<pre><code>public static void fetchFrequency(int[] arry) {\n        Map&lt;Integer, Integer&gt; newMap = new TreeMap&lt;Integer, Integer&gt;(Collections.reverseOrder());\n        int num = 0;\n        int count = 0;\n        for (int i = 0; i &lt; arry.length; i++) {\n            if (newMap.containsKey(arry[i])) {\n                count = newMap.get(arry[i]);\n                newMap.put(arry[i], ++count);\n            } else {\n                newMap.put(arry[i], 1);\n            }\n        }\n        Set&lt;Entry&lt;Integer, Integer&gt;&gt; set = newMap.entrySet();\n        List&lt;Entry&lt;Integer, Integer&gt;&gt; list = new ArrayList&lt;Entry&lt;Integer, Integer&gt;&gt;(set);\n        Collections.sort(list, new Comparator&lt;Map.Entry&lt;Integer, Integer&gt;&gt;() {\n\n            @Override\n            public int compare(Entry&lt;Integer, Integer&gt; o1, Entry&lt;Integer, Integer&gt; o2) {\n                return (o2.getValue()).compareTo(o1.getValue());\n            }\n        });\n\n        for (Map.Entry&lt;Integer, Integer&gt; entry : list) {\n            System.out.println(entry.getKey() + \" ==== \" + entry.getValue());\n            break;\n        }\n        //return num;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8004185,"reputation":1391,"user_id":6037956,"display_name":"Soudipta Dutta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528155241,"creation_date":1527777650,"answer_id":50626931,"question_id":13553009,"body_markdown":"Solution 1: Using HashMap\r\n\r\n\r\n    class test1 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\r\n    \tint[] a = {1,1,2,1,5,6,6,6,8,5,9,7,1};\r\n    \t// max occurences of an array\r\n    \tMap&lt;Integer,Integer&gt; map = new HashMap&lt;&gt;();\r\n    \t  int max = 0 ; int chh = 0 ;\r\n    \t  for(int i = 0 ; i &lt; a.length;i++) {\r\n    \t\t  int ch = a[i];\r\n    \t\t  map.put(ch, map.getOrDefault(ch, 0) +1);\r\n    \t  }//for\r\n    \t  Set&lt;Entry&lt;Integer,Integer&gt;&gt; entrySet =map.entrySet();\r\n    \r\n    \t  for(Entry&lt;Integer,Integer&gt; entry : entrySet) {\r\n    \t\t  if(entry.getValue() &gt; max) {max = entry.getValue();chh = entry.getKey();}\r\n    \t\t  \r\n    \t  }//for\r\n    \tSystem.out.println(&quot;max element =&gt; &quot; + chh);\r\n    \tSystem.out.println(&quot;frequency =&gt; &quot; + max);\r\n    \t}//amin\r\n    }\r\n    /*output =&gt;\r\n    max element =&gt; 1\r\n    frequency =&gt; 4\r\n    \r\n    */\r\n\r\n\r\nSolution 2 : Using count array\r\n\r\n\r\n\r\n    public class test2 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t int[] a = {1,1,2,1,5,6,6,6,6,6,8,5,9,7,1};\r\n        int max = 0 ; int chh = 0;\r\n        int count[] = new int[a.length];\r\n        for(int i = 0 ; i &lt;a.length ; i++) {\r\n        \tint ch = a[i];\r\n        \tcount[ch] +=1 ;\r\n        }//for\r\n        \r\n        for(int i = 0 ; i &lt;a.length ;i++)  {\r\n        \tint ch = a[i];\r\n        \tif(count[ch] &gt; max) {max = count[ch] ; chh = ch ;}\r\n        }//for\r\n    \t\t System.out.println(chh); \r\n    \t}//main\r\n    }","title":"Find the element with highest occurrences in an array [java]","body":"<p>Solution 1: Using HashMap</p>\n\n<pre><code>class test1 {\n    public static void main(String[] args) {\n\n    int[] a = {1,1,2,1,5,6,6,6,8,5,9,7,1};\n    // max occurences of an array\n    Map&lt;Integer,Integer&gt; map = new HashMap&lt;&gt;();\n      int max = 0 ; int chh = 0 ;\n      for(int i = 0 ; i &lt; a.length;i++) {\n          int ch = a[i];\n          map.put(ch, map.getOrDefault(ch, 0) +1);\n      }//for\n      Set&lt;Entry&lt;Integer,Integer&gt;&gt; entrySet =map.entrySet();\n\n      for(Entry&lt;Integer,Integer&gt; entry : entrySet) {\n          if(entry.getValue() &gt; max) {max = entry.getValue();chh = entry.getKey();}\n\n      }//for\n    System.out.println(\"max element =&gt; \" + chh);\n    System.out.println(\"frequency =&gt; \" + max);\n    }//amin\n}\n/*output =&gt;\nmax element =&gt; 1\nfrequency =&gt; 4\n\n*/\n</code></pre>\n\n<p>Solution 2 : Using count array</p>\n\n<pre><code>public class test2 {\n    public static void main(String[] args) {\n         int[] a = {1,1,2,1,5,6,6,6,6,6,8,5,9,7,1};\n    int max = 0 ; int chh = 0;\n    int count[] = new int[a.length];\n    for(int i = 0 ; i &lt;a.length ; i++) {\n        int ch = a[i];\n        count[ch] +=1 ;\n    }//for\n\n    for(int i = 0 ; i &lt;a.length ;i++)  {\n        int ch = a[i];\n        if(count[ch] &gt; max) {max = count[ch] ; chh = ch ;}\n    }//for\n         System.out.println(chh); \n    }//main\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11493708,"reputation":1256,"user_id":8423763,"display_name":"shubhamr238"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551073554,"creation_date":1551073554,"answer_id":54860170,"question_id":13553009,"body_markdown":"This is how i have implemented in java..\r\n\r\n    import java.io.*;\r\n    class Prog8\r\n    {\r\n    \tpublic static void main(String[] args) throws IOException \r\n    \t{\r\n    \t\tBufferedReader br=new BufferedReader(new InputStreamReader(System.in));\r\n    \t\tSystem.out.println(&quot;Input Array Size:&quot;);\r\n    \t\tint size=Integer.parseInt(br.readLine());\r\n    \t\tint[] arr= new int[size];\r\n    \t\tSystem.out.println(&quot;Input Elements in Array:&quot;);\r\n    \t\tfor(int i=0;i&lt;size;i++)\r\n    \t\t\tarr[i]=Integer.parseInt(br.readLine());\r\n    \t\tint max = 0,pos=0,count = 0;\r\n    \t\tfor (int i = 0; i &lt; arr.length; i++)\r\n    \t\t{\r\n    \t\t\tcount=0;\r\n    \t\t    for (int j = 0; j &lt; arr.length; j++) \r\n    \t\t    {\r\n    \t\t        if (arr[i]==arr[j])\r\n    \t\t            count++;\r\n    \t\t    }\r\n    \t\t    if (count &gt;=max)\r\n    \t\t    {\r\n    \t\t        max = count;\r\n    \t\t        pos=i;\r\n    \t\t    }\r\n    \t\t}\r\n    \r\n    \t\tif(max==1)\r\n    \t\t\tSystem.out.println(&quot;No Duplicate Element.&quot;);\r\n    \t\telse\r\n    \t\t\tSystem.out.println(&quot;Element:&quot;+arr[pos]+&quot; Occourance:&quot;+max);\r\n    \t}\r\n    }","title":"Find the element with highest occurrences in an array [java]","body":"<p>This is how i have implemented in java..</p>\n\n<pre><code>import java.io.*;\nclass Prog8\n{\n    public static void main(String[] args) throws IOException \n    {\n        BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\n        System.out.println(\"Input Array Size:\");\n        int size=Integer.parseInt(br.readLine());\n        int[] arr= new int[size];\n        System.out.println(\"Input Elements in Array:\");\n        for(int i=0;i&lt;size;i++)\n            arr[i]=Integer.parseInt(br.readLine());\n        int max = 0,pos=0,count = 0;\n        for (int i = 0; i &lt; arr.length; i++)\n        {\n            count=0;\n            for (int j = 0; j &lt; arr.length; j++) \n            {\n                if (arr[i]==arr[j])\n                    count++;\n            }\n            if (count &gt;=max)\n            {\n                max = count;\n                pos=i;\n            }\n        }\n\n        if(max==1)\n            System.out.println(\"No Duplicate Element.\");\n        else\n            System.out.println(\"Element:\"+arr[pos]+\" Occourance:\"+max);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15988505,"reputation":119,"user_id":11538257,"display_name":"Aqil Aghamirzayev"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1588854576,"creation_date":1588854576,"answer_id":61657891,"question_id":13553009,"body_markdown":"The solution with Java 8\r\n\r\n       \r\n\r\n           int result = Arrays.stream(array)\r\n               .boxed()\r\n               .collect(Collectors.groupingBy(i-&gt;i,Collectors.counting()))\r\n               .values()\r\n               .stream()\r\n               .max(Comparator.comparingLong(i-&gt;i))\r\n               .orElseThrow(RuntimeException::new));\r\n\r\n","title":"Find the element with highest occurrences in an array [java]","body":"<p>The solution with Java 8</p>\n\n<pre><code>       int result = Arrays.stream(array)\n           .boxed()\n           .collect(Collectors.groupingBy(i-&gt;i,Collectors.counting()))\n           .values()\n           .stream()\n           .max(Comparator.comparingLong(i-&gt;i))\n           .orElseThrow(RuntimeException::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12013422,"reputation":582,"user_id":8789323,"display_name":"Nsikan Sylvester"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1597249168,"creation_date":1597249168,"answer_id":63380744,"question_id":13553009,"body_markdown":"Here is Ruby SOlution:\r\n\r\n    def maxOccurence(arr)\r\n\t  m_hash = arr.group_by(&amp;:itself).transform_values(&amp;:count)\r\n\t  elem = 0, elem_count = 0\r\n\t  m_hash.each do |k, v|\r\n\t\tif v &gt; elem_count\r\n\t\t\telem = k\r\n\t\t\telem_count = v\r\n\t\tend\r\n\t  end\r\n\t  &quot;#{elem} occured #{elem_count} times&quot;\r\n    end\r\n\r\n    p maxOccurence([&quot;1&quot;, &quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;5&quot;,&quot;5&quot;,&quot;12&quot;,&quot;12&quot;,&quot;12&quot;,&quot;12&quot;,&quot;12&quot;,&quot;12&quot;,&quot;12&quot;,&quot;12&quot;,&quot;12&quot;,&quot;12&quot;,&quot;8&quot;])\r\n\r\noutput: \r\n\r\n    &quot;12 occured 10 times&quot;","title":"Find the element with highest occurrences in an array [java]","body":"<p>Here is Ruby SOlution:</p>\n<pre><code>def maxOccurence(arr)\n  m_hash = arr.group_by(&amp;:itself).transform_values(&amp;:count)\n  elem = 0, elem_count = 0\n  m_hash.each do |k, v|\n    if v &gt; elem_count\n        elem = k\n        elem_count = v\n    end\n  end\n  &quot;#{elem} occured #{elem_count} times&quot;\nend\n\np maxOccurence([&quot;1&quot;, &quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;5&quot;,&quot;5&quot;,&quot;12&quot;,&quot;12&quot;,&quot;12&quot;,&quot;12&quot;,&quot;12&quot;,&quot;12&quot;,&quot;12&quot;,&quot;12&quot;,&quot;12&quot;,&quot;12&quot;,&quot;8&quot;])\n</code></pre>\n<p>output:</p>\n<pre><code>&quot;12 occured 10 times&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18710561,"reputation":448,"user_id":13640736,"display_name":"SOUMEN K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597315774,"creation_date":1597315774,"answer_id":63393512,"question_id":13553009,"body_markdown":"Here&#39;s a java solution --\r\n\r\n```java\r\n        List&lt;Integer&gt; list = Arrays.asList(1, 2, 2, 3, 2, 1, 3);\r\n        Set&lt;Integer&gt; set = new HashSet(list);\r\n        int max = 0;\r\n        int maxtemp;\r\n        int currentNum = 0;\r\n        for (Integer k : set) {\r\n            maxtemp = Math.max(Collections.frequency(list, k), max);\r\n            currentNum = maxtemp != max ? k : currentNum;\r\n            max = maxtemp;\r\n        }\r\n        System.out.println(&quot;Number :: &quot; + currentNum + &quot; Occurs :: &quot; + max + &quot; times&quot;);\r\n```","title":"Find the element with highest occurrences in an array [java]","body":"<p>Here's a java solution --</p>\n<pre class=\"lang-java prettyprint-override\"><code>        List&lt;Integer&gt; list = Arrays.asList(1, 2, 2, 3, 2, 1, 3);\n        Set&lt;Integer&gt; set = new HashSet(list);\n        int max = 0;\n        int maxtemp;\n        int currentNum = 0;\n        for (Integer k : set) {\n            maxtemp = Math.max(Collections.frequency(list, k), max);\n            currentNum = maxtemp != max ? k : currentNum;\n            max = maxtemp;\n        }\n        System.out.println(&quot;Number :: &quot; + currentNum + &quot; Occurs :: &quot; + max + &quot; times&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22112480,"reputation":21,"user_id":16367155,"display_name":"Rahul Sheth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628533969,"creation_date":1628532033,"answer_id":68716576,"question_id":13553009,"body_markdown":"    int[] array = new int[] { 1, 2, 4, 1, 3, 4, 2, 2, 1, 5, 2, 3, 5 };\r\n    \r\n    Long max = Arrays.stream(array).boxed().collect(Collectors.groupingBy(i -&gt; i, Collectors.counting())).values()\r\n    \t\t\t\t.stream().max(Comparator.comparing(Function.identity())).orElse(0L);\r\n    \t","title":"Find the element with highest occurrences in an array [java]","body":"<pre><code>int[] array = new int[] { 1, 2, 4, 1, 3, 4, 2, 2, 1, 5, 2, 3, 5 };\n\nLong max = Arrays.stream(array).boxed().collect(Collectors.groupingBy(i -&gt; i, Collectors.counting())).values()\n                .stream().max(Comparator.comparing(Function.identity())).orElse(0L);\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":11249374,"reputation":401,"user_id":8250946,"display_name":"vikash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660979289,"creation_date":1660979289,"answer_id":73424731,"question_id":13553009,"body_markdown":"Find the element with the highest occurrences in an array using java 8 is given below:\r\n\r\n    final Long maxOccurrencesElement = arr.stream()\r\n                    .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\r\n                    .entrySet()\r\n                    .stream()\r\n                    .max((o1, o2) -&gt; o1.getValue().compareTo(o2.getValue()))\r\n                    .get()\r\n                    .getKey();","title":"Find the element with highest occurrences in an array [java]","body":"<p>Find the element with the highest occurrences in an array using java 8 is given below:</p>\n<pre><code>final Long maxOccurrencesElement = arr.stream()\n                .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\n                .entrySet()\n                .stream()\n                .max((o1, o2) -&gt; o1.getValue().compareTo(o2.getValue()))\n                .get()\n                .getKey();\n</code></pre>\n"}],"owner":{"account_id":2078827,"reputation":1236,"user_id":1851402,"accept_rate":50,"display_name":"Blackecho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70665,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":13553026,"answer_count":13,"score":9,"last_activity_date":1660979289,"creation_date":1353861128,"question_id":13553009,"body_markdown":"I have to find the element with highest occurrences in a double array.\r\nI did it like this:\r\n    \r\n    \r\n    int max = 0;\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n\t\t   int count = 0;\r\n           for (int j = 0; j &lt; array.length; j++) {\r\n\t\t\t if (array[i]==array[j])\r\n\t\t\t     count++;\r\n\t   }\r\n      if (count &gt;= max)\r\n          max = count;\r\n     }\r\n\r\nThe program works, but it is too slow! I have to find a better solution, can anyone help me?","title":"Find the element with highest occurrences in an array [java]","body":"<p>I have to find the element with highest occurrences in a double array.\nI did it like this:</p>\n\n<pre><code>int max = 0;\nfor (int i = 0; i &lt; array.length; i++) {\n       int count = 0;\n       for (int j = 0; j &lt; array.length; j++) {\n         if (array[i]==array[j])\n             count++;\n   }\n  if (count &gt;= max)\n      max = count;\n }\n</code></pre>\n\n<p>The program works, but it is too slow! I have to find a better solution, can anyone help me?</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":43373,"reputation":224943,"user_id":126769,"accept_rate":94,"display_name":"nos"},"score":9,"creation_date":1264195770,"post_id":2120654,"comment_id":2057880,"body_markdown":"What are you actually asking ?","body":"What are you actually asking ?"},{"owner":{"account_id":29910,"reputation":113460,"user_id":81179,"accept_rate":100,"display_name":"ChristopheD"},"score":6,"creation_date":1264196494,"post_id":2120654,"comment_id":2057982,"body_markdown":"I personally feel that this should not have been closed (voted to reopen). The question may be thinly formulated but there is a `real` question in there (even though the answer may seem obvious at first sight to some).","body":"I personally feel that this should not have been closed (voted to reopen). The question may be thinly formulated but there is a <code>real</code> question in there (even though the answer may seem obvious at first sight to some)."},{"owner":{"account_id":129124,"reputation":13664,"user_id":327466,"accept_rate":95,"display_name":"KatieK"},"score":0,"creation_date":1354163528,"post_id":2120654,"comment_id":18675551,"body_markdown":"@ChristopheD - could you please clarify the question?","body":"@ChristopheD - could you please clarify the question?"}],"answers":[{"tags":[],"owner":{"account_id":85454,"reputation":5991,"user_id":238242,"accept_rate":93,"display_name":"Chris Kannon"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1264195759,"creation_date":1264195759,"answer_id":2120665,"question_id":2120654,"body_markdown":"The JVM executes Java code, but is written in platform specific languages such as C/C++/ASM etc. The JVM is not written in Java and hence cannot be platform independent.","title":"Why is the JVM not platform independent, given that Java (the language) is platform independent?","body":"<p>The JVM executes Java code, but is written in platform specific languages such as C/C++/ASM etc. The JVM is not written in Java and hence cannot be platform independent.</p>\n"},{"tags":[],"owner":{"account_id":65544,"reputation":26923,"user_id":192801,"accept_rate":90,"display_name":"FrustratedWithFormsDesigner"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1264195791,"creation_date":1264195791,"answer_id":2120670,"question_id":2120654,"body_markdown":"The JVM must be platform dependent to allow your Java to run on the specific platform. A JVM for Windows will translate your Java into different system calls than a JVM for OS X.","title":"Why is the JVM not platform independent, given that Java (the language) is platform independent?","body":"<p>The JVM must be platform dependent to allow your Java to run on the specific platform. A JVM for Windows will translate your Java into different system calls than a JVM for OS X.</p>\n"},{"tags":[],"owner":{"account_id":90976,"reputation":124,"user_id":250099,"display_name":"Neville Flynn"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1264195839,"creation_date":1264195839,"answer_id":2120675,"question_id":2120654,"body_markdown":"Because there needs to be some way to convert the platform-independent application&#39;s Java calls to calls that are compatible with the underlying OS.","title":"Why is the JVM not platform independent, given that Java (the language) is platform independent?","body":"<p>Because there needs to be some way to convert the platform-independent application's Java calls to calls that are compatible with the underlying OS.</p>\n"},{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1264198079,"creation_date":1264198079,"answer_id":2120894,"question_id":2120654,"body_markdown":"Unless you have a CPU that can directly execute Java bytecode (there are such things) you need to be able to interact with the OS (for things like reading files, connecting to the network, displaying to the screen, etc...).\r\n\r\nYou can write a JVM in other languages (such as [Java][1] or [JavaScript][2]) but ultimately there needs to be something that can interact with the underlying OS. \r\n\r\n\r\n  [1]: http://jikesrvm.org/\r\n  [2]: http://ejohn.org/blog/running-java-in-javascript/","title":"Why is the JVM not platform independent, given that Java (the language) is platform independent?","body":"<p>Unless you have a CPU that can directly execute Java bytecode (there are such things) you need to be able to interact with the OS (for things like reading files, connecting to the network, displaying to the screen, etc...).</p>\n\n<p>You can write a JVM in other languages (such as <a href=\"http://jikesrvm.org/\" rel=\"noreferrer\">Java</a> or <a href=\"http://ejohn.org/blog/running-java-in-javascript/\" rel=\"noreferrer\">JavaScript</a>) but ultimately there needs to be something that can interact with the underlying OS. </p>\n"},{"tags":[],"owner":{"account_id":629323,"reputation":211,"user_id":385066,"display_name":"aashish"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1315945878,"creation_date":1278464221,"answer_id":3191219,"question_id":2120654,"body_markdown":"I found that this was a great answer to the question:\r\n\r\n&gt; **JVM translates bytecode into machine language**   \r\n&gt;\r\n&gt; Every Java program is\r\n&gt; compiled into an intermediate language called Java bytecode. The JVM\r\n&gt; is used to both translate the bytecode into the machine language for a\r\n&gt; particular computer, and actually execute the corresponding\r\n&gt; machine-language instructions as well. The JVM and bytecode combined\r\n&gt; give Java its status as a &quot;portable&quot; language.\r\n&gt; \r\n&gt; **Machine language is OS dependent** \r\n&gt; \r\n&gt; Given the previous information, it should be easier to deduce an\r\n&gt; answer to the question. Since the JVM must translate the bytecode into\r\n&gt; machine language, and since the machine language depends on the\r\n&gt; operating system being used, it is clear that the JVM is platform\r\n&gt; (operating system) dependent. This fact can be verified by trying to\r\n&gt; download the JVM  you will be given a list of JVMs corresponding to\r\n&gt; different operating systems, and you will obviously pick whichever JVM\r\n&gt; is targeted for the operating system that you are running.\r\n\r\nQuoted from [Is the JVM Platform Dependent?][1]\r\n\r\n\r\n  [1]: http://www.programmerinterview.com/java/is-jvm-platform-dependent.php","title":"Why is the JVM not platform independent, given that Java (the language) is platform independent?","body":"<p>I found that this was a great answer to the question:</p>\n\n<blockquote>\n  <p><strong>JVM translates bytecode into machine language</strong>   </p>\n  \n  <p>Every Java program is\n  compiled into an intermediate language called Java bytecode. The JVM\n  is used to both translate the bytecode into the machine language for a\n  particular computer, and actually execute the corresponding\n  machine-language instructions as well. The JVM and bytecode combined\n  give Java its status as a \"portable\" language.</p>\n  \n  <p><strong>Machine language is OS dependent</strong> </p>\n  \n  <p>Given the previous information, it should be easier to deduce an\n  answer to the question. Since the JVM must translate the bytecode into\n  machine language, and since the machine language depends on the\n  operating system being used, it is clear that the JVM is platform\n  (operating system) dependent. This fact can be verified by trying to\n  download the JVM  you will be given a list of JVMs corresponding to\n  different operating systems, and you will obviously pick whichever JVM\n  is targeted for the operating system that you are running.</p>\n</blockquote>\n\n<p>Quoted from <a href=\"http://www.programmerinterview.com/java/is-jvm-platform-dependent.php\" rel=\"noreferrer\">Is the JVM Platform Dependent?</a></p>\n"},{"tags":[],"owner":{"account_id":1474872,"reputation":41,"user_id":1385535,"display_name":"black.marque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1336593140,"creation_date":1336593140,"answer_id":10523143,"question_id":2120654,"body_markdown":"No, JVMs are not platform independent. In fact they are platform specific run time environment provided by the vendor. Each platform (Windows, UNIX, Mac etc) has its own JVM to run Java applications. Although the byte code supports connection to multiple databases..\r\n\r\nThink of Music being played in a MP3 player, CD player and old faithful cassette players(Boom Box). The output is always the same, ie music. But the input (media ie .mp3 files for MP3 Players, CDs for CD Players and cassettes for Cassette Players) vary depending on the system [here the systems will be the various Operating Systems like Windows, UNIX, Mac etc..]. Hope i was able to solve your problem..","title":"Why is the JVM not platform independent, given that Java (the language) is platform independent?","body":"<p>No, JVMs are not platform independent. In fact they are platform specific run time environment provided by the vendor. Each platform (Windows, UNIX, Mac etc) has its own JVM to run Java applications. Although the byte code supports connection to multiple databases..</p>\n\n<p>Think of Music being played in a MP3 player, CD player and old faithful cassette players(Boom Box). The output is always the same, ie music. But the input (media ie .mp3 files for MP3 Players, CDs for CD Players and cassettes for Cassette Players) vary depending on the system [here the systems will be the various Operating Systems like Windows, UNIX, Mac etc..]. Hope i was able to solve your problem..</p>\n"},{"tags":[],"owner":{"account_id":2397003,"reputation":29,"user_id":2095618,"display_name":"Srichandar.Karpuram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361453392,"creation_date":1361453392,"answer_id":15003515,"question_id":2120654,"body_markdown":"simply like - * - makes a +.\r\n\r\nWe all know Java is platform independent\r\n\r\nbut OS where we write the code is platform dependant\r\n\r\nand Output should be platform independent\r\nso, we make jvm (which is in-between and installed with jre) platform dependent so that the output is independent.\r\n","title":"Why is the JVM not platform independent, given that Java (the language) is platform independent?","body":"<p>simply like - * - makes a +.</p>\n\n<p>We all know Java is platform independent</p>\n\n<p>but OS where we write the code is platform dependant</p>\n\n<p>and Output should be platform independent\nso, we make jvm (which is in-between and installed with jre) platform dependent so that the output is independent.</p>\n"},{"tags":[],"owner":{"account_id":1592898,"reputation":227,"user_id":1475834,"accept_rate":57,"display_name":"PeGiannOS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364641190,"creation_date":1364641190,"answer_id":15717760,"question_id":2120654,"body_markdown":"I think that it could be platform independent if many different languages (each one written in specific different platform )where combined to make it change its own code dynamically.But all these take some great effort to happen and maybe destroy its portability.","title":"Why is the JVM not platform independent, given that Java (the language) is platform independent?","body":"<p>I think that it could be platform independent if many different languages (each one written in specific different platform )where combined to make it change its own code dynamically.But all these take some great effort to happen and maybe destroy its portability.</p>\n"},{"tags":[],"owner":{"account_id":4397554,"reputation":1,"user_id":3584113,"display_name":"Beena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398753776,"creation_date":1398753776,"answer_id":23357344,"question_id":2120654,"body_markdown":"JVM translate the byte code which is universal to machine code which is machine dependent hence JVM is platform dependent. Due to this byte code java is platform independent.","title":"Why is the JVM not platform independent, given that Java (the language) is platform independent?","body":"<p>JVM translate the byte code which is universal to machine code which is machine dependent hence JVM is platform dependent. Due to this byte code java is platform independent.</p>\n"},{"tags":[],"owner":{"account_id":7214282,"reputation":881,"user_id":5507319,"accept_rate":43,"display_name":"Yirga"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1453480595,"creation_date":1453477880,"answer_id":34950660,"question_id":2120654,"body_markdown":"No, JVM is platform dependent. The code written in Java is not platform dependent. If you write Java code on a Windows operating system you can run that code on Linux or other operating Systems. But the JVM for Windows and Linux is different. JVM are found in JRE and when you download JRE from Oracle it says JRE for Window, Linux and other operating systems ","title":"Why is the JVM not platform independent, given that Java (the language) is platform independent?","body":"<p>No, JVM is platform dependent. The code written in Java is not platform dependent. If you write Java code on a Windows operating system you can run that code on Linux or other operating Systems. But the JVM for Windows and Linux is different. JVM are found in JRE and when you download JRE from Oracle it says JRE for Window, Linux and other operating systems </p>\n"},{"tags":[],"owner":{"account_id":5373474,"reputation":61,"user_id":4281220,"display_name":"Parineetha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461884751,"creation_date":1461884751,"answer_id":36926926,"question_id":2120654,"body_markdown":"JVM depends on operating system. For the code to be independent, something should be dependent and that is JVM. While downloading JDK it asks for which OS you want to download it for. Which clearly implies that JVM is platform dependent.","title":"Why is the JVM not platform independent, given that Java (the language) is platform independent?","body":"<p>JVM depends on operating system. For the code to be independent, something should be dependent and that is JVM. While downloading JDK it asks for which OS you want to download it for. Which clearly implies that JVM is platform dependent.</p>\n"},{"tags":[],"owner":{"account_id":11305778,"reputation":7,"user_id":8290451,"accept_rate":50,"display_name":"Prashant Tendulkar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509216543,"creation_date":1509216543,"answer_id":46993262,"question_id":2120654,"body_markdown":"The JVM is not platform independent\r\n\r\nThe key here is that the JVM depends on the operating system  so if you are running Mac OS X you will have a different JVM than if you are running Windows or some other operating system. This fact can be verified by trying to download the JVM for your particular machine  when trying to download it, you will be given a list of JVMs corresponding to different operating systems, and you will obviously pick whichever JVM is targeted for the operating system that you are running.","title":"Why is the JVM not platform independent, given that Java (the language) is platform independent?","body":"<p>The JVM is not platform independent</p>\n\n<p>The key here is that the JVM depends on the operating system  so if you are running Mac OS X you will have a different JVM than if you are running Windows or some other operating system. This fact can be verified by trying to download the JVM for your particular machine  when trying to download it, you will be given a list of JVMs corresponding to different operating systems, and you will obviously pick whichever JVM is targeted for the operating system that you are running.</p>\n"},{"tags":[],"owner":{"account_id":16674329,"reputation":11,"user_id":12051129,"display_name":"Bapun Naik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1568183391,"creation_date":1568179368,"answer_id":57882583,"question_id":2120654,"body_markdown":"JVM is platform dependent because it takes java byte code and generates byte code for the current operating system. So Java software is platform dependent but Java language is platform independent because different operating system have different JVMs.","title":"Why is the JVM not platform independent, given that Java (the language) is platform independent?","body":"<p>JVM is platform dependent because it takes java byte code and generates byte code for the current operating system. So Java software is platform dependent but Java language is platform independent because different operating system have different JVMs.</p>\n"},{"tags":[],"owner":{"account_id":4089262,"reputation":3041,"user_id":3357735,"display_name":"Neethu Lalitha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639395008,"creation_date":1639395008,"answer_id":70333923,"question_id":2120654,"body_markdown":"[![JVM][1]][1]\r\n\r\n\r\nHope this image can make it clear. \r\nWhen you install java on your machine, you are asked to select your OS.\r\nThat means java to be installed on a Windows machine is not the same as the one on a mac.\r\nJava installation comes with JDK, JRE, and JVM that are OS-specific.\r\n\r\nJDK has a compiler that converts your Java code to bytecode and bytecode is platform-independent. JVM can read this bytecode and using an interpreter convert them to OS-specific instructions which vary based on your OS.\r\n\r\nAll JDK, JRE, and JVM are platform-dependent. But JAVA is platform-independent because bytecode is platform-independent.\r\n\r\n\r\n[Content summarized from here ][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LI73p.jpg\r\n  [2]: https://www.youtube.com/watch?v=GXUiEouK7DM&amp;ab_channel=SimpleSnippets","title":"Why is the JVM not platform independent, given that Java (the language) is platform independent?","body":"<p><a href=\"https://i.stack.imgur.com/LI73p.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LI73p.jpg\" alt=\"JVM\" /></a></p>\n<p>Hope this image can make it clear.\nWhen you install java on your machine, you are asked to select your OS.\nThat means java to be installed on a Windows machine is not the same as the one on a mac.\nJava installation comes with JDK, JRE, and JVM that are OS-specific.</p>\n<p>JDK has a compiler that converts your Java code to bytecode and bytecode is platform-independent. JVM can read this bytecode and using an interpreter convert them to OS-specific instructions which vary based on your OS.</p>\n<p>All JDK, JRE, and JVM are platform-dependent. But JAVA is platform-independent because bytecode is platform-independent.</p>\n<p><a href=\"https://www.youtube.com/watch?v=GXUiEouK7DM&amp;ab_channel=SimpleSnippets\" rel=\"nofollow noreferrer\">Content summarized from here </a></p>\n"},{"tags":[],"owner":{"account_id":25480252,"reputation":1,"user_id":19276735,"display_name":"Yohan J Walter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660979289,"creation_date":1660979289,"answer_id":73424730,"question_id":2120654,"body_markdown":"It is platform-independent. Because java has bytecode it is platform-independent. So, when it writes once run everywhere.","title":"Why is the JVM not platform independent, given that Java (the language) is platform independent?","body":"<p>It is platform-independent. Because java has bytecode it is platform-independent. So, when it writes once run everywhere.</p>\n"}],"owner":{"account_id":86591,"reputation":26893,"user_id":240698,"accept_rate":62,"display_name":"giri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51742,"favorite_count":0,"down_vote_count":4,"up_vote_count":20,"accepted_answer_id":2120894,"answer_count":15,"score":16,"last_activity_date":1660979289,"creation_date":1264195646,"question_id":2120654,"body_markdown":"Just curious to know when java is made platform independent then are there any specific reasons JVM is made platform dependent..\r\n","title":"Why is the JVM not platform independent, given that Java (the language) is platform independent?","body":"<p>Just curious to know when java is made platform independent then are there any specific reasons JVM is made platform dependent..</p>\n"},{"tags":["java","android-studio","android-studio-3.1.4"],"comments":[{"owner":{"account_id":980790,"reputation":8154,"user_id":1000551,"display_name":"Vadim Kotov"},"score":0,"creation_date":1555669822,"post_id":51736324,"comment_id":98195665,"body_markdown":"Related - https://stackoverflow.com/questions/54322086/android-studio-could-not-find-main-class-of-scratch-file","body":"Related - <a href=\"https://stackoverflow.com/questions/54322086/android-studio-could-not-find-main-class-of-scratch-file\" title=\"android studio could not find main class of scratch file\">stackoverflow.com/questions/54322086/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":19655799,"reputation":167,"user_id":14388477,"display_name":"Farid Sharif Moghaddam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660977880,"creation_date":1660977880,"answer_id":73424619,"question_id":51736324,"body_markdown":"Scratch file doesn&#39;t require to define class or main function, and you can write your code directly in scratch file (file with `.kts` extension)","title":"Why won&#39;t scratch files work in Android Studio?","body":"<p>Scratch file doesn't require to define class or main function, and you can write your code directly in scratch file (file with <code>.kts</code> extension)</p>\n"}],"owner":{"account_id":6199940,"reputation":1431,"user_id":5194466,"accept_rate":0,"display_name":"Henry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1660977880,"creation_date":1533681180,"question_id":51736324,"body_markdown":"I just tried creating and running my first scratch file in Android Studio and it refuses to execute. Once I &quot;get the red out&quot; of the code, and try to execute it, it invariably gives me this message:\r\n\r\n    &quot;C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java&quot; &quot;-javaagent:C:\\Program Files\\Android\\Android Studio\\lib\\idea_rt.jar=55179:C:\\Program Files\\Android\\Android Studio\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Users\\Kathe\\.AndroidStudio3.1\\system\\compile-server\\cwfrecyclerview_28cee19d\\scratches\\out;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\charsets.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\ext\\access-bridge-64.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\ext\\cldrdata.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\ext\\dnsns.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\ext\\jaccess.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\ext\\localedata.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\ext\\nashorn.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\ext\\sunec.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\ext\\sunjce_provider.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\ext\\sunmscapi.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\ext\\sunpkcs11.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\ext\\zipfs.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\jce.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\jsse.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\management-agent.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\resources.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\rt.jar;C:\\Users\\Kathe\\Downloads\\android-RuntimePermissions-master\\CWFRecyclerview\\common\\build\\intermediates\\classes\\debug;C:\\Users\\Kathe\\Downloads\\android-RuntimePermissions-master\\CWFRecyclerview\\common\\build\\generated\\res\\rs\\debug;C:\\Users\\Kathe\\Downloads\\android-RuntimePermissions-master\\CWFRecyclerview\\common\\build\\generated\\res\\resValues\\debug;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\runner-1.0.2.aar\\bebf8b46884ec7ad9744d30654e3a8fa\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\android.arch.lifecycle\\common\\1.1.0\\edf3f7bfb84a7521d0599efa3b0113a0ee90f85\\common-1.1.0.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\com.android.support\\support-annotations\\27.1.1\\39ded76b5e1ce1c5b2688e1d25cdc20ecee32007\\support-annotations-27.1.1.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\animated-vector-drawable-27.1.1.aar\\3026d449b6dd3b8d579b953dbeaad620\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\support-compat-27.1.1.aar\\ac14c6fd640673d444366972bd8578f3\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\support-compat-27.1.1.aar\\ac14c6fd640673d444366972bd8578f3\\res;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\viewmodel-1.1.0.aar\\703d03849fead14cd573339ccbf74521\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\com.squareup\\javawriter\\2.1.1\\67ff45d9ae02e583d0f9b3432a5ebbe05c30c966\\javawriter-2.1.1.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\support-vector-drawable-27.1.1.aar\\af4e9375156ee99d7b7ed9804dc82dd8\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\support-core-ui-27.1.1.aar\\c7f11890d5f5b74e3e9d06afa5fbb997\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\support-core-ui-27.1.1.aar\\c7f11890d5f5b74e3e9d06afa5fbb997\\res;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\support-core-utils-27.1.1.aar\\dceb3eeaaf1050600bb0d2fe0a889a51\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\com.google.code.findbugs\\jsr305\\2.0.1\\516c03b21d50a644d538de0f0369c620989cd8f0\\jsr305-2.0.1.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\espresso-core-3.0.2.aar\\4a77e4a6c39a7f16d185757172f44dce\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\javax.inject\\javax.inject\\1\\6975da39a7040257bd51d21a231b76c915872d38\\javax.inject-1.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\support-fragment-27.1.1.aar\\8608e49b7499a17e38d008d8ae17778a\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\junit\\junit\\4.12\\2973d150c0dc1fefe998f834810d68f278ea58ec\\junit-4.12.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\runtime-1.1.0.aar\\701aa5d0a71a62d398f3390a72488495\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\org.hamcrest\\hamcrest-core\\1.3\\42a25dc3219429f0e5d060061f71acb49bf010a0\\hamcrest-core-1.3.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\monitor-1.0.2.aar\\89f15379b9d3c77bbc24a0702e0e89e9\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\appcompat-v7-27.1.1.aar\\2e2a28cf1aa5a9404e2628890daf92f7\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\appcompat-v7-27.1.1.aar\\2e2a28cf1aa5a9404e2628890daf92f7\\res;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\espresso-idling-resource-3.0.2.aar\\69861e25d616b49fdee29aa342f3e29f\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\livedata-core-1.1.0.aar\\27ba305e2a1bfa0d08b520e6303b8703\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\org.hamcrest\\hamcrest-library\\1.3\\4785a3c21320980282f9f33d0d1264a69040538f\\hamcrest-library-1.3.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\org.hamcrest\\hamcrest-integration\\1.3\\5de0c73fef18917cd85d0ab70bb23818685e4dfd\\hamcrest-integration-1.3.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\android.arch.core\\common\\1.1.0\\8007981f7d7540d89cd18471b8e5dcd2b4f99167\\common-1.1.0.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\net.sf.kxml\\kxml2\\2.3.0\\ccbc77a5fd907ef863c29f3596c6f54ffa4e9442\\kxml2-2.3.0.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\runtime-1.1.0.aar\\386de9b4bfe3bc36c31dc07fc570f845\\jars\\classes.jar;C:\\Users\\Kathe\\Downloads\\android-RuntimePermissions-master\\CWFRecyclerview\\app\\build\\intermediates\\classes\\debug;C:\\Users\\Kathe\\Downloads\\android-RuntimePermissions-master\\CWFRecyclerview\\app\\build\\generated\\res\\rs\\debug;C:\\Users\\Kathe\\Downloads\\android-RuntimePermissions-master\\CWFRecyclerview\\app\\build\\generated\\res\\resValues\\debug;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\transition-27.1.1.aar\\56bbbf66081846793e8e6ad5d263f42d\\res;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\transition-27.1.1.aar\\56bbbf66081846793e8e6ad5d263f42d\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\support-v4-27.1.1.aar\\b0f15e6eb17547dfb6b002a658bf4690\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\cardview-v7-27.1.1.aar\\e72be1cd03005dd53770e422ef3a9042\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\cardview-v7-27.1.1.aar\\e72be1cd03005dd53770e422ef3a9042\\res;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\recyclerview-v7-27.1.1.aar\\a0c73e0ca8f0a201d40c552d95d0cb2d\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\recyclerview-v7-27.1.1.aar\\a0c73e0ca8f0a201d40c552d95d0cb2d\\res;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\support-media-compat-27.1.1.aar\\821500d422cac696922838f43bdc0b51\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\support-media-compat-27.1.1.aar\\821500d422cac696922838f43bdc0b51\\res;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\constraint-layout-1.1.2.aar\\da50e0747597ae74c0ea8e969852a228\\res;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\constraint-layout-1.1.2.aar\\da50e0747597ae74c0ea8e969852a228\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\com.squareup.okhttp3\\okhttp\\3.7.0\\6edbebdd8868708db718d15c09c4b28037fd487e\\okhttp-3.7.0.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\design-27.1.1.aar\\ae7e21079024390be2e44010a29eeb0b\\res;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\design-27.1.1.aar\\ae7e21079024390be2e44010a29eeb0b\\jars\\classes.jar;C:\\Users\\Kathe\\Downloads\\android-RuntimePermissions-master\\CWFRecyclerview\\app\\libs\\RhinoCommon.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\com.android.support.constraint\\constraint-layout-solver\\1.1.2\\bfc967828daffc35ba01c9ee204d98b664930a0f\\constraint-layout-solver-1.1.2.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\com.squareup.okio\\okio\\1.12.0\\3742beff8024d0a0073d284b7c5e4cbf73d99b25\\okio-1.12.0.jar&quot; scratch\r\n    Error: Could not find or load main class scratch\r\n    Process finished with exit code 1\r\n\r\n\r\n\r\n\r\nHere&#39;s the code (which resides in a file called scratch.java):\r\n\r\n    \r\n    public class scratch {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            System.out.println(&quot;Hello World&quot;);\r\n        } \r\n    }\r\n\r\n\r\n\r\nWhat am I doing wrong? I&#39;m following the instructions on [this video][1] which works fine for him but doesn&#39;t work at all for me. Have I failed to install something or turn something on within Android Studio?\r\n\r\nI&#39;m running Android Studio 3.1.4 on a Windows 10 laptop. \r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=AmeDNZ-86ig\r\n","title":"Why won&#39;t scratch files work in Android Studio?","body":"<p>I just tried creating and running my first scratch file in Android Studio and it refuses to execute. Once I \"get the red out\" of the code, and try to execute it, it invariably gives me this message:</p>\n\n<pre><code>\"C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\" \"-javaagent:C:\\Program Files\\Android\\Android Studio\\lib\\idea_rt.jar=55179:C:\\Program Files\\Android\\Android Studio\\bin\" -Dfile.encoding=UTF-8 -classpath \"C:\\Users\\Kathe\\.AndroidStudio3.1\\system\\compile-server\\cwfrecyclerview_28cee19d\\scratches\\out;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\charsets.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\ext\\access-bridge-64.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\ext\\cldrdata.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\ext\\dnsns.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\ext\\jaccess.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\ext\\localedata.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\ext\\nashorn.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\ext\\sunec.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\ext\\sunjce_provider.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\ext\\sunmscapi.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\ext\\sunpkcs11.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\ext\\zipfs.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\jce.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\jsse.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\management-agent.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\resources.jar;C:\\Program Files\\Android\\Android Studio\\jre\\jre\\lib\\rt.jar;C:\\Users\\Kathe\\Downloads\\android-RuntimePermissions-master\\CWFRecyclerview\\common\\build\\intermediates\\classes\\debug;C:\\Users\\Kathe\\Downloads\\android-RuntimePermissions-master\\CWFRecyclerview\\common\\build\\generated\\res\\rs\\debug;C:\\Users\\Kathe\\Downloads\\android-RuntimePermissions-master\\CWFRecyclerview\\common\\build\\generated\\res\\resValues\\debug;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\runner-1.0.2.aar\\bebf8b46884ec7ad9744d30654e3a8fa\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\android.arch.lifecycle\\common\\1.1.0\\edf3f7bfb84a7521d0599efa3b0113a0ee90f85\\common-1.1.0.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\com.android.support\\support-annotations\\27.1.1\\39ded76b5e1ce1c5b2688e1d25cdc20ecee32007\\support-annotations-27.1.1.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\animated-vector-drawable-27.1.1.aar\\3026d449b6dd3b8d579b953dbeaad620\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\support-compat-27.1.1.aar\\ac14c6fd640673d444366972bd8578f3\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\support-compat-27.1.1.aar\\ac14c6fd640673d444366972bd8578f3\\res;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\viewmodel-1.1.0.aar\\703d03849fead14cd573339ccbf74521\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\com.squareup\\javawriter\\2.1.1\\67ff45d9ae02e583d0f9b3432a5ebbe05c30c966\\javawriter-2.1.1.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\support-vector-drawable-27.1.1.aar\\af4e9375156ee99d7b7ed9804dc82dd8\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\support-core-ui-27.1.1.aar\\c7f11890d5f5b74e3e9d06afa5fbb997\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\support-core-ui-27.1.1.aar\\c7f11890d5f5b74e3e9d06afa5fbb997\\res;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\support-core-utils-27.1.1.aar\\dceb3eeaaf1050600bb0d2fe0a889a51\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\com.google.code.findbugs\\jsr305\\2.0.1\\516c03b21d50a644d538de0f0369c620989cd8f0\\jsr305-2.0.1.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\espresso-core-3.0.2.aar\\4a77e4a6c39a7f16d185757172f44dce\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\javax.inject\\javax.inject\\1\\6975da39a7040257bd51d21a231b76c915872d38\\javax.inject-1.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\support-fragment-27.1.1.aar\\8608e49b7499a17e38d008d8ae17778a\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\junit\\junit\\4.12\\2973d150c0dc1fefe998f834810d68f278ea58ec\\junit-4.12.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\runtime-1.1.0.aar\\701aa5d0a71a62d398f3390a72488495\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\org.hamcrest\\hamcrest-core\\1.3\\42a25dc3219429f0e5d060061f71acb49bf010a0\\hamcrest-core-1.3.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\monitor-1.0.2.aar\\89f15379b9d3c77bbc24a0702e0e89e9\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\appcompat-v7-27.1.1.aar\\2e2a28cf1aa5a9404e2628890daf92f7\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\appcompat-v7-27.1.1.aar\\2e2a28cf1aa5a9404e2628890daf92f7\\res;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\espresso-idling-resource-3.0.2.aar\\69861e25d616b49fdee29aa342f3e29f\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\livedata-core-1.1.0.aar\\27ba305e2a1bfa0d08b520e6303b8703\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\org.hamcrest\\hamcrest-library\\1.3\\4785a3c21320980282f9f33d0d1264a69040538f\\hamcrest-library-1.3.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\org.hamcrest\\hamcrest-integration\\1.3\\5de0c73fef18917cd85d0ab70bb23818685e4dfd\\hamcrest-integration-1.3.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\android.arch.core\\common\\1.1.0\\8007981f7d7540d89cd18471b8e5dcd2b4f99167\\common-1.1.0.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\net.sf.kxml\\kxml2\\2.3.0\\ccbc77a5fd907ef863c29f3596c6f54ffa4e9442\\kxml2-2.3.0.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\runtime-1.1.0.aar\\386de9b4bfe3bc36c31dc07fc570f845\\jars\\classes.jar;C:\\Users\\Kathe\\Downloads\\android-RuntimePermissions-master\\CWFRecyclerview\\app\\build\\intermediates\\classes\\debug;C:\\Users\\Kathe\\Downloads\\android-RuntimePermissions-master\\CWFRecyclerview\\app\\build\\generated\\res\\rs\\debug;C:\\Users\\Kathe\\Downloads\\android-RuntimePermissions-master\\CWFRecyclerview\\app\\build\\generated\\res\\resValues\\debug;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\transition-27.1.1.aar\\56bbbf66081846793e8e6ad5d263f42d\\res;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\transition-27.1.1.aar\\56bbbf66081846793e8e6ad5d263f42d\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\support-v4-27.1.1.aar\\b0f15e6eb17547dfb6b002a658bf4690\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\cardview-v7-27.1.1.aar\\e72be1cd03005dd53770e422ef3a9042\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\cardview-v7-27.1.1.aar\\e72be1cd03005dd53770e422ef3a9042\\res;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\recyclerview-v7-27.1.1.aar\\a0c73e0ca8f0a201d40c552d95d0cb2d\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\recyclerview-v7-27.1.1.aar\\a0c73e0ca8f0a201d40c552d95d0cb2d\\res;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\support-media-compat-27.1.1.aar\\821500d422cac696922838f43bdc0b51\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\support-media-compat-27.1.1.aar\\821500d422cac696922838f43bdc0b51\\res;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\constraint-layout-1.1.2.aar\\da50e0747597ae74c0ea8e969852a228\\res;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\constraint-layout-1.1.2.aar\\da50e0747597ae74c0ea8e969852a228\\jars\\classes.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\com.squareup.okhttp3\\okhttp\\3.7.0\\6edbebdd8868708db718d15c09c4b28037fd487e\\okhttp-3.7.0.jar;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\design-27.1.1.aar\\ae7e21079024390be2e44010a29eeb0b\\res;C:\\Users\\Kathe\\.gradle\\caches\\transforms-1\\files-1.1\\design-27.1.1.aar\\ae7e21079024390be2e44010a29eeb0b\\jars\\classes.jar;C:\\Users\\Kathe\\Downloads\\android-RuntimePermissions-master\\CWFRecyclerview\\app\\libs\\RhinoCommon.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\com.android.support.constraint\\constraint-layout-solver\\1.1.2\\bfc967828daffc35ba01c9ee204d98b664930a0f\\constraint-layout-solver-1.1.2.jar;C:\\Users\\Kathe\\.gradle\\caches\\modules-2\\files-2.1\\com.squareup.okio\\okio\\1.12.0\\3742beff8024d0a0073d284b7c5e4cbf73d99b25\\okio-1.12.0.jar\" scratch\nError: Could not find or load main class scratch\nProcess finished with exit code 1\n</code></pre>\n\n<p>Here's the code (which resides in a file called scratch.java):</p>\n\n<pre><code>public class scratch {\n\n    public static void main(String[] args) {\n\n        System.out.println(\"Hello World\");\n    } \n}\n</code></pre>\n\n<p>What am I doing wrong? I'm following the instructions on <a href=\"https://www.youtube.com/watch?v=AmeDNZ-86ig\" rel=\"nofollow noreferrer\">this video</a> which works fine for him but doesn't work at all for me. Have I failed to install something or turn something on within Android Studio?</p>\n\n<p>I'm running Android Studio 3.1.4 on a Windows 10 laptop. </p>\n"},{"tags":["java","json","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660847337,"creation_date":1660817721,"answer_id":73401276,"question_id":73397763,"body_markdown":"One possible solution is to transform the JSON structure, separate String and Object elements before deserialization.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;errorCount\\&quot;: 2,&quot; +\r\n        &quot;    \\&quot;errorIndices\\&quot;: [&quot; +\r\n        &quot;        0,&quot; +\r\n        &quot;        1&quot; +\r\n        &quot;    ],&quot; +\r\n        &quot;    \\&quot;data\\&quot;: [&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;            \\&quot;errorCode\\&quot;: 901,&quot; +\r\n        &quot;            \\&quot;errorMessage\\&quot;: \\&quot;IBad data: Check the data\\&quot;,&quot; +\r\n        &quot;            \\&quot;errorData\\&quot;: \\&quot;xxxx\\&quot;&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;            \\&quot;errorCode\\&quot;: 901,&quot; +\r\n        &quot;            \\&quot;errorMessage\\&quot;: \\&quot;IBad data: Check the data\\&quot;,&quot; +\r\n        &quot;            \\&quot;errorData\\&quot;: \\&quot;XZY\\&quot;&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        \\&quot;fun now\\&quot;&quot; +\r\n        &quot;    ]&quot; +\r\n        &quot;}&quot;);\r\n    JsonNode node = josson.getNode(&quot;field(data[isText()]*, errors: data[isObject()]*)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n**Output**\r\n\r\n    {\r\n      &quot;errorCount&quot; : 2,\r\n      &quot;errorIndices&quot; : [ 0, 1 ],\r\n      &quot;data&quot; : [ &quot;fun now&quot; ],\r\n      &quot;errors&quot; : [ {\r\n        &quot;errorCode&quot; : 901,\r\n        &quot;errorMessage&quot; : &quot;IBad data: Check the data&quot;,\r\n        &quot;errorData&quot; : &quot;xxxx&quot;\r\n      }, {\r\n        &quot;errorCode&quot; : 901,\r\n        &quot;errorMessage&quot; : &quot;IBad data: Check the data&quot;,\r\n        &quot;errorData&quot; : &quot;XZY&quot;\r\n      } ]\r\n    }\r\n\r\n**Deserialization**\r\n\r\nI tested this without error.\r\n\r\n    JsonNode node = josson.getNode(&quot;field(data[isText()]*, errors: data[isObject()]*)&quot;);\r\n    ApiResponse apiResponse = new ObjectMapper().readerFor(ApiResponse.class).readValue(node);\r\n\r\nError.java\r\n\r\n    public class Error {\r\n        int errorCode;\r\n        String errorMessage;\r\n        String errorData;\r\n\r\n        public Error() {\r\n        }\r\n\r\n        public void setErrorCode(int errorCode) {\r\n            this.errorCode = errorCode;\r\n        }\r\n\r\n        public void setErrorMessage(String errorMessage) {\r\n            this.errorMessage = errorMessage;\r\n        }\r\n\r\n        public void setErrorData(String errorData) {\r\n            this.errorData = errorData;\r\n        }\r\n    }\r\n\r\nApiResponse.java\r\n\r\n    public class ApiResponse {\r\n        int errorCount;\r\n        int[] errorIndices;\r\n        String[] data;\r\n        Error[] errors;\r\n\r\n        public ApiResponse() {\r\n        }\r\n\r\n        public void setErrorCount(int errorCount) {\r\n            this.errorCount = errorCount;\r\n        }\r\n\r\n        public void setErrorIndices(int[] errorIndices) {\r\n            this.errorIndices = errorIndices;\r\n        }\r\n\r\n        public void setData(String[] data) {\r\n            this.data = data;\r\n        }\r\n\r\n        public void setErrors(Error[] errors) {\r\n            this.errors = errors;\r\n        }\r\n    }\r\n","title":"Variable api JSON responses to bind to Java Object using Jackson","body":"<p>One possible solution is to transform the JSON structure, separate String and Object elements before deserialization.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;errorCount\\&quot;: 2,&quot; +\n    &quot;    \\&quot;errorIndices\\&quot;: [&quot; +\n    &quot;        0,&quot; +\n    &quot;        1&quot; +\n    &quot;    ],&quot; +\n    &quot;    \\&quot;data\\&quot;: [&quot; +\n    &quot;        {&quot; +\n    &quot;            \\&quot;errorCode\\&quot;: 901,&quot; +\n    &quot;            \\&quot;errorMessage\\&quot;: \\&quot;IBad data: Check the data\\&quot;,&quot; +\n    &quot;            \\&quot;errorData\\&quot;: \\&quot;xxxx\\&quot;&quot; +\n    &quot;        },&quot; +\n    &quot;        {&quot; +\n    &quot;            \\&quot;errorCode\\&quot;: 901,&quot; +\n    &quot;            \\&quot;errorMessage\\&quot;: \\&quot;IBad data: Check the data\\&quot;,&quot; +\n    &quot;            \\&quot;errorData\\&quot;: \\&quot;XZY\\&quot;&quot; +\n    &quot;        },&quot; +\n    &quot;        \\&quot;fun now\\&quot;&quot; +\n    &quot;    ]&quot; +\n    &quot;}&quot;);\nJsonNode node = josson.getNode(&quot;field(data[isText()]*, errors: data[isObject()]*)&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;errorCount&quot; : 2,\n  &quot;errorIndices&quot; : [ 0, 1 ],\n  &quot;data&quot; : [ &quot;fun now&quot; ],\n  &quot;errors&quot; : [ {\n    &quot;errorCode&quot; : 901,\n    &quot;errorMessage&quot; : &quot;IBad data: Check the data&quot;,\n    &quot;errorData&quot; : &quot;xxxx&quot;\n  }, {\n    &quot;errorCode&quot; : 901,\n    &quot;errorMessage&quot; : &quot;IBad data: Check the data&quot;,\n    &quot;errorData&quot; : &quot;XZY&quot;\n  } ]\n}\n</code></pre>\n<p><strong>Deserialization</strong></p>\n<p>I tested this without error.</p>\n<pre><code>JsonNode node = josson.getNode(&quot;field(data[isText()]*, errors: data[isObject()]*)&quot;);\nApiResponse apiResponse = new ObjectMapper().readerFor(ApiResponse.class).readValue(node);\n</code></pre>\n<p>Error.java</p>\n<pre><code>public class Error {\n    int errorCode;\n    String errorMessage;\n    String errorData;\n\n    public Error() {\n    }\n\n    public void setErrorCode(int errorCode) {\n        this.errorCode = errorCode;\n    }\n\n    public void setErrorMessage(String errorMessage) {\n        this.errorMessage = errorMessage;\n    }\n\n    public void setErrorData(String errorData) {\n        this.errorData = errorData;\n    }\n}\n</code></pre>\n<p>ApiResponse.java</p>\n<pre><code>public class ApiResponse {\n    int errorCount;\n    int[] errorIndices;\n    String[] data;\n    Error[] errors;\n\n    public ApiResponse() {\n    }\n\n    public void setErrorCount(int errorCount) {\n        this.errorCount = errorCount;\n    }\n\n    public void setErrorIndices(int[] errorIndices) {\n        this.errorIndices = errorIndices;\n    }\n\n    public void setData(String[] data) {\n        this.data = data;\n    }\n\n    public void setErrors(Error[] errors) {\n        this.errors = errors;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2254847,"reputation":249,"user_id":1986244,"accept_rate":15,"display_name":"user1986244"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660976133,"creation_date":1660976133,"answer_id":73424495,"question_id":73397763,"body_markdown":"My target was to use Jackson api, and @Raymond approach is using another library. I found custom deserialization appro[ach here][1] \r\nI used the ```SingleAwareListDeserializer``` from the article and updated it to the following. In my case the deserializer in case of String response it is just pushing the String to the list. \r\n```\r\n  if (JsonToken.START_ARRAY.equals(token)) {\r\n            while (p.nextToken() != null) {\r\n                if (JsonToken.START_OBJECT.equals(p.currentToken())) {\r\n                    list.add(deserializeObject(p));\r\n                } else  if (JsonToken.VALUE_STRING.equals(p.currentToken())) {\r\n                 //added this part in case of string response\r\n                list.add(p.getValueAsString());\r\n                } \r\n            }\r\n        }\r\n```\r\nI have the following classes to map the response.\r\n```\r\npublic class Data {\r\n\r\n\tprivate Data() {\r\n\t\t\r\n\t}\r\n\r\n\tprivate String errorCode;\r\n\tprivate String errorMessage;\r\n\tprivate String errorData;\r\n\t\r\n\tpublic String getErrorCode() {\r\n\t\treturn errorCode;\r\n\t}\r\n\tpublic void setErrorCode(String errorCode) {\r\n\t\tthis.errorCode = errorCode;\r\n\t}\r\n\tpublic String getErrorMessage() {\r\n\t\treturn errorMessage;\r\n\t}\r\n\tpublic void setErrorMessage(String errorMessage) {\r\n\t\tthis.errorMessage = errorMessage;\r\n\t}\r\n\tpublic String getErrorData() {\r\n\t\treturn errorData;\r\n\t}\r\n\tpublic void setErrorData(String errorData) {\r\n\t\tthis.errorData = errorData;\r\n\t}\r\n\r\n\t\r\n\t\r\n}\r\n```\r\nBelow ApiResponse\r\n```\r\npublic class ApiResponse {\r\n\r\n\tint errorCount;\r\n\tint[] errorIndices;\r\n\t\r\n\t@JsonDeserialize(using = SingleAwareListDeserializer.class)\r\n\tList&lt;Data&gt; data;\r\n\t\r\n\tpublic int getErrorCount() {\r\n\t\treturn errorCount;\r\n\t}\r\n\tpublic void setErrorCount(int errorCount) {\r\n\t\tthis.errorCount = errorCount;\r\n\t}\r\n\tpublic int[] getErrorIndices() {\r\n\t\treturn errorIndices;\r\n\t}\r\n\tpublic void setErrorIndices(int[] errorIndices) {\r\n\t\tthis.errorIndices = errorIndices;\r\n\t}\r\n\r\n\tpublic List&lt;Data&gt; getData() {\r\n\t\treturn data;\r\n\t}\r\n\tpublic void setData(List&lt;Data&gt; data) {\r\n\t\tthis.data = data;\r\n\t}\r\n\t\r\n}\r\n```\r\nFor testing I used the following,\r\n```\r\npublic void deserializeTest() {\r\n       //case response has a generic List with Data object type and string //value mix\r\n\t\tString objStringWithError = &quot;\\n&quot;\r\n\t\t\t\t+ &quot;{\\n&quot;\r\n\t\t\t\t+ &quot;    \\&quot;errorCount\\&quot;: 2,\\n&quot;\r\n\t\t\t\t+ &quot;    \\&quot;errorIndices\\&quot;: [\\n&quot;\r\n\t\t\t\t+ &quot;        0,\\n&quot;\r\n\t\t\t\t+ &quot;        1\\n&quot;\r\n\t\t\t\t+ &quot;    ],\\n&quot;\r\n\t\t\t\t+ &quot;    \\&quot;data\\&quot;: [\\n&quot;\r\n\t\t\t\t+ &quot;        \\&quot;try now\\&quot;,\\n&quot;\r\n\t\t\t\t+ &quot;        {\\n&quot;\r\n\t\t\t\t+ &quot;            \\&quot;errorCode\\&quot;: 901,\\n&quot;\r\n\t\t\t\t+ &quot;            \\&quot;errorMessage\\&quot;: \\&quot;IBad data: Check the data\\&quot;,\\n&quot;\r\n\t\t\t\t+ &quot;            \\&quot;errorData\\&quot;: \\&quot;xxxx\\&quot;\\n&quot;\r\n\t\t\t\t+ &quot;        },\\n&quot;\r\n\t\t\t\t+ &quot;        {\\n&quot;\r\n\t\t\t\t+ &quot;            \\&quot;errorCode\\&quot;: 901,\\n&quot;\r\n\t\t\t\t+ &quot;            \\&quot;errorMessage\\&quot;: \\&quot;IBad data: Check the data\\&quot;,\\n&quot;\r\n\t\t\t\t+ &quot;            \\&quot;errorData\\&quot;: \\&quot;XZY\\&quot;\\n&quot;\r\n\t\t\t\t+ &quot;        },\\n&quot;\r\n\t\t\t\t+ &quot;        \\&quot;fun now\\&quot;\\n&quot;\r\n\t\t\t\t+ &quot;    ]\\n&quot;\r\n\t\t\t\t+ &quot;}&quot;;\r\n//case response have errorcount, errorIndices fields and array of Strings\r\n\t\tString objStringWithNoError = &quot;{\\&quot;errorCount\\&quot;: 0,\\n&quot;\r\n\t\t\t\t+ &quot;\\&quot;errorIndices\\&quot;: [],\\n&quot;\r\n\t\t\t\t+ &quot;\\&quot;data\\&quot;: [\\n&quot;\r\n\t\t\t\t+ &quot;    \\&quot;fun now\\&quot;,\\n&quot;\r\n\t\t\t\t+ &quot;    \\&quot;try later\\&quot;\\n&quot;\r\n\t\t\t\t+ &quot;]}&quot;;\r\n//case response is only array of strings\r\n\t\tString stringArray = &quot;{\\n&quot;\r\n\t\t\t\t+ &quot;\\&quot;data\\&quot;: [\\n&quot;\r\n\t\t\t\t+ &quot;    \\&quot;fun now\\&quot;,\\n&quot;\r\n\t\t\t\t+ &quot;    \\&quot;try later\\&quot;\\n&quot;\r\n\t\t\t\t+ &quot;]}&quot;;\r\n\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tApiResponse model = null;\r\n\t\ttry {\r\n\t\t\tmodel = mapper.readValue(objStringWithError, ApiResponse.class);\r\n\t\t} catch (JsonMappingException e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (JsonProcessingException e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n```\r\nThe deserializer works in all three cases; I only mentioned first case in my initial question. I have a mix of data types-- a Data type object and String type object, but if the response is all String I still also getting List of String in the ApiResponse data field which converted to List&lt;E&gt; object. What I understood is that the deserializer is creating a generic List object and assigning it to List&lt;Data&gt;. I could not  create field under Data class to hold string value when Deserializer is within this condition.\r\n```if(JsonToken.VALUE_STRING.equals(p.currentToken()))```\r\n  [1]: https://dzone.com/articles/consuming-variable-responses-in-jackson","title":"Variable api JSON responses to bind to Java Object using Jackson","body":"<p>My target was to use Jackson api, and @Raymond approach is using another library. I found custom deserialization appro[ach here][1]\nI used the <code>SingleAwareListDeserializer</code> from the article and updated it to the following. In my case the deserializer in case of String response it is just pushing the String to the list.</p>\n<pre><code>  if (JsonToken.START_ARRAY.equals(token)) {\n            while (p.nextToken() != null) {\n                if (JsonToken.START_OBJECT.equals(p.currentToken())) {\n                    list.add(deserializeObject(p));\n                } else  if (JsonToken.VALUE_STRING.equals(p.currentToken())) {\n                 //added this part in case of string response\n                list.add(p.getValueAsString());\n                } \n            }\n        }\n</code></pre>\n<p>I have the following classes to map the response.</p>\n<pre><code>public class Data {\n\n    private Data() {\n        \n    }\n\n    private String errorCode;\n    private String errorMessage;\n    private String errorData;\n    \n    public String getErrorCode() {\n        return errorCode;\n    }\n    public void setErrorCode(String errorCode) {\n        this.errorCode = errorCode;\n    }\n    public String getErrorMessage() {\n        return errorMessage;\n    }\n    public void setErrorMessage(String errorMessage) {\n        this.errorMessage = errorMessage;\n    }\n    public String getErrorData() {\n        return errorData;\n    }\n    public void setErrorData(String errorData) {\n        this.errorData = errorData;\n    }\n\n    \n    \n}\n</code></pre>\n<p>Below ApiResponse</p>\n<pre><code>public class ApiResponse {\n\n    int errorCount;\n    int[] errorIndices;\n    \n    @JsonDeserialize(using = SingleAwareListDeserializer.class)\n    List&lt;Data&gt; data;\n    \n    public int getErrorCount() {\n        return errorCount;\n    }\n    public void setErrorCount(int errorCount) {\n        this.errorCount = errorCount;\n    }\n    public int[] getErrorIndices() {\n        return errorIndices;\n    }\n    public void setErrorIndices(int[] errorIndices) {\n        this.errorIndices = errorIndices;\n    }\n\n    public List&lt;Data&gt; getData() {\n        return data;\n    }\n    public void setData(List&lt;Data&gt; data) {\n        this.data = data;\n    }\n    \n}\n</code></pre>\n<p>For testing I used the following,</p>\n<pre><code>public void deserializeTest() {\n       //case response has a generic List with Data object type and string //value mix\n        String objStringWithError = &quot;\\n&quot;\n                + &quot;{\\n&quot;\n                + &quot;    \\&quot;errorCount\\&quot;: 2,\\n&quot;\n                + &quot;    \\&quot;errorIndices\\&quot;: [\\n&quot;\n                + &quot;        0,\\n&quot;\n                + &quot;        1\\n&quot;\n                + &quot;    ],\\n&quot;\n                + &quot;    \\&quot;data\\&quot;: [\\n&quot;\n                + &quot;        \\&quot;try now\\&quot;,\\n&quot;\n                + &quot;        {\\n&quot;\n                + &quot;            \\&quot;errorCode\\&quot;: 901,\\n&quot;\n                + &quot;            \\&quot;errorMessage\\&quot;: \\&quot;IBad data: Check the data\\&quot;,\\n&quot;\n                + &quot;            \\&quot;errorData\\&quot;: \\&quot;xxxx\\&quot;\\n&quot;\n                + &quot;        },\\n&quot;\n                + &quot;        {\\n&quot;\n                + &quot;            \\&quot;errorCode\\&quot;: 901,\\n&quot;\n                + &quot;            \\&quot;errorMessage\\&quot;: \\&quot;IBad data: Check the data\\&quot;,\\n&quot;\n                + &quot;            \\&quot;errorData\\&quot;: \\&quot;XZY\\&quot;\\n&quot;\n                + &quot;        },\\n&quot;\n                + &quot;        \\&quot;fun now\\&quot;\\n&quot;\n                + &quot;    ]\\n&quot;\n                + &quot;}&quot;;\n//case response have errorcount, errorIndices fields and array of Strings\n        String objStringWithNoError = &quot;{\\&quot;errorCount\\&quot;: 0,\\n&quot;\n                + &quot;\\&quot;errorIndices\\&quot;: [],\\n&quot;\n                + &quot;\\&quot;data\\&quot;: [\\n&quot;\n                + &quot;    \\&quot;fun now\\&quot;,\\n&quot;\n                + &quot;    \\&quot;try later\\&quot;\\n&quot;\n                + &quot;]}&quot;;\n//case response is only array of strings\n        String stringArray = &quot;{\\n&quot;\n                + &quot;\\&quot;data\\&quot;: [\\n&quot;\n                + &quot;    \\&quot;fun now\\&quot;,\\n&quot;\n                + &quot;    \\&quot;try later\\&quot;\\n&quot;\n                + &quot;]}&quot;;\n\n        ObjectMapper mapper = new ObjectMapper();\n        ApiResponse model = null;\n        try {\n            model = mapper.readValue(objStringWithError, ApiResponse.class);\n        } catch (JsonMappingException e) {\n            System.out.println(e.getMessage());\n            e.printStackTrace();\n        } catch (JsonProcessingException e) {\n            System.out.println(e.getMessage());\n            e.printStackTrace();\n        }\n</code></pre>\n<p>The deserializer works in all three cases; I only mentioned first case in my initial question. I have a mix of data types-- a Data type object and String type object, but if the response is all String I still also getting List of String in the ApiResponse data field which converted to List object. What I understood is that the deserializer is creating a generic List object and assigning it to List. I could not  create field under Data class to hold string value when Deserializer is within this condition.\n<code>if(JsonToken.VALUE_STRING.equals(p.currentToken()))</code>\n[1]: <a href=\"https://dzone.com/articles/consuming-variable-responses-in-jackson\" rel=\"nofollow noreferrer\">https://dzone.com/articles/consuming-variable-responses-in-jackson</a></p>\n"}],"owner":{"account_id":2254847,"reputation":249,"user_id":1986244,"accept_rate":15,"display_name":"user1986244"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660976133,"creation_date":1660799700,"question_id":73397763,"body_markdown":"Currently, I am calling third party api which can give the following two variable responses.\r\nI am working in springboot and using Jackson for transformation of REST responses to Java object.\r\nThe two variables responses are the following\\\r\n**error, and success data response combined**\r\n```\r\n{\r\n    &quot;errorCount&quot;: 2,\r\n    &quot;errorIndices&quot;: [\r\n        0,\r\n        1\r\n    ],\r\n    &quot;data&quot;: [\r\n        {\r\n            &quot;errorCode&quot;: 901,\r\n            &quot;errorMessage&quot;: &quot;IBad data: Check the data&quot;,\r\n            &quot;errorData&quot;: &quot;xxxx&quot;\r\n        },\r\n        {\r\n            &quot;errorCode&quot;: 901,\r\n            &quot;errorMessage&quot;: &quot;IBad data: Check the data&quot;,\r\n            &quot;errorData&quot;: &quot;XZY&quot;\r\n        },\r\n        &quot;fun now&quot;\r\n    ]\r\n}\r\n```\r\n**In case of all success**\r\n```\r\n&quot;{&quot;errorCount&quot;: 0,\r\n&quot;errorIndices&quot;: [],\r\n&quot;data&quot;: [\r\n    &quot;fun now&quot;,\r\n    &quot;try later&quot;\r\n]\r\n}\r\n```\r\nThe below class I created works for all success scenario, \r\n```\r\npublic class ApiResponse {\r\n @JsonProperty\r\n private int errorCount;\r\n  @JsonProperty\r\n private int[] errorIndices;\r\n  @JsonProperty\r\n private String[] data;\r\n\r\n......\r\n\r\n}\r\n```\r\nbut I am unable to convert the first scenario where error and success results are combined. \r\nIs it possible to create java object that can combined the two scenarios using Jackson api? I need some direction on how to achieve that. ","title":"Variable api JSON responses to bind to Java Object using Jackson","body":"<p>Currently, I am calling third party api which can give the following two variable responses.\nI am working in springboot and using Jackson for transformation of REST responses to Java object.\nThe two variables responses are the following<br />\n<strong>error, and success data response combined</strong></p>\n<pre><code>{\n    &quot;errorCount&quot;: 2,\n    &quot;errorIndices&quot;: [\n        0,\n        1\n    ],\n    &quot;data&quot;: [\n        {\n            &quot;errorCode&quot;: 901,\n            &quot;errorMessage&quot;: &quot;IBad data: Check the data&quot;,\n            &quot;errorData&quot;: &quot;xxxx&quot;\n        },\n        {\n            &quot;errorCode&quot;: 901,\n            &quot;errorMessage&quot;: &quot;IBad data: Check the data&quot;,\n            &quot;errorData&quot;: &quot;XZY&quot;\n        },\n        &quot;fun now&quot;\n    ]\n}\n</code></pre>\n<p><strong>In case of all success</strong></p>\n<pre><code>&quot;{&quot;errorCount&quot;: 0,\n&quot;errorIndices&quot;: [],\n&quot;data&quot;: [\n    &quot;fun now&quot;,\n    &quot;try later&quot;\n]\n}\n</code></pre>\n<p>The below class I created works for all success scenario,</p>\n<pre><code>public class ApiResponse {\n @JsonProperty\n private int errorCount;\n  @JsonProperty\n private int[] errorIndices;\n  @JsonProperty\n private String[] data;\n\n......\n\n}\n</code></pre>\n<p>but I am unable to convert the first scenario where error and success results are combined.\nIs it possible to create java object that can combined the two scenarios using Jackson api? I need some direction on how to achieve that.</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660975885,"creation_date":1660628794,"answer_id":73369270,"question_id":73362526,"body_markdown":"It is complicated to handle dynamic contents by defining many Classes. I suggest to transform the JSON directly using JSON query library. For example, use *Josson*.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n**Deserialization**\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;success\\&quot;: 1,&quot; +\r\n        &quot;    \\&quot;results\\&quot;: [&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;            \\&quot;FI\\&quot;: \\&quot;120986750\\&quot;,&quot; +\r\n        &quot;            \\&quot;event_id\\&quot;: \\&quot;5164306\\&quot;,&quot; +\r\n        &quot;            \\&quot;cards\\&quot;: {&quot; +\r\n        &quot;                \\&quot;updated_at\\&quot;: \\&quot;1660559432\\&quot;,&quot; +\r\n        &quot;                \\&quot;key\\&quot;: \\&quot;AAA100\\&quot;,&quot; +\r\n        &quot;                \\&quot;sp\\&quot;: {&quot; +\r\n        &quot;                    \\&quot;cards\\&quot;: {&quot; +\r\n        &quot;                        \\&quot;id\\&quot;: \\&quot;1\\&quot;,&quot; +\r\n        &quot;                        \\&quot;name\\&quot;: \\&quot;Cards\\&quot;,&quot; +\r\n        &quot;                        \\&quot;odds\\&quot;: [&quot; +\r\n        &quot;                            {&quot; +\r\n        &quot;                                \\&quot;id\\&quot;: \\&quot;101\\&quot;,&quot; +\r\n        &quot;                                \\&quot;odds\\&quot;: \\&quot;2.200\\&quot;,&quot; +\r\n        &quot;                                \\&quot;header\\&quot;: \\&quot;Over\\&quot;,&quot; +\r\n        &quot;                                \\&quot;name\\&quot;: \\&quot;11\\&quot;&quot; +\r\n        &quot;                            },&quot; +\r\n        &quot;                            {&quot; +\r\n        &quot;                                \\&quot;id\\&quot;: \\&quot;102\\&quot;,&quot; +\r\n        &quot;                                \\&quot;odds\\&quot;: \\&quot;8.500\\&quot;,&quot; +\r\n        &quot;                                \\&quot;header\\&quot;: \\&quot;Exactly\\&quot;,&quot; +\r\n        &quot;                                \\&quot;name\\&quot;: \\&quot;11\\&quot;&quot; +\r\n        &quot;                            },&quot; +\r\n        &quot;                            {&quot; +\r\n        &quot;                                \\&quot;id\\&quot;: \\&quot;103\\&quot;,&quot; +\r\n        &quot;                                \\&quot;odds\\&quot;: \\&quot;1.909\\&quot;,&quot; +\r\n        &quot;                                \\&quot;header\\&quot;: \\&quot;Under\\&quot;,&quot; +\r\n        &quot;                                \\&quot;name\\&quot;: \\&quot;11\\&quot;&quot; +\r\n        &quot;                            }&quot; +\r\n        &quot;                        ]&quot; +\r\n        &quot;                    }&quot; +\r\n        &quot;                }&quot; +\r\n        &quot;            },&quot; +\r\n        &quot;            \\&quot;corners\\&quot;: {&quot; +\r\n        &quot;                \\&quot;updated_at\\&quot;: \\&quot;1660559431\\&quot;,&quot; +\r\n        &quot;                \\&quot;key\\&quot;: \\&quot;AAA200\\&quot;,&quot; +\r\n        &quot;                \\&quot;sp\\&quot;: {&quot; +\r\n        &quot;                    \\&quot;corners\\&quot;: {&quot; +\r\n        &quot;                        \\&quot;id\\&quot;: \\&quot;2\\&quot;,&quot; +\r\n        &quot;                        \\&quot;name\\&quot;: \\&quot;Corners\\&quot;,&quot; +\r\n        &quot;                        \\&quot;odds\\&quot;: [&quot; +\r\n        &quot;                            {&quot; +\r\n        &quot;                                \\&quot;id\\&quot;: \\&quot;201\\&quot;,&quot; +\r\n        &quot;                                \\&quot;odds\\&quot;: \\&quot;2.200\\&quot;,&quot; +\r\n        &quot;                                \\&quot;header\\&quot;: \\&quot;Over\\&quot;,&quot; +\r\n        &quot;                                \\&quot;name\\&quot;: \\&quot;10\\&quot;&quot; +\r\n        &quot;                            },&quot; +\r\n        &quot;                            {&quot; +\r\n        &quot;                                \\&quot;id\\&quot;: \\&quot;202\\&quot;,&quot; +\r\n        &quot;                                \\&quot;odds\\&quot;: \\&quot;8.500\\&quot;,&quot; +\r\n        &quot;                                \\&quot;header\\&quot;: \\&quot;Exactly\\&quot;,&quot; +\r\n        &quot;                                \\&quot;name\\&quot;: \\&quot;10\\&quot;&quot; +\r\n        &quot;                            },&quot; +\r\n        &quot;                            {&quot; +\r\n        &quot;                                \\&quot;id\\&quot;: \\&quot;203\\&quot;,&quot; +\r\n        &quot;                                \\&quot;odds\\&quot;: \\&quot;1.909\\&quot;,&quot; +\r\n        &quot;                                \\&quot;header\\&quot;: \\&quot;Under\\&quot;,&quot; +\r\n        &quot;                                \\&quot;name\\&quot;: \\&quot;10\\&quot;&quot; +\r\n        &quot;                            }&quot; +\r\n        &quot;                        ]&quot; +\r\n        &quot;                    },&quot; +\r\n        &quot;                    \\&quot;total_corners\\&quot;: {&quot; +\r\n        &quot;                        \\&quot;id\\&quot;: \\&quot;3\\&quot;,&quot; +\r\n        &quot;                        \\&quot;name\\&quot;: \\&quot;Total Corners\\&quot;,&quot; +\r\n        &quot;                        \\&quot;odds\\&quot;: [&quot; +\r\n        &quot;                            {&quot; +\r\n        &quot;                                \\&quot;id\\&quot;: \\&quot;204\\&quot;,&quot; +\r\n        &quot;                                \\&quot;odds\\&quot;: \\&quot;17.000\\&quot;,&quot; +\r\n        &quot;                                \\&quot;name\\&quot;: \\&quot;Under 6\\&quot;&quot; +\r\n        &quot;                            },&quot; +\r\n        &quot;                            {&quot; +\r\n        &quot;                                \\&quot;id\\&quot;: \\&quot;205\\&quot;,&quot; +\r\n        &quot;                                \\&quot;odds\\&quot;: \\&quot;4.333\\&quot;,&quot; +\r\n        &quot;                                \\&quot;name\\&quot;: \\&quot;6 - 8\\&quot;&quot; +\r\n        &quot;                            },&quot; +\r\n        &quot;                            {&quot; +\r\n        &quot;                                \\&quot;id\\&quot;: \\&quot;206\\&quot;,&quot; +\r\n        &quot;                                \\&quot;odds\\&quot;: \\&quot;2.750\\&quot;,&quot; +\r\n        &quot;                                \\&quot;name\\&quot;: \\&quot;9 - 11\\&quot;&quot; +\r\n        &quot;                            },&quot; +\r\n        &quot;                            {&quot; +\r\n        &quot;                                \\&quot;id\\&quot;: \\&quot;207\\&quot;,&quot; +\r\n        &quot;                                \\&quot;odds\\&quot;: \\&quot;3.400\\&quot;,&quot; +\r\n        &quot;                                \\&quot;name\\&quot;: \\&quot;12 - 14\\&quot;&quot; +\r\n        &quot;                            },&quot; +\r\n        &quot;                            {&quot; +\r\n        &quot;                                \\&quot;id\\&quot;: \\&quot;208\\&quot;,&quot; +\r\n        &quot;                                \\&quot;odds\\&quot;: \\&quot;5.500\\&quot;,&quot; +\r\n        &quot;                                \\&quot;name\\&quot;: \\&quot;Over 14\\&quot;&quot; +\r\n        &quot;                            }&quot; +\r\n        &quot;                        ]&quot; +\r\n        &quot;                    }&quot; +\r\n        &quot;                }&quot; +\r\n        &quot;            }&quot; +\r\n        &quot;        }&quot; +\r\n        &quot;    ]&quot; +\r\n        &quot;}&quot;);\r\n\r\n**Transformation**\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;results.map(&quot; +\r\n        &quot;    FI,&quot; +\r\n        &quot;    event_id,&quot; +\r\n        &quot;    categories: entries().[value.isObject()]*&quot; +\r\n        &quot;        .map(category: key,&quot; +\r\n        &quot;             value.updated_at,&quot; +\r\n        &quot;             value.key,&quot; +\r\n        &quot;             details: value.sp.**&quot; +\r\n        &quot;                 .map(market_id: id,&quot; +\r\n        &quot;                      market: name,&quot; +\r\n        &quot;                      odds)&quot; +\r\n        &quot;                 .unwind(odds)&quot; +\r\n        &quot;        ).unwind(details)&quot; +\r\n        &quot;).unwind(categories)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n**Output**\r\n\r\n    [ {\r\n      &quot;FI&quot; : &quot;120986750&quot;,\r\n      &quot;event_id&quot; : &quot;5164306&quot;,\r\n      &quot;category&quot; : &quot;cards&quot;,\r\n      &quot;updated_at&quot; : &quot;1660559432&quot;,\r\n      &quot;key&quot; : &quot;AAA100&quot;,\r\n      &quot;market_id&quot; : &quot;1&quot;,\r\n      &quot;market&quot; : &quot;Cards&quot;,\r\n      &quot;id&quot; : &quot;101&quot;,\r\n      &quot;odds&quot; : &quot;2.200&quot;,\r\n      &quot;header&quot; : &quot;Over&quot;,\r\n      &quot;name&quot; : &quot;11&quot;\r\n    }, {\r\n      &quot;FI&quot; : &quot;120986750&quot;,\r\n      &quot;event_id&quot; : &quot;5164306&quot;,\r\n      &quot;category&quot; : &quot;cards&quot;,\r\n      &quot;updated_at&quot; : &quot;1660559432&quot;,\r\n      &quot;key&quot; : &quot;AAA100&quot;,\r\n      &quot;market_id&quot; : &quot;1&quot;,\r\n      &quot;market&quot; : &quot;Cards&quot;,\r\n      &quot;id&quot; : &quot;102&quot;,\r\n      &quot;odds&quot; : &quot;8.500&quot;,\r\n      &quot;header&quot; : &quot;Exactly&quot;,\r\n      &quot;name&quot; : &quot;11&quot;\r\n    }, {\r\n      &quot;FI&quot; : &quot;120986750&quot;,\r\n      &quot;event_id&quot; : &quot;5164306&quot;,\r\n      &quot;category&quot; : &quot;cards&quot;,\r\n      &quot;updated_at&quot; : &quot;1660559432&quot;,\r\n      &quot;key&quot; : &quot;AAA100&quot;,\r\n      &quot;market_id&quot; : &quot;1&quot;,\r\n      &quot;market&quot; : &quot;Cards&quot;,\r\n      &quot;id&quot; : &quot;103&quot;,\r\n      &quot;odds&quot; : &quot;1.909&quot;,\r\n      &quot;header&quot; : &quot;Under&quot;,\r\n      &quot;name&quot; : &quot;11&quot;\r\n    }, {\r\n      &quot;FI&quot; : &quot;120986750&quot;,\r\n      &quot;event_id&quot; : &quot;5164306&quot;,\r\n      &quot;category&quot; : &quot;corners&quot;,\r\n      &quot;updated_at&quot; : &quot;1660559431&quot;,\r\n      &quot;key&quot; : &quot;AAA200&quot;,\r\n      &quot;market_id&quot; : &quot;2&quot;,\r\n      &quot;market&quot; : &quot;Corners&quot;,\r\n      &quot;id&quot; : &quot;201&quot;,\r\n      &quot;odds&quot; : &quot;2.200&quot;,\r\n      &quot;header&quot; : &quot;Over&quot;,\r\n      &quot;name&quot; : &quot;10&quot;\r\n    }, {\r\n      &quot;FI&quot; : &quot;120986750&quot;,\r\n      &quot;event_id&quot; : &quot;5164306&quot;,\r\n      &quot;category&quot; : &quot;corners&quot;,\r\n      &quot;updated_at&quot; : &quot;1660559431&quot;,\r\n      &quot;key&quot; : &quot;AAA200&quot;,\r\n      &quot;market_id&quot; : &quot;2&quot;,\r\n      &quot;market&quot; : &quot;Corners&quot;,\r\n      &quot;id&quot; : &quot;202&quot;,\r\n      &quot;odds&quot; : &quot;8.500&quot;,\r\n      &quot;header&quot; : &quot;Exactly&quot;,\r\n      &quot;name&quot; : &quot;10&quot;\r\n    }, {\r\n      &quot;FI&quot; : &quot;120986750&quot;,\r\n      &quot;event_id&quot; : &quot;5164306&quot;,\r\n      &quot;category&quot; : &quot;corners&quot;,\r\n      &quot;updated_at&quot; : &quot;1660559431&quot;,\r\n      &quot;key&quot; : &quot;AAA200&quot;,\r\n      &quot;market_id&quot; : &quot;2&quot;,\r\n      &quot;market&quot; : &quot;Corners&quot;,\r\n      &quot;id&quot; : &quot;203&quot;,\r\n      &quot;odds&quot; : &quot;1.909&quot;,\r\n      &quot;header&quot; : &quot;Under&quot;,\r\n      &quot;name&quot; : &quot;10&quot;\r\n    }, {\r\n      &quot;FI&quot; : &quot;120986750&quot;,\r\n      &quot;event_id&quot; : &quot;5164306&quot;,\r\n      &quot;category&quot; : &quot;corners&quot;,\r\n      &quot;updated_at&quot; : &quot;1660559431&quot;,\r\n      &quot;key&quot; : &quot;AAA200&quot;,\r\n      &quot;market_id&quot; : &quot;3&quot;,\r\n      &quot;market&quot; : &quot;Total Corners&quot;,\r\n      &quot;id&quot; : &quot;204&quot;,\r\n      &quot;odds&quot; : &quot;17.000&quot;,\r\n      &quot;name&quot; : &quot;Under 6&quot;\r\n    }, {\r\n      &quot;FI&quot; : &quot;120986750&quot;,\r\n      &quot;event_id&quot; : &quot;5164306&quot;,\r\n      &quot;category&quot; : &quot;corners&quot;,\r\n      &quot;updated_at&quot; : &quot;1660559431&quot;,\r\n      &quot;key&quot; : &quot;AAA200&quot;,\r\n      &quot;market_id&quot; : &quot;3&quot;,\r\n      &quot;market&quot; : &quot;Total Corners&quot;,\r\n      &quot;id&quot; : &quot;205&quot;,\r\n      &quot;odds&quot; : &quot;4.333&quot;,\r\n      &quot;name&quot; : &quot;6 - 8&quot;\r\n    }, {\r\n      &quot;FI&quot; : &quot;120986750&quot;,\r\n      &quot;event_id&quot; : &quot;5164306&quot;,\r\n      &quot;category&quot; : &quot;corners&quot;,\r\n      &quot;updated_at&quot; : &quot;1660559431&quot;,\r\n      &quot;key&quot; : &quot;AAA200&quot;,\r\n      &quot;market_id&quot; : &quot;3&quot;,\r\n      &quot;market&quot; : &quot;Total Corners&quot;,\r\n      &quot;id&quot; : &quot;206&quot;,\r\n      &quot;odds&quot; : &quot;2.750&quot;,\r\n      &quot;name&quot; : &quot;9 - 11&quot;\r\n    }, {\r\n      &quot;FI&quot; : &quot;120986750&quot;,\r\n      &quot;event_id&quot; : &quot;5164306&quot;,\r\n      &quot;category&quot; : &quot;corners&quot;,\r\n      &quot;updated_at&quot; : &quot;1660559431&quot;,\r\n      &quot;key&quot; : &quot;AAA200&quot;,\r\n      &quot;market_id&quot; : &quot;3&quot;,\r\n      &quot;market&quot; : &quot;Total Corners&quot;,\r\n      &quot;id&quot; : &quot;207&quot;,\r\n      &quot;odds&quot; : &quot;3.400&quot;,\r\n      &quot;name&quot; : &quot;12 - 14&quot;\r\n    }, {\r\n      &quot;FI&quot; : &quot;120986750&quot;,\r\n      &quot;event_id&quot; : &quot;5164306&quot;,\r\n      &quot;category&quot; : &quot;corners&quot;,\r\n      &quot;updated_at&quot; : &quot;1660559431&quot;,\r\n      &quot;key&quot; : &quot;AAA200&quot;,\r\n      &quot;market_id&quot; : &quot;3&quot;,\r\n      &quot;market&quot; : &quot;Total Corners&quot;,\r\n      &quot;id&quot; : &quot;208&quot;,\r\n      &quot;odds&quot; : &quot;5.500&quot;,\r\n      &quot;name&quot; : &quot;Over 14&quot;\r\n    } ]","title":"Parse JSON to Java object with dynamics objects in JSON-response","body":"<p>It is complicated to handle dynamic contents by defining many Classes. I suggest to transform the JSON directly using JSON query library. For example, use <em>Josson</em>.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p><strong>Deserialization</strong></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;success\\&quot;: 1,&quot; +\n    &quot;    \\&quot;results\\&quot;: [&quot; +\n    &quot;        {&quot; +\n    &quot;            \\&quot;FI\\&quot;: \\&quot;120986750\\&quot;,&quot; +\n    &quot;            \\&quot;event_id\\&quot;: \\&quot;5164306\\&quot;,&quot; +\n    &quot;            \\&quot;cards\\&quot;: {&quot; +\n    &quot;                \\&quot;updated_at\\&quot;: \\&quot;1660559432\\&quot;,&quot; +\n    &quot;                \\&quot;key\\&quot;: \\&quot;AAA100\\&quot;,&quot; +\n    &quot;                \\&quot;sp\\&quot;: {&quot; +\n    &quot;                    \\&quot;cards\\&quot;: {&quot; +\n    &quot;                        \\&quot;id\\&quot;: \\&quot;1\\&quot;,&quot; +\n    &quot;                        \\&quot;name\\&quot;: \\&quot;Cards\\&quot;,&quot; +\n    &quot;                        \\&quot;odds\\&quot;: [&quot; +\n    &quot;                            {&quot; +\n    &quot;                                \\&quot;id\\&quot;: \\&quot;101\\&quot;,&quot; +\n    &quot;                                \\&quot;odds\\&quot;: \\&quot;2.200\\&quot;,&quot; +\n    &quot;                                \\&quot;header\\&quot;: \\&quot;Over\\&quot;,&quot; +\n    &quot;                                \\&quot;name\\&quot;: \\&quot;11\\&quot;&quot; +\n    &quot;                            },&quot; +\n    &quot;                            {&quot; +\n    &quot;                                \\&quot;id\\&quot;: \\&quot;102\\&quot;,&quot; +\n    &quot;                                \\&quot;odds\\&quot;: \\&quot;8.500\\&quot;,&quot; +\n    &quot;                                \\&quot;header\\&quot;: \\&quot;Exactly\\&quot;,&quot; +\n    &quot;                                \\&quot;name\\&quot;: \\&quot;11\\&quot;&quot; +\n    &quot;                            },&quot; +\n    &quot;                            {&quot; +\n    &quot;                                \\&quot;id\\&quot;: \\&quot;103\\&quot;,&quot; +\n    &quot;                                \\&quot;odds\\&quot;: \\&quot;1.909\\&quot;,&quot; +\n    &quot;                                \\&quot;header\\&quot;: \\&quot;Under\\&quot;,&quot; +\n    &quot;                                \\&quot;name\\&quot;: \\&quot;11\\&quot;&quot; +\n    &quot;                            }&quot; +\n    &quot;                        ]&quot; +\n    &quot;                    }&quot; +\n    &quot;                }&quot; +\n    &quot;            },&quot; +\n    &quot;            \\&quot;corners\\&quot;: {&quot; +\n    &quot;                \\&quot;updated_at\\&quot;: \\&quot;1660559431\\&quot;,&quot; +\n    &quot;                \\&quot;key\\&quot;: \\&quot;AAA200\\&quot;,&quot; +\n    &quot;                \\&quot;sp\\&quot;: {&quot; +\n    &quot;                    \\&quot;corners\\&quot;: {&quot; +\n    &quot;                        \\&quot;id\\&quot;: \\&quot;2\\&quot;,&quot; +\n    &quot;                        \\&quot;name\\&quot;: \\&quot;Corners\\&quot;,&quot; +\n    &quot;                        \\&quot;odds\\&quot;: [&quot; +\n    &quot;                            {&quot; +\n    &quot;                                \\&quot;id\\&quot;: \\&quot;201\\&quot;,&quot; +\n    &quot;                                \\&quot;odds\\&quot;: \\&quot;2.200\\&quot;,&quot; +\n    &quot;                                \\&quot;header\\&quot;: \\&quot;Over\\&quot;,&quot; +\n    &quot;                                \\&quot;name\\&quot;: \\&quot;10\\&quot;&quot; +\n    &quot;                            },&quot; +\n    &quot;                            {&quot; +\n    &quot;                                \\&quot;id\\&quot;: \\&quot;202\\&quot;,&quot; +\n    &quot;                                \\&quot;odds\\&quot;: \\&quot;8.500\\&quot;,&quot; +\n    &quot;                                \\&quot;header\\&quot;: \\&quot;Exactly\\&quot;,&quot; +\n    &quot;                                \\&quot;name\\&quot;: \\&quot;10\\&quot;&quot; +\n    &quot;                            },&quot; +\n    &quot;                            {&quot; +\n    &quot;                                \\&quot;id\\&quot;: \\&quot;203\\&quot;,&quot; +\n    &quot;                                \\&quot;odds\\&quot;: \\&quot;1.909\\&quot;,&quot; +\n    &quot;                                \\&quot;header\\&quot;: \\&quot;Under\\&quot;,&quot; +\n    &quot;                                \\&quot;name\\&quot;: \\&quot;10\\&quot;&quot; +\n    &quot;                            }&quot; +\n    &quot;                        ]&quot; +\n    &quot;                    },&quot; +\n    &quot;                    \\&quot;total_corners\\&quot;: {&quot; +\n    &quot;                        \\&quot;id\\&quot;: \\&quot;3\\&quot;,&quot; +\n    &quot;                        \\&quot;name\\&quot;: \\&quot;Total Corners\\&quot;,&quot; +\n    &quot;                        \\&quot;odds\\&quot;: [&quot; +\n    &quot;                            {&quot; +\n    &quot;                                \\&quot;id\\&quot;: \\&quot;204\\&quot;,&quot; +\n    &quot;                                \\&quot;odds\\&quot;: \\&quot;17.000\\&quot;,&quot; +\n    &quot;                                \\&quot;name\\&quot;: \\&quot;Under 6\\&quot;&quot; +\n    &quot;                            },&quot; +\n    &quot;                            {&quot; +\n    &quot;                                \\&quot;id\\&quot;: \\&quot;205\\&quot;,&quot; +\n    &quot;                                \\&quot;odds\\&quot;: \\&quot;4.333\\&quot;,&quot; +\n    &quot;                                \\&quot;name\\&quot;: \\&quot;6 - 8\\&quot;&quot; +\n    &quot;                            },&quot; +\n    &quot;                            {&quot; +\n    &quot;                                \\&quot;id\\&quot;: \\&quot;206\\&quot;,&quot; +\n    &quot;                                \\&quot;odds\\&quot;: \\&quot;2.750\\&quot;,&quot; +\n    &quot;                                \\&quot;name\\&quot;: \\&quot;9 - 11\\&quot;&quot; +\n    &quot;                            },&quot; +\n    &quot;                            {&quot; +\n    &quot;                                \\&quot;id\\&quot;: \\&quot;207\\&quot;,&quot; +\n    &quot;                                \\&quot;odds\\&quot;: \\&quot;3.400\\&quot;,&quot; +\n    &quot;                                \\&quot;name\\&quot;: \\&quot;12 - 14\\&quot;&quot; +\n    &quot;                            },&quot; +\n    &quot;                            {&quot; +\n    &quot;                                \\&quot;id\\&quot;: \\&quot;208\\&quot;,&quot; +\n    &quot;                                \\&quot;odds\\&quot;: \\&quot;5.500\\&quot;,&quot; +\n    &quot;                                \\&quot;name\\&quot;: \\&quot;Over 14\\&quot;&quot; +\n    &quot;                            }&quot; +\n    &quot;                        ]&quot; +\n    &quot;                    }&quot; +\n    &quot;                }&quot; +\n    &quot;            }&quot; +\n    &quot;        }&quot; +\n    &quot;    ]&quot; +\n    &quot;}&quot;);\n</code></pre>\n<p><strong>Transformation</strong></p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;results.map(&quot; +\n    &quot;    FI,&quot; +\n    &quot;    event_id,&quot; +\n    &quot;    categories: entries().[value.isObject()]*&quot; +\n    &quot;        .map(category: key,&quot; +\n    &quot;             value.updated_at,&quot; +\n    &quot;             value.key,&quot; +\n    &quot;             details: value.sp.**&quot; +\n    &quot;                 .map(market_id: id,&quot; +\n    &quot;                      market: name,&quot; +\n    &quot;                      odds)&quot; +\n    &quot;                 .unwind(odds)&quot; +\n    &quot;        ).unwind(details)&quot; +\n    &quot;).unwind(categories)&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[ {\n  &quot;FI&quot; : &quot;120986750&quot;,\n  &quot;event_id&quot; : &quot;5164306&quot;,\n  &quot;category&quot; : &quot;cards&quot;,\n  &quot;updated_at&quot; : &quot;1660559432&quot;,\n  &quot;key&quot; : &quot;AAA100&quot;,\n  &quot;market_id&quot; : &quot;1&quot;,\n  &quot;market&quot; : &quot;Cards&quot;,\n  &quot;id&quot; : &quot;101&quot;,\n  &quot;odds&quot; : &quot;2.200&quot;,\n  &quot;header&quot; : &quot;Over&quot;,\n  &quot;name&quot; : &quot;11&quot;\n}, {\n  &quot;FI&quot; : &quot;120986750&quot;,\n  &quot;event_id&quot; : &quot;5164306&quot;,\n  &quot;category&quot; : &quot;cards&quot;,\n  &quot;updated_at&quot; : &quot;1660559432&quot;,\n  &quot;key&quot; : &quot;AAA100&quot;,\n  &quot;market_id&quot; : &quot;1&quot;,\n  &quot;market&quot; : &quot;Cards&quot;,\n  &quot;id&quot; : &quot;102&quot;,\n  &quot;odds&quot; : &quot;8.500&quot;,\n  &quot;header&quot; : &quot;Exactly&quot;,\n  &quot;name&quot; : &quot;11&quot;\n}, {\n  &quot;FI&quot; : &quot;120986750&quot;,\n  &quot;event_id&quot; : &quot;5164306&quot;,\n  &quot;category&quot; : &quot;cards&quot;,\n  &quot;updated_at&quot; : &quot;1660559432&quot;,\n  &quot;key&quot; : &quot;AAA100&quot;,\n  &quot;market_id&quot; : &quot;1&quot;,\n  &quot;market&quot; : &quot;Cards&quot;,\n  &quot;id&quot; : &quot;103&quot;,\n  &quot;odds&quot; : &quot;1.909&quot;,\n  &quot;header&quot; : &quot;Under&quot;,\n  &quot;name&quot; : &quot;11&quot;\n}, {\n  &quot;FI&quot; : &quot;120986750&quot;,\n  &quot;event_id&quot; : &quot;5164306&quot;,\n  &quot;category&quot; : &quot;corners&quot;,\n  &quot;updated_at&quot; : &quot;1660559431&quot;,\n  &quot;key&quot; : &quot;AAA200&quot;,\n  &quot;market_id&quot; : &quot;2&quot;,\n  &quot;market&quot; : &quot;Corners&quot;,\n  &quot;id&quot; : &quot;201&quot;,\n  &quot;odds&quot; : &quot;2.200&quot;,\n  &quot;header&quot; : &quot;Over&quot;,\n  &quot;name&quot; : &quot;10&quot;\n}, {\n  &quot;FI&quot; : &quot;120986750&quot;,\n  &quot;event_id&quot; : &quot;5164306&quot;,\n  &quot;category&quot; : &quot;corners&quot;,\n  &quot;updated_at&quot; : &quot;1660559431&quot;,\n  &quot;key&quot; : &quot;AAA200&quot;,\n  &quot;market_id&quot; : &quot;2&quot;,\n  &quot;market&quot; : &quot;Corners&quot;,\n  &quot;id&quot; : &quot;202&quot;,\n  &quot;odds&quot; : &quot;8.500&quot;,\n  &quot;header&quot; : &quot;Exactly&quot;,\n  &quot;name&quot; : &quot;10&quot;\n}, {\n  &quot;FI&quot; : &quot;120986750&quot;,\n  &quot;event_id&quot; : &quot;5164306&quot;,\n  &quot;category&quot; : &quot;corners&quot;,\n  &quot;updated_at&quot; : &quot;1660559431&quot;,\n  &quot;key&quot; : &quot;AAA200&quot;,\n  &quot;market_id&quot; : &quot;2&quot;,\n  &quot;market&quot; : &quot;Corners&quot;,\n  &quot;id&quot; : &quot;203&quot;,\n  &quot;odds&quot; : &quot;1.909&quot;,\n  &quot;header&quot; : &quot;Under&quot;,\n  &quot;name&quot; : &quot;10&quot;\n}, {\n  &quot;FI&quot; : &quot;120986750&quot;,\n  &quot;event_id&quot; : &quot;5164306&quot;,\n  &quot;category&quot; : &quot;corners&quot;,\n  &quot;updated_at&quot; : &quot;1660559431&quot;,\n  &quot;key&quot; : &quot;AAA200&quot;,\n  &quot;market_id&quot; : &quot;3&quot;,\n  &quot;market&quot; : &quot;Total Corners&quot;,\n  &quot;id&quot; : &quot;204&quot;,\n  &quot;odds&quot; : &quot;17.000&quot;,\n  &quot;name&quot; : &quot;Under 6&quot;\n}, {\n  &quot;FI&quot; : &quot;120986750&quot;,\n  &quot;event_id&quot; : &quot;5164306&quot;,\n  &quot;category&quot; : &quot;corners&quot;,\n  &quot;updated_at&quot; : &quot;1660559431&quot;,\n  &quot;key&quot; : &quot;AAA200&quot;,\n  &quot;market_id&quot; : &quot;3&quot;,\n  &quot;market&quot; : &quot;Total Corners&quot;,\n  &quot;id&quot; : &quot;205&quot;,\n  &quot;odds&quot; : &quot;4.333&quot;,\n  &quot;name&quot; : &quot;6 - 8&quot;\n}, {\n  &quot;FI&quot; : &quot;120986750&quot;,\n  &quot;event_id&quot; : &quot;5164306&quot;,\n  &quot;category&quot; : &quot;corners&quot;,\n  &quot;updated_at&quot; : &quot;1660559431&quot;,\n  &quot;key&quot; : &quot;AAA200&quot;,\n  &quot;market_id&quot; : &quot;3&quot;,\n  &quot;market&quot; : &quot;Total Corners&quot;,\n  &quot;id&quot; : &quot;206&quot;,\n  &quot;odds&quot; : &quot;2.750&quot;,\n  &quot;name&quot; : &quot;9 - 11&quot;\n}, {\n  &quot;FI&quot; : &quot;120986750&quot;,\n  &quot;event_id&quot; : &quot;5164306&quot;,\n  &quot;category&quot; : &quot;corners&quot;,\n  &quot;updated_at&quot; : &quot;1660559431&quot;,\n  &quot;key&quot; : &quot;AAA200&quot;,\n  &quot;market_id&quot; : &quot;3&quot;,\n  &quot;market&quot; : &quot;Total Corners&quot;,\n  &quot;id&quot; : &quot;207&quot;,\n  &quot;odds&quot; : &quot;3.400&quot;,\n  &quot;name&quot; : &quot;12 - 14&quot;\n}, {\n  &quot;FI&quot; : &quot;120986750&quot;,\n  &quot;event_id&quot; : &quot;5164306&quot;,\n  &quot;category&quot; : &quot;corners&quot;,\n  &quot;updated_at&quot; : &quot;1660559431&quot;,\n  &quot;key&quot; : &quot;AAA200&quot;,\n  &quot;market_id&quot; : &quot;3&quot;,\n  &quot;market&quot; : &quot;Total Corners&quot;,\n  &quot;id&quot; : &quot;208&quot;,\n  &quot;odds&quot; : &quot;5.500&quot;,\n  &quot;name&quot; : &quot;Over 14&quot;\n} ]\n</code></pre>\n"}],"owner":{"account_id":10030252,"reputation":11,"user_id":19767912,"display_name":"user982455"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73369270,"answer_count":1,"score":1,"last_activity_date":1660975885,"creation_date":1660574303,"question_id":73362526,"body_markdown":"I am trying to parse a JSON-response to a Java object and then I want to save it to a Postgresql.\r\n\r\nI have the following json-response:\r\n\r\n    {\r\n    \t&quot;success&quot;: 1,\r\n    \t&quot;results&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;FI&quot;: &quot;120986750&quot;,\r\n    \t\t\t&quot;event_id&quot;: &quot;5164306&quot;,\r\n    \t\t\t&quot;cards&quot;: {\r\n    \t\t\t\t&quot;updated_at&quot;: &quot;1660559432&quot;,\r\n    \t\t\t\t&quot;key&quot;: &quot;AAA100&quot;,\r\n    \t\t\t\t&quot;sp&quot;: {\r\n    \t\t\t\t\t&quot;cards&quot;: {\r\n    \t\t\t\t\t\t&quot;id&quot;: &quot;1&quot;,\r\n    \t\t\t\t\t\t&quot;name&quot;: &quot;Cards&quot;,\r\n    \t\t\t\t\t\t&quot;odds&quot;: [\r\n    \t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t&quot;id&quot;: &quot;101&quot;,\r\n    \t\t\t\t\t\t\t\t&quot;odds&quot;: &quot;2.200&quot;,\r\n    \t\t\t\t\t\t\t\t&quot;header&quot;: &quot;Over&quot;,\r\n    \t\t\t\t\t\t\t\t&quot;name&quot;: &quot;11&quot;\r\n    \t\t\t\t\t\t\t},\r\n    \t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t&quot;id&quot;: &quot;102&quot;,\r\n    \t\t\t\t\t\t\t\t&quot;odds&quot;: &quot;8.500&quot;,\r\n    \t\t\t\t\t\t\t\t&quot;header&quot;: &quot;Exactly&quot;,\r\n    \t\t\t\t\t\t\t\t&quot;name&quot;: &quot;11&quot;\r\n    \t\t\t\t\t\t\t},\r\n    \t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t&quot;id&quot;: &quot;103&quot;,\r\n    \t\t\t\t\t\t\t\t&quot;odds&quot;: &quot;1.909&quot;,\r\n    \t\t\t\t\t\t\t\t&quot;header&quot;: &quot;Under&quot;,\r\n    \t\t\t\t\t\t\t\t&quot;name&quot;: &quot;11&quot;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t]\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t},\r\n    \t\t\t&quot;corners&quot;: {\r\n    \t\t\t\t&quot;updated_at&quot;: &quot;1660559431&quot;,\r\n    \t\t\t\t&quot;key&quot;: &quot;AAA200&quot;,\r\n    \t\t\t\t&quot;sp&quot;: {\r\n    \t\t\t\t\t&quot;corners&quot;: {\r\n    \t\t\t\t\t\t&quot;id&quot;: &quot;2&quot;,\r\n    \t\t\t\t\t\t&quot;name&quot;: &quot;Corners&quot;,\r\n    \t\t\t\t\t\t&quot;odds&quot;: [\r\n    \t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t&quot;id&quot;: &quot;201&quot;,\r\n    \t\t\t\t\t\t\t\t&quot;odds&quot;: &quot;2.200&quot;,\r\n    \t\t\t\t\t\t\t\t&quot;header&quot;: &quot;Over&quot;,\r\n    \t\t\t\t\t\t\t\t&quot;name&quot;: &quot;10&quot;\r\n    \t\t\t\t\t\t\t},\r\n    \t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t&quot;id&quot;: &quot;202&quot;,\r\n    \t\t\t\t\t\t\t\t&quot;odds&quot;: &quot;8.500&quot;,\r\n    \t\t\t\t\t\t\t\t&quot;header&quot;: &quot;Exactly&quot;,\r\n    \t\t\t\t\t\t\t\t&quot;name&quot;: &quot;10&quot;\r\n    \t\t\t\t\t\t\t},\r\n    \t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t&quot;id&quot;: &quot;203&quot;,\r\n    \t\t\t\t\t\t\t\t&quot;odds&quot;: &quot;1.909&quot;,\r\n    \t\t\t\t\t\t\t\t&quot;header&quot;: &quot;Under&quot;,\r\n    \t\t\t\t\t\t\t\t&quot;name&quot;: &quot;10&quot;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t]\r\n    \t\t\t\t\t},\r\n\t\t\t\t\t\t&quot;total_corners&quot;: {\r\n\t\t\t\t\t\t\t&quot;id&quot;: &quot;3&quot;,\r\n\t\t\t\t\t\t\t&quot;name&quot;: &quot;Total Corners&quot;,\r\n\t\t\t\t\t\t\t&quot;odds&quot;: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t&quot;id&quot;: &quot;204&quot;,\r\n\t\t\t\t\t\t\t\t\t&quot;odds&quot;: &quot;17.000&quot;,\r\n\t\t\t\t\t\t\t\t\t&quot;name&quot;: &quot;Under 6&quot;\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t&quot;id&quot;: &quot;205&quot;,\r\n\t\t\t\t\t\t\t\t\t&quot;odds&quot;: &quot;4.333&quot;,\r\n\t\t\t\t\t\t\t\t\t&quot;name&quot;: &quot;6 - 8&quot;\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t&quot;id&quot;: &quot;206&quot;,\r\n\t\t\t\t\t\t\t\t\t&quot;odds&quot;: &quot;2.750&quot;,\r\n\t\t\t\t\t\t\t\t\t&quot;name&quot;: &quot;9 - 11&quot;\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t&quot;id&quot;: &quot;207&quot;,\r\n\t\t\t\t\t\t\t\t\t&quot;odds&quot;: &quot;3.400&quot;,\r\n\t\t\t\t\t\t\t\t\t&quot;name&quot;: &quot;12 - 14&quot;\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t&quot;id&quot;: &quot;208&quot;,\r\n\t\t\t\t\t\t\t\t\t&quot;odds&quot;: &quot;5.500&quot;,\r\n\t\t\t\t\t\t\t\t\t&quot;name&quot;: &quot;Over 14&quot;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t]\r\n    }\r\n\r\nI started to create a class like this:\r\n\r\n    public class PreMatchOdds {\r\n    \r\n    \t@JsonProperty(&quot;success&quot;)\r\n    \tprivate Integer success;\r\n    \t@JsonProperty(&quot;results&quot;)\r\n    \tprivate List&lt;Result&gt; results = null;\r\n    \t@JsonIgnore\r\n    \tprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n    \tprivate final static long serialVersionUID = -8631993296159893856L;\r\n    \r\n    getter and setters..\r\n\r\nThen instead of\r\n\r\n    \t@JsonProperty(&quot;cards&quot;)\r\n    \tprivate Cards cards;\r\n    \r\n    and\r\n    \r\n    \t@JsonProperty(&quot;corners&quot;)\r\n    \tprivate Corners corners;\r\n\r\nI tried with:\r\n\r\n    @JsonProperty(&quot;categories&quot;)\r\n    @JsonAlias({&quot;cards&quot;, &quot;corners&quot;})\r\n    private Categories categories;\r\n\r\nin the Result class\r\n\r\n    public class Result implements Serializable {\r\n    \r\n    \t@JsonProperty(&quot;FI&quot;)\r\n    \tprivate String fi;\r\n    \t@JsonProperty(&quot;event_id&quot;)\r\n    \tprivate String eventId;\r\n    \t\r\n    \t@JsonProperty(&quot;categories&quot;)\r\n    \t@JsonAlias({&quot;cards&quot;, &quot;corners&quot;})\r\n    \tprivate Categories categories;\r\n    \r\n    \t@JsonIgnore\r\n    \tprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n    \tprivate final static long serialVersionUID = -683759794150688410L;\r\n\r\nHow is the proper way to do this or do I have to create a class for each cards and corners object? This is just an example but in my real case I have like 20 of this objects.\r\nI would also like to set the object key name to a variable since I want to map it against a field in the database.\r\n\r\nI have tried and googled but not found what I am looking for or not really understood.\r\nIn the end I would like to save it to a table in a database like this:\r\n\r\n|FI\t|event_id\t|category\t|updated_at\t|key\t|market_id\t|market\t|odds_id\t|odds\t|header\t|handicap\t|name|\r\n|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|------|\r\n|FI value \t|event_id |value\t|&quot;cards&quot;\t|updated_at\t|AAA100\t|cards.id\t|cards.name\t|odds.id\t|odds.odds\t|odds.header\t|odds.handicap\t|odds.name|\r\n||||\t\t&quot;corners&quot;\t\t|AAA200\t|corners.id\t|corners.name\t|odds.id\t|odds.odds\t|odds.header\t|odds.handicap\t|odds.name|\r\n|Example|||||||||\t\t\t\t\t\t\t\t\t\t\t\r\n|120986750\t|5164306\t|cards\t|1660559432\t|AAA100\t|1\t|Cards\t|101\t|2.2\t|Over\t\t||11|\r\n|120986750\t|5164306\t|cards\t|1660559432\t|AAA100\t|1\t|Cards\t|102\t|8.5\t|Exatly\t\t||11|\r\n|120986750\t|5164306\t|cards\t|1660559432\t|AAA100\t|1\t|Cards\t|103\t|1.909\t|Under\t\t||11|\r\n|120986750\t|5164306\t|corners\t|1660559431\t|AAA200\t|2\t|Corners\t|201\t|2.2\t|Over\t\t||10|\r\n|120986750\t|5164306\t|corners\t|1660559431\t|AAA200\t|2\t|Corners\t|202\t|8.5\t|Exatly\t\t||10|\r\n|120986750\t|5164306\t|corners\t|1660559431\t|AAA200\t|2\t|Corners\t|203\t|1.909\t|Under\t\t||10|","title":"Parse JSON to Java object with dynamics objects in JSON-response","body":"<p>I am trying to parse a JSON-response to a Java object and then I want to save it to a Postgresql.</p>\n<p>I have the following json-response:</p>\n<pre><code>{\n    &quot;success&quot;: 1,\n    &quot;results&quot;: [\n        {\n            &quot;FI&quot;: &quot;120986750&quot;,\n            &quot;event_id&quot;: &quot;5164306&quot;,\n            &quot;cards&quot;: {\n                &quot;updated_at&quot;: &quot;1660559432&quot;,\n                &quot;key&quot;: &quot;AAA100&quot;,\n                &quot;sp&quot;: {\n                    &quot;cards&quot;: {\n                        &quot;id&quot;: &quot;1&quot;,\n                        &quot;name&quot;: &quot;Cards&quot;,\n                        &quot;odds&quot;: [\n                            {\n                                &quot;id&quot;: &quot;101&quot;,\n                                &quot;odds&quot;: &quot;2.200&quot;,\n                                &quot;header&quot;: &quot;Over&quot;,\n                                &quot;name&quot;: &quot;11&quot;\n                            },\n                            {\n                                &quot;id&quot;: &quot;102&quot;,\n                                &quot;odds&quot;: &quot;8.500&quot;,\n                                &quot;header&quot;: &quot;Exactly&quot;,\n                                &quot;name&quot;: &quot;11&quot;\n                            },\n                            {\n                                &quot;id&quot;: &quot;103&quot;,\n                                &quot;odds&quot;: &quot;1.909&quot;,\n                                &quot;header&quot;: &quot;Under&quot;,\n                                &quot;name&quot;: &quot;11&quot;\n                            }\n                        ]\n                    }\n                }\n            },\n            &quot;corners&quot;: {\n                &quot;updated_at&quot;: &quot;1660559431&quot;,\n                &quot;key&quot;: &quot;AAA200&quot;,\n                &quot;sp&quot;: {\n                    &quot;corners&quot;: {\n                        &quot;id&quot;: &quot;2&quot;,\n                        &quot;name&quot;: &quot;Corners&quot;,\n                        &quot;odds&quot;: [\n                            {\n                                &quot;id&quot;: &quot;201&quot;,\n                                &quot;odds&quot;: &quot;2.200&quot;,\n                                &quot;header&quot;: &quot;Over&quot;,\n                                &quot;name&quot;: &quot;10&quot;\n                            },\n                            {\n                                &quot;id&quot;: &quot;202&quot;,\n                                &quot;odds&quot;: &quot;8.500&quot;,\n                                &quot;header&quot;: &quot;Exactly&quot;,\n                                &quot;name&quot;: &quot;10&quot;\n                            },\n                            {\n                                &quot;id&quot;: &quot;203&quot;,\n                                &quot;odds&quot;: &quot;1.909&quot;,\n                                &quot;header&quot;: &quot;Under&quot;,\n                                &quot;name&quot;: &quot;10&quot;\n                            }\n                        ]\n                    },\n                    &quot;total_corners&quot;: {\n                        &quot;id&quot;: &quot;3&quot;,\n                        &quot;name&quot;: &quot;Total Corners&quot;,\n                        &quot;odds&quot;: [\n                            {\n                                &quot;id&quot;: &quot;204&quot;,\n                                &quot;odds&quot;: &quot;17.000&quot;,\n                                &quot;name&quot;: &quot;Under 6&quot;\n                            },\n                            {\n                                &quot;id&quot;: &quot;205&quot;,\n                                &quot;odds&quot;: &quot;4.333&quot;,\n                                &quot;name&quot;: &quot;6 - 8&quot;\n                            },\n                            {\n                                &quot;id&quot;: &quot;206&quot;,\n                                &quot;odds&quot;: &quot;2.750&quot;,\n                                &quot;name&quot;: &quot;9 - 11&quot;\n                            },\n                            {\n                                &quot;id&quot;: &quot;207&quot;,\n                                &quot;odds&quot;: &quot;3.400&quot;,\n                                &quot;name&quot;: &quot;12 - 14&quot;\n                            },\n                            {\n                                &quot;id&quot;: &quot;208&quot;,\n                                &quot;odds&quot;: &quot;5.500&quot;,\n                                &quot;name&quot;: &quot;Over 14&quot;\n                            }\n                        ]\n                    }\n                }\n            }\n        }\n    ]\n}\n</code></pre>\n<p>I started to create a class like this:</p>\n<pre><code>public class PreMatchOdds {\n\n    @JsonProperty(&quot;success&quot;)\n    private Integer success;\n    @JsonProperty(&quot;results&quot;)\n    private List&lt;Result&gt; results = null;\n    @JsonIgnore\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n    private final static long serialVersionUID = -8631993296159893856L;\n\ngetter and setters..\n</code></pre>\n<p>Then instead of</p>\n<pre><code>    @JsonProperty(&quot;cards&quot;)\n    private Cards cards;\n\nand\n\n    @JsonProperty(&quot;corners&quot;)\n    private Corners corners;\n</code></pre>\n<p>I tried with:</p>\n<pre><code>@JsonProperty(&quot;categories&quot;)\n@JsonAlias({&quot;cards&quot;, &quot;corners&quot;})\nprivate Categories categories;\n</code></pre>\n<p>in the Result class</p>\n<pre><code>public class Result implements Serializable {\n\n    @JsonProperty(&quot;FI&quot;)\n    private String fi;\n    @JsonProperty(&quot;event_id&quot;)\n    private String eventId;\n    \n    @JsonProperty(&quot;categories&quot;)\n    @JsonAlias({&quot;cards&quot;, &quot;corners&quot;})\n    private Categories categories;\n\n    @JsonIgnore\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n    private final static long serialVersionUID = -683759794150688410L;\n</code></pre>\n<p>How is the proper way to do this or do I have to create a class for each cards and corners object? This is just an example but in my real case I have like 20 of this objects.\nI would also like to set the object key name to a variable since I want to map it against a field in the database.</p>\n<p>I have tried and googled but not found what I am looking for or not really understood.\nIn the end I would like to save it to a table in a database like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>FI</th>\n<th>event_id</th>\n<th>category</th>\n<th>updated_at</th>\n<th>key</th>\n<th>market_id</th>\n<th>market</th>\n<th>odds_id</th>\n<th>odds</th>\n<th>header</th>\n<th>handicap</th>\n<th>name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>FI value</td>\n<td>event_id</td>\n<td>value</td>\n<td>&quot;cards&quot;</td>\n<td>updated_at</td>\n<td>AAA100</td>\n<td>cards.id</td>\n<td>cards.name</td>\n<td>odds.id</td>\n<td>odds.odds</td>\n<td>odds.header</td>\n<td>odds.handicap</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td>&quot;corners&quot;</td>\n<td>AAA200</td>\n<td>corners.id</td>\n<td>corners.name</td>\n<td>odds.id</td>\n<td>odds.odds</td>\n<td>odds.header</td>\n<td>odds.handicap</td>\n<td>odds.name</td>\n</tr>\n<tr>\n<td>Example</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>120986750</td>\n<td>5164306</td>\n<td>cards</td>\n<td>1660559432</td>\n<td>AAA100</td>\n<td>1</td>\n<td>Cards</td>\n<td>101</td>\n<td>2.2</td>\n<td>Over</td>\n<td></td>\n<td>11</td>\n</tr>\n<tr>\n<td>120986750</td>\n<td>5164306</td>\n<td>cards</td>\n<td>1660559432</td>\n<td>AAA100</td>\n<td>1</td>\n<td>Cards</td>\n<td>102</td>\n<td>8.5</td>\n<td>Exatly</td>\n<td></td>\n<td>11</td>\n</tr>\n<tr>\n<td>120986750</td>\n<td>5164306</td>\n<td>cards</td>\n<td>1660559432</td>\n<td>AAA100</td>\n<td>1</td>\n<td>Cards</td>\n<td>103</td>\n<td>1.909</td>\n<td>Under</td>\n<td></td>\n<td>11</td>\n</tr>\n<tr>\n<td>120986750</td>\n<td>5164306</td>\n<td>corners</td>\n<td>1660559431</td>\n<td>AAA200</td>\n<td>2</td>\n<td>Corners</td>\n<td>201</td>\n<td>2.2</td>\n<td>Over</td>\n<td></td>\n<td>10</td>\n</tr>\n<tr>\n<td>120986750</td>\n<td>5164306</td>\n<td>corners</td>\n<td>1660559431</td>\n<td>AAA200</td>\n<td>2</td>\n<td>Corners</td>\n<td>202</td>\n<td>8.5</td>\n<td>Exatly</td>\n<td></td>\n<td>10</td>\n</tr>\n<tr>\n<td>120986750</td>\n<td>5164306</td>\n<td>corners</td>\n<td>1660559431</td>\n<td>AAA200</td>\n<td>2</td>\n<td>Corners</td>\n<td>203</td>\n<td>1.909</td>\n<td>Under</td>\n<td></td>\n<td>10</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":["java","jvm","manifest","javaagents"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1660952527,"post_id":73423044,"comment_id":129663106,"body_markdown":"For dynamic attach, your class needs an `agentmain`, not a `premain`. It can have both, through. See the section [Starting an Agent After VM Startup](https://docs.oracle.com/en/java/javase/17/docs/api/java.instrument/java/lang/instrument/package-summary.html) from the `java.lang.instrument` description.","body":"For dynamic attach, your class needs an <code>agentmain</code>, not a <code>premain</code>. It can have both, through. See the section <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.instrument/java/lang/instrument/package-summary.html\" rel=\"nofollow noreferrer\">Starting an Agent After VM Startup</a> from the <code>java.lang.instrument</code> description."},{"owner":{"account_id":21892399,"reputation":3,"user_id":16179188,"display_name":"Yan-Jobs"},"score":0,"creation_date":1660973552,"post_id":73423044,"comment_id":129665001,"body_markdown":"@JohannesKuhn I know that but when I attached it on my manifest it throws me this error: Exception in thread &quot;Attach Listener&quot; Agent failed to start!","body":"@JohannesKuhn I know that but when I attached it on my manifest it throws me this error: Exception in thread &quot;Attach Listener&quot; Agent failed to start!"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660975565,"creation_date":1660975565,"answer_id":73424467,"question_id":73423044,"body_markdown":"You added this to your manifest:\r\n\r\n```none\r\nPremain-Class: me.accessmodifier364.dumper.Dumper\r\nAgent-Class: me.accessmodifier364.dumper.Dumper\r\n```\r\n\r\nBut you forgot to add this to your agent:\r\n\r\n```java\r\npublic static void agentmain(String agentArgs, Instrumentation inst) {\r\n    System.out.println(&quot;Hot-attaching Dumper...&quot;);\r\n    premain(agentArgs, inst);\r\n}\r\n```\r\n\r\nHow about reading a full tutorial? You might start with [this one](https://www.baeldung.com/java-instrumentation), based on Javassist. But instead of Javassist, you may also use whichever tool you prefer, such as Byte Buddy, ASM, BCEL. The basic code structure (manifest, agent main class, transformer) is the same  in all cases.","title":"Failed to find Agent-Class manifest attribute","body":"<p>You added this to your manifest:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Premain-Class: me.accessmodifier364.dumper.Dumper\nAgent-Class: me.accessmodifier364.dumper.Dumper\n</code></pre>\n<p>But you forgot to add this to your agent:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void agentmain(String agentArgs, Instrumentation inst) {\n    System.out.println(&quot;Hot-attaching Dumper...&quot;);\n    premain(agentArgs, inst);\n}\n</code></pre>\n<p>How about reading a full tutorial? You might start with <a href=\"https://www.baeldung.com/java-instrumentation\" rel=\"nofollow noreferrer\">this one</a>, based on Javassist. But instead of Javassist, you may also use whichever tool you prefer, such as Byte Buddy, ASM, BCEL. The basic code structure (manifest, agent main class, transformer) is the same  in all cases.</p>\n"}],"owner":{"account_id":21892399,"reputation":3,"user_id":16179188,"display_name":"Yan-Jobs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":666,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73424467,"answer_count":1,"score":0,"last_activity_date":1660975565,"creation_date":1660950608,"question_id":73423044,"body_markdown":"whenever I try to attach an agent to the JVM I get this error: `Failed to find Agent-Class manifest attribute from /Users/yanjobs/Downloads/Dumper-master-2/out/artifacts/Dumper_master_2_jar/Dumper-master-2.jar`. But when I try to add this parameter (Agent-Class) to my `MANIFEST.MF` the JVM throws me this nice error: `Exception in thread &quot;Attach Listener&quot; Agent failed to start!` and IntelliJ says Invalid agent class (screenshot [here][1]). So... What should I do?\r\nI posted the source [here][2]. \r\n\r\nIf someone got the time to help me, that would be nice :)\r\n- Yan\r\n\r\n  [1]: https://i.stack.imgur.com/LpZzN.png\r\n  [2]: https://github.com/Yan-Jobs/soverflow-dumper","title":"Failed to find Agent-Class manifest attribute","body":"<p>whenever I try to attach an agent to the JVM I get this error: <code>Failed to find Agent-Class manifest attribute from /Users/yanjobs/Downloads/Dumper-master-2/out/artifacts/Dumper_master_2_jar/Dumper-master-2.jar</code>. But when I try to add this parameter (Agent-Class) to my <code>MANIFEST.MF</code> the JVM throws me this nice error: <code>Exception in thread &quot;Attach Listener&quot; Agent failed to start!</code> and IntelliJ says Invalid agent class (screenshot <a href=\"https://i.stack.imgur.com/LpZzN.png\" rel=\"nofollow noreferrer\">here</a>). So... What should I do?\nI posted the source <a href=\"https://github.com/Yan-Jobs/soverflow-dumper\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>If someone got the time to help me, that would be nice :)</p>\n<ul>\n<li>Yan</li>\n</ul>\n"},{"tags":["java","mockito"],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660974822,"creation_date":1660974822,"answer_id":73424414,"question_id":73424326,"body_markdown":"Because you dont create a mock of `EmailManager` \r\nUsually `@InjectMocks` annotation is use on the class that youre about to test (`EmailManager` in this case)\r\nThis is a real code that you dont want to mock (there is no point to write a test that tests a mock) - you always want to test the real code and mocks is just an auxiliary tool to mimic the behavior of dependencies\r\n\r\nSo in the `EmailManager` the method `createEml` is real - and file creation is just what it does - youve posted the source code of it. This code gets executed during the test. Thats it.\r\n\r\nSo if you want to create a test that doesnt create any real file you should refactor the file creation part in a way that it will support file creation of virtual files in memory. After all not any arbitrarily-written pieces of code can are automatically unit-testable, you have to design the code with unit-test ability in mind\r\n","title":"Mock files, but generate real files","body":"<p>Because you dont create a mock of <code>EmailManager</code>\nUsually <code>@InjectMocks</code> annotation is use on the class that youre about to test (<code>EmailManager</code> in this case)\nThis is a real code that you dont want to mock (there is no point to write a test that tests a mock) - you always want to test the real code and mocks is just an auxiliary tool to mimic the behavior of dependencies</p>\n<p>So in the <code>EmailManager</code> the method <code>createEml</code> is real - and file creation is just what it does - youve posted the source code of it. This code gets executed during the test. Thats it.</p>\n<p>So if you want to create a test that doesnt create any real file you should refactor the file creation part in a way that it will support file creation of virtual files in memory. After all not any arbitrarily-written pieces of code can are automatically unit-testable, you have to design the code with unit-test ability in mind</p>\n"}],"owner":{"account_id":24806269,"reputation":1,"user_id":18688252,"display_name":"Tan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660974822,"creation_date":1660973623,"question_id":73424326,"body_markdown":"I use the SpringBoot mail component to generate eml files. When I use mockito to simulate, Why would a real file be generated?\r\n\r\n\r\nThis is my demo \r\n\r\n    @Resource\r\n    private JavaMailSender javaMailSender;\r\n\r\n    public File createEml(String filename) throws IOException, MessagingException {\r\n        File file = new File(filename);\r\n        try(FileOutputStream fos = new FileOutputStream(file)) {\r\n            MimeMessage mimeMessage = javaMailSender.createMimeMessage();\r\n            mimeMessage.writeTo(fos);\r\n        }\r\n        return file;\r\n    }\r\n}\r\n\r\ntest\r\n\r\n    @InjectMocks\r\n    private EmailManager emailManager = new EmailManager();\r\n\r\n    @Mock\r\n    private JavaMailSender javaMailSender;\r\n    \r\n\r\n    @BeforeEach\r\n    private void setUp() {\r\n        MockitoAnnotations.openMocks(this);\r\n    }\r\n\r\n    @Test\r\n    void testCreateEml() throws MessagingException, IOException {\r\n        MimeMessage mimeMessage = Mockito.mock(MimeMessage.class);\r\n        Mockito.doNothing().when(mimeMessage).writeTo(Mockito.any(FileOutputStream.class));\r\n        Mockito.when(javaMailSender.createMimeMessage()).thenReturn(mimeMessage);\r\n        emailManager.createEml(&quot;test.eml&quot;);\r\n    }","title":"Mock files, but generate real files","body":"<p>I use the SpringBoot mail component to generate eml files. When I use mockito to simulate, Why would a real file be generated?</p>\n<p>This is my demo</p>\n<pre><code>@Resource\nprivate JavaMailSender javaMailSender;\n\npublic File createEml(String filename) throws IOException, MessagingException {\n    File file = new File(filename);\n    try(FileOutputStream fos = new FileOutputStream(file)) {\n        MimeMessage mimeMessage = javaMailSender.createMimeMessage();\n        mimeMessage.writeTo(fos);\n    }\n    return file;\n}\n</code></pre>\n<p>}</p>\n<p>test</p>\n<pre><code>@InjectMocks\nprivate EmailManager emailManager = new EmailManager();\n\n@Mock\nprivate JavaMailSender javaMailSender;\n\n\n@BeforeEach\nprivate void setUp() {\n    MockitoAnnotations.openMocks(this);\n}\n\n@Test\nvoid testCreateEml() throws MessagingException, IOException {\n    MimeMessage mimeMessage = Mockito.mock(MimeMessage.class);\n    Mockito.doNothing().when(mimeMessage).writeTo(Mockito.any(FileOutputStream.class));\n    Mockito.when(javaMailSender.createMimeMessage()).thenReturn(mimeMessage);\n    emailManager.createEml(&quot;test.eml&quot;);\n}\n</code></pre>\n"},{"tags":["java","variables","methods"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660974420,"creation_date":1660972676,"answer_id":73424275,"question_id":73424255,"body_markdown":"# Learn to return values, and pass values\r\n\r\n 1.  Capture the return value coming from your `inputString` method.\r\n 2. Pass that returned value to your `countWords` method.\r\n\r\nChange this:\r\n\r\n    inputString();\r\n    countWords();\r\n\r\n to this:\r\n\r\n    String input = inputString();  // Capture the return value.\r\n    countWords( input );           // Pass the captured value.\r\n\r\nAnd it looks like `count` in `countWords` is supposed to be the result. So that should be returned to the calling method.\r\n\r\n    String input = WordCounter.inputString();\r\n    int count = WordCounter.countWords( input );\r\n\r\nAnd alter your `countWords` to return that value. Change the declared return type from `void` to `int`. Add a `return` line at the end.\r\n\r\n    public static int countWords( String userInput ){\r\n         \r\n        return count ;  \r\n    }\r\n\r\n----------\r\n\r\n# OOP\r\n\r\nLooking at the bigger picture, try to avoid `static` as a student learning [object-oriented programming][1]. \r\n\r\nCreate multiple classes, where each class has one main responsibility. If we look at your business problem, we have three responsibilities: \r\n\r\n - Business logic: Analyzing text to count words.\r\n - User interface: Interacting with user on the console.\r\n - An app to run the show, with its `main` method.\r\n\r\nYou might start with three classes.\r\n\r\nFirst, the business logic.\r\n\r\n```java\r\npackage work.basil.example.wordcounter;\r\n\r\nimport java.util.concurrent.ThreadLocalRandom;\r\n\r\n// Takes a string, analyzes to determine a count of words, and returns that count.\r\npublic class WordCounter\r\n{\r\n    private CharSequence text;\r\n\r\n    public WordCounter ( final CharSequence input )\r\n    {\r\n        this.text = input;\r\n    }\r\n\r\n    public int wordCount ( )\r\n    {\r\n        return ThreadLocalRandom.current().nextInt( 0 , 10 ); // Fake method. Put your code here.\r\n    }\r\n\r\n    public CharSequence text ( )\r\n    {\r\n        return this.text;\r\n    }\r\n}\r\n```\r\n\r\nThe console input manager.\r\n\r\n```java\r\npackage work.basil.example.wordcounter;\r\n\r\npublic class ConsoleInputGatherer\r\n{\r\n    public String gatherInput ( )\r\n    {\r\n        // Fake method. Write your code here.\r\n        return &quot;your text goes here.&quot;;\r\n    }\r\n}\r\n```\r\n\r\nAnd the main app.\r\n\r\n```java\r\npackage work.basil.example.wordcounter;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App app = new App();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        String input = new ConsoleInputGatherer().gatherInput();\r\n        int count = new WordCounter( input ).wordCount();\r\n\r\n        // Report results.\r\n        System.out.println( &quot;Input: &quot; );\r\n        System.out.println( input );\r\n        System.out.println( &quot; has a word count of: &quot; + count );\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nInput: \r\nyour text goes here.\r\n has a word count of: 3\r\n```\r\n\r\n----------\r\n\r\n# Avoid `char`\r\n\r\n\r\nAnd, by the way, the `char` type has been essentially broken since Java 2, and legacy since Java 5. As a 16-bit value, it is physically incapable of representing most characters. Instead, to work with individual characters, use [code point][2] integer numbers. \r\n\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Object-oriented_programming\r\n  [2]: https://en.wikipedia.org/wiki/Code_point","title":"Using a variable taken from a method in an another method","body":"<h1>Learn to return values, and pass values</h1>\n<ol>\n<li>Capture the return value coming from your <code>inputString</code> method.</li>\n<li>Pass that returned value to your <code>countWords</code> method.</li>\n</ol>\n<p>Change this:</p>\n<pre><code>inputString();\ncountWords();\n</code></pre>\n<p> to this:</p>\n<pre><code>String input = inputString();  // Capture the return value.\ncountWords( input );           // Pass the captured value.\n</code></pre>\n<p>And it looks like <code>count</code> in <code>countWords</code> is supposed to be the result. So that should be returned to the calling method.</p>\n<pre><code>String input = WordCounter.inputString();\nint count = WordCounter.countWords( input );\n</code></pre>\n<p>And alter your <code>countWords</code> to return that value. Change the declared return type from <code>void</code> to <code>int</code>. Add a <code>return</code> line at the end.</p>\n<pre><code>public static int countWords( String userInput ){\n     \n    return count ;  \n}\n</code></pre>\n<hr />\n<h1>OOP</h1>\n<p>Looking at the bigger picture, try to avoid <code>static</code> as a student learning <a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow noreferrer\">object-oriented programming</a>.</p>\n<p>Create multiple classes, where each class has one main responsibility. If we look at your business problem, we have three responsibilities:</p>\n<ul>\n<li>Business logic: Analyzing text to count words.</li>\n<li>User interface: Interacting with user on the console.</li>\n<li>An app to run the show, with its <code>main</code> method.</li>\n</ul>\n<p>You might start with three classes.</p>\n<p>First, the business logic.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.wordcounter;\n\nimport java.util.concurrent.ThreadLocalRandom;\n\n// Takes a string, analyzes to determine a count of words, and returns that count.\npublic class WordCounter\n{\n    private CharSequence text;\n\n    public WordCounter ( final CharSequence input )\n    {\n        this.text = input;\n    }\n\n    public int wordCount ( )\n    {\n        return ThreadLocalRandom.current().nextInt( 0 , 10 ); // Fake method. Put your code here.\n    }\n\n    public CharSequence text ( )\n    {\n        return this.text;\n    }\n}\n</code></pre>\n<p>The console input manager.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.wordcounter;\n\npublic class ConsoleInputGatherer\n{\n    public String gatherInput ( )\n    {\n        // Fake method. Write your code here.\n        return &quot;your text goes here.&quot;;\n    }\n}\n</code></pre>\n<p>And the main app.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.wordcounter;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        App app = new App();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        String input = new ConsoleInputGatherer().gatherInput();\n        int count = new WordCounter( input ).wordCount();\n\n        // Report results.\n        System.out.println( &quot;Input: &quot; );\n        System.out.println( input );\n        System.out.println( &quot; has a word count of: &quot; + count );\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Input: \nyour text goes here.\n has a word count of: 3\n</code></pre>\n<hr />\n<h1>Avoid <code>char</code></h1>\n<p>And, by the way, the <code>char</code> type has been essentially broken since Java 2, and legacy since Java 5. As a 16-bit value, it is physically incapable of representing most characters. Instead, to work with individual characters, use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integer numbers.</p>\n"},{"tags":[],"owner":{"account_id":10958740,"reputation":1,"user_id":8052701,"display_name":"Tamilarasu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660973362,"creation_date":1660973362,"answer_id":73424312,"question_id":73424255,"body_markdown":"This way your code should work\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class WordCounter {\r\n\r\n    public static String inputString(){\r\n        Scanner s = new Scanner(System.in);\r\n        System.out.println(&quot;\\nInput your desired sentence/string: &quot;);\r\n        String userInput = s.nextLine();\r\n        return userInput;\r\n    }\r\n\r\n    public static void countWords(int count, String userInput){\r\n\r\n        count = 1;\r\n\r\n        for (int i = 0; i &lt; userInput.length() - 1; i++)\r\n        {\r\n            if ((userInput.charAt(i) == &#39; &#39;) &amp;&amp; (userInput.charAt(i + 1) != &#39; &#39;))\r\n            {\r\n                count++;\r\n            }\r\n        }\r\n        System.out.print(&quot;Number of words in the sentence/string: &quot; + count);\r\n    }\r\n\r\n    public static void main (String [] args){\r\n        System.out.println(&quot;Word Counter.&quot;);\r\n        String input = inputString();\r\n        countWords(0, input);\r\n    }\r\n\r\n}","title":"Using a variable taken from a method in an another method","body":"<p>This way your code should work</p>\n<p>import java.util.Scanner;</p>\n<p>public class WordCounter {</p>\n<pre><code>public static String inputString(){\n    Scanner s = new Scanner(System.in);\n    System.out.println(&quot;\\nInput your desired sentence/string: &quot;);\n    String userInput = s.nextLine();\n    return userInput;\n}\n\npublic static void countWords(int count, String userInput){\n\n    count = 1;\n\n    for (int i = 0; i &lt; userInput.length() - 1; i++)\n    {\n        if ((userInput.charAt(i) == ' ') &amp;&amp; (userInput.charAt(i + 1) != ' '))\n        {\n            count++;\n        }\n    }\n    System.out.print(&quot;Number of words in the sentence/string: &quot; + count);\n}\n\npublic static void main (String [] args){\n    System.out.println(&quot;Word Counter.&quot;);\n    String input = inputString();\n    countWords(0, input);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":23223906,"reputation":25,"user_id":17315684,"display_name":"Ezikell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73424275,"answer_count":2,"score":0,"last_activity_date":1660974420,"creation_date":1660972316,"question_id":73424255,"body_markdown":"I want to use the variable that is taken from the inputString() method into the countWords() method below, but I unfortunately run into errors when I try using the latter in the main() method. How do I work around this?\r\n\r\n    import java.util.*;\r\n\r\n    public class WordCounter {\r\n        public static String inputString(){\r\n            Scanner s = new Scanner(System.in);\r\n            System.out.println(&quot;\\nInput your desired sentence/string: &quot;);\r\n            String userInput = s.nextLine();\r\n            return userInput;\r\n        }\r\n\r\n        public static void countWords(int count, String userInput){\r\n\r\n            count = 1;\r\n\r\n            for (int i = 0; i &lt; userInput.length() - 1; i++)\r\n            {\r\n                if ((userInput.charAt(i) == &#39; &#39;) &amp;&amp; (userInput.charAt(i + 1) != &#39; &#39;))\r\n                {\r\n                    count++;\r\n                }\r\n            }\r\n            System.out.print(&quot;Number of words in the sentence/string: &quot; + count);    \r\n        }\r\n\r\n        public static void main (String [] args){\r\n            System.out.println(&quot;Word Counter.&quot;);\r\n            inputString();\r\n            countWords();\r\n        }\r\n    }","title":"Using a variable taken from a method in an another method","body":"<p>I want to use the variable that is taken from the inputString() method into the countWords() method below, but I unfortunately run into errors when I try using the latter in the main() method. How do I work around this?</p>\n<pre><code>import java.util.*;\n\npublic class WordCounter {\n    public static String inputString(){\n        Scanner s = new Scanner(System.in);\n        System.out.println(&quot;\\nInput your desired sentence/string: &quot;);\n        String userInput = s.nextLine();\n        return userInput;\n    }\n\n    public static void countWords(int count, String userInput){\n\n        count = 1;\n\n        for (int i = 0; i &lt; userInput.length() - 1; i++)\n        {\n            if ((userInput.charAt(i) == ' ') &amp;&amp; (userInput.charAt(i + 1) != ' '))\n            {\n                count++;\n            }\n        }\n        System.out.print(&quot;Number of words in the sentence/string: &quot; + count);    \n    }\n\n    public static void main (String [] args){\n        System.out.println(&quot;Word Counter.&quot;);\n        inputString();\n        countWords();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","android-recyclerview","parent-child"],"answers":[{"tags":[],"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660951970,"creation_date":1660951402,"answer_id":73423084,"question_id":73421454,"body_markdown":"If I understood your question correctly, you want to update the `parent` `textView` adapter from `child` `adapter`.\r\n\r\nYou are using this line of code:\r\n\r\n    rootView = ((Activity) context).getWindow().getDecorView().findViewById(android.R.id.content);\r\n\r\nto be able to access `textview` (`semester_gpa_value`) from the child adapter.\r\n\r\nThere is a better way to achieve this using the `Observer pattern`, just send the text from the child adapter to the parent adapter. this way you will be able to update `semester_gpa_value` from parent adapter, so you don&#39;t need to access it in child adapter.\r\n\r\nSo make these changes in the child adapter:\r\n\r\n    public class ChildAdapter extends RecyclerView.Adapter&lt;ChildAdapter.ChildViewHolder&gt; {\r\n        \r\n        //...\r\n\r\n        public interface ValueChangeListener {\r\n            void onValueChange(String newValue);\r\n        }\r\n\r\n        private ValueChangeListener valueChangeListener;\r\n    \r\n        //...\r\n        class ChildViewHolder extends RecyclerView.ViewHolder {\r\n    \r\n            EditText TIET_credit_hour;\r\n    \r\n            public ChildViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                //...\r\n                TIET_credit_hour = itemView.findViewById(R.id.TIET_credit_hour);\r\n    \r\n                TIET_credit_hour.addTextChangedListener(new TextWatcher() {\r\n                    @Override\r\n                    public void beforeTextChanged(CharSequence s, int start, int count, int after) {}\r\n    \r\n                    @Override\r\n                    public void onTextChanged(CharSequence s, int start, int before, int count) {}\r\n    \r\n                    @Override\r\n                    public void afterTextChanged(Editable s) {\r\n                        if (valueChangeListener != null) {\r\n                            // In this case, I just send the text as is to the parent adapter, but you can do whatever calculations you want before sending it.\r\n                            valueChangeListener.onValueChange(s.toString());\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    \r\n        // this method must be called by parent adapter to listen for text change\r\n        public void setValueChangeListener(ValueChangeListener valueChangeListener) {\r\n            this.valueChangeListener = valueChangeListener;\r\n        }\r\n    }\r\n\r\n  \r\n\r\nIn your parent adapter, just call `childAdapter.setValueChangeListener(yourText)` to be able to receive the text sent by the child adapter:\r\n\r\nParentAdapter.java:\r\n\r\n        @Override\r\n        public void onBindViewHolder(@NonNull ItemViewHolder holder, int position) {\r\n            //...\r\n    \r\n            childAdapter.setValueChangeListener(new ChildAdapter.ValueChangeListener() {\r\n                @Override\r\n                public void onValueChange(String newValue) {\r\n                    //Also here you can do any calculation you want before updating the text view. In this example I just show the text received from the child adapter.\r\n                    holder.semester_gpa_value.setText(newValue);\r\n                }\r\n            });\r\n        }\r\n\r\nAs you can see, we are updating the text view of the parent adapter with the text received from the child adapter.","title":"How to update Parent RecyclerView&#39;s components from child RecyclerView&#39;s components in android Studio using java?","body":"<p>If I understood your question correctly, you want to update the <code>parent</code> <code>textView</code> adapter from <code>child</code> <code>adapter</code>.</p>\n<p>You are using this line of code:</p>\n<pre><code>rootView = ((Activity) context).getWindow().getDecorView().findViewById(android.R.id.content);\n</code></pre>\n<p>to be able to access <code>textview</code> (<code>semester_gpa_value</code>) from the child adapter.</p>\n<p>There is a better way to achieve this using the <code>Observer pattern</code>, just send the text from the child adapter to the parent adapter. this way you will be able to update <code>semester_gpa_value</code> from parent adapter, so you don't need to access it in child adapter.</p>\n<p>So make these changes in the child adapter:</p>\n<pre><code>public class ChildAdapter extends RecyclerView.Adapter&lt;ChildAdapter.ChildViewHolder&gt; {\n    \n    //...\n\n    public interface ValueChangeListener {\n        void onValueChange(String newValue);\n    }\n\n    private ValueChangeListener valueChangeListener;\n\n    //...\n    class ChildViewHolder extends RecyclerView.ViewHolder {\n\n        EditText TIET_credit_hour;\n\n        public ChildViewHolder(@NonNull View itemView) {\n            super(itemView);\n            //...\n            TIET_credit_hour = itemView.findViewById(R.id.TIET_credit_hour);\n\n            TIET_credit_hour.addTextChangedListener(new TextWatcher() {\n                @Override\n                public void beforeTextChanged(CharSequence s, int start, int count, int after) {}\n\n                @Override\n                public void onTextChanged(CharSequence s, int start, int before, int count) {}\n\n                @Override\n                public void afterTextChanged(Editable s) {\n                    if (valueChangeListener != null) {\n                        // In this case, I just send the text as is to the parent adapter, but you can do whatever calculations you want before sending it.\n                        valueChangeListener.onValueChange(s.toString());\n                    }\n                }\n            });\n        }\n    }\n\n    // this method must be called by parent adapter to listen for text change\n    public void setValueChangeListener(ValueChangeListener valueChangeListener) {\n        this.valueChangeListener = valueChangeListener;\n    }\n}\n</code></pre>\n<p>In your parent adapter, just call <code>childAdapter.setValueChangeListener(yourText)</code> to be able to receive the text sent by the child adapter:</p>\n<p>ParentAdapter.java:</p>\n<pre><code>    @Override\n    public void onBindViewHolder(@NonNull ItemViewHolder holder, int position) {\n        //...\n\n        childAdapter.setValueChangeListener(new ChildAdapter.ValueChangeListener() {\n            @Override\n            public void onValueChange(String newValue) {\n                //Also here you can do any calculation you want before updating the text view. In this example I just show the text received from the child adapter.\n                holder.semester_gpa_value.setText(newValue);\n            }\n        });\n    }\n</code></pre>\n<p>As you can see, we are updating the text view of the parent adapter with the text received from the child adapter.</p>\n"}],"owner":{"account_id":26070501,"reputation":1,"user_id":19770261,"display_name":"Safdar Manan Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1016,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660973507,"creation_date":1660937295,"question_id":73421454,"body_markdown":"As you can see in the picture I have two recycler Views (Parent and nested Recycler View), the parent recycler View is showing Semesters&#39; list while the nested recycler View is showing subjects&#39; list for that particular Semester. Now the problem is that I want to update the SGPA TextView (0.00) next to Semester TextView when a user enters credit hours and letter grade in particular Semester&#39;s subjects&#39; list ... I am doing it by the following provided code, but it does not satisfy my needs... \r\n\r\n![1]\r\n\r\n**Child Model Class**\r\n\r\n``` package com.calculator.nestedrecyclerview;\r\n\r\npublic class ChildModelClass {\r\n\r\n    String subject_LBL;\r\n    String credit_hours;\r\n    String letter_grade;\r\n    int delete_icon;\r\n\r\n    public ChildModelClass(String subject_LBL, int delete_icon, String credit_hours, String letter_grade) {\r\n        this.subject_LBL = subject_LBL;\r\n        this.delete_icon = delete_icon;\r\n        this.credit_hours = credit_hours;\r\n        this.letter_grade = letter_grade;\r\n    }\r\n\r\n    public String getSubject_LBL() {\r\n        return subject_LBL;\r\n    }\r\n\r\n    public String getCredit_hours() {\r\n        return credit_hours;\r\n    }\r\n\r\n    public void setCredit_hours(String credit_hours) {\r\n        this.credit_hours = credit_hours;\r\n    }\r\n\r\n    public String getLetter_grade() {\r\n        return letter_grade;\r\n    }\r\n\r\n    public void setLetter_grade(String letter_grade) {\r\n        this.letter_grade = letter_grade;\r\n    }\r\n\r\n    public void setSubject_LBL(String subject_LBL) {\r\n        this.subject_LBL = subject_LBL;\r\n    }\r\n\r\n    public int getDelete_icon() {\r\n        return delete_icon;\r\n    }\r\n\r\n    public void setDelete_icon(int delete_icon) {\r\n        this.delete_icon = delete_icon;\r\n    }\r\n\r\n}\r\n ```\r\n\r\n**Child Adapter Class**\r\n\r\n``` package com.calculator.nestedrecyclerview;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.text.Editable;\r\nimport android.text.TextWatcher;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.constraintlayout.widget.ConstraintLayout;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.google.android.material.card.MaterialCardView;\r\nimport com.google.android.material.textfield.TextInputEditText;\r\nimport com.google.android.material.textfield.TextInputLayout;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class ChildAdapter extends RecyclerView.Adapter&lt;ChildAdapter.ViewHolder&gt; {\r\n\r\n    ArrayList&lt;ChildModelClass&gt; childModelClassList;\r\n    ArrayList&lt;String&gt; credit_hour_arrayList = new ArrayList&lt;&gt;();\r\n//    ArrayList&lt;String&gt; letter_grade_arrayList;\r\n    boolean isOnTextChanged = false;\r\n    int total_credit_hours = 0;\r\n    Context context;\r\n    TextView sGPA_value;\r\n    View rootView;\r\n\r\n    public ChildAdapter(ArrayList&lt;ChildModelClass&gt; childModelClassList,Context context) {\r\n        this.childModelClassList = childModelClassList;\r\n        this.context = context;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ChildAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater layoutInflater = LayoutInflater.from(parent.getContext());\r\n        View v =layoutInflater.inflate(R.layout.child_rv_layout,parent,false);\r\n        context = parent.getContext();\r\n        rootView = ((Activity) context).getWindow().getDecorView().findViewById(android.R.id.content);\r\n        sGPA_value = rootView.findViewById(R.id.semester_gpa_value);\r\n        return new ViewHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ChildAdapter.ViewHolder holder, int position) {\r\n        ChildModelClass list = childModelClassList.get(position);\r\n        holder.TIET_credit_hour.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n                isOnTextChanged = true;\r\n                // list.credit_hours = charSequence.toString();\r\n\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable editable) {\r\n\r\n                total_credit_hours = 0;\r\n                if (isOnTextChanged) {\r\n                    isOnTextChanged = false;\r\n\r\n                    try {\r\n\r\n                        for (int i = 0; i &lt;= holder.getAdapterPosition(); i++) {\r\n                            if (i != holder.getAdapterPosition()) {\r\n                                credit_hour_arrayList.add(&quot;0&quot;);\r\n                            }else {\r\n                                credit_hour_arrayList.add(&quot;0&quot;);\r\n                                credit_hour_arrayList.set(holder.getAdapterPosition(),editable.toString());\r\n\r\n                                break;\r\n                            }\r\n                        }\r\n\r\n                        for (int i = 0; i &lt;= credit_hour_arrayList.size() -1; i++) {\r\n                            int tempTotalCreditHours = Integer.parseInt(credit_hour_arrayList.get(i));\r\n                            total_credit_hours = total_credit_hours + tempTotalCreditHours;\r\n                        }\r\n//                        total_final_credit_hours = String.valueOf(total_credit_hours);\r\n                        sGPA_value.setText(String.valueOf(total_credit_hours));\r\n                    }catch (NumberFormatException e) {\r\n                        total_credit_hours = 0;\r\n                        for (int i = 0; i &lt;= holder.getAdapterPosition(); i++) {\r\n                            int newPosition = holder.getAdapterPosition();\r\n                            if (i == newPosition) {\r\n                                credit_hour_arrayList.set(newPosition,&quot;0&quot;);\r\n                            }\r\n                        }\r\n                        for (int i = 0; i &lt; credit_hour_arrayList.size()-1; i++) {\r\n                            int tempTotalCreditHours = Integer.parseInt(credit_hour_arrayList.get(i));\r\n                            total_credit_hours = total_credit_hours + tempTotalCreditHours;\r\n                        }\r\n//                        total_final_credit_hours = String.valueOf(total_credit_hours);\r\n                        sGPA_value.setText(String.valueOf(total_credit_hours));\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n        holder.subject_LBL.setText(list.getSubject_LBL());\r\n        holder.delete_icon.setImageResource(list.getDelete_icon());\r\n        holder.TIET_credit_hour.setText(list.getCredit_hours());\r\n        holder.TIET_letter_grade.setText(list.getLetter_grade());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return childModelClassList.size();\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return super.getItemId(position);\r\n    }\r\n\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n        return super.getItemViewType(position);\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        ConstraintLayout child_rv_layout, card_view_layout;\r\n        MaterialCardView card_view;\r\n        TextView subject_LBL;\r\n        ImageView delete_icon;\r\n        TextInputLayout TIL_credit_hour, TIL_letter_grade;\r\n        TextInputEditText TIET_credit_hour, TIET_letter_grade;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            child_rv_layout = itemView.findViewById(R.id.child_rv_layout);\r\n            card_view_layout = itemView.findViewById(R.id.card_view_layout);\r\n\r\n            card_view = itemView.findViewById(R.id.card_view);\r\n\r\n            subject_LBL = itemView.findViewById(R.id.subject_LBL);\r\n\r\n            delete_icon = itemView.findViewById(R.id.delete_icon);\r\n\r\n            TIL_credit_hour = itemView.findViewById(R.id.TIL_credit_hour);\r\n            TIL_letter_grade = itemView.findViewById(R.id.TIL_letter_grade);\r\n\r\n            TIET_credit_hour = itemView.findViewById(R.id.TIET_credit_hour);\r\n            TIET_letter_grade = itemView.findViewById(R.id.TIET_letter_grade);\r\n\r\n            delete_icon.setOnClickListener(view -&gt; {\r\n                childModelClassList.remove(getAdapterPosition());\r\n                notifyItemRemoved(getAdapterPosition());\r\n            });\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Parent Model Class**\r\n\r\n``` package com.calculator.nestedrecyclerview;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class ParentModelClass {\r\n\r\n    String semester_LBL;\r\n    String semester_GPA_value;\r\n    ArrayList&lt;ChildModelClass&gt; childModelClassList;\r\n\r\n    public ParentModelClass(String semester_LBL, String semester_GPA_value, ArrayList&lt;ChildModelClass&gt; childModelClassList) {\r\n        this.semester_LBL = semester_LBL;\r\n        this.semester_GPA_value = semester_GPA_value;\r\n        this.childModelClassList = childModelClassList;\r\n    }\r\n\r\n    public String getSemester_LBL() {\r\n        return semester_LBL;\r\n    }\r\n\r\n    public void setSemester_LBL(String semester_LBL) {\r\n        this.semester_LBL = semester_LBL;\r\n    }\r\n\r\n    public String getSemester_GPA_value() {\r\n        return semester_GPA_value;\r\n    }\r\n\r\n    public void setSemester_GPA_value(String semester_GPA_value) {\r\n        this.semester_GPA_value = semester_GPA_value;\r\n    }\r\n}\r\n```\r\n\r\n**Parent Adapter Class**\r\n\r\n``` package com.calculator.nestedrecyclerview;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.constraintlayout.widget.ConstraintLayout;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class ParentAdapterClass extends RecyclerView.Adapter&lt;ParentAdapterClass.ViewHolder&gt; {\r\n\r\n    ArrayList&lt;ParentModelClass&gt; parentModelClassArrayList;\r\n    Context context;\r\n\r\n    public ParentAdapterClass(ArrayList&lt;ParentModelClass&gt; parentModelClassArrayList, Context context) {\r\n        this.parentModelClassArrayList = parentModelClassArrayList;\r\n        this.context = context;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ParentAdapterClass.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater layoutInflater = LayoutInflater.from(parent.getContext());\r\n        View v =layoutInflater.inflate(R.layout.parent_rv_layout,parent,false);\r\n        return new ViewHolder(v);\r\n    }\r\n\r\n    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ParentAdapterClass.ViewHolder holder, int position) {\r\n        ParentModelClass list = parentModelClassArrayList.get(position);\r\n\r\n        holder.semester_LBL.setText(list.getSemester_LBL());\r\n        holder.semester_gpa_value.setText(list.getSemester_GPA_value());\r\n\r\n        ChildAdapter childAdapter;\r\n        childAdapter = new ChildAdapter(parentModelClassArrayList.get(position).childModelClassList, context);\r\n        ListDecorator listDecorator = new ListDecorator(0,15,15,0);\r\n        holder.child_rv.addItemDecoration(listDecorator);\r\n        holder.child_rv.setLayoutManager(new LinearLayoutManager(context, LinearLayoutManager.HORIZONTAL, false));\r\n        holder.child_rv.setAdapter(childAdapter);\r\n        holder.child_rv.setHasFixedSize(true);\r\n        childAdapter.notifyDataSetChanged();\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return parentModelClassArrayList.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        ConstraintLayout parent_rv_layout, semester_gpa_display_layout;\r\n        RecyclerView child_rv;\r\n        TextView semester_LBL, semester_gpa_value;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            parent_rv_layout = itemView.findViewById(R.id.parent_rv_layout);\r\n            semester_gpa_display_layout = itemView.findViewById(R.id.semester_gpa_display_layout);\r\n\r\n            child_rv = itemView.findViewById(R.id.child_rv);\r\n\r\n            semester_LBL = itemView.findViewById(R.id.semester_LBL);\r\n            semester_gpa_value = itemView.findViewById(R.id.semester_gpa_value);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**MainActivity**\r\n\r\n``` package com.calculator.nestedrecyclerview;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.constraintlayout.widget.ConstraintLayout;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    ConstraintLayout parent_layout, CGPA_display_layout;\r\n    TextView Label_CGPA, CGPA_value;\r\n    RecyclerView parent_rv;\r\n\r\n    ArrayList&lt;ParentModelClass&gt; parentModelClassArrayList;\r\n    ArrayList&lt;ChildModelClass&gt; childModelClassArrayList;\r\n    ArrayList&lt;ChildModelClass&gt; semester_1;\r\n    ArrayList&lt;ChildModelClass&gt; semester_2;\r\n    ArrayList&lt;ChildModelClass&gt; semester_3;\r\n    ArrayList&lt;ChildModelClass&gt; semester_4;\r\n\r\n\r\n    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        parent_layout = findViewById(R.id.parent_layout);\r\n        CGPA_display_layout = findViewById(R.id.CGPA_display_layout);\r\n        Label_CGPA = findViewById(R.id.Label_CGPA);\r\n        CGPA_value = findViewById(R.id.CGPA_value);\r\n        parent_rv = findViewById(R.id.parent_rv);\r\n\r\n        childModelClassArrayList = new ArrayList&lt;&gt;();\r\n        semester_1 = new ArrayList&lt;&gt;();\r\n        semester_2 = new ArrayList&lt;&gt;();\r\n        semester_3 = new ArrayList&lt;&gt;();\r\n        semester_4 = new ArrayList&lt;&gt;();\r\n        parentModelClassArrayList = new ArrayList&lt;&gt;();\r\n        ParentAdapterClass parentAdapterClass;\r\n\r\n        semester_1.add(new ChildModelClass(&quot;Subject 1&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\r\n        semester_1.add(new ChildModelClass(&quot;Subject 2&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\r\n        semester_1.add(new ChildModelClass(&quot;Subject 3&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\r\n        semester_1.add(new ChildModelClass(&quot;Subject 4&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\r\n\r\n        semester_2.add(new ChildModelClass(&quot;Subject 1&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\r\n        semester_2.add(new ChildModelClass(&quot;Subject 2&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\r\n        semester_2.add(new ChildModelClass(&quot;Subject 3&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\r\n        semester_2.add(new ChildModelClass(&quot;Subject 4&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\r\n\r\n        semester_3.add(new ChildModelClass(&quot;Subject 1&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\r\n        semester_3.add(new ChildModelClass(&quot;Subject 2&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\r\n        semester_3.add(new ChildModelClass(&quot;Subject 3&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\r\n        semester_3.add(new ChildModelClass(&quot;Subject 4&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\r\n\r\n        semester_4.add(new ChildModelClass(&quot;Subject 1&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\r\n        semester_4.add(new ChildModelClass(&quot;Subject 2&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\r\n        semester_4.add(new ChildModelClass(&quot;Subject 3&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\r\n        semester_4.add(new ChildModelClass(&quot;Subject 4&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\r\n\r\n        parentModelClassArrayList.add(new ParentModelClass(&quot;Semester 1&quot;, &quot;0.00&quot;, semester_1));\r\n        parentModelClassArrayList.add(new ParentModelClass(&quot;Semester 2&quot;, &quot;0.00&quot;, semester_2));\r\n        parentModelClassArrayList.add(new ParentModelClass(&quot;Semester 3&quot;, &quot;0.00&quot;, semester_3));\r\n        parentModelClassArrayList.add(new ParentModelClass(&quot;Semester 4&quot;, &quot;0.00&quot;, semester_4));\r\n\r\n\r\n        parentAdapterClass = new ParentAdapterClass(parentModelClassArrayList,MainActivity.this);\r\n        ListDecorator listDecorator = new ListDecorator(20, 0,0, 20);\r\n        parent_rv.addItemDecoration(listDecorator);\r\n        parent_rv.setAdapter(parentAdapterClass);\r\n        parent_rv.setHasFixedSize(true);\r\n        parent_rv.setLayoutManager(new LinearLayoutManager(this));\r\n        parentAdapterClass.notifyDataSetChanged();\r\n\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/AbLj0.jpg","title":"How to update Parent RecyclerView&#39;s components from child RecyclerView&#39;s components in android Studio using java?","body":"<p>As you can see in the picture I have two recycler Views (Parent and nested Recycler View), the parent recycler View is showing Semesters' list while the nested recycler View is showing subjects' list for that particular Semester. Now the problem is that I want to update the SGPA TextView (0.00) next to Semester TextView when a user enters credit hours and letter grade in particular Semester's subjects' list ... I am doing it by the following provided code, but it does not satisfy my needs...</p>\n<p><img src=\"https://i.stack.imgur.com/AbLj0.jpg\" alt=\"1\" /></p>\n<p><strong>Child Model Class</strong></p>\n<pre><code>\npublic class ChildModelClass {\n\n    String subject_LBL;\n    String credit_hours;\n    String letter_grade;\n    int delete_icon;\n\n    public ChildModelClass(String subject_LBL, int delete_icon, String credit_hours, String letter_grade) {\n        this.subject_LBL = subject_LBL;\n        this.delete_icon = delete_icon;\n        this.credit_hours = credit_hours;\n        this.letter_grade = letter_grade;\n    }\n\n    public String getSubject_LBL() {\n        return subject_LBL;\n    }\n\n    public String getCredit_hours() {\n        return credit_hours;\n    }\n\n    public void setCredit_hours(String credit_hours) {\n        this.credit_hours = credit_hours;\n    }\n\n    public String getLetter_grade() {\n        return letter_grade;\n    }\n\n    public void setLetter_grade(String letter_grade) {\n        this.letter_grade = letter_grade;\n    }\n\n    public void setSubject_LBL(String subject_LBL) {\n        this.subject_LBL = subject_LBL;\n    }\n\n    public int getDelete_icon() {\n        return delete_icon;\n    }\n\n    public void setDelete_icon(int delete_icon) {\n        this.delete_icon = delete_icon;\n    }\n\n}\n</code></pre>\n<p><strong>Child Adapter Class</strong></p>\n<pre><code>\nimport android.app.Activity;\nimport android.content.Context;\nimport android.text.Editable;\nimport android.text.TextWatcher;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.constraintlayout.widget.ConstraintLayout;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.google.android.material.card.MaterialCardView;\nimport com.google.android.material.textfield.TextInputEditText;\nimport com.google.android.material.textfield.TextInputLayout;\n\nimport java.util.ArrayList;\n\npublic class ChildAdapter extends RecyclerView.Adapter&lt;ChildAdapter.ViewHolder&gt; {\n\n    ArrayList&lt;ChildModelClass&gt; childModelClassList;\n    ArrayList&lt;String&gt; credit_hour_arrayList = new ArrayList&lt;&gt;();\n//    ArrayList&lt;String&gt; letter_grade_arrayList;\n    boolean isOnTextChanged = false;\n    int total_credit_hours = 0;\n    Context context;\n    TextView sGPA_value;\n    View rootView;\n\n    public ChildAdapter(ArrayList&lt;ChildModelClass&gt; childModelClassList,Context context) {\n        this.childModelClassList = childModelClassList;\n        this.context = context;\n    }\n\n    @NonNull\n    @Override\n    public ChildAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater layoutInflater = LayoutInflater.from(parent.getContext());\n        View v =layoutInflater.inflate(R.layout.child_rv_layout,parent,false);\n        context = parent.getContext();\n        rootView = ((Activity) context).getWindow().getDecorView().findViewById(android.R.id.content);\n        sGPA_value = rootView.findViewById(R.id.semester_gpa_value);\n        return new ViewHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ChildAdapter.ViewHolder holder, int position) {\n        ChildModelClass list = childModelClassList.get(position);\n        holder.TIET_credit_hour.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n            }\n\n            @Override\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n                isOnTextChanged = true;\n                // list.credit_hours = charSequence.toString();\n\n            }\n\n            @Override\n            public void afterTextChanged(Editable editable) {\n\n                total_credit_hours = 0;\n                if (isOnTextChanged) {\n                    isOnTextChanged = false;\n\n                    try {\n\n                        for (int i = 0; i &lt;= holder.getAdapterPosition(); i++) {\n                            if (i != holder.getAdapterPosition()) {\n                                credit_hour_arrayList.add(&quot;0&quot;);\n                            }else {\n                                credit_hour_arrayList.add(&quot;0&quot;);\n                                credit_hour_arrayList.set(holder.getAdapterPosition(),editable.toString());\n\n                                break;\n                            }\n                        }\n\n                        for (int i = 0; i &lt;= credit_hour_arrayList.size() -1; i++) {\n                            int tempTotalCreditHours = Integer.parseInt(credit_hour_arrayList.get(i));\n                            total_credit_hours = total_credit_hours + tempTotalCreditHours;\n                        }\n//                        total_final_credit_hours = String.valueOf(total_credit_hours);\n                        sGPA_value.setText(String.valueOf(total_credit_hours));\n                    }catch (NumberFormatException e) {\n                        total_credit_hours = 0;\n                        for (int i = 0; i &lt;= holder.getAdapterPosition(); i++) {\n                            int newPosition = holder.getAdapterPosition();\n                            if (i == newPosition) {\n                                credit_hour_arrayList.set(newPosition,&quot;0&quot;);\n                            }\n                        }\n                        for (int i = 0; i &lt; credit_hour_arrayList.size()-1; i++) {\n                            int tempTotalCreditHours = Integer.parseInt(credit_hour_arrayList.get(i));\n                            total_credit_hours = total_credit_hours + tempTotalCreditHours;\n                        }\n//                        total_final_credit_hours = String.valueOf(total_credit_hours);\n                        sGPA_value.setText(String.valueOf(total_credit_hours));\n                    }\n\n                }\n\n            }\n        });\n\n        holder.subject_LBL.setText(list.getSubject_LBL());\n        holder.delete_icon.setImageResource(list.getDelete_icon());\n        holder.TIET_credit_hour.setText(list.getCredit_hours());\n        holder.TIET_letter_grade.setText(list.getLetter_grade());\n    }\n\n    @Override\n    public int getItemCount() {\n        return childModelClassList.size();\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return super.getItemId(position);\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n        return super.getItemViewType(position);\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        ConstraintLayout child_rv_layout, card_view_layout;\n        MaterialCardView card_view;\n        TextView subject_LBL;\n        ImageView delete_icon;\n        TextInputLayout TIL_credit_hour, TIL_letter_grade;\n        TextInputEditText TIET_credit_hour, TIET_letter_grade;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            child_rv_layout = itemView.findViewById(R.id.child_rv_layout);\n            card_view_layout = itemView.findViewById(R.id.card_view_layout);\n\n            card_view = itemView.findViewById(R.id.card_view);\n\n            subject_LBL = itemView.findViewById(R.id.subject_LBL);\n\n            delete_icon = itemView.findViewById(R.id.delete_icon);\n\n            TIL_credit_hour = itemView.findViewById(R.id.TIL_credit_hour);\n            TIL_letter_grade = itemView.findViewById(R.id.TIL_letter_grade);\n\n            TIET_credit_hour = itemView.findViewById(R.id.TIET_credit_hour);\n            TIET_letter_grade = itemView.findViewById(R.id.TIET_letter_grade);\n\n            delete_icon.setOnClickListener(view -&gt; {\n                childModelClassList.remove(getAdapterPosition());\n                notifyItemRemoved(getAdapterPosition());\n            });\n        }\n    }\n}\n</code></pre>\n<p><strong>Parent Model Class</strong></p>\n<pre><code>\nimport java.util.ArrayList;\n\npublic class ParentModelClass {\n\n    String semester_LBL;\n    String semester_GPA_value;\n    ArrayList&lt;ChildModelClass&gt; childModelClassList;\n\n    public ParentModelClass(String semester_LBL, String semester_GPA_value, ArrayList&lt;ChildModelClass&gt; childModelClassList) {\n        this.semester_LBL = semester_LBL;\n        this.semester_GPA_value = semester_GPA_value;\n        this.childModelClassList = childModelClassList;\n    }\n\n    public String getSemester_LBL() {\n        return semester_LBL;\n    }\n\n    public void setSemester_LBL(String semester_LBL) {\n        this.semester_LBL = semester_LBL;\n    }\n\n    public String getSemester_GPA_value() {\n        return semester_GPA_value;\n    }\n\n    public void setSemester_GPA_value(String semester_GPA_value) {\n        this.semester_GPA_value = semester_GPA_value;\n    }\n}\n</code></pre>\n<p><strong>Parent Adapter Class</strong></p>\n<pre><code>\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.constraintlayout.widget.ConstraintLayout;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class ParentAdapterClass extends RecyclerView.Adapter&lt;ParentAdapterClass.ViewHolder&gt; {\n\n    ArrayList&lt;ParentModelClass&gt; parentModelClassArrayList;\n    Context context;\n\n    public ParentAdapterClass(ArrayList&lt;ParentModelClass&gt; parentModelClassArrayList, Context context) {\n        this.parentModelClassArrayList = parentModelClassArrayList;\n        this.context = context;\n    }\n\n    @NonNull\n    @Override\n    public ParentAdapterClass.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater layoutInflater = LayoutInflater.from(parent.getContext());\n        View v =layoutInflater.inflate(R.layout.parent_rv_layout,parent,false);\n        return new ViewHolder(v);\n    }\n\n    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n    @Override\n    public void onBindViewHolder(@NonNull ParentAdapterClass.ViewHolder holder, int position) {\n        ParentModelClass list = parentModelClassArrayList.get(position);\n\n        holder.semester_LBL.setText(list.getSemester_LBL());\n        holder.semester_gpa_value.setText(list.getSemester_GPA_value());\n\n        ChildAdapter childAdapter;\n        childAdapter = new ChildAdapter(parentModelClassArrayList.get(position).childModelClassList, context);\n        ListDecorator listDecorator = new ListDecorator(0,15,15,0);\n        holder.child_rv.addItemDecoration(listDecorator);\n        holder.child_rv.setLayoutManager(new LinearLayoutManager(context, LinearLayoutManager.HORIZONTAL, false));\n        holder.child_rv.setAdapter(childAdapter);\n        holder.child_rv.setHasFixedSize(true);\n        childAdapter.notifyDataSetChanged();\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return parentModelClassArrayList.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        ConstraintLayout parent_rv_layout, semester_gpa_display_layout;\n        RecyclerView child_rv;\n        TextView semester_LBL, semester_gpa_value;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            parent_rv_layout = itemView.findViewById(R.id.parent_rv_layout);\n            semester_gpa_display_layout = itemView.findViewById(R.id.semester_gpa_display_layout);\n\n            child_rv = itemView.findViewById(R.id.child_rv);\n\n            semester_LBL = itemView.findViewById(R.id.semester_LBL);\n            semester_gpa_value = itemView.findViewById(R.id.semester_gpa_value);\n        }\n    }\n}\n</code></pre>\n<p><strong>MainActivity</strong></p>\n<pre><code>\nimport android.annotation.SuppressLint;\nimport android.os.Bundle;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.constraintlayout.widget.ConstraintLayout;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity {\n\n    ConstraintLayout parent_layout, CGPA_display_layout;\n    TextView Label_CGPA, CGPA_value;\n    RecyclerView parent_rv;\n\n    ArrayList&lt;ParentModelClass&gt; parentModelClassArrayList;\n    ArrayList&lt;ChildModelClass&gt; childModelClassArrayList;\n    ArrayList&lt;ChildModelClass&gt; semester_1;\n    ArrayList&lt;ChildModelClass&gt; semester_2;\n    ArrayList&lt;ChildModelClass&gt; semester_3;\n    ArrayList&lt;ChildModelClass&gt; semester_4;\n\n\n    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        parent_layout = findViewById(R.id.parent_layout);\n        CGPA_display_layout = findViewById(R.id.CGPA_display_layout);\n        Label_CGPA = findViewById(R.id.Label_CGPA);\n        CGPA_value = findViewById(R.id.CGPA_value);\n        parent_rv = findViewById(R.id.parent_rv);\n\n        childModelClassArrayList = new ArrayList&lt;&gt;();\n        semester_1 = new ArrayList&lt;&gt;();\n        semester_2 = new ArrayList&lt;&gt;();\n        semester_3 = new ArrayList&lt;&gt;();\n        semester_4 = new ArrayList&lt;&gt;();\n        parentModelClassArrayList = new ArrayList&lt;&gt;();\n        ParentAdapterClass parentAdapterClass;\n\n        semester_1.add(new ChildModelClass(&quot;Subject 1&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\n        semester_1.add(new ChildModelClass(&quot;Subject 2&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\n        semester_1.add(new ChildModelClass(&quot;Subject 3&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\n        semester_1.add(new ChildModelClass(&quot;Subject 4&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\n\n        semester_2.add(new ChildModelClass(&quot;Subject 1&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\n        semester_2.add(new ChildModelClass(&quot;Subject 2&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\n        semester_2.add(new ChildModelClass(&quot;Subject 3&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\n        semester_2.add(new ChildModelClass(&quot;Subject 4&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\n\n        semester_3.add(new ChildModelClass(&quot;Subject 1&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\n        semester_3.add(new ChildModelClass(&quot;Subject 2&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\n        semester_3.add(new ChildModelClass(&quot;Subject 3&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\n        semester_3.add(new ChildModelClass(&quot;Subject 4&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\n\n        semester_4.add(new ChildModelClass(&quot;Subject 1&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\n        semester_4.add(new ChildModelClass(&quot;Subject 2&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\n        semester_4.add(new ChildModelClass(&quot;Subject 3&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\n        semester_4.add(new ChildModelClass(&quot;Subject 4&quot;, R.drawable.ic_delete, &quot;&quot;, &quot;&quot;));\n\n        parentModelClassArrayList.add(new ParentModelClass(&quot;Semester 1&quot;, &quot;0.00&quot;, semester_1));\n        parentModelClassArrayList.add(new ParentModelClass(&quot;Semester 2&quot;, &quot;0.00&quot;, semester_2));\n        parentModelClassArrayList.add(new ParentModelClass(&quot;Semester 3&quot;, &quot;0.00&quot;, semester_3));\n        parentModelClassArrayList.add(new ParentModelClass(&quot;Semester 4&quot;, &quot;0.00&quot;, semester_4));\n\n\n        parentAdapterClass = new ParentAdapterClass(parentModelClassArrayList,MainActivity.this);\n        ListDecorator listDecorator = new ListDecorator(20, 0,0, 20);\n        parent_rv.addItemDecoration(listDecorator);\n        parent_rv.setAdapter(parentAdapterClass);\n        parent_rv.setHasFixedSize(true);\n        parent_rv.setLayoutManager(new LinearLayoutManager(this));\n        parentAdapterClass.notifyDataSetChanged();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","maven","intellij-idea","boot"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1660979876,"post_id":73423166,"comment_id":129665732,"body_markdown":"Which test framework do you use?","body":"Which test framework do you use?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1660991486,"post_id":73423166,"comment_id":129667599,"body_markdown":"You project has not been imported correct. The source tree does not show that `src/main/java` has been identified as source code (different color blue). I recommend to close the project. Delete the `.idea` directoy as well as `*.iml` file and import the project from scratch....","body":"You project has not been imported correct. The source tree does not show that <code>src&#47;main&#47;java</code> has been identified as source code (different color blue). I recommend to close the project. Delete the <code>.idea</code> directoy as well as <code>*.iml</code> file and import the project from scratch...."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1660996610,"post_id":73423166,"comment_id":129668577,"body_markdown":"I echo what khmarbaise said, but as far as I&#39;m aware, you don&#39;t need to be so drastic to delete the .idea and *.iml files. Reimporting (refreshing) your Maven project from the Maven tab in IntelliJ should be sufficient.","body":"I echo what khmarbaise said, but as far as I&#39;m aware, you don&#39;t need to be so drastic to delete the .idea and *.iml files. Reimporting (refreshing) your Maven project from the Maven tab in IntelliJ should be sufficient."}],"owner":{"account_id":26111736,"reputation":19,"user_id":19805558,"display_name":"Dhia Akermi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660972794,"creation_date":1660952450,"question_id":73423166,"body_markdown":"I&#39;m trying to implement a unit testing for my rest controller but when I click Alt + Enter \r\nI can&#39;t see the create Test option\r\nI tried to reinstall the dependencies, Invalid caches but it didn&#39;t work\r\n\r\n![1]\r\n\r\n\r\n![2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/flAr0.png\r\n  [2]: https://i.stack.imgur.com/JJThQ.png","title":"Why there&#39;s no &quot;Create Test&quot; Option when I click Alt + enter in my Maven Intellij project?","body":"<p>I'm trying to implement a unit testing for my rest controller but when I click Alt + Enter\nI can't see the create Test option\nI tried to reinstall the dependencies, Invalid caches but it didn't work</p>\n<p><img src=\"https://i.stack.imgur.com/flAr0.png\" alt=\"1\" /></p>\n<p><img src=\"https://i.stack.imgur.com/JJThQ.png\" alt=\"2\" /></p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":23257817,"reputation":1,"user_id":17344586,"display_name":"Dihan"},"score":0,"creation_date":1660970674,"post_id":73421843,"comment_id":129664745,"body_markdown":"Update : Finally solve this problem. I was using a dependency which was not found by gradle internet [implementation : &#39;com.android.support:multidex:2.0.1]. After remove that dependency my code run successfully.","body":"Update : Finally solve this problem. I was using a dependency which was not found by gradle internet [implementation : &#39;com.android.support:multidex:2.0.1]. After remove that dependency my code run successfully."}],"answers":[{"tags":[],"owner":{"account_id":6869576,"reputation":427,"user_id":5280535,"display_name":"david"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660941004,"creation_date":1660941004,"answer_id":73421985,"question_id":73421843,"body_markdown":"As response in: \r\nhttps://stackoverflow.com/questions/53932195/android-studio-3-2-1-artifactresolveexception-could-not-resolve-all-artifacts-f  \r\n\r\nCheck if the build gradle is in offline mode","title":"When I open my emulator in my Android Studio then the build output pop up and showing continuously this problem","body":"<p>As response in:\n<a href=\"https://stackoverflow.com/questions/53932195/android-studio-3-2-1-artifactresolveexception-could-not-resolve-all-artifacts-f\">Android studio 3.2.1 ArtifactResolveException: Could not resolve all artifacts for configuration &#39;:classpath&#39;</a></p>\n<p>Check if the build gradle is in offline mode</p>\n"},{"tags":[],"owner":{"account_id":23257817,"reputation":1,"user_id":17344586,"display_name":"Dihan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660970792,"creation_date":1660970792,"answer_id":73424159,"question_id":73421843,"body_markdown":"Update : Finally solve this problem. I was using a dependency which was not found by gradle internet [implementation : &#39;com.android.support:multidex:2.0.1]. After remove that dependency,synchronize it and  my code run successfully.","title":"When I open my emulator in my Android Studio then the build output pop up and showing continuously this problem","body":"<p>Update : Finally solve this problem. I was using a dependency which was not found by gradle internet [implementation : 'com.android.support:multidex:2.0.1]. After remove that dependency,synchronize it and  my code run successfully.</p>\n"}],"owner":{"account_id":23257817,"reputation":1,"user_id":17344586,"display_name":"Dihan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660970792,"creation_date":1660940075,"question_id":73421843,"body_markdown":"Caused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.","title":"When I open my emulator in my Android Studio then the build output pop up and showing continuously this problem","body":"<p>Caused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':app:debugRuntimeClasspath'.</p>\n"},{"tags":["java","spring","spring-data","spring-data-r2dbc","r2dbc"],"owner":{"account_id":7644404,"reputation":61,"user_id":5795553,"display_name":"Jo&#227;o Verissimo Ribeiro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1552,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1660969714,"creation_date":1660969714,"question_id":73424096,"body_markdown":"I want to discuss a bit further the usage of Criteria and ReactiveCrudRepository.\r\n\r\nSpring data r2dbc supports [query by example][1]. Which in many cases is too limited. For example, all types other than String are exact-match only.\r\n\r\nNavigating the issues of the project, I found an [answer from @jiangtj][2] and managed to elaborate the following piece of code:\r\n\r\n```java\r\npublic interface UserRepository extends ReactiveCrudRepository&lt;User, Long&gt;, ReactiveSearchRepository&lt;User&gt; {\r\n\r\n}\r\n\r\ninterface ReactiveSearchRepository&lt;T&gt; {\r\n    Flux&lt;T&gt; findAll(Criteria criteria, Class&lt;T&gt; domainType);\r\n\r\n    public Mono&lt;Page&lt;T&gt;&gt; findAll(Criteria criteria, Pageable pageable, Class&lt;T&gt; domainType);\r\n}\r\n```\r\n\r\nAnd then the implementation for `ReactiveSearchRepositoryImpl`:\r\n```java\r\n\r\n@AllArgsConstructor\r\nclass ReactiveSearchRepositoryImpl&lt;T&gt; implements ReactiveSearchRepository&lt;T&gt; {\r\n\r\n    private final R2dbcEntityTemplate r2dbcTemplate;\r\n\r\n    public Flux&lt;T&gt; findAll(Criteria criteria, Class&lt;T&gt; domainType) {\r\n        return r2dbcTemplate.select(domainType)\r\n                .matching(query(criteria))\r\n                .all();\r\n    }\r\n\r\n    public Mono&lt;Page&lt;T&gt;&gt; findAll(Criteria criteria, Pageable pageable, Class&lt;T&gt; domainType) {\r\n        Mono&lt;List&lt;T&gt;&gt; list = r2dbcTemplate.select(domainType)\r\n                .matching(query(criteria).with(pageable))\r\n                .all()\r\n                .collectList();\r\n        Mono&lt;Long&gt; count = r2dbcTemplate.select(domainType)\r\n                .matching(query(criteria))\r\n                .count();\r\n        return Mono.zip(list, count)\r\n                .map(tuple -&gt; new PageImpl&lt;&gt;(tuple.getT1(), pageable, tuple.getT2()));\r\n    }\r\n}\r\n\r\n```\r\n\r\nI&#39;m aware of [Oliver Drotbohm&#39;s view][3] about `Criteria` as a store-specific type. Although the Fluent API supports it out of the box. \r\n\r\nIn my personal view, adding `Criteria` to the Reactive Repositories would empower the framework with a new dimension of querying the DB.\r\n\r\nDoes it make sense?\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-r2dbc/issues/372\r\n  [2]: https://github.com/spring-projects/spring-data-r2dbc/issues/565#issuecomment-821781637\r\n  [3]: https://github.com/spring-projects/spring-data-r2dbc/issues/371#issuecomment-630081500","title":"ReactiveCrudRepository Criteria Query","body":"<p>I want to discuss a bit further the usage of Criteria and ReactiveCrudRepository.</p>\n<p>Spring data r2dbc supports <a href=\"https://github.com/spring-projects/spring-data-r2dbc/issues/372\" rel=\"nofollow noreferrer\">query by example</a>. Which in many cases is too limited. For example, all types other than String are exact-match only.</p>\n<p>Navigating the issues of the project, I found an <a href=\"https://github.com/spring-projects/spring-data-r2dbc/issues/565#issuecomment-821781637\" rel=\"nofollow noreferrer\">answer from @jiangtj</a> and managed to elaborate the following piece of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface UserRepository extends ReactiveCrudRepository&lt;User, Long&gt;, ReactiveSearchRepository&lt;User&gt; {\n\n}\n\ninterface ReactiveSearchRepository&lt;T&gt; {\n    Flux&lt;T&gt; findAll(Criteria criteria, Class&lt;T&gt; domainType);\n\n    public Mono&lt;Page&lt;T&gt;&gt; findAll(Criteria criteria, Pageable pageable, Class&lt;T&gt; domainType);\n}\n</code></pre>\n<p>And then the implementation for <code>ReactiveSearchRepositoryImpl</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@AllArgsConstructor\nclass ReactiveSearchRepositoryImpl&lt;T&gt; implements ReactiveSearchRepository&lt;T&gt; {\n\n    private final R2dbcEntityTemplate r2dbcTemplate;\n\n    public Flux&lt;T&gt; findAll(Criteria criteria, Class&lt;T&gt; domainType) {\n        return r2dbcTemplate.select(domainType)\n                .matching(query(criteria))\n                .all();\n    }\n\n    public Mono&lt;Page&lt;T&gt;&gt; findAll(Criteria criteria, Pageable pageable, Class&lt;T&gt; domainType) {\n        Mono&lt;List&lt;T&gt;&gt; list = r2dbcTemplate.select(domainType)\n                .matching(query(criteria).with(pageable))\n                .all()\n                .collectList();\n        Mono&lt;Long&gt; count = r2dbcTemplate.select(domainType)\n                .matching(query(criteria))\n                .count();\n        return Mono.zip(list, count)\n                .map(tuple -&gt; new PageImpl&lt;&gt;(tuple.getT1(), pageable, tuple.getT2()));\n    }\n}\n\n</code></pre>\n<p>I'm aware of <a href=\"https://github.com/spring-projects/spring-data-r2dbc/issues/371#issuecomment-630081500\" rel=\"nofollow noreferrer\">Oliver Drotbohm's view</a> about <code>Criteria</code> as a store-specific type. Although the Fluent API supports it out of the box.</p>\n<p>In my personal view, adding <code>Criteria</code> to the Reactive Repositories would empower the framework with a new dimension of querying the DB.</p>\n<p>Does it make sense?</p>\n"},{"tags":["java","spring","jsp","bean-validation"],"answers":[{"tags":[],"owner":{"account_id":1038817,"reputation":89,"user_id":1045330,"accept_rate":100,"display_name":"PanBrambor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499941653,"creation_date":1499941653,"answer_id":45077974,"question_id":45048365,"body_markdown":"Consider writing a validator for that form, then you can easily suply any text you require, e.g.\r\n\r\n    private void validatePhone(final String phone, final Errors errors) {\r\n            if (StringUtils.isEmpty(phone)) {\r\n                errors.rejectValue(&quot;phoneNumber&quot;, &quot;error.field.required&quot;);\r\n                return;\r\n            }\r\n            if (isNumber(phone)) {\r\n                validateLength(phone, errors, &quot;phoneNumber&quot;, 9);\r\n            } else {\r\n                errors.rejectValue(&quot;phoneNumber&quot;, &quot;error.only.numbers&quot;);\r\n            }\r\n        }","title":"BindingResult does not get message from .properties file and not showig in jsp","body":"<p>Consider writing a validator for that form, then you can easily suply any text you require, e.g.</p>\n\n<pre><code>private void validatePhone(final String phone, final Errors errors) {\n        if (StringUtils.isEmpty(phone)) {\n            errors.rejectValue(\"phoneNumber\", \"error.field.required\");\n            return;\n        }\n        if (isNumber(phone)) {\n            validateLength(phone, errors, \"phoneNumber\", 9);\n        } else {\n            errors.rejectValue(\"phoneNumber\", \"error.only.numbers\");\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15337987,"reputation":29,"user_id":11065763,"display_name":"Sumit Paswan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660967083,"creation_date":1660967083,"answer_id":73423945,"question_id":45048365,"body_markdown":"I know that I am too late for this answer, but still if in case it helps any person in need.\r\nI can see your file name is little incorrect.\r\n\r\n**Resolution:** I think it will work if you try changing your properties file name to **messages.properties** instead of **message.properties**. just append **&quot;s&quot;**. Thank you :) !!\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q0Q15.png","title":"BindingResult does not get message from .properties file and not showig in jsp","body":"<p>I know that I am too late for this answer, but still if in case it helps any person in need.\nI can see your file name is little incorrect.</p>\n<p><strong>Resolution:</strong> I think it will work if you try changing your properties file name to <strong>messages.properties</strong> instead of <strong>message.properties</strong>. just append <strong>&quot;s&quot;</strong>. Thank you :) !!</p>\n<p><a href=\"https://i.stack.imgur.com/q0Q15.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q0Q15.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":10846480,"reputation":8784,"user_id":7975771,"accept_rate":12,"display_name":"varman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":811,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660967083,"creation_date":1499833149,"question_id":45048365,"body_markdown":"I use **BindingResult** to validate jsp form, Im using **message.properties** file to set all the validation message. When I print the result, it shows , there are some errors in *console*, but not showing the correct message which is in message.properties file and not even showing errors in jsp file. \r\n\r\nDo I need to include anyannotation in controller class to get data from message.properties ?\r\n\r\n**Configuration**\r\n\r\n    //other annotations\r\n    public class WebConfig extends WebMvcConfigurerAdapter{\r\n    \r\n    //other stuffs\r\n     @Bean\r\n    \tpublic MessageSource messageSource() {\r\n    \t\tResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\r\n    \t\tmessageSource.setBasename(&quot;messages&quot;);\r\n    \t\treturn messageSource;\r\n    \t}\r\n    }\r\n\r\n**message.properties**\r\n\r\n    Size.companyForm.companyName= size is invalid.\r\n\r\n**Model class**\r\n\r\n    public class Company {\r\n        //other stuffs\r\n        @Size(min=2,max=30)\r\n    \tprivate String companyName;\r\n    }\r\n\r\n**Company controller**\r\n\r\n    @RequestMapping(&quot;/add&quot;)\r\n    \tpublic ModelAndView addCompany(Model modelAttr) {\t\t\r\n    \t\t\r\n    \t\tModelAndView model = new ModelAndView(&quot;addCompanyTiles&quot;);\r\n    \t\tmodel.addObject(&quot;companyForm&quot;, new Company());\r\n    \t\treturn model;\r\n    \t}\r\n    \r\n    \t@RequestMapping(value = &quot;/save&quot;, method = RequestMethod.POST)\r\n    \tpublic ModelAndView saveCompany(@ModelAttribute(&quot;companyForm&quot;) @Valid Company company, BindingResult result) {\r\n    \t\t\r\n    \t\tif(result.hasErrors()){\r\n    \t\t\tSystem.out.println(&quot;Errors : &quot;+result.toString());\r\n    \t\t\treturn new ModelAndView(&quot;redirect:/company/add&quot;);\r\n    \t\t}\r\n    \t\tcompanyService.saveOrUpdate(company);\r\n    \t\treturn new ModelAndView(&quot;redirect:/company/list&quot;);\r\n    \t}\r\n\r\n***Here error showing in console*** when I use *System.out.println(&quot;Errors :&quot;+result.toString());*\r\n\r\n    Field error in object &#39;companyForm&#39; on field &#39;companyName&#39;: rejected value []; codes [Size.companyForm.companyName,Size.companyName,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [companyForm.companyName,companyName]; arguments []; default message [companyName],30,2]; default message [size must be between 2 and 30]\r\n\r\n**jsp file**\r\n\r\n \r\n\r\n       &lt;form:form action=&quot;${saveURL} &quot; modelAttribute=&quot;companyForm&quot;&gt;\r\n    \r\n            // For easiness, I deleted other fields and styles\r\n            &lt;form:input path=&quot;companyName&quot;/&gt;\r\n            \t&lt;form:errors path=&quot;companyName&quot; class=&quot;help-inline&quot; /&gt;\r\n        &lt;/form:form&gt;","title":"BindingResult does not get message from .properties file and not showig in jsp","body":"<p>I use <strong>BindingResult</strong> to validate jsp form, Im using <strong>message.properties</strong> file to set all the validation message. When I print the result, it shows , there are some errors in <em>console</em>, but not showing the correct message which is in message.properties file and not even showing errors in jsp file. </p>\n\n<p>Do I need to include anyannotation in controller class to get data from message.properties ?</p>\n\n<p><strong>Configuration</strong></p>\n\n<pre><code>//other annotations\npublic class WebConfig extends WebMvcConfigurerAdapter{\n\n//other stuffs\n @Bean\n    public MessageSource messageSource() {\n        ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\n        messageSource.setBasename(\"messages\");\n        return messageSource;\n    }\n}\n</code></pre>\n\n<p><strong>message.properties</strong></p>\n\n<pre><code>Size.companyForm.companyName= size is invalid.\n</code></pre>\n\n<p><strong>Model class</strong></p>\n\n<pre><code>public class Company {\n    //other stuffs\n    @Size(min=2,max=30)\n    private String companyName;\n}\n</code></pre>\n\n<p><strong>Company controller</strong></p>\n\n<pre><code>@RequestMapping(\"/add\")\n    public ModelAndView addCompany(Model modelAttr) {       \n\n        ModelAndView model = new ModelAndView(\"addCompanyTiles\");\n        model.addObject(\"companyForm\", new Company());\n        return model;\n    }\n\n    @RequestMapping(value = \"/save\", method = RequestMethod.POST)\n    public ModelAndView saveCompany(@ModelAttribute(\"companyForm\") @Valid Company company, BindingResult result) {\n\n        if(result.hasErrors()){\n            System.out.println(\"Errors : \"+result.toString());\n            return new ModelAndView(\"redirect:/company/add\");\n        }\n        companyService.saveOrUpdate(company);\n        return new ModelAndView(\"redirect:/company/list\");\n    }\n</code></pre>\n\n<p><strong><em>Here error showing in console</em></strong> when I use <em>System.out.println(\"Errors :\"+result.toString());</em></p>\n\n<pre><code>Field error in object 'companyForm' on field 'companyName': rejected value []; codes [Size.companyForm.companyName,Size.companyName,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [companyForm.companyName,companyName]; arguments []; default message [companyName],30,2]; default message [size must be between 2 and 30]\n</code></pre>\n\n<p><strong>jsp file</strong></p>\n\n<pre><code>   &lt;form:form action=\"${saveURL} \" modelAttribute=\"companyForm\"&gt;\n\n        // For easiness, I deleted other fields and styles\n        &lt;form:input path=\"companyName\"/&gt;\n            &lt;form:errors path=\"companyName\" class=\"help-inline\" /&gt;\n    &lt;/form:form&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","redis","lua"],"comments":[{"owner":{"account_id":7257520,"reputation":3637,"user_id":5535604,"accept_rate":100,"display_name":"Anton"},"score":0,"creation_date":1647957620,"post_id":71571279,"comment_id":126497988,"body_markdown":"Lua script itself is fine and produces expected result if you run it as: `redis-cli evalsha $(cat test.lua | redis-cli -x script load) 2 key1 key2 10 11` so try to check how it is being serialized in Java","body":"Lua script itself is fine and produces expected result if you run it as: <code>redis-cli evalsha $(cat test.lua | redis-cli -x script load) 2 key1 key2 10 11</code> so try to check how it is being serialized in Java"}],"answers":[{"tags":[],"owner":{"account_id":26112491,"reputation":26,"user_id":19806164,"display_name":"M.J"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660966727,"creation_date":1660966727,"answer_id":73423924,"question_id":71571279,"body_markdown":"This is my way to resolve the problem.\r\n\r\nbefore:\r\n\r\n    template.setKeySerializer(new StringRedisSerializer());\r\n    template.setValueSerializer(new JdkSerializationRedisSerializer());\r\n    \r\n\r\nafter:\r\n\r\n    template.setKeySerializer(new StringRedisSerializer());\r\n    template.setValueSerializer(new GenericToStringSerializer&lt;&gt;(String.class));\r\n\r\n","title":"RedisTemplate + Lua script: command arguments must be strings or integers","body":"<p>This is my way to resolve the problem.</p>\n<p>before:</p>\n<pre><code>template.setKeySerializer(new StringRedisSerializer());\ntemplate.setValueSerializer(new JdkSerializationRedisSerializer());\n</code></pre>\n<p>after:</p>\n<pre><code>template.setKeySerializer(new StringRedisSerializer());\ntemplate.setValueSerializer(new GenericToStringSerializer&lt;&gt;(String.class));\n</code></pre>\n"}],"owner":{"account_id":3581132,"reputation":1802,"user_id":2989330,"accept_rate":69,"display_name":"Green"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2737,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73423924,"answer_count":1,"score":0,"last_activity_date":1660966727,"creation_date":1647948439,"question_id":71571279,"body_markdown":"I want to atomically insert or update a key, insert this key into an index and, optionally, increment a count. To this end, I wrote the following Lua script. In this script, `KEYS[1]` is the element key, `KEYS[2]` is the index key, `ARGV[1]` is the object stored at `KEYS[1]` and `ARGV[2]` is a score.\r\n\r\n```\r\nif not redis.call(&#39;EXISTS&#39;, KEYS[1]) then\r\n  redis.call(&#39;INCR&#39;, KEYS[2] .. &quot;:num&quot;);\r\nend\r\nredis.call(&#39;SET&#39;, KEYS[1], ARGV[1]);\r\nredis.call(&#39;ZADD&#39;, KEYS[2] .. &quot;:idx&quot;, tonumber(ARGV[2]), KEYS[1]);\r\n```\r\n\r\nTo access Redis, I use a `RedisTemplate&lt;String, Object&gt;` instance which uses `GenericFastJsonRedisSerializer` to serialize values. A small working example:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        RedisStandaloneConfiguration configuration = new RedisStandaloneConfiguration();\r\n        configuration.setHostName(&quot;localhost&quot;);\r\n        configuration.setPort(6379);\r\n        LettuceConnectionFactory connectionFactory = new LettuceConnectionFactory(configuration);\r\n        connectionFactory.afterPropertiesSet();\r\n\r\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n        template.setDefaultSerializer(new GenericFastJsonRedisSerializer());\r\n        template.setDefaultSerializer(new GenericFastJsonRedisSerializer());\r\n        template.setKeySerializer(new StringRedisSerializer());\r\n        template.setValueSerializer(new GenericFastJsonRedisSerializer());\r\n        template.setHashKeySerializer(new GenericFastJsonRedisSerializer());\r\n        template.setHashValueSerializer(new GenericFastJsonRedisSerializer());\r\n        template.setConnectionFactory(connectionFactory);\r\n        template.afterPropertiesSet();\r\n\r\n        RedisScript&lt;Object&gt; script = RedisScript.of(new PathResource(Paths.get(&quot;my-script.lua&quot;))); // &lt;- above script\r\n        template.execute(script, Arrays.asList(&quot;value-key&quot;, &quot;index-key&quot;), new Object(), 1.0);\r\n    }\r\n}\r\n```\r\n\r\nHowever, when I run the Lua script, I get the following error:\r\n\r\n```\r\n@user_script: 14: Lua redis() command arguments must be strings or integers\r\n```\r\n\r\nI suppose, this is because the serializer also serializes the score, so Lua cannot read it as number anymore. Hence, how can I avoid that the serializer is applied to all arguments, and only translating my object to JSON?","title":"RedisTemplate + Lua script: command arguments must be strings or integers","body":"<p>I want to atomically insert or update a key, insert this key into an index and, optionally, increment a count. To this end, I wrote the following Lua script. In this script, <code>KEYS[1]</code> is the element key, <code>KEYS[2]</code> is the index key, <code>ARGV[1]</code> is the object stored at <code>KEYS[1]</code> and <code>ARGV[2]</code> is a score.</p>\n<pre><code>if not redis.call('EXISTS', KEYS[1]) then\n  redis.call('INCR', KEYS[2] .. &quot;:num&quot;);\nend\nredis.call('SET', KEYS[1], ARGV[1]);\nredis.call('ZADD', KEYS[2] .. &quot;:idx&quot;, tonumber(ARGV[2]), KEYS[1]);\n</code></pre>\n<p>To access Redis, I use a <code>RedisTemplate&lt;String, Object&gt;</code> instance which uses <code>GenericFastJsonRedisSerializer</code> to serialize values. A small working example:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        RedisStandaloneConfiguration configuration = new RedisStandaloneConfiguration();\n        configuration.setHostName(&quot;localhost&quot;);\n        configuration.setPort(6379);\n        LettuceConnectionFactory connectionFactory = new LettuceConnectionFactory(configuration);\n        connectionFactory.afterPropertiesSet();\n\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\n        template.setDefaultSerializer(new GenericFastJsonRedisSerializer());\n        template.setDefaultSerializer(new GenericFastJsonRedisSerializer());\n        template.setKeySerializer(new StringRedisSerializer());\n        template.setValueSerializer(new GenericFastJsonRedisSerializer());\n        template.setHashKeySerializer(new GenericFastJsonRedisSerializer());\n        template.setHashValueSerializer(new GenericFastJsonRedisSerializer());\n        template.setConnectionFactory(connectionFactory);\n        template.afterPropertiesSet();\n\n        RedisScript&lt;Object&gt; script = RedisScript.of(new PathResource(Paths.get(&quot;my-script.lua&quot;))); // &lt;- above script\n        template.execute(script, Arrays.asList(&quot;value-key&quot;, &quot;index-key&quot;), new Object(), 1.0);\n    }\n}\n</code></pre>\n<p>However, when I run the Lua script, I get the following error:</p>\n<pre><code>@user_script: 14: Lua redis() command arguments must be strings or integers\n</code></pre>\n<p>I suppose, this is because the serializer also serializes the score, so Lua cannot read it as number anymore. Hence, how can I avoid that the serializer is applied to all arguments, and only translating my object to JSON?</p>\n"},{"tags":["java","semaphore","java.util.concurrent","compare-and-swap"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1660902265,"post_id":73414754,"comment_id":129648331,"body_markdown":"Because that&#39;s what it&#39;s replacing, because nobody likes the thundering herd now. Some of us never liked it.","body":"Because that&#39;s what it&#39;s replacing, because nobody likes the thundering herd now. Some of us never liked it."},{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1660904477,"post_id":73414754,"comment_id":129649034,"body_markdown":"@user207421 could you like explain a bit more since some of us(probably just me) is  novice here","body":"@user207421 could you like explain a bit more since some of us(probably just me) is  novice here"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1660964851,"post_id":73414754,"comment_id":129664306,"body_markdown":"I think he is referring to what happens when you use `notifyAll`.  But it isn&#39;t *apropos* ... because the OP would most likely use `notify` rather than `notifyAll` here.   Anyway, read this for some background: http://javaagile.blogspot.com/2012/12/the-thundering-herd.html","body":"I think he is referring to what happens when you use <code>notifyAll</code>.  But it isn&#39;t <i>apropos</i> ... because the OP would most likely use <code>notify</code> rather than <code>notifyAll</code> here.   Anyway, read this for some background: <a href=\"http://javaagile.blogspot.com/2012/12/the-thundering-herd.html\" rel=\"nofollow noreferrer\">javaagile.blogspot.com/2012/12/the-thundering-herd.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1660964687,"creation_date":1660920998,"answer_id":73418659,"question_id":73414754,"body_markdown":"You should read the javadocs for `AbstractQueuedSynchronizer`.\r\n\r\n&gt; Why they decided to do it that way? Is it because of performance? \r\n\r\nI can&#39;t tell you with 100% certainty whether this is about performance.  But it is definitely not *all* about performance.\r\n\r\nYou will have noticed that the `FairSync` and `UnfairSync` classes used by `Semaphore` are based on `AbstractQueuedSynchronizer`.  If you look at the API, you will see that it provides richer functionality than you get with Java primitive locks and `wait` / `notify`.  In particular, you will see that it supports fair (FIFO) queuing for threads waiting for events.  The primitive wait / notify mechanisms don&#39;t provide any guarantees of fairness.  \r\n\r\nFair queuing is a requirement for a `Semaphore` created with `fair` set to `true`.\r\n\r\n&gt; Maybe I should also avoid wait/notify and use CAS in my applications.\r\n\r\nPossibly.  It depends on what your goals are.\r\n\r\nBut if your primary goal is performance, then I would recommend NOT trying to re-implement `java.util.concurrent...` classes.  Just use the existing classes as they are.\r\n\r\nAnd if one of your goals is get good performance, you cannot be afraid of using complicated techniques to implement the concurrency primitives. Or of doing your own performance analysis of different approaches and your own performance measurement.\r\n","title":"Why the Semaphore implementation uses CAS (U.compareAndSetInt) instead of wait/notify?","body":"<p>You should read the javadocs for <code>AbstractQueuedSynchronizer</code>.</p>\n<blockquote>\n<p>Why they decided to do it that way? Is it because of performance?</p>\n</blockquote>\n<p>I can't tell you with 100% certainty whether this is about performance.  But it is definitely not <em>all</em> about performance.</p>\n<p>You will have noticed that the <code>FairSync</code> and <code>UnfairSync</code> classes used by <code>Semaphore</code> are based on <code>AbstractQueuedSynchronizer</code>.  If you look at the API, you will see that it provides richer functionality than you get with Java primitive locks and <code>wait</code> / <code>notify</code>.  In particular, you will see that it supports fair (FIFO) queuing for threads waiting for events.  The primitive wait / notify mechanisms don't provide any guarantees of fairness.</p>\n<p>Fair queuing is a requirement for a <code>Semaphore</code> created with <code>fair</code> set to <code>true</code>.</p>\n<blockquote>\n<p>Maybe I should also avoid wait/notify and use CAS in my applications.</p>\n</blockquote>\n<p>Possibly.  It depends on what your goals are.</p>\n<p>But if your primary goal is performance, then I would recommend NOT trying to re-implement <code>java.util.concurrent...</code> classes.  Just use the existing classes as they are.</p>\n<p>And if one of your goals is get good performance, you cannot be afraid of using complicated techniques to implement the concurrency primitives. Or of doing your own performance analysis of different approaches and your own performance measurement.</p>\n"}],"owner":{"account_id":3200715,"reputation":1110,"user_id":2702805,"accept_rate":80,"display_name":"Iaroslav Baranov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73418659,"answer_count":1,"score":0,"last_activity_date":1660964687,"creation_date":1660901852,"question_id":73414754,"body_markdown":"I&#39;ve decided to implement some clasess from the concurrency package from scratch and implemented Semaphore with wait/notify. It seems very easy and intuitive to do so. When I checked the build in implementation, I saw they complicated it all with CAS (Compare And Swap) technique. They did the same for the ReentranceLock implementation.\r\n\r\nWhy they decided to do it that way? Is it because of performance? Maybe I should also avoid wait/notify and use CAS in my applications.\r\n\r\n```\r\npublic class SemaphoreX {\r\n    private int permits;\r\n\r\n    SemaphoreX(int permits){\r\n        this.permits = permits;\r\n    }\r\n\r\n    public synchronized void acquire() throws InterruptedException{\r\n        while(permits == 0){\r\n            wait();\r\n        }\r\n        permits--;\r\n    }\r\n\r\n    public synchronized void release(){\r\n        permits++;\r\n        notify();\r\n    }\r\n}\r\n```\r\n","title":"Why the Semaphore implementation uses CAS (U.compareAndSetInt) instead of wait/notify?","body":"<p>I've decided to implement some clasess from the concurrency package from scratch and implemented Semaphore with wait/notify. It seems very easy and intuitive to do so. When I checked the build in implementation, I saw they complicated it all with CAS (Compare And Swap) technique. They did the same for the ReentranceLock implementation.</p>\n<p>Why they decided to do it that way? Is it because of performance? Maybe I should also avoid wait/notify and use CAS in my applications.</p>\n<pre><code>public class SemaphoreX {\n    private int permits;\n\n    SemaphoreX(int permits){\n        this.permits = permits;\n    }\n\n    public synchronized void acquire() throws InterruptedException{\n        while(permits == 0){\n            wait();\n        }\n        permits--;\n    }\n\n    public synchronized void release(){\n        permits++;\n        notify();\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660963170,"creation_date":1660963170,"answer_id":73423745,"question_id":73423594,"body_markdown":"As the IDEA suggests, which shows clone method of the Queue interface is Object.\r\n```\r\nprotected native Object clone() throws CloneNotSupportedException;\r\n```\r\nWe can not call a protected method from outside.  \r\nBut, we can choose an implementation that overrides the clone method from **protected** to **public**.  \r\nWe can directly follow the IDEA recommended.  \r\nJust change Queue to LinkedList.   \r\n```\r\n// Queue&lt;Character&gt; leftover = new LinkedList&lt;&gt;();\r\nLinkedList&lt;Character&gt; leftover = new LinkedList&lt;&gt;();\r\n```","title":"java linkedlist copy : why my compiler show clone method error?","body":"<p>As the IDEA suggests, which shows clone method of the Queue interface is Object.</p>\n<pre><code>protected native Object clone() throws CloneNotSupportedException;\n</code></pre>\n<p>We can not call a protected method from outside.<br />\nBut, we can choose an implementation that overrides the clone method from <strong>protected</strong> to <strong>public</strong>.<br />\nWe can directly follow the IDEA recommended.<br />\nJust change Queue to LinkedList.</p>\n<pre><code>// Queue&lt;Character&gt; leftover = new LinkedList&lt;&gt;();\nLinkedList&lt;Character&gt; leftover = new LinkedList&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":11136281,"reputation":45,"user_id":16369817,"display_name":"acfun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73423745,"answer_count":1,"score":1,"last_activity_date":1660963170,"creation_date":1660960299,"question_id":73423594,"body_markdown":"This is my code, in this line \r\n```\r\n tem_left = (LinkedList) leftover.clone();\r\n```\r\nmy Intellij showed red wave line under .clone() method (BTW, how to discribe this red wave line? hint error?) It says clone() has protected access in Java.lang.Object. This is what I found online that copy a Linkedlist to another one. What did i do wrong and how should I correct it?\r\n```\r\npackage lc_771_Jewels;\r\n\r\nimport java.util.*;\r\n\r\nimport java.util.LinkedList;\r\nimport java.util.Queue;\r\n\r\npublic class Jewels_discuss {\r\n    public int count_jewels(String jewels, String stones){\r\n        char[] jewels_kind = jewels.toCharArray();\r\n        char[] stone_list = stones.toCharArray();\r\n        int count = 0;\r\n        Queue&lt;Character&gt; tem_left = new LinkedList&lt;&gt;();\r\n        for (int i = 0; i &lt; stone_list.length; i++) {\r\n           tem_left.offer(stone_list[i]);\r\n        }\r\n        for (int i = 0; i &lt; jewels_kind.length; i++) {\r\n            Queue&lt;Character&gt; leftover = new LinkedList&lt;&gt;();\r\n            char tem_jewel = jewels_kind[i];\r\n            for (int j = 0; j &lt; tem_left.size(); j++) {\r\n                if (tem_jewel!= stone_list[i]  ){\r\n                    leftover.offer(stone_list[i]) ;\r\n                }\r\n                else {\r\n                    count++;\r\n                }\r\n            }\r\n            tem_left = (LinkedList) leftover.clone();\r\n        }\r\n        return count;\r\n    }\r\n}\r\n```\r\n","title":"java linkedlist copy : why my compiler show clone method error?","body":"<p>This is my code, in this line</p>\n<pre><code> tem_left = (LinkedList) leftover.clone();\n</code></pre>\n<p>my Intellij showed red wave line under .clone() method (BTW, how to discribe this red wave line? hint error?) It says clone() has protected access in Java.lang.Object. This is what I found online that copy a Linkedlist to another one. What did i do wrong and how should I correct it?</p>\n<pre><code>package lc_771_Jewels;\n\nimport java.util.*;\n\nimport java.util.LinkedList;\nimport java.util.Queue;\n\npublic class Jewels_discuss {\n    public int count_jewels(String jewels, String stones){\n        char[] jewels_kind = jewels.toCharArray();\n        char[] stone_list = stones.toCharArray();\n        int count = 0;\n        Queue&lt;Character&gt; tem_left = new LinkedList&lt;&gt;();\n        for (int i = 0; i &lt; stone_list.length; i++) {\n           tem_left.offer(stone_list[i]);\n        }\n        for (int i = 0; i &lt; jewels_kind.length; i++) {\n            Queue&lt;Character&gt; leftover = new LinkedList&lt;&gt;();\n            char tem_jewel = jewels_kind[i];\n            for (int j = 0; j &lt; tem_left.size(); j++) {\n                if (tem_jewel!= stone_list[i]  ){\n                    leftover.offer(stone_list[i]) ;\n                }\n                else {\n                    count++;\n                }\n            }\n            tem_left = (LinkedList) leftover.clone();\n        }\n        return count;\n    }\n}\n</code></pre>\n"},{"tags":["java","junit","mockito","spring-test","spring-annotations"],"owner":{"account_id":23280315,"reputation":11,"user_id":17363861,"display_name":"Mukul Maurya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660962879,"creation_date":1660962879,"question_id":73423731,"body_markdown":"When I was writing test case using the Mockito and Junit, I was using the @InjectMocks for the class to be tested. In other parts of project, I also see @Autowired is being used for the class to be tested.\r\n\r\nWhen can I use @InjectMocks and @Autowired? What is the difference between two when we are trying to use them with class to be tested?","title":"junit , Springboot , java , mockito","body":"<p>When I was writing test case using the Mockito and Junit, I was using the @InjectMocks for the class to be tested. In other parts of project, I also see @Autowired is being used for the class to be tested.</p>\n<p>When can I use @InjectMocks and @Autowired? What is the difference between two when we are trying to use them with class to be tested?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22659175,"reputation":29,"user_id":16832572,"display_name":"MoonLight Fanatic"},"score":0,"creation_date":1660960945,"post_id":73423593,"comment_id":129664015,"body_markdown":"Needless to say, I know I can just run my file manager with Runtime, I just don&#39;t get why this key is being so difficult.","body":"Needless to say, I know I can just run my file manager with Runtime, I just don&#39;t get why this key is being so difficult."},{"owner":{"account_id":20844560,"reputation":774,"user_id":15310387,"display_name":"Mr R"},"score":0,"creation_date":1660967747,"post_id":73423593,"comment_id":129664513,"body_markdown":"This thread - [java bind windows key](https://stackoverflow.com/questions/3456300/java-bind-windows-key) looks like it has an answer ...","body":"This thread - <a href=\"https://stackoverflow.com/questions/3456300/java-bind-windows-key\">java bind windows key</a> looks like it has an answer ..."}],"owner":{"account_id":22659175,"reputation":29,"user_id":16832572,"display_name":"MoonLight Fanatic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660960290,"creation_date":1660960290,"question_id":73423593,"body_markdown":"Out of curiosity, I wanted to press the Windows key + t. In my current Linux configuration that would open my file manager, but the windows key is not registering at all. I&#39;ve tried a bunch of things, like using the ctrl + alt key events but they register correctly and they did not simulate a windows key press (this is because of an answer I found to a similar question). I have also tried it with the keycode 524 to no avail. the t is still shown as being pressed.\r\n```\r\n        Robot robo = new Robot();\r\n\r\n        robo.keyPress(KeyEvent.VK_WINDOWS);\r\n        robo.keyPress(KeyEvent.VK_T);\r\n        robo.keyRelease(KeyEvent.VK_WINDOWS);\r\n        robo.keyRelease(KeyEvent.VK_T);\r\n```\r\ncan anyone tell me exactly what I&#39;m missing?","title":"Java Robot class, windows key is not working on linux","body":"<p>Out of curiosity, I wanted to press the Windows key + t. In my current Linux configuration that would open my file manager, but the windows key is not registering at all. I've tried a bunch of things, like using the ctrl + alt key events but they register correctly and they did not simulate a windows key press (this is because of an answer I found to a similar question). I have also tried it with the keycode 524 to no avail. the t is still shown as being pressed.</p>\n<pre><code>        Robot robo = new Robot();\n\n        robo.keyPress(KeyEvent.VK_WINDOWS);\n        robo.keyPress(KeyEvent.VK_T);\n        robo.keyRelease(KeyEvent.VK_WINDOWS);\n        robo.keyRelease(KeyEvent.VK_T);\n</code></pre>\n<p>can anyone tell me exactly what I'm missing?</p>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1444138147,"post_id":32971262,"comment_id":53767348,"body_markdown":"Possible duplicate of [round a floating-point number to the next integer value in java](http://stackoverflow.com/questions/8753959/round-a-floating-point-number-to-the-next-integer-value-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/8753959/round-a-floating-point-number-to-the-next-integer-value-in-java\">round a floating-point number to the next integer value in java</a>"},{"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"score":3,"creation_date":1444138203,"post_id":32971262,"comment_id":53767396,"body_markdown":"Why does `489.5435` get promoted to the next integer value but `2.7657` gets only the integral part evaluated?","body":"Why does <code>489.5435</code> get promoted to the next integer value but <code>2.7657</code> gets only the integral part evaluated?"},{"owner":{"account_id":744762,"reputation":1560,"user_id":720655,"display_name":"pelumi"},"score":0,"creation_date":1444138335,"post_id":32971262,"comment_id":53767475,"body_markdown":"have yuou tried `Math.ceil(double)&#39;?","body":"have yuou tried `Math.ceil(double)&#39;?"},{"owner":{"account_id":4127389,"reputation":2900,"user_id":3386144,"accept_rate":73,"display_name":"TNT"},"score":2,"creation_date":1444138348,"post_id":32971262,"comment_id":53767480,"body_markdown":"By &quot;next straight number&quot; do you mean closest even number?","body":"By &quot;next straight number&quot; do you mean closest even number?"},{"owner":{"account_id":7073260,"reputation":97,"user_id":5414190,"accept_rate":100,"display_name":"Jannis"},"score":1,"creation_date":1444138384,"post_id":32971262,"comment_id":53767504,"body_markdown":"yes, i need an even number (x%y=0).","body":"yes, i need an even number (x%y=0)."},{"owner":{"account_id":7073260,"reputation":97,"user_id":5414190,"accept_rate":100,"display_name":"Jannis"},"score":0,"creation_date":1444138455,"post_id":32971262,"comment_id":53767554,"body_markdown":"sry for my english ;)","body":"sry for my english ;)"}],"answers":[{"tags":[],"owner":{"account_id":7007804,"reputation":505,"user_id":5371658,"display_name":"Parker_Halo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444138517,"creation_date":1444138517,"answer_id":32971414,"question_id":32971262,"body_markdown":"    double foo = 3.7754;\r\n    int nextEven;\r\n    \r\n    if (((int)foo)%2 == 0)\r\n        nextEven = (int)foo;\r\n    else\r\n        nextEven = ((int)foo) + 1;\r\n\r\nwill probably do what you need","title":"How to round a double to closest even number","body":"<pre><code>double foo = 3.7754;\nint nextEven;\n\nif (((int)foo)%2 == 0)\n    nextEven = (int)foo;\nelse\n    nextEven = ((int)foo) + 1;\n</code></pre>\n\n<p>will probably do what you need</p>\n"},{"tags":[],"owner":{"account_id":389881,"reputation":53027,"user_id":749588,"accept_rate":65,"display_name":"Jean Logeart"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1444138893,"creation_date":1444138893,"answer_id":32971549,"question_id":32971262,"body_markdown":"Simply:\r\n\r\n    public static long roundEven(double d) {\r\n        return Math.round(d / 2) * 2;\r\n    }\r\n\r\nGives:\r\n\r\n    System.out.println(roundEven(2.999));  // 2 \r\n    System.out.println(roundEven(3.001));  // 4 ","title":"How to round a double to closest even number","body":"<p>Simply:</p>\n\n<pre><code>public static long roundEven(double d) {\n    return Math.round(d / 2) * 2;\n}\n</code></pre>\n\n<p>Gives:</p>\n\n<pre><code>System.out.println(roundEven(2.999));  // 2 \nSystem.out.println(roundEven(3.001));  // 4 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3779570,"reputation":567,"user_id":3139440,"display_name":"Torsten Fehre"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444139837,"creation_date":1444139837,"answer_id":32971894,"question_id":32971262,"body_markdown":"Try `Math.ceil(...)`\r\n\r\n    int roundToNextEven(double d) {\r\n        int hlp = (int)Math.ceil(d);\r\n        if (hlp%2 == 0)\r\n            return hlp;\r\n        return hlp-1;\r\n    }\r\n\r\nThe idea is that if the next ceiling float is not even, we must round to floor instead of rounding to ceil.\r\n\r\nYou can also use `Math.floor(...)` .. the only difference is that you have to round to ceil (add 1 to the result) if the floor is not even\r\n\r\n    int roundToNextEven(double d) {\r\n        int hlp = (int)Math.floor(d);\r\n        if (hlp%2 == 0)\r\n            return hlp;\r\n        return hlp+1;\r\n    }\r\n","title":"How to round a double to closest even number","body":"<p>Try <code>Math.ceil(...)</code></p>\n\n<pre><code>int roundToNextEven(double d) {\n    int hlp = (int)Math.ceil(d);\n    if (hlp%2 == 0)\n        return hlp;\n    return hlp-1;\n}\n</code></pre>\n\n<p>The idea is that if the next ceiling float is not even, we must round to floor instead of rounding to ceil.</p>\n\n<p>You can also use <code>Math.floor(...)</code> .. the only difference is that you have to round to ceil (add 1 to the result) if the floor is not even</p>\n\n<pre><code>int roundToNextEven(double d) {\n    int hlp = (int)Math.floor(d);\n    if (hlp%2 == 0)\n        return hlp;\n    return hlp+1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5192980,"reputation":157,"user_id":4155324,"display_name":"Moises Conejo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1660960126,"creation_date":1660960126,"answer_id":73423584,"question_id":32971262,"body_markdown":"    extension DoubleExt on double {\r\n      ///\r\n      ///round the number to its nearest even integer\r\n      double roundToEven() =&gt; (this / 2).round() * 2;\r\n    }\r\n\r\nthen use like this:\r\n\r\n    28.9.roundToEven() =&gt; 28.0\r\n    25.00448.roundToEven() =&gt; 26.0","title":"How to round a double to closest even number","body":"<pre><code>extension DoubleExt on double {\n  ///\n  ///round the number to its nearest even integer\n  double roundToEven() =&gt; (this / 2).round() * 2;\n}\n</code></pre>\n<p>then use like this:</p>\n<pre><code>28.9.roundToEven() =&gt; 28.0\n25.00448.roundToEven() =&gt; 26.0\n</code></pre>\n"}],"owner":{"account_id":7073260,"reputation":97,"user_id":5414190,"accept_rate":100,"display_name":"Jannis"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6357,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":32971549,"answer_count":4,"score":4,"last_activity_date":1660960126,"creation_date":1444138104,"question_id":32971262,"body_markdown":"I want to round a double value to the next even integer number. e.g.: \r\n\r\n- 489.5435 to 490\r\n- 2.7657 to 2\r\n\r\nI&#39;ve tried `Math.rint()`, but it gives me 489 instead of 490. ","title":"How to round a double to closest even number","body":"<p>I want to round a double value to the next even integer number. e.g.: </p>\n\n<ul>\n<li>489.5435 to 490</li>\n<li>2.7657 to 2</li>\n</ul>\n\n<p>I've tried <code>Math.rint()</code>, but it gives me 489 instead of 490. </p>\n"},{"tags":["java","spring-boot","environment-variables","junit5"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1660835475,"post_id":73405438,"comment_id":129632125,"body_markdown":"Why don&#39;t you use an application.properties file?","body":"Why don&#39;t you use an application.properties file?"}],"answers":[{"tags":[],"owner":{"account_id":18781836,"reputation":26,"user_id":13696313,"display_name":"EfeyoPixel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660959886,"creation_date":1660959886,"answer_id":73423574,"question_id":73405438,"body_markdown":"Try adding your property to this location /src/test/resources/application-test.properties\r\n\r\nAdd an @ActiveProfiles(&quot;test&quot;) annotation on the test class and it should be picked up.\r\nSee screenshot below;\r\n\r\n[You can use a profile specific application-{profile}.properties file][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2NIRn.png","title":"How to get properties from .env file in spring boot test","body":"<p>Try adding your property to this location /src/test/resources/application-test.properties</p>\n<p>Add an @ActiveProfiles(&quot;test&quot;) annotation on the test class and it should be picked up.\nSee screenshot below;</p>\n<p><a href=\"https://i.stack.imgur.com/2NIRn.png\" rel=\"nofollow noreferrer\">You can use a profile specific application-{profile}.properties file</a></p>\n"}],"owner":{"account_id":26099381,"reputation":13,"user_id":19795054,"display_name":"Piculi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73423574,"answer_count":1,"score":1,"last_activity_date":1660959886,"creation_date":1660835319,"question_id":73405438,"body_markdown":"I am trying to setup tests for my spring-boot application. In regular execution I get some values from .env file that I&#39;ve specified in run configuration and get them like so:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n     @Value(&quot;${jdbc.url}&quot;)\r\n     private String jdbcUrl;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nBut when I try to run the simplest of tests, it fails with the exception :\r\n\r\n&gt; Failed to load ApplicationContext\r\njava.lang.IllegalStateException: Failed to load ApplicationContext........\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaConfig&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;jdbc.url&#39; in value &quot;${jdbc.url}&quot;\r\n\r\nHow do I load properties from the environment in SpringBootTest?\r\n\r\nHere&#39;s my test:\r\n\r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = {App.class})\r\n    public class TestingWebApplicationTest {\r\n\r\n        @Test\r\n        public void contextLoads() {\r\n        }\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n","title":"How to get properties from .env file in spring boot test","body":"<p>I am trying to setup tests for my spring-boot application. In regular execution I get some values from .env file that I've specified in run configuration and get them like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Value(&quot;${jdbc.url}&quot;)\n private String jdbcUrl;\n</code></pre>\n<p>But when I try to run the simplest of tests, it fails with the exception :</p>\n<blockquote>\n<p>Failed to load ApplicationContext\njava.lang.IllegalStateException: Failed to load ApplicationContext........\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaConfig': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'jdbc.url' in value &quot;${jdbc.url}&quot;</p>\n</blockquote>\n<p>How do I load properties from the environment in SpringBootTest?</p>\n<p>Here's my test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = {App.class})\npublic class TestingWebApplicationTest {\n\n    @Test\n    public void contextLoads() {\n    }\n\n}\n</code></pre>\n\n"},{"tags":["java","hibernate","jpa","java-ee-8","jpa-annotations"],"comments":[{"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"score":0,"creation_date":1660939902,"post_id":73394106,"comment_id":129660699,"body_markdown":"You should use @JoinColumns with multiple join columns","body":"You should use @JoinColumns with multiple join columns"},{"owner":{"account_id":8018579,"reputation":1,"user_id":7008913,"display_name":"ALEJANDRO HERNANDEZ"},"score":0,"creation_date":1660947594,"post_id":73394106,"comment_id":129662323,"body_markdown":"yes one of the must be the @id, but I could refer the fk from the othe table, what i do its duplicate the column &quot;ID_TEMPLATE_DEFAULT&quot; with the type of  the  pk of these table,  and put insertale and updatable with false, but i think there are a better solution","body":"yes one of the must be the @id, but I could refer the fk from the othe table, what i do its duplicate the column &quot;ID_TEMPLATE_DEFAULT&quot; with the type of  the  pk of these table,  and put insertale and updatable with false, but i think there are a better solution"}],"answers":[{"tags":[],"owner":{"account_id":1707584,"reputation":3186,"user_id":1566345,"display_name":"Brian Vosburgh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660958125,"creation_date":1660958125,"answer_id":73423496,"question_id":73394106,"body_markdown":"You can use a derived identity and map `CurTemplate` like this:\r\n```\r\n@Entity\r\n@Table(name = &quot;CUR_TEMPLATE&quot;)\r\n@IdClass(CurTemplatePK.class)\r\n@Getter\r\n@Setter\r\npublic class CurTemplate {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;ID_TEMPLATE&quot;, nullable = false)\r\n\tprivate Long idTemplate;\r\n\r\n\t@Id\r\n\t@ManyToOne(optional = false, fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;ID_REPORT&quot;, foreignKey = @ForeignKey(name = &quot;FK_CUR_PLAN_REFERENCE_CUR_REPO&quot;), referencedColumnName = &quot;ID_REPORT&quot;, insertable = false, updatable = false)\r\n\tprivate CurReport curReport;\r\n\r\n}\r\n```\r\nThen you will need an `@IdClass` like this:\r\n```\r\npublic class CurTemplatePK {\r\n\tLong idTemplate; // matches name of @Id attribute\r\n\tLong curReport; // matches name of @Id attribute and type of CurReport PK\r\n}\r\n```\r\nThen you should use a basic mapping for the default template key and provide a getter for the default template object:\r\n```\r\n@Entity\r\n@Table(name = &quot;CUR_REPORTS&quot;)\r\n@IdClass(CurPlantillaPK.class)\r\n@Getter\r\n@Setter\r\npublic class CurReport {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;ID_REPORT&quot;, nullable = false)\r\n\tprivate Long id;\r\n\r\n\t@Column(name = &quot;NAME_REPORT&quot;, nullable = false, length = 100)\r\n\tprivate String nombreReporte;\r\n\r\n\t@Column(name = &quot;ID_TEMPLATE_DEFAULT&quot;)\r\n\tprivate Long idDefaultTemplate;\r\n\r\n\t@OneToMany(mappedBy = &quot;curReport&quot;)\r\n\tprivate Set&lt;CurTemplate&gt; curTemplates= new LinkedHashSet&lt;&gt;();\r\n\r\n\tpublic CurTemplate getDefaultTemplate() {\r\n\t\treturn this.curTemplates.stream()\r\n\t\t\t\t.filter(template -&gt; template.getIdTemplate().equals(idDefaultTemplate))\r\n\t\t\t\t.findFirst()\r\n\t\t\t\t.orElse(null);\r\n\t{\r\n}\r\n```\r\nIf you want to allow clients to set the default template, you will need to implement a setter that first verifies that the new default template is already in the set `curTemplates`.\r\n","title":"JPA Join Tables with two fields, one of them a primary key","body":"<p>You can use a derived identity and map <code>CurTemplate</code> like this:</p>\n<pre><code>@Entity\n@Table(name = &quot;CUR_TEMPLATE&quot;)\n@IdClass(CurTemplatePK.class)\n@Getter\n@Setter\npublic class CurTemplate {\n\n    @Id\n    @Column(name = &quot;ID_TEMPLATE&quot;, nullable = false)\n    private Long idTemplate;\n\n    @Id\n    @ManyToOne(optional = false, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;ID_REPORT&quot;, foreignKey = @ForeignKey(name = &quot;FK_CUR_PLAN_REFERENCE_CUR_REPO&quot;), referencedColumnName = &quot;ID_REPORT&quot;, insertable = false, updatable = false)\n    private CurReport curReport;\n\n}\n</code></pre>\n<p>Then you will need an <code>@IdClass</code> like this:</p>\n<pre><code>public class CurTemplatePK {\n    Long idTemplate; // matches name of @Id attribute\n    Long curReport; // matches name of @Id attribute and type of CurReport PK\n}\n</code></pre>\n<p>Then you should use a basic mapping for the default template key and provide a getter for the default template object:</p>\n<pre><code>@Entity\n@Table(name = &quot;CUR_REPORTS&quot;)\n@IdClass(CurPlantillaPK.class)\n@Getter\n@Setter\npublic class CurReport {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ID_REPORT&quot;, nullable = false)\n    private Long id;\n\n    @Column(name = &quot;NAME_REPORT&quot;, nullable = false, length = 100)\n    private String nombreReporte;\n\n    @Column(name = &quot;ID_TEMPLATE_DEFAULT&quot;)\n    private Long idDefaultTemplate;\n\n    @OneToMany(mappedBy = &quot;curReport&quot;)\n    private Set&lt;CurTemplate&gt; curTemplates= new LinkedHashSet&lt;&gt;();\n\n    public CurTemplate getDefaultTemplate() {\n        return this.curTemplates.stream()\n                .filter(template -&gt; template.getIdTemplate().equals(idDefaultTemplate))\n                .findFirst()\n                .orElse(null);\n    {\n}\n</code></pre>\n<p>If you want to allow clients to set the default template, you will need to implement a setter that first verifies that the new default template is already in the set <code>curTemplates</code>.</p>\n"}],"owner":{"account_id":8018579,"reputation":1,"user_id":7008913,"display_name":"ALEJANDRO HERNANDEZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660958125,"creation_date":1660765357,"question_id":73394106,"body_markdown":"the problems is when @ManyToOne  make a @Joincolumn ID_REPORT (it&#180;s a primary key ) and   @Joincolumn ID_TEMPLATE_DEFAULT\r\n\r\n&gt; Repeated column in mapping for entity: CurReport column: id_report (should be mapped with insert=&quot;false&quot; update=&quot;false&quot;)\r\n\r\n**Code**\r\n\r\n***First table CUR_TEMPLATE***\r\n```\r\nCREATE TABLE CUR_TEMPLATE \r\n   (\t\r\n    ID_REPORT NUMBER(5,0) NOT NULL, \r\n\tID_TEMPLATE NUMBER(5,0) NOT NULL, \r\n\t-- Other fields\r\n   );\r\n \r\nALTER TABLE CUR_TEMPLATE ADD CONSTRAINT PK_CUR_TEMPLATE PRIMARY KEY (ID_REPORT, ID_TEMPLATE)\r\n\r\n-- CUR_TEMPLATE foreign keys\r\nALTER TABLE CUR_TEMPLATE ADD CONSTRAINT FK_CUR_PLAN_REFERENCE_CUR_REPO FOREIGN KEY (ID_REPORT)\r\n\t  REFERENCES CUR_REPORTS (ID_REPORT);\r\n```\r\n\r\n***Second table CUR_REPORTS***\r\n```\r\n\r\n-- CUR_REPORTS definition\r\nCREATE TABLE CUR_REPORTS \r\n   (\t\r\n    ID_REPORT NUMBER(3,0) NOT NULL, \r\n\tNAME_REPORT VARCHAR2(100) NOT NULL, \r\n\t-- other fields \r\n\tID_TEMPLATE_DEFAULT NUMBER(5,0), \r\n\t-- other fields\r\n   ) ;\r\n\r\nALTER TABLE CUR_REPORTS ADD CONSTRAINT PK_CUR_REPORTS PRIMARY KEY (ID_REPORT)\r\n\r\nALTER TABLE CUR_REPORTS CONSTRAINT FK_CUR_REPO_REFERENCE_CUR_PLAN FOREIGN KEY (ID_REPORT, ID_TEMPLATE_DEFAULT)\r\n\t  REFERENCES CUR_TEMPLATE (ID_REPORT, ID_TEMPLATE) \r\n\r\n```\r\n\r\n***First table CUR_REPORTS Entity CurReport***\r\n\r\n```\r\n\r\n@Entity\r\n@Table(name = &quot;CUR_REPORTS&quot;)\r\n@IdClass(CurPlantillaPK.class)\r\n@Getter\r\n@Setter\r\npublic class CurReport {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;ID_REPORT&quot;, nullable = false)\r\n\tprivate Long id;\r\n\r\n\t@Column(name = &quot;NAME_REPORT&quot;, nullable = false, length = 100)\r\n\tprivate String nombreReporte;\r\n\r\n\t@ManyToOne(fetch = FetchType.LAZY) &lt;---WHERE IS THE PROBLEM \r\n\t@JoinColumn(name = &quot;ID_REPORT&quot;, referencedColumnName = &quot;ID_REPORTE&quot;)\r\n\t@JoinColumn(name = &quot;ID_TEMPLATE_DEFAULT&quot;, referencedColumnName = &quot;ID_TEMPLATE&quot;)\r\n\tprivate CurTemplate curTemplate;\r\n\r\n\t@OneToMany(mappedBy = &quot;curReport&quot;)\r\n\tprivate Set&lt;CurTemplate&gt; curTemplates= new LinkedHashSet&lt;&gt;();\r\n}\r\n\r\n```\r\n\r\n***Second table CUR_TEMPLATE Entity CurReport***\r\n\r\n```\r\n\r\n@Entity\r\n@Table(name = &quot;CUR_TEMPLATE&quot;)\r\n@IdClass(CurPlantillaPK.class)\r\n@Getter\r\n@Setter\r\npublic class CurTemplate {\r\n\t\r\n\t@Id\r\n\t@Column(name = &quot;ID_REPORT&quot;, nullable = false)\r\n\tprivate Long idReport;\r\n\r\n\t@Id\r\n\t@Column(name = &quot;ID_TEMPLATE&quot;, nullable = false)\r\n\tprivate Long idTemplate;\r\n\r\n\t\r\n\t@ManyToOne(optional = false, fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;ID_REPORT&quot;, foreignKey = @ForeignKey(name = &quot;FK_CUR_PLAN_REFERENCE_CUR_REPO&quot;), referencedColumnName = &quot;ID_REPORT&quot;, insertable = false, updatable = false)\r\n\tprivate CurReport curReport;\r\n\r\n}\r\n```\r\n\r\n\r\nWhen i add  insertable=false, updatable=false\r\n\r\n&gt; @JoinColumn(name = &quot;ID_REPORT&quot;, referencedColumnName = &quot;ID_REPORT&quot;, insertable=false, updatable=false)\r\n\r\nsaid \r\n\r\n&gt; Mixing insertable and non insertable columns in a property is not allowed: CurTemplate\r\n\r\n\r\n\r\nHow could i map those relationships? \r\nHow resolve the @JoinColumn when one field of the FK are column PK?","title":"JPA Join Tables with two fields, one of them a primary key","body":"<p>the problems is when @ManyToOne  make a @Joincolumn ID_REPORT (its a primary key ) and   @Joincolumn ID_TEMPLATE_DEFAULT</p>\n<blockquote>\n<p>Repeated column in mapping for entity: CurReport column: id_report (should be mapped with insert=&quot;false&quot; update=&quot;false&quot;)</p>\n</blockquote>\n<p><strong>Code</strong></p>\n<p><em><strong>First table CUR_TEMPLATE</strong></em></p>\n<pre><code>CREATE TABLE CUR_TEMPLATE \n   (    \n    ID_REPORT NUMBER(5,0) NOT NULL, \n    ID_TEMPLATE NUMBER(5,0) NOT NULL, \n    -- Other fields\n   );\n \nALTER TABLE CUR_TEMPLATE ADD CONSTRAINT PK_CUR_TEMPLATE PRIMARY KEY (ID_REPORT, ID_TEMPLATE)\n\n-- CUR_TEMPLATE foreign keys\nALTER TABLE CUR_TEMPLATE ADD CONSTRAINT FK_CUR_PLAN_REFERENCE_CUR_REPO FOREIGN KEY (ID_REPORT)\n      REFERENCES CUR_REPORTS (ID_REPORT);\n</code></pre>\n<p><em><strong>Second table CUR_REPORTS</strong></em></p>\n<pre><code>\n-- CUR_REPORTS definition\nCREATE TABLE CUR_REPORTS \n   (    \n    ID_REPORT NUMBER(3,0) NOT NULL, \n    NAME_REPORT VARCHAR2(100) NOT NULL, \n    -- other fields \n    ID_TEMPLATE_DEFAULT NUMBER(5,0), \n    -- other fields\n   ) ;\n\nALTER TABLE CUR_REPORTS ADD CONSTRAINT PK_CUR_REPORTS PRIMARY KEY (ID_REPORT)\n\nALTER TABLE CUR_REPORTS CONSTRAINT FK_CUR_REPO_REFERENCE_CUR_PLAN FOREIGN KEY (ID_REPORT, ID_TEMPLATE_DEFAULT)\n      REFERENCES CUR_TEMPLATE (ID_REPORT, ID_TEMPLATE) \n\n</code></pre>\n<p><em><strong>First table CUR_REPORTS Entity CurReport</strong></em></p>\n<pre><code>\n@Entity\n@Table(name = &quot;CUR_REPORTS&quot;)\n@IdClass(CurPlantillaPK.class)\n@Getter\n@Setter\npublic class CurReport {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ID_REPORT&quot;, nullable = false)\n    private Long id;\n\n    @Column(name = &quot;NAME_REPORT&quot;, nullable = false, length = 100)\n    private String nombreReporte;\n\n    @ManyToOne(fetch = FetchType.LAZY) &lt;---WHERE IS THE PROBLEM \n    @JoinColumn(name = &quot;ID_REPORT&quot;, referencedColumnName = &quot;ID_REPORTE&quot;)\n    @JoinColumn(name = &quot;ID_TEMPLATE_DEFAULT&quot;, referencedColumnName = &quot;ID_TEMPLATE&quot;)\n    private CurTemplate curTemplate;\n\n    @OneToMany(mappedBy = &quot;curReport&quot;)\n    private Set&lt;CurTemplate&gt; curTemplates= new LinkedHashSet&lt;&gt;();\n}\n\n</code></pre>\n<p><em><strong>Second table CUR_TEMPLATE Entity CurReport</strong></em></p>\n<pre><code>\n@Entity\n@Table(name = &quot;CUR_TEMPLATE&quot;)\n@IdClass(CurPlantillaPK.class)\n@Getter\n@Setter\npublic class CurTemplate {\n    \n    @Id\n    @Column(name = &quot;ID_REPORT&quot;, nullable = false)\n    private Long idReport;\n\n    @Id\n    @Column(name = &quot;ID_TEMPLATE&quot;, nullable = false)\n    private Long idTemplate;\n\n    \n    @ManyToOne(optional = false, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;ID_REPORT&quot;, foreignKey = @ForeignKey(name = &quot;FK_CUR_PLAN_REFERENCE_CUR_REPO&quot;), referencedColumnName = &quot;ID_REPORT&quot;, insertable = false, updatable = false)\n    private CurReport curReport;\n\n}\n</code></pre>\n<p>When i add  insertable=false, updatable=false</p>\n<blockquote>\n<p>@JoinColumn(name = &quot;ID_REPORT&quot;, referencedColumnName = &quot;ID_REPORT&quot;, insertable=false, updatable=false)</p>\n</blockquote>\n<p>said</p>\n<blockquote>\n<p>Mixing insertable and non insertable columns in a property is not allowed: CurTemplate</p>\n</blockquote>\n<p>How could i map those relationships?\nHow resolve the @JoinColumn when one field of the FK are column PK?</p>\n"},{"tags":["java","minecraft-fabric"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1655824657,"post_id":72703245,"comment_id":128420615,"body_markdown":"Can you try running `./gradlew -v`?","body":"Can you try running <code>.&#47;gradlew -v</code>?"},{"owner":{"account_id":25368982,"reputation":1,"user_id":19183125,"display_name":"cookies"},"score":0,"creation_date":1655824841,"post_id":72703245,"comment_id":128420679,"body_markdown":"```------------------------------------------------------------\nGradle 7.4\n------------------------------------------------------------\n\nBuild time:   2022-02-08 09:58:38 UTC\nRevision:     f0d9291c04b90b59445041eaa75b2ee744162586\n\nKotlin:       1.5.31\nGroovy:       3.0.9\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          1.8.0_332 (Temurin 25.332-b09)\nOS:           Windows 10 10.0 amd64\n```","body":"<code>------------------------------------------------------------ Gradle 7.4 ------------------------------------------------------------  Build time:   2022-02-08 09:58:38 UTC Revision:     f0d9291c04b90b59445041eaa75b2ee744162586  Kotlin:       1.5.31 Groovy:       3.0.9 Ant:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021 JVM:          1.8.0_332 (Temurin 25.332-b09) OS:           Windows 10 10.0 amd64 </code>"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1655825220,"post_id":72703245,"comment_id":128420825,"body_markdown":"Update `JAVA_HOME` to point to JDK 17 https://docs.oracle.com/cd/E19182-01/821-0917/inst_jdk_javahome_t/index.html","body":"Update <code>JAVA_HOME</code> to point to JDK 17 <a href=\"https://docs.oracle.com/cd/E19182-01/821-0917/inst_jdk_javahome_t/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/E19182-01/821-0917/inst_jdk_javahome_t/&hellip;</a>"}],"owner":{"account_id":25368982,"reputation":1,"user_id":19183125,"display_name":"cookies"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660957258,"creation_date":1655824373,"question_id":72703245,"body_markdown":"I have an exception when I write ```./gradlew genSource``` in terminal.\r\n```FAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nBuild file &#39;C:\\Users\\Admin\\Desktop\\fabric-example-mod-1.19\\build.gradle&#39; line: 2\r\n\r\n* What went wrong:\r\nAn exception occurred applying plugin request [id: &#39;fabric-loom&#39;, version: &#39;0.12-SNAPSHOT&#39;]\r\n&gt; Failed to apply plugin &#39;fabric-loom&#39;.\r\n   &gt; You are using an outdated version of Java (8). Java 17 or higher is required.\r\n     The JAVA_HOME environment variable is currently set to (C:\\Program Files\\Eclipse Adoptium\\jdk-8.0.332.9-hotspot\\).\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 2s\r\n```\r\nI saw my version of Java is old, but when I go to *File | Settings | Build, Execution, Deployment | Build Tools | Gradle* and change the Gradle JVM to ProjectSDK and try again, nothing changes.\r\n\r\n![this setting][1]\r\n\r\nJava 17 was downloaded and my Gradle was successfully build. Version of fabric for Minecraft is 1.19.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TxFPc.png","title":"./gradle genSources exception with Java version","body":"<p>I have an exception when I write <code>./gradlew genSource</code> in terminal.</p>\n<pre><code>\n* Where:\nBuild file 'C:\\Users\\Admin\\Desktop\\fabric-example-mod-1.19\\build.gradle' line: 2\n\n* What went wrong:\nAn exception occurred applying plugin request [id: 'fabric-loom', version: '0.12-SNAPSHOT']\n&gt; Failed to apply plugin 'fabric-loom'.\n   &gt; You are using an outdated version of Java (8). Java 17 or higher is required.\n     The JAVA_HOME environment variable is currently set to (C:\\Program Files\\Eclipse Adoptium\\jdk-8.0.332.9-hotspot\\).\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 2s\n</code></pre>\n<p>I saw my version of Java is old, but when I go to <em>File | Settings | Build, Execution, Deployment | Build Tools | Gradle</em> and change the Gradle JVM to ProjectSDK and try again, nothing changes.</p>\n<p><img src=\"https://i.stack.imgur.com/TxFPc.png\" alt=\"this setting\" /></p>\n<p>Java 17 was downloaded and my Gradle was successfully build. Version of fabric for Minecraft is 1.19.</p>\n"},{"tags":["java","timestamp","java-time","rfc3339","offsetdatetime"],"comments":[{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":4,"creation_date":1659965146,"post_id":73277975,"comment_id":129413437,"body_markdown":"LocalDateTime uses the ISO-8601 model.  Although RFC-3339 is largely identical, this is one of the disparities between them.  Specifically, a negative zero offset is not allowed under ISO-8601.  My guess is that Java is making a good faith effort to translate this and makes +00:00 instead (i.e. Z).  You may need a custom class to handle this format.","body":"LocalDateTime uses the ISO-8601 model.  Although RFC-3339 is largely identical, this is one of the disparities between them.  Specifically, a negative zero offset is not allowed under ISO-8601.  My guess is that Java is making a good faith effort to translate this and makes +00:00 instead (i.e. Z).  You may need a custom class to handle this format."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1660103037,"post_id":73277975,"comment_id":129450942,"body_markdown":"java.time handles a UTC offset as a count of seconds within +/- 18 hours so does not distinguish -0 from +0 (and renders 0 as `Z` as you have observed) and hence also does not support an unknown offset. Before parsing you may want an `if`-`else` construct with a condition like `timeStamp.matches(&quot;.*-[0:]+&quot;)` to filter out the timestamps that have an offset of minus 0, that is, unknown in RFC 3339. (I&#39;m unsure about RFC 3339, but `OffsetDateTime.parse(CharSequence)` also accepts `-00:00:00` as an offset, and future releases may accept even more forms.)","body":"java.time handles a UTC offset as a count of seconds within +/- 18 hours so does not distinguish -0 from +0 (and renders 0 as <code>Z</code> as you have observed) and hence also does not support an unknown offset. Before parsing you may want an <code>if</code>-<code>else</code> construct with a condition like <code>timeStamp.matches(&quot;.*-[0:]+&quot;)</code> to filter out the timestamps that have an offset of minus 0, that is, unknown in RFC 3339. (I&#39;m unsure about RFC 3339, but <code>OffsetDateTime.parse(CharSequence)</code> also accepts <code>-00:00:00</code> as an offset, and future releases may accept even more forms.)"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660957120,"creation_date":1659967162,"answer_id":73279091,"question_id":73277975,"body_markdown":"# tl;dr\r\n\r\n    LocalDateTime\r\n    .parse( \r\n        &quot;1970-01-01T00:00:00.0000-00:00&quot;\r\n        .replace( &quot;-00:00&quot; , &quot;&quot; )\r\n    )\r\n\r\n\r\n# Avoid RFC 3339\r\n\r\n[RFC 3339][1] is a self-proclaimed profile of the [ISO 8601][2] standard. Unfortunately, RFC 3339 defines some unwise violations of that standard.\r\n\r\nOne of these violations is allowing an offset from UTC of *negative* zero hours-minutes-seconds. In contrast, ISO 8601 wisely forbids such a negative zero. \r\n\r\nIn the RFC the meaning of a negative zero offset is that the true offset is unknown. To quote the RFC:\r\n\r\n&gt; 4.3. Unknown Local Offset Convention\r\n&gt;\r\n&gt;If the time in UTC is known, but the offset to local time is unknown, this can be represented with an offset of &quot;-00:00&quot;.  This differs semantically from an offset of &quot;Z&quot; or &quot;+00:00&quot;, which imply that UTC is the preferred reference point for the specified time.  [RFC2822 \\[IMAIL-UPDATE\\]][3] describes a similar convention for email.\r\n\r\nIn contrast, in ISO 8601 an unknown offset is simply omitted. Omission seems a much smarter course.\r\n\r\nI suggest you educate the publisher of your data about the poor decisions employed in RFC 3339, and recommend they stick to ISO 8601 definitions.\r\n\r\n## `LocalDateTime` class\r\n\r\nIf you must parse strings with the negative zero offset, I suggest you perform simple string manipulation to strip it. Replace the `-00:00` with empty string. Then parse as a `LocalDateTime` which purposely lacks the context of a time zone or offset. A `LocalDateTime` is simply a date with a time-of-day, nothing more.\r\n\r\n    String input = &quot;1970-01-01T00:00:00.0000-00:00&quot; ;\r\n    String modified = input.replace( &quot;-00:00&quot; , &quot;&quot; ) ;\r\n    LocalDateTime ldt = LocalDateTime.parse( modified ) ;\r\n\r\nYou asked:\r\n\r\n&gt; Is there a way to keep the unkown local offset convetion, ideally with OffsetDateTime?\r\n\r\nUsing `OffsetDateTime` here makes no sense. That class represents a date and time as seen with with a particular offset. But you dont know the intended offset. So **you have only two of the three pieces** required by `OffsetDateTime`. \r\n\r\nInstead, `LocalDateTime` fits your need to represent a date and time without the context of an offset or time zone.\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc3339.html\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: https://www.rfc-editor.org/rfc/rfc2822","title":"How to keep unknown local offset when converting from RFC3339?","body":"<h1>tl;dr</h1>\n<pre><code>LocalDateTime\n.parse( \n    &quot;1970-01-01T00:00:00.0000-00:00&quot;\n    .replace( &quot;-00:00&quot; , &quot;&quot; )\n)\n</code></pre>\n<h1>Avoid RFC 3339</h1>\n<p><a href=\"https://www.rfc-editor.org/rfc/rfc3339.html\" rel=\"nofollow noreferrer\">RFC 3339</a> is a self-proclaimed profile of the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard. Unfortunately, RFC 3339 defines some unwise violations of that standard.</p>\n<p>One of these violations is allowing an offset from UTC of <em>negative</em> zero hours-minutes-seconds. In contrast, ISO 8601 wisely forbids such a negative zero.</p>\n<p>In the RFC the meaning of a negative zero offset is that the true offset is unknown. To quote the RFC:</p>\n<blockquote>\n<p>4.3. Unknown Local Offset Convention</p>\n<p>If the time in UTC is known, but the offset to local time is unknown, this can be represented with an offset of &quot;-00:00&quot;.  This differs semantically from an offset of &quot;Z&quot; or &quot;+00:00&quot;, which imply that UTC is the preferred reference point for the specified time.  <a href=\"https://www.rfc-editor.org/rfc/rfc2822\" rel=\"nofollow noreferrer\">RFC2822 [IMAIL-UPDATE]</a> describes a similar convention for email.</p>\n</blockquote>\n<p>In contrast, in ISO 8601 an unknown offset is simply omitted. Omission seems a much smarter course.</p>\n<p>I suggest you educate the publisher of your data about the poor decisions employed in RFC 3339, and recommend they stick to ISO 8601 definitions.</p>\n<h2><code>LocalDateTime</code> class</h2>\n<p>If you must parse strings with the negative zero offset, I suggest you perform simple string manipulation to strip it. Replace the <code>-00:00</code> with empty string. Then parse as a <code>LocalDateTime</code> which purposely lacks the context of a time zone or offset. A <code>LocalDateTime</code> is simply a date with a time-of-day, nothing more.</p>\n<pre><code>String input = &quot;1970-01-01T00:00:00.0000-00:00&quot; ;\nString modified = input.replace( &quot;-00:00&quot; , &quot;&quot; ) ;\nLocalDateTime ldt = LocalDateTime.parse( modified ) ;\n</code></pre>\n<p>You asked:</p>\n<blockquote>\n<p>Is there a way to keep the unkown local offset convetion, ideally with OffsetDateTime?</p>\n</blockquote>\n<p>Using <code>OffsetDateTime</code> here makes no sense. That class represents a date and time as seen with with a particular offset. But you dont know the intended offset. So <strong>you have only two of the three pieces</strong> required by <code>OffsetDateTime</code>.</p>\n<p>Instead, <code>LocalDateTime</code> fits your need to represent a date and time without the context of an offset or time zone.</p>\n"}],"owner":{"account_id":15232197,"reputation":49,"user_id":10991012,"display_name":"Nico"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":380,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":1,"score":1,"last_activity_date":1660957120,"creation_date":1659962079,"question_id":73277975,"body_markdown":"I recieve a timestamp that follows the RFC3339 standard. The sender used the &quot;Unknown Local Offset Convention&quot; provided by RFC3339 as the users time preference is unkown, so I recieve a timestamp like `1970-01-01T00:00:00.0000-00:00` and I need to preserve the `-00:00` information. I am currenlty parsing the recieved timestamp with \r\n\r\n```\r\nLocalDateTime localTimeStamp = LocalDateTime.parse(timeStamp, DateTimeFormatter.ISO_LOCAL_DATE_TIME);\r\nOffsetDateTime.of(localTimeStamp, ZoneOffset.of(&quot;-00:00&quot;))\r\n```\r\n\r\n but this replaces the `-00:00` with `Z`. Is there a way to keep the unkown local offset convetion, ideally with `OffsetDateTime`?","title":"How to keep unknown local offset when converting from RFC3339?","body":"<p>I recieve a timestamp that follows the RFC3339 standard. The sender used the &quot;Unknown Local Offset Convention&quot; provided by RFC3339 as the users time preference is unkown, so I recieve a timestamp like <code>1970-01-01T00:00:00.0000-00:00</code> and I need to preserve the <code>-00:00</code> information. I am currenlty parsing the recieved timestamp with</p>\n<pre><code>LocalDateTime localTimeStamp = LocalDateTime.parse(timeStamp, DateTimeFormatter.ISO_LOCAL_DATE_TIME);\nOffsetDateTime.of(localTimeStamp, ZoneOffset.of(&quot;-00:00&quot;))\n</code></pre>\n<p>but this replaces the <code>-00:00</code> with <code>Z</code>. Is there a way to keep the unkown local offset convetion, ideally with <code>OffsetDateTime</code>?</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-dataflow","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":5974726,"reputation":1921,"user_id":4696015,"display_name":"chamikara"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660956084,"creation_date":1660956084,"answer_id":73423412,"question_id":73408957,"body_markdown":"You are trying to use the `SpannerIO.readChangeStream()` transform which uses a feature (bundle finalization) that is only supported by Dataflow Runner v2. Please add following pipeline option to make your pipeline run using Dataflow Runner v2.\r\n\r\n    --experiments=use_runner_v2\r\n\r\nPlease see [here][1] for more details.\r\n\r\n\r\n  [1]: https://cloud.google.com/dataflow/docs/guides/deploying-a-pipeline#dataflow-runner-v2","title":"Dataflow Job Fails stating, java.lang.UnsupportedOperationException: BundleFinalizer unsupported by non-portable Dataflow","body":"<p>You are trying to use the <code>SpannerIO.readChangeStream()</code> transform which uses a feature (bundle finalization) that is only supported by Dataflow Runner v2. Please add following pipeline option to make your pipeline run using Dataflow Runner v2.</p>\n<pre><code>--experiments=use_runner_v2\n</code></pre>\n<p>Please see <a href=\"https://cloud.google.com/dataflow/docs/guides/deploying-a-pipeline#dataflow-runner-v2\" rel=\"nofollow noreferrer\">here</a> for more details.</p>\n"}],"owner":{"account_id":14428183,"reputation":137,"user_id":10422248,"display_name":"Sabari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73423412,"answer_count":1,"score":1,"last_activity_date":1660956084,"creation_date":1660853914,"question_id":73408957,"body_markdown":"We are running a simple Data Flow Job that reads data from a Spanner DB and just displays the Changed Record&#39;s Mod Type. When we deploy the Job in Dataflow it always fails stating, the below error,\r\n\r\n&gt; Error message from worker: java.lang.UnsupportedOperationException: BundleFinalizer unsupported by non-portable Dataflow.\\n        org.apache.beam.runners.dataflow.worker.SplittableProcessFnFactory$SplittableDoFnRunnerFactory.lambda$createRunner$2(SplittableProcessFnFactory.java:172)\\n        org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.OutputAndTimeBoundedSplittableProcessElementInvoker$1.bundleFinalizer(OutputAndTimeBoundedSplittableProcessElementInvoker.java:206)\\n        org.apache.beam.sdk.io.gcp.spanner.changestreams.dofn.ReadChangeStreamPartitionDoFn$DoFnInvoker.invokeProcessElement(Unknown Source)\\n        org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.OutputAndTimeBoundedSplittableProcessElementInvoker.invokeProcessElement(OutputAndTimeBoundedSplittableProcessElementInvoker.java:125)\\n        org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SplittableParDoViaKeyedWorkItems$ProcessFn.processElement(SplittableParDoViaKeyedWorkItems.java:567)\r\n\r\nBelow is the source code,\r\n\r\n```\r\n\tpublic static void main(String[] args) {\r\n\t\tPipelineOptions pipelineOptions = PipelineOptionsFactory.fromArgs(args).withValidation().create();\r\n\t\tPipeline pipeline = Pipeline.create(pipelineOptions);\r\n\t\tSpannerConfig spannerConfig = SpannerConfig.create().withProjectId(&quot;prj-test-1234&quot;)\r\n\t\t\t\t.withInstanceId(&quot;dbinstance1&quot;).withDatabaseId(&quot;dbtestnew&quot;);\r\n\r\n\t\tPCollection&lt;String&gt; changeRecord = pipeline\r\n\t\t\t\t.apply(SpannerIO.readChangeStream().withSpannerConfig(spannerConfig)\r\n\t\t\t\t\t\t.withChangeStreamName(&quot;dbteststream&quot;).withMetadataDatabase(&quot;testmetadata&quot;))\r\n\t\t\t\t.apply(ParDo.of(new DoFn&lt;DataChangeRecord, String&gt;() {\r\n\t\t\t\t\t@ProcessElement\r\n\t\t\t\t\tpublic void process(ProcessContext context) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;context &quot; + context.element().getModType());\r\n                       context.output(context.element().getModType().name());\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}));\r\n\r\n\t\tpipeline.run();\r\n\t}\r\n```","title":"Dataflow Job Fails stating, java.lang.UnsupportedOperationException: BundleFinalizer unsupported by non-portable Dataflow","body":"<p>We are running a simple Data Flow Job that reads data from a Spanner DB and just displays the Changed Record's Mod Type. When we deploy the Job in Dataflow it always fails stating, the below error,</p>\n<blockquote>\n<p>Error message from worker: java.lang.UnsupportedOperationException: BundleFinalizer unsupported by non-portable Dataflow.\\n        org.apache.beam.runners.dataflow.worker.SplittableProcessFnFactory$SplittableDoFnRunnerFactory.lambda$createRunner$2(SplittableProcessFnFactory.java:172)\\n        org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.OutputAndTimeBoundedSplittableProcessElementInvoker$1.bundleFinalizer(OutputAndTimeBoundedSplittableProcessElementInvoker.java:206)\\n        org.apache.beam.sdk.io.gcp.spanner.changestreams.dofn.ReadChangeStreamPartitionDoFn$DoFnInvoker.invokeProcessElement(Unknown Source)\\n        org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.OutputAndTimeBoundedSplittableProcessElementInvoker.invokeProcessElement(OutputAndTimeBoundedSplittableProcessElementInvoker.java:125)\\n        org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SplittableParDoViaKeyedWorkItems$ProcessFn.processElement(SplittableParDoViaKeyedWorkItems.java:567)</p>\n</blockquote>\n<p>Below is the source code,</p>\n<pre><code>    public static void main(String[] args) {\n        PipelineOptions pipelineOptions = PipelineOptionsFactory.fromArgs(args).withValidation().create();\n        Pipeline pipeline = Pipeline.create(pipelineOptions);\n        SpannerConfig spannerConfig = SpannerConfig.create().withProjectId(&quot;prj-test-1234&quot;)\n                .withInstanceId(&quot;dbinstance1&quot;).withDatabaseId(&quot;dbtestnew&quot;);\n\n        PCollection&lt;String&gt; changeRecord = pipeline\n                .apply(SpannerIO.readChangeStream().withSpannerConfig(spannerConfig)\n                        .withChangeStreamName(&quot;dbteststream&quot;).withMetadataDatabase(&quot;testmetadata&quot;))\n                .apply(ParDo.of(new DoFn&lt;DataChangeRecord, String&gt;() {\n                    @ProcessElement\n                    public void process(ProcessContext context) {\n                        System.out.println(&quot;context &quot; + context.element().getModType());\n                       context.output(context.element().getModType().name());\n                    }\n\n                }));\n\n        pipeline.run();\n    }\n</code></pre>\n"},{"tags":["java","inheritance","constructor","pmd"],"comments":[{"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"score":2,"creation_date":1385373593,"post_id":20189149,"comment_id":30099593,"body_markdown":"Hm....smells like an Inheritance problem. :)","body":"Hm....smells like an Inheritance problem. :)"},{"owner":{"account_id":2971110,"reputation":14744,"user_id":2523147,"accept_rate":38,"display_name":"prime"},"score":1,"creation_date":1385373895,"post_id":20189149,"comment_id":30099776,"body_markdown":"a simple code sample demonstrating your problem will be more useful :)","body":"a simple code sample demonstrating your problem will be more useful :)"}],"answers":[{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385375249,"creation_date":1385373751,"answer_id":20189236,"question_id":20189149,"body_markdown":"**Instance variables are assigned default values(null in case of custom object).** \r\n\r\n\r\nSo unless you are really assigning some value to your final variables why bother about null assignments?\r\n\r\nAs user has pointed out in the comment above does not stand good for final variables. So what can be done define a no-arg constructor with all final values set to null.\r\n\r\nNow in individual arg constructors place a call to this default constructor by using `this()` as the 1st statement .. then you can assign values depending on the arguments passed.","title":"final optional member variable in Java classes","body":"<p><strong>Instance variables are assigned default values(null in case of custom object).</strong> </p>\n\n<p>So unless you are really assigning some value to your final variables why bother about null assignments?</p>\n\n<p>As user has pointed out in the comment above does not stand good for final variables. So what can be done define a no-arg constructor with all final values set to null.</p>\n\n<p>Now in individual arg constructors place a call to this default constructor by using <code>this()</code> as the 1st statement .. then you can assign values depending on the arguments passed.</p>\n"},{"tags":[],"owner":{"account_id":3408395,"reputation":11432,"user_id":2858934,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1385373805,"creation_date":1385373805,"answer_id":20189252,"question_id":20189149,"body_markdown":"You can use constructor chaining, passing null to the values that are not used in your instance. (You can either use the super constructor if we are discussing inheritance, or a different constructor in the same class.)\r\nAfter all I would reconsider the design of your classes, for example extract the optional part to a different class.","title":"final optional member variable in Java classes","body":"<p>You can use constructor chaining, passing null to the values that are not used in your instance. (You can either use the super constructor if we are discussing inheritance, or a different constructor in the same class.)\nAfter all I would reconsider the design of your classes, for example extract the optional part to a different class.</p>\n"},{"tags":[],"owner":{"account_id":1019699,"reputation":8226,"user_id":1030410,"accept_rate":67,"display_name":"Daniel Trugman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660955358,"creation_date":1660955358,"answer_id":73423368,"question_id":20189149,"body_markdown":"**What you are looking for is the builder pattern.**\r\n\r\nSay you have a class with a constructor that accepts all the values:\r\n```\r\nclass Job {\r\n    private final Integer id;\r\n    private final String name;\r\n    private final Boolean retry;\r\n\r\n    public class Job(Integer id, String name, Boolean retry) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.retry = retry;\r\n    }\r\n}\r\n```\r\n\r\nNow, you want to let other create different flavors of that object while keeping it immutable, removing the default value logic from it and keeping it clean. **You create a new builder class:**\r\n```\r\nclass JobBuilder {\r\n    // Values the user MUST provide are non-initialized and\r\n    // declared as final\r\n    private final Integer id; \r\n\r\n    // Values the user MAY provide are initialized with default values\r\n    // and are not final\r\n    private String name = &quot;[none]&quot;;\r\n    private Boolean retry = true;\r\n\r\n    public class JobBuilder(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public JobBuilder name(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public JobBuilder retry(Boolean retry) {\r\n        this.retry = retry; \r\n    }\r\n\r\n    public Job build() {\r\n        return new Job(this.id, this.name, this.retry);\r\n    }\r\n}\r\n```\r\n\r\nNow, you can create different job objects easily while enforcing the requirements:\r\n```\r\nJob job1 = JobBuilder(1).name(&quot;firstJob&quot;).retry(false).build();\r\n\r\nJob job2 = JobBuilder(2).name(&quot;secondJob&quot;).build();\r\n\r\nJob job3 = JobBuilder(3).build();\r\n```","title":"final optional member variable in Java classes","body":"<p><strong>What you are looking for is the builder pattern.</strong></p>\n<p>Say you have a class with a constructor that accepts all the values:</p>\n<pre><code>class Job {\n    private final Integer id;\n    private final String name;\n    private final Boolean retry;\n\n    public class Job(Integer id, String name, Boolean retry) {\n        this.id = id;\n        this.name = name;\n        this.retry = retry;\n    }\n}\n</code></pre>\n<p>Now, you want to let other create different flavors of that object while keeping it immutable, removing the default value logic from it and keeping it clean. <strong>You create a new builder class:</strong></p>\n<pre><code>class JobBuilder {\n    // Values the user MUST provide are non-initialized and\n    // declared as final\n    private final Integer id; \n\n    // Values the user MAY provide are initialized with default values\n    // and are not final\n    private String name = &quot;[none]&quot;;\n    private Boolean retry = true;\n\n    public class JobBuilder(Integer id) {\n        this.id = id;\n    }\n\n    public JobBuilder name(String name) {\n        this.name = name;\n    }\n\n    public JobBuilder retry(Boolean retry) {\n        this.retry = retry; \n    }\n\n    public Job build() {\n        return new Job(this.id, this.name, this.retry);\n    }\n}\n</code></pre>\n<p>Now, you can create different job objects easily while enforcing the requirements:</p>\n<pre><code>Job job1 = JobBuilder(1).name(&quot;firstJob&quot;).retry(false).build();\n\nJob job2 = JobBuilder(2).name(&quot;secondJob&quot;).build();\n\nJob job3 = JobBuilder(3).build();\n</code></pre>\n"}],"owner":{"account_id":3635123,"reputation":23,"user_id":3030413,"display_name":"Anish K George"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1124,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":20189252,"answer_count":3,"score":2,"last_activity_date":1660955358,"creation_date":1385373523,"question_id":20189149,"body_markdown":"I have a scenario where some of the final variables declared at class level are optional in some cases.\r\n\r\nThat means I have different constructors. Some of those have to leave the member variables with null values.\r\n\r\nSince I have declared the variable as final, I am forced to initialize those in the constructor. So I have to add *var = null;* statement in the constructor.\r\n\r\nBut explicitly assigning variables to null is considered to be a bad practice and tools like PMD, reports it as a violation. (Controversial rule in PMD. But do not want to switch it off, since I do not want the null assignment to be practiced in other areas of my code)\r\n\r\nAny other suggessions or good practices to achieve this?\r\n","title":"final optional member variable in Java classes","body":"<p>I have a scenario where some of the final variables declared at class level are optional in some cases.</p>\n\n<p>That means I have different constructors. Some of those have to leave the member variables with null values.</p>\n\n<p>Since I have declared the variable as final, I am forced to initialize those in the constructor. So I have to add <em>var = null;</em> statement in the constructor.</p>\n\n<p>But explicitly assigning variables to null is considered to be a bad practice and tools like PMD, reports it as a violation. (Controversial rule in PMD. But do not want to switch it off, since I do not want the null assignment to be practiced in other areas of my code)</p>\n\n<p>Any other suggessions or good practices to achieve this?</p>\n"},{"tags":["java","junit5","junit-jupiter"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1651756769,"post_id":72127811,"comment_id":127442229,"body_markdown":"Does this answer your question? [Are test suites considered deprecated in JUnit5?](https://stackoverflow.com/questions/50565724/are-test-suites-considered-deprecated-in-junit5)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/50565724/are-test-suites-considered-deprecated-in-junit5\">Are test suites considered deprecated in JUnit5?</a>"},{"owner":{"account_id":6410870,"reputation":1740,"user_id":4970679,"display_name":"ahuemmer"},"score":0,"creation_date":1651757155,"post_id":72127811,"comment_id":127442420,"body_markdown":"Do you have something like this in your `build.gradle`: `tasks.named(&#39;test&#39;) {\n\tuseJUnitPlatform()\n}` AFAIK, this is necessary with JUnit 5. :)","body":"Do you have something like this in your <code>build.gradle</code>: <code>tasks.named(&#39;test&#39;) { \tuseJUnitPlatform() }</code> AFAIK, this is necessary with JUnit 5. :)"},{"owner":{"account_id":2666336,"reputation":63,"user_id":2304706,"display_name":"Ren&#233;"},"score":0,"creation_date":1651757364,"post_id":72127811,"comment_id":127442524,"body_markdown":"@cyberbrain Nope","body":"@cyberbrain Nope"},{"owner":{"account_id":2666336,"reputation":63,"user_id":2304706,"display_name":"Ren&#233;"},"score":0,"creation_date":1651757454,"post_id":72127811,"comment_id":127442573,"body_markdown":"@ahuemmer  yep --&gt; test { useJUnitPlatform()....}\nRunning single test methods is working","body":"@ahuemmer  yep --&gt; test { useJUnitPlatform()....} Running single test methods is working"},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1651757465,"post_id":72127811,"comment_id":127442576,"body_markdown":"cannot reproduce any issue. add your imports, gradle config etc that is neccessary context for your question.","body":"cannot reproduce any issue. add your imports, gradle config etc that is neccessary context for your question."}],"answers":[{"tags":[],"owner":{"account_id":2666336,"reputation":63,"user_id":2304706,"display_name":"Ren&#233;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651760263,"creation_date":1651760263,"answer_id":72128736,"question_id":72127811,"body_markdown":"The junit-platform-suite-engine was missing... \r\n\r\nSee: https://junit.org/junit5/docs/current/user-guide/index.html#junit-platform-suite-engine\r\n\r\n```\r\ndependencies {\r\n  testImplementation &quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;\r\n  testRuntimeOnly &quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;\r\n  testImplementation &#39;org.junit.platform:junit-platform-suite-api:1.8.2&#39;\r\n  **testRuntimeOnly &#39;org.junit.platform:junit-platform-suite-engine:1.8.2&#39;**\r\n  \r\n}\r\n```","title":"Junit 5 Test Suites","body":"<p>The junit-platform-suite-engine was missing...</p>\n<p>See: <a href=\"https://junit.org/junit5/docs/current/user-guide/index.html#junit-platform-suite-engine\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/index.html#junit-platform-suite-engine</a></p>\n<pre><code>dependencies {\n  testImplementation &quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;\n  testRuntimeOnly &quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;\n  testImplementation 'org.junit.platform:junit-platform-suite-api:1.8.2'\n  **testRuntimeOnly 'org.junit.platform:junit-platform-suite-engine:1.8.2'**\n  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660953628,"creation_date":1660953628,"answer_id":73423253,"question_id":72127811,"body_markdown":"Eclipse 4.25 (part of the Eclipse 2022-09 simultaneous release) should improve the support for JUnit 5:\r\n\r\n&gt; ## test suite wizard JUnit 5 support\r\n&gt;\r\n&gt; \tThe **New JUnit Test Suite Wizard** has been enhanced to now allow the creation of a JUnit 5 test suite using the `@Suite` annotation. \r\n&gt;\r\n&gt; To open the **New JUnit Test Suite Wizard** for the current package, go to `New &gt; Other &gt; Java &gt; JUnit &gt; JUnit Test Suite`.\r\n&gt;\r\n&gt; [![Test Suite Wizard -- https://www.eclipse.org/eclipse/news/4.25/images/test-suite-wizard-junit5.png][1]][1]\r\n&gt;\r\n&gt; The result of this is:\r\n&gt;\r\n&gt; [![JUnit 5 Test Suite][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nDTHS.png\r\n  [2]: https://i.stack.imgur.com/YWVpZ.png","title":"Junit 5 Test Suites","body":"<p>Eclipse 4.25 (part of the Eclipse 2022-09 simultaneous release) should improve the support for JUnit 5:</p>\n<blockquote>\n<h2>test suite wizard JUnit 5 support</h2>\n<p>The <strong>New JUnit Test Suite Wizard</strong> has been enhanced to now allow the creation of a JUnit 5 test suite using the <code>@Suite</code> annotation.</p>\n<p>To open the <strong>New JUnit Test Suite Wizard</strong> for the current package, go to <code>New &gt; Other &gt; Java &gt; JUnit &gt; JUnit Test Suite</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/nDTHS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nDTHS.png\" alt=\"Test Suite Wizard -- https://www.eclipse.org/eclipse/news/4.25/images/test-suite-wizard-junit5.png\" /></a></p>\n<p>The result of this is:</p>\n<p><a href=\"https://i.stack.imgur.com/YWVpZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YWVpZ.png\" alt=\"JUnit 5 Test Suite\" /></a></p>\n</blockquote>\n"}],"owner":{"account_id":2666336,"reputation":63,"user_id":2304706,"display_name":"Ren&#233;"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2145,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72128736,"answer_count":2,"score":2,"last_activity_date":1660953628,"creation_date":1651756509,"question_id":72127811,"body_markdown":"I&#39;m trying to migrate a Project from JUnit 4 to JUnit 5.8.2 with junit-platform-suite-api 1.8.2. We used to organize our test classes in test suites. But if I use the @Suite annotation with @SelectClasses the test runner finds no test methods at all. When running a specific test class directly everything is fine. This happens in eclipse and gradle builds.\r\n\r\n```\r\nimport org.junit.platform.suite.api.SelectClasses;\r\nimport org.junit.platform.suite.api.Suite;\r\n\r\n@Suite\r\n@SelectClasses({\r\n    TestA.class\r\n})\r\npublic class ImportantTestSuite {\r\n}\r\n```\r\n\r\n```\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.Assertions;\r\n\r\npublic class TestA {\r\n\r\n    @Test\r\n    public void reallyImportantTest() {\r\n        assertEquals(2, 1 + 1)\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nbuild.gradle looks like this\r\n```\r\nplugins {\r\n  id &#39;application&#39;\r\n}\r\n\r\ndependencies {\r\n  testImplementation &quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;\r\n  testImplementation &#39;org.junit.platform:junit-platform-suite-api:1.8.2&#39;\r\n  testRuntimeOnly &quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n    minHeapSize = &#39;1024m&#39;\r\n    maxHeapSize = &#39;1024m&#39;\r\n    include &#39;**/*ImportantTestSuite*&#39;\r\n    ignoreFailures = true\r\n    testLogging {\r\n      exceptionFormat &#39;full&#39;\r\n      events &#39;passed&#39;, &#39;skipped&#39;, &#39;failed&#39;\r\n    }\r\n  }\r\n```\r\n\r\nAny idea how to organize the suites on class basis?\r\n\r\nEdit:\r\n\r\nhttps://stackoverflow.com/questions/50565724/are-test-suites-considered-deprecated-in-junit5\r\n\r\nI already read this answers. As far as I see I&#39;m using that apporach with @Suite and @SelectClasses and not the runner.\r\n","title":"Junit 5 Test Suites","body":"<p>I'm trying to migrate a Project from JUnit 4 to JUnit 5.8.2 with junit-platform-suite-api 1.8.2. We used to organize our test classes in test suites. But if I use the @Suite annotation with @SelectClasses the test runner finds no test methods at all. When running a specific test class directly everything is fine. This happens in eclipse and gradle builds.</p>\n<pre><code>import org.junit.platform.suite.api.SelectClasses;\nimport org.junit.platform.suite.api.Suite;\n\n@Suite\n@SelectClasses({\n    TestA.class\n})\npublic class ImportantTestSuite {\n}\n</code></pre>\n<pre><code>import org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.Assertions;\n\npublic class TestA {\n\n    @Test\n    public void reallyImportantTest() {\n        assertEquals(2, 1 + 1)\n    }\n\n}\n\n</code></pre>\n<p>build.gradle looks like this</p>\n<pre><code>plugins {\n  id 'application'\n}\n\ndependencies {\n  testImplementation &quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;\n  testImplementation 'org.junit.platform:junit-platform-suite-api:1.8.2'\n  testRuntimeOnly &quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;\n}\n\ntest {\n    useJUnitPlatform()\n    minHeapSize = '1024m'\n    maxHeapSize = '1024m'\n    include '**/*ImportantTestSuite*'\n    ignoreFailures = true\n    testLogging {\n      exceptionFormat 'full'\n      events 'passed', 'skipped', 'failed'\n    }\n  }\n</code></pre>\n<p>Any idea how to organize the suites on class basis?</p>\n<p>Edit:</p>\n<p><a href=\"https://stackoverflow.com/questions/50565724/are-test-suites-considered-deprecated-in-junit5\">Are test suites considered deprecated in JUnit5?</a></p>\n<p>I already read this answers. As far as I see I'm using that apporach with @Suite and @SelectClasses and not the runner.</p>\n"},{"tags":["java","maven","dependencies","pom.xml","system-paths"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1660904726,"post_id":73414429,"comment_id":129649126,"body_markdown":"Do not use systemPath at all... Use a repository manager ...You should not use any property like `${pom.*} anymore ...","body":"Do not use systemPath at all... Use a repository manager ...You should not use any property like `${pom.*} anymore ..."},{"owner":{"account_id":11320476,"reputation":21,"user_id":8300946,"display_name":"Rajalingam"},"score":0,"creation_date":1660906793,"post_id":73414429,"comment_id":129649818,"body_markdown":"@khmarbaise I am planning to use local repository only, But my doubt is how its working without warning by using ${pom.basedir} not in {project.basedir}.","body":"@khmarbaise I am planning to use local repository only, But my doubt is how its working without warning by using ${pom.basedir} not in {project.basedir}."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1660908710,"post_id":73414429,"comment_id":129650465,"body_markdown":"Use local repository only? With system path?","body":"Use local repository only? With system path?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1660908790,"post_id":73414429,"comment_id":129650503,"body_markdown":"Local repository only? How to get artifacts into that?","body":"Local repository only? How to get artifacts into that?"},{"owner":{"account_id":11320476,"reputation":21,"user_id":8300946,"display_name":"Rajalingam"},"score":0,"creation_date":1660909829,"post_id":73414429,"comment_id":129650879,"body_markdown":"@khmarbaise   My question is not relevant to repository manager.. My actual question is earlier when I am using System path as ${project.basedir} I got warning message (Please refer above),. but I didn&#39;t see any warning after using System path as ${pom.basedir}.. So What is different here project.basedir vs pom.basedir?","body":"@khmarbaise   My question is not relevant to repository manager.. My actual question is earlier when I am using System path as ${project.basedir} I got warning message (Please refer above),. but I didn&#39;t see any warning after using System path as ${pom.basedir}.. So What is different here project.basedir vs pom.basedir?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1660914653,"post_id":73414429,"comment_id":129652755,"body_markdown":"It is relevatn related to repository manager because if you would use one you don&#39;t have to use systemPath...","body":"It is relevatn related to repository manager because if you would use one you don&#39;t have to use systemPath..."},{"owner":{"account_id":11320476,"reputation":21,"user_id":8300946,"display_name":"Rajalingam"},"score":0,"creation_date":1660918774,"post_id":73414429,"comment_id":129654347,"body_markdown":"@khmarbaise  You understood wrongly, My question is before implementing repository manager.","body":"@khmarbaise  You understood wrongly, My question is before implementing repository manager."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1660920391,"post_id":73414429,"comment_id":129654980,"body_markdown":"1. `pom.basedir` is deprecated and should not be used anymore. 2. Systempath should be avoided if at all possible.","body":"1. <code>pom.basedir</code> is deprecated and should not be used anymore. 2. Systempath should be avoided if at all possible."}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660952079,"creation_date":1660901090,"answer_id":73414594,"question_id":73414429,"body_markdown":"`${basedir}`, `${project.basedir}` and `${pom.basedir}` [are synonyms](https://maven.apache.org/ref/3.8.6/maven-model-builder/#model-interpolation) (you may also check that using something like `mvn help:evaluate -Dexpression=pom.basedir`), your Q just reveals that person who was fixing [MNG-4953](https://issues.apache.org/jira/browse/MNG-4953) didn&#39;t know about that.","title":"Difference between ${pom.basedir} vs ${project.basedir} in pom.xml","body":"<p><code>${basedir}</code>, <code>${project.basedir}</code> and <code>${pom.basedir}</code> <a href=\"https://maven.apache.org/ref/3.8.6/maven-model-builder/#model-interpolation\" rel=\"nofollow noreferrer\">are synonyms</a> (you may also check that using something like <code>mvn help:evaluate -Dexpression=pom.basedir</code>), your Q just reveals that person who was fixing <a href=\"https://issues.apache.org/jira/browse/MNG-4953\" rel=\"nofollow noreferrer\">MNG-4953</a> didn't know about that.</p>\n"}],"owner":{"account_id":11320476,"reputation":21,"user_id":8300946,"display_name":"Rajalingam"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1384,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1660952079,"creation_date":1660900229,"question_id":73414429,"body_markdown":"Getting below warning while build.\r\n\r\nI am using  in pom.xml\r\n\r\n    &lt;systemPath&gt;${project.basedir}/lib/....jar&lt;/systemPath&gt;\r\n\r\n&gt; [WARNING] &#39;dependencies.dependency.systemPath&#39; for ...:jar should not\r\n&gt; point at files within the project directory,\r\n&gt; ${project.basedir}/lib/....jar will be unresolvable by dependent\r\n&gt; projects @ line 25, column 30\r\n\r\nIts resolved now by using `&lt;systemPath&gt;${pom.basedir}/lib`/....jar&lt;/systemPath&gt; in pom.xml\r\n\r\nAnyone please explain, What is difference between ${pom.basedir} vs ${project.basedir} in pom.xml?\r\n\r\n ","title":"Difference between ${pom.basedir} vs ${project.basedir} in pom.xml","body":"<p>Getting below warning while build.</p>\n<p>I am using  in pom.xml</p>\n<pre><code>&lt;systemPath&gt;${project.basedir}/lib/....jar&lt;/systemPath&gt;\n</code></pre>\n<blockquote>\n<p>[WARNING] 'dependencies.dependency.systemPath' for ...:jar should not\npoint at files within the project directory,\n${project.basedir}/lib/....jar will be unresolvable by dependent\nprojects @ line 25, column 30</p>\n</blockquote>\n<p>Its resolved now by using <code>&lt;systemPath&gt;${pom.basedir}/lib</code>/....jar in pom.xml</p>\n<p>Anyone please explain, What is difference between ${pom.basedir} vs ${project.basedir} in pom.xml?</p>\n"},{"tags":["java","comparator"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":2,"creation_date":1660937904,"post_id":73421489,"comment_id":129660234,"body_markdown":"Post what you have so far - it should be a simple condition in the comparator to use a &quot;getDt()&quot; which returns &quot;cdt&quot; if not null OR returns &quot;odt&quot;.  Then do the comparison on the result of &quot;getDt()&quot;.","body":"Post what you have so far - it should be a simple condition in the comparator to use a &quot;getDt()&quot; which returns &quot;cdt&quot; if not null OR returns &quot;odt&quot;.  Then do the comparison on the result of &quot;getDt()&quot;."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1660943546,"post_id":73421489,"comment_id":129661495,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660939147,"creation_date":1660938492,"answer_id":73421606,"question_id":73421489,"body_markdown":"[`Comparator`][1] has all you want. It could be something like this, though I doubt the correctness.\r\n\r\n    List&lt;Order&gt; orders = ...\r\n    orders.sort(Comparator.nullsFirst(Order::getCollectionDT)\r\n                          .reversed()\r\n                          .thenComparing(Order::getOrderingDT));\r\n\r\nThis would do CollectionDT sorted descendingly, the nulls at the end (nullsFirst+reversed), and equal CollectionDTs sorted by OrderingDT.\r\n\r\nThey must implement `Comparable&lt;CollectionDT&gt;` resp. `Comparable&lt;OrderingDT&gt;`.\r\n\r\nIt looks like you want something intertwined.\r\nThen using a simple basic Comparator on compareTo.\r\nMore readable.\r\n\r\n    Comparator&lt;Order&gt; orderComparator = (lhs, rhs) -&gt;\r\n        lhs.getCollectionDT() == null\r\n            ? rhs.getCollectionDT() != null ? 1\r\n            : lhs.getOrderingDT().compareTo(rhs.getOrderingDT())\r\n            : rhs.getCollection() == null ? -1\r\n            : lhs.getCollectionDT().compareTo(rhs.getCollectionDT());\r\n     orders.sort(orderComparator);\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html","title":"Is it possible to create custom java comparator which will compare by two different object properties?","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a> has all you want. It could be something like this, though I doubt the correctness.</p>\n<pre><code>List&lt;Order&gt; orders = ...\norders.sort(Comparator.nullsFirst(Order::getCollectionDT)\n                      .reversed()\n                      .thenComparing(Order::getOrderingDT));\n</code></pre>\n<p>This would do CollectionDT sorted descendingly, the nulls at the end (nullsFirst+reversed), and equal CollectionDTs sorted by OrderingDT.</p>\n<p>They must implement <code>Comparable&lt;CollectionDT&gt;</code> resp. <code>Comparable&lt;OrderingDT&gt;</code>.</p>\n<p>It looks like you want something intertwined.\nThen using a simple basic Comparator on compareTo.\nMore readable.</p>\n<pre><code>Comparator&lt;Order&gt; orderComparator = (lhs, rhs) -&gt;\n    lhs.getCollectionDT() == null\n        ? rhs.getCollectionDT() != null ? 1\n        : lhs.getOrderingDT().compareTo(rhs.getOrderingDT())\n        : rhs.getCollection() == null ? -1\n        : lhs.getCollectionDT().compareTo(rhs.getCollectionDT());\n orders.sort(orderComparator);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1104998,"reputation":872,"user_id":1096587,"display_name":"Liberty Lover"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1660952064,"creation_date":1660952064,"answer_id":73423135,"question_id":73421489,"body_markdown":"I have taken the time to code a demonstration of an answer in Eiffel for anyone who would like to see. You can find that video [here][1]. You can look at the code directly from [Github][2].\r\n\r\nThe primary goal of the demo is to show that objects in Eiffel can be taught how to compare themselves among themselvessuch thatwhen you place them into a list, they auto-sort themselves by the code-rules you provide. This means you can also have descendant child classes that know how to sort themselves along with more generic parents in the same list, so you don&#39;t have to create lists of just one type of object.\r\n\r\nYou can even teach different objects that are otherwise unrelated how to organize themselves in the list, as long as they have some kind of loose inheritance. The Eiffel way of doing this is quite powerful!\r\n\r\nI invite you to watch the video, examine the code on Github, download EiffelStudio (free GPL version) and play with the code directly! If you need help, reach out to me. I am happy to assist you in any way I can!\r\n\r\n\r\n  [1]: https://youtu.be/l302rSA1eNs\r\n  [2]: https://github.com/ljr1981/stack_overflow_answers/blob/main/src/so_73421489/so_73421489_order.e","title":"Is it possible to create custom java comparator which will compare by two different object properties?","body":"<p>I have taken the time to code a demonstration of an answer in Eiffel for anyone who would like to see. You can find that video <a href=\"https://youtu.be/l302rSA1eNs\" rel=\"nofollow noreferrer\">here</a>. You can look at the code directly from <a href=\"https://github.com/ljr1981/stack_overflow_answers/blob/main/src/so_73421489/so_73421489_order.e\" rel=\"nofollow noreferrer\">Github</a>.</p>\n<p>The primary goal of the demo is to show that objects in Eiffel can be taught how to compare themselves among themselvessuch thatwhen you place them into a list, they auto-sort themselves by the code-rules you provide. This means you can also have descendant child classes that know how to sort themselves along with more generic parents in the same list, so you don't have to create lists of just one type of object.</p>\n<p>You can even teach different objects that are otherwise unrelated how to organize themselves in the list, as long as they have some kind of loose inheritance. The Eiffel way of doing this is quite powerful!</p>\n<p>I invite you to watch the video, examine the code on Github, download EiffelStudio (free GPL version) and play with the code directly! If you need help, reach out to me. I am happy to assist you in any way I can!</p>\n"}],"owner":{"account_id":3551464,"reputation":13,"user_id":2966240,"display_name":"andriyky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"answer_count":2,"score":-2,"last_activity_date":1660952064,"creation_date":1660937595,"question_id":73421489,"body_markdown":"Could you please help me to figure out how to implement comparator which will have the following algorithm?\r\n\r\nLet&#39;s imagine we have class Order which have properties CollectionDT and OrderingDT.\r\n\r\nWhat it&#39;s needed to sort list with Order objects by CollectionDT descending and if CollectionDT is null for some object passed to comparator then sort by OrderingDT.\r\n\r\nThe example and required output:\r\n\r\n    Order1: CollectionDT - 2022-08-17, OrderingDT - 2022-08-17 \r\n    Order2: CollectionDT - null, OrderingDT - 2022-08-18\r\n    Order3: CollectionDT - 2022-08-19, OrderingDT 2022-08-19\r\n\r\nNeeded output:\r\n\r\n    Order3\r\n    Order2\r\n    Order1\r\n","title":"Is it possible to create custom java comparator which will compare by two different object properties?","body":"<p>Could you please help me to figure out how to implement comparator which will have the following algorithm?</p>\n<p>Let's imagine we have class Order which have properties CollectionDT and OrderingDT.</p>\n<p>What it's needed to sort list with Order objects by CollectionDT descending and if CollectionDT is null for some object passed to comparator then sort by OrderingDT.</p>\n<p>The example and required output:</p>\n<pre><code>Order1: CollectionDT - 2022-08-17, OrderingDT - 2022-08-17 \nOrder2: CollectionDT - null, OrderingDT - 2022-08-18\nOrder3: CollectionDT - 2022-08-19, OrderingDT 2022-08-19\n</code></pre>\n<p>Needed output:</p>\n<pre><code>Order3\nOrder2\nOrder1\n</code></pre>\n"},{"tags":["java","spring-boot","ehcache","mockrestserviceserver"],"answers":[{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660951896,"creation_date":1660951896,"answer_id":73423123,"question_id":73088450,"body_markdown":"You can inject the `org.springframework.cache.CacheManager` bean into your tests and use it to clear the cache before or after each test. Assuming there is a cache named `testCache`, a test class that clears the cache would look something like below:\r\n\r\n```java\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.cache.CacheManager;\r\n\r\n@SpringBootTest\r\npublic class IntegrationTest {\r\n\r\n   @Autowired\r\n   private CacheManager cacheManager;\r\n\r\n   @BeforeEach\r\n   public void setup() {\r\n      cacheManager.get(&quot;testCache&quot;).clear();\r\n   }\r\n\r\n   @Test\r\n   public void testSomething() {\r\n\r\n   }\r\n}\r\n```\r\n\r\nYou can find a reference spock-based test that does the same thing on [github](https://github.com/devatherock/spring-boot-demo/blob/ehcache/src/test/groovy/io/github/devatherock/service/MessageServiceSpec.groovy)\r\n","title":"How to clear/ignore ehcache&#39;s data and test via MockRestServiceServer?","body":"<p>You can inject the <code>org.springframework.cache.CacheManager</code> bean into your tests and use it to clear the cache before or after each test. Assuming there is a cache named <code>testCache</code>, a test class that clears the cache would look something like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.cache.CacheManager;\n\n@SpringBootTest\npublic class IntegrationTest {\n\n   @Autowired\n   private CacheManager cacheManager;\n\n   @BeforeEach\n   public void setup() {\n      cacheManager.get(&quot;testCache&quot;).clear();\n   }\n\n   @Test\n   public void testSomething() {\n\n   }\n}\n</code></pre>\n<p>You can find a reference spock-based test that does the same thing on <a href=\"https://github.com/devatherock/spring-boot-demo/blob/ehcache/src/test/groovy/io/github/devatherock/service/MessageServiceSpec.groovy\" rel=\"nofollow noreferrer\">github</a></p>\n"}],"owner":{"account_id":4507375,"reputation":555,"user_id":3664382,"accept_rate":60,"display_name":"thisisdude"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660951896,"creation_date":1658556664,"question_id":73088450,"body_markdown":"We are running our component test-cases in which we load some data using cache.. Now the problem is when we try other test-cases, we want to reset the cache because it then doesn&#39;t test with the other data. How can we achieve this. We are using spring boot with Java and using Ehcache.\r\n","title":"How to clear/ignore ehcache&#39;s data and test via MockRestServiceServer?","body":"<p>We are running our component test-cases in which we load some data using cache.. Now the problem is when we try other test-cases, we want to reset the cache because it then doesn't test with the other data. How can we achieve this. We are using spring boot with Java and using Ehcache.</p>\n"},{"tags":["java","if-statement","hashmap"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":6,"creation_date":1660948857,"post_id":73422809,"comment_id":129662561,"body_markdown":"FYI Germans speak German, not Dutch.","body":"FYI Germans speak German, not Dutch."}],"answers":[{"tags":[],"owner":{"account_id":4610643,"reputation":1454,"user_id":3738870,"display_name":"user3738870"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660950432,"creation_date":1660948630,"answer_id":73422849,"question_id":73422809,"body_markdown":"The benefit is that it requires less code to handle the cases and to add a new case.\r\n\r\nThis is what it looks like with a map:\r\n```java\r\nclass Main {\r\n    static Map&lt;String, String&gt; countryToLanguageMap = Map.of(\r\n        &quot;USA&quot;, &quot;english&quot;,\r\n        &quot;Germany&quot;, &quot;dutch&quot;,\r\n        &quot;Brazil&quot;, &quot;Portuguese&quot;\r\n    );\r\n\r\n    static String string_process(String s_in) {\r\n        for (Map.Entry&lt;String, String&gt; entry : countryToLanguageMap.entrySet()) {\r\n            if(s_in.contains(entry.getKey())){\r\n                return entry.getValue();\r\n            }\r\n        }\r\n        return &quot;Unknown&quot;;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String process = string_process(&quot;I am from USA!&quot;);\r\n        System.out.println(&quot;I understand &quot;+process);\r\n    }\r\n}\r\n```\r\n\r\nFor example, let&#39;s suppose you want to add a new case, &quot;UK&quot; with &quot;english&quot;. This is what you would have to add with the map-based version:\r\n```java\r\n        ...\r\n        &quot;UK&quot;, &quot;english&quot;,\r\n        ...\r\n```\r\nwhile with the original version:\r\n```java\r\n     ...\r\n     else if(s_in.contains(&quot;UK&quot;)){\r\n            s_out = &quot;english&quot;;\r\n     }\r\n     ...\r\n\r\n```","title":"Covert if else statement to hasmap in JAVA","body":"<p>The benefit is that it requires less code to handle the cases and to add a new case.</p>\n<p>This is what it looks like with a map:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Main {\n    static Map&lt;String, String&gt; countryToLanguageMap = Map.of(\n        &quot;USA&quot;, &quot;english&quot;,\n        &quot;Germany&quot;, &quot;dutch&quot;,\n        &quot;Brazil&quot;, &quot;Portuguese&quot;\n    );\n\n    static String string_process(String s_in) {\n        for (Map.Entry&lt;String, String&gt; entry : countryToLanguageMap.entrySet()) {\n            if(s_in.contains(entry.getKey())){\n                return entry.getValue();\n            }\n        }\n        return &quot;Unknown&quot;;\n    }\n\n    public static void main(String[] args) {\n        String process = string_process(&quot;I am from USA!&quot;);\n        System.out.println(&quot;I understand &quot;+process);\n    }\n}\n</code></pre>\n<p>For example, let's suppose you want to add a new case, &quot;UK&quot; with &quot;english&quot;. This is what you would have to add with the map-based version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        ...\n        &quot;UK&quot;, &quot;english&quot;,\n        ...\n</code></pre>\n<p>while with the original version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>     ...\n     else if(s_in.contains(&quot;UK&quot;)){\n            s_out = &quot;english&quot;;\n     }\n     ...\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19590806,"reputation":1,"user_id":14337870,"display_name":"Noah Jaussi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660948823,"creation_date":1660948823,"answer_id":73422864,"question_id":73422809,"body_markdown":"In short it would make the code more readable but it the runtime complexity would not change in a notable capacity. Like the other answers you would need to make a global hash-map variable to hold the key-value pairs.","title":"Covert if else statement to hasmap in JAVA","body":"<p>In short it would make the code more readable but it the runtime complexity would not change in a notable capacity. Like the other answers you would need to make a global hash-map variable to hold the key-value pairs.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660950360,"creation_date":1660949933,"answer_id":73422965,"question_id":73422809,"body_markdown":"Here&#39;s a possible solution using Stream API and static Map.\r\n\r\n***Note:** names like `string_process()` are not aligned with Java naming convention and doesn&#39;t provide much information to the reader about its purpose.*\r\n\r\nBasically solution boils down to a combination of methods `filter()`+`findFirst()`, which produces an `Optianal`. In case if optional is empty, default value `&quot;Unknown&quot;` would be provided as a result.\r\n\r\n```\r\nprivate static final Map&lt;String, String&gt; COUNTRY_BY_LANGUAGE =\r\n    Map.of(&quot;USA&quot;, &quot;English&quot;, &quot;Germany&quot;, &quot;German&quot;, &quot;Brazil&quot;, &quot;Portuguese&quot;);\r\n```\r\n\r\n    public static String processCountry(String from) {\r\n        \r\n        return COUNTRY_BY_LANGUAGE.entrySet().stream()\r\n            .filter(entry -&gt; entry.getKey().contains(from))\r\n            .findFirst()\r\n            .map(Map.Entry::getValue)\r\n            .orElse(&quot;Unknown&quot;);\r\n    }","title":"Covert if else statement to hasmap in JAVA","body":"<p>Here's a possible solution using Stream API and static Map.</p>\n<p><em><strong>Note:</strong> names like <code>string_process()</code> are not aligned with Java naming convention and doesn't provide much information to the reader about its purpose.</em></p>\n<p>Basically solution boils down to a combination of methods <code>filter()</code>+<code>findFirst()</code>, which produces an <code>Optianal</code>. In case if optional is empty, default value <code>&quot;Unknown&quot;</code> would be provided as a result.</p>\n<pre><code>private static final Map&lt;String, String&gt; COUNTRY_BY_LANGUAGE =\n    Map.of(&quot;USA&quot;, &quot;English&quot;, &quot;Germany&quot;, &quot;German&quot;, &quot;Brazil&quot;, &quot;Portuguese&quot;);\n</code></pre>\n<pre><code>public static String processCountry(String from) {\n    \n    return COUNTRY_BY_LANGUAGE.entrySet().stream()\n        .filter(entry -&gt; entry.getKey().contains(from))\n        .findFirst()\n        .map(Map.Entry::getValue)\n        .orElse(&quot;Unknown&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":931822,"reputation":253,"user_id":961575,"display_name":"Pavel Repin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660951372,"creation_date":1660950101,"answer_id":73422984,"question_id":73422809,"body_markdown":"Simple brute-force solution without sophisticated algorithms would be:\r\n- build your HashMap\r\n- Loop through keys in hashMap, using &#39;indexOf&#39; method of String checking if index &gt;= 0\r\nThat would be n*k time complexity (n - keyword count, k - Average input string length)\r\n```\r\npublic class Solution {\r\n\r\n    private static final Map&lt;String, String&gt; COUNTRY_TO_LANGUAGE = Map.of(\r\n            &quot;USA&quot;, &quot;English&quot;,\r\n            &quot;Germany&quot;, &quot;Deutsch&quot;, \r\n            &quot;Brazil&quot;, &quot;Portuguese&quot;);\r\n    private static final String UNKNOWN = &quot;Unknown&quot;;\r\n\r\n    public static String find(String greeting) {\r\n        for(String key: COUNTRY_TO_LANGUAGE.keySet()) {\r\n            if (greeting.indexOf(key) &gt;= 0) return COUNTRY_TO_LANGUAGE.get(key);\r\n        }\r\n        return UNKNOWN;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String greeting = &quot;I am from USA!&quot;;\r\n        System.out.println(&quot;I understand &quot; + find(greeting));\r\n    }\r\n}\r\n```\r\nSo instead of adding new if-else block you just update your map.","title":"Covert if else statement to hasmap in JAVA","body":"<p>Simple brute-force solution without sophisticated algorithms would be:</p>\n<ul>\n<li>build your HashMap</li>\n<li>Loop through keys in hashMap, using 'indexOf' method of String checking if index &gt;= 0\nThat would be n*k time complexity (n - keyword count, k - Average input string length)</li>\n</ul>\n<pre><code>public class Solution {\n\n    private static final Map&lt;String, String&gt; COUNTRY_TO_LANGUAGE = Map.of(\n            &quot;USA&quot;, &quot;English&quot;,\n            &quot;Germany&quot;, &quot;Deutsch&quot;, \n            &quot;Brazil&quot;, &quot;Portuguese&quot;);\n    private static final String UNKNOWN = &quot;Unknown&quot;;\n\n    public static String find(String greeting) {\n        for(String key: COUNTRY_TO_LANGUAGE.keySet()) {\n            if (greeting.indexOf(key) &gt;= 0) return COUNTRY_TO_LANGUAGE.get(key);\n        }\n        return UNKNOWN;\n    }\n\n    public static void main(String[] args) {\n        String greeting = &quot;I am from USA!&quot;;\n        System.out.println(&quot;I understand &quot; + find(greeting));\n    }\n}\n</code></pre>\n<p>So instead of adding new if-else block you just update your map.</p>\n"}],"owner":{"account_id":23818332,"reputation":7,"user_id":17826273,"display_name":"Ahmad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73422849,"answer_count":4,"score":0,"last_activity_date":1660951372,"creation_date":1660948166,"question_id":73422809,"body_markdown":"I want to implement a function in java that gets string input and process it. Here is how i implement it using if else statement:\r\n\r\n```\r\nclass Main {\r\n    static String string_process(String s_in) {\r\n        String s_out;\r\n        if(s_in.contains(&quot;USA&quot;)){\r\n            s_out = &quot;english&quot;;\r\n        }\r\n        else if(s_in.contains(&quot;Germany&quot;)){\r\n            s_out = &quot;dutch&quot;;\r\n        }\r\n        else if(s_in.contains(&quot;Brazil&quot;)){\r\n            s_out = &quot;Portuguese&quot;;\r\n        }\r\n        else {\r\n            s_out = &quot;Uknown&quot;;\r\n        }\r\n        return s_out;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String process = string_process(&quot;I am from USA!&quot;);\r\n        System.out.println(&quot;I understand &quot;+process);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m wondering if i can implement it hashmap. Is there any benefit of doing so in terms of complexity? ","title":"Covert if else statement to hasmap in JAVA","body":"<p>I want to implement a function in java that gets string input and process it. Here is how i implement it using if else statement:</p>\n<pre><code>class Main {\n    static String string_process(String s_in) {\n        String s_out;\n        if(s_in.contains(&quot;USA&quot;)){\n            s_out = &quot;english&quot;;\n        }\n        else if(s_in.contains(&quot;Germany&quot;)){\n            s_out = &quot;dutch&quot;;\n        }\n        else if(s_in.contains(&quot;Brazil&quot;)){\n            s_out = &quot;Portuguese&quot;;\n        }\n        else {\n            s_out = &quot;Uknown&quot;;\n        }\n        return s_out;\n    }\n\n    public static void main(String[] args) {\n        String process = string_process(&quot;I am from USA!&quot;);\n        System.out.println(&quot;I understand &quot;+process);\n    }\n}\n</code></pre>\n<p>I'm wondering if i can implement it hashmap. Is there any benefit of doing so in terms of complexity?</p>\n"},{"tags":["java","android-studio","android-room"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660951166,"creation_date":1660950439,"answer_id":73423020,"question_id":73422314,"body_markdown":"I&#39;d suggest that rather than getting the Employees (Employee list) and then try to get the Salary for each employee, that you instead have a POJO, say **EmployeeWithSalary** that embeds (using the `@Embedded` annotation) the Employee class with the salary. Along the lines of:-\r\n\r\n\r\n    class EmployeeWithSalary {\r\n       @Embedded\r\n       Employee employee;\r\n       double salary;\r\n    }\r\n\r\n\r\nYou could then have a query in the respective `@Dao` annotated interface/abstract class, such as :-\r\n\r\n    @Query(&quot;SELECT *, (SELECT sum(amount) FROM salary WHERE empId=employee.id) AS salary  FROM employee&quot;)\r\n    abstract List&lt;EmployeeWithSalary&gt; getEmployeesWithSalary();\r\n\r\nYou could then have your adapter use the List and the salary would then be available without the need to access the database a second time to extract the salary.\r\n\r\nAs an example/demo consider the following based upon your code :-\r\n\r\n    @Entity\r\n    class Employee {\r\n       @PrimaryKey\r\n       Long id = null;\r\n       @ColumnInfo(index = true)\r\n       String employeeName;\r\n       // etc...\r\n    \r\n       Employee(){}\r\n       @Ignore\r\n       Employee(String employeeName) {\r\n          this.id = null;\r\n          this.employeeName = employeeName;\r\n       }\r\n       @Ignore\r\n       Employee(Long employeeId, String employeeName) {\r\n          this.id = employeeId;\r\n          this.employeeName = employeeName;\r\n       }\r\n    }\r\n\r\n    @Entity\r\n    class Salary {\r\n       @PrimaryKey\r\n       Long salaryId = null;\r\n       long empId;\r\n       double amount;\r\n       // etc ....\r\n    \r\n       Salary(){}\r\n       @Ignore\r\n       Salary(long empId, double amount) {\r\n          this.salaryId = null;\r\n          this.empId = empId;\r\n          this.amount = amount;\r\n       }\r\n    }\r\n\r\n**The new POJO**\r\n\r\n    class EmployeeWithSalary {\r\n       @Embedded\r\n       Employee employee;\r\n       double salary;\r\n    }\r\n\r\n\r\nA basic `@Dao` annotated abstract class (could be an interface,  abstract classes can include methods with bodies)\r\n\r\n    @Dao\r\n    abstract class AllDao {\r\n    \r\n       @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n       abstract long insert(Employee employee);\r\n       @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n       abstract long insert(Salary salary);\r\n    \r\n       @Query(&quot;SELECT *, (SELECT sum(amount) FROM salary WHERE empId=employee.id) AS salary  FROM employee&quot;)\r\n       abstract List&lt;EmployeeWithSalary&gt; getEmployeesWithSalary();\r\n    \r\n    }\r\n\r\nAnd to demonstrate (note that `.allowMainThreadQueries` has been used in the databaseBuilder for brevity of the demo) the following in an activity:-\r\n\r\n        db = TheDatabase.getInstance(this);\r\n        dao = db.getAllDao();\r\n\r\n        long fredId = dao.insert(new Employee(&quot;Fred&quot;));\r\n        long maryId = dao.insert(new Employee(&quot;Mary&quot;));\r\n\r\n        dao.insert(new Salary(fredId,111.33));\r\n        dao.insert(new Salary(fredId,222.66));\r\n        dao.insert(new Salary(fredId,333.999));\r\n\r\n        dao.insert(new Salary(maryId,115.55));\r\n        dao.insert(new Salary(maryId,230.10));\r\n\r\n        for (EmployeeWithSalary ews: dao.getEmployeesWithSalary()) {\r\n            Log.d(&quot;EMPINFO&quot;,&quot;Employee is &quot; + ews.employee.employeeName + &quot; Salary is $&quot; + ews.salary);\r\n        }\r\n\r\nand the log includes:-\r\n\r\n    D/EMPINFO: Employee is Fred Salary is $667.989\r\n    D/EMPINFO: Employee is Mary Salary is $345.65","title":"Using room database to retrieve salaries for employees","body":"<p>I'd suggest that rather than getting the Employees (Employee list) and then try to get the Salary for each employee, that you instead have a POJO, say <strong>EmployeeWithSalary</strong> that embeds (using the <code>@Embedded</code> annotation) the Employee class with the salary. Along the lines of:-</p>\n<pre><code>class EmployeeWithSalary {\n   @Embedded\n   Employee employee;\n   double salary;\n}\n</code></pre>\n<p>You could then have a query in the respective <code>@Dao</code> annotated interface/abstract class, such as :-</p>\n<pre><code>@Query(&quot;SELECT *, (SELECT sum(amount) FROM salary WHERE empId=employee.id) AS salary  FROM employee&quot;)\nabstract List&lt;EmployeeWithSalary&gt; getEmployeesWithSalary();\n</code></pre>\n<p>You could then have your adapter use the List and the salary would then be available without the need to access the database a second time to extract the salary.</p>\n<p>As an example/demo consider the following based upon your code :-</p>\n<pre><code>@Entity\nclass Employee {\n   @PrimaryKey\n   Long id = null;\n   @ColumnInfo(index = true)\n   String employeeName;\n   // etc...\n\n   Employee(){}\n   @Ignore\n   Employee(String employeeName) {\n      this.id = null;\n      this.employeeName = employeeName;\n   }\n   @Ignore\n   Employee(Long employeeId, String employeeName) {\n      this.id = employeeId;\n      this.employeeName = employeeName;\n   }\n}\n\n@Entity\nclass Salary {\n   @PrimaryKey\n   Long salaryId = null;\n   long empId;\n   double amount;\n   // etc ....\n\n   Salary(){}\n   @Ignore\n   Salary(long empId, double amount) {\n      this.salaryId = null;\n      this.empId = empId;\n      this.amount = amount;\n   }\n}\n</code></pre>\n<p><strong>The new POJO</strong></p>\n<pre><code>class EmployeeWithSalary {\n   @Embedded\n   Employee employee;\n   double salary;\n}\n</code></pre>\n<p>A basic <code>@Dao</code> annotated abstract class (could be an interface,  abstract classes can include methods with bodies)</p>\n<pre><code>@Dao\nabstract class AllDao {\n\n   @Insert(onConflict = OnConflictStrategy.IGNORE)\n   abstract long insert(Employee employee);\n   @Insert(onConflict = OnConflictStrategy.IGNORE)\n   abstract long insert(Salary salary);\n\n   @Query(&quot;SELECT *, (SELECT sum(amount) FROM salary WHERE empId=employee.id) AS salary  FROM employee&quot;)\n   abstract List&lt;EmployeeWithSalary&gt; getEmployeesWithSalary();\n\n}\n</code></pre>\n<p>And to demonstrate (note that <code>.allowMainThreadQueries</code> has been used in the databaseBuilder for brevity of the demo) the following in an activity:-</p>\n<pre><code>    db = TheDatabase.getInstance(this);\n    dao = db.getAllDao();\n\n    long fredId = dao.insert(new Employee(&quot;Fred&quot;));\n    long maryId = dao.insert(new Employee(&quot;Mary&quot;));\n\n    dao.insert(new Salary(fredId,111.33));\n    dao.insert(new Salary(fredId,222.66));\n    dao.insert(new Salary(fredId,333.999));\n\n    dao.insert(new Salary(maryId,115.55));\n    dao.insert(new Salary(maryId,230.10));\n\n    for (EmployeeWithSalary ews: dao.getEmployeesWithSalary()) {\n        Log.d(&quot;EMPINFO&quot;,&quot;Employee is &quot; + ews.employee.employeeName + &quot; Salary is $&quot; + ews.salary);\n    }\n</code></pre>\n<p>and the log includes:-</p>\n<pre><code>D/EMPINFO: Employee is Fred Salary is $667.989\nD/EMPINFO: Employee is Mary Salary is $345.65\n</code></pre>\n"}],"owner":{"account_id":20600038,"reputation":9,"user_id":15121497,"display_name":"Taha Younis"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1661102228,"accepted_answer_id":73423020,"answer_count":1,"score":0,"last_activity_date":1660951166,"creation_date":1660943681,"question_id":73422314,"body_markdown":"I encountered a problem while learning the room database, I need help\r\nI have created the room database well and write the employees name in recyclerView\r\nThere is a query that I want to implement, and it collects all employees&#39; salaries and displays them in recyclerView\r\n\r\nI will shorten the codes\r\n\r\n**The Problem**\r\n\r\n    Attempt to invoke virtual method &#39;void com.app.roomdatabase.database.MyViewModel.getSalariesSum(long, com.app.roomdatabase.database.GetSalarySumListener)&#39; on a null object reference\r\n        at com.app.roomdatabase.Adapters.EmployeeSalaryAdapter$viewHolder.bind(EmployeeSalaryAdapter.java:68)\r\n        at com.app.roomdatabase.Adapters.EmployeeSalaryAdapter.onBindViewHolder(EmployeeSalaryAdapter.java:49)\r\n        at com.app.roomdatabase.Adapters.EmployeeSalaryAdapter.onBindViewHolder(EmployeeSalaryAdapter.java:19)\r\n\r\n**The query that i used for retrieve salaries**\r\n\r\n    @Query(&quot;select sum(amount) from salary where empId=:emp_id&quot;)\r\n    double getSalariesSum(long emp_id);\r\n\r\n**Repository**\r\n\r\n     public void getSalariesSum(long emp_id, GetSalarySumListener listener ) {\r\n        MyRoomDatabase.databaseWriteExecuter.execute(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                double value = salaryDAO.getSalariesSum(emp_id);\r\n                listener.onValueSubmit(value);\r\n            }\r\n        });\r\n\r\n**GetSalarySumListener **\r\n\r\n    public interface GetSalarySumListener {\r\n    void onValueSubmit(double value);}\r\n\r\n**ViewModel**\r\n\r\n    public void getSalariesSum(long emp_id, GetSalarySumListener listener ){\r\n        repository.getSalariesSum(emp_id,listener);\r\n    }\r\n\r\n**Adapter**\r\n\r\n    public class EmployeeSalaryAdapter extends RecyclerView.Adapter&lt;EmployeeSalaryAdapter.viewHolder&gt; {\r\n\r\n    List &lt;Employee&gt; employees;\r\n    private MyViewModel mvm;\r\n\r\n    public EmployeeSalaryAdapter(List &lt;Employee&gt; employees, MyViewModel mvm) {\r\n        this.employees = employees;\r\n        this.mvm = mvm;\r\n    }\r\n\r\n    public List &lt;Employee&gt; getEmployees() {\r\n        return employees;\r\n    }\r\n\r\n    public void setEmployees(List &lt;Employee&gt; employees) {\r\n        this.employees = employees;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public viewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        return new viewHolder(LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.emp_sal_item,parent,false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull EmployeeSalaryAdapter.viewHolder holder, int position) {\r\n        Employee employee = employees.get(position);\r\n        holder.bind(employee,mvm);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return employees.size();\r\n    }\r\n\r\n    public class viewHolder extends RecyclerView.ViewHolder {\r\n        EmpSalItemBinding binding;\r\n        Employee employee;\r\n        public viewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            binding= EmpSalItemBinding.bind(itemView);\r\n\r\n        }\r\n        public void bind(Employee employee, MyViewModel mvm) {\r\n            this.employee = employee;\r\n            binding.empNameTv.setText(employee.getName());\r\n            mvm.getSalariesSum(employee.getId(), new GetSalarySumListener() {\r\n                @Override\r\n                public void onValueSubmit(double value) {\r\n                    binding.empSalaryTv.setText(String.valueOf(value));\r\n                }\r\n            });\r\n        }\r\n    }","title":"Using room database to retrieve salaries for employees","body":"<p>I encountered a problem while learning the room database, I need help\nI have created the room database well and write the employees name in recyclerView\nThere is a query that I want to implement, and it collects all employees' salaries and displays them in recyclerView</p>\n<p>I will shorten the codes</p>\n<p><strong>The Problem</strong></p>\n<pre><code>Attempt to invoke virtual method 'void com.app.roomdatabase.database.MyViewModel.getSalariesSum(long, com.app.roomdatabase.database.GetSalarySumListener)' on a null object reference\n    at com.app.roomdatabase.Adapters.EmployeeSalaryAdapter$viewHolder.bind(EmployeeSalaryAdapter.java:68)\n    at com.app.roomdatabase.Adapters.EmployeeSalaryAdapter.onBindViewHolder(EmployeeSalaryAdapter.java:49)\n    at com.app.roomdatabase.Adapters.EmployeeSalaryAdapter.onBindViewHolder(EmployeeSalaryAdapter.java:19)\n</code></pre>\n<p><strong>The query that i used for retrieve salaries</strong></p>\n<pre><code>@Query(&quot;select sum(amount) from salary where empId=:emp_id&quot;)\ndouble getSalariesSum(long emp_id);\n</code></pre>\n<p><strong>Repository</strong></p>\n<pre><code> public void getSalariesSum(long emp_id, GetSalarySumListener listener ) {\n    MyRoomDatabase.databaseWriteExecuter.execute(new Runnable() {\n        @Override\n        public void run() {\n            double value = salaryDAO.getSalariesSum(emp_id);\n            listener.onValueSubmit(value);\n        }\n    });\n</code></pre>\n<p>**GetSalarySumListener **</p>\n<pre><code>public interface GetSalarySumListener {\nvoid onValueSubmit(double value);}\n</code></pre>\n<p><strong>ViewModel</strong></p>\n<pre><code>public void getSalariesSum(long emp_id, GetSalarySumListener listener ){\n    repository.getSalariesSum(emp_id,listener);\n}\n</code></pre>\n<p><strong>Adapter</strong></p>\n<pre><code>public class EmployeeSalaryAdapter extends RecyclerView.Adapter&lt;EmployeeSalaryAdapter.viewHolder&gt; {\n\nList &lt;Employee&gt; employees;\nprivate MyViewModel mvm;\n\npublic EmployeeSalaryAdapter(List &lt;Employee&gt; employees, MyViewModel mvm) {\n    this.employees = employees;\n    this.mvm = mvm;\n}\n\npublic List &lt;Employee&gt; getEmployees() {\n    return employees;\n}\n\npublic void setEmployees(List &lt;Employee&gt; employees) {\n    this.employees = employees;\n    notifyDataSetChanged();\n}\n\n@NonNull\n@Override\npublic viewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n    return new viewHolder(LayoutInflater.from(parent.getContext())\n            .inflate(R.layout.emp_sal_item,parent,false));\n}\n\n@Override\npublic void onBindViewHolder(@NonNull EmployeeSalaryAdapter.viewHolder holder, int position) {\n    Employee employee = employees.get(position);\n    holder.bind(employee,mvm);\n}\n\n@Override\npublic int getItemCount() {\n    return employees.size();\n}\n\npublic class viewHolder extends RecyclerView.ViewHolder {\n    EmpSalItemBinding binding;\n    Employee employee;\n    public viewHolder(@NonNull View itemView) {\n        super(itemView);\n        binding= EmpSalItemBinding.bind(itemView);\n\n    }\n    public void bind(Employee employee, MyViewModel mvm) {\n        this.employee = employee;\n        binding.empNameTv.setText(employee.getName());\n        mvm.getSalariesSum(employee.getId(), new GetSalarySumListener() {\n            @Override\n            public void onValueSubmit(double value) {\n                binding.empSalaryTv.setText(String.valueOf(value));\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","javafx-8"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1409156160,"creation_date":1409156160,"answer_id":25532170,"question_id":25531743,"body_markdown":"`lookup(...)` will generally return null until a CSS pass has been made, which usually means you need to do it after showing the stage (but possibly after that).\r\n\r\nBut this is really not the right way to do what you&#39;re trying to do. Define a controller, set an `fx:id` on your `TreeView` and perform the initialization in the controller&#39;s `initialize()` method.","title":"JavaFX-8 - unable to find any node within SplitPane container","body":"<p><code>lookup(...)</code> will generally return null until a CSS pass has been made, which usually means you need to do it after showing the stage (but possibly after that).</p>\n\n<p>But this is really not the right way to do what you're trying to do. Define a controller, set an <code>fx:id</code> on your <code>TreeView</code> and perform the initialization in the controller's <code>initialize()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":16314712,"reputation":1,"user_id":11782213,"display_name":"Nindaime"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1660950481,"creation_date":1660950481,"answer_id":73423026,"question_id":25531743,"body_markdown":"In my experience, the JavaFX splitpane has a different structure than other subclasses of the Pane class. I have encountered this issue, how I fixed it was to call the getItems() to get an Item of the splitpane which should be a container type e.g. anchorpane, stackpane etc. then performed the lookup method there and it worked just fine.\r\n\r\n    FXMLLoader pageLoader = new FXMLLoader(LoginPageController.class.getResource(&quot;FriendListPage.fxml&quot;));\r\n            SplitPane friendListPage = (SplitPane) pageLoader.load();    \r\n    \r\n    AnchorPane addFriendSubWindow = (AnchorPane) friendListPage.getItems().get(0);\r\n    \r\n            Button btnCloseFriendWindow = (Button) addFriendSubWindow.lookup(&quot;#btnCloseFriendWindow&quot;);\r\n            \r\n            btnCloseFriendWindow.setOnAction(event -&gt; {\r\n                if(!extraPanelContainer.getChildren().isEmpty())\r\n                    extraPanelContainer.getChildren().clear();\r\n                clearFriendList(friendListPage);\r\n            });\r\n\r\nthe btnCloseFriendWindow.setOnAction() used to return null, till I used this approach.","title":"JavaFX-8 - unable to find any node within SplitPane container","body":"<p>In my experience, the JavaFX splitpane has a different structure than other subclasses of the Pane class. I have encountered this issue, how I fixed it was to call the getItems() to get an Item of the splitpane which should be a container type e.g. anchorpane, stackpane etc. then performed the lookup method there and it worked just fine.</p>\n<pre><code>FXMLLoader pageLoader = new FXMLLoader(LoginPageController.class.getResource(&quot;FriendListPage.fxml&quot;));\n        SplitPane friendListPage = (SplitPane) pageLoader.load();    \n\nAnchorPane addFriendSubWindow = (AnchorPane) friendListPage.getItems().get(0);\n\n        Button btnCloseFriendWindow = (Button) addFriendSubWindow.lookup(&quot;#btnCloseFriendWindow&quot;);\n        \n        btnCloseFriendWindow.setOnAction(event -&gt; {\n            if(!extraPanelContainer.getChildren().isEmpty())\n                extraPanelContainer.getChildren().clear();\n            clearFriendList(friendListPage);\n        });\n</code></pre>\n<p>the btnCloseFriendWindow.setOnAction() used to return null, till I used this approach.</p>\n"}],"owner":{"account_id":4649671,"reputation":314,"user_id":3766891,"accept_rate":100,"display_name":"tty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":25532170,"answer_count":2,"score":0,"last_activity_date":1660950481,"creation_date":1409154843,"question_id":25531743,"body_markdown":"I need to load JavaFX TreeView data at application startup. The problem is node lookup() method always return null.\r\n\r\n**CODE**\r\n\r\n    public class Main extends Application {\r\n    \r\n        public static final String APPLICATION_NAME = &quot;testapp&quot; ;\r\n    \r\n        public static void main(String args[]) {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception {\r\n            String fxml = &quot;/fxml/main-window.fxml&quot;;\r\n            String globalCss = &quot;/styles/main.css&quot;;\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(fxml));\r\n            Parent root = (Parent) loader.load();\r\n            Scene scene = new Scene(root);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.getScene().getStylesheets().add(globalCss);\r\n            primaryStage.setMaximized(true);\r\n    \r\n            TreeView treevw = (TreeView) scene.lookup(&quot;#treevw&quot;);\r\n            // lazy init here\r\n    \r\n            primaryStage.show();\r\n        }\r\n    }\r\n\r\n**FXML**\r\n\r\n[http://pastebin.com/aC2gHMjp][1]\r\n\r\n    java version &quot;1.8.0_20&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_20-b26)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.20-b23, mixed mode)\r\n\r\ni&#39;ve  found [this][2] solution but it doesn&#39;t work for me (both).\r\n\r\nCan anybody please help to solve the issue?\r\n\r\n\r\n  [1]: http://pastebin.com/aC2gHMjp\r\n  [2]: https://stackoverflow.com/questions/12324799/javafx-2-0-fxml-strange-lookup-behaviour","title":"JavaFX-8 - unable to find any node within SplitPane container","body":"<p>I need to load JavaFX TreeView data at application startup. The problem is node lookup() method always return null.</p>\n\n<p><strong>CODE</strong></p>\n\n<pre><code>public class Main extends Application {\n\n    public static final String APPLICATION_NAME = \"testapp\" ;\n\n    public static void main(String args[]) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        String fxml = \"/fxml/main-window.fxml\";\n        String globalCss = \"/styles/main.css\";\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(fxml));\n        Parent root = (Parent) loader.load();\n        Scene scene = new Scene(root);\n        primaryStage.setScene(scene);\n        primaryStage.getScene().getStylesheets().add(globalCss);\n        primaryStage.setMaximized(true);\n\n        TreeView treevw = (TreeView) scene.lookup(\"#treevw\");\n        // lazy init here\n\n        primaryStage.show();\n    }\n}\n</code></pre>\n\n<p><strong>FXML</strong></p>\n\n<p><a href=\"http://pastebin.com/aC2gHMjp\" rel=\"nofollow noreferrer\">http://pastebin.com/aC2gHMjp</a></p>\n\n<pre><code>java version \"1.8.0_20\"\nJava(TM) SE Runtime Environment (build 1.8.0_20-b26)\nJava HotSpot(TM) 64-Bit Server VM (build 25.20-b23, mixed mode)\n</code></pre>\n\n<p>i've  found <a href=\"https://stackoverflow.com/questions/12324799/javafx-2-0-fxml-strange-lookup-behaviour\">this</a> solution but it doesn't work for me (both).</p>\n\n<p>Can anybody please help to solve the issue?</p>\n"},{"tags":["java","hql"],"comments":[{"owner":{"account_id":14679090,"reputation":1359,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1660950862,"post_id":73423004,"comment_id":129662900,"body_markdown":"Are you looking for a [join](https://stackoverflow.com/a/1167969/10601203) in HQL? Also those fields in `User` are pulled down every single time you get a user, just because of the many-to-many join. They aren&#39;t lazy loading, they&#39;re eager loading. If you&#39;re worried about getting every single result, I would just get rid of that relationship altogether (from the code at least) and just manually query the user id from `Book` when you need the books. This way you can also use [limit and offset](https://stackoverflow.com/a/11655956/10601203) for server side pagination.","body":"Are you looking for a <a href=\"https://stackoverflow.com/a/1167969/10601203\">join</a> in HQL? Also those fields in <code>User</code> are pulled down every single time you get a user, just because of the many-to-many join. They aren&#39;t lazy loading, they&#39;re eager loading. If you&#39;re worried about getting every single result, I would just get rid of that relationship altogether (from the code at least) and just manually query the user id from <code>Book</code> when you need the books. This way you can also use <a href=\"https://stackoverflow.com/a/11655956/10601203\">limit and offset</a> for server side pagination."},{"owner":{"account_id":20070097,"reputation":124,"user_id":14715055,"display_name":"Umut Emre &#214;nder"},"score":0,"creation_date":1660952263,"post_id":73423004,"comment_id":129663074,"body_markdown":"Are you sure about the default fetch type of the ManyToMany annotation? I think it is set to LAZY default. Even so, I use Dto classes in queries, not the entities themselves, and these lists are not there. Therefore, I&#39;m not fetching those fields every time. Still, thanks for the suggestion.","body":"Are you sure about the default fetch type of the ManyToMany annotation? I think it is set to LAZY default. Even so, I use Dto classes in queries, not the entities themselves, and these lists are not there. Therefore, I&#39;m not fetching those fields every time. Still, thanks for the suggestion."}],"owner":{"account_id":20070097,"reputation":124,"user_id":14715055,"display_name":"Umut Emre &#214;nder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660950332,"creation_date":1660950332,"question_id":73423004,"body_markdown":"I am 100% sure I did not fully explain my question in the title. My English wasn&#39;t enough to explain.\r\n\r\nI have 2 Entities. `User` and `Book`. User has a list named `readBooks`. I want to reach the books in that list using HQL.\r\n\r\n```java\r\n@Entity\r\npublic class Book {\r\n ... (nothing about users)\r\n}\r\n```\r\n\r\n```java\r\n@Entity\r\npublic class User extends BaseUser {\r\n    @ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\r\n    private List&lt;Book&gt; readList;\r\n\r\n    @ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\r\n    private List&lt;Book&gt; favoriteList;\r\n}\r\n```\r\n\r\n\r\nI know I can easily reach the `readList` with `user.getReadList()`. However, I need to reach that list using HQL so that I can apply server-side pagination and sorting easily by just adding a `Pagable` to the function. \r\n","title":"HQL Command to Get List of Entity of Another Entity","body":"<p>I am 100% sure I did not fully explain my question in the title. My English wasn't enough to explain.</p>\n<p>I have 2 Entities. <code>User</code> and <code>Book</code>. User has a list named <code>readBooks</code>. I want to reach the books in that list using HQL.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Book {\n ... (nothing about users)\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class User extends BaseUser {\n    @ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\n    private List&lt;Book&gt; readList;\n\n    @ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\n    private List&lt;Book&gt; favoriteList;\n}\n</code></pre>\n<p>I know I can easily reach the <code>readList</code> with <code>user.getReadList()</code>. However, I need to reach that list using HQL so that I can apply server-side pagination and sorting easily by just adding a <code>Pagable</code> to the function.</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1339792326,"post_id":10993236,"comment_id":14467891,"body_markdown":"Where are your fragments located? What does the document element of your `web.xml` file look like? What version of Tomcat are you running?","body":"Where are your fragments located? What does the document element of your <code>web.xml</code> file look like? What version of Tomcat are you running?"}],"answers":[{"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1643303899,"creation_date":1339670624,"answer_id":11031427,"question_id":10993236,"body_markdown":"&gt; Strange thing now is that we have a web-fragment.xml, but some of its contents doesn&#39;t get added to the effective web.xml.\r\n\r\nWell first of all, a `web-fragment.xml` wouldn&#39;t get *physically* included into the main `web.xml`. So when you say it doesn&#39;t get added to the effective `web.xml`, I feel you may be going wrong there.\r\n\r\nWeb fragments allow compoments to register themselves to the main `web.xml` at runtime. The only evidence you will find of this happening is by actually trying to use the compoment.\r\n\r\nI tried out a simple hello-world example with web fragments and got it to work. I used Tomcat 7 for this with a Servlet 3.0 webapp.\r\n\r\nMy main `web.xml` inside `WEB-INF` looks like the below:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n    \t&lt;display-name&gt;hello-world&lt;/display-name&gt;\r\n    \r\n    \t&lt;absolute-ordering&gt;\r\n    \t\t&lt;name&gt;filters&lt;/name&gt;\r\n    \t&lt;/absolute-ordering&gt;\r\n    &lt;/web-app&gt;\r\n\r\nI figured out that the only way we could register a `web-fragment.xml` was by adhering to the below rules:\r\n\r\n1. It must be named `web-fragment.xml`\r\n2. It must be placed in a JAR file inside `WEB-INF/lib`\r\n3. The `web-fragment.xml` must be present inside the `META-INF` directory of the JAR file.\r\n\r\nMy `web-fragment.xml` looks like:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-fragment xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-fragment_3_0.xsd&quot; id=&quot;WebAppFragment_ID&quot; version=&quot;3.0&quot;&gt;\r\n        &lt;name&gt;filters&lt;/name&gt;\r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;interceptor&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;com.adarshr.Interceptor&lt;/filter-class&gt;\r\n        &lt;/filter&gt;\r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;interceptor&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n    &lt;/web-fragment&gt;\r\n\r\nWith the above minimal setup, I was able to get the `Interceptor` filter to get fired, though it was placed in the `web-fragment.xml`.\r\n\r\nFinally, here is my directory structure (generated using http://www.adarshr.com/treegen)\r\n\r\n    +- hello-world\r\n       |\r\n       +- WEB-INF\r\n           |\r\n           +- lib\r\n           |   |\r\n           |   |- my-library.jar\r\n           |\r\n           |- web.xml\r\n\r\n\r\nThe JAR file `my-library.jar` has the below structure:\r\n\r\n    +- my-library.jar\r\n       |\r\n       +- META-INF\r\n           |\r\n           |- web-fragment.xml\r\n\r\nSome references:\r\n\r\n - https://blogs.oracle.com/swchan/entry/servlet_3_0_web_fragment\r\n - http://java.sun.com/developer/technicalArticles/JavaEE/JavaEE6Overview_Part2.html\r\n","title":"Missing elements from web-fragment.xml in the effective web.xml","body":"<blockquote>\n<p>Strange thing now is that we have a web-fragment.xml, but some of its contents doesn't get added to the effective web.xml.</p>\n</blockquote>\n<p>Well first of all, a <code>web-fragment.xml</code> wouldn't get <em>physically</em> included into the main <code>web.xml</code>. So when you say it doesn't get added to the effective <code>web.xml</code>, I feel you may be going wrong there.</p>\n<p>Web fragments allow compoments to register themselves to the main <code>web.xml</code> at runtime. The only evidence you will find of this happening is by actually trying to use the compoment.</p>\n<p>I tried out a simple hello-world example with web fragments and got it to work. I used Tomcat 7 for this with a Servlet 3.0 webapp.</p>\n<p>My main <code>web.xml</code> inside <code>WEB-INF</code> looks like the below:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\n    &lt;display-name&gt;hello-world&lt;/display-name&gt;\n\n    &lt;absolute-ordering&gt;\n        &lt;name&gt;filters&lt;/name&gt;\n    &lt;/absolute-ordering&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>I figured out that the only way we could register a <code>web-fragment.xml</code> was by adhering to the below rules:</p>\n<ol>\n<li>It must be named <code>web-fragment.xml</code></li>\n<li>It must be placed in a JAR file inside <code>WEB-INF/lib</code></li>\n<li>The <code>web-fragment.xml</code> must be present inside the <code>META-INF</code> directory of the JAR file.</li>\n</ol>\n<p>My <code>web-fragment.xml</code> looks like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-fragment xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-fragment_3_0.xsd&quot; id=&quot;WebAppFragment_ID&quot; version=&quot;3.0&quot;&gt;\n    &lt;name&gt;filters&lt;/name&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;interceptor&lt;/filter-name&gt;\n        &lt;filter-class&gt;com.adarshr.Interceptor&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;interceptor&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n&lt;/web-fragment&gt;\n</code></pre>\n<p>With the above minimal setup, I was able to get the <code>Interceptor</code> filter to get fired, though it was placed in the <code>web-fragment.xml</code>.</p>\n<p>Finally, here is my directory structure (generated using <a href=\"http://www.adarshr.com/treegen\" rel=\"nofollow noreferrer\">http://www.adarshr.com/treegen</a>)</p>\n<pre><code>+- hello-world\n   |\n   +- WEB-INF\n       |\n       +- lib\n       |   |\n       |   |- my-library.jar\n       |\n       |- web.xml\n</code></pre>\n<p>The JAR file <code>my-library.jar</code> has the below structure:</p>\n<pre><code>+- my-library.jar\n   |\n   +- META-INF\n       |\n       |- web-fragment.xml\n</code></pre>\n<p>Some references:</p>\n<ul>\n<li><a href=\"https://blogs.oracle.com/swchan/entry/servlet_3_0_web_fragment\" rel=\"nofollow noreferrer\">https://blogs.oracle.com/swchan/entry/servlet_3_0_web_fragment</a></li>\n<li><a href=\"http://java.sun.com/developer/technicalArticles/JavaEE/JavaEE6Overview_Part2.html\" rel=\"nofollow noreferrer\">http://java.sun.com/developer/technicalArticles/JavaEE/JavaEE6Overview_Part2.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3343828,"reputation":41,"user_id":2809412,"display_name":"Beilei Huang"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1379993596,"creation_date":1379992052,"answer_id":18972316,"question_id":10993236,"body_markdown":"Maybe you can check on `web.xml` that `metadata-complete=&quot;true&quot;` is not set. According to the Servlet spec if this flag is set to true, it will not load `web-fragment.xml` or any annotation such as `@WebFilter`","title":"Missing elements from web-fragment.xml in the effective web.xml","body":"<p>Maybe you can check on <code>web.xml</code> that <code>metadata-complete=\"true\"</code> is not set. According to the Servlet spec if this flag is set to true, it will not load <code>web-fragment.xml</code> or any annotation such as <code>@WebFilter</code></p>\n"},{"tags":[],"owner":{"account_id":211729,"reputation":588,"user_id":464087,"display_name":"EricS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660950144,"creation_date":1660950144,"answer_id":73422990,"question_id":10993236,"body_markdown":"I believe you were running into what I explained in answer to [this question][1].\r\n\r\nservet-mappings with the same servlet-name and filter-mappings with the same filter-name occurring in web-fragments are overridden by those in web.xml. They are only additive *across* web-fragments.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21248491/can-i-refer-a-servlet-or-filter-in-web-xml-from-web-fragment-xml/73422964#73422964","title":"Missing elements from web-fragment.xml in the effective web.xml","body":"<p>I believe you were running into what I explained in answer to <a href=\"https://stackoverflow.com/questions/21248491/can-i-refer-a-servlet-or-filter-in-web-xml-from-web-fragment-xml/73422964#73422964\">this question</a>.</p>\n<p>servet-mappings with the same servlet-name and filter-mappings with the same filter-name occurring in web-fragments are overridden by those in web.xml. They are only additive <em>across</em> web-fragments.</p>\n"}],"owner":{"account_id":342508,"reputation":1337,"user_id":673696,"accept_rate":70,"display_name":"pderaaij"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9168,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1660950144,"creation_date":1339490900,"question_id":10993236,"body_markdown":"In our project we make use of web-fragments to define some servlets so the artifacts easily can be used in other projects.\r\n\r\nStrange thing now is that we have a web-fragment.xml, but some of its contents doesn&#39;t get added to the effective web.xml.\r\n\r\nBy example:\r\n\r\nThe following configurations is present in the effective web.xml:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;superUserAutomaticLogon&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;nl.caiw.cool.util.filters.SuperUserAutomaticLogonFilter&lt;/filter-class&gt;\r\n        &lt;async-supported&gt;false&lt;/async-supported&gt;\r\n    &lt;/filter&gt;\r\n\r\nBut the following isn&#39;t:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;sitemesh&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;com.opensymphony.module.sitemesh.filter.PageFilter&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n    \r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;sitemesh&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/toolbox/modules/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\nWe have tried several things, but we can&#39;t figure it out. Hopefully someone here can send us  in the right direction.\r\n\r\nThanks in advance.\r\n","title":"Missing elements from web-fragment.xml in the effective web.xml","body":"<p>In our project we make use of web-fragments to define some servlets so the artifacts easily can be used in other projects.</p>\n\n<p>Strange thing now is that we have a web-fragment.xml, but some of its contents doesn't get added to the effective web.xml.</p>\n\n<p>By example:</p>\n\n<p>The following configurations is present in the effective web.xml:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter&gt;\n    &lt;filter-name&gt;superUserAutomaticLogon&lt;/filter-name&gt;\n    &lt;filter-class&gt;nl.caiw.cool.util.filters.SuperUserAutomaticLogonFilter&lt;/filter-class&gt;\n    &lt;async-supported&gt;false&lt;/async-supported&gt;\n&lt;/filter&gt;\n</code></pre>\n\n<p>But the following isn't:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter&gt;\n    &lt;filter-name&gt;sitemesh&lt;/filter-name&gt;\n    &lt;filter-class&gt;com.opensymphony.module.sitemesh.filter.PageFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;sitemesh&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/toolbox/modules/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p>We have tried several things, but we can't figure it out. Hopefully someone here can send us  in the right direction.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","velocity"],"answers":[{"tags":[],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"down_vote_count":0,"up_vote_count":88,"is_accepted":true,"score":88,"last_activity_date":1515087660,"creation_date":1253103135,"answer_id":1432587,"question_id":1432468,"body_markdown":"There is some overhead parsing template. You might see some performance gain by pre-parsing the template if your template is large and you use it repeatedly. You can do something like this,\r\n\r\n    RuntimeServices runtimeServices = RuntimeSingleton.getRuntimeServices();\r\n    StringReader reader = new StringReader(bufferForYourTemplate);\r\n    Template template = new Template();\r\n    template.setRuntimeServices(runtimeServices);\r\n\r\n    /*\r\n     * The following line works for Velocity version up to 1.7\r\n     * For version 2, replace &quot;Template name&quot; with the variable, template\r\n     */\r\n    template.setData(runtimeServices.parse(reader, &quot;Template name&quot;)));\r\n\r\n    template.initDocument();\r\n \r\nThen you can call `template.merge()` over and over again without parsing it everytime.\r\n\r\nBTW, you can pass String directly to `Velocity.evaluate()`.","title":"How to use String as Velocity Template?","body":"<p>There is some overhead parsing template. You might see some performance gain by pre-parsing the template if your template is large and you use it repeatedly. You can do something like this,</p>\n\n<pre><code>RuntimeServices runtimeServices = RuntimeSingleton.getRuntimeServices();\nStringReader reader = new StringReader(bufferForYourTemplate);\nTemplate template = new Template();\ntemplate.setRuntimeServices(runtimeServices);\n\n/*\n * The following line works for Velocity version up to 1.7\n * For version 2, replace \"Template name\" with the variable, template\n */\ntemplate.setData(runtimeServices.parse(reader, \"Template name\")));\n\ntemplate.initDocument();\n</code></pre>\n\n<p>Then you can call <code>template.merge()</code> over and over again without parsing it everytime.</p>\n\n<p>BTW, you can pass String directly to <code>Velocity.evaluate()</code>.</p>\n"},{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1457017672,"creation_date":1457017672,"answer_id":35775791,"question_id":1432468,"body_markdown":"The above sample code is working for me. It uses Velocity version 1.7 and log4j.  \r\n  \r\n    private static void velocityWithStringTemplateExample() {\r\n        // Initialize the engine.\r\n        VelocityEngine engine = new VelocityEngine();\r\n        engine.setProperty(RuntimeConstants.RUNTIME_LOG_LOGSYSTEM_CLASS, &quot;org.apache.velocity.runtime.log.Log4JLogChute&quot;);\r\n        engine.setProperty(&quot;runtime.log.logsystem.log4j.logger&quot;, LOGGER.getName());\r\n        engine.setProperty(Velocity.RESOURCE_LOADER, &quot;string&quot;);\r\n        engine.addProperty(&quot;string.resource.loader.class&quot;, StringResourceLoader.class.getName());\r\n        engine.addProperty(&quot;string.resource.loader.repository.static&quot;, &quot;false&quot;);\r\n        //  engine.addProperty(&quot;string.resource.loader.modificationCheckInterval&quot;, &quot;1&quot;);\r\n        engine.init();\r\n\r\n        // Initialize my template repository. You can replace the &quot;Hello $w&quot; with your String.\r\n        StringResourceRepository repo = (StringResourceRepository) engine.getApplicationAttribute(StringResourceLoader.REPOSITORY_NAME_DEFAULT);\r\n        repo.putStringResource(&quot;woogie2&quot;, &quot;Hello $w&quot;);\r\n\r\n        // Set parameters for my template.\r\n        VelocityContext context = new VelocityContext();\r\n        context.put(&quot;w&quot;, &quot;world!&quot;);\r\n\r\n        // Get and merge the template with my parameters.\r\n        Template template = engine.getTemplate(&quot;woogie2&quot;);\r\n        StringWriter writer = new StringWriter();\r\n        template.merge(context, writer);\r\n        \r\n        // Show the result.\r\n        System.out.println(writer.toString());\r\n    }\r\n  \r\nA [similar](https://stackoverflow.com/questions/6521871/apaches-velocity-gettemplate-how-to-pass-string-object-instead-of-vm-fil/35775745#35775745) so question.","title":"How to use String as Velocity Template?","body":"<p>The above sample code is working for me. It uses Velocity version 1.7 and log4j.  </p>\n\n<pre><code>private static void velocityWithStringTemplateExample() {\n    // Initialize the engine.\n    VelocityEngine engine = new VelocityEngine();\n    engine.setProperty(RuntimeConstants.RUNTIME_LOG_LOGSYSTEM_CLASS, \"org.apache.velocity.runtime.log.Log4JLogChute\");\n    engine.setProperty(\"runtime.log.logsystem.log4j.logger\", LOGGER.getName());\n    engine.setProperty(Velocity.RESOURCE_LOADER, \"string\");\n    engine.addProperty(\"string.resource.loader.class\", StringResourceLoader.class.getName());\n    engine.addProperty(\"string.resource.loader.repository.static\", \"false\");\n    //  engine.addProperty(\"string.resource.loader.modificationCheckInterval\", \"1\");\n    engine.init();\n\n    // Initialize my template repository. You can replace the \"Hello $w\" with your String.\n    StringResourceRepository repo = (StringResourceRepository) engine.getApplicationAttribute(StringResourceLoader.REPOSITORY_NAME_DEFAULT);\n    repo.putStringResource(\"woogie2\", \"Hello $w\");\n\n    // Set parameters for my template.\n    VelocityContext context = new VelocityContext();\n    context.put(\"w\", \"world!\");\n\n    // Get and merge the template with my parameters.\n    Template template = engine.getTemplate(\"woogie2\");\n    StringWriter writer = new StringWriter();\n    template.merge(context, writer);\n\n    // Show the result.\n    System.out.println(writer.toString());\n}\n</code></pre>\n\n<p>A <a href=\"https://stackoverflow.com/questions/6521871/apaches-velocity-gettemplate-how-to-pass-string-object-instead-of-vm-fil/35775745#35775745\">similar</a> so question.</p>\n"},{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508843434,"creation_date":1508843434,"answer_id":46909004,"question_id":1432468,"body_markdown":"Velocity 2 can be integrated into the JSR223 [Java Scripting Language Framework][1] which make another option to transform string as a template:\r\n\r\n    ScriptEngineManager manager = new ScriptEngineManager();\r\n    manager.registerEngineName(&quot;velocity&quot;, new VelocityScriptEngineFactory());\r\n    ScriptEngine engine = manager.getEngineByName(&quot;velocity&quot;);\r\n    \r\n    \r\n    System.setProperty(VelocityScriptEngine.VELOCITY_PROPERTIES, &quot;path/to/velocity.properties&quot;);\r\n    String script = &quot;Hello $world&quot;;\r\n    Writer writer = new StringWriter();\r\n    engine.getContext().setWriter(writer);\r\n    Object result = engine.eval(script);\r\n    System.out.println(writer);\r\n\r\n[1]:http://velocity.apache.org/engine/2.0/developer-guide.html#velocity-scripting","title":"How to use String as Velocity Template?","body":"<p>Velocity 2 can be integrated into the JSR223 <a href=\"http://velocity.apache.org/engine/2.0/developer-guide.html#velocity-scripting\" rel=\"nofollow noreferrer\">Java Scripting Language Framework</a> which make another option to transform string as a template:</p>\n\n<pre><code>ScriptEngineManager manager = new ScriptEngineManager();\nmanager.registerEngineName(\"velocity\", new VelocityScriptEngineFactory());\nScriptEngine engine = manager.getEngineByName(\"velocity\");\n\n\nSystem.setProperty(VelocityScriptEngine.VELOCITY_PROPERTIES, \"path/to/velocity.properties\");\nString script = \"Hello $world\";\nWriter writer = new StringWriter();\nengine.getContext().setWriter(writer);\nObject result = engine.eval(script);\nSystem.out.println(writer);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14867653,"reputation":21,"user_id":10736161,"display_name":"otmek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543784120,"creation_date":1543784120,"answer_id":53584523,"question_id":1432468,"body_markdown":"    RuntimeServices rs = RuntimeSingleton.getRuntimeServices();            \r\n    StringReader sr = new StringReader(&quot;Username is $username&quot;);\r\n    SimpleNode sn = rs.parse(sr, &quot;User Information&quot;);\r\n     \r\n    Template t = new Template();\r\n        t.setRuntimeServices(rs);\r\n        t.setData(sn);\r\n        t.initDocument();\r\n     \r\n    VelocityContext vc = new VelocityContext();\r\n    vc.put(&quot;username&quot;, &quot;John&quot;);\r\n     \r\n    StringWriter sw = new StringWriter();\r\n    t.merge(vc, sw);\r\n         \r\n    System.out.println(sw.toString());","title":"How to use String as Velocity Template?","body":"<pre><code>RuntimeServices rs = RuntimeSingleton.getRuntimeServices();            \nStringReader sr = new StringReader(\"Username is $username\");\nSimpleNode sn = rs.parse(sr, \"User Information\");\n\nTemplate t = new Template();\n    t.setRuntimeServices(rs);\n    t.setData(sn);\n    t.initDocument();\n\nVelocityContext vc = new VelocityContext();\nvc.put(\"username\", \"John\");\n\nStringWriter sw = new StringWriter();\nt.merge(vc, sw);\n\nSystem.out.println(sw.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1660947869,"creation_date":1576768580,"answer_id":59412507,"question_id":1432468,"body_markdown":"This works in Velocity 2.1\r\n\r\n```java\r\n// Initialize the engine\r\nVelocityEngine velocityEngine = new VelocityEngine();\r\nvelocityEngine.setProperty(Velocity.RESOURCE_LOADERS, &quot;string&quot;);\r\nvelocityEngine.setProperty(&quot;resource.loader.string.class&quot;, StringResourceLoader.class.getName());\r\nvelocityEngine.setProperty(&quot;resource.loader.string.cache&quot;, true);\r\nvelocityEngine.setProperty(&quot;resource.loader.string.modification_check_interval&quot;, 60);\r\nvelocityEngine.init();\r\n\r\n// Add template to repository\r\nStringResourceRepository repository = StringResourceLoader.getRepository();\r\nrepository.putStringResource(&quot;hello_world&quot;, &quot;Hello $w&quot;);\r\n\r\n// Set parameters\r\nVelocityContext context = new VelocityContext();\r\ncontext.put(&quot;w&quot;, &quot;world!&quot;);\r\n\r\n// Process the template\r\nStringWriter writer = new StringWriter();\r\nvelocityEngine.getTemplate(&quot;hello_world&quot;).merge( context, writer );\r\n\r\nSystem.out.println(writer.toString());\r\n```","title":"How to use String as Velocity Template?","body":"<p>This works in Velocity 2.1</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Initialize the engine\nVelocityEngine velocityEngine = new VelocityEngine();\nvelocityEngine.setProperty(Velocity.RESOURCE_LOADERS, &quot;string&quot;);\nvelocityEngine.setProperty(&quot;resource.loader.string.class&quot;, StringResourceLoader.class.getName());\nvelocityEngine.setProperty(&quot;resource.loader.string.cache&quot;, true);\nvelocityEngine.setProperty(&quot;resource.loader.string.modification_check_interval&quot;, 60);\nvelocityEngine.init();\n\n// Add template to repository\nStringResourceRepository repository = StringResourceLoader.getRepository();\nrepository.putStringResource(&quot;hello_world&quot;, &quot;Hello $w&quot;);\n\n// Set parameters\nVelocityContext context = new VelocityContext();\ncontext.put(&quot;w&quot;, &quot;world!&quot;);\n\n// Process the template\nStringWriter writer = new StringWriter();\nvelocityEngine.getTemplate(&quot;hello_world&quot;).merge( context, writer );\n\nSystem.out.println(writer.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5124438,"reputation":2515,"user_id":4107038,"accept_rate":44,"display_name":"Rajat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612440347,"creation_date":1612440347,"answer_id":66045272,"question_id":1432468,"body_markdown":"If you are looking for just variable substitution then following works\r\n\r\n    public String velocityEvaluate(final String template, final NotificationDTO notificationDTO) {\r\n        final Map&lt;String, String&gt; context = getContextMap(notificationDTO);\r\n        final VelocityContext velocityContext = new VelocityContext(context);\r\n        final StringWriter stringWriter = new StringWriter();\r\n        final StringReader reader = new StringReader(template);\r\n        Velocity.evaluate(velocityContext, stringWriter, &quot;Velocity String Template Evaluation&quot;, reader);\r\n        return stringWriter.toString();\r\n    }","title":"How to use String as Velocity Template?","body":"<p>If you are looking for just variable substitution then following works</p>\n<pre><code>public String velocityEvaluate(final String template, final NotificationDTO notificationDTO) {\n    final Map&lt;String, String&gt; context = getContextMap(notificationDTO);\n    final VelocityContext velocityContext = new VelocityContext(context);\n    final StringWriter stringWriter = new StringWriter();\n    final StringReader reader = new StringReader(template);\n    Velocity.evaluate(velocityContext, stringWriter, &quot;Velocity String Template Evaluation&quot;, reader);\n    return stringWriter.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25676540,"reputation":1,"user_id":19439889,"display_name":"Apurv Sheth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656470928,"creation_date":1656470928,"answer_id":72795243,"question_id":1432468,"body_markdown":"In case if any one looking to transform from json string to json object, in that case, need to convert json string to JsonNode &amp; store it in context.\r\nFor Ex:\r\n   \r\n\r\n    String jsonDataAsString = &quot;{&quot;name&quot;: &quot;Aps&quot;}&quot;;\r\n    JsonNode nodes = new ObjectMapper().readTree(jsonDataAsString );\r\n    VelocityContext velocityContext = new VelocityContext();\r\n    velocityContext.put(&quot;root&quot;, nodes);\r\n\r\nthen in your template, you can refer originating data which are set as &quot;root&quot; via &quot;$root.&quot;+property\r\n\r\n    $root.name\r\n\r\nHope it helps someone.","title":"How to use String as Velocity Template?","body":"<p>In case if any one looking to transform from json string to json object, in that case, need to convert json string to JsonNode &amp; store it in context.\nFor Ex:</p>\n<pre><code>String jsonDataAsString = &quot;{&quot;name&quot;: &quot;Aps&quot;}&quot;;\nJsonNode nodes = new ObjectMapper().readTree(jsonDataAsString );\nVelocityContext velocityContext = new VelocityContext();\nvelocityContext.put(&quot;root&quot;, nodes);\n</code></pre>\n<p>then in your template, you can refer originating data which are set as &quot;root&quot; via &quot;$root.&quot;+property</p>\n<pre><code>$root.name\n</code></pre>\n<p>Hope it helps someone.</p>\n"}],"owner":{"account_id":876819,"reputation":810,"user_id":129427,"display_name":"tomsame"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47030,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"accepted_answer_id":1432587,"answer_count":7,"score":66,"last_activity_date":1660947869,"creation_date":1253101454,"question_id":1432468,"body_markdown":"What is the best way to create Velocity Template from a String?\r\n\r\nI&#39;m aware of *Velocity.evaluate* method where I can pass String or StringReader, but I&#39;m curios is there a better way to do it (e.g. any advantage of creating an instance of Template).","title":"How to use String as Velocity Template?","body":"<p>What is the best way to create Velocity Template from a String?</p>\n\n<p>I'm aware of <em>Velocity.evaluate</em> method where I can pass String or StringReader, but I'm curios is there a better way to do it (e.g. any advantage of creating an instance of Template).</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","confluent-platform"],"answers":[{"tags":[],"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587401175,"creation_date":1587245916,"answer_id":61296587,"question_id":61245480,"body_markdown":"&gt; Is it to be expected that the Kafka Streams app remains in a RUNNING state when it has no active consumers? If yes: why?\r\n\r\nIt depends on the version. In older version (2.1.x and older), Kafka Streams would indeed stay in RUNNING state, even if all threads died. This issue is fixed in `v2.2.0` via https://issues.apache.org/jira/browse/KAFKA-7657.\r\n\r\n&gt; How can we detect (programatically / via metrics) that a Kafka Streams app has entered such a zombie state where it has no active consumer?\r\n\r\nEven in older versions, you can register an uncaught exception handler on the `KafkaStreams` client. This handler is invoked each time a `StreamThreads` dies.\r\n\r\nBtw: In upcoming 2.6.0 release, a new metric `alive-stream-threads` is added to track the number of running threads: https://issues.apache.org/jira/browse/KAFKA-9753","title":"How to detect a Kafka Streams app in zombie state","body":"<blockquote>\n  <p>Is it to be expected that the Kafka Streams app remains in a RUNNING state when it has no active consumers? If yes: why?</p>\n</blockquote>\n\n<p>It depends on the version. In older version (2.1.x and older), Kafka Streams would indeed stay in RUNNING state, even if all threads died. This issue is fixed in <code>v2.2.0</code> via <a href=\"https://issues.apache.org/jira/browse/KAFKA-7657\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/KAFKA-7657</a>.</p>\n\n<blockquote>\n  <p>How can we detect (programatically / via metrics) that a Kafka Streams app has entered such a zombie state where it has no active consumer?</p>\n</blockquote>\n\n<p>Even in older versions, you can register an uncaught exception handler on the <code>KafkaStreams</code> client. This handler is invoked each time a <code>StreamThreads</code> dies.</p>\n\n<p>Btw: In upcoming 2.6.0 release, a new metric <code>alive-stream-threads</code> is added to track the number of running threads: <a href=\"https://issues.apache.org/jira/browse/KAFKA-9753\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/KAFKA-9753</a></p>\n"},{"tags":[],"owner":{"account_id":15140333,"reputation":166,"user_id":10925514,"display_name":"S Blee-G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660947744,"creation_date":1660947744,"answer_id":73422767,"question_id":61245480,"body_markdown":"FYI there&#39;s a similar discussion going on right now on the user mailing list -- subject line &quot;kafka stream zombie state&quot;\r\n\r\nI&#39;ll start by telling you guys what I said there, since there seem to be some misconceptions in the conversation so far: basically, the error message is kind of misleading because it implies this is being logged by consumer itself and that it is *currently* sending this LeaveGroup/has noticed already that it missed the poll interval. But this message is actually getting logged by the heartbeat thread when *it* notices that the main consumer thread hasn&#39;t polled within the max poll timeout, and is technically just marking it as &quot;needs to rejoin&quot; so that the consumer knows to send this LeaveGroup when it finally does poll again. However, if the consumer thread is actually stuck somewhere in the user/application code and cannot break out to continue the poll loop, then the consumer will never actually trigger a rebalance, try to rejoin, send a LeaveGroup request, etc. So that&#39;s why the state continues to be RUNNING rather than REBALANCING.\r\n\r\nFor the above reason, metrics like `num-alive-stream-threads` won&#39;t help either, since the thread isn&#39;t dying -- it&#39;s just stuck. In fact even if the thread became unstuck, it would just rejoin and then continue as usual, it wouldn&#39;t &quot;die&quot; (since that only occurs when encountering a fatal exception).\r\n\r\nLong story short: the broker and heartbeat thread have noticed that the consumer is no longer in the group, but the StreamThread is likely stuck somewhere in the topology and thus the consumer itself actually has no idea that it&#39;s been kicked out of the consumer group","title":"How to detect a Kafka Streams app in zombie state","body":"<p>FYI there's a similar discussion going on right now on the user mailing list -- subject line &quot;kafka stream zombie state&quot;</p>\n<p>I'll start by telling you guys what I said there, since there seem to be some misconceptions in the conversation so far: basically, the error message is kind of misleading because it implies this is being logged by consumer itself and that it is <em>currently</em> sending this LeaveGroup/has noticed already that it missed the poll interval. But this message is actually getting logged by the heartbeat thread when <em>it</em> notices that the main consumer thread hasn't polled within the max poll timeout, and is technically just marking it as &quot;needs to rejoin&quot; so that the consumer knows to send this LeaveGroup when it finally does poll again. However, if the consumer thread is actually stuck somewhere in the user/application code and cannot break out to continue the poll loop, then the consumer will never actually trigger a rebalance, try to rejoin, send a LeaveGroup request, etc. So that's why the state continues to be RUNNING rather than REBALANCING.</p>\n<p>For the above reason, metrics like <code>num-alive-stream-threads</code> won't help either, since the thread isn't dying -- it's just stuck. In fact even if the thread became unstuck, it would just rejoin and then continue as usual, it wouldn't &quot;die&quot; (since that only occurs when encountering a fatal exception).</p>\n<p>Long story short: the broker and heartbeat thread have noticed that the consumer is no longer in the group, but the StreamThread is likely stuck somewhere in the topology and thus the consumer itself actually has no idea that it's been kicked out of the consumer group</p>\n"}],"owner":{"account_id":6079898,"reputation":103,"user_id":4745990,"display_name":"Pieter Hameete"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1025,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1660947744,"creation_date":1587024460,"question_id":61245480,"body_markdown":"One of our Kafka Streams Application&#39;s StreamThread consumers entered a zombie state after producing the following log message:\r\n\r\n&gt; [Consumer clientId=notification-processor-db9aa8a3-6c3b-453b-b8c8-106bf2fa257d-StreamThread-1-consumer, groupId=notification-processor] Member notification-processor-db9aa8a3-6c3b-453b-b8c8-106bf2fa257d-StreamThread-1-consumer-b2b9eac3-c374-43e2-bbc3-d9ee514a3c16 sending LeaveGroup request to coordinator ****:9092 (id: 2147483646 rack: null) due to consumer poll timeout has expired. This means the time between subsequent calls to poll() was longer than the configured max.poll.interval.ms, which typically implies that the poll loop is spending too much time processing messages. You can address this either by increasing max.poll.interval.ms or by reducing the maximum size of batches returned in poll() with max.poll.records.\r\n\r\nIt seems the StreamThread&#39;s Kafka Consumer has left the consumer group, but the Kafka Streams App remained in a RUNNING state while not consuming any new records.\r\n\r\nI would like to detect that a Kafka Streams App has entered such a zombie state so it can be shut down and replaced with a new instance. Normally we do this via a Kubernetes health check that verifies that the Kafka Streams App is in a RUNNING or REPARTITIONING state, but that is not working for this case.\r\n\r\nTherefore I have two questions:\r\n\r\n 1.  Is it to be expected that the Kafka Streams app remains in a RUNNING state when it has no active consumers? If yes: why?\r\n 2. How can we detect (programatically / via metrics) that a Kafka Streams app has entered such a zombie state where it has no active consumer?\r\n\r\n\r\n","title":"How to detect a Kafka Streams app in zombie state","body":"<p>One of our Kafka Streams Application's StreamThread consumers entered a zombie state after producing the following log message:</p>\n\n<blockquote>\n  <p>[Consumer clientId=notification-processor-db9aa8a3-6c3b-453b-b8c8-106bf2fa257d-StreamThread-1-consumer, groupId=notification-processor] Member notification-processor-db9aa8a3-6c3b-453b-b8c8-106bf2fa257d-StreamThread-1-consumer-b2b9eac3-c374-43e2-bbc3-d9ee514a3c16 sending LeaveGroup request to coordinator ****:9092 (id: 2147483646 rack: null) due to consumer poll timeout has expired. This means the time between subsequent calls to poll() was longer than the configured max.poll.interval.ms, which typically implies that the poll loop is spending too much time processing messages. You can address this either by increasing max.poll.interval.ms or by reducing the maximum size of batches returned in poll() with max.poll.records.</p>\n</blockquote>\n\n<p>It seems the StreamThread's Kafka Consumer has left the consumer group, but the Kafka Streams App remained in a RUNNING state while not consuming any new records.</p>\n\n<p>I would like to detect that a Kafka Streams App has entered such a zombie state so it can be shut down and replaced with a new instance. Normally we do this via a Kubernetes health check that verifies that the Kafka Streams App is in a RUNNING or REPARTITIONING state, but that is not working for this case.</p>\n\n<p>Therefore I have two questions:</p>\n\n<ol>\n<li>Is it to be expected that the Kafka Streams app remains in a RUNNING state when it has no active consumers? If yes: why?</li>\n<li>How can we detect (programatically / via metrics) that a Kafka Streams app has entered such a zombie state where it has no active consumer?</li>\n</ol>\n"},{"tags":["java","junit","jacoco","completable-future"],"answers":[{"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660945209,"creation_date":1660944768,"answer_id":73422447,"question_id":73422306,"body_markdown":"What I do usually to make this kind of methods testable is using a CountDownLatch.\r\n\r\nFor example, you may modify your class by creating another method (that you can make private but visible only for testing through the appropriate annotation so that the users of your API do not see it) that takes in input a CountDownLatch:\r\n\r\n    public void sendMessageAsync(final PublishRequest request, CountDownLatch latch) {\r\n\r\n        final CompletableFuture&lt;PublishResponse&gt; responseCompletableFuture = m_serviceAClient.publish(request);\r\n\r\n        responseCompletableFuture.whenCompleteAsync((response, exception) -&gt; {\r\n           if (exception != null) {\r\n                try {\r\n                    m_serviceBClient.sendMessage(request.getMessage())\r\n                } catch (Exception e) {\r\n                   log.error(&quot;Failed to send message to fallback service.&quot;);\r\n                }\r\n             } else {\r\n                log.info(&quot;Successfully called service client&quot;);   \r\n             }\r\n          }\r\n        latch.countDown();\r\n        return;\r\n    }\r\n\r\nThen in your test, you create a CountDownLatch with count 1 and await for it before the test ends:\r\n\r\n    CountDownLatch testLatch = new CountDownLatch(1);\r\n    MyClass.sendMessageAsync(new PublishRequest(&quot;test-message&quot;), testLatch);\r\n    testLatch.await(1, TimeUnit.MINUTES);\r\n\r\nLike that, you make your method testable even if it is asynchronous. Of course, you will create a method with the original signature (without latch) that simply calls the new method by passing a sample latch that will be ignored by production code.\r\n\r\nTo give some further explanation, the CountDownLatch is a concurrent utility that allows you to countDown in a multi-threading context (meaning one thread can countdown and the other threads will see the same value) and also allows you to .await (with a timeout if wanted) that the CountDown reaches zero before the thread which await is released. It is a pretty practical way to let another thread doing some work while the main thread waits for that work to be done (in your case, your test thread waits for the completable future thread to do what it has to do before to complete the test)    ","title":"Junit test async method call in Completable Future in Java","body":"<p>What I do usually to make this kind of methods testable is using a CountDownLatch.</p>\n<p>For example, you may modify your class by creating another method (that you can make private but visible only for testing through the appropriate annotation so that the users of your API do not see it) that takes in input a CountDownLatch:</p>\n<pre><code>public void sendMessageAsync(final PublishRequest request, CountDownLatch latch) {\n\n    final CompletableFuture&lt;PublishResponse&gt; responseCompletableFuture = m_serviceAClient.publish(request);\n\n    responseCompletableFuture.whenCompleteAsync((response, exception) -&gt; {\n       if (exception != null) {\n            try {\n                m_serviceBClient.sendMessage(request.getMessage())\n            } catch (Exception e) {\n               log.error(&quot;Failed to send message to fallback service.&quot;);\n            }\n         } else {\n            log.info(&quot;Successfully called service client&quot;);   \n         }\n      }\n    latch.countDown();\n    return;\n}\n</code></pre>\n<p>Then in your test, you create a CountDownLatch with count 1 and await for it before the test ends:</p>\n<pre><code>CountDownLatch testLatch = new CountDownLatch(1);\nMyClass.sendMessageAsync(new PublishRequest(&quot;test-message&quot;), testLatch);\ntestLatch.await(1, TimeUnit.MINUTES);\n</code></pre>\n<p>Like that, you make your method testable even if it is asynchronous. Of course, you will create a method with the original signature (without latch) that simply calls the new method by passing a sample latch that will be ignored by production code.</p>\n<p>To give some further explanation, the CountDownLatch is a concurrent utility that allows you to countDown in a multi-threading context (meaning one thread can countdown and the other threads will see the same value) and also allows you to .await (with a timeout if wanted) that the CountDown reaches zero before the thread which await is released. It is a pretty practical way to let another thread doing some work while the main thread waits for that work to be done (in your case, your test thread waits for the completable future thread to do what it has to do before to complete the test)</p>\n"}],"owner":{"account_id":4827450,"reputation":33,"user_id":3896549,"display_name":"alchems"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":967,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660945209,"creation_date":1660943618,"question_id":73422306,"body_markdown":"I have a method:\r\n\r\n```\r\npublic sendMessageAsync(final PublishRequest request) {\r\n\r\n    final CompletableFuture&lt;PublishResponse&gt; responseCompletableFuture = m_serviceAClient.publish(request);\r\n\r\n    responseCompletableFuture.whenCompleteAsync((response, exception) -&gt; {\r\n       if (exception != null) {\r\n            try {\r\n                m_serviceBClient.sendMessage(request.getMessage())\r\n            } catch (Exception e) {\r\n               log.error(&quot;Failed to send message to fallback service.&quot;);\r\n            }\r\n         } else {\r\n            log.info(&quot;Successfully called service client&quot;);   \r\n         }\r\n      }\r\n    return;\r\n}\r\n```\r\n\r\nUnit test:\r\n\r\n```\r\npublic void testsendMessageAsyncWhenServiceAThrowsException() {\r\n        CompletableFuture&lt;PublishResponse&gt; failedFuture = CompletableFuture.failedFuture(\r\n                new RuntimeException(&quot;Failed to publish message to Service A&quot;));\r\n        doReturn(failedFuture).when(mockServiceAClient).publish(any(PublishRequest.class));\r\n        doReturn(&quot;message-id&quot;).when(mockServiceBClient).sendMessage(anyString());\r\n        MyClass.sendMessageAsync(new PublishRequest(&quot;test-message&quot;));\r\n}\r\n```\r\n\r\nI do not see the jacoco unit test coverage covering the line `m_serviceBClient.sendMessage(request.getMessage())`.\r\n\r\nI believe this is because by the time future callback handler executes, the junit test is already finished, so the code coverage tool doesn&#39;t detect the future callback statement coverage.","title":"Junit test async method call in Completable Future in Java","body":"<p>I have a method:</p>\n<pre><code>public sendMessageAsync(final PublishRequest request) {\n\n    final CompletableFuture&lt;PublishResponse&gt; responseCompletableFuture = m_serviceAClient.publish(request);\n\n    responseCompletableFuture.whenCompleteAsync((response, exception) -&gt; {\n       if (exception != null) {\n            try {\n                m_serviceBClient.sendMessage(request.getMessage())\n            } catch (Exception e) {\n               log.error(&quot;Failed to send message to fallback service.&quot;);\n            }\n         } else {\n            log.info(&quot;Successfully called service client&quot;);   \n         }\n      }\n    return;\n}\n</code></pre>\n<p>Unit test:</p>\n<pre><code>public void testsendMessageAsyncWhenServiceAThrowsException() {\n        CompletableFuture&lt;PublishResponse&gt; failedFuture = CompletableFuture.failedFuture(\n                new RuntimeException(&quot;Failed to publish message to Service A&quot;));\n        doReturn(failedFuture).when(mockServiceAClient).publish(any(PublishRequest.class));\n        doReturn(&quot;message-id&quot;).when(mockServiceBClient).sendMessage(anyString());\n        MyClass.sendMessageAsync(new PublishRequest(&quot;test-message&quot;));\n}\n</code></pre>\n<p>I do not see the jacoco unit test coverage covering the line <code>m_serviceBClient.sendMessage(request.getMessage())</code>.</p>\n<p>I believe this is because by the time future callback handler executes, the junit test is already finished, so the code coverage tool doesn't detect the future callback statement coverage.</p>\n"},{"tags":["java","ssl-certificate","x509certificate"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660944670,"creation_date":1660943954,"answer_id":73422346,"question_id":73418165,"body_markdown":"**This is common/standard for LetsEncrypt certs**, see https://letsencrypt.org/docs/dst-root-ca-x3-expiration-september-2021 and as linked there https://letsencrypt.org/2020/12/21/extending-android-compatibility.html (and also dozens of Qs on this and several other Stacks last Sept-Oct when the DST X3 expiration occurred, essentially all of them due to OpenSSL 1.0.2 which mishandled it). From the transparency logs (per the Sectigo viewer) it appears badssl didn&#39;t have any LetsEncrypt cert before 2022-02, and after then might or might not have used it for the base domain you specify.\r\n\r\nThe server always _sends_ the &#39;temporary&#39; (2024) cross cert -- with issuer DST X3 shown in your display -- but a non-obsolete client can ignore it and use (_substitute_) the root -- with issuer ISRG and expiration 2035 -- which contains the same subject name and subject key so it verifies the lower-level cert(s). A browser like Firefox or Chrome/Edge shows you the cert chain _found_ (and substituted) from the local truststore not necessarily the one received. Similarly `openssl s_client -showcerts` shows in PEM the certs received, and that&#39;s what your command looks at, but the callback trace at the beginning, on stderr which your command discarded, shows the cert chain that was actually validated, followed by on stdout the cert chain received, and (given 1.1.0 up with a decent truststore i.e. cacert.pem file or similar) the validation will succeed like this:\r\n```\r\n$ openssl s_client -connect badssl.com:443 -servername badssl.com \r\ndepth=2 C = US, O = Internet Security Research Group, CN = ISRG Root X1\r\nverify return:1\r\ndepth=1 C = US, O = Let&#39;s Encrypt, CN = R3\r\nverify return:1\r\ndepth=0 CN = *.badssl.com\r\nverify return:1\r\nCONNECTED(00000003)\r\n---\r\nCertificate chain\r\n 0 s:CN = *.badssl.com\r\n   i:C = US, O = Let&#39;s Encrypt, CN = R3\r\n 1 s:C = US, O = Let&#39;s Encrypt, CN = R3\r\n   i:C = US, O = Internet Security Research Group, CN = ISRG Root X1\r\n 2 s:C = US, O = Internet Security Research Group, CN = ISRG Root X1\r\n   i:O = Digital Signature Trust Co., CN = DST Root CA X3\r\n... (much) more\r\n```\r\nThe cert _sent_ at depth=2 was ISRG-cross-DST but the one validated, substituted from the truststore, was ISRG-root; we can tell by the _absence_ of a verify error which would be printed if nonzero.\r\n\r\nJava CertPathValidator only checks the chain you give it, and thus may fail on recent versions since the expired DST X3 root has been removed from the default truststore at least in Oracle builds (OpenJDK may vary, especially where it is built to use a platform-provided truststore, as is typical on Linux). But Java does not check anchor expiration, so if you use an older truststore that had DST X3, or manually add it back, this succeeds. \r\n\r\nHowever the JSSE default TrustManager is not limited to validating the chain received; it tries that first, but if that fails it tries to _build_ an alternate and valid chain (for the same leaf) with CertPathBuilder, which succeeds for this case using the ISRG root. (AFAICT this re-built path isn&#39;t available on any API, which can be a nuisance.) That&#39;s why when you connect to a server with a bad cert the exception thrown and usually displayed/logged says &quot;path building failed&quot; -- it first tried validating as received, which failed, then it tried building (and validating), which also failed, and _then_ it threw.\r\n\r\nThat behavior -- trying to find an alternate chain if needed -- is generally considered best practice, and probably what you should do it you want to write your own TrustManager for SSL/TLS, though it is not required by any applicable standard I know of. Browsers can also fill in chain/intermediate certs if the server fails to send them as required, if the available cert(s) has(have) AIA with caIssuer usable; Java CertPathBuilder can do this but not by default.\r\n\r\nIncidentally you can also show in PEM the cert chain (sent and) received -- not validated at all -- with `keytool -printcert -sslserver badssl.com -rfc`. If you leave off `-rfc` it decodes each cert in a form similar to `openssl x509 -text`, which is convenient if you just want to look at one or a few field(s) as here, but doesn&#39;t give you the definitive cert encoding usable for additional checking or processing later. ","title":"Badssl.com showing different certificate chains when accessed via browser or via java CertPathValidator?","body":"<p><strong>This is common/standard for LetsEncrypt certs</strong>, see <a href=\"https://letsencrypt.org/docs/dst-root-ca-x3-expiration-september-2021\" rel=\"nofollow noreferrer\">https://letsencrypt.org/docs/dst-root-ca-x3-expiration-september-2021</a> and as linked there <a href=\"https://letsencrypt.org/2020/12/21/extending-android-compatibility.html\" rel=\"nofollow noreferrer\">https://letsencrypt.org/2020/12/21/extending-android-compatibility.html</a> (and also dozens of Qs on this and several other Stacks last Sept-Oct when the DST X3 expiration occurred, essentially all of them due to OpenSSL 1.0.2 which mishandled it). From the transparency logs (per the Sectigo viewer) it appears badssl didn't have any LetsEncrypt cert before 2022-02, and after then might or might not have used it for the base domain you specify.</p>\n<p>The server always <em>sends</em> the 'temporary' (2024) cross cert -- with issuer DST X3 shown in your display -- but a non-obsolete client can ignore it and use (<em>substitute</em>) the root -- with issuer ISRG and expiration 2035 -- which contains the same subject name and subject key so it verifies the lower-level cert(s). A browser like Firefox or Chrome/Edge shows you the cert chain <em>found</em> (and substituted) from the local truststore not necessarily the one received. Similarly <code>openssl s_client -showcerts</code> shows in PEM the certs received, and that's what your command looks at, but the callback trace at the beginning, on stderr which your command discarded, shows the cert chain that was actually validated, followed by on stdout the cert chain received, and (given 1.1.0 up with a decent truststore i.e. cacert.pem file or similar) the validation will succeed like this:</p>\n<pre><code>$ openssl s_client -connect badssl.com:443 -servername badssl.com \ndepth=2 C = US, O = Internet Security Research Group, CN = ISRG Root X1\nverify return:1\ndepth=1 C = US, O = Let's Encrypt, CN = R3\nverify return:1\ndepth=0 CN = *.badssl.com\nverify return:1\nCONNECTED(00000003)\n---\nCertificate chain\n 0 s:CN = *.badssl.com\n   i:C = US, O = Let's Encrypt, CN = R3\n 1 s:C = US, O = Let's Encrypt, CN = R3\n   i:C = US, O = Internet Security Research Group, CN = ISRG Root X1\n 2 s:C = US, O = Internet Security Research Group, CN = ISRG Root X1\n   i:O = Digital Signature Trust Co., CN = DST Root CA X3\n... (much) more\n</code></pre>\n<p>The cert <em>sent</em> at depth=2 was ISRG-cross-DST but the one validated, substituted from the truststore, was ISRG-root; we can tell by the <em>absence</em> of a verify error which would be printed if nonzero.</p>\n<p>Java CertPathValidator only checks the chain you give it, and thus may fail on recent versions since the expired DST X3 root has been removed from the default truststore at least in Oracle builds (OpenJDK may vary, especially where it is built to use a platform-provided truststore, as is typical on Linux). But Java does not check anchor expiration, so if you use an older truststore that had DST X3, or manually add it back, this succeeds.</p>\n<p>However the JSSE default TrustManager is not limited to validating the chain received; it tries that first, but if that fails it tries to <em>build</em> an alternate and valid chain (for the same leaf) with CertPathBuilder, which succeeds for this case using the ISRG root. (AFAICT this re-built path isn't available on any API, which can be a nuisance.) That's why when you connect to a server with a bad cert the exception thrown and usually displayed/logged says &quot;path building failed&quot; -- it first tried validating as received, which failed, then it tried building (and validating), which also failed, and <em>then</em> it threw.</p>\n<p>That behavior -- trying to find an alternate chain if needed -- is generally considered best practice, and probably what you should do it you want to write your own TrustManager for SSL/TLS, though it is not required by any applicable standard I know of. Browsers can also fill in chain/intermediate certs if the server fails to send them as required, if the available cert(s) has(have) AIA with caIssuer usable; Java CertPathBuilder can do this but not by default.</p>\n<p>Incidentally you can also show in PEM the cert chain (sent and) received -- not validated at all -- with <code>keytool -printcert -sslserver badssl.com -rfc</code>. If you leave off <code>-rfc</code> it decodes each cert in a form similar to <code>openssl x509 -text</code>, which is convenient if you just want to look at one or a few field(s) as here, but doesn't give you the definitive cert encoding usable for additional checking or processing later.</p>\n"}],"owner":{"account_id":26107437,"reputation":13,"user_id":19801936,"display_name":"zgael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73422346,"answer_count":1,"score":1,"last_activity_date":1660944670,"creation_date":1660918521,"question_id":73418165,"body_markdown":"Context and testing with Java :\r\n-----------------------\r\n\r\nI&#39;ve been using [Badssl][1] to test certificate verification for a tiny Java client.\r\nIt used to work well in January.\r\nBut as of today, there&#39;s something failing : the certificate for Badssl base domain (badssl.com) is not verified anymore by the following piece of code : \r\n\r\n```\r\npublic static void main(String[] args) throws KeyStoreException, IOException, CertificateException, NoSuchAlgorithmException {\r\n        KeyStore keystore=KeyStore.getInstance(&quot;JKS&quot;);\r\n        FileInputStream stream = new FileInputStream(getTrustStore());\r\n        keystore.load(stream, getTrustStorePassword());\r\n\r\n        X509TrustManager secureTrustManager = new X509TrustManager() {\r\n            @Override\r\n            public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n            }\r\n\r\n            @Override\r\n            public void checkServerTrusted(X509Certificate[] chain, String authType) {\r\n                PKIXParameters params = null;\r\n                try {\r\n                    CertPath certPath = CertificateFactory.getInstance(&quot;X.509&quot;).generateCertPath(Arrays.asList(chain));\r\n                    params = new PKIXParameters(keystore);\r\n                    params.setRevocationEnabled(true);\r\n                    CertPathValidator.getInstance(&quot;PKIX&quot;).validate(certPath, params);\r\n                } catch (CertPathValidatorException e) {\r\n                    if (e.getMessage().startsWith(&quot;Certificate has been revoked&quot;)) {\r\n                        System.out.println(&quot;One certificate of the trust chain has been revoked : &quot; + e.getMessage());\r\n                    } else {\r\n                        System.out.println(chain[2]); // Displays the root CA - ISRG X1\r\n\r\n                        System.out.println(&quot;============TRUSTANCHORS==============&quot;);\r\n                        // Displays all trusted certs, including ISRG X1\r\n                        for (TrustAnchor t : params.getTrustAnchors()) {\r\n                            System.out.println(t.toString());\r\n                        }\r\n                        // This is where the code unexpectedly exits\r\n                        System.out.println(&quot;Unexpected error during certificate revocation validation : &quot; + e.getMessage());\r\n                    }\r\n                } catch (InvalidAlgorithmParameterException | NoSuchAlgorithmException | CertificateException | KeyStoreException e) {\r\n                    System.out.println(&quot;Unexpected error during certificate revocation validation : &quot; + e.getMessage());\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public X509Certificate[] getAcceptedIssuers() {\r\n                return null;\r\n            }\r\n        };\r\n    }\r\n```\r\n\r\nThe error message that comes along with the exit is :\r\n\r\n&gt; Path does not chain with any of the trust anchors\r\n\r\nI&#39;ve been digging around, (hence the System.out in the middle), and found out that there is a slight difference between the certificate my webclient gets, and the certificate in Java&#39;s truststore : \r\n\r\nFirst System.out (displaying badssl.com certificate chain - expiry in 2024):\r\n------------------------------------------------------------------------\r\n\r\n```\r\nVersion: V3\r\n  Subject: CN=ISRG Root X1, O=Internet Security Research Group, C=US\r\n  Signature Algorithm: SHA256withRSA, OID = 1.2.840.113549.1.1.11\r\n\r\n  Key:  Sun RSA public key, 4096 bits\r\n  params: null\r\n  modulus: 709477870415445373015359016562426660610553770685944520893298396600226760899977879191004898543350831842119174188613678136510262472550532722234131754439181090009824131001234702144200501816519311599904090606194984753842587622398776018408050245574116028550608708896478977104703101364577377554823893350339376892984086676842821506637376561471221178677513035811884589888230947855482554780924844280661412982827405878164907670403886160896655313460186264922042760067692235383478494519985672059698752915965998412445946254227413232257276525240006651483130792248112417425846451951438781260632137645358927568158361961710185115502577127010922344394993078948994750404287047493247048147066090211292167313905862438457453781042040498702821432013765502024105065778257759178356925494156447570322373310256999609083201778278588599854706241788119448943034477370959349516873162063461521707809689839710972753590949570167489887658749686740890549110678989462474318310617765270337415238713770800711236563610171101328052424145478220993016515262478543813796899677215192789612682845145008993144513547444131126029557147570005369943143213525671105288817016183804256755470528641042403865830064493168693765438364296560479053823886598989258655438933191724193029337334607\r\n  public exponent: 65537\r\n  Validity: [From: Wed Jan 20 20:14:03 CET 2021,\r\n               To: Mon Sep 30 20:14:03 CEST 2024]\r\n  Issuer: CN=DST Root CA X3, O=Digital Signature Trust Co.\r\n  SerialNumber: [    40017721 37d4e942 b8ee76aa 3c640ab7]\r\n```\r\n\r\nSecond System.out (displaying java&#39;s truststore - expiry in 2035):\r\n------------------------------------------------------------------\r\n\r\n```\r\nVersion: V3\r\n  Subject: CN=ISRG Root X1, O=Internet Security Research Group, C=US\r\n  Signature Algorithm: SHA256withRSA, OID = 1.2.840.113549.1.1.11\r\n\r\n  Key:  Sun RSA public key, 4096 bits\r\n  params: null\r\n  modulus: 709477870415445373015359016562426660610553770685944520893298396600226760899977879191004898543350831842119174188613678136510262472550532722234131754439181090009824131001234702144200501816519311599904090606194984753842587622398776018408050245574116028550608708896478977104703101364577377554823893350339376892984086676842821506637376561471221178677513035811884589888230947855482554780924844280661412982827405878164907670403886160896655313460186264922042760067692235383478494519985672059698752915965998412445946254227413232257276525240006651483130792248112417425846451951438781260632137645358927568158361961710185115502577127010922344394993078948994750404287047493247048147066090211292167313905862438457453781042040498702821432013765502024105065778257759178356925494156447570322373310256999609083201778278588599854706241788119448943034477370959349516873162063461521707809689839710972753590949570167489887658749686740890549110678989462474318310617765270337415238713770800711236563610171101328052424145478220993016515262478543813796899677215192789612682845145008993144513547444131126029557147570005369943143213525671105288817016183804256755470528641042403865830064493168693765438364296560479053823886598989258655438933191724193029337334607\r\n  public exponent: 65537\r\n  Validity: [From: Thu Jun 04 13:04:38 CEST 2015,\r\n               To: Mon Jun 04 13:04:38 CEST 2035]\r\n  Issuer: CN=ISRG Root X1, O=Internet Security Research Group, C=US\r\n  SerialNumber: [    8210cfb0 d240e359 4463e0bb 63828b00]\r\n```\r\n\r\nSo it appears what I have in my truststore doesn&#39;t match what badssl.com sends me. \r\n\r\nTest with web browsers :\r\n------------------------\r\n\r\nStill, when I browse badssl.com (Tried with multiple browsers), it works properly (the certificate chain send contains the 2035 expiry date certificate contained in my OS (and in the Java truststore).\r\n\r\nTest with openssl CLI :\r\n-----------------------\r\n\r\nI performed another test via openssl command line (get badssl.com certificate via openssl, then just format it in human-readable fashion) : \r\n\r\n`openssl s_client -showcerts -connect badssl.com:443 &lt;/dev/null 2&gt;/dev/null| sed -n &#39;/BEGIN CERTIFICATE/,/END CERTIFICATE/p&#39; | tac | sed &#39;/BEGIN CERT/q&#39; | tac | openssl x509 -text -noout&#39;` \r\n\r\nAnd I also get the 2024 expiry date.\r\n\r\nSummary :\r\n---------\r\n\r\nSo it seems to me badssl.com is sending me a different certificate chain when I call him : \r\n- via browser (tried out edge, chromium, firefox) -&gt; 2035.\r\n- via Java or openssl CLI -&gt; 2024.\r\n\r\nAm I missing something, or is this some weird behavior on badssl side ? \r\nPlus, should Java TrustManager validate this cert, despite the strange certificate chain send by badssl ? \r\nTL;DR : Should I correct my Java code or should some things change on badssl side to make it work ?\r\n\r\nAlso, if something has an explanation of how that odd behavior is possible (side effect of a specific configuration, load balancer not updated, ...), I would be grateful to understand how that can happen !\r\n\r\nThanks!\r\n\r\n  [1]: https://badssl.com","title":"Badssl.com showing different certificate chains when accessed via browser or via java CertPathValidator?","body":"<h2>Context and testing with Java :</h2>\n<p>I've been using <a href=\"https://badssl.com\" rel=\"nofollow noreferrer\">Badssl</a> to test certificate verification for a tiny Java client.\nIt used to work well in January.\nBut as of today, there's something failing : the certificate for Badssl base domain (badssl.com) is not verified anymore by the following piece of code :</p>\n<pre><code>public static void main(String[] args) throws KeyStoreException, IOException, CertificateException, NoSuchAlgorithmException {\n        KeyStore keystore=KeyStore.getInstance(&quot;JKS&quot;);\n        FileInputStream stream = new FileInputStream(getTrustStore());\n        keystore.load(stream, getTrustStorePassword());\n\n        X509TrustManager secureTrustManager = new X509TrustManager() {\n            @Override\n            public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n            }\n\n            @Override\n            public void checkServerTrusted(X509Certificate[] chain, String authType) {\n                PKIXParameters params = null;\n                try {\n                    CertPath certPath = CertificateFactory.getInstance(&quot;X.509&quot;).generateCertPath(Arrays.asList(chain));\n                    params = new PKIXParameters(keystore);\n                    params.setRevocationEnabled(true);\n                    CertPathValidator.getInstance(&quot;PKIX&quot;).validate(certPath, params);\n                } catch (CertPathValidatorException e) {\n                    if (e.getMessage().startsWith(&quot;Certificate has been revoked&quot;)) {\n                        System.out.println(&quot;One certificate of the trust chain has been revoked : &quot; + e.getMessage());\n                    } else {\n                        System.out.println(chain[2]); // Displays the root CA - ISRG X1\n\n                        System.out.println(&quot;============TRUSTANCHORS==============&quot;);\n                        // Displays all trusted certs, including ISRG X1\n                        for (TrustAnchor t : params.getTrustAnchors()) {\n                            System.out.println(t.toString());\n                        }\n                        // This is where the code unexpectedly exits\n                        System.out.println(&quot;Unexpected error during certificate revocation validation : &quot; + e.getMessage());\n                    }\n                } catch (InvalidAlgorithmParameterException | NoSuchAlgorithmException | CertificateException | KeyStoreException e) {\n                    System.out.println(&quot;Unexpected error during certificate revocation validation : &quot; + e.getMessage());\n                }\n            }\n\n            @Override\n            public X509Certificate[] getAcceptedIssuers() {\n                return null;\n            }\n        };\n    }\n</code></pre>\n<p>The error message that comes along with the exit is :</p>\n<blockquote>\n<p>Path does not chain with any of the trust anchors</p>\n</blockquote>\n<p>I've been digging around, (hence the System.out in the middle), and found out that there is a slight difference between the certificate my webclient gets, and the certificate in Java's truststore :</p>\n<h2>First System.out (displaying badssl.com certificate chain - expiry in 2024):</h2>\n<pre><code>Version: V3\n  Subject: CN=ISRG Root X1, O=Internet Security Research Group, C=US\n  Signature Algorithm: SHA256withRSA, OID = 1.2.840.113549.1.1.11\n\n  Key:  Sun RSA public key, 4096 bits\n  params: null\n  modulus: 709477870415445373015359016562426660610553770685944520893298396600226760899977879191004898543350831842119174188613678136510262472550532722234131754439181090009824131001234702144200501816519311599904090606194984753842587622398776018408050245574116028550608708896478977104703101364577377554823893350339376892984086676842821506637376561471221178677513035811884589888230947855482554780924844280661412982827405878164907670403886160896655313460186264922042760067692235383478494519985672059698752915965998412445946254227413232257276525240006651483130792248112417425846451951438781260632137645358927568158361961710185115502577127010922344394993078948994750404287047493247048147066090211292167313905862438457453781042040498702821432013765502024105065778257759178356925494156447570322373310256999609083201778278588599854706241788119448943034477370959349516873162063461521707809689839710972753590949570167489887658749686740890549110678989462474318310617765270337415238713770800711236563610171101328052424145478220993016515262478543813796899677215192789612682845145008993144513547444131126029557147570005369943143213525671105288817016183804256755470528641042403865830064493168693765438364296560479053823886598989258655438933191724193029337334607\n  public exponent: 65537\n  Validity: [From: Wed Jan 20 20:14:03 CET 2021,\n               To: Mon Sep 30 20:14:03 CEST 2024]\n  Issuer: CN=DST Root CA X3, O=Digital Signature Trust Co.\n  SerialNumber: [    40017721 37d4e942 b8ee76aa 3c640ab7]\n</code></pre>\n<h2>Second System.out (displaying java's truststore - expiry in 2035):</h2>\n<pre><code>Version: V3\n  Subject: CN=ISRG Root X1, O=Internet Security Research Group, C=US\n  Signature Algorithm: SHA256withRSA, OID = 1.2.840.113549.1.1.11\n\n  Key:  Sun RSA public key, 4096 bits\n  params: null\n  modulus: 709477870415445373015359016562426660610553770685944520893298396600226760899977879191004898543350831842119174188613678136510262472550532722234131754439181090009824131001234702144200501816519311599904090606194984753842587622398776018408050245574116028550608708896478977104703101364577377554823893350339376892984086676842821506637376561471221178677513035811884589888230947855482554780924844280661412982827405878164907670403886160896655313460186264922042760067692235383478494519985672059698752915965998412445946254227413232257276525240006651483130792248112417425846451951438781260632137645358927568158361961710185115502577127010922344394993078948994750404287047493247048147066090211292167313905862438457453781042040498702821432013765502024105065778257759178356925494156447570322373310256999609083201778278588599854706241788119448943034477370959349516873162063461521707809689839710972753590949570167489887658749686740890549110678989462474318310617765270337415238713770800711236563610171101328052424145478220993016515262478543813796899677215192789612682845145008993144513547444131126029557147570005369943143213525671105288817016183804256755470528641042403865830064493168693765438364296560479053823886598989258655438933191724193029337334607\n  public exponent: 65537\n  Validity: [From: Thu Jun 04 13:04:38 CEST 2015,\n               To: Mon Jun 04 13:04:38 CEST 2035]\n  Issuer: CN=ISRG Root X1, O=Internet Security Research Group, C=US\n  SerialNumber: [    8210cfb0 d240e359 4463e0bb 63828b00]\n</code></pre>\n<p>So it appears what I have in my truststore doesn't match what badssl.com sends me.</p>\n<h2>Test with web browsers :</h2>\n<p>Still, when I browse badssl.com (Tried with multiple browsers), it works properly (the certificate chain send contains the 2035 expiry date certificate contained in my OS (and in the Java truststore).</p>\n<h2>Test with openssl CLI :</h2>\n<p>I performed another test via openssl command line (get badssl.com certificate via openssl, then just format it in human-readable fashion) :</p>\n<p><code>openssl s_client -showcerts -connect badssl.com:443 &lt;/dev/null 2&gt;/dev/null| sed -n '/BEGIN CERTIFICATE/,/END CERTIFICATE/p' | tac | sed '/BEGIN CERT/q' | tac | openssl x509 -text -noout'</code></p>\n<p>And I also get the 2024 expiry date.</p>\n<h2>Summary :</h2>\n<p>So it seems to me badssl.com is sending me a different certificate chain when I call him :</p>\n<ul>\n<li>via browser (tried out edge, chromium, firefox) -&gt; 2035.</li>\n<li>via Java or openssl CLI -&gt; 2024.</li>\n</ul>\n<p>Am I missing something, or is this some weird behavior on badssl side ?\nPlus, should Java TrustManager validate this cert, despite the strange certificate chain send by badssl ?\nTL;DR : Should I correct my Java code or should some things change on badssl side to make it work ?</p>\n<p>Also, if something has an explanation of how that odd behavior is possible (side effect of a specific configuration, load balancer not updated, ...), I would be grateful to understand how that can happen !</p>\n<p>Thanks!</p>\n"},{"tags":["java","reactjs","xml","xml-parsing"],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660944561,"creation_date":1660944561,"answer_id":73422428,"question_id":73420816,"body_markdown":"Obviously the XML parser doesn&#39;t know that the CDATA section contains XML (CDATA means &quot;character data&quot;, that is it&#39;s explicitly telling the parser to treat the content as plain text, not as markup). So the only way to handle this is to put it through two stages of parsing: the second stage reads the text node representing the CDATA section, and parses it again, grafting the resulting node tree into the original tree.\r\n\r\nNote that the output you want isn&#39;t well-formed XML: you can&#39;t have an XML declaration in the middle of the document. With that qualification, you can achieve the desired effect in XSLT 3.0 as:\r\n\r\n    &lt;xsl:transform xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n      version=&quot;3.0&quot;&gt;\r\n      &lt;xsl:mode on-no-match=&quot;shallow-copy&quot;/&gt;\r\n      &lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot;/&gt;\r\n      &lt;xsl:template match=&quot;data&quot;&gt;\r\n        &lt;xsl:copy-of select=&quot;parse-xml(.)&quot;/&gt;\r\n      &lt;/xsl:template&gt;\r\n    &lt;/xsl:transform&gt;\r\n\r\nwhich you can run from Java with the help of the Saxon library. (Disclaimer: my company&#39;s product.) The free open-source version will do the job. ","title":"How can an xml string containing an embedded CDATA xml string be formatted as &#39;pretty&#39; xml","body":"<p>Obviously the XML parser doesn't know that the CDATA section contains XML (CDATA means &quot;character data&quot;, that is it's explicitly telling the parser to treat the content as plain text, not as markup). So the only way to handle this is to put it through two stages of parsing: the second stage reads the text node representing the CDATA section, and parses it again, grafting the resulting node tree into the original tree.</p>\n<p>Note that the output you want isn't well-formed XML: you can't have an XML declaration in the middle of the document. With that qualification, you can achieve the desired effect in XSLT 3.0 as:</p>\n<pre><code>&lt;xsl:transform xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n  version=&quot;3.0&quot;&gt;\n  &lt;xsl:mode on-no-match=&quot;shallow-copy&quot;/&gt;\n  &lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot;/&gt;\n  &lt;xsl:template match=&quot;data&quot;&gt;\n    &lt;xsl:copy-of select=&quot;parse-xml(.)&quot;/&gt;\n  &lt;/xsl:template&gt;\n&lt;/xsl:transform&gt;\n</code></pre>\n<p>which you can run from Java with the help of the Saxon library. (Disclaimer: my company's product.) The free open-source version will do the job.</p>\n"}],"owner":{"account_id":11460157,"reputation":11,"user_id":8400045,"display_name":"Mons"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660944561,"creation_date":1660933199,"question_id":73420816,"body_markdown":"I have an xml string containing an  embedded CDATA xml string. I need to format &#39;pretty&#39; xml \r\n\r\nExample string:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding-\\&quot;UTF-8\\&quot; standlaone=\\&quot;no\\&quot;?&gt;\r\n    &lt;catalog&gt;\r\n        &lt;book id=\\&quot;b1\\&quot;&gt;    \r\n            &lt;title&gt;XML Developer&#39;s Guide&lt;/title&gt;\r\n            &lt;description&gt;An in-depth look at creating applications with XML.&lt;/description&gt;\r\n\t        &lt;data&gt;\r\n            &lt;![CDATA[&lt;?xml version=\\&quot;1.0\\&quot;  encoding-\\&quot;UTF-8\\&quot; standlaone=\\&quot;no\\&quot;?&gt;&lt;details&gt;&lt;author&gt;Gambardella, Matthew&lt;/author&gt;&lt;genre&gt;Computer&lt;/genre&gt;&lt;price&gt;44.95&lt;/price&gt;&lt;publish_date&gt;2000-10-01&lt;/publish_date&gt;&lt;/details&gt;]]&gt;\r\n           &lt;/data&gt;\r\n       &lt;/book&gt;\r\n    &lt;/catalog&gt;\r\n \r\nWhat is the easiest way in java or reactjs to create a pretty string:\r\n \r\n    &lt;?xml version=&quot;1.0&quot; encoding-\\&quot;UTF-8\\&quot; standlaone=\\&quot;no\\&quot;?&gt;\r\n    &lt;catalog&gt;\r\n        &lt;book id=\\&quot;b1\\&quot;&gt;    \r\n\t        &lt;title&gt;XML Developer&#39;s Guide&lt;/title&gt;\r\n\t\t    &lt;description&gt;An in-depth look at creating applications with XML.&lt;/description&gt;\r\n\t\t    &lt;data&gt;\r\n\t\t        &lt;?xml version=\\&quot;1.0\\&quot;  encoding-\\&quot;UTF-8\\&quot; standlaone=\\&quot;no\\&quot;?&gt;\r\n\t\t        &lt;details&gt;\r\n\t\t\t        &lt;author&gt;Gambardella, Matthew&lt;/author&gt;\r\n\t\t\t        &lt;genre&gt;Computer&lt;/genre&gt;\r\n\t\t\t        &lt;price&gt;44.95&lt;/price&gt;\r\n\t\t\t        &lt;publish_date&gt;2000-10-01&lt;/publish_date&gt;\r\n\t\t        &lt;/details&gt;\r\n\t        &lt;/data&gt;\r\n        &lt;/book&gt;\r\n    &lt;/catalog&gt;\r\n \r\nI feel this cannot be done in reactjs and I would need to use java to extract the inner xml and create 2 xml: \r\n \r\n    &lt;?xml version=&quot;1.0&quot; encoding-\\&quot;UTF-8\\&quot; standlaone=\\&quot;no\\&quot;?&gt;\r\n    &lt;catalog&gt;\r\n        &lt;book id=\\&quot;b1\\&quot;&gt;    \r\n\t        &lt;title&gt;XML Developer&#39;s Guide&lt;/title&gt;\r\n\t\t    &lt;description&gt;An in-depth look at creating applications with XML.&lt;/description&gt;\r\n        &lt;/book&gt;\r\n    &lt;/catalog&gt;\r\n \r\n    &lt;?xml version=&quot;1.0&quot; encoding-\\&quot;UTF-8\\&quot; standlaone=\\&quot;yes\\&quot;?&gt;\r\n    &lt;data&gt;\r\n        &lt;details&gt;\r\n\t        &lt;author&gt;Gambardella, Matthew&lt;/author&gt;\r\n\t\t    &lt;genre&gt;Computer&lt;/genre&gt;\r\n\t\t    &lt;price&gt;44.95&lt;/price&gt;\r\n\t\t    &lt;publish_date&gt;2000-10-01&lt;/publish_date&gt;\r\n        &lt;/details&gt;\r\n    &lt;/data&gt;\r\n\r\nI would appreciate any ideas or alternatives using reactjs or java?","title":"How can an xml string containing an embedded CDATA xml string be formatted as &#39;pretty&#39; xml","body":"<p>I have an xml string containing an  embedded CDATA xml string. I need to format 'pretty' xml</p>\n<p>Example string:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding-\\&quot;UTF-8\\&quot; standlaone=\\&quot;no\\&quot;?&gt;\n&lt;catalog&gt;\n    &lt;book id=\\&quot;b1\\&quot;&gt;    \n        &lt;title&gt;XML Developer's Guide&lt;/title&gt;\n        &lt;description&gt;An in-depth look at creating applications with XML.&lt;/description&gt;\n        &lt;data&gt;\n        &lt;![CDATA[&lt;?xml version=\\&quot;1.0\\&quot;  encoding-\\&quot;UTF-8\\&quot; standlaone=\\&quot;no\\&quot;?&gt;&lt;details&gt;&lt;author&gt;Gambardella, Matthew&lt;/author&gt;&lt;genre&gt;Computer&lt;/genre&gt;&lt;price&gt;44.95&lt;/price&gt;&lt;publish_date&gt;2000-10-01&lt;/publish_date&gt;&lt;/details&gt;]]&gt;\n       &lt;/data&gt;\n   &lt;/book&gt;\n&lt;/catalog&gt;\n</code></pre>\n<p>What is the easiest way in java or reactjs to create a pretty string:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding-\\&quot;UTF-8\\&quot; standlaone=\\&quot;no\\&quot;?&gt;\n&lt;catalog&gt;\n    &lt;book id=\\&quot;b1\\&quot;&gt;    \n        &lt;title&gt;XML Developer's Guide&lt;/title&gt;\n        &lt;description&gt;An in-depth look at creating applications with XML.&lt;/description&gt;\n        &lt;data&gt;\n            &lt;?xml version=\\&quot;1.0\\&quot;  encoding-\\&quot;UTF-8\\&quot; standlaone=\\&quot;no\\&quot;?&gt;\n            &lt;details&gt;\n                &lt;author&gt;Gambardella, Matthew&lt;/author&gt;\n                &lt;genre&gt;Computer&lt;/genre&gt;\n                &lt;price&gt;44.95&lt;/price&gt;\n                &lt;publish_date&gt;2000-10-01&lt;/publish_date&gt;\n            &lt;/details&gt;\n        &lt;/data&gt;\n    &lt;/book&gt;\n&lt;/catalog&gt;\n</code></pre>\n<p>I feel this cannot be done in reactjs and I would need to use java to extract the inner xml and create 2 xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding-\\&quot;UTF-8\\&quot; standlaone=\\&quot;no\\&quot;?&gt;\n&lt;catalog&gt;\n    &lt;book id=\\&quot;b1\\&quot;&gt;    \n        &lt;title&gt;XML Developer's Guide&lt;/title&gt;\n        &lt;description&gt;An in-depth look at creating applications with XML.&lt;/description&gt;\n    &lt;/book&gt;\n&lt;/catalog&gt;\n\n&lt;?xml version=&quot;1.0&quot; encoding-\\&quot;UTF-8\\&quot; standlaone=\\&quot;yes\\&quot;?&gt;\n&lt;data&gt;\n    &lt;details&gt;\n        &lt;author&gt;Gambardella, Matthew&lt;/author&gt;\n        &lt;genre&gt;Computer&lt;/genre&gt;\n        &lt;price&gt;44.95&lt;/price&gt;\n        &lt;publish_date&gt;2000-10-01&lt;/publish_date&gt;\n    &lt;/details&gt;\n&lt;/data&gt;\n</code></pre>\n<p>I would appreciate any ideas or alternatives using reactjs or java?</p>\n"},{"tags":["java","javafx","javafx-webengine","jfxpanel","javafx-webview"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1660943158,"post_id":73422187,"comment_id":129661391,"body_markdown":"Your `JFXPanel` is in a `JFrame`. Just react to the `JFrame` closing.","body":"Your <code>JFXPanel</code> is in a <code>JFrame</code>. Just react to the <code>JFrame</code> closing."},{"owner":{"account_id":26110397,"reputation":31,"user_id":19804428,"display_name":"Grant Sanders"},"score":0,"creation_date":1660943655,"post_id":73422187,"comment_id":129661511,"body_markdown":"This was my first thought, but then how do I go about accessing the WebEngine object that is defined within the createScene method? I tried declaring the engine and view globally, but then I run into issues with the javaFX thread not having started yet.\n\nthanks!","body":"This was my first thought, but then how do I go about accessing the WebEngine object that is defined within the createScene method? I tried declaring the engine and view globally, but then I run into issues with the javaFX thread not having started yet.  thanks!"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1660944245,"post_id":73422187,"comment_id":129661641,"body_markdown":"Not sure the problem. Just declare them as instance variables.","body":"Not sure the problem. Just declare them as instance variables."}],"answers":[{"tags":[],"owner":{"account_id":26110397,"reputation":31,"user_id":19804428,"display_name":"Grant Sanders"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660944346,"creation_date":1660944346,"answer_id":73422399,"question_id":73422187,"body_markdown":"Found a solution- I was able to set a listener on the engine in the scene builder method, this way, every time the browser visits a new URL it automatically updates a private variable. \r\n\r\n\r\nin createScene():\r\n```\r\nauthBrowser.getLoadWorker().stateProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n            if (Worker.State.SUCCEEDED.equals(newValue)) {\r\n                setCode(authBrowser.getLocation());\r\n            }\r\n        });\r\n```","title":"How to set an action to occur whenever JFXPanel is closed?","body":"<p>Found a solution- I was able to set a listener on the engine in the scene builder method, this way, every time the browser visits a new URL it automatically updates a private variable.</p>\n<p>in createScene():</p>\n<pre><code>authBrowser.getLoadWorker().stateProperty().addListener((observable, oldValue, newValue) -&gt; {\n            if (Worker.State.SUCCEEDED.equals(newValue)) {\n                setCode(authBrowser.getLocation());\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":26110397,"reputation":31,"user_id":19804428,"display_name":"Grant Sanders"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73422399,"answer_count":1,"score":0,"last_activity_date":1660944346,"creation_date":1660942627,"question_id":73422187,"body_markdown":"I&#39;m building a Swing application and I&#39;m using JFXPanel to bring up a WebView for user authentication. I need to return the url that the WebEngine is sent to after a successful user sign-on- but I don&#39;t know how to pull the URL from the view at the time the window is closed. I&#39;m aware of Stage.setOnHiding, but this can&#39;t apply here since JFXPanels don&#39;t act as stages, though they contain a scene. \r\n\r\nI&#39;m very new to JavaFX so if this code snippet demonstrates bad conventions, I&#39;d be happy to hear it!\r\n\r\n```\r\nprivate static void buildAuthBrowser() {\r\n\t\tJFrame frame = new JFrame(&quot;frame&quot;);\r\n\t\tfinal JFXPanel fxPanel = new JFXPanel();\r\n\t\tframe.add(fxPanel);\r\n\t\tframe.setSize(800, 600);\r\n\t\tframe.setLocationRelativeTo(null);\r\n\t\tframe.setVisible(true);\r\n\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tPlatform.runLater(new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\r\n\t\t\t\tinitFX(fxPanel);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tprivate static void initFX(JFXPanel fxPanel) {\r\n\t\t// fx thread\r\n\t\tScene scene = createScene();\r\n\r\n\t\tfxPanel.setScene(scene);\r\n\r\n\t}\r\n\r\n\tprivate static Scene createScene() {\r\n\t\tGroup root = new Group();\r\n\t\tScene scene = new Scene(root);\r\n\t\tWebView view = new WebView();\r\n\t\tWebEngine browser = view.getEngine();\r\n\t\tbrowser.load(auth.getUrl());\r\n\t\troot.getChildren().add(view);\r\n\t\treturn (scene);\r\n\t}\r\n```\r\n\r\n","title":"How to set an action to occur whenever JFXPanel is closed?","body":"<p>I'm building a Swing application and I'm using JFXPanel to bring up a WebView for user authentication. I need to return the url that the WebEngine is sent to after a successful user sign-on- but I don't know how to pull the URL from the view at the time the window is closed. I'm aware of Stage.setOnHiding, but this can't apply here since JFXPanels don't act as stages, though they contain a scene.</p>\n<p>I'm very new to JavaFX so if this code snippet demonstrates bad conventions, I'd be happy to hear it!</p>\n<pre><code>private static void buildAuthBrowser() {\n        JFrame frame = new JFrame(&quot;frame&quot;);\n        final JFXPanel fxPanel = new JFXPanel();\n        frame.add(fxPanel);\n        frame.setSize(800, 600);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        Platform.runLater(new Runnable() {\n            @Override\n            public void run() {\n\n                initFX(fxPanel);\n            }\n        });\n\n    }\n\n    private static void initFX(JFXPanel fxPanel) {\n        // fx thread\n        Scene scene = createScene();\n\n        fxPanel.setScene(scene);\n\n    }\n\n    private static Scene createScene() {\n        Group root = new Group();\n        Scene scene = new Scene(root);\n        WebView view = new WebView();\n        WebEngine browser = view.getEngine();\n        browser.load(auth.getUrl());\n        root.getChildren().add(view);\n        return (scene);\n    }\n</code></pre>\n"},{"tags":["java","email","oauth-2.0","outlook","imap"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1650988580,"post_id":72016962,"comment_id":127252257,"body_markdown":"Your package names should contain your domain name in reverse.","body":"Your package names should contain your domain name in reverse."},{"owner":{"account_id":25104183,"reputation":13,"user_id":18954526,"display_name":"Anis S."},"score":0,"creation_date":1651053846,"post_id":72016962,"comment_id":127269055,"body_markdown":"Package names ? you&#39;re refering to what part of code ? the position of the user mail and the shared mail box ? @Thorbj&#248;rnRavnAndersen","body":"Package names ? you&#39;re refering to what part of code ? the position of the user mail and the shared mail box ? @Thorbj&#248;rnRavnAndersen"}],"owner":{"account_id":25104183,"reputation":13,"user_id":18954526,"display_name":"Anis S."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":943,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660944022,"creation_date":1650988406,"question_id":72016962,"body_markdown":"I&#39;m trying to access a ***shared mailbox*** using an ***Oauth2*** and ***IMAP*** Protocol, but I have an error saying that the authentification have failed: \r\n\r\n    Exception in component tJava_1 (Extract_Mails)\r\n    javax.mail.AuthenticationFailedException: AUTHENTICATE failed.\r\n\tat com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:732)\r\n\tat javax.mail.Service.connect(Service.java:366)\r\n\tat routines.TalendMail.mailProcess(TalendMail.java:76)\r\n\tat interfaces.extract_mails_0_1.Extract_Mails.tJava_1Process(Extract_Mails.java:4843)\r\n\tat interfaces.extract_mails_0_1.Extract_Mails.tLibraryLoad_1Process(Extract_Mails.java:5033)\r\n\t... 3 more\r\n\r\nI&#39;m trying to connect with an object Store:\r\n\r\n    final Store store = session.getStore(&quot;imaps&quot;);\r\n    store.connect(serveur, 993, &quot;user@outlook.com/shared_mail_box&quot;, accessToken);\r\n\r\nAnd setting an object Propreties: \r\n\r\n        Properties props = new Properties();\r\n\r\n    \tprops.put(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\r\n\r\n    \tprops.put(&quot;mail.imaps.sasl.enable&quot;, &quot;true&quot;);\r\n\r\n    \tprops.put(&quot;mail.imaps.sasl.mechanisms&quot;, &quot;XOAUTH2&quot;);\r\n\r\n    \tprops.put(&quot;mail.imap.auth.login.disable&quot;, &quot;true&quot;);\r\n\r\n    \tprops.put(&quot;mail.imap.auth.plain.disable&quot;, &quot;true&quot;);\r\n\r\n    \tprops.put(&quot;mail.debug&quot;, &quot;false&quot;);\r\n\r\n    \tprops.put(&quot;mail.debug.auth&quot;, &quot;false&quot;);\r\n\r\n    \tSystem.setProperty(&quot;mail.mime.multipart.ignoreexistingboundaryparameter&quot;, &quot;true&quot;);\r\n\r\n    \tSystem.setProperty(&quot;mail.mime.multipart.allowempty&quot;, &quot;true&quot;);  \r\n    \t \r\n    \tprops.setProperty(&quot;mail.imaps.auth.ntlm.disable&quot;, &quot;true&quot;);\r\n\r\n\r\n***Note*** : I have successfuly connected to my user mailbox (user@outlook.com) after that I get an access token. But now, I have an issue with trying to connect to my shared mailbox.\r\n\r\nAny ideas of how we can access a shared mailbox when it come to an **Oauth2** protocol?\r\n","title":"How to access to a shared mail box using Oauth2 with Java (javax.mail)","body":"<p>I'm trying to access a <em><strong>shared mailbox</strong></em> using an <em><strong>Oauth2</strong></em> and <em><strong>IMAP</strong></em> Protocol, but I have an error saying that the authentification have failed:</p>\n<pre><code>Exception in component tJava_1 (Extract_Mails)\njavax.mail.AuthenticationFailedException: AUTHENTICATE failed.\nat com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:732)\nat javax.mail.Service.connect(Service.java:366)\nat routines.TalendMail.mailProcess(TalendMail.java:76)\nat interfaces.extract_mails_0_1.Extract_Mails.tJava_1Process(Extract_Mails.java:4843)\nat interfaces.extract_mails_0_1.Extract_Mails.tLibraryLoad_1Process(Extract_Mails.java:5033)\n... 3 more\n</code></pre>\n<p>I'm trying to connect with an object Store:</p>\n<pre><code>final Store store = session.getStore(&quot;imaps&quot;);\nstore.connect(serveur, 993, &quot;user@outlook.com/shared_mail_box&quot;, accessToken);\n</code></pre>\n<p>And setting an object Propreties:</p>\n<pre><code>    Properties props = new Properties();\n\n    props.put(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\n\n    props.put(&quot;mail.imaps.sasl.enable&quot;, &quot;true&quot;);\n\n    props.put(&quot;mail.imaps.sasl.mechanisms&quot;, &quot;XOAUTH2&quot;);\n\n    props.put(&quot;mail.imap.auth.login.disable&quot;, &quot;true&quot;);\n\n    props.put(&quot;mail.imap.auth.plain.disable&quot;, &quot;true&quot;);\n\n    props.put(&quot;mail.debug&quot;, &quot;false&quot;);\n\n    props.put(&quot;mail.debug.auth&quot;, &quot;false&quot;);\n\n    System.setProperty(&quot;mail.mime.multipart.ignoreexistingboundaryparameter&quot;, &quot;true&quot;);\n\n    System.setProperty(&quot;mail.mime.multipart.allowempty&quot;, &quot;true&quot;);  \n     \n    props.setProperty(&quot;mail.imaps.auth.ntlm.disable&quot;, &quot;true&quot;);\n</code></pre>\n<p><em><strong>Note</strong></em> : I have successfuly connected to my user mailbox (user@outlook.com) after that I get an access token. But now, I have an issue with trying to connect to my shared mailbox.</p>\n<p>Any ideas of how we can access a shared mailbox when it come to an <strong>Oauth2</strong> protocol?</p>\n"},{"tags":["java","spring","spring-boot","spring-async"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":2,"creation_date":1615976162,"post_id":66670891,"comment_id":117856178,"body_markdown":"use `@Async`? Or just a simple `TaskExecutor`?","body":"use <code>@Async</code>? Or just a simple <code>TaskExecutor</code>?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":2,"creation_date":1615976317,"post_id":66670891,"comment_id":117856254,"body_markdown":"`@Async` `@PostConstruct` is not executed async. So I could of course call another async bean from within postconstruct, if that&#39;s the only chance.","body":"<code>@Async</code> <code>@PostConstruct</code> is not executed async. So I could of course call another async bean from within postconstruct, if that&#39;s the only chance."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1615976610,"post_id":66670891,"comment_id":117856380,"body_markdown":"Don&#39;t use `@PostConstruct` for that. It is executed as part of the application init/startup and errors will stop that (as you noticed). So don&#39;t use `@PostConstruct` for that and/or use proper exception handling in that method. BUt you are probably better of using an event listener to initialize something.","body":"Don&#39;t use <code>@PostConstruct</code> for that. It is executed as part of the application init/startup and errors will stop that (as you noticed). So don&#39;t use <code>@PostConstruct</code> for that and/or use proper exception handling in that method. BUt you are probably better of using an event listener to initialize something."},{"owner":{"account_id":3804018,"reputation":1206,"user_id":3156898,"accept_rate":70,"display_name":"thonnor"},"score":0,"creation_date":1624961155,"post_id":66670891,"comment_id":120494235,"body_markdown":"@Lino you absolute genius. I&#39;d forgotten about @ Ansync and was about to write a whole Runnable Thread type class for my code until I saw this. Thank you.","body":"@Lino you absolute genius. I&#39;d forgotten about @ Ansync and was about to write a whole Runnable Thread type class for my code until I saw this. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1615977852,"creation_date":1615976456,"answer_id":66671073,"question_id":66670891,"body_markdown":"You can remove @PostConstruct from your method and let that method be a normal method. You can then manualy invoke it when the ApplicatioinContext is already loaded and the application has already started.\r\n\r\n     @SpringBootApplication\r\n     public class ServiceLauncher {\r\n\r\n     public static void main(String[] args) {\r\n\r\n       ConfigurableApplicationContext context = new SpringApplication(ServiceLauncher.class).run(args);\r\n\r\n        try {\r\n            context.getBean(YourBean.class).performStateChecks(); // &lt;-- this will run only after context initialization finishes\r\n            } catch (Exception e) {\r\n            //catch any exception here so it does not go down\r\n            }\r\n        }\r\n      }\r\n    }","title":"How to run @PostConstruct non-blocking in Spring?","body":"<p>You can remove @PostConstruct from your method and let that method be a normal method. You can then manualy invoke it when the ApplicatioinContext is already loaded and the application has already started.</p>\n<pre><code> @SpringBootApplication\n public class ServiceLauncher {\n\n public static void main(String[] args) {\n\n   ConfigurableApplicationContext context = new SpringApplication(ServiceLauncher.class).run(args);\n\n    try {\n        context.getBean(YourBean.class).performStateChecks(); // &lt;-- this will run only after context initialization finishes\n        } catch (Exception e) {\n        //catch any exception here so it does not go down\n        }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4099584,"reputation":2238,"user_id":3365479,"accept_rate":80,"display_name":"madteapot"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1615978594,"creation_date":1615976683,"answer_id":66671144,"question_id":66670891,"body_markdown":"There are multiple ways this can be done. \r\n\r\nFirst, simple one-liner solution is to create and start a new thread;\r\n\r\n    @PostConstruct\r\n    public void performStateChecks() {\r\n      new Thread(() -&gt; { throw new RuntimeException(&quot;test&quot;); }).start();\r\n    }\r\n\r\nThe thrown exception only interrupts the separate thread and doesn&#39;t block or prevent the application startup. This is useful if you are not interested in result or outcome of the task. Note this is not recommended as it starts separate thread outside spring managed context.\r\n\r\nSecond is to use executor service and submit a task to it. Spring provides a default `ThreadPoolTaskExecutor` which can be used to submit the tasks. This will allow you to have access to the future object of the task and do something with it later on;\r\n\r\n    \r\n    private final ThreadPoolTaskExecutor executor;  // inject via constructor\r\n    @PostConstruct\r\n    public void performStateChecks() {\r\n        Future&lt;?&gt; future = executor.submit(() -&gt; {\r\n          throw new RuntimeException(&quot;test&quot;);\r\n        });\r\n        // do something with the future later on\r\n    }\r\n\r\nIf you have multiple such methods and requirements for various services/classes etc then create a new AsyncService class to do the actual work and annotate those methods with `@Async`. inject the `AsyncService` wherever you need via constructor and then call the required method;\r\n\r\n    @EnableAsync\r\n    @Component\r\n    public class AsyncService {\r\n\r\n        @Async\r\n        public void doActualTest() {\r\n          throw new RuntimeException(&quot;test&quot;);\r\n        }\r\n    }\r\n\r\nThen use it like this;\r\n\r\n    private final AsyncService asyncService; // make sure to inject this via constructor\r\n\r\n    @PostConstruct \r\n    public void performStateChecks() {\r\n        asyncService.doActualTest();\r\n    }\r\n\r\n","title":"How to run @PostConstruct non-blocking in Spring?","body":"<p>There are multiple ways this can be done.</p>\n<p>First, simple one-liner solution is to create and start a new thread;</p>\n<pre><code>@PostConstruct\npublic void performStateChecks() {\n  new Thread(() -&gt; { throw new RuntimeException(&quot;test&quot;); }).start();\n}\n</code></pre>\n<p>The thrown exception only interrupts the separate thread and doesn't block or prevent the application startup. This is useful if you are not interested in result or outcome of the task. Note this is not recommended as it starts separate thread outside spring managed context.</p>\n<p>Second is to use executor service and submit a task to it. Spring provides a default <code>ThreadPoolTaskExecutor</code> which can be used to submit the tasks. This will allow you to have access to the future object of the task and do something with it later on;</p>\n<pre><code>private final ThreadPoolTaskExecutor executor;  // inject via constructor\n@PostConstruct\npublic void performStateChecks() {\n    Future&lt;?&gt; future = executor.submit(() -&gt; {\n      throw new RuntimeException(&quot;test&quot;);\n    });\n    // do something with the future later on\n}\n</code></pre>\n<p>If you have multiple such methods and requirements for various services/classes etc then create a new AsyncService class to do the actual work and annotate those methods with <code>@Async</code>. inject the <code>AsyncService</code> wherever you need via constructor and then call the required method;</p>\n<pre><code>@EnableAsync\n@Component\npublic class AsyncService {\n\n    @Async\n    public void doActualTest() {\n      throw new RuntimeException(&quot;test&quot;);\n    }\n}\n</code></pre>\n<p>Then use it like this;</p>\n<pre><code>private final AsyncService asyncService; // make sure to inject this via constructor\n\n@PostConstruct \npublic void performStateChecks() {\n    asyncService.doActualTest();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2802397,"reputation":1110,"user_id":5339661,"display_name":"Marcos Barbero"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1615977173,"creation_date":1615977173,"answer_id":66671284,"question_id":66670891,"body_markdown":"The easiest way I can see is by using EventListeners and async task executors.\r\n\r\nAdding this code snippet would do the work:\r\n\r\n```spring\r\n    @Component\r\n    public class AsyncStartupRunner {\r\n\r\n        @Bean(name = &quot;applicationEventMulticaster&quot;)\r\n        public ApplicationEventMulticaster simpleApplicationEventMulticaster() {\r\n            SimpleApplicationEventMulticaster eventMulticaster =\r\n                    new SimpleApplicationEventMulticaster();\r\n\r\n            eventMulticaster.setTaskExecutor(new SimpleAsyncTaskExecutor());\r\n            return eventMulticaster;\r\n        }\r\n\r\n        @EventListener(ApplicationReadyEvent.class)\r\n        public void executeAfterStartup() {\r\n            throw new RuntimeException(&quot;Oops&quot;);\r\n        }\r\n    }\r\n```","title":"How to run @PostConstruct non-blocking in Spring?","body":"<p>The easiest way I can see is by using EventListeners and async task executors.</p>\n<p>Adding this code snippet would do the work:</p>\n<pre><code>    @Component\n    public class AsyncStartupRunner {\n\n        @Bean(name = &quot;applicationEventMulticaster&quot;)\n        public ApplicationEventMulticaster simpleApplicationEventMulticaster() {\n            SimpleApplicationEventMulticaster eventMulticaster =\n                    new SimpleApplicationEventMulticaster();\n\n            eventMulticaster.setTaskExecutor(new SimpleAsyncTaskExecutor());\n            return eventMulticaster;\n        }\n\n        @EventListener(ApplicationReadyEvent.class)\n        public void executeAfterStartup() {\n            throw new RuntimeException(&quot;Oops&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5862834,"reputation":3736,"user_id":6066470,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1615977596,"creation_date":1615977596,"answer_id":66671400,"question_id":66670891,"body_markdown":"You can use `EventListener` instead of `PostConstruct`, it supports `@Async`:\r\n\r\n    @Service\r\n    public class MyService {    \r\n        @Async\r\n        @EventListener(ApplicationStartedEvent.class)\r\n        public void performStateChecks() {\r\n            throw new RuntimeException(&quot;test&quot;);\r\n        }\r\n     }\r\n\r\nDon&#39;t forget enable async support by `@EnableAsync` annotation\r\n\r\nYou can also use some other event, see inheritors of `SpringApplicationEvent` class","title":"How to run @PostConstruct non-blocking in Spring?","body":"<p>You can use <code>EventListener</code> instead of <code>PostConstruct</code>, it supports <code>@Async</code>:</p>\n<pre><code>@Service\npublic class MyService {    \n    @Async\n    @EventListener(ApplicationStartedEvent.class)\n    public void performStateChecks() {\n        throw new RuntimeException(&quot;test&quot;);\n    }\n }\n</code></pre>\n<p>Don't forget enable async support by <code>@EnableAsync</code> annotation</p>\n<p>You can also use some other event, see inheritors of <code>SpringApplicationEvent</code> class</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5817,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1660942861,"creation_date":1615975601,"question_id":66670891,"body_markdown":"    @PostConstruct\r\n    public void performStateChecks() {\r\n       throw new RuntimeException(&quot;test&quot;);\r\n    }\r\n\r\nIf I start a `spring` application with code above, it will prevent the application to start.\r\n\r\nWhat I&#39;m looking for is to execute a method directly after startup, but async. Means, it should not delay the startup, and it should not prevent the application to run even on failure.\r\n\r\nHow can I make the initialization async?","title":"How to run @PostConstruct non-blocking in Spring?","body":"<pre><code>@PostConstruct\npublic void performStateChecks() {\n   throw new RuntimeException(&quot;test&quot;);\n}\n</code></pre>\n<p>If I start a <code>spring</code> application with code above, it will prevent the application to start.</p>\n<p>What I'm looking for is to execute a method directly after startup, but async. Means, it should not delay the startup, and it should not prevent the application to run even on failure.</p>\n<p>How can I make the initialization async?</p>\n"},{"tags":["java","java-stream","collectors"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660942615,"creation_date":1660938579,"answer_id":73421617,"question_id":73420927,"body_markdown":"You were almost there.\r\n\r\nThe only thing required is to handle properly one-to-many transformation - an *order* into *prices of products* within this *order*.\r\n\r\n&lt;h2&gt;Java 9 +&lt;/h2&gt;\r\n\r\nInstead of *collector* `mapping()` to transform `Order` object into a sequence of `OrderContent` objects, you can use *collector* [`flatMapping()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#flatMapping(java.util.function.Function,java.util.stream.Collector)), available since JDK version 9, as the downstream of `groupingBy()`.\r\n\r\nAnd then we can turn each `OrderContent` into `BigDecimal` by multiplying price and amount, and obtain the total amount spent for every `Customer` by using `reducing()` exactly as you did.\r\n\r\n```\r\nCustomer mostValCust = orders.stream()\r\n    .collect(Collectors.groupingBy(Order::getCustomer,\r\n        Collectors.flatMapping((Order order) -&gt; order.getOrderContent().stream()\r\n            .map(orderContent -&gt; orderContent.getProduct().getPrice()\r\n                .multiply(BigDecimal.valueOf(orderContent.getQuantity()))),\r\n        Collectors.reducing(BigDecimal.ZERO, BigDecimal::add))\r\n    ))\r\n    .entrySet().stream()\r\n    .max(Map.Entry.comparingByValue())\r\n    .map(Map.Entry::getKey)\r\n    .orElse(null);\r\n```\r\n\r\n&lt;h2&gt;Java 8&lt;/h2&gt;\r\n\r\nOne of the ways to achieve it with Java 8 is to move the logic for accumulating the overall price of each `Order` into the *collector* `reducing()`:\r\n\r\n```\r\nCustomer mostValCust = orders.stream()\r\n    .collect(Collectors.groupingBy(Order::getCustomer,\r\n        Collectors.reducing(\r\n            BigDecimal.ZERO,\r\n            order -&gt; order.getOrderContent().stream()\r\n                .map(orderContent -&gt; orderContent.getProduct().getPrice()\r\n                    .multiply(BigDecimal.valueOf(orderContent.getQuantity())))\r\n                .reduce(BigDecimal.ZERO,BigDecimal::add),\r\n        BigDecimal::add)\r\n    ))\r\n    .entrySet().stream()\r\n    .max(Map.Entry.comparingByValue())\r\n    .map(Map.Entry::getKey)\r\n    .orElse(null);\r\n```","title":"Collectors mapping() + reducing() - folding stream element having One-To-Many relationship with Java 8","body":"<p>You were almost there.</p>\n<p>The only thing required is to handle properly one-to-many transformation - an <em>order</em> into <em>prices of products</em> within this <em>order</em>.</p>\n<h2>Java 9 +</h2>\n<p>Instead of <em>collector</em> <code>mapping()</code> to transform <code>Order</code> object into a sequence of <code>OrderContent</code> objects, you can use <em>collector</em> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#flatMapping(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>flatMapping()</code></a>, available since JDK version 9, as the downstream of <code>groupingBy()</code>.</p>\n<p>And then we can turn each <code>OrderContent</code> into <code>BigDecimal</code> by multiplying price and amount, and obtain the total amount spent for every <code>Customer</code> by using <code>reducing()</code> exactly as you did.</p>\n<pre><code>Customer mostValCust = orders.stream()\n    .collect(Collectors.groupingBy(Order::getCustomer,\n        Collectors.flatMapping((Order order) -&gt; order.getOrderContent().stream()\n            .map(orderContent -&gt; orderContent.getProduct().getPrice()\n                .multiply(BigDecimal.valueOf(orderContent.getQuantity()))),\n        Collectors.reducing(BigDecimal.ZERO, BigDecimal::add))\n    ))\n    .entrySet().stream()\n    .max(Map.Entry.comparingByValue())\n    .map(Map.Entry::getKey)\n    .orElse(null);\n</code></pre>\n<h2>Java 8</h2>\n<p>One of the ways to achieve it with Java 8 is to move the logic for accumulating the overall price of each <code>Order</code> into the <em>collector</em> <code>reducing()</code>:</p>\n<pre><code>Customer mostValCust = orders.stream()\n    .collect(Collectors.groupingBy(Order::getCustomer,\n        Collectors.reducing(\n            BigDecimal.ZERO,\n            order -&gt; order.getOrderContent().stream()\n                .map(orderContent -&gt; orderContent.getProduct().getPrice()\n                    .multiply(BigDecimal.valueOf(orderContent.getQuantity())))\n                .reduce(BigDecimal.ZERO,BigDecimal::add),\n        BigDecimal::add)\n    ))\n    .entrySet().stream()\n    .max(Map.Entry.comparingByValue())\n    .map(Map.Entry::getKey)\n    .orElse(null);\n</code></pre>\n"}],"owner":{"account_id":7816422,"reputation":127,"user_id":5910979,"accept_rate":60,"display_name":"BillUser88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73421617,"answer_count":1,"score":1,"last_activity_date":1660942615,"creation_date":1660933774,"question_id":73420927,"body_markdown":"The classes that I have the following domain classes:\r\n \r\n    @AllArgsConstructor\r\n    @Getter\r\n    @ToString\r\n    public static class Customer {\r\n        private String id;\r\n        private String name;\r\n    }\r\n    \r\n    @Getter\r\n    public static class Order {\r\n        private String id;\r\n        private Set&lt;OrderContent&gt; orderContent = new HashSet&lt;&gt;();\r\n        private Customer customer;\r\n        \r\n        public Order(String id, Customer customer) {\r\n            this.id = id;\r\n            this.customer = customer;\r\n        }\r\n        \r\n        public Order addOrderContent(Product product, int amount) {\r\n            orderContent.add(new OrderContent(product, amount));\r\n            return this;\r\n        }\r\n    }\r\n    \r\n    @AllArgsConstructor\r\n    @Getter\r\n    public static class Product {\r\n        private String name;\r\n        private BigDecimal price;\r\n    }\r\n    \r\n    @AllArgsConstructor\r\n    @Getter\r\n    public static class OrderContent {\r\n        private Product product;\r\n        private Integer quantity;\r\n    }\r\n\r\nSo each `Order` is associated with a `Customer` and one-to-many association with `OrderContent`. Each `OrderContent` has properties: *product* and *quantity*.\r\n\r\nI would like to return the most valuable *customer*, which is the *customer* that has the highest value of all placed *orders*.\r\n\r\nLet&#39;s consider the example below:\r\n```\r\nList&lt;Order&gt; orders = new ArrayList&lt;&gt;();\r\n\r\nCustomer customer1 = new Customer(&quot;1&quot;, &quot;Bill&quot;);\r\nCustomer customer2 = new Customer(&quot;2&quot;, &quot;John&quot;);\r\n\r\nProduct device1 = new Product(&quot;Device 1&quot;, new BigDecimal(&quot;30.00&quot;));\r\nProduct device2 = new Product(&quot;Device 2&quot;, new BigDecimal(&quot;50.00&quot;));\r\nProduct device3 = new Product(&quot;Device 3&quot;, new BigDecimal(&quot;110.00&quot;));\r\n\r\norders.add(new Order(&quot;1&quot;, customer1).addOrderContent(device1 , 1));\r\norders.add(new Order(&quot;2&quot;, customer1).addOrderContent(device2 , 1));\r\norders.add(new Order(&quot;3&quot;, customer2).addOrderContent(device3, 1));\r\n```\r\nThe code below fail to compile. The problem is located inside the collector, because the types of arguments inside `mapping()` does not match. How to implement this logic properly?\r\n\r\n*My code:*\r\n```\r\nCustomer customer = orders.stream()\r\n    .collect(Collectors.groupingBy(Order::getCustomer,\r\n        Collectors.mapping((Order order) -&gt; order.getOrderContent().stream()\r\n            .map(orderContent -&gt; orderContent.getProduct().getPrice()\r\n                .multiply(new BigDecimal(orderContent.getQuantity()))),\r\n            Collectors.reducing(BigDecimal.ZERO, BigDecimal::add))\r\n    ))\r\n    .entrySet().stream()\r\n    .max(Comparator.comparing(Map.Entry::getValue))\r\n    .map(Map.Entry::getKey).orElse(null);\r\n```","title":"Collectors mapping() + reducing() - folding stream element having One-To-Many relationship with Java 8","body":"<p>The classes that I have the following domain classes:</p>\n<pre><code>@AllArgsConstructor\n@Getter\n@ToString\npublic static class Customer {\n    private String id;\n    private String name;\n}\n\n@Getter\npublic static class Order {\n    private String id;\n    private Set&lt;OrderContent&gt; orderContent = new HashSet&lt;&gt;();\n    private Customer customer;\n    \n    public Order(String id, Customer customer) {\n        this.id = id;\n        this.customer = customer;\n    }\n    \n    public Order addOrderContent(Product product, int amount) {\n        orderContent.add(new OrderContent(product, amount));\n        return this;\n    }\n}\n\n@AllArgsConstructor\n@Getter\npublic static class Product {\n    private String name;\n    private BigDecimal price;\n}\n\n@AllArgsConstructor\n@Getter\npublic static class OrderContent {\n    private Product product;\n    private Integer quantity;\n}\n</code></pre>\n<p>So each <code>Order</code> is associated with a <code>Customer</code> and one-to-many association with <code>OrderContent</code>. Each <code>OrderContent</code> has properties: <em>product</em> and <em>quantity</em>.</p>\n<p>I would like to return the most valuable <em>customer</em>, which is the <em>customer</em> that has the highest value of all placed <em>orders</em>.</p>\n<p>Let's consider the example below:</p>\n<pre><code>List&lt;Order&gt; orders = new ArrayList&lt;&gt;();\n\nCustomer customer1 = new Customer(&quot;1&quot;, &quot;Bill&quot;);\nCustomer customer2 = new Customer(&quot;2&quot;, &quot;John&quot;);\n\nProduct device1 = new Product(&quot;Device 1&quot;, new BigDecimal(&quot;30.00&quot;));\nProduct device2 = new Product(&quot;Device 2&quot;, new BigDecimal(&quot;50.00&quot;));\nProduct device3 = new Product(&quot;Device 3&quot;, new BigDecimal(&quot;110.00&quot;));\n\norders.add(new Order(&quot;1&quot;, customer1).addOrderContent(device1 , 1));\norders.add(new Order(&quot;2&quot;, customer1).addOrderContent(device2 , 1));\norders.add(new Order(&quot;3&quot;, customer2).addOrderContent(device3, 1));\n</code></pre>\n<p>The code below fail to compile. The problem is located inside the collector, because the types of arguments inside <code>mapping()</code> does not match. How to implement this logic properly?</p>\n<p><em>My code:</em></p>\n<pre><code>Customer customer = orders.stream()\n    .collect(Collectors.groupingBy(Order::getCustomer,\n        Collectors.mapping((Order order) -&gt; order.getOrderContent().stream()\n            .map(orderContent -&gt; orderContent.getProduct().getPrice()\n                .multiply(new BigDecimal(orderContent.getQuantity()))),\n            Collectors.reducing(BigDecimal.ZERO, BigDecimal::add))\n    ))\n    .entrySet().stream()\n    .max(Comparator.comparing(Map.Entry::getValue))\n    .map(Map.Entry::getKey).orElse(null);\n</code></pre>\n"},{"tags":["java","generics","sonarqube"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1660931980,"post_id":73420570,"comment_id":129658622,"body_markdown":"Using `X` _anywhere_ without a `&lt;...&gt;` after it can cause weird effects due to how raw types work.  You&#39;ll get a warning everywhere you do it, for good reason.","body":"Using <code>X</code> <i>anywhere</i> without a <code>&lt;...&gt;</code> after it can cause weird effects due to how raw types work.  You&#39;ll get a warning everywhere you do it, for good reason."},{"owner":{"account_id":5441246,"reputation":386,"user_id":4329276,"display_name":"Hans Wurst"},"score":0,"creation_date":1660937199,"post_id":73420570,"comment_id":129660032,"body_markdown":"@LouisWasserman the weird effect in my example occurred *because* the method used the wildcard and not because of any raw types.","body":"@LouisWasserman the weird effect in my example occurred <i>because</i> the method used the wildcard and not because of any raw types."}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660942493,"creation_date":1660936637,"answer_id":73421353,"question_id":73420570,"body_markdown":"Probably there&#39;s a misunderstanding. \r\n\r\nLet&#39;s have a look at\r\n\r\n```\r\npublic void someMethod(SomeType&lt;?&gt; param) { ... }\r\n```\r\n\r\nThis method accepts a parameter `param` which has to be of the parameterized type `SomeType` but the method doesn&#39;t mind the type parameter (put casually). That is, you can call this method with any parameter of type `SomeType` regardless of the used type parameter. \r\n\r\nSo, you can create your objects with a concrete type parameter and hand it over to the method, for example\r\n\r\n```\r\npublic class Test&lt;T&gt; {\r\n    public static void main(String[] args) {\r\n        print(newTestString());\r\n        print(newTestLong());\r\n    }\r\n\r\n    public static void print(Test&lt;?&gt; someTest) {\r\n        System.out.println(someTest);\r\n    }\r\n\r\n    public static Test&lt;String&gt; newTestString() {\r\n        return new Test&lt;String&gt;();\r\n    }\r\n\r\n    public static Test&lt;Long&gt; newTestLong() {\r\n        return new Test&lt;Long&gt;();\r\n    }\r\n}\r\n```\r\n\r\n**Update**\r\n\r\nThe misunderstanding was at my side as it&#39;s about a generic type of a generic type. That&#39;s a different story. In the example the type is an Iterable which is parameterized by `SomeType&lt;?&gt;`. The problem is, that `Iterable&lt;SomeType&lt;String&gt;&gt;` is not a subtype of `Iterable&lt;SomeType&lt;?&gt;&gt;`. \r\n\r\nThe method would have to accept e. g. a parameter of type `Iterable&lt;? extends SomeType&lt;?&gt;&gt;` to be able to pass a `Iterable&lt;SomeType&lt;String&gt;&gt;`.\r\n\r\nAs the method is given the way it is, you&#39;ll have to work around. \r\n\r\n(EDIT: deleted crap I wrote)\r\n\r\nI would either not factor out the creation of the object or suppress the warning in that case. ","title":"Generic wildcards in return types - how to avoid?","body":"<p>Probably there's a misunderstanding.</p>\n<p>Let's have a look at</p>\n<pre><code>public void someMethod(SomeType&lt;?&gt; param) { ... }\n</code></pre>\n<p>This method accepts a parameter <code>param</code> which has to be of the parameterized type <code>SomeType</code> but the method doesn't mind the type parameter (put casually). That is, you can call this method with any parameter of type <code>SomeType</code> regardless of the used type parameter.</p>\n<p>So, you can create your objects with a concrete type parameter and hand it over to the method, for example</p>\n<pre><code>public class Test&lt;T&gt; {\n    public static void main(String[] args) {\n        print(newTestString());\n        print(newTestLong());\n    }\n\n    public static void print(Test&lt;?&gt; someTest) {\n        System.out.println(someTest);\n    }\n\n    public static Test&lt;String&gt; newTestString() {\n        return new Test&lt;String&gt;();\n    }\n\n    public static Test&lt;Long&gt; newTestLong() {\n        return new Test&lt;Long&gt;();\n    }\n}\n</code></pre>\n<p><strong>Update</strong></p>\n<p>The misunderstanding was at my side as it's about a generic type of a generic type. That's a different story. In the example the type is an Iterable which is parameterized by <code>SomeType&lt;?&gt;</code>. The problem is, that <code>Iterable&lt;SomeType&lt;String&gt;&gt;</code> is not a subtype of <code>Iterable&lt;SomeType&lt;?&gt;&gt;</code>.</p>\n<p>The method would have to accept e. g. a parameter of type <code>Iterable&lt;? extends SomeType&lt;?&gt;&gt;</code> to be able to pass a <code>Iterable&lt;SomeType&lt;String&gt;&gt;</code>.</p>\n<p>As the method is given the way it is, you'll have to work around.</p>\n<p>(EDIT: deleted crap I wrote)</p>\n<p>I would either not factor out the creation of the object or suppress the warning in that case.</p>\n"}],"owner":{"account_id":5441246,"reputation":386,"user_id":4329276,"display_name":"Hans Wurst"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73421353,"answer_count":1,"score":0,"last_activity_date":1660942493,"creation_date":1660931631,"question_id":73420570,"body_markdown":"Sonar says \r\n\r\n&gt; Generic wildcard types should not be used in return types\r\n\r\nNow I have to use an API that accepts an `Iterable&lt;SomeType&lt;?&gt;&gt;` as parameter. How should I create this parameter without violating the Sonar rule if I want to create it in a separate method - so not inline like `List&lt;SomeType&lt;?&gt;&gt; param = new ArrayList();` \r\n\r\nSome code I&#39;ve played around with:\r\n```\r\ninterface X&lt;T&gt; {\r\n\r\n    }\r\n    static class Blarp {\r\n        void addSomeBlarps(Iterable&lt;X&lt;?&gt;&gt; blub) {\r\n        }\r\n    }\r\n\r\n    @Test\r\n    void testGenerics() {\r\n        Blarp b = new Blarp();\r\n        X&lt;?&gt; c = new X&lt;&gt;() {};\r\n        X d = new X() {};\r\n        List&lt;X&gt; blarpList = new ArrayList();\r\n        blarpList.add(c);\r\n        blarpList.add(d);\r\n        List&lt;X&lt;?&gt;&gt; blubList = new ArrayList&lt;&gt;();\r\n        blubList.add(c);\r\n        blubList.add(d);\r\n//        blubList.addAll(blarpList); does not work - why? why can a single X be added but not multiple?\r\n//        blubList.addAll((Collection&lt;? extends X&lt;?&gt;&gt;) blarpList); does seem to work with IntelliJ but then fails on compile\r\n\r\n//        b.addSomeBlarps(blarpList); doesn&#39;t work - why?\r\n        b.addSomeBlarps(blubList);\r\n    }\r\n```","title":"Generic wildcards in return types - how to avoid?","body":"<p>Sonar says</p>\n<blockquote>\n<p>Generic wildcard types should not be used in return types</p>\n</blockquote>\n<p>Now I have to use an API that accepts an <code>Iterable&lt;SomeType&lt;?&gt;&gt;</code> as parameter. How should I create this parameter without violating the Sonar rule if I want to create it in a separate method - so not inline like <code>List&lt;SomeType&lt;?&gt;&gt; param = new ArrayList();</code></p>\n<p>Some code I've played around with:</p>\n<pre><code>interface X&lt;T&gt; {\n\n    }\n    static class Blarp {\n        void addSomeBlarps(Iterable&lt;X&lt;?&gt;&gt; blub) {\n        }\n    }\n\n    @Test\n    void testGenerics() {\n        Blarp b = new Blarp();\n        X&lt;?&gt; c = new X&lt;&gt;() {};\n        X d = new X() {};\n        List&lt;X&gt; blarpList = new ArrayList();\n        blarpList.add(c);\n        blarpList.add(d);\n        List&lt;X&lt;?&gt;&gt; blubList = new ArrayList&lt;&gt;();\n        blubList.add(c);\n        blubList.add(d);\n//        blubList.addAll(blarpList); does not work - why? why can a single X be added but not multiple?\n//        blubList.addAll((Collection&lt;? extends X&lt;?&gt;&gt;) blarpList); does seem to work with IntelliJ but then fails on compile\n\n//        b.addSomeBlarps(blarpList); doesn't work - why?\n        b.addSomeBlarps(blubList);\n    }\n</code></pre>\n"},{"tags":["java","javafx","z-order","vbox"],"answers":[{"tags":[],"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1275902224,"creation_date":1275902224,"answer_id":2988261,"question_id":2988196,"body_markdown":"Z-order in JavaFX is actually the order in the scenegraph, eg. in the content sequence of the scene (then in the contents of the groups, containers, etc.).\r\n\r\nAll nodes have also toFront() and toBack() functions to help changing this order.\r\nFor finer control, you have to remove nodes from one place and insert it higher or lower in the sequence.","title":"Z-Order in JavaFX","body":"<p>Z-order in JavaFX is actually the order in the scenegraph, eg. in the content sequence of the scene (then in the contents of the groups, containers, etc.).</p>\n\n<p>All nodes have also toFront() and toBack() functions to help changing this order.\nFor finer control, you have to remove nodes from one place and insert it higher or lower in the sequence.</p>\n"},{"tags":[],"owner":{"account_id":461474,"reputation":369,"user_id":863185,"display_name":"tombrus"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1361956882,"creation_date":1361956882,"answer_id":15108321,"question_id":2988196,"body_markdown":"With the toFront() and toBack() functions you can indeed influence the z-order, but be aware that this also influences the layout. The HBox and VBox for instance also use the sequence of children to do the layout and moving something to the front will also move it to the end of the [HV]Box. This might not be what you are looking for. \r\n\r\nI was looking for a way to do an animation with the animated Node on top of all others, without messing up the layout. There seems to be no way to do that because the z-order and layout order are both taken from the child-order. ","title":"Z-Order in JavaFX","body":"<p>With the toFront() and toBack() functions you can indeed influence the z-order, but be aware that this also influences the layout. The HBox and VBox for instance also use the sequence of children to do the layout and moving something to the front will also move it to the end of the [HV]Box. This might not be what you are looking for. </p>\n\n<p>I was looking for a way to do an animation with the animated Node on top of all others, without messing up the layout. There seems to be no way to do that because the z-order and layout order are both taken from the child-order. </p>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1660942343,"creation_date":1545606082,"answer_id":53907803,"question_id":2988196,"body_markdown":"**TL;DR:**\r\n\r\n* The order of the scene graph determines the rendering order (Z-order) of the nodes.\r\n    * This order is determined by the `children` list of the various `Parent`s in the scene.\r\n    * Change this order to change the rendering order.\r\n    * **Warning:** Changing this order may have undesired side effects if a layout (e.g., `VBox`) uses said order to determine where children are positioned relative to each other.\r\n\r\n* In JavaFX 9+ you can use the [`Node#viewOrder`][1] property to change the render order of nodes without changing the layout positions of those nodes.\r\n\r\n---\r\n\r\n# Painter&#39;s Algorithm\r\n\r\nThe rendering of the scene graph follows the:\r\n\r\n * [Painter&#39;s Algorithm][2]\r\n\r\n&gt; The painters algorithm creates images by sorting the polygons within the image by their depth and placing each polygon in order from the farthest to the closest object\r\n&gt;\r\n&gt; The name &quot;painter&#39;s algorithm&quot; refers to the technique employed by many painters where they begin by painting distant parts of a scene before parts that are nearer, thereby covering some areas of distant parts\r\n\r\nThe actual implementation may differ from a traditional painter&#39;s algorithm, for performance purposes, and also for depth buffer handling for 3D scenes, but the general principle for rendering remains the same and is a good framework to use when reasoning about what will be seen, and what will be occluded.\r\n\r\nThe rendering order input to the algorithm is first the z coordinate of a node in relation to the camera, then the view order if set, then the child order for elements with the same z coordinate and unspecified view order.\r\n  \r\n# Z-Order in JavaFX\r\n\r\nIn JavaFX, Z-order is primarily determined by the order of the scene graph. And that order is determined by the order of the `Node`s in each `Parent`&#39;s children list (recursively, depth-first). \r\n\r\nFor example, the following application:\r\n\r\n```lang-java\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application {\r\n\r\n  @Override\r\n  public void start(Stage primaryStage) {\r\n    var titleLabel = new Label(&quot;Title&quot;);\r\n\r\n    var fieldLabel = new Label(&quot;Field:&quot;);\r\n    var textField = new TextField();\r\n    var hbox = new HBox(fieldLabel, textField);\r\n\r\n    var button = new Button(&quot;Action&quot;);\r\n\r\n    var root = new VBox(titleLabel, hbox, button);\r\n\r\n    var scene = new Scene(root);\r\n    primaryStage.setScene(scene);\r\n    primaryStage.show();\r\n  }\r\n}\r\n```\r\n\r\nYields the following scene graph:\r\n\r\n```lang-none\r\n                                  +-------------+                   \r\n                                  |             |                   \r\n                                  |   Window    |                   \r\n                                  |             |                   \r\n                                  +------|------+                   \r\n                                         |                          \r\n                                  +------|------+                   \r\n                                  |             |                   \r\n                                  |    Scene    |                   \r\n                                  |             |                   \r\n                                  +------|------+                   \r\n                                         |                          \r\n                                  +------|------+                   \r\n                                  |             |                   \r\n                       +-----------    VBox     ------------+       \r\n                       |          |             |           |       \r\n                       |          +------|------+           |       \r\n                       |                 |                  |       \r\n               +-------|-----+    +------|------+    +------|------+\r\n               |             |    |             |    |             |\r\n               |    Label    |    |    HBox     |    |   Button    |\r\n               |             |    |             |    |             |\r\n               +-------------+    +------|------+    +-------------+\r\n                                         |                          \r\n                               +---------|---------+                \r\n                               |                   |                \r\n                        +------|------+    +-------|-----+          \r\n                        |             |    |             |          \r\n                        |    Label    |    |  TextField  |          \r\n                        |             |    |             |          \r\n                        +-------------+    +-------------+          \r\n```\r\n\r\nThe `VBox` has three children: a `Label`, an `HBox`, and a `Button`. If these children were to overlap, then the `Label` would be rendered behind the `HBox` and all its descendants; similarly, the `HBox` (and all its descendants) would be rendered behind the `Button`. For the `HBox`, if its children were to overlap, then the second `Label` would be rendered behind the `TextField`.\r\n\r\nSo, if you want to change the Z-order of nodes then you just need to change the order of the scene graph. In the context of a single parent, there are two convenience methods you can use:\r\n\r\n1. [`Node#toBack()`][3]: Moves the node to the start of its parent&#39;s children list, causing it to be rendered behind the other children of that parent.\r\n\r\n2. [`Node#toFront()`][4]: Moves the node to the end of its parent&#39;s children list, causing it to be rendered on top of the other children of that parent.\r\n\r\n**Warning:** Many layouts, such as `VBox`, use the order of the children list to determine where to position its children relative to each other. Changing the order of the children list of these layouts will change the position of the children in addition to the render order.\r\n\r\n### FXML\r\n\r\nNote that in FXML, the declaration order of child node elements is the order they will appear in their parent&#39;s children list.\r\n\r\n## The `Node.viewOrder` Property (JavaFX 9+)\r\n\r\nAs noted in the warning above, changing the order of the children list can have undesired side effects. To avoid these side effects, you can use the [`Node#viewOrder`][1] property.\r\n\r\n&gt; Defines the rendering and picking order of this `Node` within its parent.\r\n&gt;\r\n&gt; This property is used to alter the rendering and picking order of a node within its parent without reordering the parent&#39;s `children` list. For example, this can be used as a more efficient way to implement transparency sorting. To do this, an application can assign the `viewOrder` value of each node to the computed distance between that node and the viewer.\r\n&gt;\r\n&gt; The parent will traverse its `children` in decreasing `viewOrder` order. This means that a child with a lower `viewOrder` will be in front of a child with a higher `viewOrder`. If two children have the same `viewOrder`, the parent will traverse them in the order they appear in the parent&#39;s `children` list.\r\n&gt;\r\n&gt; However, `viewOrder` does not alter the layout and focus traversal order of this `Node` within its parent. A parent always traverses its `children` list in order when doing layout or focus traversal.\r\n\r\nThe default value of this property is `0.0`.\r\n\r\nNote this property only affects the rendering order of a single parent. For instance, in the above example, you couldn&#39;t force the `TextField` to be rendered on top of the `Button` by only changing the `viewOrder` value of the `TextField`, because the `Button` and `TextField` belong to different parents.\r\n\r\nThis property can be set from CSS with `-fx-view-order`.\r\n\r\n## 3D Scenes\r\n\r\nEvery `Node` has `x`, `y`, and `z` coordinates/dimensions. In 2D scenes, only the `x` and `y` values have any meaning. But in 3D scenes the `z` coordinate/dimension also has meaning. To have a 3D scene you must instantiate a `Scene` (or `SubScene`) with its `depthBuffer` parameter set to `true`.\r\n\r\n```lang-java\r\nScene scene = new Scene(root, width, height, true, SceneAntialiasing.BALANCED);\r\n```\r\n\r\n&lt;sup&gt;- See [documentation][5].&lt;/sup&gt;\r\n\r\nThis can only be done during construction. The `depthBuffer` value cannot be changed after. Also, note the `SceneAntialiasing` argument is optional (i.e., there&#39;s an overload that doesn&#39;t have that parameter, but it defaults to `DISABLED`).\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/Node.html#viewOrderProperty\r\n  [2]: https://en.wikipedia.org/wiki/Painter%27s_algorithm\r\n  [3]: https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/Node.html#toBack()\r\n  [4]: https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/Node.html#toFront()\r\n  [5]: https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/Scene.html#%3Cinit%3E(javafx.scene.Parent,double,double,boolean,javafx.scene.SceneAntialiasing)","title":"Z-Order in JavaFX","body":"<p><strong>TL;DR:</strong></p>\n<ul>\n<li><p>The order of the scene graph determines the rendering order (Z-order) of the nodes.</p>\n<ul>\n<li>This order is determined by the <code>children</code> list of the various <code>Parent</code>s in the scene.</li>\n<li>Change this order to change the rendering order.</li>\n<li><strong>Warning:</strong> Changing this order may have undesired side effects if a layout (e.g., <code>VBox</code>) uses said order to determine where children are positioned relative to each other.</li>\n</ul>\n</li>\n<li><p>In JavaFX 9+ you can use the <a href=\"https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/Node.html#viewOrderProperty\" rel=\"nofollow noreferrer\"><code>Node#viewOrder</code></a> property to change the render order of nodes without changing the layout positions of those nodes.</p>\n</li>\n</ul>\n<hr />\n<h1>Painter's Algorithm</h1>\n<p>The rendering of the scene graph follows the:</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Painter%27s_algorithm\" rel=\"nofollow noreferrer\">Painter's Algorithm</a></li>\n</ul>\n<blockquote>\n<p>The painters algorithm creates images by sorting the polygons within the image by their depth and placing each polygon in order from the farthest to the closest object</p>\n<p>The name &quot;painter's algorithm&quot; refers to the technique employed by many painters where they begin by painting distant parts of a scene before parts that are nearer, thereby covering some areas of distant parts</p>\n</blockquote>\n<p>The actual implementation may differ from a traditional painter's algorithm, for performance purposes, and also for depth buffer handling for 3D scenes, but the general principle for rendering remains the same and is a good framework to use when reasoning about what will be seen, and what will be occluded.</p>\n<p>The rendering order input to the algorithm is first the z coordinate of a node in relation to the camera, then the view order if set, then the child order for elements with the same z coordinate and unspecified view order.</p>\n<h1>Z-Order in JavaFX</h1>\n<p>In JavaFX, Z-order is primarily determined by the order of the scene graph. And that order is determined by the order of the <code>Node</code>s in each <code>Parent</code>'s children list (recursively, depth-first).</p>\n<p>For example, the following application:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\npublic class App extends Application {\n\n  @Override\n  public void start(Stage primaryStage) {\n    var titleLabel = new Label(&quot;Title&quot;);\n\n    var fieldLabel = new Label(&quot;Field:&quot;);\n    var textField = new TextField();\n    var hbox = new HBox(fieldLabel, textField);\n\n    var button = new Button(&quot;Action&quot;);\n\n    var root = new VBox(titleLabel, hbox, button);\n\n    var scene = new Scene(root);\n    primaryStage.setScene(scene);\n    primaryStage.show();\n  }\n}\n</code></pre>\n<p>Yields the following scene graph:</p>\n<pre class=\"lang-none prettyprint-override\"><code>                                  +-------------+                   \n                                  |             |                   \n                                  |   Window    |                   \n                                  |             |                   \n                                  +------|------+                   \n                                         |                          \n                                  +------|------+                   \n                                  |             |                   \n                                  |    Scene    |                   \n                                  |             |                   \n                                  +------|------+                   \n                                         |                          \n                                  +------|------+                   \n                                  |             |                   \n                       +-----------    VBox     ------------+       \n                       |          |             |           |       \n                       |          +------|------+           |       \n                       |                 |                  |       \n               +-------|-----+    +------|------+    +------|------+\n               |             |    |             |    |             |\n               |    Label    |    |    HBox     |    |   Button    |\n               |             |    |             |    |             |\n               +-------------+    +------|------+    +-------------+\n                                         |                          \n                               +---------|---------+                \n                               |                   |                \n                        +------|------+    +-------|-----+          \n                        |             |    |             |          \n                        |    Label    |    |  TextField  |          \n                        |             |    |             |          \n                        +-------------+    +-------------+          \n</code></pre>\n<p>The <code>VBox</code> has three children: a <code>Label</code>, an <code>HBox</code>, and a <code>Button</code>. If these children were to overlap, then the <code>Label</code> would be rendered behind the <code>HBox</code> and all its descendants; similarly, the <code>HBox</code> (and all its descendants) would be rendered behind the <code>Button</code>. For the <code>HBox</code>, if its children were to overlap, then the second <code>Label</code> would be rendered behind the <code>TextField</code>.</p>\n<p>So, if you want to change the Z-order of nodes then you just need to change the order of the scene graph. In the context of a single parent, there are two convenience methods you can use:</p>\n<ol>\n<li><p><a href=\"https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/Node.html#toBack()\" rel=\"nofollow noreferrer\"><code>Node#toBack()</code></a>: Moves the node to the start of its parent's children list, causing it to be rendered behind the other children of that parent.</p>\n</li>\n<li><p><a href=\"https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/Node.html#toFront()\" rel=\"nofollow noreferrer\"><code>Node#toFront()</code></a>: Moves the node to the end of its parent's children list, causing it to be rendered on top of the other children of that parent.</p>\n</li>\n</ol>\n<p><strong>Warning:</strong> Many layouts, such as <code>VBox</code>, use the order of the children list to determine where to position its children relative to each other. Changing the order of the children list of these layouts will change the position of the children in addition to the render order.</p>\n<h3>FXML</h3>\n<p>Note that in FXML, the declaration order of child node elements is the order they will appear in their parent's children list.</p>\n<h2>The <code>Node.viewOrder</code> Property (JavaFX 9+)</h2>\n<p>As noted in the warning above, changing the order of the children list can have undesired side effects. To avoid these side effects, you can use the <a href=\"https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/Node.html#viewOrderProperty\" rel=\"nofollow noreferrer\"><code>Node#viewOrder</code></a> property.</p>\n<blockquote>\n<p>Defines the rendering and picking order of this <code>Node</code> within its parent.</p>\n<p>This property is used to alter the rendering and picking order of a node within its parent without reordering the parent's <code>children</code> list. For example, this can be used as a more efficient way to implement transparency sorting. To do this, an application can assign the <code>viewOrder</code> value of each node to the computed distance between that node and the viewer.</p>\n<p>The parent will traverse its <code>children</code> in decreasing <code>viewOrder</code> order. This means that a child with a lower <code>viewOrder</code> will be in front of a child with a higher <code>viewOrder</code>. If two children have the same <code>viewOrder</code>, the parent will traverse them in the order they appear in the parent's <code>children</code> list.</p>\n<p>However, <code>viewOrder</code> does not alter the layout and focus traversal order of this <code>Node</code> within its parent. A parent always traverses its <code>children</code> list in order when doing layout or focus traversal.</p>\n</blockquote>\n<p>The default value of this property is <code>0.0</code>.</p>\n<p>Note this property only affects the rendering order of a single parent. For instance, in the above example, you couldn't force the <code>TextField</code> to be rendered on top of the <code>Button</code> by only changing the <code>viewOrder</code> value of the <code>TextField</code>, because the <code>Button</code> and <code>TextField</code> belong to different parents.</p>\n<p>This property can be set from CSS with <code>-fx-view-order</code>.</p>\n<h2>3D Scenes</h2>\n<p>Every <code>Node</code> has <code>x</code>, <code>y</code>, and <code>z</code> coordinates/dimensions. In 2D scenes, only the <code>x</code> and <code>y</code> values have any meaning. But in 3D scenes the <code>z</code> coordinate/dimension also has meaning. To have a 3D scene you must instantiate a <code>Scene</code> (or <code>SubScene</code>) with its <code>depthBuffer</code> parameter set to <code>true</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scene scene = new Scene(root, width, height, true, SceneAntialiasing.BALANCED);\n</code></pre>\n<p><sup>- See <a href=\"https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/Scene.html#%3Cinit%3E(javafx.scene.Parent,double,double,boolean,javafx.scene.SceneAntialiasing)\" rel=\"nofollow noreferrer\">documentation</a>.</sup></p>\n<p>This can only be done during construction. The <code>depthBuffer</code> value cannot be changed after. Also, note the <code>SceneAntialiasing</code> argument is optional (i.e., there's an overload that doesn't have that parameter, but it defaults to <code>DISABLED</code>).</p>\n"}],"owner":{"account_id":64595,"reputation":5081,"user_id":190612,"accept_rate":71,"display_name":"Scaraffe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29763,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":2988261,"answer_count":3,"score":22,"last_activity_date":1660942343,"creation_date":1275901751,"question_id":2988196,"body_markdown":"How do I set Z-order for `VBox` in JavaFX?","title":"Z-Order in JavaFX","body":"<p>How do I set Z-order for <code>VBox</code> in JavaFX?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":4423146,"reputation":447,"user_id":3602422,"accept_rate":60,"display_name":"kosta.dani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646223812,"creation_date":1646223812,"answer_id":71322650,"question_id":71322509,"body_markdown":"Spring doesn&#39;t create transactions for calls in the same class so the setXor will be executed in the same Transaction as data no matter if you annotate it with transactional or not.\r\n\r\nI think also setXor and data will be executed in one Thread other than the main.","title":"@Async and @Transactional","body":"<p>Spring doesn't create transactions for calls in the same class so the setXor will be executed in the same Transaction as data no matter if you annotate it with transactional or not.</p>\n<p>I think also setXor and data will be executed in one Thread other than the main.</p>\n"},{"tags":[],"owner":{"account_id":22066749,"reputation":3758,"user_id":16328516,"display_name":"TriS"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1646299294,"creation_date":1646233261,"answer_id":71324858,"question_id":71322509,"body_markdown":"As per Spring Transaction [Documentation][1] \r\n\r\n&gt; All code within a transaction scope runs in that transaction. However,\r\n&gt; you can specify the behavior if a transactional method is run when a\r\n&gt; transaction context already exists. For example, code can continue\r\n&gt; running in the existing transaction (the common case), or the existing\r\n&gt; transaction can be suspended and a new transaction created.\r\n&gt; \r\n&gt; `@Transactional` commonly works with thread-bound transactions managed\r\n&gt; by `PlatformTransactionManager`, exposing a transaction to all data\r\n&gt; access operations within the current execution thread. Note: This does\r\n&gt; not propagate to newly started threads within the method.\r\n\r\n`@Transactional` is powered by Aspect-Oriented Programming. Therefore, processing occurs when a bean is called from another bean. In the example above, the method is called from the same class so that no proxies can be applied. \r\n\r\nWhen a method without `@Transactional` is called within a transaction block, the parent transaction will continue to exist for the new method. It will use the same connection from the parent method (method with @Transactional) and any exception caused in the called method (method without @Transactional) will cause the transaction to rollback as configured in the transaction definition.\r\n\r\nIf the `@Async` annotation is being used extra care should be taken with respect to transaction. When a `@Transactional` Spring `@Component` calls a method annotated with `@Async` the call to the asynchronous method is being scheduled and executed at a later time by a task executor and is thus handled as a &#39;fresh&#39; call, i.e. without a transactional context. If the `@Async` method (or the `@Component` in which it is declared) is not `@Transactional` by itself Spring will not manage any needed transactions.\r\n\r\nIn order to make Spring manage the transaction of the `@Async` method either the `@Component` or the method itself should declare the `@Transactional` annotation, this way Spring will manage the transaction even if a method is being executed asynchronous.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html","title":"@Async and @Transactional","body":"<p>As per Spring Transaction <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html\" rel=\"noreferrer\">Documentation</a></p>\n<blockquote>\n<p>All code within a transaction scope runs in that transaction. However,\nyou can specify the behavior if a transactional method is run when a\ntransaction context already exists. For example, code can continue\nrunning in the existing transaction (the common case), or the existing\ntransaction can be suspended and a new transaction created.</p>\n<p><code>@Transactional</code> commonly works with thread-bound transactions managed\nby <code>PlatformTransactionManager</code>, exposing a transaction to all data\naccess operations within the current execution thread. Note: This does\nnot propagate to newly started threads within the method.</p>\n</blockquote>\n<p><code>@Transactional</code> is powered by Aspect-Oriented Programming. Therefore, processing occurs when a bean is called from another bean. In the example above, the method is called from the same class so that no proxies can be applied.</p>\n<p>When a method without <code>@Transactional</code> is called within a transaction block, the parent transaction will continue to exist for the new method. It will use the same connection from the parent method (method with @Transactional) and any exception caused in the called method (method without @Transactional) will cause the transaction to rollback as configured in the transaction definition.</p>\n<p>If the <code>@Async</code> annotation is being used extra care should be taken with respect to transaction. When a <code>@Transactional</code> Spring <code>@Component</code> calls a method annotated with <code>@Async</code> the call to the asynchronous method is being scheduled and executed at a later time by a task executor and is thus handled as a 'fresh' call, i.e. without a transactional context. If the <code>@Async</code> method (or the <code>@Component</code> in which it is declared) is not <code>@Transactional</code> by itself Spring will not manage any needed transactions.</p>\n<p>In order to make Spring manage the transaction of the <code>@Async</code> method either the <code>@Component</code> or the method itself should declare the <code>@Transactional</code> annotation, this way Spring will manage the transaction even if a method is being executed asynchronous.</p>\n"},{"tags":[],"owner":{"account_id":12984311,"reputation":422,"user_id":9386625,"display_name":"Andr&#233; Rodrigues de Sousa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660941837,"creation_date":1660941837,"answer_id":73422100,"question_id":71322509,"body_markdown":"i was successful, only when i used jdbc template(this is so sad :()\r\nNote: in this case @Scheduled and @Async have the same result \r\n \r\n\r\n       @Configuration\r\n        @PropertySource(&quot;&quot;)\r\n        @EnableJpaRepositories(basePackages = &quot;com.foo.myapp&quot;)\r\n        public class DataSourceConfig {\r\n    \r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean transpEntityManager() {\r\n    final LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();    \r\n    return em;\r\n    }\t\r\n    \t\r\n    \t@Bean\r\n    \t@ConfigurationProperties(prefix = &quot;app.datasource.transp&quot;)\r\n    \tpublic DataSourceProperties transpDataSourceProperties() {\r\n    \t    return new DataSourceProperties();\r\n    \t}\r\n    \r\n    \r\n    @Bean(name = &quot;datasource_transp&quot;)\r\n    public DataSource transpDataSource() {\r\n    return transpDataSourceProperties().initializeDataSourceBuilder().type(HikariDataSource.class).build();\r\n    }\r\n    \r\n    \r\n    @Bean(name = &quot;tm_transp&quot;)\r\n    @Autowired\r\n    DataSourceTransactionManager tmTransp(@Qualifier(&quot;datasource_transp&quot;) DataSource datasource) {\r\n    DataSourceTransactionManager txm = new DataSourceTransactionManager(datasource);\r\n    return txm;\r\n    }\r\n    \r\n    \r\n    @Bean(name = &quot;jdbcTemplateTransp&quot;)\r\n    public JdbcTemplate jdbcTemplateTransp(@Qualifier(&quot;datasource_transp&quot;) DataSource ds) {\r\n    \t\treturn new JdbcTemplate(ds);\r\n    }\r\n           \r\n    }\r\n\r\n\r\n\r\n\r\n    @Service\r\n    @EnableScheduling\r\n    public class ScheduledService {\r\n    \r\n        @Autowired\r\n        private ReportDataService reportDataService;\r\n    \r\n        @Autowired\r\n        private AsyncService async;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;movProcTPTE&quot;)\r\n        private TaskExecutor movProcTaskExecutor;\r\n    \r\n        @Scheduled(fixedDelay = 1000 * 60,initialDelay = 60000)\r\n        public void agendamentoImportacaoMovProcessual(){\r\n            movProcTaskExecutor.execute(\r\n                    () -&gt; {\r\n                        myService.methodWithDatabasePersist();\r\n                    }\r\n            );\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\n    @Service\r\n    public class ReportDataService {\r\n        \r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;jdbcTemplateTransp&quot;)\r\n        private JdbcTemplate jdbc;\r\n    \r\n        \r\n    \r\n        public void jdbcSave(List&lt;ReportData&gt; list){\r\n            DateTimeFormatter fmt = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n            LocalDateTime date = LocalDateTime.now();\r\n            String dateStr = date.format(fmt);\r\n            ReportData report = list.get(0);\r\n            String sql = &quot;INSERT INTO .....&quot;;\r\n            jdbc.update(sql);\r\n        }\r\n    \r\n        public void methodWithDatabasePersist(){        \r\n                        jdbcSave(relatorios);   \r\n    \r\n        }\r\n    \r\n    \r\n    }\r\n\r\n","title":"@Async and @Transactional","body":"<p>i was successful, only when i used jdbc template(this is so sad :()\nNote: in this case @Scheduled and @Async have the same result</p>\n<pre><code>   @Configuration\n    @PropertySource(&quot;&quot;)\n    @EnableJpaRepositories(basePackages = &quot;com.foo.myapp&quot;)\n    public class DataSourceConfig {\n\n@Bean\npublic LocalContainerEntityManagerFactoryBean transpEntityManager() {\nfinal LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();    \nreturn em;\n}   \n    \n    @Bean\n    @ConfigurationProperties(prefix = &quot;app.datasource.transp&quot;)\n    public DataSourceProperties transpDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n\n@Bean(name = &quot;datasource_transp&quot;)\npublic DataSource transpDataSource() {\nreturn transpDataSourceProperties().initializeDataSourceBuilder().type(HikariDataSource.class).build();\n}\n\n\n@Bean(name = &quot;tm_transp&quot;)\n@Autowired\nDataSourceTransactionManager tmTransp(@Qualifier(&quot;datasource_transp&quot;) DataSource datasource) {\nDataSourceTransactionManager txm = new DataSourceTransactionManager(datasource);\nreturn txm;\n}\n\n\n@Bean(name = &quot;jdbcTemplateTransp&quot;)\npublic JdbcTemplate jdbcTemplateTransp(@Qualifier(&quot;datasource_transp&quot;) DataSource ds) {\n        return new JdbcTemplate(ds);\n}\n       \n}\n\n\n\n\n@Service\n@EnableScheduling\npublic class ScheduledService {\n\n    @Autowired\n    private ReportDataService reportDataService;\n\n    @Autowired\n    private AsyncService async;\n\n    @Autowired\n    @Qualifier(&quot;movProcTPTE&quot;)\n    private TaskExecutor movProcTaskExecutor;\n\n    @Scheduled(fixedDelay = 1000 * 60,initialDelay = 60000)\n    public void agendamentoImportacaoMovProcessual(){\n        movProcTaskExecutor.execute(\n                () -&gt; {\n                    myService.methodWithDatabasePersist();\n                }\n        );\n\n    }\n\n}\n\n\n@Service\npublic class ReportDataService {\n    \n\n    @Autowired\n    @Qualifier(&quot;jdbcTemplateTransp&quot;)\n    private JdbcTemplate jdbc;\n\n    \n\n    public void jdbcSave(List&lt;ReportData&gt; list){\n        DateTimeFormatter fmt = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n        LocalDateTime date = LocalDateTime.now();\n        String dateStr = date.format(fmt);\n        ReportData report = list.get(0);\n        String sql = &quot;INSERT INTO .....&quot;;\n        jdbc.update(sql);\n    }\n\n    public void methodWithDatabasePersist(){        \n                    jdbcSave(relatorios);   \n\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":19216643,"reputation":191,"user_id":14041268,"display_name":" "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19744,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1660941837,"creation_date":1646223206,"question_id":71322509,"body_markdown":"Question about @Transactional working in @Async working\r\n\r\nThis is a code sketch for an example:\r\n\r\n    @Async\r\n    @Transactional\r\n     public void data(List&lt;Pass&gt; pass) {\r\n            //code\r\n            for(City city : city) {\r\n                for(Dep dep: city.getDeps()) {\r\n                    //code\r\n                    setXor(user, xor);\r\n                    //code\r\n                }\r\n            }\r\n        }\r\n    \r\n    \r\n    @Transactional\r\n    public void setXor(User user, Xor xor) {\r\n            //code\r\n            user.setXor(xor);\r\n        }\r\n\r\n\r\nThe question is, how will this work, does @Transactional extend from the data method to the setXor method (if you put an annotation on the data method, then maybe you dont need to put it on setXor? And it will automatically switch to this method)\r\n\r\nAlso a question about @Async, will setXor work on a new thread along with Async? That is, there will be a main thread, a new one is created, which includes the data method, and since the data method called another method, it will be executed on the same thread as the data method, there will be no third thread. Or vice versa and the setXor method is executed in the main thread?","title":"@Async and @Transactional","body":"<p>Question about @Transactional working in @Async working</p>\n<p>This is a code sketch for an example:</p>\n<pre><code>@Async\n@Transactional\n public void data(List&lt;Pass&gt; pass) {\n        //code\n        for(City city : city) {\n            for(Dep dep: city.getDeps()) {\n                //code\n                setXor(user, xor);\n                //code\n            }\n        }\n    }\n\n\n@Transactional\npublic void setXor(User user, Xor xor) {\n        //code\n        user.setXor(xor);\n    }\n</code></pre>\n<p>The question is, how will this work, does @Transactional extend from the data method to the setXor method (if you put an annotation on the data method, then maybe you dont need to put it on setXor? And it will automatically switch to this method)</p>\n<p>Also a question about @Async, will setXor work on a new thread along with Async? That is, there will be a main thread, a new one is created, which includes the data method, and since the data method called another method, it will be executed on the same thread as the data method, there will be no third thread. Or vice versa and the setXor method is executed in the main thread?</p>\n"},{"tags":["java","unit-testing","assertj"],"answers":[{"tags":[],"owner":{"account_id":5937539,"reputation":3116,"user_id":4669984,"accept_rate":86,"display_name":"Tarun Maganti"},"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1492068997,"creation_date":1492068461,"answer_id":43386057,"question_id":43316133,"body_markdown":"I couldn&#39;t get it to ignore some fields but I managed to temporarily solve it by introducing a comparator for the fields which I want to ignore and always evaluated them to true. This is not fluent but a temporary solution to get the job done.\r\n\r\n    assertThat(object).usingComparatorForFields((x,y)-&gt;0,&quot;field1&quot;,&quot;field2&quot;).isEqualToComparingFieldByFieldRecursively(expectedObject);\r\n\r\nThis has an [issue][1] as of April 13, 2017. [It doesn&#39;t work][2] when the fields which the comparator is trying to compare are null. This is an issue when one of objects is `null` not if both are `null`.\r\n\r\n\r\n  [1]: https://github.com/joel-costigliola/assertj-core/issues/973\r\n  [2]: https://stackoverflow.com/questions/43370317/how-does-assertjs-usingcomparatorforfields-work?noredirect=1&amp;lq=1","title":"How to compare recursively ignoring given fields using assertJ?","body":"<p>I couldn't get it to ignore some fields but I managed to temporarily solve it by introducing a comparator for the fields which I want to ignore and always evaluated them to true. This is not fluent but a temporary solution to get the job done.</p>\n\n<pre><code>assertThat(object).usingComparatorForFields((x,y)-&gt;0,\"field1\",\"field2\").isEqualToComparingFieldByFieldRecursively(expectedObject);\n</code></pre>\n\n<p>This has an <a href=\"https://github.com/joel-costigliola/assertj-core/issues/973\" rel=\"noreferrer\">issue</a> as of April 13, 2017. <a href=\"https://stackoverflow.com/questions/43370317/how-does-assertjs-usingcomparatorforfields-work?noredirect=1&amp;lq=1\">It doesn't work</a> when the fields which the comparator is trying to compare are null. This is an issue when one of objects is <code>null</code> not if both are <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":5841507,"reputation":1183,"user_id":4602948,"display_name":"Ovidiu Nistor"},"down_vote_count":0,"up_vote_count":118,"is_accepted":false,"score":118,"last_activity_date":1552238961,"creation_date":1552238961,"answer_id":55090416,"question_id":43316133,"body_markdown":"With latest &#39;Recursive comparison api improvements&#39; from AssertJ release 3.12.0\r\nit&#39;s possible now to do a recursive comparison and ignore fields:\r\n```\r\nAssertions.assertThat(objActual)\r\n                .usingRecursiveComparison()\r\n                .ignoringFields(&quot;uniqueId&quot;, &quot;otherId&quot;)\r\n                .ignoringFieldsMatchingRegexes(&quot;.*someId&quot;)\r\n                .ignoringOverriddenEqualsForTypes(MyData.class, MyDataItem.class)\r\n                .isEqualTo(objExpected);\r\n```\r\n\r\n\r\n","title":"How to compare recursively ignoring given fields using assertJ?","body":"<p>With latest 'Recursive comparison api improvements' from AssertJ release 3.12.0\nit's possible now to do a recursive comparison and ignore fields:</p>\n\n<pre><code>Assertions.assertThat(objActual)\n                .usingRecursiveComparison()\n                .ignoringFields(\"uniqueId\", \"otherId\")\n                .ignoringFieldsMatchingRegexes(\".*someId\")\n                .ignoringOverriddenEqualsForTypes(MyData.class, MyDataItem.class)\n                .isEqualTo(objExpected);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1164178,"reputation":1598,"user_id":1143126,"accept_rate":80,"display_name":"RobertG"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1660941343,"creation_date":1660941343,"answer_id":73422032,"question_id":43316133,"body_markdown":"Dunno if that was your exact question, but what used to trip me up a lot was that for the ignoring fields function is that &quot;navigation&quot; to the fields to ignore is not considering array / Iterable boundaries. \r\n\r\nThat is, if I have a class book that has many pages (e.g. if you have a one-to-many relationship and save it to your relational database), I can ignore the fact that &quot;book.pages&quot; is an array, and just work with &quot;book.pages.id&quot; like there was only one page all the time, like so:\r\n    \r\n    assertThat(actualBook)\r\n        .usingRecursiveComparison()\r\n        .ignoringFields(&quot;id&quot;, &quot;pages.id&quot;, &quot;pages.book&quot;)\r\n        .isEqualTo(expectedBook);\r\n\r\nWhy is this confusing? Because if you forget to ignore fields, the exception will state that there is a mismatch in, say, &quot;pages[2].id&quot; - but you won&#39;t need that index &quot;[2]&quot; in the ignore statement. ","title":"How to compare recursively ignoring given fields using assertJ?","body":"<p>Dunno if that was your exact question, but what used to trip me up a lot was that for the ignoring fields function is that &quot;navigation&quot; to the fields to ignore is not considering array / Iterable boundaries.</p>\n<p>That is, if I have a class book that has many pages (e.g. if you have a one-to-many relationship and save it to your relational database), I can ignore the fact that &quot;book.pages&quot; is an array, and just work with &quot;book.pages.id&quot; like there was only one page all the time, like so:</p>\n<pre><code>assertThat(actualBook)\n    .usingRecursiveComparison()\n    .ignoringFields(&quot;id&quot;, &quot;pages.id&quot;, &quot;pages.book&quot;)\n    .isEqualTo(expectedBook);\n</code></pre>\n<p>Why is this confusing? Because if you forget to ignore fields, the exception will state that there is a mismatch in, say, &quot;pages[2].id&quot; - but you won't need that index &quot;[2]&quot; in the ignore statement.</p>\n"}],"owner":{"account_id":5937539,"reputation":3116,"user_id":4669984,"accept_rate":86,"display_name":"Tarun Maganti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66570,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":43386057,"answer_count":3,"score":52,"last_activity_date":1660941343,"creation_date":1491805016,"question_id":43316133,"body_markdown":"`AssertJ` has `isEqualToIgnoringGivenFields` and `isEqualToComparingFieldByFieldRecursively`. \r\n\r\nBut, there is no way I can compare two objects recursively by ignoring some fields. As per [this][1] discussion, it must be in development.\r\n\r\nHow to still get my assert&#39;s return value to be compared recursively but ignoring some fields. Is it possible in any other library or can I do it somehow using `AssertJ`?\r\n\r\n  [1]: https://github.com/joel-costigliola/assertj-core/issues/698","title":"How to compare recursively ignoring given fields using assertJ?","body":"<p><code>AssertJ</code> has <code>isEqualToIgnoringGivenFields</code> and <code>isEqualToComparingFieldByFieldRecursively</code>. </p>\n\n<p>But, there is no way I can compare two objects recursively by ignoring some fields. As per <a href=\"https://github.com/joel-costigliola/assertj-core/issues/698\" rel=\"noreferrer\">this</a> discussion, it must be in development.</p>\n\n<p>How to still get my assert's return value to be compared recursively but ignoring some fields. Is it possible in any other library or can I do it somehow using <code>AssertJ</code>?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1660947609,"post_id":73421970,"comment_id":129662327,"body_markdown":"So you will program two Android apps. A server and a client. The client will send data to the server. For instance a picture that the server has to store to file. What exactly are your problems?","body":"So you will program two Android apps. A server and a client. The client will send data to the server. For instance a picture that the server has to store to file. What exactly are your problems?"},{"owner":{"account_id":17582527,"reputation":71,"user_id":12756021,"display_name":"Oleh Prukhnytskyi"},"score":0,"creation_date":1660948297,"post_id":73421970,"comment_id":129662457,"body_markdown":"@blackapps I want the program to quickly take photos and instantly send them to the server. The problem is that I can&#39;t write a client that will display those photos as video in the program and save them to the server, because I can&#39;t find the code to do it.","body":"@blackapps I want the program to quickly take photos and instantly send them to the server. The problem is that I can&#39;t write a client that will display those photos as video in the program and save them to the server, because I can&#39;t find the code to do it."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1660972077,"post_id":73421970,"comment_id":129664862,"body_markdown":"A client that will display something in the program. Which program? Please talk about server or talk about client as i do not understand what you mean with the program. You have two apps. Two programs.","body":"A client that will display something in the program. Which program? Please talk about server or talk about client as i do not understand what you mean with the program. You have two apps. Two programs."},{"owner":{"account_id":17582527,"reputation":71,"user_id":12756021,"display_name":"Oleh Prukhnytskyi"},"score":0,"creation_date":1660991657,"post_id":73421970,"comment_id":129667632,"body_markdown":"@blackapps I have an application that makes a server and this same application should take photos and send them to this server. I want my app to work as an IP Webcam","body":"@blackapps I have an application that makes a server and this same application should take photos and send them to this server. I want my app to work as an IP Webcam"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1660993720,"post_id":73421970,"comment_id":129668030,"body_markdown":"Then it would send it to itself as you have only one application then. No need for a client or a server.","body":"Then it would send it to itself as you have only one application then. No need for a client or a server."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1660993833,"post_id":73421970,"comment_id":129668059,"body_markdown":"`I have an application that makes a server` ? That is a server. How would it make a server? Pretty unclear. Sigh... What exactly do you want?","body":"<code>I have an application that makes a server</code> ? That is a server. How would it make a server? Pretty unclear. Sigh... What exactly do you want?"},{"owner":{"account_id":17582527,"reputation":71,"user_id":12756021,"display_name":"Oleh Prukhnytskyi"},"score":0,"creation_date":1660994153,"post_id":73421970,"comment_id":129668120,"body_markdown":"@blackapps I have shown the code in the question with which I make the server","body":"@blackapps I have shown the code in the question with which I make the server"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1660999142,"post_id":73421970,"comment_id":129668984,"body_markdown":"Yes. And the app that makes that server should also take pbotos and send them to this server,? Why?  Makes no sense to me as the app is the server and the server is the app.","body":"Yes. And the app that makes that server should also take pbotos and send them to this server,? Why?  Makes no sense to me as the app is the server and the server is the app."}],"owner":{"account_id":17582527,"reputation":71,"user_id":12756021,"display_name":"Oleh Prukhnytskyi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660940893,"creation_date":1660940893,"question_id":73421970,"body_markdown":"I want the app to record video or take photos at 30 fps and save them under one name on the server so that one photo changes and thus becomes a video. I already found the code that makes the server. I spent the whole day looking for an answer to my question and couldn&#39;t find anything, so I decided to ask. This should work as an [IP Webcam](https://play.google.com/store/apps/details?id=com.pas.webcam&amp;hl=en_GB&amp;gl=US) application. Can this be done at all? Thanks for any help.\r\n\r\n&lt;b&gt;Code to make a server:&lt;/b&gt;\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    \r\n    EditText welcomeMsg;\r\n    TextView infoIp;\r\n    TextView infoMsg;\r\n    String msgLog = &quot;&quot;;\r\n\r\n    ServerSocket httpServerSocket;\r\n\r\n    @SuppressLint(&quot;SetTextI18n&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        welcomeMsg = (EditText) findViewById(R.id.welcomemsg);\r\n        infoIp = (TextView) findViewById(R.id.infoip);\r\n        infoMsg = (TextView) findViewById(R.id.msg);\r\n\r\n        infoIp.setText(getIpAddress() + &quot;:&quot;\r\n                + HttpServerThread.HttpServerPORT + &quot;\\n&quot;);\r\n\r\n        HttpServerThread httpServerThread = new HttpServerThread();\r\n        httpServerThread.start();\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n\r\n        if (httpServerSocket != null) {\r\n            try {\r\n                httpServerSocket.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    private String getIpAddress() {\r\n        String ip = &quot;&quot;;\r\n        try {\r\n            Enumeration&lt;NetworkInterface&gt; enumNetworkInterfaces = NetworkInterface\r\n                    .getNetworkInterfaces();\r\n            while (enumNetworkInterfaces.hasMoreElements()) {\r\n                NetworkInterface networkInterface = enumNetworkInterfaces\r\n                        .nextElement();\r\n                Enumeration&lt;InetAddress&gt; enumInetAddress = networkInterface\r\n                        .getInetAddresses();\r\n                while (enumInetAddress.hasMoreElements()) {\r\n                    InetAddress inetAddress = enumInetAddress.nextElement();\r\n\r\n                    if (inetAddress.isSiteLocalAddress()) {\r\n                        ip += &quot;SiteLocalAddress: &quot;\r\n                                + inetAddress.getHostAddress() + &quot;\\n&quot;;\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n        } catch (SocketException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n            ip += &quot;Something Wrong! &quot; + e.toString() + &quot;\\n&quot;;\r\n        }\r\n\r\n        return ip;\r\n    }\r\n\r\n    private class HttpServerThread extends Thread {\r\n\r\n        static final int HttpServerPORT = 8888;\r\n\r\n        @Override\r\n        public void run() {\r\n            Socket socket = null;\r\n\r\n            try {\r\n                httpServerSocket = new ServerSocket(HttpServerPORT);\r\n\r\n                while(true){\r\n                    socket = httpServerSocket.accept();\r\n\r\n                    HttpResponseThread httpResponseThread =\r\n                            new HttpResponseThread(\r\n                                    socket,\r\n                                    welcomeMsg.getText().toString());\r\n                    httpResponseThread.start();\r\n                }\r\n            } catch (IOException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private class HttpResponseThread extends Thread {\r\n\r\n        Socket socket;\r\n        String h1;\r\n\r\n        HttpResponseThread(Socket socket, String msg){\r\n            this.socket = socket;\r\n            h1 = msg;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            BufferedReader is;\r\n            PrintWriter os;\r\n            String request;\r\n\r\n\r\n            try {\r\n                is = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n                request = is.readLine();\r\n\r\n                os = new PrintWriter(socket.getOutputStream(), true);\r\n\r\n                String response =\r\n                        &quot;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&quot; +\r\n                                &quot;&lt;body&gt;&quot; +\r\n                                &quot;&lt;h1&gt;&quot; + h1 + &quot;&lt;/h1&gt;&quot; +\r\n                                &quot;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n\r\n                os.print(&quot;HTTP/1.0 200&quot; + &quot;\\r\\n&quot;);\r\n                os.print(&quot;Content type: text/html&quot; + &quot;\\r\\n&quot;);\r\n                os.print(&quot;Content length: &quot; + response.length() + &quot;\\r\\n&quot;);\r\n                os.print(&quot;\\r\\n&quot;);\r\n                os.print(response + &quot;\\r\\n&quot;);\r\n                os.flush();\r\n                socket.close();\r\n\r\n\r\n                msgLog += &quot;Request of &quot; + request\r\n                        + &quot; from &quot; + socket.getInetAddress().toString() + &quot;\\n&quot;;\r\n                MainActivity.this.runOnUiThread(new Runnable() {\r\n\r\n                    @Override\r\n                    public void run() {\r\n\r\n                        infoMsg.setText(msgLog);\r\n                    }\r\n                });\r\n\r\n            } catch (IOException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n\r\n            return;\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Live save pictures to server in Android Studio","body":"<p>I want the app to record video or take photos at 30 fps and save them under one name on the server so that one photo changes and thus becomes a video. I already found the code that makes the server. I spent the whole day looking for an answer to my question and couldn't find anything, so I decided to ask. This should work as an <a href=\"https://play.google.com/store/apps/details?id=com.pas.webcam&amp;hl=en_GB&amp;gl=US\" rel=\"nofollow noreferrer\">IP Webcam</a> application. Can this be done at all? Thanks for any help.</p>\n<p><b>Code to make a server:</b></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    \n    EditText welcomeMsg;\n    TextView infoIp;\n    TextView infoMsg;\n    String msgLog = &quot;&quot;;\n\n    ServerSocket httpServerSocket;\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        welcomeMsg = (EditText) findViewById(R.id.welcomemsg);\n        infoIp = (TextView) findViewById(R.id.infoip);\n        infoMsg = (TextView) findViewById(R.id.msg);\n\n        infoIp.setText(getIpAddress() + &quot;:&quot;\n                + HttpServerThread.HttpServerPORT + &quot;\\n&quot;);\n\n        HttpServerThread httpServerThread = new HttpServerThread();\n        httpServerThread.start();\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n\n        if (httpServerSocket != null) {\n            try {\n                httpServerSocket.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    private String getIpAddress() {\n        String ip = &quot;&quot;;\n        try {\n            Enumeration&lt;NetworkInterface&gt; enumNetworkInterfaces = NetworkInterface\n                    .getNetworkInterfaces();\n            while (enumNetworkInterfaces.hasMoreElements()) {\n                NetworkInterface networkInterface = enumNetworkInterfaces\n                        .nextElement();\n                Enumeration&lt;InetAddress&gt; enumInetAddress = networkInterface\n                        .getInetAddresses();\n                while (enumInetAddress.hasMoreElements()) {\n                    InetAddress inetAddress = enumInetAddress.nextElement();\n\n                    if (inetAddress.isSiteLocalAddress()) {\n                        ip += &quot;SiteLocalAddress: &quot;\n                                + inetAddress.getHostAddress() + &quot;\\n&quot;;\n                    }\n\n                }\n\n            }\n\n        } catch (SocketException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n            ip += &quot;Something Wrong! &quot; + e.toString() + &quot;\\n&quot;;\n        }\n\n        return ip;\n    }\n\n    private class HttpServerThread extends Thread {\n\n        static final int HttpServerPORT = 8888;\n\n        @Override\n        public void run() {\n            Socket socket = null;\n\n            try {\n                httpServerSocket = new ServerSocket(HttpServerPORT);\n\n                while(true){\n                    socket = httpServerSocket.accept();\n\n                    HttpResponseThread httpResponseThread =\n                            new HttpResponseThread(\n                                    socket,\n                                    welcomeMsg.getText().toString());\n                    httpResponseThread.start();\n                }\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n        }\n\n\n    }\n\n    private class HttpResponseThread extends Thread {\n\n        Socket socket;\n        String h1;\n\n        HttpResponseThread(Socket socket, String msg){\n            this.socket = socket;\n            h1 = msg;\n        }\n\n        @Override\n        public void run() {\n            BufferedReader is;\n            PrintWriter os;\n            String request;\n\n\n            try {\n                is = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n                request = is.readLine();\n\n                os = new PrintWriter(socket.getOutputStream(), true);\n\n                String response =\n                        &quot;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&quot; +\n                                &quot;&lt;body&gt;&quot; +\n                                &quot;&lt;h1&gt;&quot; + h1 + &quot;&lt;/h1&gt;&quot; +\n                                &quot;&lt;/body&gt;&lt;/html&gt;&quot;;\n\n                os.print(&quot;HTTP/1.0 200&quot; + &quot;\\r\\n&quot;);\n                os.print(&quot;Content type: text/html&quot; + &quot;\\r\\n&quot;);\n                os.print(&quot;Content length: &quot; + response.length() + &quot;\\r\\n&quot;);\n                os.print(&quot;\\r\\n&quot;);\n                os.print(response + &quot;\\r\\n&quot;);\n                os.flush();\n                socket.close();\n\n\n                msgLog += &quot;Request of &quot; + request\n                        + &quot; from &quot; + socket.getInetAddress().toString() + &quot;\\n&quot;;\n                MainActivity.this.runOnUiThread(new Runnable() {\n\n                    @Override\n                    public void run() {\n\n                        infoMsg.setText(msgLog);\n                    }\n                });\n\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n            return;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","for-loop","runtime-error","logic"],"comments":[{"owner":{"account_id":144803,"reputation":456,"user_id":17394346,"display_name":"Barry Carter"},"score":0,"creation_date":1660928338,"post_id":73419989,"comment_id":129657586,"body_markdown":"Standard debugging tip: print everything until you find what goes wrong","body":"Standard debugging tip: print everything until you find what goes wrong"}],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660928389,"creation_date":1660928389,"answer_id":73420026,"question_id":73419989,"body_markdown":"Your while loop is destroying the information about the inputted number.  Whenever you enter a number greater than 0, the sum will be greater than 0, but `m` will always be `0`.\r\n\r\nUse another variable, initialized to `m`, in the `while` loop to perform your calculations, so that `m` stays the inputted value, so that your comparison at the end is correct.","title":"Why is my Beam number program giving the wrong output?","body":"<p>Your while loop is destroying the information about the inputted number.  Whenever you enter a number greater than 0, the sum will be greater than 0, but <code>m</code> will always be <code>0</code>.</p>\n<p>Use another variable, initialized to <code>m</code>, in the <code>while</code> loop to perform your calculations, so that <code>m</code> stays the inputted value, so that your comparison at the end is correct.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660939637,"creation_date":1660939311,"answer_id":73421721,"question_id":73419989,"body_markdown":"Here is how you might have debugged this yourself.  Notice the print statements.\r\n```\r\nclass test // unrelated note:  by convention class names should start with\r\n           // upper case letters.\r\n{\r\n    public static void main()\r\n    {\r\n        System.out.println(&quot;\\f&quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Enter the number&quot;);\r\n        int m = sc.nextInt(); \r\n        int sum  = 0;\r\n        System.out.println(&quot;Before while loop.&quot;);\r\n        System.out.println(&quot;m = &quot; + m + &quot;, sum = &quot; + sum);\r\n        while (m &gt; 0)\r\n        {\r\n            sum += (m%10)*(m%10);\r\n            m = m/10;\r\n        }\r\n        System.out.println(&quot;After while loop.&quot;);\r\n        System.out.println(&quot;m = &quot; + m + &quot;, sum = &quot; + sum);\r\n        if (sum &gt; m)\r\n        {\r\n            System.out.println(&quot;It is a Beam number&quot;);\r\n        }\r\n        else\r\n        {\r\n            System.out.println(&quot;It is not a Beam number&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nUsing `print statements` in key locations and printing out various fields is the first and most common step in debugging programs.","title":"Why is my Beam number program giving the wrong output?","body":"<p>Here is how you might have debugged this yourself.  Notice the print statements.</p>\n<pre><code>class test // unrelated note:  by convention class names should start with\n           // upper case letters.\n{\n    public static void main()\n    {\n        System.out.println(&quot;\\f&quot;);\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter the number&quot;);\n        int m = sc.nextInt(); \n        int sum  = 0;\n        System.out.println(&quot;Before while loop.&quot;);\n        System.out.println(&quot;m = &quot; + m + &quot;, sum = &quot; + sum);\n        while (m &gt; 0)\n        {\n            sum += (m%10)*(m%10);\n            m = m/10;\n        }\n        System.out.println(&quot;After while loop.&quot;);\n        System.out.println(&quot;m = &quot; + m + &quot;, sum = &quot; + sum);\n        if (sum &gt; m)\n        {\n            System.out.println(&quot;It is a Beam number&quot;);\n        }\n        else\n        {\n            System.out.println(&quot;It is not a Beam number&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Using <code>print statements</code> in key locations and printing out various fields is the first and most common step in debugging programs.</p>\n"}],"owner":{"account_id":25074637,"reputation":1,"user_id":18928177,"display_name":"Gobardas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660939637,"creation_date":1660928121,"question_id":73419989,"body_markdown":"A Beam number is a number in which the sum of the squares of the digits of the number is larger than the number itself.\r\n\r\nFor example: In the no. 25, sum of the square of digits = 2^2 + 5^2 = 4 + 25 = 29 (greater than the number accepted)\r\n\r\nHence 25 is a Beam number.\r\n\r\nHere is my code:\r\n\r\n    import java.util.Scanner;\r\n    class test\r\n    {\r\n        public static void main()\r\n        {\r\n            System.out.println(&quot;\\f&quot;);\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter the number&quot;);\r\n            int m = sc.nextInt(); \r\n            int sum  = 0;\r\n            while (m &gt; 0)\r\n            {\r\n                sum += (m%10)*(m%10);\r\n                m = m/10;\r\n            }\r\n            if (sum &gt; m)\r\n            {\r\n                System.out.println(&quot;It is a Beam number&quot;);\r\n            }\r\n            else\r\n            {\r\n                System.out.println(&quot;It is not a Beam number&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nThe program compiles properly, but there is some problem in the logic, as it doesn&#39;t give the desired output. A picture of the output is given: \r\n[![enter image description here][1]][1]\r\n\r\n51 is clearly not a Beam no. as the sum of the squares of its digits (25+1=26) is less than 51 itself. What changes do I make?\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jZPoi.png","title":"Why is my Beam number program giving the wrong output?","body":"<p>A Beam number is a number in which the sum of the squares of the digits of the number is larger than the number itself.</p>\n<p>For example: In the no. 25, sum of the square of digits = 2^2 + 5^2 = 4 + 25 = 29 (greater than the number accepted)</p>\n<p>Hence 25 is a Beam number.</p>\n<p>Here is my code:</p>\n<pre><code>import java.util.Scanner;\nclass test\n{\n    public static void main()\n    {\n        System.out.println(&quot;\\f&quot;);\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter the number&quot;);\n        int m = sc.nextInt(); \n        int sum  = 0;\n        while (m &gt; 0)\n        {\n            sum += (m%10)*(m%10);\n            m = m/10;\n        }\n        if (sum &gt; m)\n        {\n            System.out.println(&quot;It is a Beam number&quot;);\n        }\n        else\n        {\n            System.out.println(&quot;It is not a Beam number&quot;);\n        }\n    }\n}\n</code></pre>\n<p>The program compiles properly, but there is some problem in the logic, as it doesn't give the desired output. A picture of the output is given:\n<a href=\"https://i.stack.imgur.com/jZPoi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jZPoi.png\" alt=\"enter image description here\" /></a></p>\n<p>51 is clearly not a Beam no. as the sum of the squares of its digits (25+1=26) is less than 51 itself. What changes do I make?</p>\n"},{"tags":["java","selenium","xpath","css-selectors","pageobjects"],"answers":[{"tags":[],"owner":{"account_id":17698173,"reputation":15901,"user_id":12848411,"display_name":"Md. Fazlul Hoque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660935552,"creation_date":1660935552,"answer_id":73421176,"question_id":73421105,"body_markdown":"\r\nAs the class value changes dynamically, So you can use contains function\r\n\r\n\r\n    @FindBy(xpath=&quot;//span[contains(@class,&#39;MuiButton-label&#39;)]&quot;)","title":"How to identify an element by classname that keeps changing using Selenium","body":"<p>As the class value changes dynamically, So you can use contains function</p>\n<pre><code>@FindBy(xpath=&quot;//span[contains(@class,'MuiButton-label')]&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660939633,"creation_date":1660939633,"answer_id":73421770,"question_id":73421105,"body_markdown":"These _classnames_ i.e. _`jss2383`_, _`jss4132`_ are dynamically generated and is bound to chage sooner/later. They may change next time you access the application afresh or even while next application startup. So can&#39;t be used in locators.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nAs you mentioned _&quot;...the button can either be a refresh or an import...&quot;_ you can use either of the following locators:\r\n\r\n- Using _xpath1_:\r\n\r\n\t  @FindBy(xpath=&quot;//button//span[text()=&#39;Refresh&#39; or text()=&#39;Import&#39;]&quot;)\r\n\t  WebElement refreshImportButton;\r\n\t  \r\n- Using _xpath2_:\r\n\r\n\t  @FindBy(xpath=&quot;//button//span[starts-with(@class, &#39;MuiButton-label&#39;)][text()=&#39;Refresh&#39; or text()=&#39;Import&#39;]&quot;)\r\n\t  WebElement refreshImportButton;","title":"How to identify an element by classname that keeps changing using Selenium","body":"<p>These <em>classnames</em> i.e. <em><code>jss2383</code></em>, <em><code>jss4132</code></em> are dynamically generated and is bound to chage sooner/later. They may change next time you access the application afresh or even while next application startup. So can't be used in locators.</p>\n<hr />\n<h2>Solution</h2>\n<p>As you mentioned <em>&quot;...the button can either be a refresh or an import...&quot;</em> you can use either of the following locators:</p>\n<ul>\n<li><p>Using <em>xpath1</em>:</p>\n<pre><code>@FindBy(xpath=&quot;//button//span[text()='Refresh' or text()='Import']&quot;)\nWebElement refreshImportButton;\n</code></pre>\n</li>\n<li><p>Using <em>xpath2</em>:</p>\n<pre><code>@FindBy(xpath=&quot;//button//span[starts-with(@class, 'MuiButton-label')][text()='Refresh' or text()='Import']&quot;)\nWebElement refreshImportButton;\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":20666362,"reputation":323,"user_id":15173118,"display_name":"Paul Blart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660939633,"creation_date":1660935131,"question_id":73421105,"body_markdown":"I am trying to locate a buttons element, but every time my test run the element keeps on changing name. The class keeps changing the last digits. For Example, `jss2383 ` to `jss4132` as well as all elements within the button class. My alternative solution is by using the xpath to find it by text.\r\n\r\n    &lt;div class=&quot;jss2383&quot;&gt;\r\n      &lt;button class=&quot;MuiButtonBase-root-2225 MuiButton-root-2198 MuiButton-contained-2206 MuiButton-containedPrimary-2207&quot; tabindex=&quot;0&quot; type=&quot;button&quot;&gt;\r\n       &lt;span class=&quot;MuiButton-label-2199&quot;&gt;Refresh&lt;/span&gt;\r\n       &lt;span class=&quot;MuiTouchRipple-root-2395&quot;&gt;&lt;/span&gt;\r\n      &lt;/button&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\nWhat I have so far to find the element is the following. The reason I want to locate the element by class name is because the button can either be a refresh or an import. \r\n\r\n    @FindBy(xpath=&quot;//span[text()=&#39;Refresh&#39;]&quot;)\r\n    WebElement refreshButton;","title":"How to identify an element by classname that keeps changing using Selenium","body":"<p>I am trying to locate a buttons element, but every time my test run the element keeps on changing name. The class keeps changing the last digits. For Example, <code>jss2383 </code> to <code>jss4132</code> as well as all elements within the button class. My alternative solution is by using the xpath to find it by text.</p>\n<pre><code>&lt;div class=&quot;jss2383&quot;&gt;\n  &lt;button class=&quot;MuiButtonBase-root-2225 MuiButton-root-2198 MuiButton-contained-2206 MuiButton-containedPrimary-2207&quot; tabindex=&quot;0&quot; type=&quot;button&quot;&gt;\n   &lt;span class=&quot;MuiButton-label-2199&quot;&gt;Refresh&lt;/span&gt;\n   &lt;span class=&quot;MuiTouchRipple-root-2395&quot;&gt;&lt;/span&gt;\n  &lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n<p>What I have so far to find the element is the following. The reason I want to locate the element by class name is because the button can either be a refresh or an import.</p>\n<pre><code>@FindBy(xpath=&quot;//span[text()='Refresh']&quot;)\nWebElement refreshButton;\n</code></pre>\n"},{"tags":["java","escaping","sanitization","sanitize"],"answers":[{"tags":[],"owner":{"account_id":13573973,"reputation":108,"user_id":10028037,"display_name":"Erick Pastrana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660939608,"creation_date":1660939608,"answer_id":73421760,"question_id":73393764,"body_markdown":"I&#39;ll answer my own question in case someone finds it useful\r\nI solved this using a regular expression:\r\n\r\n    String regex = &quot;[^\\\\p{L}\\\\p{N}\\\\p{P}\\\\p{Z}]&quot;;\r\n    String commet = &quot;text to sanitize&quot;;\r\n    comment.replaceAll(regex, &quot;&quot;);\r\n\r\nregexp explanation:&lt;br&gt;\r\n\r\n - \\p{L}  to allow all letters from any language\r\n - \\p{N}  for numbers\r\n - \\p{P}  for punctuation\r\n - \\p{Z}  for whitespace separators\r\n - ^ is for negation, so all these expressions will be whitelisted\r\n","title":"java sanitize String, remove / escape all no language characters, various languages such as Chinese, Spanish, etc","body":"<p>I'll answer my own question in case someone finds it useful\nI solved this using a regular expression:</p>\n<pre><code>String regex = &quot;[^\\\\p{L}\\\\p{N}\\\\p{P}\\\\p{Z}]&quot;;\nString commet = &quot;text to sanitize&quot;;\ncomment.replaceAll(regex, &quot;&quot;);\n</code></pre>\n<p>regexp explanation:<br></p>\n<ul>\n<li>\\p{L}  to allow all letters from any language</li>\n<li>\\p{N}  for numbers</li>\n<li>\\p{P}  for punctuation</li>\n<li>\\p{Z}  for whitespace separators</li>\n<li>^ is for negation, so all these expressions will be whitelisted</li>\n</ul>\n"}],"owner":{"account_id":13573973,"reputation":108,"user_id":10028037,"display_name":"Erick Pastrana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1085,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73421760,"answer_count":1,"score":0,"last_activity_date":1660939608,"creation_date":1660763200,"question_id":73393764,"body_markdown":"I am trying to sanitize a string in java (that comes from a comment box) and remove special characters and anything strange like an emoji, the challenge is that the comment can be written in several languages like Chinese, Japanese, Spanish, English ect .\r\nDoes anyone know any library or method to achieve this?\r\nThanks in advance.&#231;\r\n\r\nhere an example of the value url:\r\ncommentText=Thanks+for+your+review%2C+Francesco+%F0%9F%AB%B6\r\n\r\nthist is the part that I would like to remove:\r\n%F0%9F%AB%B6","title":"java sanitize String, remove / escape all no language characters, various languages such as Chinese, Spanish, etc","body":"<p>I am trying to sanitize a string in java (that comes from a comment box) and remove special characters and anything strange like an emoji, the challenge is that the comment can be written in several languages like Chinese, Japanese, Spanish, English ect .\nDoes anyone know any library or method to achieve this?\nThanks in advance.</p>\n<p>here an example of the value url:\ncommentText=Thanks+for+your+review%2C+Francesco+%F0%9F%AB%B6</p>\n<p>thist is the part that I would like to remove:\n%F0%9F%AB%B6</p>\n"},{"tags":["java","maven","server","wsdl","code-generation"],"answers":[{"tags":[],"owner":{"account_id":1130089,"reputation":24025,"user_id":1116391,"display_name":"Bogdan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660939356,"creation_date":1660939356,"answer_id":73421728,"question_id":73384864,"body_markdown":"Since you are already using Axis2, you can use [WSDL2Java][1] to generate the server skeleton code to which you can then add your own testing code. By default WSDL2Java generates client code, but it can be used both ways with the server arguments.\r\n\r\nAnother approach would be to create a [SoapUI mock service][2] to which you could add Groovy [scripts][3] to make it more dynamic.\r\n\r\n\r\n  [1]: https://axis.apache.org/axis2/java/core/docs/reference.html\r\n  [2]: https://www.soapui.org/docs/soap-mocking/service-mocking-overview/\r\n  [3]: https://www.soapui.org/docs/soap-mocking/creating-dynamic-mockservices/","title":"Use wsdl to create server for integration testing","body":"<p>Since you are already using Axis2, you can use <a href=\"https://axis.apache.org/axis2/java/core/docs/reference.html\" rel=\"nofollow noreferrer\">WSDL2Java</a> to generate the server skeleton code to which you can then add your own testing code. By default WSDL2Java generates client code, but it can be used both ways with the server arguments.</p>\n<p>Another approach would be to create a <a href=\"https://www.soapui.org/docs/soap-mocking/service-mocking-overview/\" rel=\"nofollow noreferrer\">SoapUI mock service</a> to which you could add Groovy <a href=\"https://www.soapui.org/docs/soap-mocking/creating-dynamic-mockservices/\" rel=\"nofollow noreferrer\">scripts</a> to make it more dynamic.</p>\n"}],"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660939356,"creation_date":1660723287,"question_id":73384864,"body_markdown":"I have a WSDL file from a server that implements some webservices. I have created client-code with Axis2, but want to build some integration tests that deal with server-timouts.\r\n\r\nTo do that, I want to create a server-stub and have the methods just `sleep` longer than the configured client-timeout. \r\n\r\nIs there an easy way to generate an scaffold-like server running the services from the WSDL? \r\n","title":"Use wsdl to create server for integration testing","body":"<p>I have a WSDL file from a server that implements some webservices. I have created client-code with Axis2, but want to build some integration tests that deal with server-timouts.</p>\n<p>To do that, I want to create a server-stub and have the methods just <code>sleep</code> longer than the configured client-timeout.</p>\n<p>Is there an easy way to generate an scaffold-like server running the services from the WSDL?</p>\n"},{"tags":["java","mysql","hibernate","encoding","quarkus-panache"],"comments":[{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1660965820,"post_id":73419689,"comment_id":129664383,"body_markdown":"Show us the text that turned into E1E1E1...","body":"Show us the text that turned into E1E1E1..."},{"owner":{"account_id":12666690,"reputation":197,"user_id":9205714,"display_name":"Viktor Korai"},"score":0,"creation_date":1661152831,"post_id":73419689,"comment_id":129694784,"body_markdown":"I mentioned it in the original post:\nThe data I would like to insert:\n\n            product.setLegalClassification(&quot;&#225;&#225;&#225;&#225;&#225;&#225;&#225;sda&#225;sd&#225;as&#225;&#225;&quot;);\n            product.persist();\nThe character &#225; will be \\xE1","body":"I mentioned it in the original post: The data I would like to insert:              product.setLegalClassification(&quot;&#225;&#225;&#225;&#225;&#225;&#225;&#225;sda&#225;sd&#225;as&#225;&#225;&quot;);             product.persist(); The character &#225; will be \\xE1"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1661161977,"post_id":73419689,"comment_id":129697677,"body_markdown":"I think recent driver versions started messing with the way the character set is determined through JDBC. Inserts through liqiubase and the console work because you are not really using parameter markers. These tools just inline the values as literals. If you use parameter markers though, the driver will make use of the configured/inferred character set and problems will start popping up. Try using `?characterEncoding=utf8mb4&amp;connectionCollation=utf8mb4_0900_ai_ci`","body":"I think recent driver versions started messing with the way the character set is determined through JDBC. Inserts through liqiubase and the console work because you are not really using parameter markers. These tools just inline the values as literals. If you use parameter markers though, the driver will make use of the configured/inferred character set and problems will start popping up. Try using <code>?characterEncoding=utf8mb4&amp;connectionCollation=utf8mb4_0900_&zwnj;&#8203;ai_ci</code>"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1661215300,"post_id":73419689,"comment_id":129713940,"body_markdown":"@ViktorKorai - Does `&#225;&#225;&#225;&#225;&#225;&#225;&#225;sda&#225;sd&#225;as&#225;&#225;` look reasonable?  If not back up to where that comes from.  This is not a typical way for strings to be garbled; I am hoping to find the source.","body":"@ViktorKorai - Does <code>&#225;&#225;&#225;&#225;&#225;&#225;&#225;sda&#225;sd&#225;as&#225;&#225;</code> look reasonable?  If not back up to where that comes from.  This is not a typical way for strings to be garbled; I am hoping to find the source."},{"owner":{"account_id":12666690,"reputation":197,"user_id":9205714,"display_name":"Viktor Korai"},"score":0,"creation_date":1664134180,"post_id":73419689,"comment_id":130396567,"body_markdown":"@RickJames Yeah I just use it for testing this is hard coded in my code currently.","body":"@RickJames Yeah I just use it for testing this is hard coded in my code currently."}],"owner":{"account_id":12666690,"reputation":197,"user_id":9205714,"display_name":"Viktor Korai"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660939337,"creation_date":1660926384,"question_id":73419689,"body_markdown":"When I insert data with special characters with liquibase from SQL file it works. \r\nWhen I insert data with special characters from IntelliJ console via SQL insert it works.  \r\nWhen I insert data with special characters by persisting an entity it gives the following  \r\n error: \r\n```\r\n(Quarkus Main Thread) Incorrect string value: &#39;\\xE1\\xE1\\xE1\\xE1\\xE1\\xE1...&#39; for column &#39;LEGAL_CLASSIFICATION&#39; at row 1\r\n```\r\n\r\nThe data I would like to insert: \r\n```\r\n\t\t\tproduct.setLegalClassification(&quot;&#225;&#225;&#225;&#225;&#225;&#225;&#225;sda&#225;sd&#225;as&#225;&#225;&quot;);\r\n\t\t\tproduct.persist();\r\n```\r\n\r\nProperties:\r\n  ```quarkus:\r\n    hibernate-orm:\r\n      dialect: &quot;org.hibernate.dialect.MySQLInnoDBDialect&quot;\r\n    datasource:\r\n      db-kind: mysql\r\n      username: ${DB_USER}\r\n      password: ${DB_PASSWORD}\r\n      jdbc:\r\n        driver: &quot;com.mysql.cj.jdbc.Driver&quot;\r\n        url: &quot;jdbc:mysql://localhost:3306/my-db?useUnicode=true&amp;characterEncoding=utf8&quot;\r\n```\r\n\r\nI&#39;ve already tried with URLs:\r\n```\r\n&quot;jdbc:mysql://localhost:3306/my-db?characterEncoding=utf8&quot;\r\n&quot;jdbc:mysql://localhost:3306/my-db?useUnicode=true&amp;characterEncoding=UTF-8&quot;\r\n&quot;jdbc:mysql://localhost:3306/my-db?useUnicode=true&amp;amp;characterEncoding=utf8&quot;\r\n&quot;jdbc:mysql://localhost:3306/my-db?useUnicode=true;characterEncoding=utf8;&quot;\r\n&quot;jdbc:mysql://localhost:3306/my-db?useUnicode=yes&amp;characterEncoding=utf8&quot;\r\n&quot;jdbc:mysql://localhost:3306/my-db?useUnicode=true&amp;amp;characterEncoding=UTF-8&quot;\r\n&quot;jdbc:mysql://localhost:3306/my-db?useUnicode=true;characterEncoding=UTF-8;&quot;\r\n&quot;jdbc:mysql://localhost:3306/my-db?useUnicode=yes&amp;characterEncoding=UTF-8&quot;\r\n```\r\nand driver:\r\n```\r\n&quot;org.hibernate.dialect.MySQLInnoDBDialect&quot;\r\n&quot;org.hibernate.dialect.MySQLDialect&quot;\r\n```\r\nThe column type is set like this:\r\n```\r\n&lt;column name=&quot;LEGAL_CLASSIFICATION&quot;\r\n\t\t\t\t\ttype=&quot;LONGTEXT&quot;/&gt;\r\n\r\nand in a MySQL dbms SQL changeset:\r\n\r\nALTER TABLE PRODUCT MODIFY COLUMN LEGAL_CLASSIFICATION LONGTEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_hungarian_ci;\r\n```\r\n\r\nI tried to query database info with the following results:\r\n```\r\nSELECT SCHEMA_NAME &#39;database&#39;, default_character_set_name &#39;charset&#39;, DEFAULT_COLLATION_NAME &#39;collation&#39; FROM information_schema.SCHEMATA;\r\ngives\r\n\tdatabase,\tcharset,\tcollation\r\n\tinformation_schema,\tutf8mb3,\tutf8_general_ci\r\n\tmy-db,\tutf8mb4,\tutf8mb4_0900_ai_ci\r\n\r\n\r\nshow variables like &#39;character%&#39;;\r\ngives\r\n\tvariable_name,\tvalue\r\n\tcharacter_set_client,\tutf8mb4\r\n\tcharacter_set_connection,\tutf8mb4\r\n\tcharacter_set_database,\tutf8mb4\r\n\tcharacter_set_filesystem,\tbinary\r\n\tcharacter_set_results,\tutf8mb4\r\n\tcharacter_set_server,\tutf8mb4\r\n\tcharacter_set_system,\tutf8mb3\r\n\tcharacter_sets_dir,\t/usr/share/mysql-8.0/charsets/\r\n\r\n\r\nshow variables like &#39;collation%&#39;;\r\ngives\r\n\tvariable_name,\tvalue\r\n\tcollation_connection,\tutf8mb4_unicode_ci\r\n\tcollation_database,\tutf8mb4_0900_ai_ci\r\n\tcollation_server,\tutf8mb4_0900_ai_ci\r\n\r\nSELECT DEFAULT_CHARACTER_SET_NAME, DEFAULT_COLLATION_NAME FROM information_schema.SCHEMATA S WHERE schema_name = &#39;my-db&#39;;\r\ngives\r\n\tdefault_character_set_name,\tdefault_collation_name\r\n\tutf8mb4,\tutf8mb4_0900_ai_ci\r\n\r\n\r\n```\r\nBefore I set the collation and character set on the columns I could not even insert data from SQL file via liquibase but altering tables fixed it, although I still can&#39;t insert through hibernate...\r\n\r\nDoes anybody have an idea what I should do to make it work?\r\nI really appreciate any help you can provide.\r\n\r\n\r\n**UPDATE (solution/workaround)!!**\r\n\r\n\r\nI&#39;ve found out that even without jdbc url parameters varchar and longvarbinary columns are working correctly from SQL file, terminal and even through hibernate.\r\n\r\nSo the only column that&#39;s not encoded correctly is the one with LONGTEXT. Unfortunately for me varchar is too short for the job, so currently I solved this issue by using type=&quot;JAVA.SQL.TYPES.LONGVARBINARY&quot; as column type (with this I don&#39;t even need the column alteration) and I put @Lob on a byte[] entity field and convert the data while I&#39;m mapping the field to a dto.\r\n\r\nMy Entity:\r\n```\r\n\t@Column(name = &quot;LEGAL_CLASSIFICATION&quot;)\r\n\t@Lob\r\n\tprivate byte[] legalClassification;\r\n```\r\nLiquibase column:\r\n```\r\n\t\t\t&lt;column name=&quot;LEGAL_CLASSIFICATION&quot;\r\n\t\t\t\t\ttype=&quot;JAVA.SQL.TYPES.LONGVARBINARY&quot;/&gt;\r\n```\r\nMapping:\r\n```\r\n\r\n\t@Mapping(source = &quot;legalClassification&quot;, target = &quot;legalClassification&quot;, qualifiedByName = &quot;toUtf8&quot;)\r\n\tProductModel toModel(Product entity);\r\n\r\n\t@Mapping(source = &quot;legalClassification&quot;, target = &quot;legalClassification&quot;, qualifiedByName = &quot;fromUtf8&quot;)\r\n\tProduct toEntity(ProductModel entity);\r\n\r\n\t@Named(&quot;toUtf8&quot;)\r\n\tdefault String toUtf8(byte[] entity) {\r\n\t\treturn entity == null ? null : new String(entity, StandardCharsets.UTF_8);\r\n\t}\r\n\r\n\t@Named(&quot;fromUtf8&quot;)\r\n\tdefault byte[] fromUtf8(String model) {\r\n\t\treturn model == null ? null : model.getBytes(StandardCharsets.UTF_8);\r\n\t}\r\n```\r\n\r\n Now Everything is working fine, with good 4byte utf8 encoding. Altough I did not find any documentation how this works in MySQL or hibernate and why I cannot store 4byte utf8 encoded strings in TEXT and LONGTEXT type columns. I would appreciate an explanation on that.","title":"Quarkus mysql UTF8 hibernate cannot insert utf8 characters","body":"<p>When I insert data with special characters with liquibase from SQL file it works.\nWhen I insert data with special characters from IntelliJ console via SQL insert it works.<br />\nWhen I insert data with special characters by persisting an entity it gives the following<br />\nerror:</p>\n<pre><code>(Quarkus Main Thread) Incorrect string value: '\\xE1\\xE1\\xE1\\xE1\\xE1\\xE1...' for column 'LEGAL_CLASSIFICATION' at row 1\n</code></pre>\n<p>The data I would like to insert:</p>\n<pre><code>            product.setLegalClassification(&quot;sdasdas&quot;);\n            product.persist();\n</code></pre>\n<p>Properties:</p>\n<pre><code>  hibernate-orm:\n    dialect: &quot;org.hibernate.dialect.MySQLInnoDBDialect&quot;\n  datasource:\n    db-kind: mysql\n    username: ${DB_USER}\n    password: ${DB_PASSWORD}\n    jdbc:\n      driver: &quot;com.mysql.cj.jdbc.Driver&quot;\n      url: &quot;jdbc:mysql://localhost:3306/my-db?useUnicode=true&amp;characterEncoding=utf8&quot;\n</code></pre>\n<p>I've already tried with URLs:</p>\n<pre><code>&quot;jdbc:mysql://localhost:3306/my-db?characterEncoding=utf8&quot;\n&quot;jdbc:mysql://localhost:3306/my-db?useUnicode=true&amp;characterEncoding=UTF-8&quot;\n&quot;jdbc:mysql://localhost:3306/my-db?useUnicode=true&amp;amp;characterEncoding=utf8&quot;\n&quot;jdbc:mysql://localhost:3306/my-db?useUnicode=true;characterEncoding=utf8;&quot;\n&quot;jdbc:mysql://localhost:3306/my-db?useUnicode=yes&amp;characterEncoding=utf8&quot;\n&quot;jdbc:mysql://localhost:3306/my-db?useUnicode=true&amp;amp;characterEncoding=UTF-8&quot;\n&quot;jdbc:mysql://localhost:3306/my-db?useUnicode=true;characterEncoding=UTF-8;&quot;\n&quot;jdbc:mysql://localhost:3306/my-db?useUnicode=yes&amp;characterEncoding=UTF-8&quot;\n</code></pre>\n<p>and driver:</p>\n<pre><code>&quot;org.hibernate.dialect.MySQLInnoDBDialect&quot;\n&quot;org.hibernate.dialect.MySQLDialect&quot;\n</code></pre>\n<p>The column type is set like this:</p>\n<pre><code>&lt;column name=&quot;LEGAL_CLASSIFICATION&quot;\n                    type=&quot;LONGTEXT&quot;/&gt;\n\nand in a MySQL dbms SQL changeset:\n\nALTER TABLE PRODUCT MODIFY COLUMN LEGAL_CLASSIFICATION LONGTEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_hungarian_ci;\n</code></pre>\n<p>I tried to query database info with the following results:</p>\n<pre><code>SELECT SCHEMA_NAME 'database', default_character_set_name 'charset', DEFAULT_COLLATION_NAME 'collation' FROM information_schema.SCHEMATA;\ngives\n    database,   charset,    collation\n    information_schema, utf8mb3,    utf8_general_ci\n    my-db,  utf8mb4,    utf8mb4_0900_ai_ci\n\n\nshow variables like 'character%';\ngives\n    variable_name,  value\n    character_set_client,   utf8mb4\n    character_set_connection,   utf8mb4\n    character_set_database, utf8mb4\n    character_set_filesystem,   binary\n    character_set_results,  utf8mb4\n    character_set_server,   utf8mb4\n    character_set_system,   utf8mb3\n    character_sets_dir, /usr/share/mysql-8.0/charsets/\n\n\nshow variables like 'collation%';\ngives\n    variable_name,  value\n    collation_connection,   utf8mb4_unicode_ci\n    collation_database, utf8mb4_0900_ai_ci\n    collation_server,   utf8mb4_0900_ai_ci\n\nSELECT DEFAULT_CHARACTER_SET_NAME, DEFAULT_COLLATION_NAME FROM information_schema.SCHEMATA S WHERE schema_name = 'my-db';\ngives\n    default_character_set_name, default_collation_name\n    utf8mb4,    utf8mb4_0900_ai_ci\n\n\n</code></pre>\n<p>Before I set the collation and character set on the columns I could not even insert data from SQL file via liquibase but altering tables fixed it, although I still can't insert through hibernate...</p>\n<p>Does anybody have an idea what I should do to make it work?\nI really appreciate any help you can provide.</p>\n<p><strong>UPDATE (solution/workaround)!!</strong></p>\n<p>I've found out that even without jdbc url parameters varchar and longvarbinary columns are working correctly from SQL file, terminal and even through hibernate.</p>\n<p>So the only column that's not encoded correctly is the one with LONGTEXT. Unfortunately for me varchar is too short for the job, so currently I solved this issue by using type=&quot;JAVA.SQL.TYPES.LONGVARBINARY&quot; as column type (with this I don't even need the column alteration) and I put @Lob on a byte[] entity field and convert the data while I'm mapping the field to a dto.</p>\n<p>My Entity:</p>\n<pre><code>    @Column(name = &quot;LEGAL_CLASSIFICATION&quot;)\n    @Lob\n    private byte[] legalClassification;\n</code></pre>\n<p>Liquibase column:</p>\n<pre><code>            &lt;column name=&quot;LEGAL_CLASSIFICATION&quot;\n                    type=&quot;JAVA.SQL.TYPES.LONGVARBINARY&quot;/&gt;\n</code></pre>\n<p>Mapping:</p>\n<pre><code>\n    @Mapping(source = &quot;legalClassification&quot;, target = &quot;legalClassification&quot;, qualifiedByName = &quot;toUtf8&quot;)\n    ProductModel toModel(Product entity);\n\n    @Mapping(source = &quot;legalClassification&quot;, target = &quot;legalClassification&quot;, qualifiedByName = &quot;fromUtf8&quot;)\n    Product toEntity(ProductModel entity);\n\n    @Named(&quot;toUtf8&quot;)\n    default String toUtf8(byte[] entity) {\n        return entity == null ? null : new String(entity, StandardCharsets.UTF_8);\n    }\n\n    @Named(&quot;fromUtf8&quot;)\n    default byte[] fromUtf8(String model) {\n        return model == null ? null : model.getBytes(StandardCharsets.UTF_8);\n    }\n</code></pre>\n<p>Now Everything is working fine, with good 4byte utf8 encoding. Altough I did not find any documentation how this works in MySQL or hibernate and why I cannot store 4byte utf8 encoded strings in TEXT and LONGTEXT type columns. I would appreciate an explanation on that.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1647876409,"post_id":71559989,"comment_id":126475437,"body_markdown":"Your contains check makes your algorithm run in more than O(N) time, by the way","body":"Your contains check makes your algorithm run in more than O(N) time, by the way"},{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":3,"creation_date":1647876414,"post_id":71559989,"comment_id":126475438,"body_markdown":"Not familiar with Codility, but does it not tell you which test cases have failed?","body":"Not familiar with Codility, but does it not tell you which test cases have failed?"},{"owner":{"account_id":24631732,"reputation":3,"user_id":18530873,"display_name":"KiteThorn"},"score":0,"creation_date":1647957658,"post_id":71559989,"comment_id":126498004,"body_markdown":"@ jsheeran nope.","body":"@ jsheeran nope."}],"answers":[{"tags":[],"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647881325,"creation_date":1647878868,"answer_id":71560633,"question_id":71559989,"body_markdown":"You can simplify the problem down by recognizing that you just need to keep track of the integers you&#39;ve seen in array that your given. You also need to account for edge cases for when the array is empty or the value you get would be greater than your max allowed value. Finally, you need to ensure O(n) complexity, you can&#39;t keep looping for every value you come across. This is where the boolean array comes in handy. See below -\r\n\r\n    public static int solution(int[] A) \r\n    {\r\n        int min = 1;\r\n        int max = 100000;\r\n        boolean[] vals = new boolean[max+1];\r\n        \r\n        if(A.length == 0)\r\n        \treturn min;\r\n\r\n        //mark the vals array with the integers we have seen in the A[]\r\n        for(int i = 0; i &lt; A.length; i++)\r\n        {\r\n            if(A[i] &lt; max + 1)\r\n               vals[A[i]] = true;\r\n        }\r\n    \r\n        //start at our min val and loop until we come across a value we have not seen in A[]\r\n        for (int i = 1; i &lt; max; i++)\r\n        {\r\n            if(vals[i] &amp;&amp; min == i)\r\n            \tmin++;\r\n            else if(!vals[i])\r\n            \tbreak;\r\n    \t}\r\n        \r\n        if(min &gt; max)\r\n        \treturn max;\r\n        \r\n        return min;\r\n    }\r\n\r\nThe worst case for looping is A.length + max which is O(N)","title":"Issues in my Codility example test - Find the first missing positive number in an array","body":"<p>You can simplify the problem down by recognizing that you just need to keep track of the integers you've seen in array that your given. You also need to account for edge cases for when the array is empty or the value you get would be greater than your max allowed value. Finally, you need to ensure O(n) complexity, you can't keep looping for every value you come across. This is where the boolean array comes in handy. See below -</p>\n<pre><code>public static int solution(int[] A) \n{\n    int min = 1;\n    int max = 100000;\n    boolean[] vals = new boolean[max+1];\n    \n    if(A.length == 0)\n        return min;\n\n    //mark the vals array with the integers we have seen in the A[]\n    for(int i = 0; i &lt; A.length; i++)\n    {\n        if(A[i] &lt; max + 1)\n           vals[A[i]] = true;\n    }\n\n    //start at our min val and loop until we come across a value we have not seen in A[]\n    for (int i = 1; i &lt; max; i++)\n    {\n        if(vals[i] &amp;&amp; min == i)\n            min++;\n        else if(!vals[i])\n            break;\n    }\n    \n    if(min &gt; max)\n        return max;\n    \n    return min;\n}\n</code></pre>\n<p>The worst case for looping is A.length + max which is O(N)</p>\n"},{"tags":[],"owner":{"account_id":8521078,"reputation":1182,"user_id":6387982,"display_name":"Luiz Avila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647908891,"creation_date":1647908891,"answer_id":71565646,"question_id":71559989,"body_markdown":"This is my 100% solution for it on javascript:\r\n\r\n    function solution(A) {\r\n      // write your code in JavaScript (Node.js 8.9.4)\r\n    \r\n      A.sort((a, b) =&gt; a - b);\r\n    \r\n      let smallestPositive = 1;\r\n    \r\n      for (let i = 0; i &lt; A.length; i++) {\r\n        const currentInteger = A[i];\r\n        if (currentInteger &gt; 0 &amp;&amp; currentInteger === smallestPositive) {\r\n          smallestPositive = smallestPositive + 1;\r\n        } else if (currentInteger &gt; smallestPositive) {\r\n          return smallestPositive;\r\n        }\r\n      }\r\n    \r\n      return smallestPositive;\r\n    }\r\n\r\nYou start a counter with 1 (since is smallest positive integer)\r\n\r\nThen if you sort the array you can just traverse it, and after you find the first positive number you compare the values with this counter that is increased if the current value is equal. Otherwise you return the counter.\r\n\r\nI recently did all codility tasks on javascript, all with 100% and this might help someone if you are stuck\r\n\r\nhttps://github.com/Buzunda/codility-lessons\r\n","title":"Issues in my Codility example test - Find the first missing positive number in an array","body":"<p>This is my 100% solution for it on javascript:</p>\n<pre><code>function solution(A) {\n  // write your code in JavaScript (Node.js 8.9.4)\n\n  A.sort((a, b) =&gt; a - b);\n\n  let smallestPositive = 1;\n\n  for (let i = 0; i &lt; A.length; i++) {\n    const currentInteger = A[i];\n    if (currentInteger &gt; 0 &amp;&amp; currentInteger === smallestPositive) {\n      smallestPositive = smallestPositive + 1;\n    } else if (currentInteger &gt; smallestPositive) {\n      return smallestPositive;\n    }\n  }\n\n  return smallestPositive;\n}\n</code></pre>\n<p>You start a counter with 1 (since is smallest positive integer)</p>\n<p>Then if you sort the array you can just traverse it, and after you find the first positive number you compare the values with this counter that is increased if the current value is equal. Otherwise you return the counter.</p>\n<p>I recently did all codility tasks on javascript, all with 100% and this might help someone if you are stuck</p>\n<p><a href=\"https://github.com/Buzunda/codility-lessons\" rel=\"nofollow noreferrer\">https://github.com/Buzunda/codility-lessons</a></p>\n"},{"tags":[],"owner":{"account_id":5910571,"reputation":4803,"user_id":4650975,"accept_rate":46,"display_name":"ABGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658227039,"creation_date":1658227039,"answer_id":73035385,"question_id":71559989,"body_markdown":"Here&#39;s my Javascript solution for the problem. This got 100% marks on codility.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    //Find first missing first Positive number\r\n\r\n    var firstMissingPositive = function(nums) {\r\n    var hashMap = {};\r\n        var max = 1;\r\n        for(var i=0; i&lt;nums.length; i++){\r\n            if(nums[i]&gt; 0){\r\n                hashMap[nums[i]] = true;\r\n            }\r\n            max = max &lt; nums[i] ? nums[i] : max;\r\n        }\r\n        \r\n        for(var i=1; i&lt;=max+1; i++){\r\n            if(!hashMap[i]) return i;\r\n        }\r\n        \r\n        return max;\r\n    };\r\n\r\n    console.log(firstMissingPositive([1,2,3,4,5,6,7,8,9,10,11,12,23,20])) //13\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Issues in my Codility example test - Find the first missing positive number in an array","body":"<p>Here's my Javascript solution for the problem. This got 100% marks on codility.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//Find first missing first Positive number\n\nvar firstMissingPositive = function(nums) {\nvar hashMap = {};\n    var max = 1;\n    for(var i=0; i&lt;nums.length; i++){\n        if(nums[i]&gt; 0){\n            hashMap[nums[i]] = true;\n        }\n        max = max &lt; nums[i] ? nums[i] : max;\n    }\n    \n    for(var i=1; i&lt;=max+1; i++){\n        if(!hashMap[i]) return i;\n    }\n    \n    return max;\n};\n\nconsole.log(firstMissingPositive([1,2,3,4,5,6,7,8,9,10,11,12,23,20])) //13</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":1381969,"reputation":621,"user_id":1314769,"display_name":"Mukesh Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659890570,"creation_date":1659890570,"answer_id":73269262,"question_id":71559989,"body_markdown":"The problem is to find the smallest positive integer that does not occur in a given array. The main strategy is to use the java.util.TreeSet, which order their elements. TreeSet is the perfect Set implementation for these kinds of problems. \r\n\r\nCheck for the missing element in the actualSet that exists in the validSet. See the code below:\r\n\r\n    public int solution(int[] A) {\r\n\t\tSet&lt;Integer&gt; actualSet = new TreeSet&lt;Integer&gt;();\r\n\t\tSet&lt;Integer&gt; validSet = new TreeSet&lt;Integer&gt;();\r\n\r\n\t\tfor (int i = 0; i &lt; A.length; i++) {\r\n\t\t\tactualSet.add(A[i]);\r\n\t\t\tvalidSet.add(i + 1);\r\n\t\t}\r\n\r\n\t\tfor (int value : validSet) {\r\n\t\t\tif (!actualSet.contains(value)) {\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (actualSet.size() == validSet.size()) {\r\n\t\t\treturn validSet.size() + 1; //e.g. {1, 2, 3} should return 4\r\n\t\t}\r\n\r\n\t\treturn 1; // if A array has negative values or just a single positive value\r\n\t}","title":"Issues in my Codility example test - Find the first missing positive number in an array","body":"<p>The problem is to find the smallest positive integer that does not occur in a given array. The main strategy is to use the java.util.TreeSet, which order their elements. TreeSet is the perfect Set implementation for these kinds of problems.</p>\n<p>Check for the missing element in the actualSet that exists in the validSet. See the code below:</p>\n<pre><code>public int solution(int[] A) {\n    Set&lt;Integer&gt; actualSet = new TreeSet&lt;Integer&gt;();\n    Set&lt;Integer&gt; validSet = new TreeSet&lt;Integer&gt;();\n\n    for (int i = 0; i &lt; A.length; i++) {\n        actualSet.add(A[i]);\n        validSet.add(i + 1);\n    }\n\n    for (int value : validSet) {\n        if (!actualSet.contains(value)) {\n            return value;\n        }\n    }\n\n    if (actualSet.size() == validSet.size()) {\n        return validSet.size() + 1; //e.g. {1, 2, 3} should return 4\n    }\n\n    return 1; // if A array has negative values or just a single positive value\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22552874,"reputation":11,"user_id":16741723,"display_name":"Vitality"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660938564,"creation_date":1660938564,"answer_id":73421616,"question_id":71559989,"body_markdown":"I solved it this simple way...\r\n\r\n    const data = [-2, 6, 4, 5, 7, -1, 1, 2, 3, 2, 6, -2, 9, 10];\r\n    let min = 1;\r\n    \r\n    while(data.includes(min)){\r\n      min++;\r\n    }\r\n    \r\n    console.log(min);","title":"Issues in my Codility example test - Find the first missing positive number in an array","body":"<p>I solved it this simple way...</p>\n<pre><code>const data = [-2, 6, 4, 5, 7, -1, 1, 2, 3, 2, 6, -2, 9, 10];\nlet min = 1;\n\nwhile(data.includes(min)){\n  min++;\n}\n\nconsole.log(min);\n</code></pre>\n"}],"owner":{"account_id":24631732,"reputation":3,"user_id":18530873,"display_name":"KiteThorn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9916,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71560633,"answer_count":5,"score":0,"last_activity_date":1660938564,"creation_date":1647876103,"question_id":71559989,"body_markdown":"The question was\r\nWrite a function:\r\n\r\nclass Solution { public int solution(int\\[\\] A); }\r\nthat, given an array A of N integers, returns the smallest positive integer (greater than 0) that does not occur in A.\r\n\r\nFor example, given A = \\[1, 3, 6, 4, 1, 2\\], the function should return 5.\r\n\r\nGiven A = \\[1, 2, 3\\], the function should return 4.\r\n\r\nGiven A = \\[1, 3\\], the function should return 1.\r\nAssume that:\r\n\r\nN is an integer within the range \\[1..100,000\\]; each element of array A is an integer within the range \\[1,000,000..1,000,000\\]. Complexity:\r\n\r\nexpected worst-case time complexity is O(N); expected worst-case space complexity is O(N) (not counting the storage required for input arguments).\r\n\r\n```\r\npublic static int solution(int[] A) \r\n{\r\n\tint min = 1;\r\n\tboolean negArray = true;\r\n\tfor(int i = 0; i &lt; A.length; i++)\r\n\t{\r\n\t\tif(A[i] &gt; 0)\r\n\t\t{\r\n\t\t\tnegArray = false;\r\n\t\t\tif(A[i] &lt; min)\r\n\t\t\t{\r\n\t\t\t\tmin = A[i];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tint i = 1;\r\n\twhile(contains(A, min+i))\r\n\t{\r\n\t\ti++;\t\t\r\n\t}\t\r\n\r\n\tif(negArray || A.length &lt;= 0)\r\n\t\treturn 1;\r\n\t\r\n\treturn min + i;\r\n}\r\n\r\npublic static boolean contains(int[] A, int x)\r\n{\r\n\tfor(int i = 0; i &lt; A.length; i++)\r\n\t{\r\n\t\tif(A[i] == x)\r\n\t\t\treturn true;\r\n\t}\r\n\treturn false;\r\n}\r\n```\r\n\r\nThis was my solution and I got 25% correctness. I would like to know what I did wrong.","title":"Issues in my Codility example test - Find the first missing positive number in an array","body":"<p>The question was\nWrite a function:</p>\n<p>class Solution { public int solution(int[] A); }\nthat, given an array A of N integers, returns the smallest positive integer (greater than 0) that does not occur in A.</p>\n<p>For example, given A = [1, 3, 6, 4, 1, 2], the function should return 5.</p>\n<p>Given A = [1, 2, 3], the function should return 4.</p>\n<p>Given A = [1, 3], the function should return 1.\nAssume that:</p>\n<p>N is an integer within the range [1..100,000]; each element of array A is an integer within the range [1,000,000..1,000,000]. Complexity:</p>\n<p>expected worst-case time complexity is O(N); expected worst-case space complexity is O(N) (not counting the storage required for input arguments).</p>\n<pre><code>public static int solution(int[] A) \n{\n    int min = 1;\n    boolean negArray = true;\n    for(int i = 0; i &lt; A.length; i++)\n    {\n        if(A[i] &gt; 0)\n        {\n            negArray = false;\n            if(A[i] &lt; min)\n            {\n                min = A[i];\n            }\n        }\n    }\n    \n    int i = 1;\n    while(contains(A, min+i))\n    {\n        i++;        \n    }   \n\n    if(negArray || A.length &lt;= 0)\n        return 1;\n    \n    return min + i;\n}\n\npublic static boolean contains(int[] A, int x)\n{\n    for(int i = 0; i &lt; A.length; i++)\n    {\n        if(A[i] == x)\n            return true;\n    }\n    return false;\n}\n</code></pre>\n<p>This was my solution and I got 25% correctness. I would like to know what I did wrong.</p>\n"},{"tags":["java","javafx","scene"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1660265892,"post_id":73328208,"comment_id":129497953,"body_markdown":"There is no need for `Platform.runLater()` here, but that is not the cause of the issue. Create and post a [mre] that reproduces the problem.","body":"There is no need for <code>Platform.runLater()</code> here, but that is not the cause of the issue. Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that reproduces the problem."},{"owner":{"account_id":25802749,"reputation":1420,"user_id":19544859,"display_name":"mikyll98"},"score":0,"creation_date":1660267927,"post_id":73328208,"comment_id":129498258,"body_markdown":"@James_D I&#39;ve tried removing Platform.runLater() and it throws NullPointerException... however I cannot seem to reproduce that problem in a simplier project, I&#39;ll try to provide further details or to actually make that minimal reproducible example.","body":"@James_D I&#39;ve tried removing Platform.runLater() and it throws NullPointerException... however I cannot seem to reproduce that problem in a simplier project, I&#39;ll try to provide further details or to actually make that minimal reproducible example."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1660287393,"post_id":73328208,"comment_id":129501376,"body_markdown":"You would appear to have at least two handlers that will call `selectBack`, the one added to the scene and the one added via FXML. Could that be the problem? But as noted, I think a [mre] is necessary here.","body":"You would appear to have at least two handlers that will call <code>selectBack</code>, the one added to the scene and the one added via FXML. Could that be the problem? But as noted, I think a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is necessary here."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1660302995,"post_id":73328208,"comment_id":129506587,"body_markdown":"What is null when you remove `Platform.runLater()`? Are you loading the FXML from a background thread? (Though that should actually be safe anyway.)","body":"What is null when you remove <code>Platform.runLater()</code>? Are you loading the FXML from a background thread? (Though that should actually be safe anyway.)"},{"owner":{"account_id":25802749,"reputation":1420,"user_id":19544859,"display_name":"mikyll98"},"score":0,"creation_date":1660304145,"post_id":73328208,"comment_id":129507005,"body_markdown":"@James_D I&#39;m loading it the same way I&#39;ve found everywhere (from Main class, inside the start method got from Application class). However I had found [this answer](https://stackoverflow.com/a/26061123/19544859), which explains why you shouldn&#39;t get the Scene from initialize() method","body":"@James_D I&#39;m loading it the same way I&#39;ve found everywhere (from Main class, inside the start method got from Application class). However I had found <a href=\"https://stackoverflow.com/a/26061123/19544859\">this answer</a>, which explains why you shouldn&#39;t get the Scene from initialize() method"},{"owner":{"account_id":2395407,"reputation":4656,"user_id":2094298,"accept_rate":93,"display_name":"Ruckus T-Boom"},"score":0,"creation_date":1660316160,"post_id":73328208,"comment_id":129511380,"body_markdown":"I think @Slaw is correct that you have multiple handlers. It looks like you have `selectBack` as callable from your FXML. Did you perhaps also set up a keybinding there somewhere? It would be useful if you show us the FXML (at least the parts that reference `selectBack`).","body":"I think @Slaw is correct that you have multiple handlers. It looks like you have <code>selectBack</code> as callable from your FXML. Did you perhaps also set up a keybinding there somewhere? It would be useful if you show us the FXML (at least the parts that reference <code>selectBack</code>)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1660316288,"post_id":73328208,"comment_id":129511432,"body_markdown":"Ah, yes, I didn&#39;t notice the `getScene()`. That would cause a NPE, and `Platform.runLater()` doesn&#39;t necessarily *guarantee* to avoid it. It&#39;s better to register that handler at the point in the code where you create the `Scene` (perhaps in your application subclass). You can still call a method in the controller. But none of that is the cause of the problem; as suggested, post a [mre].","body":"Ah, yes, I didn&#39;t notice the <code>getScene()</code>. That would cause a NPE, and <code>Platform.runLater()</code> doesn&#39;t necessarily <i>guarantee</i> to avoid it. It&#39;s better to register that handler at the point in the code where you create the <code>Scene</code> (perhaps in your application subclass). You can still call a method in the controller. But none of that is the cause of the problem; as suggested, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1660316501,"post_id":73328208,"comment_id":129511545,"body_markdown":"Do you have a button in the FXML with `cancelButton=&quot;true&quot;` and `onAction=&quot;#selectBack&quot;`?","body":"Do you have a button in the FXML with <code>cancelButton=&quot;true&quot;</code> and <code>onAction=&quot;#selectBack&quot;</code>?"},{"owner":{"account_id":25802749,"reputation":1420,"user_id":19544859,"display_name":"mikyll98"},"score":0,"creation_date":1660321343,"post_id":73328208,"comment_id":129513248,"body_markdown":"@RuckusT-Boom I&#39;ve updated the question with some links to the GitHub repository (with the interested classes).","body":"@RuckusT-Boom I&#39;ve updated the question with some links to the GitHub repository (with the interested classes)."},{"owner":{"account_id":25802749,"reputation":1420,"user_id":19544859,"display_name":"mikyll98"},"score":0,"creation_date":1660321351,"post_id":73328208,"comment_id":129513250,"body_markdown":"Anyways, responding to @James_D , I&#39;m still not able to reproduce the issue on another project, it seems not to happen there so I guess I&#39;m missing something. However, in case I won&#39;t get to a fix, I&#39;ll just remove that key binding feature, since it&#39;s not strictly necessary.\nRegarding the `cancelButton=&quot;true&quot;` unfortunately I don&#39;t have anything like that","body":"Anyways, responding to @James_D , I&#39;m still not able to reproduce the issue on another project, it seems not to happen there so I guess I&#39;m missing something. However, in case I won&#39;t get to a fix, I&#39;ll just remove that key binding feature, since it&#39;s not strictly necessary. Regarding the <code>cancelButton=&quot;true&quot;</code> unfortunately I don&#39;t have anything like that"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1660321673,"post_id":73328208,"comment_id":129513376,"body_markdown":"Put a breakpoint in the handler, run in debug mode, and examine the stack trace when you hit the breakpoint to see if you can determine where it&#39;s being called from.","body":"Put a breakpoint in the handler, run in debug mode, and examine the stack trace when you hit the breakpoint to see if you can determine where it&#39;s being called from."},{"owner":{"account_id":25802749,"reputation":1420,"user_id":19544859,"display_name":"mikyll98"},"score":0,"creation_date":1660323937,"post_id":73328208,"comment_id":129514163,"body_markdown":"@James_D I&#39;ve edited the question again, adding the debug info, but I discovered something very weird: the problem occurs just when a TextField has the focus. I&#39;m going to write a small minimal reproducible example and link it.","body":"@James_D I&#39;ve edited the question again, adding the debug info, but I discovered something very weird: the problem occurs just when a TextField has the focus. I&#39;m going to write a small minimal reproducible example and link it."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1660324413,"post_id":73328208,"comment_id":129514310,"body_markdown":"You have `onKeyTyped` handlers for your text fields. Does it still occur if you remove them? These are not a good idea anyway; to respond to changes in the text in a text field, you should register a listener with the text field&#39;s `textProperty`.  (Because, for example, if the user pastes text in using the mouse, your key handler won&#39;t be invoked and your UI will potentially be in an inconsistent state.)","body":"You have <code>onKeyTyped</code> handlers for your text fields. Does it still occur if you remove them? These are not a good idea anyway; to respond to changes in the text in a text field, you should register a listener with the text field&#39;s <code>textProperty</code>.  (Because, for example, if the user pastes text in using the mouse, your key handler won&#39;t be invoked and your UI will potentially be in an inconsistent state.)"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1660324443,"post_id":73328208,"comment_id":129514326,"body_markdown":"Edit the question to include the [mre], don&#39;t link it.","body":"Edit the question to include the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, don&#39;t link it."},{"owner":{"account_id":25802749,"reputation":1420,"user_id":19544859,"display_name":"mikyll98"},"score":0,"creation_date":1660325076,"post_id":73328208,"comment_id":129514483,"body_markdown":"Should I delete some part of the question to make it more clear or I can just append the Example at the end?","body":"Should I delete some part of the question to make it more clear or I can just append the Example at the end?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1660325157,"post_id":73328208,"comment_id":129514511,"body_markdown":"Assuming the [mre] reproduces the problem, I would delete large parts of the question. The [edit history](https://stackoverflow.com/posts/73328208/revisions) is available anyway.","body":"Assuming the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> reproduces the problem, I would delete large parts of the question. The <a href=\"https://stackoverflow.com/posts/73328208/revisions\">edit history</a> is available anyway."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1660325799,"post_id":73328208,"comment_id":129514735,"body_markdown":"This doesn&#39;t reproduce the issue for me. I only see the alert once. JavaFX 18.0.1 on JDK 18.0.2.","body":"This doesn&#39;t reproduce the issue for me. I only see the alert once. JavaFX 18.0.1 on JDK 18.0.2."},{"owner":{"account_id":25802749,"reputation":1420,"user_id":19544859,"display_name":"mikyll98"},"score":0,"creation_date":1660326188,"post_id":73328208,"comment_id":129514849,"body_markdown":"@James_D is it possible that it was fixed between Java 11 and Java 18?","body":"@James_D is it possible that it was fixed between Java 11 and Java 18?"}],"answers":[{"tags":[],"owner":{"account_id":12088843,"reputation":74,"user_id":8836133,"display_name":"Sonnenkind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660937664,"creation_date":1660937664,"answer_id":73421506,"question_id":73328208,"body_markdown":"**It seems like this is a misbehavior that has been fixed in OpenJFX 14.**\r\n\r\nI can reproduce the behavior with OpenJFX 11.0.1 ... 13.0.2, but not with OpenJFX 14 and later!\r\n\r\nThe relevant issue in the OpenJDK bug tracker seems to be https://bugs.openjdk.org/browse/JDK-8092352 (RT-23952) , which caused the implementation of e.g. `com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent` to be changed. \r\n\r\n**If you can, switching to OpenJFX 14+ is probably the best option.**\r\n\r\nIf you absolutely cannot update the JFX version: \r\n- Consuming the event(s) does *not* help, as the two calls receive two different event instances.\r\n- The only way I can think of to avoid triggering the dialog twice is to discard the second event if it comes too soon after the first one, which is a bit tricky because the second event is dispatched after the Alert is closed (because of the blocking `showAndWait` call), so we have to take that into account. There is the risk that we might discard &quot;real&quot; events, but because of the blocking Alert, it probably isn&#39;t much of a problem here. \r\n\r\nSomething like this:\r\n```\r\npublic class Controller {\r\n\t@FXML\r\n\tprivate AnchorPane base;\r\n\tprivate int counter = 0;\r\n\r\n\tpublic void initialize() {\r\n\t\tPlatform.runLater(() -&gt; {\r\n\t\t\tthis.base.getScene().setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\r\n\r\n\t\t\t\t// might want to tweak this\r\n\t\t\t\tprivate final int DISCARD_EVENT_DISTANCE_MILLIS = 10;\r\n\r\n\t\t\t\tprivate Instant lastInteractionTimestamp = null;\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void handle(KeyEvent e) {\r\n\t\t\t\t\tif (e.getCode() == KeyCode.ESCAPE) {\r\n\t\t\t\t\t\tfinal Instant now = Instant.now();\r\n\t\t\t\t\t\tSystem.out.println(now);\r\n\t\t\t\t\t\tif (shouldDiscardEvent(now)) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Discard event that comes too soon after previous interaction: &quot; + now);\r\n\t\t\t\t\t\t\tlastInteractionTimestamp = now;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlastInteractionTimestamp = test(new ActionEvent()); \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tprivate boolean shouldDiscardEvent(final Instant now) {\r\n\t\t\t\t\treturn lastInteractionTimestamp != null\r\n\t\t\t\t\t\t\t&amp;&amp; lastInteractionTimestamp.plusMillis(DISCARD_EVENT_DISTANCE_MILLIS).isAfter(now);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t}\r\n\r\n\t@FXML\r\n\tprivate void move(ActionEvent event) {\r\n\t}\r\n\r\n\t@FXML\r\n\tprivate Instant test(ActionEvent event) {\r\n\t\tSystem.out.println(&quot;Counter: &quot; + counter + &quot; (&quot; + Instant.now() + &quot;)&quot;);\r\n\r\n\t\tAlert alert = new Alert(AlertType.INFORMATION, &quot;Test&quot;);\r\n\t\talert.setContentText(&quot;Counter: &quot; + counter);\r\n\t\talert.showAndWait();\r\n\r\n\t\tcounter++;\r\n\t\treturn Instant.now();\r\n\t}\r\n}\r\n```","title":"JavaFX: callback called two times on KeyPressed event","body":"<p><strong>It seems like this is a misbehavior that has been fixed in OpenJFX 14.</strong></p>\n<p>I can reproduce the behavior with OpenJFX 11.0.1 ... 13.0.2, but not with OpenJFX 14 and later!</p>\n<p>The relevant issue in the OpenJDK bug tracker seems to be <a href=\"https://bugs.openjdk.org/browse/JDK-8092352\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8092352</a> (RT-23952) , which caused the implementation of e.g. <code>com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent</code> to be changed.</p>\n<p><strong>If you can, switching to OpenJFX 14+ is probably the best option.</strong></p>\n<p>If you absolutely cannot update the JFX version:</p>\n<ul>\n<li>Consuming the event(s) does <em>not</em> help, as the two calls receive two different event instances.</li>\n<li>The only way I can think of to avoid triggering the dialog twice is to discard the second event if it comes too soon after the first one, which is a bit tricky because the second event is dispatched after the Alert is closed (because of the blocking <code>showAndWait</code> call), so we have to take that into account. There is the risk that we might discard &quot;real&quot; events, but because of the blocking Alert, it probably isn't much of a problem here.</li>\n</ul>\n<p>Something like this:</p>\n<pre><code>public class Controller {\n    @FXML\n    private AnchorPane base;\n    private int counter = 0;\n\n    public void initialize() {\n        Platform.runLater(() -&gt; {\n            this.base.getScene().setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\n\n                // might want to tweak this\n                private final int DISCARD_EVENT_DISTANCE_MILLIS = 10;\n\n                private Instant lastInteractionTimestamp = null;\n\n                @Override\n                public void handle(KeyEvent e) {\n                    if (e.getCode() == KeyCode.ESCAPE) {\n                        final Instant now = Instant.now();\n                        System.out.println(now);\n                        if (shouldDiscardEvent(now)) {\n                            System.out.println(&quot;Discard event that comes too soon after previous interaction: &quot; + now);\n                            lastInteractionTimestamp = now;\n                        } else {\n                            lastInteractionTimestamp = test(new ActionEvent()); \n                        }\n                    }\n                }\n\n                private boolean shouldDiscardEvent(final Instant now) {\n                    return lastInteractionTimestamp != null\n                            &amp;&amp; lastInteractionTimestamp.plusMillis(DISCARD_EVENT_DISTANCE_MILLIS).isAfter(now);\n                }\n            });\n        });\n\n    }\n\n    @FXML\n    private void move(ActionEvent event) {\n    }\n\n    @FXML\n    private Instant test(ActionEvent event) {\n        System.out.println(&quot;Counter: &quot; + counter + &quot; (&quot; + Instant.now() + &quot;)&quot;);\n\n        Alert alert = new Alert(AlertType.INFORMATION, &quot;Test&quot;);\n        alert.setContentText(&quot;Counter: &quot; + counter);\n        alert.showAndWait();\n\n        counter++;\n        return Instant.now();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25802749,"reputation":1420,"user_id":19544859,"display_name":"mikyll98"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":894,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73421506,"answer_count":1,"score":0,"last_activity_date":1660937664,"creation_date":1660265185,"question_id":73328208,"body_markdown":"I&#39;ve set a callback to the Scene onKeyPressed, but it gets called 2 times. In particular:\r\n - if the **focus is on a TextField**, the method set onKeyPressed is **called 2 times**;\r\n - if the focus is on a non-text-editable component (e.g. a Button), it gets called just once.\r\n\r\n#### Debugging info\r\nBreakpoint placed at line 181, the one that calls the `selectBack()` method.\r\nFrom the debugger it appears that it&#39;s getting called always by that same event from Scene:\r\n\r\n1. [first call][2]\r\n2. [second call][3]\r\n\r\n## Minimal Reproducible Example\r\nI&#39;m using Java11 (jdk-11.0.11) + JavaFX11 (javafx-sdk-11.0.2)\r\n\r\n#### Project structure:\r\n\r\n    Test\r\n    |\r\n    +-src\r\n       |\r\n       +-application\r\n       |         |\r\n       |         +--Controller.java\r\n       |         |\r\n       |         +--Main.java\r\n       |         |\r\n       |         +--Test.fxml\r\n       |\r\n       module-info.java\r\n\r\n\r\n#### Main.java class:\r\n\r\n    package application;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.stage.Stage;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.AnchorPane;\r\n    \r\n    public class Main extends Application {\r\n    \t@Override\r\n    \tpublic void start(Stage stage){\r\n    \t\ttry {\r\n    \t\t\tFXMLLoader loader = new FXMLLoader(Main.class.getResource(&quot;Test.fxml&quot;));\r\n    \t\t\tAnchorPane root = (AnchorPane) loader.load();\r\n    \t\t\tScene scene = new Scene(root);\r\n    \t\t\tstage.setTitle(&quot;Test&quot;);\r\n    \t\t\tstage.setScene(scene);\r\n    \t\t\tstage.show();\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tcatch(Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    }\r\n\r\n#### Controller.java class:\r\n\r\n    package application;\r\n    \r\n    import javafx.application.Platform;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.Alert;\r\n    import javafx.scene.control.Alert.AlertType;\r\n    import javafx.scene.input.KeyCode;\r\n    import javafx.scene.layout.AnchorPane;\r\n    \r\n    public class Controller {\r\n    \t@FXML\r\n    \tprivate AnchorPane base;\r\n    \tprivate int counter = 0;\r\n    \r\n    \tpublic void initialize()\r\n    \t{\r\n    \t\tPlatform.runLater(() -&gt; {\r\n    \t\t\tthis.base.getScene().setOnKeyPressed(e -&gt; {\r\n    \t\t\t\tif(e.getCode() == KeyCode.ESCAPE)\r\n    \t\t\t\t\ttest(new ActionEvent());\r\n    \t\t\t});\r\n    \t\t});\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@FXML private void move(ActionEvent event)\r\n    \t{\r\n    \t}\r\n    \t\r\n    \t@FXML private void test(ActionEvent event)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;Counter: &quot; + counter + &quot; (&quot; + System.currentTimeMillis() + &quot;)&quot;);\r\n    \t\t\r\n    \t\tAlert alert = new Alert(AlertType.INFORMATION, &quot;Test&quot;);\r\n    \t\talert.setContentText(&quot;Counter: &quot; + counter);\r\n    \t\talert.showAndWait();\r\n    \t\t\r\n    \t\tcounter++;\r\n    \t}\r\n    }\r\n\r\n#### Test.fxml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.TextField?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    \r\n    &lt;AnchorPane id=&quot;base&quot; fx:id=&quot;base&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;400.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.Controller&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;TextField layoutX=&quot;125.0&quot; layoutY=&quot;187.0&quot; /&gt;\r\n          &lt;Button layoutX=&quot;174.0&quot; layoutY=&quot;273.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\r\n       &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\n#### module-info.java:\r\n\r\n    module test {\r\n    \trequires javafx.controls;\r\n    \trequires javafx.fxml;\r\n    \trequires transitive javafx.base;\r\n    \trequires transitive javafx.graphics;\r\n    \t\r\n    \topens application;\r\n    }\r\n\r\nRun configuration with VM arguments: `--module-path &quot;bin;C:\\Program Files\\Java\\javafx-sdk-11.0.2\\lib&quot; -m test/application.Main`\r\n\r\nTo reproduce the issue: run the application and press &#39;ESC&#39;:\r\n - if the focus is on the TextField, it will show the Alert 2 times;\r\n - if the focus is on the Button, the Alert will show just once.\r\n\r\n  [1]: https://i.stack.imgur.com/PvGoG.gif\r\n  [2]: https://i.stack.imgur.com/yDPmt.png\r\n  [3]: https://i.stack.imgur.com/gdvWu.png","title":"JavaFX: callback called two times on KeyPressed event","body":"<p>I've set a callback to the Scene onKeyPressed, but it gets called 2 times. In particular:</p>\n<ul>\n<li>if the <strong>focus is on a TextField</strong>, the method set onKeyPressed is <strong>called 2 times</strong>;</li>\n<li>if the focus is on a non-text-editable component (e.g. a Button), it gets called just once.</li>\n</ul>\n<h4>Debugging info</h4>\n<p>Breakpoint placed at line 181, the one that calls the <code>selectBack()</code> method.\nFrom the debugger it appears that it's getting called always by that same event from Scene:</p>\n<ol>\n<li><a href=\"https://i.stack.imgur.com/yDPmt.png\" rel=\"nofollow noreferrer\">first call</a></li>\n<li><a href=\"https://i.stack.imgur.com/gdvWu.png\" rel=\"nofollow noreferrer\">second call</a></li>\n</ol>\n<h2>Minimal Reproducible Example</h2>\n<p>I'm using Java11 (jdk-11.0.11) + JavaFX11 (javafx-sdk-11.0.2)</p>\n<h4>Project structure:</h4>\n<pre><code>Test\n|\n+-src\n   |\n   +-application\n   |         |\n   |         +--Controller.java\n   |         |\n   |         +--Main.java\n   |         |\n   |         +--Test.fxml\n   |\n   module-info.java\n</code></pre>\n<h4>Main.java class:</h4>\n<pre><code>package application;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.AnchorPane;\n\npublic class Main extends Application {\n    @Override\n    public void start(Stage stage){\n        try {\n            FXMLLoader loader = new FXMLLoader(Main.class.getResource(&quot;Test.fxml&quot;));\n            AnchorPane root = (AnchorPane) loader.load();\n            Scene scene = new Scene(root);\n            stage.setTitle(&quot;Test&quot;);\n            stage.setScene(scene);\n            stage.show();\n            \n        }\n        catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<h4>Controller.java class:</h4>\n<pre><code>package application;\n\nimport javafx.application.Platform;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Alert.AlertType;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.layout.AnchorPane;\n\npublic class Controller {\n    @FXML\n    private AnchorPane base;\n    private int counter = 0;\n\n    public void initialize()\n    {\n        Platform.runLater(() -&gt; {\n            this.base.getScene().setOnKeyPressed(e -&gt; {\n                if(e.getCode() == KeyCode.ESCAPE)\n                    test(new ActionEvent());\n            });\n        });\n        \n    }\n    \n    @FXML private void move(ActionEvent event)\n    {\n    }\n    \n    @FXML private void test(ActionEvent event)\n    {\n        System.out.println(&quot;Counter: &quot; + counter + &quot; (&quot; + System.currentTimeMillis() + &quot;)&quot;);\n        \n        Alert alert = new Alert(AlertType.INFORMATION, &quot;Test&quot;);\n        alert.setContentText(&quot;Counter: &quot; + counter);\n        alert.showAndWait();\n        \n        counter++;\n    }\n}\n</code></pre>\n<h4>Test.fxml:</h4>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane id=&quot;base&quot; fx:id=&quot;base&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;400.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.Controller&quot;&gt;\n   &lt;children&gt;\n      &lt;TextField layoutX=&quot;125.0&quot; layoutY=&quot;187.0&quot; /&gt;\n      &lt;Button layoutX=&quot;174.0&quot; layoutY=&quot;273.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<h4>module-info.java:</h4>\n<pre><code>module test {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires transitive javafx.base;\n    requires transitive javafx.graphics;\n    \n    opens application;\n}\n</code></pre>\n<p>Run configuration with VM arguments: <code>--module-path &quot;bin;C:\\Program Files\\Java\\javafx-sdk-11.0.2\\lib&quot; -m test/application.Main</code></p>\n<p>To reproduce the issue: run the application and press 'ESC':</p>\n<ul>\n<li>if the focus is on the TextField, it will show the Alert 2 times;</li>\n<li>if the focus is on the Button, the Alert will show just once.</li>\n</ul>\n"},{"tags":["java","sqlite","javafx","persistence"],"comments":[{"owner":{"account_id":7970439,"reputation":2783,"user_id":6015339,"display_name":"Glains"},"score":3,"creation_date":1595161348,"post_id":62979888,"comment_id":111372616,"body_markdown":"In Java 11, several Java EE dependencies have been removed from the SE (that were originally related to the EE environment) and `javax.annotation.*` is part of that. Thats the reason for your problem. From Java 11 onwards, you have to add `javax.annotation:javax.annotation-api` as a dependency manually.","body":"In Java 11, several Java EE dependencies have been removed from the SE (that were originally related to the EE environment) and <code>javax.annotation.*</code> is part of that. Thats the reason for your problem. From Java 11 onwards, you have to add <code>javax.annotation:javax.annotation-api</code> as a dependency manually."}],"answers":[{"tags":[],"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1660936873,"creation_date":1595159883,"answer_id":62979973,"question_id":62979888,"body_markdown":"**Add below dependency and try to run :**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"ClassNotFoundException: javax.annotation.Generated with JDK 11","body":"<p><strong>Add below dependency and try to run :</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n    &lt;version&gt;1.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":19112024,"reputation":159,"user_id":13957834,"display_name":"juran.maurice"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19204,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":62979973,"answer_count":1,"score":6,"last_activity_date":1660936873,"creation_date":1595159456,"question_id":62979888,"body_markdown":"I created a JavaFX Ant project in Apache Netbeans 12.0 with the JDK 11 from bellsoft. Then i created a database connection with an sqlite database, which is a file on my pc. In this database are two tables. \r\n\r\nI clicked right on the project and selected &quot;New-&gt;Entity Classes from Database...&quot;, then i created the two classes from the tables. Now i want to clean and build the project, but i get this error.\r\n\r\nDoes anybody know how to solve this problem? Is it because of the jdk?\r\n\r\n```An annotation processor threw an uncaught exception.\r\nConsult the following stack trace for details.\r\njava.lang.NoClassDefFoundError: javax/annotation/Generated\r\n\tat org.eclipse.persistence.internal.jpa.modelgen.MetadataMirrorFactory.setEnvironments(MetadataMirrorFactory.java:327)\r\n\tat org.eclipse.persistence.internal.jpa.modelgen.CanonicalModelProcessor.process(CanonicalModelProcessor.java:368)\r\n\tat com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:980)\r\n\tat com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:896)\r\n\tat com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1222)\r\n\tat com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1334)\r\n\tat com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1258)\r\n\tat com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:936)\r\n\tat com.sun.tools.javac.main.Main.compile(Main.java:311)\r\n\tat com.sun.tools.javac.main.Main.compile(Main.java:170)\r\n\tat com.sun.tools.javac.Main.compile(Main.java:57)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.tools.ant.taskdefs.compilers.Javac13.execute(Javac13.java:57)\r\n\tat org.apache.tools.ant.taskdefs.Javac.compile(Javac.java:1404)\r\n\tat org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:1133)\r\n\tat org.netbeans.modules.java.source.ant.JavacTask.execute(JavacTask.java:120)\r\n\tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor69.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\r\n\tat org.apache.tools.ant.Task.perform(Task.java:350)\r\n\tat java.base/java.util.Vector.forEach(Vector.java:1388)\r\n\tat org.apache.tools.ant.taskdefs.Sequential.execute(Sequential.java:67)\r\n\tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor69.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\r\n\tat org.apache.tools.ant.Task.perform(Task.java:350)\r\n\tat org.apache.tools.ant.taskdefs.MacroInstance.execute(MacroInstance.java:391)\r\n\tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor69.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\r\n\tat org.apache.tools.ant.Task.perform(Task.java:350)\r\n\tat org.apache.tools.ant.Target.execute(Target.java:449)\r\n\tat org.apache.tools.ant.Target.performTasks(Target.java:470)\r\n\tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1388)\r\n\tat org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:36)\r\n\tat org.apache.tools.ant.Project.executeTargets(Project.java:1251)\r\n\tat org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:437)\r\n\tat org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:105)\r\n\tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor69.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\r\n\tat org.apache.tools.ant.Task.perform(Task.java:350)\r\n\tat org.apache.tools.ant.Target.execute(Target.java:449)\r\n\tat org.apache.tools.ant.Target.performTasks(Target.java:470)\r\n\tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1388)\r\n\tat org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:36)\r\n\tat org.apache.tools.ant.Project.executeTargets(Project.java:1251)\r\n\tat org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:437)\r\n\tat org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:105)\r\n\tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor69.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\r\n\tat org.apache.tools.ant.Task.perform(Task.java:350)\r\n\tat org.apache.tools.ant.Target.execute(Target.java:449)\r\n\tat org.apache.tools.ant.Target.performTasks(Target.java:470)\r\n\tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1388)\r\n\tat org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:36)\r\n\tat org.apache.tools.ant.Project.executeTargets(Project.java:1251)\r\n\tat org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:437)\r\n\tat org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:105)\r\n\tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor69.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\r\n\tat org.apache.tools.ant.Task.perform(Task.java:350)\r\n\tat org.apache.tools.ant.Target.execute(Target.java:449)\r\n\tat org.apache.tools.ant.Target.performTasks(Target.java:470)\r\n\tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1388)\r\n\tat org.apache.tools.ant.Project.executeTarget(Project.java:1361)\r\n\tat org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\r\n\tat org.apache.tools.ant.Project.executeTargets(Project.java:1251)\r\n\tat org.apache.tools.ant.module.bridge.impl.BridgeImpl.run(BridgeImpl.java:261)\r\n\tat org.apache.tools.ant.module.run.TargetExecutor.run(TargetExecutor.java:574)\r\n\tat org.netbeans.core.execution.RunClassThread.run(RunClassThread.java:128)\r\nCaused by: java.lang.ClassNotFoundException: javax.annotation.Generated\r\n\tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:471)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 88 more\r\nBUILD FAILED (total time: 1 second)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V9zor.png","title":"ClassNotFoundException: javax.annotation.Generated with JDK 11","body":"<p>I created a JavaFX Ant project in Apache Netbeans 12.0 with the JDK 11 from bellsoft. Then i created a database connection with an sqlite database, which is a file on my pc. In this database are two tables.</p>\n<p>I clicked right on the project and selected &quot;New-&gt;Entity Classes from Database...&quot;, then i created the two classes from the tables. Now i want to clean and build the project, but i get this error.</p>\n<p>Does anybody know how to solve this problem? Is it because of the jdk?</p>\n<pre><code>Consult the following stack trace for details.\njava.lang.NoClassDefFoundError: javax/annotation/Generated\n    at org.eclipse.persistence.internal.jpa.modelgen.MetadataMirrorFactory.setEnvironments(MetadataMirrorFactory.java:327)\n    at org.eclipse.persistence.internal.jpa.modelgen.CanonicalModelProcessor.process(CanonicalModelProcessor.java:368)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:980)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:896)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1222)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1334)\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1258)\n    at com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:936)\n    at com.sun.tools.javac.main.Main.compile(Main.java:311)\n    at com.sun.tools.javac.main.Main.compile(Main.java:170)\n    at com.sun.tools.javac.Main.compile(Main.java:57)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.tools.ant.taskdefs.compilers.Javac13.execute(Javac13.java:57)\n    at org.apache.tools.ant.taskdefs.Javac.compile(Javac.java:1404)\n    at org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:1133)\n    at org.netbeans.modules.java.source.ant.JavacTask.execute(JavacTask.java:120)\n    at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\n    at jdk.internal.reflect.GeneratedMethodAccessor69.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\n    at org.apache.tools.ant.Task.perform(Task.java:350)\n    at java.base/java.util.Vector.forEach(Vector.java:1388)\n    at org.apache.tools.ant.taskdefs.Sequential.execute(Sequential.java:67)\n    at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\n    at jdk.internal.reflect.GeneratedMethodAccessor69.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\n    at org.apache.tools.ant.Task.perform(Task.java:350)\n    at org.apache.tools.ant.taskdefs.MacroInstance.execute(MacroInstance.java:391)\n    at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\n    at jdk.internal.reflect.GeneratedMethodAccessor69.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\n    at org.apache.tools.ant.Task.perform(Task.java:350)\n    at org.apache.tools.ant.Target.execute(Target.java:449)\n    at org.apache.tools.ant.Target.performTasks(Target.java:470)\n    at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1388)\n    at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:36)\n    at org.apache.tools.ant.Project.executeTargets(Project.java:1251)\n    at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:437)\n    at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:105)\n    at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\n    at jdk.internal.reflect.GeneratedMethodAccessor69.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\n    at org.apache.tools.ant.Task.perform(Task.java:350)\n    at org.apache.tools.ant.Target.execute(Target.java:449)\n    at org.apache.tools.ant.Target.performTasks(Target.java:470)\n    at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1388)\n    at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:36)\n    at org.apache.tools.ant.Project.executeTargets(Project.java:1251)\n    at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:437)\n    at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:105)\n    at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\n    at jdk.internal.reflect.GeneratedMethodAccessor69.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\n    at org.apache.tools.ant.Task.perform(Task.java:350)\n    at org.apache.tools.ant.Target.execute(Target.java:449)\n    at org.apache.tools.ant.Target.performTasks(Target.java:470)\n    at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1388)\n    at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:36)\n    at org.apache.tools.ant.Project.executeTargets(Project.java:1251)\n    at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:437)\n    at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:105)\n    at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\n    at jdk.internal.reflect.GeneratedMethodAccessor69.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\n    at org.apache.tools.ant.Task.perform(Task.java:350)\n    at org.apache.tools.ant.Target.execute(Target.java:449)\n    at org.apache.tools.ant.Target.performTasks(Target.java:470)\n    at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1388)\n    at org.apache.tools.ant.Project.executeTarget(Project.java:1361)\n    at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\n    at org.apache.tools.ant.Project.executeTargets(Project.java:1251)\n    at org.apache.tools.ant.module.bridge.impl.BridgeImpl.run(BridgeImpl.java:261)\n    at org.apache.tools.ant.module.run.TargetExecutor.run(TargetExecutor.java:574)\n    at org.netbeans.core.execution.RunClassThread.run(RunClassThread.java:128)\nCaused by: java.lang.ClassNotFoundException: javax.annotation.Generated\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:471)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 88 more\nBUILD FAILED (total time: 1 second)\n\n\n  [1]: https://i.stack.imgur.com/V9zor.png\n</code></pre>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":13259,"reputation":67754,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1616167289,"creation_date":1538676016,"answer_id":52652847,"question_id":52652846,"body_markdown":"For me, I had to edit the `eclipse-inst.ini` file located here:\r\n\r\n    Eclipse Installer.app/Contents/Eclipse/eclipse-inst.ini\r\n\r\nand add the path to my local java VM **at the very top of the .ini file**, which is here:\r\n\r\n    -vm\r\n    /Users/bparks/jdk/jdk1.8.0_162_x64/bin/java\r\n\r\nIf the `Eclipse Installer.app` file is in a DMG, right click on it, and copy it, then paste it into another folder. Then right click on that app file, and choose &quot;Show Package Contents&quot;, to get into the files inside the application. \r\n\r\nIf you&#39;ve already got Eclipse installed, and find it&#39;s throwing the same error, you could try a similar approach by editing the following file for Eclipse:\r\n\r\n    /Applications/Eclipse.app/Contents/Eclipse/eclipse.ini\r\n\r\nOn mac, you can get the full path you&#39;d need to your java exe by running the following in a terminal, which will copy the path to your clipboard.\r\n\r\n    $ echo $(/usr/libexec/java_home)/bin/java | pbcopy\r\n\r\n","title":"Can&#39;t install Eclipse - &quot;Failed to create the Java Virtual Machine&quot; on Mac","body":"<p>For me, I had to edit the <code>eclipse-inst.ini</code> file located here:</p>\n<pre><code>Eclipse Installer.app/Contents/Eclipse/eclipse-inst.ini\n</code></pre>\n<p>and add the path to my local java VM <strong>at the very top of the .ini file</strong>, which is here:</p>\n<pre><code>-vm\n/Users/bparks/jdk/jdk1.8.0_162_x64/bin/java\n</code></pre>\n<p>If the <code>Eclipse Installer.app</code> file is in a DMG, right click on it, and copy it, then paste it into another folder. Then right click on that app file, and choose &quot;Show Package Contents&quot;, to get into the files inside the application.</p>\n<p>If you've already got Eclipse installed, and find it's throwing the same error, you could try a similar approach by editing the following file for Eclipse:</p>\n<pre><code>/Applications/Eclipse.app/Contents/Eclipse/eclipse.ini\n</code></pre>\n<p>On mac, you can get the full path you'd need to your java exe by running the following in a terminal, which will copy the path to your clipboard.</p>\n<pre><code>$ echo $(/usr/libexec/java_home)/bin/java | pbcopy\n</code></pre>\n"},{"tags":[],"owner":{"account_id":916182,"reputation":2081,"user_id":948938,"display_name":"Juan Ignacio Barisich"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1645453123,"creation_date":1560194789,"answer_id":56532418,"question_id":52652846,"body_markdown":"Edit the file /Applications/Eclipse.app/Contents/Info.plist\r\n\r\nThere is a comment for use a particular JVM:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;key&gt;Eclipse&lt;/key&gt;\r\n    &lt;array&gt;\r\n    \t&lt;!-- to use a specific Java version (instead of the platform&#39;s default) uncomment one of the following options,\r\n    \t\tor add a VM found via $/usr/libexec/java_home -V --&gt;\r\n    \t&lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Library/Java/JavaVirtualMachines/jdk8u192-b12/Contents/Home/jre/&lt;/string&gt;\r\n    \t&lt;string&gt;-keyring&lt;/string&gt;\r\n        &lt;string&gt;~/.eclipse_keyring&lt;/string&gt;\r\n    &lt;/array&gt;","title":"Can&#39;t install Eclipse - &quot;Failed to create the Java Virtual Machine&quot; on Mac","body":"<p>Edit the file /Applications/Eclipse.app/Contents/Info.plist</p>\n<p>There is a comment for use a particular JVM:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;key&gt;Eclipse&lt;/key&gt;\n&lt;array&gt;\n    &lt;!-- to use a specific Java version (instead of the platform's default) uncomment one of the following options,\n        or add a VM found via $/usr/libexec/java_home -V --&gt;\n    &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Library/Java/JavaVirtualMachines/jdk8u192-b12/Contents/Home/jre/&lt;/string&gt;\n    &lt;string&gt;-keyring&lt;/string&gt;\n    &lt;string&gt;~/.eclipse_keyring&lt;/string&gt;\n&lt;/array&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2156592,"reputation":587,"user_id":1999185,"display_name":"clarkttfu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582774311,"creation_date":1582774311,"answer_id":60425877,"question_id":52652846,"body_markdown":"I met this problem with `eclipse-java-2020-03-M2-macosx-cocoa-x86_64`, and **opendjdk11**. The latest eclipse installer at the moment also complained same error.\r\n\r\nAfter I switched back to **openjdk8**, everything goes well...\r\n","title":"Can&#39;t install Eclipse - &quot;Failed to create the Java Virtual Machine&quot; on Mac","body":"<p>I met this problem with <code>eclipse-java-2020-03-M2-macosx-cocoa-x86_64</code>, and <strong>opendjdk11</strong>. The latest eclipse installer at the moment also complained same error.</p>\n\n<p>After I switched back to <strong>openjdk8</strong>, everything goes well...</p>\n"},{"tags":[],"owner":{"account_id":16564511,"reputation":11,"user_id":11969496,"display_name":"Prashant Basnet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585344948,"creation_date":1585344948,"answer_id":60894426,"question_id":52652846,"body_markdown":"delete all java folder inside /Library/Java \r\n\r\nthen install a new jdk from \r\nhttps://adoptopenjdk.net/\r\n\r\nwhich will install at\r\n/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk\r\n\r\nthen try reinstalling eclipse a","title":"Can&#39;t install Eclipse - &quot;Failed to create the Java Virtual Machine&quot; on Mac","body":"<p>delete all java folder inside /Library/Java </p>\n\n<p>then install a new jdk from \n<a href=\"https://adoptopenjdk.net/\" rel=\"nofollow noreferrer\">https://adoptopenjdk.net/</a></p>\n\n<p>which will install at\n/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk</p>\n\n<p>then try reinstalling eclipse a</p>\n"},{"tags":[],"owner":{"account_id":5227417,"reputation":4468,"user_id":4179020,"accept_rate":81,"display_name":"Andr&#233; Kuhlmann"},"down_vote_count":3,"up_vote_count":29,"is_accepted":false,"score":26,"last_activity_date":1645453153,"creation_date":1585475821,"answer_id":60912567,"question_id":52652846,"body_markdown":"It took me some time to figure this out as well. The main takeaway was **eclipse does not support SDK Version 14** (as of eclipse 2020-03). That was not completely obvious to me. \r\n\r\n1. Install a supported version (I used Homebrew to install SDK V8 &#127866;):\r\n    &lt;!-- language: lang-none --&gt;\r\n\r\n        brew cask install adoptopenjdk/openjdk/adoptopenjdk8\r\n\r\n    If this is the only Java Version you have installed you should be fine and Eclipse should open up. If that is not the case and you have another Java Version installed. You have to tell Eclipse which Version of Java it should be using (see Step 2).\r\n\r\n2. Tell Eclipse which Version to use by editing the `/Applications/Eclipse.app/Contents/Info.plist` file as described by [Juan Ignacio Barisich][1] and [Brad Parks][2]. **That being the version you installed in step 1**.\r\n\r\n    &lt;!-- language: lang-none --&gt;\r\n\r\n        nano /Applications/Eclipse.app/Contents/Info.plist\r\n        # or\r\n        open /Applications/Eclipse.app/Contents/Info.plist\r\n\r\n     &lt;!-- language: lang-xml --&gt;\r\n\r\n        &lt;key&gt;Eclipse&lt;/key&gt;\r\n        &lt;array&gt;\r\n            &lt;string&gt;-keyring&lt;/string&gt;\r\n            &lt;string&gt;~/.eclipse_keyring&lt;/string&gt;\r\n            &lt;string&gt;-vm&lt;/string&gt;\r\n            &lt;string&gt;/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/&lt;/string&gt;\r\n        &lt;/array&gt;\r\n\r\n**Disclaimer:** Please bare in mind that those were the steps I took to get eclipse running again. Because I&#39;m nowhere qualified to give a precise answer about this please take a look at the comments in case I got something wrong.\r\n\r\n**Edit:** See [Christian Fries][3] answer who pointed out that all java versions 8 to 13 are supported by eclipse.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/56532418/4179020\r\n  [2]: https://stackoverflow.com/a/52652847/4179020\r\n  [3]: https://stackoverflow.com/a/60970143/4179020","title":"Can&#39;t install Eclipse - &quot;Failed to create the Java Virtual Machine&quot; on Mac","body":"<p>It took me some time to figure this out as well. The main takeaway was <strong>eclipse does not support SDK Version 14</strong> (as of eclipse 2020-03). That was not completely obvious to me.</p>\n<ol>\n<li><p>Install a supported version (I used Homebrew to install SDK V8 ):</p>\n <pre class=\"lang-none prettyprint-override\"><code> brew cask install adoptopenjdk/openjdk/adoptopenjdk8\n</code></pre>\n<p>If this is the only Java Version you have installed you should be fine and Eclipse should open up. If that is not the case and you have another Java Version installed. You have to tell Eclipse which Version of Java it should be using (see Step 2).</p>\n</li>\n<li><p>Tell Eclipse which Version to use by editing the <code>/Applications/Eclipse.app/Contents/Info.plist</code> file as described by <a href=\"https://stackoverflow.com/a/56532418/4179020\">Juan Ignacio Barisich</a> and <a href=\"https://stackoverflow.com/a/52652847/4179020\">Brad Parks</a>. <strong>That being the version you installed in step 1</strong>.</p>\n <pre class=\"lang-none prettyprint-override\"><code> nano /Applications/Eclipse.app/Contents/Info.plist\n # or\n open /Applications/Eclipse.app/Contents/Info.plist\n</code></pre>\n  <pre class=\"lang-xml prettyprint-override\"><code> &lt;key&gt;Eclipse&lt;/key&gt;\n &lt;array&gt;\n     &lt;string&gt;-keyring&lt;/string&gt;\n     &lt;string&gt;~/.eclipse_keyring&lt;/string&gt;\n     &lt;string&gt;-vm&lt;/string&gt;\n     &lt;string&gt;/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/&lt;/string&gt;\n &lt;/array&gt;\n</code></pre>\n</li>\n</ol>\n<p><strong>Disclaimer:</strong> Please bare in mind that those were the steps I took to get eclipse running again. Because I'm nowhere qualified to give a precise answer about this please take a look at the comments in case I got something wrong.</p>\n<p><strong>Edit:</strong> See <a href=\"https://stackoverflow.com/a/60970143/4179020\">Christian Fries</a> answer who pointed out that all java versions 8 to 13 are supported by eclipse.</p>\n"},{"tags":[],"owner":{"account_id":82244,"reputation":16374,"user_id":231397,"accept_rate":24,"display_name":"Christian Fries"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1586014863,"creation_date":1585741629,"answer_id":60970143,"question_id":52652846,"body_markdown":"**Note**: The error &quot;**Failed to create the Java Virtual Machine**&quot; also exists with **Eclipse 2020-03** (under some situations, see https://bugs.eclipse.org/bugs/show_bug.cgi?id=561273) and it is not required to use Java 8 (with Eclipse 2020-03).\r\n\r\n\r\n**For the impatient:**\r\n\r\nYou can run Eclipse or the Eclipse Installer with a given VM without changing `eclipse.ini` by starting it via a command line:\r\n\r\n - Open Terminal an run:\r\n\r\n - `open PATHTOECLIPSEINSTALLER/Eclipse\\ Installer.app --args -vm /Library/Java/JavaVirtualMachines/NAMEOFJDK/Contents/Home/bin`\r\n\r\nwhere `PATHTOECLIPSEINSTALLER` is the path of the folder where Eclipse Installer is located and `NAMEOFJDK` is the name of the folder with the JDK (11, 12, 13).\r\n\r\nFor example: \r\n\r\n`open Downloads/Eclipse\\ Installer.app --args -vm /Library/Java/JavaVirtualMachines/jdk-11.0.2.jdk/Contents/Home/bin`\r\n\r\nIn the installer you may select the VM used by Eclipse. Use a compatible VM here and the installer will modify the `eclipse.ini` for you.\r\n\r\n**Explanation TL;DR**\r\n\r\nTo clarify this issue:\r\n\r\nEclipse - say Eclipse 2020-03 - runs with Java 11, Java 12, Java 13, but does not run with Java 14. It fails with the message &quot;Failed to create the Java Virtual Machine&quot;. This happens for the installer and for Eclipse itself.\r\n\r\nYou can download Eclipse without the installer from here: https://www.eclipse.org/downloads/packages/\r\n\r\n**Explanation:**\r\n\r\nOn macOS, if you start a freshly installed Eclipse, it will use the default JVM. The default JVM is obtained by running `/usr/libexec/java_home`.\r\n\r\nThis program `/usr/libexec/java_home` will find the installed JDK with the highest version as default. That is, if you have JDK 14 installed and run Eclipse 2020-03, you will see this error.\r\n\r\n**Solution**\r\n\r\nSummarising some other answers here, there are three options:\r\n\r\n 1. Once you have removed JDK 14 from /Library/Java/JavaVirtualMachines/ the error will be gone.\r\n\r\n 2. If you like to have JDK 14 installed, start the installer with a different JDK via the command line `open Path-to-Eclipse-Installer/Eclipse\\ Installer.app --args -vm /Library/Java/JavaVirtualMachines/NAMEOFJDK/Contents/Home/bin`\r\n\r\n 3. You may edit the eclipse.ini (as suggested in other answers) to use a specific JVM.\r\n","title":"Can&#39;t install Eclipse - &quot;Failed to create the Java Virtual Machine&quot; on Mac","body":"<p><strong>Note</strong>: The error \"<strong>Failed to create the Java Virtual Machine</strong>\" also exists with <strong>Eclipse 2020-03</strong> (under some situations, see <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=561273\" rel=\"noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=561273</a>) and it is not required to use Java 8 (with Eclipse 2020-03).</p>\n\n<p><strong>For the impatient:</strong></p>\n\n<p>You can run Eclipse or the Eclipse Installer with a given VM without changing <code>eclipse.ini</code> by starting it via a command line:</p>\n\n<ul>\n<li><p>Open Terminal an run:</p></li>\n<li><p><code>open PATHTOECLIPSEINSTALLER/Eclipse\\ Installer.app --args -vm /Library/Java/JavaVirtualMachines/NAMEOFJDK/Contents/Home/bin</code></p></li>\n</ul>\n\n<p>where <code>PATHTOECLIPSEINSTALLER</code> is the path of the folder where Eclipse Installer is located and <code>NAMEOFJDK</code> is the name of the folder with the JDK (11, 12, 13).</p>\n\n<p>For example: </p>\n\n<p><code>open Downloads/Eclipse\\ Installer.app --args -vm /Library/Java/JavaVirtualMachines/jdk-11.0.2.jdk/Contents/Home/bin</code></p>\n\n<p>In the installer you may select the VM used by Eclipse. Use a compatible VM here and the installer will modify the <code>eclipse.ini</code> for you.</p>\n\n<p><strong>Explanation TL;DR</strong></p>\n\n<p>To clarify this issue:</p>\n\n<p>Eclipse - say Eclipse 2020-03 - runs with Java 11, Java 12, Java 13, but does not run with Java 14. It fails with the message \"Failed to create the Java Virtual Machine\". This happens for the installer and for Eclipse itself.</p>\n\n<p>You can download Eclipse without the installer from here: <a href=\"https://www.eclipse.org/downloads/packages/\" rel=\"noreferrer\">https://www.eclipse.org/downloads/packages/</a></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>On macOS, if you start a freshly installed Eclipse, it will use the default JVM. The default JVM is obtained by running <code>/usr/libexec/java_home</code>.</p>\n\n<p>This program <code>/usr/libexec/java_home</code> will find the installed JDK with the highest version as default. That is, if you have JDK 14 installed and run Eclipse 2020-03, you will see this error.</p>\n\n<p><strong>Solution</strong></p>\n\n<p>Summarising some other answers here, there are three options:</p>\n\n<ol>\n<li><p>Once you have removed JDK 14 from /Library/Java/JavaVirtualMachines/ the error will be gone.</p></li>\n<li><p>If you like to have JDK 14 installed, start the installer with a different JDK via the command line <code>open Path-to-Eclipse-Installer/Eclipse\\ Installer.app --args -vm /Library/Java/JavaVirtualMachines/NAMEOFJDK/Contents/Home/bin</code></p></li>\n<li><p>You may edit the eclipse.ini (as suggested in other answers) to use a specific JVM.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18214906,"reputation":21,"user_id":13256717,"display_name":"Axel Deleye"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586378762,"creation_date":1586332227,"answer_id":61095751,"question_id":52652846,"body_markdown":"Referring to Marseille Joseph \r\nhttps://www.eclipse.org/forums/index.php?t=msg&amp;th=1102885&amp;goto=1823113&amp;#msg_num_13\r\nThis worked for me!\r\n\r\nTheir solution didn&#39;t require uninstalling jdk14 or to editing the eclipse.ini file. Instead, do this:\r\n\r\n\r\n```bash\r\ncd /Library/Java/JavaVirtualMachines/jdk-14.jdk/Contents/MacOS/\r\nsudo rm /Library/Java/JavaVirtualMachines/jdk-14.jdk/Contents/MacOS/libjli.dylib\r\nsudo ln -s /Library/Java/JavaVirtualMachines/jdk-14.jdk/Contents/Home/lib/libjli.dylib libjli.dylib\r\n```\r\n","title":"Can&#39;t install Eclipse - &quot;Failed to create the Java Virtual Machine&quot; on Mac","body":"<p>Referring to Marseille Joseph \n<a href=\"https://www.eclipse.org/forums/index.php?t=msg&amp;th=1102885&amp;goto=1823113&amp;#msg_num_13\" rel=\"nofollow noreferrer\">https://www.eclipse.org/forums/index.php?t=msg&amp;th=1102885&amp;goto=1823113&amp;#msg_num_13</a>\nThis worked for me!</p>\n\n<p>Their solution didn't require uninstalling jdk14 or to editing the eclipse.ini file. Instead, do this:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>cd /Library/Java/JavaVirtualMachines/jdk-14.jdk/Contents/MacOS/\nsudo rm /Library/Java/JavaVirtualMachines/jdk-14.jdk/Contents/MacOS/libjli.dylib\nsudo ln -s /Library/Java/JavaVirtualMachines/jdk-14.jdk/Contents/Home/lib/libjli.dylib libjli.dylib\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13328614,"reputation":437,"user_id":9620772,"display_name":"cblnpa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586378811,"creation_date":1586378811,"answer_id":61109734,"question_id":52652846,"body_markdown":"I had the same problem in my mac. Here is my solution. \r\n\r\nFirst: I&#39;ve uninstall all the versions of jdk, because I&#39;ve try a lot of options.\r\nTo do this, you need to go to Library/Java/JavaVirtualMachines\r\nand delete all the folders. \r\n\r\nSecond: Install jdk 1.8 here is a link to download this version:\r\n[jdk 1.8][1]\r\n\r\nThird: Install [eclipse 2020-03][2] and thats all. \r\n\r\nIf you want to use JDK 14, you need to follow this steps:\r\n\r\n 1. Open eclipse\r\n 2. Go to Help &gt; Install new software\r\n 3. In the Install window copy the following link in **Work with** https://download.eclipse.org/eclipse/updates/4.15-P-builds/\r\n\r\n[![Install window][3]][3]\r\n\r\n 4. Select the third option show in the picture below\r\n[![Option][4]][4]\r\n 5. Then, click &quot;next&quot; and finish the install\r\n\r\nNow you have to change the options, go to Preferences (command + ,) &gt; Java &gt; Compiler and search the version 14. *Before this step you need to install jdk 14 ([link][5])* Perhaps eclipse would suggest you to change to the correct JREs, for this you need to go to Java &gt; Installed JREs and add the correct version. When you click **add** you need to choose he JRE type, in my case I use a MacOS X VM and Standard VM, then you have to choose the directory (/Library/Java/JavaVirtualMachine/jdk-14/Contents/Home and click **open** you could give a JRE Name and **finish** eclipse will be restart and now you can use eclipse with java 14.\r\n\r\n[![enter image description here][6]][6]\r\n\r\nThis works for me, I hope you have understood me. \r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\r\n  [2]: https://www.eclipse.org/downloads/download.php?file=/oomph/epp/2020-03/R/eclipse-inst-mac64.dmg\r\n  [3]: https://i.stack.imgur.com/Eu1cR.png\r\n  [4]: https://i.stack.imgur.com/eTajD.png\r\n  [5]: https://www.oracle.com/java/technologies/javase-jdk14-downloads.html\r\n  [6]: https://i.stack.imgur.com/eAzjb.png","title":"Can&#39;t install Eclipse - &quot;Failed to create the Java Virtual Machine&quot; on Mac","body":"<p>I had the same problem in my mac. Here is my solution. </p>\n\n<p>First: I've uninstall all the versions of jdk, because I've try a lot of options.\nTo do this, you need to go to Library/Java/JavaVirtualMachines\nand delete all the folders. </p>\n\n<p>Second: Install jdk 1.8 here is a link to download this version:\n<a href=\"https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\" rel=\"nofollow noreferrer\">jdk 1.8</a></p>\n\n<p>Third: Install <a href=\"https://www.eclipse.org/downloads/download.php?file=/oomph/epp/2020-03/R/eclipse-inst-mac64.dmg\" rel=\"nofollow noreferrer\">eclipse 2020-03</a> and thats all. </p>\n\n<p>If you want to use JDK 14, you need to follow this steps:</p>\n\n<ol>\n<li>Open eclipse</li>\n<li>Go to Help > Install new software</li>\n<li>In the Install window copy the following link in <strong>Work with</strong> <a href=\"https://download.eclipse.org/eclipse/updates/4.15-P-builds/\" rel=\"nofollow noreferrer\">https://download.eclipse.org/eclipse/updates/4.15-P-builds/</a></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/Eu1cR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Eu1cR.png\" alt=\"Install window\"></a></p>\n\n<ol start=\"4\">\n<li>Select the third option show in the picture below\n<a href=\"https://i.stack.imgur.com/eTajD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eTajD.png\" alt=\"Option\"></a></li>\n<li>Then, click \"next\" and finish the install</li>\n</ol>\n\n<p>Now you have to change the options, go to Preferences (command + ,) > Java > Compiler and search the version 14. <em>Before this step you need to install jdk 14 (<a href=\"https://www.oracle.com/java/technologies/javase-jdk14-downloads.html\" rel=\"nofollow noreferrer\">link</a>)</em> Perhaps eclipse would suggest you to change to the correct JREs, for this you need to go to Java > Installed JREs and add the correct version. When you click <strong>add</strong> you need to choose he JRE type, in my case I use a MacOS X VM and Standard VM, then you have to choose the directory (/Library/Java/JavaVirtualMachine/jdk-14/Contents/Home and click <strong>open</strong> you could give a JRE Name and <strong>finish</strong> eclipse will be restart and now you can use eclipse with java 14.</p>\n\n<p><a href=\"https://i.stack.imgur.com/eAzjb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eAzjb.png\" alt=\"enter image description here\"></a></p>\n\n<p>This works for me, I hope you have understood me. </p>\n"},{"tags":[],"owner":{"account_id":17943724,"reputation":11,"user_id":13267476,"display_name":"Maninder Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586423206,"creation_date":1586423206,"answer_id":61117591,"question_id":52652846,"body_markdown":"Go to /Library/Java/JavaVirtualMachines\r\n\r\nDelete all version except one in use.\r\n\r\n","title":"Can&#39;t install Eclipse - &quot;Failed to create the Java Virtual Machine&quot; on Mac","body":"<p>Go to /Library/Java/JavaVirtualMachines</p>\n\n<p>Delete all version except one in use.</p>\n"},{"tags":[],"owner":{"account_id":7252030,"reputation":446,"user_id":5531948,"display_name":"Linh Le Vu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602568778,"creation_date":1602568778,"answer_id":64329393,"question_id":52652846,"body_markdown":"Install jdk 8 from brew work for me. You can get the instruction on installing Jdk 8 from HomeBrew here [How to install Java 8 on Mac][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24342886/how-to-install-java-8-on-mac","title":"Can&#39;t install Eclipse - &quot;Failed to create the Java Virtual Machine&quot; on Mac","body":"<p>Install jdk 8 from brew work for me. You can get the instruction on installing Jdk 8 from HomeBrew here <a href=\"https://stackoverflow.com/questions/24342886/how-to-install-java-8-on-mac\">How to install Java 8 on Mac</a></p>\n"},{"tags":[],"owner":{"account_id":20414695,"reputation":16,"user_id":14977216,"display_name":"RPA Developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612183469,"creation_date":1612183469,"answer_id":65992941,"question_id":52652846,"body_markdown":" \r\nFor Windows OS:\r\n 1. open eclipse.ini in the Eclipse program folder\r\n 2. add the below lines at the top of the file\r\n\r\n&lt;em&gt;-vm&lt;/em&gt;\r\n\r\npath-to-java-bin\\javaw.exe (for example: C:\\Program Files\\Java\\jdk-11.0.10\\bin\\javaw.exe)\r\n\r\n","title":"Can&#39;t install Eclipse - &quot;Failed to create the Java Virtual Machine&quot; on Mac","body":"<p>For Windows OS:</p>\n<ol>\n<li>open eclipse.ini in the Eclipse program folder</li>\n<li>add the below lines at the top of the file</li>\n</ol>\n<p><em>-vm</em></p>\n<p>path-to-java-bin\\javaw.exe (for example: C:\\Program Files\\Java\\jdk-11.0.10\\bin\\javaw.exe)</p>\n"},{"tags":[],"owner":{"account_id":7019201,"reputation":83,"user_id":5379343,"display_name":"iamgul"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641537187,"creation_date":1641535626,"answer_id":70617214,"question_id":52652846,"body_markdown":"I started facing the same problem in mac suddenly after updating to ***macOS Monterey***, So I just did the following steps:\r\n[![enter image description here][1]][1]\r\nThen go to ***Contents/Eclipse/eclipse.ini***  file and open it with any text editor and you will see the following:\r\n[![enter image description here][2]][2]\r\nAdd below line before -vmargs as shown in above image:\r\n\r\n    -vm  /Library/Java/JavaVirtualMachines/jdk1.8.0_171.jdk/Contents/Home/bin/java\r\n\r\nThis below line will be different for all the users:\r\n\r\n    /Library/Java/JavaVirtualMachines/jdk1.8.0_171.jdk/Contents/Home/bin/java\r\n\r\nand you can just get this line copied to your clipboard using this command in terminal:\r\n\r\n    $ echo $(/usr/libexec/java_home)/bin/java | pbcopy\r\n\r\n\r\n\r\n****Similarly will be for STS:****\r\n\r\n[![enter image description here][3]][3]\r\nThen go to ***`Contents/Eclipse/SpringToolSuite4.ini`*** as shown below and open with any text editor app.\r\n[![enter image description here][4]][4]\r\n\r\nYou will see the following:\r\n[![enter image description here][5]][5]\r\nJust add the same line that you added for Eclipse in the above steps:\r\n[![enter image description here][6]][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wJUwi.png\r\n  [2]: https://i.stack.imgur.com/ZII48.png\r\n  [3]: https://i.stack.imgur.com/2KLaG.jpg\r\n  [4]: https://i.stack.imgur.com/gbkdH.png\r\n  [5]: https://i.stack.imgur.com/b1n1z.png\r\n  [6]: https://i.stack.imgur.com/IZka7.png","title":"Can&#39;t install Eclipse - &quot;Failed to create the Java Virtual Machine&quot; on Mac","body":"<p>I started facing the same problem in mac suddenly after updating to <em><strong>macOS Monterey</strong></em>, So I just did the following steps:\n<a href=\"https://i.stack.imgur.com/wJUwi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wJUwi.png\" alt=\"enter image description here\" /></a>\nThen go to <em><strong>Contents/Eclipse/eclipse.ini</strong></em>  file and open it with any text editor and you will see the following:\n<a href=\"https://i.stack.imgur.com/ZII48.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZII48.png\" alt=\"enter image description here\" /></a>\nAdd below line before -vmargs as shown in above image:</p>\n<pre><code>-vm  /Library/Java/JavaVirtualMachines/jdk1.8.0_171.jdk/Contents/Home/bin/java\n</code></pre>\n<p>This below line will be different for all the users:</p>\n<pre><code>/Library/Java/JavaVirtualMachines/jdk1.8.0_171.jdk/Contents/Home/bin/java\n</code></pre>\n<p>and you can just get this line copied to your clipboard using this command in terminal:</p>\n<pre><code>$ echo $(/usr/libexec/java_home)/bin/java | pbcopy\n</code></pre>\n<p><strong><strong>Similarly will be for STS:</strong></strong></p>\n<p><a href=\"https://i.stack.imgur.com/2KLaG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2KLaG.jpg\" alt=\"enter image description here\" /></a>\nThen go to <em><strong><code>Contents/Eclipse/SpringToolSuite4.ini</code></strong></em> as shown below and open with any text editor app.\n<a href=\"https://i.stack.imgur.com/gbkdH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gbkdH.png\" alt=\"enter image description here\" /></a></p>\n<p>You will see the following:\n<a href=\"https://i.stack.imgur.com/b1n1z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b1n1z.png\" alt=\"enter image description here\" /></a>\nJust add the same line that you added for Eclipse in the above steps:\n<a href=\"https://i.stack.imgur.com/IZka7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IZka7.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1658974,"reputation":395,"user_id":1527651,"accept_rate":0,"display_name":"user1527651"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660936633,"creation_date":1660936633,"answer_id":73421352,"question_id":52652846,"body_markdown":"I mounted eclipse dmg file and copied eclipse inside Applications. Then I tried to modify file Info.plist located inside Contents as below, but was getting that this file Info.plist is readonly error. I noticed that I already have read and write permission but still it was giving me that read only error. Then I moved the contents of Eclipse to some other local folder and then edited Info.plist, it did not give me readonly error. \r\n\r\n    &lt;array&gt;    \t\t\t\r\n      &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Library/Java/JavaVirtualMachines/jdk1.8.0_65.jdk/Contents/Home/bin/java&lt;/string&gt;\t\t\t\r\n      &lt;string&gt;-keyring&lt;/string&gt;\r\n      &lt;string&gt;~/.eclipse_keyring&lt;/string&gt;    \t\t\r\n    &lt;/array&gt;\r\n\r\nFinally I am able to open eclipse.","title":"Can&#39;t install Eclipse - &quot;Failed to create the Java Virtual Machine&quot; on Mac","body":"<p>I mounted eclipse dmg file and copied eclipse inside Applications. Then I tried to modify file Info.plist located inside Contents as below, but was getting that this file Info.plist is readonly error. I noticed that I already have read and write permission but still it was giving me that read only error. Then I moved the contents of Eclipse to some other local folder and then edited Info.plist, it did not give me readonly error.</p>\n<pre><code>&lt;array&gt;             \n  &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Library/Java/JavaVirtualMachines/jdk1.8.0_65.jdk/Contents/Home/bin/java&lt;/string&gt;         \n  &lt;string&gt;-keyring&lt;/string&gt;\n  &lt;string&gt;~/.eclipse_keyring&lt;/string&gt;           \n&lt;/array&gt;\n</code></pre>\n<p>Finally I am able to open eclipse.</p>\n"}],"owner":{"account_id":13259,"reputation":67754,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68783,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":56532418,"answer_count":13,"score":28,"last_activity_date":1660936633,"creation_date":1538676016,"question_id":52652846,"body_markdown":"I&#39;m trying to install Eclipse, but I can&#39;t get the installer to start. It fails with\r\n\r\n&gt; &quot;Failed to create the Java Virtual Machine&quot;\r\n\r\nHow can I resolve this?\r\n\r\nNote: I&#39;m on Mac.","title":"Can&#39;t install Eclipse - &quot;Failed to create the Java Virtual Machine&quot; on Mac","body":"<p>I'm trying to install Eclipse, but I can't get the installer to start. It fails with</p>\n\n<blockquote>\n  <p>\"Failed to create the Java Virtual Machine\"</p>\n</blockquote>\n\n<p>How can I resolve this?</p>\n\n<p>Note: I'm on Mac.</p>\n"},{"tags":["java","mule","mule-studio","mule-esb"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1660692401,"post_id":73380135,"comment_id":129591326,"body_markdown":"What Java static method? Please add to the question. Why do you need to do this instead of just putting the information in the payload? To what variables are you referring? Add examples in code/flows of how all of this is used.","body":"What Java static method? Please add to the question. Why do you need to do this instead of just putting the information in the payload? To what variables are you referring? Add examples in code/flows of how all of this is used."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1660696701,"post_id":73380135,"comment_id":129591922,"body_markdown":"And why the object has two payloads?","body":"And why the object has two payloads?"},{"owner":{"account_id":2183773,"reputation":91,"user_id":1932673,"accept_rate":62,"display_name":"William"},"score":0,"creation_date":1660751865,"post_id":73380135,"comment_id":129608268,"body_markdown":"@aled see question for updates.","body":"@aled see question for updates."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1660753687,"post_id":73380135,"comment_id":129608929,"body_markdown":"Thanks that&#39;s a much clearer scenario. What is it receiving from the socket? A string? Note that method wrapData() is missing.","body":"Thanks that&#39;s a much clearer scenario. What is it receiving from the socket? A string? Note that method wrapData() is missing."},{"owner":{"account_id":2183773,"reputation":91,"user_id":1932673,"accept_rate":62,"display_name":"William"},"score":0,"creation_date":1660756226,"post_id":73380135,"comment_id":129609859,"body_markdown":"@aled. I added the missing methods. I can receive either a string (json,xml,csv, etc) or a byte array from the socket.","body":"@aled. I added the missing methods. I can receive either a string (json,xml,csv, etc) or a byte array from the socket."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1660859858,"post_id":73380135,"comment_id":129639895,"body_markdown":"The class definition of DataWrapper is missing. Please add and confirm it is serializable.","body":"The class definition of DataWrapper is missing. Please add and confirm it is serializable."},{"owner":{"account_id":2183773,"reputation":91,"user_id":1932673,"accept_rate":62,"display_name":"William"},"score":0,"creation_date":1660916415,"post_id":73380135,"comment_id":129653429,"body_markdown":"@aled the first snippet is the DataWrapper class. I added the missing class declaration.","body":"@aled the first snippet is the DataWrapper class. I added the missing class declaration."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660919506,"creation_date":1660919079,"answer_id":73418272,"question_id":73380135,"body_markdown":"Mule 4 implements streaming in most components, unlike Mule 3 which implemented it only for some. The payload returned by the HTTP Listener is a stream implemented by the ManagedCursorStreamProvider. It was not added by the VM connector, it was the original payload. Most components in Mule 4 now how to use the stream implementation transparently, so usually a user doesn&#39;t need to care if their JSON payload is in a stream or in a Java string. The exception is when you do actual Java code you need to know the actual classes.\r\n\r\nIt is not a good practice and discouraged to add Mule specific APIs and classes to your custom Java code to make them &#39;stream aware&#39;. Instead an easier solution is to let DataWeave do its transformation magic and convert to a Java object  automatically, in this case a String.\r\n\r\nExample:\r\n``` lang-xml\r\n&lt;sockets:listener doc:name=&quot;Listener&quot; config-ref=&quot;UDP_Config&quot; outputMimeType=&quot;text/json&quot;/&gt; \r\n&lt;ee:transform doc:name=&quot;Transform Message&quot;&gt;\r\n   &lt;ee:message &gt;\r\n      &lt;ee:set-payload &gt;&lt;![CDATA[%dw 2.0\r\noutput application/java\r\n---\r\nwrite(payload,&quot;application/java&quot;)\r\n]]&gt;\r\n      &lt;/ee:set-payload&gt;\r\n   &lt;/ee:message&gt;\r\n&lt;/ee:transform&gt;\r\n&lt;java:invoke-static doc:name=&quot;Data Wrapper&quot; class=&quot;com.test.DataWrapper&quot; method=&quot;wrapData(java.lang.Object)&quot; outputMimeType=&quot;application/java&quot;&gt;\r\n        &lt;java:args &gt;&lt;![CDATA[#[{payload : payload}]]]&gt;&lt;/java:args&gt;\r\n&lt;/java:invoke-static&gt;\r\n```\r\nThe write() function writes a string from the payload that you can use in your wrapper class. This works for this particular scenario. You will need to change classes if you do some other permutations of inputs and Java code.","title":"Mule 4 is modifying Java object variables","body":"<p>Mule 4 implements streaming in most components, unlike Mule 3 which implemented it only for some. The payload returned by the HTTP Listener is a stream implemented by the ManagedCursorStreamProvider. It was not added by the VM connector, it was the original payload. Most components in Mule 4 now how to use the stream implementation transparently, so usually a user doesn't need to care if their JSON payload is in a stream or in a Java string. The exception is when you do actual Java code you need to know the actual classes.</p>\n<p>It is not a good practice and discouraged to add Mule specific APIs and classes to your custom Java code to make them 'stream aware'. Instead an easier solution is to let DataWeave do its transformation magic and convert to a Java object  automatically, in this case a String.</p>\n<p>Example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;sockets:listener doc:name=&quot;Listener&quot; config-ref=&quot;UDP_Config&quot; outputMimeType=&quot;text/json&quot;/&gt; \n&lt;ee:transform doc:name=&quot;Transform Message&quot;&gt;\n   &lt;ee:message &gt;\n      &lt;ee:set-payload &gt;&lt;![CDATA[%dw 2.0\noutput application/java\n---\nwrite(payload,&quot;application/java&quot;)\n]]&gt;\n      &lt;/ee:set-payload&gt;\n   &lt;/ee:message&gt;\n&lt;/ee:transform&gt;\n&lt;java:invoke-static doc:name=&quot;Data Wrapper&quot; class=&quot;com.test.DataWrapper&quot; method=&quot;wrapData(java.lang.Object)&quot; outputMimeType=&quot;application/java&quot;&gt;\n        &lt;java:args &gt;&lt;![CDATA[#[{payload : payload}]]]&gt;&lt;/java:args&gt;\n&lt;/java:invoke-static&gt;\n</code></pre>\n<p>The write() function writes a string from the payload that you can use in your wrapper class. This works for this particular scenario. You will need to change classes if you do some other permutations of inputs and Java code.</p>\n"}],"owner":{"account_id":2183773,"reputation":91,"user_id":1932673,"accept_rate":62,"display_name":"William"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":634,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73418272,"answer_count":1,"score":0,"last_activity_date":1660936376,"creation_date":1660682811,"question_id":73380135,"body_markdown":"I&#39;m migrating my Mule apps from 3.9.0 to Mule 4.4.0. I&#39;m using a Java object to propagate metadata and other objects across transports. Here is a snippet of that class:\r\n```\r\npackage com.test;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class DataWrapper implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\tprivate final Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n\tprivate Object payload;\r\n\tprivate final Object originalPayload;\r\n\t\r\n\tpublic DataWrapper(final Object payload) {\r\n\t\tthis(payload, false);\r\n\t}\r\n\t\r\n\tpublic DataWrapper(final Object payload, boolean playback) {\r\n\t\tthis.originalPayload = payload;\r\n\t\tthis.payload = payload;\r\n\t}\r\n\t\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic &lt;T&gt; T getProperty(String name, T defaultValue) {\r\n\t\tif(properties.containsKey(name)) {\r\n\t\t\treturn (T) properties.get(name);\r\n\t\t} else {\r\n\t\t\treturn defaultValue;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic Object getProperty(String name) {\r\n\t\treturn getProperty(name, null);\r\n\t}\r\n\t\r\n\tpublic void setProperty(String name, Object value) {\r\n\t\tproperties.put(name, value);\r\n\t}\r\n\t\r\n\tpublic void setProperties(Map&lt;String, Object&gt; additional) {\r\n\t\tproperties.putAll(additional);\r\n\t}\r\n\r\n\tpublic Object getPayload() {\r\n\t\treturn payload;\r\n\t}\r\n\r\n\tpublic void setPayload(Object payload) {\r\n\t\tthis.payload = payload;\r\n\t}\r\n\t\r\n\tpublic Object getOriginalPayload() {\r\n\t\treturn originalPayload;\r\n\t}\r\n\t\r\n\tpublic static DataWrapper wrapData(Object payload) {\r\n\t\treturn new DataWrapper(payload);\r\n\t}\r\n\t\r\n\tpublic static DataWrapper wrapData(Object payload, Map&lt;String, Object&gt; properties) {\r\n\t\tDataWrapper wrapper = new DataWrapper(payload);\r\n\t\twrapper.setProperties(properties);\r\n\t\treturn wrapper;\r\n\t}\r\n}\r\n\r\n```\r\nthe static methods being called (simplified for example):\r\n```\r\npublic class MyTransformers {\r\n\t\r\n\tpublic static DataWrapper addProperties(DataWrapper wrapper, Map&lt;String, Object&gt; properties) {\r\n\t\t//process payload and add properties/objects\r\n\t\twrapper.setProperties(properties);\r\n\t\treturn wrapper;\r\n\t}\r\n\t\r\n\tpublic static String doSomethingWithPayload(DataWrapper wrapper, Map&lt;String, Object&gt; properties) {\r\n\t\t//process payload and add properties/objects\r\n\t\treturn (String) wrapper.getPayload();\r\n\t}\r\n\t\r\n\tpublic static String doSomethingElse(DataWrapper wrapper) {\r\n\t\t//do something else with payload\r\n\t\treturn (String) wrapper.getPayload();\r\n\t}\r\n}\r\n```\r\nand the flows:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;mule \r\n\txmlns:sockets=&quot;http://www.mulesoft.org/schema/mule/sockets&quot;\r\n\txmlns:vm=&quot;http://www.mulesoft.org/schema/mule/vm&quot; \r\n\txmlns:java=&quot;http://www.mulesoft.org/schema/mule/java&quot; \r\n\txmlns=&quot;http://www.mulesoft.org/schema/mule/core&quot; \r\n\txmlns:doc=&quot;http://www.mulesoft.org/schema/mule/documentation&quot; \r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n\txsi:schemaLocation=&quot;http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd\r\n\t\thttp://www.mulesoft.org/schema/mule/vm http://www.mulesoft.org/schema/mule/vm/current/mule-vm.xsd\r\n\t\thttp://www.mulesoft.org/schema/mule/java http://www.mulesoft.org/schema/mule/java/current/mule-java.xsd\r\nhttp://www.mulesoft.org/schema/mule/sockets http://www.mulesoft.org/schema/mule/sockets/current/mule-sockets.xsd&quot;&gt;\r\n\t\r\n\t&lt;vm:config name=&quot;DefaultVmConnector&quot; doc:name=&quot;VM Config&quot; doc:id=&quot;786119a5-8fd8-40b8-a145-bfbf5df6a505&quot; &gt;\r\n\t\t&lt;vm:queues &gt;\r\n\t\t\t&lt;vm:queue queueName=&quot;ReportsEndpoint&quot; /&gt;\r\n\t\t\t&lt;vm:queue queueName=&quot;PublishEndpoint&quot; /&gt;\r\n\t\t&lt;/vm:queues&gt;\r\n\t&lt;/vm:config&gt;\r\n\t&lt;sockets:listener-config name=&quot;UDP_Config&quot; doc:name=&quot;Sockets Listener config&quot; doc:id=&quot;b2ec3926-6a0b-4612-97e8-fe9f4011fbad&quot; &gt;\r\n\t\t&lt;sockets:udp-listener-connection host=&quot;192.168.1.203&quot; port=&quot;12121&quot; /&gt;\r\n\t&lt;/sockets:listener-config&gt;\r\n\t&lt;flow name=&quot;TestPublishFlow&quot; doc:id=&quot;05a95422-080b-491e-9a4d-efc82f10b399&quot; &gt;\r\n\t\t&lt;sockets:listener doc:name=&quot;Listener&quot; doc:id=&quot;5be9224a-be1b-4779-a137-121376cd890d&quot; config-ref=&quot;UDP_Config&quot; outputMimeType=&quot;text/json&quot;/&gt;\r\n\t\t&lt;java:invoke-static doc:name=&quot;Data Wrapper&quot; doc:id=&quot;9fa629cc-0520-4c00-beae-15f849568d3b&quot; class=&quot;com.test.DataWrapper&quot; method=&quot;wrapData(java.lang.Object)&quot; outputMimeType=&quot;application/java&quot;&gt;\r\n\t\t\t&lt;java:args &gt;&lt;![CDATA[#[{payload : payload}]]]&gt;&lt;/java:args&gt;\r\n\t\t&lt;/java:invoke-static&gt;\r\n\t\t&lt;vm:publish doc:name=&quot;Publish to VM&quot; doc:id=&quot;b6497fb1-3a57-468c-bcb6-089372407787&quot; config-ref=&quot;DefaultVmConnector&quot; sendCorrelationId=&quot;NEVER&quot; queueName=&quot;PublishEndpoint&quot;/&gt;\r\n\t&lt;/flow&gt;\r\n\t&lt;flow name=&quot;publisher-flow&quot; doc:id=&quot;4c765b98-68df-4af2-a517-73bddfe8cc25&quot; &gt;\r\n\t\t&lt;vm:listener doc:name=&quot;Publish Endpoint&quot; doc:id=&quot;a8589268-f5ea-4ebe-a11f-760ff32c2e1f&quot; config-ref=&quot;DefaultVmConnector&quot; numberOfConsumers=&quot;2&quot; queueName=&quot;PublishEndpoint&quot;/&gt;\r\n\t\t&lt;java:invoke-static doc:name=&quot;Some Business Logic&quot; doc:id=&quot;ee53fe99-f459-4581-892e-00e09a8a10e2&quot; class=&quot;com.test.MyTransformers&quot; outputMimeType=&quot;application/java&quot; method=&quot;addProperties(com.test.DataWrapper,java.util.Map)&quot;&gt;\r\n\t\t\t&lt;java:args &gt;&lt;![CDATA[#[{ wrapper:payload, properties:{ ClientId:p(&#39;source.clientId&#39;), Source:p(&#39;data.source&#39;), Metadata:p(&#39;data.metadata&#39;), MimeType:p(&#39;data.mimetype&#39;)}}]]]&gt;&lt;/java:args&gt;\r\n\t\t&lt;/java:invoke-static&gt;\r\n\t\t&lt;choice doc:name=&quot;Choice&quot; doc:id=&quot;7976bc82-67d4-4534-b47b-80ed7e287f07&quot; &gt;\r\n\t\t\t&lt;when expression=&quot;#[Java::isInstanceOf(payload.payload, &#39;com.test.DataWrapper&#39;)]&quot;&gt;\r\n\t\t\t\t&lt;java:invoke-static doc:name=&quot;Do Something&quot; doc:id=&quot;528cdafa-9be1-4433-aaf5-0e0352078757&quot; outputMimeType=&quot;application/java&quot; class=&quot;com.test.MyTransformers&quot; method=&quot;doSomethingWithPayload(com.test.DataWrapper,java.util.Map)&quot;&gt;\r\n\t\t\t\t\t&lt;java:args &gt;&lt;![CDATA[#[{ wrapper : payload, prettyprint : p(&#39;xml.prettyprint&#39;), validate : p(&#39;xml.validate&#39;) }]]]&gt;&lt;/java:args&gt;\r\n\t\t\t\t&lt;/java:invoke-static&gt;\r\n\t\t\t&lt;/when&gt;\r\n\t\t\t&lt;otherwise &gt;\r\n\t\t\t\t&lt;java:invoke-static doc:name=&quot;Do Something Else&quot; doc:id=&quot;6d63d9e7-12be-4d43-9990-02b897ec0cee&quot; class=&quot;com.test.MyTransformers&quot; method=&quot;doSomethingElse(com.test.DataWrapper)&quot; outputMimeType=&quot;application/java&quot;&gt;\r\n\t\t\t\t\t&lt;java:args &gt;&lt;![CDATA[#[{ wrapper : payload }]]]&gt;&lt;/java:args&gt;\r\n\t\t\t\t&lt;/java:invoke-static&gt;\r\n\t\t\t&lt;/otherwise&gt;\r\n\t\t&lt;/choice&gt;\r\n\t\t&lt;logger level=&quot;INFO&quot; doc:name=&quot;Placeholder&quot; doc:id=&quot;800d22cd-55a5-4ee9-a280-497d2f276a63&quot; message=&quot;#[payload]&quot;/&gt;\r\n\t&lt;/flow&gt;\r\n&lt;/mule&gt;\r\n```\r\nI need to keep the original message and the processed message to store for later use.\r\n\r\nWhen payload and originalPayload are set to a String object in DataWrapper and the mule message goes through a VM transport, those objects become org.mule.runtime.core.internal.streaming.bytes.ManagedCursorStreamProvider.\r\n\r\nBefore sending to VM publisher the fields payload and originalpayload in DataWrapper are:\r\n```\r\n{ &quot;count&quot; : 0, &quot;comment&quot; : &quot;This is a test&quot;}\r\n```\r\nand after it is:\r\n```\r\norg.mule.runtime.core.internal.streaming.bytes.ManagedCursorStreamProvider@162b291f\r\n```\r\nI&#39;m also getting a serialization exception when going through the VM endpoint:\r\n```\r\nCaused by: java.io.NotSerializableException: org.mule.runtime.core.internal.streaming.bytes.ManagedCursorStreamProvider\r\n```\r\nHow can I prevent that from happening without changing the type of payload and originalPayload from Object to String?","title":"Mule 4 is modifying Java object variables","body":"<p>I'm migrating my Mule apps from 3.9.0 to Mule 4.4.0. I'm using a Java object to propagate metadata and other objects across transports. Here is a snippet of that class:</p>\n<pre><code>package com.test;\n\nimport java.io.Serializable;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class DataWrapper implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    \n    private final Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n    private Object payload;\n    private final Object originalPayload;\n    \n    public DataWrapper(final Object payload) {\n        this(payload, false);\n    }\n    \n    public DataWrapper(final Object payload, boolean playback) {\n        this.originalPayload = payload;\n        this.payload = payload;\n    }\n    \n    @SuppressWarnings(&quot;unchecked&quot;)\n    public &lt;T&gt; T getProperty(String name, T defaultValue) {\n        if(properties.containsKey(name)) {\n            return (T) properties.get(name);\n        } else {\n            return defaultValue;\n        }\n    }\n    \n    public Object getProperty(String name) {\n        return getProperty(name, null);\n    }\n    \n    public void setProperty(String name, Object value) {\n        properties.put(name, value);\n    }\n    \n    public void setProperties(Map&lt;String, Object&gt; additional) {\n        properties.putAll(additional);\n    }\n\n    public Object getPayload() {\n        return payload;\n    }\n\n    public void setPayload(Object payload) {\n        this.payload = payload;\n    }\n    \n    public Object getOriginalPayload() {\n        return originalPayload;\n    }\n    \n    public static DataWrapper wrapData(Object payload) {\n        return new DataWrapper(payload);\n    }\n    \n    public static DataWrapper wrapData(Object payload, Map&lt;String, Object&gt; properties) {\n        DataWrapper wrapper = new DataWrapper(payload);\n        wrapper.setProperties(properties);\n        return wrapper;\n    }\n}\n\n</code></pre>\n<p>the static methods being called (simplified for example):</p>\n<pre><code>public class MyTransformers {\n    \n    public static DataWrapper addProperties(DataWrapper wrapper, Map&lt;String, Object&gt; properties) {\n        //process payload and add properties/objects\n        wrapper.setProperties(properties);\n        return wrapper;\n    }\n    \n    public static String doSomethingWithPayload(DataWrapper wrapper, Map&lt;String, Object&gt; properties) {\n        //process payload and add properties/objects\n        return (String) wrapper.getPayload();\n    }\n    \n    public static String doSomethingElse(DataWrapper wrapper) {\n        //do something else with payload\n        return (String) wrapper.getPayload();\n    }\n}\n</code></pre>\n<p>and the flows:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;mule \n    xmlns:sockets=&quot;http://www.mulesoft.org/schema/mule/sockets&quot;\n    xmlns:vm=&quot;http://www.mulesoft.org/schema/mule/vm&quot; \n    xmlns:java=&quot;http://www.mulesoft.org/schema/mule/java&quot; \n    xmlns=&quot;http://www.mulesoft.org/schema/mule/core&quot; \n    xmlns:doc=&quot;http://www.mulesoft.org/schema/mule/documentation&quot; \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n    xsi:schemaLocation=&quot;http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd\n        http://www.mulesoft.org/schema/mule/vm http://www.mulesoft.org/schema/mule/vm/current/mule-vm.xsd\n        http://www.mulesoft.org/schema/mule/java http://www.mulesoft.org/schema/mule/java/current/mule-java.xsd\nhttp://www.mulesoft.org/schema/mule/sockets http://www.mulesoft.org/schema/mule/sockets/current/mule-sockets.xsd&quot;&gt;\n    \n    &lt;vm:config name=&quot;DefaultVmConnector&quot; doc:name=&quot;VM Config&quot; doc:id=&quot;786119a5-8fd8-40b8-a145-bfbf5df6a505&quot; &gt;\n        &lt;vm:queues &gt;\n            &lt;vm:queue queueName=&quot;ReportsEndpoint&quot; /&gt;\n            &lt;vm:queue queueName=&quot;PublishEndpoint&quot; /&gt;\n        &lt;/vm:queues&gt;\n    &lt;/vm:config&gt;\n    &lt;sockets:listener-config name=&quot;UDP_Config&quot; doc:name=&quot;Sockets Listener config&quot; doc:id=&quot;b2ec3926-6a0b-4612-97e8-fe9f4011fbad&quot; &gt;\n        &lt;sockets:udp-listener-connection host=&quot;192.168.1.203&quot; port=&quot;12121&quot; /&gt;\n    &lt;/sockets:listener-config&gt;\n    &lt;flow name=&quot;TestPublishFlow&quot; doc:id=&quot;05a95422-080b-491e-9a4d-efc82f10b399&quot; &gt;\n        &lt;sockets:listener doc:name=&quot;Listener&quot; doc:id=&quot;5be9224a-be1b-4779-a137-121376cd890d&quot; config-ref=&quot;UDP_Config&quot; outputMimeType=&quot;text/json&quot;/&gt;\n        &lt;java:invoke-static doc:name=&quot;Data Wrapper&quot; doc:id=&quot;9fa629cc-0520-4c00-beae-15f849568d3b&quot; class=&quot;com.test.DataWrapper&quot; method=&quot;wrapData(java.lang.Object)&quot; outputMimeType=&quot;application/java&quot;&gt;\n            &lt;java:args &gt;&lt;![CDATA[#[{payload : payload}]]]&gt;&lt;/java:args&gt;\n        &lt;/java:invoke-static&gt;\n        &lt;vm:publish doc:name=&quot;Publish to VM&quot; doc:id=&quot;b6497fb1-3a57-468c-bcb6-089372407787&quot; config-ref=&quot;DefaultVmConnector&quot; sendCorrelationId=&quot;NEVER&quot; queueName=&quot;PublishEndpoint&quot;/&gt;\n    &lt;/flow&gt;\n    &lt;flow name=&quot;publisher-flow&quot; doc:id=&quot;4c765b98-68df-4af2-a517-73bddfe8cc25&quot; &gt;\n        &lt;vm:listener doc:name=&quot;Publish Endpoint&quot; doc:id=&quot;a8589268-f5ea-4ebe-a11f-760ff32c2e1f&quot; config-ref=&quot;DefaultVmConnector&quot; numberOfConsumers=&quot;2&quot; queueName=&quot;PublishEndpoint&quot;/&gt;\n        &lt;java:invoke-static doc:name=&quot;Some Business Logic&quot; doc:id=&quot;ee53fe99-f459-4581-892e-00e09a8a10e2&quot; class=&quot;com.test.MyTransformers&quot; outputMimeType=&quot;application/java&quot; method=&quot;addProperties(com.test.DataWrapper,java.util.Map)&quot;&gt;\n            &lt;java:args &gt;&lt;![CDATA[#[{ wrapper:payload, properties:{ ClientId:p('source.clientId'), Source:p('data.source'), Metadata:p('data.metadata'), MimeType:p('data.mimetype')}}]]]&gt;&lt;/java:args&gt;\n        &lt;/java:invoke-static&gt;\n        &lt;choice doc:name=&quot;Choice&quot; doc:id=&quot;7976bc82-67d4-4534-b47b-80ed7e287f07&quot; &gt;\n            &lt;when expression=&quot;#[Java::isInstanceOf(payload.payload, 'com.test.DataWrapper')]&quot;&gt;\n                &lt;java:invoke-static doc:name=&quot;Do Something&quot; doc:id=&quot;528cdafa-9be1-4433-aaf5-0e0352078757&quot; outputMimeType=&quot;application/java&quot; class=&quot;com.test.MyTransformers&quot; method=&quot;doSomethingWithPayload(com.test.DataWrapper,java.util.Map)&quot;&gt;\n                    &lt;java:args &gt;&lt;![CDATA[#[{ wrapper : payload, prettyprint : p('xml.prettyprint'), validate : p('xml.validate') }]]]&gt;&lt;/java:args&gt;\n                &lt;/java:invoke-static&gt;\n            &lt;/when&gt;\n            &lt;otherwise &gt;\n                &lt;java:invoke-static doc:name=&quot;Do Something Else&quot; doc:id=&quot;6d63d9e7-12be-4d43-9990-02b897ec0cee&quot; class=&quot;com.test.MyTransformers&quot; method=&quot;doSomethingElse(com.test.DataWrapper)&quot; outputMimeType=&quot;application/java&quot;&gt;\n                    &lt;java:args &gt;&lt;![CDATA[#[{ wrapper : payload }]]]&gt;&lt;/java:args&gt;\n                &lt;/java:invoke-static&gt;\n            &lt;/otherwise&gt;\n        &lt;/choice&gt;\n        &lt;logger level=&quot;INFO&quot; doc:name=&quot;Placeholder&quot; doc:id=&quot;800d22cd-55a5-4ee9-a280-497d2f276a63&quot; message=&quot;#[payload]&quot;/&gt;\n    &lt;/flow&gt;\n&lt;/mule&gt;\n</code></pre>\n<p>I need to keep the original message and the processed message to store for later use.</p>\n<p>When payload and originalPayload are set to a String object in DataWrapper and the mule message goes through a VM transport, those objects become org.mule.runtime.core.internal.streaming.bytes.ManagedCursorStreamProvider.</p>\n<p>Before sending to VM publisher the fields payload and originalpayload in DataWrapper are:</p>\n<pre><code>{ &quot;count&quot; : 0, &quot;comment&quot; : &quot;This is a test&quot;}\n</code></pre>\n<p>and after it is:</p>\n<pre><code>org.mule.runtime.core.internal.streaming.bytes.ManagedCursorStreamProvider@162b291f\n</code></pre>\n<p>I'm also getting a serialization exception when going through the VM endpoint:</p>\n<pre><code>Caused by: java.io.NotSerializableException: org.mule.runtime.core.internal.streaming.bytes.ManagedCursorStreamProvider\n</code></pre>\n<p>How can I prevent that from happening without changing the type of payload and originalPayload from Object to String?</p>\n"},{"tags":["java","android","curl"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1660934531,"post_id":73420987,"comment_id":129659283,"body_markdown":"Have you looked at the entire response? Maybe there is some other message","body":"Have you looked at the entire response? Maybe there is some other message"}],"answers":[{"tags":[],"owner":{"account_id":10528158,"reputation":334,"user_id":7758485,"display_name":"DiLDoST"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660936313,"creation_date":1660936313,"answer_id":73421292,"question_id":73420987,"body_markdown":"It&#39;s easy to do with [Jsoup][1]:\r\n\r\n\t\t// CREATE CONNECTION\r\n\t\tConnection conn=Jsoup.connect(&quot;URL_GOES_HERE&quot;);\r\n\t\t\r\n\t\t// ADD POST/FORM DATA\r\n\t\tconn.data(&quot;KEY&quot;, &quot;VALUE&quot;);\r\n\t\t\r\n\t\t// ADD HEADERS HERE\r\n\t\tconn.header(&quot;KEY&quot;, &quot;VALUE&quot;);\r\n\t\t\r\n\t\t// SET METHOD AS POST \r\n\t\tconn.method(Connection.Method.POST);\r\n\t\t\r\n\t\t// ACCEPT RESPONDING CONTENT TYPE\r\n\t\tconn.ignoreContentType(true);\r\n\t\t\r\n\t\ttry\r\n\t\t{\r\n\t\t\t// GET RESPONSE\r\n\t\t\tString response = conn.execute().body();\r\n\t\t\t\r\n\t\t\t// USE RESPONSE HERE\r\n\t\t\t// CREATE JSON OBJECT OR ANYTHING...\r\n\t\t} catch(HttpStatusException e)\r\n\t\t{\r\n\t\t\tint status = e.getStatusCode();\r\n\t\t\t// HANDLE HTTP ERROR HERE\r\n\t\t} catch (IOException e)\r\n\t\t{\r\n\t\t\t// HANDLE IO ERRORS HERE\r\n\t\t}\r\n\r\n***Ps:** I guess you are confused with `Header` and `Post Data`. The key etc (**Credentials**) must be used as `Post Data` and Content Type etc as `Header`.*\r\n\r\n\r\n  [1]: https://github.com/jhy/jsoup","title":"How to write / convert CURL for Android java","body":"<p>It's easy to do with <a href=\"https://github.com/jhy/jsoup\" rel=\"nofollow noreferrer\">Jsoup</a>:</p>\n<pre><code>    // CREATE CONNECTION\n    Connection conn=Jsoup.connect(&quot;URL_GOES_HERE&quot;);\n    \n    // ADD POST/FORM DATA\n    conn.data(&quot;KEY&quot;, &quot;VALUE&quot;);\n    \n    // ADD HEADERS HERE\n    conn.header(&quot;KEY&quot;, &quot;VALUE&quot;);\n    \n    // SET METHOD AS POST \n    conn.method(Connection.Method.POST);\n    \n    // ACCEPT RESPONDING CONTENT TYPE\n    conn.ignoreContentType(true);\n    \n    try\n    {\n        // GET RESPONSE\n        String response = conn.execute().body();\n        \n        // USE RESPONSE HERE\n        // CREATE JSON OBJECT OR ANYTHING...\n    } catch(HttpStatusException e)\n    {\n        int status = e.getStatusCode();\n        // HANDLE HTTP ERROR HERE\n    } catch (IOException e)\n    {\n        // HANDLE IO ERRORS HERE\n    }\n</code></pre>\n<p><em><strong>Ps:</strong> I guess you are confused with <code>Header</code> and <code>Post Data</code>. The key etc (<strong>Credentials</strong>) must be used as <code>Post Data</code> and Content Type etc as <code>Header</code>.</em></p>\n"}],"owner":{"account_id":1887302,"reputation":1370,"user_id":1706269,"accept_rate":64,"display_name":"Mark"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73421292,"answer_count":1,"score":0,"last_activity_date":1660936313,"creation_date":1660934215,"question_id":73420987,"body_markdown":"I am trying to implement the MOT history API &lt;https://dvsa.github.io/mot-history-api-documentation/&gt; and they give an example using CURL which works with the supplied api key successfully when using an online CURL tool.\r\n\r\nI am trying to implement this in Android and realise I have to use something like HttpPost rather than CURL, this is my code:\r\n\r\n        //Tried with full URL and by adding the registration as a header.\r\n        //HttpPost httpPost = new HttpPost(&quot;https://beta.check-mot.service.gov.uk/trade/vehicles/mot-tests?registration=&quot; + reg_selected);\r\n         HttpPost httpPost = new HttpPost(&quot;https://beta.check-mot.service.gov.uk/trade/vehicles/mot-tests&quot;);\r\n\r\n         httpPost.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n         httpPost.addHeader(&quot;Accept&quot;, &quot;application/json+v6&quot;);\r\n         httpPost.addHeader(&quot;x-api-key&quot;, &quot;abcdefgh123456&quot;);\r\n         httpPost.addHeader(&quot;registration&quot;, reg_selected);\r\n\r\n         StringEntity entity = new StringEntity(jsonObj.toString(), HTTP.UTF_8);\r\n         httpPost.setEntity(entity);\r\n         HttpClient client = new DefaultHttpClient();\r\n\r\n         try {\r\n              HttpResponse response = client.execute(httpPost);\r\n\r\n              if (response.getStatusLine().getStatusCode() == 200) {\r\n\r\n                   InputStream inputStream = response.getEntity().getContent();\r\n                   bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\r\n                   String readLine = bufferedReader.readLine();\r\n\r\n                   String jsonStr = readLine;\r\n                   JSONObject myJsonObj = new JSONObject(jsonStr);\r\n\r\n                   \r\n              }else if (response.getStatusLine().getStatusCode() == 400){\r\n                     //Bad Request\tInvalid data in the request. Check your URL and parameters\r\n                     error_text = &quot;Bad Request&quot;;\r\n              }else if (response.getStatusLine().getStatusCode() == 403){\r\n                    //Unauthorised  The x-api-key is missing or invalid in the header\r\n                    error_text = &quot;Authentication error&quot;; //&lt;&lt;&lt;&lt; FAILS HERE 403\r\n              }\r\n\r\nresponse.getStatusLine().getStatusCode() returns \t&quot;403  Unauthorised  The x-api-key is missing or invalid in the header&quot;.\r\nHowever the x-api-key that I use works correctly with the online CURL test so the actual key is correct but how I am adding it to my android code request must be invalid or similar.\r\n\r\nCan anyone throw any light as to the correct way to convert the CURL into Android java so that the server does not return 403?\r\n\r\nThanks","title":"How to write / convert CURL for Android java","body":"<p>I am trying to implement the MOT history API <a href=\"https://dvsa.github.io/mot-history-api-documentation/\" rel=\"nofollow noreferrer\">https://dvsa.github.io/mot-history-api-documentation/</a> and they give an example using CURL which works with the supplied api key successfully when using an online CURL tool.</p>\n<p>I am trying to implement this in Android and realise I have to use something like HttpPost rather than CURL, this is my code:</p>\n<pre><code>    //Tried with full URL and by adding the registration as a header.\n    //HttpPost httpPost = new HttpPost(&quot;https://beta.check-mot.service.gov.uk/trade/vehicles/mot-tests?registration=&quot; + reg_selected);\n     HttpPost httpPost = new HttpPost(&quot;https://beta.check-mot.service.gov.uk/trade/vehicles/mot-tests&quot;);\n\n     httpPost.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n     httpPost.addHeader(&quot;Accept&quot;, &quot;application/json+v6&quot;);\n     httpPost.addHeader(&quot;x-api-key&quot;, &quot;abcdefgh123456&quot;);\n     httpPost.addHeader(&quot;registration&quot;, reg_selected);\n\n     StringEntity entity = new StringEntity(jsonObj.toString(), HTTP.UTF_8);\n     httpPost.setEntity(entity);\n     HttpClient client = new DefaultHttpClient();\n\n     try {\n          HttpResponse response = client.execute(httpPost);\n\n          if (response.getStatusLine().getStatusCode() == 200) {\n\n               InputStream inputStream = response.getEntity().getContent();\n               bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n               String readLine = bufferedReader.readLine();\n\n               String jsonStr = readLine;\n               JSONObject myJsonObj = new JSONObject(jsonStr);\n\n               \n          }else if (response.getStatusLine().getStatusCode() == 400){\n                 //Bad Request  Invalid data in the request. Check your URL and parameters\n                 error_text = &quot;Bad Request&quot;;\n          }else if (response.getStatusLine().getStatusCode() == 403){\n                //Unauthorised  The x-api-key is missing or invalid in the header\n                error_text = &quot;Authentication error&quot;; //&lt;&lt;&lt;&lt; FAILS HERE 403\n          }\n</code></pre>\n<p>response.getStatusLine().getStatusCode() returns   &quot;403  Unauthorised  The x-api-key is missing or invalid in the header&quot;.\nHowever the x-api-key that I use works correctly with the online CURL test so the actual key is correct but how I am adding it to my android code request must be invalid or similar.</p>\n<p>Can anyone throw any light as to the correct way to convert the CURL into Android java so that the server does not return 403?</p>\n<p>Thanks</p>\n"},{"tags":["java","android","android-studio","opengl-es"],"answers":[{"tags":[],"owner":{"account_id":8241129,"reputation":746,"user_id":6198751,"display_name":"Nick Asher"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1472761107,"creation_date":1472761107,"answer_id":39280236,"question_id":39278541,"body_markdown":"Sometimes the phones, in which you are developing or running the app, does not have support for OpenGLES version 3. A way to check this, is by firstly using the OpenGles 2, and see if there is an error or not.Then if it works, it means that your phone does not support OpenGLES 3","title":"setEGLContextClientVersion(3) on Android Studio causing error","body":"<p>Sometimes the phones, in which you are developing or running the app, does not have support for OpenGLES version 3. A way to check this, is by firstly using the OpenGles 2, and see if there is an error or not.Then if it works, it means that your phone does not support OpenGLES 3</p>\n"},{"tags":[],"owner":{"account_id":2532072,"reputation":177,"user_id":3021108,"accept_rate":50,"display_name":"Emil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660936036,"creation_date":1660936036,"answer_id":73421247,"question_id":39278541,"body_markdown":"I ran into the same error message yesterday.\r\n\r\nI found the following solution that worked for me:\r\n1. Start the emulator, \r\n2. Click on &quot;Extended Controls&quot; (the three dots) in the menu in the emulator window, \r\n3. Go to &quot;Settings&quot; in the &quot;Extended Controls&quot;, \r\n4. Select &quot;Renderer maximum (up to OpenGL ES 3.1)&quot; in the &quot;OpenGL ES API level (requires restart)&quot; dropdown.\r\n\r\nNote that this is not the same dropdown as the one that shows up when clicking on the edit pen when the emulator is not running. This is what stumped me yesterday.","title":"setEGLContextClientVersion(3) on Android Studio causing error","body":"<p>I ran into the same error message yesterday.</p>\n<p>I found the following solution that worked for me:</p>\n<ol>\n<li>Start the emulator,</li>\n<li>Click on &quot;Extended Controls&quot; (the three dots) in the menu in the emulator window,</li>\n<li>Go to &quot;Settings&quot; in the &quot;Extended Controls&quot;,</li>\n<li>Select &quot;Renderer maximum (up to OpenGL ES 3.1)&quot; in the &quot;OpenGL ES API level (requires restart)&quot; dropdown.</li>\n</ol>\n<p>Note that this is not the same dropdown as the one that shows up when clicking on the edit pen when the emulator is not running. This is what stumped me yesterday.</p>\n"}],"owner":{"account_id":8946476,"reputation":317,"user_id":6673756,"accept_rate":50,"display_name":"lexalenka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4340,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":39280236,"answer_count":2,"score":5,"last_activity_date":1660936036,"creation_date":1472754435,"question_id":39278541,"body_markdown":"I&#39;ve been following the Android OpenGL [tutorial](https://developer.android.com/guide/topics/graphics/opengl.html) using Android Studio 2.1.3 with Java Dev Kit 1.8.0 and SDK Version on **API 24** (Android 7.0 Nougat) and I&#39;m unable to set the OpenGL ES context # to 3.0 via `setEGLContextClientVersion(3)`. \r\n\r\nDoing so produces the following:\r\n\r\n&gt; 09-01 11:02:46.526 6822-6839/? E/AndroidRuntime: FATAL EXCEPTION:\r\n&gt; GLThread 149\r\n&gt;                                                  Process: com.example.opengl, PID: 6822\r\n&gt;                                                  java.lang.IllegalArgumentException: eglChooseConfig failed\r\n&gt;                                                      at android.opengl.GLSurfaceView$BaseConfigChooser.chooseConfig(GLSurfaceView.java:852)\r\n&gt;                                                      at android.opengl.GLSurfaceView$EglHelper.start(GLSurfaceView.java:1023)\r\n&gt;                                                      at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1400)\r\n&gt;                                                      at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1239)\r\n\r\nUsing `setEGLContextClientVersion(2)` works perfectly and the desired shape displays. I&#39;ve tried adjusting my shaders in my `Triangle` &amp;  `Square.java` file to match `3.0` when trying `setEGLContextClientVersion(3)`, but to no avail. \r\n\r\nI&#39;ve also tried to use `setEGLConfigChooser(8, 8, 8, 8, 16, 4)` as I&#39;ve seen recommended to solve similar errors. \r\n\r\nI&#39;ve also tried restarting Android Studio and my emulators which are Android TV(1080p) API 24, Android TV(1080p) API 22, and Galaxy Nexus API 22. \r\n\r\nBelow is my `MyGLSurfaceView.java` code - again, if I adjust `setEGLContextClientVersion(3)` to `(2)`, everything runs as expected.  \r\n\r\n    package com.example.opengl;\r\n    \r\n    import android.content.Context;\r\n    import android.opengl.GLSurfaceView;\r\n    import android.view.MotionEvent;\r\n    \r\n    class MyGLSurfaceView extends GLSurfaceView {\r\n    \r\n    private final MyGLRenderer mRenderer;\r\n    \r\n    public MyGLSurfaceView(Context context) {\r\n        super(context);\r\n    \r\n        //Create an OpenGL ES # context\r\n        setEGLContextClientVersion(3);\r\n        setEGLConfigChooser(8 , 8, 8, 8, 16, 4);\r\n    \r\n        mRenderer = new MyGLRenderer();\r\n        setRenderer(mRenderer);\r\n    }\r\n    \r\n    private final float TOUCH_SCALE_FACTOR = 180.0f / 320;\r\n    private float mPreviousX;\r\n    private float mPreviousY;\r\n    \r\n    @Override\r\n    public boolean onTouchEvent(MotionEvent e){\r\n        //MotionEvent reports input details from the touch screen\r\n        // and other input controls. In this case, you are only\r\n        // interested in events where the touch position changed.\r\n    \r\n        float x = e.getX();\r\n        float y = e.getY();\r\n    \r\n        switch(e.getAction()) {\r\n            case MotionEvent.ACTION_MOVE:\r\n    \r\n                float dx = x - mPreviousX;\r\n                float dy = y - mPreviousY;\r\n    \r\n                //reverse direction of rotation above the mid-line\r\n                if(y &gt; getHeight()/2) {\r\n                    dx = dx * -1;\r\n                }\r\n    \r\n                //reverse direction of rotation to left of the mid-lin\r\n                if(x&lt;getWidth()/2) {\r\n                    dy=dy * -1;\r\n                }\r\n    \r\n                mRenderer.setAngle(mRenderer.getAngle()+((dx+dy)*TOUCH_SCALE_FACTOR)); // = 180.0f / 320\r\n                requestRender();\r\n        }\r\n    \r\n        mPreviousX = x;\r\n        mPreviousY = y;\r\n        return true;\r\n        }\r\n    }\r\n\r\nIt&#39;s also worth noting that I have `android:glEsVersion=&quot;0x00030000&quot;` in my `Manifest` and have `import android.opengl.GLES30` for files that require `GLES30/20` and everything runs smoothly provided that `(2)` is set. \r\n\r\nPlease let me know if I should add any additional code or information.","title":"setEGLContextClientVersion(3) on Android Studio causing error","body":"<p>I've been following the Android OpenGL <a href=\"https://developer.android.com/guide/topics/graphics/opengl.html\" rel=\"nofollow\">tutorial</a> using Android Studio 2.1.3 with Java Dev Kit 1.8.0 and SDK Version on <strong>API 24</strong> (Android 7.0 Nougat) and I'm unable to set the OpenGL ES context # to 3.0 via <code>setEGLContextClientVersion(3)</code>. </p>\n\n<p>Doing so produces the following:</p>\n\n<blockquote>\n  <p>09-01 11:02:46.526 6822-6839/? E/AndroidRuntime: FATAL EXCEPTION:\n  GLThread 149\n                                                   Process: com.example.opengl, PID: 6822\n                                                   java.lang.IllegalArgumentException: eglChooseConfig failed\n                                                       at android.opengl.GLSurfaceView$BaseConfigChooser.chooseConfig(GLSurfaceView.java:852)\n                                                       at android.opengl.GLSurfaceView$EglHelper.start(GLSurfaceView.java:1023)\n                                                       at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1400)\n                                                       at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1239)</p>\n</blockquote>\n\n<p>Using <code>setEGLContextClientVersion(2)</code> works perfectly and the desired shape displays. I've tried adjusting my shaders in my <code>Triangle</code> &amp;  <code>Square.java</code> file to match <code>3.0</code> when trying <code>setEGLContextClientVersion(3)</code>, but to no avail. </p>\n\n<p>I've also tried to use <code>setEGLConfigChooser(8, 8, 8, 8, 16, 4)</code> as I've seen recommended to solve similar errors. </p>\n\n<p>I've also tried restarting Android Studio and my emulators which are Android TV(1080p) API 24, Android TV(1080p) API 22, and Galaxy Nexus API 22. </p>\n\n<p>Below is my <code>MyGLSurfaceView.java</code> code - again, if I adjust <code>setEGLContextClientVersion(3)</code> to <code>(2)</code>, everything runs as expected.  </p>\n\n<pre><code>package com.example.opengl;\n\nimport android.content.Context;\nimport android.opengl.GLSurfaceView;\nimport android.view.MotionEvent;\n\nclass MyGLSurfaceView extends GLSurfaceView {\n\nprivate final MyGLRenderer mRenderer;\n\npublic MyGLSurfaceView(Context context) {\n    super(context);\n\n    //Create an OpenGL ES # context\n    setEGLContextClientVersion(3);\n    setEGLConfigChooser(8 , 8, 8, 8, 16, 4);\n\n    mRenderer = new MyGLRenderer();\n    setRenderer(mRenderer);\n}\n\nprivate final float TOUCH_SCALE_FACTOR = 180.0f / 320;\nprivate float mPreviousX;\nprivate float mPreviousY;\n\n@Override\npublic boolean onTouchEvent(MotionEvent e){\n    //MotionEvent reports input details from the touch screen\n    // and other input controls. In this case, you are only\n    // interested in events where the touch position changed.\n\n    float x = e.getX();\n    float y = e.getY();\n\n    switch(e.getAction()) {\n        case MotionEvent.ACTION_MOVE:\n\n            float dx = x - mPreviousX;\n            float dy = y - mPreviousY;\n\n            //reverse direction of rotation above the mid-line\n            if(y &gt; getHeight()/2) {\n                dx = dx * -1;\n            }\n\n            //reverse direction of rotation to left of the mid-lin\n            if(x&lt;getWidth()/2) {\n                dy=dy * -1;\n            }\n\n            mRenderer.setAngle(mRenderer.getAngle()+((dx+dy)*TOUCH_SCALE_FACTOR)); // = 180.0f / 320\n            requestRender();\n    }\n\n    mPreviousX = x;\n    mPreviousY = y;\n    return true;\n    }\n}\n</code></pre>\n\n<p>It's also worth noting that I have <code>android:glEsVersion=\"0x00030000\"</code> in my <code>Manifest</code> and have <code>import android.opengl.GLES30</code> for files that require <code>GLES30/20</code> and everything runs smoothly provided that <code>(2)</code> is set. </p>\n\n<p>Please let me know if I should add any additional code or information.</p>\n"},{"tags":["java","authorization","single-sign-on","auth0"],"answers":[{"tags":[],"owner":{"account_id":1780341,"reputation":16850,"user_id":1623249,"accept_rate":71,"display_name":"Maria Ines Parnisari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660935886,"creation_date":1660935886,"answer_id":73421232,"question_id":73266125,"body_markdown":"See https://github.com/auth0/auth0-authorization-extension:\r\n\r\n&gt; The Authorization Extension is in maintenance mode. We do not plan on adding new features to the extension as we are working to bring features of the extension into the core Auth0 platform. Bug fixes and security patches will still be made.\r\n\r\nAlso see https://github.com/auth0/auth0-authorization-extension/issues/199. It doesn&#39;t look like they will build SDKs for it.","title":"Which management API implements Auth0 Groups feature","body":"<p>See <a href=\"https://github.com/auth0/auth0-authorization-extension\" rel=\"nofollow noreferrer\">https://github.com/auth0/auth0-authorization-extension</a>:</p>\n<blockquote>\n<p>The Authorization Extension is in maintenance mode. We do not plan on adding new features to the extension as we are working to bring features of the extension into the core Auth0 platform. Bug fixes and security patches will still be made.</p>\n</blockquote>\n<p>Also see <a href=\"https://github.com/auth0/auth0-authorization-extension/issues/199\" rel=\"nofollow noreferrer\">https://github.com/auth0/auth0-authorization-extension/issues/199</a>. It doesn't look like they will build SDKs for it.</p>\n"}],"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1660935886,"creation_date":1659862695,"question_id":73266125,"body_markdown":"Which management API implements Auth0 Groups feature\r\nhttps://auth0.com/docs/api/authorization-extension#groups\r\n\r\nWe are **not** able to identify the interface which implements Groups in https://github.com/auth0/auth0-java","title":"Which management API implements Auth0 Groups feature","body":"<p>Which management API implements Auth0 Groups feature\n<a href=\"https://auth0.com/docs/api/authorization-extension#groups\" rel=\"nofollow noreferrer\">https://auth0.com/docs/api/authorization-extension#groups</a></p>\n<p>We are <strong>not</strong> able to identify the interface which implements Groups in <a href=\"https://github.com/auth0/auth0-java\" rel=\"nofollow noreferrer\">https://github.com/auth0/auth0-java</a></p>\n"},{"tags":["java","spring","spring-boot","spring-annotations","spring5"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1660212144,"post_id":73318794,"comment_id":129481621,"body_markdown":"how do you instantiate your ConditionA class?","body":"how do you instantiate your ConditionA class?"},{"owner":{"account_id":6691602,"reputation":989,"user_id":5160940,"display_name":"DockYard"},"score":0,"creation_date":1660212260,"post_id":73318794,"comment_id":129481648,"body_markdown":"I&#39;m not actually instantiating ConditionA.class. Spring seems to do it internally when I annonate my ImplementationA class with @Conditional(ConditionA.class)","body":"I&#39;m not actually instantiating ConditionA.class. Spring seems to do it internally when I annonate my ImplementationA class with @Conditional(ConditionA.class)"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1660217280,"post_id":73318794,"comment_id":129483306,"body_markdown":"I don&#39;t actually see that in your code, neither","body":"I don&#39;t actually see that in your code, neither"},{"owner":{"account_id":6691602,"reputation":989,"user_id":5160940,"display_name":"DockYard"},"score":0,"creation_date":1660217696,"post_id":73318794,"comment_id":129483458,"body_markdown":"@Stultuske What do you not see ?","body":"@Stultuske What do you not see ?"},{"owner":{"account_id":5478423,"reputation":1520,"user_id":4355748,"accept_rate":56,"display_name":"Rana_S"},"score":0,"creation_date":1660277436,"post_id":73318794,"comment_id":129499449,"body_markdown":"Why not implement the Condition by both Implementation A &amp; B and use strategy at runtime to determine the specific instance?","body":"Why not implement the Condition by both Implementation A &amp; B and use strategy at runtime to determine the specific instance?"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660216348,"creation_date":1660216009,"answer_id":73319631,"question_id":73318794,"body_markdown":"I think there is no chance for what you need with the use of `implements Condition`. \r\n\r\nIf you inspect the [documentation][1] for `interface Condition` which is what the class that you provide to `@Conditional` should do, in your case `ConditionA` and `ConditionB` it says:\r\n\r\n&gt; Conditions must follow the same restrictions as\r\n&gt; BeanFactoryPostProcessor **and take care to never interact with bean\r\n&gt; instances.** For more fine-grained control of conditions that interact\r\n&gt; with @Configuration beans consider implementing the\r\n&gt; ConfigurationCondition interface.\r\n\r\nMaybe this [answer][2] would provide a workaround for you as it mentioned above in documentation that in the case that you want to interfere with other beans you should implement your own custom ConfigurationCondition.\r\n\r\nJust check that the phase where this ConfigurationCondition will run will be after the beans that you need are registered\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Condition.html\r\n  [2]: https://stackoverflow.com/a/70351394/7237884","title":"How to autowire a bean inside a Spring @Condition class","body":"<p>I think there is no chance for what you need with the use of <code>implements Condition</code>.</p>\n<p>If you inspect the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Condition.html\" rel=\"nofollow noreferrer\">documentation</a> for <code>interface Condition</code> which is what the class that you provide to <code>@Conditional</code> should do, in your case <code>ConditionA</code> and <code>ConditionB</code> it says:</p>\n<blockquote>\n<p>Conditions must follow the same restrictions as\nBeanFactoryPostProcessor <strong>and take care to never interact with bean\ninstances.</strong> For more fine-grained control of conditions that interact\nwith @Configuration beans consider implementing the\nConfigurationCondition interface.</p>\n</blockquote>\n<p>Maybe this <a href=\"https://stackoverflow.com/a/70351394/7237884\">answer</a> would provide a workaround for you as it mentioned above in documentation that in the case that you want to interfere with other beans you should implement your own custom ConfigurationCondition.</p>\n<p>Just check that the phase where this ConfigurationCondition will run will be after the beans that you need are registered</p>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660236980,"creation_date":1660236980,"answer_id":73324376,"question_id":73318794,"body_markdown":"I would register the bean using a configuration class and a `@Bean` as follows:\r\n\r\n```java\r\n@Configuration\r\npublic class ImplementationConfig {\r\n    @Bean \r\n    public IInterface implementation(MyCustomConfig myCustomConfig) {\r\n        if (myCustomConfig.getCustomFlag()) {\r\n           return new ImplementationA();\r\n        } else {\r\n           return new ImplementationB();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nYou simply drop the Spring-related annotations in both `ImplementationA` and `ImplementationB`:\r\n```java\r\npublic class ImplementationA implements IInterface {\r\n    @Override\r\n    public void printIt() {\r\n        System.out.println(&quot;Inside ImplementationA&quot;);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class ImplementationB implements IInterface {\r\n    @Override\r\n    public void printIt() {\r\n        System.out.println(&quot;Inside ImplementationA&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd finally, you can drop the `Condition` classes.","title":"How to autowire a bean inside a Spring @Condition class","body":"<p>I would register the bean using a configuration class and a <code>@Bean</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class ImplementationConfig {\n    @Bean \n    public IInterface implementation(MyCustomConfig myCustomConfig) {\n        if (myCustomConfig.getCustomFlag()) {\n           return new ImplementationA();\n        } else {\n           return new ImplementationB();\n        }\n    }\n}\n</code></pre>\n<p>You simply drop the Spring-related annotations in both <code>ImplementationA</code> and <code>ImplementationB</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ImplementationA implements IInterface {\n    @Override\n    public void printIt() {\n        System.out.println(&quot;Inside ImplementationA&quot;);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class ImplementationB implements IInterface {\n    @Override\n    public void printIt() {\n        System.out.println(&quot;Inside ImplementationA&quot;);\n    }\n}\n</code></pre>\n<p>And finally, you can drop the <code>Condition</code> classes.</p>\n"},{"tags":[],"owner":{"account_id":25801326,"reputation":21,"user_id":19543716,"display_name":"oompaloompa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660935875,"creation_date":1660935875,"answer_id":73421228,"question_id":73318794,"body_markdown":"Check this link https://stackoverflow.com/a/70351394/7237884 here.\r\n\r\nThe docs say\r\n```\r\nConditions must follow the same restrictions as BeanFactoryPostProcessor and take care to never interact with bean instances. For more fine-grained control of conditions that interact with @Configuration beans consider implementing the ConfigurationCondition interface.\r\n```","title":"How to autowire a bean inside a Spring @Condition class","body":"<p>Check this link <a href=\"https://stackoverflow.com/a/70351394/7237884\">https://stackoverflow.com/a/70351394/7237884</a> here.</p>\n<p>The docs say</p>\n<pre><code>Conditions must follow the same restrictions as BeanFactoryPostProcessor and take care to never interact with bean instances. For more fine-grained control of conditions that interact with @Configuration beans consider implementing the ConfigurationCondition interface.\n</code></pre>\n"}],"owner":{"account_id":6691602,"reputation":989,"user_id":5160940,"display_name":"DockYard"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1216,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1660935875,"creation_date":1660212060,"question_id":73318794,"body_markdown":"I have an interface `IInterface.java` like below:\r\n```\r\npublic interface IInterface {\r\n    void printIt();\r\n}\r\n```\r\n\r\nAnd there are two implementation classes for this: `ImplementationA.java` and `ImplementationB.java`\r\n```\r\n@Component\r\npublic class ImplementationA implements IInterface {\r\n    @Override\r\n    public void printIt() {\r\n        System.out.println(&quot;Inside ImplementationA&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\n@Component\r\npublic class ImplementationB implements IInterface {\r\n    @Override\r\n    public void printIt() {\r\n        System.out.println(&quot;Inside ImplementationB&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nNow I have a listener class, which has this `IInterface` as a member:\r\n```\r\n@Component\r\n@AllArgsConstructor\r\npublic class Listener {\r\n\r\n    IInterface iInterface;\r\n\r\n    public void doStuff(){\r\n        iInterface.printIt();\r\n    }\r\n}\r\n\r\n```\r\n\r\nNow, my requirement is to inject either of `ImplementationA.java` or `ImplementationB.java` in the `iInterface` member of `Listener.java` based on certain condition.\r\n\r\nAfter some research I started using the `@Conditional` annotation.\r\nI added two classes `ConditionA.java` and `ConditionB.java`:\r\n```\r\npublic class ConditionA implements Condition {\r\n    @Override\r\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class ConditionB implements Condition {\r\n    @Override\r\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n        return true;\r\n    }\r\n}\r\n```\r\nAnd I also changed my implementation classes as below(added the `Conditional` annotation):\r\n```\r\n@Component\r\n@Conditional(ConditionA.class)\r\npublic class ImplementationA implements IInterface {\r\n    @Override\r\n    public void printIt() {\r\n        System.out.println(&quot;Inside ImplementationA&quot;);\r\n    }\r\n}\r\n\r\n```\r\n```\r\n@Component\r\n@Conditional(ConditionB.class)\r\npublic class ImplementationB implements IInterface {\r\n    @Override\r\n    public void printIt() {\r\n        System.out.println(&quot;Inside ImplementationA&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis seems to work like a charm for me. Whichever implementation class I need to inject I just return `true` from its corresponding `Condition` class and return `false` from rest of the implementation class&#39;s `Condition` class.\r\n\r\nHowever this next part is where I am facing the challenge:\r\nSo from the above solution, I was hardcoding the `return true` or `return false` from the `matches` method of the corresponding `Condition` class. What if I need to return a dynamic value based on another component.\r\n\r\nLets say I have a spring `Component` class `MyCustomConfig` which has a member `customFlag` and if this member is set to true, we need to inject ImplementationA.class.\r\nI had tried the below(made the class @Component and also autowired MyCustomConfig):\r\n```\r\n@Component\r\npublic class ConditionA implements Condition {\r\n    @Autowired\r\n    MyCustomConfig myCustomConfig;    \r\n\r\n    @Override\r\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n        return myCustomConfig.getCustomFlag();\r\n    }\r\n}\r\n\r\n```\r\nHowever this simply does not work. myCustomConfig is not autowired and I get a null pointer exception. \r\n\r\nCould someone please help me with this.","title":"How to autowire a bean inside a Spring @Condition class","body":"<p>I have an interface <code>IInterface.java</code> like below:</p>\n<pre><code>public interface IInterface {\n    void printIt();\n}\n</code></pre>\n<p>And there are two implementation classes for this: <code>ImplementationA.java</code> and <code>ImplementationB.java</code></p>\n<pre><code>@Component\npublic class ImplementationA implements IInterface {\n    @Override\n    public void printIt() {\n        System.out.println(&quot;Inside ImplementationA&quot;);\n    }\n}\n\n</code></pre>\n<pre><code>@Component\npublic class ImplementationB implements IInterface {\n    @Override\n    public void printIt() {\n        System.out.println(&quot;Inside ImplementationB&quot;);\n    }\n}\n\n</code></pre>\n<p>Now I have a listener class, which has this <code>IInterface</code> as a member:</p>\n<pre><code>@Component\n@AllArgsConstructor\npublic class Listener {\n\n    IInterface iInterface;\n\n    public void doStuff(){\n        iInterface.printIt();\n    }\n}\n\n</code></pre>\n<p>Now, my requirement is to inject either of <code>ImplementationA.java</code> or <code>ImplementationB.java</code> in the <code>iInterface</code> member of <code>Listener.java</code> based on certain condition.</p>\n<p>After some research I started using the <code>@Conditional</code> annotation.\nI added two classes <code>ConditionA.java</code> and <code>ConditionB.java</code>:</p>\n<pre><code>public class ConditionA implements Condition {\n    @Override\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n        return false;\n    }\n}\n</code></pre>\n<pre><code>public class ConditionB implements Condition {\n    @Override\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n        return true;\n    }\n}\n</code></pre>\n<p>And I also changed my implementation classes as below(added the <code>Conditional</code> annotation):</p>\n<pre><code>@Component\n@Conditional(ConditionA.class)\npublic class ImplementationA implements IInterface {\n    @Override\n    public void printIt() {\n        System.out.println(&quot;Inside ImplementationA&quot;);\n    }\n}\n\n</code></pre>\n<pre><code>@Component\n@Conditional(ConditionB.class)\npublic class ImplementationB implements IInterface {\n    @Override\n    public void printIt() {\n        System.out.println(&quot;Inside ImplementationA&quot;);\n    }\n}\n\n</code></pre>\n<p>This seems to work like a charm for me. Whichever implementation class I need to inject I just return <code>true</code> from its corresponding <code>Condition</code> class and return <code>false</code> from rest of the implementation class's <code>Condition</code> class.</p>\n<p>However this next part is where I am facing the challenge:\nSo from the above solution, I was hardcoding the <code>return true</code> or <code>return false</code> from the <code>matches</code> method of the corresponding <code>Condition</code> class. What if I need to return a dynamic value based on another component.</p>\n<p>Lets say I have a spring <code>Component</code> class <code>MyCustomConfig</code> which has a member <code>customFlag</code> and if this member is set to true, we need to inject ImplementationA.class.\nI had tried the below(made the class @Component and also autowired MyCustomConfig):</p>\n<pre><code>@Component\npublic class ConditionA implements Condition {\n    @Autowired\n    MyCustomConfig myCustomConfig;    \n\n    @Override\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n        return myCustomConfig.getCustomFlag();\n    }\n}\n\n</code></pre>\n<p>However this simply does not work. myCustomConfig is not autowired and I get a null pointer exception.</p>\n<p>Could someone please help me with this.</p>\n"},{"tags":["java","eclipse","spring","maven"],"comments":[{"owner":{"account_id":1645220,"reputation":5070,"user_id":1516873,"display_name":"user1516873"},"score":2,"creation_date":1466673390,"post_id":37986943,"comment_id":63418782,"body_markdown":"Your pom.xml is well formed, maybe it is eclipse bug? Try to restart it, clean cache, etc.","body":"Your pom.xml is well formed, maybe it is eclipse bug? Try to restart it, clean cache, etc."},{"owner":{"account_id":8505101,"reputation":4502,"user_id":6376955,"display_name":"Zeromus"},"score":1,"creation_date":1466673485,"post_id":37986943,"comment_id":63418856,"body_markdown":"The repositories element is inherited so you would usually specify the repositories to use for a group of projects by defining a repositories element at the top of your inheritance chain.\n\nim guessing you declared that repository already in your inheritance chain: check your others pom","body":"The repositories element is inherited so you would usually specify the repositories to use for a group of projects by defining a repositories element at the top of your inheritance chain.  im guessing you declared that repository already in your inheritance chain: check your others pom"},{"owner":{"account_id":5151019,"reputation":3427,"user_id":4125633,"accept_rate":67,"display_name":"jublikon"},"score":0,"creation_date":1466673772,"post_id":37986943,"comment_id":63419037,"body_markdown":"@Zeromus thank you for your hint. I have another project that uses some spring dependencies but it does not inherit repository. How can I achieve that repository is inherited only for the current project?","body":"@Zeromus thank you for your hint. I have another project that uses some spring dependencies but it does not inherit repository. How can I achieve that repository is inherited only for the current project?"},{"owner":{"account_id":2162777,"reputation":4478,"user_id":4536811,"display_name":"Mickael"},"score":0,"creation_date":1466673850,"post_id":37986943,"comment_id":63419100,"body_markdown":"What version of Maven do you use in Eclipse ?","body":"What version of Maven do you use in Eclipse ?"},{"owner":{"account_id":5151019,"reputation":3427,"user_id":4125633,"accept_rate":67,"display_name":"jublikon"},"score":0,"creation_date":1466674048,"post_id":37986943,"comment_id":63419241,"body_markdown":"Name: EMPEDDED, Details: 3.3.9/1.7.0.20160603-1931 - for Name: WORKSPACE, Details: NOT AVAILABLE [3.0,)","body":"Name: EMPEDDED, Details: 3.3.9/1.7.0.20160603-1931 - for Name: WORKSPACE, Details: NOT AVAILABLE [3.0,)"},{"owner":{"account_id":2162777,"reputation":4478,"user_id":4536811,"display_name":"Mickael"},"score":0,"creation_date":1466674541,"post_id":37986943,"comment_id":63419576,"body_markdown":"I&#39;m using standalone version of Maven (Apache Maven 3.3.9) and I don&#39;t have any problem with your pom.xml. The problem is probably coming from Eclipse.","body":"I&#39;m using standalone version of Maven (Apache Maven 3.3.9) and I don&#39;t have any problem with your pom.xml. The problem is probably coming from Eclipse."},{"owner":{"account_id":5151019,"reputation":3427,"user_id":4125633,"accept_rate":67,"display_name":"jublikon"},"score":0,"creation_date":1466674601,"post_id":37986943,"comment_id":63419629,"body_markdown":"@MickaelB I am using Spring Tool Suite. Version: 3.7.3.RELEASE\nBuild Id: 201602251025\nPlatform: Eclipse Neon (4.6) - What can I do to solve the problem? I have already restarted Eclipse and cleaned the project. Unfortunately none of them helped me.","body":"@MickaelB I am using Spring Tool Suite. Version: 3.7.3.RELEASE Build Id: 201602251025 Platform: Eclipse Neon (4.6) - What can I do to solve the problem? I have already restarted Eclipse and cleaned the project. Unfortunately none of them helped me."}],"answers":[{"tags":[],"owner":{"account_id":2162777,"reputation":4478,"user_id":4536811,"display_name":"Mickael"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1497252069,"creation_date":1466674766,"answer_id":37987828,"question_id":37986943,"body_markdown":"I&#39;m seeing that in your error you have `\\r\\n \\r\\n \\r\\n`.\r\n\r\nCould you please ensure that your `pom.xml` is correctly encoded in UTF-8 and not in ANSI ?","title":"Maven: non-parseable POM","body":"<p>I'm seeing that in your error you have <code>\\r\\n \\r\\n \\r\\n</code>.</p>\n\n<p>Could you please ensure that your <code>pom.xml</code> is correctly encoded in UTF-8 and not in ANSI ?</p>\n"},{"tags":[],"owner":{"account_id":9274183,"reputation":11,"user_id":6887292,"display_name":"Hareesh Kumar Sjv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553514718,"creation_date":1528537737,"answer_id":50772967,"question_id":37986943,"body_markdown":"Try changing the latest version of **spring boot** like below:\r\n\r\n    &lt;parent&gt;  \r\n\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \r\n\t    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;  \r\n\t    &lt;version&gt;2.0.2.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n ","title":"Maven: non-parseable POM","body":"<p>Try changing the latest version of <strong>spring boot</strong> like below:</p>\n\n<pre><code>&lt;parent&gt;  \n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;  \n    &lt;version&gt;2.0.2.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660935421,"creation_date":1660935421,"answer_id":73421162,"question_id":37986943,"body_markdown":"I had a similar problem, using Eclipse, arising after commenting out a dependency with &lt;!-- and restoring it. Checked that the encoding is UTF-8. Restored the original POM. Updated/Rebuilt project. None of this helped.\r\n\r\nWhat fixed the error: exiting and re-entering Eclipse.\r\n\r\nThank you, @user1516873, for your suggestion/comment on the question post.","title":"Maven: non-parseable POM","body":"<p>I had a similar problem, using Eclipse, arising after commenting out a dependency with &lt;!-- and restoring it. Checked that the encoding is UTF-8. Restored the original POM. Updated/Rebuilt project. None of this helped.</p>\n<p>What fixed the error: exiting and re-entering Eclipse.</p>\n<p>Thank you, @user1516873, for your suggestion/comment on the question post.</p>\n"}],"owner":{"account_id":5151019,"reputation":3427,"user_id":4125633,"accept_rate":67,"display_name":"jublikon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33803,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":37987828,"answer_count":3,"score":6,"last_activity_date":1660935421,"creation_date":1466672602,"question_id":37986943,"body_markdown":"I have created a [maven project][1] and now I need to add dependencies to my `dynamic web project`. \r\nSo I added the dependencies named in that [spring tutorial][2]. \r\n\r\n**Problem:** I get the parsing issue: \r\n\r\n&gt; Project build error: Non-parseable POM\r\n&gt; C:\\Users\\username\\Development\\Spring\\Projects\\MyWebService\\pom.xml:\r\n&gt; Duplicated tag: &#39;build&#39; (position: START_TAG seen\r\n&gt; ...&lt;/pluginRepositories&gt;\\r\\n  \\r\\n  \\r\\n  &lt;build&gt;... @60:10)\r\n\r\nMy pom.xml looks like that: \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;MyWebService&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;MyWebService&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.3.5.RELEASE&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\r\n    \t\t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-releases&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Releases&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;org.jboss.repository.releases&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;JBoss Maven Release Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repository.jboss.org/nexus/content/repositories/releases&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-releases&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Releases&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\neclipse marks that line: \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n**Question:** Why is it wrong to have multiple repositories in the pom.xml?\r\n\r\n**Note:** Maven Version\r\n\t\r\n    Name: EMPEDDED, Details: 3.3.9/1.7.0.20160603-1931 - for Name: WORKSPACE, Details: NOT AVAILABLE [3.0,) \r\n\r\n  [1]: http://fruzenshtein.com/setup-of-dynamic-web-project-using-maven/\r\n  [2]: https://spring.io/guides/gs/accessing-data-jpa/\r\n  [3]: http://i.stack.imgur.com/5PuvP.png","title":"Maven: non-parseable POM","body":"<p>I have created a <a href=\"http://fruzenshtein.com/setup-of-dynamic-web-project-using-maven/\" rel=\"noreferrer\">maven project</a> and now I need to add dependencies to my <code>dynamic web project</code>. \nSo I added the dependencies named in that <a href=\"https://spring.io/guides/gs/accessing-data-jpa/\" rel=\"noreferrer\">spring tutorial</a>. </p>\n\n<p><strong>Problem:</strong> I get the parsing issue: </p>\n\n<blockquote>\n  <p>Project build error: Non-parseable POM\n  C:\\Users\\username\\Development\\Spring\\Projects\\MyWebService\\pom.xml:\n  Duplicated tag: 'build' (position: START_TAG seen\n  ...\\r\\n  \\r\\n  \\r\\n  ... @60:10)</p>\n</blockquote>\n\n<p>My pom.xml looks like that: </p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;MyWebService&lt;/groupId&gt;\n    &lt;artifactId&gt;MyWebService&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.3.5.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-releases&lt;/id&gt;\n            &lt;name&gt;Spring Releases&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;org.jboss.repository.releases&lt;/id&gt;\n            &lt;name&gt;JBoss Maven Release Repository&lt;/name&gt;\n            &lt;url&gt;https://repository.jboss.org/nexus/content/repositories/releases&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-releases&lt;/id&gt;\n            &lt;name&gt;Spring Releases&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>eclipse marks that line: </p>\n\n<p><a href=\"https://i.stack.imgur.com/5PuvP.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5PuvP.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Question:</strong> Why is it wrong to have multiple repositories in the pom.xml?</p>\n\n<p><strong>Note:</strong> Maven Version</p>\n\n<pre><code>Name: EMPEDDED, Details: 3.3.9/1.7.0.20160603-1931 - for Name: WORKSPACE, Details: NOT AVAILABLE [3.0,) \n</code></pre>\n"},{"tags":["java","for-loop","arraylist","iterator","nested-loops"],"answers":[{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660935026,"creation_date":1660934704,"answer_id":73421044,"question_id":73420939,"body_markdown":"I think your problem is this line:\r\n\r\n    reservedOrders.addAll(plannedOrders);\r\n\r\nIt seems that you&#39;re expecting the `plannedOrders` list itself to be added to the `reservedOrders` list.  But that&#39;s not what this does.  This adds each element IN `plannedOrders` to the `reservedOrders` list.  I think what you want instead is:\r\n\r\n    reservedOrders.add(plannedOrders);\r\n\r\nThis will cause the `plannedOrders` list to be added to the `reservedOrders` list, giving you the nested structure that you&#39;re expecting.\r\n\r\nWhy are you not properly defining the type of objects that are contained in `reservedOrders`?  If you did this, the compiler would then catch this error and so you wouldn&#39;t need to wait for a runtime error.  I think what you want is:\r\n\r\n    final List&lt;List&lt;PlannedOrder&gt;&gt; reservedOrders = new ArrayList&lt;&gt;();","title":"Java - how to iterate / traverse nested list of objects?","body":"<p>I think your problem is this line:</p>\n<pre><code>reservedOrders.addAll(plannedOrders);\n</code></pre>\n<p>It seems that you're expecting the <code>plannedOrders</code> list itself to be added to the <code>reservedOrders</code> list.  But that's not what this does.  This adds each element IN <code>plannedOrders</code> to the <code>reservedOrders</code> list.  I think what you want instead is:</p>\n<pre><code>reservedOrders.add(plannedOrders);\n</code></pre>\n<p>This will cause the <code>plannedOrders</code> list to be added to the <code>reservedOrders</code> list, giving you the nested structure that you're expecting.</p>\n<p>Why are you not properly defining the type of objects that are contained in <code>reservedOrders</code>?  If you did this, the compiler would then catch this error and so you wouldn't need to wait for a runtime error.  I think what you want is:</p>\n<pre><code>final List&lt;List&lt;PlannedOrder&gt;&gt; reservedOrders = new ArrayList&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":26108678,"reputation":3,"user_id":19802996,"display_name":"flamein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73421044,"answer_count":1,"score":0,"last_activity_date":1660935026,"creation_date":1660933877,"question_id":73420939,"body_markdown":"I&#39;d like to iterate over a nested list of objects. reservedOrder is a list of objects containing a list of PlannedOrder. \r\n\r\n```\r\npublic class PlannedOrder {\r\n      private Object name;\r\n      private Object price;\r\n      private Object quantity;      \r\n}\r\n\r\nfinal List&lt;Object&gt; reservedOrders = new ArrayList&lt;Object&gt;();\r\nfor (final Iterator iterator = AllOrdersList.iterator(); iterator.hasNext();)\r\n\t{\r\n    if(condition){\r\n\t  final OrderModel orderModel = (OrderModel) iterator.next();\t\r\n\t  final List&lt;PlannedOrder&gt; plannedOrders = new ArrayList&lt;PlannedOrder&gt;();\r\n\t  final PlannedOrder singleOrder = new PlannedReservationOrder();\r\n      singleOrder.setName(orderModel.getName());\r\n      singleOrder.setPrice(orderModel.getPrice());\r\n      singleOrder.setQuantity(orderModel.getQuantity());\r\n      reservedOrders.addAll(plannedOrders);\r\n      }\r\n    }\r\n\r\n```\r\nCan someone explain why java.lang.ClassCastException is thrown here in this nested loop? How can I access each object in the inner list with for-each / iterator?\r\n```\r\nfor (final Object order : reservedOrders)\r\n\t{\r\n     final List&lt;PlannedOrder&gt; singleOrder = (List&lt;PlannedOrder&gt;) order;\r\n\t\tfor (final PlannedOrder plannedReservationOrder : singleOrder)\r\n\t\t\t{\r\n              // java.lang.ClassCastException is thrown here $PlannedOrder cannot be cast to java.util.ArrayList\r\n```","title":"Java - how to iterate / traverse nested list of objects?","body":"<p>I'd like to iterate over a nested list of objects. reservedOrder is a list of objects containing a list of PlannedOrder.</p>\n<pre><code>public class PlannedOrder {\n      private Object name;\n      private Object price;\n      private Object quantity;      \n}\n\nfinal List&lt;Object&gt; reservedOrders = new ArrayList&lt;Object&gt;();\nfor (final Iterator iterator = AllOrdersList.iterator(); iterator.hasNext();)\n    {\n    if(condition){\n      final OrderModel orderModel = (OrderModel) iterator.next();   \n      final List&lt;PlannedOrder&gt; plannedOrders = new ArrayList&lt;PlannedOrder&gt;();\n      final PlannedOrder singleOrder = new PlannedReservationOrder();\n      singleOrder.setName(orderModel.getName());\n      singleOrder.setPrice(orderModel.getPrice());\n      singleOrder.setQuantity(orderModel.getQuantity());\n      reservedOrders.addAll(plannedOrders);\n      }\n    }\n\n</code></pre>\n<p>Can someone explain why java.lang.ClassCastException is thrown here in this nested loop? How can I access each object in the inner list with for-each / iterator?</p>\n<pre><code>for (final Object order : reservedOrders)\n    {\n     final List&lt;PlannedOrder&gt; singleOrder = (List&lt;PlannedOrder&gt;) order;\n        for (final PlannedOrder plannedReservationOrder : singleOrder)\n            {\n              // java.lang.ClassCastException is thrown here $PlannedOrder cannot be cast to java.util.ArrayList\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":5,"creation_date":1660934876,"post_id":73421045,"comment_id":129659373,"body_markdown":"Method `run()` returns an object of type `Www`, which is a class.","body":"Method <code>run()</code> returns an object of type <code>Www</code>, which is a class."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1660937580,"post_id":73421045,"comment_id":129660143,"body_markdown":"as with any method declaration `public Www run(){` - `public` is a method modifier (public access); `Www` is the return type (similar to `boolean` in previous method); `run` is the method name; and `()` is the parameter list (in this case none)","body":"as with any method declaration <code>public Www run(){</code> - <code>public</code> is a method modifier (public access); <code>Www</code> is the return type (similar to <code>boolean</code> in previous method); <code>run</code> is the method name; and <code>()</code> is the parameter list (in this case none)"},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1660943182,"post_id":73421045,"comment_id":129661402,"body_markdown":"You can find lots of good tutorials here: https://dev.java/learn/ - for example, learn about [classes, objects and methods](https://dev.java/learn/classes-and-objects/)","body":"You can find lots of good tutorials here: <a href=\"https://dev.java/learn/\" rel=\"nofollow noreferrer\">dev.java/learn</a> - for example, learn about <a href=\"https://dev.java/learn/classes-and-objects/\" rel=\"nofollow noreferrer\">classes, objects and methods</a>"}],"owner":{"account_id":3291634,"reputation":59,"user_id":2769817,"display_name":"NewBieJavaPro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1660934708,"creation_date":1660934708,"question_id":73421045,"body_markdown":"I have very simple theoretical question. I simplified code that I have. What is the last code construcion &quot;Www&quot;. In my code Www is another class. And here in Qqq I have this Www run(). This is method connected to another class or what? I cannot get it.\r\n\r\n```\r\npublic class Qqq {\r\n    //class fields\r\n\r\n    public Qqq (int x) {\r\n        //constructor\r\n    }\r\n\r\n    public boolean doSomething(int y){\r\n\r\n        return false;\r\n\r\n        //this is method\r\n    }\r\n\r\n    public Www run(){\r\n        if (!isRun) {\r\n            isRun = true;\r\n            return new Www();\r\n        }\r\n        return null;\r\n\r\n        // What is this???\r\n    }\r\n}\r\n```","title":"Java class and method inside other class question","body":"<p>I have very simple theoretical question. I simplified code that I have. What is the last code construcion &quot;Www&quot;. In my code Www is another class. And here in Qqq I have this Www run(). This is method connected to another class or what? I cannot get it.</p>\n<pre><code>public class Qqq {\n    //class fields\n\n    public Qqq (int x) {\n        //constructor\n    }\n\n    public boolean doSomething(int y){\n\n        return false;\n\n        //this is method\n    }\n\n    public Www run(){\n        if (!isRun) {\n            isRun = true;\n            return new Www();\n        }\n        return null;\n\n        // What is this???\n    }\n}\n</code></pre>\n"},{"tags":["java","cucumber","cucumber-java"],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656608860,"creation_date":1656608860,"answer_id":72819609,"question_id":72819342,"body_markdown":"In order to run a Java application, you need to be able to resolve ALL dependencies at runtime. This means that, every single library referenced on the POM under the dependencies tag, must be somewhere in the machine where Selenium (Cucumber) is running. Likewise, if those libraries have dependencies of their own, you must also download them somewhere in the machine.\r\n\r\nYou have a few choices to access the dependent libraries. You need to reference all dependencies as external JARs (reside outside your application JAR) or you need to package them inside your application JAR. You can use a build tool like ANT to build your JAR and map your dependencies similar to how is done in Maven. Obviously the difference is that you need to do what I described before (your build tool will need to know where these JARs are physically located).\r\n\r\nTo execute, you will obviously need a main method. Because this is using Selenium (Cucumber), your Runner class is ran by JUnit or TestNG (depending on what you are using). After that, the rest is up to you. For example, you could simply create a batch file to launch your application, or you could use a tool like Launch4J to create an executable. Of course, the latter required creating an executable JAR.","title":"How can I run Cucumber Test runner from CLI without using Maven","body":"<p>In order to run a Java application, you need to be able to resolve ALL dependencies at runtime. This means that, every single library referenced on the POM under the dependencies tag, must be somewhere in the machine where Selenium (Cucumber) is running. Likewise, if those libraries have dependencies of their own, you must also download them somewhere in the machine.</p>\n<p>You have a few choices to access the dependent libraries. You need to reference all dependencies as external JARs (reside outside your application JAR) or you need to package them inside your application JAR. You can use a build tool like ANT to build your JAR and map your dependencies similar to how is done in Maven. Obviously the difference is that you need to do what I described before (your build tool will need to know where these JARs are physically located).</p>\n<p>To execute, you will obviously need a main method. Because this is using Selenium (Cucumber), your Runner class is ran by JUnit or TestNG (depending on what you are using). After that, the rest is up to you. For example, you could simply create a batch file to launch your application, or you could use a tool like Launch4J to create an executable. Of course, the latter required creating an executable JAR.</p>\n"}],"owner":{"account_id":1588748,"reputation":299,"user_id":1472551,"display_name":"Abhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":867,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660934607,"creation_date":1656607574,"question_id":72819342,"body_markdown":"I have seen the posts - \r\n\r\nhttps://stackoverflow.com/questions/30586937/how-to-run-cucumber-file-from-command-line\r\n\r\nhttps://stackoverflow.com/questions/54745474/cucumber-java-project-without-maven-how-to-run-from-command-prompt-if-i-am-hav\r\n\r\nBut the solutions given there are not very clear.\r\n\r\nMy CucumberRunner.java looks like - \r\n\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            features = &quot;src/test/resources/features&quot;,\r\n            tags=&quot;@Regression&quot;,\r\n            monochrome = false,\r\n            plugin = {&quot;pretty&quot;,\r\n                    &quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot;,\r\n                    &quot;timeline:test-output-thread/&quot;,\r\n                    &quot;json:target/cucumber-reports/jsonReports/Cucumber.json&quot;,\r\n                    &quot;html:target/cucumber-reports/Cucumber.html&quot;}\r\n          \r\n    )\r\n    \r\n    \r\n    public class CucumberRunner {\r\n    \r\n       \r\n    }\r\n\r\nUnfortunately because of security reasons I can not install maven on Linux machine. So I want to run this CucumberRunner file from CLI.\r\n\r\nAs suggested in the previous posts I tried below in my Cucumber class\r\n\r\n    public class CucumberRunner {\r\n    \r\n        public static void main(String[] args){\r\n            Main.main(new String[]{&quot;-g&quot;, &quot;src/test/java/stepdefinitions&quot;, &quot;src/test/resources/features/Validate.feature&quot;});\r\n        }\r\n    \r\n    }\r\n\r\nBut it gives me exception \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: io/cucumber/core/cli/Main\r\n            at CucumberRunner.main(CucumberRunner.java:29)                              \r\n    Caused by: java.lang.ClassNotFoundException: io.cucumber.core.cli.Main              \r\n            at java.net.URLClassLoader.findClass(URLClassLoader.java:387)               \r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:419)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\r\n            ... 1 more\r\n\r\nBut This also doesn&#39;t give any solution to run on the basis of Cucumber tags.\r\n\r\nAny solution or pointer is appreciated.\r\n\r\nKind Regards,\r\n\r\nAbhi\r\n\r\n","title":"How can I run Cucumber Test runner from CLI without using Maven","body":"<p>I have seen the posts -</p>\n<p><a href=\"https://stackoverflow.com/questions/30586937/how-to-run-cucumber-file-from-command-line\">How to run cucumber file from command line</a></p>\n<p><a href=\"https://stackoverflow.com/questions/54745474/cucumber-java-project-without-maven-how-to-run-from-command-prompt-if-i-am-hav\">Cucumber java project without maven - how to run from command prompt if i am having Runner class</a></p>\n<p>But the solutions given there are not very clear.</p>\n<p>My CucumberRunner.java looks like -</p>\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = &quot;src/test/resources/features&quot;,\n        tags=&quot;@Regression&quot;,\n        monochrome = false,\n        plugin = {&quot;pretty&quot;,\n                &quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot;,\n                &quot;timeline:test-output-thread/&quot;,\n                &quot;json:target/cucumber-reports/jsonReports/Cucumber.json&quot;,\n                &quot;html:target/cucumber-reports/Cucumber.html&quot;}\n      \n)\n\n\npublic class CucumberRunner {\n\n   \n}\n</code></pre>\n<p>Unfortunately because of security reasons I can not install maven on Linux machine. So I want to run this CucumberRunner file from CLI.</p>\n<p>As suggested in the previous posts I tried below in my Cucumber class</p>\n<pre><code>public class CucumberRunner {\n\n    public static void main(String[] args){\n        Main.main(new String[]{&quot;-g&quot;, &quot;src/test/java/stepdefinitions&quot;, &quot;src/test/resources/features/Validate.feature&quot;});\n    }\n\n}\n</code></pre>\n<p>But it gives me exception</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: io/cucumber/core/cli/Main\n        at CucumberRunner.main(CucumberRunner.java:29)                              \nCaused by: java.lang.ClassNotFoundException: io.cucumber.core.cli.Main              \n        at java.net.URLClassLoader.findClass(URLClassLoader.java:387)               \n        at java.lang.ClassLoader.loadClass(ClassLoader.java:419)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\n        ... 1 more\n</code></pre>\n<p>But This also doesn't give any solution to run on the basis of Cucumber tags.</p>\n<p>Any solution or pointer is appreciated.</p>\n<p>Kind Regards,</p>\n<p>Abhi</p>\n"},{"tags":["java","assertion","google-truth"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":2,"creation_date":1660842626,"post_id":73406938,"comment_id":129634831,"body_markdown":"You want to check if it&#39;s a string *or* it starts with something? One of those conditions sort of implies the other, doesn&#39;t it?","body":"You want to check if it&#39;s a string <i>or</i> it starts with something? One of those conditions sort of implies the other, doesn&#39;t it?"}],"answers":[{"tags":[],"owner":{"account_id":7597727,"reputation":2056,"user_id":5763413,"display_name":"blackbrandt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660843138,"creation_date":1660842906,"answer_id":73407069,"question_id":73406938,"body_markdown":"Why not use a regular expression to solve this:\r\n```java\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n\r\nString strToCheck = &quot;afoobar123barfoo@&quot;;\r\n    Pattern pattern = Pattern.compile(&quot;a.*123.*@&quot;);\r\n    Matcher matcher = pattern.matcher(strToCheck);\r\n    boolean matchFound = matcher.find();\r\n    //matchFound now contains a true/false value. \r\n  }\r\n}\r\n```","title":"Java Truth OR assertion","body":"<p>Why not use a regular expression to solve this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Main {\n  public static void main(String[] args) {\n\nString strToCheck = &quot;afoobar123barfoo@&quot;;\n    Pattern pattern = Pattern.compile(&quot;a.*123.*@&quot;);\n    Matcher matcher = pattern.matcher(strToCheck);\n    boolean matchFound = matcher.find();\n    //matchFound now contains a true/false value. \n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1660843385,"creation_date":1660843385,"answer_id":73407149,"question_id":73406938,"body_markdown":"Going to flip this on its head, since you&#39;re talking about testing.\r\n\r\nYou should be explicit about what you&#39;re asserting, and not so wide-open about it.\r\n\r\nFor instance, it sounds like you&#39;re expecting something like:\r\n\r\n\r\n- a...123@\r\n- a123@\r\n- a\r\n- @\r\n- 123\r\n\r\n...but you may only actually care about one of those cases.\r\n\r\nSo I would encourage you to explicitly validate only one of each.  Even though Hamcrest allows you to find *any* match, this too feels like an antipattern; you should be more explicit about what it is you&#39;re expecting given a set of strings.","title":"Java Truth OR assertion","body":"<p>Going to flip this on its head, since you're talking about testing.</p>\n<p>You should be explicit about what you're asserting, and not so wide-open about it.</p>\n<p>For instance, it sounds like you're expecting something like:</p>\n<ul>\n<li>a...123@</li>\n<li>a123@</li>\n<li>a</li>\n<li>@</li>\n<li>123</li>\n</ul>\n<p>...but you may only actually care about one of those cases.</p>\n<p>So I would encourage you to explicitly validate only one of each.  Even though Hamcrest allows you to find <em>any</em> match, this too feels like an antipattern; you should be more explicit about what it is you're expecting given a set of strings.</p>\n"},{"tags":[],"owner":{"account_id":26056137,"reputation":36,"user_id":19758437,"display_name":"ARPAN NANDI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660847899,"creation_date":1660847899,"answer_id":73407977,"question_id":73406938,"body_markdown":"    assertTrue(strToCheck.startsWith(&quot;a&quot;) || strToCheck.contains(&quot;123&quot;) ||strToCheck.endsWith(&quot;@&quot;)); \r\n\r\nYou can do what you asked for with this single line only.\r\n","title":"Java Truth OR assertion","body":"<pre><code>assertTrue(strToCheck.startsWith(&quot;a&quot;) || strToCheck.contains(&quot;123&quot;) ||strToCheck.endsWith(&quot;@&quot;)); \n</code></pre>\n<p>You can do what you asked for with this single line only.</p>\n"},{"tags":[],"owner":{"account_id":14008,"reputation":3782,"user_id":28465,"display_name":"Chris Povirk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660934530,"creation_date":1660934530,"answer_id":73421021,"question_id":73406938,"body_markdown":"All the ways of doing this with Truth currently either are very clumsy or don&#39;t produce as [informative a failure message](https://truth.dev/#why-use-an-assertion-library) as we&#39;d aim for. See [this comment on issue 991](https://github.com/google/truth/issues/991#issuecomment-1154005994), which mentions some possible future enhancements, but this is never going to be something that Truth is as good at as Hamcrest is.\r\n\r\nIf I were writing a test that needed this, I would probably write something like:\r\n\r\n```java\r\nboolean valid =\r\n    strToCheck.startsWith(&quot;a&quot;)\r\n        || strToCheck.contains(&quot;123&quot;)\r\n        || strToCheck.endsWith(&quot;@&quot;);\r\nif (!valid) {\r\n  assertWithMessage(\r\n          &quot;expected to be a valid &lt;some description of what kind of string you expect&gt;&quot;\r\n              + &quot;\\nbut was: %s&quot;, strToCheck)\r\n      .fail()\r\n}\r\n```\r\n\r\nAnd then I&#39;d extract that to a method if it&#39;s going to be commonly needed.","title":"Java Truth OR assertion","body":"<p>All the ways of doing this with Truth currently either are very clumsy or don't produce as <a href=\"https://truth.dev/#why-use-an-assertion-library\" rel=\"nofollow noreferrer\">informative a failure message</a> as we'd aim for. See <a href=\"https://github.com/google/truth/issues/991#issuecomment-1154005994\" rel=\"nofollow noreferrer\">this comment on issue 991</a>, which mentions some possible future enhancements, but this is never going to be something that Truth is as good at as Hamcrest is.</p>\n<p>If I were writing a test that needed this, I would probably write something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean valid =\n    strToCheck.startsWith(&quot;a&quot;)\n        || strToCheck.contains(&quot;123&quot;)\n        || strToCheck.endsWith(&quot;@&quot;);\nif (!valid) {\n  assertWithMessage(\n          &quot;expected to be a valid &lt;some description of what kind of string you expect&gt;&quot;\n              + &quot;\\nbut was: %s&quot;, strToCheck)\n      .fail()\n}\n</code></pre>\n<p>And then I'd extract that to a method if it's going to be commonly needed.</p>\n"}],"owner":{"account_id":15619920,"reputation":880,"user_id":11269090,"display_name":"Chen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73407977,"answer_count":4,"score":1,"last_activity_date":1660934530,"creation_date":1660842288,"question_id":73406938,"body_markdown":"I would like to check with Java Truth assertion library if any of the following statements is satisfied:\r\n```\r\nassertThat(strToCheck).startsWith(&quot;a&quot;);\r\nassertThat(strToCheck).contains(&quot;123&quot;);\r\nassertThat(strToCheck).endsWith(&quot;@&quot;);\r\n```\r\nIn another word, I am checking if `strToCheck` starts with `a` OR contains the substring `123`, OR ends with `@`. Aka, if any of the 3 conditions applies. I am just giving the assertions as an example. \r\n\r\nIs there a way to do the logical OR assertion with Truth?\r\n\r\nI know with Hamcrest, we could do something like:\r\n```\r\nassertThat(strToCheck, anyOf(startsWith(&quot;a&quot;), new StringContains(&quot;123&quot;), endsWith(&quot;@&quot;)));\r\n```\r\n","title":"Java Truth OR assertion","body":"<p>I would like to check with Java Truth assertion library if any of the following statements is satisfied:</p>\n<pre><code>assertThat(strToCheck).startsWith(&quot;a&quot;);\nassertThat(strToCheck).contains(&quot;123&quot;);\nassertThat(strToCheck).endsWith(&quot;@&quot;);\n</code></pre>\n<p>In another word, I am checking if <code>strToCheck</code> starts with <code>a</code> OR contains the substring <code>123</code>, OR ends with <code>@</code>. Aka, if any of the 3 conditions applies. I am just giving the assertions as an example.</p>\n<p>Is there a way to do the logical OR assertion with Truth?</p>\n<p>I know with Hamcrest, we could do something like:</p>\n<pre><code>assertThat(strToCheck, anyOf(startsWith(&quot;a&quot;), new StringContains(&quot;123&quot;), endsWith(&quot;@&quot;)));\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","applicationcontext"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1660542555,"post_id":73355715,"comment_id":129548889,"body_markdown":"If it isn&#39;t spring boot then how do you do `ConditionalOnProperty` as that is from Spring Boot and not plain spring. What do you mean with 2, what isn&#39;t configurable about property files? You place them on your file system, modify them and start the app. They don&#39;t have to  be part of the application?","body":"If it isn&#39;t spring boot then how do you do <code>ConditionalOnProperty</code> as that is from Spring Boot and not plain spring. What do you mean with 2, what isn&#39;t configurable about property files? You place them on your file system, modify them and start the app. They don&#39;t have to  be part of the application?"},{"owner":{"account_id":2116606,"reputation":923,"user_id":1880761,"accept_rate":60,"display_name":"trebor"},"score":0,"creation_date":1660610871,"post_id":73355715,"comment_id":129567733,"body_markdown":"Good catch...I didn&#39;t realize `ConditionalOnProperty` was Spring Boot. It turns out the third party libraries we are using (from our MVC app) internally use Spring Boot classes.","body":"Good catch...I didn&#39;t realize <code>ConditionalOnProperty</code> was Spring Boot. It turns out the third party libraries we are using (from our MVC app) internally use Spring Boot classes."},{"owner":{"account_id":2116606,"reputation":923,"user_id":1880761,"accept_rate":60,"display_name":"trebor"},"score":0,"creation_date":1660610956,"post_id":73355715,"comment_id":129567743,"body_markdown":"As for #2, we call an API and use the result to set the property value. I&#39;ve updated the same in the question the clarify.","body":"As for #2, we call an API and use the result to set the property value. I&#39;ve updated the same in the question the clarify."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1660628735,"post_id":73355715,"comment_id":129570236,"body_markdown":"Just make it a propertysource or use an `ApplicationContextInitializer` to call the endpoint, prepare a `MapPropertySource` and add it to the `Environment`.","body":"Just make it a propertysource or use an <code>ApplicationContextInitializer</code> to call the endpoint, prepare a <code>MapPropertySource</code> and add it to the <code>Environment</code>."},{"owner":{"account_id":2116606,"reputation":923,"user_id":1880761,"accept_rate":60,"display_name":"trebor"},"score":0,"creation_date":1660934402,"post_id":73355715,"comment_id":129659262,"body_markdown":"Thank you! I found a solution based on your recommendation of using `ApplicationContextInitializer` and have posted as an answer to the question. If it doesn&#39;t look right, please share! Thanks again!","body":"Thank you! I found a solution based on your recommendation of using <code>ApplicationContextInitializer</code> and have posted as an answer to the question. If it doesn&#39;t look right, please share! Thanks again!"}],"answers":[{"tags":[],"owner":{"account_id":2116606,"reputation":923,"user_id":1880761,"accept_rate":60,"display_name":"trebor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660934356,"creation_date":1660934356,"answer_id":73421002,"question_id":73355715,"body_markdown":"Based on @m-deinum&#39;s comment, I was able to get it working with the following:\r\n\r\n```java\r\npublic class MyPropertyInitializer extends WebMvcConfigurerAdapter implements WebApplicationInitializer, ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n\t@Override\r\n\tpublic void onStartup(ServletContext servletContext) throws ServletException {\r\n\t\tString initializerClasses = servletContext.getInitParameter(ContextLoader.GLOBAL_INITIALIZER_CLASSES_PARAM);\r\n\t\tString initClassName = this.getClass().getName();\r\n\t\tif (StringUtils.isNotBlank(initializerClasses)) {\r\n\t\t\tinitializerClasses += &quot;,&quot; + initClassName;\r\n\t\t} else {\r\n\t\t\tinitializerClasses = initClassName;\r\n\t\t}\r\n\t\tservletContext.setInitParameter(ContextLoader.GLOBAL_INITIALIZER_CLASSES_PARAM, initializerClasses);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void initialize(ConfigurableApplicationContext context) {\r\n\t\tProperties props = getCustomProperties();\r\n\t\tPropertySource&lt;?&gt; propertySource = new PropertiesPropertySource(&quot;my-custom-props&quot;, props);\r\n\t\tcontext.getEnvironment().getPropertySources().addLast(propertySource);\r\n\t}\r\n\r\n\tprotected Properties getCustomProperties() {\r\n\t\tProperties props = new Properties();\r\n\t\t// do logic to set desired values\r\n\t\treturn props;\r\n\t}\r\n}\r\n```","title":"Spring MVC: configure properties from before bean creation","body":"<p>Based on @m-deinum's comment, I was able to get it working with the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyPropertyInitializer extends WebMvcConfigurerAdapter implements WebApplicationInitializer, ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n    @Override\n    public void onStartup(ServletContext servletContext) throws ServletException {\n        String initializerClasses = servletContext.getInitParameter(ContextLoader.GLOBAL_INITIALIZER_CLASSES_PARAM);\n        String initClassName = this.getClass().getName();\n        if (StringUtils.isNotBlank(initializerClasses)) {\n            initializerClasses += &quot;,&quot; + initClassName;\n        } else {\n            initializerClasses = initClassName;\n        }\n        servletContext.setInitParameter(ContextLoader.GLOBAL_INITIALIZER_CLASSES_PARAM, initializerClasses);\n    }\n\n    @Override\n    public void initialize(ConfigurableApplicationContext context) {\n        Properties props = getCustomProperties();\n        PropertySource&lt;?&gt; propertySource = new PropertiesPropertySource(&quot;my-custom-props&quot;, props);\n        context.getEnvironment().getPropertySources().addLast(propertySource);\n    }\n\n    protected Properties getCustomProperties() {\n        Properties props = new Properties();\n        // do logic to set desired values\n        return props;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2116606,"reputation":923,"user_id":1880761,"accept_rate":60,"display_name":"trebor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":885,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73421002,"answer_count":1,"score":2,"last_activity_date":1660934356,"creation_date":1660519369,"question_id":73355715,"body_markdown":"I have a scenario where I want to programmatically inject properties into Spring before any beans are created/initialized:\r\n1. The beans (not modifiable) are configured with `ConditionalOnProperty`, so properties need to be set before creation.\r\n2. Properties need to be configured dynamically and programmatically, not via property file (we call an API and use the result to set the property value).\r\n\r\nI see `ApplicationContext` has a way to get the current environment&#39;s property sources (via [ConfigurableEnvironment](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/ConfigurableEnvironment.html)), but I am not sure how to inject into the Spring lifecycle to configure the `ApplicationContext` before beans are initialized.\r\n\r\nI&#39;m aware of [BeanFactoryPostProcessor](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/BeanFactoryPostProcessor.html) as a hook which occurs before bean initialization, but I don&#39;t see a way to obtain an instance of `ApplicationContext` in it.\r\n\r\nHow can it be accomplished?\r\n\r\nNote: the application itself is Spring Web/MVC, not Spring Boot. The third party library internally uses Spring Boot classes (`ConditionalOnProperty`).","title":"Spring MVC: configure properties from before bean creation","body":"<p>I have a scenario where I want to programmatically inject properties into Spring before any beans are created/initialized:</p>\n<ol>\n<li>The beans (not modifiable) are configured with <code>ConditionalOnProperty</code>, so properties need to be set before creation.</li>\n<li>Properties need to be configured dynamically and programmatically, not via property file (we call an API and use the result to set the property value).</li>\n</ol>\n<p>I see <code>ApplicationContext</code> has a way to get the current environment's property sources (via <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/ConfigurableEnvironment.html\" rel=\"nofollow noreferrer\">ConfigurableEnvironment</a>), but I am not sure how to inject into the Spring lifecycle to configure the <code>ApplicationContext</code> before beans are initialized.</p>\n<p>I'm aware of <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/BeanFactoryPostProcessor.html\" rel=\"nofollow noreferrer\">BeanFactoryPostProcessor</a> as a hook which occurs before bean initialization, but I don't see a way to obtain an instance of <code>ApplicationContext</code> in it.</p>\n<p>How can it be accomplished?</p>\n<p>Note: the application itself is Spring Web/MVC, not Spring Boot. The third party library internally uses Spring Boot classes (<code>ConditionalOnProperty</code>).</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22490833,"reputation":86,"user_id":16688579,"display_name":"Saira Noonari"},"score":0,"creation_date":1660932264,"post_id":73420545,"comment_id":129658692,"body_markdown":"public void setVehicle(Vehicle vehicle){\n         this.vehicle = vehicle;\n     }\nwhy is Vehicle vehicle? (String vechicle) the vehicle is of string type and by reading the question i can guide better.","body":"public void setVehicle(Vehicle vehicle){          this.vehicle = vehicle;      } why is Vehicle vehicle? (String vechicle) the vehicle is of string type and by reading the question i can guide better."},{"owner":{"account_id":5809200,"reputation":161,"user_id":7204817,"display_name":"Jakob M&#248;ller"},"score":0,"creation_date":1660932331,"post_id":73420545,"comment_id":129658706,"body_markdown":"If you would like, i can walk you through this over a voice call?\nMy discord is Jakob#8641 if interested :)","body":"If you would like, i can walk you through this over a voice call? My discord is Jakob#8641 if interested :)"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1660932769,"post_id":73420545,"comment_id":129658804,"body_markdown":"The class `Driver` is missing one or more methods that are expected by the test framework - check your requirements to determine what is missing. The second error indicates a class is missing (`TaxiService`).  It seems to be referenced by your `Vehicle` class which is not included in the question.  It is unclear to me if you are supposed to define `TaxiService` - check your requirements.","body":"The class <code>Driver</code> is missing one or more methods that are expected by the test framework - check your requirements to determine what is missing. The second error indicates a class is missing (<code>TaxiService</code>).  It seems to be referenced by your <code>Vehicle</code> class which is not included in the question.  It is unclear to me if you are supposed to define <code>TaxiService</code> - check your requirements."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1660934052,"post_id":73420545,"comment_id":129659174,"body_markdown":"How far we&#39;ve fallen that a *first course* in programming is treating the use of getters/setters as fundamental to programming. It&#39;s a hack used to get uniform access in a language that doesn&#39;t have it (read: Java), not some fundamental principle.","body":"How far we&#39;ve fallen that a <i>first course</i> in programming is treating the use of getters/setters as fundamental to programming. It&#39;s a hack used to get uniform access in a language that doesn&#39;t have it (read: Java), not some fundamental principle."}],"answers":[{"tags":[],"owner":{"account_id":26110025,"reputation":16,"user_id":19804110,"display_name":"Egg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660933711,"creation_date":1660933711,"answer_id":73420911,"question_id":73420545,"body_markdown":"I&#39;m also new, so pls forgive any error I make.\r\n\r\nemm.. first things first on the third line of code\r\n`private Driveable vehicle = new Vehicle();`\r\n\r\nyou should not be giving assignments here, and the Class types also doesn&#39;t match\r\n`private Driveable vehicle;` is enough.\r\n\r\nif you still want to initialize the attribute, do it in the constructor method.\r\n\r\n\r\nyour getter looks fine, but in the first setter, I&#39;m not sure what you want to do by taking no input but to return an object reference.\r\n\r\nNote that the vehicle is of type Driveable and it seems you want to use it as Vehicle type in your code after definition, so consider fixing that.","title":"Am i using the proper getter/setter methods?","body":"<p>I'm also new, so pls forgive any error I make.</p>\n<p>emm.. first things first on the third line of code\n<code>private Driveable vehicle = new Vehicle();</code></p>\n<p>you should not be giving assignments here, and the Class types also doesn't match\n<code>private Driveable vehicle;</code> is enough.</p>\n<p>if you still want to initialize the attribute, do it in the constructor method.</p>\n<p>your getter looks fine, but in the first setter, I'm not sure what you want to do by taking no input but to return an object reference.</p>\n<p>Note that the vehicle is of type Driveable and it seems you want to use it as Vehicle type in your code after definition, so consider fixing that.</p>\n"}],"owner":{"account_id":26109961,"reputation":3,"user_id":19804055,"display_name":"Brian Countryman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73420911,"answer_count":1,"score":0,"last_activity_date":1660933711,"creation_date":1660931452,"question_id":73420545,"body_markdown":"I&#39;m currently learning how to code and on my first module final. Before I can move on I must complete the assignment. When I input my code it returns with 1 error. The code is listed below. Can someone tell me what I&#39;m doing wrong and how to fix it? Thank you!\r\n\r\n```\r\npublic class Driver extends User { \r\n    \r\n    private Driveable vehicle = new Vehicle();\r\n    \r\n    public Driver() {}//mine\r\n    public Driver(Vehicle vehicle, String name, String email){\r\n        this();\r\n        setVehicle(vehicle);\r\n        setName(name);\r\n        setEmail(email);\r\n       }\r\n \r\n \r\n  \r\n     public Driveable getVehicle(){\r\n      return vehicle;\r\n     }\r\n     public Drivable setVehicle(){\r\n        this.vehicle;\r\n     }\r\n \r\n    \r\n     public void setVehicle(Vehicle vehicle){\r\n         this.vehicle = vehicle;\r\n     }\r\n    \r\n     public void drive(){\r\n        vehicle.drive();\r\n     }\r\n}\r\n```\r\n\r\nError methods are listed below as well,\r\n\r\n                ^                                                                                                                                                                                                                                         \r\n    1 error                                                                                                                                                                                                                                               \r\n    class Driver does contain the required methods.                                                                                                                                                                                                       \r\n    Check class Vehicle  getter/setter methods.                                                                                                                                                                                                           \r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: TaxiService                                                                                                                                                                                \r\n            at Test.taxiService(Test.java:56)                                                                                                                                                                                                             \r\n            at Test.main(Test.java:16)                                                                                                                                                                                                                    \r\n    Caused by: java.lang.ClassNotFoundException: TaxiService                                                                                                                                                                                              \r\n            at java.net.URLClassLoader.findClass(URLClassLoader.java:382)                                                                                                                                                                                 \r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:418)                                                                                                                                                                                      \r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)                                                                                                                                                                              \r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:351)                                                                                                                                                                                      \r\n            ... 2 more                                                                      \r\n\r\n                                                                                                                                                              ","title":"Am i using the proper getter/setter methods?","body":"<p>I'm currently learning how to code and on my first module final. Before I can move on I must complete the assignment. When I input my code it returns with 1 error. The code is listed below. Can someone tell me what I'm doing wrong and how to fix it? Thank you!</p>\n<pre><code>public class Driver extends User { \n    \n    private Driveable vehicle = new Vehicle();\n    \n    public Driver() {}//mine\n    public Driver(Vehicle vehicle, String name, String email){\n        this();\n        setVehicle(vehicle);\n        setName(name);\n        setEmail(email);\n       }\n \n \n  \n     public Driveable getVehicle(){\n      return vehicle;\n     }\n     public Drivable setVehicle(){\n        this.vehicle;\n     }\n \n    \n     public void setVehicle(Vehicle vehicle){\n         this.vehicle = vehicle;\n     }\n    \n     public void drive(){\n        vehicle.drive();\n     }\n}\n</code></pre>\n<p>Error methods are listed below as well,</p>\n<pre><code>            ^                                                                                                                                                                                                                                         \n1 error                                                                                                                                                                                                                                               \nclass Driver does contain the required methods.                                                                                                                                                                                                       \nCheck class Vehicle  getter/setter methods.                                                                                                                                                                                                           \nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: TaxiService                                                                                                                                                                                \n        at Test.taxiService(Test.java:56)                                                                                                                                                                                                             \n        at Test.main(Test.java:16)                                                                                                                                                                                                                    \nCaused by: java.lang.ClassNotFoundException: TaxiService                                                                                                                                                                                              \n        at java.net.URLClassLoader.findClass(URLClassLoader.java:382)                                                                                                                                                                                 \n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)                                                                                                                                                                                      \n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)                                                                                                                                                                              \n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)                                                                                                                                                                                      \n        ... 2 more                                                                      \n\n                                                                                                                                                          \n</code></pre>\n"},{"tags":["java","arrays","final"],"comments":[{"owner":{"account_id":3273747,"reputation":20856,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":0,"creation_date":1660933695,"post_id":10339930,"comment_id":129659074,"body_markdown":"Technically a duplicate of https://stackoverflow.com/questions/13979696/why-wont-declaring-an-array-final-make-it-immutable-in-java but this has more views/answers","body":"Technically a duplicate of <a href=\"https://stackoverflow.com/questions/13979696/why-wont-declaring-an-array-final-make-it-immutable-in-java\" title=\"why wont declaring an array final make it immutable in java\">stackoverflow.com/questions/13979696/&hellip;</a> but this has more views/answers"}],"answers":[{"tags":[],"owner":{"account_id":367765,"reputation":875,"user_id":714146,"display_name":"Choker"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1335468152,"creation_date":1335468152,"answer_id":10339985,"question_id":10339930,"body_markdown":"You can only make it so the array reference can&#39;t be changed. If you want the elements to be unable to be changed, you need to use an unmodifiable collection of some kind.","title":"Why can I edit the contents of a final array in Java?","body":"<p>You can only make it so the array reference can't be changed. If you want the elements to be unable to be changed, you need to use an unmodifiable collection of some kind.</p>\n"},{"tags":[],"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"down_vote_count":0,"up_vote_count":104,"is_accepted":true,"score":104,"last_activity_date":1390109161,"creation_date":1335468236,"answer_id":10340003,"question_id":10339930,"body_markdown":"`final` in Java affects the *variable*, it has nothing to do with the object you are assigning to it.\r\n\r\n    final String[] myArray = { &quot;hi&quot;, &quot;there&quot; };\r\n    myArray = anotherArray; // Error, you can&#39;t do that. myArray is final\r\n    myArray[0] = &quot;over&quot;;  // perfectly fine, final has nothing to do with it\r\n\r\n**Edit to add from comments:** Note that I said *object you are assigning to it*. In Java an array is an object. This same thing applies to any other object:\r\n\r\n    final List&lt;String&gt; myList = new ArrayList&lt;String&gt;():\r\n    myList = anotherList; // error, you can&#39;t do that\r\n    myList.add(&quot;Hi there!&quot;); // perfectly fine. ","title":"Why can I edit the contents of a final array in Java?","body":"<p><code>final</code> in Java affects the <em>variable</em>, it has nothing to do with the object you are assigning to it.</p>\n\n<pre><code>final String[] myArray = { \"hi\", \"there\" };\nmyArray = anotherArray; // Error, you can't do that. myArray is final\nmyArray[0] = \"over\";  // perfectly fine, final has nothing to do with it\n</code></pre>\n\n<p><strong>Edit to add from comments:</strong> Note that I said <em>object you are assigning to it</em>. In Java an array is an object. This same thing applies to any other object:</p>\n\n<pre><code>final List&lt;String&gt; myList = new ArrayList&lt;String&gt;():\nmyList = anotherList; // error, you can't do that\nmyList.add(\"Hi there!\"); // perfectly fine. \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1198921,"reputation":921,"user_id":1170014,"accept_rate":71,"display_name":"choop"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1335468286,"creation_date":1335468286,"answer_id":10340015,"question_id":10339930,"body_markdown":"When you declare an array as final, you can change the elements in the array, however you cannot change the reference of this array.","title":"Why can I edit the contents of a final array in Java?","body":"<p>When you declare an array as final, you can change the elements in the array, however you cannot change the reference of this array.</p>\n"},{"tags":[],"owner":{"account_id":1132283,"reputation":28517,"user_id":1118101,"accept_rate":89,"display_name":"theglauber"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398254535,"creation_date":1335468311,"answer_id":10340020,"question_id":10339930,"body_markdown":"The value of the variable CONSTANT_ARRAY cannot change. That variable contains a (reference to an) array. However, the *contents* of the array *can* change. Same thing happens when you declare any kind of final variable that is not a simple scalar type (e.g. an object).\r\n\r\nBe careful how you name your variables. :-) Calling it a CONSTANT_ARRAY doesn&#39;t make the contents of the array unchangeable.\r\n\r\nHere&#39;s a good reference: [The final word on final][1]\r\n\r\n\r\n  [1]: http://www.360doc.com/content/06/1007/20/8473_224657.shtml","title":"Why can I edit the contents of a final array in Java?","body":"<p>The value of the variable CONSTANT_ARRAY cannot change. That variable contains a (reference to an) array. However, the <em>contents</em> of the array <em>can</em> change. Same thing happens when you declare any kind of final variable that is not a simple scalar type (e.g. an object).</p>\n\n<p>Be careful how you name your variables. :-) Calling it a CONSTANT_ARRAY doesn't make the contents of the array unchangeable.</p>\n\n<p>Here's a good reference: <a href=\"http://www.360doc.com/content/06/1007/20/8473_224657.shtml\" rel=\"nofollow\">The final word on final</a></p>\n"},{"tags":[],"owner":{"account_id":66609,"reputation":132,"user_id":195328,"display_name":"afsina"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1335468371,"creation_date":1335468371,"answer_id":10340033,"question_id":10339930,"body_markdown":"final only guarantees immutability of primitives. And also guarantees that a variable is assigned only once. If an object is mutable you can change the content of it event it defined as final. You may check immutable collections for your needs. Such as Collections.unmodifiableList() \r\nhttp://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#unmodifiableList(java.util.List)","title":"Why can I edit the contents of a final array in Java?","body":"<p>final only guarantees immutability of primitives. And also guarantees that a variable is assigned only once. If an object is mutable you can change the content of it event it defined as final. You may check immutable collections for your needs. Such as Collections.unmodifiableList() \n<a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#unmodifiableList(java.util.List\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#unmodifiableList(java.util.List</a>)</p>\n"},{"tags":[],"owner":{"account_id":1326257,"reputation":2880,"user_id":1270995,"accept_rate":100,"display_name":"Shehzad"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1506339674,"creation_date":1335468852,"answer_id":10340152,"question_id":10339930,"body_markdown":"You are misinterpreting the final implementation. `final` applies to the array object reference, which means once it is initiated, the reference can never change but the array its self can be populated. &quot;Its not violating the rules&quot; you have specified only one rule about the reference change which is working accordingly. If you want the values should also never change you should go for Immutable lists i.e \r\n\r\n    List&lt;String&gt; items = Collections.unmodifiableList(Arrays.asList(&quot;I&quot;, &quot;can&quot;, &quot;never&quot;, &quot;change&quot;));\r\n\r\n","title":"Why can I edit the contents of a final array in Java?","body":"<p>You are misinterpreting the final implementation. <code>final</code> applies to the array object reference, which means once it is initiated, the reference can never change but the array its self can be populated. \"Its not violating the rules\" you have specified only one rule about the reference change which is working accordingly. If you want the values should also never change you should go for Immutable lists i.e </p>\n\n<pre><code>List&lt;String&gt; items = Collections.unmodifiableList(Arrays.asList(\"I\", \"can\", \"never\", \"change\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2989592,"reputation":339,"user_id":2537455,"display_name":"D&#225;niel L&#225;szl&#243; Kov&#225;cs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1442186125,"creation_date":1442185152,"answer_id":32555336,"question_id":10339930,"body_markdown":"The reference to the array object is final (can not change e.g. in case you would attempt to associate a different Java array object (instance of String[]) to the same final variable...you&#39;d get a compile time error).\r\n\r\nBUT the fields of the final array object in your example are not final, and so you can modify their value. ...while the Java object you created, CONSTANT_ARRAY, after receiving an initial value, will have that value &quot;forever&quot; == until the JVM stops. :) It will be the same String Array instance &quot;forever&quot;.\r\n\r\nFinal variables in Java are not a big deal, just spend some time to digest the topic/idea carefully. :-)\r\n&lt;br/&gt;I suggest to all of those who are uncertain to meditate over this page, for example:\r\nhttps://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.4\r\n\r\n&lt;b&gt;Let me cite the respective part:&lt;/b&gt;\r\n\r\n&quot;&lt;i&gt;Once a final variable has been assigned, it always contains the same value. If a final variable holds a reference to an object, then the state of the object may be changed by operations on the object, but the variable will always refer to the same object.\r\n\r\nThis applies also to arrays, because arrays are objects; if a final variable holds a reference to an array, then the components of the array may be changed by operations on the array, but the variable will always refer to the same array.&lt;/i&gt;&quot;","title":"Why can I edit the contents of a final array in Java?","body":"<p>The reference to the array object is final (can not change e.g. in case you would attempt to associate a different Java array object (instance of String[]) to the same final variable...you'd get a compile time error).</p>\n\n<p>BUT the fields of the final array object in your example are not final, and so you can modify their value. ...while the Java object you created, CONSTANT_ARRAY, after receiving an initial value, will have that value \"forever\" == until the JVM stops. :) It will be the same String Array instance \"forever\".</p>\n\n<p>Final variables in Java are not a big deal, just spend some time to digest the topic/idea carefully. :-)\n<br/>I suggest to all of those who are uncertain to meditate over this page, for example:\n<a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.4\" rel=\"nofollow\">https://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.4</a></p>\n\n<p><b>Let me cite the respective part:</b></p>\n\n<p>\"<i>Once a final variable has been assigned, it always contains the same value. If a final variable holds a reference to an object, then the state of the object may be changed by operations on the object, but the variable will always refer to the same object.</p>\n\n<p>This applies also to arrays, because arrays are objects; if a final variable holds a reference to an array, then the components of the array may be changed by operations on the array, but the variable will always refer to the same array.</i>\"</p>\n"},{"tags":[],"owner":{"account_id":11787526,"reputation":1,"user_id":8624685,"display_name":"Vikas Chauhan"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1505709846,"creation_date":1505709846,"answer_id":46271741,"question_id":10339930,"body_markdown":"        final int[] res;\r\n        int[] res1;\r\n        int[] res2 = new int[1];\r\n        res2[0]=20;\r\n        \r\n        res1=res2;\r\n        res1=res2;//no error\r\n        System.out.println(&quot;res1:&quot;+res1[0]);\r\n        \r\n        res = res2;//only once\r\n       //res = res2;//error already initialised\r\n        res2[0]=30;\r\n        \r\n        System.out.println(&quot;res:&quot;+res[0]);     \r\n        \r\n*output::\r\nres1:20\r\nres:30*","title":"Why can I edit the contents of a final array in Java?","body":"<pre><code>    final int[] res;\n    int[] res1;\n    int[] res2 = new int[1];\n    res2[0]=20;\n\n    res1=res2;\n    res1=res2;//no error\n    System.out.println(\"res1:\"+res1[0]);\n\n    res = res2;//only once\n   //res = res2;//error already initialised\n    res2[0]=30;\n\n    System.out.println(\"res:\"+res[0]);     \n</code></pre>\n\n<p><em>output::\nres1:20\nres:30</em></p>\n"},{"tags":[],"owner":{"account_id":4125582,"reputation":1127,"user_id":3384821,"display_name":"Ashish Karn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592908160,"creation_date":1592908160,"answer_id":62532644,"question_id":10339930,"body_markdown":"When a variable is declared with the final keyword, its value cant be modified, essentially, a constant. This also means that you must initialize a final variable. If the final variable **is a reference**, this means that the variable cannot be **re-bound to reference another object**, but the **internal state** of the object pointed by that reference variable can be changed i.e. you can add or remove elements from the final array or final collection.\r\n","title":"Why can I edit the contents of a final array in Java?","body":"<p>When a variable is declared with the final keyword, its value cant be modified, essentially, a constant. This also means that you must initialize a final variable. If the final variable <strong>is a reference</strong>, this means that the variable cannot be <strong>re-bound to reference another object</strong>, but the <strong>internal state</strong> of the object pointed by that reference variable can be changed i.e. you can add or remove elements from the final array or final collection.</p>\n"}],"owner":{"account_id":1028420,"reputation":18799,"user_id":1037210,"accept_rate":100,"display_name":"Lion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75967,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"accepted_answer_id":10340003,"answer_count":9,"score":65,"last_activity_date":1660933498,"creation_date":1335467928,"question_id":10339930,"body_markdown":"The following code in Java uses a `final` array of `String`.\r\n\r\n    final public class Main {\r\n      public static final String[] CONSTANT_ARRAY = {&quot;I&quot;, &quot;can&quot;, &quot;never&quot;, &quot;change&quot;};\r\n\r\n      public static void main(String[] args) {\r\n        for (int x = 0; x &lt; CONSTANT_ARRAY.length; x++) {\r\n          System.out.print(CONSTANT_ARRAY[x] + &quot; &quot;);\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nIt displays the following output on the console.\r\n\r\n&gt;     I can never change\r\n\r\nIf we try to reassign the declared `final` array of type `String`, we cause an error:\r\n\r\n    final public class Main {\r\n      public static final String[] CONSTANT_ARRAY = {&quot;I&quot;, &quot;can&quot;, &quot;never&quot;, &quot;change&quot;};\r\n\r\n      public static void main(String[] args) {\r\n        CONSTANT_ARRAY={&quot;I&quot;, &quot;can&quot;, &quot;never&quot;, &quot;change&quot;}; //Error - can not assign to final variable CONSTANT_ARRAY.\r\n        for (int x = 0; x &lt; CONSTANT_ARRAY.length; x++) {\r\n          System.out.print(CONSTANT_ARRAY[x] + &quot; &quot;);\r\n        }\r\n      }\r\n    }\r\n\r\n&gt; Error: cannot assign to final variable `CONSTANT_ARRAY`.\r\n\r\n\r\nHowever, the following code works:\r\n\r\n    final public class Main {\r\n      public static final String[] CONSTANT_ARRAY = {&quot;I&quot;, &quot;can&quot;, &quot;never&quot;, &quot;change&quot;};\r\n\r\n      public static void main(String[] args) {\r\n        CONSTANT_ARRAY[2] = &quot;always&quot;;  //Compiles fine.\r\n        for (int x = 0; x &lt; CONSTANT_ARRAY.length; x++) {\r\n          System.out.print(CONSTANT_ARRAY[x] + &quot; &quot;);\r\n        }\r\n      }\r\n    }\r\n\r\nIt displays \r\n\r\n&gt;     I can always change\r\n\r\nThis mean that we could manage to modify the value of the `final` array of type `String`. Can we modify the entire array in this way without violating the immutable rule of `final`?","title":"Why can I edit the contents of a final array in Java?","body":"<p>The following code in Java uses a <code>final</code> array of <code>String</code>.</p>\n<pre><code>final public class Main {\n  public static final String[] CONSTANT_ARRAY = {&quot;I&quot;, &quot;can&quot;, &quot;never&quot;, &quot;change&quot;};\n\n  public static void main(String[] args) {\n    for (int x = 0; x &lt; CONSTANT_ARRAY.length; x++) {\n      System.out.print(CONSTANT_ARRAY[x] + &quot; &quot;);\n    }\n  }\n}\n</code></pre>\n<p>It displays the following output on the console.</p>\n<blockquote>\n<pre><code>I can never change\n</code></pre>\n</blockquote>\n<p>If we try to reassign the declared <code>final</code> array of type <code>String</code>, we cause an error:</p>\n<pre><code>final public class Main {\n  public static final String[] CONSTANT_ARRAY = {&quot;I&quot;, &quot;can&quot;, &quot;never&quot;, &quot;change&quot;};\n\n  public static void main(String[] args) {\n    CONSTANT_ARRAY={&quot;I&quot;, &quot;can&quot;, &quot;never&quot;, &quot;change&quot;}; //Error - can not assign to final variable CONSTANT_ARRAY.\n    for (int x = 0; x &lt; CONSTANT_ARRAY.length; x++) {\n      System.out.print(CONSTANT_ARRAY[x] + &quot; &quot;);\n    }\n  }\n}\n</code></pre>\n<blockquote>\n<p>Error: cannot assign to final variable <code>CONSTANT_ARRAY</code>.</p>\n</blockquote>\n<p>However, the following code works:</p>\n<pre><code>final public class Main {\n  public static final String[] CONSTANT_ARRAY = {&quot;I&quot;, &quot;can&quot;, &quot;never&quot;, &quot;change&quot;};\n\n  public static void main(String[] args) {\n    CONSTANT_ARRAY[2] = &quot;always&quot;;  //Compiles fine.\n    for (int x = 0; x &lt; CONSTANT_ARRAY.length; x++) {\n      System.out.print(CONSTANT_ARRAY[x] + &quot; &quot;);\n    }\n  }\n}\n</code></pre>\n<p>It displays</p>\n<blockquote>\n<pre><code>I can always change\n</code></pre>\n</blockquote>\n<p>This mean that we could manage to modify the value of the <code>final</code> array of type <code>String</code>. Can we modify the entire array in this way without violating the immutable rule of <code>final</code>?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1356389172,"post_id":14026235,"comment_id":19372633,"body_markdown":"In future, if you&#39;re going to ask about an error, *please* say what the error is...","body":"In future, if you&#39;re going to ask about an error, <i>please</i> say what the error is..."}],"answers":[{"tags":[],"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1356389747,"creation_date":1356389135,"answer_id":14026240,"question_id":14026235,"body_markdown":"that&#39;s because, you are trying to do string concatenation, as your first operand is a string. \r\n\r\ntry this:\r\n\r\n\r\n    System.out.println(&quot;The sub is : &quot;+ (c-d));\r\n\r\nnotice that (c-d) in brackets.\r\n\r\n\r\ncompiler would complain that `-` operator is un-defined for string and int.\r\n\r\n&gt; The operator - is undefined for the argument type(s) String, int\r\n\r\nNote that the `Sub is:+ c` the result would be a string. now \r\n\r\n    `Sub is:+ c` - d;\r\n    ^^String     - int\r\n\r\n         ","title":"Why do I get an error when using - to substract an int in a println statement?","body":"<p>that's because, you are trying to do string concatenation, as your first operand is a string. </p>\n\n<p>try this:</p>\n\n<pre><code>System.out.println(\"The sub is : \"+ (c-d));\n</code></pre>\n\n<p>notice that (c-d) in brackets.</p>\n\n<p>compiler would complain that <code>-</code> operator is un-defined for string and int.</p>\n\n<blockquote>\n  <p>The operator - is undefined for the argument type(s) String, int</p>\n</blockquote>\n\n<p>Note that the <code>Sub is:+ c</code> the result would be a string. now </p>\n\n<pre><code>`Sub is:+ c` - d;\n^^String     - int\n</code></pre>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1356389144,"creation_date":1356389144,"answer_id":14026241,"question_id":14026235,"body_markdown":"You need parentheses around the subtraction:\r\n\r\n    System.out.println(&quot;The sub is : &quot; + (c - d));\r\n\r\nThis is because without parentheses, the `+` and `-` operators have the same priority and associate left-to-right. So the compiler tries to parse it as if it were written:\r\n\r\n    System.out.println((&quot;The sub is : &quot; + c) - d);\r\n\r\nThe first part is okay and is an expression that produces a `String` result. Unfortunately, there is then no way to apply the `-` operator to an expression where the left side is a `String` and the right side is an `int`.","title":"Why do I get an error when using - to substract an int in a println statement?","body":"<p>You need parentheses around the subtraction:</p>\n\n<pre><code>System.out.println(\"The sub is : \" + (c - d));\n</code></pre>\n\n<p>This is because without parentheses, the <code>+</code> and <code>-</code> operators have the same priority and associate left-to-right. So the compiler tries to parse it as if it were written:</p>\n\n<pre><code>System.out.println((\"The sub is : \" + c) - d);\n</code></pre>\n\n<p>The first part is okay and is an expression that produces a <code>String</code> result. Unfortunately, there is then no way to apply the <code>-</code> operator to an expression where the left side is a <code>String</code> and the right side is an <code>int</code>.</p>\n"},{"tags":[],"owner":{"display_name":"user1638624"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1356389153,"creation_date":1356389153,"answer_id":14026243,"question_id":14026235,"body_markdown":"use\r\n\r\n    System.out.println(&quot;The sub is : &quot;+ (c-d));\r\n\r\ninstead of \r\n\r\n    System.out.println(&quot;The sub is : &quot;+ c-d);\r\n\r\nand check if its working now.","title":"Why do I get an error when using - to substract an int in a println statement?","body":"<p>use</p>\n\n<pre><code>System.out.println(\"The sub is : \"+ (c-d));\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>System.out.println(\"The sub is : \"+ c-d);\n</code></pre>\n\n<p>and check if its working now.</p>\n"}],"owner":{"display_name":"user1809979"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2494,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":14026243,"answer_count":3,"score":2,"last_activity_date":1660932871,"creation_date":1356389085,"question_id":14026235,"body_markdown":"I am facing an error in the following program at the last print statement, but I don&#39;t know the exact reason behind it.\r\n\r\nPlease let me know the reason for the error.\r\n\r\n    import java.util.Scanner;\r\n    public class main\r\n    {\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tint c,d;\r\n    \t\tScanner s = new Scanner(System.in);\r\n    \t\tSystem.out.print(&quot;Enter the first number : &quot;);\r\n    \t\tc = s.nextInt();\r\n    \t\tSystem.out.print(&quot;Enter the second number : &quot;);\r\n    \t\td = s.nextInt();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;The sub is : &quot;+ c-d);\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n","title":"Why do I get an error when using - to substract an int in a println statement?","body":"<p>I am facing an error in the following program at the last print statement, but I don't know the exact reason behind it.</p>\n<p>Please let me know the reason for the error.</p>\n<pre><code>import java.util.Scanner;\npublic class main\n{\n    public static void main(String args[])\n    {\n        int c,d;\n        Scanner s = new Scanner(System.in);\n        System.out.print(&quot;Enter the first number : &quot;);\n        c = s.nextInt();\n        System.out.print(&quot;Enter the second number : &quot;);\n        d = s.nextInt();\n        \n        System.out.println(&quot;The sub is : &quot;+ c-d);\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1660933706,"post_id":73420555,"comment_id":129659076,"body_markdown":"The scenario you describe works fine on my machine (as expected). Check if both programs really use the same jar (i.e. a jar file that applies the same key and the same IV).","body":"The scenario you describe works fine on my machine (as expected). Check if both programs really use the same jar (i.e. a jar file that applies the same key and the same IV)."},{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":1,"creation_date":1660976333,"post_id":73420555,"comment_id":129665288,"body_markdown":"**Security warning**: the usage of a static = fixed IV is **unsecure** in most use cases, use a random IV instead. Please do not use the code above in real production environments, thanks.","body":"<b>Security warning</b>: the usage of a static = fixed IV is <b>unsecure</b> in most use cases, use a random IV instead. Please do not use the code above in real production environments, thanks."},{"owner":{"account_id":6333868,"reputation":29,"user_id":4917962,"display_name":"Bill"},"score":0,"creation_date":1661177802,"post_id":73420555,"comment_id":129703594,"body_markdown":"The first iten I checked was for multiple jars. There is only 1 copy of the jar file and I created a new project set and started from source just to ensure that maven wasn&#39;t the problem. I also, deleted my repository copy before rebuildinng from the source.","body":"The first iten I checked was for multiple jars. There is only 1 copy of the jar file and I created a new project set and started from source just to ensure that maven wasn&#39;t the problem. I also, deleted my repository copy before rebuildinng from the source."}],"owner":{"account_id":6333868,"reputation":29,"user_id":4917962,"display_name":"Bill"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":404,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1660931545,"creation_date":1660931545,"question_id":73420555,"body_markdown":"I am getting the error &quot;javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.&quot; when I am trying to decrypt a text string. I have 2 programs one that encrypts the string and one that decrypts the string. They both use a common jar file. The encryption program can decrypt the encrypted string correctly, so I know the decrypt function works correctly. I have verified that the string to be decrypted in the second program is correct. I don&#39;t understand why the second program doesn&#39;t work. Incluced is common module code. The first program just call the encrypt function and to verify calls the decrypt function. The second program is just a call to the decrypt function.\r\n\r\n```\r\npublic class EncryptionUtility {\r\n\r\n    private static byte[] key_data = { (byte) 0x01, (byte) 0x02, (byte) 0x03, (byte) 0x04, (byte) 0x05, (byte) 0x06, (byte) 0x07, (byte) 0x08,\r\n            (byte) 0x09, (byte) 0x0a, (byte) 0x0b, (byte) 0x0c, (byte) 0x0d, (byte) 0x0e, (byte) 0x0f, (byte) 0x10 };\r\n\r\n    private static byte[] iv_data = { (byte) 0x01, (byte) 0x02, (byte) 0x03, (byte) 0x04, (byte) 0x05, (byte) 0x06, (byte) 0x07, (byte) 0x08,\r\n            (byte) 0x09, (byte) 0x0a, (byte) 0x0b, (byte) 0x0c, (byte) 0x0d, (byte) 0x0e, (byte) 0x0f, (byte) 0x10 };\r\n\r\n    private static Cipher aes = null;\r\n\r\n    static {\r\n        try {\r\n            aes = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n        } catch (NoSuchAlgorithmException | NoSuchPaddingException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private EncryptionUtility() {\r\n    }\r\n\r\n    public static String encrypt(String target) throws GeneralSecurityException {\r\n\r\n        if (aes != null) {\r\n            SecretKey key = new SecretKeySpec(key_data, &quot;aes&quot;);\r\n            IvParameterSpec iv = new IvParameterSpec(iv_data);\r\n            aes.init(Cipher.ENCRYPT_MODE, key, iv);\r\n            return base64Encode(aes.doFinal(target.getBytes(StandardCharsets.UTF_8)));\r\n        } else {\r\n            throw new GeneralSecurityException(&quot;Encryption failed to initialize.&quot;);\r\n        }\r\n    }\r\n\r\n    private static String base64Encode(byte[] encrypted) {\r\n        return Base64.getEncoder().encodeToString(encrypted);\r\n    }\r\n\r\n    public static String decrypt(String encrypted) throws GeneralSecurityException, IOException {\r\n\r\n        if (aes != null) {\r\n            SecretKey key = new SecretKeySpec(key_data, &quot;aes&quot;);\r\n            IvParameterSpec iv = new IvParameterSpec(iv_data);\r\n            aes.init(Cipher.DECRYPT_MODE, key, iv);\r\n            return new String(aes.doFinal(base64Decode(encrypted)), StandardCharsets.UTF_8);\r\n        } else {\r\n            throw new GeneralSecurityException(&quot;Encryption failed to initialize.&quot;);\r\n        }\r\n    }\r\n\r\n    private static byte[] base64Decode(String property) throws IOException {\r\n        return Base64.getDecoder().decode(property);\r\n    }\r\n```\r\n","title":"javax.crypto.BadPaddingException: Given final block not properly padded. Error","body":"<p>I am getting the error &quot;javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.&quot; when I am trying to decrypt a text string. I have 2 programs one that encrypts the string and one that decrypts the string. They both use a common jar file. The encryption program can decrypt the encrypted string correctly, so I know the decrypt function works correctly. I have verified that the string to be decrypted in the second program is correct. I don't understand why the second program doesn't work. Incluced is common module code. The first program just call the encrypt function and to verify calls the decrypt function. The second program is just a call to the decrypt function.</p>\n<pre><code>public class EncryptionUtility {\n\n    private static byte[] key_data = { (byte) 0x01, (byte) 0x02, (byte) 0x03, (byte) 0x04, (byte) 0x05, (byte) 0x06, (byte) 0x07, (byte) 0x08,\n            (byte) 0x09, (byte) 0x0a, (byte) 0x0b, (byte) 0x0c, (byte) 0x0d, (byte) 0x0e, (byte) 0x0f, (byte) 0x10 };\n\n    private static byte[] iv_data = { (byte) 0x01, (byte) 0x02, (byte) 0x03, (byte) 0x04, (byte) 0x05, (byte) 0x06, (byte) 0x07, (byte) 0x08,\n            (byte) 0x09, (byte) 0x0a, (byte) 0x0b, (byte) 0x0c, (byte) 0x0d, (byte) 0x0e, (byte) 0x0f, (byte) 0x10 };\n\n    private static Cipher aes = null;\n\n    static {\n        try {\n            aes = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n        } catch (NoSuchAlgorithmException | NoSuchPaddingException ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    private EncryptionUtility() {\n    }\n\n    public static String encrypt(String target) throws GeneralSecurityException {\n\n        if (aes != null) {\n            SecretKey key = new SecretKeySpec(key_data, &quot;aes&quot;);\n            IvParameterSpec iv = new IvParameterSpec(iv_data);\n            aes.init(Cipher.ENCRYPT_MODE, key, iv);\n            return base64Encode(aes.doFinal(target.getBytes(StandardCharsets.UTF_8)));\n        } else {\n            throw new GeneralSecurityException(&quot;Encryption failed to initialize.&quot;);\n        }\n    }\n\n    private static String base64Encode(byte[] encrypted) {\n        return Base64.getEncoder().encodeToString(encrypted);\n    }\n\n    public static String decrypt(String encrypted) throws GeneralSecurityException, IOException {\n\n        if (aes != null) {\n            SecretKey key = new SecretKeySpec(key_data, &quot;aes&quot;);\n            IvParameterSpec iv = new IvParameterSpec(iv_data);\n            aes.init(Cipher.DECRYPT_MODE, key, iv);\n            return new String(aes.doFinal(base64Decode(encrypted)), StandardCharsets.UTF_8);\n        } else {\n            throw new GeneralSecurityException(&quot;Encryption failed to initialize.&quot;);\n        }\n    }\n\n    private static byte[] base64Decode(String property) throws IOException {\n        return Base64.getDecoder().decode(property);\n    }\n</code></pre>\n"},{"tags":["java","legacy-code"],"comments":[{"owner":{"account_id":59387,"reputation":8242,"user_id":177701,"accept_rate":70,"display_name":"Hendrik Brummermann"},"score":8,"creation_date":1293396757,"post_id":4535337,"comment_id":4969627,"body_markdown":"It is not that uncommon. :-/","body":"It is not that uncommon. :-/"},{"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"score":1,"creation_date":1293406166,"post_id":4535337,"comment_id":4970302,"body_markdown":"You tag your question [Java] but mention C++? Could the large classes be generated code?","body":"You tag your question [Java] but mention C++? Could the large classes be generated code?"},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":1,"creation_date":1293411711,"post_id":4535337,"comment_id":4970588,"body_markdown":"@Billworth Vandory: the amazing with such non-uncommon projects that have gigantic classes, zero unit-tests, etc. is that very often they somehow work.  And they work since years (if not decades) and will keep working for years (if not decades).  This is truly a fascinating thought :)","body":"@Billworth Vandory: the amazing with such non-uncommon projects that have gigantic classes, zero unit-tests, etc. is that very often they somehow work.  And they work since years (if not decades) and will keep working for years (if not decades).  This is truly a fascinating thought :)"},{"owner":{"account_id":184009,"reputation":5939,"user_id":419788,"accept_rate":85,"display_name":"Mike Cornell"},"score":0,"creation_date":1294152685,"post_id":4535337,"comment_id":5047407,"body_markdown":"@SpoonBender true, but the cost of maintainance is high.  Which philosophically, is bad. A programmer looking to coast could see this as job security.  I disagree with that perspective.","body":"@SpoonBender true, but the cost of maintainance is high.  Which philosophically, is bad. A programmer looking to coast could see this as job security.  I disagree with that perspective."},{"owner":{"account_id":14684,"reputation":62911,"user_id":30453,"accept_rate":82,"display_name":"IAdapter"},"score":0,"creation_date":1294482956,"post_id":4535337,"comment_id":5097907,"body_markdown":"Is it a Swing or JEE project ? If its Swing than I can understand it. Swing makes you do bad things.","body":"Is it a Swing or JEE project ? If its Swing than I can understand it. Swing makes you do bad things."}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1293396356,"creation_date":1293396356,"answer_id":4535351,"question_id":4535337,"body_markdown":"Oh, I think this a terrible sign, and I don&#39;t have to look at the code to say so.   Sounds like a massive refactoring effort is needed.  \r\n\r\nLet me guess - you have no unit tests for the system as written, either.  You have my sympathy.\r\n ","title":"I&#39;m maintaining a Java class that&#39;s 40K lines long.. problem?","body":"<p>Oh, I think this a terrible sign, and I don't have to look at the code to say so.   Sounds like a massive refactoring effort is needed.  </p>\n\n<p>Let me guess - you have no unit tests for the system as written, either.  You have my sympathy.</p>\n"},{"tags":[],"owner":{"account_id":186816,"reputation":4397,"user_id":424434,"accept_rate":75,"display_name":"Serplat"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1293396557,"creation_date":1293396557,"answer_id":4535365,"question_id":4535337,"body_markdown":"Without looking at the code, it actually remains quite easy to make a determination.  Never should a class be 40K lines, and never should a method be even 1K.  Typically, if I can&#39;t print out a method on a piece of paper and see both the beginning and end brackets, I find a way to split it up.\r\n\r\nMight I ask, are they using OOP principles at all, or are they trying to use Java more as a functional or procedural language?  I can&#39;t imagine a truly OOP project having a 40K line class.","title":"I&#39;m maintaining a Java class that&#39;s 40K lines long.. problem?","body":"<p>Without looking at the code, it actually remains quite easy to make a determination.  Never should a class be 40K lines, and never should a method be even 1K.  Typically, if I can't print out a method on a piece of paper and see both the beginning and end brackets, I find a way to split it up.</p>\n\n<p>Might I ask, are they using OOP principles at all, or are they trying to use Java more as a functional or procedural language?  I can't imagine a truly OOP project having a 40K line class.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1293396582,"creation_date":1293396582,"answer_id":4535366,"question_id":4535337,"body_markdown":"This is definitely not right. A method should not contain more code than sufficient for a single unit of work. A class should not contain more methods than the ones related to the state of the class&#39; instance.\r\n\r\nThis is too much like [God Object anti-pattern][1]. I would personally drop the project and look for another.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/God_object","title":"I&#39;m maintaining a Java class that&#39;s 40K lines long.. problem?","body":"<p>This is definitely not right. A method should not contain more code than sufficient for a single unit of work. A class should not contain more methods than the ones related to the state of the class' instance.</p>\n\n<p>This is too much like <a href=\"http://en.wikipedia.org/wiki/God_object\">God Object anti-pattern</a>. I would personally drop the project and look for another.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1293398226,"creation_date":1293398031,"answer_id":4535443,"question_id":4535337,"body_markdown":"Here are the ten largest class in the JDK 6 by line count of 7209 .java files.  These classes include significant amount of comments which could be longer than the code.\r\n\r\n    4495 ./javax/sql/rowset/BaseRowSet.java\r\n    4649 ./java/awt/Container.java\r\n    5025 ./javax/swing/text/JTextComponent.java\r\n    5246 ./java/util/regex/Pattern.java\r\n    5316 ./javax/swing/JTree.java\r\n    5469 ./java/lang/Character.java\r\n    5473 ./javax/swing/JComponent.java\r\n    9063 ./com/sun/corba/se/impl/logging/ORBUtilSystemException.java\r\n    9595 ./javax/swing/JTable.java\r\n    9982 ./java/awt/Component.java\r\n\r\nI would agree one printed page is long enough for a method. There really should *not* be a need for classes over 10K lines long IMHO.","title":"I&#39;m maintaining a Java class that&#39;s 40K lines long.. problem?","body":"<p>Here are the ten largest class in the JDK 6 by line count of 7209 .java files.  These classes include significant amount of comments which could be longer than the code.</p>\n\n<pre><code>4495 ./javax/sql/rowset/BaseRowSet.java\n4649 ./java/awt/Container.java\n5025 ./javax/swing/text/JTextComponent.java\n5246 ./java/util/regex/Pattern.java\n5316 ./javax/swing/JTree.java\n5469 ./java/lang/Character.java\n5473 ./javax/swing/JComponent.java\n9063 ./com/sun/corba/se/impl/logging/ORBUtilSystemException.java\n9595 ./javax/swing/JTable.java\n9982 ./java/awt/Component.java\n</code></pre>\n\n<p>I would agree one printed page is long enough for a method. There really should <em>not</em> be a need for classes over 10K lines long IMHO.</p>\n"},{"tags":[],"owner":{"account_id":196734,"reputation":19254,"user_id":440336,"accept_rate":90,"display_name":"Jason Rogers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1293439729,"creation_date":1293439729,"answer_id":4537538,"question_id":4535337,"body_markdown":"As a young programmer I still remember my teacher telling us to break up big functions and work on a good OO design before writing code.\r\n\r\nSo unless there is a REALLY good reason in your design to impose 40k lines (which I strongly doubt) then you already have your answer : your class is too big.\r\n\r\nI will quote my wife (who is chemist and doesn&#39;t program) : &quot;40k lines of code, there is something really wrong!&quot;\r\n\r\nI&#39;ve had friends take up projects in their companies that were really old, tossed from one programmer to the over and what we all agreed on is that a class that size simply means:\r\n\r\n-patch and fix : people had to do minor changes here and there and didn&#39;t want to/ didn&#39;t have the time to do it corretly.\r\n\r\nat runtime there might not be any problems with that code, everything works, but usually problems occure when you want to do any form of modifications:\r\n\r\n- it takes ages to find anything\r\n\r\n- when there is a bug you can&#39;t pin point it easily\r\n\r\n...\r\n\r\nIn conclusion I would sit down rethink the oo design of your project and restructure (at least into 1k ~ 5k lines classes to start with), I know its annoying to do bu usually on the long run its better \r\n\r\n","title":"I&#39;m maintaining a Java class that&#39;s 40K lines long.. problem?","body":"<p>As a young programmer I still remember my teacher telling us to break up big functions and work on a good OO design before writing code.</p>\n\n<p>So unless there is a REALLY good reason in your design to impose 40k lines (which I strongly doubt) then you already have your answer : your class is too big.</p>\n\n<p>I will quote my wife (who is chemist and doesn't program) : \"40k lines of code, there is something really wrong!\"</p>\n\n<p>I've had friends take up projects in their companies that were really old, tossed from one programmer to the over and what we all agreed on is that a class that size simply means:</p>\n\n<p>-patch and fix : people had to do minor changes here and there and didn't want to/ didn't have the time to do it corretly.</p>\n\n<p>at runtime there might not be any problems with that code, everything works, but usually problems occure when you want to do any form of modifications:</p>\n\n<ul>\n<li><p>it takes ages to find anything</p></li>\n<li><p>when there is a bug you can't pin point it easily</p></li>\n</ul>\n\n<p>...</p>\n\n<p>In conclusion I would sit down rethink the oo design of your project and restructure (at least into 1k ~ 5k lines classes to start with), I know its annoying to do bu usually on the long run its better </p>\n"},{"tags":[],"owner":{"account_id":9168,"reputation":12722,"user_id":16828,"accept_rate":87,"display_name":"Fortyrunner"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1293441063,"creation_date":1293441063,"answer_id":4537630,"question_id":4535337,"body_markdown":"In 12 years of Java development I can honestly say that this is unusual. \r\n\r\nIn fact; I have never come across files or classes of that size in any language in over 25 years of development.\r\n\r\nCrack out the refactoring tools!\r\n","title":"I&#39;m maintaining a Java class that&#39;s 40K lines long.. problem?","body":"<p>In 12 years of Java development I can honestly say that this is unusual. </p>\n\n<p>In fact; I have never come across files or classes of that size in any language in over 25 years of development.</p>\n\n<p>Crack out the refactoring tools!</p>\n"},{"tags":[],"owner":{"account_id":8792,"reputation":13652,"user_id":15982,"accept_rate":67,"display_name":"Rene Saarsoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1293617504,"creation_date":1293617504,"answer_id":4553187,"question_id":4535337,"body_markdown":"50K lines of code? I thought KLOC was a metric of project size, not file size. That&#39;s like our whole codebase (including tests).\r\n\r\nI&#39;m working with JavaScript, so it&#39;s not directly comparable, but we only have few files that are over 500 lines long - and these are the highly problematic ones.","title":"I&#39;m maintaining a Java class that&#39;s 40K lines long.. problem?","body":"<p>50K lines of code? I thought KLOC was a metric of project size, not file size. That's like our whole codebase (including tests).</p>\n\n<p>I'm working with JavaScript, so it's not directly comparable, but we only have few files that are over 500 lines long - and these are the highly problematic ones.</p>\n"},{"tags":[],"owner":{"account_id":35404,"reputation":171,"user_id":100256,"display_name":"nih"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1293723347,"creation_date":1293723347,"answer_id":4563897,"question_id":4535337,"body_markdown":"I know some section of code needs breaking up when I have problems trying figure out what it does and how. Or if its larger than a screen-shot.\r\n\r\nTypically I refactor it if it makes me feel bad. I don&#39;t like feeling bad :-(\r\n\r\nI suspect the code got out of control because the management just wanted bugfixes/features done and nothing else, and bit by bit it slowly got worse.\r\n\r\nRefactoring the code to make the programmers job easier was probably not very high on their list of priorities. The management always want their bugfixes/features yesterday :-(\r\n\r\nAlso a working program is obviously better than one thats broke, and breaking up code that large without unit-tests would end in disaster. So all the tests would have to be made before touching the code. Yet another reason management wouldn&#39;t allow it.","title":"I&#39;m maintaining a Java class that&#39;s 40K lines long.. problem?","body":"<p>I know some section of code needs breaking up when I have problems trying figure out what it does and how. Or if its larger than a screen-shot.</p>\n\n<p>Typically I refactor it if it makes me feel bad. I don't like feeling bad :-(</p>\n\n<p>I suspect the code got out of control because the management just wanted bugfixes/features done and nothing else, and bit by bit it slowly got worse.</p>\n\n<p>Refactoring the code to make the programmers job easier was probably not very high on their list of priorities. The management always want their bugfixes/features yesterday :-(</p>\n\n<p>Also a working program is obviously better than one thats broke, and breaking up code that large without unit-tests would end in disaster. So all the tests would have to be made before touching the code. Yet another reason management wouldn't allow it.</p>\n"},{"tags":[],"owner":{"account_id":217137,"reputation":37872,"user_id":472792,"accept_rate":50,"display_name":"Arjan Tijms"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1293970670,"creation_date":1293966811,"answer_id":4578138,"question_id":4535337,"body_markdown":"A small thing to pay attention to is the difference between ``lines``, ``lines of code``, and ``statements``. If you analyze your project with e.g. Sonar you can easily see the difference between those.\r\n\r\nNevertheless, whatever the exact measure, 40k lines of business code is **hideous**. \r\n\r\nIn the business module of an enterprise application I develop, the highest number is 444 lines of code. This is for a rather large Service. Most Service classes are between 200 and 100 lines of code. Entities (model objects) are in our situation mostly between 40 and 100 loc.\r\n\r\nIn another part of this same application we have one class that is 1224 lines of code (2477 lines total, 706 statements). This class is almost universally hated within the team because of its size. It&#39;s perceived as bloated, complicated and doing way too much.\r\n\r\nNow if an entire team thinks this about a class that&#39;s *only* 2477 lines total, this may give you some perspective about what kind of abomination a 40k lines class is.","title":"I&#39;m maintaining a Java class that&#39;s 40K lines long.. problem?","body":"<p>A small thing to pay attention to is the difference between <code>lines</code>, <code>lines of code</code>, and <code>statements</code>. If you analyze your project with e.g. Sonar you can easily see the difference between those.</p>\n\n<p>Nevertheless, whatever the exact measure, 40k lines of business code is <strong>hideous</strong>. </p>\n\n<p>In the business module of an enterprise application I develop, the highest number is 444 lines of code. This is for a rather large Service. Most Service classes are between 200 and 100 lines of code. Entities (model objects) are in our situation mostly between 40 and 100 loc.</p>\n\n<p>In another part of this same application we have one class that is 1224 lines of code (2477 lines total, 706 statements). This class is almost universally hated within the team because of its size. It's perceived as bloated, complicated and doing way too much.</p>\n\n<p>Now if an entire team thinks this about a class that's <em>only</em> 2477 lines total, this may give you some perspective about what kind of abomination a 40k lines class is.</p>\n"},{"tags":[],"owner":{"account_id":77251,"reputation":17324,"user_id":220627,"accept_rate":79,"display_name":"Adrian Smith"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1294829643,"creation_date":1294829643,"answer_id":4667931,"question_id":4535337,"body_markdown":"In addition to software maintenance issues described in other answers, be careful of the technical limit that a **compiled Java method may not exceed 64k bytes**. (How many lines of code that will correspond to will depend on the lines themselves.)\r\n\r\nhttp://www.databasesandlife.com/java-method-64k-limit/","title":"I&#39;m maintaining a Java class that&#39;s 40K lines long.. problem?","body":"<p>In addition to software maintenance issues described in other answers, be careful of the technical limit that a <strong>compiled Java method may not exceed 64k bytes</strong>. (How many lines of code that will correspond to will depend on the lines themselves.)</p>\n\n<p><a href=\"http://www.databasesandlife.com/java-method-64k-limit/\" rel=\"noreferrer\">http://www.databasesandlife.com/java-method-64k-limit/</a></p>\n"},{"tags":[],"owner":{"account_id":79742,"reputation":19393,"user_id":225899,"accept_rate":85,"display_name":"James P."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1296961720,"creation_date":1296961720,"answer_id":4911275,"question_id":4535337,"body_markdown":"An alarm bell started going off when I read through this :\r\n\r\n&gt; It&#39;s mostly business logic dealing\r\n&gt; with DB tables and data management,\r\n&gt; full of conditional statements to\r\n&gt; handle the use cases.\r\n\r\nIf this code isn&#39;t in the data layer and there is no abstraction with respect to how the database is accessed, something is wrong. I also have the feeling that some of these methods aren&#39;t directly related to the classes where they are found. The comment about conditional statements and use cases doesn&#39;t sound right either. I&#39;ll echo duffymo&#39;s comment that some refactoring would be needed. \r\n","title":"I&#39;m maintaining a Java class that&#39;s 40K lines long.. problem?","body":"<p>An alarm bell started going off when I read through this :</p>\n\n<blockquote>\n  <p>It's mostly business logic dealing\n  with DB tables and data management,\n  full of conditional statements to\n  handle the use cases.</p>\n</blockquote>\n\n<p>If this code isn't in the data layer and there is no abstraction with respect to how the database is accessed, something is wrong. I also have the feeling that some of these methods aren't directly related to the classes where they are found. The comment about conditional statements and use cases doesn't sound right either. I'll echo duffymo's comment that some refactoring would be needed. </p>\n"},{"tags":[],"owner":{"account_id":2761285,"reputation":386,"user_id":2378133,"display_name":"ylax"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394488198,"creation_date":1394487830,"answer_id":22311979,"question_id":4535337,"body_markdown":"I think your aghastness is qualified :) I can&#39;t imagine that the program is properly OOPified. Classes are a bit tougher to classify, but methods are easy: 1 behavior per method (that&#39;s not a rule, but it should be). Behaviors can&#39;t possibly be even close 1k lines of code. At least, as far as my imagination will take me.\r\n\r\nClasses, on the other hand, can represent many things but they should represent *something*. If it is difficult to tell *what* the class represents, then you have a problem.\r\n\r\nNow, I half imagine that you are well aware of these concepts and I&#39;m preaching to the choir. So, I&#39;ll just pretend like I didn&#39;t go off on a tangent there and answer your question directly:\r\n\r\nYes. Very unfortunately, it is remarkably common for large enterprise projects to have code that lazy.  I have worked on projects almost as large (yours shoots anything I&#39;ve seen out of the water) and my first tendency is to start breaking things up into logical components, particularly in places where I intend on making changes. I can&#39;t handle that kind spaghetti, it&#39;s too irritating.","title":"I&#39;m maintaining a Java class that&#39;s 40K lines long.. problem?","body":"<p>I think your aghastness is qualified :) I can't imagine that the program is properly OOPified. Classes are a bit tougher to classify, but methods are easy: 1 behavior per method (that's not a rule, but it should be). Behaviors can't possibly be even close 1k lines of code. At least, as far as my imagination will take me.</p>\n\n<p>Classes, on the other hand, can represent many things but they should represent <em>something</em>. If it is difficult to tell <em>what</em> the class represents, then you have a problem.</p>\n\n<p>Now, I half imagine that you are well aware of these concepts and I'm preaching to the choir. So, I'll just pretend like I didn't go off on a tangent there and answer your question directly:</p>\n\n<p>Yes. Very unfortunately, it is remarkably common for large enterprise projects to have code that lazy.  I have worked on projects almost as large (yours shoots anything I've seen out of the water) and my first tendency is to start breaking things up into logical components, particularly in places where I intend on making changes. I can't handle that kind spaghetti, it's too irritating.</p>\n"}],"owner":{"account_id":173934,"reputation":5023,"user_id":402963,"accept_rate":100,"display_name":"Billworth Vandory"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4129,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":4535443,"answer_count":12,"score":23,"last_activity_date":1660931452,"creation_date":1293396098,"question_id":4535337,"body_markdown":"This may be a subjective question leading to deletion but I would really like some feedback.\r\n\r\nRecently, I moved to another very large enterprise project where I work as a developer.  I was aghast to find most classes in the project are anywhere from 8K to 50K lines long with methods that are 1K to 8K lines long.  It&#39;s mostly business logic dealing with DB tables and data management, full of conditional statements to handle the use cases.\r\n\r\nAre classes this large common in large enterprise systems? I realize without looking at the code it&#39;s hard to make a determination, but have you ever worked on a system with classes this large?","title":"I&#39;m maintaining a Java class that&#39;s 40K lines long.. problem?","body":"<p>This may be a subjective question leading to deletion but I would really like some feedback.</p>\n\n<p>Recently, I moved to another very large enterprise project where I work as a developer.  I was aghast to find most classes in the project are anywhere from 8K to 50K lines long with methods that are 1K to 8K lines long.  It's mostly business logic dealing with DB tables and data management, full of conditional statements to handle the use cases.</p>\n\n<p>Are classes this large common in large enterprise systems? I realize without looking at the code it's hard to make a determination, but have you ever worked on a system with classes this large?</p>\n"},{"tags":["c#","java",".net","weborb"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1370320080,"post_id":16909803,"comment_id":24406168,"body_markdown":"[This](http://stackoverflow.com/questions/2591935/call-any-java-method-from-c-sharp) may help you","body":"<a href=\"http://stackoverflow.com/questions/2591935/call-any-java-method-from-c-sharp\">This</a> may help you"}],"answers":[{"tags":[],"owner":{"account_id":256358,"reputation":1875,"user_id":537028,"accept_rate":100,"display_name":"chamakits"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1370323846,"creation_date":1370323846,"answer_id":16910431,"question_id":16909803,"body_markdown":"If you want to communicate between C# and Java you have a couple of options.  \r\n\r\nThe cleanest:  Build a service.\r\n===============================\r\nThis assumes you have access to the source code of both your C# component and your Java component.  In the case that you want to call a method within Java, you can build a service that allows a connection from your C# client, to your Java service, and the service then executes the desired functionality, and returns a value back to the C# client. Some easy ways to do this is by building a [RESTful service][1] or using [Thrift][2].  I recommend you choose a solution similar to this one.\r\n\r\nThe most complex:  Corba\r\n========================\r\n[Corba][3] is a standard defined to communicate amongst different computer languages.  Most mature languages have support for it, but it is a bit unusual, and the use of it has declined in favor of building service.  This also assumes access to both source codes.\r\nYou&#39;d have to independently look for the information regarding how to use Corba on both Java and C#.  I would ***really*** advice against this.\r\n\r\nThe dirtiest but quickest:  Execute as process and parse output\r\n===============================================================\r\nI really do NOT recommend you to do it this way unless you really have no choice.  This would entail executing a Java program from within C#.  This is only a good choice when you have no other option, because all you have is an executable.  If that were the case, you can use the [Process][4] class to execute the external program, sending it parameters, and then reading the output.  See the example mentioned here:\r\nhttps://stackoverflow.com/questions/181719/how-to-start-a-process-from-c\r\n\r\nThis has many downsides though, as you&#39;ll have to think of every exceptional cause, determine the output for those cases, and then determine how to parse that output.  If the program has any level of complexity, before you know it, you&#39;ll end up with hard to maintain code.\r\n\r\nConclusion:  Build a Service\r\n============================\r\nThat&#39;s probably your best bet.  Build a service that exposes an API that the C# client can call on.\r\n\r\n\r\n  [1]: http://rest.elkstein.org/\r\n  [2]: http://thrift.apache.org/\r\n  [3]: http://en.wikipedia.org/wiki/Corba\r\n  [4]: http://msdn.microsoft.com/en-us/library/system.diagnostics.process.aspx","title":"Call Java function using .Net(C#)","body":"<p>If you want to communicate between C# and Java you have a couple of options.  </p>\n\n<h1>The cleanest:  Build a service.</h1>\n\n<p>This assumes you have access to the source code of both your C# component and your Java component.  In the case that you want to call a method within Java, you can build a service that allows a connection from your C# client, to your Java service, and the service then executes the desired functionality, and returns a value back to the C# client. Some easy ways to do this is by building a <a href=\"http://rest.elkstein.org/\" rel=\"nofollow noreferrer\">RESTful service</a> or using <a href=\"http://thrift.apache.org/\" rel=\"nofollow noreferrer\">Thrift</a>.  I recommend you choose a solution similar to this one.</p>\n\n<h1>The most complex:  Corba</h1>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Corba\" rel=\"nofollow noreferrer\">Corba</a> is a standard defined to communicate amongst different computer languages.  Most mature languages have support for it, but it is a bit unusual, and the use of it has declined in favor of building service.  This also assumes access to both source codes.\nYou'd have to independently look for the information regarding how to use Corba on both Java and C#.  I would <strong><em>really</em></strong> advice against this.</p>\n\n<h1>The dirtiest but quickest:  Execute as process and parse output</h1>\n\n<p>I really do NOT recommend you to do it this way unless you really have no choice.  This would entail executing a Java program from within C#.  This is only a good choice when you have no other option, because all you have is an executable.  If that were the case, you can use the <a href=\"http://msdn.microsoft.com/en-us/library/system.diagnostics.process.aspx\" rel=\"nofollow noreferrer\">Process</a> class to execute the external program, sending it parameters, and then reading the output.  See the example mentioned here:\n<a href=\"https://stackoverflow.com/questions/181719/how-to-start-a-process-from-c\">How do I start a process from C#?</a></p>\n\n<p>This has many downsides though, as you'll have to think of every exceptional cause, determine the output for those cases, and then determine how to parse that output.  If the program has any level of complexity, before you know it, you'll end up with hard to maintain code.</p>\n\n<h1>Conclusion:  Build a Service</h1>\n\n<p>That's probably your best bet.  Build a service that exposes an API that the C# client can call on.</p>\n"},{"tags":[],"owner":{"account_id":15608496,"reputation":147,"user_id":11260598,"display_name":"domusmagister"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660931447,"creation_date":1587127552,"answer_id":61272030,"question_id":16909803,"body_markdown":"We are using [JCOBridge][1] package: it is able to create a bidirectional invocation of Java API from C# (.NET Core/6/Framework).\r\nThe templates available on [Templates][2] was our good starting point for the needs we had. We reach the goal in few lines of code.\r\n\r\n**UPDATE 2022**: the [JNet][3] project on GitHub can be used as a starting point. Another project is [KNet][4], hosted on GitHub and based on [JNet][3], that is a gateway for Apache Kafka Java API.\r\n\r\n\r\n  [1]: https://www.nuget.org/packages/MASES.JCOBridge/\r\n  [2]: https://www.nuget.org/packages/MASES.JCOBridge.Templates/\r\n  [3]: https://github.com/masesgroup/JNet\r\n  [4]: https://github.com/masesgroup/KNet","title":"Call Java function using .Net(C#)","body":"<p>We are using <a href=\"https://www.nuget.org/packages/MASES.JCOBridge/\" rel=\"nofollow noreferrer\">JCOBridge</a> package: it is able to create a bidirectional invocation of Java API from C# (.NET Core/6/Framework).\nThe templates available on <a href=\"https://www.nuget.org/packages/MASES.JCOBridge.Templates/\" rel=\"nofollow noreferrer\">Templates</a> was our good starting point for the needs we had. We reach the goal in few lines of code.</p>\n<p><strong>UPDATE 2022</strong>: the <a href=\"https://github.com/masesgroup/JNet\" rel=\"nofollow noreferrer\">JNet</a> project on GitHub can be used as a starting point. Another project is <a href=\"https://github.com/masesgroup/KNet\" rel=\"nofollow noreferrer\">KNet</a>, hosted on GitHub and based on <a href=\"https://github.com/masesgroup/JNet\" rel=\"nofollow noreferrer\">JNet</a>, that is a gateway for Apache Kafka Java API.</p>\n"}],"owner":{"account_id":1733271,"reputation":2180,"user_id":1586394,"accept_rate":81,"display_name":"maddygoround"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6760,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":16910431,"answer_count":2,"score":1,"last_activity_date":1660931447,"creation_date":1370319979,"question_id":16909803,"body_markdown":"is it possible to invoke function which is written in Java using WCF or any class application written in C#  .net\r\n\r\nCan it be possible by using webOrb..\r\ni can&#39;t find enough information about Java to .Net remoting..\r\n","title":"Call Java function using .Net(C#)","body":"<p>is it possible to invoke function which is written in Java using WCF or any class application written in C#  .net</p>\n\n<p>Can it be possible by using webOrb..\ni can't find enough information about Java to .Net remoting..</p>\n"},{"tags":["java","repository","maven-2"],"answers":[{"tags":[],"owner":{"account_id":17419,"reputation":41146,"user_id":38971,"accept_rate":97,"display_name":"cgp"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1245860190,"creation_date":1245860190,"answer_id":1039389,"question_id":1039362,"body_markdown":"Perhaps this is obvious, but, for reproducibility, developers should never overwrite artifacts, they should be new versions. \r\n\r\nThis also applies to upstream repositories. If you download Apache-commons version 1.2.3, you should really never download it again. Fixes come from latter versions, not applied to existing versions.","title":"Tips for maintaining an internal Maven Repository?","body":"<p>Perhaps this is obvious, but, for reproducibility, developers should never overwrite artifacts, they should be new versions. </p>\n\n<p>This also applies to upstream repositories. If you download Apache-commons version 1.2.3, you should really never download it again. Fixes come from latter versions, not applied to existing versions.</p>\n"},{"tags":[],"owner":{"account_id":40332,"reputation":8882,"user_id":116880,"accept_rate":94,"display_name":"stevedbrown"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1245861263,"creation_date":1245860446,"answer_id":1039406,"question_id":1039362,"body_markdown":"Use [Artifactory][1].\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/artifactory/","title":"Tips for maintaining an internal Maven Repository?","body":"<p>Use <a href=\"http://sourceforge.net/projects/artifactory/\" rel=\"nofollow noreferrer\">Artifactory</a>.</p>\n"},{"tags":[],"owner":{"account_id":17419,"reputation":41146,"user_id":38971,"accept_rate":97,"display_name":"cgp"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1245862400,"creation_date":1245861183,"answer_id":1039477,"question_id":1039362,"body_markdown":"Definitely use [Nexus][1]. :P\r\n\r\nI&#39;ve used both Nexus and Artifactory. The interface for Nexus is a lot more robust, it&#39;s a lot more configurable, and of course, written by [Sonatype][2], who repesents pretty much everything Maven well.\r\n\r\nThat being said, Artifactory is decent and workable.\r\n\r\n* [A review of Nexus vs. Artifactory][3]\r\n* [Oh my! Of course, here&#39;s a SO quesiton about the matter.][4]\r\n* [Sonatype does a feature comparison][5]\r\n* [jFrog (maker of Artifactory) does a feature comparison][6] \r\n\r\n  [1]: http://nexus.sonatype.org/\r\n  [2]: http://www.sonatype.com/\r\n  [3]: http://cfossguy.blogspot.com/2008/09/my-artifactory-versus-nexus-experience.html\r\n  [4]: https://stackoverflow.com/questions/364775/should-we-use-nexus-or-artifactory-for-a-maven-repo\r\n  [5]: http://www.sonatype.com/people/2009/01/contrasting-nexus-and-artifactory/\r\n  [6]: http://blogs.jfrog.org/2009/01/contrasting-artifactory-and-nexus.html","title":"Tips for maintaining an internal Maven Repository?","body":"<p>Definitely use <a href=\"http://nexus.sonatype.org/\" rel=\"nofollow noreferrer\">Nexus</a>. :P</p>\n\n<p>I've used both Nexus and Artifactory. The interface for Nexus is a lot more robust, it's a lot more configurable, and of course, written by <a href=\"http://www.sonatype.com/\" rel=\"nofollow noreferrer\">Sonatype</a>, who repesents pretty much everything Maven well.</p>\n\n<p>That being said, Artifactory is decent and workable.</p>\n\n<ul>\n<li><a href=\"http://cfossguy.blogspot.com/2008/09/my-artifactory-versus-nexus-experience.html\" rel=\"nofollow noreferrer\">A review of Nexus vs. Artifactory</a></li>\n<li><a href=\"https://stackoverflow.com/questions/364775/should-we-use-nexus-or-artifactory-for-a-maven-repo\">Oh my! Of course, here's a SO quesiton about the matter.</a></li>\n<li><a href=\"http://www.sonatype.com/people/2009/01/contrasting-nexus-and-artifactory/\" rel=\"nofollow noreferrer\">Sonatype does a feature comparison</a></li>\n<li><a href=\"http://blogs.jfrog.org/2009/01/contrasting-artifactory-and-nexus.html\" rel=\"nofollow noreferrer\">jFrog (maker of Artifactory) does a feature comparison</a> </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15083,"reputation":22025,"user_id":31506,"display_name":"Jack Leow"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1245863073,"creation_date":1245863073,"answer_id":1039669,"question_id":1039362,"body_markdown":"I am using Artifactory myself, and love the user interface and ease of deployment/maintenance. That said, I have never used Nexus, and cannot really help you with a proper feature comparison.\r\n\r\nHere are some things off the top of my head that I really like about Artifactory (keep in mind Nexus may have these features too):\r\n\r\n1. Nice Web 2.0 interface.\r\n2. The ability to import your local Maven repository to help get you started.\r\n3. Ease of integration with existing LDAP servers for security (I&#39;m a big fan of a single repository for storing credentials).\r\n\r\nGiven that there&#39;s really only two major Maven Repository implementation out there, if you really want to make sure you&#39;ve made the right choice, I&#39;d recommend trying both out, and deciding for yourself which you like better.","title":"Tips for maintaining an internal Maven Repository?","body":"<p>I am using Artifactory myself, and love the user interface and ease of deployment/maintenance. That said, I have never used Nexus, and cannot really help you with a proper feature comparison.</p>\n\n<p>Here are some things off the top of my head that I really like about Artifactory (keep in mind Nexus may have these features too):</p>\n\n<ol>\n<li>Nice Web 2.0 interface.</li>\n<li>The ability to import your local Maven repository to help get you started.</li>\n<li>Ease of integration with existing LDAP servers for security (I'm a big fan of a single repository for storing credentials).</li>\n</ol>\n\n<p>Given that there's really only two major Maven Repository implementation out there, if you really want to make sure you've made the right choice, I'd recommend trying both out, and deciding for yourself which you like better.</p>\n"},{"tags":[],"owner":{"account_id":877401,"reputation":131,"user_id":103381,"display_name":"Brad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1245921924,"creation_date":1245921924,"answer_id":1042867,"question_id":1039362,"body_markdown":"Something else to consider:\r\n\r\nhttp://archiva.apache.org/","title":"Tips for maintaining an internal Maven Repository?","body":"<p>Something else to consider:</p>\n\n<p><a href=\"http://archiva.apache.org/\" rel=\"nofollow noreferrer\">http://archiva.apache.org/</a></p>\n"},{"tags":[],"owner":{"account_id":565402,"reputation":39,"user_id":199506,"display_name":"Guy"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1256891481,"creation_date":1256891481,"answer_id":1648619,"question_id":1039362,"body_markdown":"As the the **ORIGINAL QUESTION** (technical issues to consider when constructing a M2 repository), I would recommend creating read-only user for browsing the repository and administrative user per administrator (that said: one read-only user for all those users that are not administrators).\r\nMoreover, I would recommend generating backup images periodically (once a day perhaps ?). Very important both if your repository is big or you install your own artifacts from time to time.\r\n\r\nLast, but not least, when adding new remote repositories, you must add inclusion/exclusion filters so an artifact lookup in the repository would be done more quickly.\r\n\r\nThere are lots of other issues to consider, but these are the leading issues I&#39;ve encountered while managing a Maven internal repository.\r\n\r\nFor the record, I&#39;m using both Nexus and Artifactory; I can clearly state that while Nexus is very simple and operative (though I sometimes have problems with the installation process on Ubuntu), its free version cannot compete with Artifactory&#39;s community (free) edition.\r\nExcluding Artifactory&#39;s awesome web 2 UI, its main features, such as security management, periodic backups, and accessibility issues are way beyond those of Nexus.\r\n\r\n","title":"Tips for maintaining an internal Maven Repository?","body":"<p>As the the <strong>ORIGINAL QUESTION</strong> (technical issues to consider when constructing a M2 repository), I would recommend creating read-only user for browsing the repository and administrative user per administrator (that said: one read-only user for all those users that are not administrators).\nMoreover, I would recommend generating backup images periodically (once a day perhaps ?). Very important both if your repository is big or you install your own artifacts from time to time.</p>\n\n<p>Last, but not least, when adding new remote repositories, you must add inclusion/exclusion filters so an artifact lookup in the repository would be done more quickly.</p>\n\n<p>There are lots of other issues to consider, but these are the leading issues I've encountered while managing a Maven internal repository.</p>\n\n<p>For the record, I'm using both Nexus and Artifactory; I can clearly state that while Nexus is very simple and operative (though I sometimes have problems with the installation process on Ubuntu), its free version cannot compete with Artifactory's community (free) edition.\nExcluding Artifactory's awesome web 2 UI, its main features, such as security management, periodic backups, and accessibility issues are way beyond those of Nexus.</p>\n"},{"tags":[],"owner":{"account_id":7835,"reputation":23463,"user_id":13753,"accept_rate":85,"display_name":"sal"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1265899030,"creation_date":1256915612,"answer_id":1650403,"question_id":1039362,"body_markdown":"I would recommend setting up one nexus server with at least four repositories. I would not recommend artifactory. The free version of nexus is perfectly fine for a dev team of less than 20 in less than three groups. If you have more users than that, do yourself a favor and pay for the Sonatype release. The LDAP integration pays for itself.\r\n\r\n1. Internal Release \r\n1. Internal Snapshot \r\n1. **Internal 3rd Party** for code used in house that comes from outside sources, or for endorsed 3rd party versions. Put the JDBC drivers,  javax.* stuff and stuff from clients and partners here.\r\n1. **External Proxies** common proxy for all the usual sources like m2, codehaus etc\r\n\r\nConfigure Nexus to do the following for internal repos\r\n\r\n1. Delete old Snapshots on regular intervals\r\n1. Delete Snapshots on release\r\n1. Build index files. This speeds up local builds too\r\n\r\n**Have a common settings.xml file that uses these four and only these four sources.** If you need to customize beyond this try to keep a *common part* of the settings file and use *profiles for the differences.* Do not let your clients just roll their own settings or you will end up with code that builds on one machine but not on any other machine.\r\n\r\n**Provide a common proxy for your clients.** In Nexus, you can add a bunch of proxies to the common Maven sources (Apache, JBoss, Codehaus) and have a single proxy exposed to the internal clients. This makes adding and removing sources from your clients much easier. \r\n\r\n**Don&#39;t mix Internal and 3rd party artifacts** in the same repository. Nexus allows you to add jars to an internal repository via a web gui. I recommend this as the way of adding your JDBC drivers and other external code to 3rd party. The UI is quite nice to use when compared to most *enterprise software*.\r\n\r\n**Define a common parent POM** that defines the Internal snapshot and release repos via the **distributionManagement** tag. I know lots of people tell you not to do this. And while I freely admit that there are all kinds of problems with doing this, it works out OK if the clients will only be building releases and snapshots to be deployed to a single internal repository. \r\n\r\n**If you have an existing mis-managed Maven repository**, create a 5th repos called *Legacy* and put the whole repos there. Set up a cron task to delete old files from legacy once they are a year old. That gives everyone a year to move off of it and update their poms. \r\n\r\n**Establish an easy to stick to naming convention for internal artifacts.** I prefer GroupID of *Department.Function.Project* and an ArtifactId for that *componentName*. For internal repositories, com/org/net and the company name are likely to be irrelevant. And wrong if the company changes its name. It is far less likely that the sales, accounting or inventory department will be renamed. \r\n","title":"Tips for maintaining an internal Maven Repository?","body":"<p>I would recommend setting up one nexus server with at least four repositories. I would not recommend artifactory. The free version of nexus is perfectly fine for a dev team of less than 20 in less than three groups. If you have more users than that, do yourself a favor and pay for the Sonatype release. The LDAP integration pays for itself.</p>\n\n<ol>\n<li>Internal Release </li>\n<li>Internal Snapshot </li>\n<li><strong>Internal 3rd Party</strong> for code used in house that comes from outside sources, or for endorsed 3rd party versions. Put the JDBC drivers,  javax.* stuff and stuff from clients and partners here.</li>\n<li><strong>External Proxies</strong> common proxy for all the usual sources like m2, codehaus etc</li>\n</ol>\n\n<p>Configure Nexus to do the following for internal repos</p>\n\n<ol>\n<li>Delete old Snapshots on regular intervals</li>\n<li>Delete Snapshots on release</li>\n<li>Build index files. This speeds up local builds too</li>\n</ol>\n\n<p><strong>Have a common settings.xml file that uses these four and only these four sources.</strong> If you need to customize beyond this try to keep a <em>common part</em> of the settings file and use <em>profiles for the differences.</em> Do not let your clients just roll their own settings or you will end up with code that builds on one machine but not on any other machine.</p>\n\n<p><strong>Provide a common proxy for your clients.</strong> In Nexus, you can add a bunch of proxies to the common Maven sources (Apache, JBoss, Codehaus) and have a single proxy exposed to the internal clients. This makes adding and removing sources from your clients much easier. </p>\n\n<p><strong>Don't mix Internal and 3rd party artifacts</strong> in the same repository. Nexus allows you to add jars to an internal repository via a web gui. I recommend this as the way of adding your JDBC drivers and other external code to 3rd party. The UI is quite nice to use when compared to most <em>enterprise software</em>.</p>\n\n<p><strong>Define a common parent POM</strong> that defines the Internal snapshot and release repos via the <strong>distributionManagement</strong> tag. I know lots of people tell you not to do this. And while I freely admit that there are all kinds of problems with doing this, it works out OK if the clients will only be building releases and snapshots to be deployed to a single internal repository. </p>\n\n<p><strong>If you have an existing mis-managed Maven repository</strong>, create a 5th repos called <em>Legacy</em> and put the whole repos there. Set up a cron task to delete old files from legacy once they are a year old. That gives everyone a year to move off of it and update their poms. </p>\n\n<p><strong>Establish an easy to stick to naming convention for internal artifacts.</strong> I prefer GroupID of <em>Department.Function.Project</em> and an ArtifactId for that <em>componentName</em>. For internal repositories, com/org/net and the company name are likely to be irrelevant. And wrong if the company changes its name. It is far less likely that the sales, accounting or inventory department will be renamed. </p>\n"}],"owner":{"account_id":23695,"reputation":4225,"user_id":59561,"accept_rate":69,"display_name":"cwash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8087,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":1650403,"answer_count":7,"score":29,"last_activity_date":1660931425,"creation_date":1245859898,"question_id":1039362,"body_markdown":"I&#39;m interested in maintaining a [Maven][1] 2 repository for my organization.  What are the some of the pointers and pitfalls that would help.\r\n\r\nWhat are guidelines for users to follow when setting up standards for downloading from or publishing their own artifacts to the repository when releasing their code?  What kinds of governance/rules do you have in place for this type of thing? What do you include about it in your developer&#39;s guide/documentation?\r\n\r\n**UPDATE**: We&#39;ve stood up Nexus and have been very happy with it - followed most of Sal&#39;s guidelines and haven&#39;t had any trouble.  In addition, we&#39;ve restricted deploy access and automated build/deployment of snapshot artifacts through a Hudson CI server.  Hudson can analyze all of the upstream/downstream project dependencies, so if a compilation problem, test failure, or some other violation causes the build to break, no deployment will occur.  Be weary of doing snapshot deployments in Maven2/Maven3, as the metadata has changed between the two versions.  The &quot;Hudson only&quot; snapshot deployment strategy will mitigate this.  We do not use the Release Plugin, but have written some plumbing around the [Versions plugin](http://mojo.codehaus.org/versions-maven-plugin/) when going to move a snapshot to release.  We also use m2eclipse and it seems to work very well with Nexus, as from the settings file it can see Nexus and knows to index artifact information for lookup from there.  (Though I have had to tweak some of those settings to have it fully index our internal snapshots.)  I&#39;d also recommend you deploy a source jar with your artifacts as a standard practice if you&#39;re interested in doing this.  We configure that in a super POM.\r\n\r\nI&#39;ve come across [this Sonatype whitepaper](http://www.sonatype.com/resources/whitepapers/repository-management-stages-of-adoption) which details different stages of adoption/maturity, each with different usage goals for a Maven Repository manager.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Apache_Maven\r\n\r\n","title":"Tips for maintaining an internal Maven Repository?","body":"<p>I'm interested in maintaining a <a href=\"http://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> 2 repository for my organization.  What are the some of the pointers and pitfalls that would help.</p>\n<p>What are guidelines for users to follow when setting up standards for downloading from or publishing their own artifacts to the repository when releasing their code?  What kinds of governance/rules do you have in place for this type of thing? What do you include about it in your developer's guide/documentation?</p>\n<p><strong>UPDATE</strong>: We've stood up Nexus and have been very happy with it - followed most of Sal's guidelines and haven't had any trouble.  In addition, we've restricted deploy access and automated build/deployment of snapshot artifacts through a Hudson CI server.  Hudson can analyze all of the upstream/downstream project dependencies, so if a compilation problem, test failure, or some other violation causes the build to break, no deployment will occur.  Be weary of doing snapshot deployments in Maven2/Maven3, as the metadata has changed between the two versions.  The &quot;Hudson only&quot; snapshot deployment strategy will mitigate this.  We do not use the Release Plugin, but have written some plumbing around the <a href=\"http://mojo.codehaus.org/versions-maven-plugin/\" rel=\"nofollow noreferrer\">Versions plugin</a> when going to move a snapshot to release.  We also use m2eclipse and it seems to work very well with Nexus, as from the settings file it can see Nexus and knows to index artifact information for lookup from there.  (Though I have had to tweak some of those settings to have it fully index our internal snapshots.)  I'd also recommend you deploy a source jar with your artifacts as a standard practice if you're interested in doing this.  We configure that in a super POM.</p>\n<p>I've come across <a href=\"http://www.sonatype.com/resources/whitepapers/repository-management-stages-of-adoption\" rel=\"nofollow noreferrer\">this Sonatype whitepaper</a> which details different stages of adoption/maturity, each with different usage goals for a Maven Repository manager.</p>\n"},{"tags":["java","guava","preprocessor"],"comments":[{"owner":{"account_id":93527,"reputation":2383,"user_id":255836,"display_name":"Joe Carnahan"},"score":11,"creation_date":1267128518,"post_id":2337170,"comment_id":2308244,"body_markdown":"It sounds like you&#39;re specifically concerned about repetition due to code for handling primitive arrays.  Personally, I just avoid this kind of repetition (and encourage others to do the same) by using generic collections and autoboxing, avoiding both arrays and primitives unless absolutely necessary.  Do you have any examples of this repetition that *don&#39;t* involve primitive arrays?","body":"It sounds like you&#39;re specifically concerned about repetition due to code for handling primitive arrays.  Personally, I just avoid this kind of repetition (and encourage others to do the same) by using generic collections and autoboxing, avoiding both arrays and primitives unless absolutely necessary.  Do you have any examples of this repetition that <i>don&#39;t</i> involve primitive arrays?"},{"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"score":2,"creation_date":1267128928,"post_id":2337170,"comment_id":2308292,"body_markdown":"+1 for the good post and http://netlib.bell-labs.com/cm/cs/pearls/","body":"+1 for the good post and <a href=\"http://netlib.bell-labs.com/cm/cs/pearls/\" rel=\"nofollow noreferrer\">netlib.bell-labs.com/cm/cs/pearls</a>"},{"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":0,"creation_date":1267134848,"post_id":2337170,"comment_id":2309159,"body_markdown":"Repetitiveness due to providing complete overloads is just an example. I&#39;ve seen this kind of repetition in non-overloading and non-primitive array handling scenarios as well.","body":"Repetitiveness due to providing complete overloads is just an example. I&#39;ve seen this kind of repetition in non-overloading and non-primitive array handling scenarios as well."},{"owner":{"account_id":19465,"reputation":3028,"user_id":45671,"accept_rate":60,"display_name":"David Bult&#233;"},"score":2,"creation_date":1267617712,"post_id":2337170,"comment_id":2346781,"body_markdown":"I had a look at that java.util.Arrays class and found the following javadoc snippet pretty amusing: &quot;The code for each of the seven primitive types is largely identical. C&#39;est la vie.&quot;.","body":"I had a look at that java.util.Arrays class and found the following javadoc snippet pretty amusing: &quot;The code for each of the seven primitive types is largely identical. C&#39;est la vie.&quot;."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1268605927,"post_id":2337170,"comment_id":2430365,"body_markdown":"The Sun/Oracle Java library uses a manky templating system for NIO buffers.","body":"The Sun/Oracle Java library uses a manky templating system for NIO buffers."},{"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"score":0,"creation_date":1272416690,"post_id":2337170,"comment_id":2753112,"body_markdown":"It would be nice if Java had Scheme&#39;s hygienic macros.","body":"It would be nice if Java had Scheme&#39;s hygienic macros."}],"answers":[{"tags":[],"owner":{"account_id":21569,"reputation":7759,"user_id":52534,"accept_rate":70,"display_name":"patros"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1267128509,"creation_date":1267128509,"answer_id":2337228,"question_id":2337170,"body_markdown":"A lot of this kind of repetition can now be avoided thanks to generics. They&#39;re a godsend when writing the same code where only the types change.\r\n\r\nSadly though, I think generic arrays are still not very well supported. For now at least, use containers that allow you to take advantage of generics. Polymorphism is also a useful tool to reduce this kind of code duplication.\r\n\r\nTo answer your question about how to handle code that absolutely must be duplicated... Tag each instance with easily searchable comments. There are some java preprocessors out there, that add C-style macros. I think I remember netbeans having one.","title":"Managing highly repetitive code and documentation in Java","body":"<p>A lot of this kind of repetition can now be avoided thanks to generics. They're a godsend when writing the same code where only the types change.</p>\n\n<p>Sadly though, I think generic arrays are still not very well supported. For now at least, use containers that allow you to take advantage of generics. Polymorphism is also a useful tool to reduce this kind of code duplication.</p>\n\n<p>To answer your question about how to handle code that absolutely must be duplicated... Tag each instance with easily searchable comments. There are some java preprocessors out there, that add C-style macros. I think I remember netbeans having one.</p>\n"},{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1267128652,"creation_date":1267128652,"answer_id":2337247,"question_id":2337170,"body_markdown":"If you absolutely must duplicate code, follow the great examples you&#39;ve given and group all of that code in one place where it&#39;s easy to find and fix when you have to make a change.  Document the duplication and, more importantly, the *reason for the duplication* so that everyone who comes after you is aware of both.","title":"Managing highly repetitive code and documentation in Java","body":"<p>If you absolutely must duplicate code, follow the great examples you've given and group all of that code in one place where it's easy to find and fix when you have to make a change.  Document the duplication and, more importantly, the <em>reason for the duplication</em> so that everyone who comes after you is aware of both.</p>\n"},{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1267129225,"creation_date":1267129225,"answer_id":2337317,"question_id":2337170,"body_markdown":"From [Wikipedia](http://en.wikipedia.org/wiki/Don%27t_repeat_yourself) Don&#39;t Repeat Yourself (DRY) or Duplication is Evil (DIE)\r\n\r\n*In some contexts, the effort required to enforce the DRY philosophy may be greater than the effort to maintain separate copies of the data. In some other contexts, duplicated information is immutable or kept under a control tight enough to make DRY not required.*\r\n\r\nThere is probably no answer or technique to prevent problems like that.","title":"Managing highly repetitive code and documentation in Java","body":"<p>From <a href=\"http://en.wikipedia.org/wiki/Don%27t_repeat_yourself\" rel=\"nofollow noreferrer\">Wikipedia</a> Don't Repeat Yourself (DRY) or Duplication is Evil (DIE)</p>\n\n<p><em>In some contexts, the effort required to enforce the DRY philosophy may be greater than the effort to maintain separate copies of the data. In some other contexts, duplicated information is immutable or kept under a control tight enough to make DRY not required.</em></p>\n\n<p>There is probably no answer or technique to prevent problems like that.</p>\n"},{"tags":[],"owner":{"account_id":881955,"reputation":21,"user_id":281574,"display_name":"jerry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1267129405,"creation_date":1267129405,"answer_id":2337348,"question_id":2337170,"body_markdown":"I get that Sun has to document like this for the Java SE library code and maybe other 3rd party library writers do as well.  \r\n\r\nHowever, I think it is an utter waste to copy and paste documentation throughout a file like this in code that is only used in house.  I know many people will disagree because it will make their in house JavaDocs look less clean.  However, the trade off is that is makes their code more clean which, in my opinion, is more important.","title":"Managing highly repetitive code and documentation in Java","body":"<p>I get that Sun has to document like this for the Java SE library code and maybe other 3rd party library writers do as well.  </p>\n\n<p>However, I think it is an utter waste to copy and paste documentation throughout a file like this in code that is only used in house.  I know many people will disagree because it will make their in house JavaDocs look less clean.  However, the trade off is that is makes their code more clean which, in my opinion, is more important.</p>\n"},{"tags":[],"owner":{"account_id":7042,"reputation":21329,"user_id":12034,"accept_rate":90,"display_name":"noah"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1267129596,"creation_date":1267129596,"answer_id":2337367,"question_id":2337170,"body_markdown":"Java primitive types screw you, especially when it comes to arrays. If you&#39;re specifically asking about code involving primitive types, then I would say just try to avoid them. The Object[] method is sufficient if you use the boxed types.\r\n\r\nIn general, you need lots of unit tests and there really isn&#39;t anything else to be done, other than resorting to reflection. Like you said, it&#39;s another subject entirely, but don&#39;t be too afraid of reflection. Write the DRYest code you can first, then profile it and determine if the reflection performance hit is really bad enough to warrant writing out and maintaining the extra code.","title":"Managing highly repetitive code and documentation in Java","body":"<p>Java primitive types screw you, especially when it comes to arrays. If you're specifically asking about code involving primitive types, then I would say just try to avoid them. The Object[] method is sufficient if you use the boxed types.</p>\n\n<p>In general, you need lots of unit tests and there really isn't anything else to be done, other than resorting to reflection. Like you said, it's another subject entirely, but don't be too afraid of reflection. Write the DRYest code you can first, then profile it and determine if the reflection performance hit is really bad enough to warrant writing out and maintaining the extra code.</p>\n"},{"tags":[],"owner":{"account_id":77732,"reputation":440,"user_id":221675,"display_name":"msalib"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1267131331,"creation_date":1267131331,"answer_id":2337557,"question_id":2337170,"body_markdown":"You could use a code generator to construct variations of the code using a template. In that case, the java source is a product of the generator and the real code is the template.","title":"Managing highly repetitive code and documentation in Java","body":"<p>You could use a code generator to construct variations of the code using a template. In that case, the java source is a product of the generator and the real code is the template.</p>\n"},{"tags":[],"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1374487875,"creation_date":1267157211,"answer_id":2339430,"question_id":2337170,"body_markdown":"For people that absolutely need performance, boxing and unboxing and generified collections and whatnot are big no-no&#39;s.\r\n\r\nThe same problem happens in performance computing where you need the same complex to work both for float and double (say some of the method shown in Goldberd&#39;s *&quot;[What every computer scientist should know about floating-point numbers][1]&quot;* paper).\r\n\r\nThere&#39;s a reason why [Trove][2]&#39;s `TIntIntHashMap` runs circles around Java&#39;s `HashMap&lt;Integer,Integer&gt;` when working with a similar amount of data.\r\n\r\nNow how are Trove collection&#39;s source code written?\r\n\r\nBy using source code instrumentation of course :)\r\n\r\nThere are several Java libraries for higher performance (much higher than the default Java ones) that use code generators to create the repeated source code.\r\n\r\nWe all know that &quot;source code instrumentation&quot; is evil and that code generation is crap, but still that&#39;s how people who really know what they&#39;re doing (i.e. the kind of people that write stuff like Trove) do it :)\r\n\r\nFor what it is worth we generate source code that contains big warnings like:\r\n\r\n    /*\r\n     * This .java source file has been auto-generated from the template xxxxx\r\n     * \r\n     * DO NOT MODIFY THIS FILE FOR IT SHALL GET OVERWRITTEN\r\n     * \r\n     */\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\r\n  [2]: http://trove4j.sourceforge.net/","title":"Managing highly repetitive code and documentation in Java","body":"<p>For people that absolutely need performance, boxing and unboxing and generified collections and whatnot are big no-no's.</p>\n\n<p>The same problem happens in performance computing where you need the same complex to work both for float and double (say some of the method shown in Goldberd's <em>\"<a href=\"http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"noreferrer\">What every computer scientist should know about floating-point numbers</a>\"</em> paper).</p>\n\n<p>There's a reason why <a href=\"http://trove4j.sourceforge.net/\" rel=\"noreferrer\">Trove</a>'s <code>TIntIntHashMap</code> runs circles around Java's <code>HashMap&lt;Integer,Integer&gt;</code> when working with a similar amount of data.</p>\n\n<p>Now how are Trove collection's source code written?</p>\n\n<p>By using source code instrumentation of course :)</p>\n\n<p>There are several Java libraries for higher performance (much higher than the default Java ones) that use code generators to create the repeated source code.</p>\n\n<p>We all know that \"source code instrumentation\" is evil and that code generation is crap, but still that's how people who really know what they're doing (i.e. the kind of people that write stuff like Trove) do it :)</p>\n\n<p>For what it is worth we generate source code that contains big warnings like:</p>\n\n<pre><code>/*\n * This .java source file has been auto-generated from the template xxxxx\n * \n * DO NOT MODIFY THIS FILE FOR IT SHALL GET OVERWRITTEN\n * \n */\n</code></pre>\n"},{"tags":[],"owner":{"account_id":41366,"reputation":93989,"user_id":120163,"accept_rate":59,"display_name":"Ira Baxter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1268063239,"creation_date":1267893028,"answer_id":2393184,"question_id":2337170,"body_markdown":"Given two code fragments that are claimed to be similar, most languages have limited facilities for constructing abstractions that unify the code fragments into a monolith.  To abstract when your language can&#39;t do it, you have to step outside the language :-{\r\n\r\nThe most general &quot;abstraction&quot; mechanism is a full macro processor which can apply arbitrary computations to the &quot;macro body&quot; while instantiating it (think &lt;a href=&quot;http://en.wikipedia.org/wiki/String_rewriting&quot;&gt;Post or string-rewriting&lt;/a&gt; system, which is Turing capable).   &lt;a href=&quot;http://en.wikipedia.org/wiki/M4_(computer_language)&quot;&gt;\r\nM4&lt;/a&gt; and &lt;a href=&quot;http://en.wikipedia.org/wiki/General_purpose_macro_processor&quot;&gt;GPM&lt;/a&gt; are quintessential examples.  The C preprocessor isn&#39;t one of these.\r\n\r\nIf you have such a macro processor, you can construct an &quot;abstraction&quot; as a macro, and run the macro processor on your &quot;abstracted&quot; source text to produce the actual source code you compile and run.\r\n\r\nYou can also use more limited versions of the ideas, often called &quot;code generators&quot;. These are usually not Turing capable, but in many cases they work well enough.  It depends on how sophisticated your &quot;macro instantiation&quot; needs to be.  (The reason people are enamored with the C++ template mechanism is ths despite its ugliness, it *is* Turing capable and so people can do truly ugly but astonishing code generation tasks with it).\r\nAnother answer here mentions Trove, which is apparantly in the more limited but still very useful category.\r\n\r\nReally general macro processors (like M4) manipulate just text; that makes them powerful but they don&#39;t handle the structure of programming language well, and it is really awkward to write a generaor in such a mcaro processor that can not only produce code, but optimize the generated result.  Most code generators that I encounter are &quot;plug this string into this string template&quot; and so cannot do any optimization of a generated result.\r\nIf you want generation of arbitrary code and high performance to boot, you need something that is Turing capable but understands the structure of the generated code so it can easily manipulate (e.g., optimize) it).\r\n\r\nSuch a tool is called a &lt;a href=&quot;http://www.semdesigns.com/Products/DMS/ProgramTransformation.html&quot;&gt;Program Transformation System&lt;/a&gt;.  Such a tool parses the source text just like a compiler does,and then carries analyses/transformations on it to achieve a desired effect.   If you can put markers in the source text of your program (e.g, structured comments or annotations in langauges that have them) directing the program transformaiton tool what to do, then you can use it to carry out such abstraction instantiation, code generation, and/or code optimization. (One poster&#39;s suggestion of hooking into the Java compiler is a variation on this idea).  Using a general puprose transformation system (such as &lt;a href=&quot;http://www.semanticdesigns.com/Products/DMS/DMSToolkit.html&quot;&gt;DMS Software Reengineering Tookit&lt;/a&gt; means you can do this for essentially any language.","title":"Managing highly repetitive code and documentation in Java","body":"<p>Given two code fragments that are claimed to be similar, most languages have limited facilities for constructing abstractions that unify the code fragments into a monolith.  To abstract when your language can't do it, you have to step outside the language :-{</p>\n\n<p>The most general \"abstraction\" mechanism is a full macro processor which can apply arbitrary computations to the \"macro body\" while instantiating it (think <a href=\"http://en.wikipedia.org/wiki/String_rewriting\" rel=\"nofollow noreferrer\">Post or string-rewriting</a> system, which is Turing capable).   <a href=\"http://en.wikipedia.org/wiki/M4_(computer_language)\" rel=\"nofollow noreferrer\">\nM4</a> and <a href=\"http://en.wikipedia.org/wiki/General_purpose_macro_processor\" rel=\"nofollow noreferrer\">GPM</a> are quintessential examples.  The C preprocessor isn't one of these.</p>\n\n<p>If you have such a macro processor, you can construct an \"abstraction\" as a macro, and run the macro processor on your \"abstracted\" source text to produce the actual source code you compile and run.</p>\n\n<p>You can also use more limited versions of the ideas, often called \"code generators\". These are usually not Turing capable, but in many cases they work well enough.  It depends on how sophisticated your \"macro instantiation\" needs to be.  (The reason people are enamored with the C++ template mechanism is ths despite its ugliness, it <em>is</em> Turing capable and so people can do truly ugly but astonishing code generation tasks with it).\nAnother answer here mentions Trove, which is apparantly in the more limited but still very useful category.</p>\n\n<p>Really general macro processors (like M4) manipulate just text; that makes them powerful but they don't handle the structure of programming language well, and it is really awkward to write a generaor in such a mcaro processor that can not only produce code, but optimize the generated result.  Most code generators that I encounter are \"plug this string into this string template\" and so cannot do any optimization of a generated result.\nIf you want generation of arbitrary code and high performance to boot, you need something that is Turing capable but understands the structure of the generated code so it can easily manipulate (e.g., optimize) it).</p>\n\n<p>Such a tool is called a <a href=\"http://www.semdesigns.com/Products/DMS/ProgramTransformation.html\" rel=\"nofollow noreferrer\">Program Transformation System</a>.  Such a tool parses the source text just like a compiler does,and then carries analyses/transformations on it to achieve a desired effect.   If you can put markers in the source text of your program (e.g, structured comments or annotations in langauges that have them) directing the program transformaiton tool what to do, then you can use it to carry out such abstraction instantiation, code generation, and/or code optimization. (One poster's suggestion of hooking into the Java compiler is a variation on this idea).  Using a general puprose transformation system (such as <a href=\"http://www.semanticdesigns.com/Products/DMS/DMSToolkit.html\" rel=\"nofollow noreferrer\">DMS Software Reengineering Tookit</a> means you can do this for essentially any language.</p>\n"},{"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1505631282,"creation_date":1272416520,"answer_id":2726193,"question_id":2337170,"body_markdown":"Even fancy pants languages like Haskell have repetitive code ([see my post on haskell and serialization][1])\r\n\r\nIt seems there are three choices to this problem:\r\n\r\n 1. Use reflection and lose performance\r\n 2. Use preprocessing like Template Haskell or Caml4p equivalent for your language and live with nastiness\r\n 3. Or my personal favorite use macros if your language supports it (scheme, and lisp)\r\n\r\nI consider the macros different than preprocessing because the macros are usually in the same language that the target is where as preprocessing is a different language. \r\n\r\nI think Lisp/Scheme macros would solve many of these problems.\r\n\r\n  [1]: https://stackoverflow.com/questions/2690455/how-do-i-do-automatic-data-serialization-of-data-objects-in-haskell","title":"Managing highly repetitive code and documentation in Java","body":"<p>Even fancy pants languages like Haskell have repetitive code (<a href=\"https://stackoverflow.com/questions/2690455/how-do-i-do-automatic-data-serialization-of-data-objects-in-haskell\">see my post on haskell and serialization</a>)</p>\n\n<p>It seems there are three choices to this problem:</p>\n\n<ol>\n<li>Use reflection and lose performance</li>\n<li>Use preprocessing like Template Haskell or Caml4p equivalent for your language and live with nastiness</li>\n<li>Or my personal favorite use macros if your language supports it (scheme, and lisp)</li>\n</ol>\n\n<p>I consider the macros different than preprocessing because the macros are usually in the same language that the target is where as preprocessing is a different language. </p>\n\n<p>I think Lisp/Scheme macros would solve many of these problems.</p>\n"}],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5805,"favorite_count":0,"down_vote_count":1,"up_vote_count":73,"accepted_answer_id":2339430,"answer_count":9,"score":72,"last_activity_date":1660931262,"creation_date":1267127941,"question_id":2337170,"body_markdown":"Highly repetitive code is generally a bad thing, and there are design patterns that can help minimize this. However, sometimes it&#39;s simply inevitable due to the constraints of the language itself. Take the following example from `java.util.Arrays`:\r\n\r\n    /**\r\n     * Assigns the specified long value to each element of the specified\r\n     * range of the specified array of longs.  The range to be filled\r\n     * extends from index &lt;tt&gt;fromIndex&lt;/tt&gt;, inclusive, to index\r\n     * &lt;tt&gt;toIndex&lt;/tt&gt;, exclusive.  (If &lt;tt&gt;fromIndex==toIndex&lt;/tt&gt;, the\r\n     * range to be filled is empty.)\r\n     *\r\n     * @param a the array to be filled\r\n     * @param fromIndex the index of the first element (inclusive) to be\r\n     *        filled with the specified value\r\n     * @param toIndex the index of the last element (exclusive) to be\r\n     *        filled with the specified value\r\n     * @param val the value to be stored in all elements of the array\r\n     * @throws IllegalArgumentException if &lt;tt&gt;fromIndex &amp;gt; toIndex&lt;/tt&gt;\r\n     * @throws ArrayIndexOutOfBoundsException if &lt;tt&gt;fromIndex &amp;lt; 0&lt;/tt&gt; or\r\n     *\t       &lt;tt&gt;toIndex &amp;gt; a.length&lt;/tt&gt;\r\n     */\r\n    public static void fill(long[] a, int fromIndex, int toIndex, long val) {\r\n        rangeCheck(a.length, fromIndex, toIndex);\r\n        for (int i=fromIndex; i&lt;toIndex; i++)\r\n            a[i] = val;\r\n    }\r\n\r\n\r\nThe above snippet appears in the source code 8 times, with very little variation in the documentation/method signature but *exactly the same method body*, one for each of the root array types `int[]`, `short[]`, `char[]`, `byte[]`, `boolean[]`, `double[]`, `float[]`, and `Object[]`.\r\n\r\nI believe that unless one resorts to reflection (which is an entirely different subject in itself), this repetition is inevitable. I understand that as a utility class, such high concentration of repetitive Java code is highly atypical, but even with the best practice, **repetition does happen**! Refactoring doesn&#39;t always work because it&#39;s not always possible (the obvious case is when the repetition is in the documentation).\r\n\r\nObviously maintaining this source code is a nightmare. A slight typo in the documentation, or a minor bug in the implementation, is multiplied by however many repetitions was made. In fact, the best example happens to involve this exact class:\r\n\r\n&lt;a href=&quot;http://googleresearch.blogspot.com/2006/06/extra-extra-read-all-about-it-nearly.html&quot;&gt;Google Research Blog - Extra, Extra - Read All About It: Nearly All Binary Searches and Mergesorts are Broken (by Joshua Bloch, Software Engineer)&lt;/a&gt;\r\n\r\nThe bug is a surprisingly subtle one, occurring in what many thought to be just a simple and straightforward algorithm.\r\n\r\n        // int mid =(low + high) / 2; // the bug\r\n        int mid = (low + high) &gt;&gt;&gt; 1; // the fix\r\n\r\nThe above line **appears 11 times in the source code**!\r\n\r\nSo my questions are:\r\n\r\n  * How are these kinds of repetitive Java code/documentation handled in practice? How are they developed, maintained, and tested?\r\n     * Do you start with &quot;the original&quot;, and make it as mature as possible, and then copy and paste as necessary and hope you didn&#39;t make a mistake?\r\n     * And if you did make a mistake in the original, then just fix it everywhere, unless you&#39;re comfortable with deleting the copies and repeating the whole replication process?\r\n     * And you apply this same process for the testing code as well?\r\n  * Would Java benefit from some sort of limited-use source code preprocessing for this kind of thing?\r\n     * Perhaps Sun has their own preprocessor to help write, maintain, document and test these kind of repetitive library code?\r\n\r\n---\r\n\r\nA comment requested another example, so I pulled this one from Google Collections: &lt;a href=&quot;http://code.google.com/p/google-collections/source/browse/trunk/src/com/google/common/base/Predicates.java&quot;&gt;com.google.common.base.Predicates&lt;/a&gt; lines 276-310 (`AndPredicate`) vs lines 312-346 (`OrPredicate`).\r\n\r\nThe source for these two classes are identical, except for:\r\n\r\n * `AndPredicate` vs `OrPredicate` (each appears 5 times in its class)\r\n * `&quot;And(&quot;` vs `Or(&quot;` (in the respective `toString()` methods)\r\n * `#and` vs `#or` (in the `@see` Javadoc comments)\r\n * `true` vs `false` (in `apply`; `!` can be rewritten out of the expression)\r\n * `-1 /* all bits on */` vs `0 /* all bits off */` in `hashCode()`\r\n * `&amp;=` vs `|=` in `hashCode()`","title":"Managing highly repetitive code and documentation in Java","body":"<p>Highly repetitive code is generally a bad thing, and there are design patterns that can help minimize this. However, sometimes it's simply inevitable due to the constraints of the language itself. Take the following example from <code>java.util.Arrays</code>:</p>\n\n<pre><code>/**\n * Assigns the specified long value to each element of the specified\n * range of the specified array of longs.  The range to be filled\n * extends from index &lt;tt&gt;fromIndex&lt;/tt&gt;, inclusive, to index\n * &lt;tt&gt;toIndex&lt;/tt&gt;, exclusive.  (If &lt;tt&gt;fromIndex==toIndex&lt;/tt&gt;, the\n * range to be filled is empty.)\n *\n * @param a the array to be filled\n * @param fromIndex the index of the first element (inclusive) to be\n *        filled with the specified value\n * @param toIndex the index of the last element (exclusive) to be\n *        filled with the specified value\n * @param val the value to be stored in all elements of the array\n * @throws IllegalArgumentException if &lt;tt&gt;fromIndex &amp;gt; toIndex&lt;/tt&gt;\n * @throws ArrayIndexOutOfBoundsException if &lt;tt&gt;fromIndex &amp;lt; 0&lt;/tt&gt; or\n *         &lt;tt&gt;toIndex &amp;gt; a.length&lt;/tt&gt;\n */\npublic static void fill(long[] a, int fromIndex, int toIndex, long val) {\n    rangeCheck(a.length, fromIndex, toIndex);\n    for (int i=fromIndex; i&lt;toIndex; i++)\n        a[i] = val;\n}\n</code></pre>\n\n<p>The above snippet appears in the source code 8 times, with very little variation in the documentation/method signature but <em>exactly the same method body</em>, one for each of the root array types <code>int[]</code>, <code>short[]</code>, <code>char[]</code>, <code>byte[]</code>, <code>boolean[]</code>, <code>double[]</code>, <code>float[]</code>, and <code>Object[]</code>.</p>\n\n<p>I believe that unless one resorts to reflection (which is an entirely different subject in itself), this repetition is inevitable. I understand that as a utility class, such high concentration of repetitive Java code is highly atypical, but even with the best practice, <strong>repetition does happen</strong>! Refactoring doesn't always work because it's not always possible (the obvious case is when the repetition is in the documentation).</p>\n\n<p>Obviously maintaining this source code is a nightmare. A slight typo in the documentation, or a minor bug in the implementation, is multiplied by however many repetitions was made. In fact, the best example happens to involve this exact class:</p>\n\n<p><a href=\"http://googleresearch.blogspot.com/2006/06/extra-extra-read-all-about-it-nearly.html\" rel=\"noreferrer\">Google Research Blog - Extra, Extra - Read All About It: Nearly All Binary Searches and Mergesorts are Broken (by Joshua Bloch, Software Engineer)</a></p>\n\n<p>The bug is a surprisingly subtle one, occurring in what many thought to be just a simple and straightforward algorithm.</p>\n\n<pre><code>    // int mid =(low + high) / 2; // the bug\n    int mid = (low + high) &gt;&gt;&gt; 1; // the fix\n</code></pre>\n\n<p>The above line <strong>appears 11 times in the source code</strong>!</p>\n\n<p>So my questions are:</p>\n\n<ul>\n<li>How are these kinds of repetitive Java code/documentation handled in practice? How are they developed, maintained, and tested?\n\n<ul>\n<li>Do you start with \"the original\", and make it as mature as possible, and then copy and paste as necessary and hope you didn't make a mistake?</li>\n<li>And if you did make a mistake in the original, then just fix it everywhere, unless you're comfortable with deleting the copies and repeating the whole replication process?</li>\n<li>And you apply this same process for the testing code as well?</li>\n</ul></li>\n<li>Would Java benefit from some sort of limited-use source code preprocessing for this kind of thing?\n\n<ul>\n<li>Perhaps Sun has their own preprocessor to help write, maintain, document and test these kind of repetitive library code?</li>\n</ul></li>\n</ul>\n\n<hr>\n\n<p>A comment requested another example, so I pulled this one from Google Collections: <a href=\"http://code.google.com/p/google-collections/source/browse/trunk/src/com/google/common/base/Predicates.java\" rel=\"noreferrer\">com.google.common.base.Predicates</a> lines 276-310 (<code>AndPredicate</code>) vs lines 312-346 (<code>OrPredicate</code>).</p>\n\n<p>The source for these two classes are identical, except for:</p>\n\n<ul>\n<li><code>AndPredicate</code> vs <code>OrPredicate</code> (each appears 5 times in its class)</li>\n<li><code>\"And(\"</code> vs <code>Or(\"</code> (in the respective <code>toString()</code> methods)</li>\n<li><code>#and</code> vs <code>#or</code> (in the <code>@see</code> Javadoc comments)</li>\n<li><code>true</code> vs <code>false</code> (in <code>apply</code>; <code>!</code> can be rewritten out of the expression)</li>\n<li><code>-1 /* all bits on */</code> vs <code>0 /* all bits off */</code> in <code>hashCode()</code></li>\n<li><code>&amp;=</code> vs <code>|=</code> in <code>hashCode()</code></li>\n</ul>\n"},{"tags":["java","double"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1660926717,"post_id":73418513,"comment_id":129657117,"body_markdown":"TL;DR of the duplicate `String.format(&quot;%06.3f&quot;, 1.2345)`","body":"TL;DR of the duplicate <code>String.format(&quot;%06.3f&quot;, 1.2345)</code>"}],"answers":[{"tags":[],"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660921015,"creation_date":1660921015,"answer_id":73418664,"question_id":73418513,"body_markdown":"Try [DecimalFormat](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/DecimalFormat.html).\r\n\r\n```\r\nDecimalFormat df = new DecimalFormat(&quot;00.###&quot;);\r\nString formatted = df.format(1.2345); \r\nSystem.out.println( formatted );\r\n```\r\n\r\nResult:\r\n\r\n```\r\n01.234\r\n```","title":"How to format a double with leading zero and decimals in Java","body":"<p>Try <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\">DecimalFormat</a>.</p>\n<pre><code>DecimalFormat df = new DecimalFormat(&quot;00.###&quot;);\nString formatted = df.format(1.2345); \nSystem.out.println( formatted );\n</code></pre>\n<p>Result:</p>\n<pre><code>01.234\n</code></pre>\n"}],"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1301,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1660926653,"accepted_answer_id":73418664,"answer_count":1,"score":0,"last_activity_date":1660931148,"creation_date":1660920252,"question_id":73418513,"body_markdown":"**Requirements:**\r\n\r\n- Leading zero (total 2 length) before the Dot\r\n- 3 decimals\r\n\r\n    // Example 1\r\n    Input: double d = 1.2345\r\n    Expected output:   01.234\r\n\r\n    // Example 2\r\n    Input: double d = 11.2345\r\n    Expected output:   11.234\r\n   \r\nIn C#, I can use:\r\n   \r\n    double.ToString(&quot;00.###&quot;)\r\n\r\nIn Java:\r\n    \r\n    String.format(&quot;%.3f&quot;, 1.2345) -&gt;  1.234 -&gt; No leading zero.\r\n\r\n\r\n","title":"How to format a double with leading zero and decimals in Java","body":"<p><strong>Requirements:</strong></p>\n<ul>\n<li><p>Leading zero (total 2 length) before the Dot</p>\n</li>\n<li><p>3 decimals</p>\n<p>// Example 1\nInput: double d = 1.2345\nExpected output:   01.234</p>\n<p>// Example 2\nInput: double d = 11.2345\nExpected output:   11.234</p>\n</li>\n</ul>\n<p>In C#, I can use:</p>\n<pre><code>double.ToString(&quot;00.###&quot;)\n</code></pre>\n<p>In Java:</p>\n<pre><code>String.format(&quot;%.3f&quot;, 1.2345) -&gt;  1.234 -&gt; No leading zero.\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1660826014,"post_id":73402775,"comment_id":129627905,"body_markdown":"Start here: https://developer.android.com/training/location","body":"Start here: <a href=\"https://developer.android.com/training/location\" rel=\"nofollow noreferrer\">developer.android.com/training/location</a>"},{"owner":{"account_id":22033721,"reputation":39,"user_id":16300574,"display_name":"Tudor Deviza"},"score":0,"creation_date":1660831218,"post_id":73402775,"comment_id":129630157,"body_markdown":"Check this -&gt; https://stackoverflow.com/questions/40142331/how-to-request-location-permission-at-runtime","body":"Check this -&gt; <a href=\"https://stackoverflow.com/questions/40142331/how-to-request-location-permission-at-runtime\" title=\"how to request location permission at runtime\">stackoverflow.com/questions/40142331/&hellip;</a>"}],"owner":{"account_id":26097747,"reputation":1,"user_id":19793646,"display_name":"walid icam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":961,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660931101,"creation_date":1660824214,"question_id":73402775,"body_markdown":"I am working on an application and on a specific button click I need to check whether location access is enabled or not in client-side development if location services are not enabled show the dialog prompt. I also  want to check if the location within given radius get new activity else button enabled(false) \r\n\r\nHow to enable &quot;Location access&quot; Programmatically in android?","title":"How to enable Location access programmatically in Android app?","body":"<p>I am working on an application and on a specific button click I need to check whether location access is enabled or not in client-side development if location services are not enabled show the dialog prompt. I also  want to check if the location within given radius get new activity else button enabled(false)</p>\n<p>How to enable &quot;Location access&quot; Programmatically in android?</p>\n"},{"tags":["java","hibernate","hql","dto"],"comments":[{"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"score":1,"creation_date":1653443020,"post_id":72371125,"comment_id":127852049,"body_markdown":"I suggest you try making the constructor public.","body":"I suggest you try making the constructor public."},{"owner":{"account_id":20757795,"reputation":134,"user_id":15243804,"display_name":"cooleee"},"score":0,"creation_date":1653449115,"post_id":72371125,"comment_id":127852809,"body_markdown":"As @danglingelse suggested, try making the constructor public. If it still does not work, create a no-arg constructor public DummyDto() {} then add setter and getter to the loginId field.","body":"As @danglingelse suggested, try making the constructor public. If it still does not work, create a no-arg constructor public DummyDto() {} then add setter and getter to the loginId field."}],"answers":[{"tags":[],"owner":{"account_id":16139017,"reputation":129,"user_id":15817444,"display_name":"Mazhar Ibna Zahur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660930515,"creation_date":1660930515,"answer_id":73420388,"question_id":72371125,"body_markdown":"you can change your DTO&#39;s as follows: \r\n\r\n    package com.epsilon.keycloakuserstore.models;\r\n    import lombok.*;\r\n    \r\n    @Getter\r\n    @AllArgsConstructor\r\n    public class DummyDTO {\r\n        private String loginId;\r\n    \r\n    }","title":"Unable to locate appropriate constructor Expected arguments are: java.lang.String","body":"<p>you can change your DTO's as follows:</p>\n<pre><code>package com.epsilon.keycloakuserstore.models;\nimport lombok.*;\n\n@Getter\n@AllArgsConstructor\npublic class DummyDTO {\n    private String loginId;\n\n}\n</code></pre>\n"}],"owner":{"account_id":3031405,"reputation":66,"user_id":2570337,"display_name":"Murray Wilson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2406,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660930515,"creation_date":1653442567,"question_id":72371125,"body_markdown":"I have been completely unable to get Hibernate with DTOs. Not even very simple object with a single string, it *always* complains about &quot;Unable to locate appropriate constructor&quot; :(\r\n\r\nI started with real code but tried to narrow it down and it doesn&#39;t even work with a class with a single String member (The Database is Sybase, the queries with Entities work, but DTOs do not):\r\n\r\nI have this DTO class:\r\n\r\n    package com.epsilon.keycloakuserstore.models;\r\n    import lombok.Data;\r\n    \r\n    @Data\r\n    public class DummyDTO {\r\n        private java.lang.String loginId;\r\n    \r\n        DummyDTO(java.lang.String loginId)\r\n        {\r\n            this.loginId = loginId;\r\n        }\r\n    }\r\n\r\nand this Named Query:\r\n\r\n    @NamedQuery(name=&quot;getDummy&quot;, query=&quot;select new com.epsilon.keycloakuserstore.models.DummyDTO (&#39;String&#39;)&quot;),\r\n\r\nI also tried to query a table (instead of a literal) with this query:\r\n\r\n    @NamedQuery(name=&quot;getDummy&quot;, query=&quot;select new com.epsilon.keycloakuserstore.models.DummyDTO (u.loginId) from User u&quot;),\r\n\r\nand this code to call it:\r\n\r\n    public Optional&lt;DummyDTO&gt; getDummy() {\r\n        logger.info(&quot;getDummy()&quot;);\r\n        TypedQuery&lt;DummyDTO&gt; query = entityManager.createNamedQuery(&quot;getDummy&quot;, DummyDTO.class);\r\n        Optional&lt;DummyDTO&gt; optDummy = query.getResultList().stream().findFirst();\r\n        if (optDummy.isPresent()) {\r\n            logger.info(optDummy.get().toString());\r\n        }\r\n        return optDummy;\r\n    }\r\n\r\nand it *always* crashes and produces several pages of stack traces:\r\n\r\n    21:02:01,302 ERROR [org.hibernate.hql.internal.ast.ErrorTracker] (default task-1)  Unable to locate appropriate constructor on class [com.epsilon.keycloakuserstore.models.DummyDTO]. Expected arguments are: java.lang.String\r\n    [cause=org.hibernate.PropertyNotFoundException: no appropriate constructor in class: com.epsilon.keycloakuserstore.models.DummyDTO]\r\n    21:02:01,303 ERROR [org.hibernate.hql.internal.ast.ErrorTracker] (default task-1)  Unable to locate appropriate constructor on class [com.epsilon.keycloakuserstore.models.DummyDTO]. Expected arguments are: java.lang.String\r\n    [cause=org.hibernate.PropertyNotFoundException: no appropriate constructor in class: com.epsilon.keycloakuserstore.models.DummyDTO]:  Unable to locate appropriate constructor on class [com.epsilon.keycloakuserstore.models.DummyDTO]. Expected arguments are: java.lang.String\r\n    [cause=org.hibernate.PropertyNotFoundException: no appropriate constructor in class: com.epsilon.keycloakuserstore.models.DummyDTO]\r\n            at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.hql.internal.ast.tree.ConstructorNode.resolveConstructor(ConstructorNode.java:182)\r\n            at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.hql.internal.ast.tree.ConstructorNode.prepare(ConstructorNode.java:144)\r\n            at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.hql.internal.ast.HqlSqlWalker.processConstructor(HqlSqlWalker.java:1245)\r\n            at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectExpr(HqlSqlBaseWalker.java:2375)\r\n            at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectExprList(HqlSqlBaseWalker.java:2241)\r\n            at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectClause(HqlSqlBaseWalker.java:1507)\r\n            at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:589)\r\n            at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:317)\r\n            at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:265)\r\n            at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:272)\r\n            at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192)\r\n            at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)\r\n            at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:113)\r\n            at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73)\r\n            at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:155)\r\n            at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.query.spi.NamedQueryRepository.checkNamedQueries(NamedQueryRepository.java:157)\r\n            at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.internal.SessionFactoryImpl.checkNamedQueries(SessionFactoryImpl.java:588)\r\n            at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:331)\r\n            at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)\r\n            at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)\r\n            at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:141)\r\n            at deployment.els-user-store-1.0.0-SNAPSHOT.jar//com.epsilon.keycloakuserstore.ElsUserStorageProviderFactory.create(ElsUserStorageProviderFactory.java:154)\r\n            at deployment.els-user-store-1.0.0-SNAPSHOT.jar//com.epsilon.keycloakuserstore.ElsUserStorageProviderFactory.create(ElsUserStorageProviderFactory.java:39)\r\n            at org.keycloak.keycloak-services@12.0.4//org.keycloak.storage.AbstractStorageManager.getStorageProviderInstance(AbstractStorageManager.java:229)\r\n            at org.keycloak.keycloak-services@12.0.4//org.keycloak.storage.AbstractStorageManager.lambda$getEnabledStorageProviders$0(AbstractStorageManager.java:98)\r\n            at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n            at java.base/java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:400)\r\n            at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\r\n            at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\r\n            at java.base/java.util.stream.StreamSpliterators$AbstractWrappingSpliterator.fillBuffer(StreamSpliterators.java:210)\r\n            at java.base/java.util.stream.StreamSpliterators$AbstractWrappingSpliterator.doAdvance(StreamSpliterators.java:161)\r\n            at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.tryAdvance(StreamSpliterators.java:300)\r\n            at java.base/java.util.stream.Streams$ConcatSpliterator.tryAdvance(Streams.java:723)\r\n            at java.base/java.util.stream.Streams$ConcatSpliterator.tryAdvance(Streams.java:720)\r\n            at java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127)\r\n            at java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\r\n            at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\r\n            at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n            at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n            at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n            at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n            at java.base/java.util.stream.ReferencePipeline.forEachOrdered(ReferencePipeline.java:502)\r\n            at com.fasterxml.jackson.datatype.jackson-datatype-jdk8@2.10.5//com.fasterxml.jackson.datatype.jdk8.StreamSerializer.serialize(StreamSerializer.java:71)\r\n            at com.fasterxml.jackson.datatype.jackson-datatype-jdk8@2.10.5//com.fasterxml.jackson.datatype.jdk8.StreamSerializer.serialize(StreamSerializer.java:15)\r\n            at com.fasterxml.jackson.core.jackson-databind@2.10.5//com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480)\r\n            at com.fasterxml.jackson.core.jackson-databind@2.10.5//com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:400)\r\n            at com.fasterxml.jackson.core.jackson-databind@2.10.5//com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1429)\r\n            at com.fasterxml.jackson.core.jackson-databind@2.10.5//com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:921)\r\n            at org.jboss.resteasy.resteasy-jackson2-provider@3.13.2.Final//org.jboss.resteasy.plugins.providers.jackson.ResteasyJackson2Provider.writeTo(ResteasyJackson2Provider.java:328)\r\n            at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.interception.AbstractWriterInterceptorContext.writeTo(AbstractWriterInterceptorContext.java:137)\r\n            at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.interception.ServerWriterInterceptorContext.writeTo(ServerWriterInterceptorContext.java:61)\r\n            at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.interception.AbstractWriterInterceptorContext.proceed(AbstractWriterInterceptorContext.java:124)\r\n            at org.jboss.resteasy.resteasy-crypto@3.13.2.Final//org.jboss.resteasy.security.doseta.DigitalSigningInterceptor.aroundWriteTo(DigitalSigningInterceptor.java:147)\r\n            at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.interception.AbstractWriterInterceptorContext.proceed(AbstractWriterInterceptorContext.java:129)\r\n            at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.ServerResponseWriter.lambda$writeNomapResponse$2(ServerResponseWriter.java:151)\r\n            at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.interception.ContainerResponseContextImpl.filter(ContainerResponseContextImpl.java:399)\r\n            at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.ServerResponseWriter.executeFilters(ServerResponseWriter.java:219)\r\n            at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.ServerResponseWriter.writeNomapResponse(ServerResponseWriter.java:95)\r\n            at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.ServerResponseWriter.writeNomapResponse(ServerResponseWriter.java:69)\r\n            at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.SynchronousDispatcher.writeResponse(SynchronousDispatcher.java:530)\r\n            at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:461)\r\n            at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)\r\n            at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)\r\n            at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)\r\n            at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)\r\n            at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)\r\n            at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)\r\n            at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)\r\n            at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)\r\n            at javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n            at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n            at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n            at org.keycloak.keycloak-wildfly-extensions@12.0.4//org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)\r\n            at org.keycloak.keycloak-services@12.0.4//org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)\r\n            at org.keycloak.keycloak-wildfly-extensions@12.0.4//org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)\r\n            at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n            at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n            at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n            at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n            at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n            at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n            at org.wildfly.extension.undertow@21.0.2.Final//org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\r\n            at io.undertow.core@2.2.2.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n            at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n            at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\r\n            at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n            at io.undertow.core@2.2.2.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n            at io.undertow.core@2.2.2.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n            at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n            at io.undertow.core@2.2.2.Final//io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n            at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n            at io.undertow.core@2.2.2.Final//io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\r\n            at io.undertow.core@2.2.2.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n            at io.undertow.core@2.2.2.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n            at org.wildfly.extension.undertow@21.0.2.Final//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n            at io.undertow.core@2.2.2.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n            at org.wildfly.extension.undertow@21.0.2.Final//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\r\n            at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\r\n            at io.undertow.core@2.2.2.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n            at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\r\n            at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n            at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n            at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n            at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n            at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n            at org.wildfly.extension.undertow@21.0.2.Final//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n            at org.wildfly.extension.undertow@21.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n            at org.wildfly.extension.undertow@21.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n            at org.wildfly.extension.undertow@21.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n            at org.wildfly.extension.undertow@21.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n            at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n            at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n            at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n            at io.undertow.core@2.2.2.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\r\n            at io.undertow.core@2.2.2.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\r\n            at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n            at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n            at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n            at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n            at org.jboss.xnio@3.8.2.Final//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\r\n            at java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n\r\n\r\n\r\n\r\n","title":"Unable to locate appropriate constructor Expected arguments are: java.lang.String","body":"<p>I have been completely unable to get Hibernate with DTOs. Not even very simple object with a single string, it <em>always</em> complains about &quot;Unable to locate appropriate constructor&quot; :(</p>\n<p>I started with real code but tried to narrow it down and it doesn't even work with a class with a single String member (The Database is Sybase, the queries with Entities work, but DTOs do not):</p>\n<p>I have this DTO class:</p>\n<pre><code>package com.epsilon.keycloakuserstore.models;\nimport lombok.Data;\n\n@Data\npublic class DummyDTO {\n    private java.lang.String loginId;\n\n    DummyDTO(java.lang.String loginId)\n    {\n        this.loginId = loginId;\n    }\n}\n</code></pre>\n<p>and this Named Query:</p>\n<pre><code>@NamedQuery(name=&quot;getDummy&quot;, query=&quot;select new com.epsilon.keycloakuserstore.models.DummyDTO ('String')&quot;),\n</code></pre>\n<p>I also tried to query a table (instead of a literal) with this query:</p>\n<pre><code>@NamedQuery(name=&quot;getDummy&quot;, query=&quot;select new com.epsilon.keycloakuserstore.models.DummyDTO (u.loginId) from User u&quot;),\n</code></pre>\n<p>and this code to call it:</p>\n<pre><code>public Optional&lt;DummyDTO&gt; getDummy() {\n    logger.info(&quot;getDummy()&quot;);\n    TypedQuery&lt;DummyDTO&gt; query = entityManager.createNamedQuery(&quot;getDummy&quot;, DummyDTO.class);\n    Optional&lt;DummyDTO&gt; optDummy = query.getResultList().stream().findFirst();\n    if (optDummy.isPresent()) {\n        logger.info(optDummy.get().toString());\n    }\n    return optDummy;\n}\n</code></pre>\n<p>and it <em>always</em> crashes and produces several pages of stack traces:</p>\n<pre><code>21:02:01,302 ERROR [org.hibernate.hql.internal.ast.ErrorTracker] (default task-1)  Unable to locate appropriate constructor on class [com.epsilon.keycloakuserstore.models.DummyDTO]. Expected arguments are: java.lang.String\n[cause=org.hibernate.PropertyNotFoundException: no appropriate constructor in class: com.epsilon.keycloakuserstore.models.DummyDTO]\n21:02:01,303 ERROR [org.hibernate.hql.internal.ast.ErrorTracker] (default task-1)  Unable to locate appropriate constructor on class [com.epsilon.keycloakuserstore.models.DummyDTO]. Expected arguments are: java.lang.String\n[cause=org.hibernate.PropertyNotFoundException: no appropriate constructor in class: com.epsilon.keycloakuserstore.models.DummyDTO]:  Unable to locate appropriate constructor on class [com.epsilon.keycloakuserstore.models.DummyDTO]. Expected arguments are: java.lang.String\n[cause=org.hibernate.PropertyNotFoundException: no appropriate constructor in class: com.epsilon.keycloakuserstore.models.DummyDTO]\n        at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.hql.internal.ast.tree.ConstructorNode.resolveConstructor(ConstructorNode.java:182)\n        at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.hql.internal.ast.tree.ConstructorNode.prepare(ConstructorNode.java:144)\n        at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.hql.internal.ast.HqlSqlWalker.processConstructor(HqlSqlWalker.java:1245)\n        at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectExpr(HqlSqlBaseWalker.java:2375)\n        at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectExprList(HqlSqlBaseWalker.java:2241)\n        at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectClause(HqlSqlBaseWalker.java:1507)\n        at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:589)\n        at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:317)\n        at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:265)\n        at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:272)\n        at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192)\n        at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)\n        at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:113)\n        at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73)\n        at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:155)\n        at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.query.spi.NamedQueryRepository.checkNamedQueries(NamedQueryRepository.java:157)\n        at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.internal.SessionFactoryImpl.checkNamedQueries(SessionFactoryImpl.java:588)\n        at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:331)\n        at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)\n        at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)\n        at deployment.els-user-store-1.0.0-SNAPSHOT.jar//org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:141)\n        at deployment.els-user-store-1.0.0-SNAPSHOT.jar//com.epsilon.keycloakuserstore.ElsUserStorageProviderFactory.create(ElsUserStorageProviderFactory.java:154)\n        at deployment.els-user-store-1.0.0-SNAPSHOT.jar//com.epsilon.keycloakuserstore.ElsUserStorageProviderFactory.create(ElsUserStorageProviderFactory.java:39)\n        at org.keycloak.keycloak-services@12.0.4//org.keycloak.storage.AbstractStorageManager.getStorageProviderInstance(AbstractStorageManager.java:229)\n        at org.keycloak.keycloak-services@12.0.4//org.keycloak.storage.AbstractStorageManager.lambda$getEnabledStorageProviders$0(AbstractStorageManager.java:98)\n        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n        at java.base/java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:400)\n        at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\n        at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\n        at java.base/java.util.stream.StreamSpliterators$AbstractWrappingSpliterator.fillBuffer(StreamSpliterators.java:210)\n        at java.base/java.util.stream.StreamSpliterators$AbstractWrappingSpliterator.doAdvance(StreamSpliterators.java:161)\n        at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.tryAdvance(StreamSpliterators.java:300)\n        at java.base/java.util.stream.Streams$ConcatSpliterator.tryAdvance(Streams.java:723)\n        at java.base/java.util.stream.Streams$ConcatSpliterator.tryAdvance(Streams.java:720)\n        at java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127)\n        at java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n        at java.base/java.util.stream.ReferencePipeline.forEachOrdered(ReferencePipeline.java:502)\n        at com.fasterxml.jackson.datatype.jackson-datatype-jdk8@2.10.5//com.fasterxml.jackson.datatype.jdk8.StreamSerializer.serialize(StreamSerializer.java:71)\n        at com.fasterxml.jackson.datatype.jackson-datatype-jdk8@2.10.5//com.fasterxml.jackson.datatype.jdk8.StreamSerializer.serialize(StreamSerializer.java:15)\n        at com.fasterxml.jackson.core.jackson-databind@2.10.5//com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480)\n        at com.fasterxml.jackson.core.jackson-databind@2.10.5//com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:400)\n        at com.fasterxml.jackson.core.jackson-databind@2.10.5//com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1429)\n        at com.fasterxml.jackson.core.jackson-databind@2.10.5//com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:921)\n        at org.jboss.resteasy.resteasy-jackson2-provider@3.13.2.Final//org.jboss.resteasy.plugins.providers.jackson.ResteasyJackson2Provider.writeTo(ResteasyJackson2Provider.java:328)\n        at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.interception.AbstractWriterInterceptorContext.writeTo(AbstractWriterInterceptorContext.java:137)\n        at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.interception.ServerWriterInterceptorContext.writeTo(ServerWriterInterceptorContext.java:61)\n        at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.interception.AbstractWriterInterceptorContext.proceed(AbstractWriterInterceptorContext.java:124)\n        at org.jboss.resteasy.resteasy-crypto@3.13.2.Final//org.jboss.resteasy.security.doseta.DigitalSigningInterceptor.aroundWriteTo(DigitalSigningInterceptor.java:147)\n        at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.interception.AbstractWriterInterceptorContext.proceed(AbstractWriterInterceptorContext.java:129)\n        at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.ServerResponseWriter.lambda$writeNomapResponse$2(ServerResponseWriter.java:151)\n        at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.interception.ContainerResponseContextImpl.filter(ContainerResponseContextImpl.java:399)\n        at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.ServerResponseWriter.executeFilters(ServerResponseWriter.java:219)\n        at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.ServerResponseWriter.writeNomapResponse(ServerResponseWriter.java:95)\n        at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.ServerResponseWriter.writeNomapResponse(ServerResponseWriter.java:69)\n        at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.SynchronousDispatcher.writeResponse(SynchronousDispatcher.java:530)\n        at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:461)\n        at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)\n        at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)\n        at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)\n        at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)\n        at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)\n        at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)\n        at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)\n        at org.jboss.resteasy.resteasy-jaxrs@3.13.2.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)\n        at javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\n        at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n        at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n        at org.keycloak.keycloak-wildfly-extensions@12.0.4//org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)\n        at org.keycloak.keycloak-services@12.0.4//org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)\n        at org.keycloak.keycloak-wildfly-extensions@12.0.4//org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)\n        at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n        at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n        at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n        at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n        at org.wildfly.extension.undertow@21.0.2.Final//org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\n        at io.undertow.core@2.2.2.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n        at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\n        at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n        at io.undertow.core@2.2.2.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.core@2.2.2.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n        at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n        at io.undertow.core@2.2.2.Final//io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n        at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n        at io.undertow.core@2.2.2.Final//io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\n        at io.undertow.core@2.2.2.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n        at io.undertow.core@2.2.2.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at org.wildfly.extension.undertow@21.0.2.Final//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\n        at io.undertow.core@2.2.2.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at org.wildfly.extension.undertow@21.0.2.Final//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\n        at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\n        at io.undertow.core@2.2.2.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\n        at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\n        at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\n        at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\n        at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n        at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n        at org.wildfly.extension.undertow@21.0.2.Final//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n        at org.wildfly.extension.undertow@21.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at org.wildfly.extension.undertow@21.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at org.wildfly.extension.undertow@21.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at org.wildfly.extension.undertow@21.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\n        at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\n        at io.undertow.servlet@2.2.2.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\n        at io.undertow.core@2.2.2.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\n        at io.undertow.core@2.2.2.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n        at org.jboss.xnio@3.8.2.Final//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":0,"creation_date":1660899340,"post_id":73403075,"comment_id":129647399,"body_markdown":"By looking at the error *`at org.apache.beam.vendor.guava.v26_0_jre.`* it seems like you are using [Apache Beam Vendored Dependencies Guava 26.0 JRE](https://mvnrepository.com/artifact/org.apache.beam/beam-vendor-guava-26_0-jre/0.1) library istead of using the GCP recommended [SDK](https://mvnrepository.com/artifact/org.apache.beam/beam-sdks-java-io-google-cloud-platform).Please confirm which one you are using by checking the *pom.xml* or  *java import* statements. You can also go through this [Installing the Apache Beam SDK](https://cloud.google.com/dataflow/docs/guides/installing-beam-sdk).","body":"By looking at the error <i><code>at org.apache.beam.vendor.guava.v26_0_jre.</code></i> it seems like you are using <a href=\"https://mvnrepository.com/artifact/org.apache.beam/beam-vendor-guava-26_0-jre/0.1\" rel=\"nofollow noreferrer\">Apache Beam Vendored Dependencies Guava 26.0 JRE</a> library istead of using the GCP recommended <a href=\"https://mvnrepository.com/artifact/org.apache.beam/beam-sdks-java-io-google-cloud-platform\" rel=\"nofollow noreferrer\">SDK</a>.Please confirm which one you are using by checking the <i>pom.xml</i> or  <i>java import</i> statements. You can also go through this <a href=\"https://cloud.google.com/dataflow/docs/guides/installing-beam-sdk\" rel=\"nofollow noreferrer\">Installing the Apache Beam SDK</a>."}],"answers":[{"tags":[],"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660865757,"creation_date":1660865757,"answer_id":73410458,"question_id":73403075,"body_markdown":"Can you try without `MultiOutputReceiver out` parameter in the `processElement` method ?\r\n\r\nOutputs are then returned with `context.output` with passing element and corresponding TupleTag.\r\n\r\n\r\nYour example only with context : \r\n\r\n```java\r\n  static class PubsubMessageToArchiveDoFn extends DoFn&lt;PubsubMessage, AvroPubsubMessageRecord&gt; {\r\n\r\nfinal TupleTag&lt;AvroPubsubMessageRecord&gt; medaPcollection = new TupleTag&lt;AvroPubsubMessageRecord&gt;(){};\r\nfinal TupleTag&lt;AvroPubsubMessageRecord&gt; noTag = new TupleTag&lt;AvroPubsubMessageRecord&gt;(){};\r\n\r\n@ProcessElement\r\npublic void processElement(ProcessContext context) {\r\n  String appCode;\r\n  PubsubMessage message = context.element();\r\n  String msgStr = new String(message.getPayload(), StandardCharsets.UTF_8);\r\n\r\n  try {\r\n    JSONObject jsonObject = new JSONObject(msgStr);\r\n    LOGGER.info(&quot;json: {}&quot;, jsonObject);\r\n    appCode = jsonObject.getString(&quot;app_code&quot;);\r\n    LOGGER.info(appCode);\r\n    if(appCode == &quot;MEDA&quot;){\r\n      LOGGER.info(&quot;Made it to MEDA tag&quot;);\r\n      context.output(medaPcollection, new AvroPubsubMessageRecord(\r\n              message.getPayload(), message.getAttributeMap(), context.timestamp().getMillis()));\r\n    } else {\r\n      LOGGER.info(&quot;Made it to default tag&quot;);\r\n      context.output(noTag, new AvroPubsubMessageRecord(\r\n              message.getPayload(), message.getAttributeMap(), context.timestamp().getMillis()));\r\n    }\r\n  } catch (Exception e) {\r\n    LOGGER.info(&quot;Error Processing Message: {}\\n{}&quot;, msgStr, e);\r\n  }\r\n}\r\n```\r\n\r\nI also show you an example that works for me : \r\n\r\n```java\r\npublic class WordCountFn extends DoFn&lt;String, Integer&gt; {\r\n\r\n     private final TupleTag&lt;Integer&gt; outputTag = new TupleTag&lt;Integer&gt;() {};\r\n     private final TupleTag&lt;Failure&gt; failuresTag = new TupleTag&lt;Failure&gt;() {};\r\n    \r\n     @ProcessElement\r\n     public void processElement(ProcessContext ctx) {\r\n        try {\r\n            // Could throw ArithmeticException.\r\n            final String word = ctx.element();\r\n            ctx.output(1 / word.length());\r\n        } catch (Throwable throwable) {\r\n            final Failure failure = Failure.from(&quot;step&quot;, ctx.element(), throwable);\r\n            ctx.output(failuresTag, failure);\r\n        }\r\n    }\r\n    \r\n    public TupleTag&lt;Integer&gt; getOutputTag() {\r\n       return outputTag;\r\n    }\r\n    \r\n    public TupleTag&lt;Failure&gt; getFailuresTag() {\r\n       return failuresTag;\r\n    }\r\n}\r\n```\r\n\r\nIn my first output (good case), no need to pass the TupleTag `ctx.output(1 / word.length());`\r\n\r\nFor my second output (failure case), I pass the Failure tag with the corresponding element.","title":"TupleTag not found in DoFn","body":"<p>Can you try without <code>MultiOutputReceiver out</code> parameter in the <code>processElement</code> method ?</p>\n<p>Outputs are then returned with <code>context.output</code> with passing element and corresponding TupleTag.</p>\n<p>Your example only with context :</p>\n<pre class=\"lang-java prettyprint-override\"><code>  static class PubsubMessageToArchiveDoFn extends DoFn&lt;PubsubMessage, AvroPubsubMessageRecord&gt; {\n\nfinal TupleTag&lt;AvroPubsubMessageRecord&gt; medaPcollection = new TupleTag&lt;AvroPubsubMessageRecord&gt;(){};\nfinal TupleTag&lt;AvroPubsubMessageRecord&gt; noTag = new TupleTag&lt;AvroPubsubMessageRecord&gt;(){};\n\n@ProcessElement\npublic void processElement(ProcessContext context) {\n  String appCode;\n  PubsubMessage message = context.element();\n  String msgStr = new String(message.getPayload(), StandardCharsets.UTF_8);\n\n  try {\n    JSONObject jsonObject = new JSONObject(msgStr);\n    LOGGER.info(&quot;json: {}&quot;, jsonObject);\n    appCode = jsonObject.getString(&quot;app_code&quot;);\n    LOGGER.info(appCode);\n    if(appCode == &quot;MEDA&quot;){\n      LOGGER.info(&quot;Made it to MEDA tag&quot;);\n      context.output(medaPcollection, new AvroPubsubMessageRecord(\n              message.getPayload(), message.getAttributeMap(), context.timestamp().getMillis()));\n    } else {\n      LOGGER.info(&quot;Made it to default tag&quot;);\n      context.output(noTag, new AvroPubsubMessageRecord(\n              message.getPayload(), message.getAttributeMap(), context.timestamp().getMillis()));\n    }\n  } catch (Exception e) {\n    LOGGER.info(&quot;Error Processing Message: {}\\n{}&quot;, msgStr, e);\n  }\n}\n</code></pre>\n<p>I also show you an example that works for me :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WordCountFn extends DoFn&lt;String, Integer&gt; {\n\n     private final TupleTag&lt;Integer&gt; outputTag = new TupleTag&lt;Integer&gt;() {};\n     private final TupleTag&lt;Failure&gt; failuresTag = new TupleTag&lt;Failure&gt;() {};\n    \n     @ProcessElement\n     public void processElement(ProcessContext ctx) {\n        try {\n            // Could throw ArithmeticException.\n            final String word = ctx.element();\n            ctx.output(1 / word.length());\n        } catch (Throwable throwable) {\n            final Failure failure = Failure.from(&quot;step&quot;, ctx.element(), throwable);\n            ctx.output(failuresTag, failure);\n        }\n    }\n    \n    public TupleTag&lt;Integer&gt; getOutputTag() {\n       return outputTag;\n    }\n    \n    public TupleTag&lt;Failure&gt; getFailuresTag() {\n       return failuresTag;\n    }\n}\n</code></pre>\n<p>In my first output (good case), no need to pass the TupleTag <code>ctx.output(1 / word.length());</code></p>\n<p>For my second output (failure case), I pass the Failure tag with the corresponding element.</p>\n"},{"tags":[],"owner":{"account_id":18604807,"reputation":75,"user_id":13558695,"display_name":"Ben Delany"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660930001,"creation_date":1660930001,"answer_id":73420296,"question_id":73403075,"body_markdown":"I was able to get around this by making my ParDo an anonymous function instead of a class. I put the whole function inline and had no problem finding the output tags after I did that. Thanks for the suggestions!","title":"TupleTag not found in DoFn","body":"<p>I was able to get around this by making my ParDo an anonymous function instead of a class. I put the whole function inline and had no problem finding the output tags after I did that. Thanks for the suggestions!</p>\n"}],"owner":{"account_id":18604807,"reputation":75,"user_id":13558695,"display_name":"Ben Delany"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1660930001,"creation_date":1660825664,"question_id":73403075,"body_markdown":"I have a DoFn that is supposed to split input into two separate PCollections. The pipeline builds and runs up until it is time to output in the DoFn, and then I get the following exception: \r\n\r\n    &quot;java.lang.IllegalArgumentException: Unknown output tag Tag&lt;edu.mayo.mcc.cdh.pipeline.PubsubToAvro$PubsubMessageToArchiveDoFn$2.&lt;init&gt;:219#2587af97b4865538&gt;\r\n\tat org.apache.beam.vendor.guava.v26_0_jre.com.google.common.base.Preconditions.checkArgument(Preconditions.java:216)...\r\n\r\nIf I declare the TupleTags I&#39;m using in the ParDo, I get that error, but if I declare them outside of the ParDo I get a syntax error saying the OutputReceiver can&#39;t find the tags. Below is the apply and the ParDo/DoFn:\r\n\r\n     PCollectionTuple results = (messages.apply(&quot;Map to Archive&quot;, ParDo.of(new PubsubMessageToArchiveDoFn()).withOutputTags(noTag, TupleTagList.of(medaPcollection))));\r\n\r\n    PCollection&lt;AvroPubsubMessageRecord&gt; medaPcollectionTransformed = results.get(medaPcollection);\r\n    PCollection&lt;AvroPubsubMessageRecord&gt; noTagPcollectionTransformed = results.get(noTag);\r\n\r\n      static class PubsubMessageToArchiveDoFn extends DoFn&lt;PubsubMessage, AvroPubsubMessageRecord&gt; {\r\n\r\n    final TupleTag&lt;AvroPubsubMessageRecord&gt; medaPcollection = new TupleTag&lt;AvroPubsubMessageRecord&gt;(){};\r\n    final TupleTag&lt;AvroPubsubMessageRecord&gt; noTag = new TupleTag&lt;AvroPubsubMessageRecord&gt;(){};\r\n\r\n    @ProcessElement\r\n    public void processElement(ProcessContext context, MultiOutputReceiver out) {\r\n      String appCode;\r\n      PubsubMessage message = context.element();\r\n      String msgStr = new String(message.getPayload(), StandardCharsets.UTF_8);\r\n\r\n      try {\r\n        JSONObject jsonObject = new JSONObject(msgStr);\r\n        LOGGER.info(&quot;json: {}&quot;, jsonObject);\r\n        appCode = jsonObject.getString(&quot;app_code&quot;);\r\n        LOGGER.info(appCode);\r\n        if(appCode == &quot;MEDA&quot;){\r\n          LOGGER.info(&quot;Made it to MEDA tag&quot;);\r\n          out.get(medaPcollection).output(new AvroPubsubMessageRecord(\r\n                  message.getPayload(), message.getAttributeMap(), context.timestamp().getMillis()));\r\n        } else {\r\n          LOGGER.info(&quot;Made it to default tag&quot;);\r\n          out.get(noTag).output(new AvroPubsubMessageRecord(\r\n                  message.getPayload(), message.getAttributeMap(), context.timestamp().getMillis()));\r\n        }\r\n      } catch (Exception e) {\r\n        LOGGER.info(&quot;Error Processing Message: {}\\n{}&quot;, msgStr, e);\r\n      }\r\n    }\r\n  }","title":"TupleTag not found in DoFn","body":"<p>I have a DoFn that is supposed to split input into two separate PCollections. The pipeline builds and runs up until it is time to output in the DoFn, and then I get the following exception:</p>\n<pre><code>&quot;java.lang.IllegalArgumentException: Unknown output tag Tag&lt;edu.mayo.mcc.cdh.pipeline.PubsubToAvro$PubsubMessageToArchiveDoFn$2.&lt;init&gt;:219#2587af97b4865538&gt;\nat org.apache.beam.vendor.guava.v26_0_jre.com.google.common.base.Preconditions.checkArgument(Preconditions.java:216)...\n</code></pre>\n<p>If I declare the TupleTags I'm using in the ParDo, I get that error, but if I declare them outside of the ParDo I get a syntax error saying the OutputReceiver can't find the tags. Below is the apply and the ParDo/DoFn:</p>\n<pre><code> PCollectionTuple results = (messages.apply(&quot;Map to Archive&quot;, ParDo.of(new PubsubMessageToArchiveDoFn()).withOutputTags(noTag, TupleTagList.of(medaPcollection))));\n\nPCollection&lt;AvroPubsubMessageRecord&gt; medaPcollectionTransformed = results.get(medaPcollection);\nPCollection&lt;AvroPubsubMessageRecord&gt; noTagPcollectionTransformed = results.get(noTag);\n\n  static class PubsubMessageToArchiveDoFn extends DoFn&lt;PubsubMessage, AvroPubsubMessageRecord&gt; {\n\nfinal TupleTag&lt;AvroPubsubMessageRecord&gt; medaPcollection = new TupleTag&lt;AvroPubsubMessageRecord&gt;(){};\nfinal TupleTag&lt;AvroPubsubMessageRecord&gt; noTag = new TupleTag&lt;AvroPubsubMessageRecord&gt;(){};\n\n@ProcessElement\npublic void processElement(ProcessContext context, MultiOutputReceiver out) {\n  String appCode;\n  PubsubMessage message = context.element();\n  String msgStr = new String(message.getPayload(), StandardCharsets.UTF_8);\n\n  try {\n    JSONObject jsonObject = new JSONObject(msgStr);\n    LOGGER.info(&quot;json: {}&quot;, jsonObject);\n    appCode = jsonObject.getString(&quot;app_code&quot;);\n    LOGGER.info(appCode);\n    if(appCode == &quot;MEDA&quot;){\n      LOGGER.info(&quot;Made it to MEDA tag&quot;);\n      out.get(medaPcollection).output(new AvroPubsubMessageRecord(\n              message.getPayload(), message.getAttributeMap(), context.timestamp().getMillis()));\n    } else {\n      LOGGER.info(&quot;Made it to default tag&quot;);\n      out.get(noTag).output(new AvroPubsubMessageRecord(\n              message.getPayload(), message.getAttributeMap(), context.timestamp().getMillis()));\n    }\n  } catch (Exception e) {\n    LOGGER.info(&quot;Error Processing Message: {}\\n{}&quot;, msgStr, e);\n  }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","regex","validation"],"comments":[{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":1,"creation_date":1660861007,"post_id":73409956,"comment_id":129640173,"body_markdown":"If there are only 4 blocks of digits `^(?!\\\\d+\\\\.\\\\d+\\\\.0\\\\.0$)`","body":"If there are only 4 blocks of digits <code>^(?!\\\\d+\\\\.\\\\d+\\\\.0\\\\.0$)</code>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1660863579,"post_id":73409956,"comment_id":129640667,"body_markdown":"There&#39;s probably some way to do this, but it seems ugly.  Why do you not want to validate IP addresses like 192.168.0.0?  Those *are* valid IP addresses, they&#39;re not special or reserved or anything.","body":"There&#39;s probably some way to do this, but it seems ugly.  Why do you not want to validate IP addresses like 192.168.0.0?  Those <i>are</i> valid IP addresses, they&#39;re not special or reserved or anything."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1660864493,"post_id":73409956,"comment_id":129640822,"body_markdown":"One nice trick if you only want to check something about the end of the string is to reverse it and then check the beginning. So, reverse the string with the IP address and then check if it begins with `&quot;0.0.&quot;`.","body":"One nice trick if you only want to check something about the end of the string is to reverse it and then check the beginning. So, reverse the string with the IP address and then check if it begins with <code>&quot;0.0.&quot;</code>."},{"owner":{"account_id":410264,"reputation":3756,"user_id":782011,"accept_rate":47,"display_name":"pacoverflow"},"score":0,"creation_date":1660876221,"post_id":73409956,"comment_id":129642563,"body_markdown":"@Thefourthbird When I do `java.util.regex.Pattern pattern = java.util.regex.Pattern.compile(&quot;^(?!\\\\d+\\\\.\\\\d+\\\\.0\\\\.0$)&quot;);` and then call `pattern.matcher(&quot;192.168.1.1&quot;).matches()`, it incorrectly returns false.","body":"@Thefourthbird When I do <code>java.util.regex.Pattern pattern = java.util.regex.Pattern.compile(&quot;^(?!\\\\d+\\\\.\\\\d+\\\\.0\\\\.0$)&quot;)&zwnj;&#8203;;</code> and then call <code>pattern.matcher(&quot;192.168.1.1&quot;).matches()</code>, it incorrectly returns false."}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660929658,"creation_date":1660864224,"answer_id":73410306,"question_id":73409956,"body_markdown":"I found a tutorial on negative look ahead that seems to do what you want:\r\n\r\n    REGEX: \\d+\\.\\d+\\.(?!0\\.0)\\d+\\.\\d+\r\n\r\nYou&#39;ll have to add extra slashes for a Java string.  (I tested this on an old &quot;REGEX Tester&quot; program I made in 2016 or so, no code was harmed in the making of that regex.)\r\n\r\nThe short explanation is &quot;negative look ahead&quot; is used to invalidate a string of &quot;0.0&quot;.  The regex finds the first two digit strings (`\\d+\\.\\d+\\.`) then &quot;looks ahead&quot; without updating the current position for the string &quot;0.0&quot; `(?!0\\.0)`.  If it finds that string, then it invalidates the match, because it&#39;s *negative* look ahead, which only matches if it *doesn&#39;t* find the string. If it doesn&#39;t find the string then we just go on to match the final two octets as normal.\r\n\r\n(As DuncG and pacoverflow point out below, there might be some ways to improve this.  Using `(?!0+\\.0+$)` for the negative look ahead is probably a better idea.  And don&#39;t forget to wrap this regex in `^( )$`.)\r\n\r\nI think there&#39;s several ways for this to go wrong however and I think I&#39;d recommend a full IP address parser (what about IPV6 addresses?) and then testing the octets/16-bit numbers as numbers, not strings.\r\n\r\n\r\nThe website: https://regexland.com/regex-match-all-except/\r\n\r\n","title":"How do I specify a regex in Java to match any IP address that does not end in &quot;.0.0&quot;?","body":"<p>I found a tutorial on negative look ahead that seems to do what you want:</p>\n<pre><code>REGEX: \\d+\\.\\d+\\.(?!0\\.0)\\d+\\.\\d+\n</code></pre>\n<p>You'll have to add extra slashes for a Java string.  (I tested this on an old &quot;REGEX Tester&quot; program I made in 2016 or so, no code was harmed in the making of that regex.)</p>\n<p>The short explanation is &quot;negative look ahead&quot; is used to invalidate a string of &quot;0.0&quot;.  The regex finds the first two digit strings (<code>\\d+\\.\\d+\\.</code>) then &quot;looks ahead&quot; without updating the current position for the string &quot;0.0&quot; <code>(?!0\\.0)</code>.  If it finds that string, then it invalidates the match, because it's <em>negative</em> look ahead, which only matches if it <em>doesn't</em> find the string. If it doesn't find the string then we just go on to match the final two octets as normal.</p>\n<p>(As DuncG and pacoverflow point out below, there might be some ways to improve this.  Using <code>(?!0+\\.0+$)</code> for the negative look ahead is probably a better idea.  And don't forget to wrap this regex in <code>^( )$</code>.)</p>\n<p>I think there's several ways for this to go wrong however and I think I'd recommend a full IP address parser (what about IPV6 addresses?) and then testing the octets/16-bit numbers as numbers, not strings.</p>\n<p>The website: <a href=\"https://regexland.com/regex-match-all-except/\" rel=\"nofollow noreferrer\">https://regexland.com/regex-match-all-except/</a></p>\n"}],"owner":{"account_id":410264,"reputation":3756,"user_id":782011,"accept_rate":47,"display_name":"pacoverflow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73410306,"answer_count":1,"score":0,"last_activity_date":1660929658,"creation_date":1660860586,"question_id":73409956,"body_markdown":"I need to validate that a String field (representing an IP address) in an object does not end in `.0.0`. I will be using the [@Pattern][1] annotation to perform the validation.\r\n\r\nI tried the following:\r\n\r\n    @Pattern(regexp=&quot;(?!(\\\\.0\\\\.0$))&quot;, message=&quot;IP address must not end in .0.0&quot;)\r\n    private String ipAddress;\r\n\r\nThis correctly printed out the validation error message for 192.168.0.0. However, it incorrectly printed out the validation error message for valid IP addresses like 192.168.0.1 and 192.168.1.0.\r\n\r\nWhat regex pattern would achieve what I want?\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/validation/constraints/Pattern.html","title":"How do I specify a regex in Java to match any IP address that does not end in &quot;.0.0&quot;?","body":"<p>I need to validate that a String field (representing an IP address) in an object does not end in <code>.0.0</code>. I will be using the <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/constraints/Pattern.html\" rel=\"nofollow noreferrer\">@Pattern</a> annotation to perform the validation.</p>\n<p>I tried the following:</p>\n<pre><code>@Pattern(regexp=&quot;(?!(\\\\.0\\\\.0$))&quot;, message=&quot;IP address must not end in .0.0&quot;)\nprivate String ipAddress;\n</code></pre>\n<p>This correctly printed out the validation error message for 192.168.0.0. However, it incorrectly printed out the validation error message for valid IP addresses like 192.168.0.1 and 192.168.1.0.</p>\n<p>What regex pattern would achieve what I want?</p>\n"},{"tags":["java","linux","arm64","buildx","quarkus-native"],"answers":[{"tags":[],"owner":{"account_id":17800426,"reputation":36,"user_id":12927337,"display_name":"Matthew Lewis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660923449,"creation_date":1660745105,"answer_id":73389909,"question_id":73363838,"body_markdown":"I&#39;ve created a very simple [Quarkus app][1] that exposes a single REST API to list the available GPIOs. Note that it currently uses the mock provider that will be introduced in v1.3.4 so that I can test and run locally without deploying to a Raspberry Pi.\r\n\r\nRunning on a Pi would be as simple as removing the dependency to diozero-provider-mock in the pom.xml - you would also currently need to change the dependency to 1.3.3 until 1.3.4 is released.\r\n\r\nBasically you need to add this to the application.properties file:\r\n\r\n    quarkus.native.additional-build-args=\\\r\n        -H:ResourceConfigurationFiles=resource-config.json,\\\r\n        -H:JNIConfigurationFiles=jni-config.json,\\\r\n        -H:ReflectionConfigurationFiles=reflect-config.json\r\n\r\nThese files were generated by running com.diozero.sampleapps.LEDTest with the GraalVM Java executable (with a few minor tweaks), i.e.:\r\n\r\n    $GRAALVM_HOME/bin/java -agentlib:native-image-agent=config-output-dir=config \\\r\n      -cp diozero-sampleapps-1.3.4.jar:diozero-core-1.3.4.jar:tinylog-api-2.4.1.jar:tinylog-impl-2.4.1.jar \\\r\n      com.diozero.sampleapps.LEDTest 18\r\n\r\nNote a lot of this was based my prior experiments with GraalVM as documented [here][2] and [here][3].\r\n\r\nThe ProcessHandlerImpl error appear to be related to the tinylog reflect config that I have edited out.\r\n\r\n**Update 1**\r\n\r\nIn making life easy for users of diozero, the library does a bit of static initialisation for things like detecting the local board. This causes issues when loading the most appropriate native library at most once (see [LibraryLoader][4] - you will notice it has a static Map of libraries that have been loaded which prevents it being loaded at runtime). To get around this I recommend adding this build property:\r\n\r\n```\r\n--initialize-at-run-time=com.diozero.sbc\\\\,com.diozero.util\r\n```\r\n\r\nNext, I have been unable to resolve the java.lang.ProcessHandleImpl issue, which prevents reenabling the service loader (diozero uses service loader quite a bit to enable flexibility and extensibility). It would be nice to be able to add this flag:\r\n\r\n```\r\nquarkus.native.auto-service-loader-registration=true\r\n```\r\n\r\nInstead I have specified relevant classes in `resource-config.json`.\r\n\r\n\r\n  [1]: https://github.com/mattjlewis/diozero-quarkus-app\r\n  [2]: https://www.diozero.com/performance/graalvm.html\r\n  [3]: https://deviceiozero.medium.com/building-portable-binaries-for-single-board-computers-with-diozero-and-graalvm-b659f79d5c71\r\n  [4]: https://github.com/mattjlewis/diozero/blob/main/diozero-core/src/main/java/com/diozero/util/LibraryLoader.java#L71","title":"Quarkus Native Application with DioZero on Raspberry Pi using Docker containers (multi-arch)","body":"<p>I've created a very simple <a href=\"https://github.com/mattjlewis/diozero-quarkus-app\" rel=\"nofollow noreferrer\">Quarkus app</a> that exposes a single REST API to list the available GPIOs. Note that it currently uses the mock provider that will be introduced in v1.3.4 so that I can test and run locally without deploying to a Raspberry Pi.</p>\n<p>Running on a Pi would be as simple as removing the dependency to diozero-provider-mock in the pom.xml - you would also currently need to change the dependency to 1.3.3 until 1.3.4 is released.</p>\n<p>Basically you need to add this to the application.properties file:</p>\n<pre><code>quarkus.native.additional-build-args=\\\n    -H:ResourceConfigurationFiles=resource-config.json,\\\n    -H:JNIConfigurationFiles=jni-config.json,\\\n    -H:ReflectionConfigurationFiles=reflect-config.json\n</code></pre>\n<p>These files were generated by running com.diozero.sampleapps.LEDTest with the GraalVM Java executable (with a few minor tweaks), i.e.:</p>\n<pre><code>$GRAALVM_HOME/bin/java -agentlib:native-image-agent=config-output-dir=config \\\n  -cp diozero-sampleapps-1.3.4.jar:diozero-core-1.3.4.jar:tinylog-api-2.4.1.jar:tinylog-impl-2.4.1.jar \\\n  com.diozero.sampleapps.LEDTest 18\n</code></pre>\n<p>Note a lot of this was based my prior experiments with GraalVM as documented <a href=\"https://www.diozero.com/performance/graalvm.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://deviceiozero.medium.com/building-portable-binaries-for-single-board-computers-with-diozero-and-graalvm-b659f79d5c71\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The ProcessHandlerImpl error appear to be related to the tinylog reflect config that I have edited out.</p>\n<p><strong>Update 1</strong></p>\n<p>In making life easy for users of diozero, the library does a bit of static initialisation for things like detecting the local board. This causes issues when loading the most appropriate native library at most once (see <a href=\"https://github.com/mattjlewis/diozero/blob/main/diozero-core/src/main/java/com/diozero/util/LibraryLoader.java#L71\" rel=\"nofollow noreferrer\">LibraryLoader</a> - you will notice it has a static Map of libraries that have been loaded which prevents it being loaded at runtime). To get around this I recommend adding this build property:</p>\n<pre><code>--initialize-at-run-time=com.diozero.sbc\\\\,com.diozero.util\n</code></pre>\n<p>Next, I have been unable to resolve the java.lang.ProcessHandleImpl issue, which prevents reenabling the service loader (diozero uses service loader quite a bit to enable flexibility and extensibility). It would be nice to be able to add this flag:</p>\n<pre><code>quarkus.native.auto-service-loader-registration=true\n</code></pre>\n<p>Instead I have specified relevant classes in <code>resource-config.json</code>.</p>\n"}],"owner":{"account_id":10592426,"reputation":67,"user_id":7802501,"accept_rate":80,"display_name":"NanoBreaker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":633,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":73389909,"answer_count":1,"score":2,"last_activity_date":1660929403,"creation_date":1660580994,"question_id":73363838,"body_markdown":"Yoooo!\r\n\r\n**Scope** \r\n\r\nI am trying to deploy a Quarkus based application to a Raspberry Pi using some *fancy technologies*, my goal is to figure out an easy way to develop an application with Quarkus framework, subsequently deploy as native executable to a raspberry device with full GPIO pins access. Below I will provide you will see requirements that I set for myself and my environment settings to have a better picture of the problem that I faced.\r\n\r\n**Acceptance Criteria**\r\n\r\n 1. Java 17\r\n 2. Build native executable using GraalVM\r\n 3. Execute native executable in a micro image on raspberry&#39;s docker\r\n 4. Target platform can vary\r\n 5. Be able to use GPIO, SPI, I2C and etc. interfaces of the raspberry\r\n\r\n**Environment**\r\n\r\n| Development PC | Raspberry Pi Model 3 B+ |\r\n|:--------------:|:-----------------------:|\r\n| os: Ubuntu 22.04.1 LTS | os: DietPy |\r\n| platform: x86_64, linux/amd64 |  platform: aarch64, linux/arm64/v8|\r\n\r\n**Prerequisites**\r\n\r\n - [Java: diozero a device I/O library](https://www.diozero.com/)\r\n - [Docker: working with buildx](https://docs.docker.com/build/buildx/)\r\n - [Quarkus: build a native executable](https://quarkus.io/guides/building-native-image)\r\n - [How I built ARM based Docker Images for Raspberry Pi using buildx CLI Plugin on Docker Desktop?](https://collabnix.com/building-arm-based-docker-images-on-docker-desktop-made-possible-using-buildx/)\r\n - [Building Multi-Architecture Docker Images With Buildx](https://medium.com/@artur.klauser/building-multi-architecture-docker-images-with-buildx-27d80f7e2408)\r\n\r\n**Application**\r\n\r\n[source code on github](https://github.com/NanoBreaker/ags-gateway)\r\n\r\n 1. As for project base I used *getting-started* application from\r\n    https://github.com/quarkusio/quarkus-quickstarts\r\n 2. Adding diozero library to pom.xml\r\n    ```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.diozero&lt;/groupId&gt;\r\n            &lt;artifactId&gt;diozero-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    ```\r\n 3. Creating a simple resource to test GPIO pins\r\n    &lt;pre&gt;&lt;code&gt;package org.acme.getting.started;\r\n\r\n    import com.diozero.devices.LED;\r\n    \r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.QueryParam;\r\n    \r\n    @Path(&quot;led&quot;)\r\n    public class LedResource {\r\n    \r\n        @Path(&quot;on&quot;)\r\n        public String turnOn(final @QueryParam(&quot;gpio&quot;) Integer gpio) {\r\n            try (final LED led = new LED(gpio)) {\r\n                led.on();\r\n            } catch (final Throwable e) {\r\n                return e.getMessage();\r\n            }\r\n            return &quot;turn on led on gpio &quot; + gpio;\r\n        }\r\n    \r\n        @Path(&quot;off&quot;)\r\n        public String turnOff(final @QueryParam(&quot;gpio&quot;) Integer gpio) {\r\n            try (final LED led = new LED(gpio)) {\r\n                led.off();\r\n            } catch (final Throwable e) {\r\n                return e.getMessage();\r\n            }\r\n            return &quot;turn off led on gpio &quot; + gpio;\r\n        }\r\n    \r\n    }&lt;/code&gt;&lt;/pre&gt;\r\n  4.Dockerfile\r\n\r\n    ```\r\n    # Stage 1 : build with maven builder image with native capabilities\r\n    FROM quay.io/quarkus/ubi-quarkus-native-image:22.0.0-java17-arm64 AS build\r\n    COPY --chown=quarkus:quarkus mvnw /code/mvnw\r\n    COPY --chown=quarkus:quarkus .mvn /code/.mvn\r\n    COPY --chown=quarkus:quarkus pom.xml /code/\r\n    USER quarkus\r\n    WORKDIR /code\r\n    RUN ./mvnw -B org.apache.maven.plugins:maven-dependency-plugin:3.1.2:go-offline\r\n    COPY src /code/src\r\n    RUN ./mvnw package -Pnative\r\n    # Stage 2 : create the docker final image\r\n    FROM registry.access.redhat.com/ubi8/ubi-minimal:8.6-902\r\n    WORKDIR /work/\r\n    COPY --from=build /code/target/*-runner /work/application\r\n    # set up permissions for user 1001\r\n    RUN chmod 775 /work /work/application \\\r\n      &amp;&amp; chown -R 1001 /work \\\r\n      &amp;&amp; chmod -R &quot;g+rwX&quot; /work \\\r\n      &amp;&amp; chown -R 1001:root /work\r\n    EXPOSE 8080\r\n    USER 1001\r\n    CMD [&quot;./application&quot;, &quot;-Dquarkus.http.host=0.0.0.0&quot;]\r\n    ```\r\n\r\n**Building image with native executable**\r\n\r\nDockerfile based on quarkus docs, I changed image of the build container to `quay.io/quarkus/ubi-quarkus-native-image:22.0.0-java17-arm64` and executor container to `registry.access.redhat.com/ubi8/ubi-minimal:8.6-902`, both of these are `linux/arm64*` compliant.\r\n\r\nSince I am developing and building in `linux/amd64` and I want to target `linux/arm64/v8` my executable must be created in a target like environment. I can achieve that with *buildx* feature which enables cross-arch builds for docker images.\r\n\r\n 1. Installing QEMU\r\n\r\n   ```sudo apt-get install -y qemu-user-static```\r\n\r\n   ```sudo apt-get install -y binfmt-support```\r\n\r\n 2. Initializing buildx for `linux/arm64/v8` builds\r\n\r\n   ```sudo docker buildx create --platform linux/arm64/v8 --name arm64-v8```\r\n\r\n 2. Use new driver\r\n\r\n   ```sudo docker buildx use arm64-v8```\r\n\r\n 3. Bootstrap driver\r\n\r\n   ```sudo docker buildx inspect --bootstrap```\r\n\r\n 4. Verify\r\n\r\n   ```sudo docker buildx inspect```\r\n&lt;pre&gt;&lt;code&gt;Name:   arm64-v8\r\nDriver: docker-container\r\nNodes:\r\nName:      arm64-v80\r\nEndpoint:  unix:///var/run/docker.sock\r\nStatus:    running\r\nPlatforms: linux/arm64*, linux/amd64, linux/amd64/v2, linux/amd64/v3, linux/riscv64, linux/ppc64le, linux/s390x, linux/386, linux/mips64le, linux/mips64, linux/arm/v7, linux/arm/v6&lt;/code&gt;&lt;/pre&gt;\r\n\r\nNow looks like we&#39;re ready to run the build. I ended up with the following command\r\n```\r\nsudo docker buildx build --push --progress plain --platform linux/arm64/v8 -f Dockerfile -t nanobreaker/agus:arm64 .\r\n```\r\n - `--push` - since I need to deploy a final image somewhere\r\n - `--platform linux/arm64/v8` - docker requires to define target platform\r\n - `-t nanobreaker/agus:arm64` - my target repository for final image\r\n\r\nIt took ~16 minutes to complete the build and push the image\r\n[![final image on docker hub][1]][1]\r\n - target platform is `linux/arm64` as needed\r\n - 59.75 MB image size, good enough already (with micro image I could achieve ~10 MB)\r\n\r\nAfter I connected to raspberry, downloaded image and run it\r\n```\r\ndocker run -p 8080:8080 nanobreaker/agus:arm64\r\n```\r\n[![quarkus-first-run-arm64][2]][2]\r\nPretty nice, let&#39;s try to execute a http request to test out gpio pins\r\n```\r\ncurl 192.168.0.20:8080/led/on?gpio=3\r\n```\r\n[![quarkus-first-run-arm64-test][3]][3]\r\nOkey, so I see here that there are permission problems and diozero library is not in java.library.path\r\n\r\nWe can fix permission problems by adding additional parameter to docker run command\r\n```\r\ndocker run --privileged -p 8080:8080 nanobreaker/agus:arm64\r\n```\r\n[![quarkus-second-run-arm64][4]][4]\r\n\r\n**PROBLEM**\r\n\r\n**From this point I do not know how to resolve library load error in a native executable.**\r\n\r\nI&#39;ve tried:\r\n\r\n - Pulled out native executable from final container, executed on raspberry host os and had same result, this makes me think that library was not included at GraalVM compile time?\r\n - Learning how library gets loaded https://github.com/mattjlewis/diozero/blob/main/diozero-core/src/main/java/com/diozero/util/LibraryLoader.java\r\n\r\n**UPDATE I**\r\n\r\nIt looks like I have two options here\r\n\r\n - Figure out a way to create configuration for the diozero library so it is properly resolved by GraalVM during native image compilation.\r\n - Add library to the native image and pass it to the native executable.\r\n\r\n**UPDATE II**\r\n\r\nFurther reading of quarkus docs landed me here https://quarkus.io/guides/writing-native-applications-tips\r\n\r\n&gt; By default, when building a native executable, GraalVM will not include any of the resources that are on the classpath into the native executable it creates. Resources that are meant to be part of the native executable need to be configured explicitly. Quarkus automatically includes the resources present in META-INF/resources (the web resources) but, outside this directory, you are on your own.\r\n\r\nI reached out @Matt Lewis (creator of diozero) and he was kind to share his configs, which he used to compile into GraalVM. Thank you Matt!\r\n\r\n&gt; Heres the documentation on my initial tests: https://www.diozero.com/performance/graalvm.html \r\nI stashed the GraalVM config here: https://github.com/mattjlewis/diozero/tree/main/src/main/graalvm/config\r\n\r\nSo combining the knowledge we can enrich pom.xml with additional setting to tell GraalVM how to process our library\r\n\r\n```\r\n&lt;quarkus.native.additional-build-args&gt;\r\n    -H:ResourceConfigurationFiles=resource-config.json,\r\n    -H:ReflectionConfigurationFiles=reflection-config.json,\r\n    -H:JNIConfigurationFiles=jni-config.json,\r\n    -H:+TraceServiceLoaderFeature,\r\n    -H:+ReportExceptionStackTraces\r\n&lt;/quarkus.native.additional-build-args&gt;\r\n```\r\n\r\nAlso added resource-config.json, reflection-config.json, jni-config.json to the resource folder of the project (src/main/resources)\r\n\r\nFirst, I will try to create a native executable in my native os `./mvnw package -Dnative`\r\n\r\n```\r\nFatal error: org.graalvm.compiler.debug.GraalError: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: No instances of java.lang.ProcessHandleImpl are allowed in the image heap as this class should be initialized at image runtime. To see how this object got instantiated use --trace-object-instantiation=java.lang.ProcessHandleImpl.\r\n```\r\nOkey, so it failed, but let&#39;s trace object instantiation as recommended, maybe we can do something in configs to get around this. I added `--trace-object-instantiation=java.lang.ProcessHandleImpl` to the additional build args.\r\n\r\n```\r\nFatal error: org.graalvm.compiler.debug.GraalError: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: No instances of java.lang.ProcessHandleImpl are allowed in the image heap as this class should be initialized at image runtime. Object has been initialized by the java.lang.ProcessHandleImpl class initializer with a trace: \r\n        at java.lang.ProcessHandleImpl.&lt;init&gt;(ProcessHandleImpl.java:227)\r\n        at java.lang.ProcessHandleImpl.&lt;clinit&gt;(ProcessHandleImpl.java:77)\r\n.  To fix the issue mark java.lang.ProcessHandleImpl for build-time initialization with --initialize-at-build-time=java.lang.ProcessHandleImpl or use the the information from the trace to find the culprit and --initialize-at-run-time=&lt;culprit&gt; to prevent its instantiation.\r\n```\r\nsomething new at least, let&#39;s try to initialize it first at build time with `--initialize-at-build-time=java.lang.ProcessHandleImpl`\r\n```\r\nError: Incompatible change of initialization policy for java.lang.ProcessHandleImpl: trying to change BUILD_TIME from command line with &#39;java.lang.ProcessHandleImpl&#39; to RERUN for JDK native code support via JNI\r\ncom.oracle.svm.core.util.UserError$UserException: Incompatible change of initialization policy for java.lang.ProcessHandleImpl: trying to change BUILD_TIME from command line with &#39;java.lang.ProcessHandleImpl&#39; to RERUN for JDK native code support via JNI\r\n\r\n```\r\nOkey, we&#39;re not able to change the initialization kind and looks like it won&#39;t give us any effect.\r\nI found out that with `-H:+PrintClassInitialization` we can generate a csv file with class initialization info\r\nhere we have two lines for `java.lang.ProcessHandleImpl`\r\n```\r\njava.lang.ProcessHandleImpl, RERUN, for JDK native code support via JNI\r\njava.lang.ProcessHandleImpl$Info, RERUN, for JDK native code support via JNI\r\n```\r\nSo it says that class is marked as `RERUN`, but isn&#39;t this the thing we&#39;re looking for? Makes no sense for me right now. \r\n\r\n**UPDATE III**\r\n\r\nWith the configs for graalvm provided by @Matt I was able to compile a native image, but it fails anyways during runtime due to `java.lang.UnsatisfiedLinkError`, makes me feel like the library was not injected properly.\r\n\r\nSo looks like we just need to build a proper configuration file, in order to do this let&#39;s build our application without native for now, just run it on raspberry, trigger the code related to diozero, get output configs.\r\n\r\n```./mvnw clean package -Dquarkus.package.type=uber-jar```\r\n\r\nDeploying to raspberry, will run with graalvm agent for configs generation (https://www.graalvm.org/22.1/reference-manual/native-image/Agent/)\r\n\r\n```/$GRAALVM_HOME/bin/java -agentlib:native-image-agent=config-output-dir=config -jar ags-gateway-1.0.0-SNAPSHOT-runner.jar```\r\n\r\nRunning simple requests to trigger diozero code (I&#39;ve connected a led to raspberry on gpio 4, and was actually seeing it turn off/on)\r\n\r\n```curl -X POST 192.168.0.20:8080/blink/off?gpio=4```\r\n\r\n```curl -X POST 192.168.0.20:8080/blink/on?gpio=4```\r\n\r\nI&#39;ve published [project](https://github.com/NanoBreaker/ags-gateway) with [output configs](https://github.com/NanoBreaker/ags-gateway/tree/main/src/main/resources)\r\n\r\nOne thing I noticed that `&quot;pattern&quot;:&quot;\\\\Qlib/linux-aarch64/libdiozero-system-utils.so\\\\E&quot;` aarch64 library gets pulled while running on py which is correct, but when I build on native OS I should specify &#39;amd64&#39; platform.\r\n\r\nLet&#39;s try to build a native with new configs\r\n```\r\n./mvnw package -Dnative\r\n```\r\n\r\nSuccessfully compiled, let&#39;s run and test\r\n```\r\n./target/ags-gateway-1.0.0-SNAPSHOT-runner\r\ncurl -X POST localhost:8080/led/on?gpio=4\r\n```\r\n\r\nAnd here we have error again\r\n```\r\nERROR [io.qua.ver.htt.run.QuarkusErrorHandler] (executor-thread-0) HTTP Request to /led/on?gpio=4 failed, error id: b0ef3f8a-6813-4ea8-886f-83f626eea3b5-1: java.lang.UnsatisfiedLinkError: com.diozero.internal.provider.builtin.gpio.NativeGpioDevice.openChip(Ljava/lang/String;)Lcom/diozero/internal/provider/builtin/gpio/GpioChip; [symbol: Java_com_diozero_internal_provider_builtin_gpio_NativeGpioDevice_openChip or Java_com_diozero_internal_provider_builtin_gpio_NativeGpioDevice_openChip__Ljava_lang_String_2]\r\n```\r\n\r\nSo I finally managed to build native image, but for some reason it didn&#39;t resolve JNI for native library.\r\n\r\nAny thoughts on how to properly inject diozero library into native executable?\r\n\r\n**UPDATE IV**\r\n\r\nWith help of @matthew-lewis we managed to build aarch64 native executable on amd64 os. I updated the source project with final configurations, but I must inform you that this is not a final solution and it doesn&#39;t cover all the library code, also according to the Matt&#39;s comments this might not be the only way to configure the graalvm build. \r\n\r\n  [1]: https://i.stack.imgur.com/wTjIj.png\r\n  [2]: https://i.stack.imgur.com/7aDAX.png\r\n  [3]: https://i.stack.imgur.com/8fNNs.png\r\n  [4]: https://i.stack.imgur.com/N18ci.png\r\n  [5]: https://i.stack.imgur.com/5UWG4.png","title":"Quarkus Native Application with DioZero on Raspberry Pi using Docker containers (multi-arch)","body":"<p>Yoooo!</p>\n<p><strong>Scope</strong></p>\n<p>I am trying to deploy a Quarkus based application to a Raspberry Pi using some <em>fancy technologies</em>, my goal is to figure out an easy way to develop an application with Quarkus framework, subsequently deploy as native executable to a raspberry device with full GPIO pins access. Below I will provide you will see requirements that I set for myself and my environment settings to have a better picture of the problem that I faced.</p>\n<p><strong>Acceptance Criteria</strong></p>\n<ol>\n<li>Java 17</li>\n<li>Build native executable using GraalVM</li>\n<li>Execute native executable in a micro image on raspberry's docker</li>\n<li>Target platform can vary</li>\n<li>Be able to use GPIO, SPI, I2C and etc. interfaces of the raspberry</li>\n</ol>\n<p><strong>Environment</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">Development PC</th>\n<th style=\"text-align: center;\">Raspberry Pi Model 3 B+</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">os: Ubuntu 22.04.1 LTS</td>\n<td style=\"text-align: center;\">os: DietPy</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">platform: x86_64, linux/amd64</td>\n<td style=\"text-align: center;\">platform: aarch64, linux/arm64/v8</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>Prerequisites</strong></p>\n<ul>\n<li><a href=\"https://www.diozero.com/\" rel=\"nofollow noreferrer\">Java: diozero a device I/O library</a></li>\n<li><a href=\"https://docs.docker.com/build/buildx/\" rel=\"nofollow noreferrer\">Docker: working with buildx</a></li>\n<li><a href=\"https://quarkus.io/guides/building-native-image\" rel=\"nofollow noreferrer\">Quarkus: build a native executable</a></li>\n<li><a href=\"https://collabnix.com/building-arm-based-docker-images-on-docker-desktop-made-possible-using-buildx/\" rel=\"nofollow noreferrer\">How I built ARM based Docker Images for Raspberry Pi using buildx CLI Plugin on Docker Desktop?</a></li>\n<li><a href=\"https://medium.com/@artur.klauser/building-multi-architecture-docker-images-with-buildx-27d80f7e2408\" rel=\"nofollow noreferrer\">Building Multi-Architecture Docker Images With Buildx</a></li>\n</ul>\n<p><strong>Application</strong></p>\n<p><a href=\"https://github.com/NanoBreaker/ags-gateway\" rel=\"nofollow noreferrer\">source code on github</a></p>\n<ol>\n<li>As for project base I used <em>getting-started</em> application from\n<a href=\"https://github.com/quarkusio/quarkus-quickstarts\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus-quickstarts</a></li>\n<li>Adding diozero library to pom.xml\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.diozero&lt;/groupId&gt;\n        &lt;artifactId&gt;diozero-core&lt;/artifactId&gt;\n        &lt;version&gt;1.3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n</li>\n<li>Creating a simple resource to test GPIO pins<pre><code>package org.acme.getting.started;\n\nimport com.diozero.devices.LED;\n\nimport javax.ws.rs.Path;\nimport javax.ws.rs.QueryParam;\n\n@Path(\"led\")\npublic class LedResource {\n\n    @Path(\"on\")\n    public String turnOn(final @QueryParam(\"gpio\") Integer gpio) {\n        try (final LED led = new LED(gpio)) {\n            led.on();\n        } catch (final Throwable e) {\n            return e.getMessage();\n        }\n        return \"turn on led on gpio \" + gpio;\n    }\n\n    @Path(\"off\")\n    public String turnOff(final @QueryParam(\"gpio\") Integer gpio) {\n        try (final LED led = new LED(gpio)) {\n            led.off();\n        } catch (final Throwable e) {\n            return e.getMessage();\n        }\n        return \"turn off led on gpio \" + gpio;\n    }\n\n}</code></pre>\n</li>\n</ol>\n<p>4.Dockerfile</p>\n<pre><code>```\n# Stage 1 : build with maven builder image with native capabilities\nFROM quay.io/quarkus/ubi-quarkus-native-image:22.0.0-java17-arm64 AS build\nCOPY --chown=quarkus:quarkus mvnw /code/mvnw\nCOPY --chown=quarkus:quarkus .mvn /code/.mvn\nCOPY --chown=quarkus:quarkus pom.xml /code/\nUSER quarkus\nWORKDIR /code\nRUN ./mvnw -B org.apache.maven.plugins:maven-dependency-plugin:3.1.2:go-offline\nCOPY src /code/src\nRUN ./mvnw package -Pnative\n# Stage 2 : create the docker final image\nFROM registry.access.redhat.com/ubi8/ubi-minimal:8.6-902\nWORKDIR /work/\nCOPY --from=build /code/target/*-runner /work/application\n# set up permissions for user 1001\nRUN chmod 775 /work /work/application \\\n  &amp;&amp; chown -R 1001 /work \\\n  &amp;&amp; chmod -R &quot;g+rwX&quot; /work \\\n  &amp;&amp; chown -R 1001:root /work\nEXPOSE 8080\nUSER 1001\nCMD [&quot;./application&quot;, &quot;-Dquarkus.http.host=0.0.0.0&quot;]\n```\n</code></pre>\n<p><strong>Building image with native executable</strong></p>\n<p>Dockerfile based on quarkus docs, I changed image of the build container to <code>quay.io/quarkus/ubi-quarkus-native-image:22.0.0-java17-arm64</code> and executor container to <code>registry.access.redhat.com/ubi8/ubi-minimal:8.6-902</code>, both of these are <code>linux/arm64*</code> compliant.</p>\n<p>Since I am developing and building in <code>linux/amd64</code> and I want to target <code>linux/arm64/v8</code> my executable must be created in a target like environment. I can achieve that with <em>buildx</em> feature which enables cross-arch builds for docker images.</p>\n<ol>\n<li>Installing QEMU</li>\n</ol>\n<p><code>sudo apt-get install -y qemu-user-static</code></p>\n<p><code>sudo apt-get install -y binfmt-support</code></p>\n<ol start=\"2\">\n<li>Initializing buildx for <code>linux/arm64/v8</code> builds</li>\n</ol>\n<p><code>sudo docker buildx create --platform linux/arm64/v8 --name arm64-v8</code></p>\n<ol start=\"2\">\n<li>Use new driver</li>\n</ol>\n<p><code>sudo docker buildx use arm64-v8</code></p>\n<ol start=\"3\">\n<li>Bootstrap driver</li>\n</ol>\n<p><code>sudo docker buildx inspect --bootstrap</code></p>\n<ol start=\"4\">\n<li>Verify</li>\n</ol>\n<p><code>sudo docker buildx inspect</code></p>\n<pre><code>Name:   arm64-v8\nDriver: docker-container\nNodes:\nName:      arm64-v80\nEndpoint:  unix:///var/run/docker.sock\nStatus:    running\nPlatforms: linux/arm64*, linux/amd64, linux/amd64/v2, linux/amd64/v3, linux/riscv64, linux/ppc64le, linux/s390x, linux/386, linux/mips64le, linux/mips64, linux/arm/v7, linux/arm/v6</code></pre>\n<p>Now looks like we're ready to run the build. I ended up with the following command</p>\n<pre><code>sudo docker buildx build --push --progress plain --platform linux/arm64/v8 -f Dockerfile -t nanobreaker/agus:arm64 .\n</code></pre>\n<ul>\n<li><code>--push</code> - since I need to deploy a final image somewhere</li>\n<li><code>--platform linux/arm64/v8</code> - docker requires to define target platform</li>\n<li><code>-t nanobreaker/agus:arm64</code> - my target repository for final image</li>\n</ul>\n<p>It took ~16 minutes to complete the build and push the image\n<a href=\"https://i.stack.imgur.com/wTjIj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wTjIj.png\" alt=\"final image on docker hub\" /></a></p>\n<ul>\n<li>target platform is <code>linux/arm64</code> as needed</li>\n<li>59.75 MB image size, good enough already (with micro image I could achieve ~10 MB)</li>\n</ul>\n<p>After I connected to raspberry, downloaded image and run it</p>\n<pre><code>docker run -p 8080:8080 nanobreaker/agus:arm64\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7aDAX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7aDAX.png\" alt=\"quarkus-first-run-arm64\" /></a>\nPretty nice, let's try to execute a http request to test out gpio pins</p>\n<pre><code>curl 192.168.0.20:8080/led/on?gpio=3\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/8fNNs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8fNNs.png\" alt=\"quarkus-first-run-arm64-test\" /></a>\nOkey, so I see here that there are permission problems and diozero library is not in java.library.path</p>\n<p>We can fix permission problems by adding additional parameter to docker run command</p>\n<pre><code>docker run --privileged -p 8080:8080 nanobreaker/agus:arm64\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/N18ci.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N18ci.png\" alt=\"quarkus-second-run-arm64\" /></a></p>\n<p><strong>PROBLEM</strong></p>\n<p><strong>From this point I do not know how to resolve library load error in a native executable.</strong></p>\n<p>I've tried:</p>\n<ul>\n<li>Pulled out native executable from final container, executed on raspberry host os and had same result, this makes me think that library was not included at GraalVM compile time?</li>\n<li>Learning how library gets loaded <a href=\"https://github.com/mattjlewis/diozero/blob/main/diozero-core/src/main/java/com/diozero/util/LibraryLoader.java\" rel=\"nofollow noreferrer\">https://github.com/mattjlewis/diozero/blob/main/diozero-core/src/main/java/com/diozero/util/LibraryLoader.java</a></li>\n</ul>\n<p><strong>UPDATE I</strong></p>\n<p>It looks like I have two options here</p>\n<ul>\n<li>Figure out a way to create configuration for the diozero library so it is properly resolved by GraalVM during native image compilation.</li>\n<li>Add library to the native image and pass it to the native executable.</li>\n</ul>\n<p><strong>UPDATE II</strong></p>\n<p>Further reading of quarkus docs landed me here <a href=\"https://quarkus.io/guides/writing-native-applications-tips\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/writing-native-applications-tips</a></p>\n<blockquote>\n<p>By default, when building a native executable, GraalVM will not include any of the resources that are on the classpath into the native executable it creates. Resources that are meant to be part of the native executable need to be configured explicitly. Quarkus automatically includes the resources present in META-INF/resources (the web resources) but, outside this directory, you are on your own.</p>\n</blockquote>\n<p>I reached out @Matt Lewis (creator of diozero) and he was kind to share his configs, which he used to compile into GraalVM. Thank you Matt!</p>\n<blockquote>\n<p>Heres the documentation on my initial tests: <a href=\"https://www.diozero.com/performance/graalvm.html\" rel=\"nofollow noreferrer\">https://www.diozero.com/performance/graalvm.html</a>\nI stashed the GraalVM config here: <a href=\"https://github.com/mattjlewis/diozero/tree/main/src/main/graalvm/config\" rel=\"nofollow noreferrer\">https://github.com/mattjlewis/diozero/tree/main/src/main/graalvm/config</a></p>\n</blockquote>\n<p>So combining the knowledge we can enrich pom.xml with additional setting to tell GraalVM how to process our library</p>\n<pre><code>&lt;quarkus.native.additional-build-args&gt;\n    -H:ResourceConfigurationFiles=resource-config.json,\n    -H:ReflectionConfigurationFiles=reflection-config.json,\n    -H:JNIConfigurationFiles=jni-config.json,\n    -H:+TraceServiceLoaderFeature,\n    -H:+ReportExceptionStackTraces\n&lt;/quarkus.native.additional-build-args&gt;\n</code></pre>\n<p>Also added resource-config.json, reflection-config.json, jni-config.json to the resource folder of the project (src/main/resources)</p>\n<p>First, I will try to create a native executable in my native os <code>./mvnw package -Dnative</code></p>\n<pre><code>Fatal error: org.graalvm.compiler.debug.GraalError: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: No instances of java.lang.ProcessHandleImpl are allowed in the image heap as this class should be initialized at image runtime. To see how this object got instantiated use --trace-object-instantiation=java.lang.ProcessHandleImpl.\n</code></pre>\n<p>Okey, so it failed, but let's trace object instantiation as recommended, maybe we can do something in configs to get around this. I added <code>--trace-object-instantiation=java.lang.ProcessHandleImpl</code> to the additional build args.</p>\n<pre><code>Fatal error: org.graalvm.compiler.debug.GraalError: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: No instances of java.lang.ProcessHandleImpl are allowed in the image heap as this class should be initialized at image runtime. Object has been initialized by the java.lang.ProcessHandleImpl class initializer with a trace: \n        at java.lang.ProcessHandleImpl.&lt;init&gt;(ProcessHandleImpl.java:227)\n        at java.lang.ProcessHandleImpl.&lt;clinit&gt;(ProcessHandleImpl.java:77)\n.  To fix the issue mark java.lang.ProcessHandleImpl for build-time initialization with --initialize-at-build-time=java.lang.ProcessHandleImpl or use the the information from the trace to find the culprit and --initialize-at-run-time=&lt;culprit&gt; to prevent its instantiation.\n</code></pre>\n<p>something new at least, let's try to initialize it first at build time with <code>--initialize-at-build-time=java.lang.ProcessHandleImpl</code></p>\n<pre><code>Error: Incompatible change of initialization policy for java.lang.ProcessHandleImpl: trying to change BUILD_TIME from command line with 'java.lang.ProcessHandleImpl' to RERUN for JDK native code support via JNI\ncom.oracle.svm.core.util.UserError$UserException: Incompatible change of initialization policy for java.lang.ProcessHandleImpl: trying to change BUILD_TIME from command line with 'java.lang.ProcessHandleImpl' to RERUN for JDK native code support via JNI\n\n</code></pre>\n<p>Okey, we're not able to change the initialization kind and looks like it won't give us any effect.\nI found out that with <code>-H:+PrintClassInitialization</code> we can generate a csv file with class initialization info\nhere we have two lines for <code>java.lang.ProcessHandleImpl</code></p>\n<pre><code>java.lang.ProcessHandleImpl, RERUN, for JDK native code support via JNI\njava.lang.ProcessHandleImpl$Info, RERUN, for JDK native code support via JNI\n</code></pre>\n<p>So it says that class is marked as <code>RERUN</code>, but isn't this the thing we're looking for? Makes no sense for me right now.</p>\n<p><strong>UPDATE III</strong></p>\n<p>With the configs for graalvm provided by @Matt I was able to compile a native image, but it fails anyways during runtime due to <code>java.lang.UnsatisfiedLinkError</code>, makes me feel like the library was not injected properly.</p>\n<p>So looks like we just need to build a proper configuration file, in order to do this let's build our application without native for now, just run it on raspberry, trigger the code related to diozero, get output configs.</p>\n<p><code>./mvnw clean package -Dquarkus.package.type=uber-jar</code></p>\n<p>Deploying to raspberry, will run with graalvm agent for configs generation (<a href=\"https://www.graalvm.org/22.1/reference-manual/native-image/Agent/\" rel=\"nofollow noreferrer\">https://www.graalvm.org/22.1/reference-manual/native-image/Agent/</a>)</p>\n<p><code>/$GRAALVM_HOME/bin/java -agentlib:native-image-agent=config-output-dir=config -jar ags-gateway-1.0.0-SNAPSHOT-runner.jar</code></p>\n<p>Running simple requests to trigger diozero code (I've connected a led to raspberry on gpio 4, and was actually seeing it turn off/on)</p>\n<p><code>curl -X POST 192.168.0.20:8080/blink/off?gpio=4</code></p>\n<p><code>curl -X POST 192.168.0.20:8080/blink/on?gpio=4</code></p>\n<p>I've published <a href=\"https://github.com/NanoBreaker/ags-gateway\" rel=\"nofollow noreferrer\">project</a> with <a href=\"https://github.com/NanoBreaker/ags-gateway/tree/main/src/main/resources\" rel=\"nofollow noreferrer\">output configs</a></p>\n<p>One thing I noticed that <code>&quot;pattern&quot;:&quot;\\\\Qlib/linux-aarch64/libdiozero-system-utils.so\\\\E&quot;</code> aarch64 library gets pulled while running on py which is correct, but when I build on native OS I should specify 'amd64' platform.</p>\n<p>Let's try to build a native with new configs</p>\n<pre><code>./mvnw package -Dnative\n</code></pre>\n<p>Successfully compiled, let's run and test</p>\n<pre><code>./target/ags-gateway-1.0.0-SNAPSHOT-runner\ncurl -X POST localhost:8080/led/on?gpio=4\n</code></pre>\n<p>And here we have error again</p>\n<pre><code>ERROR [io.qua.ver.htt.run.QuarkusErrorHandler] (executor-thread-0) HTTP Request to /led/on?gpio=4 failed, error id: b0ef3f8a-6813-4ea8-886f-83f626eea3b5-1: java.lang.UnsatisfiedLinkError: com.diozero.internal.provider.builtin.gpio.NativeGpioDevice.openChip(Ljava/lang/String;)Lcom/diozero/internal/provider/builtin/gpio/GpioChip; [symbol: Java_com_diozero_internal_provider_builtin_gpio_NativeGpioDevice_openChip or Java_com_diozero_internal_provider_builtin_gpio_NativeGpioDevice_openChip__Ljava_lang_String_2]\n</code></pre>\n<p>So I finally managed to build native image, but for some reason it didn't resolve JNI for native library.</p>\n<p>Any thoughts on how to properly inject diozero library into native executable?</p>\n<p><strong>UPDATE IV</strong></p>\n<p>With help of @matthew-lewis we managed to build aarch64 native executable on amd64 os. I updated the source project with final configurations, but I must inform you that this is not a final solution and it doesn't cover all the library code, also according to the Matt's comments this might not be the only way to configure the graalvm build.</p>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1659739901,"post_id":73255769,"comment_id":129374470,"body_markdown":"I suggest that you provide a [mcve], stub out the database call to just return dummy test data, and provide the fxml, so your issue can be replicated via copy and paste with no change, addition or libraries beyond the JDK and JavaFX.  Update code to follow [naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html) and format it using your IDE&#39;s format option.","body":"I suggest that you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, stub out the database call to just return dummy test data, and provide the fxml, so your issue can be replicated via copy and paste with no change, addition or libraries beyond the JDK and JavaFX.  Update code to follow <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">naming conventions</a> and format it using your IDE&#39;s format option."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1659740139,"post_id":73255769,"comment_id":129374509,"body_markdown":"You loop the node array length in save, but in each iteration, you are using the same loader reference, which will be the reference to the last loader you created in the addNode loop, so in the save method, you are just calling the same methods on the same assessment object for each loop iteration.","body":"You loop the node array length in save, but in each iteration, you are using the same loader reference, which will be the reference to the last loader you created in the addNode loop, so in the save method, you are just calling the same methods on the same assessment object for each loop iteration."},{"owner":{"account_id":24925007,"reputation":3,"user_id":18792882,"display_name":"i Devote"},"score":0,"creation_date":1659740977,"post_id":73255769,"comment_id":129374633,"body_markdown":"So how then do I get the loader reference based on the position in the array?","body":"So how then do I get the loader reference based on the position in the array?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1659741672,"post_id":73255769,"comment_id":129374749,"body_markdown":"&quot;So how then do I get the loader reference based on the position in the array?&quot; -&gt; You don&#39;t.  The loader is just for loading, you don&#39;t need it after loading is complete.  After loading the loader has some information in it (the controller), you can get that from the loader once the loading is complete, and place the controller in an array or list, then iterate that list.","body":"&quot;So how then do I get the loader reference based on the position in the array?&quot; -&gt; You don&#39;t.  The loader is just for loading, you don&#39;t need it after loading is complete.  After loading the loader has some information in it (the controller), you can get that from the loader once the loading is complete, and place the controller in an array or list, then iterate that list."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1659741732,"post_id":73255769,"comment_id":129374759,"body_markdown":"That suggestion I provided will work, but it will be a bit strange, it is just something to allow you to quickly continue.  Perhaps you should review [MVC](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx) (also see the Eden link from that post), as applying MVC is probably a better way to solve the problems you are trying to solve. How specifically to apply that to your application is beyond the scope of what I will answer here.","body":"That suggestion I provided will work, but it will be a bit strange, it is just something to allow you to quickly continue.  Perhaps you should review <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">MVC</a> (also see the Eden link from that post), as applying MVC is probably a better way to solve the problems you are trying to solve. How specifically to apply that to your application is beyond the scope of what I will answer here."},{"owner":{"account_id":24925007,"reputation":3,"user_id":18792882,"display_name":"i Devote"},"score":0,"creation_date":1659742434,"post_id":73255769,"comment_id":129374859,"body_markdown":"Okay please, I&#39;m checking it out... Thanks","body":"Okay please, I&#39;m checking it out... Thanks"}],"answers":[{"tags":[],"owner":{"account_id":12088843,"reputation":74,"user_id":8836133,"display_name":"Sonnenkind"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1660928250,"creation_date":1660928250,"answer_id":73420004,"question_id":73255769,"body_markdown":"A quick solution to get the existing code to update all the nodes might be to store the loaded controllers and update them:\r\n\r\n```\r\npublic class Assessment implements Initializable {\r\n\r\n...\r\n\r\nprivate List &lt;Details&gt; subControllers = new ArrayList&lt;&gt;();\r\n\r\n@Override\r\npublic void initialize(URL url, ResourceBundle resourceBundle) {\r\n    addNode();\r\n}\r\n\r\nprivate void addNode() {\r\n\r\n    try {\r\n\r\n        for (Object students : Users.getDetails() ) {\r\n            loader = new FXMLLoader();\r\n           ...\r\n           Details assessment = loader.getController();\r\n           subControllers.add(assessment); // store controllers\r\n           ...\r\n        }\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n}\r\n\r\n@FXML\r\nvoid save(ActionEvent event) throws SQLException {\r\n    for (Details assessment : subControllers){\r\n        assessment.set_Class_50();\r\n        assessment.set_Practice_50();\r\n        assessment.set_Total_all();\r\n    }\r\n}\r\n}\r\n```\r\n","title":"Update each node with distinct value","body":"<p>A quick solution to get the existing code to update all the nodes might be to store the loaded controllers and update them:</p>\n<pre><code>public class Assessment implements Initializable {\n\n...\n\nprivate List &lt;Details&gt; subControllers = new ArrayList&lt;&gt;();\n\n@Override\npublic void initialize(URL url, ResourceBundle resourceBundle) {\n    addNode();\n}\n\nprivate void addNode() {\n\n    try {\n\n        for (Object students : Users.getDetails() ) {\n            loader = new FXMLLoader();\n           ...\n           Details assessment = loader.getController();\n           subControllers.add(assessment); // store controllers\n           ...\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n}\n\n@FXML\nvoid save(ActionEvent event) throws SQLException {\n    for (Details assessment : subControllers){\n        assessment.set_Class_50();\n        assessment.set_Practice_50();\n        assessment.set_Total_all();\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":24925007,"reputation":3,"user_id":18792882,"display_name":"i Devote"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73420004,"answer_count":1,"score":-1,"last_activity_date":1660928250,"creation_date":1659738100,"question_id":73255769,"body_markdown":"I would want to update individual nodes according to the user input but the method ```save```(which works when the button ```saveAction``` is clicked) tends only to update the last node in the ```nodes```. What is it I&#39;m missing as I&#39;m unable to get this work on the individual nodes produced? \r\n    \r\n\r\n    public class Assessment implements Initializable {\r\n\r\n    @FXML\r\n    private VBox putItems;\r\n        @FXML\r\n    private Button saveAction;\r\n\r\n\r\n    Node[] nodes = new Node[Users.getDetails.size()];\r\n    FXMLLoader loader = null;\r\n\r\n\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        addNode();\r\n    }\r\n\r\n    private void addNode() {\r\n\r\n        try {\r\n            int i = 0;\r\n            int x = 1;\r\n            for (Object students : Users.getDetails() ) {\r\n                loader = new FXMLLoader();\r\n               nodes[i] = loader.load(\r\n                        Objects.requireNonNull(getClass().getResource(&quot;marks.fxml&quot;))\r\n                                .openStream());\r\n\r\n               putItems.getChildren().add(nodes[i]);\r\n               Details assessment = loader.getController();\r\n               assessment.set_Name((String) students);\r\n               assessment.set_Number(String.valueOf(x));\r\n               assessment.set_Practice();\r\n               assessment.set_Class_50();\r\n               assessment.set_Total_all();\r\n\r\n               i++;\r\n               x++;\r\n\r\n\r\n            }\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    @FXML\r\n    void save(ActionEvent event) throws SQLException {\r\n        for (int i = 0; i &lt; nodes.length; i++){\r\n            Details assessment = loader.getController();\r\n            assessment.set_Class_50();\r\n            assessment.set_Practice_50();\r\n            assessment.set_Total_all();\r\n        }\r\n    }\r\n    }\r\n\r\n\r\nThank You!","title":"Update each node with distinct value","body":"<p>I would want to update individual nodes according to the user input but the method <code>save</code>(which works when the button <code>saveAction</code> is clicked) tends only to update the last node in the <code>nodes</code>. What is it I'm missing as I'm unable to get this work on the individual nodes produced?</p>\n<pre><code>public class Assessment implements Initializable {\n\n@FXML\nprivate VBox putItems;\n    @FXML\nprivate Button saveAction;\n\n\nNode[] nodes = new Node[Users.getDetails.size()];\nFXMLLoader loader = null;\n\n\n\n@Override\npublic void initialize(URL url, ResourceBundle resourceBundle) {\n    addNode();\n}\n\nprivate void addNode() {\n\n    try {\n        int i = 0;\n        int x = 1;\n        for (Object students : Users.getDetails() ) {\n            loader = new FXMLLoader();\n           nodes[i] = loader.load(\n                    Objects.requireNonNull(getClass().getResource(&quot;marks.fxml&quot;))\n                            .openStream());\n\n           putItems.getChildren().add(nodes[i]);\n           Details assessment = loader.getController();\n           assessment.set_Name((String) students);\n           assessment.set_Number(String.valueOf(x));\n           assessment.set_Practice();\n           assessment.set_Class_50();\n           assessment.set_Total_all();\n\n           i++;\n           x++;\n\n\n        }\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n}\n\n@FXML\nvoid save(ActionEvent event) throws SQLException {\n    for (int i = 0; i &lt; nodes.length; i++){\n        Details assessment = loader.getController();\n        assessment.set_Class_50();\n        assessment.set_Practice_50();\n        assessment.set_Total_all();\n    }\n}\n}\n</code></pre>\n<p>Thank You!</p>\n"},{"tags":["java","file","java.util.scanner"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1660920849,"post_id":73418593,"comment_id":129655156,"body_markdown":"Put the entire try-catch in a `while` loop. `while (true) { try { /* ... */ } }` You *may* want to remove the `System.exit(0)` calls. Since that just ends the program entirely.","body":"Put the entire try-catch in a <code>while</code> loop. <code>while (true) { try { &#47;* ... *&#47; } }</code> You <i>may</i> want to remove the <code>System.exit(0)</code> calls. Since that just ends the program entirely."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1660924945,"post_id":73418593,"comment_id":129656631,"body_markdown":"What&#39;s the layout of the file?  If there&#39;s no `short` to read, what *is* there?","body":"What&#39;s the layout of the file?  If there&#39;s no <code>short</code> to read, what <i>is</i> there?"},{"owner":{"account_id":26049255,"reputation":5,"user_id":19752809,"display_name":"gooooodmorning"},"score":0,"creation_date":1660925980,"post_id":73418593,"comment_id":129656914,"body_markdown":"I&#39;m not sure if this helps but I added everything underneath. That is also why a while true won&#39;t work","body":"I&#39;m not sure if this helps but I added everything underneath. That is also why a while true won&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":25986825,"reputation":21,"user_id":19699689,"display_name":"nixon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660921830,"creation_date":1660921830,"answer_id":73418831,"question_id":73418593,"body_markdown":"Maybe `while (scan.hasMoreElements())` outside the try block. ","title":"Is there a way to return to a previous line of code (without a while loop)","body":"<p>Maybe <code>while (scan.hasMoreElements())</code> outside the try block.</p>\n"},{"tags":[],"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660927928,"creation_date":1660927475,"answer_id":73419872,"question_id":73418593,"body_markdown":"A `do { .. } while;` can be applied here as in below.  Just add a boolean flag initial `false` and set to `true` when correct input is found.\r\n\r\nAnd note you need a `scan.next()` in the `InputMismatchException` processing otherwise it will continue to scan the same invalid input:\r\n\r\n    // assume test created a file named &#39;3.ics&#39;\r\n    \r\n    short x = 0;\r\n    Scanner scan = new Scanner(System.in);\r\n    boolean valid = false;\r\n    do {\r\n        try {\r\n            x = scan.nextShort(); \r\n            Path path = Paths.get(x + &quot;.ics&quot;);\r\n            if(!Files.exists(path)) {\r\n                System.out.println(&quot;Sorry, file does not exist&quot;);\r\n            } else {\r\n                valid = true;\r\n            }\r\n        } catch(InputMismatchException e) { \r\n            System.out.println(&quot;Sorry, please enter a number&quot;);\r\n            scan.next();\r\n        }   \r\n    } while (!valid);\r\n\r\n    System.out.println(x + &quot;.ics&quot;); \r\n    // ... and on we go ...\r\n\r\nAnd output\r\n\r\n    abc\r\n    Sorry, please enter a number\r\n    2\r\n    Sorry, file does not exist\r\n    3\r\n    3.ics\r\n\r\n","title":"Is there a way to return to a previous line of code (without a while loop)","body":"<p>A <code>do { .. } while;</code> can be applied here as in below.  Just add a boolean flag initial <code>false</code> and set to <code>true</code> when correct input is found.</p>\n<p>And note you need a <code>scan.next()</code> in the <code>InputMismatchException</code> processing otherwise it will continue to scan the same invalid input:</p>\n<pre><code>// assume test created a file named '3.ics'\n\nshort x = 0;\nScanner scan = new Scanner(System.in);\nboolean valid = false;\ndo {\n    try {\n        x = scan.nextShort(); \n        Path path = Paths.get(x + &quot;.ics&quot;);\n        if(!Files.exists(path)) {\n            System.out.println(&quot;Sorry, file does not exist&quot;);\n        } else {\n            valid = true;\n        }\n    } catch(InputMismatchException e) { \n        System.out.println(&quot;Sorry, please enter a number&quot;);\n        scan.next();\n    }   \n} while (!valid);\n\nSystem.out.println(x + &quot;.ics&quot;); \n// ... and on we go ...\n</code></pre>\n<p>And output</p>\n<pre><code>abc\nSorry, please enter a number\n2\nSorry, file does not exist\n3\n3.ics\n</code></pre>\n"}],"owner":{"account_id":26049255,"reputation":5,"user_id":19752809,"display_name":"gooooodmorning"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73419872,"answer_count":2,"score":0,"last_activity_date":1660927928,"creation_date":1660920673,"question_id":73418593,"body_markdown":"I&#39;m trying to create something that includes a part which receives an input and checks if a respective file exists(and if the input was a number) like so:\r\n\r\n```\r\nshort x = 0;\r\nScanner scan = new Scanner(System.in);\r\ntry {\r\n\t\t\t\t\tx = scan.nextShort(); \r\n\t\t\t\t\tPath path = Paths.get(x + &quot;.ics&quot;);\r\n\t\t\t\t\tif(!Files.exists(path)) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Sorry, file does not exist&quot;);\r\n\t\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\tcatch(InputMismatchException e) { \r\n\t\t\t\t\tSystem.out.println(&quot;Sorry, please enter a number&quot;);\r\n\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t\t} \t\r\n File f = new File(x + &quot;.ics&quot;);  \r\n                try (Scanner classScan = new Scanner(f)) { \r\n                    byte i = 1; \r\n                    for(; i &lt;=6; i++ ) { \r\n                        if(classScan.findWithinHorizon(i, 0) != null) {\r\n                            break; \r\n                            \r\n                        }\r\n                    }\r\n                    System.out.println(i); \r\n                }\r\n            }       \r\n```\r\nAt the two System.exit lines I want to create something that returns to scan.nextShort() - I thought about a while loop but I can&#39;t think of a plausible way to do that here (especially with an exception catch). \r\n\r\nI also want to run code under the try-catch if neither the if statement or catch happens.\r\n\r\nTitle is partly misleading if there&#39;s actually a way to do this with a while loop I would appreciate it.","title":"Is there a way to return to a previous line of code (without a while loop)","body":"<p>I'm trying to create something that includes a part which receives an input and checks if a respective file exists(and if the input was a number) like so:</p>\n<pre><code>short x = 0;\nScanner scan = new Scanner(System.in);\ntry {\n                    x = scan.nextShort(); \n                    Path path = Paths.get(x + &quot;.ics&quot;);\n                    if(!Files.exists(path)) {\n                        System.out.println(&quot;Sorry, file does not exist&quot;);\n                        System.exit(0);\n                    }\n                }       catch(InputMismatchException e) { \n                    System.out.println(&quot;Sorry, please enter a number&quot;);\n                    System.exit(0);\n                    }   \n File f = new File(x + &quot;.ics&quot;);  \n                try (Scanner classScan = new Scanner(f)) { \n                    byte i = 1; \n                    for(; i &lt;=6; i++ ) { \n                        if(classScan.findWithinHorizon(i, 0) != null) {\n                            break; \n                            \n                        }\n                    }\n                    System.out.println(i); \n                }\n            }       \n</code></pre>\n<p>At the two System.exit lines I want to create something that returns to scan.nextShort() - I thought about a while loop but I can't think of a plausible way to do that here (especially with an exception catch).</p>\n<p>I also want to run code under the try-catch if neither the if statement or catch happens.</p>\n<p>Title is partly misleading if there's actually a way to do this with a while loop I would appreciate it.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":3,"creation_date":1352922186,"post_id":13386107,"comment_id":18282401,"body_markdown":"Can you post real example where you want to do this?","body":"Can you post real example where you want to do this?"},{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1352922211,"post_id":13386107,"comment_id":18282416,"body_markdown":"You have replace not remove. You may need to write your own.","body":"You have replace not remove. You may need to write your own."},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1352922252,"post_id":13386107,"comment_id":18282439,"body_markdown":"You can do it with a `couple` of `substring` and `indexOf`. But that will create a new string object.","body":"You can do it with a <code>couple</code> of <code>substring</code> and <code>indexOf</code>. But that will create a new string object."},{"owner":{"account_id":1781872,"reputation":14665,"user_id":1624376,"accept_rate":76,"display_name":"Aubin"},"score":0,"creation_date":1352922635,"post_id":13386107,"comment_id":18282603,"body_markdown":"StringBuilder is a read/write class for manipulating characters. You can create it from a String and use sb.toString() to obtain the resulting String.","body":"StringBuilder is a read/write class for manipulating characters. You can create it from a String and use sb.toString() to obtain the resulting String."}],"answers":[{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"down_vote_count":2,"up_vote_count":21,"is_accepted":false,"score":19,"last_activity_date":1352924396,"creation_date":1352922234,"answer_id":13386131,"question_id":13386107,"body_markdown":"No, because Strings in Java are immutable. You&#39;ll have to create a new string removing the character you don&#39;t want.\r\n\r\nFor replacing a single char `c` at index position `idx` in string `str`, do something like this, and remember that a new string will be created:\r\n\r\n    String newstr = str.substring(0, idx) + str.substring(idx + 1);\r\n","title":"How to remove single character from a String by index","body":"<p>No, because Strings in Java are immutable. You'll have to create a new string removing the character you don't want.</p>\n\n<p>For replacing a single char <code>c</code> at index position <code>idx</code> in string <code>str</code>, do something like this, and remember that a new string will be created:</p>\n\n<pre><code>String newstr = str.substring(0, idx) + str.substring(idx + 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":887421,"reputation":5160,"user_id":926520,"accept_rate":75,"display_name":"Pankaj"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1352922280,"creation_date":1352922280,"answer_id":13386143,"question_id":13386107,"body_markdown":"Use replaceFirst function of String class. There are so many variants of replace function that you can use.","title":"How to remove single character from a String by index","body":"<p>Use replaceFirst function of String class. There are so many variants of replace function that you can use.</p>\n"},{"tags":[],"owner":{"account_id":801315,"reputation":2377,"user_id":890854,"accept_rate":56,"display_name":"atkretsch"},"down_vote_count":0,"up_vote_count":90,"is_accepted":false,"score":90,"last_activity_date":1352922282,"creation_date":1352922282,"answer_id":13386147,"question_id":13386107,"body_markdown":"One possibility:\r\n\r\n    String result = str.substring(0, index) + str.substring(index+1);\r\n\r\nNote that the result is a new String (as well as two intermediate String objects), because Strings in Java are immutable.","title":"How to remove single character from a String by index","body":"<p>One possibility:</p>\n\n<pre><code>String result = str.substring(0, index) + str.substring(index+1);\n</code></pre>\n\n<p>Note that the result is a new String (as well as two intermediate String objects), because Strings in Java are immutable.</p>\n"},{"tags":[],"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"down_vote_count":0,"up_vote_count":283,"is_accepted":true,"score":283,"last_activity_date":1352924402,"creation_date":1352922878,"answer_id":13386289,"question_id":13386107,"body_markdown":"You can also use the `StringBuilder` class which is mutable.\r\n\r\n    StringBuilder sb = new StringBuilder(inputString);\r\n\r\nIt has the method [`deleteCharAt()`](http://docs.oracle.com/javase/6/docs/api/java/lang/StringBuilder.html#deleteCharAt%28int%29), along with many other mutator methods.\r\n\r\nJust delete the characters that you need to delete and then get the result as follows:\r\n\r\n    String resultString = sb.toString();\r\n\r\nThis avoids creation of unnecessary string objects.","title":"How to remove single character from a String by index","body":"<p>You can also use the <code>StringBuilder</code> class which is mutable.</p>\n\n<pre><code>StringBuilder sb = new StringBuilder(inputString);\n</code></pre>\n\n<p>It has the method <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/StringBuilder.html#deleteCharAt%28int%29\"><code>deleteCharAt()</code></a>, along with many other mutator methods.</p>\n\n<p>Just delete the characters that you need to delete and then get the result as follows:</p>\n\n<pre><code>String resultString = sb.toString();\n</code></pre>\n\n<p>This avoids creation of unnecessary string objects.</p>\n"},{"tags":[],"owner":{"account_id":2037885,"reputation":326,"user_id":1819765,"accept_rate":57,"display_name":"Farhan Syed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352924108,"creation_date":1352924108,"answer_id":13386598,"question_id":13386107,"body_markdown":"If you need some logical control over character removal, use this\r\n\r\n    String string = &quot;sdsdsd&quot;;\r\n    char[] arr = string.toCharArray();\r\n    // Run loop or whatever you need\r\n    String ss = new String(arr);\r\n\r\nIf you don&#39;t need any such control, you can use what Oscar orBhesh mentioned. They are spot on.\r\n","title":"How to remove single character from a String by index","body":"<p>If you need some logical control over character removal, use this</p>\n\n<pre><code>String string = \"sdsdsd\";\nchar[] arr = string.toCharArray();\n// Run loop or whatever you need\nString ss = new String(arr);\n</code></pre>\n\n<p>If you don't need any such control, you can use what Oscar orBhesh mentioned. They are spot on.</p>\n"},{"tags":[],"owner":{"account_id":3453467,"reputation":7,"user_id":2892528,"display_name":"Lekov"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1382050977,"creation_date":1382050977,"answer_id":19438790,"question_id":13386107,"body_markdown":"For example if you want to calculate how many a&#39;s are there in the String, you can do it like this:\r\n\r\n    if (string.contains(&quot;a&quot;))\r\n    {\r\n        numberOf_a++;\r\n        string = string.replaceFirst(&quot;a&quot;, &quot;&quot;);\r\n    }","title":"How to remove single character from a String by index","body":"<p>For example if you want to calculate how many a's are there in the String, you can do it like this:</p>\n\n<pre><code>if (string.contains(\"a\"))\n{\n    numberOf_a++;\n    string = string.replaceFirst(\"a\", \"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3712814,"reputation":1531,"user_id":3089660,"display_name":"Thuy"},"down_vote_count":15,"up_vote_count":110,"is_accepted":false,"score":95,"last_activity_date":1571298500,"creation_date":1387389626,"answer_id":20665193,"question_id":13386107,"body_markdown":"You can use Java String method called replace, which will replace all characters matching the first parameter with the second parameter:\r\n\r\n    String a = &quot;Cool&quot;;\r\n    a = a.replace(&quot;o&quot;,&quot;&quot;);\r\n\r\n    ","title":"How to remove single character from a String by index","body":"<p>You can use Java String method called replace, which will replace all characters matching the first parameter with the second parameter:</p>\n\n<pre><code>String a = \"Cool\";\na = a.replace(\"o\",\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120318,"reputation":181,"user_id":3380876,"display_name":"Bob Genom"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1407190842,"creation_date":1406755167,"answer_id":25047142,"question_id":13386107,"body_markdown":"You may also use the (huge) regexp machine.\r\n\r\n    inputString = inputString.replaceFirst(&quot;(?s)(.{2}).(.*)&quot;, &quot;$1$2&quot;);\r\n\r\n - `&quot;(?s)&quot;   -` tells regexp to handle newlines like normal characters (just in case).\r\n - `&quot;(.{2})&quot; -` group $1 collecting exactly 2 characters\r\n - `&quot;.&quot;      -` any character at index 2 (to be squeezed out).\r\n - `&quot;(.*)&quot;   -` group $2 which collects the rest of the inputString.\r\n - `&quot;$1$2&quot;   -` putting group $1 and group $2 together.","title":"How to remove single character from a String by index","body":"<p>You may also use the (huge) regexp machine.</p>\n\n<pre><code>inputString = inputString.replaceFirst(\"(?s)(.{2}).(.*)\", \"$1$2\");\n</code></pre>\n\n<ul>\n<li><code>\"(?s)\"   -</code> tells regexp to handle newlines like normal characters (just in case).</li>\n<li><code>\"(.{2})\" -</code> group $1 collecting exactly 2 characters</li>\n<li><code>\".\"      -</code> any character at index 2 (to be squeezed out).</li>\n<li><code>\"(.*)\"   -</code> group $2 which collects the rest of the inputString.</li>\n<li><code>\"$1$2\"   -</code> putting group $1 and group $2 together.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3144582,"reputation":65,"user_id":2659296,"display_name":"Anupam Jain"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1436388788,"creation_date":1414840291,"answer_id":26688728,"question_id":13386107,"body_markdown":"By the using replace method we can change single character of string.\r\n\r\n    string= string.replace(&quot;*&quot;, &quot;&quot;);","title":"How to remove single character from a String by index","body":"<p>By the using replace method we can change single character of string.</p>\n\n<pre><code>string= string.replace(\"*\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4469997,"reputation":3994,"user_id":3636561,"display_name":"Abdul Rizwan"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1439062074,"creation_date":1439062074,"answer_id":31897716,"question_id":13386107,"body_markdown":"**Easiest way to remove a char from string** \r\n\r\n    String str=&quot;welcome&quot;;\r\n    str=str.replaceFirst(String.valueOf(str.charAt(2)),&quot;&quot;);//&#39;l&#39; will replace with &quot;&quot; \r\n    System.out.println(str);//output: wecome\r\n\r\n  \r\n","title":"How to remove single character from a String by index","body":"<p><strong>Easiest way to remove a char from string</strong> </p>\n\n<pre><code>String str=\"welcome\";\nstr=str.replaceFirst(String.valueOf(str.charAt(2)),\"\");//'l' will replace with \"\" \nSystem.out.println(str);//output: wecome\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5380558,"reputation":2482,"user_id":4285898,"accept_rate":75,"display_name":""},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1449375659,"creation_date":1443034359,"answer_id":32747303,"question_id":13386107,"body_markdown":"Consider the following code:\r\n\r\n    public String removeChar(String str, Integer n) {\r\n        String front = str.substring(0, n);\r\n        String back = str.substring(n+1, str.length());\r\n        return front + back;\r\n    }","title":"How to remove single character from a String by index","body":"<p>Consider the following code:</p>\n\n<pre><code>public String removeChar(String str, Integer n) {\n    String front = str.substring(0, n);\n    String back = str.substring(n+1, str.length());\n    return front + back;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1551443448,"creation_date":1443087096,"answer_id":32757971,"question_id":13386107,"body_markdown":"    String str = &quot;M1y java8 Progr5am&quot;;\r\n\r\n*deleteCharAt()*\r\n\r\n    StringBuilder build = new StringBuilder(str);\r\n    System.out.println(&quot;Pre Builder : &quot; + build);\r\n    \tbuild.deleteCharAt(1);  // Shift the positions front.\r\n    \tbuild.deleteCharAt(8-1);\r\n    \tbuild.deleteCharAt(15-2);\r\n    System.out.println(&quot;Post Builder : &quot; + build);\r\n\r\n*replace()*\r\n\r\n    StringBuffer buffer = new StringBuffer(str);\r\n    \tbuffer.replace(1, 2, &quot;&quot;); // Shift the positions front.\r\n    \tbuffer.replace(7, 8, &quot;&quot;);\r\n    \tbuffer.replace(13, 14, &quot;&quot;);\r\n    System.out.println(&quot;Buffer : &quot;+buffer);\r\n\r\n*char[]*\r\n\r\n    char[] c = str.toCharArray();\r\n    String new_Str = &quot;&quot;;\r\n    \tfor (int i = 0; i &lt; c.length; i++) {\r\n    \t\tif (!(i == 1 || i == 8 || i == 15)) \r\n    \t\t\tnew_Str += c[i];\r\n    \t}\r\n    System.out.println(&quot;Char Array : &quot;+new_Str);\r\n\r\n","title":"How to remove single character from a String by index","body":"<pre><code>String str = \"M1y java8 Progr5am\";\n</code></pre>\n\n<p><em>deleteCharAt()</em></p>\n\n<pre><code>StringBuilder build = new StringBuilder(str);\nSystem.out.println(\"Pre Builder : \" + build);\n    build.deleteCharAt(1);  // Shift the positions front.\n    build.deleteCharAt(8-1);\n    build.deleteCharAt(15-2);\nSystem.out.println(\"Post Builder : \" + build);\n</code></pre>\n\n<p><em>replace()</em></p>\n\n<pre><code>StringBuffer buffer = new StringBuffer(str);\n    buffer.replace(1, 2, \"\"); // Shift the positions front.\n    buffer.replace(7, 8, \"\");\n    buffer.replace(13, 14, \"\");\nSystem.out.println(\"Buffer : \"+buffer);\n</code></pre>\n\n<p><em>char[]</em></p>\n\n<pre><code>char[] c = str.toCharArray();\nString new_Str = \"\";\n    for (int i = 0; i &lt; c.length; i++) {\n        if (!(i == 1 || i == 8 || i == 15)) \n            new_Str += c[i];\n    }\nSystem.out.println(\"Char Array : \"+new_Str);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5936955,"reputation":7346,"user_id":4669617,"accept_rate":50,"display_name":"ceph3us"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445132316,"creation_date":1445132316,"answer_id":33193432,"question_id":13386107,"body_markdown":"    public static String removechar(String fromString, Character character) {\r\n        int indexOf = fromString.indexOf(character);\r\n        if(indexOf==-1) \r\n            return fromString;\r\n        String front = fromString.substring(0, indexOf);\r\n        String back = fromString.substring(indexOf+1, fromString.length());\r\n        return front+back;\r\n    }","title":"How to remove single character from a String by index","body":"<pre><code>public static String removechar(String fromString, Character character) {\n    int indexOf = fromString.indexOf(character);\n    if(indexOf==-1) \n        return fromString;\n    String front = fromString.substring(0, indexOf);\n    String back = fromString.substring(indexOf+1, fromString.length());\n    return front+back;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6868634,"reputation":129,"user_id":5279988,"display_name":"SanA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458353647,"creation_date":1458353158,"answer_id":36097031,"question_id":13386107,"body_markdown":"    public class RemoveCharFromString {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString output = remove(&quot;Hello&quot;, &#39;l&#39;);\r\n    \t\tSystem.out.println(output);\r\n    \t}\r\n    \r\n    \tprivate static String remove(String input, char c) {\r\n    \r\n    \t\tif (input == null || input.length() &lt;= 1)\r\n    \t\t\treturn input;\r\n    \t\tchar[] inputArray = input.toCharArray();\r\n    \t\tchar[] outputArray = new char[inputArray.length];\r\n    \t\tint outputArrayIndex = 0;\r\n    \t\tfor (int i = 0; i &lt; inputArray.length; i++) {\r\n    \t\t\tchar p = inputArray[i];\r\n    \t\t\tif (p != c) {\r\n    \t\t\t\toutputArray[outputArrayIndex] = p;\r\n    \t\t\t\toutputArrayIndex++;\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\treturn new String(outputArray, 0, outputArrayIndex);\r\n    \r\n    \t}\r\n    }\r\n\r\n","title":"How to remove single character from a String by index","body":"<pre><code>public class RemoveCharFromString {\n    public static void main(String[] args) {\n        String output = remove(\"Hello\", 'l');\n        System.out.println(output);\n    }\n\n    private static String remove(String input, char c) {\n\n        if (input == null || input.length() &lt;= 1)\n            return input;\n        char[] inputArray = input.toCharArray();\n        char[] outputArray = new char[inputArray.length];\n        int outputArrayIndex = 0;\n        for (int i = 0; i &lt; inputArray.length; i++) {\n            char p = inputArray[i];\n            if (p != c) {\n                outputArray[outputArrayIndex] = p;\n                outputArrayIndex++;\n            }\n\n        }\n        return new String(outputArray, 0, outputArrayIndex);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4912431,"reputation":51,"user_id":3957354,"display_name":"natwar kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474265283,"creation_date":1474265283,"answer_id":39566366,"question_id":13386107,"body_markdown":"               BufferedReader input=new BufferedReader(new InputStreamReader(System.in));\r\n       String line1=input.readLine();\r\n       String line2=input.readLine();\r\n             char[]  a=line2.toCharArray();\r\n    \t\t  char[] b=line1.toCharArray();\r\n    \t\t   loop: for(int t=0;t&lt;a.length;t++) {\r\n    \t\t\t   \r\n   \t\t\t    char a1=a[t];\r\n   \t\t\t   for(int t1=0;t1&lt;b.length;t1++) {\r\n   \t\t\t\t   char b1=b[t1];  \r\n   \t\t\t\t   if(a1==b1) {\r\n   \t\t\t\t\t   StringBuilder sb = new StringBuilder(line1);\r\n   \t\t\t\t\t   sb.deleteCharAt(t1);\r\n   \t\t\t\t\t   line1=sb.toString();\r\n   \t\t\t\t\t   b=line1.toCharArray();\r\n   \t\t\t\t\t   list.add(a1);\r\n   \t\t\t\t\t   continue  loop;   \r\n   \t\t\t\t   }\r\n   \t\t\t\t  \r\n   \t\t\t\t \r\n   \t\t\t\t}","title":"How to remove single character from a String by index","body":"<pre><code>           BufferedReader input=new BufferedReader(new InputStreamReader(System.in));\n   String line1=input.readLine();\n   String line2=input.readLine();\n         char[]  a=line2.toCharArray();\n          char[] b=line1.toCharArray();\n           loop: for(int t=0;t&lt;a.length;t++) {\n\n            char a1=a[t];\n           for(int t1=0;t1&lt;b.length;t1++) {\n               char b1=b[t1];  \n               if(a1==b1) {\n                   StringBuilder sb = new StringBuilder(line1);\n                   sb.deleteCharAt(t1);\n                   line1=sb.toString();\n                   b=line1.toCharArray();\n                   list.add(a1);\n                   continue  loop;   \n               }\n\n\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":465074,"reputation":12318,"user_id":868941,"accept_rate":75,"display_name":"rmuller"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1504434675,"creation_date":1504434675,"answer_id":46022507,"question_id":13386107,"body_markdown":"In most use-cases using `StringBuilder` or `substring` is a good approach (as already answered). However, for performance critical code, this might be a good alternative.\r\n\r\n    /**\r\n     * Delete a single character from index position &#39;start&#39; from the &#39;target&#39; String.\r\n     * \r\n     * ````\r\n     * deleteAt(&quot;ABC&quot;, 0) -&gt; &quot;BC&quot;\r\n     * deleteAt(&quot;ABC&quot;, 1) -&gt; &quot;B&quot;\r\n     * deleteAt(&quot;ABC&quot;, 2) -&gt; &quot;C&quot;\r\n     * ````\r\n     */\r\n    public static String deleteAt(final String target, final int start) {\r\n        return deleteAt(target, start, start + 1);\r\n    } \r\n\r\n\r\n    /**\r\n     * Delete the characters from index position &#39;start&#39; to &#39;end&#39; from the &#39;target&#39; String.\r\n     * \r\n     * ````\r\n     * deleteAt(&quot;ABC&quot;, 0, 1) -&gt; &quot;BC&quot;\r\n     * deleteAt(&quot;ABC&quot;, 0, 2) -&gt; &quot;C&quot;\r\n     * deleteAt(&quot;ABC&quot;, 1, 3) -&gt; &quot;A&quot;\r\n     * ````\r\n     */\r\n    public static String deleteAt(final String target, final int start, int end) {\r\n        final int targetLen = target.length();\r\n        if (start &lt; 0) {\r\n            throw new IllegalArgumentException(&quot;start=&quot; + start);\r\n        }\r\n        if (end &gt; targetLen || end &lt; start) {\r\n            throw new IllegalArgumentException(&quot;end=&quot; + end);\r\n        }\r\n        if (start == 0) {\r\n            return end == targetLen ? &quot;&quot; : target.substring(end);\r\n        } else if (end == targetLen) {\r\n            return target.substring(0, start);\r\n        }\r\n        final char[] buffer = new char[targetLen - end + start];\r\n        target.getChars(0, start, buffer, 0);\r\n        target.getChars(end, targetLen, buffer, start);\r\n        return new String(buffer);\r\n    }","title":"How to remove single character from a String by index","body":"<p>In most use-cases using <code>StringBuilder</code> or <code>substring</code> is a good approach (as already answered). However, for performance critical code, this might be a good alternative.</p>\n\n<pre><code>/**\n * Delete a single character from index position 'start' from the 'target' String.\n * \n * ````\n * deleteAt(\"ABC\", 0) -&gt; \"BC\"\n * deleteAt(\"ABC\", 1) -&gt; \"B\"\n * deleteAt(\"ABC\", 2) -&gt; \"C\"\n * ````\n */\npublic static String deleteAt(final String target, final int start) {\n    return deleteAt(target, start, start + 1);\n} \n\n\n/**\n * Delete the characters from index position 'start' to 'end' from the 'target' String.\n * \n * ````\n * deleteAt(\"ABC\", 0, 1) -&gt; \"BC\"\n * deleteAt(\"ABC\", 0, 2) -&gt; \"C\"\n * deleteAt(\"ABC\", 1, 3) -&gt; \"A\"\n * ````\n */\npublic static String deleteAt(final String target, final int start, int end) {\n    final int targetLen = target.length();\n    if (start &lt; 0) {\n        throw new IllegalArgumentException(\"start=\" + start);\n    }\n    if (end &gt; targetLen || end &lt; start) {\n        throw new IllegalArgumentException(\"end=\" + end);\n    }\n    if (start == 0) {\n        return end == targetLen ? \"\" : target.substring(end);\n    } else if (end == targetLen) {\n        return target.substring(0, start);\n    }\n    final char[] buffer = new char[targetLen - end + start];\n    target.getChars(0, start, buffer, 0);\n    target.getChars(end, targetLen, buffer, start);\n    return new String(buffer);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12184226,"reputation":11,"user_id":8894697,"display_name":"Raosaheb Deshmukh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509978522,"creation_date":1509978522,"answer_id":47139188,"question_id":13386107,"body_markdown":"*You can delete string value use the StringBuilder and deletecharAt.\r\n\r\n    String s1 = &quot;aabc&quot;;\r\n\tStringBuilder sb = new StringBuilder(s1);\r\n\tfor(int i=0;i&lt;sb.length();i++)\r\n\t{\r\n\t  char temp = sb.charAt(0);\r\n\t  if(sb.indexOf(temp+&quot;&quot;)!=1)\r\n\t  {\t\t\t\t\t\t\t\t\r\n\t\tsb.deleteCharAt(sb.indexOf(temp+&quot;&quot;));\t\r\n\t  }\r\n\t}","title":"How to remove single character from a String by index","body":"<p>*You can delete string value use the StringBuilder and deletecharAt.</p>\n\n<pre><code>String s1 = \"aabc\";\nStringBuilder sb = new StringBuilder(s1);\nfor(int i=0;i&lt;sb.length();i++)\n{\n  char temp = sb.charAt(0);\n  if(sb.indexOf(temp+\"\")!=1)\n  {                             \n    sb.deleteCharAt(sb.indexOf(temp+\"\"));   \n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":164059,"reputation":1169,"user_id":386587,"display_name":"Erk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525546809,"creation_date":1525546809,"answer_id":50193038,"question_id":13386107,"body_markdown":"When I have these kinds of questions I always ask: &quot;what would the Java Gurus do?&quot; :)\r\n\r\nAnd I&#39;d answer that, in this case, by looking at the implementation of `String.trim()`.\r\n\r\nHere&#39;s an extrapolation of that implementation that allows for more trim characters to be used.\r\n\r\nHowever, note that original trim actually removes all chars that are `&lt;= &#39; &#39;`, so you may have to combine this with the original to get the desired result.\r\n\r\n    String trim(String string, String toTrim) {\r\n        // input checks removed\r\n\t\tif (toTrim.length() == 0)\r\n\t\t\treturn string;\r\n\t\t\r\n\t\tfinal char[] trimChars = toTrim.toCharArray();\r\n\t\tArrays.sort(trimChars);\r\n\t\t\r\n\t\tint start = 0;\r\n\t\tint end = string.length();\r\n\r\n\t\twhile (start &lt; end &amp;&amp; \r\n            Arrays.binarySearch(trimChars, string.charAt(start)) &gt;= 0)\r\n\t\t\tstart++;\r\n\r\n\t\twhile (start &lt; end &amp;&amp; \r\n            Arrays.binarySearch(trimChars, string.charAt(end - 1)) &gt;= 0)\r\n\t\t\tend--;\r\n\t\t\r\n\t\treturn string.substring(start, end);\r\n\t}","title":"How to remove single character from a String by index","body":"<p>When I have these kinds of questions I always ask: \"what would the Java Gurus do?\" :)</p>\n\n<p>And I'd answer that, in this case, by looking at the implementation of <code>String.trim()</code>.</p>\n\n<p>Here's an extrapolation of that implementation that allows for more trim characters to be used.</p>\n\n<p>However, note that original trim actually removes all chars that are <code>&lt;= ' '</code>, so you may have to combine this with the original to get the desired result.</p>\n\n<pre><code>String trim(String string, String toTrim) {\n    // input checks removed\n    if (toTrim.length() == 0)\n        return string;\n\n    final char[] trimChars = toTrim.toCharArray();\n    Arrays.sort(trimChars);\n\n    int start = 0;\n    int end = string.length();\n\n    while (start &lt; end &amp;&amp; \n        Arrays.binarySearch(trimChars, string.charAt(start)) &gt;= 0)\n        start++;\n\n    while (start &lt; end &amp;&amp; \n        Arrays.binarySearch(trimChars, string.charAt(end - 1)) &gt;= 0)\n        end--;\n\n    return string.substring(start, end);\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3133925"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531458087,"creation_date":1531458087,"answer_id":51317946,"question_id":13386107,"body_markdown":"    public String missingChar(String str, int n) {\r\n      String front = str.substring(0, n);\r\n\r\n    // Start this substring at n+1 to omit the char.\r\n    // Can also be shortened to just str.substring(n+1)\r\n    // which goes through the end of the string.\r\n\r\n    String back = str.substring(n+1, str.length());\r\n      return front + back;\r\n    }\r\n","title":"How to remove single character from a String by index","body":"<pre><code>public String missingChar(String str, int n) {\n  String front = str.substring(0, n);\n\n// Start this substring at n+1 to omit the char.\n// Can also be shortened to just str.substring(n+1)\n// which goes through the end of the string.\n\nString back = str.substring(n+1, str.length());\n  return front + back;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8403111,"reputation":1759,"user_id":6307540,"accept_rate":29,"display_name":"Nadav"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1549226873,"creation_date":1549223051,"answer_id":54506841,"question_id":13386107,"body_markdown":"If you want to remove a char from a **String *str*** at a specific **int *index***:\r\n\r\n        public static String removeCharAt(String str, int index) {\r\n\r\n            // The part of the String before the index:\r\n            String str1 = str.substring(0,index);\r\n\r\n            // The part of the String after the index:            \r\n\t\t    String str2 = str.substring(index+1,str.length());\r\n            \r\n            // These two parts together gives the String without the specified index\r\n\t\t    return str1+str2;\r\n\r\n        }\r\n      \r\n\r\n","title":"How to remove single character from a String by index","body":"<p>If you want to remove a char from a <strong>String <em>str</em></strong> at a specific <strong>int <em>index</em></strong>:</p>\n\n<pre><code>    public static String removeCharAt(String str, int index) {\n\n        // The part of the String before the index:\n        String str1 = str.substring(0,index);\n\n        // The part of the String after the index:            \n        String str2 = str.substring(index+1,str.length());\n\n        // These two parts together gives the String without the specified index\n        return str1+str2;\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13709342,"reputation":497,"user_id":9892120,"display_name":"koushick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561197272,"creation_date":1561197272,"answer_id":56714444,"question_id":13386107,"body_markdown":"To Remove a Single character from The Given String please find my method hope it will be usefull. i have used str.replaceAll to remove the string but their are many ways to remove a character from a given string but i prefer replaceall method.\r\n\r\n**Code For Remove Char:**\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.Collections;\r\n    \r\n    \r\n    public class Removecharacter \r\n    {\r\n    \t\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tString result = removeChar(&quot;Java&quot;, &#39;a&#39;);\r\n    \t\tString result1 = removeChar(&quot;Edition&quot;, &#39;i&#39;);\r\n    \t\t\r\n             System.out.println(result + &quot; &quot; + result1);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \r\n        public static String removeChar(String str, char c) {\r\n            if (str == null)\r\n            {\r\n                return null;\r\n            }\r\n            else\r\n            {\t\r\n            return str.replaceAll(Character.toString(c), &quot;&quot;);\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\n**Console image :**\r\n\r\nplease find The Attached image of console,\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aEtCO.jpg\r\n\r\nThanks For Asking. :)","title":"How to remove single character from a String by index","body":"<p>To Remove a Single character from The Given String please find my method hope it will be usefull. i have used str.replaceAll to remove the string but their are many ways to remove a character from a given string but i prefer replaceall method.</p>\n\n<p><strong>Code For Remove Char:</strong></p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.Collections;\n\n\npublic class Removecharacter \n{\n\n    public static void main(String[] args) \n    {\n        String result = removeChar(\"Java\", 'a');\n        String result1 = removeChar(\"Edition\", 'i');\n\n         System.out.println(result + \" \" + result1);\n\n    }\n\n\n    public static String removeChar(String str, char c) {\n        if (str == null)\n        {\n            return null;\n        }\n        else\n        {   \n        return str.replaceAll(Character.toString(c), \"\");\n        }\n    }\n\n\n}\n</code></pre>\n\n<p><strong>Console image :</strong></p>\n\n<p>please find The Attached image of console,</p>\n\n<p><a href=\"https://i.stack.imgur.com/aEtCO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aEtCO.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Thanks For Asking. :)</p>\n"},{"tags":[],"owner":{"account_id":14103667,"reputation":99,"user_id":10188373,"display_name":"BlizzaN"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1566927465,"creation_date":1566927465,"answer_id":57679731,"question_id":13386107,"body_markdown":"*To modify Strings, read about StringBuilder because it is mutable except for immutable String. Different operations can be found here &lt;https://docs.oracle.com/javase/tutorial/java/data/buffers.html&gt;. The code snippet below creates a StringBuilder and then append the given String and then delete the first character from the String and then convert it back from StringBuilder to a String.*\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n\t\r\n\tsb.append(str);\r\n\tsb.deleteCharAt(0);\r\n\tstr = sb.toString();","title":"How to remove single character from a String by index","body":"<p><em>To modify Strings, read about StringBuilder because it is mutable except for immutable String. Different operations can be found here <a href=\"https://docs.oracle.com/javase/tutorial/java/data/buffers.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/tutorial/java/data/buffers.html</a>. The code snippet below creates a StringBuilder and then append the given String and then delete the first character from the String and then convert it back from StringBuilder to a String.</em></p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\n\nsb.append(str);\nsb.deleteCharAt(0);\nstr = sb.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1053260,"reputation":1032,"user_id":1056610,"display_name":"fabiolimace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595701855,"creation_date":1595694655,"answer_id":63090778,"question_id":13386107,"body_markdown":"\r\nI just implemented this utility class that **removes a char or a group of chars from a String**. I think it&#39;s fast because doesn&#39;t use Regexp. I hope that it helps someone!\r\n\r\n```java\r\npackage your.package.name;\r\n\r\n/**\r\n * Utility class that removes chars from a String.\r\n * \r\n */\r\npublic class RemoveChars {\r\n\r\n\tpublic static String remove(String string, String remove) {\r\n\t\treturn new String(remove(string.toCharArray(), remove.toCharArray()));\r\n\t}\r\n\r\n\tpublic static char[] remove(final char[] chars, char[] remove) {\r\n\r\n\t\tint count = 0;\r\n\t\tchar[] buffer = new char[chars.length];\r\n\r\n\t\tfor (int i = 0; i &lt; chars.length; i++) {\r\n\r\n\t\t\tboolean include = true;\r\n\t\t\tfor (int j = 0; j &lt; remove.length; j++) {\r\n\t\t\t\tif ((chars[i] == remove[j])) {\r\n\t\t\t\t\tinclude = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (include) {\r\n\t\t\t\tbuffer[count++] = chars[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tchar[] output = new char[count];\r\n\t\tSystem.arraycopy(buffer, 0, output, 0, count);\r\n\r\n\t\treturn output;\r\n\t}\r\n\r\n\t/**\r\n\t * For tests!\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString string = &quot;THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG&quot;;\r\n\t\tString remove = &quot;AEIOU&quot;;\r\n\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;Remove AEIOU: &quot; + string);\r\n\t\tSystem.out.println(&quot;Result:       &quot; + RemoveChars.remove(string, remove));\r\n\t}\r\n}\r\n```\r\n\r\nThis is the output:\r\n\r\n```text\r\nRemove AEIOU: THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG\r\nResult:       TH QCK BRWN FX JMPS VR TH LZY DG\r\n```","title":"How to remove single character from a String by index","body":"<p>I just implemented this utility class that <strong>removes a char or a group of chars from a String</strong>. I think it's fast because doesn't use Regexp. I hope that it helps someone!</p>\n<pre class=\"lang-java prettyprint-override\"><code>package your.package.name;\n\n/**\n * Utility class that removes chars from a String.\n * \n */\npublic class RemoveChars {\n\n    public static String remove(String string, String remove) {\n        return new String(remove(string.toCharArray(), remove.toCharArray()));\n    }\n\n    public static char[] remove(final char[] chars, char[] remove) {\n\n        int count = 0;\n        char[] buffer = new char[chars.length];\n\n        for (int i = 0; i &lt; chars.length; i++) {\n\n            boolean include = true;\n            for (int j = 0; j &lt; remove.length; j++) {\n                if ((chars[i] == remove[j])) {\n                    include = false;\n                    break;\n                }\n            }\n\n            if (include) {\n                buffer[count++] = chars[i];\n            }\n        }\n\n        char[] output = new char[count];\n        System.arraycopy(buffer, 0, output, 0, count);\n\n        return output;\n    }\n\n    /**\n     * For tests!\n     */\n    public static void main(String[] args) {\n\n        String string = &quot;THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG&quot;;\n        String remove = &quot;AEIOU&quot;;\n\n        System.out.println();\n        System.out.println(&quot;Remove AEIOU: &quot; + string);\n        System.out.println(&quot;Result:       &quot; + RemoveChars.remove(string, remove));\n    }\n}\n</code></pre>\n<p>This is the output:</p>\n<pre><code>Remove AEIOU: THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG\nResult:       TH QCK BRWN FX JMPS VR TH LZY DG\n</code></pre>\n"}],"owner":{"account_id":1946654,"reputation":2062,"user_id":1751634,"accept_rate":67,"display_name":"Vikram"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":910204,"favorite_count":0,"down_vote_count":0,"up_vote_count":165,"accepted_answer_id":13386289,"answer_count":23,"score":165,"last_activity_date":1660927228,"creation_date":1352922148,"question_id":13386107,"body_markdown":"For accessing individual characters of a String in Java, we have `String.charAt(2)`. Is there any inbuilt function to remove an individual character of a String in java? \r\n\r\nSomething like this:\r\n\r\n    if(String.charAt(1) == String.charAt(2){\r\n       //I want to remove the individual character at index 2. \r\n    }","title":"How to remove single character from a String by index","body":"<p>For accessing individual characters of a String in Java, we have <code>String.charAt(2)</code>. Is there any inbuilt function to remove an individual character of a String in java? </p>\n\n<p>Something like this:</p>\n\n<pre><code>if(String.charAt(1) == String.charAt(2){\n   //I want to remove the individual character at index 2. \n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","playframework"],"answers":[{"tags":[],"owner":{"account_id":202653,"reputation":54444,"user_id":449856,"accept_rate":88,"display_name":"Codemwnci"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1326697765,"creation_date":1326697765,"answer_id":8876755,"question_id":8876670,"body_markdown":"Use an Object type, such as ArrayList. Example\r\n\r\n    @ElementCollection\r\n    public ArrayList&lt;Double&gt; values;\r\n\r\n    public YearlyTarget(int year) {\r\n        this.year = year;\r\n        this.values = new ArrayList&lt;Double&gt;(12);\r\n    }\r\n","title":"JPA Array Mapping","body":"<p>Use an Object type, such as ArrayList. Example</p>\n\n<pre><code>@ElementCollection\npublic ArrayList&lt;Double&gt; values;\n\npublic YearlyTarget(int year) {\n    this.year = year;\n    this.values = new ArrayList&lt;Double&gt;(12);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26568,"reputation":15517,"user_id":69258,"display_name":"DataNucleus"},"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1326703601,"creation_date":1326703601,"answer_id":8877470,"question_id":8876670,"body_markdown":"JPA does not mandate being able to persist arrays to a separate table; obviously JDO does but then you have chosen not to use that. Consequently you need to either store them as @Lob, or change your java type to a List.","title":"JPA Array Mapping","body":"<p>JPA does not mandate being able to persist arrays to a separate table; obviously JDO does but then you have chosen not to use that. Consequently you need to either store them as @Lob, or change your java type to a List.</p>\n"},{"tags":[],"owner":{"account_id":1474584,"reputation":876,"user_id":1385310,"accept_rate":63,"display_name":"Tian Na"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1529218448,"creation_date":1529218448,"answer_id":50894391,"question_id":8876670,"body_markdown":"You don&#39;t specify the required database structure backing your mapping. `@ElementCollection` relies on a table that is joined up on retrieving the collection.\r\n\r\nIn Postgresql database for example you are able to store a simple array in within a column which is possible to map. You will need to in include a [dependency][1]:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd your entity definition will look like:\r\n\r\n    @Entity\r\n    @Table(name = &quot;products&quot;)\r\n    @TypeDefs(@TypeDef(name = &quot;string-array&quot;, typeClass = StringArrayType.class))\r\n    public class Product {\r\n\r\n        @Type(type = &quot;string-array&quot; )\r\n        @Column(name = &quot;colours&quot;)\r\n        private String[] colours;\r\n\r\n    }\r\n\r\nCurrently the library only supports ints and strings, but it is a fairly simple task to add new types.\r\n\r\n  [1]: https://vladmihalcea.com/how-to-map-java-and-sql-arrays-with-jpa-and-hibernate/","title":"JPA Array Mapping","body":"<p>You don't specify the required database structure backing your mapping. <code>@ElementCollection</code> relies on a table that is joined up on retrieving the collection.</p>\n\n<p>In Postgresql database for example you are able to store a simple array in within a column which is possible to map. You will need to in include a <a href=\"https://vladmihalcea.com/how-to-map-java-and-sql-arrays-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">dependency</a>:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And your entity definition will look like:</p>\n\n<pre><code>@Entity\n@Table(name = \"products\")\n@TypeDefs(@TypeDef(name = \"string-array\", typeClass = StringArrayType.class))\npublic class Product {\n\n    @Type(type = \"string-array\" )\n    @Column(name = \"colours\")\n    private String[] colours;\n\n}\n</code></pre>\n\n<p>Currently the library only supports ints and strings, but it is a fairly simple task to add new types.</p>\n"},{"tags":[],"owner":{"account_id":24102703,"reputation":36,"user_id":18074317,"display_name":"flobbe9"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660926745,"creation_date":1660926745,"answer_id":73419748,"question_id":8876670,"body_markdown":"To persist arrays you can use the `@OrderColumn`annotation together with`@ElementCollection`:\r\n\r\n```\r\n@ElementCollection\r\n@OrderColumn\r\npublic Double[] values;\r\n```","title":"JPA Array Mapping","body":"<p>To persist arrays you can use the <code>@OrderColumn</code>annotation together with<code>@ElementCollection</code>:</p>\n<pre><code>@ElementCollection\n@OrderColumn\npublic Double[] values;\n</code></pre>\n"}],"owner":{"account_id":230750,"reputation":4876,"user_id":494540,"accept_rate":90,"display_name":"emt14"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34280,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":8877470,"answer_count":4,"score":10,"last_activity_date":1660926745,"creation_date":1326697150,"question_id":8876670,"body_markdown":"How can I map an array of Doubles in JPA.\r\nI have the following code which fails because hibernate cannot initialise the array.\r\n\r\n\r\n    @Entity\r\n    public class YearlyTarget extends GenericModel {\r\n    \r\n        @Id\r\n        public Integer  year;\r\n    \r\n        @ElementCollection\r\n        public Double[] values;\r\n    \r\n        public YearlyTarget(int year) {\r\n            this.year = year;\r\n            this.values = new Double[12];\r\n        }\r\n    }","title":"JPA Array Mapping","body":"<p>How can I map an array of Doubles in JPA.\nI have the following code which fails because hibernate cannot initialise the array.</p>\n\n<pre><code>@Entity\npublic class YearlyTarget extends GenericModel {\n\n    @Id\n    public Integer  year;\n\n    @ElementCollection\n    public Double[] values;\n\n    public YearlyTarget(int year) {\n        this.year = year;\n        this.values = new Double[12];\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jtable","jcombobox","jcheckbox"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1660936518,"post_id":73413535,"comment_id":129659814,"body_markdown":"See: [Table Button Column](https://tips4java.wordpress.com/2009/07/12/table-button-column/) for a renderer/editor for a button.","body":"See: <a href=\"https://tips4java.wordpress.com/2009/07/12/table-button-column/\" rel=\"nofollow noreferrer\">Table Button Column</a> for a renderer/editor for a button."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660911541,"creation_date":1660898808,"answer_id":73414123,"question_id":73413535,"body_markdown":"The easy way to place a JCheckBox in a JTable is a TableModel that has a boolean value in one of the columns (see [TableModel.getColumnClass()][1])\r\n\r\nTo get both a JCheckBox and a JButton into one cell create your custom [TableCellRenderer][2]. See also https://stackoverflow.com/questions/39153879/swing-jtable-with-custom-tablecellrenderer\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/table/TableModel.html#getColumnClass(int)\r\n  [2]: https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/table/TableCellRenderer.html","title":"Adding CheckBox and Button in Table","body":"<p>The easy way to place a JCheckBox in a JTable is a TableModel that has a boolean value in one of the columns (see <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/table/TableModel.html#getColumnClass(int)\" rel=\"nofollow noreferrer\">TableModel.getColumnClass()</a>)</p>\n<p>To get both a JCheckBox and a JButton into one cell create your custom <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/table/TableCellRenderer.html\" rel=\"nofollow noreferrer\">TableCellRenderer</a>. See also <a href=\"https://stackoverflow.com/questions/39153879/swing-jtable-with-custom-tablecellrenderer\">Swing JTable with custom TableCellRenderer</a></p>\n"}],"owner":{"account_id":14136769,"reputation":43,"user_id":16438442,"display_name":"breakingcode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1660926732,"creation_date":1660895694,"question_id":73413535,"body_markdown":"1) I am trying to add separated column for button where every row will have have button and on click of the button color of the row should change\r\n2) I am also trying to add checkbox column for every row \r\n3) And at last a submit button, below table which on click will show the pop of selected row via checkbox \r\n\r\nI can&#39;t think of logic of the problem.\r\n\r\nMy code is below\r\n\r\n    public class Main {\r\n        private static final JFrame jFrame = new JFrame();\r\n        public static void main(String[] args) {\r\n    \r\n            JPanel panel = new JPanel();\r\n            jFrame.setSize(350,200);\r\n            jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            jFrame.add(panel);\r\n            panel.setLayout(new FlowLayout());\r\n            JComboBox&lt;String&gt; cb = new JComboBox&lt;&gt;(new String[] {&quot;&quot;,&quot;Show&quot;,&quot;Hide&quot;});\r\n            panel.add(cb);\r\n            JButton button = new JButton(&quot;change&quot;);\r\n            button.setBounds(10,80,80,25);\r\n            panel.add(button);\r\n    \r\n            String[][] rec = {\r\n                    { &quot;1&quot;, &quot;Steve&quot;, &quot;AUS&quot; },\r\n                    { &quot;2&quot;, &quot;Virat&quot;, &quot;IND&quot; },\r\n                    { &quot;3&quot;, &quot;Kane&quot;, &quot;NZ&quot; },\r\n                    { &quot;4&quot;, &quot;David&quot;, &quot;AUS&quot; },\r\n                    { &quot;5&quot;, &quot;Ben&quot;, &quot;ENG&quot; },\r\n                    { &quot;6&quot;, &quot;Eion&quot;, &quot;ENG&quot; },\r\n            };\r\n    \r\n            String[] header = { &quot;Rank&quot;, &quot;Player&quot;, &quot;Country&quot; };\r\n            JTable table = new JTable(rec, header);\r\n            panel.add(new JScrollPane(table));\r\n            table.setVisible(false);\r\n            cb.addItemListener(new ItemListener() {\r\n    \r\n                @Override\r\n                public void itemStateChanged(ItemEvent e) {\r\n                    if (e.getStateChange() == ItemEvent.SELECTED) {\r\n                        //  YourType varName = (YourType)comboBox.getSelectedItem();`\r\n                        String value = cb.getSelectedItem().toString();\r\n                        if (&quot;Show&quot;.equalsIgnoreCase(value)) {\r\n                            table.setVisible(true);\r\n                        }\r\n                        else {\r\n                            table.setVisible(false);\r\n                        }\r\n                    }\r\n                }\r\n    \r\n            });\r\n            jFrame.setVisible(true);\r\n        }\r\n    }\r\n\r\nI am done implementing checkBox in the table but can&#39;t think of How to add button in this \r\n\r\n    public class MyTable extends JFrame {\r\n    \r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    //initialize Jframe\r\n                    MyTable form = new MyTable();\r\n                    form.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n        public MyTable(){\r\n            //the form\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setBounds(200,200,800,300);\r\n            setTitle(&quot;Form&quot;);\r\n            getContentPane().setLayout(null);\r\n    \r\n            //add scroll pane\r\n            JScrollPane pane = new JScrollPane();\r\n            pane.setBounds(70,80,600,200);\r\n            getContentPane().add(pane);\r\n    \r\n            //the table\r\n            final JTable table = new JTable();\r\n            pane.setViewportView(table);\r\n    \r\n            //the model of table\r\n            DefaultTableModel model = new DefaultTableModel(){\r\n                public Class&lt;?&gt; getColumnClass(int column){\r\n                    switch (column){\r\n                        case 0:\r\n                            return String.class;\r\n                        case 1:\r\n                            return String.class;\r\n                        case 2:\r\n                            return String.class;\r\n                        case 3:\r\n                            return String.class;\r\n                        case 4:\r\n                            return Boolean.class;\r\n                        default:\r\n                            return String.class;\r\n                    }\r\n                }\r\n            };\r\n            // setting model of the table\r\n            table.setModel(model);\r\n            model.addColumn(&quot;Points&quot;);\r\n            model.addColumn(&quot;Position&quot;);\r\n            model.addColumn(&quot;Team&quot;);\r\n            model.addColumn(&quot;Manager&quot;);\r\n            model.addColumn(&quot;Select&quot;);\r\n    \r\n            for(int i = 0; i &lt; 7; i++){\r\n                model.addRow(new Object[0]);\r\n                model.setValueAt(&quot;Column 3&quot;,i,0);\r\n                model.setValueAt(&quot;Our Row&quot;+(i+1),i,1);\r\n                model.setValueAt(&quot;Column 2&quot;,i,2);\r\n                model.setValueAt(&quot;Column 4&quot;,i,3);\r\n                model.setValueAt(false,i,4);\r\n            }\r\n    \r\n            //obtain selected\r\n            JButton button = new JButton(&quot;Submit&quot;);\r\n            button.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    //get selected item\r\n                    for(int i = 0; i &lt; table.getRowCount(); i++){\r\n                        Boolean checked = Boolean.valueOf(table.getValueAt(i,4).toString());\r\n                        String col = table.getValueAt(i,1).toString();\r\n    \r\n                        //Display\r\n                        if(checked){\r\n                            JOptionPane.showMessageDialog(null,col);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            // Add button to form\r\n            button.setBounds(20,30,130,30);\r\n            getContentPane().add(button);\r\n        }\r\n    }\r\n\r\nThanks! I am stuck in this for few days, does anyone know how to implement this.","title":"Adding CheckBox and Button in Table","body":"<ol>\n<li>I am trying to add separated column for button where every row will have have button and on click of the button color of the row should change</li>\n<li>I am also trying to add checkbox column for every row</li>\n<li>And at last a submit button, below table which on click will show the pop of selected row via checkbox</li>\n</ol>\n<p>I can't think of logic of the problem.</p>\n<p>My code is below</p>\n<pre><code>public class Main {\n    private static final JFrame jFrame = new JFrame();\n    public static void main(String[] args) {\n\n        JPanel panel = new JPanel();\n        jFrame.setSize(350,200);\n        jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        jFrame.add(panel);\n        panel.setLayout(new FlowLayout());\n        JComboBox&lt;String&gt; cb = new JComboBox&lt;&gt;(new String[] {&quot;&quot;,&quot;Show&quot;,&quot;Hide&quot;});\n        panel.add(cb);\n        JButton button = new JButton(&quot;change&quot;);\n        button.setBounds(10,80,80,25);\n        panel.add(button);\n\n        String[][] rec = {\n                { &quot;1&quot;, &quot;Steve&quot;, &quot;AUS&quot; },\n                { &quot;2&quot;, &quot;Virat&quot;, &quot;IND&quot; },\n                { &quot;3&quot;, &quot;Kane&quot;, &quot;NZ&quot; },\n                { &quot;4&quot;, &quot;David&quot;, &quot;AUS&quot; },\n                { &quot;5&quot;, &quot;Ben&quot;, &quot;ENG&quot; },\n                { &quot;6&quot;, &quot;Eion&quot;, &quot;ENG&quot; },\n        };\n\n        String[] header = { &quot;Rank&quot;, &quot;Player&quot;, &quot;Country&quot; };\n        JTable table = new JTable(rec, header);\n        panel.add(new JScrollPane(table));\n        table.setVisible(false);\n        cb.addItemListener(new ItemListener() {\n\n            @Override\n            public void itemStateChanged(ItemEvent e) {\n                if (e.getStateChange() == ItemEvent.SELECTED) {\n                    //  YourType varName = (YourType)comboBox.getSelectedItem();`\n                    String value = cb.getSelectedItem().toString();\n                    if (&quot;Show&quot;.equalsIgnoreCase(value)) {\n                        table.setVisible(true);\n                    }\n                    else {\n                        table.setVisible(false);\n                    }\n                }\n            }\n\n        });\n        jFrame.setVisible(true);\n    }\n}\n</code></pre>\n<p>I am done implementing checkBox in the table but can't think of How to add button in this</p>\n<pre><code>public class MyTable extends JFrame {\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                //initialize Jframe\n                MyTable form = new MyTable();\n                form.setVisible(true);\n            }\n        });\n    }\n    public MyTable(){\n        //the form\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBounds(200,200,800,300);\n        setTitle(&quot;Form&quot;);\n        getContentPane().setLayout(null);\n\n        //add scroll pane\n        JScrollPane pane = new JScrollPane();\n        pane.setBounds(70,80,600,200);\n        getContentPane().add(pane);\n\n        //the table\n        final JTable table = new JTable();\n        pane.setViewportView(table);\n\n        //the model of table\n        DefaultTableModel model = new DefaultTableModel(){\n            public Class&lt;?&gt; getColumnClass(int column){\n                switch (column){\n                    case 0:\n                        return String.class;\n                    case 1:\n                        return String.class;\n                    case 2:\n                        return String.class;\n                    case 3:\n                        return String.class;\n                    case 4:\n                        return Boolean.class;\n                    default:\n                        return String.class;\n                }\n            }\n        };\n        // setting model of the table\n        table.setModel(model);\n        model.addColumn(&quot;Points&quot;);\n        model.addColumn(&quot;Position&quot;);\n        model.addColumn(&quot;Team&quot;);\n        model.addColumn(&quot;Manager&quot;);\n        model.addColumn(&quot;Select&quot;);\n\n        for(int i = 0; i &lt; 7; i++){\n            model.addRow(new Object[0]);\n            model.setValueAt(&quot;Column 3&quot;,i,0);\n            model.setValueAt(&quot;Our Row&quot;+(i+1),i,1);\n            model.setValueAt(&quot;Column 2&quot;,i,2);\n            model.setValueAt(&quot;Column 4&quot;,i,3);\n            model.setValueAt(false,i,4);\n        }\n\n        //obtain selected\n        JButton button = new JButton(&quot;Submit&quot;);\n        button.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                //get selected item\n                for(int i = 0; i &lt; table.getRowCount(); i++){\n                    Boolean checked = Boolean.valueOf(table.getValueAt(i,4).toString());\n                    String col = table.getValueAt(i,1).toString();\n\n                    //Display\n                    if(checked){\n                        JOptionPane.showMessageDialog(null,col);\n                    }\n                }\n            }\n        });\n        // Add button to form\n        button.setBounds(20,30,130,30);\n        getContentPane().add(button);\n    }\n}\n</code></pre>\n<p>Thanks! I am stuck in this for few days, does anyone know how to implement this.</p>\n"},{"tags":["java","android","c++","android-ndk","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1660937643,"post_id":73419022,"comment_id":129660162,"body_markdown":"You should never ever have to write Java internal signatures yourself. Extract them  from the output of `javap -s` instead.","body":"You should never ever have to write Java internal signatures yourself. Extract them  from the output of <code>javap -s</code> instead."},{"owner":{"account_id":4769326,"reputation":433,"user_id":3854583,"accept_rate":100,"display_name":"Chip Burwell"},"score":0,"creation_date":1661187694,"post_id":73419022,"comment_id":129707257,"body_markdown":"@botje Can you give the specifics for the javap -s search? What would the class be?","body":"@botje Can you give the specifics for the javap -s search? What would the class be?"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1661952932,"post_id":73419022,"comment_id":129894131,"body_markdown":"The output of `javap -cp $ANDROID_SDK/platforms/android-30/android.jar -s android.content.SharedPreferences` contains the signature of `getString`. Assumes `$ANDROID_SDK` is set correctly, of course.","body":"The output of <code>javap -cp $ANDROID_SDK&#47;platforms&#47;android-30&#47;android.jar -s android.content.SharedPreferences</code> contains the signature of <code>getString</code>. Assumes <code>$ANDROID_SDK</code> is set correctly, of course."}],"answers":[{"tags":[],"owner":{"account_id":4769326,"reputation":433,"user_id":3854583,"accept_rate":100,"display_name":"Chip Burwell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660926322,"creation_date":1660926322,"answer_id":73419673,"question_id":73419022,"body_markdown":"The correct format turned out to be:\r\n\r\n    jmethodID getStringMethodID = JEnv-&gt;GetMethodID(sharedPreferencesClass, &quot;getString&quot;, &quot;(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;&quot;);\r\n\r\nThere were a couple issues with my original attemps. First, the second String arg inside the brackets needed a semi-colon. Then I needed to add the return type, also a String, and be sure that it had a semi-colon at the end too.","title":"Android JNI GetMethodID for sharedPreferences.getString","body":"<p>The correct format turned out to be:</p>\n<pre><code>jmethodID getStringMethodID = JEnv-&gt;GetMethodID(sharedPreferencesClass, &quot;getString&quot;, &quot;(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;&quot;);\n</code></pre>\n<p>There were a couple issues with my original attemps. First, the second String arg inside the brackets needed a semi-colon. Then I needed to add the return type, also a String, and be sure that it had a semi-colon at the end too.</p>\n"}],"owner":{"account_id":4769326,"reputation":433,"user_id":3854583,"accept_rate":100,"display_name":"Chip Burwell"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73419673,"answer_count":1,"score":0,"last_activity_date":1660926322,"creation_date":1660922773,"question_id":73419022,"body_markdown":"I&#39;m trying to get a string from sharedPreferences on Android from C++ code using JNI. I can successfully get the MethodID for getBoolean with this code:\r\n\r\n    jmethodID getBooleanMethodID = JEnv-&gt;GetMethodID(sharedPreferencesClass, &quot;getBoolean&quot;, &quot;(Ljava/lang/String;Z)Z&quot;);\r\n\r\nThe getBoolean function is defined in Java as getBoolean(String key, boolean defValue) \r\n\r\nBut I can&#39;t figure out how to correctly format the GetMethodID arguments for getString. \r\nThe getString function is defined in Java as getString(String key, String defValue)\r\n\r\nI&#39;ve tried:\r\n\r\n    jmethodID getStringMethodID = JEnv-&gt;GetMethodID(sharedPreferencesClass, &quot;getString&quot;, &quot;(Ljava/lang/String;Ljava/lang/String)&quot;);\r\n\r\nCan someone provide the correct way to format the argument param for getString? ","title":"Android JNI GetMethodID for sharedPreferences.getString","body":"<p>I'm trying to get a string from sharedPreferences on Android from C++ code using JNI. I can successfully get the MethodID for getBoolean with this code:</p>\n<pre><code>jmethodID getBooleanMethodID = JEnv-&gt;GetMethodID(sharedPreferencesClass, &quot;getBoolean&quot;, &quot;(Ljava/lang/String;Z)Z&quot;);\n</code></pre>\n<p>The getBoolean function is defined in Java as getBoolean(String key, boolean defValue)</p>\n<p>But I can't figure out how to correctly format the GetMethodID arguments for getString.\nThe getString function is defined in Java as getString(String key, String defValue)</p>\n<p>I've tried:</p>\n<pre><code>jmethodID getStringMethodID = JEnv-&gt;GetMethodID(sharedPreferencesClass, &quot;getString&quot;, &quot;(Ljava/lang/String;Ljava/lang/String)&quot;);\n</code></pre>\n<p>Can someone provide the correct way to format the argument param for getString?</p>\n"},{"tags":["java","printing","graphics","line-breaks"],"answers":[{"tags":[],"owner":{"account_id":2820458,"reputation":2588,"user_id":2424320,"accept_rate":89,"display_name":"Turbut Alin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1569711905,"creation_date":1481571381,"answer_id":41108245,"question_id":41107893,"body_markdown":"Apparently, `drawString()` method does not handle line breaks. You can solve this by splitting the String on line breaks and printing each line separately on a new line. You can create a custom method to use like this one:\r\n\r\n    private void drawString(Graphics g, String text, int x, int y) {\r\n        String[] splittedText = text.split(&quot;\\n&quot;);\r\n        for (int i = 0; i &lt; splittedText.length; i++) {\r\n            String line = splittedText[i];\r\n            g.drawString(line, x, y + (g.getFontMetrics().getHeight() * i));\r\n        }\r\n    }\r\n\r\nHope it helps!","title":"Print string with line breaks","body":"<p>Apparently, <code>drawString()</code> method does not handle line breaks. You can solve this by splitting the String on line breaks and printing each line separately on a new line. You can create a custom method to use like this one:</p>\n\n<pre><code>private void drawString(Graphics g, String text, int x, int y) {\n    String[] splittedText = text.split(\"\\n\");\n    for (int i = 0; i &lt; splittedText.length; i++) {\n        String line = splittedText[i];\n        g.drawString(line, x, y + (g.getFontMetrics().getHeight() * i));\n    }\n}\n</code></pre>\n\n<p>Hope it helps!</p>\n"}],"owner":{"account_id":9836525,"reputation":13,"user_id":7286767,"display_name":"phdz07"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":645,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":41108245,"answer_count":1,"score":1,"last_activity_date":1660925970,"creation_date":1481570014,"question_id":41107893,"body_markdown":"I&#39;m working on a text editor and my next goal is to print the written text on a printer (not sysout).\r\n\r\nI tried it many times and it worked but the line breaks got ignored. \r\n\r\n    Graphics pg = prjob.getGraphics();\r\n\t\t\t\tpg.setFont(textFont);\r\n\t\t\t\tpg.drawString(window.getText(), iPosX, iPosY);\r\n\t\t\t\tpg.dispose();\r\n\r\nI created a new graphics and set the font.\r\nThen I took the text which was written into my editor window.\r\n`iPosX` &amp; `iPosY` are the measurement of the paper. \r\n\r\nHow can I print the whole String considering the line breaks?","title":"Print string with line breaks","body":"<p>I'm working on a text editor and my next goal is to print the written text on a printer (not sysout).</p>\n<p>I tried it many times and it worked but the line breaks got ignored.</p>\n<pre><code>Graphics pg = prjob.getGraphics();\n            pg.setFont(textFont);\n            pg.drawString(window.getText(), iPosX, iPosY);\n            pg.dispose();\n</code></pre>\n<p>I created a new graphics and set the font.\nThen I took the text which was written into my editor window.\n<code>iPosX</code> &amp; <code>iPosY</code> are the measurement of the paper.</p>\n<p>How can I print the whole String considering the line breaks?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":218120,"reputation":52202,"user_id":474283,"display_name":"Cameron Skinner"},"score":6,"creation_date":1314760136,"post_id":7252142,"comment_id":8724632,"body_markdown":"Is this homework? Have you tried looking at the Javadocs for the `String` class?","body":"Is this homework? Have you tried looking at the Javadocs for the <code>String</code> class?"},{"owner":{"account_id":112931,"reputation":77772,"user_id":297696,"accept_rate":100,"display_name":"wkl"},"score":1,"creation_date":1314760184,"post_id":7252142,"comment_id":8724636,"body_markdown":"Did you read the Java API doc for `String`? It details the methods that tell you its length, as well as checking the character at a position. [link for the google challenged](http://download.oracle.com/javase/7/docs/api/java/lang/String.html)","body":"Did you read the Java API doc for <code>String</code>? It details the methods that tell you its length, as well as checking the character at a position. <a href=\"http://download.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">link for the google challenged</a>"},{"owner":{"account_id":458881,"reputation":359,"user_id":859038,"accept_rate":40,"display_name":"tussya"},"score":1,"creation_date":1314760254,"post_id":7252142,"comment_id":8724649,"body_markdown":"No, this isn&#39;t for homework, just a program I&#39;m working on.","body":"No, this isn&#39;t for homework, just a program I&#39;m working on."},{"owner":{"account_id":354153,"reputation":1868,"user_id":692328,"accept_rate":75,"display_name":"Des Horsley"},"score":0,"creation_date":1444627216,"post_id":7252142,"comment_id":53965102,"body_markdown":"Possible duplicate of [Count letters in a string Java](http://stackoverflow.com/questions/19163876/count-letters-in-a-string-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/19163876/count-letters-in-a-string-java\">Count letters in a string Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":381030,"reputation":6499,"user_id":735425,"accept_rate":100,"display_name":"ssell"},"down_vote_count":2,"up_vote_count":50,"is_accepted":true,"score":48,"last_activity_date":1385356313,"creation_date":1314760253,"answer_id":7252166,"question_id":7252142,"body_markdown":"A)\r\n   \r\n    String str = &quot;a string&quot;;\r\n    int length = str.length( ); // length == 8\r\n\r\nhttp://download.oracle.com/javase/7/docs/api/java/lang/String.html#length%28%29\r\n\r\n**edit** \r\n\r\nIf you want to count the number of a specific type of characters in a `String`, then a simple method is to iterate through the `String` checking each index against your test case.\r\n\r\n    int charCount = 0;\r\n    char temp;\r\n\r\n    for( int i = 0; i &lt; str.length( ); i++ )\r\n    {\r\n        temp = str.charAt( i );\r\n\r\n        if( temp.TestCase )\r\n            charCount++;\r\n    }\r\n\r\nwhere `TestCase` can be `isLetter( )`, `isDigit( )`, etc.\r\n\r\nOr if you just want to count everything but spaces, then do a check in the `if` like `temp != &#39; &#39;`\r\n\r\nB)\r\n\r\n    String str = &quot;a string&quot;;\r\n    char atPos0 = str.charAt( 0 ); // atPos0 == &#39;a&#39;\r\n\r\nhttp://download.oracle.com/javase/7/docs/api/java/lang/String.html#charAt%28int%29","title":"How to check how many letters are in a string in java?","body":"<p>A)</p>\n\n<pre><code>String str = \"a string\";\nint length = str.length( ); // length == 8\n</code></pre>\n\n<p><a href=\"http://download.oracle.com/javase/7/docs/api/java/lang/String.html#length%28%29\">http://download.oracle.com/javase/7/docs/api/java/lang/String.html#length%28%29</a></p>\n\n<p><strong>edit</strong> </p>\n\n<p>If you want to count the number of a specific type of characters in a <code>String</code>, then a simple method is to iterate through the <code>String</code> checking each index against your test case.</p>\n\n<pre><code>int charCount = 0;\nchar temp;\n\nfor( int i = 0; i &lt; str.length( ); i++ )\n{\n    temp = str.charAt( i );\n\n    if( temp.TestCase )\n        charCount++;\n}\n</code></pre>\n\n<p>where <code>TestCase</code> can be <code>isLetter( )</code>, <code>isDigit( )</code>, etc.</p>\n\n<p>Or if you just want to count everything but spaces, then do a check in the <code>if</code> like <code>temp != ' '</code></p>\n\n<p>B)</p>\n\n<pre><code>String str = \"a string\";\nchar atPos0 = str.charAt( 0 ); // atPos0 == 'a'\n</code></pre>\n\n<p><a href=\"http://download.oracle.com/javase/7/docs/api/java/lang/String.html#charAt%28int%29\">http://download.oracle.com/javase/7/docs/api/java/lang/String.html#charAt%28int%29</a></p>\n"},{"tags":[],"owner":{"account_id":2163622,"reputation":377,"user_id":1917206,"display_name":"Alex Orzechowski"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1355963031,"creation_date":1355963031,"answer_id":13963438,"question_id":7252142,"body_markdown":"To answer your questions in a easy way:\r\n\r\n        a) String.length();\r\n        b) String.charAt(/* String index */);","title":"How to check how many letters are in a string in java?","body":"<p>To answer your questions in a easy way:</p>\n\n<pre><code>    a) String.length();\n    b) String.charAt(/* String index */);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1753200,"reputation":638,"user_id":1601830,"display_name":"ThomasMH"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1411173626,"creation_date":1411173626,"answer_id":25944122,"question_id":7252142,"body_markdown":"If you are counting letters, the above solution will fail for some unicode symbols.  For example for these 5 characters sample.length() will return 6 instead of 5:\r\n\r\n    String sample = &quot;\\u760c\\u0444\\u03b3\\u03b5\\ud800\\udf45&quot;; // &#66373;\r\n\r\nThe codePointCount function was introduced in Java 1.5 and I understand gives better results for glyphs etc\r\n\r\n    sample.codePointCount(0, sample.length()) // returns 5\r\n\r\nhttp://globalizer.wordpress.com/2007/01/16/utf-8-and-string-length-limitations/\r\n","title":"How to check how many letters are in a string in java?","body":"<p>If you are counting letters, the above solution will fail for some unicode symbols.  For example for these 5 characters sample.length() will return 6 instead of 5:</p>\n\n<pre><code>String sample = \"\\u760c\\u0444\\u03b3\\u03b5\\ud800\\udf45\"; // \n</code></pre>\n\n<p>The codePointCount function was introduced in Java 1.5 and I understand gives better results for glyphs etc</p>\n\n<pre><code>sample.codePointCount(0, sample.length()) // returns 5\n</code></pre>\n\n<p><a href=\"http://globalizer.wordpress.com/2007/01/16/utf-8-and-string-length-limitations/\" rel=\"noreferrer\">http://globalizer.wordpress.com/2007/01/16/utf-8-and-string-length-limitations/</a></p>\n"},{"tags":[],"owner":{"account_id":7105503,"reputation":1,"user_id":5435255,"display_name":"Anil Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444627002,"creation_date":1444627002,"answer_id":33073707,"question_id":7252142,"body_markdown":"1) To answer your question:\r\n\r\n      String s=&quot;Java&quot;;\r\n      System.out.println(s.length()); ","title":"How to check how many letters are in a string in java?","body":"<p>1) To answer your question:</p>\n\n<pre><code>  String s=\"Java\";\n  System.out.println(s.length()); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660925765,"creation_date":1660925765,"answer_id":73419588,"question_id":7252142,"body_markdown":"I could not get any of these answers to work for me using `UTF-8`. If you are using `UTF-8`, have a look at [this](https://stackoverflow.com/questions/8511490/calculating-length-in-utf-8-of-java-string-without-actually-encoding-it) post. I ended up using [`Guava&#39;s Utf8`](https://github.com/google/guava).\r\n","title":"How to check how many letters are in a string in java?","body":"<p>I could not get any of these answers to work for me using <code>UTF-8</code>. If you are using <code>UTF-8</code>, have a look at <a href=\"https://stackoverflow.com/questions/8511490/calculating-length-in-utf-8-of-java-string-without-actually-encoding-it\">this</a> post. I ended up using <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\"><code>Guava's Utf8</code></a>.</p>\n"}],"owner":{"account_id":458881,"reputation":359,"user_id":859038,"accept_rate":40,"display_name":"tussya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253380,"favorite_count":0,"down_vote_count":13,"up_vote_count":35,"accepted_answer_id":7252166,"answer_count":5,"score":22,"last_activity_date":1660925765,"creation_date":1314760045,"question_id":7252142,"body_markdown":"How do you check how many letters are in a Java string?\r\n\r\nHow do you check what letter is in a certain position in the string (i.e, the second letter of the string)?\r\n","title":"How to check how many letters are in a string in java?","body":"<p>How do you check how many letters are in a Java string?</p>\n\n<p>How do you check what letter is in a certain position in the string (i.e, the second letter of the string)?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1660920823,"post_id":73418558,"comment_id":129655147,"body_markdown":"Whenever you use `new` in any framework with dependency injection (so Spring Boot but also Quarkus, CDI, etc.) *nothing will get injected*. The framework doesn&#39;t hook itself in constructors, it calls those constructors when you inject instances of these classes.","body":"Whenever you use <code>new</code> in any framework with dependency injection (so Spring Boot but also Quarkus, CDI, etc.) <i>nothing will get injected</i>. The framework doesn&#39;t hook itself in constructors, it calls those constructors when you inject instances of these classes."},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Micha Ziober"},"score":0,"creation_date":1660920831,"post_id":73418558,"comment_id":129655149,"body_markdown":"It works like this because you created this instance manually - `new MyClass(&quot;abc&quot;, &quot;def&quot;)`. If you want to inject dependency you need to inject `abc` and `def` as properties and let `Spring` to create `MyClass` instance.","body":"It works like this because you created this instance manually - <code>new MyClass(&quot;abc&quot;, &quot;def&quot;)</code>. If you want to inject dependency you need to inject <code>abc</code> and <code>def</code> as properties and let <code>Spring</code> to create <code>MyClass</code> instance."},{"owner":{"account_id":5046108,"reputation":3622,"user_id":6366458,"accept_rate":64,"display_name":"arqam"},"score":0,"creation_date":1660922680,"post_id":73418558,"comment_id":129655845,"body_markdown":"@MichaZiober The values in the constructor I get at runtime and I need to spin multiple threads with different values, so multiple instance also I need. Is it possible to do that","body":"@MichaZiober The values in the constructor I get at runtime and I need to spin multiple threads with different values, so multiple instance also I need. Is it possible to do that"},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Micha Ziober"},"score":0,"creation_date":1660927719,"post_id":73418558,"comment_id":129657426,"body_markdown":"@arqam, take a look here how to create a prototype bean with params: [Spring Java Config: how do you create a prototype-scoped Bean with runtime arguments?](https://stackoverflow.com/questions/22155832/spring-java-config-how-do-you-create-a-prototype-scoped-bean-with-runtime-argu)","body":"@arqam, take a look here how to create a prototype bean with params: <a href=\"https://stackoverflow.com/questions/22155832/spring-java-config-how-do-you-create-a-prototype-scoped-bean-with-runtime-argu\">Spring Java Config: how do you create a prototype-scoped Bean with runtime arguments?</a>"}],"answers":[{"tags":[],"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660925588,"creation_date":1660921162,"answer_id":73418695,"question_id":73418558,"body_markdown":"you are seeing NPE, coz `ServiceA` is not injected in to your MyClass. And that is becoz you created `MyClass` through `new` keyword i.e `new MyClass(&quot;abc&quot;, &quot;def&quot;)`\r\n\r\n\r\nTry getting `MyClass` also from container i.e   \r\n\r\n    @Autowired MyClass myClass;\r\n\r\nand use `myClass` in the executor. \r\n\r\n    executor.submit(myClass.newRunnable());\r\n\r\n","title":"SpringBoot : Using @Autowired instance inside Runnable Run method","body":"<p>you are seeing NPE, coz <code>ServiceA</code> is not injected in to your MyClass. And that is becoz you created <code>MyClass</code> through <code>new</code> keyword i.e <code>new MyClass(&quot;abc&quot;, &quot;def&quot;)</code></p>\n<p>Try getting <code>MyClass</code> also from container i.e</p>\n<pre><code>@Autowired MyClass myClass;\n</code></pre>\n<p>and use <code>myClass</code> in the executor.</p>\n<pre><code>executor.submit(myClass.newRunnable());\n</code></pre>\n"}],"owner":{"account_id":5046108,"reputation":3622,"user_id":6366458,"accept_rate":64,"display_name":"arqam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1660921353,"accepted_answer_id":73418695,"answer_count":1,"score":0,"last_activity_date":1660925588,"creation_date":1660920492,"question_id":73418558,"body_markdown":"I am trying to use an instance of object instantiated through `@Autowire` inside a class with Runnable, but I am getting `Null Pointer Exception`\r\n\r\nI went through [this thread][1] but all the solution I tried and still its the same problem.\r\n\r\nSharing my code : \r\n\r\n    @Component\r\n    public class MyClass{\r\n\r\n    @Autowired\r\n    private ServiceA serviceA;\r\n\r\n    private String a;\r\n    private String b;\r\n\r\n    public MyClass() {\r\n    }\r\n    public MyClass(String a, String b) {\r\n    this.a = a;\r\n    this.b = b;\r\n    }\r\n    public Runnable newRunnable() {\r\n        return new Runnable() {\r\n            @Override\r\n            public void run() {\r\n               serviceA.innerMethod(a, b);  //got NPE here\r\n            }\r\n         };\r\n      }\r\n    }\r\n\r\n\r\nAnd I am calling this class runnable like this from other class\r\n\r\n`executor.submit(new MyClass(&quot;abc&quot;, &quot;def&quot;).newRunnable());`\r\n\r\n\r\nSo, am I doing something wrong, or is there any way where I could use the object\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/38026330/autowired-not-working-inside-a-runnable","title":"SpringBoot : Using @Autowired instance inside Runnable Run method","body":"<p>I am trying to use an instance of object instantiated through <code>@Autowire</code> inside a class with Runnable, but I am getting <code>Null Pointer Exception</code></p>\n<p>I went through <a href=\"https://stackoverflow.com/questions/38026330/autowired-not-working-inside-a-runnable\">this thread</a> but all the solution I tried and still its the same problem.</p>\n<p>Sharing my code :</p>\n<pre><code>@Component\npublic class MyClass{\n\n@Autowired\nprivate ServiceA serviceA;\n\nprivate String a;\nprivate String b;\n\npublic MyClass() {\n}\npublic MyClass(String a, String b) {\nthis.a = a;\nthis.b = b;\n}\npublic Runnable newRunnable() {\n    return new Runnable() {\n        @Override\n        public void run() {\n           serviceA.innerMethod(a, b);  //got NPE here\n        }\n     };\n  }\n}\n</code></pre>\n<p>And I am calling this class runnable like this from other class</p>\n<p><code>executor.submit(new MyClass(&quot;abc&quot;, &quot;def&quot;).newRunnable());</code></p>\n<p>So, am I doing something wrong, or is there any way where I could use the object</p>\n"},{"tags":["java","junit","mocking","mockito","junit5"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1660925830,"post_id":73419519,"comment_id":129656872,"body_markdown":"You can use spy instead of mock, anything you don&#39;t spy would call the original method without you specifying it","body":"You can use spy instead of mock, anything you don&#39;t spy would call the original method without you specifying it"},{"owner":{"account_id":25986825,"reputation":21,"user_id":19699689,"display_name":"nixon"},"score":0,"creation_date":1660926717,"post_id":73419519,"comment_id":129657118,"body_markdown":"Yes! Thank you that is exactly what I was looking for. This is going to be so useful for unit testing.","body":"Yes! Thank you that is exactly what I was looking for. This is going to be so useful for unit testing."}],"owner":{"account_id":25986825,"reputation":21,"user_id":19699689,"display_name":"nixon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1660926891,"answer_count":0,"score":0,"last_activity_date":1660925376,"creation_date":1660925376,"question_id":73419519,"body_markdown":"As the title describes I would like to mock 3 getters of my class for testing purposes as the variables are only available when the program is in operation and a connection is established. \r\n\r\nUsing JUnit5 my BeforeEach setup:\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        dataStore = new DataStore();\r\n        when(dataStore.getSecurityPrincipal()).thenReturn(&quot;CREDENTIALS&quot;);\r\n        when(dataStore.getSecurityCredentials()).thenReturn(&quot;CREDENTIALS&quot;);\r\n        when(dataStore.getProviderUrl()).thenReturn(&quot;CREDENTIALS&quot;);\r\n    }\r\n\r\nBut I want all the other methods of this class to remain the same, I thought about doing something like `when(dataStore.getExample(anyString(), anyString())).thenCallRealMethod()` for each method but there are a lot of methods and that would mean a lot of extra lines of code. Is there a better way to achieve this?","title":"Mocking some getters of a class and leaving all other methods the same with Mockito","body":"<p>As the title describes I would like to mock 3 getters of my class for testing purposes as the variables are only available when the program is in operation and a connection is established.</p>\n<p>Using JUnit5 my BeforeEach setup:</p>\n<pre><code>@BeforeEach\nvoid setUp() {\n    dataStore = new DataStore();\n    when(dataStore.getSecurityPrincipal()).thenReturn(&quot;CREDENTIALS&quot;);\n    when(dataStore.getSecurityCredentials()).thenReturn(&quot;CREDENTIALS&quot;);\n    when(dataStore.getProviderUrl()).thenReturn(&quot;CREDENTIALS&quot;);\n}\n</code></pre>\n<p>But I want all the other methods of this class to remain the same, I thought about doing something like <code>when(dataStore.getExample(anyString(), anyString())).thenCallRealMethod()</code> for each method but there are a lot of methods and that would mean a lot of extra lines of code. Is there a better way to achieve this?</p>\n"},{"tags":["java","apache-kafka","redis","quarkus","smallrye-reactive-messaging"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1660925312,"post_id":73411616,"comment_id":129656738,"body_markdown":"Well, the Kafka Consumer will need a heartbeat/commit timeout that is longer than then Redis timeout if you want to avoid Kafka errors. Otherwise, seems you need to debug your Redis connection","body":"Well, the Kafka Consumer will need a heartbeat/commit timeout that is longer than then Redis timeout if you want to avoid Kafka errors. Otherwise, seems you need to debug your Redis connection"},{"owner":{"account_id":15869361,"reputation":1,"user_id":11450534,"display_name":"hnh chu vn"},"score":0,"creation_date":1661165282,"post_id":73411616,"comment_id":129698716,"body_markdown":"@OneCricketeer Thanks for correcting my spelling and also my problem","body":"@OneCricketeer Thanks for correcting my spelling and also my problem"}],"owner":{"account_id":15869361,"reputation":1,"user_id":11450534,"display_name":"hnh chu vn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660925371,"creation_date":1660880379,"question_id":73411616,"body_markdown":"I&#39;m using kafka + redis in my project.\r\n\r\nI get message from Kafka, process and save to redis, but it is giving error like below when my code runs after some time my code\r\n\r\n```\r\n    io.smallrye.mutiny.TimeoutException\r\n    at io.smallrye.mutiny.operators.uni.UniBlockingAwait.await(UniBlockingAwait.java:64)\r\n    at io.smallrye.mutiny.groups.UniAwait.atMost(UniAwait.java:65)\r\n    at io.quarkus.redis.client.runtime.RedisClientImpl.await(RedisClientImpl.java:1046)\r\n    at io.quarkus.redis.client.runtime.RedisClientImpl.set(RedisClientImpl.java:687)\r\n    at worker.redis.process.implementation.ProductImplementation.refresh(ProductImplementation.java:34)\r\n    at worker.redis.Worker.refresh(Worker.java:51)\r\n    at \r\n kafka.InComingProductKafkaConsume.lambda$consume$0(InComingProductKafkaConsume.java:38)\r\n    at business.core.hpithead.ThreadStart.doRun(ThreadStart.java:34)\r\n    at business.core.hpithead.core.NotifyingThread.run(NotifyingThread.java:27)\r\n    at java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\n```\r\nThe record 51761 from topic-partition &#39;mer-outgoing-master-item-0&#39; has waited for 153 seconds to be acknowledged. This waiting time is greater than the configured threshold (150000 ms). At the moment 2 messages from this partition are awaiting acknowledgement. The last committed offset for this partition was 51760. This error is due to a potential issue in the application which does not acknowledged the records in a timely fashion. The connector cannot commit as a record processing has not completed.\r\n```\r\n\r\n```\r\n    @Incoming(&quot;mer_product&quot;)\r\n    @Blocking\r\n    public CompletionStage&lt;Void&gt; consume2(Message&lt;String&gt; payload) {\r\n      var objectDto = configThreadLocal.mapper.readValue(payload.getPayload(), new TypeReference&lt;KafkaPayload&lt;ItemKO&gt;&gt;(){});\r\n      worker.refresh(objectDto.payload.castDto());\r\n      return payload.ack();\r\n    }\r\n```\r\n","title":"io.smallrye.mutiny.TimeoutException when using kafka vs redis","body":"<p>I'm using kafka + redis in my project.</p>\n<p>I get message from Kafka, process and save to redis, but it is giving error like below when my code runs after some time my code</p>\n<pre><code>    io.smallrye.mutiny.TimeoutException\n    at io.smallrye.mutiny.operators.uni.UniBlockingAwait.await(UniBlockingAwait.java:64)\n    at io.smallrye.mutiny.groups.UniAwait.atMost(UniAwait.java:65)\n    at io.quarkus.redis.client.runtime.RedisClientImpl.await(RedisClientImpl.java:1046)\n    at io.quarkus.redis.client.runtime.RedisClientImpl.set(RedisClientImpl.java:687)\n    at worker.redis.process.implementation.ProductImplementation.refresh(ProductImplementation.java:34)\n    at worker.redis.Worker.refresh(Worker.java:51)\n    at \n kafka.InComingProductKafkaConsume.lambda$consume$0(InComingProductKafkaConsume.java:38)\n    at business.core.hpithead.ThreadStart.doRun(ThreadStart.java:34)\n    at business.core.hpithead.core.NotifyingThread.run(NotifyingThread.java:27)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<pre><code>The record 51761 from topic-partition 'mer-outgoing-master-item-0' has waited for 153 seconds to be acknowledged. This waiting time is greater than the configured threshold (150000 ms). At the moment 2 messages from this partition are awaiting acknowledgement. The last committed offset for this partition was 51760. This error is due to a potential issue in the application which does not acknowledged the records in a timely fashion. The connector cannot commit as a record processing has not completed.\n</code></pre>\n<pre><code>    @Incoming(&quot;mer_product&quot;)\n    @Blocking\n    public CompletionStage&lt;Void&gt; consume2(Message&lt;String&gt; payload) {\n      var objectDto = configThreadLocal.mapper.readValue(payload.getPayload(), new TypeReference&lt;KafkaPayload&lt;ItemKO&gt;&gt;(){});\n      worker.refresh(objectDto.payload.castDto());\n      return payload.ack();\n    }\n</code></pre>\n"},{"tags":["java","onesignal"],"answers":[{"tags":[],"owner":{"account_id":9795789,"reputation":513,"user_id":7258885,"display_name":"qleoz12"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660925189,"creation_date":1660924686,"answer_id":73419386,"question_id":73380016,"body_markdown":"Finally, I figure out i need to create a segment for uses tags and filters \r\nso for that I create a fork https://github.com/Qleoz12/onesignal-java-api from the original project https://github.com/OneSignal/onesignal-java-api im just add filters to [notification.java][1]\r\n\r\nand I check the java client now creates the body similar and works like postman as expected\r\n\r\n\r\n  [1]: https://github.com/OneSignal/onesignal-java-api/commit/9132fb276fba3c94225d9e6449442f9e7c57674e#diff-d81761eeee59ac59ec524937370f4a6fa923dfdee7fd05c32e5302467fda82be","title":"Onesignal Java Error sending tags on onesignal-java-api but works in Rest","body":"<p>Finally, I figure out i need to create a segment for uses tags and filters\nso for that I create a fork <a href=\"https://github.com/Qleoz12/onesignal-java-api\" rel=\"nofollow noreferrer\">https://github.com/Qleoz12/onesignal-java-api</a> from the original project <a href=\"https://github.com/OneSignal/onesignal-java-api\" rel=\"nofollow noreferrer\">https://github.com/OneSignal/onesignal-java-api</a> im just add filters to <a href=\"https://github.com/OneSignal/onesignal-java-api/commit/9132fb276fba3c94225d9e6449442f9e7c57674e#diff-d81761eeee59ac59ec524937370f4a6fa923dfdee7fd05c32e5302467fda82be\" rel=\"nofollow noreferrer\">notification.java</a></p>\n<p>and I check the java client now creates the body similar and works like postman as expected</p>\n"}],"owner":{"account_id":9795789,"reputation":513,"user_id":7258885,"display_name":"qleoz12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660925189,"creation_date":1660682016,"question_id":73380016,"body_markdown":"im trying to implement the consume of tags on my app  \r\n\r\nit works when i do from rest way like this from postman\r\n\r\nurl: https://onesignal.com/api/v1/notifications\r\n\r\n    {\r\n    &quot;app_id&quot;: &quot;XXXXXXXXXXXXXXXXXXXXXXXXX&quot;,\r\n    &quot;contents&quot;: {\r\n        &quot;en&quot;: &quot;Message&quot;,\r\n        &quot;es&quot;: &quot; Message&quot;\r\n    },\r\n    &quot;name&quot;: &quot;INTERNAL_CAMPAIGN_NAME&quot;,\r\n    &quot;filters&quot;: [\r\n        {&quot;field&quot;: &quot;tag&quot;, &quot;key&quot;: &quot;email&quot;, &quot;relation&quot;: &quot;=&quot;, &quot;value&quot;: &quot;AAAAA@AAAAA.com&quot;}\r\n    ],\r\n    &quot;channel_for_external_user_ids&quot;: &quot;push&quot;\r\n}\r\n\r\nbut when i try using java client from https://github.com/OneSignal/onesignal-java-api\r\n\r\n\r\n    HashMap&lt;String, String&gt; contents= new HashMap&lt;&gt;();\r\n    \tcontents.put(&quot;contents&quot;, &quot;this is the value of contents&quot;);\r\n    \tcontents.put(&quot;tags&quot;,&quot;{ key: \\&quot;email\\&quot;, relation: =, value: \\&quot;AAAAAA@AAAAA.com\\&quot; }&quot;);\r\n\r\n    Notification notification = new Notification();\r\n\tnotification.setAppId(APP_KEY);\r\n\tnotification.setIsChrome(true);\r\n\tnotification.setIsAnyWeb(true);\r\n\r\n\tStringMap contentStringMap = new StringMap();\r\n\tcontentStringMap.en(contents.get(&quot;contents&quot;));\r\n\tnotification.setContents(contentStringMap);\r\n\r\n\tnotification.setTag(contents.get(&quot;tags&quot;));\r\n\r\nit shows error like this \r\n\r\nHTTP response code: 400\r\nHTTP response body: {&quot;errors&quot;:[&quot;You must include which players, segments, or tags you wish to send this notification to.&quot;]}","title":"Onesignal Java Error sending tags on onesignal-java-api but works in Rest","body":"<p>im trying to implement the consume of tags on my app</p>\n<p>it works when i do from rest way like this from postman</p>\n<p>url: <a href=\"https://onesignal.com/api/v1/notifications\" rel=\"nofollow noreferrer\">https://onesignal.com/api/v1/notifications</a></p>\n<pre><code>{\n&quot;app_id&quot;: &quot;XXXXXXXXXXXXXXXXXXXXXXXXX&quot;,\n&quot;contents&quot;: {\n    &quot;en&quot;: &quot;Message&quot;,\n    &quot;es&quot;: &quot; Message&quot;\n},\n&quot;name&quot;: &quot;INTERNAL_CAMPAIGN_NAME&quot;,\n&quot;filters&quot;: [\n    {&quot;field&quot;: &quot;tag&quot;, &quot;key&quot;: &quot;email&quot;, &quot;relation&quot;: &quot;=&quot;, &quot;value&quot;: &quot;AAAAA@AAAAA.com&quot;}\n],\n&quot;channel_for_external_user_ids&quot;: &quot;push&quot;\n</code></pre>\n<p>}</p>\n<p>but when i try using java client from <a href=\"https://github.com/OneSignal/onesignal-java-api\" rel=\"nofollow noreferrer\">https://github.com/OneSignal/onesignal-java-api</a></p>\n<pre><code>HashMap&lt;String, String&gt; contents= new HashMap&lt;&gt;();\n    contents.put(&quot;contents&quot;, &quot;this is the value of contents&quot;);\n    contents.put(&quot;tags&quot;,&quot;{ key: \\&quot;email\\&quot;, relation: =, value: \\&quot;AAAAAA@AAAAA.com\\&quot; }&quot;);\n\nNotification notification = new Notification();\nnotification.setAppId(APP_KEY);\nnotification.setIsChrome(true);\nnotification.setIsAnyWeb(true);\n\nStringMap contentStringMap = new StringMap();\ncontentStringMap.en(contents.get(&quot;contents&quot;));\nnotification.setContents(contentStringMap);\n\nnotification.setTag(contents.get(&quot;tags&quot;));\n</code></pre>\n<p>it shows error like this</p>\n<p>HTTP response code: 400\nHTTP response body: {&quot;errors&quot;:[&quot;You must include which players, segments, or tags you wish to send this notification to.&quot;]}</p>\n"},{"tags":["java","maven","pom.xml","openapi-generator"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1660939233,"post_id":73419480,"comment_id":129660543,"body_markdown":"I just copied the dependencies section from the generated Pom.xml. Could probably be scripted.","body":"I just copied the dependencies section from the generated Pom.xml. Could probably be scripted."},{"owner":{"account_id":15149592,"reputation":81,"user_id":11232394,"display_name":"the_quail"},"score":0,"creation_date":1660986071,"post_id":73419480,"comment_id":129666639,"body_markdown":"@Thorbjorn That is what I am doing now as well :/ but it feels unclean. \nThe plugin generates a fully valid pom.xml only for devs to copy parts of it over (whether manually or by script)? I suspect there should be a cleaner solution","body":"@Thorbjorn That is what I am doing now as well :/ but it feels unclean.  The plugin generates a fully valid pom.xml only for devs to copy parts of it over (whether manually or by script)? I suspect there should be a cleaner solution"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1661151770,"post_id":73419480,"comment_id":129694498,"body_markdown":"The OpenAPI generator creates a full Maven module, but Maven does not work well with modules being generated on the fly, so instead it is put inside `target/` and the source folder registered as generated sources.  Works well, except for the dependencies :)  A reasonable way would probably be if the openapi generator project used Bill-of-Material poms for the generated code which you could then just include, but that would require an upstream change.   For now, you may consider creating such a BOM in your project and compare XML to ensure that your dependency list is identical.","body":"The OpenAPI generator creates a full Maven module, but Maven does not work well with modules being generated on the fly, so instead it is put inside <code>target&#47;</code> and the source folder registered as generated sources.  Works well, except for the dependencies :)  A reasonable way would probably be if the openapi generator project used Bill-of-Material poms for the generated code which you could then just include, but that would require an upstream change.   For now, you may consider creating such a BOM in your project and compare XML to ensure that your dependency list is identical."},{"owner":{"account_id":15149592,"reputation":81,"user_id":11232394,"display_name":"the_quail"},"score":0,"creation_date":1661421115,"post_id":73419480,"comment_id":129770481,"body_markdown":"@Thorbjorn Thank you for the answer! Well, that is unfortunate... If chance and time arise, I will look into Gradle and see if that can satisfy my requirement. Until then it &quot;copy paste&quot; it is.","body":"@Thorbjorn Thank you for the answer! Well, that is unfortunate... If chance and time arise, I will look into Gradle and see if that can satisfy my requirement. Until then it &quot;copy paste&quot; it is."}],"owner":{"account_id":15149592,"reputation":81,"user_id":11232394,"display_name":"the_quail"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1128,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1660925178,"creation_date":1660925178,"question_id":73419480,"body_markdown":"Suppose I have a project, where I generate the Api, Model and pom.xml from an openapi spec with openapi-generator plugin in the pom.xml. Handily this plugin generates the pom.xml with all the necessary dependencies. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n**Question**: how do I import the generated pom into my parent pom? (without installing my generated pom into a local repository?). \r\n\r\nI have seen solutions such as copying those dependencies into the parent pom, which feels hacky.\r\n\r\nThere seems to be a similar [question](https://stackoverflow.com/questions/65576818/how-to-deal-with-dependencies-of-generated-sources-in-maven) on stackoverflow. But the answer is not very clear...\r\n\r\nI have tried importing the generated pom.xml via dependency management, but maven complains, that it cannot find the generated pom in the local repo.\r\nParent pom.xml:\r\n\r\n```\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;generated_pom&lt;/artifactId&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;version&gt;1.0.6&lt;/version&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n```\r\n\r\nAlso: I know about the multi module approach, which requires me to setup a super pom.xml with packaging pom. This end up in three poms: generated, parent and super pom.xml. I would like to avoid that.\r\n\r\n\r\nMy Current pom.xml\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;org.acme&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;app&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;app&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;!-- RELEASE_VERSION --&gt;\r\n\t\t\t\t&lt;version&gt;5.4.0&lt;/version&gt;\r\n\r\n\t\t\t\t&lt;!-- /RELEASE_VERSION --&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;inputSpec&gt;${project.basedir}/src/main/resources/api/petstore.json&lt;/inputSpec&gt;\r\n\t\t\t\t\t\t\t&lt;generatorName&gt;java&lt;/generatorName&gt;\r\n\t\t\t\t\t\t\t&lt;configOptions&gt;\r\n\t\t\t\t\t\t\t\t&lt;sourceFolder&gt;src/java/main&lt;/sourceFolder&gt;\r\n\t\t\t\t\t\t\t\t&lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n\t\t\t\t\t\t\t\t&lt;library&gt;resteasy&lt;/library&gt;\r\n\t\t\t\t\t\t\t\t&lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;petstore&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;/configOptions&gt;\r\n\t\t\t\t\t\t\t&lt;output&gt;${project.build.directory}/generated-sources&lt;/output&gt;\r\n\t\t\t\t\t\t\t&lt;generateApis&gt;true&lt;/generateApis&gt;\r\n\t\t\t\t\t\t\t&lt;generateModels&gt;true&lt;/generateModels&gt;\r\n\t\t\t\t\t\t\t&lt;generateSupportingFiles&gt;true&lt;/generateSupportingFiles&gt;\r\n\t\t\t\t\t\t\t&lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n\t\t\t\t\t\t\t&lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n\t\t\t\t\t\t\t&lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\r\n\t\t\t\t\t\t\t&lt;modelPackage&gt;${project.groupId}.petstore.dto&lt;/modelPackage&gt;\r\n\t\t\t\t\t\t\t&lt;apiPackage&gt;${project.groupId}.petstore.api&lt;/apiPackage&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MKIhe.png","title":"Openapi generator: how to import generated pom.xml","body":"<p>Suppose I have a project, where I generate the Api, Model and pom.xml from an openapi spec with openapi-generator plugin in the pom.xml. Handily this plugin generates the pom.xml with all the necessary dependencies.</p>\n<p><a href=\"https://i.stack.imgur.com/MKIhe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MKIhe.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Question</strong>: how do I import the generated pom into my parent pom? (without installing my generated pom into a local repository?).</p>\n<p>I have seen solutions such as copying those dependencies into the parent pom, which feels hacky.</p>\n<p>There seems to be a similar <a href=\"https://stackoverflow.com/questions/65576818/how-to-deal-with-dependencies-of-generated-sources-in-maven\">question</a> on stackoverflow. But the answer is not very clear...</p>\n<p>I have tried importing the generated pom.xml via dependency management, but maven complains, that it cannot find the generated pom in the local repo.\nParent pom.xml:</p>\n<pre><code>    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                &lt;artifactId&gt;generated_pom&lt;/artifactId&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;version&gt;1.0.6&lt;/version&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre>\n<p>Also: I know about the multi module approach, which requires me to setup a super pom.xml with packaging pom. This end up in three poms: generated, parent and super pom.xml. I would like to avoid that.</p>\n<p>My Current pom.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;org.acme&lt;/groupId&gt;\n    &lt;artifactId&gt;app&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;app&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;!-- RELEASE_VERSION --&gt;\n                &lt;version&gt;5.4.0&lt;/version&gt;\n\n                &lt;!-- /RELEASE_VERSION --&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;${project.basedir}/src/main/resources/api/petstore.json&lt;/inputSpec&gt;\n                            &lt;generatorName&gt;java&lt;/generatorName&gt;\n                            &lt;configOptions&gt;\n                                &lt;sourceFolder&gt;src/java/main&lt;/sourceFolder&gt;\n                                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                                &lt;library&gt;resteasy&lt;/library&gt;\n                                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                                &lt;artifactId&gt;petstore&lt;/artifactId&gt;\n                            &lt;/configOptions&gt;\n                            &lt;output&gt;${project.build.directory}/generated-sources&lt;/output&gt;\n                            &lt;generateApis&gt;true&lt;/generateApis&gt;\n                            &lt;generateModels&gt;true&lt;/generateModels&gt;\n                            &lt;generateSupportingFiles&gt;true&lt;/generateSupportingFiles&gt;\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                            &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n                            &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\n                            &lt;modelPackage&gt;${project.groupId}.petstore.dto&lt;/modelPackage&gt;\n                            &lt;apiPackage&gt;${project.groupId}.petstore.api&lt;/apiPackage&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","eclipse","web-services"],"comments":[{"owner":{"account_id":4395865,"reputation":3942,"user_id":3582950,"display_name":"Lesmian"},"score":1,"creation_date":1465479123,"post_id":37726342,"comment_id":62926248,"body_markdown":"Include sample code which generates mentioned errors.","body":"Include sample code which generates mentioned errors."}],"answers":[{"tags":[],"owner":{"account_id":8563827,"reputation":334,"user_id":6417006,"display_name":"Mr. DROP TABLE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465485465,"creation_date":1465485465,"answer_id":37729996,"question_id":37726342,"body_markdown":"This tends to happen when the configured EJB pool is exhausted. This means that all EJBs are currently being used. You probably have invocations within your EJBs that are taking a long time to run. In your case, 5 minutes or longer. Hope this helped!","title":"java.util.MissingResourceException :Can&#39;t find resource for bundle java.util.PropertyResourceBundle","body":"<p>This tends to happen when the configured EJB pool is exhausted. This means that all EJBs are currently being used. You probably have invocations within your EJBs that are taking a long time to run. In your case, 5 minutes or longer. Hope this helped!</p>\n"}],"owner":{"account_id":8599653,"reputation":125,"user_id":6441668,"display_name":"rishabh keshari 1992"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660925145,"creation_date":1465476190,"question_id":37726342,"body_markdown":"Initially,I make a request and received this error - \r\n\r\n&gt; java.net.SocketTimeoutException:Read timed out.\r\n\r\nAfter some time again,I submit the request,and I got -\r\n\r\n&gt; java.util.MissingResourceException: Can&#39;t find resource for bundle \r\n&gt; \r\n&gt; java.util.PropertyResourceBundle, key JBAS014516: Failed to acquire a\r\n&gt; permit \r\n&gt; \r\n\r\nwithin 5 MINUTES.\r\n\r\nCan anyone help me with this?","title":"java.util.MissingResourceException :Can&#39;t find resource for bundle java.util.PropertyResourceBundle","body":"<p>Initially,I make a request and received this error - </p>\n\n<blockquote>\n  <p>java.net.SocketTimeoutException:Read timed out.</p>\n</blockquote>\n\n<p>After some time again,I submit the request,and I got -</p>\n\n<blockquote>\n  <p>java.util.MissingResourceException: Can't find resource for bundle </p>\n  \n  <p>java.util.PropertyResourceBundle, key JBAS014516: Failed to acquire a\n  permit </p>\n</blockquote>\n\n<p>within 5 MINUTES.</p>\n\n<p>Can anyone help me with this?</p>\n"},{"tags":["java","comparator"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":1,"creation_date":1660922297,"post_id":73418770,"comment_id":129655707,"body_markdown":"Before you ask us, you should write some tests and see your code in action. You don&#39;t need us to check if your code works or not.","body":"Before you ask us, you should write some tests and see your code in action. You don&#39;t need us to check if your code works or not."},{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":0,"creation_date":1660922325,"post_id":73418770,"comment_id":129655715,"body_markdown":"Just return any negative value. `-1` is ok. But you also need to consider the case when `secondRec` is `&quot;pk&quot;`","body":"Just return any negative value. <code>-1</code> is ok. But you also need to consider the case when <code>secondRec</code> is <code>&quot;pk&quot;</code>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1660923179,"post_id":73418770,"comment_id":129656052,"body_markdown":"Don&#39;t compare strings with `==`, use `.equals`.","body":"Don&#39;t compare strings with <code>==</code>, use <code>.equals</code>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1660923221,"post_id":73418770,"comment_id":129656070,"body_markdown":"The thing which is wrong here is that you also need to return a positive value if `secondField.name()` is `pk` as well; and return zero if _both_ equal `pk`.","body":"The thing which is wrong here is that you also need to return a positive value if <code>secondField.name()</code> is <code>pk</code> as well; and return zero if <i>both</i> equal <code>pk</code>."},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1660923714,"post_id":73418770,"comment_id":129656237,"body_markdown":"See: [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"See: <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660924419,"creation_date":1660923689,"answer_id":73419206,"question_id":73418770,"body_markdown":"The requirements of a `Comparator` (and, by extension, methods which are supposed to act like `Comparator.compare`) are [described in the Javadoc](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html#compare(T,T)):\r\n\r\n&gt; The implementor must ensure that `sgn(compare(x, y)) == -sgn(compare(y, x))` for all `x` and `y`. (This implies that `compare(x, y)` must throw an exception if and only if `compare(y, x)` throws an exception.)\r\n&gt;\r\n&gt; The implementor must also ensure that the relation is transitive: `((compare(x, y)&gt;0) &amp;&amp; (compare(y, z)&gt;0))` implies `compare(x, z)&gt;0`.\r\n&gt;\r\n&gt; Finally, the implementor must ensure that `compare(x, y)==0` implies that `sgn(compare(x, z))==sgn(compare(y, z))` for all `z`.\r\n\r\nAssuming `StringUtils.compareStrings` correctly implements these requirements, the thing you&#39;ve got wrong is the first requirement: you also need to consider the cases when `secondField` is also `pk`:\r\n\r\nThe general pattern for writing correct `Comparator`s is:\r\n\r\n```\r\nint firstComparison = /* compare something about firstField and secondField */;\r\nif (firstComparison != 0) {\r\n  return firstComparison;\r\n}\r\n\r\nint secondComparison = /* compare something else about firstField and secondField */;\r\nif (secondComparison != 0) {\r\n  return secondComparison;\r\n}\r\n\r\n// ...\r\n\r\nreturn 0;\r\n```\r\n\r\nApplying that here:\r\n\r\n```\r\nint pkComparison = Boolean.compare(secondField.name().equals(&quot;pk&quot;), firstField.name().equals(&quot;pk&quot;));\r\nif (pkComparison != 0) {\r\n  return pkComparison;\r\n}\r\n\r\nint compareStringsComparison = StringUtils.compareStrings(firstField.name().toLowerCase(), secondField.name().toLowerCase());\r\nif (compareStringsComparison != 0) {\r\n  return compareStringsComparison;\r\n}\r\n\r\nreturn 0;\r\n```\r\n\r\nObviously, the last if statement is redundant, because you always return `compareStringsComparison` whether or not it is zero; so you could write simply:\r\n\r\n```\r\nreturn StringUtils.compareStrings(firstField.name().toLowerCase(), secondField.name().toLowerCase());\r\n```\r\n\r\nI would recommend sticking to the `compare/check and return/finally return 0` pattern, because it&#39;s easier to slot in additional conditions later. But it&#39;s not terrible either way.","title":"Custom Java Comparator With Pre Defined Top Result","body":"<p>The requirements of a <code>Comparator</code> (and, by extension, methods which are supposed to act like <code>Comparator.compare</code>) are <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html#compare(T,T)\" rel=\"nofollow noreferrer\">described in the Javadoc</a>:</p>\n<blockquote>\n<p>The implementor must ensure that <code>sgn(compare(x, y)) == -sgn(compare(y, x))</code> for all <code>x</code> and <code>y</code>. (This implies that <code>compare(x, y)</code> must throw an exception if and only if <code>compare(y, x)</code> throws an exception.)</p>\n<p>The implementor must also ensure that the relation is transitive: <code>((compare(x, y)&gt;0) &amp;&amp; (compare(y, z)&gt;0))</code> implies <code>compare(x, z)&gt;0</code>.</p>\n<p>Finally, the implementor must ensure that <code>compare(x, y)==0</code> implies that <code>sgn(compare(x, z))==sgn(compare(y, z))</code> for all <code>z</code>.</p>\n</blockquote>\n<p>Assuming <code>StringUtils.compareStrings</code> correctly implements these requirements, the thing you've got wrong is the first requirement: you also need to consider the cases when <code>secondField</code> is also <code>pk</code>:</p>\n<p>The general pattern for writing correct <code>Comparator</code>s is:</p>\n<pre><code>int firstComparison = /* compare something about firstField and secondField */;\nif (firstComparison != 0) {\n  return firstComparison;\n}\n\nint secondComparison = /* compare something else about firstField and secondField */;\nif (secondComparison != 0) {\n  return secondComparison;\n}\n\n// ...\n\nreturn 0;\n</code></pre>\n<p>Applying that here:</p>\n<pre><code>int pkComparison = Boolean.compare(secondField.name().equals(&quot;pk&quot;), firstField.name().equals(&quot;pk&quot;));\nif (pkComparison != 0) {\n  return pkComparison;\n}\n\nint compareStringsComparison = StringUtils.compareStrings(firstField.name().toLowerCase(), secondField.name().toLowerCase());\nif (compareStringsComparison != 0) {\n  return compareStringsComparison;\n}\n\nreturn 0;\n</code></pre>\n<p>Obviously, the last if statement is redundant, because you always return <code>compareStringsComparison</code> whether or not it is zero; so you could write simply:</p>\n<pre><code>return StringUtils.compareStrings(firstField.name().toLowerCase(), secondField.name().toLowerCase());\n</code></pre>\n<p>I would recommend sticking to the <code>compare/check and return/finally return 0</code> pattern, because it's easier to slot in additional conditions later. But it's not terrible either way.</p>\n"},{"tags":[],"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660924919,"creation_date":1660924919,"answer_id":73419430,"question_id":73418770,"body_markdown":"The new static methods of class Comparator available since Java 8 are very handy to create a multi-criteria Comparator like in your case.\r\n\r\nYou could try something like this:\r\n\r\n\r\n    List&lt;String&gt; list = ... ;\r\n    list.sort(\r\n      Comparator.comparingBoolean(&quot;PK&quot;::equals)\r\n      .thenComparing(StringUtils::compare)\r\n    );\r\n\r\nYou may need to use `.reversed()` in case the order is the opposite of what you want.\r\n\r\nThe great advantage of Comparator.comparing / Comparator.comparingXXX is that you don&#39;t need to twist your mind to get the correct behavior when to return a positive, negative or 0 value.\r\n\r\nThe Comparator.thenComparing dos proper chaining, i.e. it checks further criterias only when  needed, only when previous comparisons returned 0.\r\n\r\nIf your list may contain null values, there are also methods to handle them properly. This isn&#39;t the case in this short example.\r\n\r\n","title":"Custom Java Comparator With Pre Defined Top Result","body":"<p>The new static methods of class Comparator available since Java 8 are very handy to create a multi-criteria Comparator like in your case.</p>\n<p>You could try something like this:</p>\n<pre><code>List&lt;String&gt; list = ... ;\nlist.sort(\n  Comparator.comparingBoolean(&quot;PK&quot;::equals)\n  .thenComparing(StringUtils::compare)\n);\n</code></pre>\n<p>You may need to use <code>.reversed()</code> in case the order is the opposite of what you want.</p>\n<p>The great advantage of Comparator.comparing / Comparator.comparingXXX is that you don't need to twist your mind to get the correct behavior when to return a positive, negative or 0 value.</p>\n<p>The Comparator.thenComparing dos proper chaining, i.e. it checks further criterias only when  needed, only when previous comparisons returned 0.</p>\n<p>If your list may contain null values, there are also methods to handle them properly. This isn't the case in this short example.</p>\n"}],"owner":{"account_id":6158838,"reputation":61,"user_id":4801058,"accept_rate":40,"display_name":"Jonny"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1692710680,"answer_count":2,"score":-2,"last_activity_date":1660924919,"creation_date":1660921542,"question_id":73418770,"body_markdown":"I want to sort a list of field names alphabetically however I need to include a condition in the doCompare method of the comparator so that if the field name is &quot;pk&quot; that will always be sorted to the top of the list. What I have is below but I&#39;m not sure if I&#39;m taking the right approach, particualrly with the reurn value of -1000. Any advice on this would be much appreciated.\r\n```\r\n    @Override\r\n    public int doCompare(Object firstRec, Object secondRec)\r\n    {\r\n        MyField firstField = (MyField) firstRec;\r\n        MyField secondField = (MyField ) secondRec;\r\n        if(firstField.name() == &quot;pk&quot;)\r\n        {\r\n            return -1000;\r\n        }\r\n\r\n        return StringUtils.compareStrings(firstField.name().toLowerCase(), secondField.name().toLowerCase());\r\n     }\r\n```\r\n\r\n","title":"Custom Java Comparator With Pre Defined Top Result","body":"<p>I want to sort a list of field names alphabetically however I need to include a condition in the doCompare method of the comparator so that if the field name is &quot;pk&quot; that will always be sorted to the top of the list. What I have is below but I'm not sure if I'm taking the right approach, particualrly with the reurn value of -1000. Any advice on this would be much appreciated.</p>\n<pre><code>    @Override\n    public int doCompare(Object firstRec, Object secondRec)\n    {\n        MyField firstField = (MyField) firstRec;\n        MyField secondField = (MyField ) secondRec;\n        if(firstField.name() == &quot;pk&quot;)\n        {\n            return -1000;\n        }\n\n        return StringUtils.compareStrings(firstField.name().toLowerCase(), secondField.name().toLowerCase());\n     }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8894,"page":1098,"page_size":100}
